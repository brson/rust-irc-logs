[00:03:25] *** Quits: ash_ (ash@15DEC023.DFC68827.9C33A531.IP) (Ping timeout)
[00:03:25] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[00:03:48] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[00:07:17] *** Quits: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net) (Ping timeout)
[00:07:56] <mark_edward> rusti: fn foo<T: 'static>(x: T) -> @~@T { @~@x } foo(1u)
[00:07:57] -rusti- @~@1u
[00:08:28] <mark_edward> dbaupp, thanks for the local rusti script
[00:08:46] <mark_edward> i like that @~@T is a valid type sig
[00:09:25] <o11c> and people call C++ bad ...
[00:09:53] <o11c> (that reminds me, I really need to turn int some assignment that uses digraphs ...)
[00:10:07] *** Quits: tav (tav@moz-9D761D7C.range31-52.btcentralplus.com) (Quit: tav)
[00:10:30] *** Joins: tav (tav@moz-9D761D7C.range31-52.btcentralplus.com)
[00:10:37] <ezyang> Hmm, I wonder if what I want is a write only pointer 
[00:11:23] *** Joins: Ferreus (ferreus@moz-53AC130.pools.arcor-ip.net)
[00:12:15] *** Joins: ash_ (ash@15DEC023.DFC68827.9C33A531.IP)
[00:13:38] <carter> hey all: are there any examples of using phantom types or the like in rust I could stare are?
[00:14:14] <carter> By which I mean a type who's parameter is unused.
[00:14:35] <carter> (in the middleof installing the compiler locally so i can't quite test for myself yet)
[00:14:51] <cmr> There was a post to the ML I think.
[00:15:05] <carter> ok
[00:15:08] <carter> i'll gogole
[00:15:36] <FreeFull> What's bad about @~@?
[00:15:48] <FreeFull> Other than that @ is being phased out
[00:15:51] <ezyang> "too much indirection" 
[00:15:59] <FreeFull> And that
[00:16:13] <carter> a bit of context: i'm going to be releasing a pretty neat multi dimensional array lib in haskell soon, and i realized recently that rust may have just enough nice type stuff that I could try to write a similar lib for rust now that the design is figured out
[00:16:16] <FreeFull> There is only too much indirection because that much indirection was put in there
[00:17:21] <carter> cmr: is there suppport for higher kinded type args too?
[00:17:22] <cmr> carter: http://bluishcoder.co.nz/2013/08/15/phantom_types_in_rust.html and http://pcwalton.github.io/blog/2012/12/26/typestate-is-dead/ are the ones I know of.
[00:17:25] <cmr> carter: no.
[00:17:29] <carter> ok
[00:17:30] <cmr> carter: HKT are forthcoming.
[00:17:34] <carter> cool
[00:17:50] <carter> cmr: yeah, i can't do the full nice api for higher dim arrays without HKT a
[00:18:39] <carter> and somehting like being able to have  the sort of "if theres this trait instance, you can build this larger instance too"
[00:18:52] <FreeFull> Eventually Rust will be an imperative Haskell
[00:19:16] <carter> well, haskell is the imperative haskell
[00:19:19] <carter> :p
[00:19:21] <carter> but yeah
[00:19:25] <carter> they're complementatry languages
[00:19:51] <carter> question: is there some sort of way to do extern "C" style stuff for calling rust from anotehr language?
[00:20:05] <FreeFull> You can call Haskell from another language
[00:20:06] <benh> yeah, it's extern "C"
[00:20:13] <FreeFull> I don't see why you wouldn't be able to call Rust
[00:20:26] *** Joins: ofeldt (ofeldt@moz-7F23E0EE.dip0.t-ipconnect.de)
[00:20:32] <carter> well, in the case of haskell you ahve to turn on the RTS each time
[00:20:48] <carter> unelss its haskell calling into c calling back into haskell
[00:20:49] <carter> anyways
[00:20:51] <carter> benh: thanks
[00:20:54] <benh> Rust's runtime isn't that vital, and anyway you can disable it / not link against it
[00:21:09] <carter> yeah
[00:21:12] <carter> ive read that much
[00:21:13] <FreeFull> Rust should be easier
[00:21:16] <carter> though i'm still largely ignorant
[00:21:20] <benh> there's a somewhat outdated blog post at http://brson.github.io/2013/03/10/embedding-rust-in-ruby/
[00:21:27] *** Quits: ofeldt- (ofeldt@moz-A9DE3D98.dip0.t-ipconnect.de) (Ping timeout)
[00:21:28] <carter> the lack of a required gc helps
[00:21:33] <carter> benh: thanks
[00:21:46] *** Quits: ash_ (ash@15DEC023.DFC68827.9C33A531.IP) (Ping timeout)
[00:21:50] <carter> ok for my next question: whats the type of the [a,b,c,d] etc tuples?
[00:21:55] <carter> are those just sized vectors?
[00:22:00] <benh> [] are sized vectors
[00:22:05] <benh> (a,b,c,d) are tuples
[00:22:08] <carter> ok
[00:22:16] <carter> which do people use for indexing into arrays?
[00:22:21] <FreeFull> Can rusti tell you the types of things?
[00:22:25] *** Quits: synackse (synackse__@7DAC4ACE.77F880E0.D9401097.IP) (Ping timeout)
[00:22:37] <carter> benh: ok
[00:22:47] <benh> hm? vecs get indexed by uints, you can't index into tuples
[00:23:01] <benh> i don't think we have fancy support for multi-dimensional arrays with tuple indices
[00:23:14] <carter> let me clarify: i'm evaluating proting my multidimensional array lib api to rust
[00:23:14] <carter> :)
[00:23:38] <FreeFull> You could use a tuple trait to index into tuples
[00:23:49] <carter> yeah, i'm fine with that
[00:23:57] <benh> I'm not 100% certain how the overloading magic works
[00:24:31] <carter> eg, i could have a matrix h
[00:24:33] <benh> https://github.com/mozilla/rust/blob/master/src/libstd/ops.rs#L435 looks fairly generic at least
[00:24:43] <carter> and i'd want to index into it with  row i and column j
[00:24:48] <benh> (but what's our 'indexassign' story right now?)
[00:24:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[00:25:15] <carter> huh?
[00:25:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:25:16] <carter> g2g
[00:25:19] *** Joins: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[00:25:21] <carter> but i'll be back with more questions later
[00:25:42] <benh> hope you'll get better answers, sorry, I don't really know a lot about this :)
[00:25:47] <carter> soke
[00:25:58] *** Quits: hjr3 (hradtke@moz-842BF853.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:26:00] <carter> i'm kinda also doing stuff that i should write and publish wrt array lib design
[00:26:16] <carter> sooo, i fully expect any questions to 50% of the time be like "no one knows yet"
[00:26:29] <carter> or hit weird issues with any langs i'm building the tooling in
[00:26:30] <SiegeLord> Does your lib have views, carter?
[00:26:44] *** Quits: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:26:47] <carter> i ahve that design piece sorted out yes
[00:26:56] <carter> you mean multi dimensional slices of a larger array?
[00:26:59] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[00:27:02] <SiegeLord> Yes
[00:27:13] <carter> i have a decent story for that
[00:27:22] <carter> any lib that odesn't have that I can't take seriously for numerical work
[00:27:24] <carter> :)
[00:27:44] <SiegeLord> Me too... heh
[00:27:49] <SiegeLord> It's feature #1
[00:28:01] <carter> SiegeLord: also i have a nice way of making memory locality easier to understand
[00:28:34] <carter> i think some bits will be a bit cludgey in rust until HKT stuff laands, but should be sane
[00:28:44] <carter> i have no interest in trying to make it work sanely in c++ or scala
[00:29:00] <carter> haskell, or idris or rust, i'm willing to do
[00:29:00] *** Quits: brson_ (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:29:04] <carter> hehe
[00:29:20] <carter> anywayyy
[00:29:32] <carter> SiegeLord: a key bit of my design is supporting more intersting composite array layouts
[00:29:44] <carter> which won't be nicely possible for rust till HKT
[00:29:47] <carter> but the basic stuff should be doable I think
[00:29:53] <cmr> carter: good luck!
[00:29:56] <carter> cmr: thanks
[00:30:11] <carter> i will pester on this + the mailibng list + issue tracker when i have questions
[00:30:22] <carter> do you guy's have a shuffle intrinsic yet for simd btw?
[00:30:29] <cmr> shuffle? doubt it.
[00:30:44] <carter> cmr: good, easy to implement that wrong
[00:30:57] <cmr> see unstable/simd.rs for our simd support
[00:31:02] <cmr> err... wait.
[00:31:07] <cmr> where did the intrinsics go!
[00:31:29] <carter> hehe
[00:31:45] <carter> cmr i have to actually finishing wirting up a type system extension proposal for ghc before i can add SIMD support nicely to ghc
[00:31:45] <cmr> I think we just emit the simd types and llvm does what it thinks is right.
[00:31:47] <benh> they're still there, aren't they?
[00:31:56] <benh> hm
[00:31:56] <cmr> benh: I don't think they are.
[00:31:59] <benh> right
[00:31:59] <carter> so you only have pointwise simd currently at best
[00:32:14] <carter> benh: cmr  theres a static data requirement for certain simd operations to be compilable
[00:32:26] <benh> all that simd stuff is magic to me anyway
[00:32:37] <carter> so i need to add such support to ghc so i can add support for shuffles thats type safe
[00:32:54] <carter> i'd be happy to try to explain it to you guys or whomever sometime
[00:33:15] <carter> ok, i need to go get dinner
[00:33:25] <carter> butt, feel free to ask me what i mean and i"ll try to answer when I get back
[00:33:27] *** Joins: brson (brson@C0559334.C30B3942.8DDCAE07.IP)
[00:33:27] *** ChanServ sets mode: +ao brson brson
[00:34:06] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[00:34:13] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[00:34:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[00:36:01] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[00:36:51] *** Joins: peterdn_ (chatzilla@moz-C490E6B8.eduroam.oxuni.org.uk)
[00:37:12] *** Quits: peterdn (chatzilla@moz-5EB9CC81.as13285.net) (Ping timeout)
[00:37:19] *** peterdn_ is now known as peterdn
[00:38:14] *** Joins: doctor (ARealName@F76994EA.9F7EC348.67659D25.IP)
[00:38:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:38:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[00:38:31] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:45:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[00:46:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:46:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:46:50] *** Joins: ash_ (ash@15DEC023.DFC68827.9C33A531.IP)
[00:47:47] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[00:51:12] <bascule> how do I shot regular expressions?
[00:51:52] <FreeFull> Shot?
[00:52:14] *** Quits: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com) (Input/output error)
[00:52:56] *** Quits: ash_ (ash@15DEC023.DFC68827.9C33A531.IP) (Ping timeout)
[00:55:27] *** Quits: jstevans (Instantbir@moz-4AAFD56B.bootp.virginia.edu) (Ping timeout)
[00:55:35] <telotortium> Do you mean "use regular expressions"?
[00:56:21] *** Joins: ash_ (ash@15DEC023.DFC68827.9C33A531.IP)
[00:57:39] <docbrown> Maybe it's a reference to this: http://knowyourmeme.com/memes/how-do-i-shot-web
[00:58:10] <telotortium> Seems right
[00:58:55] <telotortium> bascule: Anyway, there's no regular expression library included with Rust at the moment.
[00:59:15] <telotortium> Here's a big list of Rust libraries: https://github.com/mozilla/rust/wiki/Note-wanted-libraries
[00:59:44] *** Quits: alan_andrade (alan_andra@moz-F038A26E.hfc.comcastbusiness.net) (Client exited)
[00:59:55] *** Joins: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com)
[01:00:22] <telotortium> Of them, https://github.com/cadencemarseille/rust-pcre (which wraps PCRE) looks the most maintained, but you'll have to compile it yourself (and possibly set up rustpkg).
[01:01:35] <telotortium> Here's a Wiki post from May with a proposal on how Rust will integrate regex support into its standard library (maybe extra?) in the future: https://github.com/mozilla/rust/wiki/Lib-re
[01:02:04] <bascule> aah
[01:02:06] <bascule> thanks
[01:02:52] *** Joins: osa1__ (omer@moz-8FDAB45C.hsd1.il.comcast.net)
[01:02:52] *** Quits: osa1_ (omer@moz-8FDAB45C.hsd1.il.comcast.net) (Connection reset by peer)
[01:05:21] *** Quits: ash_ (ash@15DEC023.DFC68827.9C33A531.IP) (Ping timeout)
[01:07:06] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Ping timeout)
[01:09:18] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[01:10:26] <FreeFull> You could probably make bindings to some C regex library
[01:10:40] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[01:11:22] *** Joins: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP)
[01:11:30] <carter> bascule: oh hey
[01:13:22] *** Joins: headcrash (Mibbit@moz-3652E738.pools.spcsdns.net)
[01:13:46] <headcrash> anyone know anything about TcpStreams?
[01:14:11] <bascule> carter: sup
[01:14:35] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:15:08] *** Quits: nkoep (nik@moz-12C93D86.vpn.rwth-aachen.de) (Client exited)
[01:15:54] *** Joins: ash_ (ash@15DEC023.DFC68827.9C33A531.IP)
[01:16:07] *** jorendorff_away is now known as jorendorff
[01:16:26] <headcrash> I'm trying to write a simple irc bot in rust but I can't seem to read anything from the socket I've opened to the server :/
[01:17:16] *** Quits: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com) (Connection reset by peer)
[01:17:51] *** Joins: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com)
[01:18:30] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[01:18:50] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[01:18:50] *** Joins: jstevans (Instantbir@2EEF7823.589CEA99.B7830B68.IP)
[01:20:34] *** Joins: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:21:01] *** Quits: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com) (Input/output error)
[01:21:27] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[01:22:03] *** jorendorff is now known as jorendorff_away
[01:23:00] <boredomist> headcrash: have a link to your code?
[01:25:14] <headcrash> no, how do i make a gist?
[01:25:30] <boredomist> if you have a github account, go to gist.github.com and paste your code there
[01:26:08] <boredomist> if not there are a ton of different pastebins available
[01:26:12] <boredomist> https://dpaste.de/ has rust highlighting
[01:26:42] <headcrash> https://gist.github.com/kzzch/7852263
[01:27:28] *** Quits: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP) (Quit: zzz)
[01:28:36] <boredomist> so your buf vector has a size of zero, and BufferedStream::read reads up to the size of the buffer given
[01:28:49] <headcrash> XD
[01:28:51] <boredomist> so you could give your buffer a predefined size if you want
[01:28:53] *** Joins: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP)
[01:29:18] <boredomist> BufferedStream has a next_line() function, which might be useful depending on what you want to do
[01:29:32] <boredomist> sorry, read_line, not next_line
[01:29:44] <headcrash> right this minute i just want to get some text from ircd when it connects
[01:30:20] <headcrash> my first milestone is to get the bot to connect to the server and idle in a channel
[01:30:32] <boredomist> irc is always newline delimited iirc
[01:30:39] <boredomist> so you should probably read line by line from the stream
[01:30:46] *** Quits: tav (tav@moz-9D761D7C.range31-52.btcentralplus.com) (Quit: tav)
[01:31:16] <headcrash> i could have sworn i tried read_line and it said something about it not being in scope
[01:31:18] <sp3d> IRC is limited to 512B per message (including \r\n)
[01:31:58] <boredomist> headcrash: which version of rust are you using?
[01:32:05] <headcrash> .8
[01:32:14] *** Quits: peterdn (chatzilla@moz-C490E6B8.eduroam.oxuni.org.uk) (Ping timeout)
[01:32:55] <boredomist> ah, things have moved around a lot since then
[01:33:33] <headcrash> Yeah, I can't really update unless I go to the library, I have a really slow connection through my phone :(
[01:33:46] *** zz_kimundi is now known as kimundi
[01:34:36] <mark_edward> oh wow extra::enum_set looks super useful for C interop
[01:35:09] <carter> wait, .8 is old enough that HEAD would be better to use?
[01:35:18] <boredomist> headcrash: i guess you could wrap BufferedStream with your own struct to provide line by line reading
[01:35:27] <cmr> carter: yes.
[01:35:30] <headcrash> how do I set the size of the buffer? I haven't seen anything about that in the docs anywhere
[01:35:37] <boredomist> maybe there's another way to do it in .8, i'm not really familiar with it
[01:35:37] <cmr> carter: master is always better to use.
[01:35:45] <carter> not allways in every lang
[01:35:46] <carter> but fair
[01:35:52] <cmr> well I mean in rust
[01:35:53] <mark_edward> headcrash, vec::with_capacity
[01:35:56] <tautologico> in rustland stable versions more than a week old are too old :)
[01:35:58] <cmr> I don't care about the other langs :p
[01:36:16] <carter> what the changes between them?
[01:36:18] <cmr> mark_edward: that isn't what that does.
[01:36:40] <mark_edward> cmr, oh right
[01:37:02] <mark_edward> vec::from_elem(0u8, BUFF_SIZE) right?
[01:37:20] <cmr> boredomist: vec::from_elem(buf_size, 0u8)
[01:37:25] <carter> ok i have to go through another compile cycle
[01:37:25] <cmr> (was looking up the argument order)
[01:37:28] <carter> hehe
[01:37:37] <mark_edward> i always get burned on that
[01:37:41] <cmr> carter: there are nightlies for arch, ubuntu, and windows.
[01:37:47] <carter> on a mac
[01:37:49] <carter> brew 
[01:37:51] <carter> joy
[01:37:52] <cmr> ah
[01:38:04] <carter> even better, its a 2 year old air
[01:38:44] <tautologico> my 3 year old macbook basic compiles rust fine, though it takes quite long
[01:38:48] <headcrash> yay!
[01:38:50] <headcrash> it worked!
[01:38:56] <headcrash> You guys are awesome!
[01:39:06] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[01:40:09] <SiegeLord> I'm upgrading my system to make it Rust compatible
[01:40:48] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Connection reset by peer)
[01:41:06] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[01:43:22] *** Parts: semisight (alex@moz-16944F18.socal.res.rr.com) ()
[01:44:57] <SiegeLord> We can use printf from Rust these days, right?
[01:46:21] <Luqman> SiegeLord: libc printf?
[01:46:25] <SiegeLord> Yes
[01:46:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:47:00] <Luqman> yes  extern { fn printf(format: *c_char, ...) -> c_int; }
[01:47:00] <sfackler> yep, varargs works now
[01:47:04] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[01:47:13] *** Quits: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP) (Quit: zzz)
[01:47:24] *** Joins: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP)
[01:48:27] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[01:49:34] *** Quits: Ferreus (ferreus@moz-53AC130.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[01:51:08] <cmr> carter: to answer your question, tons of stuff has changed since 0.8. 597 PRs have been merged so far.
[01:51:17] <carter> thats … a lot
[01:51:44] <carter> i have pretty decent broad band but this clone for building is slowww
[01:51:49] <hoverbear> cmr: Do you think there would be a greater preference for a kvm image or something?
[01:51:51] <cmr> that would be llvm.
[01:51:54] <cmr> hoverbear: not sure.
[01:52:05] <SiegeLord> How do you go from &str to *c_char? to_cstr().unwrap() ?
[01:52:07] <carter> cmr: you have an intree copy fo llvm?
[01:52:10] <carter> cmr: or?
[01:52:14] <cmr> carter: yes
[01:52:19] <cmr> we have some custom patches.
[01:52:21] <hoverbear> cmr: It looks like kvm/virtualbox/etc are fairly portable, wheras docker is pretty unique.
[01:52:22] <carter> as a submodule?
[01:52:25] <cmr> yes
[01:52:27] <carter> oh, what sort of patches?
[01:52:45] <cmr> mostly stuff to get segmented stacks working on more platforms.
[01:52:51] <cmr> a few for win64
[01:53:14] <carter> i remember reading that the segmented stuff is being phased out
[01:53:37] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:53:55] <cmr> we still need the patches we have afaik, we use morestack to check the stack sie now.
[01:54:06] <carter> oh wait, you're the "this week in rust" author
[01:54:12] <cmr> yes
[01:55:08] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[01:55:52] <carter> excuse me whil i got melt my laptop to get head built
[01:57:37] <SiegeLord> Does Rust have a long double?
[01:58:18] <cmr> SiegeLord: no
[01:58:58] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:59:01] <SiegeLord> Ho hum... I guess I'll have to figure out a different way to do the scientific notation... my reference used powl :\
[02:00:28] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:01:41] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[02:01:42] <carter> SiegeLord: you mean 80bit double or 128bit ?
[02:01:59] <SiegeLord> Most likely 80 bit
[02:02:10] <carter> what does that have to do with scientific notation needs?
[02:04:26] <SiegeLord> A simple way to do get the mantissa would have been to divide the number by 10 raised to the exponent
[02:05:24] <o11c> er, isn't there a library function to split out the mantissa and exponent?
[02:05:29] <carter> SiegeLord: ermmmm that only works for a rational internal model
[02:05:36] <carter> that isn't how you should do it for floats
[02:05:47] <SiegeLord> It matches C output, so it's good enough
[02:05:59] <SiegeLord> Well, would have been, if there was long double in Rust
[02:06:09] <o11c> oh, not base 10 ...
[02:06:19] <carter> o11c: we're in agreement i think 
[02:06:38] <carter> SiegeLord: that it worked sounds like its a happy accident
[02:06:41] <o11c> SiegeLord: in any case, using a larger type like that is just plain wrong
[02:07:07] <SiegeLord> I'm not sure it would have been inefficient
[02:07:10] <carter> when parsing a number before turning into a float, its a good idea to use rationals
[02:07:32] <carter> a rational mantissa + integer exponenet
[02:07:47] <o11c> if you're trying to implement "shortest string that converts back", just calculate the next-and-prev, convert to string with the known maximum length for the type, then shift yourself
[02:08:22] <SiegeLord> So... you're telling me that to output scientific notation I have to somehow convert it to string, parse it as a rational number and then output it to string again?
[02:08:44] <carter> SiegeLord: whats the type of the operation you want at the end?
[02:08:51] <carter> sounds like you're not dscribing it enough
[02:08:53] <SiegeLord> A string
[02:09:02] <carter> the type is a string?
[02:09:03] <cmr> it's number -> string in sci notation
[02:09:07] <carter> what number
[02:09:16] <carter> ok
[02:10:21] <carter> so you want to print a float in scientific notation?
[02:10:32] <SiegeLord> Yes
[02:10:36] <carter> ok
[02:10:46] <carter> so Double->String
[02:10:47] <carter> or something
[02:10:53] <carter> gotcha
[02:12:13] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[02:15:48] *** Quits: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP) (Quit: zzz)
[02:19:19] <SiegeLord> Glad we got it figured out :P
[02:26:45] *** Joins: Shaladdle (shaladdle@moz-FDE833F3.wv.cc.cmu.edu)
[02:27:04] <carter> question: whats the 'a convention i'm seeing in some type sig in source code?  unrelatedly: i notice that the boostrap installer/built (using brew installl rust) has some pretty sequential pieces mixed in with the 
[02:27:06] *** Quits: KindOne (KindOne@1EC442FB.7E8839F4.34F73994.IP) (Ping timeout)
[02:27:09] <carter> woops
[02:27:12] <carter> https://github.com/erickt/rust/blob/a7b311ac614ea15f7261eb2ddca56072c18b3cba/src/libextra/treemap.rs#L93
[02:27:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[02:27:25] <carter> like  fn find<'a>(&'a self, key: &K) -> Option<&'a V> {
[02:29:12] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[02:30:49] *** Joins: KindOne (KindOne@moz-F99B80DB.dynamic.ip.windstream.net)
[02:31:34] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:34:46] <kimundi> carter: Those are named lifetimes
[02:34:52] *** Quits: Jesin (Jesin@moz-63C897DA.res.lehigh.edu) (Quit: Leaving)
[02:35:02] *** Joins: Jesin (Jesin@moz-63C897DA.res.lehigh.edu)
[02:35:32] <carter> huh, i'll go google that now
[02:35:32] <carter> thanks
[02:37:23] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[02:37:24] <kimundi> carter: That function signature reads as: "for all lifetimes 'a, function find takes a reference to self and returns an Option that may contain a reference to a value with the same lifetime"
[02:37:49] <carter> so its lifetime parametric
[02:37:52] <carter> kinda
[02:38:02] <kimundi> carter: Thats the idea
[02:38:03] <cmr> carter: that's not a convention
[02:38:09] <carter> ?
[02:38:10] <cmr> it's syntax :p
[02:38:16] <kimundi> You might want to read the borrowed pointer tutorial
[02:38:20] <carter> ok
[02:38:26] <cmr> and yes, the build is almost fully sequential.
[02:38:26] <carter> i didn't see that on the top level page
[02:38:28] <cmr> besides the llvm bits.
[02:38:36] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:38:41] <carter> urk, 
[02:39:02] <kimundi> carter: The additional tutorials are linked at the bottom of the main tutorial, they are easy to miss :)
[02:39:44] <carter> ok
[02:39:44] <carter> thanks
[02:40:26] <kimundi> carter: All references work with lifetimes, naming them is just to express a link between different references in the same signature
[02:40:32] <carter> yeah
[02:40:36] <carter> exactly
[02:40:40] <carter> parametricity
[02:41:01] <carter> of a funny sort
[02:41:03] <carter> thanks all
[02:41:07] <carter> i should go back to my own stuff
[02:43:24] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[02:47:21] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:47:44] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[02:48:02] *** Quits: doctor (ARealName@F76994EA.9F7EC348.67659D25.IP) (Ping timeout)
[02:48:22] *** Quits: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP) (Ping timeout)
[02:49:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:49:51] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[02:51:03] <kimundi> SiegeLord: What are you working on in regard to floats?
[02:52:04] <SiegeLord> As in... the application beyond the nice type signature we worked out?
[02:53:05] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[02:54:04] <kimundi> You where talking about turning a float into a string or, right?
[02:55:22] <SiegeLord> Yes
[02:57:08] *** Quits: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[02:57:18] <carter> floating point exponenet is in base two right?
[02:57:34] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:57:42] <kimundi> Ah, you want to turn it into scientific notation
[02:57:55] <kimundi> carter: yes
[02:58:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:58:44] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:00:37] <kimundi> SiegeLord: Hm, an hackish way would be to just take the regular to_str output, and move the . a few units to the right :P
[03:00:44] <kimundi> err, left
[03:01:27] <SiegeLord> I already have a way that works well enough for my purposes... but if I want to add it to Rust, then I want it to be correct
[03:01:37] <kimundi> well...
[03:01:42] <SiegeLord> My way fails for things like 1e-312
[03:01:56] <SiegeLord> That's quite a few units to move ;)
[03:02:09] <kimundi> doing _anything_ string <-> float is hellish hard and almost impossible to do correct
[03:02:44] <kimundi> It starts with the fact that you need BigFractionals for both operations :P
[03:02:46] <SiegeLord> That's ok, I'm sure it's easier than borrowcheck ;)
[03:02:47] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[03:02:49] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[03:02:53] <kimundi> There are papers
[03:02:57] <kimundi> I looked at them
[03:03:03] <kimundi> I tried to implement them
[03:03:06] <kimundi> I failed :P
[03:03:35] *** Joins: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP)
[03:03:48] <SiegeLord> My current attempt is almost right, only last 2 digits are of
[03:03:50] <SiegeLord> *off
[03:03:57] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[03:04:10] <kimundi> How do you know that it'S roght?
[03:04:16] <kimundi> it's right* ?
[03:04:26] <SiegeLord> I try it in C
[03:04:47] <kimundi> How do you know the C output is correct? :P
[03:05:02] <SiegeLord> I trust people with higher pay grade than me to have checked
[03:05:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:05:30] <SiegeLord> It also looks right if you do it in f80
[03:05:48] <kimundi> Well, there is a difference between "good enough, no one cares about that last few digits" and "correct"
[03:05:51] <SiegeLord> I.e. C's output looks like what you'd get if you did the naive algorithm in f80
[03:06:31] <SiegeLord> Also in principle you need a finite number of decimal digits to represent a float... I suppose I could check manually
[03:06:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:07:39] <kimundi> All I remember from my dabbling with such functions is that a) proving your algorithm is correct is very hard b) Other implementations can not be trusted either :P
[03:08:29] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:08:30] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[03:08:34] <SiegeLord> Well, I have no reason to trust my hacky attempts more than glibc's
[03:08:56] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[03:10:15] *** Quits: kimundi (kimundi@moz-D2DB1FE8.dip0.t-ipconnect.de) (Ping timeout)
[03:11:01] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[03:11:16] <SiegeLord> Don't really see why it's so hard... you just do it. I bet this is a problem in some introductory programming courses
[03:11:34] <SiegeLord> I just don't want to do it properly and leverage existing routines >_<
[03:12:05] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[03:12:57] <headcrash> trying to created a ~[u8] from a string ><
[03:13:22] *** Joins: kimundi (kimundi@moz-F44E1D84.dip0.t-ipconnect.de)
[03:13:30] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[03:14:26] <benh> rusti: let s = "~foo"; let b: ~[u8] = s.as_bytes().to_owned(); b
[03:14:27] <SiegeLord> to_bytes() perhaps?
[03:14:27] -rusti- ~[126u8, 102u8, 111u8, 111u8]
[03:15:14] <headcrash> thanks benh
[03:18:04] *** kimundi is now known as zz_kimundi
[03:18:40] <headcrash> I'm not smart enough to use rust :/
[03:20:20] *** Quits: Shaladdle (shaladdle@moz-FDE833F3.wv.cc.cmu.edu) (Ping timeout)
[03:21:51] <dbaupp> rusti: (~"into_bytes is better if you don't need the ~str later").into_bytes()
[03:21:55] -rusti- pastebinned 1 lines of output: http://sprunge.us/iWTX
[03:22:42] <dbaupp> (it consumes the ~str to avoid allocating a new ~[u8].)
[03:24:01] <headcrash> is that in master? i'm still using .8
[03:24:27] <dbaupp> it should be in .8 too, iirc
[03:24:39] <dbaupp> wait
[03:24:50] <dbaupp> it definitely is, because rusti is using 0.8
[03:25:09] <dbaupp> (definitely is in 0.8)
[03:25:32] *** zz_kimundi is now known as kimundi
[03:25:46] <headcrash> type `&'static str` does not implement any method in scope named `into_bytes`
[03:25:52] <headcrash> it throws that at me
[03:26:20] <headcrash> nvm, i forgot the parens
[03:26:28] *** Quits: blank_name (blank_name@BF9738BA.82815ADA.31EC03F3.IP) (Quit: Lost terminal)
[03:26:29] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[03:26:29] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Client exited)
[03:27:00] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[03:35:07] *** Quits: sarclops (sarclops@moz-D1AB8760.bredband.tre.se) (Ping timeout)
[03:35:30] *** Joins: sarclops (sarclops@moz-53A8054.mobile.tre.se)
[03:38:14] *** Quits: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:41:55] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:42:29] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[03:43:44] *** Quits: headcrash (Mibbit@moz-3652E738.pools.spcsdns.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:43:53] *** Joins: headcrash (Mibbit@moz-3652E738.pools.spcsdns.net)
[03:44:03] *** Quits: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP) (Ping timeout)
[03:44:10] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[03:46:07] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[03:50:41] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[03:51:42] *** Joins: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com)
[03:52:53] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[03:53:06] *** Joins: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP)
[04:02:56] *** jorendorff_away is now known as jorendorff
[04:03:57] *** Joins: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com)
[04:04:59] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[04:07:27] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[04:07:32] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:07:52] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[04:08:11] <headcrash> this works too: stream.write(bytes!("USER headcrash 8 * :headcrash\r\n"));
[04:09:02] <dbaupp> ah, yes; if you have a literal string `bytes!()` is best.
[04:09:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:13:22] <geomyidae> do most people run rust bindgen and then use whatever comes out as the final bits, or as a starting place for bindings?
[04:13:46] <geomyidae> Aka, if I've already made bindings that feel more rust-y than C-y, is there value in restart with bindgen first instead of by hand?
[04:14:29] <cmr> geomyidae: use bindgen to wrap the library and write a Rust layer on top
[04:14:40] * geomyidae nods
[04:17:30] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:17:57] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[04:18:20] <dbaupp> Bindgen is essentially just the "get the C definitions into a form Rust understands" step, it doesn't/can't do the "make a nice Rust interface" step
[04:18:26] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Max SendQ exceeded)
[04:18:55] <benh> yeah for that we'd need to consume something like gobject introspection stuff :>
[04:19:32] <geomyidae> I mean, even just automating the first step is better than Go can do, or at least, that tooling doesn't exist in Go to my knowledge
[04:20:04] <geomyidae> won't be hard for me to fix thsi up anyway, it's just going to be replacing the direct c calls with the call that bindgen makes for me, so should be straightforward
[04:20:20] <dbaupp> apparently swig supports Go, fwiw.
[04:20:41] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[04:21:10] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Max SendQ exceeded)
[04:22:34] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[04:24:49] *** Quits: taapa (quassel@moz-A1BBEF03.singnet.com.sg) (Ping timeout)
[04:27:25] *** Quits: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com) (Input/output error)
[04:28:03] *** Quits: brson (brson@C0559334.C30B3942.8DDCAE07.IP) (Quit: leaving)
[04:28:47] <headcrash> oh, i did it!
[04:28:51] <headcrash> sorta...
[04:29:04] <headcrash> need to figure out how to parse these lines :/
[04:29:29] <headcrash> theres a regex library in extra isn't there?
[04:32:43] *** kimundi is now known as zz_kimundi
[04:33:01] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:34:53] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[04:36:47] <dbaupp> headcrash: no
[04:36:59] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[04:37:26] *** jorendorff is now known as jorendorff_away
[04:38:26] <headcrash> welp, i got it to the point that it connects properly, now i just need to make sure it handles pings
[04:38:45] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[04:38:54] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[04:40:02] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[04:40:54] <headcrash> is there a file formatter to clean up source files?
[04:41:12] <cmr> no, not yet.
[04:43:47] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Quit: dbaupp)
[04:44:04] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[04:49:00] <alan_andrade> Hello, I need help with std::libc
[04:49:18] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:49:23] <alan_andrade> I'm creating an extern function to get access to `gethostname`
[04:49:52] <alan_andrade> the method signature is as follows: int gethostname(char *name, size_t len);
[04:50:37] <alan_andrade> how do I allocate an empty char pointer to send as first param ?
[04:51:04] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:51:04] *** Quits: morphevs (Adium@moz-2486EF49.dclient.hispeed.ch) (Ping timeout)
[04:51:28] *** Joins: jack_ (uid19593@moz-A42E5B7B.irccloud.com)
[04:52:13] <cmr> alan_andrade: you can use `let mut buf = std::vec::with_capacity(len); let len = gethostname(std::vec::raw::to_ptr(buf), len)); std::vec::raw::set_len(buf, len);`
[04:53:31] *** Joins: Shaladdle (shaladdle@moz-FDE833F3.wv.cc.cmu.edu)
[04:54:38] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:54:45] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Quit: Leaving.)
[04:54:46] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[04:54:50] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:55:25] *** Quits: Shaladdle (shaladdle@moz-FDE833F3.wv.cc.cmu.edu) (Ping timeout)
[04:55:37] <strcat> meh, deadlocks with native mutexes are a frustrating thing to deal with using safety boundaries
[04:55:39] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:56:15] <strcat> because you need to use PTHREAD_MUTEX_NORMAL for the guarantee of a deadlock
[04:56:22] <strcat> and then you don't get lock elision :(
[04:57:14] <strcat> so either a MutexArc or concurrent hash table can provide references, or it can have lock elision
[04:58:28] <alan_andrade> cmr, How can I set len as an unsigned 32 ?
[04:58:58] <cmr> alan_andrade: len as u32
[04:59:01] * strcat is very frustrated with rust lately
[04:59:06] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:59:27] <headcrash> https://github.com/kzzch/rustbot/blob/master/rustdrop.rs
[05:00:44] <dbaupp> strcat: the language?
[05:00:48] <strcat> yes
[05:01:04] <alan_andrade> oh man, I don't know what's this.
[05:01:13] <alan_andrade> @cmr ismatched types: expected `&mut ~[<V14>]` but found `~[i8]` (expected &-ptr but found vector)
[05:01:17] <strcat> the language, the community and the implementation ;p
[05:01:36] <dbaupp> alan_andrade: set_len(&mut buf, len)
[05:02:02] <headcrash> You can't burn out and abandon the language until it becomes popular. They you can have a public meltdown and tell everyone what's wrong with rust and the people who use it.
[05:02:15] <headcrash> i.e. rust is a ghetto
[05:02:55] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[05:03:04] <strcat> I sympathize more and more with the linus position that security bugs are just bugs, and `unsafe` just frustrates me
[05:03:08] * strcat shrugs
[05:03:24] <dbaupp> strcat: I can understand the latter two; but clearly the language is perfect :P
[05:03:58] <strcat> we allow memory leaks (as in unreachable dynamic allocations) and deadlocks outside of unsafe, those are clearly bugs
[05:04:12] <strcat> a deadlock could easily be a DoS issue too
[05:04:34] <o11c> hm, how does rust allow leaks?
[05:04:36] <headcrash> is it impossible to fix or just very difficult?
[05:04:48] <strcat> o11c: reference cycles
[05:04:50] <o11c> deadlocks are too expensive to detect
[05:04:53] <strcat> put a channel in itself
[05:05:02] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Ping timeout)
[05:05:06] <o11c> huh, I thought rust forbade that
[05:05:18] <strcat> o11c: well it has strict requirements on Rc forbidding it
[05:05:22] <strcat> but those requirements are too coarse
[05:05:32] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[05:05:44] <strcat> I suggested making a precise lint, but pcwalton pointed out that it won't work due to trait objects
[05:06:01] <strcat> so I've given up on that - rust can't prevent leaks, unless you add overly restrictive bounds
[05:06:06] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[05:06:11] <strcat> Freeze bound on every concurrent container
[05:06:18] <strcat> Freeze or Send on Rc
[05:06:30] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[05:06:36] <strcat> and any mutable, non-single-owner data is non-Freeze
[05:06:49] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[05:06:51] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[05:06:54] <strcat> anyway my specific frustration here is mutexes
[05:07:09] <strcat> the default POSIX behaviour on locking a lock you already own is undefined behaviour
[05:07:31] <strcat> so glibc implements it with lock elision (as in hardware transactional memory) on recent intel CPUs
[05:07:49] <strcat> you can opt in to guaranteed deadlock instead, and you don't get lock elision
[05:08:01] <strcat> so, that seems almost arbitrary
[05:08:02] <strcat> a deadlock is a bug
[05:08:05] <strcat> but a deadlock is safe
[05:08:12] <strcat> according to rust
[05:08:17] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:08:36] <o11c> well, to be fair "process does nothing" is safer in any sense than "process trashes memory"
[05:08:54] <strcat> o11c: yes, it's a safer bug
[05:09:00] <strcat> bug either way it's a bug
[05:09:10] <strcat> and if you prevent the undefined behaviour you get slow mutexes
[05:09:17] <o11c> I think it's fair to say that Rust doesn't attempt to prevent bugs
[05:09:20] <strcat> (slow-er)
[05:09:28] <strcat> o11c: it tries to prevent some bugs
[05:09:34] <o11c> dangerous bugs
[05:09:46] <cmr> dangerous is an arbitrary and useless word to use here.
[05:09:57] <cmr> a deadlock is dangrous if it's in your pacemaker.
[05:10:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:10:04] <cmr> (to use the canonical example)
[05:10:14] <strcat> right, a bug is a bug - all bugs can be a security issue
[05:10:47] <strcat> in C++, you would *not* care about the academic difference here
[05:10:55] <dwrensha> does Rust have these "slow but safer" mutexes currently?
[05:11:30] <strcat> dwrensha: the stdlib doesn't have usable native mutexes anyway due to M:N threading
[05:11:42] <strcat> so I'm really speaking of a language issue only
[05:12:03] <cmr> I agree that a bug is a bug.
[05:12:29] <strcat> anyway I'm just losing faith in rust's view of memory safety purity
[05:13:06] *** Joins: brson (brson@C0559334.C30B3942.8DDCAE07.IP)
[05:13:06] *** ChanServ sets mode: +ao brson brson
[05:13:23] <strcat> it seems like I have 2 choices
[05:13:30] <dwrensha> hm... I don't know about the current mutex situation, but one thing I like about Rust is it lets you make the choice yourself: pay the cost to get some safety, or just drop to C-level unsafe stuff
[05:13:33] <strcat> 1) MutexArc can expose only swap and get-by-clone
[05:13:49] <strcat> 2) MutexArc can use PTHREAD_MUTEX_NORMAL, and not get lock elision
[05:14:42] <strcat> dwrensha: sure, you can always drop to C, but in this case the only thing stopping a cost-free abstraction is the language viewing a deadlock as safe but loosely undefined behaviour as unsafe
[05:15:11] <strcat> I could just depend on glibc having a certain defined behaviour in the current version though
[05:15:25] <strcat> seems like a bad idea.
[05:16:07] <dwrensha> ok, well if we can have a cost-free abstraction, let's do that
[05:16:12] *** Quits: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP) (Ping timeout)
[05:18:27] <strcat> (I guess you could really consider this a stupid glibc limitation, but it's a limitation that's not going to get fixed due to ABI compatibility - and no one else cares about deadlock vs. UB)
[05:20:06] <dwrensha> The issue in safe Rust is that you deadlock if you grab the same mutex twice?
[05:20:18] <dwrensha> How would you prevent that?
[05:20:25] *** Quits: brson (brson@C0559334.C30B3942.8DDCAE07.IP) (Quit: leaving)
[05:20:47] <strcat> so, MutexArc == safe, mutable data shared between threads
[05:20:52] <strcat> other concurrent data structures are similar
[05:21:24] <strcat> so, you can safely set the value, swap out the value or fetch the value via clone
[05:21:37] <strcat> but lets say you want to fetch the value *without* a clone
[05:21:50] <strcat> you have 2 choices
[05:22:02] <strcat> a method can take a closure, and pass the ref to the closure, releasing the lock at the end
[05:22:13] <strcat> or the method can return a wrapper around the reference, with the wrapper releasing the lock in the dtor
[05:22:25] <strcat> either way, you are able to execute arbitrary code before the lock is released
[05:22:32] <dwrensha> ah
[05:22:40] <strcat> so through another reference (it's shared) to that same data structure, you can try to grab a lock twice
[05:22:52] <strcat> there are 4 types of glibc locks (coming from POSIX)
[05:23:07] <strcat> DEFAULT (undefined behaviour if you grab it twice), where lock elision works
[05:23:47] <strcat> NORMAL (deadlock), ERRORCHECK (return with error), RECURSIVE (allow, no deadlock) can't use lock elision
[05:25:02] <strcat> so, rust views undefined behaviour as unsafe (memory corruption or who knows what)
[05:25:07] <strcat> it doesn't view a deadlock as unsafe
[05:25:09] <dwrensha> so I guess you could require that the fetching closure have an empty environment; then you couldn't get to the mutex in its body
[05:25:34] <strcat> dwrensha: well, then it's not a closure, just a function ptr
[05:25:40] <strcat> and there's really not much you can do that way
[05:25:46] <dwrensha> you can return a value
[05:26:02] <strcat> but almost all you'll be able to do in most cases is clone
[05:26:12] <dwrensha> yeah
[05:26:18] <strcat> so
[05:26:22] <strcat> I could add an env parameter
[05:26:29] <strcat> hm
[05:26:31] <strcat> dwrensha: well
[05:26:38] <strcat> I could use a Freeze bound on the closure...
[05:26:56] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[05:26:57] <strcat> that definitely seems like the least bad solution here
[05:27:12] <dwrensha> what does a Freeze bound do?
[05:27:21] <strcat> it prevents grabbing the mutex twice because MutexArc is non-Freeze
[05:27:29] <strcat> dwrensha: Freeze == inherited mutability
[05:27:36] <strcat> as in it's mutable if the owner is mutable
[05:28:00] <strcat> if a type has 1 owner, rust can deal with these kind of mutability errors statically (with owned containers, you can't get iterator/reference invalidation, etc.)
[05:28:10] <dwrensha> so the closure's environment would only be able to access immutable things?
[05:28:21] <dwrensha> that sounds good
[05:28:36] <dwrensha> but maybe still too limiting
[05:29:04] <strcat> rusti: |u8|:Freeze
[05:29:04] -rusti- <anon>:9:13: 9:14 error: unexpected token: `:`
[05:29:04] -rusti- <anon>:9          |u8|:Freeze
[05:29:04] -rusti-                       ^
[05:29:04] -rusti- application terminated with error code 101
[05:29:11] <strcat> rusti: let _x: |u8|:Freeze;
[05:29:11] -rusti- <anon>:9:17: 9:18 error: expected type, found token BINOP(OR)
[05:29:11] -rusti- <anon>:9          let _x: |u8|:Freeze;
[05:29:11] -rusti-                           ^
[05:29:11] -rusti- application terminated with error code 101
[05:29:17] * strcat doesn't know the syntax for that now
[05:29:23] <strcat> oh wait rusti is too old
[05:30:32] <strcat> dwrensha: only being able to capture Freeze things is annoying but at least it's not as bad as only being able to clone ;p
[05:30:46] *** Joins: jdm (jdm@moz-78156D60.dsl.teksavvy.com)
[05:30:46] *** ChanServ sets mode: +o jdm
[05:31:08] *** Joins: ssbr_ (~ssbr@98D3BE03.C60FE7DC.4065847B.IP)
[05:31:10] *** Parts: ptc (Adium@moz-192425C4.nyc.res.rr.com) ()
[05:31:13] <strcat> perhaps I should just not worry about this performance issue but it's a big difference ;\
[05:31:34] <o11c> so what exactly is the use case for fetch without a clone?what are the samntics?
[05:32:15] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:32:41] <strcat> o11c: some things can't be cloned
[05:34:41] <o11c> so you have to hold the lock while using them
[05:35:39] <strcat> o11c: yes
[05:35:39] <o11c> rust doesn't guarantee it's possible to move-out and move-in again, right?
[05:35:51] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[05:35:55] <strcat> o11c: this is a shared reference counted object
[05:35:55] <o11c> unlike C++ move, Rust move makes it impossible to use afterwards ...
[05:36:10] <strcat> rusti: let mut x = ~5; let y = x; x = ~10; (x, y)
[05:36:10] <o11c> right, but I'm thinking about the target
[05:36:10] -rusti- (~10, ~5)
[05:36:20] <strcat> o11c: it just can't allow very much safely
[05:36:38] *** Quits: ssbr_ (~ssbr@98D3BE03.C60FE7DC.4065847B.IP) (Ping timeout)
[05:36:47] <o11c> but swap is guaranteed ...
[05:36:50] *** Joins: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP)
[05:36:55] <strcat> o11c: sure, swap works
[05:37:04] <strcat> o11c: I can have set, swap and get-by-clone
[05:37:08] <strcat> trivially
[05:37:10] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[05:37:20] <o11c> ah, missed that
[05:37:34] <strcat> get by ref is what's hard - you either use a method taking a closure, or an RAII object
[05:37:37] <strcat> and it releases the lock after
[05:37:53] <strcat> but that opens up the ability to grab the mutex twice, forcing a slower mutex type
[05:37:56] <o11c> because if you get-by-ref, you would deadlock if you try to access the object again
[05:38:22] <strcat> o11c: well, with a POSIX mutex it's undef behaviour by default
[05:38:30] <strcat> you can opt-in to deadlocking instead
[05:38:32] <o11c> right, thus "would" not "will"
[05:38:48] <o11c> "might" sounds wrong
[05:38:55] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[05:39:08] <strcat> o11c: glibc learned about intel's hardware transaction memory and can elide locks now
[05:39:32] <o11c> that's the case that actually deadlocks, I assume?
[05:39:34] <strcat> but only if you have undef behaviour on trying to lock when you own it already (DEFAULT type)
[05:40:02] *** Quits: headcrash (Mibbit@moz-3652E738.pools.spcsdns.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:40:09] <strcat> o11c: they can't use it for the type that deadlocks because it won't deadlock :(
[05:40:18] <o11c> what does it do?
[05:40:40] <strcat> o11c: it could support recursive locking, but not POSIX-style recursive locking
[05:40:50] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:40:52] <alan_andrade> how can I print a vec of chars ?
[05:40:56] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:40:56] *** ChanServ sets mode: +ao dherman dherman
[05:41:19] <strcat> o11c: http://en.wikipedia.org/wiki/Transactional_Synchronization_Extensions this magic
[05:42:50] <dwrensha> you could call std::str::from_chars() on it to get a string
[05:43:38] <alan_andrade> whoop, never mind, an
[05:43:42] <alan_andrade> exactly!
[05:43:50] <alan_andrade> thanks man!
[05:45:16] <alan_andrade> Hm, the string looks like this:
[05:45:25] <alan_andrade> "\U00016c41\U000d2d73\U000f4263 ... and so on
[05:45:25] <o11c> strcat: okay, but what is the *actual* effect of multi-lock in glibc in that case?
[05:45:35] <alan_andrade> What am I missing ?
[05:45:56] <strcat> o11c: I think it will likely just return without doing anything bad, but they are free to change that whenever
[05:46:27] <o11c> I'm trying to think of what the worse case of this UB is
[05:46:34] <dbaupp> alan_andrade: how are you printing it?
[05:46:34] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[05:46:42] <dbaupp> alan_andrade: `println(string)`?
[05:47:19] <alan_andrade> let me check
[05:47:21] <strcat> o11c: it could corrupt the lock completely ;p
[05:47:46] <strcat> o11c: anyway it's definitely still unsafe now
[05:47:56] <strcat> o11c: locks will be paired with unlocks
[05:48:12] <strcat> so you'll try to lock again, but it's not a recursive lock, so when you unlock once, your lock is gone
[05:49:16] <alan_andrade> whoo, weird thing showed up
[05:49:21] <strcat> when you unlock again, it's UB again because you no longer own the lock
[05:49:31] *** Quits: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP) (Client exited)
[05:49:41] <o11c> ooh, okay
[05:49:50] <o11c> (besides the fact that someone else may own the lock)
[05:50:07] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:50:50] <strcat> anyway it sounds like the glibc devs want to add more mutex types to deal with these issues
[05:50:51] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[05:50:59] <strcat> so maybe I should not worry about support for an experimental feature ;p
[05:51:59] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:00:03] <eddyb> strcat: what's up with this? https://github.com/thestinger/rust-core/commit/4cb2850d4a5ace04e14a30cc9beec946a13f1304
[06:00:41] <strcat> eddyb: it's inconsistent to consider it unsafe there and not elsewhere
[06:01:02] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[06:01:22] <strcat> I don't really have a strong opinion on it
[06:01:34] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[06:01:34] <strcat> brson/pcwalton seem to be in agreement that it shouldn't be considered unsafe
[06:01:52] <strcat> and it was defined that way in the manual based on that
[06:01:58] * strcat shrugs
[06:02:38] <strcat> eddyb: for example, all of the mutable concurrent data structures would need a Freeze bound
[06:03:28] <eddyb> I would've had the impl<T: Freeze> new() and then impl<T: !Freeze + Send> new() and impl<T: !Freeze + !Send> unsafe new()
[06:03:36] <eddyb> but that's not in the language yet :(
[06:04:04] <strcat> eddyb: it's still more restrictive than necessary
[06:04:09] <eddyb> strcat: are those structures Send?
[06:04:12] <strcat> eddyb: yes
[06:04:17] <strcat> they're concurrent, shared data structures
[06:04:27] <strcat> they're Send but mutable, so they're non-Freeze
[06:04:32] <eddyb> the problem is with the language, then :P. wait, no
[06:04:45] <strcat> rust isn't build to prevent reference cycles
[06:04:58] <eddyb> from_send is considered "safe" based ~T being Send, I think
[06:05:07] <strcat> eddyb: you mean for Rc?
[06:05:14] <eddyb> strcat: yeah, the one in std
[06:05:20] <strcat> I can explain the Rc bounds, I wrote it
[06:05:23] <strcat> in the stdlib too
[06:05:24] <eddyb> hehe
[06:05:35] <strcat> Rc is non-send
[06:05:45] <strcat> can't refer to itself if it requires Send
[06:05:48] <eddyb> hmm
[06:05:59] <eddyb> okay, that's cool :D
[06:06:04] <strcat> Rc is immutable, if it requires Freeze, you can't modify it to refer to itself
[06:06:12] <strcat> that's why those bounds work
[06:06:33] <strcat> anyway, it's too coarse
[06:06:33] <eddyb> so a new method that would work with Freeze | Send would be much better
[06:06:38] <strcat> eddyb: meh
[06:06:45] <strcat> that's not really the issue
[06:06:50] <strcat> I don't care about it being a bit ugly
[06:06:54] <eddyb> need moar generic-related features
[06:07:14] <eddyb> I agree that unsafe isn't the best thing here
[06:07:20] <strcat> eddyb: something can be non-Send and non-Freeze, but you may want to put it in Rc
[06:07:26] <strcat> and... it may not contain an Rc at all!
[06:07:31] <strcat> it's not memory unsafe
[06:07:33] <strcat> it can just leak
[06:07:46] <strcat> (if it does contain the same kind of Rc *and* you make a cycle)
[06:07:50] <eddyb> but we don't have an effect system - not even a static warning
[06:07:54] <strcat> so meh, I've given up at trying to enforce it with types
[06:08:08] <strcat> eddyb: sure, it's no better than C++ now
[06:08:35] <eddyb> hmmmmm
[06:09:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:09:36] <strcat> eddyb: you could probably pursuade me to change it back
[06:09:42] <eddyb> if it's neither Freeze nor Send, T in Rc<T> shouldn't have a reachable non-Freeze Rc<T>
[06:09:54] <strcat> eddyb: trait objects.
[06:09:58] <eddyb> I'm telling you, we can't express enough type relationships
[06:10:09] <strcat> ~Trait: can have Rc in it
[06:10:19] <strcat> ~Trait:Send can't
[06:10:26] <strcat> back to square one
[06:10:43] <eddyb> but it wouldn't be just Send.... meh
[06:10:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:11:30] <strcat> eddyb: maybe it's not overly restrictive
[06:11:32] <strcat> I don't know
[06:11:44] *** Joins: lht (lht@8ACDE54D.92F7B5F4.20594000.IP)
[06:12:26] <eddyb> strcat: oh, meant to ask this... how do weak refs work?
[06:12:40] *** Quits: lht (lht@8ACDE54D.92F7B5F4.20594000.IP) (Input/output error)
[06:12:48] <strcat> eddyb: need another Rc type where it has a linked list in the RcBox
[06:13:19] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[06:13:23] <strcat> eddyb: when the last actual Rc goes out of scope, you destroy the object
[06:13:30] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[06:13:37] <strcat> and then you walk the list of weak pointers and mark them dead
[06:13:42] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[06:13:55] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[06:14:04] <strcat> alternatively, you store 2 refcounts
[06:14:06] <strcat> strong and weak
[06:14:14] <strcat> when strong is 0, you destroy the object
[06:14:28] <strcat> weak ptrs have to check if strong is 0, and fail if it is
[06:14:33] <eddyb> but you keep the allocation?
[06:14:47] <strcat> eddyb: yes
[06:14:54] <eddyb> strcat: and those weak refs are just Option<&T> or something like that?
[06:15:12] <strcat> no
[06:15:35] <strcat> each weak ptr has to allocate in the linked list version
[06:16:04] <strcat> they point to their node (where they can find out if they're dead) and the box
[06:16:11] <strcat> and they can be upgraded to a non-weak ptr
[06:16:15] <strcat> which fails if they're dead
[06:16:16] *** Quits: cdidd (cdidd@moz-F3995CCF.broadband.corbina.ru) (Ping timeout)
[06:16:37] <strcat> eddyb: anyway I give up at being 'pure' here
[06:17:55] <strcat> eddyb: maybe I shouldn't.
[06:17:58] * strcat shrugs
[06:18:26] <strcat> eddyb: did an evil remove of that commit for now ;p
[06:18:31] <strcat> I'll sleep on it
[06:18:48] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[06:19:04] <eddyb> I was wondering how I can create a safe Device tree where I can "lend" a Device to the IRQ manager but still have mutable borrows (with some Rc<RefCell<T>> contraption)
[06:19:09] <eddyb> eeeeeh you left
[06:19:28] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:19:38] <strcat> eddyb: already changed my mind ;p
[06:19:44] <strcat> eddyb: ok look
[06:19:48] <strcat> lets say you have a concurrent channel
[06:19:56] <strcat> the channel has to have a Freeze bound to prevent cycles
[06:20:05] <strcat> you want to send MutexArc data structures through it - NOPE
[06:20:19] <strcat> you want to send other channels or mutable concurrent data structures through it - NOPE
[06:20:31] <eddyb> strcat: my message while you were gone: I was wondering how I can create a safe Device tree where I can "lend" a Device to the IRQ manager but still have mutable borrows (with some Rc<RefCell<T>> contraption)
[06:20:54] <eddyb> literally one minute >_>
[06:21:04] *** Joins: cdidd (cdidd@moz-96E36BB0.broadband.corbina.ru)
[06:21:51] <eddyb> strcat: I want something like ~Trait but for Rc<RefCell<T>> instead of ~T - hmpf
[06:22:53] <eddyb> strcat: if Rc<Trait> were working, I guess I could do things like impl IrqHandler for RefCell<PcKeyboard>
[06:23:17] <strcat> eddyb: Rc<~Trait> is double-indirection but at least it works
[06:23:30] <eddyb> and then cast to Rc<IrqHandler>, with no static mutability checks
[06:23:36] <eddyb> strcat: oooh. hmmm
[06:23:49] <eddyb> so Rc<~RefCell<PcKeyboard>> :P?
[06:24:42] <strcat> eddyb: RefCell<~Trait>
[06:24:45] <strcat> ;p
[06:25:00] <eddyb> strcat: well, no
[06:25:08] <strcat> Rc<RefCell<~Trait>>
[06:25:19] <strcat> is the closest you can come to @mut Trait
[06:25:25] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:25:42] *** Joins: lht (lht@8ACDE54D.92F7B5F4.20594000.IP)
[06:25:57] <eddyb> Trait would have a foo(&self) method through which a specific implementer could actually use mutable self
[06:26:10] <eddyb> strcat: oh, and have all methods on Trait &mut?
[06:26:24] <strcat> yes
[06:26:30] <strcat> or ~self if you want to move from it
[06:26:34] <eddyb> thanks, that could work
[06:26:37] <strcat> it'll be slow ofc
[06:26:59] <strcat> the price of safety ;\
[06:27:02] <Luqman> hmm would impl<T: PcKeyboard> IrqHandler for RefCell<T> not work?
[06:27:03] <eddyb> right now it's all closures and mutable statics >_>
[06:27:18] <eddyb> Luqman: PcKeyboard is not a trait, IrqHandler is
[06:28:02] <Luqman> ah
[06:28:02] <eddyb> this will work by itself, but it requires extra indirection to have it work with Rc: impl IrqHandler for RefCell<PcKeyboard>
[06:28:28] <eddyb> Rc<~IrqHandler> instead of Rc<IrqHandler> - the latter needs DST
[06:30:08] <eddyb> strcat: Rc<RefCell<~Trait>> sure makes the implementation easier
[06:31:31] <eddyb> type RcMut<T> = Rc<RefCell<T>>; mod RcMut {fn new<T: Freeze>(value: T) -> RcMut<T> {Rc::from_mut(RefCell::new(value))}}
[06:31:32] *** Quits: lht (lht@8ACDE54D.92F7B5F4.20594000.IP) (Quit: lht)
[06:33:59] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[06:39:39] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[06:39:53] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[06:40:06] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[06:40:27] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Ping timeout)
[06:40:54] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:41:19] *** sam113101 is now known as sam113101_afk
[06:41:30] <strcat> rusti, 2
[06:41:31] -rusti- 2
[06:41:41] <eddyb> rusti: version
[06:41:42] -rusti- "rustc 0.8"
[06:41:55] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[06:41:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:42:02] <strcat> rusti: 2
[06:42:02] -rusti- 2
[06:42:26] <eddyb> strcat: can anything in rust-core trigger unwinding?
[06:42:27] <alan_andrade> http://stackoverflow.com/questions/20450637/rust-how-to-interact-with-gethostname-stdlibc
[06:42:32] <strcat> eddyb: no
[06:42:39] <strcat> eddyb: it doesn't support unwinding at all atm
[06:42:53] <eddyb> yes, but... I have unwinding in my code
[06:42:57] <strcat> I wrote a lot of exception unsafe code if allocators were to unwind
[06:42:59] <eddyb> and I don't know from what
[06:43:06] *** Quits: meTaAU (admin@moz-5A66BDE7.lns20.per2.internode.on.net) (Ping timeout)
[06:43:36] <strcat> eddyb: pthread_cancel? *shrug*
[06:43:44] <strcat> eddyb: or do you just mean landing pads?
[06:43:47] <strcat> I reported this as a bug
[06:44:03] <strcat> eddyb: https://github.com/mozilla/rust/issues/10780 https://github.com/mozilla/rust/issues/10781
[06:44:27] <strcat> eddyb: so, if LLVM sees an external call, it will assume it can unwind
[06:44:49] <eddyb> *any* external call?
[06:44:56] <strcat> yes
[06:44:56] <eddyb> I haven't had problems until now
[06:45:00] *** Joins: derek_c (derek@moz-69296470.cit.cornell.edu)
[06:45:04] <strcat> eddyb: it hardcodes a lot of libc symbols
[06:45:06] <strcat> their attributes
[06:45:17] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:45:22] <strcat> eddyb: I have seriously been editing the IR with sed
[06:45:26] <strcat> to add nounwind
[06:45:29] <strcat> :|
[06:45:33] <derek_c> how do you compare a &~str to a `&'static str?
[06:45:49] <strcat> rusti: "foo" == ~"foo"
[06:45:50] -rusti- <anon>:9:17: 9:23 warning: unnecessary allocation, the sigil can be removed [-W unnecessary-allocation (default)]
[06:45:50] -rusti- <anon>:9         "foo" == ~"foo"
[06:45:50] -rusti-                           ^~~~~~
[06:45:50] -rusti- true
[06:46:12] <eddyb> "foo" == &~"foo"
[06:46:13] <strcat> derek_c: ~str will happily coerce to &str
[06:46:19] <eddyb> errr
[06:46:23] <eddyb> rusti: "foo" == &~"foo"
[06:46:23] -rusti- <anon>:9:17: 9:24 error: mismatched types: expected `&str` but found `&~str` (expected &str but found &-ptr)
[06:46:23] -rusti- <anon>:9         "foo" == &~"foo"
[06:46:24] -rusti-                           ^~~~~~~
[06:46:24] -rusti- error: aborting due to previous error
[06:46:24] -rusti- application terminated with error code 101
[06:46:26] <strcat> you need a deref there
[06:46:35] <strcat> rusti: "foo" == *&~"foo"
[06:46:35] -rusti- true
[06:46:37] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[06:46:41] <eddyb> rusti: (&~"foo").eq("foo")
[06:46:42] -rusti- <anon>:9:21: 9:26 error: mismatched types: expected `&~str` but found `&'static str` (expected &-ptr but found &'static str)
[06:46:42] -rusti- <anon>:9         (&~"foo").eq("foo")
[06:46:42] -rusti-                               ^~~~~
[06:46:42] -rusti- error: aborting due to previous error
[06:46:42] -rusti- application terminated with error code 101
[06:46:51] <strcat> eddyb: equiv is a hack to do that
[06:46:56] <eddyb> eeehhh
[06:46:56] <derek_c> strcat: not sure what I'm doing wrong, but the compiler is complaining:
[06:46:57] <derek_c> error: mismatched types: expected `&~str` but found `&'static str` (expected &-ptr but found &'static str)
[06:47:10] <eddyb> strcat: coherence strikes again!
[06:47:12] <strcat> derek_c: the compiler sees 'x == y'
[06:47:22] <strcat> it looks at x, and decides that's the type to use for the == expr
[06:47:37] <eddyb> oh, right, Eq is even worse
[06:47:42] <ssbr> rusti: "foo" == ~"foo"
[06:47:44] -rusti- <anon>:9:17: 9:23 warning: unnecessary allocation, the sigil can be removed [-W unnecessary-allocation (default)]
[06:47:44] -rusti- <anon>:9         "foo" == ~"foo"
[06:47:44] -rusti-                           ^~~~~~
[06:47:44] -rusti- true
[06:47:52] <derek_c> strcat: yeah that makes sense, but what do I do?
[06:47:58] <strcat> derek_c: so it sees &~str on the left-hand side, and looks for &~str on the right-hand side, and doesn't find it
[06:48:01] <strcat> derek_c: flip the arguments
[06:48:10] <strcat> if it sees &str on the LHS, it will look for &str on the RHS
[06:48:13] <eddyb> rusti: (&~"foo").equiv("foo")
[06:48:14] -rusti- pastebinned 7 lines of output: http://sprunge.us/jfQV
[06:48:17] <strcat> and ~str will coerce to &str
[06:48:24] <strcat> you'll need to deref the reference
[06:49:16] <strcat> eddyb: the external function call -> landing pads thing is the most aggravating thing about rust for me atm
[06:49:21] <derek_c> strcat: ok so I end up with code like: if &~"./" == path_str
[06:49:28] <strcat> -       clang $@.bc -o $@ -O2 -lpthread
[06:49:28] <derek_c> which works
[06:49:30] <strcat> +       clang $@.bc -o $@ -O2 -lpthread -lstd-6425b930ca146ae9-0.9-pre
[06:49:32] <derek_c> strcat: thanks
[06:49:34] <strcat> this is in my git working dir
[06:49:48] <strcat> derek_c: shouldn't need to do that
[06:50:00] <strcat> derek_c: that's doing an allocation every time you compare, it's not necessary
[06:50:13] <strcat> "./" == *path_str
[06:50:16] <strcat> or
[06:50:24] <strcat> using equiv
[06:51:00] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:51:19] <acrichto> cmr: what do you mean by trait visibility?
[06:51:44] <eddyb> strcat: but... I don't have any extern "C" calls from *my* code
[06:51:55] <eddyb> hmm
[06:51:55] <strcat> eddyb: extern {} blocks
[06:52:06] <derek_c> strcat: thanks, this works: "./" == *path_str
[06:52:09] <eddyb> strcat: I don't define any external functions
[06:52:11] <strcat> eddyb: are you optimizing? you need prune-eh to bubble up nounwind
[06:52:15] <derek_c> strcat: how would you use equiv?
[06:52:17] <strcat> --passes prune-eh at minimum
[06:52:17] <eddyb> and other parts of AAAAHA
[06:52:42] <strcat> gcc has -fno-unwind-tables/-fno-exceptions
[06:52:43] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:52:44] <strcat> we need that too
[06:52:51] <strcat> it's a PITA ;\
[06:53:04] <strcat> it'd be less of a PITA if rust used libclang to read the headers
[06:53:10] <eddyb> strcat: --opt-level=1 so my emulator craziness doesn't take 2.2GB to compile
[06:53:14] <strcat> because glibc marks almost everything as nothrow
[06:53:25] <strcat> eddyb: or just --passes prune-eh
[06:53:30] <eddyb> to what?
[06:53:33] <strcat> rustc
[06:53:37] <strcat> maybe you need another pass too
[06:53:39] <eddyb> yay :D. t hat should work
[06:53:53] <hoverbear> strcat: I was getting signing errors on your rust-git package
[06:54:13] <strcat> hoverbear: it's not signed, need to make that repo PackageOptional
[06:54:25] <strcat> [thestinger]
[06:54:27] <strcat> SigLevel = Optional
[06:54:29] <strcat> Server = http://pkgbuild.com/~thestinger/repo/$arch
[06:54:37] <hoverbear> strcat: Good to know. :)
[06:54:43] <strcat> can't put my GPG key on arch's build server
[06:54:47] <strcat> although
[06:55:02] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[06:55:04] <strcat> I could make another much less trusted one not associated with my real name and put it there ;p
[06:55:25] * strcat shrugs
[06:55:29] <dbaupp> alan_andrade: answered
[06:55:34] <strcat> if pkgbuild.com just used https it'd be enough
[06:55:40] <hoverbear> I know right?
[06:55:42] <strcat> since it's not mirrored
[06:56:59] *** sam113101_afk is now known as sam113101
[06:57:30] * strcat is a bad person and doesn't put expiry dates on his keys
[06:57:31] <derek_c> can you do something similar to Python's `for idx, elem in enumerate(lst)` for an iterator in Rust?
[06:57:50] <strcat> derek_c: for (idx, elem) in iter.enumerate() { }
[06:57:51] <dbaupp> derek_c: `for (idx, elem) in vec.iter().enumerate() { .. .}`
[06:58:19] *** Joins: meTaAU (admin@moz-9BDF415A.lns20.per1.internode.on.net)
[06:58:26] <derek_c> ah that's perfect. thanks!
[06:58:32] <strcat> rusti: let mut xs = [1, 2, 3]; for (i, r) in xs.mut_iter().enumerate() { *r = i; } xs
[06:58:32] -rusti- <anon>:9:79: 9:80 error: mismatched types: expected `int` but found `uint` (expected int but found uint)
[06:58:32] -rusti- <anon>:9         let mut xs = [1, 2, 3]; for (i, r) in xs.mut_iter().enumerate() { *r = i; } xs
[06:58:33] -rusti-                                                                                         ^
[06:58:33] -rusti- error: aborting due to previous error
[06:58:34] -rusti- application terminated with error code 101
[06:58:43] <strcat> rusti: let mut xs = [0u, ..10]; for (i, r) in xs.mut_iter().enumerate() { *r = i; } xs
[06:58:44] -rusti- [0u, 1u, 2u, 3u, 4u, 5u, 6u, 7u, 8u, 9u]
[06:58:45] <hoverbear> strcat: for shame! :-P
[06:58:55] <strcat> hoverbear: compiler bug
[06:58:56] <strcat> ;D
[06:59:17] <strcat> that's a good argument for generic int literals not having a fallback to a specific type - inference bugs.
[07:01:36] <eddyb> strcat: my only use for RefCell right now: changed_pc: RefCell<bool>,
[07:01:39] <eddyb> eeeh
[07:01:53] <strcat> lol
[07:02:04] <strcat> the sad parts of rust ;\
[07:03:02] <eddyb> I'll move to &'a mut bool
[07:04:45] <alan_andrade> @dbaupp wow!
[07:04:50] <alan_andrade> it works!
[07:04:51] *** Joins: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net)
[07:05:00] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Hibernating, be back soon.)
[07:05:15] <dbaupp> alan_andrade: does it answer all your questions though?
[07:05:30] <alan_andrade> @dbaupp man, I still don't know how it works.
[07:06:04] <alan_andrade> what's the unwrap_or(len) ?
[07:06:41] <strcat> rusti: let x = Some(5); x.unwrap_or(2)
[07:06:42] -rusti- 5
[07:06:45] <strcat> rusti: let x = None; x.unwrap_or(2)
[07:06:46] -rusti- 2
[07:06:55] *** Quits: KindOne (KindOne@moz-F99B80DB.dynamic.ip.windstream.net) (Ping timeout)
[07:06:57] *** Quits: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: ZZZzzz…)
[07:07:08] <strcat> rusti: let x = None; match x { Some(y) => y, None => 2 }
[07:07:09] -rusti- 2
[07:07:13] <strcat> rusti: let x = Some(5); match x { Some(y) => y, None => 2 }
[07:07:13] -rusti- 5
[07:07:18] <strcat> just a method doing that for you
[07:08:42] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:08:53] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:09:05] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:09:42] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:09:50] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:09:59] <alan_andrade> I get it conceptually, but Rust just looks to new to me.
[07:10:29] <geomyidae> Has the prelude been discussed previously in the ML? I'ma  bit surprised it's still a thing.
[07:10:49] *** Joins: KindOne (KindOne@moz-F99B80DB.dynamic.ip.windstream.net)
[07:11:00] <strcat1> geomyidae: as in the use statements the compiler injects when you're using the stdlib?
[07:11:32] <geomyidae> Yeah, they're a bit magic-y feeling sometimes but I guess thats a personal opinion
[07:11:38] <alan_andrade> @dbaupp thank you very much for the help. I appreciate it
[07:11:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:11:48] <strcat1> geomyidae: well most of the things in there shouldn't exist
[07:12:00] <strcat1> the stdlib heavily uses an extension trait anti-pattern to work around not being able to define methods directly on built-ins
[07:12:00] <geomyidae> o_0 I don't follow intuitively
[07:12:09] <geomyidae> oh
[07:12:10] <dbaupp> alan_andrade: I added some links to the docs for the things I used at the bottom of the answer
[07:12:19] <strcat1> you can only implement a method directly on a type defined in the same crate
[07:12:27] <strcat1> built-ins don't count as being defined in any crate
[07:12:34] <geomyidae> and that's planned to be changed, or you're just telling me the impl details?
[07:12:36] <strcat1> they should be associated with lang items
[07:12:41] <strcat1> geomyidae: it's a bug
[07:12:44] <geomyidae> I see
[07:12:53] <strcat1> and it's why there are so many traits with 1 impl, shoved in the prelude
[07:13:04] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Quit: Leaving...)
[07:13:16] <cmr> acrichto: guh that's going to be so far back in my backlog...
[07:13:20] <strcat1> in rust-core I decided to use free functions until the issue is fixed rather than many traits
[07:13:32] <cmr> acrichto: someone had a minimal example.
[07:13:41] * strcat1 thinks extension traits simply for method syntax are an anti-pattern now
[07:14:40] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[07:16:48] <geomyidae> strcat1: I kinda follow, can you give me a concrete example to trace?
[07:17:00] <strcat1> geomyidae: so, `int`
[07:17:03] <strcat1> it's a built-in type
[07:17:14] <strcat1> you can't 'impl int {}' because you're never in the crate `int` is defined
[07:17:18] <strcat1> so the stdlib will do
[07:17:33] <strcat1> trait Foo { fn foo(&self); } impl Foo for int { ... }
[07:17:39] <strcat1> and put Foo in the prelude
[07:17:51] <strcat1> even if `Foo` is defined *only* for int, and isn't actually used as a proper trait
[07:18:08] <strcat1> ofc, in general, stuff will trend towards being defined via traits for generic code
[07:18:15] <geomyidae> So I think I understand that.
[07:18:34] <strcat1> but the stdlib has a huge number of traits with 1 impl
[07:18:38] <strcat1> as a workaround for this
[07:19:13] <geomyidae> Okay, so Times
[07:19:18] <geomyidae> is the first example I found
[07:19:27] <geomyidae> http://static.rust-lang.org/doc/0.8/std/num/trait.Times.html (sorry, clicked .8 by accident)
[07:19:56] <strcat1> geomyidae: look in std::vec
[07:20:02] <geomyidae> Would that fit what you're describing? In the prelude, only one impl, etc?
[07:20:16] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[07:20:17] <strcat1> geomyidae: yes
[07:20:40] <strcat1> geomyidae: it could be 'impl uint { ... }' (although I'd rather not have a times method at all)
[07:20:56] <strcat1> but first we need to ability to mark the crate a built-in belongs to
[07:21:08] *** Quits: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[07:21:47] <geomyidae> Heh, two questions, why are you anti-times-method (never used a language where extension for built in types was encouraged/used so I have no exposure)
[07:22:49] <geomyidae> Oh, so built-in and standard-lib could be considered in the same crate for purposes of defining methods? Or in general is there a way of adding methods to types from other crates with some syntax/annotation?
[07:22:55] *** Quits: victorporof (victorporo@5877FE87.8F63DEBC.9B1E38F4.IP) (Quit: victorporof)
[07:23:13] <geomyidae> s/is there/will there be/
[07:24:47] <derek_c> how do you convert a string to an integer?
[07:24:49] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[07:25:25] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[07:25:34] <eddyb> rusti: let x: int = from_str("-15"); x
[07:25:35] -rusti- pastebinned 7 lines of output: http://sprunge.us/dCab
[07:25:52] <geomyidae> whomp whomp
[07:25:55] <eddyb> rusti: let x: int = from_str("-15").unwrap(); x
[07:25:57] -rusti- -15
[07:26:54] *** Quits: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP) (Ping timeout)
[07:27:22] <derek_c> eddyb: thanks :)
[07:27:42] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[07:29:15] <eddyb> rusti: 5.in(0..10)
[07:29:15] -rusti- <anon>:9:14: 9:16 error: expected `,` but found `..`
[07:29:15] -rusti- <anon>:9         5.in(0..10)
[07:29:15] -rusti-                        ^~
[07:29:15] -rusti- application terminated with error code 101
[07:29:22] * geomyidae still longs for a cuter rust mascot
[07:29:26] * eddyb wishes that could work
[07:30:31] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[07:31:17] <derek_c> when you initialize a struct, do you have to give values to every field?
[07:31:37] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[07:32:28] <jdm> rusti: match 5 { 0..10 => true, _ => false }
[07:32:29] -rusti- true
[07:32:32] <jdm> eddyb: ^ ?
[07:32:38] <eddyb> derek_c: there's a way to take values from the fields of another struct
[07:33:22] <eddyb> jdm: in my dreams, a..b desugars to range(a, b), and `in` is a contextual keyword, so you can use it as a function name
[07:33:27] <geomyidae> rusti: struct test { a: ~str, b: ~str } fn main() { let a = test { a: ~"test" }; }
[07:33:28] -rusti- <anon>:9:61: 9:65 error: missing field: `b`
[07:33:28] -rusti- <anon>:9         struct test { a: ~str, b: ~str } fn main() { let a = test { a: ~"test" }; }
[07:33:28] -rusti-                                                                       ^~~~
[07:33:28] -rusti- error: aborting due to previous error
[07:33:28] -rusti- application terminated with error code 101
[07:33:44] <eddyb> x.in(a..b) would be range(a, b).contains(x)
[07:33:47] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[07:33:58] <jdm> there's a certain appeal to that model
[07:34:49] <geomyidae> is that sugar "worth it"
[07:34:52] <eddyb> rusti: struct Test { a: ~str, b: ~str } let a = Test { a: ~"foo", b: ~"bar" }; let b = Test { b: ~"baz", ..a }; (a, b)
[07:34:53] -rusti- pastebinned 8 lines of output: http://sprunge.us/IMAZ
[07:35:03] <eddyb> lol
[07:35:20] <eddyb> rusti: struct Test { a: &'static str, b: &'static str } let a = Test { a: "foo", b: "bar" }; let b = Test { b: "baz", ..a }; (a, b)
[07:35:20] -rusti- (main::Test{a: "foo", b: "bar"}, main::Test{a: "foo", b: "baz"})
[07:35:44] <eddyb> derek_c: this is the most you can do to avoid fields ^
[07:36:06] <eddyb> derek_c: usually you add a Struct::new method that takes care of all the field-filling ;)
[07:36:45] <eddyb> geomyidae: I can see it working with more things than just integers
[07:37:24] <eddyb> let bb = min..max; point.in(bb)
[07:38:22] <eddyb> wait, you can intersect multi-dimensional ranges!
[07:39:22] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[07:39:49] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[07:40:01] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:40:07] <eddyb> #rust-gamedev might like that... but I'm not even sure that's the right channel name, I've yet to meet that (sub-)community
[07:40:23] <geomyidae> eddyb: I don't understand that example, what is the type of min/max in that example?
[07:40:52] <geomyidae> would that require implementing range or contains or whatever type that is, presumably?
[07:40:59] <eddyb> geomyidae: bb - "bounding box". they can be 2D, 3D or even ND vectors :P
[07:41:23] <derek_c> eddyb: ah that makes sense!
[07:41:31] <eddyb> it would require T: Ord, I think
[07:41:41] <derek_c> why can't I do `from_str<uint>(s)`?
[07:41:50] <derek_c> rusti: from_str<uint>("64")
[07:41:51] -rusti- <anon>:9:17: 9:21 error: unresolved name `uint`.
[07:41:51] -rusti- <anon>:9         from_str<uint>("64")
[07:41:51] -rusti-                           ^~~~
[07:41:51] -rusti- error: aborting due to previous error
[07:41:52] -rusti- application terminated with error code 101
[07:41:53] *** Joins: ssbr_ (~ssbr@98D3BE03.C60FE7DC.4065847B.IP)
[07:42:05] <eddyb> derek_c: try from_str::<uint>
[07:42:29] <derek_c> eddyb: that's how you invoke a genetic function?
[07:42:32] <celeron55> is there a way to give a name to a function type? like in C++ you can do stuff like typedef std::function<int(Foo&)> handler_t
[07:42:57] <geomyidae> ^^^ +1 I googled it last night and found a message from june/july that said it was desired but not yet impl'd
[07:43:03] <eddyb> celeron55: that's just an alias, not a type name, AFAIK. or use is an alias? can't remember for sure
[07:43:44] <celeron55> eddyb: umm... well, both alias and type name are probably just fine for my usage
[07:44:16] <eddyb> celeron55: type handler_t = fn(&Foo) -> int; but I'm not sure that would do anything interesting. type Handler = |&Foo| -> int; for an usable closure type
[07:45:09] <eddyb> celeron55: what's this for? you might want to use a trait instead of a function/closure
[07:45:26] *** Joins: victorporof (victorporo@moz-E149E862.info.uaic.ro)
[07:45:28] <celeron55> this seems to work
[07:45:37] <celeron55> i have a bunch of functions that take the same kind of callback as a parameter
[07:45:54] <eddyb> C functions?
[07:46:13] <celeron55> no, this is just rust
[07:46:28] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[07:46:28] <eddyb> celeron55: then why do you have callbacks :P?
[07:46:39] <eddyb> I'm pretty sure what you're doing there is not idiomatic
[07:47:01] <celeron55> because i'm an adventurous interface designer!
[07:47:19] <eddyb> "interface" screams "use traits"
[07:47:25] <celeron55> i'll probably rework this many times still; just looking at my options for now :P
[07:47:55] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[07:48:14] <eddyb> celeron55: foo(my_callback); if my_callback needs to be called after foo returns, then it can't be a stack closure. which means it has to be either a proc or a bare function
[07:48:57] <eddyb> celeron55: a proc is a heap closure that can be called once - you might want that, depending on your main use case. a bare function would be too nasty to use
[07:49:33] <celeron55> this interface will probably be used by generated code
[07:50:41] <eddyb> hmm, interesting. say more :P
[07:50:59] <celeron55> no, i don't yet really know what i'll be ending up with
[07:53:21] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[07:53:51] <eddyb> celeron55: what's it for? generated code makes me curious
[07:54:26] <eddyb> hmm, does libpng support streaming decoding?
[07:55:23] *** Joins: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr)
[07:56:41] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[07:56:46] <eddyb> doesn't look like it :D
[07:57:19] *** Quits: ssbr_ (~ssbr@98D3BE03.C60FE7DC.4065847B.IP) (Ping timeout)
[07:57:31] *** Joins: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP)
[07:58:03] *** Joins: deLta30 (quassel@759A606.56ECEC2E.E7E9D4A8.IP)
[08:01:30] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[08:03:01] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[08:03:02] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[08:06:30] *** Joins: alonlevy (alon@moz-D8EFCED8.bb.netvision.net.il)
[08:07:48] *** Quits: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP) (Ping timeout)
[08:10:31] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:12:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:16:01] *** Quits: alonlevy (alon@moz-D8EFCED8.bb.netvision.net.il) (Ping timeout)
[08:16:56] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[08:20:28] *** Joins: Ms2ger (Ms2ger@moz-7C292AC.adsl-dyn.isp.belgacom.be)
[08:20:44] *** Quits: thesnowdog (doug@E312D2E2.11882795.6F17036B.IP) (Connection reset by peer)
[08:22:27] *** Quits: sarclops (sarclops@moz-53A8054.mobile.tre.se) (Ping timeout)
[08:22:52] *** Joins: ssbr_ (~ssbr@98D3BE03.C60FE7DC.4065847B.IP)
[08:22:56] *** Joins: sarclops (sarclops@moz-3780BC9A.mobile.tre.se)
[08:24:28] *** Quits: deLta30 (quassel@759A606.56ECEC2E.E7E9D4A8.IP) (Ping timeout)
[08:25:47] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Quit: Leaving.)
[08:25:50] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:26:27] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[08:27:08] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[08:27:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:27:33] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:27:49] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:27:51] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:28:54] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[08:30:12] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[08:30:41] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[08:31:26] *** Quits: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:31:42] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[08:32:33] *** Joins: loren (loren@1F18520C.8C2A521C.405878F2.IP)
[08:32:59] <celeron55> is rustpkg supposed to work?
[08:33:08] *** Joins: oberstet (quassel@moz-55E769BB.dynamic.mnet-online.de)
[08:33:44] <celeron55> if i do "rustpkg install github.com/steveklabnik/hello", i get this:
[08:33:48] <celeron55> task '<unnamed>' failed at 'Unhandled condition: nonexistent_package: (package_id::PkgId{path: std::path::posix::Path{repr: ~[103u8, 105u8, 116u8, 104u8, 117u8, 98u8, 46u8, 99u8, 111u8, 109u8, 47u8, 115u8, 116u8, 101u8, 118u8, 101u8, 107u8, 108u8, 97u8, 98u8, 110u8, 105u8, 107u8, 47u8, 104u8, 101u8, 108u8, 108u8, 111u8], sepidx: Some(23u)}, short_name: ~"hello", version: NoVersion}, ~"supplied path for package dir does not exist, and couldn't ...
[08:33:54] <celeron55> ... interpret it as a URL fragment")', /build/rust-git/src/rust/src/libstd/condition.rs:131
[08:34:51] <eddyb> celeron55: I've heard that changing your $TMPDIR to something on the same file system works. no idea how that makes sense
[08:35:14] <celeron55> same file system as... what?
[08:35:24] <celeron55> $HOME? $CWD?
[08:35:53] <eddyb> celeron55: whereever it tries to install the package to, I think cwd
[08:35:57] <celeron55> apparently $CWD
[08:36:02] *** Quits: sarclops (sarclops@moz-3780BC9A.mobile.tre.se) (Ping timeout)
[08:36:13] <celeron55> okay, installing it while being in /tmp works
[08:36:32] <celeron55> how is this bug even possible
[08:36:35] <eddyb> I don't really understand why that happens
[08:36:58] <eddyb> so this works? TMPDIR=~/.tmp rustpkg install github.com/steveklabnik/hello
[08:37:02] *** Joins: sarclops (sarclops@moz-72AADE0A.mobile.tre.se)
[08:37:35] *** Quits: KindOne (KindOne@moz-F99B80DB.dynamic.ip.windstream.net) (Ping timeout)
[08:37:41] <celeron55> umm... nope
[08:38:03] <eddyb> you'd probably need to do this first: mkdir ~/.tmp
[08:38:12] <celeron55> oh, it does; i just had to create ~/.tmp first
[08:38:17] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:38:27] *** Quits: ssbr_ (~ssbr@98D3BE03.C60FE7DC.4065847B.IP) (Ping timeout)
[08:38:38] *** Joins: ssbr_ (~ssbr@46FE74EC.C60FE7DC.4065847B.IP)
[08:40:32] <celeron55> this appears to be broken so that it does't work after installing one package
[08:41:37] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:41:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:42:04] *** Joins: KindOne (KindOne@moz-F99B80DB.dynamic.ip.windstream.net)
[08:42:04] *** Quits: loren (loren@1F18520C.8C2A521C.405878F2.IP) (Quit: leaving)
[08:42:28] <celeron55> i can install eg. github.com/steveklabnik/hello, or github.com/sfackler/rust-ssl after rm -r ~/.rust/*, but then after trying to install a second one:
[08:42:31] <celeron55> task '<unnamed>' failed at 'Unhandled condition: nonexistent_package: (package_id::PkgId{path: std::path::posix::Path{repr: ~[103u8, 105u8, 116u8, 104u8, 117u8, 98u8, 46u8, 99u8, 111u8, 109u8], sepidx: None}, short_name: ~"github", version: NoVersion}, ~"supplied path for package dir does not exist, and couldn't interpret it as a URL fragment")', /build/rust-git/src/rust/src/libstd/condition.rs:131
[08:43:02] <celeron55> the installation order doesn't matter
[08:43:46] <eddyb> celeron55: did you prefix your install commands with TMPDIR=~/.tmp :P?
[08:43:51] <celeron55> yes
[08:44:17] <celeron55> that's how i can get the first one to install in the first place; even that is impossible otherwise
[08:44:24] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:44:39] *** Quits: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[08:45:07] <eddyb> weird :/
[08:45:50] <eddyb> rusti: let x = Some(5u); match x {Some(1..10) => x.unwrap(), _ => 0}
[08:45:51] -rusti- 5u
[08:46:01] <eddyb> rusti: let x = Some(5u); match x {Some(1..10@x) => x, _ => 0}
[08:46:01] -rusti- <anon>:9:45: 9:46 error: expected `,` but found `@`
[08:46:02] -rusti- <anon>:9         let x = Some(5u); match x {Some(1..10@x) => x, _ => 0}
[08:46:02] -rusti-                                                       ^
[08:46:02] -rusti- application terminated with error code 101
[08:46:08] <eddyb> rusti: let x = Some(5u); match x {Some(x@1..10) => x, _ => 0}
[08:46:08] -rusti- 5u
[08:46:16] <eddyb> kinda weird, but it works :D
[08:48:16] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[08:48:57] <celeron55> well, at least downloading the packages and building with rustc works
[08:49:40] *** Joins: thesnowdog (doug@3BEE6B46.8E46834.6F17036B.IP)
[08:49:45] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[08:49:50] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[08:51:39] *** Joins: rca (rcatolino@D9432C32.20117C61.520D6FA6.IP)
[08:56:10] <eddyb> is there a method to validate a &'a [u8] as utf-8 and return &'a str?
[08:56:24] <eddyb> or even better, compare a &str with a &[u8]
[08:56:34] *** sam113101 is now known as sam113101_afk
[08:56:49] *** Quits: thesnowdog (doug@3BEE6B46.8E46834.6F17036B.IP) (Connection reset by peer)
[08:56:54] *** sam113101_afk is now known as sam113101
[08:58:06] <eddyb> yuss http://static.rust-lang.org/doc/master/std/str/fn.from_utf8.html
[09:00:22] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[09:00:52] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:01:13] <geomyidae> does it validate it?
[09:01:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:01:26] <geomyidae> dur, never mind
[09:01:32] <geomyidae> chrome takes too long to load
[09:02:45] <bjz> geomyidae: yeah, returns an option
[09:02:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:03:19] <geomyidae> wait, I thought the docs say it fails
[09:03:33] <eddyb> see http://static.rust-lang.org/doc/master/std/str/fn.from_utf8_opt.html
[09:03:34] <Ms2ger> from_utf8_opt, maybe
[09:04:09] <eddyb> rusti: from_str(['A' as u8, 'B' as u8])
[09:04:10] -rusti- pastebinned 7 lines of output: http://sprunge.us/BhhM
[09:04:21] <eddyb> rusti: from_utf8(['A' as u8, 'B' as u8])
[09:04:22] -rusti- <anon>:9:8: 9:17 error: unresolved name `from_utf8`.
[09:04:22] -rusti- <anon>:9         from_utf8(['A' as u8, 'B' as u8])
[09:04:22] -rusti-                  ^~~~~~~~~
[09:04:22] -rusti- error: aborting due to previous error
[09:04:22] -rusti- application terminated with error code 101
[09:04:24] <eddyb> mkay
[09:04:41] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[09:04:49] <Ms2ger> If you want to compare a &str with a &[u8], str.as_bytes() == buf?
[09:05:16] <eddyb> Ms2ger: it's a match against string constants
[09:05:59] <Ms2ger> So?
[09:08:50] <derek_c> where can I find documentation about the kind of format string that Ruse uses?
[09:09:31] <bjz> derek_c: std::fmt has some
[09:09:40] <bjz> we need documentable macros
[09:09:51] <bjz> :(
[09:10:19] <bjz> derek_c: http://static.rust-lang.org/doc/master/std/fmt/index.html
[09:10:27] <derek_c> bjz: got it. thanks :)
[09:11:05] <eddyb> Ms2ger: I would need .as_bytes() for every match chase
[09:11:16] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:11:25] <Ms2ger> Mm
[09:12:04] <geomyidae>  Ruse, and chases. Rust: the programming language of Indiana Jones
[09:12:13] *** Quits: victorporof (victorporo@moz-E149E862.info.uaic.ro) (Quit: victorporof)
[09:12:22] *** Joins: victorporof (victorporo@moz-E149E862.info.uaic.ro)
[09:13:00] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:14:10] <bjz> geomyidae: hum?
[09:14:39] <geomyidae> bad attempt at a joke based on typos
[09:14:55] <bjz> ha...?
[09:15:35] *** Parts: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (http://quassel-irc.org - Chat comfortably. Anywhere.)
[09:16:27] *** Quits: sarclops (sarclops@moz-72AADE0A.mobile.tre.se) (Ping timeout)
[09:17:28] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:17:41] *** Joins: sarclops (sarclops@moz-72AADE0A.mobile.tre.se)
[09:20:06] *** sam113101 is now known as sam113101_afk
[09:22:21] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[09:22:23] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[09:24:35] *** Joins: thesnowdog (doug@774A27EF.8E46834.6F17036B.IP)
[09:25:24] *** Quits: derek_c (derek@moz-69296470.cit.cornell.edu) (Quit: Leaving)
[09:25:26] *** sam113101_afk is now known as sam113101
[09:28:16] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[09:33:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:34:20] *** Quits: Kxepal (Miranda@moz-55D1CED9.pppoe.mtu-net.ru) (Ping timeout)
[09:35:06] *** Joins: jackneill (jackneill@moz-49B68C71.pool.digikabel.hu)
[09:35:59] *** sam113101 is now known as sam113101_afk
[09:36:23] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[09:36:54] *** sam113101_afk is now known as sam113101
[09:37:33] *** Joins: Kxepal (Miranda@moz-59F10283.pppoe.mtu-net.ru)
[09:38:23] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[09:39:48] <ezyang> Is a default "field" accessor for tuples, e.g. x.1 or something? 
[09:41:12] <bjz> rusti: (1, 2).n1()
[09:41:13] -rusti- 2
[09:41:27] <ezyang> nifty 
[09:41:30] <bjz> I should probably rename those to ._1
[09:41:46] <eddyb> and make them work with very large tuples
[09:41:52] <bjz> for some reason I prefixed them with n
[09:42:09] <dbaupp> bjz: "nth" isn't unreasonable
[09:42:12] <ezyang> Hang on, does this work for tuple structures? 
[09:42:15] <eddyb> rusti: (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16).n0()
[09:42:16] -rusti- pastebinned 5 lines of output: http://sprunge.us/LIcN
[09:42:19] <eddyb> ezyang: nope
[09:42:22] <bjz> ezyang: no
[09:42:26] <ezyang> :-( 
[09:42:27] <bjz> :(
[09:42:38] <eddyb> and capture matching isn't there yet
[09:42:59] <eddyb> let StructTuple(..tuple) = value;
[09:43:03] <dbaupp> ezyang: they're just a pile of trait impls https://github.com/mozilla/rust/blob/master/src/libstd/tuple.rs#L219-L333
[09:43:29] * bjz wishes we had (x0, x1, x2, ..., xn).get::<n>()
[09:43:37] <bjz> like C++
[09:44:09] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[09:44:21] <eddyb> pretty sure C++11 tuples are nastier than that
[09:44:26] <sam113101> what's that?
[09:44:53] <ezyang> ...what is this error "mismatched types: expected `&T` but found `&T` (expected type parameter but found type parameter)" 
[09:44:59] <eddyb> bjz: we need specialization in Rust for that
[09:45:02] <bjz> http://en.wikipedia.org/wiki/C++11#Tuple_types
[09:45:04] <eddyb> ezyang: it's a different T
[09:45:11] *** Joins: xfce-x64 (Google_Chr@B7A4A03A.8E892078.2D4378B7.IP)
[09:45:14] <ezyang> oh oops 
[09:45:16] <sam113101> you guys always talk of C++
[09:45:18] <bjz> eddyb: yeah, they are horrible without pattern matching
[09:45:29] <eddyb> bjz: std::get<0>
[09:45:51] <eddyb> you can't use a method because of the template ambiguity madness
[09:45:53] <bjz> sam113101: because it is a great language (in some respects)
[09:46:05] <bjz> yep
[09:46:22] <sam113101> why do I always hear that it sucks, though?
[09:46:32] <ezyang> Wowzer, this is some terrifying macro code 
[09:46:39] <bjz> sam113101: because it does (in lots of respects)
[09:46:57] <eddyb> bjz: std::tuple_element<I, T>::type needs both generics over numbers and some crazy specialization
[09:47:23] <sam113101> ◕ ◡ ◔ 
[09:47:27] <bjz> eddyb: yeah, no idea how it could work
[09:47:49] <bjz> sam113101: exactly
[09:48:09] <bjz> sam113101: but don't let the extremists tell you that C++ is garbage
[09:48:17] <eddyb> even with my variadic generics proposal, it's still hard to write a zip function for (a, b, c).zip((d, e, f))
[09:48:20] <xfce-x64> I want to dev html5 apps 
[09:48:42] <bjz> xfce-x64: \o/
[09:49:00] <eddyb> you need to define a type ZipTuple<(..T), (..U)> with a default expansion and 3 specializations
[09:49:06] <xfce-x64> ya
[09:49:21] <xfce-x64> I want to learn HTML5 apps dev .. where do i start ?
[09:49:45] <sam113101> you want to use rust on the server side?
[09:50:02] <bjz> eddyb: wish we could have (a1, b1, c1).zip(a2, b2, c2)
[09:50:17] <xfce-x64> What is rust ?? 
[09:50:19] <eddyb> bjz: if the first form works, that would also work
[09:50:34] <bjz> xfce-x64: ChrisMorgan has rust-http
[09:50:47] <eddyb> xfce-x64: look at the channel name and topic. are you sure you're in the right place :)?
[09:50:54] <bjz> xfce-x64: oh, are you looking for a different mozilla channel?
[09:50:54] <xfce-x64> yep
[09:50:59] <xfce-x64> No 
[09:51:00] <xfce-x64> no
[09:51:03] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:51:12] <xfce-x64> I want to start with firefox app dev also HTML5 app dev 
[09:51:16] <xfce-x64> Where to start ?
[09:51:16] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:51:21] <xfce-x64> Is rust mozilla lang ?
[09:51:24] <bjz> xfce-x64: rust is super cool, but it's a system programming lang
[09:52:06] <sam113101> #lostontheircs
[09:52:16] <xfce-x64> by mozilla?
[09:52:24] <xfce-x64> Can we do web programming in rust 
[09:52:40] <bjz> xfce-x64: https://wiki.mozilla.org/IRC#Project_Channels
[09:53:12] <bjz> xfce-x64: you might be able to do it with enscripten in the future, but at the moment it's better for native dev
[09:53:22] <eddyb> if you want to fix emscripten and sm/v8 bugs for the rest of your 9 lives (if you're a cat, otherwise you're screwed), sure!
[09:53:23] <xfce-x64> oh
[09:53:28] <bjz> xfce-x64: you could use it for backend server stuff
[09:53:30] * eddyb goes back to writing that long code thingy
[09:54:02] <eddyb> type ZipTuple<(HeadA, ..TailA), (HeadB, ..TailB)> = ((HeadA, HeadB), ..ZipTuple<TailA, TailB>); type ZipTuple<(), (Head, ..Tail)> = (((), Head), ..ZipTuple<(), Tail>); type ZipTuple<(Head, ..Tail), ()> = ((Head, ()), ..ZipTuple<Tail, ()>); type ZipTuple<(HeadA, ..TailA), (HeadB, ..TailB)> = ((HeadA, HeadB), ..ZipTuple<TailA, TailB>); type ZipTuple<(), (Head, ..Tail)> = (((), Head), ..ZipTuple<(), Tail>); type ZipTuple<(), ()> = ();
[09:54:31] <eddyb> bjz: ^ and that assumes type param tuple "pattern" matching, which I'm not sure I want just yet
[09:54:42] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[09:54:42] <bjz> xfce-x64: Rust is designed for high performance, concurrent systems programming, with safe deterministic memory management
[09:54:45] <eddyb> oh dear it's less readable than I thought, with wrapping
[09:54:48] *** Joins: nkoep (nik@moz-FA80E197.pool.mediaways.net)
[09:55:00] <xfce-x64> oh 
[09:55:02] <xfce-x64> Sorry 
[09:55:07] *** Parts: xfce-x64 (Google_Chr@B7A4A03A.8E892078.2D4378B7.IP) (Leaving)
[09:55:08] <bjz> xfce-x64: good for user facing applications like web browsers or games
[09:55:19] <bjz> haha
[09:55:22] <bjz> :P
[09:55:46] <ssbr> Pft, silly rabbit, mozilla is for web development
[09:57:22] <eddyb> type TupleItem<(Head, ..Tail), N: static uint> = TupleItem<Tail, N-1>; type TupleItem<(Head, ..Tail), 0u> = Head;
[09:58:32] <FreeFull> People have already written multiple very simple OS kernels in Rust
[09:58:39] <FreeFull> Proving it can run on bare metal too
[09:58:55] <eddyb> FreeFull: too late (for xfce-x64) :P
[09:58:59] <bjz> :)
[09:59:16] <FreeFull> Oh well =P
[10:00:42] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[10:02:46] <ezyang> Playing around with pattern matching, I've noticed something odd 
[10:03:02] <ezyang> Which is that match *p { x => ... } is not the same as match p { &x => ... } 
[10:03:22] <ezyang> The borrow checker treats them differently 
[10:03:34] *** Quits: jdm (jdm@moz-78156D60.dsl.teksavvy.com) (Quit: Lost terminal)
[10:03:49] <eddyb> ezyang: the latter should allow for more
[10:04:06] <ezyang> That's right! 
[10:04:22] <ezyang> But... I dunno, it seems weird that they're not equivalent 
[10:04:32] <bjz> ezyang: make an issue?
[10:04:57] <ezyang> I mean, I'm not sure the borrow check is wrong here 
[10:05:29] <bjz> if you are wrong, you will be corrected, and it will be good documentation in the future
[10:05:38] <bjz> but it's worth asking
[10:05:56] <ezyang> ok 
[10:06:42] <ezyang> ...I wish I knew how to search for an issue like this 
[10:07:49] *** Quits: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net) (Quit: )
[10:14:16] <ezyang> Hmm, minimizing this test-case is trickier then I thought 
[10:14:30] *** Quits: rca (rcatolino@D9432C32.20117C61.520D6FA6.IP) (Ping timeout)
[10:17:11] <ezyang> wowzer, this behavior only occurs when I'm doing a double pattern match 
[10:18:13] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[10:18:32] *** Parts: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) ()
[10:21:18] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[10:22:17] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[10:22:48] <eddyb> ezyang: you might be causing moves
[10:24:48] <ezyang> I guess 
[10:24:56] <ezyang> I don't understand pattern matching syntax to know well enough 
[10:28:34] <eddyb> ezyang: *x renders the original x unusable if x is not copiable
[10:28:43] <eddyb> i.e. a move happens
[10:28:54] *** Quits: nkoep (nik@moz-FA80E197.pool.mediaways.net) (Ping timeout)
[10:29:16] <eddyb> well, if T is not copiable and x is &T
[10:29:44] <eddyb> rusti: let s = ~"foo"; let s = &s; (*s, s)
[10:29:46] -rusti- pastebinned 19 lines of output: http://sprunge.us/KODH
[10:29:50] <ezyang> ah, but this totally works OK if I do match *x { p => ... } 
[10:30:02] <ezyang> It *only* fails when I do match (*x, 0) { (p, _) => ... } 
[10:30:21] <eddyb> ezyang: what matters is the code you're not showing :P
[10:30:42] <myname> so, match x { *x => is the prefered way?
[10:30:45] <myname> erm
[10:30:45] <eddyb> AFAIK, nothing there can fail, unless you use x later
[10:30:47] <myname> &x
[10:30:48] <ezyang> yeah, I'm typing up the bug report 
[10:30:50] <ezyang> hang on 
[10:30:59] <eddyb> ezyang: are you sure it's a bug? show us the code first
[10:31:22] <eddyb> myname: depends on the type of x
[10:31:31] <eddyb> rusti: let s = ~"foo"; (s, s)
[10:31:32] -rusti- pastebinned 8 lines of output: http://sprunge.us/SKTW
[10:31:46] <myname> eddyb: well, for larger types of x
[10:32:02] <eddyb> myname: larger is of no importance
[10:32:03] <ezyang> eddyb: http://lpaste.net/96739 
[10:32:19] <eddyb> ezyang: Nat is non-copiable
[10:32:29] <myname> eddyb: what is?
[10:32:30] <ezyang> So why does the bottom fragment work? 
[10:33:04] <eddyb> ezyang: there is nothing wrong with your bottom fragment
[10:33:33] <ezyang> It seems to me that the third code fragment ought to attempt a copy too 
[10:33:42] <eddyb> no, that's a move
[10:33:50] *** Quits: victorporof (victorporo@moz-E149E862.info.uaic.ro) (Quit: victorporof)
[10:33:54] <eddyb> ezyang: a move is like a copy but the original becomes unusable
[10:34:03] <eddyb> myname: copiability
[10:34:09] <ezyang> ...really? 
[10:34:23] <ezyang> If I have '	       S(~ref m) => n,' that still borrow checks 
[10:34:25] <myname> eddyb: so i HAVE to copy it in both ways?
[10:34:45] <eddyb> myname: in this case, ezyang has ~Nat in enum Nat, which make it non-copiable (passing it by value is a move, not a copy)
[10:35:01] <eddyb> myname: this is about implicit operations
[10:35:17] <eddyb> "have to" doesn't make sense, are you thinking of .clone()?
[10:35:37] <eddyb> ezyang: this might be a bug, I'm still trying to figure out the details here
[10:35:41] <ezyang> OK 
[10:37:05] <eddyb> ezyang: the third fragment might be a special case
[10:37:24] <ezyang> That sounds plausible 
[10:37:55] <ezyang> Though, I still don't think the problem has anything to do with moves 
[10:39:27] <ezyang> So, should I file this? 
[10:39:30] <eddyb> ezyang: I think the last one isn't moving
[10:39:57] <eddyb> so the only bug here would be that the third fragment works
[10:40:00] *** Joins: w3lcome (Mibbit@EAD96774.6B9C41FA.6316A47C.IP)
[10:40:12] *** Quits: bjz (bjz@moz-C1B1AF2A.lnse2.cha.bigpond.net.au) (Ping timeout)
[10:40:26] <ezyang> haha, ok 
[10:40:45] *** Quits: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Connection reset by peer)
[10:40:56] <ezyang> but, couldn't rustc hypothetically convert all match * => to match => & 
[10:41:16] <ezyang> To put it another way, they type-check the same way 
[10:41:22] <eddyb> ezyang: the proper solution is to match n against &S(~ref m). since it's top level, I guess that's easy thing to detect
[10:42:34] <eddyb> ezyang: but you're putting it in a tuple
[10:42:48] <ezyang> which gets immediately destructed 
[10:42:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[10:43:05] <eddyb> that's a lot harder to have working
[10:43:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:45:00] <ezyang> hmm... rustc should complain about unused generics 
[10:45:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:45:10] *** Joins: nkoep (nik@moz-E0632049.vpn.rwth-aachen.de)
[10:49:51] <ezyang> OK https://github.com/mozilla/rust/issues/10858 
[10:53:04] <ChrisMorgan> ezyang: there are circumstances where unused generics are actually quite reasonable, though such cases may sometimes just indicate that other parts of the type system are not complete yet.
[10:53:39] <ezyang> ChrisMorgan: Yeah, coming from Haskell they can be handy 
[10:54:19] <ezyang> Do unused generics also no-op compilation wise? 
[10:55:07] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[10:55:27] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[10:55:35] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Ping timeout)
[10:55:41] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[10:57:39] <FreeFull> Phantom types?
[10:57:47] *** Joins: Palmik (palmik@moz-DEC2AB.pks.muni.cz)
[10:58:36] *** Joins: nawfel (Mibbit@6A8F11CC.DC42D29D.13B3C60E.IP)
[11:00:37] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[11:00:43] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[11:01:20] <eddyb> ezyang: foo::<uint> and foo::<int> will be two different functions
[11:02:06] <eddyb> ezyang: you can actually have fn foo<N>() {... size_of::<N>() ...} and specialize a function on an unsigned integer, like so: foo::<[u8, ..5]>()
[11:02:20] *** Quits: nawfel (Mibbit@6A8F11CC.DC42D29D.13B3C60E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:06:02] <FreeFull> Which is different from Haskell, which doesn't let you know anything about the type
[11:06:48] *** Joins: siavashserver (siavash@4C709420.90416268.82A25C10.IP)
[11:07:01] *** Quits: Palmik (palmik@moz-DEC2AB.pks.muni.cz) (Quit: Lost terminal)
[11:08:13] *** Joins: lenstr (lenstr@2BF5A23.9636F313.7A27613B.IP)
[11:10:21] *** Joins: bjz (bjz@moz-C1B1AF2A.lnse2.cha.bigpond.net.au)
[11:12:51] *** Quits: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr) (Ping timeout)
[11:13:42] *** Quits: bjz (bjz@moz-C1B1AF2A.lnse2.cha.bigpond.net.au) (Ping timeout)
[11:15:44] <eddyb> what's the simplest way to get INFLATE?
[11:16:25] *** Quits: siavashserver (siavash@4C709420.90416268.82A25C10.IP) (Quit: Konversation terminated!)
[11:16:57] <eddyb> http://static.rust-lang.org/doc/master/extra/flate/fn.inflate_bytes.html this looks too simple :/
[11:19:24] <eddyb> http://static.rust-lang.org/doc/master/std/io/flate/struct.InflateReader.html yuss :D
[11:19:35] <ezyang> eddyb: Even when there's no dependence on T? 
[11:20:25] *** Joins: rca (rcatolino@D9432C32.20117C61.520D6FA6.IP)
[11:21:02] <eddyb> ezyang: I think there's a(n upcoming) LLVM pass (search for "mergefunc") to deal with that, but otherwise, each instantiation is separate
[11:22:05] <klutzy> eddyb: http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/io/flate.rs.html#71
[11:22:34] <eddyb> klutzy: you've got to be kidding me
[11:22:51] <eddyb> WTF is that
[11:22:52] <klutzy> I was curious why extra::flate exists then, but it answers :/
[11:23:06] *** Joins: tcr (tcr@F7218B86.6FB13E6B.658DF4E8.IP)
[11:23:12] <eddyb> gaaaaah
[11:23:49] <eddyb> does nothing offer me streaming inflation?
[11:24:23] <eddyb> I want something with a state and in which I can put compressed bytes in and get decompressed bytes out
[11:25:55] <dbaupp> extra::flate is historical
[11:26:58] <klutzy> it's also bad that extra::flate requires whole rustrt binary to be linked
[11:28:40] <eddyb> d oI need to wrap zlib myself?
[11:28:54] <eddyb> s/d oI/do I/
[11:30:17] *** Quits: tcr (tcr@F7218B86.6FB13E6B.658DF4E8.IP) (Client exited)
[11:30:37] *** Joins: tcr (tcr@F7218B86.6FB13E6B.658DF4E8.IP)
[11:30:53] *** Quits: lenstr (lenstr@2BF5A23.9636F313.7A27613B.IP) (Ping timeout)
[11:32:21] *** Quits: tcr (tcr@F7218B86.6FB13E6B.658DF4E8.IP) (Ping timeout)
[11:32:46] *** Joins: lenstr (lenstr@2BF5A23.9636F313.7A27613B.IP)
[11:33:05] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[11:33:44] <klutzy> dbaupp: is ```rust ... ``` in doc tested by `make check`?
[11:34:20] *** Joins: tcr (tcr@F7218B86.6FB13E6B.658DF4E8.IP)
[11:34:46] *** Quits: tcr (tcr@F7218B86.6FB13E6B.658DF4E8.IP) (Client exited)
[11:35:06] *** Joins: tcr (tcr@F7218B86.6FB13E6B.658DF4E8.IP)
[11:35:45] *** Joins: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr)
[11:36:57] *** Quits: tcr (tcr@F7218B86.6FB13E6B.658DF4E8.IP) (Ping timeout)
[11:39:07] <FreeFull> eddyb: zlib shouldn't be too bad to wrap, I think
[11:39:32] <dbaupp> klutzy: I wish ( https://github.com/mozilla/rust/issues/2925 )
[11:39:38] <dbaupp> klutzy: (as in, not yet.)
[11:40:32] *** Joins: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP)
[11:41:35] <eddyb> this is old https://github.com/seanmoon/rust-zlib
[11:41:59] <eddyb> and it does something weird
[11:42:44] <eddyb> eww uncompress >_>
[11:51:15] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[11:54:11] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[11:55:50] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[11:56:00] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[11:58:14] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[11:58:24] *** Joins: peterdn (chatzilla@moz-C490E6B8.eduroam.oxuni.org.uk)
[11:58:29] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:59:53] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[12:01:35] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[12:04:33] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:05:52] *** Joins: ekiara (emk@moz-9B1940E9.tech.co.ke)
[12:06:52] *** Joins: novabyte (novabyte@68860272.ABC206C9.398E636E.IP)
[12:07:10] <novabyte> this morning I'm reading through some of the rust-http code
[12:07:27] <novabyte> I'm a bit lost as to the purpose of the "codegen" section
[12:07:49] <novabyte> I know that there are a bunch of macros being applied to generate Status codes etc
[12:08:05] <novabyte> but I don't know why there's a separate "codegen" tool
[12:08:27] <eddyb> novabyte: I think it's for a HTTP protocol decoder something something
[12:08:44] <eddyb> a state machine too complicated to write manually
[12:09:48] <novabyte> I see, my knowledge of Rust is limited at the moment and even more limited around the macro system but why can't the state machine be generated by a macro?
[12:12:47] <eddyb> novabyte: I've heard rust macros are turing complete, but you can't, for example, iterate over a range with them
[12:13:00] <novabyte> ah ok
[12:13:19] <novabyte> eddyb: thanks for the explanation :)
[12:13:31] <novabyte> I was just curious
[12:13:33] *** Joins: beifeng (Mibbit@56199C9D.67084680.C7DB8B78.IP)
[12:13:47] <eddyb> they're like a turing tarpit sometimes :P
[12:13:54] <novabyte> lol
[12:14:03] *** zz_kimundi is now known as kimundi
[12:14:24] <eddyb> to iterate over a range, you usually have to input every value. it works for small values, I guess
[12:14:32] <eddyb> haha, I just had the silliest idea
[12:14:42] <Ms2ger> Oh dear
[12:15:00] *** Quits: lenstr (lenstr@2BF5A23.9636F313.7A27613B.IP) (Ping timeout)
[12:15:05] <eddyb> encoding (0, n) range by writing n in binary
[12:15:33] <eddyb> then you can have the macro do a binary expansion
[12:15:57] <eddyb> and I think you can alias hex values so it's slightly easier to input large numbers
[12:18:05] <eddyb> s/hex values/hex nibbles
[12:21:27] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[12:26:01] <eddyb> I have to look at node.js to see how to use the zlib API properly, this is ridiculous!
[12:28:36] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[12:28:38] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[12:31:16] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[12:34:34] *** Joins: Ferreus (ferreus@moz-839C62A6.pools.arcor-ip.net)
[12:38:43] *** Joins: victorporof (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP)
[12:39:38] *** Joins: victorporof_ (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP)
[12:40:23] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[12:40:47] *** Quits: victorporof (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP) (Ping timeout)
[12:40:47] <celeron55> if i make a macro which takes a comma-separated list of arguments and wants to call an another macro with the same comma-separated list of arguments, how do i make it work?
[12:41:08] <celeron55> a naive approach results in "error: Unexpected end of macro invocation" because there's a trailing comma
[12:41:53] <Ms2ger> What do you have?
[12:42:31] <celeron55> where is the println! macro defined? it seems to do a similar thing
[12:44:41] *** Joins: vmx (vmx@moz-48553030.pools.arcor-ip.net)
[12:44:59] <celeron55> trying to find anything from the standard library's sources on github is way too hard... i guess i should make a local clone
[12:45:16] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[12:45:31] <eddyb> celeron55: ($foo:expr,)* has a trailing comma
[12:45:38] <eddyb> celeron55: ($foo:expr),* doesn't
[12:46:28] <celeron55> oh that was easy
[12:51:10] <celeron55> rust's macro system is quite enjoyable
[12:52:17] <eddyb> at least it works in rust :P
[12:56:38] *** Quits: sarclops (sarclops@moz-72AADE0A.mobile.tre.se) (Ping timeout)
[13:00:49] *** Joins: xarcus (Mibbit@moz-4E3ADB28.superkabel.de)
[13:00:52] *** Quits: xarcus (Mibbit@moz-4E3ADB28.superkabel.de) (Quit: xarcus)
[13:01:34] *** Joins: mib_kntxbr (Mibbit@moz-4E3ADB28.superkabel.de)
[13:02:31] *** Quits: mib_kntxbr (Mibbit@moz-4E3ADB28.superkabel.de) (Quit: http://www.mibbit.com ajax IRC Client)
[13:03:01] <eddyb> writing an inflate implementation by looking at the RFC might have been faster
[13:05:15] *** Joins: netoarmando (textual@1020617A.54E155A2.FC4CA3ED.IP)
[13:05:51] <eddyb> https://github.com/elly/rustzlib/blob/master/zlib.rs back to the past!
[13:06:06] <eddyb> oh, and it's the same kind of simplistic FFI >_>
[13:07:21] *** Joins: bjz (bjz@moz-C1B1AF2A.lnse2.cha.bigpond.net.au)
[13:09:36] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:19:43] *** Quits: netoarmando (textual@1020617A.54E155A2.FC4CA3ED.IP) (Quit: )
[13:20:59] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[13:23:11] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[13:25:43] <celeron55> what is the current status of macros in modules?
[13:27:52] *** Quits: beifeng (Mibbit@56199C9D.67084680.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:27:57] <eddyb> celeron55: #[macro_escape] makes them available outside of the current module
[13:28:15] <eddyb> but it's all pretty hacky atm
[13:30:11] *** Joins: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net)
[13:34:02] *** Joins: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr)
[13:36:12] <eddyb> eeeeeeeh
[13:36:18] * eddyb fails his arms around
[13:37:18] <eddyb> Rust is a Good Thing (TM). look at all that shitty API design in used-by-everything-including-your-toaster C libraries
[13:37:40] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[13:38:45] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[13:39:11] <eddyb> oh, look https://github.com/madler/zlib/blob/master/inflate.c#L113
[13:40:43] <celeron55> lol wat 8)
[13:41:22] <eddyb> I was complaining *before* I looked at the code
[13:42:48] *** Quits: japaric (japaric@7C76557C.60901FDF.95AE23EB.IP) (Ping timeout)
[13:43:09] <pyrac> Could someone help me update https://gist.github.com/osaut/2487539926430fc9522e to rust master (writing to a file)?
[13:43:44] *** Joins: japaric (japaric@7C76557C.60901FDF.95AE23EB.IP)
[13:44:12] <eddyb> pyrac: there's actually a macro that doesn't allocate (like format does) and it's used specifically for that :P
[13:44:37] <eddyb> write!(writer, "POINTS {:u} float\n", crowd.size()); // should work, AFAIK
[13:44:55] <pyrac> eddyb: great! thanks
[13:45:36] <eddyb> pyrac: why would you use f64 for time, btw?
[13:46:16] <eddyb> at least unsigned overflow is obvious, floating-point will show relativistic effects >______>
[13:46:38] *** Joins: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net)
[13:46:55] <pyrac> eddyb: it is old code, at one time I had to choose between f32 and f64. 
[13:47:28] *** Joins: lenstr (lenstr@2BF5A23.9636F313.7A27613B.IP)
[13:47:31] <celeron55> well f64 won't show relativistic effects in a long time (f32 can be actually wonky in practice)
[13:47:35] <eddyb> pyrac: why floating-point at all? that's what I meant
[13:48:06] <pyrac> eddyb: this is an extract from a math. model, I am integrating in time so I need accuracy
[13:48:22] <pyrac> eddyb: https://github.com/osaut/rustic_cells
[13:49:20] <eddyb> f64 doesn't give you accuracy :P
[13:49:27] <pyrac> eddyb: btw with your solution I still have an error: mismatched types: expected `&mut std::io::Writer<no-bounds>` but found `std::io::fs::File` (expected trait std::io::Writer but found struct std::io::fs::File)
[13:50:02] <pyrac> eddyb: if you compute with  them I believe they do :)
[13:50:13] *** Joins: smodo (drau@moz-6398EFDF.dclient.hispeed.ch)
[13:50:19] *** Quits: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr) (Ping timeout)
[13:50:25] <eddyb> pyrac: hmmmm. try &mut writer as &mut ::std::io::Writer
[13:50:33] <eddyb> instead of writer in the write! macro
[13:50:41] *** Joins: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr)
[13:50:47] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:51:22] <eddyb> I'm not sure exactly how File interacts with Writer
[13:51:34] <pyrac> eddyb: it works thanks !
[13:51:41] <eddyb> there might be helper methods
[13:51:59] <eddyb> Some(mut writer) should be Some(mut file) and then you should get writer from file
[13:53:00] <pyrac> eddyb: it is not clear to me, I have last update this code around 0.7. Much has changed since back then
[13:54:16] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[13:54:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:54:57] <eddyb> pyrac: Some(ref mut file) => { let writer = file as &mut Writer;
[13:56:59] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[13:58:55] <pyrac> eddyb: I am a bit lost with Some(ref mut file) I have unreachable pattern, and with Some(mut file) I have error: can only cast an &-pointer to an &-object, not a struct std::io::fs::File
[13:59:25] <eddyb> pyrac: hmm. mut ref, then?
[13:59:48] <eddyb> not sure if that even works. anyway, let write = &mut file as &mut Writer; will work with just Some(mut file)
[14:00:06] <pyrac> eddyb: with mut ref I get : error: found `ref` in ident position
[14:00:15] <eddyb> myeah, that might be broken
[14:01:12] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[14:02:42] <pyrac> eddyb: thanks for your help, I will try to investigate a little more !
[14:03:38] <pyrac> btw the current "rustic" way to write a string to a file is  writer.write(bytes!("my string")); ?
[14:04:18] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[14:04:22] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[14:05:48] <eddyb> pyrac: not really. write! should work better
[14:05:48] <pyrac> eddyb: Some(ref mut f)  and then let writer=f as &mut Writer; write!(writer, "POINTS {:u} float\n", crowd.size()); compiles ! Thanks
[14:05:57] <eddyb> :D
[14:06:21] *** Joins: morphevs (Adium@moz-2486EF49.dclient.hispeed.ch)
[14:09:20] *** Joins: tcr (tcr@1021DD2F.1E1F6C0.AF6F698.IP)
[14:10:25] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[14:11:03] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Ping timeout)
[14:11:56] *** Quits: tcr (tcr@1021DD2F.1E1F6C0.AF6F698.IP) (Client exited)
[14:12:16] *** Joins: tcr (tcr@1021DD2F.1E1F6C0.AF6F698.IP)
[14:14:00] *** Quits: tcr (tcr@1021DD2F.1E1F6C0.AF6F698.IP) (Ping timeout)
[14:14:14] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[14:15:51] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[14:16:49] <xitology> Hi! std::io::stdin().read_line() no longer works for me. How could I read a line from stdin with the current rust?
[14:17:35] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[14:17:50] <eddyb> aaaaand we're back to that FAQ
[14:17:52] <klutzy> xitology: let buf_reader = BufferedReader::new(std::io::stdin()); reader.read_line()
[14:18:09] <klutzy> BufferedReader is at std::io::buffered I think.
[14:18:17] <xitology> thanks, got it
[14:18:40] *** Joins: vadimcn (chatzilla@91A9CD53.76F9E272.DA40C4B3.IP)
[14:20:50] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[14:22:05] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[14:23:31] *** Quits: rca (rcatolino@D9432C32.20117C61.520D6FA6.IP) (Ping timeout)
[14:24:10] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Ping timeout)
[14:24:14] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[14:25:35] *** Joins: rca (rcatolino@D9432C32.20117C61.520D6FA6.IP)
[14:25:50] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[14:27:42] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[14:34:08] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[14:36:35] *** Joins: beifeng (Mibbit@56199C9D.67084680.C7DB8B78.IP)
[14:38:11] *** Quits: lenstr (lenstr@2BF5A23.9636F313.7A27613B.IP) (Ping timeout)
[14:39:39] *** Joins: lenstr (lenstr@2BF5A23.9636F313.7A27613B.IP)
[14:40:12] *** Joins: lenstr_ (lenstr@2BF5A23.9636F313.7A27613B.IP)
[14:40:13] *** Quits: lenstr (lenstr@2BF5A23.9636F313.7A27613B.IP) (Connection reset by peer)
[14:45:16] *** Quits: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net) (Quit: )
[14:56:39] *** Joins: indutny (indutny@moz-3589B90B.c.ircrelay.com)
[14:58:04] *** Quits: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr) (Quit: pyrac)
[14:59:23] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:59:54] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[15:01:19] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[15:04:49] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[15:05:41] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Ping timeout)
[15:09:48] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[15:12:19] *** Joins: Sinz (chatzilla@moz-DDA89504.adsl.highway.telekom.at)
[15:12:30] *** Sinz is now known as D3xter
[15:13:33] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[15:19:43] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[15:22:26] *** Joins: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net)
[15:24:51] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[15:25:16] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[15:25:32] *** Quits: smodo (drau@moz-6398EFDF.dclient.hispeed.ch) (Input/output error)
[15:27:02] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[15:27:54] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[15:28:37] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[15:29:49] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[15:30:51] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:31:30] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[15:31:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:34:26] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[15:35:51] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Ping timeout)
[15:36:26] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[15:39:41] *** Joins: alex-abreu (alex@moz-56E743D3.rev.sfr.net)
[15:39:54] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[15:40:05] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[15:41:56] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[15:42:17] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[15:43:08] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Connection reset by peer)
[15:43:25] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[15:45:07] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[15:45:11] *** jorendorff_away is now known as jorendorff
[15:45:36] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[15:45:55] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[15:46:00] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[15:48:19] *** jorendorff is now known as jorendorff_away
[15:50:31] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:50:51] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Connection reset by peer)
[15:51:06] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[15:52:21] *** Joins: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr)
[15:53:41] *** Joins: headcrash (Mibbit@moz-3652E738.pools.spcsdns.net)
[15:54:01] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[15:54:58] *** Quits: oberstet (quassel@moz-55E769BB.dynamic.mnet-online.de) (Client exited)
[15:57:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:02:26] <vmx> make check of libextra (make check-stage2-extra NO_REBUILD=1) fails for me in a weird way. is that a known problem? it looks llvm related https://www.friendpaste.com/60a5Q4bpnChYZVsINXQGns
[16:02:43] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[16:03:02] <vmx> the only thing i found was this: https://github.com/mozilla/rust/pull/10850 would i need a "make clean" (i only did a "make" after pulling the most recent master)
[16:03:29] *** Quits: StarLight (StarLight@moz-6761B40.dynamic.avangarddsl.ru) (Connection reset by peer)
[16:05:31] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[16:08:10] *** Joins: StarLight (StarLight@moz-B6134C8F.dynamic.avangarddsl.ru)
[16:09:27] *** Quits: nkoep (nik@moz-E0632049.vpn.rwth-aachen.de) (Ping timeout)
[16:09:56] *** kimundi is now known as zz_kimundi
[16:09:57] *** Quits: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr) (Ping timeout)
[16:13:24] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[16:13:44] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[16:15:27] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[16:16:01] *** Quits: D3xter (chatzilla@moz-DDA89504.adsl.highway.telekom.at) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0.1/20131112160018])
[16:16:41] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[16:18:00] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[16:18:28] *** Quits: rca (rcatolino@D9432C32.20117C61.520D6FA6.IP) (Ping timeout)
[16:18:36] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[16:20:02] *** Joins: cubic_ (cubic@moz-80241A3A.mc.videotron.ca)
[16:20:02] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[16:20:28] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[16:20:35] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Ping timeout)
[16:20:53] *** Quits: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr) (Quit: pyrac)
[16:21:07] *** Quits: cubic_ (cubic@moz-80241A3A.mc.videotron.ca) (Connection reset by peer)
[16:22:55] *** Joins: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr)
[16:26:54] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[16:27:55] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[16:28:01] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[16:28:02] *** Joins: nkoep (nik@moz-FA80E197.pool.mediaways.net)
[16:28:24] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:28:25] *** ChanServ sets mode: +ao dherman dherman
[16:30:06] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[16:31:50] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[16:34:22] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[16:35:05] *** Joins: laci (Mibbit@moz-B7AD0DBF.pool.digikabel.hu)
[16:35:12] <laci> hi
[16:36:21] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[16:36:34] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[16:36:40] *** Parts: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) ()
[16:38:19] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[16:38:44] <laci> if I try to iterate over the command line args like: for arg in std::os::args().iter() { println("{}", *arg) } then it fails to compile, but it seems to work perfectly if I create a variable for the return value of std::os::args(). Is this a bug or is this working as intended? if the latter then can someone explain why?
[16:40:09] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:42:09] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:42:50] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[16:43:03] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[16:44:00] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[16:44:49] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[16:45:54] *** Quits: brylie (quassel@moz-E27796EB.hsd1.or.comcast.net) (Ping timeout)
[16:46:28] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[16:47:03] <dwrensha> laci: bug, I think. As I understand it, "for ... in ..." is syntactic sugar that still has some quirks
[16:48:15] <laci> alright, thanks!
[16:49:29] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[16:49:41] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[16:51:18] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[16:55:42] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[16:56:13] *** Quits: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr) (Quit: pyrac)
[16:56:16] <dwrensha> laci: hm, I'm now not so sure that it's a bug...
[16:56:22] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[16:57:02] *** Joins: b (b@moz-55CA322E.org)
[16:57:28] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[16:58:05] *** Quits: peterdn (chatzilla@moz-C490E6B8.eduroam.oxuni.org.uk) (Ping timeout)
[16:59:46] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:00:01] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[17:00:56] <dwrensha> std::os::args() returns an owned vector that only lives as long as the expression it appears in, std::os::args().iter()
[17:01:45] *** zz_kimundi is now known as kimundi
[17:02:06] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:02:43] *** Joins: peterdn (chatzilla@moz-CEEE64E4.as13285.net)
[17:03:29] <dwrensha> v.iter() borrows a reference to v. The borrow cannot outlive v.
[17:03:31] <eddyb> dwrensha: it's not a bug, but the compiler could extend that lifetime for the minimum necessary to make the code work. that's a tricky feature to have
[17:04:53] <dwrensha> But for the iteration to work, the borrow must be valid for the body of the whole "for" expression.
[17:04:55] *** Joins: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr)
[17:05:06] <dwrensha> eddyb: yeah, that does sound tricky
[17:09:25] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[17:09:37] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:09:52] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[17:12:03] *** Joins: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com)
[17:12:40] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[17:13:47] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:16:05] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[17:17:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:18:58] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:19:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:19:43] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[17:20:00] <hoverbear> Would love to hear from any of you about what would work well in a prepared Rust development docker image: http://www.reddit.com/r/rust/comments/1se6qa/rfc_what_do_you_want_in_a_rust_docker_image/
[17:20:34] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[17:20:44] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:20:49] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:21:28] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[17:22:13] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[17:22:33] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:22:34] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:24:19] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[17:24:48] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[17:26:30] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:26:42] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[17:27:04] *** Quits: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:27:44] <vmx> in case someone read my message earlier on. nevermind a "make clean" seems to have fixed the issue
[17:28:12] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[17:30:20] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:32:56] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:34:37] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[17:34:46] *** Quits: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[17:34:47] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[17:35:33] *** Quits: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: ZZZzzz…)
[17:36:35] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[17:36:41] *** Parts: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) ()
[17:39:25] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:39:27] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[17:40:26] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[17:40:30] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[17:41:09] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[17:43:14] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:45:21] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[17:45:34] *** Joins: synackse (synackse__@7DAC4ACE.77F880E0.D9401097.IP)
[17:45:43] *** Joins: TobiasFar (tm@moz-A929D162.flosoft-servers.net)
[17:45:54] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:46:01] *** Quits: nkoep (nik@moz-FA80E197.pool.mediaways.net) (Ping timeout)
[17:47:35] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[17:49:23] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:49:25] *** Joins: g3xzh (g3xzh@40598BF2.3E4B1E75.E9C721AF.IP)
[17:51:02] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[17:51:04] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:52:26] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:53:53] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Connection reset by peer)
[17:54:08] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:54:17] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[17:54:30] *** Quits: laci (Mibbit@moz-B7AD0DBF.pool.digikabel.hu) (Quit: http://www.mibbit.com ajax IRC Client)
[17:56:00] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[17:57:36] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[17:58:29] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[17:58:37] *** kimundi is now known as zz_kimundi
[18:00:32] *** Joins: nkoep (nik@moz-7611C7C1.vpn.rwth-aachen.de)
[18:00:43] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:00:46] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[18:00:46] *** Quits: g3xzh (g3xzh@40598BF2.3E4B1E75.E9C721AF.IP) (Ping timeout)
[18:01:01] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:01:48] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[18:03:33] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[18:10:29] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: moving)
[18:10:49] *** Joins: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch)
[18:11:54] *** Joins: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com)
[18:14:04] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:14:06] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:14:07] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Connection reset by peer)
[18:14:25] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:15:33] *** Quits: novabyte (novabyte@68860272.ABC206C9.398E636E.IP) (Quit: Leaving.)
[18:16:54] *** Joins: g3xzh (g3xzh@40598BF2.3E4B1E75.E9C721AF.IP)
[18:17:15] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[18:17:56] *** zz_kimundi is now known as kimundi
[18:18:06] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:18:17] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:18:26] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:19:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:19:33] *** Quits: g3xzh (g3xzh@40598BF2.3E4B1E75.E9C721AF.IP) (services.mozilla.org (Too many invalid passwords))
[18:19:45] *** Joins: g3xzh (g3xzh@moz-8BA27A47.red.bezeqint.net)
[18:19:57] *** Quits: g3xzh (g3xzh@moz-8BA27A47.red.bezeqint.net) (Quit: Leaving)
[18:20:11] *** Joins: g3xzh (g3xzh@moz-8BA27A47.red.bezeqint.net)
[18:21:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:22:35] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[18:22:42] *** Joins: jdm (jdm@moz-78156D60.dsl.teksavvy.com)
[18:22:42] *** ChanServ sets mode: +o jdm
[18:29:42] *** Quits: beifeng (Mibbit@56199C9D.67084680.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:31:46] *** Quits: jdm (jdm@moz-78156D60.dsl.teksavvy.com) (Quit: Lost terminal)
[18:32:23] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[18:34:08] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[18:35:25] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[18:35:42] *** Quits: wry (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[18:36:34] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[18:36:52] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[18:39:15] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[18:39:31] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[18:39:36] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[18:39:43] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[18:41:24] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[18:41:30] *** Joins: vincent_ (uid19700@moz-A42E5B7B.irccloud.com)
[18:41:44] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[18:42:49] *** Quits: lteo (lteo@moz-6787793C.lteo.net) (Quit: leaving)
[18:45:28] *** Joins: octurion (octurion@moz-E7EA111C.clients.kiwiirc.com)
[18:45:51] *** Quits: Zor (zor@moz-180BED6.rfw.name) (Ping timeout)
[18:51:33] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:53:19] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[18:53:21] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[18:56:07] *** jorendorff_away is now known as jorendorff
[18:56:08] *** Joins: Zor (zor@moz-180BED6.rfw.name)
[18:57:32] *** jorendorff is now known as jorendorff_away
[18:57:52] *** Joins: fabiand (fabiand@moz-C69053D9.static.qsc.de)
[18:58:48] <octurion> Does rust have an equivalent to C99 designated array initializers?
[18:59:12] *** Quits: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr) (Quit: pyrac)
[18:59:23] <octurion> For example: bool prime[] = {[2] = true, [3] = true, [5] = true, ...}
[18:59:58] *** Joins: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr)
[19:00:52] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:00:58] <kimundi> octurion: No, though stuff like that can be done with an macro, and/or we might get generic syntax for initializer lists some day
[19:03:27] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[19:03:42] *** Joins: random_infinity (ri@moz-67FFE3EC.pools.arcor-ip.net)
[19:03:52] *** Quits: JanC (janc@moz-6323E888.dsl.scarlet.be) (Client exited)
[19:04:18] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:04:36] *** Joins: JanC (janc@moz-6323E888.dsl.scarlet.be)
[19:04:48] *** Quits: heftig (heftig@moz-C96B5FF5.dip0.t-ipconnect.de) (Ping timeout)
[19:05:16] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[19:06:55] *** Joins: lfox (lfox@12E8CF24.F74F95CB.ECED8BE3.IP)
[19:07:12] *** Parts: random_infinity (ri@moz-67FFE3EC.pools.arcor-ip.net) ()
[19:07:17] *** Quits: Zor (zor@moz-180BED6.rfw.name) (Ping timeout)
[19:08:02] *** Joins: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net)
[19:09:00] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[19:09:13] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[19:10:11] *** Joins: heftig (heftig@moz-8E8EC722.dip0.t-ipconnect.de)
[19:10:42] *** vincent_ is now known as Randm
[19:11:53] *** Quits: alex-abreu (alex@moz-56E743D3.rev.sfr.net) (Ping timeout)
[19:12:50] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[19:16:16] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Ping timeout)
[19:16:48] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[19:19:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:19:28] *** Quits: octurion (octurion@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[19:19:32] *** Joins: JoelMcCracken (user@moz-634E8562.pitbpa.east.verizon.net)
[19:19:56] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[19:20:01] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[19:20:37] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[19:21:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:21:08] *** Joins: b (b@moz-55CA322E.org)
[19:21:29] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[19:23:24] *** Quits: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr) (Quit: pyrac)
[19:24:08] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[19:24:16] *** Joins: Zor (zor@moz-180BED6.rfw.name)
[19:26:59] *** Joins: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr)
[19:27:28] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[19:28:40] *** Quits: morphevs (Adium@moz-2486EF49.dclient.hispeed.ch) (Quit: Leaving.)
[19:28:41] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[19:30:34] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Ping timeout)
[19:31:22] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:32:54] *** Quits: LimeBurst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[19:33:00] *** Joins: LimeBurst (me@247D1419.D73964AC.27A8748.IP)
[19:33:42] *** Joins: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com)
[19:34:12] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[19:34:57] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[19:35:30] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[19:37:33] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[19:37:43] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[19:38:52] *** Joins: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr)
[19:41:16] *** Quits: nkoep (nik@moz-7611C7C1.vpn.rwth-aachen.de) (Ping timeout)
[19:44:02] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[19:44:22] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[19:44:23] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[19:44:27] *** Parts: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) ()
[19:44:48] <Leo`> mhhhh
[19:45:11] <Leo`> rustc complains that the types are not of the same size when I try to transmute a [u16, .. x] into a Slice<u16>
[19:45:23] <Leo`> isn't Slice the right repr. for this ?
[19:45:45] <Leo`> it says Slice is 128 bits long (which seems correct since I build on x86_64)
[19:46:10] <Leo`> but it says that [u16, .. x] is 96 bits long
[19:46:11] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[19:46:20] <SiegeLord> What's x?
[19:46:35] <Leo`> oh wait
[19:46:40] <Leo`> SiegeLord: nevermind
[19:46:43] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:46:45] <Leo`> I just understood
[19:46:56] <Leo`> noob question really
[19:49:31] *** Quits: pyrac (pyrac@moz-5494D0C.w82-125.abo.wanadoo.fr) (Quit: pyrac)
[19:50:51] <Leo`> mh but still
[19:51:19] <Leo`> if I try to transmute &array into the Slice, it fails too, since &array is only 64 bits (just a pointer)
[19:51:50] <Leo`> but if I instead create a function taking a &[u16] and doing the transmute, and that I pass just array to this function
[19:51:53] <Leo`> it works... ?
[19:53:30] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[19:53:39] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[19:53:44] <dwrensha> what do you mean "&array"?
[19:53:44] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[19:54:04] <dwrensha> &[u16] is already a slice
[19:54:08] <Leo`> dwrensha: array is a [u16, .. x]
[19:54:13] <Leo`> and then
[19:54:47] <Leo`> let sl: Slice<u16> = cast::transmute(&array);
[19:54:52] <Leo`> this doesn't work
[19:55:35] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[19:56:22] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[19:56:25] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[19:56:36] <dwrensha> does calling "array.as_slice()" solve your problem?
[19:57:10] *** Joins: b (b@moz-55CA322E.org)
[19:57:15] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[19:59:57] *** Joins: nkoep (nik@moz-4F8C991D.vpn.rwth-aachen.de)
[20:00:07] <Leo`> dwrensha: I'm working without the runtime :P
[20:00:15] <Leo`> in fact I'm following http://blog.theincredibleholk.org/blog/2013/11/18/booting-to-rust/
[20:00:34] <Leo`> If you look the Hello world part, there is a fn buf_ptr<T>(buf: &[T]) -> (*T, uint)
[20:00:46] <Leo`> I was wondering why one has to define such a function
[20:00:55] <Leo`> instead of directly calling transmute on the array
[20:01:26] <dwrensha> [u16, .. 6] is a buffer with 6 continuous u16's
[20:01:29] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[20:01:32] <dwrensha> *contiguous
[20:01:33] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[20:02:02] <dwrensha> a slice is, I think, a pointer and a length
[20:02:02] *** Joins: morphevs (Adium@EDE2AE44.478AE5F1.308675D.IP)
[20:02:05] *** Joins: khyperia (khyperia@moz-AF00B41A.hsd1.in.comcast.net)
[20:02:13] <dwrensha> so you can't just transmute one into the other
[20:03:50] *** Quits: morphevs (Adium@EDE2AE44.478AE5F1.308675D.IP) (Ping timeout)
[20:03:59] <dwrensha> when you call buf_ptr(ar), if ar has type [u16, ..6] then a slice is automatically constructed from ar
[20:04:27] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[20:05:47] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Quit: Leaving)
[20:06:35] <khyperia> Hello all! I'm a newcomer to Rust, are there any must-reads for beginners to the language? (such as LYAH for Haskell)
[20:09:05] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[20:09:16] *** Quits: JoelMcCracken (user@moz-634E8562.pitbpa.east.verizon.net) (Ping timeout)
[20:12:40] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:14:41] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[20:15:17] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[20:15:47] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:15:47] <achin> khyperia: start with the tutorial
[20:16:02] <khyperia> you mean this - http://static.rust-lang.org/doc/0.8/tutorial.html ? Reading through it now.
[20:16:30] <kimundi> khyperia: There is not too much reading material that is good right now. There are the tutorials, and "rust for rubyists", but aside from that, best just ask questions here :)
[20:16:41] <Leo`> dwrensha: I see
[20:16:47] <achin> yep.  be sure to read the version that corresponds to the version of rust you're using.  that's the right version for 0.8, but if you're using rust from git/master use the 'master' version
[20:17:13] <Leo`> and if I do &array to take a pointer to the [u16, .. 6], doesn't this create a Slice as well ?
[20:17:27] *** Parts: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) ()
[20:17:42] <khyperia> Kinda funny, about a year ago I had a look at Rust and was confused at all the weirdness. Now that I've been using Haskell for about half a year, though, everything makes sense now and I'm saying "wow, this is a really cool language".
[20:18:01] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[20:18:19] *** Quits: w3lcome (Mibbit@EAD96774.6B9C41FA.6316A47C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:19:07] <achin> haskell can do that to you :)
[20:19:13] <dwrensha> Leo`: no, then you get a &[u16, ..6], which is not a slice
[20:19:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:19:28] <dwrensha> it's a borrowed pointer to a [u16, ..6]
[20:20:02] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[20:20:09] <Leo`> dwrensha: 'k
[20:20:45] <Leo`> it's not very intuitive that implicit borrow by passing to a function and explicit borrow with & don't return the same thing
[20:20:59] <kimundi> khyperia: Btw, if at all possible, use current master docs and rust
[20:21:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:21:13] <sp3d> auto-slicing is weird
[20:22:07] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[20:23:16] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[20:23:24] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Ping timeout)
[20:23:43] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[20:24:03] *** Joins: jviereck (Adium@moz-92459614.dip0.t-ipconnect.de)
[20:24:59] *** Quits: lenstr_ (lenstr@2BF5A23.9636F313.7A27613B.IP) (Ping timeout)
[20:25:16] *** Quits: jviereck (Adium@moz-92459614.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:26:27] *** Joins: SingingBoyo (SingingBoy@moz-589929A0.ubcsecure.wireless.ubc.ca)
[20:26:31] *** Joins: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP)
[20:26:38] <zslayton> Is it possible to implement a trait for a type that happens to be used as an enum value? https://gist.github.com/zslayton/7863380
[20:26:51] <zslayton> I was hoping to extend the functionality of the Object type defined in extra::json,
[20:27:00] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Quit: Leaving.)
[20:27:08] <zslayton> but I can't seem to convince the compiler that it's a good idea. :P
[20:27:18] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[20:28:41] <hoverbear> zslayton: The compiler knows better. :-P
[20:29:07] <kimundi> zslayton: enum variants are not types, only the enum itself is
[20:29:24] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[20:29:39] <zslayton> kimundi: D'oh! I was hoping that the `type Object = ...` definition meant otherwise.
[20:30:37] <zslayton> I suppose that the only option I have is to implement the trait for the Json object and have an additional Err variant if the Json value isn't an Object
[20:31:15] <kimundi> zslayton: Yeah, soemthing like that
[20:31:38] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[20:35:00] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[20:35:17] *** Joins: alex-abreu (alex@moz-4B4D75AD.rev.sfr.net)
[20:38:14] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[20:39:13] *** Quits: g3xzh (g3xzh@moz-8BA27A47.red.bezeqint.net) (Quit: Leaving)
[20:39:52] * khyperia laughs at the similarity between #[no_implicit_prelude]; and {-# LANGUAGE NoImplicitPrelude #-}
[20:42:58] *** Quits: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr) (Ping timeout)
[20:44:19] *** Joins: lenstr (lenstr@26B976A9.9636F313.7A27613B.IP)
[20:44:19] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Connection reset by peer)
[20:47:15] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[20:48:01] *** Quits: lenstr (lenstr@26B976A9.9636F313.7A27613B.IP) (Ping timeout)
[20:48:21] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[20:49:07] *** Quits: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com) (Connection reset by peer)
[20:49:18] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[20:49:34] *** Joins: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com)
[20:50:23] *** Joins: mib_ex7e7f (Mibbit@8FE7C725.64ABE665.DBA68950.IP)
[20:50:56] *** Quits: mib_ex7e7f (Mibbit@8FE7C725.64ABE665.DBA68950.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:51:47] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[20:55:12] *** Quits: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP) (Client exited)
[20:55:13] *** Joins: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net)
[20:59:09] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[20:59:49] *** Joins: moostik (Icedove@moz-698B575F.w86-212.abo.wanadoo.fr)
[21:00:23] *** Quits: Ferreus (ferreus@moz-839C62A6.pools.arcor-ip.net) (Ping timeout)
[21:03:17] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[21:03:31] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[21:05:44] *** Joins: alonlevy (alon@moz-D8EFCED8.bb.netvision.net.il)
[21:06:37] *** Joins: JoelMcCracken (user@moz-634E8562.pitbpa.east.verizon.net)
[21:06:49] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[21:06:55] *** Joins: lenstr (lenstr@26B976A9.9636F313.7A27613B.IP)
[21:06:56] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:10:14] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[21:10:24] <JoelMcCracken> I'm thinking about working on a rust project. If I wanted to build a GUI for an application in Rust, what libraries should I look at? Would Servo be a reasonably useful possibility?
[21:12:50] *** Joins: zmthy (tim@moz-C2881CC3.ecs.vuw.ac.nz)
[21:13:47] <headcrash> I think there are bindings available for gtk and tck/tk on github i believe
[21:14:24] <celeron55> and wxwidgets
[21:14:32] <achin> https://github.com/mozilla/rust/wiki/Note-wanted-libraries
[21:14:54] <FreeFull> wxwidgets would probably be easier than gtk
[21:15:41] <SiegeLord> wxwidgets is at least being updated... I can't seem to find a maintained gtk binding
[21:16:15] <JoelMcCracken> ic
[21:16:20] <headcrash> i see one for gtk updated 5 days ago
[21:16:35] <SiegeLord> Which one is it?
[21:16:48] <headcrash> https://github.com/JeremyLetang/rgtk
[21:17:00] <dbaupp> khyperia: that was by design (GHC was exactly where I borrowed that idea)
[21:17:15] <khyperia> oh, really? Neato!
[21:17:17] <SiegeLord> Heh, I only saw rustgtk and gtkrust
[21:17:30] *** Joins: Ferreus (ferreus@moz-F0185779.pools.arcor-ip.net)
[21:18:18] <khyperia> I'm liking Rust more and more! (dunno if you saw me come in a bit ago, I'm only just beginning checking it out)
[21:18:58] <canhtak> hi, rgtk is my repo, but not ready to be used. It wraps some widget with a oriented object way.
[21:19:04] <JoelMcCracken> great!
[21:19:16] *** Quits: moostik (Icedove@moz-698B575F.w86-212.abo.wanadoo.fr) (Ping timeout)
[21:19:19] <canhtak> if you want to contribute you're welcome
[21:19:19] *** Joins: moostik (Icedove@moz-698B575F.w86-212.abo.wanadoo.fr)
[21:19:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:19:24] <dbaupp> khyperia: awesome! hope to see you around more then :)
[21:19:26] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:21:04] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:22:07] *** Parts: Randm (uid19700@moz-A42E5B7B.irccloud.com) ()
[21:22:58] *** Joins: ktt3ja_ (ktt3ja@moz-D69B60E4.hsd1.va.comcast.net)
[21:23:17] *** Quits: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:23:33] *** Parts: ktt3ja_ (ktt3ja@moz-D69B60E4.hsd1.va.comcast.net) (Leaving)
[21:23:37] *** Joins: ktt3ja_ (ktt3ja@moz-D69B60E4.hsd1.va.comcast.net)
[21:23:45] *** Parts: ktt3ja_ (ktt3ja@moz-D69B60E4.hsd1.va.comcast.net) (Leaving)
[21:24:21] *** Joins: ktt3ja (ktt3ja@moz-D69B60E4.hsd1.va.comcast.net)
[21:25:14] <strcat> dbaupp: https://github.com/thestinger/rust-core/blob/master/README.md basically a long list of implementation issues :(
[21:25:25] *** Quits: jackneill (jackneill@moz-49B68C71.pool.digikabel.hu) (Ping timeout)
[21:26:06] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[21:26:07] *** Quits: fabiand (fabiand@moz-C69053D9.static.qsc.de) (Quit: Verlassend)
[21:26:47] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[21:30:14] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[21:30:24] *** Quits: headcrash (Mibbit@moz-3652E738.pools.spcsdns.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:30:43] *** Joins: jvns (bork@87D98E32.4046EB22.428F94DD.IP)
[21:30:46] <khyperia> are there any modes for editors that have things like autocomplete/etc?
[21:31:26] <strcat> there's no proper semantic auto-complete implemented
[21:31:51] <strcat> you can use hackish ctags-based completion or text-based completion
[21:32:12] <khyperia> Aww.
[21:33:30] <JoelMcCracken> ... which works well, and is essentially all I ever use, personally ;)
[21:33:46] <strcat> doesn't work very well
[21:34:14] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[21:34:16] <strcat> youcompleteme's C++ auto-complete is a *lot* nicer than tag or text-based completion
[21:34:29] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[21:34:53] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Ping timeout)
[21:35:26] <strcat> it's fast even on an enormous project, and always up-to-date
[21:35:32] <strcat> and has accurate type-based completion
[21:35:56] <JoelMcCracken> nice
[21:36:24] <strcat> for rust, foo.<tab> should be able to find all the methods for this instance of that type (depends on the generic parameters) including any trait implementations
[21:36:47] <strcat> that's what youcompleteme-level support would do (+ youcompleteme gives you fuzzy search on top of that)
[21:36:52] * strcat shrugs
[21:37:13] *** Quits: victorporof_ (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP) (Quit: victorporof_)
[21:37:26] <strcat> if someone was using rust for something real and needed to be productive, they'd miss that a lot
[21:39:16] <khyperia> autocomplete is basically necessary for me when exploring new libraries. Looking up docs in a web browser kills productivity.
[21:40:10] <strcat> librustc wasn't written with auto-complete in mind
[21:41:05] <strcat> libclang was designed that way, and can do stuff like type resolution on partially complete inputs
[21:41:27] <strcat> so I wouldn't expect a solid auto-complete for rust any time soon
[21:41:51] *** Joins: headcrash (Mibbit@moz-3652E738.pools.spcsdns.net)
[21:41:59] <khyperia> Dang.
[21:42:12] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[21:43:04] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[21:43:07] <strcat> a new language means the need for reinventing a whole lot of stuff
[21:43:09] <khyperia> How open is the compiler API? As in, how difficult would it be to hook into it and pull out the syntax tree on valid input?
[21:43:16] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:43:27] <strcat> khyperia: that's not going to be the barrier
[21:43:33] <JoelMcCracken> indeed. which is a shame.
[21:43:40] <khyperia> then what is the barrier?
[21:43:43] <strcat> the compiler isn't designed to do type resolution on partial inputs at all
[21:43:44] <dwrensha> libclang is just a C wrapper to clang internals, and it came along a while after clang itself, I believe
[21:43:46] <strcat> it's completely incapable of doing it
[21:44:13] <strcat> it goes through a series of phases, and each phase relies on the past phase being successful
[21:44:28] <khyperia> Well, I'm thinking more of a hack where you say "update type information" in whatever editor you're using, and it updates the symbol table. It doesn't try to partially resolve things.
[21:44:57] <strcat> khyperia: the compiler isn't able to do any type inference or resolving on an incomplete input
[21:44:59] <strcat> it just plain won't work
[21:45:05] <strcat> from the bottom up, it's not designed that way
[21:45:08] <khyperia> I'm not talking about incomplete input.
[21:45:19] <Blei> canhtak: cool repo! i was hoping to do something like this in the future, but i'm too lazy. great that it already exists :D
[21:45:25] <strcat> isn't that what auto-complete usually has to deal with?
[21:45:46] <Blei> have you thought about parsing the gtk metadata files and generating nice interfaces automatically?
[21:45:48] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[21:45:51] <strcat> you can pile on hacks like cutting out the current function from the text
[21:45:53] <khyperia> I use autocomplete as more of a library exploration tool. Libraries usually don't dynamically change on you.
[21:46:02] <strcat> khyperia: the code *you're* writing does
[21:46:08] <Blei> i mean the gtk-introspection xml files (or whatever they're called)
[21:46:08] <khyperia> Locals I can remember and type out.
[21:46:14] <strcat> khyperia: not talking about that
[21:46:19] <strcat> you're writing code
[21:46:22] <strcat> you type foo.<tab>
[21:46:24] <strcat> what type is `foo`?
[21:46:32] <strcat> rust has no way to find out
[21:46:33] <khyperia> Ah, yeah, good point.
[21:46:37] <khyperia> Sorry.
[21:46:39] <canhtak> Blei: If you want to help you can! i have begin to use closure to passe event but not much time for the moment to work on rgtk.
[21:46:42] <strcat> and the fact that you're writing code probably means the current function is incomplete
[21:46:48] <strcat> so it's going to have an invalid return, etc.
[21:46:58] <strcat> won't make it through type checking/inference
[21:47:07] <Blei> canhtak: i'll have a look at it sometime this week probably
[21:47:19] <Blei> i could try porting my 8tracks client over and see what breaks :D
[21:47:25] <strcat> khyperia: it's probably going to be really hard to redesign a lot of that stuff to be auto-complete friendly
[21:47:26] <canhtak> blei: no plan for xml file for the moment, but i can be interesting.
[21:47:51] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[21:48:02] <khyperia> yeah, the dot operator / overloading kinda really complicates everything quite badly. I'm used to Haskell where there is no overloading.
[21:48:13] <Blei> yeah, as far as i know they expose all the information that would be needed, but i haven't looked at it lately, maybe i'm misremembering
[21:48:15] <hoverbear> strcat: I noticed that YouCompleteMe in vim was able to suggest some things, but not types/structs etc
[21:48:21] <canhtak> blei: i probably doesn't work it's in really early stage of development... and signal are broken in many way...
[21:48:26] <strcat> hoverbear: youcompleteme falls back to text-based completion
[21:48:32] <strcat> hoverbear: it's not context-aware at all
[21:48:44] <strcat> in C++ it has semantic, accurate completion based on libclang
[21:48:45] <Blei> haha, ok, i'll see what breaks and send some pull requests, maybe
[21:48:47] <hoverbear> strcat: When I saved it would tell me if I had (Certain) syntax errors though
[21:49:41] *** Quits: peterdn (chatzilla@moz-CEEE64E4.as13285.net) (Ping timeout)
[21:50:19] <strcat> hoverbear: well it doesn't have any rust support
[21:50:47] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[21:51:08] <hoverbear> strcat: That's what I though too, but it was actually reporting errors from rustc. It missed a lot though, seemed like it was only catching syntax errors, nothing else. Eg it would tell me when I forgot a {} around my if statement.
[21:51:39] *** Joins: peterdn (chatzilla@moz-3DA3F15F.as13285.net)
[21:51:40] <strcat> hoverbear: I don't think that's anything youcompleteme is doing - are you sure that's not syntastic or something else?
[21:51:52] <hoverbear> strcat: Oh it might be syntastic!
[21:52:57] <Earnestly> s/might be/is
[21:55:16] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[21:59:53] <FreeFull> rusti: if true ()
[21:59:54] -rusti- <anon>:10:4: 10:5 error: expected `{` but found `}`
[21:59:54] -rusti- <anon>:10     };
[21:59:54] -rusti-               ^
[21:59:54] -rusti- application terminated with error code 101
[22:00:07] <FreeFull> rusti: if true () {};
[22:00:08] -rusti- <anon>:9:11: 9:20 error: expected function but found `bool`
[22:00:08] -rusti- <anon>:9         if true () {};
[22:00:08] -rusti-                     ^~~~~~~~~
[22:00:08] -rusti- error: aborting due to previous error
[22:00:08] -rusti- application terminated with error code 101
[22:00:15] <FreeFull> rusti: if true {};
[22:00:16] -rusti- ()
[22:02:27] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[22:04:51] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[22:05:08] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[22:06:23] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[22:07:50] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:08:30] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:08:30] *** ChanServ sets mode: +ao dherman dherman
[22:08:33] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[22:08:39] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[22:13:47] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[22:14:21] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[22:19:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:20:08] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Ping timeout)
[22:21:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:22:58] <zslayton> Does the VecIterator struct no longer implement Iterator?
[22:23:25] <strcat> it implements Iterator
[22:23:26] <zslayton> It seems to be in the documentation (http://static.rust-lang.org/doc/master/std/vec/struct.VecIterator.html) but not in the source
[22:23:39] <strcat> there are two vector iterators
[22:23:41] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[22:23:42] <strcat> well
[22:23:44] <strcat> there's more than two
[22:23:55] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[22:23:59] <strcat> but there are 2 double-ended iterators (immutable and mutable) defined together via a macro
[22:24:19] <zslayton> Ahh, via macro. That's why I'm not seeing it by grepping
[22:24:32] <zslayton> thanks
[22:25:06] <zslayton> What's the syntax to get an Iterator<&~str> from a vector literal like ~[~"dog", ~"cat", ~"mouse"] ?
[22:25:20] <zslayton> I'm trying .iter() and getting type errors
[22:25:35] <strcat> iter
[22:25:37] <kimundi> .iter() should be right
[22:25:57] <strcat> rusti: let xs = [1, 2, 3]; for x in xs.iter() { println!("{}", *x) }
[22:25:58] -rusti- 1
[22:25:58] -rusti- 2
[22:25:58] -rusti- 3
[22:25:58] -rusti- ()
[22:26:06] <strcat> rusti: let xs = ~[~"foo", ~"bar"]; for x in xs.iter() { println!("{}", *x) }
[22:26:07] -rusti- foo
[22:26:07] -rusti- bar
[22:26:07] -rusti- ()
[22:26:23] <kimundi> rusti: let xs = ~[~"foo", ~"bar"]; for x in xs.iter() { println!("{:?}", x) }
[22:26:24] -rusti- &~"foo"
[22:26:24] -rusti- &~"bar"
[22:26:24] -rusti- ()
[22:26:50] <zslayton> Huh, that sure does it.
[22:26:53] <zslayton>  error: failed to find an implementation of trait std::iter::Iterator<&~str> for ~std::vec::VecIterator<,~str>
[22:27:04] <zslayton> [~"dog", ~"cat", ~"mouse"].iter()
[22:27:28] <kimundi> ~[~"dog", ~"cat", ~"mouse"].iter() != (~[~"dog", ~"cat", ~"mouse"]).iter()
[22:27:50] <kimundi> ~[~"dog", ~"cat", ~"mouse"].iter() == ~([~"dog", ~"cat", ~"mouse"].iter())
[22:28:03] <zslayton> kimundi: Oh dear. I have ... much to learn.
[22:28:33] <kimundi> It'S just a bit unexpected operator precendence in that case
[22:29:49] <hoverbear> I finally shelled out $5 for a decent IRC client for Mac... Textual does an ok job.
[22:31:10] <brendanc> happy enough with colloquy
[22:31:12] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:31:37] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[22:31:58] <zslayton> hoverbear: I'm an IRC noob, I'm just using Mibbit. What features am I missing out on?
[22:32:27] *** Quits: SingingBoyo (SingingBoy@moz-589929A0.ubcsecure.wireless.ubc.ca) (Ping timeout)
[22:33:51] <hoverbear> zslayton: For me it's mostly aesthetics... This is my IRC workspace: http://i.imgur.com/JXnoS9s.png ... I get desjtop notifications on highlight, can hide join/parts, etc. For web clients I vastly prefer Kiwiirc
[22:34:01] <hoverbear> zslayton: Also, I can enable inline images.
[22:34:40] <zslayton> Ah, desktop notifications would be nice
[22:34:49] <zslayton> I'll have to try out KiwiIRC, thanks
[22:35:14] <hoverbear> zslayton: KiwiIRC is cool because it's OSS, you can self host it if you want
[22:36:02] *** Joins: mib_9hhyx3 (Mibbit@95879FC5.102D9800.D35A31DF.IP)
[22:36:47] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[22:37:09] <brendanc> colloquy does notifications, looks nice enough
[22:37:51] *** Joins: JonCarlos (Jon@moz-7D75F9E2.nwrknj.fios.verizon.net)
[22:37:53] <hoverbear> brendanc: Colloquy is alright. The notifications don't intergrate with 10.8+ though, it also seems to crash a lot on me... But otherwise it's fine.
[22:38:21] <hoverbear> I've got App Store credit though and Textual is about the only darn thing I'd buy from that palce so I figured why not.
[22:38:28] <brendanc> they're growl style. haven't noticed any crashiness on 10.9, colloquy 2.4.2
[22:38:32] <mib_9hhyx3> hi
[22:38:32] <mib_9hhyx3> when I try to compile the stdlib directly, with rustc, I get an error
[22:38:32] <mib_9hhyx3> linker error
[22:38:32] <mib_9hhyx3> duplicate symbol _rust_stack_exhausted 
[22:38:37] <sfackler> I just use irssi
[22:38:39] *** Joins: zslayton_ (zslayton_@moz-E7EA111C.clients.kiwiirc.com)
[22:38:48] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Ping timeout)
[22:38:56] <hoverbear> sfackler: Also valid.. I slightly prefer weechat to irssi.
[22:39:13] <Earnestly> weechat is also ircv3 compliant and still developed
[22:39:15] <brendanc> irssi is providing my irc proxy :) I use it when I'm not on a mac
[22:39:26] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[22:39:33] <hoverbear> Rust work on ARM?
[22:39:40] <mib_9hhyx3> here's the error 
[22:39:44] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[22:40:03] *** Quits: zslayton_ (zslayton_@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[22:40:15] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[22:41:41] <kimundi> hoverbear: In princi9ple yes
[22:41:46] <mib_9hhyx3> http://pastebin.com/86BpWNNa
[22:41:56] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[22:42:05] <hoverbear> kimundi: I'll have to poke around, would love it if my raspberry pi could run rust.
[22:42:37] <kimundi> hoverbear: Afaik that is possible, it just won't be able to compile it itself, which means you need to cross compile
[22:42:55] <strcat> mib_9hhyx3: can't really compile it directly anymore afaik
[22:43:09] <kimundi> hoverbear: Which works in principle, but afaik there are no test bots that assure that stuff doesn't break
[22:43:55] <mib_9hhyx3> am I doing it wrong, in trying to rustc --test libstd?
[22:44:08] *** Quits: overfl0w (overfl0w@moz-635F0D19.range217-42.btcentralplus.com) (Ping timeout)
[22:44:33] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[22:44:55] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:45:32] <kimundi> mib_9hhyx3: Until recently, that was at least possible, but if as strcat said that doesn'T work anymore, you need to use "make check-stage1-std", or, if it works, "make check-stage0-std"
[22:45:55] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[22:46:02] *** Parts: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) ()
[22:46:31] <kimundi> The latter one won't make a compiler bootstrap, but only works if there was no breaking change since the last sanpshot
[22:47:06] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:47:06] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:47:06] *** ChanServ sets mode: +ao dherman dherman
[22:47:42] *** Quits: epdtry (stuart@moz-6BEF78C1.hsd1.wa.comcast.net) (Quit: WeeChat 0.4.2)
[22:47:52] *** Quits: JoelMcCracken (user@moz-634E8562.pitbpa.east.verizon.net) (Ping timeout)
[22:48:13] *** Quits: Ms2ger (Ms2ger@moz-7C292AC.adsl-dyn.isp.belgacom.be) (Quit: nn)
[22:48:25] <mib_9hhyx3> strcat: how do people work on the stdlib, with these really long compile cycles? Is there a trick to speed it up, or do you just have to wait it out?
[22:48:25] <mib_9hhyx3> it's like 12 mins on my machine
[22:48:46] <strcat> what specifically are you working on?
[22:49:44] <kimundi> mib_9hhyx3: Depending on the changes, people either wait it out, or write the code offline and copy it into the tree if it works
[22:50:30] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[22:51:36] *** Quits: JonCarlos (Jon@moz-7D75F9E2.nwrknj.fios.verizon.net) (Quit: From my books surcease of sorrow, sorrow for the lost Lenore.)
[22:51:54] <mib_9hhyx3> hmm, seems like a problem to me. Make a small change to one file and want to run the tests, and it takes aaages. Obviously libstd is bigger than most crates, but the recompile time time really kills productivity.
[22:52:22] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[22:52:37] *** Joins: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP)
[22:52:56] <strcat> mib_9hhyx3: there's not much that can be done instead
[22:53:02] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[22:53:17] <strcat> mib_9hhyx3: if you have a recent compiler you might be able to get away with 'rustc --cfg stage2 --test lib.rs'
[22:54:01] <mib_9hhyx3> ah, the second option sounds like a decent workaround
[22:54:01] <mib_9hhyx3> is the inability to compile libstd directly considered a bug?
[22:54:01] <mib_9hhyx3> strcat: libstd/io
[22:54:01] <dbaupp> mib_9hhyx3: in theory `make check-stage2-std NO_REBUILD=1` does the same thing (and runs the test runner too)
[22:54:43] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[22:54:48] <mib_9hhyx3> oh, so is it quicker to run stage0 or stage2?
[22:54:55] <mib_9hhyx3> for library changes
[22:54:55] <strcat> https://github.com/thestinger/rust-core/commit/409df353ecb237acd31fbe8c781f1813249feb43 yay silly weak ptrs ;p
[22:54:56] <dbaupp> (NO_REBUILD uses a previous stage2 compiler, so you need to have done a full make relatively recently.)
[22:54:57] <strcat> pretty trivial to do
[22:55:23] <strcat> LLVM happily optimizes out the tests :)
[22:56:02] * strcat is too lazy to make better ones
[22:56:11] <strcat> anyway not going to be possible in the stdlib
[22:56:16] <strcat> thanks to managed ptrs
[22:56:45] <strcat> unless there was a NonManaged kind
[22:57:00] * strcat doesn't care about libstd anymore though
[22:57:02] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[22:57:04] <mib_9hhyx3> strcat: running rustc directly gave me the linker error:  duplicate symbol _rust_stack_exhausted
[22:57:09] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[22:57:33] <strcat> well I guess you can't compile it directly anymore then
[22:57:55] <dbaupp> mib_9hhyx3: your local rustc may be too old
[22:58:51] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[22:59:57] *** Quits: headcrash (Mibbit@moz-3652E738.pools.spcsdns.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:01:02] <mib_9hhyx3> dbaupp: seems to be from Nov 30
[23:01:23] <mib_9hhyx3> ./x86_64-apple-darwin/stage0/bin/rustc -v ./x86_64-apple-darwin/stage0/bin/rustc 0.9-pre (4252a24 2013-11-30 14:41:40 -0800)
[23:01:26] <hoverbear> kimundi: Is there one needed? I have a raspberry pi that I'd be able to give shells to for testing.
[23:01:41] *** Quits: khyperia (khyperia@moz-AF00B41A.hsd1.in.comcast.net) (Quit: Leaving)
[23:02:50] *** Quits: Ferreus (ferreus@moz-F0185779.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[23:03:34] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[23:03:36] <kimundi> hoverbear: Eh, afaik they are currently in the process of setting up testing vms for that
[23:03:50] <dbaupp> mib_9hhyx3: yeah, that is probably too old
[23:05:18] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[23:07:14] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[23:07:36] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[23:08:56] <mib_9hhyx3> dbaupp: ah, that was the stage0 one, the stage2 one is based off code from Dec 6, and same error
[23:09:05] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[23:09:36] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[23:09:50] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[23:10:15] <mib_9hhyx3> dbaupp: (after 2m48s), maybe my machine is too slow...
[23:11:09] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[23:11:19] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[23:11:53] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[23:11:55] *** Joins: garthk (garth@moz-B118B14A.static.internode.on.net)
[23:12:02] *** Parts: garthk (garth@moz-B118B14A.static.internode.on.net) ()
[23:14:02] <mib_9hhyx3> if libstd were broken up into a bunch of separate crates, which could `extern mod` each other, it's likely bring the compile times down a lot
[23:14:09] <achin> how can i get the length out of an owned vector (~[u8]) ?
[23:14:55] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:15:04] <mib_9hhyx3> or if rustc were somehow able to be more selective about what parts needed to be recompiled based on what changed
[23:15:04] <mib_9hhyx3> I don't know if these are actually possible, just thinking aloud
[23:15:51] <mib_9hhyx3> achin: my_vector.len()
[23:15:55] *** Quits: celeron55 (perttu@moz-D552F2C7.netplaza.fi) (Ping timeout)
[23:15:58] *** Joins: celeron55 (perttu@moz-D552F2C7.netplaza.fi)
[23:17:16] <achin> mib_9hhyx3: thanks.  do you happen to know where that is documented?
[23:18:35] <achin> ah, in the Container trait
[23:19:05] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[23:19:15] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[23:19:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:19:30] <zslayton> What's the best way to simulate has_next() for an iterator? I'm hoping to avoid taking in a Peekable parameter instead of an Iterator
[23:19:38] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[23:19:59] <strcat> zslayton: use that adaptor inside the function?
[23:20:17] *** Quits: lfox (lfox@12E8CF24.F74F95CB.ECED8BE3.IP) (Quit: ZZZzzz…)
[23:20:21] <strcat> has_next doesn't really work well - consider a socket, you still have to read to check if there's data
[23:20:37] <strcat> and where will it store whatever it read? for next to return
[23:20:40] <zslayton> strcat: I could do that. I'm writing something that could recurse a lot so I was hoping not to have to go through that step each time. Maybe there's no alternative, though.
[23:20:52] <strcat> why can't you use next?
[23:21:04] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:21:07] <mib_9hhyx3> yeah, http://static.rust-lang.org/doc/master/std/container/trait.Container.html
[23:21:16] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[23:21:34] *** Quits: terje (terje@F5FDF11B.1D1EB2D6.85889BB1.IP) (Ping timeout)
[23:21:35] <kimundi> zslayton: Using the peekable iterator adapter will likely not lead to different code than writing its functionality manually
[23:21:40] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Ping timeout)
[23:21:43] <mib_9hhyx3> breaking libstd into sub-crates would have an additional benefit for embedded or other systems that wanted to use parts of it, not others
[23:21:43] <mib_9hhyx3> not sure how divisible it is though...
[23:21:57] <zslayton> strcat: Since it's recursive, it'd be nice to detect the end of the iterator on its last step rather than delve into one more function call and finding a None
[23:21:58] <strcat> mib_9hhyx3: if you want a minimal build you need to use LTO anyway
[23:22:06] <kimundi> mib_9hhyx3: It would also become imperfomanter
[23:22:10] <strcat> mib_9hhyx3: splitting up libstd will slow down the total rust compile-time
[23:22:22] <strcat> and incremental builds still won't work due to bootstrapping
[23:22:47] <zslayton> kimundi: Hm! That's interesting. I guess I'll just do that for now and worry about it when it's a problem. Premature optimization is my favorite bad habit. :)
[23:22:51] <kimundi> zslayton: With inlining, than function call and None check woun't be more expensive than a has_next though
[23:23:09] <strcat> if you're targeting a resource-contrained environment you're not going to be using libstd though
[23:23:15] <kimundi> Geez, I sure mangled _that_sentence
[23:23:17] <strcat> it doesn't hit that mark as a whole
[23:23:42] <hoverbear> kimundi: Easier anyways.
[23:24:31] <mib_9hhyx3> what's LTO?
[23:24:53] <strcat> mib_9hhyx3: link-time optimization
[23:25:31] <strcat> mib_9hhyx3: the compiler can omit any dead code not called by a program after it's done optimizing
[23:25:54] <mib_9hhyx3> strcat: it might slow down the time of a full compile, but you'd be doing less full compiles, so the total time spent compiling may go down
[23:26:05] <strcat> mib_9hhyx3: you wouldn't be doing fewer full compiles
[23:26:10] <strcat> rust uses bootstrapping
[23:26:31] <strcat> it needs to build libstd, then it needs to build libextra with libstd, then libsyntax/librustc with those, then the compiler, then rebuild them, and then again
[23:27:02] <strcat> it can't be incremental, because the bootstrapped compiler always has to completely recompile that stuff again
[23:27:25] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[23:29:22] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[23:29:27] <achin> #[test] is really super nifty.  look, Ma! no harnesses!
[23:29:37] <mib_9hhyx3> strcat: and critically, the time you most want fast compiles is when you're interacting with the code, updating it, testing stuff
[23:29:37] <mib_9hhyx3> strcat: but it wouldn't need to do the whole bootstrap when you're just modifying a small part of the libraries, would it?
[23:30:00] <strcat> mib_9hhyx3: you need to do a full bootstrap to test that you haven't broken the compiler
[23:31:20] <mib_9hhyx3> strcat: sure, but I imagine you'd need to run test less frequently than just the tests against your new/changed code
[23:31:50] <mib_9hhyx3> strcat: does rustc do link-time optimization?
[23:32:28] <strcat> it will be able to
[23:32:43] <strcat> rustc doesn't support freestanding/runtimeless code directly so the embedded use case doesn't work anyway
[23:33:10] <strcat> you have to output bytecode and use clang, so you're only able to use a single crate for runtimeless code atm
[23:33:12] <strcat> and it barely works
[23:33:25] *** Joins: netoarmando (textual@C790481C.88081FC0.E8153C8A.IP)
[23:34:02] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[23:34:22] *** Quits: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com) (Connection reset by peer)
[23:34:29] <zslayton> Can a trait impl include private helper functions?
[23:34:58] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Ping timeout)
[23:35:18] <mib_9hhyx3> I guess NO_REBUILD=1 avoids a full bootstrap anyway
[23:35:24] <strcat> zslayton: no, you can put them in a regular impl or use free functions
[23:35:36] *** Joins: AvianFlu (AvianFlu@moz-C1C884AB.nyc.res.rr.com)
[23:35:37] <zslayton> strcat: Cool, I'll use free functions. Thanks.
[23:35:48] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[23:36:06] <strcat> zslayton: if they're only needed in one method you could just nest the functions in it
[23:36:23] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[23:36:36] <zslayton> strcat: Oh, clever! That'll save me a bunch of re-writing type bounds. :D
[23:36:51] <strcat> zslayton: I'm not sure if it will save you that
[23:37:03] <strcat> statics and nested functions are a bit painful
[23:37:15] <strcat> they act as if they're global
[23:38:12] <zslayton> hrm, ok. I'll stick with free functions for now and re-evaluate once it's working
[23:38:13] <zslayton> tahnks
[23:38:16] <zslayton> ....thanks, even
[23:38:21] <mib_9hhyx3> is rustc able to parallelise, to use all available cores?
[23:38:34] <dbaupp> not yet
[23:38:45] <strcat> mib_9hhyx3: no, it's completely serial
[23:39:06] <dbaupp> the biggest win will be when LLVM is parallelised, since we spend the vast majority of our time running LLVM passes
[23:39:45] <strcat> could be fixed by not generating such bad code and writing such bloated library code ;p
[23:41:04] <dbaupp> "the biggest win [from parallelisation efforts] ... "
[23:41:36] <strcat> dbaupp: well I expect if we start generating better code, we'll be spending most time elsewhere in --opt-level=0 and --opt-level=1 builds
[23:42:12] *** Quits: netoarmando (textual@C790481C.88081FC0.E8153C8A.IP) (Quit: )
[23:43:00] <mib_9hhyx3> What about not recompiling things that haven't changed? Will LTO allow rustc to do that?
[23:43:52] <strcat> no
[23:44:04] <dbaupp> strcat: yes
[23:44:10] <strcat> you can split code into as many crates as you want and do incremental compilation
[23:44:26] <strcat> LTO allows you to regain the performance loss you'll cause by splitting it
[23:44:41] <strcat> so you can do development builds without LTO and a highly optimized release build
[23:45:00] *** Joins: blinky (Mibbit@moz-CBD76C21.bb.online.no)
[23:45:29] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[23:45:58] <blinky> I found this in the vec source code:
[23:46:01] <blinky> alloc / mem::nonzero_size_of::<T>() != capacity
[23:46:05] <mib_9hhyx3> strcat: oh okay, so once LTO arrives, we could split up libstd without it slowing down a full build
[23:46:16] <strcat> mib_9hhyx3: we're not going to split up libstd
[23:46:27] <strcat> it doesn't make sense there
[23:46:28] <blinky> Would it be faster to move mem::nonzero_size_of to the other side?
[23:46:29] <mib_9hhyx3> strcat: and having the smaller crates would allow use to not rebuild crates which hadn't changed
[23:46:50] <blinky> is multiplication faster than division?
[23:47:02] <strcat> blinky: multiplication could overflow
[23:47:09] <blinky> ah
[23:47:11] <strcat> but yes, division is really slow
[23:47:20] <strcat> blinky: the vector implementation in libstd is very poor quality as a whole
[23:47:23] <strcat> it's very slow
[23:47:29] <strcat> no point in trying to micro-optimize it
[23:47:33] <strcat> needs to be replaced completely
[23:47:40] <mib_9hhyx3> strcat: so libstd would remain integral, but other big crates could be split up
[23:47:48] <strcat> mib_9hhyx3: yes
[23:53:57] <mib_9hhyx3> I do find the long cycle time for libstd to be an impediment. Hopefully parallelised LLVM will help there.
[23:57:36] <blinky> how do I convert an int to a str?
[23:58:00] *** Quits: mib_9hhyx3 (Mibbit@95879FC5.102D9800.D35A31DF.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:58:13] <sp3d> rusti: 4u64.to_str()
[23:58:14] -rusti- ~"4"
