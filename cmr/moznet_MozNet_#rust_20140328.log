[00:00:33] *** Quits: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP) (Ping timeout)
[00:00:35] <bvssvni> if people have questions, why not open issues about them?
[00:00:42] *** Joins: Rym (y@F571237E.E30DB9C2.8772DA20.IP)
[00:01:00] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[00:01:43] *** Quits: Savago (Savago@202BED95.35A5082B.B8C5454C.IP) (Quit: Savago)
[00:01:53] *** Joins: Earnestea (earnest@moz-6CD1AB70.dyn.plus.net)
[00:01:54] <bvssvni> that would make it easier for everyone to see concerns other people have
[00:01:55] *** Joins: Savago (Savago@202BED95.35A5082B.B8C5454C.IP)
[00:01:59] *** Joins: they (BlackHunte@moz-CD0C30EF.cmdnnj.fios.verizon.net)
[00:02:14] *** Quits: Savago (Savago@202BED95.35A5082B.B8C5454C.IP) (Quit: Savago)
[00:02:23] *** Quits: Earnestly (earnest@23825DB4.728D78D6.39C00A7A.IP) (Ping timeout)
[00:02:48] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[00:04:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:04:31] *** Joins: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP)
[00:04:39] <they> Is there any way to pattern match the "car" and "cdr" of an array in Rust? Like (x:xs) in Haskell?
[00:04:43] <they> Or am I missing something?
[00:05:44] <bvssvni> they: yes
[00:05:56] <bvssvni> they: I believe there are examples in the tutorial
[00:05:58] <they> What's the syntax? I didn't see it in the rust tutorial.
[00:06:00] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:06:43] <McPherrin> ctrl-f for A vector can be destructured using pattern matching:
[00:07:18] <o11c> they: grep for [a, b, c, ..rest]
[00:07:27] <they> Thanks. I didn't know that was a vector.
[00:07:31] <strcat> rusti: let xs = &[1, 2, 3]; match xs { [] => 0, [x] => x, [x, ..ys] => x + ys.len() }
[00:07:32] -rusti- 3
[00:07:32] <bvssvni> ah, it's in the chapter for strings and vectors
[00:07:36] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:07:40] <they> I thought Vector was a trait and an array was the most common implementation of it.
[00:07:48] <they> (I don't know rust very well)
[00:07:53] <strcat> well, it's a slice
[00:08:01] <Denommus> they: ah, you around here? Welcome
[00:08:12] <strcat> we don't have fixed-size array or vector matching
[00:08:15] <strcat> just slices
[00:08:18] <McPherrin> rusti: println!("{:?}", match [1,2,3,4] { [x, ..xs] => (x, xs), _ => (9, [99]) });
[00:08:21] <bvssvni> they: it's a bit confusing right now, because ~[T] is now Vec<T>
[00:08:22] <they> Yeah, decided to seriously try and pick rust up. Nice to see you hear Denny.
[00:08:22] -rusti- pastebinned 15 lines of output: http://sprunge.us/iXYF
[00:08:31] *** Joins: hjr3_ (hradtke@1A20C896.96FE09F3.3002A442.IP)
[00:08:54] <strcat> we should have matching on fixed-size arrays though
[00:09:00] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[00:09:00] <McPherrin> ooorg well something like that
[00:09:04] <strcat> since it knows more than slice matching can know
[00:09:25] <strcat> and it can return &[T, ..n] for the 'rest' case, not &[T]
[00:09:35] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:09:38] *** Quits: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP) (Ping timeout)
[00:10:27] <McPherrin> strcat: right, might be nice to match a &[T, ..n] into (&[T, ..m], &[T, ..n-m])
[00:10:36] <strcat> yep
[00:10:48] <strcat> and it can work well in 'let' exprs
[00:10:50] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[00:10:57] <strcat> since there are many irrefutable patterns you could write
[00:11:01] <bvssvni> they: if you want to try rust, this makefile can help to get started https://github.com/bvssvni/rust-empty/
[00:11:20] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[00:11:55] *** Joins: leaper (Mibbit@A0E21F79.E9F3F913.CC1A2609.IP)
[00:12:17] <they> Thanks. Looks kind of like leiningen.
[00:12:33] <Denommus> bvssvni: they: a Rust Makefile is usually simpler than an equivalent one in C or C++
[00:13:02] <they> For now I'm going to just be using rustc. I'm far from being able to write distributable code.
[00:13:04] <Denommus> because the compiling unit is the crate. So you don't need to track the dependencies among the files of your crate, that's the job of your module system
[00:13:15] <Denommus> you just need to make it clear the dependencies between the crates themselves
[00:13:46] <Denommus> if you're just compiling a single crate without dependencies, rustc is more than perfectly capable
[00:13:59] <Jesse> mcpherrin: i fixed the type / borrowck errors and now i'm getting errors i don't understand about non-exhaustive match or unreachable match arms.
[00:14:02] <Jesse> rusti: let f = &[99]; println!("{:?}", match [1,2,3,4] { [x, ..xs] => (x, xs), [] => (9, f) });
[00:14:03] -rusti- pastebinned 9 lines of output: http://sprunge.us/UCCj
[00:14:31] <Jesse> rusti: let f = &[99]; println!("{:?}", match [1,2,3,4] { [x, ..xs] => (x, xs), _ => (9, f) });
[00:14:32] -rusti- pastebinned 9 lines of output: http://sprunge.us/DJUP
[00:14:54] <McPherrin> Jesse: well that seems wrong
[00:15:03] <McPherrin> What happens if you get rid of the arm it clains is unreachable?
[00:15:13] <Denommus> they: have a look at my Makefile: https://github.com/Denommus/steel-engine/blob/master/Makefile
[00:15:27] <McPherrin> rusti: println!("{:?
[00:15:28] -rusti- <anon>:12:17: 13:3 error: unterminated double quote string
[00:15:28] -rusti- <anon>:12     println!("{}", r)
[00:15:28] -rusti- <anon>:13 }
[00:15:28] -rusti- application terminated with error code 101
[00:15:34] <Denommus> they: each crate is a target, and the crate that needs another crate to compile has it as a dependency. Really simple and clean :-)
[00:15:46] <they> Definitely much better than C makefiles.
[00:15:50] <McPherrin> rusti: println!("{:?}", match [1,2,3,4] { [x, ..xs] => (x, xs) });
[00:15:51] -rusti- (1, &[2, 3, 4])
[00:15:51] -rusti- ()
[00:15:56] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[00:16:17] <McPherrin> rusti: println!("{:?}", let f: &'static [int] = [1,2,3,4]; match f { [x, ..xs] => (x, xs) });
[00:16:18] -rusti- pastebinned 8 lines of output: http://sprunge.us/HILc
[00:16:46] <McPherrin> erg I can't use rusti today
[00:16:57] <McPherrin> rusti: () = [1,2,3,4]
[00:16:58] -rusti- pastebinned 8 lines of output: http://sprunge.us/jAeL
[00:18:04] *** Quits: leaper (Mibbit@A0E21F79.E9F3F913.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:18:06] <McPherrin> rusti: println!("{:?}", match [1,2,3,4] { [] => (0, &[0]), [x, ..xs] => (x, xs) });
[00:18:07] -rusti- pastebinned 37 lines of output: http://sprunge.us/hKgP
[00:18:20] <Jesse> 37 lines of errors, we have a winner
[00:18:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:18:48] <McPherrin> I'll stop spamming #rust with this :-)
[00:18:51] <Jesse> rusti: let f = &[99]; let e : &[int] = &[]; println!("{:?}", match e { [x, ..xs] => (x, xs), _ => (9, f) });
[00:18:52] -rusti- (9, &[99])
[00:18:52] -rusti- ()
[00:19:07] <Jesse> rusti: let f = &[99]; let e : &[int] = &[1,2,3,4]; println!("{:?}", match e { [x, ..xs] => (x, xs), _ => (9, f) });
[00:19:08] -rusti- (1, &[2, 3, 4])
[00:19:08] -rusti- ()
[00:19:13] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[00:20:15] <bvssvni> Jesse: why does it work now?
[00:20:36] <McPherrin> bvssvni: because the type is &[int], not [int, ..4]
[00:20:53] <bvssvni> ah
[00:21:02] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Client exited)
[00:21:03] <McPherrin> [int, ..4] always matches [x, ..xs] so any other pattern is unreachable
[00:21:14] <Jesse> yeah that part makes sense to me now
[00:21:29] <McPherrin> which is weird; I didn't expect the compiler would do that.
[00:22:02] <Jesse> but the 'vecs of length 4 are not covered' error still seems wrong to me
[00:22:04] <Jesse> rusti: let f = &[99]; println!("{:?}", match [1,2,3,4] { [x, ..xs] => (x, xs), [] => (9, f) });
[00:22:05] -rusti- pastebinned 9 lines of output: http://sprunge.us/JgZP
[00:22:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:22:22] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:22:23] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:22:45] *** Quits: richo (richo@moz-1B080E05.pa.vic.optusnet.com.au) (Ping timeout)
[00:22:52] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[00:23:13] <bvssvni> that's a bit odd
[00:23:13] <ChrisMorgan> Denommus: your steel-engine Makefile is not using real dependency management. It should be that once you `make all` a second `make all` will say that there's nothing to do. That means that the rule names need to correspond to files that are created by the process.
[00:23:15] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:23:22] <they> It seems weird that methods of a struct are defined outside of the body. Is this schedule to change?
[00:23:34] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:23:39] <ChrisMorgan> they: no
[00:24:09] <ChrisMorgan> Denommus: you might be interested in looking at https://github.com/chris-morgan/rust-http/blob/ssl/Makefile.in
[00:24:13] <bvssvni> they: it looks weird at first, until you get used to it and get the 'trait' system
[00:24:24] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:24:37] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[00:24:39] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:25:09] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:25:23] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:25:26] <bvssvni> they: if you declare a trait or a type in a crate, you can impl it
[00:25:43] <McPherrin> they: you can implement methods on any type
[00:26:08] <McPherrin> and what bvssvni said, so it doesn't really make sense to do it "inside" a struct".
[00:26:14] <they> I mean, it's a neat approach.
[00:26:22] <they> I heard something about Go doing that.
[00:26:47] <they> Just weird coming from a Haskell background to a language with both Enum and Struct.
[00:26:59] <bvssvni> haha
[00:27:20] <Denommus> ChrisMorgan: indeed, I have thought about that. I just didn't think of a way of marking a dependency as "fulfilled"
[00:27:26] <Denommus> ChrisMorgan: but I have an idea
[00:27:33] <McPherrin> they: is it?  I haven't programmed in haskell in a few years. What's so weird about it?
[00:27:51] <ChrisMorgan> Denommus: see the .libhttp.timestamp in my example
[00:27:57] <ChrisMorgan> Rust uses a similar technique
[00:27:59] <bvssvni> they: Rust is something between Haskell and C
[00:28:03] <bvssvni> haha
[00:28:04] <they> Yeah, it's nice.
[00:28:28] <bvssvni> I can't think of two more different languages
[00:28:47] <strcat> they: impls can have different bounds
[00:28:50] <McPherrin> Offspring of Ocaml and C
[00:28:53] <Denommus> ChrisMorgan: are you touching the file just to mark the dependency?
[00:29:04] <strcat> they: you can have a base Vec<T> impl<T> Vec<T>, and then impl<T: Clone> Vec<T>, etc.
[00:29:13] *** Quits: paraze (paraze@moz-96380A71.w86-209.abo.wanadoo.fr) (Quit: Quitte)
[00:29:15] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:29:29] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[00:29:35] <strcat> so it's not just a syntax thing
[00:29:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:29:57] <bvssvni> generics is very central in Rust
[00:29:59] <strcat> + you can do trait impls anywhere
[00:30:19] <strcat> type classes are more important in rust than they are in haskell, because we have more restrictions on closures
[00:30:36] <brson> i want to write 'curl -s file://rustup.sh | sh --uninstall' and have --uninstall passed to the pipelined script, but sh doesn't interpret --uninstall as a script argument. anybody know the soln?
[00:31:43] <McPherrin> brson: that could be pretty fragile; what if the connection is interrupted?
[00:31:56] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:32:13] <McPherrin> brson: curl to a file and execing with --uninstall seems a better option
[00:32:30] *** Quits: Tuba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[00:33:11] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:33:19] <McPherrin> brson: waitaminute, why are you curling a file:// url
[00:33:26] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:33:29] <McPherrin> or did you mean that just as an example
[00:34:01] <bvssvni> brson: can you set an environment flag?
[00:34:09] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:34:21] <brson> McPherrin: it will be http later
[00:34:26] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:34:30] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[00:34:35] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[00:34:48] <brson> bvssvni: i could. i'm hoping this can be a concise one-liner
[00:35:01] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:35:02] <huon> brson: would having a few derived files for common cases be horrible? (e.g. `curl -s example.com/rustup.sh-uninstall | sh`)
[00:35:03] <brson> McPherrin: curling to a tmp file and deleting it again is going to make my one-liner much less pleasant
[00:35:29] <huon> those could even just be a the 3 line script to the download to a file & pass the flag
[00:35:32] <brson> huon: it would require a lot of duplicated logic
[00:35:45] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[00:36:07] <huon> (i.e. internally it could be `curl -s rustup.sh > tmpfile; sh tmpfile --uninstall; rm tmpfile`)
[00:37:33] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:40:43] <Jesse> strcat: or maybe haskell has more restrictions on closures? (everything has to be garbage collected)
[00:40:47] *** Quits: hjr3_ (hradtke@1A20C896.96FE09F3.3002A442.IP) (Ping timeout)
[00:40:57] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:41:10] <strcat> Jesse: I wouldn't really call that a restriction
[00:41:11] *** Joins: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP)
[00:41:23] <McPherrin> brson: echo "echo $@" | sh -s --foo seems to work for me
[00:41:24] <strcat> rust's closures are one of the weakest parts of the language right now
[00:41:40] <Denommus> ChrisMorgan: what about now? https://github.com/Denommus/steel-engine/blob/master/Makefile
[00:41:44] <strcat> they could become a lot better, but it won't be backwards compatible to what it is now
[00:41:57] <jmsaunde> are there any plans to improve them atm?
[00:41:58] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[00:41:58] <McPherrin> brson: rather, foo instead of --foo
[00:42:06] <strcat> also, 'they' is certainly a good thing to name yourself if you like being highlighted :)
[00:42:06] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:42:46] <Denommus> strcat: I think that's his reason
[00:42:49] *** Joins: hjr3_ (hradtke@1A20C896.96FE09F3.3002A442.IP)
[00:42:54] *** Quits: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP) (Ping timeout)
[00:42:59] <ChrisMorgan> Denommus: that'll do it. If you want to still be able to do `make snake` you could add rules `snake: $(snake)`. Also remember the `.PHONY: clean` (or if you add these other rules, `.PHONY: snake steel sfml clean`)
[00:43:17] *** Quits: lessless (lessless@moz-F3755E99.emplot.net) (Ping timeout)
[00:43:29] *** Joins: lessless (lessless@moz-F3755E99.emplot.net)
[00:44:04] <brson> curl file://rustup.sh -s | sh -s -- --uninstall
[00:44:10] <brson> McPherrin: ^
[00:44:12] <Denommus> ChrisMorgan: I don't quite understand .PHONY, to be honest
[00:44:18] <brson> thanks
[00:44:28] <ChrisMorgan> Denommus: it means that it doesn't expect it to create a file
[00:44:28] <strcat> Denommus: it makes it not count as a real target
[00:44:36] <strcat> real targets are a file name and it checks the modification date
[00:44:46] <strcat> if you do 'all: foo bar'
[00:44:53] <Denommus> ah, yeah
[00:45:00] <strcat> it will stat `all` and check if it was modified more recently than foo/bar
[00:45:24] <bvssvni> Denommus: most makefiles uses uppercase for variables
[00:45:44] <Denommus> bvssvni: thanks for the suggestion
[00:45:46] *** Joins: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP)
[00:45:58] <ChrisMorgan> bvssvni: not so sure of that, myself.
[00:46:16] *** Quits: hjr3_ (hradtke@1A20C896.96FE09F3.3002A442.IP) (Ping timeout)
[00:46:28] *** Joins: ChrisOei (ChrisOei@moz-481A33A4.mycingular.net)
[00:46:29] <bvssvni> ChrisMorgen: then I'll probably wrong :P
[00:46:34] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[00:46:59] *** Quits: anomie (anomie@moz-3213C615.wavecable.com) (Ping timeout)
[00:47:00] <bvssvni> ChrisMorgan: makefiles are relatively new to me
[00:47:20] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:47:45] <Denommus> well, I hope we'll soon not use them anymore
[00:48:23] <Denommus> okay, added .PHONY
[00:49:25] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[00:52:55] <JustAPerson> speaking of building rust, will cargo become the default way to build most projects?
[00:53:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:53:22] *** Quits: ChrisOei (ChrisOei@moz-481A33A4.mycingular.net) (Ping timeout)
[00:53:22] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:53:24] <McPherrin> JustAPerson: That's the notion
[00:53:29] *** Quits: Denommus (user@79485229.20CA00E6.AD91B79.IP) (Quit: going home)
[00:53:40] *** Quits: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP) (Ping timeout)
[00:54:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:54:23] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:54:46] *** Joins: Vermeille (vermeille@moz-9947004C.kimsufi.com)
[00:56:05] *** Joins: ChrisOei (ChrisOei@moz-481A33A4.mycingular.net)
[00:56:16] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:56:41] *** Joins: xero (Tyler@moz-312DF702.hsd1.wa.comcast.net)
[00:56:56] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:57:54] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:57:54] *** ChanServ sets mode: +ao dherman dherman
[00:58:28] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[00:58:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:59:22] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:00:11] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[01:00:17] <blehtm> hmm
[01:00:29] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[01:01:05] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[01:02:00] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:02:17] *** Quits: andrew-__ (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP) (Input/output error)
[01:02:21] *** Quits: pingveno (alevar@moz-544E84DC.cat.pdx.edu) (Ping timeout)
[01:02:38] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[01:03:39] *** Joins: carllerche (carllerche@77CEA1B2.767934EB.9B6EB213.IP)
[01:03:49] *** Quits: carllerche (carllerche@77CEA1B2.767934EB.9B6EB213.IP) (Quit: carllerche)
[01:04:57] <they> I'm not sure I get the different pointer types. Can anyone tell me why this function says "cannot move out of dereference of & pointer"? https://gist.github.com/anonymous/9822820
[01:05:01] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:05:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:05:13] <they> On lines 3 and 4.
[01:05:24] *** Joins: pingveno (alevar@moz-544E84DC.cat.pdx.edu)
[01:05:28] <strcat> they: do you understand move semantics?
[01:05:36] <they> Vaguely.
[01:05:45] <strcat> they: http://static.rust-lang.org/doc/master/tutorial.html#implementing-a-linked-list this section covers the basics pretty well
[01:05:45] *** Quits: ChrisOei (ChrisOei@moz-481A33A4.mycingular.net) (Ping timeout)
[01:06:00] <they> Thanks, I'll give that a reread.
[01:06:00] <strcat> &T is a reference, so it doesn't own what it points at
[01:06:14] <strcat> moving ownership requires having ownership
[01:06:22] *** Joins: richo (richo@moz-1B080E05.pa.vic.optusnet.com.au)
[01:06:26] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[01:06:28] <they> Ah. I don't need to move ownership.
[01:06:35] <strcat> with &mut you can swap something else in to get ownership of what's behind it, but you can't move out either
[01:06:39] <they> Just return a copy or reference to the first element of a vector.
[01:06:44] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:06:45] <strcat> ah, yes
[01:06:48] *** Joins: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP)
[01:06:56] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:07:03] <strcat> fn foo<'a>(xs: &'a [int]) -> &'a int { &xs[0] }, for example
[01:07:03] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:07:12] * strcat didn't look at the paste tbh ;)
[01:07:21] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:07:28] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[01:07:32] <strcat> but yeah that's what you need to do, just looked
[01:07:39] *** Joins: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net)
[01:07:41] <strcat> they: need to use 'ref a' in the pattern
[01:07:50] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[01:07:51] <strcat> which binds by-ref
[01:08:03] <they> Ah. That's what I was missing.
[01:08:04] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[01:08:15] <they> I don't need to use a pattern for this, was just doing that for future reference.
[01:08:17] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[01:09:13] *** Joins: mohawk (Mibbit@16F93251.43AE57A3.2CFE048.IP)
[01:09:44] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:09:45] <mohawk> quick question; how do I write a non-literal string to a file
[01:10:51] <huon> file.write_str(foo)
[01:11:20] *** Quits: canhtak (canhtak@54F87F4D.60A12A38.BF4BC958.IP) (Quit: canhtak)
[01:11:35] <mohawk> thanks!
[01:12:00] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Client exited)
[01:12:04] <they> Man, the function's still giving me trouble. I add "ref" to the patterns, but it changes the type of the function to -> &T.
[01:12:10] <they> Changing that in the code gives lifetime errors.
[01:12:23] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[01:12:50] *** Joins: canhtak (canhtak@54F87F4D.60A12A38.BF4BC958.IP)
[01:13:40] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:13:49] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:13:51] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[01:14:15] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:14:20] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[01:16:02] *** Quits: locks (sid130@moz-5F4AA75A.irccloud.com) (Ping timeout)
[01:18:11] *** Joins: locks (sid130@F96EF34A.E02B7C75.9377050C.IP)
[01:18:38] *** Quits: richo (richo@moz-1B080E05.pa.vic.optusnet.com.au) (Ping timeout)
[01:20:22] *** Quits: cremes (cremes@moz-79335496.hsd1.il.comcast.net) (Ping timeout)
[01:20:27] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[01:20:44] *** Joins: andrew-__ (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP)
[01:21:12] <blehtm> aaggh it sucks using windows with makefiles that use shell commands.\
[01:21:39] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[01:21:40] <hoverbear> blehtm: :(
[01:21:58] *** Quits: mohawk (Mibbit@16F93251.43AE57A3.2CFE048.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:22:05] <hoverbear> blehtm: Can't do it through a cygwin shell or whatever?
[01:22:18] <blehtm> I probably could, couldn't I. I should do that
[01:22:34] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:22:52] <they> I've dwindled my problem down to the smallest possible scenario. What's wrong with https://gist.github.com/anonymous/9823047 ?
[01:22:56] <hoverbear> blehtm: Otherwise you might need to port over a windows version. :)
[01:23:02] <they> Maybe I suck too much for this.
[01:23:23] <hoverbear> they: For me, Rust is a learning experience. :)
[01:23:31] <huon> they: you don't :)
[01:23:39] <blehtm> I could write something using CMake but I don't know whether people would want that
[01:23:41] <huon> the problem there is the compiler can't tell that the return value lives long enough
[01:23:53] <huon> i.e. it can't tell that it's not a dangling reference
[01:23:57] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[01:23:57] *** ChanServ sets mode: +ao dherman dherman
[01:24:04] <they> How can I tell it so? I figured that was the case, since I've seen lifetime errors.
[01:24:12] <huon> the way to fix that is to use named lifetimes to connect the input vector to the output
[01:24:27] <they> That sounds complicated. Does the tutorial cover that?
[01:24:31] <huon> `fn car<'a, T>(v: &'a [T]) -> &'a T { &v[0] }`
[01:24:45] <huon> http://static.rust-lang.org/doc/master/guide-lifetimes.html covers it
[01:24:57] <huon> or, http://static.rust-lang.org/doc/0.9/guide-lifetimes.html if you're using 0.9
[01:24:57] <they> Oh. Okay. Thanks!
[01:25:09] <they> Never knew that named lifetimes were possible. That sounds really useful for state.
[01:25:55] *** Joins: joebobjoe (mckin_000@moz-1D2D613F.ga.at.cox.net)
[01:26:01] *** Quits: twi (Adium@moz-CF950680.cust.vodafonedsl.it) (Quit: Leaving.)
[01:26:16] *** Quits: not_gavin (gavin@gavinsharp.com) (Ping timeout)
[01:26:22] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Quit: Leaving.)
[01:26:29] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:26:46] <they> It does indeed work. Thanks. Time to do some reverse engineering on this.
[01:26:56] *** Joins: not_gavin (gavin@gavinsharp.com)
[01:27:23] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[01:27:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:28:28] *** Parts: joebobjoe (mckin_000@moz-1D2D613F.ga.at.cox.net) ()
[01:28:28] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[01:28:37] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:28:46] *** Joins: lkuper (lkuper@moz-61339218.dyn.optonline.net)
[01:28:55] *** Joins: twi (Adium@moz-CF950680.cust.vodafonedsl.it)
[01:29:42] <hoverbear> huon: That still has managed boxes in it :o
[01:29:56] <strcat> the tutorial probably does too
[01:30:09] <huon> s/probably//
[01:30:27] <hoverbear> It's like looking at a relic from the past.
[01:30:48] <hoverbear> So beautiful, we should put it in a museum. 
[01:30:50] <huon> removing @ from those things (especially the tutorial) will likely be hard, since the surrounding context will need to completely too
[01:31:00] <huon> *to change
[01:31:29] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:31:47] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:31:54] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Ping timeout)
[01:31:55] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[01:32:13] <dpc> Any way to turn Variant to string?
[01:32:32] <strcat> Variant?
[01:32:46] <dpc> enum { Variant1, Variant2,.... }
[01:33:01] <dpc> I'd like to stringify variant
[01:33:07] <strcat> #[deriving(Show)] on the type
[01:33:23] <strcat> rusti: #[deriving(Show)] enum A { B, C, D(int, int) } D(2, 3)
[01:33:23] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:33:23] -rusti- D(2, 3)
[01:33:35] <strcat> rusti: #[deriving(Show)] enum A { B, C, D(int, int) } println!("{}", D(2, 3))
[01:33:36] -rusti- D(2, 3)
[01:33:36] -rusti- ()
[01:33:41] <strcat> rusti: #[deriving(Show)] enum A { B, C, D(int, int) } format!("{}", D(2, 3))
[01:33:42] -rusti- D(2, 3)
[01:33:49] <strcat> rusti: #[deriving(Show)] enum A { B, C, D(int, int) } let x = format!("{}", D(2, 3)); x.len()
[01:33:50] -rusti- 7
[01:34:04] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[01:34:09] <Jesse> huon: there are only a few mentions of managed / @ in the tutorial. most of them can just be removed.
[01:34:11] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[01:34:27] *** Joins: not_gavin (gavin@gavinsharp.com)
[01:34:29] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:34:43] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:35:05] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[01:35:08] <blehtm> If I made a CMakeLists.txt file for the glfw and gl-rs project do you think it would be accepted as an addition to the repository? Or do people prefer simple Makefiles since it's fewer commands?
[01:35:31] <Jesse> but i'd like to see more on "choosing a pointer type" (including gc, rc, *arc) and more on &mut
[01:37:07] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:37:29] <strcat> Jesse: I started a shared ownership section, could extend that
[01:37:37] <huon> Jesse: I though there was a pile of @Trait object's and so on?
[01:37:51] <strcat> but I'm not really sure what's going on with the tutorial
[01:38:09] <strcat> if it's going to be rewritten then I don't want to put more work into it
[01:40:07] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[01:40:49] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[01:41:06] *** Joins: not_gavin (gavin@gavinsharp.com)
[01:41:16] *** Quits: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu) (Quit: No Ping reply in 180 seconds.)
[01:41:27] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Ping timeout)
[01:41:30] *** Joins: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu)
[01:41:32] *** Quits: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com) (Quit: Leaving)
[01:42:26] *** Joins: Zardoz (Zardoz@D59E95C5.800086B2.3E0BC680.IP)
[01:42:29] *** Quits: Zardoz (Zardoz@D59E95C5.800086B2.3E0BC680.IP) (Quit: Textual IRC Client: www.textualapp.com)
[01:42:35] *** Joins: Zardoz (Zardoz@D59E95C5.800086B2.3E0BC680.IP)
[01:42:50] *** Quits: jfhall (jfhall@moz-B3D0D48E.dhcp.snlo.ca.charter.com) (Ping timeout)
[01:42:51] *** kimundi is now known as zz_kimundi
[01:44:23] <cmr> blehtm: we just migrated away from cmake because it was more of a pain than the makefiles.
[01:44:29] *** Joins: lpy (lpy@1AF10827.F09091A8.1348A864.IP)
[01:44:56] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[01:45:05] <blehtm> cmr: Gotcha, for Windows then is it recommended to use Cygwin?
[01:45:24] <strcat> blehtm: no, mingw
[01:45:30] *** Joins: anomie (anomie@moz-3213C615.wavecable.com)
[01:45:32] <strcat> (and msys)
[01:45:35] <cmr> and preferably mingw-w64
[01:45:44] <strcat> and msys2
[01:46:14] *** Quits: lpy (lpy@1AF10827.F09091A8.1348A864.IP) (Client exited)
[01:46:16] <blehtm> Does msys cover commands like rm?
[01:46:19] <klutzy> yep
[01:46:23] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[01:46:26] <strcat> blehtm: make, ssh, etc. natively
[01:46:32] <strcat> no cygwin-like emulation
[01:46:57] <strcat> and mingw-w64 gives you a native gcc, binutils, etc. able to compile for 32/64-bit
[01:47:13] *** Joins: lpy (lpy@1AF10827.F09091A8.1348A864.IP)
[01:47:16] <strcat> (rust needs to be officially ported to it so it can support 64-bit windows)
[01:47:35] <huon> strcat: apparently someone has it working (nearly) flawlessly
[01:47:59] <huon> so theoretically that just needs to be submitted upstream
[01:48:03] <blehtm> Well then that is handy. I will get msys that, thank you.
[01:48:10] <cmr> 32bit mingw-w64 works great
[01:48:35] <strcat> cmr: yes I use it on arch linux ;p
[01:48:39] *** Quits: lpy (lpy@1AF10827.F09091A8.1348A864.IP) (Client exited)
[01:48:42] <dpc> How do I "print!" on a Writer?
[01:48:42] <cmr> (on windows too)
[01:48:44] <huon> cmr: and 64-bit explodes in a horrible fire?
[01:48:46] <cmr> dpc: write!
[01:48:54] <cmr> huon: mis-optimizations cause mysterious errors.
[01:48:59] <strcat> huon: a fire of glory
[01:49:05] <cmr> vadimcn said he has it working
[01:49:27] <klutzy> -> https://github.com/mozilla/rust/issues/1237#issuecomment-38412935
[01:49:30] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[01:49:32] <strcat> switching to mingw means floating point tests will pass
[01:49:32] *** jorendorff_away is now known as jorendorff
[01:49:36] <strcat> and windows #[thread_local] will work
[01:49:43] <strcat> mingw-w64*
[01:50:14] *** Joins: lpy (lpy@1AF10827.F09091A8.1348A864.IP)
[01:51:40] *** Quits: lpy (lpy@1AF10827.F09091A8.1348A864.IP) (Client exited)
[01:52:02] *** Quits: Rusky (russell@moz-37E87AF7.slkc.qwest.net) (Quit: Leaving.)
[01:53:22] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[01:53:28] <Dylan16807> well I've narrowed this bug down from the original sample code, I get an assertion failure in stdlib after a couple thousand iterations: for i in range(0,10000) { futures.push(sync::Future::spawn( proc() { for j in range(0, 10000) {} }));
[01:53:38] *** Joins: Rusky (russell@moz-37E87AF7.slkc.qwest.net)
[01:54:25] <huon> acrichto: ^
[01:55:49] *** Joins: lpy (lpy@1AF10827.F09091A8.1348A864.IP)
[01:55:54] <hoverbear> blehtm: Confirming Mingw is better.
[01:55:56] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[01:56:32] <blehtm> I was using mingw, just didn't have msys so I couldn't read the Makefile
[01:56:37] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:56:39] <acrichto> Dylan16807: are you running this on windows?
[01:56:43] <Dylan16807> yes
[01:56:48] <acrichto> could you gist your program?
[01:56:56] <acrichto> feel free to open an issue as well
[01:57:03] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[01:57:04] <acrichto> I've never seen that error you're getting
[01:58:44] <Dylan16807> I'm trying to get a stacktrace at the moment, but the failure is assert!(libc::CloseHandle(native) != 0); on line 180 of libstd/rt/thread.rs
[01:58:55] <Dylan16807> the original code was the second futures example http://static.rust-lang.org/doc/master/guide-tasks.html#backgrounding-computations:-futures
[01:59:54] <Dylan16807> https://gist.github.com/anonymous/59c6bf7034a7d073ff56 this is my current test program
[01:59:59] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:00:26] <dpc> How do I make it work:
[02:00:29] <dpc> write!(&mut term, "#");
[02:00:32] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[02:00:34] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:00:42] <huon> dpc: "\\#"
[02:00:52] <dpc> write!(&mut term, "{}", "#"); seems to work
[02:00:52] <huon> or r"\#" for a raw string
[02:01:05] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[02:01:07] <huon> the # is interpreted specially by the formatting code
[02:01:38] <huon> 13:00:04 - brson: omg McPherrin just sign up to rust-dev already :p
[02:01:57] * huon copies from #rust-internals
[02:02:17] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[02:02:41] <brson> I've approved several McPherrin posts recently ...
[02:02:56] <McPherrin> brson: I keep forgetting to use the right email
[02:03:04] <McPherrin> brson: I'm not sure why my email client isn't doing it automatically :/
[02:03:13] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[02:03:25] *** Joins: IanCormac841 (User@51AF8B57.2A8D8854.67DFF8B4.IP)
[02:03:28] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[02:03:32] *** Quits: IanCormac84 (User@18A7B10B.64D641E5.67DFF8B4.IP) (Ping timeout)
[02:03:45] <strcat> McPherrin: which email client? gmail and thunderbird both handle mailing lists well, among others (at least thunderbird + conversations addon does)
[02:03:55] <McPherrin> strcat: gmail and thunderbird :-P
[02:04:02] <strcat> McPherrin: use the conversations addon ;P
[02:04:17] <strcat> fixes pretty much everything about it for me...
[02:04:43] <strcat> (at least it threads mails properly, including cross-mailing-list ones)
[02:05:45] * strcat doesn't understand why it'd break without it though ;\
[02:05:46] *** Quits: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP) (Connection reset by peer)
[02:05:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:06:13] <strcat> I can't stand stand vanilla tb so I've never had the chance to use it for a mailing list
[02:06:41] <McPherrin> it breaks when I use the gmail web ui
[02:07:05] <McPherrin> replies with my default email instead of the one it was sent to
[02:07:29] <McPherrin> but I have "Reply from the same address the message was sent to" set
[02:07:32] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:07:55] *** Joins: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP)
[02:07:57] <strcat> guess it's broken with mailing lists
[02:08:00] *** Joins: Kazimuth (james@moz-1AB3D702.hfc.comcastbusiness.net)
[02:08:11] <McPherrin> It used to work :S
[02:08:16] <McPherrin> time to complain to gmail employees
[02:08:17] <strcat> I don't use gmail's UI anymore because I sign all my mail now :P
[02:08:44] * strcat desperately wants a mail client that's not as slow as thunderbird though
[02:08:53] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[02:08:59] <McPherrin> strcat: Mutt is where it's at
[02:09:05] <strcat> mutt is broken crap
[02:09:07] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[02:09:10] <strcat> need 2 patches to get signing working properly
[02:09:22] <strcat> and it can't deal with all this horrible html mail I get sent ;
[02:09:24] <strcat> ;\ *
[02:09:37] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[02:09:46] <strcat> geary/trojita don't have signing, evolution doesn't have proper threading
[02:09:48] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:09:52] <strcat> mailpile is vapourware
[02:10:22] <strcat> gmail is great (even has vim keybindings!) but I need gpg ;s
[02:11:41] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:11:46] *** Quits: soc (soc@moz-8E354A9D.dip0.t-ipconnect.de) (Client exited)
[02:12:20] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[02:12:34] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:12:47] *** Quits: pingveno (alevar@moz-544E84DC.cat.pdx.edu) (Input/output error)
[02:12:47] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:14:53] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:15:41] <Zor> strcat: aren't there browser plugins for gpg?
[02:16:15] *** Quits: andrew-__ (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP) (Input/output error)
[02:16:31] *** Joins: Chilledheart (chilledhea@F987C49A.4F1DAF29.86E83082.IP)
[02:16:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:16:36] *** Joins: andrew-d_w (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP)
[02:17:27] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:17:54] <strcat> Zor: yes, none that works properly on gmail
[02:17:59] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[02:18:13] *** Quits: jng27 (Mibbit@55B0B969.8E42373.30200F38.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:18:16] <strcat> Zor: and I use chromium, which is dropping NPAPI plugin support soon, so the current extension will break
[02:18:42] <strcat> I'm not sure if unsandboxed pepper plugins are even allowed on the store, but they'd have to port it anyway
[02:18:45] <McPherrin> brson: I got a gmail employee to repro and file a bug so hopefully I'll stop being annoying ;)
[02:18:51] *** Joins: cremes (cremes@moz-79335496.hsd1.il.comcast.net)
[02:18:58] *** Quits: lpy (lpy@1AF10827.F09091A8.1348A864.IP) (Client exited)
[02:20:24] *** Quits: nszceta (nszceta@moz-E642D2FB.hsd1.pa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:20:54] *** Quits: philix (felipe@moz-EEB72621.user.veloxzone.com.br) (Ping timeout)
[02:21:20] *** Quits: cremes (cremes@moz-79335496.hsd1.il.comcast.net) (Quit: cremes)
[02:21:25] *** Joins: cremes (cremes@moz-79335496.hsd1.il.comcast.net)
[02:21:50] *** Quits: andrew-d_w (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP) (Ping timeout)
[02:22:04] *** Quits: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com) (Ping timeout)
[02:22:49] *** Quits: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP) (Quit: bye)
[02:23:21] *** Joins: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP)
[02:23:25] *** Joins: IanCormac84 (User@BF1FA5FC.2A8D8854.67DFF8B4.IP)
[02:23:34] *** Quits: IanCormac841 (User@51AF8B57.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:24:09] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[02:24:37] *** Quits: Kazimuth (james@moz-1AB3D702.hfc.comcastbusiness.net) (Client exited)
[02:24:41] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:25:45] *** Joins: p1start (rewi@moz-E7F3D014.org)
[02:25:57] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[02:27:01] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:27:12] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:30:14] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:31:31] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[02:31:45] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:33:06] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[02:33:47] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[02:34:58] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[02:35:20] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[02:38:31] *** Joins: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com)
[02:39:05] *** Joins: philix (felipe@moz-EEB72621.user.veloxzone.com.br)
[02:40:08] *** Joins: jfhall (jfhall@moz-B3D0D48E.dhcp.snlo.ca.charter.com)
[02:40:28] *** Quits: IanCormac84 (User@BF1FA5FC.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:40:34] *** Quits: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com) (Ping timeout)
[02:40:57] *** Joins: IanCormac84 (User@28221A6B.64D641E5.67DFF8B4.IP)
[02:41:56] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Ping timeout)
[02:43:24] *** Joins: Oli (oli@moz-C901C4EB.clta.globetrotter.net)
[02:43:57] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:44:00] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:44:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[02:44:40] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[02:44:46] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[02:45:28] *** Quits: xero (Tyler@moz-312DF702.hsd1.wa.comcast.net) (Quit: xero)
[02:45:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[02:46:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[02:47:35] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[02:47:47] *** Joins: mib_p6hber (Mibbit@A0E21F79.E9F3F913.CC1A2609.IP)
[02:49:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[02:52:28] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[02:53:03] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[02:53:33] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[02:53:49] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[02:54:03] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[02:54:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[02:54:48] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[02:55:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[02:55:27] *** Joins: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com)
[02:55:57] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[02:56:28] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[02:56:43] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[02:57:21] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:59:27] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[02:59:31] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:00:14] *** Quits: canhtak (canhtak@54F87F4D.60A12A38.BF4BC958.IP) (Quit: canhtak)
[03:01:30] *** Quits: mib_p6hber (Mibbit@A0E21F79.E9F3F913.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:01:53] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:02:06] *** Joins: jvoorhis (jvoorhis@moz-384E18AD.ptld.qwest.net)
[03:02:19] *** Quits: yong (yong@BEEBD356.97476029.757A6F4C.IP) (Ping timeout)
[03:04:23] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:04:23] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:05:24] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[03:06:03] *** Quits: rootnode_ (rootnode@moz-6E1A64F0.pools.arcor-ip.net) (Ping timeout)
[03:06:12] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:06:31] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:07:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[03:07:31] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[03:07:44] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[03:08:11] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:09:34] *** Joins: toshok (toshok@moz-43741342.cat)
[03:09:35] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[03:10:04] *** Joins: yong (yong@BEEBD356.97476029.757A6F4C.IP)
[03:10:05] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Ping timeout)
[03:11:16] *** Quits: AWinterman (AWinterman@D3C5693E.51D6F6B.769845BA.IP) (Ping timeout)
[03:11:20] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[03:11:44] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[03:11:54] *** Joins: Denommus (user@moz-D91EF312.user.veloxzone.com.br)
[03:13:08] *** Quits: IanCormac84 (User@28221A6B.64D641E5.67DFF8B4.IP) (Ping timeout)
[03:13:08] <Denommus> hi
[03:13:23] <Denommus> it seems that nphysics' build is broken
[03:13:36] *** Joins: IanCormac84 (User@8616D593.64D641E5.67DFF8B4.IP)
[03:14:18] <huon> Denommus: that's 100% correct
[03:14:25] <blehtm> So the compiler changed to use "crate" instead of "mod" when importing modules, right?
[03:14:30] <huon> it needs to be updated to master (assuming you're using master)
[03:14:52] <huon> blehtm: when importing crates `extern mod foo;` -> `extern crate foo;` but just `mod foo;` didn't change
[03:15:16] *** Joins: lord (lord@87D98E32.4046EB22.428F94DD.IP)
[03:15:24] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[03:15:39] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[03:15:49] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:16:00] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[03:16:00] *** ChanServ sets mode: +o tjc
[03:16:17] <blehtm> Okay so if that is a breaking change then that would explain why this library isn't compiling
[03:16:30] <blehtm> I need to find a way to update my compiler
[03:16:58] <huon> you can use the newly released nightly binaries
[03:17:09] <huon> https://mail.mozilla.org/pipermail/rust-dev/2014-March/009223.html
[03:17:24] <blehtm> Perfect!
[03:17:37] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:17:39] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:17:47] <Denommus> huon: it needs to be updated to Rust's master?
[03:18:01] <blehtm> Finally something I don't have to build
[03:18:06] <huon> blehtm: although, depending on your platform, there may be nightly packages in the package repositories https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[03:18:18] <huon> (which would be easier to install/integrate with the system better)
[03:18:20] <huon> Denommus: yes
[03:18:54] *** Quits: gimpf (gimpf@moz-9EFA1B81.adsl.highway.telekom.at) (Ping timeout)
[03:19:56] *** Joins: axelmagn (axelmagn@8BFAF7D9.2884A5E6.34F263E9.IP)
[03:20:37] <axelmagn> hey all, I'm new to rust, but I was wondering what motivated the deviation from c-style function declarations (e.g. from the tutorial fn signum(x: int) -> int)
[03:21:00] <cmr> axelmagn: you say that as if C-style function declarations are the natural way of doing it :)
[03:21:07] <axelmagn> no
[03:21:10] <cmr> axelmagn: rust's syntax descends more from ML than C
[03:21:21] <Denommus> axelmagn: I like it this way because it's easier to grep
[03:21:22] <axelmagn> ok
[03:21:29] <Yurume> axelmagn: C-style function declaration is well known to be hard to parse correctly
[03:21:49] <axelmagn> well maybe mine has just been a geneological mistake
[03:21:49] <cmr> not as apparent compared to really ancient rust, used to be quite similar to ml
[03:22:01] <Yurume> either by the compiler or by the human.
[03:22:06] <axelmagn> my friend has introduced it to me as a C analog in many ways
[03:22:31] <Denommus> ML's influence quite jumps on your face on the module system (that's a compliment, only to be clear)
[03:22:45] <Yurume> axelmagn: you'll find this quite interesting: http://www.csse.monash.edu.au/~damian/papers/HTML/ModestProposal.html ;)
[03:22:50] <cmr> axelmagn: the goal is to be suitable where C is, but we don't descend from it
[03:22:54] <Denommus> axelmagn: it is a C analog in that it doesn't have a heavy runtime and can be used for systems programming
[03:23:02] <axelmagn> Woooo! Monash!  been there ;)
[03:23:13] <axelmagn> unfortunately that link is broken for me
[03:23:28] <Denommus> axelmagn: you could say it is a high-level language for low-level systems
[03:23:38] <Yurume> whoops?
[03:23:42] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[03:23:44] <Yurume> it works for me
[03:24:02] <axelmagn> Yurume: maybe I need to log in via my uni proxy...
[03:24:30] *** Quits: Zardoz (Zardoz@D59E95C5.800086B2.3E0BC680.IP) (Quit: Textual IRC Client: www.textualapp.com)
[03:25:02] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Ping timeout)
[03:25:06] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[03:25:14] <axelmagn> Yurume: my bad.  I forgot that I had configured firefox for SSH tunnelling ages ago
[03:26:00] <ChrisMorgan> axelmagn: are you in Melbourne?
[03:26:11] *** Quits: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP) (Ping timeout)
[03:26:14] <axelmagn> ChrisMorgan: I used to be.  I got my undergrad from unimelb
[03:26:40] <ChrisMorgan> Where are you now? (So few Rust people in Australia…)
[03:26:54] <axelmagn> Moved back to my hometown in Idaho.
[03:26:58] *** Joins: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP)
[03:27:05] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[03:27:21] *** Joins: dpc_ (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP)
[03:27:45] <axelmagn> ChrisMorgan: You think rust programmers are scarce in AU, try podunk Idaho ;)
[03:28:04] <dpc_> What is the esiest way to read a character from terminal? (hopefully without pressing enter..., but can be with it too)
[03:28:06] <Denommus> I impressed quite a lot of coworkers the past few weeks with Rust
[03:28:15] <Denommus> I'm hoping to start a trend in the company
[03:28:38] <cmr> Denommus: you said you're doing an internal presentation on reddit, right?
[03:29:01] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[03:29:06] <Denommus> cmr: yup, I'm working on an engine to understand how Rust's architecture works
[03:29:34] <Denommus> cmr: for now, I understood that I should model problems that would usually be modeled with inheritance by using enums, generics or composition instead
[03:30:14] <Denommus> dpc_: last time I asked something similar, they said I'd need unsafe code and to mess with ioctl directly
[03:30:25] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[03:30:38] <axelmagn> On a similar note, what inspired the grouping class methods into an impl block, vs either a unified class definition or something more like Go's funny little instance-pointer-as-a-separate-param?
[03:30:41] <dpc_> Denommus: Meh. I need something simple. I guess stdin will have to do.
[03:30:55] <cmr> axelmagn: helps for generics
[03:31:00] <cmr> impl<T> Foo<T> { ... }
[03:31:10] <cmr> instead of duplicating that type parameter *everywhere*
[03:31:13] <huon> dpc_: http://www.reddit.com/r/rust/comments/1v5oe7/why_does_rust_use_self_instead_of_this/
[03:31:15] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Quit: Leaving...)
[03:31:19] <huon> erm
[03:31:19] <Denommus> dpc_: I think someone should probably create a library for that
[03:31:21] <cmr> also there aren't called a class, in Rust
[03:31:23] <huon> axelmagn:*
[03:31:25] <axelmagn> crm:  that makes a ton of sense
[03:31:37] <cmr> axelmagn: it also mirrors the trait implementation, `impl Trait for Foo { ... }`
[03:31:48] *** Quits: IanCormac84 (User@8616D593.64D641E5.67DFF8B4.IP) (Ping timeout)
[03:31:58] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:32:01] <dpc_> How do I "read line" ?
[03:32:01] <cmr> huon: wow that was 2 months ago! seems like shorter
[03:32:20] <Denommus> axelmagn: besides helping for generics, it allows for more flexibility. If you have a new trait that you wish an existing struct to implement, you can simply create a new impl block in the same module of the new trait
[03:32:44] *** Joins: IanCormac84 (User@FACDF774.2A8D8854.67DFF8B4.IP)
[03:32:54] <Denommus> axelmagn: if you'd wish to do that with traditional OO, you'd have to change the class directly by making it implement the new interface. That's not always viable
[03:33:35] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[03:34:13] <Denommus> (or you could have something like C#'s extension methods, but I honestly think that Rust's approach is more interesting. Besides, it's easier to grep)
[03:35:08] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[03:35:31] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[03:36:08] <cgaebel> does rust have an add with carry?
[03:36:10] *** Quits: oxum (anonymous@E548EC34.4CC1D574.520CDC98.IP) (Quit: ...)
[03:36:11] <cgaebel> just curious
[03:36:34] <huon> cgaebel: for u64 + u64 -> (bool, u64)?
[03:36:36] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[03:36:39] <axelmagn> You guys rock.  Best irc community I've found in a while. 
[03:36:44] <cgaebel> huon: sure, or u32
[03:36:45] <cmr> axelmagn: we try :D
[03:37:24] <cgaebel> huon: it's `adc` in x86
[03:37:25] <huon> cgaebel: well, u32 can just be cast to u64 to add (I guess that will be mildly less efficient)
[03:37:37] <huon> and LLVM might optimise that to an adc
[03:37:40] * huon shrugs
[03:37:46] <huon> (we don't expose it directly)
[03:37:47] <cgaebel> my main beef with C is that I stopped getting access to the carry flag ;)
[03:37:53] <cgaebel> (as opposed to assembly)
[03:38:08] <huon> I guess checked_add uses the carry flag
[03:38:15] <cmr> yeah
[03:38:17] <cmr> you want checked_add
[03:38:20] <huon> but you don't get access to the non-carried part
[03:38:22] <cmr> though it's a pain.
[03:38:24] <cmr> yeah
[03:38:33] <cmr> there could be a add_with_carry method on CheckedAdd
[03:38:43] <cmr> which checked_add is impl'd in terms of.
[03:39:04] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[03:39:06] <cgaebel> ahh there it is. it's in intrinsics
[03:39:29] <cgaebel> intrinsics::u32_add_with_overflow
[03:39:42] <cmr> oh fancy
[03:39:44] <cgaebel> cool. just what I was looking for!
[03:39:46] <huon> ah, does that return both parts?
[03:39:46] <cmr> derp of course that exists.
[03:39:48] <huon> cool
[03:39:49] <cmr> huon: yeah
[03:40:01] *** jorendorff is now known as jorendorff_away
[03:40:02] <cgaebel> I feel like that should be part of `num` somewhere
[03:40:11] <Havvy> Is there a list of macros in libstd?
[03:40:20] <cmr> Havvy: http://static.rust-lang.org/doc/master/std/macros/index.html
[03:40:26] <cmr> those are the ones std exports.
[03:40:49] <Denommus> ok, I want to make a post about how Rust solves problems that are usually seen as inheritance problems, but I want just to know I'm being accurate first
[03:41:14] <cgaebel> huh. I feel like u64_mul_with_overflow should return a (u64, u64), not a (u64, bool)
[03:41:24] <Denommus> am I right in saying that if you're using inheritance to avoid code repetition you should be looking into composition instead?
[03:41:26] <cmr> cgaebel: take that up with llvm
[03:41:35] <cgaebel> cmr: :(
[03:41:37] <huon> cgaebel: its' what llvm exposes http://llvm.org/docs/LangRef.html#llvm-smul-with-overflow-intrinsics
[03:41:40] <cmr> cgaebel: http://llvm.org/docs/LangRef.html#llvm-umul-with-overflow-intrinsics
[03:41:42] <cmr> damn you huon!
[03:41:47] <Denommus> and about polymorphism, that you should be looking into sum types (enums) or generics instead?
[03:41:47] <cmr> always beating me to the punch
[03:41:48] <Havvy> Aww, nothing like `if_matches!(Some(value) = option, { /* code */ })`
[03:41:50] <cgaebel> wow you guys are fast with the llvm docs
[03:42:02] *** Quits: btm_work (btm@moz-2160AA7C.sakura.ne.jp) (Ping timeout)
[03:42:56] <huon> cgaebel: I'd looked up the add one when you pointed out the intrinsic... and "lan..." pops up the llvm langref in my browser anyway :P
[03:43:14] *** Joins: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net)
[03:43:27] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[03:43:28] <cgaebel> huon: dat autocomplete is like a superpower.
[03:43:33] <cmr> it really is.
[03:43:36] *** Joins: btm_work (btm@moz-2160AA7C.sakura.ne.jp)
[03:43:42] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[03:43:52] <cmr> I'm pretty sure I have something like half of all rust issues in my location bar.
[03:44:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[03:44:44] *** jorendorff_away is now known as jorendorff
[03:45:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[03:45:21] <cgaebel> lol
[03:45:22] *** Joins: aravindavk (aravinda@6208C16A.6F639BFF.C28A6AA4.IP)
[03:45:32] <cmr> (I'm not kidding)
[03:46:12] <cgaebel> grr according to intel, the two words resulting from a multiplication are in edx and eax, with CF and OF cleared if the high order bits are cleared.
[03:46:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[03:46:22] <cgaebel> so basically I could get a nifty rusty interface of
[03:46:31] *** Quits: zz_kimundi (kimundi@moz-137CBE82.dip0.t-ipconnect.de) (Ping timeout)
[03:46:38] <cgaebel> mul(a: u64, b: u64) -> (u64, Option<u64>)
[03:46:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[03:46:51] <cgaebel> and avoid assembly for bignum stuff
[03:46:55] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Quit: Leaving...)
[03:47:11] <cgaebel> or like... anything where you actually want to be able to multiply any two 64-bit numbers
[03:47:29] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[03:47:49] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[03:48:52] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[03:48:57] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[03:49:57] *** Joins: zz_kimundi (kimundi@moz-F76B25A2.dip0.t-ipconnect.de)
[03:50:26] *** zz_kimundi is now known as kimundi
[03:50:42] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[03:51:47] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[03:53:04] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:53:30] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:54:57] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Ping timeout)
[03:55:30] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[03:55:31] *** ChanServ sets mode: +o tjc
[03:56:30] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[03:56:59] *** Quits: Siosm (quassel@moz-9911B053.fr) (Ping timeout)
[03:57:41] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[03:58:03] *** Quits: IanCormac84 (User@FACDF774.2A8D8854.67DFF8B4.IP) (Ping timeout)
[03:58:09] *** Joins: IanCormac84 (User@484F360D.2A8D8854.67DFF8B4.IP)
[04:00:28] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[04:00:46] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[04:01:09] *** Quits: anomie (anomie@moz-3213C615.wavecable.com) (Ping timeout)
[04:02:43] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[04:03:08] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[04:03:25] *** Joins: mib_bqdwsx (Mibbit@A0E21F79.E9F3F913.CC1A2609.IP)
[04:04:10] <Havvy> Why do I keep trying to use # for comments?
[04:04:23] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[04:05:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[04:05:21] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[04:05:46] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[04:06:05] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[04:06:30] *** Quits: Chilledheart (chilledhea@F987C49A.4F1DAF29.86E83082.IP) (Client exited)
[04:06:32] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:06:45] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[04:06:48] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[04:07:12] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[04:07:15] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:07:19] <cgaebel> forgot you weren't using a scripting language? ;)
[04:07:30] *** Quits: Denommus (user@moz-D91EF312.user.veloxzone.com.br) (Ping timeout)
[04:07:35] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[04:07:49] *** Joins: Siosm (quassel@moz-9911B053.fr)
[04:07:50] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[04:08:06] <o11c> apparently on German keyboards, you don't even have to press shift to type #
[04:08:20] <o11c> but I still like # comments more than // even though // is shiftless
[04:08:57] <cgaebel> yeah me too. comments should be easy to type
[04:09:00] <cgaebel>  // is too many characters
[04:09:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:09:12] <Havvy> cgaebel:  Seeing that my most common scripting language is JavaScript, it's not that.
[04:09:20] <o11c> ooh
[04:09:25] <o11c> random crazy stupid idea
[04:09:58] <o11c> in an indentation-based langauge - what if comments were simply anything that was indented too much (without being after an if, while, for, def, class, ...)
[04:09:59] <Havvy> I just honestly feel like Rust should be using # for comments. But then my syntax highlighter is like "That's not a comment."
[04:10:16] <cgaebel> yeah I hear you. idk why either.
[04:10:17] <o11c> of course, then you couldn't put a comment immediately after one of those ...
[04:10:21] <cgaebel> o11c: your idea is crazy
[04:10:32] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[04:10:33] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[04:10:34] <cgaebel> then I can't line comments up with the code they talk about
[04:10:37] <cgaebel> and draw pretty ascii art n' stuff
[04:10:41] <cgaebel> or comment in the middle of a line
[04:11:05] <Havvy> o11c:  I like my comments to match the indentation of surrounding code.
[04:11:13] <Havvy> So that wouldn't work well.
[04:11:14] *** Quits: mib_bqdwsx (Mibbit@A0E21F79.E9F3F913.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:11:26] <o11c> cgaebel: comments in the middel of the line are overrated
[04:11:37] <o11c> (though I occasionally *do* use /**/ for that
[04:11:46] <Havvy> I think it's because I use #[] more than comments.
[04:11:54] <o11c> but I *never* use // at end of line - always at the start of the previous line
[04:11:59] <cgaebel> Havvy: your code is either really simple, or really scary
[04:12:00] *** Quits: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:12:05] <cmr> hahah
[04:12:08] <cmr> why not both? :)
[04:12:14] <cgaebel> lol true
[04:12:14] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Quit: Jesse)
[04:12:19] <Havvy> Both. Yes. Let's go with both.
[04:12:19] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:12:22] <cgaebel> o11c: I comment in all sorts of weird places
[04:12:36] <cgaebel> o11c: don't bring your fascist comment-rules down on me!
[04:12:45] <huon> in a box, on a fox
[04:12:47] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[04:12:53] <o11c> cgaebel: you don't get a choice about my fascism
[04:13:04] <cgaebel> o11c: that's true. that'd be pretty fascist of me
[04:13:05] <o11c> oh, I utterly *despise* box comments
[04:13:06] <Havvy> Only time I've used comments in the middle of a line is in JS when I wanted to add type information.
[04:13:16] <huon> *with a fox
[04:13:25] <Havvy> On a firefox?
[04:13:54] <huon> I do not like comments-in-the-middle-of-the-line, Sam-I-am
[04:14:09] <Havvy> huon:  That's tweetable.
[04:14:12] <cgaebel> well, I don't USUALLY do them. but denying that they should exist is a little extreme
[04:14:13] <Havvy> If you're on Twitter.
[04:14:20] * huon doesn't think that rolls off the tongue quite as well as the original
[04:15:07] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[04:15:28] *** Quits: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu) (Quit: No Ping reply in 180 seconds.)
[04:15:40] *** Joins: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu)
[04:15:52] <Havvy> So anyways, I think my issue is that I see item/crate attributes sort of like comments.  "We don't want this to be a keyword, so let's just throw it into a #[]"
[04:16:10] <huon> @staticmethod etc. in python?
[04:16:12] <cgaebel> I'd actually be ok with replacing '//' with '# '
[04:16:20] <huon> @override in Java?
[04:16:30] <huon> (or whatever it is...)
[04:16:39] <Havvy> @Override is an annotation.
[04:16:40] *** Quits: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP) (Ping timeout)
[04:16:46] <huon> so is #[]?
[04:16:50] <Havvy> Yes, yes it is.
[04:17:31] <huon> does @Override change semantics?
[04:17:39] <Havvy> Yes.
[04:17:52] <o11c> huon: no
[04:17:55] <Havvy> If the method isn't being overwritten, the program doesn't compile.
[04:18:00] <o11c> it's just error checking in the compiler
[04:18:19] *** Quits: lkuper (lkuper@moz-61339218.dyn.optonline.net) (Quit: lkuper)
[04:18:33] <Havvy> o11c:  Compile-time semantics are still semantics.
[04:18:45] *** Joins: anomie (anomie@moz-3213C615.wavecable.com)
[04:19:32] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:20:18] *** Joins: mortisha (Mibbit@moz-7721739E.hsd1.ca.comcast.net)
[04:21:01] *** Joins: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP)
[04:27:02] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Ping timeout)
[04:28:16] <mortisha> Good evening, Rusty freaks!
[04:28:52] <McPherrin> I prefer rustacean :)
[04:29:04] <mortisha> Rustacean sounds good :)
[04:29:39] *** Joins: oxum (anonymous@DBAC33FC.B2721737.520CDC98.IP)
[04:29:55] <mortisha> I am new to Rust, trying to get started by writing bindings for some C code.
[04:30:05] <mortisha> And I am a bit confused about vectors (Vec)
[04:30:17] <McPherrin> How can we help?
[04:30:35] <mortisha> I have C code allocating space for the result, and returning a *u8 pointer and a length.
[04:30:56] <mortisha> So turning that into a Vec in Rust seemed like the right thing to do
[04:31:05] <mortisha> Instead of carrying a pointer and a length around.
[04:31:11] <strcat> mortisha: yes, that's the right choice
[04:31:25] <mortisha> So I used Vec::from_raw_parts() 
[04:31:32] *** Joins: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP)
[04:31:40] <McPherrin> http://static.rust-lang.org/doc/master/std/c_vec/index.html maybe instead?
[04:31:54] <mortisha> But then, the Vec destructor tries to free() the pointer
[04:32:00] <strcat> mortisha: that requires that the point is allocated with the default Vec allocator
[04:32:04] <strcat> otherwise you can't do that
[04:32:09] <huon> mortisha: that's exactly what CVec is for :)
[04:32:16] <strcat> CVec will also free it
[04:32:19] <mortisha> Yes, this is the issue I was facing.
[04:32:21] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:32:28] <huon> strcat: nope
[04:32:40] <huon> it has the option to have a destructor, but not required
[04:32:48] <mortisha> The C library already takes care of allocation/deallocation, so I'd like to avoid Rust doing it
[04:33:00] <huon> CVec::new(ptr, len) // doesn't free
[04:33:03] <strcat> mortisha: you can use a slice if it's not giving you ownership of the memory
[04:33:11] <strcat> depends on exactly what's going on
[04:33:19] <huon> CVec::new_with_dtor(ptr, len, proc() { libc::free(ptr); }) // does free
[04:33:23] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Ping timeout)
[04:33:35] <strcat> if the C code is handing you ownership of a ptr, then you do need to wrap it in something with a dtor
[04:33:56] <mortisha> huon: ooh, I totally overlooked CVec. Sounds good!
[04:33:59] <strcat> if it's giving you view of data you're passing in, then you can use a slice
[04:34:14] <mortisha> I currently works well with a slice
[04:34:21] <mortisha> With slice::from_buf
[04:34:34] <mortisha> But I read that owned slices are going to be removed from the language
[04:34:45] <strcat> ~[T] will be removed
[04:34:47] <strcat> not &[T]
[04:35:00] <mortisha> But slice::from_buf returns ~[T] doesn't it?
[04:35:01] <strcat> if this is a view of memory, you don't want to be using either ~[T] or Vec<T>
[04:35:01] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[04:35:14] <strcat> mortisha: it allocates, copies over the content and returns the slice
[04:35:40] *** Quits: claudiu_ (claudiu@moz-F69B678E.thefacebook.com) (Ping timeout)
[04:35:41] <strcat> it's not really clear what exactly you're trying to do
[04:35:50] <strcat> I think it's unlikely that CVec is going to really be the right choice
[04:35:59] <strcat> unless this is just being stored in a private field as an implementation detail
[04:36:02] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:36:19] <mortisha> The pointer will stay in a private field
[04:36:26] <Havvy> I really should update my rustc and get std::vec and std::slice.
[04:36:33] <strcat> mortisha: ah then CVec does work
[04:36:41] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[04:36:52] *** Joins: Chilledheart (chilledhea@F987C49A.4F1DAF29.86E83082.IP)
[04:37:25] <mortisha> Allocated in the Rust new method, and I need to call a specific library function to properly free it in the destructor.
[04:37:35] <mortisha> CVec it is, then!
[04:38:00] <strcat> mortisha: you could also pass the library function as a dtor to CVec
[04:38:04] <strcat> instead of doing it yourself
[04:38:07] <strcat> so it's perfect.
[04:38:18] <mortisha> Just saw that. Excellent!
[04:38:34] *** Quits: Chilledheart (chilledhea@F987C49A.4F1DAF29.86E83082.IP) (Ping timeout)
[04:39:10] <mortisha> Is *my_vector.get(i) the only way to access an element of a vector? Why not my_vector[i]?
[04:39:23] <mortisha> Not a big deal but I find it a bit verbose
[04:39:37] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Quit: Leaving)
[04:39:40] <McPherrin> mortisha: Ideally [i] would work but that's not quite done yet
[04:39:42] <sfackler> mortisha: the Index trait needs to be rewritten to support that
[04:39:54] <sfackler> and hasn't yet
[04:40:02] <Havvy> It's a regression, not an intention.
[04:40:23] <mortisha> I see. So .get() for now and then the code can be changed to [] when it will be implemented.
[04:40:28] <mortisha> Cool!
[04:40:39] *** jorendorff is now known as jorendorff_away
[04:41:06] <mortisha> Also I tried to compile the current code from github on OSX. It compiles but installation fails
[04:41:16] <mortisha> rust/mk/install.mk:13: *** unterminated variable reference.  Stop.
[04:41:37] *** Joins: p1start (rewi@moz-E7F3D014.org)
[04:41:57] *** Quits: Earnestea (earnest@moz-6CD1AB70.dyn.plus.net) (Ping timeout)
[04:42:02] <mortisha> It worked yesterday, I just did a git pull since. So maybe just a minor regression that I wanted to report if it can help.
[04:43:02] *** Joins: dranov (dranov@5A0A12C0.65119E71.FB866788.IP)
[04:43:26] <sfackler> mortisha: maybe https://github.com/mozilla/rust/pull/13174
[04:43:28] <sfackler> ?
[04:43:32] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[04:43:34] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[04:43:38] *** Quits: Kxepal (Miranda@moz-AA60EEAD.pppoe.mtu-net.ru) (Connection reset by peer)
[04:43:55] *** Joins: Kxepal (Miranda@moz-AA60EEAD.pppoe.mtu-net.ru)
[04:44:11] <mortisha> Looks like the same issue indeed
[04:44:38] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[04:47:12] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[04:51:54] *** Joins: lfox (lfox@moz-44B75614.nycmny.fios.verizon.net)
[04:51:56] *** Parts: lfox (lfox@moz-44B75614.nycmny.fios.verizon.net) ()
[04:52:01] *** Joins: lfox (lfox@moz-44B75614.nycmny.fios.verizon.net)
[04:52:22] <Havvy> Does anybody know of a cleaner way of iterating through a list and doing something with every element but the first and also something else with every element but the last?
[04:52:34] <Havvy> https://gist.github.com/Havvy/6f7328ef837262cf9b0e For what I'm currently doing.
[04:53:08] *** Quits: lfox (lfox@moz-44B75614.nycmny.fios.verizon.net) (Quit: ZZZzzz…)
[04:53:13] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:53:13] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:54:45] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[04:55:26] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[04:55:50] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[04:56:08] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:56:20] *** Quits: lord (lord@87D98E32.4046EB22.428F94DD.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:57:43] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[04:58:21] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[04:58:37] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:59:01] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[04:59:50] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:00:53] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[05:00:53] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:01:24] *** Quits: Oli (oli@moz-C901C4EB.clta.globetrotter.net) (Client exited)
[05:01:25] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Quit: leaving)
[05:01:45] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[05:03:41] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[05:04:21] *** Joins: lord (lord@87D98E32.4046EB22.428F94DD.IP)
[05:05:20] *** Quits: jvoorhis (jvoorhis@moz-384E18AD.ptld.qwest.net) (Client exited)
[05:05:41] *** Joins: jvoorhis (jvoorhis@moz-384E18AD.ptld.qwest.net)
[05:05:43] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[05:06:16] *** Parts: snerd (motk@moz-D21A06DF.members.linode.com) ()
[05:07:23] *** Quits: jvoorhis (jvoorhis@moz-384E18AD.ptld.qwest.net) (Ping timeout)
[05:07:34] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:07:34] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Ping timeout)
[05:08:16] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:08:20] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[05:09:45] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[05:10:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:10:41] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[05:11:04] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[05:12:08] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[05:13:01] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[05:16:37] <cmr> Havvy: seems fine.
[05:17:40] <Havvy> It feels ugly to me. :(
[05:18:10] *** Joins: Oli (oli@moz-C901C4EB.clta.globetrotter.net)
[05:18:13] *** Quits: axelmagn (axelmagn@8BFAF7D9.2884A5E6.34F263E9.IP) (Client exited)
[05:18:16] <cmr> you can use .skip(1)
[05:18:56] <cmr> can also do .rev().skip(1).rev()
[05:18:58] <cmr> to skip the last :P
[05:19:01] *** Joins: jaredly (jaredly@moz-C4E51CD4.hsd1.ut.comcast.net)
[05:19:11] <Havvy> Only if I iterate twice. :/
[05:19:14] *** jaredly is now known as register
[05:19:18] *** register is now known as jaredly
[05:19:50] <huon> zip those together to get (elem_n, elem_n_minus_1)
[05:19:56] <cmr> no? you can use self.floors.last()
[05:20:01] <huon> cmr: you can just use .slice_to and .slice_from too
[05:20:05] <cmr> also that.
[05:21:00] <Havvy> Hmm, a zip like that would work really well.
[05:21:04] <dsrx> sldkjf;asdlkfjadskldsfcmklrijfeil
[05:21:06] <dsrx> oooooops
[05:21:11] <klutzy> dsrx: really?
[05:21:17] <dsrx> sorry all!
[05:21:33] * huon agrees with dsrx: jaljlkjiuhnnmmjfhfh
[05:21:44] * cmr also agrees, jjjjjjjjjjjjjjjjjjjjjjjjjjj
[05:23:36] <dpc_> for (x, y) in [(2, 2), (4, 4)].iter() { 
[05:23:40] <dpc_> Should that be working?
[05:24:07] <huon> the vector/slice iterator yields references into the vector, not the elements themselves
[05:24:13] *** Quits: lord (lord@87D98E32.4046EB22.428F94DD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[05:24:27] <huon> rusti: for &(x, y) in [(2, 2), (4, 4)].iter() { println!("{} {}", x, y) }
[05:24:28] -rusti- 2 2
[05:24:29] -rusti- 4 4
[05:24:29] -rusti- ()
[05:24:30] *** Joins: edwardw (Mibbit@EE646FE3.EE06708D.4BFBD933.IP)
[05:24:52] <huon> (the change was to add the & to patternmatch through the reference)
[05:25:06] <Havvy> I just realized that Rust and Spanish are similar in Ser/Estar let/let mut
[05:25:25] *** Joins: rootnode (rootnode@moz-47B9C34C.pools.arcor-ip.net)
[05:26:52] <o11c> what?
[05:27:39] <Havvy> Ser and Estar both mean 'to be'.  Ser is for more permanent things and estar is for things that change over time.
[05:27:44] <jaredly> :D good one Havvy 
[05:28:15] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Quit: Leaving...)
[05:29:02] <Havvy> Also, the third person singular difference is also three characters.  (es vs. estas)
[05:29:09] <o11c> Havvy: I'd say estar is any let, and ser is impl
[05:29:18] <blehtm> cmr: Any idea if glfw-rs should work with the most recent nightly rustc?
[05:30:04] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: gf)
[05:30:18] <cmr> blehtm: nightly from where?
[05:30:30] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:30:32] <Havvy> I'd say tener would be closer to impl.
[05:30:49] <McPherrin> Havvy: Make a spanish fork of rust :-)
[05:30:51] <blehtm> cmr: https://mail.mozilla.org/pipermail/rust-dev/2014-March/009223.html
[05:31:01] <cmr> blehtm: probably.
[05:31:10] <Havvy> But they're both weak analogies for impl.
[05:31:19] <Havvy> McPherrin:  I don't remember too much spanish anymore.
[05:31:41] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[05:31:41] <blehtm> I'm not sure which rustc version to use- the one on rust's main website is too out of date, but that nightly is giving me : http://puu.sh/7Mozo.png
[05:31:53] <blehtm> (the windows installer from the main website that is)
[05:32:49] <blehtm> I don't expect everything to work out of the box of course.. just trying to get some libraries together to start playing with. Maybe I should start with the tutorial so I can actually debug these things
[05:33:33] <hoverbear> Anyone know how to solve this? https://gist.github.com/Hoverbear/6957760d84b1dc0c3dc8
[05:34:51] <cmr> blehtm: ah, it's slightly too new.
[05:35:31] <cmr> blehtm: since travis uses the ubuntu ppa right now, there's probably always going to be a day-or-so lag between the official nightlies being released and libs being updated.
[05:35:55] <huon> travis can use the official nightlies, can't it?
[05:35:58] <cmr> it could.
[05:36:01] <cmr> but it doesn't right now
[05:36:13] <cmr> hoverbear: you can only collect into a Vec or ~[], not a &[]
[05:36:23] <cmr> hoverbear: what would the slice be pointing to?
[05:36:59] <hoverbear> cmr: Oh ok.
[05:37:03] <hoverbear> Maybe I'm going about this wrong.
[05:37:41] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[05:37:46] <hoverbear> cmr: So like a Vec<~str>?
[05:38:15] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[05:38:33] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[05:39:00] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:39:02] <cmr> hoverbear: yes, sure.
[05:39:10] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[05:40:11] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[05:40:47] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:40:51] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[05:40:52] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[05:41:37] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[05:42:43] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[05:42:56] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[05:44:00] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[05:44:18] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[05:45:37] *** Joins: Chilledheart (chilledhea@F987C49A.4F1DAF29.86E83082.IP)
[05:46:24] *** Joins: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[05:47:54] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:48:11] <dpc_> What would be a function like "modulo" (real modulo, not %).
[05:48:43] <cmr> if you don't want %, then what do you want?
[05:49:01] <dpc_> let r = x % m; if r < 0 { r+m } else { r }
[05:49:12] <dpc_> Only, hopefully in stdlibrary.
[05:50:08] <lurk_> How could r be less than zero?
[05:50:20] *** Quits: aravindavk (aravinda@6208C16A.6F639BFF.C28A6AA4.IP) (Quit: Leaving)
[05:50:25] *** Joins: aravindavk (aravinda@6208C16A.6F639BFF.C28A6AA4.IP)
[05:50:30] <dpc_> rusti: -9i % 4
[05:50:31] -rusti- -1
[05:50:38] <lurk_> oh right
[05:51:07] <jaredly> dpc_: alternate: match x % m { a if a < 0 => a + m,  b => b }
[05:51:58] <dpc_> jaredly: Yeah, but it doesn't change the fact that I need to define this as a handy function a lot.
[05:53:35] <hoverbear> cmr: Tried to use ~[~str], but now I have new issues. :S
[05:53:40] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:53:43] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[05:54:26] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:56:22] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[05:56:46] <edwardw> rusti: use num::Integer; (-8i).mod_floor(& 3)
[05:56:47] -rusti- pastebinned 8 lines of output: http://sprunge.us/NPcO
[05:57:30] <edwardw> rustilite: extern crate num; pub fn main() { use num::Integer; println("{}", (-8i).mod_floor(& 3)) }
[05:57:31] -rustilite- <anon>:1:53: 1:60 error: unresolved name `println`.
[05:57:31] -rustilite- <anon>:1 extern crate num; pub fn main() { use num::Integer; println("{}", (-8i).mod_floor(& 3)) }
[05:57:31] -rustilite-                                                              ^~~~~~~
[05:57:31] -rustilite- error: aborting due to previous error
[05:57:31] -rustilite- application terminated with error code 101
[05:57:45] <edwardw> rustilite: extern crate num; pub fn main() { use num::Integer; println!("{}", (-8i).mod_floor(& 3)) }
[05:57:46] -rustilite- 1
[05:58:44] <dpc_> extern crate num; pub fn main() { use num::Integer; for i in range(-10i, 10) { print!("{},", (i).mod_floor(& 3)) } }
[05:58:59] <dpc_> rusti: extern crate num; pub fn main() { use num::Integer; for i in range(-10i, 10) { print!("{},", (i).mod_floor(& 3)) } }
[05:58:59] -rusti- <anon>:10:9: 10:26 error: "extern crate" declarations are not allowed here
[05:59:00] -rusti- <anon>:10         extern crate num; pub fn main() { use num::Integer; for i in range(-10i, 10) { print!("{},", (i).mod_floor(& 3)) } }
[05:59:00] -rusti-                   ^~~~~~~~~~~~~~~~~
[05:59:00] -rusti- error: aborting due to previous error
[05:59:00] -rusti- application terminated with error code 101
[05:59:45] <edwardw> dpc_: for `extern crate`, you need to talk to rustilite :)
[06:00:29] <dpc_> But why did edward's invocation worked...
[06:00:43] <cmr> because it was to rustilite
[06:00:48] <edwardw> because it is rustilite LOL
[06:01:00] <dpc_> rustilite: extern crate num; pub fn main() { use num::Integer; for i in range(-10i, 10) { print!("{},", (i).mod_floor(& 3)) } }
[06:01:01] -rustilite- 2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,
[06:02:46] <edwardw> rustilite: extern crate num; pub fn main() { use num::Integer; for i in range(-10i, 10) { print!("{},", (i).mod_floor(& -3)) } }
[06:02:47] -rustilite- -1,0,-2,-1,0,-2,-1,0,-2,-1,0,-2,-1,0,-2,-1,0,-2,-1,0,
[06:03:06] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:04:38] *** Quits: jaredly (jaredly@moz-C4E51CD4.hsd1.ut.comcast.net) (Client exited)
[06:06:03] <edwardw> isn't it the `&` in `(i).mod_floor(& 3)` a little bit weird?
[06:06:30] <cmr> it takes any generic numeric type.
[06:06:42] <cmr> you wouldn't want to be copying all dozen digits of a bigint just to do a single operation.
[06:06:54] <cmr> (that is, its internal vector of digits)
[06:06:59] <strcat> dozen? pfft, million
[06:07:00] <edwardw> ah ok, makes sense
[06:07:20] <hoverbear> I think it got worse. :( https://gist.github.com/Hoverbear/86cdd65af35ddd1c6183 Not even sure where to start to fix this.
[06:08:24] <o11c> pods should auto-& maybe
[06:08:33] <strcat> why just Pod?
[06:08:45] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:08:56] <strcat> imo if there's auto-ref, it would need to work for everything
[06:09:17] *** Joins: benjamin_____ (benjamin@moz-1BC8DB46.dip0.t-ipconnect.de)
[06:09:36] <strcat> Cell is Pod but foo(&x) will a Cell can modify the memory
[06:10:25] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:10:26] *** Quits: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[06:10:51] <krdln>  hoverbear: firstly, dictionary could not be ~[&str], because &str won't live long enough (there are references to lines, which are temporary)
[06:11:15] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:11:16] <hoverbear> krdln: I had it ~[~str]] previously, was that a better choice?
[06:11:49] <huon> hoverbear: `let lookup: ~str = words.chars_rev(.collect(); dictionary.iter().any(|val| *val == lookup)`
[06:11:54] <krdln> yup
[06:13:08] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:13:53] <hoverbear> huon: Okay, I think that works. Makes more sense. I didn't think using the &'s was right there... Now I just need to solve this FromIterator issue.
[06:14:16] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[06:15:03] <krdln> hoverbear: btw, didn't you meant word.iter instead of dictionary? and all instead of any?
[06:15:51] <hoverbear> krdln: I want to check for the existence of palindromes in a given dictionary.
[06:16:10] <hoverbear> krdln: So take in a list of words, check to see if their reverse exists in the list.
[06:17:21] <krdln> ok, sorry. But I wouldn't call them palindromes
[06:17:50] <krdln> it seems like ~str doesn't implement FromIterator<Char>
[06:18:00] <huon> it does
[06:18:18] <cmr> &~str doesn't though.
[06:18:21] <huon> rusti: "foobar".chars_rev().collect::<~str>()
[06:18:22] -rusti- raboof
[06:18:30] <hoverbear> krdln: I'm trying to re-implement a project for a class in Rust. I realize that's not the exact definition of a palindrome
[06:18:33] <krdln> huon, so I don't know how to use search in docs
[06:19:20] *** Quits: mortisha (Mibbit@moz-7721739E.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:19:35] <hoverbear> How would I go about diagnosing these FromIterator errors? https://gist.github.com/Hoverbear/1168153ac6f66d5c2c95
[06:20:03] *** Joins: Zerker (zerker@moz-E4FA897F.dhcp.psdn.ca.charter.com)
[06:20:06] <cmr> hoverbear: can you put compiler output in a code block please?
[06:20:07] <krdln> search for from_iterator doesn't include str, but it is listed on FromIterator page
[06:20:10] <cmr> it's impossible to read :\
[06:20:15] <hoverbear> cmr: I just realized that, sorry.
[06:20:30] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[06:20:33] <krdln> hoverbear: I guess .to_owned() after .trim()
[06:20:40] <cmr> krdln: because str is a fake type, invented by the government to make you believe strings exist.
[06:20:40] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[06:20:55] <hoverbear> cmr: better.
[06:21:42] <hoverbear> krdln: Okay, I put that on L9 and it worked to fix the L10 error.
[06:22:14] <hoverbear> Oh hoy it compiled
[06:22:49] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[06:23:04] <hoverbear> krdln, cmr, huon : Thanks for your help! :) Tomorrow: Threading!
[06:23:49] *** Joins: nkoep (nik@moz-7AB416BE.pool.mediaways.net)
[06:23:56] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[06:24:29] <krdln> hoverbear: I envy you how you could leave O(n²) code without temptation to make it faster ;)
[06:24:57] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:25:14] <hoverbear> krdln: I'm less interested in the problem details then how to deal with the problems it presents in rust.
[06:26:17] <hoverbear> krdln: I'm sure I could make this code faster, but I have spent probably 6 or 7 hours trying to figure out the ownership foolery on this already.
[06:26:22] <krdln> hoverbear: I was that kind of person... I miss those times
[06:27:04] <krdln> Will method and traits on [T, ..n] work with dst?
[06:27:12] <cmr> krdln: no.
[06:27:16] <cmr> well.
[06:27:17] <hoverbear> krdln: It's disasterously slow, I agree.
[06:27:19] <cmr> indirectly.
[06:27:28] <cmr> not on [T, ..n] directly, but on [T]
[06:28:03] *** Joins: richo (richo@moz-D95FACC7.tpgi.com.au)
[06:28:11] <krdln> Will auto-corce?
[06:28:21] <cmr> arrays will, yes.
[06:28:47] <cmr> http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/ has all the details.
[06:28:51] *** Quits: Rym (y@F571237E.E30DB9C2.8772DA20.IP) (Ping timeout)
[06:29:49] <hoverbear> krdln: I mean really what would you even do to speed this up without dramatically over-complixifying the problem?
[06:30:33] <cmr> hoverbear: use a hashmap? :P
[06:30:49] <hoverbear> cmr: Elaborate?
[06:30:55] <krdln> hoverbear: just sort and binary search
[06:31:06] <hoverbear> They're already sorted.
[06:31:19] <cmr> or, I suppose, a HashSet
[06:31:29] <cmr> O(1) "contains" operation.
[06:31:40] <hoverbear> cmr: I looked for a .contains()
[06:31:52] <cmr> http://static.rust-lang.org/doc/master/collections/hashmap/struct.HashSet.html#method.contains
[06:32:40] <hoverbear> cmr: Coooool.
[06:33:00] <hoverbear> cmr: Can I take the result of a [].map() operation and dump it into that?
[06:33:14] <cmr> it even implements FromIterator :)
[06:34:19] <cmr> binary search would also work.
[06:34:24] <hoverbear> So I could do like `let foo: HashSet<~str> = bar.iter().collect()`?
[06:34:28] <krdln> hoverbear: binary search induces less changes in code! :D just dictionary.bsearch(&word).is_some()
[06:34:30] <cmr> bsearch method.
[06:34:34] <cmr> hoverbear: exactly.
[06:34:43] <cmr> http://static.rust-lang.org/doc/master/std/slice/trait.ImmutableVector.html#tymethod.bsearch
[06:35:03] <strcat> hoverbear: in theory HashSet<_> will work too, but it may not
[06:35:32] <dsrx> is there a function that's like |&x| x ?
[06:35:36] <dsrx> in the std lib, Imean
[06:35:40] <cmr> dsrx: no.
[06:36:03] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[06:36:15] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:36:39] <strcat> rusti: let xs = [1, 2, 2, 3, 1, 4]; let mut ys = HashSet<_> = xs.collect(); ys.insert(5); ys.len()
[06:36:39] -rusti- <anon>:10:59: 10:60 error: unexpected token: `_`
[06:36:39] -rusti- <anon>:10         let xs = [1, 2, 2, 3, 1, 4]; let mut ys = HashSet<_> = xs.collect(); ys.insert(5); ys.len()
[06:36:39] -rusti-                                                                     ^
[06:36:39] -rusti- application terminated with error code 101
[06:36:44] <strcat> rusti: let xs = [1, 2, 2, 3, 1, 4]; let mut ys: HashSet<_> = xs.collect(); ys.insert(5); ys.len()
[06:36:44] -rusti- <anon>:10:50: 10:60 error: use of undeclared type name `HashSet`
[06:36:45] -rusti- <anon>:10         let xs = [1, 2, 2, 3, 1, 4]; let mut ys: HashSet<_> = xs.collect(); ys.insert(5); ys.len()
[06:36:45] -rusti-                                                            ^~~~~~~~~~
[06:36:46] -rusti- error: aborting due to previous error
[06:36:48] -rusti- application terminated with error code 101
[06:36:59] <strcat> rusti: use collections::HashSet; let xs = [1, 2, 2, 3, 1, 4]; let mut ys: HashSet<_> = xs.collect(); ys.insert(5); ys.len()
[06:37:00] -rusti- pastebinned 11 lines of output: http://sprunge.us/MOHa
[06:37:12] <strcat> rusti: use collections::HashSet; let xs = [1, 2, 2, 3, 1, 4]; let mut ys: HashSet<_> = xs.iter().collect(); ys.insert(5); ys.len()
[06:37:13] -rusti- pastebinned 8 lines of output: http://sprunge.us/aOVi
[06:37:14] <hoverbear> krdln: bsearch takes a function :)
[06:37:17] <krdln> I was wondering if there could exist sugar for |&x|x.method(), it's a common pattern, and it would be cool to be able to write map(.method())
[06:37:22] * strcat gives up
[06:37:32] <strcat> rusti: use collections::HashSet; let xs = [1, 2, 2, 3, 1, 4]; let mut ys: HashSet<_> = xs.iter().map(|&x| x).collect(); ys.len()
[06:37:33] -rusti- <anon>:10:89: 10:120 error: cannot determine a type for this bounded type parameter: unconstrained type
[06:37:33] -rusti- <anon>:10         use collections::HashSet; let xs = [1, 2, 2, 3, 1, 4]; let mut ys: HashSet<_> = xs.iter().map(|&x| x).collect(); ys.len()
[06:37:33] -rusti-                                                                                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[06:37:33] -rusti- application terminated with error code 101
[06:37:37] <strcat> yeah, doesn't work
[06:37:54] <strcat> rusti: use collections::HashSet; let xs = [1, 2, 2, 3, 1, 4]; let mut ys = xs.iter().map(|&x| x).collect::<HashSet<_>>(); ys.len()
[06:37:54] -rusti- <anon>:10:77: 10:122 error: cannot determine a type for this bounded type parameter: unconstrained type
[06:37:54] -rusti- <anon>:10         use collections::HashSet; let xs = [1, 2, 2, 3, 1, 4]; let mut ys = xs.iter().map(|&x| x).collect::<HashSet<_>>(); ys.len()
[06:37:54] -rusti-                                                                                       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[06:37:55] -rusti- application terminated with error code 101
[06:37:55] *** Joins: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP)
[06:37:57] <strcat> sad
[06:38:08] <cmr> krdln: https://github.com/rust-lang/rfcs/pull/4
[06:38:16] <cmr> krdln: that'd be T::method
[06:38:48] <krdln> hoverbear: I should be more careful with what I write
[06:38:49] <hoverbear> Thanks for your help all. I'm going to fiddle more another day on hashset and bsearch. :)
[06:39:17] <hoverbear> Night!
[06:39:46] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:40:38] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:41:28] *** Quits: anomie (anomie@moz-3213C615.wavecable.com) (Ping timeout)
[06:41:45] *** Joins: ofeldt (ofeldt@moz-C5B025BB.dip0.t-ipconnect.de)
[06:41:57] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:42:44] *** Quits: ofeldt- (ofeldt@moz-DB59AC64.dip0.t-ipconnect.de) (Ping timeout)
[06:43:05] <krdln> cmr: I never thought of this usecase for this rfc. So map(_::method()) might work when it would be merged?
[06:43:09] <cmr> no.
[06:43:19] <cmr> well actually
[06:43:22] <cmr> _ might work there
[06:43:24] <cmr> that'd be interesting
[06:43:38] *** Quits: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net) (Ping timeout)
[06:43:39] <cmr> There should really be a detailed RFC about what _ is and where it's valid etc etc etc.
[06:43:42] * cmr stares at kimundi
[06:43:51] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:44:25] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[06:44:58] *** Joins: bourbaki (luesebrink@moz-378DB7DD.dip0.t-ipconnect.de)
[06:45:04] <bourbaki> Greetings
[06:45:13] <bourbaki> What was the colsure type again that Rust does not currently support?
[06:45:20] <bourbaki> Boxed closures?
[06:45:25] <strcat> unboxed closures
[06:45:48] <strcat> it only has procs (heap closures you can call once) and borrowed stack closures
[06:46:05] <strcat> both are boxed
[06:46:19] <bourbaki> Ok
[06:46:25] <strcat> (i.e. the true type of the closure and static function location are erased, you only have dynamically set pointers)
[06:46:30] <bourbaki> Unboxed closures are like callbacks in C++?
[06:46:39] <strcat> like lambdas in C++11, yes
[06:46:40] <bourbaki> With structure, like function objects.
[06:46:41] *** Quits: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net) (Quit: brendan)
[06:46:57] <strcat> bourbaki: yes, each closure would be a uniquely typed callable object
[06:47:00] <bourbaki> Ok, i was not sure for a moment that i recapped this correctly :)
[06:47:39] <bourbaki> I also saw that Rust had/has a problem with closures and recursion?
[06:47:44] <bourbaki> Stemming from the same problem?
[06:48:05] <cmr> no that's unrelated
[06:48:06] <cmr> http://smallcultfollowing.com/babysteps/blog/2013/04/30/the-case-of-the-recurring-closure/
[06:48:31] <strcat> unboxed closures would be super easy to reason about since they're just static function calls
[06:48:40] <bourbaki> Aye
[06:49:24] <bourbaki> Isnt the recursion thingy entangled with the Yoneda Lemma?
[06:50:32] * cmr doesn't even know what that is, and still doesn't after staring at wikipedia for a minute
[06:51:45] <Havvy> cmr:  Link?
[06:52:20] <cmr> Havvy: http://lmgtfy.com/?q=Yoneda+Lemma :P
[06:52:45] <bourbaki> https://www.fpcomplete.com/user/bartosz/understanding-yoneda
[06:54:13] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:54:41] <cmr> pigs launching rockets at each other.
[06:54:43] <cmr> this is deep.
[06:54:55] <bourbaki> :)
[06:54:58] <edwardw> LOL
[06:55:08] <Havvy> The more weird the analogy, the closer to enlightment you are. ;)
[06:55:15] <bourbaki> Hehehe
[06:55:19] <cmr> that's how you know you're in trouble: the article starts out simple
[06:55:39] <bourbaki> Well you can just read the CT thingy i guess.
[06:56:05] <cmr> well I don't know it, so I have to to progress :P
[06:57:10] *** Joins: Ferreus_ (ferreus@moz-4630C183.dip0.t-ipconnect.de)
[06:57:31] <bourbaki> Making things complicated is easy, explaining complicated things fully in an easy way is hard :)
[06:59:11] *** Quits: bourbaki (luesebrink@moz-378DB7DD.dip0.t-ipconnect.de) (Ping timeout)
[07:00:53] <Havvy> My 'logic' class in college was entirely about making `if, and, or` complicated.
[07:02:47] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:03:26] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Ping timeout)
[07:04:58] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:05:16] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:05:37] <krdln> Havvy: logic is teached in this way to make us feel more empathy for computers which doesn't understand it intuitively
[07:06:25] <Havvy> That's not what I got from it.
[07:07:01] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:07:02] *** Quits: dpc_ (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:07:16] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Quit: bleibig)
[07:07:21] *** Joins: fabiand (fabiand@moz-B81281DA.adsl.alicedsl.de)
[07:07:51] <krdln> so it was really only about making things complicated, that's sad
[07:08:00] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:08:16] <Havvy> It was in the philosophy department.
[07:08:28] <cmr> Oh
[07:08:31] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:08:31] <cmr> So not mathematical logic?
[07:08:33] *** Joins: schnozzle (Mibbit@5A74B1AD.C8DC7926.971E19F6.IP)
[07:08:46] <Havvy> It was still mathematical logic.
[07:08:49] <Havvy> Oh, and there was also like one day on it in the computer science department.
[07:08:59] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:09:05] <Havvy> And two weeks where everybody in the class (except for three) already knew it.
[07:09:27] <Havvy> Which *really* embarassed the teacher.
[07:09:31] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:09:45] <Havvy> For some reason, she was still forced to teach it as part of the curriculum.
[07:11:05] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:11:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:12:00] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:12:07] <cmr> "A natural transformation is a mapping between functors that preserves the structure of the underlying categories. " /o\
[07:12:09] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:12:23] <cmr> But a functor is a mapping between categories that preserves the structure of the underlying morphisms!
[07:13:08] <cmr> .... is a natural transformation a functor between the category of categories?
[07:13:15] * cmr continues reading
[07:13:16] <sfackler> the category class at my college was offered in the philosophy department, even though it was exactly like a normal math class. The story I heard about it was that when the philosophy department was being created, it needed more classes and category theory was the most philosophy-y thing in the math department
[07:13:44] <sfackler> so off it went
[07:14:07] <McPherrin> sfackler: mine had a philosophy of mathematics department
[07:14:31] <McPherrin> I took the intro class and learned I really don't care what a number *is*
[07:14:52] <cmr> lol
[07:15:01] <sfackler> haha
[07:15:06] *** Quits: rmt (rmt@moz-4CB6ED0D.superkabel.de) (Ping timeout)
[07:15:21] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:15:31] <cmr> McPherrin: brson is tired of approving your emails and wants you to join the list
[07:15:37] <cmr> :P
[07:16:33] <McPherrin> cmr: I saw!  It's a gmail bug, not my fault
[07:17:08] <McPherrin> https://productforums.google.com/forum/#!topic/gmail/H1P9zOTTljI%5B1-25-false%5D
[07:17:15] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[07:17:45] <McPherrin> I've pestered everyone I know who works on gmail about it.
[07:19:25] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[07:20:07] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[07:20:42] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[07:21:07] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[07:21:26] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[07:22:32] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:22:43] *** Quits: richo (richo@moz-D95FACC7.tpgi.com.au) (Ping timeout)
[07:22:50] <schnozzle> I looked at morestack, it's not implemented anymore, so segmented stacks are completely out? I guess rust is relying on lazily mapped pages?
[07:23:10] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:23:11] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[07:23:14] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:23:20] <cmr> schnozzle: correct.
[07:23:30] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:23:58] <strcat> schnozzle: rust just uses LLVM's segmented stack support to provide stack safety atm
[07:24:14] <strcat> LLVM lacks an equivalent to -fcheck-stack implementing full safety with guard pages
[07:24:25] *** Joins: rmt (rmt@moz-4CB6ED0D.superkabel.de)
[07:24:30] <strcat> (since a large uninitialized chunk can go past a guard page)
[07:25:14] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:26:14] <schnozzle> strcat: okay i see, so rustcore still needs to compile to llvm bc. Does the rust compiler have the ability to compile code without segmented stack support?
[07:26:25] <strcat> nope, not yet
[07:26:43] *** Quits: philix (felipe@moz-EEB72621.user.veloxzone.com.br) (Ping timeout)
[07:28:00] <cmr> Well, my head is spinning, I'm going to go back to my libjit binding, which makes sense.
[07:28:39] <schnozzle> strcat: It's not really a priority is it? Or are there github issues for it? Seeing as how this mostly for stuff like embedded programming, where there is no OS. Most rust users wouldn't need it.
[07:28:55] <cmr> schnozzle: even they don't need it.
[07:28:59] <cmr> emit ir, compile with llc.
[07:29:05] <cmr> I've implemented it, the feature was rejected.
[07:29:11] <strcat> schnozzle: I don't think it's viewed as a priority, but it's a significant performance issue (1-5% performance hit)
[07:29:14] <cmr> Disabling stack safety simply won't be allowed.
[07:29:29] <strcat> so it would be great to have an LLVM equivalent to -fcheck-stack
[07:29:37] <McPherrin> schnozzle: stack overflows matter on embedded... http://www.eetimes.com/document.asp?doc_id=1319897
[07:29:51] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[07:29:53] <strcat> McPherrin: a dynamic abort wouldn't have helped there.
[07:30:15] *** Joins: richo (richo@moz-AF834969.tpgi.com.au)
[07:30:19] <McPherrin> strcat: well, that depends... if the ECU reset on failure, it may have
[07:30:22] <cmr> schnozzle: I still plan to implement an analysis that stack size is fixed, and then omit stack checking.
[07:30:39] <cmr> (opt-in)
[07:30:57] <cmr> schnozzle: http://cmr.github.io/blog/2013/10/21/on-stack-safety/ http://cmr.github.io/blog/2013/10/28/more-on-stack-safety/
[07:31:42] *** Joins: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr)
[07:32:23] <McPherrin> strcat: I don't actually know the details so I could be talking out my behind on this though :-)
[07:33:28] <schnozzle> McPherrin: Stack safety is important yes, but sometimes you know how much stack you're going to need.
[07:33:50] <schnozzle> cmr: I'll look at that link, I like the idea of fixed stack sizes.
[07:34:53] <strcat> on a system with an MMU, it's a price you don't need to pay - you just need the compiler to make sure each page is touched in order when it has large uninit blocks
[07:35:05] <strcat> which GCC supports (-fcheck-stack) but LLVM needs to learn
[07:35:06] <o11c> if you're using more than 4096 bytes of stack, you're doing something wrong
[07:35:15] <strcat> not really
[07:35:20] <strcat> it's fine to put that much on the stack
[07:35:59] *** Joins: bourbaki (luesebrink@moz-378DB7DD.dip0.t-ipconnect.de)
[07:36:02] <o11c> it's really better to have a dedicated scoped allocation pool for things, so the execution stack doesn't move much
[07:36:09] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[07:36:09] <o11c> think about what the CPU sees
[07:36:32] <McPherrin> I would really like statically proven fixed stack sizes though
[07:36:53] <strcat> McPherrin: not going to happen without losing boxed closures, trait objects, function pointers, etc.
[07:37:04] <strcat> at least most uses of them
[07:37:33] <strcat> with the guard page technically, you *barely* have any checks
[07:37:37] <strcat> a normal program will have none
[07:37:47] <strcat> guard page technique*
[07:39:18] <McPherrin> strcat: sigh, it's true
[07:39:44] <McPherrin> strcat: I'll have to invent another dialect to go along with crust and frust
[07:39:52] <strcat> ;)
[07:40:14] <strcat> McRust, clearly
[07:40:28] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:41:05] <McPherrin> better start saving up on my bounds checks
[07:42:05] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:42:35] * p1start wonders if, with opt-in default traits, rustdoc could be made to show what built-in traits a type implemented in a compact way
[07:43:54] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[07:44:08] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[07:44:33] <strcat> p1start: iirc, I opened a bug about that a while ago - and yes, it could
[07:44:52] <strcat> it could say it where it shows the fields
[07:44:52] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[07:45:26] *** Quits: Chilledheart (chilledhea@F987C49A.4F1DAF29.86E83082.IP) (Ping timeout)
[07:46:01] *** McPherrin is now known as mcpherrin
[07:46:06] <cmr> p1start: it can do it now, regardless of oibit
[07:46:08] *** Joins: Chilledheart (chilledhea@EF2C7E97.35484C67.84569CC2.IP)
[07:46:22] <cmr> I'm waiting for TheHydroImpulse's redesign to land before I implement it.
[07:47:52] *** Quits: nkoep (nik@moz-7AB416BE.pool.mediaways.net) (Client exited)
[07:48:09] <Dylan16807> oh, well that was a boring answer to my bug
[07:48:10] *** Quits: richo (richo@moz-AF834969.tpgi.com.au) (Ping timeout)
[07:48:36] <Dylan16807> native threads plus 32 bit equals running out of address space when making a thousand tasks
[07:49:14] <cmr> default stack size is 2M
[07:49:18] <cmr> a thousands tasks should be fine.
[07:49:27] <p1start> cmr: that sounds great! I've wanted that feature for a while now
[07:49:49] <Dylan16807> so that tutorial should probably spawn fewer threads but nothing major is wrong
[07:50:23] <Dylan16807> it's not marked large address aware so windows will only give it 2GB
[07:50:40] <Dylan16807> I can watch it run out
[07:51:14] *** Joins: [squiddy] (squiddy@moz-E62BD793.versanet.de)
[07:52:02] <Dylan16807> yep 1000 works if I flip that bit, I'm sure 2000 would now break
[07:52:44] *** Parts: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Leaving...)
[07:54:01] <Dylan16807> I guess the next step is figuring out where thread creation fails, it shouldn't be violating an assert in an unrelated function
[07:57:04] *** Quits: schnozzle (Mibbit@5A74B1AD.C8DC7926.971E19F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:57:20] *** Joins: Nekit1234007 (Nekit12340@DEC494C7.E25DEE64.4707F662.IP)
[07:57:57] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[07:59:45] *** Joins: pingveno (alevar@moz-544E84DC.cat.pdx.edu)
[08:00:52] *** Joins: richo (richo@moz-1680A32.tpgi.com.au)
[08:00:56] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[08:01:44] <tyoverby> is there any way to get a reference to an item in an array?
[08:01:55] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:02:05] <tyoverby> &arr[i] doesn't seem to be working
[08:02:13] <cmr> tyoverby: array or vector?
[08:02:18] <cmr> what type do you have
[08:02:36] <tyoverby> Vec
[08:02:58] <cmr> http://static.rust-lang.org/doc/master/std/vec/struct.Vec.html#method.get
[08:03:42] *** Quits: twi (Adium@moz-CF950680.cust.vodafonedsl.it) (Connection reset by peer)
[08:03:43] <bourbaki> Does Rust have a binary static segment that i can read and write from?
[08:03:53] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:03:55] *** Joins: twi (Adium@moz-CF950680.cust.vodafonedsl.it)
[08:03:55] <tyoverby> oh dammit, I was looking at the wrong place
[08:03:55] <cmr> bourbaki: `static mut`
[08:03:58] <tyoverby> thanks cmr
[08:04:01] <bourbaki> read from :)
[08:04:09] <cmr> you can read from a static mut...
[08:04:27] <bourbaki> Ok thanks a bunch.
[08:04:35] <cmr> (needs unsafe code)
[08:04:44] <bourbaki> Is unsafe viral?
[08:04:58] <cmr> no.
[08:05:03] *** flaper87|afk is now known as flaper87
[08:05:21] <cmr> http://static.rust-lang.org/doc/master/guide-unsafe.html
[08:05:27] <bourbaki> Thanks
[08:07:00] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:07:25] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:07:50] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:08:49] *** Quits: edwardw (Mibbit@EE646FE3.EE06708D.4BFBD933.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:09:42] <tyoverby> Is there a way to pass a named lifetime into a function explicitly?
[08:09:44] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:10:00] <tyoverby> I want to write self.arr.get<'a>(id) 
[08:10:15] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:10:19] <tyoverby> (or at least I think I want to write that)
[08:10:38] <cmr> tyoverby: you shouldn't ever have to, inference should handle it all.
[08:10:46] <cmr> why do you think you want to?
[08:11:01] <Havvy> tyoverby:  Chances are you want to put the 'a on the &'a self
[08:11:07] <Havvy> or whatever thing you are getting from.
[08:11:25] <jroweboy> I'm trying out something here, and I'm running into lifetime issues. I want to return a closure from a struct method so that a different struct can call the closure. But when I try to return the closure it can't infer the lifetime. https://gist.github.com/jroweboy/9827618
[08:12:01] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:12:25] <cmr> jroweboy: that needs to return a 'b |Request| -> Response
[08:12:45] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[08:13:40] <tyoverby> cmr: ok, I must be doing something else wrong.  I think the issue is that I'm trying to do something that should be unsafe and I'm still trying to get the compiler to allow it 
[08:13:43] <cmr> or maybe that won't work either.
[08:13:50] <cmr> tyoverby: gist your code?
[08:14:14] *** Quits: oxum (anonymous@DBAC33FC.B2721737.520CDC98.IP) (Quit: ...)
[08:14:24] <Dylan16807> huh, so RUST_MIN_STACK affects how much is committed but they still reserve 2MB.  plus an extra 256KB for a kernel stack or something
[08:14:50] <jroweboy> cmr: Ah good catch, but from what I understand, is that it is tying the lifetime to the function bounds, so when the function ends the closure goes out of scope, but I don't want that to happen. How can i tell it the closure I create is of lifetime 'b (or 'a) for that matter
[08:15:10] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[08:15:18] <tyoverby> cmr: it's still in a really early stage.  I'm just experimenting with the type system.  I'm trying to make a cache for objects accessable by a uint identifier.  The clinch is that I want the cache to lay them all out continously in memory, so I have a growing vector to handle that for me.  The thing is that I don't think it's possible to do this without invalidating pointers in the middle of it 
[08:15:21] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[08:15:36] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[08:15:39] *** Joins: arturo (Thunderbir@moz-F3373B5F.pool.mediaways.net)
[08:16:02] <cmr> jroweboy: your understanding is correct.
[08:16:22] <cmr> jroweboy: I would think it would allow it using 'b
[08:16:27] <cmr> jroweboy: but clearly not. open an issue?
[08:16:43] <cmr> oh I know what the problem is, nevrmind.
[08:17:03] <cmr> closure is (*data, *func)
[08:17:10] <cmr> it creates data as a struct on the stack
[08:17:15] <cmr> can't return a pointer to that local.
[08:17:36] <cmr> I was only thinking about the lifetimes of the references in the environment, not the environment itself.
[08:17:47] <cmr> tyoverby: sure, getting an item needs to freeze it.
[08:17:53] <cmr> tyoverby: that's expressible though
[08:18:32] *** Quits: dirtyvader (dirtyvader@E8FD12E.EF916AE4.5C7CEBE3.IP) (Ping timeout)
[08:18:39] <jroweboy> cmr: Hmm, then is there a way to put it on the heap instead of the stack? In rust that is typically with an owned pointer correct?
[08:18:41] <tyoverby> cmr: but can that get tracked throughout the whole program?
[08:18:57] <cmr> tyoverby: yes.
[08:19:22] <cmr> tyoverby: this is how the `get` method on Vec works
[08:20:00] <cmr> jroweboy: the only closure type that can do that right now is `proc`
[08:20:31] <jroweboy> cmr: isn't proc only local though? Where can I learn more about proc?
[08:20:48] <cmr> what do you mean "only local"?
[08:20:57] <cmr> proc is a heap closure that is callable only once.
[08:21:04] <cmr> http://smallcultfollowing.com/babysteps/blog/2013/10/10/fn-types-in-rust/
[08:21:27] <tyoverby> cmr: There's only one sentence on Freeze in the tutorial.  Are there any other resources?
[08:21:36] <cmr> tyoverby: Freeze is unrelated.
[08:21:41] <eddyb> aaand dead
[08:22:10] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[08:22:11] <cmr> tyoverby: freezing a value just means that it can't be mutated.
[08:22:36] <tyoverby> cmr: ok, maybe I'm more lost than I had thought.
[08:22:47] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:22:50] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:23:05] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:23:31] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[08:23:39] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:23:39] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:23:55] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[08:24:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:24:17] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:25:24] *** Quits: kvanb (kvanb@moz-17FE5943.lnse4.lon.bigpond.net.au) (Ping timeout)
[08:25:36] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:25:48] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:25:50] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:25:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:27:52] <jroweboy> cmr: callable only once... :( If you couldn't tell, I'm trying to find a better way to implement a controller in my web framework. Currently I have a static function which gets added to the router, but that means that I'll have to pass anything in the Context in as a variable which just doesn't feel very clean. I was looking for a better way involving structs and closures
[08:27:58] *** Quits: arturo (Thunderbir@moz-F3373B5F.pool.mediaways.net) (Ping timeout)
[08:28:20] <cmr> jroweboy: instead of closures consider using a trait that controllers implement.
[08:28:21] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[08:28:34] <cmr> and then you can store trait objects.
[08:29:04] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[08:29:31] *** Quits: richo (richo@moz-1680A32.tpgi.com.au) (Ping timeout)
[08:29:38] <jroweboy> cmr: What kind of methods would be on such a trait in your opinion? 
[08:29:38] *** Joins: richo (richo@moz-2B2686FA.tpgi.com.au)
[08:29:45] <cmr> no idea
[08:30:03] <cmr> I imagine it'd just have one, to handle the request?
[08:30:05] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[08:30:26] *** Joins: kvanb (kvanb@moz-BA670ED4.lnse2.win.bigpond.net.au)
[08:30:50] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[08:31:33] <jroweboy> I was leaning towards the revel style where you have a controller with several handlers on it and revel will handle routing and just call the handlers you define. But without using the reflect magic that revel uses I don't see how I can accomplish that in Rust :/
[08:32:27] *** Quits: richo (richo@moz-2B2686FA.tpgi.com.au) (Ping timeout)
[08:32:44] *** Joins: richo (richo@moz-1875B4BF.tpgi.com.au)
[08:32:48] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[08:34:06] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[08:34:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:34:42] <cmr> yeah that's not really going to fly.
[08:35:18] <cmr> Perhaps https://github.com/wycats/routed-http.rs/blob/master/src/main.rs can serve as inspiration?
[08:35:47] <cmr> (scroll to the bottom)
[08:35:51] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:36:15] <mcpherrin> Maybe some sort of thing using traits and default methods?
[08:36:38] * mcpherrin hasn't thought about what I just said
[08:36:50] <eddyb> who's I?
[08:37:12] *** Joins: marc_ (uid5324@moz-31ABA2C0.irccloud.com)
[08:37:30] <mcpherrin> me?
[08:37:56] <eddyb> mcpherrin: that's "he"
[08:38:04] <eddyb> or "she" or whatever
[08:38:04] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Ping timeout)
[08:38:13] <eddyb> "they" if you don't want to be precise
[08:38:17] <cmr> what
[08:38:50] <eddyb> *sigh* I was just messing with mcpherrin because of "I" instead of third person in /me
[08:38:59] <cmr> oh, that
[08:39:16] * cmr I hate third person
[08:39:40] <mcpherrin> You think second person is cool.
[08:39:46] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:40:35] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[08:40:43] <jroweboy> cmr: Thanks for the link :) I've looked into this code previously and I'm going to update it at some point and see if its faster than the two other Routers that my group and I have made already. But this one still requires you to write the controller handlers inline and all in one place. I want the user to have some more freedom than that.
[08:40:59] <cmr> jroweboy: sure.
[08:41:20] <cmr> jroweboy: excited to see what you come up with :)
[08:41:35] <jroweboy> I'll think of something... eventually :)
[08:41:39] <eddyb> I was actually thinking of that last night
[08:41:48] <eddyb> how well do macros work for HTML templates?
[08:41:54] <eddyb> (without raw strings)
[08:42:07] <cmr> rusti: type foo = *mut (); struct Bar { x: foo }; std::mem::size_of::<Option<Bar>>()
[08:42:07] -rusti- <anon>:10:9: 10:28 warning: type `foo` should have a camel case identifier, #[warn(non_camel_case_types)] on by default
[08:42:08] -rusti- <anon>:10         type foo = *mut (); struct Bar { x: foo }; std::mem::size_of::<Option<Bar>>()
[08:42:08] -rusti-                   ^~~~~~~~~~~~~~~~~~~
[08:42:08] -rusti- 16
[08:42:15] <cmr> that is really sad.
[08:42:39] <cmr> rusti: std::mem::size_of::<Option<*mut ()>>()
[08:42:40] -rusti- 16
[08:42:42] <eddyb> cmr: it's sad for Rc
[08:42:50] <cmr> wait what
[08:43:00] <eddyb> cmr: * is nullable lol
[08:43:02] <cmr> oh that's nullable
[08:43:10] <cmr> yeah
[08:43:17] * cmr derped
[08:43:33] <jroweboy> eddyb: What do you mean by "how well do macros work"? Its late and I'm not really able to parse that question : )
[08:43:35] <eddyb> right now I can't change Span's ExpnInfo from @ to Rc<T> because every AST node ever will gain 8 bytes (or more)
[08:43:37] <cmr> it'd be nice if we had a non-nullable raw pointer type...
[08:43:48] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[08:43:50] <cmr> eddyb: ~Rc<T> !
[08:44:12] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[08:44:16] <eddyb> it's not hard to implement, we just... didn't do it yet :(
[08:44:52] <eddyb> jroweboy: template!(<html><head><script src="${site.base_url}/js/jquery.js"></script>.....)
[08:44:55] <eddyb> jroweboy: etc. etc.
[08:46:23] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[08:46:46] <jroweboy> Oh that would indeed be very interesting. I suppose it depends on the templating language though. Making a macro for Mustache is probably much simpler than making one for Jinja. 
[08:47:16] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[08:47:20] <cmr> eddyb: I think just using "&'static mut T" might be better than adding another pointer to the languge.
[08:47:42] <eddyb> cmr: but that's safe to dereference
[08:47:46] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[08:47:50] <cmr> eddyb: so is my raw pointer
[08:47:52] <cmr> :p
[08:48:01] <cmr> (it's a priv field for ffi anyway)
[08:48:43] <cmr> I'm tempted to change my mind on #10571
[08:49:20] <eddyb> aaaaaand our syntax is buggy
[08:49:41] <eddyb> to the point where fn fold_arm(&mut self, Arm {pats, guard, body}: Arm) -> Arm is invalid
[08:50:03] <eddyb> rusti: fn foo(int) {}
[08:50:04] -rusti- <anon>:10:19: 10:20 error: expected `:` but found `)`
[08:50:04] -rusti- <anon>:10         fn foo(int) {}
[08:50:04] -rusti-                             ^
[08:50:04] -rusti- application terminated with error code 101
[08:50:19] <eddyb> rusti: fn foo(Struct {x}: Struct) {}
[08:50:20] -rusti- pastebinned 8 lines of output: http://sprunge.us/iYWb
[08:50:34] *** Joins: oxum (anonymous@C28A3971.1F20C5D9.520CDC98.IP)
[08:50:41] *** Joins: jose2 (jose@8F38A76E.2B23BC53.F87DF0C6.IP)
[08:50:51] <eddyb> rusti: impl Foo{fn foo(&self, Struct {x}: Struct) {}}
[08:50:52] -rusti- pastebinned 8 lines of output: http://sprunge.us/ahCX
[08:51:04] <eddyb> odd
[08:51:14] <eddyb> rusti: trait Foo{fn foo(&self, Struct {x}: Struct) {}}
[08:51:14] -rusti- <anon>:10:40: 10:41 error: expected `,` but found `{`
[08:51:14] -rusti- <anon>:10         trait Foo{fn foo(&self, Struct {x}: Struct) {}}
[08:51:14] -rusti-                                                  ^
[08:51:14] -rusti- application terminated with error code 101
[08:51:20] <eddyb> hah what?
[08:51:31] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:52:00] *** Joins: richo1 (richo@moz-E753D979.static.tpgi.com.au)
[08:52:06] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:52:13] <eddyb> cmr: I wish we stuck with either no argument patterns (extern functions) or *mandatory* patterns
[08:52:16] *** Quits: richo (richo@moz-1875B4BF.tpgi.com.au) (Ping timeout)
[08:52:33] <cmr> eddyb: this was brought up in the most recent meeting.
[08:52:44] *** Parts: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) ()
[08:52:45] *** Joins: W0rmDr1nk (wormdrink@5451F9BD.52135167.A77EFE04.IP)
[08:52:48] <eddyb> is there an issue I can //FIXME with?
[08:53:06] <cmr> this happens with the new bound syntax too.
[08:53:18] <cmr> no.
[08:54:46] <cmr> there was some idle spectulation as to removing optional argument patterns.
[08:55:13] <mindcat> rusti: #[deriving(Clone)] struct a<'b> { c: &'b mut Option<a<'b>> }
[08:55:14] -rusti- pastebinned 7 lines of output: http://sprunge.us/DaXB
[08:55:48] <eddyb> mindcat: you can't clone &mut
[08:55:49] <eddyb> it's affine
[08:56:10] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[08:56:21] <mindcat> eddyb: ok..
[08:57:24] *** Quits: Chilledheart (chilledhea@EF2C7E97.35484C67.84569CC2.IP) (Quit: Leaving...)
[08:58:32] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[08:59:16] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[08:59:22] *** Joins: eibwen (kvirc@moz-565A1408.dip0.t-ipconnect.de)
[09:00:12] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[09:05:13] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:05:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:06:57] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[09:07:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:09:10] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[09:10:22] *** Joins: Ms2ger (Ms2ger@moz-4CB19774.adsl-dyn.isp.belgacom.be)
[09:10:41] *** Quits: richo1 (richo@moz-E753D979.static.tpgi.com.au) (Ping timeout)
[09:10:54] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[09:13:44] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[09:14:00] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[09:14:27] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[09:15:39] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[09:18:44] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[09:19:04] *** Joins: leowoe (Leo@moz-72D47201.dclient.hispeed.ch)
[09:19:26] <Manishearth> ms2ger: This stackoverflow post should be converted into a lifetimes tutorial
[09:20:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[09:20:56] *** Quits: yong (yong@BEEBD356.97476029.757A6F4C.IP) (Quit: Konversation terminated!)
[09:21:09] *** Quits: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP) (Ping timeout)
[09:21:25] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[09:21:42] *** Joins: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP)
[09:21:54] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[09:22:55] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[09:23:02] *** Joins: kris (kris@moz-42A2A7B6.science.ku.dk)
[09:23:29] <Manishearth> http://stackoverflow.com/questions/22188088 has a really nice answer.
[09:24:15] <cmr> how quaint, people using stack overflow for rust.
[09:24:37] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[09:24:42] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[09:24:42] *** Joins: amphibulus (Mibbit@moz-93FB92D1.itwm.fhg.de)
[09:24:54] *** amphibulus is now known as hirsch
[09:25:24] <cmr> Manishearth: also, it is.
[09:25:51] <hirsch> Why doesn't f32 and f64 have BYTES constant?
[09:26:01] <cmr> aatch is giving a presentation on lifetimes at the next bay area rust
[09:26:25] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[09:26:26] <tyoverby> cmr: will that talk be made public?
[09:26:32] <tyoverby> cmr: video recorded? 
[09:26:34] <cmr> tyoverby: they all are, yes.
[09:26:48] <cmr> https://air.mozilla.org/search/?q=rust
[09:27:20] <tyoverby> cmr: Awesome.  In the mean time, do you have any good links?
[09:27:40] <cmr> unfortunately there aren't any really good ones besides the lifetime guide.
[09:27:48] <tyoverby> (for lifetimes)?
[09:27:50] <tyoverby> oh, ok
[09:28:12] <cmr> well, and http://stackoverflow.com/questions/22188088/what-does-a-scoped-lifetime-in-rust-actually-mean :P
[09:28:27] <eddyb> hirsch: huh?
[09:28:40] <eddyb> hirsch: like, number of bytes?
[09:28:57] <hirsch> yes, u8::BYTES exist
[09:28:58] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[09:29:54] <strcat> hirsch: what's the use case?
[09:29:56] <eddyb> hirsch: std::mem::size_of::<f32>()
[09:30:00] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[09:30:07] <cmr> eddyb: not usable in a static
[09:30:12] <eddyb> hirsch: that even works from generic functions, unlike...
[09:30:13] <eddyb> cmr: oh
[09:30:15] *** Quits: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr) (Ping timeout)
[09:30:25] <strcat> I hope that means we aren't going to hardcode it as a static for every type
[09:30:31] <strcat> I hope that doesn't mean* ;p
[09:30:38] <hirsch> In imageprocessing, dealing with different pixel types
[09:30:41] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[09:30:51] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[09:30:55] <eddyb> hirsch: what code context? is this inside a function?
[09:31:18] <cmr> strcat: I believe we are, once we have associated items :p
[09:32:22] <hirsch> I'm creating an image struct and the image data is ~[u8] but the pixel types can differ. To calculate the with and height and iterate the image you habe to know the bytesize of every pixel
[09:32:37] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Connection reset by peer)
[09:32:44] <cmr> hirsch: use size_of
[09:33:35] <hirsch> is it a compiletime constant?
[09:33:44] <cmr> in practice yes.
[09:33:52] <cmr> it can't be used in a static
[09:34:16] <eddyb> hirsch: Rust... isn't like that :P. a lot of things are compile-time constants
[09:34:17] <hirsch> and isn't it inconsistent that BYTES exist for integral types and not for floats?
[09:34:32] <eddyb> u8::BYTES feels... redundant
[09:34:36] <eddyb> it's always 1
[09:34:50] <eddyb> it makes sense for uint and int, *maybe*, but nothing else
[09:35:05] <hirsch> doesn't every constant feel redundant? ;-)
[09:35:19] <eddyb> ...
[09:36:07] *** Quits: mjrosenb (mjrosenb@moz-22104996.hsd1.pa.comcast.net) (Ping timeout)
[09:36:25] <cmr> hirsch: all of the crap in std::<builtin name> will probably be removed or replaced by associated constants.
[09:36:32] <jmgao> eddyb: what if you're on a platform where char is 16 bits?
[09:36:40] <eddyb> jmgao: that doesn't exist
[09:36:41] <jmgao> u8::BYTES should be 0.5
[09:36:50] <eddyb> nope
[09:36:53] <cmr> jmgao: no it shouldn't be.
[09:36:54] <eddyb> Rust is not C
[09:37:00] <cmr> jmgao: it's in byte size, not char size.
[09:37:08] <eddyb> I forever decree u8::BYTES == 1
[09:37:14] <cmr> and u8 is always 8 bits
[09:37:15] <eddyb> you'll have to kill me to change it
[09:37:40] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[09:37:47] <Ms2ger> u8::NIBBLES
[09:37:49] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[09:38:13] <jmgao> cmr: byte is defined as char in C
[09:38:23] * eddyb slashes the air with his whip
[09:38:23] <cmr> jmgao: according to what/
[09:38:32] <jmgao> the C standard
[09:38:34] <eddyb> jmgao: and as 8 bits in Rust
[09:38:36] <cmr> uh
[09:38:47] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[09:38:51] <cmr> well.
[09:38:53] <eddyb> cmr: yeah, the C standard is messed up big time
[09:38:55] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[09:39:04] <cmr> this isn't C, and the byte unit isn't, not according to ISO :p
[09:39:17] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:39:18] <eddyb> I heard strcat mentioning something about POSIX and tighter constraints
[09:39:30] <jmgao> http://stackoverflow.com/questions/437470/type-to-use-to-represent-a-byte-in-ansi-c89-90-c/437640#437640
[09:39:37] <cmr> (I knew byte == char in C)
[09:39:37] <eddyb> jmgao: again, this is not C
[09:39:54] <eddyb> we are better than C in a few regards, this is one of them
[09:39:57] <jmgao> eddyb: i'm just being glib
[09:40:12] <eddyb> (well, I would say "all" but then I'd hurt some people's feelings)
[09:40:18] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:40:27] <eddyb> only uint and int vary in size
[09:40:45] <eddyb> but they're defined to be as big as *u8
[09:41:30] *** Joins: heftig (heftig@moz-33D186ED.unitymedia.biz)
[09:41:31] *** Quits: heftig (heftig@moz-33D186ED.unitymedia.biz) (Input/output error)
[09:42:18] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[09:43:00] <cmr> depending on how sloppy you are defining your byte, you can get a one bit byte on fpgas :)
[09:43:17] *** Quits: leowoe (Leo@moz-72D47201.dclient.hispeed.ch) (Ping timeout)
[09:43:34] <eddyb> oooh, I forgot bool last time
[09:43:43] <eddyb> (when I listed all the primitives)
[09:43:57] <eddyb> strcat: enum Bool {False, True} not sure if I like that
[09:44:08] *** jorendorff_away is now known as jorendorff
[09:44:14] <jmgao> cmr: a platform where vector<bool> makes sense
[09:44:19] *** Quits: tautologico (uid22285@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[09:44:25] <cmr> heh
[09:44:32] <cmr> jmgao: vector<bool> never makes sense
[09:44:45] *** Joins: vgeddes (vincent.ge@moz-A97D336F.access.mtnbusiness.co.za)
[09:44:51] <jmgao> well if you define char to be equivalent to bool
[09:45:22] <eddyb> "char"
[09:45:43] <eddyb> can we stop talking in C idiosyncrasies?
[09:46:03] *** Joins: leowoe (Leo@moz-72D47201.dclient.hispeed.ch)
[09:46:05] <kimundi> I just woke up, what's going on in here? ;)
[09:47:01] *** Quits: leowoe (Leo@moz-72D47201.dclient.hispeed.ch) (Quit: Leaving.)
[09:47:32] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[09:47:52] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:47:53] <Havvy> Is mozilla/rust/master currently buildable?
[09:48:05] <eddyb> always has been
[09:48:08] <cmr> Havvy: it always is.
[09:48:25] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[09:48:31] <kimundi> Havvy: Each PR gets tested to ensure it will remain buildable.
[09:48:33] <Havvy> Hmm, I'm running into issues with building stage-0.
[09:48:37] <hirsch> It was not my intention to spawn such discussion, I only find that it is inconsistent in API design to define u32::BYTES and not f32::BYTES
[09:48:39] <cmr> if it weren't it wouldn't exist, because it couldn't have gotten into that state if it didn't build.
[09:48:42] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:48:42] *** ChanServ sets mode: +o pnkfelix
[09:48:48] <cmr> hirsch: it used to be defined.
[09:48:57] <Havvy> Maybe because I moved the directory of the repo?
[09:48:59] <kimundi> Havvy: Thats also why its recommended to always use master: Its the stablest version pretty much always.
[09:49:01] <cmr> std::u32 etc should all be removed imo
[09:49:08] <cmr> Havvy: yes that will cause problems, re-run configure
[09:49:19] <Havvy> I did rerun configure. 
[09:49:30] <cmr> are the paths on config.mk correct?
[09:49:54] *** Joins: heftig (heftig@moz-33D186ED.unitymedia.biz)
[09:50:05] <hirsch> cmr: That would break lots of code, isn't it too late for that?
[09:50:07] <Havvy> Yes.
[09:50:11] <Ms2ger> hirsch, ha
[09:50:18] <Havvy> Should I just redownload master?
[09:50:25] <cmr> hirsch: anything not marked #[stable] is fair game.
[09:50:25] <Ms2ger> Our friends here always break lots of code :)
[09:50:30] <kimundi> hirsch: Breaking lots of code is still what the stdlib is all about :P
[09:51:21] <Havvy> Alright. I'm just going to redownload master.
[09:51:26] <hirsch> Ok, I'm new in the rust world, perhaps I have not suffered enough
[09:51:34] <cmr> :D
[09:51:44] <cmr> (nothing is marked #[stable])
[09:51:53] *** Joins: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP)
[09:52:24] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[09:53:37] <TheHydroImpulse> can error-patterns within compile-fail be split on multiple lines? Or will the pattern be messed up
[09:53:52] <cmr> TheHydroImpulse: messed up.
[09:54:04] <TheHydroImpulse> Anyway to disable the 100 char max?
[09:54:11] <cmr> no.
[09:54:17] <cmr> try matching a smaller part of the error?
[09:54:24] <TheHydroImpulse> ahh, I’ll do that then
[09:54:24] <TheHydroImpulse> thanks
[09:54:26] <cmr> you can also put the comment on a different line
[09:54:44] <cmr> /~^ ERROR foo
[09:54:49] <cmr> (with two slashes)
[09:54:52] <cmr> (silly irc client)
[09:55:02] <eddyb> I should alias // to ///
[09:55:12] <TheHydroImpulse> Cool, good to know
[09:55:17] <cmr> but I want the deault behavior of // more often than not :P
[09:55:18] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[09:55:51] <TheHydroImpulse> I ended up just shortening the pattern. Probably good enough
[09:56:07] <cmr> yep.
[09:56:07] <eddyb> cmr: \/
[09:56:13] <eddyb> not that it works or anything :P
[09:57:09] *** Quits: jxv (jxv@moz-D1F0EBC3.socal.res.rr.com) (Client exited)
[09:59:26] *** Joins: matematikaadit (adit@B95BCD97.884B39DB.907D3F95.IP)
[09:59:59] <Havvy> Crap. I deleted my Rust binaries instead of my rustc src directory.
[10:00:11] <rmt> Happy compiling!
[10:00:12] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[10:00:57] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:01:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:01:52] <Havvy> And that includes llvm. V.V
[10:03:04] <kimundi> Make sure you have ccache :)
[10:04:00] *** Quits: matematikaadit (adit@B95BCD97.884B39DB.907D3F95.IP) (Ping timeout)
[10:04:50] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[10:04:57] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:04:59] <Havvy> I grabbed it.
[10:05:02] <Havvy> But how do I use it?
[10:05:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:05:20] <Havvy> Does it get automatically used?
[10:06:03] <eddyb> Havvy: I linked ~/bin/{cc,gcc,g++} to /usr/bin/ccache
[10:06:04] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:06:11] *** Joins: alonlevy (alon@moz-B6210BD6.red.bezeqint.net)
[10:06:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:06:39] <kimundi> Afaik rusts configure also has a --enable--cache option, but I'm not sure.
[10:06:55] <eddyb> kimundi: --enable-ccache, but it's better to just replace it system-wide
[10:07:00] <eddyb> or at least user-wide
[10:07:00] <kimundi> But its not neccessary if you do what eddyb said.
[10:07:12] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:07:18] <eddyb> Havvy: ccache --show-stats will make obvious if it's actually getting used
[10:07:34] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[10:07:37] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:07:56] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[10:07:59] <eddyb> Havvy: first run won't do much good, you'll just get cache misses. second run will reuse (almost) everything from its cache
[10:08:39] <Havvy> Yeah, it has to build a cache first.
[10:09:17] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:09:55] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:10:25] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:10:45] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:15:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[10:19:01] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[10:19:58] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:20:18] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:20:35] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[10:20:37] *** Quits: vgeddes (vincent.ge@moz-A97D336F.access.mtnbusiness.co.za) (Ping timeout)
[10:23:40] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[10:24:31] *** flaper87 is now known as flaper87|afk
[10:25:36] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[10:30:44] *** Joins: patpat (patpat@832A7E15.7FC6F41F.98F3E2B5.IP)
[10:35:13] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[10:35:35] *** Joins: klaus (koz@moz-4486E876.hsd1.wa.comcast.net)
[10:38:03] *** Joins: matematikaadit (adit@DF882158.13BE7A19.D4523167.IP)
[10:38:05] *** Quits: aravindavk (aravinda@6208C16A.6F639BFF.C28A6AA4.IP) (Quit: Leaving)
[10:38:13] *** Quits: matematikaadit (adit@DF882158.13BE7A19.D4523167.IP) (Client exited)
[10:38:40] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:41:47] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[10:42:13] <Oli> "error: internal compiler error" when I try to build this: static BUG: Vec<uint> = vec!();
[10:42:34] <Oli> i'm note sure if I should report the bug or if i'm just missusing vec!()
[10:42:43] *** flaper87|afk is now known as flaper87
[10:43:05] <eddyb> Oli: you can't do that
[10:43:26] <eddyb> Oli: the macro expands to Vec::with_capacity(n); and some pushes
[10:43:55] <eddyb> in that case, Vec::new()
[10:44:01] <Oli> okay
[10:44:06] <eddyb> and we don't have CTFE so it won't work anyways
[10:44:27] <eddyb> Oli: why do you want an immutable vector anyways? it's useless
[10:45:23] <Oli> actually i'm writing a parser, and i have a list of keywords
[10:45:34] <eddyb> Oli: use an array or a slice
[10:45:47] <eddyb> a vector is growable
[10:45:49] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[10:46:13] <Oli> something like [&'static str] ?
[10:46:26] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[10:46:33] <eddyb> &'static [&'static str]
[10:46:39] <eddyb> or [&'static str, ..N]
[10:47:12] <Oli> ok thank you :)
[10:47:40] *** Quits: hirsch (Mibbit@moz-93FB92D1.itwm.fhg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[10:48:18] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[10:49:38] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[10:51:45] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (No route to host)
[10:54:13] *** Quits: Zerker (zerker@moz-E4FA897F.dhcp.psdn.ca.charter.com) (Connection reset by peer)
[10:55:37] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[10:56:06] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:56:50] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[10:58:24] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:59:16] *** Quits: bourbaki (luesebrink@moz-378DB7DD.dip0.t-ipconnect.de) (Ping timeout)
[11:01:28] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[11:02:22] *** Joins: richo1 (richo@moz-7882F514.pa.vic.optusnet.com.au)
[11:05:24] *** Quits: jose2 (jose@8F38A76E.2B23BC53.F87DF0C6.IP) (Quit: WeeChat 0.4.1)
[11:05:33] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[11:08:08] *** Joins: koderok (Thunderbir@F6C53A5D.C2251C12.50E99975.IP)
[11:10:41] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[11:12:23] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:13:10] *** Quits: alonlevy (alon@moz-B6210BD6.red.bezeqint.net) (Ping timeout)
[11:13:32] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:16:38] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[11:17:49] *** Quits: patpat (patpat@832A7E15.7FC6F41F.98F3E2B5.IP) (Ping timeout)
[11:18:56] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[11:19:10] *** Quits: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[11:20:18] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[11:20:51] *** Joins: patpat (patpat@832A7E15.7FC6F41F.98F3E2B5.IP)
[11:22:07] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[11:23:35] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:23:51] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[11:24:24] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[11:25:02] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:25:05] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:26:20] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[11:26:44] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[11:26:55] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:27:02] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:28:02] *** Joins: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net)
[11:30:04] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:31:02] *** Joins: gimpf (gimpf@moz-B34F13A9.adsl.highway.telekom.at)
[11:31:17] *** Quits: benjamin_____ (benjamin@moz-1BC8DB46.dip0.t-ipconnect.de) (Ping timeout)
[11:32:14] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:32:34] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Client exited)
[11:37:26] *** Joins: Earnestea (earnest@moz-6CD1AB70.dyn.plus.net)
[11:41:20] <Yurume> https://github.com/lifthrasiir/rust-chrono/blob/master/src/chrono/date.rs bikeshedding is fun!
[11:43:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:43:53] <SiegeLord> Yurume: I'd put underscores after iso
[11:44:03] <eddyb> Mon = 0?
[11:44:19] <SiegeLord> isoweekdate is just... meh
[11:44:32] <Yurume> eddyb: it is an implementation detail, and the actual conversion should use {number,ndays}_from_{sunday,monday}
[11:44:42] *** Joins: alonlevy (alon@moz-B6210BD6.red.bezeqint.net)
[11:44:42] <eddyb> Yurume: ah okay
[11:44:44] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:44:51] *** jorendorff is now known as jorendorff_away
[11:44:54] <Yurume> I'm not sure how to *force* that though?
[11:45:07] <Yurume> (that is, forbidding the use of `as uint` casts etc.)
[11:46:01] <eddyb> Yurume: just don't put repr on it
[11:46:05] <Yurume> SiegeLord: good point, but for now I'm trying to solidifying the timezone and overall API ;)
[11:46:19] <eddyb> casts are undefined without repr
[11:46:24] <eddyb> and we should enforce that
[11:46:33] <Yurume> without repr and discriminators?
[11:47:14] <SiegeLord> I would agree... it seems bad to allow it
[11:48:08] <Yurume> for that matters, the current discriminators are purely due to the lookup table construction (I'm using three tables, ~2KB combined)
[11:48:41] *** Joins: kris_ (kris@moz-147EE6DF.diku.dk)
[11:48:43] <eddyb> I want range discriminators :S
[11:48:54] *** Quits: kris (kris@moz-42A2A7B6.science.ku.dk) (Ping timeout)
[11:49:22] <Yurume> eddyb: indeed, that should make rust-chrono much easier to write as well
[11:49:32] <Yurume> (it has lots of bit-field-like types)
[11:49:58] <eddyb> for things like SmallVec
[11:50:07] <eddyb> or SmallOwnedSlice I should say
[11:50:08] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[11:50:32] <eddyb> two words when it contains a pointer
[11:50:49] *** Quits: kris_ (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[11:51:14] *** jorendorff_away is now known as jorendorff
[11:52:19] *** Joins: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com)
[11:53:52] *** Quits: Ferreus_ (ferreus@moz-4630C183.dip0.t-ipconnect.de) (Ping timeout)
[11:54:01] *** Quits: alonlevy (alon@moz-B6210BD6.red.bezeqint.net) (Ping timeout)
[11:58:46] *** Joins: sunfish (chatzilla@8F761026.B5EF4AF6.E96CA9D8.IP)
[12:07:43] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[12:07:51] *** Quits: koderok (Thunderbir@F6C53A5D.C2251C12.50E99975.IP) (Ping timeout)
[12:08:52] *** Joins: Ferreus_ (ferreus@moz-158E91E3.dip0.t-ipconnect.de)
[12:10:41] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:10:58] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:11:44] *** Quits: sunfish (chatzilla@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[12:14:40] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[12:14:44] *** Joins: alonlevy (alon@moz-B6210BD6.red.bezeqint.net)
[12:15:42] *** Quits: Ms2ger (Ms2ger@moz-4CB19774.adsl-dyn.isp.belgacom.be) (Ping timeout)
[12:16:24] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[12:16:33] *** Quits: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP) (Ping timeout)
[12:17:07] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[12:17:29] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:17:39] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[12:17:46] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:17:47] *** Joins: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP)
[12:18:09] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[12:18:18] *** Quits: patpat (patpat@832A7E15.7FC6F41F.98F3E2B5.IP) (Ping timeout)
[12:19:51] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[12:20:16] *** Quits: Oli (oli@moz-C901C4EB.clta.globetrotter.net) (Ping timeout)
[12:22:58] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[12:23:00] *** Quits: ksonny (webber46@moz-6C034FD9.cust.bredband2.com) (Ping timeout)
[12:23:14] *** Joins: ksonny (webber46@moz-6C034FD9.cust.bredband2.com)
[12:24:06] *** Quits: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net) (Quit: brendan)
[12:24:22] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:24:38] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:25:09] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[12:26:58] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[12:27:36] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[12:27:49] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[12:33:03] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:33:19] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:33:43] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[12:35:28] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[12:39:34] *** Joins: mye (mye@moz-37C41694.dip0.t-ipconnect.de)
[12:39:48] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:40:05] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:45:15] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[12:47:25] *** Joins: leowoe (Leo@moz-72D47201.dclient.hispeed.ch)
[12:47:41] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:47:45] *** Quits: leowoe (Leo@moz-72D47201.dclient.hispeed.ch) (Quit: Leaving.)
[12:47:58] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:51:36] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:52:01] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[12:52:10] *** Joins: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu)
[12:54:13] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:54:26] *** Quits: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu) (Quit: brendan)
[12:54:29] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:55:39] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:55:51] *** Joins: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu)
[12:56:48] *** Joins: nszceta (nszceta@moz-9DDBE63E.wireless.pitt.edu)
[12:57:37] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[12:58:53] *** Quits: richo1 (richo@moz-7882F514.pa.vic.optusnet.com.au) (Ping timeout)
[12:59:03] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[12:59:07] *** Joins: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au)
[13:00:05] *** Joins: lfox (lfox@moz-89EEE1BF.nyc.res.rr.com)
[13:01:00] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[13:01:17] *** Joins: not_gavin (gavin@gavinsharp.com)
[13:02:53] <Siyo> is it possible to implement a trait for all types that implement Iterator<A>?
[13:04:01] <Siyo> basically adding another method to all iterators
[13:04:14] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[13:04:40] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Client exited)
[13:05:57] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[13:06:34] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:08:03] <strcat> Siyo: yes, implement a trait (needs to be in your crate) and then impl it for all iterators
[13:08:08] <strcat> but it's only available when your trait is in scope
[13:08:56] *** Quits: StarLight (StarLight@moz-8D7C0FEC.dynamic.avangarddsl.ru) (Ping timeout)
[13:09:11] *** Quits: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu) (Quit: brendan)
[13:10:00] *** Joins: benjamin_____ (benjamin@moz-1BC8DB46.dip0.t-ipconnect.de)
[13:10:41] <eddyb> s/implement/add/?
[13:10:41] <Siyo> but how do I apply it to all iterators? I mean i can't do "impl<A> SomeIteratorTrait<A> for Iterator<A>" because it's expecting a type not a trait
[13:10:46] *** Joins: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu)
[13:10:59] <eddyb> Siyo: impl<A, I: Iterator<A>> ... for I
[13:11:19] *** Joins: farcaller (quassel@moz-5B5FA763.customer.teliacarrier.com)
[13:11:22] <Siyo> thanks, I'll try it out
[13:12:36] <farcaller> can someone advice on how can I access struct's field as *mut given *mut Struct? I'm losing mut somewhere in dereferencing
[13:13:05] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[13:13:11] <eddyb> two too many *mut
[13:13:21] *** Joins: StarLight (StarLight@moz-47AE1822.dynamic.avangarddsl.ru)
[13:13:54] <farcaller> static IOReg : * mut IOReg = 0x40004000 as *mut IOReg; ... volatile_store(IOReg.CTCR, 0)
[13:14:09] <eddyb> farcaller: &mut (*p).field as *mut _ should work
[13:14:25] *** Quits: Siosm (quassel@moz-9911B053.fr) (Ping timeout)
[13:15:00] <farcaller> eddyb: and it does, thanks :)
[13:15:21] <eddyb> farcaller: you should probably write accessors for those fields
[13:16:16] <farcaller> eddyb: yes, thinking about that. no hope on getting volatile as keyword, I guess :)
[13:16:33] <doomlord_> i was inquiring about that sort of thing aswell
[13:16:38] <eddyb> farcaller: you can write wrappers
[13:16:44] <eddyb> VolatilePtr<T>
[13:17:07] <eddyb> I guess it doesn't work well with structures like that
[13:17:26] <eddyb> farcaller: you may be able to use DerefMut to your advantage
[13:17:34] <farcaller> eddyb: but I can't override = operator, right? so still need to do setters for struct 
[13:17:41] *** Joins: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be)
[13:17:43] <eddyb> yeah :/
[13:18:47] *** Quits: nomme (nomme@moz-272A4570.na.cust.bahnhof.se) (Ping timeout)
[13:19:33] *** Joins: nomme (nomme@moz-272A4570.na.cust.bahnhof.se)
[13:20:03] *** Joins: Siosm (quassel@moz-9911B053.fr)
[13:20:07] *** Joins: tgkokk (user@moz-88CCC929.home.otenet.gr)
[13:20:18] <farcaller> is there any way to create a struct within macro_rules given its name as input argument?
[13:20:34] <farcaller> nevermind.
[13:20:48] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[13:21:29] *** Quits: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu) (Quit: brendan)
[13:22:37] *** Joins: arturo (Thunderbir@moz-F3373B5F.pool.mediaways.net)
[13:22:38] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[13:23:05] *** Joins: arturo1 (Thunderbir@moz-E83B14F0.superkabel.de)
[13:24:17] *** Quits: arturo (Thunderbir@moz-F3373B5F.pool.mediaways.net) (Ping timeout)
[13:24:37] *** Joins: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu)
[13:25:54] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[13:26:12] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[13:26:20] *** Joins: asmyers (quassel@783EA696.9A737B8F.FAA4474F.IP)
[13:28:01] <doomlord_> in a struct initializer, is the order of execution guaranteed to be the order you list the expression - i realise that a struct is supposed to shield you from ordering. the question arose from file read/initialization
[13:28:11] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[13:28:17] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:28:18] *** ChanServ sets mode: +o jdm
[13:28:31] <farcaller> eddyb: https://gist.github.com/farcaller/435106c15d660c28038a seems to work pretty fine. I just can't rename the methods to set_$reg
[13:28:51] *** Quits: zv (zv@moz-955F83E9.hsd1.ca.comcast.net) (Ping timeout)
[13:29:54] <eddyb> farcaller: yeah, you need to supply the names separately
[13:30:06] *** Joins: zv (zv@moz-955F83E9.hsd1.ca.comcast.net)
[13:30:13] <eddyb> farcaller: there's no way to make a macro like concat_idents! "fit in" an ident, at this moment
[13:30:30] <farcaller> would be a very ueful addition to the language
[13:30:53] *** Quits: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net) (Client exited)
[13:30:54] <eddyb> farcaller: sure, as soon as we get some way to turn variants off
[13:31:03] *** Quits: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu) (Quit: brendan)
[13:31:04] <kimundi> doomlord_: I don't think its formalized anywhere yet, but I assume the order of execution is always the order its written in the source.
[13:31:32] <eddyb> yeah, pre-order
[13:32:03] <kimundi> doomlord_: That is, the order of execution for a initializer expression is the order you write it.
[13:32:35] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[13:32:51] *** Joins: octeract (Mibbit@moz-D63AE93E.du.xdsl.is)
[13:33:04] *** Quits: nszceta (nszceta@moz-9DDBE63E.wireless.pitt.edu) (Ping timeout)
[13:33:59] <kimundi> rusti: struct Foo { a: uint, b: uint } let mut i = 0u; let f = || { let r = i; i += 1; r }; Foo { a: f(), b: f() }
[13:34:00] -rusti- pastebinned 8 lines of output: http://sprunge.us/ajXf
[13:34:19] <kimundi> rusti: #[deriving(Show)] struct Foo { a: uint, b: uint } let mut i = 0u; let f = || { let r = i; i += 1; r }; Foo { a: f(), b: f() }
[13:34:20] -rusti- Foo { a: 0, b: 1 }
[13:34:21] *** Joins: ferdinand (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[13:34:27] <kimundi> rusti: #[deriving(Show)] struct Foo { a: uint, b: uint } let mut i = 0u; let f = || { let r = i; i += 1; r }; Foo { b: f(), a: f() }
[13:34:28] -rusti- Foo { a: 1, b: 0 }
[13:34:47] <kimundi> doomlord_: ^ Seems to be as I said.
[13:35:28] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[13:35:32] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[13:37:07] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[13:39:06] *** Joins: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu)
[13:42:37] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[13:43:14] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[13:43:17] <farcaller> is there any way to disable #[warn(dead_code)] on per-function basis? #[allow(dead_code)] doesn't seem to work for me
[13:43:46] <doomlord_> ok thats what I 'd assumed, i hope it formally stays that way :)
[13:44:19] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[13:47:26] *** Quits: ferdinand (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:49:08] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[13:50:14] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[13:53:29] *** Quits: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu) (Quit: brendan)
[13:55:44] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[13:59:46] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[13:59:46] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[14:00:52] <pnkfelix> farcaller: works for me, e.g. https://gist.github.com/pnkfelix/9833508
[14:01:00] <pnkfelix> farcaller: can you show a gist where it fails for you?
[14:01:26] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[14:01:33] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[14:01:44] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[14:02:05] <farcaller> pnkfelix: hmph. I had a typo, sorry :-/
[14:03:35] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[14:03:47] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:06:54] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[14:08:15] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[14:08:36] <doomlord_> transmute ... usually infers types from/to  from the context ? can you call it with typeparams .. transmute::<_,the_type_i_want>()
[14:08:38] *** Joins: edwardw (Mibbit@E7CEB7EA.EE06708D.4BFBD933.IP)
[14:09:04] <eddyb> doomlord_: yeah
[14:09:12] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[14:09:29] <doomlord_> i just grepped but couldn't find an example
[14:10:50] <doomlord_> i think what i'm trying to do might need 'type-of' or associated types anyway
[14:11:19] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[14:11:48] *** Quits: edwardw (Mibbit@E7CEB7EA.EE06708D.4BFBD933.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:11:59] <doomlord_> struct Foo { vtable:  VTableOf<&Trait>, .... }         trying to write a vcall!( ... ) macro ..
[14:12:38] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[14:12:43] *** Joins: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu)
[14:13:09] <doomlord_> struct VTableOf<T> {   raw_ptr: *u8 } ...   /* but hold the type information in the T ??? ... 'vcall!( obj.method.args(..))  would cast a temporary 'trait object' .. 
[14:13:21] *** Quits: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu) (Quit: brendan)
[14:13:27] *** Joins: jviereck (Adium@moz-54BF7DE5.ethz.ch)
[14:14:20] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Client exited)
[14:14:25] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[14:17:09] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[14:22:10] *** Joins: sunfish (chatzilla@8F761026.B5EF4AF6.E96CA9D8.IP)
[14:22:16] <doomlord_> hmm, maybe i could make 'VTableOf's  pointer a pointer to the *trait object*, but it isn't.. it sjust a poitner to the vtable.. then i could make a mutable copy, and assign to it to transmute perhaps
[14:22:53] *** Quits: jviereck (Adium@moz-54BF7DE5.ethz.ch) (Quit: Leaving.)
[14:23:50] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[14:23:52] *** Joins: jviereck (Adium@moz-54BF7DE5.ethz.ch)
[14:23:52] *** Quits: jviereck (Adium@moz-54BF7DE5.ethz.ch) (Client exited)
[14:23:55] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[14:24:56] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[14:26:06] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[14:29:25] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Quit: Leaving...)
[14:30:58] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: 전 이만 갑니다.)
[14:32:50] *** Joins: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu)
[14:35:44] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[14:38:17] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[14:38:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:39:21] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[14:39:30] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[14:41:23] *** Joins: koderok (Thunderbir@BA843233.70600C61.85BF2EFC.IP)
[14:42:33] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[14:42:35] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[14:43:07] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[14:43:58] *** Joins: hellmage (luyun@6AB027F5.28507E61.75B241AF.IP)
[14:47:45] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Ping timeout)
[14:48:10] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[14:48:34] *** Joins: voxpopuli (fanservice@AE8088FD.7254D4BA.689607DE.IP)
[14:49:54] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[14:50:51] *** Joins: dradtke (dradtke@moz-77578067.hfc.comcastbusiness.net)
[14:51:12] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Quit: Leaving...)
[14:51:17] *** Quits: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu) (Quit: brendan)
[14:52:52] *** Joins: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu)
[14:55:32] <dradtke> this is probably a silly question, but does Rust support multi-file modules?
[14:56:02] <Ms2ger> Trivially, with CPP :)
[14:56:47] <kimundi> dradtke: Not officially, but there is a include!() macro that can be used to emulate it.
[14:56:48] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:57:31] <dradtke> kimundi: thanks, I'll have to check that out
[14:58:23] <dradtke> kimundi: is that in std?
[14:58:23] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[14:58:42] *** Joins: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca)
[14:58:55] <kimundi> No idea, I think its just one of the random things defined in libsyntax
[14:59:37] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[15:00:04] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[15:00:14] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:01:58] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[15:01:58] *** Joins: edwardw (edwardw@96096B9B.3A7E5B9F.CBB0B5C2.IP)
[15:02:00] <Havvy> Rust is ready to roll.  That's a nice message.
[15:02:14] <Ms2ger> Oh
[15:02:19] <eddyb> Ferrobots?
[15:02:20] <Ms2ger> I read ... to troll
[15:02:33] <edwardw> LOL
[15:02:51] * Ms2ger hangs his head in shame
[15:03:05] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[15:04:12] *** Quits: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:04:33] *** Joins: benjamin_ (benjamin@moz-6F618647.dip0.t-ipconnect.de)
[15:05:06] *** Quits: benjamin_____ (benjamin@moz-1BC8DB46.dip0.t-ipconnect.de) (Ping timeout)
[15:05:38] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[15:05:57] *** Joins: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca)
[15:06:03] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[15:07:22] *** Quits: tgkokk (user@moz-88CCC929.home.otenet.gr) (Ping timeout)
[15:07:30] <edwardw> Pod is gone
[15:07:49] <eddyb> we can thus use it for a greater purpose
[15:07:58] *** Quits: koderok (Thunderbir@BA843233.70600C61.85BF2EFC.IP) (Ping timeout)
[15:08:01] <eddyb> safely transmute thy bytes
[15:08:05] <doomlord_> got this working :)    vcall!( object->foo( x ) )    ... vtable cached in object
[15:08:19] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[15:09:45] *** Quits: Nekit1234007 (Nekit12340@DEC494C7.E25DEE64.4707F662.IP) (Ping timeout)
[15:10:12] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[15:10:45] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[15:10:56] <sanxiyn> What should I do with "Compiling with no bounds checking" thread?
[15:11:07] <strcat> run
[15:11:36] <sanxiyn> I haven't read it yet, but man that is massive amount of verbiage which is especially annoying for non-native, slow reader
[15:11:42] <strcat> unless you're bored and want to argue
[15:11:54] * strcat was
[15:12:43] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[15:13:17] *** Quits: voxpopuli (fanservice@AE8088FD.7254D4BA.689607DE.IP) (Ping timeout)
[15:14:25] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[15:14:34] <sanxiyn> Hm I read some latest mails
[15:14:48] <sanxiyn> I probably should reply to https://mail.mozilla.org/pipermail/rust-dev/2014-March/009281.html ...?
[15:14:58] *** Quits: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:15:22] <sanxiyn> "If it's much more technically complicated, then the compiler probably has design issues"
[15:15:26] <strcat> sanxiyn: if you really, really want to talk to a brick wall
[15:15:32] <sanxiyn> To defend rustc... I mean, this is trivial to implement
[15:15:45] <sanxiyn> You can basically just delete most of code in trans_index function and that's it
[15:15:59] <sanxiyn> leebraid doesn't seem to realize that?
[15:16:13] <sanxiyn> Of course it is being politically opposed. This is totally policy issue.
[15:16:29] <sanxiyn> He seems to use the word "politically" as if that is wrong...
[15:16:34] <strcat> sanxiyn: https://en.wiktionary.org/wiki/concern_troll
[15:17:36] <sanxiyn> I am not sure about that... does he actually know it's as trivial to implement as putting if in a single place but is trolling, or he doesn't know?
[15:17:51] <strcat> sanxiyn: well, look at their other posts ;)
[15:17:52] *** Quits: Luminos (chsitter@C5C92391.35A75BF5.E8E9A8EF.IP) (Client exited)
[15:17:59] <sanxiyn> strcat: Ugh
[15:18:03] <sanxiyn> Lots of posts...
[15:18:11] <strcat> meh I guess they didn't actually post before
[15:18:15] <sanxiyn> I'd prefer if you just give your opinion
[15:18:26] *** Quits: [squiddy] (squiddy@moz-E62BD793.versanet.de) (Quit: Leaving)
[15:18:31] <sanxiyn> (I tend to think this is not actually trolling)
[15:18:53] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[15:18:56] <Tari> may not be intended as a troll, but that's what it became
[15:19:07] <eddyb> misguided accidental troll
[15:19:13] <strcat> sanxiyn: well they might not be trolling as a whole, but they're using trolling to get attention
[15:19:29] <strcat> they have a question, so they tacked on trolling to make sure someone urgently sends a reply
[15:19:38] <strcat> imo, at least ;p
[15:20:05] <sanxiyn> I'd just reply "rustc has no such design issue. If you want to implement this in your fork, edit function XXX in file YYY. Thanks"
[15:20:07] <sanxiyn> Does that look ok?
[15:20:12] <strcat> yes
[15:20:16] <sanxiyn> will do
[15:20:45] <eddyb> yeah, I was just thinking of that
[15:21:10] <eddyb> if you really are too lazy/stubborn to edit your code, making your own rustc build shouldn't be a problem
[15:21:17] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[15:21:39] *** Joins: IRCMonkey64213 (user@moz-88CCC929.home.otenet.gr)
[15:21:52] *** Quits: IRCMonkey64213 (user@moz-88CCC929.home.otenet.gr) (Client exited)
[15:22:30] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[15:23:08] <strcat> sanxiyn: someone said it was authoritarian to do bounds checks and not have a way to turn it off without unsafe {} and it went downhill from there
[15:23:12] *** Joins: tgkokk (tgkokk@moz-88CCC929.home.otenet.gr)
[15:23:45] <strcat> sanxiyn: https://mail.mozilla.org/pipermail/rust-dev/2014-March/009210.html
[15:23:51] <sanxiyn> I hope those really want maintain rustc fork... it shouldn't be too hard to keep the patch up-to-date...
[15:24:36] <doomlord_> https://gist.github.com/dobkeratops/9835336   <<< messing with macros for internal vtables,  works, but i wonder if can i setup the vtable in a safer way, getting type info from the vtable holder
[15:25:03] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[15:25:03] *** Quits: redbrain (uid24282@moz-E77DEB21.irccloud.com) (Ping timeout)
[15:25:23] *** Joins: redbrain (uid24282@moz-E77DEB21.irccloud.com)
[15:25:29] *** Quits: brendan (brendaneic@moz-D55C5605.wrls.harvard.edu) (Quit: brendan)
[15:25:30] <eddyb> doomlord_: how can you live with yourself when 5 levels of indentation is half-way on the screen?
[15:25:34] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[15:25:41] <doomlord_> thats just gist's fault
[15:25:54] <doomlord_> stupid github doesn't have language dependant tabs
[15:26:12] <eddyb> it also doesn't autodetect the language /s
[15:26:27] *** Joins: Rym (y@87BAB661.C67B62F8.8772DA20.IP)
[15:26:28] <eddyb> doomlord_: oh, you reimplemented Many :D
[15:26:32] <eddyb> but in a different way
[15:26:50] <eddyb> well, not Many, more like AnyTrait
[15:27:18] <doomlord_> what other helpers can do bits of this already
[15:27:24] <eddyb> doomlord_: have you seen this? https://gist.github.com/eddyb/f828f8ce819a5f00d42d
[15:27:58] <eddyb> meh I need better usage examples
[15:28:44] *** Quits: sunfish (chatzilla@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[15:28:47] *** Joins: Nekit1234007 (Nekit12340@DEC494C7.E25DEE64.4707F662.IP)
[15:29:23] <doomlord_> seemed interesting to me that macros can make using the things look nice, but i dont know how to set it up so the creation of the vtable in the first place has a nice type check, or the call
[15:29:23] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[15:29:42] <doomlord_> the way i got type information out was to assign to a dummy variable cloned from sometihng to overwrite , lol.
[15:30:35] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[15:30:47] <doomlord_> whats 'TypeId' ?
[15:31:07] <eddyb> a type ID :)
[15:31:10] <eddyb> it's how Any works
[15:31:12] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[15:31:34] *** Joins: pepper_c1 (pepper_chi@EB1D9484.8A9E5939.F546FA5F.IP)
[15:31:51] *** Quits: Ferreus_ (ferreus@moz-158E91E3.dip0.t-ipconnect.de) (Ping timeout)
[15:32:02] *** Quits: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP) (Ping timeout)
[15:32:08] <eddyb> doomlord_: https://gist.github.com/dobkeratops/9835336#file-gistfile1-rs-L10-L12 this should be vtable: get_vtable!(Apply for Foo)
[15:32:16] <eddyb> *Apple
[15:32:56] <eddyb> doomlord_: you shouldn't need to specify the trait, actually
[15:33:07] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:33:25] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[15:33:28] <doomlord_> i dont want to specify anything *there* ideally :) i wanted it to be encoded inthe type of the vtable holder, VTable<T>
[15:33:56] *** Joins: voxpopuli (fanservice@AE8088FD.7254D4BA.689607DE.IP)
[15:34:08] <eddyb> doomlord_: you can reimplement get_vtable as Vtable::<&'static Trait>::get::<Type>()
[15:34:13] <eddyb> and then I think the trait can be left out
[15:34:58] <eddyb> doomlord_: you could maybe hold both the type and the trait in Vtable
[15:35:07] <eddyb> or have a specialized type for that
[15:35:27] <eddyb> then you can implement Default::default() for it or Vtable::get() or w/e
[15:35:55] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[15:36:00] <doomlord_> the intention is to just have the binary layout of a C++  single-inheritance object
[15:36:00] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[15:36:15] <eddyb> I'm just telling you how to make it safe
[15:36:22] <doomlord_> ok 
[15:37:16] <eddyb> doomlord_: you can make the vcall transmute a method on VTable
[15:37:21] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[15:37:22] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[15:37:23] <doomlord_> does the current standard  library basically have a way of doing all this in a safe way, or are you waiting till it can be done properly with language features
[15:37:31] <eddyb> not all of it
[15:37:45] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:38:13] <doomlord_> i was flailing around a bit without 'typeof' but these hacks worked, i didn't know 'TypeId' existed
[15:38:16] <eddyb> doomlord_: what you demonstrate isn't amazing, without erasure
[15:38:16] *** Joins: kendle (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[15:38:29] <eddyb> doomlord_: TypeId doesn't help you with typeof
[15:38:42] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[15:38:42] <doomlord_> 'erasure' =?
[15:38:49] <eddyb> trait objects
[15:39:26] <eddyb> struct FatStruct<T, Trait> {vtable: Vtable<T, Trait>, value: T}
[15:39:28] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[15:40:11] <doomlord_> thats neater sure
[15:40:27] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[15:40:35] <eddyb> you should them be able to use an opaque unsized substitute for T to get "thin pointers"
[15:40:39] <doomlord_> hmmm, but then you'll have the inner data embedded behind something, more awkward to acess
[15:40:46] <eddyb> doomlord_: Deref
[15:40:52] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[15:40:55] <doomlord_> ok nice
[15:41:14] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[15:41:48] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[15:41:55] <doomlord_> it seems like it wouldn't be too awkward to interact with a C++ library, rolling traits  & structs that are the vtables & classes
[15:42:19] <doomlord_> its just the components would be split up into different entities
[15:42:28] *** Parts: dradtke (dradtke@moz-77578067.hfc.comcastbusiness.net) ()
[15:42:29] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[15:43:04] <Havvy> Did RefCell's .get() become .deref() ?
[15:43:33] <eddyb> Havvy: RefCell or Ref/RefMut?
[15:43:43] <eddyb> Havvy: you shouldn't need to call deref methods yourself, it's automatic
[15:43:46] *** Quits: octeract (Mibbit@moz-D63AE93E.du.xdsl.is) (Quit: http://www.mibbit.com ajax IRC Client)
[15:44:23] <Havvy>  mismatched types: expected `&entity::player::Player` but found `std::cell::Ref<,entity::player::Player>` (expected &-ptr but found struct std::cell::Ref)
[15:44:30] <Havvy> if !self.can_place_entity(self.player.borrow(), pos) {
[15:44:52] <eddyb> Havvy: &* before self.player.borrow()
[15:45:08] <Havvy> Ah. Okay.
[15:45:09] <eddyb> it's automatic for field access and method calls
[15:45:41] *** Joins: mr_fribble (Mibbit@ADBB03B1.BC0FB872.87266736.IP)
[15:46:06] <Havvy> src/librusttower/world/mod.rs:81:35: 81:56 error: mismatched types: expected `&entity::player::Player` but found `&std::cell::Ref<,entity::player::Player>` (expected struct entity::player::Player but found struct std::cell::Ref)
[15:46:16] <Havvy> src/librusttower/world/mod.rs:81         if !self.can_place_entity(&self.player.borrow(), pos) {
[15:46:25] <kimundi> &*, not &
[15:46:27] <eddyb> Havvy: I said &* not &
[15:46:44] <Havvy> Oh. I thought the asterisk was an IRC convention.
[15:47:34] *** Quits: tgkokk (tgkokk@moz-88CCC929.home.otenet.gr) (Quit: Textual IRC Client: www.textualapp.com)
[15:48:05] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[15:48:36] *** Joins: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca)
[15:48:49] <erickt> Havvy: be careful with RefCell.get(), I just found out it does a .clone() for non-pod types
[15:49:24] *** Quits: untitaker (untitaker@moz-1A49BF78.adsl.highway.telekom.at) (Ping timeout)
[15:49:33] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[15:49:35] *** Joins: intuxicated (intuxicate@3AEA5E5.FBDFAF77.BD3E1BB3.IP)
[15:51:16] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[15:51:28] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[15:52:55] *** Quits: W0rmDr1nk (wormdrink@5451F9BD.52135167.A77EFE04.IP) (Ping timeout)
[15:52:56] <kimundi> erickt: wut?
[15:52:59] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[15:53:21] <eddyb> kimundi: the get method on RefCell not the old get
[15:53:35] <eddyb> it's .borrow().clone(), basically
[15:53:39] *** Quits: mr_fribble (Mibbit@ADBB03B1.BC0FB872.87266736.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:53:55] <kimundi> Ah. Why does that even exist? :P
[15:54:00] *** Quits: asmyers (quassel@783EA696.9A737B8F.FAA4474F.IP) (Ping timeout)
[15:54:05] <eddyb> blame the ancients
[15:54:14] * kimundi blames them
[15:54:49] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[15:55:04] <Havvy> Can it be removed safely?
[15:55:06] <erickt> kimundi: yeah. I was waiting for pcwalton to sign in so I can break out the heat lamps
[15:55:45] <erickt> Havvy: so there are actually two .get methods defined for RefCell. One for Pod types (now Copy types?), and one for Clone types
[15:55:57] <eddyb> erickt: how?
[15:56:04] <eddyb> erickt: that doesn't sound possible
[15:56:06] *** Quits: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:56:16] <edwardw> If Pod, why RefCell not Cell?
[15:56:42] <erickt> eddyb: I also think it's a bug, because aren't many Copy types also clonable?
[15:56:43] <eddyb> erickt: Clone copies Copy types
[15:56:58] <erickt> eddyb: see https://github.com/mozilla/rust/blob/master/src/libstd/cell.rs#L39 and https://github.com/mozilla/rust/blob/master/src/libstd/cell.rs#L186
[15:57:05] * kimundi still doesn't know what makes Cell sound as compared to RefCell
[15:57:07] <eddyb> first one is Cell not RefCell
[15:57:10] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:57:13] *** Joins: untitaker (untitaker@moz-9EB87587.adsl.highway.telekom.at)
[15:57:15] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[15:57:15] <eddyb> I can tell by the line numbers
[15:57:17] <erickt> ack, good catch
[15:57:19] <eddyb> :P
[15:57:27] <eddyb> (I was expecting this, actually)
[15:57:34] <eddyb> kimundi: atomicity
[15:57:37] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: Textual IRC Client: www.textualapp.com)
[15:57:42] <Kroisse> Does Rust still has the rope?
[15:57:52] <eddyb> what rope?
[15:58:04] <Kroisse> Very long string
[15:58:07] <kimundi> eddyb: threadsafe atomicity?
[15:58:15] <eddyb> kimundi: nope, just thread-local atomicity
[15:58:19] <erickt> well anyway, I think we should just remove RefCell::get. If anyone wants the old behavior, they can explicitly do `x.borrow().clone()`
[15:58:37] <eddyb> kimundi: it doesn't let you get a &mut
[15:58:58] <kimundi> eddyb: So just linear code execution preventing two mutations simultaneously?
[15:59:01] <kimundi> Ah, okay
[15:59:08] <eddyb> yupp
[15:59:10] *** Joins: asmyers (quassel@783EA696.9A737B8F.FAA4474F.IP)
[15:59:12] <kimundi> Not &mut borrow, only &mut access
[15:59:18] <eddyb> get/set
[15:59:26] <kimundi> okay
[15:59:27] <eddyb> that's why it's only defined for Copy types
[15:59:52] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:59:56] <erickt> here's my kill-RefCell::get issue: https://github.com/mozilla/rust/issues/13182
[15:59:59] <doomlord_> if one was to make a tool to automatically roll a Rust view of a C++ class, i wonder what would be generally more convinient, just stuffing a vtable member in , or wrapping it nicely as you suggest. (i suppose the whole equivalent of the class could be typedefed as the wrapper, and another named entity made for just the data part of the struct)
[16:00:00] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[16:00:33] <Kroisse> I'd seem the rope data structure in Rust 0.6, maybe
[16:00:56] <eddyb> Kroisse: that was before my time
[16:01:00] <doomlord_> could one theoretically make a rust plugin for a c++ framework this way..
[16:01:06] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:01:07] *** ChanServ sets mode: +ao dherman dherman
[16:01:09] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[16:01:13] <eddyb> doomlord_: maybe
[16:01:27] <Kroisse> But it seems have dropped now. Hmmm
[16:01:33] *** Quits: kendle (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:01:35] <eddyb> Kroisse: 0.6 was ages ago
[16:01:42] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[16:01:46] <eddyb> doomlord_: the real issue with C++ is template/header-only code
[16:02:01] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[16:02:12] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[16:02:18] <doomlord_> sure i realise that would be hard, there might only be a small subset of interesting frameworks that it would be useful for
[16:02:51] <Havvy> doomlord_:  I would make a trait contain the virtual functions.
[16:02:53] <doomlord_> i was trying to make something that translated c++ declarations , it needed manual fixup
[16:03:03] <doomlord_> Havvy, yes thats the idea exactly
[16:04:07] <Kroisse> I have an idea to parallelize the rendering process of rust-mustache, but it'll need the rope type for memory efficiency.
[16:04:20] <Havvy> http://gameprogrammingpatterns.com/type-object.html might also be useful for you doomlord_.
[16:04:23] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[16:04:36] *** Joins: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca)
[16:05:15] <Kroisse> now I have to implement the rope, or abandon it
[16:05:23] *** Joins: rodolfo_3 (rodolfo@FF880CEB.ECEBC62.85FEC2CD.IP)
[16:05:38] <Havvy> 0.6 was between my times.
[16:06:10] <Kroisse> Yeah, 0.6 is in the ancient.
[16:06:41] <Havvy> Between, as in after my initial departure from Rust (0.3/0.4 era) and my return (a few days after 0.9 release)
[16:06:42] <doomlord_> Havvy thats interesting stuff, i've never thought C++ classes are the be all and end all.. after manually rolling vtables in C , one always wanted to do thigns like that
[16:07:28] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:08:08] <o11c> C++ is basically everything that's hard to do in C
[16:08:12] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:08:33] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[16:08:40] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:09:14] <Havvy> Yeah, I'd rather not implement VTables if I don't have to.
[16:09:21] <Kroisse> Havvy: wow...
[16:09:36] <doomlord_> although in C you could have had trait objects if you wanted :)
[16:10:25] <Ms2ger> Woo, beat 4D
[16:10:33] <doomlord_> the main thing going from C to C++ is that it was common to use function pointers or manually rolled vtables as changeable state information... once it was set in stone it seemed a bit limiting
[16:10:34] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[16:11:00] *** Quits: Rym (y@87BAB661.C67B62F8.8772DA20.IP) (Ping timeout)
[16:12:16] * pnkfelix considers sending response to sanxiyn saying "Infidel, you revealed our secrets to the unbeliever!"
[16:12:17] *** Quits: edwardw (edwardw@96096B9B.3A7E5B9F.CBB0B5C2.IP) (Ping timeout)
[16:12:29] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[16:12:40] <Ms2ger> Oh dear, what'd he do now?
[16:12:47] *** Joins: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP)
[16:12:51] <Ms2ger> pnkfelix, on another note, you're now on a watchlist
[16:13:02] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[16:13:47] *** Joins: Rym (y@87BAB661.C67B62F8.8772DA20.IP)
[16:14:06] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[16:14:10] <pnkfelix> Ms2ger: https://botbot.me/mozilla/rust/msg/12678361/
[16:14:25] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:14:41] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[16:15:09] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[16:15:12] <pnkfelix> and the result: https://mail.mozilla.org/pipermail/rust-dev/2014-March/009285.html
[16:15:21] <pnkfelix> (but really, it was the best way to kill that out of control thread)
[16:16:18] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:16:22] <Ms2ger> Oh, I expected the result to be "Yeah, rustc is fill of design issues" ;)
[16:16:28] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:16:40] <pnkfelix> Ms2ger: right.  Just not *that* particular one.  :)
[16:18:08] *** Joins: khodzha (khodzha@D687A185.A859D9FD.CA6E2165.IP)
[16:18:14] *** Joins: jaredly (Mibbit@moz-77F5D920.byu.edu)
[16:18:15] *** Quits: khodzha1 (khodzha@1336D552.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:19:42] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[16:20:24] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:22:19] *** Quits: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be) (Quit: bbl)
[16:24:22] <Havvy> https://gist.github.com/Havvy/1df85979761923230c42 Why am I getting this error?  (Note that EmptyRoom is a fieldless struct.
[16:25:05] <Havvy> AFAIK, I'm not cloning anything. :/
[16:25:49] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[16:26:06] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:26:37] <kimundi> Havvy: Without more context, its hard to say
[16:26:40] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:27:03] <kimundi> Havvy: Could be that Feature is a trait that inherits from Clone for example
[16:28:03] <Havvy> Oh, uh, derp. Yes.
[16:28:25] <Siyo> is there anything I could do to write something like this in a generic way? http://pastebin.com/7BMFKJ1F
[16:28:51] <Havvy> Siyo:  `2 as A` maybe?
[16:28:56] <Siyo> tried that
[16:29:29] <Havvy> I do not know then.
[16:29:29] *** Joins: Savago (Savago@F7A245C3.E820043D.D4C04133.IP)
[16:30:19] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[16:30:25] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[16:31:06] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[16:31:13] *** Quits: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP) (Quit: Leaving...)
[16:32:38] *** Joins: edwardw (edwardw@C3D32C6E.E4C8743.30C05AB6.IP)
[16:32:46] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:33:58] *** Joins: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl)
[16:33:59] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:34:17] <nielsle> Regarding the bounds checking thread. Would it be possible to add an optional lint for "Bounds checking in innner loop?"
[16:35:15] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Quit: bleibig)
[16:35:43] <Siyo> as for my question, std::num::NumCast::from(2).unwrap() this work as long as A: NumCast
[16:36:53] <Siyo> actually A: Primitive
[16:38:14] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[16:38:38] *** Quits: voxpopuli (fanservice@AE8088FD.7254D4BA.689607DE.IP) (Ping timeout)
[16:38:49] *** Joins: voxpopuli (fanservice@AE8088FD.7254D4BA.689607DE.IP)
[16:41:37] *** Quits: fabiand (fabiand@moz-B81281DA.adsl.alicedsl.de) (Quit: Verlassend)
[16:43:02] <kimundi> Siyo: This is basically what you need to do right now, yeah.
[16:44:01] <kimundi> Should generic integer literals ever become really generic, then they might expand to something similar.
[16:45:30] *** Joins: koderok (Thunderbir@BA843233.70600C61.85BF2EFC.IP)
[16:45:32] *** Quits: koderok (Thunderbir@BA843233.70600C61.85BF2EFC.IP) (Client exited)
[16:46:01] *** Joins: koderok (Thunderbir@BA843233.70600C61.85BF2EFC.IP)
[16:46:37] *** Joins: huhlig (sid17687@moz-A42E5B7B.irccloud.com)
[16:50:05] *** Quits: lfox (lfox@moz-89EEE1BF.nyc.res.rr.com) (Quit: ZZZzzz…)
[16:50:20] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:50:26] *** Joins: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net)
[16:50:59] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[16:51:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:51:47] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:54:39] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[16:54:58] *** Quits: marc_ (uid5324@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[16:55:16] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[16:55:19] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[16:55:22] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[16:55:25] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[16:55:28] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[16:55:31] <bascule>                                         
[16:55:41] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[16:56:18] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Input/output error)
[16:56:40] <edwardw> about time!
[16:56:46] <bascule> hahaha :D
[16:57:25] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:57:27] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:58:19] *** Joins: Kruppe (user@CC0122E6.8F96AEA7.2D179A7D.IP)
[16:58:47] *** Parts: hellmage (luyun@6AB027F5.28507E61.75B241AF.IP) ()
[16:59:05] <kimundi> rusti: #[allow(deprecated_owned_vector)]fn m(t:&str){let s = "<"+t+">   ^__^\n ü \\  (oo)\\_______\n ü    (__)\\       )\\/\\\n ü        ||----w |\n ü        ||     ||";let mut i=0u8;for l in s.lines(){println!("{}",l.chars().map(|x|{let s="\x03"+(i+2).to_str()+x.to_str();i=(i+1)%12;s}).collect::<~[~str]>().concat().replace("ü"," ".repeat(t.char_len())))}}m("insert witty comment here");if true{return}
[16:59:05] -rusti- 2<3i4n5s6e7r8t9 10w11i12t13t2y3 4c5o6m7m8e9n10t11 12h13e2r3e4>5 6 7 8^9_10_11^
[16:59:06] -rusti- 12 13                         2 3\4 5 6(7o8o9)10\11_12_13_2_3_4_5_
[16:59:06] -rusti- 6 7                         8 9 10 11 12(13_2_3)4\5 6 7 8 9 10 11 12)13\2/3\
[16:59:07] -rusti- 4 5                         6 7 8 9 10 11 12 13 2|3|4-5-6-7-8w9 10|
[16:59:10] -rusti- 11 12                         13 2 3 4 5 6 7 8 9|10|11 12 13 2 3 4|5|
[16:59:18] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[16:59:59] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:00:06] <steveklabnik> :)
[17:00:21] <hoverbear> steveklabnik: !
[17:00:57] <steveklabnik> yes?
[17:01:14] <steveklabnik> also, do we have a date for 0.10? I'm giving a talk about Rust next week, wonder if I'm gonna make the deadline ;)
[17:01:40] <kimundi> steveklabnik: I think the release will happen in less than a week
[17:01:42] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:01:46] *** Joins: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net)
[17:01:54] *** Joins: nkoep (nik@moz-7AB416BE.pool.mediaways.net)
[17:02:42] *** Quits: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net) (Input/output error)
[17:02:56] <Havvy> We should just add a `pub trait Rainbow { fn toRainbow(&self) -> self }` and `impl Rainbow for String { ... }` to rusti.
[17:03:03] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:03:17] *** Joins: leowoe (Leo@moz-72D47201.dclient.hispeed.ch)
[17:03:18] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:04:50] *** Quits: benjamin_ (benjamin@moz-6F618647.dip0.t-ipconnect.de) (Ping timeout)
[17:05:41] <steveklabnik> kimundi: sweet :) i need to update rust for rubyists too. 
[17:05:59] <steveklabnik> has any major breaking things happened? I guess there should be a partial changelog already?
[17:06:12] <steveklabnik> by 'major' i mean language level, of course libraries are constantly changing
[17:06:37] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[17:06:46] <bjz> Havvy: mod rusti { pub rainbow(s: &str) -> ~str; } should be enough - no need to introduce a superfluous trait
[17:06:51] <bjz> ;)
[17:07:38] *** Quits: Kxepal (Miranda@moz-AA60EEAD.pppoe.mtu-net.ru) (Ping timeout)
[17:08:58] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[17:10:33] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:11:02] *** Joins: Kxepal (Miranda@moz-E12B707E.pppoe.mtu-net.ru)
[17:11:51] <Havvy> bjz:  Yeah, true...
[17:12:38] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[17:14:27] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[17:15:50] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:15:53] *** jorendorff is now known as jorendorff_away
[17:16:23] *** Joins: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:16:42] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[17:17:24] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:18:32] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[17:18:46] <doomlord_> could rust get extentions to make raw vtable manipulation typesafe - if you had a vtable that knew its type, and an 'intrinsic'  for making a fat pointer, those could be checked
[17:19:26] *** Quits: koderok (Thunderbir@BA843233.70600C61.85BF2EFC.IP) (Ping timeout)
[17:20:13] *** Quits: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl) (Ping timeout)
[17:20:52] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[17:21:13] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:21:29] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[17:22:10] *** Joins: lfox (lfox@moz-89EEE1BF.nyc.res.rr.com)
[17:22:54] <kimundi> doomlord_: See the recent rfcs for structs with vtables.
[17:23:44] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[17:24:14] * o11c sincerely hopes we don't get inheritance
[17:24:58] * edwardw agrees.
[17:25:53] *** Joins: mgottschlag (quassel@moz-75939289.cust.bluewin.ch)
[17:26:04] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:27:18] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[17:27:32] <doomlord_>  ( I would very much welcome single struct inheritance, with safe donward coercing )
[17:28:07] <doomlord_> but would be much more excited by safe vtable sugar than a specific way of doing the C++ layout
[17:28:07] *** Joins: Ms2ger (Ms2ger@moz-4CB19774.adsl-dyn.isp.belgacom.be)
[17:28:08] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: 전 이만 갑니다.)
[17:29:00] <o11c> we have vtable sugar, it's called ~Trait
[17:29:14] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:29:32] <doomlord_> i mean the ability to construct the trait call from a data pointer & vtable pointer
[17:30:11] <doomlord_> .. keep the trait object as the primary and 'most supported' way of doing it.. and just give enough tools to emualte other systems, without unsafe hacks
[17:30:22] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:31:18] *** Quits: IanCormac84 (User@484F360D.2A8D8854.67DFF8B4.IP) (Quit: Leaving.)
[17:31:21] <Ms2ger> What you're saying sounds like an unsafe hack :)
[17:32:05] <doomlord_> my definition of without unsafe hack is: safe code can compose a trait object pointer, but the types are checked - you can only get a vtable compatable with the data pointer you supply
[17:32:43] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[17:32:44] <doomlord_> ^(you can get any vtable pointer , but its got enough type information that you can't compose it with an incompatible struct)
[17:32:46] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[17:33:05] *** Quits: mgottschlag (quassel@moz-75939289.cust.bluewin.ch) (Ping timeout)
[17:34:17] <Havvy> doomlord_:  Sounds like it'd add inefficiencies having data that has to be kept at runtime.
[17:34:42] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[17:34:56] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[17:34:56] *** Joins: sunfish (chatzilla@30A19522.A5F785DE.396E4C6D.IP)
[17:35:23] *** Joins: EastByte_ (EastByte@moz-41AF0A91.ewe-ip-backbone.de)
[17:35:27] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:35:36] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[17:35:43] *** Parts: rodolfo_3 (rodolfo@FF880CEB.ECEBC62.85FEC2CD.IP) (Ex-Chat)
[17:35:54] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:35:56] *** Quits: EastByte (EastByte@moz-E87802F0.ewe-ip-backbone.de) (Ping timeout)
[17:37:13] <doomlord_> not at all - it allows any layout you want, based on your demands of efficiency
[17:37:59] <doomlord_> if you wanted the vtable to be indexed with a u8 because you knew there wouldn't be many .. whatever , you could do it
[17:39:12] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[17:40:12] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[17:41:22] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:44:06] *** Quits: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:45:17] *** Quits: pingveno (alevar@moz-544E84DC.cat.pdx.edu) (Ping timeout)
[17:45:58] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[17:46:03] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:46:24] <Havvy> Having used Rust even in its current state, I never want to use Java even more than I never wanted to use it before I used Rust.
[17:47:07] <hoverbea_> Havvy: I share that sentiment.
[17:47:08] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:47:34] *** Joins: IanCormac84 (User@484F360D.2A8D8854.67DFF8B4.IP)
[17:47:52] <Havvy> Also, we need a Rust aware ncurses implementation and not just a C wrapper. :/
[17:48:03] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[17:48:04] <steveklabnik> that'd be great
[17:48:05] <Havvy> i32 everywhere!
[17:48:44] *** hoverbea_ is now known as hoverbear
[17:49:11] <hoverbear> Havvy: Once Rust gets some better networking support I'm planning to use a web interface for my rust code
[17:50:32] *** Joins: andrew-d_w (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP)
[17:50:58] *** Quits: andrew-d_w (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP) (Input/output error)
[17:51:18] <hoverbear> It'd definitely be awesome to have a proper ncruses implementation as well.
[17:51:19] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:51:51] *** Joins: jackneill (jackneill@moz-D885E21A.pool.digikabel.hu)
[17:51:53] <Havvy> But I'm scared to look at how ncurses is implemented in C.
[17:54:06] *** Joins: pingveno (alevar@moz-544E84DC.cat.pdx.edu)
[17:55:15] <hoverbear> Havvy: I'm scared to look at a lot of things in C. :-P
[17:55:51] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[17:56:15] <Havvy> Also, I would never test to make sure it works in Mac or Windows, which would mean it wouldn't work on Mac or Windows.
[17:57:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:58:03] *** Joins: Rui (rui@F9B41176.1A62AA38.F44582AE.IP)
[17:58:26] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[17:58:58] *** Quits: Kruppe (user@CC0122E6.8F96AEA7.2D179A7D.IP) (Client exited)
[18:00:00] *** Joins: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP)
[18:00:08] *** Quits: Rui (rui@F9B41176.1A62AA38.F44582AE.IP) (Quit: )
[18:00:31] *** Joins: xiongmao86 (xiongmao86@F9B41176.1A62AA38.F44582AE.IP)
[18:00:43] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[18:00:44] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[18:01:42] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[18:02:09] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[18:02:34] * bascule o_O @ ML discussion on removing bounds checks outside unsafe blocks
[18:02:40] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:02:47] <bascule> what's wrong with these people?
[18:03:24] *** Quits: heftig (heftig@moz-33D186ED.unitymedia.biz) (Quit: Quitting)
[18:04:50] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[18:05:09] <mindcat> so I am interested
[18:05:32] <mindcat> can I call rust code in Java?
[18:05:32] <nielsle> bascule: I think they were asking for a compile flag that a small number of people could use in special situations such as numerical analysis. 
[18:05:55] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[18:05:56] <bascule> you know what Rust needs? a compiler flag that lets me write to uninitialized memory outside unsafe blocks
[18:06:03] <bascule> nielsle: so use an unsafe block? :O
[18:06:14] <nielsle> Compare with FORTRAN. It is faily safe, and has a similar flag (But respect that rust has different goals than fortran)
[18:06:15] *** Quits: pepper_c1 (pepper_chi@EB1D9484.8A9E5939.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[18:06:18] *** Joins: pepper_chico (pepper_chi@EB1D9484.8A9E5939.F546FA5F.IP)
[18:06:39] <Havvy> Do people write new programs in FORTRAN?
[18:07:22] *** Joins: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[18:07:22] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[18:07:23] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[18:07:31] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[18:07:39] <nielsle> If you do numerical analysis then fortran is a high productivity language, and fairly beginner friendly (but that is off topic for this channel I guess)
[18:07:55] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[18:08:23] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[18:08:27] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[18:09:45] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[18:09:49] <nielsle> Bascule: I think the idea is to allow a small group of people to benchmark their code without boundary checks without requiring them to do a lot of work rewriting all the indexing.  That would be helpful for a few people.
[18:10:14] <bascule> nielsle: and they can't use unsafe blocks in hotspots why?
[18:10:23] *** Joins: tgkokk (user@moz-88CCC929.home.otenet.gr)
[18:10:36] <nielsle> " without requiring them to do a lot of work rewriting all the indexing to do the benchmark"
[18:10:52] <bascule> they can also modify the compiler
[18:11:03] <bascule> I would contend either of those things is, in fact, a small amount of work
[18:12:12] <nielsle> Different rust users have different goals. I fully accept the priorities of the rust project.
[18:12:19] *** Joins: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com)
[18:12:20] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:12:46] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[18:12:55] <bascule> what they're proposing is orthogonal to the goals of the language, and ignoring the features it provides that would allow them to accomplish their goals
[18:12:57] <Havvy> Why not add a crate level attribute post-1.0 for this?
[18:13:34] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Client exited)
[18:13:55] *** Joins: gwty (gwtypc@61574159.FA920D05.137C914F.IP)
[18:14:17] <Havvy> #[no_boundary_checks] or something.
[18:14:24] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[18:14:30] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[18:15:04] <o11c> < Havvy> Also, we need a Rust aware ncurses implementation and not just a C wrapper. :/
[18:15:09] <o11c> look at libtickit
[18:15:20] <o11c> (not based on ncurses, but does the same sort of thing)
[18:15:36] <nielsle> A optional lint would be really nice. Some beginning numerical analysis guys don't have really strong computer skills, so perhaps they should just get a warning that they were causing problems for themselves. 
[18:15:48] <lessless> folks, rust tends to be more functional than object-oriented, right? 
[18:16:01] *** Quits: pepper_chico (pepper_chi@EB1D9484.8A9E5939.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[18:16:10] <o11c> if by "object-oriented" you mean mutable state, then yes
[18:16:14] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:16:30] *** Quits: leowoe (Leo@moz-72D47201.dclient.hispeed.ch) (Quit: Leaving.)
[18:16:30] *** Quits: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com) (Ping timeout)
[18:17:10] <lessless> I mean the paradigm of creating objects and passing messages between them vs pure functions 
[18:17:24] *** Joins: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP)
[18:17:30] <lessless> *exchanging
[18:17:30] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[18:17:57] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:17:59] *** Joins: ipetkov (ipetkov@moz-731E55C.dsl.lsan03.sbcglobal.net)
[18:18:04] <lessless> to those extend that rust isn't lazy, isn't it? 
[18:18:14] <csherratt> no it isn’t.
[18:18:23] <eddyb> Rust never sleeps
[18:18:28] <lessless> :D 
[18:18:32] <eddyb> lessless: iterators are, though
[18:18:40] <lessless> hmm
[18:18:47] <lessless> that's interesting 
[18:19:07] <Havvy> Java 8's iterators are also lazy.
[18:19:15] <lessless> eddyb,  how do they perform?  
[18:19:30] <bjz> lessless: I would say that rust tends more towards mutable state than purity. You also use iteration more than recursion.
[18:19:32] <lessless> is this is a native feature or it's done via library? 
[18:19:49] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[18:20:00] <doomlord_> can you even say what 'paradigm' rust is? I personally think of it as "as multi-paradigm as C++ but with a more functional flavour "
[18:20:11] <Havvy> Library, but optimized via LLVM.
[18:20:40] <bjz> doomlord_: most 'PL paradigms' are far too broad to be useful
[18:20:48] <lessless> than rust should be added here -> http://en.wikipedia.org/wiki/List_of_multi-paradigm_programming_languages ;)
[18:21:29] <farcaller> I have a strange problem with modules in one crate. I have 'mod spi; mod lcd' in boot.rs that creates spi::SPI and lcd::LCD passing spi struct to lcd constructor. and I have 'mod spi' in the beginning of led.rs The problem is:
[18:21:30] <farcaller> error: mismatched types: expected `lcd::spi::SPI` but found `spi::SPI` (expected struct lcd::spi::SPI but found struct spi::SPI)
[18:21:34] <farcaller> any hints?
[18:21:59] <Havvy> I'm doing OO stuff implementing the Type Object pattern for my roguelike. ;)
[18:22:08] <Havvy> o11c:  Does libricket have any good documentation?
[18:22:38] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[18:22:38] *** ChanServ sets mode: +o tjc
[18:23:15] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:23:16] <o11c> Havvy: http://www.leonerd.org.uk/code/libtickit/doc/
[18:23:27] <Tari> farcaller: I think you might be doubly-declaring `spi`
[18:23:31] *** Joins: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP)
[18:23:44] <Tari> there should be only one instance of `mod spi` anywhere in your crate
[18:23:48] <o11c> Havvy: of course, it's still C - I've only gotten around to wrapping libtermkey (which libtickit uses internally)
[18:23:59] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[18:24:00] <Tari> where you need to refer to is, `use spi` instead
[18:24:10] <bjz> lessless: I'm not really sure if asking whether "rust tends to be more functional than object-oriented" is really the right question
[18:24:10] <farcaller> Tari: ahh. thanks.
[18:24:13] <o11c> farcaller: yes, this is confusing, and there's an RFC about fixing it, but people keep insisting that nothing is wrong
[18:24:15] *** Parts: ipetkov (ipetkov@moz-731E55C.dsl.lsan03.sbcglobal.net) ()
[18:24:43] <Havvy> o11c:  Yeah, a list of man pages is not documentation. :/
[18:24:54] <o11c> Havvy: uh ... what more do you want?
[18:25:19] <o11c> Havvy: but if you go to the effort of making rust bindings, you'll learn them all
[18:25:27] <o11c> I certainly learned a lot about libtermkey that way
[18:25:31] <lessless> bjz, rust is imperative language so you have a strong point... maybe the right question what rust have inherited from the functional world? 
[18:25:49] <farcaller> o11c: unfortunately the output binary is'nt smaller after I fixed all the 'mod' to 'use' ;)
[18:25:54] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:26:02] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[18:26:05] *** Quits: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP) (Ping timeout)
[18:26:34] *** Quits: xiongmao86 (xiongmao86@F9B41176.1A62AA38.F44582AE.IP) (Quit: )
[18:26:47] <o11c> farcaller: huh? If it can't compile, you don't have an output binary to take the size of ...
[18:27:09] <farcaller> o11c: well, I had other places where using mod wasn't a problem
[18:27:20] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[18:27:23] <Havvy> o11c:  A tutorial. Example code. You know, non-reference documentation.
[18:27:40] <farcaller> like I used 'mod gpio' literally everywhere else, but I don't pass any gpio::OutPins around
[18:27:54] <farcaller> o11c: so that one compiled perfectly
[18:28:04] <bjz> lessless: the terms 'functional' and 'object-oriented' are too vague to be of real use
[18:28:05] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[18:28:44] <bjz> lessless: Rust definitely has the constrained mutability that is seen in languages like SML and Ocaml (which are often labelled functional)
[18:28:47] <Havvy> Object oriented can mean one of like ten things.
[18:29:49] <Havvy> You can go pure functional in Rust, but you can also do pure OO using two or three of the definitions.
[18:30:11] <csherratt> Rust also allows you do build data-orinated designs very easily.
[18:30:22] <bjz> o_o
[18:30:25] <Havvy> For instance, only having methods be added via traits.
[18:30:49] <lessless> csherratt, O.O
[18:30:52] <Havvy> And only use methods.
[18:31:02] <nical> I am having lots of problems with enum variant name collisions
[18:31:16] <nical> is there a pattern to solve this kind of issue: https://pastebin.mozilla.org/4713240
[18:31:41] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[18:31:46] <nical> all of this is being the same (json) module
[18:31:52] <Havvy> Put each enum in its own mod.
[18:32:20] <Havvy> There's an issue asking for `enum mod { }` syntax that would be perfect, but it's postponed to post-1.0
[18:32:47] <o11c> I'm thinking what he really wants is for the things to be shared
[18:32:58] <o11c> since they have the same components
[18:34:11] *** Joins: rodolfo_3 (rodolfo@FF880CEB.ECEBC62.85FEC2CD.IP)
[18:34:29] <nical> Havvy: I hoped I could avoid that since it makes me move a lot of code that I didn't write but I guess it'll do
[18:34:32] *** Parts: rodolfo_3 (rodolfo@FF880CEB.ECEBC62.85FEC2CD.IP) (Ex-Chat)
[18:34:49] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:34:54] <Havvy> Another option is to rename those to things like DecodeParseError
[18:35:00] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[18:35:04] <Havvy> BuilderParseError
[18:35:48] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[18:35:48] *** Quits: tgkokk (user@moz-88CCC929.home.otenet.gr) (Client exited)
[18:35:54] *** Joins: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP)
[18:36:02] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[18:36:42] <bjz> lessless: you could also say that Rust has inherited some pattern matching and type system features from languages like SML and Haskell
[18:36:43] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[18:36:47] *** Joins: paraze (paraze@moz-96380A71.w86-209.abo.wanadoo.fr)
[18:37:30] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[18:37:36] <Havvy> And we have vtables a. la. traits for the other half of the expression problem.
[18:37:44] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[18:37:45] *** Joins: tgkokk (user@moz-88CCC929.home.otenet.gr)
[18:37:46] *** Joins: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca)
[18:38:03] <bjz> Havvy: Don't you mean sum types? :[
[18:38:16] *** Quits: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:38:32] <lessless> also, instead of classes there is a type inheritance, right? 
[18:38:36] <bjz> Havvy: 'the other half' generally refers to the stuff that Java and C++ can't express
[18:39:53] <bjz> or should I say, have difficulty expressing
[18:40:22] <Havvy> I said other half as in the other half than the pattern matching (with sum types) that you mentioned first.
[18:40:34] <bjz> oh ok
[18:40:49] <bjz> my mistake
[18:41:04] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:41:05] *** ChanServ sets mode: +ao brson brson
[18:41:19] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Quit: leaving)
[18:41:23] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:41:23] *** ChanServ sets mode: +ao brson brson
[18:41:28] <bjz> lessless: I'm nit sure what you mean by 'type inheritance'
[18:41:34] <bjz> *not
[18:42:36] <lessless> bjz,  there is a structure on which methods are defined :) 
[18:42:39] <Havvy> lessless:  There is trait inheritance, but not struct inheritance.
[18:43:18] <eddyb> lessless: ugh, no
[18:43:37] <eddyb> lessless: traits are like type classes (inheritance works slightly different)
[18:43:43] *** Joins: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[18:44:07] <Veld> is it possible to pattern match the characters in a string or string slice?
[18:44:08] <kimundi> Another way to put it: We have behavior inheritance, not data inheritance.
[18:44:08] <lessless> here is an example at the end of the 17.1 section http://static.rust-lang.org/doc/master/tutorial.html#traits
[18:44:13] <bjz> lessless: http://en.wikipedia.org/wiki/Type_class
[18:44:17] <kimundi> Veld: Not directly.
[18:45:11] <lessless> ok, ok, that's enough for today, I'll comeback later after I  digest that thing, hehe
[18:45:22] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[18:45:23] <eddyb> doomlord_: LLVM doesn't half of our immutability story
[18:45:40] <eddyb> doomlord_: and/or aliasing. because we aren't outputting TBAA metadata yet
[18:46:09] <bjz> lessless: no worries
[18:46:38] <doomlord_> does LLVM allow C/C++ 'restrict' to work, is there a raw way to do that
[18:46:57] <bjz> lessless: terminology stuff can be conufusing
[18:46:57] <Havvy> A type class looks a lot like an interface.
[18:47:01] <sunfish> doomlord_: on arguments, you can use the noalias keyword
[18:47:03] <doomlord_> (we'd always had restrict in c++, someone says it isn't actually part of the langauge)
[18:47:19] <bjz> Havvy: it is closely related, yes
[18:47:51] <Havvy> In what ways are they different?
[18:48:51] <Havvy> Eh, nevermind that question.
[18:49:13] <lessless> I'm a  Rust beliver and I think it has a strong future 
[18:49:15] <bjz> Havvy: note that for typeclasses, there is normally no 'Self' type
[18:49:15] <eddyb> doomlord_: TBAA
[18:49:22] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[18:49:26] <sunfish> doomlord_: (restrict was introduced in C99, and the C++ hasn't imported it yet, though many C++ compilers support it)
[18:49:28] <eddyb> doomlord_: type-based alias analysis. clang outputs it
[18:49:32] <bjz> Havvy: that is a Rust peculiarity
[18:50:01] <eddyb> bjz: I prefer inheritance to the Haskell way
[18:50:06] <Havvy> Oh? Well, it's a nice peculiarity.
[18:50:13] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:50:18] <eddyb> bjz: kinda required in Rust because of how trait objects work
[18:50:26] <doomlord_> ah yes, C++ states different types *are* assumed not to alias doesn't it, but the restrict 'hack' catches the cases of same types
[18:50:38] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:51:12] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:51:14] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[18:51:15] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[18:51:28] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[18:51:30] *** vfetwnuncszu is now known as dcrewi
[18:51:35] *** Joins: raisin (Mibbit@moz-7AD9232F.rev.numericable.fr)
[18:51:40] <bjz> Havvy: but like in other langs with type classes, Rust allows you to define instances of type clasess separate from the type definitions
[18:52:18] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[18:52:24] <bjz> Havvy: interfaces don't allow for that
[18:52:45] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[18:52:46] <o11c> doomlord_: not quite, there are some corner cases with empty classes
[18:52:55] <Havvy> I don't think that's an actual restriction on interfaces so much as how every language has implemented them.
[18:53:10] <Havvy> For instance protocols don't have that limit.
[18:53:15] <o11c> struct Foo {}; struct Bar {}; struct Baz : Foo, Bar {};  int main() { Baz bz; Foo *fp = &bz; Bar *bp = &bz; cout << fp, bp, &bz; }
[19:01:04] <Havvy> Somebody's doing a survey of language designers and their academic credentials (or lack thereof).  What's Graydon Hoare's academic record?
[19:01:15] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:03:39] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:06:00] *** Quits: Rym (y@87BAB661.C67B62F8.8772DA20.IP) (Ping timeout)
[19:06:51] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[19:08:04] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[19:08:30] <jaredly> Havvy: Google scholar turns up 2 articles with him as co-author http://scholar.google.com/scholar?as_q=&as_epq=&as_oq=&as_eq=&as_occt=any&as_sauthors=Graydon+Hoare&as_publication=&as_ylo=&as_yhi=&btnG=&hl=en&as_sdt=0%2C45
[19:08:50] *** Joins: Rym (y@87BAB661.C67B62F8.8772DA20.IP)
[19:09:54] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[19:10:09] *** vfetwnuncszu is now known as dcrewi
[19:11:01] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:11:24] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[19:11:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:12:02] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[19:12:11] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Client exited)
[19:12:38] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[19:14:32] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[19:14:46] <NiccosSystem_> I want to read() from a TcpStream into a buffer. How do I set the size of the buffer when I can't specify the size at runtime?
[19:15:04] <NiccosSystem_> Do I have to do a loop and just add to the vector until desired size?
[19:15:05] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[19:15:26] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:16:38] <NiccosSystem_> oh wait... std::vec:from_elem
[19:17:07] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[19:17:08] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:17:14] *** Joins: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net)
[19:18:16] *** Quits: nightpool (nightpool@moz-7CAAC068.wi.res.rr.com) (Ping timeout)
[19:18:22] <NiccosSystem_> or ::with:capacity I think would work?
[19:18:29] *** Joins: nightpool (nightpool@moz-7CAAC068.wi.res.rr.com)
[19:19:35] <eddyb> NiccosSystem_: with_capacity(n) gives you a Vec<T> to which you can push n times without the chance of triggering a reallocation
[19:20:34] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:20:59] <eddyb> who's is this? http://jaredly.github.io/2014/03/22/rust-vs-go/index.html
[19:21:11] <eddyb> feels outdated, might give the wrong impression
[19:21:31] <eddyb> (it mentions managed pointers, which nobody should know they exist, until they are removed, in about a week or two)
[19:22:11] *** Joins: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca)
[19:24:37] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[19:24:42] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[19:24:52] <jaredly> Mine
[19:25:00] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[19:25:03] <jaredly> Sorry, didn't know they were getting removed
[19:25:17] <jaredly> eddyb: is there still GC?
[19:25:36] *** Quits: lfox (lfox@moz-89EEE1BF.nyc.res.rr.com) (Ping timeout)
[19:26:11] <carllerche> Is it possible to pass a lifetime into a macro?
[19:26:55] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:26:55] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:27:13] <eddyb> jaredly: they haven't been intended for usage since ~0.8
[19:27:35] <eddyb> jaredly: we've wanted to remove @ for like half an year or more, but it was too hard at the time to replace all the compiler code
[19:27:41] *** Quits: dranov (dranov@5A0A12C0.65119E71.FB866788.IP) (Ping timeout)
[19:27:52] <eddyb> jaredly: Rust never had a GC, @'s implementation is an inferior version of Rc
[19:28:06] <jaredly> eddyb: hmm ok. They're still there in the Tutorial (for master), so I figured they were still a thing
[19:28:25] *** Quits: Rym (y@87BAB661.C67B62F8.8772DA20.IP) (Ping timeout)
[19:28:26] <eddyb> seriously?
[19:28:30] * eddyb takes out the whip?
[19:28:36] <eddyb> s/?//
[19:28:39] <edwardw> jaredly: there's a ticket for GC https://github.com/mozilla/rust/issues/11778
[19:28:43] <eddyb> (I obviously know what I'm doing :P)
[19:28:53] <eddyb> but real GC would be a library feature that's opt-in
[19:29:37] <NiccosSystem_> well aren't I blind. scroll down 3 blocks and I see read_exact.....
[19:30:06] <eddyb> blocks? is this minecraft?
[19:30:15] <NiccosSystem_> like doc blocks
[19:30:22] <NiccosSystem_> paragraphs
[19:30:25] <eddyb> aah
[19:30:30] <NiccosSystem_> lol
[19:30:52] <eddyb> jaredly: at the start it sounds much worse than it is, but I guess the conclusion makes up for it. did you mention traits?
[19:31:24] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[19:31:32] <eddyb> just a mention, not in detail, I see
[19:31:40] *** Joins: EastByte (EastByte@moz-29960729.ewe-ip-backbone.de)
[19:31:50] <jaredly> eddyb: In the program I built, I didn't use any trais, and they didn't seem too different from what go offers.
[19:32:04] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:32:06] <eddyb> jaredly: at first, maybe
[19:32:07] <jaredly> eddyb: I have a hunch that they're super awesome though, looking through other people's rust code
[19:32:08] *** Quits: EastByte_ (EastByte@moz-41AF0A91.ewe-ip-backbone.de) (Ping timeout)
[19:32:37] <eddyb> jaredly: but keep in mind that traits are implemented *on top* types unlike interfaces which are implemented *within* types
[19:32:41] <Veld> confirming that traits are super awesome
[19:32:47] <eddyb> jaredly: that's why you can add methods to primitives
[19:32:56] <eddyb> rusti: &0 as &Show
[19:32:57] -rusti- <anon>:10:16: 10:20 error: use of undeclared type name `Show`
[19:32:57] -rusti- <anon>:10         &0 as &Show
[19:32:57] -rusti-                          ^~~~
[19:32:58] -rusti- error: aborting due to previous error
[19:32:58] -rusti- application terminated with error code 101
[19:33:08] <eddyb> rusti: &0 as &::std::fmt::Show
[19:33:09] -rusti- pastebinned 8 lines of output: http://sprunge.us/AAQM
[19:33:15] <eddyb> ^nevermind :P
[19:33:49] <jaredly> eddyb: yeah, stuff like that blows my mind a little. Hope to get a lot more familiar with them soon
[19:33:52] *** Quits: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP) (Quit: This computer has gone to sleep)
[19:33:55] <carllerche> nice, macros can be defined inside of fns apparently
[19:34:00] <eddyb> carllerche: anywhere
[19:34:00] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[19:34:12] <eddyb> I think they aren't accessible outside of their scope, but I'm not sure
[19:34:16] <mindcat> rusti: 0
[19:34:17] -rusti- 0
[19:34:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:34:30] <mindcat> rusti: 42
[19:34:31] -rusti- 42
[19:34:32] <eddyb> jaredly: oh you haven't mentioned macros!
[19:34:52] *** Quits: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net) (Ping timeout)
[19:35:10] <eddyb> jaredly: in any case, we try to warn people that the language is still in flux before 1.0, but we are trying to stabilize the standard library and whatnot
[19:35:16] <jaredly> jaredly: again, didin't come up for me yet :)
[19:35:28] <jaredly> eddyb: what's the eta on 1.0?
[19:35:37] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[19:35:37] <eddyb> this year, hopefully
[19:35:47] <jaredly> that would be awesome.
[19:35:48] <eddyb> correct answer is "when it's done"
[19:36:07] <jaredly> I'm a little cautious of starting anything real for fear the syntax will change on me
[19:36:16] <jaredly> Anything I can do to contribute?
[19:36:39] <eddyb> jaredly: the syntax shouldn't really change
[19:36:41] <o11c> eddyb: I can't help but feel there's too much left to be done for a release this year
[19:36:58] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[19:37:07] <eddyb> o11c: come on, there are better Rust devs than me :P
[19:37:10] <mindcat> rusti: fn echo(a: &str) -> &str {a};echo("I have to spend my time to write bukkit plugin")
[19:37:10] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[19:37:11] -rusti- pastebinned 11 lines of output: http://sprunge.us/TRHM
[19:37:22] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[19:37:25] <eddyb> mindcat: no rot13? weak
[19:37:35] <o11c> eddyb: well, you're the one being hopeful
[19:37:40] <o11c> so I'll be the pessimist
[19:37:40] <Havvy> jaredly:  Syntax changes can be changed methodologically.
[19:37:51] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[19:38:18] <eddyb> jaredly: we can add a lot of features without breaking existing syntax, basically
[19:39:08] <jaredly> eddyb: yeah. I did see some talk of changing some core Traits, though. I guess it wouldn't be too much work to keep up...
[19:39:42] <eddyb> but, for example, ~[T] has to go temporarily so we can implement DST, though a lot of uses had to move to Vec<T> anyway, because of the different semantics
[19:39:48] <eddyb> jaredly: the kind traits, you mean?
[19:40:08] <eddyb> jaredly: you can have a huge library and not touch them
[19:40:10] <jaredly> eddyb: yeah I think so. Stuff with concurrenct
[19:40:18] <jaredly> s/t/y/
[19:40:29] <eddyb> Freeze => Share makes it so more patterns are valid
[19:40:38] <jaredly> yeah
[19:40:59] <eddyb> things that break outside the compiler are easy to fix
[19:41:02] <jaredly> The change makes sense, but it's indicative of the volatility of the language at this point
[19:41:11] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[19:41:16] <mindcat> rusti: use serialize::base64::FromBase64; "V2h5IHdlIHNob3VsZCBkbyByb3QxMz8K".from_base64().unwrap()
[19:41:18] -rusti- pastebinned 8 lines of output: http://sprunge.us/RHhh
[19:41:27] <eddyb> jaredly: again, we warn about this. the language is in flux
[19:41:44] <jaredly> yup. can't wait till it settles down :)
[19:42:27] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[19:42:54] <eddyb> jaredly: when people complain about 10 changes they have to make in the library, I think they should feel the thousands of lines changed within the compiler itself
[19:44:07] <eddyb> I'm doing pretty much the last big part of removing @ usage within the compiler itself. specifically the AST
[19:44:15] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:44:22] <eddyb> 2k lines and counting, it gets messy in places
[19:44:33] <jaredly> yeah I believe it!
[19:44:37] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:44:44] <Ms2ger> eddyb, more than ten changes here :)
[19:44:46] <jaredly> no complaints here, don't misunderstand. just excitement
[19:44:49] <eddyb> Ms2ger: hehehehe
[19:45:08] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[19:46:22] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:47:01] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[19:47:56] <jaredly> Has anyone implemented any machine learning algorithms in rust? kNN, neural net, decision tree, random forest, etc?
[19:48:52] <eddyb> jaredly: not that I'm aware of. the #rust-gamedev community (bjz?) might have experimented with some of those
[19:49:19] <eddyb> and now I want to implement neural networks in GLSL
[19:49:29] <eddyb> jaredly: like I didn't have enough on my plate as it is :P
[19:49:48] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[19:50:24] <jaredly> =) oh goodness why? to take advantage of gpu?
[19:50:36] <eddyb> why not?
[19:50:41] <jaredly> haha good point
[19:51:11] *** Quits: nkoep (nik@moz-7AB416BE.pool.mediaways.net) (Client exited)
[19:51:19] <eddyb> pcwalton had some fun with some parallel browser (something to do with CSS and layout) algorithms in OpenCL (and CUDA?)
[19:51:35] <pcwalton> https://github.com/pcwalton/selectron
[19:51:36] <pcwalton> code is here
[19:51:38] <doomlord_> is it possible to describe a *field* as unsafe ..
[19:51:54] <sfackler> doomlord_: Unsafe<T>?
[19:51:54] <eddyb> doomlord_: what for?
[19:52:04] <jaredly> fascinating
[19:52:15] *** Joins: nkoep (nik@moz-7AB416BE.pool.mediaways.net)
[19:52:16] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Input/output error)
[19:52:27] <doomlord_> i've just tried another vtable hack and am seeing if i can modity it outside of unsafe code, i think i might be able to :(
[19:52:37] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[19:52:38] <doomlord_> ^(modify the vtable ptr..)
[19:52:43] <Havvy> Sure. Take RefCell<> and remove all the fail!s. ;)
[19:52:45] <eddyb> doomlord_: did you do what I said?
[19:53:11] <doomlord_> i'll post in a minute, i might have lost your suggestion,
[19:53:27] <eddyb> doomlord_: encoding the type and the vtable in Vtable
[19:53:56] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:54:09] <doomlord_> what i'm trying now is enclosing it in a wrapper, which does indeed have the type/trait as  typeparams
[19:54:15] *** Quits: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[19:54:17] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[19:54:55] *** Joins: hjr3_ (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[19:54:59] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Connection reset by peer)
[19:55:26] *** Quits: murph (murph@moz-F07B75BF.oracle.com) (Client exited)
[19:55:31] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[19:55:35] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[19:55:38] *** Joins: murph (murph@moz-F07B75BF.oracle.com)
[19:56:00] <doomlord_> https://gist.github.com/dobkeratops/9841737 <<< next attempt
[19:56:35] <doomlord_> so my worry is the fact if you just make a mutable 'CppClass' .. you might be able to change the vtable ptr easily
[19:56:56] <eddyb> doomlord_: ...
[19:57:13] <eddyb> doomlord_: that's not what I said
[19:57:19] <Tobba> I wish there was a way to run a closure over an iterator and feed its value back into itself
[19:57:36] <eddyb> Tobba: fold, scan, unfold?
[19:57:40] <edwardw> fold?
[19:57:44] <eddyb> (any of those three)
[19:57:44] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[19:57:49] <Tobba> is this implemented?
[19:57:55] <eddyb> docs
[19:58:01] <Tobba> yeah one sec
[19:58:06] <eddyb> doomlord_: vtable: Vtable<Type, Trait>
[19:58:11] <Tobba> aww yeah
[19:58:13] <eddyb> doomlord_: now you can't break it
[19:58:24] <edwardw> Tobba: http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.fold
[19:58:59] *** Joins: mgottschlag (quassel@moz-75939289.cust.bluewin.ch)
[19:59:02] <doomlord_> i've absorbed all the responsibility of 'Vtable<..> into 'CppClass', it seemed like 'Vtable' was extraneous once i'd embedded data like this
[19:59:17] <eddyb> doomlord_: no it's not. though it's private, so why do you care?
[19:59:35] <doomlord_> does making it private fix the safety problem
[20:00:03] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[20:00:04] <doomlord_> if you can modify that member without an unsfe block, 'get_trait_obj' must be unsafe aswell i think
[20:00:19] <eddyb> doomlord_: you can't modify private fields
[20:00:33] <eddyb> doomlord_: that's why they are private >_>
[20:01:17] <doomlord_> but if i make something here circumventing private, i'm not sure i'd need to mark it 'unsafe' to do that
[20:01:26] <doomlord_> i mean it would *be* unsafe
[20:01:29] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[20:01:37] <eddyb> you can't circumvent privacy without unsafety
[20:01:53] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[20:02:44] *** Quits: edwardw (edwardw@C3D32C6E.E4C8743.30C05AB6.IP) (Ping timeout)
[20:03:14] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[20:03:16] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[20:03:27] <doomlord_> i'll show you what breaks it : adding 	pub fn change(&mut self) {	self.vtable_ptr = unsafe {cast::transmute(0)};	}
[20:03:27] <doomlord_>  .. you need an unsafe block to change it, but you can call 'change()' in safe code... negating the safety 
[20:03:44] *** Joins: edwardw (edwardw@4112974A.B4358688.30F15291.IP)
[20:03:46] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:03:46] *** ChanServ sets mode: +o tjc
[20:03:48] <doomlord_> i'll have to declare 'get_trait_obj' unsafe by virtue of that
[20:04:41] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[20:06:21] <Tobba> fold is amazing how did I not know about this
[20:06:30] <Tobba> now I'll have to OCD rewrite all code that should be using fold
[20:07:37] <Havvy> Heh.
[20:09:52] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[20:10:18] *** Joins: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net)
[20:11:13] <tyoverby> How do I `use` a file in an upwards direction?
[20:11:50] *** Quits: asmyers (quassel@783EA696.9A737B8F.FAA4474F.IP) (Ping timeout)
[20:11:53] *** Joins: astroch (astroch@moz-AE78D1B9.dhcp.embarqhsd.net)
[20:12:21] <o11c> tyoverby: there are 3 uses: use self:: or use super:: or use :: 
[20:12:37] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[20:13:05] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[20:13:19] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:13:48] <Havvy> When you use `use`, it always starts at the crate root.
[20:14:02] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:14:09] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:14:10] *** ChanServ sets mode: +o tjc
[20:14:17] <tyoverby> is the crate root defined as the file that I use as the argument to rustc?
[20:14:21] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[20:14:22] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[20:15:25] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[20:15:30] <Havvy> tyoverby:  Yes.
[20:16:16] <Havvy> The self::, super:: and :: (which is crate root) metioned by o11c are for type declarations outside of `use`.
[20:17:28] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[20:17:37] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:17:49] <o11c> since it's not obvious whether use without any of those prefixes is relative or absolute, it's better to be explicit
[20:18:12] <Havvy> `use` is always absolute though.
[20:19:03] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[20:20:38] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:20:42] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:20:42] *** ChanServ sets mode: +o tjc
[20:21:12] *** Quits: mgottschlag (quassel@moz-75939289.cust.bluewin.ch) (Ping timeout)
[20:21:15] *** Parts: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net) ()
[20:22:44] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:24:31] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[20:24:44] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[20:24:49] <doomlord_> what actually is 'Many', i can see it's casting trait objects, but its not the same as the C++ emulation case is it, is it some sort of 'multi-trait-object'
[20:25:21] <eddyb> doomlord_: yeah
[20:25:24] <Havvy> http://static.rust-lang.org/doc/master/std/index.html?search=Many
[20:25:40] <eddyb> doomlord_: runtime interface polymorphism, harder to achieve in C++
[20:25:47] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[20:25:56] <doomlord_> like COM object querying perhaps
[20:26:08] <eddyb> maybe, never touched COM
[20:26:10] <doomlord_> (but lighter weight)
[20:26:17] <eddyb> doomlord_: much lighter weight :P
[20:26:30] <doomlord_> thats all reference counted and independant of C++
[20:26:42] <doomlord_> QueryInterfae yada yada
[20:27:13] *** Quits: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:27:59] *** Joins: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com)
[20:28:12] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[20:28:53] *** Quits: rmt (rmt@moz-4CB6ED0D.superkabel.de) (Ping timeout)
[20:29:09] *** Quits: kvanb (kvanb@moz-BA670ED4.lnse2.win.bigpond.net.au) (Ping timeout)
[20:29:16] <Ms2ger> "Forget programming languages designed for expression/elegance, I want a language optimized for diffing/merging"
[20:29:20] <Ms2ger> Thoughts?
[20:29:44] <SiegeLord> Rust is pretty optimized for diffing in some spots
[20:29:50] <mindcat> let mut a = "0101011101101000011110010010000001110111011001010010000001110011011010000110111101110101011011000110010000100000011001000110111100100000011100100110111101110100001100010011001100111111".chars(); let result = {let mut count : u8 = 0; let mut v = ~[]; let mut c : u8 = 0; for i in a {; if i == '1' {c = c | 1 << 7 - count % 8; } count += 1; if count % 8 == 0 {v.push(std::str::from_byte(c)); c = 0} } v.concat() };result
[20:29:50] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[20:29:50] *** ChanServ sets mode: +ao dherman dherman
[20:29:58] <mindcat> rusti: let mut a = "0101011101101000011110010010000001110111011001010010000001110011011010000110111101110101011011000110010000100000011001000110111100100000011100100110111101110100001100010011001100111111".chars(); let result = {let mut count : u8 = 0; let mut v = ~[]; let mut c : u8 = 0; for i in a {; if i == '1' {c = c | 1 << 7 - count % 8; } count += 1; if count % 8 == 0 {v.push(std::str::from_byte(c)); c = 0} } v.concat() };result
[20:29:59] -rusti- Why we should do rot13?
[20:30:02] <tiffany> ms2ger: better idea, structural diffs
[20:30:07] <SiegeLord> E.g. with the ability to specify a trailing comma in enums/structs
[20:30:19] *** Joins: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca)
[20:30:22] <SiegeLord> No need to get a 2 line diff when adding a new field/variant
[20:30:24] *** Joins: kvanb (kvanb@moz-BA670ED4.lnse2.win.bigpond.net.au)
[20:31:24] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[20:31:59] <eddyb> Ms2ger: diff AST
[20:32:25] <mindcat> :S waste time
[20:32:30] * mindcat going bed
[20:32:47] *** Joins: marshall_law (marshall@BCC5EC56.B2070AF7.505F6A0C.IP)
[20:32:48] <eddyb> Ms2ger: you can get pretty far with libsyntax
[20:32:57] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:33:53] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[20:34:00] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:34:00] *** ChanServ sets mode: +o tjc
[20:34:01] *** Joins: p1start (rewi@moz-E7F3D014.org)
[20:34:04] <o11c> Ms2ger: completely agree
[20:34:05] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[20:34:15] <kimundi> mindcat: haha :)
[20:34:28] <o11c> Ms2ger: "optimized for diffing" is why I always put the starting { on its own line
[20:34:41] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:34:43] <o11c> Ms2ger: but I think 2-stage indentation patches would work better ...
[20:35:01] <o11c> if only git had a way to say "skip whitespace diffs in this commit, not any other ..."
[20:35:04] <mbrubeck> I want a diffing tool optimized for programming languages.
[20:35:06] <eddyb> o11c: if you're diffing text, you're doing it wrong
[20:35:18] <o11c> eddyb: if you're diffing text, you're living in the real world
[20:35:31] <eddyb> yeah, I'm dreaming in a Rust GUI
[20:35:33] <Ms2ger> Zing
[20:35:52] <eddyb> but seriously, you can even export the AST as JSON
[20:35:55] <mcpherrin> I'm kinda sad I don't have a set of robust, generic AST manipulation tools
[20:36:02] <eddyb> *ahem*
[20:36:13] <mcpherrin> Rust is okay
[20:36:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:36:30] <mcpherrin> but tools don't tend to work across many languages
[20:36:43] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[20:36:47] <eddyb> I can probably make a drag-and-drop ES6-based AST viewer for Rust in a few hours, on jsfiddle
[20:37:02] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:37:06] <Havvy> eddyb:  What about a Rust based AST viewer for Rust?
[20:37:10] <eddyb> you know, if I didn't stop to chat on IRC and things
[20:37:14] <eddyb> Havvy: what UI?
[20:37:16] <mcpherrin> What I really want is a textual diff that is informed by the AST
[20:37:38] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[20:37:40] <eddyb> mcpherrin: I wanted to play with cross-language
[20:37:44] <Havvy> Umm, good point.
[20:37:51] <eddyb> so I thought "I'll make my own parsers"
[20:38:16] <eddyb> in any case, I've had a few things in mind which would work for C -> Rust conversions and a few other things
[20:38:17] <dsrx> does anyone know if someone is working on a clang-style completion engine for rust?
[20:38:31] <eddyb> dsrx: unless it's top-secret, no
[20:38:51] <o11c> mcpherrin: agreed
[20:39:03] <o11c> text-based diff is absolutely *critical*
[20:39:08] <WalrusPony1> ohai io2
[20:39:12] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[20:39:15] <o11c> but current tools that *generate* diffs are stupid
[20:39:19] <eddyb> I have some sketches in my head, but I'm lucky if I'll get this tiny android game working
[20:39:31] <o11c> (note to self, play with the C++ DTL sometime)
[20:39:32] <io2> ohai WalrusPony1
[20:39:34] <io2> :)
[20:39:41] <eddyb> o11c: when I want to actually read diffs, I start kdiff3
[20:39:57] <eddyb> o11c: works pretty well for rustfilt'd LLVM IR, for example
[20:40:07] <o11c> eddyb: hm, are you saying a good diff viewer can overcome a bad diff generator?
[20:40:14] <mcpherrin> eddyb: X11 is a pain which is a pain when you're ssh'd three machines and two chroots deep and running on a mac :p
[20:40:22] <o11c> because I often get diffs where sections are totally misaligned
[20:40:30] <eddyb> o11c: generator + viewer
[20:40:30] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:41:00] <eddyb> it's still textual, but side-by-side, inline, and changes tend to be more localized
[20:41:03] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[20:41:26] <o11c> color word-based diffs are nice ...
[20:41:39] <eddyb> it will still fill the scrollbar with red for all the number mismatches, but you can tell when there's an actual different
[20:41:40] <o11c> (but don't show whitespace-only change well)
[20:41:43] <eddyb> *difference
[20:42:01] <eddyb> o11c: I think kdiff3 has modes for whitespace
[20:42:05] <eddyb> it's not a great tool
[20:42:15] <eddyb> but it's quite useful when you need to see what changed
[20:42:31] <eddyb> I've given it RUST_LOG dumps and it worked well
[20:42:46] <NiccosSystem_> is there some type similar to short? some num that takes 2 bytes? or will I have to read the bytes and cast them to another type
[20:42:48] <eddyb> (like, logging everything in trans to figure what I broke)
[20:42:49] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[20:43:06] <NiccosSystem_> wait never mind
[20:43:06] <eddyb> NiccosSystem_: 8*2 == 16 => u16
[20:43:13] <bjz> :)
[20:43:20] *** Joins: rmt (rmt@moz-4CB6ED0D.superkabel.de)
[20:43:21] <NiccosSystem_> Yes I know, my brain just had a cataclysmic failure
[20:43:24] <bjz> np
[20:43:27] <bjz> it happens
[20:43:35] <NiccosSystem_> :p
[20:43:48] <eddyb> NiccosSystem_: forgetting "short" and "long" is the first step to recovery
[20:44:03] <NiccosSystem_> I was for some reason thinking of the numbers after i/u as bytes and not bits 8)
[20:44:07] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:44:14] <NiccosSystem_> No idea how I managed to do that
[20:44:39] <eddyb> I've had to implement *correct* conversion from C type specifications to something similar to Rust's integer type names
[20:44:44] <eddyb> it's not fun
[20:44:58] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[20:45:01] *** Quits: edwardw (edwardw@4112974A.B4358688.30F15291.IP) (Quit: Leaving...)
[20:45:46] <eddyb> (though there is that epiphany where you realize short int const long static static long int is valid syntax)
[20:46:02] <bjz> wait, wut
[20:46:07] <eddyb> and if you remove some of it, you can even have it compile
[20:46:11] <eddyb> bjz: valid syntax, not semantics
[20:46:40] <eddyb> one of the valid variations is short int const static
[20:46:50] <eddyb> bjz: order doesn't matter, int is implicit
[20:47:02] <bjz> o_o
[20:47:14] <eddyb> you can have either a long, two longs, or a short
[20:47:20] <NiccosSystem_> ..how to know whether to read big endian or little endian
[20:47:39] <eddyb> NiccosSystem_: there's methods/functions somewhere in std, search for "be" or "le"
[20:47:54] <bjz> NiccosSystem_: there are methods on the Writer trait
[20:47:57] <eddyb> bjz: const x = 0; is const int x = 0; I'm pretty sure
[20:47:58] <NiccosSystem_> Yeah I saw those.. I'm just wondering how would I know which to use
[20:48:11] <eddyb> ahh
[20:48:13] <bjz> http://static.rust-lang.org/doc/master/std/io/trait.Writer.html
[20:48:16] <eddyb> NiccosSystem_: what are you reading :)?
[20:48:23] <NiccosSystem_> TCP stream
[20:48:33] <eddyb> containing?
[20:48:33] *** Quits: lawrence (lawrence@moz-12AC0D83.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:48:35] *** Quits: jackneill (jackneill@moz-D885E21A.pool.digikabel.hu) (Input/output error)
[20:48:44] *** Joins: p1start (rewi@moz-E7F3D014.org)
[20:49:37] <NiccosSystem_> they describe it as a short
[20:49:40] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[20:49:46] <NiccosSystem_> i mean
[20:49:46] <eddyb> NiccosSystem_: who is "they"?
[20:50:03] <NiccosSystem_> I have to go right now, talk to you in a bit
[20:50:09] <NiccosSystem_> sorry about the urgent leave
[20:50:18] <eddyb> the minecraft protocol is big-endian
[20:50:26] <eddyb> (just in case it's *that* one :P)
[20:51:01] <eddyb> bjz: combinators associate to the left, but there's a way to break that rule
[20:51:18] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Ping timeout)
[20:51:31] <eddyb> void(int, int) is a function taking two integers and returning nothing
[20:51:43] <eddyb> a pointer to that is void(*)(int, int)
[20:51:52] *** Quits: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[20:52:30] <eddyb> effectively void(int, int)* but that's not valid C type grammar (why? idfk)
[20:52:38] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[20:52:57] *** Quits: hjr3_ (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:53:50] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[20:54:05] <eddyb> bjz: I think `int (*foo) *` is `int * *foo` (can't tell the difference because I don't have more than one pointer sigil to demonstrate)
[20:54:34] <eddyb> I guess `int (*foo) *bar` being `int *bar *foo` makes sense (where bar can be a qualifier, const maybe?)
[20:55:32] *** Quits: IanCormac84 (User@484F360D.2A8D8854.67DFF8B4.IP) (Ping timeout)
[20:55:34] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[20:56:07] *** Joins: IanCormac84 (User@9C72406D.64D641E5.67DFF8B4.IP)
[20:56:34] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:56:39] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:56:39] *** ChanServ sets mode: +o tjc
[20:57:00] <they> So, I'm still having a bit of trouble with rust. If someone could show me what's wrong with this code, I feel like I would have a good grasp on named lifetimes.
[20:57:03] <they> https://gist.github.com/9842792
[20:57:18] <they> I'm just trying to return a vector with the contents of everything but the first element of a vector.
[20:57:39] <eddyb> they: the return is redundant
[20:57:48] <they> Oh, right.
[20:57:57] <eddyb> they: the 'a in the & expression doesn't do anything
[20:58:04] *** Joins: philix (felipe@moz-C93EBCC.user.veloxzone.com.br)
[20:58:22] <they> On the line with match?
[20:58:24] <eddyb> you don't handle the empty case
[20:58:27] <eddyb> they: yes
[20:59:03] <eddyb> they: ah, cdr. not much to do with named lifetimes, I'm afraid
[20:59:20] <eddyb> cdr is .tail().unwrap() (the unwrap can fail)
[20:59:22] <they> Well, I needed it for my "car" function.
[20:59:41] <they> Or else I got a lifetime error.
[20:59:43] <eddyb> what did you need?
[20:59:50] <they> Named lifetimes.
[21:00:00] *** Joins: sebcrozet (sebcrozet@moz-70920872.fbx.proxad.net)
[21:00:01] <eddyb> well, you still need them
[21:00:07] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[21:00:11] <eddyb> but there's nothing intricate going on
[21:00:21] <eddyb> just the most basic usage of them
[21:00:33] <they> Also, I know that I can do .tail().unwrap. I'm just doing this as an educational exercise (and to eventually port a library into Rust).
[21:00:39] <they> I just can't figure out what the type checker wants.
[21:01:01] <eddyb> they: remove the &'a from the match
[21:01:07] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:01:07] <Luqman> 23
[21:01:11] <eddyb> handle the empty case
[21:01:20] *** Quits: astroch (astroch@moz-AE78D1B9.dhcp.embarqhsd.net) (Ping timeout)
[21:01:28] <eddyb> (by failing, I'd assume)
[21:01:30] *** Joins: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[21:01:32] <they> I did, now I'm getting an error saying that the arms expect "T" but get "&'a [T]".
[21:01:48] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[21:01:55] <eddyb> they: [a] => a is wrong, that's where you're getting an error from
[21:01:59] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[21:02:01] *** Joins: astroch (astroch@moz-46285397.dhcp.embarqhsd.net)
[21:02:13] <they> So... What matches a singleton?
[21:02:16] <they> Sorry, used to Haskell.
[21:02:26] <maxiepoo> what does 'unmatched visibility `pub`' mean?
[21:02:40] <they> Like, a vector with one element.
[21:02:40] <Tobba> is there anything in in collections I could use for finding unused IDs in a few places?
[21:03:45] <mcpherrin> they: try [a] => v
[21:03:48] <eddyb> nope
[21:03:58] <eddyb> they: you don't need to handle one element
[21:04:05] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[21:04:07] <eddyb> they: [a, ..rest] already covers the one element case
[21:04:18] <eddyb> they: you need to handle the *zero* element case
[21:04:54] <they> Okay. Now that I did that, I'm getting a problem on my [a,..rest] match.
[21:04:55] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:04:55] *** ChanServ sets mode: +o tjc
[21:04:59] <they> Which is what I was trying to avoid at first.
[21:04:59] <eddyb> (in OOP and/or systems programming, "singleton" refers to a type which has only one instance ever, that was confusing)
[21:05:05] <eddyb> they: what problem?
[21:05:16] <they> Saying "acannot move out of dereference of & pointer".
[21:05:25] <eddyb> hmm
[21:05:29] <eddyb> they: can see the code?
[21:05:33] <mcpherrin> they: http://pastebin.mozilla.org/4714471
[21:05:37] <they> I'll post it.
[21:05:57] <eddyb> mcpherrin: still wrong
[21:06:02] <mcpherrin> eddyb: WFM?
[21:06:04] <eddyb> mcpherrin: ..rest can be zero-sized
[21:06:19] <eddyb> there is no need to handle the one element case separately
[21:06:37] <eddyb> and the zero-element case can just be &[] which is static IIRC
[21:06:42] <eddyb> rusti: &0
[21:06:42] -rusti- 0
[21:06:46] <eddyb> rusti: {&0}
[21:06:46] -rusti- 0
[21:06:49] <eddyb> hmpf
[21:06:52] <kimundi> eddyb: Thats not called "wrong", just "redundant".
[21:06:58] <eddyb> kimundi: it won't compile
[21:07:04] <eddyb> hence, wrong
[21:07:25] <mcpherrin> eddyb: What I pasted compiles and runs so not wrong :P
[21:07:30] <they> https://gist.github.com/anonymous/9843009
[21:07:32] <they> That's the code.
[21:07:35] <they> Line 3 gets the error.
[21:07:40] <eddyb> mcpherrin: wait, what? sounds like a bug to me
[21:07:53] <mcpherrin> eddyb: rustc 0.10-pre (c83994e 2014-03-26 16:37:03 -0700)
[21:07:57] <eddyb> :S
[21:07:59] <kimundi> eddyb: why would it be a bug?
[21:08:03] <mcpherrin> they: [_, ..rest] instead
[21:08:09] <they> Alrighty. Thanks.
[21:08:11] <eddyb> they: what error?
[21:08:15] <eddyb> kimundi: overlapping patterns
[21:08:26] *** Joins: heftig (heftig@moz-AFBCCE51.dip0.t-ipconnect.de)
[21:08:32] <they> It works with the "_" instead of an "a".
[21:08:34] <kimundi> eddyb: Its called fall through, thats defined behavior :P
[21:08:40] *** Joins: lostbean (Mibbit@moz-C961B973.access.telenet.be)
[21:08:44] <they> Now I just get a warning, which I don't care about.
[21:08:47] <they> Thanks guys.
[21:08:48] <eddyb> kimundi: does it error if you reorder them?
[21:09:02] <eddyb> they: why did you get an error? aaah "a" was moving out. nevermind :)
[21:09:14] <they> I see why I got the error.
[21:09:17] <they> Laziness.
[21:09:22] <mcpherrin> eddyb: If I move the [_] => v; below the [_, ..rest] I do get an unreachable error.
[21:09:23] <they> 'a was the name of the named type.
[21:09:38] <eddyb> they: what named type?
[21:09:40] <they> I think it had something to do with that.
[21:09:51] *** Quits: lostbean (Mibbit@moz-C961B973.access.telenet.be) (Quit: http://www.mibbit.com ajax IRC Client)
[21:09:52] <eddyb> the lifetime? no, it's a different namespace
[21:09:57] <they> In the type signature. fn cdr<'a>
[21:10:04] <eddyb> that's a lifetime not a type
[21:10:29] <eddyb> they: the error was because, even though you weren't using a, matching it like that means it always moved out the first element
[21:10:30] <they> Right. But wouldn't there be a naming conflict between a local variable named 'a' and a lifetime 'a'?
[21:10:34] <eddyb> no
[21:10:36] *** Joins: sigma (sigma@moz-15A267A9.range109-152.btcentralplus.com)
[21:10:51] <they> It... Moved it out? Why would that be an issue?
[21:10:54] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[21:11:03] <eddyb> they: it would invalidate the first element
[21:11:16] <eddyb> rusti: *&~0
[21:11:16] -rusti- <anon>:10:9: 10:13 error: cannot move out of dereference of `&`-pointer
[21:11:17] -rusti- <anon>:10         *&~0
[21:11:17] -rusti-                   ^~~~
[21:11:17] -rusti- error: aborting due to previous error
[21:11:17] -rusti- application terminated with error code 101
[21:11:30] <mcpherrin> they: You don't own the vector being passed in, so you can't take ownership of an element of it
[21:11:38] <kimundi> they: The "a" in the pattern meant moving out the first value of the passed vector, which for a generic T would be a move, which is not allowed if you don't have owning access (Which you don't have through a &). "_" ignores it instead, so it doesn't try to move, and all is well.
[21:12:04] *** Joins: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com)
[21:12:07] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[21:12:09] <they> Huh. It's neat that it recognizes that.
[21:12:20] <eddyb> it's one of the safety features in Rust
[21:12:25] <kimundi> Indeed, its what makes Rust so awesome :)
[21:12:37] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[21:12:38] <they> I can see the utility in ownership types. They just suck for beginners.
[21:13:06] <eddyb> ownership produces efficient code
[21:13:13] <mcpherrin> they: indeed, some of my early rust code is in retrospect pretty terrible
[21:13:23] <mcpherrin> Since I solved most of my problems by copying things
[21:13:34] <kimundi> they: Yeah, one of Rusts hurdles is that you need to learn about ownership up front in order to sue the language, as its a integral part of it. :)
[21:13:40] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:13:42] <eddyb> compare FORTRAN (which has aliasing semantics not unlike Rust) with a GC-only scripting language
[21:13:44] <Havvy> Every language has its hurdles.
[21:13:46] <they> Yeah. Coming from Haskell, EVERYTHING is passed in by value and copied.
[21:14:07] <they> Weird having a language recognizing the concept of ownership.
[21:14:08] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[21:14:12] <they> Sounds great for systems programming, though.
[21:14:15] <eddyb> they: weird not to!
[21:14:20] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[21:14:27] <eddyb> (after getting used to it)
[21:14:59] <kimundi> they: Which works for haskell because everything is deeply immutable and garbage collected. Rust provides mutability and allocation control, so it gets messier.
[21:15:12] <eddyb> C++11 adds semantics which you can use to get the same efficiency as with by-value Rust
[21:15:31] <eddyb> but they're more complicated than Rust is
[21:15:44] <they> Too little too late. I'm convinced that Rust will dominate C++'s old market in 20 years.
[21:15:44] <eddyb> sure, you can get them right the tenth time, but it segfaults all the way there
[21:16:05] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[21:16:11] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[21:17:17] * eddyb wonders how bad pointer-chasing in FP languages is
[21:17:17] *** Quits: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[21:17:18] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[21:17:34] <eddyb> (on modern CPUs)
[21:17:47] <Tobba> || is short circuiting right?
[21:17:47] <Ms2ger> eddyb, you mean, ones that use linked lists all over?
[21:17:55] <Ms2ger> Tobba, correct
[21:18:00] <eddyb> Tobba: with one exception :P
[21:18:09] <Ms2ger> Closure?
[21:18:26] <o11c> slices > linked lists
[21:19:10] <eddyb> if a || b {...} cf clang is if a {...} else if b {...}
[21:19:42] <o11c> well, it doesn't duplicate the {...}
[21:19:53] <eddyb> in Rust, it's if {if a {true} else {b}} - wait, no, I can't use language to explain it :(
[21:20:10] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:20:18] <eddyb> Tobba: point is, in Rust it ends up doing | instead of || sometimes (and & instead of &&) while keeping the short-circuiting property
[21:20:37] <eddyb> Tobba: which leads to unoptimizable LLVM IR (#needsSMTsolver)
[21:20:51] *** Quits: sunfish (chatzilla@30A19522.A5F785DE.396E4C6D.IP) (Ping timeout)
[21:21:10] <seanmonstar> eddyb: is it like a guard operator?
[21:21:12] <seanmonstar> like in js?
[21:21:18] <eddyb> seanmonstar: no
[21:21:20] <seanmonstar> er, thatd be &&
[21:21:23] <seanmonstar> || is default
[21:21:26] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Quit: WeeChat 0.4.3)
[21:21:33] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[21:21:42] <Tobba> I wish I could have a module named type
[21:21:45] <Tobba> or proc
[21:22:14] <seanmonstar> mod crock {}
[21:22:18] <kimundi> Tobba: Just write it bachwards :P
[21:22:32] * Ms2ger crops kimundi 
[21:22:39] <Tobba> when you're implementing something that also has procs and types things get really meta
[21:22:51] <seanmonstar> do like python and js: klass
[21:22:52] <kimundi> mod dom; proc()crop; type epye = ();
[21:22:55] *** Joins: sunfish (chatzilla@30A19522.A5F785DE.396E4C6D.IP)
[21:23:16] <kimundi> I don't know which is worse: klass or clazz
[21:23:24] <eddyb> class jazz
[21:23:27] <seanmonstar> both are quite gross
[21:23:36] <kimundi> Clearly it should be crass
[21:23:38] <seanmonstar> but the z's feel groser
[21:23:48] <Tobba> I just prefix proc and type when I can and use typ if I cant name a var type
[21:23:59] <eddyb> Tobba: if you have two booleans a and b, if a && b {...} in Rust is equivalent to if a & b {...} in clang
[21:24:00] <Tobba> since thats sorta-readable
[21:24:06] <Tobba> yeah
[21:24:07] <eddyb> Tobba: sucked for my PNG decoder
[21:24:24] <eddyb> (that's what I was trying to point out earlier)
[21:24:26] <Tobba> that doesnt short circuit?
[21:24:26] <seanmonstar> eddyb: so its bitwise or?
[21:24:34] <seanmonstar> dangit
[21:24:35] <seanmonstar> AND
[21:24:36] <Tobba> that seems inconsistent
[21:24:36] *** Quits: sunfish (chatzilla@30A19522.A5F785DE.396E4C6D.IP) (Ping timeout)
[21:24:43] <kimundi> Tp be honest I don't see the difference here?
[21:24:45] <eddyb> Tobba: it does, when there's something to shortcircuit
[21:24:50] <Tobba> ah, right
[21:24:59] <eddyb> kimundi: if a && b {...} should be if a {if b{...}}
[21:25:01] <Tobba> I assumed you meant b was any expression that resulted in a boolean
[21:25:06] <eddyb> kimundi: different optimization results
[21:25:13] <eddyb> consider modulo stuff
[21:25:27] <NiccosSystem> eddyb, you guessed right :p Just messing around seeing if I can make a pseudo-MC server. 
[21:25:35] <eddyb> LLVM doesn't (and probably can't) propagate predicates
[21:25:38] <kimundi> eddyb: So, same semantic meaning, but different codegen with conditions and jump and stuff?
[21:25:41] <eddyb> NiccosSystem: read the mcdev wiki better
[21:25:46] *** Joins: sunfish (chatzilla@30A19522.A5F785DE.396E4C6D.IP)
[21:26:00] <eddyb> kimundi: not just codegen
[21:26:10] <seanmonstar> rusti: let num = 10 || 5; num
[21:26:10] <eddyb> kimundi: but propagation of conditions
[21:26:10] -rusti- pastebinned 11 lines of output: http://sprunge.us/jZAX
[21:26:10] <NiccosSystem> I read it many times, maybe I just skipped the big-endian part by accident
[21:26:22] <zwarich> eddyb: LLVM doesn't even do a great job of propagating comparison predicates, nevermind more general things
[21:26:31] <Ms2ger> eddyb, I don't understand. Is there a *behaviour* change?
[21:26:39] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Connection reset by peer)
[21:26:40] <eddyb> Ms2ger: a performance change
[21:26:54] <Ms2ger> eddyb, okay
[21:27:11] <NiccosSystem> Literally missed the first line of the Data Types page..
[21:27:26] <eddyb> if (x % 4) == 0 {x % 4} else {0} is optimized to 0
[21:27:53] <eddyb> use & or && in the condition, it isn't anymore (GVN makes it work even without proper propagation)
[21:28:03] <eddyb> && works for that purpose in clang, though
[21:28:04] *** Joins: mib_6okidp (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[21:28:14] <eddyb> so do nesting if's in Rust
[21:28:22] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:28:31] <Ms2ger> Or have eddyb fix rust :)
[21:28:56] <eddyb> Ms2ger: part of the issue is being fixed by doener with his i1 changes
[21:29:18] <eddyb> Ms2ger: I persuaded him to make things like Option<()> and Result<(), ()> act as LLVM booleans (i1)
[21:29:32] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[21:29:57] <eddyb> so all things isomorphic to enum bool {false, true} should be just as well optimized
[21:30:19] <eddyb> (more reason to require specific enums instead of using bools for flags)
[21:31:25] *** Quits: mib_6okidp (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:35:26] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[21:36:09] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[21:36:23] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[21:36:57] *** Quits: sunfish (chatzilla@30A19522.A5F785DE.396E4C6D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 28.0/20140317233501])
[21:38:15] *** Joins: Nekit1234007_ (Nekit12340@4005741D.E0484215.4707F662.IP)
[21:38:51] *** Quits: Nekit1234007 (Nekit12340@DEC494C7.E25DEE64.4707F662.IP) (Ping timeout)
[21:39:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Client exited)
[21:39:12] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[21:40:51] *** Quits: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au) (Ping timeout)
[21:40:54] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[21:41:41] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[21:41:55] <bvssvni> eddyb: that is a great idea
[21:42:19] <eddyb> bvssvni: coming soon to a master near you ;)
[21:42:24] <bvssvni> haha
[21:42:29] *** Joins: leowoe (Leo@moz-52508FC9.dip0.t-ipconnect.de)
[21:43:09] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:43:33] *** Quits: sebcrozet (sebcrozet@moz-70920872.fbx.proxad.net) (Quit: Gone)
[21:43:47] <bvssvni> eddyb: yesterday I got my first valid png output
[21:43:58] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[21:44:24] <bvssvni> considering writing a APNG library, for animated PNG images
[21:44:43] *** Joins: pha (pha@moz-7394714F.uddi.cable.virginm.net)
[21:45:06] <eddyb> bvssvni: definitely want support for that in rust-image (the name rust-png will have when I get around to that)
[21:45:08] *** Quits: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP) (Input/output error)
[21:45:22] <Ms2ger> rusty-mage?
[21:45:29] <eddyb> bvssvni: feel free to experiment and give me progress updates, in the meanwhile :)
[21:45:30] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[21:46:09] <bvssvni> libpng (the official standard) does not support APNG
[21:46:30] <bvssvni> it was pushed by mozilla devs
[21:46:40] <Ms2ger> Oh?
[21:46:53] <tiffany> libpng is the reference implementation, not the standard
[21:46:54] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[21:46:54] <bvssvni> the same group that made PNG has a MNG for animation
[21:47:06] <eddyb> bvssvni: rust-image will only have pure Rust implementations
[21:47:08] <bvssvni> tiffany: sorry, meant reference implementation
[21:47:12] *** Quits: tgkokk (user@moz-88CCC929.home.otenet.gr) (Ping timeout)
[21:47:25] <bvssvni> eddyb: so we can put what we want in there?
[21:47:38] <Ms2ger> Why not JNG?
[21:47:50] <eddyb> bvssvni: i.e. APNG? yeah
[21:47:57] <eddyb> I want Servo to support it :D
[21:48:14] <eddyb> bvssvni: not that it supports animation at all right now (GIFs are static) :P
[21:49:17] *** Joins: mihneadb (mihneadb@moz-B1FD148A.adsl-surfen.hetnet.nl)
[21:49:39] *** Quits: Ms2ger (Ms2ger@moz-4CB19774.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:50:29] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[21:50:49] <o11c> I used to be exciting about APNG and MNG
[21:50:51] <pcwalton> eddyb: the rust logo seems to be messed up a bit on reddit.com/r/rust
[21:51:21] <o11c> but really, javascript is the way to go ... if only there were a way to disable *most* javascript but allow "safe" stuff ...
[21:51:24] <tiffany> it'd be preferable to make embedded video less awkward than to push more animated image formats
[21:51:45] <o11c> also that
[21:52:06] <tiffany> there was a site that I forgot the name of which lets you upload a video and embed it elsewhere, with no obtrusive controls and also has gif fallback
[21:52:11] *** Joins: richo1 (richo@CA433C85.E2B9B422.1F001285.IP)
[21:52:18] <dpc> How do I return 2d array?
[21:52:20] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[21:52:31] <dpc> `-> [[T]]`   ?
[21:52:41] <bvssvni> dpc: Rust has only 1D
[21:52:55] <dpc> Well, I was using array of arrays ...
[21:52:56] *** Quits: mihneadb (mihneadb@moz-B1FD148A.adsl-surfen.hetnet.nl) (Ping timeout)
[21:52:57] <tiffany> ~[~[T]]
[21:52:59] <dpc> And it worked fine.
[21:53:11] <eddyb> pcwalton: hmm? I don't have anything to do with that - aaah, I see
[21:53:14] <bvssvni> dpc: yeah, but it's still 1D :P
[21:53:20] <eddyb> pcwalton: testing in Servo?
[21:53:29] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[21:53:32] <dpc> tiffany: Is ~[~[T]] ... efficient ?
[21:53:40] <eddyb> o11c: JS is slow though
[21:53:45] <dpc> bvssvni: Is it?
[21:53:50] <eddyb> dpc: not really. DST might allow ~[[T]]
[21:54:00] <dpc> Do I need to return ~ ?
[21:54:07] <tiffany> you might be able to do ~[[T, ..N]]
[21:54:17] <dpc> I was told that I should usually return the type, not owned box
[21:54:34] <tiffany> you don't have to, but you have to copy into the stack return address, and if you have a large array, this is wasteful
[21:55:00] <tiffany> well, if it's fixed size
[21:55:09] <bvssvni> dpc: it's nothing wrong with allocating large arrays on the heap
[21:55:15] <dpc> I thought that in Rust if I `-> T` the place for T will be allocated on stack already ...
[21:55:15] <tiffany> there's no such thing as [T] right now, they must be behind pointers or constant size
[21:55:25] <bvssvni> dpc: but you can "fake" 2D arrays with a 1D array
[21:55:30] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[21:56:00] <SiegeLord> Memory today is linear, so any 2D array is a "fake" :P
[21:56:01] <bvssvni> dpc: x + y * w
[21:56:05] <tiffany> I think that unless llvm inlines the function, there will be a copy for any return value
[21:56:11] <tiffany> I could be wrong though
[21:56:19] <dpc> bvssvni: Yeah, I know that. I do it every time in C.
[21:57:08] <dpc> But I guess [T] is not really a type, because it does not have a size, so it's impossible by the callee to allocate space on the stack for it.
[21:57:31] <dpc> Or it's unsized ...
[21:58:10] <bvssvni> dpc: it'll be a type when DST comes
[21:58:32] <dpc> And how do I allocate ~[~[T]] of run-time size?
[21:58:36] *** Joins: devbug (quassel@moz-8C40558B.bchsia.telus.net)
[21:58:47] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[21:58:52] <bvssvni> dpc: Vec<Vec<T>>
[21:59:01] *** Quits: sigma (sigma@moz-15A267A9.range109-152.btcentralplus.com) (Ping timeout)
[21:59:07] <dpc> bvssvni: This is to allocate it?
[21:59:13] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:59:43] <bvssvni> dpc: I believe Vec allocates, unless you do Vec::with_capacity(0)
[21:59:44] *** Joins: nszceta (nszceta@moz-BD0004B6.hfc.comcastbusiness.net)
[21:59:56] *** Joins: sigma (sigma@moz-15A267A9.range109-152.btcentralplus.com)
[22:00:11] <dpc> bvssvni: Ah, yes. But this is really a struct, not an array ...
[22:00:27] *** Quits: alonlevy (alon@moz-B6210BD6.red.bezeqint.net) (Ping timeout)
[22:00:49] <bvssvni> dpc: ~[T] is replaced by Vec<T> and ~[T] will be a fixed size under DST
[22:00:52] <dpc> Does Vec even has index operator?
[22:00:56] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[22:01:22] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[22:01:23] <dpc> bvssvni: Fixed in runtime or compilation time?
[22:01:28] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[22:01:43] <bvssvni> dpc: DST fixes in runtime
[22:01:58] <bvssvni> dpc: [T, ...n] fixes in compile time
[22:01:59] <Tari> when Index gets sorted out, Vec should support the indexing operator
[22:02:06] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:02:08] <bvssvni> good
[22:02:16] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[22:02:55] <dpc> What if I have a vector (array) that is allocated with constant size (but known at runtime, during creation)? Does it make any difference?
[22:03:25] *** Joins: m4rw3r (Mibbit@moz-254BF79A.a212.priv.bahnhof.se)
[22:04:01] <kimundi> dpc: Difference for what?
[22:04:03] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[22:04:16] *** Joins: mib_mbmg8m (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[22:04:45] <bvssvni> dpc: that is what DST is for, I think
[22:05:20] <dpc> Well ...
[22:05:41] <dpc> So I want to return ~[~[T]] (that does seem to work). But how do I allocate it again now?
[22:05:41] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[22:06:20] <bvssvni> dpc: ~T allocates on the heap
[22:06:39] <bvssvni> dpc: Vec<T> contains a pointer to the heap
[22:06:46] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Quit: )
[22:06:59] <kimundi> rusti: ~[~[1], ~[2, 3], ~[4, 5, 6]]
[22:07:00] -rusti- [[1], [2, 3], [4, 5, 6]]
[22:07:14] *** Quits: Savago (Savago@F7A245C3.E820043D.D4C04133.IP) (Quit: Savago)
[22:07:16] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[22:07:24] <dpc> http://sprunge.us/VSXd
[22:07:45] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[22:07:46] <dpc>  fn map<T>(&self, fill : T) -> ~[~[T]] { ~[ ~[ fill, .. self.height], .. self.width] }
[22:07:47] <kimundi> dpc: can use the repeat syntax for that
[22:07:51] <kimundi> can't
[22:07:56] <bvssvni> rusti: vec!(vec!(1), vec!(2, 3), vec!(4, 5, 6))
[22:07:57] -rusti- [[1], [2, 3], [4, 5, 6]]
[22:08:59] <kimundi> dpc: The repeat syntax is only for values than can be copied, and you can only repeat a compiletime fixed time (because it is the same expression as for a [T, ..N])
[22:09:01] *** Quits: richo1 (richo@CA433C85.E2B9B422.1F001285.IP) (Ping timeout)
[22:09:05] *** Quits: mib_mbmg8m (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:09:15] <bvssvni> dpc: it needs to be a constant expression
[22:09:23] <kimundi> dpc: you can use a library function to create the arrays in the correct number
[22:09:34] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:09:43] <kimundi> rusti: std::slice::from_fn(|i|, ~[i])
[22:09:43] -rusti- <anon>:10:32: 10:33 error: unexpected token: `,`
[22:09:44] -rusti- <anon>:10         std::slice::from_fn(|i|, ~[i])
[22:09:44] -rusti-                                          ^
[22:09:44] -rusti- application terminated with error code 101
[22:09:48] <kimundi> rusti: std::slice::from_fn(|i| ~[i])
[22:09:49] -rusti- pastebinned 11 lines of output: http://sprunge.us/HcHj
[22:10:12] <kimundi> rusti: std::slice::from_fn(5, |i| ~[i])
[22:10:12] -rusti- [[0], [1], [2], [3], [4]]
[22:10:34] <dpc> kimundi: Wouldn't this be slow? (just curious)
[22:10:46] <kimundi> rusti: std::slice::from_fn(5, |i| std::slice::from_fn(i, |i| i))
[22:10:47] -rusti- [[], [0], [0, 1], [0, 1, 2], [0, 1, 2, 3]]
[22:11:03] <kimundi> dpc: Its the fastest you'll get
[22:11:33] <Tari> that is to say, it should optimize well
[22:11:43] <bvssvni> dpc: if you want it faster, you can "fake" and reduce it to one allocation
[22:11:51] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:12:02] <kimundi> dpc: You can arrive at the same result with a number of different ways, but all amount to allocating a outer vector and allocating inner vectors for it
[22:12:38] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[22:14:12] <dpc> error: unresolved import: could not find `slice` in `std`.
[22:14:19] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[22:14:22] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[22:14:29] <kimundi> dpc: Probably old rust version.
[22:14:48] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:14:57] <kimundi> std::{vec, vec_ng} got recently renamed to std::{slice, vec}
[22:15:03] <dpc> Me? Old? :/ ... I compiled it yesterday I belive...
[22:15:15] <bvssvni> dpc: that's old :)
[22:15:21] <kimundi> But not that old
[22:15:28] <kimundi> The change is older than yesterday
[22:15:51] <kimundi> but if your std doesn'T contain a slice module then your code is not from yesterday ;)
[22:16:33] <kimundi> YOu are running master, right?
[22:16:39] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[22:17:54] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[22:18:19] <dpc> Yes.
[22:18:33] <bvssvni> dpc: can you gist some code?
[22:18:54] <bvssvni> dpc: probably just an error
[22:19:24] <dsrx> are those nightly builds as posted here https://mail.mozilla.org/pipermail/rust-dev/2014-March/009223.html signed in any way?
[22:19:29] <maxiepoo> so how do you actually construct a WordIterator?
[22:19:38] <Tari> I wasn't aware of the old vec becoming slice; is that just a matter of convenience for current users of ~[] until DST lands?
[22:20:02] <dpc> OK. My build broke on something weird and didn't install newer version
[22:20:07] <dpc> Sorry for confusion.
[22:20:24] <dpc> Is Rust meant to be build with make -jX   ?
[22:21:01] <mcpherrin> dpc: I always do, as do the buildbots
[22:21:02] <steveklabnik> you can, yeah
[22:21:11] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:21:18] <mcpherrin> though I have a sneaking suspicion it's a bit buggy when re-building
[22:21:20] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Client exited)
[22:21:21] <steveklabnik> dsrx: they are not signed. hopefully there will be checksums soon
[22:21:26] *** maxiepoo is now known as register
[22:21:35] <dsrx> steveklabnik: thanks! hope so too
[22:21:42] *** register is now known as maxipoo
[22:21:45] *** maxipoo is now known as maxiepoo
[22:22:01] <bvssvni> Tari: it is not a vector anymore since it is not growable
[22:23:01] <kimundi> rusti: "a bc def ghij".words()
[22:23:02] -rusti- pastebinned 8 lines of output: http://sprunge.us/GNJa
[22:23:17] <kimundi> rusti: "a bc def ghij".words().collect<~[&'static str]>()
[22:23:18] -rusti- <anon>:10:52: 10:55 error: unresolved name `str`.
[22:23:18] -rusti- <anon>:10         "a bc def ghij".words().collect<~[&'static str]>()
[22:23:18] -rusti-                                                              ^~~
[22:23:18] -rusti- error: aborting due to previous error
[22:23:19] -rusti- application terminated with error code 101
[22:23:20] <bvssvni> Tari: to avoid confusion I guess
[22:23:24] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[22:23:27] <Tari> bvssvni: and yet there are still functions like slice::append?
[22:23:28] <kimundi> rusti: "a bc def ghij".words().collect<~[&str]>()
[22:23:28] -rusti- <anon>:10:44: 10:47 error: unresolved name `str`.
[22:23:28] -rusti- <anon>:10         "a bc def ghij".words().collect<~[&str]>()
[22:23:29] -rusti-                                                      ^~~
[22:23:29] -rusti- error: aborting due to previous error
[22:23:29] -rusti- application terminated with error code 101
[22:23:33] <kimundi> ???
[22:23:52] <kimundi> Did we remove str while I wasn't looking?
[22:23:55] <bvssvni> rusti: "a bc def ghij".words().collect::<~[&str]>()
[22:23:56] -rusti- [a, bc, def, ghij]
[22:24:12] <bvssvni> colons
[22:24:14] <kimundi> maxiepoo: ^
[22:24:16] <dpc> mcpherrin: It seems so to me, too. Generally rust rebuilding (incremental) is broken.
[22:24:22] <kimundi> ... do'h
[22:24:44] <dpc> I hit a lot of problems that wen't away after "make uninstall; make" and sometimes wipping out everything.
[22:25:32] <mcpherrin> dpc: I don't have issues if I re-./configure and don't use -j
[22:25:33] <maxiepoo> thx
[22:25:50] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[22:25:50] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:25:56] *** Parts: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) ()
[22:25:59] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: willingc)
[22:26:10] <mcpherrin> dpc: that's not really scientific though.  Build systems and reliability is hard ;)
[22:26:17] <Tari> bvssvni: and as a more useful counterpoint, there's still an impl of OwnedVector<T> for ~[T]
[22:26:32] <dpc> mcpherrin: I know. I deal a lot with building systems. Makefiles hell...
[22:26:35] <Tari> so ~[] is still growable, hence my confusion
[22:26:56] <Tari> since I understood that [] was becoming fixed-size as you say
[22:27:00] <bvssvni> Tari: yeah
[22:27:19] <bvssvni> Tari: ~[T] will become fixed, so it is recommended to switch to Vec<T>
[22:27:22] <dpc> ~[] is basically a pointer to heap, so it can be reallocated
[22:27:43] <dpc> ~[] will become fixed? Will it still be pointing to heap?
[22:27:46] *** Quits: alex_abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[22:28:03] <bvssvni> dpc: that's what ~ does
[22:28:09] <bvssvni> dpc: owned pointer
[22:28:22] <mcpherrin> ~[T] will be less special, and will be more like ~( [T, ..n] )
[22:28:25] <dpc> So becoming fixed is only a type system constrain?
[22:28:26] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[22:28:30] <mcpherrin> for any n
[22:28:34] <mcpherrin> but fixed n.
[22:28:52] <mcpherrin> (if that makes any sense)
[22:28:55] <dpc> Is Vec final?
[22:29:14] <dpc> I mean, are there any major overhauls planed for it?
[22:29:22] <mcpherrin> Well the Index trait needs to be re-done
[22:29:23] <bvssvni> I like the move to Vec<T> because the ~[T] was weird semantically
[22:29:35] <mcpherrin> but Vec is close to finalish
[22:30:55] <maxiepoo> is there a stdlib way to go from [Option<A>] to Option<[A]> that would be None if any of the elements are None?
[22:31:20] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:31:30] <dpc> maxiepoo: Seems like a short fold invocation should do...
[22:31:52] *** Joins: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl)
[22:32:39] <bvssvni> maxiepoo: you can check with .iter().any( ... ) 
[22:33:05] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:33:05] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[22:33:09] <bvssvni> maxiepoo: for the conversion I am not so sure, perhaps .iter().map( ... ) and unwrap
[22:33:14] *** Joins: ramitos (ramitos@moz-7B19BD4D.rev.vodafone.pt)
[22:34:17] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:34:43] <Tari> .iter().map().take_while() should do the trick nicely
[22:35:06] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[22:35:14] <Tari> to ensure early termination if you hit any None
[22:35:15] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[22:35:16] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Client exited)
[22:36:02] <Tari> if the mapping operation is more expensive, iter().any() is probably more appropriate
[22:36:42] *** Quits: gwty (gwtypc@61574159.FA920D05.137C914F.IP) (Ping timeout)
[22:37:04] <maxiepoo> I'm just doing some simple parsing. First I split it into words and then I parse each word and I want the whole thing to be None if any of the words get parsed into None
[22:37:11] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[22:37:31] *** Quits: nszceta (nszceta@moz-BD0004B6.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:38:22] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[22:38:28] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Input/output error)
[22:38:49] <dpc> http://static.rust-lang.org/doc/master/index.html , why the crates are not sorted?
[22:39:41] <bvssvni> rusti: let x: [Option<int>, ..3] = [Some(1), Some(2), Some(3)]; if !x.iter().any(|&w| w == None) { Some(x.as_slice().iter().map(|w| w.unwrap()).collect::<Vec<int>>()) } else { None }
[22:39:42] -rusti- Some([1, 2, 3])
[22:39:46] *** Joins: pepper_chico (pepper_chi@EB1D9484.8A9E5939.F546FA5F.IP)
[22:39:47] <bvssvni> maxiepoo: ^
[22:40:17] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[22:40:50] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[22:40:50] <maxiepoo> that makes 2 passes over the array if everything is Some?
[22:40:55] <dpc> rusti: let x: [Option<int>, ..3] = [Some(1), None, Some(3)]; if !x.iter().any(|&w| w == None) { Some(x.as_slice().iter().map(|w| w.unwrap()).collect::<Vec<int>>()) } else { None }
[22:40:56] -rusti- None
[22:41:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:41:27] <dpc> maxiepoo: Seems so to me.
[22:41:32] <Tari> yeah, that will probably make two passes (hard to say with any certainty what the optimizer will do)
[22:41:41] <bvssvni> maxiepoo: if you are doing parsing the time you wait for the io is much longer than 2 passes
[22:41:43] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:42:11] <maxiepoo> I'm not worried about the performance really, I just think there must be a simpler solution
[22:42:23] <Tari> take_while() will only do one pass, where you can check the length of the output
[22:42:25] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[22:42:41] <Tari> if it's shorter than the input then you can return None
[22:42:45] <bvssvni> but it will also allocate if any is None
[22:42:50] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:42:57] <Tari> yes
[22:43:07] <bvssvni> so there are tradeoffs
[22:43:11] <maxiepoo> I just wrote the loop by hand
[22:43:30] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:43:38] *** Quits: twi (Adium@moz-CF950680.cust.vodafonedsl.it) (Ping timeout)
[22:43:48] *** Quits: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP) (Ping timeout)
[22:43:50] <maxiepoo> in Haskell this function is called sequence I believe
[22:44:17] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[22:44:40] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:44:55] *** jorendorff_away is now known as jorendorff
[22:46:26] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:46:57] *** Parts: krdln (krdln@moz-C271714F.dynamic.chello.pl) ()
[22:48:51] <m4rw3r> I was writing something similar for Result, and the comment about fold() made me try this: http://mibpaste.com/k8AGxY not sure about performance at all (especially since it does not stop on Err)
[22:49:10] *** Joins: twi (Adium@moz-429185BE.cust.vodafonedsl.it)
[22:49:41] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[22:49:42] *** Quits: twi (Adium@moz-429185BE.cust.vodafonedsl.it) (Connection reset by peer)
[22:50:08] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[22:50:17] <Tari> that appears to be very similar to what map().collect() would do
[22:50:50] <m4rw3r> would that be a better solution than fold()?
[22:50:57] *** Joins: twi (Adium@moz-429185BE.cust.vodafonedsl.it)
[22:51:15] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[22:51:15] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:51:18] <bvssvni> take_while would stop on ERr
[22:51:22] <Tari> I see the GHC implementation of Control.Monad.collect is expressed as a fold
[22:51:46] <Tari> but there must be allocations behind the scenes there too
[22:51:49] <pcwalton> brson: I have a feature request for bors
[22:51:50] <pcwalton> can we replicate this https://bug619558.bugzilla.mozilla.org/attachment.cgi?id=8398386
[22:52:00] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[22:52:00] *** Quits: IanCormac84 (User@9C72406D.64D641E5.67DFF8B4.IP) (Ping timeout)
[22:52:16] *** Joins: IanCormac84 (User@5302DE.2A8D8854.67DFF8B4.IP)
[22:52:33] <brson> pcwalton: lol
[22:52:55] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[22:52:58] *** Joins: Rym (y@87B8C6B4.BF8845BF.51C6DE68.IP)
[22:53:09] <brson> that is pretty fun
[22:53:16] <brson> is that a serious patch for tbpl?
[22:53:19] <pcwalton> actually that'd be great to do for acid2
[22:53:23] <pcwalton> brson: I dunno
[22:54:22] *** Quits: nkoep (nik@moz-7AB416BE.pool.mediaways.net) (Client exited)
[22:55:03] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[22:57:03] <bvssvni> I figured out the issue tracker on Github is brilliant for information by adding a tag for it (because you can search for it)
[22:57:12] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[23:01:37] *** kimundi is now known as zz_kimundi
[23:01:45] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[23:02:56] *** Quits: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl) (Client exited)
[23:03:37] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[23:04:22] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:05:02] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:05:25] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[23:06:46] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:11:59] <m4rw3r> thanks for the collect(), std::result::collect() did exactly what I needed, still new to this awesome language :)
[23:12:14] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:12:18] *** jorendorff is now known as jorendorff_away
[23:12:38] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[23:12:52] <hoverbear> m4rw3r: collect() is awesomeeee :)
[23:13:19] *** Joins: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP)
[23:13:19] <hoverbear> Is collections::hashmap::HashSet ordered or unordered?
[23:13:44] *** Quits: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP) (Input/output error)
[23:13:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:14:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:14:04] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[23:14:05] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[23:14:20] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[23:15:20] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[23:15:28] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:15:43] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:15:52] <bvssvni> hoverbear: it is based on HashMap, so it is likely unordered
[23:16:04] *** Joins: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP)
[23:16:11] <sfackler> it's unordered
[23:16:13] <hoverbear> bvssvni: Looks like it's unordered, but on multiple re-runs the ordering is constant.
[23:16:21] <sfackler> and randomly keyed
[23:16:31] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[23:16:36] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[23:16:44] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:16:46] <sfackler> if you make two hashsets and put the same data in them, they'll most likely iterate in different orders
[23:17:11] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[23:17:19] <hoverbear> sfackler: What if I put stdin data into a hashset, print it out via .iter(), then re-run it? I'm seeing the same ordering.
[23:17:26] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[23:17:38] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[23:17:57] <sfackler> rerun the iteration or the whole program?
[23:18:02] <hoverbear> The program
[23:18:58] <seanmonstar> during the the ~[T] to Vec<T> transition, is it at all possible to cast the former to later?
[23:19:24] <mcpherrin> No, their memory layouts are pretty different I think
[23:19:35] <dpc> http://sprunge.us/FbUF halp! T is enum 
[23:20:23] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[23:20:26] <sfackler> hoverbear: that seems wrong? it should be generating a new set of hash seeds every time it's constructed: https://github.com/mozilla/rust/blob/master/src/libcollections/hashmap.rs#L976
[23:20:27] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[23:20:27] <seanmonstar> dpc: can we see the function?
[23:20:48] <hoverbear> sfackler: Not sure myself. :S
[23:21:50] <cgaebel> is the task rng not getting seeded properly?
[23:21:57] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:22:00] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[23:22:01] <sfackler> if the task rng is being seeded the same between different program runs, that'd be a pretty bad bug in the rng infrastructure
[23:22:10] <sfackler> or your OS's entropy pool
[23:22:16] <dpc> pub fn map<T>(&self, fill : T) -> ~[~[T]] { slice::from_fn(self.width, |i| slice::from_fn(self.height, |_| fill)) }
[23:22:32] <cgaebel> rusti: HashMap::new()
[23:22:33] -rusti- pastebinned 11 lines of output: http://sprunge.us/ZdIQ
[23:22:33] <hoverbear> How can I compare to strings in such a way that it would be suitable for http://static.rust-lang.org/doc/master/std/slice/trait.ImmutableVector.html#tymethod.bsearch ?
[23:22:44] <seanmonstar> dpc: ah, you a vector filled with T
[23:22:47] <hoverbear> rusti: "a" > "b"
[23:22:47] -rusti- false
[23:22:50] <cgaebel> rusti: collections::HashMap::new()
[23:22:51] -rusti- <anon>:10:9: 10:34 error: cannot determine a type for this bounded type parameter: unconstrained type
[23:22:51] -rusti- <anon>:10         collections::HashMap::new()
[23:22:51] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~
[23:22:51] -rusti- application terminated with error code 101
[23:22:52] <hoverbear> rusti: "a" < "b"
[23:22:53] -rusti- true
[23:22:58] <cgaebel> rusti: collections::HashMap::<int>::new()
[23:22:59] -rusti- pastebinned 10 lines of output: http://sprunge.us/bajX
[23:23:07] <dpc> seanmonstar: ?
[23:23:15] <sfackler> hoverbear: a.cmp(b)
[23:23:27] <hoverbear> sfackler: Thank you sir
[23:23:31] <seanmonstar> dpc: woops, misread
[23:23:45] <hoverbear> rusti: "a".cmp("b")
[23:23:46] -rusti- <anon>:10:17: 10:20 error: mismatched types: expected `&&str` but found `&'static str` (expected &-ptr but found &'static str)
[23:23:46] -rusti- <anon>:10         "a".cmp("b")
[23:23:46] -rusti-                           ^~~
[23:23:46] -rusti- error: aborting due to previous error
[23:23:46] -rusti- application terminated with error code 101
[23:23:47] <dsrx> is there source for rusti somewhere?
[23:24:06] <bvssvni> rusti: "a".cmp(&"b")
[23:24:06] -rusti- <anon>:10:17: 10:21 error: mismatched types: expected `&&str` but found `&'static str` (expected &-ptr but found &'static str)
[23:24:06] -rusti- <anon>:10         "a".cmp(&"b")
[23:24:06] -rusti-                           ^~~~
[23:24:06] -rusti- error: aborting due to previous error
[23:24:07] -rusti- application terminated with error code 101
[23:24:24] <hoverbear> rusti &"a".cmp(&"b")
[23:24:29] <sfackler> rusti: "a".smp(& &"b")
[23:24:30] -rusti- pastebinned 11 lines of output: http://sprunge.us/TijP
[23:24:35] <sfackler> gah
[23:24:35] <cgaebel> rusti: let mut m = collections::HashSet::new(); for x in [1,2,3,4,5].iter() { m.insert(x); }; m
[23:24:36] -rusti- pastebinned 15 lines of output: http://sprunge.us/ILiU
[23:24:38] <sfackler> rusti: "a".cmp(& &"b")
[23:24:38] -rusti- Less
[23:24:40] <seanmonstar> dpc: still, you're trying to return `fill` in a closure, which moves it. you'd probably need to be cloning it
[23:24:56] <cgaebel> rusti: let mut m = collections::HashSet::new(); for x in [1,2,3,4,5].move_iter() { m.insert(x); }; m
[23:24:57] -rusti- pastebinned 7 lines of output: http://sprunge.us/PcKe
[23:25:17] <seanmonstar> dpc: related: http://static.rust-lang.org/doc/master/std/vec/struct.Vec.html#method.from_elem
[23:25:36] <bvssvni> dsrx: something like https://gist.github.com/bvssvni/9408082
[23:25:51] <cgaebel> rusti: let mut m = collections::HashSet::new(); for x in vec!(1,2,3,4,5).move_iter() { m.insert(x); }; m
[23:25:53] -rusti- {2, 1, 4, 3, 5}
[23:25:55] <cgaebel> rusti: let mut m = collections::HashSet::new(); for x in vec!(1,2,3,4,5).move_iter() { m.insert(x); }; m
[23:25:56] -rusti- {2, 5, 1, 3, 4}
[23:26:00] <cgaebel> looks random to me
[23:26:31] <sfackler> hoverbear: are you sure your OS's RNG hasn't been owned? :P
[23:26:39] <seanmonstar> dpc: Vec::from_elem(self.width, Vec::from_elem(self.height, fill)).as_slice() ?
[23:26:42] <hoverbear> sfackler: it's a mac, so no.
[23:26:44] <bvssvni> dsrx: if you use https://github.com/bvssvni/rust-empty you can type 'make rusti' to generate the script
[23:27:10] <dsrx> bvssvni: ah neat, thanks
[23:27:28] *** Joins: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net)
[23:27:28] <dsrx> I thought somehow there was a rust repl 
[23:27:36] <sfackler> hoverbear: try dumping what cgaebel put there into a file and run it a couple of times on your system
[23:27:54] <bvssvni> dsrx: ask strcat
[23:27:59] <cgaebel> rusti: HashSet::from_iterator(vec!(1,2,3,4,5).move_iter())
[23:27:59] <dsrx> i assume it runs in a sandbox somewhere
[23:28:00] -rusti- pastebinned 11 lines of output: http://sprunge.us/jQLT
[23:28:08] <hoverbear> sfackler: In all fairness, I was running it on a file with a quarter million records and I was only checking the last 10 or so
[23:28:14] <cmr> dsrx: https://github.com/thestinger/rust-playpen
[23:28:15] <cgaebel> rusti: collections::HashSet::from_iterator(vec!(1,2,3,4,5).move_iter())
[23:28:15] <dpc> seanmonstar: Cloning a an enum?
[23:28:16] -rusti- <anon>:10:9: 10:44 error: unresolved name `collections::HashSet::from_iterator`.
[23:28:16] -rusti- <anon>:10         collections::HashSet::from_iterator(vec!(1,2,3,4,5).move_iter())
[23:28:16] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[23:28:16] -rusti- error: aborting due to previous error
[23:28:17] -rusti- application terminated with error code 101
[23:28:20] <cmr> dsrx: https://github.com/thestinger/playpen
[23:28:21] *** Quits: m4rw3r (Mibbit@moz-254BF79A.a212.priv.bahnhof.se) (Quit: http://www.mibbit.com ajax IRC Client)
[23:28:28] *** Joins: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au)
[23:28:30] <seanmonstar> dpc: yea
[23:28:50] <seanmonstar> or, you could have a slice of pointers to said enum
[23:29:02] <dpc> I thought I already copied "fill" as it's pass-by-value...
[23:29:13] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[23:29:24] <cgaebel> rusti: collections::HashSet::from_iterator(vec!(1,2,3,4,5).move_iter())
[23:29:25] -rusti- <anon>:10:9: 10:44 error: unresolved name `collections::HashSet::from_iterator`.
[23:29:25] -rusti- <anon>:10         collections::HashSet::from_iterator(vec!(1,2,3,4,5).move_iter())
[23:29:25] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[23:29:25] -rusti- error: aborting due to previous error
[23:29:26] -rusti- application terminated with error code 101
[23:29:28] <cgaebel> what am I doing wrong here?
[23:30:25] <cmr> cgaebel: failing to recognize how associated functions work.
[23:30:36] <cmr> They are scoped by the trait, not the type that implements them.
[23:30:42] <cgaebel> oh. fail.
[23:30:42] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[23:30:43] <seanmonstar> dpc: you can see an equivalent function here: https://github.com/mozilla/rust/blob/master/src/libstd/vec.rs#L192-L201
[23:30:48] <seanmonstar> its using T.clone()
[23:30:57] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[23:32:12] <dpc> Yea, I tried clone() but T was not restriced with : Clone 
[23:32:19] <cgaebel> cmr: wait what? so how does it disambiguate the type?
[23:32:26] <bvssvni> cgaebel: http://static.rust-lang.org/doc/master/std/iter/trait.FromIterator.html
[23:32:29] <dpc> Now, callee compains that enum does not have a Clone trait implementatino.
[23:32:37] <dpc> How come enum type is not clonable?
[23:32:48] <seanmonstar> dpc: can you change pub fn map<T:Clone> ?
[23:32:49] <cmr> cgaebel: return type.
[23:32:55] <dpc> seanmonstar: I did.
[23:32:56] <cmr> cgaebel: it gets inferred.
[23:33:02] <cmr> notice it returns `Self`
[23:33:06] <cgaebel> well that's annoying..
[23:33:08] <bvssvni> cgaebel: so you call FromIterator::from_iterator::<HashSet ...>
[23:33:13] <cmr> no you can't.
[23:33:14] <dpc> seanmonstar: enum Tile { WALL, FLOOR } needs to have clone implmented. ..
[23:33:15] <seanmonstar> dpc: and the enum needs to impl Clone, or #[deriving(Clone)]
[23:33:25] <cmr> that type would be vec::Items
[23:33:42] <cmr> there's no way to explicitly tell it which implementation to use.
[23:33:42] <seanmonstar> dpc: #[deriving(Clone)] enum Tile { ... }
[23:33:49] <cgaebel> k that's silly.
[23:33:52] <dpc> Is there any set of all the derriving ... that I should use for basic types?
[23:33:52] *** Joins: brendan (brendaneic@5B9493BE.68EECDA4.4EA770CF.IP)
[23:33:54] <cgaebel> rusti: let mut m = collections::HashSet::new(); for x in vec!(1,2,3,4,5).move_iter() { m.insert(x); }; m
[23:33:55] -rusti- {4, 1, 3, 5, 2}
[23:33:58] <cgaebel> back to that. at least it works :/
[23:33:59] <dpc> How am I to write a library...
[23:34:01] <bvssvni> cgaebel: sorry
[23:34:17] <cmr> cgaebel: you're doing it wrong...
[23:34:26] <cgaebel> show me the right way, then!
[23:34:42] <cmr> rusti: let m: collections::HashSet = vec!(1, 2, 3, 4, 5).move_iter().collect(); m
[23:34:44] -rusti- <anon>:10:16: 10:36 error: wrong number of type arguments: expected at least 1 but found 0
[23:34:44] -rusti- <anon>:10         let m: collections::HashSet = vec!(1, 2, 3, 4, 5).move_iter().collect(); m
[23:34:44] -rusti-                          ^~~~~~~~~~~~~~~~~~~~
[23:34:44] -rusti- application terminated with error code 101
[23:34:50] <cmr> rusti: let m: collections::HashSet<uint> = vec!(1, 2, 3, 4, 5).move_iter().collect(); m
[23:34:51] <dpc> seanmonstar: Thanks. It works now.
[23:34:51] -rusti- {2, 5, 4, 3, 1}
[23:34:54] <seanmonstar> dpc: http://static.rust-lang.org/doc/master/rust.html#deriving
[23:35:18] <cgaebel> was hoping to not have an intermediate :(
[23:35:20] <cgaebel> oh well
[23:35:48] <dpc> seanmonstar: Thanks.
[23:35:49] <bjz> is libnative now default?
[23:35:52] <cmr> bjz: yes.
[23:36:08] <dpc> Finall question. Anyone aware of what is the best library to handle ascii graphics? ncurses / term etc....
[23:36:14] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[23:36:26] <bjz> if so, do we need to call native::start if we want to be on the main thread still?
[23:36:26] *** Joins: vadimcn (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net)
[23:36:37] <cmr> bjz: yes.
[23:36:47] <seanmonstar> dpc: i don't know at all, but there is libterm in rust
[23:36:50] <cmr> (probably not technically, but to be robust)
[23:36:56] <bjz> ah
[23:37:04] <seanmonstar> dpc: http://static.rust-lang.org/doc/master/term/index.html
[23:37:06] <dpc> seanmonstar: Yeah, I'm using it but it only can do colors etc.
[23:37:26] <cmr> dpc: libterm has an ANSI terminal wrapper around its terminfo parser.
[23:37:35] *** Quits: raisin (Mibbit@moz-7AD9232F.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:43] <mcpherrin> terminfo tells you how to move the cursor around and stuff
[23:37:51] <cmr> dpc: if you don't want to be using terminfo directly, there are ncurses bindings.
[23:37:53] <mcpherrin> pretty low-level really, but it gives you the basics
[23:38:45] <mcpherrin> pretty rough api too.
[23:39:35] *** Joins: nszceta (nszceta@moz-BD0004B6.hfc.comcastbusiness.net)
[23:40:35] *** Joins: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com)
[23:40:38] *** Quits: mye (mye@moz-37C41694.dip0.t-ipconnect.de) (Quit: sleep message)
[23:40:40] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[23:40:55] *** Quits: eibwen (kvirc@moz-565A1408.dip0.t-ipconnect.de) (Ping timeout)
[23:43:53] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[23:43:53] *** Quits: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[23:45:36] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: ...take irc away, what are you? genius, billionaire, playboy, philanthropist)
[23:45:56] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[23:48:59] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:50:46] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[23:51:19] <dpc> Is there a way to define conversion of one type to other?
[23:51:22] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:51:35] <dpc> So one can be used implicitly when the other is needed...
[23:51:59] <mcpherrin> There is no implicit conversion of types.
[23:52:54] <seanmonstar> if you give an example of what you want to do, it might be that `type` or generics or something else fits best
[23:52:56] <dpc> And I can't have function with the same name, and different arguments?
[23:53:09] <dsrx> dpc: nope
[23:53:12] <seanmonstar> dpc: theres no function overloading
[23:53:15] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[23:53:19] <seanmonstar> dpc: generics might help you though
[23:53:25] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[23:53:27] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[23:53:29] <dsrx> generics + traits :)
[23:53:53] <dpc> Yeah...
[23:54:14] <seanmonstar> such as your fn map<T: Clone>(), that will work on any object that implements Clone
[23:54:44] <seanmonstar> so you could pass your enum, or a &str, or whatever
[23:54:56] *** Quits: sigma (sigma@moz-15A267A9.range109-152.btcentralplus.com) (Client exited)
[23:55:58] *** Quits: arturo1 (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[23:56:13] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[23:56:36] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[23:58:37] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[23:58:58] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[23:58:59] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[23:59:09] *** Quits: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP) (Quit: Sharp)
