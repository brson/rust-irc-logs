[00:00:42] *** Quits: tikue_ (tikue_star@49825264.28259105.689607DE.IP) (Client exited)
[00:00:54] *** Joins: tikue_ (tikue_star@49825264.28259105.689607DE.IP)
[00:02:02] <strcat> you can get type names from the tydesc
[00:02:05] <strcat> if that's what you want
[00:02:12] <Amaranth> Oh?
[00:02:51] <strcat> rusti: use std::unstable::intrinsics::get_tydesc; unsafe { *(get_tydesc::<int>()).name }
[00:02:52] -rusti- <anon>:7:62: 7:88 error: attempted access of field `name` on type `*std::unstable::intrinsics::TyDesc`, but no field with that name was found
[00:02:52] -rusti- <anon>:7          use std::unstable::intrinsics::get_tydesc; unsafe { *(get_tydesc::<int>()).name }
[00:02:52] -rusti-                                                                        ^~~~~~~~~~~~~~~~~~~~~~~~~~
[00:02:52] -rusti- error: aborting due to previous error
[00:02:54] -rusti- application terminated with error code 101
[00:02:58] <strcat> rusti: use std::unstable::intrinsics::get_tydesc; unsafe { (*get_tydesc::<int>()).name }
[00:02:59] -rusti- error: internal compiler error: unexpected failure
[00:02:59] -rusti- note: the compiler hit an unexpected failure path. this is a bug
[00:02:59] -rusti- note: try running with RUST_LOG=rustc=1 to get further details and report the results to github.com/mozilla/rust/issues
[00:03:02] -rusti- "int"
[00:03:42] <strcat> rusti: use std::unstable::intrinsics::get_tydesc; fn name<T>(_: &T) -> &'static str { unsafe { (*get_tydesc::<T>()).name } } name(&5)
[00:03:44] -rusti- "int"
[00:03:52] <strcat> rusti: use std::unstable::intrinsics::get_tydesc; fn name<T>(_: &T) -> &'static str { unsafe { (*get_tydesc::<T>()).name } } name(&5.5)
[00:03:52] -rusti- "f64"
[00:04:42] <Amaranth> Well that'll work
[00:05:40] *** jorendorff is now known as jorendorff_away
[00:06:29] <jmgrosen> is it evaluated at compile time?
[00:06:38] *** Quits: riley_ (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[00:06:59] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[00:07:46] *** Quits: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net) (Ping timeout)
[00:08:08] <strcat> calling get_tydesc makes it output a tydesc data structure
[00:08:12] <strcat> if it hadn't already
[00:08:18] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:09:50] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[00:14:04] *** kimundi is now known as zz_kimundi
[00:15:23] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:16:32] *** Quits: xAndy (xandy@moz-E129C9.unity-media.net) (Ping timeout)
[00:19:23] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[00:20:28] *** Quits: alisdair (textual@moz-DBA2EB65.vc.shawcable.net) (Ping timeout)
[00:24:16] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[00:24:58] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:25:51] *** Quits: jordyd (jordyd@moz-2C974F36.seg154.ucf.edu) (Ping timeout)
[00:26:21] *** Quits: adam---- (adam@moz-D439942A.dsl.wchtks.swbell.net) (Quit: Leaving)
[00:28:25] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: Places to go, people to annoy)
[00:28:37] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[00:28:46] *** Quits: nkoep (nik@moz-58B371D.vpn.rwth-aachen.de) (Ping timeout)
[00:34:24] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Ping timeout)
[00:34:35] *** Joins: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net)
[00:34:54] *** Quits: jgilbert (jgilbert@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[00:37:08] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[00:37:31] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Quit: Leaving)
[00:38:34] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:42:50] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[00:43:30] *** Joins: nkoep (nik@moz-58B371D.vpn.rwth-aachen.de)
[00:43:56] <myname> interesting
[00:44:12] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[00:44:30] <myname> error: mismatched types: expected `[char, .. 9]` but found `&[char, .. 9]`
[00:44:41] <myname> code: #[deriving(Clone)]
[00:44:55] <myname> with an arrow to C
[00:45:41] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[00:46:12] <kmc> it's a bad error message, saying that it can't derive Clone because one of the fields is not Clone
[00:46:34] <kmc> (probably)
[00:46:42] <myname> well
[00:46:53] <kmc> fixed size arrays don't implement library traits because there's no way to make an impl generic over all sizes
[00:46:53] <myname> struct Board { cells: [char, ..9] }
[00:47:05] <myname> don't see why this shouldn't be copyable
[00:47:11] <myname> ah
[00:47:12] <myname> :(
[00:47:22] <myname> then what do i do
[00:47:30] <aatch> myname, ahh, yeah. I think that the Clone deriving impl doesn't handle those properly
[00:47:30] <jason_> use a ~[char] ?
[00:47:36] <aatch> myname, implement Clone by hand?
[00:47:54] <myname> is it just a clone method?
[00:48:01] <aatch> myname, yep
[00:48:04] <kmc> yep http://static.rust-lang.org/doc/master/std/clone/trait.Clone.html
[00:48:16] <aatch> the deriving attribute is just to avoid boilerplate
[00:48:47] <aatch> (since normally the clone method consists of calling clone on all the fields)
[00:49:00] <kmc> how do you copy a fixed size vector though? do you do a dummy initialization and then a copying loop?
[00:49:14] <kmc> it's a real limitation that we can't make code generic over all sizes
[00:49:20] <aatch> rusti: let a = [1,2,3]; b = a; (a,b)
[00:49:35] <aatch> Dammit.
[00:49:36] *** Joins: lfox (larryfox@moz-F9C0E858.nycmny.east.verizon.net)
[00:50:51] *** Quits: nkoep (nik@moz-58B371D.vpn.rwth-aachen.de) (Ping timeout)
[00:52:28] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[00:52:50] *** Joins: elifrey (peripateti@moz-B5928FE2.hsd1.wa.comcast.net)
[00:52:55] <aatch> Ok, that does work anyway
[00:53:21] <aatch> fixed-size vectors can at least be trivially copied (assuming that the type underneath is trivially copied)
[00:53:30] <devbug> I'm getting "missing create link meta `name/vers`, using `...` as default" errors, yet I am specifying them o.0
[00:53:44] <aatch> devbug, example?
[00:53:53] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[00:53:54] <aatch> it's possible you just messed up the declaration.
[00:54:23] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:54:30] <devbug> aatch: I'll paste my .rc
[00:54:47] <aatch> devbug, wait, .rc?
[00:54:54] <aatch> What version of Rust are you using?
[00:55:08] <aatch> .rc files are pretty much obsolete now.
[00:55:30] <devbug> aatch: 0.8
[00:55:46] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:55:54] <aatch> devbug, ok, well you don't need a seperate .rc file. You can just have .rs
[00:56:04] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[00:57:08] *** Joins: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP)
[00:57:50] <devbug> aatch: meh, I still like it
[00:58:14] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:58:17] <aatch> devbug, fine, but it won't work with rustpkg
[00:58:17] <devbug> ugh, chrome won't sync my tabs
[00:58:29] <devbug> aatch: I don't care about rustpkg
[00:59:10] <aatch> devbug, anyway.
[00:59:24] <devbug> aatch: http://pastie.org/pastes/8388168/text?key=wyr9ffezxcxq0obrpssboq
[01:00:09] <devbug> Apparently semi-colons affect attributes
[01:00:16] <devbug> :S
[01:00:18] <aatch> devbug, they do
[01:00:32] <aatch> it's an unfortunate wart
[01:00:42] *** Quits: ruzu (ruzu@moz-2AAEC710.austin.res.rr.com) (Quit:  HydraIRC -> http://www.hydrairc.com <- Nine out of ten l33t h4x0rz prefer it)
[01:01:02] <devbug> aatch: Any idea where I'm screwing up?
[01:01:42] <devbug> oh god dammit
[01:01:57] <devbug> $^ instead of $@
[01:02:19] <luisbg> cmr, ping
[01:02:47] <aatch> devbug, ah.
[01:02:48] <aatch> lol
[01:03:00] <aatch> devbug, btw, I think zero.rs is obsolete now
[01:03:01] <cmr> luisbg: pong
[01:03:05] <cmr> aatch: devbug: it is
[01:03:07] <luisbg> cmr, hey! how are you?
[01:03:19] <cmr> luisbg: good, thanks.
[01:03:25] <devbug> cmr: Well, then, what do I need to update?
[01:03:30] <luisbg> cmr, have a minute to explain something to me?
[01:03:36] <cmr> luisbg: sure what's up?
[01:03:44] <devbug> I've added fixed stack attributes already
[01:04:02] <aatch> devbug, you just need to declare your own implementations for any lang-item attributes you use
[01:04:05] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:04:19] <devbug> aatch: luckly I'm not using any yet!
[01:04:19] *** Joins: jordyd (jordyd@moz-3025335D.seg33.ucf.edu)
[01:04:26] <aatch> lang-item... things. you know what I mean
[01:04:28] <devbug> I assume I'll get _cryptic_ errors when I do
[01:04:38] <aatch> devbug, I don't think so actually
[01:04:39] <luisbg> cmr, https://github.com/mozilla/rust/blob/master/src/libextra/time.rs#L669
[01:04:47] <luisbg> cmr, what is the type of rdr and where does it come from?
[01:04:54] <aatch> I'm pretty sure it'll just be "cannot find lang_item xxx" or similar
[01:04:57] <devbug> aatch: The crpytic part, or the error part?
[01:05:06] <aatch> devbug, the cryptic part.
[01:05:14] <devbug> aatch: =)
[01:05:20] <aatch> I mean, as non-cryptic as error messages in rust get, anyway.
[01:05:25] <devbug> lol
[01:05:38] <devbug> Still beats GCC & templates
[01:05:45] <aatch> but it should point you in the right direction, rather than being a weird link-time error (or worse, runtime)
[01:05:54] <devbug> or forgeting to use g++ :P
[01:06:21] <aatch> devbug, ugh, that one gets me all the time.
[01:06:41] <devbug> aatch: That makes two of us :S
[01:06:52] <aatch> especially since clang++ is just a symblink for clang
[01:07:01] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[01:07:04] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[01:07:12] <cmr> luisbg: http://static.rust-lang.org/doc/master/std/io/fn.with_str_reader.html
[01:07:16] <cmr> luisbg: @std::io::Reader
[01:07:38] <devbug> aatch: perhaps you need to open-source a compatibility clang++
[01:07:59] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[01:08:00] <devbug> that spews out rand()%26+'a'
[01:08:59] <devbug> The worst part though, really has to be that the errors show up at link-time.  The front-end doesn't even give you a god damn warning.
[01:09:14] <cmr> yeah, linker errors are the worst.
[01:09:15] *** Joins: nkoep (nik@moz-2AD6C587.pool.mediaways.net)
[01:09:31] <devbug> Not even a "Hmm. This appears to be C++ code.  Did you mean to compile with g++?"
[01:10:22] *** Joins: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net)
[01:10:44] <luisbg> cmr, cool. let me read that
[01:10:57] <aatch> I had one where g++ was complaining about an ambigious fn call, where the two options were, to me, the prototype and the implementation
[01:11:22] <devbug> How?!
[01:11:49] <aatch> devbug, the prototype was in extern C, the implemenation was not.
[01:11:56] <devbug> Ah.
[01:12:12] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[01:12:13] <aatch> Not that g++ made it obvious
[01:12:15] <luisbg> cmr, are you sure it isn't std::io::ReadUtil >
[01:12:17] <luisbg> ?
[01:12:58] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:13:10] <sfackler> luisbg: ReaderUtil is a trait that's automatically implemented for any Reader.
[01:13:20] <luisbg> sfackler, ooooh! I see
[01:13:52] *** Quits: heftig (heftig@moz-208CB75C.dip0.t-ipconnect.de) (Ping timeout)
[01:14:05] *** Quits: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP) (Client exited)
[01:14:14] <devbug> aatch: Were the displayed symbols not mangled?
[01:14:39] <aatch> devbug, it was a compiler error, not a link-time one, so no
[01:14:46] <devbug> aatch: hmm
[01:14:58] <devbug> aatch: did it not even specify linkage?
[01:15:08] <aatch> devbug, nope.
[01:15:09] <devbug> If not, then, 10/10.
[01:19:06] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:21:59] *** Joins: seanmonstar (seanmonsta@8C4EE5CE.65CB159.9D887C86.IP)
[01:22:03] *** Quits: elifrey (peripateti@moz-B5928FE2.hsd1.wa.comcast.net) (Quit: WeeChat 0.4.0)
[01:24:17] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:31:01] *** Joins: haxney (dan@moz-424CB7EB.cs.brown.edu)
[01:31:26] *** rhelmer_ is now known as rhelmer
[01:32:26] <devbug> hmm
[01:32:49] <haxney> What do I do about this error: "cannot move out of type `extra::future::Future<(~A,~A)>`, which defines the `Drop` trait"
[01:32:57] <devbug> So I `rustc ...` w/ #[no_mangle] and I can't link (it won't find the symbol)
[01:33:04] <haxney> I'm trying to unwrap a Future which holds a tuple
[01:33:14] <haxney> Code is here: https://gist.github.com/haxney/6894737
[01:33:17] <devbug> I objdump'd and grep'd for .text
[01:33:24] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:33:45] <devbug> My symbol isn't exported :S
[01:34:08] <aatch> devbug, are you using --lib?
[01:34:11] <devbug> aatch: yep
[01:34:20] <devbug> both the module & function are marked public
[01:34:41] <devbug> the mangled zero.rs symbols are showing up
[01:36:04] <devbug> hmm
[01:36:06] <devbug> odd
[01:36:24] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[01:36:32] <devbug> If I remove the no_mangle attribute and compille, then I get a compiler error.
[01:36:41] <devbug> (I have a syntax error)
[01:36:57] <devbug> However, I don't get any error when compiling w/ no_mangle
[01:37:26] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[01:41:33] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:44:56] <Luqman> devbug: gist?
[01:44:56] <SimonSapin> #9248 is only for \0, not full octal escapes, right?
[01:45:10] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[01:45:17] <SimonSapin> rusti: "/0"
[01:45:20] <SimonSapin> rusti: "\0"
[01:45:51] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[01:47:06] *** Quits: lerc (quassel@B2E8CAD3.A8D14E52.788638A4.IP) (Ping timeout)
[01:47:08] <devbug> Luqman: I'll try and make a repo case
[01:47:30] <devbug> Don't hold your breath, though; I'm most likely doing something stupid.
[01:47:55] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[01:48:10] <Luqman> devbug: that's fine
[01:49:01] *** Joins: lerc (quassel@B2E8CAD3.A8D14E52.788638A4.IP)
[01:50:01] *** Quits: nkoep (nik@moz-2AD6C587.pool.mediaways.net) (Client exited)
[01:51:04] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[01:51:36] *** Quits: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP) (Ping timeout)
[01:52:07] <cmr> SimonSapin: yes.
[01:53:33] *** Quits: lfox (larryfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:54:54] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:55:24] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:56:14] *** Quits: tikue_ (tikue_star@49825264.28259105.689607DE.IP) (Ping timeout)
[01:56:24] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[01:56:36] *** Joins: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP)
[01:58:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:00:52] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[02:00:56] *** Joins: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net)
[02:01:21] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:02:40] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[02:03:04] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:04:46] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[02:04:47] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[02:08:39] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[02:19:10] *** Joins: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP)
[02:21:08] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:27:37] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[02:32:01] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[02:32:46] *** Quits: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP) (Client exited)
[02:33:03] *** Quits: zz_kimundi (kimundi@moz-8F5873D8.dip0.t-ipconnect.de) (Ping timeout)
[02:36:13] *** Joins: zz_kimundi (kimundi@moz-2C31D0BE.dip0.t-ipconnect.de)
[02:36:35] *** zz_kimundi is now known as kimundi
[02:41:32] *** Joins: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP)
[02:46:23] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[02:47:06] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[02:47:17] *** Parts: snerd (motk@moz-E535583C.nonstopcrunchy.net) ()
[02:48:35] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[02:49:57] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[02:57:02] *** Quits: doublec (chris@moz-EC11DA4D.members.linode.com) (Quit: leaving)
[02:57:23] *** Joins: mib_seyjte (Mibbit@moz-7E8D04B.socal.res.rr.com)
[02:57:42] *** Quits: mib_seyjte (Mibbit@moz-7E8D04B.socal.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[02:57:48] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:02:11] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:06:44] <haxney> What do I do about "capture of moved value" when trying to spawn a task? I'm trying to create a closure over some passed-in functions
[03:06:46] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Connection reset by peer)
[03:07:04] *** Joins: timot_ (timot@moz-3B3A0794.cust.tele2.se)
[03:07:16] <cmr> haxney: https://github.com/mozilla/rust/wiki/Doc-under-construction-FAQ
[03:08:25] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[03:11:53] <haxney> cmr: I still get an error about use of moved value when creating the Cell
[03:12:20] <cmr> haxney: hm. can you use spawn_with at all?
[03:12:38] <haxney> cmr: spawn_with gives the same problem
[03:13:11] <haxney> cmr: code is here https://gist.github.com/haxney/6894737
[03:13:22] <haxney> cmr: the problem is in `specfold`
[03:13:48] <cmr> haxney: I don't have time to help right now, sorry :(
[03:14:07] <haxney> cmr: np
[03:14:18] *** Joins: PorcoW (Mibbit@2024A22E.6F394727.CAA45FA1.IP)
[03:14:32] <haxney> cmr: it's a closure that I'm trying to pass in, might that have something to do with it?
[03:14:42] *** Quits: PorcoW (Mibbit@2024A22E.6F394727.CAA45FA1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:15:02] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[03:15:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:18:22] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[03:20:16] *** Joins: bigmonachus (sglez@E19C1D7A.4B605195.A208C5.IP)
[03:22:11] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[03:22:47] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[03:24:45] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[03:26:02] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[03:26:15] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:26:52] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[03:31:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:32:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:33:03] *** Quits: bigmonachus (sglez@E19C1D7A.4B605195.A208C5.IP) (Quit: Leaving)
[03:34:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:34:25] <aatch> haxney, the problem is that the compiler doesn't know that the closure in Future::spawn only runs one
[03:34:27] <aatch> once*
[03:34:28] *** Quits: Jesin (Jessin_@moz-B0698978.cc.lehigh.edu) (Input/output error)
[03:35:17] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Input/output error)
[03:35:35] <aatch> so it prevents you from moving stuff out of it. You can use a Cell to work around it.
[03:35:44] <aatch> It's not too pretty, but it works.
[03:37:26] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[03:38:21] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[03:38:48] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[03:40:33] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[03:41:20] <haxney> aatch: I ended up using a "dummy" closure passed to `spawn_with`
[03:42:17] <haxney> Also, I'm trying to access a vector of Futures, but getting "error: use of partially moved value"
[03:44:40] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[03:45:14] <aatch> haxney, that's because calling unwrap on the future moves it, so it's moved out of the vector.
[03:46:14] <haxney> aatch: what if I have a vector of ~Future objects?
[03:46:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:46:32] <aatch> haxney, same thing, since `~T` also moves
[03:46:57] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[03:47:12] <haxney> aatch: So is there a way to make use of a vector of `Future`s somehow? In the message, it says "(use `ref` to override)"
[03:47:37] <haxney> Are there examples of how to use `ref`?
[03:47:49] <aatch> haxney, oh, right. Sorry, no, it's the binding.
[03:48:11] <aatch> you want let(_, ref previous) = ...
[03:48:17] <haxney> `ref` is mentioned only once in the rust manual, in 7.2.22
[03:49:02] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[03:49:10] *** Quits: StarLight (StarLight@moz-4FA7CF40.dynamic.avangarddsl.ru) (Ping timeout)
[03:49:20] <aatch> haxney, ok. Also, you'll need a Send bound on A
[03:49:46] <aatch> to use Future::spawn
[03:50:43] <aatch> And since A has Clone already, you can replace the .unwrap() with .get()
[03:51:33] <haxney> aatch: should I have Futures or ~Futures in the vector?
[03:52:03] <aatch> haxney, just a ~[Future] should be fine
[03:53:06] <haxney> I've updated the gist https://gist.github.com/haxney/6894737
[03:53:29] <haxney> I was able to get `spawn_with` to work without adding a Send bound on A
[03:53:29] *** Joins: StarLight (StarLight@moz-6DF8C9A9.dynamic.avangarddsl.ru)
[03:54:41] <aatch> haxney, hmm, odd. Oh well.
[03:55:11] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131007213254])
[03:59:33] *** Joins: heftig (heftig@moz-208CB75C.dip0.t-ipconnect.de)
[04:15:06] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:15:14] *** Joins: ruzu (ruzu@moz-2AAEC710.austin.res.rr.com)
[04:16:11] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[04:16:12] <ruzu> a ha.  rtfm i guess.  i couldn't get rust working under mingw... until i followed the instructions to "mingw-get upgrade "g++<4.6"" ... i guess the newer compiler isn't supported yet
[04:16:21] <ruzu> exciting.
[04:20:14] <klutzy> ruzu: g++ 4.8 should work. we have patches for latest mingw for that
[04:20:46] <klutzy> maybe `mingw-get upgrade` installed g++ which was not present before?
[04:20:56] *** Joins: mib_cfgjtx (Mibbit@96AC98ED.4BDE79FD.86CC3CCD.IP)
[04:23:38] <haxney> aatch: now I'm getting problems with closures as arguments not fulfilling `Send`.
[04:23:57] *** Quits: pepper_chico (pepper_chi@moz-29CFA00C.dsl.telesp.net.br) (Quit: Ex-Chat)
[04:24:17] <aatch> haxney, ah. I was surprised it worked without it.
[04:24:22] <haxney> I'm trying to "borrow" the closure as in https://github.com/mozilla/rust/wiki/Doc-under-construction-FAQ
[04:24:37] <haxney> aatch: Yeah, I think it was just further down the error list :)
[04:24:58] <haxney> aatch: I've updated the gist
[04:25:33] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:25:38] <haxney> I tried doing `let lb = |i, a| loopBody(i, a);` and then using that, but no dice
[04:27:23] *** Quits: jordyd (jordyd@moz-3025335D.seg33.ucf.edu) (Quit: Leaving)
[04:27:57] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:28:08] <aatch> haxney, try `let lb : ~fn(int, ~A) -> A = |i, a| loopBody(i, a);`
[04:28:28] <aatch> I don't think it will infer ~fn for a closure
[04:28:34] <aatch> unless it has too
[04:28:45] <aatch> (so passing it to a ~fn param for example)
[04:29:18] <haxney> aatch: I get "error: capture of moved value"
[04:29:32] <haxney> aatch: to be more precise: "error: capture of moved value: `loopBody`"
[04:30:07] <haxney> Followed by: "note: `loopBody` moved into closure environment here because it has type `~fn:Send(int, ~A) -> A`, which is non-copyable (perhaps you meant to use clone()?)"
[04:30:37] <aatch> haxney, ah, the issue is that you're moving it into the closure.
[04:31:04] <haxney> aatch: is there any way to accomplish this?
[04:31:26] <aatch> haxney, not sure.
[04:32:52] <haxney> I guess I don't actually need to create a function, I could just use Future::from_value
[04:34:34] <haxney> aatch: Nope, that didn't make a difference
[04:35:15] *** Quits: canhtak (jeremy@moz-B3204E72.wl.t.ulaval.ca) (Quit: canhtak)
[04:37:12] <haxney> aatch: Oh, actually that did help! Now I'm just down to one error!
[04:38:11] <haxney> now, it's "error: instantiating a type parameter with an incompatible type `(&fn<no-bounds>(int) -> A,&fn<no-bounds>(int, ~A) -> A)`, which does not fulfill `Send`"
[04:38:52] <aatch> haxney, yeah, that'll be tricky to fix
[04:39:02] <haxney> In spawn_with
[04:41:46] <haxney> aatch: Any idea how I can get it to implement Send?
[04:43:35] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[04:44:52] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[04:47:30] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[04:48:01] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:48:01] *** ChanServ sets mode: +ao dherman dherman
[04:49:32] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[04:49:39] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[04:54:24] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Input/output error)
[04:55:01] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[04:55:13] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[04:57:03] <haxney> aatch: I'll try asking the mailing list. Been pulling my hair out long enough for tonight.
[04:57:56] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[04:59:06] <dbaupp> haxney: they only way you can get Send is via ~fn, which apparently doesn't work... :(
[04:59:17] <dbaupp> *the
[05:00:13] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[05:00:39] <haxney> dbaupp: yeah, I have "let p: ~fn(int) -> A = |i| predictor(i);" and then try to use that in `spawn_with`, but I get a "use of moved value" when trying to create `p`
[05:01:01] <dbaupp> yeah
[05:01:18] <haxney> dbaupp: is there a way around this?
[05:01:34] <dbaupp> I think the "correct" method is to make predictor a function generator, i.e. predictor: &fn() -> ~fn(...) -> ..
[05:02:06] <dbaupp> and then you call this to create a new ~fn for each spawn_with
[05:02:23] <lex> Hi, student here. I'm  been trying to do something for a while, and I'm stumped. I'm trying to do something like the following `let mut flag = false; do 3.times() { do spawn { /* repeatedly check to flag has been changed to true */ } } /* more code */ flag = true;` I've been trying to use mutex's, but it hasn't been going well.
[05:02:47] <dbaupp> lex: are you using extra::arc::RWArc?
[05:03:00] <dbaupp> (if you're not, you should be :P )
[05:03:54] <lex> dbaupp: using RWArc won't introduce serialization? Although, I guess it doesn't really matter in this case...
[05:04:10] <dbaupp> it'll only be seriealised for the times you access it
[05:04:14] <haxney> dbaupp: Would that still allow it to close over variables of its own? I'd need it to close over i.e. a shared vector (possibly protected by an Arc)
[05:04:32] <dbaupp> haxney: I think so
[05:04:38] <lex> dbaupp: I'll try that though! Completely forgot that Arcs can be used with mutable data. Thanks!
[05:04:56] <dbaupp> haxney: the &fn() would close over the Arc, and then it would .clone it for each new ~fn
[05:05:23] <dbaupp> lex: they won't introduce any more serialisation than mutexes
[05:06:04] <dbaupp> lex: even less in some ways: RWArc allow multiple concurrent readers, so if your spawn'd tasks are just reading, they'll be running in parallel
[05:07:38] <haxney> dbaupp: It worked! A little annoying, though.
[05:08:13] <dbaupp> haxney: yeah, it is :(
[05:08:51] *** Quits: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net) (Quit: Leaving.)
[05:09:28] *** Joins: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net)
[05:09:30] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[05:11:16] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:12:10] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[05:18:14] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[05:26:41] *** Joins: steveklabnik (steveklabn@moz-E4698C6D.red.bezeqint.net)
[05:27:50] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:28:42] *** Quits: steveklabnik (steveklabn@moz-E4698C6D.red.bezeqint.net) (Ping timeout)
[05:29:11] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[05:30:41] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[05:36:13] *** Quits: haxney (dan@moz-424CB7EB.cs.brown.edu) (Quit: ERC Version 5.3 (IRC client for Emacs))
[05:37:43] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[05:37:46] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[05:38:32] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[05:40:20] *** Joins: lht (Mibbit@50A2CCDC.833B6CDE.45205B0D.IP)
[05:44:26] *** Quits: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro) (Ping timeout)
[05:47:30] *** Joins: snerd (motk@moz-E535583C.nonstopcrunchy.net)
[05:48:06] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[05:48:35] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:50:08] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[05:51:57] *** Joins: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net)
[05:53:34] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[05:56:47] *** Joins: Maulik (Mibbit@832A7695.35246D67.694094E0.IP)
[05:57:55] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[06:01:38] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[06:03:51] *** Quits: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net) (Quit: Leaving.)
[06:05:06] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:06:12] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[06:06:15] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Quit: BizarreCake)
[06:09:44] *** Quits: Maulik (Mibbit@832A7695.35246D67.694094E0.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:10:09] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[06:10:57] *** Joins: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[06:11:47] *** Joins: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[06:14:58] *** Quits: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[06:14:58] *** Quits: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[06:16:27] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[06:16:49] *** Joins: threecreepio (jdp@moz-1A9F0A3C.cust.bredband2.com)
[06:17:36] <bjz> has loop been removed completely? or just loop->continue?
[06:18:00] <bjz> somebody sent me a PR with loop {} -> while true {}
[06:18:13] <heftig> i think that's the next step
[06:18:13] <engla> loop is still there
[06:18:26] <engla> bjz: it's still just  loop { continue }
[06:18:28] *** Joins: Jackneill (Jackneill@moz-334ECB29.pool.digikabel.hu)
[06:19:18] <dbaupp> bjz: they're a little eager :P
[06:20:02] <bjz> :P
[06:22:40] <klutzy> actually rustc emits lint warning for "while true"
[06:23:16] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:23:21] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:23:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:25:14] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[06:25:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:26:39] *** Joins: minzh (Mibbit@AEC6E6CC.5CE80800.D2BA945D.IP)
[06:26:48] *** Joins: Ms2ger (Ms2ger@moz-9B97DF99.ugent.be)
[06:27:08] *** Quits: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net) (Ping timeout)
[06:30:01] *** Joins: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net)
[06:31:10] *** Quits: Jackneill (Jackneill@moz-334ECB29.pool.digikabel.hu) (Input/output error)
[06:32:05] *** Joins: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de)
[06:36:34] *** Quits: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net) (Quit: jeff_)
[06:41:09] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[06:46:37] *** flaper87|afk is now known as flaper87
[06:50:48] *** Joins: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[06:50:51] *** Joins: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[06:52:13] *** Joins: nrc (nrc@moz-3576D163.cable.virginmedia.com)
[06:53:39] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[06:53:39] *** ChanServ sets mode: +o tjc
[06:54:17] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Places to go, people to annoy)
[06:56:21] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[07:01:08] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[07:02:05] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:02:13] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[07:08:48] *** Joins: stevekla2nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[07:11:10] *** Quits: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net) (NickServ (GHOST command used by stevekla2nik))
[07:11:14] *** stevekla2nik is now known as steveklabnik
[07:11:20] *** Joins: bkircher (bkircher@moz-F5C4C7D6.adsl.alicedsl.de)
[07:11:22] *** Joins: stevekla2nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[07:15:42] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:18:42] *** Joins: mib_ig9ny1 (Mibbit@moz-4058A5B9.ge-0-2-0-712.arcnqu2.dk.customer.tdc.net)
[07:20:10] *** Joins: bheylin_ (brianheyli@moz-3D24C757.static.chello.nl)
[07:22:22] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[07:22:54] *** Quits: bheylin_ (brianheyli@moz-3D24C757.static.chello.nl) (Quit: bheylin_)
[07:24:16] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:26:17] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[07:27:54] *** flaper87 is now known as flaper87|afk
[07:28:08] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[07:28:20] <xentrac> su
[07:28:36] *** Quits: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[07:28:51] *** Quits: stevekla2nik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[07:28:51] *** Quits: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[07:30:07] *** Joins: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[07:31:44] *** Joins: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[07:31:54] *** Quits: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Quit: bye)
[07:32:01] *** Joins: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[07:33:59] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[07:34:03] *** Joins: victorporof (victorporo@A8FF5052.5E882C5.D111398B.IP)
[07:35:35] *** Quits: bkircher (bkircher@moz-F5C4C7D6.adsl.alicedsl.de) (Client exited)
[07:38:07] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[07:39:54] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:41:19] *** Quits: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[07:41:19] *** Quits: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[07:41:44] *** Joins: fabiand (fabiand@moz-251A2E26.adsl.alicedsl.de)
[07:42:17] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[07:43:13] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[07:48:30] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:50:10] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:54:02] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[07:58:20] *** Joins: mihneadb (mihneadb@986E6143.8CF5BBC3.89C0DD0D.IP)
[08:02:31] *** Joins: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[08:03:26] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:07:05] *** flaper87|afk is now known as flaper87
[08:07:38] *** Joins: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[08:08:00] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[08:11:10] *** Joins: Ferreus (ferreus@moz-B146B01D.dip0.t-ipconnect.de)
[08:11:33] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[08:20:49] *** Joins: engla_ (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[08:20:59] *** Quits: ofeldt (ofeldt@moz-85C8745C.dip0.t-ipconnect.de) (Ping timeout)
[08:21:29] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[08:24:33] *** Joins: ofeldt (ofeldt@moz-1999F869.dip0.t-ipconnect.de)
[08:24:34] *** Joins: bkircher (bkircher@moz-F5C4C7D6.adsl.alicedsl.de)
[08:27:59] *** Quits: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[08:28:05] *** Quits: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[08:32:53] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[08:34:55] *** Quits: bkircher (bkircher@moz-F5C4C7D6.adsl.alicedsl.de) (Client exited)
[08:35:01] *** Joins: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[08:35:12] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[08:35:12] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:35:29] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[08:40:05] *** Joins: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[08:42:30] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[08:42:58] *** Quits: mihneadb (mihneadb@986E6143.8CF5BBC3.89C0DD0D.IP) (Input/output error)
[08:43:09] *** Quits: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[08:43:17] *** Quits: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[08:43:27] *** Joins: mihneadb (mihneadb@986E6143.8CF5BBC3.89C0DD0D.IP)
[08:44:43] *** Joins: bheylin_ (brianheyli@moz-3D24C757.static.chello.nl)
[08:45:16] *** Quits: mihneadb (mihneadb@986E6143.8CF5BBC3.89C0DD0D.IP) (Ping timeout)
[08:48:04] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[08:49:00] <bholley> how do I make const and non-const versions of methods in Rust?
[08:49:12] <bholley> I have: fn reflector(&mut self) -> &mut Reflector;
[08:49:14] *** Joins: sebcrozet (sebcrozet@moz-3CE49532.lrde.epita.fr)
[08:49:16] *** Quits: sebcrozet (sebcrozet@moz-3CE49532.lrde.epita.fr) (Quit: Konversation terminated!)
[08:49:20] <bholley> but when I add: fn reflector(&self) -> &Reflector;
[08:49:25] <Ms2ger> You give them different names
[08:49:28] <bholley> I get: error: duplicate definition of value `reflector`
[08:49:33] <bholley> Ms2ger: really?
[08:49:34] *** Quits: bheylin_ (brianheyli@moz-3D24C757.static.chello.nl) (Quit: bheylin_)
[08:49:39] <Ms2ger> Yes
[08:49:41] <bholley> Ms2ger: that's...lame
[08:49:44] <Ms2ger> AIUI
[08:50:10] <bholley> Ms2ger: why can't we do something better?
[08:50:23] *** Quits: nrc (nrc@moz-3576D163.cable.virginmedia.com) (Ping timeout)
[08:50:44] <Amaranth> bholley: Because function overloading isn't a thing (yet?)
[08:50:57] *** Quits: heftig (heftig@moz-208CB75C.dip0.t-ipconnect.de) (Quit: Quitting)
[08:51:07] <Amaranth> Although iirc the name mangling is already setup for it
[08:51:26] <bholley> Amaranth: is that going to change in the language?
[08:51:26] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Quit: Konversation terminated!)
[08:51:31] * bholley sure hopes so
[08:51:41] *** Joins: heftig (heftig@moz-208CB75C.dip0.t-ipconnect.de)
[08:51:46] <Amaranth> bholley: Dunno, I know a lot of people want it though
[08:52:26] <bholley> Amaranth: do you know who'd know more about the plans?
[08:52:54] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[08:53:16] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Quit: anshin)
[08:53:23] <Amaranth> bholley: No but I'm betting all of them are asleep right now anyway
[08:53:30] <bholley> Amaranth: :-)
[08:54:28] <benh> I haven't heard anything about adding non-trait-based function overloading, I'd be surprised if it happens before 1.0 at least
[08:54:33] <kimundi> bholley: In general the devs take a very cautios approach to any scheme that might make it hard to understand which code is getting called where. Default paramteters, overloading etc are all demanded ever so often, but unless someone makes a detailed propsal with few issues that improves the situation, it won'T be in 1.0
[08:54:56] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Quit: Konversation terminated!)
[08:55:28] <Amaranth> Sounds like the same thing go devs say about generics.
[08:55:39] <bholley> kimundi: it seems like we could, at the very least, support const overloads
[08:55:53] <bholley> given the fact that immutability is so baked into the language
[08:56:19] <bholley> name-mangling every get_foopy with get_mut_foopy is pretty lame
[08:56:24] <dbaupp> bholley: it'd make the inference pretty weird and fragile, since & and &mut have very different semantics
[08:56:56] <Amaranth> You can give &mut to something that wants &, right?
[08:57:05] <kimundi> Yeah. & and &mut are way more different than uint and int
[08:57:17] <SiegeLord> Parametric mutability would be a better solution that overloading per se
[08:57:29] <SiegeLord> Anyway, isn't that what Mut is kind of for?
[08:57:31] <dbaupp> Amaranth: yes
[08:57:31] * bholley doesn't know what Parametric mutability is?
[08:57:44] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[08:58:33] <dbaupp> SiegeLord: that'd be pretty weird too: what happens when you explicitly want a & out of a &mut, i.e. fn foo(&'a param self) -> &'a param T, let mut x = ...; x.foo() // I want a &
[08:58:59] <dbaupp> SiegeLord: (assuming I understand what you're talking about :) )
[08:59:31] <SiegeLord> Which thing do you want to be &
[08:59:44] <dbaupp> the return value of foo
[08:59:58] <bholley> Amaranth: but that still doesn't help me if I have an immutable Foo and want to get an immutable Bar from it with foo.get_bar()
[09:00:04] <SiegeLord> I imagine you could do (&x).foo()
[09:00:09] <dbaupp> SiegeLord: if it just took the mutability of x, then it'd be a &mut
[09:00:23] <bholley> Amaranth: if I've declared a mutable get_bar()
[09:00:33] <bholley> Amaranth: and vice-versa of I've declared an immutable get_bar()
[09:01:02] <Amaranth> bholley: You want to automatically promote a & to &mut and call get_bar() with it?
[09:01:02] <dbaupp> SiegeLord: I guess that would work... it seems like it'd be making things complicated
[09:01:11] <bholley> Amaranth: no
[09:01:38] <bholley> Amaranth: if I have a &mut, I want to get a mutable version of the member
[09:01:42] <SiegeLord> dbaupp: Well, it's either that or slice/mut_slice
[09:01:49] <bholley> Amaranth: if I have a &, I want to get an immutable version of the member
[09:01:54] <Amaranth> Oh
[09:02:14] <SiegeLord> dbaupp: Again, not sure if Mut solves the problem... I don't quite get what it is
[09:02:16] <dbaupp> SiegeLord: the latter is "simple", but it does mean APIs double
[09:02:18] <Amaranth> Yeah that's actually more confusing than the kind of overloading I want
[09:02:32] <bholley> well, maybe let's step back
[09:02:57] <dbaupp> SiegeLord: Mut is different; it's @mut without the @, i.e. stepping around the type system but substituting dynamic failure when performing invalid operations
[09:03:16] <SiegeLord> I must be thinking of a different thing
[09:03:31] <SiegeLord> I was thinking of the proposal to simplify the Option API by strcat
[09:03:38] <SiegeLord> That's not using Mut then?
[09:03:51] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:03:58] <SiegeLord> Or did that only eliminate the by value/by ref duplication?
[09:04:22] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[09:04:23] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[09:04:24] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:05:13] <bholley> in the Servo DOM, we've got this trait called |CacheableWrapper|, which I've recently renamed to |Reflectable|. This trait is implemented by most DOM objects, and is the mechanism by which we reach the JS reflection of a Rust Object. The |Reflectable| trait has a method: |fn reflector(&mut self) -> &mut Reflector;|.
[09:06:28] <bholley> Reflector has two methods: |pub fn get_jsobject(&self) -> *JSObject| and |pub fn set_jsobject(&mut self, object: *JSObject)|
[09:07:01] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[09:07:22] <bholley> if I have some immutable Rust DOM object, it would be great if I could invoke something like the following: dom_object.reflector().get_jsobject()
[09:07:37] <bholley> but currently, I have to force the thing to be mutable just to access the Reflector
[09:08:03] <bholley> even if, eventually, I just want to invoke an immutable-safe method on the resulting Reflector
[09:08:07] <bholley> this seems pretty lame
[09:08:11] <bholley> am I designing this wrong?
[09:08:52] <benh> I also don't like it and/or am designing wrong ;)
[09:09:10] <Ms2ger> The way that's usually solved would be to have reflector(&self) -> &Reflector and mut_reflector(&mut self) -> &mut Reflector
[09:09:27] <Ms2ger> (From the bit of servo code I've seen)
[09:10:34] <bholley> Ms2ger: yeah, which isn't great :-(
[09:10:51] <SiegeLord> I wonder if a Rust code fuzzer might be a great idea for Rust
[09:10:55] <Ms2ger> *shrug*
[09:11:40] <bholley> Is there a mailing list where I can bring this up?
[09:11:50] <SiegeLord> Like CSmith
[09:12:12] <SiegeLord> Probably a bit harder due to all this borrowed pointer nonsense ;)
[09:14:22] <SiegeLord> Doesn't look like such a program exists for C++, so likely it is a hard problem
[09:14:36] *** Quits: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr) (Ping timeout)
[09:15:04] *** Joins: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr)
[09:16:01] *** Joins: mihneadb (mihneadb@9767A681.677AFCF3.5BC07656.IP)
[09:16:52] *** Quits: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr) (Ping timeout)
[09:16:54] *** Joins: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr)
[09:17:07] <SiegeLord> Looks like it even existed... before bitrotting and getting removed a few months ago
[09:17:19] *** Joins: victorporof_ (victorporo@A8FF5052.5E882C5.D111398B.IP)
[09:17:38] *** Quits: victorporof (victorporo@A8FF5052.5E882C5.D111398B.IP) (Ping timeout)
[09:18:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[09:21:39] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[09:24:35] *** Parts: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) ()
[09:29:55] <benh> I'm fairly sure I read about some people using a fuzzer to test their static C++ analyzer, but it might not have been publicly released
[09:31:53] *** kimundi is now known as zz_kimundi
[09:36:52] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[09:37:05] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:39:40] *** Quits: mihneadb (mihneadb@9767A681.677AFCF3.5BC07656.IP) (Input/output error)
[09:41:16] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[09:41:43] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:42:08] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[09:43:34] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[09:45:42] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:46:13] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[09:46:39] <bjz> what's the reasoning behind c_int mostly being an alias to i32?
[09:49:13] <hansjorg> anybody else having problems with #[feature(globs)]?
[09:49:15] <Ms2ger> Isn't int in c mostly an alias to int32_t?
[09:49:30] <Amaranth> Isn't it meant to be an alias for whatever int means in C on your platform?
[09:49:48] <Amaranth> Which for most people means int32_t which means i32
[09:52:43] <kaeso> https://wiki.debian.org/ArchitectureSpecificsMemo
[09:53:23] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[09:54:46] <heftig> are there relevant platforms using ILP64?
[09:57:01] *** Quits: derboi_c (derboi_c@5D958CB2.DF3CA0D0.BA2F4534.IP) (Ping timeout)
[09:59:25] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[10:01:24] *** Joins: derboi_c (derboi_c@4BFE84A0.C20AE592.BA2F4534.IP)
[10:02:49] *** Quits: lht (Mibbit@50A2CCDC.833B6CDE.45205B0D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:04:57] *** Joins: graememcc (chatzilla@moz-CE628128.range81-157.btcentralplus.com)
[10:05:33] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Quit: z0w0)
[10:05:52] *** Quits: StarLight (StarLight@moz-6DF8C9A9.dynamic.avangarddsl.ru) (Ping timeout)
[10:06:02] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[10:08:22] *** Joins: nkoep (nik@moz-F97E4EB2.pool.mediaways.net)
[10:10:00] <dbaupp> bholley: https://mail.mozilla.org/listinfo/rust-dev
[10:10:41] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[10:10:42] <bholley> dbaupp: yeah, I found it a little while ago and sent mail, though it's still waiting for moderator approval ;-)
[10:11:05] <dbaupp> bholley: ok :)
[10:11:10] <bholley> dbaupp: thanks ;-)
[10:14:47] <hansjorg> I'm trying to fix some code that's using glob import statements, but adding #[feature(globs)] doesn't seem to have any effect
[10:15:11] <dbaupp> hansjorg: it has to be on the crate
[10:15:36] <dbaupp> i.e. `#[feature(globs)];` in the file you run rustc/where you put #[link(...)]
[10:15:37] *** Joins: slackito (slackito@moz-7779E4A6.dyn.user.ono.com)
[10:15:43] *** Joins: spaxio (Mibbit@C2EDE851.80D9FE66.340BBC09.IP)
[10:16:02] <hansjorg> dbaupp: that's what I'm doing... hm
[10:16:26] <dbaupp> have you forgotten the semicolon?
[10:16:38] * dbaupp does that regularly :(
[10:17:25] <hansjorg> dbaupp: um, yeah. wow :) thanks!
[10:17:56] *** flaper87 is now known as flaper87|afk
[10:17:57] <hansjorg> would have expected another error though
[10:18:36] <dbaupp> as in, one warning about an unknown attribute?
[10:18:51] <bjz> kaeso: cheers!
[10:25:05] <hansjorg> I would have thought an unterminated line that ran into the next would cause a syntax error
[10:26:23] <dbaupp> `#[feature(globs)]` without the ; isn't unterminated though, it gets attached to the next item
[10:26:35] <bjz> hansjorg: what do you mean by 'next'?
[10:26:40] <bjz> yeah
[10:27:11] <myname> any way to get a stacktrace on a failure?
[10:28:00] *** Quits: nkoep (nik@moz-F97E4EB2.pool.mediaways.net) (Ping timeout)
[10:28:32] <hansjorg> ah it becomes an attribute on the next item? I thought attributes were only allowed on very specific items
[10:29:18] *** Quits: lerc (quassel@B2E8CAD3.A8D14E52.788638A4.IP) (Ping timeout)
[10:32:36] <dbaupp> every item can have attributes
[10:32:58] <dbaupp> and some non-items like methods, `use`, `extern mod`
[10:33:21] <dbaupp> (item == struct, enum, type, mod, fn, trait, impl, extern)
[10:34:03] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Connection reset by peer)
[10:34:17] <dbaupp> oh, struct fields and enum variants too.
[10:34:31] *** Joins: pudgetta (Mibbit@moz-980DDEA5.columbus.res.rr.com)
[10:35:34] *** Quits: Houm (Houm@2BD26E49.BEA97A19.B6260F18.IP) (Ping timeout)
[10:35:38] *** Joins: lerc (quassel@B2E8CAD3.A8D14E52.788638A4.IP)
[10:36:07] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[10:36:11] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[10:37:33] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:37:45] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[10:37:59] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:38:05] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Connection reset by peer)
[10:38:16] *** Joins: timot_ (timot@moz-3B3A0794.cust.tele2.se)
[10:42:34] *** Joins: nkoep (nik@moz-A3DB8CB4.vpn.rwth-aachen.de)
[10:43:24] *** Joins: csainty (csainty@moz-2204CE72.selucle.dyn.perspektivbredband.net)
[10:44:53] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[10:45:25] *** Quits: pudgetta (Mibbit@moz-980DDEA5.columbus.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[10:46:52] *** Quits: Ms2ger (Ms2ger@moz-9B97DF99.ugent.be) (Quit: bbl)
[10:47:46] <Yurume> wow, I did know Rust in Windows is slow, but I didn't know it's very, very slow.
[10:47:47] *** Quits: JakeDust (jake@B058C83.2E9F275F.F546FA5F.IP) (Ping timeout)
[10:47:51] <hansjorg> dbaupp: ok, that explains it
[10:50:30] <dbaupp> Yurume: to run, or to compile?
[10:50:41] <Yurume> to run, in this case.
[10:50:55] <Yurume> I had a code that repeatedly calls os::list_dir and os::path_is_dir
[10:51:18] *** Joins: JakeDust (jake@moz-B07B0EE4.customer.telesp.net.br)
[10:51:41] <Yurume> I cached their results a bit, but as the C version of the equivalent code ran fast I thought I have no problem
[10:52:13] <dbaupp> do you know what the problem was?
[10:52:14] <Yurume> and then my program ran very slow
[10:52:27] <dbaupp> (well, what the problem *is*?)
[10:52:37] <Yurume> dbaupp, the solution was to cache os::list_dir and os::path_is_dir *indefinitely*
[10:52:41] * dbaupp was about to suggest running it under `perf` :S
[10:52:51] <Yurume> of course I have ran through it
[10:53:04] <dbaupp> does perf run on windows?
[10:53:09] <Yurume> no!
[10:53:20] <Yurume> I had to use Sleepy, which only shows one sample per thread
[10:53:36] <dbaupp> phew! I thought I'd been misinformed
[10:53:48] <dbaupp> oh, that's not much
[10:53:50] <Yurume> but that was enough for my purpose since it displayed `fullpath` in most samples :S
[10:54:09] *** Quits: derboi_c (derboi_c@4BFE84A0.C20AE592.BA2F4534.IP) (Ping timeout)
[10:54:34] <Yurume> anyway it is a bit more curious since the difference between C and Rust in Linux was about 50% but in Windows it was tenfold
[10:54:56] <dbaupp> yikes!
[10:54:59] <Yurume> I had assumed there is something more than Path overhead going on in Windows
[10:55:15] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[10:55:16] <Yurume> but with that fix the difference went down to <10% in Linux and ~30% in Windows
[10:55:38] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[10:55:45] *** Joins: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[10:56:16] <Yurume> if you want to optimize Path, I think those two are good candidates ;)
[10:56:24] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[10:56:44] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[10:56:47] *** Joins: sjmur (chatzilla@BA6AE206.87F910E.C2E02DEF.IP)
[10:56:51] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[10:57:00] <dbaupp> ah, Eridius is completely overhauling Path so we'll have to see what the numbers are after it lands
[10:57:13] <dbaupp> (https://github.com/mozilla/rust/pull/9655)
[10:57:43] *** Quits: csainty (csainty@moz-2204CE72.selucle.dyn.perspektivbredband.net) (Quit: csainty)
[10:58:03] *** Joins: derboi_c (derboi_c@5EBE2375.940A4703.BA2F4534.IP)
[10:58:58] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[10:59:33] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[11:00:13] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[11:00:50] *** Joins: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[11:03:52] *** Quits: Boreeas (Boreeas@moz-F35C832D.boreeas.net) (Ping timeout)
[11:04:08] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[11:05:02] *** Joins: lucajona (Mibbit@BB51DDDA.FCC090C5.BC02889B.IP)
[11:05:22] *** Joins: benh_ (i@moz-4B5A6841.pool.mediaways.net)
[11:06:05] *** Quits: minzh (Mibbit@AEC6E6CC.5CE80800.D2BA945D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:07:48] *** Joins: Boreeas (Boreeas@moz-F35C832D.boreeas.net)
[11:08:14] *** Quits: lucajona (Mibbit@BB51DDDA.FCC090C5.BC02889B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:08:54] *** Quits: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[11:09:03] *** Quits: raze (raze@moz-4E6675AF.bredband.comhem.se) (Ping timeout)
[11:09:03] *** Quits: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[11:10:00] *** Joins: benh (ben@moz-4A0366D2.org)
[11:13:47] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[11:14:00] *** Quits: benh_ (i@moz-4B5A6841.pool.mediaways.net) (Quit: leaving)
[11:14:24] *** Quits: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com) (Ping timeout)
[11:14:46] *** Joins: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com)
[11:15:35] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[11:16:19] *** Joins: fyolnish (fyolnish@moz-2C250486.uqwimax.jp)
[11:18:13] *** flaper87|afk is now known as flaper87
[11:21:48] *** Joins: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu)
[11:25:31] *** Joins: jdm (jdm@514D186.F3BBB17D.144F44FA.IP)
[11:25:31] *** ChanServ sets mode: +o jdm
[11:27:29] *** Joins: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca)
[11:37:33] *** Quits: derboi_c (derboi_c@5EBE2375.940A4703.BA2F4534.IP) (Ping timeout)
[11:38:43] *** AutomatedTester is now known as AutomatedTester|away
[11:40:32] *** Joins: derboi_c (derboi_c@608D9F8D.940A4703.BA2F4534.IP)
[11:40:47] *** jdm is now known as jdm|f00d
[11:41:11] *** Quits: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu) (Input/output error)
[11:47:22] *** Quits: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net) (Ping timeout)
[11:47:22] *** Quits: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca) (Ping timeout)
[11:47:48] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[11:50:57] *** Joins: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu)
[11:55:33] *** Joins: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP)
[11:57:28] <ChrisMorgan> I just tried running `make check`, which I haven't for ages and ages. I'm getting an error from src/test/codegen/iterate-over-array.cc:11 saying that stddef.h was not found.
[11:57:40] *** Quits: derboi_c (derboi_c@608D9F8D.940A4703.BA2F4534.IP) (Ping timeout)
[11:59:29] <dbaupp> it's working on the bots... did you change something locally?
[11:59:55] <dbaupp> (the ./configure invocation?)
[12:00:03] <ChrisMorgan> No, only the prefix.
[12:00:25] *** Joins: derboi_c (derboi_c@C7927434.940A4703.BA2F4534.IP)
[12:00:49] *** Quits: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu) (Input/output error)
[12:00:53] *** Joins: pmoore (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[12:01:42] *** Joins: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca)
[12:03:04] *** Quits: dbaupp (Thunderbir@moz-4301A13F.lns20.syd6.internode.on.net) (Quit: dbaupp)
[12:04:08] *** Joins: dbaupp (Thunderbir@moz-4301A13F.lns20.syd6.internode.on.net)
[12:04:35] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[12:05:25] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[12:05:30] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[12:06:33] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[12:08:28] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[12:10:10] *** Joins: noam_ (noam@F6B530A7.720527A7.416762B.IP)
[12:10:21] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[12:10:57] *** Quits: gibbon (mathias@moz-1376FFC5.csbnet.se) (Ping timeout)
[12:11:40] *** Joins: gibbon (mathias@moz-1376FFC5.csbnet.se)
[12:12:39] *** Joins: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu)
[12:13:27] *** Quits: zagabar (zagabar@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[12:13:35] *** Quits: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca) (Quit: canhtak)
[12:14:07] *** Quits: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[12:14:10] *** Quits: jdm|f00d (jdm@514D186.F3BBB17D.144F44FA.IP) (Ping timeout)
[12:14:23] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[12:14:58] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:15:06] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:15:36] *** Quits: nkoep (nik@moz-A3DB8CB4.vpn.rwth-aachen.de) (Ping timeout)
[12:15:53] *** Joins: jdm|f00d (jdm@514D186.F3BBB17D.144F44FA.IP)
[12:16:29] <maik> does the vim-syntastic error checker work with rust?
[12:18:46] *** Joins: zagabar (zagabar@BC4D85C9.B543C4DE.3933CC16.IP)
[12:19:09] *** Joins: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP)
[12:19:20] *** Quits: sjmur (chatzilla@BA6AE206.87F910E.C2E02DEF.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 24.0/20130911164256])
[12:26:19] *** jdm|f00d is now known as jdm
[12:26:24] *** Joins: kphelps (kyle@moz-8B098CA5.hsd1.ma.comcast.net)
[12:26:47] *** Joins: Ms2ger (Ms2ger@moz-56C248F4.ugent.be)
[12:27:11] *** Joins: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca)
[12:29:14] *** Quits: mib_ig9ny1 (Mibbit@moz-4058A5B9.ge-0-2-0-712.arcnqu2.dk.customer.tdc.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:30:53] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[12:33:03] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[12:33:27] <ChrisMorgan> maik: yes
[12:33:55] <ChrisMorgan> It runs `rustc --parse-only %`
[12:34:02] *** Joins: nkoep (nik@moz-F97E4EB2.pool.mediaways.net)
[12:34:05] <ChrisMorgan> Thus, syntax only
[12:34:18] *** Quits: slackito (slackito@moz-7779E4A6.dyn.user.ono.com) (Quit: leaving)
[12:34:57] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[12:41:26] *** Quits: fran (fran@moz-6628087C.telecom.net.ar) (Ping timeout)
[12:42:55] *** Quits: JakeDust (jake@moz-B07B0EE4.customer.telesp.net.br) (Ping timeout)
[12:43:57] *** Joins: fran (fran@moz-C4AB1B95.telecom.net.ar)
[12:44:48] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Ping timeout)
[12:45:01] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[12:45:06] *** Quits: nkoep (nik@moz-F97E4EB2.pool.mediaways.net) (Ping timeout)
[12:45:34] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[12:51:03] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[12:52:57] <maik> ChrisMorgan, ah okay thanks, then I probably have messed up some settings
[12:53:30] <ChrisMorgan> maik: if rustc is not on the PATH or you haven't updated syntastic for quite a while you may not get it.
[12:54:03] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Client exited)
[12:59:33] *** Joins: nkoep (nik@moz-516F0838.vpn.rwth-aachen.de)
[13:00:06] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[13:01:49] <maik> ChrisMorgan, actually I just started to use vim 2 days ago and I just installed syntastic :) and rustc is in my path. I just think I have to activate it somewhere
[13:02:33] <ChrisMorgan> maik: is syntastic working at all?
[13:03:18] <maik> ChrisMorgan, hm I think so, at least I get syntax highlighting
[13:07:36] *** Quits: olsonjeffery (pf@B8927AE1.CFEFA148.239A1A9E.IP) (Ping timeout)
[13:08:46] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[13:10:25] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:10:46] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:12:30] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[13:16:40] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Input/output error)
[13:19:00] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[13:19:02] <Earnestly> syntastic isn’t responsible for syntax highlighting
[13:20:41] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[13:22:13] <ChrisMorgan> maik: is ":SyntasticCheck" a command?
[13:24:32] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:26:46] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Ping timeout)
[13:27:58] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[13:29:02] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[13:29:40] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[13:30:40] <maik> ChrisMorgan, yeah it's working. I was just stupid :x 
[13:30:42] <maik> thanks
[13:30:54] <ChrisMorgan> Good, glad you've got it working.
[13:31:48] * ChrisMorgan was pretty pleased to find his Syntastic tooling Just Working™ as soon as he put rustc onto his PATH, not having even been aware that it supported Rust.
[13:32:04] <cmr> ChrisMorgan: I was similarly surprised
[13:32:49] <Earnestly> Syntasitic is really quite wonderful
[13:35:21] <ChrisMorgan> Sure, I'd love it if it could do more than just a syntax check, but doing that was without a doubt the right call to make with the present state of rustc.
[13:36:05] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[13:36:47] *** Joins: Sorella (quildreen@779B14A.7283D007.A95FAE2B.IP)
[13:36:53] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[13:40:05] *** Quits: engla_ (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[13:40:41] *** AutomatedTester|away is now known as AutomatedTester
[13:41:58] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[13:45:28] <maik> I have a command to change the a theme like this :AirplaneTheme bubblegum. How would I write this in my .vimrc?
[13:45:51] <maik> I tried everything :x
[13:46:44] *** Quits: spaxio (Mibbit@C2EDE851.80D9FE66.340BBC09.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:46:56] <ChrisMorgan> `AirplaneTheme bubblegum`. It'll need to happen after the AirplaneTheme command has been defined.
[13:47:10] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[13:48:50] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[13:50:49] *** jorendorff_away is now known as jorendorff
[13:53:43] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[13:54:52] *** Joins: lht (lht@A1371695.366ACFAA.7BA1798C.IP)
[13:56:02] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[13:56:11] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[13:57:17] *** Joins: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com)
[13:58:46] *** Joins: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[13:59:36] *** Joins: themgt (themgt@moz-946F6947.baf.movistar.cl)
[13:59:45] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[14:00:35] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[14:01:22] *** Quits: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[14:03:21] *** Joins: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[14:04:47] <maik> btw do you guys also use tmux with vim?
[14:05:08] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[14:05:47] * ChrisMorgan doesn't use any multiplexer at present
[14:07:53] <benh> I just have a lot of terminal emulators open :( they keep getting lost under firefox windows too
[14:07:53] *** jorendorff is now known as jorendorff_away
[14:08:49] * Zor uses terminal emulator tabs
[14:08:58] *** Joins: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net)
[14:10:35] *** Quits: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP) (Ping timeout)
[14:11:17] <benh> I kind of want to hack my window manager so it groups all my terminal-with-vim-in-them windows together to in window stack
[14:11:19] <skade> maik I do
[14:11:37] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[14:13:19] *** Quits: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com) (Input/output error)
[14:17:02] <benh> If I use transmute on a random raw pointer or w/e to return a &'self from a method, will the borrow checker treat it as if I had returned a borrowed pointer to a field of the object?
[14:17:36] <benh> Also is it new that structs without borrowed pointer members can have a <'self> parameter?
[14:18:08] *** Joins: david` (user@moz-8B5E70E5.fbxo.proxad.net)
[14:19:37] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[14:19:47] *** Joins: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com)
[14:21:49] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[14:21:54] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[14:21:57] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[14:22:34] <Yurume> is it intentional that a stack closure &fn(...) -> ... can be used as a mutable self argument (&mut self)?
[14:22:48] * ChrisMorgan is considering switching window manager from Unity to i3 (a pretty drastic change!)
[14:23:15] <benh> I don't understand tiling wms :(
[14:23:58] <ChrisMorgan> Yurume: why shouldn't it? (Because there's nothing to mutate?)
[14:24:21] <ChrisMorgan> Actually, that'd be an &mut &fn(...), which would be different.
[14:24:50] *** pmoore is now known as pmoore|away
[14:25:27] <Yurume> ChrisMorgan, it seemed illogical that &fn acts like &mut T.. ;)
[14:27:12] *** pmoore|away is now known as pmoore
[14:27:34] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[14:27:40] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[14:27:47] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[14:27:49] <ChrisMorgan> Yurume: I think I'm not getting what you mean. Are you meaning something like `impl X for &fn(...) { fn x(&mut self) { ... } }`?
[14:28:18] *** Quits: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu) (Quit: Leaving)
[14:29:02] <Yurume> ChrisMorgan, right, I think there should be 'self somewhere but anyway.
[14:30:35] <ChrisMorgan> True, it should be `imp<'self> X for &'self fn(...)`
[14:30:43] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:30:52] *** Joins: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu)
[14:31:17] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:31:23] <ChrisMorgan> Realise that the &mut self means self is of the type `&mut &fn(...)`, not `&mut fn(...)` which (probably) doesn't exist.
[14:31:52] <strcat> &fn *is* essentially &mut fn
[14:32:00] *** jorendorff_away is now known as jorendorff
[14:32:13] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[14:33:36] *** Quits: heftig (heftig@moz-208CB75C.dip0.t-ipconnect.de) (Quit: Quitting)
[14:35:36] *** Joins: mib_7pekqp (Mibbit@moz-6C50F684.tbcn.telia.com)
[14:37:11] <mib_7pekqp> Just wounder, as classes has been removed what is the equivalent? I know something to replace it has been added but the documentation is quite poor. 
[14:37:35] <maik> mib_7pekqp, struct?
[14:38:09] *** Joins: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu)
[14:38:19] *** Quits: threecreepio (jdp@moz-1A9F0A3C.cust.bredband2.com) (Quit: threecreepio)
[14:40:40] *** Joins: jordyd (jordyd@moz-16DEDE20.seg53.ucf.edu)
[14:41:17] <strcat> classes haven't been around for a looooong time
[14:41:58] *** jorendorff is now known as jorendorff_away
[14:42:58] <ChrisMorgan> mib_7pekqp: structs with struct methods and trait implementations.
[14:45:08] *** Joins: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP)
[14:45:28] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[14:45:58] *** Joins: tav (tav@moz-196E6F10.sohonet.co.uk)
[14:49:53] *** zz_kimundi is now known as kimundi
[14:50:51] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[14:52:26] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[14:53:47] *** Joins: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net)
[14:56:41] <maik> has anyone made rust snippets for vim?
[14:59:13] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[15:00:24] *** Quits: Ms2ger (Ms2ger@moz-56C248F4.ugent.be) (Quit: bbl)
[15:00:35] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[15:01:55] <kimundi> benh: i3 has the advantage in my opinion that it is a manual tiling manager, which means no funky automatic layout is happening
[15:02:23] *** Quits: stevekla1nik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[15:02:40] <myname> okay, how do i print on stderr?
[15:02:58] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[15:03:06] <kimundi> Heck, I'm using i3, and I don't use the actual tiling mechanic that much. Most of my windows are just "tiled" fullscreen on one of my workspaces
[15:03:09] *** Quits: steveklabnik (steveklabn@moz-6E0AF613.static.bezeqint.net) (Ping timeout)
[15:03:10] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:03:16] <kimundi> myname: Hmm. Godd question
[15:03:50] <kimundi> myname: I'd assume something like io::stderr().writeln(...) or so, but I still don'T know how done the IO system is/what to use
[15:04:46] <myname> so, no println! for that?
[15:04:52] *** Quits: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu) (Input/output error)
[15:04:52] <strcat> benh: use i3 ;p, you can arbitrarily tab/split/stack things
[15:05:00] <kimundi> No convenient macro afaik, no
[15:05:40] <kimundi> And make windows floating too, if you need to!
[15:06:01] <kimundi> Plus, the config file is so easy to work with
[15:06:23] <myname> i'm using herbstluft :p
[15:06:59] <kimundi> I know those words because I'm German, but I don't associate a program with that xD.
[15:07:02] * kimundi googles
[15:07:12] <myname> herbstluftwm
[15:07:47] *** Joins: olsonjeffery (pf@B8927AE1.CFEFA148.239A1A9E.IP)
[15:08:09] *** Joins: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu)
[15:08:11] <Earnestly> autumn air, shrug
[15:08:38] * maik is starting to love vim
[15:08:47] <myname> good1
[15:08:49] <myname> !
[15:08:51] <Earnestly> Haha, similar to wmii, hah
[15:09:06] <Earnestly> Because you use a script to configure it’s similar to wmii?  ha
[15:09:18] <kimundi> Hm, looks interesting
[15:09:43] *** jorendorff_away is now known as jorendorff
[15:09:57] *** Quits: JanC_ (janc@moz-EC5CEC67.dsl.scarlet.be) (Ping timeout)
[15:10:48] <ChrisMorgan> maik: I haven't (I don't use snippets), but it shouldn't be hard to formulate a library of such things. Of course, the *need* to use snippets indicates probable problems in a language...
[15:11:39] <Earnestly> Rust is quite verbose to be fair
[15:12:13] <ChrisMorgan> Earnestly: given what it does, I'd contest that mildly.
[15:12:19] *** Quits: david` (user@moz-8B5E70E5.fbxo.proxad.net) (Ping timeout)
[15:12:49] *** Quits: mib_7pekqp (Mibbit@moz-6C50F684.tbcn.telia.com) (Quit: http://www.mibbit.com ajax IRC Client)
[15:13:09] *** Joins: david` (user@moz-8B5E70E5.fbxo.proxad.net)
[15:13:59] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[15:14:11] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:14:32] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:15:32] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[15:15:35] *** Quits: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca) (Quit: canhtak)
[15:15:58] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:16:14] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[15:19:23] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:19:46] <maik> I always liked to have snippets for functions, I guess I just write them myself then
[15:19:50] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[15:21:10] <ChrisMorgan> r? https://github.com/mozilla/rust/pull/9780 (rust-http can't build until this lands)
[15:21:24] *** Joins: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP)
[15:26:23] *** Joins: JanC_ (janc@moz-213A8F1A.dsl.scarlet.be)
[15:29:16] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[15:29:30] *** Quits: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) (Client exited)
[15:30:27] *** bent is now known as bent|brb
[15:31:27] *** Joins: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca)
[15:32:05] *** Joins: threecreepio (jdp@moz-12614F1E.cust.bredbandsbolaget.se)
[15:33:46] <maik> is that the correct indention in rust?
[15:33:47] <maik> https://gist.github.com/MaikKlein/6903156
[15:33:51] <maik> looks a bit far
[15:34:00] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:34:32] <benh> 4 spaces per
[15:34:42] <ChrisMorgan> Four spaces, and a space after the colon.
[15:34:44] <benh> also a space before the { and after the : imo
[15:34:51] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[15:35:02] <ChrisMorgan> Yes, before the opening brace too.
[15:35:57] <maik> hm
[15:37:13] <maik> my vim always indents 8 spaces, maybe the rust vim indent file is wrong?
[15:37:25] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Connection reset by peer)
[15:37:35] *** Joins: timot_ (timot@moz-3B3A0794.cust.tele2.se)
[15:37:40] <strcat> maik: that's not something a language indent/syntax file covers
[15:37:43] <strcat> it's user config
[15:40:35] *** Quits: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net) (Quit: Leaving.)
[15:43:12] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[15:44:00] <maik> hm
[15:44:29] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:44:31] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:46:02] <maik> ah it's shiftwidth
[15:46:07] <maik> thanks
[15:46:24] <strcat> maik: and set expandtab/softtabstop
[15:47:07] *** AutomatedTester is now known as AutomatedTester|away
[15:47:52] *** flaper87 is now known as flaper87|afk
[15:47:55] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[15:50:00] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[15:50:34] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Input/output error)
[15:50:47] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[15:51:16] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[15:51:39] <maik> ah cool the indent file auto indents everything, awesome
[15:51:58] <ChrisMorgan> maik: you probably want: `setl ts=4 sw=4 sts=4 et tw=100` (`setlocal tabstop=4 shiftwidth=4 softtabstop=4 expandtab textwidth=100`). Put that in ~/.vim/after/ftplugin/rust.vim. You could also add `compiler rustc` and, if you want, brace-based folding: `setl foldmethod=syntax`.
[15:52:36] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[15:52:43] <ChrisMorgan> The indent stuff is not perfect (a long-term goal of mine is to make it almost so), but it's generally fairly good.
[15:53:36] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[15:53:47] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[15:54:03] <maik> ah yeah I was wondering how I default "compiler rustc"
[15:54:05] <maik> thanks
[15:54:50] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[15:55:58] <maik> okay I can quickly compile a file with :make when I set compiler rustc. What would be a quick way to run the executable?
[15:56:28] <ChrisMorgan> :!./%
[15:56:35] <ChrisMorgan> Actually that won't do it, % includes .rs
[15:56:39] <maik> ah % is the file name?
[15:56:47] <maik> ah ok
[15:56:50] <ChrisMorgan> Yep.
[15:57:03] <ChrisMorgan> Then :!./binname, I guess.
[15:57:26] <maik> I probably make me a keybinding for this
[15:57:29] <maik> thanks
[15:59:19] <ChrisMorgan> strcat: it's *not* not something a language indent/syntax file covers (well, actually it should typically be ftplugin); providing sane defaults and allowing the setting of a variable to skip it (e.g. g:rust_no_ftplugin) is probably a good idea.
[16:00:27] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[16:00:39] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[16:01:32] <ChrisMorgan> maik: the expression `substitute(expand("%"), "\\.rs$", "", "")` will get the filename with the .rs removed. You could thus put that in your keybinding: `exec "!./" . substitute(...)` [I know, no support for spaces in filename there]
[16:02:45] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[16:02:50] <maik> ChrisMorgan, okay thanks
[16:03:52] <ChrisMorgan> If you need any help with Vim at any point, just ping me. (Also realise that I'm not the only one who knows Vim well in this channel.)
[16:04:09] *** Quits: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu) (Ping timeout)
[16:04:10] <ChrisMorgan> Then too, there's irc://irc.freenode.net/#vim
[16:05:15] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[16:05:49] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[16:06:57] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:09:02] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[16:11:51] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[16:12:15] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[16:13:09] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[16:14:34] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[16:14:54] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[16:16:10] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[16:16:52] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[16:17:16] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[16:18:28] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[16:23:09] *** Joins: Jesin (Jessin_@CB0F8A26.1AFF763C.DAC4D86A.IP)
[16:26:02] *** Quits: Jesin (Jessin_@CB0F8A26.1AFF763C.DAC4D86A.IP) (Ping timeout)
[16:26:08] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:37:32] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[16:37:49] *** Quits: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP) (Ping timeout)
[16:38:24] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Client exited)
[16:39:58] *** Parts: david` (user@moz-8B5E70E5.fbxo.proxad.net) (ERC Version 5.3 (IRC client for Emacs))
[16:40:16] *** Joins: fyolnish_ (fyolnish@moz-2C250486.uqwimax.jp)
[16:40:39] *** Quits: fyolnish (fyolnish@moz-2C250486.uqwimax.jp) (Ping timeout)
[16:40:45] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[16:40:45] *** ChanServ sets mode: +ao brson brson
[16:41:03] <brson> woo! let's have a good one, #rust
[16:42:45] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[16:42:51] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Ping timeout)
[16:43:32] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[16:43:55] *** Joins: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net)
[16:44:18] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[16:44:45] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[16:45:58] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[16:46:31] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[16:48:15] <luisbg> brson, :)
[16:52:10] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:52:52] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:53:04] *** Joins: Jesin (Jessin_@CB0F8A26.1AFF763C.DAC4D86A.IP)
[16:53:35] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[16:54:16] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:54:53] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[16:55:18] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[16:56:40] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[16:57:57] *** Quits: Jesin (Jessin_@CB0F8A26.1AFF763C.DAC4D86A.IP) (Input/output error)
[16:58:08] <heftig> was there any issue about kicking @ into the stdlib?
[16:58:58] *** Quits: Ferreus (ferreus@moz-B146B01D.dip0.t-ipconnect.de) (Ping timeout)
[17:00:38] *** Quits: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[17:04:44] *** Joins: eholk (eholk@12FE8CF4.7EDA02CF.51B6877.IP)
[17:04:49] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:07:59] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Ping timeout)
[17:08:13] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:08:28] *** Quits: jdm (jdm@514D186.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[17:09:41] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[17:09:57] <heftig> ah, found it
[17:11:48] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[17:12:25] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[17:12:25] *** ChanServ sets mode: +ao dherman dherman
[17:13:56] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:16:00] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:16:34] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[17:16:57] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:18:00] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:18:40] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[17:21:09] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[17:21:23] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:23:34] *** Quits: eholk (eholk@12FE8CF4.7EDA02CF.51B6877.IP) (Quit: eholk)
[17:26:20] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:26:48] *** Quits: jordyd (jordyd@moz-16DEDE20.seg53.ucf.edu) (Quit: Leaving)
[17:27:46] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:27:46] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:30:08] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[17:30:54] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[17:31:53] *** Quits: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) (Ping timeout)
[17:32:53] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[17:33:19] <cmr> brson: good what?
[17:34:44] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[17:35:00] <brson> cmr: good cupcake
[17:35:11] <cmr> Is it Rust's birthday?
[17:35:41] <brson> cmr: no
[17:36:35] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:38:53] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[17:39:35] <tiffany> when is rust's birthday?
[17:40:03] *** Joins: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr)
[17:40:56] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:40:58] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[17:43:10] <lex> Hi, I have some questions about how Rust's tasks are handled. On a machine with 1 thread per core, 4 cores per socket, and 1 socket, it seems that each task (e.g. `do spawn { }`) takes up one core. On a machine with 2 threads per core, 2 cores per socket, and 1 socket, things seem a little bit more haphazard. Is there any way to know how the task will be run if hyperthreading is enabled?
[17:43:22] *** Joins: krdln (Mibbit@moz-6F8A8560.dynamic.chello.pl)
[17:45:30] <brson> tiffany: it's hard to say. the original hg repo from 2006 is known only to graydon. the first commit in git is june 16 2010. i can't find the original public announcement of rust
[17:45:35] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[17:46:48] <tiffany> lex: afaik, rust cooperatively schedules tasks across the pool of OS-threads (which it usually allocates one for each core, including hyperthreaded virtual cores)
[17:47:33] <tiffany> I believe there are functions to yield to other tasks, so you may want to use that (or start more OS threads entirely) if you require more than one task running at once (in the worst case, at least)
[17:48:04] <lex> tiffany: okay, thanks. I'm writing some pure Rust code that attempts to figure out how many threads a machine has.
[17:50:30] *** Joins: rezz (Mibbit@moz-8266BFE7.ip.mcleodusa.net)
[17:50:30] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[17:51:13] <lex> On a different note, when using a RWArc on a mutable value, do I have to use myArc.write to change the value? http://pastebin.com/G7Hs98Fu
[17:51:20] <heftig> rusti: std::rt::util::num_cpus()
[17:51:20] -rusti- 4u
[17:51:24] <heftig> this is what it uses
[17:51:30] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[17:51:41] <rezz> hola.  has anyone tried using rust-sfml ( github.com/JeremyLetang/rust-sfml )?  when i try to rustpkg build it i get a "couldn't find package std"  :|
[17:52:13] <lex> heftig: Cool! I'll check it out.
[17:52:30] <rezz> i can compile code using std just fine myself so i wonder if it's a rustpkg bug
[17:52:36] <heftig> lex: it calls into c++ code which then calls a platform-specific function, e.g. sysconf() on libc
[17:52:41] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[17:52:47] <heftig> glibc, that is
[17:54:00] <lex> heftig: ah, okay. I was hoping to do this without having to call c or c++ code
[17:54:08] <tiffany> well
[17:54:15] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[17:54:20] <tiffany> you can't start threads or anything without dealing with the underlying OS
[17:54:30] <tiffany> so you have to define what you mean by "call C or C++"
[17:54:58] <lex> tiffany: valid point, let me clarify. I'm trying to do this without explicitly asking the OS how many threads are available.
[17:55:06] *** Joins: hoverbear (andrew@moz-7EE6AD32.wireless.uvic.ca)
[17:55:06] *** Joins: lfox (larryfox@F49991AB.59675ABF.1A42473E.IP)
[17:55:17] <heftig> tiffany: i wonder whether we will be seeing "JRust"
[17:55:35] <hoverbear> heftig: In before Rust->JS compiler
[17:55:37] *** pmoore is now known as pmoore|away
[17:55:38] *** Joins: benh (ben@moz-4A0366D2.org)
[17:55:49] <doomlord_> would that be 'Just'
[17:55:51] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[17:56:03] <heftig> maybe something will also be called JustIce
[17:56:12] <doomlord_> Rustice
[17:56:30] *** Joins: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk)
[17:56:32] <rezz> just on the server, justscript on the client, eat that clojure
[17:56:49] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[17:56:50] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[17:56:51] <heftig> Rust with Emscripten backend?
[17:56:59] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[17:57:08] <hoverbear> Doesn't asmjs provide a LLVM backend?
[17:57:31] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:57:41] <hoverbear> hoops, yup https://github.com/kripken/emscripten
[17:57:47] <tiffany> I wasa bout to mention emscripten
[17:58:12] *** Quits: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk) (Ping timeout)
[17:58:19] *** Quits: benh (ben@moz-4A0366D2.org) (Quit: leaving)
[17:58:23] <tiffany> it doesn't seem all that useful to use rust on the jvm or in the browser
[17:58:24] <hoverbear> heftig: Since rust is LLVM couldn't you just compile to IR then compile to JS via emscripten?
[17:58:37] <tiffany> it offers lower level functionality than those platforms
[17:58:57] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:59:01] *** Joins: benh (ben@moz-4A0366D2.org)
[17:59:09] <hoverbear> tbh I prefer coding in JS to Rust so far anyways
[17:59:16] <tiffany> if I had the choice between rust-to-js and elm I'd probably pick elm
[17:59:23] <strcat> hoverbear: yes, if you disable the stdlib you can already use rust via emscripten
[17:59:25] <strcat> easily
[17:59:27] *** Joins: Palmik (palmik@moz-11EA685D.pks.muni.cz)
[17:59:36] <tiffany> why can't you use the stdlib?
[17:59:40] *** Quits: rezz (Mibbit@moz-8266BFE7.ip.mcleodusa.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:00:13] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:00:13] *** ChanServ sets mode: +ao brson brson
[18:00:53] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[18:01:22] <hoverbear>  strcat Cool!
[18:02:01] <strcat> tiffany: because it uses a bunch of libc/C++ code and I'm not sure what you would do with that
[18:02:14] <strcat> and libuv
[18:02:44] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:02:50] <tiffany> weren't there plans to have different levels of stdlib at some point?
[18:02:52] <strcat> and you aren't going to be able to use the asm stuff it has for context switching, etc.
[18:02:57] <tiffany> the high level stuff would be useful
[18:03:10] <strcat> there's not much of the stdlib you can use without the runtime, or would want to use
[18:03:27] <strcat> most of the modules depend on fail!() being supported
[18:03:50] <strcat> so you do need unwinding and tasks at least
[18:04:05] *** seanmonstar is now known as https
[18:04:11] <strcat> hashmap uses the task-local RNG
[18:04:29] <tiffany> don't some of those things map to js though?
[18:04:44] <strcat> you aren't going to have rust tasks or unwinding in asm.js
[18:04:48] *** https is now known as seanmonstar
[18:05:21] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[18:06:37] *** Quits: benh (ben@moz-4A0366D2.org) (Quit: leaving)
[18:06:47] *** Quits: tav (tav@moz-196E6F10.sohonet.co.uk) (Quit: tav)
[18:06:47] *** Joins: benh (ben@moz-4A0366D2.org)
[18:07:44] <hoverbear> strcat: But don't all those have an llvm IR representation?
[18:07:57] <strcat> no
[18:08:08] <strcat> unless you mean inline asm
[18:08:16] <strcat> that's target dependent obviously
[18:08:21] <hoverbear> Hmm
[18:08:32] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[18:09:06] <strcat> asm.js is single-threaded, and has no exceptions
[18:09:14] <hoverbear> Yeah. :(
[18:09:20] <hoverbear> All JS is single threaded. So gross.
[18:09:31] <strcat> and you're not going to be able to context-switch
[18:09:37] <tiffany> what about web workers?
[18:09:48] <strcat> you don't get those, and tasks don't map to them
[18:09:53] <strcat> (if you did(
[18:09:55] <strcat> )
[18:10:56] <hoverbear> I need to try rust again. Last time I gave up after spending 2 days trying to figure out how to get the udp lib to accept my port arg. :S
[18:11:27] <strcat> I don't really see a point in making the stdlib have profiles atm
[18:12:10] <jdsanders> hey is there some way to get the rust tool to tell me what version of the repo it was compiled from?
[18:12:15] <jdsanders> rather than just 0.9-pre?
[18:12:33] <strcat> it prints a commit id
[18:12:47] <tiffany> why don't tasks map to them?
[18:13:02] *** Quits: hoverbear (andrew@moz-7EE6AD32.wireless.uvic.ca) (Quit: hoverbear)
[18:13:03] <strcat> tiffany: first of all, there are no web workers in asm.js
[18:13:14] <strcat> tasks allow you to pass data between them without copies
[18:13:40] <strcat> and there is shared memory to implement rust's communication primitives
[18:14:39] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[18:15:03] <tiffany> ah
[18:15:10] <tiffany> I heard web workers don't let you pass functions as well, is that true?
[18:16:29] <tiffany> I had never thought that you could use tasks sending ~ structures around to simulate type-safe shared memory with a mutex
[18:16:52] *** Joins: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de)
[18:17:28] <strcat> you wouldn't have concurrency at all
[18:17:53] <strcat> you can take rust without the stdlib (#[no_std]) and target asm.js, that's about it
[18:18:57] <strcat> the basic types would work, some (all?) of the float intrinsics would work, and pointers would work
[18:19:50] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[18:19:52] <strcat> you could use ~, closures, etc. - the language will work
[18:19:59] <strcat> after you implement the lang items
[18:20:00] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[18:20:24] <strcat> you really won't be able to use most of the stdlib
[18:21:58] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[18:22:21] <strcat> maybe it would make sense to split out the really low level wrappers around stuff like intrinsics
[18:22:25] <strcat> from libstd
[18:22:47] *** Parts: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) ()
[18:23:02] <strcat> but as soon as you need a lang item...
[18:24:03] <strcat> that also assumes you're in an environment where you can use a dynamically linked library, and are okay with the performance issues we experience with libraries
[18:24:52] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[18:25:51] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[18:26:00] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:27:35] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[18:27:46] *** Quits: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de) (Ping timeout)
[18:28:35] *** Joins: srini (Mibbit@moz-D63BB219.eglbp.corp.yahoo.com)
[18:28:50] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:28:54] *** Quits: srini (Mibbit@moz-D63BB219.eglbp.corp.yahoo.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:29:19] <lex> Huh, weird. I just got a segfault. Here's what I was doing: http://pastebin.com/7XGjx2Ah
[18:29:21] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[18:29:44] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[18:30:24] <Ms2ger> I don't guess there's a str::raw::from_c_str that fails gracefully?
[18:30:48] *** Joins: hossamkarim (hossamkari@DEE99CCF.D889955D.CE715904.IP)
[18:30:57] <Eridius> Ms2ger: CString has an .as_str() that returns Option<&str>
[18:31:15] <hossamkarim> How can I map a C struct in Rust
[18:31:31] <strcat> rust structs are equivalent in memory layout to C structs
[18:31:35] <lex> It took a while (had to do `while true; do ./threadCapture; done`), but it's replicatable. 
[18:31:51] <hossamkarim> thanks
[18:33:11] <Ms2ger> Hrm, not in the version servo has. Is it new?
[18:33:51] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[18:33:59] <hossamkarim> what about struct pointers, for instance: typedef struct objc_object *id;
[18:34:52] <strcat> there are raw pointers, and also safe pointer types
[18:35:18] <strcat> hossamkarim: http://static.rust-lang.org/doc/master/tutorial-ffi.html
[18:35:37] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[18:35:40] <hossamkarim> sorry, new to rust, what would be the equivalent rust syntax
[18:35:42] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[18:35:50] *** Quits: lfox (larryfox@F49991AB.59675ABF.1A42473E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:36:21] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:36:24] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Quit: Lost terminal)
[18:36:24] <strcat> hossamkarim: I don't know if you want rust code, or if you want a wrapper around C code
[18:36:30] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[18:36:35] <hossamkarim> just the rust code
[18:36:51] <saati> hossamkarim: here are servo's cocoa bindings https://github.com/mozilla-servo/rust-cocoa
[18:37:01] <hossamkarim> wow!!
[18:37:12] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[18:37:38] <hossamkarim> can rust target ARM yet?
[18:37:41] <strcat> yes
[18:37:44] <strcat> but not iOS
[18:38:11] <strcat> it runs on android and traditional linux distros on arm
[18:38:58] <hossamkarim> my understanding rust has an LLVM backend, so it should be feasible to target iOS, no?
[18:39:24] <doomlord_> theres details to work through
[18:40:17] *** Joins: tikue_ (tikue_star@FB0C56AD.E2CAEE6E.689607DE.IP)
[18:41:06] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[18:41:15] <strcat> hossamkarim: you can run rust on iOS, you can't run the rust stdlib on iOS without putting work into porting it
[18:41:36] <strcat> and without the stdlib there's not much there ;p
[18:42:15] *** Joins: lfox (larryfox@F49991AB.59675ABF.1A42473E.IP)
[18:42:38] <doomlord_> rust + gl on iOS would be nice
[18:42:45] <hossamkarim> ah, ok
[18:42:54] * strcat is thinking about making a temporary stub stdlib though, to separate language performance issues from library ones
[18:43:43] <lex> anyone know why i got a segfault?
[18:44:22] <benh> impure thoughts?
[18:44:58] <lex> haha. the code was safe though
[18:45:48] *** Quits: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) (Input/output error)
[18:46:00] <benh> Apparently there's currently two modes of funtions, "unsafe" and "impure" ;)
[18:46:46] <lex> benh: Not sure if serious.
[18:46:50] <hossamkarim> so, does rust support varargs?
[18:46:55] *** Quits: derboi_c (derboi_c@C7927434.940A4703.BA2F4534.IP) (Ping timeout)
[18:46:55] <benh> i dunno, though. probably best to file an issue with that code.
[18:47:15] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[18:47:21] <lex> benh: how do I do that?
[18:47:35] <saati> lex: it doesn't segfault with my rust
[18:47:52] <hossamkarim> covariant, conravariant types? planned at least?
[18:47:57] <benh> ( https://github.com/mozilla/rust/issues/new with a link and a short description)
[18:48:00] <lex> saati: how many times did you run it? It probably took around 500-1000 runs for me
[18:48:05] *** Quits: threecreepio (jdp@moz-12614F1E.cust.bredbandsbolaget.se) (Ping timeout)
[18:48:12] <SiegeLord> hossamkarim: No varargs
[18:49:28] <benh> lex: what opt level did you build with?
[18:49:54] <lex> benh: i compiled with `rustc <file>`
[18:50:00] <benh> ok
[18:51:17] *** Joins: derboi_c (derboi_c@3C19ED4E.DC78FBC3.BA2F4534.IP)
[18:51:42] <jason_> lex: are you on linux?
[18:53:09] <lex> jason_: yes
[18:53:09] *** Joins: gyutyuglf (gyutyuglft@5B8EAF5B.FEED97F.B88AD130.IP)
[18:53:37] <SiegeLord> The feature error really should include a semicolon...
[18:53:44] *** Parts: hossamkarim (hossamkari@DEE99CCF.D889955D.CE715904.IP) ()
[18:54:09] <jason_> lex: my recommendation would be to recompile with debug flags and enable core dumps so we have more info than just 'segfault'
[18:55:13] *** Quits: nkoep (nik@moz-516F0838.vpn.rwth-aachen.de) (Ping timeout)
[18:55:18] <Earnestly> Simple question, how do you read a line from stdin as an int?
[18:55:35] <SiegeLord> This is a bug right? https://gist.github.com/SiegeLord/6906262
[18:56:33] <Earnestly> SiegeLord: It’s my understanding that mod B would be private to mod A.  Not sure how that relates to `mod` though
[18:57:01] <lex> jason_: this will probably make more sense to you guys http://imgur.com/dsd57bB
[18:57:25] <SiegeLord> Wait, it doesn't work without a glob import either...
[18:57:25] <jason_> SiegeLord: doesn't seem like a bug, does it work if you do pub mod B?
[18:57:59] <Earnestly> lex: curl -F 'sprunge=<-' sprunge.us < file  (or cmd | curl -F …)
[18:58:05] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[18:58:07] <SiegeLord> The privacy rules only care about the visibility of the final item
[18:58:38] <jason_> lex: really need a core dump to see the stack trace
[18:59:16] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[18:59:16] *** ChanServ sets mode: +o tjc
[18:59:21] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:59:38] <lex> jason_: what's the -Z flag?
[18:59:40] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[18:59:53] <Ms2ger> Debug info?
[19:00:18] <lex> Ms2ger: No, I mean, which values do I give it to get a stack trace
[19:00:24] <jason_> lex: i'd compile it myself, but i have a custom build of rust with a bunch of changes to the scheduler
[19:00:33] <Ms2ger> No idea :)
[19:00:43] <jason_> lex: rustc -Z help
[19:00:45] <SiegeLord> acrichto: Am I misunderstanding privacy rules? Is this a bug: https://gist.github.com/SiegeLord/6906262 ?
[19:01:06] <jason_> you want -Z debug-info
[19:01:16] <benh> SiegeLord: this is intended afaik
[19:01:25] <lex> jason_: don't know how i missed that one...
[19:01:42] <acrichto> SiegeLord: that's intentional, because `mod B` is private, it may only be used by `A` and its descendants, but that doesn't include the outer "root module"
[19:01:43] <benh> mob B is private, so it's only usable by mod A and its conaind code
[19:01:58] <benh> see acrichto i read all the docs now!!!
[19:02:02] <acrichto> SiegeLord: you're allowed to look inside `A` from the root module, but from then on it must be "pub from the root"
[19:02:06] <acrichto> benh: I'm glad they were helpful!
[19:02:07] <SiegeLord> So the rule of "intevening privacy doesn't matter" is scrapped?
[19:02:29] <acrichto> SiegeLord: correct, the implemented rules are in the manual's docs
[19:02:35] <SiegeLord> That sucks
[19:03:02] <lex> jason_: "failed in non-task context at 'called `Option::get_mut_ref()` on a `None` value', /build/rust/src/rust-0.8/src/libstd/option.rs:301"
[19:03:05] <acrichto> I actually thought that the current system turned out to make a lot of sense and follows pretty naturally what you'd expect from a "module hierarchy"
[19:03:37] *** Quits: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com) (Ping timeout)
[19:03:59] <SiegeLord> Can you do crate local scope anymore?
[19:04:14] <benh> yeah, priv module in crate scope with pub contents
[19:04:52] <benh> if i get you right
[19:05:02] <benh> yo lex i got it to segfault too eventually
[19:05:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[19:05:23] *** Joins: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com)
[19:05:26] <jason_> lex: did you get a core file?
[19:05:40] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[19:05:52] <lex> jason_: working on it
[19:07:15] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[19:07:18] *** bent|brb is now known as bent
[19:08:02] *** Joins: jordyd (jordyd@moz-16DEDE20.seg53.ucf.edu)
[19:08:55] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[19:09:33] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[19:09:53] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[19:09:59] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[19:10:22] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:10:22] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[19:10:27] <Earnestly> Silly simple question.  How do you read stdin and store it as an int?
[19:10:28] <SiegeLord> The new system is a bit restrictive...
[19:10:55] <jason_> lex: your screenshot says core dumped
[19:11:47] <jason_> lex: they're without debug info so they don't have line numbers, but they'll have a stack trace at least
[19:13:44] *** Joins: nkoep (nik@moz-883D52A9.vpn.rwth-aachen.de)
[19:14:20] <lex> jason_: it doesn't segfault every time I run it though. Do I use gdb or just run it normally to get a stack trace?
[19:15:17] <jason_> lex: i see, but it has already crashed and saved a core dump file for you (i can see that in your screenshot)
[19:15:58] *** Joins: eagen (eagen@8737942B.7A99C13A.B7961A98.IP)
[19:15:58] <jason_> you'll run it normally, but then run gdb on the core file to get a stack trace
[19:15:58] *** Parts: gyutyuglf (gyutyuglft@5B8EAF5B.FEED97F.B88AD130.IP) ()
[19:16:12] <lex> jason_: tryig. you'll have to bear with me on this. haven't tried to get this kind of debug info before. 
[19:17:07] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:17:26] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:17:28] <tjc> pcwalton: r? https://github.com/mozilla/rust/pull/9785
[19:17:43] <lex> jason_: it doesn't looked like it saved a core file
[19:18:05] <jason_> lex: are you using ubuntu?
[19:18:12] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:18:21] <lex> jason_: arch
[19:18:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:18:32] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[19:18:45] <jason_> ubuntu puts cores in some hard to find location, not sure about arch
[19:19:53] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[19:20:25] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[19:21:19] <Earnestly> Right, `let foo = from_str::<int>(bar).unwrap();` was the solution
[19:24:02] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[19:25:09] *** Quits: tikue_ (tikue_star@FB0C56AD.E2CAEE6E.689607DE.IP) (Ping timeout)
[19:25:21] *** Joins: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de)
[19:26:14] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Quit: Quitting)
[19:27:11] <jason_> lex: i am trying it with my rust and no crash so far :(
[19:27:25] <lex> jason_: okay, i have the core dump. arch makes getting them a little bit strange
[19:27:49] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[19:28:01] *** Quits: fran (fran@moz-C4AB1B95.telecom.net.ar) (Ping timeout)
[19:28:07] <jason_> k, gdb path/to/binary path/to/corefile
[19:28:11] <jason_> then: bt
[19:28:59] *** Joins: jviereck1 (Adium@moz-4C9C4638.dip0.t-ipconnect.de)
[19:29:17] *** Quits: jviereck1 (Adium@moz-4C9C4638.dip0.t-ipconnect.de) (Max SendQ exceeded)
[19:29:17] *** Joins: jviereck2 (Adium@moz-4C9C4638.dip0.t-ipconnect.de)
[19:29:40] *** Quits: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de) (Connection reset by peer)
[19:30:20] <myname> any way to really pretty-print something like phps var_dump
[19:30:33] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[19:31:02] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[19:31:02] *** Quits: jviereck2 (Adium@moz-4C9C4638.dip0.t-ipconnect.de) (Ping timeout)
[19:31:05] <myname> i.e. arrays with indentation
[19:31:25] *** Quits: mib_ii4sbo (Mibbit@EEF5D8A7.AB90FD70.31FD74A3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:31:35] <strcat> no
[19:31:35] *** Quits: Jackneill (Jackneill@moz-48A38189.pool.digikabel.hu) (Input/output error)
[19:31:38] <lex> jason_: here's what gdb gave me: http://pastebin.com/3cDKqWeN
[19:31:51] <strcat> unless you write your own repr
[19:32:05] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[19:32:16] *** Joins: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de)
[19:32:28] *** Joins: fran (fran@moz-8AC36ECB.telecom.net.ar)
[19:32:32] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[19:32:53] *** Joins: hoverbear (andrew@moz-2507E2FF.wireless.uvic.ca)
[19:33:41] <myname> :S
[19:33:50] <jason_> lex: looks like you recompiled threadCapture since the core file was created. you need the exact binary that was used when it cored :\
[19:34:01] <myname> i have a nested struct of 1 mb
[19:34:04] <lex> jason_: whoops. warned you that i was new to this.
[19:34:10] <myname> it's pretty hard to read
[19:34:24] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[19:34:40] <jason_> lex: its not to hard to recreate the binary though, just recompile with the same source and flags
[19:35:07] <jason_> lex: so for example, rebuild it without debug symbols just rustc threadCapture.rs and try that binary
[19:35:21] <jason_> as long as you're not changing the source code, its easy :)
[19:35:48] <jason_> and i still haven't gotten it to crash for me :\
[19:36:11] <lex> jason_: hm. maybe it's something to do with my setup then.
[19:36:28] <lex> jason_: using the coredump, how'd you tell that it wasn't the same binary?
[19:38:35] *** AutomatedTester|away is now known as AutomatedTester
[19:38:53] <lex> jason_: is this one better? I ran it with the same binary that generated the report: http://pastebin.com/EwZv4Nf7
[19:39:49] <jason_> lex: ya, can you run 'bt' in gdb and show me that?
[19:40:15] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[19:40:56] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[19:40:57] <jason_> lex: and to answer your previous question my clue was #0  0x00007f13b28b9282 in ?? (), the ?? should generally be a symbol name. when you used the correct binary it showed #0  0x00007ff17f449f54 in uv_idle_init ()
[19:41:56] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[19:43:19] <lex> jason_: here's the backtrace: http://pastebin.com/vavYaHxD
[19:45:56] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[19:45:59] *** Joins: sjmur (chatzilla@BA6AE206.87F910E.C2E02DEF.IP)
[19:46:23] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[19:47:06] <SiegeLord> Yeah, so this new privacy thing is very restrictive...
[19:47:25] <bstrie> haha
[19:47:26] <SiegeLord> What I had before were private modules which were children of public modules which set private fields of public structs
[19:47:28] <bstrie> how so?
[19:47:51] <bstrie> SiegeLord: I'm sure people would be willing to reexamine the privacy rules if they're too onerous
[19:48:03] <SiegeLord> Now if I move that private code to a different module, they cannot set the private fields anymore
[19:48:47] <bstrie> SiegeLord: would you mind filing a bug or posting something on these to the mailing list? now's the best time, while everything is still in flux
[19:48:55] *** Quits: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca) (Quit: canhtak)
[19:49:05] <jason_> lex: hmm, i've seen IdleWatcher show up in helgrind stacks as a possible race condition. i thought it was a false positive, but maybe it isn't
[19:49:45] <jason_> lex: i'd file it as a bug with the stack trace and code/instructions to repro
[19:49:49] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[19:50:31] *** Joins: Cage (textual@moz-96E3369D.telkomadsl.co.za)
[19:50:36] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:50:54] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:51:30] <jason_> lex: it *still* hasn't crashed for me either. so it is possible its been fixed in master, you might want to try building from master
[19:51:38] *** Joins: tikue_ (tikue_star@637FA60E.B7A42AA3.689607DE.IP)
[19:52:46] <lex> jason_: okay, let switch to 0.9pre. 
[19:53:40] *** Parts: Cage (textual@moz-96E3369D.telkomadsl.co.za) (Textual IRC Client: www.textualapp.com)
[19:56:34] <lex> jason_: okay, it did it again
[19:57:01] <lex> jason_: looking at the bt in a second, it printed this to stdout: threadCapture: ../nptl/pthread_mutex_lock.c:80: __pthread_mutex_lock: Assertion `mutex->__data.__owner == 0' failed.
[20:00:20] *** Quits: hoverbear (andrew@moz-2507E2FF.wireless.uvic.ca) (Quit: hoverbear)
[20:01:20] *** Quits: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com) (Connection reset by peer)
[20:02:46] *** Joins: jviereck1 (Adium@moz-4C9C4638.dip0.t-ipconnect.de)
[20:02:46] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[20:02:49] *** Quits: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de) (Ping timeout)
[20:03:02] *** Joins: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com)
[20:03:32] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[20:04:19] <avsej> what if i have library which ship only static archives? like libabc.a, is it possible to link it into create and wrap with some rust interface?
[20:04:25] <lex> jason_: here are some more backtraces: http://pastebin.com/UytiUC1U
[20:04:57] <SiegeLord> bstrie: I bet the answer will be, "we won't support your use case" but I guess I could try :p
[20:05:23] <SiegeLord> Or, worse, "nobody needed to do it yet in rustc code, so it's not necessary"
[20:05:30] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[20:05:55] <strcat> avsej: yes
[20:06:23] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Ping timeout)
[20:06:26] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:06:26] *** ChanServ sets mode: +o pnkfelix
[20:06:50] <avsej> strcat, can you point to some tutorials/example maybe?
[20:07:10] <strcat> it won't really be any different than using a dynamic library
[20:07:21] <strcat> the linker will find it
[20:07:37] *** Quits: fabiand (fabiand@moz-251A2E26.adsl.alicedsl.de) (Quit: Verlassend)
[20:08:15] <SiegeLord> Actually, you know what I could do... I could take that struct and put it inside the internal module
[20:08:22] <SiegeLord> And then re-export it in the old public module
[20:08:25] <avsej> okay, then I just should try to do it
[20:08:27] <avsej> thanks
[20:08:34] <SiegeLord> This transformation might always work, so perhaps there's no problem
[20:08:37] *** Joins: hoverbear (andrew@moz-2507E2FF.wireless.uvic.ca)
[20:11:57] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[20:13:58] *** Quits: hoverbear (andrew@moz-2507E2FF.wireless.uvic.ca) (Quit: hoverbear)
[20:17:55] *** Quits: nkoep (nik@moz-883D52A9.vpn.rwth-aachen.de) (Ping timeout)
[20:18:11] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[20:18:15] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[20:19:00] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[20:19:58] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[20:20:25] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[20:21:14] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[20:22:42] <SiegeLord> I feels like the new code is more fragile with respect to glob imports too...
[20:23:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:23:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:23:51] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[20:23:59] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[20:24:15] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[20:24:54] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[20:25:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:25:57] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[20:27:08] *** Quits: tikue_ (tikue_star@637FA60E.B7A42AA3.689607DE.IP) (Ping timeout)
[20:27:28] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[20:29:03] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:29:05] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[20:29:40] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[20:30:01] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[20:30:24] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[20:31:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:31:56] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[20:33:03] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:33:03] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[20:33:25] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131007213254])
[20:34:17] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[20:34:43] <myname> okay, how does | and if are priorized in pattern matching?
[20:35:08] <myname> is it like "(foo(x) | bar(x)) if x == 5 =>"
[20:35:23] <myname> of "foo(x) | (bar(x) if x == 5) =>"?
[20:36:23] *** Joins: nkoep (nik@moz-F97E4EB2.pool.mediaways.net)
[20:36:52] <SiegeLord> So my technique doesn't quite work... you basically have to move everything into the crate-scoped module
[20:37:05] <SiegeLord> And then pub use' stuff you actually want public
[20:38:20] *** Joins: hoverbear (andrew@moz-569AB74B.wireless.uvic.ca)
[20:39:25] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:39:46] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:39:50] *** Joins: tikue_ (tikue_star@95AFD936.21C37D63.689607DE.IP)
[20:40:10] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:40:35] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:40:47] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[20:40:59] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:41:13] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:42:44] <myname> interesting, it looks like the first way doesn't work at all
[20:43:30] <myname> is this a bug?
[20:45:01] <cmr> myname: yes, | can't occur in patterns, only in match separating patterns.
[20:45:07] <cmr> or, no, but that's why
[20:45:32] <myname> i wand seperate patterns
[20:45:36] <myname> but with the same if
[20:45:50] *** Quits: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com) (Ping timeout)
[20:45:52] <myname> *want
[20:45:54] <myname> wtf
[20:45:57] *** Joins: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com)
[20:47:00] <pnkfelix> myname: have you tried "foo(x) | bar(x) if x == 5 => …" with no parens?
[20:47:30] <myname> my question was if that is what i want, but i may try
[20:47:36] <pnkfelix> myname: (my memory is that the `if` here is already in scope of disjunction of all the patterns)
[20:47:52] *** Joins: nrc (nrc@moz-3576D163.cable.virginmedia.com)
[20:48:09] <pnkfelix> myname: or … not "disjunction" … that's not the best word here.  Maybe "intersection"
[20:49:03] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[20:49:45] *** Parts: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) ()
[20:50:19] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[20:53:11] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:54:19] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:59:32] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:01:24] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:02:52] *** Quits: jviereck1 (Adium@moz-4C9C4638.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:04:27] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:04:31] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[21:04:32] *** Joins: Ralith (ralith@moz-BD8F2783.vc.shawcable.net)
[21:04:51] *** Joins: mib_64gu8g (Mibbit@7C74DB0E.91BD920C.F8B6DE7D.IP)
[21:05:22] *** Quits: mib_64gu8g (Mibbit@7C74DB0E.91BD920C.F8B6DE7D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:05:42] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:05:46] *** Quits: hoverbear (andrew@moz-569AB74B.wireless.uvic.ca) (Quit: hoverbear)
[21:08:53] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[21:10:01] *** Joins: jgilbert (jgilbert@moz-7B0110AD.mv.mozilla.com)
[21:11:15] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[21:11:15] *** ChanServ sets mode: +o tjc
[21:12:36] *** Joins: alon (alon@moz-AC8C0D22.bb.netvision.net.il)
[21:13:09] <pcwalton> if is in scope of all the disjunctive patterns, yes
[21:14:15] <alon> sebcrozet, hi, I've been using your kiss3d library, thanks very much for writing it. Are you working on updating it to use your latest nalgebra? it's mostly just the module change, but the Iso3f64 -> Iso3 change resulted in a missing submat implementation, any ideas?
[21:15:39] <sebcrozet> alon: hi.
[21:15:53] <alon> s/module/namespace, everything moving to na/
[21:15:54] <sebcrozet> alon: I think kiss3d already use the latest nalgebra.
[21:16:09] <alon> it does? ok, I messed up my git pull then.
[21:16:19] <sebcrozet> alon: did you try a "git submodule update" ?
[21:16:35] <alon> no, that's not the problem - I have my own clone which is now origin, I forgot I renamed yours upstream.
[21:17:12] <alon> I'm doing the oculus support - it's working nicely, but not in a state I can send patches. I ended up making camera take multiple passes.
[21:17:32] <alon> I just decided to update my rust from 0.8 and then had to update everything..
[21:17:52] <sebcrozet> alon: oh, It’s you!
[21:17:58] <sebcrozet> alon: that sounds awesome!
[21:19:08] <alon> if I stop being lazy and rewrite the patches it will be :)
[21:19:13] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:20:25] <sebcrozet> alon: btw, be careful with the last version of the compiler, thinks may break because of #9774
[21:20:26] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:20:41] <sebcrozet> alon: may break kiss3d *
[21:20:48] <alon> thanks for the warning
[21:22:01] <sebcrozet> alon: I’m working on a workaround for that until the patch lands. This will be a trait-based cast function (more generic than the stdlib From/ToPrimitive).
[21:23:32] *** Joins: gyutyuglf (gyutyuglft@5B8EAF5B.FEED97F.B88AD130.IP)
[21:23:44] <alon> for a while I tried to do the update of nalgebra myself, I didn't get NumCast yet, it was failing (returning None) in vec_macros.rs, and now I pulled yours and saw it required defining a Zero trait? I'm over my head here still. I'm working on learning simpler stuff right now - like how I can add a tcp socket to the main loop.
[21:25:24] <sebcrozet> alon: NumCast will fail on vec_macros if your vector has at least one negative component…
[21:25:50] *** Joins: jmgrosen (jmgrosen@moz-BF80C818.sbcc.edu)
[21:27:15] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Connection reset by peer)
[21:27:42] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:27:59] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[21:28:19] <alon> I didn't expect that.
[21:28:56] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[21:29:07] <sebcrozet> alon: yeah, that is the stdlib bug I mentioned before.
[21:29:27] <alon> oh, ok.
[21:29:32] <alon> I am still hunting for it on github
[21:29:58] <alon> found it
[21:31:27] <alon> I agree with the first comment. but it's probably more then a one liner in that case.
[21:31:35] <sebcrozet> alon: I just updated nalgebra + kiss3d to use my own Cast trait. If you use "na::cast" instead of "NumCast::from", everything should be fine.
[21:31:43] *** Joins: JenniferLopez (sam@moz-212ECDA5.phnx.qwest.net)
[21:31:53] <alon> cool, workaround time :)
[21:33:31] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[21:34:08] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[21:34:17] <JenniferLopez> hello individuals of an unspecified gender
[21:34:39] <maik> question to the vim users, if you define a function with many arguments. How do you align the arguments?
[21:34:42] <tjc> Hi JenniferLopez -- fancy seeing such a celebrity here
[21:34:58] <JenniferLopez> jenny from the block is also a programmer
[21:35:05] <JenniferLopez> but don't tell anyone i'll lose my street cred
[21:35:07] <tjc> the more you know!
[21:36:14] <devbug> How long as 'Some' been around?
[21:36:30] <devbug> s/as/has/
[21:36:44] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:37:07] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[21:37:28] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[21:37:44] *** Joins: sw17ch (sw17ch@EBB2C672.B14B64CB.284344F5.IP)
[21:37:50] *** Joins: hoverbear (andrew@moz-569AB74B.wireless.uvic.ca)
[21:39:22] <alon> sebcrozet, why did .inverted change to na::inverted ? (same for homogeneous)
[21:39:23] *** Quits: Sorella (quildreen@779B14A.7283D007.A95FAE2B.IP) (Quit: Ex-Chat)
[21:39:48] <sebcrozet> alon: It did not (the method still exists)
[21:40:06] <sebcrozet> alon: now, everything can be accessed as a "free function" or a method.
[21:40:15] <alon> oh. but you decided to change to using functions rather then methods in camera/first_person.rs
[21:40:17] <sebcrozet> alon: If you prefer the method, just import the na::Inv trait.
[21:40:22] <alon> ok
[21:43:54] *** Quits: sw17ch (sw17ch@EBB2C672.B14B64CB.284344F5.IP) (Ping timeout)
[21:44:13] <alon> sebcrozet, is clone a deep copy or a shallow copy?
[21:44:31] <sebcrozet> alon: shallow
[21:44:35] <alon> actually, I guess for matrices it doesn't matter, nevermind.
[21:46:08] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Quit: probably going to bed)
[21:46:21] *** Quits: kphelps (kyle@moz-8B098CA5.hsd1.ma.comcast.net) (Quit: Lost terminal)
[21:46:30] *** Quits: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) (Input/output error)
[21:46:55] *** Joins: Deux (Mibbit@moz-2BA1CC6A.hsd1.il.comcast.net)
[21:46:56] <sebcrozet> alon: if you want to get a deep copy of an @/@mut/Rc/RcMut box, there is "deep_clone()"
[21:47:39] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[21:47:43] <kimundi> clone is neither deep nor shallow
[21:47:58] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[21:47:58] <kimundi> it's "as deep as neccessary for a copy of the ownership tree"
[21:49:26] *** Joins: AnAlien (Mibbit@moz-582A9947.stny.res.rr.com)
[21:49:46] *** Joins: heftig (heftig@moz-CFB9DAF0.dip0.t-ipconnect.de)
[21:49:55] <AnAlien> hello
[21:50:18] *** Quits: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr) (Connection reset by peer)
[21:50:35] *** Joins: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr)
[21:51:05] <alon> kimundi, doesn't that mean a deep copy? if there is something reference counted will it just take a reference?
[21:51:35] *** Quits: tikue_ (tikue_star@95AFD936.21C37D63.689607DE.IP) (Ping timeout)
[21:51:50] <kimundi> no, a deep copy is if it also copies things beyond it's ownership tree
[21:52:00] *** Quits: lfox (larryfox@F49991AB.59675ABF.1A42473E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:52:29] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[21:52:36] *** Joins: tikue_ (tikue_star@95AFD936.21C37D63.689607DE.IP)
[21:52:43] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:52:44] <tjc> Is this what some people call a "sheep clone"?
[21:52:46] <kimundi> clone for a refence counted type just clones the reference, deep_clone will actually make a copy of the content as a new refcounted box
[21:53:07] <alon> "clones the reference" - doesn't that have to mean taking a reference?
[21:53:18] <kimundi> sorry, bad wording
[21:53:35] <kimundi> I mean it will only give you a new handle and pump the reference count for example
[21:53:40] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:53:47] <alon> ok, that makes sense.
[21:54:05] *** Quits: Deux (Mibbit@moz-2BA1CC6A.hsd1.il.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:54:30] *** Quits: hoverbear (andrew@moz-569AB74B.wireless.uvic.ca) (Quit: hoverbear)
[21:54:44] <kimundi> because it only copies the ownership tree, which ends with the handle itself. the actual data is shared by all handles, and only deleted if the refcount reaches 0
[21:55:29] <alon> I don't remember seeing the "ownership tree" mentioned in the docs, I guess it's not in the tutorial/manual?
[21:55:40] *** Quits: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) (Client exited)
[21:56:09] <alon> is this something that exists during runtime or compile time only?
[21:56:48] <kimundi> Well, in a way neither. It's basically just a concept that describes the semantic of types in regard to ownership
[21:56:49] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[21:56:51] <tjc> alon: It's dynamic
[21:57:09] <kmc> alon: true, it's not documented well, but it's implicit in the idea that mutability is inherited, for example
[21:57:11] <tjc> but kimundi is also right -- it's more of a model of execution state that lives in our heads
[21:57:27] <jason_> how would i make the pointer (T *)0x1 in rust?
[21:57:40] <alon> std::ptr?
[21:57:48] <kimundi> 1 as *T ?
[21:58:06] <jason_> 1 as *T seems to give something odd
[21:58:12] <jason_> rusti: let x: *int = (1 as *int); x
[21:58:13] -rusti- (0x1 as *())
[21:58:13] <kmc> an object is mutable iff its root owner is declared 'mut'; the root owner will be either a local variable or some non-unique box like @/@mut or Rc/RcMut
[21:58:30] <kmc> ("non-unique box" is a confusing term but I don't have a better one)
[21:58:34] <jason_> i don't get *()
[21:58:38] <kmc> pointer to void
[21:58:45] <kmc> effectively
[21:58:48] <alon> thanks, I've got something to think about :)
[21:58:52] <kimundi> well, pointer to unit :P
[21:58:56] *** Quits: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de) (Quit: Leaving)
[21:59:09] <kmc> I mean that it's used similar to void* in C.  but you could also use *c_void in Rust
[21:59:18] <jason_> ok, i'll try that
[21:59:21] <kimundi> we also a have a regular void
[21:59:28] <kimundi> *void somewhere
[21:59:44] <kimundi> Unlike (), it's unihabitable
[21:59:52] <alon> is there a way to get a stack trace on explicit failures? i.e. "task bla failed on Option::unwrap() at <location in rust std library that isn't useful>"
[22:00:13] <kmc> alon: you can run gdb and break on rust_begin_unwind
[22:00:15] <kimundi> enable debug info and use gdb
[22:00:38] <alon> thanks
[22:00:40] *** Quits: AnAlien (Mibbit@moz-582A9947.stny.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:01:03] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:01:16] *** Quits: Palmik (palmik@moz-11EA685D.pks.muni.cz) (Quit: Lost terminal)
[22:01:37] *** Quits: krdln (Mibbit@moz-6F8A8560.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[22:03:18] *** Quits: derboi_c (derboi_c@3C19ED4E.DC78FBC3.BA2F4534.IP) (Ping timeout)
[22:03:31] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[22:03:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:04:18] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:05:16] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[22:05:27] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[22:05:53] <devbug> Okay, so
[22:05:59] *** bent is now known as bent|away
[22:05:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:06:06] <devbug> Option::Some(T)
[22:06:15] <devbug> err, Option<T>::Some(T)
[22:06:25] *** Joins: derboi_c (derboi_c@4585C218.B5A77373.BA2F4534.IP)
[22:07:26] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:08:09] <acrichto> alon: another way that I just saw the other day was 'catch throw' which is a little easier to remember than rust_begin_unwind
[22:08:18] <acrichto> also semantically makes a little more sense
[22:08:22] <alon> oh, because c++, right, thanks!
[22:08:28] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:08:48] <kmc> cool, I didn't know 'catch throw' works
[22:09:00] *** jorendorff is now known as jorendorff_away
[22:09:40] <acrichto> props to pnkfelix for suggesting it
[22:09:45] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[22:11:16] <sfackler> devbug: ?
[22:12:49] <brson> anybody have comments on https://github.com/mozilla/rust/issues/9728?
[22:13:46] <tjc> brson: I looked at it, but I was missing the motivation for wanting to have the feature
[22:13:48] <acrichto> I found them kinda cool sometimes, especially for embedding locks, but I haven't used them enough to have an opinion one way or another
[22:13:57] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[22:14:44] <tjc> it sounds like a fair amount of added special cases for… I'm not sure what benefit
[22:15:11] <sfackler> being able to delegate to a member is pretty useful, but I don't know if it's better to go about it via anonymous members or #[delegate(something, member)] or somethign like that
[22:15:26] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:17:35] <SiegeLord> Isn't that what tuple structs are for?
[22:17:42] <sfackler> that pattern is used pretty heavily in std::rt with things like pub struct TcpStream { priv inner: ~RtioTcpStreamObject
[22:17:53] <sfackler> SiegeLord: tuple structs can't hide their internals
[22:17:57] *** Quits: tikue_ (tikue_star@95AFD936.21C37D63.689607DE.IP) (Ping timeout)
[22:18:03] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[22:19:22] *** Joins: Liothen (liothen@moz-266BCA86.spkn.qwest.net)
[22:19:28] <sfackler> I switched everything in std::rt away from tuple structs a week or two ago for that reason
[22:20:49] <SiegeLord> I kind of feel making everything public seems to be simpler than figuring out these privacy rules :P
[22:20:54] <strcat> we could just allow privacy on newtype structs
[22:21:03] <strcat> I opened a bug about it a long time ago but it was rejected ;p
[22:21:53] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[22:22:22] *** Quits: jmgrosen (jmgrosen@moz-BF80C818.sbcc.edu) (Quit: jmgrosen)
[22:23:41] <jason_> it'd be nice if static member functions could be called inside other member without explicitly referencing the type
[22:23:55] *** Quits: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr) (Ping timeout)
[22:24:28] <jason_> all the Class::foo() is getting noisy
[22:24:37] <cmr> "static member functions"
[22:24:54] <cmr> they're associated functions, once we have associated items, they'll look like that too.
[22:25:24] <SiegeLord> Can you do Self::foo()?
[22:25:50] <cmr> I don't think so
[22:26:52] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:27:38] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:28:20] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:28:34] <ruzu> double::colons::everywhere::omg
[22:28:42] <rossm> worst thing ever
[22:28:55] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[22:29:18] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:29:25] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:29:33] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[22:29:34] *** Quits: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr) (Ping timeout)
[22:29:53] <tjc> Please keep it constructive, folks: https://github.com/mozilla/rust/wiki/Note-development-policy (specifically, the part that says "Please keep unstructured critique to a minimum.")
[22:30:13] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[22:30:40] * myname slaps ruzu with an unexpected paamayim_nekudotayim
[22:30:45] <tjc> heh
[22:30:50] <SiegeLord> Another suggestion might be to make use Self; work
[22:30:53] <tjc> careful, you could take somebody's eye out with that
[22:30:57] <SiegeLord> Err... use Self::*
[22:31:05] <ruzu> :'(  tough crowd
[22:31:13] <SiegeLord> Whether it's literally use Self::*; or use MyType::*;
[22:31:19] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:31:30] <JenniferLopez> ruzu: I am easily impressed that was amusing
[22:34:40] *** Quits: jordyd (jordyd@moz-16DEDE20.seg53.ucf.edu) (Ping timeout)
[22:34:50] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:35:29] <SiegeLord> I think I'll stop shuffling my code around to fit the new privacy rules... I think I might opt for using include!
[22:37:06] <sam113101> HELLO
[22:37:27] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:37:40] <sam113101> will rust be usable for embedded programming?
[22:37:52] *** Quits: nrc (nrc@moz-3576D163.cable.virginmedia.com) (Ping timeout)
[22:38:03] <strcat> sure
[22:38:05] <tjc> sam113101: We think so, but it's not a priority for the core team to find out, at least not at this moment
[22:38:28] <strcat> with the stdlib disabled you're in the same situation as C
[22:38:33] <tjc> for an example, pcwalton's NES emulator ( https://github.com/pcwalton/sprocketnes ) is written in Rust without using any dynamic allocation
[22:38:48] <sam113101> will it be possible to avoid the garbage collector? I mean, if the standard library uses @vars, it's going to be a pain, no?
[22:38:54] <ruzu> if rust was an option for ios/android (ie arm / whatever platforms) it'd probably explode
[22:38:59] <tjc> sam113101: Yes, the goal is for the standard library not to use @ types
[22:39:03] <tjc> so that you can always avoid the GC if you want to
[22:39:10] <cmr> ruzu: it works on arm and we test on android.
[22:39:14] <ruzu> :o
[22:39:15] <pcwalton> the stdlib doesn't really use @
[22:39:25] <sam113101> tjc: oh, great
[22:39:32] <tjc> pcwalton: are there zero uses of @ left in the stdlib? last I checked, it wasn't quite @-free...
[22:39:45] <cmr> Besides at_vec and managed I don't know of any.
[22:39:52] <strcat> tjc: well, beyond the support for @ there's not much
[22:39:58] <strcat> TLS doesn't use them anymore
[22:40:03] <strcat> and afaik the new I/O doesn't
[22:40:05] <tjc> strcat: ok. so that's the best answer :-)
[22:40:25] <brson> i think the tls rng uses @ still
[22:40:35] <strcat> ah
[22:40:37] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[22:40:38] <brson> but it shouldn't
[22:40:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:41:00] <rossm> tjc thanks for the conduct link. appreciated
[22:41:08] <tjc> rossm: np
[22:41:32] <strcat> if you're really on a resource constrained environment, you'll probably end up not directly using libstd anyway - for the moment
[22:41:44] <strcat> since it forces you into dynamic linking + having a thread pool
[22:42:14] <tjc> We also plan to add static linking
[22:42:17] <strcat> you could just check out the rust source tree and include the libstd modules via source ;p
[22:42:21] <tjc> Not sure if that's on the menu for 1.0, though
[22:42:23] <doomlord_> supposedly some subset of the stdlib is just like inlined code/templates
[22:42:37] <cmr> tjc: acrichto asked to talk to brson about it today.
[22:42:57] <strcat> doomlord_: a tiny subset of the stdlib has no overhead from the subtle things it has to deal with
[22:43:00] <acrichto> I'm trying to figure out static linking right now
[22:43:03] <acrichto> it's tough though ...
[22:43:04] <strcat> std::option, std::iter
[22:43:09] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:43:09] *** ChanServ sets mode: +ao dherman dherman
[22:43:15] <strcat> anything touching allocation has overhead
[22:43:30] <tjc> acrichto: Yep, I wouldn't expect it to be easy. If it was, it would have been done much earlier on :-)
[22:44:56] <strcat> and vectors are ridiculously slow atm :(
[22:45:56] <strcat> I'm not quite sure if it can be improved without changing the layout though or if any of it is caused by using bytes instead of number of elements
[22:46:18] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[22:49:18] *** Joins: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net)
[22:52:01] <strcat> at least it doesn't seem like our fault that LLVM is terrible at removing bounds checks ;p
[22:52:33] <tjc> strcat: Well, we can certainly (a) try to hack LLVM or (b) figure out if there are any hints we could provide that would help the LLVM optimizer
[22:52:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:52:38] <tjc> I'm not sure if either or both has been tried already
[22:52:52] <strcat> I am going to try adding #[cold] and marking all of the fail functions that way for starters
[22:53:01] <tjc> what does #[cold] do?
[22:53:14] <strcat> tjc: well we can set cold attributes on functions to tell LLVM to make them the slow path
[22:53:19] <strcat> since unwinding is already incredibly slow ;p
[22:53:33] <tjc> strcat: I wonder if we could do some of that automatically in rustc based on whether or not a function is -> ! ...
[22:53:36] <tjc> but maybe it's easier to do it by hand
[22:53:55] *** Quits: graememcc (chatzilla@moz-CE628128.range81-157.btcentralplus.com) (Quit: ChatZilla 0.9.90.1 [Firefox 24.0/20130911164256])
[22:54:02] <dbaupp> SiegeLord: fwiw, the "old privacy rules" were not defined, and basically just products of the quirks of the implementation
[22:54:03] *** Joins: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca)
[22:54:08] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[22:54:08] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Quit: alan)
[22:54:12] <strcat> tjc: well I did already mark -> ! functions as noreturn
[22:54:19] <strcat> so it would be trivial to mark them cold, but it might be a bad idea
[22:54:28] <strcat> because you could have code that needs to be fast before abort/exit/unwind
[22:54:35] <tjc> yeah, I can see that
[22:54:58] <SiegeLord> dbaupp: Well, they approximated old proposals for new rules
[22:55:08] <strcat> I moved all the rust function stuff to one code path so it's really easy to add attributes/metadata to functions ;p
[22:55:13] <strcat> need excuses to do it now!
[22:57:40] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:58:54] *** jorendorff_away is now known as jorendorff
[22:59:15] *** Joins: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr)
[22:59:16] *** Parts: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr) (Gone)
[22:59:20] *** jorendorff is now known as jorendorff_away
[23:00:16] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[23:00:48] *** jorendorff_away is now known as jorendorff
[23:02:02] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[23:02:20] *** Joins: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com)
[23:05:34] *** Quits: sjmur (chatzilla@BA6AE206.87F910E.C2E02DEF.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 24.0/20130911164256])
[23:08:30] <jason_> how do i do a continue with label?
[23:08:48] <cmr> 'bar loop { .... continue 'foo; .... }
[23:08:55] <cmr> ormaybe it's 'bar:
[23:09:02] <cmr> erm, continue 'bar
[23:09:08] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[23:09:58] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:10:03] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[23:10:18] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:10:43] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[23:11:16] <jason_> cmr: 'bar: loop { continue 'bar } worked
[23:11:29] <jason_> compiled at least
[23:12:05] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:13:06] <myname> can you only continue to loops or can you practically expand goto!('foo) to loop { continue 'foo }?
[23:13:40] *** Quits: sam113101 (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com) (Ping timeout)
[23:14:05] *** Joins: sam113101 (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com)
[23:14:11] <cmr> youcan only continue to loops.
[23:14:26] *** Quits: JenniferLopez (sam@moz-212ECDA5.phnx.qwest.net) (Quit: WeeChat 0.4.1)
[23:16:28] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:17:22] *** Quits: saati (s@moz-11469F61.harmless.hu) (Ping timeout)
[23:18:08] *** Quits: bent|away (chatzilla@moz-2CD73AA6.triad.res.rr.com) (Ping timeout)
[23:18:13] *** Joins: saati (s@moz-11469F61.harmless.hu)
[23:19:09] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[23:20:51] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[23:21:04] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:21:26] <acrichto> tjc: #9787 reminded me that I've been meaning to ask you a question about rustpkg, it's possible to specify a git repo dependency, and then two different workspaces (on different machines possibly) would have different copies of the remote dep depending on when they were checked out?
[23:21:40] <acrichto> it doesn't really have anything to do with the issue, just reminded me that I was curious
[23:22:37] <tjc> acrichto: If you don't specify a particular revision in the `extern mod` directive, then yes, it's definitely possible
[23:22:47] <tjc> that's one of the reasons to pin it to a specific revision
[23:23:07] <acrichto> but would you have to check in to the local repo what you pinned it to?
[23:23:33] <tjc> if I understand your question right, then yes
[23:23:44] <tjc> to be concrete: what I mean by pinning to a specific rev is writing something like:
[23:24:01] <tjc> extern mod foo = "github.com/catamorphism/my-cool-package#decafbebad";
[23:24:06] *** Quits: nkoep (nik@moz-F97E4EB2.pool.mediaways.net) (Ping timeout)
[23:24:18] <tjc> since that would be a line of source in the importing module, it would be checked in to the repo that's depending on my-cool-package
[23:24:22] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:24:32] <acrichto> although isn't one of the larger complaints about 'go get' that it doesn't pin revisions?
[23:24:41] <tjc> it might be
[23:24:42] <acrichto> so even though we have the option to, we're not enforcing it?
[23:24:52] <tjc> it coudl be a lint pass
[23:25:01] <tjc> rustpkg doesn't have any lint passes right now, but it could have them
[23:25:08] <acrichto> there was that article going around about some popular game repo no one could build
[23:25:15] <tjc> Yeah, that's linked in #6480
[23:25:27] <acrichto> it'd be cool to have a lint pass though yeah
[23:25:28] <tjc> http://forums.thedailywtf.com/forums/t/27755.aspx
[23:25:37] <acrichto> yeah that's it
[23:26:04] <acrichto> I'm not really sure if it warrants a linting infrastructure in rustpkg itself
[23:26:12] <acrichto> but it would be cool to discourage that behavior
[23:26:43] <acrichto> tjc: although then you have the problem of when you want to update it you have to go figure out what the most recent revision is instead of just doing something like 'rustpkg please-update-m-deps'
[23:26:47] <hoverbear> http://static.rust-lang.org/doc/0.8/std/io/fn.stdin.html <--- Where is read_line() defined? It's not a @Reader method. :S
[23:27:12] <acrichto> hoverbear: std::io::ReaderUtil I believe
[23:27:13] <tjc> acrichto: That's true
[23:27:17] <tjc> It's an open question
[23:27:30] <hoverbear> acrichto: Ahhhh....
[23:27:31] <acrichto> hoverbear: http://static.rust-lang.org/doc/0.8/std/io/trait.ReaderUtil.html#fn.read_line
[23:27:47] <acrichto> tjc: ok cool, I was mostly just curious about what our current thoughts were about it
[23:27:47] <hoverbear> THanks :)
[23:28:07] <tjc> acrichto: Yeah, that's as far as my thoughts go. other people might have more thoughts!
[23:28:32] <acrichto> hoverbear: also, the rustdoc pages have search, so that could help in the future :)
[23:29:00] <acrichto> I learned recently you could press 's' and focus the search field and my life got so much better
[23:29:10] <hoverbear> acrichto: Hot damn. :)
[23:30:19] <kmc> how can I make a whole block of code run iff debug!() would print in the current module
[23:30:40] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[23:30:44] <Luqman> kmc: if cfg!(debug) { ... }
[23:31:01] <acrichto> kmc: if you want to get really hacky you could say "if 4 <= _log_level()"
[23:31:03] <kmc> that's controlled by RUST_LOG as well as --cfg debug?
[23:31:15] <acrichto> rusti: __log_level()
[23:31:16] -rusti- 1u32
[23:31:21] <kmc> acrichto: okay
[23:31:22] <acrichto> ah, two underscores
[23:31:26] <acrichto> kmc: that's not at all stable though
[23:31:32] <acrichto> it's just how the log macros are implemented
[23:31:32] <Luqman> kmc: well, only the --cfg flag
[23:32:05] <kmc> I've also seen putting the whole block as an argument to the debug! format string
[23:32:08] <kmc> which is also hackish
[23:32:18] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[23:32:22] <dbaupp> Luqman, kmc: I think the flag is ndebug, so `if !cfg!(ndebug)` or `if cfg!(not(ndebug))`
[23:32:26] <acrichto> kmc: perhaps we should add a log_level!() macro
[23:34:56] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:35:26] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[23:37:21] <kmc> i get error: unresolved name `__log_level`
[23:37:50] *** Quits: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com) (Quit: WeeChat 0.4.1)
[23:37:52] *** Joins: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com)
[23:37:59] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:37:59] *** ChanServ sets mode: +ao dherman dherman
[23:38:35] <acrichto> how old is rustc?
[23:38:41] *** Joins: nkoep (nik@moz-3669E081.vpn.rwth-aachen.de)
[23:38:47] *** Joins: jeffb (jeffbelg@moz-ABCAA64B.efi.com)
[23:38:48] <kmc> rustc 0.8 (eb55348 2013-09-23 09:20:56 -0700)
[23:38:59] <kmc> er, not that one, sec
[23:39:17] <kmc> 0.8-pre (d39cec6 2013-09-06 05:05:59 -0700)
[23:39:36] <acrichto> oh I think that's too old
[23:40:21] <kmc> ok, I'll do the format string argument hack
[23:40:37] <myname> what
[23:41:38] <kmc> debug!("%?", for foo in bar { debug!("%?", baz(foo)); });
[23:41:42] <kmc> will print an extra () but whatever
[23:42:50] <csherratt> Can someone explain why adding the drop trait has this behaviour? https://gist.github.com/csherratt/6910445
[23:43:26] <cmr> csherratt: Drop adds a so-called "drop flag"
[23:44:43] *** Joins: jdm (jdm@moz-25D04F84.zone16.bethere.co.uk)
[23:44:43] *** ChanServ sets mode: +o jdm
[23:45:07] <jason_> what does the drop flag mean?
[23:45:10] *** Quits: KindOne (KindOne@moz-60C9F0C2.dynamic.ip.windstream.net) (Ping timeout)
[23:45:15] <cmr> I don't know what it's for.
[23:45:26] <dbaupp> jason_: it's to indicate if the destructor has run or not
[23:45:41] <strcat> it's zeroed on a move
[23:45:55] *** Joins: KindOne (KindOne@moz-60C9F0C2.dynamic.ip.windstream.net)
[23:45:57] *** Joins: Jesin (Jessin_@moz-635065E4.cc.lehigh.edu)
[23:46:06] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[23:46:07] <dbaupp> should run*
[23:46:57] *** Joins: tikue_ (tikue_star@95AFD936.21C37D63.689607DE.IP)
[23:46:58] <strcat> there's an issue open about changing it
[23:48:13] <jason_> to make it a compile time thing instead?
[23:48:30] <strcat> ideally
[23:48:40] <strcat> C++ does it like we do atm though
[23:49:11] <cmr> Shouldn't we be able to never zero or do a shallow copy if there is a move?
[23:49:27] <strcat> no
[23:49:28] <dbaupp> cmr: depends what sort of move
[23:49:41] <strcat> by-value pass/assign/return *is* a shallow copy
[23:49:49] *** Joins: jordyd (jordyd@7DAC4ACE.77F880E0.D9401097.IP)
[23:49:52] <strcat> a move just means the source is now unusable
[23:50:20] <cmr> That's what I'm saying
[23:50:21] <jason_> strcat: are you saying adding a dtor to a c++ struct changes the size of instances of that struct?
[23:50:27] <cmr> Why do the shallow copyif the source isn't usable after anyway?
[23:50:29] <strcat> jason_: no
[23:50:43] <kmc> cmr: you have to get the data from point a to point b
[23:50:46] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[23:50:47] <strcat> I'm saying a C++ move constructor has to mark the struct as moved from
[23:50:52] <strcat> so the destructor doesn't run twice
[23:51:01] <cmr> kmc: no you don't, not unless you're calling a function
[23:51:03] <strcat> so if you don't have a convenient thing to zero or mark with a flag, you need an extra field
[23:51:04] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:51:27] <kmc> I must be missing the context of where you think this could be done, then
[23:51:31] <cmr> let a = b;
[23:51:38] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[23:51:38] *** ChanServ sets mode: +o tjc
[23:51:50] <strcat> cmr: and what about foo.bar = b
[23:51:56] <strcat> or foo { bar: b }
[23:51:57] <strcat> or 
[23:52:00] <cmr> that's different, that's not within the stack frame.
[23:52:00] <dbaupp> cmr: that's an edge-case move though, basically only for freezing/thawing
[23:52:16] <strcat> rusti: let mut a = ~5; let b = a; a = ~10; (a, b)
[23:52:17] -rusti- (~10, ~5)
[23:52:23] <strcat> cmr: it's pointless to do that analysis in rustc
[23:52:26] <strcat> LLVM optimizes already
[23:52:36] <strcat> a move isn't special - it's still a copy
[23:52:40] <cmr> ok, if llvm can do it I don't care :p
[23:53:38] <strcat> cmr: if a and b were both variables, you wouldn't be writing the code
[23:53:38] <cmr> yeah, actually, seemslikeatrivial optimization to perform
[23:53:46] <cmr> strcat: that's true
[23:54:26] <jason_> strcat: ok, i *think* i get what you're saying. you're saying when you have to write your own move operator/constructor you might need some flag. because i'm fairly certain the auto-generated moves don't.
[23:54:46] <strcat> jason_: auto-generated move constructors just call the existing move constructors
[23:54:56] <strcat> rust won't add a flag for auto-generated destructors
[23:55:00] <strcat> only explicitly added ones
[23:55:14] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:55:17] <strcat> rusti: struct Foo { x: ~int } std::sys::size_of::<Foo>()
[23:55:18] -rusti- 8u
[23:55:46] <myname> what happens with vec.push_fast if there isn't enough space?
[23:55:51] <strcat> rusti: struct Foo { x: Bar } struct Bar {} impl Drop for Bar {} (std::sys::size_of::<Foo>(), std::sys::size_of::<Bar>())
[23:55:51] -rusti- <anon>:7:43: 7:44 error: Unit-like struct definition should be written as `struct Bar;`
[23:55:51] -rusti- <anon>:7          struct Foo { x: Bar } struct Bar {} impl Drop for Bar {} (std::sys::size_of::<Foo>(), std::sys::size_of::<Bar>())
[23:55:51] -rusti-                                                     ^
[23:55:51] -rusti- application terminated with error code 101
[23:56:02] <strcat> rusti: struct Foo { x: Bar } struct Bar; impl Drop for Bar {} (std::sys::size_of::<Foo>(), std::sys::size_of::<Bar>())
[23:56:03] -rusti- <anon>:7:48: 7:52 error: missing method `drop`
[23:56:03] -rusti- <anon>:7          struct Foo { x: Bar } struct Bar; impl Drop for Bar {} (std::sys::size_of::<Foo>(), std::sys::size_of::<Bar>())
[23:56:03] -rusti-                                                          ^~~~
[23:56:03] -rusti- error: aborting due to previous error
[23:56:03] -rusti- application terminated with error code 101
[23:56:09] *** Joins: matt-r (mattr@8B499E37.E81D922B.BECC6F7D.IP)
[23:56:11] *** Quits: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com) (Quit: WeeChat 0.4.1)
[23:56:17] <strcat> rusti: struct Foo { x: Bar } struct Bar; impl Drop for Bar { fn drop(&mut self) {} } (std::sys::size_of::<Foo>(), std::sys::size_of::<Bar>())
[23:56:17] -rusti- (1u, 1u)
[23:57:34] <dbaupp> strcat: did the type-use removal fix https://github.com/mozilla/rust/issues/8142 ?
[23:57:48] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:58:08] *** Quits: matt-r (mattr@8B499E37.E81D922B.BECC6F7D.IP) (Ping timeout)
[23:58:33] <strcat> dbaupp: this is a different problem not related to merging
[23:58:45] <kmc> myname: Undefined Behavior i imagine
[23:58:48] <kmc> from looking at the code
[23:59:09] <dbaupp> strcat: ok (I just thought you'd close something like that, but clearly I was misremembering)
[23:59:10] <myname> hmm
[23:59:11] <strcat> push_fast is defined inside push
[23:59:15] <strcat> it's just a private internal detail
[23:59:31] <kmc> that's what I see as well
[23:59:33] <strcat> dbaupp: yeah I closed another bug like that
