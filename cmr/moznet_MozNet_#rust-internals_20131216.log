[00:04:15] <ktt3ja> dbaupp: both functions and methods are ast::item_fn, but somehow it encodes for the former and not the latter as well :/ https://github.com/mozilla/rust/blob/master/src/librustc/metadata/encoder.rs#L936
[00:21:26] *** Joins: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP)
[00:26:33] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[00:26:33] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/eu7bZA
[00:26:33] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[00:37:56] <ktt3ja> dbaupp: I wonder if this is how the bug occurs. `EncodeVisitor` only checks at expr, item, and foreign item: https://github.com/mozilla/rust/blob/master/src/librustc/metadata/encoder.rs#L1324-L1345. However, methods are walked with `walk_method_helper`, which calls `visit_fn` https://github.com/mozilla/rust/blob/master/src/libsyntax/visit.rs#L238, so you would have to intercept method with a `visit_fn`
[00:38:52] <ktt3ja> (so even though functions and methods are both ast::item_fn, the former gets encoded but the latter doesn't)
[00:39:15] <dbaupp> ktt3ja: I imagine that the item walker walks any methods
[00:39:21] <dbaupp> and calls (possibly) https://github.com/mozilla/rust/blob/master/src/librustc/metadata/encoder.rs#L795
[00:39:44] <dbaupp> (since *some* information about methods are encoded, e.g., their types, etc.)
[00:41:14] <ktt3ja> dbaupp: hmm, so I guess I only need to stick the encode_attributes inside that function
[00:41:22] <ktt3ja> dbaupp: I have been looking at the wrong place all along, sob
[00:41:56] <ktt3ja> dbaupp: tunnel-visioned on that ast::item_fn match arm :/
[00:42:42] * dbaupp hugs ktt3ja: "it's going to be alright"
[00:44:02] <ktt3ja> aww, thanks
[00:47:32] <ktt3ja> dbaupp: looks like ty::Method has no Attr field, though :p
[00:48:14] <dbaupp> hm
[00:48:22] <dbaupp> oh
[00:49:13] <dbaupp> ktt3ja: ast_method_opt does though
[00:49:22] * dbaupp is mildly confused about that
[00:50:59] <ktt3ja> dbaupp: oh, it looks like ast::method has it
[00:53:03] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:09:10] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[01:10:53] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[01:15:51] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[01:24:22] *** nrc is now known as nrc|afk
[01:42:03] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:42:03] *** ChanServ sets mode: +qo brson brson
[01:45:13] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:47:57] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[01:48:03] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[02:14:11] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[02:23:57] *** nrc|afk is now known as nrc
[02:26:29] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[02:26:29] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Fldlqg
[02:26:29] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[02:26:30] *** Quits: Kxepal (Miranda@moz-99D51CF4.pppoe.mtu-net.ru) (Quit: Kxepal)
[02:26:49] *** Joins: Kxepal (Miranda@moz-99D51CF4.pppoe.mtu-net.ru)
[02:28:50] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[02:36:36] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:46:03] *** Quits: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Ping timeout)
[02:47:21] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[03:09:41] <ktt3ja> dbaupp: where do I see the log of test results?
[03:10:03] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[03:10:13] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[03:10:50] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[03:10:59] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:11:58] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[03:18:18] *** Quits: ktt3ja (ktt3ja@moz-D69B60E4.hsd1.va.comcast.net) (Quit: Leaving)
[03:24:50] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:24:58] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:25:12] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:27:19] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[03:28:55] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[03:43:28] *** Quits: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP) (Ping timeout)
[03:51:15] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:54:11] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:55:11] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[03:57:36] *** Quits: zz_kimundi_who_cant_talk_atm (kimundi@moz-2DC78921.dip0.t-ipconnect.de) (Ping timeout)
[04:01:04] *** Joins: zz_kimundi (kimundi@moz-258BDDE9.dip0.t-ipconnect.de)
[04:01:05] *** zz_kimundi is now known as kimundi
[04:05:19] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[04:24:56] *** Joins: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP)
[04:32:51] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[05:06:44] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:08:40] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[05:11:20] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[05:13:04] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[05:13:56] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[05:15:33] *** Joins: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[05:15:52] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[05:24:44] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[05:38:41] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[05:40:49] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[05:40:49] *** Quits: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[05:44:32] *** Joins: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net)
[05:47:13] *** Quits: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[05:47:55] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[05:48:38] *** Joins: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net)
[05:58:37] <Yurume> uhm, is there any reason that MoveIterator performs O(n) swaps?
[06:08:34] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:12:42] <aatch_> Yurume, failure-safety
[06:13:48] <aatch_> It reverses the vector so it can pop them off the end.
[06:13:49] <Yurume> yeah, I made the same question in #rust and got plenty of answers ;)
[06:14:07] * aatch_ can't get on at the moment, NickServ is being weird
[06:14:14] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:14:24] <Yurume> my initial thought was that an unsafe MoveIterator does not need to do so
[06:14:30] <Yurume> (with a custom dtor)
[06:15:21] <aatch_> Yurume, not without relying on very low-level implementation details.
[06:16:14] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:16:29] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:17:46] <strcat> aatch_: well not just failure safety
[06:17:53] <strcat> you don't *have* to consume all of an iterator
[06:18:04] <aatch_> strcat, oh, good point.
[06:21:34] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[06:21:34] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 144c50982 to 149eb89a6: 02http://git.io/N3iJvQ
[06:21:34] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[06:21:35] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[06:21:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/sFb2pg
[06:21:35] <ghrust> 13rust/06auto 14d9ea475 15Alex Crichton: Register new snapshots...
[06:21:35] <ghrust> 13rust/06auto 14dc7a2e1 15bors: auto merge of #10919 : alexcrichton/rust/snapshots, r=brson...
[06:21:36] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[06:26:09] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[06:26:19] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:28:02] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[06:39:52] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[06:43:58] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:49:22] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[06:49:41] <dbaupp> ktt3ja: #10990 looks pretty awesome!
[06:50:00] <dbaupp> looks like it took quite a bit of digging around to get all the various parts together.
[06:56:21] <ktt3ja> dbaupp: yup
[06:56:24] * ktt3ja still doesn't understand methods
[06:56:56] <dbaupp> heh
[06:57:10] <dbaupp> you appear to understand them enough to get code that looks reasonable
[06:57:31] * dbaupp avoids mentioning that he also doesn't full understand how the compiler handles methods
[06:58:03] <eddyb> ktt3ja: at least you don't need to understand crazy type theory :P
[06:58:51] <ktt3ja> dbaupp: guess works :P
[06:59:02] <ktt3ja> eddyb: after hanging around here, I'm a bit curious about type theory
[06:59:33] <dbaupp> ktt3ja: guesswork is the bestwork!
[07:00:03] <ktt3ja> dbaupp: just like dead-code pass, I follow the methodology of bug-driven development
[07:00:09] <ktt3ja> dbaupp: guess -> get bug -> fix
[07:00:10] <ktt3ja> XD
[07:00:36] <eddyb> dbaupp: there's two failed attempts decreasing memory usage in rustc, I should post numbers on those
[07:01:06] <eddyb> I literally spent a day on each, adjusting everything to match the extra indirection. I think @ was conspiring against me, though
[07:01:47] <dbaupp> ktt3ja: that's how I do it! ("skill" is just having experience so that the guesses are normally pretty good ;) )
[07:02:32] <dbaupp> eddyb: oh? :(
[07:02:37] * dbaupp wants less memory use
[07:02:53] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:03:05] <eddyb> dbaupp: it was in that week with the one successful PR
[07:03:19] <dbaupp> oh, right
[07:03:21] <eddyb> guesswork doesn't always work, just saying :P
[07:03:54] <eddyb> I really want smart pointer shenanigans
[07:04:02] <eddyb> because then you can have per-type stats
[07:04:09] <dbaupp> of course; but once you've practiced guessing a lot, the "guesses" look like genius decisions from the outside.
[07:04:15] <strcat> eddyb: fix generic dtors :(
[07:04:25] <eddyb> like, instead of the memory usage graph, you have one graph per type
[07:04:32] <eddyb> (scaled to the type's size)
[07:04:47] <eddyb> and then you can really see what's going on
[07:05:02] <strcat> allocators would let you grab alloc stats for specific containers
[07:05:25] <eddyb> maybe. but I'd do it in P
[07:06:35] <eddyb> well, even without P being a smart pointer, I can still track every call to it ever
[07:06:50] <dbaupp> eddyb: just do that, then?
[07:06:59] <eddyb> dbaupp: I just might!
[07:07:06] <dbaupp> eddyb: can even use the tydesc.name to have a global hashmap mapping type name to alloc count
[07:07:34] <dbaupp> breaking parametric polymorphism with dirty hacks \o/
[07:08:14] <eddyb> I've done this before, in a kernel. then, my scripting tool was PHP
[07:08:37] <eddyb> and I could just put code and data into the allocator itself
[07:10:16] <eddyb> dbaupp: there https://etherpad.mozilla.org/k14brBnFZa
[07:10:46] <eddyb> now I gtg, I will still go to the hospital, but it's not swollen anymore, so yay free radiation
[07:11:55] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[07:13:48] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[07:17:06] *** Quits: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP) (Ping timeout)
[07:22:20] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: Leaving)
[07:26:09] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:38:20] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Client exited)
[07:46:30] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[07:46:30] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/sFb2pg
[07:46:30] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[07:51:34] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[07:51:34] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/siKfYg
[07:51:34] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[07:51:36] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[07:51:36] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/wrKfvQ
[07:51:36] <ghrust> 13rust/06auto 141ecaf4e 15Alex Crichton: Rewrite std::comm...
[07:51:36] <ghrust> 13rust/06auto 14549e9be 15Alex Crichton: Fallout of rewriting std::comm
[07:51:36] <ghrust> 13rust/06auto 14ab935db 15Alex Crichton: Test fallout from std::comm rewrite
[07:51:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[07:55:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[07:56:44] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[08:06:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[08:08:45] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[08:10:09] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[08:11:29] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[08:12:36] *** flaper87|afk is now known as flaper87
[08:12:39] <strcat> rusti: let xs: &[int] = &[]; xs.slice_from(0)
[08:12:42] -rusti- &[]
[08:14:56] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[08:18:50] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[08:26:04] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:26:16] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (NickServ (GHOST command used by strcat1))
[08:26:19] *** strcat1 is now known as strcat
[08:26:26] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[08:26:28] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[08:26:31] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:26:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:31:53] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[08:31:53] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14697b44f to 14dc7a2e1: 02http://git.io/N3iJvQ
[08:31:53] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[08:41:24] <dbaupp> ktt3ja: ping
[08:41:42] <ktt3ja> dbaupp: pong
[08:41:46] <ktt3ja> (I was about to pong myself)
[08:42:13] <dbaupp> ktt3ja: https://github.com/mozilla/rust/pull/10990/files#diff-0f85fcb07fb739876892e633fa0e2be6R4559 what does that do when called with the defid of the trait method itself?
[08:42:21] <dbaupp> (i.e. the one in the `trait { ... }` declaration)
[08:43:29] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:44:40] <ktt3ja> dbaupp: I would guess that it returns itself, but I'd have to test it
[08:45:40] <dbaupp> ktt3ja: can you? (and adjust the comment as appropriate) r+ other than that :)
[08:45:51] <ktt3ja> println debugging time :p
[08:45:58] <dbaupp> \o/
[08:47:16] *** Joins: mib_l9yayw (Mibbit@moz-5729CEA7.hsd1.ca.comcast.net)
[08:50:20] *** Quits: mib_l9yayw (Mibbit@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:50:56] <strcat> dbaupp: well, I found a really clever way of writing it
[08:50:59] <strcat> will show you in a sec...
[08:56:00] <dbaupp> strcat: awesome! (gtg, I'll be back in a bit)
[08:56:31] <strcat> it's fast as hell
[08:56:57] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:58:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:58:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:59:08] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:59:16] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:59:48] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:59:52] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:00:44] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:00:47] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:00:55] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:01:55] <dbaupp> strcat: sounds amazing
[09:02:04] <strcat> dbaupp: it is
[09:04:46] <strcat> dbaupp: http://ix.io/9nW ;p
[09:05:34] <strcat> double-ended iterator will ofc work too but rust-core doesn't have them atm
[09:06:35] <strcat> dbaupp: I have a feeling none of this stuff will work for the stdlib though
[09:06:41] <strcat> hm
[09:06:52] <strcat> depends on whether read_ptr does a refcount for @
[09:06:57] <strcat> I don't want to think about it.
[09:12:53] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[09:13:41] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[09:14:38] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[09:16:32] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[09:16:32] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/mUB36g
[09:16:32] <ghrust> 13rust/06auto 14c810ee8 15Kiet Tran: AST Visitor now walks enum discriminant expression
[09:16:32] <ghrust> 13rust/06auto 14fb4a1d8 15Kiet Tran: Mark live codes in struct/enum for dead-code pass
[09:16:32] <ghrust> 13rust/06auto 14e7b0e0a 15bors: auto merge of #10994 : ktt3ja/rust/issue-10956, r=alexcrichton...
[09:16:34] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[09:18:53] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[09:22:01] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[09:23:42] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[09:29:41] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:37:06] *** Quits: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20131209204824])
[09:42:52] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[09:56:14] <ktt3ja> dbaupp: yea, it returns itself
[09:56:39] <ktt3ja> I also put `test_method_param` and `test_method_object` inside the cross_crate test just in case
[10:01:30] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[10:04:07] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[10:14:34] *** Quits: Kxepal (Miranda@moz-99D51CF4.pppoe.mtu-net.ru) (Ping timeout)
[10:17:19] *** Joins: Kxepal (Miranda@moz-395E1C9B.pppoe.mtu-net.ru)
[10:19:53] <dbaupp> strcat: magic
[10:19:55] <dbaupp> !
[10:20:04] <dbaupp> very cool.
[10:21:41] <strcat> I'll see if it works in the stdlib
[10:25:03] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[10:26:36] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[10:26:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/mUB36g
[10:26:36] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[10:27:33] <dbaupp> cmr: ping
[10:40:59] <strcat> nmatsakis: btw, I found a really simple way to make the move iterator fast without needing drop flags
[10:41:02] <strcat> quite trivial really.
[10:41:13] * strcat is not sure why we were ever doing swaps ;\
[10:41:26] <strcat> you just give the iterator a dtor
[10:41:32] <strcat> and make it store the vec as a raw ptr
[10:41:42] <strcat> and... you're done. it can keep track of the start pos
[10:42:19] <strcat> same thing that a fast ring buffer has to do
[10:46:58] <dbaupp> strcat: was the changed you made for managed branching for the local vs exchange free?
[10:47:04] <strcat> dbaupp: no
[10:47:11] <strcat> dbaupp: I switched as_ptr to transmute(self)
[10:47:20] <strcat> compare the move_iter() fn to the rust-core one
[10:47:44] <dbaupp> which part?
[10:48:07] <strcat> dbaupp: the move_iter method
[10:48:14] <strcat> not the actual iterator
[10:48:22] <strcat> +            let ptr = self.ptr as *mut u8;
[10:48:29] <strcat> becomes transmute
[10:48:39] <dbaupp> and the forget is then unnecessary
[10:54:33] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:55:21] <strcat> dbaupp: oh right the stdlib needs inline annotations on those...
[10:55:33] <dbaupp> strcat: r=me
[10:56:35] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[10:56:35] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/KGLW6g
[10:56:35] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[10:56:36] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[10:56:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/niMwgg
[10:56:36] <ghrust> 13rust/06auto 14f5f6e38 15Daniel Micay: vec: make the move iterator fast for all types...
[10:56:36] <ghrust> 13rust/06auto 1437f717f 15bors: auto merge of #10995 : thestinger/rust/fast_move_iter, r=huonw...
[10:56:37] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[10:57:12] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:01:56] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[11:02:01] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[11:02:01] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/_760Xg
[11:02:01] <ghrust> 13rust/06auto 14e3b168d 15Daniel Micay: vec: make the move iterator fast for all types...
[11:02:01] <ghrust> 13rust/06auto 147b42497 15bors: auto merge of #10995 : thestinger/rust/fast_move_iter, r=huonw...
[11:02:01] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[11:02:02] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:02:58] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[11:14:04] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:15:50] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:16:19] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[11:42:38] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:44:30] <cmr> dbaupp: pong
[11:45:03] <dbaupp> cmr: idea: put syntax and rustc (etc) on your docs site :)
[11:45:17] <cmr> the one that hasn't been updated in at least a month? :P
[11:45:51] <cmr> now that we have static linking it should be less of a pain.
[11:45:58] <dbaupp> oh
[11:46:12] <dbaupp> nah, I mean the one that gets updated regularly :P
[11:51:49] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[11:52:25] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:53:23] <sanxiyn> Have you received a mail from tip4commit.com?
[11:54:34] <dbaupp> yes
[11:55:27] * dbaupp apparently has ~10 US cents in bitcoins from it
[11:55:31] * dbaupp is rich!
[11:56:29] <sanxiyn> dbaupp: I am not sure why it wants write permission to my GitHub profile
[11:56:36] <sanxiyn> So didn't login
[11:57:37] <dbaupp> oh... I didn't have to give github permission to it
[11:57:57] <dbaupp> and it's not listed on my github applications page, so I don't think it happened accidentally.
[11:58:07] <sanxiyn> Hm
[11:59:30] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[11:59:34] <dbaupp> I just clicked one of the links in the email, and it signed me into the website automatically
[12:00:36] <sanxiyn> Ah that worked
[12:01:40] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[12:01:42] <dbaupp> :)
[12:03:36] <dbaupp> heh, it looks like bors has about 0.00015 BTC
[12:04:54] <sanxiyn> dbaupp: Still < 1 mBTC
[12:13:44] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[12:14:11] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:16:45] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[12:54:28] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:02:59] <dbaupp> https://github.com/mozilla/rust/pull/10996 r?
[13:03:08] <dbaupp> cmr: more vec::raw cleanup ^
[13:03:45] <dbaupp> strcat: making TBAA slightly more possible (there were blatantly/purposely aliasing &mut[] and &[]!)
[13:10:08] <eddyb> we need to freeze ~[T], too
[13:10:25] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[13:11:56] <dbaupp> eddyb: https://github.com/mozilla/rust/pull/10990 is fixing stability on methods, fwiw.
[13:12:13] <eddyb> I like the way you connect things :P
[13:12:28] <dbaupp> was that a nonsense connection?
[13:13:08] <eddyb> nope, I wanted to use #[deprecated] on capacity-accessing and/or length-modifying ~[T] methods
[13:13:18] * dbaupp read your etherpad ;)
[13:13:37] <eddyb> dbaupp: hah, stalker
[13:14:03] <dbaupp> eddyb: you did link it directly to me :P
[13:14:42] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:16:33] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:16:33] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[13:16:33] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/_760Xg
[13:16:33] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[13:16:58] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[13:16:58] <eddyb> youtube is worse than facebook these days, half a GB on the subscriptions page
[13:19:03] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:21:34] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[13:21:42] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:21:52] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:22:02] <eddyb> dbaupp: oh wow, that PR is awesome :D
[13:24:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:24:22] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[13:24:50] <dbaupp> eddyb: it's... not that awesome?
[13:25:15] <eddyb> dbaupp: just for me :P
[13:25:42] * dbaupp is about to capitalise on the power of invariants, specifically, those of &mut, to make it even more awesome
[13:25:57] <eddyb> I thought you were linking to an issue, at first
[13:26:00] <eddyb> dbaupp: good, good
[13:26:22] <dbaupp> eddyb: oh, you were talking about #10990?
[13:26:33] <eddyb> yeah :)
[13:26:37] * dbaupp was talking about his own PR, #10996
[13:27:34] <eddyb> btw, I hate how the current ~[T] repr is like having (*T, *uint, *uint)
[13:27:56] <eddyb> that indirection kills even the most basic optimizations
[13:28:46] <eddyb> though it's not the first time I say it
[13:28:54] <cmr> hopefully the last? :P
[13:29:56] <eddyb> LLVM might need SMT to deal with bound checks and my (i % 4 == 3 ? (i + 1) % 4 : 0) testcase
[13:31:51] <dbaupp> eddyb: https://github.com/mozilla/rust/issues/8981
[13:32:14] <cmr> eddyb: you should fix it!
[13:32:22] <eddyb> cmr: LLVM?
[13:32:27] <cmr> no, above issue/.
[13:32:31] <eddyb> I am not making Z3 a dependency of LLVM
[13:32:39] <cmr> vec repr
[13:33:23] <eddyb> cmr: *ahem* #[deprecated]
[13:33:43] <cmr> that's not something that we've agreed to fix and I doubt that's going to happen for 1.0
[13:34:21] <eddyb> (i.e. measure impact of requiring moving growable uses of ~[T] to Vec<T>)
[13:34:25] <cmr> ~[] => (len, cap, *T) is an easy fix.
[13:34:59] <eddyb> cmr: it's easier to move to (len, *T)
[13:35:57] <eddyb> (and it's cheaper in the general case)
[13:36:18] <cmr> I still don't quite understand that change. How does ~[] differ from a slice at that point?
[13:36:27] <eddyb> if it were trivial to change the repr, strcat would've done so a long time ago
[13:36:30] <dbaupp> cmr: https://github.com/mozilla/rust/pull/10996 r?
[13:37:00] <cmr> I didn't say trivial, I said easy.
[13:37:10] <cmr> It's mostly "fix, test, rinse 'n repeat"
[13:37:13] <eddyb> cmr: that's the point, ~[T] is a non-growable vector on the heap. nmatsakis liked that idea and it would work for [T] under DST
[13:39:20] <eddyb> Rc<[T]> would use *[T], transmuted from ~[T]. Vec<T> and ~[T] are almost interchangeable, the difference is an immediate field
[13:42:15] <dbaupp> eddyb: did you read the blog post that found some problems with that model? (just incidentally)
[13:43:55] <eddyb> everything has a problem, and yes, I read the blog post. I don't remember too much from it
[13:46:03] <cmr> dbaupp: was already reviewing, am getting siderailed by a billion and a half things this morning!
[13:46:55] <dbaupp> cmr: thanks (I've pushed a few extra commits over the last 10 minutes fwiw)
[13:46:57] * eddyb breaks cmr's leg
[13:47:04] <dbaupp> eddyb: is yours?
[13:47:12] <eddyb> there's a billion and a half and one for you
[13:47:25] <cmr> thanks :p
[13:47:28] <eddyb> dbaupp: I just have a sprained ankle and paranoid parents
[13:47:48] <dbaupp> eddyb: better than a broken leg and paranoid parents :)
[13:47:53] * dbaupp -> bed
[13:47:58] <eddyb> nighty
[13:51:33] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[13:51:33] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/3QJ8sQ
[13:51:33] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[13:51:34] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[13:51:34] <ghrust> 01[13rust01] 15bors pushed 12 new commits to 06auto: 02http://git.io/JfFQBw
[13:51:34] <ghrust> 13rust/06auto 14ae66285 15Michael Woerister: debuginfo: Always set column information to zero for source locations.
[13:51:34] <ghrust> 13rust/06auto 1408bc072 15Michael Woerister: debuginfo: Clear debug source locations at beginning of functions.
[13:51:34] <ghrust> 13rust/06auto 14184d394 15Michael Woerister: debuginfo: Clear source positions where they'd confuse LLVM otherwise.
[13:51:36] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[14:02:47] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:03:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:03:46] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:10:56] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Quit: Leaving...)
[14:11:02] <cmr> https://github.com/mozilla/rust/issues/10774 that was two weeks ago.
[14:11:08] <cmr> These two weeks have felt like an eternety.
[14:15:38] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[14:15:38] <ghrust> 01[13rust01] 15cmr 04deleted 06try at 1455ac54d: 02http://git.io/MLYS9w
[14:15:38] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[14:15:41] <cmr> poop
[14:15:45] <cmr> that was not the right hting
[14:15:54] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[14:15:54] <ghrust> 01[13rust01] 15cmr created 06try (+1 new commit): 02http://git.io/I-Y5iQ
[14:15:54] <ghrust> 13rust/06try 1422100f6 15Corey Richardson: Update and un-xfail auto-encode test
[14:15:54] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[14:16:02] <cmr> hopefully I didn't just screw over the buildbot
[14:22:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:25:42] *** Joins: MOeltjenbruns (goofy@moz-D9C12442.hsd1.mn.comcast.net)
[15:15:28] *** Joins: fuogo (Mibbit@38893FCF.83E6DFB1.2862F179.IP)
[15:16:42] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[15:16:42] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/JfFQBw
[15:16:42] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[15:18:29] <eddyb> cmr: guess not
[15:19:52] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[15:21:36] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[15:21:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/A0-Row
[15:21:36] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[15:31:45] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[15:35:19] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:37:39] *** Quits: klutzy (th@BA61F396.8E859986.ECA1BB11.IP) (Client exited)
[15:43:55] *** Joins: klutzy (th@BA61F396.8E859986.ECA1BB11.IP)
[15:47:32] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:48:12] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:48:14] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:49:53] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[15:55:47] <cmr> r? https://github.com/mozilla/rust/pull/11000
[16:01:21] *** Parts: fuogo (Mibbit@38893FCF.83E6DFB1.2862F179.IP) ()
[16:06:22] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[16:11:41] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[16:11:41] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14dfafbaa to 144e77c11: 02http://git.io/N3iJvQ
[16:11:41] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[16:11:43] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:11:43] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/Mnsztg
[16:11:43] <ghrust> 13rust/06auto 14f9d002f 15Alex Crichton: Rewrite std::comm...
[16:11:43] <ghrust> 13rust/06auto 1461825eb 15Alex Crichton: Fallout of rewriting std::comm
[16:11:45] <ghrust> 13rust/06auto 14206a9e0 15Alex Crichton: Test fallout from std::comm rewrite
[16:11:46] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[16:16:15] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[16:23:25] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[16:35:05] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:35:32] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:37:22] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[16:49:08] <jack> what happened to FileStream?
[16:51:10] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:59:17] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[16:59:18] *** ChanServ sets mode: +qo brson brson
[17:00:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:06:39] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[17:06:39] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 143c95d78 to 144e77c11: 02http://git.io/N3iJvQ
[17:06:39] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[17:06:39] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[17:06:40] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/_d281w
[17:06:40] <ghrust> 13rust/06auto 14b1fcba6 15Corey Richardson: Update and un-xfail auto-encode test...
[17:06:40] <ghrust> 13rust/06auto 1435e5056 15bors: auto merge of #11000 : cmr/rust/auto_encode, r=alexcrichton...
[17:06:40] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[17:13:40] <jack> did condition handling get totally inverted?
[17:14:42] <jack> nm. this probably isn't a condition. how does ignore_io_error work now?
[17:30:03] *** Quits: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net) (Quit: leaving)
[17:35:48] <jack> How do I use guards? let dummy = some_guard();
[17:36:29] *** Joins: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP)
[17:39:09] *** Quits: MOeltjenbruns (goofy@moz-D9C12442.hsd1.mn.comcast.net) (Ping timeout)
[17:39:53] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[17:41:29] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[17:42:05] *** Joins: MOeltjenbruns (goofy@moz-D9C12442.hsd1.mn.comcast.net)
[17:49:50] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[17:49:57] *** Quits: MOeltjenbruns (goofy@moz-D9C12442.hsd1.mn.comcast.net) (Ping timeout)
[17:52:14] <sfackler> you can even do let _ = some_guard() I think
[17:55:12] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:56:19] <eddyb> sfackler: I've heard that's supposed to destruct
[17:56:27] <eddyb> but it's not doing it right now
[17:57:21] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[17:58:24] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[17:59:10] <mrmonday> what's the right way to do pull requests? is there anything in particular I should do to make the process as smooth as possible?
[17:59:35] <eddyb> mrmonday: make sure everything works before asking for r+
[18:00:12] <mrmonday> r+?
[18:00:54] <eddyb> mrmonday: a comment with "r+" in it (by someone with that power) triggers the automated testing process. and if it passes, it gets merged
[18:01:14] <mrmonday> I see
[18:01:24] <mrmonday> well that leads me nicely onto my next question...
[18:02:03] <mrmonday> the only interesting test cases for the code I'll be submitting would need root access... I imagine that'll be an issue for the tester?
[18:02:24] <mrmonday> (raw socket support - most OSes don't allow you to do it without root)
[18:02:47] <eddyb> mrmonday: pfffft. ask strcat if you see him, he knows how to do sandboxing
[18:03:04] <eddyb> though even then I'm not sure you can incorporate such testcases
[18:04:27] <mrmonday> reminds me of another question - I only have linux 32/64 support at the moment and it's pretty difficult for me to test/implement the missing bits on other platforms, is this an issue?
[18:04:31] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:04:31] *** ChanServ sets mode: +qo brson brson
[18:06:12] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[18:06:12] *** ChanServ sets mode: +ao dherman dherman
[18:06:28] <eddyb> mrmonday: depends where
[18:08:52] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[18:10:00] *** Joins: kmc (keegan@moz-2C6EE959.compute-1.amazonaws.com)
[18:10:12] <mrmonday> I'll worry about it later once I'm done cleaning everything up/fixing the issues which occured with my latest merge
[18:10:54] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[18:12:01] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:16:40] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[18:16:40] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/_d281w
[18:16:40] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[18:21:40] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[18:21:40] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/5btiMg
[18:21:40] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[18:21:40] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[18:21:40] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/OecjrA
[18:21:40] <ghrust> 13rust/06auto 14f9d002f 15Alex Crichton: Rewrite std::comm...
[18:21:40] <ghrust> 13rust/06auto 1461825eb 15Alex Crichton: Fallout of rewriting std::comm
[18:21:41] <ghrust> 13rust/06auto 14a3c9fc2 15Alex Crichton: Test fallout from std::comm rewrite
[18:21:43] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[18:26:25] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[18:35:00] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:35:52] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:36:08] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:38:03] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[18:38:26] <jack> blink uses nss, except on android where they use openssl?
[18:38:32] <jack> woops. this isn't #servo
[18:41:13] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:41:13] *** ChanServ sets mode: +qo brson brson
[18:55:36] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:03:09] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[19:09:41] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[19:16:37] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:26:55] <acrichto> wooo we're 4x faster than go on stream channels
[19:29:41] <eddyb> acrichto: gj
[19:40:48] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[19:40:56] <Eridius> \o/
[20:11:42] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[20:11:42] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14c32f0e9 to 1435e5056: 02http://git.io/N3iJvQ
[20:11:42] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:11:44] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:11:44] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/1PcQpw
[20:11:44] <ghrust> 13rust/06auto 140b084db 15Cadence Marseille: Handle ENOENT...
[20:11:44] <ghrust> 13rust/06auto 142d0d1dc 15bors: auto merge of #10863 : cadencemarseille/rust/patch-handle-ENOENT, r=alexcrichton...
[20:11:44] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:24:28] <cmr> mrmonday: ping
[20:31:15] <mrmonday> cmr: pong
[20:31:26] <cmr> mrmonday: do you have any more questions about the review/PR process?
[20:31:37] <cmr> If you have a test that needs root, I don't think we're going to be able to run it.
[20:31:58] <mrmonday> I haven't written the test for that reason :)
[20:32:18] <mrmonday> but in order to run any meaningful tests of the code root access would be required
[20:32:36] <mrmonday> ooh, idea actually
[20:33:27] <mrmonday> rather than using the libc functions which need root, a test harness could stub out those functions and the testsuite could link to them
[20:33:55] <mrmonday> would be a bit fiddly to set up I imagine, but doable
[20:34:33] <mrmonday> (I don't have any questions further to those mentioned above)
[20:35:02] <cmr> our test suite already has the ability to link to crates.
[20:36:04] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[20:36:08] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[20:36:12] <cmr> via aux-build
[20:36:16] *** vfetwnuncszu is now known as dcrewi
[20:37:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:37:21] <mrmonday> I'll look into doing something with that then
[20:38:15] <mrmonday> do you have any comments on OS support? does it need to be complete or can I stub out platforms which I haven't implemented support for? (that will have to be done to an extent anyway due to the varying support for raw sockets across OSes)
[20:38:37] <cmr> talk to acrichto about that.
[20:38:56] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[20:42:17] <jack> What did RcMut become?
[20:42:25] <jack> Mut seems to have become RefCell
[20:42:35] <jack> so Rc<RefCell>?
[20:42:46] <mrmonday> I love talking in here, it's like a treasure hunt
[20:43:10] <mrmonday> every time I ask a question I get part of the answer and a clue to find the next bit :D
[20:43:52] <Eridius> jack: I think that's the idea, but I don't know for sure
[20:44:00] <cmr> jack: yes
[20:44:41] <cmr> mrmonday: :)
[20:45:01] <cmr> jack: RefCell handled dynamic mutability so the rest of the types don't have to.
[20:50:48] <jack> I still don't understand the difference between Option, Cell, RefCell, and Slot
[20:51:23] <jack> As far I can tell, what we used to use Cell for Option now does just fine.
[20:51:40] <cmr> Yes, that's why Cell was removed entirely.
[20:52:00] <cmr> pcwalton added a new iteration of it that does something or somesuch
[20:52:02] <jack> But it used to be signifcantly better than Option. though I don't remember how we went from Point A to Point B
[20:52:25] <jack> Servo has a Slot, which i think is going to move to Rust stdlib
[20:52:27] <cmr> (or, is adding, with the Pod trait)
[20:54:14] <jack> so hwo does RefCell differ from Option?
[20:54:58] <cmr> RefCell does dynamic borrowing
[20:55:03] <cmr> so you can take multiple references into it.
[20:55:15] <cmr> And mutable references, and it will error if you violate safety.
[20:55:49] <jack> doesn't option's get_ref() also do that?
[20:56:08] <cmr> no, it borrows the whole thing.
[20:56:21] <cmr> RefCell lets you take it as mutable even when you only have an immutable reference to it.
[20:56:29] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[20:56:40] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:56:40] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142d0d1dc to 1435e5056: 02http://git.io/N3iJvQ
[20:56:40] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:56:49] <cmr> ie, you can get a &mut from a &RefCell
[20:56:55] <jack> so it's like an option with interior @mut ?
[20:57:11] <cmr> Well, RefCell can't be empty.
[20:57:13] <cmr> But yes.
[20:57:30] <jack> you get an &mut T or a &mut RefCell<T>?
[20:58:08] <cmr> Well, it specifically gives you a RefMut<T>, which has a destructor that does things to the RefCell's inner state, that you can get a &mut T from.
[20:58:44] <jack> ah
[21:03:29] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[21:04:42] <jack> hmm. 'self going away seem to be propagating lifetime params a long ways :(
[21:05:10] <Eridius> jack: what do you mean? 'self hasn't been special for a while, except in that it was the only legal name for a lifetime parameter in a number of instances
[21:05:22] <Eridius> all existing instances of 'self can now be replaced with e.g. 'a and it should behave the same
[21:05:25] <jack> apparently it wasn't special but you didn't have to declare it.
[21:05:33] <cmr> whu?
[21:05:34] <Eridius> I thought you did? I always declared it
[21:05:37] <jack> so you have to replace iwth 'a and you have to parameterize the sturt over it
[21:05:53] <cmr> O_o
[21:05:59] <cmr> I've yet to experience that.
[21:06:00] <jack> Am I missing something?
[21:06:41] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[21:06:41] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145776524 to 1435e5056: 02http://git.io/N3iJvQ
[21:06:41] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[21:06:42] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[21:06:42] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Qeeshw
[21:06:42] <ghrust> 13rust/06auto 149105332 15Adrien TÃ©tar: doc: forward-port the conditions tutorial + fixup libstd example
[21:06:42] <ghrust> 13rust/06auto 14243ec22 15bors: auto merge of #10986 : adridu59/rust/patch-new, r=alexcrichton...
[21:06:43] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[21:06:43] <jack> oh. nm. i see what happened.
[21:06:54] <jack> struct Foo<'self> { .... }
[21:06:58] <jack> which never used 'self
[21:07:03] <jack> was silently ignored
[21:07:15] <jack> but if you use <'a> then it has to propagate
[21:07:30] <jack> the solution is not to use any lifetime :)
[21:08:09] <jack> example: https://github.com/mozilla/servo/blob/master/src/components/gfx/font_list.rs#L85-L88
[21:08:26] <Eridius> jack: why did you declare <'self> if it wasn't used?
[21:08:47] <jack> Eridius: you ask me as if I wrote that code. This is probably from some ancient rust version where that meant something.
[21:08:53] <Eridius> ah
[21:09:13] <cmr> TWiR time!
[21:09:17] <jack> syntax that was just still valid but ignored
[21:09:20] <jack> cmr: \o/
[21:09:40] <jack> cmr: though it's a little late as I'm like 75% through my rust upgrade :)
[21:09:50] <cmr> heh
[21:09:52] <cmr> sorry :(
[21:10:05] <larsberg> cmr: was TWiS less painful to merge this time? I tried not to keep it in org-mode and use Real Markdown instead :-)
[21:10:19] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[21:10:20] <cmr> larsberg: yes, thanks :)
[21:11:20] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[21:11:21] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Quit: eddyb)
[21:11:31] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[21:11:33] <larsberg> cmr: excellent. Though I'm staying on the Saturday update schedule, no matter when you send TWiR. Otherwise I have to do custom things on the GitHub Pulse page for looking through the PRs for which to chat about :-)
[21:11:45] <cmr> that's fine.
[21:11:59] <cmr> I only delayed it this week because of the bors madness.
[21:12:05] <cmr> I wouldn't have had anything to write about :|
[21:15:11] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[21:16:41] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[21:16:41] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14243ec22 to 1435e5056: 02http://git.io/N3iJvQ
[21:16:41] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[21:16:42] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[21:16:42] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/grBjRA
[21:16:42] <ghrust> 13rust/06auto 1416f69b2 15Felix S. Klock II: Spell out the units used for the `offset` argument, so that people do...
[21:16:42] <ghrust> 13rust/06auto 14000cda6 15bors: auto merge of #11002 : pnkfelix/rust/fsk-improve-doc-for-ptr-offset, r=alexcrichton...
[21:16:42] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[21:16:57] <jack> cmr: I was just teasing :)
[21:19:39] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[21:19:44] *** Parts: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) ()
[21:22:00] <cmr> klutzy: ping
[21:28:13] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[21:29:01] *** Joins: bytewise (bytewise@moz-6F896CFA.adsl.alicedsl.de)
[21:30:14] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:31:29] <ktt3ja> dbaupp: I updated the two match https://github.com/mozilla/rust/pull/10990, but I don't think I can do an `r=`, right?
[21:32:58] <dbaupp> ktt3ja: no, but I can ;P
[21:34:20] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[21:38:56] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Ping timeout)
[21:49:31] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:50:56] <jack> error: instantiating a type parameter with an incompatible type `render_task::Msg<T>`, which does not fulfill `Send`
[21:51:02] <jack> did something change with deriving Clone?
[21:51:22] <jack> the above error is what I get on #[deriving(Clone)] on RenderTask<T>
[21:51:50] <Eridius> o_O I thought the derived traits were the equivalent of `impl<T: Clone> Clone for RenderTask<T> { ... }`
[21:53:38] <jack> Why is it yelling about Send then?
[21:53:52] <Eridius> I don't know
[21:53:57] <Eridius> are you sure that's due to #[deriving(Clone)]?
[21:53:59] <jack> several of the sub pieces are missing Clone
[21:54:10] <jack> No, it's possible the span is totally off
[21:57:03] <jack> Oh. It' snot RenderTask it's RenderChan<T> which is a wrapper around SharedChan<Msg<T>>
[21:57:20] <jack> I guess you can't using deriving for that now?
[21:58:52] <jack> Yeah, if I impl Clone myself it works.
[21:58:54] <jack> That's very odd
[22:04:07] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:15:55] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[22:15:55] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:16:15] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[22:17:47] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[22:17:47] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:19:43] <carter> acrichto: looks like that configure script caught a problem http://buildbot.rust-lang.org/builders/auto-mac-64-opt/builds/3014/steps/configure/logs/stdio :) 
[22:20:35] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[22:21:33] <acrichto> carter: sounds like it should either not be a fatal error or the logic is wrong b/c the buildbots have been working just fine for a long time
[22:21:38] <acrichto> and none of them are using --enable-clang
[22:24:13] <carter> hrmm
[22:24:13] <carter> ok
[22:25:02] <mrmonday> acrichto: I'm told you're the person to talk to about platform support for my future pull request? I'm working on a patch to add support for raw sockets to Rust - I was wondering how complete it needs to be. I've only been able to implement it and test it on linux 32 and 64 so far, does it need to support all platforms before I make a pull request? The other related question is that raw socket support is not equal on all platforms (
[22:25:45] <carter> acrichto: any way of finding out what gcc / g++ / cc --version are on  that build bot?
[22:25:46] <mrmonday> (if I do need to support other platforms, what should I do for those that have weaker support?)
[22:26:11] <acrichto> mrmonday: interesting! We would want something working to the fullest extent possible on other platforms as well as in M:N and 1:1 contexts
[22:26:25] <mrmonday> also, it's pretty difficult for me to support other platforms due o lack of hardware/the OSes
[22:26:40] <acrichto> carter: https://gist.github.com/alexcrichton/7995578
[22:27:03] <acrichto> mrmonday: it depends on the lack of support in other OSes, if something just fundamentally does not support it then we'd ahve to think about that
[22:27:09] <carter> acrichto: i need g++ --version and cc --version
[22:27:10] <carter> too
[22:27:21] <acrichto> carter: g++ is in there
[22:27:35] <acrichto> cc == clang
[22:27:44] <carter> -v != version
[22:27:50] <carter> its a bit more stuff
[22:27:50] <carter> ok
[22:28:17] <acrichto> carter: https://gist.github.com/alexcrichton/7995608
[22:30:46] <cmr> pcwalton: why does the new cell require pod? what is its usecase
[22:30:48] <cmr> ?
[22:30:55] <mrmonday> acrichto: I haven't actually tested beyond linux, but my understanding is that the unicies (linux/bsd/osx) will let you do data link and upwards, and windows support varies per version from no support to layer 3 and up
[22:31:25] <cmr> mrmonday: post-XP isn't supported at all and afaik XP isn't supported either.
[22:31:30] <acrichto> mrmonday: when you say varies per version, do you mean that it has the necessary support after some version?
[22:31:32] <pcwalton> cmr: it requires pod because otherwise clone() could mutate the value
[22:31:44] <pcwalton> this is a subtlety that nmatsakis pointed out
[22:31:50] <pcwalton> so we need copying out a value to be nothing more than memcpy
[22:32:10] <mrmonday> my code currently only supports implementing transport layer, I plan on supporting network too (not sure about data link)
[22:32:50] <acrichto> mrmonday: does this work with libuv?
[22:32:53] <mrmonday> acrichto: if what cmr says is correct I believe it becomes a non-issue - if it doesn't support it in XP up there's no point bothering in my opinion
[22:33:13] <acrichto> mrmonday: I believe that we only want to officially support everything above XP, but I would have to clarify on that
[22:33:35] <mrmonday> acrichto: yep :) (at least it was before I merged the latest master :p)
[22:33:47] <acrichto> mrmonday: nice!
[22:34:08] <mrmonday> bit of a faff to get it working, but it works
[22:34:23] <cmr> pcwalton: hm, that is subtle.
[22:35:21] <pcwalton> cmr: yeah
[22:35:37] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:36:12] <carter> ok acrichto  i'll change it to a warn
[22:37:59] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:39:51] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:41:40] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[22:41:40] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/grBjRA
[22:41:40] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[22:44:53] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:46:39] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[22:46:39] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/5Ypjxg
[22:46:39] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:46:39] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[22:46:39] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/aJdgIw
[22:46:39] <ghrust> 13rust/06auto 14f9d002f 15Alex Crichton: Rewrite std::comm...
[22:46:39] <ghrust> 13rust/06auto 1461825eb 15Alex Crichton: Fallout of rewriting std::comm
[22:46:40] <ghrust> 13rust/06auto 14cb4c4c3 15Alex Crichton: Test fallout from std::comm rewrite
[22:46:42] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:50:28] *** Joins: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP)
[22:51:38] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:51:38] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d75be78 to 14000cda6: 02http://git.io/N3iJvQ
[22:51:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:51:39] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:51:39] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/mM1slQ
[22:51:39] <ghrust> 13rust/06auto 14f9d002f 15Alex Crichton: Rewrite std::comm...
[22:51:39] <ghrust> 13rust/06auto 1461825eb 15Alex Crichton: Fallout of rewriting std::comm
[22:51:39] <ghrust> 13rust/06auto 1479699ce 15Alex Crichton: Test fallout from std::comm rewrite
[22:51:41] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:52:10] *** Quits: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP) (Ping timeout)
[22:52:12] *** Joins: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP)
[22:53:11] <Eridius> hrm... acrichto I don't think this is correct... https://github.com/mozilla/rust/commit/79699ce0b11f3a1dbbf289223e5693da4f5d58e3#diff-98ffbf7f67040e34fd30915192a3de79R1
[22:54:42] <dbaupp> time travel!
[22:54:50] <dbaupp> roman era code.
[22:55:10] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:55:41] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:57:30] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:58:35] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.50.1)
[23:06:42] <ktt3ja> acrichto: that was quick
[23:06:52] <acrichto> ktt3ja: that was good code :P
[23:06:56] <ktt3ja> acrichto: it was weird seeing my "r? @alexcrichton" came after the "r+"
[23:06:59] <ktt3ja> so I deleted it
[23:07:03] <acrichto> haha
[23:10:41] <cmr> sfackler: nice work with std::io::util.
[23:17:11] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[23:17:16] <cmr> Only two typos writing this week's TWiR!
[23:17:25] * cmr is getting better
[23:17:29] <dbaupp> cmr: that you noticed :P
[23:17:34] <cmr> (spell check is also useful when I turn it on)
[23:17:57] <dbaupp> I've heard that too, yeah.
[23:19:30] <carter> cmr: acrichto  so i should change my patch into a warning right?\
[23:19:41] <cmr> carter: what patch?
[23:19:58] <carter> https://github.com/mozilla/rust/pull/10964 ?
[23:20:05] <acrichto> carter: this sounds like a fatal build issue in your case, and a warning wouldn't really help that much
[23:20:18] <carter> well, thats 'cause i used err instead of warn
[23:20:20] <carter> I thin
[23:20:40] <carter> http://buildbot.rust-lang.org/builders/auto-mac-64-opt/builds/3014/steps/configure/logs/stdio
[23:21:05] <acrichto> carter: that's what makes me think that the detection logic is not quite correct
[23:21:08] <carter> yeah
[23:21:11] <acrichto> if you warn, you will just get a lot of false positives
[23:21:27] <carter> ok
[23:22:13] <carter> i think i shoudl add an or to accept the combo of  real g++, real gcc, and cc points to clang?
[23:22:15] <carter> or...
[23:22:17] <carter> hrm
[23:22:19] <carter> configuration is hard
[23:22:27] <acrichto> carter: it looked like g++ pointed to gcc, not g++
[23:22:32] <carter> ok
[23:22:32] <acrichto> in a "valid case"
[23:22:39] <carter> ohh
[23:23:47] <carter> so this one was cc -> clang , gcc -> gcc , g++ -> gcc
[23:23:51] <carter> right?
[23:24:02] <cmr> that configuration sounds just fine to me.
[23:24:06] <carter> yeah
[23:24:23] <carter> otoh, in that case, should the test be if cc points to clang, enable-clang?
[23:24:29] <carter> instead of if gcc points to clang
[23:24:30] <carter> ?
[23:24:35] <cmr> probably
[23:24:37] <carter> ok
[23:24:49] <carter> so if either points to clang, --enable-clang?
[23:26:22] <carter> https://github.com/mozilla/rust/blob/57765248f5b08f300bd3784e1cd0107a1608c7cd/configure#L554
[23:27:28] <carter> is the current logic
[23:27:44] <carter> gcc 4.2 is olddddd
[23:30:26] <carter> ok, i'll do some more factoring
[23:31:03] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:33:10] *** Quits: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP) (Client exited)
[23:54:12] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[23:54:46] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[23:56:27] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[23:57:49] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[23:57:49] <ghrust> 01[13rust01] 15alexcrichton 04force-pushed 06try from 1422100f6 to 14f855957: 02http://git.io/k471pw
[23:57:49] <ghrust> 13rust/06try 14bdca5cd 15Alex Crichton: Rewrite std::comm...
[23:57:49] <ghrust> 13rust/06try 140876a31 15Alex Crichton: Fallout of rewriting std::comm
[23:57:49] <ghrust> 13rust/06try 1484bf07d 15Alex Crichton: Test fallout from std::comm rewrite
[23:57:51] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[23:58:09] *** flaper87 is now known as flaper87|afk
