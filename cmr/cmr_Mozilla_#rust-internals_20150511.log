[00:01:41] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[00:07:20] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[00:10:38] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[00:14:32] *** Joins: GBGamer (npm@moz-3f1.t7p.56.172.IP)
[00:14:58] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[00:18:31] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[00:20:25] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[00:25:17] <frewsxcv> has anyone here worked with AFL?
[00:25:34] <cmr> frewsxcv: kmc ^
[00:26:16] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[00:28:03] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[00:28:19] <frewsxcv> if anyone who has ever sees this: is the input directory supposed to contain one test per file?
[00:29:34] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[00:33:43] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[00:34:45] <kmc> yes
[00:35:17] <frewsxcv> yeah, just saw the section in the readme
[00:35:32] <frewsxcv> is a panic!() considered a crash?
[00:35:44] <kmc> the prototypical use case is fuzzing an image decoder library, in which case the input files are individual images and the executable just decodes stdin
[00:36:00] <kmc> not by default
[00:36:16] <bluss> frewsxcv: not really
[00:36:18] <kmc> intrinsics:abort() is a crash
[00:36:24] <kmc> from afl's perspective
[00:36:42] <kmc> btw you'll want to disable hash map randomization to get consistent results
[00:47:08] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[00:49:03] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:51:21] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[00:55:52] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[00:56:13] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[01:00:35] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[01:10:44] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[01:10:48] *** Quits: GBGamer (npm@moz-3f1.t7p.56.172.IP) (Ping timeout: 121 seconds)
[01:10:54] *** Joins: mib_wxchb9 (Mibbit@moz-juv.9o3.252.72.IP)
[01:11:27] *** Joins: eddyb_ (eddyb@moz-9pm.kjd.26.188.IP)
[01:11:41] *** Quits: mib_wxchb9 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:12:38] *** Joins: blank_name (blank_name@moz-hks8er.gdrpmi.sbcglobal.net)
[01:15:27] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[01:17:40] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:19:17] *** Joins: GBGamer (npm@moz-3f1.t7p.56.172.IP)
[01:19:36] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[01:22:20] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[01:23:22] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Ping timeout: 121 seconds)
[01:25:04] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[01:27:43] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[01:28:47] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[01:32:10] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[01:42:18] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[01:46:47] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[01:48:02] *** Quits: GBGamer (npm@moz-3f1.t7p.56.172.IP) (Connection closed)
[01:49:31] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[01:54:01] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[02:01:51] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:02:57] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:04:06] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[02:04:14] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:05:09] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[02:08:35] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[02:09:04] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[02:10:16] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[02:15:10] *** Quits: zz_kimundi (kimundi@moz-r46dj7.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:17:49] *** Joins: zz_kimundi (kimundi@moz-krnn6s.dip0.t-ipconnect.de)
[02:17:51] *** zz_kimundi is now known as kimundi
[02:18:41] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[02:21:43] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:23:10] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[02:27:07] *** Joins: sluggo (Mibbit@moz-juv.9o3.252.72.IP)
[02:28:01] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:28:01] *** Quits: sluggo (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:33:13] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[02:40:16] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[02:41:40] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[02:47:15] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:47:41] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Client exited)
[02:48:44] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[03:02:25] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[03:03:18] <reem> Anyone feel like looking into a rustc stack overflow?
[03:03:43] <reem> (repro here https://github.com/reem/eventual/tree/non-static-support)
[03:06:47] *** Joins: GBGamer (npm@moz-3f1.t7p.56.172.IP)
[03:11:35] *** Quits: blank_name (blank_name@moz-hks8er.gdrpmi.sbcglobal.net) (Quit: leaving)
[03:15:09] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[03:15:31] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[03:16:42] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:18:00] <frewsxcv> kmc: how does one disable hash map randomization?
[03:19:33] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[03:24:11] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[03:25:34] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[03:27:33] *** Joins: semarie_ (semarie@moz-ums8mr.tor-exit.network)
[03:28:14] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[03:37:24] *** Joins: npm (npm@moz-92sbjt.wa.comcast.net)
[03:38:23] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: Textual IRC Client: www.textualapp.com)
[03:40:40] <kmc> frewsxcv: I was hoping you knew a good way :P
[03:40:48] <kmc> I edited src/libstd/collections/hash/map.rs and rebuilt the world...
[03:40:54] <frewsxcv> heh
[03:40:56] <kmc> but I'm fuzzing rustc itself so that's less of an issue
[03:40:57] <frewsxcv> https://github.com/kmcallister/afl.rs/issues/1
[03:41:02] <frewsxcv> i'm really interested in making that happen
[03:41:10] <kmc> ok
[03:41:11] <frewsxcv> how difficult of a task do you thinkt hat is?
[03:41:12] *** Quits: GBGamer (npm@moz-3f1.t7p.56.172.IP) (Ping timeout: 121 seconds)
[03:41:27] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:41:51] <kmc> oh it should be like a 1 line patch
[03:42:01] <kmc> if you're willing to rebuild the world
[03:42:12] <frewsxcv> i don't mind
[03:42:14] <kmc> put a call to intrinsics::abort() in the panic handling routines
[03:42:17] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[03:42:20] <kmc> maybe rust_begin_unwind
[03:42:35] <kmc> or rust_panic
[03:42:51] <kmc> i was looking for ICEs in rustc so I added it within the ICE printer
[03:43:35] <kmc> hehehehe... how about a LD_PRELOAD that overwrites the first 2 bytes of rust_panic with 0F 0B
[03:43:38] <kmc> that would do it
[03:43:50] <kmc> (on x86)
[03:43:55] <frewsxcv> do you think it's feasible to somehow modify your .c file that would allow this to work without rebuilding the world?
[03:44:45] <kmc> yep, that'd do it
[03:45:11] <frewsxcv> the LD_PRELOAD?
[03:45:23] <kmc> it could be part of the normal afl runtime init, too
[03:45:25] <kmc> whatever
[03:45:29] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[03:45:32] <kmc> as long as it runs before any panic
[03:45:40] * frewsxcv reads about what LD_PRELOAD is
[03:45:59] <kmc> you just need to poke one instruction at the start of rust_panic, which is a global symbol and never inlined
[03:46:08] <kmc> it exists specifically so you can put a breakpoint on it
[03:46:13] <kmc> this is basically a fatal breakpoint
[03:46:18] <kmc> a murderpoint
[03:46:24] <kmc> re LD_PRELOAD, see https://github.com/geofft/redhook
[03:46:55] <kmc> frewsxcv: afl_cov_rt.c already has a __attribute__((constructor (0))) function
[03:47:00] <kmc> you can put the code to patch rust_panic there
[03:47:41] <kmc> modifying code in memory is not trivial; you'll need a temporary writeable mapping, and you need to flush the instruction cache on certain architectures
[03:48:40] <kmc> rebuilding the world is definitely easier if you have some time on your hands :)
[03:48:42] <frewsxcv> i'm sorry, i'm not this familiar with a lot of this :-/
[03:48:50] <frewsxcv> yeah, i might just do that....
[03:53:10] <frewsxcv> kmc: just something like this? https://gist.github.com/frewsxcv/3673eb80834a37d96718
[03:54:31] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Ping timeout: 121 seconds)
[03:54:50] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:56:11] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[04:03:59] * frewsxcv put unsafe{} around it
[04:04:58] <reem> frewsxcv: presumably you still want to log something
[04:05:15] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[04:05:18] <frewsxcv> so put it after the log?
[04:05:45] <reem> I am not very familiar with the panic code
[04:05:51] <reem> but probably yes
[04:05:51] <frewsxcv> i assume you're referring to the rtdebug!
[04:06:43] <Zoxc> kmc: Does hash map randomization interfere with AFL?
[04:08:13] *** Joins: njn_ (chatzilla@moz-6gdjm4.iinet.net.au)
[04:08:17] *** njn_ is now known as njn
[04:09:03] *** Joins: ptalbot (ptalbot@moz-9tqisd.dyn.as47377.net)
[04:13:33] *** Parts: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net) ("I'm gone.")
[04:13:47] *** Joins: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net)
[04:17:02] *** Joins: yourabi (yourabi@moz-q8dqtg.ca.comcast.net)
[04:17:39] *** Quits: yourabi (yourabi@moz-q8dqtg.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:19:47] <kmc> Zoxc: yes
[04:23:07] <kmc> one factor here is that I think afl.rs will instrument any code from other crates that is monomorphized in the current compilation unit
[04:25:04] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[04:29:07] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[04:32:50] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[04:33:26] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[04:35:13] *** Quits: npm (npm@moz-92sbjt.wa.comcast.net) (Connection closed)
[04:44:05] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[04:48:35] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[04:51:30] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[04:51:49] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[04:57:33] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[04:58:29] *** Quits: jxv (jxv@moz-2celrt.res.rr.com) (Quit: BYE)
[04:58:37] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[04:59:33] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:01:13] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[05:01:36] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[05:04:19] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[05:05:48] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:05:53] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:09:21] *** Joins: gw (sid60@moz-p8llle.0j4i.jtu0.0101.2620.IP)
[05:15:01] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[05:19:31] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[05:20:31] <gw> anyone around who is able to look into crates.io being down (it's returning internal server errors both on the front page and via cargo)
[05:28:00] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:29:15] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[05:29:33] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[05:34:05] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[05:39:29] <Yurume> https://github.com/rust-lang/rust/blob/b49a5ef003fedcbb0d78aebda62ba30dfdd17a20/src/libsyntax/parse/attr.rs#L182
[05:39:45] <Yurume> #623 is fixed now, what's the current story about this workaround then?
[05:44:07] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[05:48:39] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[05:56:03] *** Joins: c0170_ (c0170@moz-bb29a4.cambridge.arm.com)
[05:57:39] *** Quits: c0170 (c0170@moz-dev.ffi.127.79.IP) (Ping timeout: 121 seconds)
[05:58:02] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:58:41] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[06:02:50] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:03:13] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[06:04:07] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[06:11:25] *** Joins: kushal (kdas@moz-lk6t5n.202.sitibroadband.in)
[06:13:16] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[06:16:53] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Ping timeout: 121 seconds)
[06:17:13] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[06:17:46] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[06:19:50] *** Quits: kushal (kdas@moz-lk6t5n.202.sitibroadband.in) (Quit: Leaving)
[06:23:09] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[06:23:09] *** ChanServ sets mode: +o pnkfelix
[06:29:39] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:29:50] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[06:31:53] *** Joins: Codenator (Mibbit@moz-i23.v94.198.81.IP)
[06:32:01] *** Parts: Codenator (Mibbit@moz-i23.v94.198.81.IP) ()
[06:37:07] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[06:39:46] *** Joins: p1start (p1start@moz-nftjhe.org)
[06:43:03] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[06:47:27] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[06:49:10] *** Joins: bvssvni (sven@moz-qqolj8.bb.online.no)
[06:57:01] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:57:30] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[07:01:36] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[07:02:02] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[07:03:12] *** Quits: ptalbot (ptalbot@moz-9tqisd.dyn.as47377.net) (Ping timeout: 121 seconds)
[07:05:13] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:05:38] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[07:11:56] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[07:12:06] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[07:16:36] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[07:18:37] <seanmonstar> Tobba: I put #[cfg_attr(test, deny(warnings))] in hyper, so it only ever breaks my test runs, never someone using the lib
[07:19:02] <Tobba> seanmonstar: that's a good idea
[07:19:09] *** Tobba is now known as Tobba|Laptop
[07:21:24] <Tobba|Laptop> bit hard to use in a kernel though, since --test will fail rather badly
[07:24:53] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[07:26:40] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[07:27:08] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:31:12] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[07:36:19] <eddyb> Tobba|Laptop: (from offtopic) there's a consequence of mem::forget being safe: a certain potential borrowck extension can pretend destructors never run
[07:36:28] <eddyb> [10:23] <eddyb> Mutabah: but let's say let iter = v.drain(..); let v2 = Vec::with_capacity(v.capacity()); is perfectly safe
[07:36:55] <Tobba|Laptop> hm
[07:37:25] <eddyb> nobody saw this coming, and I'm wondering if the high possibility for logic errors would prevent its implementation
[07:38:13] <eddyb> Tobba|Laptop: https://github.com/rust-lang/rfcs/pull/1094#issuecomment-96946853
[07:40:11] <eddyb> so we don't get cycle detection now, but we can introduce immutable reborrowing of arbitrary mutably borrowed objects, before the mutable borrow expires ("pausing" the mutable borrow as long as the immutable one is being used)
[07:40:35] <eddyb> for Copy types, a simpler variant of this used to be implemented, and it was removed because of... thread::scoped
[07:40:42] <Tobba|Laptop> that's interesting
[07:41:09] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Ping timeout: 121 seconds)
[07:41:15] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[07:41:20] <Tobba|Laptop> eddyb, 
[07:41:25] <Tobba|Laptop> err
[07:41:37] <eddyb> but that's no longer guarded by a destructor, which is one of the reasons I required destructors in the initial sketches of this feature
[07:42:02] <Tobba|Laptop> eddyb: this would be a fun extension, but as you said the potential of logic errors has to be explored
[07:42:07] <eddyb> actually, I still have to consider thread safety. but it's nevertheless more powerful than it ever was
[07:44:09] <eddyb> so, yeah, thanks for the last minute decision of making mem::forget safe, it already found a good use
[07:44:47] <Tobba|Laptop> it didn't make sense having it be unsafe anymore
[07:45:06] <Tobba|Laptop> also the leaking things means theres no argument about the FUCKING DESTRUCTORS IN STATICS RESTRICION
[07:45:12] <eddyb> oh
[07:45:21] <Tobba|Laptop> leaking thing*
[07:45:31] <eddyb> Tobba|Laptop: you should have mentioned that on the RFC. maybe there is still time!
[07:45:36] <Tobba|Laptop> I have so many workarounds for that restriction
[07:45:45] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[07:45:55] <Tobba|Laptop> eddyb: I was writing up a separate RFC for it at some point, it's backwards compatible
[07:46:09] <eddyb> sure, but it would be nice to have it in 1.0
[07:46:26] <eddyb> Tobba|Laptop: Vec::new() can be constexpr btw :P
[07:46:31] <Tobba|Laptop> let me find the appropriate RFC to stow this in
[07:46:51] <eddyb> I believe it was an example for `const fn` but I couldn't put it in a static *sad face*
[07:47:18] <Tobba|Laptop> we got `const fn` already?
[07:47:36] <eddyb> static MAH_VEC: StaticMutex<Vec<String>> = StaticMutex::new(Vec::new());
[07:47:46] <eddyb> alternatively, vec![] if it expands to the same thing
[07:48:33] <eddyb> Tobba|Laptop: I believe the RFC was accepted and someone took over the implementation (which was mostly there)
[07:48:42] <Tobba|Laptop> holy shit
[07:48:48] <Tobba|Laptop> I'm not getting my memos
[07:49:53] <eddyb> it's not merged yet, though
[07:50:10] <Tobba|Laptop> still
[07:51:02] <eddyb> also, static mut couldn't be removed so it will have to be deprecated. meh
[07:51:04] <Tobba|Laptop> this is great news, though kinda expected so that the API doesn't have to be cluttered with initilizer const's at 1.0
[07:51:23] <Tobba|Laptop> why not?
[07:51:38] <eddyb> because const fn was waaay too late
[07:51:47] <Tobba|Laptop> static foo: UnsafeCell<T> does the same thing doesn't it?
[07:52:03] <eddyb> crap, UnsafeCell has a public field
[07:52:07] <eddyb> well, that's jolly
[07:52:20] <eddyb> Tobba|Laptop: it doesn't help that some people doubt `const fn` is here to stay
[07:52:27] <Tobba|Laptop> :/
[07:52:40] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:52:45] <eddyb> I've seen fully hygienic macros being preferred over a solution that hooks to the type system
[07:52:48] <Tobba|Laptop> I'd love if it wasn't necessary to add the const keyword but that's probably mildly unsane
[07:52:53] <Tobba|Laptop> insane*
[07:53:31] <eddyb> (I don't agree about the macros, but I may very well be in a minority)
[07:53:55] <Tobba|Laptop> fully hygenic macros are great for their own thing
[07:53:57] <Tobba|Laptop> but tha
[07:54:08] <Tobba|Laptop> that's just gonna get unergonic, dupe-y and ugly
[07:54:18] <Tobba|Laptop> unergonomic* fuck
[07:55:19] <Zoxc> what about macros?
[07:55:51] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[07:56:09] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:57:25] <eddyb> Tobba|Laptop: anyways, I've stopped being scared about 1.x's failures
[07:57:41] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:57:45] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Connection closed)
[07:57:46] <Tobba|Laptop> I'm just hopi--
[07:57:49] <Tobba|Laptop> now why'd it do that
[07:58:05] <eddyb> Tobba|Laptop: it's nicer to try to imagine what 2.0 could be like. and really, you only need automatic translation to port over the ecosystem
[07:58:19] <Tobba|Laptop> eddyb: I'm hoping people just realize 1.0 is when people will see "1.0" as done
[07:58:30] <Tobba|Laptop> if its half-baked people will be dissapointed, no matter how forwards compatible it is
[07:58:55] <eddyb> Rust 1.0 is like K&R C
[07:59:22] <Tobba|Laptop> will see 1.0 as "done"*
[07:59:24] <Tobba|Laptop> god damnit
[07:59:30] <Tobba|Laptop> also lol
[08:00:20] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[08:00:52] <Tobba|Laptop> I wish we got 'crate before 1.0 as well
[08:01:17] <Tobba|Laptop> it's backwards incompat in so many ways
[08:01:31] <Tobba|Laptop> but only kind of
[08:01:36] <Zoxc> 'crate?
[08:01:53] <Zoxc> Should I be reading RFCs? =P
[08:01:53] <Tobba|Laptop> Zoxc: for dynamic libraries
[08:02:05] <Tobba|Laptop> the fn pointer lifetime RFC got postponed anyways
[08:02:26] <Mutabah> Zoxc: Sounds like a crate-local 'static
[08:02:42] <Tobba|Laptop> yeah pretty much
[08:03:19] *** Quits: eataix (uid37918@moz-79aeif.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[08:04:35] <Tobba|Laptop> there are way too many things relying on 'static bounds right now
[08:04:45] <Tobba|Laptop> which would pretty much all crap out under this scheme
[08:04:46] *** Quits: eddyb (eddyb@moz-9pm.kjd.26.188.IP) (Ping timeout: 121 seconds)
[08:05:19] <Mutabah> Tobba|Laptop: On my TODO for my kernel, is a module rc pointer
[08:05:41] <Mutabah> (like a &'static, except for loadable modules)
[08:06:07] <Tobba|Laptop> we wanted to turn fn() into &'lifetime fn(), which would have been amazing for that kinda stuff
[08:06:15] <Tobba|Laptop> buuut postponement
[08:06:54] <Tobba|Laptop> (there was also fn():'a but the pointer style is much more well behaved with generics)
[08:07:08] <Tobba|Laptop> reference style*
[08:08:14] <Tobba|Laptop> i'e fn lookup_symbol<'a, T: ?Sized>(&'a self, name: &str) -> &'a T { } would work fine as lookup_symbol::<fn(&str)>("hello")("Hello World");
[08:08:22] <Tobba|Laptop> and that would have been fucking awesome
[08:08:27] <Mutabah> Tobba|Laptop: Yeah
[08:09:04] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:09:48] <Tobba|Laptop> but that's for rust 2.0 I guess
[08:10:01] <Tobba|Laptop> or; since they're rarely used, I could bug the heck out of someone
[08:10:24] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[08:11:48] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[08:14:56] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[08:23:42] <kimundi> Tobba|Laptop: Not sure if you've seen it already, but I opened an issue about the static destructor restriction: https://github.com/rust-lang/rfcs/issues/1111
[08:24:30] <Tobba|Laptop> kimundi: woo, that means I don't have to forget about it
[08:27:26] <kimundi> Tobba|Laptop: Interestingly, as reaction to that issue someone showed me a solution how to get types with destructors into a static variable in current Rust without a heap allocation. It involves initializing a regular "static" with a UnsafeCell with value None and then storing a Some(value) in it at startup
[08:27:51] <Tobba|Laptop> :/ that's excellent though
[08:28:14] <Tobba|Laptop> my kernel had a way of doing static arena allocations at startup, which I've abused to hell
[08:28:32] <Tobba|Laptop> it's absolutely infuriating every time you hit that though
[08:32:53] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[08:37:11] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[08:39:45] *** Joins: eddyb (eddyb@moz-9pm.kjd.26.188.IP)
[08:40:07] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[08:44:15] *** Joins: eddyb__ (eddyb@moz-bjh.fmm.166.109.IP)
[08:44:36] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[08:44:48] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[08:44:54] *** Quits: eddyb (eddyb@moz-9pm.kjd.26.188.IP) (Ping timeout: 121 seconds)
[08:45:25] *** Joins: ytain (ytain@moz-a9t.bqj.91.23.IP)
[08:47:19] *** Quits: eddyb_ (eddyb@moz-9pm.kjd.26.188.IP) (Ping timeout: 121 seconds)
[08:47:41] *** Joins: munksgaard (munksgaard@moz-mf6fei.rev.sefiber.dk)
[08:48:21] *** Quits: eddyb__ (eddyb@moz-bjh.fmm.166.109.IP) (Ping timeout: 121 seconds)
[08:50:09] *** Joins: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP)
[08:51:37] *** Quits: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP) (Connection closed)
[08:52:00] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[08:53:41] *** Joins: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP)
[08:54:41] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[08:55:40] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:55:58] *** Quits: munksgaard (munksgaard@moz-mf6fei.rev.sefiber.dk) (Ping timeout: 121 seconds)
[08:57:10] *** Quits: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP) (Connection closed)
[08:59:10] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[09:09:15] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[09:09:35] *** Joins: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP)
[09:10:54] *** Quits: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP) (Connection closed)
[09:11:51] *** Joins: kushal (kdas@moz-fs9v7p.202.sitibroadband.in)
[09:12:26] *** Joins: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP)
[09:12:45] *** Quits: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:13:45] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[09:14:34] *** Quits: Guest63 (textual@moz-k0bi5k.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:19:50] *** Quits: kushal (kdas@moz-fs9v7p.202.sitibroadband.in) (Ping timeout: 121 seconds)
[09:20:06] *** Joins: kushal (kdas@moz-fs9v7p.202.sitibroadband.in)
[09:22:31] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[09:23:48] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[09:23:53] *** Joins: bjz_ (bjz@moz-hvq.3l7.21.120.IP)
[09:23:57] *** _1126 is now known as hiberno
[09:27:18] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Ping timeout: 121 seconds)
[09:28:20] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[09:31:38] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:32:50] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:35:34] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:38:23] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[09:40:19] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:40:32] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[09:42:53] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[09:42:56] *** Parts: gw (sid60@moz-p8llle.0j4i.jtu0.0101.2620.IP) ("")
[09:43:08] *** Joins: doener (bs@moz-c061a3.saltation.de)
[09:45:36] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[09:46:22] *** Joins: munksgaard (munksgaard@moz-mf6fei.rev.sefiber.dk)
[09:46:45] *** Joins: imperio (Mibbit@moz-2krb8b.abo.wanadoo.fr)
[09:50:36] *** Quits: munksgaard (munksgaard@moz-mf6fei.rev.sefiber.dk) (Ping timeout: 121 seconds)
[09:52:36] *** Joins: Guest63 (textual@moz-o6b1fj.web.vodafone.de)
[09:52:59] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[09:54:14] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[09:54:38] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[09:54:46] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:55:12] *** Quits: Tobba|Laptop (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[09:55:39] *** Quits: bjz_ (bjz@moz-hvq.3l7.21.120.IP) (Connection closed)
[09:56:09] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[09:57:18] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[09:57:28] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[09:59:03] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[10:02:09] *** Joins: jga (jga@moz-lmi.t1q.244.77.IP)
[10:02:37] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[10:03:52] *** Joins: munksgaard (munksgaard@moz-mf6fei.rev.sefiber.dk)
[10:05:49] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[10:07:33] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[10:12:03] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[10:13:11] *** Quits: munksgaard (munksgaard@moz-mf6fei.rev.sefiber.dk) (Ping timeout: 121 seconds)
[10:13:54] *** Joins: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP)
[10:15:32] *** Joins: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP)
[10:17:37] *** Quits: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP) (Connection closed)
[10:18:07] *** Quits: jga (jga@moz-lmi.t1q.244.77.IP) (Connection closed)
[10:18:24] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Ping timeout: 121 seconds)
[10:21:01] * WindowsBunny wonders if acrichto will ever finish the stdout_existential_crisis RFC
[10:22:05] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[10:25:59] *** Joins: dr4yyee (dr4yyee@moz-mfrj9m.dip0.t-ipconnect.de)
[10:26:37] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[10:27:15] *** Joins: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP)
[10:34:29] *** Joins: jga (jga@moz-lmi.t1q.244.77.IP)
[10:36:42] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[10:37:00] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[10:37:27] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[10:38:26] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[10:38:39] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[10:38:56] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:40:03] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[10:40:14] *** Quits: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[10:41:12] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[10:41:20] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Connection closed)
[10:43:27] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[10:44:30] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[10:50:42] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:51:15] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[10:55:47] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[11:04:11] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[11:05:50] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[11:07:00] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[11:07:13] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:08:40] *** Joins: aji (alex@prickle.ajitek.net)
[11:10:19] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[11:10:58] *** Quits: dinfuehr (dinfuehr@moz-7l3.jjq.141.195.IP) (Connection closed)
[11:11:13] *** Joins: blaphmat (Mibbit@moz-juv.9o3.252.72.IP)
[11:20:24] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[11:24:56] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[11:26:18] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[11:29:13] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[11:29:28] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:30:13] *** Joins: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP)
[11:30:52] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[11:33:25] *** Joins: eddyb (eddyb@moz-9pm.kjd.26.188.IP)
[11:34:21] <eddyb> Tobba: it's thread-safe btw: probably the most important part of it is that all mutable borrows on the data can be removed by early returning from the point you want to reborrow the data
[11:34:49] <Tobba> neat
[11:34:51] <eddyb> Tobba: if there are destructors on the objects borrowing the data, mem::forget is safe to call so the data has to be valid
[11:35:00] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[11:35:41] <eddyb> Tobba: now, the new fork-join API would borrow the data in the scope, and the scope outlives the closure in which you set it all up, which is how it ensures the threads are actually joined
[11:36:05] *** Quits: blaphmat (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:36:07] *** kimundi is now known as zz_kimundi
[11:36:24] <eddyb> Tobba: if you return from the closure, the borrow doesn't go away, the scope still has to join all the threads you created, so it wouldn't be safe to allow immutable access to the data
[11:36:43] <Tobba> sounds good
[11:36:51] *** Quits: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[11:37:13] <eddyb> it's really a weird form of SEME where you "poke a hole" in a mutable borrow that you "own"
[11:37:28] *** Joins: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP)
[11:37:46] <eddyb> I don't think it *requires* SEME, but it might be hard to use without
[11:39:21] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[11:39:29] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[11:44:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:47:00] <eddyb> Tobba: pffft, metadata debugging is useless, it just dumps out large quantities of terminal-unsafe bytes :|
[11:47:06] *** Joins: semarie__ (semarie@moz-dbql9s.telostor.ca)
[11:47:16] <Tobba> BEEP BEEP BEEP
[11:47:16] *** semarie__ is now known as semarie
[11:47:17] <Tobba> BEEEEEEEEEEEEP
[11:47:20] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[11:47:33] <eddyb> \a is the least of my issues
[11:47:43] <Tobba> alternatively PuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTYPuTTY if thats what you're using
[11:48:05] <eddyb> also makes `less` hang
[11:49:11] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[11:49:33] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[11:49:44] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[11:50:54] *** Quits: semarie_ (semarie@moz-ums8mr.tor-exit.network) (Ping timeout: 121 seconds)
[11:52:07] *** Quits: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[11:54:05] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[11:55:12] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[11:55:13] *** ChanServ sets mode: +o pnkfelix
[11:55:21] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[11:55:58] *** Joins: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP)
[12:00:14] <eddyb> Tobba: oh I just found where my coherence early loading fix was breaking down: I was trying to load the trait ref but I was working with an array of impls that only stored their own DefId's...
[12:00:38] <Tobba> does that mean you can fix it?
[12:04:09] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[12:04:36] *** Quits: kushal (kdas@moz-fs9v7p.202.sitibroadband.in) (Ping timeout: 121 seconds)
[12:04:38] <eddyb> yes, but I hate metadata so much, I don't know if I should go for the easy fix or the smart one
[12:04:52] <eddyb> Yurume: did you see the atrocity that encode_def_id is?
[12:05:25] <eddyb> you'd think it would store two u32's... instead, rbml_w.wr_tagged_str(tag_def_id, &def_to_string(id));
[12:05:38] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[12:05:50] <eddyb> and def_to_string? format!("{}:{}", did.krate, did.node)
[12:08:37] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[12:11:36] *** zz_kimundi is now known as kimundi
[12:14:05] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[12:18:41] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[12:23:11] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[12:23:27] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:24:01] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:25:42] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[12:26:51] *** Joins: bdero1 (bran@moz-mqs.7dh.189.18.IP)
[12:26:51] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Connection reset by peer)
[12:27:13] *** Joins: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP)
[12:27:24] *** Joins: rkruppe_ (chatzilla@moz-1eht3a.hrz.tu-darmstadt.de)
[12:27:25] *** Quits: untitaker (untitaker@moz-1ck6kd.highway.telekom.at) (Ping timeout: 121 seconds)
[12:28:29] *** Joins: untitaker (untitaker@moz-e83u5h.highway.telekom.at)
[12:28:49] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:29:36] *** Quits: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[12:29:49] *** rkruppe_ is now known as rkruppe
[12:32:05] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:33:08] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[12:33:17] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[12:35:25] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[12:35:52] *** Joins: jshs (jshs@moz-jp5l0e.dip0.t-ipconnect.de)
[12:37:47] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[12:41:37] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[12:47:49] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[12:51:34] *** Joins: O01eg (o01eg@moz-cn8.4u9.194.109.IP)
[12:52:21] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[12:53:53] *** Joins: rovar__ (rovar@moz-6iq.47m.88.38.IP)
[12:56:16] *** Quits: rovar_ (rovar@moz-6iq.47m.88.38.IP) (Ping timeout: 121 seconds)
[12:58:04] *** Quits: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:59:49] *** Joins: tamird (textual@moz-lje.m54.130.157.IP)
[13:00:02] <steveklabnik> pnkfelix: thanks for the awesome feedback on the stack & heap thing. gonna get on that stuff later this morning :)
[13:00:33] <pnkfelix> steveklabnik: cool cool.  good luck trying to tease out something useful from my example.
[13:02:24] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[13:04:16] *** Joins: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP)
[13:05:12] <steveklabnik> no, as always, sometimes when i write something, i can kinda feel where it's weak, and then you and the other commentors just directly pointed it out :)
[13:05:21] <steveklabnik> good to have that confirmed
[13:06:56] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[13:08:36] *** Quits: rkruppe (chatzilla@moz-1eht3a.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[13:12:53] *** Joins: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP)
[13:13:05] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:13:52] *** Quits: eddyb (eddyb@moz-9pm.kjd.26.188.IP) (Quit: Konversation terminated!)
[13:13:56] *** Joins: eddyb (eddyb@moz-9pm.kjd.26.188.IP)
[13:17:02] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[13:17:39] <Yurume> eddyb: def_to_string is definitely one of my favorite strangeness I've ever encountered in rustc.
[13:17:50] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[13:17:58] <Yurume> yes, I know there are tons of duplicate infos
[13:18:58] <doener> my current favorite is that UFCS actually "forgets" that it is calling a method sometimes, so you can't tell whether the first arg is "self" or just a regular argument
[13:19:04] <doener> took me a while to figure that out
[13:21:31] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[13:23:34] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[13:23:56] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[13:24:50] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:27:58] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[13:28:53] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[13:28:55] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[13:30:27] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[13:31:33] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[13:33:03] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[13:34:17] *** Quits: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:36:05] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[13:39:17] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[13:39:23] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (NickServ (RECOVER command used by rovar__))
[13:39:23] *** rovar__ is now known as rovar
[13:39:36] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[13:44:13] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:44:21] *** Joins: rkruppe_ (chatzilla@moz-1eht3a.hrz.tu-darmstadt.de)
[13:44:40] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:46:09] <eddyb> doener: example?
[13:46:11] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[13:46:30] *** Quits: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[13:46:31] *** rkruppe_ is now known as rkruppe
[13:47:39] <eddyb> Yurume: huon was pointing out that encoding small integers would result in a smaller strings than an u64 - would it be possible to expose varints for things like this?
[13:48:31] <doener> eddyb: not sure, I just see it being triggered in a branch where I try to pass fat pointers as two distinct function args at the LLVM IR level
[13:48:38] <Yurume> I think I actually tried that a bit.
[13:49:53] <eddyb> Yurume: it's annoying that tags are used for both name and type
[13:49:54] *** Quits: carter (carter@moz-aheg3i.ieqc.6fdm.3c03.2600.IP) (Ping timeout: 121 seconds)
[13:50:04] <doener> eddyb: if I'm not mistaken (I don't have access to the broken build right now) it's via trans_static_method_callee with vtbl being a VtableObject
[13:50:27] <doener> eddyb: that gets called by trans_def which wraps the thing in a Callee with Fn data
[13:50:38] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[13:50:41] <eddyb> doener: but UFCS can't produce VtableObject... can it?
[13:50:50] <eddyb> oh dear, is this Trait::method(&obj)?
[13:50:57] <doener> I think so
[13:51:21] <eddyb> I can see that going wrong^W^W being fun
[13:52:11] <doener> eddyb: yeah, the commit that added the code talks about https://github.com/rust-lang/rust/issues/20676
[13:52:50] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[13:52:59] <doener> eddyb: yeah... fun... made me abandon work on rust on sunday, playing Castlevania and Metroid instead :-p
[13:53:08] *** Joins: carter (carter@moz-aheg3i.ieqc.6fdm.3c03.2600.IP)
[13:53:14] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[13:53:36] <eddyb> I remember that issue
[13:54:39] *** kimundi is now known as zz_kimundi
[13:54:49] <eddyb> doener: I have been stumped for two days now, only to realize that the metadata tags I was working with didn't have the data I was trying to extract, resulting in silent failure to do anything
[13:55:22] <eddyb> dynamic typing can go reflect itself
[13:55:33] <doener> hahaha
[13:57:31] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[13:58:24] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[14:00:44] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[14:05:12] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[14:06:23] *** Joins: aepsil0n (eduard@moz-g8ss54.mv2h.pepi.8071.2a02.IP)
[14:06:53] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[14:07:37] *** Joins: ELD (textual@moz-umoe5i.Mines.EDU)
[14:08:58] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[14:10:53] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[14:13:11] *** Joins: munksgaard (munksgaard@moz-mf6fei.rev.sefiber.dk)
[14:15:19] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[14:16:12] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[14:17:42] *** Quits: ELD (textual@moz-umoe5i.Mines.EDU) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:18:00] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:19:48] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[14:20:08] *** Joins: ELD (textual@moz-umoe5i.Mines.EDU)
[14:24:11] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[14:27:30] *** Quits: ELD (textual@moz-umoe5i.Mines.EDU) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:28:14] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[14:28:54] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[14:29:20] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[14:29:52] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[14:34:22] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[14:36:47] *** Joins: larsberg (Adium@moz-kmvlue.cable.rcn.com)
[14:39:49] *** Joins: c0170 (c0170@moz-dev.ffi.127.79.IP)
[14:39:59] *** Joins: semarie_ (semarie@moz-4lmh4m.privacyfoundation.ch)
[14:41:24] *** Quits: semarie (semarie@moz-dbql9s.telostor.ca) (Ping timeout: 121 seconds)
[14:42:56] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[14:43:11] *** Quits: c0170_ (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[14:44:27] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[14:45:03] *** Joins: Guest63_ (textual@moz-1pr5lb.168.threembb.ie)
[14:46:21] *** Quits: Guest63 (textual@moz-o6b1fj.web.vodafone.de) (Ping timeout: 121 seconds)
[14:47:34] *** Joins: mib_ge1vxl (Mibbit@moz-99irs5.home.ne.jp)
[14:48:16] *** Quits: mib_ge1vxl (Mibbit@moz-99irs5.home.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[14:48:57] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[14:58:33] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[14:59:02] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[15:01:06] *** zz_kimundi is now known as kimundi
[15:02:09] *** Quits: munksgaard (munksgaard@moz-mf6fei.rev.sefiber.dk) (Ping timeout: 121 seconds)
[15:03:30] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[15:03:58] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:06:21] *** Quits: Guest63_ (textual@moz-1pr5lb.168.threembb.ie) (Ping timeout: 121 seconds)
[15:11:17] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[15:13:35] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[15:14:13] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[15:15:27] *** Joins: Guest63 (textual@moz-o6b1fj.web.vodafone.de)
[15:17:46] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:18:06] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[15:19:57] *** Joins: ELD (textual@moz-umoe5i.Mines.EDU)
[15:23:40] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[15:23:53] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:24:57] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[15:25:07] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[15:28:11] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[15:29:00] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[15:29:42] *** Joins: newbie (eibwen@moz-lt4t5n.dip0.t-ipconnect.de)
[15:30:41] *** Levans is now known as `
[15:31:36] *** ` is now known as ``
[15:32:00] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[15:32:35] *** Quits: imperio (Mibbit@moz-2krb8b.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[15:36:56] *** Quits: doener (bs@moz-c061a3.saltation.de) (Quit: leaving)
[15:38:25] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:39:50] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[15:41:02] *** Quits: ELD (textual@moz-umoe5i.Mines.EDU) (Quit: Textual IRC Client: www.textualapp.com)
[15:42:19] *** Quits: aepsil0n (eduard@moz-g8ss54.mv2h.pepi.8071.2a02.IP) (Connection closed)
[15:51:39] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[15:52:19] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:52:25] *** Joins: japaric (japaric@moz-pes.ggi.230.201.IP)
[15:53:16] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[16:04:11] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[16:06:50] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[16:07:30] *** Quits: rkruppe (chatzilla@moz-1eht3a.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[16:10:22] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[16:11:45] *** Joins: GBGamer (npm@moz-urd.pod.125.50.IP)
[16:11:59] *** Joins: mib_rxo723 (Mibbit@moz-juv.9o3.252.72.IP)
[16:12:49] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:14:13] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[16:15:32] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:17:01] *** Joins: npm (npm@moz-71q.g5g.156.168.IP)
[16:18:44] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[16:18:50] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[16:19:06] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[16:19:41] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:19:59] *** Quits: GBGamer (npm@moz-urd.pod.125.50.IP) (NickServ (RECOVER command used by npm))
[16:19:59] *** npm is now known as GBGamer
[16:24:28] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:24:34] *** Quits: GBGamer (npm@moz-71q.g5g.156.168.IP) (Connection closed)
[16:24:40] *** Joins: GBGamer (npm@moz-urd.pod.125.50.IP)
[16:25:41] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[16:26:04] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[16:26:35] *** Joins: arielb1 (Ariel@moz-2trv48.red.bezeqint.net)
[16:26:42] <arielb1> nmatsakis: ping
[16:27:31] <nmatsakis> arielb1: hey, just stepping out to grab a sandwich, be back very shortly
[16:29:44] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[16:30:49] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:30:57] *** kimundi is now known as zz_kimundi
[16:32:59] <arielb1> nmatsakis: I re-commented and rebased https://github.com/rust-lang/rust/pull/23424
[16:33:03] <arielb1> gh23424
[16:33:03] <[o__o]> Select projections over impls in case of ambiguity. Fixes #23336.: https://github.com/rust-lang/rust/pull/23424
[16:33:21] <arielb1> I think I understand the relevant issue much better now
[16:34:21] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:35:42] *** Joins: davebettin (davebettin@moz-qihdsk.hfc.comcastbusiness.net)
[16:36:08] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Ping timeout: 121 seconds)
[16:36:11] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[16:38:05] *** `` is now known as Levans
[16:38:24] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[16:39:23] <acrichto> pnkfelix: ping
[16:40:05] <pnkfelix> acrichto: pong
[16:40:19] <acrichto> pnkfelix: looks like I ran into a bit of trouble backporting the Drop changes unfortunately
[16:40:40] <acrichto> oh grr I just lost the error message :\
[16:41:00] <pnkfelix> acrichto: do you want me to take over on cherry-picking that one?
[16:41:00] <acrichto> pnkfelix: the failure is in this commit though: https://github.com/alexcrichton/rust/commit/f7772f95b2117bdbf097df9c068d705f077f8590
[16:41:08] <acrichto> pnkfelix: sure, that commit is probably just wrong
[16:41:19] <acrichto> pnkfelix: specifically, the opt_dtor variable went away 
[16:41:24] <acrichto> on this line: https://github.com/alexcrichton/rust/commit/f7772f95b2117bdbf097df9c068d705f077f8590#diff-8d51bdbb2b073a26d4787a7fa11f19cbL405
[16:41:36] <acrichto> (but it was still used below)
[16:41:45] <acrichto> but yeah if you want to just take over backporting it that would probably make the most sense
[16:44:37] <pnkfelix> acrichto: I'm confused, the beta branch has that line ...
[16:44:51] <acrichto> pnkfelix: my merge was likely just wrong
[16:44:59] <acrichto> there was a conflict on that cherry-pick 
[16:45:02] <pnkfelix> acrichto: well, in any case, just take it out of your merge
[16:45:03] <acrichto> and I probably didn't resolve it right
[16:45:21] <pnkfelix> acrichto: I'll take care of it; I assume I should wait for you to land yours first, right?
[16:45:31] <acrichto> pnkfelix: nah it can probably land independently
[16:45:36] <acrichto> pnkfelix: e.g. if you want to just make a PR against beta
[16:45:46] <pnkfelix> acrichto: heh but you said you had a conflict
[16:45:49] <pnkfelix> acrichto: but okay
[16:45:55] <acrichto> pnkfelix: yes as in you do the cherry-pick
[16:45:58] <acrichto> resolving the conflict
[16:46:08] <acrichto> and I'll back those commits out of my backport PR
[16:46:13] <pnkfelix> acrichto: okay sounds good
[16:46:23] <pnkfelix> acrichto: I won't worry about waiting for you tehn
[16:47:02] *** zz_kimundi is now known as kimundi
[16:47:23] <pnkfelix> acrichto: (and I, like you I presume, won't pull any triggers on merging a PR before the early-triage discussion has converged.)
[16:47:45] <acrichto> indeed
[16:48:37] *** Joins: jdm (jdm@moz-gbdv09.ckpj.s0pt.0450.2001.IP)
[16:49:29] *** Joins: sagg (sigg@moz-55rvi2.dclient.hispeed.ch)
[16:50:51] *** Joins: brson (brson@moz-qjbkeh.mtv2.mozilla.com)
[16:50:51] *** ChanServ sets mode: +o brson
[16:51:09] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[16:53:24] *** Quits: japaric (japaric@moz-pes.ggi.230.201.IP) (Ping timeout: 121 seconds)
[16:53:57] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[16:54:07] *** Quits: mib_rxo723 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:55:25] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[16:56:00] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[17:01:10] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[17:03:22] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Quit: leaving)
[17:03:59] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Connection closed)
[17:04:14] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[17:04:55] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[17:06:24] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[17:07:18] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:11:31] *** Quits: davebettin (davebettin@moz-qihdsk.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[17:11:45] *** Quits: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net) (Quit: Alfador is the Entity!)
[17:12:34] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[17:13:20] *** Joins: Murarth (Murarth@moz-j21.78t.166.46.IP)
[17:14:22] *** chmanchester|afk is now known as chmanchester
[17:14:40] *** Quits: GBGamer (npm@moz-urd.pod.125.50.IP) (Ping timeout: 121 seconds)
[17:17:12] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[17:17:13] *** Joins: GBGamer (npm@moz-urd.pod.125.50.IP)
[17:19:55] <brson> merge beta patches
[17:20:01] <brson> let's build a beta today
[17:20:08] <brson> er a stable
[17:20:28] <brson> are there going to be any interesting features in rust 1.1?
[17:20:30] <steveklabnik> brson: i wanted to chat with you about this actually
[17:20:39] <steveklabnik> but i'm about to eat lunch, can we talk in like a half an hour?
[17:21:18] *** Joins: xilec (Mibbit@moz-g6k.oht.161.46.IP)
[17:21:24] <brson> i'll be busy then. free in 3 hours
[17:21:37] *** Parts: xilec (Mibbit@moz-g6k.oht.161.46.IP) ()
[17:23:29] *** Joins: pcwalton (pcwalton@moz-f8u.cfu.35.4.IP)
[17:23:29] *** ChanServ sets mode: +o pcwalton
[17:24:43] <steveklabnik> ah. okay. well everyone can backport stuff and we can talk when you get back :)
[17:24:54] *** Quits: newbie (eibwen@moz-lt4t5n.dip0.t-ipconnect.de) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:25:06] *** Joins: npm (npm@moz-71q.g5g.156.168.IP)
[17:26:26] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[17:28:09] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[17:28:18] <arielb1> nmatsakis: ping
[17:28:26] *** Quits: GBGamer (npm@moz-urd.pod.125.50.IP) (Ping timeout: 121 seconds)
[17:29:09] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:29:18] *** rkruppe_ is now known as rkruppe
[17:30:19] <nmatsakis> arielb1: pong
[17:30:29] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[17:30:43] <nmatsakis> arielb1: I've not read your udpated gh23424 yet, plan to do soon tho
[17:30:43] <[o__o]> Select projections over impls in case of ambiguity. Fixes #23336.: https://github.com/rust-lang/rust/pull/23424
[17:30:53] <arielb1> fine
[17:31:01] <arielb1> comment on the issue then
[17:31:04] <arielb1> *just
[17:31:40] *** Joins: eibwen (eibwen@moz-lt4t5n.dip0.t-ipconnect.de)
[17:32:26] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[17:34:01] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[17:34:02] <nmatsakis> arielb1: ok, my first glance it looked really good, but I wanted to read it a bit more in depth
[17:34:10] <arielb1> sure
[17:34:12] <arielb1> I guess
[17:34:34] *** Quits: npm (npm@moz-71q.g5g.156.168.IP) (Connection closed)
[17:34:50] <arielb1> do you think I got gh21974 right?
[17:34:51] <[o__o]> Treatment of regions in trait matching is perhaps too simplistic: https://github.com/rust-lang/rust/issues/21974
[17:35:19] <seanmonstar> aturon: whatcha think of an opposite to AsRef, like how theres From/Into? i've found that since i don't own AsRef, or another type, i cant impl AsRef<MyType> for OtherType
[17:35:42] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[17:36:15] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[17:36:55] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:36:55] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[17:36:57] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[17:36:59] <seanmonstar> or maybe some interesting generic impls would allow AsRef<MyTpe> for `impl From<&OtherType> for &MyType`
[17:37:06] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[17:38:08] <aturon> seanmonstar: sorry in meeting, will get back to you soon -- i suspect there are coherence issues
[17:40:39] <Eridius> seanmonstar: if you don't own MyType or OtherType, how would you implement the inverse if there was one?
[17:41:15] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[17:41:46] <Eridius> although I'm still unclear as to why we actually have Into. I get that you can make some implementations of Into that you can't do for From, but rustdoc says we only have 3 implementations (beyond the blanket one for U: From<T>) and I'm not sure who even calls it
[17:42:01] *** Quits: jshs (jshs@moz-jp5l0e.dip0.t-ipconnect.de) (Client exited)
[17:42:17] <seanmonstar> Eridius: i do own MyType
[17:42:18] <Eridius> heck, our try!() macro doesn't even use Into, it uses From, and I'm not sure why (surely if we have more Into implementations than From implementations we'd want to use Into whenever possible?)
[17:42:32] <Eridius> seanmonstar: oh, I misread
[17:42:45] <seanmonstar> Eridius: i dont own AsRef nor StdType
[17:43:03] <Eridius> I'm still not entirely clear on what the coherence rules are that determine when you're allowed to make an impl like that
[17:43:14] <Eridius> having a local type as the only type parameter involved isn't sufficient?
[17:43:22] <seanmonstar> Eridius: you either need to own the trait, or the type
[17:43:28] <seanmonstar> but a generic on the trait isn't enough
[17:43:39] <Eridius> I thought there was supposed to be some rule around having local types as type parameters. Was that discarded?
[17:43:55] <sfackler> parameter doesn't work because it would conflict with a blanket impl
[17:44:20] <Eridius> do we disallow that even if the trait doesn't have a blanket impl just in case it gains one later?
[17:44:24] <seanmonstar> ah yes. even tho the blanket doesnt exist, it could one day, and doom it all?
[17:44:43] <sfackler> yeah
[17:44:48] <Eridius> surely adding a blanket impl would be a major breaking change. Seems like we could allow it if there is no blanket impl now
[17:44:59] <Eridius> and just accept that if a blanket impl is added that can break downstream crates
[17:45:14] <Eridius> but I'm sure there's a lot of discussion around this topic somewhere that I haven't read
[17:45:17] <sfackler> the point of the coherence rules would be to avoid forcing that blanket impl to be a breaking change
[17:45:21] *** Joins: brson_ (brson@moz-cfhap5.mtv2.mozilla.com)
[17:45:26] <Eridius> ah
[17:45:29] *** Quits: brson (brson@moz-qjbkeh.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[17:45:36] <sfackler> the #[fundamental] attribute turns the type into the coherence mode you're talking about I believe
[17:45:45] <Eridius> maybe AsRef should be #[fundamental] then?
[17:46:02] <seanmonstar> my understanding is no
[17:46:04] <sfackler> I think fundamental annotates types not traits
[17:46:20] <seanmonstar> the semantics of fundamental is "if a type doesnt initially implement it, it NEVER will"
[17:46:45] <Eridius> ah right, my hazy recollection is #[fundamental] is for things like Result that means clients can implement traits for Result<T,U>
[17:47:03] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[17:47:12] <seanmonstar> i thought fundamental was put on things like Fn
[17:47:17] <Eridius> but it seems reasonable to want to have a similar attribute for traits that says "if this trait doesn't have a blanket impl, assume it NEVER will" to allow people to implement things like AsRef
[17:47:19] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[17:47:24] <seanmonstar> basically, either your type is a Fn, or not and wont ever be
[17:47:37] *** Quits: brson_ (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[17:47:44] <Eridius> ah yeah, Fn has it
[17:47:46] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:47:47] *** ChanServ sets mode: +o brson
[17:48:09] <Eridius> ok so it sounds like #[fundamental] on a trait is not what I'm looking for after all
[17:48:44] *** Joins: dinfuehr (dinfuehr@moz-usino5.highway.telekom.at)
[17:49:37] <seanmonstar> i'm looking for what currently exists with From/Into. you can't do `impl Into<Foo> for Option`, cause both Into and Option are in std. so instead, you can do `impl From<Option> for Foo`
[17:49:37] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[17:50:13] <barosl> That's... a bit odd
[17:50:32] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[17:51:06] <Eridius> I just filed https://github.com/rust-lang/rfcs/issues/1113
[17:51:10] <seanmonstar> however, there doesnt exist a opposite/complement of AsRef
[17:51:11] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:51:11] *** rkruppe_ is now known as rkruppe
[17:54:21] <steveklabnik> well, AsRef is a conversion
[17:54:32] <steveklabnik> isn't Clone kind of the opposite of AsRef, in a sense?
[17:54:46] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[17:54:53] <seanmonstar> yes, but not the sense im talking about :)
[17:55:12] <steveklabnik> the opposite of AsRef would be called like MakeOwned
[17:55:20] <steveklabnik> which isn't real
[17:55:23] <steveklabnik> just thinking out loud
[17:56:44] <seanmonstar> steveklabnik: i think it could be: AsRef is Into<&T> for &U, and so im looking for _ that is From<&U> for &T
[17:59:02] *** Quits: pcwalton (pcwalton@moz-f8u.cfu.35.4.IP) (Client exited)
[18:02:15] *** Joins: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP)
[18:02:57] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[18:04:21] <Eridius> hrm, rustdoc currently lists the following implementation: `impl<T> From<T> for T`. Somehow I think that's missing something
[18:04:44] <Eridius> oh nevermind
[18:04:47] <Eridius> that's actually correct
[18:04:49] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[18:04:52] <Eridius> it's just saying that T can be converted from T
[18:04:59] <Eridius> and I just assumed it was a case of rustdoc dropping bounds again
[18:05:48] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[18:09:35] <simukis> we’re getting a lot of typeck related ICE lately
[18:09:37] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[18:11:02] *** Quits: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[18:12:31] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[18:13:49] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[18:13:51] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[18:14:14] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[18:14:46] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[18:14:51] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[18:15:11] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[18:15:17] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[18:15:18] *** rkruppe_ is now known as rkruppe
[18:16:11] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[18:16:12] *** ChanServ sets mode: +o pnkfelix
[18:18:46] *** Joins: davebettin (davebettin@moz-qihdsk.hfc.comcastbusiness.net)
[18:19:31] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[18:19:32] *** ChanServ sets mode: +o brson
[18:20:22] <seanmonstar> since `type` is pretty much just a type alias, i don't see why i need to make my `type`s public. they're just for my own sanity, and they don't provide anything to a lib user
[18:20:46] <brson> acrichto: what's the state of these https://github.com/rust-lang/rust/pulls?q=is%3Apr+label%3Abeta-nominated+is%3Aclosed
[18:20:47] <arielb1> seanmonstar: reexports
[18:21:01] <seanmonstar> arielb1: need more words :(
[18:21:24] <brson> i'm going to push beta to try and see if it still passes
[18:21:27] <acrichto> brson: two are in https://github.com/rust-lang/rust/pull/25299, I can add a third, and pnkfelix is working on backporting the Drop one
[18:21:28] *** Quits: untitaker (untitaker@moz-e83u5h.highway.telekom.at) (Ping timeout: 121 seconds)
[18:22:13] <seanmonstar> brson: so fast. iwas about to comment
[18:22:31] <seanmonstar> that f245929 forgot a [breaking-change] line in the commit message
[18:22:47] <brson> anybody object to fast-tracking the beta-accepted tag for https://github.com/rust-lang/rust/pull/25162
[18:22:49] *** Parts: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) ()
[18:23:10] <brson> and https://github.com/rust-lang/rust/pull/25212
[18:23:23] <brson> heh, i already merged into beta...
[18:23:26] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[18:23:28] <brson> so...
[18:23:33] <brson> nobody say 'no'
[18:23:39] <seanmonstar> XD
[18:23:53] *** Joins: untitaker (untitaker@moz-i9ab1o.highway.telekom.at)
[18:24:14] <acrichto> brson: r? https://github.com/rust-lang/rust/pull/25311
[18:24:34] *** Quits: sagg (sigg@moz-55rvi2.dclient.hispeed.ch) (A TLS packet with unexpected length was received.)
[18:24:54] <brson> r+'s all around!
[18:25:12] <brson> hopefully nobody objects to being so loose with the approvals
[18:25:50] <acrichto> brson: I'm leaving the nominated tag on https://github.com/rust-lang/rust/pull/25212
[18:25:55] <acrichto> brson: it hasn't been backported just yet
[18:26:10] <acrichto> there's a conflict with it on beta and my resolution of the conflict failed the build
[18:26:13] <brson> ok
[18:26:23] <acrichto> other than that though we should be good to go!
[18:26:57] <brson> running through try again
[18:27:11] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[18:28:39] *** Quits: ytain (ytain@moz-a9t.bqj.91.23.IP) (Quit: Textual IRC Client: www.textualapp.com)
[18:29:45] <pnkfelix> acrichto: ah, I now see why backporting this dropck change was a pain
[18:29:54] <pnkfelix> acrichto: (luckily I'm familiar with the moving pieces here)
[18:29:57] <acrichto> :D
[18:31:14] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[18:31:25] *** Quits: arielb1 (Ariel@moz-2trv48.red.bezeqint.net) (Quit: Ex-Chat)
[18:31:34] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[18:32:38] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[18:34:46] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Connection closed)
[18:34:52] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[18:36:01] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[18:38:13] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[18:38:19] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Ping timeout: 121 seconds)
[18:40:06] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:40:06] *** ChanServ sets mode: +o pcwalton
[18:40:21] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[18:40:59] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[18:42:08] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[18:42:49] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[18:43:10] *** Quits: Guest63 (textual@moz-o6b1fj.web.vodafone.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:47:13] <simukis> what would you call a function that’s a “method” but does not take self (or self-ref)? 
[18:47:32] <simukis> i.e. majority of `new` “methods”
[18:47:46] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[18:47:46] *** ChanServ sets mode: +o pnkfelix
[18:49:14] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[18:49:17] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[18:49:38] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[18:50:21] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[18:50:33] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[18:50:36] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[18:51:35] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[18:51:50] <seanmonstar> simukis: static method in Java/etc. associated fn?
[18:51:50] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[18:53:17] <kmc> simukis: a static method
[18:53:25] <kmc> and yes, they are like associated fn's
[18:53:33] <kmc> but much older than associated items in Rust
[18:53:52] <seanmonstar> kmc: i know, but now that associated items are expanding, seems they fit in as "associated fn"
[18:54:03] <kmc> yes
[18:55:11] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[18:56:28] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[18:56:30] <simukis> ok, so static method is still a method
[18:57:08] <simukis> I just read over “The first parameter for a method is always an explicit “self”” from http://blog.rust-lang.org/2015/05/11/traits.html overly critically, I guess
[18:57:58] <seanmonstar> simukis: its correct. those are not "methods" in the exact sense
[18:58:06] <seanmonstar> you don't call them as `foo.bar()`
[19:08:19] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[19:09:19] <kmc> in most languages you would call them static methods
[19:09:36] <kmc> and that's what the rust compiler developers called them, in the past
[19:09:42] <kmc> the usage of terminology throughout the docs may be inconsistent
[19:11:00] <Eridius> I usually say "static methods", but I've been known to say "self-less methods" in the past when I wanted to be clear
[19:11:26] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[19:12:02] <eddyb> altruistic methods?
[19:12:51] <pnkfelix> sigh, I cannot build beta with --enable-debug 
[19:13:18] <pnkfelix> (probably due to things like gh24997)
[19:13:19] <[o__o]> vec::test_drain_range exposes overflow "bug" in slice code: https://github.com/rust-lang/rust/issues/24997
[19:17:03] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[19:18:56] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[19:26:06] <brson> is it worth pushing another beta this week?
[19:26:12] *** Quits: dcuddeback (textual@moz-ilr344.ca.comcast.net) (Ping timeout: 121 seconds)
[19:27:08] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[19:27:32] <pnkfelix> brson: is which worth it?  The --enable-debug thing? (in which case, no)
[19:27:57] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[19:28:31] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[19:28:38] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[19:28:52] <brson> pnkfelix: i just meant is it worth publishing a new beta at all, not for that specific patch
[19:28:57] <brson> a number of patches did land last week
[19:29:09] <brson> if we get a beta out tonight people can test for like 2 days
[19:29:15] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[19:29:32] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:29:33] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[19:29:39] <reem> brson: better to test for two days than release straight into stable
[19:30:01] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[19:31:07] *** Joins: japaric (japaric@moz-bnn.hdv.121.200.IP)
[19:31:17] <brson> this bumps the beta prerelease version r? https://github.com/rust-lang/rust/pull/25312
[19:32:00] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[19:32:09] *** Quits: dinfuehr (dinfuehr@moz-usino5.highway.telekom.at) (Connection closed)
[19:32:40] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Connection closed)
[19:32:54] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[19:33:59] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:34:15] <brson> building a beta
[19:36:46] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[19:39:50] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[19:39:50] *** ChanServ sets mode: +o pnkfelix
[19:40:11] <Eridius> pnkfelix: note that if you want --enable-debug to work, you may also be interested in gh25300
[19:40:12] <[o__o]> Handle overflow properly in core::slice: https://github.com/rust-lang/rust/pull/25300
[19:42:53] <pnkfelix> brson: there may be value in trying to shove gh25313 into your beta build...
[19:42:54] <[o__o]> Backport #25212 to beta: https://github.com/rust-lang/rust/pull/25313
[19:43:08] <pnkfelix> I'm trying to at least ensure that it all builds locally now
[19:43:21] <pnkfelix> brson: but that may be wasted effort if you can do a local try more quickly...
[19:44:26] <brson> pnkfelix: ok, I'll add it
[19:44:52] <brson> pnkfelix: can I just merge that pr?
[19:45:02] *** Quits: semarie_ (semarie@moz-4lmh4m.privacyfoundation.ch) (A TLS packet with unexpected length was received.)
[19:47:22] <pnkfelix> brson: the only reason not to would be if it happened not to bootstrap, I guess
[19:47:43] <pnkfelix> brson: but its not the end of the world to revert it in that case, I guess.
[19:47:43] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[19:48:04] <pnkfelix> brson: I guess I was more thinking that you could merge locally and then force push if it works out
[19:48:22] <pnkfelix> brson: but I am ... pretty sure it will build ...
[19:48:22] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[19:49:37] *** Joins: Rym (y@moz-h2o.mso.205.31.IP)
[19:51:19] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[19:51:24] *** chmanchester is now known as chmanchester|afk
[19:52:05] *** Joins: dinfuehr (dinfuehr@moz-usino5.highway.telekom.at)
[19:53:23] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[19:53:40] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[19:54:37] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[19:55:35] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[19:56:46] *** Quits: Rym (y@moz-h2o.mso.205.31.IP) (Ping timeout: 121 seconds)
[20:00:29] *** Joins: arielb1 (Ariel@moz-2trv48.red.bezeqint.net)
[20:03:27] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: Good night!)
[20:04:23] *** Quits: bdero1 (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[20:06:31] <frewsxcv> kmc: https://github.com/rust-lang/regex/issues/84
[20:07:01] <frewsxcv> so about that trophy case PR :P
[20:10:32] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (Connection closed)
[20:10:43] <Tobba> frewsxcv: how many of those have you found so far?
[20:10:54] *** kimundi is now known as zz_kimundi
[20:10:58] <frewsxcv> Tobba: how many of what?
[20:11:09] *** Joins: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net)
[20:11:11] <Tobba> panics with AFL
[20:12:02] <frewsxcv> i am running AFL on rust-lang/regex and right now it has found 65 inputs that cause panics
[20:12:21] <frewsxcv> i am just going to report the smallest ones, since some of them are quite large
[20:12:27] <Tobba> I
[20:12:32] <Tobba> I'm assuming most of them are related somehow?
[20:13:04] <frewsxcv> a few of them are, it attempts to deduplicate them
[20:13:31] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[20:13:32] *** ChanServ sets mode: +o nrc
[20:13:35] <frewsxcv> it has actually found 7631 inputs that cause panics, but only 65 are unique
[20:13:46] <Tobba> oh
[20:14:02] <frewsxcv> http://104.131.71.250:8000/plots/
[20:14:15] <nmatsakis> brson: pnkfelix: re: gh25313, I don't need to do anything on this, right?
[20:14:15] <[o__o]> Backport #25212 to beta: https://github.com/rust-lang/rust/pull/25313
[20:14:31] <pnkfelix> nmatsakis: no I don't think so
[20:14:39] <Tobba> I wonder if I can point AFL at my kernel if I manage to compile in the instrumentation
[20:15:05] <Tobba> it looks like it does some forking stuff you could mess with to have it work over a serial port
[20:15:07] <pnkfelix> nmatsakis: (reassigned to brson)
[20:15:42] <brson> merged
[20:16:06] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[20:16:10] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[20:17:23] <brson> beta does not pass tests http://buildbot.rust-lang.org/builders/try-mac/builds/374/steps/test/logs/stdio
[20:17:37] <brson> I'll investigate
[20:17:44] <nmatsakis> brson: looks like a parse failure? 
[20:17:55] <brson> yeah. that's surprising
[20:18:22] <brson> ah, in libcoretset
[20:18:35] <steveklabnik> :/
[20:19:18] <brson> beta diverges from master by 121 patches
[20:19:26] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[20:19:50] <brson> maybe pnkfelix's patches fix that parse failure...
[20:20:21] <pnkfelix> doubtful
[20:20:24] <kmc> frewsxcv: I'll get around to it
[20:20:34] <steveklabnik> ah
[20:20:37] <steveklabnik> brson: it's just an error
[20:20:41] <frewsxcv> kmc: no problem, i am mostly just showing off :P
[20:20:43] <steveklabnik> brson: https://github.com/rust-lang/rust/compare/master...beta#diff-bf041f1efb9e8da47119cdd2a952d29aR38
[20:20:47] <steveklabnik> that } needs to go
[20:20:54] <steveklabnik> check it: https://github.com/rust-lang/rust/compare/master...beta#diff-bf041f1efb9e8da47119cdd2a952d29aR37
[20:21:02] <kmc> also, people might get confused because the original afl trophy case is security issues
[20:21:52] <frewsxcv> kmc: we could maybe call it 'examples' or 'small successes' :) 
[20:22:58] <brson> i pushed a fix for slice.rs to beta
[20:23:09] <brson> messy
[20:26:15] *** Quits: arielb1 (Ariel@moz-2trv48.red.bezeqint.net) (Quit: Ex-Chat)
[20:26:34] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[20:27:16] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[20:29:36] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[20:29:53] *** bvssvni is now known as bvssvni_
[20:31:01] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[20:32:57] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[20:33:17] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[20:35:38] <Eridius> huh, I'm running `make check-stage1` and I'm seeing nearly all of the debuginfo-lldb tests failing. Is that to be expected?
[20:35:49] <Eridius> in fact, I'm just going to go ahead and stop the test now
[20:40:42] *** Quits: davebettin (davebettin@moz-qihdsk.hfc.comcastbusiness.net) (Quit: Leaving)
[20:42:13] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[20:44:40] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[20:45:30] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:46:20] *** Joins: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP)
[20:47:38] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[20:47:38] *** Quits: dinfuehr (dinfuehr@moz-usino5.highway.telekom.at) (Connection closed)
[20:47:41] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[20:48:31] *** Joins: dinfuehr (dinfuehr@moz-usino5.highway.telekom.at)
[20:48:41] <sfackler> I've seen something like that 
[20:48:46] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[20:48:46] *** ChanServ sets mode: +o pnkfelix
[20:48:56] <sfackler> I think it may be some weird interaction between system python and homebrew python
[20:49:27] <bstrie> brson: did you see the email about the person who wanted to take over freebsd builds?
[20:50:15] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:52:06] *** Quits: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP) (Client exited)
[20:54:05] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[20:55:14] <brson> bstrie: yes, thank you. i sent a response a few minutes ago
[20:55:30] *** chmanchester|afk is now known as chmanchester
[20:55:39] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[20:56:18] *** Joins: mgottschlag (quassel@moz-a2d1qa.scc.kit.edu)
[20:56:44] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[20:56:57] <bstrie> brson: one more thing, while I have you distracted... are you aware of crater's interactions with the "downloads" statistic on crates.io? the more fundamental the crate, the more downloads it gets
[20:57:11] <bstrie> the libc crate gets 2000 downloads every time you run it
[20:57:30] <XMPPwocky> brb farming downloads
[20:57:43] <reem> bstrie: this has been a problem with travis for a while
[20:57:58] <reem> bstrie: that’s why all the “top downloaded” crates are the “fundamental” ones at the bottom of the dependency tree
[20:58:23] <bluss> you can spot exactly when brson runs crater from the peaks in the graph
[20:58:27] <bstrie> reem: I think that's... fine... we aren't able to keep people from gaming the system, but I'm just saying that perhaps we shouldn't be gaming it ourselves
[20:59:00] *** Quits: dinfuehr (dinfuehr@moz-usino5.highway.telekom.at) (Connection closed)
[20:59:03] <reem> Sure, I’m not really saying it’s “gaming” the system, we should just use a different metric that’s less susceptible to these forces
[20:59:09] <reem> like reverse_dependencies
[20:59:40] <reem> you still *can* just upload a bunch of crates that depend on a crate, but it’s obviously trolling, whereas the current system is broken when people do normal things
[21:00:08] *** Joins: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP)
[21:00:57] <bstrie> we do already track reverse dependencies, might as well expose the number
[21:01:20] <XMPPwocky> you could go all the way and use PageRank
[21:01:30] <bstrie> SEO for crates.io
[21:01:52] <reem> I opened an issue for this a while ago, I think the answer was that we could do it but currently reverse_dependencies is calculated in a pretty inefficient manner, and for something that goes on the home page it should be changed to be faster
[21:02:32] <brson> bstrie: yeah, i'm aware of that. I should go directly to s3 for crater's downloads
[21:03:30] <reem> bstrie: https://github.com/rust-lang/crates.io/issues/110
[21:03:46] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[21:03:59] <reem> also relevant: https://github.com/rust-lang/crates.io/pull/111#issuecomment-69259119
[21:05:54] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:06:20] <seanmonstar> a smart system could try to differentiate between downloads of direct deps, and downloads from several deps deep
[21:08:54] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[21:13:00] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:13:42] <brson> all but two boxes of t-shirts have shipped
[21:14:01] <seanmonstar> so, is the slowness in rustdoc compiling brand new crates, or for spawning child processes for each
[21:18:43] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[21:21:06] *** Joins: dinfuehr (dinfuehr@moz-usino5.highway.telekom.at)
[21:21:23] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[21:23:40] *** Quits: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP) (Client exited)
[21:25:17] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[21:25:29] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[21:25:54] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[21:27:33] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[21:27:55] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[21:28:13] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[21:28:13] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[21:28:21] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[21:28:47] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Connection closed)
[21:29:04] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[21:30:10] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[21:31:43] *** Joins: npm (npm@moz-71q.g5g.156.168.IP)
[21:32:32] <aturon> pnkfelix: thanks for the thorough RFC review!
[21:32:53] *** Quits: larsberg (Adium@moz-kmvlue.cable.rcn.com) (Quit: Leaving.)
[21:33:25] <pnkfelix> aturon: no problem; sorry it took me so long to get around to it
[21:33:30] <pnkfelix> now I must hit sack
[21:33:45] <aturon> pnkfelix: no worries, see you tomorrow :)
[21:33:59] <blaenk> hey aturon if we're not gonna get scoped threads for 1.0 and we're gonna go the crates.io route after all, can we expect it any time soon?
[21:34:20] <aturon> blaenk: yes! i'll get something cooking this week
[21:34:24] <blaenk> aww yeeee
[21:34:49] *** Quits: npm (npm@moz-71q.g5g.156.168.IP) (Connection closed)
[21:35:01] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[21:35:13] <aturon> (though right now the proposed API is actually unsafe due to a compiler bug, but nmatsakis is on the case)
[21:35:20] <blaenk> aww, ah ok
[21:35:28] <blaenk> hey aturon though, "One nice aspect of Scope is that crates providing such parallelism frameworks can easily hook into the API with their own means of spawning lightweight tasks; this should also facilitate a decoupling of thread pools from the lifetimes bounding the tasks they are running." from the RFC
[21:35:32] <blaenk> linking to https://github.com/rust-lang/threadpool/issues/7
[21:35:51] <aturon> yeah, so this is something i've wanted to explore for a while --
[21:35:57] <blaenk> is that like something that will be possible with the API? or does it simply mean that "somebody will be able to do that at some point in time"
[21:36:07] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[21:36:47] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:36:58] <blaenk> like I would like to be able to put a threadpool in a struct or something and then have a method of that struct that processes arguments with that scoped thread pool
[21:36:59] <aturon> blaenk: i believe it just "falls out" of the proposed API, but i haven't fully worked it through yet
[21:37:05] <blaenk> I'm not sure if that's the same thing that this is talking about
[21:37:06] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[21:37:16] <blaenk> ah okay
[21:37:17] <aturon> ok, so in more detail, what i'm trying to do is
[21:37:33] <aturon> decouple the thread pool/workers from the lifetimes of the tasks you give them
[21:37:40] <blaenk> yeah
[21:38:08] <aturon> i don't think there's anything to deep or hard, but i haven't actually written up that variant of the API
[21:38:25] <aturon> FWIW, my next big area of focus is going to be building out some parallelism and concurrency infrastructure
[21:38:32] <blaenk> ya please
[21:38:46] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[21:38:48] <aturon> if you have specific additional things you're hurting for i'd love to hear about them
[21:38:51] <blaenk> should look at carllerche's work. would be nice to have pooled futures
[21:38:53] <blaenk> yessss
[21:39:24] <aturon> (on the concurrency front i'm hoping to look into hazard pointers and other techniques for memory reclamation and lock-free data structures)
[21:39:25] <blaenk> are you going to be working on some sort of futures thing? cause carl has that eventual library for futures, and one thing we would love in it is to be able to process futures within an existing thread pool, to sort of 'bound' the number of threads that are used to evaluate them
[21:39:49] <blaenk> basically that concept in general, bounding work within some thread pool, so that if you have say 100 futures, it won't spawn 100 threads or something
[21:40:39] <aturon> blaenk: i was planning on starting somewhat lower in the stack than that, but would also like to pitch in with carllerche's work
[21:40:46] <blaenk> ahhh okay
[21:40:59] <brson> found another failure in the beta in a doctest
[21:41:01] <brson> fixing now
[21:41:36] <blaenk> which goes back to what I was saying earlier, I'd love to have something like struct S { pool: ScopedThreadPool } impl S { fn process(items: &[Items]) { for item in items { self.pool.spawn(|| whatever(item)) }}};
[21:41:50] <blaenk> idk if that gets the idea across
[21:41:58] <aturon> blaenk: yep, that i very much plan on doing
[21:42:01] <blaenk> cause if I used a regular threadpool it would require that the work is 'static
[21:42:02] <blaenk> sweeeet
[21:42:16] <reem> aturon blaenk: The way I was thinking of unifying thread pools, thread::spawn, and the new thread::scoped would be to just have a trait, Executor<‘a>, that takes an F: FnOnce + ‘a.
[21:42:42] <blaenk> I remember something like that in carl's libraries no? or was it yours?
[21:42:52] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Ping timeout: 121 seconds)
[21:42:55] <reem> both
[21:42:59] <blaenk> o
[21:43:03] <reem> we have slightly differing versions of that trait
[21:43:07] <blaenk> ahh okay
[21:43:09] <reem> since it’s pretty useful in several cases
[21:43:41] <aturon> reem: hm interesting, that's a bit different than what i had in mind
[21:43:50] <aturon> but i should really sit down and sketch out the API in detail
[21:44:47] <aturon> blaenk: was there anything beyond that API that you'd like to see?
[21:45:10] <aturon> blaenk: (i'm also curious what kind of work you're doing with these APIs)
[21:45:49] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:46:23] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:47:59] *** Quits: Kxepal (Miranda@moz-bi9vnd.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[21:48:07] <reem> aturon: you can basically implement Executor<‘static> for thread::spawn and ThreadPool (related: it would be cool if you could use the name of an fn to refer to its unique type), Executor<‘a> for Scope<‘a> and ScopedThreadPool<‘a>.
[21:48:34] *** Joins: zmike_ (discomfitor@moz-oek0ra.ct.comcast.net)
[21:48:36] <brson> beta passed on try...
[21:48:40] <brson> try must not be trying very hard
[21:48:42] <aturon> brson: \o/
[21:48:49] <reem> then the interface can remain very uniform (you just almost always use execute) and it’s easy to be generic
[21:48:56] <zmike_> does anybody know why the value returned by clone in this line would be getting dropped before it is passed in to the caller? https://github.com/servo/servo/blob/c42c2ae9b57b5960ce617e5b4c0ab75959e46957/ports/cef/browser.rs#L139
[21:49:03] <zmike_> we have been investigating in servo and have no idea what's going on - https://github.com/servo/servo/issues/5998
[21:49:25] <aturon> reem: yep, that makes sense
[21:50:03] *** Joins: Kxepal (Miranda@moz-c6jro4.pppoe.mtu-net.ru)
[21:52:58] <blaenk> aturon: sorry I timed out. that's the main thing I would really like to be able to do. kimundi proposed in that linked issue to have some sort of 'threadcache' type where you could initialize a pool and then use the threads over and over again, which sounds great, but may be subsumed by the new scoped api
[21:53:28] <aturon> blaenk: ok cool! i'll give you a heads up once i have something cooking.
[21:53:48] <blaenk> basically the general idea of being able to use 'already initialized/started' threads is the main thing, I don't know if that should be possible in any threadpool even the regular one (if it even makes sense), but the idea in general is very useful
[21:54:13] *** Joins: npm (npm@moz-uqe.mg6.56.172.IP)
[21:54:18] <blaenk> like maybe some crazy idea where you 'globally' create a threadpool for anyone to use, but that would probably also be possible with scoped
[21:54:46] <blaenk> I mainly want it in order to bound the amount of threads I have. especially given that they're native threads, I see my thread count exploding everywhere
[21:55:08] <aturon> blaenk: right, so you could have a lazily-initialized global pool for that purpose, and then have a scoped API work against that pool
[21:55:14] <blaenk> yupp
[21:55:22] <aturon> yeah, i think we're on the same page :)
[21:55:25] <blaenk> aww yee
[21:56:17] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[21:56:29] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[21:56:38] *** Joins: mib_0d8z3z (Mibbit@moz-juv.9o3.252.72.IP)
[21:57:17] <reem> blaenk: If we adopted the executor trait, you could write a generic `process` that worked on any executor, so you could pass a thread pool, scoped pool, etc. and it would all just work.
[21:57:40] <blaenk> that vaguely reminds me of java concurrency apis
[21:57:53] <blaenk> see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executor.html
[21:58:16] <blaenk> not familiar with it too much myself to have an opinion
[21:58:22] *** Quits: dinfuehr (dinfuehr@moz-usino5.highway.telekom.at) (Connection closed)
[21:58:31] <blaenk> but I guess the main win would be able to say hey I need something to process this, whatever it is
[21:59:00] <blaenk> be it a scoped threadpool (which could implement it I imagine?) regular thread, or some crates.io package?
[21:59:55] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[22:01:12] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[22:01:22] *** rkruppe_ is now known as rkruppe
[22:01:42] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[22:02:15] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[22:02:46] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[22:03:38] *** Joins: zmike (discomfitor@moz-vaj.v53.167.208.IP)
[22:03:53] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[22:04:09] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[22:04:49] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[22:06:50] <reem> bluss: exactly
[22:07:00] <reem> s/bluss/blaenk 
[22:07:39] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[22:08:18] *** Joins: blank_name (blank_name@moz-th6.t75.79.172.IP)
[22:08:24] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[22:08:49] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[22:09:37] <brson> acrichto: fyi i accidentally landed a revert to rust-installer that is fixed by https://github.com/rust-lang/rust/pull/25316
[22:09:45] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[22:09:47] <brson> i've already put the fix on beta
[22:10:00] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[22:12:07] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[22:12:44] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[22:14:50] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:14:53] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[22:15:09] <acrichto> brson: ah ok
[22:15:33] <acrichto> we really do need that tidy check
[22:15:43] <acrichto> where if you upate a submodule you need the commit message to say something like [update-submodule]
[22:16:11] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[22:16:17] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[22:16:43] <blaenk_> man I don't know if imma be stable ready by 1.0 cause of my dependencies :(
[22:20:19] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[22:20:19] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[22:23:10] *** Quits: Murarth (Murarth@moz-j21.78t.166.46.IP) (Quit: I have come here to chew bubblegum and kick ass. And I'm all out of bubblegum.)
[22:23:25] *** Joins: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net)
[22:23:42] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[22:23:51] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[22:29:41] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[22:32:23] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[22:32:39] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[22:34:10] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[22:34:25] *** Quits: eibwen (eibwen@moz-lt4t5n.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:39:45] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:40:05] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[22:48:37] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:50:52] *** Quits: npm (npm@moz-uqe.mg6.56.172.IP) (Ping timeout: 121 seconds)
[22:51:02] *** Joins: npm (npm@moz-uqe.mg6.56.172.IP)
[22:51:42] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:51:43] *** Joins: njn (chatzilla@moz-6gdjm4.iinet.net.au)
[22:52:51] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:53:40] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[22:53:45] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[22:55:37] *** Joins: Guest63 (textual@moz-k0bi5k.dip0.t-ipconnect.de)
[22:59:11] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:02:32] *** Quits: jdm (jdm@moz-gbdv09.ckpj.s0pt.0450.2001.IP) (Quit: )
[23:05:14] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[23:05:40] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[23:08:58] <cmr> Does rustc currently have any way of passing -F to the linker on OS X?
[23:09:11] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:10:31] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:10:31] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[23:11:07] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[23:11:11] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:11:11] *** rkruppe_ is now known as rkruppe
[23:11:22] <cmr> Oh, -L framework does work
[23:11:37] <cmr> I assume it didn't do anything because on linux I could get -L framework=foo and -L what=foo to work..
[23:11:41] <cmr> Thanks everyone
[23:12:16] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[23:12:21] *** Joins: larsberg (Adium@moz-kmvlue.cable.rcn.com)
[23:12:36] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[23:13:04] *** Quits: eddyb (eddyb@moz-9pm.kjd.26.188.IP) (Ping timeout: 121 seconds)
[23:17:56] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[23:18:19] <brson> acrichto: i wonder why our --cf-invalidate arguments to s3cmd don't work
[23:18:27] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[23:18:30] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[23:27:56] <acrichto> brson: oh they only work if you're running a sync
[23:28:01] <acrichto> or some other command we're not actually doing
[23:28:06] <acrichto> for just plain uploads I don't think it's ever worked
[23:28:19] <acrichto> I think I just forgot to remove those arguments after I figured out they weren't doing anythig
[23:28:37] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:29:22] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[23:31:16] <brson> the stable deployment is going to require manual uploads of the bins, and a manual upload of a copy of the docs to doc/stable/
[23:31:43] <cmr> brson: it seems that the launch parties may have launched a lot of new meetups, if they keep meeting.
[23:32:03] <brson> hopefully!
[23:32:35] *** Quits: Guest63 (textual@moz-k0bi5k.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:33:09] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:33:21] <steveklabnik> yeah
[23:33:23] <steveklabnik> :)
[23:36:12] *** Quits: tamird (textual@moz-lje.m54.130.157.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:36:12] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[23:38:56] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[23:41:45] *** Joins: ytain (ytain@moz-01dgko.cpe.pppoe.ca)
[23:43:43] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[23:46:20] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[23:46:49] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[23:50:51] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[23:53:06] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[23:54:39] *** Quits: dr4yyee (dr4yyee@moz-mfrj9m.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[23:56:22] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[23:57:43] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[23:58:26] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[23:58:26] *** ChanServ sets mode: +o pcwalton
