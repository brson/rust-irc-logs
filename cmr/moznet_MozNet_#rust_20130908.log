[00:00:13] *** Quits: nkoep (nik@moz-AA5864F1.pool.mediaways.net) (Client exited)
[00:04:14] *** Joins: geomyidae (geomyidae@DD6F7E3A.21468E9A.30200F38.IP)
[00:08:07] *** Quits: jclements (jclements@moz-9C0ABCFC.wireless.calpoly.edu) (Quit: jclements)
[00:08:37] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:11:32] *** Quits: doomlord (doomlod@moz-13E69BC8.range86-180.btcentralplus.com) (Ping timeout)
[00:15:16] <tikue> dave1629: here's a version that uses fold instead of mutable state https://gist.github.com/tikue/431c068e37315f87d80f -- i'm pretty sure it's not 0.7 compatible (don't have a 0.7 compiler to check) so I didn't want to post it, but it might still be of interest 
[00:15:47] <tikue> oh, looks like dbaupp beat me to it
[00:16:00] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[00:16:00] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/zTYuyw
[00:16:00] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[00:17:30] *** Quits: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net) (Ping timeout)
[00:17:55] <tikue> i like the use of skip instead of slice in wil's answer
[00:20:16] *** Joins: z0w0 (zack@moz-67B19423.lns10.woo.bigpond.net.au)
[00:20:55] <tikue> dbaupp: is fold slower than mutable state? wondering why your implementation for HEAD doesn't use fold
[00:21:13] <dave1629> tikue: ave.rs:5:15: 5:34 error: type `~[~str]` does not implement any method in scope named `slice_from`
[00:21:44] <dbaupp> tikue_: because I thought a manual loop was cleaner in this case
[00:21:59] <dbaupp> tikue_: (it should compile to very similar things)
[00:22:06] <dave1629> tikue: but, feel free to post with the explanation that it will work in 0.8
[00:22:10] *** Quits: enomado (nomad@DB5C5EEB.5ED34291.AB610CFE.IP) (Input/output error)
[00:22:37] <dave1629> tike, dbaupp: do you think 0.8 is stable enough that we should be moving to use that?
[00:22:39] <tikue> dave1629: i actually just removed that slice_from anyway, doing skip(1) is better
[00:23:33] <dbaupp> dave1629: 0.8 isn't released yet, but choosing a newer commit and sticking to that might be ok
[00:23:50] <dbaupp> dave1629: (e.g. the current HEAD, whatever that is)
[00:23:58] <tikue> dave1629: i'm not sure -- dbaupp could probably give a better answer than I, or perhaps brson. the main thing i'd wonder about is if the new runtime still has any bugs not worked out. in practice though i haven't noticed it to be any less stable in any meaningful way
[00:24:32] <dbaupp> dave1629: it'll probably make it harder for windows people; but it does give better tcp support, and new iterators and all that.
[00:25:15] <strcat> master is definitely more 'stable' than 0.7 was, if you mean bug count
[00:25:30] <strcat> and is better documented, and what people are able to help with here
[00:25:42] <strcat> only downside is that it's a moving target
[00:26:20] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[00:26:26] <dave1629> strcat: yeah, i didn't want to risk using a moving targetâ€¦seems better to try to have everyone in the class using the same version, especially so we can be sure the code we distribute for them works
[00:26:54] <tikue> since it's come up, what is the release schedule for 0.8? 
[00:27:14] *** Joins: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net)
[00:27:25] <dbaupp> dave1629: if you just say "we're using commit b3d50fc2c015cc8a335855b82ab458a15a7413d9" that'd probably be ok (other than the caveats above)
[00:27:29] <dbaupp> (that's the current HEAD)
[00:27:44] <dbaupp> tikue_: 3 months after 0.7 aiui
[00:27:58] <tikue> dbaupp: i can't remember when 0.7 was released :P toward the beginning of the summer no?
[00:29:17] <dbaupp> tikue_: git show says "Date:   Wed Jul 3 11:10:22 2013 -0700" so in the middle of winter :P
[00:29:25] <tikue> hahaha
[00:29:32] * dbaupp is the annoying southern hemisphere-r :P
[00:30:27] <dbaupp> that must mean it's due in a month?
[00:30:31] <tikue> so 0.8 is a month away i guess. if this is going to be decided democratically, then i vote for using the current HEAD heh
[00:34:07] *** Quits: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net) (Ping timeout)
[00:34:20] <tikue> dbaupp: `as` binds tighter than `/`
[00:34:42] <tikue> dbaupp: i prefer not to use ( ) solely for explictness
[00:35:22] <dbaupp> tikue: hm, I think the explicitness is good for this one?
[00:35:33] * dbaupp isn't too fussed either way
[00:35:44] <tikue> ^ agreed -- just a nit
[00:36:57] <Florob> IMHO it's good for this case. E.g. Â«2/3 as floatÂ», doesn't look like an error.
[00:38:51] <tikue> rusti: 2 / 3 as float
[00:38:52] -rusti- Bad system call
[00:38:52] -rusti- application terminated with error code 159
[00:38:56] <tikue> aw is rusti broken
[00:39:04] <tikue> rusti: 2 / 3
[00:39:04] -rusti- Bad system call
[00:39:04] -rusti- application terminated with error code 159
[00:39:25] <tikue> Florob: but it is. and imo these sorts of things are better to know than avoid
[00:39:32] <frau> bjz: Oh man that works great!
[00:39:45] <dbaupp> rusti: 1
[00:39:46] -rusti- Bad system call
[00:39:46] -rusti- application terminated with error code 159
[00:39:49] *** Joins: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net)
[00:39:49] <tikue> dbaupp: how do you do a code block on piazza?
[00:40:53] <frau> bjz: thanks for figuring that out for me!
[00:41:32] <dbaupp> tikue: there's a `code` button
[00:41:38] <dbaupp> select the code and click it
[00:41:52] <tikue> ah, i saw that but it didn't look the same as yours, so I wasn't sure
[00:42:01] <dbaupp> (or, if you're in the plain text editor, just <pre>... your code ... </pre>)
[00:42:11] <dbaupp> if you reload the page it'll get syntax highlighting
[00:42:40] <dbaupp> tikue: yours looks good too
[00:44:36] <tikue> thanks :) i think it's funny that a few people independently reached the same code almost line for line
[00:46:08] <dbaupp> yeah, it's a fairly bounded problem so there's not too much choice
[00:46:42] *** Quits: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net) (Ping timeout)
[00:48:30] *** Joins: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net)
[00:49:53] <engla> tikue: on further thought, Unfoldr can of course implement any iterator. It has owned mutable state and a .next() closure
[00:50:37] *** Quits: heftig (heftig@moz-6548E3EC.dip0.t-ipconnect.de) (Ping timeout)
[00:50:50] <tikue> engla: what do you mean by implement any iterator? you mean it can be scan() or fold() or filter() or anything?
[00:50:57] <engla> yes
[00:51:25] <engla> and CharIterator (the Iterator<char> part)
[00:51:28] <engla> and so on
[00:51:38] *** Joins: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net)
[00:51:53] *** Joins: heftig (heftig@moz-BA97686.dip0.t-ipconnect.de)
[00:52:29] <tikue> heh
[00:52:43] <tikue> we could get rid of all the others :P and just implement them in terms of unfoldr
[00:53:52] <bjz> frau: np!
[00:54:05] <engla> char iterator is
[00:54:08] <engla> std::iterator::Unfoldr::new("Î±Î²Î»", |slc| if slc.len() == 0 { None } else { let (c, s) = slc.slice_shift_char(); *slc = s; Some(c) })
[00:55:59] <sfackler> :( https://github.com/mozilla/rust/issues/9049
[00:56:05] <dbaupp> https://github.com/mozilla/rust/pull/9050 r?
[00:57:00] <tikue> what does Unfoldr mean?
[00:57:08] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[00:57:13] <engla> it's like a dual to .fold()
[00:57:21] *** kimundi is now known as zz_kimundi
[00:57:26] <tikue> ah
[00:58:04] <tikue> and it's being renamed presumably because having an unfoldl would be redundant with rev_iter() and unfold?
[00:58:08] <dbaupp> the r is from haskell (unfoldr itself is from haskell), which has foldl and foldr
[00:58:33] <dbaupp> I don't think unfoldl can exist
[00:58:52] <tikue> dbaupp: it can for things that implement back()
[00:58:52] <dbaupp> (our fold and unfold aren't exactly dual, since our fold == foldl)
[00:59:15] <engla> yeah
[00:59:27] <engla> I see
[00:59:53] <frau> is there anything akin to scope(exit) from D, or do I have to use an owned object implementing Drop for that?
[01:00:36] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[01:01:28] <glyc> how do I get a regular str from a buffer of bytes? (a.k.a.  *mut std::libc::types::common::c95::c_void)
[01:02:33] <dbaupp> glyc: std::str::raw::from_cstr or something like that
[01:02:40] <dbaupp> glyc: (thanks for the rust-malloc update, btw)
[01:03:10] <glyc> dbaupp: thanks, and you're welcome
[01:03:36] *** Quits: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net) (Ping timeout)
[01:04:09] <dbaupp> frau: there's std::unstable::finally, which gets used like `use std::unstable::finally::Finally; ... do (|| { some actions here() }).finally { run this always }`
[01:04:21] <dbaupp> frau: (is this approximately what scope(exit) does?_
[01:04:22] <dbaupp> )
[01:04:48] <frau> dbaupp: ah, close! that's just a little less convenient is all
[01:05:14] <engla> I guess it would be possible to implement a convenient wrapper of this using an object with Drop that calls a closure
[01:05:21] <engla> in drop
[01:05:29] <frau> ah, right
[01:05:39] <frau> any way to avoid the dummy heap allocation in that case? ;)
[01:05:55] <engla> yes, no heap allocation needed
[01:06:09] <frau> oh, cool
[01:08:16] <dbaupp> engla: that's exactly what std::unstable::finally doe
[01:08:17] <dbaupp> s
[01:09:41] <engla> ok
[01:10:48] <SiegeLord> Only semantically... syntatically it looks nothing like it
[01:10:49] <engla> no guarantees that this is safe w.r.t #[unsafe-destructor]   https://gist.github.com/anonymous/e012559941433704e930
[01:11:01] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[01:11:01] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/R-LxiQ
[01:11:01] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[01:11:03] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[01:11:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/LJeLPg
[01:11:03] <ghrust> 13rust/06auto 144c2b480 15Huon Wilson: std: Rename Unfoldr to Unfold....
[01:11:03] <ghrust> 13rust/06auto 145591dce 15bors: auto merge of #9050 : huonw/rust/unfoldnor, r=thestinger...
[01:11:03] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[01:11:19] <SiegeLord> It'd be more like let sentinel = ScopeExit{cleanup: || {} };
[01:11:21] <frau> yeah, the convenience of scope(exit) is you put your resource cleanup right after its construction
[01:11:45] <engla> frau: ideally any resource already has a destructor 
[01:11:47] <dbaupp> Ah, right, finally is groups a specific sub-scope
[01:12:03] <frau> engla: true :)
[01:12:10] <dbaupp> s/ is//
[01:12:37] *** Quits: miza (miza@moz-4DD51325.home.otenet.gr) (Broken pipe)
[01:13:03] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[01:13:29] <engla> frau: anyway, no heap allocation is needed since there are stack closures (where the closure environment is allocated on the stack), and normal values have destructors
[01:13:41] <engla> can have dtors
[01:13:52] <frau> engla: this is more like ad-hoc like delete-these-tmp-files-and-reset-this-flag or things rather than a reified resource
[01:14:03] <frau> frau: ah of course! cool
[01:14:08] <frau> er, engla*
[01:14:50] <frau> I keep forgetting that stack values can have destructors...
[01:15:01] <frau> what if they get copied or something though
[01:15:14] <dbaupp> they can't
[01:15:21] <engla> that's how something goes noncopyable
[01:15:27] <frau> oh, must impl Clone right?
[01:15:29] <dbaupp> as soon as something implements Drop is it no implicitly copyable
[01:15:33] <SiegeLord> I think with the new hygienic macros you can just use a scope_exit!() macro
[01:15:48] <SiegeLord> Since it'll create a new 'sentinel' identifier
[01:15:52] <SiegeLord> Not 100% sure though
[01:16:13] <frau> sweet
[01:16:20] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[01:17:09] <SiegeLord> So I think handle_external_def is not handling struct variants correctly...
[01:17:42] <SiegeLord> I wonder if it's possible to determine that an external definition is a struct variant at that point...
[01:21:00] <dbaupp> kemurphy was working on unifying structs and enums more betterly
[01:21:50] <SiegeLord> I see...
[01:22:52] <dbaupp> (that's not a very helpful response, sorry :) )
[01:24:02] <SiegeLord> It might mean my efforts will be obviated in the future ;)
[01:26:53] *** Quits: frau (frau@moz-C616DA0A.hsd1.ca.comcast.net) (Ping timeout)
[01:31:13] <glyc> I
[01:32:48] <glyc> I'm confused by CString, since CString is not str. but i have a buffer of bytes (*i8) that has characters, and I want to print it out, say as a regular str. How do I do this?
[01:33:16] <glyc> CString doesn't implement to_str(), so I'm not sure that converting to CString is the right path
[01:34:22] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[01:34:33] <engla> you have std::str::raw::from_buf_len for example
[01:34:51] <glyc> std::  what?
[01:34:58] <dbaupp> glyc: or `std::str::raw::from_c_str(buffer)`
[01:34:59] <engla> that
[01:35:13] <glyc> :-) thanks
[01:35:17] <engla> the first function takes a pointer and a len glyc 
[01:35:49] <engla> but I'm surprised if c_vec doesn't have a method to convert it to &str
[01:36:18] <dbaupp> c_str, right?
[01:36:22] <engla> right
[01:37:19] <engla> glyc: note that str will only handle utf-8 encoded buffers this way
[01:37:46] <glyc> engla: that's okay for now
[01:37:47] *** Joins: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net)
[01:38:11] <glyc> dbaupp: libstd/c_str.rs yes
[01:39:12] *** Joins: dew1 (Instantbir@moz-D2FA52B6.static.stls.mo.charter.com)
[01:39:52] *** Quits: dew (Instantbir@moz-D2FA52B6.static.stls.mo.charter.com) (Ping timeout)
[01:49:36] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[01:49:54] *** Joins: Larry (larryfox@26EE99DC.88C61CC9.ECED8BE3.IP)
[01:51:14] *** Quits: maxli (maxli@4DE38BA0.46676847.808B495B.IP) (Quit: Leaving.)
[01:55:02] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[01:55:20] *** Quits: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net) (Ping timeout)
[01:56:11] *** Quits: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net) (Ping timeout)
[02:06:50] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[02:08:29] *** sam113101 is now known as sam113101_afk
[02:08:49] *** sam113101_afk is now known as sam113101
[02:14:52] * mindcat 0w0
[02:15:14] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Ping timeout)
[02:16:02] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[02:16:02] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/LJeLPg
[02:16:02] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[02:17:24] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:18:28] *** jorendorff_away is now known as jorendorff
[02:21:50] *** Joins: frau (frau@moz-C616DA0A.hsd1.ca.comcast.net)
[02:21:50] *** Quits: frau (frau@moz-C616DA0A.hsd1.ca.comcast.net) (Quit: frau)
[02:22:01] *** Quits: zz_kimundi (kimundi@moz-F1E531D4.dip0.t-ipconnect.de) (Ping timeout)
[02:22:40] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Connection reset by peer)
[02:23:22] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[02:23:59] <mib_1q27pf> weird, got my build working  - make clean didn't work, but blowing way the repo and checking it out again did.
[02:25:02] *** Joins: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net)
[02:25:12] *** Joins: zz_kimundi (kimundi@moz-11F08F3C.dip0.t-ipconnect.de)
[02:25:29] *** zz_kimundi is now known as kimundi
[02:25:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:28:52] *** Quits: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net) (Ping timeout)
[02:28:56] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:33:42] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[02:37:10] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[02:40:57] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[02:43:11] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[02:44:30] *** Quits: Larry (larryfox@26EE99DC.88C61CC9.ECED8BE3.IP) (Quit: Textual IRC Client: www.textualapp.com)
[02:52:41] *** Quits: jpf (jan@moz-A8C26A15.org) (Quit: Lost terminal)
[02:54:06] <glyc> how does one initialize a pointer to NULL in Rust, to pass it into a C library ?
[02:54:58] <glyc> rusti: let v : *mut u8 = unsafe {0 as *mut u8 };
[02:54:58] -rusti- Bad system call
[02:54:58] -rusti- application terminated with error code 159
[02:55:22] <engla> glyc: just 0 as *T is fine
[02:55:31] <engla> there is a function in std::ptr to do it as well
[02:56:54] <glyc> engla: great
[02:57:53] <dbaupp> rusti: std::ptr::null::<int>()
[02:57:54] -rusti- Bad system call
[02:57:54] -rusti- application terminated with error code 159
[02:59:04] <glyc> let v : *mut u8 = 0 as *mut u8; // seems to work
[02:59:18] <glyc> the is &mut v   going to be  a pointer to my pointer?
[02:59:45] <glyc> (which is what I need)
[03:00:19] <glyc> I'm trying &v, but getting: error: mismatched types: expected `*mut std::libc::types::common::c95::c_void` but found `&mut *mut u8` 
[03:00:25] <glyc> or &mut v
[03:00:26] <glyc> rather
[03:01:22] <glyc> but no luck
[03:01:58] <engla> sure there is no autocoercion to void *
[03:02:16] *** Quits: mib_1q27pf (Mibbit@moz-8A2D1B65.hsd1.ga.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:03:28] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[03:04:01] <glyc> engla: I'm giving it the as cast and its still not going
[03:04:20] <glyc> error: mismatched types: expected `*mut std::libc::types::common::c95::c_void`
[03:04:35] <glyc> let rc = unsafe { nn_recv (sc, &v as *mut std::libc::types::common::c95::c_void, NN_MSG, 0) }; // error on this line
[03:04:59] <glyc> mismatched types: expected `*mut std::libc::types::common::c95::c_void` but found `&*mut u8` (values dif\ fer in mutability)
[03:05:23] <glyc> oh, &mut 
[03:06:03] <glyc> let rc = unsafe { nn_recv (sc, &mut v as *mut std::libc::types::common::c95::c_void, NN_MSG, 0) }; // yields: 
[03:06:06] <glyc> error: mismatched types: expected `*mut std::libc::types::common::c95::c_void` but found `&mut *mut u8` (expect\ ed enum std::libc::types::common::c95::c_void but found *-ptr)
[03:06:58] <glyc> how do I turn off type checking for this variable?
[03:07:03] <glyc> v
[03:07:07] <glyc> or &v
[03:07:38] <dbaupp> use `v as *mut ....`
[03:07:40] *** Joins: NewGuy (Mibbit@moz-31DAE88F.resnet.usf.edu)
[03:08:04] <NewGuy> So... What's up with str's each_split_char?
[03:08:09] <glyc> oh... is * in Rust like & in C ?
[03:08:16] <NewGuy> fn each_split_char(&self, sep: char, it: &fn(&'self str) -> bool) -> bool
[03:08:45] <NewGuy> glyc: Dereferences a pointer. So, yeah.
[03:09:07] <glyc> NewGuy, but I don't want to dereference a pointer. i want to take the address of the pointer
[03:09:45] <engla> NewGuy: iterators have replaced all these kinds of methods
[03:09:51] <glyc> the library requires me to pass the address of a pointer, and it will fill in that pointer
[03:09:54] <engla> NewGuy: that one is probably split_iter()
[03:09:58] <glyc> this is a C library that I'm linking to
[03:10:03] <engla> glyc: you might have to use transmute
[03:10:10] <NewGuy> glyc: Woops, sorry it's late here.
[03:10:22] <glyc> transmute?
[03:10:25] <NewGuy> engla: Thank you very much
[03:10:44] <glyc> does transmute turn off type checking?
[03:10:45] <dbaupp> glyc: what is `v`?
[03:10:50] <engla> glyc: basically yes
[03:10:59] <glyc> let v : *mut u8 = 0 as *mut u8;
[03:11:24] <NewGuy> engla: That's what was wrong. Looking at the wrong doc pages. 
[03:11:26] <engla> pub unsafe fn transmute<L, G>(thing: L) -> G
[03:11:31] <engla> NewGuy: definitely
[03:11:42] <glyc> the c library interface is not type checkable, since it declares the paramter as void* but depending on other parameters it actually wants a char**
[03:11:53] <glyc> sometimes, and a char* at other times
[03:12:04] <glyc> engla: okay, I'll try that. Thank you.
[03:12:26] <glyc> engla: thanks, I'll try transmute
[03:12:29] <dbaupp> engla: not necessary
[03:12:51] <dbaupp> glyc: `v as *mut ...::c_void` should work with no extra sigils
[03:13:13] <glyc> dbaupp but I want to pass the address of v
[03:13:18] <engla> dbaupp: glyc wants to convert a  &mut *mut u8 into  *c_void
[03:13:27] <dbaupp> glyc: oh
[03:13:34] <engla> so basically *mut *mut u8 into *c_void
[03:13:36] <dbaupp> (sorry)
[03:14:09] <glyc> the network library will allocate the buffer of the appropriate size, and hand me back the address of that buffer in v
[03:14:39] <dbaupp> let x: *mut *mut u8 = v; ... (x as *c_void)
[03:14:58] <dbaupp> (possibly with fewer `mut`'s)
[03:15:11] <engla> so casting to c_void works?
[03:15:27] <glyc> I don't need to take & v   as I would in C?
[03:16:38] <glyc> let x: *mut *mut u8 = &mut v; // seemed to be acceptable to rustc
[03:16:50] <glyc> horrah!
[03:16:56] <engla> I didn't know
[03:16:56] <dbaupp> err, yeah, sorry & too :)
[03:17:54] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[03:18:06] <glyc> so wierd that going through a temporary worked.... oh, maybe it needed an lvalue
[03:18:08] <glyc> doh
[03:18:51] <dbaupp> yeah, &T can coerce to *T, but apparently only via a temporary.
[03:19:35] <glyc> good to know, 
[03:20:37] <dbaupp> it's kinda weird
[03:20:46] * dbaupp would prefer it being required to be explicit
[03:21:04] <glyc> oh, the other thing perhaps was the v should have been mut
[03:21:52] <glyc> no, nevermind, that didn't work, but x temp does
[03:22:24] <glyc> is that by design, or worth filing a bug for?
[03:29:10] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[03:29:30] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: Textual IRC Client: www.textualapp.com)
[03:29:42] <glyc> its so straighfoward in C: given declaration:  int nn_recv (int s, void *buf, size_t len, int flags);
[03:29:48] <glyc> call: char* pRecvd = 0; rc = nn_recv (sc, &pRecvd, NN_MSG, 0);
[03:30:26] <glyc> no temporary required
[03:31:17] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Quit: ZNC - http://znc.in)
[03:31:31] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[03:34:09] <SiegeLord> I think it should coerce consistently
[03:34:56] <SiegeLord> And they should, since both should be irrefutable patterns
[03:35:22] <dbaupp> C is neither strongly typed nor memory safe
[03:35:30] <glyc> obviously
[03:36:00] *** Joins: jdm (jdm@92FB48CA.8B5E9DF.9A8C35B4.IP)
[03:36:00] *** ChanServ sets mode: +o jdm
[03:40:04] *** Joins: frau (frau@moz-C616DA0A.hsd1.ca.comcast.net)
[03:40:13] <glyc> it's probably just me learning rust.  what is the type of  ~0  ?  I would have thought it was *mut int
[03:40:21] <cmr> glyc: ~int
[03:40:47] <glyc> cmr: thanks
[03:41:09] <cmr> glyc: you can't directly construct a *mut, not in safe code. you need a cast or transmute.
[03:41:26] *** nrc is now known as nrc|afk
[03:41:39] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:41:56] <glyc> oooh
[03:42:19] <NewGuy> glyc: If you haven't noticed, Rust is a bit safety-oriented ;)
[03:42:29] <cmr> rusti: let x: *mut int = 5 as *mut int; x
[03:42:30] -rusti- Bad system call
[03:42:30] -rusti- application terminated with error code 159
[03:42:32] <cmr> heh
[03:42:43] <cmr> rusti: 5
[03:42:44] -rusti- Bad system call
[03:42:44] -rusti- application terminated with error code 159
[03:42:47] <cmr> ok
[03:42:49] <glyc> rusti: let mut w : *mut int = ~0 as *mut ~int;
[03:42:50] -rusti- Bad system call
[03:42:50] -rusti- application terminated with error code 159
[03:42:52] <cmr> strcat broke it
[03:42:55] <NewGuy> rusti: I love you
[03:42:55] -rusti- Bad system call
[03:42:56] -rusti- application terminated with error code 159
[03:43:14] <glyc> rusti: lol
[03:43:14] -rusti- Bad system call
[03:43:15] -rusti- application terminated with error code 159
[03:43:38] <dbaupp> cmr: I've got a few hours to hack on a bencher, if there's something I can do?
[03:44:10] <cmr> dbaupp: I feel bad pawning off my work to you, but yes
[03:44:24] * dbaupp feels bad about constantly pestering cmr too
[03:45:04] <cmr> So, ideally there would be 1 main long-lived task
[03:46:05] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: G'night everynyan~!)
[03:46:08] <engla> glyc: don't get too frustrated with raw pointers and unsafe code. That's not what most of Rust is like
[03:46:30] <cmr> It uses https://github.com/kimhyunkang/git2-rs (which probably needs some porting) and the filesystem to decide which commits need benchmarking.
[03:46:56] <dbaupp> holy fk! there's git bindings! <3
[03:47:59] <cmr> It then sends a message to a worker task which shells out to make to actually do the build.
[03:48:14] <cmr> It does ~8 builds at once
[03:48:22] <cmr> and then benchmarks those 8 one at a time
[03:48:42] <dbaupp> this is entirely unimplemented, right?
[03:48:47] <cmr> yup!
[03:48:54] <cmr> well, entirely unimplemented in rust
[03:49:00] <dbaupp> yeah
[03:49:03] <cmr> the actual benchmarking can be done by/with grease-bench
[03:50:45] <NewGuy> So, gotta ask, why is hash_map.find(~"value") giving me trouble? (where hash_map: HashMap<~str, int>)?
[03:51:04] <cmr> NewGuy: what kind of trouble?
[03:51:07] <NewGuy> It keeps telling me I have mismatched types: expecting &~str but found ~str
[03:51:10] <cmr> I'm pretty sure find takes &~T
[03:51:12] <cmr> yeah
[03:51:46] <NewGuy> I don't get it? So I have to explicitly type `&~"value"` ?
[03:52:24] <engla> in this case yes
[03:52:26] <dbaupp> find takes a reference to the type that it contains
[03:52:49] <NewGuy> Ah, fair enough.
[03:53:04] <NewGuy> Kind of ugly, though.
[03:53:30] <engla> there is a different method, .find_equiv  which lets you use & &str instead. Also kind of ugly
[03:53:39] <engla> but at least it doesn't allocate a  ~str
[03:54:11] <NewGuy> engla: Thanks, my good sir. But it's a unit test, don't mind the performance.
[03:54:17] <NewGuy> engla: But thank you for future reference!
[03:56:45] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[04:34:53] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[04:40:12] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[04:41:52] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Client exited)
[04:42:23] <jeaye> Where's std::str::from_bytes? :|
[04:42:46] <engla> it's named from_utf8 now
[04:43:29] <jeaye> In preparation for from_utfxx, it would seem.
[04:43:53] <dbaupp> there's from_utf16 already
[04:44:14] <engla> dbaupp: regarding functional update on the ML, it's an option to use updating methods as well::  quick_check("sort", qc::config.verbose(true).trials(500))    the use of qc::config as default value and modying it here
[04:45:06] <dbaupp> engla: looks very reasonable
[04:45:14] <glyc> gotta go, thanks guys for all the pointers!
[04:45:18] <jeaye> dbaupp: Ah. Didn't see it here: http://static.rust-lang.org/doc/std/str_raw.html
[04:45:44] <engla> jeaye: you don't need to use the str::raw functions
[04:45:49] *** Quits: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:45:55] *** Joins: jdsanders (Adium@moz-84CB7548.hlrn.qwest.net)
[04:46:04] <dbaupp> jeaye: http://static.rust-lang.org/doc/std/str.html#function-from_utf16
[04:46:18] <dbaupp> (woah we have waaay to many variations of from_utf8 :( )
[04:46:25] <engla> yep
[04:46:42] <engla> the option versions are new, they are kind of practical though
[04:46:55] <jeaye> Ah, thanks.
[04:47:00] <dbaupp> more so than the failing one
[04:47:07] <dbaupp> *one(s)
[04:47:18] <engla> dbaupp: only some of them raise the not_utf8 condition
[04:47:24] <engla> some others fail
[04:48:08] <dbaupp> yeah, and the not_utf8 condition is pretty useless, because one can't splice multiple bytes in place of a single incorrect one
[04:48:17] <dbaupp> (at least, not for the &[u8] one)
[04:48:28] <engla> true
[04:48:44] <engla> I've tried to write some error handling decoding functions
[04:49:15] <dbaupp> in any case, from_utfXX should be &[u8] -> &str
[04:49:24] <dbaupp> (hm, that only works for from_utf8)
[04:49:34] <engla> but if rust-encodings is going to be merged then that's moot
[04:49:59] <dbaupp> but yeah, we should have from_utf8 -> &str and from_utf8_owned(~[u8]) -> ~str, not the weirdo clone-y one by default
[04:50:08] <engla> right.. why are there allocating versions when no modifications are done?
[04:50:14] <engla> yeah
[04:50:21] <dbaupp> https://github.com/lifthrasiir/rust-encoding?
[04:50:26] <engla> yes
[04:51:01] <dbaupp> it supports a lot! cool
[04:52:19] <dbaupp> surely https://github.com/lifthrasiir/rust-encoding/blob/master/src/codec/utf_8.rs#L710 can just be a memcpy?
[04:52:49] <dbaupp> well, output.push_all(s.as_bytes()
[04:52:51] <dbaupp> )
[04:52:57] <engla> yeah
[04:52:58] <dbaupp> *input.as_bytes()
[04:55:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:55:47] <jeaye> Did something change with macro scopes? I'm getting lots of 'error: unresolved name' for variables used in macros after updating.
[04:57:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:58:02] <engla> yes, some big changes jeaye , maybe this PR? https://github.com/mozilla/rust/pull/9026
[04:58:18] <jeaye> Thanks, I'll look.
[05:05:34] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: Don't tell them I was here...)
[05:05:55] <engla> jeaye: it appears macros can reference variables if they are in scope where the macro is defined
[05:07:55] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[05:10:20] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[05:14:50] <jeaye> engla: Man, that seems a bit too massive to pull anything useful out of.
[05:15:46] *** Joins: jpf (jan@moz-A8C26A15.org)
[05:17:06] <dbaupp> jeaye: it makes macros hygienic; which means that a macro can reference a variable if (and *only* if) it's in scope where the macro is define
[05:17:07] <dbaupp> d
[05:17:28] <jeaye> damn
[05:17:52] <jeaye> That breaks... a lot of my code.
[05:18:07] <dbaupp> :(
[05:18:08] <jeaye> heh
[05:18:20] <dbaupp> I believe you can pass the variables in still
[05:18:28] * dbaupp hasn't experimented with the new macros yet
[05:19:22] <engla> jeaye: look at how the library code had to be updated in that PR. https://github.com/mozilla/rust/pull/9026/files#diff-0
[05:20:54] <dbaupp> ick; repeated twice? :(
[05:21:12] <engla> picking up variables by name like that (the first version) is not something I'd do anywhere, not with C macros either
[05:21:47] <dbaupp> ah, true
[05:22:02] * dbaupp should've read that actual macro more carefully
[05:22:43] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:23:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:23:26] <jeaye> dbaupp: Ah, that's not so bad then.
[05:23:38] <jeaye> I can move them into the function that uses them (there's only one).
[05:23:39] <dbaupp> yeah
[05:24:05] <jeaye> Changing 223 errors to 4. ^_^
[05:24:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:24:49] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:25:28] <dbaupp> nice
[05:25:43] * dbaupp wonders how #[macro_escape] interacts with hygiene
[05:27:44] <jeaye> Seems to be working well for me.
[05:27:54] <SiegeLord> Damn... so close... ~"failed to find block with tag 17" XD
[05:28:06] <jeaye> Not assuming any names to exist outside of the macro's scope within my escaped macros though.
[05:29:09] <dbaupp> yeah
[05:30:27] <sfackler> speaking of #9026, looks like it caused the sigsegv I ran into: https://github.com/mozilla/rust/issues/9049
[05:30:57] <dbaupp> sfackler: neat :(
[05:31:29] <engla> I think I found a bug that might be related to let var hygiene as well ^^
[05:31:46] <dbaupp> cmr: eurgh, porting git2-rs to new-rust is hard; extern "C" fns are no longer *u8
[05:32:14] <SiegeLord> Hmm... 17 is tag_index... I haven't even touched tag_index :'(
[05:34:07] <dbaupp> engla: ?
[05:34:23] <engla> https://github.com/mozilla/rust/issues/9047 
[05:34:42] <engla> that one
[05:35:03] <dbaupp> no macros?
[05:35:27] <engla> right
[05:35:33] *** Joins: robertknight (robertknig@moz-29DA0AFD.range86-162.btcentralplus.com)
[05:35:35] <sfackler> engla: yep, that compiles fine with 9026 reverted
[05:35:47] <engla> cool thanks for checking sfackler 
[05:38:19] *** Quits: jdsanders (Adium@moz-84CB7548.hlrn.qwest.net) (Quit: Leaving.)
[05:55:36] *** Joins: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net)
[05:56:35] *** Joins: feduser (feduser@1FEEBA37.894E1D07.8D466B92.IP)
[05:59:49] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[06:03:58] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[06:05:02] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[06:05:18] *** Joins: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net)
[06:06:46] <glyc> Just to announce-- I wrote rust bindings for nanomsg, the latest project from the guy who did zeromq. bindings here: https://github.com/glycerine/rust-nanomsg
[06:07:31] <glyc> the rust examples work pretty nicely. valgrind reports 40 bytes of memory leaked, but that'll get figured out at some point.
[06:07:34] <acrichto> glyc: cool! you should send that to cmr, he puts together a weekly email about rust and he can include that in there
[06:08:04] <glyc> sure, how do I reach cmr?
[06:08:18] <SiegeLord> glyc: It'd be neat if you made a safe interface too
[06:08:28] <acrichto> he's around on irc, but also through email (probably listed on github)
[06:08:53] <dbaupp> glyc: you fixed the problem? \o/
[06:08:55] <glyc> SiegeLord: pull requests welcome ;-)
[06:08:57] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[06:09:50] <dbaupp> glyc: https://github.com/glycerine/rust-nanomsg/blob/master/nanocli.rs#L52, std::ptr::mut_null() :)
[06:10:52] <glyc> dbaupp: ah! there's a mut_null
[06:12:02] <glyc> dbaupp: yep, fixed the problems, 'cept for the memory leaks
[06:12:27] <glyc> which will have to wait for another day
[06:16:57] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[06:17:27] <SiegeLord> Damn, I really wish you could step through rustc... it's operation is just so mysterious
[06:17:58] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[06:20:05] *** Quits: rfw (rfw@moz-7D453A5B.rfw.name) (Quit: WeeChat 0.4.1)
[06:20:37] *** Joins: rfw (rfw@moz-7D453A5B.rfw.name)
[06:22:39] *** Quits: rfw (rfw@moz-7D453A5B.rfw.name) (Quit: WeeChat 0.4.1)
[06:22:44] *** Joins: rfw (rfw@moz-7D453A5B.rfw.name)
[06:29:44] <glyc> SiegeLord: you can't?
[06:30:40] <glyc> SiegeLord: build with -g and start it under gdb?
[06:30:48] <SiegeLord> It cannot be done
[06:30:55] <glyc> you're kidding
[06:31:42] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[06:31:43] <glyc> how else do people develop it...
[06:33:15] *** eevee_ is now known as eevee
[06:33:35] <jeaye> Hmm, vec::rposition is gone
[06:33:46] <dbaupp> glyc: by writing correct code the first time :P
[06:33:49] <acrichto> jeaye: vec.iter().rposition
[06:34:11] <jeaye> Cheers
[06:34:21] <dbaupp> glyc: more seriously; a lot of printf debugging via `debug!(...)`
[06:35:17] <jeaye> rusti: let v = ~[1, 2, 3]; do v.iter().rposition |x| { x == 1 }
[06:35:17] -rusti- Bad system call
[06:35:17] -rusti- application terminated with error code 159
[06:35:32] <jeaye> heh
[06:35:56] *** Joins: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[06:36:02] <jeaye> dbaupp: Why can't it be attached to?
[06:36:18] <jeaye> (rustc, via gdb or similar)
[06:36:27] <dbaupp> jeaye: because it doesn't have any debug symbols
[06:36:37] <jeaye> Why can't it?
[06:36:50] <dbaupp> because debuginfo is still not quite good enough
[06:36:51] <glyc> dbaupp: heh. -Z debug-info doesn't work?
[06:37:03] <jeaye> ah
[06:37:15] <dbaupp> I think it still needs a few more fixes for the stdlib + compiler; but I'm not sure
[06:37:36] <dbaupp> (does someone feel like make-ing with RUSTC_FLAGS='-Z debug-info'?)
[06:39:20] <glyc> +1 for comprehensive debug-info
[06:39:29] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[06:40:56] <acrichto> what's the major difference between extra-debug-info and debug-info, besides one normally segfaults and one doesn't?
[06:44:08] <frau> are there docs on the {0} format style?
[06:44:41] <dbaupp> acrichto: a brief grep of the code seems to indicate it's local vars/match bindings/arguments
[06:45:08] <acrichto> frau: http://static.rust-lang.org/doc/std/fmt.html
[06:45:20] <acrichto> frau: although if you find anything missing or confusing, please let me know!
[06:45:22] <dbaupp> (and some other stuff; it's controlled by the extra_debuginfo field of session_opts)
[06:45:37] <acrichto> dbaupp: interesting, I figure we're just waiting on that to stabilize before folding it into debug-info
[06:45:53] <dbaupp> acrichto: I assume so
[06:47:52] *** Joins: nkoep (nik@moz-1FC0B75A.pool.mediaways.net)
[06:48:34] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[06:48:38] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[06:49:29] *** Quits: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:50:23] <frau> acrichto: ah great thanks!
[06:50:30] *** Joins: valenting (Thunderbir@BC8F8C4C.4ABED146.FB866788.IP)
[06:51:22] <acrichto> do we know if any snapshot efforts have been going on recently?
[06:51:44] <dbaupp> no
[06:51:51] <dbaupp> valgrind is broken, so no snap
[06:52:05] <dbaupp> (why did we disable valgrind? cycle time?)
[06:52:14] <acrichto> yeah
[06:52:25] <acrichto> I suppose it can't be re-enabled until that's fixed
[06:52:31] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[06:52:39] <acrichto> although the reduction in cycle time has really shown, the queue is empty frequently now
[06:53:11] <dbaupp> well, it can be reenabled, just the next pr to land will necessarily be the fix :P
[06:53:13] <dbaupp> yeah, like now
[06:54:04] <dbaupp> acrichto: any opinion about merging the two traits in https://github.com/mozilla/rust/pull/9007?
[06:54:07] <acrichto> a snapshot would be nice...
[06:54:18] <acrichto> I think they should be merged
[06:54:27] <acrichto> I don't like explosions of traits
[06:54:43] <dbaupp> ok, could you comment to that effect? :)
[06:54:48] <acrichto> sure
[06:55:09] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[06:55:53] <acrichto> I need a linux server
[06:55:59] <acrichto> all I ever build on is osx
[06:56:05] <acrichto> and I don't think valgrind is as good on osx
[06:56:40] <dbaupp> a vm is too slow?
[06:56:48] <acrichto> I could
[06:56:55] <acrichto> I probably should
[06:57:00] <acrichto> they're certainly fast enough for me
[06:57:11] <acrichto> I'd love to debug why valgrind is failing
[06:57:20] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Client exited)
[06:57:25] <acrichto> debug => debug2 is going to be awful
[06:57:29] <acrichto> so may as well get it over with now
[06:59:08] <acrichto> argh osx valgrind complains about leaked allocations in ImageLoaderMachO::doInitialization
[06:59:12] <dbaupp> sounds like somethng that's scriptable
[06:59:14] <acrichto> valgrind I do not believe you
[06:59:28] <acrichto> dbaupp: maybe, I'd also love to remove all the `as int` and `as uint` along the way
[06:59:39] <acrichto> but you're right that I should attempt to script it
[07:00:26] <sfackler> you can give valgrind a file full of ignore patterns
[07:01:13] <acrichto> we should actually have one, but I guess it's either tailored to linux or my valgrind is bad
[07:01:36] <acrichto> src/etc/x86.supp I think is exactly the suppressions file
[07:01:45] <acrichto> apple-darwin.supp as well
[07:02:12] *** Quits: valenting (Thunderbir@BC8F8C4C.4ABED146.FB866788.IP) (Ping timeout)
[07:02:39] *** Joins: brendan (brendaneic@moz-99385846.sub-70-197-1.myvzw.com)
[07:03:43] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[07:04:09] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[07:04:17] <jeaye> Hm, last errors after updating seem to be about a couple of types not satisfying Send. Were some rules made more strict?
[07:05:45] <jeaye> (capturing in a bounded closure)
[07:08:10] <dbaupp> ~fn, right?
[07:10:15] <jeaye> Yup
[07:10:25] <jeaye> Giving it a @mut
[07:11:06] <dbaupp> you'll need `~fn:`
[07:11:10] <frau> https://gist.github.com/killballad/6482593 anyone know what's wrong with my macro? it complains that result is never used
[07:11:25] <frau> also, I could swear someone has already written this exact macro for me but I can't remember where
[07:11:36] <dbaupp> jeaye: ~fn defaults to ~fn:Send, i.e. the environment (evrything that ti captures) has to be Sendable
[07:13:28] <frau> would be used like glcheck!(gl::draw_arrays(...));
[07:13:50] <dbaupp> I think it's just a bug
[07:14:06] <dbaupp> wait
[07:14:07] <dbaupp> no
[07:14:27] <dbaupp> you need `=> ({ let result = $e; ... result })`
[07:14:34] <dbaupp> https://github.com/mozilla/rust/issues/8012
[07:14:41] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[07:14:53] <jeaye> frau: You can see how I do mine https://github.com/jeaye/q3/blob/master/src/gl/check.rs
[07:16:33] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[07:16:35] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[07:17:18] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[07:17:28] <frau> oh so everything else is getting dropped silently?
[07:17:49] <frau> jeaye: aha there it is! thanks
[07:18:05] <jeaye> cheers
[07:25:12] <jeaye> rusti: let f: ~fn: = ||{ };
[07:25:12] -rusti- Bad system call
[07:25:12] -rusti- application terminated with error code 159
[07:26:35] <jeaye> dbaupp: I don't know what you mean by `~fn:`
[07:27:35] *** Joins: SingingBoyo (brandon@4DF3381A.51F4D838.4F048BDC.IP)
[07:27:58] <dbaupp> jeaye: as in, `let f: ~fn:(int) -> int = |x| { x + 1 };`
[07:28:26] <jeaye> rusti: let f: ~fn:() = ||{ };
[07:28:27] -rusti- Bad system call
[07:28:27] -rusti- application terminated with error code 159
[07:28:44] <jeaye> Works locally
[07:28:53] <jeaye> I've not seen that syntax before.
[07:29:09] <dbaupp> (rusti's broken atm, btw)
[07:29:25] *** Quits: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net) (Ping timeout)
[07:29:28] * jeaye noticed. :P
[07:29:39] <dbaupp> yeah, it's pretty peculiar; but allows one to put (built-in) trait bounds on the environment of closures
[07:30:31] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[07:31:46] *** Quits: z0w0 (zack@moz-67B19423.lns10.woo.bigpond.net.au) (Ping timeout)
[07:33:11] *** Joins: valenting (Thunderbir@BC8F8C4C.4ABED146.FB866788.IP)
[07:33:37] <bjz> dbaupp: btw, this was re. https://github.com/bjz/glfw-rs/pull/33
[07:38:47] <dbaupp> jeaye: I forgot to say `~fn:` causes crashes
[07:38:57] <jeaye> heh
[07:39:14] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[07:40:29] <dbaupp> https://github.com/mozilla/rust/issues/8983
[07:41:00] * dbaupp is extremely surprised that he opened that only 3 days ago
[07:41:02] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[07:46:23] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[07:47:44] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[07:49:33] *** Quits: SingingBoyo (brandon@4DF3381A.51F4D838.4F048BDC.IP) (Ping timeout)
[07:51:28] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[07:52:02] <tikue> does anyone know what the timeframe is for the new rust docs?
[07:52:11] *** Joins: jviereck (Adium@moz-58A87BA7.dip0.t-ipconnect.de)
[07:52:30] *** Joins: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au)
[07:52:53] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[07:52:54] <dbaupp> tikue: https://github.com/mozilla/rust/pull/8540 is open
[07:53:46] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[07:55:06] <tikue> oh excellent, looks like it's only a matter of time now
[07:55:48] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[07:56:18] *** Joins: z0w0 (zack@moz-E00BA7BC.lnse2.cha.bigpond.net.au)
[07:57:17] <dbaupp> that's only to get rustdoc_ng building though; it'll take a little bit more to get the actual docs being generated by it
[07:57:40] <tikue> yeah, but it's moving in the right direction
[08:01:57] <dbaupp> definitely
[08:02:24] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[08:03:46] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[08:03:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:04:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:05:58] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:06:01] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[08:06:01] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/lP1jZg
[08:06:01] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[08:06:06] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[08:06:07] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/oFd56w
[08:06:07] <ghrust> 13rust/06auto 1413d3306 15Alex Crichton: Remove even more usage of clownshoes in symbols...
[08:06:07] <ghrust> 13rust/06auto 14b609d02 15bors: auto merge of #9035 : alexcrichton/rust/fewer-clownshoes, r=huonw...
[08:06:07] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[08:09:02] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[08:11:07] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[08:12:08] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[08:15:35] <klutzy> on win32, I'm getting error "unresolved import: `as_utf16_p` in `std::os::win32`" on `use std::os::win32::as_utf16_p;`
[08:16:44] <klutzy> but it worked on 0.7, so I don't know why it does not work
[08:17:03] <dbaupp> presumably it as_utf16_p no longer exists
[08:17:09] <dbaupp> s/it //
[08:17:49] *** Joins: austincheney (quassel@8276C73B.985A737F.603BFF2.IP)
[08:17:50] <klutzy> it exists here https://github.com/mozilla/rust/blob/master/src/libstd/os.rs#L143
[08:18:05] <dbaupp> strange
[08:21:43] <klutzy> `use std::os::win32` works. but `use std::os::win32::fill_utf16_buf_and_decode` does not.
[08:21:52] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:23:45] *** Quits: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:24:25] *** Joins: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr)
[08:24:32] <dbaupp> acrichto: ping
[08:24:39] <acrichto> dbaupp: pong
[08:25:32] <dbaupp> acrichto: does the current std::run block the OS thread that it's running in?
[08:25:38] <acrichto> yes
[08:26:00] <dbaupp> is there a way to spawn a new OS thread?
[08:26:32] <acrichto> take a look at src/compiletest/runtest.rs
[08:26:37] <acrichto> that's what it's trying to do
[08:27:14] <dbaupp> ah, spawn_sched
[08:27:39] <acrichto> not entirely sure if that's the best way to do it
[08:27:45] <acrichto> hopefully it won't be necessary soon..
[08:28:18] *** Joins: lerc (quassel@B2E8CAD3.A8D14E52.788638A4.IP)
[08:29:12] <dbaupp> hopefully
[08:29:37] *** Quits: cantsin (cantsin@moz-F99612CC.members.linode.com) (Ping timeout)
[08:30:03] *** Quits: shachaf (shachaf@moz-F37E0395.members.linode.com) (Ping timeout)
[08:30:06] *** Quits: jld|SFO-LHR-OSL (jld@moz-B94C75AD.xlerb.net) (Ping timeout)
[08:30:11] *** Quits: Eridius|vacation (kevin@moz-533B0DB4.us) (Ping timeout)
[08:30:15] *** Quits: ziad (ziad@moz-5003F925.members.linode.com) (Ping timeout)
[08:30:22] *** Quits: rfw (rfw@moz-7D453A5B.rfw.name) (Ping timeout)
[08:30:47] *** Quits: BigEndian (hurp@moz-1B6DD81E.members.linode.com) (Ping timeout)
[08:30:53] *** Quits: balpert (balpert@moz-7E5ED302.members.linode.com) (Ping timeout)
[08:32:32] <klutzy> $ objdump -t std-6c65cf4b443341b1-0.8-pre.dll | grep as_utf16_p | wc -l
[08:32:33] <klutzy> 3
[08:32:39] <klutzy> huh
[08:33:18] <klutzy> oh wait. this is not so strange
[08:34:31] *** Joins: balpert (balpert@moz-7E5ED302.members.linode.com)
[08:34:32] *** Joins: BigEndian (hurp@moz-1B6DD81E.members.linode.com)
[08:34:45] <klutzy> one closure. so it has two functions: __ZN2os5win3216as_utf16_p_3971116_e1834ebe67bd69f11v0.8$x2dpreE and __ZN2os5win3216as_utf16_p_3982715_9d7fdda784ae6511v0.8$x2dpreE
[08:34:46] *** Joins: YoLtA (YoLtA@moz-E6DC4CB.w2-3.abo.wanadoo.fr)
[08:34:51] <klutzy> is this ok?
[08:34:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:36:15] *** Joins: cantsin (cantsin@moz-F99612CC.members.linode.com)
[08:36:20] <dbaupp> cmr: ping
[08:36:37] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:36:51] *** Joins: rfw (rfw@moz-7D453A5B.rfw.name)
[08:37:11] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:37:46] *** Quits: YoLtA (YoLtA@moz-E6DC4CB.w2-3.abo.wanadoo.fr) (User has been banned from Mozilla (no spamming here))
[08:38:06] <klutzy> ah, as_utf16_p is generic function so is duplicated. hmm I'm lost
[08:38:42] *** Joins: jld|SFO-LHR-OSL (jld@moz-B94C75AD.xlerb.net)
[08:38:44] *** Joins: shachaf (shachaf@moz-F37E0395.members.linode.com)
[08:38:51] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:39:45] *** Joins: Eridius|vacation (kevin@moz-533B0DB4.us)
[08:40:02] *** Quits: boredomist (user@B16F530C.DC641F2C.BCAEBB33.IP) (Ping timeout)
[08:42:27] <mcpherrin> rusti: 0
[08:42:27] -rusti- Bad system call
[08:42:27] -rusti- application terminated with error code 159
[08:43:19] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[08:43:22] <mcpherrin> eugh, trying to use old rust code.  What's vec::append replaced with
[08:44:00] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[08:44:29] * mcpherrin guesses a method and tries
[08:45:09] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[08:50:24] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[08:54:11] *** Joins: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com)
[08:55:29] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[08:56:19] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[08:58:43] *** Quits: NewGuy (Mibbit@moz-31DAE88F.resnet.usf.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[08:59:11] *** Quits: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[08:59:50] *** Joins: lollo45 (lollo45@moz-C61D761E.retail.telecomitalia.it)
[08:59:55] <lollo45> hello
[08:59:59] <lollo45> !list
[09:00:36] *** Quits: lollo45 (lollo45@moz-C61D761E.retail.telecomitalia.it) (Quit: )
[09:01:47] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[09:03:12] *** Quits: robertknight (robertknig@moz-29DA0AFD.range86-162.btcentralplus.com) (Ping timeout)
[09:09:46] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[09:14:22] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:14:30] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[09:15:10] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Ping timeout)
[09:15:53] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[09:18:59] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[09:19:08] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[09:19:09] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/oFd56w
[09:19:09] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[09:23:46] *** Quits: austincheney (quassel@8276C73B.985A737F.603BFF2.IP) (No route to host)
[09:23:57] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[09:24:55] *** Joins: austincheney (quassel@8276C73B.985A737F.603BFF2.IP)
[09:27:11] *** Quits: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr) (Ping timeout)
[09:29:27] *** Joins: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr)
[09:31:04] *** Joins: Earnestly (earnest@moz-DAE7D1AD.dyn.plus.net)
[09:31:43] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[09:36:29] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Ping timeout)
[09:36:31] *** Quits: frau (frau@moz-C616DA0A.hsd1.ca.comcast.net) (Ping timeout)
[09:37:46] *** Quits: brendan (brendaneic@moz-99385846.sub-70-197-1.myvzw.com) (Connection reset by peer)
[09:37:56] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:39:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:41:33] *** Joins: squiddy (squiddy@moz-DFB9D31F.adsl.alicedsl.de)
[09:42:51] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:44:37] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[09:45:23] *** Joins: noam_ (noam@F6B530A7.720527A7.416762B.IP)
[09:45:26] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:45:38] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[09:47:07] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[09:48:27] *** Quits: feduser (feduser@1FEEBA37.894E1D07.8D466B92.IP) (Ping timeout)
[09:49:18] *** Joins: doomlord (doomlod@moz-13E69BC8.range86-180.btcentralplus.com)
[09:57:14] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[09:58:43] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[10:00:47] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[10:06:50] *** Joins: Sindwiller (quassel@moz-743130B2.dynamic.hispeed.ch)
[10:07:39] *** Quits: jdm (jdm@92FB48CA.8B5E9DF.9A8C35B4.IP) (Quit: Lost terminal)
[10:08:47] *** Quits: cdidd (cdidd@moz-A045BC3D.broadband.corbina.ru) (Input/output error)
[10:09:54] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: lunchtime)
[10:11:05] *** Joins: cdidd (cdidd@moz-2A682381.broadband.corbina.ru)
[10:18:15] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[10:18:41] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[10:19:10] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[10:21:00] *** Joins: enomado (nomad@DB5C5EEB.5ED34291.AB610CFE.IP)
[10:22:30] *** Quits: StarLight (StarLight@moz-A1B43C26.dynamic.avangarddsl.ru) (Ping timeout)
[10:23:10] *** Quits: wilfred (uid159@moz-5F4AA75A.irccloud.com) (Ping timeout)
[10:23:16] *** Quits: geomyidae__ (uid214@moz-E77DEB21.irccloud.com) (Ping timeout)
[10:23:33] *** Joins: geomyidae__ (uid214@moz-E77DEB21.irccloud.com)
[10:26:03] *** Joins: StarLight (StarLight@moz-72FE98FE.dynamic.avangarddsl.ru)
[10:28:49] *** Joins: ziad (ziad@moz-5003F925.members.linode.com)
[10:29:18] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:35:05] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[10:36:28] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[10:38:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:39:33] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:40:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:45:16] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[10:45:51] *** Joins: miza (miza@moz-4DD51325.home.otenet.gr)
[10:49:26] *** Joins: feduser (feduser@1FEEBA37.894E1D07.8D466B92.IP)
[10:51:36] *** Joins: bytewise (bytewise@moz-4A801D04.unitymediagroup.de)
[10:53:23] *** Quits: squiddy (squiddy@moz-DFB9D31F.adsl.alicedsl.de) (Input/output error)
[10:59:36] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[10:59:41] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[11:09:19] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[11:09:57] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[11:11:24] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[11:20:59] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[11:20:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/oLw7RA
[11:20:59] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[11:21:01] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[11:21:01] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/9eyF5w
[11:21:01] <ghrust> 13rust/06auto 140fcb859 15Brendan Zabarauskas: Moved checked trait impls out of std::num...
[11:21:01] <ghrust> 13rust/06auto 148445009 15Brendan Zabarauskas: Add Clone and DeepClone constraints to Primitive trait
[11:21:02] <ghrust> 13rust/06auto 141d10f80 15bors: auto merge of #9051 : bjz/rust/master, r=huonw
[11:21:04] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[11:21:23] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[11:27:28] *** Joins: aeqwa (aeqwa@moz-87C875B8.dsl.tropolys.de)
[11:29:17] *** Quits: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP) (Quit: victorporof)
[11:35:11] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[11:35:36] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[11:37:22] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[11:38:05] <HollyRain> does the Rust compiler has been re-written to Rust, doesn't? If it's so, where is the source code of the compiler
[11:38:06] <HollyRain> ?
[11:38:55] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[11:39:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:39:50] *** Joins: matt (Mibbit@moz-3AB1E206.nycmny.fios.verizon.net)
[11:41:05] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:41:47] *** Quits: austincheney (quassel@8276C73B.985A737F.603BFF2.IP) (Connection reset by peer)
[11:42:11] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[11:42:43] <nsf> HollyRain: github.com/mozilla/rust
[11:42:58] <nsf> compiler is in librustc subdir or somewhere I don't know
[11:43:03] <miza> one nice to have feature about documentation is a button for showing the code of a method
[11:43:03] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[11:43:18] <nsf> HollyRain: src/librustc :)
[11:44:09] <HollyRain> nsf, thanks
[11:44:09] *** Quits: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com) (Connection reset by peer)
[11:45:32] <dbaupp> miza: like the `[src]` link here: http://seld.be/rustdoc/master/std/str/fn.is_utf8.html ?
[11:46:04] <dbaupp> (heh, that one is currently broken)
[11:46:21] <dbaupp> http://seld.be/rustdoc/master/std/from_str/trait.FromStr.html
[11:47:04] <miza> dbaupp: something like this
[11:47:51] <miza> i ll bookmark it
[11:47:52] <miza> :p
[11:48:34] *** Quits: matt (Mibbit@moz-3AB1E206.nycmny.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[11:53:03] *** Joins: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com)
[11:55:58] *** Joins: sigma (sigma@51C589B3.EF2694B5.DFAC6AA7.IP)
[11:56:20] <myname> nsf: ah, there you are!
[11:57:28] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[11:57:48] <myname> nsf: just wanted to ask how to make "buffers" with termbox (i.e. changing between completely different windows)
[11:58:18] *** Quits: bytewise (bytewise@moz-4A801D04.unitymediagroup.de) (Quit: Leaving)
[11:58:27] *** Quits: feduser (feduser@1FEEBA37.894E1D07.8D466B92.IP) (Ping timeout)
[11:58:50] <nsf> myname: just make it, a 2d buffer of tb_cell
[11:59:11] <nsf> it doesn't have to be on the termbox-side
[11:59:28] <nsf> there's tb_blit to draw a client-side buffer quickly
[11:59:52] *** Joins: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[11:59:53] <myname> that was my point
[12:00:07] <myname> so blit gets that 2d buffer?
[12:00:12] <nsf> yes
[12:00:21] <myname> i see
[12:00:42] <nsf> https://github.com/nsf/termbox/blob/master/src/termbox.h#L186-L189
[12:00:45] <nsf> it's documented
[12:01:28] <myname> yeah well, i'm not that used to C and the last time i tried stuff with 2d arrays it ended horribly
[12:01:28] *** Joins: bytewise (bytewise@moz-4A801D04.unitymediagroup.de)
[12:02:09] <nsf> 2d arrays when we're talking about memory is an undefined abstraction
[12:02:13] <nsf> memory is 1d
[12:02:28] <nsf> 2d array needs to be represented as 1d array anyway
[12:02:34] <nsf> that's why most APIs use 1d array
[12:03:06] <nsf> at least to be friendly with other languages and all that, it's important to keep things that simple
[12:03:18] *** Quits: z0w0 (zack@moz-E00BA7BC.lnse2.cha.bigpond.net.au) (Ping timeout)
[12:04:04] <nsf> 2d arrays in C are confusing because it's impossible to remember (at least for me) where's the column and where's the line
[12:04:43] <nsf> partly because of C's fucked up declarations syntax :)
[12:06:07] <nsf> so, I sincerely hope nobody's using them
[12:06:14] *** Quits: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP) (Ping timeout)
[12:07:42] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[12:11:53] <doomlord> hehe 2d arrays. yes use a get/set accessor to clarify those :)
[12:12:11] <myname> i just wrote a macro and felt dirty
[12:13:12] <HollyRain> the last step of the Rust compiler  translates the Rust AST to LLVM bitcode; is there any advantage respect to how is done into a compiler like Go? 
[12:13:32] <HollyRain> For example Golang on amd64 windows: 6g transform golang source code to assembly language on amd64, 6s transform assembly language to machine code on amd64, 6l put those machine code with some library into a exe file.
[12:14:28] <nsf> HollyRain: all of that is done by LLVM after applying a set of optimization passes on LLVM bitcode
[12:14:50] <nsf> the whole point and advantage of LLVM is to have a single well optimizing universal backend for many compilers
[12:15:20] <dbaupp> HollyRain: it gives optimization, and it also means that the rust compiler doesn't need to know the details of x64 machine code vs x86 machine code vs ARM machine code etc.
[12:15:31] <dbaupp> myname: a Rust macro?
[12:15:41] <nsf> and I don't think that 6g actually uses assembly as its output
[12:15:44] <nsf> in Go
[12:15:53] <dbaupp> myname: Rust macros are designed to be non-dirty
[12:15:56] <myname> no, a c one, since i'm not going to try bigger stuff in rust
[12:16:04] <dbaupp> oh
[12:16:13] * dbaupp pushes myname to try bigger stuff in Rust :P
[12:16:27] <nsf> and there's no 6s
[12:16:42] <myname> but i don't want to rewrite everything every 6 month
[12:17:33] <myname> and staying up to date is absolutely no fun with an atom cpu
[12:19:15] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[12:21:32] <dbaupp> ah, true :)
[12:21:56] <dbaupp> (also, you're only rewriting every 6 months... that's optimistic :P )
[12:22:28] *** Joins: wilfred (uid159@moz-5F4AA75A.irccloud.com)
[12:22:34] <myname> i am looking for a new laptop, but i can't find a fitting one :/
[12:22:37] * dbaupp is currently trying to update a month-old project that need it's core rewritten because of FFI changes :(
[12:24:43] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[12:27:23] *** Quits: valenting (Thunderbir@BC8F8C4C.4ABED146.FB866788.IP) (Ping timeout)
[12:27:32] *** Quits: jviereck (Adium@moz-58A87BA7.dip0.t-ipconnect.de) (Quit: Leaving.)
[12:28:25] *** Joins: feduser (feduser@1FEEBA37.894E1D07.8D466B92.IP)
[12:28:58] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[12:29:13] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[12:36:30] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[12:36:33] <HollyRain> dbaupp, so you get optimization in exchange of speed penalty at time of compiling; I say it because the Go compilers are so fast
[12:37:02] <kimundi> go was designed to compile fast
[12:37:05] <dbaupp> HollyRain: yes
[12:37:19] <dbaupp> HollyRain: apparently gccgo (which optimises) is also quite slow
[12:37:26] <dbaupp> (just btw)
[12:37:37] <kimundi> rust is designed to be safe and fast, not to compile fast
[12:38:00] * dbaupp does wish it compiled a bit faster though
[12:38:08] <kimundi> me too :)
[12:40:10] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:41:50] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:46:08] *** Joins: mib_9n3gdw (Mibbit@24583159.57B288CE.6BE1A500.IP)
[12:46:34] *** Quits: mib_9n3gdw (Mibbit@24583159.57B288CE.6BE1A500.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:47:01] *** Quits: feduser (feduser@1FEEBA37.894E1D07.8D466B92.IP) (Ping timeout)
[12:47:10] *** Joins: minorit_report (Mibbit@24583159.57B288CE.6BE1A500.IP)
[12:50:47] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[12:51:13] <dbaupp> https://github.com/mozilla/rust/pull/9054 r?
[12:53:23] *** Parts: minorit_report (Mibbit@24583159.57B288CE.6BE1A500.IP) ()
[12:55:01] <dbaupp> mozilla/rust currently has precisely 3000 stars on github
[12:55:40] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[12:56:05] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Connection reset by peer)
[12:56:29] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[12:57:32] <myname> should i add one?
[12:58:34] <miza> is there a way to append to string other than let mut a = ~"1";a = a + "2";
[12:58:35] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Ping timeout)
[12:59:15] <dbaupp> miza: `a.push_str("2")` will be faster
[12:59:34] <dbaupp> miza: as in, `let mut a = ~"1"; a.push_str("2");`
[12:59:34] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[12:59:38] *** Quits: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au) (Client exited)
[13:00:02] <dbaupp> miza: or, `a = a.append("2");`
[13:00:36] <dbaupp> (using append can sometimes have surprising consequences: push_str is "safer")
[13:00:40] <miza> ah i should look at owned str
[13:00:50] <miza> i search on doc but not in owned :P
[13:01:12] *** Joins: jviereck (Adium@moz-58A87BA7.dip0.t-ipconnect.de)
[13:01:17] <miza> thanks dbaupp
[13:01:36] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[13:05:04] *** Joins: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[13:05:39] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[13:05:39] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[13:06:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:07:05] *** Quits: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP) (Ping timeout)
[13:08:35] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[13:11:00] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[13:11:00] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 141d10f80 to 14b609d02: 02http://git.io/N3iJvQ
[13:11:00] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[13:11:01] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[13:11:01] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/7U1N5A
[13:11:01] <ghrust> 13rust/06auto 1407351b4 15Huon Wilson: syntax: implement labelled breaks for `for`....
[13:11:01] <ghrust> 13rust/06auto 141418311 15Huon Wilson: syntax: aesthetic improvements to the `for` desugaring.
[13:11:01] <ghrust> 13rust/06auto 14af356d6 15bors: auto merge of #9054 : huonw/rust/labelled-for, r=thestinger...
[13:11:03] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[13:11:03] *** Joins: squiddy (squiddy@moz-DFB9D31F.adsl.alicedsl.de)
[13:15:58] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[13:19:33] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[13:21:10] *** Joins: maxli (maxli@CD6C8A37.F44F49AA.D02BABA9.IP)
[13:25:59] *** Joins: maxli1 (maxli@CD6C8A37.F44F49AA.D02BABA9.IP)
[13:26:05] *** Quits: maxli (maxli@CD6C8A37.F44F49AA.D02BABA9.IP) (Connection reset by peer)
[13:27:53] *** Joins: feduser (feduser@1FEEBA37.894E1D07.8D466B92.IP)
[13:28:33] *** Quits: feduser (feduser@1FEEBA37.894E1D07.8D466B92.IP) (Quit: Leaving)
[13:28:55] *** maxli1 is now known as maxli
[13:29:28] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[13:32:06] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[13:33:04] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[13:34:59] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[13:35:35] *** Joins: Florob (Florob@moz-39532932.de)
[13:37:00] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[13:37:03] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[13:37:29] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[13:38:59] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[13:40:55] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:42:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:43:26] *** Quits: maxli (maxli@CD6C8A37.F44F49AA.D02BABA9.IP) (Quit: Leaving.)
[13:49:34] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[13:50:14] <enomado> rust-opengles or gl-rs ?
[13:52:00] <kimundi> enomado: depends on wether you want to use the ES version of opengl or the regular one.
[13:52:25] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[13:53:26] * dbaupp wonders what happens if he retries before bors has even discovered that buildbot failed
[13:54:16] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:54:49] <miza> GenericPath::from_str(~"koko");
[13:54:56] <miza> error: cannot determine a type for this bounded type parameter: unconstrained type
[13:55:09] <kimundi> my guess is it either first ignores the retry, then notices that it failed, or it notices that it failed and retries directly :P
[13:55:13] <dbaupp> miza: `Path("koko")`
[13:55:45] <dbaupp> kimundi: well, we'll find out https://github.com/mozilla/rust/pull/9054
[13:55:53] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[13:56:04] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[13:56:05] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14af356d6 to 14b609d02: 02http://git.io/N3iJvQ
[13:56:05] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[13:56:08] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[13:56:08] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/mGNeDw
[13:56:08] <ghrust> 13rust/06auto 1407351b4 15Huon Wilson: syntax: implement labelled breaks for `for`....
[13:56:08] <ghrust> 13rust/06auto 141418311 15Huon Wilson: syntax: aesthetic improvements to the `for` desugaring.
[13:56:08] <ghrust> 13rust/06auto 14aa87c41 15bors: auto merge of #9054 : huonw/rust/labelled-for, r=thestinger...
[13:56:10] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[13:56:28] <kimundi> looks like direct retry then :)
[13:56:49] <dbaupp> seems to be
[13:57:12] <dbaupp> it hasn't decided to tell me that it failed yet, so I guess it won't
[13:57:14] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[13:57:30] <enomado> kimundi, opengles have already wrapped functions. so for now i should use gl-rs with copypasted unsafe { glGenTextures(n, to_ptr(result)); } O_o
[13:57:41] *** Joins: cstrahan (cstrahan@DB1CB554.80B5DDE4.2D737EA7.IP)
[13:57:53] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Ping timeout)
[13:58:10] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[13:58:32] <kimundi> enomado: hm? Was that a question?
[13:58:46] <kimundi> Is*
[13:59:33] <kimundi> I'm afraid I don't know more about those libs than that one is for OpenGL ES, and the other for OpenGL
[13:59:36] *** Quits: friggle (friggle@moz-A607EAFA.members.linode.com) (Client exited)
[13:59:47] <bjz> enomado: I do gl-rs
[14:00:21] <Thiez> dbaupp: thanks, the '-Z no-monomorphic-collapse' option seems to make a real (positive) difference in performance
[14:00:43] *** Quits: Sindwiller (quassel@moz-743130B2.dynamic.hispeed.ch) (Client exited)
[14:00:48] <bjz> enomado: gl-rs isn't meant to wrap much. it's meant for folks who want the full gl API
[14:01:04] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[14:01:15] <dbaupp> Thiez: hm?
[14:01:34] <dbaupp> Thiez: oh! the transmutes showing up in profiles (etc)?
[14:01:34] <bjz> enomado: if your just using the es functionality, then its definitely easier to use the opengles bindings
[14:01:44] <Thiez> yes
[14:01:49] <dbaupp> cool
[14:02:04] * bjz thinks 'monomorphic-collapse' sounds amazing
[14:02:14] *** Joins: _Y_ (Mibbit@moz-4CAFC20C.dynamic.isp.telekom.rs)
[14:02:27] * dbaupp thinks bjz would be less amazed by the problems it causes
[14:02:29] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[14:02:46] <bjz> dbaupp: was just talking about the name :)
[14:03:02] <Thiez> the no inlining thing is pretty awful
[14:03:13] <bjz> dbaupp: sounds 'epic' :P
[14:03:30] <dbaupp> bjz: maybe we should call an unrelated compiler pass "monomorphic-collapse" to keep rustc appropriately epic :P
[14:03:55] * dbaupp hopes it'll be removed in favour of LLVM's mergefuncs some time soon
[14:04:05] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[14:04:33] <_Y_> hi guys, I have a question for ya
[14:05:04] <_Y_> I asked this question http://stackoverflow.com/questions/18623669/rooting-managed-value-in-rust on StackOverflow
[14:05:34] *** Joins: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[14:05:39] <_Y_> and Chris said my approach was flawed and I should use new runtime
[14:06:24] *** Quits: bytbox (s@moz-F125BB72.apng.wireless-pennnet.upenn.edu) (Input/output error)
[14:06:28] <_Y_> are there any new documents regarding new runtime? Like docs, examples, blogposts
[14:07:33] <dbaupp> There's probably some examples in the form of tests in the source
[14:07:35] *** Quits: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP) (Ping timeout)
[14:08:27] <dbaupp> https://github.com/mozilla/rust/tree/master/src/libstd/rt/io and specifically https://github.com/mozilla/rust/blob/master/src/libstd/rt/io/file.rs#L147
[14:09:21] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[14:09:22] <dbaupp> There's a few niceties that make dealing with newrt-IO easier (https://github.com/mozilla/rust/blob/master/src/libstd/rt/io/extensions.rs), but not many unfortunately
[14:11:11] <dbaupp> _Y_: in any case, the fastest/easiest/correct-with-io solution is to just use `struct ReadSource { priv r: @Reader }` rather than trying to fight the @
[14:11:16] *** Joins: friggle (friggle@moz-A607EAFA.members.linode.com)
[14:13:27] <dbaupp> _Y_: this does make the code incorrect (i.e. non-memory-safe) as written, unfortunately: you might have to do `struct ReadSource<'self> { priv r: @Reader, priv just_for_the_lifetime: &'self str }` and set that extra field to `data` to hack your way around the limitations by explicitly setting the appropriate lifetime yourself.
[14:14:22] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:15:03] <dbaupp> (as in, since the @Reader loses the lifetime, you have to add it yourself to allow the compiler to keep things correct.)
[14:16:09] *** Joins: maxli (maxli@CD6C8A37.F44F49AA.D02BABA9.IP)
[14:17:40] <aeqwa> Problem with building rsfml(https://github.com/JeremyLetang/rust-sfml). Thats what i get as a error when running 'rustpkg build rsfml' http://pastebin.com/87Vjj5YR.
[14:18:48] *** Quits: cstrahan (cstrahan@DB1CB554.80B5DDE4.2D737EA7.IP) (Ping timeout)
[14:18:54] <dbaupp> aeqwa: what's the output of `rustc -v`?
[14:19:11] <aeqwa> rustc 0.7
[14:19:12] <aeqwa> host: x86_64-unknown-linux-gnu
[14:20:58] <dbaupp> ah, that's the problem; rust-sfml is targeting (some recent version of) git master, and this includes a patch that means that `mod traits;` looks for `traits/mod.rs` as well as `traits.rs` (0.7 only looks for `traits.rs`)
[14:21:47] <dbaupp> in any case; you'll almost certainly need to upgrade to master to be able to use rust-sfml, unless you feel like backporting it.
[14:22:02] *** Quits: maxli (maxli@CD6C8A37.F44F49AA.D02BABA9.IP) (Ping timeout)
[14:22:13] <aeqwa> dbaupp: Thanks you.
[14:22:26] <cmr> dbaupp: pong
[14:23:43] <dbaupp> cmr: the extern function reform basically broke git2-rs
[14:23:57] <cmr> dbaupp: entirely?
[14:24:29] <dbaupp> as in, it's really annoying to port: so much so that I actually had to generate the ffi bindings using bindgen (they weren't originally), which has made a lot have to be changed
[14:24:55] <dbaupp> and moving types around (https://github.com/mozilla/rust/issues/9052 was confusing :S ) etc etc
[14:26:23] <dbaupp> in any case, I put that aside half way through and am just shelling out to git temporarily; I've got it interacting with git mostly correctly, and it will copy a master-repo to a new one and checkout the chosen commit
[14:26:28] <dbaupp> so it's coming along
[14:28:12] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Ping timeout)
[14:28:13] <dbaupp> cmr: also, I wanted labelled breaks on `for`, so i got distracted for a little while by adding that: https://github.com/mozilla/rust/pull/9054 (<3 easy changes)
[14:28:20] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[14:28:28] <cmr> ohhh I've wanted that too
[14:28:41] <dbaupp> now it's just while that's missing
[14:28:57] * cmr previously just expanded it manually to the loop-match construct
[14:29:45] * dbaupp made the compiler do *all* that tedious work
[14:32:41] *** Joins: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net)
[14:32:59] *** Joins: huseby (huseby@96211BDE.83CC6402.D9CD682B.IP)
[14:35:06] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[14:40:15] <dbaupp> can anyone work out where test_next_file failed? http://buildbot.rust-lang.org/builders/auto-win-32-nopt-t/builds/448/steps/test/logs/stdio
[14:40:59] <cmr> if you ctrl-f it it gives `test fileinput::test::test_next_file ... FAILED` with no useful output
[14:41:09] <dbaupp> I know; hence the question
[14:41:21] <cmr> task <unnamed> failed at 'called `Result::unwrap()` on `Err` value: error opening tmp\lib-fileinput-test-next-file-0.tmp', C:\bot\slave\auto-win-32-nopt-t\build\src\libstd\result.rs:120
[14:41:23] <cmr> perhaps?
[14:41:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:41:40] <dbaupp> nah, that's `test_input_vec_missing_file` (and it's should_fail)
[14:41:46] <cmr> ah
[14:42:00] <cmr> it'd be nice if the runner surpressed expected failure output
[14:42:16] <dbaupp> yeah
[14:42:38] <dbaupp> ok, I can't see any output about why that failed at all
[14:43:05] * dbaupp retries, just to stop bors feeling unappreciated
[14:43:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:44:13] <_Y_> does anyone remember where the installation for Windows are?
[14:44:20] <_Y_> installation instructions
[14:44:33] <cmr> https://github.com/mozilla/rust/wiki/Note-getting-started-developing-Rust#windows
[14:44:39] <_Y_> ty <3
[14:45:59] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[14:45:59] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14aa87c41 to 14b609d02: 02http://git.io/N3iJvQ
[14:45:59] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[14:46:00] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[14:46:00] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/Tk5qvA
[14:46:00] <ghrust> 13rust/06auto 1407351b4 15Huon Wilson: syntax: implement labelled breaks for `for`....
[14:46:00] <ghrust> 13rust/06auto 141418311 15Huon Wilson: syntax: aesthetic improvements to the `for` desugaring.
[14:46:01] <ghrust> 13rust/06auto 14d36612d 15bors: auto merge of #9054 : huonw/rust/labelled-for, r=thestinger...
[14:46:03] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[14:46:16] * dbaupp assumes that this will fail in exactly the same way
[14:48:52] <miza> how are you doing debuging in rust?
[14:49:16] <dbaupp> rustc -Z debug-info foo.rs; gdb foo
[14:49:19] *** Quits: jviereck (Adium@moz-58A87BA7.dip0.t-ipconnect.de) (Quit: Leaving.)
[14:49:37] <cmr> more frequently, though, lots of debug! or printfln!
[14:49:47] <cmr> (at least for me)
[14:49:50] <dbaupp> or println; or debug!(), info!(), warn!() and error!() + RUST_LOG=4
[14:50:11] <dbaupp> (note that debug requires compiling with `--cfg debug` also)
[14:54:14] <miza> should i include some lib?
[14:54:37] <miza> error: Unexpected end of macro invocation
[14:55:00] <cmr> no, that just means you're doing it wrong
[14:55:02] <kimundi> that sounds like an syntax error :P
[14:55:03] <cmr> paste your code
[14:58:23] <miza> ok now i havent error
[14:58:39] <miza> but i didnt see somewhere e message or whatever
[14:59:06] <cmr> "Unexpected end of macro invocation" *is* the message
[14:59:27] <dbaupp> miza: are you using `debug!(...)`?
[14:59:29] <kimundi> did you run the executable with the RUST_LOG environment variable set as dbaupp said above?
[14:59:32] <cmr> It means the macro didn't match any of its input, I believe.
[14:59:38] <cmr> rusti: error!()
[14:59:38] -rusti- Bad system call
[14:59:38] -rusti- application terminated with error code 159
[14:59:41] <cmr> oh right
[14:59:48] <dbaupp> cmr: you broke it!
[14:59:51] <dbaupp> :P
[14:59:52] <kimundi> rusti's still broken :P
[15:00:11] <miza> https://gist.github.com/mikezaby/cebc9a7ad0ac93dfa69b
[15:00:29] <miza> i dont get how it works
[15:00:38] <cmr> miza: ok, so you need to compile with --cfg debug, and run with RUST_LOG=4
[15:01:06] <miza> but that i want i a debugger that can i browse to the code
[15:01:40] <cmr> you can compile with -Z debug-info and -Z extra-debug-info, and use gdb.
[15:01:40] <dbaupp> you need to compile with `-Z debug-info`, then you can use gdb
[15:01:47] <cmr> but if it crashes, you're out of luck
[15:01:53] <dbaupp> (extra-debug-info can be quite unstable)
[15:02:00] <cmr> dbaupp: but it's so nice!
[15:02:11] *** Joins: flaper87 (flaper87@moz-107AD163.redhat.com)
[15:04:48] <miza> ok i ll look for gdb
[15:05:36] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[15:05:38] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:06:06] *** Joins: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[15:06:09] <miza> i ll do a litle puts driven development until learn about gdb :p
[15:08:00] *** Quits: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP) (Ping timeout)
[15:12:09] *** Joins: Infiltra1or (Infiltrato@4669028E.25A9890C.4B4F1E7A.IP)
[15:12:24] *** Quits: Infiltrator (Infiltrato@4669028E.25A9890C.4B4F1E7A.IP) (Ping timeout)
[15:16:16] *** Joins: maxli (maxli@CD6C8A37.F44F49AA.D02BABA9.IP)
[15:19:00] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[15:19:04] *** Joins: jviereck (Adium@moz-58A87BA7.dip0.t-ipconnect.de)
[15:20:18] <tiffany> uhh.. zipping functions seem to have disappeared from the docs for std::vec?
[15:20:46] <cmr> tiffany: it's on iterator now.
[15:22:07] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[15:22:28] *** Quits: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (Quit: bye, bye)
[15:22:39] *** Joins: Ms2ger (Ms2ger@9C9504FF.4EC82F13.3773EA9F.IP)
[15:22:56] <tiffany> I can't seem to find it
[15:22:58] <miza> with iterators you removed duplication of code?
[15:23:20] <tiffany> how do you make a zip iterator?
[15:23:32] <engla> tiffany: v.iter().zip(u.iter())
[15:23:35] <cmr> the zip method on any iterator.
[15:24:12] <kimundi> miza: In a lot of places, yeah
[15:24:37] <kimundi> miza: External Iterators are much more composable than the old internal iterators
[15:24:56] <engla> iterators also gave a lot of new functionality. exactly, because they are composable
[15:25:21] <tiffany> I don't suppose there's a function that will take an array of bools and return whether they're all true
[15:25:28] <kimundi> there is
[15:25:35] <cmr> v.iter().all(|x| x)
[15:25:39] <miza> it is modular now?
[15:26:01] <miza> i could implent easy in a stact iterator functionality?
[15:26:07] <miza> stract*
[15:26:08] <kimundi> miza: define modular in this context
[15:26:25] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[15:26:27] <miza> i have in my mind the enumerable in ruby
[15:26:30] <engla> miza: yes. The basics of the Iterator is very simple, just a method called .next()
[15:26:37] <miza> tha i have to define 1-2 methods
[15:26:42] <miza> to have this functionality
[15:26:45] <cmr> just 1 method in rust
[15:26:49] <engla> what does enumerable do?
[15:26:50] <cmr> but yes, just like that
[15:26:53] <kimundi> ideally two
[15:27:00] <kimundi> for the DoubleSidedIterator
[15:27:09] <kimundi> If posiible at least
[15:27:16] <engla> hehe the name is longer than that kimundi 
[15:27:16] <miza> enumerable is like iterators
[15:27:35] <engla> DoubleEndedIterator hmm no that's the same number of letters :)
[15:27:48] <engla> anyway, we should give a cash prize for coming up with a shorter name for that
[15:27:53] <kimundi> engla: Ha! :P
[15:28:00] <miza> has functionality for map, reject, min, max
[15:28:04] <miza> and stuff like that
[15:28:16] <tiffany> I really wish all these iterator functions were collected together in a nice place
[15:28:18] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[15:28:25] <kimundi> BackIterator, BiDiIterator?
[15:28:29] <engla> miza: it sounds like all of this is already in the std::iterator
[15:28:38] <cmr> tiffany: http://seld.be/rustdoc/master/std/iterator/index.html
[15:28:39] <miza> nice
[15:28:47] <cmr> the traits
[15:29:05] <tiffany> oh
[15:29:11] <tiffany> the iterator trait is where they're all hiding
[15:29:51] *** Quits: squiddy (squiddy@moz-DFB9D31F.adsl.alicedsl.de) (Input/output error)
[15:30:07] *** Joins: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net)
[15:30:47] <tiffany> how do you check to make sure two values have the same enum tag without enumerating all the tags?
[15:31:12] <cmr> you don't
[15:32:38] *** Quits: a__ (a__@moz-25043B93.nycmny.fios.verizon.net) (Client exited)
[15:33:04] <cmr> if you want to check that they're both a specific variant, you do match a { V(*) => match b { V(*) => true, _ => false }, _ => false }
[15:33:37] <engla> why not  match (a, b) {  (V(*), V(*)) =>   
[15:33:38] *** Joins: jdsanders (Adium@moz-8527430D.hlrn.qwest.net)
[15:33:47] <cmr> that's better
[15:33:53] *** Joins: a__ (a__@moz-25043B93.nycmny.fios.verizon.net)
[15:34:32] <kimundi> If you want to see if they are completly equal, you could derive Clone for the enum
[15:34:43] <kimundi> err, Eq
[15:34:50] <kimundi> derp
[15:35:00] <cmr> kimundi: you can only derive Eq for simple C-like enums
[15:35:12] <cmr> iirc
[15:35:12] <kimundi> Oh, does that still not work?
[15:35:23] <engla> I don't think so cmr 
[15:35:32] <engla> Option<T> has deriving Eq :)
[15:35:37] <cmr> oh, cool
[15:35:41] <cmr> when was that fixed?
[15:35:48] <kimundi> Yeah, I'm pretty sure I saw that on a few enums...
[15:35:51] <engla> as has Result
[15:36:35] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:37:33] <cmr> hm
[15:37:47] <cmr> maybe it was a different trait that couldn't be derived
[15:37:49] <cmr> *shrug*
[15:41:37] <engla> kimundi: BackIterator sounds ok
[15:41:54] <kimundi> I mean, the method IS called next_back() :P
[15:42:04] <cmr> I still can't help merging FooIterator into Foerator, so that could be Backerator
[15:42:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:42:26] <engla> yes. I like the name BiDiIter too but I think it's kind of wrong. It has two ends, but not switchable directions
[15:42:37] <kimundi> Maperator, Filterator, Backerator, ...
[15:42:44] <cmr> kimundi: yupers!
[15:43:03] <engla> I wanted to name the skip_while struct  WhileSkipper
[15:43:05] <kimundi> engla: well, it kinda has, with the invert() method
[15:43:29] <kimundi> Charterator. Byterator! WORDERATOR!!
[15:43:39] <engla> BiDi would be to iterate into half the vec, then switch direction and get the same elements back.. IMO
[15:44:01] <cmr> that's not what I think of when I think bidirectional
[15:44:05] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:44:14] <kimundi> FullDuplexIterator :P
[15:44:28] <kimundi> Oh, pardon me: Fuduterator
[15:45:52] <engla> completely unrelated, but the funniest unicode exploit I read about in a summary about it was placing a text direction marker in a filename so that   exploit.txt.exe  displays as exploit.exe.txt
[15:46:09] <cmr> heh
[15:46:10] <kimundi> hahahah
[15:48:42] <bjz> engla: http://www.jefftk.com/p/is-unicode-safe
[15:49:21] <bjz> engla: poor headline, but still interesting
[15:50:59] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[15:50:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/Tk5qvA
[15:50:59] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[15:51:14] <engla> there are tons of interesting issues
[15:52:30] <engla> oh my the mile high accent tower
[15:52:39] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[16:02:27] <kimundi> interesting article, indeed
[16:05:35] *** Joins: Larry (larryfox@moz-8D6C9B2A.nycmny.fios.verizon.net)
[16:06:34] *** Joins: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[16:08:36] *** Quits: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP) (Ping timeout)
[16:12:57] *** Joins: maxli1 (maxli@CD6C8A37.F44F49AA.D02BABA9.IP)
[16:12:58] *** Quits: maxli (maxli@CD6C8A37.F44F49AA.D02BABA9.IP) (Connection reset by peer)
[16:13:21] *** Quits: nkoep (nik@moz-1FC0B75A.pool.mediaways.net) (Ping timeout)
[16:16:06] *** Quits: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr) (Ping timeout)
[16:16:09] *** jld|SFO-LHR-OSL is now known as jld
[16:18:43] *** Joins: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[16:23:45] *** Joins: victorporof_ (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[16:24:18] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[16:25:02] *** Quits: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP) (Ping timeout)
[16:25:25] *** Quits: victorporof_ (victorporo@338A6DC2.9CD5E4C4.D111398B.IP) (Ping timeout)
[16:27:51] *** Joins: nkoep (nik@moz-B5FFBB08.vpn.rwth-aachen.de)
[16:29:45] *** Quits: six600110 (six600110@moz-2FA48202.neo.res.rr.com) (Connection timed out)
[16:30:12] *** Joins: six600110 (six600110@moz-2FA48202.neo.res.rr.com)
[16:30:53] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[16:31:06] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[16:34:37] <Earnestly> bjz_: The most harmful letters are stuff like 'Ñ•' which don't actually exist anymore.
[16:35:02] <cmr> what letter is/was that?
[16:35:13] <Earnestly> cmr: Russian 
[16:35:31] <Earnestly> cmr: Looks like an 's', was removed before 1750
[16:35:56] <Earnestly> or 'Ñ–' which was removed before 1918
[16:36:59] *** Joins: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[16:38:29] <Earnestly> "Ð¢ÐÑ–Ñ• Ñ–Ñ• nÐ¾t Ð•nglÑ–Ñ•Ð" (alphabet that is, except for n, t, g and l)
[16:38:36] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[16:38:53] <kimundi> Didn't find an 'h'-expy? ;)
[16:41:30] <Florob> FWIW, <http://tools.ietf.org/html/draft-ietf-precis-framework-06>, currently under WGLC
[16:41:57] <Florob> s/06/09/
[16:42:09] <Earnestly> That turns into "xn----nt-ngl-g8g8ejf1c7sbjeck" in punycode heh
[16:42:29] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[16:43:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:43:03] <kimundi> uh.... catchy?
[16:44:08] <Earnestly> kimundi: It's a real problem in other countries, for example in most advertisements in Japan, they won't actually give you the url, instead they tell you how to search for their product simply so people don't have to type the romanised form :p
[16:44:28] <cmr> AOL Keyword: Bananas
[16:44:44] <kimundi> oh, didn't know that
[16:44:46] <Earnestly> Pretty much heh
[16:44:49] <kimundi> Interseting
[16:45:22] <Earnestly> E.g. http://www.cabel.name/images-post/2008/03/search-9.jpg
[16:45:32] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:46:11] <Earnestly> æ¤œç´¢ = search
[16:49:03] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[16:49:22] *** Quits: maxli1 (maxli@CD6C8A37.F44F49AA.D02BABA9.IP) (Quit: Leaving.)
[16:49:24] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[16:50:37] <_Y_> question
[16:51:03] <_Y_> if I say my env variable is RUST_LOG=4 will all programs with debug flag be logged?
[16:51:37] <cmr> _Y_: I think so, yes.
[16:51:58] <cmr> it might be that you always need a crate prefix (so like RUST_LOG=myprogram=4), but I don't remember
[16:52:28] <_Y_> cause on windows I use sublime and I can't for the love of god make it output a comma separated value of prognames
[16:57:49] *** Joins: brendan (brendaneic@moz-99385846.sub-70-197-1.myvzw.com)
[17:01:53] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[17:03:41] *** Quits: brendan (brendaneic@moz-99385846.sub-70-197-1.myvzw.com) (Quit: brendan)
[17:07:41] *** Joins: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr)
[17:10:46] <engla> olsonjeffery: I've benchmarked decoding error handling and you are right, conditions have zero cost when they don't fire, if you amortize away the setup cost.
[17:12:31] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[17:12:46] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[17:15:25] *** Joins: maxli (maxli@1DBD154A.F44F49AA.D02BABA9.IP)
[17:15:27] <engla> I don't think it's true in all contexts, but with a decoder that does already call potentially failing functions (like growing a vector), that's the result
[17:17:05] *** Quits: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP) (Ping timeout)
[17:17:44] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Client exited)
[17:23:43] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[17:24:45] *** Joins: ofeldt (ofeldt@moz-E0565574.dip0.t-ipconnect.de)
[17:24:56] *** Joins: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net)
[17:25:24] *** Quits: ofeldt- (ofeldt@moz-4F1F2E91.dip0.t-ipconnect.de) (Ping timeout)
[17:27:03] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[17:29:57] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[17:31:14] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:37:11] *** Quits: Infiltra1or (Infiltrato@4669028E.25A9890C.4B4F1E7A.IP) (Ping timeout)
[17:37:25] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[17:37:44] *** Joins: Infiltrator (Infiltrato@4669028E.25A9890C.4B4F1E7A.IP)
[17:44:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:44:33] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[17:45:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:54:00] <bjz_> r? https://github.com/mozilla/rust/pull/9051
[17:55:59] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:55:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/VUyuSA
[17:55:59] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:55:59] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:55:59] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/JV4fxQ
[17:55:59] <ghrust> 13rust/06auto 140fcb859 15Brendan Zabarauskas: Moved checked trait impls out of std::num...
[17:55:59] <ghrust> 13rust/06auto 148445009 15Brendan Zabarauskas: Add Clone and DeepClone constraints to Primitive trait
[17:56:00] <ghrust> 13rust/06auto 142c31053 15Brendan Zabarauskas: Fix unused import warnings on 32bit systems
[17:56:02] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:59:08] *** Joins: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se)
[17:59:39] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Client exited)
[17:59:39] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[18:00:01] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[18:06:29] *** Joins: emartin (emartin@moz-E229D66C.caltech.edu)
[18:10:22] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[18:11:42] *** Joins: fabiand (fabiand@moz-C69053D9.static.qsc.de)
[18:12:15] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[18:12:53] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[18:13:22] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[18:15:09] *** Joins: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net)
[18:18:53] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Client exited)
[18:19:08] <mindcat> rusti: "are you still here?"
[18:19:08] -rusti- Bad system call
[18:19:08] -rusti- application terminated with error code 159
[18:19:12] <mindcat> rusti: "are you still here?"
[18:19:12] -rusti- Bad system call
[18:19:12] -rusti- application terminated with error code 159
[18:19:14] <mindcat> rusti: "are you still here?"
[18:19:14] -rusti- Bad system call
[18:19:14] -rusti- application terminated with error code 159
[18:19:27] <mindcat> rusti: ()
[18:19:27] -rusti- Bad system call
[18:19:27] -rusti- application terminated with error code 159
[18:19:32] <cmr> mindcat: it's broken
[18:19:41] <mindcat> cmr: oh
[18:21:10] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:21:47] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:21:50] *** Joins: squiddy (squiddy@moz-DFB9D31F.adsl.alicedsl.de)
[18:22:40] *** Quits: mmmonk (mmmonk@moz-F145F0FF.xlshosting.net) (Quit: "")
[18:22:55] *** Joins: mmmonk (mmmonk@moz-F145F0FF.xlshosting.net)
[18:24:10] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[18:24:27] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:24:30] <sp3d> are there generated rt docs someplace?
[18:24:43] *** Quits: mmmonk (mmmonk@moz-F145F0FF.xlshosting.net) (Ping timeout)
[18:24:51] <cmr> sp3d: http://seld.be/rustdoc/master/std/rt/index.html
[18:25:29] <sp3d> cool, thanks
[18:26:39] <emartin> how should raw pointers be recast? i'm assuming this has to be done in unsafe blocks
[18:26:48] <cmr> emartin: transmute
[18:28:10] <emartin> cmr: is that in the ptr module?
[18:28:14] *** Joins: mmmonk (mmmonk@moz-F145F0FF.xlshosting.net)
[18:28:17] <kimundi> well, best to first look in std::ptr for a function that does what you want
[18:28:45] <kimundi> transumte() should only be used if you have no other option
[18:28:52] <cmr> emartin: no, it's in std::cast
[18:29:00] <mindcat> how define "i8,i16,i32,i64,f32,f64" in a type group?
[18:29:11] <kimundi> "type group"?
[18:29:15] <cmr> I assume by recast you mean you have a raw pointer and you want to get a ~T or something else out of it
[18:29:50] <cmr> mindcat: they're the numeric primitives, along with uint and int.
[18:29:57] <emartin> cmr: want to change *c_void to *T
[18:30:10] <emartin> can i just use "as" for that?
[18:30:13] <cmr> yes
[18:30:46] <mindcat> http://paste.ubuntu.com/6080333/
[18:31:13] <mindcat> well, I don't like something "wrapped"
[18:32:30] <kimundi> mindcat: I have no idea what you want to do or whether you're asking a question or not.
[18:34:32] *** Quits: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net) (Ping timeout)
[18:35:19] <kimundi> You pasted an enum for a type that can be one of different types, each wrapped in an enum variant. If having such a type is actually what you want to do, then apart from trait objects there is no other way to have an type that can be one of a number of other types.
[18:35:28] <mindcat> use std::vec; let mut a = ~[TypeGroup];a = vec::append_one(a,127i8);a = vec::append_one(a,32767i16)
[18:35:43] <kimundi> not possible without an enum
[18:36:11] <cmr> Gah
[18:36:15] <cmr> Why does append_one exist
[18:36:24] *** Joins: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net)
[18:36:31] <cmr> mindcat: use the push method, not append_one
[18:36:45] <mindcat> cmr: ok..
[18:36:59] <engla> to confuse and prove that append can mean both vector + vector and vector + element
[18:37:01] <kimundi> problem one: a i8 is one byte, and i16 is two bytes. a vector contains its elemnts right next to each other in memory. If they where different types with differnt sizes, it could neither know where an elemnt starts and hwere it begins, and what type it actually is.
[18:37:52] *** Quits: maxli (maxli@1DBD154A.F44F49AA.D02BABA9.IP) (Connection reset by peer)
[18:37:55] *** Joins: maxli1 (maxli@437A0D7F.F44F49AA.D02BABA9.IP)
[18:38:11] <engla> dbaupp converted a lot to methods and removed a lot of cruft, maybe there needs to be a new round
[18:38:12] <kimundi> cmr: You could remove it right now... ;)
[18:38:20] <cmr> kimundi: I would remove it, not rename it.
[18:38:25] <mindcat> kimundi: ok... a wrong example..
[18:39:01] <kimundi> cmr: (I also said 'remove' ;))
[18:39:03] <cmr> engla: I'm looking at http://seld.be/rustdoc/master/std/vec/index.html and besides from_* and with_capacity are any *not* obsoleted by iterators
[18:39:07] <cmr> kimundi: oh, oops
[18:39:19] <cmr> or just plain unnecessary
[18:39:26] * cmr stares at same_length
[18:39:46] * kimundi watches as same_length stares back
[18:40:04] <_Y_> is it possible to give @ pointer a lifetime?
[18:40:11] <engla> the connect and concat functions (these are methods too on a trait right?)  they are more efficient than the iterator versions (if those would exist) since they compute the needed space beforehand
[18:40:14] <_Y_> I assume it's not
[18:40:15] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Connection reset by peer)
[18:40:21] <kimundi> I think a few of them might exists as basic building blocks for vectors. Of course, that just means they need to be made private
[18:40:31] <engla> cmr: unzip is can't be replaced by iterators (easily)
[18:40:58] <kimundi> engla: A iterators can also compute the needed space beforehand with the size hind, no?
[18:40:58] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:41:13] <engla> kimundi: but not if it's Iterator<~[T]>
[18:41:24] <kimundi> ah, true
[18:41:25] <engla> kimundi: unless you can clone the iterator and iterate it twice
[18:41:31] <cmr> I'm seeing fn unzip<A, B, C: Iterator<(A, B)>(it: C) -> (~[A], ~[B])
[18:41:36] <cmr> is that wrong?
[18:41:54] <engla> it sounds ok
[18:41:59] <engla> I was thinking of the output
[18:42:12] <engla> so it's like a version of collect
[18:43:00] *** Joins: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[18:43:08] <engla> I think the build functions are definitely obsolete
[18:43:46] <_Y_> Excuse me, but what would be standard rust way to cast/convert a &'self str to &'self Reader
[18:44:32] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:45:10] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:46:36] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[18:46:44] *** Joins: robertknight (robertknig@moz-29DA0AFD.range86-162.btcentralplus.com)
[18:47:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[18:47:31] <kimundi> _Y_: If str impls Reader, a simple cast would be enough. However, as an artifact about how strings are currently not bare types themself, Reader would be implemented on a &str. So you'd need to go &str -> & &str -> &Reader
[18:48:27] <engla> Iterators and things like each_permutation are interesting. What if there was an iterator that took the vector by &mut [T] and provided the same slice with each iteration
[18:48:55] <engla> given that iterators can't own a slice and give it out with  .next<'a>(&'self mut next) -> Option<&'a [T]>    is not possible
[18:49:49] <_Y_> hmm...that's unfortunate kimundi
[18:50:24] <_Y_> I tried io::with_str_reader to convert a string, but you cant emit the reader outside of closure
[18:50:34] *** Joins: jstevans (Instantbir@moz-9DA1061F.bootp.virginia.edu)
[18:51:14] <_Y_> are there any examples of people converting &str to Reader?
[18:51:40] <engla> _Y_: std::io is on the way out. That's why some problems are languishing unfixed in there
[18:52:00] <engla> std::rt::io has a replacement, but it doesn't have text api (no read_str / read_char etc)
[18:52:24] *** Joins: victorporof (victorporo@338A6DC2.9CD5E4C4.D111398B.IP)
[18:55:25] <_Y_> ok, but is text api planned or not?
[18:55:47] <engla> of course but it will be more correct, a bit more complex, and a bit more delayed
[18:55:48] <kimundi> it is
[18:56:04] <engla> _Y_: you could just copy BytesReader from std::io and fix it
[18:56:11] <engla> to use &'self [u8] internally
[18:56:31] <_Y_> I kinda tried that but I never could make it work
[18:56:41] <_Y_> it required 'static lifetime
[18:56:57] <_Y_> I had  a str with 'self lifetime
[18:56:59] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[18:57:00] <engla> the 'static has to be removed
[18:57:04] <tiffany> is it normal for rust code to nest ridiculously deep?
[18:57:05] <engla> that's part of fixing it
[18:57:11] <tiffany> the type checker for my programming language goes 10 in
[18:57:17] <cmr> tiffany: yup, especially with match and using lots of expressions
[18:57:43] <engla> cmr: http://en.wikipedia.org/wiki/Steinhaus%E2%80%93Johnson%E2%80%93Trotter_algorithm + the above mutable idea will be an efficient permutations iterator
[18:58:01] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:58:10] <cmr> "permutohedron"
[18:58:28] <engla> a permuterator
[18:58:33] <kimundi> Permutaterator? :P
[18:58:34] <cmr> heh
[18:58:41] <kimundi> dmanit
[18:58:59] <engla> right kimundi, it mutates inplace too so it's Permutaterator
[19:00:06] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[19:00:28] *** Quits: a_m0d|home (a_m0d@moz-45FCA874.acanac.net) (Quit: Leaving.)
[19:00:53] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[19:01:45] *** Quits: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[19:01:52] *** Joins: Jesin (Jessin_@moz-130D8933.cc.lehigh.edu)
[19:02:57] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:03:31] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:03:56] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:04:20] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:04:30] *** Quits: maxli1 (maxli@437A0D7F.F44F49AA.D02BABA9.IP) (Connection reset by peer)
[19:04:33] *** Joins: maxli (maxli@437A0D7F.F44F49AA.D02BABA9.IP)
[19:04:41] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:05:37] <tikue> tiffany: in situations like that it might be useful to make a few helper functions
[19:05:57] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[19:05:57] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 143384baf to 14d36612d: 02http://git.io/N3iJvQ
[19:05:57] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:05:58] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:05:58] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/eXGoxQ
[19:05:58] <ghrust> 13rust/06auto 14be43625 15Corey Richardson: Add a from_str function that calls out to the associated method on the trait
[19:05:58] <ghrust> 13rust/06auto 14c1c5c8b 15Corey Richardson: Add from_str docs
[19:05:58] <ghrust> 13rust/06auto 14e0e5523 15Corey Richardson: Fix import order which caused the wrong from_str to be in scope
[19:05:59] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:06:42] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:07:13] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:09:17] <cmr> bjz_: btw, always do `use prelude::*` *before* you start importing your own stuff :)
[19:09:30] <cmr> (it was failures in the numeric code)
[19:09:30] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[19:11:01] *** Joins: frau (frau@moz-C616DA0A.hsd1.ca.comcast.net)
[19:11:05] <tikue> rusti: stringify!(hello)
[19:11:05] -rusti- Bad system call
[19:11:06] -rusti- application terminated with error code 159
[19:12:03] *** Quits: maxli (maxli@437A0D7F.F44F49AA.D02BABA9.IP) (Quit: Leaving.)
[19:14:37] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[19:16:08] *** Quits: emartin (emartin@moz-E229D66C.caltech.edu) (Quit: leaving)
[19:16:17] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[19:18:30] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[19:18:32] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Quit: Textual IRC Client: http://www.textualapp.com/)
[19:20:24] <glyc> cmr: folks on #rust last night said I should mention this to you: I announced nanomsg bindings for rust. https://github.com/glycerine/rust-nanomsg
[19:23:28] <jmgrosen> where are attributes like #[inline] and #[deriving(â€¦)] handled?
[19:24:30] *** Quits: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:24:38] <Luqman> jmgrosen: various different places
[19:25:10] <Luqman> lmandel: the deriving stuff is in libsyntax/ext/deriving/*
[19:31:13] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[19:32:50] *** Quits: Jesin (Jessin_@moz-130D8933.cc.lehigh.edu) (Ping timeout)
[19:33:52] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[19:34:05] <miza> how could i run a system command or  just clear temrinal from rust
[19:34:40] <kimundi> miza: Not sure, look into std::run and extra:terminal
[19:35:06] <miza> i check terminal
[19:35:14] <miza> but hasn't clear
[19:35:28] <miza> has reset for reseting the options about colors etc
[19:35:30] <jmgrosen> is there an updated version of zero.rs?
[19:35:33] <flaper87> guys, Am I doing something wrong here? https://gist.github.com/FlaPer87/6487754 
[19:35:44] <miza> i ll check also std::run
[19:35:45] <flaper87> that code fails w/ segfault
[19:36:17] <flaper87> I bet I'm doing everything wrong there. :P
[19:36:18] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[19:37:18] *** Joins: Jesin (Jessin_@moz-130D8933.cc.lehigh.edu)
[19:38:07] <flaper87> the same code but using testing(Test{m: None}); works
[19:41:34] *** Quits: Infiltrator (Infiltrato@4669028E.25A9890C.4B4F1E7A.IP) (Ping timeout)
[19:41:34] *** Quits: bytewise (bytewise@moz-4A801D04.unitymediagroup.de) (Quit: Leaving)
[19:41:37] *** Joins: Infiltrator (Infiltrato@4669028E.25A9890C.4B4F1E7A.IP)
[19:42:12] *** Joins: maxli (maxli@E96D1174.F44F49AA.D02BABA9.IP)
[19:42:36] <miza> kimundi: thanks it is in std::run `run::process_status("clear", []);`
[19:44:29] <jmgrosen> great, yet another ICE
[19:44:43] <kimundi> Oi, need second opinion here. std::str::OwnedStr::as_mut_buf should be marked unsafe, right?
[19:45:06] <sfackler> seems like it should be
[19:45:24] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[19:45:52] *** Quits: Jesin (Jessin_@moz-130D8933.cc.lehigh.edu) (Ping timeout)
[19:46:15] <kimundi> Same with std::vec::MutableVector it seems
[19:47:04] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[19:47:38] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:47:49] <sfackler> not convinced of that
[19:48:05] *** Quits: maxli (maxli@E96D1174.F44F49AA.D02BABA9.IP) (Ping timeout)
[19:48:26] <sfackler> the issue with str::as_mut_buf is that you can break utf8-ness of the string. any dereference of the *mut pointer would have to be wrapped in unsafe anyways
[19:48:28] <engla> kimundi: no
[19:48:51] <engla> kimundi: as_mut_buf only produces a *mut u8  pointer, which is safe. 
[19:49:30] <engla> you can break the utf-8 property with as_imm_buf too, some foreign functions take *T and mutate them etc.
[19:49:35] <kimundi> hm
[19:49:51] <kimundi> you're right, assigning to the pointer already needs unsafe
[19:50:00] *** Joins: mib_jol2co (Mibbit@moz-F07D77C6.cpe.net.cable.rogers.com)
[19:50:09] *** Quits: mib_jol2co (Mibbit@moz-F07D77C6.cpe.net.cable.rogers.com) (User has been banned from Mozilla (no spamming here))
[19:50:16] <engla> yes raw pointers are safe. but not dereferencing them.
[19:50:26] <engla> And not even computing an .offset() anymore (pointer arith)
[19:50:36] <flaper87> guys, any idea here? https://gist.github.com/FlaPer87/6487754
[19:50:56] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[19:51:10] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[19:51:36] *** Quits: frau (frau@moz-C616DA0A.hsd1.ca.comcast.net) (Quit: Lost terminal)
[19:51:52] <kimundi> flaper87: Seems like a bug
[19:53:54] *** Joins: Jesin (Jessin_@moz-130D8933.cc.lehigh.edu)
[19:54:50] <flaper87> kimundi: :( 
[19:54:56] <flaper87> let me create an issue for it
[19:57:06] *** Joins: maxli (maxli@E96D1174.F44F49AA.D02BABA9.IP)
[19:57:26] *** Joins: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr)
[19:58:36] <flaper87> https://github.com/mozilla/rust/issues/9056
[19:58:41] *** Quits: maxli (maxli@E96D1174.F44F49AA.D02BABA9.IP) (Connection reset by peer)
[19:58:43] *** Joins: maxli1 (maxli@E96D1174.F44F49AA.D02BABA9.IP)
[20:01:49] *** Quits: _Y_ (Mibbit@moz-4CAFC20C.dynamic.isp.telekom.rs) (Quit: http://www.mibbit.com ajax IRC Client)
[20:02:08] *** Joins: mib_lwn1by (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net)
[20:02:32] *** Quits: mib_lwn1by (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:04:04] *** Quits: pyrac (pyrac@moz-CA60DD3A.w86-213.abo.wanadoo.fr) (Quit: pyrac)
[20:09:38] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[20:14:09] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[20:14:20] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[20:15:56] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[20:15:56] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/eXGoxQ
[20:15:56] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:19:31] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[20:20:56] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[20:23:40] *** Quits: squiddy (squiddy@moz-DFB9D31F.adsl.alicedsl.de) (Input/output error)
[20:25:49] *** Joins: mib_lypb24 (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net)
[20:26:01] <cmr> dbaupp: https://github.com/mozilla/rust/issues/9057 y/n?
[20:27:08] <Ms2ger> Speaking of deprecated functions
[20:27:22] <mib_lypb24> I'm using Rust .7 and trying to implement function from this documentation, http://static.rust-lang.org/doc/core/str.html#function-is_empty,but am having problems, is this the documentation for .7?
[20:27:28] <Ms2ger> gcc, in its eternal wisdom, warns on *implementing* deprecated functions
[20:27:36] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[20:27:51] <cmr> mib_lypb24: no, that is documentation for 0.6 or possibly before
[20:28:08] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[20:30:08] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[20:32:29] <bjz_> cmr: ugh
[20:32:44] <bjz_> cmr: so what was the issue?
[20:32:59] * bjz_ is having trouble figuring it out
[20:34:10] <cmr> bjz_: `use super::*; use prelude::*;` and then the prelude defined a functino and overrided the one in super
[20:34:25] <Ms2ger> \o/
[20:34:41] <bjz_> cmr: where was that?
[20:35:17] <cmr> bjz_: int_macros.rs, uint_macros.rs, float.rs
[20:35:36] <cmr> in the test mod
[20:36:04] <bjz_> cmr: ack, didn't touch those :(
[20:36:40] <bjz_> you mean with this? https://github.com/mozilla/rust/pull/9051
[20:36:53] <cmr> no
[20:37:15] <bjz_> ohh, you mean before
[20:37:18] <bjz_> sorry
[20:37:52] <cmr> it wasn't a problem that was introduced, it was a latent problem that adding the from_str function uncovered
[20:38:21] <bjz_> ah ok - did you find that?
[20:38:31] <cmr> yes
[20:38:36] <bjz_> sorry!
[20:38:42] <cmr> just giving you a heads up
[20:38:48] <bjz_> cool, thanks
[20:39:06] <bjz_> any idea why that PR failed btw?
[20:39:13] <cmr> which pr?
[20:39:19] <cmr> 9051?
[20:39:23] <bjz_> aye
[20:39:42] <sfackler> the bsd bot's been doing that randomly
[20:39:46] *** Joins: skoizza (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net)
[20:40:08] <bjz_> so might not be my problem?
[20:40:12] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[20:40:29] <sfackler> it'll probably go through with a retry
[20:41:06] *** Joins: Diamond (dick@moz-D7E07B36.ks.ks.cox.net)
[20:41:11] * bjz_ asks politely for a nudge
[20:41:28] <kimundi> r? https://github.com/mozilla/rust/pull/9059
[20:41:29] * Ms2ger nudges bjz_ a bit
[20:41:32] <Ms2ger> ... oh
[20:41:36] <bjz_> heh
[20:41:44] <bjz_> https://github.com/mozilla/rust/pull/9051
[20:41:46] <skoizza> Im having a bit of trouble implementing a function. At the top of my code I have "use std::str" and I am trying to use the line "let test_find: int = str::find_str(test_str, "s");" but rust is giving me a compile error  "error: unresolved name `str::find`" Even though its listed as a method on the documentation
[20:41:51] <skoizza> (Using Rust .7)
[20:42:21] <bjz_> cmr: tanks
[20:43:01] <bjz_> skoizza: all I can say is, use git-master
[20:43:37] *** Joins: valenting (Thunderbir@BC8F8C4C.4ABED146.FB866788.IP)
[20:43:58] <kimundi> skoizza: Unless you're part of the one class that's using rust 0.7 right now, I concur with bjz_ 
[20:44:02] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[20:44:05] <bjz_> skoizza: I don't know if that's the issue, but even if you get that fixed, master is what you want to use
[20:44:58] <skoizza> @bjz_ I am most definitely in that one class using .7
[20:44:59] <kimundi> skoizza: However, find_str definitly exists in 0.7
[20:45:13] <cmr> skoizza: Ohhhhhhhh you are?
[20:45:16] <cmr> The OS class?
[20:45:31] <kimundi> skoizza: the problem is you are calling find str as a free function in the str module
[20:45:31] <skoizza> cmr yeah its...interesting
[20:45:37] <cmr> Awesome! Welcome
[20:45:58] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[20:45:58] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/cySS5A
[20:45:58] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[20:45:59] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[20:45:59] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/MMFaeA
[20:45:59] <ghrust> 13rust/06auto 140fcb859 15Brendan Zabarauskas: Moved checked trait impls out of std::num...
[20:45:59] <ghrust> 13rust/06auto 148445009 15Brendan Zabarauskas: Add Clone and DeepClone constraints to Primitive trait
[20:45:59] <ghrust> 13rust/06auto 142c31053 15Brendan Zabarauskas: Fix unused import warnings on 32bit systems
[20:46:01] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[20:46:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[20:46:15] <kimundi> skoizza: However, it's not a free function but a method of the trait StrSlice
[20:46:42] <kimundi> skoizza: So, you want let test_find: int = test_str.find_str("s");
[20:47:22] <kimundi> (StrSlice is reexported in the prelude, so it's allways in scope)
[20:47:52] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[20:48:09] <bjz_> skoizza: ohi!!! o/
[20:48:30] *** Quits: jstevans (Instantbir@moz-9DA1061F.bootp.virginia.edu) (Ping timeout)
[20:48:52] <kimundi> skoizza: HOWEVER, it's also returning an Option<uint>, so you actually want "let test_find: Option<uint> = test_str.find_str("s");" :P
[20:49:53] <skoizza> kimundi any quick and dirty explanation to what Option<uint> is?
[20:49:59] <Ms2ger> uint?
[20:50:07] <Ms2ger> Oh, returns an index
[20:50:17] <cmr> skoizza: enum Option<T> { None, Some(T) }
[20:50:18] *** Joins: agapenwhole (agapenwhol@177627D0.1EC77716.2FB01CA4.IP)
[20:50:18] <Ms2ger> skoizza, "maybe a uint, maybe nothing"
[20:50:26] <skoizza> ah
[20:50:26] <cmr> Represents a value that may not exist.
[20:50:43] <Ms2ger> You can probably drop the ": Option<uint>" bit too
[20:50:56] <kimundi> Option<T> is a generic wrapper enum that allows you to handle values that may or may not exist
[20:51:08] <agapenwhole> i think that niggers ought to be exterminated
[20:51:10] <bjz_> skoizza: Rust doesn't have an implicit null. Option<uint> is like saying "this could be null" (it's more interesting than that though)
[20:51:17] *** Quits: agapenwhole (agapenwhol@177627D0.1EC77716.2FB01CA4.IP) (User has been banned from Mozilla (no spamming here))
[20:51:21] <kimundi> Any Option<uint> for example can be either 'Some(uint)' or 'None'
[20:51:23] <Ms2ger> That was fast
[20:51:35] <Ms2ger> bjz_, not much ;)
[20:53:21] *** Quits: dew1 (Instantbir@moz-D2FA52B6.static.stls.mo.charter.com) (Ping timeout)
[20:53:22] <bjz_> skoizza: it also forces you to explicitly handle the two cases
[20:53:26] <kimundi> skoizza: In this concrete case, find_str might not find any match, in which case it would return None
[20:53:29] *** Joins: dew (Instantbir@moz-D2FA52B6.static.stls.mo.charter.com)
[20:54:02] <kimundi> To actually work with the value inside the Option, you have a number of options
[20:55:15] <kimundi> you could a) just use match: 'match test_find { Some(index) => { /* Do something with the index */ }, None => { /* Do something if no match v*/ } }'
[20:55:57] <bjz_> rusti: let x = Some(2); match x { Some(y) => y, None => 3 }
[20:55:57] -rusti- Bad system call
[20:55:57] -rusti- application terminated with error code 159
[20:56:05] <bjz_> hah, still broked
[20:56:10] <kimundi> Or b) use one of the methods an Option has, like for example 'test_find.unwrap()'
[20:56:34] <Ms2ger> But note that those crash if you're wrong :)
[20:56:46] <kimundi> what crashes?
[20:56:53] <cmr> unwrap
[20:56:56] <bjz_> Ms2ger: it fails
[20:56:58] <kimundi> That is not a crahs
[20:57:06] <bjz_> Ms2ger: it doesn't crash
[20:57:08] *** Quits: jviereck (Adium@moz-58A87BA7.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:57:13] <Ms2ger> Potato, potato :)
[20:57:20] <kimundi> That's completly intentional task failure in the case of None :P
[20:57:54] *** Quits: fabiand (fabiand@moz-C69053D9.static.qsc.de) (Quit: Verlassend)
[20:58:17] <kimundi> Ms2ger: A crash is an bug/error/faulty software. task failure is a clearly defined library feature that is working correctly
[20:58:30] <Ms2ger> Sure
[20:58:53] <kimundi> It doesn't even have the same effect on your function stack ;)
[20:59:07] <kimundi> call stack*
[21:00:53] <kimundi> Hm, 0.7 still had Copy and both get and unwrap...
[21:00:53] *** Joins: pjantrania (Mibbit@93200A2E.9FF7733C.DDE5D3F6.IP)
[21:01:18] <bjz_> skoizza: you can also use the .map and .chain functions to 'unpack' and 'repack' the Option value. So `Some(3).map(|x| x+2)` would return Some(5), where as `None::<int>.map(|x| x + 2)` would give None
[21:02:49] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Quit: Leaving)
[21:03:12] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[21:03:43] <bjz_> skoizza: does that kinda make sense?
[21:05:37] <pjantrania> Hello! I am looking for how to execute a process without waiting for it to terminate, as Process::new does. Is there such a way in the run or os modules?
[21:09:03] <cmr> nmatsakis: was there no meeting last week?
[21:09:32] <skoizza> bjz_ yeah it does thanks alot!
[21:11:08] *** Quits: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net) (Ping timeout)
[21:11:24] *** Joins: calvin (calvin@moz-468348D6.hsd1.ma.comcast.net)
[21:11:30] *** Quits: aeqwa (aeqwa@moz-87C875B8.dsl.tropolys.de) (Quit: Lost terminal)
[21:12:23] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[21:12:40] <miza> is there a problem with rust submodule src/libuv?
[21:12:54] <miza> why i show modified?
[21:13:03] <cmr> miza: re-run configure
[21:13:13] <cmr> Does anyone have project announcements for TWiR?
[21:19:56] <mcpherrin> I'm trying to convert some old 0.5ish code to run again.  crypt.rs:40:29: 40:63 error: binary operation + cannot be applied to type `~str`
[21:19:59] <mcpherrin> crypt.rs:40   for &byte in data.iter() { acc += fmt!("%02x", byte as uint); }
[21:20:22] <mcpherrin> Is there a reason + doesn't work on strings anymore?
[21:20:23] <Ms2ger> push_str should work
[21:20:30] <cmr> mcpherrin: it does work, but not +=
[21:20:37] <Ms2ger> Isn't it += that doesn't work?
[21:20:44] <kimundi> mcpherrin: The += operator Overloads have been removed temporary
[21:21:09] <kimundi> push_str should be used anyway
[21:21:12] <mcpherrin> Oh, okay.  The error didn't imply that
[21:21:32] <Ms2ger> Yeah, that does look unhelpful
[21:21:45] <mcpherrin> porting a few hundred lines of old-rust to new-rust is rather frustrating :P
[21:26:13] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[21:27:36] *** Quits: Larry (larryfox@moz-8D6C9B2A.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:29:33] *** Joins: eskatrem (user@moz-D2023B8B.dyn.user.ono.com)
[21:32:31] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: night)
[21:33:11] <eskatrem> hey, use the method pow for integers? pow(a,n) returns an error, as well as (a as uint).pow(n)
[21:34:15] <kimundi> a.pow(&b) ?
[21:34:37] *** Quits: jdsanders (Adium@moz-8527430D.hlrn.qwest.net) (Quit: Leaving.)
[21:34:47] <eskatrem> kimundi: what is the type of a ? integer?
[21:35:17] <Ms2ger> rusti> 3f32.pow(&2f32)
[21:35:17] <Ms2ger> 9
[21:35:26] *** Joins: roboguy (roboguy@moz-266CFD9E.cm.sunflower.com)
[21:36:21] <eskatrem> 3f32? is this the same as (3 as f32) ?
[21:36:42] <Ms2ger> Yes
[21:36:51] <engla> cmr: ok I'm working on replacing each_permutation with something that doesn't Clone. We can provide an iterator that yields each of the swaps needed to see all permutations, but an iterator that modifies a passed-in vector slice can actually be quite confusing (if you use it in adaptors)
[21:36:53] <cmr> http://cmr.github.io/blog/2013/09/07/this-week-in-rust/
[21:37:01] *** Joins: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net)
[21:37:06] *** Quits: robertknight (robertknig@moz-29DA0AFD.range86-162.btcentralplus.com) (Ping timeout)
[21:37:07] <jeaye> cmr: :)
[21:37:24] <engla> nice cmr
[21:37:26] *** Joins: magg (magg@DBD57193.ED4197D1.3D0AE249.IP)
[21:37:51] *** Quits: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net) (Ping timeout)
[21:37:52] <flaper87> cmr: +1
[21:38:18] <Ms2ger> "surrogate characters are no longer allowed in strings"
[21:38:24] <Ms2ger> That's going to be fun for Servo
[21:38:39] <sfackler> rusti: 'a' as u8
[21:38:39] -rusti- Bad system call
[21:38:39] -rusti- application terminated with error code 159
[21:38:51] <engla> Ms2ger: is it needed?
[21:38:59] <engla> Ms2ger: UTF-8 documentation forbids it
[21:39:01] <Ms2ger> I suspect yes
[21:39:29] <Ms2ger> In that most of the DOM uses unchecked UCS-2-something from JS
[21:39:35] <sfackler> cmr: you can cast a char to an integer, just not the other way around
[21:39:48] <cmr> sfackler: oh, thanks for the currection.
[21:39:52] <kimundi> eskatrem: Actually it's something different that 3 as f32 . '3' is an generic number literal that can be come any of uint, int, u8, u16, u32, u64, i8, i16, i32, i64, f32, f64 or float. 3f64 for example represent a f64 with value 3 directly, while 3 as f64 I think would default the 3 to an int, and cast that to an f64. Which, granted results in the same, but is nevertheless a bit different
[21:40:04] <engla> Ms2ger: what does that mean? :)
[21:40:05] <cmr> Ms2ger: then servo shouldn't be using ~str etc
[21:40:13] <Ms2ger> :(
[21:40:22] *** Joins: Larry (larryfox@moz-8D6C9B2A.nycmny.fios.verizon.net)
[21:40:32] <engla> Maybe servo should use ~str so it doesn't have the security problems of bad uncode implementations
[21:40:48] <engla> str is getting there
[21:42:05] <mib_lypb24> I am trying to get the current working directory and then add a file name to it so I can read the file line by line. The os module has a getcwd() function that returns a path, so how do I merge a path and a string, essentially?
[21:42:15] *** Joins: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net)
[21:42:20] <Ms2ger> document.body.textContent = "\uD863";
[21:42:20] <Ms2ger> log(document.body.textContent);
[21:42:21] <Ms2ger> log: ï¿½
[21:42:23] <Ms2ger> Hah
[21:42:24] <kimundi> bors has nothing to do, someone wants to r+ this? https://github.com/mozilla/rust/pull/9059
[21:42:31] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[21:42:43] <Ms2ger> The ï¿½ there is supposed to be "\uD863" again
[21:43:46] <magg> hello, i'm trying to update some programs i did with rust 0.6 to 0.7 and str::len and str:substr are goneâ€¦ what else can i use?
[21:43:54] <kimundi> wait, scratch that, something wrong went down in my pr
[21:43:58] <cmr> magg: they're methods
[21:45:10] <cmr> mib_lypb24: the `push` method
[21:45:14] *** Quits: Ms2ger (Ms2ger@9C9504FF.4EC82F13.3773EA9F.IP) (Quit: nn)
[21:45:15] <magg> cmr: so ~"4".len ?
[21:45:42] <cmr> magg: (~"4").len(), but the allocation there is entirely unnecessary
[21:46:54] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[21:47:14] <kimundi> Okay, r+ anyone? https://github.com/mozilla/rust/pull/9059
[21:47:18] <eskatrem> otherwise, how can I know what are the types that are supporting pow?
[21:48:05] <kimundi> pow: look through the traits in std::num
[21:48:11] <kimundi> er, eskatrem ^
[21:48:12] <cmr> eskatrem: I believe that would be the Algebraic trait
[21:48:13] *** flaper87 is now known as flaper87|afk
[21:48:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[21:48:38] <eskatrem> cmr: ok, and how do I know what traits are algebraic?
[21:48:55] <cmr> eskatrem: like, codewise, or for your own knowledge?
[21:48:58] <magg> cmr, where can i see documentation about str methods
[21:49:00] <cmr> what are you trying to do?
[21:49:13] <skoizza> Im trying to turn a str into a path using the module path by saying " let file_path: = file_str.from_str();" but Im getting an error about &str not implementing from_str()
[21:49:16] <skoizza> any ideas?
[21:49:18] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[21:49:38] <eskatrem> cmr: I am just playing with some crypto stuff in rust, both to get familiar with rust and improve my knowledge in crypto
[21:49:47] <cmr> magg: http://seld.be/rustdoc/master/std/str/index.html and see the traits
[21:49:54] <magg> thanks
[21:51:14] <cmr> eskatrem: So, what's your specific question?
[21:51:41] <eskatrem> cmr: well, I was asking about pow, and then I wanted to know what types are supporting it
[21:52:29] <cmr> eskatrem: any type that implements std::num::Algebraic
[21:52:52] <eskatrem> cmr: that answers my question then! thanks
[21:53:05] <cmr> Currently only float/f32/f64
[21:53:07] <miza> why the test suite is inside the source code?
[21:53:30] <cmr> miza: because it's nice to have tests right next to the thing they test.
[21:54:01] <kimundi> skoizza: that from_str is not an method on strings. You have to call something like Path::from_str(file_str)
[21:54:07] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[21:54:10] <cmr> skoizza: yes, what kimundi said
[21:54:36] <miza> its easy to have conventions in testing
[21:54:44] <miza> and not mess up with the source code
[21:55:10] <miza> in my editor i open tests in ruby with a key binding
[21:55:23] <miza> personaly i dont think this is good idea
[21:55:24] <cmr> it's GenericPath::from_str
[21:55:40] <cmr> miza: feel free to include tests in a separate file or crate if you want.
[21:55:46] <cmr> it isn't required
[21:56:39] <dcrewi> miza: also, the tests are only compiled if you tell the compiler that's what you want
[21:56:50] <dcrewi> so there's no cost
[21:56:52] *** Joins: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se)
[21:56:59] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:57:04] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[21:57:08] *** Joins: jdsanders (Adium@moz-8527430D.hlrn.qwest.net)
[22:00:54] <miza> dcrewi: i didn't tell it this for compiling reason, but for simplicity and for more compact files and not messed up code and testing
[22:01:54] *** Joins: squiddy (squiddy@moz-DFB9D31F.adsl.alicedsl.de)
[22:04:20] <engla> Replacing each_permutation with this would be much more efficient, but it's a different order of permutations.  https://gist.github.com/anonymous/aee299796721e919b8ec
[22:04:47] <cmr> Does order of permutations matter?
[22:04:48] <engla> each_permutation clones each element once per permutation. It's fine for primitive types I guess, but it seems wasteful
[22:05:16] <engla> I don't know, the old code produces permutations in lexical order
[22:05:38] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[22:06:04] <engla> and it says this in the comments
[22:06:04] *** Quits: six600110 (six600110@moz-2FA48202.neo.res.rr.com) (Connection timed out)
[22:06:20] <engla> but it has no users in tree, so I don't know
[22:06:43] *** Joins: six600110 (six600110@moz-2FA48202.neo.res.rr.com)
[22:10:23] <cmr> libhttp has a quite nice API if you ask me
[22:10:27] <cmr> (http-server)
[22:10:43] *** Quits: mib_lypb24 (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:12:43] *** Quits: skoizza (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:13:26] *** Quits: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net) (Ping timeout)
[22:13:41] *** Joins: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net)
[22:15:08] *** Quits: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[22:15:23] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[22:15:33] *** Quits: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net) (Ping timeout)
[22:17:02] *** Joins: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net)
[22:18:15] *** nrc|afk is now known as nrc
[22:19:16] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:19:20] *** Quits: doomlord (doomlod@moz-13E69BC8.range86-180.btcentralplus.com) (Quit: Leaving)
[22:19:29] *** Joins: doomlord (doomlod@moz-13E69BC8.range86-180.btcentralplus.com)
[22:23:54] *** Quits: clements (clements@moz-E4774872.dsl.snlo01.pacbell.net) (Ping timeout)
[22:25:49] *** Quits: pjantrania (Mibbit@93200A2E.9FF7733C.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:27:58] *** Quits: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr) (Quit: Gone)
[22:30:18] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[22:30:25] *** Joins: Skunk8 (Skunk86@CFE6F09B.D27CF026.75B192F0.IP)
[22:31:24] *** Quits: Skunk8 (Skunk86@CFE6F09B.D27CF026.75B192F0.IP) (Quit: )
[22:32:51] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[22:32:52] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[22:33:17] *** Joins: mib_q90iuw (Mibbit@moz-472A12ED.protectedgroup.com)
[22:33:24] *** Quits: mib_q90iuw (Mibbit@moz-472A12ED.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[22:39:00] <jmgrosen> has there been any progress on this issue? https://github.com/mozilla/rust/issues/7282
[22:40:44] <cmr> jmgrosen: not any notable progress.
[22:40:54] <jmgrosen> alright
[22:41:02] <cmr> See the discussion on https://github.com/mozilla/rust/pull/8955 though
[22:41:47] <SiegeLord> How would I show the output of the debug statements in rustc?
[22:42:01] <cmr> SiegeLord: Run configure with --enable-debug, build, RUST_LOG=rustc=4
[22:42:06] <cmr> (or syntax=4)
[22:42:37] <SiegeLord> Great, thanks
[22:43:54] <jmgrosen> cmr: are there any particular ideas of how to implement the multiple profiles yet? (a new attribute? tons of #cfg[â€¦]?)
[22:44:34] <SiegeLord> Sweet... that puts me right into the place of the error...
[22:44:40] <SiegeLord> I wish there were debug statements everywhere
[22:45:04] *** Quits: enomado (nomad@DB5C5EEB.5ED34291.AB610CFE.IP) (Input/output error)
[22:45:30] *** Joins: mark_edward (AndChat414@moz-F0F62135.hsd1.il.comcast.net)
[22:45:32] <miza> anyone here that contributing or using rust-sdl?
[22:45:47] *** Quits: eskatrem (user@moz-D2023B8B.dyn.user.ono.com) (Client exited)
[22:46:33] <SiegeLord> Is there a way to go from NodeId to the identifier?
[22:46:54] <jmgrosen> miza: I think most people are using glfw-rs now
[22:47:09] <Luqman> miza: i've used it
[22:47:32] <Luqman> jmgrosen: well, sdl and glfw doesn't exactly serve the same purpose
[22:47:34] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[22:47:39] <Luqman> don't*
[22:47:56] <miza> i cant 'make' it
[22:48:05] <Luqman> what's the error?
[22:48:16] <miza> warning: ignoring specified output filename for library.
[22:48:17] <miza> error: linking with `cc` failed with code 1
[22:48:33] *** Joins: mib_gije0f (Mibbit@moz-472A12ED.protectedgroup.com)
[22:48:43] *** Quits: mib_gije0f (Mibbit@moz-472A12ED.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[22:48:47] <jmgrosen> Luqman: ah, really? what are the differences?
[22:49:00] <jmgrosen> oh, well SDL handles audio
[22:49:38] <jmgrosen> and joystick
[22:49:42] <Luqman> and fairly simple 2d pixel operations
[22:49:50] <jmgrosen> hm
[22:50:04] <miza> for now i want to check sprocketnes
[22:50:06] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[22:50:09] <miza> thats why i want it
[22:50:20] <Luqman> jmgrosen: glfw is mostly events and getting a gl context afaik
[22:50:21] <miza> in general i want to check sdl/opnegl
[22:50:29] <Luqman> miza: no other error output?
[22:50:29] <miza> but i haven't expirience in this
[22:50:46] <miza> warning: ignoring specified output filename for library.
[22:50:47] <miza> error: linking with `cc` failed with code 1
[22:50:47] <miza> note: cc arguments: -L/usr/local/lib/rustc/x86_64-unknown-linux-gnu/lib -m64 -o libsdl-95460b1b072257-0.3.0.so libsdl.o -L/usr/local/lib/rustc/x86_64-unknown-linux-gnu/lib -lstd-6c65cf4b443341b1-0.8-pre -lSDL_image -lSDL_mixer -lSDL -lSDLmain -framework Foundation -framework AppKit -lrustrt -lrt -lpthread -L/home/miza/rust/rust-sdl/.rust -L/home/miza/rust/rust-sdl -shared -lrt -ldl -lm -lmorestack -lrustrt -Wl,-rpath,$ORIGIN/../../../../usr/local/lib/r
[22:50:47] <miza> note: cc: error: unrecognized command line option â€˜-frameworkâ€™
[22:50:47] <miza> cc: error: Foundation: No such file or directory
[22:50:47] <miza> cc: error: unrecognized command line option â€˜-frameworkâ€™
[22:50:48] <miza> cc: error: AppKit: No such file or directory
[22:50:49] <miza> error: aborting due to previous error
[22:50:50] <miza> make: *** [libsdl.dummy] Error 101
[22:51:07] <Luqman> miza: are you on a mac?
[22:51:12] <miza> no
[22:51:16] <miza> ubuntu
[22:51:42] <cmr> jmgrosen: I haven't thought too hard about it.
[22:51:55] <cmr> jmgrosen: it'd have to be a build option
[22:52:17] <Luqman> miza: for some reason you seem to be having the mac specific flags passed to cc
[22:52:39] <jmgrosen> cmr: ok; I think a cfg option would be really hard to handle, though, because you'd have to tag *every* function that used runtime stuff with #[cfg(no_rt)] or the like
[22:52:57] <cmr> jmgrosen: so you'd do ./configure --profiles=standard,arduino,foo --add-profile=foo,/path/to/foo/files when building rustc
[22:53:55] <jmgrosen> cmr: ah, and have like a standard.json and arduino.json that specified which modules/functions/structs applied?
[22:55:13] <jmgrosen> or some other kind of profile file, but that kind of idea
[22:56:21] <cmr> jmgrosen: yeah, basically.
[22:56:57] <cmr> it'd specify the segmented stack discipline, as well as modules to include in the root of std and path to them.
[22:57:03] *** Quits: Earnestly (earnest@moz-DAE7D1AD.dyn.plus.net) (Ping timeout)
[22:57:06] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:57:10] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:57:40] <jmgrosen> cmr: we might have to clean up some of the modules, since some just have a handful of functions that have a task::spawn or some other runtime-dependent call, but the rest of it would be just fine
[22:58:41] <cmr> jmgrosen: Well, brson's opinion on that, that I kind of agree with, is that the task model is a fundamental part of rust.
[22:59:00] <cmr> Perhaps just task failure and "TLS" is necessary, though.
[22:59:22] <cmr> jmgrosen: Some runtime things should probably become language items if they aren't already
[22:59:34] <engla> cmr: do you think the permutations iterator can live in the vector module?
[22:59:43] <cmr> engla: I don't see why not
[23:00:08] <engla> ok
[23:00:16] <sfackler> miza: https://github.com/brson/rust-sdl/pull/95
[23:00:24] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[23:00:34] <jmgrosen> cmr: so what should happen if a someone calls a function that uses task::spawn, but is using, say, the arduino profile?
[23:01:05] <cmr> jmgrosen: not sure.
[23:01:05] <miza> this cause the error sfackler?
[23:01:20] <cmr> jmgrosen: I don't think anything should be calling task::spawn in libstd?
[23:01:25] <dwrensha> "read-only borrows" are obsolete, right? (I'm reading librustc/middle/borrowck/doc.rs, and I see expressions like "&const lv".)
[23:01:29] <dwrensha> e.g. https://github.com/mozilla/rust/blob/master/src/librustc/middle/borrowck/doc.rs#L195
[23:01:33] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:01:36] <cmr> dwrensha: yes, &const has been removed.
[23:01:47] <sfackler> miza: this fixes the error
[23:02:04] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[23:02:53] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[23:04:40] <jmgrosen> cmr: yeah, it looks like you're right -- there are only a handful of non-rt instances in lib std that call task::spawn, and almost all of them don't make sense in freestanding anyway
[23:06:17] <miza> sfackler i dont think tha tou fix it
[23:06:25] <miza> i reset hard to you commit
[23:06:41] <miza> i have the same problem
[23:07:55] <Luqman> miza: i've been building fine on debian but lemme checkout the latest and try again
[23:08:35] <miza> damn u ubuntu
[23:08:40] <Florob> Can someone tell me why char is no longer treated as an integer type? Or, the actual question may be: is there something planned to avoid having to use unsafe code to convert between integers and chars?
[23:08:43] <cmr> miza: there's a PPA with nightly builds.
[23:09:02] <cmr> Florob: Because constructing arbitrary chars is unsafe.
[23:09:06] <Luqman> cmr: not rust, rust-sdl
[23:09:08] <cmr> Unsound, rather.
[23:09:09] <cmr> oh
[23:09:20] *** Joins: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net)
[23:09:22] *** Parts: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net) ()
[23:09:52] <Luqman> miza: applying sfackler's patch fixes it for me
[23:09:59] <miza> :/
[23:10:50] <Luqman> miza: i just did `wget https://github.com/brson/rust-sdl/pull/95.patch && git am < 95.patch`
[23:11:11] <Florob> cmr, sure. All the transmutes that sprinkled over libstd makes me uncomfortable though. A from_uint()/to_char() that fail!s when the integer is out of range would be nicer...
[23:11:17] <engla> Florob: for the type system to be useful, the char type now guarantees it's a valid unicode codepoint
[23:11:32] <engla> Florob: std::char::from_u32()
[23:11:59] <magg> can i change a str to bytes (u8)?
[23:11:59] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[23:12:40] *** Joins: bytbox (s@moz-DC83764A.washdc.fios.verizon.net)
[23:12:46] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:12:47] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[23:13:34] <sfackler> rusti: ~"asdf".into_bytes()
[23:13:35] -rusti- Bad system call
[23:13:35] -rusti- application terminated with error code 159
[23:14:03] <engla> cmr: it's not that it's unsafe more that we want to use the char type to represent certain guarantees, so that it's easier to write safe code
[23:14:04] <jmgrosen> rusti: 5
[23:14:04] -rusti- Bad system call
[23:14:04] -rusti- application terminated with error code 159
[23:14:13] <cmr> engla: sure
[23:14:23] <jmgrosen> looks like rusti is broken again
[23:15:37] <Florob> engla, Heh, right I even saw that. So... may I grumble that unsafe{transmute(x as u32)} is not from_u32(x as u32).unwrap()? ;)
[23:16:04] <engla> yes sure
[23:16:19] <engla> but there will be code that wants to avoid the overhead
[23:16:56] <engla> and some porting is needed for the code that used to do   invalid: char = -1;
[23:19:08] <cmr> jmgrosen: still!
[23:19:15] <cmr> been broken at least a dayish?
[23:19:33] <SiegeLord> Oh wow... I think I managed to fix a rustc bug after 3 days of screwing around
[23:19:42] <cmr> SiegeLord: \o/
[23:19:48] * cmr hasn't fixed any rustc bugs
[23:19:56] <engla> nice
[23:19:57] <cmr> one libsyntax one though
[23:20:12] <SiegeLord> Let's see if I can remove my debugging cruft and run the test suite on it...
[23:25:23] <engla> there isn't an integer factorial function in the libstd is there?
[23:26:32] <sfackler> nope
[23:28:05] <jmgrosen> cmr: would different profiles be possible with #[cfg(â€¦)]s in libstd/std.rs?
[23:28:08] *** Quits: Infiltrator (Infiltrato@4669028E.25A9890C.4B4F1E7A.IP) (Ping timeout)
[23:28:53] *** Joins: Infiltrator (Infiltrato@4669028E.25A9890C.4B4F1E7A.IP)
[23:30:05] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[23:31:43] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:32:13] <engla> can we remove append and append_one?
[23:32:37] <engla> in std::vec
[23:33:35] <engla> cmr: by the way all the talk about connect/concat being more efficient in std::vec that's a mistake from me. They *could* be. The str versions are, but the vec versions are plain
[23:33:42] <engla> plain as in dumb loops
[23:33:59] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[23:35:24] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[23:36:56] <magg> do i have to create a module to use functions from different files?
[23:39:35] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[23:40:34] *** Quits: Jesin (Jessin_@moz-130D8933.cc.lehigh.edu) (Quit: Leaving)
[23:43:13] *** Quits: squiddy (squiddy@moz-DFB9D31F.adsl.alicedsl.de) (Quit: Leaving)
[23:43:45] *** Quits: bytbox (s@moz-DC83764A.washdc.fios.verizon.net) (Ping timeout)
[23:44:46] <magg> cuz it doesn't work for me
[23:44:56] <doomlord> :)
[23:45:20] <SiegeLord> magg: You need to use the mod foo; statement
[23:45:33] <SiegeLord> So... I think the answer is yes
[23:45:47] <SiegeLord> Although there is a textual include option too, iirc
[23:45:56] <SiegeLord> Not that you're meant to be using it
[23:46:09] <doomlord> ^^^ how does that work
[23:46:40] <kimundi> magg: http://static.rust-lang.org/doc/tutorial.html#crates-and-the-module-system
[23:46:43] <doomlord> magg it doesntwork like the module system in other languages, recomend you read the tutorials
[23:46:43] <magg> I'm getting unresolved import error 
[23:46:47] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[23:46:49] <dbaupp> engla: append and append_one are designed for functional-ish programming; not sure if they're worth keeping around though (since they cause problems with moving variabes)
[23:47:11] <magg> im reading the tut 0.7
[23:47:21] <kimundi> doomlord: There is an include!() I think, but that expands to an string literal afaik
[23:47:24] <miza> $ rustc --cfg image --cfg mixer
[23:47:27] <engla> aha dbaupp
[23:47:29] <SiegeLord> http://static.rust-lang.org/doc/rust.html#syntax-extensions
[23:47:32] <miza> what dose this 2 flags?
[23:47:35] <magg> i used mod foo; but i get errors
[23:47:55] <SiegeLord> I wonder what what include_bin! exactly does...
[23:47:59] <magg> from my original file, do i have to include the externs all over again?
[23:48:13] <engla> dbaupp: won't touch it then
[23:48:14] <kimundi> magg: Read the new module tutorial I linked you too, not much has changed from 0.7
[23:48:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[23:48:24] <magg> ok
[23:48:35] <SiegeLord> So there's make check and make tidy, right?
[23:48:42] <SiegeLord> Just going by memory...
[23:48:46] <kimundi> SiegeLord: right
[23:49:40] <kimundi> SiegeLord: I think include_bin! expands to an u8 vector
[23:49:53] <SiegeLord> Ah, that makes sense
[23:50:02] <SiegeLord> Pretty sweet
[23:50:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[23:50:32] <jmgrosen> are there any reasons io::Reader and io::Writer still exist?
[23:50:35] <Luqman> miza: enables the SDL_image/mixer bindings
[23:50:37] <jmgrosen> they're really annoying
[23:51:28] <kimundi> dbaupp: Ultimately append and append one would be identical to push and push_all with unified method call syntax, no?
[23:51:29] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:51:32] <dbaupp> jmgrosen: because rt::io isn't quite good enough yet
[23:51:33] *** Joins: ChemicalHarm (Mibbit@moz-A9F37238.hsd1.md.comcast.net)
[23:51:57] <jmgrosen> dbaupp: the implementations, sure, but not even the traits?
[23:52:05] <kimundi> dbaupp: well, I guess not identical...
[23:52:10] <dbaupp> kimundi: no append(self, &[T]) -> ~[T], push_all(&mut self, &[T]);
[23:52:28] <dbaupp> jmgrosen: I'm not sure I understand
[23:52:30] <kimundi> yeah.
[23:53:03] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:53:14] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Ping timeout)
[23:53:47] <jmgrosen> dbaupp: why couldn't std::rt::io::Reader be named std::io::Reader and the old std::io::Reader gotten rid of?
[23:54:16] *** Joins: etw (john@moz-D871A25B.nyc.res.rr.com)
[23:54:50] <dbaupp> jmgrosen: don't know; possibly just because no-one has done it yet, possibly some deeper reason
[23:55:04] <bjz> jmgrosen: dbaupp: "jmgrosen: because rt::io isn't quite good enough yet"
[23:55:17] <engla> std::io isn't good at all
[23:55:34] <bjz> jmgrosen: I imagine brson will do it when they're ready
[23:55:40] <engla> but it does have FILE* objects and stdio
[23:55:49] *** Quits: calvin (calvin@moz-468348D6.hsd1.ma.comcast.net) (Quit: Lost terminal)
[23:56:04] <dbaupp> std::rt::io doesn't have stdio yet?
[23:56:13] <jmgrosen> bjz: I guess, but in the meantime, it's extremely annoying because std::io::Reader and std::io::Writer are in the prelude
[23:56:21] <engla> it doesn't have stdin/stdout implemented at least
[23:57:29] *** Quits: maxli1 (maxli@E96D1174.F44F49AA.D02BABA9.IP) (Connection reset by peer)
[23:57:31] *** Joins: maxli (maxli@moz-48300E8.net.uwaterloo.ca)
[23:58:09] <bjz> dbaupp: ick https://github.com/mozilla/rust/pull/9051#commitcomment-4041423
[23:59:30] <kimundi> cmr: I sorted out all remaining issues, could I get another r+? https://github.com/mozilla/rust/pull/9059
[23:59:49] <dbaupp> bjz: you broke bsd! :P
