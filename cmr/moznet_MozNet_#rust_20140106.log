[00:00:17] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[00:00:25] <thiez> depending on what you're doing, it may also be possible to return a &Trait
[00:00:29] <thiez> rusti: trait T { fn inc(&mut self); } impl T for uint { fn inc(&mut self) { *self += 1; } } fn toT<'a>(t: &'a mut uint) -> &'a mut T { t as &'a mut T } let mut x = 0; toT(&mut x).inc(); x
[00:00:30] -rusti- 1u
[00:00:33] <thiez> like so :)
[00:01:25] <depp> nice (although I need ~ for other reasons)
[00:01:51] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:02:04] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:02:18] <mib_6hzr4o> Is it possible to extend the #deriving[] implementations with a derivation strategy for custom types?
[00:02:29] <bascule> so yeah, released a new version of this:
[00:02:31] <bascule> https://github.com/tarcieri/irust
[00:02:32] <bascule> fun stuff
[00:02:53] <mib_6hzr4o> s/custom types/custom traits/
[00:02:56] <dbaupp> mib_6hzr4o: no
[00:03:27] <dbaupp> although it's kinda-of planned, but I'm increasingly less keen on it (with the current constraints we have on #[deriving])
[00:03:41] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:03:44] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[00:03:45] <mib_6hzr4o> dbaupp: gotcha, thanks!
[00:03:54] <thiez> mib_6hzr4o: but perhaps in the future, when we get dynamically loadable syntax extensions, it will be possible to add it yourself
[00:03:55] <dbaupp> bascule: what's the headline feature(s) of the new version?
[00:04:43] <bascule> dbaupp: it has a multiline history-ish now
[00:05:05] <dbaupp> mib_6hzr4o: as thiez says, we are getting dynamically loadable syntax extensions, so you'll be able to write #[deriving_MyTrait] and use the deriving infrastructure to make it easy to derive, but you won't necessarily be able to do #[deriving(MyTrait)]
[00:05:12] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[00:05:16] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[00:05:28] *** Joins: tziki (tziki@B63B3C06.3AAAF7BA.A2592811.IP)
[00:05:33] <dbaupp> (i.e. make a completely new extension called "deriving_MyTrait" rather than adding to the list of traits that #[deriving] knows about directly)
[00:05:48] <dbaupp> bascule: awesome
[00:05:53] * dbaupp tries it
[00:06:05] <dbaupp> oooh, copyright 2014!
[00:06:07] <dbaupp> we live in the future
[00:06:10] <bascule> woohoo!
[00:06:16] <thiez> would be even cooler if they could be added as an option to #[deriving()] though
[00:06:45] <dbaupp> thiez: yup
[00:06:58] <thiez> but that can always be added later I suppose
[00:07:00] <dbaupp> thiez: but... https://github.com/mozilla/rust/pull/11298#issuecomment-31575012
[00:07:08] <sfackler> thiez: it wouldn't be hard to do, but it would make deriving a special case
[00:07:11] *** Quits: mpiechotka (mpiechotka@moz-93FEEFE.adsl.inetia.pl) (Ping timeout)
[00:07:32] <tziki> [A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[A[A[A[A[A[A[A[A[A[A[A[A[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B[B:j #mozilla
[00:07:44] <dbaupp> thiez: (without doing something like that, two different crates both registering #[deriving(Trait)] would be possibly upsetting)
[00:07:47] <sfackler> if there end up being a ton of deriving_MyFoos it might be added
[00:07:56] <thiez> dbaupp: fair enough.
[00:08:12] <sfackler> dbaupp: I mean, you run into the same issue with two crates registering deriving_MyTrait as well
[00:08:13] <dbaupp> although, we have the same problem with two crates registering #[deriving_Trait]
[00:08:16] <dbaupp> yup
[00:08:22] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:08:29] <sfackler> I'm probably just going to end up namespacing imported macros
[00:08:34] <dbaupp> but we need the infrastructure/semantics for handling that anyway
[00:08:44] <sfackler> i.e. "#[phase(syntax)] extern mod blah; blah::foo!()"
[00:08:48] *** Quits: mib_6hzr4o (Mibbit@moz-4DB40168.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:08:48] <dbaupp> <#
[00:08:50] <dbaupp> <3
[00:08:51] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[00:08:56] <sfackler> dbaupp: nah, it can just do it via string concatenation
[00:08:57] *** Quits: tziki (tziki@B63B3C06.3AAAF7BA.A2592811.IP) (Connection reset by peer)
[00:09:34] <dbaupp> sfackler: hm?
[00:09:36] <sfackler> blah registers a macro called foo and the compiler slaps a blah:: onto it
[00:09:42] <dbaupp> right
[00:09:45] <carter> wycats_: been a bit buried, will email you tha tthing soon
[00:09:56] <dbaupp> sfackler: but if we had no namespacing then we would need the infrastructure
[00:10:02] <sfackler> sure
[00:10:03] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:10:09] <dbaupp> bascule: very nice :)
[00:10:13] *** Quits: awidegre1n (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[00:10:15] <sfackler> the infrastructure would be like 10 lines of code though :P
[00:10:21] <dbaupp> complicated stuff
[00:10:45] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:10:51] <bascule> dbaupp: :D
[00:11:43] <bascule> the line numbers are all jacked
[00:11:46] <bascule> that'd be nice to fix
[00:12:38] <dbaupp> is that a problem with rustc or irust?
[00:12:49] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[00:12:57] <bascule> mainly irust
[00:13:22] <bascule> I don't think rustc was intended to be wired up to a repl ;)
[00:13:26] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[00:13:37] <bascule> needs more JIT
[00:13:55] <dbaupp> we used to have a repl that used the LLVM JIT
[00:14:05] <dbaupp> it enjoyed segfaulting
[00:14:09] <bascule> I should rewrite irust in Rust
[00:14:18] *** Quits: swgillespie (swgillespi@moz-D461B92C.dynamic.ip.windstream.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[00:14:21] <carter> dbaupp: using JIT or MCJIT?
[00:14:37] <carter> i gather mcjit is nicer
[00:14:38] <carter> ...
[00:15:11] *** Joins: lenstr (lenstr@801F0789.9636F313.7A27613B.IP)
[00:15:28] <Luqman> carter: mcjit afaik
[00:15:32] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:15:33] <thiez> dbaupp: you said rust compiled fine on your (debian) system, I was curious, which libc are you using? 'ldd --version' gives me (Debian EGLIBC 2.13-38) 2.13
[00:15:34] <carter> huh
[00:15:56] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:17:00] *** Quits: lenstr (lenstr@801F0789.9636F313.7A27613B.IP) (Ping timeout)
[00:17:45] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:18:05] <Tobba> which reminds me
[00:18:11] *** Quits: nkoep (nik@moz-6E359780.pool.mediaways.net) (Client exited)
[00:18:13] <Tobba> is there any proper reason there cant be a windows build which doesnt suck
[00:18:16] <Luqman> thiez: i think 2.17 works
[00:18:23] <Luqman> so testing?
[00:19:39] <thiez> there's already a PR with a revert, so there isn't much use trying to get to the bottom of this, I'm just satisfying my curiousity :p
[00:20:22] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[00:21:08] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:22:56] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:23:17] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[00:24:05] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[00:24:06] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[00:25:13] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[00:26:09] *** Quits: mhr (mhr@moz-453998C8.dsl.bell.ca) (Ping timeout)
[00:26:19] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:26:30] *** Quits: kngl1 (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[00:26:37] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[00:27:27] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[00:27:59] *** Quits: KindOne (KindOne@moz-177405ED.dynamic.ip.windstream.net) (Ping timeout)
[00:28:04] *** Joins: zmthy (Tim@moz-EAA7EAA8.dsl.dyn.ihug.co.nz)
[00:28:05] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[00:28:23] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Ping timeout)
[00:28:37] *** Quits: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net) (Quit: maxli)
[00:28:40] *** Joins: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net)
[00:28:52] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[00:28:52] <mitsuhiko> wtf borrow checker
[00:29:01] *** Quits: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com) (Quit: ZNC - http://znc.sourceforge.net)
[00:29:13] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:29:23] *** Joins: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com)
[00:29:36] <mitsuhiko> https://gist.github.com/mitsuhiko/8276168
[00:29:46] <mitsuhiko> wtf is it doing. comment line 9 or line 10 and it works
[00:29:48] <mitsuhiko> that makes no sense
[00:32:09] *** Joins: KindOne (KindOne@moz-177405ED.dynamic.ip.windstream.net)
[00:32:31] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:34:15] <alan_andrade> @brson https://github.com/mozilla/rust/pull/11106 bot please ?
[00:34:59] *** Quits: mleise (marco@moz-850E56A9.pools.arcor-ip.net) (Quit: Leaving.)
[00:35:12] *** Quits: Skrylar_ (Skrylar@moz-F692F728.austin.res.rr.com) (Ping timeout)
[00:35:13] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[00:35:15] *** Joins: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com)
[00:37:22] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[00:37:25] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:40:28] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:41:33] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:42:53] *** Quits: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net) (Ping timeout)
[00:42:55] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[00:43:11] *** kimundi is now known as zz_kimundi
[00:43:42] <herrwolfe45> hi - I'm having a bit of trouble figuring out how to use std::iter::zip with a zipped list. My current code looks like this: https://gist.github.com/derwolfe/a8ab042a18add6974396
[00:44:34] <herrwolfe45> the trouble i'm having is the compiler is telling me there is no .iter() method on the zipped list
[00:45:13] <sfackler> herrwolfe45: delete ".iter()" on line 6
[00:45:48] <thiez> mitsuhiko: I think you can tell the compile that all the strings are &'static
[00:46:28] <mitsuhiko> thiez: why would one extend work, but the other one not?
[00:46:55] <thiez> perhaps because rustc aborts due to previous error? ;)
[00:46:58] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[00:47:02] <herrwolfe45> thanks sfackler 
[00:47:10] <mitsuhiko> thiez: what do you mean?
[00:47:25] <thiez> does it work when you comment out the first extend?
[00:47:32] <mitsuhiko> it works if i comment out either extend
[00:47:38] <mitsuhiko> but if both are one it fails to compile with that error
[00:47:56] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:48:21] <thiez> the borrow checker looks at the function in isolation, and concludes that it cannot assume that the strings inside 'keys' and inside 'args' have the same lifetime :)
[00:49:23] <thiez> try with this function sig: fn wtf<'a>(keys: &[&'a str], args: &[CmdArg<'a>])
[00:49:26] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[00:49:36] <mitsuhiko> i see
[00:49:59] <mitsuhiko> \o/
[00:50:08] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Input/output error)
[00:50:20] <thiez> it's a bit silly in this case because all_args never leaves the function so it *should* know that all the borrowed pointers are valid for the entire function duration
[00:50:48] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[00:51:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:51:10] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:52:25] <thiez> nmatsakis: is the above a known problem? (https://gist.github.com/mitsuhiko/8276168) borrow checker should be able to infer the code is valid because 'keys' and 'args' are valid for the function body, and all_args does not outlive the function.
[00:52:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:52:52] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[00:52:55] <thiez> mitsuhiko: I assume it works now?
[00:53:22] <mitsuhiko> yes!
[00:53:50] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:54:03] <mitsuhiko> thanks :)
[00:54:54] *** Joins: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP)
[00:54:57] <ercxx> Why is the compiler messing with me: `There are not many persons who know that wonders are...`
[00:55:12] <thiez> np, feeling like a mighty wizard after satisfying the borrow checker is its own reward ;)
[00:55:38] *** Joins: piterparker (Mibbit@FABCCAAF.19441885.AE02ECA4.IP)
[00:55:45] <thiez> ercxx: you made it crash in an interesting way, I assume.
[00:56:20] <thiez> there is some prose hidden in there for the more "interesting" crashes.
[00:56:23] <ercxx> It should be a simple recursion gone wild.
[00:56:30] <ercxx> nothing fancy
[00:56:32] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[00:56:37] *** Quits: gkostyanikov (gkostyanik@2FB2166B.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:56:48] *** Quits: piterparker (Mibbit@FABCCAAF.19441885.AE02ECA4.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:56:59] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[00:57:02] <dbaupp> thiez: (Debian EGLIBC 2.17-97) 2.17 as Luqman says
[00:58:42] <thiez> strange that my debian is using an older one.
[00:59:00] <herrwolfe45> when working with an iterator using zip, are the elements referenced only by using &0 and &1?
[00:59:35] <dbaupp> thiez: I'm on testing or unstable or whatever
[00:59:37] * dbaupp checks
[00:59:50] <dbaupp> unstable
[01:00:07] <dbaupp> herrwolfe45: what do you mean?
[01:00:20] <herrwolfe45> dbaupp: here is the gist, https://gist.github.com/derwolfe/a8ab042a18add6974396
[01:00:21] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[01:00:32] *** Quits: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[01:00:39] <dbaupp> rusti: &0 ^ &1
[01:00:43] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[01:00:44] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Input/output error)
[01:00:45] -rusti- pastebinned 40 lines of output: http://ix.io/9HU
[01:00:49] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: adridu59)
[01:00:52] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[01:01:08] <thiez> 40 lines of output? longest error message for a 5 character input record? :D
[01:01:09] <dbaupp> herrwolfe45: that is just trying to xor 0 and 1
[01:01:16] <herrwolfe45> yes
[01:01:16] <dbaupp> thiez: integer inference \o/
[01:01:29] <dbaupp> not the arguments from the iterator
[01:01:32] <herrwolfe45> ooh
[01:01:50] <dbaupp> you get them from the pattern in `for <pattern> in iter`
[01:02:44] <dbaupp> rusti: let msg = [0u8, 1, 2, 3]; let key = [100u8, 101, 102, 103]; for (&m, &k) in msg.iter().zip(key.iter()) { print!("{} ", m ^ k) }
[01:02:45] -rusti- 100 100 100 100 ()
[01:02:59] <dbaupp> rusti: let msg = [0u8, 1, 2, 3]; let key = [113u8, 112, 111, 110]; for (&m, &k) in msg.iter().zip(key.iter()) { print!("{} ", m ^ k) }
[01:03:00] -rusti- 113 113 109 109 ()
[01:03:06] <dbaupp> or whatever
[01:03:08] <herrwolfe45> thank you, I thought i must have been doing it incorrectly
[01:03:29] <dbaupp> rusti: let msg = [0u8, 1, 2, 3]; let key = [113u8, 112, 111, 110]; msg.iter().zip(key.iter()).map(|(&m, &k)| m ^ k).to_owned_vec()
[01:03:30] -rusti- ~[113u8, 113u8, 109u8, 109u8]
[01:03:38] <dbaupp> (that's how I'd do that.)
[01:04:42] <thiez> dbaupp is totally one-lining this shit
[01:04:49] <thiez> code-golf ftw
[01:05:05] <herrwolfe45> thanks for the tip that is certainly shorter than how I'm handling it
[01:05:18] <dbaupp> there's lots of nice methods on iterators :)
[01:05:29] <thiez> herrwolfe45: did you know you can omit the 'return' when you leave out the last semicolon?
[01:06:06] <thiez> rusti: fn foo() -> int { return 5; } fn bar() -> int { 5 } (foo(),bar())
[01:06:07] -rusti- (5, 5)
[01:07:17] <herrwolfe45> thiez: I had heard about it, but hadn't tried it out
[01:07:24] *** Quits: heftig (heftig@moz-8A43D4F9.dip0.t-ipconnect.de) (Ping timeout)
[01:08:25] <dbaupp> <3 implicit returns
[01:08:35] <thiez> you can still use return if you like, but as far as I'm aware omitting it considered more idiomatic.
[01:08:41] <thiez> yes I love them too.
[01:09:03] *** Joins: swgillespie (swgillespi@moz-D461B92C.dynamic.ip.windstream.net)
[01:09:13] <thiez> it even works with 'if/else' or 'match' :)
[01:09:15] *** Joins: lenstr (lenstr@801F0789.9636F313.7A27613B.IP)
[01:09:48] <thiez> rusti: fn foo(i: int) -> int { if i == 0 { 1 } else { 0 } } (foo(0),foo(1))
[01:09:49] -rusti- (1, 0)
[01:10:10] *** Joins: heftig (heftig@moz-C7FB5085.dip0.t-ipconnect.de)
[01:10:23] <thiez> I think most instances of 'return' in the rust std-lib are in the comments :D
[01:11:06] *** Quits: lenstr (lenstr@801F0789.9636F313.7A27613B.IP) (Ping timeout)
[01:11:06] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[01:11:47] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:12:09] <dbaupp> and code like `let mut variable = ...; ... initialise variable ...; return variable;` because some people (validly) think that just putting a plain old `variable` at the end looks strange
[01:12:40] <dbaupp> Personally, I'm happy just using implicit returns for everything except shortcircuiting though.
[01:13:06] *** Joins: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[01:13:51] <herrwolfe45> It does seem helpful to cut back on having needlessly created variables like that.
[01:14:22] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Ping timeout)
[01:17:50] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[01:24:04] <magg> i'm getting this error: task <unnamed> failed at 'called `Result::unwrap()` on `Err` value: Invalid input length'
[01:24:18] <magg> while doing this: let bytes = res.from_hex().unwrap();
[01:24:55] <aatch> magg, well then the input (res) is the wrong length.
[01:25:07] <aatch> presumably, it's an odd number of characters
[01:25:45] <magg> aatch: it has to be an even number?
[01:25:51] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[01:26:23] <Twisol> A byte requires two hexits to be properly represented
[01:26:56] <magg> ok
[01:27:30] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[01:28:09] <aatch> It's hexadecimal-encoded data, not a base-16 number.
[01:28:30] <aatch> So a string with (say) 7 characters is 3.5 bytes
[01:28:32] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Client exited)
[01:29:06] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[01:31:51] <dmz> why is this wrong: std::cell::RefMut<~[~str]>
[01:32:00] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Connection reset by peer)
[01:32:01] <dmz> error: wrong number of lifetime parameters: expected 1 but found 0
[01:32:02] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[01:32:18] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[01:32:27] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[01:32:53] <cmr> dmz: look at RefMut's definition.
[01:33:07] *** Quits: espadrine (Thunderbir@moz-BB3A80FC.w90-2.abo.wanadoo.fr) (Ping timeout)
[01:33:09] <cmr> dmz: RefMut is mostly for internal use by RefCell; why are you using it?
[01:33:25] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[01:34:01] <dmz> cmr: bang! I used it accidentally instead of RefCell, my bad ;)
[01:34:11] <swgillespie> I'm getting a linker error at stage1 while compiling most recent rust, ld is looking for LLVMRust* functions but can't find them. Anybody had this issue? 
[01:34:21] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[01:34:21] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:34:27] <cmr> swgillespie: make clean
[01:34:28] <swgillespie> "You've met with a terrible fate, haven't you?" :p
[01:34:34] <cmr> swgillespie: if that fails, make clean-llvm
[01:35:01] <swgillespie> okay, thanks.
[01:35:06] <swgillespie> I'll see if that does the trick
[01:36:07] <dmz> err.... I missed the whole discussion on the "single-field tuple-structs can no longer be dereferenced", and now it hit me :(
[01:36:32] <cmr> let StructName(fieldname) = val;
[01:36:44] <aatch> Aww, I kinda like that. Oh well, not the end of the world.
[01:36:47] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[01:36:54] <SiegeLord> Add a get() method until the deref trait is created
[01:36:54] <dbaupp> looks like it's back to named fields
[01:37:59] <dmz> cmr: thanks, that works for me
[01:38:29] <cmr> dbaupp: nah the fieldname is just positional for tuple structs, just like matching on tuples.
[01:38:33] <aatch> dbaupp, bit of a waste for newtype-structs though. Still, getting the value out is normally an internal thing so, meg
[01:38:53] <aatch> meh*
[01:38:56] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[01:39:27] <dbaupp> I just mean `let Name(x) = *self` is a lot lot worse than **self or self.x
[01:39:36] <cmr> ah
[01:39:43] <cmr> yeah
[01:40:48] <thiez> so I assume plans are to capture most of the pointer-behaviour in traits?
[01:41:16] <thiez> will we get a borrow in addition to deref?
[01:41:44] <dbaupp> the deref trait will be implemented as a borrow
[01:41:45] <thiez> eh, never mind that, silly question.
[01:41:55] <dbaupp> i.e. PtrType -> &'a T
[01:42:05] <thiez> ah, that's excellent
[01:42:36] <thiez> so that would also allow autoborrow to work on custom pointer types, yes?
[01:42:46] <cmr> according to DST pt 5, yes.
[01:43:06] <cmr> http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[01:43:21] <dbaupp> cmr: /pt/take/, how could you lie to us like that?!?
[01:43:27] <cmr> sorry :(
[01:43:35] <cmr> it's really take 1 part 2 :P
[01:44:06] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[01:44:07] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[01:44:32] <herrwolfe45> hey dbaupp - one last question about that bytes code you helped me with earlier. I've been able to get the  following to work: https://gist.github.com/derwolfe/a8ab042a18add6974396, but the shorter version you provided is throwing a delimiter error that I haven't been able to figure out. 
[01:44:36] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:45:48] <dbaupp> herrwolfe45: you're missing the opening ( in the closure
[01:45:49] <thiez> herrwolfe45: the second error is pointing right at the problem
[01:46:06] <glaebhoerl> I've been thinking it would be neat if tuple fields could be accessed by their index as `foo.0`, `foo.1`, etc., which would bring tuples into alignment with structs in terms of features
[01:46:12] <dbaupp> that is it's matching on a tuple as the closure argument, so it should be |(x,y)|
[01:46:14] <glaebhoerl> are there any obvious problems with that?
[01:46:32] <dbaupp> (well, `|(&m, &k)|`.)
[01:46:45] <dmz> Is there a shallow Eq for RefCell? I just want to check if two are pointing to the same object...
[01:46:46] <aatch> glaebhoerl, screws with the syntax.
[01:46:58] <SiegeLord> glaebhoerl: There are methods like that pre-defined already
[01:47:20] <SiegeLord> If it were added, I'd prefer a swizzling syntax personally
[01:47:36] <glaebhoerl> SiegeLord: I know, but (a) they're much longer, (b) the borrow checker doesn't have knowledge of them like it does of fields
[01:48:24] *** Quits: magg (magg@5403937D.BE86B7D4.3D0AE249.IP) (Client exited)
[01:48:30] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[01:48:45] <dbaupp> dmz: RefCell isn't a pointer
[01:48:56] <dbaupp> (fwiw)
[01:48:58] <dmz> oh wait... is gc::Gc<cell::RefMut<X>> is the new @mut X ???
[01:49:17] <cmr> not RefMut, RefCell.
[01:49:37] <dmz> cmr: so gc::Gc<cell:RefCell<X>> then? it seems huge
[01:49:45] <dbaupp> dmz: yes... do you want shallow equality of the Gc
[01:49:49] <dbaupp> .. pointers?
[01:49:56] <cmr> well you'd usally use imports :) Gc<RefCell<T>>
[01:50:10] <cmr> can also use Cell for POD types.
[01:50:12] <glaebhoerl> aatch: in what way? if it's restricted to integer literals (and it should be!) I don't see any risk of ambiguity
[01:50:28] <herrwolfe45> thanks thiez, dbaupp 
[01:50:34] <FreeFull> Maybe if Rust had a library that would be equivalent to Haskell's lens, that'd be nice
[01:50:35] <dmz> dbaupp: I don't see ptr_eq in gc::Gc...
[01:50:46] <cmr> dmz: use ==
[01:50:51] <dbaupp> dmz: I guess it's not implemented yet. But that is what you want, right?
[01:50:57] <dbaupp> cmr: that's not shallow
[01:51:12] <cmr> gah, also unimplemented.
[01:51:14] <dbaupp> dmz: feel free to submit a PR adding a ptr_eq method to Gc :)
[01:51:18] <cmr> dbaupp: it easily could be.
[01:51:25] <dbaupp> cmr: but that wouldn't be correct
[01:51:26] <dmz> I used managed::mut_ptr_eq before
[01:51:34] <cmr> dbaupp: for what?
[01:51:50] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:51:59] <dbaupp> cmr: let x = Gc::new(1); let y = Gc::new(1); x == y // shallow equality doesn't work
[01:52:00] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[01:52:20] <dmz> as expected....
[01:52:22] <cmr> ah yes, I always forget about that part :p
[01:52:38] <dbaupp> it could short-circuit I guess (if we have a requirement that == is reflexive, which would be quite reasonable).
[01:52:55] <cmr> I've had this exact conversation before
[01:53:02] <cmr> my poor memory :(
[01:53:11] <dbaupp> http://downloadmoreram.com/
[01:53:25] <cmr> ohh, thanks!
[01:53:32] * cmr uploads directly to forehead
[01:53:41] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:53:46] <glaebhoerl> (is this the Eq vs. TotalEq distinction, or just related?)
[01:53:56] <thiez> the short-circuit could be added easily to Eq in libstd/borrow.rs, could it not?
[01:54:02] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:54:05] <aatch> glaebhoerl, no, it's equal vs. same
[01:54:18] <aatch> are they the same object, or just the same value?
[01:54:33] <dbaupp> it wouldn't work for the current Eq, since if let x = NaN; then x != x
[01:54:41] <glaebhoerl> aatch: I meant "if we have a requirement that == is reflexive"
[01:54:42] <thiez> ah, nasty
[01:54:43] <aatch> Though I guess that is related to Eq/TotalEq, but for different reasons.
[01:54:52] * thiez curses NaN.
[01:55:08] <dbaupp> (as glaebhoerl points out, it's very closely related to Eq and TotalEq.)
[01:56:27] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:56:31] *** Joins: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[01:57:08] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[01:59:08] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[01:59:52] *** Joins: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net)
[02:00:23] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:00:55] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[02:01:54] *** Joins: pepper_chico (pepper_chi@E4B89D8C.3C9EA51F.F546FA5F.IP)
[02:03:18] *** Joins: lenstr (lenstr@801F0789.9636F313.7A27613B.IP)
[02:04:27] <dmz> oh god... now instead of x.var I need to type x.borrow().borrow().get().var ???
[02:05:01] <dmz> first borrow for the rc::Rc, second for the RefCell, then get() for the Ref
[02:05:02] *** Quits: lenstr (lenstr@801F0789.9636F313.7A27613B.IP) (Ping timeout)
[02:05:23] <dmz> is it supposed to be this complicated now?
[02:05:27] <cmr> we don't use the rc:: prefix most of the time.
[02:05:29] <cmr> Yes, it is.
[02:05:39] <cmr> It will get better once pointer sugar is added.
[02:06:02] <dbaupp> dmz: you may also need a temporary to call .get() on
[02:06:02] <dmz> is it planned for 0.9?
[02:06:05] <dbaupp> (maybe not)
[02:06:07] <Yurume> cmr: isn't it that niko's DST proposal also mentions ImmDeref?
[02:06:17] <Yurume> (though it wouldn't be in 0.9, I know)
[02:06:18] <dbaupp> dmz: 0.9 is very very soon, so unlikely
[02:06:31] <cmr> Yurume: yes but it's mostly orthogonal to DST
[02:06:37] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:06:59] <tiffany> that's a pretty big thing to be lacking for a full release
[02:07:00] <Yurume> cmr: right, the only part of it relevant to DST is that its generic parameter should be unsized.
[02:07:08] <tiffany> is pointer sugar that hard?
[02:07:11] <dbaupp> tiffany: our 0.x releases aren't full releases
[02:07:21] <Yurume> tiffany: consider them to be a named snapshot.
[02:07:22] <dbaupp> just snapshots of master, with no support at all
[02:07:23] <tiffany> dbaupp: but they happen pretty infrequently
[02:07:23] *** Quits: swgillespie (swgillespi@moz-D461B92C.dynamic.ip.windstream.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[02:07:26] <Yurume> named snapshots*
[02:07:31] <cmr> 3 months, almost on the dot.
[02:07:46] <dbaupp> modulo rel-eng problems
[02:07:52] <tiffany> I wouldn't want to be stuck with .borrow().borrow().get() for 3 months
[02:08:01] <cmr> then don't use 0.9?
[02:08:05] <cmr> releases are unsupported
[02:08:28] <glaebhoerl> what's the purpose of releases?
[02:08:41] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[02:08:42] <dbaupp> to remind the world that Rust exists?
[02:08:49] * dbaupp doesn't know the history
[02:08:51] <cmr> glaebhoerl: PR, feeling of progress, development milestones.
[02:09:05] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[02:09:12] <achin> monotonically increasing numbers \o/
[02:09:28] *** Quits: hoopsnake (zac@moz-12CDD1F8.hsd1.wa.comcast.net) (Quit: leaving)
[02:09:37] * glaebhoerl likes achin's theory
[02:09:45] <Yurume> in that sense I advocate monthly snapshot releases if it wouldn't make rel-eng complicated
[02:09:55] <cmr> nightlies are planned.
[02:10:25] <Yurume> releases are named nightlies and nothing else. should them be distinguished to each other?
[02:10:28] <tiffany> it's not much of a development milestone if it's picked so arbitrarily
[02:10:34] *** Parts: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com) (ERC Version 5.3 (IRC client for Emacs))
[02:10:38] <cmr> tiffany: it's not arbitrary, it's every 3 months.
[02:11:08] <tiffany> do you have a development milestone precisely every 3 months though?
[02:11:16] <cmr> yes, we call them releases ;p
[02:11:21] <tiffany> sorry if I seem really annoyed by this, the current system of releases doesn't seem very meaningful
[02:11:35] <cmr> it isn't meaningful, that's kinda the point.
[02:12:11] <depp> if you're using Rust today, you accept that things are missing, and your code will break, that's the price of working with pre-release software
[02:12:29] <cmr> https://github.com/mozilla/rust/blob/master/RELEASES.txt is already updated for 0.9 fwiw
[02:13:14] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[02:13:25] <achin> :D
[02:13:34] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[02:13:52] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[02:15:23] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[02:15:43] *** Joins: dg (dg@moz-AF6F3E94.com)
[02:16:07] <depp> surprised that the switch from segmented stacks is not more prominent in the list, it's buried in another item
[02:16:43] <cmr> depp: it's not really important, and we haven't had segmented stacks since... 0.8? maybe 0.7
[02:16:52] <cmr> they were never reimplemented in newrt
[02:16:58] <depp> ah, guess I haven't been keeping up
[02:17:02] <dmz> octal literals make me happy
[02:17:09] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:17:27] <dg> would anyone be willing to take a look at this sample with error and help me figure out my way around typing? http://pastebin.com/raw.php?i=nPWTaiiV 
[02:17:53] <Yurume> dg: it cannot infer the necessary types.
[02:18:18] <cmr> dg: what type is .collect returning? it's 100% unconstrained.
[02:18:43] *** Quits: jhasse (jhass_000@moz-AF29DD76.dip0.t-ipconnect.de) (Quit: Verlassend)
[02:18:48] <cmr> if you want to exhaust the iterator, use a for loop, not collect :)
[02:18:59] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[02:19:07] <dg> ahhh, that's probably what's causing it
[02:19:09] <Yurume> dg: collect() can return any container (not necessarily a vector of... units?) 
[02:19:23] <aatch> Yurume, elements
[02:19:33] <Yurume> so at the least you should make the type of the whole expression explicit
[02:19:50] <Yurume> but as cmr suggested you are supposed to use a for loop in that case :)
[02:19:53] <dg> i'm trying to recreate a "cannot move out of dereference of & pointer" problem that i'm having
[02:20:00] <dg> so i'll come up with something more appropriate
[02:21:04] <thiez> we have octal literals now?
[02:21:28] <Yurume> yes!
[02:21:34] <Yurume> rusti: 0o1234
[02:21:36] -rusti- pastebinned 6 lines of output: http://ix.io/9I5
[02:21:50] <Yurume> though rusti hasn't updated to date
[02:21:50] <cmr> rusti: version
[02:21:51] -rusti- "rustc 0.9-pre (61f8c05 2013-10-24 13:01:18 -0700)"
[02:21:55] <cmr> still old
[02:22:10] <thiez> Has strcat been busy?
[02:22:40] <thiez> it's his toy, right?
[02:22:43] * thiez pets rusti.
[02:22:46] <thiez> best bot ever.
[02:22:54] <cmr> rusti: botsnack
[02:22:59] -rusti- pastebinned 7 lines of output: http://ix.io/9I6
[02:23:11] <cmr> I feel like that used to be implemented :p
[02:23:11] <klutzy> what's the issue blocking rusti upgrade?
[02:23:20] <cmr> uv io is broken with the container/sandbox setup.
[02:23:22] <thiez> it used to be implemented.
[02:23:26] <aatch> thiez, no, libuv does something strange and makes it deadlock
[02:23:33] <thiez> ah, that is a shame.
[02:24:08] <sfackler> doesn't libnative have enough IO now to link against that?
[02:24:11] <cmr> I went to look into it at some point but couldn't get a good debugging setup and gave up to watch movies.
[02:24:23] <cmr> sfackler: it does, yes.
[02:24:46] <aatch> But that's super recent and it's been Christmas time.
[02:24:50] <depp> what's an idiomatic way to define a non-virtual method on a trait?  Do I put it on the trait or make a separate trait?
[02:25:06] <aatch> depp, what do you mean?
[02:25:08] <cmr> depp: all methods are non-virtual.
[02:25:17] <aatch> cmr, that's not strictly true.
[02:25:22] <depp> okay, one without ad-hoc polymorphism
[02:25:25] <cmr> depp: you only get virtual dispatch if you use trait objects (as opposed to generics)
[02:25:30] <aatch> methods on trait objects are virtual.
[02:25:55] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[02:26:07] <aatch> depp, do you mean proving an implementation for a method in a trait?
[02:26:14] <depp> yes
[02:26:24] <cmr> aatch: isn't that a property of the method calls, rather than of the methods themselves?
[02:26:33] <aatch> well then you just do that.
[02:27:00] <depp> well I could put it on a separate trait, and provide an implementation for that trait which only requires the first trait
[02:27:08] <aatch> cmr, technically yes, but that's getting into a realm where you also argue method calls == function calls.
[02:27:12] <aatch> Which is also true.
[02:27:54] <sfackler> depp: the standard library does it with default methods e.g. Reader, Writer, Iterator
[02:27:55] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[02:28:00] <sfackler> as opposed to a separate trait with an impl
[02:28:06] <aatch> It being virtual only means that the *actual* method isn't known to runtime.
[02:28:47] <sfackler> (which I'm not sure I agree with, though it is nice to not have to import ReaderConversionUtils or whatever it was)
[02:28:55] <aatch> you don't really define virtual methods in rust, not the same way you would in C++ because we don't have the same kind of subtyping.
[02:28:58] <depp> okay, cool.  I just prefer to specify functions as having parametric polymorphism when there is no good reason for ad-hoc polymorphism
[02:29:26] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:29:48] <dg> all right, this is a better example of the dereferencing problem I've been having: http://pastebin.com/raw.php?i=pTZxg9ST
[02:29:52] <aatch> If you have a trait object, then the calls are via a vtable, otherwise they're just direct calls.
[02:30:15] <cmr> depp: do you have a concrete example here?
[02:30:16] <sfackler> dg: try &(ref a, ref b)
[02:30:16] <aatch> dg, a and b are owned types
[02:30:58] <aatch> &(ref a, b) should also work, since 'b' is just an int
[02:31:07] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[02:31:07] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:31:51] <dg> awesome, thanks a bunch for the help!
[02:32:03] <depp> cmr: Yes.  Module is a trait for objects which process audio and produce audio output.  There is one method.   I wish to add a convenience method, "iter()" to iterate over the output.
[02:32:45] <dg> is there a way to pass 'a' into Output without cloning, since it's an owned type?
[02:32:45] <cmr> Well I meant code-wise. But it sounds like what sfackler said with default methods is best.
[02:32:52] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[02:32:58] <thiez> dg: only if you're prepared to destroy 'args'
[02:33:28] *** Joins: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[02:33:37] <aatch> Or make Output hold a reference.
[02:33:50] <dg> thiez: probably not, but what would that look like?
[02:34:04] <depp> That works.  I just think it's interesting that methods can either be concrete or ad-hoc, but not parametric.
[02:34:17] <dg> aatch: that's probably what I should do.
[02:34:25] <aatch> depp, I'm not sure what you mean by that.
[02:34:28] <cmr> depp: what do you mean by that, exactly?
[02:34:54] <depp> You can define non-polymorphic methods by providing an impl for a struct, for example.
[02:34:54] <aatch> Because a default impl of method in a trait is technically parameterized over the trait it's in.
[02:35:04] <Yurume> depp: are you writing some kind of DSPs?
[02:35:18] <aatch> And you can also add extra type parameters.
[02:35:19] <depp> You can define methods with ad-hoc polymorphism by providing an impl for a trait.
[02:35:27] <cmr> fn foo<T: Module>(x: &T) { ... x.iter() ... }
[02:35:47] <thiez> dg: you'd replace 'iter()' by '.move_iter()', and change &(ref a, b) to (a, b)
[02:35:49] <aatch> depp, I think you might be over-thinking things.
[02:35:52] <thiez> or something along those lines.
[02:36:00] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[02:36:29] <depp> aatch: I come from Haskell-land, where all functions have the same syntax, no matter what kind of polymorphism they have.
[02:36:31] <thiez> of course you'd have to swap out the args first
[02:36:39] <depp> aatch: So I am just getting used to Rust, that's all.
[02:36:58] <aatch> ad-hoc vs parametric polymorphism is normally just whether you know the concrete type at runtime or compile time.
[02:37:04] <thiez> dg: just ignore my suggestion, it's not that interesting.
[02:37:29] <depp> aatch: that's wrong
[02:37:33] <dg> thiez: noted :) I'll have to go through and read the iterator docs so I have a better handle on them.
[02:37:40] <aatch> depp, in what way?
[02:38:00] <depp> aatch: neither kind of polymorphism requires knowing the type at runtime
[02:38:06] <depp> *er compile time
[02:38:27] *** Joins: sellout (Adium@moz-76D71F1A.hlrn.qwest.net)
[02:38:28] <Yurume> dg: if you want to make Output without cloning ~str, then you should move them from `args`, meaning that you should pledge to the compiler that you won't use `args` from that point.
[02:38:52] <depp> Yurume: Yes, a simple synthesizer toy.
[02:39:27] <Yurume> there are some ways to do that, but if `Cont` is intended to be temporary, then your best bet is to make `do_work` destructure `self` (i.e. `fn do_work(self)`) and use `move_iter()`.
[02:39:51] <dbaupp> How does one fix an problems with git submodules? https://github.com/mozilla/rust/pull/11106/files#r8658258
[02:40:01] <dbaupp> s/an/
[02:40:11] <Yurume> (other ways include: move `args` from `self` and fill `self.args` with something else, so you can freely destructure `args` then. requires `&mut self` signature though.)
[02:40:11] <aatch> depp, I'm still not sure what you mean then.
[02:40:15] <dbaupp> bleh, language.
[02:40:31] <cmr> dbaupp: git checkout HEAD~~~ -- src/gyp src/llvm; git submodule update
[02:40:40] <cmr> </3 submodules
[02:40:58] <depp> aatch: A function with parametric polymorphism is one which does not have a different implementation for different parameter types.
[02:41:14] *** Joins: mib_3w286q (Mibbit@moz-38276AA6.guam.net)
[02:41:15] <depp> aatch: Ad-hock polymorphism is one which does have a different implementation.
[02:41:23] <dbaupp> alan_andrade: ^ what cmr said
[02:43:25] <alan_andrade> @dbaupp oh wow, thank you very much.
[02:43:26] <dg> Yurume: I'll play around with moving args, I think that'll be best in the long run. Thanks for the suggestions! 
[02:43:27] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[02:43:56] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[02:44:37] <aatch> Ok, well I'm not sure what you meant by "I just think it's interesting that methods can either be concrete or ad-hoc, but not parametric." then, since parametric function must, by definition, have an implementation.
[02:45:14] <depp> Right, and methods that you call have an implementation too.
[02:45:55] <aatch> depp, yes, but I'm not sure what the difference between "concrete" and "parametric" is. Since you can just say a concrete method/function has no arguments.
[02:46:06] <aatch> no type parameters i mean
[02:46:12] <depp> aatch: concrete == non-polymorphic is what I mean
[02:46:36] <cmr> do you mean impl<T> Type { fn foo(..) { .. } } ?
[02:47:01] <aatch> but a default method on a trait is polymorphic, it has an implicit type parameter bounded by the trait you are implementing it in.
[02:47:21] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[02:47:27] <depp> aatch: right, but you can override it, making it ad-hoc
[02:47:29] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[02:47:36] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[02:47:57] <depp> cmr: in that case, fn has parametric polymorphism, and it has one type parameter T
[02:48:06] <aatch> depp, yes, but that's just nitpicking.
[02:48:41] <depp> aatch: I think you are overestimating how much I am concerned about this.
[02:48:57] <aatch> probably
[02:49:01] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[02:49:04] <dbaupp> alan_andrade: thanks
[02:49:12] <depp> aatch: I just found the restriction somewhat surprising.
[02:49:53] <aatch> I just find that Haskellers normally seem to see HM type inference and expect the full power of Haskell's system to be available.
[02:50:12] <depp> aatch: Like I said, I'm getting used to Rust and I'm figuring it out.
[02:50:33] <aatch> depp, I probably jumped the gun a little.
[02:50:44] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[02:51:05] <depp> aatch: And this is not a complaint about the type system, since Rust has functions with parametric polymorphism, it just has the restriction that those functions can't be methods.
[02:51:25] * aatch gets annoyed at people complaining that Rust isn't more like <insert pet language here>
[02:51:35] <aatch> Not that I'm accusing you of that.
[02:52:24] <depp> It's hard to express tone in chat.
[02:52:30] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:52:33] *** Joins: Soler (Soler@moz-93EA8A7.lightspeed.mssnks.sbcglobal.net)
[02:53:36] <Soler> anyone run into error: linking with `cc` failed: exit code: 1 when making rust?
[02:53:41] <depp> Given Rust's age, I think most Rust users will have a favorite language which != Rust.  I think people stopped complaining about Python's whitespace after fifteen or twenty years...
[02:53:48] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[02:54:08] *** Joins: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net)
[02:54:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:54:24] <bascule> Rust isn't actually HM
[02:54:37] <depp> heh, don't I know it :-)
[02:54:55] <cmr> depp: well we extended HM with region subtyping.
[02:55:11] <cmr> other than that it should be "real" HM...
[02:55:17] <aatch> I don't mind about people having a favorite language that isn't Rust, I mind about people complaining that rust isn't that language.
[02:55:36] <bstrie> depp: nah, people haven't stopped complaining about python's whitespace :P
[02:55:37] * depp nods
[02:55:50] <depp> bstrie: People stopped making as many blog posts about it.
[02:56:04] <aatch> I still complain about python's whitespace.
[02:56:32] <pyon> Why would Python's whitespace bother anyone who is not writing parsers? (such as the vast majority of programmers)
[02:56:42] <aatch> and I will continue to do so as long as white-space sensitivity is a thing
[02:56:43] <cmr> pyon: because they're silly
[02:56:49] <cmr> aatch: hear that? silly!
[02:56:51] <depp> pyon: Everything bothers someone.
[02:56:56] <SiegeLord> The human parser can still be tripped up by it :P
[02:57:05] <aatch> I don't like it because it makes it harder to read.
[02:57:09] <SiegeLord> Everbody writes a parser when they learn a new language ;)
[02:57:15] <juszczakn> auto formatting doesnt work
[02:57:20] <juszczakn> is my main problem with it
[02:57:22] *** Joins: lenstr (lenstr@801F0789.9636F313.7A27613B.IP)
[02:57:24] <cmr> yeah I'm not a fan of it either
[02:57:25] <depp> I think "harder to read" is very subjective...
[02:57:32] <cmr> but I don't complain about it
[02:58:05] <cmr> depp: there was a very small study done on it, using eye tracking and some code comprehension quizzes, that suggests that it might not be.
[02:58:08] * pyon has lots of reasons to complain about Python (dynamically typed, screwed up scoping, screwed up lambdas that cannot capture by value, etc.) - syntax ain't one of them.
[02:58:31] <cmr> pyon: eugh I had a bug in some code the other day because the `for` variable leaked.
[02:58:43] <cmr> I get spoiled by writing 3.x and 2.x bites me in tuckus
[02:58:59] <pyon> cmr: I can feel your pain.
[02:59:09] *** Quits: lenstr (lenstr@801F0789.9636F313.7A27613B.IP) (Ping timeout)
[02:59:14] <dbaupp> \o/
[02:59:22] * dbaupp has a pure-Rust conservative GC working
[02:59:31] <cmr> dbaupp: /o\
[02:59:37] <SiegeLord> Wooohoo
[02:59:37] <pyon> Anyway, "<depp> Given Rust's age, I think most Rust users will have a favorite language which != Rust" --> Rust has managed to climb to #3 (after Haskell and SML) in less than half a year. :-)
[02:59:40] <dbaupp> cmr: ?
[02:59:58] <cmr> dbaupp: that's me covering from the explosion of reddit karma that's about to happen
[03:00:01] <cmr> :P
[03:00:01] <depp> pyon: And which college was surveyed?
[03:00:11] <SiegeLord> I wonder how fast it'll be compared to D's GC
[03:00:24] <aatch> I just find that the lack of punctuation in python makes it hard for me to read.
[03:00:26] <dbaupp> cmr: it's actually probably incorrect, since it doesn't handle CPU registers at all.
[03:00:34] <aatch> It's like one big run-on sentence.
[03:00:34] * dbaupp has to work out how to do that...
[03:00:37] <pyon> depp: Oh, I meant "#3 in my list"
[03:00:38] <cmr> dbaupp: extra-conservative
[03:00:47] <cmr> oh wait
[03:00:49] <dbaupp> cmr: never deallocate anything!
[03:00:50] <cmr> yeah
[03:01:00] * depp congratulates himself on his fantastic reading comprehension
[03:01:12] <dbaupp> aatch: you can use ; if you really want :P
[03:01:21] <fmtq> JavaScript is still obviously the most well-designed language.
[03:01:31] * depp falls over
[03:01:35] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:01:37] <fmtq> it has reached syntactical perfection.
[03:01:40] <SiegeLord> I don't like the lack of closing delimeters in Python
[03:01:41] <aatch> Troll wins!
[03:01:52] <cmr> fmtq: not only syntactical, but semantic as well.
[03:02:01] <fmtq> cmr: {} + [].
[03:02:02] <dbaupp> SiegeLord: is D's GC completely conservative too?
[03:02:05] <cmr> [] + {} is the ultimate expression of joy
[03:02:07] <SiegeLord> dbaupp: Pretty sure
[03:02:08] <cmr> heh
[03:02:21] <fmtq> it's falsy.
[03:02:22] <dbaupp> SiegeLord: stop-the-world?
[03:02:25] <depp> I did a Ludum Dare in JS once.  It was horrible.
[03:02:26] <SiegeLord> Yes
[03:02:26] <bstrie> SiegeLord: try `#fi`, `#rof`, and `#fed` for closing python scopes
[03:02:39] <aatch> ["1", "2", "3"].map(parseInt) == [1, NaN, NaN]
[03:02:39] <SiegeLord> bstrie: I used to use 'pass'
[03:02:53] <dbaupp> aatch: what?
[03:03:01] <aatch> In Javascript.
[03:03:03] <dbaupp> oh, map passes indices doesn't it
[03:03:05] <fmtq> aatch: hahaha
[03:03:11] <aatch> dbaupp, and the source array
[03:03:13] <pyon> depp: "* depp congratulates himself on his fantastic reading comprehension" -> actually, my bad, I really thought I had written "#3 in my list", but I had only written "#3"
[03:03:40] <aatch> Array.map(function (val, index, array))
[03:03:42] <fmtq> I just spent 2-3 days fixing IE8 bugs :/
[03:03:50] *** Quits: t25 (manud@moz-5D020DB4.otago.ac.nz) (Quit: t25)
[03:03:52] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[03:03:56] <dbaupp> should spend them fixing Rust bugs :P
[03:03:59] <cmr> webdev is bestdev ;(
[03:04:09] <fmtq> dbaupp: one day, one day
[03:04:30] <aatch> Clearly the industry that produces the most suicides[1] is the best ([1]: My ass)
[03:04:31] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[03:04:44] <fmtq> your ass is a suicide-prone industry?
[03:04:50] <bstrie> aatch: the way that reads it makes it seem as if your ass is the, dammit fmtq 
[03:05:06] <aatch> YES
[03:05:14] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[03:05:16] <fmtq> back in my day, ass was a banned word on IRC.
[03:05:45] <aatch> But how did you talk about donkeys?
[03:05:47] <cmr> TWiR tomorrow, I promise
[03:05:54] <Yurume> so you won't have assigning operators.
[03:06:01] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:06:11] <fmtq> when is 1.0 coming out 
[03:06:16] <Yurume> (yeah, \bass\b to be sure, but yeah)
[03:06:17] <cmr> fmtq: when it's ready
[03:06:27] <cmr> (planned before end of the year)
[03:06:30] <fmtq> how long is left on the microwave?
[03:06:50] <fmtq> actually, a serious question: any significant API mangling planned between now adn 1.0
[03:06:55] *** Quits: mib_3w286q (Mibbit@moz-38276AA6.guam.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:06:57] *** Quits: dmz (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:07:01] <fmtq> or will most things written for 0.8 require some massaging but not too much?
[03:07:04] <Yurume> "mangling" for breaking changes?
[03:07:12] <fmtq> mangling for breaking changes, yes 
[03:07:17] <cmr> 0.8 is going to be a big jump
[03:07:30] <cmr> closure reform, pointer reform, removal of @
[03:07:35] <Yurume> 0.9 is*
[03:07:47] <fmtq> oh, there will be a 0.9 before 1.0?
[03:07:53] <cmr> yes, in a week or two
[03:07:55] <fmtq> I read something a while back saying 1.0 was coming soon enough 
[03:07:59] <fmtq> okay cool
[03:08:06] <cmr> and after 0.9, 0.10 :)
[03:08:09] <SiegeLord> Soon on the scale of Rust's life to date
[03:08:17] <fmtq> it grows fast.
[03:08:20] <fmtq> it grows well.
[03:08:38] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[03:08:45] *** Quits: pepper_chico (pepper_chi@E4B89D8C.3C9EA51F.F546FA5F.IP) (Quit: Ex-Chat)
[03:09:11] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[03:10:16] <Soler> if only I could successfully build it : /
[03:10:42] <fmtq> heh, last time I built rust it was taking up more than a GB of space on my disk 
[03:10:52] <cmr> fmtq: most of that was llvm
[03:10:56] <fmtq> yes, I know
[03:11:10] <fmtq> my thoughts were basically: "oh my lawd llvm"
[03:11:14] <fmtq> and then rm -rf
[03:11:31] <fmtq> build went smooth on my mac though 
[03:11:35] <dbaupp> Soler: what's the problem?
[03:12:06] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[03:12:37] <Soler> I'm honestly not too sure as this isn't my forte. Basically when I run the Makefile I get "error: linking with `cc` failed: exit code: 1". I have tried looking it up to no avail
[03:13:01] <aatch> ls
[03:13:04] <Soler> think it has something to do linking with my llvm
[03:14:47] <dbaupp> aatch: . ..
[03:15:12] <dbaupp> Soler: have you tried running `make` twice? (that sometimes fixes things for me)
[03:15:31] <dbaupp> hm, 86 bytes of overhead per allocation
[03:15:33] <dbaupp> ick
[03:15:35] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Input/output error)
[03:15:40] *** Joins: pnathan (Adium@moz-A8921E45.tukw.qwest.net)
[03:15:43] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[03:16:40] <Soler> I have, it just spits out this at the end. Hopefully the formatting isn't too bas
[03:16:42] <Soler> bad*
[03:16:56] <Soler> error: aborting due to previous error
[03:16:56] <Soler> task 'rustc' failed at 'explicit failure', /Users/rustbuild/src/rust-buildbot/slave/snap3-mac/build/src/libsyntax/diagnostic.rs:102
[03:16:56] <Soler> task '<main>' failed at 'explicit failure', /Users/rustbuild/src/rust-buildbot/slave/snap3-mac/build/src/librustc/lib.rs:441
[03:16:58] <Soler> make: *** [x86_64-apple-darwin/stage0/lib/rustc/x86_64-apple-darwin/lib/librustc.dylib] Error 101
[03:18:45] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[03:20:33] <dbaupp> Soler: could you put the full log up in a pastebin?
[03:20:44] <Soler> sure, one sec
[03:20:52] <dbaupp> (those 4 lines are printed everytime the compilation fails, so don't tell us much at all :) )
[03:21:45] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[03:23:03] *** Joins: raisin (Mibbit@A0FDAFCB.F9CC67DC.2C0780D7.IP)
[03:23:17] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[03:23:30] <raisin> somebody knows the time of 0.9 released?
[03:23:49] <Soler> dbaupp: http://pastebin.com/68Fbp5qT
[03:24:58] <Soler> It fails at line 1340
[03:25:47] <dbaupp> Soler: weird. Have you ever had a successful build in that directory?
[03:26:37] <Soler> no. I have proper permissions so I assumed it shouldn't matter
[03:26:57] *** Quits: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net) (Ping timeout)
[03:28:39] <Soler> Would it be that it can't find the .rust directory?
[03:30:15] <dbaupp> I have no idea
[03:30:23] <dbaupp> My first thought is try a `make clean`
[03:30:37] *** Joins: magg (magg@5403937D.BE86B7D4.3D0AE249.IP)
[03:30:51] *** Quits: raisin (Mibbit@A0FDAFCB.F9CC67DC.2C0780D7.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:30:52] <Soler> I did that. Also did a make clean-llvm but no luck
[03:31:00] <Soler> I am at a loss right now
[03:31:24] <dbaupp> what OS?
[03:31:38] <dbaupp> (well, what version of OSX?)
[03:32:02] <magg> i'm having trouble using the mangle function in from http://static.rust-lang.org/doc/master/std/hashmap/struct.HashMap.html
[03:32:10] <Soler> mavericks
[03:32:30] <Soler> 10.9.1 to be exact
[03:34:07] *** Joins: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net)
[03:34:14] *** Quits: zz_kimundi (kimundi@moz-64655121.dip0.t-ipconnect.de) (Ping timeout)
[03:34:34] <csherratt> if you have not built on a long time running git clean before ./configure can help
[03:35:00] <dbaupp> magg: would you like some help?
[03:35:04] <depp> git clean -dnx
[03:36:06] <magg> yeah dbaupp, I'm trying to increment values in a HashMap::<char, int>, but i don't get that already and new syntax 
[03:36:45] <dbaupp> magg: what's the code you currently have?
[03:37:30] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[03:37:31] *** Joins: zz_kimundi (kimundi@moz-9DB60884.dip0.t-ipconnect.de)
[03:37:41] <carter> reading up on rust conditions, these are cool (power tools)
[03:37:48] *** zz_kimundi is now known as kimundi
[03:37:50] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:38:07] <dbaupp> carter: they're also deprecated
[03:38:10] <carter> oh
[03:38:12] <carter> hrm
[03:38:12] <magg> dbaupp: http://pastebin.com/Lz4L7dSb
[03:38:16] <dbaupp> (although being replaced with something more egeneral, aiui.)
[03:38:20] <carter> oh?
[03:38:28] <dbaupp> https://github.com/mozilla/rust/issues/10602
[03:38:34] *** Joins: swgillespie (swgillespi@moz-D461B92C.dynamic.ip.windstream.net)
[03:38:56] <dbaupp> magg: what's the error?
[03:39:18] <magg> rror: binary operation + cannot be applied to type `&mut int`
[03:39:20] <carter> anyhuh
[03:39:38] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Quit: Leaving.)
[03:39:42] <carter> dbaupp: that said, i don't know when id use conditions
[03:39:53] <dbaupp> magg: ah, ok, already is a &mut int (i.e. a pointer to an int), so you need to write `*already += new`
[03:40:00] <carter> so dynamic scoped variables for context sensitive config stuff seems ok to me :)
[03:40:24] <dbaupp> magg: btw, insert_or_update_with is simplification of mangle that should work in this instance
[03:40:43] <magg> dbaupp, cool
[03:40:56] <magg> it worked
[03:41:10] <dbaupp> magg: `map.insert_or_update_with(c, 1, |_, val| *val += 1)`
[03:41:12] <magg> so should i use  insert_or_update_with instead
[03:41:16] <dbaupp> yes
[03:41:17] *** Quits: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net) (Ping timeout)
[03:41:20] <magg> ook
[03:41:29] <magg> thanks mate
[03:41:32] <dbaupp> (you could even use `*map.find_or_insert(c, 0) += 1`)
[03:41:42] <magg> oooh i see
[03:43:36] <magg> neat
[03:44:42] <alan_andrade> Does Make behaves different in Linux and Mac ?
[03:45:13] <alan_andrade> This fails: http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/2499/steps/compile/logs/stdio
[03:45:18] *** Quits: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca) (Quit: canhtak)
[03:45:47] <alan_andrade> but the file guide-macros.md does exist https://github.com/alan-andrade/rust/blob/6cc5bebd35346c08fdda09d51c340c83e2acf323/doc/guide-macros.md
[03:46:04] <alan_andrade> `make docs` runs fine on my laptop Mac.
[03:46:13] <alan_andrade> What I'm I missing ?
[03:47:00] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[03:48:00] *** Joins: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net)
[03:48:42] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[03:51:14] * dbaupp just realised that rust does have a do-while loop equivalent
[03:51:31] *** Joins: lenstr (lenstr@801F0789.9636F313.7A27613B.IP)
[03:51:43] <dbaupp> `while { foo(); bar(); baz(); condition() } {}`
[03:51:55] <dbaupp> alan_andrade: looks weird
[03:53:16] *** Quits: lenstr (lenstr@801F0789.9636F313.7A27613B.IP) (Ping timeout)
[03:53:16] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:53:18] <Tobba> while in here, does anyone know what happened to LLVM 3.4
[03:53:31] <Tobba> their site says they're moving onto 3.5 but they never put 3.4 up
[03:53:32] <cmr> Tobba: what about it?
[03:53:40] <carter> 3.4 is in RC
[03:53:45] <carter> so its now a feature branch
[03:54:02] <carter> so any new trunk work is thus on 3.5
[03:54:10] <carter> afaict
[03:54:10] <carter> :)
[03:54:11] <Tobba> oh
[03:54:23] <carter> i could be wrong
[03:54:23] <Tobba> I now know the only project that uses SVN branches
[03:54:33] <carter> llvm yeah?
[03:54:38] <carter> llvm? yeah
[03:54:38] <Tobba> yes
[03:54:49] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[03:54:54] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[03:54:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:54:59] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[03:55:04] <carter> nothing said "many billion dollar corps contrib to your OSS project" like svn
[03:55:07] <carter> unless you're BSD
[03:55:10] <carter> or Linux
[03:55:56] <Tobba> I'm gonna go on an adventure in an attempt to get a mingw-less rustc
[03:56:09] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[03:56:27] <carter> don't break too many windows :)
[03:56:27] <cmr> Tobba: is lld working that well on windows now?
[03:56:36] <Tobba> I think
[03:56:39] <Tobba> I have a build of it
[03:56:59] <cmr> cool
[03:57:00] <Tobba> I dont think I've properly used it though, but I'd be happy to say fuck you to binutils
[03:57:21] <cmr> lld from trunk?
[03:57:42] *** Joins: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[03:57:59] <Tobba> I think I have a really old like, mid 3.4 dev trunk built right now
[03:58:12] <Tobba> I should rebuild it from the RC but that shit takes ages, and uses 10GB of HDD space for some ungodly reason
[03:58:40] <alan_andrade> dbaupp: is it possible to ssh into the boxes that run the tests ?
[03:58:43] <Tobba> plus getting it to build was a pain because of cmake being cmake
[03:58:55] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:59:00] <cmr> alan_andrade: not unless you are achin or brson or pcwalton
[03:59:34] <Luqman> cmr: acrichto ? :P
[03:59:52] <cmr> oh, whoops
[04:00:01] <cmr> achin: your nick is annoying! :P
[04:00:19] <achin> i have made a terrible mistake by becoming the second "ac*" person in here.  clearly there is a lot of muscle memory that needs to be re-trained!
[04:00:22] <Tobba> hmm, yep this branch of LLVM should work
[04:00:23] <Tobba> http://llvm.org/svn/llvm-project/llvm/branches/release_34/
[04:01:38] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[04:02:44] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:02:50] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:03:39] <Tobba> oh hey, theres actually a 3.4 branch of lld http://llvm.org/svn/llvm-project/lld/branches/release_34/
[04:03:57] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[04:03:59] <Tobba> though I dont know why that actually exists, I'm gonna try it out though
[04:04:28] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[04:04:43] <cmr> a lot of windows work went into lld recently, not sure that's a good idea.
[04:04:51] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[04:04:55] *** achin is now known as `achin
[04:05:08] <`achin> ok, this should help with the mal-tabcompletion!
[04:05:17] <Tobba> yeah this is probably a shitty idea
[04:05:28] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[04:05:34] <carter> zomg, i can literally copy paste C enums and have them be valid rust?
[04:05:36] <carter> woah
[04:05:38] <Tobba> but I want to get rid of the current, I think its a mingw build of ld haphazardly dropped in a bin directory of my project
[04:05:50] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[04:05:56] <Tobba> carter: wait really?
[04:05:58] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[04:06:12] <carter> trying it out now
[04:06:15] <carter> but based on the docs pretty much
[04:06:22] <carter> i have to delete the word type def
[04:06:23] <Tobba> I cant tell if thats a good or bad thing, assuming there isnt a #[cpp] or something
[04:06:26] <carter> and the end NAME ; bit
[04:07:26] <carter> Tobba: fret not, i'll be getting weird confusions soon
[04:07:26] <carter> :)
[04:07:38] <cmr> Tobba: rustc has a --linker arg which should make experimenting slightly easier.
[04:07:41] <carter> clearly i'm sane, my first "lets try rust out" is writing a BLAS binding
[04:07:52] <Tobba> uh
[04:07:53] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[04:08:03] <Tobba> yeah thats not exactly what i'd first do
[04:08:14] <Tobba> then again I started by rewriting my entire kernel into it
[04:08:20] <Tobba> or well, considering rewriting at least parts
[04:08:24] <Tobba> which is probably even dumber
[04:08:39] <carter> Tobba: i'm only intersted in rust as being a future alternative for Fortran and C++ for perf sensitive numerical kernels :)
[04:08:44] <carter> i use hasklel for everything else ;)
[04:08:53] <Tobba> I never liked haskell
[04:08:58] <carter> i'm sorry
[04:09:01] <Tobba> its just
[04:09:03] <Tobba> the syntax
[04:09:08] <olsonjeffery> .
[04:09:09] <carter> learning is hard :)
[04:09:18] <Tobba> its like if a different guy made up every single different thing, theres no fucking consistency to it
[04:09:29] <carter> Tobba: i warmly welcome to to revisit it
[04:09:34] <depp> are you talking about C++?
[04:09:42] <Tobba> as for rust, the syntax looks like C had a baby with haskell and thalidomide was involved, but at least its consistent
[04:09:46] <carter> Tobba: what was the context of your exposure
[04:10:01] <Tobba> I basicaly tried to learn it
[04:10:05] <carter> when?
[04:10:07] <carter> and using what resource?
[04:10:12] <Tobba> and everything went "nope you have to do that THAT way because fuck you too"
[04:10:14] <carter> theres much better resources now than a decade acgo
[04:10:21] <Tobba> think it was a year ago, anyways
[04:10:37] <carter> Tobba: as a member of teh GHC / core haskell team , i apologize
[04:10:44] <carter> and ask that you try again and pester me for help some time
[04:10:53] <carter> also "learn you a haskell" is a great quick read
[04:10:56] <cmr> carter: ohh is that an open invitation?
[04:10:59] <carter> yes
[04:11:02] <cmr> because I *will* exploit t hat
[04:11:08] <carter> good
[04:11:13] <carter> because i will reply
[04:11:19] <carter> (except when too busy or stressed out by life)
[04:11:19] <cmr> :D
[04:11:25] <Tobba> haskell always just felt like it was one of those things that was great at crunching numbers
[04:11:27] <carter> be warned, i'm a terible TA
[04:11:33] <carter> Tobba: i'm working on making that so :)
[04:11:44] <Tobba> but a nice way to clusterfuck everything when doing things that has a shitload of statye
[04:11:48] <Tobba> state*
[04:11:53] <carter> eh, depends
[04:12:17] <carter> i write some pretty stateful things in haskell + c--
[04:12:27] <cmr> I'm super interested in pldi so that's why I want to learn it, as a stepping stone.
[04:12:44] <carter> cmr: theres a lot of neat ideas that have really mature implementations in haskell land
[04:12:56] *** Joins: ehsanul (Mibbit@moz-A9E56CFE.hfc.comcastbusiness.net)
[04:13:07] <carter> and where the core substrates are well engineered enough that some pretty crazy experimentation is possible
[04:13:07] <depp> ain't that the truth
[04:13:13] <depp> conduits are awesome
[04:13:22] <aatch> Haskell is (funnily enough) very good for writing function-like systems.
[04:13:38] <carter> <rim drum thingy>
[04:13:39] <carter> :)
[04:13:56] <carter> simon marlows book actually is a great concrete concurrency / parallelism intro for folks
[04:14:06] <carter> much more acciessible than most books on the topic
[04:14:08] <Tobba> and now for the magic of compiling LLVM again, please kill me
[04:14:11] <cmr> alan_andrade: you're just not having a good time with that PR :(
[04:14:34] * alan_andrade frustated 
[04:14:45] <Tobba> oh yeah that reminds me, does Rust have any support for the addrspec() llvm attribute atm
[04:14:56] <Tobba> because that thing is absolutely great when writing kernels
[04:14:57] <aatch> the addrspec attribute?
[04:14:59] <carter> Tobba: "learn you a haskell for  a great good" is a good quick weekend read
[04:14:59] <cmr> addrspace or addrspec?
[04:15:00] <aatch> What does that do?
[04:15:13] <Tobba> its also buggy as hell within the LLVM x86 codegen on 3.3, but I think they fixed that
[04:15:18] <Tobba> overrides the address space of something
[04:15:26] <Tobba> in case of x86, thats the selector
[04:15:37] <cmr> I don't think we do.
[04:15:53] <Tobba> so I'd put per-core kernel state in a specific GDT entry per core and load gs with a unique value
[04:16:21] <aatch> We do not.
[04:17:23] <Tobba> well crap
[04:17:32] <Tobba> it only really makes sense on unsafe pointers
[04:19:36] <aatch> Tobba, you could use a seperate .ll file with llvm asm in it, compile it seperately and link it in though.
[04:19:59] <Tobba> it would end godawfully though
[04:20:02] <alan_andrade> cmr the bot retry and stuff is only for certain people correct ?
[04:20:12] <Tobba> I'd have to like, make a forceinline method for fetching each variable of kernel state
[04:20:13] <cmr> alan_andrade: yes
[04:20:20] <cmr> alan_andrade: I'm trying to figure out why it failed...
[04:21:50] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[04:22:28] <aatch> Tobba, you can define extern static variables
[04:22:54] <Tobba> I guess that would work since theres only like ~6 variables
[04:24:03] <cmr> acrichto: I'm glad that got in for the next triage email :p
[04:24:53] <carter> bjz: the blas ffiing is afoot
[04:25:02] <carter> also trying to see if i can do phantom types with rust :)
[04:25:11] <bjz> you can
[04:25:14] <carter> well
[04:25:15] <carter> yeah
[04:25:22] <carter> i'm finding out concretely :)
[04:25:25] <bjz> enum Foo {}
[04:25:46] <bjz> https://github.com/mozilla/rust/wiki/Doc-FAQ-Cheatsheet#how-do-i-express-phantom-types
[04:25:52] <carter> yup
[04:25:54] <carter> i'm doing that
[04:25:56] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Ping timeout)
[04:26:09] <carter> i figure if I get any confusing type errors i can report a ticket anyways :)
[04:26:17] <acrichto> cmr: man I should work more on triage
[04:26:38] <carter> triage of what?
[04:26:45] <carter> tickets of doom?
[04:26:46] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[04:26:48] <acrichto> the triage email
[04:26:50] <carter> oh
[04:26:53] <acrichto> we get an email of 10 bugs every week
[04:26:54] <carter> youre doom :)
[04:26:58] <cmr> carter: every week the maintainers get an email of issues that haven't been updated in 4 months.
[04:26:58] <carter> email?
[04:26:59] <acrichto> to basically look into
[04:27:01] <carter> ohh
[04:27:07] <carter> hows that scripted?
[04:27:13] <cmr> it's a python script somewhere
[04:27:18] <cmr> using the github api
[04:27:26] <cmr> https://github.com/brson/triage/
[04:27:29] <acrichto> aww man if I want to benchmark rust-redis I have to have redis installed :(
[04:27:55] <acrichto> oh wow that downloaded fast
[04:27:57] <acrichto> over my phone...
[04:28:03] <carter> hrm
[04:29:05] <Yurume> wow such sped
[04:29:08] <Tobba> also uh
[04:29:17] <Tobba> is there any way to perform some limitd form of pointer arithmitic
[04:29:25] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[04:29:29] <cmr> Tobba: such as?
[04:29:37] <cmr> do you want GEPi?
[04:29:45] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[04:30:02] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[04:30:16] <carter> hey all, is this a reasonable way to talk about matrix slices? https://gist.github.com/cartazio/8278274
[04:30:29] <Tobba> actually, I hink a better question would be
[04:30:50] <Tobba> if I had a file loaded in memory, and I needed to access a structure at a specific offset, how would I do that safely
[04:31:09] <carter> or would I want a slice type to be like struct MatrixSlice<A,T>{  mat : &Matrix<A,t> } ?
[04:31:28] <cmr> *safely*? don't think it's possible.
[04:31:33] <Yurume> carter: MatrixSlice at least needs a lifetime parameter.
[04:31:34] <Tobba> well fuck
[04:31:38] <carter> ok
[04:31:57] <Tobba> ah bollocks I was gonna reimplement most of that anyways, I'm gonna go sleep though
[04:32:10] <carter> Yurume: its a struct not a function
[04:32:12] <Tobba> thats gonna be a bit annoying for building file loaders however
[04:32:15] <carter> where would it go on  a struct
[04:32:25] <cmr> well it's pretty easy to do unsafely, just read it transmute the pointer.
[04:32:28] <Yurume> struct MatrixSlice<'r,Axis,T> { ... elems: &'r [T] }
[04:32:32] <carter> ok
[04:32:33] <carter> thankee
[04:32:46] <Tobba> yeah but still
[04:32:54] <Tobba> file loading is something that tends to be unsafe in a lot of stuff
[04:33:09] <Tobba> I'll just make a helper to do it safely
[04:33:16] <carter> q: when I slice a &[T], that doesn't slice the parent ~[T] right?
[04:33:20] <cmr> we have a safe interface via extra::serialize
[04:33:31] <cmr> carter: well the &[T] points into the parent ~[T]
[04:33:36] <cmr> the subslice just moves the potiner
[04:33:39] <cmr> *pointer
[04:33:42] <Yurume> carter: "slicing" really means getting a reference to the underlying vector
[04:33:43] <cmr> or possibly the length
[04:33:46] <cmr> or both
[04:34:20] <carter>  i want to borrow from the parent, but have a sub view
[04:34:25] <carter> but not change the parent
[04:34:25] <cmr> Tobba: we have a safe interface via extra::serialize but atm it only supports ebml/json serialization.
[04:34:56] <Yurume> carter: I think the current design (sharing only `elems` via borrowing) makes sense
[04:35:04] <carter> yeah
[04:35:12] <cmr> carter: that's what slices are.
[04:35:18] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[04:35:20] <carter> ok
[04:35:20] <cmr> only &mut [T] can modify.
[04:35:25] <carter> oh ok
[04:35:27] <carter> erm
[04:35:42] <Yurume> if you do multidimensional arrays, then you will need a list of offset-stride pairs per axis, but yeah, will be similar.
[04:35:53] <carter> Yurume: yeah, i'm only doing 2dim case here
[04:36:10] <Yurume> carter: ah, if you want to allow the modification through the subview then you will need &mut
[04:36:12] <carter> not plannig to do N dim in rust till i'm done with the hskell version
[04:36:13] <carter> ok
[04:36:14] <carter> yeah
[04:36:27] <carter> so i can creat a mutable slice of a parent array, right?
[04:36:30] <Yurume> yes
[04:36:32] <carter> good
[04:36:35] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[04:36:41] <carter> woudln't want to accidentally shrink the parent
[04:36:55] <carter> and i guess ill need ~mut[T] too, right?
[04:36:59] <Yurume> no
[04:37:01] <cmr> nah.
[04:37:12] <cmr> ~[T] is owned, so its always mutable if stored in an immutable "slot"
[04:37:13] <Yurume> carter: well, let me explain with a simpler example, ~str/&str/&mut str
[04:37:18] <carter> ok
[04:37:21] <carter> yay
[04:37:21] <carter> :)
[04:37:32] <cmr> (ie, `let mut x: ~[T] = foo; /* x is mutable */`)
[04:37:38] <Yurume> ~str's mutability comes from the slot where the ~str is stored
[04:37:49] <Yurume> &str and &mut str explicitly dictates the mutability
[04:38:01] <Yurume> so that &mut str can come only from ~str in the mutable slot
[04:38:13] *** Joins: sellout (Adium@moz-76D71F1A.hlrn.qwest.net)
[04:38:28] <carter> ok, so i need it to be mut elem : ~[T] ?
[04:38:36] <Yurume> if you are planning an optionally mutable structure, you should consider making two versions of methods
[04:38:40] <aatch> Rust's ownership model has the distinct problem of being very easy once you understand it, but oftentimes hard to understand
[04:38:47] <Yurume> carter: no, it does not require mut
[04:38:57] <carter> Yurume: which methods?
[04:38:59] <cmr> Well if you want to mutate it it does.
[04:39:10] <Yurume> rusti: struct Foo { x: ~[int] } let mut v = Foo{x:~[1,2,3]}; v.x.push(54); v
[04:39:10] -rusti- main::Foo{x: ~[1, 2, 3, 54]}
[04:39:12] <carter> if i want to mutate the array?
[04:39:13] <cmr> Argument bindings are still immutable by default.
[04:39:16] <cmr> Oh a struct
[04:39:19] <cmr> Nevermind
[04:39:22] <carter> https://gist.github.com/cartazio/8278274
[04:39:32] <carter> i want to read / write into a matrix
[04:39:40] <carter> maybe I should have mutable and not versions both
[04:39:42] <carter> of the struct
[04:39:46] <Yurume> carter: i.e. if you are making subviews, you really need two versions of methods that make subviews (one is mutable, another is immutable)
[04:39:48] <aatch> we don't have mutable fields.
[04:39:52] <carter> ok
[04:39:56] <carter> thats ok
[04:39:57] <Yurume> like ~str's slice(immutable) or mut_slice(mutable).
[04:40:01] <carter> ok
[04:40:10] <carter> i shoud go find that
[04:40:13] <carter> wheres tha tmodule?
[04:40:17] <dbaupp> Yurume: (fwiw, &mut str doens't exist, nor does mut_slice)
[04:40:18] <cmr> src/libstd/str.rs
[04:40:31] <dbaupp> only vec has &mut [] and mut_slice
[04:40:36] <cmr> ...look at src/libstd/vec.rs instead
[04:40:38] <aatch> Wait, when did &mut str go?
[04:40:40] <Yurume> dbaupp: ah wait right, :( I slightly confused on that
[04:40:45] <dbaupp> aatch: never existed?
[04:40:46] <Yurume> or not?
[04:40:47] <Yurume> wait
[04:40:49] <aatch> It didn't?
[04:40:59] <dbaupp> I don't remember it
[04:41:00] <Yurume> hmm
[04:41:15] <aatch> Hmm, I guess I never had a call for it.
[04:42:20] <Yurume> well, I think I confused it with &mut ~str
[04:43:26] <carter> ok, where would i find vector slices in the std lib?
[04:43:37] <dbaupp> libstd/vec.rs
[04:44:16] <carter> i'm looking there https://github.com/mozilla/rust/blob/master/src/libstd/vec.rs
[04:44:23] *** Joins: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net)
[04:44:25] <carter> is there a slice struct?
[04:44:32] <cmr> not there
[04:44:33] <dbaupp> no
[04:44:40] <cmr> &[T] and &mut [T] are primitives
[04:44:48] <cmr> look at the ImmutableSlice and MutableSlice traits.
[04:44:59] <dbaupp> https://github.com/mozilla/rust/blob/master/src/libstd/unstable/raw.rs#L34
[04:44:59] <carter> https://github.com/mozilla/rust/blob/master/src/libstd/unstable/raw.rs
[04:45:03] <dbaupp> is the shape
[04:45:18] <carter> ok
[04:45:43] *** Joins: lenstr (lenstr@801F0789.9636F313.7A27613B.IP)
[04:45:57] <carter> and so you can mutate elems of ~[T]
[04:46:01] *** Quits: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:46:07] <carter> and &'r mut[T]
[04:46:15] <carter> but not &r'[T] ?
[04:46:15] <alan_andrade> cmr https://github.com/mozilla/rust/pull/11106 retry please please ?
[04:46:20] <cmr> correct
[04:46:28] <carter> am I writing the syntax right?
[04:46:34] <dbaupp> cmr: I thought you were going to bed?
[04:46:35] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[04:46:40] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[04:46:41] <cmr> dbaupp: yeah I gave up on that.
[04:46:43] <dbaupp> carter: &'r [T] for the last one
[04:46:53] <carter> heh
[04:46:54] <carter> good point
[04:47:30] *** Quits: lenstr (lenstr@801F0789.9636F313.7A27613B.IP) (Ping timeout)
[04:48:41] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[04:50:11] *** Joins: twi (Adium@moz-ED080452.wifihubtelecom.net)
[04:50:37] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[04:51:02] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[04:51:53] <cmr> alan_andrade: thanks for doing this :)
[04:52:26] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Quit: Leaving.)
[04:53:00] <alan_andrade> You guys deserve so much. Incredible community.
[04:53:40] <Yurume> tutorials -> guides I <3 that
[04:54:00] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:54:38] <carter> so whats that chane mean?
[04:54:53] <cmr> just some renaming
[04:55:03] <cmr> If my internal auto-correct correctly demangled that :)
[04:55:32] <carter> yup
[04:55:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:56:02] *** Joins: pzol (Mibbit@moz-553BEE64.dynamic.chello.pl)
[04:57:43] *** Joins: pzol_ (pzol@moz-553BEE64.dynamic.chello.pl)
[04:59:09] *** Quits: pzol (Mibbit@moz-553BEE64.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[05:00:48] <carter> ok, so hows these struct defns look https://gist.github.com/cartazio/8278274 ?
[05:01:33] <cmr> carter: needs to be &'r mut[T] in MutSlice
[05:01:48] <carter> woops
[05:01:55] <cmr> otherwise, looks good.
[05:01:57] <wycats_> sfackler: does rust-openssl work with rust-http?
[05:03:39] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[05:03:44] *** Quits: Soler (Soler@moz-93EA8A7.lightspeed.mssnks.sbcglobal.net) (Client exited)
[05:03:56] <sfackler> wycats_: there's an old PR to integrate rust-http with rust-ssl, but it's pretty out of date
[05:04:11] <sfackler> it shouldn't be too hard to update though
[05:04:14] <wycats_> sfackler: seems like that would be the primary use case?
[05:04:15] <wycats_> ;)
[05:04:26] <sfackler> yeah
[05:04:44] <sfackler> at the time rust-ssl wasn't very far along but I think it's in a bit of a better place now
[05:05:42] *** Joins: sellout (Adium@moz-76D71F1A.hlrn.qwest.net)
[05:05:57] <wycats_> sfackler: point me to the PR?
[05:06:03] *** Quits: twi (Adium@moz-ED080452.wifihubtelecom.net) (Ping timeout)
[05:06:20] <wycats_> sfackler: the next major project for me is a standalone server that communicates with the thing I've been working on, takes the protobufs, and sends them to the real server in the sky
[05:06:23] <wycats_> but it's over https
[05:06:45] <sfackler> wycats_: https://github.com/chris-morgan/rust-http/pull/31
[05:07:01] *** Joins: twi (Adium@moz-4ECD4F52.wifihubtelecom.net)
[05:09:38] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[05:12:51] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[05:16:53] <geomyidae> https://github.com/colemickens/pcapfe/blob/master/test.rs#L154 How can I resolve this? my 'use' statements don't seem to do what I'd expect
[05:17:01] <bascule> now who wants to build the multi-provider SSL API ;)
[05:17:11] <bascule> someone needs to make rust-polarssl first
[05:17:36] <bascule> Ruby is joined at the hip to OpenSSL and it's fucking terrible :(
[05:18:48] *** Quits: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net) (Ping timeout)
[05:18:55] <depp> that is terrible
[05:19:08] <carter> how do i run rustc on a file sans main to type check?
[05:19:22] <cmr> geomyidae: use pcapfe::{UserDatagram, Ethertype_IP};
[05:19:28] <depp> --lib
[05:19:29] <cmr> carter: I don't think you can :(
[05:19:33] <cmr> oh well there's that
[05:19:36] <cmr> that's kinda cheating!
[05:19:43] <depp> I'm a cheater
[05:19:43] <cmr> --lib --no-trans should do it I guess
[05:20:19] <cmr> geomyidae: enum variant names aren't imported when you import the enum type, and they aren't children of the enum either.
[05:20:32] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[05:20:44] <carter> https://gist.github.com/cartazio/8278274#comment-981009  halp
[05:20:46] <cmr> it snags a lot of people, we probably need to change it
[05:20:58] <sfackler> bascule: woah, an SSL library that actually claims to be documented!?!
[05:21:05] <geomyidae> Is it typical to prefix_ namespace them sorta?
[05:21:19] <cmr> geomyidae: no?
[05:21:27] <carter> error: mismatched types: expected `&mut [<V6>]` but found `&&'r mut [T]` (expected vector but found &-ptr)
[05:21:27] <carter> src/Array.rs:27 #[deriving(Clone)]
[05:21:27] <geomyidae> ok
[05:21:36] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[05:21:43] <carter> whats wrong with my structs?
[05:22:04] <carter> or should they not have the 'r ?
[05:22:30] <wycats_> sfackler: who do I need to pay to update the PR
[05:22:31] <bascule> sfackler: :O
[05:22:33] *** Joins: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net)
[05:22:41] <carter> cmr: bjz  someone?
[05:22:59] <cmr> carter: ahh this issue.
[05:23:13] <cmr> I don't remember how to fix this one
[05:23:18] <carter> whats it even mean
[05:23:22] <dbaupp> you can't
[05:23:27] <dbaupp> you can't clone a &mut
[05:23:29] <carter> oh
[05:23:30] <carter> ok
[05:23:31] <carter> good point
[05:23:32] <wycats_> a wild bascule appears
[05:23:36] <carter> hrmm
[05:23:42] <cmr> ah yes.
[05:23:43] <carter> ohh, i need to clone back into a matrix
[05:23:44] <cmr> duh
[05:23:46] <carter> not a slice
[05:23:47] *** Quits: twi (Adium@moz-4ECD4F52.wifihubtelecom.net) (Ping timeout)
[05:23:50] <wycats_> clone into the matrix O_O
[05:24:01] <carter> wycats_: i will send you that reading list soon btw
[05:24:04] <carter> just ... life
[05:24:10] <wycats_> https://devcentral.f5.com/weblogs/images/devcentral_f5_com/weblogs/macvittie/WindowsLiveWriter/AgentSmithWasRightNeverSendaHumantodoaMa_80C4/smith_clones_2.jpg
[05:24:12] <carter> glad i can amuse
[05:24:14] <wycats_> carter: np
[05:24:25] <wycats_> cloning into the matrix
[05:25:20] <carter> urk
[05:25:30] <carter> so type changeing clone isn't exprssible
[05:26:12] <cmr> impl<'r, Axis, T>  MatrixMutSlice<'r, Axis, T> { fn into_matrix(&self) -> Matrix<Axis, T> } ?
[05:26:31] <cmr> just need to call to_owned on the slice
[05:26:36] <cmr> (to get a ~[T])
[05:26:40] <carter> ok
[05:26:43] *** Quits: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net) (Quit: ekwan)
[05:26:47] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[05:27:07] <carter> is that a trait syntax there?
[05:27:12] *** Quits: magg (magg@5403937D.BE86B7D4.3D0AE249.IP) (Quit: magg)
[05:27:23] <cmr> nah, just adding methods onto a struct.
[05:27:26] <carter> ok
[05:27:27] <cmr> "inherent methods"
[05:28:31] <carter> oh, and how do i then write the defn of into matrix?
[05:28:37] <carter> in that sytnax
[05:28:38] <carter> hrmm
[05:29:07] *** Quits: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net) (Ping timeout)
[05:29:13] <carter> impl<'r, Axis, T>  MatrixMutSlice<'r, Axis, T> { fn into_matrix(&self) -> Matrix<Axis, T> {body here?} }
[05:29:40] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[05:29:53] <cmr> fn into_matrix... { Matrix { dimRow: self.dimRow, dimCol: self.dimCol, leadingStride: 0 /* ? */, elems: self.elems.to_owned() } }
[05:29:55] <cmr> yes
[05:30:04] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[05:30:19] <carter> ok
[05:30:28] <carter> leading stride won't be zero
[05:30:31] <cmr> the ... being a placeholder for the typarams
[05:30:40] <cmr> thus the question mark :)
[05:31:08] <carter> so you just wrote where i do the {body here}
[05:31:09] <carter> ok
[05:31:10] <carter> woot
[05:31:16] <carter> thsis is nice and simple and mechanical
[05:31:28] <carter> to_owned == deep copy
[05:31:29] <carter> right
[05:31:30] <carter> ?
[05:31:38] <cmr> yes
[05:31:45] <cmr> ... I suppose it will need T: Clone
[05:31:55] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[05:31:58] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[05:32:56] <carter> impl <'r,Axis, T: Clone>
[05:32:57] <carter> right?
[05:33:11] <cmr> yep
[05:33:37] <carter> and copy pasta to do the ame for the not mute variant
[05:33:46] <carter> *mut
[05:33:55] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[05:33:59] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[05:34:20] *** ptc1 is now known as ptc
[05:36:40] *** Joins: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net)
[05:36:41] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[05:37:27] <WebeWizard> Hi guys. Is it possible to store an arbitrary function inside of a struct? And then call it with something like mystruct.myfunc?
[05:37:48] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[05:37:52] <cmr> WebeWizard: not arbitrary; it needs to have a fixed signature.
[05:38:01] <cmr> but it's (mystruct.myfunct)(args) to call it
[05:38:35] <WebeWizard> cmr: thanks. What would the struct definition look like?
[05:38:58] <cmr> struct Foo { myfunc: fn(int, uint) -> i32 }
[05:39:01] <cmr> Or, for closures
[05:39:13] <cmr> struct Foo<'a> { myfunc: 'a |int, uint| -> i32 }
[05:39:34] <WebeWizard> cmr: awesome <3, i'll give it a shot
[05:41:53] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[05:42:46] *** Joins: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP)
[05:43:09] <WebeWizard> cmr: mind also showing me how to initialize a struct like that?
[05:43:20] <cmr> sec
[05:43:22] *** Joins: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[05:44:40] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[05:44:41] <carter> oooo, i think i see how I can (ab)use traits to have a bajillion matrix formats with the same syntax :)
[05:45:58] <carter> are arrays indexed by uint or int or uint64 or what?
[05:46:37] <sfackler> uint
[05:46:41] <carter> ok
[05:46:44] <carter> good
[05:46:48] <carter> ok, and how big are uints?
[05:46:53] <depp> machine word
[05:46:56] <carter> ok
[05:47:10] <carter> so whatever fits on a local process
[05:47:16] <cmr> WebeWizard: https://gist.github.com/8278781
[05:47:18] <carter> i'm ok with that restrction
[05:47:20] <depp> same size as pointer
[05:47:24] <carter> jah
[05:47:30] <cmr> carter: as large as it needs to be to address the entire address space :)
[05:47:32] <carter> fun source of bugs in every lang :)
[05:47:46] <carter> cmr: the address space of a single process ? :P
[05:48:23] <depp> carter: each process has a separate address space
[05:48:26] <carter> i know
[05:48:46] <cmr> ah so that's what you meant when you said that
[05:48:49] <cmr> yes
[05:48:52] <depp> there are some really weird archs out there, like one which mixes 32-bit and 64-bit pointers, depending on what you're pointing to
[05:49:00] <carter> i'm just thinking about memmapped arrays on disk
[05:49:58] <carter> like, 32bit machine, 500gb flat binary file on disk you treat like an array
[05:50:13] <depp> sure
[05:50:14] <carter> granted you can't memmap more than 4gb at a time
[05:50:35] <depp> but rather than make a convoluted library, I'd just tell users to buy a 64-bit chip
[05:50:45] <carter> depp: nah
[05:50:48] <carter> well
[05:50:50] <carter> erm
[05:51:55] <carter> depp: you have good points, otoh, i like to overengineer :)
[05:51:59] <carter> but yeah, uint it is
[05:52:48] <depp> I think there are eight sins, and the eighth one is overengineering.   Also it is my sin.
[05:53:09] <o11c> ooh ... I just realized that in Rust it's impossible to implement relative pointers (for shared memory)
[05:53:30] <carter> i'm the master sinner on that front, but its for a good cause
[05:53:34] <WebeWizard> yaaaay, thanks so much cmr!
[05:53:43] <o11c> not having full move support is really annoying
[05:53:51] <carter> o11c: explain?
[05:54:02] <carter> couldn't you abuse unsafe?
[05:54:05] <o11c> carter: a relative pointer needs to know its own address
[05:54:21] <carter> really?
[05:54:24] <o11c> and, more significantly, needs to be able to change its contents when it is copied
[05:54:26] <carter> it does?
[05:54:35] <cmr> What is this relative pointer
[05:54:40] <cmr> it sounds crazy
[05:54:45] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:54:52] <depp> shared memory is unsafe in Rust anyway
[05:54:56] <cmr> but it should be possible as a smart pointer?
[05:55:02] <carter> shared memory is unsafe generally :)
[05:55:11] <o11c> cmr: it's possible in *C++* as a smart pointer, but not possible in Rust
[05:55:17] <depp> well, yes, but Rust has a technical definition for unsafe :-)
[05:55:17] <cmr> o11c: why not?
[05:55:18] *** Quits: philix (philix@moz-4689D536.user.veloxzone.com.br) (Quit: philix)
[05:55:27] <carter> whats the technical defn?
[05:55:27] <o11c> because in C++ you can implement a move constructor that knows the address of both from and to
[05:55:41] <o11c> but rust does not allow move customization
[05:56:06] <o11c> the whole point of a relative pointer is that it stores an integer offset relative to its own address
[05:56:23] <carter> soooo pretend i haven't written c++ since 2004, whats a move constructor
[05:56:31] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:56:47] <carter> ?
[05:56:48] <carter> :)
[05:57:01] <o11c> well, technically you don't need move ctors, it will be the same as the copy-ctor anyway
[05:57:25] <cmr> o11c: it should still be implementable, it just won't be as pretty?
[05:57:27] <depp> carter: a move constructor is a constructor which creates a new value by moving it from an old value
[05:57:29] <cmr> ie explicit method calls
[05:57:34] <o11c> RelPtr(const RelPtr& other) : value(other.value + ptrdiff(this, other)) {}
[05:57:35] <carter> so its a copy?
[05:57:38] <cmr> WebeWizard: added to the faq: https://github.com/mozilla/rust/wiki/Doc-FAQ-Cheatsheet#how-do-i-store-a-function-in-a-struct
[05:57:45] <carter> initvia copy?
[05:57:47] <depp> carter: unlike copy, it destroys the original
[05:57:50] <o11c> cmr: not safely, because in Rust a move can happen any time
[05:57:51] <carter> ok
[05:57:59] <o11c> carter: in C++ move does NOT destroy
[05:58:15] <depp> er, well, right, but it can "destroy" but not call the destructor
[05:58:19] <cmr> o11c: not if it's a pod type.
[05:59:13] <cmr> but yeah not easy
[05:59:16] <cmr> and fraught with peril
[06:00:11] <depp> C++ move semantics make it possible... but annoying and error-prone... that which is easy in Rust
[06:00:15] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:00:21] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:00:31] <o11c> it's not all all error-prone in C++ ...
[06:00:45] <depp> o11c: writing move constructors has a few gotchas
[06:01:23] <o11c> as long as you understand that immediate destruction is not guaranteed, it's fine ... and in this particular case, it's only a copy-ctor actually
[06:02:09] <WebeWizard> cmr: Great! Thanks again.
[06:02:21] *** Quits: payload (Mibbit@moz-4DA0B54B.dynamic.primacom.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:02:27] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[06:03:09] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[06:03:14] <carter> POD = struct like stuff (plain ole data, not an object)
[06:03:16] <carter> etcetc?
[06:03:35] <cmr> http://static.rust-lang.org/doc/master/rust.html#type-kinds
[06:04:30] <carter> can i add #[deriving(Send)]
[06:04:31] <carter> or ?
[06:04:34] <cmr> no
[06:04:36] <cmr> it's automatic
[06:04:42] <carter> ok
[06:04:44] <cmr> if your type fulfills Send, it has the Send kind
[06:04:53] <cmr> you can use #[unsafe_send] to force it iirc
[06:05:00] <carter> ok
[06:05:02] <carter> cool
[06:05:03] <cmr> and #[no_send] to force it the other way (that one definitely works)
[06:05:27] <carter> ok
[06:05:31] <carter> no need for that for now i think
[06:09:59] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[06:10:33] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:10:37] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:11:08] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[06:13:35] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[06:14:40] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[06:19:33] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:19:42] <carter> ok, rust definitely feels like a systemsy haskell 1.4 :)
[06:19:59] <bascule> carter: hahaha
[06:20:16] <carter> bascule: fun fact, Functor has map rather than fmap in 1.4 :)
[06:20:36] <carter> then for "pedagogy" reasons, map became list only, and Functor got fmap
[06:20:37] <depp> that's nice
[06:20:38] <carter> theres plans to fix that
[06:20:46] <carter> in ghc 7.10 or so mebe
[06:20:47] <carter> :)
[06:20:49] <carter> erm
[06:20:58] <carter> ok that won't happen till 7.12 really
[06:21:17] <depp> isn't that a library thing though?
[06:21:26] <carter> yes, but base is built with ghc
[06:21:38] <carter> and everything uses it
[06:21:40] <depp> hm, I thought you could have multiple copies of base lying around
[06:21:45] <carter> depp: in ghc?
[06:21:49] *** Joins: mindcat (mindcat@12BEE1F1.BED0357D.E47F7BFE.IP)
[06:21:59] <carter> you can use a NoImplicitPrelude pragma sure
[06:22:07] <carter> but default prelude is baked in
[06:22:08] <depp> not what I'm talking about :_)
[06:22:19] <carter> no clue what you're talking about
[06:22:23] <carter> :0
[06:22:25] <carter> :)
[06:22:38] <depp> in your Cabal file you specify what version of base
[06:22:51] <depp> and you can't require a version incompatible with any libraries you use
[06:22:58] <depp> or maybe I'm remembering it wrong
[06:23:00] <carter> oooh
[06:23:12] <carter> you can specify what verion of base the package works with
[06:23:20] <carter> which is tantamount to saying what ghc version
[06:23:42] <carter> it won't install a new base for that package install
[06:23:48] <carter> it'll say "oh, it conflicts, bailing"
[06:23:53] <carter> and thats a good thing
[06:23:54] <depp> right, because Cabal can't build base
[06:23:57] <carter> nope
[06:24:06] <carter> its because base is welded to ghc
[06:24:11] <carter> you coudl totally build base
[06:24:22] <carter> but when say, the exceptions model changes
[06:24:26] <carter> base changes to reflect that
[06:24:41] <carter> or when Num no longer assume Eq
[06:24:52] <carter> those are deep changes to the core libs and all the deps therein
[06:25:09] <carter> so yeah, you *could* build a copy of base
[06:25:20] <carter> but because of how things are organized, you probably shouldn't
[06:25:33] <carter> that said, i've built ghc with my own custom base just to see if it'd work :)
[06:25:54] <carter> depp: am i answering your question?
[06:26:06] <depp> hm, I just thought you could use a different base
[06:26:09] <carter> you can
[06:26:13] <carter> well
[06:26:19] <carter> lemme clarify
[06:26:23] <carter> you're never forced to use base
[06:26:31] <carter> it just occupies a certain piece of name space
[06:26:38] <carter> prelude is the thing people swap around
[06:26:47] <depp> I know what Prelude is, I'm talking about "base"
[06:26:50] <carter> ok
[06:27:01] <carter> so you mean alternative base libs
[06:27:11] <carter> or using different versions of base with the same GHC?
[06:27:20] <depp> yeah, I thought you could specify a different version of "base" without switching GHC
[06:27:22] <depp> maybe I'm wrong
[06:27:40] <carter> i think i know what your'e thinking
[06:27:40] <carter> hangon
[06:27:58] <carter> https://github.com/wellposed/hOpenBLAS/blob/master/hOpenBLAS.cabal#L66 
[06:28:10] <carter> so you'd see " base >=4.5 && <4.8" in my cabal file right?
[06:28:14] <luz> `achin, my client ignores leading special characters when tab completing
[06:29:27] <depp> I just thought that base wasn't baked into GHC, so you could do work on base without changing GHC
[06:30:02] <carter> you can
[06:30:12] <carter> i'm not sure why you would though..
[06:30:28] <depp> if you were maintaning base, it seems like it would come in handy
[06:30:49] <carter> yeah, you can def do that
[06:31:02] <`achin> luz: doh!  i need to be more clever...
[06:31:40] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[06:31:45] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[06:31:46] <carter> depp: just https://github.com/ghc/packages-base/blob/master/base.cabal yup
[06:31:49] <carter> hyou can def do it
[06:32:01] <carter> just need to not mention depending on base, in base :)
[06:32:16] <carter> https://github.com/ghc/packages-base/blob/master/base.cabal#L88 
[06:32:24] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[06:32:31] <carter> https://github.com/ghc/packages-base/blob/master/base.cabal#L88-L93
[06:32:43] <depp> I like how some of the links are "http://darcs.haskell.org/.../repo.git"
[06:32:44] <carter> but you'll see how it deps in tern on ghc prim ops 
[06:32:55] <depp> I figured they were tightly coupled
[06:33:04] <carter> yeah
[06:33:08] <carter> http://git.haskell.org/packages/base.git is the modern link
[06:33:09] *** Quits: elux (peter@moz-6B45ADE5.dsl.bell.ca) (Quit: Bye!)
[06:33:17] <carter> thers a lot of infrastructure clean up going on
[06:33:19] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Ping timeout)
[06:33:35] <carter> depp: sooo, i think strictly speaking you're right and i'm wrong :)
[06:33:41] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[06:33:57] <depp> carter: I think we were just being a little inexact
[06:34:01] <carter> yup
[06:34:02] <carter> :)
[06:34:06] <carter> i was wronger though!
[06:34:34] <depp> don't say that in IRC though because I don't know how to react
[06:34:52] <depp> it's like you're speaking some kind of foreign language... non-IRC-ish
[06:35:05] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:35:41] <cmr> People are wrong on the internet!?
[06:35:44] * cmr gets pitchfork
[06:36:19] <dbaupp> cmr: no, person admitted they were wrong on the internet
[06:36:20] <dbaupp> far worse
[06:36:27] <cmr> !!
[06:36:40] *** Quits: heftig (heftig@moz-C7FB5085.dip0.t-ipconnect.de) (Quit: Quitting)
[06:36:46] * cmr hauls out the vampire moose
[06:36:49] <dbaupp> carter: we don't want your type here.
[06:36:53] <dbaupp> ;P
[06:36:55] <depp> IRC server will now shut down for your protection
[06:37:27] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[06:37:41] <carter> i have the powah
[06:38:18] <cmr> It was an exciting week in rust
[06:38:32] *** Quits: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) (Ping timeout)
[06:38:35] <carter> oh?
[06:38:44] <depp> what made it exciting?
[06:38:52] <cmr> UDP, @mut, dbaupp's gc work, msgpack, 2x redis, capnproto, DST is solidified.
[06:39:03] <cmr> loadable syntax extensions are materializing.
[06:39:08] <cmr> Super exciting :)
[06:39:37] <WebeWizard> yaaay, my web server lib now supports contextual responses!
[06:39:51] <cmr> WebeWizard: ohh whatcha working on?
[06:40:06] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[06:40:11] <WebeWizard> making a web server. https://github.com/WebeWizard/libhttpd/tree/master
[06:40:13] <depp> WebeWizard: tell usss....
[06:40:19] <WebeWizard> i want it to be similar to Jetty
[06:40:28] <WebeWizard> if you've ever used jetty
[06:40:30] <carter> cmr: fyi https://github.com/wellposed/rust-OpenBLAS 
[06:40:38] <carter> just writing the data model now
[06:40:40] <cmr> nice, nice.
[06:40:46] <carter> but will add some ffi bits later this week
[06:40:50] <cmr> Anyone else have announcements for TWiR?
[06:40:58] * cmr asks at 1:40AM eastern time
[06:41:06] <depp> I want to work on the date time library
[06:41:12] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:41:20] <carter> cmr: was i in the contributor one the week i got my first patch?
[06:41:30] <Eridius> cmr: ooh, loadable syntax extension progress? Neat, I missed that
[06:41:34] <carter> depp: make it play nice with relativity and i'll owe you a a beer
[06:41:49] <depp> carter: no, not even leap seconds
[06:41:53] <carter> darn
[06:41:54] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[06:42:00] <cmr> carter: yes, 2 weeks ago
[06:42:04] <dbaupp> cmr: my gc work isn't exciting... it's completely horrible :P
[06:42:07] <carter> that was only 2 weeks ago?
[06:42:11] <cmr> dbaupp: no, it's pretty exciting
[06:42:15] <carter> apparently Joda-Time is a good role model for a time lib depp 
[06:42:19] <cmr> carter: felt longer to me :p
[06:42:19] <luz> check the wiki page for date/time lib if you haven't already
[06:42:34] <carter> which wiki page?
[06:42:38] <depp> carter: already past the research point, basing it heavily on Noda and Joda time
[06:42:46] <carter> cool
[06:42:53] <dbaupp> cmr: http://quicklol.com/wp-content/uploads/2012/03/dog-on-computer-no-idea.jpg
[06:43:00] <luz> https://github.com/mozilla/rust/wiki/Lib-datetime this one
[06:43:09] <cmr> dbaupp: me neither!
[06:43:15] <cmr> :P
[06:43:25] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[06:43:28] <depp> carter: I think my understanding of how date time libraries is sufficient, and I read the research, but my familiarity with Rust isn't quite there yet
[06:43:48] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[06:43:55] <swgillespie> can anybody point me in a direction where I can learn some more about lifetimes?
[06:44:08] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[06:44:19] <swgillespie> I'm writing a shell to learn rust and I'm getting hung up on lifetime issues
[06:44:53] <cmr> swgillespie: http://static.rust-lang.org/doc/master/tutorial-borrowed-ptr.html has the most information right now
[06:44:56] <cmr> section 8
[06:45:09] <swgillespie> great, thank you!
[06:45:11] <cmr> swgillespie: do you understand the concept of them and what motivates them?
[06:45:41] <swgillespie> I've discovered a motivation for them in my code, but I can't say I fully understand the concept...
[06:46:36] <cmr> So the idea behind lifetimes is that every borrowed pointer has a scope in which it originates, and it cannot "outlive" that scope. This ensures that the pointer will never become invalid.
[06:46:45] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:47:19] <luz> depp: did you see http://blog.joda.org/2009/11/why-jsr-310-isn-joda-time_4941.html
[06:47:29] <depp> I did read JSR 310
[06:47:48] <swgillespie> cmr: Okay, that makes sense. I'm going to read through the docs, thanks!
[06:47:51] <depp> the main issue seems to be with different calendars
[06:48:45] <depp> imagine something like DateTimeOffset<ISOCalendar> everywhere...
[06:50:11] <depp> I also love looking at these APIs with classes like "PeriodBuilder", which is really just a "mut Period" in Rust...
[06:50:14] *** Joins: alonlevy (alon@moz-30492E92.bb.netvision.net.il)
[06:50:21] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:50:30] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[06:51:08] <luz> there's a few other things wrong with Joda fixed in JSR-310 too
[06:51:30] <depp> luz: Yeah, but some of them have to do with defaults and null values
[06:51:54] <depp> luz: I'm not sure yet how I feel about multiple calendrical systems
[06:53:18] <carter> depp: calendars and time are as much a political/social/historical thing as a "time tracking thing"
[06:53:30] <pnathan> random question: has anyone fooled with getting a Rust pipeline to the AVR ISA (popularized by Arduinos)
[06:53:43] <luz> the post I linked has a few other ones that I don't think are java-specific
[06:53:45] <cmr> pnathan: the big blocker here is LLVM support.
[06:53:49] <carter> pnathan: that requires the AVR bakcend 
[06:53:54] *** Quits: zmthy (Tim@moz-EAA7EAA8.dsl.dyn.ihug.co.nz) (Ping timeout)
[06:53:58] <carter> i think thers an llvm branch with basic avr support
[06:53:59] <cmr> pnathan: the experimental AVR backend isn't quite there yet.
[06:54:00] <carter> on sourceforge
[06:54:21] <depp> carter: Yes.  Time zones are political in nature.
[06:54:26] <pnathan> A'ight. Thanks.
[06:54:27] <carter> http://sourceforge.net/projects/avr-llvm/ 
[06:54:50] <carter> pnathan: idkn if thats the canonical avr branch
[06:54:51] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[06:54:56] <cmr> it is afaik
[06:55:31] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:56:55] <cmr> Is lyuts in IRC?
[06:57:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:57:41] *** Joins: fabiand (fabiand@moz-3CFE71A5.adsl.alicedsl.de)
[06:57:50] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:58:00] <WebeWizard> interesting video about why date-time libraries are a pain. http://www.youtube.com/watch?v=-5wpm-gesOY
[06:58:28] <depp> a coworker shared that with me at work
[06:58:37] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:58:50] <depp> we're going through a bit of pain switching from local time to global time at work
[06:59:13] <depp> I found out that everything in the database is local time, at least until recently.
[06:59:14] *** Quits: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:59:45] <depp> We have meetings about time zones now.  They're really fun.
[07:00:31] <depp> Still easier than localization.  N products * M languages * K developers * J release dates.
[07:01:01] <cmr> this is why I avoid all code that needs to touch humans
[07:01:14] <cmr> strings, dates, GUIs, input
[07:01:16] <cmr> it's all evil
[07:01:18] <cmr> pure terror
[07:01:39] <depp> cmr: what about code designed for human subjugation?  SkyNet?  Surely...
[07:02:15] <cmr> I deny any and all involvement in Project SkyNet.
[07:02:31] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[07:02:36] <depp> I deny some and several involment in one or more SkyNet projects
[07:02:48] <cmr> heh
[07:03:28] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[07:04:05] *** Joins: zmthy (Tim@moz-EAA7EAA8.dsl.dyn.ihug.co.nz)
[07:06:36] *** Joins: sk (sk@89DF5F97.D147FDE0.33B96495.IP)
[07:07:27] <cmr> I think I'm really warming up to eddyb's "implicit type parameters" suggestion
[07:07:32] <cmr> fn foo(x: Chan<T>)
[07:07:46] <carter> what suggestion is that?
[07:07:46] <cmr> Rather than fn foo<T: Chan<U>>(x: T)
[07:08:10] <cmr> Only works for very simple traits
[07:08:26] <dbaupp> cmr: what if you want a &mut pointer to a Chan<U>?
[07:08:30] <cmr> But would help a *lot* for those sorts of cases.
[07:08:37] <cmr> dbaupp: well then add type parameters
[07:08:42] <carter> hows that different from hkt?
[07:08:55] <cmr> I don't know what HKT are besides a name that gets tossed around a lot.
[07:09:01] *** Quits: fmtq (fmt@moz-5769BD38.static.tpgi.com.au) (Ping timeout)
[07:09:04] <carter> higher kinded types
[07:09:08] <carter> hrm
[07:09:10] *** Quits: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) (Client exited)
[07:09:13] <cmr> I know what it expands to, but not what it means :p
[07:09:15] <carter> ok
[07:09:20] <cmr> I've seen these * -> * things and * etc
[07:09:23] <cmr> all very mysterious
[07:09:31] <carter> i assume it means "more type ideas from ghc / haskell "
[07:09:32] <carter> :)
[07:10:03] <carter> so like
[07:10:05] <dbaupp> cmr: I mean, wouldn't you write that as `chan(x: &mut Chan<U>)`? (I think we need to allow sugary forms of &T and &mut T for the proposal to be useful: we don't want to make passing by value ridiculously easy and the others much harder.)
[07:10:12] <depp> cmr: it means that you can have a type "vector"
[07:10:20] <carter> fn foo<T>(x : Chan<T>)
[07:10:26] <depp> cmr: but you can't create it, because it needs a type parameter
[07:10:30] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[07:10:35] <carter> what about that?
[07:10:36] <cmr> dbaupp: but then it's ambiguous with trait objects :(
[07:10:56] <depp> cmr: so vector :: * -> *, and vector<int> :: *
[07:11:06] <carter> yeah
[07:11:09] <cmr> depp: ok, that's a good example.
[07:11:27] <cmr> Where would vector be usable?
[07:11:32] <carter> well
[07:11:35] <cmr> It seems like it's an "incomplete" type
[07:11:38] <carter> yeah
[07:11:40] <carter> exactly
[07:12:06] <carter> just like  |x|{ foo(x)} is an incomplete value ;) 
[07:12:13] <carter> or whatever the closure notation
[07:12:15] <cmr> whoa that's deep
[07:12:22] *** Joins: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au)
[07:12:40] <carter> or derp :)
[07:12:40] <cmr> so the type needs to be ... applied? what's the word for it
[07:12:42] <carter> yes
[07:12:44] <carter> exactly
[07:12:50] <dbaupp> cmr: yeah, exactly
[07:13:02] <carter> its a function on things that are types
[07:13:06] <carter> instaed of things in memory
[07:13:17] <cmr> that's incredible
[07:13:33] <carter> it allows for some pretty nice code reuse and abstractions
[07:13:52] <cmr> Is there a solid resource on type theory etc? All the stuff I've found casually googling is crap
[07:14:07] <carter> hrm
[07:14:16] <carter> type theory is a HUGE area
[07:14:23] *** Parts: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) ()
[07:14:33] <carter> cmr: honestly, if you're not familiar with haskell, its a great starting point
[07:14:36] <depp> I can't remember the name of the good resource
[07:14:45] <depp> but there is a really good resource
[07:14:53] <carter> learn you a haskell for a great good is a good 1 weekend long warm up :) 
[07:14:59] <carter> learnyouahaskell.com
[07:15:03] <carter> really really easy light reading
[07:15:10] <cmr> yeah, I casually perused it during my java class last semester 
[07:15:19] <cmr> during the units on thread safety, amusingly
[07:15:25] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[07:15:26] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[07:15:29] <carter> if you want heftier stuff, i can point you to enough to get a phd on it
[07:15:44] <carter> they called me killer of trees at one point
[07:15:45] <depp> http://www.haskell.org/haskellwiki/Typeclassopedia
[07:15:54] <carter> type classes are just one thing
[07:15:54] <carter> but yeah
[07:16:08] <carter> theres some really great abstractions that are very natural once you have higher order types
[07:16:13] <carter> Functor is a nice one
[07:16:15] <carter> monad too
[07:16:20] <depp> there are also a bunch of great papers by folks like Mark Jones
[07:16:23] <carter> applicative is brillian
[07:16:38] <depp> Applicative: the forgotten type class
[07:16:50] <carter> like, if you're making a modern PL, and it doesn't have something like Applicative, your lang is sad and incomplete
[07:17:08] <carter> depp: applicative is getting its proper place between functor and monad in ghc 7.10 
[07:17:16] <depp> carter: 'bout time
[07:17:18] <carter> its a pretty recent discovery / invention too
[07:17:32] <carter> i may have helped egg on making that happen :)
[07:18:10] <FreeFull> Don't forget profunctors
[07:18:11] <carter> but yeah, applicatives are magic
[07:18:20] <carter> i still need to understand those better
[07:18:24] <carter> Lens is amazing 
[07:18:26] <carter> now that i understand it
[07:18:39] <carter> i wonder if with some fancier trait tooling, could rust have lenses?
[07:18:56] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[07:19:05] <carter> granted it doesn't need em as much
[07:19:06] <carter> but still
[07:19:50] <dbaupp> why doesn't Rust need lenses?
[07:19:58] <carter> *as much
[07:20:01] <carter> didn't say at all
[07:20:07] <dbaupp> well, why not as much?
[07:20:19] <carter> because you dont' have name collisions on field names
[07:20:33] <carter> that said, the modern lens package in haskell is... amazing
[07:20:37] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[07:20:41] <carter> i'm still discovering how much i should be using it ;)
[07:21:04] <cmr> carter: I always feel bad when I take time to really learn things because I feel bad for never getting anything productive done :(
[07:21:16] <depp> Rust has mutable pointers, which makes lenses less useful
[07:21:26] <depp> by that I mean pointers to mutable object
[07:21:26] <carter> true, otoh, it has immutatble ones too
[07:21:34] <carter> lens is still handy for both
[07:21:50] <depp> yes, but in Haskell you need Lenses really badly
[07:22:17] <carter> true
[07:22:27] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzzZZZzzz)
[07:22:31] <carter> hence my claim
[07:22:40] <carter> lense aren't likely as epic a win elswhere
[07:22:43] *** Joins: Skrylar_ (Skrylar@moz-F692F728.austin.res.rr.com)
[07:22:44] <carter> but still a powerful set of ideas
[07:23:49] <depp> something like... trait Lens<T, U> { fn get<'a>(&self, obj: &'a mut T) -> &'a U; }
[07:23:51] <alan_andrade> carter: the haskell book it's pretty nice. Thanks for sharing
[07:24:08] <carter> depp: thats not a profunctor!
[07:24:17] <carter> profunctor lenses are the magic ones
[07:24:21] <carter> the get set ones are boring
[07:24:23] <cmr> dbaupp: I just realized that the builder is working backwards from the present. I have no idea when it will be done :)
[07:24:39] <cmr> approximately soon, it looks like.
[07:24:50] <carter> alan_andrade: glad to help, feel welome to ask for help on #haskell on freenode
[07:25:21] <swgillespie> So str.split returns ~[&str] in rust and the arguments to a Process object in std::run must be ~[~str]... is there an idiomatic way to reconcile the storage issue?
[07:26:16] <cmr> swgillespie: str.split(..).map(|x| x.to_owned()).collect()
[07:26:22] <cmr> split is an iterator iirc?
[07:26:34] <dbaupp> cmr: ok
[07:26:34] <cmr> yeah it is
[07:26:36] <swgillespie> Oh, you are right, it's a CharSplitIterator<'a, Sep>
[07:27:17] <swgillespie> hmm, okay. thanks. I appreciate the help cmr 
[07:27:32] *** Quits: FreeFull (freefull@moz-9794470C.as13285.net) (Quit: )
[07:29:17] *** Joins: fmtq (fmt@moz-5769BD38.static.tpgi.com.au)
[07:30:21] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:32:20] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Quit: Leaving.)
[07:33:03] *** Joins: z0w0 (zack@moz-3A8F8F5E.lns8.woo.bigpond.net.au)
[07:34:00] <cmr> http://cmr.github.io/blog/2014/01/06/this-week-in-rust/
[07:34:14] <cmr> gah that code block got destroyed
[07:35:04] <diverse> that code example with 6 lines you mean?
[07:35:09] <cmr> yes
[07:35:32] <dbaupp> cmr: "This shouldnâ€™t will affect any ..."
[07:35:36] <cmr> I hate that I'm the maintainer of this theme, since I don't know how to do many fixes :P
[07:36:08] <cmr> dbaupp: fixed, thanks
[07:36:31] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[07:36:46] <carter> so either was removed vs result?
[07:36:52] <cmr> yeah
[07:37:25] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[07:37:46] <carter> yeah, a bit clearer communication in style
[07:37:49] <carter> Ok and Error
[07:37:50] <carter> right?
[07:37:54] <cmr> Ok and Err
[07:38:04] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:40:04] <carter> whitequark: ooo, i see you added volatiles
[07:40:47] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[07:40:51] *** Joins: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP)
[07:41:10] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[07:41:43] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[07:42:27] <whitequark> carter: some time ago, yeah
[07:42:37] <carter> this week?
[07:42:52] <whitequark> well, weeks can be long -_-
[07:42:59] <cmr> yup
[07:45:00] <wycats_> https://www.irccloud.com/pastebin/mVmdqxCz
[07:45:03] <wycats_> what's happening here?
[07:45:13] <wycats_> shouldn't my use of --rlib be causing it to choose the rlib?
[07:45:24] <cmr> wycats_: you don't specify a version, and both 0.9-pre and 0.9 are present.
[07:45:37] <wycats_> ahh
[07:45:46] <wycats_> where is 0.9 coming from
[07:45:48] <cmr> either remove the 0.9-pre stuff or use `extern mod extra = "extra#0.9"` etc
[07:45:50] <wycats_> I've just been using master
[07:45:53] <cmr> the version numbers were bumped on master
[07:45:57] <wycats_> ah
[07:46:04] <wycats_> can I somehow remove them?
[07:46:23] <cmr> make uninstall is a thing
[07:46:36] <wycats_> but won't that uninstall 0.9
[07:46:38] <wycats_> not 0.9-pre?
[07:46:39] <cmr> I don't know if it cleans up all of them
[07:46:44] <cmr> I don't knows
[07:46:50] <cmr> worth trying? :)
[07:46:55] <wycats_> rm /home/wycats/rust/lib/rustc/x86_64-unknown-linux-gnu/lib/*-pre.* ?
[07:46:55] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[07:47:03] <cmr> that should do it yeah
[07:47:06] <cmr> worse is better
[07:47:24] <wycats_> there we go
[07:48:44] *** Quits: tav (tav@moz-A8FFF7BF.range217-44.btcentralplus.com) (Quit: tav)
[07:50:03] <diverse> "Once again, no meeting due to the holidays. There will be one January 8, however." I thought the next meeting was going to be on Jan 7, since they do it every Tuesday?
[07:50:26] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[07:50:42] <cmr> whoops
[07:50:45] <cmr> it's monday morning!
[07:50:48] <cmr> how about that
[07:51:05] <cmr> diverse: fixed, thanks
[07:51:25] <diverse> and also add an "on" before "January"
[07:51:44] <cmr> done
[07:54:16] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[07:54:16] *** ChanServ sets mode: +ao pcwalton pcwalton
[07:55:57] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[07:56:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:56:34] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[07:57:58] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:58:18] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[08:00:00] *** flaper87|afk is now known as flaper87
[08:02:41] *** Quits: sk (sk@89DF5F97.D147FDE0.33B96495.IP) (Ping timeout)
[08:02:41] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[08:02:59] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[08:03:30] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[08:04:10] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[08:04:13] *** Quits: pzol_ (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[08:04:19] *** Quits: depp (depp@500BAFC1.53465674.3C05E6CB.IP) (Quit: bye)
[08:05:04] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[08:05:17] <diverse> cmr: does github take a while to upload your changes?
[08:07:46] *** Quits: swgillespie (swgillespi@moz-D461B92C.dynamic.ip.windstream.net) (Quit: Textual IRC Client: www.textualapp.com)
[08:09:36] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[08:10:59] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Ping timeout)
[08:10:59] *** Quits: zmthy (Tim@moz-EAA7EAA8.dsl.dyn.ihug.co.nz) (Ping timeout)
[08:11:06] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[08:14:26] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Input/output error)
[08:18:00] *** Joins: sk (sk@28D4FD6F.29248532.33B96495.IP)
[08:18:12] *** Joins: zmthy (Tim@moz-EAA7EAA8.dsl.dyn.ihug.co.nz)
[08:18:51] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:20:04] *** Joins: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au)
[08:22:22] *** Quits: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP) (Quit: leaving)
[08:22:40] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:24:33] *** Joins: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP)
[08:28:51] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[08:30:19] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[08:33:06] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[08:35:45] *** Joins: heftig (heftig@moz-33D186ED.unitymedia.biz)
[08:36:34] *** Quits: ehsanul (Mibbit@moz-A9E56CFE.hfc.comcastbusiness.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:38:02] *** Joins: jhasse (jhass_000@moz-AF29DD76.dip0.t-ipconnect.de)
[08:39:23] *** Joins: rca (rcatolino@moz-F053E700.adsl.proxad.net)
[08:39:52] *** Quits: rca (rcatolino@moz-F053E700.adsl.proxad.net) (Quit: leaving)
[08:40:41] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[08:44:09] *** Joins: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de)
[08:45:24] *** Quits: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de) (Quit: Leaving.)
[08:46:40] *** Joins: espadrine (Thunderbir@moz-BB3A80FC.w90-2.abo.wanadoo.fr)
[08:47:27] *** Joins: vgeddes (vincent.ge@moz-E5B12DD4.dsl.mweb.co.za)
[08:48:50] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[08:50:13] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[08:52:34] <wycats_> https://github.com/chris-morgan/rust-http/pull/31#issuecomment-31632590
[08:54:10] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:56:32] <geomyidae> rusti: enum X { Y = 1, Z = 2 }; assert_eq!(2, Z as uint); assert_eq!(Y, 1 as X);
[08:56:34] -rusti- pastebinned 19 lines of output: http://ix.io/9Ii
[08:56:42] <geomyidae> rusti: enum X { Y = 1, Z = 2 }; assert_eq!(2, Z as uint);
[08:56:43] -rusti- ()
[08:56:58] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:58:21] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[08:58:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:02:11] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[09:03:59] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:04:25] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[09:06:38] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[09:06:52] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Client exited)
[09:08:58] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[09:09:49] *** Quits: heftig (heftig@moz-33D186ED.unitymedia.biz) (Ping timeout)
[09:11:22] <jhasse> acrichto: A problem on windows: The native.dll is not in the path (and therefore not found when one executes his program). Do you have an idea how this should be fixed?
[09:11:24] *** Joins: oberstet (quassel@moz-A856BBD4.dynamic.mnet-online.de)
[09:11:38] *** Quits: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net) (Quit: Leaving.)
[09:12:55] <klutzy> jhasse: the problem is libnative is not statically linked
[09:13:14] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Quit: c-a)
[09:13:21] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:13:23] <jhasse> klutzy: is that possible?
[09:13:56] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[09:13:57] <jhasse> i think Go always static links
[09:14:14] <klutzy> jhasse: yes. rustc prefers static link as default
[09:14:48] <klutzy> but rustc *changes* mind if there is only dynamic lib (i.e. dll) and no rlib
[09:15:14] <jhasse> ah okay. So the solution would be to provide libnative as a rlib not as a dll
[09:15:17] <jhasse> right?
[09:15:19] <klutzy> e.g. you have `extern mod abc;` but there's no libabc-###.rlib but only abc-###.dll
[09:15:44] <klutzy> jhasse: right, and in the case libnative is provided at some/rustc/path/rustc/<target>/bin/
[09:16:13] <klutzy> I've exactly got same situation at https://github.com/mozilla/rust/pull/11206 :-)
[09:16:39] <jhasse> Ahh :)
[09:16:39] *** Quits: Skrylar_ (Skrylar@moz-F692F728.austin.res.rr.com) (Connection reset by peer)
[09:16:51] <jhasse> see https://github.com/mozilla/rust/issues/11243
[09:17:12] *** Joins: jackneill (jackneill@moz-E93E25D8.pool.digikabel.hu)
[09:17:21] <klutzy> yeah, rustpkg matters
[09:18:14] <klutzy> I got similar trap last week, due to https://github.com/mozilla/rust/issues/11253
[09:18:42] <klutzy> I forgot to change crate_type in my library :p
[09:19:04] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[09:20:12] <jhasse> Ah cool. This would fix a lot of problems on windows
[09:20:48] <jhasse> (if crate_type = "lib" results in a rlib)
[09:22:31] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:24:29] <wycats_> I've had good luck avoiding rustpkg
[09:26:06] <jhasse> wycats_: why not use it and fix its bugs along the way? ;)
[09:26:15] *** Joins: sigma (sigma@moz-BFB7A653.range86-143.btcentralplus.com)
[09:26:19] <wycats_> I plan to contribute, but not just yet
[09:26:24] <wycats_> I have stuff to get done
[09:27:21] <jhasse> yeah it's definitely not production ready ... :(
[09:27:41] <wycats_> I used it for a bi
[09:27:43] <wycats_> bit*
[09:27:46] <wycats_> rustc was more productive for me
[09:30:41] *** Joins: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[09:31:52] *** Joins: vmx (vmx@moz-B19E34C2.pools.arcor-ip.net)
[09:35:09] <geal> so, I advanced a bit in my quest to update rust-csv from 2 years old code to current version, and here is the result: https://github.com/Geal/rust-csv
[09:35:23] *** Quits: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP) (Client exited)
[09:35:24] <geal> the last error I get is "src/rust-csv/lib.rs:173:12: 173:35 error: cannot move out of dereference of & pointer"
[09:35:43] <geal> and I really don't see how I could fix it without some major refactoring
[09:35:48] *** Joins: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP)
[09:36:15] <geal> so, unless someone has a solution, I'll rewrite it from scratch and get away with it :p
[09:40:42] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Ping timeout)
[09:41:12] *** Joins: mpiechotka (mpiechotka@moz-93FEEFE.adsl.inetia.pl)
[09:41:20] <kimundi> geal: what type has cbuffer?
[09:41:36] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[09:41:52] <kimundi> err. what type have the elements of current.buffers, that is
[09:42:46] *** Quits: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP) (Client exited)
[09:43:05] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[09:44:06] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[09:44:29] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[09:44:30] <kimundi> geal: Try changing the line 173 to: let buf = &current.buffers[cbuffer];
[09:46:00] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[09:46:39] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Quit: Bye)
[09:48:42] <geal> kimundi: ok, well done, it builds now o_O
[09:48:54] <kimundi> haha, for real?
[09:49:13] <geal> yep :)
[09:49:23] <kimundi> lol
[09:49:27] <geal> ok, now, what is the rustpkg test command again?
[09:49:48] <kimundi> I'd assume --test
[09:50:24] <geal> "rustpkg test rust-csv"
[09:50:42] <geal> "couldn't infer any crates to build"
[09:50:49] <geal> I ust be missing some metadata somewhere
[09:53:20] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[09:53:54] <jhasse> geal: i think you need a test.rs file
[09:55:20] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[09:55:35] <geal> it needs to be in a separate file now?
[09:56:43] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[09:57:00] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[09:57:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:59:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:59:29] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[09:59:43] *** Joins: twi (Adium@moz-5CB7C12A.wifihubtelecom.net)
[09:59:51] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[10:01:21] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:02:05] <vmx> i'm back to the problem of wanting to be able to call e.g. ".len()" on an enum that contains vectors only. i tried implementing the Container for an enum, but that leads to infinite recursion. kimundi proposed that i should create a function that returns the variant of the enum, but i don't know how to do that
[10:02:53] <kimundi> I proposed that you return the vector from inside the current enum variant
[10:02:58] <vmx> i think what i want would be a way to tell the enum the traits that all its variants implement
[10:03:18] <vmx> kimundi: oh, then i misunderstood you
[10:04:02] <Ms2ger> Something like fn vector(self) -> &[T] { match self { X(vec) => vec, Y(vec) => vec, ... } }, I guess
[10:04:50] *** Quits: vgeddes (vincent.ge@moz-E5B12DD4.dsl.mweb.co.za) (Ping timeout)
[10:04:58] <kimundi> yeah, though you don'T even need to unwrap it - writing a method with &'a self and returning &'a [T] ought to work
[10:05:44] *** Quits: twi (Adium@moz-5CB7C12A.wifihubtelecom.net) (Quit: Leaving.)
[10:05:44] <Ms2ger> Mm, lifetimes
[10:06:07] <Gordon> I'm trying to use a DuplexStream, what's wrong with my "use extra::comm::DuplexStream;"?
[10:07:18] *** Joins: Ferreus (ferreus@moz-7DCCF9FA.dip0.t-ipconnect.de)
[10:07:53] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[10:08:16] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[10:13:24] *** Quits: rntz_ (rntz@moz-E7065CE4.cmdnnj.fios.verizon.net) (Ping timeout)
[10:14:43] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[10:15:33] *** Quits: zmthy (Tim@moz-EAA7EAA8.dsl.dyn.ihug.co.nz) (Quit: leaving)
[10:18:40] <jhasse> geal: I guess you could simply type "use lib;" in that file
[10:18:49] <jhasse> not sure though
[10:19:03] <jhasse> "mod lib;"
[10:20:22] <geal> yep, mod lib works
[10:21:14] <geal> I moved the tests in a separate file and began to fix the imports
[10:21:33] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[10:22:05] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[10:22:51] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[10:23:57] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[10:24:29] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[10:25:53] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[10:26:22] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[10:27:28] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[10:30:12] *** Joins: cheese_cast (raspinudo@moz-FB14AB08.hsd1.ca.comcast.net)
[10:31:41] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[10:31:56] *** Joins: lpy (lpy@C2056CB.F09091A8.1348A864.IP)
[10:31:56] *** Quits: lpy (lpy@C2056CB.F09091A8.1348A864.IP) (Quit: lpy)
[10:36:36] <geal> well, at least, updating some old code with lots of mutable variables taught me a lot about how storage works  :)
[10:36:54] *** Quits: KindOne (KindOne@moz-177405ED.dynamic.ip.windstream.net) (Ping timeout)
[10:39:14] *** Quits: cheese_cast (raspinudo@moz-FB14AB08.hsd1.ca.comcast.net) (Ping timeout)
[10:39:27] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[10:39:50] <geal> what is the type of an array defined directly, like 'let arr = ["abc"];' I thought that was &'static [&'static str], but the compiler tells me it is [&'static str]
[10:39:53] <geal> what is the difference?
[10:40:37] *** Joins: KindOne (KindOne@moz-B9A275BD.dynamic.ip.windstream.net)
[10:40:39] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[10:40:43] *** Joins: rca (rcatolino@moz-A87C14FE.adsl.proxad.net)
[10:40:48] <vmx> kimundi, Ms2ger: i think i understand the idea, but still struggle with getting it work. i think my problem is that i don't understand what "T" will be in this case. i tried something like "T: Container". but then i don't know how to convert my variant into that (it's complaining about it's sepcific type not being "T".
[10:41:19] <kimundi> vmx: could you paste the code and enum definition somewhere?
[10:42:18] <vmx> kimundi: that's the latest with many of the things i've tried: https://www.friendpaste.com/zQSp1U4kiHmyGMYor2Qmh
[10:42:24] <eddyb> https://mail.mozilla.org/pipermail/rust-dev/2014-January/007716.html it's not that dramatic - Rust gives you safety when writing new code. a tool to remove as many unsafeties from Rust code as possible wouldn't just let you write C/C++. it might require human interaction, it's close to a decompiler, in a way
[10:43:17] <Ms2ger> Oh
[10:43:31] <Ms2ger> That won't work, then
[10:43:45] <kimundi> yeah, because they are different vector types
[10:44:14] <Ms2ger> You can still do fn len(self) -> uint { match self { X(vec) => vec.len(), Y(vec) => vec.len(), ... } }
[10:44:28] <kimundi> But nothing that would work with their content
[10:45:58] <eddyb> (those are my thoughts - I do have something in mind - a decompiler from my IR directly to unsafe Rust code that can then be sanitized, it's slightly easier than converting C code, but lossy for C++ code)
[10:46:38] <vmx> Ms2ger: that sounds good enough to work at least
[10:47:08] <vmx> i wonder if i'm doing this whole thing completely wrong and whether there would be a better overall solution
[10:47:16] <whitequark> interactive Rust decompiler? that's interesting
[10:47:40] <eddyb> whitequark: well, the Rust part is a sanitizer
[10:50:57] <vmx> Ms2ger: for len() it works. but for accessing single elements by index having a function call is not that nice
[10:51:10] *** Parts: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP) (Leaving)
[10:51:21] *** Quits: KindOne (KindOne@moz-B9A275BD.dynamic.ip.windstream.net) (Ping timeout)
[10:51:54] *** Joins: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP)
[10:52:08] <Ms2ger> Sorry, wrong button
[10:52:30] <Ms2ger> That doesn't make sense to do, though; you get different types
[10:52:46] <pzol> noob question: how can I easily convert an enum to string?? 
[10:53:29] <Ms2ger> format!("{:?}", e), maybe, for debugging?
[10:54:04] <dbaupp> Gordon: what's the error when you write that?
[10:55:20] *** Joins: nkoep (nik@moz-3774A59.pool.mediaways.net)
[10:55:33] <vmx> Ms2ger: i guess i need to sit down and rethink about how to implement what i want. it's basically an algorithm that works for both types and i don't want to implement it twice. that begins to sound like a trait
[10:56:54] <Ms2ger> Well, if you're writing an algorithm that relies on common properties of Point and Segment...
[10:57:01] <Ms2ger> That is a trait indeed
[10:57:12] *** Joins: KindOne (KindOne@moz-B9A275BD.dynamic.ip.windstream.net)
[10:58:12] *** Quits: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: klaus)
[10:58:27] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:59:16] <Gordon> dbaupp: unresolved import error
[10:59:40] <dbaupp> Gordon: what does `rustc --version` say?
[11:00:08] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[11:00:13] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[11:00:26] <dbaupp> Gordon: hm, is your code in multiple modules? (If so, is the `extern mod extra` in a submodule?)
[11:00:41] <Gordon> bin\rustc 0.9-pre (a1d3cc5 2013-12-30 18:56:54 -0800) host: i686-pc-mingw32
[11:01:07] <Gordon> dbaupp, it's a single file
[11:01:15] <dbaupp> ok, so extra::comm::DuplexStream definitely exists
[11:01:16] <dbaupp> code?
[11:02:02] <Gordon> https://gist.github.com/anonymous/c622c595d87afa27eaff
[11:02:21] <dbaupp> oh, you need `extern mod extra;` above the use
[11:02:28] <dbaupp> to import the 'extra' crate
[11:02:50] <dbaupp> (`std` is automatically inserted, which is why you don't (normally) need `extern mod std;`)
[11:03:02] <ecl3ctic> my god
[11:03:14] <Gordon> okay
[11:03:21] <dbaupp> ecl3ctic: ?
[11:03:26] <ecl3ctic> changing from a while-loop to a for blah in range loop made my code 230 times slower
[11:03:35] <dbaupp> yay!
[11:03:44] <dbaupp> that seems very peculiar & unfortunate
[11:03:49] <dbaupp> is it a small test case?
[11:04:59] <kimundi> There should be no real speed difference - can you show both versions?
[11:05:15] <ecl3ctic> okay I'll pastebin it
[11:05:15] <kimundi> Also, are you compiling optimized?
[11:05:26] <ecl3ctic> actually no I wasn't
[11:05:35] <ecl3ctic> but I still didn't expect such a difference
[11:05:59] <ecl3ctic> dbaupp: the test case is a tight loop of about 40 operations
[11:06:08] <ecl3ctic> or rather, 3 nested loops
[11:07:15] <kimundi> well, the for loop protocol involves more function calls than a bare loop - depending on what your doing that can be painful unoptimized
[11:07:16] <dbaupp> oh, if you were, then I'm not surprised that using an iterator range loop is slower
[11:07:36] <dbaupp> it involves function calls and multiple branches that get completely removed with optimisations
[11:08:23] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:08:27] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[11:08:52] <dbaupp> and (most importantly) checked addition (via LLVM intrinsics, but even that's not good enough)
[11:08:58] <dbaupp> good enough without optimisations
[11:09:35] <ecl3ctic> so the code should be completely identical with optimisations?
[11:09:58] <dbaupp> yes
[11:10:18] <dbaupp> -O is magic
[11:10:34] <ecl3ctic> for interest here is what I had: http://pastebin.mozilla.org/3950445
[11:10:41] <Ms2ger> What's that about any sufficiently complex program? :)
[11:12:18] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[11:12:53] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[11:13:13] <ecl3ctic> I'm pretty sure my code does even get ran with -O hehe
[11:13:18] <ecl3ctic> unless it's that damn fast
[11:13:26] <ecl3ctic> because 185 ns becomes 5
[11:13:32] <ecl3ctic> and the range() method becomes 5 times faster
[11:13:33] <Ms2ger> Sounds fast :)
[11:13:39] <ecl3ctic> at 1 ns
[11:13:53] <ecl3ctic> doesn't* get ran
[11:14:02] <dbaupp> ecl3ctic: btw, you can write `#[deriving(Eq)] struct Coords { x: u32, y: u32, z: u32 }` to autogenerate that exact Eq instance
[11:14:26] <dbaupp> ecl3ctic: yeah, since it's all non-side-effect code LLVM will likely just remove it completely
[11:14:36] <dbaupp> leaving you with `bh.iter(|| {})`
[11:14:48] <ecl3ctic> fastest program ever
[11:14:49] *** Joins: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP)
[11:15:02] <ecl3ctic> and thanks for the #[deriving(Eq)] tips
[11:15:07] <ecl3ctic> that makes things simpler
[11:16:21] <dbaupp> you could do something like `if morton_encode(Coords { ... }) == <some impossible/extremely unlikely value> { print("hi"); }` and then LLVM might not be able to dead-code eliminate
[11:16:58] <ecl3ctic> ah yeah, I'll try that
[11:17:29] <Ms2ger> DCEing benchmarks is always fun :)
[11:17:45] <dbaupp> it might actually be smart enough to completely constant fold and remove it anyway; but with 1000 iterations of the loop it seems unlikely.
[11:18:04] <Ms2ger> (Like http://jsperf.com/demo-of-microbenchmark-silliness)
[11:19:21] <dbaupp> Ms2ger: :'( my firefox 29 is much slower on the middle one... which disagrees with the graph there
[11:20:08] <Ms2ger> I'm not sure if everything in that Fx29 has landed yet
[11:20:26] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[11:20:39] <ecl3ctic> uh oh
[11:20:49] <ecl3ctic> range() is still 53 times slower with -O
[11:21:01] <dbaupp> Ms2ger: secret mozilla firefox versions? :P
[11:21:05] <dbaupp> ecl3ctic: hm
[11:21:09] * dbaupp tries locally
[11:21:19] <Ms2ger> More like, unreviewed patches :)
[11:22:49] *** Joins: vgeddes (vincent.ge@moz-E5B12DD4.dsl.mweb.co.za)
[11:24:05] <dbaupp> ecl3ctic: hm, that's unfortunate :(
[11:24:07] <dbaupp> I see it too
[11:24:11] <dbaupp> Ms2ger: close enough
[11:24:28] <ecl3ctic> that, really sort of sucks
[11:24:37] <Matthias247> I have some really strange issues with the FFI. I'm passing a struct from C to Rust. And in Rust the last bytes of the struct contain the wrong data
[11:24:56] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Quit: c-a)
[11:25:01] <dbaupp> Matthias247: what's the definition of the C struct and the Rust struct?
[11:25:16] <Matthias247> dbaupp: copying that, 10s :)
[11:25:26] <dbaupp> ecl3ctic: oh, the reason is the code isn't equivalent
[11:25:44] <ecl3ctic> the assembly, or the Rust?
[11:25:53] <ecl3ctic> (well, obviously the assembly)
[11:25:56] <dbaupp> ecl3ctic: you aren't resetting y and z after the first run
[11:26:05] <dbaupp> so the inner loop only runs 10 times
[11:26:07] <dbaupp> rather than 1000
[11:26:07] <ecl3ctic> oh....
[11:26:11] <ecl3ctic> oh.......................
[11:26:15] <ecl3ctic> *facepalm*
[11:26:24] <dbaupp> haha
[11:26:32] <dbaupp> I still see range being slightly slower though :(
[11:26:33] <ecl3ctic> this is why I didn't want to use while-loops in the first place!
[11:27:19] <Matthias247> dbaupp: : https://gist.github.com/anonymous/8281498
[11:27:42] <dbaupp> Matthias247: #[repr(C)] does nothing on structs, fwiw
[11:28:03] <dbaupp> (it just constrols the size of enum discriminants; rust structs are C compatible by default.)
[11:28:12] <ecl3ctic> dbaupp: yeah I get 1608 vs 1841 ns now
[11:28:12] <Matthias247> dbaupp: ok :) But I learned that I need it for enums
[11:28:38] <dbaupp> ecl3ctic: similar to what I see, yeah
[11:28:38] <Matthias247> At first I thought my enums were the problem. But after switching everything to int the problem persists
[11:28:52] <dbaupp> yeah, looks weird
[11:28:54] <dbaupp> what platform?
[11:29:01] <Matthias247> And even after reordering the struct fields so that alignment shouldn't be a problem
[11:29:05] <Matthias247> Win32
[11:29:12] <Matthias247> DLL created with VS2012
[11:29:17] <dbaupp> hum
[11:29:42] <dbaupp> how are you declaring the functions that go to/from C?
[11:31:39] <dbaupp> Matthias247: also, what is the bottom printing? a Notification?
[11:32:40] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[11:32:46] *** Joins: ofeldt (ofeldt@moz-5E23FB72.dip0.t-ipconnect.de)
[11:32:52] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[11:32:58] <Matthias247> dbaupp: https://gist.github.com/anonymous/8281543
[11:33:17] <Matthias247> the bottom is printing all single bytes of the notification structure
[11:33:19] *** Quits: ofeldt- (ofeldt@moz-AEF28830.dip0.t-ipconnect.de) (Ping timeout)
[11:34:01] <dbaupp> you might need `extern "system" { ... }` to change the ABI
[11:34:04] <Matthias247> C is C++, but everything in extern C blocks
[11:34:31] <dbaupp> (to the `system` abi, rather than the `C` abi, which is the default.)
[11:34:51] <Matthias247> the strange thing is that most things work, up to a specific point in the structure
[11:35:08] <Matthias247> in Rust or in C++?
[11:35:09] <dbaupp> (I'm only guessing here, I just remember that "system" was added for something on windows.)
[11:35:11] <dbaupp> in Rust
[11:35:30] <Gordon> I got duplex streams working but am getting a failure message anyways: https://gist.github.com/anonymous/d2709abc522be7805d3a
[11:35:41] <Matthias247> sizeof(ozw_notification) in Rust also prints the same as sizeof(Notification) in C
[11:35:48] <Gordon> am I doing anything wrong?
[11:36:03] <dbaupp> Matthias247: very peculiar
[11:36:08] <dbaupp> Gordon: possibly
[11:37:05] <dbaupp> Gordon: ah! the problem is the `a` end of the channel gets closed when main ends
[11:37:15] <eddyb> Matthias247: hehe. I think 0xCC is heap padding
[11:37:17] <dbaupp> Gordon: and so the recv inside incrementer fails
[11:37:24] <Gordon> okay, makes sense
[11:37:36] <jhasse> dbaupp: AFAIK "system" results in "C" on linux and "stdcall" on Windows
[11:38:10] <eddyb> Matthias247: can you println!("{:?}", notification); in Rust?
[11:38:12] <Matthias247> eddyb: yes, the padding at the end in C is ok. What's strange is the bytes in front. E.g. that the 5D moved
[11:38:13] <dbaupp> Gordon: (btw, the long type signature on `let (a,b): ... = DuplexStream::new()` can be omitted completely, and just rely on type inference, i..e `let (a,b) = DuplexStream::new();`.)
[11:38:26] <dbaupp> jhasse: ah, ok; thanks :)
[11:38:44] <Gordon> right, shutting b down prevents the failure
[11:38:47] <eddyb> Matthias247: oh, right, I see it now, I thought they were just different
[11:39:32] *** Joins: gwty (gwtypc@26E36FDA.A9370AD.553D87E5.IP)
[11:39:34] <Matthias247> eddyb: yes, but that also only tells me that the content is different. I realized the bug through the println because I used enums before and the println crashed because of invalid values in that
[11:40:02] <eddyb> Matthias247: I'm just curious to see how the fields map to bytes
[11:40:07] <dbaupp> Matthias247: did the "system" ABI help?
[11:40:38] <eddyb> Matthias247: actually, it wouldn't be that good because it's not hex. but I can convert the last few fields manually
[11:41:25] <eddyb> Matthias247: I'm hoping to see something revelatory
[11:41:28] <Matthias247> dbaupp: I switched the definition of the callback to extern system
[11:41:51] <Matthias247> results in a c++ runtime check failure :O
[11:41:58] *** Joins: tav (tav@moz-A8FFF7BF.range217-44.btcentralplus.com)
[11:41:59] <dbaupp> Matthias247: the call back?
[11:42:04] <Matthias247> The value of ESP was not properly saved accross a function call
[11:42:08] <dbaupp> Matthias247: I mean of the ozw_init declaration in Rust?
[11:42:21] <Gordon> dbaupp: omitting the type signature gives an error "cannot determine a type for this local variable, unconstrained type"
[11:42:24] <Matthias247> ozw_init is not the problem, that works
[11:42:30] <dbaupp> Gordon: oh, works for me
[11:42:35] *** Quits: tav (tav@moz-A8FFF7BF.range217-44.btcentralplus.com) (Quit: tav)
[11:42:37] <dbaupp> Matthias247: ooooh, you should've said! :)
[11:42:38] <Matthias247> the problem is the callback that is passed to ozw_init and is executed from C
[11:42:48] <Matthias247> yes, it's hidden :)
[11:43:01] <dbaupp> Matthias247: how are you declaring the function you are passing to that callback?
[11:43:06] <dbaupp> (i.e. the one in Rust)
[11:43:27] <Matthias247> extern "C" fn ozw_notification(notification_target: *mut Ozw, notification: Notification) {
[11:43:40] <dbaupp> Gordon: (just using your code from that gist with no modifications other than removing the type signature)
[11:43:46] <Matthias247> switched back to C right now
[11:44:20] <dbaupp> Gordon: If you do need to give a hint I think `let (a, b) = DuplexStream::<uint, uint>::new();` will also work
[11:45:00] <Gordon> yes that works
[11:45:02] <dbaupp> Matthias247: hum, seems correct
[11:45:04] <eddyb> Matthias247: have you tried passing by reference?
[11:45:34] <Matthias247> eddyb: not yet. Passing by pointer and copying it in Rust would be my fallback
[11:45:56] <eddyb> Matthias247: does that work?
[11:45:58] *** Quits: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP) (Client exited)
[11:46:41] <Matthias247> eddyb: that's the println of the notificaton: https://gist.github.com/anonymous/8281692
[11:46:43] <dbaupp> what's the ABI of a function pointer in C++?
[11:47:24] *** Joins: rntz_ (rntz@moz-E7065CE4.cmdnnj.fios.verizon.net)
[11:47:59] <Matthias247> The function pointer works. The correct function in rust is called ;)
[11:48:16] <dbaupp> but it might not be called correctly
[11:48:28] <dbaupp> the exact corruption there seems a little peculiar though
[11:48:37] <dbaupp> ... wait how big is that struct?
[11:48:49] *** Quits: mpiechotka (mpiechotka@moz-93FEEFE.adsl.inetia.pl) (Ping timeout)
[11:49:02] <Matthias247> 24 bytes
[11:49:07] <Matthias247> in both languages
[11:49:07] <dbaupp> is one side thing it will be on the stack and the other side thinking it will be in registers?
[11:49:56] <dbaupp> one more question... is the `ozw_notification_cb` in C++ inside an extern "C" { ... } block?
[11:50:30] *** Joins: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP)
[11:50:32] <Matthias247> yes
[11:50:48] * dbaupp is out of ideas
[11:51:07] <Matthias247> me too. Tried also 3 hours yesterday :(
[11:51:31] *** Quits: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP) (Client exited)
[11:52:33] *** Joins: moostik (Icedove@moz-2E0A4DA6.minet.net)
[11:53:41] <mitsuhiko> Matthias247: what's the problem?
[11:53:47] <mitsuhiko> (chat backlog is broken)
[11:54:48] <Matthias247> mitsuhiko: I'm passing a structure from C++ to Rust in a callback and the last bytes of the structure are corrupted
[11:55:01] <Matthias247> mitsuhiko: https://gist.github.com/anonymous/8281498
[11:55:15] *** Joins: TisButMe (Mibbit@moz-2B5AC66A.w92-137.abo.wanadoo.fr)
[11:55:31] *** Joins: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca)
[11:55:38] *** Quits: Ferreus (ferreus@moz-7DCCF9FA.dip0.t-ipconnect.de) (Ping timeout)
[11:56:58] <dbaupp> mitsuhiko: btw, https://botbot.me/mozilla/rust/
[11:57:40] <mitsuhiko> Matthias247: how do you pass it?
[11:58:12] <Matthias247> mitsuhiko: I pass the struct by value. See last line here: https://gist.github.com/anonymous/8281543
[11:59:12] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[11:59:14] *** Quits: Twisol (Twisol@moz-17948F30.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[11:59:22] <Matthias247> the init function is called once from rust and passes the address of the callback function to C++. Then the callback function is regularly called as you see here.
[12:00:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[12:01:42] <mitsuhiko> hmm
[12:01:48] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[12:02:20] <mitsuhiko> Matthias247: so i can't reproduce this
[12:04:53] <eddyb> Matthias247: are you sure you don't have aliasing?
[12:06:11] <Matthias247> eddyb: I'm pretty sure. The value in C is on the stack and should be copied to rust. And I don't modify it on either side
[12:06:39] <mitsuhiko> Matthias247: can you make a minimal example that shows this behavior?
[12:07:31] <ecl3ctic> dbaupp: I have really interesting benchmark results for while-loops and range()
[12:07:36] <Matthias247> mitsuhiko: I can try. But do you have Win / Visual Studio?
[12:07:39] <eddyb> Matthias247: passing by "value" doesn't copy large values
[12:07:39] <dbaupp> ecl3ctic: hm?
[12:07:50] <mitsuhiko> Matthias247: i'm on os x here right now
[12:07:52] <dbaupp> eddyb: really?
[12:07:55] <ecl3ctic> running 8 tests test bench_range_i32      ... bench:      1144 ns/iter (+/- 8) test bench_range_i64      ... bench:       541 ns/iter (+/- 6) test bench_range_u32      ... bench:       631 ns/iter (+/- 16) test bench_range_u64      ... bench:       543 ns/iter (+/- 3) test bench_while_loop_i32 ... bench:       539 ns/iter (+/- 2) test bench_while_loop_i64 ...
[12:08:00] <mitsuhiko> i have a windows pc next to me, but no rust on it
[12:08:03] <ecl3ctic> ok that's bad formatting
[12:08:06] <ecl3ctic> let me pastebin again
[12:08:23] <eddyb> dbaupp: doesn't fit in a register => value passed by reference
[12:09:00] *** Quits: gwty (gwtypc@26E36FDA.A9370AD.553D87E5.IP) (Client exited)
[12:09:21] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[12:09:25] <ecl3ctic> dbaupp: pastebin http://pastebin.mozilla.org/3950770
[12:09:54] <Matthias247> eddyb: sure. But then rust should copy it from the passed address into a local stack copy
[12:10:10] <ecl3ctic> summary: range() handles u32 bad and i32 REALLY BAD (on x86-64 arch)
[12:10:20] <eddyb> Matthias247: I fixed that
[12:10:32] *** Joins: Ferreus (ferreus@moz-B1EB17E5.dip0.t-ipconnect.de)
[12:10:52] <eddyb> Matthias247: I guess on master it still does that. but it could be optimized by LLVM
[12:11:05] <Matthias247> eddyb: in which way?
[12:11:18] <Tobba> why would you put printf in a benchmark
[12:11:36] <Matthias247> If it's not copied then the semantics would not match
[12:12:03] *** Joins: gwty (gwtypc@26E36FDA.A9370AD.553D87E5.IP)
[12:12:06] <dbaupp> eddyb: weird, we seem to pass fixed length vector by reference always (even `[u8, .. 1]`)
[12:12:37] <dbaupp> ecl3ctic: file a bug!
[12:13:02] <ecl3ctic> dbaupp: I suppose I will!
[12:13:23] <eddyb> Matthias247: which semantics? Rust is memory-safe anyway
[12:14:13] <Matthias247> eddyb: Ok. You mean that I must only copy if it's a mut struct?
[12:15:17] <eddyb> Matthias247: my optimization copies onto the stack only if it's a mut binding (which requires by-ref)
[12:15:29] <eddyb> though that can still be optimized away by LLVM
[12:15:52] <eddyb> Matthias247: does passing by reference work?
[12:16:30] *** Quits: moostik (Icedove@moz-2E0A4DA6.minet.net) (Ping timeout)
[12:16:42] <Matthias247> eddyb: I will test it
[12:16:54] <kimundi> Tobba: If the printf is not there, then llvm optimizes the benchmarks to nops
[12:17:20] <Tobba> printf is pretty much slightly less worse than throwing in sleep(rand())
[12:17:40] <kimundi> Tobba: The printf never gets called
[12:17:46] <Tobba> oh, well then
[12:17:57] <TisButMe> Where can I find the definition of the iterator! macro, please ?
[12:18:23] <kimundi> Tobba: its just there so that llvm thinks it _might_ get called, and thus can not remove all the code that would otherwise not interact with the outside world
[12:18:33] <Tobba> yeah I get it
[12:18:50] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[12:19:17] <kimundi> TisButMe: There is no general iterator! macro, except for a few Iterator implementations in libstd. There it should be somewhere in the same module
[12:20:09] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[12:21:06] <Matthias247> eddyb: passing by pointer and then creating a rust-local copy with (*notification).clone() works and has the correct content
[12:21:14] <geal> is it possible to create a structure with one member being the implementor of a trait? Like struct A<R:Reader> { reader: ~R}  ?
[12:22:18] <eddyb> Matthias247: why clone it? you can just copy it
[12:22:24] *** Quits: z0w0 (zack@moz-3A8F8F5E.lns8.woo.bigpond.net.au) (Client exited)
[12:22:29] <eddyb> Matthias247: let x = unsafe { *notification };
[12:22:46] <sanxiyn> geal: Did you try it?
[12:22:57] <Matthias247> eddyb: maybe because I have not fully understood when clone is necessary and when not :)
[12:23:09] <dbaupp> ecl3ctic: https://gist.github.com/huonw/27100788d1d6a837d4a7
[12:23:09] <Matthias247> guess it's not required on POD strcuts
[12:23:23] <dbaupp> ecl3ctic: in particular: https://gist.github.com/huonw/27100788d1d6a837d4a7#file-results-txt
[12:23:26] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[12:23:27] <Tobba> ugh
[12:23:29] <kimundi> geal: You can write a generic struct and then a impl for it with that trait bound, but you can't restrict the struct itself in general
[12:23:54] <dbaupp> ecl3ctic: u8/i8 are ridiculously slow for both, and 16-bits range vs. while is horrible
[12:24:17] *** Quits: rca (rcatolino@moz-A87C14FE.adsl.proxad.net) (Ping timeout)
[12:24:19] *** Joins: khodzha (khodzha@AF0E54DB.EF9FA30D.CA6E2165.IP)
[12:24:31] <kimundi> Matthias247: clone() should do the same as a plain implicit copy for a POD type
[12:24:59] <eddyb> Matthias247: clone is evil. it copies anything unique (on the heap). it's only required for things that move by default (and for generics over something that can be copied)
[12:25:11] <kimundi> eddyb: what? no!
[12:25:18] <sanxiyn> kimundi: DST5 proposal includes a proposal to add trait bounds to structs
[12:25:33] <kimundi> There is DST5 now?
[12:25:38] <sanxiyn> http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[12:25:42] <eddyb> O_O
[12:25:53] <eddyb> kimundi: clones are overused, just like ~T
[12:25:56] <sanxiyn> Seems more baked this time
[12:26:15] *** Quits: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) (Quit: kvanb)
[12:26:27] <kimundi> eddyb: A correct clone implementation has zero performance overhead if you actually want a copy
[12:26:38] <dbaupp> ecl3ctic: and removing the `^ (i + j + k)` part of the expression on the RHS of the x += line means that the 3 nested loops gets dead code eliminated for everything except u8, u16, u32 for loops (and the signed ones too)
[12:27:05] <Matthias247> I'm now creating a hopefully reproducable minimal example :)
[12:27:07] <kimundi> eddyb: If you don'T want a copy, but a move, then of course don't use it - but if its a POD type then it doesn't make a difference either way
[12:27:21] <eddyb> kimundi: yes. but you rarely want a copy. most of the time you think you need a copy
[12:28:10] <kimundi> Sure, I'm not advocating to always copy - I'm just saying that claiming that is always works with things on the heap is wrong
[12:28:38] <sanxiyn> eddyb: That was a strange sentence
[12:28:48] <sanxiyn> (Using "want" in the first part and "need" in the second part)
[12:29:05] <sanxiyn> It is possible to want a copy even if you don't need a copy
[12:29:21] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[12:29:35] <kimundi> And that there is no distinction betwen types that move and types that don't move in regard to clone() - the latter just allow you to do a clone() call "implicitly" because it is identical to a memcpy
[12:29:46] <geal> kimundi: that is what I tried to write. "struct A<R> { id:uint, reader: ~R}" then later "impl X for A<Reader>" but what bugs me is trying to create an instance of that struct: "~A<Reader>{ id:0, reader: rd}". I get "error: expected one of `;`, `}` but found `:`" pointing on the first member of the struct
[12:30:26] <ecl3ctic> dbaupp: shall I file a bug report and link to your results?
[12:30:42] <kimundi> geal: The impl line is wrong - if Reader is a trait, then you want a generic impl over that trait: impl<R: Reader> X for A<R> { ... }
[12:31:09] <geal> oh, ok
[12:31:14] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Quit: c-a)
[12:31:45] <kimundi> And for the struct constructor expression, you either need to write ~A::<Reader> { ... } or leave the generic type of and let it infer
[12:31:55] <dbaupp> ecl3ctic: including it inline would be better
[12:32:17] <kimundi> And unless you need it for a datastructure, leave off the ~ ;)
[12:32:21] <ecl3ctic> dbaupp: sure thing
[12:32:52] <dbaupp> ecl3ctic: wait, I have a simpler example
[12:33:33] <dbaupp> ecl3ctic: https://gist.github.com/huonw/9895422167b7c40931c3
[12:34:56] <ecl3ctic> kk
[12:35:18] <ecl3ctic> dbaupp: also, are you running 64-bit linux?
[12:35:39] *** Quits: gwty (gwtypc@26E36FDA.A9370AD.553D87E5.IP) (Client exited)
[12:36:12] *** Joins: philix (philix@moz-4689D536.user.veloxzone.com.br)
[12:37:24] <dbaupp> ecl3ctic: yes
[12:37:39] <dbaupp> ecl3ctic: thanks for noticing this
[12:38:22] <geal> ok, I have too much code interacting in weird ways, this is getting crazy :D
[12:38:31] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[12:39:00] <ecl3ctic> dbaupp: thanks for the nice benchmarks
[12:39:10] <ecl3ctic> dbaupp: now that I've found it I'm scared to use convenience functions like that :P
[12:39:45] <ecl3ctic> dbaupp: also, the difference between range and while seems to be a fair bit smaller in your latest benchmark
[12:40:08] <ecl3ctic> (though still obvious)
[12:40:32] <zokier`> https://gist.github.com/zokier/8281688 why so many dereferences are needed here? 
[12:41:38] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[12:41:50] <Ms2ger> First, vector.iter() iterates over pointers to elements
[12:41:55] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[12:42:24] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[12:42:34] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[12:42:54] <Ms2ger> Second, the callback passed to filter takes &A, where A is the type of the iterated elements
[12:43:54] <Ms2ger> You could do .map(|x| *x) before filter(), then you'd need only one deref
[12:44:07] <Ms2ger> zokier`, ^
[12:44:26] <geal> ok, I give up, I'm not even sure that code will work on the end. If anyone want to continue updating rust-csv to the current version, here is the code https://github.com/Geal/rust-csv
[12:44:35] <geal> and now I'm rewriting that from scratch :)
[12:45:16] <eddyb> sanxiyn: that wording was intentional. it's the same problem with the overuse of ~T. overuses come from thinking it's needed, not from wanting it
[12:45:19] <mitsuhiko> Ms2ger: move_iter() often works
[12:45:22] <dbaupp> ecl3ctic: presumably because it gets worse with each nested loop
[12:45:40] <dbaupp> ecl3ctic: (feel free to use the first one, I just though having fewer loops might be slightly clearer.)
[12:45:41] <ecl3ctic> dbaupp: https://github.com/mozilla/rust/issues/11339
[12:45:48] <sanxiyn> eddyb: Probably not the best phrasing then...
[12:46:11] *** Joins: rca (rcatolino@moz-A87C14FE.adsl.proxad.net)
[12:46:16] <Ms2ger> mitsuhiko, for a ~[u8]?
[12:46:18] <dbaupp> ecl3ctic: awesome! (I made some small edits :) )
[12:46:55] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[12:47:05] <zokier`> wait, there is a move_iter? ...oh, that'll make my life bit easier
[12:47:18] <mitsuhiko> Ms2ger: yeah, i often do that
[12:47:22] <mitsuhiko> i wish for a copy_iter() though
[12:47:30] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[12:47:42] <Ms2ger> Yeah, I was thinking copy_iter here
[12:48:01] * Ms2ger looks how move_iter wirks
[12:48:03] <Ms2ger> works
[12:48:04] <dbaupp> zokier`: move_iter requires having a ~[], and it consumes it
[12:48:14] <dbaupp> move_iter's current implementation is magical
[12:48:17] <dbaupp> <3 strcat
[12:48:23] <ecl3ctic> dbaupp: ah yes, I'm not so skilled in formatting
[12:49:15] <dbaupp> ecl3ctic: don't worry :) (you can click the edit button to see raw markdown to see the changes I made if you like: just putting ``` at the start and end of the pieces of "raw" text.)
[12:49:58] *** Quits: jhasse (jhass_000@moz-AF29DD76.dip0.t-ipconnect.de) (Quit: Verlassend)
[12:50:28] <Ms2ger> dbaupp, yes, it is quite
[12:51:52] <ecl3ctic> dbaupp: thanks
[12:54:02] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:54:05] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[12:54:35] <kimundi> sanxiyn: DST5 seems indeed well thought out. Me like :)
[12:54:45] *** Quits: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca) (Quit: canhtak)
[12:55:02] *** Joins: nik_ (nik@moz-F6CD3A5.pool.mediaways.net)
[12:55:06] <eddyb> sanxiyn: why? "wanting" implies some measure of knowledge. "thinking you need it" is a reaction to compile errors or shallow design
[12:55:19] *** Quits: nkoep (nik@moz-3774A59.pool.mediaways.net) (Ping timeout)
[12:55:23] <eddyb> dbaupp: does move_iter still swap every element?
[12:55:26] *** Quits: mleise (marco@moz-850E56A9.pools.arcor-ip.net) (Ping timeout)
[12:55:54] <dbaupp> eddyb: no, strcat change that and made it fast
[12:56:04] <dbaupp> with a small amount of unsafe
[12:56:04] <mitsuhiko> Ms2ger: https://github.com/mozilla/rust/issues/11340
[12:56:08] <mitsuhiko> does that make sense?
[12:56:11] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[12:56:42] <Ms2ger> I don't know :)
[12:56:50] <eddyb> dbaupp: does it still do the right thing when destructing MoveIterator halfway through?
[12:56:58] <dbaupp> eddyb: yes
[12:57:10] <dbaupp> fwiw, I'm against copy_iter() because it makes it so easy to just say "oh I'm getting type errors about references, let's just use copy_iter"
[12:57:15] <eddyb> dbaupp: does it use the index to control destruction?
[12:57:29] <Matthias247> dbaupp, mitsuhiko, eddyb: Ok, I now have a reproducable example without my dependencies: https://gist.github.com/anonymous/8282539
[12:57:30] <dbaupp> eddyb: look at the implementation; it's not very long
[12:57:51] <eddyb> dbaupp: right. talking on IRC is so easy though :(
[12:58:02] <eddyb> copy_iter sounds bad. .values() or .val_iter() should be fine for Pod types
[12:58:08] *** Joins: Demagog (chatzilla@moz-D6C49A87.goleniow.vectranet.pl)
[12:58:19] <khodzha> Hello, I'm trying to implement empty() method for rust iterators( actually it's only next().is_some() ), but next() is mutating iterator itself. So can I somehow obtain iterator's next() value without mutating it? Maybe via clone(), but I haven't found clone method for iterator. It's for this issue: https://github.com/mozilla/rust/issues/11218
[12:58:29] <rca> eddyb: it iterates over the remaining elements and explicitely frees them.
[12:58:40] <eddyb> rca: that's what I thought
[12:59:02] <rca> i looked at it like a week ago, so that is unless it changed since then.
[12:59:08] *** Joins: pinkdevil (chatzilla@C9F0B216.B17E2C78.C523362B.IP)
[12:59:08] <dbaupp> no
[12:59:12] <dbaupp> that's the current impl
[12:59:50] <mitsuhiko> khodzha: no, and that would be a bad idea
[12:59:58] <mitsuhiko> khodzha: right now next() is an atomic operation
[12:59:58] <dbaupp> khodzha: that issue implies that it is ok to consume it
[13:00:03] <mitsuhiko> being able to peak means that's no longer the case
[13:00:07] <mitsuhiko> but you can make a peakable iterator if you want
[13:00:12] <mitsuhiko> that's already supported
[13:00:33] <Ms2ger> mitsuhiko, how about if you consumer the iterator?
[13:00:53] <dbaupp> rusti: let v = [1,2,3]; let mut it1 = v.iter(); let mut it2 = v.iter(); it1.next(); (it1.next(), it2.next())
[13:00:55] <khodzha> dbaupp: okay if there is only one value, I'm getting it via next() and there is only None 
[13:00:55] <Demagog> Hello. I am just starting with rust and I look for some idiomatic way to call shell function. Something like system() from c but native to rust? 
[13:00:55] -rusti- pastebinned 32 lines of output: http://ix.io/9Iv
[13:01:04] <dbaupp> rusti: let v = [1u,2,3]; let mut it1 = v.iter(); let mut it2 = it1.clone(); it1.next(); (it1.next(), it2.next())
[13:01:06] *** Joins: simendsjo (Mibbit@moz-9859255A.getinternet.no)
[13:01:06] -rusti- pastebinned 18 lines of output: http://ix.io/9Iw
[13:01:17] <dbaupp> rusti: let v = [1,2,3]; let mut it1 = v.iter(); let mut it2 = v.iter(); it1.next(); println!("{:?}", (it1.next(), it2.next()))
[13:01:18] -rusti- (Some(&2), Some(&1))
[13:01:18] -rusti- ()
[13:01:28] <dbaupp> khodzha: I don't understand
[13:01:32] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[13:01:43] <mitsuhiko> http://static.rust-lang.org/doc/master/std/iter/struct.Peekable.html
[13:01:48] <dbaupp> both the examples jdm gives in that issue will mutate the iterator
[13:01:57] <Ms2ger> Right
[13:02:15] <Ms2ger> That's not a problem in the cases we want to use empty()
[13:02:17] <dbaupp> mitsuhiko: (fwiw, cloning an iterator to peek isn't completely ridiculous, e.g. the vector and string iterators are cheap to clone)
[13:02:36] <kimundi> Hm, with the POD kind we could indeed proved a values() method
[13:02:42] <mitsuhiko> just saying there are peekables :)
[13:02:49] <dbaupp> mitsuhiko: that issue isn't about peekables
[13:02:53] *** Parts: pinkdevil (chatzilla@C9F0B216.B17E2C78.C523362B.IP) ()
[13:02:56] <dbaupp> at least, not precisely
[13:03:16] <dbaupp> it's about "the only property of this iterator that I wish to know is whether it has any elements"
[13:03:33] <mitsuhiko> dbaupp: but that is a conflict with the way iterators work
[13:03:37] <dbaupp> mitsuhiko: no
[13:03:38] <mitsuhiko> and changing that would be a huge mistake
[13:03:41] <dbaupp> it's not
[13:03:49] <Ms2ger> Why would it be?
[13:03:51] <mitsuhiko> many iterators do not know if they could produce an element or not until you try to produce it
[13:03:55] <dbaupp> yes
[13:03:56] <dbaupp> that's fine
[13:03:58] <mitsuhiko> Ms2ger: right now next() is an atomic operation
[13:04:01] <Ms2ger> And?
[13:04:07] <dbaupp> this is *consuming* the iterator explicitly
[13:04:10] <mitsuhiko> if it would have an empty() method that would no longer be the case
[13:04:16] <dbaupp> it's not used after the .empty() check
[13:04:18] <kimundi> Now I wonder if naming the iterator methods nicer in general has value: .refs() .values() .move_values()
[13:04:19] <Ms2ger> I don't understand
[13:04:39] <dbaupp> Ms2ger: (I'm correct in saying "it's not used after the .empty() check", right?)
[13:04:43] <sanxiyn> dbaupp: Well if you don't use iterator after empty check, .next().is_some() is good enough?
[13:04:53] <Ms2ger> No
[13:04:55] <Ms2ger> That's ugly
[13:05:00] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[13:05:02] <Ms2ger> dbaupp, yes
[13:05:04] <mitsuhiko> please, please, please don't add an empty method
[13:05:18] <dbaupp> mitsuhiko: it's not making iterators non atomic
[13:05:22] <Ms2ger> I'm not sure what your problem with it is
[13:05:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:05:25] <mitsuhiko> dbaupp: how is it not?
[13:05:26] <dbaupp> it's not changing them
[13:05:34] *** Quits: espadrine (Thunderbir@moz-BB3A80FC.w90-2.abo.wanadoo.fr) (Ping timeout)
[13:05:35] <sanxiyn> dbaupp: I don't understand
[13:05:41] <dbaupp> did you read the two sample implementations given in the issue?
[13:05:42] <kimundi> He, let them add a empty method, no one will use it as its useless :P
[13:05:45] <mitsuhiko> there are only two ways to add an empty() method. one is making it non atomic, the other one is buffering an element
[13:05:46] <sanxiyn> dbaupp: Link?
[13:05:49] <eddyb> how are iterators atomic?
[13:05:49] <Ms2ger> All I want to be able to do is if !node.child_elements.empty() { return Err() }
[13:05:58] <mitsuhiko> the buffering one exists already: peekable()
[13:05:59] <dbaupp> sanxiyn: yeah, I'm not keen on it because .next().is_some() is so simple
[13:06:07] <kimundi> mitsuhiko: There is a third one
[13:06:09] <skrylar> i forget; doesn't Drop run even if its used on something that isn't an owned pointer?
[13:06:18] <mitsuhiko> kimundi: which one? discarding an element?
[13:06:19] <dbaupp> sanxiyn: https://github.com/mozilla/rust/issues/11218
[13:06:21] *** Quits: Demagog (chatzilla@moz-D6C49A87.goleniow.vectranet.pl) (Quit: ChatZilla 0.9.90.1 [Firefox 29.0a1/20140104030204])
[13:06:24] <dbaupp> mitsuhiko: this isn't peeking
[13:06:36] <mitsuhiko> no, it's equivalent ot calling .next().is_some()
[13:06:38] <dbaupp> this is "get an iterator; check if it's empty; never use it again"
[13:06:41] <mitsuhiko> which is a very cornery case
[13:06:43] <kimundi> mitsuhiko: consume the Iterator, leaving you only with the information of wether the iterator you just threw away was empty or not
[13:06:48] <mitsuhiko> also that does not actually work
[13:06:55] <mitsuhiko> because .next() is only guranteed to return None once
[13:06:56] <dbaupp> why?
[13:06:56] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[13:06:57] <mitsuhiko> afterwards it's undefined
[13:07:03] <Ms2ger> Huh?
[13:07:06] <mitsuhiko> you need to .fuse() an iterator to call next() more than once
[13:07:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:07:12] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[13:07:12] <kimundi> mitsuhiko: is right thre, I think
[13:07:17] <Ms2ger> I'm only going to call next() once
[13:07:37] <mitsuhiko> the presence of a .empty() indicates to the user of the api that it's safe to call to figure out if the iterator is exhausted or not
[13:07:38] <sanxiyn> kimundi: I think tricky part is ensuring "iterator you just threw away"
[13:07:42] <sanxiyn> If that can be done I think it's okay
[13:07:52] <mitsuhiko> so the only place you could ever call this is if you already know you hit the end
[13:07:54] <sanxiyn> i.e. get compile error if you use it after empty()
[13:07:55] <mitsuhiko> how is that useful :)
[13:08:02] <kimundi> sanxiyn: just have the method take self by value, problem solved
[13:08:09] <dbaupp> mitsuhiko: if it returned Some after returning None then it would no longer be empty
[13:08:18] <kimundi> mitsuhiko: Hence I said that no one would use such a method ;)
[13:08:26] <dbaupp> it's not "was empty at some point"
[13:08:36] <kimundi> dbaupp: But thats how Iterators are defined today - only the first None is defined
[13:08:51] <dbaupp> eh, I guess
[13:08:57] <Ms2ger> kimundi, did you see the issue? Servo wants to use it
[13:09:02] <sanxiyn> mitchty: Well it's sort of useful?
[13:09:04] <dbaupp> (that said, I'm also *not* in favour of adding .empty().)
[13:09:08] <sanxiyn> oops was to mitsuhiko
[13:09:13] <luz> is there any way to get the raw mode bits from a FileStat?
[13:09:18] <kimundi> which issue?
[13:09:24] <Ms2ger> https://github.com/mozilla/rust/issues/11218?
[13:09:24] <dbaupp> servo can just have a utility `empty(&mut Iterator)` function :P
[13:09:29] *** Joins: espadrine (Thunderbir@moz-6E1AE057.w92-128.abo.wanadoo.fr)
[13:09:44] <sanxiyn> dbaupp: Yeah I think so
[13:10:06] <sanxiyn> Not necessary to have it in stdlib I think
[13:10:30] *** Quits: vgeddes (vincent.ge@moz-E5B12DD4.dsl.mweb.co.za) (Ping timeout)
[13:10:39] <eddyb> does Peekable keep a vector of "future elements"?
[13:10:50] <mitsuhiko> eddyb: you can only peek one
[13:10:50] <dbaupp> no
[13:10:53] <dbaupp> an option
[13:10:55] <kimundi> eddyb: It lazy caches one element afaik
[13:11:02] <sanxiyn> eddyb: It keeps one
[13:11:12] <luz> std::io::FileType doesn't cover every kind of file :(
[13:11:20] <sanxiyn> C has "ungetc". Peekable is basically the same thing
[13:11:36] <eddyb> so a Peekable adaptor can have an "empty" method
[13:11:44] <kimundi> eddyb: Yes
[13:11:46] <eddyb> which is actually safe
[13:11:52] <eddyb> (user-wise)
[13:12:07] <kimundi> eddyb: I think so
[13:12:12] <eddyb> instead of .next().is_some() which is a bad idea in a few ways
[13:12:32] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[13:12:39] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[13:12:46] <kimundi> eddyb: There might be a need to add an additional boolean field in there, maybe?
[13:12:46] <eddyb> .peek().is_none() == .empty() IMO
[13:12:48] <Ms2ger> Why is it bad?
[13:12:55] <eddyb> kimundi: boolean? where?
[13:13:03] <sanxiyn> kimundi: It's already an option
[13:13:09] <sanxiyn> kimundi: None serves as boolean
[13:13:29] * Ms2ger doesn't understand the objections
[13:13:39] <kimundi> eddyb: In the Peekable struct - I'm not sure if it can differentate between "did not get first value yet" and "iterator has run out" otherwise
[13:13:50] <Ms2ger> But if people care so much, I guess we'll implement it in Servo instead
[13:13:51] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[13:13:51] <sanxiyn> Ms2ger: Because i.next().is_some() discards the first element
[13:13:58] <sanxiyn> Ms2ger: If you want to use i afterwards
[13:14:07] <eddyb> s/first/current
[13:14:07] <Ms2ger> But I don't want to use it afterwards!
[13:14:17] <sanxiyn> Ms2ger: Yes I understand that part
[13:14:22] <eddyb> Ms2ger: that's not semantically equivalent to "empty"
[13:14:34] <Ms2ger> It's indistinguishable
[13:14:34] <vmx> is there a chance that something like "enum Geometry { Point {}, Segment { p: Point } };" will be possible in the future (when "struct_variant" is enabled). or is that a limitation by design?
[13:14:37] <sanxiyn> Ms2ger: People seem to feel "no use afterwards" version is not general enough to be included in stdlib
[13:14:42] <sanxiyn> Ms2ger: As in, specialized use
[13:14:45] <eddyb> kimundi: that's what I just thought of. fusing + peekable would do that
[13:14:58] <kimundi> eddyb: Fuse would allow for that in any way, yeah
[13:15:02] <mitsuhiko> maybe peekable should imply fusable
[13:15:08] <Ms2ger> But sure
[13:15:15] <mitsuhiko> or just require iterators to be fused :P
[13:15:17] <Ms2ger> Does someone want to file an issue on Servo instead?
[13:15:18] <mitsuhiko> which i would very much prefer
[13:15:27] <eddyb> mitsuhiko: it's a perf issue
[13:15:33] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[13:15:37] <mitsuhiko> eddyb: most iterators automatically become fused
[13:15:44] <eddyb> not really
[13:16:16] <mitsuhiko> well, initially i could only remember a single iterator that was not fused in the stdlib
[13:16:21] <eddyb> well. depends how you implement them. you'd have to investigate the issue
[13:16:23] <mitsuhiko> and that i would argue was more a bug
[13:16:31] *** Quits: mindcat (mindcat@12BEE1F1.BED0357D.E47F7BFE.IP) (Ping timeout)
[13:16:36] <mitsuhiko> it would not have required extra state on the iterator
[13:16:49] <mitsuhiko> whereas right now the fusable iterator does require extra state :)
[13:17:04] <eddyb> mitsuhiko: which one? is there a github issue open? maybe the original decision was wrong. it would be nice to always have fused iterators, would simplify a few things
[13:17:16] <mitsuhiko> eddyb: can't remember. it was being discussed on the mailinglist a long time ago
[13:17:21] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:17:37] <mitsuhiko> the argument against was actually not performance as much as the wish for iterators to be able to restart without breaking the iterator protocol
[13:17:46] <mitsuhiko> afaik an example of a network stream was brought up that might continue producing items later
[13:17:52] <mitsuhiko> i found it pretty contrieved
[13:18:43] <mitsuhiko> eddyb: https://mail.mozilla.org/pipermail/rust-dev/2013-August/005148.html
[13:18:50] <mitsuhiko> see that thread
[13:18:54] <eddyb> mitsuhiko: that's really not a good usecase of iterators
[13:19:12] <sanxiyn> https://mail.mozilla.org/pipermail/rust-dev/2013-August/005113.html
[13:19:22] <sanxiyn> (parent of mitsuhiko's link)
[13:20:36] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[13:20:49] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[13:20:57] <mitsuhiko> https://mail.mozilla.org/pipermail/rust-dev/2013-August/005125.html
[13:22:22] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:25:34] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:25:40] *** Joins: Matthias247_ (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[13:25:44] *** Quits: Matthias247_ (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[13:25:48] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[13:26:12] *** Joins: Matthias247_ (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[13:27:11] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Ping timeout)
[13:27:36] *** Matthias247_ is now known as Matthias247
[13:30:12] *** Joins: mindcat (mindcat@B29E216E.B0488C42.F956842C.IP)
[13:31:44] <sanxiyn> http://rust-class.org/pages/final-survey.html is the most interesting
[13:31:55] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:32:11] <sanxiyn> Sort of hallway usability testing
[13:33:43] <Matthias247> anyone wants to try to reproduce my issue on linux or osx? I will try to install rust in my VM, but it will take a while :)
[13:34:08] <sanxiyn> Matthias247: What is the issue?
[13:34:37] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:34:40] <Matthias247> sanxiyn: I have an issue with the FFI that a struct get's corrupted while it's copied from C++ to Rust
[13:34:56] <sanxiyn> How do I reproduce?
[13:35:29] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[13:35:55] <Matthias247> one moment, seems i lost my gist link
[13:36:22] <Matthias247> https://gist.github.com/anonymous/8282539
[13:39:53] <sanxiyn> Matthias247: Cloned it
[13:39:56] <sanxiyn> How do I compile this?
[13:40:30] <Matthias247> the rust-side simply with rustc rust_test.rs
[13:40:38] <sanxiyn> Matthias247: I get "TestLib.cpp:40:2: error: â€˜LIB_EXPORTâ€™ does not name a type"
[13:41:13] <Matthias247> C side. I'M not that fit with gcc commandline args for building a so
[13:41:57] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:42:00] <Matthias247> hmm, add an #ELSE #define LIB_EXPORT
[13:43:21] <sanxiyn> Matthias247: I get errors related to "not" as an identifier
[13:43:34] <sanxiyn> Matthias247: In C++ standard, "not" is a keyword, you can't use it as a variable name
[13:43:40] <sanxiyn> (Doing otherwise is non-conforming)
[13:44:25] <sanxiyn> Matthias247: "and" and "or" are similary reserved
[13:44:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:44:31] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[13:44:42] <Matthias247> ok, sorry. Visual Studio didn't complain
[13:44:58] <sanxiyn> Sorry, I'd test more if I got the version without "not" and correct #define...
[13:45:14] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[13:47:01] <Matthias247> sanxiyn: I'll fix it and report back
[13:48:04] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:49:35] *** Quits: mleise (marco@moz-850E56A9.pools.arcor-ip.net) (Ping timeout)
[13:50:37] <sanxiyn> Whoa whoa
[13:50:55] <sanxiyn> I got LLVM assertion from building Rust with external LLVM (3.4rc3)
[13:51:20] <sanxiyn> Especially, *it works if I disable optimization*
[13:51:30] <sanxiyn> Bah
[13:52:47] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[13:53:52] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[13:54:19] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[13:55:22] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:55:57] <Matthias247> sanxiyn: ok. This should compile the library: https://gist.github.com/Matthias247/8283183
[13:56:16] <Matthias247> I added make.sh to hopefully build everything
[13:56:50] <Matthias247> But I'm not sure if the .so needs be named TestLib.so or libTestLib.so so that rust finds it. Chose the second now
[13:57:56] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[13:58:40] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[14:00:21] *** jorendorff_away is now known as jorendorff
[14:00:34] <sanxiyn> Matthias247: I got it building
[14:00:42] <sanxiyn> Matthias247: (had to change make.sh anyway)
[14:00:52] <Matthias247> ok
[14:01:29] <sanxiyn> Matthias247: -c builds .o, to build .so you need to link
[14:01:46] <sanxiyn> Matthias247: I got it running. What do I look for?
[14:01:55] <Matthias247> Can you start it and tell whether the byte content of the structure is the same in C++ and Rust? Or simply paste the output?
[14:02:03] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:02:17] <sanxiyn> Matthias247: You mean two lines printed?
[14:02:23] <vmx> bug or feature. shouldn't struct Point { x: int, y: int } enum Geometry { Point } be the same as enum Geometry { Point { x: int, y: int } }?
[14:02:39] <sanxiyn> Matthias247: I get the same
[14:02:45] <sanxiyn>  1  0  0  0  2  0  0  0  3  0  0  0  4  0  0  0  5  6  7  8  9 7F  0  0
[14:02:45] <sanxiyn>  1  0  0  0  2  0  0  0  3  0  0  0  4  0  0  0  5  6  7  8  9 7F  0  0
[14:02:59] <Matthias247> ok. that's what I wanted to know
[14:03:09] <Matthias247> you have linux or osx?
[14:03:12] <sanxiyn> Linux
[14:03:16] <sanxiyn> Glad to be of help
[14:03:32] <Matthias247> so the problem seems to be windows specific
[14:04:07] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[14:05:27] <sanxiyn> Matthias247: Looking through the issue tracker, this may be related to #9205
[14:05:41] <sanxiyn> Matthias247: What did you use to build C++ code?
[14:06:03] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Client exited)
[14:06:04] <Matthias247> sanxiyn: visual studio 2012
[14:06:16] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[14:06:39] <sanxiyn> I think using VS-built C++ from GCC/LLVM code is generally broken
[14:07:09] <Matthias247> yes, the issue seems similar
[14:07:19] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[14:07:39] <sanxiyn> (My understanding is Google is pouring lots of resources to get LLVM to work better with VS on Windows, so that they can actually change production compiler for Chromium build)
[14:07:53] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[14:07:59] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:08:25] <Matthias247> Is that a gcc/mingw problem or a llvm problem?
[14:08:44] <sanxiyn> Matthias247: As I understand, both
[14:08:45] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[14:09:10] <sanxiyn> My understanding of #9205 (your issue *may* be different issue still...) is this is GCC-and-LLVM-incompatibility-with-VS issue
[14:09:12] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[14:09:31] <sanxiyn> That is, none of GCC, LLVM, VS are *wrong* per se, but they are not compatible
[14:10:49] <sanxiyn> vmx: I didn't understand
[14:11:48] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[14:11:57] <Matthias247> I'm not sure if the issue is the same or not. In this bug they are discussing about returned structures. In my case the structure is an argument
[14:12:45] <sanxiyn> It won't hurt to have more testcases...
[14:17:36] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:17:45] *** Quits: simendsjo (Mibbit@moz-9859255A.getinternet.no) (Quit: http://www.mibbit.com ajax IRC Client)
[14:20:28] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:23:39] <mletterle> Good morning rustlandia. 
[14:23:54] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[14:24:27] <mletterle> Uh 773 files changed, 26307 insertions(+), 23175 deletions(-)
[14:24:39] <mletterle> I expected more after vacation... guess everyone else was too :)
[14:24:44] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[14:25:16] <Matthias247> sanxiyn: is there any export for this topic I should speak to? Or simply file an issue?
[14:25:20] <Matthias247> expert
[14:26:01] <sanxiyn> Matthias247: I don't think we have expert on the topic... people on #9205 are probably more informed
[14:26:08] <sanxiyn> I'd file an issue and reference #9205
[14:26:16] <Matthias247> ok
[14:26:23] <sanxiyn> Just state clearly how to reproduce the issue
[14:26:38] <sanxiyn> (including you built C++ code with Visual Studio 2012, etc.)
[14:27:11] <Matthias247> yes. I will add a visual studio makefile and/or solution
[14:29:43] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:32:32] <sanxiyn> "the compiler is mostly unhelpful in its error message" -- rust-class student
[14:32:39] <sanxiyn> :(
[14:33:37] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[14:33:41] <Matthias247> I thought it's so much better than c++ :)
[14:34:12] *** Joins: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[14:34:19] <sanxiyn> Well we do better in templates department because we got concepts. Not sure about other cases.
[14:34:21] <Matthias247> everything with templates in it produces terrible error messages in C++
[14:34:30] *** jorendorff is now known as jorendorff_away
[14:34:53] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[14:34:54] <Matthias247> and because the standard library is heavily templated that happens very often
[14:35:31] <sanxiyn> "The syntax can be very confusing (more so than learning other new languages)" -- I'd like to hear details on this...
[14:37:19] <sanxiyn> "Rust falls into a horrible place where it is restrictive enough to be annoying and severely limit programming options, but the compiler isn't advanced enough to detect complicated problems. The result is a language which prevents you from being able to make some simple mistakes, but at the cost of spending more time getting code to compile. Overall I don't think the extra effort in getting things to compi
[14:37:19] <sanxiyn> le has saved me any time debugging, since the compilation restrictions don't prevent the bugs that are actually hard to find and fix."
[14:37:23] <sanxiyn> I am not sure about this one...
[14:37:30] <Tobba> to quote myself, the syntax pretty much looks like C had a baby with haskell and thalidomide was involved
[14:37:43] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[14:37:57] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[14:38:03] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:38:20] <bjz> sanxiyn: where was that?
[14:38:28] <sanxiyn> bjz: http://rust-class.org/pages/final-survey.html
[14:38:32] <sanxiyn> bjz: Rust class student survey
[14:38:40] <Tobba> I mean heres something I saw just on SO
[14:38:41] <sanxiyn> (After using Rust for one semester)
[14:38:55] <bjz> oh cool
[14:39:01] <nical> sanxiyn: on a very small project I can believe you save more time by having a language that lets you do whatever you want like C++
[14:39:05] <Tobba> fn<'r, T> ( p : T ) -> (&'r fn(&'r str) -> ~[(T,int)]) { return |s| ~[(p, 0)] }
[14:39:17] <sigma> That recent blog about microsoft's rust-like language has been really useful at stirring up interest about rust at work...
[14:39:17] <Tobba> most people say "what the fuck" when they see rusts syntax, basicaly
[14:39:19] <nical> sanxiyn: on something of the scale of gecko it's a different story
[14:39:41] <sigma> Why do ideas have to be seen to come from them before people pay attention -.-
[14:40:17] <sanxiyn> Tobba: Heh
[14:40:35] <Gordon> to be fair, learning new syntax can be frustrating when the documentation is lacking
[14:40:36] <Tobba> at least that code has some unnecessary whitespace, I've seen worse
[14:41:11] <sanxiyn> sigma: Indeed, Microsoft sort-of-announcement non-officially mentioning Rust
[14:41:20] <sanxiyn> sigma: Probably was a very good publicity for Rust
[14:41:33] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[14:42:06] *** Joins: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za)
[14:42:22] <sanxiyn> Tobba: That function seems pretty unrealistic to me, but then I myself wrote this:
[14:42:28] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[14:42:44] <Tobba> yeah I dunno, its something I found on SO trying to figure something out a few days ago
[14:42:50] <sanxiyn> fn suffixarray<'a, T:Clone+Eq+Ord>(a: &'a [T]) -> ~[&'a [T]] { ... }
[14:42:59] <sanxiyn> Tobba: How does that look?
[14:42:59] <Tobba> you could probably make it even worse by dropping the return
[14:43:08] <Tobba> then it would be like 50% special chars
[14:43:16] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:43:24] <Ms2ger> Sounds lie rust
[14:43:26] <Ms2ger> Er
[14:43:30] <Ms2ger> Sounds like perl
[14:43:52] *** Joins: roy (user@C73C171E.DECA0B3A.874BDE0C.IP)
[14:43:55] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[14:44:01] *** Parts: roy (user@C73C171E.DECA0B3A.874BDE0C.IP) (Killed buffer)
[14:44:26] <sanxiyn> (I think it really is the most straightforward encoding of suffix array constructor)
[14:45:00] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:45:53] <pzol> how can I get the string representation (name) of a type???
[14:46:08] <sanxiyn> pzol: Can't?
[14:46:15] <Tobba> ugh
[14:46:28] <pzol> sanxiyn nothing like type.to_str() ?
[14:46:34] <Tobba> currently, how complicated is the runtime (absolute minimum to use everything except std)
[14:46:45] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[14:47:02] <sanxiyn> pzol: a type isn't really a value in Rust
[14:47:49] <pzol> sanxiyn an for an enum neither right?
[14:48:03] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[14:48:05] <sanxiyn> What are you trying to do?
[14:48:07] <bjz> sanxiyn: now that's interesting (re. interest at work). so are you overhearing this, or are they talking to you guys?
[14:48:08] <sigma> what are you trying to do pzol?
[14:48:27] <sanxiyn> bjz: You probably meant that to sigma
[14:48:38] <bjz> ohhh
[14:48:40] <bjz> haha
[14:48:46] *** Quits: mleise (marco@moz-850E56A9.pools.arcor-ip.net) (Ping timeout)
[14:48:46] <pzol> sigma I have an enum MonsterKind { Orc, Goblin } and I want to output that as a string
[14:48:53] <bjz> yep sigma ^
[14:49:15] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:49:28] <sigma> bjz: I brought it up the other day and a replacement to c++ without all the unsafety has been the lunch time topic of choice for a few days
[14:49:47] <bjz> sigma: for some reason wires crossed in my head. I said, "you guys" because sanxiyn does work on Servo at his work
[14:49:58] <sanxiyn> pzol: Ah that's easy
[14:50:14] <bjz> sigma: ah neat. before or after the M# post?
[14:50:16] <sanxiyn> pzol: Put #[deriving(ToStr)] to enum and call .to_str() on value
[14:50:17] <sigma> so they're pretty much just interrogating me on how things work in a system like that and I'm playing the evangelist
[14:50:18] <sigma> after
[14:50:19] *** Quits: mindcat (mindcat@B29E216E.B0488C42.F956842C.IP) (Ping timeout)
[14:50:45] <sigma> there was no real interest before they heard microsoft were looking into it, now they're interested
[14:50:45] <sanxiyn> pzol: You are calling .to_str() on Orc and Goblin, not on MonsterKind
[14:50:58] <sigma> which was the strangeness I was decrying originally :)
[14:51:07] <pzol> sanxiyn thx! tryin' that now
[14:51:15] <Matthias247> for the enum it should work with format!("{:?}", enumValue)
[14:51:31] <bjz> sigma: yeah I don't think its unreasonable for some people to be skeptical or dismissive, if they're used to things the way they are
[14:51:38] <sanxiyn> Matthias247: As I understand that uses reflection
[14:51:48] <sanxiyn> (deriving does code generation and there's no reflection)
[14:52:05] *** Joins: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net)
[14:52:12] <Matthias247> I thought rust does not have reflection and it also uses generated code
[14:52:25] <sanxiyn> Matthias247: Rust do have reflection
[14:52:36] <bjz> sigma: it's certainly irritating though, when your eyes have been opened to another, better way of doing things :)
[14:52:53] <sanxiyn> Matthias247: format! can't use code generation since value formatted by :? may be of type from another crate
[14:52:53] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[14:53:53] <sigma> bjz: I'm pretty much the sole linux guy to be fair, and I'm a programming language enthusiast, so people look at me strangely when I start talking about things like rust/haskell/whatever else
[14:54:15] * dbaupp looks at sigma strangely
[14:54:25] <sanxiyn> bjz: By the way, sadly I have to remind you that I don't work on Servo any more
[14:54:29] <sanxiyn> (at work time, that is)
[14:54:44] <bjz> sigma: yeah, must be annoying. hopefully this kind of thing might open their eyes to this kind of thing
[14:54:45] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[14:54:46] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:54:55] <bjz> sanxiyn: dang, hadn't heard that
[14:54:59] <pzol> Matthias247 sanxiyn  thx :)
[14:55:10] <sanxiyn> pzol: It worked? Nice.
[14:55:20] <sanxiyn> bjz: Ah I must haven't told you
[14:55:35] <sanxiyn> bjz: (This was so since November)
[14:55:38] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[14:55:47] <bjz> sanxiyn: well it's not something that would have been advertised widely :)
[14:56:07] *** Quits: sam (sam@7711C295.C8C6FF5E.4065847B.IP) (Ping timeout)
[14:56:17] <bjz> :(
[14:57:05] <sigma> bjz: I've been pushing other things (like moving to git) which have been well received so I might be able to swing rust as my day job at some point :D
[14:57:15] *** Joins: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP)
[14:57:21] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:57:28] <bjz> sigma: maybe in a year or so :)
[14:57:32] *** Joins: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP)
[14:57:41] <Ms2ger> sigma, away from what, RCS? :)
[14:57:49] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[14:57:51] *** Quits: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP) (Quit: This computer has gone to sleep)
[14:58:00] <bjz> that's pretty impressive too. enterprisy kind of place?
[14:58:06] <sanxiyn> sigma: In 2011, my group was considered strange for using Git and Gerrit. Today I went to an internal education that claimed Git and Gerrit will be company-wide development standard in 2014.
[14:58:10] <sanxiyn> How the time changes...
[14:58:10] <sigma> a weird mix of svn and files sitting on a network folder
[14:58:34] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[14:58:42] <sigma> sanxiyn: That's what I've been pushing + unifying a lot of other stuff.
[14:58:44] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[14:59:11] <sigma> bjz: not too bad, they're pretty open to change, there just aren't many tech enthusiasts, so noone knows about the tools that are out there
[14:59:51] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[15:00:11] *** jorendorff_away is now known as jorendorff
[15:00:50] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[15:00:59] <bjz> sigma: yeah. it takes effort to keep horizons broad
[15:01:33] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:01:34] *** ChanServ sets mode: +o jdm
[15:01:54] <sigma> I keep proposing stuff and it doesn't get shot down, so I think I can justify my daily hour or so of reading teh interwebs
[15:02:30] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[15:02:57] <bjz> ^_^
[15:03:10] <bjz> sigma: what kind of work do you guys do?
[15:03:18] <sanxiyn> (By the way, one *official* (I am not kidding you) reason against Git and Gerrit were that they were open source, therefore insecure.)
[15:03:30] <bjz> HAH
[15:03:34] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:03:45] <sanxiyn> Things are different today, but back then...
[15:03:49] <bjz> yeah
[15:04:03] <bjz> I have come across that sentiment before
[15:04:21] <sanxiyn> bjz: Therefore Perforce. I guess that wasn't the worst decision.
[15:05:04] <bjz> I still find it amusing, but I can see why some people would think that way. Thinking that something that is 'open' could be secure is not always the most intuitive thing
[15:05:17] <Ms2ger> At least github isn't open source, you can move there :)
[15:05:33] <sigma> bjz: um, how to not doxx us... We do specialist embedded device development and the entire user facing stack for them, so we have everything from hardware guys up to the desktop experience guys
[15:06:10] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[15:06:16] <sigma> which is kind of a blessing an a curse, because we control our entire stack we don't get exposed to outside influence very much, so it's easy to stagnate
[15:06:18] <bjz> sigma: sounds like Rust would fit in well there, once its more baked
[15:06:23] *** Quits: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP) (Ping timeout)
[15:06:24] <bjz> yeah
[15:06:32] *** Quits: TingPing (tingping@moz-1A0DA09.se) (Ping timeout)
[15:06:41] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Input/output error)
[15:06:45] *** Quits: alex_abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[15:06:45] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[15:06:45] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Ping timeout)
[15:06:50] *** Quits: erick (erick@E1304535.2A7189BF.BE19388.IP) (Ping timeout)
[15:06:50] *** Quits: xales (xales@moz-7DEA692E.forevernothing.com) (Ping timeout)
[15:06:54] *** Quits: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP) (Ping timeout)
[15:06:55] *** Quits: Vq (vq@moz-65A5483F.tbcn.telia.com) (Ping timeout)
[15:06:59] <sigma> And I think it would fit in well, and shouldn't be hard to incrementally transition to.
[15:06:59] *** Joins: jdm_ (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:07:09] *** Quits: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP) (Ping timeout)
[15:07:09] *** Joins: erick (erick@E1304535.2A7189BF.BE19388.IP)
[15:07:10] *** Quits: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com) (Ping timeout)
[15:07:10] *** Quits: alonlevy (alon@moz-30492E92.bb.netvision.net.il) (Ping timeout)
[15:07:10] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Ping timeout)
[15:07:11] *** Quits: fzzzy (fzzzy@A5CBE5CF.A81CC6E.44FA8ED.IP) (Ping timeout)
[15:07:12] *** Joins: TingPing (tingping@moz-1A0DA09.se)
[15:07:13] *** Quits: joelteon (bzzt@moz-317E8D0C.io) (Ping timeout)
[15:07:14] *** Quits: oberstet (quassel@moz-A856BBD4.dynamic.mnet-online.de) (Ping timeout)
[15:07:16] *** Quits: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP) (Ping timeout)
[15:07:16] *** Quits: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP) (Ping timeout)
[15:07:22] *** Quits: khodzha (khodzha@AF0E54DB.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:07:22] *** Quits: cdidd (cdidd@moz-15DD6ADC.broadband.corbina.ru) (Ping timeout)
[15:07:23] *** Joins: alonlevy (alon@moz-30492E92.bb.netvision.net.il)
[15:07:25] *** Quits: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net) (Ping timeout)
[15:07:25] *** Quits: q66__ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[15:07:27] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[15:07:32] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[15:07:34] *** Joins: joelteon (bzzt@moz-317E8D0C.io)
[15:07:35] *** Quits: reyre (reyre@moz-89E9865B.com) (Ping timeout)
[15:07:36] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[15:07:36] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[15:07:39] *** Joins: pepper_chico (pepper_chi@E4B89D8C.3C9EA51F.F546FA5F.IP)
[15:07:40] *** Quits: philix (philix@moz-4689D536.user.veloxzone.com.br) (Ping timeout)
[15:07:45] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[15:07:45] *** Joins: q66__ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[15:07:46] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[15:07:53] *** Quits: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP) (Ping timeout)
[15:07:53] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Ping timeout)
[15:07:55] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[15:07:56] *** Joins: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP)
[15:07:58] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[15:07:59] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[15:08:00] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[15:08:00] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[15:08:04] *** Quits: Ke (jkarlson@moz-785A3407.org.aalto.fi) (Ping timeout)
[15:08:04] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[15:08:06] *** Joins: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP)
[15:08:07] <sanxiyn> Ms2ger: Cloud would be a harder sell still...
[15:08:08] *** Quits: jdm_ (jdm@moz-AC9499B2.cable.teksavvy.com) (Input/output error)
[15:08:09] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Ping timeout)
[15:08:10] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[15:08:13] *** Quits: brianloveswords (brianloves@moz-CB223D1E.members.linode.com) (Ping timeout)
[15:08:17] <sanxiyn> Ms2ger: I guess you can choose GitHub:FI
[15:08:19] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[15:08:19] *** Quits: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi) (Ping timeout)
[15:08:20] *** Quits: cyndis (cyndis@moz-C4357EA7.kapsi.fi) (Ping timeout)
[15:08:26] <sanxiyn> (Not sure how well that one works)
[15:08:30] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[15:08:30] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[15:08:32] *** Joins: brianloveswords (brianloves@moz-CB223D1E.members.linode.com)
[15:08:33] *** Joins: khodzha (khodzha@AF0E54DB.EF9FA30D.CA6E2165.IP)
[15:08:35] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[15:08:35] *** Joins: oberstet (quassel@moz-A856BBD4.dynamic.mnet-online.de)
[15:08:37] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[15:08:38] *** Quits: km (quassel@moz-777F24DE.kevinmehall.com) (Ping timeout)
[15:08:41] *** Quits: sk (sk@28D4FD6F.29248532.33B96495.IP) (Ping timeout)
[15:08:43] *** Quits: raek (raek@moz-F9AE42FF.a328.priv.bahnhof.se) (Ping timeout)
[15:08:43] *** Quits: o11c (ben@moz-C0FD33EF.a357.priv.bahnhof.se) (Ping timeout)
[15:08:44] *** Quits: SirSkidmore (taylor@moz-F145A866.com) (Ping timeout)
[15:08:48] *** Quits: halorgium (z@moz-7A333983.spork.in) (Ping timeout)
[15:09:00] *** Quits: zokier` (zokier@moz-C4357EA7.kapsi.fi) (Ping timeout)
[15:09:02] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Ping timeout)
[15:09:02] *** Quits: brianloveswords (brianloves@moz-CB223D1E.members.linode.com) (Max SendQ exceeded)
[15:09:10] *** Quits: friggle (friggle@moz-A607EAFA.members.linode.com) (Ping timeout)
[15:09:11] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[15:09:13] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[15:09:16] *** Joins: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP)
[15:09:18] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[15:09:22] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[15:09:28] *** Quits: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie) (Ping timeout)
[15:09:29] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Ping timeout)
[15:09:29] *** Quits: noct (quassel@moz-4F2CA1D7.noctal.com) (Ping timeout)
[15:09:30] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[15:09:33] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[15:09:35] *** Quits: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP) (Ping timeout)
[15:09:35] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[15:09:36] *** Joins: zokier` (zokier@moz-C4357EA7.kapsi.fi)
[15:09:39] *** Quits: hoelzro (hoelzro@moz-937642A5.ro) (Ping timeout)
[15:09:40] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[15:09:41] *** Quits: ofeldt (ofeldt@moz-5E23FB72.dip0.t-ipconnect.de) (Ping timeout)
[15:09:44] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[15:09:46] *** Quits: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP) (Ping timeout)
[15:09:48] *** Quits: Zuchto (chat@moz-1FF744E2.members.linode.com) (Ping timeout)
[15:09:50] *** Quits: rce (henryhei@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[15:09:55] *** Quits: ekiara (emk@moz-9B1940E9.tech.co.ke) (Ping timeout)
[15:09:59] *** Joins: Zuchto (chat@moz-1FF744E2.members.linode.com)
[15:10:03] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[15:10:11] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[15:10:22] *** Quits: khodzha (khodzha@AF0E54DB.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:10:22] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[15:10:29] *** Quits: ion (ion@heh.fi) (Ping timeout)
[15:10:36] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[15:10:38] *** Quits: sindork (sindork@ABFA98AB.DD47BB48.F7A44A1B.IP) (Ping timeout)
[15:10:43] *** Joins: halorgium (z@moz-7A333983.spork.in)
[15:10:48] *** Quits: TingPing (tingping@moz-1A0DA09.se) (Ping timeout)
[15:10:53] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[15:10:53] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[15:10:58] <Matthias247> sigma: our company does mainly writing specifications and let do others do the work. So we're even more prone to stagnation :)
[15:11:05] *** Quits: zheng_li (zheng_li@moz-D6711E9E.xenplanet.org) (Ping timeout)
[15:11:06] *** Quits: doy (doy@moz-8F23663C.net) (Ping timeout)
[15:11:11] <Matthias247> I'm the only one coding in our department
[15:11:13] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[15:11:17] *** Joins: zheng_li (zheng_li@726F0B40.A7FE7906.4B330583.IP)
[15:11:26] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:11:27] *** ChanServ sets mode: +o jdm
[15:11:28] <sigma> does that mean you can use whatever you like? :P
[15:11:33] *** Joins: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP)
[15:11:36] <Matthias247> theoretically
[15:11:46] *** Joins: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie)
[15:11:57] <Matthias247> but it does also mean I don't have a company git because our IT is too stupid to set one up
[15:11:57] *** Joins: fzzzy (fzzzy@A5CBE5CF.A81CC6E.44FA8ED.IP)
[15:12:01] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[15:12:07] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:12:09] *** Joins: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP)
[15:12:10] *** Joins: noct (quassel@moz-4F2CA1D7.noctal.com)
[15:12:15] *** Quits: TisButMe (Mibbit@moz-2B5AC66A.w92-137.abo.wanadoo.fr) (Ping timeout)
[15:12:18] *** Quits: Caseus (bacon@moz-9F046088.members.linode.com) (Ping timeout)
[15:12:24] *** Joins: cyndis (cyndis@moz-C4357EA7.kapsi.fi)
[15:12:25] *** Joins: ion (ion@heh.fi)
[15:12:28] *** Quits: halorgium (z@moz-7A333983.spork.in) (Ping timeout)
[15:12:36] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[15:12:38] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Input/output error)
[15:12:39] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[15:12:42] <Matthias247> and my software must work together with the software of our suppliers. That means I have to care about WinCE compatibility at the moment
[15:12:46] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:12:46] *** ChanServ sets mode: +o jdm
[15:12:47] <Matthias247> which really sucks
[15:12:52] *** Joins: doy (doy@moz-8F23663C.net)
[15:12:52] *** Quits: nomme (nomme@moz-A30B1161.a336.priv.bahnhof.se) (Ping timeout)
[15:12:53] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[15:13:04] * Ms2ger WinCEs
[15:13:08] <sigma> I introduced git by having it on my machine, running the daemon and using it to distribute stuff to people who needed quick scripts or specially tweaked tools...
[15:13:08] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[15:13:09] <Ms2ger> I'll see myself out
[15:13:11] *** Joins: hoelzro (hoelzro@moz-937642A5.ro)
[15:13:12] <sanxiyn> Well if one works alone with git you don't need server at all...
[15:13:19] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[15:13:20] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[15:13:30] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[15:13:52] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[15:13:52] *** Joins: reyre (reyre@moz-89E9865B.com)
[15:13:55] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[15:13:56] *** Quits: noct (quassel@moz-4F2CA1D7.noctal.com) (Ping timeout)
[15:14:01] *** Quits: zokier` (zokier@moz-C4357EA7.kapsi.fi) (Ping timeout)
[15:14:02] <Matthias247> sanxiyn: Don't agree. It's really useful when you want to try things out in different branches. Develop features side by side. Or even want to test on various PCs
[15:14:05] *** Joins: km (quassel@moz-777F24DE.kevinmehall.com)
[15:14:05] *** Joins: ofeldt (ofeldt@moz-5E23FB72.dip0.t-ipconnect.de)
[15:14:06] <sigma> then I used git-svn to pull our main codebase in and some subtree magic to pull all our weird config files and stuff into one version controlled place
[15:14:08] *** Quits: cyndis (cyndis@moz-C4357EA7.kapsi.fi) (Ping timeout)
[15:14:15] *** Joins: Caseus (bacon@moz-9F046088.members.linode.com)
[15:14:27] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[15:14:29] *** Quits: dg (dg@moz-AF6F3E94.com) (Ping timeout)
[15:14:30] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[15:14:35] *** Quits: ion (ion@heh.fi) (Ping timeout)
[15:14:43] *** Joins: TingPing (tingping@moz-1A0DA09.se)
[15:14:46] <Matthias247> ok, the first things can be done without a server. But if you have various PCs then you need a server
[15:14:50] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[15:14:51] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[15:14:57] *** Quits: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP) (Ping timeout)
[15:15:00] *** Quits: xales (xales@moz-7DEA692E.forevernothing.com) (Ping timeout)
[15:15:01] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Ping timeout)
[15:15:03] <sigma> then because I was the only person that actually had version control that covered everything people started coming to me to find out when stuff broke, at which point I just started training them to use git and do it themselves :)
[15:15:06] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[15:15:08] <Matthias247> I now have one on my NAS
[15:15:11] *** Joins: rce (henryhei@moz-4C25427B.cs.helsinki.fi)
[15:15:11] *** Joins: friggle (friggle@moz-A607EAFA.members.linode.com)
[15:15:14] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[15:15:23] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[15:15:25] <sigma> might try the same with rust, I'll just infect people's workflows
[15:15:26] *** Quits: hoelzro (hoelzro@moz-937642A5.ro) (Ping timeout)
[15:15:29] *** Joins: halorgium (z@moz-7A333983.spork.in)
[15:15:47] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[15:15:52] *** Quits: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP) (Ping timeout)
[15:15:56] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:15:56] *** ChanServ sets mode: +o jdm
[15:16:00] *** Joins: SirSkidmore (taylor@moz-F145A866.com)
[15:16:14] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Ping timeout)
[15:16:15] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[15:16:32] *** Quits: doy (doy@moz-8F23663C.net) (Ping timeout)
[15:16:33] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Input/output error)
[15:16:40] *** Joins: ion (ion@heh.fi)
[15:16:41] <sigma> We actually did fine with a completely distributed git workflow for a while before we made it official and created a blessed repo on the server
[15:16:44] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[15:16:47] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[15:16:52] *** Joins: TisButMe (Mibbit@moz-2B5AC66A.w92-137.abo.wanadoo.fr)
[15:16:56] *** Quits: friggle (friggle@moz-A607EAFA.members.linode.com) (Ping timeout)
[15:17:01] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[15:17:05] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[15:17:05] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[15:17:05] <sigma> I still use it for moving stuff between my various machines
[15:17:09] *** Quits: halorgium (z@moz-7A333983.spork.in) (Ping timeout)
[15:17:15] *** Quits: Kxepal (Miranda@moz-DBA12CC2.pppoe.mtu-net.ru) (Ping timeout)
[15:17:20] *** Quits: km (quassel@moz-777F24DE.kevinmehall.com) (Ping timeout)
[15:17:31] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[15:17:34] *** Joins: noct (quassel@moz-4F2CA1D7.noctal.com)
[15:17:38] *** Joins: cyndis (cyndis@moz-C4357EA7.kapsi.fi)
[15:17:44] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[15:17:54] *** Joins: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com)
[15:18:00] *** Quits: rce (henryhei@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[15:18:03] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Ping timeout)
[15:18:20] *** Quits: ion (ion@heh.fi) (Ping timeout)
[15:18:24] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[15:18:25] *** Quits: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP) (Quit: No Ping reply in 180 seconds.)
[15:18:27] *** Joins: khodzha (khodzha@AF0E54DB.EF9FA30D.CA6E2165.IP)
[15:18:28] *** Joins: halorgium (z@moz-7A333983.spork.in)
[15:18:32] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:18:37] *** Joins: Ke (jkarlson@moz-785A3407.org.aalto.fi)
[15:18:37] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[15:19:14] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:19:14] *** ChanServ sets mode: +o jdm
[15:19:14] *** Quits: Caseus (bacon@moz-9F046088.members.linode.com) (Ping timeout)
[15:19:18] *** Joins: petantik (oz@moz-20EC2160.net)
[15:19:22] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[15:19:22] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[15:19:38] *** Quits: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com) (Ping timeout)
[15:19:44] *** Quits: rntz_ (rntz@moz-E7065CE4.cmdnnj.fios.verizon.net) (Ping timeout)
[15:19:58] *** Joins: dg (dg@moz-AF6F3E94.com)
[15:20:02] <Ms2ger> str[i] returns u8?
[15:20:02] *** Quits: reyre (reyre@moz-89E9865B.com) (Ping timeout)
[15:20:14] *** Quits: SirSkidmore (taylor@moz-F145A866.com) (Ping timeout)
[15:20:17] *** Quits: khodzha (khodzha@AF0E54DB.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:20:17] *** Joins: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi)
[15:20:19] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[15:20:19] *** Quits: cyndis (cyndis@moz-C4357EA7.kapsi.fi) (Ping timeout)
[15:20:20] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Input/output error)
[15:20:34] *** Quits: TingPing (tingping@moz-1A0DA09.se) (Ping timeout)
[15:20:40] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[15:20:47] *** Joins: friggle (friggle@moz-A607EAFA.members.linode.com)
[15:20:53] *** Joins: TingPing (tingping@moz-1A0DA09.se)
[15:20:54] *** Joins: ion (ion@heh.fi)
[15:20:58] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[15:21:05] *** Quits: halorgium (z@moz-7A333983.spork.in) (Ping timeout)
[15:21:10] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[15:21:16] *** Joins: payload (Mibbit@moz-F302BCA1.ifsr.de)
[15:21:18] *** Quits: Ke (jkarlson@moz-785A3407.org.aalto.fi) (Ping timeout)
[15:21:21] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[15:21:21] *** Joins: rce (henryhei@moz-4C25427B.cs.helsinki.fi)
[15:21:33] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:21:41] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:21:41] *** ChanServ sets mode: +o jdm
[15:21:45] *** Quits: Ferreus (ferreus@moz-B1EB17E5.dip0.t-ipconnect.de) (Ping timeout)
[15:21:55] *** Joins: km (quassel@moz-777F24DE.kevinmehall.com)
[15:21:59] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[15:22:10] *** Joins: Cork (Cork@456A2672.BA574D4D.BB9C2183.IP)
[15:22:15] *** Quits: noct (quassel@moz-4F2CA1D7.noctal.com) (Ping timeout)
[15:22:35] *** Quits: friggle (friggle@moz-A607EAFA.members.linode.com) (Ping timeout)
[15:22:36] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[15:22:45] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[15:22:46] *** Quits: ion (ion@heh.fi) (Ping timeout)
[15:23:01] *** Joins: Ferreus (ferreus@moz-B1EB17E5.dip0.t-ipconnect.de)
[15:23:07] *** Quits: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi) (Ping timeout)
[15:23:11] *** Joins: noct (quassel@moz-4F2CA1D7.noctal.com)
[15:23:16] *** Quits: TingPing (tingping@moz-1A0DA09.se) (Ping timeout)
[15:23:21] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[15:23:21] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[15:23:24] *** Joins: ion (ion@heh.fi)
[15:23:25] *** Quits: itdaniher (it@moz-7FAAAB8D.bstnma.fios.verizon.net) (Ping timeout)
[15:23:29] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[15:23:39] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[15:23:39] *** Quits: dg (dg@moz-AF6F3E94.com) (Ping timeout)
[15:23:42] *** Joins: hoelzro (hoelzro@moz-937642A5.ro)
[15:23:43] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[15:23:55] *** Quits: rce (henryhei@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[15:24:03] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[15:24:04] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[15:24:05] *** Quits: Cork (Cork@456A2672.BA574D4D.BB9C2183.IP) (Ping timeout)
[15:24:07] *** Joins: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP)
[15:24:13] *** Joins: halorgium (z@moz-7A333983.spork.in)
[15:24:13] *** Joins: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP)
[15:24:29] *** Joins: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com)
[15:24:30] *** Joins: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP)
[15:24:30] *** Joins: raek (raek@F677EEF5.5424D031.B3DDC20A.IP)
[15:24:38] *** Joins: brianloveswords_ (brianloves@moz-CB223D1E.members.linode.com)
[15:24:42] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[15:25:04] *** Quits: ion (ion@heh.fi) (Ping timeout)
[15:25:05] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[15:25:27] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:25:27] *** ChanServ sets mode: +o jdm
[15:25:28] *** Quits: hoelzro (hoelzro@moz-937642A5.ro) (Ping timeout)
[15:25:30] *** Joins: reyre (reyre@moz-89E9865B.com)
[15:25:32] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[15:25:32] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[15:25:35] *** Quits: km (quassel@moz-777F24DE.kevinmehall.com) (Ping timeout)
[15:25:43] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[15:25:45] *** Quits: brianloveswords_ (brianloves@moz-CB223D1E.members.linode.com) (Max SendQ exceeded)
[15:25:47] *** Quits: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP) (Ping timeout)
[15:25:53] *** Quits: halorgium (z@moz-7A333983.spork.in) (Ping timeout)
[15:25:54] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:25:55] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[15:25:59] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[15:26:00] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Ping timeout)
[15:26:04] *** Joins: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net)
[15:26:06] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[15:26:10] *** Quits: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP) (Ping timeout)
[15:26:16] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Ping timeout)
[15:26:20] *** Quits: noct (quassel@moz-4F2CA1D7.noctal.com) (Ping timeout)
[15:26:36] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Input/output error)
[15:26:38] *** Joins: noct (quassel@moz-4F2CA1D7.noctal.com)
[15:26:41] *** Quits: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com) (Ping timeout)
[15:26:43] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[15:26:58] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[15:27:10] *** Quits: raek (raek@F677EEF5.5424D031.B3DDC20A.IP) (Ping timeout)
[15:27:16] *** Quits: joelteon (bzzt@moz-317E8D0C.io) (Ping timeout)
[15:27:16] *** Joins: ion (ion@heh.fi)
[15:27:21] *** Joins: petantik (oz@moz-20EC2160.net)
[15:27:36] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:27:45] <thiez> Ms2ger: it shouldn't.
[15:27:49] *** Quits: reyre (reyre@moz-89E9865B.com) (Ping timeout)
[15:27:55] *** Quits: negativezero (negativeze@moz-28BCB6CD.cit.cornell.edu) (Ping timeout)
[15:28:00] <thiez> I think the idea was that you can only get valid utf-8 out of str
[15:28:03] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[15:28:06] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[15:28:09] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[15:28:11] <Ms2ger> a.rs:3:14: 3:20 error: mismatched types: expected `u8` but found `char` (expected u8 but found char)
[15:28:11] <Ms2ger> a.rs:3   if x[0] == '\x0a' {
[15:28:16] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[15:28:18] *** Quits: noct (quassel@moz-4F2CA1D7.noctal.com) (Ping timeout)
[15:28:19] *** Joins: jmatthews (jmatthews@moz-DB4A9C19.scl3.mozilla.com)
[15:28:21] *** Quits: seanmonstar (seanmonsta@8C4EE5CE.65CB159.9D887C86.IP) (Ping timeout)
[15:28:22] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:28:29] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[15:28:29] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[15:28:30] *** Joins: Caseus (bacon@moz-9F046088.members.linode.com)
[15:28:40] *** Quits: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net) (Ping timeout)
[15:28:40] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Ping timeout)
[15:28:43] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[15:28:50] <thiez> hmmn, that's odd.
[15:28:55] <thiez> I guess it's unsafe
[15:29:06] *** Joins: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP)
[15:29:07] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[15:29:39] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Ping timeout)
[15:29:41] *** Joins: joelteon (bzzt@moz-317E8D0C.io)
[15:29:43] *** Joins: Ke (jkarlson@moz-785A3407.org.aalto.fi)
[15:29:56] <Ms2ger> Well, not really
[15:29:59] *** Joins: brianloveswords_ (brianloves@moz-CB223D1E.members.linode.com)
[15:29:59] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[15:29:59] *** Joins: noct (quassel@moz-4F2CA1D7.noctal.com)
[15:30:00] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[15:30:06] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[15:30:07] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[15:30:07] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[15:30:08] *** Joins: sindork_ (sindork@ABFA98AB.DD47BB48.F7A44A1B.IP)
[15:30:09] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[15:30:10] *** Quits: Caseus (bacon@moz-9F046088.members.linode.com) (Ping timeout)
[15:30:10] *** Joins: petantik (oz@moz-20EC2160.net)
[15:30:12] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[15:30:13] *** Joins: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP)
[15:30:13] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[15:30:13] *** Joins: halorgium (z@moz-7A333983.spork.in)
[15:30:15] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:30:17] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:30:17] *** concrete.mozilla.org sets mode: +R 
[15:30:18] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:30:33] *** Joins: km (quassel@moz-777F24DE.kevinmehall.com)
[15:30:39] *** Quits: jmatthews (jmatthews@moz-DB4A9C19.scl3.mozilla.com) (Connection reset by peer)
[15:30:46] *** Joins: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi)
[15:30:54] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[15:30:57] *** Joins: ekiara (emk@moz-9B1940E9.tech.co.ke)
[15:30:59] *** Joins: khodzha (khodzha@AF0E54DB.EF9FA30D.CA6E2165.IP)
[15:31:52] <thiez> ah, you can't assign to such a string index, so it's okay :)
[15:32:51] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Ping timeout)
[15:33:46] *** Quits: wry (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[15:35:18] *** concrete.mozilla.org sets mode: -R 
[15:35:25] *** Joins: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com)
[15:35:27] <kaeso> Ms2ger: see char_at()
[15:35:35] *** Joins: seanmonstar (seanmonsta@8C4EE5CE.65CB159.9D887C86.IP)
[15:35:42] *** Joins: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net)
[15:35:55] *** Quits: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:36:04] *** Joins: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net)
[15:36:08] <WebeWizard> there we go
[15:37:53] *** Joins: o11c (ben@moz-C0FD33EF.a357.priv.bahnhof.se)
[15:38:19] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[15:38:41] *** Joins: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[15:39:46] <luz> http://sprunge.us/icCZ?go
[15:39:53] <luz> is doing something like this possible in rust?
[15:40:19] *** Joins: warz (warz@moz-76E4FB33.austin.res.rr.com)
[15:40:28] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[15:41:37] *** Joins: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP)
[15:42:11] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[15:42:47] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[15:42:56] <WebeWizard> adding strings using a plus sign? no
[15:44:12] <Matthias247> WebeWizard: that is possible. But I think the const part not
[15:44:17] <luz> concatenating string constants at compile time
[15:44:46] <Ms2ger> Not at this point, I don't think
[15:44:58] <kimundi> We don't support that at compiletime at the moment
[15:45:14] *** Joins: jhasse (jhass_000@moz-B7409765.dip0.t-ipconnect.de)
[15:45:40] *** Quits: oberstet (quassel@moz-A856BBD4.dynamic.mnet-online.de) (Connection reset by peer)
[15:46:07] *** Quits: gkostyanikov (gkostyanik@58A7E199.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:46:38] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: Textual IRC Client: www.textualapp.com)
[15:47:19] <luz> that sounds promising
[15:47:22] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[15:47:30] <WebeWizard> sorry, Matthias247 is right
[15:47:49] <TisButMe> How can I look at the doc generated by rustdoc ? There is no html generated, only css&js 
[15:48:27] *** Joins: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:48:52] <kimundi> luz: In general our consexpr story is still very weak - there are plans to support stuff like that eventually, but its just not there yet
[15:49:14] <kimundi> TisButMe: If it got generated, thenm there should be html
[15:49:34] <kimundi> TisButMe: But you can just look at the docs on http://www.rust-lang.org/
[15:49:40] <TisButMe> It's my docs
[15:49:47] <TisButMe> not rust's one
[15:49:50] <kimundi> ah
[15:49:55] <kimundi> hm
[15:50:02] <TisButMe> Trying to figure out how to do that
[15:50:04] <luz> just what i wanted to hear
[15:50:10] <luz> i'll experiment with macros for now
[15:50:23] <kimundi> okay, I last used rustdoc before it got completly rewritten, so I actually don'T know a thing about it right now :P
[15:50:25] <jhasse> Why does  `rustc --rlib <file>` also create a shared library alogn the rlib file?
[15:51:11] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[15:51:37] <SiegeLord> It also creates the shared library twice when you do --lib <file> ;)
[15:51:42] <SiegeLord> At least according to --dep-info
[15:52:23] <kimundi> luz: The good news is we might get exportable and dynamically loadable syntax macros soon - which means while it won'T llok as nice, you could then write a macro that parses arbitrary tokens and executes arbitrary code, which would enable something like your code example
[15:52:24] <SiegeLord> I think it's a bug and it should ignore the crate_type when a command line option is passed
[15:53:12] *** Quits: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:53:32] *** Joins: Kruppe (user@moz-F0A23B89.net.uwaterloo.ca)
[15:53:56] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[15:54:03] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: hoverbear)
[15:55:29] <jhasse> SiegeLord: ic. I will try to fix it then ;)
[15:55:49] <SiegeLord> Woohoo
[15:55:49] *** Joins: rossm (rossm@moz-EE3BB1DC.br.br.cox.net)
[15:55:50] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[15:56:13] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:56:48] <luz> kimundi, thanks for clarifying :)
[15:57:52] <jhasse> --rlib ist broken ... hm ... :/
[15:57:54] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:57:58] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:58:56] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[15:58:57] *** ChanServ sets mode: +o jdm
[15:59:01] <TisButMe> So, no idea why no HTML gets generated without any rustdoc error ?
[15:59:40] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:00:26] <TisButMe> The code i'm trying to generate doc for is here : https://github.com/TisButMe/rust-algo/blob/master/LinkedList/linked_list.rs
[16:00:59] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:01:47] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:02:42] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[16:03:41] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[16:04:36] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[16:05:15] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[16:05:45] *** Joins: FreeFull (freefull@moz-9794470C.as13285.net)
[16:06:02] *** Joins: Kxepal (Miranda@moz-DBA12CC2.pppoe.mtu-net.ru)
[16:06:56] *** Joins: jadbaires (jadrian@moz-B95FB934.dsl.telepac.pt)
[16:08:40] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[16:11:24] <jadbaires> hello, while trying to better understand ADT's in Rust, I came up with what appears to be a bug, https://github.com/mozilla/rust/issues/11341
[16:12:15] <jadbaires> in short, this enum with structs fields declaration doesn't typecheck,  enum S { S {a:int, b:int}} 
[16:12:20] *** Joins: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[16:13:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:13:38] <jadbaires> the inner S (value constructor) conflicts with the outter S (type)
[16:14:38] *** Joins: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net)
[16:14:46] <FreeFull> That does look like a bug
[16:15:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:15:07] <geal> ok, so, I gave up on updating the old rust-csv ( https://github.com/Geal/rust-csv-legacy ), and I wrote a new one: https://github.com/Geal/rust-csv
[16:15:11] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[16:15:17] <FreeFull> rusti: enum S { A { a:int, b:int}}; 
[16:15:19] -rusti- ()
[16:15:24] <FreeFull> rusti: enum S { S { a:int, b:int}}; 
[16:15:24] <geal> it is not ;uchm but it is q nice s;qll libm qnd I even took the ti;e to put in on rust=ci .-
[16:15:34] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[16:15:38] <Matthias247> I don't think it's a bug. the inner S will be exported and so there a 2 S definitions in the same module
[16:15:38] <geal> (sorry, keyboard switch wildly)
[16:16:07] <FreeFull> Matthias247: You can have two S definitions in the other cases though
[16:16:07] <Matthias247> and this: let k : C = C{a:0, b:0}; should be let k : S = C{a:0, b:0}
[16:16:11] <jadbaires> Matthias247: I checked for that, and it's also on my report, it's not the case
[16:16:27] *** Quits: payload (Mibbit@moz-F302BCA1.ifsr.de) (Quit: http://www.mibbit.com ajax IRC Client)
[16:16:39] <FreeFull> enum S { S(int, int) }  works
[16:16:40] <Matthias247> ok
[16:16:58] <Matthias247> then the question is what is the correct behaviour :)
[16:16:59] <jadbaires> Matthias247: enum S { C {a:int, b:int} };    let k : C = C{a:0, b:0};   // doesn't typecheck
[16:16:59] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:17:55] <jadbaires> Matthias247: in my opinion only allowing for the former to typecheck would be correct
[16:18:32] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[16:18:58] <jadbaires> Matthias247: this is so because otherwise you end up with problems with regards to type inference
[16:19:00] <jadbaires> e.g.
[16:19:17] <jadbaires> enum S { C {a:int, b:int} };    let k : C = C{a:0, b:0};
[16:19:18] <jadbaires> opss
[16:19:19] *** Joins: voxpopuli (fanservice@39333336.453E166.689607DE.IP)
[16:19:36] <jadbaires> enum S { C {a:int, b:int} };    let k = C{a:0, b:0};  // what is the type of k... S or C
[16:20:25] <Matthias247> as far as I understood the type is always S
[16:20:34] <Matthias247> you can't have a C without a S
[16:21:06] <jadbaires> Matthias247:  so why have a type C being exported at all if you can't construct values of that type
[16:21:45] <Matthias247> jadbaires: I also don't know why the inner types are exported. It's the same behaviour as C does. But I would like a scoping better
[16:22:39] <Matthias247> but then you would have to write Options::Some instead of Some
[16:22:40] <jadbaires> Matthias247: let me just stress that they really aren't being exported, as of now
[16:23:06] <jadbaires> although I understand the question is whether they should
[16:24:59] <jadbaires> Matthias247: "It's the same behaviour as C does"  ... not sure if I'm understanding,  the "C" in this sentence refers to "C" the programming language right? 
[16:25:09] <Matthias247> yes
[16:25:13] <jadbaires> ok :)
[16:25:20] <jadbaires> I should have picked other letters for the example
[16:25:39] <Matthias247> if you do enum ABC { ABC = 1 } there you would also have a double definition
[16:25:40] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[16:25:40] *** ChanServ sets mode: +ao pcwalton pcwalton
[16:25:47] *** Joins: huhlig (sid17687@moz-A42E5B7B.irccloud.com)
[16:26:15] <Matthias247> in C# you would have not because the inner ABC would always require an outer ABC::
[16:26:28] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:27:07] <jadbaires> sorry I'm a bit lost
[16:27:23] <Tobba> augh
[16:27:24] <jadbaires> in that enum example isn't the outter a type and the inner a value?
[16:27:34] <Tobba> upstream LLVM cant handle rusts split stack stuff?
[16:28:21] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[16:28:27] <jadbaires> Matthias247: note that:   enum S { S(int, int) }  does typecheck, as it should
[16:28:55] *** Joins: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP)
[16:29:15] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[16:29:21] <Matthias247> jadbaires: interesting :)
[16:29:22] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:29:22] *** ChanServ sets mode: +ao dherman dherman
[16:29:25] <jadbaires> Matthias247: the problem only arises when the enum field is a struct, because apparently there is some temporary generation of a type with the same id as the value constructor
[16:29:47] <jadbaires> let me try to make it more clear
[16:30:10] <jadbaires> this: struct S {a:int, b:int};    generates both, a type S and a value constructor S
[16:30:20] <Matthias247> I think you should wait for someone else who knows the desired behavior :)
[16:30:32] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[16:30:45] <jadbaires> likewise this: enum S { S(int, int) }   does also generate both a type and a value con, and that is all fine
[16:30:59] *** Parts: nical (Nicolas@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[16:31:14] <jadbaires> but the problem arises with structs within enums... 
[16:31:18] <whitequark> Tobba: split stacks were removed from Rust entirely
[16:31:28] <Tobba> oh
[16:31:37] <Matthias247> I'm a beginner in Rust, but my impression was the that enum S { S (...) } should be not valid
[16:31:43] <Tobba> I noticed when using rusts LLVM codegen vs LLVM 3.4, rust would generate some platform specific code
[16:32:02] <Matthias247> I'm sure someone will clear it up
[16:32:04] <Tobba> why it was trying to access thread local storage I have no idea
[16:32:17] <jadbaires> there's no reason for it to not be valid, IMO... and as I said even a standalone structure generates both a type S and a value con S
[16:32:22] <whitequark> Tobba: it's still using the split stack machinery to check for stack overflows
[16:32:24] <whitequark> abusing rather
[16:32:34] <Tobba> ah
[16:32:36] <whitequark> and yes, it's different from upstream LLVM
[16:32:37] <Tobba> well screw that
[16:32:53] <whitequark> what are you trying to do?
[16:33:08] <Tobba> porting my existing kernel to rust
[16:33:12] <Tobba> I should be in #rust-osdev but w/e
[16:33:23] <jadbaires> the only reason for it not to be valid would be disallow for types and values with the same id, which shouldn't matter since they live in different world
[16:33:30] <whitequark> use --emit-llvm and build the code yourself with rustc's llc
[16:33:37] <Tobba> yeah thats what I've been doing
[16:33:50] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[16:33:51] <Tobba> using my own llc though, otherwise the platform specific code wrecks everything
[16:34:36] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[16:34:39] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:34:48] <whitequark> does it? you're not required to specify -segmented-stacks to llc
[16:34:51] *** Quits: Kxepal (Miranda@moz-DBA12CC2.pppoe.mtu-net.ru) (Ping timeout)
[16:35:18] <Tobba> hm
[16:35:27] <Tobba> currently just an empty function tries to mess with thread local storage
[16:35:36] <Tobba> which in my case would point to the real mode interrupt table and read out total bollocks
[16:36:00] <whitequark> can you show the LLVM IR and how you compile it?
[16:36:25] <Tobba> I just compiled an empty function with rustc and used llvm's objdump on it
[16:36:35] <Tobba> I think rustc might be passing weird llc options by default though
[16:36:54] *** Quits: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com) (Ping timeout)
[16:36:58] *** Joins: Kxepal (Miranda@moz-30036DE2.pppoe.mtu-net.ru)
[16:37:19] *** Joins: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com)
[16:38:32] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[16:39:29] <whitequark> rustc always enables segmented stacks, yes.
[16:40:24] *** Joins: reyre (reyre@moz-89E9865B.com)
[16:40:53] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:41:04] <jadbaires> FreeFull: by the way are there any semantic differences between   "struct S {a:int, b:int}"  and (assuming it dd typecheck)   "enum S { S {a:int, b:int}}"
[16:41:24] <jadbaires> FreeFull: that's what I was trying to find out when bumped into that problem
[16:41:29] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: brb)
[16:42:00] *** Quits: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com) (Ping timeout)
[16:42:05] <kimundi> jadbaires: Well, int theory both should be equivalent
[16:42:07] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:42:40] <kimundi> jadbaires: The second one might or might not contain a tag, dunno if the compiler is smart enough to make it zero sized for such enums
[16:43:01] <jadbaires> right I see
[16:43:15] <Matthias247> I think they would generate different code if there is not specialization/optimization. The enum would get a hidden field that holds the type
[16:43:17] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[16:43:31] <Matthias247> and you could only access the enum through a match
[16:43:34] *** Joins: dysoco (dysoco@moz-7ADDD61D.telecom.net.ar)
[16:43:37] <kimundi> Right, that is what I mean
[16:43:43] <kimundi> a variant tag
[16:43:52] <kimundi> well, that too
[16:44:29] <kimundi> Again, probably no one thougth it important enough to support let pattern destructuring for a single-variant enum
[16:44:50] * kimundi should probabaly test his claims though
[16:45:49] <Tobba> also in the current windows snapshot, is there any form of static libraries
[16:45:53] <Tobba> --rlib isnt recognized
[16:46:03] <jadbaires> Matthias247: kimundi: good points
[16:47:00] *** Joins: gwty (gwtypc@CB91D618.73AAEA08.49FF672.IP)
[16:47:52] *** Quits: pnathan (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[16:48:20] *** Joins: Mowah (Mowah@moz-E62A9639.cust.bredbandsbolaget.se)
[16:49:39] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:50:09] *** Quits: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[16:50:48] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[16:50:49] <klutzy> Tobba: #[crate_type = "rlib"]; is the only way as I know
[16:51:14] <Tobba> ah, lets see then
[16:51:17] *** Joins: ienh (user@moz-F3A1CBB9.lsanca.dsl-w.verizon.net)
[16:51:23] <klutzy> (cf: #112530
[16:51:28] <klutzy> #11253*
[16:51:29] <Tobba> I have to do this without invoking anything platform specific, which rustc is really fond of
[16:51:45] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:52:28] <klutzy> Tobba: uh wait a sec. `--rlib` is documented. it doesn't work?
[16:52:28] <Tobba> and yeah that failed, it still produced a dll
[16:52:40] <Tobba> its just the windows build are ancient turds
[16:52:50] <Tobba> I think I may have to build the latest of the sodding thing
[16:53:01] <klutzy> Tobba: ah, maybe one of extern crates you depend is in dll form
[16:53:12] <Tobba> like, fuck, I had to copy a few dlls around and downgrade to a like what, 3 year old libstdc++ for it to even run
[16:53:23] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[16:53:46] <klutzy> sounds like it failed to find rlib so silently switched to prefer dylib
[16:55:27] <Tobba> its more like the windows build is ancient and I dont even know why its on the github page
[16:56:10] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[16:56:53] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[16:57:07] <jhasse> Tobba: are you using rustpkg?
[16:57:12] <Tobba> I dont think any of it has been updated in ages, the pages refer to mingw packages that dont exist anymore, and the page literally just tells you to build your own
[16:57:31] <Tobba> jhasse: huh? just the rustc for windows linked on the github page
[16:57:38] <jhasse> okay
[16:57:57] <Tobba> I'll build a version of the upstream but this is gonna take a while and be generally awful
[16:58:02] <jhasse> 0.9 will be realesed in the next days, should ship with a better working rust for Windows ;)
[16:58:40] <Tobba> I dont even know why its a mingw build other than that someone was nice enough to use autoconf, making it slightly awful to run outside mingw
[16:58:40] *** Quits: dysoco (dysoco@moz-7ADDD61D.telecom.net.ar) (Client exited)
[16:58:59] <jhasse> Tobba: why do you suggest instead of Mingw?
[16:59:20] <Tobba> it should be entirely possible to compile with something sane like VC++ if you just complete the ancient ritual of building LLVM
[16:59:58] <klutzy> there have been some experiments on cmake
[16:59:58] <Tobba> (I actually got LLVM 3.4 RC to build without a hitch this morning, clang and lld not so much, those were awful)
[17:00:06] <jhasse> Tobba: Rustc uses GCC internally afaik
[17:00:34] <jhasse> I'm against VC++, would result in a lot of work
[17:00:36] *** jorendorff is now known as jorendorff_away
[17:00:49] *** Joins: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com)
[17:01:17] *** Joins: trecer (trecer@7863A936.5761062E.DAF2E6B4.IP)
[17:01:36] <klutzy> currently we depend on mingw/msys for: toolchain, some c runtime, gcc exception, and ld.exe
[17:01:37] <jhasse> also I don't want to use it on Windows. I like working on the command line with git, unix tools, etc.
[17:01:55] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[17:02:30] *** jorendorff_away is now known as jorendorff
[17:03:27] <Tobba> giving people MinGW binary blobs is awful though
[17:03:58] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[17:08:38] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[17:09:31] <Tobba> I would be doing this in linux which would be significantly less awful if it just wasent so unstable
[17:09:40] <Tobba> (the opensource AMD driver suck)
[17:10:04] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[17:13:20] *** Quits: KindOne (KindOne@moz-B9A275BD.dynamic.ip.windstream.net) (Ping timeout)
[17:13:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:13:38] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Ping timeout)
[17:13:41] *** Joins: nomme (nomme@moz-A30B1161.a336.priv.bahnhof.se)
[17:14:25] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:14:40] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[17:14:53] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:15:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:15:44] <Gordon> What do I need to do in case of an error: cannot move out of dereference of & pointer?
[17:15:49] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[17:16:33] <Ms2ger> Pastebin the code, ask again :)
[17:16:44] *** Joins: doy (doy@moz-8F23663C.net)
[17:17:04] <Gordon> I'm trying to understand what the error message means exactly
[17:17:11] *** Joins: KindOne (KindOne@AD0BA1B6.2171A688.34F73994.IP)
[17:17:15] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[17:17:16] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[17:17:43] *** Quits: warz (warz@moz-76E4FB33.austin.res.rr.com) (Quit: )
[17:18:12] <kimundi> Gordon: It means that you are trying to move a value of a moving type away from a location you're accessing through an immutable reference
[17:18:29] <Gordon> like C++ std::move?
[17:18:36] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[17:19:04] <kimundi> because a immutable reference means "You can read the location, but not change it in any way", and a move would invalidate the location, it is illigal to do that
[17:19:14] <Matthias247> I think it's like calling std::move on a variable where you only have a reference on
[17:19:20] *** Quits: trecer (trecer@7863A936.5761062E.DAF2E6B4.IP) (Quit: Computer has gone to sleep.)
[17:19:41] *** Joins: trecer (trecer@7863A936.5761062E.DAF2E6B4.IP)
[17:19:43] <Gordon> okay
[17:19:44] <kimundi> I don't know much C++ - Rust has moving build in as the default, afaik C++ can optionally move?
[17:19:53] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[17:19:57] *** Joins: mib_3y0bkx (Mibbit@moz-FCF1ABDB.icpnet.pl)
[17:20:18] <Gordon> yes
[17:20:24] <Matthias247> yes, c++11 can optionally move. But you can also build types which are only moveable (as rust types)
[17:20:27] *** Joins: SirSkidmore (taylor@moz-F145A866.com)
[17:20:36] <Matthias247> however in rust it's the default behavior, in C++ not
[17:21:00] <Gordon> default behavior even for primitive types?
[17:21:24] <Matthias247> I think for primitiv types not
[17:21:24] *** Quits: trecer (trecer@7863A936.5761062E.DAF2E6B4.IP) (Ping timeout)
[17:21:43] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[17:22:10] <klutzy> http://static.rust-lang.org/doc/master/rust.html#moved-and-copied-types
[17:23:01] <kimundi> Gordon: The distinction is basically wether the type is a POD type (plain old data) - anything that has not a destructor and is not &mut or a few other special cases is POD
[17:23:53] <kimundi> POD types can be copied with a simple memcpy - which basically means you can copy them implicitly
[17:23:55] *** Quits: Ferreus (ferreus@moz-B1EB17E5.dip0.t-ipconnect.de) (Ping timeout)
[17:24:12] <Matthias247> I found that in rust it's sometimes hard to see if a type will be moved or copied. If you use sth. from the std library you only see that it is a struct and has other struct members. To see whether it will be moved you would have to check all members
[17:24:30] <kimundi> dereferencing a & for example is a implicit copy for POD type, and an illigal move for a non-POD type
[17:25:12] <kimundi> Matthias247: The docs need improvements still - a nice little list that shows you what kinds this type has for example
[17:25:28] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:25:49] <Matthias247> and then you would see something like Send for types that will be copied? That would be helpful
[17:26:21] <kimundi> But in principle its not really that important to know the difference - just treat everything as a moving type per default, and see POD as convenience
[17:26:29] <Matthias247> I think IDEs could also nicely highlight this
[17:28:08] <kimundi> yeah
[17:30:07] <jhasse> Tobba: Why is it awful?
[17:31:25] *** Quits: sam113101 (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com) (Quit: ZNC - http://znc.in)
[17:31:55] *** Joins: sam113101_afk (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com)
[17:32:00] <SiegeLord> I like the theoretical ability to cross-compile using mingw from Linux
[17:33:30] *** Quits: jhasse (jhass_000@moz-B7409765.dip0.t-ipconnect.de) (Ping timeout)
[17:36:34] <Tobba> its pretty dependant on the mingw install
[17:36:44] <Tobba> and a total pain in the ass to get to work
[17:37:51] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[17:38:23] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[17:39:53] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[17:41:39] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:45:08] *** Quits: mleise (marco@moz-850E56A9.pools.arcor-ip.net) (Quit: Leaving.)
[17:45:36] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[17:46:04] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[17:46:47] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:47:07] *** sam113101_afk is now known as sam113101
[17:48:59] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[17:51:03] *** Quits: nik_ (nik@moz-F6CD3A5.pool.mediaways.net) (Ping timeout)
[17:51:30] *** Joins: wting (wting@E31B3884.E538DA90.20F09BA6.IP)
[17:53:13] *** Quits: wting (wting@E31B3884.E538DA90.20F09BA6.IP) (Quit: leaving)
[17:53:33] *** Quits: joelteon (bzzt@moz-317E8D0C.io) (Quit: I'm out)
[17:54:05] *** Joins: nik_ (nik@moz-F6CD3A5.pool.mediaways.net)
[17:54:33] *** Quits: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com) (Ping timeout)
[17:54:47] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[17:55:44] *** Joins: wting (wting@E31B3884.E538DA90.20F09BA6.IP)
[17:56:32] *** Joins: joelteon (bzzt@moz-317E8D0C.io)
[17:57:28] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[17:57:49] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[17:59:15] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[18:03:15] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[18:03:30] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[18:05:22] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[18:05:45] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[18:08:21] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[18:09:12] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[18:09:16] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[18:10:43] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[18:11:04] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[18:11:11] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:13:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:13:33] *** Quits: mib_3y0bkx (Mibbit@moz-FCF1ABDB.icpnet.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[18:15:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:15:15] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:15:35] *** Joins: negativezero (negativeze@moz-28BCB6CD.cit.cornell.edu)
[18:16:22] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:19:07] <Gordon> what should I do to collect() a ~[~str] rather than a ~[&str]? https://gist.github.com/anonymous/bc6b59332b1de4143b24
[18:20:12] <eddyb> Gordon: text.split(' ').map(|s| s.to_owned()).collect();
[18:20:24] <Gordon> awesome
[18:20:43] <eddyb> Gordon: keep in mind this will copy each slice on the heap
[18:25:57] *** Quits: fabiand (fabiand@moz-3CFE71A5.adsl.alicedsl.de) (Ping timeout)
[18:27:40] *** Joins: heftig (heftig@moz-C7FB5085.dip0.t-ipconnect.de)
[18:28:17] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:28:31] *** Joins: dmz (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[18:28:44] *** Joins: fabiand (fabiand@moz-1474F0AA.adsl.alicedsl.de)
[18:28:47] *** Joins: pnkfelix (pnkfelix@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:29:53] *** Joins: mib_ypdgun (Mibbit@moz-5A21881D.devs.futuro.pl)
[18:29:56] <dmz> acrichto: is LZ4 supposed to decode stuff encoded by other programs?
[18:30:17] <acrichto> dmz: I would hope so, although I may have gotten the stream format wrong here or there
[18:30:25] <acrichto> there was some weird stuff I ran into about what a stream is and where it starts
[18:30:46] <dmz> acrichto: ok, I was just thinking if we should make a convention for those MAGIC words
[18:31:05] <acrichto> oh they just seemed like implementation details to me
[18:31:18] *** Quits: mib_ypdgun (Mibbit@moz-5A21881D.devs.futuro.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[18:31:32] <dmz> it would help if we had a macro to represent a fixed-size string as u32, something like raw!("rbwt")
[18:31:40] *** Joins: Ferreus (ferreus@moz-FB37B774.pools.arcor-ip.net)
[18:31:50] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[18:32:00] <acrichto> that would be kinda nice yeah, you could do raw!('r', 'b', 'w', 't') though
[18:32:11] <dmz> right now? I'll try
[18:32:34] <acrichto> ($a as u32 << 24) | ( ... )
[18:32:44] <dmz> where is raw! defined?
[18:33:15] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[18:33:24] <acrichto> oh you'd have to define it
[18:33:24] <Eridius> acrichto: that sounds like my old fourcc!() extension
[18:33:29] <acrichto> yeah
[18:33:37] <Eridius> maybe I can resurrect that once #11151 lands
[18:33:46] <dmz> I'm not that much into rust macros yet
[18:33:54] <dmz> was hoping to use something existing
[18:34:21] <eddyb> fourCC!"ABCD" looks nice
[18:34:22] <acrichto> macro_rules! raw( ($a:expr, $b:expr, $c:expr, $d:expr) => (($a as u32 << 24) | ($b as u32 << 16) | ($c as u32 << 8) | ($d as u32)) )
[18:34:35] <Eridius> eddyb: well it was fourcc!("ABCD")
[18:34:40] <acrichto> rusti: macro_rules! raw( ($a:expr, $b:expr, $c:expr, $d:expr) => (($a as u32 << 24) | ($b as u32 << 16) | ($c as u32 << 8) | ($d as u32)) ) raw!('a', 'b', 'c', 'd')
[18:34:49] <acrichto> oh well
[18:35:00] <dmz> lol "macro definitions are not stable enough for use and are subject to change"
[18:35:47] <dmz> should I enable that feature for rust-compress? Alternatively, I can hard-code the MAGIC
[18:36:29] *** Quits: pnkfelix (pnkfelix@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[18:36:48] *** Joins: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com)
[18:38:09] <dmz> rusti:('r' as u32 << 0) | ('b' as u32 << 8) | ('w' as u32 << 16) | ('t' as u32 << 24)
[18:38:15] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[18:38:17] <dmz> rusti: ('r' as u32 << 0) | ('b' as u32 << 8) | ('w' as u32 << 16) | ('t' as u32 << 24)
[18:38:22] <eddyb> dmz: rusti is not here :P
[18:38:29] <dmz> got it :(
[18:38:44] <eddyb> dmz: you can always use bytes!("rbwt") fwiw
[18:39:17] <sfackler> you might end up with the wrong endianness
[18:39:33] <dmz> that's nice, though I need to convert it to u32
[18:39:58] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[18:40:22] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:40:22] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:40:25] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[18:40:50] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[18:41:27] <eddyb> dmz: why did you need it as u32?
[18:42:13] <dmz> eddyb: not strictly necessary, just for the convenience of being a magic wod
[18:42:50] <dmz> acrichto: when I compile as "rustc --cfg=test lib.rs" I'm getting missing docs errors
[18:43:05] <dmz> is it expected? how do I do it correctly?
[18:43:06] <acrichto> dmz: use --test instead
[18:43:21] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[18:43:22] <dmz> nice, that works
[18:44:54] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[18:44:54] *** ChanServ sets mode: +ao dherman dherman
[18:46:24] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:49:19] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:49:50] *** Quits: pepper_chico (pepper_chi@E4B89D8C.3C9EA51F.F546FA5F.IP) (Quit: Ex-Chat)
[18:50:13] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[18:51:56] *** Joins: cmr_ (Mibbit@86DBC01E.79C29BED.C209128E.IP)
[18:52:21] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Client exited)
[18:55:04] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[18:57:59] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[18:58:00] *** Parts: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP) (ERC Version 5.3 (IRC client for Emacs))
[18:58:10] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[18:58:20] <mitsuhiko> dmz: macros are awesome. don't care what it says :)
[18:59:00] <eddyb> http://media.ccc.de/browse/congress/2013/30C3_-_5412_-_en_-_saal_1_-_201312271830_-_bug_class_genocide_-_andreas_bogk.html
[18:59:07] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Ping timeout)
[18:59:39] <eddyb> I haven't finished it yet, but I think Rust isn't susceptible to that bug class
[19:00:36] <dmz> acrichto: I fixed everything you mentioned in the last PR, submitted a new one
[19:00:38] <cmr_> buffer overflow is just a special case of memory unsafety.
[19:01:47] *** Joins: geomyidae_ (uid214@moz-E77DEB21.irccloud.com)
[19:01:48] <dmz> mitsuhiko: I don't doubt it a second. Used to write lots of complex macros for Boo, just didn't happen to encounter any need for them in Rust yet ;)
[19:02:22] <mitsuhiko> dmz: every rust project of mine has one macro :)
[19:02:29] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:02:39] <mitsuhiko> namely this one: https://gist.github.com/mitsuhiko/cf5620b94c7c524dc0a4
[19:02:45] <mitsuhiko> best macro evar!!!111
[19:03:24] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[19:03:25] <dmz> but... isn't there an expect method that does precisely that?
[19:03:33] <dmz> Option::expect at least
[19:03:34] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[19:03:37] <sfackler> dmz: it fails
[19:03:46] <sfackler> on None
[19:03:58] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[19:03:59] <pcwalton> mitsuhiko: monadic "do" notation strikes again :)
[19:04:10] <cmr_> dmz: of course not, expect can't return from  the functinon that called it :P
[19:04:11] <pcwalton> acrichto: ^ another example of "do" notation appearing in the wild, just now :)
[19:04:12] <dmz> oh, and here you just return something else, I see
[19:04:24] <cmr_> dear lord the mibbit emoticons are ugly
[19:04:26] *** Joins: Ferreus_ (ferreus@moz-FB37B774.pools.arcor-ip.net)
[19:04:29] <mitsuhiko> pcwalton: :D
[19:05:21] <dmz> ok, what about unwrap_or?
[19:05:31] <dmz> it does look to do the same as your macro
[19:05:45] <mitsuhiko> dmz: mine is early return
[19:05:53] <dmz> doh
[19:05:58] <dmz> ok, I retire
[19:06:03] <dmz> your macro is good :)
[19:06:04] <mitsuhiko> so you can do things like let x = try_unwrap!(from_str::<i32>("42"), Err(NotANumber));
[19:06:21] <mitsuhiko> also the error case is lazy evaluated :)
[19:06:40] *** Quits: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za) (Ping timeout)
[19:09:51] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[19:10:34] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[19:10:46] <mitsuhiko> anyone up for some discussions about proper api design of a redis library? :)
[19:11:01] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: This computer has gone to sleep)
[19:11:51] *** Quits: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[19:12:43] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:12:44] *** ChanServ sets mode: +ao brson brson
[19:13:11] <acrichto> does debug-info preserve sane backtraces after inlining?
[19:13:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:13:28] <cmr_> mitsuhiko: it'd be nice if it serialize so I could get real objects out of it.
[19:13:31] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Client exited)
[19:13:31] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[19:13:31] *** ChanServ sets mode: +ao dherman dherman
[19:13:38] <cmr_> acrichto: maybe? extra-debug-info definitely does.
[19:13:51] <acrichto> man I wish debug-info worked on OSX :(
[19:13:53] <mitsuhiko> cmr_: yeah, i want to support that. more than that though i want to make pipelines not suck
[19:13:59] <mitsuhiko> and that's super tricky :(
[19:14:30] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[19:14:55] <cmr_> example?
[19:15:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:15:23] <mitsuhiko> cmr_: https://gist.github.com/mitsuhiko/8288088
[19:15:26] <mitsuhiko> i want something like this
[19:15:36] <mitsuhiko> just for any redis command :)
[19:15:51] <mitsuhiko> i have not yet found a way to make this work
[19:15:53] <cmr_> oh that looks super nice
[19:15:53] *** Joins: jhasse (jhass_000@moz-18CCF62D.ewe-ip-backbone.de)
[19:16:14] <mitsuhiko> i think it 
[19:16:26] <mitsuhiko> *it's possible to make it work, but not sure if it's a good idea
[19:16:29] <jadbaires> let me correct myself regarding one of my statements a while back 
[19:16:37] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[19:16:54] <jhasse> Tobba: What's wrong with a mingw install? It's smaller than vc++ ;)
[19:17:10] <jadbaires> in the expression,   enum S { C {a:int, b:int}};   there is indeed a type C (mistakenly I would say) being generated and leaking 
[19:17:11] <jhasse> Tobba: The trouble to get it working should be fixed though
[19:17:30] <jadbaires> this can be confirmed e.g. with   enum S { C {a:int, b:int}};  enum C {};   which doesn't typecheck 
[19:17:51] <jadbaires> I've updated my bug report to reflect this: https://github.com/mozilla/rust/issues/11341
[19:17:55] <cmr_> jadbaires: C isn't a type, it's a function.
[19:18:09] <cmr_> How are you observing it to be a type?
[19:18:11] <jadbaires> cmr_: see my bug report, 
[19:18:24] <jadbaires> cmr_: it is indeed a value constructor
[19:18:27] <cmr_> Oh I see now
[19:18:34] <jadbaires> but unfortunately it is also generating a type
[19:18:38] <cmr_> Looks like a bug in the type checker?
[19:18:44] <jadbaires> so e.g. this fails enum S { S {a:int, b:int}}; 
[19:18:54] <jadbaires> yeap I would say so
[19:21:21] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[19:21:42] <brson> acrichto: mw said he thought debug-info worked on OSX. maybe there are some configurations that don't?
[19:21:43] *** Quits: jhasse (jhass_000@moz-18CCF62D.ewe-ip-backbone.de) (Connection reset by peer)
[19:21:50] <brson> cmr_: thanks for the twir
[19:22:19] <cmr_> brson: thanks for the rust <3
[19:22:45] <jadbaires> If I could I would actually change the title of the bug report, when I first wrote it I focused on "enum S { S {a:int, b:int}}; " failing
[19:23:01] <acrichto> brson: I may be doing it wrong, but 'rustc -Z extra-debug-info foo.rs; lldb ./foo; b main; r' doesn't show up with anything like source-level debug info
[19:23:36] <jadbaires> but it also affects enum declarations that typecheck, in the sense that extra junk types are being generated 
[19:23:47] <cmr_> maybe lldb needs an extra command?
[19:23:58] <cmr_> acrichto: do you have xcode? can it debug arbitrary executables?
[19:24:17] *** Joins: jhasse (jhass_000@moz-18CCF62D.ewe-ip-backbone.de)
[19:24:21] <sfackler> acrichto: It seems to work for me on OSX with GDB at least
[19:24:40] <acrichto> cmr_: sfackler: gcc -g -O0 foo.c shows very nice debug info in lldb with no extra commands
[19:24:41] <sfackler> though I can't remember if that's old builtin gdb or homebrew gdb
[19:24:46] <cmr_> hrm
[19:24:50] <acrichto> as in when I break on 'main' it has the source of main shown
[19:24:57] *** Quits: StarLight (StarLight@moz-7446771B.dynamic.avangarddsl.ru) (Ping timeout)
[19:27:05] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[19:27:35] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[19:27:44] <brson> acrichto: aws has 32-cpu instances available again
[19:27:59] <kimundi> jadbaires: Hu, you should be able to edit your own issues...
[19:28:01] <acrichto> brson: oh yay! I'll grab one soon
[19:28:03] *** Joins: mib_a1wit7 (Mibbit@moz-63A39712.pool.mediaways.net)
[19:28:07] <kimundi> (re title change)
[19:28:49] <cmr_> mitsuhiko: anyway before I got distracted, I see a struct Pipeline<'a> { conn: &'a mut Connection } , with fn get<T>(self, key: &str) -> PipelineResult<T>, and a struct PipelineResult<'a, T> { res: T, conn: &'a mut Connection } with fn tap(self, f: |T|) { let PipelineResult { res, conn } = self; f(res); Pipeline { conn } }
[19:29:10] <cmr_> mitsuhiko: the problem with that is that it *requires* calling `tap`
[19:29:20] *** Joins: StarLight (StarLight@moz-9422361.dynamic.avangarddsl.ru)
[19:29:29] <mitsuhiko> cmr_: also it means that it assumes a generic result for each redis call
[19:29:33] <mitsuhiko> which is super annoying
[19:29:34] <geomyidae_> Can I solicit feedback regarding this: https://github.com/colemickens/pcapfe (Including anything to make it more idiomatic (especially stylistically), bugs, etc, anything really). I have a couple tiny things to add, but otherwise I'm kinda wrapping up with it I think. My first real piece of rust. :)
[19:29:48] <cmr_> mitsuhiko: well, T: Decodable<...>
[19:30:33] <cmr_> mitsuhiko: why is it annoying? would it rather return the raw results?
[19:30:34] <mitsuhiko> but yeah, generally i was thinking the same
[19:30:54] <mitsuhiko> my biggest question so far is how i avoid code duplication
[19:30:55] <cmr_> I think it's far more useful to get real objects than string data ( though that's also useful)
[19:31:08] <mitsuhiko> because you want client.get("foo") for the simple case and client.pipeline().get("foo").tap() for the pipeline case
[19:31:13] <mitsuhiko> how do i avoid writing the code twice?
[19:31:17] <mitsuhiko> i don't see how macros help unfortunately
[19:31:54] <cmr_> fn get(&Connection, &str) ->  Result, call that function in both methods?
[19:32:19] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Ping timeout)
[19:32:28] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[19:32:55] <kimundi> geomyidae_: Hm, is there are specific reason why you using a bunch of fully qualified append_one() calls in lib.rs? I think just doing res.push(...) would be way shorter :)
[19:33:19] <geomyidae_> the entire use of vec in most of those places is highly questionable all around. absolutely.
[19:33:43] *** Quits: espadrine (Thunderbir@moz-6E1AE057.w92-128.abo.wanadoo.fr) (Ping timeout)
[19:33:48] *** Joins: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP)
[19:33:54] *** Joins: espadrine (Thunderbir@moz-6E1AE057.w92-128.abo.wanadoo.fr)
[19:33:59] <geomyidae_> well, as in I know the size ahead of time. I'll fix that one up.
[19:34:13] *** Joins: jhasse_ (jhasse@moz-18CCF62D.ewe-ip-backbone.de)
[19:34:17] <jadbaires> kimundi: I thought I couldn't change the title... let me check again
[19:34:18] <kimundi> For the record, append and append_one is literally implemented as fn append(vec, a) { vec.push(a); vec }
[19:34:20] *** Quits: jhasse_ (jhasse@moz-18CCF62D.ewe-ip-backbone.de) (Connection reset by peer)
[19:34:24] *** Parts: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP) ()
[19:34:26] *** Quits: jhasse (jhass_000@moz-18CCF62D.ewe-ip-backbone.de) (Quit: Verlassend)
[19:34:38] *** Joins: jhasse (jhasse@moz-18CCF62D.ewe-ip-backbone.de)
[19:34:50] *** Joins: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP)
[19:35:05] <jadbaires> kimundi: ohhh you;'re right
[19:35:28] <kimundi> jadbaires: The GUI for that always confuses me too :P
[19:35:41] *** Quits: mib_a1wit7 (Mibbit@moz-63A39712.pool.mediaways.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:35:59] <kimundi> jadbaires: Imo it would make more sense if the title would just get replaced with a textbox, like for the actual content
[19:36:00] *** Quits: gwty (gwtypc@CB91D618.73AAEA08.49FF672.IP) (Ping timeout)
[19:36:14] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[19:36:14] *** ChanServ sets mode: +o tjc
[19:36:35] *** Joins: g3xzh (g3xzh@moz-76245F0B.red.bezeqint.net)
[19:37:35] <g3xzh> do we have in rust something similar to `float_info.max_exp` in python?
[19:37:46] <g3xzh> http://docs.python.org/2/library/sys.html#sys.float_info
[19:38:47] <g3xzh> i ran a grep on num/f64.rs but haven't found anything that seemed like it.
[19:39:14] <mletterle> o_O  undefined reference to `__gxx_personality_v0'
[19:40:23] <sfackler> mletterle: building rust? do a make clean && make
[19:40:58] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[19:41:20] *** Joins: nik__ (nik@moz-FC2772E2.pool.mediaways.net)
[19:41:27] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[19:41:32] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[19:41:52] <g3xzh> ???
[19:41:52] *** Quits: nik_ (nik@moz-F6CD3A5.pool.mediaways.net) (Ping timeout)
[19:41:54] <steveklabnik> sfackler: mletterle i even had to git clean -dfx at one point, because I hadn't built in a looong while
[19:42:02] <mletterle> actually using rust. Already doing a clean and rebuild.
[19:42:16] <mletterle> oh that's a good idea.
[19:42:17] *** flaper87 is now known as flaper87|afk
[19:43:08] <mitsuhiko> cmr_: yeah, you're probably right
[19:43:14] *** Joins: zslayton (Mibbit@81EB2473.5F4BC84E.66C78B76.IP)
[19:43:19] <mitsuhiko> still. with the number of redis functions :D
[19:43:27] <cmr_> yeah it won't be beautiful
[19:43:55] <jadbaires> kimundi: exactly... I was clicking the (reead-only) title above
[19:44:04] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[19:44:12] <geomyidae_> Are there typical conventions for when/where camelCasing or WhateverThisIs or this_is_better or what not with rust code?
[19:44:31] *** Joins: pnkfelix (pnkfelix@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:44:33] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Quit: Leaving.)
[19:44:40] <kimundi> g3xzh: We have some of these constants
[19:44:43] <mitsuhiko> can there be a second mutable borrow?
[19:44:45] <cmr_> geomyidae_: StudlyCaps for types and enum variants, under_scores for everything else.
[19:45:15] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:45:20] <kimundi> CAPSLOCK for constants
[19:45:21] <cmr_> mitsuhiko: no, but you can get around that by moving the ref around.
[19:47:16] *** Quits: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP) (Quit: synackse)
[19:47:18] <olsonjeffery> OSX is all in my face to upgrade to mavericks
[19:47:22] <olsonjeffery> but i won't fall for their tricks
[19:48:46] *** Quits: cmr_ (Mibbit@86DBC01E.79C29BED.C209128E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:49:48] *** Joins: gwty (gwtypc@1B96A294.CA34D4B6.F44414AF.IP)
[19:50:39] *** Joins: awidegre1n (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[19:50:45] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Connection reset by peer)
[19:51:24] <Ms2ger> Upgrade to Linux ;)
[19:52:48] *** Quits: abacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net) (Ping timeout)
[19:52:52] * geomyidae_ nods
[19:53:06] * geomyidae_ smiles at all the /r/rust activity
[19:53:18] *** Quits: victorporof (victorporo@5EC92F85.71368607.9B1E38F4.IP) (Quit: victorporof)
[19:55:24] <mitsuhiko> can i forget self somehow?
[19:56:27] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[19:56:48] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:57:01] <g3xzh> does rust have ternary operation and if it does what its form?
[19:57:08] <g3xzh> * a ternary ...
[19:57:11] <kimundi> mitsuhiko: self is a regular value - you can do anything with it that you can with other values
[19:57:15] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[19:57:19] *** Joins: [a]bacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net)
[19:57:24] <bstrie> g3xzh: `let x = if true { 1 } else { 2 }`
[19:57:25] *** [a]bacus is now known as abacus
[19:57:33] <g3xzh> bstrie: 10x
[19:57:37] <kimundi> g3xzh: No sperate operator, just if { .. } else { .. } as a expression
[19:57:55] <bstrie> mitsuhiko: I can recommend a variety of drugs for that purpose...
[19:58:04] <g3xzh> kimundi: 10x
[19:58:30] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[19:58:39] * bstrie frowns at all the /r/rust activity
[19:58:43] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[19:58:44] <bstrie> more work for me, harumph
[19:58:58] <mitsuhiko> say i have a temporary object that needs to take out a mutable loan from a local variable
[19:59:06] <mitsuhiko> i want to make it forget it that mutable loan later
[19:59:07] <adridu59> alan_andrade: where are you willing to use full-toc exactly?
[19:59:31] <alan_andrade> I want to use it for the language FAQ
[19:59:39] <alan_andrade> since it has two main sections
[19:59:46] <alan_andrade> general and specific questions
[20:00:12] <alan_andrade> And in the code cheatsheet
[20:00:17] <adridu59> then why not remove it from HTML_DEPS and specify it manually on the few concerned files?
[20:00:21] <bstrie> mitsuhiko: what happens if you try using forget on self? now I'm just curious
[20:00:35] <kimundi> mitsuhiko: Have you tried scoping it?
[20:00:37] *** Joins: le_reux (birne@moz-25E770D8.dfri.se)
[20:00:43] <bstrie> le_reux: hello
[20:00:53] <kimundi> mitsuhiko: ... { let tmp = ... } ...
[20:00:54] <adridu59> it looks like it's included on each html file right now
[20:00:57] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[20:01:12] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[20:01:29] <alan_andrade> Its not included on each file, It's a dependency for each file
[20:01:33] <le_reux> hmm strange, in the channel list, "#rust* not exist ;) thx bstrie 
[20:01:39] <alan_andrade> which still feels wrong
[20:02:14] <adridu59> how so?
[20:02:22] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[20:02:46] *** Joins: sellout (Adium@moz-94C19942.hsd1.co.comcast.net)
[20:03:11] <alan_andrade> I only include full-toc.inc in the files I just said
[20:03:23] <adridu59> ok
[20:03:33] <alan_andrade> but since its considered a HTML_DEPS
[20:04:06] <alan_andrade> if we build only tutorial.md for instance, it will verify full-toc.inc is present, even when it not using it.
[20:04:16] <adridu59> my opinion is that if few files are concerned it can be specified inline
[20:04:42] <adridu59> also can you bring back version_info.html in the few places I mentioned on github?
[20:04:45] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[20:04:53] <adridu59> lgtm otherwise, good work! I've gotta go now
[20:04:56] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:05:12] <alan_andrade> true, I think this is a result of touching makefiles without experience :\
[20:05:19] *** Joins: synackse (jordyd@moz-6AE90039.seg135.ucf.edu)
[20:05:40] <alan_andrade> I truly appreciate the patience and help. +1
[20:06:43] <mitsuhiko> bstrie: no idea, my code does not compile :)
[20:07:47] *** Joins: eliovir (Mibbit@moz-2811C56F.fbx.proxad.net)
[20:07:49] *** Quits: le_reux (birne@moz-25E770D8.dfri.se) (Ping timeout)
[20:07:58] <mitsuhiko> it would appear i can't get rid of a borrow through a method call at least
[20:09:24] <eliovir> Hi, "Package docs: http://docs.octayn.net" does not work. Is it a recent state?
[20:10:14] *** Joins: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za)
[20:10:20] *** Parts: synackse (jordyd@moz-6AE90039.seg135.ucf.edu) ()
[20:10:42] <mitsuhiko> i assume a scope is generally necessary currently?
[20:12:27] <mitsuhiko> eg: is there a way to make this work without the extra scope: https://gist.github.com/mitsuhiko/8289075
[20:12:39] <mitsuhiko> and if not: why not :D
[20:13:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:13:33] <jhasse> klutzy: Have you created an issue for the missing native.dll thing? I think I've just fixed it (by making rustpkg use static linking by default)
[20:14:30] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[20:15:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:15:32] *** Quits: voxpopuli (fanservice@39333336.453E166.689607DE.IP) (Ping timeout)
[20:16:08] *** Quits: Ferreus_ (ferreus@moz-FB37B774.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[20:16:32] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[20:16:44] *** Quits: alonlevy (alon@moz-30492E92.bb.netvision.net.il) (Ping timeout)
[20:18:45] <Gordon> is BufferedWriter broken? my compiler insists that the method write_str() is not implemented for it
[20:18:53] <mitsuhiko> hmm. even assigning something to the var keeps the borrow alive
[20:18:53] <zslayton> Mitsuhiko: That may be caused by issue #6393
[20:19:10] <zslayton> See http://blog.ezyang.com/2013/12/two-bugs-in-the-borrow-checker-every-rust-developer-should-know-about/
[20:19:14] <zslayton> for a possible explanation
[20:19:14] *** Quits: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[20:19:34] *** Joins: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[20:20:00] <bascule> there's a write_str() method?
[20:20:07] * bascule used write(str.as_bytes())
[20:20:24] *** Joins: eatkinson (eatkinson@C0A89863.ED78EA15.5FF071F1.IP)
[20:22:20] *** Quits: eatkinson (eatkinson@C0A89863.ED78EA15.5FF071F1.IP) (Quit: eatkinson)
[20:22:56] <Gordon> so what is the proper way to use a BufferedWriter, if it works at all?
[20:23:00] *** Joins: le_reux (birne@moz-E327D6BC.torservers.net)
[20:23:20] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[20:23:57] <mitsuhiko> zslayton: ah yes, i remember
[20:24:44] <mitsuhiko> hmm
[20:24:53] <mitsuhiko> i wonder what the proper api is in light of that limitation
[20:25:10] <g3xzh> why does f64::max_exp() return an int type? should it return a float type?
[20:25:20] <jhasse> What does the label "I-nominated" mean on rust's github issue tracker?
[20:25:59] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Client exited)
[20:26:04] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[20:26:07] <jhasse> g3xzh: It's not the max value but the maximum exponent
[20:26:33] <mitsuhiko> jhasse: i don't know what it stands for, but issues with that tag will be discussed in meetings
[20:26:43] <mitsuhiko> i always thought the I means "inclusion"
[20:26:48] <Ms2ger> Importance?
[20:26:57] <g3xzh> jhasse: yeah, but why it returns an integer?
[20:27:09] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[20:27:20] <jhasse> g3xzh: because exponents are integers in IEEE iirc
[20:27:46] <g3xzh> okay, so how do i convert this to f64?
[20:27:54] <mitsuhiko> as f64
[20:28:23] <g3xzh> mitsuhiko: 10x
[20:28:29] <g3xzh> jhasse: 10x!
[20:28:51] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[20:29:12] <jhasse> g3xzh: ?
[20:29:37] <geomyidae_> Gordon: is the buffered writer mutable?
[20:29:38] <g3xzh> jhasse: for your explanation
[20:29:50] <geomyidae_> I guess you'd get a different error if it were a mutability difference
[20:30:02] *** Joins: prudhvi (p@moz-154A460A.supr.io)
[20:30:16] <Gordon> yes
[20:30:20] <mitsuhiko> g3xzh: what do you want to do btw?
[20:30:48] <le_reux> hm sorry, i had a disconnect, have it seen my problem with: " let a: int = from_str(x).unwrap(); ", x is a int, but as a string from user input. and the unwrap dosn't work.
[20:30:55] <prudhvi> Hi, i have LLVM 3.3 installed on my machine. When building rust do i still have to use the llvm fork the source points to or can i use the system provided one?
[20:31:14] <mitsuhiko> le_reux: what do you mean "does not work"?
[20:31:20] <g3xzh> mitsuhiko: let x : f64 = exp2(f64::max_exp - 1)
[20:31:45] <le_reux> the error is: mismatched types: expected `&str` but found `std::io::stdio::StdReader` 
[20:31:58] *** Quits: gwty (gwtypc@1B96A294.CA34D4B6.F44414AF.IP) (Ping timeout)
[20:33:13] *** Joins: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net)
[20:33:30] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[20:33:43] *** Quits: mleise (marco@moz-850E56A9.pools.arcor-ip.net) (Ping timeout)
[20:34:40] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Quit: c-a)
[20:35:52] <mitsuhiko> g3xzh: just curious what you want to do. floating point shenanigans always interest me :)
[20:36:41] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[20:37:00] *** Joins: killerswan (kevin.cant@moz-1F697F7B.uvs.sntcca.sbcglobal.net)
[20:37:07] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[20:37:44] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Ping timeout)
[20:38:48] <g3xzh> mitsuhiko: working on this https://github.com/mozilla/rust/issues/11059
[20:38:59] <steveklabnik> prudhvi: you have to use the vendored one, it has special patches
[20:39:03] <g3xzh> :)
[20:39:09] <steveklabnik> prudhvi: they're moving upstream, slowly
[20:39:13] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[20:39:13] *** ChanServ sets mode: +ao dherman dherman
[20:39:49] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:40:47] <mitsuhiko> g3xzh: cpython in general is a good source for proper floating point handling btw :)
[20:40:53] <mitsuhiko> in case you want to steal more stuff :D
[20:41:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[20:41:43] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Ping timeout)
[20:42:47] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[20:42:47] *** ChanServ sets mode: +ao dherman dherman
[20:43:35] *** Quits: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net) (Ping timeout)
[20:45:43] *** Joins: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net)
[20:48:30] *** Quits: awidegre1n (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[20:48:50] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:49:02] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[20:49:45] *** Joins: eholk (eholk@moz-799DA9F.lsanca.fios.verizon.net)
[20:49:50] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[20:49:52] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:51:23] <g3xzh> mitsuhiko: 10x, i may take a glance. :D
[20:53:53] *** Joins: g3xzh_ (g3xzh@moz-76245F0B.red.bezeqint.net)
[20:54:49] *** Quits: g3xzh (g3xzh@moz-76245F0B.red.bezeqint.net) (Ping timeout)
[20:55:33] *** Joins: khodzha1 (khodzha@155D5F78.2AEE264E.CA6E2165.IP)
[20:55:51] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[20:55:58] *** Quits: khodzha (khodzha@AF0E54DB.EF9FA30D.CA6E2165.IP) (Ping timeout)
[20:56:12] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:57:07] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:57:57] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:57:57] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[20:58:19] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Quit: )
[20:58:33] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[20:58:50] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:58:55] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[21:00:12] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[21:01:28] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:02:41] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:02:41] *** Joins: valenting (Thunderbir@C23D205E.FDB3AFA7.FB866788.IP)
[21:04:16] <bstrie> how do I read from stdin?
[21:04:35] <bstrie> I've got io::stdin() to give me a stream, but not sure what to do with it
[21:04:37] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[21:05:33] <SiegeLord> Is a proper reader, so you just read from it I imagine
[21:06:12] <SiegeLord> Possibly wrap it in a BufferedReader for additional functionality
[21:06:13] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: Leaving)
[21:07:03] <prudhvi> steveklabnik: thanks
[21:08:09] <bstrie> I really would just like to see an example
[21:08:13] <bstrie> I'm lost
[21:08:36] <bstrie> and I don't have an interpreter on hand
[21:08:40] <bstrie> curse you rusti!!
[21:11:52] <SiegeLord> bstrie: http://pastebin.ca/2530715
[21:12:02] <SiegeLord> I guess it'd be nice to know what exactly you wanted to do though, hah
[21:12:48] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[21:13:14] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:14:29] <bstrie> SiegeLord: asking on behalf of le_reux 
[21:14:41] <bstrie> le_reux: see SiegeLord's pastebin link
[21:15:17] *** Quits: jackneill (jackneill@moz-E93E25D8.pool.digikabel.hu) (Ping timeout)
[21:15:38] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Ping timeout)
[21:16:20] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[21:17:06] <SiegeLord> It'd be a bit easier to use if conditions weren't there...
[21:17:36] <SiegeLord> Although the .lines() method at least doesn't error out on EOF
[21:17:53] <SiegeLord> Oh, maybe that got changed
[21:18:09] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[21:18:14] *** Joins: juszczakn1 (nick@moz-531BAF0B.dyn.centurytel.net)
[21:18:17] *** Quits: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net) (Quit: Leaving.)
[21:19:06] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[21:19:06] *** ChanServ sets mode: +ao dherman dherman
[21:20:42] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[21:21:52] *** Joins: Y (chatzilla@moz-57316FAE.dynamic.isp.telekom.rs)
[21:22:42] <SiegeLord> le_reux: Here's a slightly more sophisticated one that might be more useful: http://pastebin.ca/2530719
[21:23:10] *** Joins: lenstr (lenstr@88ED11E5.9636F313.7A27613B.IP)
[21:23:38] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[21:23:55] <jadbaires> I know rust is meant to capitalize on syntactic similarities with C... but having "/" overloaded for integer and real divisions is a bad idea :/
[21:24:14] <pyon> Can a "loop { ... }" be treated as an expression? That is, with "break" returning a value.
[21:24:30] <jadbaires> I'm always wishing for new languages to steer away from it. Scala discussed it but then they gave up on it
[21:25:11] <le_reux> SiegeLord yay ;) works ;) a lot of thanks ;) 
[21:25:22] <le_reux> and thx to bstrie
[21:25:24] <sfackler> pyon: not directly but you can do something like this: "let foo; loop { .. if blah { foo = bar; break; } ... }"
[21:25:44] <jadbaires> one of the bugs I see all the time in C is an integer division performed where real division was meant, because both arguments happened to be ints
[21:25:50] <pyon> sfackler: Ah! Thanks!
[21:26:00] <jhasse> How can I disable benchmarks when running `make check`?
[21:26:06] <pyon> sfackler: No need to make foo mut, right?
[21:26:09] <sfackler> jhasse: NO_BENCH=1
[21:26:12] <sfackler> pyon: right
[21:26:14] <jhasse> sfackler: thx
[21:27:09] <Ms2ger> sfackler, let mut foo :)
[21:27:38] <jadbaires> furthermore note that "/" in integer and reals isn't even the same operation, unlike +, - and *
[21:27:42] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[21:27:44] <sfackler> Ms2ger: you shouldn't need mut
[21:28:48] <Ms2ger> Huh
[21:28:59] <SiegeLord> That's pretty neat
[21:29:00] <sfackler> you aren't mutating foo, you're initializing it!
[21:29:17] <Ms2ger> Also
[21:29:25] <Ms2ger> warning: variable `foo` is assigned to, but never used, #[warn(unused_variable)] on by default
[21:29:25] <Ms2ger> warning: value assigned to `foo` is never read, #[warn(dead_assignment)] on by default
[21:29:26] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:29:27] <Ms2ger> ++
[21:29:45] <brson> alan_andrade: can you make one last quick change to 11123 and put the version_info.html into all the pages, even the index?
[21:29:52] <alan_andrade> yep yep
[21:30:02] *** Quits: Y (chatzilla@moz-57316FAE.dynamic.isp.telekom.rs) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131206145143])
[21:30:03] <brson> thanks!
[21:30:36] <cmr> diverse: yeah, it does.
[21:30:42] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:32:48] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[21:33:11] <SiegeLord> jadbaires: In Rust though you can't do let a:f32 = int1 / int2; which hopefully reduce the number of such bugs
[21:33:42] *** Quits: sellout (Adium@moz-94C19942.hsd1.co.comcast.net) (Quit: Leaving.)
[21:33:56] <SiegeLord> I haven't thought about it too much, but eventually if you have a float on the lhs, you'll catch the fact that you accidentally made an int on the rhs
[21:34:41] <SiegeLord> It'll really only bite you if you're careless with casts
[21:35:59] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[21:36:24] *** Joins: eatkinson (eatkinson@C0A89863.ED78EA15.5FF071F1.IP)
[21:36:28] <jadbaires> SiegeLord: oh that is nice
[21:36:33] *** Quits: juszczakn1 (nick@moz-531BAF0B.dyn.centurytel.net) (Connection reset by peer)
[21:36:33] *** Joins: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net)
[21:36:35] <g3xzh_> how can i copy sub vector? let p = [0, 1, 2, 3]; x = p.sub(0,1).copy();
[21:36:57] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[21:37:04] <cmr> g3xzh_: p.slice(0, 1).to_owned()
[21:37:05] <sfackler> p.slice(0, 1).to_owned()
[21:37:07] <sfackler> efb
[21:37:12] <cmr> \o/ I win
[21:37:17] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:37:19] <g3xzh_> thanks you all :)
[21:37:19] <Ms2ger> Oh hey, http://www.cad-comic.com/cad/ is about Rust
[21:37:28] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:37:34] <sfackler> the other Rust?
[21:37:43] * cmr has been playing a fair bit of the Other RUs
[21:38:08] <jadbaires> SiegeLord: so you always have to manually cast between different types of numerical values?
[21:38:15] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[21:38:18] <cmr> jadbaires: as with any other type, yes.
[21:38:23] <jadbaires> cmr: cool
[21:38:25] <cmr> numerics aren't exempt from type safety.
[21:38:25] <olsonjeffery> cmr: do you like it? i've been wanting to check it out.
[21:38:31] <cmr> olsonjeffery: I'm not sure.
[21:38:36] <jadbaires> that's good
[21:38:36] <cmr> olsonjeffery: it's honestly... not that fun.
[21:38:43] <olsonjeffery> do you like DayZ?
[21:38:48] <cmr> yes
[21:39:00] <cmr> I feel like it *will* be fun
[21:39:00] *** Quits: valenting (Thunderbir@C23D205E.FDB3AFA7.FB866788.IP) (Quit: valenting)
[21:39:01] <cmr> but it isn't now
[21:39:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:39:03] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:39:23] <brson> i may have overwritten the windows 0.8 installer with a 0.9 prerelease ...
[21:39:30] <olsonjeffery> cmr: sorta like rust-lang to the casual observer!
[21:39:31] <brson> dammit
[21:39:45] <cmr> olsonjeffery: .... a startlingly deep observation!
[21:39:55] <cmr> brson: I think I have a copy lying around if you have a hash of the file
[21:40:12] <cmr> should be in the release email
[21:40:13] <brson> yeah I definitely did
[21:40:15] * cmr looks
[21:40:34] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Quit: c-a)
[21:41:04] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[21:41:08] *** flaper87|afk is now known as flaper87
[21:41:28] <cmr> 4d303232144cb4c3a6f34af6ff0cfe9f8eefae114c88c52ac63128c49cdef7f1
[21:42:33] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[21:42:36] *** Quits: eliovir (Mibbit@moz-2811C56F.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:42:49] <brson> i don't understand why the build produced the wrong file name
[21:43:02] *** Quits: jhasse (jhasse@moz-18CCF62D.ewe-ip-backbone.de) (Ping timeout)
[21:43:05] <cmr> I don't have the installer, sorry :(
[21:43:18] <brson> uh oh
[21:43:28] <cmr> vadimcn or klutzy might?
[21:44:08] <brson> i'll check if the bots have it sitting around
[21:44:47] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[21:45:14] <brson> i think i've got it
[21:45:30] <cmr> are you just doing dry runs?
[21:45:37] <brson> yes
[21:45:47] *** Joins: sellout (Adium@moz-76D71F1A.hlrn.qwest.net)
[21:45:48] <brson> trying to make sure the installers still work
[21:45:58] <brson> there are a few more commits to get in
[21:46:03] *** Quits: Kruppe (user@moz-F0A23B89.net.uwaterloo.ca) (Ping timeout)
[21:47:09] *** Quits: lenstr (lenstr@88ED11E5.9636F313.7A27613B.IP) (Client exited)
[21:47:26] <cmr> So I received a suggestion for TWiR. Rather than sending a weekly newsletter, maintain a rolling release log, with upgrade paths (and examples) for each of the breaking changes...
[21:47:51] <cmr> I'd be fine with it, but I don't think I'm in favor of the format. What do my readers think?
[21:48:10] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Ping timeout)
[21:48:33] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[21:48:39] <olsonjeffery> i like the newsletter format.
[21:48:45] <pcwalton> me too
[21:48:50] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:49:33] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[21:49:34] *** ChanServ sets mode: +ao dherman dherman
[21:50:58] <kimundi> me three
[21:52:41] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[21:52:51] <olsonjeffery> let the record show: change is BAD
[21:52:52] *** Quits: le_reux (birne@moz-E327D6BC.torservers.net) (Quit: Verlassend)
[21:52:58] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[21:53:53] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[21:53:53] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[21:53:53] *** Quits: juszczakn (nick@moz-531BAF0B.dyn.centurytel.net) (Ping timeout)
[21:54:05] <steveklabnik> cmr: +1 newsletter
[21:54:11] <cmr> alright
[21:54:14] <steveklabnik> so much easier to batch read
[21:54:25] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[21:55:01] *** Quits: mrshankly (mrshankly@3EE34383.CE0EEBAE.806C54C8.IP) (Ping timeout)
[21:55:17] *** Quits: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za) (Ping timeout)
[21:55:42] *** Quits: jpf (jan@moz-A8C26A15.org) (Ping timeout)
[21:56:53] *** Quits: ptrr (ptrr@48799E9.1D1EB2D6.85889BB1.IP) (Ping timeout)
[21:57:01] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:57:55] *** Quits: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP) (Ping timeout)
[21:58:17] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[21:58:37] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[21:59:14] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[21:59:36] *** Joins: jpf (jan@moz-A8C26A15.org)
[21:59:45] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[22:00:04] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[22:00:05] <jadbaires> in the manual it says  " There is a special case for tuple structs with a single field, which are sometimes called "newtypes" "
[22:00:31] *** Quits: busylizzy (lisa@270089DC.4EF5D73F.4E00FFE9.IP) (Quit: No Ping reply in 180 seconds.)
[22:00:43] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[22:00:44] *** Joins: busylizzy (lisa@270089DC.4EF5D73F.4E00FFE9.IP)
[22:00:45] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[22:00:52] *** Joins: ptrr (ptrr@48799E9.1D1EB2D6.85889BB1.IP)
[22:01:00] <jadbaires> so, is there a difference between  struct T (1,2,3)  and  struct T ((1,2,3))  ?
[22:01:22] <cmr> Not anymore
[22:01:25] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[22:01:30] <jadbaires> right
[22:01:33] <cmr> Which manual says that?
[22:01:55] <jadbaires> http://static.rust-lang.org/doc/master/tutorial.html#data-structures
[22:02:00] *** Joins: gwty (gwtypc@CB91D618.73AAEA08.49FF672.IP)
[22:02:00] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[22:02:01] <cmr> oh the tutorial
[22:02:07] <cmr> not the manual
[22:02:08] <jadbaires> yes sorry tutorial
[22:02:11] <jadbaires> my bad
[22:02:56] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[22:02:56] <cmr> I don't know what special case it's refering to, perhaps just the name.
[22:03:11] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[22:03:13] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[22:03:23] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[22:03:47] <jadbaires> I think it's just nomenclature
[22:05:38] <SiegeLord> Up until a few days ago there was a special element extraction syntax, but it has been temporarily removed
[22:05:41] <rca> probably a leftover from when you could deref it. The deref part was deleted, but not the remark about it being a special case.
[22:05:49] <SiegeLord> Or maybe permanently... but I secretly hope it's temporary
[22:05:51] <jadbaires> still it seems an inconsistent definition, since any tuple struct is defined with a single field, that field being a tuple
[22:05:53] *** Joins: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net)
[22:06:18] <kimundi> jadbaires: Afaik it never meant more than "has its own name" and "you have deref sugar", the latter of which got removed
[22:06:19] <jadbaires> that would only make sense if there were some difference between struct T (1,2,3)  and  struct T ((1,2,3)) 
[22:06:30] <jadbaires> right
[22:06:34] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:06:36] <cmr> SiegeLord: will be replaced with #[deriving(Deref)] I am willing to bet.
[22:06:47] <g3xzh_> is it a good idea to declare a function in a function. e.g. fn f1() { fn f2() {...} ... } ?
[22:07:01] <brson> ok the 0.8 windows install is restored
[22:07:06] <cmr> g3xzh_: it might be a good idea, depends on your code.
[22:07:07] <g3xzh_> i want to keep my code DRY
[22:07:30] <SiegeLord> jadbaires: There is a differenec
[22:07:33] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:07:35] <jadbaires> SiegeLord: oh
[22:07:51] <SiegeLord> One has one field, and the other has several
[22:07:52] <g3xzh_> cmr: for example, i see there is two places where i repeat my code.
[22:08:16] *** Quits: gwty (gwtypc@CB91D618.73AAEA08.49FF672.IP) (Ping timeout)
[22:08:33] <kimundi> For the record, struct Foo(T) is not analog to a one element tuple, because that has the syntax (T,) ;P
[22:08:35] <jadbaires> SiegeLord: but how do you tell them apart? (i.e. how can you write code that tells them apart)
[22:08:47] <kimundi> (They have identical memory layout of course)
[22:08:55] <SiegeLord> jadbaires: You can destructure T((int, int)) as T(b)
[22:09:03] <SiegeLord> But you can't do that to T(int, int)
[22:09:13] <jadbaires> oh
[22:09:23] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:09:29] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:10:53] <jadbaires> is there a reason why one would want the latter?
[22:11:13] <SiegeLord> It's the difference between struct A1{ a: int } and struct B{ a: int} struct A2{ a: B }
[22:11:16] <kimundi> convenience?
[22:11:17] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:11:30] *** Quits: TisButMe (Mibbit@moz-2B5AC66A.w92-137.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[22:11:39] <SiegeLord> I think it's a mistake to do a tuple struct of a tuple... seems a bit pointless
[22:11:45] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[22:12:22] <g3xzh_> how do i raise an exception (for example if the value is Nan)?
[22:12:36] <kimundi> g3xzh_: Rust does not have exceptions
[22:12:36] <cmr> g3xzh_: fail!("message")
[22:12:53] <cmr> kimundi: sure it does, you just can't catch them except from another task :)
[22:13:14] <kimundi> Well, you can see it either way :P
[22:13:28] <jadbaires> kimundi: SiegeLord: I agree having to write the extra parenthesis is inconvinient... likewise I don't see any reason why one would want to avoid being able to destructure into T(b)
[22:13:29] <g3xzh_> GR8. i am sorry for asking this questions. i guess google might give me it too, but it sometimes sends me to the old doc
[22:13:36] <g3xzh_> *these
[22:13:38] <cmr> google isn't that useful
[22:13:47] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:13:47] *** ChanServ sets mode: +o tjc
[22:13:48] <g3xzh_> cmr: true that
[22:13:57] <cmr> jadbaires: the point isn't to avoid it?
[22:14:04] <SiegeLord> jadbaires: Why would you want to destructure into T(b)?
[22:14:20] <jadbaires> SiegeLord: cast?
[22:14:31] *** Quits: eatkinson (eatkinson@C0A89863.ED78EA15.5FF071F1.IP) (Quit: eatkinson)
[22:15:09] <jadbaires> cmr: so what is the point in distinguishing T(a,b) from T((a,b)) instead of just making them semantically the same, and both able to desugar into T(c)?
[22:15:19] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[22:15:20] <cmr> jadbaires: they're fundamentally different types.
[22:15:22] <jadbaires> that's what I'm not understanding
[22:15:24] <cmr> we don't flatten tuples
[22:15:31] <carter> cmr: didn't realize rust-openblas would make it into the weekly
[22:15:44] <carter> its not susable yet
[22:15:47] <cmr> I know
[22:15:55] <carter> kk
[22:16:02] <SiegeLord> jadbaires: My only point about T(b) was that T((a, b)) has one field... you can destucture T(a, b) as well
[22:16:03] <carter> :)
[22:16:21] <carter> also the clone like thing I wrote yesteday is wrong i realized :)
[22:16:40] <carter> or at least, less right than it coudl be
[22:16:56] *** Joins: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au)
[22:17:29] <jadbaires> I think I see what you all mean
[22:17:37] *** jdm is now known as jdm|busy
[22:18:03] <jadbaires> my brain is used to ignore these parenthesis,  T(a) being the same as T a  in haskell
[22:18:23] <jadbaires> need to reset and rethink
[22:18:45] <SiegeLord> Can you nest more tuples and still have it be the same?
[22:18:55] <kimundi> SiegeLord: Sure
[22:19:11] <SiegeLord> Kind of strange, heh
[22:19:11] <kimundi> struct Foo((((((T,),),),),))
[22:19:22] <SiegeLord> That's not the same thing in Rust though :P
[22:19:39] <kimundi> Define same in this context please :P
[22:19:45] <SiegeLord> Same type
[22:19:58] <kimundi> In Rust? or in Haskell?
[22:20:00] <jadbaires> in haskell ?
[22:20:11] <SiegeLord> I know the answer for Rust, I don't know it for Haskell
[22:20:15] <jadbaires> oh
[22:20:25] <kimundi> Ah, okay. can'T give it to you either :P
[22:21:10] <jadbaires> so what I said is valid for application, not tuples
[22:21:20] <jadbaires> i.e. a type constructor does not require parenthesis
[22:21:35] <jadbaires> so  T (A) is just  T A  with parenthesis around it 
[22:21:57] <jadbaires> and T ((A,B))  is  T (A,B) with parenthesis around
[22:22:00] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[22:22:06] *** Quits: int3_ (int3_@8AF0804B.B0A7F729.7DD07FFA.IP) (Client exited)
[22:22:07] <jadbaires> they're redundant
[22:22:22] <kvanb> I'm pretty sure its just C-rules.
[22:22:28] <SiegeLord> How about T (((A, B)))?
[22:22:38] <kvanb> T (A,B)
[22:22:40] *** Joins: Y (Mibbit@moz-57316FAE.dynamic.isp.telekom.rs)
[22:22:43] <jadbaires> Same as T (A,B)
[22:23:05] <SiegeLord> Err... how do you write a one element tuple?
[22:23:11] <jadbaires> you don't
[22:23:18] <SiegeLord> Ok
[22:23:32] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:23:33] <acrichto> SiegeLord: match my_tuple { (_, _, _, ref mut slot, _, _, _) => { *slot = value; } }
[22:23:38] <jadbaires> I can see how that would be open to criticism
[22:23:45] <jadbaires> you can write a 0-element tuple
[22:23:46] <jadbaires> ()
[22:23:59] <acrichto> wow I didn't read that correctly at all
[22:24:00] <Y> Hi rusties
[22:24:09] <acrichto> "how do you write one element in a tuple"
[22:24:21] <Gordon> what's the canonical way, if any, to print the strings in a vector, and a separator ',' afterwards for all except the last string where a newline is printed instead?
[22:24:24] <jadbaires> but since A is isomorphic to (A) it doesn't exist
[22:24:27] <Y> I have a minor problem with getting the 'Iterator idiom' to work for me :(
[22:24:37] <acrichto> SiegeLord: also: "(1,)" <- note the trailing comma
[22:24:44] <Y> problem: https://gist.github.com/DanielFath/8290861
[22:24:50] <SiegeLord> acrichto: Again, I know the answer in Rust... not in Haskell ;)
[22:25:02] <acrichto> SiegeLord: alright I'm just gonna stop now lol
[22:25:05] <SiegeLord> XD
[22:25:20] *** Joins: gwty (gwtypc@CB91D618.73AAEA08.49FF672.IP)
[22:25:57] <Y> is it possible to borrow a &mut pointer?
[22:25:59] <acrichto> Y: you need teh borrowed pointer to be a mutable borrowed pointer
[22:26:06] <acrichto> Y: priv iter: &'b mut Obj
[22:26:49] <Y> ah
[22:26:55] <Gordon> or alternatively, what's the complexity of some_string.iter().last()?
[22:27:14] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[22:27:16] <Y> I assumed that saing &mut makes all the pointers and other fields mutable
[22:27:24] *** Quits: gwty (gwtypc@CB91D618.73AAEA08.49FF672.IP) (Ping timeout)
[22:27:29] <Y> including the borrowed pointer
[22:28:23] <sfackler> acrichto: struct variants!
[22:28:31] <cmr> Gordon: there is no .iter() on strings, do you mean on a vactor?
[22:28:38] <acrichto> sfackler: ?
[22:28:39] <Gordon> yea
[22:28:43] <cmr> Gordon: O(1)
[22:28:50] <Gordon> awesome
[22:28:51] <cmr> It's a single pointer addition.
[22:28:54] <sfackler> oh, I misread your huge tuple thing
[22:29:03] <acrichto> lol misreadings all around
[22:29:20] <sfackler> c.c
[22:30:06] <SiegeLord> Gordon: I imagine in the general case you might construct a peekable iterator
[22:30:19] <SiegeLord> But if it's a vector, then using last is fine
[22:31:18] <pcwalton> acrichto: llvm inlining heuristics don't work for option::unwrap because of the fail!() calling into fmt and not hitting the inlining threshold
[22:31:34] <pcwalton> I wonder if we can special case empty format strings somehow
[22:31:36] <pcwalton> err
[22:31:39] <pcwalton> format strings with no formatting
[22:31:57] <pcwalton> or wait...
[22:31:59] <acrichto> pcwalton: it'd be difficult b/c it's still getting written out to a generic writer
[22:32:01] <pcwalton> I wonder if fail is adding file/line number
[22:32:10] <pcwalton> that's why it isn't hitting the inlining threshold
[22:32:11] <pcwalton> bah
[22:32:12] <pcwalton> I wanna fix that
[22:32:21] <pcwalton> with our magical libunwind functionality
[22:32:23] <cmr> two constants is pushing it over the edge?
[22:32:29] <pcwalton> cmr: several calls to uint::fmt
[22:32:33] *** Joins: sigma1 (sigma@moz-BFB7A653.range86-143.btcentralplus.com)
[22:32:35] <cmr> ah
[22:32:37] <cmr> yeah
[22:32:47] <cmr> ohh that'd be so fancy.
[22:33:15] * pcwalton wishes he had time to work on rust optimizations
[22:33:18] <cmr> I don't think libunwind touches dwarf debuginfo
[22:33:27] <pcwalton> cmr: it has an API for getting backtraces.
[22:33:34] <cmr> pcwalton: the libunwind we're using?
[22:33:48] * cmr looks
[22:34:16] <pcwalton> oh hmm
[22:34:19] <pcwalton> it doesn't give you the line number
[22:34:22] <pcwalton> you need addr2line for that
[22:34:25] <brson> alan_andrade: I think your pr needs a few more mods https://github.com/mozilla/rust/pull/11123#issuecomment-31694786
[22:34:50] <steveklabnik> pcwalton: someday
[22:34:52] <pcwalton> oh, it's spelled atos(1) on mac
[22:35:04] <steveklabnik> it's kinda fun to have it unoptimized, in ways
[22:35:05] <cmr> I thought that was a 3 for a second and got excited
[22:35:07] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:35:10] *** Quits: sigma1 (sigma@moz-BFB7A653.range86-143.btcentralplus.com) (Ping timeout)
[22:35:33] <cmr> pcwalton: yeah that's the same conclusion I came to last time I looked into doing this
[22:35:36] *** Joins: lbdremy_ (lbdremy@moz-323EC907.dynamic.dsl.as9105.com)
[22:35:45] <pcwalton> perhaps we should just call atos(1) and addr2line(1)
[22:35:48] <pcwalton> if they're available
[22:35:55] <pcwalton> gross but hey, it's debugging
[22:36:13] <cmr> that wouldn't be so bad for fail either
[22:36:21] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[22:36:23] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[22:36:34] <pcwalton> or do it if RUST_PRINT_LINE_INFO=1 is on or something
[22:40:51] *** Joins: jakerr (textual@C587E14D.D6CCE4AE.77834EAA.IP)
[22:42:31] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:42:38] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[22:45:09] *** Quits: jakerr (textual@C587E14D.D6CCE4AE.77834EAA.IP) (Client exited)
[22:46:51] *** Ms2ger is now known as pMs2ger
[22:48:15] *** Joins: jakerr (textual@C587E14D.D6CCE4AE.77834EAA.IP)
[22:50:16] *** Quits: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[22:52:34] *** Joins: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP)
[22:53:22] <kimundi> the file col and lines are not that useful anyway... usually you want a full backtrace, and not just the location of unwrap()s definition in the option module :P
[22:54:07] <alan_andrade> brson according to https://github.com/mozilla/rust/pull/11123, The mk/tests.mk has the tests renamed
[22:54:29] <alan_andrade> before this PR, there was another PR that renamed tutorials -> guides
[22:54:38] <alan_andrade> this one focuses on moving the wiki
[22:54:39] <cmr> kimundi: well it's any fail!, not just unwrap
[22:55:35] <kimundi> sure, but the same problem still applies
[22:55:52] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[22:56:04] <cmr> the fail!'s I write in my code are sometimes useful
[22:56:14] <cmr> I don't disagree, just that such a broad dismissal is, well, broad
[22:56:27] <kimundi> true, sorry
[22:57:00] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[22:57:16] <brson> alan_andrade: oh!
[22:57:22] *** Quits: Y (Mibbit@moz-57316FAE.dynamic.isp.telekom.rs) (Quit: http://www.mibbit.com ajax IRC Client)
[22:58:35] *** Quits: jakerr (textual@C587E14D.D6CCE4AE.77834EAA.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:59:16] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[22:59:55] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:59:55] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Quit: c-a)
[23:00:53] *** Quits: GregorR (Gregor@moz-D9651910.so) (Ping timeout)
[23:02:16] *** Quits: lbdremy_ (lbdremy@moz-323EC907.dynamic.dsl.as9105.com) (Ping timeout)
[23:02:34] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[23:02:45] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:03:57] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[23:06:02] *** Quits: pMs2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP) (Quit: nn)
[23:06:21] *** Quits: terje (terje@F5FDF11B.1D1EB2D6.85889BB1.IP) (Ping timeout)
[23:06:53] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:07:16] *** Joins: GregorR (Gregor@moz-D9651910.so)
[23:08:09] *** Quits: negativezero (negativeze@moz-28BCB6CD.cit.cornell.edu) (Ping timeout)
[23:10:31] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[23:11:52] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[23:13:04] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[23:14:09] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[23:14:30] <dbaupp> if we were to print full backtraces on fail!() by default, then the file/line numbers for the actual fail!() call wouldn't be necessary.
[23:16:05] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[23:16:27] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Client exited)
[23:16:28] *** Joins: jakerr (textual@C587E14D.D6CCE4AE.77834EAA.IP)
[23:16:30] *** Quits: jakerr (textual@C587E14D.D6CCE4AE.77834EAA.IP) (Quit: jakerr)
[23:17:47] <jadbaires> are there any plans for a rust REPL?
[23:18:04] *** Quits: g3xzh_ (g3xzh@moz-76245F0B.red.bezeqint.net) (Ping timeout)
[23:18:15] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Ping timeout)
[23:18:17] <dbaupp> jadbaires: we used to have one, but it was extremely unreliable
[23:18:30] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[23:18:35] <jadbaires> :(
[23:18:41] <dbaupp> there are third party wrappers for rustc, which make it act a little like a REPL: e.g. https://github.com/tarcieri/irust
[23:18:48] <jadbaires> dbaupp: thanks!
[23:20:55] *** Quits: Ferreus (ferreus@moz-FB37B774.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[23:21:48] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:23:50] *** jdm|busy is now known as jdm
[23:26:19] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:28:06] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[23:28:28] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:29:01] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:29:46] <jmgrosen> anyone know why I would suddenly get these linker errors while building rustc? https://gist.github.com/jmgrosen/74be02fb8fce0d0079f3
[23:30:15] <jmgrosen> it seems like it can't find the C++ std lib for some reason
[23:30:51] *** Joins: synackse (jordyd@7DAC4ACE.77F880E0.D9401097.IP)
[23:30:54] <geomyidae_> heh, I've noticed the same thing with unwrap()s definition.
[23:31:18] <geomyidae_> Made me feel extra stupid when I opened option.rs and saw what it was and realized that the fail!() message I was seeing was one that I'd written in expect()
[23:33:03] *** Quits: synackse (jordyd@7DAC4ACE.77F880E0.D9401097.IP) (Quit: synackse)
[23:33:26] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:33:58] *** Joins: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr)
[23:33:59] *** Quits: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr) (Quit: sebcrozet)
[23:34:54] *** Quits: rca (rcatolino@moz-A87C14FE.adsl.proxad.net) (Ping timeout)
[23:35:18] *** Joins: synackse (jordyd@7DAC4ACE.77F880E0.D9401097.IP)
[23:36:30] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[23:37:06] <vmx> i've a struct with two fields. those two fields can have two different types (a vector of structs) that both implement the methods needed by a function that is defined in the impl of that struct. i've tried several things that i can outline, but perhaps somebody has another fresh idea :)
[23:37:54] *** Joins: mpiechotka (mpiechotka@moz-399AAD7C.dynamic.mnet-online.de)
[23:38:14] <kmc> you mean something like  struct Foo<A,B> { bar: A, baz: B } ?
[23:38:25] <brson> alan_andrade: your doc pr got merged!
[23:39:36] <vmx> kmc: it's more like struct Foo { bar: ~[A], baz: ~[B] } (though i don't know if i understand you correctly
[23:40:51] <Tobba> is there any way to make rust output a symbol as global
[23:41:12] <Tobba> right now it seems to tack internal onto all functions, which means I cant use them as my entry point
[23:42:27] *** Joins: drjeats (drjeats@moz-3D31C6D2.nyc.res.rr.com)
[23:42:35] <kmc> vmx: ok, but they are specific types, not generic parameters on the struct?
[23:42:41] <jmgrosen> Tobba, #[no_mangle]?
[23:42:52] <Tobba> well that stops the name mangling
[23:42:56] <kmc> in that case I don't really understand what you're asking specifically... maybe you can pastebin a code example and tell us why it doesn't work (compiler error?)
[23:43:12] <Tobba> but after shoving it through llc the symbol is put LOCAL instead of GLOBAL
[23:43:25] *** Quits: nik__ (nik@moz-FC2772E2.pool.mediaways.net) (Quit: Leaving)
[23:44:02] <sfackler> vmx: do you want something like "struct Foo<A, B> { bar: ~[A], baz: ~[B] } impl<A: Something, B: SomethingElse> Foo<A, B> { pub fn do_a_thing(&self) { self.bar[0].something(); self.baz[0].something_else(); }}"?
[23:44:33] *** Quits: synackse (jordyd@7DAC4ACE.77F880E0.D9401097.IP) (Quit: synackse)
[23:44:41] <jmgrosen> Tobba, you have `pub` on it, I presume?
[23:44:47] *** flaper87 is now known as flaper87|afk
[23:44:47] <Tobba> yeha
[23:44:49] <Tobba> yeah*
[23:44:51] <aatch> Tobba, ah right. In an executable, all functions other than the primary entry point are marked internal
[23:45:06] <Tobba> yep, compiling as a library though
[23:45:37] <vmx> sfackler, kmc: yes i think so. let me quickly create a pastebin with a kind of minimal example that shows more clearly what i want (and one way i did it that didn't work)
[23:46:07] <aatch> Hmm, that's certainly odd.
[23:46:11] <kmc> ok, cool
[23:46:38] <kmc> the main thing is that if A, B are generic and you want to call methods on them, they need to be bounded by some trait which contains those methods
[23:49:05] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[23:49:32] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:50:36] *** Joins: ponce (ponce@moz-D65F4148.fbx.proxad.net)
[23:51:05] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[23:51:26] <vmx> kmc, sfackler: yes, i want to be able to call methods on both and don't want to care which type it actually is. here's a kind of working solution that i hope shows what i want: https://www.friendpaste.com/2MwyvFGA60ESc2FCVkOC9C
[23:51:29] *** Joins: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net)
[23:51:38] <alan_andrade> brson oh yeah! so happy :)
[23:52:23] <vmx> kmc, sfackler: my real world use case would then have two fields in EventPointSchedule where either can be Point or Line
[23:52:32] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[23:53:01] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[23:53:16] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[23:53:27] <vmx> kmc, sfackler: it sounds pretty much like i should use a trait. but i didn't get a vector of traits working at all
[23:54:19] <aatch> vmx, well a vector can only contain one type.
[23:54:35] *** Quits: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com) (Ping timeout)
[23:54:48] <sfackler> vmx: should the vectors be able to contains Points and Lines at the same time?
[23:54:53] <vmx> aatch: sure, that's what i want. i only need one type at a time, but it can be either
[23:55:11] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:55:14] <vmx> sfackler: ^^ online one of them at a time
[23:55:28] <vmx> online=only
[23:55:34] <aatch> vmx, well then just bound the type parameter on some trait that provides the methods you need.
[23:55:43] <aatch> You have to do this in the impl though.
[23:56:14] <vmx> aatch: i tried that. let me try that again
[23:56:17] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[23:56:18] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[23:56:32] *** Joins: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP)
[23:56:52] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[23:58:11] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[23:58:40] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:58:40] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:58:41] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[23:58:56] <vmx> aatch: do you mean something like: https://www.friendpaste.com/2MwyvFGA60ESc2FCVkOC4i
[23:59:18] <aatch> vmx, that's trait objects.
[23:59:32] <aatch> So the vector contains (sorta) both.
