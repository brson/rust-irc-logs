[00:00:02] *** Quits: hoverbear (hoverbear@moz-2FA237A6.wireless.uvic.ca) (Quit: Taking a nap.)
[00:00:14] <Fatalnix> Well, theres a better way for just about any optimized purpose.
[00:00:17] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[00:00:55] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:00:55] <erickt> brson: I've been semi-following it. jack mentions some good numbers with cmake on servo. Could be worth investigating
[00:00:58] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[00:01:19] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[00:01:38] <erickt> brson: I on the other hand want to use the one I haven't written yet, but that's probably a bit silly to count on at the moment :)
[00:02:01] <mcpherrin> tup!  the arrows go up!
[00:02:33] <erickt> brson: I am trying to get rustpkg working like I think though, assuming Eridius and I can settle our debate on how windows paths should be split :)
[00:03:01] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:04:25] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[00:04:53] <erickt> brson: there was also some talk about generating ninja files.
[00:05:17] <erickt> mcpherrin: does tup support cross compiling / configuration / msvc?
[00:06:17] <mcpherrin> erickt: I only think the homepage for tup is funny.  I have no further input.
[00:06:21] <ChrisMorgan> The main thing that I know about what with building is this: I do not want to *need* to install anything beyond Rust to have pure Rust code work.
[00:06:44] <erickt> mcpherrin: oh. hehe
[00:07:08] <mcpherrin> erickt: I think you'd really want to generate tupfiles from cmake or whatever alternative.
[00:08:18] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[00:08:28] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[00:08:40] *** jorendorff is now known as jorendorff_away
[00:09:35] <joebobjoe> How do I know whether or not my type will be implicitly copied or not?
[00:10:01] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[00:10:03] <strcat> joebobjoe: there's really no such thing
[00:10:14] <strcat> joebobjoe: passing/assigning/returning is a shallow copy as C does
[00:10:22] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[00:10:23] <strcat> every type can be 'implicitly copied' that way
[00:10:41] <strcat> if it contains a destructor, closure or &mut, then doing it will cause ownership to be moved to the destination of the copy
[00:11:13] <kimundi> joebobjoe: A type moves if it is or contains a type with destructor, or a &mut reference
[00:11:22] <strcat> or closure
[00:11:37] <strcat> joebobjoe: rust doesn't implicit heap allocations, etc.
[00:11:47] <strcat> you have to ask for deeper than a shallow copy
[00:11:53] <strcat> via a method call
[00:12:19] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:12:33] <jmgrosen> well, I'm making progress on the slicing sugar
[00:12:38] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
[00:12:53] <jmgrosen> the long rustc compile times are annoying, though >_>
[00:12:55] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[00:13:25] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:13:30] <joebobjoe> strcat: If there is no such thing, then why does http://static.rust-lang.org/doc/master/std/clone/index.html mention it?
[00:13:43] <joebobjoe> strcat: "In Rust, some simple types are "implicitly copyable"
[00:13:47] <joebobjoe> "
[00:13:51] <strcat> all types are 'implicitly copyable'
[00:14:05] <joebobjoe> wut
[00:14:07] <joebobjoe> So it lies?
[00:14:27] <strcat> for some reason people like pretending that a shallow copy moving ownership is not a copy
[00:14:28] <strcat> *shrug*
[00:14:44] <strcat> 'move' refers to ownership moving
[00:14:52] <strcat> to the new copy
[00:15:06] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[00:15:13] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[00:15:14] <joebobjoe> strcat: You sound like a compilers person
[00:15:16] <strcat> a = b; is a shallow copy, for types with dtors, closures and &mut it moves ownership
[00:15:18] <strcat> that's really all it is
[00:15:24] <strcat> joebobjoe: you can tell it's a shallow copy
[00:15:39] <strcat> rusti: let mut a = ~5; let b = a; a = ~10; (a, b)
[00:15:40] -rusti- (~10, ~5)
[00:15:45] * strcat shrugs
[00:15:50] <strcat> you can use swaps too so...
[00:15:54] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[00:16:40] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[00:16:55] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[00:17:19] <SiegeLord> That clone documentation is misleading
[00:17:20] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:17:31] <strcat> lots of the tutorial/manual and API docs are misleading
[00:17:33] <strcat> ;p
[00:17:43] <SiegeLord> I think the shallow copy/deep copy distinction is clear and describes well what is going on
[00:17:44] <kimundi> strcat: But both views are valid - there is the "low level" view, in which things being passed by value are just a memcopy in all cases, and there "high level" view, where individual values are either moving around, on pass-by value, or are copied into indepedent identities
[00:17:59] <strcat> kimundi: no, it's not valid to think of move as actually moving something
[00:18:00] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[00:18:00] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:18:11] <kimundi> strcat: On ahigh level it is
[00:18:12] <strcat> you can see what moves and swaps do semantically
[00:18:14] <strcat> kimundi: nope
[00:18:25] <kvark> strcat: is = defined only for Pod types? could we get = working for Rc for example?
[00:18:27] <strcat> I am not sure why misleading people is helping anything
[00:18:31] <strcat> it's simply not how it works
[00:18:37] <strcat> and people read that documentation and get confused
[00:18:38] <kimundi> Sure it is! Or else it wouldn'T have the name "move"! Its a metaphor
[00:18:41] <strcat> over and over and over
[00:18:45] <strcat> kimundi: move *of ownership*
[00:18:49] <strcat> it has nothing to do with moving memory
[00:18:58] <kimundi> I never claimed that
[00:19:09] <strcat> you are claiming that by claiming not all types are implicitly copyable
[00:19:22] <strcat> you are mixing ownership semantics with other semantics
[00:19:32] <kimundi> I didn't claim that either
[00:20:11] <kvark> strcat: I was asking about '=' operator, just to clarify
[00:20:15] *** Quits: eibwen (kvirc@moz-DD021B44.dip0.t-ipconnect.de) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[00:20:24] <strcat> kvark: as I said, all types are implicitly copyable
[00:20:26] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:20:27] <strcat> there aren't exceptions
[00:20:38] <strcat> passing, returning and assigning works for all types
[00:20:40] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[00:20:42] <SiegeLord> I think the low level is much more simple than this high level analogy alternative
[00:20:54] *** Joins: eibwen (kvirc@moz-DD021B44.dip0.t-ipconnect.de)
[00:20:56] <kvark> but somehow Rc requires clone() on copy
[00:20:59] <strcat> it's not high-level, it's just an inaccurate analogy
[00:21:03] <strcat> kvark: no
[00:21:07] <kvark> hmm
[00:21:12] <trinary> newbie question: I have a simple enum Foo { Bar, Baz } I want to check if a particular value of type Foo is equal to Bar. if (val == Bar) doesn't seem to be doing the job. What's the syntax I'm looking for?
[00:21:16] <strcat> rusti: let x = std::rc::Rc::new(5); let y = x; y
[00:21:16] -rusti- std::rc::Rc<int>{ptr: (0x7ff4c4000e70 as *mut ())}
[00:21:22] <kvark> eh
[00:21:32] <SiegeLord> Everything in Rust can be copied using a shallow copy, having a destructor additionally implies a move of ownership
[00:21:40] <strcat> (destructor, &mut or closure)
[00:21:41] <strcat> ;p
[00:21:47] <kvark> strcat: no way... why do I had to put so many 'clone' in my Rc usage then?... need to revisit it...
[00:22:01] <kimundi> All I'm arguing about is that there are two _entirely_ different ways to describe the difference, one on the abstract level of "identity of a individual value", and a lower level one of "bit pattern of a specific type"
[00:22:20] <strcat> kimundi: except one is accurate and the other is an inaccurate analogy with a bunch of contradictions
[00:22:20] <SiegeLord> Well, closure is a type of &mut
[00:22:34] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:22:45] <strcat> and every time anyone talks about 'implicitly copyable' as distinct from moves, they're spreading inaccurate information - it is unable to completely describe the semantics
[00:22:54] <strcat> and then you end up with people confused
[00:22:56] <dbaupp> I think the main problem is the terminology confusing people: there are two things that the word "copy" can refer to, a memcpy pass-by-value style copy, and an explicit .clone() copy. Less experienced people may conflate the two, so I think we should "ban" saying copy, and prefer memcpy and .clone().
[00:23:00] <kimundi> strcat: What is inaccurate and contradicting?
[00:23:35] <kimundi> ANd I was not talking about the term "implicit copyable" in this discussion
[00:23:39] *** Quits: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[00:23:43] <strcat> kimundi: that's what this conversation is about
[00:23:50] *** Joins: nik_ (nik@moz-B6402BD8.pool.mediaways.net)
[00:23:59] *** Quits: nkoep (nik@moz-1DE6E833.pool.mediaways.net) (Ping timeout)
[00:24:04] <joebobjoe> dbaupp: What is the difference between an implicit copy of `3` and `3.clone()`?
[00:24:18] <strcat> kvark: all types can be implicitly copied, if it contains &mut, a closure or a destructor then the implicit copy will move *ownership*
[00:24:19] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:24:26] <strcat> kvark: those are the entire language semantics
[00:24:26] <dbaupp> joebobjoe: for `int`, there's no difference between pass-by-value and .clone()
[00:24:28] *** Joins: hoverbear (hoverbear@moz-2FA237A6.wireless.uvic.ca)
[00:24:28] <kvark> rusti: let x = std::rc::Rc::new(5); let y = x; x
[00:24:31] -rusti- pastebinned 10 lines of output: http://ix.io/9UN
[00:24:35] <kvark> aha!
[00:24:38] <kvark> it doesn't copy
[00:24:42] <strcat> kvark: it does
[00:24:43] <dbaupp> joebobjoe: for ~T there is a difference between pass-by-value and clone
[00:24:46] <kvark> it moves...
[00:24:49] <eibwen> yep
[00:24:50] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[00:24:55] <kimundi> I was talking about the _concept_ behind that description, not about the specific explanation itself
[00:25:02] *** Quits: hjr3 (hradtke@moz-4CC6BC5F.public.wayport.net) (Ping timeout)
[00:25:06] <dbaupp> kvark: it memcpy's the value from x into y, and disallows using x
[00:25:17] <dbaupp> an "implicit copy" just avoids doing the last step
[00:25:17] <strcat> rusti: let mut x = std::rc::Rc::new(5); let y = x; x = std::rc::Rc::new(10); x
[00:25:17] -rusti- <anon>:10:46: 10:47 warning: unused variable: `y`, #[warn(unused_variable)] on by default
[00:25:18] -rusti- <anon>:10         let mut x = std::rc::Rc::new(5); let y = x; x = std::rc::Rc::new(10); x
[00:25:18] -rusti-                                                        ^
[00:25:18] -rusti- std::rc::Rc<int>{ptr: (0x7f0160000e90 as *mut ())}
[00:25:21] <strcat> rusti: let mut x = std::rc::Rc::new(5); let y = x; x = std::rc::Rc::new(10); (x, y)
[00:25:22] -rusti- (std::rc::Rc<int>{ptr: (0x7f90f4000e90 as *mut ())}, std::rc::Rc<int>{ptr: (0x7f90f4000e70 as *mut ())})
[00:25:24] *** Joins: hjr3 (hradtke@moz-4CC6BC5F.public.wayport.net)
[00:25:28] <strcat> kvark: not really sure what you're saying...
[00:25:38] <dbaupp> (i.e. you can still use x for "implicitly copyable" types)
[00:25:40] <strcat> `x` is certainly still there
[00:26:05] <strcat> dbaupp: saying 'implicitly copyable' is wrong
[00:26:06] <eibwen> the rust compiler is written in rust, right?
[00:26:12] <strcat> say plain old data, if you want
[00:26:13] <dbaupp> strcat: hence quotes
[00:26:15] <strcat> that's what the language calls it
[00:26:17] <strcat> Pod
[00:26:22] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[00:26:23] <dbaupp> strcat: since that's what people are talking about
[00:26:25] <kvark> strcat: I expect (coming from C++/Python/.Net) that assigning one pointer to another leaves them both valid, same as doing RC.clone() now
[00:26:25] <joebobjoe> I'm so confused :(
[00:26:42] <kvark> strcat: isn't it an obvious expectation of things?
[00:26:43] <dbaupp> (I do use Pod or so on normally.)
[00:26:44] <strcat> kvark: that's not related to depth of copying or anything
[00:27:25] <kvark> strcat: it is related to copying
[00:27:32] <strcat> it's really not
[00:27:37] <kvark> ok, not
[00:28:16] <strcat> Rc's clone doesn't copy more or less than the implicit assign
[00:28:22] <kimundi> strcat: "Pod vs Moving types" is the distinction I was talking about - we just didn't have Pod until recently, which lead to it being called "implicitly copyable"
[00:28:25] <joebobjoe>  strcat: You say, "a = b; is a shallow copy, for types with dtors, closures and &mut it moves ownership." Don't shallow copies of types with ~ also move ownership?
[00:28:25] <strcat> it adds a new owner
[00:28:33] <strcat> joebobjoe: ~ has a dtor
[00:28:38] <strcat> you can implement ~ with a library type
[00:29:18] <joebobjoe> strcat: So, the destructor is implicitly generated?
[00:29:26] <strcat> joebobjoe: it's not implicitly generated
[00:29:32] <strcat> Rc<T> has a destructor, ~T has a destructor
[00:29:35] <strcat> what's the difference?
[00:29:54] <strcat> they could be called Rc<T> and Uniq<T>
[00:30:02] <strcat> Rc and Uniq (called ~) have a dtor
[00:30:06] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:30:11] <kimundi> joebobjoe: The only difference is that ~T is not defined in a library, but by the compiler
[00:30:37] <joebobjoe> strcat: You say it has a destructor, but no where do I see a Drop defined?
[00:30:46] <strcat> joebobjoe: it's a built-in type
[00:30:54] <kimundi> joebobjoe: Because nowehere you see ~ defined :P
[00:30:56] <strcat> joebobjoe: where do you see the constructor defined?
[00:30:56] <Fatalnix> huh. I guess apparently I can use inotify to replace a busy wait. I don't think thats what I want for the main loop though. That sounds more like an IO event lib
[00:31:26] <strcat> Fatalnix: you don't want to use a busy wait, that's pretty certain
[00:31:26] *** Quits: hoverbear (hoverbear@moz-2FA237A6.wireless.uvic.ca) (Quit: Taking a nap.)
[00:31:38] <strcat> a busy wait will eat up any spare cycles
[00:31:38] <Fatalnix> yeah
[00:31:50] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Quit: Leaving.)
[00:32:09] <strcat> joebobjoe: you can implement a unique pointer as a library type, it's built-in for the sugar
[00:32:16] <Fatalnix> So how do you suggest I implement a main loop?
[00:32:29] <strcat> I don't know exactly what you want to do
[00:32:30] *** Joins: matthewbot (user@moz-C6814817.ga.at.cox.net)
[00:32:51] <Fatalnix> I guess it really depends what approach I take
[00:33:23] <Fatalnix> essentially I'll eventually be waiting for events from plugins
[00:33:49] <igork> trinary: you should cast it to int
[00:33:52] <Fatalnix> That was my learn rust task anyways at least.
[00:34:06] <joebobjoe> strcat: Does .clone() guarantee a non-move?
[00:34:21] <igork> rusti: enum Foo{ Bar, Baz }; let x= Baz as int; x
[00:34:23] -rusti- 1
[00:34:30] *** Quits: espindola (espindola@8EC99D26.4B7A7726.A2E931B1.IP) (Input/output error)
[00:34:34] <Jemaclus> Is there an easier way to write: if foo.len() == 1 { foo = ~[1,1]; } else { foo = ~[0,0]; }
[00:34:35] <Jemaclus> ?
[00:34:44] <strcat> joebobjoe: Clone is &self -> Self
[00:34:46] <trinary> igork: that's what I've been doing, but I was hoping there was some way to get enum member as a comparable value. Oh well!
[00:34:48] <trinary> Thanks :)
[00:34:51] <strcat> joebobjoe: so it can't move ownership
[00:35:07] <strcat> joebobjoe: for example, let x = y; with Rc is the regular shallow copy
[00:35:16] <strcat> the Clone implementation is also a shallow copy
[00:35:19] <FreeFull> Jemaclus: I'm not sure if   foo = foo.len() == 1 ? ~[1,1] : ~[0,0];  would work
[00:35:20] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[00:35:21] <strcat> but it does self.refcount++
[00:36:07] <FreeFull> You could use pattern matching, but not sure that'd be any better
[00:36:20] <Jemaclus> yeah, that's what i thought.
[00:36:21] <Jemaclus> thanks
[00:37:20] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[00:38:06] <FreeFull> Note that if else is an expression too
[00:38:16] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[00:38:37] <FreeFull> So you could do    foo = if foo.len() == 1 { ~[1,1] } else { ~[0,0] };
[00:38:54] *** Quits: eibwen (kvirc@moz-DD021B44.dip0.t-ipconnect.de) (Ping timeout)
[00:38:56] <Jemaclus> right
[00:38:57] <Jemaclus> cool
[00:39:09] <FreeFull> rusti: let mut foo = ~[3]; foo = foo.len() == 1 ? ~[1,1] : ~[0,0]; foo
[00:39:12] -rusti- pastebinned 6 lines of output: http://ix.io/9UO
[00:39:30] <FreeFull> Ok, rust doesn't have the ternary ?:
[00:39:43] <sfackler> nope
[00:39:43] <Jemaclus> major bummer :)
[00:39:48] <strcat> let x = if cond { foo } else { bar };
[00:39:50] <FreeFull> rusti: let mut foo = ~[3]; foo = if foo.len() == 1 { ~[1,1] } else { ~[0,0] }; foo
[00:39:51] -rusti- ~[1, 1]
[00:40:03] <mcpherrin> Since 'if' is an expression, you don't need the questionable colon
[00:40:05] <strcat> it used to have the ternary cond operator and it was removed
[00:40:12] <FreeFull> mcpherrin: More verbose though
[00:40:13] *** Joins: blank_na1e (blank_name@E7821509.94CCB18F.53C6B850.IP)
[00:40:53] *** Quits: blank_name (blank_name@A6C6321C.964BADD.93A5C78C.IP) (Ping timeout)
[00:41:04] *** Joins: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP)
[00:41:14] <FreeFull> Note that not having else is the same as having   else { () }
[00:41:33] *** Quits: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se) (Quit: tq)
[00:42:14] <kimundi> rusti: let x: () = if true { () }; x
[00:42:14] -rusti- ()
[00:43:14] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[00:43:41] <joebobjoe> strcat: Can Rust auto-generate .clone() for my type?
[00:43:41] <FreeFull> rusti: let x = if false { () }; x
[00:43:42] -rusti- ()
[00:44:01] <strcat> joebobjoe: #[deriving(Clone)]
[00:44:07] <strcat> (and Eq, Ord, etc.)
[00:44:13] <joebobjoe> strcat: Why doesn't it do it automatically?
[00:44:25] <sfackler> what if you don't want your type to be clonable?
[00:44:32] <FreeFull> ^
[00:44:34] <strcat> joebobjoe: some types would be unsafe to clone
[00:44:36] <kimundi> joebobjoe: You can put #[deriving(Clone)] on your struct definition, and it will automatically implement it by calling clone on all fields
[00:44:43] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:45:05] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:45:06] *** Quits: smarter (smarter@moz-9C03B7C7.cust.bluewin.ch) (Connection reset by peer)
[00:45:09] *** Joins: smarter (smarter@moz-9C03B7C7.cust.bluewin.ch)
[00:45:16] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[00:45:16] *** Quits: smarter (smarter@moz-9C03B7C7.cust.bluewin.ch) (Connection reset by peer)
[00:45:21] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[00:45:40] *** Joins: smarter (smarter@moz-9C03B7C7.cust.bluewin.ch)
[00:46:02] *** Quits: danikar (Mibbit@moz-A975888.mobile.uci.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[00:46:03] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:48:10] *** Joins: b1nd (b1nd@E3D8A436.45A6FC61.475248F5.IP)
[00:48:12] <joebobjoe> strcat: What is an example of a type that would be unsafe to clone if all its members have .clone() defined?
[00:48:30] <strcat> joebobjoe: Rc :)
[00:48:42] <joebobjoe> strcat: Okay, I'll look.
[00:48:57] <strcat> joebobjoe: anyway most things with a custom dtor would be unsafe to use a default clone for
[00:49:16] <strcat> we could in theory have an impl of Clone for any Pod type
[00:49:28] <strcat> but afaik it will be considered a conflicting impl
[00:49:31] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:50:44] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[00:50:48] <strcat> joebobjoe: a better example would be a wrapper around a POSIX file
[00:50:58] <strcat> joebobjoe: it will have a private c_int field and a destructor calling close
[00:51:12] <strcat> unsafe to use the default Clone
[00:51:14] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[00:51:42] <strcat> you'd get a double-close, which may close a file opened *after*
[00:51:44] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:51:49] <igork> trinary: also you can add impl of Eq trait, by #[deriving(Eq)] or manually. like this - https://gist.github.com/wombatkin/b9ee1ba0093ec12da471
[00:51:51] <strcat> since fds can be reused
[00:52:02] <joebobjoe> strcat: I see
[00:52:14] <trinary> Oh heck yeah, thanks igork.
[00:52:38] <strcat> joebobjoe: having a destructor is one of those 3 magical things removing the Pod trait, so if we somehow had a Clone based on it, then that'd work
[00:52:48] <strcat> impl<T: Pod> Clone for T {} won't work though afaik
[00:53:27] * strcat tries
[00:53:37] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:53:48] <joebobjoe> strcat: Okay I have another queestion for you hold on
[00:53:58] <jmgrosen> slicing is starting to work! https://gist.github.com/jmgrosen/f39b35f1b4d15af5d297 :D
[00:54:01] *** Quits: jzcz (nick@moz-BF346884.dyn.centurytel.net) (Ping timeout)
[00:54:50] <Fatalnix> yay gf is baking molasses cookies
[00:55:28] <joebobjoe> strcat: let y = 0; let x = y; works, but let y = 0; let x = y.clone(); doesn't. Why?
[00:55:48] <strcat> joebobjoe: because 0 is a generic literal
[00:55:53] <jmgrosen> SiegeLord: progress! https://gist.github.com/jmgrosen/f39b35f1b4d15af5d297
[00:55:56] <strcat> and the fallback system is not implemented right
[00:56:22] <strcat> joebobjoe: 0 could be i8, u8, i32, uint, etc.
[00:56:31] <joebobjoe> strcat: How can the compiler know that it doesn't have to move ownership if it doesn't even know the type?
[00:56:32] <strcat> y.clone() sees a bunch of possible methods
[00:56:38] <strcat> joebobjoe: it does know the type
[00:56:42] <ercxx> does the ByteIterator I get from File::bytes() start from the beginning of the file or the point I set with Seek::seek() ?
[00:56:47] <strcat> joebobjoe: it knows it's an int in the first example
[00:56:58] <strcat> joebobjoe: integer literals are generic but fall back to int
[00:57:10] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[00:57:13] <strcat> imo the fallback should be removed because it will cause plenty of bugs
[00:57:17] <joebobjoe> strcat: What? How does it know in the first, but not the second?
[00:57:20] <kimundi> joebobjoe: "inference" means the compiler figures out what the type is - its just not written in the source code
[00:57:23] <strcat> joebobjoe: because the 2nd has a method call
[00:57:32] <strcat> and it sees a dozen methods that it could be
[00:57:35] <strcat> and then it decides that's an error
[00:57:51] <strcat> joebobjoe: perhaps you're not aware of how integer literals work?
[00:57:55] <strcat> rusti: let x = 5; x
[00:57:56] -rusti- 5
[00:57:57] <strcat> that's an int
[00:57:58] <joebobjoe> strcat: I am
[00:58:02] <strcat> rusti: let x = 5; x + 1u8; x
[00:58:03] -rusti- 5u8
[00:58:05] <strcat> now it's a u8
[00:58:20] <strcat> joebobjoe: well the inference just isn't clever enough to deal with the idea of a fallback elsewhere
[00:58:25] <strcat> it only works in some of the paths
[00:58:29] *** Joins: RagingDave (RagingDave@moz-25EB07C2.pools.arcor-ip.net)
[00:58:53] *** Quits: RagingDave (RagingDave@moz-25EB07C2.pools.arcor-ip.net) (Quit: Ex-Chat)
[00:59:06] <strcat> meh doing this based on Pod won't work
[00:59:08] <joebobjoe> strcat: So, someone wrote in the compiler code somewhere that any integer type is safe to copy without an ownership change even if the interger's type isn't hammered down?
[00:59:23] <strcat> joebobjoe: that's not really how checks are done
[00:59:38] <strcat> joebobjoe: type inference happens before the pass figuring out moves
[00:59:45] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[00:59:48] <Boreeas> rusti: let x: uint = 5; let y: int = 7; let z: uint = x + y;
[00:59:51] -rusti- pastebinned 7 lines of output: http://ix.io/9UQ
[00:59:53] <strcat> it will know all the types when it has to deal with moves
[00:59:55] <strcat> no more inference
[01:00:06] <joebobjoe> strcat: OKay
[01:00:15] <joebobjoe> strcat: So, fallback worked in teh first example
[01:00:31] <Boreeas> I really wish there was autocasting between integer types
[01:00:33] <joebobjoe> But as soon as you add a method call it cries?
[01:00:57] <strcat> joebobjoe: yes because the method is a type constraint but not one hard-wired to understand to fall back to int for a generic int literal
[01:01:30] * strcat shrugs
[01:01:46] <strcat> joebobjoe: it sees a bunch of viable clone methods
[01:01:48] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:01:54] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:01:56] <strcat> rusti: let x = 5; y = x.clone(); y + 5i
[01:01:58] -rusti- pastebinned 10 lines of output: http://ix.io/9UR
[01:02:09] <strcat> rusti: let x = 5; let y = x.clone(); y + 5i
[01:02:11] -rusti- pastebinned 37 lines of output: http://ix.io/9US
[01:02:30] <strcat> for whatever reason, that's just how integer/float literals are implemented
[01:02:40] <joebobjoe> strcat: So shouldn't someone write in the compiler that any subset of integer types including int should fallback to int?
[01:02:40] <strcat> if we are going to keep that fallback it makes sense to fix
[01:03:05] <strcat> joebobjoe: not much motivation to fix something that could very well be removed ;p
[01:03:16] <joebobjoe> I see
[01:03:24] <strcat> I remember a relevant PR
[01:03:31] <strcat> didn't land
[01:03:34] <joebobjoe> What does PR stand for?
[01:03:49] <mcpherrin> pull request
[01:03:49] <strcat> pull request
[01:03:53] <strcat> joebobjoe: https://github.com/mozilla/rust/pull/10486 maybe this
[01:03:55] <joebobjoe> ah
[01:04:24] <strcat> yeah so 'impl<T: Pod> Clone for T' doesn't work because it conflicts with other generic Clone impls
[01:05:03] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Input/output error)
[01:06:36] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[01:06:58] <joebobjoe> strcat: I don't understand how &self -> Self disallows moves?
[01:07:20] <strcat> joebobjoe: can't move ownership if you don't have ownership
[01:07:37] <strcat> can't move ownership out of &T, you don't own what & points at
[01:08:00] <strcat> &self -> Self describes taking a non-owning reference to T and returning a T
[01:08:57] *** Quits: Cevn_ (sameer@moz-F316C21E.hr.hr.cox.net) (Quit: leaving)
[01:09:28] <joebobjoe> strcat: Okay, I understand now
[01:09:29] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:09:44] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[01:09:59] *** Quits: Cevn (sameer@moz-80C90058.v4.wm.edu) (Client exited)
[01:10:00] <joebobjoe> strcat: Moving ownership would surprise the caller, no?
[01:10:13] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[01:10:27] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[01:10:35] <strcat> joebobjoe: hm? it can't
[01:10:53] <Cevn> hello again 
[01:11:04] <strcat> joebobjoe: you can only move ownership from A to B if you own the thing in A
[01:11:08] <Cevn> can someone explain to me how to get around this? i run into this a lot 
[01:11:13] *** jorendorff_away is now known as jorendorff
[01:11:28] <strcat> joebobjoe: it's not ever possible to do a move of ownership that a caller can observe
[01:11:52] <Cevn> error: mismatched types: expected `~str` but found `&str` (str storage differs: expected ~ but found &)
[01:12:01] <strcat> if they pass you &mut you can swap out of it in addition to assigning to it something in it... but they don't know which you did
[01:12:03] <Cevn> the code is  let s: ~str = path.as_str().unwrap()
[01:12:23] <strcat> Cevn: it's no ~str, if you leave off the type annotation it will work
[01:12:46] <Cevn> i see
[01:12:50] <Cevn> i'll probably be back
[01:13:04] <strcat> http://static.rust-lang.org/doc/master/std/path/trait.GenericPath.html#method.as_str it returns Option<&str>
[01:13:07] <strcat> unwrap returns &str
[01:13:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:14:16] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[01:14:35] *** Joins: trevor (trevor@moz-F6C93216.hsd1.mn.comcast.net)
[01:14:38] <Cevn> How do I match something in a vec? 
[01:14:44] *** Quits: dbaupp (Thunderbir@moz-F3F7375F.lns20.syd6.internode.on.net) (Ping timeout)
[01:15:04] <strcat> Cevn: what's in the vector?
[01:15:29] <strcat> do you want to match a specific length of vector?
[01:15:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:15:36] <Cevn> strings representing path binaries ~[&str] 
[01:15:46] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[01:15:49] <Cevn> i want to extract the one that is matched and use it
[01:16:08] <strcat> I'm not sure what you mean matched
[01:16:19] <strcat> do you want to iterate over it until you find one meeting a condition?
[01:16:23] <Cevn> hmm
[01:16:50] <Cevn> i'm trying to write a shell
[01:16:55] <strcat> rusti: range(0, 10).find(|x| *x > 5)
[01:16:57] -rusti- Some(6)
[01:17:10] <Cevn> cmd: ~str is the first word 
[01:17:22] <Cevn> i want to use match to check if it's in the ~[&str] vec 
[01:17:28] <Cevn> and use it if so 
[01:17:30] *** Quits: trevor (trevor@moz-F6C93216.hsd1.mn.comcast.net) (Ping timeout)
[01:17:50] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:18:18] <strcat> rusti: let xs = &[1, 2, 3]; xs.iter().find(|&x| *x > 2)
[01:18:19] -rusti- Some(&3)
[01:18:28] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:18:34] <strcat> rusti: let xs = &[1, 2, 3]; xs.iter().position(|&x| *x > 2)
[01:18:37] -rusti- pastebinned 7 lines of output: http://ix.io/9UT
[01:18:43] <strcat> rusti: let xs = &[1, 2, 3]; xs.iter().position(|&x| x > 2)
[01:18:44] -rusti- Some(2u)
[01:19:18] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[01:20:38] <Cevn> alright this is too much for my tiny brain... can you look at my source and tell me if my match approach is flawed? 
[01:20:46] <Cevn> it's okay if not 
[01:21:00] <Cevn> https://github.com/cevn/rush/blob/master/src/rush.rs
[01:22:27] <strcat> Cevn: that's fine, although you don't need to do memory allocation there
[01:23:09] <strcat> Cevn: you can use let cmd = line.as_slice(); and match on it without the ~ sigils on the patterns
[01:24:49] <Cevn> I see
[01:24:56] <Cevn> Just changed it, hopefully 
[01:25:32] <Cevn> what about the other part though? i want to match anything that comes up in the path vec in that same match
[01:25:35] <Cevn> doable? 
[01:26:27] <strcat> yes
[01:26:35] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:26:43] <strcat> Cevn: either make a loop over it or use the find/position methods on iterators
[01:26:48] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[01:27:01] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[01:27:25] <Cevn> what condition do i use in the match? like left of the => 
[01:27:40] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[01:27:49] <strcat> well I mean you'd do the match in a loop
[01:28:09] <Cevn> Ohh 
[01:28:10] <strcat> you can match on vector slices but that's to match on some pattern in the vector
[01:28:26] <strcat> like to match on ["foo", "bar", ..anything] specifically
[01:28:40] *** Joins: sellout (Adium@moz-76D71F1A.hlrn.qwest.net)
[01:28:50] <Cevn> I think i get it.. so match the vector to the cmd, not the other way around? maybe? 
[01:29:53] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[01:29:54] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[01:29:56] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:30:07] <b1nd> rusti: let x = [1,2,3]; x.each(|y| print y)
[01:30:09] -rusti- pastebinned 6 lines of output: http://ix.io/9UU
[01:30:41] *** Quits: nik_ (nik@moz-B6402BD8.pool.mediaways.net) (Quit: Leaving)
[01:30:58] <b1nd> rusti: let x = [1,2,3]; x.each(|y| print(y))
[01:31:00] -rusti- pastebinned 7 lines of output: http://ix.io/9UV
[01:32:15] <b1nd> rusti: let x = [1,2,3]; x.each(|y| std::io::stdio::print(y))
[01:32:18] -rusti- pastebinned 7 lines of output: http://ix.io/9UW
[01:32:29] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:33:47] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: Lost terminal)
[01:33:50] <strcat> rusti: for x in range(3) { println!("{}", x) }
[01:33:52] -rusti- pastebinned 9 lines of output: http://ix.io/9UX
[01:33:54] <strcat> rusti: for x in range(1, 4) { println!("{}", x) }
[01:33:56] -rusti- 1
[01:33:56] -rusti- 2
[01:33:56] -rusti- 3
[01:33:56] -rusti- ()
[01:34:01] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:34:01] *** ChanServ sets mode: +ao brson brson
[01:34:16] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[01:34:16] *** Quits: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za) (Ping timeout)
[01:34:48] *** Joins: jzcz (nick@moz-BF346884.dyn.centurytel.net)
[01:35:26] *** Quits: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[01:35:51] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:36:11] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:37:09] <Cevn> how do I use a variable across functions? or is that not a thing in rust 
[01:37:46] *** Joins: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP)
[01:37:54] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:37:58] <ChrisMorgan> Cevn: what is your use case? What do you actually *need*?
[01:38:13] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[01:39:29] <Cevn> I'm trying to write a shell in rust, and I want the path to be available, but I guess I only need it in the function that checks the path specifically 
[01:40:02] *** Joins: bletch (Mibbit@moz-85F8C52A.as13285.net)
[01:40:11] <ChrisMorgan> "the path" meaning the working directory?
[01:40:38] <Cevn> right now, /bin/* 
[01:40:48] <Cevn> ideally, everything on PATH 
[01:40:53] <Cevn> and in cwd 
[01:41:08] <b1nd> fn main() {
[01:41:09] <b1nd> 	let x = [1,2,3];
[01:41:09] <b1nd> 	x.map(|y| println(y));	
[01:41:09] <b1nd> }
[01:41:23] <b1nd> strcat: how come y doesn't work in println! here?
[01:41:33] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[01:41:40] <strcat> b1nd: println takes &str
[01:41:59] <strcat> println! is something else (and println isn't in the prelude anymore)
[01:42:03] <b1nd> it doesn't convert int automatically?
[01:42:12] <strcat> no
[01:42:22] <b1nd> cool, thanks. So you'd have to explicitly convert?
[01:42:34] <strcat> you would use println!("{}", y) in that case
[01:42:44] <strcat> b1nd: converting an integer to a string implies a memory allocation
[01:43:10] <ChrisMorgan> Cevn: sounds to me like you probably want an environment object covering environment variables, working directory, any special settings, caches, anything you like, which gets passed around everywhere where it's needed.
[01:43:20] <Cevn> ChrisMorgan: sounds about right 
[01:43:43] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Quit: Leaving.)
[01:43:58] <ChrisMorgan> (You could use task local storage, but I would strongly advise against such an approach; it'll give you grief later. Explicit is better than implicit.)
[01:44:04] <b1nd> strcat: 	x.map(|y| println!("{}", y));	
[01:44:08] <b1nd> something like that?
[01:44:13] *** Joins: tjc (tjc@1DD94176.FD5C31A1.284344F5.IP)
[01:44:13] *** ChanServ sets mode: +o tjc
[01:44:17] <strcat> b1nd: well map won't do anything there
[01:44:23] <strcat> er
[01:44:42] <strcat> b1nd: the map method on vectors is deprecated though
[01:44:45] <strcat> you want a for loop
[01:45:02] <b1nd> ok
[01:45:05] <Cevn> ChrisMorgan: so just pass it around? 
[01:45:16] <strcat> rusti: for x in range(1, 4) { println!("{}", x) }
[01:45:17] -rusti- 1
[01:45:17] -rusti- 2
[01:45:17] -rusti- 3
[01:45:17] <ChrisMorgan> Cevn: that's what I'd expect to do
[01:45:17] -rusti- ()
[01:45:31] <strcat> rusti: let xs = [1, 2, 3]; for x in range(1, xs.iter()) { println!("{}", *x) }
[01:45:33] -rusti- pastebinned 14 lines of output: http://ix.io/9UY
[01:45:38] <strcat> rusti: let xs = [1, 2, 3]; for x in xs.iter() { println!("{}", *x) }
[01:45:38] -rusti- 1
[01:45:39] -rusti- 2
[01:45:39] -rusti- 3
[01:45:39] -rusti- ()
[01:45:45] * strcat isn't sure how he replaced that incorrectly
[01:46:02] <Cevn> ChrisMorgan: alright thanks. also think I'm going to use getenv()... didn't realize it existed 
[01:46:18] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[01:47:23] <ChrisMorgan> Cevn: if you can model things as processes (e.g. process per shell) you may well find that a lot of these problems simply disappear. e.g. the environment and working directory are already taken care of
[01:47:47] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[01:47:57] *** jorendorff is now known as jorendorff_away
[01:48:35] *** Quits: tjc (tjc@1DD94176.FD5C31A1.284344F5.IP) (Ping timeout)
[01:49:47] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:50:05] <Cevn> ChrisMorgan: hmm, that sounds awesome, but I don't even know how to begin doing that... 
[01:52:07] *** Quits: igork (Adium@9C577557.7893D71C.6E0EE79F.IP) (Quit: Leaving.)
[01:52:08] <ChrisMorgan> Cevn: e.g. http://static.rust-lang.org/doc/master/std/os/fn.setenv.html to set an environment variable
[01:52:12] <ercxx> Is it normal that looping over a Reader::read_byte is very very slow compared to reading huge chunks?
[01:52:23] <SiegeLord> Yes
[01:52:25] <ChrisMorgan> ercxx: on an unbuffered stream, yes.
[01:52:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:52:45] <ercxx> ok,thanks. let's try it in a buffer :)
[01:52:45] <ChrisMorgan> Use a buffered reader and it'll magically speed up.
[01:53:20] <ercxx> doing it right now
[01:54:06] * ChrisMorgan struggles in vain to find something to change the working directory
[01:54:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:54:14] <kimundi> Loadable syntax extensions just landed \o/
[01:54:42] <ChrisMorgan> Ah, http://static.rust-lang.org/doc/master/std/os/fn.change_dir.html
[01:55:09] <mcpherrin> kimundi: YAY
[01:55:17] <mcpherrin> BIG EXCITE
[01:55:21] <ercxx> ChrisMorgan: It worked. Thanks.
[01:55:30] <Cevn> ChrisMorgan: I am using that, but, I still need stuff from the path, but it seems it'll be easier with getenv() 
[01:55:43] <Cevn> but now I have another error I've not dealt with.. 
[01:55:44] <ChrisMorgan> sfackler: thanks for the externally loadable syntax extensions, you're the hero of the week ☺
[01:56:08] <Cevn> rusti:  let path = std::os::getenv("PATH").unwrap().split(':').collect();
[01:56:20] <Cevn> eh, anyways, it doesn't work 
[01:56:23] <mcpherrin> now off to write all sorts of loadable syntax extensions~
[01:56:28] <Cevn> unconstrained type error 
[01:56:29] -rusti- pastebinned 6 lines of output: http://ix.io/9UZ
[01:57:46] <kimundi> Cevn: collect() is generic, and can create any kind of container - hence it does not know _which one_ to create without a additional type hint
[01:58:07] <Cevn> collect()<str>? 
[01:58:25] <ChrisMorgan> collect::<~[&str]>()
[01:58:34] <SiegeLord> Are these loadable macros documented somewhere?
[01:58:48] <ChrisMorgan> rusti: let path = std::os::getenv("PATH").unwrap(); path.split(':').map(|s| s.to_owned()).collect::<~[~str]>()
[01:58:48] <kimundi> SiegeLord: On the PR that landed, at least
[01:58:49] -rusti- ~[~"/usr/local/bin", ~"/usr/bin", ~"/bin"]
[01:59:05] *** Joins: patpat (patpat@moz-85F8C52A.as13285.net)
[01:59:13] <Cevn> Welllllp I want to learn rust by myself but I don't see how, I feel like i'm going to keep coming here for help forever at this rate 
[01:59:16] <SiegeLord> The first sentence says: "It is not yet ready to merge..."
[01:59:21] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Ping timeout)
[01:59:26] <SiegeLord> I don't trust the OP of that PR to be accurate :P
[01:59:30] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[01:59:53] *** Quits: bletch (Mibbit@moz-85F8C52A.as13285.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:59:55] <kimundi> SiegeLord: Well, the sentence didn't get update it seems :) - if you look further down, there is a checklist of things that got resolved over time
[02:00:33] <SiegeLord> So it works with both types of macros?
[02:01:01] <SiegeLord> If so, that's super awesome
[02:01:13] <SiegeLord> Rust basically just got CTFE
[02:02:22] *** Joins: watt (bzlandfill@moz-1363CC6F.nycmny.east.verizon.net)
[02:02:41] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[02:03:04] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[02:03:36] <mcpherrin> I'm pretty excited for this
[02:03:41] <ChrisMorgan> Not full CTFE (e.g. you won't be able to construct statics from types with private fields by any means at all), but it can certainly approximate a two-step CTFE a little more conveniently than code generation.
[02:03:49] <ChrisMorgan> s/code generation/source code generation/
[02:04:01] <mcpherrin> I'm going to go write some silly syntax extensions tonight
[02:04:12] *** Joins: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net)
[02:05:40] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[02:06:03] <SiegeLord> I wonder how these exported macros work with scoping... do you still need to do macro_escape?
[02:06:31] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[02:07:39] <sfackler> SiegeLord: the scoping is identical to the way it works now
[02:07:43] <sfackler> wrt macro_escape
[02:07:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[02:07:48] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[02:08:03] <sfackler> you can imagine it as if the #[phase(syntax)] extern mod foo is replaced with all of the macro definitions it contains
[02:08:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:08:18] <SiegeLord> So if I put the phase syntax extern mod in a module A, I need to decorate that module with macro_escape for that imported macro to be usable elsewhere?
[02:08:28] <SiegeLord> I see
[02:08:35] <SiegeLord> That's pretty neat
[02:08:36] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[02:08:45] <ChrisMorgan> "elsewhere" being both inside and outside the crate.
[02:08:45] <sfackler> yep, a #[macro_escape] will allow the definition to bubble up to the next enclosing scope
[02:08:53] <ChrisMorgan> Oh, just one level, is it?
[02:09:08] <sfackler> unless the next level up also has a #[macro_escape]
[02:09:17] * ChrisMorgan supposes he's never actually tried using macro_escape to get more than one level up in practice
[02:09:55] <sfackler> basically, the compiler inserts the macro definition into the closest scope that *doesn't* have a #[macro_escape]
[02:09:56] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:10:00] <SiegeLord> And do exported macros need to be escaped?
[02:10:04] <sfackler> nope
[02:10:06] <kimundi> I wonder if we can ever have macros follow regular module namespacing rules though...
[02:10:23] <sfackler> #[macro_export] can be used anywhere
[02:10:34] <sfackler> kimundi: maybe? it'd require syntax to keep track of module scopes
[02:10:43] * ChrisMorgan waits for "use std::fmt::format!;"
[02:10:46] <sfackler> and reexports would almost certainly not work
[02:10:53] <sfackler> but maybe?
[02:11:16] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[02:12:28] <ecl3ctic> I think 'use' statements and path syntax needs an overhaul anwy
[02:12:31] <ecl3ctic> anyway*
[02:13:33] *** Quits: hjr3 (hradtke@moz-4CC6BC5F.public.wayport.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:13:38] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[02:13:47] <ecl3ctic> it's already inconsistent between 'use' and actually-using items
[02:13:55] <ChrisMorgan> ecl3ctic: statements like that need concrete explanation of what you mean and suggestions of alternatives.
[02:14:33] *** Joins: dbaupp (Thunderbir@C5782B92.D5A1DCF.37681C44.IP)
[02:15:38] <ecl3ctic> ChrisMorgan: I've mentioned it before, but "use farm::cow" is a global path whereas farm::cow::moo() is a local path, and "use self::farm::cow" is a local path, and ::farm::cow::moo() is a global path
[02:16:07] <ecl3ctic> ChrisMorgan: that I find particularly unintuitive
[02:16:35] <ChrisMorgan> ecl3ctic: OK, that's the explanation; how about alternatives? (I can't see any immediate way in which it can be improved, though I acknowledge the clumsiness of the problem, struggling with it a few times in my first week or two of Rust.)
[02:17:52] <ecl3ctic> ChrisMorgan: turn "use farm::cow" into "use ::farm::cow" and "use self::farm::cow" into "use farm::cow" to match how it works when you're calling moo() seems like a simple solution
[02:17:56] <patpat> hello, is it convention to use K&R style or Allman style when programming in Rust? (or Horstmann?)
[02:18:07] <ecl3ctic> that makes it consistent for all usage
[02:18:25] <dbaupp> ecl3ctic: that would make the most common use of `use` much uglier
[02:18:28] <ChrisMorgan> patpat: opening curly braces on the same line, four spaces
[02:18:43] <ChrisMorgan> patpat: look at libstd. It's pretty good on style.
[02:18:51] <ChrisMorgan> (Don't look at librustc. It's not.)
[02:18:56] <dbaupp> (by *far* the most common use. e.g. `use std::vec;` would become `use ::std::vec;`.)
[02:18:57] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:19:00] <patpat> okay, thanks!
[02:19:13] <ecl3ctic> dbaupp: but 'use' statements aren't something you type out 1000 times in a file, so I think it wouldn't really matter in the end
[02:19:25] <ecl3ctic> at least the semantics are *consistent*
[02:19:47] *** Parts: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) ()
[02:20:32] * dbaupp shrugs
[02:20:58] *** Joins: a_m0d (a_m0d@moz-322A4DE4.acanac.net)
[02:21:11] *** kimundi is now known as zz_kimundi
[02:21:33] <SiegeLord> I have a simple solution... dissalow non-use paths ;)
[02:21:48] <ecl3ctic> dbaupp: and if you don't like ::farm::cow then I suppose you could do something like g::farm::cow
[02:22:17] <ecl3ctic> but that's sort of unnecessary...
[02:22:25] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:22:45] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[02:22:49] <dbaupp> ecl3ctic: ... g::farm::cow is even worse
[02:23:24] <mcpherrin> patpat: you can also do `rustc --pretty normal foo.rs` to get some idea of style, though I don't know what the state of the pretty printer is right now
[02:23:31] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[02:23:38] <patpat> ah, thanks for the tip
[02:24:00] <dbaupp> mcpherrin: not great
[02:24:26] <ecl3ctic> well I think self::farm::cow if you want a local path is much more horrible than using ::farm::cow for global paths, and at least using ::farm::cow solves the inconsistency problem
[02:24:52] <dbaupp> I very rarely use local path's in `use`, and, anyway, `self` and `super` may be being removed
[02:25:00] <ecl3ctic> I don't like the idea of sacrificing consistency and simplicity because the *look* is slightly less pretty
[02:25:22] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[02:25:41] <dbaupp> (being removed as special in `use` statements, that is.)
[02:26:18] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[02:27:51] <ecl3ctic> we can learn something from unix filesystems here
[02:28:00] <ecl3ctic> :: is analogous to /
[02:28:35] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[02:28:36] *** Quits: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[02:28:56] <ecl3ctic> anyway, I've stated my beliefs..
[02:29:11] <SiegeLord> It's been said that perfect consistency is a non-goal of Rust
[02:29:53] <dbaupp> one uses local paths in `use` far less than local paths in file system interactions
[02:30:05] <dbaupp> in any case, I'm not particularly fussed either way
[02:30:16] <ecl3ctic> SiegeLord: I only want consistency for readability, so when I scan over a ::path I know what it's referring to
[02:30:20] <mcpherrin> we should switch from :: to → 
[02:30:24] <ecl3ctic> not consistency for consistency's sake
[02:30:39] <mcpherrin> hmm I think I need to fork rust to add more unicode.
[02:30:53] <dbaupp> Maybe someone should implement this consistency change, and see how it turns out... ;)
[02:31:08] <SiegeLord> Well, in my opinion the proper way to use non-use paths is to do foo::bar
[02:31:10] *** Quits: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Quit: Leaving)
[02:31:20] <SiegeLord> Whenever you do ::foo::bar I think you're making a mistake
[02:31:24] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:31:29] <SiegeLord> I'd rather you have a use foo; foo::bar
[02:31:34] <ecl3ctic> @farm::cow
[02:31:34] <SiegeLord> It's cleaner that way, in my eyes
[02:31:40] <ecl3ctic> @ is free now :P
[02:31:42] * dbaupp agrees with SiegeLord
[02:32:06] <dbaupp> I only use global paths when I'm hacking on something and don't want to break my chain of thought to add a use to the top of the file immediately
[02:34:07] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[02:35:10] <ecl3ctic> SiegeLord, dbaupp: well not using :: still doesn't make things consistent, but if you remove :: then maybe you can reinterpret 'use' as bringing up a module into a global scope
[02:35:36] *** Joins: simon (simon@moz-FD4ADBC6.cable.teksavvy.com)
[02:35:51] <ecl3ctic> so that farm::cow is always 'global', but 'global' now includes modules that have been brought up to the root
[02:36:05] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[02:36:21] *** Joins: depp (depp@500BAFC1.53465674.3C05E6CB.IP)
[02:36:42] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[02:36:50] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[02:37:04] <ecl3ctic> like a symbolic link
[02:37:16] *** Joins: brendan (brendaneic@moz-F75AEEB2.public.wayport.net)
[02:37:33] *** Quits: carter (carter@moz-3589B90B.c.ircrelay.com) (Quit: IRCRelay - http://ircrelay.com)
[02:37:34] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:38:24] <brson> sfackler: really nice work on macro export. thanks
[02:38:43] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[02:38:45] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:38:49] <dbaupp> do we have docs for it?
[02:39:21] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:40:14] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: computer sleeping)
[02:40:25] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:40:36] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[02:41:47] *** Joins: leroux (leroux@moz-421CF1E4.dsl.bell.ca)
[02:42:04] *** Joins: pagefault (Mibbit@7EFE56F0.11FBE92B.4A5B43A7.IP)
[02:42:28] <pnkfelix> ecl3ctic: for what its worth, the team had discussed requiring a leading `::` for absolute paths everywhere (including `use`).  I think the only benefit we could identify was potentially an easier learning curve for new-comers, due to the increased consistency.
[02:42:43] <pnkfelix> ecl3ctic: But I'm pretty sure that a big majority ruled against it.
[02:43:46] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[02:43:47] *** Joins: gkostyanikov (gkostyanik@7C2472B7.3E410295.CA6E2165.IP)
[02:44:34] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[02:44:45] <Jesse> Hashtable is a trait meaning "able to be Hasht"
[02:45:45] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[02:45:58] <dbaupp> haha
[02:46:22] <brson> Jesse: :)
[02:46:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:47:54] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:48:37] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:51:08] *** Joins: jdm (jdm@moz-12626D4B.static.videotron.ca)
[02:51:08] *** ChanServ sets mode: +o jdm
[02:51:13] <ecl3ctic> pnkfelix: ok, I acknowledge that I seem to have a minority opinion. I'll live
[02:51:29] *** Quits: gkostyanikov (gkostyanik@7C2472B7.3E410295.CA6E2165.IP) (Ping timeout)
[02:51:39] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[02:52:24] *** Joins: Jemaclus (Mibbit@moz-5A4BC30.hsd1.ca.comcast.net)
[02:52:29] *** Joins: gkostyanikov (gkostyanik@7C2472B7.3E410295.CA6E2165.IP)
[02:52:41] <Jemaclus> i'm back with a few more questions. Here's my implementation of quicksort: http://pastebin.com/CDWHbMe6
[02:53:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:53:17] <Jemaclus> two questions here: 1) I feel like I'm dereferencing things too often (all those *s)... and so I feel like I'm missing something with respect to vars and memory. What is it?
[02:53:35] <Jemaclus> And 2) is there an easier way to merge multiple ~[]'s together than the way I'm doing it?
[02:53:36] *** Quits: gkostyanikov (gkostyanik@7C2472B7.3E410295.CA6E2165.IP) (Quit: My iMac has gone to sleep. ZZZzzz…)
[02:53:36] <Jemaclus> thanks :)
[02:54:01] <SiegeLord> The rachet tests keep failing on my system... :/
[02:54:09] <SiegeLord> Maybe some cleaning is in order
[02:54:10] <nightpool>  
[02:54:10] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[02:54:23] *** Joins: Cevn (sameer@moz-57F2D062.v4.wm.edu)
[02:54:57] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[02:55:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:55:03] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:56:08] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[02:56:09] <aatch> Jemaclus, so quicksort can be done in-place, so in theory you only a &mut [T] to implement quicksort.
[02:57:26] <aatch> For your de-ref thing, it's because iter() yields '&T', you can use the same syntax in the pattern though, so `for &i in ...` will work.
[02:57:31] <Jemaclus> hmm. i see.. so just move the bits around in that without making separate [T]s?
[02:57:35] <Jemaclus> ah
[02:57:38] <Jemaclus> that makes a lot more sense
[02:57:41] <Jemaclus> thanks!
[02:58:51] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[02:59:05] <aatch> Yeah, for the in-place version, you'll have to use the swap and mut_split_at methods to manipulate the vector.
[02:59:52] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:00:05] <Jemaclus> neato
[03:00:09] <Jemaclus> ok, i'll look into it!
[03:02:11] *** Quits: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net) (Quit: )
[03:02:25] *** Quits: Cevn (sameer@moz-57F2D062.v4.wm.edu) (Ping timeout)
[03:05:30] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:05:37] *** Joins: quux00 (Mibbit@CA5A4E76.B85C8FD4.53C6B850.IP)
[03:05:51] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:07:42] *** Joins: Denommus (user@moz-77CFEF2B.user.veloxzone.com.br)
[03:07:48] <Denommus> hi
[03:08:00] <Denommus> I'm... confused about something in the module system
[03:08:15] <Yurume> how?
[03:08:26] <Denommus> I want to create a project with two crates: an executable and a library. I created a simple makefile for that
[03:08:44] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[03:09:06] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:09:32] <Denommus> so, in my executable, I call "extern mod foo", and that's fine, it works, because I pass -L. to rustc in my Makefile
[03:10:12] <Denommus> but when I try to use foo::bar::Baz::new, I get an error that "bar" can't be found in "foo"
[03:10:40] <Yurume> Denommus: is the module `bar` in the crate `foo` marked as `pub`?
[03:10:44] <dbaupp> is there `pub mod bar` in foo?
[03:10:48] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[03:10:52] <Denommus> yes, yes
[03:11:17] <Denommus> I'm compiling my library with rustc --lib foo.rs
[03:11:25] <Yurume> can you post the entire error message (and preferably, a minimal example)?
[03:11:26] <dbaupp> what's the contents of foo.rs?
[03:11:37] <Denommus> inside there, I have pub mod foo { pub mod bar; }
[03:11:42] <Yurume> ah
[03:11:53] <Yurume> Denommus: it's foo::foo::bar ;)
[03:12:18] <Yurume> Denommus: so, it is the module `foo` inside the crate `foo`.
[03:12:21] <Denommus> Yurume: ah
[03:13:15] *** Quits: zz_kimundi (kimundi@moz-A0A35D8B.dip0.t-ipconnect.de) (Ping timeout)
[03:13:18] <Denommus> hm, I'll have to review the organization of my code structure, in this case
[03:13:45] *** Joins: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com)
[03:14:25] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:15:02] *** Quits: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au) (Ping timeout)
[03:15:58] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[03:16:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:16:08] <pnkfelix> Denommus: just get rid of the wrapping `pub mod foo { ... }` in your foo.rs; its implied by the filename (or inner attributes within the file, if you want to override the inference from the filename)
[03:16:14] *** Quits: dbaupp (Thunderbir@C5782B92.D5A1DCF.37681C44.IP) (Quit: dbaupp)
[03:16:16] *** Joins: zz_kimundi (kimundi@moz-646723D.dip0.t-ipconnect.de)
[03:16:37] *** Joins: dbaupp (Thunderbir@C5782B92.D5A1DCF.37681C44.IP)
[03:16:39] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[03:16:44] <quux00> Learning Rust - I'm trying to create and use a closure/proc that captures mutable state, but getting compiler errors.
[03:16:46] *** zz_kimundi is now known as kimundi
[03:16:54] <quux00> I haven't been able to track down an example or discussion. 
[03:17:00] <Denommus> pnkfelix: no, if I remove the wrapping it won't find bar, because it is in foo/bar.rs
[03:17:01] <aatch> quux00, you can't capture mutable state in a proc.
[03:17:03] <quux00> Here's my failing code: https://gist.github.com/quux00/8467756
[03:17:23] <Denommus> pnkfelix: I guess I'll put everything in foo, then
[03:17:25] <quux00> aatch: so how would I do something like in my example?  Not possible at all?
[03:17:39] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:17:55] *** Quits: watt (bzlandfill@moz-1363CC6F.nycmny.east.verizon.net) (Quit: CGI:IRC (Ping timeout))
[03:17:55] <pnkfelix> Denommus: ah, you can still keep bar in a separate file
[03:18:25] <Denommus> pnkfelix: I know, it's just that I want it to be inside the foo directory, so my Makefile can be simple
[03:18:33] <pnkfelix> Denommus: ah, I see
[03:18:45] <Denommus> pnkfelix: but I already know how I'll do that
[03:18:51] <pnkfelix> Denommus: well another option would be to keep the inner foo mod, but reexport its contents
[03:19:02] <ecl3ctic> is there a way to have code compile only on a debug build?
[03:19:30] <aatch> quux00, hmm, I'm not certain, but try assigning 'count' to a variable inside the proc
[03:19:37] <ecl3ctic> like D's extremely useful debug {} statement
[03:19:40] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[03:19:50] <quux00> aatch: OK, trying now ...
[03:20:10] <Yurume> ecl3ctic: use a macro?
[03:20:12] <aatch> ecl3ctic, if I recal correctly, you can use cfg! to do config-tests as expressions.
[03:20:18] <Yurume> ah, right
[03:20:23] <Yurume> if cfg!(debug) { ... } will work
[03:20:43] <aatch> And rust does DCE for if false { .. } constructs
[03:21:00] <ecl3ctic> oh awesome
[03:21:07] <ecl3ctic> I'll look at doing that, thanks
[03:21:28] <aatch> As in, it's a guarenteed operation, not a "LLVM normally does it" optimisation.
[03:21:28] <Yurume> rusti: if cfg!(debug) { println!("debugging"); } else { println!("enbugging"); }
[03:21:30] -rusti- enbugging
[03:21:30] -rusti- ()
[03:21:34] <Yurume> rusti: if cfg!(not(debug)) { println!("debugging"); } else { println!("enbugging"); }
[03:21:35] -rusti- debugging
[03:21:35] -rusti- ()
[03:21:52] <Yurume> (or should it be "bugging"? XD)
[03:22:13] <ecl3ctic> re-bugging
[03:22:30] <ecl3ctic> or all of the above
[03:22:35] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[03:22:59] <aatch> re-bugging is adding back old bugs, I'd say "bugging", though I do like the sound of "enbugging"
[03:23:33] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[03:24:34] <pnkfelix> Denommus: like this: https://gist.github.com/pnkfelix/8467874
[03:25:09] <Denommus> pnkfelix: hm. Thanks for the idea, but I changed my project structure :-)
[03:25:26] <quux00> aatch: Assigning to a mutable counter inside the proc worked.  Thanks.  But ...
[03:25:33] <quux00> now I have a new problem: https://gist.github.com/quux00/8467756
[03:25:41] <quux00> Can't use the proc more than once.
[03:25:48] <aatch> quux00, thought you'd hit that.
[03:25:55] <aatch> Yeah, procs can only be called once.
[03:25:58] <Denommus> quux00: a proc is moved after it is called
[03:26:04] <pnkfelix> Denommus: okay.  Well it may be useful info in the future nonetheless (e.g. the fact that the inner foo mod can be private, thus keeping that directory structure hidden from the outside)
[03:26:22] <Yurume> quux00: proc *is* designed to be called at most once.
[03:26:52] <quux00> My goal is to memoize a fn/proc/closure by keeping hidden mutable state. I seem to going down the wrong path.
[03:26:58] <quux00> Any example code to do such memoization?
[03:27:02] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[03:27:08] <Denommus> quux00: I also hit this problem some days ago, at the end what I wanted was an unboxed closure, which are still not implemented
[03:27:12] <aatch> quux00, yeah, that's not easy to do in Rust.
[03:27:17] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[03:27:36] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:27:54] <Denommus> quux00: what I'd recommend you to do is... for now, think of Rust as an imperative language, don't try to push it too much in the functional direction
[03:28:11] <Denommus> quux00: it is still not very good on that. Maybe in the future it will get better, though
[03:28:13] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[03:28:14] <quux00> OK. Too bad. Hopefully that will be possible some day.  Thanks for the help.
[03:28:48] <aatch> Denommus, that's not *strictly* true, I mean compared to our primary competitors we're practically Haskell.
[03:28:59] <Denommus> aatch: ofc
[03:29:33] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[03:29:43] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Input/output error)
[03:29:58] <aatch> I generally explain it as "Rust is C++ with decent functional support, not 'imperative Haskell'"
[03:30:50] *** Quits: simon (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[03:31:04] <Denommus> aatch: that is *also* not strictly true, not until we have at least unboxed closures. C++ already have those :-/
[03:31:36] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[03:31:38] <Denommus> aatch: I'd say it is an imperative language with some support for functional programming and an awesome type system
[03:31:49] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[03:31:54] <Yurume> Denommus: C++ with "some" functional support? :)
[03:32:07] <quux00> Denommus: could you explain what an "unboxed closure" would be?  A closure built on the stack that can be passed to other fns?
[03:32:07] <aatch> Eh, at any rate, it's the memory model that I think is at the core of Rust as a language.
[03:32:10] <Yurume> some more*
[03:32:13] <o11c> C++ has pretty good functional support, it's just not idiomatic
[03:32:27] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[03:32:28] <aatch> Everything else is just gravy
[03:32:28] <o11c> function programming is not nearly as awesome as people think it is
[03:32:31] *** Quits: a_m0d (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[03:32:46] <aatch> I'd happily use a rust that didn't have closures if it kept the memory model.
[03:32:56] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[03:32:57] *** Joins: bitwalker (bitwalker@moz-1684082D.hsd1.mn.comcast.net)
[03:33:11] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[03:33:11] <Yurume> o11c: there are many concepts in the functional programming that plain do not work in C++. some of them would work in Rust and some others wouldn't.
[03:33:18] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:33:23] <Yurume> and that's not a bad thing actually
[03:33:42] <Denommus> quux00: for now, we have borrowed closures and owned closures, we don't have an equivalent of the unboxed variables for closures
[03:34:05] *** Joins: a_m0d (a_m0d@moz-322A4DE4.acanac.net)
[03:34:24] *** Quits: a_m0d (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[03:34:30] <Denommus> quux00: this kind of closures would be theoretically be able to capture variables by move, by borrowing or by cloning, which is more flexible than the current approach
[03:34:41] <Denommus> quux00: C++11's closures are unboxed
[03:34:45] <pyon> Denommus: Sounds like making the closures unboxed is an operational detail that has nothiig to do with whether the language supports functions programming or not.
[03:34:45] <aatch> An "unboxed" closure would have limitations in Rust anyway, since it would be a unique, un-writeable type anyway.
[03:34:57] * Yurume thinks his Periodic Table of Rust Types is good for explaining that
[03:35:32] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:35:33] <pyon> Denommus: Or we would have the rather unreasonable claim that C++11 provides more functional support than Haskell!
[03:35:40] <pyon> functional programming* support
[03:36:24] <Denommus> pyon: I'm not implying you do need unboxed closures to have functional programming. It's just that you can't use closures in Rust the way you would expect if you come from functional languages
[03:36:25] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:36:37] <Denommus> pyon: for that, you'd need some additional abstractions that Rust still does not support
[03:38:18] *** Joins: deen (deen@moz-B2003C49.dip0.t-ipconnect.de)
[03:38:28] <pyon> Denommus: Actually, the way Rust does closures makes sense in the context of Rust being linearly typed. Much of what typical functional languages do is highly dependent on garbage collection.
[03:38:30] *** Joins: jed (jed@moz-9E36FDA5.lightspeed.stlsmo.sbcglobal.net)
[03:39:26] <pyon> (e.g., passing a closure and not worrying about boxing / lifetime issues)
[03:39:33] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:39:33] <Denommus> pyon: indeed
[03:39:53] <Denommus> pyon: maybe linear types simply must change the way we think about functional programming as a whole
[03:40:08] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[03:40:27] <quux00> pyon: good point - that helps explain things a lot I think
[03:40:58] <Denommus> pyon: or maybe we will see a better design for closures in a linear type context
[03:41:03] <dbaupp> Yurume++ ... unboxed closures would simply be filling in one of the holes in the table.
[03:41:05] <Denommus> pyon: time will tell
[03:41:16] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:42:30] <Denommus> o11c: functional programming is *more* awesome than people tend to think, considering its mathematical background. But if you are more pragmatic, maybe that does not matter to you
[03:43:05] <Yurume> dbaupp: the chemical periodic table was used for explaining and/or finding missing elements, so it is no surprise :)
[03:43:20] *** Quits: Jemaclus (Mibbit@moz-5A4BC30.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:43:27] *** Parts: ptc (Adium@moz-192425C4.nyc.res.rr.com) ()
[03:43:46] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:43:52] *** Joins: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP)
[03:44:05] <Denommus> well, I'm leaving, thanks for all the help again
[03:44:10] <dbaupp> Yurume: yup. creating that was an awesome idea :)
[03:44:17] <dbaupp> (both the Rust and the chemical tables. :P )
[03:44:30] *** Quits: Denommus (user@moz-77CFEF2B.user.veloxzone.com.br) (Quit: ERC Version 5.3 (IRC client for Emacs))
[03:44:40] <jed> does str::from_utf8 function the same as the old str::from_bytes? sorry this is probably a dumb question, been away for a while
[03:45:11] *** Quits: quux00 (Mibbit@CA5A4E76.B85C8FD4.53C6B850.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:45:11] *** Quits: smarter (smarter@moz-9C03B7C7.cust.bluewin.ch) (Connection reset by peer)
[03:45:21] <dbaupp> jed: yes
[03:45:30] <dbaupp> well, I think from_bytes returned ~str
[03:45:36] <dbaupp> from_utf8 returns &str
[03:45:39] <jed> that should be fine
[03:45:49] <Yurume> we need a search using function signatures! ;)
[03:45:54] <dbaupp> (i.e. it just checks for valid UTF8 and then coerces the &[u8] to &str)
[03:46:03] * dbaupp also wants a Hoogle for Rust
[03:46:03] <jed> that's all I need
[03:46:09] <jed> had that been missing it would have been a real pain
[03:46:17] <sp3d> Roogle++
[03:46:19] <jed> oh man rust hoogle. roogle.
[03:46:27] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Ping timeout)
[03:46:53] <jdm> dbaupp: that existed at one point. I remember it.
[03:47:07] *** Joins: smarter (smarter@moz-9C03B7C7.cust.bluewin.ch)
[03:47:09] <dbaupp> jdm: yeah, I do too
[03:47:15] <dbaupp> I can't remember who wrote it
[03:48:05] <dbaupp> (I actually started writing one too, but I got stuck after extracting the function signatures via libsyntax (the other Roogle actually just parsed the generated docs to extract signatures).)
[03:48:36] *** Joins: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de)
[03:49:10] *** Joins: simon (simon@moz-FD4ADBC6.cable.teksavvy.com)
[03:51:21] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[03:51:29] <jed> did md5 ever make it into extra? I remember the issue got closed at least?
[03:52:05] <ChrisMorgan> I think it ended up in rust-crypto
[03:52:39] <jed> :(
[03:53:00] <gavinb> I'm trying to implement something in Rust for which I would use atomics and a condition+mutex in C++. So what would the Rustic approach be? I can happily use the std::sync::atomics, but how to replicate the behaviour (across tasks!) of condition vars (or semaphores or the like)?
[03:53:38] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Quit: This computer has gone to sleep)
[03:53:56] *** Joins: espindola (espindola@3AA6F601.53AE8582.A535BD55.IP)
[03:53:58] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:54:43] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[03:55:00] *** Joins: yutongzhao (yutongzhao@moz-325F8282.hsd1.ca.comcast.net)
[03:55:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:55:56] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[03:59:45] *** Quits: ktt3ja (ktt3ja@moz-515C1363.hsd1.va.comcast.net) (Quit: Leaving)
[04:00:04] <gavinb> I'm thinking perhaps a MPSC queue might do the trick; need multiple worker tasks to notify the parent of completion.
[04:00:06] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:00:33] *** Quits: vince (vince@87549D5D.A97DAB6F.A7E3DA15.IP) (Client exited)
[04:01:25] <rdn> can I add methods to a type used from another module with impl?
[04:01:56] <Yurume> a type "used from"?
[04:02:05] <Yurume> did you mean a type declared in another module?
[04:03:39] <dbaupp> gavinb: I thought we had conditions and mutexes
[04:03:44] <dbaupp> gavinb: acrichto would no more
[04:03:47] <dbaupp> *know
[04:03:55] <rdn> use xxx::Type; impl Type {...}
[04:03:57] <rdn> is that valid?
[04:04:07] *** Joins: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net)
[04:04:11] <acrichto> gavinb: the best way to approach this is with Chan/Port combinations
[04:04:13] <gavinb> dbaupp: hm ok, thought maybe that was unRustic
[04:04:15] <Yurume> uh, I'm not sure about that, let's test it.
[04:04:27] <gavinb> acrichto: ah, right - makes sense
[04:04:32] <joebobjoe> How is this allowed? struct Foo { other: Option<Foo> } ?
[04:04:36] <gavinb> acrichto: thanks
[04:04:47] <Yurume> rusti: use a::p; mod a { pub struct p; } impl p { fn f(&self) { println!("yeah"); } } p.f()
[04:04:50] -rusti- pastebinned 10 lines of output: http://ix.io/9V8
[04:05:01] <Yurume> wait, waht?
[04:05:08] *** Quits: yutongzhao (yutongzhao@moz-325F8282.hsd1.ca.comcast.net) (Quit: yutongzhao)
[04:05:16] <gavinb> acrichto: Can you share the same Chan across multiple tasks to talk to the same parent task?
[04:05:22] <Yurume> rusti: mod a { pub struct p; } fn f() { use a::p; impl p { fn f(&self) { println!("yeah"); } } p.f() } f()
[04:05:25] -rusti- pastebinned 10 lines of output: http://ix.io/9V9
[04:05:33] <gavinb> or would you need one for each, and have the parent task do some sort of select() on each?
[04:05:35] <acrichto> gavinb: right now you'd have to use SharedChan and call clone(), but hopefully that'll change soon!
[04:05:41] <dbaupp> Yurume: it's inside a function, so modules aren't defined at the top level
[04:05:50] <acrichto> gavinb: all the Chan halves will send to the same Port
[04:05:50] <gavinb> acrichto: How might it be changing?
[04:05:53] <dbaupp> Yurume: your first one should work with `use self::a::p`
[04:06:05] <gavinb> acrichto: ok perfect
[04:06:06] <acrichto> gavinb: you'll only have 'Chan' to choose from and it'll have a clone() method
[04:06:06] *** Quits: brendan (brendaneic@moz-F75AEEB2.public.wayport.net) (Quit: brendan)
[04:06:13] <acrichto> gavinb: right now Chan doesn't have a clone method, only SharedChan does
[04:06:20] <Yurume> dbaupp: ah forgot that
[04:06:25] <Yurume> rusti: use self::a::p; mod a { pub struct p; } impl p { fn f(&self) { println!("yeah"); } } p.f()
[04:06:28] -rusti- pastebinned 10 lines of output: http://ix.io/9Va
[04:06:30] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[04:06:43] *** Quits: jed (jed@moz-9E36FDA5.lightspeed.stlsmo.sbcglobal.net) (Ping timeout)
[04:06:45] <Yurume> hmm...
[04:06:45] <bjz> acrichto: really looking forward to that
[04:06:53] <Yurume> anyway,
[04:07:02] <bjz> acrichto: will make generic server stuff much easier
[04:07:03] <acrichto> bjz: so am I!
[04:07:04] <joebobjoe> Uhm, guys/gals... I think I might have just found a bug
[04:07:12] <acrichto> bjz: just dunno what to do with bock versions :\
[04:07:14] <mcpherrin> joebobjoe: not surprising
[04:07:14] <Yurume> rdn: it seems that `impl a::p` works and `use a::p; impl p` does not work.
[04:07:16] <acrichto> joebobjoe: do tell!
[04:07:24] <Yurume> I'm not sure about this behavior though,
[04:07:41] <rdn> Yurume, thanks, at least the principle is there
[04:08:34] <Yurume> rdn: you are advised to locate `impl` in the same module as the type, and use `trait`-bound impls in other modules ;)
[04:08:38] <Yurume> (which I follow personally)
[04:09:51] <SiegeLord> Yurume: That's a known issue: #9052
[04:09:52] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[04:10:18] <SiegeLord> I think ability to do impls in different modules is kind of nice
[04:10:21] *** Quits: jzcz (nick@moz-BF346884.dyn.centurytel.net) (Quit: Konversation terminated!)
[04:10:27] *** Joins: jzcz (nick@moz-BF346884.dyn.centurytel.net)
[04:10:30] *** Quits: jzcz (nick@moz-BF346884.dyn.centurytel.net) (Client exited)
[04:10:36] <SiegeLord> Can avoid circular references that way
[04:10:56] *** Joins: gwty (gwtypc@A3F4FE97.CFB6D583.BD94A9D5.IP)
[04:11:15] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[04:11:47] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[04:12:04] <joebobjoe> mcpherrin acrichto: Oh, nvm. It's already been reported. https://github.com/mozilla/rust/issues/3779
[04:12:20] <Yurume> SiegeLord: ha, I didn't know the issue exists.
[04:13:30] <dbaupp> Yurume: oh, that's weird (that `self` doesn't work)
[04:13:47] <Yurume> dbaupp: since the module is declared inside a function?
[04:14:19] <dbaupp> Yurume: don't know
[04:14:26] <dbaupp> I thought it worked with `self` though
[04:14:33] <dbaupp> maybe that changed recently
[04:14:40] <dbaupp> or maybe I'm just misremembering
[04:14:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[04:16:27] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[04:19:27] *** Joins: dmac (Adium@moz-215DD6A5.hsd1.ca.comcast.net)
[04:19:35] <rdn> does pub matter in the trait's method declarations or only in the impl of that trait?
[04:19:49] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:20:17] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:20:53] <SiegeLord> You're not allowed to put visibility qualifiers in either place
[04:21:02] <SiegeLord> The whole trait is either public or private
[04:23:59] *** Joins: gverilla_ (gverilla@moz-72C95702.versanet.de)
[04:24:55] *** Quits: gverilla__ (gverilla@moz-B5078950.versanet.de) (Ping timeout)
[04:27:03] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[04:27:11] *** Quits: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP) (Quit: gavinb)
[04:27:15] *** Joins: brendan (brendaneic@moz-E77879F0.public.wayport.net)
[04:30:16] *** Joins: lukem (Mibbit@moz-DB3F45E4.static-dsl.clari.net.au)
[04:30:22] <lukem> hi
[04:30:56] <lukem> are there any good examples of calling objectivec code/livraries with rust?
[04:31:32] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:32:56] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[04:33:17] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[04:33:40] <dbaupp> lukem: https://github.com/shilgapira/ObjCrust might have something, but I guess it's mostly going the other way
[04:33:49] <dbaupp> (calling Rust from ObjC)
[04:34:01] *** Quits: dmac (Adium@moz-215DD6A5.hsd1.ca.comcast.net) (Quit: Leaving.)
[04:34:49] *** Quits: b1nd (b1nd@E3D8A436.45A6FC61.475248F5.IP) (Ping timeout)
[04:35:46] *** Quits: espindola (espindola@3AA6F601.53AE8582.A535BD55.IP) (Ping timeout)
[04:36:15] *** Joins: espindola (espindola@3AA6F601.53AE8582.A535BD55.IP)
[04:37:20] *** Quits: Jesin (Jesin@moz-C1EBF9B4.dept.lehigh.edu) (Quit: Leaving)
[04:37:39] *** nrc is now known as nrc|afk
[04:37:41] *** Joins: espindol_ (espindola@3AA6F601.53AE8582.A535BD55.IP)
[04:37:57] *** Quits: espindola (espindola@3AA6F601.53AE8582.A535BD55.IP) (Ping timeout)
[04:38:31] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[04:38:32] *** Joins: leslie (Adium@moz-454B76DB.members.linode.com)
[04:39:06] *** Quits: StarLight (StarLight@moz-CFB6D340.pppoe.avangarddsl.ru) (Ping timeout)
[04:40:01] *** Quits: leslie (Adium@moz-454B76DB.members.linode.com) (Connection reset by peer)
[04:40:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:41:16] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[04:41:49] *** Joins: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP)
[04:41:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:42:41] <bjz> lukem: Servo calls ObjC apis I think
[04:42:53] <bjz> jack: is that right?
[04:43:36] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:43:44] <lukem> ok, I'll have a look through servo
[04:43:54] *** Quits: Earnestly (earnest@moz-E86D50FA.dyn.plus.net) (Ping timeout)
[04:44:29] <jack> We do. There is a ObjC shim that we communicate through.
[04:44:45] <jack> See https://github.com/mozilla-servo/rust-cocoa
[04:45:16] <lukem> ahh cool
[04:45:16] <jack> also under that org is rust-core-foundation, rust-core-graphics, rust-io-surface, and rust-core-text, all of which use ObjC stuff.
[04:45:26] <lukem> thanks
[04:45:42] <gavinb> jack: I keep thinking of cool projects like rust-cocoa, only to discover the servo dudes have already done it! :)
[04:46:16] *** Joins: b1nd (b1nd@E3D8A436.45A6FC61.475248F5.IP)
[04:46:50] <bjz> jack: is that up to date with master?
[04:46:57] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:47:10] <jack> bjz: i don't think it uses @mut or @, so it's probably close.
[04:47:31] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[04:48:13] <lukem> bjz: 13 days ago there was a commit syaing  "update to latest rust"
[04:48:33] <bjz> lukem: servo lags behind master abit
[04:48:42] <lukem> I can't compile it though
[04:48:48] <lukem> bjz: ahh ok
[04:48:53] <bjz> lukem: it can sometimes make is hard to use the libs
[04:49:53] <bjz> jack: is it possible to add servo-specific tags to the servo repos?
[04:50:05] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Ping timeout)
[04:50:08] *** Joins: sellout (Adium@moz-76D71F1A.hlrn.qwest.net)
[04:50:27] <bjz> jack: that way the community could keep updating the libs for master
[04:50:45] <jack> bjz; we already do that to some repos.
[04:50:56] <jack> i'm not opposed to doing it for those the community wants to track master more closely.
[04:51:01] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:51:01] <bjz> oh good
[04:51:28] <lukem> rust-cocoa does some interesting things to send the messages. hmm I was wondering how to define all the externs on the objects
[04:51:42] <bjz> yeah I know jeaye used to have trouble getting PRs back into some of the repos, but that might have changed
[04:52:01] * jeaye is awakened.
[04:52:04] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[04:52:05] *** Joins: leslie (Adium@moz-454B76DB.members.linode.com)
[04:52:06] <bjz> jeaye: o/
[04:52:09] <jeaye> \o
[04:54:44] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:54:46] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[04:54:50] *** Quits: dbaupp (Thunderbir@C5782B92.D5A1DCF.37681C44.IP) (Ping timeout)
[04:54:50] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[04:55:08] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[04:55:41] *** Quits: photex (photex@399640B9.24E301D6.9510F13D.IP) (Ping timeout)
[04:55:50] *** Quits: sfackler (sfackler@moz-AEECCEBA.com) (Ping timeout)
[04:56:18] *** Joins: sfackler (sfackler@moz-AEECCEBA.com)
[04:56:30] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:56:38] <lukem> is the rust-cocoa way tot only way to call ibjectiveC or can you define the messages in externs?
[04:57:08] *** Quits: Gracenotes (person@EBE65A41.2EC0B472.9510F13D.IP) (Ping timeout)
[04:57:15] *** Joins: yutongzhao (yutongzhao@moz-325F8282.hsd1.ca.comcast.net)
[04:59:15] *** Joins: photex (photex@399640B9.24E301D6.9510F13D.IP)
[04:59:20] *** Joins: Gracenotes (person@EBE65A41.2EC0B472.9510F13D.IP)
[04:59:40] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[05:01:18] *** Quits: brendan (brendaneic@moz-E77879F0.public.wayport.net) (Quit: brendan)
[05:01:22] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:01:47] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[05:01:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:02:56] *** Quits: lukem (Mibbit@moz-DB3F45E4.static-dsl.clari.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[05:03:06] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[05:03:06] *** ChanServ sets mode: +ao brson brson
[05:03:12] *** Joins: lukem (Mibbit@moz-DB3F45E4.static-dsl.clari.net.au)
[05:03:18] *** Quits: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) (Quit: Leaving.)
[05:03:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:04:22] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[05:04:31] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:05:33] *** Quits: gwty (gwtypc@A3F4FE97.CFB6D583.BD94A9D5.IP) (Ping timeout)
[05:05:41] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:07:57] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[05:10:35] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:11:25] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[05:11:48] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:12:05] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:12:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:12:12] *** Quits: leslie (Adium@moz-454B76DB.members.linode.com) (Ping timeout)
[05:12:26] *** Quits: Fatalnix (bhodgins@moz-20A07419.ptldme.east.myfairpoint.net) (Quit: Lost terminal)
[05:12:49] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[05:12:56] *** Joins: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net)
[05:14:54] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[05:15:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:15:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:17:29] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[05:17:43] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:17:57] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[05:18:14] *** Joins: dymk (dymk@6A9AC338.8CB3E357.3FBA778E.IP)
[05:18:45] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[05:19:28] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:19:53] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[05:20:32] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[05:21:29] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[05:21:33] *** Quits: leroux (leroux@moz-421CF1E4.dsl.bell.ca) (Quit: Leaving)
[05:21:36] *** Joins: leroux (leroux@moz-421CF1E4.dsl.bell.ca)
[05:21:57] *** Quits: leroux (leroux@moz-421CF1E4.dsl.bell.ca) (Quit: Leaving)
[05:21:59] *** Joins: leroux (leroux@moz-421CF1E4.dsl.bell.ca)
[05:22:20] *** Joins: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net)
[05:22:28] *** Quits: leroux (leroux@moz-421CF1E4.dsl.bell.ca) (Quit: Leaving)
[05:23:54] *** Joins: eee (Mibbit@moz-E7E31D21.hlrn.qwest.net)
[05:24:48] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[05:24:49] *** ChanServ sets mode: +ao brson brson
[05:28:49] *** Joins: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au)
[05:34:16] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[05:34:37] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:35:37] *** Quits: new_one (new_one@F8CB5EE5.6D46D672.B3C0173E.IP) (Broken pipe)
[05:36:10] *** Quits: lukem (Mibbit@moz-DB3F45E4.static-dsl.clari.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[05:36:23] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[05:37:36] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Client exited)
[05:37:37] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[05:37:42] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[05:38:12] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:39:23] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:40:21] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[05:41:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:41:32] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[05:42:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:44:48] *** Parts: pagefault (Mibbit@7EFE56F0.11FBE92B.4A5B43A7.IP) ()
[05:44:56] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[05:45:06] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Quit: Leaving.)
[05:46:36] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[05:46:36] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[05:46:59] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:48:22] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[05:48:34] *** Quits: matthewbot (user@moz-C6814817.ga.at.cox.net) (Broken pipe)
[05:48:46] *** Quits: sehugg (sehugg@moz-42540923.res.bhn.net) (Client exited)
[05:49:36] *** Joins: jsonnull (Thunderbir@A61D2AA2.48C8B17D.494A0F8B.IP)
[05:51:21] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[05:51:32] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[05:53:59] *** Joins: benjamin_ (benjamin@moz-F3225091.dip0.t-ipconnect.de)
[05:55:28] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:57:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:57:20] *** Joins: mib_zi0cge (Mibbit@AE25874D.E4F6D6DF.C5C1B1F7.IP)
[05:57:27] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Quit: Leaving.)
[05:57:32] <sp3d> rusti: struct s<'a> { x: *s<'a>, }; let s1; let s2=s {x: &s1}; s1=s {x: &s2};
[05:57:34] -rusti- pastebinned 7 lines of output: http://ix.io/9Vg
[05:57:39] *** Joins: rotaryphone (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net)
[05:57:39] *** Joins: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net)
[05:57:48] *** Joins: sellout (Adium@moz-76D71F1A.hlrn.qwest.net)
[05:57:50] <sp3d> shouldn't it be allowed to get a raw pointer to a maybe-uninitialized value?
[05:58:17] <Yurume> rusti: struct s<'a> { x: *s<'a>, }; let s1; let s2=s {x: unsafe{&s1}}; s1=s {x: unsafe{&s2}};
[05:58:19] -rusti- pastebinned 7 lines of output: http://ix.io/9Vh
[05:58:25] <Yurume> I don't think that would work though
[05:58:34] *** Joins: dbaupp (Thunderbir@moz-59CE1D72.lns20.syd6.internode.on.net)
[05:59:33] <Yurume> rusti: struct s<'a> { x: *s<'a>, }; let mut s1=s{x:std::ptr::null()}; let s2=s{x:&s1}; s1.x=&s2; let s1=s1;/*freeze*/ (s1,s2)
[05:59:33] <sp3d> taking the address of a struct before filling it in is fine, as long as it's filled in before you go looking inside it (that's the unsafe deref of the *-ptr)
[05:59:35] -rusti- pastebinned 7 lines of output: http://ix.io/9Vi
[05:59:46] <sp3d> afaict
[06:00:26] <Yurume> rusti: struct s<'a> { x: *s<'a>, }; let mut s1=s{x:std::ptr::null()}; let s2=s{x:&s1}; s1.x=std::cast::transmute(&s2); let s1=s1;/*freeze*/ (s1,s2)
[06:00:29] -rusti- pastebinned 7 lines of output: http://ix.io/9Vj
[06:00:43] <Yurume> rusti: struct s<'a> { x: *s<'a>, }; let mut s1=s{x:std::ptr::null()}; let s2=s{x:&s1}; s1.x=unsafe{std::cast::transmute(&s2)}; let s1=s1;/*freeze*/ (s1,s2)
[06:00:47] -rusti- (main::s<>{x: (0x7faef68ead10 as *())}, main::s<>{x: (0x7faef68ead18 as *())})
[06:00:50] <sp3d> mm
[06:00:53] *** Parts: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) ()
[06:01:02] <Yurume> hmm.
[06:01:32] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[06:01:33] <Yurume> sp3d: but I think it *is* intentional, given that Rust does not have a reference which can only be written.
[06:01:35] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[06:01:35] *** Quits: prooftechnique (prooftechn@moz-1C9C6B71.hsd1.vt.comcast.net) (Quit: )
[06:02:07] <sp3d> bah
[06:02:18] * sp3d was looking at http://www.reddit.com/r/rust/comments/1vf5tl/can_you_create_immutable_cycles_in_rust/
[06:02:48] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[06:02:59] <sp3d> the contents of *-ptrs can't safely be read or written, though
[06:03:31] <Yurume> sp3d: how about two rc::Weak pointers?
[06:03:36] <rotaryphone> The syntax extension stuff looks cool
[06:03:41] <sp3d> sure, but then you need mutability, no?
[06:03:41] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:04:07] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[06:04:10] <rotaryphone> I've barely explored the existing syntax and I already want to add my own :)
[06:04:16] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[06:04:24] <sp3d> as I understand it the goal is to be able to initialize self-contained self-referential structures statically
[06:04:26] <Yurume> Weak<RefCell<s<'a>>>... maybe?
[06:04:31] <sp3d> +constant
[06:04:48] <Yurume> hmm right. that might not work in the static items?
[06:04:52] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:04:53] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[06:04:59] *** Joins: gwty (gwtypc@A3F4FE97.CFB6D583.BD94A9D5.IP)
[06:05:02] *** Quits: Peng (mnordhoff@moz-D5175E95.mattnordhoff.net) (Ping timeout)
[06:05:04] <sp3d> yeah, you have to initialize those at declaration
[06:05:15] *** Joins: Peng (mnordhoff@moz-D5175E95.mattnordhoff.net)
[06:05:38] *** Quits: flu- (chain@moz-5E956C03.se.net) (Ping timeout)
[06:05:39] *** Joins: flu- (chain@moz-5E956C03.se.net)
[06:05:48] <Yurume> rotaryphone: you are restricted to the syntax extension invocation (i.e. foo!(), foo!{}) though
[06:05:52] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:06:27] <Yurume> you can make, say, a Python interpreter within `python!{}` block but you can't omit `python!{}` itself ;)
[06:06:36] <rotaryphone> That's fine, it would get insane otherwise
[06:07:09] <Yurume> and only the proper Rust tokens can be used (so u"asdf" won't work anyway)
[06:07:26] <Yurume> as far as I know
[06:07:29] <rotaryphone> cx: &mut ExtCtxt
[06:07:38] <rotaryphone> expander: SyntaxExpanderTTExpanderWithoutContext(expand_make_a_1),
[06:08:03] <rotaryphone> I get the feeling that there are two schools of thought with regard to identifier selection in the Rust team :)
[06:08:27] <Yurume> that's directly exposing the libsyntax internals :)
[06:08:50] <Yurume> read: it is unstable and you are reponsible for anything due to its use
[06:08:50] <dbaupp> rotaryphone: well, it's still TT rather than TokenTree... :P
[06:09:12] *** Quits: dymk (dymk@6A9AC338.8CB3E357.3FBA778E.IP) (Quit: This computer has gone to sleep)
[06:09:26] *** Joins: gkostyanikov (gkostyanik@DBBBFFE1.3E410295.CA6E2165.IP)
[06:14:16] *** Joins: Ferreus (ferreus@moz-544903CC.customers.d1-online.com)
[06:14:30] <rotaryphone> I managed to get basic monadic do-notation working with macro_rules!, but it was a little awkward.  It looks like a syntax extension might be the way to go.
[06:14:34] *** Quits: heftig (heftig@moz-6E893B28.dip0.t-ipconnect.de) (Ping timeout)
[06:14:40] *** Quits: mib_zi0cge (Mibbit@AE25874D.E4F6D6DF.C5C1B1F7.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:15:09] <Yurume> rotaryphone: how so?
[06:15:42] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[06:17:11] *** Quits: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP) (Quit: gavinb)
[06:17:14] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[06:17:26] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[06:20:43] <mcpherrin> Yurume: u"asdf" is the identifier u followed by string literal "asdf", should be fine
[06:21:00] <Yurume> mcpherrin: you are right about that, but it cannot distinguish it from u "asdf" then :)
[06:21:06] <Yurume> (that was my actual point)
[06:21:14] <mcpherrin> Yurume: sure, but does that matter?
[06:21:17] *** Quits: Ferreus (ferreus@moz-544903CC.customers.d1-online.com) (Connection reset by peer)
[06:21:30] *** Joins: Ferreus (ferreus@moz-544903CC.customers.d1-online.com)
[06:22:05] <Yurume> if you are fully emulating Python in Rust, then that would matter, but I don't want to do it ;)
[06:22:28] <Yurume> and I think a single quoted string wouldn't work anyway
[06:23:31] <rotaryphone> Yurume: it's difficult to define a macro by matching some prefix of the token tree list and then recursively invoking it on the tail
[06:25:11] <Yurume> you can use helper macros to ease that process somehow, but yeah, recursive macros are hard to reason about.
[06:25:18] *** Joins: heftig (heftig@moz-2C0ABEE2.dip0.t-ipconnect.de)
[06:25:50] <Yurume> though I think, in many cases (and especially with only one recursion loop) macro_rules are easier than the actual AST generation.
[06:26:17] <dbaupp> Generating an AST by hand isn't too hard
[06:26:19] <rotaryphone> A good example is in the macro guide: http://static.rust-lang.org/doc/master/guide-macros.html
[06:26:26] <Yurume> automatic copy-and-paste of the AST is great
[06:26:30] <dbaupp> although it does require some practice to work out what's what
[06:26:48] <dbaupp> (There's a trait in syntax::ext::build that provides a pile of handy constructors.)
[06:26:51] <rotaryphone> It has to match the entire tail with $(...) and then reconstruct it within the recursive invocation
[06:26:52] <Yurume> dbaupp: would we want, say, quote!() and unquote!()?
[06:27:28] <dbaupp> Yurume: we have something like that
[06:27:36] <dbaupp> but I don't think they work very well
[06:27:36] <Yurume> there are?!
[06:27:38] <dbaupp> I'm not sure
[06:27:46] <dbaupp> quote_expr! and so on, yeah
[06:28:02] <dbaupp> rusti: quote_expr!(1, 1)
[06:28:05] -rusti- pastebinned 14 lines of output: http://ix.io/9Vl
[06:28:06] <Yurume> https://github.com/mozilla/rust/blob/adc5eefa231d98273214c47ecff9dcb2fbe37460/src/test/run-pass-fulldeps/quote-tokens.rs
[06:28:09] <Yurume> ha!
[06:28:18] <Yurume> they are better than nothing
[06:28:29] <dbaupp> (so that failed, but not with an unresolved macro error)
[06:28:50] <Yurume> it requires &ExtCtxt anyway
[06:30:04] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[06:30:42] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:31:14] *** Joins: mouse (mouse@moz-32DFB3CF.broadband.corbina.ru)
[06:31:20] <dbaupp> unfortunately, the implementation of quote means that it gets in the way of the bootstrap, if used in libsyntax or librustc
[06:31:41] <sfackler> dbaupp: it's used to some extent in libsyntax
[06:31:47] <sfackler> env and option_env use it
[06:32:01] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:33:02] <dbaupp> because it basically generates the AST initialisers and places them into the AST, so changing the names/types in libsyntax will make the stage0 compilation fail
[06:33:05] <sfackler> it's a bit fragile to AST changes at stage1
[06:33:11] *** Quits: Ferreus (ferreus@moz-544903CC.customers.d1-online.com) (No route to host)
[06:33:12] <dbaupp> oh, stage1?
[06:33:32] <dbaupp> because quote is creating things with the old (or new) names/types
[06:34:19] <sfackler> er, I guess stage0
[06:35:50] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[06:35:54] *** Quits: flu- (chain@moz-5E956C03.se.net) (Ping timeout)
[06:36:47] *** Quits: gwty (gwtypc@A3F4FE97.CFB6D583.BD94A9D5.IP) (Ping timeout)
[06:36:48] *** Quits: mouse (mouse@moz-32DFB3CF.broadband.corbina.ru) (Ping timeout)
[06:36:49] <ecl3ctic> is there a function to put a thread to sleep that actually works?
[06:36:59] *** Quits: lkuper (lkuper@moz-6881CCA2.dhcp-bl.indiana.edu) (Ping timeout)
[06:37:00] <Eridius> hansjorg: you around?
[06:37:02] <ecl3ctic> I'm getting 'unimplemented' errors
[06:37:16] <Yurume> ecl3ctic: std::io::timer::Timer?
[06:37:20] <Eridius> ecl3ctic: what are you trying to do?
[06:37:34] <ecl3ctic> Yurume: that's what's giving me unimplemented..
[06:37:40] <cmr> ecl3ctic: rust version?
[06:37:44] <dbaupp> ecl3ctic: oh, are you using libnative?
[06:37:50] <Yurume> is that libgreen or libnative you are linking against?
[06:37:53] <ecl3ctic> yes actualy
[06:37:56] <ecl3ctic> libnative
[06:37:56] <Yurume> ah
[06:37:56] <cmr> ah
[06:37:58] <dbaupp> timers aren't implemented in libnative
[06:38:01] <cmr> (yet)
[06:38:01] <dbaupp> only libgreen
[06:38:06] <Yurume> dbaupp: that is a sad news to me
[06:38:17] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[06:38:20] <dbaupp> Yurume: it's a bug... it'll be fixed. :)
[06:38:30] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:38:47] <ecl3ctic> oh, well this is unfortunate ;(
[06:38:49] <dbaupp> you can manually spawn a libgreen task and use that for running timers
[06:39:05] <dbaupp> (assuming you don't need high-precision)
[06:39:14] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[06:39:31] <dbaupp> since you can send a message to your timer task, which creates a timer and sends the timer channel back to the libnative one
[06:39:46] <dbaupp> it's an ugly hack :(
[06:39:48] <ecl3ctic> thats... overly complicated
[06:39:52] <dbaupp> (which I haven't actually tried...)
[06:40:00] <ecl3ctic> maybe I'll just get a thread to count to 1000 or something :P
[06:40:01] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[06:40:01] <dbaupp> well... you don't have much choice :P
[06:40:09] <cmr> ecl3ctic: std::libc::sleep? :P
[06:40:26] <Yurume> that... would work.
[06:40:32] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[06:40:36] <Yurume> yes, that would work with libnative.
[06:41:01] <ecl3ctic> oh does that exist? I can't find it documented
[06:41:32] <Eridius> dbaupp: timer channel? Don't do that. Just run a libgreen task, and in that task sleep for the desired time and exit the task. The libgreen task pool should shut down and return control back to the parent code
[06:41:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:41:46] <Eridius> although I have no idea how much overhead is in the task pool cleanup, so I would not have high hopes about precision
[06:42:26] <dbaupp> Eridius: does spawning a libgreen task pool actually block? 
[06:42:42] <dbaupp> (but yeah, libc::sleep works with libnative)
[06:42:54] <Eridius> dbaupp: green::run() executes the given proc in a new pool, and blocks until all tasks in the pool have returned
[06:43:00] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:43:03] <Eridius> http://static.rust-lang.org/doc/master/green/fn.run.html
[06:43:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[06:43:25] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:43:27] <dbaupp> ecl3ctic: http://man.cx/sleep%283%29
[06:43:30] <Heather> hi
[06:43:32] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:43:32] <Heather> type `std::comm::TryRecvResult<<generic #877>>` does not implement any method in scope named `is_none`
[06:43:34] <dbaupp> Eridius: oh, neat
[06:43:35] <Eridius> although this approach would presumably work better with my proposal to be able to set up a libgreen pool that spawns no extra OS threads but only reuses the current OS thread
[06:44:07] *** Quits: heftig (heftig@moz-2C0ABEE2.dip0.t-ipconnect.de) (Quit: Quitting)
[06:44:14] <Eridius> Heather: it's not Option, it's TryRecvResult, which is a tri-state enum
[06:44:15] <dbaupp> Eridius: could probably use http://static.rust-lang.org/doc/master/green/struct.SchedPool.html#method.spawn too, somehow
[06:44:19] <Eridius> Heather: http://static.rust-lang.org/doc/master/std/comm/enum.TryRecvResult.html
[06:44:41] <Eridius> dbaupp: yeah, my thought was creating a new pool with a PoolConfig that specifies a thread count of 0 should mean "use the current thread, don't spawn any extra"
[06:45:06] <Eridius> Heather: I don't see any interesting methods on TryRecvResult so I think you just need to `match` it
[06:45:07] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:45:20] <cmr> why would you ever do that to implement a timer.
[06:45:29] <Eridius> cmr: because we're CRAAAZY
[06:45:29] *** Joins: Ferreus (ferreus@moz-C5752C75.dip0.t-ipconnect.de)
[06:45:32] <Eridius> :D
[06:45:51] <ecl3ctic> oh so libc::sleep has a minimum sleep time of 1 second... -_-
[06:45:54] <cmr> that's the most roundabout, least efficient way I can think of that isn't completely degenerate.
[06:45:55] <ecl3ctic> that will do for now
[06:46:02] <cmr> ecl3ctic: there's also nanosleep
[06:46:06] <Eridius> ecl3ctic: try usleep?
[06:46:16] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:46:28] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:46:33] <ecl3ctic> oh that would work
[06:46:43] <Heather> Eridius ah...
[06:46:48] <Yurume> Eridius: there seems no std::libc::usleep
[06:46:59] <ecl3ctic> do we have bindings for *all* of libc?
[06:46:59] <Eridius> Yurume: oh? Odd. You can declare it yourself
[06:47:05] <ecl3ctic> ^ apparently not
[06:47:05] <Yurume> of course
[06:47:22] <Yurume> a bit more verbose but it does not prohibit
[06:47:25] <Heather> Eridius so I should check for Empty ?
[06:47:50] <Eridius> Heather: depends on what you're doing. Empty means there's no data, but there are valid senders. Disconnected means no data and no senders
[06:47:59] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[06:48:01] <Eridius> Heather: so if Empty, you can wait for more. If Disconnected, then you should probably shut down your Port
[06:48:06] <cmr> ecl3ctic: most of libc.
[06:48:11] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[06:48:28] <cmr> usleep is deprecated/obsolete though.
[06:48:32] <cmr> it's been removed from posix
[06:48:51] <Eridius> cmr: oh?
[06:49:06] <Heather> Eridius I keep doing what spawn awhile other thing not stop me
[06:49:08] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[06:49:14] <depp> nanosleep is what you want
[06:49:24] <Heather> Eridius so I check if it still being Empty I think
[06:49:24] <Eridius> cmr: interesting. online manpage confirms. I didn't know that
[06:49:30] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[06:49:38] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:49:39] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:49:41] <Yurume> cmr: but there is no libc::nanosleep anyway
[06:50:03] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[06:50:18] <cmr> shame
[06:50:36] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[06:50:36] <Eridius> Yurume: you can declare it yourself using an extern block
[06:50:59] <depp> timespec is already part of the library, so you don't need to declare that yourself
[06:52:04] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[06:52:41] <ecl3ctic> could someone show me how to get nanosleep working then?
[06:52:42] *** Quits: bitwalker (bitwalker@moz-1684082D.hsd1.mn.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[06:52:52] <ecl3ctic> I have no idea what to do
[06:53:37] <Yurume> extern { pub fn nanosleep(req: *timespec, rem: *timespec) -> int; }
[06:54:33] <dbaupp> rem: *mut timespec
[06:54:44] <dbaupp> (since it gets modified)
[06:54:46] <Heather> ehm, why unresolved import: there is no `Empty` in `std::comm::TryRecvResult`
[06:55:03] <dbaupp> you import variants from the module
[06:55:07] <dbaupp> not from inside the enum
[06:55:18] <dbaupp> so `use std::comm::Empty;`
[06:55:28] <Yurume> dbaupp: does it return the remaining tim... ah, I now understand why that's called `rem`.
[06:55:28] <Heather> dbaupp ah, sure, thanks
[06:55:36] * Yurume feels inductively stupid
[06:55:56] <ecl3ctic> awesome
[06:56:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:57:14] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[06:57:14] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[06:57:18] *** Quits: b1nd (b1nd@E3D8A436.45A6FC61.475248F5.IP) (Ping timeout)
[06:57:52] *** Quits: nyux (nyux@moz-1CEE0DD2.aiiane.com) (Ping timeout)
[06:57:59] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[06:58:10] *** Quits: xoebus (xoebus@moz-A192BC54.xen.prgmr.com) (Ping timeout)
[06:58:13] <ercxx> is there a way of getting the mac address of a network device using std or extra?
[06:58:22] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:58:29] *** Quits: yutongzhao (yutongzhao@moz-325F8282.hsd1.ca.comcast.net) (Quit: yutongzhao)
[06:58:39] *** Quits: ldunn (username@moz-94CB0FA.cyberius.net) (Ping timeout)
[06:58:41] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[06:59:07] *** Quits: GregorR (Gregor@moz-D9651910.so) (Ping timeout)
[06:59:42] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[06:59:49] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:59:52] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[06:59:52] *** Quits: patpat (patpat@moz-85F8C52A.as13285.net) (Ping timeout)
[06:59:58] *** Joins: patpat (patpat@moz-85F8C52A.as13285.net)
[07:00:50] *** Joins: ldunn (username@moz-94CB0FA.cyberius.net)
[07:00:51] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:01:14] *** Joins: GregorR (Gregor@moz-D9651910.so)
[07:01:26] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[07:01:29] *** Joins: xoebus (xoebus@moz-A192BC54.xen.prgmr.com)
[07:01:42] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:01:42] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[07:01:44] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[07:02:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:02:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:02:26] *** Joins: nyux (nyux@moz-1CEE0DD2.aiiane.com)
[07:03:33] <leslie> Is it possible to check rust's assembly code? or to debug it using GDB?
[07:04:06] <dbaupp> leslie: yes to both
[07:04:06] <depp> it's possible to debug anything's assembly code using GDB
[07:04:07] <Sharp> Yes to both.
[07:04:15] <dbaupp> rustc -S will emit asm code
[07:04:25] <dbaupp> (rustc -S --emit-llvm will emit LLVM IR.)
[07:04:39] <leslie> i c
[07:04:51] <dbaupp> and you can make rustc generated debug symbols via -Z debug-info or -Z extra-debug-info
[07:04:56] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:05:22] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[07:05:27] <dbaupp> (our support is incomplete, so sometimes the compiler will crash while generating the symbols.)
[07:05:47] <leslie> would that be like "gcc -g " ?
[07:05:59] <dbaupp> yes
[07:07:54] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[07:08:00] <ecl3ctic> uh so nanosleep appears to be doing absolutely nothing
[07:08:12] <depp> paste some code?
[07:09:00] *** Joins: jnsk (Mibbit@moz-829EE15C.dsl.static.sonic.net)
[07:10:39] *** Quits: yuriks (yuriks@50BCCB4D.6C9AD9C4.8E0C6B01.IP) (Ping timeout)
[07:10:41] <ecl3ctic> http://pastebin.mozilla.org/4034533
[07:10:48] <ecl3ctic> of course I have no idea what I am doing though
[07:11:10] <depp> there is a problem
[07:11:23] <depp> tv_nsec should be < 1e9
[07:11:24] *** Quits: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se) (Ping timeout)
[07:12:04] <ecl3ctic> oh, well, that... explains it...
[07:12:23] <ecl3ctic> worst response to invalid input ever
[07:12:29] <ecl3ctic> </3 C
[07:12:32] <depp> what was the response?
[07:12:36] <depp> this isn't a C thing
[07:12:41] <ecl3ctic> no response
[07:12:46] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[07:12:47] *** Quits: jsonnull (Thunderbir@A61D2AA2.48C8B17D.494A0F8B.IP) (Quit: jsonnull)
[07:12:47] <depp> nanosleep isn't a "C" function it's a kernel function
[07:12:47] <ecl3ctic> just... doing nothing
[07:12:52] <depp> it returns an error code
[07:12:53] <ecl3ctic> oh
[07:12:55] <depp> like all syscalls
[07:13:10] <ecl3ctic> ok knowing that it's a kernel function makes things different
[07:13:22] <ecl3ctic> I completely ignored the error code
[07:13:27] <ecl3ctic> I told you I have no idea what I am doing
[07:13:30] <depp> EINVAL "The value in the tv_nsec field was not in the range 0 to 999999999"
[07:13:46] <depp> do you have the man page up?
[07:13:50] <depp> that's usually the first step
[07:14:22] <ecl3ctic> http://man.cx/nanosleep
[07:14:23] *** Joins: gavinb (gavinb@6A8B7F0D.4CF964EE.AD6E0A4D.IP)
[07:14:24] *** Joins: Pac (textual@moz-A2867D6E.revip2.asianet.co.th)
[07:14:25] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[07:14:25] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[07:14:47] <ecl3ctic> I didn't read hard enough
[07:15:00] <ecl3ctic> it's ok, I learnt my lesson
[07:15:09] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Quit: This computer has gone to sleep)
[07:15:22] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[07:15:30] <depp> you're using BSD?
[07:16:38] *** Joins: fabiand (fabiand@moz-2FF8D2D3.adsl.alicedsl.de)
[07:16:39] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[07:16:53] <ecl3ctic> no, dbaupp linked me there earlier
[07:16:58] <depp> ah
[07:17:04] <ecl3ctic> I'll reiterate: I have no idea what I am doing
[07:17:07] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[07:17:09] <ecl3ctic> when it comes to this stuff
[07:17:12] <depp> are you on Linux?
[07:17:14] <ecl3ctic> yes
[07:17:29] <depp> the Linux man page is a fair bit more detailed than the one you linked
[07:17:31] <eddyb> https://github.com/Hoverbear/rust-rosetta/blob/master/a%2Bb.rs I like this
[07:17:36] <eddyb> now can we make it shorter?
[07:17:40] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[07:18:12] <ecl3ctic> depp: so it is
[07:18:17] <dbaupp> eddyb: remoev whitespace, one letter variable names
[07:18:25] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[07:18:26] <leslie> running  rustc -Z debug-info the-rust-pointer-guide.rs   and got :  warning: no debug symbols in executable (-arch x86_64)
[07:18:29] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[07:18:33] <eddyb> dbaupp: let mut words = stdin().words()
[07:18:51] <dbaupp> eddyb: "{}" instead of "{:i}"
[07:19:04] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[07:19:06] <dbaupp> std::io::stdin
[07:19:10] <dbaupp> from_str in the prelude
[07:19:22] <eddyb> yeah, things like that
[07:19:33] <eddyb> we don't want reading two numbers from stdin to be hard
[07:19:47] <eddyb> but we shouldn't do stupid things *just for that*, either
[07:19:48] <depp> speak for yourself
[07:19:52] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[07:20:55] *** Joins: deen_ (deen@moz-E59E3C65.dip0.t-ipconnect.de)
[07:21:31] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[07:21:42] *** Quits: deen (deen@moz-B2003C49.dip0.t-ipconnect.de) (Ping timeout)
[07:22:07] *** Quits: rotaryphone (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:22:13] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[07:22:40] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[07:22:56] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[07:24:02] <depp> Huh, I can buy a new copy of Turbo PASCAL from Amazon for $7.
[07:24:04] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[07:24:07] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:24:07] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[07:25:57] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[07:26:21] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[07:26:38] <eddyb> dbaupp: let stdin = stdin().buffered(); let sum = match (stdin.word_to::<int>(), std.word_to::<int>()) {(Some(a), Some(b)) => a + b, ....
[07:26:38] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[07:26:44] <eddyb> I llike that
[07:27:13] <depp> that is nice
[07:27:24] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[07:27:54] <eddyb> I may have overused the .to<foo>() pattern in one of my C++ projects <3
[07:28:49] <Yurume> eddyb: where is the buffered() method declared?
[07:28:53] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[07:28:57] <Yurume> I didn't know that existed
[07:29:06] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[07:29:08] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[07:29:14] <eddyb> Yurume: nah, you would add it on Writer
[07:29:38] <dbaupp> let (a, b) = stdin().parse_line::<(int, int)>().unwrap(); // with some judicous use of traits
[07:29:43] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[07:30:01] <eddyb> why lines? does anything restrict us to lines?
[07:30:04] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[07:30:27] <Yurume> eddyb: ah, proposal for shorter code, okay
[07:30:36] <eddyb> Yurume: or even better, impl &mut Writer and T: Writer (bleah helper traits) to not add virtual burden
[07:31:55] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[07:32:13] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Quit: brb)
[07:32:19] *** Joins: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP)
[07:33:12] *** Joins: eibwen (kvirc@moz-446D666.dip0.t-ipconnect.de)
[07:33:32] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[07:33:34] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:33:35] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[07:33:47] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[07:35:28] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[07:36:11] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[07:36:49] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[07:38:08] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[07:38:12] *** Quits: Pac (textual@moz-A2867D6E.revip2.asianet.co.th) (Quit: Textual IRC Client: www.textualapp.com)
[07:39:48] *** flaper87|afk is now known as flaper87
[07:40:05] *** Quits: eibwen (kvirc@moz-446D666.dip0.t-ipconnect.de) (Ping timeout)
[07:40:31] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Quit: Leaving.)
[07:41:28] *** Quits: gavinb (gavinb@6A8B7F0D.4CF964EE.AD6E0A4D.IP) (Quit: gavinb)
[07:42:24] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[07:42:30] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[07:42:54] *** Joins: mib_r46v6c (Mibbit@moz-F06BE6BA.hfc.comcastbusiness.net)
[07:43:17] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:44:09] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:45:24] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[07:45:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:48:18] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[07:51:07] *** Quits: FreeFull (freefull@moz-518A6043.as13285.net) (Quit: )
[07:51:46] *** Quits: mib_r46v6c (Mibbit@moz-F06BE6BA.hfc.comcastbusiness.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:55:27] *** Quits: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[07:55:56] *** Quits: eee (Mibbit@moz-E7E31D21.hlrn.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:56:58] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:57:37] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[07:57:52] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[07:58:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:58:49] *** Quits: dbaupp (Thunderbir@moz-59CE1D72.lns20.syd6.internode.on.net) (Ping timeout)
[07:59:35] *** Quits: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net) (Quit: ~ Trillian - www.trillian.im ~)
[08:00:23] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[08:02:28] *** Quits: jcmoyer (deadbeef@moz-40035C19.sta.embarqhsd.net) (Connection reset by peer)
[08:02:43] *** Joins: dbaupp (Thunderbir@moz-EE10A658.lns20.syd6.internode.on.net)
[08:02:59] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[08:03:26] *** Quits: jnsk (Mibbit@moz-829EE15C.dsl.static.sonic.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:03:58] *** Quits: depp (depp@500BAFC1.53465674.3C05E6CB.IP) (Quit: bye)
[08:06:00] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[08:07:45] *** Quits: gkostyanikov (gkostyanik@DBBBFFE1.3E410295.CA6E2165.IP) (Ping timeout)
[08:08:09] *** Joins: gwty (gwtypc@C77AC663.B3BCF8B0.45DA6411.IP)
[08:09:00] *** Joins: Ms2ger (Ms2ger@B085914A.CFB9C8ED.F15B0BB3.IP)
[08:09:38] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[08:10:38] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:11:05] *** Joins: jyeo (Adium@moz-3BBB9F1C.dynip.nus.edu.sg)
[08:11:18] *** Joins: gkostyanikov (gkostyanik@DBBBFFE1.3E410295.CA6E2165.IP)
[08:12:30] <hansjorg> Eridius: hi
[08:12:50] <Eridius> hansjorg: I already sent you an email, but basically, rust-ci is triggering "Build #13 was fixed" emails every day
[08:13:01] <Eridius> ..although it just occurred to me I didn't mention which project it was in the email ;) it's kballard/rust-lua
[08:13:03] <cmr> Eridius: push another commit.
[08:13:10] <cmr> it's a travis thing.
[08:13:28] <Eridius> cmr: yeah, I was hoping there was another solution, because I don't like doing that sort of thing :/
[08:13:29] <cmr> it's because rust-ci triggers a rebuild of a given commit.
[08:13:34] <hansjorg> right, it's only possible to start new jobs withing an existing build with the Travis CI api
[08:13:44] <Eridius> hansjorg: hmm, I see
[08:13:55] <cmr> Eridius: add a feature! add some docs!
[08:14:09] <cmr> it is pretty unfortunate.
[08:14:17] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:14:22] *** Quits: jyeo (Adium@moz-3BBB9F1C.dynip.nus.edu.sg) (Quit: Leaving.)
[08:14:50] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:14:54] <Eridius> what does travis-ci do if I force-push to remove a commit?
[08:16:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[08:17:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[08:18:08] <hansjorg> Eridius: I'll take a look and see if I can find a workaround
[08:18:17] <Eridius> hansjorg: thanks. I should probably just complain to travis-ci
[08:19:05] <cmr> yeah. I don't see any reason for them to be sending duplicate emails after the first, when it's just a different job for a commit.
[08:19:11] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[08:20:07] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:20:45] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[08:23:20] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[08:26:57] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[08:27:29] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[08:28:48] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:29:27] *** Joins: derek_c (derek@moz-5534F1F6.fwd.datafoundry.com)
[08:29:31] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:31:21] <derek_c> is there a flag for rustc that specify which runtime to use?
[08:31:49] <cmr> derek_c: no, it's controlled by which runtime you link to :)
[08:32:06] <derek_c> cmr: so we have to modify `main()` as described here? http://localhost:8000/guide-runtime.html#which-to-choose
[08:32:14] <derek_c> oops sorry
[08:32:44] *** Quits: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au) (Connection reset by peer)
[08:32:53] <derek_c> I mean this: static.rust-lang.org/doc/master/guide-runtime.html
[08:32:54] <cmr> yes.
[08:32:55] *** Joins: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au)
[08:33:03] <FliPPeh> So apparently I had a local webserver running on port 8000 that I forgot to close
[08:33:06] <FliPPeh> Thanks derek_c 
[08:33:16] <cmr> heh
[08:33:20] <derek_c> lol
[08:33:30] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[08:33:46] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Quit: Leaving.)
[08:33:54] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:34:03] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[08:34:20] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[08:35:42] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Quit: Leaving)
[08:36:02] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[08:36:21] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[08:36:23] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[08:37:36] *** Quits: patpat (patpat@moz-85F8C52A.as13285.net) (Quit: )
[08:38:27] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[08:38:27] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[08:39:15] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:39:58] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[08:40:32] *** Joins: benjamin__ (benjamin@moz-CE2A7273.dip0.t-ipconnect.de)
[08:41:24] *** Quits: benjamin_ (benjamin@moz-F3225091.dip0.t-ipconnect.de) (Ping timeout)
[08:41:40] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[08:43:38] *** Quits: Ferreus (ferreus@moz-C5752C75.dip0.t-ipconnect.de) (Quit: WeeChat 0.4.3-dev)
[08:44:23] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[08:44:36] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[08:44:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:45:15] *** Joins: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com)
[08:45:38] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[08:45:48] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[08:46:17] *** Joins: olem (olem@moz-D8B40BE5.fbx.proxad.net)
[08:46:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:47:18] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[08:47:58] *** Quits: gkostyanikov (gkostyanik@DBBBFFE1.3E410295.CA6E2165.IP) (Ping timeout)
[08:47:58] *** Joins: Ferreus (ferreus@moz-C5752C75.dip0.t-ipconnect.de)
[08:49:17] *** Joins: gkostyanikov (gkostyanik@DBBBFFE1.3E410295.CA6E2165.IP)
[08:52:25] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[08:53:40] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:57:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:57:48] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[08:57:59] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[08:58:06] *** Quits: derek_c (derek@moz-5534F1F6.fwd.datafoundry.com) (Ping timeout)
[08:58:18] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[08:58:22] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[08:58:50] <FliPPeh> So what exactly does this new externally loadable syntax do that macros couldn't do before?
[08:59:17] <cmr> FliPPeh: importable macros. being able to define procedural macros outside of the parser.
[08:59:28] <cmr> being able to stop injecting every standard macro as a string into every crate.
[08:59:33] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:00:03] *** Quits: gwty (gwtypc@C77AC663.B3BCF8B0.45DA6411.IP) (Ping timeout)
[09:00:20] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[09:00:39] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[09:01:51] *** Joins: gwty (gwtypc@C77AC663.B3BCF8B0.45DA6411.IP)
[09:02:10] *** Joins: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net)
[09:02:27] <joebobjoe> What iss the point of std::cell::Ref?
[09:02:43] <cmr> joebobjoe: it's part of how RefCell ensures its safety.
[09:02:55] <cmr> it represents an immutable borrow.
[09:03:01] <cmr> its destructor resets the state of the RefCell.
[09:03:06] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[09:03:26] <cmr> once we have smart pointer sugar it will be one of those and transparent.
[09:03:49] *** Joins: robert (uid15951@moz-A42E5B7B.irccloud.com)
[09:03:58] *** Quits: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:03:58] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[09:03:58] <FliPPeh> Smart pointer sugar?
[09:04:05] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[09:04:16] <FliPPeh> So something like Gc<RefCell<T>> is sugared back into @?
[09:04:39] *** Quits: gkostyanikov (gkostyanik@DBBBFFE1.3E410295.CA6E2165.IP) (Ping timeout)
[09:04:58] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Quit: Leaving...)
[09:05:06] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[09:05:08] <cmr> no, not syntax wise.
[09:05:18] <FliPPeh> Ah, okay
[09:05:18] <joebobjoe> cmr: Does Ref have a use outside std::cell?
[09:05:19] <cmr> but they'll allow borrowing to a & and dereferencing.
[09:05:22] <cmr> joebobjoe: no.
[09:05:28] <FliPPeh> So the Derefer trait?
[09:05:39] <cmr> joebobjoe: you can't even create one besides calling .borrow on a RefCell
[09:05:48] <cmr> FliPPeh: yes, the Deref trait is part of smart pointer sugar.
[09:05:49] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[09:05:50] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[09:06:07] * FliPPeh likes traits
[09:06:14] <FliPPeh> Wish C++ had them by now
[09:06:15] <joebobjoe> Can you not construct a struct with private properties without an explicit constructor?
[09:07:01] <cmr> joebobjoe: one is not allowed to construct a struct if it has private fields, yes.
[09:07:02] <strcat> joebobjoe: if a struct has private fields, only the module defining it can initialize it via the struct init syntax
[09:07:09] <cmr> strcat: and child modules.
[09:07:13] <cmr> standard privacy rules apply.
[09:07:25] <strcat> child modules are the module! ;p
[09:07:29] <cmr> ... fair enough
[09:07:38] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[09:07:53] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:08:07] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[09:08:15] *** Joins: gkostyanikov (gkostyanik@C33591A8.2AEE264E.CA6E2165.IP)
[09:08:28] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[09:08:51] <joebobjoe> Question. How can std::cell::Cell have a `set` method that modifies the struct but does not take a mutable reference?
[09:09:04] <cmr> joebobjoe: unsafe code.
[09:09:34] <FliPPeh> I prefer "magic"
[09:09:58] <joebobjoe> Then why even bother having the mutability system if it is violated in every corner of the library?
[09:10:03] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[09:10:10] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[09:10:11] <strcat> joebobjoe: for safety and semantic reasons
[09:10:15] <strcat> joebobjoe: Cell is non-Freeze
[09:10:22] <cmr> joebobjoe: it's not violated in "every corner"
[09:10:45] <strcat> joebobjoe: why does haskell have immutability if it just uses mutable code under the hood?
[09:10:48] <joebobjoe> strcat: Which means it does not adhere to the mutability rules?
[09:10:52] <cmr> cell is the only module that subverts mutability, and that's its explicit purpose.
[09:10:55] <strcat> thunks are mutated as part of lazy evaluation
[09:10:59] <strcat> gc mutates pretty much everything
[09:11:01] <cmr> joebobjoe: it *does* adhere to them. it does runtime checks to ensure that.
[09:11:03] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[09:11:05] *** Joins: leslie (Adium@moz-454B76DB.members.linode.com)
[09:11:16] <cmr> (well, refcell does. Cell doesn't need to since it's only for pod types)
[09:11:20] <FliPPeh> Safe goes in, safe goes out, all that matters
[09:11:23] <strcat> joebobjoe: Freeze means something inherits mutability or is immutable
[09:11:31] <strcat> Cell does neither, so it's not Freeze
[09:12:34] <joebobjoe> strcat: Why does cell not have any method that returns a mutable reference? Because it can't or because it doesn't matter since we're dealing with Pod that can easily be replaced?
[09:12:43] <cmr> joebobjoe: it'd be unsafe.
[09:12:44] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[09:12:49] <cmr> joebobjoe: RefCell is for providing references.
[09:12:53] *** Joins: benjamin_ (benjamin@moz-BEBA2A6F.dip0.t-ipconnect.de)
[09:12:57] *** Quits: benjamin_ (benjamin@moz-BEBA2A6F.dip0.t-ipconnect.de) (Connection reset by peer)
[09:13:10] *** Joins: benjamin_ (benjamin@moz-BEBA2A6F.dip0.t-ipconnect.de)
[09:13:38] <joebobjoe> cmr: So, Cell does not need any dynamic mutability checks?
[09:13:40] *** Joins: derek_c (derek@C2C9C81D.117B7BA2.EB673A25.IP)
[09:13:51] *** Quits: benjamin__ (benjamin@moz-CE2A7273.dip0.t-ipconnect.de) (Ping timeout)
[09:14:12] <cmr> no. since you can't borrow it, it doesn't need to obey the borrowing rules.
[09:14:57] <joebobjoe> cmr: Okay. The docs say that std::cell contains "Types dealing with dynamic mutability," so I got confuzzled.
[09:15:21] <cmr> that used to be true, Cell is now the exception.
[09:15:30] <cmr> although it's still true kinda.
[09:16:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:17:03] <derek_c> does anyone know if there is any routing mechanism in rust-http?
[09:17:07] <joebobjoe> Could theoretically a mutability safety system be devised that does all that std::cell does except in safe code? Or would that require dependent types or something...
[09:17:57] <cmr> derek_c: there aren't, it's just an HTTP library.
[09:18:08] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[09:18:10] <pzol> derek_c wycats_  is working on https://github.com/wycats/routed-http.rs
[09:19:03] <cmr> joebobjoe: it'd definitely require a different type system entirely.
[09:19:16] <cmr> but safe code isn't allowed to subvert Freee.
[09:19:21] <cmr> *Freeze
[09:19:26] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[09:19:53] <cmr> I guess you could consider typestate to have done it.
[09:19:56] <derek_c> cmr: pzol thanks
[09:20:01] <cmr> but that's trusting the compiler.
[09:20:04] <cmr> rather than a library
[09:20:10] <cmr> which isn't much of an improvement.
[09:20:31] *** Quits: leslie (Adium@moz-454B76DB.members.linode.com) (Ping timeout)
[09:21:13] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[09:21:23] <joebobjoe> cmr: Typestate? 
[09:21:32] <cmr> joebobjoe: feature of a rust long gone.
[09:21:55] <Ralith> joebobjoe: it's not like dependent types are some utterly unattainable thing
[09:23:26] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[09:23:27] *** Quits: benjamin_ (benjamin@moz-BEBA2A6F.dip0.t-ipconnect.de) (Connection reset by peer)
[09:23:40] *** Joins: benjamin_ (benjamin@moz-BEBA2A6F.dip0.t-ipconnect.de)
[09:23:48] <joebobjoe> Ralith: Yea but once Rust hits 1.0 ain't nothin gonna change :(
[09:23:58] <cmr> joebobjoe: that's not true at all.
[09:24:03] <strcat> joebobjoe: it doesn't matter whether something is in the compiler or stdlib, if it can be done in the stdlib with the same API then that's much better
[09:24:06] <cmr> 1.0 is for backwards compatible.
[09:24:14] <cmr> but rust isn't getting dependant types.
[09:24:22] <Ralith> indeed
[09:24:41] <cmr> some other language after rust (idris!) can innovate with them.
[09:24:53] <strcat> rust intentionally has a less powerful generics system than C++, to make it far easier to comprehend APIs and errors
[09:24:58] <Ralith> I am just observing that if dependent types pose a solution to joebobjoe's problem, then indeed there could theoretically be such a system
[09:25:13] <cmr> yep
[09:25:25] <strcat> Ralith: well if we had unboxed closures you could do a lot of neat stuff
[09:25:30] <strcat> because they have unique types
[09:25:45] <strcat> you can (ab)use them in C++ for magical stuff
[09:25:56] <Ralith> for example?
[09:26:14] <joebobjoe> How do languages work where you can alter the AST at runtime? How can you execute code if its not in the "executable" region of memory?
[09:26:47] <strcat> joebobjoe: either by having writable/executable memory (like a JIT compiler has to do) or by not using machine code as the representation of user code
[09:26:49] *** Joins: tq (tq@moz-632DBD9.ad.umu.se)
[09:26:55] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[09:27:22] <strcat> Ralith: you can create a unique phantom type parameter from a function call or expression
[09:27:58] <Ralith> strcat: that's neat from a theory perspective, but I'm not sure what practical use it has given C++'s general weakness
[09:28:06] <strcat> what general weakness?
[09:28:23] <Ralith> as a logic, I mean
[09:28:32] <strcat> it is actually pretty good at encoding logic
[09:28:45] <Ralith> there are certainly degrees
[09:28:54] <strcat> it's certainly better at it than haskell and rust
[09:28:54] <joebobjoe> strcat: Wouldn't not using machine code be inefficient?
[09:29:08] <strcat> joebobjoe: plenty of languages do it though
[09:29:09] <Ralith> I'm not sure I'd say that
[09:29:10] <cmr> joebobjoe: maybe.
[09:29:16] <cmr> joebobjoe: it's not straightforward.
[09:29:28] <strcat> Ralith: you can encode far more into templates than you can in haskell/rust
[09:29:29] <cmr> especially once you get an (optimizing) JIT involved.
[09:29:35] <Ralith> joebobjoe: many things are inefficient; generally that doesn't stop people
[09:29:43] <strcat> and it's type-safe, if you cordon off part of the language *as you have to do in rust/haskell*
[09:29:55] <Ralith> heh
[09:30:12] <cmr> joebobjoe: "fast enough" is the important performance metric :)
[09:30:32] <FliPPeh> Build it first, find bottlenecks later
[09:31:00] <Ralith> spoiler: nine out of ten programs are IO bound
[09:31:03] <strcat> FliPPeh: rust doesn't really buy into that philosophy
[09:31:04] <FliPPeh> ^
[09:31:43] <strcat> Ralith: lower power usage and lower resource consumption aren't really super correlated with performance
[09:31:52] <FliPPeh> Always makes me chuckle to see people microoptimize networking programs
[09:32:05] <strcat> the networking program better have as few CPU wakeups as possible
[09:32:24] <cmr> FliPPeh: just you wait! the last laugh will be ours when 40Gbps networks become mainstream!!!!
[09:32:44] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[09:32:50] *** Joins: jackneill (jackneill@moz-E9D68037.pool.digikabel.hu)
[09:32:53] <Ralith> to be fair, making effective use of high-bandwidth links is actually a pretty hard problem
[09:33:00] <cmr> yes
[09:33:21] <strcat> for a nice example, look at what steam does to battery life
[09:33:29] <strcat> it has a RIDICULOUS number of CPU wakeups/s
[09:33:32] <FliPPeh> I'm a strong believer of "push as many bytes as possible through that socket"
[09:33:46] <FliPPeh> Also blocking IO
[09:33:52] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[09:34:10] <joebobjoe> FliPPeh: Why?
[09:34:10] <FliPPeh> I think Steam is just horribly written
[09:34:27] <FliPPeh> joebobjoe: blocking IO = fewest CPU wakes
[09:34:34] <strcat> with a browser, weechat and a few terminals open, I have ~100 wakeups/s and reasonable battery life
[09:34:40] <strcat> steam does ~800 wakeups/s at idle
[09:34:44] <cmr> heh
[09:34:46] <strcat> cuts my battery life by 70%
[09:34:47] *** Joins: jcmoyer (deadbeef@moz-40035C19.sta.embarqhsd.net)
[09:34:50] <cmr> what is it possibly doing.
[09:34:56] <strcat> polling a lot
[09:35:11] <FliPPeh> while (poll());
[09:35:12] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[09:35:16] <strcat> it probably has an overly clever event loop
[09:35:21] <eddyb> reminds me of pre-WebSockets internet
[09:35:27] <eddyb> all the GETs
[09:35:38] <strcat> instead of using threads and sleeping, they wake up some event loop that has a high amount of work on each iteration
[09:35:40] * strcat shrugs
[09:35:51] <FliPPeh> Love me some websockets
[09:35:55] <strcat> at least that's my impression from tracing it
[09:35:56] <joebobjoe> FliPPeh: Why would non-blocking IO have more CPU wake...
[09:36:02] <FliPPeh> They should have obsoleted XHR
[09:36:07] <FliPPeh> Instead of adding to them
[09:36:15] <strcat> FliPPeh: websockets are pretty horrific though ;s, from a technology perspective
[09:36:25] <FliPPeh> strcat: True, better than XHR tho
[09:36:29] <cmr> FliPPeh: how else do you make real HTTP requests?
[09:36:34] <FliPPeh> in my opinion of course
[09:36:37] <joebobjoe> strcat: Why?
[09:36:50] <FliPPeh> cmr: The question is, do you WANT real HTTP requests?
[09:37:06] <strcat> joebobjoe: because it reinvents the low-level protocol on top of the high-level one
[09:37:14] <strcat> at the expense of a lot of performance
[09:37:18] <eddyb> ouch
[09:37:24] <FliPPeh> Because XHR is limited to same-domain, a websocket backend communication for fetching data would be much lighter on the bandwidth
[09:37:26] <eddyb> strcat: what does it get very very wrong?
[09:37:38] <strcat> eddyb: reinventing streams on top of http?
[09:37:54] <eddyb> strcat: doesn't it drop to TCP/TLS?
[09:38:08] <FliPPeh> A protocol carried by a streaming protocol to implement a streaming protocol?
[09:38:09] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[09:38:09] * strcat shrugs
[09:38:14] <dmacvicar> two questions: what is the nicest library to write a small rest service running on a small device (eg. raspberry pi), and... does rust already compile for the raspberry pi?
[09:38:15] *** Joins: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP)
[09:38:33] <strcat> eddyb: I guess so
[09:38:35] <eddyb> I thought it used HTTP to initiate the link then dropped to a raw stream
[09:38:39] <cmr> dmacvicar: https://github.com/wycats/routed-http.rs, and yes.
[09:38:39] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:38:46] <strcat> eddyb: ah
[09:38:48] <FliPPeh> Rust runs in RPi?
[09:38:51] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[09:38:51] <cmr> of course.
[09:38:54] <joebobjoe> The Nimrod programming lang is adding dependent types gee oh boy!
[09:38:55] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[09:38:57] *** Quits: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP) (Input/output error)
[09:39:00] <strcat> eddyb: well, I benchmarked it in Go and some other langs
[09:39:06] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[09:39:07] <FliPPeh> Now this is a nice surprise
[09:39:11] <strcat> perhaps they have bad impls
[09:39:13] <FliPPeh> I remember trying to get a D compiler to run on the RPi
[09:39:16] <Matthias247> eddyb: it basically does. However the following stream is message based and "encrypted" from client side
[09:39:19] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:39:23] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[09:39:40] <strcat> eddyb: wireshark thinks it is https, *shrug*
[09:39:46] <cmr> FliPPeh: And what's the alternative? Reimplementing a req/res over websocket? Probably wouldn't actually end up that poorly.
[09:39:49] *** Quits: derek_c (derek@C2C9C81D.117B7BA2.EB673A25.IP) (Input/output error)
[09:40:07] <cmr> Matthias247: it can barely be called encrypted, even in quotes.
[09:40:07] <Matthias247> websockets have some really awful features. The closing handshake is pita. And the ability to send segmented messages also
[09:40:20] <eddyb> strcat: because you can't tell what's inside the encrypted transport
[09:40:25] *** Joins: rca (rcatolino@22E42357.20117C61.520D6FA6.IP)
[09:40:38] <cmr> (it does only use HTTP for the handshake, after that it's just a stream)
[09:40:48] <eddyb> so I'm not remembering wrong, good
[09:40:48] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:40:58] <FliPPeh> cmr: I believe a simple plain text protocol between the frontend and the backend instead of fully fletched HTTP request/responses with the incurred server delay would be way more efficient and elegant
[09:41:05] * cmr has implemented websocket three times in three different languages.
[09:41:15] * Matthias247 too ;)
[09:41:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:41:22] <cmr> FliPPeh: probably. I might experiment with it next time I decide I want the pain of web development.
[09:41:23] <strcat> FliPPeh: well, there's http 2.0...
[09:41:36] <joebobjoe> yay web 2.0!
[09:42:01] <FliPPeh> As I said, because XHR is limited to same-domain you'll have to run that server anyways, may as well run a lighter server that's optimized for fetching whatever data you want to fetch
[09:42:03] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[09:42:16] <FliPPeh> Yay HTTP 2.0
[09:42:19] *** Quits: psquid (psquid@moz-396AA76.threembb.co.uk) (Ping timeout)
[09:42:24] <FliPPeh> Finally no more plaintext rubbish
[09:42:24] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[09:42:35] * FliPPeh is a big fan of binary protocols
[09:42:53] <strcat> I don't think it's a very stringent binary protocol though, I think it still has arbitrary headers n stuff
[09:42:59] <FliPPeh> Which is apparently an unpopular opinion in the world of programming
[09:43:13] <Matthias247> FliPPeh: depends on who you ask
[09:43:18] <strcat> from reading the RFC threads, there are some very angry people due to what they did with headers
[09:43:20] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:43:27] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[09:43:37] <strcat> because it's going to cause problems for caching (at least if they didn't address it, dunno)
[09:43:38] <Matthias247> in embedded binary is still the king. For the web crowd obviously text/json is hip
[09:44:02] <FliPPeh> I just like the no-ambiguity "parsing" of binary protocols
[09:44:03] * cmr tries to stay far away from anything that smells like web development.
[09:44:09] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:44:19] <FliPPeh> No useless newlines or extra spaces/tabs that complicate parsing
[09:44:34] <eddyb> msgpack > JSON for transport
[09:44:40] <FliPPeh> You either know beforehand how big something is or it'll tell you in the protocol
[09:44:42] <cmr> capn proto > msgpack
[09:44:43] <eddyb> JSON is good for... config files. not really
[09:44:56] <eddyb> cmr: I don't like their crazy protocol files
[09:44:57] *** Joins: psquid (psquid@moz-DC30FB.threembb.co.uk)
[09:45:01] <strcat> please never json for cfg files
[09:45:02] <FliPPeh> XML
[09:45:03] <Matthias247> and $my_protocol > both ;-)
[09:45:03] * FliPPeh ducks
[09:45:07] <strcat> it's so ugly for cfg files
[09:45:10] <cmr> eddyb: it's necessary
[09:45:25] <FliPPeh> I like Lua for config files
[09:45:29] <cmr> me too.
[09:45:32] <FliPPeh> Although sometimes it's overkill
[09:45:34] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:45:40] <strcat> if they're a programming language it's not really a cfg file anymore
[09:45:42] <strcat> ;p
[09:45:55] <FliPPeh> It's an active and adaptive configuration!
[09:45:59] <joebobjoe> Question. If I have a struct Foo {x: Option<~Foo>} how does the compiler know that is a valid type as opposed to struct Foo {x: ~Foo} ?
[09:46:00] <FliPPeh> That can configure itself
[09:46:09] <eddyb> cmr: maybe if I can embed it in Rust code
[09:46:21] <cmr> joebobjoe: what do you mean valid, and why do you envision any difficulty?
[09:46:24] <cmr> eddyb: embed what?
[09:46:31] <cmr> eddyb: capnp schemas?
[09:46:36] <eddyb> cmr: like, add attributes to Rust structs to enable all the capn features
[09:46:51] <joebobjoe> cmr: The second struct cannot be right, because it has an infinite size, no?
[09:46:55] <cmr> that would actually probably be doable.
[09:46:56] <strcat> FliPPeh: polkit uses js configuration >.<
[09:47:03] <cmr> polkit is an abomination.
[09:47:09] <FliPPeh> joebobjoe: IT has a static size because ~Foo is a pointer
[09:47:19] <strcat> cmr: it's not the most awful thing ever ;p
[09:47:19] <cmr> so is ldap
[09:47:20] <FliPPeh> Foo {x: Foo} has infinite size
[09:47:26] <cmr> pam is pretty bad, but not the worst.
[09:47:26] <eddyb> joebobjoe: but it's impossible to construct
[09:47:27] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[09:47:37] <joebobjoe> FliPPeh: Oh okay...
[09:47:41] <FliPPeh> strcat: :(
[09:47:42] <joebobjoe> eddyb: Oh okay...
[09:47:43] <strcat> cmr: what polkit does now is run js rule files after being triggered...
[09:47:48] <eddyb> joebobjoe: you need a ~Foo to create a Foo, so you need a Foo to create a Foo
[09:47:50] <FliPPeh> I could write essays on how wrong JS is
[09:47:57] <FliPPeh> But I can summarize it with "==="
[09:48:04] <eddyb> FliPPeh: not any longer than PHP
[09:48:06] <strcat> in case your sysadmin wants to permit you to mount network file systems starting with the letter 'a' only on odd numbers of the day and not on leap years
[09:48:13] <Matthias247> FliPPeh: +1
[09:48:14] <eddyb> joebobjoe: enums break that recursion invariant
[09:48:31] <eddyb> FliPPeh: I still like ES6. kinda. maybe with Rust-like syntax
[09:48:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:48:40] <FliPPeh> eddyb: The horrors I have gone through to try and convice PHP developers to not use PHP for anything that is not a website
[09:48:42] <klutzy> is this intended?  https://pastebin.mozilla.org/4035405
[09:48:43] <FliPPeh> Or even a website
[09:48:52] <cmr> eddyb: but then your message on the wire is intrinsically tied into your types in your program, and no longer portable.
[09:48:55] <klutzy> It compiles if I remove `mut` of enum
[09:49:08] <joebobjoe> eddyb: How do enums break the recursion invariant?
[09:49:14] <strcat> FliPPeh: how about 'dynamic types by default' ;P
[09:49:25] <eddyb> cmr: you would add all the capn information in attributes
[09:49:26] <FliPPeh> enum Foo = Bar(), Baz()
[09:49:27] <Matthias247> FliPPeh: i would add add-kinds-of-comparisons, undefined, this, scoping, etc
[09:49:36] <Matthias247> -add +all
[09:49:41] <eddyb> joebobjoe: None::<~Foo> doesn't require a ~Foo to construct
[09:50:02] <joebobjoe> eddyb: So enums will only break the recursion if there is an invariant which does not include the parent type?
[09:50:10] <eddyb> joebobjoe: it's a per-variant thing. Result<~Foo, ~Foo> doesn't break it
[09:50:13] <FliPPeh> strcat: dynamic types make me sad :(
[09:50:17] <cmr> joebobjoe: theoretically.
[09:50:19] <eddyb> joebobjoe: yeah, something like that. s/parent/one of the parents/
[09:50:26] <FliPPeh> I used to SOMEWHAT like them
[09:50:30] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:50:37] <FliPPeh> But nowadays the compiler can't be pedantic enough for me
[09:50:38] *** Joins: jyeo (Adium@moz-67C8DF58.dynip.nus.edu.sg)
[09:50:42] <cmr> joebobjoe: the compiler isn't very good at detecting cycles, so you can construct programs which will iloop.
[09:50:42] <joebobjoe> FliPPeh: Don't we already have dynamic types?
[09:50:43] <eddyb> I could never swallow the abominations like CoffeeScript - but ES6 + Rust-like syntax - maybe
[09:50:45] * FliPPeh is overcompensating
[09:50:49] <eddyb> wait, it doesn't have traits, I give up
[09:50:53] <strcat> FliPPeh: sum types are restricted little dynamic type systems...
[09:50:55] <FliPPeh> joebobjoe: Do you mean generics?
[09:51:07] <strcat> the whole point being the restricted part ;p
[09:51:13] <FliPPeh> WELL
[09:51:19] <eddyb> ~Any is dynamic
[09:51:21] <FliPPeh> I can't shove an integer where I would expect a string for one
[09:51:21] *** Joins: binsh (binsh@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:51:23] *** Quits: binsh (binsh@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:51:23] <Matthias247> FliPPeh: AS3 is not bad and Dart is very good despite dynamic types
[09:51:28] <FliPPeh> While python gladly accepts that
[09:51:29] <eddyb> ~Many is dynamic + useful
[09:51:32] <FliPPeh> And then yells at you
[09:51:37] *** Joins: notrusti (notrusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:51:42] <eddyb> Dart is a... failure
[09:51:52] <cmr> eddyb: what is this Many I've seen.
[09:51:56] <joebobjoe> Dart is dumb
[09:51:57] <cmr> I recall seeing a gist but was in class.
[09:52:05] <strcat> eddyb: seems universally better than js, even though it's still a pretty bad language ;p
[09:52:27] <FliPPeh> If you accept an Any in Rust you know what you're getting into, whereas in Python/JS/... *anything* is an Any
[09:52:35] <joebobjoe> strcat: So Any can be used to create sum types and still be efficient?
[09:52:36] <FliPPeh> So to speak
[09:52:37] <Matthias247> Dart does imho everything right. The only problem is that noone want's to use it because everyone adapted to JS
[09:52:39] <eddyb> cmr: you have a ~Many (a trait pointer) then you can request Option<&Trait>s from it, using the type ID of &Trait
[09:52:46] * cmr likes TypeScript
[09:52:57] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[09:52:59] <strcat> joebobjoe: no, Any isn't efficient
[09:53:10] <joebobjoe> strcat: Then why bother including it
[09:53:13] <eddyb> (virtual calls)
[09:53:18] <strcat> joebobjoe: can be useful
[09:53:21] <eddyb> joebobjoe: because sometimes you can't do better
[09:53:34] <joebobjoe> Matthias247: But Dart doesn't enforce separation of state and behavior though?
[09:53:45] <strcat> notrusti: "2" - "3"
[09:53:47] -notrusti- -1
[09:53:50] <strcat> notrusti: "2" + "3"
[09:53:50] -notrusti- 23
[09:53:50] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Connection reset by peer)
[09:53:53] <cmr> notrusti: version
[09:53:56] -notrusti- pastebinned 12 lines of output: http://ix.io/9Vs
[09:53:59] <Matthias247> joebobjoe: what would that mean?
[09:54:01] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[09:54:02] <FliPPeh> Why is rusti called notrusti?
[09:54:04] <FliPPeh> For one it's a lie
[09:54:11] <cmr> that's no moon!
[09:54:15] <FliPPeh> And I was sad because I didn't find him earlier
[09:54:19] <eddyb> notrusti: process
[09:54:22] -notrusti- pastebinned 138 lines of output: http://ix.io/9Vt
[09:54:26] <eddyb> :P
[09:54:27] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:54:28] <joebobjoe> notrusti: -1000000000000000000000000000 + 2
[09:54:33] -notrusti- Error: unrecognized flag -1000000000000000000000000000 + 2
[09:54:34] -notrusti- Try --help for options
[09:54:34] -notrusti- timeout triggered!
[09:54:37] <jyeo> rusti: "1" + "2"
[09:54:40] <cmr> notrusti: source
[09:54:40] <strcat> haha
[09:54:42] -rusti- ~"12"
[09:54:42] -notrusti- pastebinned 12 lines of output: http://ix.io/9Vu
[09:55:04] *** Quits: jdm (jdm@moz-12626D4B.static.videotron.ca) (Ping timeout)
[09:55:15] <strcat> notrusti: -1
[09:55:19] <eddyb> cmr: the implementer of Many exposes a number of traits. the user of Many doesn't know about the type that implements Many, but can request any trait they choose. they get None if the implementer doesn't expose that trait
[09:55:20] -notrusti- timeout triggered!
[09:55:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:55:53] <eddyb> cmr: in non-rust-specific-terms, Many is an opaque interface which allows you to jump to a different opaque interface
[09:55:54] <cmr> eddyb: is it just built on top of Any? I feel like Any provides that same functionality.
[09:55:58] <FliPPeh> notrusti: os.env()
[09:55:59] -notrusti- bash: -c: line 1: syntax error: unexpected end of file
[09:55:59] -notrusti- application terminated with error code 1
[09:56:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:56:05] <Boreeas> I did "make install" and it started recompiling rust. That shouldn't happen, right?
[09:56:08] <eddyb> cmr: Any doesn't allow you to do this
[09:56:15] <strcat> notrusti: ps ax
[09:56:16] -notrusti-   PID TTY      STAT   TIME COMMAND
[09:56:16] -notrusti-     1 ?        Rs     0:00 ps ax
[09:56:18] <strcat> notrusti: env
[09:56:20] -notrusti- pastebinned 7 lines of output: http://ix.io/9Vv
[09:56:21] <FliPPeh> notrusti: env()
[09:56:22] -notrusti- bash: -c: line 1: syntax error: unexpected end of file
[09:56:22] -notrusti- application terminated with error code 1
[09:56:22] <eddyb> cmr: I could use Any, but it's a waste of CPU cycles
[09:56:26] <FliPPeh> :(
[09:56:37] <cmr> Boreeas: only if nothing changed.
[09:56:38] <FliPPeh> notrusti: homedir()
[09:56:38] -notrusti- bash: -c: line 1: syntax error: unexpected end of file
[09:56:38] -notrusti- application terminated with error code 1
[09:56:42] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[09:56:44] <strcat> FliPPeh: it's bash
[09:56:50] <strcat> it was nodejs before
[09:56:55] * FliPPeh is confused
[09:57:02] <FliPPeh> rusti: homedir()
[09:57:05] -rusti- pastebinned 7 lines of output: http://ix.io/9Vw
[09:57:09] <Boreeas> cmr: Well, I did it directly after just "make", so theoretically nothing should have changed
[09:57:11] <FliPPeh> two rustis
[09:57:16] <eddyb> FliPPeh: notrusti is not rusti
[09:57:25] <strcat> notrusti: p 5 / 0 rescue p 2
[09:57:26] -notrusti- /usr/local/bin/irc_alt.sh: 7: exec: ruby: not found
[09:57:26] -notrusti- application terminated with error code 127
[09:57:29] <strcat> ;[
[09:57:39] <cmr> rusti: version
[09:57:40] <FliPPeh> notrusti: :(){:|:};:
[09:57:40] -rusti- "rustc 0.10-pre (db7b9a3 2014-01-15 02:09:57 -0500)"
[09:57:41] -notrusti- /usr/local/bin/irc_alt.sh: 7: exec: ruby: not found
[09:57:41] -notrusti- application terminated with error code 127
[09:57:47] <Boreeas> notrusti: shutdown -r 0
[09:57:47] -notrusti- -e:1: syntax error, unexpected tINTEGER, expecting keyword_do or '{' or '('
[09:57:48] -notrusti- application terminated with error code 1
[09:57:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:57:53] <strcat> notrusti: p 5 / 0 rescue p 2
[09:57:53] -notrusti- 2
[09:58:13] <eddyb> WTF is that?
[09:58:16] <strcat> ruby
[09:58:20] <joebobjoe> notrusti: "are you still alive"
[09:58:20] -notrusti- bash: are you still alive: command not found
[09:58:20] -notrusti- application terminated with error code 127
[09:58:36] <eddyb> rusti: "only I am Rust"
[09:58:37] -rusti- "only I am Rust"
[09:58:45] <strcat> eddyb: it has an inline syntax for catching *any* exception...
[09:58:47] <strcat> *shrug*
[09:58:53] <eddyb> strcat: ahahaha I see it now
[09:58:54] <joebobjoe> notrusti: "shutdown -P now"
[09:58:55] -notrusti- bash: shutdown -P now: command not found
[09:58:55] -notrusti- application terminated with error code 127
[09:59:05] <Boreeas> notrusti: telinit 0
[09:59:05] -notrusti- bash: telinit: command not found
[09:59:05] -notrusti- application terminated with error code 127
[09:59:18] <joebobjoe> notrusti: ls
[09:59:24] <strcat> empty dir
[09:59:29] * cmr nominates a #botabuse
[10:00:04] <joebobjoe> But we can't trust the bot
[10:00:32] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[10:01:06] <FliPPeh> rusti: let mut r = std::rand::task_rng();
[10:01:12] -rusti- pastebinned 7 lines of output: http://ix.io/9Vy
[10:01:18] *** Quits: gwty (gwtypc@C77AC663.B3BCF8B0.45DA6411.IP) (Ping timeout)
[10:01:36] <cmr> strcat: so what would it take to get split debuginfo in the nightly?
[10:02:00] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[10:02:09] <strcat> notrusti: rustc -<<<'fn main(){println!("cmr is silly");}'&&./rust_out
[10:02:09] -notrusti- cmr is silly
[10:02:23] <FliPPeh> rusti: let r: bool = task_rng().gen()
[10:02:23] <strcat> cmr: *shrug*
[10:02:25] <strcat> lazy
[10:02:25] -rusti- pastebinned 6 lines of output: http://ix.io/9VA
[10:02:28] <cmr> me too
[10:02:36] * cmr carries on with the status quo
[10:02:38] <strcat> cmr: how do I do split debug info in the easiest possible way? ;p
[10:02:42] <strcat> you mean .dwf files right
[10:02:49] <cmr> strcat: there's a config option for makepkg
[10:02:54] <FliPPeh> rusti: let r: bool = task_rng().gen(); r
[10:02:56] -rusti- pastebinned 7 lines of output: http://ix.io/9VB
[10:03:01] <FliPPeh> stupid bot
[10:03:06] <strcat> cmr: but rust doesn't generate them by default anyway ;]
[10:03:15] <FliPPeh> rusti: let r: bool = std::rand::task_rng().gen(); r
[10:03:17] -rusti- pastebinned 7 lines of output: http://ix.io/9VC
[10:03:20] <cmr> strcat: yeah, would need to export RUSTFLAGS="-Z extra-debug-info"
[10:03:20] <FliPPeh> Stupid bot
[10:03:33] <strcat> it's not sentient
[10:03:39] <cmr> strcat: although should just wait until --enable-debug is fixed.
[10:03:44] *** Joins: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[10:03:46] <cmr> FliPPeh: stupid human, you're giving it wrong rust :p
[10:03:56] <FliPPeh> :(
[10:04:04] <cmr> (I mean that in the kindest way possible)
[10:04:41] <FliPPeh> rusti: std::rand::task_rng().gen::<bool>()
[10:04:43] -rusti- pastebinned 7 lines of output: http://ix.io/9VD
[10:04:44] <strcat> notrusti: dmesg
[10:04:45] -notrusti- application terminated abnormally with signal 31 (Bad system call)
[10:04:45] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:04:49] <FliPPeh> Why does it hate me?
[10:05:11] <FliPPeh> TaskRng implements Rng which defines gen
[10:05:16] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[10:05:24] <strcat> is it in the prelude?
[10:05:26] <cmr> the Rng trait isn't in scope.
[10:05:55] <FliPPeh> rusti: use std::rand::{task_rng, Rng}; task_rng().gen::<bool>()
[10:05:57] -rusti- false
[10:06:01] <FliPPeh> Huzzah
[10:06:08] <FliPPeh> rusti: use std::rand::{task_rng, Rng}; task_rng().gen::<bool>()
[10:06:09] -rusti- true
[10:06:42] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[10:08:01] <FliPPeh> rusti: use std::rand::{task_rng, Rng}; task_rng().gen_vec::<bool>(8)
[10:08:02] -rusti- ~[false, true, false, true, false, false, false, true]
[10:08:06] *** Quits: gverilla_ (gverilla@moz-72C95702.versanet.de) (Ping timeout)
[10:08:13] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[10:08:28] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[10:08:32] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:10:36] <joebobjoe> What's a good book on type theory?
[10:10:39] <FliPPeh> rusti: use std::rand::{task_rng, Rng}; task_rng().gen_ascii_str(32)
[10:10:44] -rusti- timeout triggered!
[10:10:52] <FliPPeh> u wot
[10:10:53] <FliPPeh> rusti: use std::rand::{task_rng, Rng}; task_rng().gen_ascii_str(32)
[10:10:55] -rusti- ~"9lg6PWsstA48zESgXTkUo0C8jovWSvtx"
[10:11:08] <FliPPeh> So much fun stuff in the random crate
[10:11:43] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:12:21] <joebobjoe> Why are traits not considered "types"?
[10:12:26] <FliPPeh> They can be
[10:12:31] *** Quits: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:13:09] <FliPPeh> rusti: use std::rand::{task_rng, Rng}; let r: &Rng = task_rng(); r.gen_ascii_str(8)
[10:13:11] -rusti- pastebinned 7 lines of output: http://ix.io/9VG
[10:13:18] <FliPPeh> hate you!
[10:13:23] <FliPPeh> rusti: use std::rand::{task_rng, Rng}; let r: &Rng = &task_rng(); r.gen_ascii_str(8)
[10:13:25] -rusti- pastebinned 7 lines of output: http://ix.io/9VH
[10:13:42] <FliPPeh> Of course
[10:13:51] <FliPPeh> rusti: use std::rand::{task_rng, Rng}; let r: &mut Rng = &task_rng(); r.gen_ascii_str(8)
[10:13:53] -rusti- pastebinned 7 lines of output: http://ix.io/9VI
[10:13:56] * FliPPeh gives up
[10:14:05] *** Joins: igork (Adium@9C577557.7893D71C.6E0EE79F.IP)
[10:14:05] *** Joins: samx (sami@moz-77A1C177.pp.htv.fi)
[10:14:12] <FliPPeh> Okay no
[10:14:57] <FliPPeh> rusti: use std::rand::{task_rng, Rng, StdRng}; let r: &mut Rng = ~StdRng::new(); r.gen_ascii_str(8)
[10:15:03] -rusti- pastebinned 7 lines of output: http://ix.io/9VJ
[10:15:06] <FliPPeh> Rust is complicated
[10:15:30] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[10:15:34] <FliPPeh> rusti: use std::rand::{task_rng, Rng, StdRng}; let r: ~mut Rng = ~StdRng::new(); r.gen_ascii_str(8)
[10:15:38] -rusti- pastebinned 9 lines of output: http://ix.io/9VK
[10:15:43] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[10:15:46] <FliPPeh> Okay, I really give up now
[10:16:08] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[10:16:16] <FliPPeh> I was trying to show the Rng trait being used as a type :(
[10:16:43] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[10:16:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[10:16:53] *** Quits: notrusti (notrusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[10:17:17] *** Joins: notrusti (notrusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:17:26] <jcmoyer> mut needs to go after 'let'
[10:17:49] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[10:18:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[10:18:45] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[10:19:04] <Ms2ger> rusti: use std::rand::{task_rng, Rng, StdRng}; let mut r = ~StdRng::new(); r.gen_ascii_str(8)
[10:19:05] -rusti- <anon>:10:25: 10:33 warning: unused import, #[warn(unused_imports)] on by default
[10:19:05] -rusti- <anon>:10         use std::rand::{task_rng, Rng, StdRng}; let mut r = ~StdRng::new(); r.gen_ascii_str(8)
[10:19:05] -rusti-                                   ^~~~~~~~
[10:19:05] -rusti- ~"HeI03LwS"
[10:19:10] <Ms2ger> FliPPeh, ^
[10:19:40] <FliPPeh> :(
[10:19:42] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[10:19:56] <FliPPeh> I always get confused with where the mut goes
[10:20:30] <FliPPeh> In let it's before the variable name, in function reference parameters it's after the reference sigil
[10:20:39] <strcat> no
[10:20:46] <eddyb> no
[10:20:49] <Ms2ger> no?
[10:20:54] <FliPPeh> 11:15:06  FliPPeh$ Rust is complicated
[10:21:02] <strcat> `mut` isn't part of the let syntax or the function parameter syntax
[10:21:06] <Ms2ger> Anything I say is just going to confuse, so I'll let the smart people explain :)
[10:21:09] <strcat> the syntax of `let` is
[10:21:12] <strcat> let pattern = expr;
[10:21:22] <strcat> mut appears before variable bindings in patterns
[10:21:32] <strcat> let (a, mut b) = (1, 2);
[10:22:07] <strcat> in general mutability is inherited from the owner
[10:22:13] <FliPPeh> But in the example before, wouldn't "let mut r: ~Rng ..." declare a mutable variable r that is a reference to an immutable Rng?
[10:22:23] <strcat> no
[10:22:37] <FliPPeh> So why isn't it ~mut Rng like it's &mut ...?
[10:22:45] <strcat> 05:23:06      strcat | in general mutability is inherited from the owner
[10:23:02] <strcat> references (&, &mut) are non-owning
[10:23:07] <strcat> they observe immutability or mutability
[10:23:15] <strcat> afaik there are 2 places mut occurs
[10:23:22] <strcat> before variable bindings in patterns
[10:23:25] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[10:23:38] <strcat> and &mut - because it's a non-owning ref, the thing it points at can't inherit mutability
[10:23:45] <strcat> from the non-owning ref
[10:23:52] <flaper87> dbaupp: I don't understand why that test didn't fail locally... I must have missed something
[10:24:34] <FliPPeh> Okay, so...
[10:25:08] <FliPPeh> An owned pointer is *always* declared ~T and the mutability of said T depends on whether or not the variable currently holding that pointer is mutable?
[10:25:23] <eddyb> FliPPeh: yes, that holds for most things, actually
[10:25:24] <joebobjoe> Do dependent typing and HKT go hand in hand?
[10:25:50] <strcat> FliPPeh: mutability gets inherited from the owner, and ~ isn't an exception
[10:26:07] <FliPPeh> So why the distinction with &?
[10:26:08] <eddyb> FliPPeh: there's interesting details, like &mut T is mutable, &&mut T isn't, &mut &mut T is
[10:26:09] <strcat> &mut is the 'other' place with mut because it's non-owning
[10:26:10] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Connection timed out)
[10:26:18] <strcat> FliPPeh: because & doesn't own what it points at
[10:26:23] <strcat> it observes immutability, it can't do anything about it
[10:26:34] <FliPPeh> That does make sense
[10:26:38] <eddyb> "observes" is a nice word :D
[10:26:49] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[10:27:02] <strcat> the syntax of these things is...
[10:27:03] <eddyb> oh, I know what it reminds me of, quantum computation :D
[10:27:08] *** Quits: rca (rcatolino@22E42357.20117C61.520D6FA6.IP) (Ping timeout)
[10:27:15] <strcat> let pattern = expr; fn name(pattern: type, pattern: type2) -> type { } etc.
[10:27:21] <strcat> so you could do
[10:27:27] <strcat> let (a, mut b) = (1, 2);
[10:27:38] <strcat> or
[10:27:43] <eddyb> (self is an exception, though I've made its rules simpler)
[10:27:59] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[10:28:23] <eddyb> [mut] [~]self or &[mut] self
[10:28:50] <eddyb> (well, also @self, but that will die in a fire soon <3)
[10:29:21] <FliPPeh> I'll miss @
[10:29:25] *** Joins: rca (rcatolino@22E42357.20117C61.520D6FA6.IP)
[10:29:26] *** Quits: jyeo (Adium@moz-67C8DF58.dynip.nus.edu.sg) (Quit: Leaving.)
[10:29:39] <FliPPeh> It's shorter than Gc<RefCell<T>>
[10:29:50] <strcat> you'll miss @mut you mean ;p
[10:30:10] <FliPPeh> Maybe!
[10:30:31] <eddyb> *you are missing (it's gone)
[10:30:32] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[10:31:10] <FliPPeh> Well, I never got to know it too good, it was pretty much dead already when I got interested in Rust
[10:31:25] <FliPPeh> Probably many good reasons for it being dead and buried
[10:32:53] <eddyb> strcat: maybe we should combine all the semantics of *Arc* and Rc<T>/Rc<RefCell<T>> to make them simpler to use and to switch task-local code to Arcs by just switching the type
[10:33:07] <strcat> eddyb: hm?
[10:33:28] <eddyb> Rc<RefCell<T>> and RWArc should have an identical interface if possible
[10:33:32] <strcat> rust-core's Arc is already identical to Rc
[10:33:38] <eddyb> strcat: :D
[10:34:27] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[10:34:27] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[10:34:49] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[10:35:04] <eddyb> I guess Deref will help with the usability without adding Rc<RefCell<T>>-specific methods
[10:35:10] <FliPPeh> Isn't Arc that thing that cheats and offers two places ownership to its value?
[10:35:29] <eddyb> nope
[10:35:34] <FliPPeh> Hmm
[10:35:41] <eddyb> FliPPeh: Arc is just an atomic Rc
[10:35:50] <strcat> Rc is shared-ownership, Arc is shared memory Rc
[10:36:02] <eddyb> and it doesn't allow Arc<RefCell<T>>
[10:36:10] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[10:36:17] <Matthias247> for me the worst thing about Rc<RefCell<T>> is that is so ultra verbose
[10:36:25] <FliPPeh> ^
[10:36:29] <Matthias247> I already hate typing shared_ptr in C++
[10:37:20] <eddyb> (you need RWArc<T> which would be like Arc<AtomicRefCell<T>>)
[10:38:13] <strcat> Matthias247: use Cell then, or use immutability
[10:38:33] <strcat> when you have to debug dynamic borrow check failures you'll see why RefCell isn't encouraged
[10:38:43] <Matthias247> doesn't help when I have a mutable object
[10:38:52] <strcat> Matthias247: Cell
[10:38:55] *** Joins: jakerr (bluehex@moz-1095CD08.kanagawa.ocn.ne.jp)
[10:39:01] <eddyb> Rc<RefCell<Trait>> is the main attraction
[10:39:17] <FliPPeh> rusti: let mut x = 5; { let y = &x; x += 1; }
[10:39:20] -rusti- pastebinned 10 lines of output: http://ix.io/9VO
[10:39:24] <strcat> eddyb: which doesn't work and probably won't work
[10:39:30] <Matthias247> Cell is only for POD
[10:39:31] <FliPPeh> Ah okay
[10:39:32] <eddyb> RcMut<Trait> does look nice. or RWRc<Trait>. though that's ugly
[10:39:40] <eddyb> strcat: DST5 supports it ;)
[10:39:56] <FliPPeh> rusti: let mut x = 5; { let mut y = &x; x += 1; }
[10:39:58] -rusti- pastebinned 10 lines of output: http://ix.io/9VP
[10:40:01] <FliPPeh> rusti: let mut x = 5; { let mut y = &x; y += 1; }
[10:40:04] -rusti- pastebinned 7 lines of output: http://ix.io/9VQ
[10:40:13] <FliPPeh> Hmm, I thought that last one would be valid
[10:40:22] *** Joins: gwty (gwtypc@C77AC663.B3BCF8B0.45DA6411.IP)
[10:40:25] <FliPPeh> Oh yes, *y
[10:40:30] <eddyb> Rc<RefCell<Many>> is more top than ~Any is
[10:40:42] <FliPPeh> rusti: let mut x = 5; { let mut y = &x; *y += 1; }
[10:40:44] -rusti- pastebinned 7 lines of output: http://ix.io/9VR
[10:40:55] <eddyb> no, change that to RWArc<Many>
[10:41:08] <FliPPeh> rusti: let mut x = 5; { let y = &mut x; *y += 1; }
[10:41:09] -rusti- ()
[10:41:11] <FliPPeh> Whoo
[10:41:33] <FliPPeh> Wait, that's not what I wanted to find out
[10:41:36] <FliPPeh> rusti: let mut x = 5; { let y = &mut x; x += 1; }
[10:41:38] -rusti- pastebinned 10 lines of output: http://ix.io/9VS
[10:41:49] <eddyb> runtime polymorphism constrained by implementor, not by API or user <3
[10:42:01] <FliPPeh> Okay, a mutable value can not be modified as long as it is borrowed by anything?
[10:42:21] <eddyb> (you kinda need that in a kernel. linux has function pointers all over the place AFAIK)
[10:42:28] <eddyb> FliPPeh: yes
[10:43:50] *** Quits: samx (sami@moz-77A1C177.pp.htv.fi) (Quit: This computer has gone to sleep)
[10:44:05] <eddyb> let id = RWArc<Many>;
[10:44:17] <eddyb> now you have Objective C/C++ in Rust
[10:44:36] <eddyb> (Many can just as well expose individual methods instead of traits)
[10:47:10] *** Quits: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) (Connection reset by peer)
[10:47:59] *** Joins: daschl (daschl@moz-DC6DE6E2.vie.surfer.at)
[10:48:37] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[10:50:56] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:51:14] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[10:52:41] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[10:52:45] <dbaupp> flaper87: well, the build log says why it failed
[10:53:01] <lynks> I have a question that I am finding it hard to articulate: What version of the rust compiler do I need to compile the current master branch of the rust compiler from github?
[10:53:15] <strcat> lynks: it gets it for you
[10:53:21] <flaper87> dbaupp: yup, I know. It's just that I must have miss a test in my local environment, hence I didn't hit it. Running them all now
[10:53:30] <flaper87> dbaupp: I already fixed that one
[10:53:32] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[10:53:32] <strcat> lynks: just run ./configure and make
[10:54:33] <lynks> strcat: thanks, but I was actually more interested in the mechanics of it. at this stage in language development do you keep compiling against a static, 'reference compiler' or do you chain together every, say tagged commit, compiling each with the previous? You can tell I know little about building languages.
[10:54:59] <strcat> lynks: it uses src/snapshots.txt to download the latest registered snapshot
[10:55:35] <strcat> registering a snapshot is a manual process requiring removing the conditionally compiled code in the first stage
[10:55:43] <lynks> strcat: and the latest registered snapshot is guaranteed to be capable of compiling the master branch?
[10:55:56] *** Quits: gwty (gwtypc@C77AC663.B3BCF8B0.45DA6411.IP) (Ping timeout)
[10:56:00] <strcat> lynks: yes, no pull request lands without passing on the buildbots
[10:56:33] <strcat> master always works to the extent that make check passes
[10:57:38] <lynks> strcat: so make configure will download a binary of the snapshot? In my mind it would have to chain compile all the way up from the original assembled (or ocaml in this case) compiler, if you see what I mean.
[10:58:04] <strcat> lynks: it will download the binary snapshot
[10:58:14] *** jorendorff_away is now known as jorendorff
[10:58:32] <lynks> I have only just started thinking about compiler compiling, and I find it much harder to conceive of than I expected :)
[10:58:45] <lynks> strcat: ok I understand, so we are just doing the last hop of the 'chain'
[10:58:52] <strcat> so lets say I make a breaking change to the language
[10:59:12] <strcat> I go and put #[cfg(stage0)] on new code, #[cfg(not(stage0))] on old code (although making an upgrade path without that is nicer)
[10:59:21] <strcat> er
[10:59:26] <strcat> flip new and old
[10:59:31] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[10:59:34] <lynks> yep
[10:59:35] <strcat> anyway, the snapshot is 'stage0'
[11:00:33] <FliPPeh> So if '!' in Rust is what '~' is in C, is '~' in Rust what '!' is in C?
[11:00:48] <strcat> ! is rust does the job of ~ and ~ in C++
[11:00:50] <strcat> er
[11:00:52] <strcat> ~ and !
[11:00:59] <lynks> strcat: I think I see, are you saying different sources files would be compiled by different snapshots?
[11:01:00] <FliPPeh> rusti: !1
[11:01:01] -rusti- -2
[11:01:06] <FliPPeh> rusti: !true
[11:01:07] -rusti- false
[11:01:09] <strcat> lynks: well, parts of source files usually
[11:01:11] <FliPPeh> Oh yes, type safety
[11:01:13] <strcat> lynks: unless you do something drastic
[11:01:19] <FliPPeh> I keep forgetting that's a thing
[11:01:33] <strcat> lynks: the snapshot compiles with --cfg stage0
[11:01:34] <lynks> strcat: right, that either makes my mental image far more complicated, or much simpler. I'll get back to you on that :P
[11:01:42] <strcat> lynks: then after it bootstraps, it uses --cfg stage1
[11:01:49] <strcat> then --cfg stage2
[11:02:10] <strcat> lynks: only the most recent snapshot registered in snapshots.txt is used
[11:02:14] <flaper87> dbaupp: pushed. Hopefully this time will go smoothly and I'll stop wasting test cycles
[11:02:23] <FliPPeh> rusti: if "asdf" { true } else { false }
[11:02:25] <strcat> lynks: if you check out a commit, then src/snapshots.txt has the snapshot needed to compile that commit
[11:02:26] -rusti- pastebinned 7 lines of output: http://ix.io/9VU
[11:02:31] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[11:02:52] <FliPPeh> Okay, so it's like Haskell where it doesn't implicitely convert to a bool
[11:04:35] <lynks> strcat: I'll grab the github and have a look around. In my head you need a complete copy of the source for each stage. Perhaps with stage0 being written in something else. It sounds like that my image is the naive approach, and it is actually more elegant.
[11:05:20] <strcat> lynks: in general we only distinguish between stage0 and not-stage0
[11:05:49] <strcat> and it only requires a dozen items to be cfg'ed (maybe a few hundred lines) before a new snapshot is done anyway
[11:06:10] <strcat> changes are introduced in steps
[11:06:17] <strcat> you don't remove a feature and add a replacement at the same time
[11:06:34] <strcat> you add the replacement, snapshot, switch to it + remove the old one
[11:06:36] <strcat> 3 steps
[11:06:58] <lynks> strcat: yes I am starting to see the workflow. This is very different from application development :P
[11:07:38] <lynks> strcat: My head still hurts when I realise you are devloping the tool you are using to develop.
[11:08:23] <lynks> strcat: thanks for taking the time anyway :)
[11:10:15] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[11:12:59] <eddyb> FliPPeh: and... Java
[11:13:07] <eddyb> except it's pretty bad in Java
[11:15:02] <pyon> eddyb: The problem is that, in Java, assignments to a variable of type X are still X-typed expressions, so you can do "if (myBool = false)" by accident. (Granted, most people would just do "if (!myBool)".)
[11:15:25] *** Quits: cyndis (cyndis@moz-C4357EA7.kapsi.fi) (Ping timeout)
[11:15:26] <eddyb> lol
[11:15:45] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[11:16:02] *** Quits: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi) (Ping timeout)
[11:16:06] <eddyb> f(a = b, b = c) works in rust, and it's a = b; b = c; f((), ())
[11:16:39] <pyon> eddyb: lol
[11:17:00] <eddyb> which is a neat way of handling it
[11:17:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[11:17:18] <pyon> Basically, like ML. :-)
[11:17:28] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[11:17:40] * dbaupp likes `f(while foo { ... })`
[11:17:42] <pyon> No, wait, ML has a different type for refcells.
[11:17:58] <strcat> notrusti: b = new Boolean(false); if (b) { console.log("true") } if (b == false) { console.log("false") }
[11:17:58] -notrusti- true
[11:17:58] -notrusti- false
[11:17:58] -notrusti- undefined
[11:18:03] <strcat> now that's a proper boolean
[11:18:29] <strcat> ;p
[11:18:31] <dbaupp> wat
[11:18:37] <pyon> strcat: Meh, pattern matching, with true and false branches! :-P
[11:18:43] <Ms2ger> Boolean object
[11:18:48] <eddyb> strcat is cheating, new Boolean
[11:18:49] <Ms2ger> And objects are always truthy
[11:18:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[11:18:56] <strcat> eddyb: pfft, it's not cheating
[11:18:57] <dbaupp> eurgh, JS :(
[11:19:03] <eddyb> new Number/Boolean/String is cheating
[11:19:14] <Ms2ger> notrusti: 0 == ""
[11:19:14] -notrusti- true
[11:19:14] <eddyb> does strict mode disable them? it should
[11:19:19] <strcat> notrusti: "foo" instanceof String
[11:19:19] -notrusti- false
[11:19:27] <strcat> eddyb: nope
[11:19:54] <strcat> eddyb: should be a way to force using 'let' in es6 ;p
[11:20:00] <eddyb> notrusti: [typeof "foo", typeof new String("foo")]
[11:20:00] -notrusti- [ 'string', 'object' ]
[11:20:02] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[11:20:14] <pyon> Why do we have a JS bot here? :-O
[11:20:20] <strcat> it's an anything bot
[11:20:25] <eddyb> strcat: use traceur-compiler
[11:20:38] <lucian> i think the only real option with JS is to compile to it :)
[11:20:52] <eddyb> it should be pretty trivial to make "var" invalid, probably even with just monkey-patching
[11:21:04] <lucian> the sane subset is getting larger with time, but there's still so much insanity
[11:21:36] <pyon> lucian: Even then, most languages that compile to JS are still crappy, just less crappy than JS.
[11:21:38] *** Quits: gkostyanikov (gkostyanik@C33591A8.2AEE264E.CA6E2165.IP) (Ping timeout)
[11:21:45] <lucian> eddyb: now without preprocessing of some sort (like lint pass or intercepting script tags)
[11:21:46] <Ms2ger> pyon, how about rust? :)
[11:22:00] <eddyb> lucian: why?
[11:22:04] <lucian> pyon: ClojureScript is pretty sane. TypeScript is almost reasonable too
[11:22:08] <pyon> Ms2ger: Is there a Rust to JS compiler? :-O
[11:22:11] <lucian> eddyb: you can't affect syntax through objects, in js
[11:22:17] <strcat> does rust actually work with emscripten? curious if the backend if complete enough to handle more than what clang makes
[11:22:18] <eddyb> you need traceur-compiler anyway to run ES6 in ES5
[11:22:31] <eddyb> strcat: yes, see month-old reddit posts
[11:22:37] <Ms2ger> pyon, emscripten should work
[11:22:44] <eddyb> pyon: a syntax transpiler, too
[11:22:45] <pyon> Ms2ger: Ah!
[11:22:52] <pyon> :-O
[11:25:03] <FliPPeh> An anything bot?
[11:25:07] *** Joins: gkostyanikov (gkostyanik@D97B45BA.3E410295.CA6E2165.IP)
[11:25:08] <FliPPeh> notrusti: make me a pizza
[11:25:11] -notrusti- pastebinned 11 lines of output: http://ix.io/9VV
[11:25:35] <FliPPeh> He has an identity crisis :(
[11:26:15] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[11:26:25] <strcat> notrusti: make me a pizza
[11:26:25] -notrusti- make: *** No rule to make target 'me'.  Stop.
[11:26:26] -notrusti- application terminated with error code 2
[11:26:27] *** Joins: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi)
[11:26:28] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[11:26:37] *** Joins: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za)
[11:26:46] <FliPPeh> notrusti: make pizza
[11:26:47] -notrusti- make: *** No rule to make target 'pizza'.  Stop.
[11:26:47] -notrusti- application terminated with error code 2
[11:27:12] <johnsoft> notrusti: make clean kitchen
[11:27:13] -notrusti- make: *** No rule to make target 'clean'.  Stop.
[11:27:13] -notrusti- application terminated with error code 2
[11:27:27] <whitequark> notrusti: puts RUBY_VERSION
[11:27:28] -notrusti- bash: puts: command not found
[11:27:28] -notrusti- application terminated with error code 127
[11:27:43] <strcat> notrusti: ruby -v
[11:27:44] -notrusti- ruby 2.0.0p353 (2013-11-22 revision 43784) [x86_64-linux]
[11:28:02] <FliPPeh> notrusti: uname -a
[11:28:03] -notrusti- Linux playpen 3.12.7-2-ARCH #1 SMP PREEMPT Sun Jan 12 13:09:09 CET 2014 x86_64 GNU/Linux
[11:28:17] <johnsoft> notrusti: ++++++++++[>+++++++>++++++++++>+++>+<<<<-]>++.>+.+++++++..+++.>++.<<+++++++++++++++.>.+++.------.--------.>+.>.
[11:28:21] * whitequark suppresses the urge to rm / -rf
[11:28:21] <pyon> lol
[11:28:23] -notrusti- pastebinned 24 lines of output: http://ix.io/9VW
[11:28:25] <pyon> notrusti: ruby -e 'puts "hai"'
[11:28:25] -notrusti- hai
[11:28:26] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[11:28:27] *** Joins: leslie (Adium@moz-454B76DB.members.linode.com)
[11:28:28] <strcat> whitequark: you can do whatever
[11:28:33] <dbaupp> notrusti: rm -rf /
[11:28:34] -notrusti- rm: it is dangerous to operate recursively on '/'
[11:28:34] -notrusti- rm: use --no-preserve-root to override this failsafe
[11:28:34] -notrusti- application terminated with error code 1
[11:28:40] <whitequark> strcat: that would just make me look like a dick :(
[11:28:45] <strcat> whitequark: it's fine, it's my bot ;p
[11:28:50] <FliPPeh> notrusti: cat /etc/issue
[11:28:50] -notrusti- Arch Linux \r (\l)
[11:28:52] <dbaupp> notrusti: rm -rf --no-preserve-root /
[11:28:53] <FliPPeh> Yay arch
[11:28:53] -notrusti- more than 10000 lines of output, bailing out
[11:29:02] <johnsoft> heh
[11:29:03] <whitequark> wow, that was fast
[11:29:07] <whitequark> is it on SSD? ramdisk?
[11:29:11] <pyon> notrusti: pwd
[11:29:11] -notrusti- /home/rust
[11:29:12] *** Quits: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:29:23] <strcat> whitequark: hard drive, although it's probably cached
[11:29:40] * strcat has an SSD but... rusti is 'media' ;p
[11:29:42] <johnsoft> notrusti- cat /proc/cpuinfo
[11:29:54] <strcat> whitequark: https://github.com/thestinger/playpen runs in this
[11:30:08] <strcat> read-only root, so for example rusti and notrusti concurrently use the same one
[11:30:20] <strcat> private mount namespaces mean they get their own /proc, etc.
[11:30:24] <strcat> notrusti: ps ax
[11:30:24] -notrusti-   PID TTY      STAT   TIME COMMAND
[11:30:24] -notrusti-     1 ?        Rs     0:00 ps ax
[11:30:34] *** Joins: cyndis (cyndis@moz-C4357EA7.kapsi.fi)
[11:30:48] <strcat> and syscall sandboxing...
[11:30:48] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:30:52] <strcat> notrusti: dmesg
[11:30:52] -notrusti- application terminated abnormally with signal 31 (Bad system call)
[11:31:21] <strcat> memory cgroups makes a fork bomb or whatever not work and it can do a reliable timeout
[11:31:23] <strcat> <3
[11:31:45] <dbaupp> rusti: :() { : | : & }; :
[11:31:47] <whitequark> yeah, linux is pretty neat in that
[11:31:47] -rusti- pastebinned 6 lines of output: http://ix.io/9VX
[11:31:56] <dbaupp> whoops, wrong bot
[11:32:05] <dbaupp> notrusti: :() { : | : & }; :
[11:32:07] <whitequark> I know a guy who used user-mode linux for similar task
[11:32:07] *** Quits: benjamin_ (benjamin@moz-BEBA2A6F.dip0.t-ipconnect.de) (Ping timeout)
[11:32:16] *** Quits: msch (msch@moz-DA0E34D4.clients.your-server.de) (Quit: Coyote finally caught me)
[11:32:32] <strcat> whitequark: I like namespaces/seccomp/cgroups for this because it's *fast* ;p
[11:32:50] <lucian> also used by docker, which is another interesting application
[11:32:52] <johnsoft> what about netcat localhost 12345 -e '/bin/bash'
[11:32:59] <strcat> lucian: well, docker isn't really a sandbox
[11:32:59] *** Quits: olem (olem@moz-D8B40BE5.fbx.proxad.net) (Ping timeout)
[11:33:16] <FliPPeh> notrusti: ip a
[11:33:16] -notrusti- application terminated abnormally with signal 31 (Bad system call)
[11:33:21] <lucian> strcat: sure, i just meant it's another interesting use of the isolation mechanisms
[11:33:25] <strcat> ah, yes
[11:33:31] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[11:33:33] <pyon> rusti: ls | xargs echo
[11:33:36] -rusti- pastebinned 6 lines of output: http://ix.io/9VY
[11:33:41] <pyon> notrusti: ls | xargs echo
[11:33:46] <strcat> http://huonw.github.io/isrustfastyet/mem/ uses cgroups
[11:33:57] <strcat> because the memory cgroup lets you measure the mem usage of a group of processes
[11:34:04] <strcat> so it counts rustc + gcc + ld, or whatever spawns
[11:34:16] <strcat> pyon: empty ;p
[11:34:19] <strcat> notrusti: ls /dev
[11:34:20] -notrusti- null
[11:34:20] -notrusti- urandom
[11:34:20] -notrusti- zero
[11:34:27] *** Joins: olem (olem@moz-D8B40BE5.fbx.proxad.net)
[11:34:29] <pyon> strcat: Oh.
[11:34:44] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[11:34:52] <FliPPeh> notrusti: cat /dev/urandom
[11:34:52] -notrusti- more than 10000 lines of output, bailing out
[11:34:59] *** Joins: olem_ (olem@moz-A2FD18C4.rev.sfr.net)
[11:35:05] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[11:35:06] <whitequark> notrusti: cat `which cat`
[11:35:07] -notrusti- bash: which: command not found
[11:35:07] -notrusti- cat: -: Bad file descriptor
[11:35:07] -notrusti- cat: closing standard input: Bad file descriptor
[11:35:07] -notrusti- application terminated with error code 1
[11:35:18] <sigma> notrusti: uname -r
[11:35:18] -notrusti- 3.12.7-2-ARCH
[11:35:44] <FliPPeh> notrusti: pacman -Syu
[11:35:44] -notrusti- error: you cannot perform this operation unless you are root.
[11:35:45] -notrusti- application terminated with error code 1
[11:35:49] <FliPPeh> notrusti: sudo pacman -Syu
[11:35:49] -notrusti- bash: sudo: command not found
[11:35:49] -notrusti- application terminated with error code 127
[11:35:59] <lucian> probably more fun to break https://microcorruption.com/ :)
[11:36:01] <sigma> notrusti: cat /etc/*-release
[11:36:04] -notrusti- pastebinned 8 lines of output: http://ix.io/9VZ
[11:36:09] *** Quits: olem (olem@moz-D8B40BE5.fbx.proxad.net) (Ping timeout)
[11:36:16] <strcat> notrusti: rustc - <<< 'fn main() { println!("foo") }' && ./rust_out
[11:36:16] -notrusti- foo
[11:36:51] * strcat should just make rusti_bare
[11:37:23] <sigma> notrusti: python -c "print('hello world')"
[11:37:23] -notrusti- bash: python: command not found
[11:37:24] -notrusti- application terminated with error code 127
[11:37:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[11:37:42] <sigma> huh, that is a pretty locked down env :)
[11:38:10] <marc_> notrusti: who
[11:38:19] *** Joins: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP)
[11:38:22] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[11:38:23] <strcat> notrusti: whoami
[11:38:23] -notrusti- rust
[11:38:37] <marc_> -ami :_)
[11:38:38] *** Joins: olem (olem@moz-D8B40BE5.fbx.proxad.net)
[11:38:46] <strcat> who lists logged in users and it's not really ;p
[11:39:03] <marc_> I know what it does ;p
[11:39:20] <strcat> since pid 1 is
[11:39:22] *** Quits: olem_ (olem@moz-A2FD18C4.rev.sfr.net) (Ping timeout)
[11:39:26] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[11:39:29] <strcat> notrusti: cat /usr/local/bin/irc_alt.sh
[11:39:32] -notrusti- pastebinned 10 lines of output: http://ix.io/9W0
[11:39:56] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:41:39] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:41:53] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[11:42:54] *** Joins: fyolnish (fyolnish@moz-F21EA873.uqwimax.jp)
[11:43:07] <lynks> This is not a bad idea for a ctf, do we know what bot this is?
[11:43:32] <strcat> lynks: it's https://github.com/thestinger/playpen
[11:43:41] * strcat wrote it for this specific thing ;p
[11:43:43] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[11:43:54] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[11:44:06] <strcat> + a little wrapper script
[11:44:11] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[11:44:25] *** Quits: notrusti (notrusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[11:44:25] <lynks> strcat: haha ok, well I'll fork it and make a vulnerable version for a ctf at some time in the future :P
[11:44:37] *** Quits: fyolnish (fyolnish@moz-F21EA873.uqwimax.jp) (Ping timeout)
[11:44:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:45:16] <FliPPeh> Rude bot, doesn't respond to VERSION
[11:46:02] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:46:11] <strcat> rusti: version
[11:46:12] -rusti- "rustc 0.10-pre (db7b9a3 2014-01-15 02:09:57 -0500)"
[11:46:21] <strcat> rustilite: fn main() { println("foo") }
[11:46:21] -rustilite- playpen: execvpe: No such file or directory
[11:46:21] -rustilite- application terminated with error code 1
[11:46:24] <strcat> hrm
[11:46:58] <strcat> rustilite: fn main() { println("foo") }
[11:47:00] -rustilite- pastebinned 7 lines of output: http://ix.io/9W3
[11:47:04] <strcat> rustilite: fn main() { println!("foo") }
[11:47:04] -rustilite- foo
[11:47:31] <dbaupp> if we have hundreds of variations of rusti in the channel we'll be easily the biggest channel on the network \o/
[11:47:37] <FliPPeh> rustilite: fn main() { fail!("out of sausage") }
[11:47:38] -rustilite- task '<main>' failed at 'out of sausage', <anon>:1
[11:47:38] -rustilite- application terminated with error code 101
[11:47:46] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[11:47:53] <dbaupp> rustilite: #[deriving(Clone)] struct Foo; fn main() { let f = Foo; f.clone(); }
[11:48:18] *** Quits: leslie (Adium@moz-454B76DB.members.linode.com) (Ping timeout)
[11:48:41] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[11:49:04] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[11:49:55] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:50:50] <strcat> dbaupp: I wish that worked in functions :(
[11:51:29] <dbaupp> strcat: yep :(
[11:51:37] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:51:42] <strcat> rustilite: #[deriving(Eq)] struct Foo(int, int); fn main() { println!("{}Foo(2, 3) == Foo(5, 2); }
[11:51:51] <strcat> rustilite: #[deriving(Eq)] struct Foo(int, int); fn main() { println!("{}", Foo(2, 3) == Foo(5, 2)); }
[11:51:54] <strcat> hm, wat
[11:52:06] -rustilite- pastebinned 6 lines of output: http://ix.io/9W4
[11:52:07] -rustilite- false
[11:52:13] <strcat> oh just ix.io being slow
[11:52:49] *** Joins: fyolnish (fyolnish@moz-F21EA873.uqwimax.jp)
[11:52:50] *** Joins: moostik (Icedove@6181009C.10715965.BCDF592F.IP)
[11:53:01] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[11:57:03] <Ms2ger> dbaupp, might already be the biggest right now
[11:57:46] *** Quits: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za) (Quit: ERC Version 5.3 (IRC client for Emacs))
[11:58:07] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[11:58:12] <dbaupp> we're 20 in front of #developers atm, so probably
[11:59:26] *** Quits: victorporof (victorporo@416E2802.271BFD43.9B1E38F4.IP) (Ping timeout)
[12:00:09] <dbaupp> PSA: if you're writing syntax extensions and encounter an input error, using .span_err is much much nicer than .span_fatal
[12:00:18] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[12:02:23] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[12:03:31] *** Joins: adridu59 (Mibbit@moz-E7A273CD.ac-paris.fr)
[12:03:44] <lynks> strcat: where do I know vodik from? saw his name from your github, can't place him.
[12:03:55] <lynks> strcat: is he known on stack exchange?
[12:04:12] <strcat> #archlinux? u of waterloo?
[12:04:31] *** Quits: moostik (Icedove@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[12:04:35] <lynks> strcat: gotta be #archlinux
[12:04:41] <strcat> he's an op there
[12:04:50] <lynks> strcat: that'll be it. :P thanks
[12:06:28] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[12:07:59] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[12:08:22] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[12:08:39] *** Quits: Ferreus (ferreus@moz-C5752C75.dip0.t-ipconnect.de) (Ping timeout)
[12:10:01] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[12:10:43] *** Quits: kvanb (kvanb@moz-2C33D4E6.lnse3.lon.bigpond.net.au) (Ping timeout)
[12:11:37] *** Joins: victorporof (victorporo@E8417859.ADED4010.2B3D3D4.IP)
[12:14:05] *** Quits: rca (rcatolino@22E42357.20117C61.520D6FA6.IP) (Ping timeout)
[12:15:04] *** Joins: gwty (gwtypc@48DEBDAD.2FB7FDF8.49FF672.IP)
[12:16:32] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[12:17:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[12:17:24] *** Joins: kvanb (kvanb@moz-76614EE8.lns7.lon.bigpond.net.au)
[12:18:52] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[12:19:00] *** Joins: jadbaires (jadrian@7A056CD5.AF63E717.6119BA41.IP)
[12:19:09] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[12:19:16] *** Joins: Earnestly (earnest@moz-E86D50FA.dyn.plus.net)
[12:19:58] <flaper87> dbaupp: "io::net::tcp::test::smoke_test_ip4::native" <- this test failed and doesn't seem related to the patch itsefl. Could you trigger the build again?
[12:20:05] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:21:10] *** Quits: gkostyanikov (gkostyanik@D97B45BA.3E410295.CA6E2165.IP) (Ping timeout)
[12:21:14] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Client exited)
[12:22:20] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[12:22:50] <pzol> any examples for working with treemap??
[12:23:54] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:24:17] <dbaupp> pzol: pretty much the same as any other of the map data structures
[12:24:29] *** Joins: gkostyanikov (gkostyanik@84947C7B.A859D9FD.CA6E2165.IP)
[12:25:05] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Quit: Leaving.)
[12:25:29] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Client exited)
[12:25:34] *** Joins: Ferreus (ferreus@moz-582613B5.dip0.t-ipconnect.de)
[12:27:32] *** Joins: nkoep (nik@moz-9D973323.pool.mediaways.net)
[12:29:25] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[12:29:49] *** Quits: adridu59 (Mibbit@moz-E7A273CD.ac-paris.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[12:30:25] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[12:30:43] *** Joins: dmacvicar_ (dmacvicar@moz-6C19808.suse.de)
[12:34:03] *** Quits: gwty (gwtypc@48DEBDAD.2FB7FDF8.49FF672.IP) (Ping timeout)
[12:34:45] *** Joins: rca (rcatolino@22E42357.20117C61.520D6FA6.IP)
[12:35:48] *** Joins: gwty (gwtypc@C61DF61.BA3925B4.137C914F.IP)
[12:36:13] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[12:36:15] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:36:17] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:38:45] *** Quits: rca (rcatolino@22E42357.20117C61.520D6FA6.IP) (Ping timeout)
[12:39:45] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Ping timeout)
[12:41:29] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Ping timeout)
[12:42:00] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[12:43:07] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[12:43:32] *** Quits: daschl (daschl@moz-DC6DE6E2.vie.surfer.at) (Quit: Textual IRC Client: www.textualapp.com)
[12:44:15] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[12:44:27] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Quit: Leaving.)
[12:44:50] *** Quits: olem (olem@moz-D8B40BE5.fbx.proxad.net) (Client exited)
[12:45:16] *** Joins: olem (olem@moz-D8B40BE5.fbx.proxad.net)
[12:45:24] *** Quits: jadbaires (jadrian@7A056CD5.AF63E717.6119BA41.IP) (Quit: Konversation terminated!)
[12:45:30] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[12:45:36] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:45:59] *** Quits: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Ping timeout)
[12:46:01] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[12:46:53] *** Joins: rca (rcatolino@22E42357.20117C61.520D6FA6.IP)
[12:46:55] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[12:46:59] *** Quits: olem (olem@moz-D8B40BE5.fbx.proxad.net) (Ping timeout)
[12:49:26] *** Joins: sigma (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[12:50:13] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:50:51] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[12:51:56] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:52:26] *** Joins: ljrmorgan (Mibbit@10DE4E3D.84C11B46.A3649FCA.IP)
[12:55:29] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[12:55:36] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[12:56:23] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[12:56:29] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[12:57:19] *** Quits: jakerr (bluehex@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:59:38] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[12:59:45] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[13:01:04] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[13:02:33] *** Joins: kris (kris@moz-42A2A7B6.science.ku.dk)
[13:03:09] *** Joins: awhit (Mibbit@moz-54C61813.cable.virginm.net)
[13:03:42] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[13:04:12] *** Joins: benjamin_ (benjamin@moz-BEBA2A6F.dip0.t-ipconnect.de)
[13:04:13] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[13:05:13] *** jorendorff is now known as jorendorff_away
[13:05:46] <awhit> Hi, I've created a vector of closures and I'm trying to use them in turn like: fns = [closure1, closure2]; for f in fns.iter() { f() } - and I'm getting errors...
[13:05:56] <awhit> error: expected function but found `&|int, int| -> int`
[13:06:36] <dbaupp> the vector .iter() function yields references to its elements
[13:06:40] <awhit> if I use &f in fns.iter() { f() } I get error: cannot move out of dereference of & pointer
[13:06:52] <dbaupp> i.e. f is of type `&(|int, int| -> int)`
[13:06:58] <dbaupp> in this case, you need (*f)()
[13:07:04] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Ping timeout)
[13:07:38] <awhit> ah! ok  I tried that but with the parens!
[13:07:39] <awhit> thanks
[13:07:42] <dbaupp> similar to how `let v = [~"foo", ~"bar"] for s in v.iter() { println(*s) }` works but `for &s in v.iter() { println(s) }` doesn't
[13:07:46] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[13:09:24] *** Quits: ljrmorgan (Mibbit@10DE4E3D.84C11B46.A3649FCA.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:11:39] *** Quits: gkostyanikov (gkostyanik@84947C7B.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:12:11] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[13:12:17] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Ping timeout)
[13:12:41] *** Quits: japaric (japaric@5F207A99.A347E168.F4D5766F.IP) (Ping timeout)
[13:12:55] *** Joins: japaric (japaric@5F207A99.A347E168.F4D5766F.IP)
[13:13:22] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[13:13:41] *** Joins: gkostyanikov (gkostyanik@74B3BC98.3E410295.CA6E2165.IP)
[13:13:42] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[13:16:54] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:17:32] *** Joins: olem (olem@moz-D8B40BE5.fbx.proxad.net)
[13:17:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:18:06] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[13:18:12] *** Joins: patpat (patpat@moz-85F8C52A.as13285.net)
[13:19:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[13:19:49] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:21:36] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[13:22:37] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[13:23:33] <johnsoft> man, these lifetime errors will be the death of me
[13:23:47] <dbaupp> no pun intended?
[13:24:05] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[13:24:10] <johnsoft> hahaha, didn't see that coming
[13:26:17] <FliPPeh> Better lifetime errors than lifetime failures
[13:26:18] <dbaupp> johnsoft: want some help?
[13:27:00] <johnsoft> i'd rather have understanding :P
[13:27:36] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[13:27:42] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[13:28:13] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[13:28:19] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[13:31:37] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[13:32:07] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[13:33:39] *** Quits: rca (rcatolino@22E42357.20117C61.520D6FA6.IP) (Ping timeout)
[13:34:13] <johnsoft> i'm writing a test case now, either i'll figure it out myself or post it here
[13:34:24] *** Joins: rca (rcatolino@22E42357.20117C61.520D6FA6.IP)
[13:35:32] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[13:36:20] <rdn> I'm writing a wrapper around a C function that accepts a **c_char; what rust type would be analogous?
[13:36:27] <LinearInterpol> Can someone give me an example of a generic used in a function?
[13:36:33] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[13:36:49] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[13:37:02] <LinearInterpol> Is it just like..
[13:37:08] <LinearInterpol> fn function<T>() ?
[13:37:13] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[13:37:27] <Matthias247> rdn: **libc::c_char
[13:37:29] <dbaupp> rdn: **u8 or **i8
[13:37:34] <dbaupp> (or libc::c_char)
[13:37:42] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[13:37:45] <kimundi> LinearInterpol: fn print_foo<T: ToStr>(t: &T) { println!("{:s}", t.to_str()); }
[13:38:00] <kimundi> rusti: fn print_foo<T: ToStr>(t: &T) { println!("{:s}", t.to_str()); } print_foo(&6);
[13:38:01] <LinearInterpol> <T: ToStr> is a generic with a trait, right?
[13:38:02] -rusti- 6
[13:38:02] -rusti- ()
[13:38:13] <LinearInterpol> Saying you want a "T with a trait ToStr"?
[13:38:22] <dbaupp> LinearInterpol: a generic with the trait bound ToStr, yes
[13:38:27] <LinearInterpol> thanks. :)
[13:38:37] <dbaupp> "T must implement ToStr"
[13:38:39] <kimundi> LinearInterpol: Yeah - the egneric type T gets restricted to all T that implement ToStr. This is called a trait bound. :)
[13:38:46] <LinearInterpol> Rock on! :D
[13:39:16] <LinearInterpol> How would I write something equivalent to a function pointer as a parameter?
[13:39:18] <kimundi> I say restricted, but its pretty much the opposite - a bare T is almost useless, but the more trait bounds you have, the more methdos you can call on it
[13:40:00] <kimundi> LinearInterpol: Well, normal function pointers have the type "fn(A, B, ...) -> C"
[13:40:07] <LinearInterpol> ahh.
[13:40:09] <kimundi> LinearInterpol: But usually you will want to take a closure
[13:40:15] <LinearInterpol> Ooo. :)
[13:40:19] <LinearInterpol> I haven't messed with closures.
[13:40:21] <LinearInterpol> Tell me more. :)
[13:40:22] <kimundi> which has the type "|A, B, ...| -> C"
[13:41:15] <kimundi> rusti: fn call_three_times(f: ||) { f(); f(); f(); } call_three_times(|| { println!("hello") });
[13:41:15] -rusti- hello
[13:41:15] -rusti- hello
[13:41:16] -rusti- hello
[13:41:16] -rusti- ()
[13:41:30] <LinearInterpol> f:(|a:T, b:T| -> T)
[13:41:41] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[13:41:43] <LinearInterpol> Would be something that equates to a two-parameter closure?
[13:41:53] <LinearInterpol> Each with a parameter of type T?
[13:42:11] <kimundi> LinearInterpol: yeah, though I'm not sure if the paranthesis are valid for types there
[13:42:24] <LinearInterpol> So I can just remove the parentheses?
[13:42:52] *** Joins: jdm (jdm@moz-12626D4B.static.videotron.ca)
[13:42:52] *** ChanServ sets mode: +o jdm
[13:42:55] <kimundi> rusti: fn call_three_times(f: |uint, uint| -> uint) { f(1,2); f(2,3); f(3,4); } call_three_times(|a,b| { println!("hello {} {}", a, b) });
[13:42:58] -rusti- pastebinned 7 lines of output: http://ix.io/9W7
[13:43:08] <kimundi> yes
[13:43:13] <LinearInterpol> Cooool. :)
[13:43:25] <kimundi> rusti: fn call_three_times(f: |uint, uint| -> uint) { f(1,2); f(2,3); f(3,4); } call_three_times(|a,b| { println!("hello {} {}", a, b); a + b });
[13:43:26] -rusti- hello 1 2
[13:43:26] -rusti- hello 2 3
[13:43:26] -rusti- hello 3 4
[13:43:26] -rusti- ()
[13:45:14] <LinearInterpol> So, for an enumeration like..
[13:45:18] <LinearInterpol> enum List<T> { Empty, Node(T, ~List<T>) }
[13:45:24] *** Joins: vmx (vmx@moz-3FAEC8A8.pools.arcor-ip.net)
[13:45:25] <LinearInterpol> How would I write a parameter for that?
[13:45:35] <LinearInterpol> l:List::<T> ?
[13:46:34] <kimundi> In a type, its List<T>. The :: are only neccessary in an expression, because there it would conflict with the "<" and ">" operator
[13:47:10] <LinearInterpol> Ahhh.
[13:47:14] <kimundi> fn foo(t: Option<uint>) {} foo(Some::<uint>(4u));
[13:47:16] <LinearInterpol> Wonderful.
[13:47:28] <LinearInterpol> I'm implementing "fold" in rust, that's why. Trying to connect it to my Haskell studies.
[13:47:52] <kimundi> Sounds like a win-win learning situation :)
[13:48:21] <LinearInterpol> :)
[13:48:28] <LinearInterpol> Speaking of that.. how well does Rust handle recursion?
[13:49:10] <Ms2ger> I think you can expect TCO?
[13:49:16] <dbaupp> kinda
[13:49:40] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[13:49:47] <LinearInterpol> Haha, oh wow.
[13:49:48] <dbaupp> Rust doesn't *guarantee* TCO as part of the language spec, but LLVM will TCO many functions
[13:49:49] <LinearInterpol> It compiled.
[13:50:00] <Ms2ger> Congratulations!
[13:50:00] <dbaupp> (same as it does for C/C++)
[13:50:22] <Ms2ger> I think we should have open badges
[13:50:23] <kimundi> In gneral, don't use recursion as a loop replacement in Rust - ti will probably blow up in your face ;)
[13:50:30] <Ms2ger> "I got some code to compile"
[13:50:34] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:50:46] <igork> is there any tutorial/guide for debugger usage for rust applications? lldb maybe?
[13:51:01] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[13:51:09] <LinearInterpol> WOOOOOO
[13:51:10] <LinearInterpol> HOLY SHIT.
[13:51:11] <LinearInterpol> WOOOOOOOO!
[13:51:18] <LinearInterpol> THAT'S SO FUCKING COOOOOL!
[13:51:30] <Ms2ger> Ahem
[13:51:33] <LinearInterpol> Sorry.
[13:51:37] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Quit: moostik)
[13:51:42] <LinearInterpol> It worked. :)
[13:51:53] <dbaupp> LinearInterpol: \o/
[13:51:56] *** Quits: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au) (Ping timeout)
[13:52:29] <kimundi> igork: gdb works, if you compile with debug infor and extra debug info
[13:52:34] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Quit: Leaving.)
[13:52:36] <dbaupp> igork: Rust can emit DWARF debug symbols using the -Z extra-debug-info flag, which (in theory) work with gdb and lldb
[13:52:44] <dbaupp> however, I think it's broken on mac osx
[13:52:56] * dbaupp doesn't have OSX and so doesn't know for sure
[13:53:02] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:53:42] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[13:54:08] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:54:23] <igork> kimundi, dbaupp: thanks, will play with it
[13:55:31] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[13:55:49] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:58:08] *** Quits: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:59:48] <johnsoft> hmm, why does extra::arc::Arc require your data to have Freeze?
[13:59:55] <johnsoft> doesn't that defeat the purpose?
[14:00:58] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[14:01:02] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[14:01:54] <rdn> What is the appropriate error mechanism to use for a function that only returns whether it was successful or not? (Option/Result seems to imply there is a value to return on success)
[14:01:56] <eddyb> johnsoft: no
[14:02:04] <eddyb> johnsoft: Arc is immutable, otherwise it would be unsafe
[14:02:35] <eddyb> johnsoft: see RWArc and ArcMutex for safe, mutable, shared-across-threads reference-counted smart pointers
[14:03:00] <johnsoft> ah, gotcha, ty
[14:03:02] *** Quits: gwty (gwtypc@C61DF61.BA3925B4.137C914F.IP) (Ping timeout)
[14:03:02] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[14:05:11] <Matthias247> rdn: You can use Option<()> or Result<(),Err> if there is no value to return
[14:05:29] <rdn> thanks
[14:05:51] *** Quits: olem (olem@moz-D8B40BE5.fbx.proxad.net) (Client exited)
[14:08:39] *** Quits: gkostyanikov (gkostyanik@74B3BC98.3E410295.CA6E2165.IP) (Quit: My iMac has gone to sleep. ZZZzzz…)
[14:09:38] *** Joins: ljrmorgan (Mibbit@10DE4E3D.84C11B46.A3649FCA.IP)
[14:10:04] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[14:13:01] *** Joins: olem (olem@moz-D8B40BE5.fbx.proxad.net)
[14:15:03] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[14:15:39] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Ping timeout)
[14:15:52] *** Quits: psquid (psquid@moz-DC30FB.threembb.co.uk) (Quit: work)
[14:18:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:19:44] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[14:22:54] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[14:24:40] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[14:25:33] *** Joins: sigma1 (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[14:26:09] <sigma1> hmm, whats the status of cross compiling linux > windows?
[14:26:39] *** Quits: olem (olem@moz-D8B40BE5.fbx.proxad.net) (Ping timeout)
[14:26:47] <pnkfelix> sigma1: I'm not aware of anyone attempting to do that
[14:26:58] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:27:03] *** Joins: olem (olem@moz-D8B40BE5.fbx.proxad.net)
[14:27:06] <pnkfelix> sigma1: I imagine you'd need to compile to llvm bitcode and then do the final linking step on a windows machine.
[14:27:14] <sigma1> thought that might be the case, oh well, better boot up the gaming rig
[14:27:17] *** Quits: jdm (jdm@moz-12626D4B.static.videotron.ca) (Quit: Lost terminal)
[14:28:20] <dbaupp> iirc cmr may've done that
[14:28:40] <eddyb> pnkfelix: wine ;)
[14:31:44] <SiegeLord> dbaupp: Do you want me to add a commit that fixes the documentation for std::num::{f32, f64}? Or just not propogate a bad style?
[14:32:42] <dbaupp> SiegeLord: either :)
[14:32:57] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Connection timed out)
[14:33:18] <SiegeLord> What is the 'good' style?
[14:33:39] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[14:33:47] *** Joins: jyeo (Adium@moz-6F715C5D.singnet.com.sg)
[14:34:38] *** Quits: olem (olem@moz-D8B40BE5.fbx.proxad.net) (Ping timeout)
[14:34:51] <jyeo> rustilite: "a" + "b"
[14:34:54] -rustilite- pastebinned 6 lines of output: http://ix.io/9W9
[14:35:40] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[14:35:49] <SiegeLord> Like... is the std::num::strconv style good?
[14:35:51] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:36:04] <SiegeLord> It seemed pretty elaborate, and thus possibly newer
[14:36:22] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[14:36:43] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:37:28] <dbaupp> SiegeLord: conventional style is ///
[14:38:04] <dbaupp> but without the empty lines at the top and bottom
[14:38:18] <SiegeLord> Well, yeah, but there's also minor bits... like whether or not to surround the argument names in ``'s, whether to document failure or the return type etc
[14:38:28] <bstrie_disappeared> dbaupp: self-imposing a rust hiatus for two weeks cuz of important stuff. can you hold down the subreddit?
[14:38:30] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:38:45] <dbaupp> bstrie_disappeared: sure thing
[14:38:58] <dbaupp> bstrie_disappeared: hope it all goes well, etc :)
[14:39:06] <dbaupp> SiegeLord: oh
[14:39:06] <bstrie_disappeared> o7 godspeed
[14:39:19] <dbaupp> SiegeLord: not really sure
[14:39:25] <dbaupp> SiegeLord: (about `)
[14:39:34] <SiegeLord> I guess I'll just take care of newlines then, that seems uncontroversial
[14:39:35] <dbaupp> SiegeLord: yes to failure, and yes to the return type if it's not obvious
[14:39:56] <SiegeLord> And if we eventually switch to rst/sphinx all of this will need to be redone anyway
[14:40:01] <dbaupp> yup
[14:40:08] <dbaupp> but having the text there already will make it easier
[14:41:55] <flaper87> dbaupp: updated docs :)
[14:43:03] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:43:59] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[14:44:48] *** Joins: AvianFlu (AvianFlu@moz-81CFC0CB.dyn.optonline.net)
[14:46:58] *** Joins: sehugg (sehugg@moz-42540923.res.bhn.net)
[14:48:21] *** Joins: gkostyanikov (gkostyanik@74B3BC98.3E410295.CA6E2165.IP)
[14:49:00] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[14:49:26] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[14:50:12] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Connection timed out)
[14:50:41] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[14:52:01] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[14:52:56] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[14:54:13] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:55:19] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[14:55:54] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:56:21] *** Joins: e (quassel@moz-80C7DD56.upc-d.chello.nl)
[14:57:09] <eddyb> I had to do this https://github.com/nikomatsakis/rust/commit/b1da8c618fb49d8a42270454ea1bf5ddca426683#commitcomment-5101041
[14:57:54] *** Quits: gkostyanikov (gkostyanik@74B3BC98.3E410295.CA6E2165.IP) (Quit: My iMac has gone to sleep. ZZZzzz…)
[14:58:23] *** Joins: guillaume_ (Mibbit@moz-F550A17F.fbx.proxad.net)
[14:58:38] <guillaume_> Hello everyone
[14:59:18] *** Joins: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP)
[14:59:37] <kimundi> hi guillaume_ 
[14:59:49] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:00:08] *** Quits: e (quassel@moz-80C7DD56.upc-d.chello.nl) (Client exited)
[15:00:09] *** Joins: e (quassel@moz-80C7DD56.upc-d.chello.nl)
[15:00:23] <guillaume_> could someone help me about this problem? unresolved import: could not find `mem` in `std::io`
[15:00:28] <guillaume_> using rust-0.9
[15:00:30] *** Joins: olem (olem@moz-4512FDE8.rev.sfr.net)
[15:00:33] <guillaume_> looks strange to me
[15:00:52] <guillaume_> from the website documentation this mod should exists in 0.9
[15:01:20] <kimundi> guillaume_: where and how are you trying to import mem?
[15:01:25] <guillaume_> or perhaps I don't import it properly
[15:01:27] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:01:27] *** ChanServ sets mode: +ao dherman dherman
[15:01:45] <guillaume_> on top on my file
[15:01:51] <guillaume_> I have use std::io;
[15:02:00] <guillaume_> and then later io::mem::with_mem_writer(|writer| { ...
[15:02:13] <kimundi> In the same module?
[15:02:17] <guillaume_> yes
[15:02:21] <guillaume_> in the same file
[15:02:34] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:02:41] <eddyb> with_mem_writer? that looks... outdated
[15:02:47] <kimundi> wel, a source file is just the body of a module, and can contain more modules, so I'm asking :)
[15:02:51] <eddyb> though I'm not sure what it does
[15:03:05] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[15:03:16] <eddyb> guillaume_: question was, is there any "mod" keyword between the start of the file and the io::mem::with_mem_writer line?
[15:03:33] <guillaume_> no
[15:03:38] <guillaume_> it is the same module
[15:03:47] <kimundi> okay
[15:03:54] <eddyb> because "use std::io; mod foo {/*io isn't imported in here*/}". oh, okay
[15:03:56] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Quit: Leaving.)
[15:04:07] <guillaume_> yes I understand that
[15:04:11] *** Joins: leslie1 (Adium@A0DB9414.6F4EB60F.2156B23B.IP)
[15:05:10] <kimundi> Well, the path is certainly right: http://static.rust-lang.org/doc/0.9/std/io/mem/fn.with_mem_writer.html
[15:05:42] <kimundi> guillaume_: what happens if you change the use the the function of it to "::std::io::mem::with_mem_writer(|writer| { ..."
[15:06:27] <guillaume_> ok wait I think I've messed up with my install...
[15:06:41] <guillaume_> it doesn't have the proper version of the std library
[15:07:00] <guillaume_> sorry for that
[15:07:00] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:07:17] <kimundi> guillaume_: what does rustc -v say?
[15:07:33] <guillaume_> rustc 0.8
[15:07:48] <guillaume_> strange thing is that I've installed rust 0.9 from brew yesterday...
[15:08:00] <guillaume_> but clearly my sintall is broken
[15:09:17] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:10:07] *** Quits: AvianFlu (AvianFlu@moz-81CFC0CB.dyn.optonline.net) (Ping timeout)
[15:10:08] *** Joins: AvianFlu_ (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[15:11:23] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:11:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:12:12] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[15:12:16] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[15:12:59] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:14:09] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[15:15:43] *** Quits: tq (tq@moz-632DBD9.ad.umu.se) (Ping timeout)
[15:16:20] <lynks> the dragon book is expensive :/
[15:19:30] *** Quits: olem (olem@moz-4512FDE8.rev.sfr.net) (Client exited)
[15:19:56] *** Joins: olem (olem@moz-4512FDE8.rev.sfr.net)
[15:20:49] *** Joins: olem_ (olem@moz-D8B40BE5.fbx.proxad.net)
[15:21:38] *** Quits: olem (olem@moz-4512FDE8.rev.sfr.net) (Ping timeout)
[15:22:28] *** jorendorff_away is now known as jorendorff
[15:23:37] <japaric> how do I destructure self? none of these seems to work https://gist.github.com/japaric/bd1c67d7a22ef2562099 or is there other way to extract the insides of the Factors "newtype"?
[15:23:46] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[15:23:54] *** Quits: vmx (vmx@moz-3FAEC8A8.pools.arcor-ip.net) (Quit: Leaving)
[15:23:59] *** Joins: skade (skade@moz-E2AAEEAD.web.vodafone.de)
[15:24:54] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[15:25:13] <kimundi> japaric: 10 and 13 are the right ways to destructure self - they don't work for another reason
[15:25:30] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[15:26:30] *** Quits: AvianFlu_ (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[15:26:43] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[15:27:16] <kimundi> japaric: As 10 and 13 are written, you basically say "give me the content of Factors and bind if to the name foo" - but the content is a ~[T], which is a moving type - so it would be a move. But you can't move through an reference, as that would invalidate the thing beeing pointed at
[15:28:33] <kimundi> For implementing Mul for your type, you basically have only one option: change for example 13 to "let Factors(ref foo) = *self"
[15:29:12] <kimundi> the ref keyword infront of a pattern binding means "don't give me the value, give me areference to the value"
[15:29:33] <kimundi> So foo would end up being a &~[(uint, uint)]
[15:30:01] *** Quits: sigma1 (sigma@moz-1C81041B.range86-184.btcentralplus.com) (Ping timeout)
[15:30:02] <kimundi> which you could then in turn slice to a &[(uint, uint)] or do whatever with it :)
[15:31:50] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[15:31:57] *** Joins: sigma1 (sigma@moz-1C81041B.range86-184.btcentralplus.com)
[15:32:14] *** Quits: Ferreus (ferreus@moz-582613B5.dip0.t-ipconnect.de) (Ping timeout)
[15:32:23] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: Leaving)
[15:32:44] *** Quits: fyolnish (fyolnish@moz-F21EA873.uqwimax.jp) (Quit: Bye)
[15:33:06] <LinearInterpol> So closures are equivalent to anonymous functions in Rust?
[15:33:36] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:33:36] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:34:08] *** Joins: sellout (Adium@1ED20A07.5E67B0BF.C5F4E277.IP)
[15:34:16] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[15:34:18] <adridu59> why does bors fail sometimes?
[15:34:34] <adridu59> is it like there are issues that get triggered randomly? sounds weird
[15:34:41] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[15:34:43] * japaric 's brain is digesting what kimundi said
[15:34:52] <kimundi> LinearInterpol: In a sense yes. More exactly, the closure constructor expression "|...| EXPR" gives you a anonymous value of a closure
[15:35:02] <LinearInterpol> Bitchin'.
[15:35:11] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[15:35:20] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:35:29] <kimundi> japaric: Take your time :)
[15:35:52] <kimundi> You are of course free to give the closure a name by storing it in a local variable
[15:36:08] <kimundi> rusti: let f = || 5; f()
[15:36:09] -rusti- 5
[15:36:15] <LinearInterpol> That's.. awesome.
[15:36:17] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:36:21] *** Quits: KindOne (KindOne@moz-DCBC5EC4.dynamic.ip.windstream.net) (Ping timeout)
[15:36:54] <kimundi> LinearInterpol: haha :D
[15:39:33] <kimundi> adridu59: The Rust runtime and the build bots are both flakey sometimes - people try to make them not fail randomly, but its not easy :P
[15:40:26] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[15:40:30] *** Joins: KindOne (KindOne@moz-DCBC5EC4.dynamic.ip.windstream.net)
[15:40:34] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[15:41:27] *** Joins: lkuper (lkuper@A2C24A61.A0D37E9B.51B6877.IP)
[15:41:39] <johnsoft> what's the difference between matching on Thing(&x) and Thing(ref x)?
[15:41:45] <kimundi> Keeping N different build environments for 3+ different platforms up to date with the rust repo just through a "git pull && ./configure &6 make check" alone does not always work
[15:42:42] <kimundi> johnsoft: Okay, so let Thing(&x) would mean "take a value, strip of the outer Thing(...), strip of the outer &(..., and bind the content to x"
[15:43:04] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:43:28] <kimundi> johnsoft: Thing(ref x) means "strip of the outer Thing(...), and bind a reference to the content to x"
[15:43:29] <johnsoft> so it would correspond to enum X { Thing(&data: Whatever) } ?
[15:43:50] <kimundi> In other words, & in apattern removes one layer of reference, while ref adds one layer of reference
[15:44:17] <johnsoft> got it, ty
[15:44:43] *** Quits: TylerE (Tyler@moz-33F22668.gvllcmtc01.gnvlnc.ab.dh.suddenlink.net) (Ping timeout)
[15:44:43] <kimundi> Only Thing(&x) would match that enum, yeah
[15:46:28] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[15:46:48] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[15:47:16] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:47:26] <johnsoft> although i suppose that enum would need an explicit lifetime, wouldn't it
[15:47:34] <johnsoft> fun, fun, fun!
[15:51:14] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:51:54] *** Quits: skade (skade@moz-E2AAEEAD.web.vodafone.de) (Ping timeout)
[15:54:52] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:55:16] <japaric> kimundi: sorry, I forgot to say thanks :-) I got it
[15:55:42] <kimundi> japaric: All right, glad I could help :)
[15:55:44] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:56:33] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:56:44] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:57:16] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[15:57:50] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[15:59:45] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Ping timeout)
[16:00:29] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[16:00:51] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[16:00:59] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[16:02:00] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[16:02:05] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:02:16] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[16:02:31] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[16:02:46] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[16:03:45] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:04:13] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[16:04:27] *** Quits: espindol_ (espindola@3AA6F601.53AE8582.A535BD55.IP) (Input/output error)
[16:04:28] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:05:35] *** Joins: TylerE (Tyler@moz-6BD0CBDD.gvllcmtc01.gnvlnc.ab.dh.suddenlink.net)
[16:08:11] *** Joins: Cevn (sameer@moz-57F2D062.v4.wm.edu)
[16:08:30] *** Joins: yoyoyo_imjoebobjoe (Mibbit@moz-38C83F8F.cise.ufl.edu)
[16:09:08] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[16:09:35] *** Quits: TylerE (Tyler@moz-6BD0CBDD.gvllcmtc01.gnvlnc.ab.dh.suddenlink.net) (Ping timeout)
[16:10:14] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:11:02] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Quit: Leaving.)
[16:13:18] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[16:13:40] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[16:14:03] <kvark> I got a problem with Rc, that I'm still unable to resolve. Say, I had @a (of type @A) that I stored in two places: as @T (where A implements T) and as @A
[16:14:14] <kvark> how do I do that now with Rc?
[16:14:24] *** Quits: fabiand (fabiand@moz-2FF8D2D3.adsl.alicedsl.de) (Quit: Verlassend)
[16:14:25] *** Joins: yuriks (yuriks@50BCCB4D.6C9AD9C4.8E0C6B01.IP)
[16:14:26] *** Joins: TylerE (Tyler@moz-6BD0CBDD.gvllcmtc01.gnvlnc.ab.dh.suddenlink.net)
[16:14:33] *** Joins: skade (skade@moz-667246BD.web.vodafone.de)
[16:15:02] <kimundi> kvark: Not possible directly atm - We need DST to have Rc<Trait>
[16:15:19] *** Joins: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr)
[16:15:30] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:15:36] <kvark> kimundi: do you know a bug on that so that I can track the progress? This is used in several places in my code, and I already removed all the @...
[16:16:21] <kimundi> http://www.reddit.com/r/rust/comments/1uhq4h/dst_take_5/
[16:16:36] <sebcrozet> Hi.
[16:16:43] <sebcrozet> What is the status of rustpkg?
[16:17:04] <sebcrozet> Did anyone manage to use it for a project with multiple dependencies?
[16:17:11] *** Quits: kris (kris@moz-42A2A7B6.science.ku.dk) (Ping timeout)
[16:17:23] * kvark joining sebcrozet concerns
[16:17:28] <kimundi> kvark: And https://github.com/mozilla/rust/issues/6308
[16:17:35] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[16:17:54] <kvark> kimundi: awesome, thanks!
[16:17:59] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:18:25] *** Quits: jyeo (Adium@moz-6F715C5D.singnet.com.sg) (Quit: Leaving.)
[16:18:37] <yoyoyo_imjoebobjoe> Do any of the resident Rust people know what these authors are talking about when they say that changes need to be made to Rust's type system in order to fully expose the GPU memory hierarchy? http://www.cs.indiana.edu/~eholk/papers/hips2013.pdf
[16:18:59] <kvark> wow
[16:20:14] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:20:29] *** Quits: Kxepal (Miranda@moz-4F25DFCF.pppoe.mtu-net.ru) (Ping timeout)
[16:20:32] <kvark> yoyoyo_imjoebobjoe: nmatsakis knows for sure
[16:21:16] *** Quits: e (quassel@moz-80C7DD56.upc-d.chello.nl) (Client exited)
[16:22:33] *** Quits: skade (skade@moz-667246BD.web.vodafone.de) (Ping timeout)
[16:24:12] <kvark> nmatsakis: this is awesome stuff, albeit Nvidia only
[16:24:31] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[16:24:53] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[16:25:13] *** Quits: Cevn (sameer@moz-57F2D062.v4.wm.edu) (Ping timeout)
[16:26:12] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[16:26:48] <yoyoyo_imjoebobjoe> kvark: I just get turned on by the potential for improvement. Although, I doubt that if the improvements to the type system they refer to are not already implemented, they will not be implemented at all :(. That means, I hope they are not referring to dependent types :(.
[16:26:58] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[16:28:16] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[16:29:25] <kvark> yoyoyo_imjoebobjoe: nmatsakis is an official rust developer, and he is a co-author of the article (as far as I see). Hence, if that's truly awesome, he will probably do it ;)
[16:29:38] *** Joins: skade (skade@moz-667246BD.web.vodafone.de)
[16:29:55] <yoyoyo_imjoebobjoe> kvark: How much does Moz pay him
[16:29:56] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[16:30:19] <kvark> dunno, that's not the right question to ask
[16:30:33] <yoyoyo_imjoebobjoe> kvark: I'm jk
[16:30:51] <yoyoyo_imjoebobjoe> However much they pay him it sounds like they should pay him more
[16:31:03] <kvark> oh, not just him!
[16:31:05] *** Quits: dmacvicar_ (dmacvicar@moz-6C19808.suse.de) (Quit: Ex-Chat)
[16:31:21] <Scriptor> how many people are mozilla employees in this channel
[16:31:22] *** Quits: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com) (Quit: Ex-Chat)
[16:31:23] *** Joins: Kxepal (Miranda@moz-5483AA93.pppoe.mtu-net.ru)
[16:31:28] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[16:31:43] <SiegeLord> dbaupp: Can you look at my PR again? I hope I made the description a bit clearer... https://github.com/mozilla/rust/pull/11611
[16:31:57] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[16:32:13] <lynks> Heh, I'm a reasonably technical person, I have been a sysadmin, C developer and reverse engineer, all professionally. Never before has a technical IRC channel so often gone completely over my head.
[16:32:31] <lynks> I am in awe of compiler developers.
[16:32:48] *** Joins: nulldata (chatzilla@moz-C5F891AC.seas-nve.net)
[16:32:54] *** Quits: guillaume_ (Mibbit@moz-F550A17F.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:33:01] <nulldata> Hello
[16:33:08] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[16:33:40] <kvark> yoyoyo_imjoebobjoe: rust devs are great, but also there are many people contributing here, who do it for free. And that's not just the code (which can be remedied by donations), it's community building, support, and organization. Taking a chance here, thanks everyone on the project!!!
[16:34:45] *** Quits: awhit (Mibbit@moz-54C61813.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:35:26] <kvark> lynks: agreed, their language feels over-complex sometimes (alien?), but I suppose the same goes for any specialized technical area (3d graphics comes to mind, even though it's a bit less exotic)
[16:36:09] *** Quits: nulldata (chatzilla@moz-C5F891AC.seas-nve.net) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131206152142])
[16:36:39] *** Joins: nulldata (chatzilla@moz-C5F891AC.seas-nve.net)
[16:37:23] <SiegeLord> Scriptor: I don't know for sure, but I'm guessing 4-5
[16:37:24] *** Joins: robhobbes (Mibbit@moz-405814B3.byu.edu)
[16:37:40] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[16:37:40] <Scriptor> ah, I thought it'd be a lot higher
[16:37:57] <Scriptor> though I guess the Rust team there is about that bigt
[16:38:54] <cmr> well I don't know how many are idling.
[16:39:04] <cmr> right now there are certainly more than 5
[16:39:11] <cmr> but there are 5 on the core team.
[16:39:17] <cmr> and more who work on servo.
[16:39:36] <kvark> sebcrozet: rustpkg is such a sacred topic that everyone hides whenever it's touched...
[16:39:41] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:40:02] *** Quits: leslie1 (Adium@A0DB9414.6F4EB60F.2156B23B.IP) (Quit: Leaving.)
[16:40:03] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[16:41:38] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:41:42] *** Joins: espindola (espindola@8EC99D26.4B7A7726.A2E931B1.IP)
[16:42:42] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:43:05] *** Quits: robhobbes (Mibbit@moz-405814B3.byu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[16:44:29] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[16:45:08] *** Quits: espindola (espindola@8EC99D26.4B7A7726.A2E931B1.IP) (Ping timeout)
[16:45:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:46:41] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[16:47:38] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[16:48:12] *** Joins: espindola (espindola@563D60BB.4B7A7726.A2E931B1.IP)
[16:48:17] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[16:50:08] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:51:02] *** Quits: lkuper (lkuper@A2C24A61.A0D37E9B.51B6877.IP) (Quit: lkuper)
[16:52:30] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[16:54:15] *** Joins: lkuper (lkuper@moz-6881CCA2.dhcp-bl.indiana.edu)
[16:55:12] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:56:56] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:57:00] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[16:57:11] *** Joins: vadimg2 (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[16:57:19] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:57:21] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[16:58:00] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:58:28] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:59:29] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Ping timeout)
[17:01:04] <LinearInterpol> So, rusti's a bot, right?
[17:01:19] <LinearInterpol> Does anybody have a binary of him?
[17:01:23] <adridu59> LinearInterpol: yes it's a pseudo REPL
[17:01:29] <kimundi> LinearInterpol: A bot running in a sandbox that just runs the input through rustc
[17:01:30] <LinearInterpol> Badass.
[17:01:45] <LinearInterpol> Any plans for distribution?
[17:01:57] <kimundi> LinearInterpol: Well, it already is distributed :P
[17:02:01] <LinearInterpol> I've got a channel on another network I want him to join. :)
[17:02:04] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:02:13] <LinearInterpol> kimundi: Got a link?
[17:02:20] <adridu59> it's not a real REPL for now, there used to be one is the main repo but it was removed because it was buggy
[17:02:20] <cmr> LinearInterpol: https://github.com/thestinger/rust-playpen
[17:02:26] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:02:32] <adridu59> jit was removed also
[17:02:51] <kimundi> LinearInterpol: Here is a link to both the repo, and the inner magic it uses to evaluate the irc messages: https://github.com/thestinger/rust-playpen/blob/master/bin/irc.sh
[17:03:02] <LinearInterpol> Oo.
[17:03:05] <LinearInterpol> Gracioso. :)
[17:03:47] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:04:48] *** Quits: skade (skade@moz-667246BD.web.vodafone.de) (Ping timeout)
[17:05:55] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[17:06:01] *** Joins: Ferreus (ferreus@moz-7F37474A.pools.arcor-ip.net)
[17:06:49] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:06:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:07:39] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[17:07:49] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:07:56] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[17:08:23] *** Quits: yoopo_ (6sun@842E0E4B.B14B69D6.4467248D.IP) (Ping timeout)
[17:08:36] <adridu59> flaper87: so, powf can take self, but not pow? sounds inconsistent
[17:09:13] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:09:59] <flaper87> adridu59: mmh, agreed. I think we could pull it off the Real trait and make it consistent with `pow`
[17:10:09] <flaper87> adridu59: I'll do that in a follow-up patch
[17:11:06] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:12:26] <adridu59> flaper87: x.pow(4) was pretty cool syntax-wise through; it is a matter of code simplification?
[17:13:05] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:13:46] *** Joins: skade (skade@moz-667246BD.web.vodafone.de)
[17:13:51] <flaper87> adridu59: the syntax was nice but dbaupp raised a couple of good reasons why they're kinda equivalent. https://github.com/mozilla/rust/pull/11503#issuecomment-32362141
[17:13:54] <flaper87> in that comment
[17:14:20] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:14:26] <flaper87> the point that convinced me is that fact that you still need to import the trait in order to use the method
[17:14:40] <flaper87> which is basically equivalent to importing pow and calling it
[17:14:46] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[17:14:57] <flaper87> I prefer the x.pow(4) syntax, though
[17:15:01] <flaper87> I still do :P
[17:15:13] <adridu59> which is not the case for powf, because the Real trait is exported by default right?
[17:15:37] <kimundi> flaper87, adridu59: Note that we likely will get T -> &T autoderef in the future, so pow(5) would work if it takes &Self
[17:15:46] <kimundi> autoref*
[17:16:01] *** Joins: new_one (new_one@A30FB7D1.8BFB2575.B3C0173E.IP)
[17:16:19] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[17:16:44] *** Quits: vadimg2 (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[17:17:00] <flaper87> adridu59: right, I don't like the inconsistency there, I did notice it before. I probably should've made that commit part of this PR
[17:17:10] <flaper87> kimundi: mmmh, interesting, is there an issue for that ?
[17:17:16] <flaper87> I'd like to subscribe to it
[17:17:17] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[17:17:36] *** Quits: benjamin_ (benjamin@moz-BEBA2A6F.dip0.t-ipconnect.de) (Ping timeout)
[17:17:37] <adridu59> flaper87: but my idea was: don't we have an Integer trait or something where we could export pow?
[17:17:57] <flaper87> adridu59: which was my original proposal :)
[17:18:03] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[17:18:09] <flaper87> adridu59: thing is that not all numbers implement the Integer trait
[17:18:28] <kimundi> flaper87: Don't know, but something _will_ change. The options are either removing ~ -> & coercion or adding T -> &T coercion, but the current situation is inconsistent and leads to people using ~ to much to make the compiler happy
[17:18:29] *** Joins: flu- (chain@moz-5E956C03.se.net)
[17:18:36] <flaper87> (IIRC)
[17:18:38] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.50.1)
[17:18:54] <adridu59> flaper87: uint and int isn't enough?
[17:18:59] <flaper87> kimundi: oh, I've done that to make the compiler happy
[17:19:04] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[17:19:45] <adridu59> I've done that till I learned in depth about pointers :p
[17:19:55] <adridu59> the next chapter of my tutorial will be about that
[17:20:11] <flaper87> adridu59: as shown in the function signature (Mul,Sdr, Clone) the required traits are fewer than the ones implemented by `Integer` 
[17:20:33] <flaper87> adridu59: which is why keeping it inside Integer didn't make much sense anymore
[17:20:45] <kimundi> flaper87: I can't speak for the future, but but it will likely end up with automatic immutable coercions of ~T and T to &T, and explicit mutable borrowing of ~T and T to &mut T
[17:20:59] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[17:21:02] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[17:21:13] <flaper87> adridu59: where's that tutorial? Some blog?
[17:21:36] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:21:41] <adridu59> flaper87: https://github.com/adridu59/rust-tuts
[17:21:43] <kimundi> takes_two_ref(5, ~5); vs takes_two_mut_refs(&mut 5, &mut*(~5));
[17:22:01] <adridu59> WIP since I'm a busy student
[17:22:13] <adridu59> but I like contributions fwiw
[17:22:14] *** Joins: Thom (Thom@moz-29BF2664.w80-9.abo.wanadoo.fr)
[17:22:17] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:22:23] <Thom> hi !
[17:22:33] <kimundi> hi Thom :)
[17:22:36] <adridu59> flaper87: what types would we be excluding if it was inside the Integer trait?
[17:22:37] <flaper87> adridu59: cool, thanks! Btw, did you know about https://github.com/flaper87/rust-for-real ?
[17:22:49] <flaper87> adridu59: I have't written that much there but I still want to keep it going
[17:24:09] <adridu59> flaper87: that's pretty cool (althrough outdated :p), I will need examples for my lab work pages
[17:24:47] <Thom> I encounter some difficulties with print. I try to print a thing like this : let x=2; println(x) // => 2; 
[17:24:49] <flaper87> adridu59: complex and rational
[17:25:01] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[17:25:05] <flaper87> adridu59: rational numbers require `Integer` but it doesn't implement the trait
[17:25:07] <adridu59> I want to teach something then practise it
[17:25:12] <flaper87> (1/2).is_even() ?
[17:25:15] <flaper87> :P
[17:25:17] <kimundi> Thom: println is only defined for string slices
[17:25:18] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[17:25:27] <flaper87> adridu59: would you like to join forces on the tutorial and the examples ?
[17:25:29] <Thom> so I have to use format ?
[17:25:29] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Ping timeout)
[17:25:38] <adridu59> flaper87: right, I don't use these often tbh
[17:25:58] <kimundi> Thom: Right, but we have a println!() macro for that: 
[17:26:03] <kimundi> rusti: println!("{}", 5u);
[17:26:04] -rusti- 5
[17:26:04] -rusti- ()
[17:26:09] <flaper87> adridu59: right, but you should still be able to do (1/2)^2
[17:26:14] <kimundi> that uses format directly
[17:26:16] <flaper87> adridu59: so there's a case
[17:26:29] <flaper87> I also tried to move the pow implementation under `Mul`
[17:26:38] <flaper87> but that required more types to be bounded to `Mul`
[17:26:40] <adridu59> kimundi: println isn't in prelude anymore anyways
[17:26:43] <flaper87> and it's not worth it
[17:26:58] <kimundi> Thom: In fact, on the current master branch of Rust, the bare println() function has been removed from the prelude, making println!() the only canonical way to call it
[17:27:02] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[17:27:14] <adridu59> flaper87: I see
[17:27:36] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[17:27:42] <adridu59> flaper87: well I'd like to but my writeup isn't 100% "by example"
[17:28:04] <flaper87> adridu59: that's fine. you contribute to rust-for-real and I contribute to rust-tut
[17:28:07] <flaper87> :D
[17:28:36] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:28:53] <adridu59> flaper87: :)
[17:29:05] <Thom> I've still an error with ; use std::fmt; println!("x = {}",x); // error: macro unefined: 'println'
[17:29:24] *** Quits: skade (skade@moz-667246BD.web.vodafone.de) (Connection reset by peer)
[17:29:31] *** Quits: ljrmorgan (Mibbit@10DE4E3D.84C11B46.A3649FCA.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:29:37] <adridu59> flaper87: I have a sh script to keep my code up-to-date in case you are interested https://github.com/adridu59/rust-tuts/blob/gh-pages/code/run-tests.sh
[17:30:15] <adridu59> just does the testing automatically, but as I did it it needs all files in the current folder; that's how I stack my samples
[17:30:32] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[17:30:40] <kimundi> Thom: Which version of Rust are you using?
[17:30:43] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[17:30:52] *** Joins: mouse (mouse@moz-32DFB3CF.broadband.corbina.ru)
[17:30:56] <lynks> What kind of timeline are we looking at for a stable release/1.0 tag?
[17:31:07] <lynks> months? years? lifetimes?
[17:31:15] <kimundi> lynks: Sometime before the end this year, probably
[17:31:59] <lynks> kimundi: thats good news, I'll apply the standard software time constant though, which in my experience is about 3.2
[17:32:14] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[17:32:56] <kimundi> lynks: haha, thats reasonable I guess :)
[17:33:09] <Thom> I want to install the 0.9, but I don't know how to verify in my system
[17:33:30] *** jorendorff is now known as jorendorff_away
[17:33:35] <kimundi> Thom: What do you mean with "verify" - which OS are you using?
[17:33:43] <Thom> i was looking forrust --version
[17:34:04] <kimundi> rustc -v
[17:34:13] *** jorendorff_away is now known as jorendorff
[17:34:17] <kimundi> The rust tool got removed in 0.9
[17:34:29] <Thom> argh 0.7... that why I can't... thanks for the help
[17:34:36] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[17:34:39] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[17:34:42] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[17:34:45] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[17:34:48] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[17:34:51] <bascule>                                         
[17:36:38] <kimundi> Ah, is it 6 pm already? :P
[17:37:00] <bascule> lol
[17:37:54] <adridu59> kimundi: you made the rust tool right? have you thinked about bringing it back?
[17:38:33] <adridu59> thought I mean
[17:38:40] *** jorendorff is now known as jorendorff_away
[17:38:42] <kimundi> adridu59: Everytime someone got used to it and upgrades to 0.9 and misses it I'm thinking about it - so ~3 times a week :P
[17:39:04] <kimundi> adridu59: But I honestly don'T know what I should change to bring it back
[17:39:19] <adridu59> kimundi: what was wrong with it?
[17:40:47] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[17:41:03] <kimundi> adridu59: It used to segfault because someone used libc's exit() in it, and that defect lasted long enough for it to be seen as broken - even though it got fixed in the end.
[17:41:23] *** Joins: skade (skade@moz-667246BD.web.vodafone.de)
[17:41:47] <kimundi> Also, I reinvented getopts in it and implemented rust run and rust test in not very portable ways :P
[17:41:59] <adridu59> oh
[17:42:11] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:42:27] <adridu59> would it be hard to implement it properly?
[17:42:30] *** Quits: yoyoyo_imjoebobjoe (Mibbit@moz-38C83F8F.cise.ufl.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[17:42:53] <kimundi> But still, it was tiny enough that I never quite understood why removing it was easier than fixing it - which brings us to the problem that probably I should've kept an eye on it and maintained it :P
[17:43:18] *** Quits: skade (skade@moz-667246BD.web.vodafone.de) (Ping timeout)
[17:43:57] *** Joins: mentero (mentero@moz-D61C6F02.proxnet.pl)
[17:44:08] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:44:30] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[17:44:51] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[17:44:55] <kimundi> adridu59: Not really - It just involves linking to rustc, invoking it on a input file to produce a binary, calling that binary, then removing that binary.
[17:45:35] <adridu59> kimundi: oddly enough, they said there was no maintainer in a meeting https://github.com/mozilla/rust/issues/9775
[17:46:07] <kimundi> adridu59: Well, there wasn't - I didn'T maintain it, I just commited the code.
[17:46:15] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[17:46:16] *** Quits: olem_ (olem@moz-D8B40BE5.fbx.proxad.net) (Quit: Leaving...)
[17:46:18] <adridu59> right
[17:46:42] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Quit: Leaving...)
[17:47:00] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[17:47:25] <kimundi> It was one of my earlier contributions, and I've not yet developed the skill to actually maintain the code I'm writing - my thinking was that its small enough that it wouldn't matter, but I turned out to be wrong about that. :P
[17:47:44] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[17:48:06] <adridu59> haha
[17:48:59] <Tobba> hah
[17:49:11] <Tobba> trying to design some sort of RPC interface
[17:49:20] <Tobba> there has to be some way to do this cleanly
[17:51:21] *** Joins: vmx (vmx@moz-3FAEC8A8.pools.arcor-ip.net)
[17:51:36] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[17:51:46] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[17:52:41] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:53:23] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[17:53:25] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Quit: moostik)
[17:53:26] <pepper_chico> guys, is there a way to declare a static array variable (let a:[int, ..3]) and initialize it afterwards, but not with the a = [1, 2, 3] syntax?
[17:53:48] <Tobba> I guess I can use a massive macro to generate wrapper functions around the members of an object, but ugh
[17:54:15] <pepper_chico> like, loop initialize it
[17:54:31] <pepper_chico> say, declare a mutable array, it can be mutable
[17:54:37] <pepper_chico> but still
[17:54:38] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[17:54:40] <kimundi> pepper_chico: Not safely possible
[17:55:03] <pepper_chico> ... a ok
[17:55:24] <kimundi> pepper_chico: you could write a loop using unsafe code to initialize the array, which if done correctly would work
[17:55:39] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[17:55:56] <pepper_chico> kimundi, for example, if I could declare it with a zero initialized array, and then, fill it afterwards?
[17:56:11] <pepper_chico> can I declare it mutable with a zero initialized array?
[17:56:28] <pepper_chico> I know of from_elem, but it's for ~[T]
[17:56:38] <kimundi> what do you mean with zero initialized?
[17:56:39] <pepper_chico> not [T,..N]
[17:57:03] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[17:57:11] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[17:57:35] <pepper_chico> kimundi, it to be born with an array full of T with default value, anyway, it may be meaningless in rust =D
[17:57:43] <kimundi> If its just about a fixed sized array literally containing the type int, then you can just initialize it with [0,0,0] and iterate over it and put the proper integer values in
[17:57:44] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:57:57] <Matthias247> do you search let a:[int,..3] = [0, ..3] ?
[17:58:04] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[17:58:09] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:58:17] <pepper_chico> Matthias247, I think I tried that
[17:58:24] <pepper_chico> didn't work
[17:58:29] <Matthias247> it does ;)
[17:58:37] <pepper_chico> will try again
[17:58:44] <kimundi> It only works with pod data, like ints
[17:58:54] <kimundi> not if you want to put a moving type in it
[17:59:11] <pepper_chico> ah it works, I forgot the comma
[17:59:18] <pepper_chico> ok
[17:59:20] <pepper_chico> thanks
[18:00:29] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[18:01:12] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[18:02:04] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:02:29] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[18:03:45] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:04:56] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:04:56] *** ChanServ sets mode: +ao brson brson
[18:05:05] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:05:18] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[18:05:28] *** Joins: Ferreus_ (ferreus@moz-7F37474A.pools.arcor-ip.net)
[18:05:40] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[18:06:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:06:30] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:08:16] <hoverbear> This is so weird, I have a pull request on github and the page just refuses to load
[18:08:25] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[18:08:25] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[18:08:29] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:08:29] *** ChanServ sets mode: +ao brson brson
[18:08:37] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[18:08:53] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:09:12] *** Joins: FreeFull (freefull@moz-B7219F18.as13285.net)
[18:09:34] *** Parts: Thom (Thom@moz-29BF2664.w80-9.abo.wanadoo.fr) ()
[18:13:00] *** Joins: eibwen (kvirc@moz-B2DA3C68.dip0.t-ipconnect.de)
[18:13:20] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:14:21] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[18:14:49] <huhlig> ok , I am feeling right stupid now. How can I unclude a hashmap or set inside a struct
[18:14:55] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Quit: This computer has gone to sleep)
[18:15:01] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[18:15:39] <huhlig> struct Vertex { prop: HashSet::<u64>::new() } doesnt work, nor any permutation I can think of and I cant see an example of embeded generics in another struct
[18:15:49] <sfackler> huhlig: struct Foo { map: HashMap<Blah, Baz> }
[18:16:12] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[18:16:13] <sfackler> and then you can make a Foo with
[18:16:21] <sfackler> Foo { map: HashMap::new() }
[18:17:10] <huhlig> ahh
[18:17:14] <kimundi> rusti: struct Foo { map: HashSet<u64> } let s: Foo = Foo { map: HashSet::<u64>() }; s
[18:17:18] -rusti- pastebinned 10 lines of output: http://ix.io/9Wo
[18:17:28] <kimundi> rusti: struct Foo { map: HashSet<u64> } let s: Foo = Foo { map: HashSet::<u64>::new() }; s
[18:17:30] -rusti- pastebinned 16 lines of output: http://ix.io/9Wp
[18:17:41] <huhlig> so it has no default constructor
[18:17:57] <kimundi> The Rust language has no constructors at all :)
[18:18:22] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[18:18:25] <huhlig> ...
[18:18:30] <huhlig> what do you call new then
[18:18:39] <kimundi> Thats a plain old function
[18:18:46] <kimundi> Its nothing special
[18:18:50] <huhlig> thats what a constructor is
[18:19:00] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[18:19:02] <huhlig> kimundi when is RIIA done
[18:19:04] <huhlig> ?
[18:19:12] <kimundi> RIAA?
[18:19:19] <Edwards> RAII?
[18:19:19] <eibwen> RAII I guess
[18:19:28] <huhlig> RAII yeah
[18:19:37] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:19:40] <huhlig> I am feeling foggy this morning sorry
[18:19:55] <huhlig> I assume that all primitives have initialization values
[18:20:07] <huhlig> and are not left to the whim of prior memory contents 
[18:20:50] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:20:59] *** Joins: yuriks_ (yuriks@8E8458DA.1755AC6C.F6EE4B40.IP)
[18:21:05] <kimundi> huhlig: Correct. For a struct like "struct Foo { bar: uint }", the expression "Foo { bar: 5}" is a constructor expression for a initialized value of type Foo
[18:21:12] <huhlig> last I checked that was in some form of constructor even if its hidden
[18:21:24] <huhlig> ok
[18:21:27] *** Quits: yuriks (yuriks@50BCCB4D.6C9AD9C4.8E0C6B01.IP) (Ping timeout)
[18:21:38] <kimundi> We don't support unitialized structs.
[18:21:38] *** Quits: Ferreus_ (ferreus@moz-7F37474A.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[18:21:47] <huhlig> kimundi ahh
[18:22:07] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[18:22:13] <huhlig> so Foo {} is invalid?
[18:22:20] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[18:22:25] <huhlig> because not all fields were initialized
[18:22:25] <kimundi> something like HashSet::new() ist just defined as "return HashSet { internal_data: ... }"
[18:22:30] <kimundi> correct
[18:22:36] <huhlig> gotcha
[18:23:08] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[18:24:10] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:24:13] *** Joins: Thom (Thom@moz-29BF2664.w80-9.abo.wanadoo.fr)
[18:24:24] <kimundi> But I should correct myself - the Rust language has no OOP-like constructors that run arbitrary code to initialize the memory of a value. Constructor expressions for types in general exist of course.
[18:24:39] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[18:25:27] <nemo> so. this is a noob question
[18:25:43] <huhlig> kimundi: ok that makes some sense
[18:25:48] *** Quits: nulldata (chatzilla@moz-C5F891AC.seas-nve.net) (Ping timeout)
[18:26:00] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[18:26:02] <nemo> http://www.freepascal.org/docs-html/ref/refse92.html - would the equiv in rust be impl?
[18:26:04] <huhlig> still trying to wrap my head around some of the very odd design decisions around rust
[18:26:35] *** Joins: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net)
[18:26:44] <nemo> huhlig: ooh. like which ones? so far, seems fairly rational to me, but. noob etc.
[18:27:04] <huhlig> removal of polymorphic types is one
[18:27:15] <huhlig> yes dynamic dispatch is slower
[18:27:23] <huhlig> but still has its uses
[18:27:42] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[18:27:43] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[18:27:44] <kimundi> nemo: I'm not sure, but I think rusts equivalient would be type or trait definition + impl
[18:27:45] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[18:28:20] <pepper_chico> no to_str() for two dimensional arrays?
[18:28:20] <huhlig> lack of constructors/default values is another
[18:28:21] <kimundi> huhlig: We have dynamic dispatch in the form of trait objects, its just not the default and recommended way to deal with generic code :)
[18:28:46] <huhlig> I thought use of traits with impl used static code generation
[18:28:56] <nemo> huhlig: ah. I guess I'm thinking of it as "safer C"
[18:29:08] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[18:29:10] <kimundi> pepper_chico: if your arrays consist of fixed sized ones, then you will find that pretty much nothing is implemented for them, because we actually can not express a generic impl over them at the moment :)
[18:29:18] <nemo> huhlig: so I suppose I'm finding it more "ooh, I have X" rather than "dammit, no OOP Y"
[18:29:57] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Ping timeout)
[18:30:01] <huhlig> I think the problem I am having is it makes coding plugin style architectures a bit more difficult
[18:30:12] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[18:30:23] <pepper_chico> kimundi, ah ok, I was thinking of adding them to a tutorial, but indeed, I finding too much limitations in them
[18:30:25] <kimundi> huhlig: fn foo<T: Trait>(t: &T) {} will always do static dispatch. fn foo(t: &Trait) will always do dynamic dispatch
[18:30:36] *** Joins: jsonnull (Thunderbir@E86DD23.582C899D.494A0F8B.IP)
[18:30:39] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[18:31:06] <huhlig> ...
[18:31:24] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[18:31:24] <huhlig> so defining the generic in the function deffinition will make it static?
[18:31:31] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:31:52] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[18:31:55] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:31:55] *** ChanServ sets mode: +ao brson brson
[18:32:11] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[18:32:15] <kimundi> huhlig: The left one is a generic function, and all generic functions are statically dispatched. The right function uses a trait object, which enables dynamic dispatch
[18:32:59] <huhlig> so traits are both interfaces and traits now?
[18:33:01] <kimundi> A trait object is basically a two element struct of (pointer to value, pointer to vtable)
[18:33:18] <kimundi> huhlig: traits can be used as something like a interface, yeah
[18:33:34] <huhlig> ick. that looks like it would get confusing quickly
[18:33:41] <kimundi> Both styles have advantages and disatvantages though,
[18:34:04] <kimundi> huhlig: Why?
[18:34:06] <huhlig> so what determines if your struct implements statically or dynamically?
[18:34:23] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:34:29] <kimundi> huhlig: The implementations of a trait is independent of how it is used
[18:34:37] <pepper_chico> I don't find it confusing coming from c++ background.... a template argument is resolved statically, a pointer to an interface can point to any deriving class
[18:35:06] <huhlig> pepper_chico: I went from C to Java and skipped C++
[18:35:10] <pepper_chico> ah
[18:35:16] *** Joins: alonlevy (alon@43694F0C.262190E0.9E22F775.IP)
[18:35:20] <pepper_chico> that's the reason
[18:35:31] <huhlig> so for me, OOP in C was just struct with first parameter as a pointer
[18:35:58] <huhlig> in java, its implied and everything is a reference
[18:36:00] <pepper_chico> well, I find rust borrows a lot from good parts of c++, and haskell, I think, although I don't know much haskell
[18:36:20] <pepper_chico> yeah, I know a bit of java, I don't like it...
[18:36:36] <huhlig> java is a very businessey language
[18:36:39] <nemo> https://launchpad.net/~hansjorg/+archive/rust - good ppa to use?
[18:36:43] <kimundi> struct Foo; trait Bar { fn bar(&self); } impl Bar for Foo { fn bar(&self) {} } let bare_type = Foo; let trait_object = &bare_type as &Bar; bare_type.bar(); trait_object.bar();
[18:36:57] <kimundi> rusti: struct Foo; trait Bar { fn bar(&self); } impl Bar for Foo { fn bar(&self) {} } let bare_type = Foo; let trait_object = &bare_type as &Bar; bare_type.bar(); trait_object.bar();
[18:36:58] -rusti- ()
[18:36:59] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[18:36:59] <huhlig> its ungodly verbose and its level of abstraction while annoying is useful
[18:37:38] *** Quits: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr) (Quit: Gone)
[18:37:38] <huhlig> so basically rust goes back to the old C style of OOP
[18:37:47] <nemo> pepper_chico: unc0rr is talking about rewriting our haskell server in rust :)
[18:37:56] <nemo> pepper_chico: which for me would only improve readability
[18:37:57] <kimundi> huhlig: The Rust language is definitly a bit lacking in a few features that Java is good at.
[18:38:00] <huhlig> objects don't exist just functions which take a reference
[18:38:13] <pepper_chico> huhlig, I find this simple post about OO interesting http://joshldavis.com/2013/06/16/the-rise-of-the-gang-of-four-with-rust/
[18:38:16] <pepper_chico> nemo, cool
[18:38:35] <nemo> sooo https://launchpad.net/~hansjorg/+archive/rust - good way to get rust on ubuntu?
[18:38:40] <kimundi> huhlig: Right - but we offer syntax to make usage of them similar like in language where objects exist
[18:38:46] <huhlig> I think my biggest problem with understanding rust right now is lack of accutare documentation
[18:38:59] <pepper_chico> nemo, I compile it myself on ubuntu...
[18:39:02] <nemo> hm
[18:39:07] <kimundi> Yeah, that is a continuing pain point for us ._.
[18:39:10] <huhlig> whenever I do a search to try and undersand something... I find that that was deprecated or removed
[18:39:11] *** Quits: Thom (Thom@moz-29BF2664.w80-9.abo.wanadoo.fr) (Ping timeout)
[18:39:13] <nemo> pepper_chico: have enough projects I'm keeping track of that way :)
[18:39:21] <pepper_chico> haha
[18:39:27] <nemo> pepper_chico: also, I'd like to replicate what we would consider imposing on the poor distros. you know. actual versioned builds
[18:39:32] <huhlig> its like I was trying to use Iface and class after reasing a page on it
[18:39:36] <huhlig> reading
[18:39:41] <pepper_chico> I see
[18:39:57] *** Quits: sellout (Adium@1ED20A07.5E67B0BF.C5F4E277.IP) (Quit: Leaving.)
[18:40:01] *** Joins: Thom (Thom@moz-382758D1.w80-9.abo.wanadoo.fr)
[18:40:07] <pepper_chico> well, rust is still influx yeah
[18:40:10] <huhlig> turns out that it was rippped out despire the page only being from 6 months ago
[18:40:11] <kimundi> huhlig: Heh, for Rust the rule of the thumb is deffintly to only read the core documentation on the language, and in case its rubbish ask here :)
[18:40:16] <huhlig> and I understand that
[18:40:23] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[18:40:32] <pepper_chico> I hope it gets more popular and better, I find it shining =)
[18:40:37] <huhlig> kimundi: my only problem with that is that there is a severe lack of examples in the docs 
[18:41:06] <huhlig> I assume that will get fixed in time
[18:41:22] <huhlig> but for now it makes life more difficult
[18:41:27] <kimundi> huhlig: Yeah
[18:42:00] <pepper_chico> huhlig, I'm building a tutorial with purpose of providing fundamental, and more complex examples
[18:42:01] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[18:42:10] <pepper_chico> building around examples I mean
[18:42:31] <huhlig> pepper_chico: honestly a good from scratch, tutorial would be good
[18:42:39] <pepper_chico> hence I came here from time to time asking some basic stuff I don't know =D
[18:43:02] <huhlig> here is how you create a larger project with multiple source files and structure
[18:43:20] <huhlig> every example I see is a simple hello world with one file
[18:43:44] * huhlig is still trying to figure out how to actually build an application with everything properly linked together
[18:43:47] <pepper_chico> good, I will try put stuff like that after the basic part
[18:44:35] <kimundi> huhlig: Our documentation is certainly a patchwork of continous fixes that have been done to them as the language evolved - thats their main problem
[18:44:48] <hoverbear> Can anyone here open this github link? https://github.com/Hoverbear/rust-rosetta/pull/6
[18:45:04] <sfackler> hoverbear: yep
[18:45:15] <pepper_chico> yep
[18:45:16] <hoverbear> sfackler: wtf :S I've been trying for hours
[18:45:23] <eibwen> hoverbear: yes
[18:45:36] <hoverbear> Thanks you three :)
[18:45:39] <eibwen> hoverbear: you could try it through a proxy
[18:45:59] <kimundi> huhlig: For Rusts module system, look here: http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[18:46:25] <hoverbear> eibwen: Used Chrome and it works, I blame FF nightly
[18:46:40] <eibwen> I'm using FF, without the nightly
[18:46:51] <eibwen> no newline at end of file, btw
[18:46:56] <eibwen> (evil ;)
[18:47:13] *** Joins: GreyKnight (GK@moz-1DFE40B6.range86-181.btcentralplus.com)
[18:47:35] <eibwen> when I see this `for s in strings.move_iter()` stuff
[18:48:08] <eibwen> would that be as fast as `for(int i = 0; i < sizeof(strings)/sizeof(strigns[0]); i++)` in C?
[18:48:11] <Ms2ger> Yes
[18:48:14] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:48:47] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[18:50:41] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[18:51:01] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:51:09] <eibwen> Ms2ger: can I somewhere see the source of move_iter?
[18:51:45] <Ms2ger> The documentation should have a [src] link somewhere
[18:52:03] <Ms2ger> I can check when my browser gets going
[18:53:29] *** Quits: mouse (mouse@moz-32DFB3CF.broadband.corbina.ru) (Ping timeout)
[18:55:49] <eibwen> Ms2ger: I can't find it, it doesn't seem to be in iter.rs
[18:56:05] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[18:57:06] <Ms2ger> http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/vec.rs.html#1481-1488
[18:57:11] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[18:57:48] *** Quits: alonlevy (alon@43694F0C.262190E0.9E22F775.IP) (Quit: Leaving)
[18:59:08] *** Joins: nulldata (chatzilla@moz-C5F891AC.seas-nve.net)
[19:00:46] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[19:01:51] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[19:01:54] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:02:04] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:02:10] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[19:02:10] *** Joins: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP)
[19:02:12] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:02:22] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[19:02:30] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:02:30] *** ChanServ sets mode: +ao dherman dherman
[19:02:53] <_Vi> Is there something like http://static.rust-lang.org/doc/0.9/guide-ffi.html , but interfacing with something like qsort_r(3) instead of callback-less snappy?
[19:03:11] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Quit: This computer has gone to sleep)
[19:03:40] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Ping timeout)
[19:03:50] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:04:05] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:04:14] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:05:27] <Matthias247> _Vi: maybe that version? https://github.com/Matthias247/rust/blob/393191d914a14aa1a0ad10ffe54ff23940671353/doc/guide-ffi.md
[19:05:44] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[19:05:49] *** Joins: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr)
[19:09:01] *** Joins: xorcon (Mibbit@moz-4014DDC7.ga.at.cox.net)
[19:09:33] <_Vi> Matthias247, Will this be in the official ffi tutorial in later versions?
[19:09:52] <Matthias247> i issued a pull request for it ;)
[19:10:30] <Matthias247> Maybe dbaupp or acrichto can review it once more and decide :)
[19:12:09] *** Joins: ecr (chatzilla@moz-DAE92F72.dhcp4.washington.edu)
[19:12:49] *** Quits: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Ping timeout)
[19:15:14] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[19:15:59] *** Quits: xorcon (Mibbit@moz-4014DDC7.ga.at.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:18:56] <escalant3> what is the most idiomatic way of representing a bi-dimensional array of uint in Rust? My first attempt with let a = ~[~[1,3],~[2,5]] does not feel right
[19:19:07] <Ms2ger> Looks right to me
[19:20:22] <escalant3> When it grows it's a lot of pointer symbols everywhere. I don't know passing it to functions that then expect fn my_fun(table: ~[~[int]]) felt weird
[19:20:23] *** Quits: FreeFull (freefull@moz-B7219F18.as13285.net) (Ping timeout)
[19:20:41] <escalant3> but then it could be because I am new to Rust :)
[19:21:28] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[19:21:32] <kimundi> escalant3: Well, the more efficient way would be to use fixed sized arrays for the inner and maybe outer type - but they are hard to work with because of language deficiencies
[19:21:59] *** Quits: bmats (bmats@moz-87F0A991.hfc.comcastbusiness.net) (Client exited)
[19:22:03] <escalant3> I want to solve a problem with NxN matrices 
[19:22:15] <kimundi> let foo = ~[[1, 2], [2, 3]] - that would be a dynamic that contains arrays with the fixed length 2
[19:22:21] <escalant3> so the size me be different depending of the simulation. But it's fixed during the excution
[19:22:48] <escalant3> *may be
[19:22:59] *** jorendorff_away is now known as jorendorff
[19:23:05] <kimundi> escalant3: Hm, your best bet is probably to just use one ~[T], and manually calculate the index from a x, y index
[19:23:28] *** Quits: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:23:33] *** Joins: FreeFull (freefull@moz-4F046D30.as13285.net)
[19:24:00] *** Joins: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:24:35] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:25:06] <escalant3> kimundi: thanks! I will do some experiments around that idea later. I got kind of stuck last night
[19:25:40] *** Quits: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:26:47] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[19:27:01] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Connection reset by peer)
[19:27:05] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:27:05] *** ChanServ sets mode: +ao dherman dherman
[19:27:14] *** Joins: mauricioc (mauricioc@578B4D.126E90D3.7C06F980.IP)
[19:27:22] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:28:28] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[19:28:32] *** Joins: logicalparadox (logicalpar@7726D6BC.E47643E6.AF265B38.IP)
[19:29:32] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[19:30:09] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[19:30:14] *** Joins: jviereck1 (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[19:30:16] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Connection reset by peer)
[19:32:56] <huhlig> ok I am feeling stupid again
[19:33:04] <huhlig> my file header contains
[19:33:23] <huhlig> https://www.irccloud.com/pastebin/DBtUkuxP
[19:33:39] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:33:43] <huhlig> but Im still getting this 
[19:33:49] <huhlig> warning: missing crate link meta `name`, using `graph` as default
[19:33:50] <huhlig> warning: missing crate link meta `vers`, using `0.0` as default
[19:34:02] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:34:08] <kimundi> huhlig: YOu are missing a semicolon behind each of those attributes
[19:34:13] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:34:21] <kimundi> without them, they apply to the next item in the module
[19:34:53] <huhlig> so with them it applies to the module itself?
[19:35:20] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:35:29] <huhlig> https://www.irccloud.com/pastebin/yzo0kmkB
[19:35:34] <kimundi> yeah, with them it applies to the outer module - which in the case of the crate root would mean the crate itself
[19:35:46] <huhlig> huhlig@US154602:~/Projects/Arachne/src/graph$ rustc --lib graph.rs
[19:35:46] <huhlig> warning: missing crate link meta `name`, using `graph` as default
[19:35:47] <huhlig> warning: missing crate link meta `vers`, using `0.0` as default
[19:35:54] <huhlig> nope same problem
[19:36:09] <huhlig> shouldnt including the crate_type remove the need for --lib?
[19:36:39] <kimundi> replace create_* with crate_* ;)
[19:36:57] *** Joins: jed (jed@moz-9E36FDA5.lightspeed.stlsmo.sbcglobal.net)
[19:37:09] <huhlig> same problem
[19:37:17] <huhlig> is crate_id deprecated
[19:37:35] <kimundi> its actually the new replacement - are you running 0.9?
[19:37:51] <huhlig> I think...
[19:37:55] <huhlig> le tme double check
[19:38:15] <huhlig> ahh no... im on 0.7
[19:38:21] <huhlig> wait... why
[19:38:29] <kimundi> ah, that explains it - your half a year behind ;)
[19:38:51] <kimundi> Are you using "rustc" directly or the "rust" tool?
[19:39:09] <huhlig> rustc
[19:39:17] <kimundi> okay, thats good
[19:39:25] <huhlig> I installed 0.9 yesterday....
[19:39:28] <kimundi> hm, how did you install it?
[19:39:35] <huhlig> package
[19:39:47] * huhlig checks to see if update-alternatives screwed da pooch
[19:39:49] <kimundi> which package? which OS are you using?
[19:40:19] <huhlig> ubuntu
[19:40:20] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[19:40:44] <ecr> didn't there used to be a zero sized 'Noncopyable' type that you could add as a field in a struct to make it noncopyable?
[19:40:48] <ecr> what happened to that?
[19:40:50] <kimundi> ouh, then you are in luck! For ubuntu, there are actually nightly packages - which I heartly recommend to use
[19:41:01] <kimundi> ecr: Still Exists
[19:41:09] <epdtry> ecr: http://static.rust-lang.org/doc/master/std/util/struct.NonCopyable.html
[19:41:25] <kimundi> huhlig: https://launchpad.net/~hansjorg/+archive/rust
[19:41:26] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:41:38] <ecr> ah thanks. somehow I missed it even when I looked in std::util
[19:41:55] <ecr> that's what I get for not being awake yet
[19:42:43] <huhlig> im already using hans's packages
[19:42:52] <kimundi> ah, okay
[19:43:13] <kimundi> then I don't know more, never actually installed and worked with it :)
[19:43:34] <huhlig> althought not the nightlys
[19:43:38] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[19:43:56] <huhlig> pity the windows version isnt based on clang yet
[19:44:06] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[19:44:15] <kimundi> huhlig: I recommend using the nightly, using a point release has no real advantage
[19:44:24] <huhlig> fair enough
[19:44:27] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Client exited)
[19:44:32] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:44:32] *** ChanServ sets mode: +ao dherman dherman
[19:44:38] <huhlig> kimundi: is there a good IDE yet for rust?
[19:44:52] *** Joins: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[19:44:55] <huhlig> I've seen rusty cage but after many years of java I cant stand eclipse
[19:45:21] <kimundi> huhlig: Not really - there are a bunch of syntax highlining files included in the repo, though. I'm just using Kate
[19:45:48] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:47:28] <o11c> general consensus is that whoever writes the first decent IDE gets to call it 0x1de
[19:47:44] <huhlig> ox1DE?
[19:47:51] <kimundi> haha :P
[19:47:53] <huhlig> cute
[19:48:20] <sully> that's good
[19:48:20] <flu-> that is awesome
[19:48:32] <Tobba> OxIDE is amazing enough
[19:48:49] <sbalmos> you're welcome
[19:49:14] <flu-> '0x1de' is a very google-friendly name too. 
[19:51:23] <huhlig> hey kimundi, what do you use for build managment
[19:51:39] <huhlig> cmake? hand written Makefiles?
[19:51:54] *** Joins: divtxt (Mibbit@E8639AA5.586EBD63.89C9E32E.IP)
[19:52:39] *** Quits: new_one (new_one@A30FB7D1.8BFB2575.B3C0173E.IP) (Client exited)
[19:52:46] <kimundi> huhlig: I mostly just hack on the std library, I don't have a project big enough that ever actually waranted me to lear about build management. :P - A lot of Rust user just use make and stuf.
[19:53:15] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[19:53:19] *** Quits: ecr (chatzilla@moz-DAE92F72.dhcp4.washington.edu) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20140113161826])
[19:53:27] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[19:53:42] <erickt> acrichto: ping. You might be able to help this person out more than I could: https://mail.mozilla.org/pipermail/rust-dev/2014-January/008033.html
[19:54:23] <acrichto> erickt: ah yes I'll respond to that
[19:54:36] <erickt> acrichto: thanks :)
[19:56:22] <divtxt> question: let mut i = 42;
[19:56:49] <Ms2ger> Yes?
[19:56:50] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[19:56:56] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[19:57:03] <divtxt> is the space for the i allocated on the stack / unboxed; or is it boxed; or "it depends"?
[19:57:07] <Ms2ger> diverse, warning: unused variable, unused mutability
[19:57:14] <Ms2ger> On the stack, unboxed
[19:57:15] <kimundi> divtxt: That's a statement, not a question. /rimshot
[19:57:21] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:57:26] <kimundi> On the stack :)
[19:57:45] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:57:45] <divtxt> ok
[19:57:53] <kimundi> We don't have implicit heap boxes - every heap allocation will be visible
[19:58:15] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:58:20] <divtxt> in the tutorial seciton 9.2 Move Semantics
[19:58:28] <kimundi> Like, let mut i = ~5; is  a heap allocation, or let i = Rc::new(5);
[19:58:32] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[19:58:46] <divtxt> there's an example that's a bit confusing
[19:59:00] <kimundi> Shoot
[19:59:10] <divtxt> just before 9.3
[19:59:11] <divtxt> let mut xs = Nil; xs = prepend(xs, 1);
[19:59:13] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:59:34] <divtxt> it's making a linked list, but xs is on the stack!
[19:59:54] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:59:55] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[20:00:05] <divtxt> should it have been let mut xs = ~Nil
[20:00:14] <Ms2ger> Link?
[20:00:16] <kimundi> divtxt: No, thats correct already
[20:00:19] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[20:00:23] <kimundi> divtxt: The head is on the stack here
[20:00:25] <divtxt> http://static.rust-lang.org/doc/0.9/tutorial.html#ownership
[20:00:46] <divtxt> ok - so rust will check that the reference is not kept beyond that scope?
[20:01:02] <kimundi> divtxt: Once you call append(), the head moves into the function, where it gets boxed in a ~ and used as a new link in the chain
[20:01:09] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[20:01:13] <Ms2ger> prepend
[20:01:16] <kimundi> The function then returns a new unboxed head of the linked list
[20:01:28] *** Joins: nif (nif@moz-84FF761D.oberlin.net)
[20:01:38] <Ms2ger> It'll copy the List, I guess
[20:01:40] <rdn> rusti: pub struct Example {x: *int, } fn callx(x: *mut int) {println!("{}", *x); } fn example(ex: &mut Example) {callx(ex.x) }
[20:01:42] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:01:43] -rusti- pastebinned 7 lines of output: http://ix.io/9Wy
[20:01:50] *** Quits: moostik (Icedove@moz-1FF02BE5.w92-151.abo.wanadoo.fr) (Ping timeout)
[20:01:50] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:01:58] <Ms2ger> Missing unsafe
[20:02:04] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:02:06] <kimundi> The head itself contains a a owned box to a heap allocation after that, of course
[20:02:19] <jed> I have a bit of a stupid question; where am I missing a type parameter in ImplName::simple_function::<T>(arg0); ?
[20:02:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:02:40] <divtxt> ok - so the original List is copied from the stack structure into a new heap box?
[20:02:45] <jed> ImplName takes only a single type parameter T
[20:02:57] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[20:03:10] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[20:03:16] <nif> can someone explain to me what it means to bind by-move?
[20:03:18] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[20:03:31] <kimundi> divtxt: yes, but it is a shallow copy, and the list transfers ownership into the function - the actually heap values don't get reallocated
[20:03:45] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:03:45] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[20:04:51] <divtxt> hehe my head hurts trying to understand this :)
[20:04:58] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[20:05:30] <divtxt> is xs always unboxed/heap or does it change to be a boxed reference after the first prepend() ?
[20:05:34] <kimundi> divtxt: You can think of it like the content of the stack variable literally moving if you call the function with it
[20:05:55] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[20:05:58] <kimundi> divtxt: xs is a new value after the prepend, the value that prepend retuned
[20:06:01] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[20:06:17] <divtxt> ok in C terms:
[20:06:29] <kimundi> divtxt: prepend will likely explcitly box the original xs you passed in, and use it as the next link for the returned new xs value
[20:07:06] <divtxt> let mut xs = Nil;  // xs is stack structure
[20:07:29] <kimundi> divtxt: Correct so far
[20:07:35] *** Joins: kris_ (kris@moz-5A7B69C7.math.ku.dk)
[20:07:35] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:07:35] *** ChanServ sets mode: +o tjc
[20:08:03] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[20:08:09] <divtxt> xs = prepend(xs, 1); // calls prepend with xs as pass by value argument
[20:08:11] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[20:08:14] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[20:08:15] <kimundi> yes
[20:08:24] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[20:08:36] <divtxt> fn prepend(xs: List, value: u32) -> List { Cons(value, ~xs) }
[20:09:17] *** Joins: maxiepoo (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[20:09:17] <divtxt> a new List is allocated on the heap, the contents of arg xs is copied into it...
[20:09:26] *** Joins: notmatt (notmatt@318A02F5.68FFFFA3.47C41102.IP)
[20:09:33] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[20:09:36] <kimundi> yup
[20:09:58] <divtxt> a new local stack List is initialized with type Cons, value =1, next = pointer to the new heap struct
[20:10:06] <divtxt> then returned by value
[20:10:15] <kimundi> exactly
[20:10:17] <divtxt> back to xs = ...
[20:10:34] <divtxt> the return by value is copied over into the local heap struct of xs
[20:10:53] <kimundi> well, it replaces it
[20:10:58] <divtxt> yup
[20:11:04] <divtxt> ok got it!
[20:11:13] <divtxt> thanks!
[20:12:41] <divtxt> ok that makes sense now - the implicit boxing / copy is not obvious
[20:12:58] <kimundi> divtxt: with the ~ operator you mean?
[20:13:19] <igork> actually ~ means boxing, if i got it correct
[20:13:29] <divtxt> yeah that makes sense
[20:13:33] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[20:13:48] <divtxt> but previously in the tutorial you only ever see ~Type/EnumTag
[20:13:51] <divtxt> never ~variable
[20:13:52] <kimundi> We are currently switching to the box keyword for that reason :)
[20:14:00] <divtxt> haha ok
[20:14:05] <kimundi> fn prepend(xs: List, value: u32) -> List { Cons(value, box xs) }
[20:14:09] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[20:14:13] *** Quits: notmatt (notmatt@318A02F5.68FFFFA3.47C41102.IP) (Connection reset by peer)
[20:14:31] *** Joins: notmatt (notmatt@318A02F5.68FFFFA3.47C41102.IP)
[20:14:36] <kimundi> Well be the future canonical way to actually perfrom the boxing of a value, and will be used by custom smart pointers, as well as by ~
[20:14:38] <igork> so ~ will gone?
[20:14:56] <kimundi> ~ the allocation operator probably
[20:15:00] <kimundi> ~ the type maybe
[20:15:16] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[20:15:28] <kimundi> So, in the future it might be either "let x: ~int = ~5;" if we keep the sugar
[20:15:30] <igork> whats the difference between 'probably' and 'maybe' ? :)
[20:15:42] <divtxt> i'll submit a patch for the tutorial - a note explaining that it boxes up / copies existing values
[20:15:43] <kimundi> "let x: ~int = box 5;" if we remove the allocation operator
[20:15:57] <kimundi> "let x: Uniq<int> = box 5;" if we remove the ~ sigil completly
[20:16:05] *** Joins: joone (joone@moz-D3B2E195.jf.intel.com)
[20:16:12] <divtxt> yeah when i first read the thing i was trying to figure out why it wasn't  let mut ~xs = ~Nil
[20:16:40] <divtxt> i mean let mut xs = ~Nil;  with xs type being inferred as ~List
[20:17:01] <Ms2ger> It could have been
[20:17:07] <kimundi> igork: "probably": ~ as allocation operator does not look like a heap operation, and will be replaced by box. But its not set in stone yet
[20:17:11] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[20:17:48] <flaper87> dbaupp: around?
[20:17:54] <divtxt> awesome thanks! i have to run for lunch but you guys are really helpful here - i'm sure i'll have more questions as i continue
[20:18:03] <kimundi> igork: "maybe": ~ as type is not really harmful, and short and concise, but might get removed to because it would have only that one leg to stand one anymore.
[20:18:29] <flaper87> acrichto: around ?
[20:19:02] <rdn> Is mutability not inherited by struct members?
[20:19:04] *** Joins: gverilla (gverilla@moz-72C95702.versanet.de)
[20:19:19] <kimundi> rdn: It is
[20:19:31] <igork> kimundi: i think its a matter of preference. i'm ok with ~ thingy :)
[20:19:31] *** Joins: fabiand (fabiand@moz-2FF8D2D3.adsl.alicedsl.de)
[20:19:38] <kimundi> rdn: But depending on the type of the struct member the ownership tree might stop there
[20:20:05] <rdn> rusti: pub struct Example {x: *int, } fn callx(x: *mut int) {unsafe {println!("{}", *x); } } fn example(ex: &mut Example) {unsafe {callx(ex.x) } }
[20:20:14] -rusti- pastebinned 7 lines of output: http://ix.io/9WA
[20:20:19] *** Quits: divtxt (Mibbit@E8639AA5.586EBD63.89C9E32E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:20:29] <rdn> the type of the member is *
[20:20:48] <kimundi> igork: Yeah, there is much back and forth around that - Fact is though that for good Rust code you only really need ~ for data structures, strings and vectors, and trait objects
[20:21:20] <Ms2ger> And then @mut for everything else
[20:21:22] * Ms2ger ducks
[20:21:37] *** Joins: sellout (Adium@1E146448.C3176B3B.6EF41EF0.IP)
[20:22:13] <kimundi> rdn: * is a raw pointer, and has no concept of ownership - so like for & there is both * and *mut as seperate types.
[20:22:22] <kimundi> immutable -> mutable will be forbidden by the compiler in general
[20:22:53] <kimundi> SO, in you case the struct needs to be defined as pub struct Example {x: *mut int, }, or the call function needs to take *int
[20:23:17] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[20:23:25] *** Parts: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) ()
[20:23:28] <eibwen> how is an enum laid out?
[20:23:48] <Ms2ger> Implementation-definined
[20:23:50] <eibwen> struct enum { int type; union { type1 var1; type2 var2; ... }; }?
[20:23:52] <Ms2ger> defined*
[20:24:04] <eibwen> how is it laid out in the only implementation? :)
[20:24:12] <Ms2ger> Depends on the enum :)
[20:24:13] <kimundi> eibwen: as an union over all variants, with an as-small-as-possible integer tag as first field - but the memory layout is not defined in general, to allow for optimisations
[20:24:34] <Ms2ger> Option<~T> looks like a nullable pointer, for example
[20:24:42] *** Joins: icebattle (icebattle@8A14A542.EBE2EE2B.C7CEC4ED.IP)
[20:24:46] <eibwen> is it implemented as such?
[20:24:55] <kimundi> For example, Option<~T> is optimized to a regular pointer, with NULL == None tage
[20:25:01] <acrichto> flaper87: I am indeed
[20:25:16] <eibwen> kimundi: is it implemented that way?
[20:25:17] <kimundi> eibwen: yes
[20:25:35] <eibwen> by the way. if I understand it correctly, the rust compiler hosts itself, right?
[20:25:38] <flaper87> acrichto: I was wondering if you could re-trigger this build: http://buildbot.rust-lang.org/builders/auto-mac-32-opt/builds/3619
[20:25:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[20:25:49] <eibwen> what version do you need to compile the current rust compiler?
[20:25:50] <flaper87> it failed and it doesn't seem to be related to the patch
[20:26:01] <flaper87> actually, it's not clear why it failed (I most be missing something)
[20:26:03] <acrichto> flaper87: what I don't think I've ever seen that error before...
[20:26:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:26:05] <kimundi> rusti: unsafe { ::std::cast::transmute::<Option<~uint>, uint>(None) }
[20:26:06] -rusti- 0u
[20:26:08] *** Quits: etrepum (sid763@moz-5F4AA75A.irccloud.com) (Ping timeout)
[20:26:08] *** Quits: wycats_ (sid79@moz-5F4AA75A.irccloud.com) (Ping timeout)
[20:26:08] *** Quits: lexs (uid12437@moz-5F4AA75A.irccloud.com) (Ping timeout)
[20:26:12] <acrichto> flaper87: welp, retry it is!
[20:26:20] *** Quits: sellout (Adium@1E146448.C3176B3B.6EF41EF0.IP) (Quit: Leaving.)
[20:26:37] <flaper87> acrichto: if I scroll all the way down it doesn't show a specific error. 
[20:26:39] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:26:45] <kimundi> eibwen: The makefile downloads the snapshot compiler binaries itself
[20:26:47] <flaper87> acrichto: btw, any tips&tricks to grep those logs ?
[20:26:50] <acrichto> task '<main>' failed at 'Unhandled condition: io_error: io::IoError{kind: FileNotFound, desc: "no such file or directory", detail: None}',
[20:26:58] <acrichto> flaper87: I just go to the end and see what failed
[20:27:04] <acrichto> something in the codegen tests apparently?
[20:27:06] <flaper87> sometimes it's obvious why it failed but sometimes it's not
[20:27:09] <kimundi> eibwen: There is a list of them in the repo, and a server full of them somewhere
[20:27:11] <acrichto> dunno what's going on there
[20:27:12] <eibwen> kimundi: mh. suppose you'd want to compile it from scratch, is that possible?
[20:27:16] <flaper87> acrichto: ok, I've been doing the same
[20:27:23] <flaper87> acrichto: that patch has made me suffer
[20:27:26] <flaper87> :D
[20:27:37] <kimundi> eibwen: Sure, if you take a few weeks/months off and install OCAML :P
[20:27:39] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[20:27:41] <flaper87> acrichto: thanks :)
[20:27:47] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:28:02] <acrichto> flaper87: haha, I found that there's always that *one patch* which refuses to land
[20:28:09] <acrichto> it's incredibly satisfying when it does though!
[20:28:29] <eibwen> kimundi: because that whole build stuff could 'easily' be undermined, if one was able to modify just one compiler version
[20:28:33] *** Joins: etrepum (sid763@moz-5F4AA75A.irccloud.com)
[20:28:33] *** Joins: wycats_ (sid79@moz-5F4AA75A.irccloud.com)
[20:28:34] *** Joins: lexs (uid12437@moz-5F4AA75A.irccloud.com)
[20:28:36] <flaper87> acrichto: yeah, I've been staring at buildbot the whole day hoping for it to land. I'm hoping it will before I hit the bed
[20:28:38] <eibwen> what makes it worse is that there is only one compiler.
[20:28:39] <flaper87> :P
[20:29:22] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[20:29:25] *** Joins: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:29:28] <kimundi> eibwen: Oh, that issue is known. The devs had good arguments for something like that being unlikely, with how the languages changes all the time still, and patches go through individual reviews
[20:29:50] <kimundi> eibwen: Still theoretically possible, the realistically the chanches of that actaully happen are extremmly slim
[20:30:22] <eibwen> kimundi: wouldn't it suffice to replace the binaries on the server that the makefile downloads the compiler from?
[20:30:29] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:30:44] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[20:30:56] <kimundi> eibwen: You have to fake their hashes first afaik
[20:31:10] <eibwen> oh yea, they're probably signed
[20:31:22] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[20:32:42] *** Joins: gwty (gwtypc@7A0D763F.F5B21253.553D87E5.IP)
[20:32:51] *** Joins: sellout (Adium@1E146448.C3176B3B.6EF41EF0.IP)
[20:32:54] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:33:23] *** Quits: gwty (gwtypc@7A0D763F.F5B21253.553D87E5.IP) (Connection reset by peer)
[20:34:01] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:35:10] *** Quits: nif (nif@moz-84FF761D.oberlin.net) (Ping timeout)
[20:35:28] <eibwen> kimundi: do you know how deterministic the build process is?
[20:35:40] <eibwen> will it produce the same executable one the same system?
[20:35:51] <eibwen> will it produce the same executable on different systems?
[20:36:23] <kimundi> eibwen: Currently not, because of HashMaps used by the compiler being seeded with random values
[20:36:41] *** Quits: jed (jed@moz-9E36FDA5.lightspeed.stlsmo.sbcglobal.net) (Ping timeout)
[20:36:55] <eibwen> I doubt that this is a good idea
[20:37:17] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:37:33] <tjc> are there any existing languages or compilers that do have the property of deterministic executables (on the same system)?
[20:37:39] <tjc> I mean, it seems like a good idea, but difficult to maintain in practice
[20:38:14] <eibwen> tjc: I belive that the gcc has a deterministic build process (on the same machine)
[20:38:16] *** Quits: fabiand (fabiand@moz-2FF8D2D3.adsl.alicedsl.de) (Quit: Verlassend)
[20:38:24] <tjc> eibwen: interesting, I didn't know that
[20:38:27] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:38:47] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:39:02] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[20:39:11] *** Joins: new_one (new_one@2D115045.D0485D2E.B3C0173E.IP)
[20:39:18] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:39:24] *** Joins: nif (nif@moz-C672189A.wireless.oberlin.edu)
[20:39:46] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:39:51] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:41:05] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:42:35] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[20:42:49] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[20:43:24] *** Joins: bytewise (bytewise@moz-4B2383CA.adsl.alicedsl.de)
[20:44:15] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[20:44:18] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[20:44:21] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[20:44:22] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[20:45:04] <Tobba> trying to implement Rc
[20:45:05] <Tobba> ugh
[20:45:24] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[20:46:44] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[20:47:03] *** Quits: sellout (Adium@1E146448.C3176B3B.6EF41EF0.IP) (Quit: Leaving.)
[20:47:25] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[20:48:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[20:49:24] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:50:29] *** Quits: nif (nif@moz-C672189A.wireless.oberlin.edu) (Ping timeout)
[20:50:41] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[20:51:21] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[20:53:54] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[20:54:13] *** Joins: valenting (Thunderbir@moz-EA478749.residential.rdsnet.ro)
[20:54:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:54:52] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[20:54:54] *** Quits: jackneill (jackneill@moz-E9D68037.pool.digikabel.hu) (Ping timeout)
[20:55:00] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[20:56:33] *** Joins: jhasse (jhass_000@moz-A87928AE.ewe-ip-backbone.de)
[20:56:46] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Ping timeout)
[20:57:42] <SiegeLord> Iirc carter was working on some math lib... anybody know where it is if it is publically available?
[20:57:49] *** Quits: sehugg (sehugg@moz-42540923.res.bhn.net) (Client exited)
[20:58:01] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:58:11] *** Quits: notmatt (notmatt@318A02F5.68FFFFA3.47C41102.IP) (Client exited)
[20:58:39] *** Quits: mentero (mentero@moz-D61C6F02.proxnet.pl) (Ping timeout)
[20:58:56] *** Joins: nif (nif@moz-C672189A.wireless.oberlin.edu)
[21:00:17] *** Quits: evilpie (sid7877@moz-E77DEB21.irccloud.com) (Ping timeout)
[21:00:45] *** Joins: sellout (Adium@1E146448.C3176B3B.6EF41EF0.IP)
[21:01:28] *** Joins: evilpie (sid7877@moz-E77DEB21.irccloud.com)
[21:02:04] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:02:34] *** Quits: sellout (Adium@1E146448.C3176B3B.6EF41EF0.IP) (Ping timeout)
[21:02:49] *** Joins: sellout (Adium@1E146448.C3176B3B.6EF41EF0.IP)
[21:03:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:03:52] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:05:28] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:08:24] *** bstrie_disappeared is now known as bstrie_reappeared
[21:08:55] <bstrie_reappeared> acrichto: you mentioned yesterday that people complaining about a 2MB hello world could enable LTO, is that not enabled by default then?
[21:09:15] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[21:09:26] <acrichto> bstrie_reappeared: yeah LTO is sadly too slow to turn on by default
[21:09:34] <bstrie_reappeared> ah I see
[21:09:44] <bstrie_reappeared> just found the -Z flag
[21:10:15] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[21:10:28] *** Quits: lkuper (lkuper@moz-6881CCA2.dhcp-bl.indiana.edu) (Quit: lkuper)
[21:10:49] <pepper_chico> guys, tuples can only be of such size? http://static.rust-lang.org/doc/master/std/tuple/index.html there's isn't more operations except for nN_ref()? I can range tuples?
[21:11:14] <pepper_chico> s/I can/I can't/
[21:11:31] <bstrie_reappeared> pepper_chico: tuples can be of any size, those are just hardcoded because we suck :P
[21:11:34] <pepper_chico> there's no variadic template functionality in rust?
[21:11:35] <pepper_chico> ...
[21:11:41] <pepper_chico> ah ok
[21:11:48] <pepper_chico> so there's variadics?
[21:11:48] <bstrie_reappeared> we don't have numeric type parameters, no
[21:12:10] <pepper_chico> s/there's/there're/
[21:12:33] <bstrie_reappeared> pepper_chico: there will probably be variadic type parameters before 1.0, but that still wouldn't let you implement things for every arity tuple
[21:13:30] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[21:13:48] <bstrie_reappeared> acrichto: yikes, you weren't kidding about it being slow... and it still only takes hello world from 2.6MB to 1.8MB :(
[21:13:58] <kimundi> pepper_chico: We don't have variadic generics... yet. eddyb is working on them, thankfully :)
[21:14:19] <pepper_chico> ah ok, cool
[21:14:23] <acrichto> bstrie_reappeared: yeah it's sadly not the savior of all things, I figured out how to make it actually eliminate all I/O, but it's just not worth it I think (b/c LTO isn't the default
[21:14:53] <bstrie_reappeared> acrichto: compared to 7.3kb for dynamic linking... I suppose the 1.79MB is the runtime?
[21:14:56] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[21:15:15] <acrichto> bstrie_reappeared: LTO will basically remove everything you don't use, but it can't remove I/O right now due to how it's architected
[21:15:19] <eddyb> kimundi: s/working/waiting to discuss them with nmatsakis some more/ - I have only the first part implemented, and the others will take some time (for potentially large values of "some")
[21:15:23] <pepper_chico> I suppose once variadics are implemented... that hardcoded access interface to tuple elements you be out
[21:15:50] <bstrie_reappeared> acrichto: ok. any plans to make it the default before 1.0, along the same wishful lines as making 1:1 the default before 1.0?
[21:15:58] <pepper_chico> c++ have gone through the same kind of stuff
[21:16:07] <kimundi> eddyb: The fact that you're working on them at all is a godsend :)
[21:16:12] <eddyb> pepper_chico: you need variadics + numbers in generic arguments + maybe something else
[21:16:15] <acrichto> bstrie_reappeared: 1:1 default isn't so wishful, it just needs to continue to bake, I don't think we'll ever make LTO the default (due to how slow it is)
[21:16:45] <bstrie_reappeared> acrichto: ok, so you're saying there's not really any hope of LTO being fast, gotcha :)
[21:17:01] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[21:17:05] <acrichto> bstrie_reappeared: yeah I'm saddened by it as well :(
[21:17:07] <pepper_chico> eddyb, yeah, well, I pray rust get this before 1.0 =)
[21:17:18] <acrichto> bstrie_reappeared: take a look at -Z time-passes and you'll see why it's so slow
[21:17:40] <Tobba> hm
[21:17:43] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[21:17:47] <Tobba> either I'm doing something wrong or this is some bug in globs
[21:17:54] *** Joins: gwty (gwtypc@5A4087AB.C4444A44.137C914F.IP)
[21:17:58] <eddyb> globs are buggy
[21:18:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:18:05] <Tobba> use lib::rc::*
[21:18:06] <acrichto> globs are feature gated
[21:18:08] <Tobba> Rc::new doesnt work
[21:18:14] <Tobba> ::lib::rc::Rc::new works
[21:18:17] <eddyb> "lib"?
[21:18:24] <Tobba> my own stdlib is in that module
[21:18:29] <adridu59> acrichto: I've seen your err cleanup; made me think, something that would be cool also would be to redirect stderr to stdout for tests marked as should_fail
[21:18:31] <eddyb> oh, okay
[21:18:43] <Tobba> it also craps out about this
[21:18:44] <Tobba> pub fn new(pid: uint) -> Rc<Process> {
[21:18:57] <acrichto> adridu59: we could indeed! I really want to do that, but I also think for various reasons it should wait for chan upgrades
[21:19:20] <adridu59> acrichto: would it change something?
[21:19:31] <acrichto> adridu59: right now the reader/writer that we'd override are basically a ChanWriter and PortReader, but they need to be Shared when right now they're not
[21:19:40] <acrichto> adridu59: it'd print out stdout/stderr for each failed tsets
[21:19:43] <eddyb> bstrie_reappeared: LTO is there to drain the last drops of blood. statically linked binaries should be small without LTO
[21:19:45] <acrichto> but *only* for failed tests
[21:19:51] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:19:58] <adridu59> I see
[21:19:59] *** Parts: msch (msch@moz-DA0E34D4.clients.your-server.de) ()
[21:20:23] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[21:20:43] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:20:50] <eddyb> the problem is devirtualization. it should be possible to treat the runtime interface as constant, but LLVM can't just do it, the way we juggle around with it
[21:20:51] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[21:21:11] <eddyb> acrichto: does anything in std use @T?
[21:21:18] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:21:23] <acrichto> eddyb: not intentionally, it should all be removed if it does
[21:21:34] <acrichto> nothing critical any more uses @ (I think)
[21:21:46] <acrichto> I/O, string formatting, printing, etc, all used to be entirely based on @
[21:21:59] *** Quits: gwty (gwtypc@5A4087AB.C4444A44.137C914F.IP) (Ping timeout)
[21:22:09] <Jemaclus> let f1 = *list.iter().nth(5).unwrap();
[21:22:13] <diverse> eddyb the finisher! :D
[21:22:26] *** Quits: maxiepoo (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo)
[21:22:34] <adridu59> acrichto: do you know why bors fails sometimes?
[21:22:41] <Jemaclus> is that the best way to get an individual item from a ~[T] list thing (vector?)?
[21:22:44] <acrichto> adridu59: hehe, I sure wish I did
[21:22:51] <eddyb> diverse: does it allocate @T? oh, you don't mean the task finisher, silly me :P
[21:22:53] <acrichto> adridu59: there's no one reason ofc
[21:23:06] <eddyb> acrichto: mkay. I'm asking because the LocalHeap gets inlined now, even without LTO. it would be nice if it didn't do that unless you used @T yourself
[21:23:12] *** Joins: ofeldt- (ofeldt@moz-80858A6B.dip0.t-ipconnect.de)
[21:23:18] <adridu59> acrichto: sure, seems troubling that's it's so random through
[21:23:23] <eddyb> s/inlined/brought in/
[21:23:29] <adridu59> that*
[21:23:34] <acrichto> eddyb: LocalHeap? that's just like 2 pointers?
[21:23:42] <acrichto> adridu59: always is!
[21:23:52] <diverse> eddyb: then would you want 'the crap remover' as a title instead?
[21:24:21] *** Quits: ofeldt (ofeldt@moz-60ACD2E8.dip0.t-ipconnect.de) (Ping timeout)
[21:24:56] <Tobba> src\rust\process.rs:16:27: 16:38 error: found module name used as a type: impl process::__extensions__ (id=9094)
[21:24:57] <eddyb> acrichto: I mean, its code should only be reachable from alloc/free lang items which wouldn't be used in a perfect ecosystem. I guess we can just wait for @T to die
[21:25:04] <Tobba> is there any reason for this to happen, that line isnt even in my code
[21:25:18] <eddyb> Tobba: you have mod process and impl process
[21:25:28] <eddyb> (most likely)
[21:25:31] <Tobba> only uppercase Process
[21:25:42] <acrichto> eddyb: I imagine that GC will always need *something* in the local Task
[21:25:57] <bstrie_reappeared> eddyb: if statically linked binaries should be small without LTO, what's the process to getting to that state? unless you consider 2MB small...
[21:26:13] <Tobba> eddyb: it seems to be caused by doing impl Rc<Process>
[21:26:17] <eddyb> bstrie_reappeared: see the comment about devirtualization above
[21:26:23] <eddyb> Tobba: ah, heh. you can't do that
[21:26:25] <Tobba> the error message is also on the completely wrong line
[21:26:41] <eddyb> you need to make a dummy trait and impl it for Rc<Process>, sadly
[21:26:45] <Tobba> ah
[21:26:49] <Tobba> I was suspecting that
[21:26:54] <acrichto> bstrie_reappeared: the problem is that all of I/O is being included (which includes large chunks of libstd), hence the 2MB. The I/O cannot be optimized away b/c they're all "used" from a vtable, and the vtable can't get optimized away b/c it's used by the local Task
[21:26:56] <bstrie_reappeared> eddyb: ah, I see. there are too many people trying to talk to you at once. :P
[21:27:07] <diverse> bstrie_reappeared: where did you disappear to?
[21:27:09] <bstrie_reappeared> acrichto: ok
[21:27:24] <eddyb> bstrie_reappeared: I'm a rust star :D
[21:27:35] <acrichto> bstrie_reappeared: it's technically feasible, but I don't want to bend over backwards when "use dynamic linking" is a satisfactory answer
[21:27:38] <Tobba> eddyb: I hope 1.0 improves on that, but yeah I think that error message needs some work
[21:27:38] <diverse> eddyb: a rustar
[21:27:41] <bstrie_reappeared> diverse: I have critical work to do this week, I disappared into the fugue of imminent looming deadlines :)
[21:27:51] <eddyb> diverse: I was thinking of a rusty texas star
[21:27:54] <bstrie_reappeared> which of course meant that I started reading about nimrod and their tiny static executables
[21:28:00] <bstrie_reappeared> and wondered why we didn't have the same
[21:28:16] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[21:28:24] *** Joins: gwty (gwtypc@5A4087AB.C4444A44.137C914F.IP)
[21:28:46] <eddyb> bstrie_reappeared: it's really just dead runtime code that we can't prove it's dead
[21:29:37] <bstrie_reappeared> acrichto: like I said, *I* don't really care how big our executables are, but I have noticed a lot of people who are coming and saying "wtf rust why does a systems language have a 2MB hello world"
[21:29:49] <eddyb> sadly, if you use relatively mundane things like Option's "unwrap" or "expect", you need all the unwinding machinery anyway
[21:29:57] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[21:30:27] <acrichto> bstrie_reappeared: the general answer is that rust does not require anything to run, but if you use libstd things you start pulling in lots of things quickly
[21:30:56] <eddyb> bstrie_reappeared: I will do my best to try and make that hello world go down to under 1KB
[21:30:56] <acrichto> bstrie_reappeared: it's not really a satisfactory answer, but I don't think there's enough impetus to pursue other solutions right now
[21:31:04] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[21:31:09] <bstrie_reappeared> eddyb: under 200kb would make me happy :)
[21:31:13] <eddyb> I strongly believe it's possible. maybe not fully so without LTO, but still possible
[21:31:21] <acrichto> bstrie_reappeared: https://github.com/mozilla/rust/issues/11560 <- that would fix the problem, but I don't think it's worth it
[21:31:24] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[21:31:37] <acrichto> eddyb: that's the problem I think though is that no one reaches for LTO by default
[21:31:39] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[21:31:41] <SiegeLord> Isn't the Go hello world also rather larger?
[21:31:50] <acrichto> SiegeLord: last I checked it was around 400K
[21:31:57] <flaper87> acrichto: hey, did you re-trigger the job? (I'm asking because I didn't get any email so, not sure if you did it through buildbot's dashboard or something)
[21:32:03] <bstrie_reappeared> last I checked it was like 50k... I think
[21:32:08] <acrichto> flaper87: yeah it's running now
[21:32:12] <Jemaclus> i have a fibonacci sequence generator that's 30 lines long and 2.8MB.. :)
[21:32:17] <flaper87> acrichto: oh cool, danke :)
[21:32:25] <Ms2ger> Jemaclus, did you hardcode them all? ;)
[21:32:32] <acrichto> bstrie_reappeared: 544K on osx right now "func main() {}"
[21:32:55] <diverse> this looks like a game of "Hah! My "hello world" is smaller than yours!"
[21:33:03] <Jemaclus> no :P
[21:33:06] <bstrie_reappeared> acrichto: right, I was thinking of really really old go... see https://donatstudios.com/Golang-Binary-Sizes
[21:33:06] <acrichto> flaper87: looks like it failed on windows
[21:33:07] <eddyb> Jemaclus: what's with --opt-level=3 -Z lto?
[21:33:21] <eddyb> s/what's/how big is it/
[21:33:37] <adridu59> yet people keep saying we shouldn't compare with go :p
[21:33:38] <acrichto> bstrie_reappeared: I imagine we'll get a few blog posts about rust along those lines
[21:33:43] <bstrie_reappeared> eddyb: if you *can* manage to get hello world down to less than 1kb, I think that would be a very neat party trick that would be good for marketing
[21:33:43] <flaper87> acrichto: oh boy :D
[21:33:49] <acrichto> bstrie_reappeared: but the true answer is "if you're creating lots of binaries, ust dynamic linking"
[21:34:15] <eddyb> acrichto: but, but, write(0, "Hello World")
[21:34:20] <SiegeLord> D hello world is ~600K, and in my case it uses dynamic formatting like Rust as well
[21:34:27] <acrichto> bstrie_reappeared: "int main() {}" in C is 4.2K on OSX
[21:34:35] <flaper87> acrichto: where did you see that? I must be looking at the wrong page
[21:34:39] <acrichto> eddyb: it would be pretty sweet if we could get there
[21:34:43] <acrichto> flaper87: http://buildbot.rust-lang.org/builders/auto-win-32-nopt-c/builds/2729/steps/compile/logs/stdio
[21:34:50] <Jemaclus> eddyb: rustc fib.rs --opt-level=3 -Z lto ?
[21:34:50] <eddyb> acrichto: can you.. strip it or something?
[21:34:56] <eddyb> Jemaclus: yes
[21:35:08] <acrichto> eddyb: stripped C? same size oddly enough
[21:35:16] <Jemaclus> eddyb: i got a buttload of errors :(
[21:35:16] <Jemaclus> heh
[21:35:19] <eddyb> acrichto: oh, wait, can we compile libuv with clang (where possible) to get LTO against that as well?
[21:35:28] <acrichto> Jemaclus: errors? what kind?
[21:35:37] <flaper87> acrichto: yeah, not related to the change. At least it doesn't look like
[21:35:38] <eddyb> Jemaclus: I know the feeling. my PNG decoder would fail with runtime errors when compiled with -Z lto :(
[21:35:41] <Jemaclus> linking with 'cc' failed
[21:35:44] <Jemaclus> lame.
[21:35:45] <acrichto> eddyb: right now in general we don't support LTO with native libs
[21:35:57] <Matthias247> what does that mean: "cannot implement a destructor on a structure that does not satisfy Send"
[21:35:58] <acrichto> eddyb: LTO with libgreen will never do much though because you'll always need the entire scheduler and related libs
[21:36:02] <bstrie_reappeared> acrichto: heck, I could write a blog post right now... LOOK AT HOW RUST BINARY SIZE INCREASED FROM 8KB TO 2,000KB OMG OUT OF CONTROL
[21:36:51] <Matthias247> It does appear as soon as I have an Rc<> member
[21:36:55] <acrichto> Matthias247: right now those rules aren't exactly perfect, the general idea is that be careful with destructors where there's borrowed pointers inside them
[21:36:59] <Jemaclus> just the --opt-level=3 brought it down to 2.75MB, heh
[21:37:00] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[21:37:07] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:37:10] <bstrie_reappeared> at this rate, hello world in rust 0.10 will be 500MB
[21:37:13] <acrichto> Matthias247: but in general you can just use #[unsafe_destructor]
[21:37:14] <kimundi> bstrie_reappeared: Then extrapolate from there, and conclude with "Rust has no future, as in three weeks no storage medium on this planet is able to hold a compile binary of it"
[21:37:29] <acrichto> bstrie_reappeared: I'm actually just injecting malware into all rust binaries
[21:37:40] <bstrie_reappeared> acrichto: or just java, which is congruent :)
[21:37:44] <Matthias247> acrichto: ok. At least I'm extra using Rc to make it safe :-)
[21:38:03] <eddyb> acrichto: hmpf. I wonder what that binary contains. do you have radare around?
[21:38:06] <acrichto> Matthias247: yeah the error message needs to be re-thought, it has a number of false positives right now
[21:38:12] <acrichto> eddyb: radare?
[21:38:25] <bstrie_reappeared> acrichto: devious plan: let's secretly download the complete archives of wikipedia and embed them in every rust binary, to disseminate and decentralize the database
[21:38:37] <eddyb> acrichto: technically, radare2 (so you don't use the old one). it's a powerful command-like reverse engineering tool
[21:38:42] <diverse> bstrie_reappeared: why is there fixation on static compiling for measurement of how good a language can shrink a binary size?
[21:38:48] <eddyb> acrichto: it can tell you almost anything about a binary
[21:38:49] <acrichto> bstrie_reappeared: better yet, I'll just inject a bitcoin miner everywhere :P
[21:38:52] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[21:38:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:39:02] <acrichto> eddyb: zomg I've always wanted something like that, downloading now
[21:39:08] <bstrie_reappeared> diverse: because people coming from other systems languages don't realize that we statically link by default
[21:39:19] <eddyb> acrichto: and it's much easier to use than the silly objdump/nm/whatever-else-I-forget-to-use
[21:39:28] <acrichto> like everyone links to libc dynamically, but libc also has a super-stable abi (unlike libstd)
[21:39:37] <eddyb> rabin2 -i foo. boom, you have the list of imports. no questions asked
[21:39:44] <bstrie_reappeared> diverse: and even then, there are languages that statically link and still achieve tiny tiny binary sizes... nimrod comes to mind
[21:40:06] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:40:36] <acrichto> eddyb: ok I have radare2, what should I do?
[21:41:01] <acrichto> bstrie_reappeared: another solution to the "huge binary" problem is to shared libstd into more than one object file
[21:41:12] <bstrie_reappeared> an unoptimized, statically-linked nimrod hello world is allegedly 130kb... and with the "release" compiler flag that gets down to 39kb
[21:41:18] <acrichto> bstrie_reappeared: linkers will automatically discard object files that you don't use any symbols from, but our rlibs are all one giant object file
[21:41:23] <eddyb> acrichto: rabin2 -isRS binary
[21:41:36] <eddyb> acrichto: that should be enough to give me an idea of what's going on in there
[21:42:00] <bstrie_reappeared> acrichto: an interesting hack :P
[21:42:12] <eddyb> maybe we should split it into object files by module?
[21:42:22] <acrichto> eddyb: https://gist.github.com/8482245
[21:42:44] <acrichto> it'd be tough to split, b/c LLVM has basically "LLVMModule == object file"
[21:42:48] <acrichto> and we only have one LLVMModule
[21:43:27] <bstrie_reappeared> I should also mention, that nimrod apparently has a pretty fast compiler. so these small binaries aren't the result of ridiculous time spent optimizing and reducing
[21:43:36] *** Quits: nif (nif@moz-C672189A.wireless.oberlin.edu) (Quit: Konversation terminated!)
[21:43:51] <eddyb> acrichto: okay, the only cruft there is the exception handling stuff. is it a Mach-O executable?
[21:43:56] <acrichto> we can generate a 10K hello world really quickly!
[21:44:03] <acrichto> eddyb: yeah, "clang -O3 foo.c"
[21:44:11] <eddyb> acrichto: it looks like it's around 4KB only because that's the page size
[21:44:21] <bstrie_reappeared> again, I don't really care that much about small binary sizes. but some work there would help to fend off criticism
[21:44:24] <acrichto> eddyb: where do you see that?
[21:44:53] <eddyb> acrichto: I remember Mach-O having a lot of headers. also look at the section sizes, they're miniscule
[21:45:05] <acrichto> bstrie_reappeared: if people start waving around how rust isn't that great b/c static binary size is large I think the correct thing to do is to wave around dynamic linking back at them
[21:45:11] <acrichto> eddyb: ah, interesting!
[21:45:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[21:45:56] <bstrie_reappeared> acrichto: I only have so much time in a day to wave things around, addressing criticism before it arises is the most efficient strategy :)
[21:46:13] <eddyb> acrichto: there's a Mach-O specific tool to read all those silly headers, radare2 is a bit too generic for it (maybe we should add stringified metadata to it. idk). can you look around in your toolchain bin directory and see if there any name that pokes out?
[21:46:16] <Matthias247> I would think that there are a lot more important issues than binary sizes
[21:46:18] <bstrie_reappeared> acrichto: think of how much time would have been saved had python not used whitespace, or had go shipped with generics
[21:46:28] <kimundi> rusti: "a\nb".lines().to_owned_vec()
[21:46:28] <eddyb> acrichto: it's like objdump for Mach-O, basically
[21:46:29] -rusti- ~["a", "b"]
[21:46:32] <acrichto> bstrie_reappeared: yeah I just wanna make sure that people understand why things are the way they are and how this isn't a fundamental limitation of rust
[21:46:48] <kimundi> rusti: " a \n b ".lines().to_owned_vec()
[21:46:49] -rusti- ~[" a ", " b "]
[21:46:56] <bstrie_reappeared> acrichto: out of curiosity, what does static linking give us over dynamic that we made it the default?
[21:47:04] <acrichto> eddyb: lol I have no idea :P
[21:47:29] <acrichto> bstrie_reappeared: libstd abi is not at all stable, so this means that you can compile an executable once and you don't have to recompile every time you reinstall rust
[21:47:53] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[21:47:56] <o11c> I still thought that was what the hashes were for ...
[21:48:03] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[21:48:09] <bstrie_reappeared> yeah, me too
[21:48:15] <bstrie_reappeared> what are the hashes for, then :\
[21:48:18] <acrichto> our symbol story is pretty bad right now
[21:48:23] <acrichto> if you change a comment, all your symbols will change
[21:48:24] <eddyb> acrichto: 13KB, 6.3KB after stripping - echo 'int main(){}' | clang -O3 -o test -x c++ - (on linux x86_64). I'll investigate further
[21:48:27] <bstrie_reappeared> haha
[21:48:44] <acrichto> bstrie_reappeared: o11c: this is a known problem, but for now we're punting on it for: static linking + rebuild evereything a lot
[21:48:51] <bstrie_reappeared> kk
[21:48:55] <bstrie_reappeared> punting sounds good
[21:48:56] <eddyb> acrichto: I thought comments weren't part of the AST
[21:49:03] <bstrie_reappeared> doc comments are...
[21:49:09] <acrichto> eddyb: node id placement affects symbol names (it really shouldn't!)
[21:49:17] <Matthias247> bstrie_reappeared: there are always people that complain about something. Even it makes absolutely no sense. So it's your job as a developer to decide what in your product makes the majority of people happy and invest the time there
[21:49:29] <eddyb> acrichto: you mean spans?
[21:49:41] <eddyb> acrichto: that's a silly one, fix shouldn't be impossible
[21:49:48] <acrichto> eddyb: nah node ids, I suppose it would be adding a comment or removing one, not necessarily changing one
[21:49:48] <eddyb> acrichto: 28 sections in that ELF, LOL
[21:49:56] <eddyb> acrichto: comments aren't node
[21:50:01] <bstrie_reappeared> Matthias247: you're preaching to the choir :) my job is to monitor what the biggest complaints are and relay them to the devs. lots of people are noting big binaries. that's why we're having this dicussion
[21:50:01] <eddyb> *nodes
[21:50:06] <eddyb> acrichto: they don't get Node IDs
[21:50:10] <acrichto> eddyb: the fix is actually nontrivial, statics with the same name in a function should all have unique names, but that means you need local counters for each function
[21:50:21] <acrichto> don't attributes get node ids?
[21:50:40] <eddyb> acrichto: hmm, not sure about that. you mean like doc comments?
[21:50:44] <acrichto> man I need to stop saying this lol
[21:50:49] <acrichto> eddyb: you're right I think
[21:50:56] <eddyb> I forgot those showed up in AST, my bad
[21:51:11] <acrichto> attributes don't look like they have node ids though
[21:51:11] <bstrie_reappeared> Matthias247: but it's not like a cacophony of people saying OMG FAT BINS, but it's something to keep in mind. trends accelerate
[21:51:34] <eddyb> bstrie_reappeared: yo mamma is so fat
[21:51:43] <eddyb> (complete joke)
[21:51:49] <bstrie_reappeared> bstrie_mama.so :(
[21:52:00] <Matthias247> bstrie_reappeared: of course. But still I think finalizing the language and the stdlib or getting an IDE would we bigger issues for nearly everyone
[21:52:30] <Matthias247> or even getting rid of mingw on Windows :-)
[21:52:52] <diverse> bstrie_reappeared: what would be the phrase for "haters are gonna hate" but for idiots instead of haters? Because that seems to apply to the people who you see complaining
[21:53:35] <chromatic> HNers gonna HN?
[21:53:59] <diverse> what's HN?
[21:54:00] <bstrie_reappeared> diverse: the ammo that the idiots are utilizing is particularly off-putting to a large segment of our intended audience. there will always be idiots, but we need to keep them complaining about semicolons and other trivial shit that systems programmers really don't care about
[21:54:06] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[21:54:06] <bstrie_reappeared> diverse: you don't wanna know
[21:54:10] <acrichto> bstrie_reappeared: ironically .so/.rlib are "as small as can be"
[21:54:13] <eddyb> acrichto: can't get strip to remove all these dumb sections
[21:54:15] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[21:54:38] <acrichto> eddyb: http://timelessname.com/elfbin/
[21:54:40] <acrichto> :P
[21:54:49] <acrichto> if it's not 142 bytes i'ts too big!
[21:55:05] <bstrie_reappeared> acrichto: that's the spirit!
[21:55:36] <diverse> bstrie_reappeared: I guess the phrase I am looking for is "idiots will be idiots" :)
[21:55:45] <Matthias247> I don't think anybody who is really intersted in a new language will be put off by little bit bigger binaries. Maybe with the exception of some µC developers. But these won't get the rust stdlib :-)
[21:55:46] <eddyb> "After stripping the executable was now 2984 bytes, still unacceptable!"
[21:56:00] <acrichto> haha
[21:56:01] <o11c> lol
[21:56:02] <eddyb> acrichto: maybe I should use gcc instead of clang
[21:56:17] <eddyb> acrichto: it's 6.3K even after stripping, here
[21:56:23] <bstrie_reappeared> eddyb: that's 2,984,000 millibytes!!
[21:56:30] <bstrie_reappeared> unacceptable!!
[21:57:05] <acrichto> bstrie_reappeared: back to the drawing board
[21:57:09] <o11c> even worse, it's 3055616 mibibytes. milbibytes?
[21:57:19] * kimundi throws fragments of 1s and 0s at bstrie_reappeared 
[21:57:22] *** Quits: logicalparadox (logicalpar@7726D6BC.E47643E6.AF265B38.IP) (No route to host)
[21:57:35] <eddyb> same story with GCC, 28 sections
[21:57:38] <bstrie_reappeared> milliones and millizeroes
[21:57:49] <kimundi> UARG!
[21:57:59] <kimundi> That one was _bad_ ._.
[21:58:19] *** Joins: Denommus (user@B10298EA.CBEEDAD3.AD91B79.IP)
[21:58:30] <Jemaclus> another dumb noob question.  ~ means owned, right? But if I do ~[T], then it's a vector(?) that can be resized...? right? is ownership related to dynamic sizing?
[21:58:44] <Denommus> would Rust work well in an Actor model-based system?
[21:58:50] <o11c> Jemaclus: ~[] and ~str are special
[21:58:59] <o11c> because [] and str don't exist
[21:59:05] <Jemaclus> oh.
[21:59:17] <Jemaclus> seems confusing?
[21:59:24] <Jemaclus> maybe a different symbol?
[21:59:25] <Matthias247> Jemaclus: you can have unique ownership also without dynamic sizing. But for dynamic sizing it is explicetly required
[21:59:29] *** Quits: nulldata (chatzilla@moz-C5F891AC.seas-nve.net) (Ping timeout)
[21:59:30] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:59:34] <Jemaclus> i like making statements in the form of questions?
[21:59:38] <Jemaclus> apparently?
[21:59:54] <diverse> bstrie_reappeared: I got my executable at over 9000 millibytes, still acceptable?
[22:00:00] <eddyb> Jemaclus: it's still an owned vector
[22:00:12] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:00:15] <Ms2ger> IT'S OVER NINE THOUSAND!
[22:00:28] <kimundi> Jemaclus: So, while its currently not the case, in the future the difference and commonality between ~T and ~[T] will be clearly explainable and defined in the language
[22:00:32] <eddyb> Jemaclus: ~T is a pointer to T, ~[T] is a pointer to a growable area
[22:00:37] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[22:00:51] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:00:55] *** bstrie_reappeared is now known as bstrie_disappeared_again
[22:01:27] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[22:01:34] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[22:02:04] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:02:15] <Jemaclus> so is [] a shortcut for vector?
[22:02:21] <o11c> [] does not exist
[22:02:43] <eddyb> Jemaclus: it is a vector type, but only in the syntax, not in the type system
[22:02:46] <Jemaclus> because i'm looking at the manual, and it says:  let x = &[1,2,3];
[22:02:48] <o11c> there is ~[T], &[T], and [T, ..N]
[22:03:02] <o11c> that's a &[int]
[22:03:06] <igork> with small executable site it will be possible to do this - http://en.wikipedia.org/wiki/Demo_(computer_programming)#Intros
[22:03:16] <flaper87> acrichto: it looks like it succeeded, actually: http://buildbot.rust-lang.org/builders/auto-win-32-nopt-c/builds/2727
[22:03:17] <igork> s/site/size/
[22:03:18] <Denommus> well, it seems it would
[22:03:29] <eddyb> cmr: how can I do reloc-model=static in clang?
[22:03:36] <Jemaclus> o11c: yeah, I get that. i'm just asking about the use of the brackets in general
[22:03:51] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:03:56] <kimundi> Jemaclus: brakets usually mean vectors, array and indexing, yeah.
[22:03:57] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[22:04:10] <flaper87> acrichto: this is the one you were looking at: http://buildbot.rust-lang.org/builders/auto-win-32-nopt-c/builds/2729
[22:04:12] <flaper87> phew
[22:04:23] <Jemaclus> kimundi: gotcha.
[22:05:06] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[22:05:58] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[22:06:23] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:06:23] *** ChanServ sets mode: +ao dherman dherman
[22:06:51] *** Quits: rca (rcatolino@22E42357.20117C61.520D6FA6.IP) (Ping timeout)
[22:07:11] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:08:10] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:08:36] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[22:09:21] <eddyb> echo 'int main(){}' | clang -O3 -c -emit-llvm -o test.bc -x c -; llc test.bc -o test.s -relocation-model=static; as test.s -o test.o; clang test.o -o test; strip -s test; ll test
[22:09:44] <eddyb> acrichto: still 6.2K. the test.o object file is just 1.1K, interesting
[22:10:04] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[22:10:05] <diverse> what format is .bc?
[22:10:11] <eddyb> 624B after stripping
[22:10:17] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[22:10:19] <eddyb> diverse: LLVM bytecode
[22:10:23] <diverse> ah
[22:10:52] <eddyb> acrichto: oh, oops, that removes main
[22:11:25] <acrichto> eddyb: lol 0 byte executable
[22:11:35] <igork> diverse: i dont think those people are "idiots will be idiots" http://awards.scene.org/nominees.php?cat=10
[22:11:48] <eddyb> acrichto: not really
[22:12:09] <eddyb> test.o is 942 with main
[22:12:28] <eddyb> idx=03 addr=0x00000300 off=0x00000300 sz=168 vsz=168 perm=---- name=.symtab
[22:12:30] <eddyb> that's big
[22:12:30] *** Joins: luziie (lucy@moz-CD18B14B.customer.cdi.no)
[22:12:52] <eddyb> idx=02 addr=0x00400274 off=0x00000274 sz=36 vsz=36 perm=-r-- name=.note.gnu.buildid
[22:12:59] <eddyb> who needs all this cruft, really?
[22:13:29] <diverse> igork: hmm? I was making fun of the people that bstrie deals with.
[22:13:44] *** Joins: shu (sguo@moz-DB4A9C19.scl3.mozilla.com)
[22:13:46] <shu> Luqman: ping
[22:13:59] *** Joins: nulldata (chatzilla@moz-C5F891AC.seas-nve.net)
[22:14:51] *** Quits: GreyKnight (GK@moz-1DFE40B6.range86-181.btcentralplus.com) (Quit: zzz)
[22:15:38] *** nrc|afk is now known as nrc
[22:15:42] <igork> diverse: if i understood correctly you man people who asked about executable size, and i showed what can be achieved in 4k executable. 
[22:15:53] <igork> s/man/mean/
[22:16:01] *** jorendorff is now known as jorendorff_away
[22:16:07] *** Quits: gwty (gwtypc@5A4087AB.C4444A44.137C914F.IP) (Ping timeout)
[22:16:33] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[22:16:45] <Tobba> making 4k executables is pretty goddamn annoying though
[22:17:11] <Tobba> pretty much all linkers insist on aligning the segments of ELF files, effectively adding like 8k
[22:17:36] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:17:51] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:17:55] <eddyb> note.GNU-stack bleh
[22:18:11] <Tobba> eddyb: isnt that section 0 sized
[22:18:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:18:55] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[22:19:07] <Tobba> eddyb: also fyi -filetype=obj can make llc directly output .o
[22:19:16] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[22:19:37] <eddyb> Tobba: symtab uses 144 bytes and shstrtab another 60
[22:19:44] <Tobba> hm, yeah
[22:19:45] <eddyb> oh, thanks... maybe I can run ld myself
[22:20:05] <Tobba> yeah but you need to link to crt0 if you do that
[22:20:08] *** Quits: jviereck1 (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:20:13] <Tobba> or whatever .a file that is in, cant remember exactly
[22:20:13] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[22:20:16] <luziie> are 4k demos allowed to use libraries?
[22:20:25] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:20:26] <Tobba> crt0 adds a lot though
[22:20:40] <eddyb> Tobba: void start() {} in C, maybe?
[22:20:47] <Tobba> will segfault
[22:20:50] <Tobba> need an _exit syscall there
[22:21:05] <Tobba> (which will need libc)
[22:21:12] <sp3d> luziie: I've seen them use DirectX, OpenGL is probably fine too
[22:21:37] <Earnestly> ("http://www.muppetlabs.com/~breadbox/software/tiny/teensy.html")
[22:21:37] <sp3d> well, demos in general--dunno about 4k ones
[22:21:42] <eddyb> Tobba: void start(){asm("mov 0, %eax; mov 0, %ebx; int 0x80");}
[22:21:45] <luziie> rust has pretty small dynamically linked binaries
[22:21:48] <Tobba> yeah that works
[22:21:55] <luziie> comparable to c last i tested
[22:22:03] <Tobba> asm volatile("int 0x80" :: "a"(1), "b"(0))
[22:22:08] <Tobba> is a better idea, and exit is syscall 1
[22:22:33] <chromatic> Any objection to a PR to fix typos in comments?
[22:22:55] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[22:22:55] <kimundi> chromatic: Nope, those are always welcome :)
[22:22:58] <luziie> i don't think so, i've seen ones before
[22:23:08] <eddyb> ld: warning: cannot find entry symbol _start; defaulting to 00000000004000b0
[22:23:11] <diverse> chromatic: those get r+'d quickly
[22:23:14] <Tobba> yeah name it _start, not start
[22:23:20] <kimundi> chromatic: Maybe try to batch them in one PR though
[22:23:29] <eddyb> Tobba: doesn't work
[22:23:34] <Tobba> oh, huh
[22:23:37] <chromatic> Wonderful, will do. My obsessive need to fix typos always makes reading a batch of code interesting.
[22:23:39] *** Joins: mhl (mhl@moz-29483F85.merinet.pl)
[22:23:43] <Tobba> it should
[22:23:46] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[22:24:00] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[22:24:03] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Ping timeout)
[22:24:12] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[22:24:34] <eddyb> echo 'void _start(){asm("int $0x80" :: "a"(1), "b"(0));}' | clang -O3 -c -emit-llvm -o test.bc -x c -; llc test.bc -o test.o -filetype=obj -relocation-model=static; strip -sK _start -R .eh_frame -R .strtab test.o; ld test.o -o test;  strip -s test; ll test{.o,}
[22:24:42] <eddyb> Tobba: I was stripping it by accident
[22:24:46] <johnsoft> speaking of segfaults
[22:24:49] <Tobba> hahaha
[22:25:02] <eddyb> acrichto: I get a 800 byte test.o file and a 400 byte test file :D
[22:25:05] <Tobba> also clang supports -o -
[22:25:13] <eddyb> and it exits cleanly
[22:25:14] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[22:25:15] <Tobba> so you can do some rediclous piping
[22:25:25] <eddyb> Tobba: right, I forget about that
[22:25:31] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[22:25:42] <johnsoft> i managed to cause a segfault in compiled code, where/how do i submit the test case?
[22:25:44] <eddyb> because I've been bitten by tools outputting a - file and having to do rm -- - to get rid of it
[22:26:00] <eddyb> johnsoft: why not reduce it yourself :)?
[22:26:06] <eddyb> johnsoft: can you get a backtrace with gdb?
[22:26:16] <johnsoft> i did reduce it
[22:26:25] <steveklabnik> johnsoft: on github
[22:26:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:26:40] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:26:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:26:44] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:26:46] <Tobba> johnsoft: also you got any unsafe code? (just checking)
[22:26:52] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:26:54] <steveklabnik> johnsoft: make http://github.com/mozilla/rust/issues/new and tag with 
[22:26:55] <diverse> eddyb: I think rm '-' would work also
[22:26:55] <johnsoft> although it's still about 20 lines, but i think all are needed
[22:27:05] <steveklabnik> johnsoft: well, i guess non-commiters can't tag
[22:27:09] <johnsoft> nope. no imports but the prelude either :)
[22:27:14] <eddyb> johnsoft: oh, okay then. I would like to see it in a gist (out of curiosity, and maybe it's a known issue)
[22:27:18] *** Quits: simon (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[22:27:24] <steveklabnik> I-ICE would be the tag
[22:27:43] <eddyb> depends, ICE is when the compile segfaults, not when compiled code segfaults :P
[22:27:47] <eddyb> *compiler
[22:27:53] <johnsoft> it's caused by an implicit conversion to ~trait in a function call
[22:27:58] <johnsoft> i'll gist it
[22:28:07] *** Joins: simon (simon@moz-FD4ADBC6.cable.teksavvy.com)
[22:28:30] <Tobba> eddyb: best I've gotten is 400 bytes
[22:28:44] *** Joins: ecr (chatzilla@moz-1FE08DA0.dhcp4.washington.edu)
[22:28:45] <diverse> eddyb: i was able to remove ' files by rm '''
[22:29:02] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[22:29:06] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[22:29:16] <eddyb> diverse: zsh?
[22:29:23] <diverse> yeah
[22:29:29] <eddyb> because that is not valid bash nor fish
[22:29:33] <eddyb> (AFAIK)
[22:29:41] <eddyb> Tobba: strip -s -R .shstrtab test doesn't want to remove it
[22:29:46] <Tobba> odd
[22:29:47] <diverse> I guess I take zsh for granted
[22:29:48] <luziie> ''' just escapes '
[22:29:53] <Tobba> I think it might be necessary, cant remember what it contains though
[22:30:04] <eddyb> Tobba: the section headers' names
[22:30:07] <Tobba> iirc its related to section na-- yeah
[22:30:12] <eddyb> Tobba: s/headers/
[22:30:19] <Tobba> technically you can get away with no sections in the file at all
[22:30:23] <eddyb> without it, you just have the starting point
[22:30:25] <Tobba> though thats pretty much horribly cheating
[22:30:43] <eddyb> Tobba: you need .text
[22:30:49] <eddyb> and .rodata if you use it
[22:30:58] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[22:31:00] <luziie> - doesn't need escaping, it's just interpreted by the program as an option, and -- is a common convention for argument parsers to stop parsing arguments as options
[22:31:09] <Tobba> eddyb: technically, you only need the segments
[22:31:25] <Tobba> so the .text section doesnt need to be there, linux doesnt give a shit, only the segment
[22:32:07] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:32:07] <johnsoft> eddyb- https://gist.github.com/johnsoft/8482878
[22:32:23] <LinearInterpol> hm. how would I construct "concat"...
[22:32:23] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:32:29] <eibwen> is there a specification of the language apart from the actual compiler implementation?
[22:32:31] <eddyb> Tobba: everything after 0xbb is cruft
[22:32:31] <Tobba> eddyb: basicaly, set the section count to 0, point the section headers to 0, all you need is the program headers
[22:32:49] <Tobba> which if you want to cheat you can put inside of cruft in the ELF header
[22:33:02] *** Quits: Ms2ger (Ms2ger@B085914A.CFB9C8ED.F15B0BB3.IP) (Quit: nn)
[22:33:04] <Luqman> shu: pong
[22:33:09] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[22:33:09] <eddyb> there's a lot of padding
[22:33:13] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:33:14] <Tobba> ah yeah
[22:33:19] <Tobba> the linker adds padding between segments too
[22:33:21] *** Quits: sellout (Adium@1E146448.C3176B3B.6EF41EF0.IP) (Quit: Leaving.)
[22:34:25] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[22:34:30] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:34:38] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[22:35:18] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:35:18] *** ChanServ sets mode: +ao dherman dherman
[22:35:29] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:35:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:36:29] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[22:36:34] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[22:37:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:40:05] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Ping timeout)
[22:40:26] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:40:43] <Earnestly> diverse: (fwiw, '' is still the same amount of keystrokes as --, the only difference is you need to escape arguments `rm '-i'`, using `--` is much better and should always be used if you're using rm in scripts: e.g. "http://sprunge.us/hWUV")
[22:42:04] <Tobba> eddyb: also interestingly enough the .text section comes out as 188 bytes long
[22:42:25] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[22:42:25] <Tobba> even though its just 6 instructions
[22:43:19] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Ping timeout)
[22:43:50] <johnsoft> steveklabnik- https://github.com/mozilla/rust/issues/11625
[22:44:02] <johnsoft> tag away :)
[22:44:26] <steveklabnik> nice
[22:44:33] <steveklabnik> i realized because i can't tag either ;)
[22:44:48] <johnsoft> oh. then, uh,
[22:44:59] <johnsoft> pcwalton, save us!
[22:45:17] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[22:45:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:46:02] <eibwen> can I export Rust symbols to C?
[22:46:07] <eibwen> what data types can I use for this?
[22:46:21] <acrichto> eibwen: #[no_mangle] pub extern fn foo() {}
[22:46:25] <acrichto> that exposes the symbol "foo"
[22:46:41] <acrichto> note that "extern" is necessary to flag it with the C abi
[22:46:55] <eibwen> taking no parameters, returning void (as you'd say in C)?
[22:46:59] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[22:47:05] <acrichto> eibwen: indeed
[22:47:15] <SiegeLord> Damn, somebody has a long nick which makes the message part of my IRC window very thin >_<
[22:47:24] <acrichto> eibwen: you can use the std::libc types to take/pass parameters in and out of C
[22:47:30] <SiegeLord> Hopefully he doesn't say anything, otherwise I will lose ~5 more characters
[22:47:40] <diverse> SiegeLord: tty?
[22:48:03] <mcpherrin> cb
[22:48:14] <mcpherrin> oops
[22:48:14] <eibwen> SiegeLord: is it bstrie_... ?
[22:48:16] <sfackler> acrichto: shouldn't it be extern "C" fn or does it default to the C abi?
[22:48:26] <acrichto> sfackler: we default to C
[22:48:26] <SiegeLord> eibwen: Nooo, don't say his name XD
[22:48:43] <eibwen> C would be a sensible standard I guess
[22:48:49] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:48:56] *** Joins: mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm (mm@BB4DB59D.2876C283.70845BE5.IP)
[22:49:40] *** mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm is now known as mmmmmmmmmmmmmmmmmmmmmmmmmmq
[22:49:45] *** mmmmmmmmmmmmmmmmmmmmmmmmmmq is now known as mmmmmmmmmmmmmmmmmmmmmmmmmmmm
[22:49:49] *** mmmmmmmmmmmmmmmmmmmmmmmmmmmm is now known as mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
[22:49:59] <mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm> !
[22:50:02] *** Parts: mmmmmmmmmmmmmmmmmmmmmmmmmmmmmm (mm@BB4DB59D.2876C283.70845BE5.IP) ()
[22:50:05] <SiegeLord> I hate you :P
[22:50:11] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[22:50:28] *** Joins: pilf (pilf@moz-E8842E0A.dsl.bell.ca)
[22:50:30] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[22:50:35] <eibwen> SiegeLord: what kind of IRC client do you have?
[22:50:37] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:50:37] *** ChanServ sets mode: +ao dherman dherman
[22:50:44] <SiegeLord> eibwen: weechat
[22:50:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:51:11] <ion> siegelord: “3.7. How can I reduce length of nicks or remove nick alignment in chat area?
[22:51:23] <Matthias247> acrichto: wouldn't it make more sense to default extern to extern "system" ?
[22:51:30] <SiegeLord> ion: Doesn't affect the nick list
[22:51:41] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[22:51:41] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Broken pipe)
[22:52:02] <acrichto> Matthias247: I think that "system" only exists to interface with kernel32.dll, and I don't think it's the default ABI for all code on 32-bit windows
[22:52:10] <Matthias247> ok
[22:52:17] <acrichto> Matthias247: "system" I think can be thougth of as the ABI to interface with system libraries, not necessarily C code
[22:52:39] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[22:53:01] <Matthias247> acrichto: btw. I think there is bug in the extern for the function type declarations, which doesn't recognize the extern without an explicit ABI
[22:53:17] <Matthias247> see my FFI Doc pull request ;)
[22:53:22] <Tobba> eddyb: 129 bytes is the best I can do without putting the headers inside of eachother
[22:53:28] <acrichto> Matthias247: ? what's the bug?
[22:53:51] <Tobba> though its a 64 bit executable
[22:54:27] <Matthias247> acrichto: if I have something like this it won't work without the ABI: fn register_callback(cb: extern "C" fn(i32)) -> i32;
[22:54:32] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:54:40] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:54:48] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:54:54] <Matthias247> extern fn(i32) would default to fn(i32) and the compiler will give an error
[22:54:55] *** jorendorff_away is now known as jorendorff
[22:54:56] <acrichto> rusti: fn foo(_: extern fn()) {}
[22:55:02] -rusti- <anon>:10:9: 10:34 warning: code is never used: `foo`, #[warn(dead_code)] on by default
[22:55:02] -rusti- <anon>:10         fn foo(_: extern fn()) {}
[22:55:02] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~
[22:55:02] -rusti- timeout triggered!
[22:55:36] <Matthias247> it works, but you can't assign a a function which is declared as extern fn to it
[22:55:36] <acrichto> rusti: extern { fn bar(); } fn foo(_: extern fn()) {} foo(bar);
[22:55:38] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:55:39] -rusti- pastebinned 7 lines of output: http://ix.io/9WG
[22:55:58] <acrichto> sounds like a bug
[22:56:03] <Matthias247> exactly that
[22:57:20] <strcat> Matthias247: use extern "C"
[22:57:25] *** Quits: eibwen (kvirc@moz-B2DA3C68.dip0.t-ipconnect.de) (Ping timeout)
[22:57:26] <strcat> extern fn doesn't mean the same thing everywhere
[22:57:28] <Denommus> gosh, GNU make sucks in Windows
[22:57:36] <huhlig> has network support been implemented...?
[22:57:43] <huhlig> or is the documentation just not there
[22:57:47] <diverse> Denommus: I wonder why? :P
[22:57:53] <acrichto> Matthias247: https://github.com/mozilla/rust/issues/9309
[22:57:58] <Matthias247> strcat: I did that, but acrichto didn't like it in the tutorial :-)
[22:57:59] <Denommus> diverse: well, GNU Emacs is mostly fine
[22:58:17] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[22:58:34] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:58:54] <Denommus> what build toolchain is the most widely used for compiling more than one crate? Cmake?
[22:59:13] <Matthias247> acrichto: ok. Not that big issue anyhow
[22:59:33] <Denommus> I'm thinking seriously about using Rake, but... depending on Ruby does not seem a good idea
[22:59:44] <SiegeLord> I use CMake
[23:00:01] <SiegeLord> Probably would have used make otherwise
[23:00:12] <mcpherrin> huhlig: It's not super documented.  Your best bet is to just read the code
[23:00:24] <huhlig> mcpherrin ahh ok
[23:00:35] <Denommus> I guess it will have to be cmake
[23:00:53] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[23:01:00] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[23:01:17] <huhlig> siegelord how did you hack in rust support in cmake?
[23:01:31] <SiegeLord> I just used their custom command/target support
[23:02:03] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:02:44] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[23:02:47] <SiegeLord> Denommus: This may be of use if you go the cmake route: https://github.com/SiegeLord/RustCMake
[23:02:58] <huhlig> ahh ok
[23:03:04] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[23:03:28] <Denommus> SiegeLord: this seems... big
[23:03:32] <Tobba> ain.rs:24:3: 24:27 error: type `&process::Thread` does not implement any method in scope named `run`
[23:03:43] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:03:44] <Tobba> even though I have impl Thread { pub fn run(ticks: uint) { in another file
[23:03:54] <Denommus> SiegeLord: my make file is rather small, less than 30 lines
[23:04:01] <SiegeLord> Denommus: Well, it does a lot...
[23:04:01] <Tobba> and Thread is imported, no idea why it isnt finding it
[23:04:04] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[23:04:35] <SiegeLord> Denommus: There's a minimal example in this email: https://mail.mozilla.org/pipermail/rust-dev/2014-January/007659.html
[23:05:01] <Denommus> SiegeLord: I guess I would have to fight against cmake to convince it that I have a Rust project instead of a C or C++ one
[23:05:36] <Denommus> SiegeLord: while make does not make this kind of supposition
[23:05:36] <SiegeLord> CMake gives up as soon as you do project(project_name NONE)
[23:05:43] <Denommus> I guess I'll check nmake
[23:06:09] <Thom> hi
[23:06:19] <Denommus> I'm leaving, bye
[23:06:22] <SiegeLord> Well, if you seriously are comparing cmake vs make simply on their flexibility, then don't look at cmake :P
[23:06:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:06:23] *** Quits: cojennin (uid23526@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[23:06:40] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[23:06:52] <Denommus> SiegeLord: it's not just about flexibility, I want something that won't try to reinvent the module system, and that is cross-platform
[23:07:01] <Tobba> cmake is absolutely awful, I dunno if there are any reasonable alternatives though
[23:07:03] *** Quits: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP) (Quit: Bye!)
[23:07:11] <SiegeLord> One should use CMake for what it offers... in my case abstraction over filesystem handling, and an automatic clean target
[23:07:15] <Denommus> SiegeLord: it seems that nmake is the nearest thing I have from a GNU make for Windows
[23:07:18] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:07:28] <Tobba> nmake sorta works
[23:07:39] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:07:42] <Tobba> theres also the gnuwin make thing, which is what I used for building my stuff for a while
[23:07:49] <SiegeLord> I hate having to abstract over rmdir/install/del/rm/rmtree w/e
[23:08:04] <SiegeLord> And getting the clean target right is a pain too (ask rust devs ;))
[23:08:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:08:07] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[23:08:21] <Denommus> SiegeLord: for abstracting the filesystem, there is also Rake, but... it depends on Ruby :-/
[23:08:27] *** jorendorff is now known as jorendorff_away
[23:08:43] <Denommus> it is quite nice, though
[23:08:45] <Denommus> well, byt
[23:08:47] <Denommus> *bye
[23:08:55] *** Quits: Denommus (user@B10298EA.CBEEDAD3.AD91B79.IP) (Quit: going home)
[23:09:00] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[23:09:24] *** Quits: igork (Adium@9C577557.7893D71C.6E0EE79F.IP) (Quit: Leaving.)
[23:09:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[23:09:55] <Tobba> okay yeah I need to build a new master
[23:09:58] <Tobba> this is buggy as all hell
[23:11:48] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:11:53] <SiegeLord> Woohoo... for i in [1, 2, 3].iter() works
[23:11:56] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:12:12] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[23:12:13] <Tobba> its completely refusing to acknowledge that this method exists, what the hell
[23:12:24] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[23:12:49] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[23:12:58] <kimundi> Tobba: Huh, scoping issues? 
[23:13:02] <dbaupp> Tobba: import the trait
[23:13:08] <Tobba> yeah its not that
[23:13:19] *** Quits: valenting (Thunderbir@moz-EA478749.residential.rdsnet.ro) (Quit: valenting)
[23:13:23] <Tobba> even if I put the definition in the same file its just not there
[23:13:30] <huhlig> is there a serializable trait currently
[23:13:34] <Tobba> (its also imported)
[23:13:36] <huhlig> or something similar
[23:13:43] <Tobba> I'll mess with it some more in a bit
[23:13:53] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:14:06] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:14:29] <huhlig> trait serializable { fn byteLength() -> uint; fn toBytes() -> [u8]; fn fromBytes(~[u8]); }
[23:14:41] <huhlig> I cant find anything but I am not sure I would know where to look
[23:15:26] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[23:15:43] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:16:13] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:16:28] <kimundi> huhlig: Decodable and Encodable afaik
[23:16:32] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:16:44] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:16:59] <Tobba> impl Thread { pub fn run(ticks: uint) {
[23:17:22] <Tobba> main.rs:23:3: 23:27 error: type `&process::Thread` does not implement any method in scope named `run`
[23:17:27] <dbaupp> Tobba: are you call it like some_thread_value.run(10) or Thread::run(10)
[23:17:28] <dbaupp> ?
[23:17:38] <Tobba> oh for fucks sake I forgot self
[23:17:39] <dbaupp> because it doesn't have a self arg to be called as a method
[23:17:55] <Tobba> I should have seen that a lot earlier
[23:18:17] <dbaupp> we could have a check for this: when calling an non-existent method, check for static ones of the name.
[23:18:17] <Tobba> thanks dbaupp
[23:18:25] * dbaupp files  abug
[23:18:27] <Tobba> yeah that would be nice I guess
[23:18:32] <dbaupp> erm, a bug
[23:18:47] <Tobba> also whats with the "using module name as a type" when you screw up a trait definition
[23:20:05] <dbaupp> that one's weir
[23:20:07] <dbaupp> d
[23:20:39] <Tobba> sorry, screwing up an impl
[23:21:04] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[23:21:16] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[23:21:24] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[23:21:24] <dbaupp> Tobba: https://github.com/mozilla/rust/issues/11627
[23:21:25] <Tobba> specifically, if I try to do impl Rc<Process> I get process.rs:15:27: 15:38 error: found module name used as a type: impl process::__extensions__ (id=9151)
[23:21:36] <Tobba> ah, thanks
[23:21:50] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:22:44] <Tobba> the line number of that error is also wrong, no idea whats up with it
[23:22:44] <dbaupp> Tobba: file a bug about that one
[23:22:45] *** Quits: jhasse (jhass_000@moz-A87928AE.ewe-ip-backbone.de) (Quit: Verlassend)
[23:22:48] <Tobba> yeah I will
[23:24:57] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:27:32] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[23:27:51] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:29:16] *** Quits: ecr (chatzilla@moz-1FE08DA0.dhcp4.washington.edu) (Ping timeout)
[23:30:43] *** Joins: ecr (chatzilla@moz-1FE08DA0.dhcp4.washington.edu)
[23:32:23] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[23:32:27] *** Joins: heftig (heftig@moz-2C0ABEE2.dip0.t-ipconnect.de)
[23:32:35] *** Quits: Ferreus (ferreus@moz-7F37474A.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[23:33:16] *** Joins: dylukes (dylukes@91FCCB57.8733FE32.E8393EEB.IP)
[23:33:31] *** Quits: dylukes (dylukes@91FCCB57.8733FE32.E8393EEB.IP) (Quit: Textual IRC Client: www.textualapp.com)
[23:33:44] <Tobba> ugh now I have to deal with somehow making addrspace work in rust
[23:34:00] <Tobba> I'm considering the llvm assembly approach but I dont think it'll work
[23:34:19] <strcat> Tobba: why do you need addrspace?
[23:34:27] <Tobba> thread-specific state
[23:34:36] <Tobba> (CPU thread in this instance)
[23:34:41] <strcat> Tobba: hm, I don't really see why though
[23:35:06] <Tobba> tick counters, timeouts and contexts
[23:35:17] <Tobba> I can do an alternate approach but its awful
[23:35:19] <strcat> Tobba: are you targeting a specific arch?
[23:35:26] <Tobba> right now x86
[23:35:43] <Tobba> it doesnt matter though really, I can use a different approach on ARM etc
[23:36:08] *** Joins: a_m0d (a_m0d@moz-322A4DE4.acanac.net)
[23:36:15] <Tobba> its just with the other approach I will have to load the task register for every single access and perform some math on that, and thats awful
[23:36:17] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[23:36:23] <strcat> Tobba: on x86_64, linux uses the 2 remaining usable segment registers for TLS and CPU state
[23:36:30] <strcat> because they're not used for anything else
[23:36:39] <strcat> dunno about non-long-mode
[23:36:57] <Tobba> yeah thats what I do
[23:37:03] <Tobba> I use fs for thread local, gs for CPU state
[23:37:10] <strcat> so same as linux ;]
[23:37:13] <Tobba> yep
[23:37:16] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Ping timeout)
[23:37:16] <strcat> Tobba: hm, so why is addrspace needed?
[23:37:17] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[23:37:21] <Tobba> to access gs:
[23:37:30] <strcat> ah
[23:37:35] <Tobba> addrspace(256) tells LLVM that the pointer resides inside of the gs selector
[23:37:43] <Tobba> its sort of a special pointer type
[23:38:17] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[23:38:23] <Tobba> I'll just work around it a bit for now
[23:38:54] *** Quits: simon (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[23:39:35] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[23:39:51] *** Quits: nulldata (chatzilla@moz-C5F891AC.seas-nve.net) (Ping timeout)
[23:40:03] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:40:06] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[23:40:10] *** jorendorff_away is now known as jorendorff
[23:40:21] <johnsoft> are there any rust libraries in the way of html templating?
[23:41:04] <rdn> If I define and implement a trait for a type in a different library than where the type is defined, can I access that trait's implementation from a 3rd lib/app?
[23:41:16] <dbaupp> johnsoft: https://github.com/erickt/rust-mustache/
[23:41:35] <johnsoft> aww, it's not called rustache
[23:41:38] <johnsoft> thanks
[23:42:23] <dbaupp> heh
[23:42:24] <kimundi> rdn: In order to implement a trait for a type, either the type _or_ the trait needs to be defined in the same library - but as long as that is the case, you can use that impl from a third library without a hitch
[23:42:54] <kimundi> as long as both trait and type are public
[23:43:14] <rdn> The type is in lib-A, and the trait/impl-for is in lib-B
[23:43:41] <rdn> do i need to "pub use lib-A::Type" to get access to the impl from lib-C?
[23:43:42] <kimundi> If you then link to both A and B in C, you can use them
[23:44:08] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:44:25] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[23:44:32] <kimundi> both the trait and the type need to be public. only if they are public can you even use them in C. If they are public, and you use them in C, then nothing special needs to be done
[23:44:55] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:45:32] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[23:45:33] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Input/output error)
[23:45:50] <kimundi> Accessing the impl independent of the type doesn't make much sense - the only way to select the impl in code is by using the type
[23:47:19] <rdn> "instance.impl_method();" in lib-C is giving me "type `Type` does not implement any method in scope named `impl_method`"
[23:47:26] <SiegeLord> acrichto: Should I add motivation for my exponential notation PR, or is it self-evident why it should be implemented?
[23:47:41] <acrichto> SiegeLord: sure!
[23:48:03] <SiegeLord> I'd think that making ~50% of all floating points print something other than 0 might be useful
[23:48:29] <kimundi> rdn: Is the trait imported in lib-C ?
[23:49:20] *** Quits: new_one (new_one@2D115045.D0485D2E.B3C0173E.IP) (Ping timeout)
[23:49:21] *** Quits: pilf (pilf@moz-E8842E0A.dsl.bell.ca) (Quit: pilf)
[23:49:22] <rdn> there we go, thanks. assumed "use libB;" was sufficient
[23:49:41] <kimundi> Nope, the trait itself needs to be in scope :)
[23:49:54] <flaper87> acrichto: mmh, I think it did fail again for some other random reason
[23:50:11] <flaper87> acrichto: I'm looking at http://buildbot.rust-lang.org/console?refresh=15
[23:50:41] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[23:51:46] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[23:52:33] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: This bear's gotta fly.)
[23:52:42] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[23:52:50] *** Quits: shadower (tsedovic@moz-107AD163.redhat.com) (Ping timeout)
[23:53:08] *** flaper87 is now known as flaper87|afk
[23:55:01] *** Joins: sehugg (sehugg@moz-42540923.res.bhn.net)
[23:55:46] <acrichto> flaper87|afk: oh dear I just realized I @bors: retried the wron gone :(
[23:55:53] <acrichto> sorry about that :(
[23:56:01] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[23:56:56] *** Quits: mauricioc (mauricioc@578B4D.126E90D3.7C06F980.IP) (Ping timeout)
[23:58:10] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[23:59:35] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
