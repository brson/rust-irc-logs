[00:08:15] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Connection closed)
[00:08:34] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[00:41:18] *** Joins: stl (stl@moz-o9aiua.broadband.corbina.ru)
[00:42:24] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[01:02:57] *** Joins: quantheory (quantheory@moz-uiqd7j.co.comcast.net)
[01:11:16] *** Quits: quantheory (quantheory@moz-uiqd7j.co.comcast.net) (Ping timeout: 121 seconds)
[01:11:27] *** Joins: quantheory (quantheory@moz-uiqd7j.co.comcast.net)
[01:40:46] *** Quits: quantheory (quantheory@moz-uiqd7j.co.comcast.net) (Ping timeout: 121 seconds)
[01:40:57] *** Joins: quantheory (quantheory@moz-uiqd7j.co.comcast.net)
[02:00:09] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[02:10:57] *** Quits: zz_kimundi (kimundi@moz-a443b6.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:12:26] *** Joins: zz_kimundi (kimundi@moz-8joosr.dip0.t-ipconnect.de)
[02:12:27] *** zz_kimundi is now known as kimundi
[02:16:26] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[02:37:33] *** Joins: unwound (bkoropoff@moz-kthi5c.wa.comcast.net)
[03:28:54] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[03:31:44] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[03:32:31] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[03:34:08] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[03:37:00] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:38:21] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[03:52:10] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[04:11:57] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[04:24:25] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[04:28:27] *** Joins: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca)
[04:28:41] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[05:15:31] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[05:18:32] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[05:21:49] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[05:22:50] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[05:29:26] *** Quits: quantheory (quantheory@moz-uiqd7j.co.comcast.net) (Quit: Leaving)
[05:53:25] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[05:57:39] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[06:09:50] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[06:13:39] *** Joins: quantheory (quantheory@moz-ki0q9g.b7ng.glnu.0001.2601.IP)
[06:33:12] *** Quits: quantheory (quantheory@moz-ki0q9g.b7ng.glnu.0001.2601.IP) (Quit: Leaving)
[06:41:10] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[06:47:33] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[06:51:50] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[06:58:45] *** Joins: brson (brson@moz-eht.h80.36.209.IP)
[06:58:46] *** ChanServ sets mode: +qo brson brson
[07:41:46] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[07:46:00] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[07:58:00] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[08:35:49] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[08:40:07] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[08:49:16] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Connection closed)
[09:01:42] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[09:07:45] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[09:30:02] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[09:34:16] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[09:41:41] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:02:40] *** Joins: eddyb (eddyb@moz-egg.q07.26.188.IP)
[10:05:37] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[10:10:47] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[10:24:10] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[10:28:26] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[10:33:49] *** Quits: brson (brson@moz-eht.h80.36.209.IP) (Ping timeout: 121 seconds)
[11:08:53] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[11:13:57] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[11:18:19] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[11:22:37] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[11:25:43] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[11:36:53] *** Joins: Ms2ger (Ms2ger@moz-0smvhf.isp.belgacom.be)
[11:37:03] <Ms2ger> eddyb, sure
[11:37:06] <eddyb> great
[11:37:30] <eddyb> so, I'm not sure where rbml is using iterators
[11:37:45] <Ms2ger> I mean stuff like reader::docs
[11:38:01] <eddyb> but the whole design of that and serialize is faor game
[11:38:04] <eddyb> Ms2ger: oh
[11:38:27] <eddyb> I would lean heavily on "yes"
[11:39:00] <eddyb> Yurume has done some fine metadata work, I would pass this by him, too
[11:39:53] <eddyb> the whole metadata fiasco should be fixed with specialized deriving and specialized interfaces for encoding/decoding
[11:40:01] <Ms2ger> Well, so
[11:40:34] <Ms2ger> I'd be happy to poke at it when I'm bored, but not so much if it all gets thrown out right afterwards :)
[11:41:22] <eddyb> even not deriving but macros. before school forced me away from rustc development, I was fiddling with a deriving macro. I believe others have come up with similar solutions
[11:41:36] <eddyb> Ms2ger: there are two parts at play
[11:42:18] <eddyb> an outer layer of dynamic containers, which can "queried"
[11:43:01] <eddyb> and inner structures that would be optimally handled as untagged binary data
[11:43:10] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:43:10] <eddyb> and decoded all at once
[11:43:55] <eddyb> Ms2ger: for the outer part, reader::docs will likely continue to be relevant
[11:44:13] *** Joins: p1start (p1start@moz-nftjhe.org)
[11:45:14] <eddyb> Ms2ger: and being a docs method call thay returns an iterator will probably make a bunch of code nicer. which is good because we can focus on the uglier stuff then
[11:45:23] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[11:48:09] <eddyb> Ms2ger: did that answer your question?
[11:48:28] <Ms2ger> Yeah, I think so, thanks
[11:59:04] *** Joins: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com)
[12:05:45] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[12:10:54] *** Quits: eddyb_ (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[12:12:29] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[12:13:45] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[12:16:45] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[12:30:22] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[12:44:29] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Connection closed)
[12:44:57] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[12:46:03] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[13:12:05] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[13:13:07] *** Joins: arielb1 (Mibbit@moz-os36bp.tau.ac.il)
[13:14:47] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:16:37] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[13:35:36] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[13:35:37] *** ChanServ sets mode: +qo nrc nrc
[13:38:44] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[13:40:34] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[13:48:08] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[13:54:28] *** Quits: arielb1 (Mibbit@moz-os36bp.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[14:31:24] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[14:34:17] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[14:34:17] *** ChanServ sets mode: +o pnkfelix
[14:43:16] *** Joins: eddyb (eddyb@moz-egg.q07.26.188.IP)
[14:53:59] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[14:54:20] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[14:58:22] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[15:04:48] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[15:05:13] *** Quits: blank_name (blank_name@moz-n2h.nml.36.50.IP) (Ping timeout: 121 seconds)
[15:06:15] *** Joins: blank_name (blank_name@moz-i5o.u7h.36.50.IP)
[15:17:13] *** Quits: blank_name (blank_name@moz-i5o.u7h.36.50.IP) (Ping timeout: 121 seconds)
[15:17:16] *** Joins: blank_name (blank_name@moz-ekh.i54.183.192.IP)
[15:19:35] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[15:33:37] *** Quits: eddyb_ (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[15:35:33] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[15:46:22] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[15:46:23] *** ChanServ sets mode: +o pnkfelix
[15:57:46] *** Quits: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[16:26:50] *** Joins: unwound (bkoropoff@moz-kthi5c.wa.comcast.net)
[16:55:58] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[17:16:07] *** Joins: brson (brson@moz-eht.h80.36.209.IP)
[17:16:08] *** ChanServ sets mode: +qo brson brson
[17:28:45] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Connection closed)
[17:46:58] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[17:48:59] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[17:55:00] *** Quits: eddyb_ (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[18:13:55] *** Quits: brson (brson@moz-eht.h80.36.209.IP) (Ping timeout: 121 seconds)
[18:32:04] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Connection closed)
[18:32:32] *** Joins: Rym_ (y@moz-aun.38r.38.217.IP)
[18:56:18] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[18:56:38] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[19:00:40] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[19:13:52] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[19:13:52] *** ChanServ sets mode: +qo brson brson
[19:38:23] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[19:45:05] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[19:51:17] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[19:52:47] *** eddyb_ is now known as eddyb
[20:17:34] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Quit: leaving)
[20:18:10] *** Joins: brson (brson@moz-r1h.uhc.47.96.IP)
[20:18:11] *** ChanServ sets mode: +qo brson brson
[20:23:26] *** Joins: arielb1 (Ariel@moz-2trv48.red.bezeqint.net)
[20:27:52] *** Quits: brson (brson@moz-r1h.uhc.47.96.IP) (Ping timeout: 121 seconds)
[20:29:56] *** Joins: brson (brson@moz-7pn.pdv.48.37.IP)
[20:29:57] *** ChanServ sets mode: +qo brson brson
[20:45:47] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[20:45:56] *** Quits: Rym_ (y@moz-aun.38r.38.217.IP) (Connection closed)
[20:53:18] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:53:59] <Luqman> doener: for gh25497 it seems like the cleanups are just being added at the wrong scope
[20:54:22] <Luqman> so wrapping it in {...} adds a new scope and hence avoids it
[21:00:06] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[21:00:06] *** ChanServ sets mode: +qo nrc nrc
[21:02:47] *** Quits: Ms2ger (Ms2ger@moz-0smvhf.isp.belgacom.be) (Ping timeout: 121 seconds)
[21:08:26] <doener> Luqman: load i8**** %n -- oh my
[21:12:04] <doener> eddyb: this might be something for you... we're generating an "@constfoo = ... constant i8* null", and then memcpy it to somewhere
[21:20:22] <Luqman> doener: that's fine, it should be null
[21:21:03] <Luqman> since the nullable enum opt is applicable in this case so `Dummy` is represented as null
[21:22:33] <doener> Luqman: right, but really, "store i8* null, i8** %dest" should be sufficient ;-)
[21:23:22] <doener> not critical / buggy, but weird/unwieldy codegen
[21:23:30] <Luqman> yea :/
[21:30:29] *** Quits: brson (brson@moz-7pn.pdv.48.37.IP) (Ping timeout: 121 seconds)
[21:32:35] *** Joins: brson (brson@moz-iu7.mao.34.45.IP)
[21:32:35] *** ChanServ sets mode: +qo brson brson
[21:37:26] *** Quits: brson (brson@moz-iu7.mao.34.45.IP) (Ping timeout: 121 seconds)
[21:38:37] *** Joins: brson (brson@moz-f0v.335.39.84.IP)
[21:38:38] *** ChanServ sets mode: +qo brson brson
[22:13:33] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[22:48:17] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[23:27:46] *** Quits: arielb1 (Ariel@moz-2trv48.red.bezeqint.net) (Quit: Ex-Chat)
[23:35:07] *** Joins: SilverKey (SilverKey@moz-liif3j.res.rr.com)
[23:49:48] <eddyb> doener: too much const?
[23:50:54] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[23:50:55] <doener> eddyb: yeah, having a const for a null pointer seems like overkill
[23:51:15] <doener> eddyb: I don't really know the relevant code though
[23:51:21] <eddyb> doener: this is an issue I really wanted to avoid and there should be some special cases... either add more or avoid generating constant globals if a reference is not taken (which we track) and it's at most the size of a pointer
[23:51:31] <eddyb> doener: it's in the two expr entry points
[23:51:38] <eddyb> expr::trans and expr::trans_into
[23:51:50] <eddyb> have to find which one the enum goes through
