[00:07:34] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[00:08:12] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[00:14:31] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[00:16:52] *** Quits: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net) (Ping timeout: 121 seconds)
[00:18:53] *** Joins: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net)
[00:26:22] *** Joins: mcpherrin (mcpherrin@moz-clk6gh.ca.comcast.net)
[00:32:58] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:38:28] *** Joins: brson (brson@moz-u4t.ku8.145.82.IP)
[00:48:51] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[00:49:32] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[00:56:27] *** Joins: blank_na1e (blank_name@moz-p4egrb.mi.frontiernet.net)
[00:59:20] *** Quits: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net) (Ping timeout: 121 seconds)
[01:01:29] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[01:10:20] *** Joins: esclear (esclear@moz-7a6tjp.dip0.t-ipconnect.de)
[01:12:59] *** Quits: esclear_ (esclear@moz-7hlp7k.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:20:12] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[01:23:08] *** Quits: brson (brson@moz-u4t.ku8.145.82.IP) (Quit: leaving)
[01:57:14] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[02:03:28] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:11:53] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:15:15] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[02:30:11] *** Quits: atomic_ (atomic@moz-5uk5u4.tor-exit.network) (Connection closed)
[02:30:25] *** Joins: atomic_ (atomic@moz-0elh7o.nos-oignons.net)
[02:34:45] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[03:03:18] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:20:19] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[04:20:58] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[05:48:36] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:56:57] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[07:09:05] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:18:36] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[07:22:34] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[07:49:35] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[08:05:10] *** Joins: eddyb (eddyb@moz-e8s.ur8.27.188.IP)
[09:39:13] *** Joins: skeuomor1 (skeuomorf@moz-24o.5or.32.197.IP)
[09:41:39] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[09:44:49] *** Joins: skeuomorf (skeuomorf@moz-3dm.q8a.32.197.IP)
[09:47:12] *** Quits: skeuomor1 (skeuomorf@moz-24o.5or.32.197.IP) (Ping timeout: 121 seconds)
[10:38:38] *** Quits: skeuomorf (skeuomorf@moz-3dm.q8a.32.197.IP) (Quit: WeeChat 1.2)
[11:47:16] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[12:16:21] *** Joins: eddyb_ (eddyb@moz-c0q.mv7.25.188.IP)
[12:19:26] *** Quits: eddyb (eddyb@moz-e8s.ur8.27.188.IP) (Ping timeout: 121 seconds)
[12:51:42] <Tiffany> https://www.ietf.org/mail-archive/web/cfrg/current/msg06776.html neat
[12:54:24] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:27:00] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:42:41] *** eddyb_ is now known as eddyb
[13:57:56] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[13:58:24] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:01:12] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[14:02:30] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:58:48] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[15:48:25] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[15:50:10] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[15:54:22] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[16:00:31] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[16:03:35] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[16:08:04] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[17:01:47] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[17:22:05] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:47:13] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[18:22:37] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[18:25:35] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[18:36:14] <Ilari> Tiffany: Might get codepoints for that in TLS soon...
[18:47:12] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[20:00:11] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[20:12:01] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[20:38:43] *** Tuba is now known as Tobba
[20:53:17] <brson> I'm creating u64 cryptographic hashes from a bunch of different sources, some themselves u64 crytpo hashes. Is there any way I can combine multiple u64  hashes that is cheap and secure (right now I'm running back through SipHasher again)?
[20:59:29] <Tobba> I don't think SipHasher is a (cryptographically) secure function?
[20:59:48] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[21:05:51] <mcpherrin> brson: sounds like you want a merkle tree
[21:06:19] <brson> Tobba: SipHash is supposed to be cryptographically secure
[21:06:55] <Tobba> brson: I thought it was just statistically secure, otherwise it doesn't make sense to use for hash maps
[21:07:05] <Tobba> also rumba20 might be interesting for you
[21:12:07] <Tiffany> yeah, rumba20 sounds pretty appropriate
[21:12:57] <cmr> brson: Do you need any particular security property or is this for rustc's hashes?
[21:13:21] *** Quits: Yurume (Yurume@moz-0t8.piq.68.115.IP) (Ping timeout: 121 seconds)
[21:13:50] <cmr> brson: are any of the sources correlated? if they aren't you can use xor to mix them, but that's pretty sketch if you actually need a crypto hash.
[21:14:04] <cmr> (but mixing with xor is nice and easy)
[21:14:32] *** Joins: Yurume (Yurume@moz-0t8.piq.68.115.IP)
[21:16:43] <brson> cmr: I don't need to defend against attacks but I need no collisions
[21:16:57] <brson> cmr: it's for rustc purposes, hashing types together to create globally unique ids
[21:18:29] <brson> cmr: i don't know what correlated means, but it seems likely that they are
[21:18:57] <brson> some times it may just be a bunch of hashes of the same primitive type id
[21:19:02] <brson> plus some other unique info
[21:19:32] <brson> that does seem like xor would not be sufficient
[21:19:46] <brson> if i'm just xoring the hash of type id #1 10 times
[21:19:48] <cmr> Yeah totally bogus.
[21:21:19] <brson> i'm also curious to hear expert opinion on the suitability of only using 64 bits for content hashes and relying on non-collision
[21:22:20] <brson> (assuming no hostile attackers though - just random collisions)
[21:23:08] *** Quits: irobevjodu (ident@moz-5bq.k90.254.5.IP) (Ping timeout: 121 seconds)
[21:23:36] <brson> is there a general crypto irc channel that isn't a hive of scum and villainy?
[21:26:45] <Tiffany> this is the only crypto irc channel I know of
[21:26:58] <cmr> brson: http://en.wikipedia.org/wiki/Birthday_attack is relevant.
[21:27:06] <jtdowney> the #crypto room on freenode is ok
[21:27:14] <jtdowney> but yea, birthday attack is where i'd start
[21:27:35] <jtdowney> that gives you probabilities for collisions if it is random
[21:27:44] <cmr> brson: according to that page, 6.1 Ã— 10^8 hashes before a 1% probability of collision.
[21:27:46] <cmr> That seems sufficient.
[21:28:22] <brson> cmr: I don't know...
[21:28:41] <Tiffany> having an obscure linker error because of a 1 in a billion hash collision sounds pretty iffy
[21:28:42] <brson> we only get 600 million unique monomorphizations before we start colliding
[21:29:17] <brson> i wonder how many rust monomorphizations exist in the world right now
[21:29:46] <jtdowney> codegen a source file that trys to reach that limit
[21:29:47] <brson> servo has like 130k
[21:30:02] <brson> not all unique
[21:30:06] <brson> servo has maybe 60k unique
[21:30:16] <cmr> brson: We hit 600 million and then collide deterministically?
[21:30:41] <brson> cmr: not deterministically, but have a 1% chance as you say
[21:30:45] <cmr> Ok.
[21:30:55] <cmr> Oh that's the number I gave.
[21:30:58] <cmr> Sorry, distracted.
[21:30:59] <brson> 1% sounds like a big number
[21:31:07] <cmr> It does, but so does 600 milion.
[21:31:11] <brson> yeah
[21:31:13] <cmr> How much ram would rustc consume at that point?
[21:31:17] <Tiffany> I think the more worrying thing is not when you have 600 million monomorphizations
[21:31:18] <cmr> Or the metadata on disk?
[21:31:38] <Tiffany> but rather when you only have a hundred thousand and you end up with a collison on chance
[21:31:53] <brson> cmr: hm i wasn't considering whether they actually coexisted in the same project, just globally
[21:32:07] <mcpherrin> There's a fair amount of overlap of this channel and freenode's ##crypto
[21:32:09] <brson> it's much less likely that even if there are 1billion monomorphizations, that two collisions will be compiled together
[21:32:30] <brson> (1 billion monomorphizations in the whole world that is)
[21:33:20] <brson> Tiffany: that chance for any reasonably sized project needs to be vanishingly small right, effectively impossible?
[21:33:45] <brson> maybe we could take servo and extrapolate that the *biggest* rust project *ever* is like 2 orders of magnitude bigger
[21:34:16] <brson> then the chances of a collision with that number of monomorphizations needs to be effectively none
[21:34:17] <Tiffany> it's vanishingly small  but it's still a certain amount of random failure you're adding to the compiler which bothers me
[21:34:30] <brson> heh. well this isn't the first
[21:34:33] <brson> we love content hashes
[21:34:34] <Tiffany> oh, it's not?
[21:40:02] <cmr> brson: a 128 bit hash can still be compared (with suitable alignment) with decent vectorization and gives much better probabilities.
[21:40:32] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[21:42:47] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[21:46:18] <brson> Tiffany: we use content hashes to ensure that symbols don't collide primarily
[21:46:32] <brson> also to detect the need for rebuilds
[21:54:06] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[21:54:12] <bascule> the thing about SipHash for hashmaps is the occasional collision isn't catastrophic, it's only if an attacker can generate collisions that there's a problem
[21:55:57] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[21:56:11] <bascule> you could use Blake2b. there's already a pure Rust implementation, and since it just uses ChaCha20 internally it's very fast (i.e. faster than MD5) on 64-bit hardware
[21:57:10] <cmr> +1 blake2b, best hash function :p
[22:01:38] <Tiffany> blake2b is pretty neat
[22:02:10] <Tiffany> although if I need to pick a hash function for something I'll probably use sha-3, since it will end up being more widely supported
[22:02:58] <bascule> the thing about SHA-3 is it still doesn't exist
[22:03:01] <bascule> also it's slow
[22:03:48] <bascule> the relevance of NIST and FIPS 140(-2) is waning, IMO
[22:04:37] <bascule> there's an IETF draft for Blake2b, which if accepted would allow it to be used in TLS
[22:07:54] <Tiffany> I guess it is kind of slow
[22:07:58] <Tiffany> 12 cycles per byte iirc
[22:08:07] <Tiffany> what do you mean by doesn't exist?
[22:08:23] <Tiffany> keccak won the contest, but they haven't announced the final document or something?
[22:08:31] <bascule> yes
[22:08:54] <bascule> https://blake2.net/sandy.png
[22:10:10] <Tiffany> hm
[22:10:15] <Tiffany> I wonder why it's not lower
[22:10:23] <Tiffany> seeing how chacha is around 1.5
[22:11:12] *** Quits: eddyb (eddyb@moz-c0q.mv7.25.188.IP) (Ping timeout: 121 seconds)
[22:16:21] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[22:18:19] *** Quits: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:20:52] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[22:33:41] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[22:33:53] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[22:45:01] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[22:45:41] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:00:29] *** Joins: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com)
[23:03:43] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[23:04:46] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[23:43:10] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:55:12] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
