[00:06:33] *** Joins: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[00:16:37] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[00:16:37] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/9nzp7w
[00:16:37] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[00:21:34] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[00:21:34] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/1DUf_w
[00:21:34] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[00:21:40] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[00:21:41] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/N5nlxA
[00:21:41] <ghrust> 13rust/06auto 145d466ff 15Corey Richardson: Add a test for #6976...
[00:21:41] <ghrust> 13rust/06auto 14ed34cd1 15Corey Richardson: Better error message when using vectors in statics...
[00:21:41] <ghrust> 13rust/06auto 14b4197ae 15bors: auto merge of #10511 : cmr/rust/addtests, r=huonw...
[00:21:43] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[00:44:03] *** Quits: jdm (jdm@moz-ED0C7AC7.hinet-ip.hinet.net) (Quit: Lost terminal)
[00:48:10] *** Quits: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue)
[00:55:18] *** Joins: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net)
[01:26:43] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:26:43] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/N5nlxA
[01:26:43] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:29:36] *** kimundi is now known as zz_kimundi
[01:31:37] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[01:31:37] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/hsG7qg
[01:31:37] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[01:31:41] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[01:31:41] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/h7Vx3w
[01:31:41] <ghrust> 13rust/06auto 14bd8d5e3 15Andrei Formiga: Fixed uses of get() to unwrap() in doc examples in std::iter
[01:31:41] <ghrust> 13rust/06auto 14f37f575 15Andrei Formiga: Fixed docs for advance() in Iterator trait
[01:31:42] <ghrust> 13rust/06auto 14c9bdc0e 15bors: auto merge of #10533 : tautologico/rust/fixdocs, r=cmr...
[01:31:44] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[01:48:58] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[02:15:34] *** Joins: jdm (jdm@moz-99690620.hinet-ip.hinet.net)
[02:19:01] *** Joins: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net)
[02:19:14] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Client exited)
[02:19:18] *** Joins: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net)
[02:26:28] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[02:26:28] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:38:51] *** Quits: jdm (jdm@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[02:41:02] *** Joins: jdm (jdm@moz-99690620.hinet-ip.hinet.net)
[02:51:31] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[02:51:31] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14c9bdc0e to 14b4197ae: 02http://git.io/N3iJvQ
[02:51:31] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[02:51:35] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[02:51:36] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/GDI8Tw
[02:51:36] <ghrust> 13rust/06auto 142839805 15Andrei Formiga: Fixed uses of get() to unwrap() in doc examples in std::iter
[02:51:36] <ghrust> 13rust/06auto 141f27512 15Andrei Formiga: Fixed docs for advance() in Iterator trait
[02:51:36] <ghrust> 13rust/06auto 145e3123b 15bors: auto merge of #10533 : tautologico/rust/fixdocs, r=huonw...
[02:51:37] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:35:07] *** Quits: zz_kimundi (kimundi@moz-A47A651A.dip0.t-ipconnect.de) (Ping timeout)
[03:38:24] *** Joins: zz_kimundi (kimundi@moz-6EA0FED4.dip0.t-ipconnect.de)
[03:38:24] *** zz_kimundi is now known as kimundi
[03:39:54] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[03:47:21] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[03:54:42] *** Joins: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au)
[03:56:33] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[03:56:34] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/GDI8Tw
[03:56:34] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[04:01:36] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[04:01:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/0_JySQ
[04:01:36] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[04:03:28] <strcat> acrichto: around?
[05:06:28] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[05:06:28] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/Ljh43g
[05:06:28] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[05:11:28] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[05:11:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/iXLDGw
[05:11:28] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[05:11:32] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[05:11:32] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/HjXPTw
[05:11:32] <ghrust> 13rust/06auto 14b60b411 15Ian Daniher: fix 10468, propagate optimization level as rustc::driver::session::OptLevel
[05:11:32] <ghrust> 13rust/06auto 14727b70d 15bors: auto merge of #10526 : itdaniher/rust/master, r=pcwalton...
[05:11:33] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[05:15:11] *** Joins: yuriks_ (yuriks@74A1181A.6C9AD9C4.8E0C6B01.IP)
[05:15:49] *** Quits: yuriks (yuriks@DD48A7C8.D06AB739.748B6D8D.IP) (Ping timeout)
[05:20:57] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[05:21:18] <acrichto> strcat: now I am
[05:25:03] *** Quits: eddyb9 (eddy@336E3A7F.D51DAF03.FB866788.IP) (Quit: Leaving)
[06:06:52] *** Joins: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net)
[06:16:29] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[06:16:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/HjXPTw
[06:16:29] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[06:21:24] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[06:21:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/EOS_5g
[06:21:24] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[06:21:28] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[06:21:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/faKFnA
[06:21:28] <ghrust> 13rust/06auto 14dab8fec 15Alex Crichton: Forbid privacy in inner functions...
[06:21:28] <ghrust> 13rust/06auto 148eda5d8 15bors: auto merge of #10443 : alexcrichton/rust/meaninless-pub-priv, r=cmr...
[06:21:29] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[06:24:16] <strcat> acrichto: https://github.com/thestinger/rust-core/blob/master/core/concurrent.rs#L73 sample use case for 2 cond vars with 1 mutex, fwiw
[06:24:42] <strcat> do we need windows XP support?
[06:24:46] <strcat> vista add cond vars
[06:24:49] <strcat> added*
[06:24:58] <klutzy> xp sp3 or below?
[06:25:09] <strcat> doesn't support end in 2014?
[06:26:13] <dbaupp> "Windows XP SP3 and Office 2003 Support Ends April 8th, 2014 "
[06:26:15] <klutzy> yep
[06:26:19] <strcat> http://msdn.microsoft.com/en-us/library/windows/desktop/ms682052(v=vs.85).aspx
[06:26:40] <strcat> I guess you can't target XP with MSVC + C++11
[06:26:46] <strcat> it has cond vars too...
[06:27:18] <dbaupp> "while( TestPredicate() == FALSE )", really?
[06:27:27] <strcat> dbaupp: yeah
[06:27:38] <strcat> dbaupp: a cond var has spurious (arbitrary) wakeups
[06:27:43] <strcat> you need to check the condition in a loop
[06:27:50] <dbaupp> no, I mean `== FALSE`
[06:27:53] <strcat> oh ;p
[06:28:00] <strcat> yes, microsoft is fucked that way ;p
[06:28:01] * dbaupp knows about the wakeups :P
[06:28:29] <strcat> dbaupp: I expect FALSE is -1
[06:28:30] <poiru> strcat: VS2012 (with at least Update 1) and VS2013 support XP with all C++11 features.
[06:29:01] <poiru> strcat: You need to explicitly use e.g. the v110_xp toolset, though.
[06:29:03] <strcat> poiru: ah so I guess they just emulate it? or just use undocumented features
[06:30:26] <dbaupp> strcat: no, it's 0 (according to mingw)
[06:30:41] * dbaupp shrugs
[06:30:45] <strcat> dbaupp: well... I have no idea why they write it that way, then
[06:30:54] <strcat> or why they have those at all when they could use a bool ;p
[06:31:04] <strcat> rusti: 2
[06:31:08] -rusti- 2
[06:34:07] <strcat> 'Condition variables are nearly impossible to implement correctly on Windows XP or earlier. Our implementation is correct, but _very_ slow. Whenever you use a CV you are disproportionately harming our performance on Windows.' chrome docs ;s
[06:35:48] <dbaupp> well, we're unlikely to have a large (positive) gap between 1.0 and April 8 next year, so it doesn't matter?
[06:40:27] <poiru> strcat: Sorry, I don't know what you were talking about :) Just happended to see your message about MSVC.
[06:43:37] <poiru> strcat: BOOL is just historifical artifact. The WinAPI also uses BOOLEAN and VARIANT_BOOL to spice things up...
[06:44:43] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[06:47:28] <poiru> strcat: Oh, now I see what you meant. The condition variable API is implemented only on Vista+, but you could have a custom implementation solely for XP and then use GetProcAddress() to access the condition variable API on Vista and later.
[06:49:20] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[06:59:21] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Connection reset by peer)
[07:00:50] *** Joins: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net)
[07:21:24] <cmr> acrichto: so are we moving away from glob imports in the codebase?
[07:24:18] <acrichto> cmr: only where it seems like a stylistic smell to me, not officially that I know of
[07:25:52] <dbaupp> "17:16:08 - acrichto: let me just fix it tomorrow" ... an hour later https://github.com/mozilla/rust/pull/10539
[07:25:59] <dbaupp> (why'd you lie to us! :P )
[07:26:08] <acrichto> aww man in 35 mins it'd be tomorrow
[07:26:08] <cmr> hahah
[07:26:16] <cmr> (this is why we love you!0
[07:26:33] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[07:26:33] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/faKFnA
[07:26:33] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[07:31:29] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[07:31:29] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/sv9DBA
[07:31:29] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[07:31:29] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[07:31:29] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/iSJOjg
[07:31:29] <ghrust> 13rust/06auto 1411fc055 15Alex Crichton: Implement a native mutex type...
[07:31:29] <ghrust> 13rust/06auto 1456b3ec2 15Alex Crichton: Remove the C++ lock_and_signal type...
[07:31:30] <ghrust> 13rust/06auto 1425a1669 15Alex Crichton: Move runtime files to C instead of C++...
[07:31:32] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[07:33:13] <dbaupp> acrichto: everything other than the propagate_node function and this if https://github.com/mozilla/rust/pull/10539/files#diff-896d2c044f21cf78ca23be2b4b6a52a1R279 are just indentation changes, yeah?
[07:34:09] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Connection reset by peer)
[07:34:50] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[07:41:29] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[07:41:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1491f1b45 to 148eda5d8: 02http://git.io/N3iJvQ
[07:41:29] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[07:41:33] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[07:41:33] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/AnCF2Q
[07:41:33] <ghrust> 13rust/06auto 148e59c5d 15Chris Morgan: Don't make tags for our dependencies and tests....
[07:41:33] <ghrust> 13rust/06auto 144dded43 15bors: auto merge of #10508 : chris-morgan/rust/tags-improvements, r=cmr...
[07:41:33] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[07:48:11] <acrichto> dbaupp: correct, I wish github were smarter :(
[07:48:54] *** flaper87|afk is now known as flaper87
[07:53:07] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:54:07] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:54:47] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[07:57:43] <sfackler> is there unique identifier for tasks that client code can get at?
[08:10:00] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:12:23] *** Joins: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net)
[08:17:54] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[08:21:14] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[08:25:42] *** Quits: doomlord_ (servitor@moz-4625DF14.range86-184.btcentralplus.com) (Ping timeout)
[08:34:13] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[08:34:13] *** ChanServ sets mode: +ao pcwalton pcwalton
[08:37:56] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Client exited)
[08:46:32] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[08:46:32] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/AnCF2Q
[08:46:32] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[08:51:29] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[08:51:29] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/i3GP5A
[08:51:29] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[08:51:32] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[08:51:32] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/fawa_A
[08:51:32] <ghrust> 13rust/06auto 14c288019 15Alex Crichton: Don't mark reachable extern fns as internal...
[08:51:32] <ghrust> 13rust/06auto 14e0db813 15bors: auto merge of #10539 : alexcrichton/rust/external-linkage, r=pcwalton...
[08:51:32] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[09:07:46] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[09:28:43] *** Quits: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru) (Ping timeout)
[09:29:09] <cmr> Is the script that sends out triage emails public somewhere?
[09:32:11] *** Joins: Kxepal (Miranda@moz-ADF2988C.pppoe.mtu-net.ru)
[09:42:17] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[09:42:20] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[09:56:51] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:12:43] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[10:22:07] *** Quits: jdm (jdm@moz-99690620.hinet-ip.hinet.net) (Quit: Lost terminal)
[10:59:16] *** Quits: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au) (Ping timeout)
[10:59:47] *** Joins: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au)
[11:44:19] <dbaupp> cmr: https://github.com/brson/triage
[11:46:58] <cmr> ohhh, thanks!
[11:51:54] <dbaupp> https://github.com/mozilla/rust/pull/10542 r?
[12:03:12] <dbaupp> cmr: (I just pushed a new revision of #10542 fwiw (just with some new comments).)
[12:03:38] <cmr> ok cool, I was actually going to ask for some more comments :P
[12:03:48] * cmr doesn't really follow the logic that keeps the invariants
[12:04:03] <cmr> (I was also going to leave the r+ to someone who knows the mathsy things)
[12:04:10] <dbaupp> that's exactly where the comments are :P
[12:04:21] <dbaupp> but yeah, feel free to let it sit
[12:06:04] <cmr> What distribution is this using? And does it matter?
[12:06:14] * cmr only knows vague things about randomness
[12:08:37] <dbaupp> uniform... which is probably worth mentioning
[12:11:15] <cmr> I imagine there are ways to go from uniform -> anything?
[12:12:16] <dbaupp> yes
[12:12:42] <dbaupp> most basically http://en.wikipedia.org/wiki/Inverse_transform_sampling
[12:13:36] <dbaupp> but that's often quite slow, so you get fancier things like Ziggurat (used for exponential and normal) and <some name> used for gamma
[12:14:23] <cmr> heh
[12:14:29] <cmr> Thanks for the link!
[12:15:28] <dbaupp> (Ziggurat and gamma have references in the docs for std::rand::distributions::{Normal, Exp, Gamma} if you're at all interested, although they're not particularly interesting papers.)
[12:16:48] <benh> oh dear i was trying to find out about inverse transform sampling, not knowing that term, by skimming random statistics article on wikipedia a while ago
[12:17:12] <dbaupp> just ask IRC, it knows everything. :P
[12:29:47] *** kimundi is now known as zz_kimundi
[12:38:40] *** zz_kimundi is now known as kimundi
[12:39:20] *** Quits: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131114085019])
[12:42:23] *** kimundi is now known as zz_kimundi
[13:08:05] *** zz_kimundi is now known as kimundi
[13:24:14] *** Joins: jdm (jdm@moz-ED0C7AC7.hinet-ip.hinet.net)
[13:37:22] *** Joins: w3lcome (Mibbit@moz-177EEEFC.home.otenet.gr)
[14:28:05] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:01:32] *** kimundi is now known as zz_kimundi
[15:03:24] <nmatsakis> pnkfelix: force all big things to be owned?
[15:03:27] <pnkfelix> nmatsakis: so to continue my train of thought
[15:03:39] <pnkfelix> nmatsakis: yeah, if you force big things to be owned, and give them a dedicated space
[15:03:39] <nmatsakis> pnkfelix: i.e., make some kind of rule like "if structs are bigger than K bytes, they must be referenced via ~"?
[15:03:44] <pnkfelix> nmatsakis: right
[15:04:06] <nmatsakis> ok -- that sounds like it'd require restrictions like DST
[15:04:08] <pnkfelix> nmatsakis: then that might make certain patterns easier, namely big-bag-of-pages
[15:04:13] <nmatsakis> but yes that'd make pages easier
[15:04:19] <nmatsakis> er that'd make a lot of things easier I imagine
[15:05:27] <pnkfelix> nmatsakis: that in turn may make it easier to resolve interior pointers
[15:05:47] <pnkfelix> nmatsakis: i.e. map them up to the start of the referenced object
[15:05:51] <nmatsakis> sure
[15:05:57] <nmatsakis> I can definitely see some practical advantaes
[15:06:00] <nmatsakis> *advantages
[15:06:07] <nmatsakis> but I also foresee a lot of opposition :)
[15:06:36] <nmatsakis> it seems like "toobig" would be a 3rd category, in between "normal" and "unsized"
[15:06:39] <pnkfelix> nmatsakis: really?  I was under the impression that people had already (maybe?) signed on to not allowing variable sized Gc<T>
[15:06:55] <pnkfelix> nmatsakis: ah okay so your understanding does match my own
[15:07:27] <pnkfelix> nmatsakis: The main drawback I can think of
[15:07:33] <nmatsakis> pnkfelix: hmm, so long as the implications are limited to what you can put in a GC<T>, I foresee less opposition, yes
[15:07:37] <pnkfelix> nmatsakis:  is if someone has a body of code that is close to the threshold
[15:07:45] <pnkfelix> nmatsakis: and then they add a new field to their T
[15:07:51] <pnkfelix> nmatsakis: and suddenly their code doesn't compile
[15:07:56] <pnkfelix> nmatsakis: I can see that person being sad.
[15:08:35] <pnkfelix> nmatsakis: Oh, the other thing I wanted to mention to you
[15:08:40] <pnkfelix> nmatsakis: (almost totally unrelated)
[15:08:46] <pnkfelix> nmatsakis: On the three-word OwnedVec thing
[15:08:54] <pnkfelix> nmatsakis: I think you said you had thoughts on that 
[15:08:57] <pnkfelix> nmatsakis: I wanted to share my own
[15:09:08] <pnkfelix> nmatsakis: which is that one could imagine a slight change to the API
[15:09:41] <pnkfelix> nmatsakis: so that OwnedVec is two words (carries length + *data; the capacity is kept at a negative offset from *data)
[15:09:55] <pnkfelix> nmatsakis: but when you want to start pushing/popping stuff
[15:10:20] <pnkfelix> nmatsakis: you can convert it from the two word rep to a three word rep
[15:11:10] <nmatsakis> pnkfelix: oh? that sounds... enormously complex
[15:11:19] <nmatsakis> pnkfelix: are you envisioning that as a local optimization (keep a shadow of capacity?)
[15:11:21] <pnkfelix> nmatsakis: represented by a different type (and likewise that can be converted back to the two word rep)
[15:11:26] <pnkfelix> nmatsakis: yes exactly
[15:11:39] <pnkfelix> nmatsakis: a local optimization
[15:11:50] <pnkfelix> This is basically adding fuel to the fire saying that having a plurality of vec representation could be a good thing
[15:12:11] <pnkfelix> nmatsakis: this approach doesn't completely address all of strcat's complaints
[15:12:39] <pnkfelix> nmatsakis: namely storing the capacity with the *data (even at a negative offset) still means you have to do various arithmetic and overflow checks when pushing/popping
[15:13:19] <pnkfelix> nmatsakis: its basically just a way to only pay for two words per ~[T] instead of three words per ~[T].
[15:14:31] <pnkfelix> nmatsakis: but this is again probably misguided
[15:14:32] <nmatsakis> pnkfelix: what you gain, I guess, is that in the common case (len + 1 < cap) you can just push
[15:14:51] <pnkfelix> nmatsakis: (since I'm just moving a word from the local ~[T] over to the *data)
[15:15:01] <nmatsakis> I'm really feeling unconcerned about sizeof(~[T]) and sizeof(&[T])
[15:15:10] <nmatsakis> whaever they end up being called
[15:15:14] <pnkfelix> Well, the problem I have
[15:15:16] <nmatsakis> maybe i'm too blithe
[15:15:22] <pnkfelix> is that one can have many &[T] for one ~[T]
[15:15:37] <pnkfelix> and so the cost of the size of &[T] may matter
[15:15:52] <nmatsakis> (but I do feel increasingly strongly that sigil-T should have same layout for all sigils)
[15:16:17] <nmatsakis> yes, I could be wrong about importance of size of &[T]
[15:16:31] <nmatsakis> I guess one big question is whether this approach: http://smallcultfollowing.com/babysteps/blog/2013/11/14/treating-vectors-like-any-other-container/
[15:16:34] <nmatsakis> makes sense
[15:16:47] <nmatsakis> if so, then "slice" and "borrowed vector" are not the same thing,
[15:16:59] <nmatsakis> and so this question doesn't matter.
[15:17:29] <nmatsakis> I still don't know whether it makes sense. 
[15:17:37] <pnkfelix> I wish you had found shorter names and or names of all the same length for the variants.  :)
[15:19:11] <pnkfelix> e.g. someway that substituting invariants keeps the change local, doesn't disrupt the rest of the line, for focusing diffs
[15:19:19] *** zz_kimundi is now known as kimundi
[15:20:21] <pnkfelix> ~[T] ==> Vec<T>, &[T] ==> Sec<T> (and &'a [T] ==> Sec<'a, T>), ~str ==> String, &'a str ==> Substr<'a>
[15:20:49] <pnkfelix> but maybe this just is continued insanity from the mind that brought you &our
[15:22:47] <nmatsakis> pnkfelix: I intentionally put 0 effort into finding "final" names
[15:23:03] <nmatsakis> pnkfelix: since I figured that bikeshedding name would be part of th efun
[15:23:04] <pnkfelix> nmatsakis: fair enough
[15:23:06] <nmatsakis> *the fun
[15:23:21] <nmatsakis> pnkfelix: but I don't like "Sec<T>" :) -- what is that supposed to be?
[15:23:26] <pnkfelix> nmatsakis: Section
[15:23:28] <nmatsakis> ah
[15:23:30] <pnkfelix> nmatsakis: but spelled like "Vec"
[15:23:42] <pnkfelix> nmatsakis: to encourage analogy
[15:23:52] <nmatsakis> Yes. I figured Vector<T> => Vec<T> was a no brainer,
[15:23:52] <pnkfelix> nmatsakis: I don't have a pithy three letter word for Slice
[15:24:01] <nmatsakis> Slc<T> doesn't appeal to you ;)
[15:24:03] <pnkfelix> Cut<T>
[15:24:07] <pnkfelix> is one I consider
[15:24:08] <pnkfelix> ed
[15:24:19] <nmatsakis> Subvec
[15:24:30] <pnkfelix> Vector + Subvec 
[15:24:36] <pnkfelix> I could live with that
[15:24:44] <nmatsakis> :)
[16:08:45] <pauls> kimundi: you still need a macro person?
[16:14:59] *** Quits: jdm (jdm@moz-ED0C7AC7.hinet-ip.hinet.net) (Ping timeout)
[16:17:01] *** kimundi is now known as zz_kimundi
[16:38:10] <pnkfelix> nmatsakis: fyi here are some experience reports from others trying to do GC atop LLVM recently: http://www.gamedev.net/blog/355/entry-2256288-real-world-garbage-collection-with-llvm/
[16:38:17] <pnkfelix> nmatsakis: http://code.google.com/p/epoch-language/wiki/GarbageCollectionScheme
[16:38:36] <nmatsakis> pnkfelix: excellent
[16:38:52] <pnkfelix> nmatsakis: from that it sounds like the current LLVM API for stack maps might be insufficient
[16:39:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:39:53] <pnkfelix> nmatsakis: but maybe we can adopt some of the workarounds that have been used in Epoch
[16:40:20] <nmatsakis> pnkfelix: oh? I am not getting that at all from what I read so far
[16:40:38] <nmatsakis> pnkfelix: but I didn't get to the pitfalls sec yet :)
[16:40:46] <nmatsakis> pnkfelix: but they mention that they are using jit and say that stack map support for jit is weak, but we don't jit
[16:40:48] <pnkfelix> nmatsakis: e.g. this text: "However, accessing the stack maps can be difficult in a JIT environment. As of LLVM 3.3, the only proper support for reading stack maps requires emitting assembly language dumps instead of machine code."
[16:40:57] <pnkfelix> nmatsakis: I guess that is true
[16:41:28] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:43:30] <nmatsakis> pnkfelix: this sounds relevant http://llvm.org/bugs/show_bug.cgi?id=16778 particularly with respect to "hidden costs of stack maps
[16:44:01] <nmatsakis> "The interim solution to this involves a custom lowering pass in the GCStrategy used by the Epoch runtime; this lowering pass eliminates all calls to the lifetime intrinsics. This costs a small amount of extra stack space, but we feel that this is a reasonable tradeoff for getting a working garbage collector! "
[16:44:24] <nmatsakis> all in all I think that report sounds prety positive
[16:45:27] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[16:46:31] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[16:46:50] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[16:47:30] <pnkfelix> nmatsakis: I'm still thinking I'm going to try to go with conservative stack scan first
[16:47:55] <pnkfelix> nmatsakis: (and precise heap traversal)
[16:48:10] <pnkfelix> nmatsakis: in an effort to isolate concerns
[16:48:37] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[16:50:22] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[16:54:18] <nmatsakis> pnkfelix: isolating concerns is always good
[16:55:12] *** zz_kimundi is now known as kimundi
[16:56:32] <nmatsakis> pnkfelix: interestingly, as I read through borrowck code again, I feel like moving GC out of lang and into (privileged) library would bring a net simplification there
[16:57:09] <nmatsakis> basically all the code dedicated to managed pointers get encapsulated in the deref trait, I believe
[16:57:18] <nmatsakis> which is nice because that's proibably the ugliest code
[16:57:27] <nmatsakis> and it basically get subsumed by the management of autoref
[16:57:30] <nmatsakis> this pleases me greatly
[17:01:29] <pnkfelix> Am I crazy for getting confused by the name Deref for this trait?  For some reason I mentally separate the act of a load from memory (which is what I think of as a Deref) from the conversion from a Smart<T> to &T
[17:01:45] <pnkfelix> (ToBorrowed trait?  LoadEffectiveAddress trait?  sigh...)
[17:03:42] <pnkfelix> maybe I just need to pronounce "Deref" as "ToDeref", or something.
[17:08:54] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[17:09:21] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[17:11:17] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[17:12:03] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:26:08] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[17:28:10] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Ping timeout)
[17:28:38] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[17:31:07] *** Joins: doomlord_ (servitor@moz-4625DF14.range86-184.btcentralplus.com)
[17:36:09] <acrichto> rusti: (1 << 32) as f32
[17:36:10] -rusti- 4294967266f32
[17:36:18] <acrichto> rusti: 1 << 32
[17:36:19] -rusti- 4294967296
[17:37:14] *** flaper87 is now known as flaper87|afk
[18:01:41] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[18:01:42] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/c1lYCw
[18:01:42] <ghrust> 13rust/06auto 1411fc055 15Alex Crichton: Implement a native mutex type...
[18:01:42] <ghrust> 13rust/06auto 1456b3ec2 15Alex Crichton: Remove the C++ lock_and_signal type...
[18:01:42] <ghrust> 13rust/06auto 1425a1669 15Alex Crichton: Move runtime files to C instead of C++...
[18:01:44] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[18:05:05] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:05:05] *** ChanServ sets mode: +qo brson brson
[18:08:09] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[18:08:09] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:08:43] *** Joins: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP)
[18:16:48] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[18:16:48] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 149e935e6 to 144dded43: 02http://git.io/N3iJvQ
[18:16:48] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[18:16:49] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[18:16:49] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/0dENHg
[18:16:49] <ghrust> 13rust/06auto 1411fc055 15Alex Crichton: Implement a native mutex type...
[18:16:49] <ghrust> 13rust/06auto 1456b3ec2 15Alex Crichton: Remove the C++ lock_and_signal type...
[18:16:50] <ghrust> 13rust/06auto 1425a1669 15Alex Crichton: Move runtime files to C instead of C++...
[18:16:52] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[18:26:51] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[18:26:51] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 141ac5cfb to 144dded43: 02http://git.io/N3iJvQ
[18:26:51] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[18:26:54] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[18:26:54] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/O58HnA
[18:26:54] <ghrust> 13rust/06auto 144ddeef3 15Alex Crichton: Don't mark reachable extern fns as internal...
[18:26:54] <ghrust> 13rust/06auto 146c8b702 15bors: auto merge of #10539 : alexcrichton/rust/external-linkage, r=pcwalton...
[18:26:55] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[18:27:22] *** Joins: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net)
[18:32:17] *** Joins: kode-crypt (chatzilla@9BE163B0.70578880.F102451D.IP)
[18:32:22] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[18:32:25] <pcwalton> acrichto: thanks for that patch btw
[18:32:54] <acrichto> pcwalton: np
[18:35:45] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[18:38:18] <kode-crypt> hi @all greeting to room :)
[18:38:41] <kode-crypt> i am looking forward to work on debug symbols of rust.
[18:41:18] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[18:43:44] *** Quits: kode-crypt (chatzilla@9BE163B0.70578880.F102451D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131028113246])
[18:46:10] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[18:48:00] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[18:58:40] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[19:00:57] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[19:05:03] * nmatsakis wants debug symbols
[19:18:10] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:21:57] *** Joins: ktt3ja (Mibbit@4697C697.B9AD9095.DDE5D3F6.IP)
[19:24:45] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[19:25:35] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[19:27:24] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:28:13] <kimundi> Someone here I can talk with about the new closure syntax?
[19:28:23] <nmatsakis> kimundi: whats up
[19:28:36] <kimundi> I noticed a odd syntactic ambiguity
[19:29:04] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:29:42] <kimundi> If you have a function that takes a reference to a closure the lifetime specifier becomes confusing
[19:30:16] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:30:30] <kimundi> fn foo(&|T| -> U), fn foo(&'a |T| -> U) and fn foo(&'a 'a |T| -> U) are all valid, and in the second one you can'T tell which one of both the lifetimes is supposed to belong to
[19:30:49] <nmatsakis> kimundi: this is parser bug, 'a |T| shouldn't parse
[19:30:51] <nmatsakis> it should be |T|:'a
[19:30:58] <kimundi> Oh...
[19:31:04] * kimundi wonders why his code works
[19:31:13] <nmatsakis> the parser may well be wrong
[19:31:20] <nmatsakis> maybe got overlooked
[19:31:59] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[19:31:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/O58HnA
[19:31:59] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[19:32:05] <kimundi> well, if I change to that syntax I get compile errors
[19:32:21] <kimundi> this works: impl<'a> StringPrefixMatch for 'a |$self_anon| -> bool
[19:32:31] <kimundi> this doesn't: impl<'a> StringPrefixMatch for |$self_anon|:'a -> bool
[19:32:36] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[19:33:13] <kimundi> wait, but I get a "'static is the only valid region allowed here" error, not a other error...
[19:33:14] <nmatsakis> kimundi: I think it's just a parser bug
[19:33:31] <nmatsakis> kimundi: yes, I can understand why that would occur
[19:33:38] <kimundi> why?
[19:33:57] <nmatsakis> kimundi: basically because some cleanup is needed
[19:34:10] <nmatsakis> we are interpreting |...|:K with K as a list of bounds , which is correct,
[19:34:17] <nmatsakis> but we currently haven't implemented support for arbitrary lifetimes in bounds,
[19:34:20] <nmatsakis> which is wrong,
[19:34:26] <nmatsakis> and instead we have spceial case treatment for closures,
[19:34:33] <kimundi> Ah, so it only accepts the 'static bound there
[19:34:33] <nmatsakis> which kind of fit ok with the old syntax,
[19:34:44] <nmatsakis> but in the newer one we really should be just using general lifetimes in bounds
[19:35:03] <nmatsakis> kimundi: if you want to open an issue (perhaps with this IRC text...) and cc me I'd appreciate it
[19:35:21] <nmatsakis> kimundi: I'm digging a bit in that area I might be able to clean that up too
[19:35:22] * kimundi starts copy pasting
[19:36:25] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:36:58] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[19:36:58] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/YziB5Q
[19:36:58] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[19:36:58] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:36:59] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/tPrQug
[19:36:59] <ghrust> 13rust/06auto 142417990 15Alex Crichton: Implement a native mutex type...
[19:36:59] <ghrust> 13rust/06auto 14aad7938 15Alex Crichton: Remove the C++ lock_and_signal type...
[19:36:59] <ghrust> 13rust/06auto 14017283e 15Alex Crichton: Move runtime files to C instead of C++...
[19:37:01] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:39:31] <kimundi> nmatsakis: https://github.com/mozilla/rust/issues/10553
[19:48:04] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[19:49:55] <ktt3ja> in a dead-code warning pass, if I have `struct Foo;  impl Foo { pub fn foo(); }`, and `Foo` is never used, should the method `foo` be warned also?
[19:50:24] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[19:53:02] *** Joins: brson_ (brson@6A848D32.C1B840DD.76F66111.IP)
[19:53:06] <eddyb> ktt3ja: you can't call foo if you don't use Foo, so I'm not sure if it would make sense, for anything else other than consistency
[19:54:02] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:54:20] <ktt3ja> eddyb: which would make sense? warn or not warn?
[19:56:14] <eddyb> ktt3ja: not sure if it would make sense to warn about the lack of an impossible usage
[19:56:43] *** Quits: brson_ (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[19:56:47] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[19:56:47] *** ChanServ sets mode: +qo brson brson
[19:58:50] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:00:02] <ktt3ja> eddyb: if struct `Foo` remains private, and method `foo` is still not used, should `foo` be warned then?
[20:01:01] <eddyb> (note: I'm not anyone officially affiliated with Rust - assuming so might result in random bad advice)
[20:01:27] <eddyb> ktt3ja: I... I would ask someone who knows this stuff better
[20:01:38] <eddyb> (which is mostly everyone in this channel)
[20:01:52] <eddyb> excuse rusti for being such a dumbass
[20:02:10] <ktt3ja> hmm, ok
[20:06:55] <ktt3ja> rusti: println("I'm not dumb :(");
[20:06:56] -rusti- I'm not dumb :(
[20:06:56] -rusti- ()
[20:06:59] <ktt3ja> hmm
[20:07:44] *** Quits: ktt3ja (Mibbit@4697C697.B9AD9095.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:13:22] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[20:26:09] *** Quits: cyndis (cyndis@moz-C4357EA7.kapsi.fi) (Quit: leaving)
[20:29:27] *** Joins: cyndis (cyndis@moz-C4357EA7.kapsi.fi)
[20:32:32] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[20:42:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:51:16] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[21:05:16] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[21:26:38] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[21:26:38] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:27:05] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[21:43:40] *** Joins: tikue (tkuehn@CDCD6B77.F3E8A984.689607DE.IP)
[21:46:56] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[21:46:56] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 146b1e7f2 to 146c8b702: 02http://git.io/N3iJvQ
[21:46:56] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[21:47:04] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[21:47:04] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/R5M_Ug
[21:47:04] <ghrust> 13rust/06auto 14ec27c09 15Guillaume Pinot: pidigits resurected...
[21:47:04] <ghrust> 13rust/06auto 143d569df 15bors: auto merge of #10555 : TeXitoi/rust/pidigits-resurected, r=alexcrichton...
[21:47:05] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:03:07] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:13:27] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:25:53] *** Joins: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au)
[22:29:02] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[22:31:08] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[22:31:59] *** kimundi is now known as zz_kimundi
[22:33:09] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:34:30] *** Quits: tikue (tkuehn@CDCD6B77.F3E8A984.689607DE.IP) (Quit: tikue)
[22:37:37] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:37:37] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:39:43] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[22:41:19] <acrichto> brson: how do you feel about drop libstdc++ and statically linking libunwind/libcxxabi to libstd?
[22:42:11] <strcat> acrichto: do we really need actual libunwind? it seems the symbols are in libgcc_s on linux and likely somewhere in mingw
[22:42:24] <acrichto> strcat: possibly not, I haven't investigated
[22:42:45] <strcat> switching to mingw-w64 would be really nice ;p
[22:42:53] <acrichto> what's the naame of the library
[22:42:56] <acrichto> just libgcc_s.a ?
[22:43:01] <acrichto> or is there some random version on it
[22:43:15] <acrichto> find / -name 'libgcc_s*.a' 2>/dev/null <- produces no output
[22:43:21] <strcat> acrichto: .1 ?
[22:43:28] <strcat> I don't know if .a files are versioned
[22:43:40] <acrichto> find / -name 'libgcc_s*' => only .so files
[22:43:46] <strcat> on which OS?
[22:43:50] <acrichto> ubuntu
[22:44:00] <strcat> well they likely only support dynamic linking against it then
[22:44:03] <acrichto> we may not be able to rely on a static unwinding implementation to be present
[22:44:16] <strcat> you can't in general for system libs
[22:44:22] <strcat> but it doesn't really matter
[22:44:30] <strcat> you can't statically link against glibc and then run it on another system
[22:44:52] <acrichto> that's why I think bundling libunwind would work well
[22:45:10] <acrichto> I have a rust executable on osx with only a dependence on libSystem.dylib with unwinding/failure working
[22:45:17] <acrichto> it even passes make check!
[22:45:19] <strcat> what about libc?
[22:45:29] <acrichto> libSystem == {libc, libm, libdl, librt, libpthread}
[22:45:35] <acrichto> we're not dropping that any time soon
[22:45:45] <acrichto> although I also said that last week about libstdc++
[22:45:57] <strcat> well we could use musl on linux (but please, lets not - it's not complete enough yet)
[22:46:40] <acrichto> libunwind apparently doesn't work on osx at all, but libcxxabi has an Unwind folder (with no build system and missing header files) which was apparently the apple-contributed libunwind
[22:46:43] <strcat> mingw-w64 is nice because they're aiming to provide a lot of POSIX functions *correctly* on windows
[22:46:45] <strcat> and c99 ones
[22:47:14] <acrichto> if libunwind doesn't work on mingw32, then we may not be able to do this now at all
[22:47:30] <strcat> nothing works on mingw ;p
[22:48:40] <strcat> with mingw-w64 you can even use pthreads! ;p
[22:49:23] <acrichto> I think that relying on mingw32 is bad enough though, we don't want to entrench ourselves in a mingw implementation
[22:50:11] <strcat> acrichto: if we use C99 math functions (which we do), we're stuck using mingw
[22:50:19] <strcat> and with mingw32 they're broken
[22:50:37] <acrichto> I think we're going to need it for awhile, but I don't want to throw all our eggs into the mingw64 basket
[22:51:29] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:51:41] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[22:51:41] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/R5M_Ug
[22:51:41] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[22:52:02] <Luqman> acrichto: why not? mingw64 is much better in most all regards
[22:53:12] <acrichto> Luqman: I don't doubt that, but requiring mingw is still requiring mingw, why do it if we can use the native tools on windows?
[22:53:40] <strcat> acrichto: windows doesn't support C99
[22:53:56] <strcat> are we going to write a math library?
[22:54:02] <Luqman> acrichto: but that's a much separate undertaking compared to just going from mingw -> mingw64
[22:54:07] <brson> acrichto: I feel good about dropping libstdc++ and using libunwind directly
[22:54:20] <strcat> (doesn't libunwind not run on windows though?)
[22:54:30] <brson> having a a c++ dependency is a black eye for rust
[22:54:33] <strcat> I guess mingw has their own stuff
[22:54:34] <acrichto> strcat: Luqman: right, I'm just saying I don't want to walk into the mingw64 world and immediately change everything to using mingw64 apis
[22:55:01] <acrichto> brson: sweet, I have an OSX build almost working, and I"ve gotten libunwind to at least build on linux, just need to sort out the windows situation
[22:55:21] <Luqman> acrichto: what do you mean by mingw64 apis? it'd mostly be posix stuff afaik
[22:55:57] <acrichto> Luqman: I don't know particularly, but if windows has a native api instead of a posix api, and the posix api is only emulated by mingw64, I don't think we should use the emulated version
[22:56:08] <acrichto> (I know very little about mingw/windows details)
[22:56:23] <strcat> we would just be 'emulating' it though
[22:56:41] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:56:41] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/XNIeEw
[22:56:41] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:56:42] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:56:42] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/Ks7W1Q
[22:56:42] <ghrust> 13rust/06auto 1496c5897 15Young-il Choi: temporarily disable tests on android and tagging issue number #10455
[22:56:42] <ghrust> 13rust/06auto 1454b67e9 15Young-il Choi: fix #10450
[22:56:42] <ghrust> 13rust/06auto 147ac9872 15Young-il Choi: add path environments
[22:56:44] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[23:03:26] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Ping timeout)
[23:09:19] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[23:26:30] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[23:26:30] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14c3f0c56 to 143d569df: 02http://git.io/N3iJvQ
[23:26:30] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[23:26:33] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[23:26:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/_ukcnw
[23:26:34] <ghrust> 13rust/06auto 14d0872eb 15Michael Woerister: debuginfo: Improved stepping for if-expressions
[23:26:34] <ghrust> 13rust/06auto 149062988 15bors: auto merge of #10552 : michaelwoerister/rust/ifstepping, r=brson...
[23:26:34] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:31:07] *** Joins: jdm (jdm@moz-ED0C7AC7.hinet-ip.hinet.net)
[23:42:58] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[23:58:36] *** Quits: w3lcome (Mibbit@moz-177EEEFC.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
