[00:00:47] <Earnestly> I have to manually fix screens terminfo so sgr actually gives me italics and reverse 
[00:01:15] <myname> what's sgr?
[00:01:23] <Earnestly> set_attributes
[00:01:56] <Earnestly> “sgr=\E[0;10%?%p1%t;7%;%?%p2%t;4%;%?%p…” etc
[00:03:22] <Earnestly> The current TE I use (developed by a Rust dev haw haw) actually have a well formed terminfo so I don’t really have any issues with it.
[00:03:30] <Earnestly> s/have/has
[00:03:54] <eevee> amulet is intended to be loosely based on urwid and thus act like a gui library
[00:04:17] <myname> Earnestly: termite?
[00:04:20] <eevee> so if you have any idea how to do that...  8)
[00:04:21] <Earnestly> myname: yep
[00:04:25] <myname> dito
[00:05:03] <Earnestly> myname: At least for tmux, screen has to be modified to re-enable italics and reverse
[00:05:30] <myname> interesting
[00:05:46] <myname> define modified
[00:06:07] <Earnestly> infocmp, change sgr= line, tic
[00:06:30] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[00:06:39] <myname> doesn't sound funny
[00:06:44] <Earnestly> It’s in the tmux FAQ: http://sourceforge.net/p/tmux/tmux-code/ci/master/tree/FAQ grep for 'screen-it'
[00:06:54] <myname> Earnestly: we should push him to port termite to rust
[00:07:29] <Earnestly> myname: He wanted to, using libav iirc
[00:07:47] <Earnestly> Or rather, replace libvte
[00:08:26] <Earnestly> or libva, I cannot remember.  :(
[00:08:34] *** Quits: nkoep (nik@moz-815DB2EF.vpn.rwth-aachen.de) (Ping timeout)
[00:08:48] <Earnestly> (not the intel vaapi thing obviously)
[00:10:11] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[00:14:12] *** Joins: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu)
[00:15:02] <heftig> Earnestly: final term tries to implement a new terminal emulator
[00:15:08] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:15:44] <heftig> Earnestly: it's built on clutter, with vala. however, i don't agree with all the weird gimmicks they want to do
[00:16:17] <heftig> if it's ever done, would be nice to have that terminal core, stripped down to the functionality of vte, in gnome-terminal
[00:17:00] <Earnestly> heftig: Ah, yes.  I have seen that before.  Does it use pango btw?
[00:17:13] <heftig> it does
[00:19:20] <Earnestly> That’s nice.  And it does reflow, but I wonder, does it have any concept of a vertical region?  I suspect this will be fairly impossible on unix
[00:19:58] <cmr> I have some ideas about a new terminal API, but it's not very text based.
[00:20:37] <myname> what
[00:20:48] <heftig> cmr: i like radical new approaches like termkit
[00:21:23] <heftig> maybe an object pipeline like powershell driving a multimedia terminal like termkit
[00:22:13] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[00:22:40] <cmr> By not text-based I mean you're not controlling it by writing characters to a stream, you're actually doing IPC
[00:23:40] <Earnestly> How does an IPC imply it’s not a character stream?
[00:24:41] <Earnestly> DEC did something similar using X’s secondary selection, afaik the only thing which used secondary selection
[00:24:43] <heftig> so you're thinking of what amounts to a gui toolkit + window manager, except it's restricted to a character-based display instead of a pixel-based one?
[00:25:07] *** Joins: Sorella (user@9D963F5D.DF5D8AE7.54BCAB54.IP)
[00:26:22] <cmr> heftig: So basically I'm thinking mostly what a modern terminal emulator offers now, plus the ability to take control of the framebuffer or draw images rather than text (and still have scrolling)
[00:26:36] <cmr> it's a half-baked idea that's been bouncing around in my skull :p
[00:27:11] *** Joins: nkoep (nik@moz-85F762BD.pool.mediaways.net)
[00:28:35] <cmr> http://cmr.github.io/blog/2013/10/06/this-week-in-rust/
[00:28:43] <cmr> Can someone drop that on reddit?
[00:30:51] *** Joins: kermi (Mibbit@moz-8A2D1B65.hsd1.ga.comcast.net)
[00:31:57] <maik> sure
[00:32:02] <Earnestly> cmr: When you say loop was removed, just briefly browsing the commit, wasn’t it just renamed to `continue`?
[00:32:18] <cmr> Earnestly: "The transition to continue is complete"
[00:32:26] <cmr> Earnestly: continue was added as a synonym for loop last week
[00:33:21] <maik> what float is gone? do we now always have to use f32 or f64?
[00:33:25] <Earnestly> But nothing was changed, just the name?  Right?
[00:33:46] <jeaye> cmr: "aren't escpated" typo
[00:33:47] <cmr> Yes
[00:33:50] *** Quits: nrc (nrc@3496663E.C1499D0.396E4C6D.IP) (Ping timeout)
[00:34:18] <cmr> jeaye: ...where?
[00:34:23] <jeaye> in TWiR
[00:34:47] <jeaye> Char literals
[00:35:17] <cmr> Oh, last week's
[00:35:31] <jeaye> Ah, sorry.
[00:35:55] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:36:44] <maik> rusti: let f: float = 42.0f;
[00:36:44] -rusti- <anon>:7:24: 7:29 error: expected `f32` or `f64` suffix
[00:36:44] -rusti- <anon>:7          let f: float = 42.0f;
[00:36:44] -rusti-                                  ^~~~~
[00:36:44] -rusti- application terminated with error code 101
[00:37:09] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:37:09] <cmr> maik: Correct, float was removed, for very good reasons. See the ML thread referenced in the PR.
[00:37:15] <maik> rusti: let f: float = 42.0f32;
[00:37:15] -rusti- <anon>:7:16: 7:21 error: use of undeclared type name `float`
[00:37:15] -rusti- <anon>:7          let f: float = 42.0f32;
[00:37:15] -rusti-                          ^~~~~
[00:37:15] -rusti- error: aborting due to previous error
[00:37:15] -rusti- application terminated with error code 101
[00:37:16] <cmr> Float was always f64, previously.
[00:37:26] <maik> cmr, ah okay
[00:37:38] <myname> so, float was always double?
[00:37:40] <jeaye> Well, thanks for another episode of TWiR, cmr. We all appreciate it. :)
[00:37:42] <jeaye> myname: yes
[00:37:46] <myname> lol
[00:37:58] <Earnestly> Good
[00:38:09] <maik> yes I couldn't keep up with all those changes without twir
[00:38:10] <maik> <3
[00:42:59] <dandy> - `continue` is now a keyword, a [synonym for
[00:42:59] <dandy> `loop`] ... but only within a loop (as would make sense)
[00:43:57] <myname> will there ever ne a retry?
[00:44:07] <myname> *be
[00:44:32] <dandy> that sounds like some tricky stuff
[00:44:42] <dandy> what langauges have that?
[00:44:53] <myname> i don't think so
[00:45:14] <dandy> there was some talk about capturing state for rusti before, so maybe?
[00:45:22] <myname> since "for" is just syntax sugar for a loop with some "iter.next()" at the end
[00:45:28] <myname> one could make that conditionally
[00:45:41] <dandy> yeah but loop {} could have all kinds of crazy stuff going on
[00:45:55] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:46:12] <myname> well, retry in terms of "repeat with old state" won't make much sense to me
[00:46:22] <Earnestly> myname: Since I am fairly out-of-the-loop, [terrible!], what would `for i in range(1, 10)` look like desugared?
[00:47:45] <myname> Earnestly: i'd say let i = range(1,10); loop { ... if i.next().is_none() { break; } }
[00:48:09] <myname> we had that topic a few hours ago
[00:48:19] * Earnestly scrollsback, ta
[00:49:06] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[00:49:17] <engla> Earnestly:  {  let _iter = &mut range(1, 10); loop { match _iter.next() { None=> break, Some(i) => ... } } }
[00:49:19] <myname> you could easily change it to: if !repeat && i.next() ...
[00:50:16] <myname> engla: that would be a hard one to change
[00:50:47] <Earnestly> engla: Except these days we call `loop`, `continue` correct?
[00:51:05] <myname> Earnestly: no
[00:51:16] <myname> there was something like
[00:51:18] <engla> loop used to have two meanings
[00:51:24] <myname> loop { if cond { loop; } }
[00:51:26] <jason_> is it possible to do something like struct Foo<Size> { a: [int, ..Size] } ?
[00:51:30] <sfuerst> Any idea how to get rid of this error?
[00:51:32] <sfuerst> error: unresolved name `uint::from_str`
[00:51:34] <myname> that is now loop { if cond { continue; } }
[00:51:42] <Earnestly> myname: Aha
[00:51:47] <engla> Earnestly: the for loop expands exactly like that. You can check with rustc --pretty expanded
[00:52:06] <Earnestly> engla: noted
[00:52:10] <sfuerst> I have use std::uint,  use std::from_str, and use std::uint::from_str
[00:52:35] <myname> jason_: great question
[00:52:37] <engla> sfuerst: you have to use from_str::<uint>(..) etc.
[00:52:57] <engla> rusti: from_str::<uint>("99")
[00:52:57] -rusti- Some(99u)
[00:53:38] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[00:53:43] <sfuerst> Thanks.  There is soooo much out of date tutorial code out there. :-(
[00:53:45] <jeaye> jason_: Not that I know of.
[00:53:45] <myname> rusti: struct Foo<Size> { a: [int, ..Size] }; foo = Foo { a: [8, ..10] }; foo
[00:53:49] -rusti- pastebinned 11 lines of output: http://sprunge.us/HaIP
[00:53:53] *** Quits: fyolnish (fyolnish@moz-DA632508.uqwimax.jp) (Client exited)
[00:54:10] <jeaye> myname: Don't forget your 'let's
[00:54:18] <myname> yeah
[00:54:23] <myname> but the first error is enough
[00:54:29] <jeaye> Also, no ; after structs
[00:54:43] <jason_> i guess i'm stuck with a ~[] then
[00:54:45] <myname> jeaye: that bites me every time
[00:54:53] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[00:54:58] <jeaye> myname: I find it tough, too.
[00:55:37] <myname> jeaye: it makes sense in the way of making structs inside structs, indeed
[00:55:50] <myname> but i still find it confusing
[00:56:03] <dandy> I so love this: error: unresolved name `i`. Did you mean `n`?
[00:56:21] <dandy> especially now that I don't have a full IDE
[00:56:28] <jeaye> dandy: I've never had a "Did you mean ..." be correct.
[00:56:33] <myname> dandy: with fairly random things for n
[00:56:44] <dandy> well I didn't give it many options :)
[00:59:12] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[00:59:41] *** Joins: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au)
[01:03:13] *** Joins: p_adams_ (______@moz-EB08CC70.dhcp.stls.mo.charter.com)
[01:03:15] <aatch> dandy, could be worse, it used to give way-off answers because the edit distance was so high.
[01:03:33] <aatch> I think it's capped to like 3 now.
[01:04:57] <Eridius> it also only considers variables
[01:05:15] <Eridius> jeaye: once, a couple weeks ago, it actually suggested the correct thing for me. It was a miracle!
[01:05:23] <Eridius> probably helps that the only variable in-scope was the one I meant to type though
[01:05:27] *** Quits: p_adams_ (______@moz-EB08CC70.dhcp.stls.mo.charter.com) (Quit: WeeChat 0.4.1)
[01:05:27] <jeaye> haha
[01:05:30] *** Joins: p_adams (______@moz-EB08CC70.dhcp.stls.mo.charter.com)
[01:05:50] <jeaye> I imagine it's a hard thing to do, getting it to guess the right symbol.
[01:05:50] <dandy> its helpful for the hello world crowd at least
[01:05:52] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[01:06:43] <aatch> jeaye, eh, it's more that variables aren't typed incorrectly as often as function/method names
[01:06:52] <dandy> may be best to turn it into a standard "yo, what is `i`?" for > 10 expressions until its awesome
[01:07:35] *** Joins: osa1 (uid13910@moz-5F4AA75A.irccloud.com)
[01:07:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[01:08:05] *** p_adams is now known as yrdz
[01:08:17] *** Quits: nkoep (nik@moz-85F762BD.pool.mediaways.net) (Client exited)
[01:11:53] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[01:12:26] <Eridius> lkuper: thanks for posting http://lindseykuper.livejournal.com/418854.html. 
[01:12:32] *** Parts: yrdz (______@moz-EB08CC70.dhcp.stls.mo.charter.com) (WeeChat 0.4.1)
[01:12:33] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[01:12:57] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[01:12:58] *** Joins: yrdz (______@moz-EB08CC70.dhcp.stls.mo.charter.com)
[01:15:37] <cmr> lkuper_: Eugh, that's disgusting :(
[01:16:39] <Eridius> yeah, I had no idea that happened. It's really saddening
[01:17:16] <lkuper_> yeah, it sucks -- that's why it took me a while to talk about it
[01:17:31] <lkuper_> obviously, we all expect better from #rust
[01:18:53] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:21:21] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Quit: WeeChat 0.4.1)
[01:21:29] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[01:22:01] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[01:25:03] <aatch> lkuper_, well I thought you were a guy because all the Lindseys I know are guys. On the flip side I keep having to remind myself that Eridius is a guy because my brain has arbitrarily assigned the wrong gender.
[01:25:12] <Eridius> aatch: :o
[01:25:46] <aatch> Eridius, it's pretty random. I guess it's better than assuming everyone is a specific gender though.
[01:26:01] <cmr> I used to go by `AynEhlora` and was also frequently supposed as female.
[01:26:15] <lkuper_> aatch: yeah, I occasionally get people (especially from the UK) supposing that I'm a guy
[01:26:33] <engla> 99% of the time irc conversations are genderless. I think that is pretty cool
[01:26:38] <Eridius> I suppose. I tend to try to avoid assigning gender without any evidence, although I will admit that I unconsciously default to assuming male (but I try to avoid relying on this assumption)
[01:26:47] <Eridius> (that was to aatch)
[01:27:16] <Eridius> make that, unconsciously default to assuming male on IRC, because most of the people I interact with (who have non-gendered nicks) are male
[01:27:36] <Eridius> but I try to never rely on assumptions like that
[01:27:58] <aatch> Eridius, it's more to do with who I imagine to be on the other side. I have to assign *some* gender since I can't really avoid it. But I rarely act on the assumption.
[01:28:20] <Eridius> everyone's just ghosts in the machine. There is no other side!
[01:28:30] <myname> lkuper_: i actually have the problem that i don't see alternatives to "guys" and prefer using it somewhere i'm new to not using anything the like at all
[01:28:36] <aatch> Eridius, stop feeding my psychosis!
[01:28:45] <Eridius> come to think of it, I don't think I even thought about what gender lkuper_ was. lkuper_ is just lkuper_ ;)
[01:28:55] <Eridius> aatch, now that's clearly a name of a dinosaur. aatch, are you a dinosaur?
[01:29:03] <aatch> Eridius, shhh
[01:30:20] <maik> out of curiosity, is "guys" not genderless? *english is not my main language*
[01:30:38] <myname> well, it's the plural of guy
[01:30:45] <tikue_> maik, no it's biased toward male
[01:30:54] <sfuerst> Actually, it depends on dialect.
[01:30:56] <engla> right us non-native speakers are a bit powerless, I mean we hear how you guys is being used in different ways but it's hard to have an opinion
[01:31:11] <myname> engla: indeed
[01:31:17] <aatch> maik, technically it's the plural of "guy" which is a casual word for "male". English tends to be biased in the at direction though
[01:31:43] <sfuerst> Unfortunately, slang makes it more complex than that though. :-/
[01:32:03] <maik> in my country every plural is always "male" but it's interpreted as genderless
[01:32:15] <Eridius> in modern parlance, "guys" is used as a genderless plural noun, but technically it's masculine, being based on "guy"
[01:32:19] <sfuerst> I've lived in several english-speaking countries.  And the smae words can mean very different things.
[01:32:42] <aatch> maik, makes sense because German has 3 noun genders, whereas english has no genders.
[01:32:47] <Eridius> But it's only treated as genderless when used in phrases such as "you guys" or "hi guys". If someone says "they're a bunch of guys", then it's very clearly masculine
[01:33:03] <Eridius> the problem is English is biased towards male and doesn't really have much in the way of genderless pronouns
[01:33:17] <Eridius> which is why the plural "they" is often used these days as a genderless singular pronoun, because we don't have a good alternative
[01:33:37] <sfuerst> There used to be "hit" as well as "him" and "her".  That pronoun is lost in time though.
[01:34:07] <Eridius> sfuerst: hadn't heard that before. Looks like that was Old/Middle English, which isn't very applicable these days ;)
[01:34:13] <sfuerst> Exactly.
[01:34:25] <myname> i read a book where the author invented genderless words, i can't remember what it was, though
[01:34:37] <myname> something cyberpunk
[01:34:49] <aatch> Eridius, doesn't help that the only people that care about having a genderless pronouns refuse to come up with a single set.
[01:35:42] <aatch> Instead they all pick their own little set.
[01:35:50] <Eridius> myname: many genderless pronouns have been invented over the years
[01:35:53] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[01:35:58] <maik> what would be a genderless alternative to "hey guys"?
[01:36:06] <sfuerst> Let 4chan come up with a solution.  Then reddit will steal it, and then within a month everyone will know what to say.
[01:36:06] <cmr> maik: "Hey all", "Hey everyone"
[01:36:07] <aatch> So there's a set for male, a set for femanle and thirty sets for "other"
[01:36:08] <Eridius> http://en.wikipedia.org/wiki/Gender-specific_and_gender-neutral_pronouns#English
[01:36:15] <Sorella> maik: "hey folks", "'sup y'all"
[01:36:23] <maik> so simple
[01:36:26] <Eridius> "hey folks" is probably what I'd go with
[01:36:33] <Eridius> "hi ya'll"
[01:36:33] <sfuerst> Unfotuntately, "hey folks" is very rural.
[01:36:42] <sfuerst> "ya'll" is even worse.
[01:36:44] <jason_> so structs inherit mutability, is there a way to mark a struct field as immutable *always* ?
[01:36:57] <Eridius> genderless plural second-person phrases do tend to be rural
[01:37:02] <bjz> lkuper_: yikes! shame about that incident :(
[01:37:16] <Eridius> jason_: make all the fiels priv and make all methods take `&self` (as opposed to &mut self)?
[01:37:29] <Eridius> sfuerst: "all ya'll" is my favorite ;)
[01:37:35] <sfuerst> haha
[01:37:37] <maik> I learned most of my english though movies ... probably wasn't the best idea :x
[01:37:39] <Eridius> apparently in some parts of the south, ya'll is singular and all ya'll is plural
[01:37:43] <cmr> I like ya'll, it's a great contraction.
[01:37:44] <jason_> Eridius: i don't want every field to be immutable, just one
[01:38:03] <Sorella> lkuper_: I think we all expect better from our communities, and it's saddening when/if our expectations are broken. Sadly happens too much in tech, but I wasn't expecting this to happen in this community in particular.
[01:38:03] <Eridius> cmr: what do you think about "yinz"?
[01:38:10] <Eridius> (prounounced similarly to "you-ins")
[01:38:37] <Eridius> jason_: why do you want to force a field to be immutable?
[01:38:39] <dandy> nope
[01:38:40] <cmr> Sorella: Hey! Long time no see!
[01:38:45] <sfuerst> Where I grew up, the slang generic pronoun was "yous".
[01:38:51] <cmr> Eridius: never heard that one
[01:39:04] <Eridius> jason_: if you make it priv, then only methods from that mod can access the field, so you can just avoid writing any methods that modify it
[01:39:11] <Sorella> cmr: 'lo. I'm not sure I remember you, sorry :(
[01:39:14] <myname> cmr: "ya'll" always reminds me of "... motherfuckers have to shut up"
[01:39:23] <lkuper_> there's also the classic brson-style "Hey there." https://mail.mozilla.org/pipermail/rust-dev/2013-August/005158.html
[01:39:40] <Eridius> "dear channel denizens"
[01:39:47] <jason_> Eridius: but i don't trust myself ;) point taken though
[01:39:48] <myname> Eridius: hahaha
[01:40:01] <Eridius> jason_: I mean you could do something like stuff it in an @-box, but that's nasty
[01:40:28] <Eridius> "greetings fellow commuters on the information superhighway"
[01:40:33] <Eridius> "'lo netizens"
[01:40:43] <Eridius> ooh I got it. "What's up my homies?"
[01:40:47] <engla> hey rusties. it's domain-specific though
[01:41:00] <Eridius> engla: we're very rustic here. So we should just use "folks" ;)
[01:41:17] <engla> hehe
[01:41:25] <Sorella> maik: I've learned most of my english from movies, classic novels *and* 4chan. Now I'm unlearning some of that.
[01:41:28] <jason_> Eridius: really i'd like this field to be a compile time constexpr, but rust doesn't seem to allow things like struct Foo<Size>; Foo<64>
[01:41:29] <aatch> Eridius, clearly: "What is up? My homies... Yo"
[01:41:43] <Eridius> wassssssupppppp
[01:41:44] <cmr> Sorella: np. we met in oftn, which I try to avoid now.
[01:42:19] <aatch> jason_, yeah, rust doesn't have templates.
[01:42:54] <Sorella> cmr: oh. Yeah, haven't been to oftn and some other channels on Freenode in a while. And as you see, I have a fairly bad memory :)
[01:42:56] <Eridius> jason_: yeah, generics can only hold types, not numeric values. It would be nice to add that capability, primarily to write generics for [arrays, ..3], but I don't know if that's actually going to happen
[01:43:14] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[01:43:21] <aatch> Eridius, there is a vague idea of having associated constants.
[01:43:25] <aatch> Not for 1.0 though
[01:43:47] <sfuerst> Turing-complete templates lead C++ to a dark place.
[01:43:54] <maik> Sorella, where are you from? 
[01:44:11] <maik> Sorella, if you don't mind to answer ofc ;)
[01:44:12] <Sorella> maik: Brazil.
[01:44:18] *** Joins: below (Mibbit@moz-DBB8B716.bootp.virginia.edu)
[01:44:31] *** Joins: tautologico (shung@7A53DAF8.92451A23.6EB699AE.IP)
[01:44:34] <aatch> sfuerst, to be honest, the turing completeness is less of an issue than the contextual grammar
[01:45:08] <sfuerst> Well... if you are going to make something turing complete.... you might as well make it easy to read.
[01:45:28] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[01:45:38] <myname> yeah. like brainfuck
[01:45:41] <myname> *scnr*
[01:45:49] <Eridius> Malbolge
[01:45:58] <sfuerst> So if you have a meta-language... there is nothing better than having that language as the same thing it is meta-ing. 
[01:46:03] <myname> Eridius: is malbolge proofed to be turing complete?
[01:46:14] <maik> Sorella, haha now I am jealous. I am from Germany where the sun never shines
[01:46:20] <below> Hi all, I would like to do priority scheduling on Rust tasks, but it seems Rust doesn't support to do that directly. Could I create my own scheduler, and implement a priority scheduling on my own?
[01:46:39] <Eridius> myname: hrm I thought it was, but wikipedia says "Malbolge is not Turing-complete, due to its memory limits"
[01:46:43] <myname> maik: what do you mean with that? imo the sun shines way too long
[01:46:46] <aatch> below, not currently
[01:46:52] <Sorella> maik: sounds like a good place :) Plus German is one of the loveliest languages :P
[01:46:52] <Eridius> apparently there are some variants that add turing-completeness
[01:46:59] <below> aatch: ah, why?
[01:47:01] <Eridius> I love this line: The peculiarity of Malbolge is that it was specifically designed to be impossible to write useful programs in. However, weaknesses in this design have been found that make it possible (though still very difficult) to write Malbolge programs in an organized fashion.
[01:47:12] <aatch> below, because it's not set up for it.
[01:47:12] <doomlord_> i'm told IWhatever is not a rustic naming convention, is this true... traits are not to be seen as interfaces ?
[01:47:18] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[01:47:22] <cmr> doomlord_: they are, but not that name.
[01:47:27] <Eridius> doomlord_: IWhatever is extremely Java-ish
[01:47:39] <cmr> Eridius: .net actually
[01:47:42] <myname> Eridius: lol "well, i REALLY love malbolge, but it sucks not being able to write an OS. i better fork it"
[01:47:45] <below> aatch: but I suppose the structure of Scheduler will be helpful
[01:47:48] <Eridius> cmr: whatever. They're both bad ;)
[01:47:50] <cmr> I've never seen that in java, but my java experience... isn't that much
[01:48:00] <aatch> below, you'd have to replace the entire task system.
[01:48:05] <tautologico> lWhatever comes from COM 
[01:48:12] <aatch> I mean, sure you can use what is already there.
[01:48:16] <Eridius> speaking of java, it kind of saddens me that people try to draw parallels to Java's interfaces, seeing as Java didn't invent that.
[01:48:24] <Eridius> Java interfaces are actually an adaptation of Obj-C Protocols
[01:48:28] <Eridius> which were invented by Blaine Garst
[01:48:34] <tautologico> some vestigial form of hungarian notation
[01:48:37] <below> aatch: if not for priority scheduling, may I implement another simple scheduling, such FIFO FILO?
[01:48:46] <doomlord_> the places i was finding myself wanting it was with a pair of trait ISomething,   struct Something. Perhaps i should go the other way. trait Something,  struct Something_s or whatever...
[01:48:47] <maik> myname, are u from Germany too?
[01:49:03] <myname> maik: i am
[01:49:17] <tautologico> Eridius: Java is far more well-known than Obj-C
[01:49:19] <doomlord_> whilst ISomething is javaish i think it often makes sense in C++
[01:49:31] <Eridius> tautologico: and that's very sad
[01:49:36] <doomlord_> (when using an abstract superclass with pure virtuals)
[01:49:49] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[01:49:50] <Eridius> doomlord_: why do you have a struct and trait that want the same name? That seems kind of odd
[01:50:07] <aatch> below, you can if you want. I'm not saying you're not allowed, just that it isn't possible. At least in the sense of writing an implementation and plugging it into the current runtime.
[01:50:07] <bstrie> lkuper_: ping, since I'm not sure if you have privmessages disabled
[01:50:12] <tautologico> Eridius: Objective-C is kind of a mess, Java isn't that bad, it's just boring
[01:50:29] <Eridius> tautologico: a mess? How do you mean? Obj-C is actually a pretty simple language
[01:50:51] <doomlord_> Eridius, making a common interface , starting with 'the most natural concrete representation', but working through the interface such that a different internal representation can be used later
[01:51:04] <below> aatch: It seems I can control the tasks running on a scheduler from the document http://static.rust-lang.org/doc/0.8/std/rt/sched/struct.Scheduler.html
[01:51:28] <below> aatch: could you give me some directions or examples ?
[01:51:39] <maik> cmr, btw why can't you post twir in reddit by your self? 
[01:51:39] <doomlord_> one example i was toying with.. IMesh   struct Mesh /* a plain mesh*/  but then struct Landscape /* heightfield landscape, but impl's a IMesh easily */
[01:51:54] <myname> maik: maybe we should start making rust usergroups *g*
[01:52:09] <Sorella> tautologico: Java is kind of a mess. Complected concepts everywhere.
[01:52:10] <tautologico> Eridius: the mix of ideas from Smalltalk with C does not sit well with me
[01:52:23] <cmr> maik: laziness, would require pulling out my laptop with my password database.
[01:52:25] <aatch> below, that isn't a public API. I mean, sure you can use it, but it's not really how it works.
[01:52:35] <maik> myname, haha I already know 4 Germans or so
[01:52:40] <Eridius> tautologico: in practice it's been extremely powerful
[01:52:44] <maik> germans who know rust of
[01:52:44] <tautologico> Sorella: generica and wildcards introduced a lot of complexity into the language, before that not so much
[01:52:46] <maik> ofc*
[01:52:51] <cmr> myname: everything in std::rt isn't considered a public API
[01:53:11] <myname> well, i know something who "know" it, but don't really care as much as i do
[01:53:21] <Sorella> tautologico: even before that, Classes doubled as namespaces and types. This is not a good thing :(
[01:53:21] <myname> -thing
[01:53:21] <myname> wtf
[01:53:26] <cmr> erm, @below
[01:53:26] <myname> it's way too late
[01:53:46] <tautologico> Eridius: yes, taste for languages is subjective, but I don't know a single iOS / OSX developer who doesn't complain regularly about Objective-C :)
[01:54:03] <Sorella> And they had interfaces which basically should be the only thing considered as type. So you could actually use structural typing for writing programs.
[01:54:06] <doomlord_> another example that came out of a discussion was what -to me - seemed natural as an trait IVec3 { x(),y(),z() } struct Vec3{ x,y,z} ,  struct CompressedNormal(u32) /*impl's IVec3 */
[01:54:16] <Eridius> tautologico: I don't know a single programmer who doesn't complain regularly about the language they're using, period ;)
[01:54:18] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[01:54:43] <aatch> below, The scheduler is tied in tightly to the runtime. Most of the functions you see there are mostly to handle common optimization cases, like directly switching to a blocked task that you are sending data to.
[01:54:52] <maik> haha btw my professor asked me if I could hold a rust course 
[01:55:04] <myname> maik: that sounds awesome
[01:55:06] <myname> do it
[01:55:32] <maik> yeah I thought maybe I should wait until Rust 1.0 is released
[01:55:54] <myname> where are you from?
[01:55:56] <maik> not sure if ppl want to learn a changing languge
[01:55:59] <maik> Koblenz
[01:56:11] <cmr> maik: judging by the experiences of the people in the OS course, no, they largely don't.
[01:56:12] <myname> too far
[01:56:14] <maik> you probably don't know it
[01:57:11] <yrdz> maik: germany?
[01:57:17] <maik> is there already a rough prediction when 1.0 will be released? maybe Q1 2014?
[01:57:19] <maik> yrdz, yes
[01:57:21] <myname> i thought about convincing a prof to rust
[01:57:22] <tautologico> Eridius: it's mostly that I feel that Smalltalk is highly dynamic/late binding/etc, while C is mostly on the static/early binding side of things, the mix feels a bit unnatural to me and I'd prefer to use Smalltalk itself than Obj-C
[01:57:26] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:57:52] <doomlord_> doesn't the mix just mean you use the right tool for the job ?
[01:57:55] <maik> myname, most of my profs are haskellers :D
[01:58:05] *** kimundi is now known as zz_kimundi
[01:58:13] <Eridius> tautologico: the great thing about obj-c is you can use both. Use all the C APIs you know and love, but anything obj-c is dynamic and whatnot
[01:58:13] <myname> maik: that's not bad
[01:58:25] <tautologico> I'm thinking about using rust for a compiler course
[01:59:07] <myname> i thought about using befunge for a compiler course *g*
[01:59:15] <aatch> myname, depends. There's the cool Haskellers that really like PL theory, and then there's the ones that are super condescending.
[01:59:35] <maik> PL?
[01:59:40] <aatch> Programming Language
[01:59:41] <lkuper_> tautologico: there's one course we're aware of that's being taught with rust -- Dave Evans' OS course at Virginia. http://www.cs.virginia.edu/~evans/cs4414/
[01:59:43] <maik> ah
[01:59:52] <below> aatch, cmr, thanks, so you won't suggest me to do that? But I still want to know if I can use this interface (though not public API) to write a rust program that has its own scheduling, and I don't need to recompile Rust compiler. If simple scheduling is possible, what about priority scheduling? 
[02:00:34] <tautologico> lkuper_: thanks, will take a look 
[02:00:37] <Sorella> myname: that would be an interesting compiler course, for sure.
[02:00:45] <aatch> below, thinking about it, it doesn't make much sense to have any other scheduling method than the current one.
[02:00:55] <myname> Sorella: :D
[02:01:08] <lkuper_> A compilers course taught in/with Rust would be basically the opposite of the compilers course that I took.
[02:01:25] <Sorella> lkuper_: which language did they use to teach a compiler course?
[02:01:30] <aatch> below, rust uses co-operative scheduling with work stealing so it's pretty rare to have tasks that spend a long time blocked
[02:01:37] * Sorella would be inclined to just use OMeta, and then introduce parsing theory later
[02:01:54] <lkuper_> Sorella: it was taught in Scheme.  Parsing was an afterthought.
[02:01:54] <aatch> Sorella, but parsing is the best bit
[02:01:58] *** Joins: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP)
[02:02:10] * maik hates parsing
[02:02:17] *** Quits: tautologico (shung@7A53DAF8.92451A23.6EB699AE.IP) (Ping timeout)
[02:02:31] *** Joins: tautologico (shung@7A53DAF8.92451A23.6EB699AE.IP)
[02:02:35] <tautologico> lkuper_: how so?
[02:02:36] <Sorella> Parsing with PEGs is at least sort-of fun and straight-forward. As long as your language isn't C++
[02:03:00] <Sorella> lkuper_: that's an interesting choice of language. Though I guess somewhat painful because there's no pattern matching :(
[02:03:03] <aatch> Sorella, you don't parse C++, you parse-and-semantically-analyze it
[02:03:24] <Sorella> aatch, yes, PEGs can do that :)
[02:03:36] <cmr> PEG are wonderful
[02:03:40] <maik> we had to write a generator which generates a generator which generates a parser for a specific problem.
[02:03:52] <aatch> Sorella, I'm not a fan of parser generators.
[02:03:57] <cmr> below: probably not, given that it's a struct, not an interface.
[02:04:02] <lkuper_> So, the compilers course that I took was: write a compiler in Scheme, compile a subset of Scheme to x86, using the nanopass framework (now available at https://github.com/akeep/nanopass-framework, and see also http://www.cs.indiana.edu/~dyb/pubs/nano-jfp.pdf)
[02:04:04] <Eridius> what's PEG?
[02:04:12] <aatch> Eridius, Parsing Expression Grammars
[02:04:14] <Eridius> ah
[02:04:33] <Sorella> aatch, well, OMeta is not exactly a parser generator. It's more like a nice syntax to define parser combinators using OO.
[02:04:33] <lkuper_> So the interesting parts of the course were things like instruction selection and register allocation
[02:04:39] <Sorella> (also with left recursion)
[02:04:40] <cmr> below: http://static.rust-lang.org/doc/0.8/std/rt/rtio/index.html has the traits that the runtime uses, that are made to be pluggable.
[02:05:02] <aatch> same kind of thing as Backus-Naur Form, etc.
[02:05:07] <maik> btw do you guys like your university?
[02:05:13] <lkuper_> Sorella: oh, pattern matching wasn't a problem: http://www.cs.indiana.edu/l/www/classes/b621/match.ss
[02:05:17] <jason_> aatch: are you going to implement something like compare_exchange(_weak/_strong) for rust atomics?
[02:05:20] <aatch> maik, I did when I was there.
[02:05:28] <cmr> maik: I like mine quite a lot.
[02:05:33] <Sorella> maik: not sure yet, haven't gotten there. And I'm going to take psychology anyways.
[02:05:35] <aatch> jason_, you should be able to use the intrinsics for it.
[02:05:57] <tautologico> many good Scheme implementations have some form of pattern matching implemented as macros
[02:06:10] <jason_> aatch: ya, i can do it using compare_and_swap, but its just extra code in a lot of places so i was wondering if its in the plan
[02:06:23] <lkuper_> Sorella: in fact, when I went to work on Rust for the first time, it was actually really shocking to me how much code was necessary for things like walking the AST.  That was all built in to the match macro that we used in my compilers course.  It was a lesson in reality.  :)
[02:06:28] <aatch> jason_, I hadn't planned to.
[02:06:54] <lkuper_> But things have improved -- it's not nearly as boilerplatey in Rust as it used to be, thanks to traits.
[02:07:13] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:07:20] <aatch> jason_, I can't even remember the difference.
[02:07:25] <tautologico> "compilers" can mean a lot of things, most often parsing is emphasized most, but I prefer codegen and optimization
[02:07:28] <below> cmr: I can see the methods below the struct, can I use them in my rust code? http://static.rust-lang.org/doc/0.8/std/rt/sched/struct.Scheduler.html
[02:07:51] <Sorella> I still have to learn more about Rust. I've only started reading the docs on 0.6 a while ago, and apparently a lot changed since then :)
[02:07:53] <aatch> below, you can use them, but that won't let you control the scheduling.
[02:07:56] <maik> btw this guy kinda describes Rust http://vimeo.com/43380467 and it's a really funny talk
[02:08:21] <tautologico> the nanopass pearl seems like a good read, saving for later
[02:08:50] <lkuper_> tautologico: there's also a new paper just published at this year's ICFP by Andy Keep and Kent Dybvig, about scaling up nanopass to use in a production compiler
[02:08:59] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:09:00] <maik> cmr, did your semester already start?
[02:09:12] <cmr> below: those are so-called "inherent methods": they're part of the struct, not part of any interface.
[02:09:25] <cmr> below: but you can *call* them, sure.
[02:09:27] <tautologico> lkuper_: thanks, will look for this one too
[02:09:39] <cmr> maik: yes, over a month ago
[02:09:49] *** Quits: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[02:09:50] <lkuper_> tautologico: http://dl.acm.org/citation.cfm?id=2500618 -- but I dunno if there's a free version :(
[02:09:57] <maik> cmr, o.o what? mine starts in two weeks
[02:10:09] <tautologico> lkuper_: no problem, I have access at uni
[02:10:40] <aatch> below, rust uses co-operative scheduling. And each scheduler only controls the scheduling on a single thread.
[02:10:54] <benh> hm
[02:11:19] <aatch> below, the schedulers then steal tasks from each other to minimize the time blocked tasks are waiting.
[02:11:20] <benh> If rust tasks starve because all the threads are running a task already that never yields, can the runtime just spin up more threads? :v
[02:11:25] <lkuper_> tautologico: cool.  I'm a big fan of the nanopass work.  andy keep was my officemate for some time, he's one of the best scheme hackers around
[02:11:41] <aatch> benh, not as far as I am aware.
[02:11:48] <below> aatch: I think it makes sense to implement my own scheduling. for example, I would like to place the http requests with short response time in the front of the queue to reduce the average response time.
[02:12:11] <aatch> below, sure, it makes sense, but that doesn't mean it's feasible.
[02:12:21] <eevee> where is my threadless async io already
[02:12:47] <aatch> It makes sense to do lots of things.
[02:13:00] <aatch> But if the system isn't set up for it, it isn't set up for it.
[02:13:36] <aatch> It makes sense to use diesel as a back-up fuel for your car if you can't find petrol. That doesn't mean your car will run.
[02:15:23] <tautologico> lkuper_: it seems good (the nanopass stuff), from a cursory glance. thanks for linking it
[02:16:35] <aatch> below, also, it's unlikely you'll end up in a position where the scheduler changes response time.
[02:16:38] <sfuerst> hmmm: error: type `@mut std::rand::IsaacRng` does not implement any method in scope named `gen_integer_range`
[02:16:45] <sfuerst> total += rng.gen_integer_range(1, y);
[02:16:52] <sfuerst> :-/
[02:16:56] <aatch> Unless you're serving millions of requests per second.
[02:17:08] <below> aatch: Could you explain why I can *call* them, but I could not control the scheduling?
[02:17:23] <aatch> below, because the methods aren't for direct control of the scheduler.
[02:17:32] <aatch> they are for handling other cases.
[02:18:23] *** Joins: haxney (dan@moz-424CB7EB.cs.brown.edu)
[02:18:29] *** Parts: haxney (dan@moz-424CB7EB.cs.brown.edu) (ERC Version 5.3 (IRC client for Emacs))
[02:18:34] *** Joins: haxney (dan@moz-424CB7EB.cs.brown.edu)
[02:19:07] <aatch> below, it's not a public API, and when the privacy changes go through, that will likely be reflected in the docs.
[02:19:20] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[02:19:28] <aatch> It's just currently there isn't a choice about it appearing public.
[02:20:17] *** Parts: haxney (dan@moz-424CB7EB.cs.brown.edu) (ERC Version 5.3 (IRC client for Emacs))
[02:25:58] <lkuper_> tautologico: happy to help. (Just wish that there were a non-paywalled version too.)
[02:26:07] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Input/output error)
[02:29:38] *** Quits: tautologico (shung@7A53DAF8.92451A23.6EB699AE.IP) (Quit: tautologico)
[02:30:21] *** Quits: yrdz (______@moz-EB08CC70.dhcp.stls.mo.charter.com) (Quit: WeeChat 0.4.1)
[02:33:56] *** Joins: tautologico (shung@7A53DAF8.92451A23.6EB699AE.IP)
[02:35:49] *** Quits: zz_kimundi (kimundi@moz-6BC42CE5.dip0.t-ipconnect.de) (Ping timeout)
[02:36:49] <bstrie> hi folks, I just put a note on the code of conduct on the rust reddit, looking for any feedback you might have: http://www.reddit.com/r/rust/comments/1nvsdh/a_note_on_conduct_please_read/
[02:38:20] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[02:39:04] *** Joins: zz_kimundi (kimundi@moz-F7EA7A97.dip0.t-ipconnect.de)
[02:39:21] *** zz_kimundi is now known as kimundi
[02:39:22] <cmr> bstrie: r+
[02:39:31] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[02:39:51] * zxcdw applauds
[02:40:48] *** Quits: KindOne (KindOne@moz-60C9F0C2.dynamic.ip.windstream.net) (Ping timeout)
[02:41:24] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[02:43:13] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[02:44:25] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[02:44:39] *** Joins: KindOne (KindOne@moz-60C9F0C2.dynamic.ip.windstream.net)
[02:45:20] *** Quits: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au) (Ping timeout)
[02:49:10] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[02:51:02] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[02:51:08] <thewonderidiot> question about the behavior of rustpkg after https://github.com/mozilla/rust/pull/9741
[02:51:25] <thewonderidiot> extern mod foo = "github.com/asdf/foo"; now works for me if I do it in /tmp (it didn't last night)
[02:51:31] <thewonderidiot> but it still only works when I do it in /tmp
[02:51:37] <thewonderidiot> is that expected? O_o
[02:52:16] <bstrie> I'm amused at people trying to downvote the sticky
[02:52:33] <thewonderidiot> hehehe
[02:52:35] <aatch> bstrie, I upvoted it.
[02:52:41] * thewonderidiot did too
[02:53:22] <thewonderidiot> might just be the vote balancing algorithms
[02:53:36] <Eridius> bstrie: reddit practices vote fuzzing
[02:53:45] <Eridius> a story that has nothing but upvotes will still show some downvotes
[02:53:55] <Eridius> the overall number is correct, but the number of upvotes/downvotes isn't
[02:54:20] <Eridius> although the ratio is weighted by the real upvote/downvote ratio, so something that's more controversial will have a ratio closer to 50% than something that's exclusively upvoted
[02:55:40] <lkuper_> bstrie: r+
[02:55:41] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[02:55:55] <lkuper_> (I'd upvote it on reddit if I actually used reddit)
[02:56:14] <zxcdw> And I just did
[02:56:26] <Eridius> upvoted and commented
[02:56:51] <tautologico> upvoted
[02:57:13] <lkuper_> maybe if I concentrate real hard, I can cause a butterfly's wings to flutter, which will incite a cosmic ray to flip a bit somewhere and increment the vote count
[02:57:58] *** Quits: fran (fran@moz-6475E01E.telecom.net.ar) (Ping timeout)
[02:58:09] <Sorella> lkuper_: oh, yeah, M-x upvote-reddit-thread in Emacs
[02:58:32] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Quit: Leaving)
[02:58:58] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[03:00:02] <lkuper_> Sorella++
[03:00:19] *** Joins: lazyden (lazyden@47A36AC9.35CBBBD0.F246D1AF.IP)
[03:00:39] *** Joins: fran (fran@moz-E8D9D6F0.telecom.net.ar)
[03:01:56] *** Joins: jdm (jdm@37A83DB4.49EECAFD.30BE9F17.IP)
[03:01:56] *** ChanServ sets mode: +o jdm
[03:02:08] *** Joins: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net)
[03:02:30] <lkuper_> bstrie: haha, "since time immemorial"
[03:02:44] *** Quits: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu) (Ping timeout)
[03:02:49] <lkuper_> aka "since March 2011"
[03:03:35] <lkuper_> also, that person who thinks I'm "just trying to start drama" is hilarious
[03:04:34] <Eridius> lkuper_: someone really said that? That's terrible
[03:04:50] <bstrie> lkuper_: well it's basically immemorial, our irc logs don't go back that far!
[03:05:00] <benh> I'm happy that they won't get far with that line of argument in this community
[03:06:03] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[03:07:00] <Eridius> haha wat, if I upvote a comment in r/rust the "# points" text suddenly becomes massive
[03:07:07] <Eridius> nice CSS
[03:07:10] <zxcdw> If only the same blog post would gain traction in HN
[03:07:34] <zxcdw> Sadly any form of anti-sexist content gets flagged and buried down in HN within minutes even
[03:07:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:07:47] <Eridius> yeah I upvoted it earlier, but when I went back now, I can't find it
[03:07:48] <Eridius> :/
[03:09:05] *** Joins: cschneid (cschneid@moz-B21E55F0.hlrn.qwest.net)
[03:09:46] <bstrie> thinking of a version of MINASWAN for /r/rust
[03:09:56] <bstrie> We Are Nice Because Otherwise Kibwen Will Fucking Ban Us
[03:10:07] <bstrie> WANBOKWFBU
[03:10:09] <zxcdw> Haha
[03:10:11] <Eridius> I've never heard of MINASWAN before
[03:10:16] <Eridius> cute acronym
[03:10:33] <bstrie> I'm really not a fan of minaswan
[03:10:37] <bstrie> I mean, the sentiment is nice
[03:10:38] <cmr> What is minaswan?
[03:10:44] <Eridius> Matz Is Nice And So We Are Nice
[03:10:47] <cmr> oh
[03:10:52] <bstrie> it's kind of limp though
[03:10:57] <bstrie> you shouldn't need a justification to be nice
[03:11:04] <bstrie> just be nice you piece of shit
[03:11:04] <Eridius> We Are Nice Because It's The Decent Human Thing To Do. WANBITDHTTD
[03:11:17] <bstrie> JBNYPOS
[03:11:19] <Eridius> BNYPOS
[03:11:19] <cmr> YSNAJTBNJBNYPOS
[03:11:24] <cmr> HOIPJSDL:KFJSBNO:FUIVBJHQWEO
[03:11:26] <cmr> :P
[03:11:40] <Eridius> ICHATA
[03:11:41] <bstrie> now think of a coherent and apropos acronym for that
[03:11:48] <Eridius> (I Can't Hold All These Acronyms)
[03:11:50] <lkuper_> yeah, I'm a much bigger fan of "we are nice because it's the decent human thing to do".  That was the point of my post -- someone shouldn't have to be a big shot in the community to be able to say "be nice"
[03:12:20] <bstrie> lkuper_: btw that will be eight social capital dollars
[03:12:27] <lkuper_> cha-ching!
[03:12:33] <bstrie> but right now I'm in canada so I'll need that in loonies
[03:12:43] <bstrie> speaking of which
[03:13:03] <bstrie> I have to drive 5 hours back home tonight! and be at work in nine hours!
[03:13:05] <bstrie> yaaaaaaaaay
[03:13:06] <Eridius> on a different note, my path-rewrite has been updated to latest master, and incorporates acrichto's suggestion. If anyone wants to give it another review (Can't stop the bitrot!) https://github.com/mozilla/rust/pull/9655
[03:13:24] <bstrie> here's hoping the subreddit doesn't blow up while I'm asleep
[03:13:25] <bstrie> gnight all
[03:13:30] <Eridius> g'night bstrie 
[03:13:32] <lkuper_> bstrie: anyway, thanks for posting the code of conduct prominently.  'night
[03:13:52] <zxcdw> lkuper_: Do you feel that if you were new to the community you wouldn't gain such traction and similar awareness to the issue?
[03:14:02] <zxcdw> Oh!
[03:14:05] <zxcdw> Go instead :)
[03:14:33] <Eridius> zxcdw: I assume it's more that speaking up is creating waves, and that you don't really want to create waves if you can't be sure that other community members will back you up
[03:14:34] <ercxx__> What's the difference between &fn:Send and &fn:<no-bounds> ?
[03:14:43] <lkuper_> zxcdw: not sure I understand the question
[03:14:55] <Eridius> but honestly, telling someone that they're being sexist, or otherwise behaving badly, shouldn't be controversial and should be able to be said by anyone, even someone who's only been here 5 minutes
[03:15:13] <cmr> Eridius++
[03:15:18] <zxcdw> Eridius: Yes, that is my point exactly
[03:15:35] <tautologico> the sexism in geek/nerd subcultures annoys me greatly
[03:15:54] <Eridius> it's a serious problem
[03:16:14] <tautologico> especially because people try hard to disqualify any discussion about it… "creating drama"/"whiteknighting"/etc
[03:16:38] <zxcdw> I think it spans the whole internet, regardless of the subculture really though
[03:16:51] *** Joins: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au)
[03:17:14] <cmr> I have an unpublished blog post that's a rant about the prejudice implicit in our society.
[03:17:19] <tiffany> I've always taken how friendly this channel is for granted
[03:17:20] *** Quits: canhtak (jeremy@moz-13BC3BC0.wl.t.ulaval.ca) (Quit: canhtak)
[03:17:21] <tikue_> Eridius++ tautologico++
[03:17:47] <Sorella> zxcdw: unfortunately, it spans the whole society :(
[03:17:53] <benh> zxcdw: yeah, but there's plenty of people who think that because they're in tech, they're "smarter" than that and obviously our ~meritocratic~ culture makes sexism a nonissue etc
[03:18:32] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[03:19:03] <Eridius> one crucial problem is white males (of which I am a member) are in an extremely privileged position, and almost never actually realize that. Which is why they can claim that the internet and programming and whatnot is purely meritocratic with a straight face
[03:19:08] <zxcdw> Sorella: Yeah true, no denying
[03:19:39] *** Joins: mib_g669c9 (Mibbit@moz-82D7696B.hsd1.mn.comcast.net)
[03:19:45] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Quit: Leaving)
[03:19:54] *** Quits: mib_g669c9 (Mibbit@moz-82D7696B.hsd1.mn.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:20:39] <lkuper_> fwiw I've been really pleased with how generally asshole-free the channel has been tonight
[03:21:03] <jeaye> Is it worse other nights?
[03:21:14] <jeaye> I think this channel is general pretty polite.
[03:21:27] <tiffany> yeah
[03:21:35] <lkuper_> jeaye: yeah, I agree
[03:21:42] <tikue_> lkuper_, do you mean given the context of the conversation?
[03:22:03] <lkuper_> tikue_: yeah
[03:22:17] * tikue_ nods
[03:22:35] <tikue_> though the response to the reddit thread is disappointing
[03:22:35] <SiegeLord> It's hardly a marvel that a lamb doesn't come to a party of wolves :P
[03:23:02] <cmr> heh
[03:23:18] <benh> What's the response to the reddit thread?
[03:23:22] <Eridius> http://www.reddit.com/r/rust/comments/1nvn30/regarding_behavior_in_irc/
[03:23:37] <Eridius> benh: someone (who's subsequently deleted the comment) said lkuper_ was just trying to create drama
[03:23:40] <lkuper_> "She said herself that the word "guys" is acceptable for addressing a mixed-gender group." <- Could someone please point me to where I said this?
[03:24:00] <benh> Eridius: Oh, I figured that was in channel or something. I thought deleted comments stayed listed on reddit.
[03:24:00] <lkuper_> I'm genuinely curious as to whether my post comes off that way.
[03:24:06] <Eridius> looks like the person who made the asshat comment deleted it though
[03:24:35] *** Quits: GeneralMaximus (ankur@98617C67.9B33ED22.BE90E62C.IP) (Quit: Textual IRC Client: www.textualapp.com)
[03:24:41] <Eridius> lkuper_: your post comes across as you don't think 'guys' is appropriate for mixed-gender groups, but you also typically let it slide because you don't think it's worth quibbling over
[03:25:23] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[03:26:12] <benh> I don't think it's ambiguous
[03:26:37] <jeaye> 'folks' <- works every time
[03:26:53] <aatch> Eridius, on the subject or meritocracy, the people claiming that would have more credibility if they weren't immediately skeptical of female contributions
[03:26:57] <benh> I guess some people interpret "it only grates a tiny bit" as aceptable.
[03:27:33] <benh> jeaye: I've started typing "y'all" but I feel pretty awkward about it because I don't even know how to pronounce it ;)
[03:27:34] <zxcdw> We should come up with a two-letter word denoting gender-neutral reference to "you all/people".
[03:27:51] <jeaye> yawl
[03:27:52] <Eridius> aatch: yeah. People who like to claim that also get rather defensive, because they're trying to justify their prejudices
[03:27:54] <zxcdw> two-letter, for it being more optimal for use than guy(s)!
[03:28:17] <tikue_> benh, "yawl" or "y-all"
[03:28:17] <Eridius> zxcdw: I think the XKCD on competing standards would be relevant here ;)
[03:28:22] <benh> ok :)
[03:28:49] <Eridius> anyway, dinnertime. lkuper_, in case I don't see you again soon, I just want to repeat the thank you for posting that. I think this discussion is healthy for the community
[03:29:18] <lkuper_> Eridius: np!
[03:29:40] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:30:56] <zxcdw> Eridius: Oh well. :P I just find using the word of a "man" in Finnish(my native language) to refer to anyone in gender-neutral way, simply because it's shorter, although I understand the perceived incorrectness, but thats how language changes I guess.
[03:31:36] <aatch> Meritocracy: Rule by worth of merit. Technically that doesn't preclude sexism since you can argue that women are inherently less meritious. You'd be an asshole, but it doesn't invalidate your meritocratic claim.
[03:31:40] <zxcdw> I understand if someone feels it's even sexist in a sense, sure it can be interpreted that way, but that would be the incorrect interpretation, hence why I wish there was a superior "optimal" word for something like that.
[03:32:22] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:32:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:33:40] <aatch> lkuper_, I interpreted your post as you decided to pipe up because you felt like it (not necessarily a good idea, but you're only human). And it's only the specifically sexist negative response that got to you.
[03:33:45] <tikue_> zxcdw, all languages are a bit sexist though. it's hard to change it but it's worth thinking about
[03:34:47] <tikue_> aatch, what do you mean "not necessarily a good idea"? 
[03:36:00] <aatch> tikue_, oh, as in objectively it was obviously going to cause some conflict. That doesn't change anything though, people pick stupid fights all the time. If you're like me you do it deliberately.
[03:36:40] <benh> I disagree that it is necessarily a stupid fight to pick just because it causes conflict
[03:36:48] <tikue_> aatch, but what conflict is "stupid" and what isn't? or rather,
[03:36:50] <benh> and wording it like that seems kind of dimissive :/
[03:37:00] <aatch> I'm trying to not be dismissive.
[03:37:32] <aatch> It's kinda hard to word well.
[03:39:39] *** Quits: Sorella (user@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[03:40:05] <lkuper_> so, in the moment, I decided to say something because "guys" does grate on me a little bit -- especially in the context of Rust, where people are in real danger of assuming that there are no women here, and I'd love for them to not make that assumption 
[03:41:07] <aatch> lkuper_, and that's fine. There are similar things, especially around mental illness, that grate on me.
[03:41:07] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:41:23] <aatch> And I will pipe up sometimes.
[03:41:27] <lkuper_> and if they'd responded with "I meant it in a gender-neutral way", then that would have been, well, not ideal, but certainly expected
[03:42:09] <lkuper_> aatch: yeah, I know what you're talking about, I think
[03:42:27] *** Joins: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net)
[03:42:41] <tikue_> i think the ideal situation would have been an understanding that would be reached after more than a single response
[03:42:52] <eevee> virtually anything is an improvement over "boobs or gtfo" jfc
[03:42:58] <eevee> i do not understand how that is still a thing
[03:43:18] <tikue_> i didn't think it was ever a thing
[03:43:23] <tikue_> outside of certain forums
[03:43:32] <aatch> tikue_, 4chan leaks sometimes.
[03:43:47] <zxcdw> Well, when people come from such forums to places like Rust community, it surely leaks
[03:43:52] <benh> imo the only reason not to speak out against that sort of thing would be fear of reprisal or something, or burnout on speaking out
[03:44:06] <lkuper_> eevee: it was surreal to have someone actually say that in #rust.  and, of course, I don't want anyone to get the impression that that's typical for this channel
[03:44:10] <benh> minimizing conflict shouldn't be a thing that is expected of people
[03:44:48] <zxcdw> And it's not just that it exists in 4chan or such, but at least I see it as a common theme in the way younger people joke about things and create such a culture within their own age group. Lack of maturity, as expected, but not accepted
[03:45:15] <eevee> i can't even wrap my head around the mindset that makes it a clever or edgy thing to say.  it's just grating noise, like "cake is a lie"
[03:45:32] <eevee> lkuper_: it's surreal to see that it happened in a dev channel or especially on moz irc at all
[03:45:55] <erickt> lkuper_: once again, sorry about the comment, but you, or anyone else on the channel, shouldn't feel bad about speaking up. The idea that someone brand new to our community might be too scared to speak was one the one of the saddest things in your email :(
[03:46:00] <tikue_> benh, well the problem is that i'm sure minimizing gratuitous conflict is something most people would like, but when you try to ascertain what, exactly, is gratuitous, you'll find people with different opinions. i wish that it wasn't so "controversial" to try to right normative societal wrongs, but it is
[03:46:29] <eevee> oh
[03:46:35] <eevee> that's it: it's tribe identification
[03:47:45] <aatch> tikue_, the issue is what is considered a "normative societal wrong"
[03:48:05] <tikue_> aatch, everything that could even remotely be considered a normative societal wrong probably is
[03:48:08] <eevee> stuff people do that i don't like, /obviously/  :)
[03:48:18] <tikue_> there are _lots_ of them
[03:48:18] <lkuper_> something something Overton window something something creeping normality
[03:48:56] *** Quits: StarLight (StarLight@moz-6C822096.dynamic.avangarddsl.ru) (Ping timeout)
[03:49:00] <aatch> tikue_, I have encountered people that consider me existing, as a straight white male, a societal wrong.
[03:49:17] <aatch> As in, according to them, my only function is a source of gametes
[03:49:18] <tikue_> aatch, as a straight white male, i contest that claim
[03:49:44] <eevee> what does that make gay white males
[03:49:55] <lkuper_> erickt: yeah, that's the thing -- I don't care about it for myself, so much.  I'm among friends here, more or less.  I care about someone new showing up, and saying some perfectly acceptable factual thing like "not everyone in the channel is a guy", and getting harassed for it
[03:50:05] *** Quits: cschneid (cschneid@moz-B21E55F0.hlrn.qwest.net) (Client exited)
[03:50:23] <aatch> eevee, according to radical feminists, the worst mysoginists ever
[03:50:35] <eevee> ah yes
[03:50:39] <eevee> the square root of feminists
[03:51:11] <tikue_> aatch, i don't think that's fair at all to say
[03:51:37] <zxcdw> I dont think you can say much unfair things about extremist people, but that's just my view. :)
[03:51:59] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[03:52:05] <eevee> "radical _____ists believe outlandish things" sounds a bit tautological tbh
[03:52:10] <tikue_> zxcdw, but literally all feminists get called "radical" 
[03:52:25] <tikue_> it's just a way of dismissing what they're fighting for
[03:52:33] <aatch> tikue_, well how about self-identifying radfems?
[03:52:40] <lkuper_> many feminists explicitly shun the label "radical"
[03:52:58] *** Joins: StarLight (StarLight@moz-4A9C441D.dynamic.avangarddsl.ru)
[03:53:04] <zxcdw> tikue_: Yes, but radical feminism is a movement of it's own though
[03:54:57] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[03:55:14] <lkuper_> feminism: it's complicated!
[03:55:43] <eevee> people: they're complicated  :(
[03:55:52] <tikue_> humanity -- it's complicated
[03:56:00] <tikue_> and government only complicates it more rar!
[03:56:08] <benh> computers: refreshingly simple sometimes
[03:56:20] <zxcdw> computers: sadly not so much these days :(
[03:56:39] <nejucomo> aha…  I was just over on reddit and now I see we're talking feminism…  ;-)
[03:57:03] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[03:57:13] <aatch> Anyway, I'm not actually making this up. Sure, they are an extreme minority, and mostly limited to Tumblr, but there are people that honestly think that misandry is a *good* thing.
[03:57:42] <benh> I suspect they are mostly saying that to get a rise out of people who honestly think that misandry is a thing
[03:58:06] <aatch> benh, misandry is a thing though. By definition it has to be a thing.
[03:58:13] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[03:58:13] <eevee> there are also people who honestly think chemtrails exist, who cares
[03:58:22] <aatch> What else do you call the hatred of men?
[03:58:41] <nejucomo> lkuper_: Thanks for the blog post.  I really like the point about what the language community aspires to: do we just accept trolls as we scale up, or can we make the community better than the status quo?
[03:58:43] <zxcdw> Many social movements, when taken to extreme are just pure chaos. I've been personally made fun of by friends into fat acceptance movement for losing weight.
[03:58:43] <erickt> all: I haven't been much a part of this conversation, but I worry this conversation may be going off the rails a bit. #rust is a place where all people should feel welcome.
[03:58:49] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[03:58:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:59:14] <tikue_> erickt++
[03:59:16] <eevee> zxcdw: tribe identification  :)
[03:59:43] <erickt> There are better places to discuss this
[04:01:12] <lkuper_> erickt: agreed. sorry, I egged on the off-topic conversation a bit.
[04:01:22] <nejucomo> erickt: Better places to discuss what?  I've missed some IRC backlog, so maybe the conversation is too abstract now?
[04:01:25] <lkuper_> nejucomo: thanks for reading
[04:01:45] <nejucomo> I'm of the opinion that talking about sexism is inherently on-topic for tech communities...
[04:01:57] <nejucomo> -but I don't want to be disruptive.
[04:02:07] <tikue_> i don't think #rust should be in the business of saying which movements or ideologies are valid/invalid. i think it _should_ be in the business of encouraging people to speak out when they believe something wrong has been said
[04:02:24] <tikue_> but that's different from calling out specific groups of people
[04:03:12] <zxcdw> tikue_: This, and  think it unifies people too, or at least the community, and with topics like what lkuper_ brough up I can only see it as a good thing to go over this stuff
[04:03:46] <zxcdw> As in, keep it civil and it should be all good, although I have no sa on it apart from a humble opinion of course
[04:04:27] <benh> Enforcing civility can reinforce the status quo/wider oppression dynamics tho
[04:05:01] *** Joins: Timeroot (Timeroot@moz-72EDBCBC.sb.sd.cox.net)
[04:06:04] <nejucomo> benh: Can you give an example or otherwise expound?  I'm not sure I follow.
[04:06:23] *** Quits: ercxx__ (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.1)
[04:07:08] <benh> not to harp on this example, but it's easy to frame someone calling up problematic behavior as more uncivil than the problematic behavior itself, even accidentally
[04:07:10] <erickt> lkuper_: I don't think you were off topic, horribleness happened and I'm glad you brought it up
[04:07:30] <aatch> nejucomo, it is possible to use the excuse of "enforcing civility" in order to suppress dissenting speech.
[04:07:57] <nejucomo> Oh, sure.  I see.
[04:08:00] <benh> if the people with the ban button aren't on the ball, it's easy for them to see someone as stirring up trouble when they're just feeling distressed or pushing back against being marginalized
[04:08:45] <erickt> nejucomo: I agree that talking about sexism is on topic for the tech community, but we're biased in #rust, it's our duty to defend our members :)
[04:08:48] <tikue_> benh, i've found myself agreeing with everything you've said tonight
[04:10:52] <lkuper_> erickt: I think I made a brief foray into off-topic when I mentioned that many feminists (me included) don't consider themselves part of the "radical feminist" movement
[04:11:17] <lkuper_> which is true and all, but I don't know that #rust is the place to discuss the difference between various feminisms
[04:11:18] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[04:11:28] <tikue_>  /agree
[04:11:45] <lkuper_> because it's complicated and there are better places to discuss it
[04:12:03] <zxcdw> Not with the same social environment though
[04:12:26] <zxcdw> I think context matters alot too
[04:12:47] <erickt> aatch: I understand where you're coming from, and if our enforced civility goes to far, it's important to bring up, but we should allow people to opt into that conversation.
[04:13:18] <nejucomo> I suspect that focusing on identities, as opposed to specific feelings, words, issues at hand, tends to derail discussions, because people naturally get all us-vs-them with identities.
[04:13:37] <lkuper_> nejucomo: yeah
[04:13:38] <aatch> erickt, oh, I was just giving nejucomo an example.
[04:13:47] <aatch> I don't think that is the case here.
[04:13:56] <erickt> ah right :)
[04:14:19] <aatch> erickt, it's where sedition comes from, and it wasn't popular then either.
[04:14:29] <benh> I want to say that it's easier for privileged people to divorce themselves from labeled identities because their aspects of identity count as the default, but I guess that's veering further off-topic too :(
[04:14:35] <nejucomo> Once the community guidelines adds the policy "talking about the ban policy will result in an immediate ban" I'll know we've lost.  ;-)
[04:14:42] <lkuper_> hahaha
[04:14:44] <erickt> lol
[04:14:53] <lkuper_> the first rule of the #rust ban policy is...
[04:15:07] <aatch> benh, don't go there. That way leads to the oppression olympics.
[04:16:15] <lkuper_> benh: I think that's a good point
[04:16:24] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[04:16:55] <nejucomo> benh: Do you mean it might be difficult for someone to express their discomfort or feeling of disrespect without alluding to their identity?
[04:18:09] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[04:18:18] *** Quits: heftig (heftig@moz-8D637857.dip0.t-ipconnect.de) (Ping timeout)
[04:18:34] <benh> nejucomo: I mean that resorting to a delineated identity for... I dunno, comfort, feeling of belonging etc is more necessary for some groups of people than others
[04:18:53] <benh> I don't have a well thought out argument there apparently :)
[04:19:17] *** Quits: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au) (Ping timeout)
[04:19:44] *** Joins: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au)
[04:19:53] <nejucomo> Yeah, that makes sense.  So when I mentioned focusing on the more immediate details might be more effective than focusing on identity, I didn't mean to imply people should or must do that.
[04:19:54] <lkuper_> I was going to say I had a concrete example of what benh means, but now I realize I totally don't
[04:20:32] <lkuper_> generally, keeping it concrete is useful in these discussions
[04:20:34] <nejucomo> If it's true that more marginalized people rely more on a focus on identity, then all the more reason for the broader community to speak up.
[04:21:33] <aatch> Ok, just to put an end to this: Once you start talking about privilege and then "non-privileged" vs "privileged" groups you start having to split the "non-privileged" group into more and less privileged sub groups. This way leads to madness.
[04:21:52] <aatch> If you talk about privilege, it *HAS* to be in a specific context.
[04:22:04] <aatch> otherwise you are just railing against "The Man"
[04:22:07] <nejucomo> aatch: Privilege is not a scalar value, and that's why those taxonomies are madness.
[04:22:11] <nejucomo> Right.
[04:22:35] <tikue_> aatch, saying someone is privileged isn't derogatory. it's more of a context reminder
[04:22:54] <aatch> tikue_, except I see it used more often as tool to shut down discussion.
[04:23:21] <tikue_> aatch, i've seen it used like that, too, and yes, that is annoying because then there's no possibility of learning
[04:23:32] <aatch> That such and such a person couldn't understand because "privilege". And without context you end up demonising a group for no reason.
[04:23:38] <benh> faciliating learning isn't everybody's priority
[04:24:09] <nejucomo> -especially not under duress.
[04:24:10] <tikue_> no, and it doesn't need to be
[04:24:17] *** Joins: ercxx__ (ercan@moz-7CFF3469.dyn.optonline.net)
[04:24:18] <aatch> I may have privilege for being a male in many contexts. But not if I wanted to be a nurse, or a early-childhood teacher.
[04:24:25] <tikue_> but in a community like this, if there's going to be a discussion, then let there be a discussion
[04:24:29] <tikue_> you can't really go halfway...
[04:26:32] <benh> ok, so you're privileged in the context of getting a status-y, well-paid job and underprivileged in the context of getting jobs that are often seen as beneath men who instead become doctors or professors or w/e, i think it still averages out to a scalar privilege value there
[04:26:34] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[04:26:48] <nejucomo> I'd understand if some channel participants felt like this was off topic, but for me it reinforces my impression that the rust community is awesome.
[04:29:25] <erickt> I just worry that some lines could be crossed in this conversation that could make people feel unwelcome in our community.
[04:30:09] <aatch> benh, but being an primary-school teacher is much different to being a professor. That's a false equivalency. That's like saying if you can't get a porsche, buy a Land Rover
[04:30:16] *** Joins: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP)
[04:31:48] <aatch> benh, my issue anyway with discussion of privilege is that it has a tendency to devolve into what has been termed the "Oppression Olympics" where everybody who is not a straight white male argues about who is more oppressed.
[04:32:27] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:33:12] <aatch> By starting out with the rule that you must provide context, you can keep discussions reasonable.
[04:33:32] <aatch> (and context has to be more specific than "life")
[04:33:32] <nejucomo> Yeah, keeping context is quite valuable.
[04:34:21] <nejucomo> I think part of the reason conversations go that way is that the term "privilege" is about trying to generalize over many different contexts...
[04:34:40] <benh> well, thats intersectionality
[04:34:46] <nejucomo> There are frequently occuring patterns, but there are also endless variety in contexts.
[04:35:03] <nejucomo> I'm not familiar with that term.
[04:35:29] <nejucomo> I mean, I hear it a fair amount, but I've never stopped to learn about it.
[04:35:32] <cuttle> sorry to interrupt the (valuable and necessary, imo :P) discussion of privilege. I have an algebraic data type representing tokens in a programming language, and I implemented ToStr. When returning the string stored inside e.g. name or string tokens, I get: "error: cannot move out of dereference of & pointer"
[04:35:34] <lkuper_> Yeah, I was going to say that the antidote to the "oppression olympics" thing, I think, is to think within the framework of intersectionality.  The idea is that one can be simultaneously oppressed and oppressing.
[04:36:05] <nejucomo> Yay, cuttle!  I was waiting for that segue.  ;-)
[04:36:06] <lkuper_> cuttle: haha, don't apologize for *gasp!* talking abut rust
[04:36:09] <benh> cuttle: You might have to copy it.
[04:36:18] <cuttle> I try to use .clone(), and it gives me the same error
[04:36:19] <tikue_> cuttle, try a clone
[04:36:19] <benh> Like, the string, with .clone()
[04:36:25] <benh> mh
[04:36:26] <aatch> cuttle, code?
[04:36:30] <cuttle> aight, gisting
[04:36:42] *** Quits: jordyd (jordyd@moz-C6001D7D.seg50.ucf.edu) (Ping timeout)
[04:36:56] <aatch> (it's probably something like a bad pattern or a missing lifetime)
[04:36:57] *** Joins: mihneadb (mihneadb@moz-7DDD1300.ifiber.telenet-ops.be)
[04:37:07] <benh> ah yeah
[04:37:12] <nejucomo> I wonder if I'm reading it right that everyone was poised to dive back into rust as soon as it came up?  ;-)
[04:37:14] <benh> just put ref in your patterns ;)
[04:37:54] <aatch> nejucomo, probably, everybody has different opinions and it makes things uncomfortable for everyone.
[04:38:04] <cuttle> (btw, I think it's a higher priority to combat oppression than to put a stop to the oppression olympics)
[04:38:11] <cuttle> https://gist.github.com/micahjohnston/6862615
[04:38:31] <cuttle> benh: how does ref work?
[04:38:39] <lkuper_> when we get to where we're talking about intersectionality then it's starting to be time to refer people to things to read outside of the channel
[04:38:47] <nejucomo> aatch: True, but I hope that at the end of the day people feel *more* comfortable as a result.  Kind of like stretching a sore muscle.
[04:39:00] <benh> if you say match Some(42) { Some(ref i) => ..., i is a &-ptr to 42
[04:39:04] <Eridius> cuttle: ref in a pattern binds by-ref instead of by-value
[04:39:09] <cuttle> ah ok
[04:39:13] <benh> so you can look into noncopyable things in ADTs without moving them out
[04:39:18] <aatch> cuttle, if only it was that simple. The oppression olympics aren't secret though and hurt people's opinions of the movement.
[04:39:22] <tikue_> nejucomo, i really like that analogy
[04:39:35] <cuttle> Eridius: do I know you from somewhere?
[04:39:43] <erickt> lkuper_: maybe we need a book reading group :)
[04:39:58] <lkuper_> erickt: I was thinking perhaps just a "further reading" wiki page
[04:40:11] <cuttle> aatch: I just think the fact that oppression olympics happen is very much not a reason not to hold discussions about privilege
[04:40:13] <Eridius> cuttle: I don't know? I use this name pretty much everywhere
[04:40:22] <nejucomo> So is removing oppression on the 1.0 milestone, or is it more of a 2.0 wishlist item?
[04:40:28] <cuttle> Eridius: something about ##paws or #elliottcable perhaps?
[04:40:33] <lkuper_> nejucomo++
[04:40:33] <Eridius> nejucomo: milestone - backwards compatible
[04:40:38] <nejucomo> hehe...
[04:40:40] <erickt> lkuper_: it's not *that* crazy of an idea. I've never read anything about this field
[04:40:43] <Eridius> cuttle: hah that's a blast from the past. Yeah I was there
[04:40:49] <cuttle> Eridius: ah sweet
[04:40:57] <cuttle> Eridius: I am literally implementing Paws in Rust right now
[04:40:59] <aatch> I also find that, as a straight, white male, I often end up at the angry end of the stick.
[04:41:25] <cuttle> aatch: right, well that's small compared to the results of oppression
[04:41:27] <Eridius> cuttle: that's kind of crazy
[04:41:29] <Eridius> ;)
[04:41:31] <cuttle> haha
[04:41:40] <cuttle> aatch: people aren't hating you or targeting you
[04:41:42] *** Quits: mihneadb (mihneadb@moz-7DDD1300.ifiber.telenet-ops.be) (Input/output error)
[04:41:45] <cuttle> aatch: for having privilege
[04:41:49] <cuttle> aatch: they just want you to be aware
[04:41:54] <lkuper_> erickt: heck, if you want a reading group, don't let me stop you.  I actually strongly recommend occasionally reading some books, actual print books, about feminism, because the quality of the writing is so much better than what you'll find online
[04:41:55] <nejucomo> aatch: I empathize with that kind of feeling...
[04:42:01] <tikue_> cuttle, agreed, and also I find that being reminded of it makes me a better person
[04:42:08] <aatch> cuttle, sure, hence the context.
[04:42:09] *** Joins: mihneadb (mihneadb@moz-7DDD1300.ifiber.telenet-ops.be)
[04:42:18] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[04:42:19] <cuttle> lkuper_: i would honestly love to be recommended some of that
[04:42:48] <lkuper_> if you judge feminist writing by just what you find on e.g. tumblr, you're missing out
[04:42:58] <erickt> lkuper_: me too. And to bring it back to rust, we should do the same with more on topic stuff too. For instance, I know nothing about how to optimize things :)
[04:43:27] <nejucomo> A Primer in Feminism and Compiler Design...
[04:43:34] <lkuper_> actually, while I was writing that post earlier, I realized that I wanted to mention hygienic macros but wasn't sure if I could yet
[04:43:42] <aatch> I can agree that I am at an advantage in some areas, just don't expect me to sit back and agree that an entire group that includes me is responsible for all your woes.
[04:43:43] <lkuper_> but I went and looked, and apparently it actually landed
[04:43:53] <lkuper_> at long last
[04:43:59] *** Quits: mihneadb (mihneadb@moz-7DDD1300.ifiber.telenet-ops.be) (Ping timeout)
[04:44:01] <cuttle> aatch: no one *ever* says that
[04:44:30] <nejucomo> cuttle: I think people do, but those are the kinds of assertions best ignored.
[04:44:30] <Eridius> lkuper_: it's actually a little _too_ hygenic: https://github.com/mozilla/rust/issues/9737
[04:44:37] <Eridius> ;)
[04:44:45] <lkuper_> I personally believe that aatch, the singleton set of people including aatch, is responsible for all my woes.
[04:44:59] <aatch> lkuper_, dammit, I've been found out.
[04:45:00] <nejucomo> hehe...
[04:45:10] <cuttle> nejucomo: I don't think anyone ever actually does
[04:45:11] <nejucomo> lkuper_: You're generalizing.
[04:45:17] <cuttle> lkuper_: hahaha
[04:45:18] <bblum> can i blame my woes on you too, or is it an "already spoken for" type of thing?
[04:45:20] <lkuper_> hahaha
[04:45:30] <tikue_> lol!
[04:45:30] * kini stops lurking for a second to say he's proud to be lurking in this channel
[04:45:34] <erickt> nejucomo: now that's a book title that'll tear it up on the charts
[04:45:37] <nejucomo> bblum: There's no Clone impl for woes?
[04:45:37] <tikue_> kini++
[04:45:38] <Eridius> I think aatch is the prime source for the woes of everyone here
[04:46:27] <lkuper_> Eridius: re https://github.com/mozilla/rust/issues/9737, aw, darn
[04:46:40] <Eridius> lkuper_: I was quite surprised when I first hit it
[04:47:13] <benh> iirc sprocketnes stopped compiling due to macro hygiene too
[04:47:29] <lkuper_> I mean, if you have a macro system that doesn't let you bind *anything*, then it's hygienic...
[04:48:07] <erickt> benh: pcwalton said he was going to update sprocketnes soon 
[04:48:33] <lkuper_> haha, it'll be hilarious if sprocketnes was relying on a hygiene bug
[04:48:43] * aatch is trying to be the balance for a potential social justice circlejerk
[04:48:44] <lkuper_> but it's more likely that the hygiene patch introduced a bug, I guess
[04:49:23] <lkuper_> aatch: seriously, I don't think #rust is at risk for that.
[04:49:57] <aatch> lkuper_, it's the beginning of the end for most communities though. I don't want to risk *that*.
[04:50:06] *** Joins: mihneadb (mihneadb@moz-7DDD1300.ifiber.telenet-ops.be)
[04:50:15] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[04:50:35] <lkuper_> aatch: I'm not sure I follow
[04:51:03] *** Quits: mihneadb (mihneadb@moz-7DDD1300.ifiber.telenet-ops.be) (Input/output error)
[04:51:29] *** Joins: mihneadb (mihneadb@moz-7DDD1300.ifiber.telenet-ops.be)
[04:52:25] <cuttle> one last problem with this lexer
[04:52:26] <cuttle> so
[04:53:01] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[04:53:14] <cuttle> actually
[04:53:15] <cuttle> fixed it
[04:53:22] *** Quits: mihneadb (mihneadb@moz-7DDD1300.ifiber.telenet-ops.be) (Ping timeout)
[04:53:22] <cuttle> :p
[04:53:24] <aatch> lkuper_, as far as I can tell, once you start getting people patting themselves on the back for being all social-justicey, things take a turn for the worse. You starting getting social justice "warriors" that don't do anything except get hysterical at tiny things.
[04:53:54] <lkuper_> cuttle: cheers!
[04:53:58] <aatch> I doubt #rust is at risk for it, but I'd rather not have to leave because of it.
[04:54:43] <cuttle> lkuper_: o/
[04:54:49] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[04:54:52] <lkuper_> aatch: well, I'd be sorry to see you leave (even though you are personally the source of all my woes, all of them)
[04:55:28] *** Joins: jaen (jaen@moz-225B54E6.play-internet.pl)
[04:55:42] *** Quits: jdm (jdm@37A83DB4.49EECAFD.30BE9F17.IP) (Ping timeout)
[04:55:45] <lkuper_> aatch: but I don't see much back-patting going on -- most of us are pretty humble about how little we know about this stuff -- hell, I hesitate to give any book recommendations to anyone because I basically know nothing on the topic
[04:55:59] <aatch> lkuper_, it's more of a reflex.
[04:57:05] <erickt> alright folks, things seem to be veering into that dangerous territory.
[04:57:26] <aatch> erickt, fair enough, seems to be petering out anyway.
[04:58:22] <erickt> aatch: I don't want to lose you from this community. If in the hopefully unlikely case our community guidelines cause problems we should have that conversation.
[04:58:34] <aatch> erickt, it's highly, highly unlikely.
[04:58:54] <erickt> so then I don't think it's worth talking about the hypotheticals at this point
[04:59:18] *** Quits: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net) (Quit: hoverbear)
[05:00:03] *** Quits: kermi (Mibbit@moz-8A2D1B65.hsd1.ga.comcast.net) (Ping timeout)
[05:00:19] *** Quits: below (Mibbit@moz-DBB8B716.bootp.virginia.edu) (Ping timeout)
[05:00:28] *** Quits: xales (xales@moz-7DEA692E.forevernothing.com) (Ping timeout)
[05:01:02] *** Quits: Caseus (bacon@moz-9F046088.members.linode.com) (Ping timeout)
[05:02:55] *** Quits: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au) (Ping timeout)
[05:03:22] <aatch> erickt, of course. I do want to be a part of the community, just making sure any potential discussions on this topic are in the right spirit.
[05:03:49] <erickt> :)
[05:04:13] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[05:04:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:05:01] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:05:04] <erickt> anywho, I'm off to bed now. Gnight y'all! 
[05:05:24] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Connection reset by peer)
[05:05:31] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Quit: Leaving)
[05:05:31] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:07:00] <lkuper_> hm, someone on HN characterized my saying "please remember that not everyone in the IRC channel is a guy" as an "attack".
[05:07:56] <erickt> (slightly less than asleep) this hit HN? oiy
[05:08:03] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[05:08:30] <benh> quick, mention Go and garbage collection performance or something to distract everybody
[05:08:35] <lkuper_> well, HN gossip really *is* off-topic.  So I'm going to leave it alone.
[05:08:36] <nejucomo> lkuper_: Ugh.
[05:08:37] <nejucomo> hehe...
[05:08:40] <erickt> haha
[05:08:51] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Connection reset by peer)
[05:09:02] <cuttle> i have another distraction :p
[05:09:23] <cuttle> is a stream of options the recommended way to have it be able to notify its receiver that it's stopped?
[05:09:30] <cuttle> or is there a better way?
[05:09:57] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:09:59] <lex> Hi, student here. Quick question. If I have an array of ints and want to have a separate thread increment each element in the array, is there a way to do this? I tried using Arc but I ran into a `cannot assign value to immutable vec content` error. 
[05:10:05] <benh> I don't remember how it goes, can't you try_recv to see if the other side hung up?
[05:10:57] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[05:11:43] <lex> Is there no way to have a thread modify host data. Do I have to use a stream() to get the data back?
[05:11:43] <cuttle> benh: oh, does it just close when the task finishes?
[05:11:59] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:12:13] <benh> I'm not 100% confident here, I only played with streams shortly before the new runtime happened
[05:12:15] <nejucomo> lex: I'm not familiar with the task stuff yet, but I recall a different ARC abstraction for mutable stuff...
[05:12:16] <tikue_> lex, you could use RWArc, but is there no better way?
[05:12:31] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:12:37] <tikue_> lex, in general rust has poor support for cross-task mutation right now
[05:12:49] <tikue_> and that's mostly intentional i'd say
[05:13:02] <cuttle> benh: all right, thansk
[05:13:03] <cuttle> thanks*
[05:13:09] <tautologico> this would work well in the GPU :)
[05:13:19] <tautologico> incrementing each element in a separate thread
[05:13:23] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[05:13:29] <Heather> morning
[05:13:34] <Heather> how can I filter an array ?
[05:13:41] <Heather> of structures...
[05:13:47] <Heather> by structure field
[05:13:48] <lex> tikue_: thanks. I'll look into RWArc
[05:13:50] <tikue_> Heather, you can use filter
[05:14:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:14:24] <tikue_> vec.iter().filter(|foo_struct| foo_struct.bar == baz)
[05:14:28] *** Quits: jaen (jaen@moz-225B54E6.play-internet.pl) (Ping timeout)
[05:14:31] <lex> tautologico: It would work well on the GPU :) but that's not the assignment. And this computer's GPU is a little outdated
[05:14:47] <bblum> tikue_: it's not so much "there is no better way" as "this is the way, and it is recommended against until you understand the rest of the concurrency model"
[05:14:50] <lex> tautologico: but gpu is fun :D
[05:15:04] <bblum> tikue_: just a nit :P
[05:15:12] <benh> cuttle: cuttle http://ix.io/8mO this seems to work as one might expect ;)
[05:15:16] <tautologico> very simple kernel
[05:15:21] <tikue_> bblum, fair enough :)
[05:15:27] <enix> is it possible to get rustpkg to have one package in the src/ directory link to another package in the same src directory (eg: a library)?
[05:15:42] <cuttle> benh: all right, cool
[05:15:43] <cuttle> thanks
[05:15:53] <benh> np, and good luck :}
[05:15:53] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:16:00] <lex> tikue_: I'm looking at the RWArc stuff. Am I correct in thinking that it will serialize accesses to mutable data?
[05:16:08] <tikue_> lex, yes
[05:16:14] <tikue_> lex, :(
[05:16:37] <tikue_> lex, rust doesn't have SIMD-esque support
[05:16:42] <tikue_> ..yet
[05:16:44] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:17:03] <lex> tikue_: hm...okay. Kind of defeats the point of trying to do it in parallel then. I'll have to try to find a workaround.
[05:17:19] <tikue_> lex, yeah, i assume you're trying to do like, OMP kind of stuff?
[05:17:23] <Heather> tikue_ thanks
[05:17:24] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[05:17:37] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[05:18:09] <tikue_> lex, there might be someone in this channel who can help you with that better than i can
[05:18:27] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[05:18:37] <tikue_> lex, you could do it MPI-style and have tasks successively fold their structures together
[05:18:55] <tikue_> lex, which would give you O(log n) reduction but would be a pain to code
[05:19:07] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:19:32] <lex> tikue_: can you elaborate on what you mean by folding structures together?
[05:20:10] <tikue_> lex, so let's say you had like 4 tasks. task one could pass its slice of the array to task two. task three could pass its slice to task four. then task two and task four would combine theirs and then task two could pass its to task four
[05:20:35] <lex> tikue_: ah, okay. I understand. 
[05:20:53] <tikue_> it'd be better than serializing everything but it wouldn't be as good as what you really want
[05:21:13] <lex> tikue_: true, it is better. i'll mess around with it some more
[05:21:22] <lex> tikue_: thanks for pointing me in the right direction
[05:21:26] <tikue_> no problem!
[05:22:31] <Heather> how to compare structures, when == doesn't work
[05:23:01] <Heather> oh, sorry, compare enums
[05:23:03] <tikue_> lex, usually you'll assign the tasks IDs, and then even IDs will send first and odd IDs will receive, etc. to prevent blocking. it'll be tricky
[05:23:15] <tikue_> Heather, you'll want derive Eq
[05:23:19] <tikue_> Heather, so that == does work
[05:23:42] <tikue_> Heather, usually putting #[deriving(Eq)] above the enum declaration will work
[05:24:02] <Heather> tikue_ let me try
[05:24:30] <tikue_> Heather, if it doesn't work then you'll have to implement Eq yourself -- `impl Eq for Foo { ... }`
[05:24:53] <Heather> tikue_ it works, thanks
[05:25:22] <Heather> tikue_ what means cannot move out of captured outer variable
[05:26:40] <tikue_> Heather, it means you have a closure that captured a variable, and then you try to move that captured variable out of the closure, usually by moving it into a function call as an argument
[05:27:20] <tikue_> Heather, you can get around this by cloning the variable -- or, if you know the closure will only be used once, you can use Cell
[05:27:52] <Heather> tikue_ cell?
[05:29:03] <Heather> tikue_ I see, thanks
[05:29:37] <tikue_> rusti use std::cell::Cell; let x = 1; fn move_x(_x: int) {} let cell_x = Cell::new(x); do spawn { move_x(cell_x.take()); }
[05:29:45] <tikue_> rusti: use std::cell::Cell; let x = 1; fn move_x(_x: int) {} let cell_x = Cell::new(x); do spawn { move_x(cell_x.take()); }
[05:29:45] -rusti- ()
[05:37:33] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[05:38:02] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[05:38:32] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[05:38:58] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[05:39:04] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:40:11] *** Quits: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net) (Quit: jeff_)
[05:41:39] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[05:43:55] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[05:47:09] <Heather> tikue_ thanks
[05:47:25] <Heather> Why do I get those warnings during build : https://github.com/Heather/gentoo-rust/issues/2
[05:58:54] *** Quits: tautologico (shung@7A53DAF8.92451A23.6EB699AE.IP) (Quit: tautologico)
[06:01:05] *** Joins: mib_1pn3q8 (Mibbit@moz-C945C45C.cust.bredbandsbolaget.se)
[06:02:16] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[06:02:21] *** Quits: mib_1pn3q8 (Mibbit@moz-C945C45C.cust.bredbandsbolaget.se) (Quit: http://www.mibbit.com ajax IRC Client)
[06:03:38] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[06:04:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:05:48] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[06:07:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:08:31] *** Quits: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP) (Client exited)
[06:09:48] *** Joins: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de)
[06:10:42] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[06:12:14] <jason_> error: type `f64` does not implement any method in scope named `log2`
[06:12:23] <jason_> what do i need to use to get those?
[06:13:14] <jason_> use num::{Traits I need} ?
[06:15:08] *** Joins: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP)
[06:15:30] <jason_> that worked
[06:15:57] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[06:16:33] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[06:16:37] <mcpherrin> So I've got a bunch of corrosion on some Nickel Silver mounted to plastic.  Is there anything I can use to get rid of the oxidation without harming the plastic?
[06:18:57] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[06:19:40] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[06:22:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:24:34] *** Quits: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP) (Input/output error)
[06:27:17] <engla> jason_: there are free functions for all those methods, inside std::num. For example std::num::log2
[06:27:45] <engla> rusti: std::num::log2::<f32>(10.)
[06:27:46] -rusti- 3.32192802f32
[06:27:52] *** Joins: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr)
[06:27:57] <engla> rusti: std::num::log2(10.0f32)
[06:27:58] -rusti- 3.32192802f32
[06:28:20] *** Quits: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP) (Quit: WeeChat 0.4.1)
[06:30:43] <jason_> engla: i see, importing the traits worked though
[06:32:08] <dbaupp> mcpherrin: rustc --be-careful plastic.rs
[06:32:14] <jason_> rusti: 2f64.pow(&((11 as f64).log2().floor()+1f64))
[06:32:15] -rusti- 16f64
[06:34:29] *** Joins: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au)
[06:36:34] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[06:37:17] *** Quits: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr) (Quit: Gone)
[06:48:28] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Ping timeout)
[06:49:26] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:52:30] *** Joins: libfud (libfud@moz-83E31AE2.res-cmts.eph2.ptd.net)
[06:53:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:54:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:56:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:57:00] <libfud> hello all, I'm trying to figure out what I'm doing wrong
[06:57:56] <libfud> I guess I'm having a semantic error of some kind, as I keep getting warned about my variables never being read
[06:58:07] <libfud> http://sprunge.us/DRig
[06:58:10] <libfud> http://sprunge.us/IhXc
[06:58:48] *** flaper87|afk is now known as flaper87
[06:59:31] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[06:59:58] *** Joins: Ms2ger (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be)
[07:00:04] <libfud> for reference, this is what I did in D http://sprunge.us/BORY
[07:00:43] <libfud> well, an older version of the final one that I wrote, this one has some unused stuff left in that I forgot to remove
[07:01:09] <libfud> I'm just trying to understand why in the while loop it never goes past the if statement
[07:01:18] *** Joins: Caseus (bacon@moz-9F046088.members.linode.com)
[07:01:20] <dbaupp> libfud: you are never reading from `lasdiv`
[07:01:30] <dbaupp> only writing to it
[07:01:39] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[07:01:57] <dbaupp> similarly, you aren't mutating the `triangle` in main
[07:02:18] <libfud> oops, I messed that up, I completely deleted my last effort and tried to do it again
[07:02:53] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[07:02:55] <libfud> it kept saying that it does not need to be mutable
[07:03:38] <dbaupp> presumably because you aren't mutating it (it == lasdiv?)
[07:04:03] *** Joins: Jackneill (Jackneill@moz-B1C40F5.pool.digikabel.hu)
[07:04:48] <dbaupp> just btw, I have no idea what that code is trying to do. I can offer more help if I know it's purpose.
[07:05:02] <libfud> sorry
[07:05:25] <libfud> here, this is actually the final version of what I wrote in D (I had issues with converting to floating point)
[07:05:55] <libfud> http://sprunge.us/UAZP
[07:05:56] <dbaupp> (don't apologise :) )
[07:06:51] <libfud> yeah, I probably should have gone to sleep and tried later tomorrow, but I have a bad habit of not quitting until I can get something right (even when I know taking a break would probably help)
[07:06:55] <libfud> the purpose of this
[07:06:59] <libfud> https://projecteuler.net/problem=12
[07:07:01] <libfud> is for that
[07:07:05] <libfud> I already solved it with D
[07:07:22] <libfud> that last version does it in about .6 seconds
[07:08:08] <libfud> the version that I'm trying to port to rust, so to speak, did it in about 1 and a half, so I'd figure it should (if it worked semantically) do it in about the same time or a couple seconds more
[07:08:14] <libfud> I'm not really familiar with how rust performs
[07:08:29] <cmr> If you know what you're doing, you can achieve C speeds.
[07:08:40] <dbaupp> I've had some project euler problems run faster in Rust tahn in C
[07:08:44] <libfud> I've been poking in and out of the documentation all day
[07:08:47] <cmr> (well written C, not random generic C code)
[07:09:04] <dbaupp> (only 1 or 2% faster though)
[07:09:14] <dbaupp> cmr: my C is well written :P
[07:10:06] <libfud> btw
[07:10:11] <libfud> http://static.rust-lang.org/doc/0.8/tutorial.html#syntax-basics
[07:10:21] <libfud> is that first example supposed to be compileable?
[07:10:31] <cmr> No.
[07:10:45] <libfud> ok
[07:10:46] <cmr> `universe` doesn't exist :p
[07:10:56] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:11:04] <libfud> ah, I wasn't sure if it was supposed to be something equivalent to import this in python or not
[07:11:57] <lex> tikue: I managed to get it mostly working (I hope). I had to use futures.
[07:12:12] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[07:12:14] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[07:12:23] <libfud> I keep hearing people talk about rust, and it seems to be very highly esteemed, so I'd very much like to be able to work with it
[07:12:46] <libfud> so it's really frustrating to me that I don't understand it whatsoever
[07:12:54] <lex> tikue_: I got a parallel implementation mostly working (I hope). I used futures.
[07:13:28] <tikue_> lex, great! well done :)
[07:14:16] <lex> tikue_: I think it's doing what I want. All more cores are used. Probably not the most efficient way, though.
[07:14:22] <dbaupp> libfud: fwiw, a relatively straight port of your D: https://gist.github.com/huonw/cf812abcfeec5a01f7d6
[07:14:52] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[07:15:01] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[07:15:06] <libfud> oh, man, why didn't I try len()
[07:15:11] <dbaupp> libfud: (updated with `main`)
[07:15:13] <libfud> I tried length and size_of
[07:15:17] <libfud> yeah
[07:15:38] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:16:01] <tikue_> lex, have you measured its performance vs a linear version?
[07:16:21] <dbaupp> libfud: just btw, you don't actually need the factors vector, you can just do the factorcount thing directly without bothering with recording exactly what the factors are
[07:17:25] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[07:18:37] <cmr> I did the first four euler problems using only iterators.
[07:18:39] <cmr> https://github.com/cmr/rust-examples/tree/master/euler
[07:18:43] <cmr> Then I got bored ;P
[07:18:47] <libfud> I only did that because I couldn't figure out how to use the length of the array as a value
[07:18:52] <libfud> heh
[07:19:11] <dbaupp> cmr: *only* iterators? not even arithmetic or the `fn` keyword? :P
[07:19:20] <cmr> dbaupp: oh shush :p
[07:19:24] * dbaupp bows to cmr's magic powers
[07:19:34] <libfud> I'm using them as a way to familiarize myself with the standard libraries in D (and now rust too) and as a way to learn how to think about these kinds of problems
[07:19:48] * dbaupp uses project euler for that too
[07:20:11] <lex> tikue_: I timed it against a naive linear version. It was about 4x as fast, which makes sense since I have 4 cores. I also watched the cores spike in htop.
[07:20:53] <tikue_> lex, wow, so then the task communication didn't end up being a bottleneck. that's great
[07:21:43] <dbaupp> lex, tikue_: is this something parallelism-in-servo related?
[07:21:52] <lex> tikue_: Actually, I think it depends on what you're talking about. Using a basic port and channel setup caused a bottleneck. I had to use futures and two for loops; one for spawning and one for get().
[07:23:08] <tikue_> lex, ah I follow now. that's interesting, because futures are basically just ports and chans underneath
[07:23:12] *** Quits: jld (jld@moz-B94C75AD.xlerb.net) (Ping timeout)
[07:23:12] *** Quits: BigEndian (hurp@moz-1B6DD81E.members.linode.com) (Ping timeout)
[07:23:12] *** Quits: ldunn (username@moz-94CB0FA.cyberius.net) (Ping timeout)
[07:23:32] *** Quits: agrajag (Mibbit@moz-2861617D.dynamic.mtsallstream.net) (Ping timeout)
[07:23:32] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[07:23:32] *** Quits: cantsin (cantsin@moz-F99612CC.members.linode.com) (Ping timeout)
[07:23:32] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[07:23:32] *** Quits: balpert (balpert@moz-7E5ED302.members.linode.com) (Ping timeout)
[07:23:38] <tikue_> dbaupp, lex was doing some kind of vector mapping
[07:23:44] *** Quits: Reisen (Reisen@moz-253289F.xen.prgmr.com) (Ping timeout)
[07:23:50] *** Quits: Eridius (kevin@moz-533B0DB4.us) (Ping timeout)
[07:23:50] *** Quits: rfw (rfw@moz-7D453A5B.rfw.name) (Ping timeout)
[07:23:50] *** Quits: GregorR (Gregor@moz-D9651910.so) (Ping timeout)
[07:23:50] *** Quits: shachaf (shachaf@moz-F37E0395.members.linode.com) (Ping timeout)
[07:23:57] <tikue_> which should be embarrassingly parallel but rust doesn't exactly support that yet
[07:23:58] *** Joins: shachaf (shachaf@moz-F37E0395.members.linode.com)
[07:23:58] *** Joins: Eridius (kevin@moz-533B0DB4.us)
[07:24:00] *** Joins: GregorR (Gregor@moz-D9651910.so)
[07:24:02] <tikue_> but apparently futures worked pretty well
[07:24:04] *** Joins: balpert (balpert@moz-7E5ED302.members.linode.com)
[07:24:07] <tikue_> so that's good to know
[07:24:11] *** Joins: rfw (rfw@moz-7D453A5B.rfw.name)
[07:24:17] *** Joins: BigEndian (hurp@moz-1B6DD81E.members.linode.com)
[07:24:21] *** Joins: Reisen (Reisen@moz-253289F.xen.prgmr.com)
[07:24:23] *** Joins: cantsin (cantsin@moz-F99612CC.members.linode.com)
[07:24:26] *** Joins: ldunn (username@moz-94CB0FA.cyberius.net)
[07:24:58] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[07:25:01] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[07:25:23] <dbaupp> tikue_: oh, awesome!
[07:25:40] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[07:25:42] *** Joins: pyr (pyr@27EE64A9.6536FD24.C268CE82.IP)
[07:26:19] <libfud> btw, cmr, did you time how long that took?
[07:26:23] <lex> tikue_: It was a little bit strange. I think the issue is that if you do `for { chan.send; ... port.recv(); } it'll wait on the recv's. Maybe it would have worked if I'd been more clever and used a vector: `let v = ~[]; ... for { v.push((port,chan)); ... } for { v[i].port.recv(); ... }`. That's probably not valid syntax...
[07:27:12] <tikue_> lex, yeah, ports block, but reading from a future blocks, as well
[07:27:29] <cmr> libfud: nope
[07:27:44] <tikue_> so you'd want to not read until as late as possible or something. anyway, glad to hear you got it working
[07:27:52] *** Joins: mindcat (mindcat@4E811767.D4C5FDA0.E47F7BFE.IP)
[07:27:57] <lex> tikue_: but i never tried to spawn and read a future in the same loop. I think doing it in two loops lets all the spawns get started before any reading happens.
[07:28:03] <libfud> it's taking an awfully long time, but at least it's iterating properly 
[07:28:06] <tikue_> yeah that's definitely it
[07:28:22] <lex> tikue_: exactly, read as late as possible. Thanks for pointing me in that direction :D
[07:28:28] <tikue_> ;)
[07:28:44] *** Joins: jld (jld@moz-B94C75AD.xlerb.net)
[07:29:05] <libfud> oh
[07:29:07] <libfud> no, it wasn't
[07:29:18] *** Quits: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au) (Ping timeout)
[07:29:51] <libfud> I left a comment for you
[07:29:56] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:30:10] <libfud> 1.8 seconds
[07:30:23] <flaper87> I would really appreciate some of your comments / feedback here: https://github.com/mozilla/rust/pull/9746
[07:30:46] *** Joins: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au)
[07:30:52] *** Quits: Timeroot (Timeroot@moz-72EDBCBC.sb.sd.cox.net) (Ping timeout)
[07:31:13] <libfud> I wonder how fast a C version would be
[07:31:43] <libfud> [libfud@deskbot learning]$ time ./rstrinum   
[07:31:43] <libfud> 76576500
[07:31:44] <libfud> real    0m1.843s
[07:31:44] <libfud> user    0m1.829s
[07:31:44] <libfud> sys     0m0.012s
[07:31:45] <libfud> [libfud@deskbot learning]$ time ./trinum2    
[07:31:48] <libfud> 76576500
[07:31:50] <libfud> real    0m0.595s
[07:31:53] <libfud> user    0m0.587s
[07:31:55] <libfud> sys     0m0.007s
[07:32:04] <dbaupp> is the latter the D version?
[07:32:07] <libfud> yes
[07:32:10] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[07:32:12] <libfud> ldc2
[07:32:22] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[07:32:22] <dbaupp> were you compiling with -O for the rust?
[07:32:27] <libfud> oh, no
[07:32:36] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[07:32:39] <libfud> wow
[07:32:41] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[07:32:49] <libfud> [libfud@deskbot learning]$ time ./rstrinum
[07:32:50] <libfud> 76576500
[07:32:50] <libfud> real    0m0.524s
[07:32:50] <libfud> user    0m0.513s
[07:32:51] <libfud> sys     0m0.013s
[07:33:03] <libfud> sold
[07:33:25] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[07:34:01] <libfud> thanks for all the help
[07:34:53] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[07:34:55] <libfud> another question before I go to bed, if you guys don't mind
[07:35:08] <libfud> why can't you append more than one element to an array at a time?
[07:35:39] <dbaupp> rusti: std::iter::count(0, 1).filter(|&x| x % 3 == 0 || x % 5 == 0).take_while(|&x| x < 1000).fold(0, |x, y| x + y) // cmr: PE q1
[07:35:40] -rusti- 233168
[07:35:50] <dbaupp> libfud: you can, with .push_all or .push_all_move
[07:35:59] <libfud> ah
[07:37:16] *** Joins: threecreepio (jdp@moz-1A9F0A3C.cust.bredband2.com)
[07:38:38] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[07:38:50] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:41:23] *** Quits: diamond (Richard@moz-80556682.ks.ks.cox.net) (Connection reset by peer)
[07:41:42] *** Quits: Ms2ger (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be) (Quit: bbl)
[07:44:05] <dbaupp> rusti: std::iter::count(1u, 1).map(|n| n * (n + 1) / 2).find(|&triangle| range(1u, (triangle as f64).sqrt() as uint).filter(|&d| triangle % d == 0).flat_map(|i| Some(i).move_iter().chain(Some(triangle / i).move_iter())).len() > 5)
[07:44:06] -rusti- Some(28u)
[07:44:20] <dbaupp> libfud: in theory, that ^ solves #12 in one line :P
[07:44:35] <dbaupp> (after adjusting the 5 to a 500)
[07:44:48] <libfud> it's good that I'll forget that because i haven't bothered to look at 12 yet
[07:45:00] <dbaupp> I thought you were doing 12?
[07:45:06] <libfud> what really surprised me was the difference in time (for D) that ch
[07:45:07] <libfud> oh
[07:45:08] <dbaupp> https://projecteuler.net/problem=12, right?
[07:45:09] <libfud> no, that was 12
[07:45:11] <libfud> yeah
[07:45:16] <libfud> I thought it was 11 for a second, lol
[07:45:20] <dbaupp> heh :)
[07:45:50] <cmr> Eugh it's like 30 past stupid o'clock
[07:45:56] <cmr> I'm trying to write the state of rust ;(
[07:46:15] <libfud> I saved that snippet for examination tomorrow
[07:46:36] <libfud> what I was going to say though, I was surprised by how much of a difference changing one thing about the algorithm took
[07:47:15] <libfud> my first implementation of it in D was something like http://sprunge.us/UEjg
[07:47:35] <libfud> that one took... a very long time
[07:48:05] <libfud> I thought it'd just cut the time in half if I populated the array of factors with each divisor and the corresponding one
[07:48:37] <dbaupp> nope, it's a whole complexity change
[07:48:45] <dbaupp> <3 O(sqrt(n))
[07:48:56] *** Quits: tikue_ (tikue_star@677636C4.F3E8A984.689607DE.IP) (Ping timeout)
[07:49:02] <libfud> actually I didn't even use sqrt for my second try and that one took like 1.5 seconds
[07:49:07] <dbaupp> (fwiw, my oneliner is about 10% slower on my computer than the more sensible one)
[07:49:42] <libfud> that's actually a bit of a relief, I know I could take the time to try to make sense of it, but I really dislike code that looks cryptic
[07:49:45] *** Joins: fabiand (fabiand@moz-5E54E44A.adsl.alicedsl.de)
[07:49:53] <libfud> which is why I'm trying to improve on how I name variables
[07:50:40] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[07:50:43] <dbaupp> yeah, writing a relatively complicated program into an IRC eval-bot is never going to be intelligible though :P
[07:51:03] <libfud> lol
[07:51:16] <libfud> another channel I go to are very big fans of haskell and lisp
[07:51:39] <libfud> those are both something I'd like to take on sometime, but when I tried out LISP the first time, I don't think I was ready...
[07:52:10] <jason_> use std::cast; struct Foo { a: int } impl Foo { fn bar(&self) { unsafe { let this = cast::transmute_mut(self); this.a += 1 } } } let f = Foo{a:0}; f.bar(); f
[07:52:13] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Connection reset by peer)
[07:52:20] <jason_> do channels use a trick like that ^
[07:52:45] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[07:53:22] <libfud> what was the particular reasoning behind not using ++ and -- style operators?
[07:53:40] <libfud> that also tripped me up a little bit
[07:53:47] <cmr> libfud: they're redundant and not particularly useful.
[07:53:50] <jason_> i see some of that in the code, but there are a lot of layers. i'm wondering if that is how you can move channels into spawned tasks because they hide the fact that they're mutable
[07:54:29] <cmr> libfud: rustic code uses different idioms that make ++ and -- much uglier than they are in C
[07:55:08] <libfud> I see
[07:55:26] <dbaupp> libfud: https://gist.github.com/huonw/408fda50805ec943a824 is that one-liner made neater
[07:56:33] <libfud> lol
[07:56:56] <libfud> from wikipedia: there are infinately many triangular numbers that are also square numbers
[07:57:15] <dbaupp> :'(
[07:57:30] <dbaupp> well it only matters when the square number is the first one to have 500 factors
[07:57:40] <dbaupp> (your code has the same problem, btw)
[07:57:54] <libfud> touche
[07:58:08] *** Quits: ercxx__ (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.1)
[07:58:46] *** Joins: nibrahim (user@82983C0F.FBFEAA2F.FA4E5DC4.IP)
[07:59:43] *** Quits: pyr (pyr@27EE64A9.6536FD24.C268CE82.IP) (Quit: leaving)
[07:59:50] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[08:00:27] <cmr> I hate it when you accidentally hit a few keys and vim deletes half your text, and hitting 'u' doesn't immediately fix it.
[08:00:32] <cmr> Mini panic attack :\
[08:00:38] <libfud> ditto
[08:01:12] <libfud> I hate it when I accidentally hit caps lock instead of shift
[08:01:39] <nibrahim> What the idiomatic way to swap the values of two variables in rust? Sort of like x,y = y,x
[08:01:53] <cmr> let (x, y) = (y, x);
[08:01:55] *** flaper87 is now known as flaper87|afk
[08:02:31] <libfud> https://projecteuler.net/problem=11
[08:02:32] <libfud> in that one
[08:02:35] <cmr> If a rebinding isn't too burdensome, in that case.
[08:02:48] <libfud> I actually got the right answer the first time the wrong way
[08:03:21] <libfud> when I populated my array, I forget quite what I did, but I managed to offset it so that it was put in in a diagonal way
[08:03:24] <libfud> if that makes sense at all
[08:03:42] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:03:51] <libfud> so I got the answer from one of the vertical columns... which was actually getting it from a diagonal column
[08:04:11] <dbaupp> bstrie: the line spacing on the code bocks in /r/rust looks really big for me
[08:07:35] <dbaupp> nibrahim: std::util::swap(&mut x, &mut y) also works
[08:07:50] * dbaupp wonders if we could have a swap!(x, y) that does the &mut-ing internally
[08:08:15] * dbaupp doesn't think that swapping is common enough to warrant a whole new macro though
[08:08:16] *** Quits: KindOne (KindOne@moz-60C9F0C2.dynamic.ip.windstream.net) (Ping timeout)
[08:11:22] <jason_> how do i explicitly reference a generic type? like Foo<int>::new()
[08:11:45] <jason_> its going to be the one thing i didn't try...
[08:12:00] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[08:12:15] <dbaupp> rusti: fn foo<T>() {} foo::<int>()
[08:12:16] -rusti- ()
[08:12:31] <jason_> Foo::<int>::new()
[08:13:00] <dbaupp> rusti: struct Foo<T>; impl<T> Foo<T> { fn new() -> Foo<T> { Foo } } Foo::<int>::new()
[08:13:01] -rusti- main::Foo<int>
[08:13:35] <jason_> just imagine if new was generic too
[08:13:44] <jason_> Foo::<int>::new::<int>()
[08:13:48] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[08:14:06] <jason_> ::)
[08:14:54] *** Joins: KindOne (KindOne@moz-60C9F0C2.dynamic.ip.windstream.net)
[08:15:25] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:15:45] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:16:21] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:16:48] *** Quits: ztomo (ztomo@moz-596F7BA2.lns11.woo.bigpond.net.au) (Quit: )
[08:17:02] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[08:18:01] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[08:18:49] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[08:19:20] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[08:19:34] <tikue> beautiful
[08:25:46] *** flaper87|afk is now known as flaper87
[08:28:51] *** Joins: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de)
[08:30:55] *** Quits: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:31:02] <nibrahim> cmr: That works but I'm curious what you mean by rebinding being "burdensome".
[08:31:30] <cmr> nibrahim: for example, if you want to reassign the outer values and not just create variables local to a scope
[08:31:33] <cmr> (for example, in a loop)
[08:32:02] <nibrahim> Ah.
[08:32:22] <nibrahim> I should perhaps read through the whole tutorial before working on the Euler problems. 
[08:32:41] <cmr> Meh, trying to work through examples is a good way to figure out what you need to look for.
[08:33:21] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:34:06] <nibrahim> That was my thought.
[08:34:18] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:34:24] <nibrahim> Oh. There's a rust-gamedev channel too? How nice.
[08:36:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:36:44] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[08:36:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:38:01] *** Joins: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de)
[08:38:37] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:39:47] *** Quits: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:40:40] *** Quits: maik (maik@moz-A5D20E18.dip0.t-ipconnect.de) (Ping timeout)
[08:42:45] *** Joins: Valentin (Valentin@5020774.83764248.55CD930E.IP)
[08:45:24] *** Joins: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de)
[08:46:52] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:47:22] *** Quits: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:48:43] *** Joins: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de)
[08:50:29] *** Quits: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:51:22] *** Joins: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de)
[08:55:34] *** Quits: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:58:01] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[09:05:56] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:06:27] *** Joins: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:06:27] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Connection reset by peer)
[09:08:50] *** Joins: Ms2ger (Ms2ger@moz-93E9C908.ugent.be)
[09:09:28] *** Joins: Ferreus (ferreus@moz-52FCFD23.pools.arcor-ip.net)
[09:10:08] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[09:15:48] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[09:16:54] *** kimundi is now known as zz_kimundi
[09:18:07] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[09:18:18] *** Quits: Valentin (Valentin@5020774.83764248.55CD930E.IP) (Ping timeout)
[09:18:31] <Ms2ger> What is "the massive privacy change"?
[09:21:23] <dbaupp> Ms2ger: https://github.com/mozilla/rust/pull/9735
[09:21:50] <dbaupp> it implements the rules in https://github.com/mozilla/rust/issues/8215#issuecomment-25307731
[09:22:07] <dbaupp> i.e. (1) You can use anything pub from the top to the desired item. (2) You can use any priv item of yourself and your ancestors.
[09:22:15] *** zz_kimundi is now known as kimundi
[09:22:54] <dbaupp> I assume the first one means "you can use anything where every component of the module-resolution path to that thing is `pub`"
[09:22:54] <Ms2ger> dbaupp, ah, thanks
[09:27:43] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[09:28:29] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:28:39] *** Joins: nkoep (nik@moz-D6274D8D.pool.mediaways.net)
[09:30:44] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[09:31:12] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[09:33:34] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[09:33:58] *** Quits: joone_ (joone@moz-C50DC051.jf.intel.com) (Ping timeout)
[09:34:47] *** Joins: joone_ (joone@moz-C50DC051.jf.intel.com)
[09:35:12] *** Joins: skade (skade@moz-78F65BF5.dip0.t-ipconnect.de)
[09:35:22] <pepijndevos> Still no library named CORTEN in rust? C'mon, this can't go on like this. I'd build it myself, but it needs to be something big.
[09:37:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:37:23] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:38:34] *** Joins: Valentin (Valentin@5020774.83764248.55CD930E.IP)
[09:41:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:42:06] *** Joins: drrb (drrb@moz-3D9E8B98.lnse4.cht.bigpond.net.au)
[09:52:15] *** Quits: Valentin (Valentin@5020774.83764248.55CD930E.IP) (Ping timeout)
[09:54:43] *** Quits: nkoep (nik@moz-D6274D8D.pool.mediaways.net) (Ping timeout)
[09:56:53] <dbaupp> bstrie: thank you for your sane moderation of /r/rust :)
[10:00:17] <bstrie> I try
[10:00:27] <bstrie> I'm still disheartened at how many downvotes the sticky has
[10:01:06] <bstrie> a bit depressing
[10:01:15] <bstrie> but I always knew it would eventually come to this
[10:01:16] <dbaupp> yeah, that's really upsetting :(
[10:01:41] <bstrie> it could be worse, on the five-hour drive home I kept imagining what I'd do if it had more downvotes than upvotes :P
[10:02:01] <JakeDust> I just upvoted the sticky to help you :)
[10:02:01] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[10:02:05] <bstrie> huzzah
[10:02:16] <bstrie> but yeah, I always knew that eventually I'd have to take a stand
[10:02:22] <bstrie> when the community reached a certain point
[10:02:31] <dbaupp> at least it's clear that the vocal parts of the community (and especially those employed by moz) will back you up :)
[10:02:47] <bstrie> the goal before then was to build up so much inertia that the inevitable disgruntled folks wouldn't be able to successfully fork the community
[10:02:54] <JakeDust> I think it's better to have a good moderation than the free-for-all that /r/programming is
[10:03:07] <Ms2ger> +1
[10:03:18] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Quit: WeeChat 0.4.1)
[10:03:21] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[10:03:39] <dbaupp> it's probably help a *lot* by having two orders of magnitude fewer subscribers
[10:03:51] <dbaupp> *helped
[10:04:02] *** Joins: onix (Mibbit@moz-4058A5B9.ge-0-2-0-712.arcnqu2.dk.customer.tdc.net)
[10:04:15] <dbaupp> (not saying this excuses a lack of moderation though)
[10:04:50] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:05:52] <bstrie> so far it's never needed much moderation
[10:06:11] <bstrie> the goal with this conduct post is to help the community self-select for people who won't require much moderation
[10:06:46] <bstrie> I don't mind having two orders of magnitude more people, as long as they're all respectful :P
[10:07:00] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:07:22] * dbaupp hopes that is possible
[10:08:58] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Client exited)
[10:09:01] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:09:25] <JakeDust> /r/Christianity has about 70k subscribers, an active moderation team and tends to be peaceful and respectful
[10:09:42] <JakeDust> (but it has tons of forks)
[10:09:46] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:09:58] *** Joins: nkoep (nik@moz-5F33FC16.vpn.rwth-aachen.de)
[10:10:37] <hansjorg> bstrie: the number of downvotes displayed is inaccurate. Reddit does vote some kind of vote fuzzing
[10:11:13] <bstrie> I know about fuzzing, but it still means there's some belligerence over the idea of having a code of conduct
[10:12:00] *** Quits: drrb (drrb@moz-3D9E8B98.lnse4.cht.bigpond.net.au) (Quit: drrb)
[10:12:01] *** Joins: Valentin (Valentin@185C7798.83764248.55CD930E.IP)
[10:12:06] <bstrie> LOLFASCIST TAKEING AWAY OUR FREDOM OF SPEECH FIRST AMENDMENT
[10:12:07] <bstrie> etc
[10:12:55] <bstrie> anyway, I expected that by the time I got out of the car that the subscriber count would have fallen by 400
[10:13:00] <bstrie> and it's actually gone up by one!
[10:13:02] <bstrie> so that's nice
[10:13:13] <bstrie> to be honest, I'm not sure if it's ever possible for that count to go down
[10:13:19] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[10:13:26] <bstrie> reddit says something about not tracking unsubscriptions
[10:13:27] <bstrie> anyway
[10:14:03] <skade> CoCs are a weird thing. I run a conference and thats the most discussed part :(
[10:14:15] <skade> not even whats in it, but the mere presence
[10:14:25] <bstrie> sounds like we need a conference to discuss codes of conduct
[10:14:33] <bstrie> CoCcon
[10:14:50] <bjz> o_o
[10:15:16] <bstrie> why am i awkawe have work in two hours sf s
[10:15:24] <bstrie> snooze
[10:15:27] <skade> i wanted to run a community organizers con once :D
[10:18:49] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[10:21:19] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[10:21:41] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[10:25:52] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[10:27:04] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[10:28:02] *** Quits: mindcat (mindcat@4E811767.D4C5FDA0.E47F7BFE.IP) (Quit: Lost terminal)
[10:28:06] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[10:30:30] *** flaper87 is now known as flaper87|afk
[10:32:29] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:39:28] *** Quits: Ms2ger (Ms2ger@moz-93E9C908.ugent.be) (Quit: bbl)
[10:40:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:41:17] *** Quits: abacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net) (Ping timeout)
[10:43:44] *** Joins: otremblay (otremblay@moz-2FE82A80.soundnetworking.com)
[10:44:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:45:12] *** Joins: [a]bacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net)
[10:45:13] *** [a]bacus is now known as abacus
[10:51:56] *** Parts: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) ()
[10:52:42] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[10:54:03] *** Quits: otremblay (otremblay@moz-2FE82A80.soundnetworking.com) (Quit: leaving)
[10:58:15] *** kimundi is now known as zz_kimundi
[11:00:47] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[11:00:50] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:05:04] *** Joins: canhtak (jeremy@moz-13BC3BC0.wl.t.ulaval.ca)
[11:09:50] *** Joins: maik (maik@moz-A5D20E18.dip0.t-ipconnect.de)
[11:12:14] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[11:14:05] <pepijndevos> ahaha CoCconf! But uhm, sad story, good reaction.
[11:14:13] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[11:14:26] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[11:14:49] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:17:12] <JakeDust> when did the syntax for implementing a trait change (from `:` to `for`)?
[11:19:30] <bjz> JakeDust: a while ago. maybe 0.5? not sure
[11:19:52] <bjz> it all blurs together
[11:20:01] <bjz> :P
[11:20:54] <JakeDust> ok, I just have to keep that in mind while reading older code and blog posts :)
[11:21:49] <dbaupp> https://github.com/mozilla/rust/wiki/Doc-detailed-release-notes#trait-impls-use-for it changed in the 0.5 -> 0.6 cycle
[11:23:02] *** Joins: mib_pky8k3 (Mibbit@moz-C0156BC5.tpgi.com.au)
[11:23:13] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[11:23:33] <JakeDust> thanks!
[11:24:10] *** flaper87|afk is now known as flaper87
[11:24:12] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[11:24:28] *** Quits: mib_pky8k3 (Mibbit@moz-C0156BC5.tpgi.com.au) (Quit: http://www.mibbit.com ajax IRC Client)
[11:27:18] *** Joins: lllllllllllllllllllllllllllll (llllllllll@moz-D86C4AB4.hsd1.az.comcast.net)
[11:32:27] * maik gives up on sublimetext
[11:34:34] *** Quits: lllllllllllllllllllllllllllll (llllllllll@moz-D86C4AB4.hsd1.az.comcast.net) (Quit: irc2go)
[11:37:49] *** Joins: bholley (anonymous@37A83DB4.49EECAFD.30BE9F17.IP)
[11:38:04] <bholley> what does Some() do?
[11:38:12] * bholley can't find it in the docs
[11:38:41] <cyndis> http://static.rust-lang.org/doc/master/std/option/enum.Option.html
[11:39:30] <bholley> cyndis: ah, I see. Thanks
[11:39:45] <cyndis> no problem :)
[11:39:51] <bholley> cyndis: also - what does * do on the LHS of a formal parameter type?
[11:40:16] <cyndis> like x: *int?
[11:40:20] <bholley> cyndis: yes
[11:40:26] <cyndis> means it's a raw pointer
[11:40:37] <bholley> raw in the unmanaged sense?
[11:40:38] <cyndis> can only be deferenced in unsafe { } code, but there's no safety checking
[11:41:00] <bholley> cyndis: I see. So it can be passed around in safe code, but only dereferenced in unsafe code?
[11:41:05] <cyndis> it's binary-equivalent to & and ~
[11:41:10] <cyndis> yep
[11:41:23] <bholley> cyndis: got it, thanks
[11:41:35] * bholley takes another look at the servo DOM bindings
[11:41:39] <cyndis> :)
[11:42:28] *** Joins: jdm (jdm@514D186.F3BBB17D.144F44FA.IP)
[11:42:28] *** ChanServ sets mode: +o jdm
[11:43:37] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:47:10] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:52:21] *** jdm is now known as jdm|f00d
[11:55:28] *** Quits: maik (maik@moz-A5D20E18.dip0.t-ipconnect.de) (Ping timeout)
[11:56:04] <JakeDust>             let mut mpfr = uninit();
[11:56:04] <JakeDust>             mpfr_init2(&mut mpfr, prec);
[11:56:04] <JakeDust> is this correct/idiomatic?
[11:56:45] <JakeDust> I'm basically copying what strcat has done in rust-gmp, but I have to confess that I do not understand uninit()
[11:57:43] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[11:58:16] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[11:58:31] <JakeDust> does uninit() just initialize a void pointer?
[12:02:47] <JakeDust> in C I would just use a pointer to mpfr_struct, since the library itself manages all the allocations
[12:03:19] <cyndis> uninit means to just leave the data uninitialized
[12:03:55] <cyndis> like when in C you do struct X x; and x may contain anything
[12:04:13] <JakeDust> ok, I see
[12:04:40] <JakeDust> so it's basically used here to avoid dealing with pointers directly?
[12:05:17] <cyndis> I guess in C that code would be "struct Something mpfr; mpfr_init2(&mpfr, prec);"
[12:05:54] <cyndis> yeah, it's used so that you can allocate on stack and not have to specify the initial value
[12:06:26] <JakeDust> no, usually in C you just do "mpfr_t mpfr; mpfr_init2(mpfr, prec);" (mpfr_t is just a typedef to a pointer to the struct), and you just pass that pointer around
[12:06:42] <JakeDust> you never touch the struct directly
[12:08:02] *** Quits: bholley (anonymous@37A83DB4.49EECAFD.30BE9F17.IP) (Quit: bholley)
[12:09:06] <cyndis> how does the *mpfr_t struct get allocated there?
[12:09:33] <JakeDust> mpfr_init2 does the allocation
[12:09:52] <JakeDust> mpfr manages its own memory
[12:09:59] <JakeDust> (although you can define custom allocators)
[12:10:00] <cyndis> but if you do mpfr_init2(mpfr, prec); surely it cannot change where the pointer is pointing?
[12:11:11] *** Joins: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de)
[12:11:14] <cyndis> i mean, after mpfr_t mpfr; the mpfr pointer can be pointing anywhere
[12:12:28] <JakeDust> it's a bit of a weird thing.
[12:12:29] <JakeDust> typedef __mpfr_struct mpfr_t[1];
[12:12:56] *** Quits: nibrahim (user@82983C0F.FBFEAA2F.FA4E5DC4.IP) (Ping timeout)
[12:13:32] <cyndis> hmm
[12:21:25] <cyndis> yeah, doing mpfr_t mpfr is equivalent to __mpfr_struct mpfr[1]; so it does get allocated on the stack
[12:21:37] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Client exited)
[12:22:14] <cyndis> so yes, your code should be correct
[12:23:34] <cyndis> i can't say i appreciate the design decision of the mpfr guys here from a clarity standpoint
[12:24:31] <JakeDust> it's the kind of thing you get used to after some time, especially since it's very common in arbitrary precision/number theory libraries
[12:25:45] <cyndis> yep. just a bit strange just looking at the code since you think that mpfr_t x; is a struct allocation on stack but then for some reason you are copying that stuff into functions
[12:26:26] <cyndis> when you actually are not
[12:26:40] <JakeDust> another question: how do I call a C varargs function?
[12:26:48] <JakeDust> in this case, int mpfr_snprintf (char *buf, size_t n, const char *template, ...)
[12:27:19] <cyndis> make a prototype with the arguments that you want to have there :)
[12:27:34] <cyndis> no varargs support per se
[12:28:31] *** Joins: Ms2ger (Ms2ger@A5F4E63.6A0C9EA7.F15B0BB3.IP)
[12:29:30] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[12:29:38] *** Joins: jix (jix@moz-D969BFFC.de)
[12:30:07] *** jdm|f00d is now known as jdm
[12:31:42] *** zz_kimundi is now known as kimundi
[12:31:56] *** flaper87 is now known as flaper87|afk
[12:32:13] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:34:52] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[12:38:02] <kimundi> Afaik the only correct way to call vararg functions is to write a non-var C wrapper
[12:40:45] *** kimundi is now known as zz_kimundi
[12:41:23] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[12:45:15] <JakeDust> what's the easiest way to convert a string to a C string?
[12:45:47] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:45:58] *** Quits: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net) (Ping timeout)
[12:46:20] <Ms2ger> with_c_str, or something like that
[12:46:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:47:05] <JakeDust> it's just a const c_char for the template, this seems like a bit of a overkill
[12:48:42] <cyndis> i suppose you could use bytes!("stuff\x00")
[12:49:04] <cyndis> if it's static
[12:49:21] <Ms2ger> That sounds pretty fishy :)
[12:49:54] <JakeDust> mpfr.rs:56:74: 56:93 error: mismatched types: expected `*i8` but found `&[u8]` (expected *-ptr but found vector)
[12:50:18] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:50:22] <cyndis> vec::raw::to_ptr()
[12:50:55] <Ms2ger> Then you've still got unsigned char*
[12:51:05] <cyndis> ah, that's true
[12:51:10] <JakeDust> and then a "as *c_char" solves it
[12:52:03] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[12:53:12] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[12:54:13] <JakeDust> oh my, it works!
[12:54:26] <JakeDust> it's possibly the ugliest line of code I've ever written in my life, but it works
[12:55:07] <Ms2ger> Well, if that's the ugliest, you're a lucky man :)
[12:55:15] <JakeDust> len = mpfr_snprintf(pdst as *c_char, (len + 1) as size_t, vec::raw::to_ptr(bytes!("%.Re\x00")) as *c_char, &self.mpfr) as uint;
[12:55:45] <Ms2ger> How do people like...
[12:55:47] <Ms2ger> in_doc = unsafe { node.raw_object() as uint == root.raw_object() as uint };
[12:56:52] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:00:04] *** Joins: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP)
[13:03:34] *** Joins: tad_ (Tom@614766AF.F54D1E7E.A2798B07.IP)
[13:03:43] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[13:05:57] *** Quits: tad_ (Tom@614766AF.F54D1E7E.A2798B07.IP) (Connection reset by peer)
[13:07:11] *** zz_kimundi is now known as kimundi
[13:07:56] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[13:08:34] *** Joins: bheylin (brianheyli@moz-3D24C757.static.chello.nl)
[13:09:11] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:09:23] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[13:11:32] *** Joins: Timeroot (Timeroot@moz-72EDBCBC.sb.sd.cox.net)
[13:11:49] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[13:12:18] <JakeDust> what is the NaN literal?
[13:13:04] <strcat> there isn't one
[13:13:09] <strcat> there's probably a static in the float modules
[13:13:59] <JakeDust> no Inf literal too?
[13:14:16] <strcat> probably not
[13:14:46] <JakeDust> ok, found them in std::float, although NaN is being printed as -NaN
[13:15:46] *** flaper87|afk is now known as flaper87
[13:16:38] <JakeDust> strcat: https://gist.github.com/andrioni/6867812
[13:16:57] <JakeDust> I'm wrapping MPFR as an exercise to learn Rust, and I'm using your rust-gmp as my guide :)
[13:17:53] <strcat> looks good
[13:18:07] <strcat> I think our float parsing/formatting code is just broken
[13:18:18] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[13:18:26] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:18:36] *** Joins: Palmik (palmik@moz-11EA685D.pks.muni.cz)
[13:20:31] <JakeDust> have I missed isnan/isinf functions?
[13:21:32] *** Quits: Timeroot (Timeroot@moz-72EDBCBC.sb.sd.cox.net) (Ping timeout)
[13:21:32] <pnkfelix> JakeDust: Float trait, is_nan(), is_infinite(), etc methods ?
[13:21:42] <JakeDust> pnkfelix: thanks!
[13:25:05] *** Joins: Valentin_ (Valentin@185C7798.83764248.55CD930E.IP)
[13:26:14] *** Quits: Valentin_ (Valentin@185C7798.83764248.55CD930E.IP) (Quit: Leaving)
[13:26:17] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[13:26:36] *** Joins: Valentin_ (Valentin@185C7798.83764248.55CD930E.IP)
[13:27:28] *** Quits: Valentin_ (Valentin@185C7798.83764248.55CD930E.IP) (Quit: Leaving)
[13:28:51] *** Joins: Adhaa (Adhaa@185C7798.83764248.55CD930E.IP)
[13:33:22] *** Joins: Timeroot (Timeroot@moz-72EDBCBC.sb.sd.cox.net)
[13:37:23] *** Joins: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com)
[13:38:29] *** Quits: Timeroot (Timeroot@moz-72EDBCBC.sb.sd.cox.net) (Ping timeout)
[13:42:40] *** Joins: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro)
[13:44:37] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:49:11] *** Quits: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de) (Ping timeout)
[13:49:18] *** kimundi is now known as zz_kimundi
[13:50:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:52:10] *** zz_kimundi is now known as kimundi
[13:53:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:54:28] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[13:54:57] *** Quits: skade (skade@moz-78F65BF5.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:56:03] *** Joins: dschatzberg (dschatzber@moz-A8B1497.bu.edu)
[13:56:19] *** Joins: Timeroot (Timeroot@moz-A3814C08.sd.sd.cox.net)
[13:56:44] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[13:56:50] *** Quits: lazyden (lazyden@47A36AC9.35CBBBD0.F246D1AF.IP) (Quit: lazyden)
[13:57:27] *** Joins: slackito (slackito@moz-7779E4A6.dyn.user.ono.com)
[13:57:33] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[13:58:13] *** Quits: bheylin (brianheyli@moz-3D24C757.static.chello.nl) (Quit: bheylin)
[13:59:19] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[13:59:59] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[14:01:24] *** Quits: Timeroot (Timeroot@moz-A3814C08.sd.sd.cox.net) (Quit: Leaving)
[14:05:15] *** flaper87 is now known as flaper87|afk
[14:05:19] *** Quits: igas (igas@DAB32F37.84602E91.3126E16B.IP) (Quit: )
[14:07:19] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:08:43] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[14:10:04] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[14:13:49] *** Joins: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de)
[14:16:03] <avsej> I'm trying to use newest feature FromPrimitive, but probably I'm using it wrong, because it cause compilation error: https://gist.github.com/avsej/641fe7e411b4f4952d97
[14:17:27] <dandy> from_u8::<Status>(s); maybe?
[14:19:28] *** Joins: sergi (textual@moz-8ECE79D1.lightspeed.sntcca.sbcglobal.net)
[14:19:32] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[14:19:53] <avsej> dandy, works. I thought from_u8 here is the function
[14:20:07] <avsej> http://static.rust-lang.org/doc/master/std/num/fn.from_u8.html
[14:20:20] <strcat> jack: https://github.com/mozilla/rust/wiki/Mixed-language-link-time-optimization
[14:20:20] <dandy> it is
[14:20:45] <dandy> but when you invoke the fn you need to set the type parameter with ::<> and not <> (as I and others expect)
[14:21:34] <avsej> ah, so it is just notation of passing type to get specialized function, thanks
[14:22:07] <strcat> dandy: or have it be inferred from the later usage
[14:22:13] <dandy> yeah that too
[14:22:34] <dandy> let t : Option<Status> = from_u8(s); ?
[14:22:52] <dandy> less pretty though
[14:23:20] <strcat> or later when you're getting the Status from the Option
[14:23:24] <strcat> it already knows it's an Option
[14:23:51] <dandy> show an example please?
[14:24:57] <saati> is there a way to use a refutable match in a let (or just die if it doesn't match)
[14:25:46] <strcat> dandy: add the type hint for Status when you get the value out of the Option instead
[14:25:48] <strcat> I don
[14:25:54] <strcat> I don't know the specific function you're talking about
[14:26:22] <kimundi> saati: no
[14:27:20] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[14:27:45] <dandy> let t = from_u8(s); let u : Status = t.unwrap;  ?
[14:28:06] <dandy> ()                                                                                                       ^
[14:28:11] <strcat> yes
[14:28:18] <dandy> neato
[14:28:46] *** Joins: jordyd (jordyd@moz-89934CBB.seg48.ucf.edu)
[14:28:50] <saati> why is a possibly failing unwrap considered a better solution
[14:29:07] <kimundi> let o = from_u8(); o.and_then(|s: Status| {...}); // would probably work
[14:29:08] <dandy> it is?
[14:29:23] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:29:35] <strcat> saati: than what? unwrap is just one of the many methods on Option (match is the language's way of doing it)
[14:29:42] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[14:29:59] <dandy> saati, because maybe it wasn't an Option<T> ? we are talking more about type inference in general
[14:30:14] <saati> strcat: than enabling refutable patterns in lets
[14:30:25] <strcat> saati: it was a different thread of conversation about type hints
[14:30:50] <strcat> failure isn't a language feature, you can use rust the language in a place without unwinding and the whole language works
[14:31:05] <strcat> concurrency/failure are done entirely in the standard library and with macros
[14:31:54] <saati> ic
[14:31:55] <dandy> won't unwrap() fail if there is not match?
[14:32:14] <strcat> dandy: unwrap is a library method
[14:32:20] <dandy> so?
[14:32:27] <dandy> its there
[14:32:50] <strcat> Option isn't part of the language, it's part of the optional standard library
[14:33:16] <strcat> it's important to keep runtime features out of the language proper if rust is going to be usable as a systems language
[14:36:39] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[14:37:00] *** Joins: fabiok (fabiok@EC63295F.F43936B3.3E66DFEE.IP)
[14:39:45] *** Quits: fran (fran@moz-E8D9D6F0.telecom.net.ar) (Ping timeout)
[14:40:15] *** Joins: fran (fran@moz-E90E413A.telecom.net.ar)
[14:40:25] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[14:42:00] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[14:43:03] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[14:43:58] *** Quits: fabiok (fabiok@EC63295F.F43936B3.3E66DFEE.IP) (Quit: Saindo)
[14:44:21] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[14:45:33] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:46:10] <saati> is there any tool that can help with getting function definitions/constants from c .h files?
[14:47:04] <strcat> bindgen
[14:47:17] <strcat> but you'll still end up needing to write safe wrappers around 90% of it
[14:47:42] *** Parts: threecreepio (jdp@moz-1A9F0A3C.cust.bredband2.com) ()
[14:47:47] <saati> crabtw/rust-bindgen this?
[14:48:45] *** Joins: ashlieblackwell (Mibbit@E511E948.2FF75949.4CD45556.IP)
[14:49:04] <ashlieblackwell> hi
[14:49:25] <ashlieblackwell> anyone on
[14:49:29] <strcat> \o
[14:50:02] <ashlieblackwell> hi 
[14:50:24] <ashlieblackwell> I am ashlie
[14:51:22] <ashlieblackwell> who are you
[14:51:49] <dandy> we are rust
[14:53:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:53:04] <saati> totally different question: what happens when i call an extern function that blocks in the kernel? is the rt doing something smart about it?
[14:53:44] <strcat> it blocks that thread
[14:54:08] <saati> does it start a new thread to make other things go on?
[14:54:20] <saati> or can i block the whole executable with a few calls?
[14:54:23] <strcat> tasks can be scheduled onto other threads, although there are issues with I/O locking them to a thread
[14:54:27] <strcat> saati: you won't block the whole thing
[14:54:32] <strcat> rust isn't single threaded
[14:55:15] <saati> yeah but if i do blocking calls from different tasks at the same time
[14:55:34] <strcat> a blocking call will block a thread
[14:55:43] <strcat> tasks are multiplexed onto threads
[14:55:43] *** Joins: ianj (ianj@moz-7140CF01.ccs.neu.edu)
[14:55:47] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[14:55:49] <saati> how many threads i got?
[14:56:11] *** jorendorff_away is now known as jorendorff
[14:56:27] <strcat> as many as you ask the runtime for with spawn_sched
[14:56:52] <strcat> not sure if it starts off with more than one
[14:57:16] <ashlieblackwell> cool
[14:57:22] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:57:43] *** Quits: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro) (Ping timeout)
[14:57:44] *** Quits: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[14:58:06] <ianj> lkuper: read your post and decided to join to enforce more social justice.
[14:58:35] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[14:59:41] *** Quits: ianj (ianj@moz-7140CF01.ccs.neu.edu) (Quit: Reconnecting)
[14:59:42] *** Joins: ianj (ianj@moz-7140CF01.ccs.neu.edu)
[15:00:21] <dandy> I can't read that without thinking about Minsc and Boo
[15:00:42] <ashlieblackwell> hi my name is ashlie what are your real names
[15:01:06] *** Joins: mib_whn521 (Mibbit@C20C6C10.34914091.29D637EB.IP)
[15:01:11] <saati> strcat: so when i just spawn the number of threads remain the same?
[15:02:14] <saati> yeah ok the documentation included that tidbit, thanks
[15:02:58] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[15:04:40] *** Quits: ashlieblackwell (Mibbit@E511E948.2FF75949.4CD45556.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:05:09] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[15:05:16] *** Quits: sergi (textual@moz-8ECE79D1.lightspeed.sntcca.sbcglobal.net) (Quit: Computer has gone to sleep.)
[15:06:47] *** Joins: TMaster (quassel@moz-D7771805.upc-h.chello.nl)
[15:07:25] *** Quits: Ms2ger (Ms2ger@A5F4E63.6A0C9EA7.F15B0BB3.IP) (Ping timeout)
[15:08:32] *** Joins: sergi (textual@moz-8ECE79D1.lightspeed.sntcca.sbcglobal.net)
[15:08:52] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[15:09:31] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[15:09:49] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[15:10:39] *** Quits: sergi (textual@moz-8ECE79D1.lightspeed.sntcca.sbcglobal.net) (Quit: Textual IRC Client: www.textualapp.com)
[15:11:20] *** Quits: mib_whn521 (Mibbit@C20C6C10.34914091.29D637EB.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:11:21] *** Quits: ianj (ianj@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[15:11:27] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[15:11:30] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[15:11:42] <avsej> another question about type inference: https://gist.github.com/avsej/54c9e1fd47a1333f610f I've declared fn to return enum, but it cannot get when I'm returning one of sub-types of the enum
[15:12:58] *** Joins: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net)
[15:13:49] <saati> avsej: i think you have an enum with two possible values Request and Response, but they are independent of your struct Request and struct Response
[15:14:17] <saati> Request(Request), Response(Response) will fix it i think
[15:15:02] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[15:15:06] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[15:15:22] <avsej> so they are exist in different name spaces?
[15:15:47] <dandy> yeah
[15:15:54] <dandy> there a reyours and then std::result::
[15:16:07] <dandy> are yours*
[15:16:24] *** jorendorff is now known as jorendorff_away
[15:17:25] *** Joins: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro)
[15:18:06] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[15:19:18] <avsej> the working code looks like this: https://gist.github.com/avsej/46a26463ddf58c9e8f18#file-match-rs-L17-L18 but I thought I can just create enum, and say those two types might go in there
[15:19:30] <avsej> and types itself defined somewhere else
[15:19:38] *** flaper87|afk is now known as flaper87
[15:19:49] <avsej> probably I should define my structs inside the enum? 
[15:19:58] <saati> i'm not sure about the proper terminology but those are the enum variant's names not types
[15:20:43] *** jorendorff_away is now known as jorendorff
[15:21:25] <dandy> Err returns std::result::Result ... http://static.rust-lang.org/doc/master/std/result/enum.Result.html#variant.Err 
[15:21:43] <dandy> Oh! thats what you are using, sorry I misread your code
[15:21:58] <dandy> too many Rs
[15:25:17] <lkuper_> ianj: welcome! maybe you'll get interested in rust as a side effect! we love side effects around here. :D
[15:25:56] *** Joins: Ms2ger (Ms2ger@A5F4E63.6A0C9EA7.F15B0BB3.IP)
[15:26:02] <dandy> reducing side effects is one of the things I LOVE about rust actually, simplicity for my hoomin brain
[15:27:05] <avsej> i though when I'm putting two types into enum, I'm making kind of polymorphic type, which can represent it. simplified example without R's :) https://gist.github.com/2ff2a4791f7221f0f644
[15:27:19] <Sorella> lkuper_, o-oh the horror!
[15:27:30] <avsej> dandy, like union in C
[15:27:38] <dandy> no thank you
[15:28:36] <dandy> although you can do some unsafe stuff to convert them
[15:29:18] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[15:30:50] <avsej> "enum struct variants are experimental and possibly buggy"
[15:30:56] <avsej> :)
[15:31:38] <dandy> I guess it kind of is polymorphic but its not like I can come around and add a new struct D to your enum
[15:31:59] <dandy> I guess I *could* using unsafe code... but I won't
[15:32:09] <avsej> yeah, I see
[15:32:22] <dandy> if you accept or return a trait I can impl that trait though
[15:33:53] <avsej> my goal was to allow three return types from the parser (Request, Response and Error). the latter one done with Result from stdlib, but for first two I was going to define Packet enum and just use matching in caller
[15:34:29] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:34:30] <avsej> enum Packet {Request(Request), Response(Response)} fits better, but a bit too verbose
[15:34:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:35:27] *** Joins: nrc (nrc@moz-3576D163.cable.virginmedia.com)
[15:35:32] <dandy> I wonder if the RIght Way to do that is to return an std::result::Result<C,int>
[15:36:10] <avsej> in original "int" is also enum of possible error types
[15:36:55] <ianj> lkuper_: I'm okay with monotonic side effects, or non-monotonic yet temporally contracted side-effects.
[15:37:05] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[15:37:16] <dandy> you could also fail on _ with "don't you ever give me that value again" and just return a C?
[15:37:34] <lkuper_> ianj: sounds like LVars.
[15:37:45] <avsej> yes, but how can I pack two types in C?
[15:38:07] <dandy> I never did that, I assumed your ABC worked :)
[15:39:23] <avsej> dandy, current master doesn't allow structure as variants by default https://gist.github.com/avsej/2ff2a4791f7221f0f644#file-output
[15:39:54] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[15:40:01] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:40:42] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[15:42:48] <dandy> did you try #[feature(struct_variant)] on your crate?
[15:43:10] <dandy> I wouldn't worry about buggy stuff as I consider it all buggy right now
[15:43:12] <avsej> i've tried to add this macro on the top of the file, but it doesn't work
[15:43:28] <avsej> i'm using rust run
[15:43:54] <dandy> I have been told that rust is not to be trusted (but use it if it works)
[15:43:55] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[15:44:02] <dandy> "rust" the executable
[15:44:54] <dandy> I wonder if rustc match.rs would do different for you? although thats probably what rust run does
[15:45:15] <pnkfelix> dandy: really?  I know that `rusti` the repl has problems, but did not know about any big issues with `rust` ?
[15:45:35] <dandy> ? what I was told
[15:45:49] <pnkfelix> dandy: (apart from the problems that `rust` inherits from the libraries it calls out to, e.g. `rust sketch …` is the same as `rusti …`
[15:45:50] <pnkfelix> )
[15:48:24] <avsej> (i've never seen rusti working) :)
[15:48:45] *** Joins: pepper_chico (pepper_chi@moz-29CFA00C.dsl.telesp.net.br)
[15:49:21] <avsej> #[feature(struct_variant)] on the top of the file still doesn't change anything
[15:49:40] <dandy> what about with rustc --lib?
[15:49:46] <dandy> using a lib.rs
[15:49:57] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[15:51:06] <avsej> https://gist.github.com/avsej/5b6aeab7bd7362f4e083#file-output-L1
[15:51:15] <avsej> maybe i'm missed something/
[15:51:34] <dandy> maybe its telling lies
[15:51:49] <avsej> :)
[15:52:11] *** Joins: heftig (heftig@moz-8D637857.dip0.t-ipconnect.de)
[15:52:25] <dandy> maybe do a git blame on it and e-mail them
[15:53:00] <avsej> okay, i will do it, thanks anyway
[15:53:04] *** Quits: pepper_chico (pepper_chi@moz-29CFA00C.dsl.telesp.net.br) (Quit: Ex-Chat)
[15:53:19] *** Joins: pepper_chico (pepper_chi@moz-29CFA00C.dsl.telesp.net.br)
[15:53:49] <dandy> https://github.com/mozilla/rust/blob/8eb28bb7dcd77ac9e804ab2d75b387ca3f47f9d4/src/test/run-pass/deriving-via-extension-struct-like-enum-variant.rs
[15:54:12] <dandy> OH HAHA!
[15:54:14] <dandy> you forgot the ;
[15:54:22] <dandy> that is so common
[15:54:30] <dandy> #[feature(struct_variant)];;;;;;;;;;;;;
[15:54:48] <dandy> I must know if that fixes it for you
[15:54:51] <avsej> :)
[15:55:18] <avsej> yes, it fixes the issue
[15:55:50] <avsej> so it is rather bug in rust? or i have to just remember this macro?
[15:56:03] <avsej> it like using or not ; in C macros
[15:56:09] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:56:10] <dandy> it looks like a not yet done feature
[15:56:33] <pnkfelix> avsej: Its a feature you have to opt into, because we don't want people to accidentally use it if they are not willing to, um, adapt if things change in the future.
[15:56:36] <dandy> I would think in the future the attribute would not be required
[15:57:09] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Ping timeout)
[15:57:18] <pnkfelix> avsej: e.g. In general such features might go away, or their semantics may change, etc.
[15:57:54] <avsej> but in this code my application will complain anyway when i will try to use newer version of the compiler
[15:57:56] <pnkfelix> avsej: Or, sorry, are you asking about the detail about the significance of the semicolon  at the end of the attribute ?
[15:57:57] <avsej> in general
[15:58:04] <avsej> pnkfelix, yes
[15:58:11] <pnkfelix> avsej: Ah, ah
[15:58:16] <pnkfelix> avsej:  that syntax is going to change
[15:58:23] <pnkfelix> avsej: let me find the bug
[15:58:25] <avsej> i though you are explaining second level of opting in :)
[15:58:37] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[15:58:40] <avsej> like "do you really think you want this feature?"
[15:58:51] <avsej> please put a semicolon thrice :)
[15:58:53] <dandy> pnkfelix, I am curious about the ;
[15:59:02] <dandy> that trips so many people up (me included)
[15:59:12] <pnkfelix> dandy: this is the bug: https://github.com/mozilla/rust/issues/2569
[15:59:55] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[16:00:07] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[16:00:27] <pnkfelix> dandy: in short, its a question of whether you want an attribute to apply to (and *only* to) the immediately succeeding item (which, currently, is denoted by leaving out the semicolon), or if you want it to apply to the enclosing module (which, currently is denoted by including the semicolon).
[16:00:28] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:00:56] <pepper_chico> hi, I've gone through the long Rust tutorial, and I'm in the end missing some feature from c++, can't I have static duck typing the way c++ templates have? I see that using a plain generic type parameter I'm unable to use an argument of such type in a useful way, I need to tell which trait does such type implements to be able to use operations of such trait with the generic argument. that requirement seems to remove the duck typing f
[16:00:56] <pepper_chico> eature
[16:01:06] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:02:19] <pnkfelix> pepper_chico: that's right, Rust requires you to explicitly say what traits your generic template parameter require.  The Rust design deems C++'s duck typing as a bug, not a feature.  This is a design point that reasonable languages can differ on.
[16:02:38] <pnkfelix> pepper_chico: if this isn't already in the FAQ, it should be.  Let me look.
[16:02:59] *** Joins: threecreepio (jdp@moz-12614F1E.cust.bredbandsbolaget.se)
[16:03:30] <pnkfelix> pepper_chico: nope, not in the FAQ. but I *know* there's a recent mailing list thread, let me at least find that.
[16:04:23] <pepper_chico> dammit, I'm finding Rust forces "taxonomy", no static nor runtime duck typing...
[16:04:42] <pnkfelix> pepper_chico: Here is the mailing list thread.  https://mail.mozilla.org/pipermail/rust-dev/2013-September/005603.html
[16:04:53] <pepper_chico> pnkfelix, thanks
[16:05:52] <pepper_chico> well, I find it somewhat sad, the c++ guys are trying to solve requirement through concepts, but which doesn't mean removing the duck typing stuff...
[16:06:11] <pepper_chico> s/requirement/requirements/
[16:06:21] *** flaper87 is now known as flaper87|afk
[16:06:49] <bstrie> strcat: is https://github.com/mozilla/rust/wiki/Mixed-language-link-time-optimization complete enough that I could link it from somewhere and have it make sense?
[16:06:54] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:07:22] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[16:07:34] <anshin> is Rust approaching 1.0, or will it be 0.10?
[16:07:43] <bstrie> anshin: 0.10 will follow 0.9
[16:07:51] <anshin> thanks
[16:07:52] <bstrie> it will reach 1.0 when we feel like it's ready for people to actually use
[16:08:17] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[16:08:17] <pnkfelix> pepper_chico: I'll admit that I am not an expert in what the latest patterns are in C++, but I don't see how to get local validation of type-parametric code without *some* form of providing what methods are expected.  So you end up needing either Traits (or where clauses in the style of CLU).
[16:08:46] <anshin> I was wondering whether it was approaching that state
[16:08:58] <pnkfelix> pepper_chico: Are where-clauses what you mean by duck typing here? 
[16:10:11] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:10:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:10:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:11:26] <pepper_chico> pnkfelix, I mean by static duck typing the ability to use a generic typed variable/argument in a useful way without a compiler error, like, let x be a generic T, I do x.do_stuff() and that's not an compiler error until someone instantiate x with T where T doesn't have .do_stuff()
[16:11:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:12:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:12:29] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:12:29] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[16:12:35] <pnkfelix> pepper_chico: Okay, then go read the mailing list thread.  The main reason from my POV is that I prefer to get more error checking prior to instantatiation.  pcwalton also points out other problems, such as how to get scoping right.
[16:14:07] *** Joins: mihneadb_ (mihneadb@moz-913E7D88.residential.rdsnet.ro)
[16:14:34] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:14:41] *** jorendorff is now known as jorendorff_away
[16:14:44] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[16:15:02] <pepper_chico> even though c++ allows that long time, you can still have pretty type checking, yes at instantiation, through concepts, and template metaprogramming
[16:15:29] <dschatzberg> can't you use iface to define the interface you need in your generic function?
[16:15:46] *** Parts: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) ()
[16:16:04] <pnkfelix> dschatzberg: iface?  What version of Rust are you using?
[16:16:05] *** flaper87|afk is now known as flaper87
[16:16:19] *** Joins: mindcat (mindcat@526E99EE.B0488C42.F956842C.IP)
[16:16:50] <clusterfoo> newb question: why does main() { // print something 1000 times } run faster than main() { spawn { // print something 500 times }; spawn { // print something 500 times } }? Shouldn't spawning two tasks that split the job in half run faster? 
[16:16:52] *** Joins: ercxx__ (ercan@moz-7CFF3469.dyn.optonline.net)
[16:17:03] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[16:17:29] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[16:18:03] <pnkfelix> clusterfoo: Are they both literally printing to the same output port?  If so, then no, you are probably making the code slower by spawning into multiple tasks, because then the two tasks must contend for the shared resource (the shared output port).
[16:19:25] <bstrie> clusterfoo: there is also a constant-time overhead to setting up a task. if you're doing trivial things, this overhead could be dominating the runtime
[16:19:33] *** jorendorff_away is now known as jorendorff
[16:20:10] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[16:20:24] *** Quits: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro) (Ping timeout)
[16:21:09] <pepper_chico> pnkfelix, for the moment, I got somewhat frustrated with the language regarding that, the original idea of generics in c++ was just that, providing generic (regarding types) algorithms. now with rust, I must state the traits that must be implemented to have the algorithm written, and sad is there's structural typing the way Go does, which means, if something can do what the trait does, it implements the trait, now I must have things 
[16:21:10] <pepper_chico> implementing trait X, Y, Z to make use of "generic" libraries, etc.... I'm not finding that nice, really =(
[16:21:23] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[16:21:57] <pepper_chico> s/there's/there isn't/
[16:22:23] <anshin> one more (probably naive) question. how does Rust fair as far as speed?
[16:22:33] <anshin> I imagine that's not yet a priority
[16:22:38] <bstrie> anshin: if it's not as fast as C++, it's a bug
[16:22:54] <bstrie> that's our philosophy
[16:22:58] <anshin> already?
[16:23:06] <bstrie> that's always been our philosophy
[16:23:08] <anshin> I assumed it would be a while before that was the case
[16:23:11] <anshin> awesome
[16:23:13] <anshin> thanks
[16:23:14] <bstrie> speed isn't just an aspect of the implementation
[16:23:14] <dandy> "it's a bug"
[16:23:20] <bstrie> it's an aspect of the design of the language
[16:23:32] <bstrie> you have to consider potential speed hazards all through the design process
[16:23:35] *** Joins: Kruppe (user@CC0122E6.8F96AEA7.2D179A7D.IP)
[16:23:39] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[16:23:39] <bstrie> anshin: and yes, we do have a lot of bugs still with perf
[16:23:46] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[16:23:54] <bstrie> I'm not trying to say that we are *currently* as fast as C++. but we'll get there, or we'll die trying
[16:24:06] <dandy> bstrie, I have faith
[16:24:13] <saati> what is slower than c++?
[16:24:18] <pepper_chico> haha
[16:25:04] <anshin> ah, ok. I fully anticipate that Rust will be fast enough for the situations where C++ would be used, but I'm wondering whether it's feasible to use Rust for some lower-level things
[16:25:27] <anshin> I'm a total novice as far as lower-level programming, and I'm trying to choose between Rust and C
[16:25:34] <bstrie> anshin: I've heard people say that using rust without its runtime is still nicer than using C
[16:25:34] <anshin> for my introduction, I guess
[16:25:39] <bstrie> never done it myself
[16:25:51] <bstrie> anshin: but you should learn C. C is important
[16:26:20] <bstrie> learn what C does
[16:26:23] <bstrie> then learn why C does what it does
[16:26:32] <bstrie> and then you will understand rust, and be enlightened
[16:26:41] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Ping timeout)
[16:26:46] *** Joins: timot_ (timot@moz-3B3A0794.cust.tele2.se)
[16:27:37] <pepper_chico> I see rust quite in the realm and speed of c, but it's not ready yet, and it requires a runtime that c doesn't requires which means that for microcontrollers for example it should be harder to have it available if ever
[16:27:40] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[16:27:48] <anshin> I fully intend to use both, but I thought Rust would afford a higher-level introduction to memory management, making it easier to move into C
[16:27:53] <pepper_chico> not counting the adopting
[16:28:02] <pepper_chico> s/adopting/adoption/
[16:28:02] <saati> pepper_chico: that's not true, rust doesn't require a runtime
[16:28:25] <pepper_chico> saati, ah ok, I thought it required
[16:28:26] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[16:28:34] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[16:29:06] *** Quits: dschatzberg (dschatzber@moz-A8B1497.bu.edu) (Quit: Leaving)
[16:29:06] <saati> pepper_chico: if you don't want tasks and stuff it's not
[16:29:06] <bstrie> anshin: imo the hard part of low-level programming isn't necessarily the programming language, or the abstractions that it provides. the hard part is understanding the machine itself, after which point you can truly begin to appreciate the abstractions of a systems programming language
[16:29:35] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:29:58] <engla> pepper_chico: Here is Hello World without runtime or libstd. It requires linking to libc for the posix write function. https://gist.github.com/anonymous/b5df06c9e53ee17cdc7d
[16:30:14] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[16:30:17] <anshin> that's been my assumption, and it's why I figured there wouldn't be any harm in learning Rust first – which is why I came to the question of speed
[16:30:17] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[16:30:55] <bstrie> anshin: note that if you were just doing C++-style appdev, learning all the low-level stuff isn't really important. in that case, it really is just about learning the proper use of abstractions
[16:30:59] <pepper_chico> for my taste, these days I'm really not appreciating the abstractions of systems programming languages regarding what we have generically available in hardware, it's like designer are stuck in the past with the 8086 model
[16:32:36] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[16:33:07] *** Quits: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de) (Ping timeout)
[16:34:45] <pepper_chico> I think well could have good abstractions for packed operations (SIMD, etc) but no one starts designing supporting that, everyone just leaves that for the optimizer in a remote future, with autovectorization happening through voodoo, nothing explicit when it happens
[16:34:54] *** Joins: eco (eco@moz-87840B9D.net)
[16:34:58] <pepper_chico> that's just an example...
[16:35:24] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:35:30] <strcat> bstrie: yeah, it is
[16:35:38] <pepper_chico> if people used more that, maybe architectures could have more, and offer more of that
[16:35:59] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[16:36:01] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[16:37:09] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[16:37:36] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:37:48] *** Quits: eco (eco@moz-87840B9D.net) (Quit: leaving)
[16:37:55] *** Joins: eco (eco@moz-87840B9D.net)
[16:38:11] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[16:38:16] <anshin> bstrie: thanks. I'm interested in understanding (and contributing to/building) various components of Unix and Linux systems, e.g. X11, acpi, ps, filesystems, etc
[16:38:40] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:39:01] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:39:22] <strcat> I finally figured out why that terrible thing happens with immediate structs
[16:40:34] <ercxx__> I'm having hard time with storing lambdas in a container.
[16:40:44] <pepper_chico> well expressing things like, memory fences, which I think can be expressed in language, would also be interested, all this machine stuff, fences, simd, gpgpu,  is generally commonly available through architecture specific libraries...
[16:40:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[16:40:53] *** Quits: Kruppe (user@CC0122E6.8F96AEA7.2D179A7D.IP) (Ping timeout)
[16:40:59] <ercxx__> I want to stuff them in an array or a hashmap to use them with rust-http.
[16:41:34] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[16:41:38] *** Joins: schubidu25 (schubidu25@moz-FAE37203.superkabel.de)
[16:41:39] <ercxx__> Apparently lambdas can't be cloned.
[16:41:48] <ercxx__> Any ideas?
[16:41:48] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[16:43:03] <ercxx__> All i want is something like router.add("/blog", || {//stuff} );
[16:43:13] *** Joins: Kruppe (user@CC0122E6.8F96AEA7.2D179A7D.IP)
[16:43:32] <ercxx__> Which is OK until rust-http server wants to clone the router.
[16:43:49] <strcat> use extern fn
[16:44:07] <strcat> at least until rust has proper closures
[16:44:08] <engla> hm well rust doesn't support lambda expressions to create extern fn at the moment
[16:44:22] <engla> that would be a boon to all these workarounds
[16:44:43] <strcat> it would be nice if stack closures were just real values you could store
[16:45:05] <anshin> pepper_chico: thanks. I had never heard of pretty much anything you mentioned until now. definitely the kind of thing that interests me
[16:45:23] *** Quits: threecreepio (jdp@moz-12614F1E.cust.bredbandsbolaget.se) (Quit: threecreepio)
[16:45:31] <ercxx__> ok
[16:45:39] <pepper_chico> anshin, no problems ;-)
[16:45:50] <pepper_chico> ... :-(
[16:45:56] <sfackler> ecrxx__: Another alternative to lambdas are trait objects. Something like trait MyCallableThing { fn call(&mut self) -> whatever } and then store a ~MyCallableThing
[16:46:52] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[16:47:53] <ercxx__> sfackler: I remember someone mentioning them before. I'll take a look. Thanks
[16:47:56] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[16:48:12] *** jorendorff is now known as jorendorff_away
[16:49:13] <sfackler> ecrxx__: Take a look at PostgresNoticeHandler and PostgresConnection::set_notice_handler here for an example: http://docs.octayn.net/postgres/
[16:50:13] <ercxx__> sfackler: looking right now
[16:50:35] <pepper_chico> anshin, the time we get a language that considers expressing what simd, fences and gpgpu have, but also providing good concurrency models, to manage latency in operations, then I would get excited again with a language *really* is trying to address performance and updates the status quo of the machine
[16:50:42] *** jorendorff_away is now known as jorendorff
[16:52:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:52:44] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[16:52:56] <mindcat> rusti: "Oh no, you are not still here right?"
[16:52:57] -rusti- "Oh no, you are not still here right?"
[16:53:18] *** Quits: jroll (jroll@moz-5989BB9E.members.linode.com) (Quit: brb!)
[16:53:21] * mindcat X_X
[16:54:08] *** Joins: chlshv (chlshv@200DFD06.C3F474B1.D0DDB18B.IP)
[16:55:05] <mindcat> rusti: &@~&@~&&@~""
[16:55:05] -rusti- <anon>:7:15: 7:17 error: unexpected token: `&&`
[16:55:06] -rusti- <anon>:7          &@~&@~&&@~""
[16:55:06] -rusti-                         ^~
[16:55:06] -rusti- application terminated with error code 101
[16:55:29] <anshin> pepper_chico: since Rust can interop with C, wouldn't it be capable of working with those?
[16:55:56] *** jorendorff is now known as jorendorff_away
[16:56:18] *** jorendorff_away is now known as jorendorff
[16:56:32] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[16:56:46] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[16:57:03] <nejucomo> How can extern fn be used as a workaround?  I thought that was for FFI bindings.
[16:57:22] <pepper_chico> anshin, it's, but nor C or C++ have that in the language, it's through architecture specific libraries/code. think of that, it could be in the language in an architecture general way, the same way you don't need to care about the register names of your CPU
[16:57:39] <anshin> ah
[16:57:44] <anshin> I think I understand
[16:57:47] *** jorendorff is now known as jorendorff_away
[16:57:49] <pepper_chico> because that relates to the old model abstraction which we are still stuck
[16:58:25] *** jorendorff_away is now known as jorendorff
[16:58:49] <engla> nejucomo: extern "Rust" fn() is the type name of a regular function in rust
[16:58:55] <engla> which is a bit confusing
[16:59:00] <Yurume> what is currently the best way to implement worker model in Rust?
[16:59:13] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:59:35] <nejucomo> engla: The type name?  So it's in a similar category as ~fn() and &fn() ?
[16:59:40] <engla> rusti: let f: extern fn(f32) -> f32 = std::num::abs; f
[16:59:41] -rusti- fn(f32) -> f32
[16:59:50] <Yurume> AFAIK there was a plan for `ThreadPerCore` scheduler mode in `std::task`, but it seems to be abandoned
[16:59:52] <engla> nejucomo: it's not a closure, just a function
[16:59:58] <nejucomo> Does it coerce to &fn ?
[17:00:01] <engla> yes
[17:00:05] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:00:06] <nejucomo> I see.
[17:00:20] <nejucomo> Thanks.
[17:00:55] *** Quits: Kruppe (user@CC0122E6.8F96AEA7.2D179A7D.IP) (Ping timeout)
[17:00:55] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[17:00:58] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[17:01:51] *** Quits: canhtak (jeremy@moz-13BC3BC0.wl.t.ulaval.ca) (Quit: canhtak)
[17:02:10] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:02:18] <eco> Any IRSSI users know of a way to stop it from playing a bell for rusti messages (because it's going to drive me insane at some point, I'm fairly certain)?
[17:02:19] *** chlshv is now known as chilyashev
[17:02:31] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:02:34] <eco> I want to keep the bell around for everything else.
[17:02:52] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:02:53] *** kimundi is now known as zz_kimundi
[17:03:26] *** Parts: chilyashev (chlshv@200DFD06.C3F474B1.D0DDB18B.IP) (Leaving)
[17:04:07] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[17:04:17] *** Quits: jordyd (jordyd@moz-89934CBB.seg48.ucf.edu) (Ping timeout)
[17:04:20] <ercxx__> eco: try  /set bell_beeps OFF
[17:05:05] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[17:05:35] <eco> Well I want to keep them around for legitimate alerts.
[17:05:44] <eco> That pointed me at beep_msg_level though which might do the trick.
[17:06:07] <eco> Thanks
[17:06:57] <ercxx__> There's also weechat if you want to try.
[17:07:19] <ercxx__> Irssi has vi keys though.
[17:08:28] <lkuper_> Maybe when someone messages rusti, it could privmsg them back.
[17:08:41] <lkuper_> can the IRC protocol do that?
[17:08:49] <eco> I'd rather not switch IRC clients just for one channel which has a unusual bot. :)
[17:09:21] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[17:09:36] <lkuper_> (and you could pass a special flag, like "public", if you really want the result to appear in-channel, like to show someone else the result of the evaluation)
[17:10:19] <nejucomo> lkuper_: rusti already does privmsg: /msg rusti "Let's talk in private."
[17:10:23] <nejucomo> Unless I misunderstand.
[17:10:26] <lkuper_> nejucomo: sure
[17:10:34] *** jorendorff is now known as jorendorff_away
[17:10:42] <lkuper_> nejucomo: but I mean, if you publicly message it, it could respond in private by default
[17:11:03] <lkuper_> people might hate that behavior, though
[17:11:14] <nejucomo> I see.  Although I would want to keep some feature for public response.  I learn a lot that way.
[17:11:17] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[17:11:18] <jdm> likewise
[17:11:27] *** Quits: mihneadb_ (mihneadb@moz-913E7D88.residential.rdsnet.ro) (Input/output error)
[17:11:30] <kmc> i think that would be confusing
[17:11:55] *** Joins: mihneadb_ (mihneadb@moz-913E7D88.residential.rdsnet.ro)
[17:12:00] <bheylin> what expensive is incurred by creating a stack closure inside of a loop?: https://gist.github.com/brianheylin/6871400
[17:12:15] *** Quits: mindcat (mindcat@526E99EE.B0488C42.F956842C.IP) (Quit: Lost terminal)
[17:12:30] <bheylin> what is needed to share a fn in a loop block?
[17:13:06] <eco> Most code execution bots I've seen use channel messages (PRIVMSG) to reply.
[17:13:42] *** Quits: mihneadb_ (mihneadb@moz-913E7D88.residential.rdsnet.ro) (Ping timeout)
[17:14:17] *** Joins: dew1 (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[17:14:21] <eco> I'm not actually even sure what rusti is doing.
[17:14:28] <kmc> it's sending NOTICE i believe
[17:14:35] <kmc> which is technically what bots are supposed to do per spec
[17:14:41] <kmc> to avoid botloops
[17:14:46] <kmc> but this rule is widely ignored
[17:14:47] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[17:18:27] *** flaper87 is now known as flaper87|afk
[17:18:49] *** Joins: mihneadb_ (mihneadb@moz-913E7D88.residential.rdsnet.ro)
[17:20:37] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[17:20:57] <eco> Ah, that makes sense.
[17:21:22] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[17:22:18] *** Joins: threecreepio (jdp@moz-12614F1E.cust.bredbandsbolaget.se)
[17:24:00] <engla> did bors stop or is it simply out of work?
[17:25:17] <jdm> it needs to steal some
[17:25:42] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[17:26:48] *** Joins: jordyd (jordyd@9E6CE43B.4B53A366.BB6D8913.IP)
[17:29:52] <bstrie> strcat: I'm curious if you know the answer to http://www.reddit.com/r/rust/comments/1nwzau/help_with_writing_an_iterator/
[17:30:02] *** Quits: dew1 (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[17:31:07] *** Joins: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP)
[17:31:12] <engla> oh I had that exact problem when adding the current permutations iterator
[17:31:20] <engla> which allocates each iterator element
[17:31:59] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[17:32:20] *** Quits: mihneadb_ (mihneadb@moz-913E7D88.residential.rdsnet.ro) (Input/output error)
[17:32:47] *** Joins: mihneadb_ (mihneadb@moz-913E7D88.residential.rdsnet.ro)
[17:34:27] *** Joins: binroot (Mibbit@6A365D.B9AD9095.DDE5D3F6.IP)
[17:34:34] *** Quits: jordyd (jordyd@9E6CE43B.4B53A366.BB6D8913.IP) (Ping timeout)
[17:34:39] *** Quits: mihneadb_ (mihneadb@moz-913E7D88.residential.rdsnet.ro) (Ping timeout)
[17:35:08] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:36:14] *** Quits: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:36:31] <binroot> I have a type parameter <T> to MyTrait. My code used to work with ~str but now I'm trying to generalize to any type T. 
[17:36:43] <binroot> I get the error: type `&T` does not implement any method in scope named `to_owned`
[17:36:47] <nejucomo> Do "internal iterators" exist anymore?  Where can I learn about them?  (is std::iter all external iters?)
[17:37:14] <strcat> nejucomo: rust doesn't use them anymore
[17:37:23] <nejucomo> Ok.
[17:37:36] <strcat> an internal iterator is just a function taking a closure and calling it repeatedly until it asks to stop
[17:37:46] <nejucomo> I see.
[17:37:59] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[17:38:15] <strcat> an external iterator is a superset - it can be used as an internal one
[17:38:22] <strcat> but not the other way
[17:38:23] <nejucomo> binroot: Maybe you want Clone::clone() ?
[17:38:40] <nejucomo> Is .to_owned() the same as .clone() for a ~[T] ?
[17:38:41] <strcat> a language feature like `yield` lets you write an external iterator with code similar to an internal one
[17:38:51] <strcat> yes
[17:38:55] <strcat> well
[17:38:59] <strcat> to_owned is only implemented on &[T]
[17:39:04] <strcat> I don't think ~[T] has to_owned
[17:39:33] <nejucomo> strcat: It does in my checkout.  ;-)
[17:39:47] <strcat> doubt that
[17:39:54] <strcat> it's just coercing to &[T]
[17:40:00] <nejucomo> So binroot: Try changing "to_owned" to "clone", and you will need to declare that your type T is constrained by Clone.
[17:40:05] <binroot> k
[17:40:50] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[17:41:07] <binroot> nejucomo: strcat: now i get "cannot capture variable of type `&T`, which does not fulfill `Send`, in a bounded closure" because I'm using it in spawn/task
[17:41:27] <nejucomo> strcat: https://github.com/mozilla/rust/blob/master/src/libstd/vec.rs#L811
[17:41:47] <strcat> I guess that can be removed
[17:42:03] <nejucomo> binroot: Ah…  You need to add the constraint Send to T, I think.  (This is a bit out of my familiarity zone...)
[17:42:13] *** Joins: slimer (Mibbit@moz-FD9A8D70.tvc-ip.com)
[17:42:49] <nejucomo> strcat: I've been confused around this.  Sometimes I've created an impl for &T only to find that for a ~K instance I somehow get a &~K.
[17:42:56] <nejucomo> I wish I could remember the specifics of that...
[17:43:08] <binroot> nejucomo: i have impl<T: Clone + Send> MyTrait for ~[~str] { ... }
[17:43:13] *** Joins: sinma (seb@F16171B8.B3F239D6.B6260F18.IP)
[17:43:15] <strcat> nejucomo: don't know what you mean
[17:43:24] <strcat> ~[T] isn't an ~T, and &[T] isn't an &T
[17:43:38] <strcat> vectors/slices aren't unique/borrowed pointers
[17:43:39] <nejucomo> strcat: Yeah, I think it involved vector/slice.
[17:43:54] *** Joins: jordyd (jordyd@9E6CE43B.4B53A366.BB6D8913.IP)
[17:43:57] <sinma> hi, when I type use extra::future::*;,
[17:44:02] <sinma> it doesn’t work
[17:44:12] <sinma> «unresolved import. maybe a missing `extern mod extra`?»
[17:44:19] *** Quits: Valentin (Valentin@185C7798.83764248.55CD930E.IP) (Ping timeout)
[17:44:19] *** Quits: Adhaa (Adhaa@185C7798.83764248.55CD930E.IP) (Ping timeout)
[17:44:25] <binroot> sinma: add extern mod extra; to the top of the ifle
[17:44:26] <nejucomo> binroot: The T there doesn't make sense to me, unless T appears somewhere in the impl.
[17:44:27] <binroot> file*
[17:45:24] <nejucomo> strcat: So consider: fn f(&T); fn g(&[T]);  Can I call: f(~[]) and g(~[]) directly?
[17:45:50] <strcat> not f()
[17:45:56] <strcat> ~[T] will coerce to a slice
[17:45:59] <nejucomo> Ok.  I think that was the source of my confusion.
[17:46:01] <strcat> but it's not a unique/borrowed pointer
[17:46:31] <nejucomo> -and there's no automatic coercion from a slice to a borrowed pointer, because the pointer representations are different?  (simple pointer versus fat pointer?)
[17:46:52] <strcat> no way to convert at all
[17:47:30] <nejucomo> Oh, I bet it was that I had a trait like: trait C { fn method(&self); } ; then: impl C for ~[T] {}  // so that &self was &~[T].
[17:47:45] <nejucomo> Does that sound plausible?
[17:47:48] <strcat> yes
[17:47:58] <strcat> you can coerce &~[T] to &[T]
[17:48:03] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[17:48:04] <strcat> &[T] is strictly less useful
[17:48:15] <strcat> but more generic (due to possibly pointing at more things)
[17:48:30] <sinma> binroot: why «extern»?
[17:48:31] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[17:48:45] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[17:48:50] <sinma> binroot: I thinked extern was for extern module, not stdlib
[17:49:13] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[17:49:26] <nejucomo> I'd like to see a table comparing ~T, ~[T], &T, &[T] and which are coerced to what...
[17:49:35] <strcat> sinma: libextra isn't the stdlib
[17:49:43] <strcat> it's an external crate not linked against by default
[17:49:53] <nejucomo> Now that I've read a bit about slice representation I have some feel for it, but I don't feel confident I understand edge cases.
[17:50:22] *** Quits: binroot (Mibbit@6A365D.B9AD9095.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:50:42] <sinma> strcat: o.
[17:50:43] <sinma> *ok
[17:51:21] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[17:53:28] *** Joins: mr_sticky (Mibbit@6CE90281.346F6C01.C835BD1F.IP)
[17:54:27] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[17:54:44] *** Quits: papalazarou (papalazaro@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net) (Ping timeout)
[17:54:49] <engla> I think it's interesting to observe how &[T] is more generic indeed, it can be shared by any array/vector implementation (using contiguous memory). ~[T] is just a particular implementation which can define allocator, growth behavior (if at all) etc.
[17:54:58] <nejucomo> For example, I can't tell the type of b in: let a = ~[42u]; let b = &a;   // Is this a slice?  Why not &~[uint] ?
[17:55:13] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[17:55:15] <strcat> nejucomo: that isn't a slice
[17:55:32] <nejucomo> strcat: So it's &~[uiint] type ?
[17:55:50] <strcat> yes
[17:56:02] *** Quits: mr_sticky (Mibbit@6CE90281.346F6C01.C835BD1F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:56:03] <nejucomo> When are slices created from ~[T] ?
[17:56:10] <strcat> the only way to get a slice (at a language level) is to coerce to one
[17:56:25] <nejucomo> let a = ~[u42]; let b: &[uint] = a
[17:56:41] <nejucomo> Does that work?
[17:56:47] <strcat> yes
[17:56:52] <strcat> that's how you get a slice
[17:56:55] <nejucomo> Oh, I know someone who's good at answering these questions: rusti.
[17:57:10] * strcat takes credit for any answers given by rusti ;p
[17:57:16] <nejucomo> ;-)
[17:57:28] <engla> humans will understand u42 while rusti will not :-)
[17:57:42] <nejucomo> strcat: If you'd rather, I could privmsg you rust expressions and you can respond with correct answers in under 2 seconds.
[17:57:51] <nejucomo> engla: touche
[17:58:00] <strcat> nejucomo: you already do
[17:58:09] <nejucomo> I clearly meant the Default value of a 42 bit unsigned integer.
[17:58:09] <strcat> 2013-10-07 13:54:17-0400 [EvalBot,client] query nejucomo: let a = ~[42u]; let b = &a; println(b)
[17:58:18] * strcat is rusti
[17:58:30] <strcat> really I didn't write an evalbot, I just type very fast
[17:59:00] <nejucomo> hehe…  Wow.  The rusti dev has excellent AI techniques.
[17:59:20] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Quit: Leaving)
[17:59:29] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[17:59:58] *** Quits: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net) (Connection reset by peer)
[18:00:09] *** Joins: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net)
[18:02:54] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[18:03:45] *** Quits: jordyd (jordyd@9E6CE43B.4B53A366.BB6D8913.IP) (Ping timeout)
[18:04:37] <lex> Hi, quick question. I'm trying to write a generic function that uses futures. When I try future.get() the compiler gives 'error: failed to find an implementation of trait std::clone::Clone for T'. Is there any way to specify that the template has this property?
[18:05:20] *** Quits: pepper_chico (pepper_chi@moz-29CFA00C.dsl.telesp.net.br) (Quit: Ex-Chat)
[18:06:16] <Amaranth> lex: <T: Clone>
[18:06:39] *** Joins: papalazarou (papalazaro@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[18:07:37] *** Quits: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net) (Quit: Leaving.)
[18:08:59] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:09:39] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:09:45] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:10:23] <lex> Amaranth: what about `Send+Freeze`?
[18:10:29] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[18:10:42] *** Parts: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) ()
[18:11:17] <Amaranth> lex: You want all three? If you mean alternatively I don't know if that'll work.
[18:12:12] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[18:12:22] <lex> Amaranth: I think I need all three. I want to use futures.
[18:12:39] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[18:12:45] <sfackler> lex: use unwrap instead of get
[18:13:10] <sfackler> or get_ref
[18:13:39] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[18:13:56] <lex> sfackler: okay, thanks
[18:14:07] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[18:15:22] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[18:16:12] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[18:17:56] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:17:56] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:18:59] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[18:19:41] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[18:20:07] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[18:20:08] *** Joins: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:20:50] *** Joins: mib_ia1r5p (Mibbit@16878446.B8F05B23.4D92EDC2.IP)
[18:21:02] *** Quits: jst (quassel@moz-BBE3ABD.mv.mozilla.com) (Z:lined (Flood from unknown connection))
[18:21:02] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Z:lined (Flood from unknown connection))
[18:24:39] <bstrie> pcwalton: did you give the servo presentation in santa clara? how did it go?
[18:24:58] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[18:24:58] <erickt_> bstrie: he did, and it went great
[18:25:16] *** Quits: papalazarou (papalazaro@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net) (Ping timeout)
[18:25:52] <pcwalton> bstrie: yup!
[18:26:04] <pcwalton> a lot of questions, I was amazed I managed to field questions for 2 hours
[18:26:31] <bstrie> what was the general attitude towards it?
[18:26:37] *** Quits: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[18:27:08] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:27:25] <thewonderidiot> wow, 2 hours of questions is a lot
[18:27:38] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[18:27:46] <sfackler> is there video of it online anywhere?
[18:27:56] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Ping timeout)
[18:28:02] <bstrie> I don't think any of the sessions at mozsummit were filmed
[18:28:24] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[18:28:52] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[18:28:53] <pcwalton> bstrie: very positive I think
[18:29:06] <pcwalton> the skeptics had their questions answered
[18:29:13] <pcwalton> :)
[18:29:21] <saati> what were their questions?
[18:29:22] *** zz_kimundi is now known as kimundi
[18:29:42] <pcwalton> all the stuff you might imagine... what are the product plans, does parallelism actually work, etc etc
[18:29:48] <pcwalton> a lot of things about what the browser chrome is going to look like
[18:30:02] <pcwalton> which is basically "I don't know, build something and experiment"
[18:30:13] *** Joins: papalazarou (papalazaro@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[18:30:15] <bstrie> pcwalton: in toronto there were probably as many questions about rust as there were about servo, I feel like a rust-only presentation would have had ample material
[18:30:22] <pcwalton> interesting
[18:30:25] <pcwalton> I got very few questions about rust
[18:31:33] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[18:31:44] <bstrie> gave away so many stickers this weekend
[18:32:05] *** Joins: jst (quassel@moz-BBE3ABD.mv.mozilla.com)
[18:32:07] * Ms2ger has some!
[18:32:10] <Ms2ger> Well, one
[18:34:54] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[18:36:31] <clonejo> I'm currently trying to use ReaderByteConversions methods on a MemReader, error message: "failed to find an implementation of trait std::rt::io::Reader for &std::rt::io::Reader<no-bounds>", code: https://gist.github.com/clonejo/6872732
[18:37:05] <clonejo> I'm currently trying to use ReaderByteConversions methods on a MemReader, error message: "failed to find an implementation of trait std::rt::io::Reader for &std::rt::io::Reader<no-bounds>", code: https://gist.github.com/clonejo/6872732
[18:37:18] <clonejo> whoops, sry
[18:37:27] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[18:37:47] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:37:47] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[18:37:55] *** strcat1 is now known as strcat
[18:38:09] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[18:39:02] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[18:39:24] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:39:35] <strcat> bstrie: what was the name of your roommate again? I'm bad with names ;P
[18:39:49] *** Joins: carllerche (carllerche@moz-CDE5367B.dsl.static.sonic.net)
[18:39:57] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:40:06] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[18:40:28] <bstrie> strcat: dammit, I kept calling him kevin, because I stuck him in the same mental bucket as kevin mitnick
[18:40:37] <bstrie> strcat: it was zach... something. let me find the email
[18:40:44] *** Quits: derboi_c (derboi_c@510621FB.DF3CA0D0.BA2F4534.IP) (Ping timeout)
[18:40:48] *** Joins: derboi_c (derboi_c@510621FB.DF3CA0D0.BA2F4534.IP)
[18:41:03] <strcat> pcwalton: anyway, we found a domain expert in crypto interested in rust :)
[18:41:08] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[18:41:09] <sfackler> clonejo: I think that's an oversight. there are impls of Reader for ~Reader and @Reader but not &Reader
[18:41:14] <jdm> pcwalton: it's interesting that you and jack had super long question periods
[18:41:22] <jdm> I think the one in brussels was about 45 minutes
[18:41:23] <pcwalton> strcat: sweet, that's great
[18:41:33] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:41:36] <strcat> the rust questions at jack's presentation revolved a lot around runtimeless rust
[18:41:42] <strcat> so I made a wiki page about one of the things
[18:41:44] <strcat> https://github.com/mozilla/rust/wiki/Mixed-language-link-time-optimization
[18:41:51] <strcat> inlining between rust/c/c++
[18:41:55] <clonejo> sfackler: Shouldn't it be dereferenced automatically?
[18:41:58] <pcwalton> oh, nice
[18:42:49] <strcat> could use the same strategy for servo, would need to write inline C wrappers in a header and compile it into IR with clang
[18:42:57] <sfackler> clonejo: trait objects don't implement their trait currently
[18:43:10] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[18:43:12] <strcat> well, or really the other way (compile rust to IR, and compile it with a C stub)
[18:44:47] <kmc> strcat: awesome, thanks for writing that up!
[18:45:10] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[18:45:44] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[18:46:07] *** Quits: jdm (jdm@514D186.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[18:46:17] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[18:46:40] *** Joins: tdc (santegoeds@moz-5892B7CA.range86-135.btcentralplus.com)
[18:46:46] *** Quits: jstevans (Instantbir@moz-42E87690.bootp.virginia.edu) (Ping timeout)
[18:47:01] *** flaper87|afk is now known as flaper87
[18:47:12] <lkuper_> pcwalton: do you have slides posted somewhere?
[18:47:16] <strcat> for segmented stacks to work we would need to teach rustc to take IR/bytecode files as input
[18:47:21] <pcwalton> lkuper_: I just used jdm's slides
[18:47:26] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Ping timeout)
[18:47:27] <strcat> so you could take the C++ headers and turn them into "rust"
[18:47:29] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[18:47:39] <pcwalton> strcat: or we could just take .c/.cpp and invoke clang
[18:47:43] <kmc> strcat: why wrappers in a header? I was thinking we'd have a C++ compilation unit containing extern "C" functions which call into those inline C++ functions defined by e.g. spidermonkey
[18:47:48] * lkuper_ redirects question about slides to jdm
[18:47:53] <strcat> kmc: yeah that'd work
[18:48:21] <strcat> pcwalton: I don't think there's a way to make clang use our segmented stack stuff though
[18:48:22] <strcat> maybe there is
[18:48:30] <pcwalton> oh yeah, I guess we'd have to patch clang
[18:48:32] *** Joins: Jesin (Jessin_@moz-7578DB84.cc.lehigh.edu)
[18:48:46] <strcat> pcwalton: it'd be easier to make clang generate IR, and have rustc compile it as part of the crate
[18:48:53] <pcwalton> yeah, that's true
[18:49:19] *** Joins: mihneadb (mihneadb@moz-913E7D88.residential.rdsnet.ro)
[18:49:25] <strcat> LLVM makes this easy to solve though :)
[18:50:54] <lkuper_> bstrie: thanks again for moderating the subreddit like a boss
[18:50:55] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[18:51:13] *** Quits: sinma (seb@F16171B8.B3F239D6.B6260F18.IP) (Quit: Konversation terminated!)
[18:52:06] <lkuper_> bstrie: I hope you managed to not fall asleep while driving back from toronto and whatnot
[18:52:20] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Quit: probably going to bed)
[18:52:25] *** Joins: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[18:52:47] <bstrie> lkuper_: I was pretty zoned out on ambient music and energy drinks, I don't even remember the drive. very uneventful
[18:52:55] <strcat> narrowed down the thing blocking small structs from being immediate
[18:53:01] <lkuper_> (bstrie: it's okay if you fall asleep at work today, that's probably not as fatal)
[18:53:06] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[18:53:07] <strcat> it's the attribute for replacing the drop flag with zeroing the whole object >.<
[18:53:08] <bstrie> lkuper_: jdm's slides are here I think: http://www.joshmatthews.net/servo_summit/
[18:53:22] <lkuper_> ah, thanks
[18:53:22] * strcat isn't sure why exactly yet
[18:54:03] <strcat> since I fixed the other immediate bugs while dealing with enums/tuples it looks all good without that attribute
[18:54:24] <strcat> I'm kind of surprised we were able to call foreign functions at all :s
[18:54:31] <strcat> we used the wrong type for an alloca
[18:54:39] <strcat> we just *happened* to always have pointers
[18:54:46] <strcat> newtype structs wouldn't have worked with FFI
[18:54:57] <bstrie> lkuper_: my day job is to be the safety control rod axe man at a nuclear power plant. normally we have more people here, but with the government shutdown and all... I guess one nap wouldn't be a big deal, what's the worst that could happen?
[18:56:14] <lkuper_> What does "electrolysis" refer to on the servo slides?
[18:56:28] <strcat> lkuper_: process per tab project for ffx
[18:56:29] <lkuper_> oh, found it
[18:56:39] <strcat> like chrome
[18:56:41] <kvark> Does anyone know if AES and other crypto stuff has a Rust implementation?
[18:56:52] <strcat> kvark: yes but it's likely not secure
[18:56:57] <bstrie> kvark: probably not, and even if we did you probably wouldn't want to use it!
[18:57:10] <strcat> we roped in some domain crypto expert so we'll put him to work in the code mines soon
[18:57:23] <bstrie> by we are you talking about my roommate
[18:57:25] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[18:57:26] <bstrie> whose name I should be finding
[18:57:37] <strcat> yep ;p
[18:57:51] <kvark> I don't care about security at this point, I just need a working implementation. If it exists, where do I look for it?
[18:58:06] <bstrie> strcat: ah, I think his name is Zack Weinberg
[18:58:11] <strcat> I *think* it was a pull request we closed
[18:58:14] <bstrie> he's at CMU, if you need to dismbiguate
[18:58:17] <Ms2ger> kvark, that sounds like how openssl started ;)
[18:58:30] <kvark> hah
[18:58:49] <kvark> I'm really not implementing a security layer of sorts, just doing Matasano challenge
[18:58:57] <bstrie> aha
[18:59:15] <kmc> if you want a self-contained not-secure AES library, grab http://www.cs.ucdavis.edu/~rogaway/ocb/ocb-ref/rijndael-alg-fst.c
[18:59:18] <bstrie> well thomas himself has told us not to implement crypto in rust, so who knows what he'll think :P
[18:59:20] <kmc> should be easy to write Rust bindings for it
[18:59:42] <strcat> bstrie: afaik there's not a good library we can use
[18:59:52] <strcat> nss is evil and does the whole global state thing
[19:00:02] *** Joins: fyolnish (fyolnish@moz-F8DB0074.uqwimax.jp)
[19:00:07] <strcat> you'd need an atomic read on every function call
[19:00:15] <strcat> to check that you initialized it
[19:00:36] <strcat> maybe more than an atomic read, I guess you need a whole mutex
[19:00:39] <kvark> thanks kmc... I'll consider implementing it on my own then
[19:00:44] <strcat> so you don't try initializing it twice
[19:00:49] <pcwalton> does anyone want to make a cross-task OpenGL proxy? :)
[19:00:56] <kmc> strcat: can we do the initialization from an __attribute__((constructor))
[19:00:56] <pcwalton> I realized we're gonna need it for WebGL
[19:01:06] <pcwalton> and it might be useful for others who want to sandbox OpenGL
[19:01:13] * strcat goes back to thinking an atomic bool is enough
[19:01:49] <kmc> I know Servo builds NSS but I'm not sure what we're using it for just yet
[19:01:54] <pcwalton> nothing
[19:01:56] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Quit: Leaving)
[19:02:18] <ercxx__> What is this error message exactly:  error: instantiating a type parameter with an incompatible type `LaleServer`, which does not fulfill `Send`  ??
[19:02:34] <kmc> what are you trying to do ercxx__?
[19:03:19] <kmc> without context, it's hard to explain the error message without using basically the same words
[19:03:35] <kmc> kvark: binding to enough of OpenSSL for the Matasano challenges should also be pretty easy
[19:03:54] <ercxx__> rust-http, so I'm trying to have a bunch of lambda's in a container for routing. Instead of cloning them I just want a reference in server struct pointing to the containter.
[19:04:01] <kvark> kmc: but no existing bindings yet, correct?
[19:04:06] <kmc> not that I'm aware of
[19:04:55] <kmc> you don't need much... single block AES encryption/decryption, SHA1 and MD5
[19:04:58] <ercxx__> rust-http server likes to clone itself
[19:05:12] *** Joins: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr)
[19:05:24] <kmc> and some bignum algorithms later, which could be annoying to wrap, but I found it satisfying to write those myself instead
[19:05:34] *** Quits: mib_ia1r5p (Mibbit@16878446.B8F05B23.4D92EDC2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:05:36] <strcat> rust-gmp! ;p
[19:05:51] <flaper87> hey guys, Can I get your thoughts here? https://github.com/mozilla/rust/pull/9746 ?
[19:06:02] <flaper87> to be more precise, here: https://github.com/FlaPer87/rust/commit/4e0ae61e140a70e718dc0010df38aedbbb1a2f35#diff-5dc1db65732d289439eacf8d451d4bb7R2280
[19:06:05] <kvark> pcwalton: I have a rasterizer state proxy here: https://code.google.com/p/claymore-game/source/browse/engine/gr_low/rast.rs  but that's just a small part of GL...
[19:06:09] <flaper87> that's what giving me some troubles
[19:06:14] <strcat> although rust-gmp is pretty incomplete. I only bound 80 or so functions...
[19:06:26] <flaper87> I'd also love your feedback on the implementation of `sleep_then`
[19:06:27] <kvark> kmc: I'm pretty sure Rust has bignums and MD5 already
[19:06:30] <pcwalton> kvark: oh, cool
[19:07:00] <bjz> kvark: BigUint and BigInt lin extra::bignum
[19:07:16] <kmc> yeah our bignums are slow though
[19:07:21] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[19:07:22] <bjz> yep
[19:07:23] <kmc> strcat: cool, I didn't know we had GMP bindings in progress
[19:07:27] <kmc> that's exciting
[19:07:28] <strcat> https://github.com/thestinger/rust-gmp/blob/master/gmp.rs
[19:07:36] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:07:40] <strcat> kmc: I started them a long time ago and haven't touched them beyond porting for a while
[19:07:47] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Z:lined (Flood from unknown connection))
[19:07:47] *** Quits: jst (quassel@moz-BBE3ABD.mv.mozilla.com) (Z:lined (Flood from unknown connection))
[19:08:35] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[19:08:57] <kmc> I should finish the last round of those, maybe in Rust this time :)
[19:09:08] *** Quits: Ms2ger (Ms2ger@A5F4E63.6A0C9EA7.F15B0BB3.IP) (Ping timeout)
[19:09:18] <kvark> kmc: wow you got far!
[19:09:47] * strcat highly recommends https://www.coursera.org/course/crypto
[19:09:58] <TMaster> Ha, I'm doing that one
[19:10:07] <strcat> I've been waiting ages for part II
[19:10:21] <TMaster> I was disappointed to learn about it being postponed
[19:10:29] <TMaster> With no notice =/
[19:10:35] <strcat> it has been postponed several times
[19:10:36] <strcat> :s
[19:10:41] <TMaster> I suspected as much, yeah
[19:10:43] <strcat> it was supposed to run a year ago as far as I can remember
[19:10:50] <strcat> it was postponed *again*
[19:10:52] <strcat> oh well
[19:11:07] <TMaster> Wonder why... Surely the material is ready now?
[19:11:28] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[19:11:35] <strcat> TMaster: well the reason they run it in sessions is to provide interactive feedback stuff
[19:11:43] <strcat> so maybe the professor doesn't have time atm? who knows
[19:11:46] <jason_> flaper87: do you need help debugging that or what? just looking at the code it seems likely there might be an issue with the lifetime of some pointer you're using
[19:12:05] <strcat> https://www.coursera.org/course/ml is supposed to be very good, and I think like the other stanford ones you can pick the language to use
[19:12:14] <TMaster> strcat: what kind of feedback? You mean the automated checks of your homework etc.?
[19:12:28] <TMaster> strcat: because there hasn't been any significant assistance in the forums afaict
[19:12:40] <strcat> TMaster: well, afaik the forums are the only reason they do sessions
[19:12:49] <strcat> otherwise they'd just keep courses available all the time
[19:13:02] <strcat> not just the videos
[19:13:03] <TMaster> strcat: already signed up for ml as well ;)
[19:13:33] <flaper87> jason_: Yeah, I quite don't know what's wrong there and besides that I'd love to hear some feedback on the implementation
[19:14:00] * strcat did the original ai class which became udacity, but not the ML one
[19:14:22] * flaper87 did the original AI class as well
[19:14:34] <TMaster> strcat: how far along with the programming exercises are you? Did you see the 'preview' course?
[19:14:38] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[19:14:49] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[19:14:51] *** Joins: jst (quassel@moz-BBE3ABD.mv.mozilla.com)
[19:14:55] <strcat> TMaster: haven't started it
[19:15:13] <TMaster> strcat: ah, okay
[19:15:42] <jason_> flaper87: i don't know enough to give you feedback, sorry. compile with debug info
[19:16:17] *** Quits: mihneadb (mihneadb@moz-913E7D88.residential.rdsnet.ro) (Ping timeout)
[19:16:39] * kvark did the original AI class too!
[19:16:47] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:17:26] <strcat> and at the same time, http://aichallenge.org/profile.php?user=2255 ;p
[19:17:46] <kvark> wohoho
[19:18:09] * strcat learned C++ for that
[19:18:43] <cmr> nice!
[19:18:47] <strcat> python isn't very fun when there's something ready to disqualify you for a timeout
[19:20:18] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[19:20:34] <strcat> gave up on it when I needed to run randomized combat simulations...
[19:20:44] <strcat> 100x more simulations -> much better bot
[19:21:07] <strcat> other people figured out how to do it via deterministic methods but meh
[19:21:21] *** Quits: fabiand (fabiand@moz-5E54E44A.adsl.alicedsl.de) (Quit: Verlassend)
[19:21:30] * kvark sheds a tear in the memory of IMB RoboCode...
[19:21:37] <Amaranth> pcwalton: Doing generic GL serialization wouldn't be too hard but it would be time consuming to implement
[19:21:44] <pcwalton> Amaranth: yeah
[19:21:46] <pcwalton> I think we'll have to do it
[19:21:56] <pcwalton> it'll let us do Chrome-style GL sandboxing if we really want to do it
[19:22:04] <pcwalton> nice thing though: it only needs to be the subset of GL used by WebGL
[19:22:08] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[19:22:28] <pcwalton> which is a small subset, it's only this http://www.nihilogic.dk/labs/webgl_cheat_sheet/WebGL_Cheat_Sheet.htm
[19:23:58] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:24:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:24:52] <strcat> stupid glue code
[19:25:19] <kvark> not really... keeping a GL task separate makes sense for games too
[19:25:49] <strcat> webgl is basically just opengles, so it's still a useful subset
[19:25:56] <kvark> if pcwalton comes up with something that 
[19:26:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:26:19] <kvark> ... is verifying the state and works with Core GL, I'd use it with pleasure
[19:26:43] <strcat> pcwalton: does webgl require GL_ARB_robustness?
[19:26:50] <bstrie> the person who wrote that blog post on using zeromq with a bloom filter written in rust calls our stdlib "excellent"
[19:26:58] <bstrie> http://www.reddit.com/r/rust/comments/1nqzth/zeromq_helping_us_block_malicious_domains_in_real/ccmxjnh?context=4
[19:27:00] <pcwalton> strcat: I don't think it requires it but it's a good idea
[19:27:03] <pcwalton> although I don't really know
[19:27:29] *** Joins: Ms2ger (Ms2ger@A5F4E63.6A0C9EA7.F15B0BB3.IP)
[19:27:44] <bstrie> says the only thing he missed was an LRU cache and support for inotify
[19:27:59] <flaper87> acrichto: is it possible to add an argument to fmt::Arguments ?
[19:28:11] <strcat> bstrie: we do have excellent iterators/containers ;p
[19:28:27] <pcwalton> it's not that bad yet
[19:28:29] <pcwalton> err
[19:28:30] <flaper87> acrichto: I'm working on this: https://github.com/mozilla/rust/issues/2672 and I think std::logging::log is the place to fix it
[19:28:31] <pcwalton> it's not that bad anymore
[19:28:44] <pcwalton> str is still somewhat questionable and I/O is very questionable
[19:28:50] <strcat> the only thing I really want to fix about iterators is the closure related problems
[19:29:09] <pcwalton> if you want a really *bad* standard library look at ocaml's
[19:29:12] <strcat> but I think I could just change the parameters to take generic types and impl them for &fn and extern fn for now
[19:30:02] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Z:lined (Flood from unknown connection))
[19:30:02] *** Quits: jst (quassel@moz-BBE3ABD.mv.mozilla.com) (Z:lined (Flood from unknown connection))
[19:30:41] <strcat> pcwalton: yeah strings are very bad
[19:30:45] <strcat> and there is the index-assign hole
[19:31:02] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[19:31:04] *** Joins: jst (quassel@moz-BBE3ABD.mv.mozilla.com)
[19:31:06] <Ralith> pcwalton: didn't jane street more or less replace it entirely?
[19:32:06] <strcat> rusti: let mut x = ~"foo"; x[0] = 0xC0; x[1] = 0x80; x
[19:32:07] -rusti- task '<unnamed>' failed at 'assertion failed: (w != 0)', /build/rust-git/src/rust/src/libstd/str.rs:2175
[19:32:07] -rusti- application terminated with error code 101
[19:32:07] <bstrie> Ralith: having two stdlibs defeats the purpose of having a stdlib :P
[19:32:07] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Z:lined (Flood from unknown connection))
[19:32:07] *** Quits: jst (quassel@moz-BBE3ABD.mv.mozilla.com) (Z:lined (Flood from unknown connection))
[19:32:31] <strcat> pcwalton: I couldn't figure out how to easily fix that...
[19:32:40] <strcat> without redoing the index code completely
[19:32:41] <Ralith> bstrie: *shrug*
[19:32:52] <cmr> strcat: can we just disallow indexassign when that change happens?
[19:32:55] <strcat> it gets the mutability from the type itself
[19:33:01] <strcat> and it treats it as an lvalue
[19:33:08] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[19:33:09] <strcat> I think you still want to treat it as an lvalue
[19:33:10] *** Joins: jst (quassel@moz-BBE3ABD.mv.mozilla.com)
[19:34:21] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[19:34:21] <acrichto> flaper87: what do you mean by add an argument to fmt::arguments?
[19:34:24] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[19:34:50] *** Quits: Jackneill (Jackneill@moz-B1C40F5.pool.digikabel.hu) (Input/output error)
[19:35:35] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: brb)
[19:36:00] <acrichto> pcwalton: when you get a chance, could you look over https://github.com/mozilla/rust/pull/9735 ? The test failures are easy to fix, but I wanted to run at least the resolve stuff by you.
[19:36:00] <strcat> hm
[19:36:04] <flaper87> acrichto: I mean, since we're passing args to the final log call, I wanted to add the task name to the args before calling `logger.log` instead of doing it in the macro
[19:36:09] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[19:36:25] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[19:36:37] *** Joins: Chef (Chef@moz-F037F3DA.ipreg.mcmaster.ca)
[19:36:53] <acrichto> flaper87: I don't think you want to change fmt::Arguments, you'd probably just want to change 'fn log' inside the logger
[19:38:22] *** Joins: eholk_ (eholk@moz-BA312F07.crest.iu.edu)
[19:39:06] <flaper87> acrichto: but Logger::log pass args as-is to fmt::Writeln
[19:39:47] <pcwalton> acrichto: looking
[19:40:04] <acrichto> flaper87: it would basically print something out beforehand as well as the args passed in
[19:40:17] *** Joins: Houm (Houm@2BD26E49.BEA97A19.B6260F18.IP)
[19:40:27] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[19:40:58] <flaper87> acrichto: so you're suggesting to print the task name and then the msg ?
[19:40:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:41:02] <flaper87> mmh
[19:42:01] <TMaster> can someone help me get started reading a file? i'd like to put an ~8MB file in memory and access its bytes (or substrings). I have about () experience with rust, and the docs tell me to ask on IRC.
[19:42:04] <acrichto> basically fmt::Arguments is immutable, and I don't think there's a safe way to change them
[19:42:16] <ercxx__> is global/mutable std::vec possible?
[19:42:26] <flaper87> acrichto: I think adding the task id in the log! macro makes more sense then
[19:42:28] <ercxx__> I just want a global variable :(
[19:42:55] <flaper87> acrichto: also, some implementations may want to hide the task name
[19:43:00] <acrichto> TMaster: is the file already in memory or is it on the filesystem? Regardless, the documentation/examples inside of std::rt may be useful to you, although be warned that interfaces may change over time (things should be working though)
[19:43:19] <sw17ch> ercxx__: what's the problem you're trying to solve with a global variable?
[19:43:24] <TMaster> acrichto: on-disk
[19:43:27] <acrichto> flaper87: I want to keep log! as little code as possible because the code bloat at the callsite should be as small as possible
[19:43:32] <TMaster> acrichto: i'm fine with change, i'd like it to work in 0.8 though
[19:43:44] <acrichto> TMaster: take a look at the std::rt::io::file docs, http://static.rust-lang.org/doc/master/std/rt/io/file/index.html
[19:43:44] <flaper87> acrichto: agreed, that's why I thought about putting it into fn log
[19:44:00] <bstrie> ercxx__: we hate global variables!
[19:44:05] <ercxx__> I know :)
[19:44:06] <flaper87> but mmh!
[19:44:24] <ercxx__> I'm learning
[19:44:27] <Amaranth> pcwalton: You might actually be able to generate a lot of the code for the GL proxying
[19:44:37] <pcwalton> Amaranth: I would like to
[19:44:45] <bstrie> ercxx__: you make global variables with `static mut foo: int = 1;`
[19:44:54] <bstrie> ercxx__: but mutating them requires unsafe blocks
[19:44:58] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[19:45:04] <flaper87> acrichto: the other way could be `let msg = format(args); let final = 'task name' + msg;` and pass that to the writer
[19:45:14] <flaper87> in Logger::log
[19:45:20] <acrichto> flaper87: I'd also like to avoid any unnecessary allocations (i.e. calling format)
[19:45:26] <flaper87> :P
[19:45:26] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[19:45:43] <ercxx__> bstrie: yes but I can't make it work on vectors.
[19:45:44] <acrichto> logging is tricky
[19:45:56] <flaper87> I just don't think printing the task name and then the message makes much sense
[19:45:58] <flaper87> mmh
[19:46:22] <bstrie> ercxx__: "static" things have to have a known size at compile time. if you're trying to put a thing on the heap at compile time, that's not gonna work
[19:46:52] <Amaranth> I imagine gl-rs would be the ideal place to add this since it already does code generation for all the GL functions
[19:46:57] <ercxx__> bstrie: thanks
[19:46:58] <bstrie> ercxx__: you'll have to use a fixed-length array
[19:47:01] <sw17ch> Are vectors always heap allocated?
[19:47:11] <bstrie> sw17ch: anything with a  tilde on the front is on the heap
[19:47:20] <bstrie> and if the tilde isn't there, it's on the stack
[19:47:32] *** Quits: Chef (Chef@moz-F037F3DA.ipreg.mcmaster.ca) (Ping timeout)
[19:47:34] <sw17ch> bstrie: i think i just need to read more about how vectors work in Rust
[19:47:35] *** Joins: Chef (Chef@moz-F037F3DA.ipreg.mcmaster.ca)
[19:47:42] <sw17ch> to me, the live somewhere between Arrays in C and Vectors in C++
[19:47:45] <Amaranth> Just make it generate code that feeds data into a blocking queue and write special handlers for functions that take buffers
[19:47:50] <sw17ch> and i'm not sure which is more analogous 
[19:47:54] <strcat> sw17ch: do you know C++ well?
[19:47:59] <kmc> they're much more like vectors in C++
[19:48:11] <strcat> [T, ..n] is directly equivalent to std::array<T, n> in C++
[19:48:13] <sw17ch> strcat: i don't think i'd call it well. i know enough to know the parts i don't know.
[19:48:22] <strcat> ~[T] is directly equivalent to std::vector<T>
[19:48:26] <sw17ch> Ah!
[19:48:42] <strcat> &[T] is a view into any kind of array, so there's not really an equivalent in the stdlib
[19:48:47] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[19:48:49] <sw17ch> i didn't realize the , ..n] syntax made it of fixed length
[19:49:03] <bstrie> yep, that's how you put vectors on the stack
[19:49:05] <bstrie> and in statics
[19:49:12] *** Parts: Chef (Chef@moz-F037F3DA.ipreg.mcmaster.ca) ()
[19:49:18] <kmc> ~[T] would be std::unique_ptr< std::vector<T> >
[19:49:24] *** Joins: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr)
[19:49:38] <sw17ch> static mut foo: [int, ..10];
[19:49:41] <adridu59> hey guys, I did some renewing on the Rust website http://adrientetar.legtux.org/cached/rust-www/
[19:49:47] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[19:49:48] <sw17ch> static mutable array of length 10?
[19:49:50] <adridu59> well most changes are in the inners
[19:50:05] <bstrie> sw17ch: it's probably gonna force you to initialize it, so `static mut foo: [int, ..10] = [0, ..10];`
[19:50:09] <bstrie> and yes
[19:50:17] <kmc> hm I guess not that, either
[19:50:20] <sw17ch> awesome. 
[19:50:55] <sw17ch> In the next few days I'm going to port https://github.com/sw17ch/firestarter to Rust (after fixing some of the rougher edges in the C). Embarassingly-parallel benchmark.
[19:51:15] <bstrie> neat
[19:51:24] <sw17ch> And I wasn't sure how to handle the fixed-length stuff yet (or if i'd want to do it that way)
[19:51:29] <bstrie> sw17ch: a benchmark for comparing languages?
[19:51:49] <sw17ch> bstrie: more to see how well the clang-generated code compares to the Rust generated code and what sorts of differences emerge.
[19:51:54] <sw17ch> Not trying to prove anything -- just curious.
[19:51:55] <bstrie> sounds neat
[19:52:02] <sw17ch> (http://sw17ch.com/outs.gif <-- that code in action)
[19:52:11] <sw17ch> (though, most recent version has color)
[19:52:13] <bstrie> sounds like something strcat might be interested in hearing about
[19:52:39] <sw17ch> I think I've bothered both of you more than once now about using Arcs to do some double-buffering in that simulation.
[19:52:39] *** Quits: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:52:41] <sw17ch> :)
[19:54:22] *** Joins: quesme13 (quesme13@44570CC3.1AC4BC5D.62D62C91.IP)
[19:54:54] * strcat is having no luck debugging this
[19:56:11] <acrichto> olsonjeffery: ping
[19:58:25] *** Quits: quesme13 (quesme13@44570CC3.1AC4BC5D.62D62C91.IP) (Quit: )
[19:59:00] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[19:59:47] *** Quits: Ms2ger (Ms2ger@A5F4E63.6A0C9EA7.F15B0BB3.IP) (Connection reset by peer)
[20:00:31] *** Quits: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:01:13] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: pcwalton)
[20:02:56] <strcat> I think there's some situation where it doesn't call the take glue on the original
[20:03:00] <strcat> with an immediate type
[20:04:17] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[20:07:09] *** Joins: tikue_ (tikue_star@622E05CA.1564D2D3.689607DE.IP)
[20:08:09] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[20:08:55] <olsonjeffery> acrichto: pong
[20:09:07] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[20:09:49] <acrichto> olsonjeffery: file::DirectoryInfo isn't pub, is that a mistake or intentional?
[20:09:50] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Connection reset by peer)
[20:09:57] *** Joins: canhtak (jeremy@moz-B3204E72.wl.t.ulaval.ca)
[20:10:03] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[20:10:22] <olsonjeffery> probably a mistake.
[20:10:39] <acrichto> cool, just wanted to make sure
[20:10:41] <olsonjeffery> wouldn't do much good as being private, so yeah.
[20:11:03] <acrichto> also how would you feel about adding default methods "fn open()" and "fn create()" to the FileInfo trait?
[20:15:15] *** Quits: Palmik (palmik@moz-11EA685D.pks.muni.cz) (Ping timeout)
[20:15:18] *** Joins: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP)
[20:16:01] *** Quits: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr) (Ping timeout)
[20:16:45] <olsonjeffery> acrichto: well.. i really feel like we can do better, in terms of access control
[20:16:57] <olsonjeffery> thats something that we're fored to deal with when opening a FileStream, on all platforms
[20:17:08] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[20:17:18] <acrichto> olsonjeffery: does open_reader(Open) fail on some platforms?
[20:17:18] <olsonjeffery> so i really don't like the idea of giving users a FileStream object with a read/write API when the fd is read-only, for example
[20:17:55] <olsonjeffery> i just don't like that file::open() can open a read/write-only stream with a read/write API-exposing FileStream
[20:18:01] <olsonjeffery> but its there for people who want that more direct access
[20:18:07] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[20:18:14] <acrichto> olsonjeffery: these would be "fn open(&self) -> FileReader { self.open_reader(Open) }" and "fn create(&self) -> FileWriter { self.open_writer(Create); }"
[20:18:31] <olsonjeffery> so open() would always be read only?
[20:18:34] <acrichto> yeah
[20:18:38] <olsonjeffery> Create() as write only makes more sense
[20:18:43] <olsonjeffery> create(), even
[20:18:49] <acrichto> these would purely be convenience methods
[20:18:55] <olsonjeffery> yeah. i understand.
[20:19:07] <acrichto> most common operations just want to write or read a file, if you need to get at all more fancy you should be specifying more things anyway
[20:19:18] <ercxx__> how would one go about writing dynamically loaded plugins for a rust program
[20:19:47] <acrichto> ercxx__: one possibility is through std::unstable::dynamic_lib, but that hasn't been explored a whole lot just yet
[20:20:26] <ercxx__> Thanks
[20:20:27] <olsonjeffery> i believe there's no dynamic loading for rust libs.. but c libs work
[20:20:34] <olsonjeffery> uv has an api for it, but we haven't bound to it
[20:21:08] <cmr> olsonjeffery: works fine with rust libs, you just need a defined symbol name.
[20:21:21] <TMaster> what's a 0u8 in rust? or more precisely, what's the zero for?
[20:21:27] <cmr> TMaster: it's the value
[20:21:29] <kmc> it's a zero of type u0
[20:21:32] <kmc> u8 i mean
[20:21:33] <cmr> u8 is just a type annotation
[20:21:40] <kmc> meaning unsigned, 8 bits
[20:21:53] <TMaster> cmr: ...well, now i feel dumb. i was expecting something really advanced. thanks!
[20:22:18] <bstrie> rusti: 0x0au8
[20:22:19] -rusti- 10u8
[20:22:28] <bstrie> those wacky hex literals
[20:22:52] <kmc> rusti: 0xa__b__c__d__e
[20:22:53] -rusti- 703710
[20:22:55] <bstrie> rusti: 0X10
[20:22:55] -rusti- <anon>:7:10: 7:13 error: expected one of `;`, `}` but found `X10`
[20:22:56] -rusti- <anon>:7          0X10
[20:22:56] -rusti-                    ^~~
[20:22:56] -rusti- application terminated with error code 101
[20:22:59] <bstrie> rusti: 0x10
[20:23:00] -rusti- 16
[20:23:06] <bstrie> this makes me inordinately happy
[20:23:41] <bstrie> 0xABCDEFu32
[20:23:44] <cmr> bstrie: ...you didn't know we had hex literals?
[20:24:00] <bstrie> cmr: I didn't know if they could be used with the type annotations
[20:24:09] <cmr> oh
[20:24:11] <kmc> 0b_1111_0000_1010_0101_u16
[20:24:13] <kmc> rusti: 0b_1111_0000_1010_0101_u16
[20:24:14] -rusti- 61605u16
[20:24:19] <mcpherrin> I <3 _ in literals
[20:24:47] <mcpherrin> and 0b literals
[20:24:57] <mcpherrin> makes working with hardware registers infinity easier
[20:24:57] <bstrie> rusti: ()()
[20:24:58] -rusti- <anon>:7:9: 8:5 error: expected function but found `()`
[20:24:58] -rusti- <anon>:7          ()()
[20:24:58] -rusti- <anon>:8     };
[20:24:58] -rusti- error: aborting due to previous error
[20:24:58] -rusti- application terminated with error code 101
[20:25:09] <bstrie> ok, so null is not callable
[20:25:09] <myname> are there shortcuts for arbitrary bses?
[20:25:14] *** Quits: tikue_ (tikue_star@622E05CA.1564D2D3.689607DE.IP) (Ping timeout)
[20:25:29] <myname> *bases
[20:25:33] <bstrie> myname: nope, you've got binary and hex
[20:25:43] <mcpherrin> And Decimal :)
[20:25:55] <bstrie> though I think we have a macro for bases between 1 and 52
[20:26:14] <myname> no inline-base64? *fg*
[20:26:40] <cmr> bstrie: it's not null, it's unit.
[20:26:48] <bstrie> it's not null, it's nil
[20:27:06] <bstrie> I object to calling it "unit" :P
[20:27:24] <cmr> "The unit value, the only value of the type that has the same name, is written as ()."
[20:27:27] <cmr> It's definitely unit
[20:27:28] <mcpherrin> myname: there's a base64 module in extra, but no literals, no.
[20:27:29] *** Joins: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr)
[20:27:40] <bstrie> cmr: lots of rust terminology is wrong :)
[20:27:51] <cmr> bstrie: it's really not wrong in this case though ;\
[20:28:02] <bstrie> unit is not useful for teaching people what it means
[20:28:17] <cmr> The unit type is a very well-defined and widely accepted concept.
[20:28:28] *** Joins: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de)
[20:28:29] <bstrie> among people with CS degrees
[20:28:39] <bstrie> those people aren't the ones who need help
[20:29:15] <mcpherrin> As a person with a CS degree, *I* like the name Unit, but it's definitely not the most transparent name to those without
[20:29:17] <cmr> Adding additional nonstandard terminology that carries even less meaning isn't useful.
[20:29:22] <strcat> if you call it unit type they can find http://en.wikipedia.org/wiki/Unit_type ;p
[20:29:33] <strcat> nil is what some other languages call null
[20:29:55] <strcat> like obj-c
[20:29:56] <mcpherrin> I would rather Rust not have the "A Monad is just a monoid in the category  of endofuctors" problem
[20:29:58] <Ms2ger> nil is half a football score
[20:30:24] <Ralith> mcpherrin: the problem wherein people make CS jokes?
[20:30:26] <strcat> mcpherrin: 'unit type' is not any harder than 'tuple'
[20:30:29] <doomlord_> self taught here. 
[20:30:37] <cmr> I'm also self taught
[20:30:41] <bstrie> strcat: python has tuples
[20:30:45] <cmr> ..although I'm in uni now
[20:30:55] <strcat> bstrie: plenty of languages don't, and python tuples aren't related to rust tuples
[20:31:00] <bstrie> not that that's a great example of tuples
[20:31:10] <bstrie> but at least the term will be familiar
[20:31:13] <strcat> python's tuple vs list is entirely based on hashing
[20:31:22] <strcat> python doesn't implement hashing for mutable types
[20:31:25] <bstrie> unit is just as bad of a name as "string"
[20:31:30] <strcat> so they have tuple, frozenset, etc.
[20:31:32] <Ms2ger> In any case, having read Pierce is quite useful if you want to understand rust :)
[20:31:33] <cmr> And enum and static
[20:31:44] <strcat> bstrie: 'empty tuple', then
[20:31:53] <Ralith> bstrie: from a ground state, 'nil' and 'null' are no more obvious than 'unit'
[20:31:54] <bstrie> rusti: (,)
[20:31:54] -rusti- <anon>:7:10: 7:11 error: unexpected token: `,`
[20:31:55] -rusti- <anon>:7          (,)
[20:31:55] -rusti-                    ^
[20:31:55] -rusti- application terminated with error code 101
[20:32:05] <strcat> bstrie: ()
[20:32:07] <strcat> er
[20:32:09] <bstrie> Ralith: I wanted to call it void :P
[20:32:09] <strcat> rusti: ()
[20:32:10] -rusti- ()
[20:32:11] <strcat> rusti: (1,)
[20:32:12] -rusti- (1,)
[20:32:13] <strcat> rusti: (1,2)
[20:32:14] -rusti- (1, 2)
[20:32:17] <bstrie> or just "nothing"
[20:32:35] <bstrie> though that would probably lead to an abbot-and-costello situation
[20:32:47] <Ralith> bstrie: both of those intuitively identify something with zero values, not one.
[20:32:50] <strcat> we can call it an empty tuple and move the impls to the tuple module
[20:33:09] <bstrie> the zero-tuple
[20:33:24] <strcat> yes
[20:33:26] <strcat> that works better
[20:33:32] <tiffany> [16:31] <bstrie> unit is just as bad of a name as "string"
[20:33:35] <bstrie> rusti: ((),)
[20:33:36] -rusti- ((),)
[20:33:36] <tiffany> is there a better name?
[20:33:57] <bstrie> tiffany: I've hated that name ever since I first learned java :P
[20:34:04] <myname> rusti: (())
[20:34:05] -rusti- ()
[20:34:10] <myname> what
[20:34:12] <bstrie> weird
[20:34:14] <cmr> what indeed
[20:34:20] <bstrie> rusti: (1)
[20:34:20] <Ralith> tiffany: 'text' is popular
[20:34:20] -rusti- 1
[20:34:22] <cmr> rusti: (1,)
[20:34:23] -rusti- (1,)
[20:34:24] <bstrie> ah I see
[20:34:27] <cmr> I don't
[20:34:28] <cmr> :p
[20:34:30] <strcat> ( ) is a separator
[20:34:37] <strcat> rusti: ( 5 )
[20:34:38] -rusti- 5
[20:34:39] <tiffany> I didn't think text would apply to all situations but I'm having trouble finding a counterexample
[20:34:40] <cmr> rusti: let x: () = (1,)
[20:34:40] <fran> rusti: ((),)
[20:34:40] -rusti- <anon>:8:4: 8:5 error: expected `;` but found `}`
[20:34:41] -rusti- <anon>:8     };
[20:34:41] -rusti-              ^
[20:34:41] -rusti- application terminated with error code 101
[20:34:41] -rusti- ((),)
[20:34:42] *** Quits: carllerche (carllerche@moz-CDE5367B.dsl.static.sonic.net) (Quit: carllerche)
[20:34:42] <strcat> rusti: ( 5  + 5 ) * 2
[20:34:43] -rusti- 20
[20:34:46] <cmr> rusti: let x: () = (1,);
[20:34:47] -rusti- <anon>:7:21: 7:25 error: mismatched types: expected `()` but found `(<VI0>)` (expected () but found tuple)
[20:34:47] -rusti- <anon>:7          let x: () = (1,);
[20:34:47] -rusti-                               ^~~~
[20:34:47] -rusti- error: aborting due to previous error
[20:34:48] <strcat> rusti: ( 5  ) * 2
[20:34:49] -rusti- application terminated with error code 101
[20:34:50] -rusti- 10
[20:35:04] <Ralith> tiffany: the situations wherein it does not apply turn out to be situations wherein it's the wrong representation anyway.
[20:35:08] <tiffany> yeah
[20:35:09] <myname> rusti: let a: int = (); a
[20:35:10] -rusti- <anon>:7:22: 7:24 error: mismatched types: expected `int` but found `()` (expected int but found ())
[20:35:10] -rusti- <anon>:7          let a: int = (); a
[20:35:10] -rusti-                                ^~
[20:35:10] -rusti- error: aborting due to previous error
[20:35:10] -rusti- application terminated with error code 101
[20:35:20] <tiffany> if it's not text then it should probably be in a [u8]
[20:35:47] <tiffany> utf8 seems like an appropriate name as well
[20:36:54] <Ralith> utf8 is an encoding
[20:37:03] <kmc> the semantics of str are that it's a sequence of unicode codepoints
[20:37:08] <tiffany> ralith: f64 is an encoding
[20:37:13] <kmc> it's an implementation detail that these are stored in memory as utf8
[20:37:20] <kmc> the type i32 doesn't say whether it's little or big endian
[20:37:23] <strcat> kmc: it's exposed in the string APIs
[20:37:30] <cmr> kmc: if that were true, s[x] would return a char and not a byte.
[20:37:32] <strcat> that it's UTF-8
[20:37:37] <tiffany> it's an implementation detail that f64 is IEEE 745
[20:37:41] <kmc> right, I don't like that though ;P
[20:37:51] <strcat> kmc: ~[char] is a sequence of code points ;p
[20:37:59] *** Joins: tikue_ (tikue_star@80E31A8C.E6CB677E.689607DE.IP)
[20:38:00] <Ralith> cmr: it returns a byte? geez.
[20:38:03] <kmc> I was going to add that what I say is not true in Rust today
[20:38:08] <tiffany> ralith: it's pretty easy to not deal with bytes
[20:38:09] <cmr> "A value of type str is a Unicode string, represented as a vector of 8-bit unsigned bytes holding a sequence of UTF-8 codepoints."
[20:38:15] <tiffany> it just requires a slight amount of knowledge beforehand
[20:38:16] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[20:38:19] <strcat> please work silly thing
[20:38:21] <cmr> (~the manual)
[20:38:24] <strcat> pleeeeeeease
[20:38:26] <strcat> after all these days
[20:38:28] <strcat> such a silly problem
[20:38:31] <Ralith> that seems gratuitous
[20:38:41] <tiffany> ralith: if you are using indexing on a unicode string then you're doing it wrong
[20:38:55] <strcat> well, indexing by code point isn't very meaningful
[20:39:03] <strcat> but there are times when you do need to index by something else
[20:39:07] <tiffany> I think there is a function to index by code point if you really need it
[20:39:09] <Ralith> tiffany: nonsense; you may be walking codepoints.
[20:39:16] <strcat> in a terminal or text editor you often need to index by grapheme
[20:39:18] <tiffany> ralith: walking is part of the string api
[20:39:29] <cmr> .char_at
[20:39:30] <Ralith> no, walking is an abstract class of operations.
[20:39:31] <strcat> Ralith: yeah but you won't be indexing by code points
[20:39:31] <cmr> .char_iter
[20:39:50] <Ralith> strcat: not in rust anyway, it would seem :P
[20:39:54] <strcat> code points are a higher-level abstraction than the UTF-8 bytes
[20:40:01] <strcat> but they are not useful for indexing at an application level
[20:40:06] <strcat> Ralith: when exactly would it ever be useful?
[20:40:16] <strcat> if you have a grid of monospace characters, code points are not very relevant
[20:40:26] <strcat> if you want the nth character in a row, it is *not* the nth code point
[20:40:41] <strcat> code points are often zero-width or double-width
[20:40:43] <Ralith> strcat: I know how Unicode works.
[20:40:50] <TMaster> is there a way to get a file's size, so I can properly declare a vector's size that will hold the entire file contents? i can't seem to find it in the doc.
[20:40:51] <strcat> so why do you need to index by code points? :s
[20:40:55] <Ralith> I don't need to.
[20:41:03] <Ralith> I don't reject the proposition that someone, somewhere may need to.
[20:41:15] <Blub\w> still wouldn't generalize it - if you want to modify a glyph made up of several codepoints, then indexing by codepoint makes sense 
[20:41:20] <Ralith> I find the proposition that there will never exist any such need suspect
[20:41:26] <kmc> you can use codepoint indices to remember where you are in a string
[20:41:41] <kmc> in a way that's safer than byte indices, and exposes fewer implementation details
[20:41:45] <Ralith> I'm not familiar with text rendering software, but I imagine those may be well served by operating on codepoints.
[20:41:58] <Blub\w> yes
[20:42:06] <cmr> TMaster: On master, there's FileInfo
[20:42:08] <Blub\w> more than by operating on bytes
[20:42:18] <Blub\w> with bytes they need to understand the encoding
[20:42:25] <strcat> Ralith: they iterate over code points, but don't index by them
[20:42:42] <TMaster> cmr: but how do i get the file's size from it? how do i use it?
[20:42:50] *** Joins: Adhaa (Adhaa@185C7798.83764248.55CD930E.IP)
[20:42:55] *** Joins: Valentin (Valentin@185C7798.83764248.55CD930E.IP)
[20:43:05] <Blub\w> "iterate but don't index..." -- not a distinction worth making IMO
[20:43:08] <Ralith> strcat: I don't believe you actually know that, and regardless, their current practice does not dictate what might be useful in serving their function.
[20:43:11] <cmr> TMaster: http://static.rust-lang.org/doc/master/std/rt/io/file/trait.FileSystemInfo.html
[20:43:15] <cmr> TMaster: .stat()
[20:43:56] <strcat> Blub\w: it is a distinction worth making, because it means storing as UTF-8 or UTF-16 is the usual way of doing things
[20:44:01] <strcat> not storing as UTF-32, because *it's not useful*
[20:44:18] <Ralith> there you go again declaring things useless out of hand
[20:44:23] <strcat> there's a good reason for ICU using UTF-16 internally
[20:44:45] *** Quits: Adhaa (Adhaa@185C7798.83764248.55CD930E.IP) (Ping timeout)
[20:44:45] *** Quits: Valentin (Valentin@185C7798.83764248.55CD930E.IP) (Ping timeout)
[20:45:03] <kmc> "iterate, don't index" is a fine guideline but sometimes the easiest way to implement iteration in context is indexing
[20:45:04] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[20:45:05] <tiffany> ralith: you can index by codepoint regardless
[20:45:11] <Blub\w> isn't the usefulness of encodings a different topic? ;)
[20:45:20] <tiffany> it's just not what [] does
[20:45:21] <Ralith> tiffany: yes, I did see that said.
[20:45:30] <maik> does anyone here use rust and vim? How would I build and run my code in vim?
[20:45:30] <bstrie> Ralith: ever since rust's inception our stance has been that indexing into strings is an overblown use case
[20:45:34] <kmc> btw I think we could have efficient codepoint indexing in UTF-8 strings if we really tried
[20:45:38] <cmr> maik: you don't, you run rustc yourself.
[20:45:41] <Ralith> bstrie: I agree.
[20:45:54] <TMaster> cmr: just let someobject be a std::path::Path, and then assign someobject.stat() to an int?
[20:45:55] <cmr> maik: (you could setup a makefile and do :make but really, it's easier to just do it in a shell)
[20:45:57] <Blub\w> for codepoint indexing, utf-8 is "meh"
[20:45:58] <strcat> Blub\w: it's the same topic, because you only get O(1) code point indexing with UTF-32
[20:46:08] <jeaye> maik: I use Vim when developing.
[20:46:08] <cmr> TMaster: No, *look* at the return type of stat.
[20:46:10] <Blub\w> strcat: that, right...
[20:46:18] <kmc> strcat: but you can get fast-in-practice codepoint indexing with different encodings
[20:46:21] <maik> cmr, so you always do rustc filename.rs?
[20:46:25] *** Joins: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro)
[20:46:29] <cmr> maik: yes.
[20:46:40] <jeaye> maik: Either write a makefile and use :make or just drop to a shell with :sh and build manually. Then ^d to get back to Vim.
[20:46:44] <TMaster> cmr: but what's a pathinfo then? it doesn't link to a new page. i don't know how to manipulate it.
[20:46:51] <strcat> kmc: yeah, by iterating until you find what you want (at best you can start from a later point)
[20:46:56] <kmc> you can store a utf-8 string as a linked list of chunks where each chunk also knows the number of codepoints, and maybe a flag saying whether it's all ASCII
[20:46:58] <Ralith> bstrie: for starters, "indexing in strings" is not well-defined.
[20:47:05] <jeaye> I always write Makefiles for my projects though, so it's easier.
[20:47:07] <kmc> and you can probably give that some skip list like structure too
[20:47:07] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:47:17] <cmr> TMaster: Path implements FileSystemInfo, you can call .stat() on a path.
[20:47:17] <strcat> kmc: sure, but why would you do that? when do you ever need to index by code point?
[20:47:24] *** Joins: sinma (seb@moz-6A11C47C.fbx.proxad.net)
[20:47:24] <jeaye> maik: Errors will go to your quickfix window. See :copen
[20:47:43] <kmc> strcat: I'm just saying it's possible with UTF-8, not that it's needed
[20:47:44] <maik> jeaye, ah cool
[20:47:47] <cmr> maik: syntastic will do syntax error highlighting for rust.
[20:47:50] <kmc> I don't think the built-in str type should be this fancy, anyway
[20:48:12] <sinma> Hello, I have questions about closures. The tuto speaks about «stack closures». Is «let square = |x: int| -> uint { (x * x) as uint };» a «stack closure»?
[20:48:25] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:48:31] <bstrie> sinma: I believe so, yes
[20:48:36] <strcat> sinma: not necessarily
[20:48:36] <jeaye> sinma: Yup
[20:48:39] <strcat> you have no type there
[20:48:44] <strcat> it can be inferred as a heap closure
[20:48:53] <bstrie> strcat: we're getting rid of that though, right?
[20:48:59] <strcat> no
[20:49:02] <sinma> strcat: damn
[20:49:03] <TMaster> cmr: i think i should let this go for now and go back to something more basic. do you have any recommendations that get me started beyond the tutorial itself?
[20:49:04] <strcat> the inference will stay
[20:49:14] <TMaster> cmr: every time i try to get started with rust i hit a brick wall.
[20:49:22] <sinma> It’s only to present this to newcomers to language, how can I explain that to us’
[20:49:22] <strcat> sinma: just like 'let x = 5' without context isn't a specific type
[20:49:23] <sinma> ?
[20:49:31] <TMaster> cmr: the docs are just too terse for me at this point
[20:49:40] <sinma> How to precise the closure type then?
[20:49:44] <cmr> TMaster: the tutorial, trying to do project euler or the matasano crypto challenges.
[20:50:39] <strcat> stack closures don't exist in the type system anyway, either a stack closure or ~fn will coerce to &fn
[20:51:06] <jeaye> strcat: Are ~fns going out the window, too?
[20:51:17] <jeaye> Like @fn
[20:51:19] <sinma> &fn is referred as «stack closure»
[20:51:20] *** kimundi is now known as zz_kimundi
[20:51:34] <strcat> sinma: that's wrong
[20:51:43] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[20:51:43] *** Quits: nkoep (nik@moz-5F33FC16.vpn.rwth-aachen.de) (Ping timeout)
[20:51:46] <strcat> &fn is a borrowed closure
[20:51:50] <Ralith> kmc: there's a good case to be made for making a list-of-chunks representation standard, though perhaps not primitive.
[20:51:53] <TMaster> cmr: thanks, i'll check out euler. i think matasano is likely to give me trouble right now given that i got stuck at bigints in my own crypto homework last time.
[20:51:53] <strcat> it can point into ~fn
[20:52:06] <TMaster> cmr: (in rust i mean. ended up doing it all in c++ from that point)
[20:52:18] <strcat> jeaye: don't know, closures as implemented atm really suck
[20:52:24] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[20:52:29] <sinma> from the doc, «The most common, called a stack closure, has type &fn and can directly access local variables in the enclosing scope.»
[20:52:46] *** Joins: jordyd (jordyd@moz-A584727F.seg37.ucf.edu)
[20:52:58] <mcpherrin> sinma: A stack closure does have type &fn, but not all &fn are stack closures
[20:53:18] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[20:54:15] <strcat> rust doesn't represent stack closures in the type system so they are treated as &fn immediately
[20:54:29] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:54:29] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:54:40] <mcpherrin> Who is working on closure-reform anyways?
[20:55:20] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[20:55:20] *** zz_kimundi is now known as kimundi
[20:55:29] *** vfetwnuncszu is now known as dcrewi
[20:55:33] *** Joins: ersi (ersi@moz-BBDDAE0E.ias.bredband.telia.com)
[20:55:38] *** Quits: schubidu25 (schubidu25@moz-FAE37203.superkabel.de) (Client exited)
[20:56:14] <sinma> strcat: ok, maybe I mustn’t talk about type of closures, just present the concept and let’s them refer to the doc
[20:56:45] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[20:56:59] <kmc> jeaye: yeah pcwalton wants to get rid of ~fn anyway
[20:57:17] <kmc> it would become ~Function where Function is a trait
[20:57:21] <jeaye> kmc: So I've heard.
[20:57:31] <kmc> if the 'call' method of that trait takes self by value then that's like once fn, which is nice
[20:57:35] <jeaye> kmc: Aye, like what the @fn replacement idiom has done.
[20:57:57] <mcpherrin> Does rust currently ever store executable code on the stack?
[20:58:02] <strcat> mcpherrin: no
[20:58:07] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[20:58:13] <mcpherrin> Okay, so closures are fully .text section code
[20:58:16] <strcat> either way, C++11 lambdas are leagues ahead of what we have
[20:58:22] <mcpherrin> that's good.  Executable stacks suck :)
[20:58:46] <kmc> GHC has a feature to turn a Haskell closure into a C function pointer, which is pretty handy, and that involves a little runtime codegen
[20:58:50] <kmc> but not on the stack
[20:58:50] <strcat> until we have proper stack closures, using iterators is going to suck
[20:58:52] <tiffany> making closures into a trait makes me think of java-style faux closures
[20:58:54] <tiffany> which make me sad
[20:58:57] <pcwalton> I wouldn't say "leagues ahead" but we have an extra level of indirection
[20:59:04] <strcat> pcwalton: I mean semantics wise
[20:59:07] <jeaye> strcat: Oh?
[20:59:08] <strcat> can't return iterators
[20:59:14] <strcat> if you use map, filter, etc.
[20:59:40] <pcwalton> yes
[20:59:41] <tiffany> luajit also has such a feature, kmc
[21:00:00] <pcwalton> fn foo<T:fn(whatever)->whatever>() is backwards compatible with what we have now, isn't it?
[21:00:00] <strcat> an &fn can't outlive the scope you take it in, so if you store &fn, that can't outlive the scope
[21:00:17] <strcat> pcwalton: at a language level
[21:00:19] <strcat> but not a library one
[21:00:28] <pcwalton> why not?
[21:00:29] <kmc> tiffany: cool
[21:00:33] <pcwalton> just because we'd want to update the iterators?
[21:00:36] <strcat> pcwalton: because iterators use &fn atm
[21:00:45] <strcat> I think I'm going to switch them all to traits
[21:00:49] <strcat> and impl the traits for &fn and extern fn
[21:00:53] *** Quits: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP) (Quit: nn)
[21:00:59] <pcwalton> that's a good idea
[21:01:00] <strcat> later, it can be done for stack closures
[21:01:01] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[21:01:03] <pcwalton> make sure they're backwards compatible
[21:01:11] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:01:13] <pcwalton> I think it is clear we want T:fn()->() at some later date
[21:01:52] *** Quits: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net) (Quit: KVIrc 4.0.4 Insomnia http://www.kvirc.net/)
[21:02:15] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:02:18] *** Quits: slimer (Mibbit@moz-FD9A8D70.tvc-ip.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:02:23] *** flaper87 is now known as flaper87|afk
[21:02:57] *** Parts: ersi (ersi@moz-BBDDAE0E.ias.bredband.telia.com) ()
[21:03:14] <strcat> trait FilterPredicate<A> { fn call(&A) -> bool; }
[21:03:18] <strcat> something like that...
[21:03:39] <strcat> and I'll make lambdas without captures be extern fn
[21:03:44] <strcat> so at least it will only be painful if you capture ;p
[21:04:35] <strcat> and you'd have a workaround of making your own "stack closure" by making a struct + impl'ing the trait
[21:04:52] *** Quits: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr) (Ping timeout)
[21:06:25] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[21:06:51] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[21:07:41] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:11:02] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[21:11:17] *** Joins: nkoep (nik@moz-D6274D8D.pool.mediaways.net)
[21:11:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:12:01] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:12:08] *** Joins: nejucomo (Adium@moz-AC868E2D.hfc.comcastbusiness.net)
[21:13:46] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:13:57] *** Quits: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de) (Ping timeout)
[21:14:13] *** Joins: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com)
[21:14:32] *** Quits: heftig (heftig@moz-8D637857.dip0.t-ipconnect.de) (Ping timeout)
[21:15:16] *** Joins: jmgrosen (jmgrosen@moz-BF80C818.sbcc.edu)
[21:17:21] *** Joins: heftig (heftig@moz-584F8497.dip0.t-ipconnect.de)
[21:17:25] *** Quits: sinma (seb@moz-6A11C47C.fbx.proxad.net) (Quit: Konversation terminated!)
[21:19:42] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:20:50] <strcat> meh
[21:20:56] <strcat> unsafe_no_drop_flag is just broken atm
[21:21:18] *** jorendorff_away is now known as jorendorff
[21:21:19] <strcat> or at least the way we do cleanups is broken
[21:22:05] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:22:07] *** Joins: wting_ (wting@moz-B19BCE71.austin.res.rr.com)
[21:22:27] *** Parts: wting_ (wting@moz-B19BCE71.austin.res.rr.com) ()
[21:22:50] <strcat> pcwalton: do you know where the code is to actually zero the drop flag?
[21:23:06] <pcwalton> strcat: I forget, sorry
[21:23:17] <pcwalton> it's somewhere in the code that does cleanpus
[21:23:19] <pcwalton> cleanups*
[21:23:22] <strcat> I just see all this build-up of cleanups but not the consumer of them
[21:24:44] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[21:27:27] *** Quits: nrc (nrc@moz-3576D163.cable.virginmedia.com) (Ping timeout)
[21:27:49] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[21:27:54] *** Quits: jmgrosen (jmgrosen@moz-BF80C818.sbcc.edu) (Quit: jmgrosen)
[21:27:57] <strcat> huh
[21:28:12] <strcat> there's a store to the drop flag in the *drop glue*
[21:28:21] <strcat> that can't be right
[21:28:35] *** kimundi is now known as zz_kimundi
[21:28:52] <strcat> I think immediates with destructors are just broken
[21:29:04] <strcat> hrm
[21:29:31] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[21:30:13] *** Quits: slackito (slackito@moz-7779E4A6.dyn.user.ono.com) (Quit: leaving)
[21:32:07] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[21:34:18] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: n)
[21:34:27] *** Quits: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP) (Ping timeout)
[21:35:22] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[21:35:28] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[21:38:32] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[21:39:07] <cmr> http://cmr.github.io/blog/2013/10/06/the-state-of-rust-0-dot-8/
[21:40:30] <thewonderidiot> oh sweet
[21:40:32] <thewonderidiot> thanks cmr!
[21:40:35] *** Joins: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net)
[21:41:01] *** Joins: pauls (pauls@9205DEB4.9B5854D0.10894A1E.IP)
[21:41:49] *** Quits: nejucomo (Adium@moz-AC868E2D.hfc.comcastbusiness.net) (Quit: Leaving.)
[21:43:19] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[21:43:41] <SiegeLord> How does that @ symbol work in pattern matching?
[21:43:47] <strcat> cmr: what walls are people hitting with the type system?
[21:44:13] * strcat didn't look at that section earlier
[21:44:16] <cmr> SiegeLord: It binds a name to the result of the match.
[21:44:20] <cmr> Or, of the pattern.
[21:44:44] <cmr> rusti: match 6 { x@1..10 { println(x.to_str()); }, _ => println("nope") }
[21:44:44] -rusti- <anon>:7:27: 7:28 error: expected `=>` but found `{`
[21:44:45] -rusti- <anon>:7          match 6 { x@1..10 { println(x.to_str()); }, _ => println("nope") }
[21:44:45] -rusti-                                     ^
[21:44:45] -rusti- application terminated with error code 101
[21:44:50] <cmr> rusti: match 6 { x@1..10 => { println(x.to_str()); }, _ => println("nope") }
[21:44:51] -rusti- pastebinned 35 lines of output: http://sprunge.us/NSXO
[21:44:52] *** Quits: tikue_ (tikue_star@80E31A8C.E6CB677E.689607DE.IP) (Ping timeout)
[21:44:53] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[21:44:59] <cmr> rusti: match 6u { x@1..10 => { println(x.to_str()); }, _ => println("nope") }
[21:45:00] -rusti- 6
[21:45:00] -rusti- ()
[21:45:09] <kmc> oh, that's confusing, because you can also dereference @-boxes with @ in patterns
[21:45:37] <strcat> kmc: afaik @ for pointers will be removed, and we could use 'in' for patterns instead
[21:46:16] <kmc> you mean that @-boxes as a whole are going away?
[21:46:24] <cmr> strcat: lack of overloads and some other things that I haven't fully payed attention to, ask around in #rust-gamedev (that's where most of the discussion I've seen about it has been)
[21:46:31] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[21:46:31] <SiegeLord> Ah, I was using @ backwards
[21:46:35] <strcat> kmc: the syntax in the language for them, yes
[21:46:51] <strcat> cmr: we're never going to have overloading beyond traits
[21:47:03] <strcat> seems like personal issues with the language, not type system limitations
[21:47:12] <kmc> strcat: oh, I thought keeping @T as sugar for Gc<T> was still on the table
[21:47:36] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[21:48:01] <strcat> kmc: at this point I think anything that's on the table is going to be removed or put behind an experimental flag
[21:48:09] <strcat> that's what needs to happen for 1.0
[21:48:14] <kmc> ok
[21:48:42] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[21:48:55] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[21:49:53] <strcat> putting @ behind a flag would be an easy way to 'remove' it as a backwards compatibility issue
[21:51:22] *** jorendorff is now known as jorendorff_away
[21:53:19] *** Quits: jordyd (jordyd@moz-A584727F.seg37.ucf.edu) (Ping timeout)
[21:53:51] *** Joins: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP)
[21:54:32] *** Quits: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de) (Quit: Leaving)
[21:54:44] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[21:55:07] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[21:56:41] *** Quits: Ferreus (ferreus@moz-52FCFD23.pools.arcor-ip.net) (Quit: WeeChat 0.4.1)
[21:56:43] *** Joins: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr)
[21:56:51] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[21:58:29] *** Quits: Jesin (Jessin_@moz-7578DB84.cc.lehigh.edu) (Ping timeout)
[21:58:44] *** Joins: jonathanmarvens (jonathanma@7A1893CC.D5C9C721.BA2A2C44.IP)
[21:58:51] *** Joins: Jesin (Jessin_@moz-7578DB84.cc.lehigh.edu)
[21:59:36] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[22:01:08] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:02:11] *** Quits: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[22:02:40] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:02:44] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[22:03:02] *** Quits: jonathanmarvens (jonathanma@7A1893CC.D5C9C721.BA2A2C44.IP) (Input/output error)
[22:03:30] *** Joins: jonathanmarvens (jonathanma@7A1893CC.D5C9C721.BA2A2C44.IP)
[22:05:02] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[22:05:03] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[22:05:19] *** Quits: jonathanmarvens (jonathanma@7A1893CC.D5C9C721.BA2A2C44.IP) (Ping timeout)
[22:06:00] *** Quits: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[22:06:54] *** Quits: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP) (Ping timeout)
[22:07:30] *** Quits: nkoep (nik@moz-D6274D8D.pool.mediaways.net) (Ping timeout)
[22:11:04] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[22:11:38] *** Joins: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de)
[22:14:08] <mark_edward> is there any way to build a static binary with rustc yet?
[22:14:27] <pcwalton> no
[22:15:03] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[22:15:30] <strcat> can only build a static binary if you don't use the stdlib
[22:16:08] <mcpherrin> Could you not --emit-llvm the standard library then make a static binary yourself?
[22:16:32] <strcat> the stdlib needs to link against librustrt.so
[22:16:50] *** Quits: TMaster (quassel@moz-D7771805.upc-h.chello.nl) (Client exited)
[22:17:00] <strcat> and it probably requires glibc as a hard dep on linux
[22:17:41] <mcpherrin> ... and of course you can't statically link glibc.
[22:17:49] <strcat> yep :)
[22:17:55] <kmc> you can, but it wants the dynamic libraries around at runtime anyway
[22:18:29] <mcpherrin> I'd still be interested in getting static-linking-except-glibc working
[22:18:31] *** Joins: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP)
[22:18:34] *** Joins: nejucomo (Adium@moz-B62B9944.public.monkeybrains.net)
[22:18:55] <mcpherrin> (I don't have time for rust dev right now though :( )
[22:19:22] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[22:19:30] *** Quits: nejucomo (Adium@moz-B62B9944.public.monkeybrains.net) (Quit: Leaving.)
[22:20:24] *** Joins: steveh (Mibbit@moz-1770FFAB.lightspeed.ltrkar.sbcglobal.net)
[22:22:03] *** Joins: spott_ (spott@moz-5158CBDE.colorado.edu)
[22:22:03] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[22:22:07] <lex> Hi, student here with a quick question. I have a procedure `fn foo<U, T>(function: &fn(U) -> T) { ... |function| { function(i) } ... }`. The compiler gives me 'error: the type of this value must be known in this context', and I'm not sure what the fix is. Any tips?
[22:22:09] *** Quits: Guest (textual@34641662.FB4DE631.66C78B76.IP) (Quit: Textual IRC Client: www.textualapp.com)
[22:22:12] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:22:18] *** Joins: nkoep (nik@moz-6334A92.vpn.rwth-aachen.de)
[22:24:56] *** Joins: Guest (textual@34641662.FB4DE631.66C78B76.IP)
[22:25:22] <steveh> lex: where is i coming from, just curious?
[22:25:36] <kmc> can you pastebin the full code and error message?
[22:25:43] *** Quits: threecreepio (jdp@moz-12614F1E.cust.bredbandsbolaget.se) (Quit: threecreepio)
[22:26:00] <sfackler> lex: it means that the compiler can't figure out the type of something so it needs you to manually specify it. could you post the whole thing up on a gist or pastebin or something?
[22:26:42] <kmc> if you have a parameter named 'function' and then later you do |function| { ... } then you're shadowing that name 'function'
[22:26:51] <kmc> within the body of the lambda
[22:26:56] <kmc> which might be a source of confusion
[22:28:17] <myname> lex: don' you want |i| { function(i) } ?
[22:28:43] *** zz_kimundi is now known as kimundi
[22:28:52] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[22:29:05] <jason_> how would i do something like this? fn add2<T: Num>(n: T) -> T { n + 2 } add2(1)
[22:29:30] <lex> kmc, sfackler, myname: http://pastebin.com/fh2tLX4V
[22:29:41] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[22:29:50] <kmc> jason_: what's the problem? that the 2 isn't generic?
[22:29:54] <lex> sfackler: I tried manually specifying the function's type, didn't help.
[22:30:19] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[22:30:19] *** Quits: spott_ (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[22:30:29] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[22:30:31] <jason_> kmc: yeah and i can't figure out how to cast it as T
[22:30:39] <kmc> jason_: I think http://static.rust-lang.org/doc/master/std/num/trait.FromPrimitive.html
[22:30:42] <kmc> haven't used this though
[22:30:56] <jason_> kmc: also in my real code i get this fun one: binary operation - cannot be applied to type `T`
[22:31:40] <jason_> kmc: that doesn't really help me, i don't know what T is (could be float or int)
[22:31:56] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[22:32:37] <kmc> rusti: fn add2<T: Num+FromPrimitive>(n: T) -> T { n + FromPrimitive::from_u64(2).unwrap() } (add2(1u8), add2(1f64))
[22:32:38] -rusti- (3u8, 3f64)
[22:32:39] <sfackler> lex: the issue (I think) is that rustc can't figure out the type of the "function" argument in the lambda you're passing to Future::spawn. That lambda definition creates a lambda that takes one parameter called "function".
[22:32:49] <sfackler> that "function" is not the same as the "function" parameter to map
[22:32:54] <kmc> jason_: ^
[22:33:15] <kmc> I have a feeling there's a better way, but this seems to work
[22:33:30] <ercxx__> Is rust supposed to work automagically in vim's tagbar?
[22:33:46] <kmc> for a literal zero you could use Zero::zero()
[22:33:50] <ercxx__> I mean 'is tagbar supposed to work with rust'
[22:34:00] <lex> sfackler: ah, okay. I understand.
[22:34:04] <ercxx__> without manually generating tags
[22:34:26] <kmc> rusti: FromPrimitive::from_u64::<u8>(512)
[22:34:28] -rusti- pastebinned 7 lines of output: http://sprunge.us/YIVJ
[22:34:45] <kmc> rusti: FromPrimitive<u8>::from_u64(512)
[22:34:46] -rusti- pastebinned 11 lines of output: http://sprunge.us/TXgb
[22:35:36] <jason_> rusti: fn add2<T: Num+FromPrimitive>(n: T) -> T { let mut n = n; n += FromPrimitive::from_u64(2).unwrap(); n } (add2(1u8), add2(1f64))
[22:35:37] -rusti- <anon>:7:67: 7:108 error: binary operation + cannot be applied to type `T`
[22:35:37] -rusti- <anon>:7          fn add2<T: Num+FromPrimitive>(n: T) -> T { let mut n = n; n += FromPrimitive::from_u64(2).unwrap(); n } (add2(1u8), add2(1f64))
[22:35:37] -rusti-                                                                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[22:35:37] -rusti- error: internal compiler error: no type for node 34: callee_scope FromPrimitive::from_u64(2).unwrap() (id=34) in fcx 0x7f706ac5f1f0
[22:35:39] -rusti- application terminated with error code 101
[22:35:52] *** Quits: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de) (Ping timeout)
[22:36:01] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[22:36:39] <jason_> thats my problem :\
[22:37:09] <lex> sfackler: I'm still a little bit new to closures. My intention was to have the function that's passed into map be called on some data. I changed it so that the closure uses |f| instead of |function|, but now I get mismatched types: expected `~fn:Send() -> U` but found `~fn:Send(<V1036>) -> U`
[22:37:14] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[22:37:24] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[22:37:31] *** Quits: steveh (Mibbit@moz-1770FFAB.lightspeed.ltrkar.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:38:07] <lex> sfackler: is there a way to specify that |f| takes in a parameter?
[22:38:37] <strcat> |x, y| x + y
[22:38:43] <strcat> is a closure taking 2 parameters
[22:38:54] <sfackler> |f| {...} is a closure taking 1 parameter
[22:39:02] <sfackler> the issue is that Future.spawn expects a closure taking no parameters
[22:39:10] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[22:39:11] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:39:32] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:39:47] <sfackler> if you hvae something like ... let f = ...; Future::spawn(|| { // use f here }) it'll work
[22:39:51] <dandy> jason_, wouldnt you also need T:Add<u64,T> ?
[22:40:00] <dandy> or whatever u64 is as a type?
[22:40:07] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:40:31] <lex> strcat, sfackler: Oh, okay! Thanks
[22:40:34] *** Quits: Jesin (Jessin_@moz-7578DB84.cc.lehigh.edu) (Quit: Leaving)
[22:41:19] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:41:51] <dandy> jason_, because with n+= ... u64 the types are T = T + u64 so you need a T that can have u64 added to it
[22:42:25] *** Quits: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr) (Ping timeout)
[22:42:44] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[22:43:02] <jason_> dandy: that is what FromPrimitive takes care of
[22:43:06] <kmc> dandy: it's not adding a u64 though, it's adding the result of... yeah
[22:43:26] <dandy> oh I see
[22:43:37] <kmc> rusti: fn add2<T: Num+FromPrimitive>(n: &mut T) { n += FromPrimitive::from_u64(2).unwrap(); }
[22:43:38] -rusti- <anon>:7:52: 7:93 error: binary operation + cannot be applied to type `&mut T`
[22:43:38] -rusti- <anon>:7          fn add2<T: Num+FromPrimitive>(n: &mut T) { n += FromPrimitive::from_u64(2).unwrap(); }
[22:43:38] -rusti-                                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[22:43:38] -rusti- error: internal compiler error: no type for node 29: callee_scope FromPrimitive::from_u64(2).unwrap() (id=29) in fcx 0x7f9aa5864e30
[22:43:40] -rusti- application terminated with error code 101
[22:43:46] <kmc> rusti: fn add2<T: Num+FromPrimitive>(n: &mut T) { *n += FromPrimitive::from_u64(2).unwrap(); }
[22:43:47] -rusti- <anon>:7:52: 7:94 error: binary operation + cannot be applied to type `T`
[22:43:47] -rusti- <anon>:7          fn add2<T: Num+FromPrimitive>(n: &mut T) { *n += FromPrimitive::from_u64(2).unwrap(); }
[22:43:47] -rusti-                                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[22:43:49] -rusti- error: internal compiler error: no type for node 31: callee_scope FromPrimitive::from_u64(2).unwrap() (id=31) in fcx 0x7f2f39464e30
[22:43:52] -rusti- application terminated with error code 101
[22:44:00] <kmc> I don't know, it seems like a compiler bug to me!
[22:45:07] <strcat> += won't work on a generic type
[22:45:10] <strcat> it's a missing error message
[22:45:19] <aatch> kmc, assign ops are mostly broken
[22:45:21] <strcat> there's no trait for in-place arithmetic operations
[22:45:26] <aatch> and somewhat disabled
[22:45:26] <strcat> aatch: they're just removed
[22:45:31] <kmc> ah, it's not just sugar?
[22:45:34] <jason_> strcat: it fails with n = n + 1 though also
[22:45:42] <strcat> kmc: not sugar
[22:45:43] <aatch> kmc, no, because you can't sugar it.
[22:45:44] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[22:45:54] <strcat> kmc: hardcoded for built-in types
[22:45:54] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Ping timeout)
[22:45:56] <aatch> doesn't work properly.
[22:46:45] <jason_> so i need to call n.add() ?
[22:47:00] <kmc> aatch: what do you mean by that?
[22:47:12] <kmc> rusti: fn add2<T: Num+FromPrimitive>(n: &mut T) { *n = *n + FromPrimitive::from_u64(2).unwrap(); }
[22:47:13] -rusti- ()
[22:47:33] <aatch> kmc, well people think you can just do 'a += b' => 'a = a + b', but it doesn't work like that.
[22:48:05] <kmc> oh right
[22:48:18] <kmc> because that would be a move and such
[22:48:20] <aatch> there's lots of edge cases and stuff that break memory all sorts of assumptions in rust.
[22:48:24] <kmc> and would construct a temporary
[22:48:48] <strcat> and would just be inefficient, so we wouldn't want it if it did work ;p
[22:48:54] <kmc> yeah
[22:49:02] <strcat> it's only fine to do it like that for primitives
[22:49:17] <strcat> and maybe some fairly boring aggregates
[22:49:38] <aatch> There is a vague plan for AssignOp traits, but nothing has happened yet.
[22:49:47] <aatch> It shouldn't be too hard to do though.
[22:50:42] <jason_> fn add2<T: Num+FromPrimitive>(n: T) -> T { n.add(&FromPrimitive::from_u64(2).unwrap()) } (add2(1u8), add2(1f64))
[22:50:50] <jason_> looks like the best i can do right now
[22:51:12] *** Joins: dcrewi (david@moz-AB8667CE.gyrae.net)
[22:51:45] <kmc> that's not going to add in place though
[22:51:55] <kmc> it's the same as the example I gave with + which also worked
[22:52:03] <jason_> fn add2<T: Num+FromPrimitive>(n: T) -> T { let mut n = n; n = n.add(&FromPrimitive::from_u64(2).unwrap()); n } (add2(1u8), add2(1f64))
[22:52:04] <sfackler> are there technical issues blocking AssignOp traits, or is it just that no-one's decided to do it yet?
[22:52:38] <aatch> sfackler, ChrisMorgan did some work but I think he hit some issues. Doesn't seem like there are any technical issues
[22:52:42] <lex> Thanks for all the nudges in the right direction. This should be my last question for a little bit. `futures.push(future::Future::spawn_with(|x| function(x), |f| ...` is giving me `error: instantiating a type parameter with an incompatible type `&fn<no-bounds>(T) -> U`, which does not fulfill `Send`
[22:53:19] <sfackler> lex: &fn's cant be sent to different tasks
[22:53:28] *** Joins: tikue_ (tikue_star@80E31A8C.E6CB677E.689607DE.IP)
[22:53:37] <sfackler> since the &fn may go away before the task finishes running
[22:54:01] <lex> sfackler: oh...gotcha. thanks!
[22:54:27] <sfackler> spawn takes a ~fn, but I don't know if that'd work in your case since the fn passed in would have to be cloned
[22:55:29] *** Quits: tikue_ (tikue_star@80E31A8C.E6CB677E.689607DE.IP) (Ping timeout)
[22:56:05] <lex> sfackler: could I make an owned closure of the function? Something like `let temp = |x| ~f(x);`?
[22:56:31] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:56:45] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[22:56:51] *** Joins: vmx (vmx@moz-47666BD3.pools.arcor-ip.net)
[22:57:19] <sfackler> lex: I think in that case you'd run into the issue that temp isn't allowed to capture a stack closure
[22:57:40] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[22:57:44] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[22:58:17] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[22:59:25] <lex> sfackler: hm...I'm just messing around with types now. Is there even a way to do this?
[23:13:23] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[23:14:42] <acrichto> hm, if you build your own shared library how can you tell an executable to find it at runtime? I thought you just had to modify DYLD_LIBRARY_PATH on osx...
[23:16:16] <kmc> doesn't work?
[23:16:21] *** Quits: vmx (vmx@moz-47666BD3.pools.arcor-ip.net) (Quit: Leaving)
[23:16:51] <acrichto> sadly no :(, and otool -L shows the library for the exe, and it's in the same spot (both in the same directory)
[23:17:04] <kmc> how about passing -Wl,-rpath=/whatever at the link stage
[23:17:17] <kmc> is that a thing on OS X?
[23:17:35] <acrichto> maybe?
[23:20:50] *** Joins: ofeldt (ofeldt@moz-96B4EBD.dip0.t-ipconnect.de)
[23:21:37] *** Joins: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de)
[23:21:40] <acrichto> hm I suppose it's complaining that a symbol wasn't found, not that the library wasn't found, so perhaps I didn't export it correctly...
[23:21:56] *** Quits: ofeldt- (ofeldt@moz-2EA8CC4F.dip0.t-ipconnect.de) (Ping timeout)
[23:22:30] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[23:23:37] <acrichto> haha it was a typo the whole time
[23:23:41] * acrichto sad
[23:23:41] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Quit: Leaving)
[23:23:52] <acrichto> test cfmt ... bench: 284 ns/iter (+/- 11)
[23:23:52] <acrichto> test rfmt ... bench: 283 ns/iter (+/- 14)
[23:24:00] <acrichto> success!
[23:24:12] <acrichto> c's sprintf vs rust's format
[23:24:26] <strcat> sprintf is really slow ;p
[23:24:35] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Ping timeout)
[23:24:36] <acrichto> at least we're on par :(
[23:25:06] *** Joins: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net)
[23:25:08] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[23:25:09] <acrichto> we'd be absolutely terrible at printf
[23:25:17] <strcat> acrichto: how complex is it? LLVM has special cases for sprinf
[23:25:25] <acrichto> sprintf(buffer, "this %s some sample text %d%c", "is", 3, '!');
[23:25:42] <strcat> http://llvm.org/docs/doxygen/html/SimplifyLibCalls_8cpp_source.html
[23:25:49] *** Joins: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr)
[23:26:02] <strcat> (search for sprintf)
[23:26:51] <acrichto> yeah didn't hit any of those
[23:26:53] <kmc> haha we're one better!
[23:26:56] <acrichto> didn't even optimize away the malloc/free
[23:27:00] *** Joins: kasey (Kasey@64200777.9F2295A6.43BD6885.IP)
[23:27:03] *** Joins: tikue_ (tikue_star@80E31A8C.E6CB677E.689607DE.IP)
[23:27:14] *** Joins: jordyd (jordyd@moz-D8C0C984.seg173.ucf.edu)
[23:27:16] <acrichto> I'm pretty sure that our integer formatting code is probably really slow
[23:28:02] <acrichto> or not, we're 30ns faster
[23:28:13] <acrichto> interesting
[23:29:05] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[23:32:49] *** Quits: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP) (Client exited)
[23:32:53] <joelteon> if I wanted to do this in rust: [(x,y) | x <- [0..3], y <- [0..4]], how would I do it
[23:33:13] <sfackler> lex: you can pass an extern "Rust" fn(..) -> in or a clonable trait object
[23:34:11] <myname> joelteon: great question!
[23:34:27] <joelteon> xP
[23:34:45] <joelteon> i'm assuming you know what it does
[23:35:05] <myname> i do, bu i have no idea on how to do it in rust
[23:35:12] *** Joins: lazyden (lazyden@47A36AC9.35CBBBD0.F246D1AF.IP)
[23:35:12] <myname> that's why i like the question
[23:35:13] <benh> range_inclusive(0, 3).zip(range_inclusive(0, 4)).collect(), give or take, I think
[23:35:18] <joelteon> beautiful
[23:35:34] <myname> ah
[23:35:35] <strcat> benh: I don't think so
[23:35:43] <myname> well, whole other approach
[23:35:44] <strcat> list comprehensions do the cartesian product
[23:35:53] <benh> oh, right :(
[23:35:55] <joelteon> right
[23:35:57] <myname> ah, right
[23:36:02] <benh> sorry!
[23:36:02] <joelteon> right
[23:37:40] <strcat> there's flat_map
[23:37:44] * strcat shrugs
[23:38:12] <benh> time for a list comprehension macro?
[23:38:13] <joelteon> huh
[23:38:47] <myname> benh: go for it
[23:39:21] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[23:39:26] <kmc> the best would be HKT + a Monad trait + a "do" macro
[23:40:01] *** Quits: kasey (Kasey@64200777.9F2295A6.43BD6885.IP) (Connection reset by peer)
[23:40:52] <strcat> can HKT actually be done with the monomorphization strategy?
[23:40:57] <engla> I think you can implement a do macro to some extent already
[23:41:42] *** Joins: kasey (Kasey@64200777.9F2295A6.43BD6885.IP)
[23:43:04] <kmc> strcat: I was wondering that but I don't see why not
[23:43:24] <kmc> unless by "monomorphization strategy" you mean a particular implementation detail I'm unaware of
[23:43:37] <myname> list comprehensions rule
[23:44:09] *** Quits: jordyd (jordyd@moz-D8C0C984.seg173.ucf.edu) (Ping timeout)
[23:44:32] <strcat> kmc: I mean that we implement generics via generating an instance for each set of type parameters
[23:44:49] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[23:45:05] <kmc> yeah
[23:45:14] <kmc> I think that's fine with HKT, though
[23:45:22] <joelteon> o_o
[23:46:55] *** Joins: jordyd (jordyd@moz-D8C0C984.seg173.ucf.edu)
[23:47:52] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[23:47:57] *** Quits: chandler (foo@moz-F990611.mastenbrook.net) (Quit: leaving)
[23:48:01] <kmc> the types involved in codegen will be "fully applied" (otherwise it'd be a kind error) so I think it's fine
[23:48:33] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[23:50:09] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:51:09] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[23:52:58] *** Joins: alisdair (textual@moz-DBA2EB65.vc.shawcable.net)
[23:54:02] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[23:55:42] <joelteon> alright the website won't give me documentation
[23:55:45] <joelteon> how do you filter a vector
[23:55:55] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[23:56:17] <kmc> you filter the iterator
[23:56:24] <kmc> and then if you want an owned vector back, .collect()
[23:56:34] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[23:56:42] <joelteon> what method filters an iterator? i'm search the documentation but getting an aws access denied
[23:56:46] <joelteon> searching*
[23:57:07] <kmc> http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.filter
[23:57:37] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[23:57:40] <joelteon> huh
[23:58:25] <joelteon> oh, I forgot the iter()! of course vec doesn't have a filter method
[23:58:31] <joelteon> does it have a length method?
[23:58:37] <doomlord_> .len()
[23:58:54] <joelteon> neat
[23:58:59] <kmc> this was pretty hard to find in the docs, btw
[23:59:19] <joelteon> the docs are sort of hard to search, because stuff like iterator manipulation is *not* listed on the str/vec page
[23:59:33] <joelteon> not obvious to a newcomer how to split a string, for example
[23:59:40] *** kimundi is now known as zz_kimundi
