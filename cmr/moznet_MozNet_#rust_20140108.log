[00:00:10] <strcat> acrichto: how many iterations?
[00:00:14] <strcat> I'll do 1 million
[00:00:22] <strcat> hm
[00:00:22] <acrichto> longer than 1s, absolute numbers aren't comparable at all
[00:00:33] <acrichto> this was in a VM on a plane
[00:00:45] *** Quits: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP) (Quit: Bye!)
[00:01:31] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Connection reset by peer)
[00:01:42] <Eridius> and everyone knows, being 30000 feet in the air slows down all cpus
[00:02:00] <pcwalton> being on battery might :)
[00:02:12] <pcwalton> also, cosmic rays.
[00:02:18] <dbaupp> acrichto: are you ever not in a {pl,tr}ane? :P
[00:02:19] <strcat> so, my test is not working out well
[00:02:24] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[00:02:35] <strcat> I am unable to measure a significant difference between atomics and no atomics and so on
[00:02:36] <strcat> at all
[00:02:47] <strcat> perhaps someone else can try running this and tell me I'm crazy...
[00:02:51] *** Quits: jhasse (jhass_000@moz-33238F6.ewe-ip-backbone.de) (Quit: Verlassend)
[00:02:58] *** Quits: kngl1 (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[00:02:59] <aatch> strcat, nah, on x86 you're probably not going to notice...
[00:03:10] <strcat> aatch: atomics vs locking with TBB with locking with POSIX vs nothing
[00:03:27] <strcat> perf says time is spent in the functions for pthreads
[00:03:39] <strcat> ah there we go.
[00:04:08] <aatch> Probably need to do some actual work between the locks?
[00:04:10] *** Quits: Matthias247_ (bzlandfill@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Quit: CGI:IRC (EOF))
[00:04:39] <strcat> sure, but what actual work should it do?
[00:04:41] <locks> I’m being highlighted so much today haha
[00:05:35] <aatch> I dunno, calculate the nth fibonnaci number? Where n is some large number?
[00:06:01] <aatch> Basically just something that keeps the CPU busy that isn't locking and unlocking.
[00:06:14] <strcat> 10 million iterations of the loop is 0.250s with pthread_mutex_lock(mutex); global += 1; pthread_mutex_unlock(mutex)
[00:06:32] <\n> is it possible to cast an i32 to an enum?  Trying to write a function that calls into C code, but returns a Rust enum...
[00:06:33] <strcat> 0.040s with no locking at all
[00:07:07] <kimundi> \n: Not cast, because that could be potentially memory unsafe
[00:07:23] <aatch> \n, not using 'as', but you can using transmute
[00:07:25] <strcat> which fits with how locks are implemented (branch on at least one of 4 possible types to implement POSIX, atomic cmpxchg, and an atomic store)
[00:07:36] <aatch> kimundi, I don't think it'd be memory unsafe, just break invariants.
[00:07:44] <kimundi> \n: But there is a deriving mode for ToPrimitive/FromPrimitive, which allows you to get a Option<YourEnum> for a integer
[00:07:46] <strcat> perhaps I should add work about equal to that in the loop
[00:07:48] <strcat> so locking doubles the time
[00:08:07] <\n> aatch: sorry, I need an example.  I don't know what transmute even means.
[00:08:10] *** Joins: zslayton (Mibbit@81EB2473.5F4BC84E.66C78B76.IP)
[00:08:19] <\n> kimundi: deriving mode???
[00:08:39] <dbaupp> \n: you can use the #[repr(...)] attribute to make sure an enum is of a definite size
[00:08:43] <aatch> \n, it's an unsafe function in std::cast, std::cast::transmute that does arbitrary type casting.
[00:08:58] <\n> dbaupp: it's a C enum
[00:08:59] <dbaupp> \n: in which case declaring your C function to return that enum (when it just returns an i32) is fine
[00:09:00] <kimundi> aatch: If a enum tag ahs a value outside of its range, wouldn't that cause problems with llvm optimizations that explicitly rely on the information given from rustc that the tag only falls in a specific range?
[00:09:07] <dbaupp> \n: #[repr(C)] enum Foo { ... }
[00:09:18] <\n> fancy
[00:09:20] <dbaupp> \n: and then get the C function to return the corresponding enum
[00:09:28] <aatch> kimundi, yes, but I don't think it's memory unsafe.
[00:10:04] *** Joins: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu)
[00:10:08] <aatch> I didn't say it was safe, just not memory unsafe.
[00:10:26] <kimundi> aatch: Ah, my brainly just blindly inserted a 'memory' there, sorry :P
[00:10:39] <dbaupp> aatch: it is memory unsafe if LLVM changes branches and so, relying on the range assertions
[00:10:44] <\n> dbaupp: so I get mismatched type errors for my rust fn that wraps the c fn
[00:10:45] <aatch> kimundi, I figured, I do that sometimes too.
[00:10:50] *** Quits: hoverbear (hoverbear@moz-2789E775.wireless.uvic.ca) (Quit: Taking a nap.)
[00:11:05] <\n> the rust fn signature states it returns the enum type
[00:11:07] <kimundi> Anyway, as it properly would result inj undefined behavior it wouldn't wonder me if it could also introduce memory unsafety somehow#
[00:11:21] *** Quits: lbdremy_ (lbdremy@moz-323EC907.dynamic.dsl.as9105.com) (Ping timeout)
[00:11:32] *** Quits: rca (rcatolino@moz-A87C14FE.adsl.proxad.net) (Ping timeout)
[00:12:03] <\n> then the body has a unsafe block that returns the evaluation of the c fn
[00:12:05] <strcat> aatch: storing an invalid variant in an enum is undef as there are range asserts
[00:12:13] <\n> where the c fn returns a c_int
[00:12:19] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:12:25] <\n> and my rust fn signature states it returns my enum
[00:12:29] <strcat> and in a match listing all valid variants, it'd also be undef
[00:12:46] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:12:54] <aatch> strcat, oh I know that, I'm just having a hard time thinking about how it could cause memory unsafety.
[00:13:02] <strcat> aatch: because we put load asserts
[00:13:02] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[00:13:03] <\n> and my enum has the repr(C) attribute
[00:13:07] *** Joins: bluegreen (zaphood@moz-17DEE964.tor.leo-unglaub.net)
[00:13:11] <strcat> any time a discriminant or bool is loaded, we mark it as being in the valid range
[00:13:19] <strcat> LLVM optimizes with that assumption
[00:13:23] *** Quits: zslayton (Mibbit@81EB2473.5F4BC84E.66C78B76.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:13:23] <strcat> it could fall off the end of a function if it's not
[00:13:37] <strcat> aatch: if I add range asserts to chars, rustc segfaults
[00:13:44] <strcat> why? because the tokenizer uses transmutes to store -1 in chars
[00:13:48] <strcat> so it definitely can break stuff
[00:13:52] <dbaupp> \n: can you make the C function return the enum rather than a c_int?
[00:14:18] <pcwalton> we should fix the tokenizer
[00:14:24] <dbaupp> pcwalton: it's fixed
[00:14:31] <pcwalton> ok
[00:14:35] <strcat> is extra::json fixed too?
[00:14:42] <aatch> strcat, hmm, was not aware of that. Like I said though, I didn't say it's 'safe', just not specifically *memory* unsafe.
[00:14:42] <dbaupp> aatch: rust can do jump tables based on an enum discriminant... which obviously break if the discriminant is out of range
[00:14:54] <strcat> aatch: undefined behaviour is memory unsafety
[00:14:57] <dbaupp> strcat: maybe?
[00:15:02] <aatch> Since it can *also* cause all sorts of other problems.
[00:15:06] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:15:10] <strcat> dbaupp: nope, look in json.rs
[00:15:13] <strcat> transmute(-1u32) :)
[00:15:24] <jmgrosen> is there DNS yet?
[00:15:47] <dbaupp> :(
[00:15:57] <acrichto> jmgrosen: std::io::net::addrinfo
[00:16:16] <jmgrosen> acrichto: ah, there it is, thanks
[00:16:22] *** Quits: maxli (maxli@moz-70F9251D.thefacebook.com) (Quit: Leaving.)
[00:16:49] <aatch> I'd say that memory unsafety should be limited to cases that are specifically related to memory, not just all undefined behaviour that makes LLVM introduce bad code.
[00:17:04] <pcwalton> no, I think we have to say all undefined behavior in LLVM is memory safety
[00:17:11] <pcwalton> that isn't a distinction that LLVM makes
[00:17:16] <pcwalton> it's too fragile to assume they won't break it in the future
[00:17:35] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[00:17:47] <strcat> aatch: LLVM will introduce memory unsafety
[00:17:50] <strcat> from load asserts
[00:18:06] <strcat> it will index out-of-bounds of arrays it generates or fall off the end of functions and run arbitrary code
[00:18:14] *** Joins: maxli (maxli@moz-70F9251D.thefacebook.com)
[00:18:37] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[00:18:50] <aatch> I don't think it helps when talking about it though. Normally, memory unsafety is talked about when dealing with stuff like use-after-free
[00:19:12] <strcat> aatch: but it can cause use-after-free, or similar problems
[00:19:25] <jmgrosen> it would be nice if there were an easy way to go from "foo.com:4321" -> SocketAddr
[00:19:51] <aatch> Undefined behaviour is obviously bad, but I don't consider it to be *itself* memory unsafety.
[00:19:58] *** Quits: maxli (maxli@moz-70F9251D.thefacebook.com) (Ping timeout)
[00:20:02] <strcat> aatch: it can cause memory unsafety
[00:20:04] <aatch> Since LLVM can do literally anything.
[00:20:09] <pcwalton> I think they're basically equivalent
[00:20:12] <\n> dbaupp: I got it thanks for the help
[00:20:13] <aatch> So? I'm not denying that.
[00:20:24] <aatch> But it's not exactly helpful.
[00:20:26] <strcat> aatch: so if it can cause memory unsafety, it's memory unsafe
[00:20:43] <strcat> writing past the end of an array might not do anything bad
[00:20:54] <strcat> similarly to indexing out of bounds of an object with inbounds GEP
[00:21:03] <strcat> but both can lead to any number of problems
[00:21:49] <aatch> I'm just saying that this makes the phrase "memory safety" meaningless because it just becomes "correct"
[00:22:08] <strcat> clang is definitely not outputting the code I'm telling it to output
[00:22:24] * strcat sighs
[00:22:48] <aatch> Rather than being limited to the domain of memory management.
[00:23:00] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[00:23:40] <strcat> aatch: memory unsafety is included in undef behaviour
[00:23:44] <strcat> undef behaviour is a superset
[00:24:30] <aatch> strcat, I agree. Making all undef behaviour memory safety turns it into memory safety == undef
[00:24:41] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:24:46] <strcat> huh?
[00:25:27] <kimundi> undef implies memroy unsafety, but memory unsafety does not imply undef
[00:25:30] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[00:25:33] <aatch> I'm saying that just because undef behaviour can cause memory unsafety, it's not worth talking about all undef behaviour as memory safety issues
[00:25:40] <aatch> even if they *can* cause it.
[00:25:41] <strcat> so, LLVM is optimizing out my volatiles
[00:25:43] <strcat> great
[00:26:23] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:26:25] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Connection reset by peer)
[00:26:33] *** Quits: nkoep (nik@moz-3CF8826C.pool.mediaways.net) (Client exited)
[00:26:46] <kimundi> aatch: Just talking about common causes for making your code crash seems inferior to talking about all causes for making your code crash :P
[00:26:48] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[00:26:56] <Tobba> strcat: llvm being llvm
[00:27:00] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[00:27:13] <strcat> any suggestions on what work I can do inside a loop to delay? :\
[00:27:27] <Tobba> I like LLVM because its pretty much suprassing GCC now, while their optimization is still kinda crappy
[00:27:27] <strcat> LLVM optimizes out volatile reads/writes because it knows it's not to a volatile address...
[00:29:15] <aatch> strcat, make it extern and put it in a different object?
[00:29:47] <strcat> aatch: yeah, that'll work
[00:29:51] <strcat> just a pain
[00:30:14] <strcat> really naive is_prime sounds good enough to me
[00:30:25] <strcat> maybe too much
[00:30:35] * strcat shrugs
[00:30:53] <strcat> needs to do work equivalent to a few branches and some atomics
[00:31:03] <strcat> without LLVM removing it all ,_,
[00:33:34] <\n> How would one test the value of an enum?  Can assert_eq! not be used?
[00:34:03] *** Joins: lbdremy (lbdremy@moz-323EC907.dynamic.dsl.as9105.com)
[00:34:11] <dbaupp> \n: you can cast to an integer type
[00:34:23] <dbaupp> or stick a #[deriving(Eq)] on the enum
[00:34:46] <dbaupp> (unfortunately, this may not work 100% for C like enums with explict variant discriminants)
[00:34:58] <\n> dbaupp: what does that attribute mean?  also, may I stack multiple attributes?
[00:35:00] <strcat> dbaupp: hm, why? doesn't it just use match?
[00:35:06] <dbaupp> strcat: can't remember
[00:35:11] <strcat> \n: implements Eq for you via match, afaik
[00:35:12] <dbaupp> I thought it did
[00:35:25] * dbaupp shrugs
[00:35:35] <\n> dbaupp: yep and yep, ty!
[00:36:02] <\n> so Eq is a trait?
[00:36:09] <dbaupp> \n: (you can see what #[deriving(..)] does by running `rustc --pretty expanded foo.rs`)
[00:36:14] <sfackler> \n: yes
[00:36:14] <dbaupp> yes
[00:36:31] *** Joins: maxli (maxli@moz-70F9251D.thefacebook.com)
[00:36:57] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[00:37:02] <dbaupp> strcat: is there any particular reason std::trie starts with the most significant bits? (is this faster in practice?)
[00:37:52] <strcat> dunno, try doing it the other way
[00:37:56] <dbaupp> ok
[00:37:59] <strcat> there may have been a reason
[00:38:24] <dbaupp> I'll see what happens
[00:38:36] *** Quits: bluegreen (zaphood@moz-17DEE964.tor.leo-unglaub.net) (Quit: Verlassend)
[00:41:01] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:42:46] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[00:42:46] *** ChanServ sets mode: +o tjc
[00:47:46] *** Joins: magg (magg@D9AAD5D7.9441A742.EB08AFC4.IP)
[00:47:59] <Tobba> argh
[00:48:19] <Tobba> I defined Option as Some(T) or None, but it says None is unresolved
[00:48:54] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:49:11] <Tobba> oh right, I have to import Some and None, just not option
[00:49:32] <Tobba> is there any saner way than having to drop "use lib::option::{Option, Some, None};
[00:49:32] <Tobba> " at the top of every module included from the main .rs
[00:49:58] <kimundi> Tobba: Not at the moment
[00:50:11] <Tobba> this is gonna get rediclous fast
[00:50:27] <sfackler> you can make your own prelude
[00:50:36] <sfackler> then it's just use prelude::*;
[00:50:44] <sfackler> and #[feature(globs)] I guess
[00:51:16] <sfackler> all of the code in libstd has to manually use prelude::*;
[00:51:42] <magg> how can i get the first value of the triemap, without iter()
[00:53:01] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[00:55:10] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[00:55:11] <strcat> pcwalton: http://ix.io/9JP
[00:55:26] <strcat> can see the overhead of the pthread stuff there
[00:55:55] *** Quits: mleise (marco@moz-850E56A9.pools.arcor-ip.net) (Quit: Leaving.)
[00:55:58] <strcat> tbb's queuing mutex has fair scheduling and yields on a non-trivial wait
[00:56:18] <strcat> dunno why the spinning one is slower
[00:56:24] <strcat> I guess because the loop isn't unrolled
[00:56:25] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[00:56:58] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:57:21] <Tobba> trying to make a string iterator
[00:57:34] <Tobba> I cant figure out how to keep a reference to the string around to the string without breaking everything though
[00:58:17] <strcat> pcwalton: could test rust's existing mutexes too...
[00:58:42] <strcat> but I really don't think it's a fair comparison atm because they wrap the objects and do atomic swaps
[00:58:53] <strcat> (well the native ones)
[00:59:09] *** Joins: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[00:59:27] <strcat> they shouldn't have overhead over pthreads, and should ideally not support all 4 types (or more? glibc probably has internal ones) via 1 implementation
[01:00:03] <pcwalton> acrichto: r? https://github.com/mozilla/rust/pull/11358
[01:00:06] <pcwalton> comments addressed
[01:00:10] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[01:01:02] <dbaupp> Tobba: would you like some assistance? :)
[01:01:16] <acrichto> pcwalton: no dox for modification during destruction?
[01:01:17] <Tobba> yes
[01:01:26] <pcwalton> brson: r? https://github.com/mozilla/rust/pull/11387
[01:01:27] <kimundi> Tobba: struct CharIter<'A> { priv str: &'a str }
[01:01:28] <acrichto> pcwalton: nvmd
[01:01:30] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[01:01:34] <pcwalton> acrichto: I thought I added..ok
[01:01:39] <Tobba> kimundi: I tried that
[01:01:42] <acrichto> pcwalton: r+, thanks
[01:01:48] <Tobba> but in the impl it says I need a lifetime specifier
[01:01:51] <kimundi> Tobba: What doesn'T work?
[01:01:54] <Tobba> and I tried a lot around that and couldent get it to work
[01:02:03] <Tobba> or is that capital A intentional?
[01:02:05] <strcat> Tobba: impl<'a> CharIter<'a> {}
[01:02:17] <kimundi> (no, just a typo)
[01:02:23] *** Quits: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za) (Input/output error)
[01:02:29] <Tobba> oh, doh
[01:02:32] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[01:02:32] <Tobba> yeah that makes sense
[01:02:40] <Tobba> I tried the 'a at the impl, and one at the CharIter, but not at both
[01:03:34] *** Quits: maxli (maxli@moz-70F9251D.thefacebook.com) (Quit: Leaving.)
[01:03:47] <Tobba> I cant do addition on a *u8
[01:03:58] <Tobba> I think I can implement that manually though
[01:04:22] <jdm> Tobba: p.offset(..)
[01:04:22] <strcat> Tobba: use the offset intrinsic
[01:04:29] <Tobba> ah
[01:05:00] <kimundi> I would just copy the libstd impls, though :P
[01:05:22] <Tobba> it uses the massive Container thing, it just felt too big
[01:05:34] <Tobba> and I need to implement offset now, that shouldent be hard though
[01:05:42] <strcat> offset is an intrinsic
[01:05:51] <strcat> don't need to implement it
[01:05:53] *** Joins: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[01:06:17] <Tobba> it says that *u8 doesnt implement any method named offset
[01:06:51] *** jdm is now known as jdm|away
[01:06:54] <strcat> rusti: extern "rust-intrinsic" { /* declare stuff */ }
[01:06:55] -rusti- ()
[01:07:03] *** Quits: heftig (heftig@moz-C2A68214.dip0.t-ipconnect.de) (Ping timeout)
[01:07:14] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[01:07:21] <strcat> rusti: extern "rust-intrinsic" { fn offset<T>(ptr: *T, delta: int); }
[01:07:24] -rusti- pastebinned 7 lines of output: http://ix.io/9JQ
[01:07:33] <Tobba> yep
[01:07:38] <strcat> rusti: extern "rust-intrinsic" { fn offset<T>(ptr: *T, delta: int) -> *T; }
[01:07:39] -rusti- ()
[01:08:25] <Tobba> intrinsic is probably the hardest word to spell ever
[01:09:38] * dbaupp agrees
[01:09:40] *** Joins: heftig (heftig@moz-B29C59B9.dip0.t-ipconnect.de)
[01:09:43] *** Quits: magg (magg@D9AAD5D7.9441A742.EB08AFC4.IP) (Quit: magg)
[01:09:51] <dbaupp> use std::unstable::intrinsic; is my nemesis import.
[01:10:28] <dbaupp> I can never remember if it's plural or not, and then I can't spell it.
[01:11:01] <Tobba> argh
[01:11:04] <Tobba> offset requires an int, not an uint
[01:11:51] <Tobba> fixable easily enough I think though
[01:11:57] <cmr> `as int`
[01:11:58] *** Quits: icebattle (icebattle@8A14A542.EBE2EE2B.C7CEC4ED.IP) (Quit: Leaving)
[01:12:05] <cmr> rusti: 52 as int
[01:12:06] -rusti- 52
[01:12:18] <Tobba> yeah I just did that
[01:13:15] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[01:13:17] <Tobba> I cant seem to do an increment the usual way, hm
[01:13:29] <Tobba> guessing rust has something special for that
[01:13:36] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[01:15:09] <dbaupp> Tobba: x++ is x += 1
[01:15:09] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Connection reset by peer)
[01:15:13] <Tobba> usually I could do += 1 but I want a post increment to not make this oneliner a 3liner
[01:15:17] <Tobba> that works as a post increment?
[01:15:19] <dbaupp> oh
[01:15:21] <dbaupp> no
[01:15:21] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[01:15:27] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[01:15:45] <dbaupp> { let x = i; i += 1; x } // there, one liner :P
[01:15:52] <Tobba> pffffft
[01:16:05] <Tobba> bleh, works I guess
[01:16:53] <jmgrosen> why isn't there a FromBytes? :(
[01:17:12] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:17:43] <jmgrosen> best way to convert ~[u8] to u32?
[01:18:09] <jmgrosen> oh, Reader defines read_le_u32, doesn't it? :P
[01:19:16] <sfackler> yep
[01:19:18] <Tobba> ah crap
[01:19:26] <Tobba> lifetime madness, not sure how I should solve this
[01:19:31] <Tobba> currently creating the iterator like strIterator { s: *self, p: 0 }
[01:19:40] <Tobba> which for semi-obvious reasons fails
[01:19:46] *** Joins: alan_andrade_ (uid23020@moz-31ABA2C0.irccloud.com)
[01:20:24] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[01:20:57] <dbaupp> Tobba: what's the whole function definition?
[01:21:07] <Tobba> fn iter(&self) -> strIterator {
[01:21:14] <Tobba> then just that in the contents, practically
[01:21:19] <Tobba> I should probably give strIterator some form of ownership
[01:21:22] <dbaupp> ah, you need to connect the lifetime of self with the lifetime of the striterator
[01:21:34] <dbaupp> fn iter<'a>(&'a self) -> StrIterator<'a> { ... }
[01:21:38] <Tobba> ah
[01:21:50] <pcwalton> wow, removing @FnCtxt was just a matter of changing @ to & and adding a few &s and lifetimes
[01:21:54] <pcwalton> zero borrow check errors
[01:22:02] * pcwalton wonders how many more there are like this
[01:22:37] *** Joins: maxli (maxli@moz-70F9251D.thefacebook.com)
[01:22:46] <dbaupp> `git ls-files librustc | xargs sed -i s/@/&/`
[01:22:50] <dbaupp> easy! :P
[01:23:52] <Tobba> dbaupp: it says it expected a concrete lifetime
[01:24:29] <dbaupp> Tobba: It'll be easier if I can see the full code
[01:24:54] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[01:24:58] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:25:03] <Tobba> pastebin has no Rust highlighter
[01:25:05] <Tobba> I am dissapointed
[01:25:15] <strcat> pcwalton: most of the Block, if that's not gone?
[01:25:17] <Tobba> http://pastebin.com/Py1iX1fe
[01:25:22] <Tobba> ruby highlighter, close enough
[01:25:29] <pcwalton> strcat: I have a PR to throw blocks in an arena
[01:25:31] <pcwalton> tiny perf improvement
[01:25:38] <pcwalton> working on de-@ing typeck now
[01:25:39] <bstrie> dbaupp: please tell me that doesn't actually work
[01:25:43] <bstrie> dbaupp: it looks too simple
[01:25:48] <pcwalton> bstrie: not a chance in heck
[01:25:54] <bstrie> well no I mean
[01:26:02] <bstrie> please tell me that you can't just mass-xargs like that
[01:26:12] <bstrie> I thought you had to throw in like {} \\/
[01:26:22] <Tobba> you can
[01:26:26] <bstrie> and then a heap of flags to handle nulls properly
[01:26:27] <Tobba> its great
[01:26:45] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:27:41] <strcat> bstrie: can't have nul in paths
[01:28:34] <dbaupp> bstrie: there's no spaces in the librustc source tree, no worries. :P
[01:28:38] <strcat> bstrie: find uses {} for -exec
[01:28:49] <strcat> but you should use +, not ;, unless the cmd really only takes 1 arg
[01:29:04] <dbaupp> Tobba: ah, the problem is you need to do the same lifetime annotations to the trait definition
[01:29:24] <Tobba> uh?
[01:29:28] <strcat> dbaupp: git ls-files -z | xargs -0 isn't much harder anyway ;p
[01:29:43] <dbaupp> strcat: 4 extra characters! madness
[01:30:05] <dbaupp> Tobba: the `fn iter(&self) -> StringIterator;` line in `trait dummy { ... }`
[01:30:05] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[01:30:20] <Tobba> ah
[01:30:28] <dbaupp> Tobba: (it needs `iter<'r>(&'r self) -> StringIterator<'r>` too)
[01:30:34] <Tobba> I forgot that one existed
[01:30:37] <Tobba> whoops
[01:31:31] <dbaupp> Tobba: (fwiw gist.github.com has Rust highlighting)
[01:33:15] <brson> nmatsakis: ping
[01:33:25] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[01:33:26] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[01:33:33] <Tobba> hm
[01:33:48] <Tobba> now its complaining that the p var on StringIterator isnt mutable
[01:33:52] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[01:33:52] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[01:33:56] <Tobba> setting its type to mut uint didnt really work
[01:34:07] *** Quits: hays (quassel@moz-F21A68D1.washdc.east.verizon.net) (Ping timeout)
[01:34:44] <nmatsakis> brson: pong
[01:34:53] *** Quits: maxli (maxli@moz-70F9251D.thefacebook.com) (Quit: Leaving.)
[01:35:32] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:35:34] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[01:35:39] <kimundi> Tobba: The next method needs to be defined with &mut self
[01:35:48] <Tobba> oh
[01:35:55] <Tobba> that makes sense
[01:36:20] <jmgrosen> say you need a field of a struct named "type" -- what's the convention for naming it?
[01:36:28] <cmr> jmgrosen: type_
[01:36:30] *** Joins: hays (quassel@moz-F21A68D1.washdc.east.verizon.net)
[01:36:35] <jmgrosen> cmr: okay, same as python then, thanks
[01:36:43] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[01:36:49] <Tobba> that makes sense
[01:36:54] <Tobba> goddamn hexchat
[01:37:02] <Tobba> I thought I was in my terminal window
[01:37:04] <brson> nmatsakis: are you ok changing 'borrowed pointer' to 'reference' in the docs?
[01:37:36] <sfackler> jmgrosen: or ty
[01:38:18] <nmatsakis> brson: yes, i've been switching to that terminology myself
[01:38:23] <jmgrosen> sfackler: I've seen that used in rustc, but this isn't the rust kind of type, it's the type of a query, so I think type_ makes more sense
[01:38:55] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:39:13] *** Joins: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP)
[01:45:37] <Tobba> why does using mutable statics require unsafe blocks
[01:45:52] <Tobba> I'm guessing threading
[01:45:56] <sfackler> mutation in multiple threads is inherently unsafe
[01:46:02] <Tobba> yeah I guess
[01:49:49] <Tobba> woo
[01:49:51] <Tobba> https://dl.dropbox.com/u/4838268/ShareX/2014-01/2014-01-08_02-49-46.png
[01:49:55] <Tobba> 100% rust code for that
[01:50:14] <strcat> Tobba: not just threads
[01:50:28] <pcwalton> cool :)
[01:50:39] <strcat> mutable statics can't have freezing implemented statically
[01:50:46] <strcat> which is required to make borrows safe
[01:50:51] <Tobba> ah
[01:50:53] <Tobba> those were just ints though
[01:50:57] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:50:59] <Tobba> (global state for the cursor)
[01:51:06] *** Quits: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[01:51:29] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:53:36] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:53:53] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[01:56:00] *** Joins: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu)
[01:57:15] *** Joins: dopin (mrsk@9805BFB5.13C3B28A.5DB9309E.IP)
[01:57:42] <alan_andrade> Tobba what's that ?
[01:57:54] <Tobba> booting on code written in Rust
[01:57:55] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:58:04] <alan_andrade> whoooooa
[01:58:04] <Tobba> (slowly) porting my kernel to it
[01:58:11] *** Quits: jeffdb (jeffbelg@moz-ABCAA64B.efi.com) (Quit: Leaving.)
[01:58:22] <Tobba> time to be first on proper multitasking kernel written in rust
[01:58:52] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout)
[01:58:58] <pcwalton> go for it :)
[02:01:20] <brson> nmatsakis: do you prefer that the rustc internal docs use 'reference' too?
[02:01:57] <steveklabnik> nice
[02:02:08] <pongad> I'm wondering, what's wrong this this:
[02:02:09] <pongad> fn first<T: Ord>(me: &mut Iterator<T>) -> T {     let f = me.next();     if f.is_none() {         fail!("Empty iterator");     }     f.unwrap() }  fn main() {     let v = [1,2,3,4,5];     let u = first(&mut v.iter());     println!("{}", *u); }
[02:02:19] <pongad> http://mibpaste.com/ToDxha 
[02:02:21] <dbaupp> pongad: not using a pastebin?
[02:02:23] <dbaupp> :P
[02:02:24] <pongad> Sorry xD
[02:02:33] <acrichto> pcwalton: did yousee any perf changes in de-@-bocks
[02:02:43] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:02:54] <pcwalton> acrichto: 2%
[02:02:57] <dbaupp> pongad: (could you use gist.github.com or pastebin.com or something? mibpaste annoyingly loses indentation :( )
[02:02:58] <pcwalton> in just trans time
[02:02:58] <Tobba> also, should I make x86 i/o ops unsafe functions, or just make them contain i/o blocks
[02:02:59] <acrichto> oh well
[02:03:16] <Tobba> technically they perform an operation which is unsafe depending on the data the caller put in, so it should be marked unsafe
[02:03:27] <pongad> dbaupp: http://pastebin.com/91nfC70e
[02:04:00] <pongad> It seems so simple but I keep getting an error :(
[02:04:36] <dbaupp> what's the error?
[02:04:57] <cmr> pcwalton: +2% or -2%
[02:05:04] <pcwalton> improvement
[02:05:08] <pcwalton> compilation is shorter
[02:05:11] <cmr> that's great!
[02:05:24] <pongad> dbaupp: ``the type of this value must be known in this context''
[02:05:28] <Tobba> is there any documentation on the asm! extension
[02:05:32] <acrichto> pongad: try making the first element "1i"
[02:05:36] <pongad> ``this value'' refers to  the *u
[02:05:49] <acrichto> Tobba: sadly not much, there's a few examples throughout the compiler though
[02:05:53] <cmr> pongad: [1i, ...]
[02:05:58] <cmr> Tobba: the release notes were pretty detailed
[02:06:11] <cmr> https://github.com/mozilla/rust/wiki/Doc-detailed-release-notes#inline-assembly
[02:06:12] <Tobba> I found this
[02:06:13] <Tobba> https://github.com/mozilla/rust/pull/5317
[02:06:16] <Tobba> which doe---
[02:06:18] <Tobba> let me check that out
[02:06:22] <acrichto> cmr: ah yes! I forget about those
[02:06:24] <Tobba> oh, yep
[02:06:31] <kimundi> pongad: The problem is that 1,2,3... etc are generic integer literals - the code needs to know which actual intgere type they are supposed to be
[02:06:31] <Tobba> as I suspected, its doing the gcc full retard syntax
[02:06:32] <Tobba> oh well
[02:06:36] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[02:06:36] *** ChanServ sets mode: +o tjc
[02:06:45] <pongad> Changed to let v = [1i,2,3,4,5]; still the same error
[02:06:52] <Yurume> cmr: no, it won't help
[02:07:13] <cmr> Tobba: what would you prefer?
[02:07:13] <Yurume> pongad: consider changing `let u = ...` into `let u: &int = ...`
[02:07:22] <Tobba> cmr: to be honest, anything saner
[02:07:26] <cmr> Tobba: such as?
[02:07:45] <Tobba> I think most of the issues I have with the gcc macro though is because the code was written by a bafoon and nobody fixed it
[02:07:55] <Tobba> so it breaks on basicaly everything and they just call it intended
[02:07:56] <Yurume> I'm not sure why, but the type inference seems not working backwards
[02:08:09] <Tobba> (e.g you need to output to dummy unused variables to clobber inputs)
[02:08:20] <pongad> Yurume: I got ``internal compiler error'' xD
[02:08:26] <Yurume> pongad: ha!
[02:08:33] <Yurume> task 'rustc' failed at 'index out of bounds: the len is 1 but the index is 1', /build/buildd/rust-nightly-201401020405~6475255~precise/src/librustc/middle/ty.rs:1434
[02:08:41] <Yurume> huh?
[02:08:48] <Tobba> cmr: also because the way you specify what registers it can use tends to be awful
[02:09:09] <Tobba> though again partially an implementation thing because gcc lets you put the entire works of shakesphere there and it interprets it freely
[02:09:42] <Tobba> curious if that asm! macro supports it as well as clang does however
[02:09:49] <cmr> llvm doesn't support anything else, so whatever we do needs to boil down to it
[02:09:49] <Tobba> 90% of it is undocumented
[02:09:54] <dbaupp> Yurume: that error message looks like https://github.com/mozilla/rust/issues/10955
[02:09:59] <Tobba> oh right, llvm handles most of that junk actually
[02:10:06] <dbaupp> Yurume: (apparently https://github.com/mozilla/rust/pull/11386 fixes it)
[02:10:10] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[02:11:09] <Yurume> dbaupp: aha, indeed. I searched for the line number and I failed to realize that it may be off by two ;)
[02:11:23] <Tobba> also because the gcc syntax is an asshole and doesnt let you explictly specify the register size, it depends on the variable you give it
[02:11:31] <Tobba> which results in some nice cases where it reads gibberish
[02:11:46] *** Joins: lahwran (lahwran@lahwran.net)
[02:11:52] <pongad> dbaupp: So...wait for bors to pull the fix?
[02:12:03] <Yurume> pongad: for now, I think an workaround is available
[02:12:07] <dbaupp> pongad: or work around it, yeah
[02:12:27] <Yurume> you are (implicitly) casting &mut SomeVectorIteratorBlaBla<int> as &mut Iterator<&int>
[02:12:46] <Yurume> but in that case you can easily make `first` a generic function, removing the need of such casting
[02:13:04] <Yurume> i.e. fn first<T:Ord, A:Iterator<T>>(me: &mut A) -> T { ... }
[02:13:08] <Yurume> it seems to work for me
[02:13:42] <pongad> AH!
[02:14:53] <pongad> Seems to be working, thanks a ton!
[02:14:58] <dbaupp> pongad: btw, using .is_none() and .unwrap() like that is unnecessary: you can unwrap "directly" with pattern matching `match me.next() { Some(x) => x, None => fail!("empty iterator") }`
[02:15:06] <Eridius> "let _m = self.fire_homing_missile();" wat
[02:15:17] <dbaupp> pongad: or using the .expect() function: `me.next().expect("empty iterator")`
[02:15:50] <dbaupp> Eridius: the functions moves the current task to a different scheduler, and the destructor takes it back to the original one
[02:15:56] <Tobba> "inline assembly is not stable enough for use and is subject to change"
[02:15:57] <dbaupp> s/the functions/that function/
[02:15:58] <Tobba> which asshole...
[02:16:06] <dbaupp> Eridius: aiui
[02:16:11] <dbaupp> Tobba: keep it polite please :)
[02:16:35] <dbaupp> Tobba: you need `#[feature(asm)];` at the top of the crate file (i.e. the file you are running `rustc` on)
[02:16:42] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[02:16:42] <Eridius> dbaupp: yes that's what the comment indicates
[02:16:46] <Tobba> it could just tell me that
[02:16:52] <dbaupp> Eridius: \o/ I rememebered
[02:16:55] <cmr> Tobba: it does tell you that
[02:16:57] <dbaupp> Tobba: I thought it did
[02:16:58] <dbaupp> ?
[02:17:19] <Tobba> actually it does, I didnt see that
[02:17:29] *** Joins: shachaf (shachaf@moz-F37E0395.members.linode.com)
[02:17:32] <cmr> You should *read* the compiler output, it's there for a reason.
[02:17:33] <Tobba> for some reason, it happily prints the entire erroring code again when it tells you that you need feature(asm)
[02:17:42] <Tobba> yeah no shit, I think I'm a bit tired
[02:17:48] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[02:17:54] <dbaupp> yeah, our diagnostics output isn't optimal
[02:18:18] <dbaupp> but our actual diagnostic text is reasonable in most/many/some cases.
[02:18:47] <Tobba> and here we go error: couldn't allocate input reg for constraint 'd'
[02:18:50] <Tobba> the ballad of inline asm
[02:19:43] <dbaupp> specific register constraints are of the form `asm!(" ..." : "{edx}" ...)` etc.
[02:20:03] <Tobba> oh, so it isnt fully using the gcc syntax?
[02:20:07] *** kimundi is now known as zz_kimundi
[02:20:29] <dbaupp> yeah, we essentially pass the constraints straight to LLVM, so it's using that syntax
[02:20:43] <Tobba> ah
[02:20:48] <Tobba> I thought it was using the gcc syntax
[02:20:48] <pongad> dbaupp: Will try to see that .expect() does. Have to go to bed now xD
[02:21:12] <dbaupp> unfortunately, LLVM's syntax doesn't have any documentation other than the source (last I looked for some anyway)
[02:21:43] <Tobba> neither does GCC's syntax
[02:21:54] <Tobba> it has some really old mostly internal docs from like 2003, the rest is just stackoverflow
[02:22:04] <carter> urk
[02:22:07] <Yurume> it's a bit unfortunate :S
[02:22:22] <Tobba> like the %P constraint
[02:22:29] <Tobba> super useful, not documented anywhere
[02:22:36] *** Quits: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[02:22:41] <Yurume> what's that?
[02:22:41] <dbaupp> what's it do?
[02:22:46] <Tobba> inserts a label
[02:22:53] <Tobba> if you want to call something, thats what you use
[02:23:06] <dbaupp> oh, neat
[02:23:12] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:23:18] <Tobba> so you can do like, in C, asm volatile("call %P0" :: "i"(SomeFunction));
[02:23:28] <Tobba> without having to write the mangled name which just ends horribly
[02:23:33] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:23:48] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[02:24:03] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:24:16] *** Joins: jvoorhis (jvoorhis@moz-E191DB04.ptld.qwest.net)
[02:24:21] <kvanb> carter: I'd really love it if Haskell could do inline asm
[02:24:28] <kvanb> but we all know that'll never happen :(
[02:24:29] <carter> kvanb: i've plans
[02:24:39] <carter> kvanb: nah, it'll happen, just you should never use it
[02:24:43] <kvanb> means people could use AES intrinsics and stuff without ffi
[02:24:46] <carter> well, i know you'll use it
[02:25:05] <carter> kvanb: i've a roadmap
[02:25:16] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:25:23] <kvanb> cool
[02:25:37] <Tobba> I wonder if LLVM 3.4 fixed that bug in llc where it would ignore -x86-asm-syntax when you were making it directly output object files
[02:25:43] <Tobba> if so non-awful intel syntax here I come
[02:25:48] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:25:49] <Tobba> otherwise llvm-as might actually be stable enough
[02:25:54] *** Quits: jadbaires (jadrian@7C3E5A47.7DF3BC65.6119BA41.IP) (Quit: Konversation terminated!)
[02:25:59] *** Quits: jvoorhis (jvoorhis@moz-E191DB04.ptld.qwest.net) (Ping timeout)
[02:26:01] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[02:26:10] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:26:12] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[02:26:51] <kvanb> KokaKiwi: hi, you around?
[02:27:03] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Connection reset by peer)
[02:27:10] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[02:27:33] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:28:00] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Quit: Konversation terminated!)
[02:28:06] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[02:28:12] <carter> pcwalton: could you explain with some straw man syntax the traits parameterized by lifetimes ideas?
[02:28:18] <carter> and mebe examples?
[02:28:44] <pcwalton> trait Trait<'a> { … } fn f<'a,T:Trait<'a>>(x: T) { … }
[02:28:47] <pcwalton> I needed this just now
[02:28:52] <pcwalton> because I don't have it I have to use Rc
[02:29:09] *** Quits: japaric (japaric@5F207A99.A347E168.F4D5766F.IP) (Quit: WeeChat 0.4.2)
[02:29:29] <carter> ok
[02:29:42] <carter> ok
[02:30:02] <carter> i think that and normal "higher kinded traits" would use the same machienry
[02:30:03] <carter> hrmm
[02:30:16] <pcwalton> they're orthogonal
[02:30:16] <carter> so you want a different instancer per lifetime type
[02:30:19] <carter> ok
[02:30:21] <carter> could be :)
[02:30:23] <carter> i'm still learning
[02:31:09] <carter> so is this a way of making sure all the methods of a trait share teh same liftime?
[02:31:11] <carter> or?
[02:31:46] <pcwalton> it allows trait methods to return references bounded by a lifetime of the caller
[02:31:52] <kvanb> Is there no documentation of how the ghc GC works
[02:31:59] <kvanb> that doesn't require me reading like 5 papers?
[02:32:11] <carter> kvanb: whats the goal?
[02:32:15] <kvanb> I read the ones on the haskell wiki
[02:32:17] <mitsuhiko> has there been a discussion about having a generic error trait?
[02:32:21] <kvanb> but they assume that you've read the last like 10 papers
[02:32:22] <mitsuhiko> (for use with Result)
[02:32:25] <kvanb> and dont mention which ones, really
[02:32:32] <mitsuhiko> i could not find a ticket through quick searching
[02:32:33] <carter> kvanb: whats the use case
[02:32:37] <carter> kvanb: also you should ask someone on #ghc
[02:32:43] <kvanb> the goal is to understand how it works really
[02:32:48] <carter> oh
[02:32:50] <carter> read the source :)
[02:32:53] <carter> and the recent papers
[02:33:14] <carter> pcwalton: and trait methods can't be parametrized on lifetime themselves?
[02:33:19] <pcwalton> they can
[02:33:22] <pcwalton> but that's not good enough
[02:33:24] <pcwalton> in some cases
[02:33:32] <carter> oh?
[02:33:35] <kvanb> they are written in C :(
[02:33:37] <pcwalton> just try it out
[02:33:37] <pcwalton> :)
[02:33:41] *** Quits: Liothen (liothen@moz-92B99500.org) (Input/output error)
[02:33:45] <carter> ok
[02:33:45] <kvanb> honorable sepuku may be the only option
[02:33:49] <carter> i guess i'll have have to
[02:33:54] *** Joins: short (Mibbit@moz-DEF859BF.hsd1.wa.comcast.net)
[02:33:59] <carter> kvanb: ghc c is pretty well written
[02:34:08] <kvanb> I was kidding, Im tracking them down on github now :P
[02:34:09] *** Joins: Liothen (liothen@moz-92B99500.org)
[02:34:10] <carter> ok
[02:34:16] <kvanb> I used C/C++ for like 5 or so years
[02:34:19] <kvanb> and I still use it ocassionally
[02:35:05] <nmatsakis> brson: re: the term reference, I prefer that we settle on one terminology and stick to it...I do think the term "borrowed" is useful, maybe "borrowed reference" is the full term, with reference being the typical shorthand?
[02:35:14] <kvanb> shit, what
[02:35:17] <kvanb> someone got busy
[02:35:20] <kvanb> I remember the rts being much smaller
[02:35:40] <dwrensha> carter: if you want some concrete examples, there are many examples of traits with lifetime parameters in capnproto-rust
[02:35:40] <carter> kvanb: i don't think you've read the rts then :)
[02:35:47] <carter> dwrensha: ok
[02:35:58] <kvanb> I looked at it like 6 months or so ago
[02:36:16] <kvanb> when I was going to refractor the win32 backend because its ancient and rotted
[02:36:24] <kvanb> but then I wrote some patches but couldnt get it to build
[02:36:26] <kvanb> frustrating
[02:36:42] <carter> kvanb: shoud build on windows now
[02:36:43] <kvanb> *still is ancient and rotted
[02:36:45] <carter> otoh, don't use windows :)
[02:36:51] <carter> kvanb: please stop ranting
[02:36:58] <carter> you always rant in not positive ways
[02:37:09] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:37:09] <carter> dwrensha: looking it not positive ways
[02:37:13] <carter> *looking it up
[02:37:15] <carter> derp
[02:37:42] <carter> dwrensha: at the github, which file should I start at?
[02:37:56] <kvanb> how about I say someone positive
[02:37:59] <kvanb> *something
[02:38:11] <kvanb> I used to hate the filenames but someone went through and normalized them
[02:38:29] <kvanb> +1 to whoever did that
[02:38:32] <dwrensha> carter: layout::FromStructBuilder, list::FromPointerBuilder, ... in capnp/layout.rs and capnp/list.rs
[02:38:42] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:38:49] <carter> "i used to be frustrated by the file names being inconsistent and someone made them consistent, yay!"
[02:38:59] <carter> dwrensha: thankee
[02:39:22] <carter> dwrensha: looks like you do the thing that pcwalton  said he can't do...
[02:39:30] *** Quits: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[02:39:33] <kvanb> it sounds more positive when you say it like that I guess
[02:39:47] <carter> yes
[02:40:00] <carter> kvanb: remember, the best way to get peopel to do what you want is positive reinforcement
[02:40:11] <carter> negative reinforcment makes people avoid stuff
[02:40:24] <carter> positive reinforcment makes them wonder "how can i incrase the awesome"
[02:41:00] <carter> kvanb: yah did
[02:41:18] <carter> dwrensha: pcwalton  ohhh, 'cause you wanna be able to write Self<'a> ?
[02:41:24] <kvanb> my only gripe is its haskell conventions not C conventions :P
[02:41:37] <pcwalton> I want to return borrowed pointers inside self
[02:41:42] <dwrensha> carter: yeah
[02:41:44] *** Joins: mhr (mhr@moz-453998C8.dsl.bell.ca)
[02:41:48] <pcwalton> when self contains borrowed pointers with a certain lifetime
[02:41:50] <pcwalton> I have to annotate that.
[02:42:27] <carter> that kinda makes it sound like the self convention is wrong then...
[02:42:47] <carter> because you hit that point
[02:43:14] <carter> when if you wrote down ConT<'a,VType> instead of Self,
[02:43:20] <carter> that'd be solved, right?
[02:43:30] <carter> ConT == some type constructor
[02:43:31] <carter> right?
[02:43:36] <carter> and VType being the value type
[02:43:37] <carter> idk
[02:44:08] <carter> just thinking / learning out loud
[02:44:20] <brson> nmatsakis: i've changed the internal docs from 'borrowed pointer' to 'reference' but left other mentions of 'borrowed' and 'borrowing'
[02:44:22] <carter> kvanb: idk if C conventions are the same now as they were 20 years ago
[02:44:40] <brson> so our docs still heavily equate references with borrowing
[02:44:42] <Yurume> pcwalton: static method with the Self argument with lifetime parameters?
[02:44:56] <kvanb> haskell conventions are ok
[02:45:10] <kvanb> its just wierd to ever see C files with capital letters because a lot of people write it ISO-ey
[02:45:29] <kvanb> like foo.c and bar.c, foo_t bar_t versus Foo.c & Foo Bar.c & Bar
[02:45:44] <carter> heh
[02:45:48] <kvanb> ofc that doesn't suit the runtime here
[02:45:51] <cmr> kvanb: carter: this is #rust, not #haskell. we have a #rust-offtopic
[02:45:57] <carter> i know,
[02:45:58] <Yurume> lol
[02:46:01] <nmatsakis> brson: sounds good
[02:46:12] <dwrensha> carter: yeah, it took me a while to wrap my head around where the quantification was happening in trait defs
[02:46:14] <carter> kvanb: socialize about ghc on #ghc
[02:46:32] <carter> dwrensha: it sonds like its currently on the magicky / wonky side...
[02:46:32] <kvanb> #ghc has angry old people in it.
[02:46:36] <kvanb> sometimes.
[02:46:38] <carter> kvanb: no,
[02:47:02] <dwrensha> carter: no, it does make sense, I think
[02:47:06] <carter> ok
[02:47:08] <carter> i know nothing
[02:48:36] *** Quits: mhr (mhr@moz-453998C8.dsl.bell.ca) (Ping timeout)
[02:50:58] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[02:51:36] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[02:51:51] <dwrensha> carter: Self is a type variable
[02:51:55] <carter> i know
[02:51:57] <carter> that much
[02:52:04] <\n> Can I pass a vec and it's length to a c function expecting a pointer and the decayed array's length?
[02:52:06] <dwrensha> when you write an implementation of a trait, you plug in your concrete type into Self
[02:52:10] <carter> yes
[02:52:19] <carter> self also only makes sense for traits with a single parameter...
[02:52:29] <dwrensha> how so?
[02:52:56] <benh> There's a vec method that gives you a pointer and a length, iirc
[02:53:02] <benh> something like as_buf
[02:53:11] <\n> benh: thanks, will look
[02:53:36] *** Joins: zmthy (zmthy@moz-2427443E.dyn.cust.vf.net.nz)
[02:53:47] <dwrensha> carter: if I have trait <'a, T> Foo { [Foo body] }
[02:53:47] <benh> oh, there's as_ptr these days
[02:54:16] <dwrensha> I can implement it like, e.g. : impl <'a, 'b, T, U> Foo <'a, T> for Bar<'a, 'b, T, U> { ... }
[02:54:52] <dwrensha> In which case, in the body of Foo, I substitute Bar<'a,'b,T,U> for Self
[02:55:02] <carter> dwrensha:  i'm thinking like haskell type clases
[02:55:21] <carter> thats like
[02:55:27] <\n> benh: where?
[02:55:47] <carter> instance Foo (Bar T U) where {   blah }
[02:55:48] <carter> in haskell
[02:55:56] <carter> thats a single parameter in the trait
[02:56:14] <carter> just because the type itself hasle multiple parameters doesn't mean the same thing
[02:56:28] <carter> theres some subleties to multi parameter traits / type classes though
[02:56:33] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:56:35] <\n> http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html#tymethod.as_ptr
[02:56:37] <carter> so its good that those aren't there (yet)
[02:57:20] *** Joins: sellout1 (Adium@moz-76D71F1A.hlrn.qwest.net)
[02:57:36] *** Quits: sellout (Adium@moz-76D71F1A.hlrn.qwest.net) (Ping timeout)
[02:59:01] *** Joins: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com)
[02:59:36] <dwrensha> Here's my vague understanding: rust traits can have any number of parameters, but they do not represent higher-kinded types because the universal type quantification must only occur at the outermost level, in some sense
[02:59:58] <Yurume> right.
[03:00:12] <carter> oh, the methods an't have a polymorphic type
[03:00:12] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[03:00:14] <carter> yeah
[03:00:25] <carter> it has to be monotopyed releative to the impl BlahT
[03:00:31] <carter> that fixes all the paramters
[03:00:39] <carter> but even that aside
[03:00:47] *** Joins: richo (richo@moz-1C569BCA.hsd1.ca.comcast.net)
[03:00:56] <carter> but even that aside, you can't write fancy types
[03:00:59] <carter> traits aside
[03:01:09] <richo> What's the best practice for pulling in other people's code? git submodules? Sorry if this is covered somwhere, I couldn't find anything
[03:01:09] <dwrensha> please define 'fancy'
[03:01:34] <carter> http://stackoverflow.com/questions/2199891/creating-polymorphic-recursive-types-in-haskell polymorphic recrusion
[03:01:48] *** Quits: gwty (gwtypc@B8540510.B7CA1378.F44414AF.IP) (Ping timeout)
[03:02:02] <carter> so http://stackoverflow.com/a/2201029/189176 specificly
[03:02:42] *** Joins: gwty (gwtypc@B8540510.B7CA1378.F44414AF.IP)
[03:03:04] <cmr> richo: there's no particular best practices right now
[03:03:12] <cmr> ideally you'd use rustpkg but that's not fully working yet.
[03:03:29] <richo> ok, that explains why I couldn't find anything
[03:03:30] <richo> thanks :)
[03:05:38] <dbaupp> steveklabnik: ping
[03:05:54] <steveklabnik> Sup
[03:06:06] <steveklabnik> Hey richo!
[03:06:09] <carter> oh hai steveklabnik 
[03:06:15] <richo> hey mang
[03:06:18] <richo> long time no see :)
[03:06:19] <dbaupp> steveklabnik: are you working on addressing the (non spelling) comments on the pointers guide?
[03:06:33] *** Quits: sellout1 (Adium@moz-76D71F1A.hlrn.qwest.net) (No route to host)
[03:06:33] <steveklabnik> I haven't. I can if you'd like
[03:06:35] *** Quits: zmthy (zmthy@moz-2427443E.dyn.cust.vf.net.nz) (Connection reset by peer)
[03:06:35] <dbaupp> steveklabnik: (I'd told brson I'd do it when it landed, but I was in bed before that.)
[03:06:41] <steveklabnik> I am just leaving work now
[03:07:13] <dbaupp> steveklabnik: ok, I'll probably start on it in an hour or so, if you do feel like doing it.
[03:07:28] <steveklabnik> Cool, I'll let you handle it the 
[03:07:34] <steveklabnik> Thanks <3
[03:07:43] <steveklabnik> I still have to put my talk together o_O
[03:09:48] <dbaupp> your talk?
[03:10:05] <carter> hrmmm, if rust got HKT, result's type params are in the wrong order... :/
[03:10:19] <carter> unless rust got type lambda...
[03:10:23] <dwrensha> carter: trait methods can be polymorphic, they just can't plug in different parameters to Self
[03:10:34] <carter> dwrensha: exactly my problem
[03:10:51] <carter> functor and monad traits would be handy!
[03:11:04] <carter> the get / get_opt stuff becomes simpler
[03:11:33] <carter> granted, still better than C despite that
[03:11:37] <carter> bttt
[03:11:40] <carter> etc etc
[03:11:48] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[03:11:49] *** Joins: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca)
[03:13:11] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[03:13:43] <steveklabnik> dbaupp I'm talking about rust at codemash in like 2 days
[03:14:06] <dbaupp> steveklabnik: oh, awesome! just a general rust talk, or something specific?
[03:14:32] <steveklabnik> General 
[03:14:42] <steveklabnik> Sort of aimed as comparing it to other languages
[03:14:56] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:14:58] <steveklabnik> "Rust for $language-ists"
[03:15:06] <Yurume> Rust for Rustists.
[03:17:30] *** Joins: sellout (Adium@moz-76D71F1A.hlrn.qwest.net)
[03:19:56] <Tobba> does rust support bit fields right now?
[03:20:14] <cmr> Tobba: no, and I very much doubt it ever will.
[03:20:24] <Tobba> crap
[03:20:34] <Tobba> why not though
[03:20:38] <cmr> esp since we guarantee C structure layout, and bitfields are an ABI minefield
[03:20:58] *** Quits: KindOne (KindOne@moz-318F1E02.dynamic.ip.windstream.net) (Ping timeout)
[03:21:25] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:21:33] <Tobba> if C structure layout is guranteed, how do you control packing
[03:21:37] <dbaupp> steveklabnik: is it recorded?
[03:21:53] <steveklabnik> I assume so
[03:21:54] <dbaupp> Tobba: #[packed] struct Foo { ... } gives you a completely packed struct.
[03:21:56] <cmr> C does not have struct packing, that's an extension.
[03:22:24] <Tobba> almost all compilers will align values in structs though
[03:22:30] <cmr> including ours
[03:22:46] <cmr> alignment in ABIs is usually sane
[03:23:37] <Tobba> I should take this opportunity to make my GDT setup not batshit insane too
[03:24:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:24:27] *** Quits: zz_kimundi (kimundi@moz-AEB542AA.dip0.t-ipconnect.de) (Ping timeout)
[03:24:59] *** Joins: KindOne (KindOne@moz-C69E43A5.dynamic.ip.windstream.net)
[03:25:44] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[03:25:45] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:26:08] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:26:21] <Tobba> I wish there was some way to declare that a static variable is safe to touch
[03:26:32] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:26:32] *** ChanServ sets mode: +ao dherman dherman
[03:27:00] <cmr> #[unsafe_safe]? :P
[03:27:03] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[03:27:09] <Tobba> p much
[03:27:09] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[03:27:24] <Tobba> I have some variables which would be really annoying to have to bash unsafe infront of since they're actually only written once
[03:27:29] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:27:50] *** Joins: zz_kimundi (kimundi@moz-87973BE2.dip0.t-ipconnect.de)
[03:28:09] *** zz_kimundi is now known as kimundi
[03:29:22] <dbaupp> my std::gc::Gc pointer is *only* 20 times slower than just ~ for allocations than \o/
[03:29:25] *** Joins: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[03:30:26] *** Quits: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca) (Quit: canhtak)
[03:30:47] <dbaupp> erm
[03:30:53] * dbaupp goes back to grammar classes
[03:30:56] <cmr> O_o what are you using for allocation
[03:31:05] <dbaupp> malloc and free
[03:31:10] <dbaupp> no caching or anything
[03:31:24] <dbaupp> it's *really* simple, and really naive
[03:31:37] <cmr> 20x slower seems extreme for any amount of bookkeeping
[03:32:03] <dbaupp> it also has to fetch the task local GC out of the task struct for every allocation
[03:32:21] <cmr> ah, that makes a bit of sense.
[03:32:26] <dbaupp> and std::trie could do with some optimisation
[03:32:29] <dbaupp> but
[03:32:46] *** Joins: maxli (maxli@moz-78AD779D.hsd1.ca.comcast.net)
[03:32:47] <dbaupp> the main point is it works, and isn't *completely* ridiculously slow.
[03:32:58] <dbaupp> only slightly ridiculously slow :P
[03:33:26] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[03:33:37] <Tobba> why is global state unsafe while struct state isnt though
[03:33:43] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:34:01] <dbaupp> what is struct state?
[03:34:53] <Tobba> well
[03:34:57] <Tobba> any variable on structs
[03:35:09] <Tobba> I dont see why globals would be any more unsafe than anything on structs
[03:35:10] <dbaupp> where is the struct placed?
[03:35:17] <cmr> Tobba: it's only mutable statics.
[03:35:19] <dbaupp> a struct in a global is unsafe
[03:35:25] <cmr> `static X: int = 5` is safe.
[03:35:31] <Tobba> yeah I know
[03:35:37] <Tobba> I have a crapload of mutable global state
[03:35:43] <Tobba> which is only initialized once
[03:35:52] <Tobba> thankfully most initialization code is hilariously unsafe anyways
[03:36:11] <dbaupp> write safe reader functions
[03:36:21] <Tobba> they're not read anywhere anyways
[03:36:31] <Tobba> I just want to avoid plastering unsafe over absolutely everything
[03:36:34] <dbaupp> Tobba: https://github.com/mozilla/rust/blob/master/src/libstd/rt/env.rs
[03:37:00] <Tobba> heh, 2MB stack
[03:37:04] <Tobba> my kernel gets ~8kb
[03:37:15] <dbaupp> luxury
[03:37:18] <Tobba> well, main loop gets 8kb
[03:37:43] <Tobba> coroutines get 4k but can expand to 128k
[03:37:47] <dbaupp> (that was just an example of initialise-once globals with safe wrappers, if it wasn't clear.)
[03:37:52] <Tobba> yeah I get it
[03:39:54] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Quit: Konversation terminated!)
[03:40:00] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[03:40:20] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Quit: Konversation terminated!)
[03:40:23] <Tobba> right now I have this thing
[03:40:25] <Tobba> static mut gdt: &[GDTEntry];
[03:40:33] <Tobba> is there any sane thing I could initialize this to (e.g empty) statically
[03:40:50] <Tobba> oh, ~[] worked
[03:41:14] <Tobba> and now for the lifetime, shit
[03:41:28] *** Quits: gwty (gwtypc@B8540510.B7CA1378.F44414AF.IP) (Ping timeout)
[03:43:09] <dbaupp> ~[] worked?
[03:43:17] <Tobba> I could initialize it to ~[]
[03:43:21] <Tobba> but I need to give it a lifetime
[03:43:43] <Tobba> like, it wants a lifetime specifier for the &[GDTEntry] part
[03:43:48] <dbaupp> `static mut gdt: &'static [GDTEntry] = &[];` is the only thing that will work reliably
[03:44:03] <Tobba> ah right, 'static was what I was looking for
[03:44:31] <cmr> Tobba: you can't initialize it to ~[]
[03:44:42] <cmr> statics require a constant initializer, ~[] involves runtime allocation.
[03:45:07] <Tobba> woo, it built
[03:45:20] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[03:45:26] <Tobba> I should probably consider it *really hacky* to do this transmute((0 as *[GDTEntry, ..3], 3));
[03:45:26] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[03:45:35] <Tobba> (thats gonna be a helper later, just FYI)
[03:45:48] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:45:49] *** ChanServ sets mode: +ao dherman dherman
[03:46:32] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[03:47:06] <Tobba> actually, I can drop the entire cast part
[03:47:16] <\n> how do I pass an array of uninitialized structs to a external c function?
[03:47:28] <Tobba> basicaly, is this a super-shitty idea gdt = transmute((<some pointer>, <some length>));
[03:47:51] <cmr> Tobba: nah, that should work.
[03:48:00] <Tobba> I know it'll work
[03:48:03] <cmr> \n: std::unstable::intrinsics::uninit() creates an uninitialized value.
[03:48:03] <benh> Uninitialized structs are unsafe, there's an unsafe intrinsic somewhere to not initialize something, could probably use that to initialize an array
[03:48:06] <Tobba> just, is it bound to change/murder me in the future
[03:48:18] <cmr> it shouldn't, no.
[03:48:18] <\n> cmr: thanks for the tip!
[03:48:36] <cmr> if the &[] repr changes, transmute will yell since the size of the types will no longer be equal
[03:48:46] <Tobba> ah, yeah
[03:48:55] <carter> cmr dherman acrichto : would proceural macros for a  monadic let notation for Option  / result be a good solution
[03:48:55] <carter> ?
[03:49:10] <carter> letOpt x = optx in foo(x) ;
[03:49:24] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:49:33] <\n> cmr: can't find in docs (even when using built in search)??
[03:49:35] <cmr> carter: maybe
[03:49:41] <dherman> carter: that's not very idiomatic for rust
[03:49:45] <dherman> the "in" part
[03:49:46] <dherman> at least
[03:49:52] <cmr> \n: std::unstable's documentation isn't generated.
[03:49:59] <carter> ok
[03:50:03] <dherman> carter: and it seems unnecessary to throw binding into the mix
[03:50:07] <carter> ok
[03:50:19] <dherman> if you wanted new syntax I'd think just a get operator like prefix ? would be more minimal/orthogonal
[03:50:32] <dherman> that's just my gut reaction
[03:50:45] <carter> i'm just thinking in terms of stuff that doesn't require a special operator
[03:51:02] <dherman> oh did you mean if we had a more general monadic syntax?
[03:51:04] <carter> yes
[03:51:07] <dherman> I see
[03:51:09] <dherman> that's a taller order
[03:51:13] <carter> yes
[03:51:15] <carter> i'm saying
[03:51:21] <carter> have an Option Let syntx
[03:51:25] <carter> and result let syntx
[03:51:28] <carter> etc
[03:51:33] <carter> that are macro defined
[03:51:36] <carter> as a near term thing
[03:51:44] <carter> then later make it appliative / fucntor / monadic later
[03:51:47] <Tobba> is there any proper way to get the size of something
[03:52:05] <carter> dherman: agree, fancy traits aren't tenable *right now*
[03:52:06] <\n> How do I convert a CString into a *i8?
[03:52:19] *** Quits: hays (quassel@moz-F21A68D1.washdc.east.verizon.net) (Ping timeout)
[03:52:21] <dherman> fancy traits?
[03:52:21] <carter> but having a macro for generating a per type  "do notation"
[03:52:36] <carter> Monad / Functor require traits that work on higher kinded stuff
[03:52:53] <bstrie> read my lips: no higher kinded stuff in 1.0
[03:52:57] <carter> i agree
[03:52:59] <carter> i wasn't saying that
[03:53:05] <bstrie> 1.1 is fine though :P
[03:53:06] <\n> unwrap
[03:53:15] <carter> i'm saying
[03:53:19] <dherman> I think you're mixing concerns a little here
[03:53:19] *** Joins: hays (quassel@moz-453A652A.washdc.east.verizon.net)
[03:53:21] <carter> ok
[03:53:22] <carter> could be
[03:53:26] <dherman> specifically,
[03:53:36] <dherman> I don't think it's a good idea to jump to questions of what lands when
[03:53:41] <dherman> when you're doing design, think about what you want
[03:53:43] <carter> yes
[03:53:47] <carter> i agree
[03:53:47] <dherman> we can strategize what's doable now or later afterwards
[03:53:53] <carter> i wasn't suggesting hkt
[03:54:00] <acrichto> \n: with_ref http://static.rust-lang.org/doc/master/std/c_str/index.html
[03:54:01] <dherman> not just hkt
[03:54:02] <carter> ohhh
[03:54:04] <carter> ook
[03:54:04] <carter> yeah
[03:54:07] <carter> godo point
[03:54:07] <dherman> the macros for each type stuff
[03:54:11] <dherman> think about what you want
[03:54:12] <carter> would be a hack
[03:54:21] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[03:54:22] <dherman> rollout plan comes after
[03:54:23] <carter> yeah
[03:54:25] <carter> ok
[03:54:28] <dherman> but
[03:54:30] <carter> valid points all
[03:54:32] <bstrie> hacks are ok in the short term, as long as they're just implementation details
[03:54:33] <dherman> I would also say,
[03:54:40] <dherman> the result stuff needs a solid story
[03:54:43] <carter> yes
[03:54:50] <carter> i can agree with that
[03:54:57] <dherman> and that will have to be nailed down sooner than later
[03:55:18] <dherman> I'm behind on what people are thinking about that
[03:55:22] <cmr> Option/Result have always felt a bit klunky to me
[03:55:25] <dherman> generally speaking I'm not the first person to go to
[03:55:50] <carter> relatedly, Result<t,e> is the wrong order if a simple HKT thing is the end goal
[03:56:08] <carter> unless type lambdas are in the mix... which can get hair if wrong
[03:56:20] <carter> i think
[03:56:42] <dwrensha> carter: because you might want to partially apply Result?
[03:56:46] <carter> yes
[03:56:53] <carter> and you tend to want to fix the error type
[03:56:56] <carter> not the value type
[03:57:41] <carter> otoh, the way rust does types is a bid different because everthing has to be monomorphized 
[03:58:09] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:58:19] *** Quits: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:59:39] *** Quits: hays (quassel@moz-453A652A.washdc.east.verizon.net) (Ping timeout)
[03:59:48] <carter> so it may not be a problem
[04:00:17] <carter> it'd just be a bit odd to have to write 
[04:00:38] *** Joins: hays (quassel@moz-52DE0066.washdc.east.verizon.net)
[04:01:56] <Tobba> so, for how many versions would you guys still consider the language "unstable"
[04:02:15] <dbaupp> until 1.0
[04:02:37] <Tobba> oh dear
[04:02:45] <Tobba> soon only one version left to get it right then
[04:02:50] <Tobba> unless someone wants to go for a 0.95
[04:02:53] <cmr> that's not how versions work
[04:02:55] <cmr> 0.10 is a thing
[04:03:08] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[04:03:09] <Tobba> yeah I know, I just read them out as decimals
[04:03:10] <Tobba> and I hate it
[04:03:14] <Tobba> 0.9.5 if you will then
[04:03:24] <Tobba> though, 0.9.1
[04:03:28] <Tobba> would be more appropriate
[04:03:36] *** Quits: lbdremy (lbdremy@moz-323EC907.dynamic.dsl.as9105.com) (Ping timeout)
[04:03:37] <Tobba> oh wait right
[04:03:41] <Tobba> disregard, 5AM shenanigans
[04:03:58] <cmr> brson: are we going to go semver when we hit 1.0?
[04:04:04] <cmr> (ie, 1.0.0)
[04:04:38] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:07:15] <jmgrosen> cool, my rethinkdb driver is coming along nicely :)
[04:07:43] <jmgrosen> I love Decodable and Encodable
[04:08:11] <Tobba> is there any reason I cant do [mut GDTEntry]
[04:08:24] <cmr> Tobba: mutability is through ownership
[04:08:33] <Tobba> ah
[04:08:33] <cmr> you want &'static mut [GDTEntry]
[04:08:35] <Tobba> yeah
[04:09:32] <Tobba> that breaks the &[] though
[04:09:38] <Tobba> and &mut [] causes an error
[04:09:48] <cmr> what's the error?
[04:09:56] <Tobba> unimplemented expression type
[04:10:18] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:10:27] <cmr> oh yikes
[04:10:29] <cmr> that's nasty
[04:10:33] *** jorendorff_away is now known as jorendorff
[04:10:40] <Tobba> I think I'm boned
[04:10:45] <cmr> yeah
[04:10:46] <Tobba> I'll just move it into a local fuck it
[04:10:48] *** Quits: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:10:53] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:12:33] <Tobba> oh boy, time to implement some lang_item's
[04:15:59] <Tobba> is there any way to do something like varargs currently?
[04:16:14] <Tobba> there should be in print actually, let me check libstd out
[04:17:45] <Tobba> ah, it doesnt use it
[04:17:50] <strcat> Tobba: there is support for unsafe C FFI varargs
[04:17:56] <Tobba> yeah screw that
[04:17:58] <strcat> not as part of the language, just use a slice
[04:17:59] <Tobba> I just want a print function
[04:18:49] *** Joins: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[04:18:56] <Tobba> not exactly sure how to do that
[04:19:25] <cmr> If you want format strings, you're not going to get them without basically reimplementing std::fmt and its associated syntax extensions.
[04:19:37] <Tobba> wasent gonna do that
[04:19:42] <Tobba> was hoping to be able to do something like
[04:19:53] <Tobba> print("sometext ", 2, " more text")
[04:20:15] <eevee> nope.  how would you even type that?
[04:20:25] <Tobba> i have no idea
[04:20:28] <cmr> print("sometext, " + 2.to_str() + " more text") ? :)
[04:20:45] <cmr> (3 allocations. yay)
[04:20:46] <Tobba> would involve some allocation wouldent it though
[04:20:49] <cmr> yup
[04:20:52] <Tobba> yep, cant do that
[04:21:06] <cmr> stdlib has zero-allocation formatting but...
[04:21:17] <Tobba> writing a kernel, if I malloc before it fully boots up it corrupts the living shit out of... everything
[04:21:51] <Tobba> actually will probably just put it at 0 or something and wreck the real mode interrupt table, which is also bad
[04:22:37] <cmr> so you need an itos that writes to a buffer I imagine
[04:22:47] <cmr> (you'll have to write it)
[04:22:49] <cmr> but no variadics
[04:22:55] <Tobba> bleh
[04:23:05] <cmr> print("sometest, "); print_int(2); print(" more text\n");
[04:23:10] <Tobba> I could just bash out a crapload of print statements, works too
[04:23:23] <Tobba> I can get away with not making separate print functions
[04:23:49] <cmr> the idiomatic way is to use a slice of trait objects, fn print(&[Printable])
[04:24:06] <Tobba> maybe I can just make some macro that expands print("a", 2, "c") into print("a") print(2) print("c")
[04:24:13] <cmr> yeah could probably do that too
[04:24:19] <Tobba> I havent touched macros yet though
[04:25:07] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[04:25:34] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[04:25:44] <Tobba> I need to do the same for my panic function actually
[04:25:58] <Tobba> but for that everything has pretty much exploded anyways so I can just allocate a scratch buffer
[04:26:01] <cmr> macro_rules! print ( ( $($x:expr),+ ) => ( { $( print(&$x); )+ } ) );
[04:26:03] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:26:20] <cmr> should do the trick (untested)
[04:26:36] <Tobba> oh god what
[04:27:49] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:27:56] <cmr> a macro with arm that matches a list `$( ),+`, which means one-or-more of the contents separated by a comma, with the contents being an expression, bound to the macro variable $x. it expands into a block `{ }` where the contents are `print(& $x)` for each item in the list.
[04:28:03] <Tobba> so basicaly
[04:28:06] <Tobba> syntax regex?
[04:28:32] <cmr> macros take a parsed token tree and product AST
[04:28:39] <cmr> basically yeah
[04:28:56] <Tobba> it gives expected item but found ;
[04:28:58] <Tobba> at the end of the line
[04:29:35] <Yurume> syntax-level pattern matching and substitution
[04:29:49] <cmr> Tobba: no semicolon after the macro_rules, sorry.
[04:29:52] <cmr> other than that hsould work.
[04:30:06] <cmr> (just tested it)
[04:31:51] <Tobba> those macros are amazing
[04:32:17] <Tobba> argh what
[04:32:27] <Tobba> apparently, the compiler defines print! itself
[04:32:29] <Tobba> (even with no_std)
[04:32:41] <Tobba> or something like that
[04:32:49] <cmr> it should be shadowed by your definition
[04:33:27] <Tobba> well I cant really import it
[04:33:32] <Tobba> I imported the module that its in
[04:33:40] <cmr> put #[macro_escape] on the moudle
[04:33:41] <cmr> *module
[04:34:03] <cmr> mcaros are a bit weird since they happen during parsing, long before module information is known.
[04:34:30] <Tobba> still does the same thing
[04:34:48] <Tobba> wait shit
[04:34:51] *** Quits: jdm|away (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[04:34:57] <Tobba> still doesnt import right
[04:35:22] *** Quits: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[04:37:51] *** Joins: joelteon (bzzt@moz-317E8D0C.io)
[04:38:55] *** Quits: pnkfelix (pnkfelix@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[04:40:27] <Tobba> do I have to explictly import the macro
[04:40:32] <Tobba> is is importing the module itself enough
[04:40:36] *** Joins: rustypipe (Mibbit@moz-2198B477.dllstx.fios.verizon.net)
[04:40:42] <cmr> shouldn't have to no
[04:40:53] *** jorendorff is now known as jorendorff_away
[04:41:00] <cmr> you might need #[macro_escape] on every module up to and including the crate root for it to be usable everywhere
[04:41:14] *** Quits: rustypipe (Mibbit@moz-2198B477.dllstx.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:41:20] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[04:42:39] <Tobba> ah, yeah
[04:43:11] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[04:43:37] <Tobba> yep, that worked, thanks
[04:46:11] *** Joins: zmthy (zmthy@moz-2427443E.dyn.cust.vf.net.nz)
[04:46:14] <Tobba> if I define print like
[04:46:17] <Tobba> pub fn print<T>(s: T) {
[04:46:26] <Tobba> how would I type match against s to get the value
[04:46:39] <Tobba> if thats even possible
[04:46:44] <cmr> you don't want that, that'd require all sorts of nasty reflection.
[04:46:54] <Tobba> I suspected so
[04:46:59] <Tobba> does rust support overloading?
[04:47:00] <cmr> pub fn print<T: Printable>(s: &T) { ... }
[04:47:10] <Tobba> ah
[04:47:16] <cmr> pub fn print<T: Printable>(s: &T) { s.print() }
[04:47:17] <cmr> or whatevs
[04:47:27] <Tobba> borrowed numbers dont make sense, but thats great yeah
[04:47:51] <cmr> well, llvm should optimize out the indirection, but it's needed so that it won't take ownership of whatever it is you're trying to print.
[04:48:05] <Tobba> yeah llvm will fix that up
[04:48:36] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Client exited)
[04:48:42] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[04:48:53] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[04:49:27] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:49:38] <brson> cmr: I don't understand the question
[04:49:52] *** Joins: wippler (Mibbit@moz-38276AA6.guam.net)
[04:50:18] <cmr> brson: ie is the rustc/rust language version number going to follow semver.org, thus 1.0.0 rather than just 1.0 etc
[04:50:56] <wippler> What replaces @mut T, Gc<RefCell<T>> ?
[04:51:13] <cmr> wippler: correct.
[04:51:14] <brson> cmr: i am not sure. the version number is reported in a number of different contexts. where does it matter?
[04:51:50] <cmr> brson: well I don't think it particularly matters anywhere, but it'd be nice to be using The Standard Versioning Scheme.
[04:52:08] *** Quits: wippler (Mibbit@moz-38276AA6.guam.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:52:41] <brson> cmr: can you file an issue and nominate it?
[04:52:43] <cmr> sure
[04:52:46] <brson> thanks
[04:53:14] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: Leaving)
[04:53:47] <brson> building the rustc and syntax docs didn't take that long
[04:55:05] <brson> well, 40s
[04:55:13] <brson> i guess that's awhile
[04:55:34] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:55:51] <Tobba> I think I'll make it format uint and int as decimal and i8, i16, i32, etc as hex
[04:56:03] <Tobba> and making pointers printable, this should be excellent
[04:57:19] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[04:58:13] <klutzy> btw there's semver-on-rustpkg issue (#8405)
[04:58:14] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[04:58:54] <brson> cmr: do you think rustc and syntax docs should be part of the main doc index?
[04:58:59] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[04:59:23] <cmr> https://github.com/mozilla/rust/issues/11396
[04:59:25] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:59:26] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:59:26] <cmr> brson: yes
[04:59:33] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Client exited)
[05:01:09] <klutzy> cmr: do you think third-party libraries should also follow semver?
[05:01:16] <cmr> klutzy: certainly
[05:01:19] <cmr> semver all the things.
[05:01:26] <klutzy> sound great
[05:03:03] <cmr> I thought rustpkg already supported semver
[05:03:11] <cmr> I rememver seeing semver all over its source
[05:03:14] <klutzy> cmr: there's some base codes but nothing is used
[05:03:19] <cmr> ah ok
[05:04:29] <klutzy> there is enum Version { ExactVersion(~str), SemanticVersion(semver::Version), Tagged(~str), NoVersion }
[05:04:33] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[05:04:59] <klutzy> where only ExactVersion and NoVersion are used
[05:05:39] *** Joins: coderkit (bzlandfill@moz-7F7554EC.per800.wa.optusnet.com.au)
[05:05:42] <klutzy> it seems quite subtle to distinguish semver with any arbitrary version, if we don't force semver everywhere
[05:06:15] <cmr> I think we should mandate semver, using the same logic that we use to mandate utf8 strings and \n as source newline.
[05:06:37] <coderkit> guys can you help me out with an error while installing rust?
[05:06:43] <cmr> coderkit: sure, what's up?
[05:06:43] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:07:01] <coderkit> i'm on mac and i'm installing rust 0.8
[05:07:11] <coderkit> it turns up with error 71
[05:07:15] <coderkit> permission denied
[05:07:24] <cmr> on make install? run it with sudo
[05:07:27] <sfackler> coderkit: I just replied to your issue. you need to install with sudo to be able to write to /usr/bin
[05:07:33] *** Joins: japaric (japaric@5F207A99.A347E168.F4D5766F.IP)
[05:07:44] <cmr> `make; sudo make install` is the proper incantation.
[05:07:44] <coderkit> i did, it still turn up
[05:07:59] <coderkit> i'm retrying right now
[05:10:33] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:10:46] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:10:46] *** ChanServ sets mode: +ao dherman dherman
[05:11:19] <coderkit> so is the command  'sudo make && make install'  ?
[05:11:35] *** Joins: mhr (mhr@moz-453998C8.dsl.bell.ca)
[05:11:35] <klutzy> coderkit: no, `make install` requires sudo, not `make`
[05:11:39] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[05:11:39] *** ChanServ sets mode: +o tjc
[05:11:52] <klutzy> coderkit: so `make && sudo make install` is usual practice
[05:11:58] <coderkit> ok
[05:12:18] <coderkit> thanks
[05:15:21] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[05:16:57] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[05:18:09] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:18:21] <klutzy> cmr: it would be good to have a tool which checks api backwards-compatibility between two codes
[05:18:31] <klutzy> and also checks semver is sanely updated :p
[05:18:32] <cmr> klutzy: there's an issue open for that I think
[05:18:37] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:19:25] <alan_andrade> I want to pass a BufferedReader as argument and I'm doing this `fn foo(reader: BufferedReader)`
[05:19:33] <alan_andrade> but I get  error: wrong number of type arguments: expected 1 but found 0
[05:19:54] <klutzy> cmr: this? https://github.com/mozilla/rust/issues/6508
[05:19:54] <alan_andrade> I forgot the & in the fn
[05:19:54] <sfackler> alan_andrade: BufferedReader is a generic type
[05:20:46] <alan_andrade> That means that I can ask for just a Reader right ?
[05:21:09] <cmr> klutzy: that's the one, yup.
[05:21:41] <sfackler> alan_andrade: you can do either "fn foo<R: Reader>(reader: &R)" or "fn foo(reader: &Reader)"
[05:21:54] <sfackler> depending on if you want to use trait objects or not
[05:22:24] *** Quits: coderkit (bzlandfill@moz-7F7554EC.per800.wa.optusnet.com.au) (Quit: CGI:IRC (EOF))
[05:23:10] <klutzy> alan_andrade: if you want buffered one, you may use `fn f<T>(a: BufferedReader<T>)`
[05:23:27] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[05:23:29] <alan_andrade> oh man, I'm lost :(
[05:23:37] <alan_andrade> I need to learn more about Traits and syntax
[05:24:09] *** Quits: FreeFull (freefull@moz-12F1414C.as13285.net) (Ping timeout)
[05:24:53] <klutzy> alan_andrade: if you have `struct A<T> {...}`, you have to specify what T is: `fn f(a: A<int>)` or make generic function: `fn f<T>(a: A<T>)`
[05:25:06] *** Joins: FreeFull (freefull@moz-CDC8BC2F.as13285.net)
[05:26:33] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[05:27:04] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:27:04] *** Joins: t4nk865 (bzlandfill@moz-7F7554EC.per800.wa.optusnet.com.au)
[05:27:22] *** Quits: KindOne (KindOne@moz-C69E43A5.dynamic.ip.windstream.net) (Ping timeout)
[05:28:19] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:28:45] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[05:28:52] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:31:16] *** Joins: KindOne (KindOne@41031D3E.D503CCD9.EC6A1518.IP)
[05:31:45] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[05:32:42] *** Quits: Liothen (liothen@moz-92B99500.org) (Quit: Textual IRC Client: www.textualapp.com)
[05:33:15] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[05:34:07] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[05:34:07] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[05:34:16] *** Quits: FreeFull (freefull@moz-CDC8BC2F.as13285.net) (Ping timeout)
[05:37:13] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:37:40] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[05:37:44] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[05:37:50] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[05:37:50] *** ChanServ sets mode: +ao brson brson
[05:37:52] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:42:19] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[05:43:15] <brson> cmr: cmr.github.io is the 5th highest referrer to github.com/mozilla/rust, for whatever that's worth
[05:43:29] <brson> just behind reddit
[05:43:41] <cmr> cool :)
[05:44:19] *** Quits: dmckeone (dmckeone@moz-7652413D.cg.shawcable.net) (Client exited)
[05:47:08] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:47:08] *** Quits: zmthy (zmthy@moz-2427443E.dyn.cust.vf.net.nz) (Connection reset by peer)
[05:47:24] <t4nk865> how do i do sudo install on mac again please
[05:47:42] <bjz> cmr: \o/
[05:49:14] *** Quits: t4nk865 (bzlandfill@moz-7F7554EC.per800.wa.optusnet.com.au) (Quit: CGI:IRC)
[05:51:11] *** Joins: chirag (chirag@25620E06.F9DF2FD8.E9463AEB.IP)
[05:51:31] *** chirag is now known as catilac
[05:52:32] <catilac> Whats a good place to get started contributing to rust?
[05:53:17] <cmr> catilac: there are lots of good places! what are you most interested in? :)
[05:53:29] <cmr> (see also https://github.com/mozilla/rust/wiki/Note-guide-for-new-contributors)
[05:54:22] <catilac> cmr thanks for that link! exactly what i was looking for. to be honestly, i'm not sure where i want to start. anything really, just looking for something fun and interesting to build
[05:54:37] <catilac> honest*
[05:54:54] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:55:13] <cmr> catilac: we could always use better docs. you could try building a program and adding documentation to the stuff you find lacking.
[05:56:09] <cmr> catilac: additionally, a lot of the shootout benchmarks in src/test/bench severely need updating
[05:56:59] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[05:57:25] <catilac> cmr: yeah thats great. i'll definitely contribute that way as i chug along. perhaps i can fix some easy bugs
[05:58:19] *** Quits: mhr (mhr@moz-453998C8.dsl.bell.ca) (Ping timeout)
[05:59:24] *** Joins: pnathan (Adium@moz-A8921E45.tukw.qwest.net)
[06:00:32] *** Joins: astropirate (astropirat@moz-E6201624.hsd1.co.comcast.net)
[06:04:23] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:04:48] *** Joins: Skrylar_ (Skrylar@moz-F692F728.austin.res.rr.com)
[06:05:54] <Skrylar_> okay, so i tried to figure this out on my own but i can't; i used vec::with_capacity to make a vector buffer, then io::Reader::read to read data, but if I try to slice the buffer to the exact size I asked it says assertion failed
[06:06:06] <Skrylar_> so it seems like vec::with_capacity is not giving me a buffer of the actual capacity
[06:06:20] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:06:45] <cmr> Skrylar_: capacity and length are different, and read will only coerce to a slice and write up to the slice's length.
[06:06:59] <cmr> So you need to zero-fill it, or (unsafely) use set_len
[06:08:08] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:08:19] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[06:08:44] *** Joins: bodge (kyle@moz-6ED2EAB8.lns20.adl2.internode.on.net)
[06:13:13] *** Quits: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) (Quit: kvanb)
[06:14:25] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:14:58] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:15:39] *** Joins: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au)
[06:16:47] <Skrylar_> cmr: bleh, alright
[06:17:13] <Skrylar_> i'll use set_len because its going to be read in to, no sense wasting cycles zeroing out that
[06:18:12] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Input/output error)
[06:23:56] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[06:25:07] *** Joins: FreeFull (freefull@moz-2BBF250C.as13285.net)
[06:25:17] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[06:25:17] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Broken pipe)
[06:25:41] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[06:27:06] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:28:50] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:29:23] *** Joins: benjamin__ (benjamin@moz-6503217C.dip0.t-ipconnect.de)
[06:30:27] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[06:30:35] *** Quits: short (Mibbit@moz-DEF859BF.hsd1.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:30:57] <astropirate> cmr, woah you are here and freenode#haskell?
[06:31:05] <cmr> astropirate: I am!
[06:31:09] <cmr> astropirate: I'm also learning haskell
[06:31:19] <astropirate> sweet
[06:31:34] <astropirate> my current delema is to learn rust or haskell :\
[06:32:04] <cmr> What is your goal? Why do you want to learn a new language, why have you narrowed it down to those two?
[06:32:38] <astropirate> good questions
[06:32:49] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[06:34:10] <astropirate> Goals, for webdev, I have been using Node.js (I know.. don't hate me) and I'm sick of it. I looked at Go, and have been using Go for backend stuff (data processing, basic analitics) and it works great, but not a big fan of its type system
[06:34:58] <astropirate> and everytime I use C++ for native stuff.. i ask myself there has to be something better than this
[06:35:03] <Tobba> is there any good way to make an array that must be on the stack
[06:35:32] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[06:35:32] <cmr> Tobba: let x: &[T] = [...];
[06:35:41] *** Quits: maxli (maxli@moz-78AD779D.hsd1.ca.comcast.net) (Quit: Leaving.)
[06:35:43] <cmr> *should* do the trick, since [T, ..n] coerces to a slice.
[06:36:30] <Tobba> seems to have worked
[06:36:35] <Tobba> is there any better way to write 0u8 as char
[06:36:38] <Tobba> because that is a bit dumb
[06:36:42] <cmr> '\0'
[06:36:50] <Tobba> good idea
[06:37:57] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:38:31] <cmr> astropirate: if your goal is webdev, rust is a very poor choice right now.
[06:38:41] <cmr> you'd have to write your own web framework etc etc
[06:38:45] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:39:57] <brson> but think of how much glory there would be in the first featureful web framework for rust
[06:40:13] *** Quits: heftig (heftig@moz-B29C59B9.dip0.t-ipconnect.de) (Quit: Quitting)
[06:40:38] <brson> this is what happens when people try to use rust - they end up writing libraries and frameworks so they can someday use rust
[06:40:49] <cmr> yeah
[06:41:00] <lahwran> that sounds like what happened in early python
[06:41:00] <brson> but that's way more fun anyway
[06:41:04] <lahwran> there is hope
[06:41:07] <astropirate> cmr, brson, Is rust high level enough for being productive with web dev stuff?
[06:41:08] <lahwran> :p
[06:41:15] <cmr> astropirate: hopefully!
[06:41:18] <lahwran> sure! definitely!
[06:41:22] <cmr> astropirate: don't know till we try, right?
[06:41:27] <lahwran> but, without any libraries, that doesn't matter in the slightest!
[06:41:43] <cmr> I think it can be.
[06:41:46] <lahwran> well, you could do CGI I mean I don't have anything to say here
[06:42:18] <cmr> lahwran: someone I know IRL pointed out that your nick is narwhal backwards. for all the years I've been in spurious contact with you, I never noticed
[06:42:33] <lahwran> "for all the years"
[06:42:36] <lahwran> ...do I know you?
[06:42:37] <bjz> astropirate: it depends on what kind of web dev probably. But we're still working out the areas Rust is good in.
[06:42:44] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Client exited)
[06:43:04] <lahwran> cmr: do I know you as something else, perhaps?
[06:43:14] <cmr> lahwran: check your reddit messages for cmrx64! (I found that one accidentally the other day). We were in #python and its social channel together for a while
[06:43:21] <cmr> kb1pkl, octayn, are my previous names.
[06:43:41] <lahwran> I don't use reddit anymore
[06:43:45] <lahwran> not sure if I still have the auth for it
[06:43:54] <lahwran> I'd have to dig
[06:44:39] <cmr> http://i.imgur.com/EtE52cM.png
[06:44:57] <bjz> astropirate: you definitely have to think more about memory management in Rust - whether that is a problem for productivity in web dev is an open question.
[06:45:28] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[06:45:38] <lahwran> cmr: hah
[06:45:44] <lahwran> btw, are your initials cmr?
[06:45:57] <lahwran> mine are cmh :)
[06:46:11] <lahwran> (can't stand my initials, my parents overused them)
[06:46:20] <cmr> they are
[06:46:20] * cmr is unoriginal
[06:46:47] <bjz> astropirate: rust can also interface as well as C with other langs, so you could write demanding stuff in Rust and the high level glue in another lang
[06:46:55] <cmr> I adopted this nick when dmr died. I'd been thinking about it for a while, but in my mind it's a sort of tribute
[06:47:12] <astropirate> bjz, good points
[06:47:13] <lahwran> you can also use C libraries from rust
[06:49:43] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[06:49:44] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:51:15] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:51:27] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Input/output error)
[06:51:41] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[06:54:06] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[06:54:37] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:55:03] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[06:56:06] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:56:32] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:56:57] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[06:57:17] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[06:58:26] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:58:52] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[06:58:53] *** Quits: dogweather (dogweather@moz-4EC23EE5.hsd1.or.comcast.net) (Client exited)
[06:59:04] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[07:00:22] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:01:26] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[07:02:31] *** Joins: fabiand (fabiand@moz-89D00DFE.adsl.alicedsl.de)
[07:02:43] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Connection reset by peer)
[07:03:20] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[07:06:36] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[07:07:02] *** Quits: catilac (chirag@25620E06.F9DF2FD8.E9463AEB.IP) (Quit: Leaving...)
[07:08:17] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Client exited)
[07:08:32] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[07:10:19] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[07:10:23] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: sanxiyn)
[07:10:48] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:11:41] *** Joins: glaebhoerl (glaebhoerl@moz-3590251D.kabelnet.hu)
[07:12:20] *** Joins: pnkfelix (pnkfelix@70A6E7A1.55ADD344.4C2245EF.IP)
[07:12:40] *** Joins: magg (magg@7AE3FD17.828EC19E.3D0AE249.IP)
[07:15:33] <magg> std::rt::io::file or extra::fileinput for reading files?
[07:16:00] *** Quits: KindOne (KindOne@41031D3E.D503CCD9.EC6A1518.IP) (Ping timeout)
[07:16:49] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[07:17:11] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[07:17:39] <cmr> magg: in 0.8?
[07:17:47] <magg> crm: yes
[07:17:52] <cmr> rt::io::file
[07:18:22] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[07:18:36] <magg> k, thx
[07:19:11] *** Joins: gkostyanikov (gkostyanik@7B4C1402.3E410295.CA6E2165.IP)
[07:20:28] *** Joins: KindOne (KindOne@31BF2913.D40F8E6E.EC6A1518.IP)
[07:20:56] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:21:25] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Client exited)
[07:25:22] *** Joins: lenstr (lenstr@199F009F.9636F313.7A27613B.IP)
[07:26:42] *** Joins: pzol (pzol@moz-9EAEDCB0.internetdsl.tpnet.pl)
[07:26:57] *** Quits: pnathan (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[07:27:02] *** Quits: lenstr (lenstr@199F009F.9636F313.7A27613B.IP) (Ping timeout)
[07:27:40] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[07:27:43] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:29:27] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[07:31:10] *** Joins: victorporof (victorporo@5EC92F85.71368607.9B1E38F4.IP)
[07:35:15] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Input/output error)
[07:38:24] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[07:39:08] <Skrylar_> well thats a fun glitch
[07:39:11] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[07:39:14] <Skrylar_> i put -69 in to a function which accepts uint
[07:39:35] <Skrylar_> Rust did not complain that I tried to put a negative in to an unsigned type, it quietly turned it in to the binary equivalent
[07:39:55] <cmr> our integers are defined as two's complement, and negative literals for uints are also well-defined.
[07:40:24] <Skrylar_> cmr: its technically out of bounds
[07:40:34] *** Joins: sk (sk@64DABFAC.CD78E0D.24EDD759.IP)
[07:41:09] <cmr> Skrylar_: but it isn't! -int::min_value - 1 is, though
[07:41:13] <pnkfelix> Skrylar_: see https://github.com/mozilla/rust/issues/9037
[07:42:03] * Skrylar_ will still hold that its *inconsistent*, because assigning excess of a positive *does not* silently wrap-around, and other languages *do not* silently underflow with literals
[07:42:12] <Skrylar_> but nobody ever cares when i mention cross-language consistency, so :\
[07:42:26] <cmr> C and C++ do
[07:42:32] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:43:15] <Skrylar_> i think Pascal rejects it, I forget the whole list
[07:44:04] *** Quits: pzol (pzol@moz-9EAEDCB0.internetdsl.tpnet.pl) (Ping timeout)
[07:44:41] <cmr> I think we should have a lint for it though
[07:44:50] <cmr> if you want all the bits set, use !0, not -1
[07:45:00] <pnkfelix> cmr: yeah strcat's comments on the ticket i linked claim that there's a ticket open for a lint for that
[07:45:11] <pnkfelix> cmr: but it didn't have an issue number
[07:45:26] *** Quits: FreeFull (freefull@moz-2BBF250C.as13285.net) (Ping timeout)
[07:46:26] *** Joins: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP)
[07:46:32] *** Joins: FreeFull (freefull@9A00675B.C5EF153E.3775A18E.IP)
[07:46:59] <Skrylar_> i posted a comment on it
[07:47:02] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[07:47:09] <Skrylar_> i see it as bad that you get an error for trying to overflow but not underflow
[07:47:25] <Skrylar_> it gives the impression the language won't allow quiet nonsense, and then it allows it only in one direction (atm)
[07:47:34] *** Joins: pzol (pzol@moz-9EAEDCB0.internetdsl.tpnet.pl)
[07:54:26] <ercxx> stupid question: cant a impl function like fn something(&self)  be passed around?
[07:54:34] <ercxx> cant=can
[07:54:41] <cmr> ercxx: no, methods are not first-class.
[07:54:57] <cmr> however you can pass around || foo.something()
[07:55:43] <ercxx> cmr: I don't want the value, I want the function to be called.
[07:55:53] <ercxx> use channels I guess
[07:56:19] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[07:56:22] *** Quits: eco (eco@moz-87840B9D.net) (Client exited)
[07:56:54] *** Joins: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:57:00] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[07:57:06] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:57:36] <ercxx> also is there a way to have something like a cloneable DuplexStream?
[07:57:46] <ercxx> Does that even make sense?
[07:57:58] *** Joins: b1nd (b1nd@moz-5A306E04.lns17.ken.bigpond.net.au)
[07:58:52] <b1nd> Hey everybody, new here
[07:58:58] *** Joins: eco (eco@moz-87840B9D.net)
[07:59:14] <cmr> hi b1nd :)
[08:00:08] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[08:01:32] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[08:02:23] *** Joins: bluegreen (zaphood@moz-3ECBAB41.dfri.se)
[08:02:52] *** Quits: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP) (Ping timeout)
[08:03:14] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[08:04:28] *** Quits: gkostyanikov (gkostyanik@7B4C1402.3E410295.CA6E2165.IP) (Ping timeout)
[08:04:38] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Quit: Konversation terminated!)
[08:04:42] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[08:08:17] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[08:10:24] <b1nd> Is this place active for rust discussion?
[08:10:42] <Ms2ger> Yes
[08:10:51] <cmr> yes, but it's 3am-midnight in the US right now
[08:10:59] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[08:11:11] <diverse> cmr: east coast right?
[08:11:15] <cmr> someone should scrape botbot for a histogram of #rust activity
[08:11:19] <cmr> diverse: I am, yes.
[08:11:44] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[08:12:08] *** Quits: magg (magg@7AE3FD17.828EC19E.3D0AE249.IP) (Quit: magg)
[08:12:15] *** Quits: astropirate (astropirat@moz-E6201624.hsd1.co.comcast.net) (Quit: Leaving)
[08:13:57] *** Quits: eco (eco@moz-87840B9D.net) (Client exited)
[08:14:19] <b1nd> Ah cool
[08:14:36] <b1nd> Was just going to discuss the definitions in the docs
[08:14:43] <cmr> go for it
[08:14:59] <b1nd> So I found that there is a lot of implicit definitions for things throughout the documentation
[08:15:14] <cmr> API documentation, or the manual/guides?
[08:15:18] <b1nd> There's a lot of keywords like (un)boxing and indirection etc
[08:15:20] <b1nd> guides
[08:15:23] <cmr> ok
[08:15:47] <b1nd> that for a new developer coming to rust, without previous experience would be confused by them
[08:16:45] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[08:17:45] <cmr> there is an unofficial glossary on the wiki: https://github.com/mozilla/rust/wiki/The-Rusticon
[08:17:55] <b1nd> Then there's the keywords for pointers (borrowed, managed, owned) that were ambiguous at first. Though I saw that brson fixed up the wording of 'borrowed' pointer to 'reference' which I like
[08:18:34] *** Quits: pzol (pzol@moz-9EAEDCB0.internetdsl.tpnet.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:19:30] <b1nd> So had a few questions with the use of borrowed pointers. Are they just like references in other languages?
[08:19:37] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Client exited)
[08:19:56] <cmr> They're similar, though not exact.
[08:20:26] <cmr> Borrowed pointers are represented as a raw pointer (that is, just like a pointer in C), but they have a few analysis done around them that makes sure they are always memory-safe.
[08:20:28] <sanxiyn> For example, there are mutable and immutable ones.
[08:20:41] <cmr> (Thus the lifetime, and the aliasing rules)
[08:20:41] <Skrylar_> sweet success... i wrote a full msgpack encoder/decoder
[08:20:49] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[08:20:59] <cmr> Skrylar_: you saw that https://github.com/mneumann/rust-msgpack was just announced, right?
[08:21:19] <sanxiyn> cmr: There's also https://github.com/omasanori/msgpack-rust
[08:21:30] <Skrylar_> i looked at some of the ones that were out there
[08:21:54] <sanxiyn> Ah, omasanori said it will be abandoned...
[08:21:57] <Skrylar_> mine doesn't rely entirely on Encodable and rust serialization though :/
[08:22:14] <Skrylar_> and IIRC mneumann's doesn't support half the encoder trait
[08:22:14] <sanxiyn> I see
[08:22:39] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[08:22:41] *** Joins: pzol (pzol@moz-9EAEDCB0.internetdsl.tpnet.pl)
[08:23:01] <Skrylar_> yeah, i just checked; mneuman's isn't standalone
[08:23:22] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[08:23:23] <sanxiyn> What does it mean to be standalone?
[08:23:25] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Connection reset by peer)
[08:24:01] <Skrylar_> sanxiyn: i have a Reader and Writer which sit over an io::Reader and io::Writer, and allow reading the msgpack stream directly; e.g. you don't have to read in to a serialized struct
[08:24:14] <Skrylar_> which also means it supports the extension fields in the msgpack spec
[08:24:19] <sanxiyn> I see
[08:24:59] <sanxiyn> Presumably reading-to-struct should be built on such reading-directly foundation?
[08:25:07] <Skrylar_> yeah
[08:25:25] <Skrylar_> i re-checked and mneumann's directly goes serilization->bytes, so you have no option to read arbitrary streams
[08:25:45] <sanxiyn> Is anyone working on BitTorrent implementation?
[08:26:41] <cmr> sanxiyn: not that I've seen
[08:26:42] * Skrylar_ would also like to add a zero-copy decoder like msgpack-c some time, because those are useful to cut down performance bloat on packet code
[08:26:46] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Quit: Konversation terminated!)
[08:27:03] <sanxiyn> "There are many like it, but this one is mine." -- BitTorrent implementer's creed
[08:27:55] <sanxiyn> BitTorrent is, like, one of the most important internet protocol in existence
[08:28:10] <Skrylar_> eerr
[08:28:13] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:28:23] <Skrylar_> i guess, if you count the number of extensions it has duct taped on
[08:28:25] <cmr> not eithernet, or IP?
[08:28:38] <sanxiyn> I mean, in terms of traffic volume
[08:28:38] <Yurume> one of such protocols? :)
[08:28:55] <sanxiyn> HTTP, and BitTorrent
[08:29:05] <sanxiyn> cmr: Well IP is not an application-level protocol
[08:29:22] <Skrylar_> i'm not sure how much of it was BS, but someone was telling me of an IPTV-type replacement for TCP which reduced the bandwidth requirements for multicasting
[08:29:35] <Skrylar_> because it had the router distribute the packets instead of the source piping it out for each client
[08:29:53] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:30:17] <sanxiyn> Skrylar_: SCTP?
[08:30:31] <Skrylar_> they didn't give me the name
[08:30:43] <Skrylar_> just said what it did, and ISPs rejected it because they couldn't meter the upstream as much
[08:30:46] *** Quits: thesnowdog (doug@ADE066C5.CDB23781.6F17036B.IP) (Connection reset by peer)
[08:31:13] <sanxiyn> Skrylar_: Huh
[08:31:37] *** Quits: pnkfelix (pnkfelix@70A6E7A1.55ADD344.4C2245EF.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[08:31:40] <sanxiyn> Skrylar_: That's strange. ISPs want network to be inefficient so that they can meter more?
[08:31:44] <sanxiyn> That doesn't make much sense
[08:31:53] <Ms2ger> Well, TCP is fair
[08:31:58] <Skrylar_> sanxiyn: its the USA :P
[08:32:09] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[08:32:15] <Skrylar_> they don't want to lay fiber because they couldn't charge more for copper if the lines weren't overloaded
[08:32:21] <sanxiyn> Ms2ger: Fair?
[08:32:30] *** Joins: eco (eco@moz-87840B9D.net)
[08:33:10] <Skrylar_> sanxiyn: well picture this; if i want to stream to 4 people right now i have to transmit four packets from my side and they can clock that as a specific upstream
[08:33:38] <Skrylar_> sanxiyn: if i sent one packet with four targets, and routers branch transmit it, then i don't need as big of an upstream personally because i only send 1/4th the data
[08:34:05] <Ms2ger> The congestion control (https://en.wikipedia.org/wiki/Additive_increase/multiplicative_decrease) makes sure that in the face of congestion, connections converge to using roughly the same bandwidth
[08:35:04] <sanxiyn> Ms2ger: You mean, when connections use same congestion control
[08:35:13] <cmr> Skrylar_: I can see a fairly simple extension to IP allowing for this.
[08:35:15] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[08:35:19] <Ms2ger> Right
[08:35:24] <Ms2ger> Which they do, by and large
[08:35:27] *** Joins: benjamin_ (benjamin@moz-CC1E7FA.dip0.t-ipconnect.de)
[08:35:40] <Skrylar_> cmr: yeah, but they're never going to do it
[08:35:44] <cmr> Multiple destination addresses; if a router can't service some of them, it removes the addresses and serves the rest.
[08:35:46] <cmr> Skrylar_: sure
[08:35:49] <sanxiyn> My understsanding is you can't really introduce new (and better) congestion control algorithm on the public internet because of fairness issues to existing algorithms
[08:35:53] <cmr> but it's not, like, totally BS idea.
[08:36:04] <Skrylar_> i keep being told some BS about how "oh the USA is bigger thats why our connections are worse"
[08:36:10] *** Quits: benjamin__ (benjamin@moz-6503217C.dip0.t-ipconnect.de) (Ping timeout)
[08:36:16] <Skrylar_> how many land acres of europe need to be  covered by fiber before that excuse is thrown out?
[08:36:24] <Skrylar_> 'cause, well, there's more fiber across europe than the USA
[08:37:11] <cmr> it's pretty silly. the only ISP that still serves this area ran fiber through the town, and didn't drop down to the local exchange.
[08:37:25] *** Joins: thesnowdog (doug@ADE066C5.CDB23781.6F17036B.IP)
[08:37:28] <cmr> so we're still stuck with crappy slow internet when I could walk out my door and cut a fiber line
[08:37:41] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[08:38:14] <Skrylar_> pff thats clever. the bit marker for negatives in msgpack is 111
[08:38:29] <Skrylar_> which means for negative values, you don't have to mask out the header for that byte
[08:38:58] <Ms2ger> "the only ISP that still serves this area"
[08:39:05] <Ms2ger> I think that's your issue right there :)
[08:39:11] <cmr> basically yeah
[08:39:18] <cmr> I mean there's satellite internet but that's almost as bad as broadband.
[08:39:28] <cmr> s/broadband/dialup/
[08:39:29] * sanxiyn lives in South Korea, which has best connections in the world
[08:39:39] <cmr> (and a bunch of people here still *do* have dialup)
[08:40:03] <cmr> my campus has a gigabit, and the CS labs are unthrottled. it's pretty great
[08:40:17] *** Quits: pzol (pzol@moz-9EAEDCB0.internetdsl.tpnet.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:40:19] <Skrylar_> time to rewrite springrts in rust
[08:40:21] <Skrylar_> lolololno
[08:40:36] *** flaper87|afk is now known as flaper87
[08:40:46] <Yurume> is it an RTS engine?
[08:40:50] <Yurume> RTS game engine*
[08:40:59] <Skrylar_> spring? yeah, its the total annihilation rewrite
[08:41:18] <Yurume> aha
[08:41:58] <Skrylar_> -> gamedev
[08:42:47] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[08:43:23] * bjz lives in australia, home of the government who thinks copper cable is ok
[08:44:12] <bjz> http://spectrum.ieee.org/telecom/internet/the-rise-and-fall-of-australias-44-billion-broadband-project
[08:44:21] <eddyb> bjz: copper is fine
[08:44:33] <bjz> eddyb: yeah it's fine
[08:44:53] <bjz> eddyb: but it'll cost us in the long run
[08:44:54] <eddyb> I mean, it can handle 100Mbps from the fiber modem in the block to my apartment :D
[08:44:57] <sanxiyn> Korean fibre penetration: http://www.oecd.org/sti/broadband/broadband-statistics-update.htm
[08:44:58] <sanxiyn> :)
[08:45:15] <Skrylar_> japans is pretty considerable too now, as is sweden's
[08:45:32] <bjz> all the little countries
[08:45:35] *** Quits: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:45:37] <Yurume> bjz: ha, that seems to be wrecked by the politics :S
[08:45:46] <bjz> aye
[08:45:49] <sanxiyn> bjz: Well Japan is not *that* little
[08:45:57] <bjz> sanxiyn: it is
[08:46:01] <bjz> tiny
[08:46:13] <sanxiyn> I guess compared to Australia it is
[08:46:19] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[08:46:19] <bjz> compared to its population
[08:46:33] <bjz> we have 20million people and are about the size of the US
[08:46:42] <sanxiyn> Ah yes, population density
[08:46:58] <Ms2ger> Are we calling Japan dense? :)
[08:47:04] <bjz> YES
[08:47:09] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[08:47:14] <bjz> and the koreans
[08:47:22] <Yurume> sanxiyn: technically speaking Korea's and Japan's population density is comparable, since Japan has 4x larger area and 3x larger population compared to Korea
[08:47:24] <bjz> and the dutch :)
[08:47:31] <b1nd> Yea and the worst internet in the western world
[08:48:00] <sanxiyn> In what way is Australia the western world?
[08:48:02] <sanxiyn> West of what?
[08:48:03] <Yurume> 3.5x and 2.5x, well.
[08:48:03] <eddyb> Skrylar_: eastern europe apparently gets more fiber than central and western (the reason being the lack of previous infrastructure, it's easier to start from scratch)
[08:48:12] <Ms2ger> West of Middle Earth
[08:48:12] <bjz> sanxiyn: west of south?
[08:48:18] <cmr> bahahah
[08:48:19] <sanxiyn> bjz: Eh?
[08:48:19] <csherratt> you can fit 26 japans in Canada.
[08:48:22] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[08:48:26] * bjz has no idea where he is
[08:48:45] <Ms2ger> In a jail
[08:49:05] <Yurume> anyway, off-topics are fun but there is #rust-offtopic :)
[08:49:52] <Ms2ger> I don't see the point of #rust-offtopic if nobody's talking about rust anyway
[08:51:00] <bjz> :)
[08:51:27] <Yurume> Ms2ger: it has some novelties though since it is a subchannel of #rust, isn't it?
[08:51:41] <csherratt> why does Rc use borrow and Arc use get?
[08:51:47] <Yurume> if it wouldn't, then we can simply rename #rust-offtopic to... #offtopic
[08:52:08] <Ms2ger> In any case, joining more channels adds a scrollbar to my channel list, so I don't :)
[08:52:51] <Yurume> that's why I set a limit on the maximum length of channel name displayed to 3.
[08:52:58] <nrc> sanxiyn: west of NZ, which is the only place that matters :-)
[08:53:17] <Yurume> (once considered to set it to 2 but it was much harder to understand)
[08:53:48] <Yurume> btw I learned that Arc is now renamed to UnsafeArc...
[08:54:26] *** Joins: TisButMe (Mibbit@moz-40861B51.w90-29.abo.wanadoo.fr)
[08:54:35] <Yurume> csherratt: I suspect that it's because (Unsafe)Arc::get returns *mut T and Rc::borrow returns &T
[08:55:31] <Yurume> (i.e. different return types, different usages)
[08:55:54] <csherratt> Arc still exists, it wraps internalArc
[08:56:00] *** Joins: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au)
[08:57:07] *** Parts: bodge (kyle@moz-6ED2EAB8.lns20.adl2.internode.on.net) (Leaving)
[08:57:28] *** Quits: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Connection reset by peer)
[08:57:45] <csherratt> http://static.rust-lang.org/doc/master/extra/arc/index.html
[08:58:02] <bjz> Yurume: we could just call it 'glob'
[08:58:10] <bjz> Yurume: #glob
[08:58:13] <Yurume> csherratt: ah, wait, well I forgot to search extra
[08:58:14] <Yurume> :S
[08:58:24] <Yurume> bjz: #
[08:58:28] <bjz> hah
[08:58:44] <bjz> is that even allowed?
[08:58:48] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[08:58:57] <bjz> yes, it is!
[08:58:58] <Yurume> anyway, extra::arc::Arc::get returns &T. I understand your concern and mostly agree on that
[08:59:26] <Yurume> bjz: and & (depending on ircd)
[08:59:28] *** Quits: FreeFull (freefull@9A00675B.C5EF153E.3775A18E.IP) (Quit: )
[08:59:37] <csherratt> Just it should probably be updated to match the style.
[09:00:10] <Yurume> is a support for Deref trait underway?
[09:00:49] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[09:00:55] <csherratt> there is a deref trait?
[09:01:05] <Yurume> there is a plan about that
[09:01:27] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[09:01:38] <csherratt> I love when I am going to suggest something and someone has already done it.
[09:01:39] <Yurume> and it was mentioned in Niko's DST writings
[09:01:51] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[09:01:51] <sanxiyn> Yurume: It was?
[09:02:09] <Yurume> sanxiyn: DST take 5 mentions ImmDeref
[09:02:25] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[09:02:26] <sanxiyn> Ah indeed
[09:02:38] <Yurume> so does the part 4
[09:03:27] <cmr> Yurume: only because DST's primary motivation is smart pointers.
[09:03:34] <cmr> I don't think anyone is actively working on it
[09:03:35] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[09:04:08] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[09:04:12] <csherratt> hmm
[09:04:23] <Yurume> cmr: but it will also unify representations for ~[T] and &[T], won't it?
[09:06:22] <Skrylar_> well that's.. hilarious. GitHub supports footnote declarations in .adoc files, it.. doesn't render them however
[09:06:30] <Skrylar_> so it inserts [1] which hyperlinks to nothing
[09:07:12] <kimundi> Yurume: yes
[09:09:28] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:11:02] *** Quits: bluegreen (zaphood@moz-3ECBAB41.dfri.se) (Z:lined (dronebot))
[09:11:02] *** Joins: curmet (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[09:11:15] *** Joins: bluegreen (zaphood@moz-D9E410C7.torservers.net)
[09:11:18] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[09:11:25] *** Quits: Skrylar_ (Skrylar@moz-F692F728.austin.res.rr.com) (Quit: leaving)
[09:11:27] *** Joins: jackneill (jackneill@moz-8764DFF6.pool.digikabel.hu)
[09:13:09] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[09:13:28] *** Quits: b1nd (b1nd@moz-5A306E04.lns17.ken.bigpond.net.au) (Quit: Leaving)
[09:15:07] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[09:18:14] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:21:26] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[09:22:30] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[09:24:20] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:26:03] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[09:28:42] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:28:44] *** Joins: derek_c (derek@79F0FE48.8FCFF51F.AA745434.IP)
[09:30:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:32:53] *** Joins: oberstet (quassel@moz-D0A1E08E.dynamic.mnet-online.de)
[09:33:44] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:34:58] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:35:03] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[09:35:25] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[09:35:56] *** Joins: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net)
[09:36:22] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:36:36] *** Joins: Ferreus (ferreus@moz-DDB805F5.dip0.t-ipconnect.de)
[09:38:08] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[09:38:47] *** Joins: vosen (vosen@moz-3B059DC4.sta.asta-net.com.pl)
[09:40:23] *** Joins: alonlevy (alon@moz-30492E92.bb.netvision.net.il)
[09:41:42] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[09:43:11] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[09:45:14] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:46:44] *** Quits: bluegreen (zaphood@moz-D9E410C7.torservers.net) (Input/output error)
[09:46:52] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[09:47:08] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[09:49:08] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[09:50:07] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[09:50:18] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[09:51:30] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[09:53:30] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[09:55:38] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[09:55:57] <Boreeas> I'm getting an error with http://pastebin.com/DMmTr7MJ: 'error: cannot borrow `*self` as mutable because it is also borrowed as immutable ' at self.unwrap() in the last line
[09:56:07] *** Joins: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP)
[09:56:24] <Boreeas> Is that a bug? The other, immutable borrow is in the match block, which is already over at that point
[09:56:36] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[09:56:39] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[09:56:48] <benh> That link doesn't seem to work
[09:57:46] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[09:58:22] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:58:30] <kimundi> Boreeas: Can't see that paste either, but afaik borrows last until the end of the scope, sou you might have to introduce additional {} blocks around the prior borrow
[09:58:55] <Boreeas> Huh, works for me. Try http://pastie.org/8613385
[09:59:04] <rca> oh? the pastebin works for me as well.
[09:59:41] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[09:59:54] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[09:59:57] *** Joins: nkoep (nik@moz-FC2772E2.pool.mediaways.net)
[10:00:31] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[10:01:39] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:02:11] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[10:02:26] <curmet> does Rust have static member variables?
[10:02:35] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[10:02:53] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[10:03:09] <kimundi> curmet: uhm, what is a static member variable?
[10:03:55] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[10:04:08] <curmet> a variable whose value is the same for all instances of a struct
[10:04:27] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:04:41] *** Joins: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[10:05:12] <kimundi> ah, no
[10:06:27] <kimundi> structs are literally just a blob of memory - there would be no room for such a feature to be build in
[10:07:37] <o11c> curmet: "static member variables" are just global variables in disguise ... and they're a bad idea if they're not constant
[10:07:48] <kimundi> you can define one field as a shared ownership type, like Gc<T> or Rc<T>, and then make sure you can only create new instances of that struct by linking them all up
[10:09:52] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:10:54] *** Quits: StarLight (StarLight@moz-C0C91E43.dynamic.avangarddsl.ru) (Ping timeout)
[10:11:34] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:12:28] <curmet> i don't need mutability
[10:13:03] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[10:13:04] <curmet> just a global constant that structs can read
[10:13:54] <kimundi> oh, just define a global constant then :P
[10:13:58] <curmet> hehe
[10:15:05] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[10:15:29] <kimundi> namespace it private to the same module where the struct is defined, and it even becomes a implementation detail :P
[10:15:30] *** Joins: StarLight (StarLight@moz-F69A1A83.dynamic.avangarddsl.ru)
[10:16:27] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[10:16:37] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:16:53] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[10:17:08] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:17:24] *** Quits: logicalparadox (logicalpar@7E906627.EDE60785.5A75A172.IP) (Client exited)
[10:18:13] *** Joins: logicalparadox (logicalpar@7E906627.EDE60785.5A75A172.IP)
[10:18:23] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[10:18:51] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[10:20:34] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[10:20:39] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[10:21:22] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[10:22:33] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[10:24:27] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[10:25:11] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:25:30] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[10:25:54] <krdln> How to print value's type at runtime?
[10:26:30] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[10:27:06] *** Joins: Sorella (quildreen@2392D500.600E39D3.1ED99692.IP)
[10:27:46] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[10:28:02] <bjz> ok, so I have: format!("{:32.t}", unsafe { std::cast::transmute::<f32, u32>(1.0) })
[10:28:21] <bjz> how do I pad it with zeros instead of spaces?
[10:29:01] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:29:45] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[10:29:52] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:30:12] <bjz> oh, it's format!("{:0>32.t}", unsafe { std::cast::transmute::<f32, u32>(1.0) })
[10:30:42] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:31:43] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[10:33:04] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[10:33:13] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[10:34:06] *** kimundi is now known as zz_kimundi
[10:35:50] <mitsuhiko> can i have a static if in a macro?
[10:36:12] <mitsuhiko> i want to use a macro to define a whole bunch of functions but i want to also use it to define a trait
[10:36:25] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[10:36:28] <mitsuhiko> so i want to in one case of the invocation emit the function bodies and in one not
[10:37:33] <bjz> you can't do static, if, but you could do a number of macro_rules cases
[10:37:46] <bjz> just a sec
[10:38:02] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:38:24] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[10:41:28] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[10:41:33] *** Quits: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:42:59] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[10:43:05] <bjz> rusti: macro_rules! test((1) => (~"one"); ($x:expr) => ($x)) (test!(1), test!(2))
[10:43:06] -rusti- (~"one", 2)
[10:43:10] <bjz> mitsuhiko: ^
[10:43:21] <bjz> an example of pattern matching on cases
[10:43:28] <bjz> it's pretty crude
[10:43:35] <bjz> but it might work for you
[10:44:30] <mitsuhiko> rusti: enum Foo { A, B }; macro_rules! test((A) => (~"A"); ($x:expr) => ($x)) (test!(A), test!(B))
[10:44:31] -rusti- (~"A", B)
[10:44:34] <mitsuhiko> oho
[10:45:02] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:45:36] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[10:45:37] <mitsuhiko> bjz: i suppose i can't go through a level of indirection though
[10:46:49] <mitsuhiko> bjz: https://gist.github.com/mitsuhiko/8314934
[10:46:54] <mitsuhiko> i was trying to make something like this work
[10:47:17] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:47:21] <bjz> there is $x:tt
[10:47:28] <bjz> for 'token tree'
[10:47:33] <bjz> I think
[10:47:37] <bjz> dbaupp: ^?
[10:48:00] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[10:48:09] <bjz> mitsuhiko: you could dispatch off to another macro
[10:48:22] *** Joins: bluegreen (zaphood@moz-FAE3D4E6.torproxy-readme-arachnide-fr-35.fr)
[10:48:41] <mitsuhiko> rusti: enum Foo { A, B }; macro_rules! x((A) => (~"A"); ($x:expr) => ($x)) macro_rules! test(($x:tt) => (x!($x)) => ($x)) (test!(A), test!(B))
[10:48:45] -rusti- pastebinned 6 lines of output: http://ix.io/9K5
[10:49:09] <mitsuhiko> rusti: enum Foo { A, B }; macro_rules! x((A) => (~"A"); ($x:expr) => ($x)) macro_rules! test(($x:tt) => (x!($x))) (test!(A), test!(B))
[10:49:10] -rusti- (~"A", B)
[10:49:13] <mitsuhiko> \o/
[10:49:31] *** Quits: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Connection reset by peer)
[10:49:52] <TisButMe> I have a kind of surprising issue with borrowing and lifetimes. Compiler says it can safely reborrow only in the &mut case, & works fine. Can someone have a look please ? https://gist.github.com/TisButMe/8743efbb9de93c700d9a
[10:50:14] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[10:50:54] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:51:47] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[10:52:28] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[10:53:25] <bjz> mitsuhiko: did that help?
[10:53:42] <mitsuhiko> bjz: yes!
[10:53:45] <mitsuhiko> trying to make it work now
[10:56:06] *** Quits: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net) (Quit: Leaving)
[10:57:39] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[10:59:35] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[11:00:16] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:02:26] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:02:32] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[11:03:55] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[11:04:15] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[11:04:32] *** Quits: derek_c (derek@79F0FE48.8FCFF51F.AA745434.IP) (Ping timeout)
[11:05:04] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[11:06:34] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:08:05] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[11:08:11] *** Joins: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[11:11:19] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[11:13:40] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[11:15:12] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:15:17] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:15:46] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[11:16:14] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:16:46] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[11:18:46] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[11:18:52] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[11:19:25] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[11:19:46] *** Joins: derek_c (derek@B0D3A191.A924B936.AA745434.IP)
[11:19:59] *** Quits: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:20:04] *** Quits: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au) (Client exited)
[11:21:06] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:23:29] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[11:25:27] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[11:25:46] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[11:29:21] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Connection reset by peer)
[11:29:36] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:30:41] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:31:20] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:32:43] *** Joins: ofeldt (ofeldt@moz-C8402E36.dip0.t-ipconnect.de)
[11:32:56] *** Quits: benjamin_ (benjamin@moz-CC1E7FA.dip0.t-ipconnect.de) (Ping timeout)
[11:33:36] *** Quits: ofeldt- (ofeldt@moz-C61A8C87.dip0.t-ipconnect.de) (Ping timeout)
[11:34:06] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[11:34:18] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:34:26] *** zz_kimundi is now known as kimundi
[11:34:27] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[11:34:39] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[11:34:40] <dbaupp> bjz: yes, tt is token tree
[11:35:03] <dbaupp> i.e. `foo` or `( foo bar [ baz ] )` both match tt
[11:35:18] *** Quits: bluegreen (zaphood@moz-FAE3D4E6.torproxy-readme-arachnide-fr-35.fr) (Z:lined (dronebot))
[11:35:32] *** Joins: bluegreen (zaphood@moz-AD42E670.torservers.net)
[11:36:38] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[11:37:26] *** Joins: mgoodwin (mgoodwin@moz-DB4A9C19.scl3.mozilla.com)
[11:37:42] *** Joins: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP)
[11:37:53] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[11:38:22] <mgoodwin> Hello. https://github.com/mozilla/rust/wiki/Doc-reading-and-writing-files says "Please use the IRC channel to get up-to-date instructions on how to read and write files"
[11:38:27] <mgoodwin> can I have some, please?
[11:40:25] <dbaupp> mgoodwin: I think we've finally stabilised on `File::open(&Path::new("/foo/bar/baz"))` for reading, and `File::create(&Path::new("/foo/bar/baz"))` for writing
[11:40:44] <dbaupp> mgoodwin: with a more flexible one to cover the other possible cases
[11:40:50] <dbaupp> ... which I can't remember right now
[11:41:09] <dbaupp> (File comes from `std::io`, i.e. `use std::io::File;` and then those lines)
[11:41:18] <dbaupp> http://static.rust-lang.org/doc/master/std/io/fs/struct.File.html
[11:41:28] <dbaupp> ah, open_mode for general file IO
[11:45:10] *** Joins: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net)
[11:45:15] <WebeWizard> Wiiizzzaaarrrrd
[11:46:10] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:46:34] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Ping timeout)
[11:46:39] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[11:48:51] <mgoodwin> Ok, thanks dbaupp I'll have a play
[11:48:52] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[11:49:36] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[11:51:24] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:52:03] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[11:52:23] *** Quits: ion (ion@heh.fi) (Ping timeout)
[11:52:47] *** Joins: ion (ion@heh.fi)
[11:53:47] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:57:46] *** Quits: Ferreus (ferreus@moz-DDB805F5.dip0.t-ipconnect.de) (Ping timeout)
[11:58:15] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[11:58:15] *** Quits: darthdeus (darthdeus@62EE3073.3B96A244.4E88690D.IP) (Connection reset by peer)
[12:00:17] *** Quits: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net) (Ping timeout)
[12:01:35] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:01:44] *** Joins: darthdeus (darthdeus@62EE3073.3B96A244.4E88690D.IP)
[12:01:52] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[12:02:37] *** Quits: sigma (sigma@moz-BFB7A653.range86-143.btcentralplus.com) (Client exited)
[12:02:56] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[12:03:04] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:03:45] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[12:04:40] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[12:07:25] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:08:16] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[12:11:53] *** Joins: c-a_ (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[12:12:26] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:12:27] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:13:12] *** Joins: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net)
[12:13:36] <mitsuhiko> can i not use a macro in a trait body?
[12:14:35] *** Joins: Ferreus (ferreus@moz-A64646C9.dip0.t-ipconnect.de)
[12:14:49] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[12:14:50] <mitsuhiko> rusti: macro_rules! foo { () => fn foo(); } trait X { foo!() }
[12:14:54] -rusti- pastebinned 6 lines of output: http://ix.io/9K7
[12:15:50] <mitsuhiko> rusti: macro_rules! foo { () => ( fn foo(); ) } trait X { foo!() }
[12:15:52] -rusti- pastebinned 6 lines of output: http://ix.io/9K8
[12:15:53] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[12:17:08] <mitsuhiko> macro_rules! x(() => (fn foo();) trait X { x!() }
[12:17:17] <mitsuhiko> rusti: macro_rules! x(() => (fn foo();) trait X { x!() }
[12:17:18] -rusti- pastebinned 6 lines of output: http://ix.io/9K9
[12:17:41] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:19:21] *** Quits: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net) (Ping timeout)
[12:21:03] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[12:21:20] *** Joins: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net)
[12:21:42] *** Quits: c-a_ (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: c-a_)
[12:22:49] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:23:47] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[12:25:17] *** Quits: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net) (Ping timeout)
[12:25:18] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[12:25:31] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[12:26:20] *** Joins: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net)
[12:28:43] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[12:29:04] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[12:30:08] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:30:12] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:30:15] *** Quits: bluegreen (zaphood@moz-AD42E670.torservers.net) (Z:lined (dronebot))
[12:30:29] *** Joins: bluegreen (zaphood@moz-38369F9F.noisetor.net)
[12:30:34] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[12:30:51] *** Quits: bluegreen (zaphood@moz-38369F9F.noisetor.net) (Z:lined (dronebot))
[12:31:26] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:31:57] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:33:09] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[12:34:01] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[12:34:29] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[12:35:30] *** Joins: vmx (vmx@moz-8D282163.dip0.t-ipconnect.de)
[12:36:31] *** Quits: Ferreus (ferreus@moz-A64646C9.dip0.t-ipconnect.de) (Quit: WeeChat 0.4.2)
[12:36:34] *** Joins: Ferreus (ferreus@moz-A64646C9.dip0.t-ipconnect.de)
[12:37:03] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Quit: Leaving...)
[12:37:41] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[12:41:55] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:44:31] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[12:45:07] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[12:45:10] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[12:45:18] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:45:58] *** Joins: espindola (espindola@moz-B66AA26C.dsl.teksavvy.com)
[12:48:42] *** Quits: Ferreus (ferreus@moz-A64646C9.dip0.t-ipconnect.de) (Quit: WeeChat 0.4.2)
[12:48:45] *** Joins: Ferreus (ferreus@moz-A64646C9.dip0.t-ipconnect.de)
[12:50:16] <dbaupp> mitsuhiko: no, macros can't expand to methods
[12:50:23] <dbaupp> only items, statements and expressions
[12:51:56] *** Quits: KindOne (KindOne@31BF2913.D40F8E6E.EC6A1518.IP) (Ping timeout)
[12:52:11] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[12:52:39] *** Joins: KindOne (KindOne@31BF2913.D40F8E6E.EC6A1518.IP)
[12:52:46] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[12:53:01] *** Quits: vmx (vmx@moz-8D282163.dip0.t-ipconnect.de) (Ping timeout)
[12:53:07] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:53:33] *** Joins: vmx (vmx@moz-8D282163.dip0.t-ipconnect.de)
[12:53:51] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[12:53:53] <marc_> Completely noob question: how can I define a type which wraps a hashmap<K, V> and define methods on it?
[12:54:56] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[12:55:13] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[12:55:54] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:56:26] <marc_> I've tried this: struct Retyped(HashMap<u32, ~Foo>). This compiles but I have no idea how to actually construct it and extend it (or if I can).
[13:00:10] <vmx> marc_: not sure if it works this way. but in case you want to add functions to a struct, just do a "impl Retyped { fn something() {...}}"
[13:00:21] <dbaupp> impl Retyped { fn my_method(&self) { ... } }
[13:00:26] *** Joins: bluegreen (zaphood@moz-6398EFDF.dclient.hispeed.ch)
[13:00:41] <dbaupp> construction: `Retyped(some_hashmap)``
[13:01:52] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:02:25] <marc_> Right: dbaupp , does that mean that when I construct a retyped I have to respecify K, V?
[13:02:53] <marc_> I was hoping to "extend" HashMap
[13:03:10] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[13:03:41] <bluegreen> someone here speak german ? i have a problem with a english term of rust
[13:04:01] <dbaupp> kimundi: ^
[13:04:10] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[13:04:15] <bluegreen> k thx
[13:04:50] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[13:04:51] *** Joins: benjamin_ (benjamin@moz-CC1E7FA.dip0.t-ipconnect.de)
[13:04:55] *** Joins: dgpratt (dpratt71@2F49BEA0.B7D6B72A.4F70D6C7.IP)
[13:05:01] <dbaupp> marc_: I don't understand what you mean by "respecify"? `let x = Retyped(HashMap::new());` will work just like that, without any more type annotations, if that's what you're asking?
[13:05:36] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[13:06:24] <WebeWizard> is there a tutorial for extending types somewhere?
[13:08:15] *** Joins: atomical (atomical@moz-C92D67E2.library.northwestern.edu)
[13:09:26] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:09:49] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[13:10:05] <WebeWizard> I see the info on impl and traits, but maybe someone can add an example of what marc_ is trying to do to the cheatsheat: https://github.com/mozilla/rust/wiki/Doc-FAQ-Cheatsheet
[13:10:33] <marc_> dbaupp: I was hoping for: let x = Retyped::new()
[13:10:50] <marc_> So that the consumer has no idea that a hashmap is involved
[13:11:06] <marc_> (Not saying this is a good idea, just asking how to)
[13:11:12] *** Joins: int3_ (int3_@AA28A64A.CC630056.D1416617.IP)
[13:11:27] <WebeWizard> marc_: I assume you would then build a ' impl Retyped'
[13:11:38] *** Joins: canhtak (canhtak@moz-DB18D73D.wl.t.ulaval.ca)
[13:12:29] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:12:38] <marc_> Yeah. I'm hoping I can impl Reypted with whatever API I want, and in the definitions of those functions I can call methods as if Retyped was a hashmap without having to go through some internal attribute.
[13:13:01] <dgpratt> I was just watching a video yesterday about Rust traits that related them to Haskell type classes, and indeed they seem extremely similar
[13:13:20] <LinearInterpol> dgpratt!
[13:13:34] <dgpratt> but I'm curious to know, how are they *different* from Haskell typeclasses?
[13:13:53] <dgpratt> I have a feeling kmc could answer that question if he was around :)
[13:13:54] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:13:58] <dbaupp> marc_: `impl Retyped { fn new() -> Retyped { Retyped(HashMap::new()) } }`
[13:14:00] <dgpratt> hi LinearInterpol!
[13:14:06] * LinearInterpol highfives.
[13:14:07] * dbaupp retyped 'retyped' quite a bit there
[13:14:44] <dgpratt> :)
[13:15:33] <marc_> dbaupp: thanks. Let me fiddle :-)
[13:16:29] *** Joins: fuogo (Mibbit@75CE51AD.CDA68A8.E8F0D423.IP)
[13:17:06] *** Quits: fuogo (Mibbit@75CE51AD.CDA68A8.E8F0D423.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:17:46] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[13:18:06] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[13:19:50] *** Joins: derek_ (derek@B0D3A191.A924B936.AA745434.IP)
[13:20:43] <derek_> structs can't inherit from each other, right?
[13:20:43] <marc_> dbaupp: just to be clear.. before the 'impl Retyped', how should I have declared Retyped? I am using 0.8 right now. Should I be doing 'type Retyped = HashMap<u32, ~Volume>`, or something else?
[13:21:01] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[13:21:06] <dbaupp> derek_: no
[13:21:19] <dbaupp> (as in, they can't inherit)
[13:21:57] <dbaupp> marc_: using either `struct Retyped(HashMap<...>);` or `struct Retyped { map: HashMap<...> }` is fine
[13:22:07] <derek_> dbaupp: I see. now I have two structs that have lots of common fields.  how would you refactor that?
[13:22:24] <dbaupp> derek_: split the common fields into a third struct with all those fields
[13:22:43] <derek_> hm
[13:23:00] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:23:03] *** Quits: derek_ (derek@B0D3A191.A924B936.AA745434.IP) (Quit: Leaving)
[13:23:11] <Diamond> are fixed size arrays special cased, or does rust rely on const prop in llvm if say a len fn call comes into play?
[13:23:21] <dbaupp> marc_: and you don't need to have put the Retyped declaration *before* the impl (i.e. it will compile equally well if it is declared afterward; rustc isn't a single pass compiler)
[13:23:32] <dbaupp> Diamond: special cased in what sense?
[13:23:38] <marc_> Cool, thanks
[13:23:56] <marc_> I think I'm going to land up going with putting the map in a field anyways. I just wanted to know for my own info.
[13:24:07] <marc_> I think you've answered my question. Thanks again.
[13:25:03] <derek_c> dbaupp: just wondering, is it on the roadmap to support struct inheritance?
[13:25:03] <dbaupp> marc_: https://gist.github.com/huonw/75953e9e8c7afa9460da
[13:25:04] *** Joins: jhasse (jhass_000@moz-56BF2DC6.wlan.uni-bremen.de)
[13:25:19] <dbaupp> derek_c: servo wants single inheritance, so yes
[13:26:16] <dbaupp> derek_c: http://smallcultfollowing.com/babysteps/blog/2013/10/24/single-inheritance/
[13:26:44] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[13:27:09] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[13:27:09] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[13:27:47] <derek_c> dbaupp: thanks
[13:28:29] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:30:24] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:32:06] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:32:15] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[13:35:15] <Diamond> dbaupp: I want to say it's own type, but I feel that would be silly because it would require a lot of duplication without value-based generics. ~[T] has a length stored with it, right (it has to, if my assumptions are correct)? If so, am I correct in assuming fixed-sized array's also suffer from that extra int? I ask because I'd like to represent SIMD types with fixed-sized arrays, but that extra int would brake, well, everything.
[13:36:33] <Diamond> hm
[13:36:50] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:37:29] <Diamond> perhaps tuples would actually work nicer.
[13:38:06] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[13:40:23] <marc_> dbaupp: thanks, that's exactly what I have :-)
[13:42:12] <dbaupp> Diamond: no, they are their own type
[13:42:24] <dbaupp> [u8, 10] is exactly 10 bytes long
[13:42:27] <bstrie> mwhahaha, less than a hundred subscribers until we overtake /r/lua
[13:42:30] <dbaupp> erm [u8, .. 10]
[13:42:35] <dbaupp> bstrie: \o/
[13:42:56] <dbaupp> bstrie: only 4000 until we get golang
[13:43:11] <bstrie> and like 60,000 until we surpass python
[13:43:12] <Diamond> dbaupp: thanks!
[13:43:48] <dbaupp> bstrie: only 489,000 until we hit /r/programming itself. should be easy
[13:43:59] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:44:02] <dgpratt> bstrie, there, one closer :)
[13:44:02] *** Quits: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP) (Ping timeout)
[13:44:32] *** Joins: nuts (tii@822A8E7E.6AD15BF5.75D3BBDB.IP)
[13:45:12] <bstrie> dgpratt: nice. now invite your closest 60,000 friends to do the same
[13:45:23] <dgpratt> on it
[13:45:38] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[13:45:57] *** Quits: alonlevy (alon@moz-30492E92.bb.netvision.net.il) (Ping timeout)
[13:46:05] <bstrie> dbaupp: ooh a gc
[13:46:57] <bstrie> "when looking over this code, keep in mind I have pretty much no idea what I'm doing"
[13:47:00] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[13:47:06] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[13:47:07] <bstrie> http://www.librarified.net/wp-content/uploads/2013/03/i-have-no-idea-what-im-doing-dog.jpg  <-- portrait of dbaupp 
[13:47:24] <dbaupp> precisely
[13:48:47] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[13:49:05] *** Quits: khodzha (khodzha@CB710772.EF9FA30D.CA6E2165.IP) (Ping timeout)
[13:50:29] *** Joins: new_one (new_one@338D8DF9.4C461BEC.59A381B9.IP)
[13:51:58] *** Quits: jix (jix@moz-D969BFFC.de) (Client exited)
[13:52:43] *** Joins: jix (jix@moz-D969BFFC.de)
[13:53:18] *** Joins: khodzha (khodzha@CB710772.EF9FA30D.CA6E2165.IP)
[13:55:15] *** Joins: akairobotto (akairobott@C5C92391.35A75BF5.E8E9A8EF.IP)
[13:55:56] *** Quits: khodzha (khodzha@CB710772.EF9FA30D.CA6E2165.IP) (Ping timeout)
[13:56:54] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:57:00] <lexs> how can I store a function pointer in a (static) vector? ['static |&Registers|, ..5] gives "expected fn but found extern fn" when trying to initialize it.
[13:57:13] *** Parts: johto (rnn@moz-31EB76BD.to) ()
[13:57:49] <WebeWizard> man, I always feel guilty when using HashMaps
[13:58:34] *** Joins: Ms2ger (Ms2ger@D324D80C.3387515C.187A1082.IP)
[13:59:39] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:59:39] *** ChanServ sets mode: +o jdm
[14:00:30] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[14:02:11] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:02:36] <vmx> bluegreen: i also speak german, though i'm rather new to rust, hence not sure if i can help
[14:03:30] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[14:05:13] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[14:05:42] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[14:06:52] *** Quits: hays (quassel@moz-52DE0066.washdc.east.verizon.net) (Ping timeout)
[14:08:23] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:08:46] *** Joins: hays (quassel@moz-FA9FF5EE.washdc.east.verizon.net)
[14:09:29] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[14:10:39] *** Joins: khodzha (khodzha@CB710772.EF9FA30D.CA6E2165.IP)
[14:11:37] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[14:12:17] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[14:13:12] <Diamond> What's the timeline for <V: int> in generics?
[14:14:07] <marc_> What's the most idiomatic way to take a string, split by whitespace (resulting in 1-2 elements) and parse both as ints, then construct an object from it?
[14:14:51] <marc_> e.g. in Ruby I might write: bob = Person.new input.split(/\w+/, 2).map(&:to_i)
[14:14:53] <Diamond> marc_: http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html#tymethod.split
[14:15:14] <jdm> http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html#tymethod.words
[14:15:21] <jdm> that's the whitespace splitter
[14:15:35] <Diamond> ^
[14:15:51] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[14:16:27] *** Quits: hays (quassel@moz-FA9FF5EE.washdc.east.verizon.net) (Ping timeout)
[14:17:03] <marc_> Sweet. So, given that, how do you map it to integers (where possible)
[14:17:27] <Ms2ger> Mm
[14:17:41] <TisButMe> rusti: let test = "1 2".words().map(|x| x.to_int().unwrap(); test
[14:17:44] -rusti- pastebinned 6 lines of output: http://ix.io/9K9
[14:17:53] *** Joins: hays (quassel@moz-47FF1DAA.washdc.east.verizon.net)
[14:18:00] <jdm> http://static.rust-lang.org/doc/master/std/num/trait.ToPrimitive.html#method.to_int
[14:18:14] <TisButMe> rusti: let test = "1 2".words().map(|x| x.to_int().unwrap()); test
[14:18:17] -rusti- pastebinned 10 lines of output: http://ix.io/9Kj
[14:18:46] <marc_> Looks like those methods are not available on 0.8
[14:18:49] <dbaupp> rusti: let s = "1 2"; s.words().map(|x| from_str::<int>(x))
[14:18:51] -rusti- pastebinned 7 lines of output: http://ix.io/9Kk
[14:18:59] <Ms2ger> You don't want to be using .8 :)
[14:19:06] <dbaupp> rusti: let s = "1 2"; s.word_iter().map(|x| from_str::<int>(x))
[14:19:09] -rusti- pastebinned 1 lines of output: http://ix.io/9Kl
[14:19:23] <dbaupp> rusti: let s = "1 2"; s.word_iter().map(|x| from_str::<int>(x)).to_owned_vec()
[14:19:24] -rusti- ~[Some(1), Some(2)]
[14:20:16] *** Quits: derek_c (derek@B0D3A191.A924B936.AA745434.IP) (Ping timeout)
[14:20:27] <marc_> dbaupp: won't that break if one of the x's cannot be parsed?
[14:21:19] <bstrie> marc_: what do you want it to do if one of the x's can't be parsed?
[14:21:22] <Ms2ger> That'll put a None in the vector
[14:21:41] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:21:52] *** Quits: int3_ (int3_@AA28A64A.CC630056.D1416617.IP) (Client exited)
[14:23:02] *** Parts: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) ()
[14:23:17] <marc_> Not sure yet :-). I think I want to enforce el 0 but disallow el 3
[14:23:24] <marc_> er, 1
[14:23:36] <marc_> I think I'll do that after the fact though (match on None) ?
[14:24:08] *** Quits: vmx (vmx@moz-8D282163.dip0.t-ipconnect.de) (Ping timeout)
[14:24:33] <Ms2ger> Yep
[14:24:52] <bstrie> marc_: this seems like a very strange program :P
[14:25:04] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[14:25:29] <marc_> I'm reading in data in various formats looking for inconsistencies between two systems
[14:26:03] <marc_> So I want to enforce some things (effectively primary keys) but allow some other things to be omitted
[14:26:24] <marc_> I'll try get off .8 :-)
[14:26:33] <bstrie> please do!
[14:26:36] <bstrie> 0.9 should be out this week
[14:27:15] *** Joins: vmx (vmx@moz-8D282163.dip0.t-ipconnect.de)
[14:27:25] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[14:27:33] <dbaupp> rusti: let s = "1 foo"; s.word_iter().map(|x| from_str::<int>(x)).to_owned_vec()
[14:27:34] -rusti- ~[Some(1), None]
[14:27:37] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[14:27:39] <dbaupp> marc_: ^
[14:27:49] <marc_> Thanks
[14:28:00] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:28:11] <marc_> I think what I should maybe do is be explicit. So first pop the first part off and assert it can be parsed, then continue the iteration and allow None.
[14:28:20] <Ms2ger> bstrie, certainly not yet as strange a program as a browser, though :)
[14:28:23] <WebeWizard> uuuggg.  Why can't BufferedReader contain a function for reading lines *without* returning the newline chars?
[14:28:35] <TisButMe> marc_: With the pattern matching part included https://gist.github.com/TisButMe/426a57048e55a8fa5fc7
[14:28:45] <TisButMe> but that might not be 0.8 compatible
[14:29:18] <marc_> That's pretty cool
[14:30:30] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Connection reset by peer)
[14:30:43] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[14:30:55] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:31:16] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[14:31:17] <marc_> What about something like this.. given input that is "id [:space:] name [:space:] info", I want to construct Person such that id (an int) and name must be present but info can be omitted
[14:31:41] <marc_> Would you read that into a tuple and then parse id?
[14:31:53] <Ms2ger> Hmm
[14:32:06] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:32:07] <Ms2ger> I guess let iter = s.word_iter();
[14:32:22] <marc_> Ruby: id, name, info = line.split(/w+/, 3); person = Person Integer(id), name, info
[14:32:41] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:32:45] <Ms2ger> let id = parse_somehow(iter.next().unwrap());
[14:32:49] <Ms2ger> let name = parse_somehow(iter.next().unwrap());
[14:32:57] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:33:18] <Tobba> why does modulo require the fail_ lang_item
[14:33:45] <Ms2ger> let info/*: Option<~str>*/ = iter.next();
[14:33:52] <dbaupp> match (iter.next(), iter.next(), iter.next()) { (Some(id), Some(name), Some(info)) => { ... } _ => { /* an parsing error occured */ } }
[14:34:01] <dbaupp> Tobba: % 0
[14:34:04] <dbaupp> rusti: 10 % 0
[14:34:05] -rusti- task '<unnamed>' failed at 'attempted remainder with a divisor of zero', out.rs:9
[14:34:05] -rusti- application terminated with error code 101
[14:34:12] <Tobba> I'm doing modulo with a constant
[14:34:13] <Tobba> so uhhhhh
[14:34:29] <Tobba> I know that though
[14:34:35] <marc_> dbaupp: ah!
[14:35:07] <dbaupp> Tobba: yeah, it's slightly annoying that it triggers for constants :(
[14:35:18] <Tobba> eugh I'll just have to implement it
[14:35:24] <Tobba> I have no form of panic handler atm
[14:36:06] <dbaupp> even just `#[lang="fail"] fn fail(_: *u8, _: *u8, _: uint) -> ! { loop {} }` would work
[14:36:13] <dbaupp> I guess
[14:36:27] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[14:36:43] <Tobba> I love how it even gives the expression that failed
[14:37:00] <Tobba> I just made them both do nothing since panic handlers is Coming Soon(TM)
[14:37:12] <WebeWizard> where do i go about making feature requests for libstd?
[14:37:19] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[14:37:34] <Ms2ger> github issues, I guess?
[14:38:14] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:38:24] <WebeWizard> maybe there is something i'm missing. Anyone know if BufferedReader contains a function for reading lines without returning the trailing newline chars?
[14:38:38] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[14:38:50] <dbaupp> I don't think so
[14:39:03] <WebeWizard> am I crazy for thinking that should be a thing?
[14:39:08] <dbaupp> don't know
[14:39:13] <TisButMe> marc_: with pattern matching, something like this https://gist.github.com/TisButMe/24bcfe6808f5caa31961
[14:39:15] <dbaupp> Python doesn't have one afaik
[14:39:32] <dbaupp> there may be a reason for that
[14:39:35] * dbaupp shrugs
[14:41:50] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[14:42:33] *** Quits: jhasse (jhass_000@moz-56BF2DC6.wlan.uni-bremen.de) (Quit: Verlassend)
[14:42:37] *** Joins: matematikaadit (Mibbit@923CCBB0.2D1BAE34.4F1051F7.IP)
[14:42:40] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[14:43:12] *** Quits: vosen (vosen@moz-3B059DC4.sta.asta-net.com.pl) (Ping timeout)
[14:43:37] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[14:44:06] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[14:44:22] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:45:38] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[14:46:32] <WebeWizard> i'll submit an issue and see what happens
[14:46:38] *** jorendorff_away is now known as jorendorff
[14:48:53] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[14:52:02] <Tobba> is it possible to implement a trait for multiple types at the same time
[14:52:07] <Tobba> (using the same block)
[14:53:26] <curmet> WebeWizard +1 for a BufferedReader that can read lines without including newline characters
[14:54:03] <rca> Tobba: i think that's currently done with macros. Although you can also implement a trait for another trait that all your types implement.
[14:54:11] <marc_> Thanks TisButMe 
[14:54:22] <Tobba> the latter will work
[14:54:24] <WebeWizard> curmet: i submitted the issue so cross your fingas https://github.com/mozilla/rust/issues/11404
[14:54:29] <Tobba> its just that I have a trait that prints an integer value
[14:54:29] <marc_> I wrote something similar. Just waiting on rust to build from HEAD now. Not so fast :-).
[14:54:36] <Tobba> so I wanna implement that for all like what, 12 integer types
[14:55:13] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:55:14] <dbaupp> WebeWizard: do you know about .trim_right() and .trim_chars_right()?
[14:55:27] <Tobba> seems a bit inefficient though
[14:55:28] <dbaupp> err, trim_right_chars
[14:55:29] <dbaupp> http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html#tymethod.trim_right_chars
[14:55:38] <dbaupp> maybe, but it's cleaner than slicing
[14:55:43] *** Joins: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com)
[14:55:52] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[14:56:00] <dbaupp> fwiw, you shouldn't need the `.to_str()` call, nor should oyu need the .as_slice() call
[14:56:20] <WebeWizard> dbaupp: i know about it, but in my head slicing seems like it'd take less system resources
[14:56:25] *** Joins: alonlevy (alon@A427B671.66334A3F.AB64B967.IP)
[14:56:28] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:56:30] <dbaupp> to_str() is copying the string
[14:56:31] <Tobba> rca: actually, how exactly would I accomplish the latter
[14:56:35] <rca> Tobba: i guess they already implement ToStr, can't you use that?, 
[14:56:35] <dbaupp> you don't need that
[14:56:43] <Tobba> cant use the standard lib
[14:56:48] <Tobba> otherwise I'd obviously use that
[14:56:50] <dbaupp> Tobba: .trim is also slicing
[14:56:58] <dbaupp> WebeWizard: ^
[14:57:01] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[14:57:04] <dbaupp> Tobba: (sorry)
[14:57:35] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:57:43] <dbaupp> WebeWizard: by calling .to_str() you are using far far more CPU time than the difference between a static .slice_to() and .trim
[14:57:58] <WebeWizard> dbaupp: the .to_str() is required for some code that wasn't included in the example ( inserting the result into a hashmap ) which doesn't compile without it
[14:58:08] <dbaupp> WebeWizard: really?
[14:58:10] *** Quits: matematikaadit (Mibbit@923CCBB0.2D1BAE34.4F1051F7.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:58:24] <WebeWizard> really
[14:58:29] <dbaupp> Is lineIter from BufferReader.lines()?
[14:59:06] <WebeWizard> no, it's from line.split_str(": ")
[14:59:19] <dbaupp> oh
[14:59:22] <dbaupp> well
[14:59:23] <WebeWizard> lemme send you a gist
[14:59:25] <dbaupp> there we go
[14:59:27] <dbaupp> :)
[14:59:31] <Tobba> rca: I made a IntPrintable trait that derives from the Printable trait
[14:59:41] <Tobba> but it seems to crap out because *self isnt an integer type if I do that
[14:59:45] <Tobba> it simply has the type Self
[15:00:17] <WebeWizard> https://gist.github.com/WebeWizard/8318029
[15:00:53] <dbaupp> WebeWizard: you can actually drop the .to_str() call there, the .to_owned() later is doing everything you need
[15:01:05] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[15:01:28] <WebeWizard> dbaupp: correct. thanks
[15:01:31] <dbaupp> (the .to_str() for tempvalue)
[15:01:40] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[15:01:58] <rca> Tobba: hum in your case the actual printing implementation will differ for each numeric type right? i mean printing of an int will be different from printing a float.
[15:02:34] <Tobba> its a function to print any integer type
[15:02:54] *** Quits: alonlevy (alon@A427B671.66334A3F.AB64B967.IP) (Ping timeout)
[15:03:01] <marc_> Are there any conventions re: unit test placement?
[15:03:15] <marc_> It seems like putting the tests in a submodule called test with #[cfg(test)] is a good idea?
[15:03:15] *** jorendorff is now known as jorendorff_away
[15:03:24] <LinearInterpol> How's the current garbage collector? Is it usable?
[15:03:51] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[15:04:05] <rca> Tobba: wait you have differents *integer* types, like, they only differ in size?
[15:04:09] <dbaupp> LinearInterpol: there is currently no garbage collector. std::gc::Gc is currently using @ internally which uses reference counting.
[15:04:14] <Tobba> rca: yeah
[15:04:24] <LinearInterpol> ..lovely.
[15:04:27] <Tobba> I guess I could make a generic printInteger function
[15:04:39] <Tobba> and implement the Printable trait as a oneliner that just calls that
[15:05:01] <dbaupp> LinearInterpol: work is being done on it though... I opened https://github.com/mozilla/rust/pull/11399 a few hours ago (I'd guess it won't land for a while though.)
[15:05:05] <LinearInterpol> dbaupp: so there's reference counting, but no actual collection being done.
[15:05:27] <dbaupp> LinearInterpol: yeah, cycles leak until the current task quits
[15:05:34] <LinearInterpol> haha, wow.
[15:05:34] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[15:05:40] <LinearInterpol> that's awesome yet terrifying.
[15:05:45] <dbaupp> it's no so bad
[15:05:56] <dbaupp> we've been discouraging the use of @ for years/months now
[15:06:12] <rca> Tobba: do you have a gist of the code somewhere? at least the types.
[15:06:31] <Tobba> the printable trait is basicaly just trait Printable { fn print(&self); }
[15:06:44] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[15:06:44] <dbaupp> marc_: doing a submodule like that lets you have test specific imports without having to individually #[cfg(test)] them to avoid unused import warnings (and so doing it like that is often a nice idea)
[15:07:01] <mrmonday> is there a nicer way of working with option rather than having lots of match{} blocks? something like haskell's maybe monad?
[15:07:06] <LinearInterpol> dbaupp: What's scheduled for 0.9? (summarized version)
[15:07:21] <Tobba> the print function I wrote for integers basicaly does this let mut v = **self;
[15:07:32] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:07:35] <Tobba> I should implement it as a generic function and it'll be fine
[15:07:48] *** Joins: moostik (Icedove@moz-2E0A4DA6.minet.net)
[15:07:56] <dbaupp> LinearInterpol: things in the source tree right now. There will almost certainly be a release candidate within 12 hours.
[15:08:06] <LinearInterpol> ooo. :)
[15:08:16] <marc_> dbaupp: are people putting tests in the same file or doing a #[cfg(test)]; mod test; (or something else)
[15:08:17] * LinearInterpol goes to check.
[15:08:25] <dbaupp> marc_: same file
[15:08:27] <marc_> e.g. so you get a tests.rs file in your sourcetree for that mod
[15:08:29] <marc_> OK
[15:08:33] <dbaupp> LinearInterpol: https://github.com/mozilla/rust/blob/master/RELEASES.txt and https://github.com/mozilla/rust/wiki/Doc-detailed-release-notes fwiw
[15:08:44] <LinearInterpol> gracias, amigo!
[15:08:52] <Tobba> okay, it really doesnt like generics either
[15:08:59] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:08:59] *** ChanServ sets mode: +ao dherman dherman
[15:09:12] <Tobba> I tried defining fn printInteger<T>(v: T) { }
[15:09:28] <Tobba> which seems to compile it as if T was some kind of type, but I cant perform any operations on it
[15:09:28] *** jorendorff_away is now known as jorendorff
[15:09:59] <dbaupp> Rust has parametric polymorphism, so you ahve to tell the compiler the operations allowed on a generic in the function definition
[15:10:02] <dbaupp> via traits
[15:10:17] <dbaupp> printInteger<T: Printable>(v: T) { v.print() }
[15:10:19] <dbaupp> or whatever
[15:10:48] <Tobba> ah
[15:10:52] <Tobba> is there a generic integer type
[15:10:56] <dbaupp> no
[15:10:58] <Tobba> well
[15:11:03] <Tobba> I'll have to write one for uint and int then
[15:11:13] <dbaupp> sounds like trait
[15:11:13] <Tobba> unless int is 32 bits and I have to print an i64
[15:11:19] <Tobba> yeah I cant get this to work right
[15:11:22] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[15:11:24] <dbaupp> code?
[15:11:25] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[15:12:10] <rca> Tobba: in this case you'll still have to implement your Integer traits for all ints. You're kinda back to your original issue seems to me.
[15:12:15] <Tobba> http://pastebin.com/dXkNag9M
[15:12:21] <Tobba> this is how I had it when it worked
[15:12:39] <Tobba> basicaly, that, but I need to implement it on all 10 different integer types
[15:12:51] <dbaupp> why `&'a int` rather than just `int`?
[15:12:57] <Tobba> I have no idea
[15:13:09] <dbaupp> remove that, and change **self to just *self
[15:13:09] <Tobba> it doesnt like just int
[15:13:25] <Tobba> ah bollocks
[15:13:25] <dbaupp> impl Printable for int { fn print(&self) { ... } } should work
[15:13:32] <Tobba> its due to the implementation of my print! macro
[15:13:42] <Tobba> so it ends up doing &3
[15:13:48] <dbaupp> ah
[15:13:52] <LinearInterpol> I also heard something about for loops being a hack?
[15:13:59] <dbaupp> LinearInterpol: they are
[15:14:02] <Tobba> they're p much a macro right now I think
[15:14:06] <dbaupp> they're basically a macro => bad type errors
[15:14:08] <LinearInterpol> hahaha.
[15:14:10] <dbaupp> and they're duck typed
[15:14:24] <dbaupp> for x in anything_with_a_method_called_next { ... }
[15:14:24] <Tobba> they need the Some type to be there too
[15:14:25] <Tobba> and None
[15:14:27] <Tobba> otherwise it breaks
[15:14:32] <dbaupp> Some/None variants
[15:14:33] <curmet> how do I specify a lifetime for a &|| https://gist.github.com/bachm/9d4215fa71f49d0c3297
[15:14:47] <dbaupp> (those variants come from the Option type.)
[15:14:57] <Tobba> yeah
[15:15:02] <dbaupp> Tobba: btw, a macro would be the best way to generate impls for all the integer types
[15:15:11] <Tobba> yeah I dunno how to do that
[15:15:17] <dbaupp> give me a sec
[15:15:23] <Tobba> due to the let mut v = *self; part I can use the exact same code for all types
[15:15:36] <LinearInterpol> Any solution to said problem in the future? (Halfway down the changes for 0.9, so if they're there, just say "yes" :P)
[15:15:53] *** Quits: atomical (atomical@moz-C92D67E2.library.northwestern.edu) (Quit: atomical)
[15:15:55] *** Joins: atomical (atomical@moz-C92D67E2.library.northwestern.edu)
[15:16:17] <WebeWizard> curmet: maybe this will help. http://static.rust-lang.org/doc/master/complement-cheatsheet.html#how-do-i-store-a-function-in-a-struct
[15:16:24] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[15:16:24] *** ChanServ sets mode: +ao brson brson
[15:16:31] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[15:18:39] *** Joins: robitex (Mibbit@moz-44ABADE1.libero.it)
[15:18:41] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:18:46] <curmet> WebeWizard if I make it a plain || it works. &|| seems to ignore the lifetime
[15:18:47] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[15:18:57] *** jorendorff is now known as jorendorff_away
[15:19:19] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:19:56] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[15:21:32] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:22:56] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[15:23:01] *** Joins: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP)
[15:23:21] <dbaupp> Tobba: https://gist.github.com/huonw/eda2c96d9574cec1ae9d
[15:23:41] <Tobba> ah, neat
[15:23:47] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[15:23:49] <marc_> Erm, after building from HEAD there is no `rust`? What is the replacement for `rust test`
[15:24:01] <bstrie> marc_: think it's "rustc --test"
[15:24:17] <dbaupp> marc_: and then running the resulting executable
[15:24:18] <marc_> Doesn't that just build it to exec tests?
[15:24:28] <marc_> Yeah, so I should make a sh wrapper?
[15:24:37] <bstrie> the rust tool might come back one day once we get more programs to put under its umbrella
[15:24:41] <marc_> I was using `rust test` as my compile tool in emacs
[15:24:47] <marc_> Which was super conventient
[15:24:56] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[15:25:39] <rca> marc_: if you have simple project you can also use rustpkg. It's buggy and doesn't handle well dependencies, but you can do rustpkg test.
[15:25:50] <marc_> OK thanks
[15:25:52] <LinearInterpol> What does #[no_std]; strip away? How much of the language is accessable without the standard library? (for example, do lists still work, etc.)
[15:27:14] <bstrie> LinearInterpol: you're right, it should would be good to document that :)
[15:27:21] <LinearInterpol> Lol.
[15:27:48] <LinearInterpol> afk. :)
[15:27:54] <Tobba> dbaupp: worked with some modification, thanks
[15:28:13] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:28:36] *** kimundi is now known as zz_kimundi
[15:28:36] <Tobba> I think no_std basicaly just strips the prelude and stops it from automatically being linked to
[15:28:54] <rca> Tobba: did you manage to pass the integers by value? all this indirection for ints makes me cringe :)
[15:29:13] <Tobba> yeah I fixed that
[15:29:17] <Tobba> it was a problem with the print macro I had
[15:29:23] * rca feels better
[15:29:30] <Tobba> because yes
[15:29:31] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[15:29:31] <Tobba> that was terrible
[15:29:36] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:30:06] <Tobba> I love traits like this though
[15:30:29] <Tobba> it also means that, in theory at least, I can implement a Printable for arrays of printable values
[15:31:28] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:32:48] *** Joins: pnathan (Adium@moz-A8921E45.tukw.qwest.net)
[15:32:51] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[15:33:14] <marc_> https://www.irccloud.com/pastebin/cHgd883U
[15:33:15] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:34:07] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[15:34:09] <dbaupp> marc_: what rust version?
[15:34:14] <dbaupp> it might be .words()
[15:34:31] <marc_> Yeah I think this is due to my upgrade from 0.8
[15:34:32] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:34:42] <marc_> I'm on whatever HEAD was 1 hour ago
[15:34:49] <dbaupp> oh, yeah, definitely .words()
[15:35:22] <marc_> ah, I see master documentation is significantly improved from 0.8
[15:35:32] <marc_> I couldn't find any of this stuff in 0.8
[15:35:49] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[15:37:34] <Tobba> what would the appropriate thing to call a [] be
[15:37:36] <Tobba> array?
[15:38:02] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[15:39:07] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:40:26] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Quit: Konversation terminated!)
[15:40:32] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[15:41:25] *** Quits: Kxepal832 (Miranda@moz-CEB0DF31.pppoe.mtu-net.ru) (Ping timeout)
[15:41:27] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Connection reset by peer)
[15:41:34] *** Joins: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt)
[15:41:34] <bstrie> Tobba: we generally call it a vector, but that's mostly for historical reasons
[15:41:46] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[15:42:36] <marc_> Going back to my earlier example. We have this Person which has a name: Option<~str>. I think parse a line and detect he has a name. How do I assign to person now? I assume I need to convert the name to an owned ptr?
[15:42:39] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:42:47] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[15:43:03] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:44:29] <marc_> For example, let person = Person { blah, name: Some(parsed_name.to_owned() }
[15:44:42] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[15:45:18] <Ms2ger> Not if you already have a ~str that you don't need anymore
[15:46:51] <Tobba> woo
[15:46:54] <Tobba> my print function does arrays now
[15:46:54] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[15:47:53] <Ms2ger> marc_, so if you have let parser_name = ...; (a ~str), then you can do let person = Person { blah, name: Some(parsed_name) } and then the parser_name local is dead
[15:48:14] <marc_> Yeah but in this case, name comes from destructuring on the word iter
[15:48:36] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:48:36] <pzol> Are there any plans to be able to define hashmaps in the way that vectors are defined? sthg like HashMap::new() { "Adventures of Hucklebury Fin": "My favorite book.", "Grimms' Fairy Tales":  "Masterpiece." }
[15:49:14] <brson> pzol: no firm plans, but it can be done with a macro
[15:49:25] <brson> if it is done, it will be with a macro
[15:49:32] <Tobba> is there any intrinsic to get the name of a type
[15:49:43] <pzol> brson thanks :) 
[15:50:17] <Ms2ger> brson, I read that as a general rule "if it can be done with a macro, it will be done with a macro"
[15:50:21] <Ms2ger> Probably true in C
[15:50:26] <Tobba> ah
[15:50:30] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[15:50:31] <Tobba> type_desc or something like that
[15:51:10] <brson> Ms2ger: that is generally the case I think, yes
[15:51:52] *** Quits: fzzzy (fzzzy@A5CBE5CF.A81CC6E.44FA8ED.IP) (Quit: ZNC - http://znc.in)
[15:51:54] <pzol> can I somehow store standard command line options for rustc like --out-dir bin/ in a config file that would be always used?
[15:52:05] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[15:52:38] <brson> pzol: no, but there's an issue about such a thing
[15:52:50] <brson> https://github.com/mozilla/rust/issues/612
[15:52:56] <marc_> https://www.irccloud.com/pastebin/pWJOzQSP
[15:53:02] <pzol> brson thx again ;)
[15:53:10] <brson> the intent was always to prefer crate attributes to command line args but we've never really followed through
[15:54:11] <Tobba> hm
[15:54:13] <Tobba> I have a problem
[15:54:18] <pzol> brson a .rustc config could sit in the users home dir, so it would be cross-project
[15:54:20] <rca> Tobba: there must be something in repr i think
[15:54:26] <Tobba> I have this
[15:54:28] <Tobba> impl<'a, T: Printable> Printable for &'a [T] {
[15:54:32] <Tobba> which works fine
[15:54:40] <Tobba> it implements printing arrays containing printable values
[15:54:49] <Tobba> but I also want to have
[15:54:49] <Tobba> impl<'a, T> Printable for &'a [T] {
[15:54:53] <Tobba> for arrays of non-printable values
[15:55:16] <Tobba> this craps out currently because there are multiple applicable implementations
[15:55:36] <dbaupp> yeah, it's not possible
[15:56:19] <mrmonday> what is 'a? I've seen a lot of it but never bothered to look it up
[15:56:28] <Ms2ger> Lifetime
[15:56:53] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:57:15] <marc_> https://www.irccloud.com/pastebin/tUFEluRz
[15:57:15] <Tobba> well shit, ah well
[15:57:57] *** Joins: vgeddes (vincent.ge@C4667A74.7EFECA3F.A9EEF49D.IP)
[15:58:02] <marc_> That fails to compile because the second arg to insert_or_update_with moves ownership of volume. Is there a better way to do that?
[15:58:26] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[15:58:37] *** jorendorff_away is now known as jorendorff
[15:59:25] <Ms2ger> 'ref v'?
[15:59:56] <marc_> I have no idea what that does :-)
[16:00:40] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:00:43] <Tobba> actually, with this thing
[16:00:44] <Tobba> impl<'a, T: Printable> Printable for &'a [T] {
[16:00:59] <Tobba> would it be possible to drop the T: Printable and use pattern matching to check if T is printable
[16:01:23] <Ms2ger> Don't think so, no
[16:01:27] <mrmonday> Ms2ger: what does that mean exactly? lifetime of the application?
[16:01:28] <Tobba> crap
[16:01:53] <pzol> is there a way to create an immutable HashMap?? 
[16:01:57] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[16:02:06] <Ms2ger> mrmonday, of the value
[16:02:24] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:02:37] *** Joins: dangets (dangets@moz-E9E4A77B.cpe.cableone.net)
[16:02:57] <Ms2ger> mrmonday, http://static.rust-lang.org/doc/master/guide-lifetimes.html
[16:03:41] <mrmonday> I'll read about it, thanks
[16:04:27] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:04:46] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[16:05:25] *** Quits: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:05:50] <Tobba> argh
[16:06:01] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[16:06:08] <Tobba> I dont think there is a way, but it really feels like it should be possible to pattern match a trait
[16:06:08] *** Joins: dogurness (dogurness@moz-1BF32EBD.pitbpa.fios.verizon.net)
[16:06:10] *** zz_kimundi is now known as kimundi
[16:06:16] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:09:30] <Diamond> Is it possible to use const exprs in generics?
[16:09:34] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[16:11:00] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:12:11] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[16:12:43] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[16:13:09] <marc_> Thanks to everyone that helped me - I have a working app :-)
[16:14:17] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:14:31] <mrmonday> what is the reverse of as_bytes()? such that foo == some_func(as_bytes(foo))
[16:15:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[16:16:57] *** Parts: robitex (Mibbit@moz-44ABADE1.libero.it) ()
[16:17:21] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[16:17:32] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:18:11] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[16:18:16] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:18:36] *** Joins: FreeFull (freefull@moz-CA95E54E.as13285.net)
[16:18:39] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:19:01] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Ping timeout)
[16:19:25] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:19:46] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[16:20:29] <cyndis> str::from_utf8
[16:20:33] <Ms2ger> mrmonday, for strings? from_u...
[16:20:34] <Ms2ger> That
[16:20:50] <cyndis> also, from_utf8_slice
[16:21:08] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:21:50] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:22:12] *** Joins: Kruppe (user@moz-B1B4C97.net.uwaterloo.ca)
[16:22:13] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[16:22:23] <dbaupp> on master it is from_utf8(&[u8]) -> &str and from_ut8_owned(~[u8]) -> ~str
[16:22:34] <dbaupp> (the old from_utf8 was replaced with from_utf8_slice)
[16:23:40] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[16:24:05] <LinearInterpol> Does Rust support consumption? (friend's question)
[16:24:29] <Ms2ger> Do you mean, can it support our capitalist overlords?
[16:24:39] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:25:05] <LinearInterpol> ...Yes.
[16:25:14] <Ms2ger> I would assume yes :)
[16:26:48] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[16:26:49] *** Quits: vgeddes (vincent.ge@C4667A74.7EFECA3F.A9EEF49D.IP) (Ping timeout)
[16:27:23] <mrmonday> hrrmm, apparently the string I just used as_bytes() on is no longer utf8 :s
[16:28:31] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:28:50] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[16:29:06] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[16:30:00] <Tobba> argh
[16:30:08] <Tobba> I need to add a panic macro
[16:30:26] <dbaupp> mrmonday: you mean you did `from_utf8(string.as_bytes())` and it failed?
[16:31:06] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:31:49] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:33:29] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:33:30] <mrmonday> dbaupp: nevermind, PEBKAC :<
[16:34:26] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:34:43] * dbaupp hits that bug often :(
[16:35:16] *** jorendorff is now known as jorendorff_away
[16:35:30] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[16:35:32] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:35:42] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:38:54] *** dherman is now known as dherman_afk
[16:39:07] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:39:22] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:40:35] *** Quits: pnathan (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[16:40:37] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:42:23] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[16:42:36] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:43:45] *** Quits: Zor (zor@moz-180BED6.rfw.name) (Ping timeout)
[16:44:25] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:44:26] *** Joins: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP)
[16:46:57] *** Quits: dherman_afk (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman_afk)
[16:47:27] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:47:34] *** Quits: glaebhoerl (glaebhoerl@moz-3590251D.kabelnet.hu) (Ping timeout)
[16:47:42] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:48:29] <curmet> how do I restrict a generic type T to those types which can be compared for equality? I'm trying to get it to work but have no idea what I'm doing https://gist.github.com/bachm/3b5eae57a31f4961a6b9
[16:49:35] <dbaupp> impl<'a, T: Eq> Subject<'a, T> { ... }
[16:50:19] <curmet> thanks
[16:50:43] *** Joins: dmz (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[16:50:54] <dmz> rust has no buffer overflows?
[16:51:00] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[16:51:09] *** Joins: Liothen (liothen@moz-92B99500.org)
[16:51:27] <dbaupp> if you stay away from `unsafe { }`
[16:51:46] <dmz> how is this enforced? a runtime check on every access?
[16:51:52] <dbaupp> (every buffer has it's length stored with it; and all indexing is bound-checked)
[16:51:53] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:51:53] <dbaupp> yeah
[16:52:08] *** Joins: jhasse (jhass_000@moz-AFC8E944.ewe-ip-backbone.de)
[16:52:11] <dmz> does it hurt performance a lot?
[16:52:24] *** Quits: FreeFull (freefull@moz-CA95E54E.as13285.net) (Ping timeout)
[16:52:35] <dbaupp> not normally
[16:52:42] <dmz> can it be switched off?
[16:52:49] <dbaupp> per-call-site
[16:52:53] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Connection reset by peer)
[16:52:57] <dmz> ok, thanks
[16:53:03] <dbaupp> (i.e. you can use one of the unchecked indexing functions)
[16:53:47] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[16:53:50] <dbaupp> and, in any case, a lot of vector indexing in C (et al) is just for iteration, and Rust's vector iterators do not have the bounds checking overhead
[16:53:50] <dmz> I see
[16:53:59] <dmz> good
[16:54:20] <dbaupp> (they optimise to the same thing as the idiomatic C version of iterating over an array)
[16:54:42] <dmz> excellent
[16:55:18] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[16:57:34] *** Quits: hays (quassel@moz-47FF1DAA.washdc.east.verizon.net) (Ping timeout)
[16:57:41] <Tobba> plus the compiler will optimize some of the checks out, LLVM is great
[16:58:24] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[16:59:03] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:59:27] <dmz> what about structure initialization? will Rust optimize out the init if the structure/field is being reassigned before taking the value?
[17:00:18] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:01:41] *** Joins: hays (quassel@moz-FDE4A30F.washdc.east.verizon.net)
[17:02:13] <dmz> (I think this all was mentioned somewhere (low-level optimization of Rust, comparison to C, etc), but I don't recall where
[17:02:19] *** Joins: zenon (Mibbit@moz-D849C3F6.sub-70-209-137.myvzw.com)
[17:02:51] *** Quits: logicalparadox (logicalpar@7E906627.EDE60785.5A75A172.IP) (Client exited)
[17:02:55] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:03:14] <Tobba> I think LLVM will do that
[17:03:40] *** Joins: mindcat (mindcat@FB21613F.69E5AD7C.D6E1F3C4.IP)
[17:04:34] <zenon> LinearInterpol: if a type moves (ie, it isn't Pod), and a function takes it by-value, the value will be moved into the function's stack frame (consumed)
[17:04:49] <LinearInterpol> Thanks.
[17:05:01] <zenon> dmz: dead store elimination, yes. one of the more trivial optimizations llvm does :)
[17:05:53] <dmz> zenon: cool, thanks
[17:06:07] <zenon> (although if it has a non-trivial uninlined destructor it might not be able to optimize it out)
[17:06:26] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[17:06:31] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[17:06:31] <dmz> last thing (trivial): I assume pointers are not checked for NULL at run-time
[17:06:38] *** Joins: vgeddes (vincent.ge@C4667A74.7EFECA3F.A9EEF49D.IP)
[17:06:43] <zenon> nope
[17:06:49] *** Joins: icebattle (icebattle@8A14A542.EBE2EE2B.C7CEC4ED.IP)
[17:06:55] <dbaupp> they are checked on allocation
[17:06:58] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:07:04] <zenon> all of the pointer types are not nullable (except *T)
[17:07:07] <dbaupp> so ~ is guaranteed to be non-null
[17:07:35] *** zenon is now known as cmr|mibbit
[17:07:49] <bstrie> cmr|mibbit: aha, I've exposed your sock puppet
[17:07:49] <Tobba> I think Option pointers can be null as an optimization
[17:08:05] <cmr|mibbit> bstrie: pft
[17:08:08] <bstrie> that's just an optimization, nullable options are exactly as safe as non-nullable ones
[17:08:15] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[17:08:19] *** Quits: dogurness (dogurness@moz-1BF32EBD.pitbpa.fios.verizon.net) (Quit: dogurness)
[17:08:21] <Tobba> yeah I didnt mean anything about their safety
[17:08:42] *** Quits: cmr|mibbit (Mibbit@moz-D849C3F6.sub-70-209-137.myvzw.com) (Quit: http://www.mibbit.com ajax IRC Client)
[17:10:32] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:11:03] <marc_> If I have a HashMap<u32, ~Struct> and I write a fn which returns the result of filter on that map, what is the return type of that fn? I tried Filter<u32, ~Struct> but got an error I cannot understand.
[17:11:04] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[17:11:06] <dbaupp> bstrie: you scared him off
[17:11:20] <bstrie> he'll be back
[17:11:26] <bstrie> be on the lookout for anyone named after a noble gas
[17:12:03] <dangets> could someone give me a newbie basics of what the apostrophe is in the generics type parameters?
[17:12:18] <curmet> dangets, it's a lifetime
[17:12:51] <bstrie> dangets: it's an identifier that lets you say stuff like "the reference returned by this function will live exactly as long as one of the inputs to this function"
[17:13:06] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:13:12] <dangets> ah cool - is there any online docs about it atm?
[17:13:17] <dmz> cool, thanks everyone
[17:13:20] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[17:13:31] <curmet> http://static.rust-lang.org/doc/master/guide-lifetimes.html
[17:13:46] <bstrie> bah! beat me to it :P
[17:13:54] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[17:14:02] <dangets> thanks - i found one bug report on github but the link it pointed to was dead
[17:14:22] <erickt> Hey all! Just in case you haven't seen it yet, I just announced the next bay area rust meetup on 1/28: http://www.meetup.com/Rust-Bay-Area/events/153909222/
[17:14:29] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:14:48] <adridu59> dbaupp: I feel like the "cheatsheet" examples could be on the relevant rustdoc pages instead
[17:15:11] <bstrie> erickt: make cmr give a presentation on how to etch the rust logo
[17:15:19] <bstrie> and bake rust cakes
[17:15:52] <erickt> cmr: you heard bstrie. We want the receipe / schematics
[17:15:54] <adridu59> erickt: must be really cool to live in sf
[17:16:09] <erickt> adridu59: we live stream it, so you can participate remotely :)
[17:16:19] <dbaupp> adridu59: if you're just beginning you won't know where to look in rustdoc
[17:16:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[17:16:48] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[17:17:00] <adridu59> erickt: have nothing to say, I'll watch it as usual through
[17:17:08] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:17:38] *** Joins: Kxepal (Miranda@moz-4DFD725C.pppoe.mtu-net.ru)
[17:17:42] <dbaupp> erickt: hook-up #rust IRC to a projector so we can ask questions (etc) from the comfort of our own homes :P
[17:18:42] <erickt> dbaupp: heh. I will at least be in the channel during the presentation and be happy to ask questions for people
[17:18:56] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:18:59] <bstrie> nah, hook up #rust to a text-to-speech program and put a mic in front of the speakers
[17:19:08] <adridu59> I wish there were meetups in Paris at some point :)
[17:19:19] <dbaupp> bstrie: even better!
[17:19:26] <dbaupp> adridu59: organise one? ;0
[17:19:30] <dbaupp> * ;)
[17:19:34] <bstrie> adridu59: pretty sure there are other french rust people in here...
[17:19:34] <adridu59> but I don't think too much people know about Rust here yet (through there are more and more french contributors to rust)
[17:19:46] <bstrie> unless you have like a whole lot of sock puppets
[17:19:48] <bstrie> like cmr
[17:20:21] <adridu59> dbaupp: have you looked back at the JSON PR?
[17:20:23] <adridu59> (I think it is made by a french btw!)
[17:21:14] <dbaupp> adridu59: I'm sorry :( I find it hard work to review documentation from non-native speakers
[17:21:23] <\n> Hey I had a question about FFI...
[17:21:45] <adridu59> dbaupp: oh ok; from the looks of it I thought it had been all adressed
[17:21:49] <dbaupp> (I really don't want to discourage by being too harsh, but public documentation should be well written)
[17:21:51] <\n> In some C functions, it's common to pass an array (that decays into a pointer) and it's length
[17:21:55] *** Joins: dapz (textual@moz-16954008.hsd1.ca.comcast.net)
[17:22:07] <\n> So for this library I'm working on a binding for...
[17:22:09] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[17:22:24] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:22:28] <\n> it's expected to create an array of uninitialized structs
[17:22:31] *** Quits: new_one (new_one@338D8DF9.4C461BEC.59A381B9.IP) (Client exited)
[17:22:37] <bstrie> note to self: port the first Final Fantasy game to rust so that I can have something glib to link to when someone asks about rust's FFI
[17:22:39] <\n> passing the array (decaying) and length
[17:22:55] <dbaupp> adridu59: the phrasing is still kinda awkward at times; the solution may be to merge it as is and then get someone to edit it and submit the edits as a new PR
[17:23:07] <\n> but Rust complains about the structs being uninitialized
[17:23:18] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[17:23:25] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:23:25] <\n> should I just initialize them to 0's?
[17:23:45] *** Joins: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca)
[17:23:54] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[17:24:01] <bstrie> \n: that should work for now, but I bet there's some unsafe magic you can do to avoid that overhead if you need to
[17:24:06] <adridu59> dbaupp: that's probably the way to go; besides some phrasings it has a good chunk of content so you can't arguably say that having no docs is better :p
[17:24:06] <dbaupp> adridu59: also, I'm not very keen on the addition of the encode_str and encode_bytes functions (or whatever they're called)
[17:24:18] <dbaupp> anyway
[17:24:21] <adridu59> dbaupp: as you wish through, you are the reviewer :p
[17:24:22] <dbaupp> it's far far too late
[17:24:27] * dbaupp -> bed
[17:24:59] <adridu59> good night then
[17:25:11] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:25:55] <adridu59> erickt: looks like great talks incoming; I'm esp. interested in hearing about the DST proposal
[17:26:11] *** Quits: vgeddes (vincent.ge@C4667A74.7EFECA3F.A9EEF49D.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[17:26:17] <erickt> adridu59: me too
[17:27:09] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[17:27:29] <brson> \n: the cleanest way may be to put #[deriving(Zero)] on the struct and initialize it with Zero::zero()
[17:27:39] <brson> assuming there's a deriving(Zero)
[17:28:04] *** Quits: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP) (Ping timeout)
[17:28:25] *** Quits: dapz (textual@moz-16954008.hsd1.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[17:28:29] *** Joins: dapz (textual@moz-16954008.hsd1.ca.comcast.net)
[17:28:54] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:29:21] <erickt> bstrie: just get final fantasy to work with sprocketnes. gaurenteed glibness
[17:29:42] <erickt> brson: I believe there's a deriving(Default)
[17:30:15] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[17:30:45] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:31:51] <curmet> could someone take a look at my code and tell me what I should to solve the "cannot borrow subject because it's already borrowed" errors? I'm make a Subject, call add_observer and then notify_observers https://gist.github.com/bachm/3b5eae57a31f4961a6b9
[17:32:20] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:32:26] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[17:32:57] *** Quits: Sorella (quildreen@2392D500.600E39D3.1ED99692.IP) (Ping timeout)
[17:33:35] <erickt> curmet: what rust compiler version are you using? I just compiled your gist and it worked
[17:33:37] <\n> brson: so an instance would be `let mut ident: myType = Zero::zero();`??
[17:33:56] <erickt> \n: yeah.
[17:34:01] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:34:06] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:34:07] <curmet> erickt: 0.9 pre
[17:34:10] <erickt> \n: although I suggest using Default unless your stuct is numerical
[17:34:20] <erickt> curmet: when did you last update? I might be out of date
[17:34:41] <curmet> it's from dec 30
[17:34:50] <erickt> curmet: oh, mine's on dec 20 :)
[17:34:58] <erickt> I need to update
[17:35:49] *** Quits: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:36:06] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:37:06] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:37:20] <marc_> https://www.irccloud.com/pastebin/lQk414M8
[17:37:44] <\n> erickt: Default?
[17:38:01] *** Quits: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[17:38:08] <erickt> \n: std::default::Default
[17:38:09] <marc_> Please can somebody help me with the pastebin I made? I have no idea why it's doing that.
[17:39:00] <erickt> \n: it's exported by default (hehe) so you shouldn't need to explicitly reference the std::default::Default` unless you're doing something in libstd
[17:39:09] *** victorporof is now known as victorporof|away
[17:39:17] *** Joins: JamesDunne (Jaymz@moz-C84E6351.hsd1.il.comcast.net)
[17:39:38] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[17:39:50] <erickt> marc_: can you post more of your code?
[17:39:54] <\n> erickt: so then the instance becomes: `let mut ident: myType = Default;` ??
[17:39:54] <SiegeLord> I wish rust-ci/travis only emailed me when my builds changed status
[17:40:20] <erickt> \n: do `let foo = Default::default()`
[17:40:24] <marc_> erickt: sure
[17:40:32] <SiegeLord> If you push a commit that fixes a build, rust-ci/travis will proceed to email you every day that you have indeed fixed the build
[17:40:35] <marc_> https://www.irccloud.com/pastebin/uDhUO1CV
[17:41:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[17:41:10] <\n> erickt: my struct doesn't implement the Default trait
[17:41:17] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:41:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:41:27] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:41:30] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:41:31] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:41:34] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:41:56] <erickt> marc_: even more code please. For example, what's the type of `self.store` or `Volume`?
[17:42:28] <marc_> Sure
[17:42:43] <marc_> https://www.irccloud.com/pastebin/MEgyFofV
[17:42:59] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:43:03] <marc_> Er, sorry. Try again.
[17:43:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:43:15] <marc_> https://www.irccloud.com/pastebin/gULqG4Kl
[17:43:41] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:43:47] <curmet> I made a complete example of the code that's giving me errors: https://gist.github.com/bachm/250a80ac545367798e46
[17:44:29] <curmet> any suggestions?
[17:44:30] <erickt> \n: ah, well you can use `#[deriving(Default)]` to get one made for you
[17:45:11] <erickt> marc_: can you try `self.store.iter().filter(|(id, volume)| volume.cm_lease == None)`?
[17:45:26] <erickt> marc_: the filter closure only takes one argument
[17:45:30] <brson> i intend to replace the rust-commits link on the home page with a reddit link
[17:45:43] <bstrie> sounds good to me
[17:46:04] <erickt> marc_: and the HashMap.iter() produces a `Iterator<(key,value)>`
[17:46:24] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[17:46:35] <adridu59> maybe have rust-dev/rust-commits on the same line,
[17:47:38] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:47:48] <\n> erickt: ah neat, just wrote it out by hand...
[17:47:52] <\n> but that helps!
[17:48:06] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[17:48:58] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:49:00] <\n> erickt: ah, complains because a member is a *c_char
[17:49:03] <\n> that's ok
[17:49:06] <JamesDunne> Hello. First-time rust user here, using home-compiled `rustc 0.9 (aa1839b)` on Arch linux. I'm having trouble getting basic string concatenation to work with static variables and vectors. Example test case here: http://pastebin.com/vmhNRn20 . Is this a bug? Thanks!
[17:50:08] <marc_> Same issue with the tuple suggestion
[17:50:17] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[17:51:07] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[17:51:22] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:51:33] <erickt> \n: yeah, that one is tricky. We could make *T default to NULL, or we could make it point at `*(Default::default())`. This is one of those cases it's probably best to just write your own Default impl
[17:52:37] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:52:53] <bstrie> JamesDunne: hm, I'm honestly not sure why those are ~str there
[17:53:00] <JamesDunne> bstrie: Neither am I :)
[17:53:03] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[17:53:18] <JamesDunne> bstrie: I can't seem to cast-away the ~str-ness either.
[17:53:19] <bstrie> JamesDunne: also, you don't need to use std::io::println, we import that by default. so you can just say "println" and it will work
[17:53:42] <JamesDunne> bstrie: Okay, thought so, but that's the least of my troubles at the moment.
[17:54:07] <bstrie> one sec, I am writing a heartfelt email
[17:54:55] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[17:54:57] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[17:55:14] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:55:37] <\n> is there a vec as_ptr method?
[17:55:48] <\n> I thought there was...
[17:55:59] <\n> oh
[17:56:06] <\n> found it: http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html#tymethod.as_ptr
[17:56:21] <bstrie> \n: you might just be able to take a reference to the vec and then pass that reference directly to C
[17:56:26] <bstrie> it's all just a pointer at runtime
[17:57:40] <sfackler> JamesDunne: it looks like an issue with type inference. it's a bit wonky going through vectors. You should be able to force it to do  the right thing like this: "let blah: &'static [&'static str] = &["Hello, " + t + " world"]; take(blah)"
[17:58:09] <JamesDunne> sfackler: Thanks, I'll try that. Dunno why I didn't think of that.
[17:59:10] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[17:59:21] <JamesDunne> sfackler: Hm, nope. Same error, just now on the `blah` declaration line. `error: mismatched types: expected `&'static [&'static str]` but found `&[~str]` (str storage differs: expected &'static  but found ~)`
[18:00:14] <sfackler> hmm, I'm not sure how good string constant folding is, but apparently it's not great
[18:00:29] <sfackler> I guess that's broken for the same reason the original one was
[18:00:33] <JamesDunne> It seems to work fine for the normal println() call.
[18:01:45] <sfackler> That's either because it's making an ~str and then automatically slicing to a &str or it can properly constant fold it there
[18:01:56] <erickt> JamesDunne: I thought doing `"foo" + "bar"` produces a `~str` type. That means that you're working with a `&[~str]` type. That's not compatible with a `&[&str]` type
[18:02:10] <sfackler> does this work?: let foo: &'static str = "Hello, " + t + " world"
[18:02:11] <erickt> JamesDunne: What you could do in this circumstance is use the `Str` trait
[18:02:33] <erickt> as in `fn take<T: Str>(args: &[T]) { ... }`
[18:02:33] <JamesDunne> erickt: Yes, it works if i switch test()'s arg type to `&[~str]`
[18:04:12] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[18:04:31] <JamesDunne> It just strikes me as strange that a &[&str] would work just fine with all literals but suddenly break when i introduce a static immutable var with concatenation
[18:05:23] <bstrie> well concatenation needs to dynamically allocate memory, which it does on the heap
[18:05:27] *** Quits: hays (quassel@moz-FDE4A30F.washdc.east.verizon.net) (Ping timeout)
[18:05:32] <JamesDunne> I would've assumed it would be constant-folded.
[18:05:42] <bstrie> hm, maybe
[18:05:44] <bstrie> it's weird
[18:05:45] <JamesDunne> Or is there no way to compile-time const fold strings?
[18:05:46] <bstrie> file a bug :)
[18:05:49] *** Joins: heftig (heftig@moz-B29C59B9.dip0.t-ipconnect.de)
[18:05:55] <JamesDunne> Hah okay. I wasn't sure if I was misunderstanding something here.
[18:05:59] <erickt> JamesDunne: I think we have a macro to do that
[18:06:01] <bstrie> JamesDunne: we prefer string formatting to concatenation
[18:06:03] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[18:06:09] *** Joins: FreeFull (freefull@moz-10D3AE1E.as13285.net)
[18:06:19] <JamesDunne> erickt: concat!() complained that it required a literal when i introduced the variable name, if that was what you're referring to.
[18:06:32] <JamesDunne> perhaps fmt!() would work though
[18:06:33] <bstrie> JamesDunne: format!("{}, {}!", "Hello", "World")
[18:06:35] <mleise> isn't string formatting slower that concatenation?
[18:06:45] <JamesDunne> I didn't think I needed to resort to macros to do simple compile-time const folding.
[18:06:48] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[18:06:49] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:06:58] <bstrie> JamesDunne: rust uses macros for all compile-time stuff
[18:07:17] <adridu59> JamesDunne: macros aren't a last resort thing; they permit to do some kind of operations at complie time
[18:07:20] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[18:07:22] <JamesDunne> Doesn't that incur some runtime overhead for the formatting?
[18:07:28] <mleise> no
[18:07:43] <adridu59> JamesDunne: macros = compile-time. enter the goodness :)
[18:07:43] <JamesDunne> is fmt! different than format! ?
[18:07:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:07:50] <bstrie> acrichto is the one who wrote format!(), so he'd be the most knowledgeable about it
[18:07:50] <adridu59> fmt! is dead
[18:07:54] *** Quits: benjamin_ (benjamin@moz-CC1E7FA.dip0.t-ipconnect.de) (Ping timeout)
[18:07:58] <JamesDunne> :)
[18:08:01] <mleise> but why does this look like D? :p
[18:08:05] *** Joins: Sorella (quildreen@D2D1E5DD.81EFC25A.A95FAE2B.IP)
[18:08:13] <adridu59> fmt went to format! to discourage it's use vs. print! or println!
[18:08:24] <adridu59> (when it's actually not needed)
[18:08:27] <JamesDunne> I'm out of date since reading the 0.8 manual heh
[18:09:04] <JamesDunne> Perhaps I misunderstand the format! macro then... how could it be used for both compile-time and run-time formatting?
[18:09:19] <adridu59> JamesDunne: the std doc is really convenient to learn about new syntax http://static.rust-lang.org/doc/master/std/index.html
[18:09:53] <adridu59> what do you want to do that needs "run-time formatting"?
[18:10:09] <JamesDunne> adridu59: Nothing, I was just curious as to its implementation details.
[18:10:35] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[18:10:39] *** Parts: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) ()
[18:10:57] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[18:11:14] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[18:11:20] <adridu59> I see... hm I don't know where format! is defined (I think macros aren't in std doc just yet)
[18:11:37] <mleise> format!("{}, {}!", "Hello", "World") is way more ugly than string concatenation, why is it encouraged?
[18:11:45] <JamesDunne> std::fmt::format!
[18:11:57] <JamesDunne> mleise: Agreed ;)
[18:12:04] <adridu59> it is the same kind of syntax as python format
[18:12:16] <mleise> Be a bit more pragmatic and less grammar nazis. There I said it.
[18:12:33] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[18:12:33] <JamesDunne> This sort of thing would throw of beginners, just like it threw me.
[18:12:39] <adridu59> and it allows for compile-time formatting. string concatenations exists also and it is a different operation memory-cise (you should use it if you want to do something out of the resulting string)
[18:12:44] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:12:44] <\n> hmm when calling std::str::raw::from_c_str I get a failed assertion on is_utf8.  Is it possible to print the raw bytes?
[18:12:44] <JamesDunne> *off
[18:12:46] *** Quits: oberstet (quassel@moz-D0A1E08E.dynamic.mnet-online.de) (Client exited)
[18:13:02] <adridu59> wise*
[18:13:35] <JamesDunne> adridu59: Compile-time formatting is indeed sexy, but compile-time string concat should just be simple IMHO.
[18:13:43] <marc_> erickt: I'm still stuck btw. Do you have example code which might demonstrate how I can return a Filter ?
[18:14:05] <adridu59> \n: with print!("{:?}", raw_str) maybe? I think that the :? format specifier should do it
[18:14:29] <adridu59> JamesDunne: you can't use same syntax to do different things; besides I like format! syntax
[18:14:36] <adridu59> allows you to visualize your sentence
[18:14:49] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[18:15:04] <adridu59> format!(I {} some {}!, some, cake)
[18:15:05] <erickt> marc_: I'm still recompiling
[18:15:11] *** Quits: khodzha (khodzha@CB710772.EF9FA30D.CA6E2165.IP) (Ping timeout)
[18:15:18] <\n> adridu: looks like it prints a memory address
[18:15:20] <adridu59> you can easily see where the words go, unlike C printf for example
[18:15:21] <erickt> \n: you could put the *c_char in a std::c_str::CStr
[18:15:57] <erickt> marc_: returning iterators is a bit painful though
[18:16:05] <adridu59> \n: uh oh... I never used raw strings so can't really help there
[18:16:47] *** Quits: Ferreus (ferreus@moz-A64646C9.dip0.t-ipconnect.de) (Ping timeout)
[18:16:48] <adridu59> format!(I {} some {}!, want, cake)*
[18:16:59] <adridu59> format!("I {} some {}!", want, cake)* derp
[18:17:17] <erickt> \n: once you get the ptr into a CStr, you can iterate over it
[18:18:05] <marc_> Thanks
[18:18:13] <\n> erickt: `use std::c_str::CString; CString.new(myCharStar, false);` // unresolved name CString
[18:18:15] <\n> wtf
[18:18:15] <JamesDunne> Are there no varags for functions?
[18:18:33] <JamesDunne> That's why I had to resort to the &[&str] arg in the first place
[18:18:53] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:18:54] <erickt> marc_: how large is your code? If it's not that big can you post it all? It'll be a lot easier to help you out
[18:19:26] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:19:50] <erickt> JamesDunne: there is no varargs for proper rust. I think we have some limited support for it to talk to ffi c functions though
[18:19:57] <acrichto> \n: CString::new (there's no local value CString)
[18:20:11] <erickt> JamesDunne: Did you try using the `Str` trait?
[18:20:16] <\n> ah
[18:20:18] <\n> ty
[18:20:27] <JamesDunne> erickt: Not yet. The &[~str] works just fine. I'll try the trait.
[18:20:38] *** Joins: khodzha (khodzha@CB710772.EF9FA30D.CA6E2165.IP)
[18:21:14] *** jorendorff_away is now known as jorendorff
[18:21:37] <JamesDunne> erickt: How do I get the `std::io::println(arg);` to work now? error: mismatched types: expected `&str` but found `&T` (expected &str but found &-ptr)
[18:21:57] <adridu59> use println!
[18:22:00] <adridu59> not println
[18:22:04] <erickt> JamesDunne: you could do `println!("{}", arg)`
[18:22:17] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[18:22:35] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:22:45] <JamesDunne> error: failed to find an implementation of trait std::fmt::Default for &T
[18:22:52] <adridu59> you have to dereference also I think
[18:23:05] <JamesDunne> same error w/ deref.
[18:23:20] <adridu59> how does the code look?
[18:23:36] <marc_> yeah it's straighfward
[18:23:41] <JamesDunne> fn take2<T:Str>(args: &[T]) { for arg in args.iter() { println!("{}", *arg); } }
[18:24:06] <erickt> JamesDunne: ah. Try doing `<T: Str + std::fmt::Default>`. Or doing `println!("{}", arg.to_str())`. Or just use `&[~str]`
[18:24:09] <acrichto> JamesDunne: you need the type to also implement one of the formatting traits if you're printing, "fn take2<T:Str + fmt::Default>"
[18:24:17] <JamesDunne> Wow.
[18:24:17] <acrichto> that too :)
[18:24:24] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:24:27] <acrichto> .as_slice() may also work (to print a &str)
[18:24:44] *** Joins: jeffdb (jeffbelg@moz-ABCAA64B.efi.com)
[18:24:46] <adridu59> reminds me of that PR to change it to Format; maybe not bad
[18:24:58] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:24:58] <JamesDunne> Ah thanks guys. That works just fine now.
[18:25:03] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[18:25:08] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[18:25:11] <adridu59> .as_slice() would be more efficient than .to_str() also
[18:25:14] <JamesDunne> Not exactly intuitive at this stage, heh.
[18:25:42] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[18:25:46] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[18:26:10] <JamesDunne> I just wanted to concat some string literals, and now my face is melting lol.
[18:26:55] <marc_> https://github.com/marcbowes/help-with-filters
[18:26:57] *** Quits: jadbaires (jadrian@moz-9AE9F7C5.dsl.telepac.pt) (Connection reset by peer)
[18:27:01] *** Joins: Valtis (Valtis@moz-7A6DF574.kymp.net)
[18:27:04] *** Joins: jadbaires (jadrian@7C3E5A47.7DF3BC65.6119BA41.IP)
[18:27:25] <marc_> Btw, I'm completely new to rust so if you have any other style/blah comments to make I'd appreciate that!
[18:27:27] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:27:52] <JamesDunne> http://pastebin.com/8b9MCBLc my final test program, all invocations work.
[18:27:59] <\n> is a vec the same size as a C array?  As in if I pass myVec.as_ptr() and myVec.len() to a C function that expects a pointer to the start of an array and it's length, will it write to the correct locations of structs within myVec???
[18:27:59] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:28:07] *** Quits: jadbaires (jadrian@7C3E5A47.7DF3BC65.6119BA41.IP) (Quit: Konversation terminated!)
[18:28:09] <adridu59> well, Rust is a low-level language so it has strict types. besides, you are using polymorphism. :p
[18:28:13] *** Joins: jadbaires (jadrian@7C3E5A47.7DF3BC65.6119BA41.IP)
[18:28:19] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[18:28:36] <acrichto> \n: yes
[18:28:47] <acrichto> \n: so long as C/Rust agree on the type of the vector
[18:28:47] <adridu59> JamesDunne: println doesn't need to be imported
[18:29:03] <JamesDunne> adridu59: I removed that line
[18:29:10] * \n ar
[18:29:18] <bstrie> adridu59: I don't know if I agree with the assumption there that "rust is a low-level language, therefore it has strict types" :P
[18:29:30] <\n> acrichto: agree?
[18:29:30] <adridu59> JamesDunne: I mean std::io::println -> println
[18:29:46] <JamesDunne> Ah. I wouldn't call that an import.
[18:29:50] <adridu59> bstrie: well, Rust is not Python (I use Python at school wooooo)
[18:30:05] <acrichto> \n: as in C's idea of the layout of the type of the vector is the same idea as rust has
[18:30:11] <bstrie> adridu59: python IS more strict about types than C!!
[18:30:23] <acrichto> \n: e.g. if [T] where T is a struct, both C and Rust have to agree on the layout of the struct T
[18:30:53] <adridu59> bstrie: because C has cheap casts?
[18:30:53] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[18:31:09] <\n> acrichto: is there an attribute I need to add to my struct declaration?
[18:31:37] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[18:32:04] <\n> adridu59: you can cast anything to anything in C
[18:32:05] <acrichto> \n: nah rust struct layout is the same as C, there's just no compile-time checks that they're the same
[18:32:16] <bstrie> adridu59: because C coerces things every which way
[18:32:19] <acrichto> \n: in general this isn't a super worrisome thing, just be sure to keep it in mind
[18:32:35] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:32:55] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:33:15] <adridu59> bstrie: what about Rust? :p
[18:33:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:34:07] *** Joins: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP)
[18:34:08] *** Joins: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP)
[18:34:37] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:35:02] <bstrie> adridu59: rust coerces things in exactly one place: trait objects. and even that's contentious :)
[18:35:21] <\n> C has implied promotions and conversions
[18:35:23] <bstrie> (though it depends if you consider autoref to be coercion)
[18:36:04] *** Joins: negge (unlord@moz-5BD795E6.hsd1.va.comcast.net)
[18:36:07] <negge> hi
[18:36:21] <negge> I ran into an issue building rust 0.8
[18:36:24] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[18:36:44] <JamesDunne> negge: Why not build off master?
[18:37:04] <JamesDunne> negge: 0.8 is heavily out of date it would seem. FYI - I'm just a newbie as well.
[18:37:08] <negge> JamesDunne: I'm using the gentoo rust overlay which is 0.8
[18:37:12] <negge> Ahh, okay
[18:37:20] <bstrie> 0.8 is soooo old
[18:37:26] <negge> I'm also building from master at the same itme
[18:37:35] <JamesDunne> Lol, alright.
[18:37:47] <negge> JamesDunne: I was hoping for a stable release :)
[18:38:00] <JamesDunne> negge: No such thing at the moment it would seem.
[18:38:23] <negge> JamesDunne: well, if master build's I'll try that
[18:38:23] <JamesDunne> I just got schooled on basic string concatenation 5 minutes ago.
[18:38:44] <adridu59> negge: Rust is pre-alpha, it hasn't hit the stability valley
[18:38:45] *** Quits: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net) (Ping timeout)
[18:38:49] *** Joins: pnkfelix (pnkfelix@moz-7B0110AD.mv.mozilla.com)
[18:38:59] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:39:01] <JamesDunne> negge: It does. I just did it yesterday and this morning. It does eat up disk space so make sure you have at least 3GB free and enough swap and RAM.
[18:39:19] <negge> JamesDunne: I might be short on disk space :/
[18:39:33] <JamesDunne> negge: I'd remedy that now before you waste more time attempting to compile heh.
[18:39:37] *** Joins: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net)
[18:39:47] <cmr> 3G? My tree is only 2.1G
[18:39:54] <JamesDunne> I rounded up :P
[18:39:57] <negge> cmr: I've got 1.5G free
[18:40:04] <negge> I think I'll make it
[18:40:07] <cmr> negge: yikes! your filesystem must hate you.
[18:40:17] <negge> cmr: this is a lot for me
[18:40:26] <cmr> your filiesystem must always hate you ;p
[18:40:28] <JamesDunne> Aye, I have a 2.1G tree for a fully-compiled rust master.
[18:40:34] <JamesDunne> Lol
[18:40:39] <adridu59> negge: I think there are gentoo nightlies for rust
[18:40:41] <negge> cmr: this is a constant problem I have
[18:40:50] <cmr> bstrie: I can talk about both of those things :)
[18:40:53] <negge> adridu59: I was going to look into that at some point
[18:41:00] <adridu59> oh I confused with Fedora soz
[18:41:07] <Matthias247> negge: I now that since I have a SSD :)
[18:41:21] <JamesDunne> SSDs are fantastic but run out quickly.
[18:41:22] <negge> Matthias247: I also have an SSD 
[18:41:30] <negge> its great, until you use it
[18:41:36] <JamesDunne> Lol
[18:41:50] <adridu59> I have an SSD since over a year but never got around to using it
[18:41:54] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[18:41:59] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[18:42:01] <JamesDunne> `make -j` is dumb. `make -j4` is less dumb.
[18:42:33] <Matthias247> got a 128gb 1,5 years before. Thouht it's sufficient. Then half year ago I bought a 256gb. And now on amazon cyber monday I got a 480gb. Hope that will be sufficient :)
[18:42:35] <cmr> I have a 64G SSD as my root filesystem, with a 1.5TB spinning death-platter disk as my home
[18:42:43] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[18:42:44] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:42:51] <cmr> my root is almost never more than half full
[18:42:59] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[18:42:59] *** ChanServ sets mode: +ao dherman dherman
[18:43:01] <JamesDunne> I have 2x 256GB SSDs and still feeling the crunch.
[18:43:03] <bstrie> cmr: spinning death-platter? most people say "spinning rust" instead :P
[18:43:12] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[18:43:42] <cmr> bstrie: I think the irony would cause me to collapse into a black hole and destroy the earth.
[18:44:08] <JamesDunne> Heh "irony", get it?
[18:44:12] <cmr> shhh that's the joke
[18:44:17] <JamesDunne> Hahaha
[18:46:19] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:46:24] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[18:46:28] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:46:39] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[18:46:48] <cmr> bstrie: so what's the proper order of business when someone misposts to /r/rust when they wanted /r/playrust? report it?
[18:46:52] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:47:38] <bstrie> cmr: yes please
[18:47:41] <cmr> k
[18:48:04] <cmr> in other news, @[]/@str removal going smoothly so far.
[18:48:19] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:49:28] * bstrie salutes cmr
[18:49:46] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[18:50:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:50:16] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[18:50:35] <JamesDunne> Sorry, I'm a bit out of touch with rust news. I guess you're removing @managed boxes in favor of lib support now?
[18:50:44] <cmr> nah, not fully.
[18:50:55] <cmr> Just managed vectors and managed strings
[18:51:08] <cmr> Probably the most useless types in the language, since there are no garbage collected slices!
[18:51:22] <cmr> plus they're immutable!
[18:51:24] <Matthias247> ?!?
[18:51:29] <JamesDunne> Lol mmm'kay
[18:51:33] <Matthias247> i thought all @ ist going to be removed
[18:51:40] <JamesDunne> As did I
[18:51:41] <cmr> It will be, but not by me, not right now :)
[18:51:45] * kimundi noticed his help was needed 5 hours ago - sorry bluegreen!
[18:52:03] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:52:03] <JamesDunne> I figured that's what you meant.
[18:52:31] <JamesDunne> So you're removing @[] and @strs from the std lib then?
[18:52:35] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[18:52:40] <cmr> from everything, including the compiler
[18:53:00] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[18:53:00] *** ChanServ sets mode: +o jdm
[18:53:07] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:55:21] <JamesDunne> I'd really prefer raw string literals to be `` enclosed instead of this whacky r##""## stuff. Is that just me?
[18:55:28] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[18:55:29] <cmr> r"foo" is the basic syntax.
[18:55:33] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[18:55:44] <JamesDunne> Yeah but that falls apart when you add "s in your literal text
[18:55:44] <cmr> We don't use `` because it makes using rust in markdown hard
[18:55:56] <JamesDunne> so r#""# becomes the most viable form
[18:55:59] <cmr> and `` doesn't support nesting, would still need a delimiter
[18:56:36] <JamesDunne> Nesting raw string literals? Hmm. Where's that useful?
[18:56:41] <JamesDunne> I'd guess code generation.
[18:56:57] <JamesDunne> Can't say I've ever had a use for that in any other language I've written in.
[18:57:14] <cmr> r##" #" "##
[18:57:31] <cmr> erm, swap the order in the middle
[18:57:33] <SiegeLord> I have in D
[18:57:52] <JamesDunne> Yeah I get the r# stuff. It makes sense, just looks a bit ugly for basic cases.
[18:57:55] <SiegeLord> It was precisely code generation there though
[18:58:15] <SiegeLord> It's not really a raw string if there are disallowed characters in it though
[18:58:36] <bstrie> JamesDunne: if it bothers you, then just use normal strings and escape the quotes as usual. or use unicode smart quotes :)
[18:58:53] <JamesDunne> Unicode smart quotes? Didn't know that was an opt.
[18:59:05] <cmr> in your strings, that is.
[18:59:12] <JamesDunne> Oh. Nevermind that.
[18:59:19] <cmr> they're not valid delimiters
[18:59:28] <bstrie> “are you sure? look how fancy this is”
[18:59:45] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[19:00:11] * kimundi throws a U+1F4A9 at bstrie 
[19:00:17] <JamesDunne> I still prefer ``s even though that impedes Markdown, but Markdown has to get its stuff straight anyway.
[19:00:36] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:00:42] <Ms2ger> How about ``...''?
[19:00:44] <cmr> plus how can we use `` for infix functions if we use them for strings :)
[19:00:45] <JamesDunne> Though that depends what MD engine you use and which rules you want to follow, since I don't think there's a standard
[19:01:05] *** Joins: sms (Mibbit@moz-2202AB44.hsd1.ga.comcast.net)
[19:01:19] <bstrie> the time to discuss the raw string syntax has passed :P
[19:01:37] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:01:38] <JamesDunne> GH's MD engine allows any chars in 4-space indented code examples. Granted, the `` would be annoying inline with normal text.
[19:01:50] <JamesDunne> bstrie: Well I missed that boat :P
[19:01:54] <bstrie> you did!
[19:02:07] <JamesDunne> Since I only started my investigation of Rust yesterday
[19:02:31] * JamesDunne goes to look up infix functions
[19:02:33] <cmr> welcome to city 17. it's safer here.
[19:02:37] <cmr> 1 + 2
[19:02:39] <cmr> + is infix
[19:02:47] <cmr> now imagine, 1 `arbitrary_function` 2
[19:02:51] <cmr> rather than arbitrary_function(1, 2)
[19:02:53] <JamesDunne> Ah like Haskell
[19:02:55] <Ms2ger> That's just imagination, right?
[19:02:58] <cmr> Ms2ger: yes
[19:03:02] <Ms2ger> Ok
[19:03:04] <JamesDunne> Pfft.
[19:03:10] <kimundi> hallucination, even :P
[19:03:18] <cmr> pipe dream, if you will
[19:03:23] <SiegeLord> I thought we were standardizing on ~~~/~~~ fencing for code examples
[19:03:30] <JamesDunne> No reason to block a useful raw literal syntax for future fantasy
[19:03:43] <JamesDunne> :)
[19:03:58] <SiegeLord> We'd have to have r"" anyway... and that'd mean there'd be 2 raw string syntaxes
[19:03:59] <JamesDunne> Why not have both `` and r"" stuff? Pick your poison.
[19:04:15] <JamesDunne> It's just a lexer feature. Not like it'd get in the way.
[19:04:34] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:04:40] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[19:04:45] * JamesDunne suddenly gets a brilliant idea for his first pull req
[19:04:52] <bstrie> fewer features, not more! :)
[19:04:58] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[19:05:00] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:05:03] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[19:05:10] <SiegeLord> It'd be one more thing to fix my syntax highlighter on :P
[19:05:14] * bstrie preemptively rejects all pull requests to add new raw string syntax
[19:05:15] <JamesDunne> bstrie: cmr is removing @[] and @str, thereby making room for `` literals of course lol
[19:05:34] <kimundi> JamesDunne: In general we're currently at the phase where we try to minimize new features as much as possible, top converge on something stable - multiple syntactic ways to do the same thing are right out.
[19:05:49] *** Quits: dapz (textual@moz-16954008.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:05:59] <JamesDunne> kimundi: Understood, but if you launch with a bad initial set of features the language will doom itself to obscurity
[19:06:15] <JamesDunne> These sorts of things matter to freaks like me lol
[19:06:17] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[19:06:30] <JamesDunne> But I don't know how many like-minded freaks like me there are out there
[19:06:34] <SiegeLord> Can't please everybody ;)
[19:06:41] <JamesDunne> Just please me :)
[19:06:48] <kimundi> Sure, which is why every feature that is even remotley problematic in that way gets discussed to death on the mailing list before it gets implemented :P
[19:06:59] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:07:00] *** Joins: dapz (textual@moz-16954008.hsd1.ca.comcast.net)
[19:07:07] <kimundi> As has happend with raw string literals
[19:07:21] <JamesDunne> Who rationally argued that raw string literal nesting would be worthwhile?
[19:07:30] <JamesDunne> Thus leading to the r[###] stuff
[19:07:33] <cmr> everyone?
[19:07:36] <negge> only 2.5G
[19:07:39] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[19:07:39] *** ChanServ sets mode: +ao dherman dherman
[19:07:41] <kimundi> Its part of the argument of having raw string literals at all
[19:08:04] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:08:11] <kimundi> raw string literals == ability to paste any text into a source file without needing to change its content
[19:08:16] <JamesDunne> I dunno. I have yet to see a real-world example of nested raw strings.
[19:08:19] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:08:20] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[19:08:52] <JamesDunne> Generally I just use them for multiline string literals.
[19:08:58] <JamesDunne> Which may or may not include "s in them.
[19:08:58] <kimundi> JamesDunne: Its not about nested raw strings in general, that just falls out of the rules
[19:09:07] <curmet> regex is a case where raw string literals are useful
[19:09:20] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Connection reset by peer)
[19:09:21] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[19:09:28] <JamesDunne> kimundi: Mm I see.
[19:09:34] <kimundi> Any sequence of any character might have a special meanign in any string of text that you want to include in such a literal
[19:09:55] <JamesDunne> So you just add enough #s to escape problems
[19:10:06] <kimundi> which emans you need some kind of user variable delimiter that allows you to always find a uniqe delimiting string
[19:10:30] <JamesDunne> Right.
[19:11:01] <kimundi> Adding #'s was simply the smallest possible way to define delimiters that way, in a way that nicely falls back to r""
[19:11:01] *** Quits: Valtis (Valtis@moz-7A6DF574.kymp.net) (Ping timeout)
[19:11:10] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[19:11:28] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Ping timeout)
[19:11:32] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:11:34] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:11:39] *** Joins: Valtis (Valtis@moz-7A6DF574.kymp.net)
[19:12:10] <JamesDunne> Okay, so backing away from the term raw string literal since that's overloaded, just a simple `literal` with multiline enabled and no escape sequences is useful.
[19:12:38] <JamesDunne> `[any char except `]*`
[19:12:44] <kimundi> well, both "" and r"" allow multiline, and the latter disables escape sequences
[19:12:47] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[19:12:54] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[19:13:01] <JamesDunne> Right, but the problem with "" are that "s are very popular in string text
[19:13:04] *** Joins: kzzch (kzzch@moz-BB97B490.washdc.fios.verizon.net)
[19:13:10] <kzzch> join #rust-gamedev
[19:13:11] <JamesDunne> Thus the desire to eliminate escape sequences
[19:13:14] <kzzch> :/
[19:13:16] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:13:26] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[19:13:35] <JamesDunne> Whereas `s are not very popular at all in literal text
[19:14:17] <JamesDunne> `"hello" 'world'` is very readable.
[19:14:29] <JamesDunne> e.g. for javascript, SQL, whatever
[19:14:47] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[19:14:50] <JamesDunne> r#""hello" 'world'"# is a bit funky looking
[19:15:15] <kimundi> For what its worth, I think both a funky :P
[19:15:38] <Matthias247> Just need a proper editor that highlights only the inner text ;)
[19:15:50] <kimundi> Anyway, for reference, here is the issue where most of the proposals got collected and discussed outside from the mailing list: https://github.com/mozilla/rust/issues/9411
[19:15:53] <JamesDunne> Heh, and the more complex you make the raw string literal to parse, the fewer editors will support it
[19:16:05] <curmet> C++11 does it like this R"delimiter(raw_string_here)delimiter"
[19:16:28] <curmet> the delimiter is optional
[19:16:34] <JamesDunne> I'd prefer Rust's current r#""# over C++11's there
[19:16:37] <SiegeLord> Phew, that was a bullet we dodged
[19:16:54] <kimundi> JamesDunne: Editor reges parsability was an explicit design consideration - it was deemed that enough common editors uses reges engines powerful enough to support it - which is also the reason why we support nested block comments now
[19:16:57] *** Quits: mleise (marco@moz-850E56A9.pools.arcor-ip.net) (Ping timeout)
[19:17:15] <SiegeLord> vim doesn't support nested comments completely :P
[19:17:17] <kimundi> regex*
[19:17:27] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:17:41] <JamesDunne> Yeah, you'd need an advanced-enough regex with backtracking to support nesting matches
[19:17:59] <JamesDunne> Personally I hate regex, but let's not go there lol.
[19:18:58] *** Quits: vmx (vmx@moz-8D282163.dip0.t-ipconnect.de) (Quit: Leaving)
[19:19:11] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:19:38] <SiegeLord> Here's a compromise... r`` ;)
[19:19:50] <muricula> How do I write a for look in rust? I have gleaned that there are no for loops, but I need some way to iterate.
[19:19:53] <JamesDunne> Lol what's the leading r for?
[19:20:07] <JamesDunne> muricula: for x in vector.iter() { }
[19:20:08] <SiegeLord> For r#``@
[19:20:11] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[19:20:16] <SiegeLord> *r#``#
[19:20:54] <myname> yeah, screw regex, let's write nfa instead
[19:20:56] <JamesDunne> Heh. Well, whatever, I'll drop it.
[19:21:20] <muricula> thank you
[19:21:38] <SiegeLord> It's a compromise, not a capitulation :P
[19:21:51] <JamesDunne> Design is not something to be compromised upon :P
[19:21:56] <kimundi> muricula: Our for loops use iterators exclusively - the syntax is "for PATTERN in EXPRESSION", where expression is a type that implements Iterator<T>, and PATTERN is a destructuring pattern for a value of type T
[19:22:37] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:22:54] <kimundi> JamesDunne: For a programming language, compromises are all there is, sadly :P - To many different opinions
[19:23:07] <JamesDunne> kimundi: Agreed :)
[19:23:18] <JamesDunne> Which is why there are so many horrible languages lol
[19:23:37] <cmr> I've yet to use a language I truly found horid
[19:23:49] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[19:24:23] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:24:39] <JamesDunne> I just gave Go a shot heh
[19:24:46] <JamesDunne> Wanted to blow my brains out by the end of it.
[19:24:58] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[19:25:03] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[19:25:17] <Matthias247> I found Go pretty easy, but only looked through the tutorial
[19:25:28] *** Joins: chirag (chirag@moz-800F5B6B.hsd1.ca.comcast.net)
[19:25:29] <JamesDunne> Yeah it is easy ... to piss off the compiler.
[19:25:31] *** Quits: chirag (chirag@moz-800F5B6B.hsd1.ca.comcast.net) (Quit: chirag)
[19:25:37] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[19:25:50] <Matthias247> However I didn't like it that much, because I found no use case for it
[19:25:55] <JamesDunne> No generics pretty much killed it for me.
[19:26:04] <JamesDunne> It is great for writing web services and (small?) web apps.
[19:26:12] <Matthias247> Everything I can do with Go I can do with C# too
[19:26:15] <muricula> kimundi: more like python than c.
[19:26:17] <pzol> regarding the raw string stuff why not %q{ } similar to ruby
[19:26:20] <JamesDunne> I come from a C# background too
[19:26:36] <kimundi> pzol: Has also been considered
[19:26:55] * eddyb likes the ES6 `` strings with interpolated values and an optional filter function
[19:26:57] <cmr> raw string syntax is basically a done deal.
[19:27:00] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[19:27:15] <Ms2ger> eddyb, do those exist in the real world already?
[19:27:23] <eddyb> Ms2ger: traceur-compiler
[19:27:39] <SiegeLord> It'd be neat if format! supported interpolated strings, I suppose
[19:27:52] <JamesDunne> The problem with C# is no non-nullable refs and insufficient platform support.
[19:28:05] <JamesDunne> So I'm liking Rust so far with its sane type system
[19:28:07] <SiegeLord> I imagine that breaks macro hygiene though
[19:28:44] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:28:50] <eddyb> you can write PHP-like mysql_query calls that would otherwise allow injections, and then have a filter function do contextual escaping - or even better, prepare statements while keeping the cool syntax
[19:28:57] <JamesDunne> Go would be tolerable without the unused import errors and if they added generics
[19:29:15] *** Quits: dapz (textual@moz-16954008.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:29:36] <SiegeLord> Heh, the day Go adds generics will be the day it murders every C++ replacement, judging by how often that's the sole argument against Go ;)
[19:29:37] <cmr> I think go accomplishes its goals quite well.
[19:29:39] <eddyb> SiegeLord: it wouldn't break anything if the lexer/parser combo would support interpolated strings
[19:29:50] <Matthias247> JamesDunne: yes. Some things need a little bit more care. But for most tool-like applications I'm  very productive with it.
[19:30:01] <eddyb> `foo${any_expr_can_go_in_here}bar`
[19:30:48] <Matthias247> JamesDunne: I also have had very little problems with null refs in the past. Things that happen more often in such languages for me is that multiple functions mutate the same object - because at some point a .Clone() was forgotten
[19:31:18] <JamesDunne> Yeah, Go can be productive. I was able to get started with it very easily and modify my code.
[19:31:28] *** Quits: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP) (Quit: This computer has gone to sleep)
[19:31:32] <JamesDunne> Its module system caused some unnecessary barriers though.
[19:31:48] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:32:01] <Matthias247> google has a way better language - it's called Dart :)
[19:32:18] <JamesDunne> I tend to write most of my newer C# code for work with Maybe<T> and Either<L,R> home-grown types to avoid null refs heh.
[19:32:24] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:32:34] <myname> i actually would like dart as a js replacement
[19:32:37] <JamesDunne> Haven't looked at dart..
[19:32:39] <Matthias247> me too
[19:32:48] <Matthias247> I like really everything about dart
[19:32:51] <JamesDunne> Dynamic typing in general is a turn-off to me.
[19:33:14] <myname> well, it's way better than what js does
[19:33:25] <Matthias247> It does check most types statically at compile time
[19:33:25] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:33:29] <JamesDunne> Good
[19:33:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:33:50] <Matthias247> much less error prone than JS
[19:33:50] <myname> js always looks like it started with a bunch of unspecified behaviour which was heavily abused and became obscure standards with several exceptions
[19:34:03] <JamesDunne> looked like? Lol :P
[19:34:16] <Matthias247> and the annoying things of JS (type coercion, undefined, this, ...) are all gone
[19:34:50] <myname> visibility is horrible in js
[19:34:58] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Ping timeout)
[19:35:03] <Matthias247> hmm, Dart is the exact opposite of Rust in some way: All types are nullable :-)
[19:35:06] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:35:09] <JamesDunne> Ewwwww
[19:35:10] <myname> it's like "oh... we don't have public and private... but we have this 'var' keyword..."
[19:35:17] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:35:25] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:35:26] <cmr> Rust is a low-level systems language. Dart is a scripting language.
[19:35:34] <Matthias247> of course
[19:35:36] <cmr> apples to elephants
[19:35:37] <JamesDunne> Something needs to replace JS since I don't see it improving its foundations any time soon.
[19:35:56] <myname> indeed
[19:36:01] <Matthias247> that's why both have their domain and are very good in it
[19:36:03] <JamesDunne> Type systems are somewhat comparable; not exactly apples v. elephants.
[19:36:15] <Ms2ger> JamesDunne, not going to happen
[19:36:24] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[19:36:29] <bstrie> aaaaaaaaaaaahhhhhhhhhhhhhhhhhhh why is http://static.rust-lang.org/doc/0.6/tutorial-macros.html still a thing
[19:36:32] <myname> Ms2ger: i really hope it happens at some point
[19:36:36] <bstrie> it just got linked from a blog post that mentioned rust
[19:36:43] <bstrie> how do these things keep happening
[19:36:44] <JamesDunne> bstrie: Because that's a 0.6 link? Lol
[19:36:48] <myname> not in near future, that's pretty sure
[19:36:49] <cmr> bstrie: because google :(
[19:36:50] *** Joins: chirag (chirag@moz-800F5B6B.hsd1.ca.comcast.net)
[19:36:51] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:36:54] <cmr> bstrie: but which post?
[19:36:55] <Matthias247> Dart is also extremely focussed on single-threading with good async constructs
[19:36:58] <bstrie> google isn't to blame for still hosting them!!
[19:37:05] <bstrie> cmr: http://jlongster.com/Stop-Writing-JavaScript-Compilers--Make-Macros-Instead
[19:37:10] *** chirag is now known as catilac
[19:37:36] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[19:37:36] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[19:38:00] <Ke> btw. are there any plans for 0.8
[19:38:09] <cmr> Ke: 0.9 you mean?
[19:38:26] <Ms2ger> There are plans for 0.8
[19:38:28] <Ms2ger> Obsolete it
[19:38:31] <Ke> yes
[19:38:36] <cmr> release tomorrow, hopefully.
[19:38:41] <bvssvni> wow
[19:38:42] <acrichto> bstrie: I believe that brson very much likes having a complete history of rust's documentation
[19:38:44] <Ke> wow
[19:38:46] <Ke> excellent
[19:39:17] <bstrie> acrichto: that's okay, but we cannot just let links like that be crawled by google
[19:39:26] <JamesDunne> I would concur.
[19:39:29] <Ms2ger> +1
[19:39:32] <acrichto> bstrie: we probably need some header or robots.txt thing
[19:39:36] <bstrie> acrichto: and if they've already been crawled, then we need to move them to an "archaic" directory
[19:39:37] <JamesDunne> History is good to have but not to index
[19:40:12] <pauls> Maybe the bottom-right-corner tag on doc pages should include a link to the current version?
[19:40:52] <pauls> Or maybe even do something with JS to indicate whether it's out-of-date?
[19:40:56] <acrichto> bstrie: do you know if we had a robots.txt whehter google would start obeying that?
[19:41:00] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:41:01] <cmr> acrichto: it should
[19:41:03] <bstrie> pauls: I think I'd prefer that the bottom-right-corner tag actually take up the rightmost 30% of the page, and have an active timer saying how out of date those docs are from the second that they are published
[19:41:05] <cmr> google recrawls often
[19:41:26] <JamesDunne> bstrie: Lol
[19:41:26] <cmr> if it doesn't, whoever has access to DNS can setup google's webmaster tools and trigger a recrawl
[19:41:35] <pauls> Or an IFRAME? Would that help?
[19:41:36] <Matthias247> when you google for "Rust tutorial" a version 0.7 link is at the top
[19:42:11] <bstrie> acrichto: I don't know if google crawls rust-lang.org and static.rust-lang.org separately, and I don't know enough about S3 to know if amazon lets us put a custom robots.txt on the latter
[19:42:20] <pauls> (a nice note in black saying "current version" or a stern one in red saying "Out of date!"
[19:42:26] <JamesDunne> put all history on history.rust-lang.org
[19:42:39] <JamesDunne> domain name filtering seems easiest to implement for crawling
[19:42:44] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:42:45] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[19:42:50] <kimundi> I big, fat OSBOLETED plaster across all old doc pages would be nice, with a big link to the current version, and a small x for removing it :P
[19:42:56] <JamesDunne> rather than trying to make robots.txt rules for 0.9=latest, hide all 0.8 and under.
[19:42:56] <bstrie> brson: as someone who both answers questions and is very familiar with rust history, I contest that sentimentality is not a good reason to let old docs lie around cluttering up the internet
[19:43:20] <cmr> ("the internet will run out of space!")
[19:43:22] *** Quits: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Ping timeout)
[19:43:34] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[19:43:39] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[19:43:57] <bstrie> cmr: there are only a finite number of atoms to fabricate hard drives with
[19:44:36] <acrichto> but arguably an atom could contain an infinite amount of information!
[19:44:45] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:44:57] <bvssvni> acrichto: decoherence?
[19:45:11] * acrichto last took a science class 5 years go
[19:45:13] <acrichto> ago*
[19:45:26] <SiegeLord> Pretty sure there's a limit on information per volume
[19:45:26] <acrichto> that's kinda scary when I put it like that...
[19:45:49] <JamesDunne> yeah, let's get back out of the quantum world lol
[19:46:03] <Ms2ger> Old man :)
[19:46:18] <acrichto> <3 rust_fail
[19:46:23] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Quit: Leaving)
[19:46:31] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[19:46:57] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:47:53] <brson> bstrie: ok. I can make the old docs private on S3
[19:47:56] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:47:58] *** Quits: catilac (chirag@moz-800F5B6B.hsd1.ca.comcast.net) (Quit: Leaving...)
[19:48:07] <bstrie> brson: thank you!
[19:48:18] <brson> we'll still have 0.9 & master
[19:48:19] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:48:23] <brson> so slightly old docs
[19:48:29] <bstrie> that's fine
[19:48:36] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[19:48:40] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:48:41] *** Joins: catilac (catilac@moz-800F5B6B.hsd1.ca.comcast.net)
[19:48:46] <bstrie> brson: did you see the impetus for this, which is that someone in a blog post today linked to a page of the 0.6 docs
[19:48:53] <cmr> dear lord. there were a dozen functions in syntax::ext::quote that returned @str, just calling .to_managed() on a ~str
[19:49:12] <brson> bstrie: no i didn't
[19:49:13] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:49:14] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[19:49:20] <brson> 0.9 docs would be better than 0.6
[19:49:42] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[19:49:56] <cmr> docs for the latest release are fine
[19:49:58] <marc_> Anybody know of a ConcurrentHashMap impl? I need to load a lot of data from various files into a single hashmap and I'm currently CPU bound.
[19:50:05] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:50:25] <brson> i think i can make them private ...
[19:50:34] <brson> s3 has a 'make public' menu item but not a 'make private'
[19:50:37] <cmr> marc_: https://github.com/thestinger/rust-core/blob/master/core/concurrent.rs#L457
[19:51:04] *** Joins: dapz (textual@moz-16954008.hsd1.ca.comcast.net)
[19:51:47] <\n> what's the best way to do something like: `let a: ~[cre2_string_t, ..2] =  ~[Default::default(), ..2];`
[19:51:51] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[19:51:53] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[19:52:11] <cmr> \n: do you want a fixed-length vector?
[19:52:12] <\n> where the struct cre2_string_t impl's Default::default
[19:52:17] <\n> cmr yeah!
[19:52:37] <acrichto> \n: ~([Default::default(), Default::default()])
[19:52:43] <cmr> \n: you might need ~([...]), so it doesn't create a ~[]
[19:52:59] <cmr> brson: speaking of, I think we should rename fixed-length vector to either array or fixed-length array
[19:53:04] <brson> cmr: agree
[19:53:08] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[19:53:08] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:53:11] * cmr updates rusticon
[19:53:15] <Ms2ger> /nick \r
[19:53:18] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:53:26] <\n> ;)
[19:53:33] <marc_> cmr: thanks.. I think that isn't going to be much faster (I think I'm literally bound on hashing, so there will be huge contention for that mutex)
[19:53:37] <brson> i think in the end we'll end up with fixed length arrays and pointers containing arrays who's length is unknown at compile time
[19:53:53] <brson> and some kind of vec builder type
[19:53:57] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:54:14] <\n> acrichto: `let a: ~[cre2_string_t, ..2] =  ~[Default::default(), Default::default()];` no beans
[19:54:30] <cmr> \n: parens around the []
[19:54:34] <acrichto> yeah parents
[19:55:00] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[19:55:31] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:56:15] <\n> why parens?  It's not a tuple
[19:56:17] <bstrie> yes, I was just remarking today how the name "vector" is a relic of the time when all arrays were growable and fixed-sized arrays were but a pipe dream :P
[19:56:42] <acrichto> \n: ~[] has type ~[T], whereas ~([T]) has type ~[T, ..1]
[19:56:43] <cmr> \n: it doesn't create a tuple, it changes the precedence.
[19:56:56] <cmr> one-tuples are (foo,), not (foo)
[19:57:08] <bstrie> cmr: sshhh, one-tuples are a secret
[19:57:54] <dmz> is anyone going to bring rust support to the light table?
[19:58:05] <cmr> dmz: I was just thinking that when I saw the announcement.
[19:58:11] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[19:58:17] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: adridu59)
[19:58:25] <dmz> I'm just still in search for a good IDE, and the light table sounds very promising
[19:58:31] *** victorporof|away is now known as victorporof
[19:59:11] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:59:11] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[19:59:48] <adridu59> brson: about the old docs, we mostly need to unlink them from search engine; I think they can stay otherwise if history wants them to stay
[20:00:06] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[20:00:07] <brson> adridu59: can you tell me how to do that?
[20:00:07] *** Quits: Sorella (quildreen@D2D1E5DD.81EFC25A.A95FAE2B.IP) (Quit: Ex-Chat)
[20:00:20] <bstrie> I disagree, I want all link to them to break
[20:00:21] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:00:22] *** ChanServ sets mode: +o tjc
[20:00:34] <bstrie> scrub them from existence
[20:00:45] <Ms2ger> Hide all your terrible mistakes
[20:01:34] <adridu59> brson: the easiest way would be adding <meta name="robots" content="noindex,nofollow"> in the head of each of these
[20:01:39] <dmz> cmr: it looks like you need to know closure to write LT plugins (looking at the JS plugin source)
[20:01:54] <cmr> dmz: sure but that's not a big obstacle
[20:02:00] <adridu59> brson: or globally through robots.txt on the root folder of the domain, see #9955 https://github.com/mozilla/rust/issues/9955
[20:02:27] <brson> i'd rather do it globally, to not modify our historical artifacts
[20:03:14] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:03:34] <adridu59> brson: then I think it would need a robots.txt at static.rust-lang.org (I think that subdomains are treated individually by bots)
[20:03:51] <adridu59> well that's what http://www.seroundtable.com/archives/013888.html says (which makes senseà
[20:04:03] *** Quits: sk (sk@64DABFAC.CD78E0D.24EDD759.IP) (Ping timeout)
[20:04:18] <adridu59> -- I'm back in a few secs
[20:04:21] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:04:46] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[20:04:48] *** Joins: Ferreus (ferreus@moz-441F9161.pools.arcor-ip.net)
[20:05:32] *** Joins: xanxanxan (Mibbit@3957529C.94B580E1.B6856485.IP)
[20:05:57] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[20:06:02] <xanxanxan> Hi, can anyone teach me how to use bigint into a typical fibonacci calculate?
[20:06:03] <brson> i'll move the old ones to an archive/ folder and add robots
[20:06:07] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:06:24] <acrichto> brson: are we worried about breaking existing links though?
[20:06:40] <cmr> acrichto: breaking existing links is a goal imo :)
[20:06:56] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[20:06:57] <bstrie> I'm concerned about breaking links, but we'll be thanking ourselves in the long term
[20:07:24] <bstrie> *ideally* all the links we're breaking today will just redirect back to a docs landing page
[20:07:46] *** Quits: xanxanxan (Mibbit@3957529C.94B580E1.B6856485.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:08:18] <adridu59> brson you can target the files individually I think
[20:08:57] <adridu59> if you add a Disallow rule for each of these; well that's if you don't want to move the files
[20:09:19] <adridu59> Disallow: /path/to/file.html
[20:09:38] <adridu59> with User-Agent: * at the top
[20:10:18] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:10:30] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:11:15] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[20:11:24] <brson> ok, i'll not move them but add a Disallow line per version
[20:11:57] * brson lunch
[20:12:07] <adridu59> oh and robots.txt rules cannot be stacked afaik you need one Disallow: file per line
[20:12:30] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[20:12:31] <brson> Disallow: 0.6/\nDisallow: 0.7\n etc?
[20:13:32] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[20:13:35] <adridu59> yes, with paths
[20:13:59] <adridu59> there's an official doc for it: http://www.robotstxt.org/robotstxt.html
[20:14:26] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Quit: Leaving.)
[20:14:29] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[20:14:37] <negge> adridu59: I just installed the live ebuild for rust
[20:14:46] <negge> it compiled without issue
[20:15:05] <adridu59> hmm gentoo rust I wasn't aware of that one
[20:15:16] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:15:33] <adridu59> so we have nightlies for Arch Fedora Gentoo Ubuntu Windows
[20:15:44] *** Joins: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[20:15:53] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Connection reset by peer)
[20:15:53] <cmr> (the ubuntu packages work on debian with an upgraded libc)
[20:16:11] <adridu59> SteamOS has an upgraded libc
[20:16:36] <cmr> the ebuild isn't really a nightly though
[20:16:44] <cmr> it's a bash script that builds rust
[20:17:08] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Client exited)
[20:18:06] *** Quits: victorporof (victorporo@5EC92F85.71368607.9B1E38F4.IP) (Quit: victorporof)
[20:18:18] <cmr> /home/cmr/hacking/rust3/src/libsyntax/attr.rs:257:42: 257:43 error: mismatched types: expected `&str` but found `&~str` (expected &str but found &-ptr)
[20:18:21] <cmr> /home/cmr/hacking/rust3/src/libsyntax/attr.rs:257           MetaWord(ref n) if "inline" == n => InlineHint,
[20:18:25] <cmr> shouldn't auto-borrow be taking care of me here?
[20:18:44] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[20:19:12] *** Joins: vosen (vosen@moz-3B059DC4.sta.asta-net.com.pl)
[20:19:26] <sfackler> you might need if "inline" == *n?
[20:19:41] *** Joins: sk (sk@DE4CC43A.C8AF14A1.33B96495.IP)
[20:19:54] <cmr> seems to do it
[20:19:58] <cmr> I had thought that worked...
[20:20:23] <curmet> i think the real issue is that it expects a string not a string slice
[20:20:24] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:21:05] <curmet> erm, the other way around
[20:22:44] <negge> adridu59: there is a rust overlay
[20:23:30] <negge> cmr: the live ebuilds are sort of gentoo's equivalent to a nightly package
[20:23:59] <cmr> negge: is a live ebuild not a -9999 / scm package?
[20:24:05] <cmr> been a while since I used gentoo..
[20:24:48] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[20:25:47] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:26:38] <negge> cmr: I live ebuild is a -9999 / scm package
[20:26:43] <negge> that is just what they call them
[20:26:46] <cmr> ok
[20:27:37] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:28:49] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:29:33] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:30:18] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:31:16] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[20:32:30] <adridu59> brson: BTW if you're on the website thingy, it might be a good idea to redirect static.rust-lang.org to the main domain e.g. https://gist.github.com/adridu59/8324066
[20:33:53] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:33:59] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:34:08] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:35:41] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:37:26] *** Joins: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za)
[20:37:50] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[20:38:52] *** Joins: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP)
[20:40:25] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:42:52] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[20:43:04] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[20:45:15] *** Quits: dapz (textual@moz-16954008.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:45:59] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[20:46:50] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:48:36] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[20:49:10] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[20:50:31] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[20:57:37] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:58:31] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[20:59:32] *** Quits: JamesDunne (Jaymz@moz-C84E6351.hsd1.il.comcast.net) (Quit: Leaving.)
[21:00:17] *** Joins: robotify (Mibbit@moz-857CBB10.rec.ri.cmu.edu)
[21:02:30] <bstrie> oh ho, over 400 in the channel
[21:02:35] *** Joins: lennart (lennart@moz-DE70D6F.stanford.edu)
[21:02:40] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:02:41] <bstrie> someone check #developers
[21:03:31] *** Joins: dapz (textual@moz-16954008.hsd1.ca.comcast.net)
[21:03:54] <gavin> you surpassed developers a while ago
[21:04:10] *** Joins: dgalling (dgalling@moz-643228D9.dyn.optonline.net)
[21:04:29] <bstrie> wait, are we the biggest channel on moznet then?
[21:05:03] *** Quits: dapz (textual@moz-16954008.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:05:05] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[21:05:05] <kimundi> nice
[21:05:19] <bstrie> yeaaaaah arbitrary numbers
[21:05:35] *** Quits: jackneill (jackneill@moz-8764DFF6.pool.digikabel.hu) (Ping timeout)
[21:05:45] <dmz> it's starting to be dense, should we split up?
[21:05:57] <bstrie> dmz: see #rust-internals and #rust-osdev and #rust-gamedev
[21:06:06] <cmr> well now that #rust-internals and #rust-gamedev is split I don't think it's dense at all.
[21:06:11] <bstrie> and #servo
[21:06:12] <cmr> it used to be pretty bad
[21:06:34] <dmz> I know of those, but I also think that everyone from there is also logged in here. That's not splitting up.
[21:06:58] <cmr> it segregates the discussion, how is that not splitting up?
[21:07:27] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:08:06] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:08:09] <dmz> uh ok
[21:08:34] <cmr> that was a genuine question; what do you mean by splitting up?
[21:08:54] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[21:08:59] <tjc> splitting up is usually by topic of conversation, not by person
[21:09:01] <bstrie> it's fine to lurk
[21:09:17] <tjc> the same people will lurk on several channels, but choose which one to route each separate conversation to
[21:09:21] <dmz> having a bunch of channels with 100 or less pplz in each, as an example. No idea how is that supposed to work efficiently (in terms of communication) though
[21:09:28] <tjc> at least, that's how I've usually seen IRC channels work
[21:09:32] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[21:09:42] *** Quits: catilac (catilac@moz-800F5B6B.hsd1.ca.comcast.net) (Quit: Leaving...)
[21:09:48] <tjc> for example, I'm on 3 different channels on irc.mozilla.org right now. when I was working on Rust full time, I would be on 6 channels.
[21:09:53] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:10:00] <lennart> hey, can I ask a newbie question about including library packages?
[21:10:01] <dmz> but I agree, lurkers that are active in other channels are perfectly fine, so ignore me
[21:10:01] <tjc> I would see mentions of me on any of them, but, of course, I usually wouldn't be looking at any of them.
[21:10:11] <tjc> lennart: Yes, go right ahead
[21:10:23] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:10:38] <bstrie> lennart: depends, are you the person who wrote pulseaudio?
[21:10:41] <lennart> I've downloaded a rust package (cgmath) and built it with rustpkg to obtain a .so file
[21:10:59] <lennart> how do I link/include that in a program?
[21:11:05] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[21:11:08] <lennart> bstrie: nope
[21:11:32] <tjc> lennart: extern mod cgmath;
[21:11:35] *** Joins: catilac (catilac@moz-800F5B6B.hsd1.ca.comcast.net)
[21:11:43] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:11:52] <lennart> where does the .so file need to be located?
[21:11:56] <bstrie> I still say we should think about a `link` keyword
[21:12:05] *** Joins: khodzha1 (khodzha@2FB2166B.A859D9FD.CA6E2165.IP)
[21:12:47] *** Quits: catilac (catilac@moz-800F5B6B.hsd1.ca.comcast.net) (Quit: Leaving...)
[21:12:48] *** Quits: khodzha (khodzha@CB710772.EF9FA30D.CA6E2165.IP) (Ping timeout)
[21:14:00] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:14:27] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[21:15:08] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:15:12] <lennart> amd do I need to pass any compiler flags to rustc?
[21:15:24] *** Joins: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net)
[21:15:27] <cmr> lennart: -L path/to/dir/containing/your/lib
[21:15:35] *** Joins: hoverbear (hoverbear@moz-4F20FA8F.wireless.uvic.ca)
[21:15:35] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Broken pipe)
[21:15:35] <cmr> usually I just copy all of my deps into the current dir and -L .
[21:15:45] <cmr> really not the greatest, but it works.
[21:15:48] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[21:16:53] *** Quits: Ms2ger (Ms2ger@D324D80C.3387515C.187A1082.IP) (Quit: nn)
[21:17:06] *** Quits: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Quit: Leaving.)
[21:17:10] <SiegeLord> There is a pre-defined directory include actually. .rust/lib/<build-triple> I believe
[21:17:38] *** Joins: mhr (mhr@moz-453998C8.dsl.bell.ca)
[21:17:48] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[21:17:49] *** Quits: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net) (Quit: tikue)
[21:17:57] *** Joins: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net)
[21:18:39] *** Quits: hoverbear (hoverbear@moz-4F20FA8F.wireless.uvic.ca) (Quit: Taking a nap.)
[21:19:09] <lennart> okay, thanks, got it working with copying the .so file into /usr/local/lib/rustc
[21:19:34] *** Quits: mhr (mhr@moz-453998C8.dsl.bell.ca) (Ping timeout)
[21:19:47] <dmz> oh, you have chosen the dark path then
[21:20:04] <tjc> you don't actually need any -L flags
[21:20:05] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[21:20:17] <tjc> if you built the package with rustpkg, and it's named cgmath, you can just say `extern mod cgmath;` with no flags
[21:20:26] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[21:20:38] *** kimundi is now known as zz_kimundi
[21:20:40] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:20:47] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[21:20:50] *** Joins: sinma (sinma@moz-6A11C47C.fbx.proxad.net)
[21:21:21] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[21:21:21] *** ChanServ sets mode: +ao dherman dherman
[21:21:27] <sinma> Hi, the last time I come there was some discussion about get rid of Markdown or not for rust-doc
[21:21:35] <lennart> tjc: that wasn't working for me, I kept getting "error: can't find crate for `cgmath`"
[21:21:59] <sinma> Is it still relevant?
[21:22:00] <lennart> so I assumed I was doing something wrong
[21:22:11] <bstrie> sinma: no decision yet!
[21:22:24] <cmr> sinma: yes, the current discussion leans towards reStructuredText/sphinx
[21:22:54] <sinma> cmr: funny, I came here just after seeing how reStructuredText is well designed ;)
[21:22:59] <sinma> Thanks for the quick answer
[21:23:05] <tjc> lennart: hmm, I don't know, then. it could be a regression; but it should be that (as SiegeLord said) rustpkg will build that library and put it in .rust/lib/<build-triple>...
[21:23:14] <tjc> and rustc has that directory hard-wired into its search path
[21:23:26] <tjc> well, actually, that could be the problem
[21:23:47] <cmr> sinma: so that's another vote for reST? :)
[21:23:51] <tjc> if you had written something like "extern mod cgmath = github.com/whatever/cgmath;" then rustpkg would put it in the .rust directory inside your project that's importing cgmath
[21:24:02] <tjc> but if you installed cgmath, then changed directories, rustpkg wouldn't be able to find it
[21:24:09] <tjc> because dependencies are local to each project by default
[21:24:11] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Connection reset by peer)
[21:24:18] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:24:18] *** ChanServ sets mode: +o tjc
[21:24:22] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[21:24:41] <tjc> the quick workaround is to set your RUST_PATH to DIR/.rust where DIR is the directory you were in when you installed cgmath with rustpkg
[21:26:04] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:27:29] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[21:27:53] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[21:28:52] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Client exited)
[21:29:13] *** Joins: twi (Adium@moz-DC24E4B0.static.tpgi.com.au)
[21:29:21] *** Quits: twi (Adium@moz-DC24E4B0.static.tpgi.com.au) (Max SendQ exceeded)
[21:29:31] *** Joins: twi (Adium@moz-DC24E4B0.static.tpgi.com.au)
[21:29:32] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[21:29:39] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[21:31:09] <brson> http://static.rust-lang.org/robots.txt
[21:31:20] <Tobba> hah
[21:31:23] <lennart> tjc: thanks for your explanation
[21:31:23] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:31:30] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[21:31:36] <Tobba> that took long
[21:31:37] <tjc> no problem
[21:32:16] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[21:32:28] <sinma> cmr: if I can vote, yes! It’s flexible, has many interesting features and it’s clean and readable. By the way, it’s mature because that’s already widely used for documentation with Python. Last but not least, there are many Pythonists, and I think some should be intersted by Rust. :p
[21:32:53] * cmr is a pythonista by trade
[21:33:24] <dmz> tjc: I'm not sure it's wise to point people at rustpkg right at the doors of basic mod linking, considering how unreliable and fluxible rustpkg is at this point...
[21:34:00] *** Joins: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net)
[21:34:22] <brson> can i redirect static.rust-lang.org to www.rust-lang.org with some static file?
[21:34:29] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:34:46] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:34:46] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[21:35:14] <dgalling> brson: yeah use a meta http-equiv redirect
[21:35:23] <tjc> dmz: well, lennart already said "I've downloaded a rust package (cgmath) and built it with rustpkg"; I didn't suggest it :-)
[21:35:35] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[21:35:35] *** ChanServ sets mode: +ao nmatsakis nmatsakis
[21:35:50] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:35:54] <pyon> In 0.8, is there any difference between std::io::{Reader, Writer} and std::rt::io::{Reader, Writer} ?
[21:36:10] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:36:13] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[21:36:13] *** ChanServ sets mode: +ao dherman dherman
[21:36:28] <cmr> pyon: yes, they're entirely different traits.
[21:36:30] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:36:47] <dmz> tjc: he built it with rustpkg because that's how cgmath readme says it should be built. Was his own project also built with rustpkg? I'd be surprised
[21:37:05] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[21:37:16] <lennart> dmz: that's right. my own test source file was not
[21:37:44] <bjz> I'm probably going to move to a cmake build system for cgmath anyway
[21:37:48] <dmz> you know, I'd not pay attention if my own experience with rustpkg was positive, but so far it's anything but
[21:38:02] <dmz> bjz: wow, unexpected, elaborate on that?
[21:38:15] <bjz> I've already moved to cmake with glfw-rs
[21:38:52] <dmz> but... isn't rustpkg the ideomatic way of building with rust? (see, now I'm advocating for it...)
[21:39:16] <bjz> well, it's supposed to be, hence why I moved my libs to it
[21:39:42] <tjc> as I'm no longer on the core team, I have to defer to others about what the core team wants to be the idiomatic way to build with Rust :-)
[21:39:55] <bjz> but it only seems to handle really basic packages well, like rust_geom
[21:40:08] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:40:09] <sinma> cmr: by the way, the Python taken from Python (format! and for loop — but maybe it was taken from an older langage?) might be quoted on the manual, isn’t it?
[21:40:12] *** Joins: voxpopuli (fanservice@moz-424BC304.hsd1.pa.comcast.net)
[21:40:33] <dmz> bjz: so basically you retreat to cmake because rustpkg is not yet ready?
[21:40:42] <bjz> with glfw-rs I also needed to detect the glfw dependencies via pkgconfig
[21:40:49] <bjz> yes, that's right
[21:40:55] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[21:41:08] <SiegeLord> bjz, Are you using a handrolled CMakeLists or with a helping of my macros?
[21:41:08] <cmr> I think the current thinking is that we're going to lean on external build systems for now, but still use rustpkg to fetch them and for dependency management.
[21:41:16] <dmz> bjz: you could use pkg.rs for glfw-rs, I suppose
[21:41:17] <cmr> would have to ask jack though
[21:41:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:41:54] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:42:11] <bjz> SiegeLord: handrolled - didn't know you had any
[21:42:16] *** Quits: Kruppe (user@moz-B1B4C97.net.uwaterloo.ca) (Ping timeout)
[21:42:38] <cmr> bjz: >_< how did you miss them! they were all over reddit, the ML, and twir!
[21:42:55] <SiegeLord> bjz, https://github.com/SiegeLord/RustCMake
[21:42:55] <bjz> ><
[21:43:21] *** Joins: johns` (johns@moz-BBE3ABD.mv.mozilla.com)
[21:43:24] *** Quits: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net) (Connection reset by peer)
[21:43:28] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[21:43:49] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:44:13] <bjz> Oh I did see that, but I think I forgot about it...
[21:44:16] <bjz> looks nice
[21:45:04] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[21:47:12] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[21:47:49] <brson> anybody want to write a new snippet for the home page?
[21:47:58] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:48:19] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:48:21] *** Joins: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au)
[21:48:38] <cmr> what's wrong with the current one?
[21:48:54] <brson> i've heard people dislike it
[21:48:55] <cmr> what should the frontpage snippet strive for?
[21:49:09] <tjc> also, those are last year's interns' names :-)
[21:49:18] <cmr> I mean I'm not a particularl fan either, but there's only so much you can do?
[21:49:37] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Client exited)
[21:49:43] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[21:50:04] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:50:26] <SiegeLord> We should do what golang does, hehe
[21:50:41] <SiegeLord> And cache outputs to pretend we compile fast ;)
[21:50:55] *** Quits: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP) (Quit: Bye!)
[21:51:17] <Ke> if the cache is safe, why not
[21:51:52] *** Quits: twi (Adium@moz-DC24E4B0.static.tpgi.com.au) (Ping timeout)
[21:52:29] *** Quits: eatkinson (eatkinson@moz-C52156BC.dsl.bell.ca) (Quit: eatkinson)
[21:52:34] *** Joins: alonlevy (alon@moz-30492E92.bb.netvision.net.il)
[21:53:38] *** Quits: vosen (vosen@moz-3B059DC4.sta.asta-net.com.pl) (Connection reset by peer)
[21:53:52] *** Joins: vosen (vosen@moz-3B059DC4.sta.asta-net.com.pl)
[21:53:57] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:53:59] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Client exited)
[21:54:11] *** Joins: twi (Adium@moz-DC24E4B0.static.tpgi.com.au)
[21:54:17] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[21:54:19] <dmz> cmr: does it have to be a self-contained snippet (actually compilable)? I mean, people can use the tutorials for snippets, if they need them. It might be more impressive to just post a cut from some real application code (as just an idea)
[21:54:50] <dmz> brson:^
[21:55:26] <tjc> SiegeLord: that's already what rustpkg does, unless I'm misunderstanding
[21:55:35] <tjc> except that the cache gets invalidated if any code in a given crate changes
[21:55:49] *** Quits: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net) (Quit: tikue)
[21:55:54] <cmr> tjc: extra::workcache, right?
[21:56:03] <tjc> cmr: Right
[21:57:43] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Client exited)
[21:57:44] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Ping timeout)
[21:57:49] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[21:57:49] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:58:01] <SiegeLord> tjc, Hah, well... there you go ;)
[21:58:06] *** Quits: atomical (atomical@moz-C92D67E2.library.northwestern.edu) (Ping timeout)
[21:58:08] *** Joins: dapz (textual@moz-16954008.hsd1.ca.comcast.net)
[21:58:10] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[21:58:10] <SiegeLord> Just need a web interface to it
[21:58:20] <tjc> it's just that it's usually not very impressive unless someone is working on multiple crates at once :-)
[21:58:21] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[21:58:26] <cmr> SiegeLord: http://strcat.zapto.org:8000/ :)
[21:58:32] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[21:58:36] <SiegeLord> on rust-lang.org ;)
[21:58:44] <SiegeLord> With a CSS from after 2000
[21:58:47] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[21:58:47] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[21:59:36] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[21:59:43] <dmz> wow, may I use that from time to time? (strcat.zapto.org)
[21:59:48] <SiegeLord> And not, I assume, running on strcat's laptop
[21:59:53] <cmr> dmz: that's why it's there
[22:00:01] <cmr> uses the same backend rusti here does.
[22:00:21] <dmz> is it really on strcat laptop?
[22:00:26] <cmr> yeah
[22:00:40] <SiegeLord> lol, I just tried running the rust-lang.org snippet
[22:00:45] <SiegeLord> "EstonBen says hello from a lightweight thread! says hello from a lightweight thread!"
[22:00:46] *** Joins: atomical (atomical@moz-DEDB4821.nuwlan.northwestern.edu)
[22:00:51] <SiegeLord> That's why we need a new snippet :P
[22:00:54] <\n> is a vector no longer mutable when passed to a function?
[22:01:12] <bstrie> SiegeLord: I deliberately use something like that in the wikipedia example to demonstrate that concurrency is actually happening :P
[22:01:16] <cmr> \n: mutability is inherited. if it's in a mutable slot, then it's mutable.
[22:01:23] <dmz> ok,.. I was disappointed by compileonline.com being unable to update from rust-0.7, and looking for an alternative...
[22:01:23] <SiegeLord> bstrie, Hah
[22:01:39] <SiegeLord> Causing race conditions to show parallelism... awesome
[22:01:49] <SiegeLord> Although that's how I know cmake is doing parallel stuff as well >.>
[22:01:57] <\n> cmr: I'm declaring the passed variable as mutable, but do I need that in the receiving function signature as well?
[22:02:10] <cmr> \n: mutability in the caller is irrelevant.
[22:02:12] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:02:35] <cmr> rusti: let x = ~[1i, 2, 3, 4]; fn foo(mut x: ~[int]) { x.pop(); x.pop(); println!("{:?}", x); } foo(x);
[22:02:36] -rusti- ~[1, 2]
[22:02:36] -rusti- ()
[22:03:43] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[22:04:53] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:05:22] *** Quits: twi (Adium@moz-DC24E4B0.static.tpgi.com.au) (Quit: Leaving.)
[22:05:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:05:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:05:34] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[22:05:43] *** jorendorff is now known as jorendorff_away
[22:06:01] *** Quits: FreeFull (freefull@moz-10D3AE1E.as13285.net) (Ping timeout)
[22:06:50] *** Joins: catilac (catilac@moz-800F5B6B.hsd1.ca.comcast.net)
[22:06:55] *** Quits: fabiand (fabiand@moz-89D00DFE.adsl.alicedsl.de) (Quit: Verlassend)
[22:08:07] *** Quits: dapz (textual@moz-16954008.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:08:11] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[22:08:45] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[22:09:23] *** Joins: gkw (fuzz2lin@moz-BBE3ABD.mv.mozilla.com)
[22:09:59] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:10:00] *** Joins: twi (Adium@moz-DC24E4B0.static.tpgi.com.au)
[22:10:20] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Client exited)
[22:10:24] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[22:10:28] *** Joins: pyon` (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[22:10:31] *** Quits: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) (Quit: kvanb)
[22:10:42] <Tobba> ugh
[22:11:04] <Tobba> now I have to figure out how to make this global static mutable properly without getting unimplemented expression type errors
[22:11:23] <cmr> Tobba: did you file an issue?
[22:11:28] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:11:30] <Tobba> not currently
[22:11:32] <cmr> I think I can fix that this week
[22:11:45] *** Quits: twi (Adium@moz-DC24E4B0.static.tpgi.com.au) (Quit: Leaving.)
[22:11:52] <Tobba> I think &mut [] triggers it
[22:11:55] <cmr> please do :) cc @cmr
[22:11:58] <cmr> yeah it does
[22:12:05] <cmr> I know what the problem is
[22:12:06] <Tobba> one sec then
[22:12:28] *** pyon` is now known as pyon
[22:12:30] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[22:13:00] *** Joins: vmx (vmx@moz-BC990C74.pools.arcor-ip.net)
[22:13:54] *** Quits: dgpratt (dpratt71@2F49BEA0.B7D6B72A.4F70D6C7.IP) (Ping timeout)
[22:14:01] *** Joins: Ponderosa (Ponderosa@moz-B8A8DB32.onp-omron.com)
[22:14:42] <\n> is it possible to iterate X # of times, without range() ???
[22:14:53] <cmr> \n: not idiomatically
[22:15:05] *** Quits: catilac (catilac@moz-800F5B6B.hsd1.ca.comcast.net) (Quit: Leaving...)
[22:15:06] <\n> ty
[22:15:17] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:15:29] *** Quits: sinma (sinma@moz-6A11C47C.fbx.proxad.net) (Quit: Konversation terminated!)
[22:17:44] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Client exited)
[22:18:42] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[22:20:11] *** Quits: robotify (Mibbit@moz-857CBB10.rec.ri.cmu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[22:20:23] *** Joins: catilac (catilac@moz-800F5B6B.hsd1.ca.comcast.net)
[22:21:18] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:21:48] *** Joins: FreeFull (freefull@moz-10D3AE1E.as13285.net)
[22:23:33] *** Quits: dangets (dangets@moz-E9E4A77B.cpe.cableone.net) (Ping timeout)
[22:23:37] *** Quits: nobody (nobody@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[22:24:08] <pyon> How often do you install the latest Rust version from master?
[22:24:36] <pyon> Or, how often would it be recommendable to update?
[22:25:01] <cmr> pyon: at least weekly, is what I recommend.
[22:25:19] <cmr> I happen to provide a weekly summary of pertinent changes ;)
[22:26:02] *** Joins: Florob (Florob@moz-39532932.de)
[22:26:40] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:27:03] <geomyidae_> I'm very thankful for the prebuilt rust-git arch packages. Makes my life so much easier.
[22:27:09] <cmr> yup
[22:27:12] <pyon> cmr: Ah, nice, thanks. Then I will be doing that. :-)
[22:27:15] *** Joins: kvanb (kvanb@moz-25C48B43.lns11.lon.bigpond.net.au)
[22:27:15] <Earnestly> Hooray for strcat
[22:27:26] <cmr> when I was still building myself I usually upgraded every 3 days or so
[22:27:30] <pyon> geomyidae_: So, how do you update?
[22:27:39] <cmr> pyon: pacman -Sy rust-git
[22:27:41] <\n> how do I slice a string but keep it as a string, not a slice?  ie. the expression has to evaluate to a ~str, not &str
[22:27:46] <cmr> (or, more generally, pacman -Syu)
[22:27:49] <pyon> cmr: Ah!
[22:27:59] <cmr> \n: .slice(start, end).to_owned()
[22:28:07] <cmr> involved an allocation
[22:28:12] <cmr> *involves
[22:28:14] <Earnestly> cmr: On Arch?  I wouldn't recommend -Sy, it leaves the system in a partially upgraded state where ever -S action becomes a partial upgrade
[22:28:17] <\n> I get a lifetime error
[22:28:18] <pyon> Oh, I did not know pacman -Syu could update packages from AUR.
[22:28:23] <Earnestly> pyon: It doesn't
[22:28:25] <cmr> pyon: it's not in the aur
[22:28:30] <cmr> it's in strcat's repository
[22:28:51] <pyon> Oh.
[22:28:58] <cmr> it's prebuilt
[22:29:16] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[22:29:22] <Earnestly> pyon: http://pkgbuild.com/~thestinger/repo/x86_64/ (you can use it as a repo in the config, just replace the arch with $arch)
[22:29:34] <pyon> Earnestly: Thanks!
[22:29:46] <Earnestly> cmr: (And Arch Linux doesn't support partial upgrades even though pacman allows it)
[22:30:04] <cmr> Earnestly: when is rust-git ever going to be a partial upgrade?
[22:30:21] <Earnestly> cmr: -Sy updates the package list
[22:30:34] <Earnestly> cmr: Turning every -S operation into a partial upgrade
[22:30:44] <Earnestly> The key is, "never -y without -u"
[22:30:45] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[22:31:34] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[22:32:31] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:32:37] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[22:32:38] *** ChanServ sets mode: +o jdm
[22:34:43] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[22:34:47] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:34:57] <vmx> i'm not sure if i do it completely wrong, but what i try to do is: i've a trait MyTrait<T> {...}. now i'd like to do impl MyTrait<A> for X and impl MyTrait<B> for X. but i can only implement one. what should i do?
[22:35:25] *** Joins: hoverbear (hoverbear@moz-709606DE.wireless.uvic.ca)
[22:35:28] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[22:35:31] *** Joins: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP)
[22:35:58] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[22:36:14] *** Quits: hoverbear (hoverbear@moz-709606DE.wireless.uvic.ca) (Quit: Taking a nap.)
[22:36:17] *** flaper87 is now known as flaper87|afk
[22:36:18] *** Joins: hoverbear (hoverbear@moz-709606DE.wireless.uvic.ca)
[22:36:27] *** Quits: hoverbear (hoverbear@moz-709606DE.wireless.uvic.ca) (Quit: Taking a nap.)
[22:36:30] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: computer sleeping)
[22:36:30] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:38:27] <vmx> i also trait using a trait for A and B and impl that
[22:39:02] <tjc> vmx: what problem are you trying to solve?
[22:39:13] <tjc> as in, what functionality does MyTrait provide, and what is X?
[22:39:43] *** Quits: rca (rcatolino@moz-7D64E2BF.adsl.proxad.net) (Ping timeout)
[22:40:00] *** Joins: hoverbear (hoverbear@moz-709606DE.wireless.uvic.ca)
[22:40:05] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[22:40:17] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:41:04] *** Quits: jhasse (jhass_000@moz-AFC8E944.ewe-ip-backbone.de) (Connection reset by peer)
[22:41:46] <\n> I'm confused by a "borrowed value does not live long enough" error I get when I do something like from_c_str(...).slice_to(...).to_owned()
[22:42:07] <tjc> \n: the easy answer is to name the intermediate results
[22:42:23] <\n> name the slice?
[22:42:24] <vmx> tjc: that's becoming more and more complex. most things i've covered already. what i currently struggle with is that i want to write a "less" function which operates on two different types, but you don't know which type is compared with which
[22:43:00] <cmr> \n: in particular you should be able to assign the result of from_c_str to a temporary and have it work.
[22:43:12] <cmr> \n: but in general when you get those errors it just means "add more temporaries"
[22:43:16] <cmr> niko is working on it atm afaik
[22:43:20] <tjc> vmx: Seems like you would want to define a trait called Less<A, B> (or whatever) and provide impls for all pairs of types A and B that you want to be comparable
[22:43:28] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[22:43:46] <vmx> tjc: yep, this sounds like it. thanks, trying now
[22:44:08] <tjc> bbiab
[22:44:39] <\n> cmr tjc: thanks for the tips!
[22:45:09] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:45:55] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:46:05] <\n> good to hear that it's being fixed, too
[22:47:53] *** Joins: new_one (new_one@338D8DF9.4C461BEC.59A381B9.IP)
[22:48:02] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[22:48:26] *** Quits: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP) (Connection reset by peer)
[22:48:31] *** Joins: int3_ (int3_@6647F17C.C24D7B6A.EC6C369A.IP)
[22:49:23] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[22:50:09] *** Quits: catilac (catilac@moz-800F5B6B.hsd1.ca.comcast.net) (Quit: Leaving...)
[22:50:39] *** Quits: FreeFull (freefull@moz-10D3AE1E.as13285.net) (Quit: Rebooting into Linux)
[22:53:03] *** Joins: FreeFull (freefull@moz-10D3AE1E.as13285.net)
[22:53:18] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:53:31] *** Quits: moostik (Icedove@moz-2E0A4DA6.minet.net) (Ping timeout)
[22:53:39] *** Quits: curmet (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[22:53:46] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:54:12] *** Quits: sms (Mibbit@moz-2202AB44.hsd1.ga.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:55:11] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[22:56:06] <vmx> tjc: hm, it's not quite clear how to implement Less<A, B> for all combinations. i keep trying
[22:56:07] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:56:24] <vmx> if anyone else wants to step in, help is welcome :)
[22:56:35] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[22:58:00] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[22:58:01] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[22:58:24] <jmgrosen> there's no chance will ever get an Ord trait that returns arbitrary values, is there?
[22:58:44] <cmr> jmgrosen: what use would such a trait be?
[22:58:48] <jmgrosen> i.e. trait Ord<T> { fn lt(&self, b: &Self) -> t; ...}
[22:59:03] <jmgrosen> cmr, I'm thinking DB drivers at the moment
[22:59:53] <jmgrosen> so you can do, e.g. `Column("foo") > Column("bar")` that would return something describing that in a way that could be serialized into e.g. SQL
[23:00:15] <cmr> hm
[23:00:18] <cmr> I very much doubt it.
[23:00:32] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:00:58] <jmgrosen> fair enough, I suppose; it wouldn't have that much use other than Ord<bool>
[23:01:38] <jmgrosen> too bad there's no infix functions like haskell, then :(
[23:01:43] <jmgrosen> but that's also understandable
[23:01:47] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[23:03:27] <\n> can anyone help me spot what I'm doing wrong here? http://pastebin.mozilla.org/3969597
[23:03:34] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[23:03:37] *** Quits: hoverbear (hoverbear@moz-709606DE.wireless.uvic.ca) (Quit: Taking a nap.)
[23:03:45] *** johns` is now known as johns
[23:03:45] <kmc> \n: type synonyms are "transparent"
[23:03:53] <kmc> so you're trying to add new methods on ~[T]
[23:04:06] <kmc> which isn't allowed because the type ~[T] is defined in a different crate (libstd)
[23:04:14] <kmc> you should make a new type; you can use the "newtype struct" syntax
[23:04:27] <\n> but I still want to be able to access the newtype with square brackets
[23:04:30] *** Joins: hoverbear (hoverbear@moz-709606DE.wireless.uvic.ca)
[23:04:39] <kmc> pub struct Matches(~[~str]);
[23:04:45] *** Joins: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au)
[23:05:24] <kmc> \n: implement the Index trait for Matches
[23:05:25] <kmc> http://static.rust-lang.org/doc/master/std/ops/trait.Index.html
[23:06:03] <\n> I don't follow: pub struct Matches(~[~str]);
[23:06:26] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[23:06:56] *** Quits: atomical (atomical@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: atomical)
[23:06:57] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:07:02] <\n> is that a legal struct declaration?
[23:07:05] <cmr> it is.
[23:07:11] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[23:07:14] <cmr> a tuple struct with one member, aka a newtype.
[23:07:48] <TisButMe> I have a strange issue with & vs &mut and lifetimes, can someone have a look please ? https://gist.github.com/TisButMe/8743efbb9de93c700d9a
[23:08:04] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[23:08:06] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[23:08:25] <\n> http://gundam.wikia.com/wiki/Newtype
[23:08:32] <\n> ;)
[23:08:43] <jmgrosen> TisButMe: does changing &mut self to &'a mut self work?
[23:09:02] <TisButMe> I can't do that, next will only accept &mut lifetime
[23:09:11] <TisButMe> I think it's part of the trait impl
[23:09:12] *** Quits: dhedlund (dhedlund@moz-D5D07BE4.ptld.qwest.net) (Client exited)
[23:09:15] <jmgrosen> ah, right
[23:09:27] <cmr> \n: it gives a type a new name.
[23:09:44] <cmr> and they're different types, so you can add methods to it directly.
[23:10:15] *** Joins: jzcz (nick@moz-531BAF0B.dyn.centurytel.net)
[23:10:18] <\n> cmr: here's the thing though, I want to pass the constructor a u32, and have it create x number of elements in the vec
[23:11:25] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[23:11:49] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
[23:11:52] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[23:12:55] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[23:14:06] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:14:41] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[23:14:59] *** jorendorff_away is now known as jorendorff
[23:16:47] *** Joins: cheese_cast (raspinudo@moz-FB14AB08.hsd1.ca.comcast.net)
[23:17:15] <jmgrosen> is the type ascription operator ever going to be a thing?
[23:17:24] <jmgrosen> I remember it being discussed before
[23:17:28] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[23:17:31] <jmgrosen> and it would be rather handy for some situations
[23:17:33] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[23:17:41] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[23:18:06] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[23:18:48] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[23:19:02] *** Quits: TisButMe (Mibbit@moz-40861B51.w90-29.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[23:19:10] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:19:38] <cmr> jmgrosen: pcwalton wants it
[23:19:54] <kmc> \n: you'd write just an ordinary function to do that
[23:19:58] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[23:20:39] <kmc> \n: the advantage of the newtype syntax vs pub struct Matches { guts: ~[~str] } is that if m is a Matches value, you can write *m to get at the guts
[23:20:40] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[23:20:47] <kmc> this can also be a disadvantage
[23:21:12] <cmr> kmc: that's no longer true.
[23:21:16] <kmc> oh really
[23:21:22] <cmr> it was removed last week
[23:21:36] <cmr> I imagine it's going tobe replaced with #[deriving(Deref)] or similar
[23:21:57] <kmc> cool
[23:22:17] <kmc> that way I can disable it in cases where I don't want to make it so easy to confuse the newtype and the underlying type
[23:22:20] <kmc> which is often the point of newtype ;)
[23:23:09] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[23:23:35] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[23:23:38] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[23:23:56] <jmgrosen> I love how I can return arbitrary things from functions, based on traits
[23:24:04] <jmgrosen> so I can do `let authors: ~[Author] = db("test").table("authors").run(&mut conn);` if I want multiple authors
[23:24:15] <jmgrosen> but I can still do `let author: Option<Author> = db("test").table("authors").get("6c942517-ad80-4728-bdaf-c5df1d853152").run(&mut conn);` if I only want one
[23:24:26] <jmgrosen> without having to have separate run_row and run_rows functions
[23:24:50] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:24:51] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[23:24:58] <kmc> yes
[23:25:11] <jmgrosen> but this is why I want type ascription :P
[23:25:21] <kmc> type inference allows information to flow "backward in time" :)
[23:25:34] <pyon> How do I either open a file or create it if it does not exist, in head? In 0.8, I would do file::open(&path, OpenOrCreate, ReadWrite); .
[23:26:05] *** Quits: mindcat (mindcat@FB21613F.69E5AD7C.D6E1F3C4.IP) (Quit: leaving)
[23:26:06] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[23:26:12] <kmc> there are some Haskell libraries that go really far with this idea, eg http://hackage.haskell.org/package/reflection
[23:26:14] <cmr> pyon: File::create(&path)
[23:26:26] <cmr> pyon: but the same modes apply to File::open_mode
[23:26:47] <jmgrosen> pyon, std::io::fs::File::open_mode(&path, OpenOrCreate, ReadWrite)
[23:26:53] <jmgrosen> ...woops
[23:26:58] <jmgrosen> there's no OpenOrCreate
[23:27:14] <\n> in a function signature, how do I mark the contents of a vector as mutable?
[23:27:30] <jmgrosen> pyon, from the docs: "If a file is opened with Write or ReadWrite access, then it will be created it it does not already exist."
[23:27:40] <cmr> \n: vectors are always mutable, you just need to store them in a mutable slot to mutate them.
[23:27:50] <\n> ex: mut matches: &[~str] ... but I want to be able to assign new values to matches[x]
[23:27:56] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[23:27:59] <cmr> &[T] isn't a vector, it's a slice.
[23:28:00] <pyon> cmr: File::create opens the file in write-only mode.
[23:28:05] <pyon> jmgrosen: Ah!
[23:28:10] <cmr> matches: &mut [~str]
[23:28:25] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[23:28:38] * pyon should go back to X, reading documentation in links is awful.
[23:28:38] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:28:39] *** Quits: Ferreus (ferreus@moz-441F9161.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[23:29:01] <cmr> pyon: that reminsd me that I should finish my man-page rustdoc backend
[23:29:14] <pyon> :-O
[23:29:37] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Ping timeout)
[23:29:45] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[23:29:50] *** Quits: cheese_cast (raspinudo@moz-FB14AB08.hsd1.ca.comcast.net) (Ping timeout)
[23:30:02] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[23:30:03] <\n> woot! thanks cmr!
[23:30:58] <cmr> \n: https://github.com/mozilla/rust/wiki/The-Rusticon#syntaxicon is probably useful
[23:32:29] <kmc> what is rust_begin_unwind called now?
[23:32:37] <cmr> kmc: rust_fail
[23:32:40] <kmc> thanks
[23:32:42] *** Joins: nobody (nobody@moz-7E09A266.neo.res.rr.com)
[23:32:59] *** Quits: jzcz (nick@moz-531BAF0B.dyn.centurytel.net) (Ping timeout)
[23:33:03] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:33:03] *** ChanServ sets mode: +o tjc
[23:33:04] *** Quits: hoverbear (hoverbear@moz-709606DE.wireless.uvic.ca) (Quit: Taking a nap.)
[23:33:30] <kmc> updated https://gist.github.com/kmcallister/7047619 :)
[23:33:54] <Tobba> ugh
[23:34:02] <Tobba> offset() doesnt work on *mut u8's
[23:34:05] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:34:07] <Tobba> it seems to be fine on *u8's though
[23:34:29] <cmr> Tobba: just cast to *u8 and cast back
[23:35:03] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:35:17] *** Joins: jgilbert_ (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[23:35:19] *** Quits: jgilbert_ (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Input/output error)
[23:35:24] <cmr> (that's what the stdlib does)
[23:35:53] <vmx> back to my original question. wouldn't it make sense to be able to have "impl MyTrait<A> for X" and "impl MyTrait<B> for X"?
[23:35:59] <cmr> kmc: hey that's handy
[23:36:14] <cmr> vmx: I feel like I've done that before though..
[23:36:18] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:36:25] <Liothen> is there anyway to do a regex on a string and pull two numbers from it?
[23:36:43] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[23:36:43] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:36:47] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:36:50] <cmr> Liothen: in Rust? use one of the regex library bindings.
[23:37:19] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[23:37:25] <Liothen> cmr, so its not apart of the std lib ?
[23:37:29] <cmr> no
[23:37:58] <vmx> cmr: i get "error: conflicting implementations for trait `Less`. i'll create a minimal example
[23:38:23] <tjc> yes, the error is because the coherence checking pass disregards type parameters when checking for overlapping instances
[23:38:33] <tjc> or at least it did as of a few months ago. I assume it hasn't been fixed if you're seeing this
[23:38:43] <tjc> I'm not sure if it's going to be fixed or if it's for a reason, actually
[23:39:00] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:39:55] <jmgrosen> how close is #11151 to landing?
[23:40:02] <jmgrosen> that is, loadable syntax extensions
[23:40:39] <sfackler> jmgrosen: I think pnkfelix and pcwalton want to review it
[23:40:41] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:40:54] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:40:56] <jmgrosen> okay
[23:41:32] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:41:41] <Tobba> cmr: any workaround for that &mut [] thing currently?
[23:41:44] <Tobba> filing an issue in a sec
[23:41:58] <cmr> Tobba: store &[] and transmute to &mut[]
[23:42:37] <Tobba> bleh, works that works I guess
[23:42:56] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:42:57] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[23:42:59] <cmr> it's as workaroundy as workarounds get :)
[23:42:59] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:43:25] <Tobba> https://github.com/mozilla/rust/issues/11411
[23:43:33] <Tobba> I wonder if those issue ids are incremental
[23:43:38] <Tobba> if so, holy crap
[23:43:41] <cmr> they are, yes.
[23:43:50] <cmr> pull requests are included.
[23:43:56] <Tobba> ah, right
[23:43:59] <Tobba> still though
[23:44:06] <cmr> only 1,475 open issues!
[23:44:10] <Tobba> then again clang is at like what, 100k commits right now
[23:44:15] <Tobba> that must be one hell of a repo
[23:45:15] <Matthias247> indexing [] does not work on raw pointers?
[23:45:21] <cmr> Matthias247: no
[23:45:27] <cmr> Matthias247: use the offset method
[23:45:45] <pnkfelix> Matthias247: ptr::offset
[23:45:48] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:45:51] <Matthias247> thx
[23:46:03] <geomyidae_> is regex something that might wind up in extra eventually?
[23:46:35] <cmr> geomyidae_: I'm writing a pattern lib, it's intended to live in extra
[23:46:41] <Tobba> neat
[23:46:52] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:48:24] <dbaupp> geomyidae_: yes, https://github.com/mozilla/rust/issues/3591
[23:49:30] <vmx> tjc: haven't seen that your back :) cmr: here's an example what i try to do: https://www.friendpaste.com/49C7K55Tn9SKaDCfiIKQA7
[23:49:31] <Tobba> I love how fail methods give you filename and line
[23:49:34] <Tobba> that stuff is just great
[23:50:06] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:50:41] <tjc> vmx: Someone else can correct me if things have changed, but Rust isn't reeeeeally meant to encourage this style of overloading
[23:50:44] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[23:50:52] *** Joins: lenstr (lenstr@42DC74CE.9636F313.7A27613B.IP)
[23:50:56] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:51:20] <tjc> vmx: that said, you could do it by making Less have two type parameters like I suggested before... or are you going to have a lot more types than just Line and Point that you want to compare with Less?
[23:51:38] *** Joins: dgpratt (dpratt71@moz-86CDFA6F.ptldme.east.myfairpoint.net)
[23:51:47] <dbaupp> tjc: we do use that style of overloading for Add and Mul and so on, fwiw.
[23:52:05] <vmx> tjc: i guess so :) i tried with two parameters, but i didn't really understand how it would look like then
[23:52:16] <vmx> dbaupp: cool, i'll have a look
[23:52:25] <tjc> dbaupp: True... my impression (again, from a while ago) was that we kind of wanted to limit that to a few operators known to the compiler, though
[23:52:26] *** Quits: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:53:08] *** Joins: gkostyanikov (gkostyanik@D20974CA.A859D9FD.CA6E2165.IP)
[23:53:25] <dbaupp> vmx: std::ops
[23:53:28] *** Quits: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[23:53:29] <dbaupp> (is the module)
[23:55:01] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[23:56:32] *** Quits: lenstr (lenstr@42DC74CE.9636F313.7A27613B.IP) (Client exited)
[23:57:07] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
