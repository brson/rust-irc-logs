[00:00:11] <strcat> std::vec uses non-zero size but.... I don't see the point?
[00:00:12] <Sharp> strcat: Cool :)
[00:01:05] <strcat> although it does seem that both glibc and jemalloc allocate memory for that
[00:01:33] <Sharp> dbaupp: I'm saying that the only time you would ever call it with a zero size type in a generic implementation would be if it was already receiving a vector with a zero size type.  Because otherwise the generic implementation could not possibly get an array composed of multiple instances of the zero size type without first duplicating the single instance it had received.
[00:01:42] <Sharp> I guess it could receive like… two or three parameters of the same zero size type
[00:01:43] <Sharp> And then do that
[00:02:01] <strcat> glibc needs 32 bytes of memory for malloc(0)... jemalloc needs 16
[00:02:06] <Sharp> strcat: Presumably so you can later free it?
[00:02:08] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Ping timeout)
[00:02:13] <strcat> Sharp: free(null) is valid
[00:02:20] <strcat> the C standard allows returning null for malloc(0)
[00:02:24] <Sharp> Oh, huh.
[00:02:27] <Sharp> Didn't realize that.
[00:02:38] <strcat> realloc(null, size) is also valid
[00:02:49] <Sharp> Hm
[00:03:15] <Sharp> Of course you do a similar thing idiomatically with strtok, but I assume that's not what realloc(NULL) does :)
[00:03:51] <strcat> strtok is evil ;p
[00:03:54] <strcat> strtok_r is okay
[00:04:04] <Sharp> strtok is from a simpler time :)
[00:04:14] <strcat> before people needed to write nested loops? it was stupid then too
[00:04:18] <Sharp> Yeah, it was :P
[00:04:38] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: gf)
[00:04:52] <strcat> it's ridiculous that lgamma is thread-unsafe
[00:05:08] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[00:05:28] <strcat> The  lgamma()  function  returns  the  natural logarithm of the absolute value of the Gamma function.  The sign of the Gamma
[00:05:29] <strcat>        function is returned in the external integer signgam declared in <math.h>.
[00:05:31] <strcat> sigh
[00:05:37] <Sharp> …Wait, why is that not thread safe?
[00:05:43] <strcat> Sharp: global var
[00:05:53] <Sharp> Oh, duh
[00:05:55] <Sharp> That's stupid
[00:05:58] <strcat> Sharp: look in 'man 7 pthreads', it lists the thread-unsafe POSIX/C functions
[00:05:59] <strcat> there are a lot
[00:06:12] <Sharp> Set a register :P  Or put it in TLS
[00:06:23] <strcat> or just return it via an out parameter
[00:06:42] <strcat> or.... just don't do anything, because it's part of the return value already? ;s
[00:06:47] <Sharp> Oh wait, it is?
[00:06:54] <strcat> isn't it just the sign of the ret value? lol
[00:06:56] <Sharp> ...
[00:06:57] <Sharp> God damn it
[00:06:58] <dbaupp> no
[00:07:15] <dbaupp> log(x) maps (x > 0) to the whole real line
[00:07:29] <dbaupp> lgamma(x) = log(abs(Gamma(x)))
[00:07:49] <strcat> so it tells you if it was positive before the abs?
[00:07:53] <dbaupp> yes
[00:08:08] <strcat> lgamma_r just uses an out param, which is sane
[00:08:17] <strcat> Sharp: look at man hsearch, you'll cry
[00:08:20] <strcat> POSIX hash tables
[00:08:26] <strcat> you can only have 1 of them, and it's fixed-size
[00:08:28] <Sharp> I didn't even realize there were POSIX hash tables
[00:08:29] <Sharp> Haha
[00:08:34] <Sharp> Guess that's why :D
[00:08:56] * Sharp rarely uses any of the standard C search functions.
[00:08:57] <strcat> Sharp: there are GNU _r versions
[00:09:08] <jvshahid> another question, is there a way to define a variadic rust function ?
[00:09:22] <strcat> Sharp: and glorious useless POSIX unbalanced trees
[00:09:31] <SiegeLord> Heh, I just decided to time repeatedly pushing to a vector... somehow my code has Rust being 2x as fast as the C++ one, and 8x as fast as the D one...
[00:09:31] <Sharp> They can't be that great, considering they don't use them in GCC (they use libiberty)
[00:09:33] <strcat> jvshahid: no
[00:09:46] <strcat> SiegeLord: a vector as in ~[T]?
[00:09:53] <SiegeLord> Yeah
[00:09:59] <strcat> rust-core is 7x faster than the stdlib at that too...
[00:10:08] <jvshahid> strcat: so i have to use vectors ?
[00:10:18] <strcat> jvshahid: sure, a slice
[00:10:23] *** Quits: brylie (quassel@moz-E27796EB.hsd1.or.comcast.net) (Input/output error)
[00:10:26] <jvshahid> strcat: cool
[00:10:29] <strcat> foo([1, 2, 3]) where foo takes &[int]
[00:10:40] <strcat> SiegeLord: https://github.com/mozilla/rust/issues/8981
[00:10:51] *** Quits: CyBeRKeL (cyber@E6A1FD6F.BE88DC8C.9C1C15C3.IP) (Ping timeout)
[00:10:59] <SiegeLord> I was looking at that for inspiration... but still, why is C++ so slow?
[00:11:08] <strcat> SiegeLord: C++ vectors can't use realloc
[00:11:13] <SiegeLord> Ah...
[00:11:14] <strcat> SiegeLord: also, are you using libc++?
[00:11:17] <strcat> libstdc++ sucks
[00:11:30] <SiegeLord> I'm using libstdc++... I don't have the other one
[00:11:30] <strcat> SiegeLord: C++ objects can depend on their memory address
[00:11:35] <strcat> so realloc is a no go
[00:11:43] <SiegeLord> Fair enough, that's interesting
[00:11:53] <Sharp> strcat: Wait, how do they reallocate then?
[00:12:04] <Sharp> Is it a linked list or something?
[00:12:06] <strcat> Sharp: they allocate a new block of memory, likely with 'new[]'
[00:12:22] <strcat> they can't memcpy to it (what realloc does, basically)
[00:12:23] <Sharp> Oh, I see what you're saying now.
[00:12:34] <Sharp> Realloc is occasionally smarter than that I thought
[00:12:35] <strcat> in C++03, they call the copy constructor for each element to copy over to it
[00:12:37] <Sharp> (Very occasionally)
[00:12:43] <strcat> in C++11, they use the move constructor if it's noexcept
[00:13:33] *** Joins: eddyb9 (eddy@97D72B1B.9A7C5F59.4A6B528C.IP)
[00:13:38] <strcat> C++ handles out-of-memory by throwing, and std::vector provides the exception safety guarantee that if allocating memory fails, the old vector is still valid
[00:14:03] <Sharp> Does c++11 have obstacks?
[00:14:06] <strcat> so it has to be a transaction (so if the move ctor isn't noexcept, it has to use copying)
[00:14:16] <strcat> Sharp: as in segmented stacks? no
[00:14:23] <Sharp> Yeah, as in segmented stacks.
[00:14:39] <strcat> C++11 mostly adds library features
[00:15:33] <strcat> (mostly! ;p)
[00:16:38] <eddyb9> lambdas, variadic templates
[00:16:47] <strcat> sure
[00:16:57] <strcat> move semantics, lambdas, constexpr, re-purposed 'auto', proper unions, 'for' sugar for iterators, decltype, variadic templates, user-defined literals
[00:16:59] <strcat> and the other stuff
[00:17:09] <strcat> but it's still mostly library changes ;p
[00:18:58] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[00:21:10] <strcat> anyway it's really silly that C++ objects can depend on their address
[00:21:27] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[00:22:28] *** Joins: mikezaby (mikezaby@moz-B26868E.home.otenet.gr)
[00:22:37] <Sharp> Wait, how can they?
[00:22:53] <Sharp> I mean, except just by doing dumb things (which you could do in Rust as well)
[00:23:10] *** Joins: eevee (eevee@moz-7B6C48E3.evrt.wa.frontiernet.net)
[00:23:34] <strcat> Sharp: because in C++ you control the code used to move the object
[00:23:51] <Sharp> With move?
[00:25:06] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[00:25:38] <strcat> Sharp: hm?
[00:26:03] <Sharp> Are you referring to constructors in general?
[00:26:10] <strcat> move/copy constructors
[00:26:16] <Sharp> Oh.  Right.
[00:26:21] <strcat> and operator= overloading
[00:26:39] <strcat> (which is dual-purpose, since it should optimize for both the move/copy cases)
[00:29:56] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[00:35:27] *** Quits: bytewise (bytewise@moz-E32D3378.eduroam.rwth-aachen.de) (Ping timeout)
[00:35:31] *** Quits: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (Quit: bye, bye)
[00:35:40] *** Joins: bytewise (bytewise@moz-E32D3378.eduroam.rwth-aachen.de)
[00:35:51] *** Quits: eddyb9 (eddy@97D72B1B.9A7C5F59.4A6B528C.IP) (Quit: Leaving)
[00:36:24] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[00:38:06] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[00:39:24] *** Quits: eddyb (eddy@FE23D96E.F33C1089.FB866788.IP) (Ping timeout)
[00:46:45] *** Joins: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au)
[00:48:55] *** Quits: eevee (eevee@moz-7B6C48E3.evrt.wa.frontiernet.net) (Ping timeout)
[00:49:06] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:51:14] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[00:52:19] *** Joins: eevee (eevee@moz-7B6C48E3.evrt.wa.frontiernet.net)
[00:52:31] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Client exited)
[00:52:33] *** Quits: mikezaby (mikezaby@moz-B26868E.home.otenet.gr) (Input/output error)
[00:56:51] *** Quits: glennsl (textual@moz-6822C772.customer.cdi.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:58:08] *** Joins: zws3mb (Mibbit@moz-FB2947AF.hsd1.va.comcast.net)
[01:00:50] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[01:01:01] <zws3mb> bjz, Why is proliferation of traits bad? (You mentioned so during a discussion of caching files for a webserver)
[01:01:34] *** jorendorff_away is now known as jorendorff
[01:01:59] <strcat> every trait should be justified by code reuse
[01:04:07] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[01:04:18] *** Quits: sweet_kid (Upasana@D1DDC9CD.1F5862DC.388CF16F.IP) (Quit: Leaving)
[01:05:30] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[01:05:48] *** jorendorff is now known as jorendorff_away
[01:11:05] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[01:11:12] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[01:14:10] *** Joins: tautologico (shung@4FCDF73C.2F29D054.7B974E06.IP)
[01:16:32] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[01:16:44] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[01:16:51] <mletterle> oh sweet... kcov works with rust files.. obv.
[01:17:16] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[01:18:05] <thewonderidiot> What's the preferred way to cast a number to an enum now? rust-sdl and rust-sdl_ttf both use transmute(), but that fails now due to the variably-sized enums change
[01:19:00] <dbaupp> thewonderidiot: #[deriving(FromPrimitive)]
[01:19:20] <dbaupp> http://static.rust-lang.org/doc/master/std/num/trait.FromPrimitive.html
[01:20:17] <thewonderidiot> ahaaa, excellent. Thanks!
[01:22:06] <mletterle> hrm.. wonder why it says this line isn't getting hit though..
[01:22:15] <mletterle> oh nvm
[01:22:16] <mletterle> duh
[01:22:30] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:22:48] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[01:23:11] <dbaupp> mletterle: do you have do anything special? or just -Z debug-info?
[01:24:09] <mletterle> dbaupp: just -Z debug-info
[01:24:17] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[01:24:26] <mletterle> rustc --test -Z extra-debug-info lib.rs -o nss-test -L ~/dev/rust-nspr/src/libnspr/
[01:24:43] <mletterle> kcov --include-path=/home/mletterle/dev/rust-nss cov ./nss-test 
[01:24:57] <mletterle> gives me a nice local web page showing covered lines, percent, etc.
[01:26:24] <mletterle> https://github.com/SimonKagstrom/kcov
[01:27:52] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[01:31:01] <mletterle> oh wow, it actually writes to output about once a second or so, so you can watch coverage as the tests run...
[01:32:56] <dwrensha> Anyone happen to have an idea about what might be causing the following error?
[01:32:57] <dbaupp> mletterle: cool
[01:32:57] <Sharp> So um, is rustpkg actually working yet?
[01:32:58] <dwrensha> failed in non-task context at 'assertion failed: (*self.data).count.load(Relaxed) > 0', rust/src/libstd/unstable/sync.rs:117, Illegal instruction: 4
[01:33:03] * dbaupp makes a note to test that
[01:33:12] <Sharp> Like, does anyone use it and is it stable enough that most people are using it?
[01:33:23] <dbaupp> Sharp: not most people
[01:33:27] <dbaupp> but yes, people do
[01:33:33] <dbaupp> although there are bugs
[01:33:36] <mletterle> doesn't look like you can combine multiple test runs though.. tempted to fork the repo and make something that works with the rust test suite...
[01:33:37] <dbaupp> big bugs
[01:33:41] <Sharp> For example, it would be nice to install ragel with it
[01:33:49] <Sharp> Or publish thrift (once it's semi working) to it
[01:33:52] <dbaupp> mletterle: that'd be very cool
[01:33:55] <Sharp> But I don't really know enough about it to know whether either are possible.
[01:34:11] <mletterle> rustpkg is going to become very important very soon if we're expecting library others to cooperate.
[01:34:29] <mletterle> (I'm thinking of libhttp + rust-ssl / rust-nss + rust-nspr, etc.)
[01:34:41] <mletterle> *authors
[01:34:53] <SiegeLord> Is there a tutorial for it?
[01:34:58] <Sharp> If Rust wants to be a good web programming language IMO it has to be like pil or Rubygems, in the sense that it has to be the usual way people get packages.
[01:35:04] <SiegeLord> I still don't understand how it's supposed to work...
[01:35:08] <dbaupp> In theory `extern mod foo = "github.com/author/compatible_package";` works now
[01:35:21] <SiegeLord> Like does that ^ syntax work with rustc
[01:35:23] <Sharp> Really?  That sounds beguilingly simple.
[01:35:25] <cmr> SiegeLord: yes.
[01:35:32] <dbaupp> SiegeLord: http://static.rust-lang.org/doc/master/rustpkg.html and http://static.rust-lang.org/doc/master/tutorial-rustpkg.html
[01:35:32] <SiegeLord> Or does does it require rustpkg?
[01:35:38] <Sharp> rustpkg is built with Rust.
[01:35:51] <dbaupp> SiegeLord: requires rupstkg I believe.
[01:35:53] <dbaupp> *rustpkg :/
[01:35:58] <dbaupp> Sharp: yes
[01:36:07] <dbaupp> oh, that wasn't a question.
[01:36:19] <Sharp> I just meant, if you have Rust you probably have Rustpkg :)
[01:36:26] <SiegeLord> I find that very disruptive... once you want to use rustpkg, you need to use rustpkg for everything
[01:36:46] <Sharp> Is that a problem?
[01:36:56] <dbaupp> that's kind-of the point. only one buildsystem required: rustpkg
[01:37:15] <Sharp> It works well in other ecosystems, as far as I can tell
[01:37:20] <SiegeLord> rustc test.rs is easier than whatever the procedure rustpkg requires :P
[01:37:21] <Sharp> Or at least it isn't a glaring problem point.
[01:37:23] <dbaupp> (it's (lack of) usability now shouldn't be taken to mean that it'll never be useable.)
[01:37:52] <Sharp> I think rustc and rustpkg are tied together, based onw hat dbaupp said.
[01:37:57] <dbaupp> SiegeLord: in theory it could become `rustpkg test` when run in the appropriate place, or `rustpkg test pkg_name`
[01:38:06] <Sharp> Or maybe not.
[01:38:20] <SiegeLord> dbaupp: I meant just a test.rs file, it doesn't do testing
[01:38:29] <SiegeLord> Just a throwaway, quick hack
[01:38:41] <SiegeLord> Right now I just install everything in /usr/local/lib
[01:38:41] <dbaupp> SiegeLord: oh, well. I guess `rustpkg build test.rs` might be made to work
[01:38:43] * dbaupp shrugs
[01:38:53] <SiegeLord> And then rustc test.rs -L/usr/local/lib
[01:39:00] <SiegeLord> Don't need to worry about workspaces, etc
[01:39:09] <Sharp> That -L is already more complex than rustpkg, honestly
[01:39:17] <Sharp> If it works properly
[01:39:41] <mletterle> I think if you throw everything into $HOME/.rust it will work too.. IIRC without -L
[01:40:07] <SiegeLord> Well, the -L thing is only needed because there's no global config file (that I'm aware of)
[01:40:13] <SiegeLord> Otherwise I'd just stick it in there
[01:40:25] <Sharp> Why couldn't you have the same thing with rustpkg? :)
[01:40:39] <dbaupp> mletterle: if you're using rustpkg it should work, yeah.
[01:40:40] <SiegeLord> rustpkg requires a specific directory structure
[01:41:00] <SiegeLord> I'd have to put my test.rs into an src subdirectory and rename it bin.rs
[01:41:04] <SiegeLord> Afaik
[01:41:04] <Sharp> For the packages, yeah.  But does it require a specific directory structure to use them as well as create them?
[01:41:04] <mletterle> rustpkg scaffolding would be nice.
[01:41:20] * Sharp doesn't see why that should be necessary, at all.
[01:41:20] <dbaupp> SiegeLord: at the moment, yes. but that will hopefully change.
[01:41:31] <dbaupp> mletterle: there's `rustpkg init`
[01:42:33] <mletterle> figured there would be :) I haven't played with it too much yet honestly. I think the problem is there's more hackers than users at the moment.. but that's starting to change it feels like...
[01:43:22] <SiegeLord> I doubt if it'll be changed... rustpkg is all about autodetection
[01:43:31] <SiegeLord> Nothing to autodetect in rustpkg foo.rs
[01:44:02] <Sharp> It should be able to detect if you're referencing an external package
[01:44:03] <dbaupp> SiegeLord: it can be changed so that `rustpkg build` autodetects that there's something in the current directory
[01:44:10] <dbaupp> (at least)
[01:44:17] <SiegeLord> I guess... not quite the same
[01:44:36] <SiegeLord> On my desktop I have a whole bunch of test files... test.c test.rs test.d test.c++
[01:44:36] <dbaupp> and I don't see why `rustpkg build foo.rs` can't be made to work too.
[01:45:00] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[01:45:41] <SiegeLord> Well, foo.rs could be a binary or a library
[01:46:04] <Sharp> You already have to specify that with rustc.
[01:46:44] <SiegeLord> You can do it via an attribute, or via --lib
[01:46:50] <SiegeLord> rustpkg just has lib.rs
[01:46:52] <Sharp> Why couldn't rustpkg detect that?
[01:46:59] <Sharp> Seems really easy to me
[01:47:10] <Sharp> Plus if you're writing a library it makes sense to use a real directory structure
[01:47:21] <Sharp> At that point you're not usually writing a throwaway, unless you're testing cross crate stuff
[01:47:35] <SiegeLord> Sometimes I am
[01:47:48] <SiegeLord> It's buggy at times
[01:47:49] <Sharp> Okay, but you have to acknowledge that that's a highly specific use case :)
[01:47:50] <mletterle> ha.. kcov generates Cobertura xml files.. I bet... I could merge those... oh ...
[01:47:57] <SiegeLord> That's why I am complaining :P
[01:48:17] * Sharp doesn't think rust should be optimized for the people who write rustc :)
[01:48:37] <mletterle> It's going to be at the moment though.. because that's where most rust development is :)
[01:48:49] <SiegeLord> Also... I still don't like how it conflates package location with package name
[01:48:58] <dbaupp> SiegeLord: in what way?
[01:49:05] <SiegeLord> I like my repositories to have upper case names... which will result in upper case package names
[01:49:16] <dbaupp> SiegeLord: no?
[01:49:28] <dbaupp> `extern mod foo = "github.com/SiegeLord/Foo";`
[01:49:35] <SiegeLord> What if it's a bin.rs?
[01:50:03] <dbaupp> hm, I guess so.
[01:50:24] <Sharp> Wait, why are you capitalizing bin?
[01:50:49] <dbaupp> however, naming the place that a package is stored with the same name as the package seems eminently reasonable.
[01:50:57] <SiegeLord> Although apparently I've been told that you can do github.com/SiegeLord/Repo/package
[01:51:12] * dbaupp hates that
[01:51:18] <SiegeLord> If you have a str/package directory in your repository
[01:51:27] <SiegeLord> *src/package
[01:51:28] <Sharp> dbaupp: It can be useful in some situations
[01:51:31] <dbaupp> it *needs* something to separate the repo url from the subpackage
[01:51:49] <dbaupp> rather than sticking it all into one, requiring github specific logic
[01:51:52] <Sharp> E.g. if you are hosted on Github and working with private repositories so you're limited to a certain number.
[01:51:54] <SiegeLord> Yeah
[01:52:07] <dbaupp> `github.com/SiegeLord/Repo@SubPackage` or something
[01:52:26] <dbaupp> so that, say, `myurl.com/Repo@SubPackage` works too.
[01:52:29] <SiegeLord> Like sourceforge has an extra level for its git repository links
[01:52:39] <Sharp> Right, I get that.
[01:52:40] <SiegeLord> It'd confuse current rustpkg
[01:52:48] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:53:31] <Sharp> Actually, why does that matter?  If it just translates to directory structure ultimately.
[01:53:43] <dbaupp> the git clone url changes
[01:54:16] <Sharp> Ah, yes, good point
[01:54:23] <Sharp> Usually sub branch is just specified separately
[01:54:27] <Sharp> If necessary (which it rarely is)
[01:55:04] <Sharp> I guess extern mod doesn't really support that though.
[01:55:21] <dbaupp> sub branch? as in, git branch? or directory branches?
[01:55:34] <Sharp> Directory branch, sorry, as in path
[01:55:36] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[01:55:39] <Sharp> Though git branch is actually an arguably more useful feature
[01:55:46] <mletterle> to be honest, referencing urls directly in code makes me a bit twitchy.
[01:55:59] <Sharp> Why?  They're an already existing global namespace so you don't have to write your own :)
[01:56:14] <mletterle> I'd rather use filenames in code and then have a pkg.conf or something that does the mapping between dependencies / urls.
[01:56:16] <dbaupp> git branch is (in theory) already supported
[01:56:26] <Sharp> And unlike other namespaces the uniqueness of URLs is actually legally binding :P
[01:56:35] <dbaupp> `foo.com/user/repo#some-revision`
[01:56:43] <Sharp> Oh
[01:56:43] *** Joins: glennsl (textual@moz-6822C772.customer.cdi.no)
[01:56:58] <Sharp> If we're going to be using random features of URIs in inappropriate ways
[01:57:01] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[01:57:02] <Sharp> Why not just use query strings?
[01:57:09] <Sharp> ?path=<x>&branch=<y>
[01:57:11] * dbaupp doesn't know
[01:57:20] <dbaupp> (I'm not even sure that's the correct syntax.)
[01:57:24] <SiegeLord> I think it is
[01:57:27] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[01:57:51] <dbaupp> yup, http://static.rust-lang.org/doc/master/rustpkg.html#package-identifiers
[01:57:54] <Sharp> Personally I think the URI should be allowed to be a full legal URI as per the spec...
[01:58:01] <Sharp> Otherwise you are always going to exclude some usecases.
[01:58:12] <Sharp> Branch and path should be separated in a way that makes it clear that they are not part of the URL
[01:58:27] <Sharp> E.g. I am pretty sure spaces (as in not %20) are not allowed in URLs.
[01:59:24] <Sharp> Also, I think the URI spec may make a provision for extensions
[01:59:28] <Sharp> Ideally those would be used
[02:00:23] <dbaupp> I don't understand why # isn't appropriate? "a fragment identifier is a short string of characters that refers to a resource that is subordinate to another, primary resource"
[02:01:05] <dbaupp> certainly query strings are wrong, since they should be sent to the server, right? (i.e. "foo.com/?pkg=bar" is a valid git url?)
[02:01:05] <Sharp> Because there are two resources, mostly.  I don't think it's legal for a server to discriminate based on it.
[02:01:09] *** Joins: telotortium (Mibbit@moz-90BFA359.dhcp.mdsn.wi.charter.com)
[02:01:14] <Sharp> (Could be wrong though).
[02:01:15] <dbaupp> two resources?
[02:01:19] <Sharp> Branch and path.
[02:01:29] <dbaupp> and the server isn't discriminating, rustpkg is
[02:01:34] <Sharp> Yes, I know
[02:01:35] <Sharp> I'm saying
[02:01:43] <Sharp> You want to make sure whatever you're using couldn't possibly be of value to the server
[02:01:47] <Sharp> Otherwise you can't cut it out of the request
[02:02:12] <dbaupp> and a fragment isn't of value to the server (they're not supposed to be sent to it)
[02:02:16] <Sharp> So I was agreeing that I think # would otherwise probably be good.
[02:02:22] <dbaupp> oh!
[02:03:04] <dbaupp> in any case, we could do something like `extern mod foo(url="...", rev="...", subpath="...");`
[02:03:08] <dbaupp> but it might be too late for that.
[02:03:19] <Sharp> Yeah, I don't know if the syntax allows for that
[02:03:24] <Sharp> If it does, great, that would be ideal.
[02:03:46] *** Quits: engla (engla@moz-9B69FE7C.selucle.dyn.perspektivbredband.net) (Ping timeout)
[02:04:00] <SiegeLord> I like that idea
[02:04:31] <SiegeLord> The real issue is that the alternative requires host-specific logic... which is icky
[02:04:40] <SiegeLord> It's bad enough that this only works for git atm :P
[02:05:01] <Sharp> Eh, supporting multiple VCSes is madness for something like this IMO, it's super overengineering
[02:05:01] <mletterle> Part of the source of my ickiness.
[02:05:13] <mletterle> seems to hard tied to things that can change.
[02:05:18] <mletterle> languages tend to outlast tools
[02:05:31] <Sharp> I have the feeling Git will be with us for a while
[02:05:31] <dbaupp> fwiw, it does support that syntax now: https://github.com/mozilla/rust/blob/master/src/driver/driver.rs#L12
[02:05:38] <Sharp> Though not necessarily Github
[02:05:45] <mletterle> Sure.. so was cvs and svn
[02:05:51] <Sharp> Awesome :)
[02:06:01] <Sharp> Cvs and SVN are still with us, I don't understand your point?
[02:06:11] <Sharp> It's something that (with that syntax) is relatively easy to add later, if a superior system comes along.
[02:06:23] <mletterle> imagine if rustpkg only supported cvs.
[02:06:38] <mletterle> though I guess it's more of a rustpkg thing than a rust thing, so *shrugs*
[02:06:43] <Sharp> Yeah
[02:06:49] <Sharp> As long as the syntax is like that
[02:06:57] <Sharp> It should be relatively easy to extend
[02:07:37] <mletterle> I just worry about rustpkg being part of rust core and that will make it more resistent to such things in the future. Probably way too early to actually worry about that though.
[02:09:04] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[02:09:59] *** Joins: tikue_ (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[02:10:41] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[02:15:15] *** Quits: tikue_ (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[02:15:36] *** Joins: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[02:16:14] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 24.0/20130910160258])
[02:16:40] *** Quits: doy (doy@moz-8F23663C.net) (Quit: rebooting)
[02:17:32] *** Quits: heftig (heftig@moz-74DC22BF.dip0.t-ipconnect.de) (Ping timeout)
[02:18:10] *** Joins: freezerburnv (freezerbur@moz-C5EF929C.washdc.fios.verizon.net)
[02:18:47] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Client exited)
[02:19:27] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[02:21:36] *** Joins: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[02:22:11] *** Joins: heftig (heftig@moz-48112E8E.dip0.t-ipconnect.de)
[02:22:33] *** Joins: an0nymous (an0nymous@moz-F04BA440.tx.res.rr.com)
[02:23:15] <dbaupp> mletterle: I believe 1.0 is essentially backward-compatibility for the language itself, not the libraries and definitely not the tooling.
[02:23:19] <dbaupp> (fwiw)
[02:23:39] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[02:23:41] *** Joins: doy (doy@moz-8F23663C.net)
[02:24:34] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[02:27:22] * mletterle *thumbsup*
[02:28:43] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[02:30:12] <mletterle> Oh, hey, sweet. I've now officially contributed code.
[02:30:29] <dbaupp> mletterle: \o/
[02:31:17] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[02:31:33] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[02:34:27] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:36:16] *** Quits: Ferreus (ferreus@moz-92CD5E84.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[02:36:42] *** Quits: dbaupp (Thunderbir@moz-EA596755.lns20.syd6.internode.on.net) (Ping timeout)
[02:36:54] *** Joins: ercxx (ercan@moz-7CFF3469.dyn.optonline.net)
[02:39:52] *** Quits: bytewise (bytewise@moz-E32D3378.eduroam.rwth-aachen.de) (Quit: Leaving)
[02:41:15] *** Joins: dbaupp (Thunderbir@moz-EA596755.lns20.syd6.internode.on.net)
[02:43:53] <Sharp> …Ragel has ragel as a build dependency?
[02:43:58] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:44:45] <Sharp> What do you do if you don't happen to have ragel binaries handy?
[02:44:47] <dbaupp> Rust has rust as a dependency :P
[02:44:54] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[02:45:19] <Sharp> Rust is a bit lower level than Ragel
[02:45:19] * dbaupp never worked out how to install ragel from source without also installing the ragel package from his package manager
[02:47:23] <Sharp> Why can't ragel just use a previously generated version of its parser as a bootstrapper?
[02:47:27] <Sharp> That wouldn't require me to grab an earlier binary.
[02:47:33] *** Joins: liigo (Mibbit@61496553.938C7BB0.C3C201E8.IP)
[02:49:24] <Sharp> That would be a closer analogue to rustc requiring rustc since rustc outputs binaries and ragel outputs Rust.
[02:49:35] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[02:50:27] *** jorendorff_away is now known as jorendorff
[02:55:54] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[02:56:08] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[02:57:22] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[02:58:39] *** Joins: dab_ (Mibbit@696F3D99.499DEDBB.53E421C3.IP)
[02:58:43] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[02:58:59] <dab_> Hi guys, Is the recent build version of Rust is 0.8?
[03:00:05] <strcat> build version? 0.8 was just the most recent time-based tag on master
[03:00:48] <dab_> okay, thanks. I was talking about master..
[03:01:14] <kimundi> 0.8 is old
[03:01:37] <dab_> :) Yeah, Hi kimundi we spoke yesterday
[03:01:41] <strcat> dab_: every 3 months a tag is made on master, 0.8 was the last one
[03:01:54] <strcat> since then ~900 commits have been made
[03:02:03] *** Quits: liigo (Mibbit@61496553.938C7BB0.C3C201E8.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:02:08] <dab_> You gave me a nightly release, its safe to build the nightly on fedora?
[03:02:17] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[03:02:48] <dbaupp> "safe" in what sense?
[03:03:13] <strcat> if you're going to build rust you should build master
[03:03:22] <kimundi> most current git master is always the most stable, most modern and most usable version :)
[03:03:30] <dab_> safe as in, I complete the build and rust still doesn't work :), I spent around 4 hours on Windows and couldn't get RUST to work..
[03:03:35] <tautologico> clone the git repo and build it
[03:03:40] <dab_> okay..
[03:04:06] <dbaupp> if you're on windows there's a variety of other things
[03:04:15] <tautologico> I have no idea how's the state of rust on windows, but I think it should work
[03:04:24] <dbaupp> https://github.com/mozilla/rust/wiki/Note-getting-started-developing-Rust#windows
[03:04:35] <kimundi> the git build will always work, we have an integration bot that ensures that
[03:04:46] <dab_> dbaupp : I worked through all those instructions,
[03:04:57] <dab_> it wasn't working - Anyway I switched to fedora..
[03:04:59] <dab_> :)
[03:05:00] <kimundi> windows just has issues with setting up the build environment to begin with :)
[03:05:37] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[03:05:54] *** Quits: nkoep (nik@moz-17B4884B.pool.mediaways.net) (Client exited)
[03:07:42] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:09:36] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[03:11:06] *** Quits: freezerburnv (freezerbur@moz-C5EF929C.washdc.fios.verizon.net) (Quit: freezerburnv)
[03:13:53] *** Joins: freezerburnv (freezerbur@moz-C5EF929C.washdc.fios.verizon.net)
[03:13:59] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[03:14:36] *** Joins: pirapira (i@moz-B4551AD5.sakura.ne.jp)
[03:16:46] *** Quits: freezerburnv (freezerbur@moz-C5EF929C.washdc.fios.verizon.net) (Quit: freezerburnv)
[03:17:36] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[03:19:26] <kvark> where is File::new? It is mentioned in the docs, but I don't see it in the API
[03:20:03] <dbaupp> kvark: which docs?
[03:20:39] <kvark> http://static.rust-lang.org/doc/master/std/rt/io/index.html
[03:21:03] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[03:21:19] <dbaupp> weird
[03:21:32] <dbaupp> most of the examples there don't work :/
[03:21:41] <kvark> I know right?
[03:21:43] <Sharp> That's werid? :)
[03:21:45] <Sharp> *weird
[03:21:59] <dbaupp> I guess that doc block is mostly a "this is the api we're looking for"
[03:22:16] <kvark> I understand that was a intention and WIP, but how do I really do something like File::new these days?
[03:22:29] <Sharp> As they say, you go to war with the std::rt::io you have, not the std::rt::io you think you need
[03:22:47] <dbaupp> Sharp: and they *never* worked. most of the other docs that don't build are either typos or they used to work and have rusted.
[03:22:54] <dbaupp> kvark: std::rt::io::file::open
[03:23:00] *** Quits: zws3mb (Mibbit@moz-FB2947AF.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:23:04] <Sharp> Oh, okay :)
[03:23:11] * Sharp thought that we actually test the documentation during make check.
[03:23:17] <Sharp> But maybe not this stuff.
[03:23:27] <kvark> dbaupp: ok, thanks, I'll try that
[03:24:16] <dbaupp> Sharp: we do test the stuff in ./doc, but we dont have a way to extract the examples from doc-comments yet
[03:24:31] <Sharp> Is that planned?
[03:24:37] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[03:24:37] <cmr> Sharp: yes, open issue.
[03:24:43] * Sharp can't wait for rustc builds to get longer!
[03:25:07] <Sharp> Admittedly, for a good reason :)
[03:25:27] <Sharp> I suppose part of the problem is that the examples often wouldn't compile out of context?
[03:26:01] <dbaupp> Sharp: that won't make the rustc `make` builds that much longer, just the `make check`/`make check-docs` ones
[03:26:05] <cmr> yeah, that's part of it.
[03:26:08] <SiegeLord> They could be made to...
[03:26:10] <dbaupp> https://github.com/mozilla/rust/issues/9403
[03:26:15] <tautologico> examples in rt::io don't work at all
[03:26:30] <Sharp> dbaupp: True, I usually run make check though.  Maybe that's my problem :P
[03:28:30] <Sharp> Based on the comments in that issue it seems like people don't think there should be metadata that isn't present in the documentation to help make the examples run?
[03:28:49] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[03:29:12] <dbaupp> tautologico: that's exactly what brought this up
[03:29:44] <dbaupp> https://github.com/mozilla/rust/pull/10179 will help with the std::rt::io::file examples (and make some of the std::rt::io top-level examples work, incidentally.)
[03:29:55] <SiegeLord> I don't think it's that big of a deal to have a use std::current_mod::foo; per example...
[03:30:27] <Sharp> That's not the only issue.  There's some boilerplate required, and as we've found with rusti that boilerplate isn't *always* what is needed
[03:30:37] <Sharp> Doubly true for any examples that have to do something really weird, like cross crate
[03:31:06] <SiegeLord> There's only so much you can do...
[03:31:11] * Sharp almost thinks examples should take the same format as tests, and then should be imported with metadata stripped into the appropriate docs.
[03:32:37] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[03:32:50] <Sharp> Maybe some sort of example { } block structure highlighting the portion of the example that should actually be imported
[03:32:50] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[03:32:50] *** ChanServ sets mode: +ao brson brson
[03:32:54] <Sharp> (Obvioulsy not exactly that)
[03:33:02] <Sharp> Then the rest of the file is just a plain old test
[03:33:15] <Sharp> That would work with the tools we already have, since our tests already have to deal with all these issues.
[03:33:40] <Sharp> We could split them up into examples that should pass and examples that should fail, just like tests.
[03:33:46] *** Quits: nomadic (nomadic@moz-E01D5C49.hsd1.ga.comcast.net) (Quit: Leaving)
[03:33:51] <Sharp> (Though I don't know if we have any of the latter).
[03:36:06] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[03:36:12] *** Joins: brson_ (brson@moz-BBE3ABD.mv.mozilla.com)
[03:37:04] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[03:37:06] *** kimundi is now known as zz_kimundi
[03:38:59] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[03:39:03] *** Quits: dab_ (Mibbit@696F3D99.499DEDBB.53E421C3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:39:38] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[03:42:09] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[03:43:37] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[03:44:18] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[03:45:27] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[03:45:38] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[03:47:11] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[03:47:22] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[03:50:42] *** brson_ is now known as brson
[03:53:10] *** Quits: zz_kimundi (kimundi@moz-CEF9AA1F.dip0.t-ipconnect.de) (Ping timeout)
[03:56:08] *** Joins: zz_kimundi (kimundi@moz-B705BA84.dip0.t-ipconnect.de)
[03:56:37] *** zz_kimundi is now known as kimundi
[03:58:10] *** Joins: zws3mb (Mibbit@moz-FB2947AF.hsd1.va.comcast.net)
[03:59:01] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:01:02] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[04:02:43] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[04:02:50] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[04:13:28] *** jorendorff is now known as jorendorff_away
[04:18:54] *** Quits: glennsl (textual@moz-6822C772.customer.cdi.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:21:04] *** Quits: osa1 (uid13910@moz-5F4AA75A.irccloud.com) (Quit: )
[04:25:01] *** Joins: frogmella (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net)
[04:26:47] <frogmella> does anyone know how to turn a str into a Path object so that I can pass it to file::open()?
[04:27:18] <frogmella> i merged in the latest from master and the path.rs seems to have changed a lot
[04:27:19] <dbaupp> Path::new(string)
[04:28:45] <frogmella> is there some new syntax for constructor?  can't find the new() method in path.rs
[04:31:22] <cmr> frogmella: which version of rust are you using?
[04:31:37] <dbaupp> are you looking at the path.rs source?
[04:31:47] <dbaupp> (because that file doesn't exist anymore...)
[04:31:55] <frogmella>  0.9-pre
[04:32:05] <dbaupp> http://static.rust-lang.org/doc/master/std/path/index.html
[04:33:04] <frogmella> libstd/path.rs not exist?
[04:33:10] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[04:37:22] <dbaupp> it moved to libstd/path/mod.rs with some other files in that folder
[04:40:15] *** Quits: canhtak (canhtak@moz-A161DED8.wl.t.ulaval.ca) (Quit: canhtak)
[04:41:26] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[04:42:26] <frogmella> ohh. thanks!  i did a pull on the latest but the old path.rs file was still in the editor.
[04:42:37] <frogmella> thanks for the tip
[04:44:22] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[04:45:15] *** ChanServ sets mode: +o brson
[04:45:36] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[04:47:42] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[04:50:11] *** Quits: frogmella (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:52:36] *** ChanServ sets mode: +o acrichto
[04:56:13] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[04:56:55] *** Joins: mukilan (quassel@47E72610.36364A0A.520CDC98.IP)
[04:57:00] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[04:57:40] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[05:01:07] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:01:34] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[05:03:18] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[05:03:23] *** Joins: adu (ajr@moz-60B25736.washdc.fios.verizon.net)
[05:10:49] *** Joins: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com)
[05:12:06] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[05:13:29] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[05:13:36] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Client exited)
[05:13:56] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[05:14:03] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[05:16:08] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[05:16:39] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[05:17:01] *** Quits: cubic_ (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[05:18:26] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[05:18:26] *** ChanServ sets mode: +ao brson brson
[05:20:41] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[05:21:58] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[05:22:07] *** Quits: sully (sully@moz-388398CC.leptoquark.net) (Ping timeout)
[05:22:45] *** Joins: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[05:24:19] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:25:21] *** Joins: sully (sully@moz-388398CC.leptoquark.net)
[05:29:49] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Client exited)
[05:32:57] *** Quits: adu (ajr@moz-60B25736.washdc.fios.verizon.net) (Quit: adu)
[05:35:37] *** Joins: adiddigi (Mibbit@2CA4CE24.EEAB4261.53E421C3.IP)
[05:36:19] <adiddigi> Hi. I was trying to install rust on windows using https://github.com/mozilla/rust/wiki/Note-getting-started-developing-Rust . I'm stuck at the point where is says : Copy libgcc_s_dw2-1.dll, libstdc++-6.dll and libpthread-2.dll from %mingw%\bin into %build%\i686-pc-mingw32\stage0\bin
[05:36:54] <adiddigi> Any idea where %build% is? 'coz I don't seem to find one :-/
[05:37:52] <cmr> adiddigi: wherever you ran configure and make
[05:38:20] <adiddigi> See, that's the thing - I'm not still running any of those, I'm trying to install the packages first
[05:38:55] <adiddigi> I mean i'm not yet running configure and make..
[05:39:16] <adiddigi> I'm still in step 9 for windows installation
[05:40:09] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[05:41:02] *** Quits: zws3mb (Mibbit@moz-FB2947AF.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:42:07] <SiegeLord> adiddigi: Then let it be the directory where you will run ./configure ;)
[05:42:53] <adiddigi> okay, got it
[05:43:23] <SiegeLord> It is poorly phrased, admittedly
[05:43:48] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[05:44:04] <adiddigi> Hmm, So this directory is the Rust directory(created after git <rust repo>) right?
[05:44:33] <SiegeLord> Yes (it contains the readme etc)
[05:44:46] <adiddigi> SiegeLord : thanks
[05:45:13] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Quit: Leaving.)
[05:45:21] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[05:45:55] *** Joins: adu (ajr@moz-60B25736.washdc.fios.verizon.net)
[05:45:58] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[05:49:17] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[05:49:40] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[05:50:22] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[05:51:06] *** Joins: tikue_ (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[05:51:53] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[05:51:57] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[05:54:15] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[05:55:57] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[05:58:35] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[05:59:10] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[05:59:37] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[06:03:09] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[06:06:26] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[06:07:27] *** Joins: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[06:08:23] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Ping timeout)
[06:08:23] *** Quits: tikue_ (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[06:08:26] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[06:08:33] *** Joins: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net)
[06:08:40] *** Quits: adu (ajr@moz-60B25736.washdc.fios.verizon.net) (Quit: adu)
[06:09:16] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[06:11:15] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[06:11:59] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[06:19:07] *** Quits: locks (uid130@moz-5F4AA75A.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: etrepum (uid763@moz-5F4AA75A.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: gazoombo (uid6629@moz-E77DEB21.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: ggherdov_ (uid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: netoarmando (uid10138@moz-E77DEB21.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: jeyraof_ (uid6796@moz-31ABA2C0.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: revls (uid14245@moz-5F4AA75A.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: Aetherspawn_BNC (uid6924@moz-31ABA2C0.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: geomyidae__ (uid214@moz-E77DEB21.irccloud.com) (Ping timeout)
[06:19:07] *** Quits: wilfred (uid159@moz-5F4AA75A.irccloud.com) (Ping timeout)
[06:21:07] *** Joins: etrepum (uid763@moz-5F4AA75A.irccloud.com)
[06:22:36] *** Joins: gazoombo (uid6629@moz-E77DEB21.irccloud.com)
[06:23:54] *** Joins: netoarmando (uid10138@moz-E77DEB21.irccloud.com)
[06:24:23] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[06:28:43] *** Joins: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net)
[06:29:17] *** Joins: mindcat (mindcat@2E9C9F87.68CEB32F.57E3C596.IP)
[06:30:15] * mindcat thinks found way, let rust talk to python.
[06:31:26] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[06:33:08] <mindcat> its so simple :D python: http://paste.ubuntu.com/6351253/ rust: https://gist.github.com/mindcat/d9ca4877b29ffbeed6de
[06:33:32] <strcat> mindcat: 'extern fn' is actually the same thing as 'fn'
[06:33:36] <strcat> you need 'extern "C" fn'
[06:33:55] *** Joins: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP)
[06:33:59] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[06:34:33] <mindcat> strcat: it is somethings different?
[06:34:45] <strcat> yes
[06:34:57] <strcat> you're using the rust ABI (also, &[u8] isn't a pointer, it's 2 words)
[06:35:27] <dbaupp> strcat: it's not the same
[06:35:37] <strcat> dbaupp: hm?
[06:35:37] <dbaupp> extern fn is extern "C" fn
[06:35:42] <dbaupp> echo 'extern fn foo() {} static bar: () = foo;' | rustc --lib --no-trans -
[06:35:51] <dbaupp> expected `()` but found `extern "C" extern fn()`
[06:36:12] <strcat> huh.
[06:36:27] <dbaupp> with just `fn foo`: expected `()` but found `extern "Rust" fn()`
[06:37:23] <dbaupp> mindcat: summary, `extern fn` is fine, but using `extern "C" fn` might be more self-documenting.
[06:38:21] <strcat> dbaupp: try using it as a type though
[06:38:25] <strcat> let x: extern fn
[06:38:27] <strcat> let x: extern fn()
[06:38:57] *** Joins: ggherdov_ (uid11402@moz-E77DEB21.irccloud.com)
[06:39:07] <mindcat> dbaupp: ok :D
[06:41:53] <dbaupp> strcat: that's weird, as a type it's "Rust". :/
[06:41:59] <strcat> dbaupp: yep...
[06:42:14] <dbaupp> inconsistencies \o/
[06:43:29] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[06:43:32] <dbaupp> strcat: https://github.com/mozilla/rust/issues/9309
[06:43:59] *** Joins: Aetherspawn_BNC (uid6924@moz-31ABA2C0.irccloud.com)
[06:44:00] *** Joins: hurderella (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[06:46:33] *** Joins: fyolnish (fyolnish@moz-B7E1553B.panda-world.ne.jp)
[06:47:22] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[06:47:28] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[06:47:43] *** Quits: simlay (simlay@moz-7C1CFB5E.dreamhost.com) (Client exited)
[06:48:59] *** Joins: wilfred (uid159@moz-5F4AA75A.irccloud.com)
[06:52:43] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[06:53:24] *** Quits: adiddigi (Mibbit@2CA4CE24.EEAB4261.53E421C3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:55:18] *** Joins: alinab (alina@moz-C82147C8.members.linode.com)
[06:56:12] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[06:56:37] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Client exited)
[06:58:26] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[06:59:23] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[07:00:11] *** Joins: eddyb (eddy@FE23D96E.F33C1089.FB866788.IP)
[07:00:14] <mindcat> strcat: I did not good for C programs :(, so I wrote the pointer.
[07:01:20] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:02:50] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[07:04:37] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[07:07:51] <ktt3ja> is this issue hard to do or has there just been no interest? https://github.com/mozilla/rust/issues/3573
[07:09:08] *** Joins: locks (uid130@moz-5F4AA75A.irccloud.com)
[07:09:14] *** Joins: revls (uid14245@moz-5F4AA75A.irccloud.com)
[07:09:15] *** Joins: geomyidae__ (uid214@moz-E77DEB21.irccloud.com)
[07:09:55] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[07:10:42] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[07:10:46] <ChrisMorgan> ktt3ja: I would expect it to be relatively straightforward, but it will involves careful API design.
[07:10:52] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[07:10:53] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[07:12:32] *** Joins: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[07:16:03] *** Quits: telotortium (Mibbit@moz-90BFA359.dhcp.mdsn.wi.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[07:17:03] <Luqman> ChrisMorgan: could you try build rust-http with -O using http://luqman.ca/rust-builds/rust-0.9-pre-a248e34-arm-unknown-linux-gnueabi.zip
[07:17:06] <Luqman> i think it should work now
[07:17:32] <ChrisMorgan> Luqman: will do; what changed?
[07:18:03] <Luqman> updated the gcc i used to build llvm (4.4 -> 4.7)
[07:18:30] * ChrisMorgan will see if it runs on his machine, then
[07:20:43] <Luqman> ChrisMorgan: you shouldn't run into those glibc version mismatch errors since i still built against eglibc 2.13
[07:20:59] <ChrisMorgan> Good.
[07:22:42] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[07:23:18] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[07:23:26] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[07:24:02] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[07:24:09] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[07:32:08] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[07:32:08] *** Quits: jst (quassel@moz-BBE3ABD.mv.mozilla.com) (Input/output error)
[07:34:14] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[07:34:25] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[07:35:26] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[07:35:48] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[07:35:54] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[07:37:57] *** Joins: jst (quassel@CB36FB4D.BE63433B.EE6E63A5.IP)
[07:38:30] *** Quits: jst (quassel@CB36FB4D.BE63433B.EE6E63A5.IP) (Input/output error)
[07:39:12] *** Joins: jst (quassel@CB36FB4D.BE63433B.EE6E63A5.IP)
[07:42:42] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[07:44:15] *** Joins: jeyraof_ (uid6796@moz-31ABA2C0.irccloud.com)
[07:44:24] *** Quits: jst (quassel@CB36FB4D.BE63433B.EE6E63A5.IP) (Input/output error)
[07:44:30] *** Joins: jst (quassel@CB36FB4D.BE63433B.EE6E63A5.IP)
[07:45:10] *** Quits: mukilan (quassel@47E72610.36364A0A.520CDC98.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[07:45:57] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[07:46:01] *** Quits: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au) (Client exited)
[07:46:24] *** Joins: pseudoku (quassel@47E72610.36364A0A.520CDC98.IP)
[07:47:15] <pseudoku> is there a way to make rustc print out the type of an expression while compiling
[07:47:31] <dbaupp> let () = <your expression>;
[07:47:41] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[07:47:49] <pseudoku> dbaupp: thanks
[07:51:27] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[07:53:09] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[07:56:57] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[07:58:29] <ChrisMorgan> Luqman: it's working now (though necessarily now *enormously* slowly rather than merely *very* slowly)
[08:01:59] <dbaupp> ChrisMorgan: rust-http is enormously slower when compiled with optimisations?
[08:02:05] <ChrisMorgan> dbaupp: compilation
[08:02:20] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:02:47] <ChrisMorgan> dbaupp: there's certainly no doubt that it runs faster with optimisations.
[08:02:53] <dbaupp> ChrisMorgan: just checking :P
[08:02:56] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[08:03:15] <Luqman> ChrisMorgan: yay! (well it's a start :P)
[08:04:35] <eddyb> rPI rust http server?
[08:05:46] <ChrisMorgan> eddyb: sure, quite feasible
[08:06:13] <eddyb> I mean, that's the goal here :)? (it kinda sounds like it)
[08:09:07] <ChrisMorgan> eddyb: actually, I'm not in the slightest bit interested in that aspect of it (though I like to know it can be done). I just want to be able to develop rust-http *properly* while I'm on the move with my Asus Eee Pad Transformer TF101 (a slow beastie, but quite up to the task so long as I don't try compiling too frequently)
[08:10:00] <ChrisMorgan> My model up until now has been to make changes on it, normally with at least one compilation-blocking error, and then transfer the changes to my x86_64 laptop for fixing and integration.
[08:10:15] <ChrisMorgan> Now I can develop on this other device properly. So I'm happy :-)
[08:11:00] *** Joins: bytewise (bytewise@moz-E32D3378.eduroam.rwth-aachen.de)
[08:14:03] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:14:19] *** Joins: squiddy (squiddy@moz-CAEE4998.adsl.alicedsl.de)
[08:15:47] <eddyb> ChrisMorgan: aaah, I see :)
[08:18:44] *** Quits: bytewise (bytewise@moz-E32D3378.eduroam.rwth-aachen.de) (Ping timeout)
[08:25:40] *** Quits: fyolnish (fyolnish@moz-B7E1553B.panda-world.ne.jp) (Connection reset by peer)
[08:25:52] *** Joins: bytewise (bytewise@moz-E32D3378.eduroam.rwth-aachen.de)
[08:27:21] *** Quits: bytewise (bytewise@moz-E32D3378.eduroam.rwth-aachen.de) (Quit: Leaving)
[08:41:54] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[08:46:48] *** Quits: ktt3ja (Mibbit@moz-F40FE31.washdc.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:49:43] *** Joins: Ms2ger (Ms2ger@moz-9BEBA0B1.adsl-dyn.isp.belgacom.be)
[08:50:33] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[08:52:19] <pseudoku> will return inside a do block return from the calling function?
[08:52:59] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:53:04] <strcat> no, the only thing it *could* do is return from the closure, but it's not currently allowed
[08:54:50] <pseudoku> strcat: i remember that returning from the calling function was allowed inside do blocks...has that been removed
[08:54:57] <strcat> I don't think it was ever allowed
[08:55:10] <strcat> it's not possible
[08:55:29] <strcat> the do block is sugar for passing a closure to a function, it doesn't know what the function does with that closure
[08:55:43] <strcat> so there's no way for it to return from the function where the `do` block is
[08:56:22] <pseudoku> strcat: was it  allowed in the old 'for' semantics ?
[08:56:37] <strcat> yes, but it didn't necessarily work
[08:56:57] <strcat> what it would do is set a global flag, capture it in the closure, set the flag to return, and then tell the iterator it wanted to break out
[08:57:33] <strcat> so the compiler had to assume break/return in a for loop wouldn't work, which make it painful during lifetime/move checking
[08:58:02] *** Joins: Jackneill (Jackneill@moz-1DF072A4.pool.digikabel.hu)
[08:59:17] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[08:59:26] <pseudoku> strcat: ha..thanks
[09:04:08] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[09:05:54] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[09:07:07] *** Joins: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr)
[09:13:20] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[09:21:37] *** Quits: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com) (Quit: tav)
[09:23:27] *** Joins: victorporof (victorporo@733111D7.F5F0D9CD.9B1E38F4.IP)
[09:28:22] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[09:28:30] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Client exited)
[09:33:26] *** Joins: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au)
[09:33:35] *** Joins: mikezaby (mikezaby@moz-B26868E.home.otenet.gr)
[09:38:43] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:48:01] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[09:51:37] *** Joins: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de)
[09:53:20] *** Quits: ofeldt (ofeldt@moz-29DC8EDC.dip0.t-ipconnect.de) (Ping timeout)
[09:54:29] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[09:57:07] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[09:57:11] *** Quits: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr) (Quit: pyrac)
[09:58:55] *** Joins: DeTeam (DeTeam@moz-974A5FAE.dyn.broadband.iskratelecom.ru)
[10:02:19] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[10:02:39] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[10:07:12] *** Quits: mikezaby (mikezaby@moz-B26868E.home.otenet.gr) (Input/output error)
[10:07:18] *** Joins: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr)
[10:07:26] *** Quits: DeTeam (DeTeam@moz-974A5FAE.dyn.broadband.iskratelecom.ru) (Quit: DeTeam)
[10:11:57] *** Joins: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP)
[10:21:16] *** Quits: squiddy (squiddy@moz-CAEE4998.adsl.alicedsl.de) (Ping timeout)
[10:22:38] *** Joins: glennsl (textual@moz-6822C772.customer.cdi.no)
[10:30:49] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[10:31:15] *** Joins: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il)
[10:32:40] *** Joins: No (No@E8FE9A02.692CCDE4.64EC52E5.IP)
[10:33:52] *** Quits: alinab (alina@moz-C82147C8.members.linode.com) (Quit: leaving)
[10:33:52] *** Parts: No (No@E8FE9A02.692CCDE4.64EC52E5.IP) ()
[10:35:20] *** Joins: CyBeRKeL (cyber@E6A1FD6F.BE88DC8C.9C1C15C3.IP)
[10:40:03] *** Joins: sweet_kid (Upasana@44AE5AFD.C5CE8A19.388CF16F.IP)
[10:44:50] *** Joins: nkoep (nik@moz-4B90711.pool.mediaways.net)
[10:47:38] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[10:55:29] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[10:56:20] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[10:56:33] *** Quits: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr) (Quit: pyrac)
[10:56:40] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[10:58:09] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[11:01:35] *** Quits: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP) (Ping timeout)
[11:06:28] *** Quits: sweet_kid (Upasana@44AE5AFD.C5CE8A19.388CF16F.IP) (Quit: Leaving)
[11:07:38] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[11:11:32] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[11:11:35] <pseudoku> whats the long term error handling strategy plan for rust? I'm writing a library in rust and  both Options and Conditions are too verbose
[11:16:28] *** Joins: ogeon (ogeon@moz-865C8D1B.a258.priv.bahnhof.se)
[11:17:05] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:17:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[11:17:37] <geal> pseudoku: if you think they're too verbose, you could avoid them in your code (although that's not recommended). But you should provide them in your library's API
[11:19:09] <dbaupp> pseudoku: you can use a macro like https://github.com/mozilla/rust/blob/73921f91a326e51118077ff3fd5c5c6196ff7c3a/src/librustc/middle/typeck/infer/macros.rs to help make Option/Results less verbose
[11:19:15] <pseudoku> geal: unfortunately i have to use my own api and presently i'm using macros for catching options.
[11:19:49] <pseudoku> but i'm having trouble with mixing macros in functional code
[11:20:03] <pseudoku> and also performing early returns
[11:20:13] <dbaupp> "functional" == working, or lisp/haskell?
[11:21:08] <pseudoku> dbaupp: i mean using map, filter and closures rather than let mut = ~[]; for i in iter { v.push(something) }
[11:21:44] <dbaupp> ah, right.
[11:21:46] <geal> with functional style, using Options should be really easy, right?
[11:22:15] <dbaupp> (Options do provide a pile of adaptor methods, and are Iterators themselves)
[11:22:16] <geal> I didn't check if map could be applied to options
[11:22:22] <geal> ok
[11:22:27] <pseudoku> geal: i have nested lists and i need to return early if even one of them is a None
[11:22:44] <Ms2ger> Mmm
[11:22:48] * dbaupp would demonstrate, but rusti was killed by #10237
[11:22:51] <geal> then fold and flatmap, I guess
[11:22:52] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[11:23:03] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[11:23:04] <dbaupp> pseudoku: so you have ~[~[Option<T>]]?
[11:23:26] <pseudoku> dbaupp: yeah, very similar
[11:23:44] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[11:23:45] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[11:24:10] <dbaupp> and you essentially want to turn that into Option<~[~[T]]> where it's None if any of the inner ones are None?
[11:24:34] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Ping timeout)
[11:24:45] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[11:25:21] <pseudoku> dbaupp: yes, but i also need to perform a map from T -> S so my final return type will be Option<~[~[S]]>
[11:25:39] <dbaupp> sounds like monad transformers :P
[11:26:02] <dbaupp> I don't think that's possible just using the iterator adaptors we have, unfortunately
[11:26:11] <pseudoku> dbaupp: :(
[11:26:51] <pseudoku> dbaupp: can it be implemented though?
[11:27:28] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[11:27:30] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[11:29:06] <dbaupp> pseudoku: well, yes, since it's just `\f -> sequence . map (sequence . map (fmap f))` in Haskell, so there is some way to implement it
[11:29:21] <dbaupp> not necessarily very neat though :(
[11:29:44] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[11:34:06] *** Joins: Ferreus (ferreus@moz-BE5E25FD.pools.arcor-ip.net)
[11:35:05] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[11:35:19] *** Quits: dbaupp (Thunderbir@moz-EA596755.lns20.syd6.internode.on.net) (Ping timeout)
[11:35:45] *** Joins: dbaupp (Thunderbir@moz-9879E359.lns20.syd6.internode.on.net)
[11:36:51] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[11:41:59] <dbaupp> pseudoku: I think it essentially requires the equivalent of `let vec = ~[]; for x in iter { match x { None => return None, Some(y) => vec.push(y) } } Some(vec)` (or nested loops for nested vectors), no fancy monads/lazy evaluation to abbreviate it
[11:43:04] <pseudoku> dbaupp: thats how i've implemented it currently, with macros for the match
[11:43:39] <dbaupp> pseudoku: cool
[11:45:30] <pseudoku> dbaupp: is that the only way to it in rust? I do not have any experience with monad transformers or haskell, but I really would like to know how it could be implemented  
[11:46:32] <dbaupp> pseudoku: it's not the *only* way to do it, since one could imagine a library that essentially simulates Haskell's behaviour (possibly at a huge performance cost), but I think it's the only reasonable way
[11:46:49] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[11:48:18] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[11:49:27] <pseudoku> dbaupp: oh...the reason I wanted to know was, during the early stages, my code was pretty since i ignored error handling. but now to even basic error handling, i've had to convert very concise code to loops. 
[11:50:38] <dbaupp> pseudoku: I could imagine a iterator-helper library that provided functions like Iterator<Option<A>> -> Option<~[A]>, which would help make it concise again
[11:50:42] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[11:52:01] <pseudoku> dbaupp: isn't it not possible to define trait impls on a type defined in another crate? then would the helper library be in libstd?
[11:52:30] <dbaupp> pseudoku: it is possible, if the trait is declared in the current crate
[11:52:53] <dbaupp> (at least one of the type or trait has to be declared in the current crate for an impl to be valid)
[11:53:34] <dbaupp> e.g. trait declared in libextra, type declared in libstd: https://github.com/mozilla/rust/blob/master/src/libextra/serialize.rs#L479
[11:53:45] <pseudoku> dbuapp: oh...thanks, I will try to implement something
[11:58:01] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[11:58:24] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[11:58:36] *** Joins: mib_h3urp6 (Mibbit@CF746613.4A733F6F.5341A478.IP)
[12:00:12] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[12:02:08] *** Quits: mib_h3urp6 (Mibbit@CF746613.4A733F6F.5341A478.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:09:47] *** Joins: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net)
[12:09:54] *** Joins: moostik (Icedove@moz-A9D666E7.w92-151.abo.wanadoo.fr)
[12:13:49] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[12:14:48] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[12:19:34] *** Joins: mikezaby (mikezaby@moz-B26868E.home.otenet.gr)
[12:22:18] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[12:23:06] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[12:23:36] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:24:58] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[12:25:18] *** Quits: dbaupp (Thunderbir@moz-9879E359.lns20.syd6.internode.on.net) (Ping timeout)
[12:27:04] *** Joins: pyrac (pyrac@moz-8356B7F.w90-5.abo.wanadoo.fr)
[12:28:52] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[12:29:01] *** Joins: dbaupp (Thunderbir@moz-9879E359.lns20.syd6.internode.on.net)
[12:30:33] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[12:31:16] *** Joins: adiddigi (Mibbit@2CA4CE24.EEAB4261.53E421C3.IP)
[12:32:45] *** Quits: pseudoku (quassel@47E72610.36364A0A.520CDC98.IP) (Connection reset by peer)
[12:33:06] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[12:33:35] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[12:35:38] *** Joins: pseudoku (quassel@BB301E1C.B05AB55E.520CDC98.IP)
[12:37:50] *** Joins: roja (perjaka.da@8452D74F.6B9C691C.6D661EBF.IP)
[12:38:28] *** Parts: roja (perjaka.da@8452D74F.6B9C691C.6D661EBF.IP) ()
[12:44:07] *** Joins: mib_2vxxax (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[12:45:11] *** Quits: mib_2vxxax (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:45:26] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[12:45:49] *** Joins: sebcrozet (sebcrozet@moz-6DA639AF.w80-13.abo.wanadoo.fr)
[12:46:04] <reedlepee>  https://github.com/mozilla/rust/issues/1921 What i understood is function get_concurrency is returning how many test can be run at one time.. So in function get_concurrency we should call running_on_valgrind if that returns true we should return 1 from get_concurrency  else return whatever returning previously.
[12:46:09] <reedlepee> right ??
[12:46:26] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[12:46:49] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[12:47:53] *** Quits: dbaupp (Thunderbir@moz-9879E359.lns20.syd6.internode.on.net) (Ping timeout)
[12:48:36] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[12:50:16] *** Joins: dbaupp (Thunderbir@moz-9879E359.lns20.syd6.internode.on.net)
[12:50:36] *** Quits: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net) (Ping timeout)
[12:53:23] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:54:48] *** Quits: pseudoku (quassel@BB301E1C.B05AB55E.520CDC98.IP) (Ping timeout)
[12:55:20] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[12:55:58] *** Joins: canhtak (canhtak@moz-24F61E55.wl.t.ulaval.ca)
[12:56:59] *** Quits: oal (oal@26029749.1D466084.2CFD4520.IP) (Quit: Goodbye, cruel world.)
[12:57:24] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[12:57:26] <ChrisMorgan> Wow, that is *really* weird. I went to comment on #10143 (yes, I'm absolutely certain) and when I submitted it switched to #9740 (which I had been visiting a little earlier, but in a different tab) and put the comment on it instead!
[12:58:24] <dbaupp> ChrisMorgan: the answer is no, btw (assuming you can't r+ thing general)
[12:59:04] <ChrisMorgan> That's what I expected (and hoped) the answer would be. Plus, the r+ was on a commit which is no longer part of the PR.
[12:59:23] <dbaupp> yup, and the @bors: retry needs to go on the actual commit with the r+
[12:59:31] <ChrisMorgan> Ah.
[12:59:51] <reedlepee> dbaupp: could you please answer my question??
[13:00:25] *** Joins: oal (oal@26029749.1D466084.2CFD4520.IP)
[13:01:18] <ChrisMorgan> dbaupp: thanks.
[13:01:33] <dbaupp> reedlepee: what you said sounds correct
[13:01:54] * ChrisMorgan has been wondering whether people will need to run ./configure again manually after that lands or whether the Makefile will trigger that automatically
[13:02:13] <reedlepee> dbaupp: ohk :)
[13:02:32] <dbaupp> ChrisMorgan: it does trigger it, but it seems to then continue running using the old rules
[13:02:50] <ChrisMorgan> Meaning people will run make, it'll fail, then they'll need to run make again.
[13:03:03] *** Quits: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au) (Quit: z0w0)
[13:03:15] * ChrisMorgan doesn't like that `make install` doesn't work when it's done as one step: it needs to be done as `make && make install` instead
[13:03:53] <dbaupp> ChrisMorgan: yes'
[13:06:32] *** Joins: tester_ (Mibbit@84BEE7DC.213649E3.FDEA3160.IP)
[13:07:15] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:07:31] <tester_> Hi guys, I was running Rust on windows, and suddenly today when I do rust.exe , it gives me a popup saying Rust has stopped working, Windows is trying to find a solution, Any idea where I can look for logs and find why its happening?
[13:08:09] <adiddigi> tester_ : how did you build it?
[13:08:32] <tester_> I directly downloaded MINGW and installed using installer
[13:09:06] <tester_> any ideas?
[13:10:10] <sam113101> should I learn rust?
[13:10:17] <sam113101> or should I wait?
[13:11:31] <kimundi> sam113101: That's something you need to decide for yourself ;)
[13:11:55] <sam113101> I'm afraid I can do that
[13:12:04] <sam113101> I want the language to be stable enough before learning it
[13:12:08] <kimundi> sam113101: If you actually want to use rust in the future, now is as good of a time than any, the language won'T change that majorly anymore
[13:12:10] <sam113101> and I don't know how stable it is
[13:12:26] <sam113101> ok
[13:12:58] <kimundi> It's not production-ready stable, but won't-chrash-randomly-all-the-time stable
[13:14:04] <kimundi> Really, apart from a few remaining bigger issues, at this point it rust development is more about filling the library gaps
[13:14:18] <ChrisMorgan> I've had exactly one crash (well, plus another one I was deliberately provoking) in the past month and a half or so of fairly heavy use of Rust.
[13:14:50] <ChrisMorgan> And that crash wasn't reproducible... I did exactly the same thing again and it didn't crash :-(
[13:16:29] <sam113101> I think I will learn it
[13:19:08] <sam113101> will you help me
[13:21:21] *** Quits: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il) (Ping timeout)
[13:23:41] *** Quits: adiddigi (Mibbit@2CA4CE24.EEAB4261.53E421C3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:24:35] <ChrisMorgan> If you run into any problems and need help, you'll find this channel ever ready to help.
[13:24:48] *** Joins: freezerburnv (freezerbur@moz-C5EF929C.washdc.fios.verizon.net)
[13:24:50] <ChrisMorgan> (Saturdays and Sundays tend to be a little quieter, but you're still likely to get help.)
[13:28:38] *** dew1 is now known as dew
[13:29:12] <ChrisMorgan> bors is going to be being lazy again after my PR is done :-(
[13:31:23] <eddyb> be being? bee?
[13:31:47] *** Quits: avsej (avsej@681E7E71.CBA75883.E17286EB.IP) (Ping timeout)
[13:32:07] *** Quits: ogeon (ogeon@moz-865C8D1B.a258.priv.bahnhof.se) (Ping timeout)
[13:32:15] <sam113101> it all makes so much sense now
[13:32:48] <sam113101> what are algebraic data types?
[13:33:18] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[13:33:18] <eddyb> some pompous name for a Haskell feature
[13:33:27] * eddyb ducks and runs
[13:33:31] <tester_> its  all in here buddy : http://static.rust-lang.org/doc/0.8/tutorial.html
[13:33:47] <sam113101> reading it right now
[13:33:48] <tester_> please read the tutorial before asking here
[13:33:52] <tester_> cool
[13:34:13] <sam113101> it mentions algebraic data types
[13:34:19] <eddyb> tester_: that's 0.8, though
[13:34:31] <sam113101> isn't 0.8 the latest?
[13:34:34] <eddyb> tester_: and the tutorial doesn't expand on ADT
[13:34:36] <eddyb> sam113101: http://static.rust-lang.org/doc/master/tutorial.html#enums
[13:34:48] <tester_> eddyb: sam was asking about most "stable" release
[13:35:09] <eddyb> was he?
[13:35:12] <ChrisMorgan> sam113101: the development version is what most people use. 0.8 is a snapshot in time and isn't "supported" in the regular sense. (We'll help a bit, but all the action is on master.)
[13:35:30] <sam113101> woah
[13:35:32] <eddyb> ChrisMorgan: I would direct that at tester_, too :))
[13:35:41] <tester_> ah, thanks
[13:35:43] <tester_> :)
[13:35:51] <ChrisMorgan> I mean, people will help with it and most of the time there won't be differences, but if there are, there won't be patches for 0.8 and people may be unable to help.
[13:36:00] <ChrisMorgan> (Sorry, I put it a little too strongly the first time.)
[13:36:18] <ChrisMorgan> sam113101: do not fear to ask if there are points in the tutorial you don't understand—it's not a perfect document and getting feedback from people as they learn the language is good for refining it.
[13:36:21] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[13:36:23] <tester_> Where are > 0.8 builds?
[13:36:25] <sam113101> but the tutorial only gets updated each release, right?
[13:36:52] <sam113101> so this is the one I must read: http://static.rust-lang.org/doc/0.8/tutorial.html right?
[13:36:53] <ChrisMorgan> sam113101: links in http://static.rust-lang.org/doc/0.8/ are for 0.8, those in .../master/ are living documents reflecting the current state
[13:37:07] <ChrisMorgan> If you're using 0.8, that's probably best.
[13:37:25] <sam113101> ah
[13:37:31] *** Joins: bytewise (bytewise@moz-E32D3378.eduroam.rwth-aachen.de)
[13:37:35] <tester_> I'm not able to access http://static.rust-lang.org/doc/0.8/ , I'll check Github for the same path
[13:37:37] <eddyb> sam113101: some of the language/library is still in flux, 1.0 is expected to be the first frozen release. if you're not using master, you risk having to rewrite some of your code
[13:37:45] <ChrisMorgan> tester_: tack on index.html to get the root
[13:38:07] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[13:38:15] <ChrisMorgan> tester_: that subdomain is hosted directly from S3, which doesn't serve directory listings
[13:38:31] * ChrisMorgan is now going to go to bed comparatively early for once, it being only 00:38 here in Melbourne
[13:38:45] <eddyb> sam113101: especially if you hold on to "stable" releases and write your code right before the next release :P
[13:39:04] <tester_> eddyb: when is 1 targetted?
[13:39:23] <eddyb> tester_: I've heard early 2014, but I don't have a source and I don't know more than that
[13:39:26] <sam113101> some people yesterday said 1.0 wouldn't be "frozen"
[13:39:51] <ChrisMorgan> eddyb: more like mid-2014 as a base point, but again—it's certainly not fixed.
[13:40:08] <sam113101> and that it was just a number
[13:40:30] <eddyb> but that's the point of 1.0, to have a base for backwards compatibility
[13:40:36] <ChrisMorgan> tester_: BTW, there are no formal nightly builds available yet; for Ubuntu/Debian systems there's a PPA, for Arch Linux it's in AUR, but for the rest nightly builds are not here yet—coming fairly soon, though, I believe.
[13:40:52] <ChrisMorgan> Yes, 1.0 is for backwards compatibility and actual genuine support.
[13:40:52] <tester_> ChrisMorgan : I run windows :( 
[13:41:09] <tester_> So though I can build nightly releases, I prefer an installer... 
[13:41:20] <sam113101> eddyb: will there be 0.10 before 1.0?
[13:41:20] <tester_> And I suppose installer is available only for 0.8?
[13:41:23] <ChrisMorgan> Sorry, for the moment you'll need to go on building your own releases
[13:41:25] <ChrisMorgan> sam113101: probablyu
[13:41:43] <eddyb> tester_: the snapshot works, but I don't think it's complete
[13:42:00] <tester_> eddyb: Which snapshot?
[13:42:06] <eddyb> when building the windows snapshot, a full installer could be created, IMO
[13:42:10] <ChrisMorgan> eddyb: correct, snapshots have only rustc (no rustpkg, rustdoc, etc.).
[13:42:38] <ChrisMorgan> tester_: Rust is bootstrapped; you need Rust to build Rust. The snapshots are just enough Rust to build Rust.
[13:42:41] *** Quits: sebcrozet (sebcrozet@moz-6DA639AF.w80-13.abo.wanadoo.fr) (Quit: Gone)
[13:42:51] <tester_> Okay
[13:43:14] <tester_> Guys, Please do point me to nightly releases
[13:43:15] <ChrisMorgan> So, when you're building Rust, it downloads the latest snapshot (if it doesn't already have it) so it can build it.
[13:43:31] <ChrisMorgan> Not available yet. There will be a mailing list post when they're made available.
[13:43:49] <eddyb> I've had to create the URL manually, from the parts in the snapshot list file
[13:44:01] <eddyb> ChrisMorgan: can it build any rust program, though?
[13:44:12] <ChrisMorgan> eddyb: shh! it's a secret!
[13:44:17] <kimundi> tester_: There are only _nightly_ releases for archlinux and ubuntu :)
[13:44:27] <tester_> ChrisMorgan: Sorry for a dumb question, But you said 0.8 isn't the recent one. So what is?
[13:44:30] <eddyb> I know there's something built before stage0 is used, but I'm not sure what
[13:44:35] <ChrisMorgan> master.
[13:44:48] <ChrisMorgan> eddyb: snapshot *is* stage0.
[13:45:00] <eddyb> yes, but what does it need to be built locally?
[13:45:03] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[13:45:07] <ChrisMorgan> It also needs things like LLVM to be compiled first.
[13:45:19] <kimundi> The most recent version of rust is always the one you can build yourself by checking out the master branch of rusts git repository
[13:45:54] * ChrisMorgan is *really* going to bed... yes, really :P
[13:46:11] <eddyb> kimundi: does stage0 have any runtime dependencies?
[13:46:17] <Ms2ger> ChrisMorgan, really really? :)
[13:46:39] <eddyb> kimundi: that are compiled locally, before stage0 is used to build stage1?
[13:47:12] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[13:47:17] *** Joins: avsej (avsej@AE343727.31A58ACD.8AE46547.IP)
[13:47:18] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[13:47:20] <kimundi> eddyb: Define runtime dependencies. The snapshot needed for building stage0 contains rustc and all libraries that rustc needs, which includes libstd and libextra, but not binaries like rustpkg and rustdoc
[13:47:35] <sam113101> how many jobs should I use to build rust?
[13:47:36] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:47:37] <kimundi> ALso, it might mysys libs
[13:47:41] <kimundi> need*
[13:47:51] <kimundi> sam113101: One
[13:47:53] <eddyb> kimundi: so stage0 can build stage1 out of the box?
[13:47:58] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:47:59] <sam113101> I have 4 cores
[13:48:01] <kimundi> sam113101: rustc is not parallelizable at the moment
[13:48:09] <tester_> Some one should blog about this :)
[13:48:11] <sam113101> I mean when using make
[13:48:15] <kimundi> sam113101: THe only thing you can speed up with multible jobs is the llvm build
[13:48:26] <kimundi> sam113101: So actually, use 4 jobs for the first build :)
[13:48:30] <sam113101> kimundi: that I guess
[13:48:32] <sam113101> ok
[13:48:58] <kimundi> eddyb: the snapshot compiler can
[13:49:02] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[13:49:17] <sam113101> are there advantages in using more jobs than you have cores? serious question
[13:49:37] <kimundi> eddyb: afaik snapshot compiler != stage0.
[13:49:49] <kimundi> sam113101: Probably not
[13:49:50] <eddyb> kimundi: so what files are built locally for stage0? are they only required by the rustc build process, and not for building a rust program in general?
[13:50:22] <kimundi> eddyb: Um, let me check for a minute by starting a build...
[13:50:26] <sam113101> I think I heard people say it was better to use 16 of them or so, even if you didn't have that many cores
[13:50:48] <eddyb> kimundi: how I wish right now I could do "visualize Makefile" :P
[13:51:45] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[13:52:06] *** Quits: tester_ (Mibbit@84BEE7DC.213649E3.FDEA3160.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:55:21] <Ms2ger> eddyb, do you really want to see the darkest pits of hell?
[13:57:57] <sam113101> aaaww shit
[13:58:02] <sam113101> I'm building 0.8
[13:58:05] <sam113101> not master
[13:59:23] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:59:45] <kimundi> Okay, so judging by my make output, the snapshots include: rustc, libstd, libextra, librustc, libsyntax, librustuv, librustrt and librustllvm
[14:00:42] <kimundi> the last two don't seem to be rust libraries though, but c/c++ ones
[14:01:16] <sam113101> I have to start all over
[14:01:21] <sam113101> hold me #rust
[14:01:49] <kimundi> then it builds librustrt again from C/C++ sources, same with libmorestack
[14:02:24] <kimundi> then it compiles stage0 libstd, libextra, librustuv and libsyntax
[14:02:36] <kimundi> using the snapshot compiler and libs
[14:02:58] <kimundi> ANd currently it's compiling stage0 rustc
[14:03:33] <kimundi> Once that is done, it has a set of libraries and compiler based on the most recent source code, build with the last snapshot compiler
[14:03:38] <sam113101> are you talking to me?
[14:03:52] <kimundi> No, I'm just lising what it does :P
[14:04:06] <kimundi> I can stop if no one is interested
[14:04:27] <kimundi> But eddyb asked about it earlier
[14:04:37] <sam113101> nah I was just asking
[14:04:41] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:05:16] <sam113101> didn't want to interrupt you
[14:05:35] <kimundi> sam113101: just to check you, are building current git master on windows or linux?
[14:05:48] <sam113101> kimundi: linux
[14:06:02] <kimundi> okay, then you shouldn't have much trouble
[14:06:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:06:24] <sam113101> will I need to build llvm everytime I pull master?
[14:06:28] <sam113101> or only once?
[14:06:31] <eddyb> rarely
[14:06:48] <kimundi> Usually only once, unless we actually updated our llvm fork
[14:07:03] <sam113101> ok
[14:07:04] <eddyb> kimundi: so librustrt and libmorestack are rebuilt, but it works without that step?
[14:07:29] <kimundi> eddyb: Hm? No, the step is neccessary
[14:07:47] *** Quits: bytewise (bytewise@moz-E32D3378.eduroam.rwth-aachen.de) (Ping timeout)
[14:07:49] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[14:08:16] <sam113101> how long does it take to compile llvm on a i5?
[14:09:10] <kimundi> snapshot: compiler+libs build somewhere in the recent past. stage0: compiler+libs based on current source build with old snapshot compiler+libs. stage1: compiler+libs based on current source build with new stage0 snapshot compiler+libs. stage2: compiler+libs based on current source build with new stage1 snapshot compiler+libs.
[14:09:26] <kimundi> sam113101: No idea, how much memory do you have?
[14:09:33] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[14:10:02] <kimundi> err, dammit, the word snapshot is wrong in the stage0 and stage1 description there :P
[14:10:36] <eddyb> stage0 is the snapshot, isn't it?
[14:10:49] <kimundi> no
[14:10:58] <kimundi> it's _build_ with the snapshot
[14:11:05] <kimundi> snapshot: compiler+libs build somewhere in the recent past. stage0: compiler+libs based on current source build with old snapshot compiler+libs. stage1: compiler+libs based on current source build with new stage0 compiler+libs. stage2: compiler+libs based on current source build with new stage1 compiler+libs.
[14:11:55] <eddyb> and stage3?>
[14:11:59] <eddyb> s/>/
[14:12:01] *** Joins: rustic (engineer@moz-C4BE28E4.c3-0.upd-ubr1.trpr-upd.pa.cable.rcn.com)
[14:12:09] <kimundi> Not really neccessary
[14:12:15] <eddyb> stage3 is pushed as the snapshot, IIRC
[14:12:33] <eddyb> I thought stage0 was snapshot + those two local builds
[14:12:34] *** Parts: rustic (engineer@moz-C4BE28E4.c3-0.upd-ubr1.trpr-upd.pa.cable.rcn.com) ()
[14:12:40] <kimundi> It'S only used for the snapshot registration to be completely sure that the compiler works
[14:13:12] <eddyb> stage0 is snapshot, stage1 can build with the new features, stage2 is built with the new features
[14:13:19] <kimundi> no
[14:13:21] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:13:29] <kimundi> stage0 also contains the new fetures
[14:13:46] <kimundi> the difference is in the codegen from the compiler that _builds_ the stage
[14:13:47] *** Quits: pyrac (pyrac@moz-8356B7F.w90-5.abo.wanadoo.fr) (Quit: pyrac)
[14:13:57] <eddyb> kimundi: but that's between stage1 and stage2
[14:14:05] *** Joins: sweet_kid (Upasana@44AE5AFD.C5CE8A19.388CF16F.IP)
[14:14:16] <kimundi> It'S between every stage
[14:14:27] <kimundi> the biggest gap is between stage0 and stage1
[14:15:00] <kimundi> stage1 and stage2 is a smaller gap, and only for catching things that went completly wrong somehow
[14:15:16] <eddyb> I also don't remember having to build anything other than LLVM and those two runtime libs before stage1
[14:15:25] <kimundi> stage2 and stage3 should not be different at all, which can be used as a check that everything works as expected
[14:15:42] <kimundi> Well, I have the log running here :P
[14:16:06] *** Joins: pyrac (pyrac@moz-8356B7F.w90-5.abo.wanadoo.fr)
[14:16:07] <eddyb> and git pull, if the snapshot hasn't changed, won't rebuild anything before stage1
[14:16:19] <eddyb> same with making any changes and rebuilding
[14:16:36] <kimundi> Thats wrong
[14:17:00] <kimundi> Evrytime I change something around in the libraries, it very clearly starts with compiling stage0 libstd
[14:17:32] <eddyb> that's just for libstd and maybe libsyntax
[14:18:07] <kimundi> and libextra, librt, librustc
[14:18:14] <kimundi> I have the logs here: https://gist.github.com/Kimundi/0b5ffc421607c352d308
[14:18:15] <kimundi> :P
[14:18:46] <kimundi> (It's still in progress, so it's not all the way done)
[14:19:28] <kimundi> That'S a build with prexeisting binaries that need to get cleaned up, but a build llvm, and a freshly ./configure d makefile
[14:21:21] <eddyb> uhm...
[14:21:36] <eddyb> kimundi: then... is the wiki page describing this out of date or something?
[14:21:48] <kimundi> stage0 makes sure the new compiler actually builds with the snapshot compiler, stage1 makes sure the new compiler actually works, and stage2 makes sure the new compiler that actually works actually can compile the new compiler itself
[14:21:56] <kimundi> Yes!
[14:22:05] <kimundi> The Wiki is the oldes piece of documentation we have :P
[14:22:22] <kimundi> It'S even worse than the manual, which is worse than the tutorial
[14:22:36] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[14:22:47] <eddyb> but I don't remember librustc rebuilding more than once when building only stage1
[14:23:42] <kimundi> make stage1 should end up with a stage0 rustc build and a stage1 rustc build
[14:23:54] <eddyb> did this change recently?
[14:23:59] <kimundi> No
[14:24:08] *** Joins: bytewise (bytewise@moz-A1DECA04.eduroam.rwth-aachen.de)
[14:24:38] * eddyb confused
[14:25:00] <kimundi> I can test it if you want
[14:25:12] *** Joins: alonlevy (alon@moz-29263FE5.red.bezeqint.net)
[14:25:35] <kimundi> Once this build finishes, I'll touch a file in libstd, and make stage1. Then we''l see what needs to get rebuild
[14:25:39] <eddyb> add a silly info2!("foobar") somewhere in middle :))
[14:26:00] <eddyb> not libstd, I know that rebuilds twice, librustc
[14:26:33] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[14:27:12] <kimundi> Anyway, I'm afk for half an hour now
[14:31:29] <sam113101> it's been 30 minutes already >(
[14:33:01] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[14:33:04] <sam113101> compiling rust feels lonely
[14:34:08] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[14:37:11] *** Quits: bytewise (bytewise@moz-A1DECA04.eduroam.rwth-aachen.de) (Ping timeout)
[14:38:29] <eddyb> sam113101: find something to do in the meanwhile (although watching something on the internet while it builds might be hard :P)
[14:38:35] <eddyb> s/hard/swaphell/
[14:42:39] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[14:43:52] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[14:47:44] <sam113101> what happened to the "rust" program?
[14:47:50] <sam113101> "rust run" for example
[14:47:57] <mletterle> that was removed a while back...
[14:48:28] <Ms2ger> Nobody maintained it, unfortunately
[14:49:07] <sam113101> okayy (  .____.)
[14:49:12] <mletterle> https://github.com/mozilla/rust/commit/afa42a02379637fb621ffb2f6618344aaabadfcb
[14:50:06] <eddyb> it's actually quite small
[14:52:08] *** Quits: freezerburnv (freezerbur@moz-C5EF929C.washdc.fios.verizon.net) (Quit: freezerburnv)
[14:53:54] *** Joins: bytewise (bytewise@moz-2BD39C7B.eduroam.rwth-aachen.de)
[14:54:20] *** Quits: adarq (x@moz-87A29603.hsd1.fl.comcast.net) (Ping timeout)
[14:58:35] *** Quits: bytewise (bytewise@moz-2BD39C7B.eduroam.rwth-aachen.de) (Quit: Leaving)
[14:58:46] <kimundi> eddyb: Heh, I'm noticing right now that we don't actually _have_ a `make stage1` target :P
[15:00:24] <kimundi> eddyb: How did you rebuild only stage1 then?
[15:02:06] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[15:08:25] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[15:10:09] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[15:11:38] <eddyb> fish to the rescue!
[15:12:00] *** Quits: alonlevy (alon@moz-29263FE5.red.bezeqint.net) (Ping timeout)
[15:12:03] <eddyb> kimundi: make rustc-stage1
[15:13:19] *** Quits: heftig (heftig@moz-48112E8E.dip0.t-ipconnect.de) (Quit: Quitting)
[15:13:56] *** Joins: heftig (heftig@moz-48112E8E.dip0.t-ipconnect.de)
[15:14:52] <eddyb> when the heck did I click on #[stage0] ? I had a tab open in my client for it >_>
[15:18:04] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:18:04] *** ChanServ sets mode: +ao dherman dherman
[15:18:32] *** Quits: avsej (avsej@AE343727.31A58ACD.8AE46547.IP) (Ping timeout)
[15:18:36] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[15:25:05] *** Quits: heftig (heftig@moz-48112E8E.dip0.t-ipconnect.de) (Quit: Quitting)
[15:25:48] *** Joins: heftig (heftig@moz-48112E8E.dip0.t-ipconnect.de)
[15:28:46] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[15:29:43] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[15:30:13] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[15:32:13] <kimundi> eddyb: make rustc-stage1 indeed only compiles rustc once... Now I'm all confused, I though I understood how it works :|
[15:32:37] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:33:23] <eddyb> kimundi: so I'm not completely crazy :D
[15:33:50] *** Joins: avsej (avsej@DCBF589.4902ADA3.8AE46547.IP)
[15:35:24] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[15:38:42] *** Quits: Kxepal (Miranda@moz-4C240DE4.pppoe.mtu-net.ru) (Ping timeout)
[15:38:58] *** Quits: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de) (Ping timeout)
[15:39:11] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Connection reset by peer)
[15:42:13] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:42:20] *** Joins: Kxepal (Miranda@moz-BFDD5152.pppoe.mtu-net.ru)
[15:42:28] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[15:42:34] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[15:44:07] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[15:45:07] *** Quits: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de) (Ping timeout)
[15:46:23] *** Joins: alonlevy (alon@moz-9283D470.red.bezeqint.net)
[15:48:28] *** Quits: alonlevy (alon@moz-9283D470.red.bezeqint.net) (Ping timeout)
[15:48:35] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[15:51:14] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Connection reset by peer)
[15:53:01] *** Quits: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de) (Ping timeout)
[15:54:14] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[15:56:36] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[16:00:01] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[16:00:49] *** Joins: nomadic (nomadic@moz-E01D5C49.hsd1.ga.comcast.net)
[16:00:56] *** Quits: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de) (Ping timeout)
[16:01:28] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:04:37] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[16:07:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:08:31] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:08:54] *** Quits: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de) (Ping timeout)
[16:09:12] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[16:10:53] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[16:11:42] *** Joins: freezerburnv (freezerbur@moz-C5EF929C.washdc.fios.verizon.net)
[16:12:00] *** Quits: avsej (avsej@DCBF589.4902ADA3.8AE46547.IP) (Ping timeout)
[16:13:07] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[16:14:34] *** Quits: freezerburnv (freezerbur@moz-C5EF929C.washdc.fios.verizon.net) (Quit: freezerburnv)
[16:14:48] *** Quits: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de) (Ping timeout)
[16:15:24] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:15:59] *** Joins: Khmar (user@2E1C7DC9.DB3E3FE1.657EB0E6.IP)
[16:18:07] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[16:18:10] <Khmar> I'm not sure if this is a *bug* so I thought I'd ask here before filing it. I'm fixing some issues in the documentation (mostly broken formatting etc.) and when I do and issue a "make docs", it determines a recent rust snapshot, downloads that and does everything else before building the docs. I presume that's done just to verify the examples in the documentation but is it possible to specify an existing rust binary to use rather than
[16:18:10] <Khmar> force the d/ling every time? This is very time consuming.
[16:18:27] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[16:20:05] <eddyb> Khmar: rustdoc is built with rust, and it's used to generate the docs
[16:21:07] <kimundi> Khmar: Which of the docs are you modifying? If its the doc comments in the  libraries, then it will need to rebuild. If its the tutorial or the manual, then it won't need to build more than once. If its the rustdoc binary itself, then it will rebuild too afaik
[16:21:48] <kimundi> Anyway, It should only download a new snapshot once, and everytime you rebased and reconfigured
[16:21:59] <Khmar> 0
[16:22:37] <kimundi> ANd usually you can get by with not calling ./configure after each change
[16:22:58] <Khmar> kimundi: Something's broken then. I'm simply editing tutorial.md and then running "make docs"
[16:23:49] <kimundi> Well, it will build on the first make docs
[16:24:01] <Khmar> It will do the expensive d/ling, building and then generate the docs. If I run it again immediately, no problem. If I do so after a while (my guess is a few hours), it seems to repeat the expensive part. 
[16:24:04] <kimundi> Does it rebuild everytime you canhe anything about tutorial.md afterwards?
[16:24:19] <Khmar> kimundi: Apparently but like I said, not if I rerun it immediately.
[16:24:42] <Khmar> Also, I'm switching branches in git (I keep the bugfixes on a separate branch) so I don't know if that's messing it up.
[16:24:55] <kimundi> Time does not factor into it, only if you touch the wrong files will it start a rebuild
[16:25:12] <kimundi> THAT is definitivly the reason
[16:25:35] <kimundi> the branch switch touches all the wrong files :P
[16:25:36] <Khmar> kimundi: As expected. I'm not sure how to figure this out then. 
[16:25:45] <kimundi> YOu could just have two workspaces
[16:25:56] <Khmar> kimundi: I could but that's quite "non git" 
[16:26:21] <kimundi> What is the reason for switching workspaces all the time?
[16:26:23] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[16:26:30] <kimundi> just curious
[16:26:44] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[16:26:54] <Khmar> kimundi: I don't switch "all the time". I did it because I needed to update a commit based on some feedback on a pull request. 
[16:26:58] *** Joins: avsej (avsej@92832666.56D67B6F.8AE46547.IP)
[16:27:05] <Khmar> And then this whole rebuild got triggered. 
[16:27:11] <kimundi> yeah
[16:27:54] <Khmar> I can see the problem you're pointing at but I still don't think it's ideal.
[16:28:10] <kimundi> It's annoying, but having seperate workspaces is the only way around it. But switching branches only triggers a snapshot download if the two branches diverged to much
[16:28:31] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[16:28:35] <Khmar> It would be nice to set a variable like "RUST_HOME" or something that just bypasses the whole snapshot download. USeful for people who aren't working on the language core. 
[16:28:38] <Khmar> What do you think?
[16:30:54] <kimundi> Well, it would certainly be useful, but maybe not as much as you think. For one, it caches the last snapshot and only redownloads a new one if the git checkout changed in a way that requires a new one.
[16:32:14] <eddyb> uhmmm
[16:32:28] <eddyb> Khmar: do you rebase against master often?
[16:32:41] <Khmar> Hmmm. Either way, it's not good enough. I'm just fixing documentation and I shouldn't have to download to entire snapshot now and then.
[16:33:19] <Khmar> eddyb: Nope. I did do it once though so master is probably ahead of my docfix and docepub branches. Switching from the latter two to master might trigger a snapshot download maybe?
[16:33:23] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[16:33:30] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[16:34:49] <eddyb> Khmar: if you keep all your branches rebased on top of the same branch (your master or the mozilla/rust master - the latter will trigger a snapshot download every 3 days or so, whenever a new one shows up), switching between them won't trigger a snapshot download - possible no rebuild at all
[16:35:19] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[16:35:22] <eddyb> *possibly
[16:35:30] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[16:35:58] <Khmar> eddyb: I think that 3 day thing might be what I'm hitting but I'm not sure. What do you think of the RUST_HOME thing which I mentioned?
[16:36:16] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[16:36:42] <eddyb> Khmar: there's a way to force the build system to use "system rust" (the install prefix of your own build should work) instead of downloading the snapshot
[16:37:00] <Khmar> eddyb: Exactly what I'm looking for. How do I do that?
[16:37:19] <eddyb> ./configure --prefix=/usr --enable-local-rust --local-rust-root=/usr
[16:37:26] <Khmar> Ah okay.
[16:37:53] <eddyb> that's what I used - some people recommend /usr/local (that's the default value for prefix)
[16:37:58] <kimundi> you can also just safe your stage0 directory and copy into your workspace again whenever it misbehaves :P
[16:38:10] <kimundi> You can also fake an updated snapshot that way
[16:38:25] <eddyb> in that case you'd do ./configure --enable-local-rust --local-rust-root=/usr/local
[16:38:53] <Khmar> eddyb: Thanks. I got that. My build is in ~/local (non-root). 
[16:39:05] <eddyb> kimundi: can you do this :P? --local-rust-root=x86_64-unknown-linux-gnu/stage2
[16:39:32] <kimundi> No idea, afaik those switches never worked well/at all
[16:39:42] <Khmar> kimundi: That's reassuring. :)
[16:39:50] <Khmar> Anyway, I'll try this. 
[16:39:55] <eddyb> worked for me, until my rust-git was too old :/
[16:40:01] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[16:40:03] <eddyb> and I haven't fixed it yet to rebuild nightly :(
[16:40:10] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[16:40:52] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[16:41:06] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[16:41:30] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[16:41:36] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[16:42:08] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: WeeChat 0.4.2)
[16:42:17] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[16:42:21] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: japaric)
[16:43:31] <Khmar> eddyb: If there's a bug filed for it, I'd love take a crack at it since it'll be useful for me in the long run.
[16:44:54] <eddyb> Khmar: the rust-git I mentioned is the suse package I started, but didn't finish making it an automatic nightly :(
[16:45:59] <clonejo> Are rustpgks intended to be single-file?
[16:46:34] <kimundi> define single file
[16:46:51] <kimundi> They are a git repository
[16:47:00] <kimundi> Or any other kind of directory structure really
[16:47:04] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[16:47:05] *** Quits: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP) (Quit: japaric)
[16:47:10] <clonejo> eg. the packaged crate only consists of one .rs file
[16:47:11] <eddyb> clonejo: are you referring to a compiled crate?
[16:47:47] <Khmar> eddyb: Ah okay. So it's not in rust.git itself?
[16:48:21] <kimundi> clonejo: You can solve that however you want. I think its currently intended to only be one crate, but that has nothing todo with how many source files that crate is build from
[16:48:33] <eddyb> Khmar: nah, and my rust-git would work fine if I would update the snapshot URL
[16:48:43] <kimundi> files are mostly irrelevant for rusts module system after all.
[16:48:49] *** Joins: tudor (Tudor@moz-233C4930.hsd1.ca.comcast.net)
[16:49:02] <Khmar> Cool. I'll use the flags you mentioned to bypass my rebuild problem.
[16:49:53] <clonejo> kimundi: I was asking because rustpkg build only rebuilds if the timestamp of main.rs/lib.rs changes, but doesn't look at the other files at all.
[16:50:21] <kimundi> That sounds like a bug
[16:50:34] <kimundi> File it :)
[16:50:41] *** Quits: tudor (Tudor@moz-233C4930.hsd1.ca.comcast.net) (Quit: Leaving)
[16:50:50] *** Joins: tudor (Tudor@moz-233C4930.hsd1.ca.comcast.net)
[16:50:51] <clonejo> okay
[16:51:19] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[16:54:17] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[16:54:51] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[16:56:28] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:01:56] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:02:45] *** Quits: sweet_kid (Upasana@44AE5AFD.C5CE8A19.388CF16F.IP) (Ping timeout)
[17:03:40] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[17:03:47] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:04:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:06:07] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[17:06:42] *** Quits: Jackneill (Jackneill@moz-1DF072A4.pool.digikabel.hu) (Ping timeout)
[17:06:42] *** Quits: victorporof (victorporo@733111D7.F5F0D9CD.9B1E38F4.IP) (Ping timeout)
[17:07:40] *** Joins: Jackneill (Jackneill@moz-95F58971.pool.digikabel.hu)
[17:09:26] *** Joins: ChrisOei (chrisoei@moz-30D80888.hsd1.ca.comcast.net)
[17:09:50] <clonejo> https://github.com/mozilla/rust/issues/10247
[17:09:56] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[17:09:58] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[17:11:35] *** Quits: ChrisOei (chrisoei@moz-30D80888.hsd1.ca.comcast.net) (Quit: Leaving)
[17:11:43] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[17:15:18] *** Joins: japaric (japaric@428FA0A7.74F3538.BFC118EE.IP)
[17:15:46] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Quit: Leaving...)
[17:16:08] *** Quits: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de) (Ping timeout)
[17:16:46] *** Quits: mindcat (mindcat@2E9C9F87.68CEB32F.57E3C596.IP) (Quit: Lost terminal)
[17:17:38] *** Joins: edorian (Mibbit@moz-68D37A91.dynamic.qsc.de)
[17:19:43] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[17:20:10] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[17:20:59] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[17:21:46] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[17:22:46] *** Joins: victorporof (victorporo@5F4BA45F.4C68CD1.3EA6AAD8.IP)
[17:24:56] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[17:25:06] *** Joins: ktt3ja (Mibbit@moz-F40FE31.washdc.fios.verizon.net)
[17:25:42] *** Quits: ktt3ja (Mibbit@moz-F40FE31.washdc.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:25:46] *** Quits: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de) (Ping timeout)
[17:25:48] *** Joins: ktt3ja (Mibbit@moz-F40FE31.washdc.fios.verizon.net)
[17:26:53] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[17:26:53] *** ChanServ sets mode: +ao dherman dherman
[17:26:58] <eddyb> kimundi: someone recommended using rustpkg just to track dependencies :))
[17:27:44] <eddyb> if that doesn't work... heh
[17:27:47] <kimundi> eddyb: Sorry, I don't understand what that is is supposed to mean :)
[17:28:04] <kimundi> Yeah, rustpkg still needs work
[17:29:14] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[17:29:41] <eddyb> kimundi: rustic uses a simple Makefile. pcmattman wanted to track all the modules, and the solution was to either use a small rust program that generates the dependencies by loading all the modules with libsyntax (or librustc, not sure) or just use rustpkg and be done with it
[17:30:31] <kimundi> heh, yeah rustpkg ought to work in that situation :)
[17:31:03] <eddyb> good thing I'm not making that change right now, it would be pointless
[17:31:27] <eddyb> clonejo: using master?
[17:32:08] <clonejo> eddyb: using the arch linux nightly build
[17:32:24] <eddyb> that should be close (if you're up to date)
[17:34:04] <clonejo> I am
[17:35:15] *** Quits: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de) (Ping timeout)
[17:35:47] <eddyb> there's a (small) test suite, but I doubt it tests for dependency-triggered rebuilds
[17:35:52] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[17:37:17] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:39:15] *** Joins: ofeldt (ofeldt@moz-6980CB57.dip0.t-ipconnect.de)
[17:40:01] *** Joins: alonlevy (alon@moz-3D4A367C.red.bezeqint.net)
[17:40:43] <eddyb> pcmattman: https://github.com/mozilla/rust/blob/master/src/librustpkg/context.rs hmm, it seems to support producing LLVM bitcode (or object files), so that could work with the current Makefile in rustic. if only it would actually track dependencies :D
[17:42:55] <sp3d> is there any way to use non-utf8 argv/environ at present?
[17:43:47] <eddyb> sp3d: does it have the right length?
[17:44:47] <kimundi> sp3d: I don't think so, unless something changed that exposes those as [u8]
[17:45:14] <eddyb> that's the biggest problem, I think. if you have the string and it's the right length, you can get its bytes or just access it as the [u8] that it actually is
[17:45:28] <eddyb> kimundi: huh? they're not str's?
[17:46:07] <eddyb> or you mean the unprocessed 0-delimited versions?
[17:46:56] <kimundi> eddyb: SOmehow your comments confuse me completly right now xD. Afaik the issue is that currently we expose env variables and argv as strings, which means a rust programm just fails directly with a utf8 decoding error if you have any argv or env variable that are not utf8 encoded
[17:47:18] <eddyb> kimundi: does it fail before any access?
[17:47:32] <sp3d> no
[17:47:33] <kimundi> To fix that, argv and env vars need to be exposed as [u8] instead, with the user being able to handle the non-utf8 case
[17:47:56] <eddyb> but you can get the [u8] from a str quite easily
[17:48:01] <sp3d> when calling os::args one gets "task '<main>' failed at 'index out of bounds: the len is 1 but the index is 1', test.rs:3"
[17:48:11] <sp3d> err
[17:48:14] <sp3d> not that error :P
[17:48:14] <kimundi> eddyb: This is the exact opposite problem from that
[17:48:44] <kimundi> eddyb: You can get a valud utf8 [u8] from any string, but you can't get a valid utf8 str from any [u8]
[17:48:46] <sp3d> "failed in non-task context at 'assertion failed: is_utf8(v)', /build/rust-git/src/rust/src/libstd/str.rs:1037"
[17:49:03] <kimundi> yeah, that is the issue
[17:49:03] <benh> That's before you call os::args
[17:49:07] <benh> I get that in an empty program
[17:49:18] <sp3d> mm
[17:49:44] <sp3d> indeed
[17:49:54] <kimundi> The runtime is mostly written in rust these days, someone just fix that please ;)
[17:50:21] * kimundi needs to do his coursework
[17:50:52] <benh> https://github.com/mozilla/rust/issues/7188
[17:50:59] <eddyb> ah, I see. I was expecting it to fail when using char-based accesses, but I guess it makes sense to validate first (if of unknown origin)
[17:51:48] <kimundi> eddyb: The whole point of str as a seperate type than [u8] is to ensure that it contains valid utf8 to begin with
[17:52:09] <eddyb> so the solution is to validate only when the utf8 version is requested?
[17:52:26] <jvshahid> can someone shed some light on this error https://gist.github.com/jvshahid/7292840
[17:52:31] <kimundi> The solution is to not expose them as strings at all
[17:52:31] <benh> Even then it shouldn't result in task failure imo :/
[17:52:50] <kimundi> Or at least, provide equally accesible functions that don't try to expose them as strings
[17:53:03] <eddyb> kimundi: the latter is what I'm thinking right now
[17:53:08] <eddyb> something like args_raw
[17:53:14] <eddyb> (or raw_args)
[17:54:14] <kimundi> Well, ideally os::args() would return [u8] per default
[17:54:59] <kimundi> So rather than args() and args_raw, I'd rather see args() and args_str()
[17:55:45] <eddyb> sure, if replacing all the usages isn't going to be a problem
[17:56:25] <kimundi> maybe even args_try_str -> Result<~[~str], ~[~[u8]]> 
[17:56:57] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:57:32] <kimundi> Anyway, the problem is to make the sane "input is utf8" case easy to use, while _not_ leading the user to think he can ignore the "input is not utf8" case.
[17:57:47] <eddyb> kimundi: what if you make the Result inner :D?
[17:57:59] <kimundi> What do you mean?
[17:58:05] <kimundi> ah, yeah
[17:58:06] <eddyb> then you can complain that a certain argument is non-utf8
[17:58:31] <kimundi> -> ~[Result<~str, NotUtf8(~[u8])>] :P
[17:59:55] *** Quits: alonlevy (alon@moz-3D4A367C.red.bezeqint.net) (Ping timeout)
[18:04:38] <jvshahid> let me rephrase the question, why isn't foo2 dereferenced automatically in https://gist.github.com/jvshahid/7292840, is that considered a bug, limitiation or is it just me being silly ?
[18:05:47] *** Joins: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net)
[18:05:58] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[18:07:51] <HollyRain> I'm using: use std::result::Result;  match Result(|| ...)  =>  unresolved name `Result`
[18:08:00] <HollyRain> but it's in the API: http://static.rust-lang.org/doc/master/std/result/index.html
[18:08:07] <sp3d> jvshahid: I'm not sure if it's strictly intended behavior but it isn't completely unreasonable because there can be a separate impl for ~Foo, &Foo, or Foo
[18:08:16] *** Joins: mcarberry_ (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[18:08:22] <benh> HollyRain: Result is the type name, in match, you need a value
[18:08:35] <benh> such as Ok or Err
[18:08:50] <benh> http://static.rust-lang.org/doc/master/std/result/enum.Result.html
[18:10:43] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[18:11:00] *** Quits: tudor (Tudor@moz-233C4930.hsd1.ca.comcast.net) (Quit: Leaving)
[18:11:45] *** Joins: sweet_kid (Upasana@4A8502C8.D06DD960.4A5F0685.IP)
[18:12:26] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[18:12:37] <HollyRain> benh, I'm using: let f = match Result(|| file::open(&Path::new(filename), Open, Read)) { Ok(f) => f, Err(e) => fail!(e); };
[18:13:22] <kimundi> HollyRain: And what lead you to thinking that might work? :)
[18:13:24] <benh> yeah the Result(|| ... ) is bogus
[18:15:11] <jvshahid> sp3d: yeah, but in this case there isn't, i'd expect it to fall back to dereferencing the pointer
[18:19:09] <kimundi> jvshahid: I think this falls under "It is unclear if this should work that way or not" right now :P It isn't really a limitation, and you're also not doing anything silly, it's just not clear whether this is intended behavior or not
[18:20:10] *** Quits: pyrac (pyrac@moz-8356B7F.w90-5.abo.wanadoo.fr) (Quit: pyrac)
[18:20:14] <kimundi> We do autoborrow ~T as &T in function calls after all, and method calls will add or remove a few layers of & to match the signature
[18:20:53] <kimundi> I'm just not sure if ~T -> &T borrowing on function calls is where a line got drawn, or just not working right now
[18:21:04] <kimundi> err, method calls
[18:22:01] <jvshahid> kimundi: do you suggest a better way to do this ? i'm trying to leverage traits to avoid code duplication. with the current state of things that means, users of the api will have to dereference the ptr everytime they call one of the fn in that trait.
[18:22:41] *** Joins: pyrac (pyrac@moz-8356B7F.w90-5.abo.wanadoo.fr)
[18:24:42] <kimundi> Well, the not very helpful answer here would be that users shouldn't unnecessarily box their value in a ~ anyway
[18:25:28] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[18:25:38] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[18:25:51] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[18:26:15] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: WeeChat 0.4.3-dev)
[18:26:26] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[18:26:57] <dcrewi> jvshahid: have HasGreeting be a subtrait of HasName, a subtrait with a default implementation of get_greeting()?
[18:27:48] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[18:28:31] *** Quits: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (Quit: bye, bye)
[18:28:57] <jvshahid> kimundi: that's actually not an unreasonable suggestion
[18:29:23] <jvshahid> dcrewi: actually i didn't know about subtraits, checking it out right now.
[18:29:32] <kimundi> jvshahid: Most of the time, if the user is working with a pointer to this value, it's going to be &T or &mut T anyway, and for those it works
[18:29:56] <kimundi> ~T is only really neccessary for data structures
[18:30:13] <kimundi> And stuff like ~str and ~[T]
[18:30:44] <jvshahid> kimundi: what do you mean onfly for data structures ? do you mean members of data structs ?
[18:31:17] <kimundi> enum List<T> { Nil, Cons(T, ~List) }
[18:31:33] <jvshahid> got it, that makes sense
[18:32:21] <kimundi> BAsically, ~ is only necessary to explicit introduce pointer indirection, which is usually just necessary to make a data structure definition not be infinite sized.
[18:32:39] <kimundi> Apart from that, ~T behaves like T
[18:33:19] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[18:34:06] *** Joins: mib_4k9icj (Mibbit@moz-397E47B6.protectedgroup.com)
[18:34:12] *** Quits: mib_4k9icj (Mibbit@moz-397E47B6.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[18:35:26] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:39:57] <jvshahid> kimundi: the part that was confusing me was copying values, my structs have C pointers and implement drop so only one value can have the c pointer. owning pointers guaranteed this for me and i wasn't sure how to keep this property if i used just T instead of ~T. it turns out that if T implements Drop then its values can only be moved and not copied.
[18:40:39] <kimundi> Right, we have that kind of ownership semantic in general, not just for ~
[18:43:33] *** Quits: StarLight (StarLight@moz-69EDBB3C.dynamic.avangarddsl.ru) (Ping timeout)
[18:45:55] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:46:30] <mletterle> be nice if rustc used the link attribute to name the output file *grumble, grumble*
[18:47:48] *** Joins: StarLight (StarLight@moz-F519B723.dynamic.avangarddsl.ru)
[18:49:00] <eddyb> rustpkg does that, I think
[18:49:15] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[18:49:19] *** Joins: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP)
[18:50:23] <mletterle> i think rustpkg uses the directory strucutre
[18:50:52] <SiegeLord> It gets confused if you use the link attribute, so much so that I think it's slated for removal
[18:51:59] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:52:15] <mletterle> Oh it does.
[18:52:21] <mletterle> rustc does that is.
[18:52:31] <mletterle> If you put it in the right place apparently.
[18:52:50] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[18:56:31] *** Joins: jensnockert (jensnocker@moz-5D53B643.cust.bredband2.com)
[18:56:58] *** Joins: sjmur (chatzilla@BA6AE206.87F910E.C2E02DEF.IP)
[18:57:11] *** Quits: jensnockert (jensnocker@moz-5D53B643.cust.bredband2.com) (Input/output error)
[18:57:43] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[18:58:20] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[18:59:31] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[18:59:43] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[18:59:46] *** Joins: jensnockert (jensnocker@moz-5D53B643.cust.bredband2.com)
[19:08:27] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[19:10:04] *** Joins: g3orge (g3orge@moz-CE3A1669.access.hol.gr)
[19:10:28] <g3orge> can/does rust compile in a static binary?
[19:10:54] <sam113101> what's the size of an int?
[19:11:13] <eddyb> sam113101: it's an intptr_t
[19:11:26] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[19:11:50] <thewonderidiot> g3orge: rust doesn't support static linking yet, but it's being looked into
[19:12:03] <sam113101> which means?
[19:12:34] *** Quits: mikezaby (mikezaby@moz-B26868E.home.otenet.gr) (Input/output error)
[19:12:50] <sam113101> is it the size of a word?
[19:13:07] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[19:14:10] <sfackler> sam113101: it's the size of a pointer
[19:14:16] <thewonderidiot> sam113101: yeah, whatever the native register size is on your computer (ie, it's 8 bytes on a 64-bit system and 4 bytes on a 32-bit system)
[19:14:47] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Ping timeout)
[19:14:54] <sam113101> ok
[19:15:01] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[19:16:04] <SiegeLord> It could be 4 bytes on a 64 bit system too, if you're using x32
[19:16:19] <SiegeLord> The best way to describe it is being the size of the pointer
[19:16:31] <thewonderidiot> true
[19:17:29] *** Quits: edorian (Mibbit@moz-68D37A91.dynamic.qsc.de) (Quit: http://www.mibbit.com ajax IRC Client)
[19:18:27] *** Joins: sweet_kid_ (Upasana@44AE5AFD.C5CE8A19.388CF16F.IP)
[19:18:42] *** Quits: pyrac (pyrac@moz-8356B7F.w90-5.abo.wanadoo.fr) (Quit: pyrac)
[19:19:26] *** Quits: sweet_kid (Upasana@4A8502C8.D06DD960.4A5F0685.IP) (Ping timeout)
[19:20:28] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[19:22:37] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[19:23:07] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[19:23:09] *** Quits: Khmar (user@2E1C7DC9.DB3E3FE1.657EB0E6.IP) (Ping timeout)
[19:23:47] *** Quits: eddyb (eddy@FE23D96E.F33C1089.FB866788.IP) (Ping timeout)
[19:24:21] *** Joins: eddyb (eddy@FE23D96E.F33C1089.FB866788.IP)
[19:24:23] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:24:23] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[19:26:25] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:27:06] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:27:26] <sam113101> why use "as" instead of (type) for casting?
[19:27:56] *** Joins: kud1ing (Mibbit@moz-3A9966DF.pools.arcor-ip.net)
[19:28:01] <strcat> why use (type) instead of 'as'?
[19:28:14] <eddyb> sam113101: (type) probably means something else entirely :D
[19:28:20] <sam113101> strcat: it's more cryptic, fits rust better
[19:28:30] <kud1ing> anyone familiar with the build system regarding libuv?
[19:28:48] <strcat> sam113101: so you're just trolling? ;\
[19:28:49] <sam113101> eddyb: what do you mean?
[19:28:57] <sam113101> strcat: I'm not
[19:29:08] <sam113101> that was a serious question
[19:29:12] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[19:29:16] <strcat> 14:28:21 sam113101 | strcat: it's more cryptic, fits rust better
[19:29:21] <strcat> doesn't sound like a serious question
[19:29:41] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[19:29:56] <kud1ing> CFG_IOS_FLAGS from platform.mk is not passed down to libuv
[19:30:14] <sam113101> strcat: doesn't sound like a question at all
[19:30:57] *** Joins: alinab (alina@moz-C82147C8.members.linode.com)
[19:31:23] *** Joins: jordyd (jordyd@7DAC4ACE.77F880E0.D9401097.IP)
[19:31:44] *** Joins: sweet_kid__ (Upasana@4A8502C8.D06DD960.4A5F0685.IP)
[19:31:52] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[19:32:05] *** Joins: pyrac (pyrac@moz-8356B7F.w90-5.abo.wanadoo.fr)
[19:32:13] *** Quits: g3orge (g3orge@moz-CE3A1669.access.hol.gr) (Quit: leaving)
[19:32:24] *** Quits: sweet_kid_ (Upasana@44AE5AFD.C5CE8A19.388CF16F.IP) (Ping timeout)
[19:32:41] <sam113101> strcat: what's the problem?
[19:33:08] <eddyb> sam113101: Rust isn't supposed to be cryptic at all
[19:33:26] <sam113101> eddyb: hmm
[19:33:36] <eddyb> with Rust's tuples, (type) is more confusing than anything else. "as" is as explicit as it needs to be IMO
[19:33:59] <sam113101> maybe I'm just not used to the syntax yet
[19:34:19] <Ms2ger> Possibly
[19:35:23] <SiegeLord> I don't think (val) is a tuple... pretty sure you need a comma in there
[19:35:56] *** Joins: skeet70 (skeet70@moz-697F48F2.bzm-mt.client.bresnan.net)
[19:36:05] <eddyb> but it's close in syntax... and casting to a tuple would look like ((A, B, C))val
[19:37:04] <sam113101> D uses cast(type)
[19:37:30] <kimundi> sam113101: For what it's worth, we'Re close to not having a cast syntax at all
[19:37:31] <SiegeLord> D's reason is so that it's easilly grep'able
[19:37:43] <kimundi> sam113101: We only need it for constexpr
[19:37:47] <SiegeLord> Because D's cast can do arbitrary things
[19:38:01] <SiegeLord> It's like Rust's transmute
[19:38:13] <myname> i do think as is helpful for ffi
[19:38:14] <sam113101> transmute?
[19:38:35] <sam113101> you mean rust's as doesn't do the same as D's cast?
[19:39:16] <SiegeLord> No
[19:39:50] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[19:40:00] *** Quits: kud1ing (Mibbit@moz-3A9966DF.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:40:39] <SiegeLord> D's cast can cast between two unrelated structs of the same size, a static array and a struct etc
[19:40:47] <SiegeLord> 'as' can't do that
[19:41:23] <eddyb> kimundi: (x as &Any).as::<T>()?
[19:41:27] *** Quits: jordyd (jordyd@7DAC4ACE.77F880E0.D9401097.IP) (Ping timeout)
[19:41:32] *** Quits: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net) (Quit: Leaving.)
[19:41:40] <eddyb> still needs the cast to Any ptr :P
[19:41:51] <SiegeLord> That's being fixed
[19:41:57] <SiegeLord> Or... changed, I suppose
[19:42:03] <SiegeLord> Not 100% clear it's a good thing :P
[19:42:32] <eddyb> oh, right, you should be able to call the methods on the trait without the cast, nvm
[19:42:50] <eddyb> x.as::<T>() - too bad it needs :: :(
[19:42:55] <SiegeLord> I meant going from x to &Trait
[19:43:10] <SiegeLord> Even if it's not needed in that specific case
[19:43:18] *** Joins: trickyhero (chatzilla@moz-68E21091.try.wideopenwest.com)
[19:44:14] <eddyb> Trait isn't a type, but &Trait is... right?
[19:44:51] <reedlepee> https://github.com/mozilla/rust/issues/1766 any hints on this ?
[19:44:57] <eddyb> there should be no problem, then - Any::as could be implemented as an intrinsic, if required
[19:44:58] *** Quits: sjmur (chatzilla@BA6AE206.87F910E.C2E02DEF.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131028113308])
[19:45:23] <Ms2ger> kimundi, what's this about no cast syntax?
[19:45:51] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:45:59] <kimundi> Well, we use 'as' for three things today: numeric primitives, trait objects and casting raw pointers
[19:46:56] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[19:47:12] <kimundi> The first one is bad anyway, we should provide casting methods for the idfferent ways it can work: truncate, zero extend etc. The second one is going to become unneccessary, as trait objects will just coerce. The last one can also be done with generic casting functions
[19:47:46] <Ms2ger> I see
[19:48:00] <kimundi> However, nothing of that works in a const expr, so we currently need the as operator still
[19:48:18] <Ms2ger> ctfe? :)
[19:48:26] <kimundi> If we have a general solution for ctfe, then we also no longer need as
[19:48:46] <sam113101> I like D's CTFE
[19:48:48] <sp3d> ctfe is a big hammer for a smallish nail if 'as' is mostly sufficient for now
[19:49:28] <Ms2ger> I wouldn't suggest ctfe just to get rid of 'as' :)
[19:50:18] *** Quits: pyrac (pyrac@moz-8356B7F.w90-5.abo.wanadoo.fr) (Quit: pyrac)
[19:52:12] <SiegeLord> So... will rust have an equivalent of -fno-rtti?
[19:52:30] <Ms2ger> What would that mean?
[19:52:48] <SiegeLord> I think it'd break... {:?} amongst other things
[19:52:58] <SiegeLord> In return for learner binaries
[19:53:01] <kimundi> what does that mean?
[19:53:14] <kimundi> no-rtti?
[19:53:22] <Ms2ger> runtime type information
[19:53:31] <Ms2ger> Which rust doesn't have afaik
[19:53:36] <kimundi> right
[19:53:42] <benh> It kinda needs them for gc, iirc
[19:53:52] <kimundi> does it?
[19:54:05] <Amaranth> Rust has RTTI of a sort
[19:54:14] <kimundi> :? is compiletime reflexion
[19:54:14] <benh> Don't we have a type field in the @-box representation?
[19:54:37] <Amaranth> https://github.com/mozilla/rust/blob/master/src/libstd/unstable/intrinsics.rs#L41
[19:55:00] <kimundi> benh: Don't make the mistake of assuming the status quo is the right way to implement it ;)
[19:55:11] <benh> Cycle collection/box disposal at task end/garbage collection does need to dynamically look up what destructor to call somehow, no?
[19:55:30] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Quit: leaving)
[19:55:35] <kimundi> Probably, yeah.
[19:56:13] <kimundi> Unless it just, like, carries &Drop trait objects around or so :P
[19:56:26] <benh> Does ~T implement Drop?
[19:56:37] <benh> It needs to call free() but I didn't think it was done via the Drop trait
[19:56:44] <benh> but I guess it's largely isomorphic
[19:56:48] <kimundi> I think it doesn't
[19:57:00] <kimundi> It's just hardcoded to act like it and have semantic like it
[19:58:37] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[19:58:56] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[19:58:57] *** Parts: Kauhsa (kauhsa@moz-A78B2D1A.fi) ()
[19:58:59] <strcat> SiegeLord: #[no_std]
[19:59:31] <SiegeLord> Well, sure... but it'd be nice if it was more of a precision tool
[19:59:38] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:59:48] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:00:07] *** Joins: lilybet (Mibbit@4BD4DAE0.29E0CF1.A5CBE450.IP)
[20:01:03] <strcat> SiegeLord: rust-core will get to the point where it provides most of the things libstd does
[20:01:04] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[20:01:26] <SiegeLord> With the same API?
[20:01:34] <lilybet> hi everyone. how I can get input from cmd in rust code?
[20:01:42] *** Quits: Ms2ger (Ms2ger@moz-9BEBA0B1.adsl-dyn.isp.belgacom.be) (Quit: nn)
[20:02:02] <strcat> SiegeLord: when the API makes sense from a performance/size conscious POV
[20:02:09] <SiegeLord> Or, more specifically, will you be able to mix libstd and rust-core in the same binary?
[20:02:13] <strcat> no
[20:02:20] <strcat> if you use libstd, you're not using #[no_std]
[20:02:20] <SiegeLord> That's a very dangerous game to play
[20:02:29] <strcat> it won't let you
[20:02:32] <SiegeLord> Well, yes, that's fair
[20:02:48] <SiegeLord> But if you keep some std, can you link rust-core as well?
[20:02:58] <strcat> no
[20:03:04] <strcat> rust-core is a replacement for libstd
[20:03:08] <strcat> it defines lang items and so on
[20:03:28] <SiegeLord> So you're esentially proposing to split the library ecosystem :P
[20:03:31] <strcat> I'm not sure how it makes sense to use libstd if your stated goal is avoiding stuff like RTTI/exceptions and userland threading
[20:03:34] <strcat> SiegeLord: already happened
[20:03:56] <SiegeLord> How so? Every library I know of uses libstd
[20:05:10] <sp3d> it would be nice if it could be re-merged, pending some way to use more of libstd sans the runtime given a set of lang items etc. from rust-core (right?)
[20:05:27] <strcat> sp3d: libstd isn't written in a performance conscious way
[20:05:29] <SiegeLord> D suffered greatly through having two standard libraries
[20:05:48] <SiegeLord> It'd be a shame to see the same mistake repeated :P
[20:06:00] <strcat> SiegeLord: not having a standard library that works for freestanding rust hurts more
[20:06:09] <sp3d> strcat: shouldn't it be, though? or is it not reasonable to have a pluggable 'base' for it?
[20:06:13] *** Quits: ktt3ja (Mibbit@moz-F40FE31.washdc.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:06:30] <strcat> sp3d: are people going to be okay with every container picking up a type parameter, and the removal of ~T and ~[T]?
[20:06:46] <sp3d> ah
[20:06:56] <sp3d> I wasn't aware rust-core went so far
[20:07:01] <benh> Are people gonna be okay with ejecting all the bits of libstd that overlap with rust-core? :v
[20:07:22] <strcat> sp3d: allocators require a type parameter and an extra constructor fn
[20:07:26] <sp3d> what's the reason to remove ~T/~[T]? poor interaction with custom allocators?
[20:07:38] <sp3d> yeah
[20:07:38] <SiegeLord> I think vast majority of people will use the batteries that come with Rust
[20:07:41] <strcat> sp3d: ~[T] is 7x slower than a library-based type, and yes, neither has a type parameter for an allocator
[20:07:44] <eddyb> we'd come full circle?
[20:07:55] <eddyb> I remember there were libcore+libstd
[20:07:56] <benh> is ~T that much worse too?
[20:07:58] <lilybet> where I could find easy guide for rust?
[20:08:09] <strcat> benh: no, ~T is fine, I fixed it ages ago
[20:08:14] <SiegeLord> It just won't be the case that 3rd party libraries will be written for both standard libraries
[20:08:46] <benh> It would be nice if we could at least move some less contentious bits like Option<> into a common dependency :(
[20:08:56] <sp3d> strcat: so, at risk of being rather naïve, "why not fix ~[T]?"
[20:09:04] <benh> sp3d: gc support!
[20:09:05] <strcat> sp3d: fixing it is moving it to a library type
[20:09:18] <strcat> right, and gc support, the imaginary GC in libstd hurts perf
[20:09:22] <eddyb> making it a lang item might work :D (pls)
[20:09:29] <sp3d> ^ that was my thought
[20:09:31] <SiegeLord> benh: Can't be done, as I think fail!() is one point that will differ between the two
[20:09:41] <SiegeLord> So no unwrap()/get()
[20:09:44] <kimundi> This really sounds like there should be a seperate lib for non-rt, non-lang item definitions like Option, Result, Iterators, etc
[20:09:46] <benh> right :(
[20:09:57] <kimundi> Hm, or not :|
[20:10:00] <sp3d> yeah, that's the kind of thing I was wondering about
[20:10:09] <strcat> sp3d: a simple (semi-)conservative GC (or just the crappy @ implementation) needs dynamic type info in the vector (length and tydesc) to free it
[20:10:09] <sp3d> shouldn't a rt-less fail! just be an abort?
[20:10:18] <strcat> sp3d: it could still unwind
[20:10:22] <strcat> rust-core will have cfg flags
[20:10:25] <sp3d> ah
[20:10:25] <strcat> it already has --cfg libc
[20:10:37] <strcat> but yes, atm it does abort on constraint violations
[20:10:55] <strcat> which is nearly equivalent to fail!() in libstd when you have 1 task anyway
[20:11:01] <sp3d> right
[20:11:19] <strcat> and I didn't write threading bindings or concurrent data structures yet
[20:11:23] <sp3d> it just seems like a significant amount of common code should be shared if at all possible (Option<T> being the poster child)
[20:12:10] <strcat> I've opened bugs about some of the things that could be changed in libstd too
[20:12:12] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:13:02] *** Quits: trickyhero (chatzilla@moz-68E21091.try.wideopenwest.com) (Quit: ChatZilla 0.9.90.1 [Firefox 24.0/20130910160258])
[20:13:03] <strcat> but they are just sitting there as open RFCs so....
[20:13:55] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[20:14:34] *** Quits: mcarberry_ (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net) (Quit: Leaving)
[20:14:43] <jeffdb> can somebody please tell me I'm doing this wrong:
[20:14:53] <jeffdb> let four: S = NumCast::from::<f32>(4f32).unwrap(); Where "S" implements Float
[20:15:19] <kimundi> let four: S = NumCast::from(4f32).unwrap()
[20:15:29] *** Joins: jordyd (jordyd@7DAC4ACE.77F880E0.D9401097.IP)
[20:15:35] <jeffdb> well, that's not much better
[20:15:45] <kimundi> If all types are clear, no need for type hints
[20:16:16] <eddyb> operator* pls instead of unwrap (although it might get abused :S)
[20:16:21] <kimundi> let four: S = num::cast(4f32)
[20:16:36] <kimundi> eddyb: God no
[20:16:46] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[20:17:03] <jeffdb> so what I really want to do is: x + 4.0 // where x is of type S
[20:17:04] <kimundi> eddyb: Adding operators for every kind of common patterns is a way that lead to madness :|
[20:17:12] *** Quits: jordyd (jordyd@7DAC4ACE.77F880E0.D9401097.IP) (Ping timeout)
[20:17:12] <eddyb> kimundi: it'd be fine for non-failing smart pointer unwraps, though, right?
[20:17:16] <jeffdb> but I find I have to do a numcast
[20:17:21] *** Quits: jensnockert (jensnocker@moz-5D53B643.cust.bredband2.com) (Input/output error)
[20:17:41] <kimundi> jeffdb: If you are writing generic code, then you need to use the generic traits
[20:17:42] <jeffdb> shouldn't Rust be smart enough to figure out that 4.0 should be of type S?
[20:17:49] <eddyb> kimundi: the operator exists already, it just can't be overriden
[20:18:00] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[20:18:03] <kimundi> We don'T have generic number literals (yet)
[20:18:10] <redbrain> is there any intermeiate languge you can dump out of the rust compiler for debugging code generation
[20:18:26] <redbrain> or is it just llvm-ir
[20:18:28] <eddyb> redbrain: --emit-llvm -S
[20:18:33] *** Joins: freezerburnv (freezerbur@moz-1CDEED13.bltmmd.fios.verizon.net)
[20:18:41] <kimundi> eddyb: We probably will have the ability for smartpointers to implement the dereference operator
[20:18:42] <redbrain> eddyb: ah ok cool thanks
[20:18:44] <eddyb> (it's not binary, but I'm not sure it's what you want)
[20:18:51] <jeffdb> kimundi: but we will at some point?
[20:19:31] <kimundi> jeffdb: Maybe. It's one of those many things where deciding yes/no is not as easy as it sounds
[20:19:40] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[20:19:47] <jeffdb> let a: u8 = 5; works just fine
[20:20:03] <kimundi> because that's a specific type
[20:20:14] <jeffdb> ah
[20:20:22] <strcat> jeffdb: '5' is a generic literal
[20:20:29] <kimundi> and the compiler parses all integer literals as uint/int right now
[20:20:46] <strcat> it doesn't
[20:21:08] <strcat> 5 is a generic literal, and it falls back to int if nothing can be inferred (likely a bad idea)
[20:21:10] <kimundi> ... generic over u8, u16, u32, u64 and uint, that is
[20:21:13] <jeffdb> strcat: so a generic literal can be assigned a specific type but not a generic type?
[20:21:25] <strcat> a 'generic type'?
[20:21:30] <kimundi> strcat: I meant the temporary representation during tokenization
[20:21:38] <strcat> jeffdb: there's no overloading for literals yet
[20:21:58] <strcat> it only works for a subset of primitive types, there's no trait bound you can use on a generic fn to allow literals for a generic type
[20:22:25] <SiegeLord> Anyway, I doubt coexistence will work... what happened in D is that one of the two libraries became dominant, and the other half of the community left... all while there were two incompatible sets of 3rd party libraries. There better be some thought put into this before history repeats itself...
[20:22:29] <jeffdb> too bad :(
[20:23:14] <jeffdb> SiegeLord: is that what it's called? coexistence?
[20:23:47] <SiegeLord> Not talking about literals...
[20:23:59] <jeffdb> mmmmk
[20:24:12] *** Quits: glennsl (textual@moz-6822C772.customer.cdi.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:26:30] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[20:26:36] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[20:26:40] <strcat> SiegeLord: libstd doesn't hit the C/C++ replacement mark so rust-core exists
[20:27:07] <strcat> (and plenty of people are using rust for freestanding projects and need a stdlib)
[20:28:00] <strcat> exceptions and RTTI are not "pay for what you use", and apparently neither is optional GC
[20:28:44] <SiegeLord> That's all well and good, but will nalgebra, nphysics, glfw-rs get support for rust-core?
[20:29:31] <strcat> not what I am working on
[20:29:33] <SiegeLord> Why would you use rust-core if that means not being able to use any library
[20:30:10] <eddyb> SiegeLord: osdev, for one
[20:30:15] <strcat> because libstd doesn't work if you want to use freestanding rust?
[20:30:28] <strcat> because libstd is slow/bloated, and you want to use rust in place of C/C++
[20:30:29] <SiegeLord> What fraction of Rust users will be developing OS's?
[20:30:39] <strcat> again, not what I am concerned about
[20:30:58] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[20:31:00] <strcat> rust-core will exist to fill the needs of people who want to use freestanding rust, or want equivalent performance to C
[20:31:16] <SiegeLord> And who don't mind writing everything themselves
[20:31:25] <SiegeLord> Because they can't use anything made by 3rd party folks
[20:34:03] <strcat> if you want to use rust in an existing project like firefox, you are going to use rust-core
[20:34:22] <strcat> C bindings are easy enough to make so I am not very concerned about that
[20:34:39] <strcat> more concerned about having a set of fast data structures with allocator support and concurrent data structures
[20:35:19] <SiegeLord> I'm sure they'll manage to get libstd working in an embedded environment
[20:35:29] <SiegeLord> D can be used, and it has an even worse situation with respect to GC
[20:36:02] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Client exited)
[20:36:02] <strcat> an existing project isn't going to bring a huge runtime and alternate threading strategy into the fold
[20:36:22] <strcat> you're not going to see firefox start using rust's scheduler
[20:37:09] <thewonderidiot> fwiw, I'm interested in using rust for flight software, and libstd is a huge no-go on that
[20:37:40] <thewonderidiot> something like rust-core is necessary for that type of stuff
[20:38:12] <SiegeLord> Nothing here addresses the 3rd party support
[20:38:37] <SiegeLord> If these uses really end up dominating Rust's user base, libstd will change
[20:38:42] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[20:39:01] <sp3d> right, but in the meantime a solution is very nice to have
[20:39:24] *** Quits: Jackneill (Jackneill@moz-95F58971.pool.digikabel.hu) (Input/output error)
[20:39:56] <strcat> https://github.com/thestinger/rust-core
[20:39:59] <strcat> 'The long-term goal is for the necessary changes to be adopted by the Rust standard library to ease the maintenance burden. However, exploring the area in a separate repository is easier.'
[20:39:59] <SiegeLord> It's not a general solution... If you're using a 3rd party library today, you absolutely can't use rust-core
[20:40:29] <thewonderidiot> honestly, it seems pretty binary to me. The use cases where I'd want rust-core don't overlap with the use cases where I'd necessarily want *any* 3rd party library, except very certain things that would also need it. Otherwise I'd just use libstd
[20:40:42] <SiegeLord> (unless by some miracle the 3rd party library never fail!s and never allocates via ~ or ~[])
[20:40:58] <SiegeLord> Basically, doesn't actually use libstd
[20:41:30] <sp3d> SiegeLord: what course of action would you suggest? it seems unlikely that a conversion of libstd to support rust-core use cases will be a short-term project
[20:41:32] <strcat> there are people who need rust-core and it exists for them
[20:41:58] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:42:23] <SiegeLord> sp3d: My suggested coarse of action is to "fix" libstd
[20:42:26] <strcat> I will get it to the point where it matches the feature set of libstd with extra things like allocators, and that's it
[20:42:30] <SiegeLord> *course
[20:43:26] <strcat> fixing libstd means filing an issue, and waiting 3-4 months for a decision to made
[20:43:31] <strcat> x100
[20:43:38] <thewonderidiot> SiegeLord: I'm pretty sure that's the idea, it just hasn't happened yet, and until it does rust-core is needed
[20:43:57] <strcat> if I thought it was a productive avenue I would have kept doing it
[20:46:19] <sam113101> lol guys help
[20:47:38] <sam113101> http://www.youtube.com/watch?v=Ug88HO2mg44
[20:47:40] <sam113101> crap
[20:47:47] <sam113101> this isn't what I wanted to paste
[20:47:56] <sam113101> http://pastie.org/8452983
[20:48:15] <sam113101> how do I print x and y?
[20:48:54] <kimundi> println!("x: {}, y: {}", x, *y)
[20:49:08] <sam113101> this wasn't even what I wanted to do, wait
[20:49:26] <kimundi> println!(x.to_str()); println!(y.to_str())
[20:49:37] <kimundi> err, println(x.to_str()); println(y.to_str())
[20:50:08] <SiegeLord> thewonderidiot: Fair enough, but using rust-core is not without a hefty price
[20:50:32] <kimundi> You might need to tell the compiler somehow what type 7 is actually supposed to infer as, though
[20:50:36] <SiegeLord> All I wanted is to turn off rtti... not drop the _entirety_ of the library ecosystem
[20:50:51] *** Quits: eddyb (eddy@FE23D96E.F33C1089.FB866788.IP) (Ping timeout)
[20:50:58] <strcat> SiegeLord: rust uses RTTI for fail!()
[20:51:06] <strcat> so you need to drop failure too
[20:51:38] <kimundi> what does RTTI mean in this context again?
[20:51:45] <thewonderidiot> runtime type information
[20:51:56] <kimundi> right, but what _is_ that actually?
[20:52:11] <Amaranth> https://github.com/mozilla/rust/blob/master/src/libstd/unstable/intrinsics.rs#L41
[20:52:18] <kimundi> Are we talking about the type descriptors?
[20:52:26] <Amaranth> Yeah
[20:52:43] <kimundi> okay
[20:52:50] <kimundi> Wasn'T sure :)
[20:54:14] <strcat> SiegeLord: there are lots of things you currently lose by using libstd
[20:54:27] <strcat> you can't use AVX, you can't use fork, and so on
[20:54:34] *** Quits: lilybet (Mibbit@4BD4DAE0.29E0CF1.A5CBE450.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:55:18] *** Quits: jeffdb (jeff@moz-ED35AD97.hsd1.ca.comcast.net) (Quit: jeffdb)
[20:55:29] <thewonderidiot> SiegeLord: I guess I came into the conversation a bit late. rust-core wasn't intended for people who want to turn off RTTI, it's just the only option because RTTI is so deeply embedded in libstd
[20:55:51] <thewonderidiot> it would need a pretty major overhaul to be able to switch things like that on and off
[20:56:34] <strcat> and a long RFC process to settle on how to do it, if there is consensus to do it at all
[20:57:00] <SiegeLord> thewonderidiot: Well, I did say "will"... rust-core is never an option
[20:57:22] <SiegeLord> I'd save more code switching to it by virtue of not being able to write any code :P
[20:57:31] <SiegeLord> More than any typeinfo savings
[20:57:45] <SiegeLord> It's just too blunt of a tool
[20:58:07] <SiegeLord> You kind of have to start with it in the beginning
[20:58:27] <thewonderidiot> it's too blunt of a tool for what you want. The current libstd would save *me* code by not being able to write anything ;)
[20:58:27] <strcat> it will be easy enough to switch from libstd to rust-core when it's further along
[20:58:54] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[20:58:59] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[20:59:20] <strcat> only reason it isn't further along is that some compiler bugs are blocking me
[20:59:23] <SiegeLord> Doubt that, unless they are actually API compatible
[21:00:00] <strcat> they will be API compatible whenever libstd does stuff the right way and when they aren't I will have an RFC open to change libstd
[21:00:09] <SiegeLord> It won't be like libstdc++ and libc++ where you can in principle substitute one for the other
[21:00:11] <strcat> not up to me whether those RFCs go anywhere
[21:00:47] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[21:01:07] <strcat> for example, making libstd not so slow at --opt-level=0 and --opt-level=1 means different design decisions
[21:01:18] <strcat> really simple things like https://github.com/mozilla/rust/issues/10008 go a long way, there are a lot of papercuts like that
[21:01:51] <strcat> allocators would obviously be RFC material
[21:02:36] <sam113101> The managed box syntax will be replaced by a library type, and a garbage collector is not yet implemented. Consider using the `std::rc::Rc` type for reference counted pointers.
[21:02:38] <sam113101> wat
[21:03:04] <sam113101> isn't ~ already reference counted?
[21:03:06] <strcat> no
[21:03:08] <Sharp> No.
[21:03:15] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[21:03:22] <strcat> ~ is just a thin wrapper around malloc/free
[21:03:28] <strcat> it always has 1 owner
[21:04:56] <mletterle> oh.. goodie: #1  0x00007ffff53d1259 in PR_Lock () from /usr/lib/x86_64-linux-gnu/libnspr4.so
[21:06:11] <sam113101> deallocates when it goes out of scope?
[21:06:29] <strcat> sam113101: if it hasn't been moved from, yes
[21:10:10] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:10:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[21:10:51] <sam113101> why can't I write "let test: [int] = [3, 4, 5];" instead of "let test: [int, ..3] = [3, 4, 5];"?
[21:11:01] <strcat> because [int] isn't a type
[21:11:19] <strcat> if you have a fixed-size vector, the size is an inherent part of the type
[21:11:22] <sam113101> how can I let rust infer the number of elements?
[21:11:25] <strcat> if you have a dynamically sized vector, it's not
[21:11:29] <strcat> sam113101: let xs = [1, 2, 3];
[21:11:37] <sam113101> strcat: thanks man
[21:11:48] <strcat> ~[int] is dynamically sized
[21:11:54] <sam113101> ok
[21:12:05] <strcat> (as in you can alter the size by pushing/popping and so on)
[21:12:05] <teratorn> oh, @ is going away?
[21:12:12] <strcat> teratorn: the syntax, yes
[21:12:26] <teratorn> strcat: what was the ultimate rationale for that?
[21:12:56] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:13:01] <Eridius> hrm, I can't seem to build (at least, not with -j4)
[21:13:05] <Eridius> note: clang: error: no such file or directory: 'x86_64-apple-darwin/stage1/lib/rustc/x86_64-apple-darwin/lib/lib.o'
[21:13:15] <strcat> teratorn: having special syntax for a type that's not idiomatic rust is a bit weird, especially when there are meant to be equally usable alternatives like std::rc
[21:14:04] <teratorn> strcat: OK, that makes sense I guess :)
[21:14:23] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[21:14:33] <teratorn> I was kinda worried that rust noobies would go throwing @ boxes around everywhere just to "make stuff work"
[21:14:45] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[21:15:45] <sam113101> teratorn: that's what I would have done
[21:16:26] <kimundi> It will just make stuff not work in a very confusing way though ;)
[21:16:34] <strcat> teratorn: it makes life harder in many ways, for example not having inherited mutability
[21:17:13] <strcat> so it's either immutable (@, Rc) or has dynamic mutability checks (@mut, RcMut)
[21:17:28] *** Quits: tautologico (shung@4FCDF73C.2F29D054.7B974E06.IP) (Quit: tautologico)
[21:18:16] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[21:19:02] *** Quits: avsej (avsej@92832666.56D67B6F.8AE46547.IP) (Ping timeout)
[21:19:23] *** Quits: freezerburnv (freezerbur@moz-1CDEED13.bltmmd.fios.verizon.net) (Quit: freezerburnv)
[21:20:24] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:21:12] <sam113101> let buffer: [u8, ..1024]; how do I initialize it with zeros?
[21:21:29] <kimundi> = [0, ..1024]
[21:21:46] <Eridius> `let buffer = [0u8, ..1024]` if you want to avoid the type annotation
[21:22:08] <Eridius> yay, rust built without -j4. Seems like makefile dependencies are broken again
[21:22:39] <sam113101> thanks guys
[21:22:45] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[21:22:49] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[21:23:23] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[21:26:41] <sam113101> I built rust with -j 4 earlier
[21:26:52] <sam113101> a few hours ago
[21:27:05] <SiegeLord> I built with make -j4 || make -j4 8)
[21:30:08] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[21:30:08] *** Joins: maxiepoo_ (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[21:31:07] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:31:42] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[21:31:49] *** Quits: maxiepoo_ (mnew@moz-6F50ADE.hsd1.il.comcast.net) (Quit: Leaving)
[21:31:54] *** Joins: maxiepoo_ (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[21:32:19] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[21:32:33] *** Quits: maxiepoo_ (mnew@moz-6F50ADE.hsd1.il.comcast.net) (Quit: Leaving)
[21:32:37] *** Joins: maxiepoo_ (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[21:33:34] <Boreeas> What kind of type is "<V1447>"?
[21:33:56] <Boreeas> Full error: http://pastebin.com/HA31yHQD
[21:34:08] <sam113101> that notation is confusing
[21:34:35] <strcat> Boreeas: a type that wasn't inferred
[21:34:43] *** Joins: avsej (avsej@1AE4E77A.AB157DA2.8AE46547.IP)
[21:34:46] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[21:37:16] <Boreeas> sam113101: It looks better in code where the .chain lines are not that far too the right.
[21:40:13] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[21:40:18] <Boreeas> strcat: I just checked. Shouldn't "let x = ~[something as u8]" be automatically  inferred to be ~[u8]?
[21:43:24] <dbaupp> Boreeas: what's the type of header?
[21:44:03] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Client exited)
[21:44:09] <Boreeas> let header = self.data.slice(0, i).to_owned().iter().map(|&x| x); is the definition - not sure how I can get the type
[21:44:25] <dbaupp> `let () = header`
[21:44:26] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[21:44:59] <dbaupp> (btw, there's .slice_to(i), and the .to_owned() is probably not necessary, so `self.data.slice_to(i).iter().map(|&x| x)`.)
[21:45:27] <Boreeas> Ah, thanks
[21:45:31] <Boreeas> Type is "std::iter::Map<,&u8,u8,std::vec::VecIterator<,u8>>"
[21:45:38] <dbaupp> what's the type of filler?
[21:45:58] <dbaupp> are you writing `let filler = ~[alkalskd].iter()`?
[21:46:12] <Boreeas> "~std::iter::Map<,&u8,u8,std::vec::VecIterator<,u8>>"
[21:46:22] <reedlepee> dbaupp: https://github.com/mozilla/rust/pull/10250
[21:46:28] <Boreeas> Filler is let filler = "~[0, 0, 0, tag.data.len() as u8 - TAG_LEN_MODIFIER, 0, 0, 3].iter().map(|&x| x);"
[21:46:39] <Boreeas> So basically the same except a literal vector definition
[21:47:11] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[21:48:11] <dbaupp> Boreeas: the problem is that gets parsed as ~([].iter().map()), i.e. it's boxing the iterator, whereas you probably want `(~[...]).iter().map()`
[21:48:23] <dbaupp> Boreeas: in any case, you can actually just drop the ~ entirely.
[21:49:14] <Boreeas> Ah, alright. I started putting ~ in front of all the vectors after rustc started complaining that [] wasn't valid. I guess it's different if it gets used only temporarily
[21:50:13] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Connection reset by peer)
[21:50:35] <dbaupp> kinda. there's a bug that means that temporaries have (too) short lifetimes, so you may need to assign the vector to an actual variable, and then construct the iterator.
[21:51:01] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[21:51:52] <Boreeas> As in "id3.rs:90:19: 90:28 error: borrowed value does not live long enough" "id3.rs:90 		let terminator = [0u8].iter().map(|&x| x);"?
[21:52:07] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:52:18] <strcat> Boreeas: [0] needs to be in a temporary for now
[21:52:25] <strcat> or the lifetime ends immediately
[21:52:35] <Boreeas> Ah
[21:52:39] <strcat> let a = [0u8]; a.iter()
[21:52:49] <Boreeas> Alright, thank you
[21:53:01] <strcat> there's an issue about deciding whether rvalues should live until the end of an expr or even the end of a block
[21:55:01] <reedlepee> dbaupp: https://github.com/mozilla/rust/pull/10250
[21:56:48] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: Pogoapp - http://www.pogoapp.com)
[21:57:20] <mletterle> muhahaha: You've met with a terrible fate, haven't you?
[22:01:36] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:01:36] *** ChanServ sets mode: +ao dherman dherman
[22:02:44] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[22:03:00] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[22:03:03] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[22:03:44] <dbaupp> reedlepee: after you fix the `else{`, can you squash the commits together please? http://gitready.com/advanced/2009/02/10/squashing-commits-with-rebase.html
[22:05:28] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[22:11:10] <sfackler> tjc: ping
[22:12:16] *** nrc is now known as nrc|away
[22:12:36] <mletterle> is there like.. actually any useful resources for NSS?
[22:13:41] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:13:45] <sfackler> all of the NSS documentation I've seen is hilariously out of date/broken
[22:13:50] <Amaranth> Sure, a bottle of aspirin
[22:15:23] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[22:15:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[22:16:38] <mletterle> there appears to be exactly zero activity in the irc channel.
[22:18:09] *** Joins: jxv (jxv@moz-B6559D27.socal.res.rr.com)
[22:19:03] <sp3d> Boreeas: "id3.rs"?
[22:19:03] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[22:19:46] *** Joins: tjc (tjc@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:19:46] *** ChanServ sets mode: +o tjc
[22:20:35] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:20:38] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[22:20:43] <sp3d> existing ID3 tag libraries are woefully broken in a variety of ways (mostly related to trying to hide differences between versions instead of exposing them clearly); good luck if that's what you're working on!
[22:21:25] *** Joins: eddyb9 (eddy@FE23D96E.F33C1089.FB866788.IP)
[22:24:05] <Boreeas> sp3d: I'm just playing around with the format right now, I doubt it'll ever become a useful library
[22:24:35] <Boreeas> sp3d: Especially if you consider that my knowledge of rust is lacking and the code is probably terrible
[22:27:55] <sp3d> well, don't worry too much about the competition :P
[22:29:46] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[22:29:46] *** ChanServ sets mode: +ao brson brson
[22:29:53] *** Quits: Ferreus (ferreus@moz-BE5E25FD.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[22:34:09] *** Joins: freezerburnv (freezerbur@moz-C5EF929C.washdc.fios.verizon.net)
[22:35:07] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:38:56] <mletterle> I'm going to be very unhappy if I have to implement a random timer to block the task to prevent something from being stomped on. :/
[22:38:58] <dbaupp> mletterle: I imagine there are a few mozilla people who know stuff... don't know which IRC channel they'd be in here though.
[22:39:13] <dbaupp> (re NSS)
[22:39:22] <Sharp> Doesn't NSS date back to the Netscape days?
[22:39:28] <sfackler> yep
[22:39:37] * Sharp wonders if any former Netscape employees lurk here.
[22:39:39] <mletterle> N = Netscape
[22:39:50] <mletterle> well
[22:39:51] <mletterle> Network
[22:39:58] <mletterle> NSPR has the N = Netscape
[22:40:05] <Sharp> Yeah.
[22:41:19] <Sharp> I wonder how many Rust implementations of low level libraries are being implemented as we speak.  Seems like every other person in #rust has one as a personal project :P
[22:45:04] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: night)
[22:46:07] <tjc> Sharp: Brendan Eich lurks here sometimes, and he's definitely a former Netscape employee :-)
[22:46:28] <Sharp> Haha, well, I meant other than Mozilla employees :P
[22:48:32] *** Joins: vb8347gfb (kuyhbg8790@25B2CE59.934D5458.521C0519.IP)
[22:49:46] *** Quits: sweet_kid__ (Upasana@4A8502C8.D06DD960.4A5F0685.IP) (Quit: Leaving)
[22:49:51] *** Quits: vb8347gfb (kuyhbg8790@25B2CE59.934D5458.521C0519.IP) (Excess Flood)
[22:50:37] *** Joins: vb8347gfb (kuyhbg8790@25B2CE59.934D5458.521C0519.IP)
[22:50:39] *** Joins: tudor (tudor@moz-233C4930.hsd1.ca.comcast.net)
[22:52:03] *** Quits: vb8347gfb (kuyhbg8790@25B2CE59.934D5458.521C0519.IP) (Write error: Broken pipe)
[22:53:25] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:53:53] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[22:54:18] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[22:54:19] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Quit: WeeChat 0.3.8)
[22:54:39] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[22:56:16] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[22:56:34] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[22:58:31] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[23:00:24] *** Joins: tikue_ (tikue_star@8AFE1ED2.F3E8A984.689607DE.IP)
[23:00:43] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[23:01:04] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[23:03:58] <mletterle> you know it's getting real when you're installing the nss and nspr debugging symbols...
[23:04:14] *** Quits: tjc (tjc@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Places to go, people to annoy)
[23:08:02] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[23:09:15] <tikue_> strcat: does rust-core have smart pointers?
[23:12:55] *** Joins: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP)
[23:14:26] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[23:15:06] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[23:16:12] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[23:17:10] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[23:18:26] *** Quits: moostik (Icedove@moz-A9D666E7.w92-151.abo.wanadoo.fr) (Ping timeout)
[23:18:53] *** Joins: moostik (Icedove@moz-A9D666E7.w92-151.abo.wanadoo.fr)
[23:21:12] *** Quits: nkoep (nik@moz-4B90711.pool.mediaways.net) (Client exited)
[23:21:46] *** Quits: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net) (Quit: Leaving)
[23:22:50] *** Joins: steveklabnik (steveklabn@moz-A4503A72.socal.res.rr.com)
[23:22:51] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:23:40] *** Quits: alinab (alina@moz-C82147C8.members.linode.com) (Quit: leaving)
[23:24:23] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[23:26:13] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[23:27:17] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[23:29:14] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:30:23] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[23:30:44] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[23:32:17] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[23:32:24] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[23:32:25] *** Joins: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il)
[23:40:43] *** Joins: alinab (alina@moz-C82147C8.members.linode.com)
[23:43:51] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[23:44:05] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[23:45:24] <strcat> tikue_: it only has Rc/RcMut and ~ atm, allocators aren't implemented due to a dtor bug
[23:49:03] *** Joins: tautologico (shung@4FCDF73C.2F29D054.7B974E06.IP)
[23:50:24] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[23:51:55] <strcat> tikue_: and it requires --cfg libc for them, until allocators get implemented at least
[23:52:32] <sam113101> does rust have function overloading?
[23:53:09] <dbaupp> sam113101: via traits only
[23:54:40] <sam113101> ok
[23:54:47] <sam113101> I'm not there yet in the tutorial
[23:56:29] <mletterle> Is there any way for tasks to coordinate when you don't have control over creating the tasks?
[23:57:14] <sfackler> static mut I guess, but that's pretty sketchy
[23:57:24] <sfackler> what are you trying to do?
[23:57:42] <dbaupp> mletterle: do you control some part of the task (e.g. passing in a ~fn() to be called there)?
[23:57:51] *** Quits: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:57:51] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[23:58:44] <mletterle> I'm trying to keep a function from being called by two tasks at the exact same time, because apparently it's a problem.
[23:59:05] <strcat> use a lock?
[23:59:46] <mletterle> I tried using a RWLock before... not sure if that was doing what I wanted though.. seemed fine with two, but three threads still blows up.
[23:59:48] *** kimundi is now known as zz_kimundi
[23:59:52] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
