[00:03:05] <jdm> everyone's aiming for the ServoSamsung room, right?
[00:03:32] <kmc> i'm in it, haing connection problems though
[00:03:54] <jdm> kmc: vidyo doesn't show you as a participant
[00:04:17] <jdm> no wait, we're in the Servo room
[00:04:18] <SimonSapin> jdm, brson: I think weâ€™re in the wrong room
[00:04:25] <jdm> but samsung is there
[00:04:34] <jdm> maybe everyone should join us
[00:05:19] <kmc> i'm in Servo now
[00:05:24] <kmc> with jdm and samsung
[00:05:31] <jdm> ha, brson and azita left
[00:05:34] <jdm> what a comedy of errors
[00:06:26] <larsberg> All to the ServoSamsung room, please
[00:06:51] *** Quits: CaseyBecking (CaseyBecki@B7DA05EE.EA65D532.31F793.IP) (Ping timeout)
[00:07:42] * kmc joins ServoSamsung
[00:07:56] <jdm> parallel layout in parallel?
[00:08:01] <jdm> don't be ridiculous
[00:09:59] <jdm> brson: ftr you're muted
[00:10:04] <kmc> i just got booted from the room
[00:10:06] <jack> yichoi: we're in ServoSamsung room
[00:10:26] <kmc> "Even in the future nothing works!"
[00:11:07] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:11:24] <kmc> brson: are you having fun with the video feedback loop
[00:11:59] <kmc> booted again :(
[00:12:09] <kmc> I think something's wrong with my internet connection at home
[00:12:21] <SimonSapin> whatâ€™s wrong with Acid2 and parallel layout?
[00:13:31] <jdm> distracted by brian?
[00:13:38] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Connection reset by peer)
[00:13:40] *** Joins: Jesse_ (jruderman@moz-62518563.mtv2.mozilla.com)
[00:13:51] <kmc> "Operation failed. General Failure."
[00:14:09] <jdm> "a few"
[00:15:19] * kmc gives up on vidyo
[00:15:24] <kmc> how do I do a phone call again?
[00:16:41] <SimonSapin> kmc: see /msg
[00:17:15] <kmc> thanks
[00:17:48] <kmc> i'm in
[00:23:40] <SimonSapin> Making a browser shouldnâ€™t be hard, right? http://xkcd.com/1349/
[00:32:15] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[00:33:12] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[00:33:48] *** Quits: mccr8 (mccr8@moz-62518563.mtv2.mozilla.com) (Quit: )
[00:35:29] *** Joins: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP)
[00:35:38] <jack> child invasion in my office
[00:38:12] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[00:39:13] <pcwalton> SimonSapin: it's the races in wrapper.rs
[00:39:21] <pcwalton> I will try to fix them after addressing review comments
[00:39:26] *** Joins: CaseyBecking (CaseyBecki@8A38ACF.EA65D532.31F793.IP)
[00:39:46] <pcwalton> btw, the VPGATHERDD instruction on Haswell is awesomeâ€¦ we could maybe use SIMD to lay out multiple blocks in parallel with it
[00:41:07] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[00:42:38] <kmc> I was talking with a friend about that and she says VPGATHERDD is not actually fast yet
[00:42:58] <kmc> that it's a slow microcoded loop on current processors with the idea that it'll be optimized later
[00:43:04] <kmc> that might be old info though
[00:43:07] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[00:43:14] <kmc> "optimized later" works for the goals of our project, anyway
[00:52:56] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[00:55:05] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[01:01:59] <jdm> nrc: would RFC 24 require defining the variants inline?
[01:02:06] <jdm> because that would be extremely ugly for the HTML DOM
[01:02:16] *** Joins: Nekit1234007_ (Nekit12340@C8B984F.40F9C55F.4707F662.IP)
[01:02:57] *** Quits: Nekit1234007 (Nekit12340@987F2484.B242805A.4707F662.IP) (Ping timeout)
[01:03:22] <nrc> jdm: yes. I wondered about that - I thought it would not be as bad as I thought at first because only fields go inline - no method decls or defs
[01:03:29] <nrc> but it would still be pretty big
[01:03:57] <nrc> jdm: How many classes are there in the DOM, do you kow?
[01:04:00] <nrc> *know
[01:04:28] <jdm> nrc: in the node hierarchy, there are >71 different types
[01:04:29] <nrc> And how deep is the nesting?
[01:04:42] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[01:05:29] <jdm> eventtarget -> node -> element -> htmlelement -> htmltabledataelement -> htmltabledatacellelement
[01:05:36] <jdm> that's the deepest I know of right now
[01:05:46] <nrc> that does not seem too bad
[01:06:11] <nrc> I worry it is not very 'future' proof though
[01:06:25] <nrc> we could easily introduce some way to un-nest the syntax
[01:06:47] <nrc> there is a precedent for modules in different files
[01:06:56] <jdm> also currently we have a nice HTMLFoo is defined in htmlfoo.rs mapping
[01:06:57] <nrc> or we could do something less drastic
[01:07:03] <jdm> it would be unfortunate to lose that
[01:07:16] <jdm> I mean, I guess you could do pub use
[01:07:21] <nrc> hmm
[01:07:46] *** Joins: Fiora (Fiora@moz-85B2F445.compute-1.amazonaws.com)
[01:07:58] *** Parts: Fiora (Fiora@moz-85B2F445.compute-1.amazonaws.com) ()
[01:08:03] <nrc> so maybe a file based approach would work
[01:08:18] <nrc> either its all nested or it's in another file
[01:08:39] <jdm> why does the restriction exist?
[01:08:40] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[01:08:54] <nrc> which restriction?
[01:10:15] <jdm> well, why "another file" as opposed to just not inline?
[01:10:57] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[01:11:04] *** Joins: aydinkim (aydin.kim@5AB4884B.FCC4549.14D5B978.IP)
[01:11:28] <jdm> nrc: also, does RFC 24 imply anything about the size of the Element enum?
[01:11:51] <nrc> oh right, well we already have a precedent to copy for modules in another file, I could just reuse that, whereas we currently don't have any mechanism for out of line defintions
[01:11:59] <jdm> because if all Element-derived types are as big as the largest variant, that won't fly
[01:12:04] <nrc> no fundamental reason we couldn't come up with something though
[01:12:35] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[01:12:45] <nrc> jdm: no, the implementation would be just like single inheritance C++ classes - each value is the size of the sum of its fields
[01:12:49] <aydinkim> larsberg: ping
[01:13:04] <larsberg> aydinkim: pong
[01:13:09] <jdm> that's going to be fun to keep straight when reading code
[01:13:22] <nrc> jdm: why?
[01:13:43] <jdm> it's just the way my brain is used to thinking about the enum keyword
[01:13:44] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[01:13:51] <nrc> oh, I see
[01:13:57] *** Joins: Fiora (Fiora@moz-85B2F445.compute-1.amazonaws.com)
[01:14:01] <nrc> that is a worry actually
[01:14:10] * nrc needs to think some more about that....
[01:14:24] <aydinkim> larsberg: hi :) I've had another urgent works so I couldn't take part in android servo thread so far. 
[01:15:37] <jdm> nrc: so I actually included both styles of downcasting in my example just to see the full range
[01:15:40] <larsberg> aydinkim: that is fine! many of the problems were related to either Rust bugs (that I found fixes for) or linker changes and not too bad.
[01:15:53] <jdm> ie. the virtual dispatch as well as fast, unsafe casting
[01:16:26] <larsberg> aydinkim: Right now I am trying to figure out why fontconfig is reporting "V/stderr  ( 2284): Fontconfig error: Cannot load default config file"
[01:16:49] <aydinkim> larsberg: Yes. I checked current servo status and I have tried to fix it. But It doesn't work at this moment. 
[01:16:54] <larsberg> It is late my time, but I will push all of the submodule updates and open a PR so that you can see it locally as well
[01:17:01] <larsberg> (tomorrow morning)
[01:17:29] <larsberg> There are changes in almost every submodule and a custom Rust build, so it is a lot of work :-)
[01:18:23] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[01:19:05] <aydinkim> larsberg: Yes, unfortunately. I had a problem in linking. I had tried to change library type to dylib. But an error had occured in libjs-mozjs linking because of symbol mismatch.
[01:19:15] <jdm> I guess you could hide some of the downcasting under some methods
[01:19:38] <jdm> so you could have node.as_element().map(|element|)
[01:20:02] <aydinkim> larsberg: That sounds goot. Once if you would update servo and open PRs for me, I can catch up with that stuffs
[01:20:06] <nrc> jdm: yeah, whichever method we choose I would like to have safe downcasting without needing type tags - but we can certainly hide that stuff in methods
[01:20:43] *** Quits: CaseyBecking (CaseyBecki@8A38ACF.EA65D532.31F793.IP) (Ping timeout)
[01:20:56] <larsberg> aydinkim: Thanks! I will have it ready by the start of workday tomorrow KST. I don't know much about the android port of fontconfig and appreciate your help
[01:21:18] <jdm> nrc: I have to say, RFC 5 makes way more sense to me at first read
[01:21:34] <jdm> I hesitate to say "intuitive", since I probably mean "more familiar"
[01:21:42] <nrc> jdm: yeah, it is the most similar to existing languages
[01:22:19] <jdm> nrc: by the way, would process_any_element taking &Rc<Element> also work?
[01:22:26] <jdm> that's more in line with what I expect Servo to do
[01:22:40] <nrc> it doesn't seem popular with a lot of the community, but we'll see...
[01:22:49] <nrc> jdm: yes, I think it must, in whatever case
[01:23:23] <nrc> jdm: I hope the DST work ensures that it does and whatever solution we choose, we just have to be careful wit the implementation so that it falls out right
[01:23:38] *** Joins: CaseyBecking (CaseyBecki@DE96DDFA.EA65D532.31F793.IP)
[01:24:20] <aydinkim> larsberg: Okay. Let's get into it. I think that such fontconfig error had used to occur in the past. 
[01:24:38] <aydinkim> larsberg: It causes severe problem?
[01:24:49] <jdm> nrc: we don't have any kind of inheritance access control (ie. public/private/protected), right? Do we allow shadowing of base type members?
[01:25:25] <larsberg> aydinkim: Yes, servo otherwise loads and lays out the page. But when fontconfig cannot load the config file, it causes an error that causes servo to exit. I think it is the last bug remaining for servo to work on android.
[01:27:50] <nrc> jdm: no shadowing - methods must override, fields must be distinct. We talked a bit about this inheritance being closed, which means it would only be allowed within a single module,. As with normal structs fields and methods would be private, but could be made public (wrt to modules, not scopes)
[01:28:13] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[01:28:31] <jdm> oh, within a single module, hence defining all the types in the same file?
[01:28:38] <jdm> bleah
[01:30:12] <nrc> probably within the same module or submodules, so different files would work
[01:30:35] <nrc> but you couldn't extend some struct from a completely different module
[01:30:36] <aydinkim> larsberg: Oh, I see. So long as you upload your newer rust adatation patch, I will try to find out the solution for that as well.
[01:31:22] <larsberg> aydinkim: Thanks! I will do so.
[01:35:45] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[01:36:30] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[01:38:25] <aydinkim> larsberg: Ok, Thanks. Have a good night!
[01:39:09] *** nrc is now known as nrc|afk
[01:40:29] *** Quits: Jesse_ (jruderman@moz-62518563.mtv2.mozilla.com) (Quit: Jesse_)
[01:44:05] <larsberg> aydinkim: Thanks, you too!
[01:51:19] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[01:52:21] *** Quits: maxli1 (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[01:54:16] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[01:54:28] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[01:54:28] *** ChanServ sets mode: +o pcwalton
[01:57:06] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[02:04:21] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[02:05:00] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[02:06:04] <pcwalton> kmc: ok, that's good to know
[02:06:07] <pcwalton> regarding gather insns
[02:06:29] <pcwalton> saves me from wanting a Haswell to play with ;)
[02:15:07] *** Joins: tavoe (tavoe@8C4F9FE0.22A7417.5FDBC370.IP)
[02:15:32] <tavoe> did the job posting for servo engineer just go away? I swear it was still up a day or two ago
[02:18:53] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[02:19:00] <jdm> tavoe: looks like it
[02:19:42] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[02:20:35] *** Quits: flaki (uid26072@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[02:31:10] *** Quits: alphonse23 (sean@A6D9FFFF.60DF7298.8588B1D7.IP) (Quit:  HydraIRC -> http://www.hydrairc.com <- In tests, 0x09 out of 0x0A l33t h4x0rz prefer it :))
[02:34:48] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[02:34:48] <ghservo> [13servo] 15pcwalton opened issue #2017: Root element accounts for margin collapse by traversing kids twice, which is maybe inefficient 02http://git.io/SLU1cQ
[02:34:48] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[02:35:08] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[02:35:26] *** Quits: zz_kimundi (kimundi@moz-EA3A956E.dip0.t-ipconnect.de) (Ping timeout)
[02:36:36] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[02:36:36] <ghservo> [13servo] 15pcwalton opened issue #2018: Use derived properties for text decoration like Webkit -webkit-text-decorations-in-effect 02http://git.io/-FTJdA
[02:36:36] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[02:37:59] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[02:37:59] <ghservo> [13servo] 15jdm closed issue #1386: Stop sharing @mut Attr between script and layout threads 02http://git.io/cQPI0Q
[02:37:59] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[02:38:44] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[02:38:44] <ghservo> [13servo] 15jdm closed issue #1089: Force eager wrapping via the type system 02http://git.io/E5c4XA
[02:38:44] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[02:38:59] *** Joins: zz_kimundi (kimundi@moz-EBF89014.dip0.t-ipconnect.de)
[02:39:00] *** zz_kimundi is now known as kimundi
[02:40:00] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[02:40:00] <ghservo> [13servo] 15jdm closed issue #363: Root ClientRect wrappers stored in ClientRectList 02http://git.io/-yESMg
[02:40:00] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[02:41:35] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[02:41:35] <ghservo> [13servo] 15jdm closed issue #220: Fix purity/mutability of RenderBox style-related methods 02http://git.io/vbcR_Q
[02:41:35] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[02:45:09] <lpy> jdm: Hi jdm!
[02:45:13] <jdm> hi lpy :)
[02:45:24] <lpy> I am sorry, I was just back from vocation.
[02:45:40] <lpy> so is there anyone ready to work on #1713?
[02:45:40] <crowbot> Issue #1713: Implement Element.client{Top,Left,Width,Height} - https://github.com/mozilla/servo/issues/1713
[02:46:05] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[02:46:05] <ghservo> [13servo] 15jdm closed issue #348: Consolidate common wrapping code 02http://git.io/njlvIA
[02:46:05] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[02:46:25] <lpy> if yes, just do it! I think I should take a look in layout code again.
[02:46:31] <jdm> lpy: nope, just going through old issues
[02:46:33] *** Joins: dranov (dranov@4B7A49A5.3B6BC09B.A5830293.IP)
[02:46:39] *** Quits: CaseyBecking (CaseyBecki@DE96DDFA.EA65D532.31F793.IP) (Client exited)
[02:46:39] <lpy> thank you :)
[02:46:51] <lpy> I will be back to work on it soon :)
[02:48:08] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[02:48:08] <ghservo> [13servo] 15jdm closed issue #1096: Use JS_GetGlobalForObject in _constructor method in generated bindings 02http://git.io/Ea9iMw
[02:48:08] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[02:49:10] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:53:52] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[02:53:52] <ghservo> [13servo] 15jdm closed issue #477: Pass a response channel in layout queries  02http://git.io/FytSMg
[02:53:52] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[02:54:20] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:55:02] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[02:56:05] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[02:56:05] <ghservo> [13servo] 15jdm opened issue #2019: Layout queries do not need to be in match statements 02http://git.io/5emg7Q
[02:56:05] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[02:59:47] <Fiora> pcwalton: I (the one who mentioned it to kmc) didn't remember whether I managed to test it on haswell but http://code.metager.de/source/history/linux/stable/arch/x86/crypto/blowfish_glue.c looks like a confirmation that it's slow
[03:00:47] *** Quits: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net) (Quit: WeeChat 0.4.3)
[03:00:53] <Fiora> (I remember actually seeing that patch and being like "geez, did they actually test it and confirm it to be faster?"  and the answer turns out to be "they tested it on the simulator")
[03:01:06] <pcwalton> Fiora: great, thanks for the info!
[03:02:25] <Fiora> oh.  I guess I must have tested it on haswell because it was new on haswell.
[03:02:34] <Fiora> couldn't exactly have tested it on ivy bridge.
[03:03:02] *** Quits: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP) (Quit: tikue)
[03:09:37] *** Quits: oxum (anonymous@A8E74FA7.A3DB4D3F.520CDC98.IP) (Quit: ...)
[03:09:47] *** Joins: CaseyBecking (CaseyBecki@8A38ACF.EA65D532.31F793.IP)
[03:20:22] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[03:21:53] *** Quits: dranov (dranov@4B7A49A5.3B6BC09B.A5830293.IP) (Ping timeout)
[03:22:28] *** Quits: tavoe (tavoe@8C4F9FE0.22A7417.5FDBC370.IP) (Ping timeout)
[03:29:06] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:29:06] *** ChanServ sets mode: +qo dherman dherman
[03:31:00] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[03:36:42] *** Joins: dranov (dranov@4B7A49A5.3B6BC09B.A5830293.IP)
[03:39:36] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:42:07] *** Quits: CaseyBecking (CaseyBecki@8A38ACF.EA65D532.31F793.IP) (Client exited)
[03:45:24] <lpy> how could we convert a layout::Box to mut layout::Box?
[03:47:41] *** Joins: CaseyBecking (CaseyBecki@568AD27E.EA65D532.31F793.IP)
[03:47:54] *** Joins: oxum (anonymous@7BDBB78A.88326D41.520CDC98.IP)
[03:49:29] <mbrubeck> lpy: I'm still a newbie, but http://static.rust-lang.org/doc/master/tutorial.html#move-semantics suggests you can move an owned pointer into a mutable box...
[03:51:04] <lpy> the return type is `&'a mut layout::Box`. let me see :)
[03:52:52] *** Joins: tikue (tkuehn@A7ECB14D.ADD881BB.D5A9E6FD.IP)
[03:55:18] <lpy> mbrubeck: oh, I think `&mut self.box_` will work. thanks :)
[03:57:23] *** Quits: philix (felipe@moz-C7582C74.user.veloxzone.com.br) (Ping timeout)
[04:03:50] *** Joins: philix (felipe@moz-C7582C74.user.veloxzone.com.br)
[04:04:38] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[04:08:47] *** Quits: CaseyBecking (CaseyBecki@568AD27E.EA65D532.31F793.IP) (Client exited)
[04:11:54] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[04:13:38] *** Joins: lpy_ (lpy@E44EE2C4.F09091A8.1348A864.IP)
[04:13:44] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:13:44] *** ChanServ sets mode: +o pcwalton
[04:14:36] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[04:15:33] *** Quits: lpy_ (lpy@E44EE2C4.F09091A8.1348A864.IP) (Ping timeout)
[04:20:15] *** Quits: oxum (anonymous@7BDBB78A.88326D41.520CDC98.IP) (Quit: Bye..)
[04:20:47] *** Joins: oxum (anonymous@7BDBB78A.88326D41.520CDC98.IP)
[04:26:24] *** Quits: tikue (tkuehn@A7ECB14D.ADD881BB.D5A9E6FD.IP) (Quit: tikue)
[04:28:00] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[04:32:18] *** Joins: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th)
[04:41:59] *** Joins: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com)
[04:43:49] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse_)
[04:45:43] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:48:43] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[04:57:09] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Connection reset by peer)
[04:58:28] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[04:59:10] *** Quits: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th) (Client exited)
[05:00:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[05:00:43] *** Quits: philix (felipe@moz-C7582C74.user.veloxzone.com.br) (Ping timeout)
[05:15:31] *** Quits: elan (elancaster@moz-16672D29.hsd1.ca.comcast.net) (Quit: elan)
[05:15:42] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[05:22:39] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[05:22:39] <ghservo> [13servo] 15pcwalton closed pull request #1922: layout: Implement `min-height` and `max-height`. (06master...06min-max-height) 02http://git.io/EtBfJw
[05:22:39] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[05:22:45] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[05:22:45] <ghservo> [13servo] 15pcwalton closed pull request #1919: layout: Make non-inline `line-height` specify the minimum line height (06master...06min-line-height) 02http://git.io/a-WuqQ
[05:22:45] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[05:32:20] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:38:10] *** Joins: CaseyBecking (CaseyBecki@8A38ACF.EA65D532.31F793.IP)
[05:40:08] *** Quits: CaseyBecking (CaseyBecki@8A38ACF.EA65D532.31F793.IP) (Ping timeout)
[05:40:13] *** nrc|afk is now known as nrc
[05:49:58] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:00:17] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[06:04:34] *** Quits: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[06:07:47] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[06:09:55] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:13:52] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[06:15:58] *** Joins: philix (felipe@moz-C7582C74.user.veloxzone.com.br)
[06:16:33] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[06:18:27] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:20:17] *** Joins: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be)
[06:24:01] *** Quits: enos (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net) (Quit: enos)
[06:30:39] *** Quits: _system64 (uid17738@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[06:55:27] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:03:05] *** Joins: enos (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net)
[07:08:36] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140330030202])
[07:12:00] <Ms2ger> jack, need a mentor? ;)
[07:13:52] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[07:14:58] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[07:18:52] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[07:20:57] *** Quits: dbaron (dbaron@moz-3C92D971.dsl.dynamic.sonic.net) (Ping timeout)
[07:21:22] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[07:22:26] *** Joins: lpy (lpy@C7442963.9730F46D.8C13C571.IP)
[07:23:33] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[07:23:46] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[07:23:46] <ghservo> [13servo] 15lpy opened pull request #2020: Make box_ not Option in block flows.(fixes #2012) (06master...06issue2012) 02http://git.io/SIiJaA
[07:23:46] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[07:26:37] *** Joins: CaseyBecking (CaseyBecki@B7DA05EE.EA65D532.31F793.IP)
[07:27:10] <Ms2ger> jgraham, I don't think you told me that rebase always needed -i, but your suggestion included it, so I just cargo-culted it around
[07:27:30] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[07:28:01] * cmr always uses -i
[07:28:28] *** Quits: CaseyBecking (CaseyBecki@B7DA05EE.EA65D532.31F793.IP) (Ping timeout)
[07:32:08] <Ms2ger> larsberg, tut tut, http://www.w3.org/html/wg/drafts/html/master/single-page.html is the wrong spec
[07:32:16] <Manishearth> Hm, april 1st. Let's wrap the entire layout crate in an unsafe block, with the commit message  "Fix all future compiler errors"
[07:32:19] <Manishearth> :P
[07:35:51] <Ms2ger> We haven't picked gsoc candidates yet, have we? :)
[07:35:59] * Ms2ger crosses Manishearth off the list
[07:36:23] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[07:40:25] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[07:40:29] <Manishearth> hah
[07:44:00] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[07:45:18] *** Quits: philix (felipe@moz-C7582C74.user.veloxzone.com.br) (Ping timeout)
[07:46:13] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:46:19] *** Quits: oxum (anonymous@7BDBB78A.88326D41.520CDC98.IP) (Quit: ...)
[07:48:06] <Manishearth> huh, layout is not a crate. TIL
[07:48:29] <Manishearth> I would have expected it to be one
[07:48:58] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[07:49:08] <Manishearth> Ms2ger: wait a second, the list is owned by jdm. you can't mutate it without moving the pointer! :P
[07:49:16] <Ms2ger> Heh
[07:49:25] <Ms2ger> Anyway, off, ttyl
[07:49:26] <lpy> lol~
[07:49:36] *** Quits: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be) (Quit: bbl)
[07:52:39] <Manishearth> cya ;)
[07:53:20] *** Joins: sp3d (sp3d@6361F3B1.19CD1E54.8354FB35.IP)
[08:01:20] *** Quits: lpy (lpy@C7442963.9730F46D.8C13C571.IP) (Client exited)
[08:03:10] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[08:07:09] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[08:08:34] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[08:12:14] *** Quits: enos (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net) (Quit: enos)
[08:15:19] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[08:17:19] *** Joins: oxum (anonymous@A8E74FA7.A3DB4D3F.520CDC98.IP)
[08:22:59] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:22:59] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:30:35] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[08:32:37] *** Quits: yury (yury@moz-86474802.ok.ok.cox.net) (Ping timeout)
[08:32:40] *** Joins: yury (yury@moz-86474802.ok.ok.cox.net)
[08:34:01] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:39:28] *** Joins: flaki (uid26072@moz-A42E5B7B.irccloud.com)
[08:39:43] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:40:09] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:41:57] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[08:47:56] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[08:51:30] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[08:53:29] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[09:14:50] *** Joins: CaseyBecking (CaseyBecki@B7DA05EE.EA65D532.31F793.IP)
[09:15:44] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Connection reset by peer)
[09:16:36] *** Quits: CaseyBecking (CaseyBecki@B7DA05EE.EA65D532.31F793.IP) (Ping timeout)
[09:17:03] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[09:17:15] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Quit: Leaving)
[09:17:17] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[09:28:20] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[09:31:29] *** Joins: Ms2ger (Ms2ger@moz-98421F60.adsl-dyn.isp.belgacom.be)
[09:34:48] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[09:35:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:36:50] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:40:00] <Ms2ger> So, what's blocking acid2? SimonSapin? :)
[09:40:03] *** Quits: crowbot (nodebot@moz-F5F7AC36.scl3.mozilla.com) (Ping timeout)
[09:40:03] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[09:40:03] *** Quits: larsberg (sid16141@moz-A42E5B7B.irccloud.com) (Ping timeout)
[09:40:04] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[09:40:04] *** Quits: Afuna (sid21127@moz-31ABA2C0.irccloud.com) (Ping timeout)
[09:40:04] *** Quits: logbot (logbot@moz-58CB32ED.glob.com.au) (Ping timeout)
[09:40:13] *** Joins: crowbot (nodebot@moz-F5F7AC36.scl3.mozilla.com)
[09:40:21] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[09:42:33] *** Joins: logbot (logbot@moz-58CB32ED.glob.com.au)
[09:43:18] *** Quits: huon (huon@moz-EC676DFE.members.linode.com) (Quit: ZNC - http://znc.in)
[09:43:44] *** Joins: huon (huon@moz-EC676DFE.members.linode.com)
[09:44:02] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[09:50:59] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[09:51:39] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[09:54:15] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[09:55:30] <SimonSapin> Ms2ger: someone needs to review the remaining commits
[09:55:42] <Ms2ger> Is that someone you?
[09:56:51] <SimonSapin> I donâ€™t know :)
[09:57:11] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[09:58:55] <Ms2ger> Let's say yes :)
[10:00:56] *** Quits: oxum (anonymous@A8E74FA7.A3DB4D3F.520CDC98.IP) (Ping timeout)
[10:01:27] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[10:01:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:01:35] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Connection reset by peer)
[10:01:38] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[10:01:38] *** Quits: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP) (Ping timeout)
[10:01:38] *** Quits: klutzy (th@BA61F396.8E859986.ECA1BB11.IP) (Ping timeout)
[10:01:38] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[10:01:46] *** Quits: nli (nli@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[10:01:46] *** Quits: crowbot (nodebot@moz-F5F7AC36.scl3.mozilla.com) (Ping timeout)
[10:01:46] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[10:01:48] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[10:01:48] *** Quits: azakai (alon@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[10:01:51] *** Quits: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP) (Ping timeout)
[10:01:52] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[10:01:59] *** Quits: lukad (luka@moz-3FD26969.me) (Ping timeout)
[10:01:59] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Ping timeout)
[10:02:04] *** Quits: madmoose (Hat@moz-E1973371.nerp.net) (Ping timeout)
[10:02:04] *** Quits: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP) (Ping timeout)
[10:02:05] *** Quits: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se) (Ping timeout)
[10:02:05] *** Quits: dranov (dranov@4B7A49A5.3B6BC09B.A5830293.IP) (Ping timeout)
[10:02:10] *** Quits: cajbir (farv@moz-EC11DA4D.members.linode.com) (Ping timeout)
[10:02:10] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[10:02:17] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[10:02:21] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[10:02:21] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[10:02:34] *** Quits: khodzha (khodzha@8DDE12C8.2AEE264E.CA6E2165.IP) (Ping timeout)
[10:02:34] *** Quits: tinco (tinco@moz-B027780C.nl) (Ping timeout)
[10:02:35] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[10:02:48] *** Quits: sp3d (sp3d@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[10:02:53] *** Quits: kkris (kkris@moz-CB70009.yourvserver.net) (Ping timeout)
[10:03:20] *** Joins: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP)
[10:03:21] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[10:03:33] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[10:03:36] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[10:03:52] *** Joins: nli (nli@moz-DB4A9C19.scl3.mozilla.com)
[10:04:20] *** Joins: oxum (anonymous@A8E74FA7.A3DB4D3F.520CDC98.IP)
[10:04:31] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:04:33] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[10:04:36] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[10:04:39] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[10:04:40] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[10:04:47] *** Joins: cajbir (farv@moz-EC11DA4D.members.linode.com)
[10:04:53] *** Joins: madmoose (Hat@moz-E1973371.nerp.net)
[10:05:01] *** Joins: klutzy (th@BA61F396.8E859986.ECA1BB11.IP)
[10:05:22] *** Joins: lukad (luka@moz-3FD26969.me)
[10:05:25] *** Joins: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP)
[10:05:29] *** Joins: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se)
[10:05:40] *** Joins: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP)
[10:05:57] *** Joins: tinco (tinco@moz-B027780C.nl)
[10:06:08] *** Joins: dranov (dranov@4B7A49A5.3B6BC09B.A5830293.IP)
[10:06:23] *** Joins: azakai (alon@moz-62518563.mtv2.mozilla.com)
[10:06:39] *** Joins: khodzha (khodzha@8DDE12C8.2AEE264E.CA6E2165.IP)
[10:10:56] *** Joins: tavoe (tavoe@8C4F9FE0.22A7417.5FDBC370.IP)
[10:12:44] *** Quits: tavoe (tavoe@8C4F9FE0.22A7417.5FDBC370.IP) (Ping timeout)
[10:13:31] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[10:17:21] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[10:19:59] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[10:23:13] *** Joins: jackneill (jackneill@moz-782B761E.pool.digikabel.hu)
[10:35:33] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:35:50] <larsberg> SimonSapin: I believe the three remaining commits to review are the margin-collapse, padding, and min-height/max-height. If there are any of those that you can't look at, let me know and one of jack or I will try to figure out that part of the CSS spec and take a look at it :-)
[10:36:47] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[10:37:07] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:37:26] <SimonSapin> larsberg: Iâ€™ll have a look today
[10:37:37] <larsberg> Thanks - appreciated!
[10:38:51] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:51:35] <SimonSapin> CSS WG got a new design for specs: http://dev.w3.org/csswg/css-backgrounds/
[11:01:53] <larsberg> not bad! I particularly like the pacman-like font they used for fixed width
[11:02:14] <cmr> hahah
[11:03:03] *** Joins: CaseyBecking (CaseyBecki@B7DA05EE.EA65D532.31F793.IP)
[11:04:53] *** Quits: CaseyBecking (CaseyBecki@B7DA05EE.EA65D532.31F793.IP) (Ping timeout)
[11:05:28] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[11:17:20] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[11:37:29] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:38:40] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[11:39:11] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:48:20] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[12:12:40] *** kimundi is now known as zz_kimundi
[12:15:49] *** Joins: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP)
[12:18:45] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[12:20:18] *** Quits: Nekit1234007_ (Nekit12340@C8B984F.40F9C55F.4707F662.IP) (Ping timeout)
[12:20:41] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[12:20:41] <ghservo> [13rust-stb-image] 15ozkriff opened pull request #30: Updated to latest Rust, fixed warnings (06master...06master) 02http://git.io/aqMkOw
[12:20:41] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[12:22:04] *** Joins: Nekit1234007 (Nekit12340@C8B984F.40F9C55F.4707F662.IP)
[12:31:36] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[12:34:15] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[12:38:00] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:39:41] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:41:36] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[12:41:37] <ghservo> [13rust-stb-image] 15ozkriff opened issue #31: Add travis integration 02http://git.io/FF3UGA
[12:41:37] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[12:41:44] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[12:50:41] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[12:51:30] *** Joins: CaseyBecking (CaseyBecki@B7DA05EE.EA65D532.31F793.IP)
[12:53:11] *** Quits: CaseyBecking (CaseyBecki@B7DA05EE.EA65D532.31F793.IP) (Ping timeout)
[13:08:31] *** bhearsum|afk is now known as bhearsum
[13:13:57] * Ms2ger awaits SimonSapin's review
[13:14:11] <eddyb> rusti: throw 5;
[13:14:17] -rusti- pastebinned 6 lines of output: http://ix.io/bpe
[13:14:34] <eddyb> Ms2ger: woo exceptions in Rust :D
[13:14:40] <Ms2ger> Wat
[13:14:45] <Ms2ger> April fools
[13:14:59] <strcat> rusti: 1.1 - "foo"
[13:14:59] -rusti- NaN
[13:15:03] <strcat> rusti: "2" - 5
[13:15:04] -rusti- -3
[13:15:18] <eddyb> Ms2ger: don't you love it?
[13:15:34] <Ms2ger> rusti: [] == 0
[13:15:35] -rusti- true
[13:24:29] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[13:24:55] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[13:24:59] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[13:25:15] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[13:30:47] *** Joins: elan (elancaster@moz-16672D29.hsd1.ca.comcast.net)
[13:37:21] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[13:38:05] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:39:49] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:39:54] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[13:50:05] *** catlee-away is now known as catlee
[13:50:19] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[13:58:42] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[14:04:35] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[14:07:04] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[14:09:30] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:12:05] <jack> Ms2ger: are you volunteering to mentor me? :)
[14:12:23] <Ms2ger> Depends, what's the project? :)
[14:13:30] * Ms2ger was reading the meeting notes
[14:14:26] <Ms2ger> I could mentor you to do my homework, perhaps
[14:17:16] <jgraham> heh
[14:18:48] *** ahal is now known as ahal|afk
[14:19:42] <Ms2ger> jack, I'm sure it'd be fun!
[14:20:20] <jack> well, i have a math degree so i might actually be useful at that :)
[14:20:44] <Ms2ger> So do I!
[14:20:49] <Ms2ger> A bachelor's, that is :)
[14:22:31] <eddyb> degree?
[14:22:37] <eddyb> Â° <- one of these?
[14:22:46] <huon> radians, this is mathematics.
[14:22:55] * Ms2ger approves
[14:23:14] <Yoric> Well ÂºC in that case.
[14:23:34] <Yoric> In which case, we have to ask at which temporature mathematicians boil.
[14:23:46] <Ms2ger> At "bad proof"
[14:23:57] <eddyb> prÂ°Â°f?
[14:24:47] * Ms2ger pushes eddyb off a ledge
[14:25:26] -eddyb- and so ends the short and uneventful life of eddyb
[14:26:05] <eddyb> needs more qualifiers. "useless"?
[14:26:29] *** Quits: dranov (dranov@4B7A49A5.3B6BC09B.A5830293.IP) (Ping timeout)
[14:26:31] <Ms2ger> Naah
[14:27:03] *** Joins: dranov (dranov@205F5EF4.DE411CAD.FB866788.IP)
[14:32:31] *** Quits: dranov (dranov@205F5EF4.DE411CAD.FB866788.IP) (Quit: Leaving)
[14:32:36] *** Joins: dranov (dranov@205F5EF4.DE411CAD.FB866788.IP)
[14:38:30] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[14:38:30] <ghservo> [13servo] 15SimonSapin opened pull request #2021: Remove an obsolete comment (06master...06patch-1) 02http://git.io/-01b-Q
[14:38:30] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[14:42:09] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[14:43:58] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[14:48:57] *** Joins: hyunjunekim (Mibbit@7D74E938.F9F187B.FCFA478E.IP)
[15:01:14] *** ahal|afk is now known as ahal
[15:01:42] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[15:04:02] *** Quits: hyunjunekim (Mibbit@7D74E938.F9F187B.FCFA478E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:04:04] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[15:05:50] *** Quits: pauls (pauls@moz-BFEF1F22.ccs.neu.edu) (Ping timeout)
[15:12:01] *** Joins: bholley (bholley@B08EEEEB.6BBCE916.7B974E06.IP)
[15:14:15] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[15:16:51] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[15:16:52] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/dzKEaw
[15:16:52] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[15:17:38] *** Joins: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP)
[15:17:38] <ghservo> [13rust-mozjs] 15jdm opened issue #61: Remove os::page_size() from stack calculation after upgrading rustc 02http://git.io/_a6gOw
[15:17:38] *** Parts: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP) ()
[15:18:12] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[15:21:06] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[15:31:59] *** Joins: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net)
[15:36:51] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:36:51] *** ChanServ sets mode: +o jdm
[15:38:49] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[15:43:48] *** Joins: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP)
[15:43:49] <ghservo> [13servo] 15bors-servo closed pull request #2021: Remove an obsolete comment (06master...06patch-1) 02http://git.io/-01b-Q
[15:43:49] *** Parts: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP) ()
[15:43:50] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[15:43:50] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vHLQJA
[15:43:50] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[15:49:16] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[15:49:17] <ghservo> [13rust-mozjs] 15Ms2ger created 06rustup_20140321 (+1 new commit): 02http://git.io/DzRMxg
[15:49:17] <ghservo> 13rust-mozjs/06rustup_20140321 14611ab0a 15Ms2ger: Remove os::page_size() from stack calculation (fixes #61).
[15:49:17] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[15:49:32] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[15:49:32] <ghservo> [13rust-mozjs] 15Ms2ger opened pull request #62: Remove os::page_size() from stack calculation (fixes #61). (06master...06rustup_20140321) 02http://git.io/vvxZuQ
[15:49:32] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[15:49:59] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[15:49:59] <ghservo> [13servo] 15Ms2ger pushed 1 new commit to 06rustup_20140321: 02http://git.io/9759og
[15:49:59] <ghservo> 13servo/06rustup_20140321 14cfac1e1 15Ms2ger: Update rust-mozjs.
[15:49:59] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[15:50:08] *** Quits: untitaker (untitaker@moz-F31F7B7E.adsl.highway.telekom.at) (Ping timeout)
[15:51:24] *** catlee is now known as catlee-lunch
[15:52:25] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Quit: Leaving.)
[15:57:33] *** Joins: untitaker (untitaker@moz-B015CD5B.adsl.highway.telekom.at)
[15:57:37] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[15:58:28] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[15:58:53] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:01:27] * Ms2ger grumbles about jdm and comments
[16:01:31] <jdm> heh
[16:01:38] *** Joins: canhtak (canhtak@moz-5E5E7728.wl.t.ulaval.ca)
[16:02:07] <Ms2ger> jdm, pushed
[16:02:08] *** Joins: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP)
[16:02:08] <ghservo> [13rust-mozjs] 15Ms2ger 04force-pushed 06rustup_20140321 from 14611ab0a to 14947d2c0: 02http://git.io/jNNjmw
[16:02:08] <ghservo> 13rust-mozjs/06rustup_20140321 14947d2c0 15Ms2ger: Remove os::page_size() from stack calculation (fixes #61).
[16:02:08] *** Parts: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP) ()
[16:02:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:03:04] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[16:03:04] <ghservo> [13rust-mozjs] 15jdm closed pull request #62: Remove os::page_size() from stack calculation (fixes #61). (06master...06rustup_20140321) 02http://git.io/vvxZuQ
[16:03:04] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[16:03:04] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[16:03:05] <ghservo> [13rust-mozjs] 15jdm pushed 1 new commit to 06master: 02http://git.io/d6-TQA
[16:03:05] <ghservo> 13rust-mozjs/06master 148037957 15Josh Matthews: Merge pull request #62 from mozilla-servo/rustup_20140321...
[16:03:05] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[16:03:13] <jdm> remember to update the servo submodule in the rustup branch
[16:04:00] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[16:04:01] <ghservo> [13servo] 15Ms2ger pushed 1 new commit to 06rustup_20140321: 02http://git.io/MXK1rQ
[16:04:01] <ghservo> 13servo/06rustup_20140321 14c78b8f6 15Ms2ger: Update rust-mozjs.
[16:04:01] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[16:04:04] <Ms2ger> Like that?
[16:04:32] *** Joins: enos (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net)
[16:05:20] <jdm> yerse
[16:06:52] * Ms2ger waits for jack and SimonSapin to review acid2
[16:07:41] <SimonSapin> Ms2ger: Iâ€™m shaving the yak of understanding this code so I can review it
[16:08:03] <Ms2ger> I guess that's a good idea
[16:08:49] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:09:40] <larsberg> http://www.orvis.com/store/product.aspx?pf_id=6E0L  - the next mozilla research jack... "genuine yak wool"
[16:09:45] <larsberg> s/jack/jacket
[16:10:09] <Ms2ger> Oh, I thought we were hiring another jack
[16:10:33] <SimonSapin> yes, anyone not named Jack is unqualified for the position
[16:10:43] <larsberg> but they need to have 100% more yak wool
[16:10:55] <Ms2ger> Hmm
[16:11:05] <Ms2ger> I cannot confirm or deny I'm named Jack
[16:12:00] *** Joins: hoverbear (hoverbear@moz-5C0A12C2.wireless.uvic.ca)
[16:12:25] <SimonSapin> Jacques ?
[16:12:34] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:12:40] <Ms2ger> Chocolate?
[16:12:51] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:13:49] <abinader> lol
[16:13:50] <abinader> jdm: did you get any answer from evilpie on https://github.com/mozilla/servo/issues/1717 ?
[16:13:57] <jdm> abinader: nope
[16:14:04] <abinader> right
[16:14:13] <abinader> I have a basic support for DOMTokenList and Element.classList ready
[16:14:28] <abinader> though it's static, live support will come later
[16:15:01] <abinader> will create a PR in a sec
[16:15:02] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:15:02] <Ms2ger> Hmm
[16:15:07] <Ms2ger> Not sure I like that ;)
[16:15:15] *** Quits: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk_)
[16:15:31] <abinader> Ms2ger: DOMTokenList being static?
[16:15:38] <Ms2ger> Right
[16:15:46] <jdm> might as well try to do things right from the start
[16:15:56] <jdm> we're not doing acid2 here ;)
[16:15:59] <SimonSapin> Why do we have BeforeBlock and AfterBlock in addition to Before and After? :(
[16:16:00] <abinader> I haven't implemented it live because there are some things I'd like to discuss with you guys first
[16:16:34] *** Joins: dbaron (dbaron@moz-3C92D971.dsl.dynamic.sonic.net)
[16:16:39] <Ms2ger> SimonSapin, I was going to ask that!
[16:16:39] <jdm> SimonSapin: it's for handling the parent pseudo node (block) vs child pseudo node (inline) iirc
[16:16:54] <Ms2ger> jdm, ...?
[16:16:55] <abinader> today, the class attribute is stored in a single DOMString
[16:16:58] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:17:23] <SimonSapin> jdm: I donâ€™t understand
[16:17:23] <Ms2ger> Yeah
[16:17:27] <Ms2ger> We should parse it
[16:17:35] <SimonSapin> a ::before can have any 'display' value
[16:17:38] * Ms2ger has been thinking about that
[16:17:49] <abinader> Ms2ger: each time we'd use DOMTokenList functions?
[16:17:59] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:18:44] <abinader> on another subject: does it sound sane to store a reference to a DOMString from another object?
[16:18:58] <jdm> SimonSapin: in the old patches I was reviewing, we always created one parent element with display: block, and a text node with display: inline
[16:19:10] <Ms2ger> abinader, no, on set
[16:19:15] <SimonSapin> :(
[16:19:18] <Ms2ger> bbiab, food is warm
[16:19:27] <jdm> it's possible that BeforeBlock just means the parent node in practice
[16:20:14] <abinader> right, I guess I should have lunch as well :-) bbl
[16:20:21] *** abinader is now known as abinader_lunch
[16:25:10] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:25:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:25:57] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:26:04] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:26:06] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[16:28:21] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[16:29:52] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:29:53] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:30:09] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:31:37] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:34:28] *** Joins: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net)
[16:38:15] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[16:42:30] *** catlee-lunch is now known as catlee
[16:44:30] *** Joins: brendan (brendaneic@moz-62518563.mtv2.mozilla.com)
[16:45:43] *** Joins: khodzha1 (khodzha@BA0B862B.2AEE264E.CA6E2165.IP)
[16:45:59] *** Quits: khodzha (khodzha@8DDE12C8.2AEE264E.CA6E2165.IP) (Ping timeout)
[16:48:01] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:48:27] <SimonSapin> do we care about making every commit build?
[16:49:07] <jdm> it's my preference when possible
[16:50:03] <larsberg> SimonSapin: pcwalton definitely mentioned that not every individual commit would build in this PR
[16:50:27] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[16:50:27] <ghservo> [13rust-fontconfig] 15larsbergstrom opened pull request #10: Produce dylib and rlib (06master...06dylib) 02http://git.io/O0Vtpg
[16:50:27] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[16:51:04] *** Joins: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP)
[16:51:04] <ghservo> [13rust-freetype] 15larsbergstrom opened pull request #14: Produce dylib and rlib (06master...06dylib) 02http://git.io/ztfPWA
[16:51:04] *** Parts: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP) ()
[16:51:20] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[16:51:21] *** ChanServ sets mode: +o pcwalton
[16:51:36] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[16:51:36] <ghservo> [13rust-alert] 15larsbergstrom opened pull request #20: Produce dylib and rlib (06master...06dylib) 02http://git.io/nWkc3w
[16:51:36] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[16:51:45] *** Quits: canhtak (canhtak@moz-5E5E7728.wl.t.ulaval.ca) (Quit: canhtak)
[16:51:54] <SimonSapin> larsberg: https://critic.hoppipolla.co.uk/1de85f02?review=1120 adds an import thatâ€™s needed for an earlier commit
[16:52:03] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[16:52:03] <ghservo> [13rust-azure] 15larsbergstrom opened pull request #77: Produce dylib and rlib (06master...06dylib) 02http://git.io/umTWBw
[16:52:03] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[16:53:24] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[16:54:26] <larsberg> SimonSapin: you can chat with pcwalton about whether every sub-commit in the PR should build in isolation for this change - doesn't bother me either way as long as the PR as a whole builds. The subcommits in this one were mainly to make reviewing easier, IIRC.
[16:55:03] <pcwalton> I didn't try to make everything build in isolationâ€¦ it'd be a lot of work to do that for not a whole lot of gain IMHO
[16:55:21] <pcwalton> might make bisecting a bit easier but there's git bisect --skip
[16:55:53] *** Quits: brendan (brendaneic@moz-62518563.mtv2.mozilla.com) (Quit: brendan)
[16:56:00] <pcwalton> jdm: did the GSOC thing you suggested
[16:56:04] <jdm> thanks!
[16:56:16] <Ms2ger> larsberg, what's up with the libs?
[16:56:18] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[16:56:18] <ghservo> [13servo] 15lpy opened pull request #2022: Get rid of match statements in Layout queries.(fixes #2019) (06master...06issue2019) 02http://git.io/wRMBWw
[16:56:18] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[16:56:26] *** Joins: brendan (brendaneic@moz-62518563.mtv2.mozilla.com)
[16:56:41] <larsberg> Ms2ger: in the feb. upgrade, Rust started defaulting to only building rlibs and linking statically
[16:56:57] *** Quits: brendan (brendaneic@moz-62518563.mtv2.mozilla.com) (Quit: brendan)
[16:57:05] <larsberg> We haven't been able to make "servo as a static lib" work on Android, but in order to build a .so, you need to change all of the submodules to also build .dylib
[16:57:28] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Ping timeout)
[16:57:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[16:57:37] <Ms2ger> Fascinating
[16:57:43] <larsberg> There are about ten more coming, plus a pile of linker_args magic as well
[16:57:58] *** Joins: brendan (brendaneic@moz-62518563.mtv2.mozilla.com)
[16:58:07] <larsberg> Would love not to use it, but acrichto couldn't figure out why we get bad ELF headers in our .sos using #[link instead of #[link_args
[16:59:02] *** Joins: nszceta (nszceta@moz-1B78F8A4.wireless.pitt.edu)
[16:59:11] <larsberg> (which doesn't affect us on Real libraries, but on Android, where you have to manually dlopen all your dependencies or fail at runtime, lack of ELF header entries -> dlopen failure)
[16:59:25] *** Quits: bholley (bholley@B08EEEEB.6BBCE916.7B974E06.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[16:59:27] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[16:59:40] <Ms2ger> Oh, android
[16:59:42] *** Quits: nszceta (nszceta@moz-1B78F8A4.wireless.pitt.edu) (Connection reset by peer)
[17:00:00] *** Joins: nszceta (nszceta@moz-1B78F8A4.wireless.pitt.edu)
[17:00:00] <larsberg> I'll continue spamming IRC with submodule updates post-rust meeting, where I plan to Strongly Support JDM for VIrtual Struct King :-)
[17:00:44] *** Quits: brendan (brendaneic@moz-62518563.mtv2.mozilla.com) (Quit: brendan)
[17:01:12] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[17:02:42] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[17:02:42] *** ChanServ sets mode: +o brson
[17:03:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:03:32] <lpy> jdm: should I do the same change to `HitTestQuery` and `MouseOverQuery`?
[17:04:17] <jdm> lpy: yep
[17:04:26] <jdm> lpy: assuming that there's only one possible response type
[17:04:31] * Ms2ger prods pcwalton 
[17:04:42] <pcwalton> what's up?
[17:05:00] <Ms2ger> Seeing if that helps landing acid2 :)
[17:05:18] *** Quits: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Quit: )
[17:05:38] *** Quits: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk_)
[17:08:57] *** Joins: matematikaadit (adit@8B4C7D8D.504CD005.6AA88F82.IP)
[17:09:01] *** Parts: matematikaadit (adit@8B4C7D8D.504CD005.6AA88F82.IP) (Leaving)
[17:09:49] *** catlee is now known as catlee-afk
[17:11:15] <pcwalton> it's not fully reviewed yet
[17:16:47] * Ms2ger prods SimonSapin 
[17:18:42] <lpy> jdm: there's only one possible response type for The `HitTestQuery` layout query, but what it returns is `Err(())` or `OK(HitTestQuery(node_address))`
[17:19:19] <jdm> lpy: ok, that's fine to leave in that case
[17:19:24] <lpy> so we may still need the match here :)
[17:19:42] <lpy> same as `MouseOverQuery` :)
[17:20:40] <jdm> got it
[17:20:57] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[17:20:57] <ghservo> [13rust-azure] 15metajack pushed 2 new commits to 06master: 02http://git.io/QrSgEQ
[17:20:58] <ghservo> 13rust-azure/06master 14d391bb6 15Lars Bergstrom: Produce dylib and rlib
[17:20:58] <ghservo> 13rust-azure/06master 14b9397e7 15Jack Moffitt: Merge pull request #77 from larsbergstrom/dylib...
[17:20:58] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[17:21:08] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:21:28] *** Joins: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP)
[17:21:28] <ghservo> [13rust-alert] 15metajack pushed 2 new commits to 06master: 02http://git.io/IK0eNg
[17:21:28] <ghservo> 13rust-alert/06master 143686742 15Lars Bergstrom: Produce dylib and rlib
[17:21:28] <ghservo> 13rust-alert/06master 1485be83a 15Jack Moffitt: Merge pull request #20 from larsbergstrom/dylib...
[17:21:28] *** Parts: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP) ()
[17:21:50] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[17:21:51] <ghservo> [13rust-freetype] 15metajack closed pull request #14: Produce dylib and rlib (06master...06dylib) 02http://git.io/ztfPWA
[17:21:51] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[17:22:14] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[17:22:14] <ghservo> [13rust-fontconfig] 15metajack closed pull request #10: Produce dylib and rlib (06master...06dylib) 02http://git.io/O0Vtpg
[17:22:14] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[17:22:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[17:23:44] *** Joins: Jayflux (Jason@moz-CF767DBE.ppp.as43234.net)
[17:27:29] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:28:18] *** Quits: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP) (Quit: Ex-Chat)
[17:28:44] *** Joins: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net)
[17:29:18] *** Quits: dranov (dranov@205F5EF4.DE411CAD.FB866788.IP) (Ping timeout)
[17:29:47] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[17:30:35] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[17:34:42] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[17:34:42] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/9enxPg
[17:34:42] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[17:34:44] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[17:34:44] <ghservo> [13servo] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/oiERHQ
[17:34:44] <ghservo> 13servo/06auto 14ac5a634 15lpy: Get rid of match statements in Layout queries.(fixes #2019)
[17:34:44] <ghservo> 13servo/06auto 14d4d6fcb 15lpy: Get rid of match statements in layout queries in script_task
[17:34:45] <ghservo> 13servo/06auto 140ee2173 15bors-servo: auto merge of #2022 : lpy/servo/issue2019, r=jdm...
[17:34:47] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[17:37:33] *** Joins: mccr8 (mccr8@moz-62518563.mtv2.mozilla.com)
[17:38:08] *** Quits: enos (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net) (Quit: enos)
[17:48:58] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[17:49:52] <jdm> oh ho ho
[17:50:18] <jdm> I can add an assign method to JS<T> which takes an Unrooted<T>
[17:50:32] <jdm> which will make it easier for assigning to fields of DOM types
[17:52:06] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[17:52:07] <ghservo> [13rust-cssparser] 15larsbergstrom opened pull request #41: Produce dylib and rlib (06master...06dylib) 02http://git.io/BWqhqA
[17:52:07] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[17:52:23] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[17:52:23] <ghservo> [13rust-egl] 15larsbergstrom opened pull request #4: Produce dylib and rlib (06master...06dylib) 02http://git.io/BlqXQg
[17:52:23] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[17:53:22] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[17:53:22] <ghservo> [13rust-geom] 15larsbergstrom opened pull request #27: Produce dylib and rlib (06master...06dylib) 02http://git.io/xktNeQ
[17:53:22] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[17:53:34] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[17:53:34] *** ChanServ sets mode: +o brson
[17:53:35] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Quit: brson)
[17:53:38] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[17:53:38] *** ChanServ sets mode: +o brson
[17:53:41] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[17:53:41] <ghservo> [13rust-glut] 15larsbergstrom opened pull request #37: Produce dylib and rlib (06master...06dylib) 02http://git.io/eT0Skw
[17:53:41] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[17:53:50] <jdm> or maybe I really want a JSMember type :(
[17:54:01] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[17:54:01] <ghservo> [13rust-harfbuzz] 15larsbergstrom opened pull request #16: Produce dylib and rlib (06master...06dylib) 02http://git.io/WQKj-Q
[17:54:01] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[17:54:04] <jdm> automatic type conversions would make this so much more pleasant
[17:54:12] <Ms2ger> Heresy!
[17:54:24] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[17:54:24] <ghservo> [13rust-hubbub] 15larsbergstrom opened pull request #17: Produce dylib and rlib (06master...06dylib) 02http://git.io/522yxw
[17:54:24] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[17:54:44] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[17:54:44] <ghservo> [13rust-layers] 15larsbergstrom opened pull request #50: Produce dylib and rlib (06master...06dylib) 02http://git.io/6GTBog
[17:54:44] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[17:55:04] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[17:55:04] <ghservo> [13rust-opengles] 15larsbergstrom opened pull request #75: Produce dylib and rlib (06master...06dylib) 02http://git.io/XbYiNQ
[17:55:04] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[17:55:25] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[17:55:26] <ghservo> [13rust-png] 15larsbergstrom opened pull request #27: Produce dylib and rlib (06master...06dylib) 02http://git.io/Trh_bQ
[17:55:26] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[17:55:41] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[17:55:41] <ghservo> [13sharegl] 15larsbergstrom opened pull request #23: Produce dylib and rlib (06master...06dylib) 02http://git.io/pTLtLQ
[17:55:41] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[17:56:00] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[17:56:00] <ghservo> [13rust-stb-image] 15larsbergstrom opened pull request #32: Produce dylib and rlib (06master...06dylib) 02http://git.io/MZT0cg
[17:56:00] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[17:59:04] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[17:59:04] <ghservo> [13rust-mozjs] 15larsbergstrom opened pull request #63: Android support (06master...06dylib) 02http://git.io/QJ-WYg
[17:59:04] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[17:59:14] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[17:59:14] *** eholk_ is now known as eholk
[18:01:11] <Ms2ger> larsberg, what's up with the duplicated code in glue.rs?
[18:01:21] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:01:57] <larsberg> Ms2ger: is there a better way to conditionally handle the link attribute difference between platforms on a shared extern block?
[18:02:17] <larsberg> Hrm, maybe I could leave the extern block and just have the link attributes on separate `extern {}` blocks...
[18:02:41] <larsberg> Lemme try that instead.
[18:03:22] * larsberg sort of misses having #ifdef-style preprocessor blocks, as sad as that sounds
[18:03:48] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[18:03:48] <ghservo> [13rust-cssparser] 15metajack pushed 2 new commits to 06master: 02http://git.io/jh7TVw
[18:03:48] <ghservo> 13rust-cssparser/06master 146e34e65 15Lars Bergstrom: Produce dylib and rlib
[18:03:48] <ghservo> 13rust-cssparser/06master 146a10862 15Jack Moffitt: Merge pull request #41 from larsbergstrom/dylib...
[18:03:49] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[18:05:01] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[18:05:01] <ghservo> [13rust-egl] 15metajack closed pull request #4: Produce dylib and rlib (06master...06dylib) 02http://git.io/BlqXQg
[18:05:01] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[18:06:09] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[18:06:09] <ghservo> [13servo] 15larsbergstrom opened pull request #2023: Android fixes for February Rust Upgrade (06master...06android_201404) 02http://git.io/sp-WYg
[18:06:09] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[18:06:41] <jdm> larsberg: for easy rust-mozjs merging, you'll want to cherry-pick https://github.com/mozilla/rust/commit/bf67783332ff9f9bdf40da2d9dff860964600420
[18:06:45] <jdm> mea culpa
[18:08:54] <larsberg> jdm: aha, ty. I'm hoping aydinkim and I can figure out the fontconfig issue and then I'll just rebase the changes on top of the *next* Rust upgrade ms2ger is working on
[18:09:12] <larsberg> I know that some of the other submodules have/will change, too...
[18:09:30] <Ms2ger> And then we look for a victim for the next rust upgrade, because mine is long out of date by now :)
[18:14:32] <larsberg> We should give the temporary IRC title of "Sisyphus" to whomever is on-duty for the current upgrade...
[18:14:49] *** Joins: enos (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net)
[18:15:03] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[18:15:03] <ghservo> [13rust-stb-image] 15metajack closed pull request #32: Produce dylib and rlib (06master...06dylib) 02http://git.io/MZT0cg
[18:15:03] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[18:15:03] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[18:15:03] <ghservo> [13rust-stb-image] 15metajack pushed 2 new commits to 06master: 02http://git.io/syAZRQ
[18:15:03] <ghservo> 13rust-stb-image/06master 14007dd99 15Lars Bergstrom: Produce dylib and rlib
[18:15:03] <ghservo> 13rust-stb-image/06master 14064e33d 15Jack Moffitt: Merge pull request #32 from larsbergstrom/dylib...
[18:15:04] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[18:16:09] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[18:16:09] <ghservo> [13sharegl] 15metajack pushed 2 new commits to 06master: 02http://git.io/gG397g
[18:16:09] <ghservo> 13sharegl/06master 14fc609a2 15Lars Bergstrom: Produce dylib and rlib
[18:16:09] <ghservo> 13sharegl/06master 14319be39 15Jack Moffitt: Merge pull request #23 from larsbergstrom/dylib...
[18:16:10] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[18:16:26] *** Quits: nszceta (nszceta@moz-1B78F8A4.wireless.pitt.edu) (Ping timeout)
[18:16:46] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Connection reset by peer)
[18:17:00] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[18:17:27] *** abinader_lunch is now known as abinader
[18:17:48] <larsberg> Ms2ger: OK, glue.rs should have much less ugly duplication now.
[18:18:18] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[18:18:18] <ghservo> [13rust-geom] 15metajack closed pull request #27: Produce dylib and rlib (06master...06dylib) 02http://git.io/xktNeQ
[18:18:18] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[18:18:42] *** Quits: enos (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net) (Quit: enos)
[18:19:03] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[18:19:03] <ghservo> [13rust-opengles] 15metajack pushed 2 new commits to 06master: 02http://git.io/rb_9DQ
[18:19:03] <ghservo> 13rust-opengles/06master 140b27d0f 15Lars Bergstrom: Produce dylib and rlib
[18:19:03] <ghservo> 13rust-opengles/06master 14ae9b6f1 15Jack Moffitt: Merge pull request #75 from larsbergstrom/dylib...
[18:19:03] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[18:19:48] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[18:19:48] <ghservo> [13rust-layers] 15metajack closed pull request #50: Produce dylib and rlib (06master...06dylib) 02http://git.io/6GTBog
[18:19:48] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[18:20:51] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[18:20:52] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[18:20:52] <ghservo> [13rust-hubbub] 15metajack pushed 2 new commits to 06master: 02http://git.io/bSG5fA
[18:20:52] <ghservo> 13rust-hubbub/06master 1481633ef 15Lars Bergstrom: Produce dylib and rlib
[18:20:52] <ghservo> 13rust-hubbub/06master 148030034 15Jack Moffitt: Merge pull request #17 from larsbergstrom/dylib...
[18:20:53] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[18:20:55] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[18:20:55] <ghservo> [13rust-hubbub] 15metajack closed pull request #17: Produce dylib and rlib (06master...06dylib) 02http://git.io/522yxw
[18:20:55] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[18:22:14] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[18:22:14] <ghservo> [13rust-harfbuzz] 15metajack pushed 2 new commits to 06master: 02http://git.io/Jsqkmw
[18:22:14] <ghservo> 13rust-harfbuzz/06master 14655c74a 15Lars Bergstrom: Produce dylib and rlib
[18:22:14] <ghservo> 13rust-harfbuzz/06master 149c2a78f 15Jack Moffitt: Merge pull request #16 from larsbergstrom/dylib...
[18:22:15] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[18:23:04] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[18:23:04] <ghservo> [13rust-glut] 15metajack pushed 2 new commits to 06master: 02http://git.io/zVFxJA
[18:23:04] <ghservo> 13rust-glut/06master 147003114 15Lars Bergstrom: Produce dylib and rlib
[18:23:05] <ghservo> 13rust-glut/06master 146050ecb 15Jack Moffitt: Merge pull request #37 from larsbergstrom/dylib...
[18:23:05] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[18:23:12] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:25:57] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:28:48] *** Joins: dherman (dherman@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:28:48] *** ChanServ sets mode: +qo dherman dherman
[18:30:51] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:31:12] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[18:32:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:34:58] *** Joins: Savago (Savago@504D6CF1.5315C0D2.4C2245EF.IP)
[18:35:09] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[18:36:45] *** Joins: enos (jkingyens@moz-D0C2FAC.public.wayport.net)
[18:37:16] *** Quits: Nekit1234007 (Nekit12340@C8B984F.40F9C55F.4707F662.IP) (Quit: )
[18:39:17] *** Quits: Savago (Savago@504D6CF1.5315C0D2.4C2245EF.IP) (Quit: Savago)
[18:39:38] *** Joins: Nekit1234007 (Nekit12340@C8B984F.40F9C55F.4707F662.IP)
[18:39:43] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:39:52] *** Joins: brendan (brendaneic@moz-62518563.mtv2.mozilla.com)
[18:45:34] *** Quits: enos (jkingyens@moz-D0C2FAC.public.wayport.net) (Ping timeout)
[18:48:18] *** Joins: crowbot (nodebot@moz-F5F7AC36.scl3.mozilla.com)
[18:48:33] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[18:48:38] <jdm> ok, I think I have worked out a sound rooting system: https://pastebin.mozilla.org/4743421
[18:49:49] *** Joins: bholley (bholley@B08EEEEB.6BBCE916.7B974E06.IP)
[18:51:15] <jdm> https://gist.github.com/jdm/9920531
[18:51:49] *** Joins: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP)
[18:53:15] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[18:53:54] *** Joins: alphonse23 (sean@A6D9FFFF.60DF7298.8588B1D7.IP)
[18:56:30] *** Joins: enos (jkingyens@moz-39013441.mycingular.net)
[18:57:00] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:57:00] *** ChanServ sets mode: +o pcwalton
[18:58:25] <Ms2ger> jdm, how much static vs dynamic soundness?
[18:58:37] <jdm> Ms2ger: it should all be statically sound
[18:58:42] <larsberg> +1
[18:58:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:00:06] <Ms2ger> jdm, &JSRef... Why not JSRef?
[19:00:26] <jdm> Ms2ger: those values can be moved, and that would be unsafe
[19:00:38] <Ms2ger> Ah
[19:00:39] <jdm> the reference limits JSRef values to the lifetime of the actual root
[19:00:47] <Ms2ger> Well
[19:01:10] <Ms2ger> struct JSRef<'a, T>(&'a JSRef2<T>)?
[19:01:10] *** Quits: enos (jkingyens@moz-39013441.mycingular.net) (Quit: enos)
[19:01:52] <jdm> Ms2ger: that doesn't allow for mutable JSRef2
[19:02:17] <SimonSapin> pcwalton: is the min/max-height change only for abspos elements?
[19:02:24] <Ms2ger> And the other question is what to use on the stack
[19:02:26] <Ms2ger> JS<>?
[19:02:30] <pcwalton> SimonSapin: I don't recall
[19:02:36] <SimonSapin> looks like it
[19:02:41] <pcwalton> ok
[19:02:48] <jdm> Ms2ger: nope. &JSRef as well
[19:03:00] <jdm> Ms2ger: we transition to implementing our traits on JSRef instead of JS
[19:03:20] <jdm> so every type involved in DOM method calls will always be safely rooted for the duration of the method
[19:03:34] <Ms2ger> Huh?
[19:03:41] <jdm> stack values will start as Unrooted<T>, and if you want to interact with them in any way you need to root them
[19:04:00] <Ms2ger> Oh
[19:04:22] <Ms2ger> So let x: Unrooted<Node> = ...; x.root().owner_doc()?
[19:04:55] <jdm> probably slightly more verbose
[19:05:01] <jdm> let x = x.root(&roots);
[19:05:12] <jdm> let doc = x.root_ref().owner_doc();
[19:05:23] <Ms2ger> impl Deref, please? :)
[19:05:26] <jdm> and then doc is Unrooted<Document>
[19:05:35] <jdm> oh, that's a clever idea
[19:06:02] <jdm> for simple expressions like that it will be an improvement, yeah
[19:06:03] <Ms2ger> Thank you, kind sir :)
[19:06:15] <jdm> oh man, I bet that would work for arguments too
[19:06:20] <jdm> call_something(*x)
[19:06:26] <jdm> that would be \m/
[19:08:48] <larsberg> jdm: are there any weird cases, like getting two different Unrooted pointers (i.e., via following child and sibling pointers in the DOM to the same element) and now getting into weird places where you have to refcount the number of times a given pointer was Rooted? Or is that all either not possible or handled under the hood?
[19:09:05] <jdm> larsberg: roots are additive, so that's not a problem.
[19:09:28] <jdm> that pointer will now be SUPER ROOTED
[19:09:28] <larsberg> excellent
[19:09:29] <Ms2ger> Rooted-style roots, I guess
[19:15:18] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:15:27] <pcwalton> SimonSapin: are you working on the rest of the acid2 review?
[19:16:02] <SimonSapin> pcwalton: on "Take `min-height` and `max-height` into account" right now
[19:16:13] <pcwalton> cool, thanks!
[19:16:44] <SimonSapin> I filed an issue on the commit message :)
[19:16:56] <abinader> Ms2ger: have a few mins? :-)
[19:17:15] <Ms2ger> abinader, can I ping you in ten minutes or so?
[19:17:20] <abinader> Ms2ger: sure!
[19:18:34] *** zz_kimundi is now known as kimundi
[19:18:52] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[19:19:36] <Ms2ger> Okay, ta
[19:24:24] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[19:24:24] <ghservo> [13rust-png] 15metajack pushed 2 new commits to 06master: 02http://git.io/yJSB9Q
[19:24:24] <ghservo> 13rust-png/06master 14a727644 15Lars Bergstrom: Produce dylib and rlib
[19:24:24] <ghservo> 13rust-png/06master 144891b38 15Jack Moffitt: Merge pull request #27 from larsbergstrom/dylib...
[19:24:24] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[19:24:53] *** catlee-afk is now known as catlee
[19:26:46] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:27:34] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[19:27:34] <ghservo> [13rust-mozjs] 15jdm pushed 3 new commits to 06master: 02http://git.io/-0H65A
[19:27:34] <ghservo> 13rust-mozjs/06master 14928351e 15Lars Bergstrom: Produce dylib and rlib
[19:27:34] <ghservo> 13rust-mozjs/06master 144da979f 15Lars Bergstrom: Support for Android
[19:27:34] <ghservo> 13rust-mozjs/06master 14516d5e0 15Josh Matthews: Merge pull request #63 from larsbergstrom/dylib...
[19:27:36] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[19:28:07] <jack> larsberg: we really need -lgcc and -lstdc++?
[19:29:04] <larsberg> jack: yup. Rust ends up emitting dynamic references to symbols defined in those libraries without bothering to add actually link against them.
[19:29:12] * larsberg needs to make a bunch of examples and open issues for acrichto
[19:31:07] <larsberg> When your loader is blind and stupid you get to stumble through a lot of interesting edge cases :-)
[19:31:50] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[19:31:51] <ghservo> [13servo] 15bors-servo 04force-pushed 06auto from 140ee2173 to 141c8ad2c: 02http://git.io/c8GovQ
[19:31:51] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[19:33:48] <Ms2ger> larsberg, apparently it worked for jdm :)
[19:33:55] <Ms2ger> abinader, okay, all yours
[19:34:43] <abinader> Ms2ger: right - about DOMTokenList - so you say us to split only when setting, right?
[19:35:06] <Ms2ger> Well, so
[19:36:18] <Ms2ger> I've been thinking of making Attr store something like nsAttrValue in Gecko
[19:36:20] <Ms2ger> https://mxr.mozilla.org/mozilla-central/source/content/base/src/nsAttrValue.h
[19:37:13] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[19:37:39] <abinader> lemme check
[19:37:57] <Ms2ger> Basically, something like enum Value { PlainValue(DOMString), TokenList(~[DOMString]), Uint(u32), ... }
[19:40:02] <abinader> right
[19:40:03] <jdm> oho
[19:40:22] <Ms2ger> oho of support or oho of disgust?
[19:40:43] <abinader> Ms2ger: where would these be stored? inside Element.attrs, I guess?
[19:41:02] <Ms2ger> I was thinking inside the Attr object for simplicity
[19:41:04] <jdm> support
[19:41:14] <abinader> yes
[19:42:36] <abinader> so basically what we need is to make Attr struct have a Value enum member instead of DOMString as currently is
[19:42:54] <Ms2ger> Yep
[19:43:00] *** Joins: hoverbea_ (hoverbear@moz-7419A5C4.eduroam.wireless.uvic.ca)
[19:43:10] <Ms2ger> Servo memes is on a roll
[19:43:24] <zwarich> servomemes > mozillamemes
[19:43:44] *** Quits: hoverbear (hoverbear@moz-5C0A12C2.wireless.uvic.ca) (Ping timeout)
[19:44:20] <Ms2ger> It was funny at the start, but died out a bit
[19:44:35] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:45:04] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[19:45:06] <abinader> Ms2ger: on a side note: so every DOMTokenList already have a ref to the Element of his - so I guess a direct ref to the TokenList attr is not necessary?
[19:45:11] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:45:17] <zwarich> webkitmemes is probably the best browser memes tumblr, though
[19:45:27] <Ms2ger> abinader, hmm
[19:45:41] <Ms2ger> abinader, what for?
[19:45:53] <abinader> zwarich: on a broader scope (involving specs), i'd definitely vote on w3cmemes :D
[19:46:10] * Ms2ger wonders if Attr#value is writable, and if it should be
[19:46:22] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[19:46:43] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:47:05] <Ms2ger> Answer: yes, yes, crap we're broken
[19:47:18] <abinader> Ms2ger: to make DOMTokenList live, I think we'd need the same kinds of tools we planned for HTMLCollection - either have a ref to the object we're using or being updated by signals
[19:48:28] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:48:43] *** Quits: jackneill (jackneill@moz-782B761E.pool.digikabel.hu) (Quit: WeeChat 0.4.3)
[19:48:54] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[19:49:19] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[19:49:19] <ghservo> [13servo] 15brunoabinader opened issue #2024: Implement support for AttrValue enum, following Gecko's design 02http://git.io/smMJpg
[19:49:19] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[19:49:38] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:49:56] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[19:49:56] <ghservo> [13servo] 15Ms2ger opened issue #2025: Make sure to call before_remove_attribute and after_set_attribute when setting Attr#value 02http://git.io/zsmaeg
[19:49:56] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[19:50:26] <Ms2ger> Okay, back
[19:51:06] <abinader> Ms2ger: I've created an issue for implementing the AttrValue enum ^
[19:51:22] <Ms2ger> abinader, what I was thinking here is that we update the value in the Attr struct when its changed (as we'd usually do), and the DOMTokenList would just have a pointer to the Attr
[19:51:24] <Ms2ger> Ta
[19:51:59] *** Quits: evilpie (sid7877@moz-E77DEB21.irccloud.com) (Ping timeout)
[19:51:59] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Ping timeout)
[19:51:59] *** Quits: sawrubh (sid6719@moz-5F4AA75A.irccloud.com) (Ping timeout)
[19:52:19] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[19:52:22] *** Joins: evilpie (sid7877@moz-E77DEB21.irccloud.com)
[19:52:24] <abinader> Ms2ger: okay, so DOMTokenList would have a pointer to Attr directly, yep sounds good
[19:52:30] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:52:31] *** Joins: sawrubh (sid6719@moz-5F4AA75A.irccloud.com)
[19:52:50] <Ms2ger> I think that'd work
[19:53:03] <abinader> Ms2ger: I can try that design and see how it goes
[19:53:30] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:54:00] <Ms2ger> That'd be nice :)
[19:54:02] <abinader> Ms2ger: I'll update 'element-classlist' branch as it goes
[19:54:30] <Ms2ger> One other thing...
[19:54:36] <abinader> yep
[19:55:16] <Ms2ger> When you do element.setAttribute("class", "   b  a"), we need to be able to return that string, with spaces intact, from getAttribute
[19:55:34] <SimonSapin> pcwalton: re min/max-height: the code looks right but there are some misunderstandings in the comments and naming
[19:55:42] <pcwalton> ok
[19:55:50] <Ms2ger> So we'll probably need to make it more like TokenList(~[DOMString], DOMString or Option<DOMString)
[19:55:52] <pcwalton> that's good to hear :)
[19:55:58] <Ms2ger> *>)
[19:56:13] <abinader> Ms2ger: hmm, I see
[19:56:40] <Ms2ger> Fun, eh, specs :)
[19:57:01] <abinader> Ms2ger: the former seems better :-)
[19:57:15] <Ms2ger> It's definitely easier
[19:57:55] <Ms2ger> But it uses more memory in the case that we can serialize perfectly, like when we change the value through the DOMTokenList APIs
[19:58:04] <Ms2ger> Maybe we shouldn't care about that yet, though
[19:58:45] <jdm> theoretically we can still store TokenList(~[DOMString]) and recreate the original if we don't mind empty entries in the list
[19:58:55] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[19:58:55] <ghservo> [13servo] 15bors-servo closed issue #2019: Layout queries do not need to be in match statements 02http://git.io/5emg7Q
[19:58:55] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[19:58:56] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[19:58:56] <ghservo> [13servo] 15bors-servo closed pull request #2022: Get rid of match statements in Layout queries.(fixes #2019) (06master...06issue2019) 02http://git.io/wRMBWw
[19:58:56] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[19:58:57] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[19:58:58] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/1YzbrA
[19:58:58] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[19:59:04] *** Joins: enos (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net)
[19:59:04] <jdm> ["", "", "", "b", "", "a"]
[19:59:46] <abinader> jdm: I guess split(' ') doesn't do that currently
[19:59:57] <jdm> huh, really?
[20:00:02] <abinader> lemme try
[20:00:11] <jdm> that seems like something that should be explicit if it doesn't
[20:00:40] <abinader> oh
[20:00:42] <abinader> it does! :D
[20:00:43] <Ms2ger> jdm, not really
[20:00:54] <Ms2ger> jdm, "a\tb"
[20:01:00] <jdm> oh
[20:01:04] <jdm> boo
[20:01:32] <Ms2ger> And I suspect having empty entries would complicate things
[20:01:34] <abinader> yes - there's an issue open for that https://github.com/mozilla/servo/issues/1840
[20:01:35] <crowbot> Issue #1840: Support for ASCII whitespace check - https://github.com/mozilla/servo/issues/1840
[20:02:42] <abinader> on a side note: is it possible to store a ref to a position inside a str?
[20:03:29] <jdm> that's a &str slice
[20:03:31] <abinader> if that's possible, we could use a simple DOMString and store refs to the start position of each class
[20:04:23] <Ms2ger> Mm, indeed
[20:04:32] * Ms2ger wonders how to express that
[20:05:03] <jdm> http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html#tymethod.slice
[20:05:05] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[20:05:22] <Ms2ger> Yes
[20:05:31] <Ms2ger> But how will the enum variant look?
[20:05:46] <abinader> we'd only need to store the begin and end positions of each
[20:06:05] <abinader> so something like TokenList(DOMString, ~[(uint, uint)]) ?
[20:06:10] <Ms2ger> That's another option, yes
[20:07:05] <jdm> I guess the other would be TokenList<'a>(DOMString, ~[&'a str])
[20:07:12] <jdm> and that would infect Attr
[20:07:16] <jdm> and that could be messy
[20:08:57] <abinader> jdm: yep, and the former involves recalculating being,end positions each time the DOMString changes
[20:09:14] <jdm> pretty sure that's true regardless
[20:09:58] <Ms2ger> Mm
[20:10:12] <Ms2ger> Changing the string does sound painful wrt lifetimes
[20:11:16] <Ms2ger> Because you'd basically need to know statically that the vector is empty when you change the string
[20:11:32] <Ms2ger> So, yeah, let's go with (uint, uint)
[20:11:49] *** Quits: Nekit1234007 (Nekit12340@C8B984F.40F9C55F.4707F662.IP) (Quit: )
[20:12:46] <abinader> sounds good
[20:13:56] *** Quits: hoverbea_ (hoverbear@moz-7419A5C4.eduroam.wireless.uvic.ca) (Ping timeout)
[20:14:42] *** Joins: hoverbear (hoverbear@moz-3A76492D.wireless.uvic.ca)
[20:14:53] <mbrubeck> aha!  servo builds so much faster on my laptop now that I got cpufreq working correctly.  :/
[20:15:15] <Ms2ger> Heh
[20:15:27] <zwarich> just when I'm thinking of switching to Linux
[20:16:01] <larsberg> mbrubeck: what was wrong? I wasn't even aware that was something one could have misconfigured... was power management continuously dynamic scaling you back or something?
[20:16:10] <strcat> the defaults are fine ;p, the kernel doesn't actually do cpu frequency scaling anymore on modern intel chips
[20:16:21] <strcat> some silly distros like patching everything though
[20:16:33] <mbrubeck> larsberg: I didn't have cpufrequtils installed, and apparently all CPUs were stuck on the *lowest* frequency!
[20:16:48] <strcat> which distro is that?
[20:16:52] <mbrubeck> Debian
[20:16:54] <strcat> they choose the default governor
[20:16:55] <Ms2ger> Ha
[20:16:56] <abinader> ouch!
[20:17:03] <larsberg> lol
[20:17:09] <mbrubeck> Anyway, everything on my computer is now ~2x faster.  :)
[20:17:34] <strcat> ondemand saves more power than leaving it on low anyway ;s
[20:17:37] <abinader> mbrubeck: and heating more, I guess :D
[20:19:13] <Ms2ger> abinader, you know, on my previous laptop, I was much more productive in winter...
[20:19:19] <jdm> heh
[20:19:27] <Ms2ger> In summer, it would overheat and shutdown while compiling
[20:20:05] <zwarich> I killed a laptop due to linking WebCore during a heatwave
[20:20:22] <abinader> lol, you should visit Manaus then, Ms2ger :)
[20:20:39] <abinader> most of the times, I can only work with A/C on
[20:21:10] <abinader> zwarich: +1 ! not the whole laptop, just my RAM cards
[20:21:21] <Ms2ger> I'll come and crash on your couch at one point, then ;)
[20:21:31] <abinader> tons of bad blacks due to heat
[20:21:56] <abinader> Ms2ger: feel welcome! I guess I'll ad my sofa on airbnb for anyone coming for the world cup games
[20:22:12] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[20:22:27] <Ms2ger> "bad blacks", eh... I'm going to assume that's not some racist reference ;)
[20:22:27] <Manishearth> yes, an explanation of Vec vs [] :D
[20:22:35] <strcat> mbrubeck: I find it a bit amusing that debian still has cpufrequtils since it was dead/gone a year or two ago
[20:22:36] <abinader> argh
[20:22:38] <abinader> sorry, bad blocks
[20:22:39] <larsberg> abinader: Manaus, Brazil, huh? maybe I should talk to jack about it as another workweek location. We got nix'd on Hawaii and Vegas :-)
[20:22:46] <mbrubeck> Ms2ger: I'm happy to wait and rebase #1984 on top of the next (?) rust upgrade.
[20:22:46] <crowbot> Issue #1984: Move inline stylesheet parsing out of HTML parser. - https://github.com/mozilla/servo/pull/1984
[20:23:00] <Ms2ger> mbrubeck, I'm hopeful it'll land this week :)
[20:23:01] <abinader> larsberg: sounds like fun! :D
[20:23:10] <strcat> yeah, it died in 2011
[20:23:13] <abinader> larsberg: plenty to see around here
[20:23:22] <mbrubeck> Ms2ger: cool
[20:23:35] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[20:24:00] <Ms2ger> abinader, no way I'm going to hang out there during bug sporting events :)
[20:24:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:25:02] <abinader> Ms2ger: I can't imagine how crazy this town will become
[20:25:03] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:27:34] <abinader> larsberg: on a side note: usually takes only one stop from SFO to MAO in MIA :-) ~15h trip
[20:27:55] <SimonSapin> pcwalton: wrote a huge comment on https://critic.hoppipolla.co.uk/1de85f02?review=1120
[20:29:59] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: brb)
[20:30:00] <Ms2ger> abinader, at least two from here, it seems
[20:30:24] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[20:30:25] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[20:30:31] <Ms2ger> Or one + train
[20:31:04] *** Joins: victorporof (victorporo@moz-1C281963.dsl.bell.ca)
[20:31:09] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:31:21] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:31:31] <abinader> Ms2ger: you once said you were based in Europe, right? so yes, that's true at least until June, there'll be a direct flight from Lisbon to Manaus
[20:31:32] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:31:50] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[20:32:12] <Manishearth> Ms2ger: btw, is the insensitive PR addressed? https://critic.hoppipolla.co.uk/r/1093
[20:32:16] <Manishearth> should I rebase?
[20:32:32] <Ms2ger> Manishearth, haven't had time to think about it
[20:32:43] <Manishearth> K, np
[20:33:08] <Manishearth> I haven't had time to pick up anything else. Hopefully I'll be able to do wpt tomorrow
[20:33:21] <SimonSapin> Ms2ger: one down, two more to go https://critic.hoppipolla.co.uk/r/1120
[20:35:23] *** elan is now known as elan-afk
[20:38:19] <abinader> Ms2ger: one more question :D I've just tested this on Gecko: 1) created an element, 2) set its className to "   foo bar", 3) used classList.toggle("foo") to remove the "foo" class, 4) className now returns "bar" - is that correct behavior (removing the initial three whitespaces)?
[20:38:50] <Ms2ger> What does the spec say? :)
[20:39:07] <Ms2ger> (I actually think the spec was changed to do even more normalizing)
[20:39:30] <abinader> hehe, if I got it right the spec says to only toggle the affected token
[20:40:13] <pcwalton> SimonSapin: great, thanks!
[20:42:14] *** Joins: pauls (pauls@moz-BFEF1F22.ccs.neu.edu)
[20:42:23] <Ms2ger> abinader, http://dom.spec.whatwg.org/#concept-dtl-update
[20:42:34] <Ms2ger> abinader, http://dom.spec.whatwg.org/#concept-ordered-set-serializer does the normalizing
[20:43:24] <abinader> Ms2ger: right, indeed
[20:44:11] *** Joins: Nekit1234007 (Nekit12340@C8B984F.40F9C55F.4707F662.IP)
[20:45:11] <abinader> spec-wise, I wonder why Element.className doesn't sanitize itself already on setter
[20:45:38] *** Joins: Nekit1234007_ (Nekit12340@3126F0EA.D0169432.4707F662.IP)
[20:45:55] <jdm> Ms2ger: looks like deref won't work :/
[20:46:03] *** Quits: Nekit1234007 (Nekit12340@C8B984F.40F9C55F.4707F662.IP) (Ping timeout)
[20:46:20] <jdm> we can't create a JSRef object that outlives the actual Deref call, and it needs to return a reference
[20:46:53] <Ms2ger> Where's eddyb when you need him
[20:47:04] <jdm> actually, I wonder if Root<T> should just contain a JSRef<T> which it hands out references to...
[20:47:08] <jdm> that might work
[20:47:15] *** Quits: Nekit1234007_ (Nekit12340@3126F0EA.D0169432.4707F662.IP) (Quit: )
[20:47:23] *** Joins: Nekit1234007 (Nekit12340@3126F0EA.D0169432.4707F662.IP)
[20:47:25] <Ms2ger> Mm
[20:47:38] <Ms2ger> On an unrelated note
[20:47:40] * Ms2ger prods jack 
[20:48:13] <Manishearth> Ms2ger: uh, oops, I rebased and pushed it. Wanted to test, forgot that I shouldn't push a rebase
[20:48:38] <Ms2ger> Manishearth, np, I'd probably have rereviewed anyway
[20:49:27] <Manishearth> jgraham: Btw, in the virtualenv wptserve thing, what we want is a make target as part of the setup that creates an (empty for now) venv, and a second dummy target that sources the venv?
[20:49:32] <Manishearth> or something else
[20:49:47] <Ms2ger> Manishearth, did you see the email he sent out, btw?
[20:49:52] <Manishearth> i guess it should check for the existence of the virtualenv frst. 
[20:50:01] <Manishearth> about? nope, no email.
[20:50:14] <Manishearth> I'm not on any mailing list. I *think* I applied, but I don't think it was approved
[20:50:27] <jack> Ms2ger: what did i miss?
[20:50:51] <jgraham> Manishearth: http://lists.w3.org/Archives/Public/public-test-infra/2014AprJun/0000.html
[20:51:00] <Ms2ger> jack, just wondering if you need anything from me for internshipish things right now
[20:51:14] <jgraham> Manishearth: Asking me about make is not a great way to achieve things
[20:51:29] <jgraham> (note that Servo support is surrently broken, but I will fix that)
[20:51:38] <Manishearth> jgraham: heh. I can figure that part out, I just want to know what the final product needs to be
[20:51:47] <jgraham> (it's only broken in a trivial way)
[20:51:50] <Manishearth> ah right, so the venv should pip install wptrunner on setup
[20:52:12] <jgraham> Yeah that's one way to do it
[20:52:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:52:35] <jgraham> build infrastructure can only pip install from some internal PyPI mirror though
[20:52:44] <Manishearth> gah
[20:52:46] <jgraham> in gecko it all runs from the tree
[20:52:58] <Manishearth> What if we just submodule wptruner?
[20:53:06] <jgraham> It's in m-c
[20:53:11] <jgraham> So that's not too easy
[20:53:19] <Manishearth> *glares at mercurial*
[20:53:26] <jgraham> Maybe it shouldn't beâ€¦
[20:54:09] <Manishearth> we can mirror it like gecko-dev i guess
[20:54:09] <Ms2ger> Move it back to github, with mozbase
[20:54:18] <Manishearth> that way the build system has it easy
[20:55:18] <Manishearth> Tomorrow i'll try to get virtualenv up
[20:56:02] <jgraham> Ms2ger: I'll let you tell ahal that ;)
[20:56:47] <Ms2ger> I'll drop jhammel an email and ask him to propose it
[20:58:23] <ahal> you can also download it from hgweb, either recursively or using svn export and gecko-dev on github
[20:59:04] <Ms2ger> Oh dammit, he's here
[20:59:27] <ahal> or.. just report to treeherder and not care about the external network requirement :)
[20:59:48] <Ms2ger> Treeherder? We use buildbot directly
[20:59:51] <jgraham> The build machines care though
[20:59:53] <jgraham> Although
[20:59:57] <jgraham> That isn't going to scale
[21:00:17] <ahal> jgraham: remember that gaia branch that jeads demoed on treeherder?
[21:00:20] <ahal> that's not using buildbot
[21:00:40] <Ms2ger> We're in the opposite situation right now
[21:03:26] <jgraham> Yeah, Servo only has buildbot and all the tests are run as part of the build 
[21:03:37] <jgraham> It's not going to work in the long term
[21:03:59] *** Quits: Loudergood (quassel@moz-78A0CE2E.hsd1.vt.comcast.net) (Client exited)
[21:04:04] <Manishearth> jgraham: should the venv be setup at build time or make check time?
[21:04:23] <Manishearth> because afaict this is rather easy, just need to figure out which makefile it goes into
[21:05:09] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[21:05:31] <jgraham> Manishearth: If you just pip install it there, make check I think
[21:05:42] <jgraham> This doesn't interact with the build itself in any way
[21:05:58] <Manishearth> alright, thanks
[21:06:03] *** Joins: Loudergood (quassel@moz-78A0CE2E.hsd1.vt.comcast.net)
[21:06:39] *** Quits: Ms2ger (Ms2ger@moz-98421F60.adsl-dyn.isp.belgacom.be) (Ping timeout)
[21:08:32] <pcwalton> SimonSapin: comments addressed on {min,max}-height
[21:08:57] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Input/output error)
[21:09:56] *** Joins: Ms2ger (Ms2ger@moz-98421F60.adsl-dyn.isp.belgacom.be)
[21:11:07] *** bhearsum is now known as bhearsum|afk
[21:11:57] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[21:13:39] <Manishearth> Ms2ger: I just added a make target, any way to rebuild the makefile without having to run the full configure business?
[21:13:48] <Ms2ger> Not sure
[21:14:47] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[21:14:47] <ghservo> [13servo] 15mbrubeck opened issue #2026: Add a textContent getter for Element that returns a bare string 02http://git.io/gQKazQ
[21:14:47] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[21:15:58] <jdm> Manishearth: you can mark the build makefile writeable and copy over your changes :)
[21:16:10] *** Quits: victorporof (victorporo@moz-1C281963.dsl.bell.ca) (Ping timeout)
[21:16:36] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:16:46] <Manishearth> jdm: yeah, that would work, but I was unsure if automake does anything other than appending makefiles to one another
[21:17:02] <jdm> it hasn't broken me in the past
[21:17:09] <Manishearth> great, thanks :)
[21:17:29] <Manishearth> -_- configure, integers do exist on my system. Get on with it!
[21:17:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:17:56] *** Joins: victorporof (victorporo@moz-1C281963.dsl.bell.ca)
[21:17:57] <Ms2ger> Manishearth, are you sure? :)
[21:18:02] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[21:18:30] <jdm> maybe something has changed since the last time it checked!
[21:19:53] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[21:21:49] <Manishearth> jdm: Why does it need to check for things like valgrind anyway? (valgrind doesn't exist here -- what would it do if it did exist?)
[21:21:56] <Manishearth> here = my system
[21:22:09] <mbrubeck> Basic Rust question...  We have an invariant that `elem.node.type_id` matches `ElementNodeTypeId(_)` if `elem` is an `Element`.  But is that enforced statically?
[21:23:24] <kmc> doubtful
[21:24:11] *** Quits: bholley (bholley@B08EEEEB.6BBCE916.7B974E06.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:25:43] <Ms2ger> mbrubeck, no
[21:25:44] <mbrubeck> So for example, anyone could move the element to mutable owner, and then reassign its `node` field to some inappropriate value -- we trust tests and code review to prevent this (rather than the compiler), right?
[21:25:54] <kmc> the completely unoptimized tokenizer takes 182 ms to tokenize all of webapps.html (some 5.3 MB)
[21:26:07] <Ms2ger> mbrubeck, the id should probably be private
[21:26:09] *** Joins: dranov (dranov@64A37C3E.5ABDACB1.FB866788.IP)
[21:26:09] <kmc> this is a lot faster than I expected, but still probably too slow
[21:26:25] <Ms2ger> mbrubeck, but yes, we tend to trust review on that
[21:26:27] <kmc> also I started writing up some notes about the parser design here  https://github.com/kmcallister/html5/wiki/Design  cc larsberg
[21:28:21] <larsberg> kmc: do you know how long it takes our current tokenizer? (or more interestingly gecko, if that's not a big challenge to get) Just for orders-of-magnitude comparison
[21:28:26] <Manishearth> jgraham: any preferences as to where the virtual env should be?
[21:28:35] <mbrubeck> Ms2ger: The Element::node field would need to be private too, to protect that invariant.
[21:28:36] <Manishearth> Currently I've just dropped it into build/
[21:29:06] <jgraham> Manishearth: build/_virtualenv would be geckoish
[21:29:26] <Ms2ger> mbrubeck, it should be, yes... There's an issue for that
[21:29:31] <Manishearth> that works for me
[21:29:32] <mbrubeck> oh, cool
[21:30:04] * Ms2ger wishes rust had const members
[21:30:13] <kmc> larsberg: no; I was thinking of measuring that next
[21:30:31] *** Joins: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net)
[21:30:33] <larsberg> a whole lot of the world's about to become private-by-default, which will force us to revisit a lot of our struct members' visibilities...
[21:33:00] <Ms2ger> Yeah
[21:33:21] <mbrubeck> Ms2ger, jdm: Are #1586 and #1731 duplicates, or are they talking about different things?
[21:33:21] <crowbot> Issue #1731: Consider making DOM parent members private - https://github.com/mozilla/servo/issues/1731
[21:33:21] <crowbot> Issue #1586: Make changing the node tree private. - https://github.com/mozilla/servo/pull/1586
[21:33:22] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[21:33:22] <ghservo> [13servo] 15SimonSapin closed issue #1784: Implement `background-position` 02http://git.io/bubTBg
[21:33:22] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[21:33:43] <Ms2ger> mbrubeck, different things
[21:34:05] <Ms2ger> #1731 is superclass-emulation-members, #1586 is parentNode/firstChild/...
[21:34:05] <crowbot> Issue #1731: Consider making DOM parent members private - https://github.com/mozilla/servo/issues/1731
[21:34:05] <crowbot> Issue #1586: Make changing the node tree private. - https://github.com/mozilla/servo/pull/1586
[21:34:11] <Ms2ger> Shut up crowbot 
[21:34:44] <Manishearth> jgraham:  how's this then? https://github.com/Manishearth/servo/commit/a50dda8c374a83f724922486876f17bafb714a51
[21:34:47] <Fiora> kmc: with the whole utf-16 discussion you linked to, are 'surrogates' basically escape values for things that don't fit in 16-bit?
[21:34:56] <mbrubeck> larsberg: Ah, good.  Private-by-default seems good for safety, given how much extra reasoning I just had to do because of these fields being unnecessarily public.
[21:35:00] <Manishearth> I haven't hooked up the make target anywhere ele though
[21:35:01] <Ms2ger> Fiora, yes
[21:35:12] <strcat> #1731 #1731
[21:35:13] <crowbot> Issue #1731: Consider making DOM parent members private - https://github.com/mozilla/servo/issues/1731
[21:35:13] <crowbot> Issue #1731: Consider making DOM parent members private - https://github.com/mozilla/servo/issues/1731
[21:35:15] <strcat> heh
[21:35:15] <Fiora> the comment about "UTF-8 
[21:35:19] <Fiora> without the artificial restriction of not encoding surrogates" confuses me though
[21:35:21] <Manishearth> You have to explicitly run make check-wpt and make clean-wpt, neither are automatically run
[21:35:26] <Fiora> because doesn't utf-8 have a lot of escape values too?
[21:35:29] <strcat> Ms2ger: just be glad there aren't multiple bots
[21:35:35] <Ms2ger> Fiora, well
[21:35:37] <strcat> because it's not using notify
[21:35:43] <strcat> so it could accidentally loop
[21:36:11] <Ms2ger> Fiora, if you want a code point that doesn't fit in one 16-bit value in UTF-16, you use two surrogates next to each other
[21:36:23] <Ms2ger> Fiora, the trouble is when you have one of those on its own
[21:36:25] <Manishearth> jgraham: how will wptrunner be run? (I don't know how to connect it to servo, so I can't test this).
[21:37:07] *** Joins: bholley (bholley@B08EEEEB.6BBCE916.7B974E06.IP)
[21:37:17] <strcat> Fiora: valid UTF-16 only uses surrogates as part of the encoding, and UTF-8/Unicode standards forbid them from occurring normally
[21:37:37] <jgraham> Manishearth: pip install at least is idempotent (more or less), so it shouldn't only be run if the directory doesn't exist
[21:37:37] * Ms2ger doubts he explained that clearly
[21:37:46] <strcat> but stuff that's UCS2 (javascript, NTFS + most of windows) isn't guaranteed to be valid UTF-16 (as it allows invalid uses of surrogates)
[21:38:06] <Manishearth> jgraham: ah, I'll fix that. I guess python -m "wptrunner" or shomething should work
[21:38:30] <jgraham> Manishearth: Did you see the email I posted before? That has basic instructions for pulling the tests
[21:38:54] <Manishearth> oh, oops, I ran it the wrong way around
[21:39:05] <jgraham> Manishearth: But for servo you want to run with --product=servo and the right binary
[21:39:13] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[21:39:13] <Manishearth> oh right, forgot
[21:39:19] <jgraham> We will also need to select a subset of tests and generate some expectation data
[21:39:28] <jgraham> I'm not sure how best to do that, really
[21:42:09] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[21:42:18] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:43:31] <Manishearth> jgraham: so where is runtests.py? Or is it not made yet?
[21:44:05] <jgraham> Manishearth: runtests.py is in _virtualenv/bin once you install
[21:45:18] <Manishearth> ah, thanks
[21:49:20] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[21:53:38] *** Quits: bholley (bholley@B08EEEEB.6BBCE916.7B974E06.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:55:39] *** Joins: hoverbea_ (hoverbear@moz-3A76492D.wireless.uvic.ca)
[21:55:54] *** Quits: hoverbear (hoverbear@moz-3A76492D.wireless.uvic.ca) (Ping timeout)
[21:59:49] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[22:01:31] *** Quits: mccr8 (mccr8@moz-62518563.mtv2.mozilla.com) (Connection reset by peer)
[22:01:44] *** Joins: mccr8 (mccr8@moz-62518563.mtv2.mozilla.com)
[22:02:31] <Manishearth> jgraham: calling update.py gives this error: abort: no repository found in '/home/muon/Desktop/Programming/Mozilla/voser/build' (.hg not found)!
[22:02:41] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:03:29] <Manishearth> nvm, my bad
[22:03:52] <Fiora> Ms2ger / strcat: ahhh, so a "surrogate" is the *way* you encode an escape value
[22:03:57] <Fiora> and utf-16 uses them to encode escapes
[22:03:58] *** Quits: dranov (dranov@64A37C3E.5ABDACB1.FB866788.IP) (Ping timeout)
[22:04:05] <Fiora> and utf-8 has code space for them, but doesn't allow them, since it doesn't use them?
[22:04:08] <Fiora> (is that right?)
[22:04:10] <strcat> Fiora: I don't know what you mean by escapes
[22:04:19] <Fiora> values that don't fit in the 16-bit codespace, right?
[22:04:25] <strcat> Fiora: yes
[22:04:56] <Fiora> and so the evil thing is if you have one surrogate sitting around for no good reason?
[22:05:06] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[22:05:16] <strcat> utf-8 was designed to encode up to 32-bit (up to 6 byte sequences), and then artificially limited to the max unicode value in later standards (under 21-bit / up to 4 byte sequences)
[22:05:29] <strcat> Fiora: yes that's invalid UTF-16
[22:05:36] <strcat> Fiora: there are other ways it can be invalid
[22:06:07] <strcat> Fiora: surrogates are code points, but unicode scalar values (what rust calls a char) are the code points *excluding* surrogates
[22:06:15] <strcat> and UTF-8/UTF-32 forbid having any
[22:06:24] *** Quits: elan-afk (elancaster@moz-16672D29.hsd1.ca.comcast.net) (Quit: elan-afk)
[22:06:25] <strcat> UTF-16 forbids any that are not used as part of the encoding
[22:06:26] *** Quits: brendan (brendaneic@moz-62518563.mtv2.mozilla.com) (Quit: brendan)
[22:06:46] <kmc> the 16-bit codespace is the Basic Multilingual Plane or BMP for short
[22:06:57] <strcat> problem is that originally there was UCS2, which was 16-bit
[22:07:01] <strcat> and that was everything
[22:07:16] <strcat> windows, java, qt, javascript were all written under the assumption that it was always going to be 16-bit
[22:07:43] <Fiora> and then they ran out of spots in the 65536 available?
[22:07:51] <strcat> yes
[22:07:58] <Fiora> (is this why they were making such a fuss about stuff like han unification?)
[22:08:02] <strcat> some languages aren't well covered or covered by all by it
[22:08:04] <strcat> Fiora: yep
[22:08:05] <Manishearth> jgraham: alright, wptrunner seems to want a nearby hg or git repo :s
[22:08:18] <strcat> Fiora: now they have nearly 21-bit and have room to shove dozens of cat faces
[22:08:22] <strcat> and a pile of poo character
[22:08:26] <jgraham> Manishearth: Hmm, it should work, but I am going to sleep now
[22:08:27] <Manishearth> and it complain if the wd is not clean (which it isn't, since fontconfig broke it)
[22:08:30] <jgraham> Talk to you tomorrow?
[22:08:40] <Manishearth> jgraham: sure. I'll poke around in the meantime
[22:08:45] <strcat> Fiora: UTF-8 was designed to handle 32-bit though.
[22:08:52] <strcat> glibc was written for that early UTF-8 design
[22:08:57] * Ms2ger should go to sleep now
[22:09:00] <strcat> and it still thinks UTF-8 sequences can be up to 6 bytes
[22:09:03] <strcat> which is wrong/unsafe/horrible
[22:09:18] <strcat> if you expect backwards compatibility from unicode, think again
[22:09:20] <jgraham> Manishearth: --no-check-clean
[22:09:28] <strcat> apple made the mistake of putting normalization into their file system
[22:09:34] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Quit: )
[22:09:35] <strcat> then the definition of normalization changed several times
[22:09:40] <jgraham> Manishearth: Although this is going to try to commit the changes to servo, which isn't what we want
[22:10:42] <jgraham> I'll probably need to change the behaviour of update.py to allow committing to be (en/dis)abled
[22:11:09] <strcat> Fiora: anyway it all kinda sucks ;s
[22:11:13] <Manishearth> jgraham: I'll just push my changes then, and we'll fix update.py later
[22:11:26] <kmc> I kind of think Unicode wouldn't have been adopted at all if they didn't pretend for a while that it would be a 16-bit code, or at least, I prefer to believe this because it gives *some* valid reason for the whole mess
[22:11:28] <strcat> it's really dumb that browsers are stuck storing everything as arrays of 16-bit values
[22:11:31] <strcat> such a waste of memory
[22:11:41] *** Quits: Ms2ger (Ms2ger@moz-98421F60.adsl-dyn.isp.belgacom.be) (Quit: nn)
[22:11:44] <kmc> strcat: I want Servo to break free of that
[22:11:52] <kmc> at least, we can store DOM strings as UTF-8 until script tries to touch them
[22:11:59] <strcat> even chinese is smaller with utf-8, because of ascii xml/css/html strings
[22:12:07] <kmc> many pages have long runs of text that JS never tries to use
[22:12:22] <kmc> and it sounds like SpiderMonkey might eventually use a similar hybrid representation internally
[22:12:28] <kmc> I'm going to talk to some JS people about that
[22:12:34] <strcat> kmc: python switched to doing a funny thing
[22:12:42] <strcat> since they (like js) have immutable strings
[22:12:42] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[22:12:46] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:13:23] <strcat> kmc: if it has only code points under 256, they store as 8-bit strings, then they go to 16-bit, then 32-bit ;p (because they want O(1) indexing of code points...)
[22:13:37] <strcat> (it's awful though, UTF-8 everywhere is better, code point indexing is dumb.)
[22:13:39] <kmc> O(1) indexing of code points is a dubious goal, although it really is what I want for this parser I'm writing
[22:13:47] <strcat> kmc: yeah but it's a guarantee they always provided
[22:13:54] <strcat> changing it would be backwards incompatible, to an extent
[22:14:01] <strcat> and the python3 language is frozen
[22:14:05] <strcat> they can only change the libs
[22:14:23] <kmc> so there are "ropes" which are, like, linked lists of string chunks... you can imagine doing this where each chunk is either known-ASCII, UTF-8, or a lone codepoint
[22:14:30] <SimonSapin> kmc: I think for HTML you can get away with working on UTF-8 bytes
[22:14:32] <strcat> they froze the language for years because they expected it to take long for people to migrate and didn't want to be a moving target
[22:14:37] <kmc> that should be compatible with JS's UCS-2 semantics
[22:15:00] <kmc> and you can store the codepoint count along with each UTF-8 chunk for relatively fast codepoint indexing, if you need it
[22:15:00] <strcat> kmc: you're not stuck doing whatever spidermonkey does?
[22:15:14] <SimonSapin> as long as non-ASCII byte sequences stay together, you can work on them one byte at a time
[22:15:27] <kmc> strcat: I mean that SpiderMonkey could do this
[22:15:30] <strcat> ah
[22:15:43] <strcat> seriously though
[22:15:55] <strcat> I bet firefox/chromium memory would drop by something like 30% if js used UTF-8
[22:15:57] <strcat> :|
[22:16:09] <strcat> all those enormous css strings in gmail...
[22:16:18] <kmc> SimonSapin: with the extension to encode lone surrogates in UTF-8, or with the spec violation of replacing them with U+FFFD?
[22:16:31] <SimonSapin> strcat: welcome to the web and its backward-compat constraints :)
[22:16:50] <strcat> SimonSapin: I don't really see a constraint - just use UTF-8 internally ;p
[22:16:51] <SimonSapin> kmc: uh, I forgot about that
[22:16:59] <strcat> SimonSapin: can still implement the legacy UCS2 API
[22:17:07] <strcat> anyone using it is crazy anyway, why make it fast?
[22:17:24] * strcat shrugs
[22:17:24] <SimonSapin> strcat: .charCodeAt(UCS2 index) would not be O(1) anymore
[22:17:32] <strcat> but it's not useful in correct applications anyway
[22:17:35] <strcat> they don't need to be fast
[22:17:37] <strcat> they're wrong
[22:17:53] <SimonSapin> except you donâ€™t get anything else in JS
[22:17:56] <SimonSapin> until recently
[22:18:01] <strcat> "use utf8";
[22:18:05] *** Joins: elan-afk (elancaster@moz-16672D29.hsd1.ca.comcast.net)
[22:18:06] <strcat> so many solutions
[22:18:08] <strcat> ;p
[22:18:13] <strcat> perl manages to do it, why not js?
[22:18:16] <SimonSapin> itâ€™s not about syntax, itâ€™s about APIs
[22:18:24] <SimonSapin> what does Perl do?
[22:18:31] <strcat> they write language versions in their code
[22:18:36] <strcat> the interpreter still supports old versions
[22:18:54] <strcat> think "use strict" but with a version
[22:19:31] *** elan-afk is now known as elan
[22:19:55] <strcat> is es6 going to be opt-in? or is it backwards compatible?
[22:20:23] <SimonSapin> the latter, IIRc
[22:20:38] <strcat> imo the trick is to make the new language compelling enough that people will port to it, and fix warts rather than keeping them
[22:21:29] *** Quits: alphonse23 (sean@A6D9FFFF.60DF7298.8588B1D7.IP) (Ping timeout)
[22:22:36] <Manishearth> jgraham: this is what I have till now : https://github.com/Manishearth/servo/compare/venv-make
[22:22:54] * Manishearth needs to sleep too, 'night everyone
[22:23:00] <strcat> or make it statically typed and do a fully automatic conversion with a tool ;)
[22:23:43] <kmc> hehe I like "use utf8"
[22:24:06] <kmc> Servo has this cool opportunity to break the web on an opt-in basis
[22:24:11] <kmc> asm.css, etc.
[22:24:41] <kmc> strcat: it also helps to have a good compiler from the new language to the old one
[22:24:43] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Client exited)
[22:24:54] <Manishearth> asm.css? wut?
[22:24:55] <strcat> kmc: yeah which is really hard for dynamically typed languages
[22:24:57] <strcat> see python's 2to3
[22:24:59] <strcat> ;p
[22:26:09] *** Quits: hoverbea_ (hoverbear@moz-3A76492D.wireless.uvic.ca) (Ping timeout)
[22:26:20] <kmc> strcat: that's the opposite direction
[22:26:29] <strcat> ah I see what you mean
[22:26:30] <kmc> I mean e.g. to use ES6 features in ES3
[22:26:35] <kmc> in old browsers
[22:26:36] <strcat> with statically typed you can convert all string -> horrible_ucs2_string (or the reverse)
[22:26:43] <strcat> and then add the new string type as utf8
[22:26:50] <strcat> fully automatic conversion via a tool
[22:27:09] <strcat> python's 2to3/3to2 barely work
[22:27:37] <kmc> Manishearth: like asm.js, you identify a subset of CSS that can be implemented really efficiently (e.g. totally parallel) and then provide an annotation where content can opt in to the streamlined implementation where supported
[22:27:55] <strcat> kmc: how about removing css completely? :P
[22:28:04] <strcat> just have people draw with webgl
[22:28:04] <kmc> I guess it's not opt-in breaking the web, though, because if it's like asm.js it's supposed to work in browser that don't know about it
[22:28:50] <kmc> strcat: our compatibility strategy for old content will be emscripten gecko rendering to <canvas>
[22:28:53] <kmc> perfect
[22:29:43] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[22:29:43] *** ChanServ sets mode: +o pcwalton
[22:29:49] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[22:31:50] *** Quits: tinco (tinco@moz-B027780C.nl) (Ping timeout)
[22:31:52] *** Joins: tinco (tinco@moz-B027780C.nl)
[22:32:52] *** Joins: hoverbear (hoverbear@moz-3A76492D.wireless.uvic.ca)
[22:34:08] *** Joins: alphonse23 (sean@A6D9FFFF.60DF7298.8588B1D7.IP)
[22:34:17] <strcat> kmc: if only servo had gopher support
[22:34:29] * strcat would laugh
[22:34:40] <kmc> we should support gopher but only over TLS
[22:34:41] <kmc> for security
[22:34:50] *** Quits: hoverbear (hoverbear@moz-3A76492D.wireless.uvic.ca) (Ping timeout)
[22:47:03] *** Joins: hoverbear (hoverbear@moz-3A76492D.wireless.uvic.ca)
[22:50:57] *** kimundi is now known as zz_kimundi
[22:55:01] <pcwalton> larsberg: do you know who was assigned to review inline box padding and negative margins for acid2?
[22:55:03] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[22:55:04] *** Quits: tinco (tinco@moz-B027780C.nl) (Ping timeout)
[22:55:30] *** Joins: tinco (tinco@moz-B027780C.nl)
[22:56:31] <larsberg> pcwalton: I believe that SimonSapin was going to look at all three of those big layout ones: http://irclog.gr/#show/irc.mozilla.org/servo/84429
[22:56:36] <pcwalton> ok
[22:57:14] <SimonSapin> well if someone wants to take one of the remaining two, feel free :)
[22:58:34] <larsberg> I can if you give me the easier one :-) Though I probably won't have a full set of comments until early tomorrow, mozilla-pacific-time.
[22:59:58] <zwarich> strcat: I've used gopher nonironically in the last 5 years
[23:00:06] <zwarich> I would actually like a gopher resurgence
[23:00:27] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[23:01:15] <pcwalton> larsberg: inline box padding is definitely easier than negative margins
[23:01:22] <pcwalton> negative margins is pure evil
[23:01:33] * larsberg will look at inline box padding
[23:01:43] <pcwalton> speaking of which, we should totally use SIMD for margins...
[23:01:52] <pcwalton> there are two of them and you always operate on them as a whole
[23:02:03] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[23:02:24] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:02:36] <Fiora> what sort of math needs to be done on margins?
[23:02:56] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:04:31] <larsberg> if we do SIMD in rust today, we have to hack it with inline assembly, right? I know there's an RFC to add types and more language support (https://github.com/rust-lang/rfcs/pull/15 ), but that seems like it won't land for a while...
[23:05:32] <strcat> there is #[simd] atm
[23:05:43] <pcwalton> Fiora: mostly min and max
[23:05:43] <strcat> you can use whatever llvm intrinsics you want
[23:05:48] *** catlee is now known as catlee-away
[23:06:01] <strcat> #[link_name = "llvm.x86.*"] and pass a #[simd] type to it
[23:06:02] <strcat> afaik it will work
[23:06:05] <pcwalton> well, min of one and max of the otherâ€¦ but it can be changed to max of both fields
[23:06:09] <pcwalton> that way you can use simd
[23:06:19] <larsberg> strcat: ty
[23:06:30] <strcat> unless passing #[simd] types doesn't work with C ABI functions due to it being neglected in the implementation
[23:06:38] <strcat> but I expect it might work...
[23:07:19] <pcwalton> Fiora: the details are basically that you accumulate two values, "the most negative" and "the most positive" margins between each block (there can be arbitrarily many such "adjoining margins" because margins collapse through blocks of zero height
[23:07:41] <pcwalton> and finally you add the two values (one positive, one negative) to yield the final margin
[23:11:38] <Fiora> so like, you're doing pairwise comparisons between a bunch of blocks or...?
[23:12:10] <pcwalton> yes, it's two max() calculations for each set of adjoining margins
[23:12:52] <Fiora> so it's O(N^2) with the number of blocks, or is there a nice way to figure out which blocks are adjoining and which aren't?
[23:13:40] <pcwalton> no, it's O(n)
[23:14:02] <Fiora> I guess I don't understand it at all then
[23:14:04] <pcwalton> just a constant factor of 2. you always know in advance which margins are adjoining
[23:14:10] <Fiora> ahhhh
[23:14:32] <Fiora> so a block can only adjoin O(1) other blocks
[23:15:02] <pcwalton> yes, if the block has contents
[23:15:16] <pcwalton> but if blocks in between are empty (no padding, no border, no content) then margins collapse through those blocks
[23:15:26] <pcwalton> and their margins get added to the pile
[23:17:58] <Fiora> http://www.w3schools.com/css/css_margin.asp  // so is this for calculating 'auto' margins, or...?
[23:18:33] <pcwalton> it's for most block-level margins
[23:18:35] <pcwalton> http://www.w3.org/TR/CSS2/box.html#collapsing-margins
[23:18:35] <crowbot> pcwalton: that's probably not the spec you want. Please read https://github.com/mozilla/servo/wiki/Relevant-spec-links
[23:18:36] <pcwalton> shut up crowbot
[23:18:36] <crowbot> ok :(
[23:19:32] <kmc> haha
[23:20:09] <Fiora> ahhh, so there's these rules that govern taking multiple margins and combining them into one margin
[23:20:21] <pcwalton> right
[23:20:39] <SimonSapin> pcwalton: we do have a CSS2Â ED now: http://dev.w3.org/csswg/css2/box.html#collapsing-margins
[23:20:48] <pcwalton> yeah, I saw that
[23:20:49] *** Quits: hoverbear (hoverbear@moz-3A76492D.wireless.uvic.ca) (Quit: Taking a nap.)
[23:20:51] <strcat> what is crowbot anyway
[23:20:57] <pcwalton> looks like it has an extra rule
[23:22:10] <Fiora> is there um    a link to any code for the margin handling stuff?
[23:23:16] <pcwalton> Fiora: https://critic.hoppipolla.co.uk/52a76d7a?review=1120 :)
[23:26:03] <jdm> crowbot: source
[23:26:03] <crowbot> jdm: https://github.com/jdm/fennecbot
[23:26:05] <jdm> strcat: ^
[23:26:26] <strcat> jdm: make it use notice ;)
[23:26:30] <jdm> never
[23:26:39] * strcat will figure out how to make it loop then ;)
[23:27:09] <strcat> ircloggr: help
[23:27:13] <strcat> aw
[23:28:05] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[23:28:16] *** Quits: victorporof (victorporo@moz-1C281963.dsl.bell.ca) (Ping timeout)
[23:28:41] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:29:13] <strcat> crowbot: foo
[23:29:23] <strcat> jdm: it's cruel.
[23:29:35] <jdm> heh
[23:29:45] <strcat> if it printed an error there I could make it loop :(
[23:30:15] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[23:30:24] <strcat> the trick is to get two bots spewing errors at each other and then they get auto-kicked or something
[23:30:26] * strcat cackles
[23:31:12] <jdm> use your powers for good, never for evil
[23:31:34] <strcat> making bots play is purely for the good of botkind
[23:32:16] <jdm>             let root = root.root(&roots);
[23:32:22] <jdm> what have i wrought
[23:32:34] <strcat> ;s
[23:32:40] <jdm> we need new terminology, stat
[23:35:05] <zwarich> jdm: seeds, stems, fountainheads?
[23:35:14] <jdm> ha
[23:35:29] <mbrubeck> let root = seed.plant(&earth)?
[23:36:04] <strcat> or just call all your variables root
[23:36:15] <Fiora> that sounds like a good way to branch out your terminology
[23:36:19] <Fiora> I'm not sure it gets to the root of the problem though
[23:36:34] <jdm> you're all dead to me
[23:36:46] <larsberg> irc.rs:16:19: error: borrowed value 'earth' does not live long enough
[23:38:48] <strcat> rusti: let root = 5; let root = { let root = { let root = { let root = root; root }; root }; root }; root
[23:38:48] -rusti- 5
[23:39:46] <huon> rusti: #[allow(non_camel_case_types)] struct root;impl root{fn root(&self,root:root)->root{root}}let root=root;root.root(root)
[23:39:48] <strcat> at times like this I wish my irc client didn't use silly emacs line editing...
[23:39:49] -rusti- pastebinned 8 lines of output: http://ix.io/bpV
[23:39:52] <mbrubeck> Are we hoping for Rust language features like virtual structs to eventually eliminate some/all of the manual casting (NodeCast, ElementCast, etc.) in Servo?
[23:40:01] <huon> :'(
[23:40:30] <mbrubeck> Because right now it feels like every time I touch script/dom I spend 80% of my time figuring out the right sequences of casts
[23:41:17] *** Joins: victorporof (victorporo@moz-1C281963.dsl.bell.ca)
[23:41:33] <huon> mbrubeck: https://github.com/rust-lang/rfcs/pull/5 https://github.com/rust-lang/rfcs/pull/9 https://github.com/rust-lang/rfcs/pull/11 https://github.com/rust-lang/rfcs/pull/24 are all proposals for it
[23:41:50] <jdm> mbrubeck: quite. there will be something necessary for downcasts, but upcasts should be transparent at least.
[23:43:43] <strcat> we don't even have calling inherited methods working in the existing dynamic dispatch system ;p
[23:43:44] *** Quits: victorporof (victorporo@moz-1C281963.dsl.bell.ca) (Input/output error)
[23:44:32] <jdm> inheritance is pretty undervalued right now
[23:44:55] <strcat> trait inheritance works well for generics, just not with trait objects
[23:45:38] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[23:46:41] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[23:47:57] <jdm> mmm, I think I've come up with a hole in my rooting plan
[23:48:14] <jdm> let something: Unrooted<Thing> = create_me_a_thing();
[23:48:36] <jdm> let another: Unrooted<Thing> = create_me_a_thing(); // does JS, triggers GC
[23:48:46] <jdm> let something = something.root(&roots); // BZZT
[23:49:09] <jdm> the "rooted" something is dead now, and attempts to use it will crash
[23:49:37] *** Joins: victorporof (victorporo@moz-1C281963.dsl.bell.ca)
[23:49:45] <jdm> I really want something that forces immediately rooting unrooted values return values
[23:51:40] * jdm bemoans the lack of move constructors
[23:53:01] <strcat> if you were writing a container you would be so thankful that we don't have them ;p
[23:54:13] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:56:14] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[23:58:37] *** Quits: dherman (dherman@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: dherman)
[23:59:08] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
