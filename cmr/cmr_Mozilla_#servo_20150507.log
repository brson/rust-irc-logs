[00:00:14] *** Joins: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de)
[00:00:36] <gw> SimonSapin: I can't access the homu queue on build.servo.org
[00:00:48] <SimonSapin> neither can I
[00:01:08] <SimonSapin> and I get no "commit XYZ has been approved" comment when I r+ something
[00:01:16] <SimonSapin> CC larsberg
[00:03:20] *** Joins: chotchki (chotchki@moz-75ur7j.res.bhn.net)
[00:03:33] *** Quits: chotchki (chotchki@moz-75ur7j.res.bhn.net) (Quit: This computer has gone to sleep)
[00:04:33] *** Joins: chotchki (chotchki@moz-75ur7j.res.bhn.net)
[00:05:18] *** Quits: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[00:09:07] <larsberg> checking
[00:10:55] <larsberg> "Our administrators have detected an issue affecting the physical hardware your Linode resides on. We're working to resolve the issue as quickly as possible and will update this ticket as soon as we have more information."
[00:10:59] <larsberg> servo-master is down
[00:11:28] * larsberg is so glad we don't manage our own hardware...
[00:11:39] *** AutomatedTester is now known as AutomatedTester|AFK
[00:12:27] <mbrubeck> pcwalton: In #5911, the point of OpaqueFlow is to be a handle that can only be used to compare pointer equality.  Is that accurate?
[00:12:27] <crowbot1> Issue #5911: layout: Allow inline elements to be containing blocks for absolutely-positioned elements. - https://github.com/servo/servo/pull/5911
[00:12:31] <pcwalton> yup
[00:12:37] <pcwalton> it's like OpaqueNode, but for flows
[00:12:43] <pcwalton> I probably should have documented it :)
[00:12:48] <pcwalton> feel free to leave a comment for that
[00:12:54] <mbrubeck> okay
[00:15:22] *** Quits: caitp- (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[00:18:06] *** Quits: Nekit1234007 (nekit@moz-fkt.die.51.84.IP) (Quit: leaving)
[00:20:07] <larsberg> servo master has been fixed and is booting back up
[00:23:51] <larsberg> back in business - http://build.servo.org/homu/queue/servo
[00:24:17] <pcwalton> \o/
[00:27:30] *** Quits: ldng (ldng@moz-l3gmiq.abo.bbox.fr) (Quit: Leaving)
[00:38:20] *** Joins: acgtyrant (acgtyrant@moz-1oi.4sk.186.39.IP)
[00:41:47] *** Quits: chotchki (chotchki@moz-75ur7j.res.bhn.net) (Quit: This computer has gone to sleep)
[00:42:13] *** Quits: Jayflux (Jason@moz-gbtrd0.dsl.as9105.com) (Quit: Leaving)
[00:46:40] *** Quits: moa (Cedric@moz-h3f7lu.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[00:48:23] *** Joins: Nekit1234007 (nekit@moz-fkt.die.51.84.IP)
[00:49:30] *** Quits: MrZeus (MrZeus@moz-n8pa5v.skybroadband.com) (Ping timeout: 121 seconds)
[00:57:41] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:59:31] *** Joins: moa (Cedric@moz-m40tdh.abo.wanadoo.fr)
[00:59:40] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Quit: computer sleep)
[00:59:49] *** Joins: caitp- (caitp@moz-lmogh4.cable.rogers.com)
[01:02:18] *** Joins: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de)
[01:06:22] *** Quits: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[01:13:02] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[01:13:18] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[01:14:14] *** Quits: mwu (mwu@moz-fh9r6q.mh2d.1ibb.0101.2620.IP) (Ping timeout: 121 seconds)
[01:17:35] *** Joins: mib_9khfqj (Mibbit@moz-juv.9o3.252.72.IP)
[01:17:48] *** Quits: mib_rf4632 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:25:55] *** Quits: mib_9khfqj (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:28:09] <acrichto> larsberg: re-ping (belatedly again!)
[01:29:45] *** Quits: bholley (bholley@moz-hb3rtc.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:30:04] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[01:30:04] -ghservo- [13rust-png] 15alexcrichton opened pull request #69: Specify RANLIB for android builds (06master...06ranlib) 02http://git.io/vJNdE
[01:30:04] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[01:30:10] *** Joins: acgtyrant_ (acgtyrant@moz-1oi.4sk.186.39.IP)
[01:30:14] *** Quits: acgtyrant_ (acgtyrant@moz-1oi.4sk.186.39.IP) (Connection closed)
[01:31:40] *** Quits: acgtyrant (acgtyrant@moz-1oi.4sk.186.39.IP) (Connection closed)
[01:31:41] *** Joins: acgtyrant_ (acgtyrant@moz-1oi.4sk.186.39.IP)
[01:31:43] <gw> acrichto: nice find!
[01:32:21] <acrichto> gw: :)
[01:32:40] <acrichto> larsberg: tl;dr; https://github.com/servo/rust-png/pull/69 makes the servo cross to android from OSX get a lot farther
[01:32:40] <crowbot1> PR #69: Specify RANLIB for android builds - https://github.com/servo/rust-png/pull/69
[01:32:50] <acrichto> when paired with https://github.com/Manishearth/rust-tenacious/pull/2 as well
[01:32:50] <crowbot1> PR #2: Don't specify crate-type = dylib in Cargo.toml - https://github.com/Manishearth/rust-tenacious/pull/2
[01:33:13] <acrichto> it doesn't quite finish, and getting it over the finish line may be... difficult looking at this error message, but still possible!
[01:44:34] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[01:44:34] *** ChanServ sets mode: +o pcwalton
[01:44:42] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[01:46:53] *** Joins: slyu (slyu@moz-aj9ejj.HINET-IP.hinet.net)
[01:50:55] *** Joins: playjax (chatzilla@moz-t5adi3.optusnet.com.au)
[01:52:52] *** Quits: Nekit1234007 (nekit@moz-fkt.die.51.84.IP) (Quit: Lost terminal)
[01:59:44] *** Joins: bholley (bholley@moz-hb3rtc.ca.comcast.net)
[02:01:35] *** Joins: mib_xfkwm6 (Mibbit@moz-juv.9o3.252.72.IP)
[02:05:20] *** Quits: mib_xfkwm6 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:13:07] *** Joins: jinwoo_mbp2 (jinwoo@moz-t0r.chb.167.121.IP)
[02:20:53] *** Quits: zz_kimundi (kimundi@moz-136e94.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:22:16] *** Joins: zz_kimundi (kimundi@moz-l2r.uqm.188.87.IP)
[02:22:22] *** zz_kimundi is now known as kimundi
[02:26:26] *** chmanchester|afk is now known as chmanchester
[02:27:58] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[02:30:36] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[02:37:58] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[02:38:05] *** Joins: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[02:39:03] *** c74d3 is now known as c74d
[02:41:27] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[02:45:34] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[02:51:37] *** Joins: dylan (dylan@moz-aa5.d0d.43.100.IP)
[02:52:00] *** dylan is now known as Guest4813
[02:57:47] *** Quits: Guest4813 (dylan@moz-aa5.d0d.43.100.IP) (Ping timeout: 121 seconds)
[03:00:15] *** Joins: mccr8 (mccr8@moz-m84lpe.ca.comcast.net)
[03:00:54] *** Quits: mccr8 (mccr8@moz-m84lpe.ca.comcast.net) (Quit: computer sleep)
[03:01:31] *** Joins: mccr8 (mccr8@moz-m84lpe.ca.comcast.net)
[03:02:13] *** Joins: c74d3 (c74d3a4ebb6@moz-tqsci9.mggc.hibn.4404.2002.IP)
[03:02:58] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[03:03:27] *** c74d3 is now known as c74d
[03:03:49] *** Joins: gunther (Mibbit@moz-juv.9o3.252.72.IP)
[03:04:13] *** Quits: gunther (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:37:00] *** Quits: acgtyrant_ (acgtyrant@moz-1oi.4sk.186.39.IP) (Quit: å •å…¥ /dev/null)
[03:42:30] *** Joins: mwu (mwu@moz-t8ufvo.static-ip.telepacific.net)
[03:42:35] *** Quits: bholley (bholley@moz-hb3rtc.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:43:51] *** Quits: jinwoo_mbp2 (jinwoo@moz-t0r.chb.167.121.IP) (Quit: This computer has gone to sleep)
[03:49:42] *** chmanchester is now known as chmanchester|afk
[03:50:47] *** Quits: mccr8 (mccr8@moz-m84lpe.ca.comcast.net) (Quit: computer sleep)
[04:00:14] *** Quits: valentin (icecold@moz-blrbel.5ljq.j4c9.2f0a.2a02.IP) (Ping timeout: 121 seconds)
[04:06:39] *** Joins: valentin (icecold@moz-blrbel.5ljq.j4c9.2f0a.2a02.IP)
[04:08:29] *** Joins: mib_qw2xmy (Mibbit@moz-juv.9o3.252.72.IP)
[04:12:56] *** Quits: mib_qw2xmy (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:17:39] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[04:21:10] *** Joins: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de)
[04:22:06] <Manishearth> SimonSapin++. rr works with only 32bit, right?
[04:23:00] <Manishearth> acrichto: thanks. did something change about plugins being dylibs? This used to work in the past iirc
[04:24:04] <kmc> Manishearth: no, there's 64-bit support now
[04:24:10] <Manishearth> yay
[04:24:11] <kmc> and khuey is working on ARM
[04:24:17] <Manishearth> awesome
[04:24:59] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[04:25:21] *** Quits: tomaka (Pierre@moz-anun95.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[04:25:32] *** Quits: moa (Cedric@moz-m40tdh.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[04:25:32] *** Joins: tomaka (Pierre@moz-anun95.abo.wanadoo.fr)
[04:25:42] *** Quits: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[04:26:08] *** Joins: moa (Cedric@moz-m40tdh.abo.wanadoo.fr)
[04:26:27] <Manishearth> this is a good opportunity to play with rr then
[04:28:20] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[04:28:49] <cajbir> Does rr work with servo now?
[04:29:15] <cajbir> Previous issue was here: https://github.com/mozilla/rr/issues/1081
[04:29:16] <crowbot1> Issue #1081: Does rr work with servo? - https://github.com/mozilla/rr/issues/1081
[04:29:22] *** Quits: c74d (c74d3a4ebb6@moz-tqsci9.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[04:30:34] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[04:37:13] *** Joins: acgtyrant (acgtyrant@moz-1oi.4sk.186.39.IP)
[04:40:01] <Manishearth> cajbir: no idea :)
[04:41:39] <Manishearth> rr: Saving the execution of `./components/servo/target/debug/servo' to trace directory `/home/manishearth/.rr/servo-1'.
[04:41:42] <Manishearth> [glutin] x error code=35 major=0 minor=0!
[04:41:43] <Manishearth> nope, I guess
[04:41:46] <Manishearth> thread '<main>' panicked at 'Failed to compile shader: ', /home/manishearth/Mozilla/voser/./../.cargo/git/checkouts/rust-layers-3d9d5f0b4e4d9002/master/src/rendergl.rs:123
[04:42:52] <gw> you could try running headless mode (with osmesa) - that gets rid of the x dependency so should work around that issue
[04:42:57] *** Joins: nattokirai (nattokirai@moz-86b4bs.bitcat.net)
[04:42:59] <cajbir> Manishearth: same error as I was getting. 
[04:43:10] <cajbir> Manishearth: that issue I pasted suggested using mesa backed GL
[04:43:13] <Manishearth> gw: hm?
[04:43:44] <Manishearth> gw: how do I do that?
[04:44:07] <gw> Manishearth: grep for SERVO_HEADLESS
[04:44:14] <gw> you can set that env var and rebuild
[04:44:30] <gw> or just set the cargo build line based on what mach does when that is present
[04:45:41] <Manishearth> gw: still crashes
[04:45:46] <gw> booooo
[04:45:57] <gw> different error?
[04:47:15] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[04:47:21] <Manishearth> same
[04:47:31] <Manishearth> rr record --env=SERVO_HEADLESS=1 ./components/servo/target/debug/servo http://example.com
[04:48:22] <gw> Manishearth: it's a build env var
[04:48:34] <gw> it makes it link to different libs etc during compilation
[04:49:03] <gw> so it should be SERVO_HEADLESS=1 ./mach build
[04:49:10] <Manishearth> ohh
[04:49:14] <Manishearth> gah
[04:53:34] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[04:53:49] <kmc> btw, there's ./mach rr-record and ./mach rr-replay
[04:54:36] <Manishearth> oooooooo
[04:54:50] <Manishearth> I remember froydnj adding those
[04:54:54] <kmc> you can also get a headless X server with  /usr/bin/Xorg :1 -noreset +extension GLX +extension RANDR +extension RENDER -logfile ./xorg.log -config etc/ci/xorg.conf
[04:55:18] <kmc> then a normal servo build will run with DISPLAY=:1
[04:56:57] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[04:57:04] <Manishearth> still broken
[04:57:09] * Manishearth continues headless build
[05:01:23] *** Joins: dstrbad (dstrbad@moz-1dn56t.cable.xnet.hr)
[05:03:25] *** Quits: tomaka (Pierre@moz-anun95.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[05:08:40] *** Joins: sluggo (Mibbit@moz-juv.9o3.252.72.IP)
[05:14:57] <Manishearth> gw: cajbir thanks, works!
[05:15:10] <gw> Manishearth: really? awesome!
[05:15:31] <Manishearth> okay, now if only I knew how to use this
[05:15:41] <Manishearth> or why I had decided to use it in the first place :p
[05:16:11] <cajbir> Manishearth: awesome!
[05:17:00] *** Joins: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr)
[05:20:18] <Manishearth> cajbir: how do I break on `when` points?
[05:24:22] <Manishearth> `run <when>` reports but continues
[05:25:07] <Manishearth> oh, im stupid
[05:28:52] *** Quits: mwu (mwu@moz-t8ufvo.static-ip.telepacific.net) (Ping timeout: 121 seconds)
[05:29:26] *** Quits: sluggo (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:38:12] *** Joins: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de)
[05:41:19] *** Joins: lewtds (lewtds@moz-c1h.ug8.162.14.IP)
[05:44:09] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[05:46:14] *** Quits: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net) (Ping timeout: 121 seconds)
[05:46:35] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[05:47:26] *** Quits: dstrbad (dstrbad@moz-1dn56t.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[05:48:24] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[05:50:04] *** Joins: dstrbad (dstrbad@moz-1dn56t.cable.xnet.hr)
[05:53:23] <acrichto> Manishearth: nah `plugin = true` serves as both indicating it should be a dylib and that it should be compiled for the host architecture
[05:53:53] <acrichto> Manishearth: there's a bug in cargo though where `crate-type = ["dylib"]` doesn't work for cross compiles
[05:53:56] <acrichto> (there's a PR to fix this)
[05:54:11] *** kimundi is now known as zz_kimundi
[05:54:56] <Manishearth> ah
[05:55:02] <Manishearth> acrichto: so why did it work for linux?
[05:56:57] <acrichto> Manishearth: the dylib suffix for android == .so and the dylib suffix for linux == .so
[05:57:02] <acrichto> but the dylib suffix for android/osx is different
[05:57:47] <Manishearth> oh
[06:00:32] *** Quits: caitp- (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[06:02:22] *** Joins: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net)
[06:02:50] *** Joins: Nekit1234007 (nekit@moz-fkt.die.51.84.IP)
[06:03:00] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[06:03:45] *** Quits: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net) (Quit: Leaving)
[06:03:53] *** Joins: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net)
[06:12:25] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Quit: Leaving.)
[06:26:16] *** Quits: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de) (Connection closed)
[06:31:29] *** Joins: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de)
[06:37:38] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[06:39:28] *** Joins: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com)
[06:40:00] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[06:49:31] *** Joins: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP)
[06:52:53] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[06:53:29] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[06:57:09] *** Joins: caitp- (caitp@moz-lmogh4.cable.rogers.com)
[06:58:29] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[07:01:45] *** Quits: caitp- (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[07:02:44] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[07:05:21] *** Joins: bholley (bholley@moz-hb3rtc.ca.comcast.net)
[07:06:07] *** Joins: dinfuehr (dominik@moz-afofkn.highway.telekom.at)
[07:08:40] *** Joins: mib_cpru5g (Mibbit@moz-juv.9o3.252.72.IP)
[07:09:19] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Connection closed)
[07:09:55] *** Quits: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:11:07] *** Quits: mib_cpru5g (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:11:38] *** Joins: yichoi (yichoi@moz-t0r.chb.167.121.IP)
[07:12:50] *** Joins: akiss (akiss@moz-s2omc8.uio.no)
[07:13:10] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Connection closed)
[07:13:29] *** Joins: yichoi (yichoi@moz-t0r.chb.167.121.IP)
[07:25:46] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[07:25:56] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[07:25:56] -ghservo- [13servo] 15Ms2ger closed pull request #5967: Remove unused imports. (06master...06warnings) 02http://git.io/vJdyS
[07:25:56] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[07:25:58] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[07:25:58] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 14ccf6b66 to 143989bb4: 02http://git.io/A9I6iA
[07:25:58] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[07:30:39] *** Joins: dawehner (quassel@moz-kdlm20.eap.uni-tuebingen.de)
[07:31:18] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[07:31:18] -ghservo- [13servo] 15bors-servo merged 06auto into 06tmp: 02http://git.io/vJANz
[07:31:18] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[07:33:28] *** Quits: duncank (duncank@moz-86pspf.compute.amazonaws.com) (A TLS packet with unexpected length was received.)
[07:34:07] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150503160042])
[07:34:20] *** Quits: bholley (bholley@moz-hb3rtc.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[07:44:27] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[07:44:46] *** Quits: lewtds (lewtds@moz-c1h.ug8.162.14.IP) (Ping timeout: 121 seconds)
[07:45:10] *** Joins: lewtds (lewtds@moz-i3e.gri.17.119.IP)
[07:45:26] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Connection closed)
[07:46:09] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[07:47:30] *** Joins: dawehner-afk (quassel@moz-pfjhmu.mullvad.net)
[07:49:02] *** Joins: yichoi (yichoi@moz-t0r.chb.167.121.IP)
[07:49:08] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Connection closed)
[07:50:45] *** Quits: dawehner (quassel@moz-kdlm20.eap.uni-tuebingen.de) (Ping timeout: 121 seconds)
[07:51:57] *** Joins: keret (Mibbit@moz-juv.9o3.252.72.IP)
[07:52:17] *** Quits: keret (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:52:38] *** Quits: acgtyrant (acgtyrant@moz-1oi.4sk.186.39.IP) (Quit: å •å…¥ /dev/null)
[07:57:20] *** Quits: nattokirai (nattokirai@moz-86b4bs.bitcat.net) (Client exited)
[07:58:29] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[08:05:31] *** Joins: dstrbad_ (dstrbad@moz-v485c3.cable.xnet.hr)
[08:08:12] *** Quits: dstrbad (dstrbad@moz-1dn56t.cable.xnet.hr) (Ping timeout: 121 seconds)
[08:12:18] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[08:12:18] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vJANz
[08:12:18] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[08:12:20] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[08:12:20] -ghservo- [13servo] 15bors-servo closed pull request #5968: Deduplicate some dependencies. (06master...06deduplicate-deps) 02http://git.io/vJdS9
[08:12:20] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[08:13:11] *** Quits: Guest64 (textual@moz-nrq.qhj.136.1.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[08:19:00] * jgraham puts on his grumpy face
[08:22:01] <Ms2ger> Morning grumpy
[08:22:05] *** Joins: bogdan_maris (Instantbird@moz-662.esi.231.62.IP)
[08:22:33] * Ms2ger pokes barosl_ 
[08:23:33] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Quit: Leaving.)
[08:24:58] *** Joins: mcescher (mcescher@moz-32h.3di.204.212.IP)
[08:26:24] *** zz_kimundi is now known as kimundi
[08:34:24] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[08:39:36] <jgraham> Ms2ger: Feel like looking at my trivial changes to #5884 to make it build again?
[08:39:37] <crowbot1> Issue #5884: Support WebDriver takeScreenshot command. - https://github.com/servo/servo/pull/5884
[08:40:02] *** Quits: {V} (V@moz-7uj5t9.on.nl) (Ping timeout: 121 seconds)
[08:44:09] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[08:44:09] -ghservo- [13servo] 15bors-servo pushed 2 new commits to 06tmp: 02http://git.io/vJx3X
[08:44:09] -ghservo- 13servo/06tmp 14967edc3 15James Graham: Support WebDriver takeScreenshot command....
[08:44:09] -ghservo- 13servo/06tmp 1474ead3f 15bors-servo: Auto merge of #5884 - jgraham:webdriver_screenshot, r=jdm...
[08:44:09] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[08:44:10] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[08:44:10] -ghservo- [13servo] 15bors-servo merged 06tmp into 06auto: 02http://git.io/vJx3X
[08:44:10] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[08:47:07] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[08:47:07] -ghservo- [13servo] 15Ms2ger reopened pull request #5967: Remove unused imports. (06master...06warnings) 02http://git.io/vJdyS
[08:47:07] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[08:47:15] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[08:49:47] *** Joins: fuogo (Mibbit@moz-juv.9o3.252.72.IP)
[08:50:18] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[08:50:18] -ghservo- [13servo] 15bors-servo 04force-pushed 06tmp from 1474ead3f to 1459cb1b0: 02http://git.io/veWu4
[08:50:18] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[08:50:19] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[08:50:19] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 1474ead3f to 140ec6d80: 02http://git.io/A9I6iA
[08:50:19] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[08:50:53] *** Joins: {V} (V@moz-7uj5t9.on.nl)
[08:51:29] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[08:52:10] *** Quits: fuogo (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:53:52] *** Joins: jviereck (Adium@moz-9qbhuh.ethz.ch)
[08:55:40] *** Joins: nattokirai (nattokirai@moz-vgp4nr.bbtec.net)
[08:55:45] *** Quits: jviereck (Adium@moz-9qbhuh.ethz.ch) (Quit: Leaving.)
[08:56:48] <jgraham> Sigh. Apparently I need to remember that |mach cargo update| != |mach cargo-update|
[08:57:52] *** Quits: dstrbad_ (dstrbad@moz-v485c3.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[08:59:27] <SimonSapin> Could we have cargo features for ports instead of multiple packages? That way weâ€™d have a single Cargo.lock
[08:59:59] <Manishearth> SimonSapin++
[09:00:12] *** Quits: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[09:01:33] <Ms2ger> That would be so amazing
[09:02:14] <jgraham> Or at least make |mach cargo update| say "this is not the cargo update you are looking for"
[09:02:44] <jgraham> (or, more helpfully, make it act like cargo-update)
[09:02:53] *** Joins: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com)
[09:05:49] *** Quits: {V} (V@moz-7uj5t9.on.nl) (Ping timeout: 121 seconds)
[09:06:06] *** Joins: jviereck (Adium@moz-8m4df2.97ug.g469.067c.2001.IP)
[09:14:50] *** Quits: playjax (chatzilla@moz-t5adi3.optusnet.com.au) (Ping timeout: 121 seconds)
[09:16:45] *** Joins: {V} (V@moz-7uj5t9.on.nl)
[09:18:51] *** Quits: jviereck (Adium@moz-8m4df2.97ug.g469.067c.2001.IP) (Quit: Leaving.)
[09:19:33] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:23:01] *** Joins: jviereck (Adium@moz-mtbpdh.ethz.ch)
[09:23:08] *** Joins: dstrbad (dstrbad@moz-v485c3.cable.xnet.hr)
[09:23:59] *** Joins: jviereck1 (Adium@moz-9qbhuh.ethz.ch)
[09:27:04] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[09:27:05] *** Quits: jviereck (Adium@moz-mtbpdh.ethz.ch) (Ping timeout: 121 seconds)
[09:30:37] *** Quits: dawehner-afk (quassel@moz-pfjhmu.mullvad.net) (Ping timeout: 121 seconds)
[09:35:12] *** Joins: dawehner (quassel@moz-kdlm20.eap.uni-tuebingen.de)
[09:35:33] *** Quits: jviereck1 (Adium@moz-9qbhuh.ethz.ch) (Quit: Leaving.)
[09:35:43] *** Quits: {V} (V@moz-7uj5t9.on.nl) (Ping timeout: 121 seconds)
[09:35:44] *** Joins: dawehner-afk (quassel@moz-grp.h0g.138.193.IP)
[09:35:45] *** Quits: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[09:36:54] *** Quits: nattokirai (nattokirai@moz-vgp4nr.bbtec.net) (Client exited)
[09:37:08] *** Quits: dawehner-afk (quassel@moz-grp.h0g.138.193.IP) (Connection closed)
[09:37:14] *** Joins: dawehner-afk (quassel@moz-grp.h0g.138.193.IP)
[09:39:03] <jgraham> Ms2ger: So, mind poking that PR again?
[09:39:14] *** Quits: dawehner (quassel@moz-kdlm20.eap.uni-tuebingen.de) (Ping timeout: 121 seconds)
[09:40:26] *** Joins: jviereck (Adium@moz-8m4df2.97ug.g469.067c.2001.IP)
[09:44:55] *** Joins: jga (jga@moz-rag.t1q.244.77.IP)
[09:45:47] *** Joins: jga1 (asdf@moz-rag.t1q.244.77.IP)
[09:46:09] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[09:46:09] -ghservo- [13servo] 15Ms2ger pushed 1 new commit to 06gc: 02http://git.io/vJxaN
[09:46:09] -ghservo- 13servo/06gc 141b03005 15Ms2ger: fixup! Move the DOM memory management blog post into the tree.
[09:46:09] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[09:46:39] *** Quits: dawehner-afk (quassel@moz-grp.h0g.138.193.IP) (Connection closed)
[09:46:47] *** Joins: dawehner (quassel@moz-grp.h0g.138.193.IP)
[09:47:42] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[09:47:42] -ghservo- [13servo] 15Ms2ger 04force-pushed 06gc from 141b03005 to 14beff254: 02http://git.io/vvhdG
[09:47:42] -ghservo- 13servo/06gc 145136e24 15Ms2ger: Move the DOM memory management blog post into the tree.
[09:47:42] -ghservo- 13servo/06gc 14beff254 15Ms2ger: fixup! Move the DOM memory management blog post into the tree.
[09:47:42] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[09:48:19] *** Quits: slyu (slyu@moz-aj9ejj.HINET-IP.hinet.net) (Quit: Leaving.)
[09:48:32] *** Joins: slyu (slyu@moz-aj9ejj.HINET-IP.hinet.net)
[09:51:04] *** Joins: {V} (V@moz-7uj5t9.on.nl)
[09:56:06] *** Quits: slyu (slyu@moz-aj9ejj.HINET-IP.hinet.net) (Quit: Leaving.)
[09:59:06] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[09:59:07] -ghservo- [13servo] 15bors-servo merged 06tmp into 06auto: 02http://git.io/vJxKL
[09:59:07] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[09:59:09] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[09:59:09] -ghservo- [13servo] 15bors-servo closed pull request #5967: Remove unused imports. (06master...06warnings) 02http://git.io/vJdyS
[09:59:09] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[10:00:31] *** Joins: caitp- (caitp@moz-lmogh4.cable.rogers.com)
[10:01:13] *** Quits: lewtds (lewtds@moz-i3e.gri.17.119.IP) (Ping timeout: 121 seconds)
[10:01:27] *** Joins: lewtds (lewtds@moz-c1h.ug8.162.14.IP)
[10:01:41] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[10:01:51] *** Quits: dawehner (quassel@moz-grp.h0g.138.193.IP) (Connection closed)
[10:02:03] *** Joins: dawehner (quassel@moz-grp.h0g.138.193.IP)
[10:04:22] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: å •å…¥ /dev/null)
[10:04:47] *** Quits: caitp- (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[10:05:06] *** Joins: slyu (slyu@moz-aj9ejj.HINET-IP.hinet.net)
[10:05:11] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[10:07:40] *** Joins: dbaron (dbaron@moz-j5e.h3g.253.81.IP)
[10:09:03] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: Lost terminal)
[10:14:18] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[10:14:45] *** Quits: dbaron (dbaron@moz-j5e.h3g.253.81.IP) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[10:15:54] *** Quits: slyu (slyu@moz-aj9ejj.HINET-IP.hinet.net) (A TLS packet with unexpected length was received.)
[10:19:05] *** Joins: b4283 (b4283@moz-vcu0af.EMOME-IP.hinet.net)
[10:19:21] *** Quits: jga1 (asdf@moz-rag.t1q.244.77.IP) (Ping timeout: 121 seconds)
[10:20:33] *** Quits: jga (jga@moz-rag.t1q.244.77.IP) (Ping timeout: 121 seconds)
[10:20:50] *** Joins: askalski (akuda@moz-857tih.warszawa.vectranet.pl)
[10:25:18] <nox> Ms2ger: https://github.com/servo/servo/issues/5963 Shouldn't we set IS_IN_DOC in the virtual methods and call them unconditionally instead of traversing the tree twice?
[10:25:19] <crowbot1> Issue #5963: Nodes that are not attached to the Document are still accessible through getElementById - https://github.com/servo/servo/issues/5963
[10:26:48] *** Quits: jviereck (Adium@moz-8m4df2.97ug.g469.067c.2001.IP) (Quit: Leaving.)
[10:36:02] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[10:37:01] *** Quits: dawehner (quassel@moz-grp.h0g.138.193.IP) (Ping timeout: 121 seconds)
[10:37:09] *** Joins: playjax (chatzilla@moz-eveafl.optusnet.com.au)
[10:39:47] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[10:39:47] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vJxKL
[10:39:47] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[10:39:50] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[10:39:50] -ghservo- [13servo] 15bors-servo closed pull request #5884: Support WebDriver takeScreenshot command. (06master...06webdriver_screenshot) 02http://git.io/vfxMl
[10:39:50] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[10:40:17] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[10:46:51] *** Joins: nattokirai (nattokirai@moz-rq9a8e.asahi-net.or.jp)
[10:47:55] <larsberg> acrichto: thanks for all the help on the build!
[10:48:09] *** Quits: playjax (chatzilla@moz-eveafl.optusnet.com.au) (Connection closed)
[10:50:10] *** Quits: lewtds (lewtds@moz-c1h.ug8.162.14.IP) (Ping timeout: 121 seconds)
[10:50:15] *** Quits: b4283 (b4283@moz-vcu0af.EMOME-IP.hinet.net) (Quit: Konversation terminated!)
[10:50:33] *** Joins: lewtds (lewtds@moz-i3e.gri.17.119.IP)
[10:52:38] *** Joins: playjax (chatzilla@moz-eveafl.optusnet.com.au)
[10:59:31] *** Quits: crowbot1 (nodebot@moz-kpe25l.compute-1.amazonaws.com) (A TLS packet with unexpected length was received.)
[10:59:31] *** Joins: crowbot (nodebot@moz-jputcn.compute-1.amazonaws.com)
[11:07:23] *** Joins: yichoi (yichoi@moz-t0r.chb.167.121.IP)
[11:08:27] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[11:08:27] -ghservo- [13servo] 15SimonSapin opened issue #5973: Have a "facade" top-level crate with Cargo features for CEF and Gonk 02http://git.io/vJxhb
[11:08:27] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[11:11:32] *** Joins: caitp- (caitp@moz-lmogh4.cable.rogers.com)
[11:15:49] *** Quits: caitp- (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[11:16:03] *** Joins: deokjinkim (Mibbit@moz-g81.0bj.108.114.IP)
[11:36:44] *** Joins: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com)
[11:36:53] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[11:37:51] *** Quits: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com) (Connection closed)
[11:38:02] *** Joins: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com)
[11:41:04] *** Quits: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[11:41:08] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[11:53:06] *** Joins: chotchki (chotchki@moz-75ur7j.res.bhn.net)
[11:56:33] *** Quits: playjax (chatzilla@moz-eveafl.optusnet.com.au) (Ping timeout: 121 seconds)
[11:59:45] *** Joins: dbaron (dbaron@moz-dgu.b1f.253.81.IP)
[12:01:43] *** Quits: dbaron (dbaron@moz-dgu.b1f.253.81.IP) (Connection closed)
[12:05:45] *** Quits: chotchki (chotchki@moz-75ur7j.res.bhn.net) (Quit: This computer has gone to sleep)
[12:06:27] <Ms2ger> Manishearth, here?
[12:07:57] *** kimundi is now known as zz_kimundi
[12:09:42] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[12:09:42] -ghservo- [13servo] 15bors-servo merged 06tmp into 06auto: 02http://git.io/vJpWV
[12:09:42] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[12:10:26] *** Joins: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com)
[12:12:17] *** Joins: caitp- (caitp@moz-lmogh4.cable.rogers.com)
[12:16:01] <Manishearth> Ms2ger: ish
[12:16:07] <Manishearth> be back later
[12:16:28] <Ms2ger> Manishearth, can you tell me what you mean by https://github.com/servo/servo/pull/5745#discussion_r28657108 ?
[12:16:29] <crowbot> PR #5745: Move the DOM memory management blog post into the tree. - https://github.com/servo/servo/pull/5745
[12:16:34] *** Quits: caitp- (caitp@moz-lmogh4.cable.rogers.com) (Ping timeout: 121 seconds)
[12:21:54] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Connection closed)
[12:22:46] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[12:25:34] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[12:25:34] -ghservo- [13servo] 15Ms2ger pushed 1 new commit to 06gc: 02http://git.io/vJp0v
[12:25:34] -ghservo- 13servo/06gc 147235500 15Ms2ger: fixup! Move the DOM memory management blog post into the tree.
[12:25:34] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[12:30:11] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:30:11] *** ChanServ sets mode: +qo jdm jdm
[12:30:26] <Ms2ger> jdm, if you have better ideas for my stale links... :)
[12:30:42] <jdm> Ms2ger: link to specific revisions instead of master?
[12:32:05] <Ms2ger> :/
[12:33:09] <Ms2ger> I really want to link to http://doc.servo.org/src/script/dom/document.rs.html#struct-Document
[12:34:47] <jdm> Ms2ger: those links seem fine to me
[12:34:56] <jdm> it's the links to servo source files that seems like they'll be less useful
[12:35:08] <jdm> oh wait, I see what you mean
[12:35:19] <jdm> file a rustdoc improvement :)
[12:39:55] *** Quits: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[12:44:37] *** Joins: dawehner (quassel@moz-q7qqfk.mullvad.net)
[12:48:27] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:49:31] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Connection closed)
[12:50:03] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:51:05] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[12:51:05] -ghservo- [13servo] 15bors-servo pushed 0 new commits to 06tmp: 02http://git.io/vJpoU
[12:51:05] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[12:51:06] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[12:51:06] -ghservo- [13servo] 15bors-servo merged 06tmp into 06auto: 02http://git.io/vJpoT
[12:51:06] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[12:51:13] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[12:51:13] -ghservo- [13servo] 15bors-servo closed pull request #5949: Mark the canvas as dirty on certain drawing calls. (06master...06canvas_dirty) 02http://git.io/vJM6z
[12:51:13] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[12:51:41] <FreeFull> Has Servo's webgl implementation been expanded since the first commit?
[12:53:46] *** Joins: hyunjune (Mibbit@moz-54l.vhi.163.221.IP)
[12:54:24] *** AutomatedTester|AFK is now known as AutomatedTester
[12:57:19] <Manishearth> Ms2ger: I meant that we can mention that due to autoderef, this lets us treat jsrefs as Ts
[12:57:23] <Manishearth> not important, can ignore
[13:00:33] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[13:05:45] *** Quits: askalski (akuda@moz-857tih.warszawa.vectranet.pl) (Quit: Wychodzi)
[13:06:59] *** Joins: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca)
[13:08:48] <jdm> FreeFull: yes - there was a second one since then
[13:08:58] *** Joins: jviereck (Adium@moz-rnae0q.bmup.g469.067c.2001.IP)
[13:09:07] <jdm> FreeFull: #5820
[13:09:07] <crowbot> Issue #5820: Implements enough WebGL spec to draw a triangle - https://github.com/servo/servo/pull/5820
[13:09:15] <FreeFull> Thanks
[13:12:14] *** Joins: jga (jga@moz-rag.t1q.244.77.IP)
[13:12:44] *** Joins: jga1 (asdf@moz-rag.t1q.244.77.IP)
[13:12:45] *** Joins: dawehner-afk (quassel@moz-grp.h0g.138.193.IP)
[13:13:04] *** Joins: caitp- (caitp@moz-lmogh4.cable.rogers.com)
[13:15:07] *** Quits: dawehner (quassel@moz-q7qqfk.mullvad.net) (Ping timeout: 121 seconds)
[13:21:06] *** Quits: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP) (Ping timeout: 121 seconds)
[13:24:42] *** Quits: jviereck (Adium@moz-rnae0q.bmup.g469.067c.2001.IP) (Quit: Leaving.)
[13:26:18] *** Joins: steshaw (uid30841@moz-eom82r.uxbridge.irccloud.com)
[13:26:54] *** Quits: jga (jga@moz-rag.t1q.244.77.IP) (Connection closed)
[13:29:15] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:31:49] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[13:31:59] *** Quits: valentin (icecold@moz-blrbel.5ljq.j4c9.2f0a.2a02.IP) (Ping timeout: 121 seconds)
[13:32:25] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[13:32:25] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vJpoT
[13:32:25] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[13:32:30] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[13:32:30] -ghservo- [13servo] 15bors-servo closed pull request #5957: Remove Glutin dependency for WebGL (06master...06glcontext-mac-support) 02http://git.io/vJH3E
[13:32:30] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[13:38:00] *** Quits: Caspy7 (chatzilla@moz-q45ho1.6qgi.ef7f.0306.2602.IP) (Ping timeout: 121 seconds)
[13:38:26] *** Joins: Caspy7 (chatzilla@moz-q45ho1.6qgi.ef7f.0306.2602.IP)
[13:43:22] *** Joins: jga (jga@moz-rag.t1q.244.77.IP)
[13:57:51] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:58:28] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[14:02:44] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[14:03:26] <nox> jdm: Removed the parens.
[14:03:42] <jdm> you are freakishly fast about these things
[14:03:48] <nox> lol
[14:04:08] <nox> Tell me when I should squash these.
[14:04:11] <jdm> now
[14:04:35] <nox> jdm: Done.
[14:07:12] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[14:07:12] -ghservo- [13servo] 15bors-servo pushed 0 new commits to 06tmp: 02http://git.io/vJhms
[14:07:12] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[14:07:14] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[14:07:14] -ghservo- [13servo] 15bors-servo merged 06tmp into 06auto: 02http://git.io/vJhmG
[14:07:14] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[14:07:26] *** Quits: caitp- (caitp@moz-lmogh4.cable.rogers.com) (Quit: Leaving)
[14:07:42] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[14:08:01] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:08:42] *** Joins: caitp- (caitp@moz-lmogh4.cable.rogers.com)
[14:09:20] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:10:23] *** barosl_ is now known as barosl
[14:14:49] *** Joins: fuogo (Mibbit@moz-gp5ov9.ip.telfort.nl)
[14:16:40] *** Quits: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[14:24:19] *** Joins: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com)
[14:26:51] *** Quits: fuogo (Mibbit@moz-gp5ov9.ip.telfort.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[14:34:54] *** chmanchester|afk is now known as chmanchester
[14:36:31] *** Joins: dinfuehr_ (dinfuehr@moz-afofkn.highway.telekom.at)
[14:37:36] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[14:38:01] *** Quits: dinfuehr_ (dinfuehr@moz-afofkn.highway.telekom.at) (Connection closed)
[14:38:22] *** Joins: dinfuehr_ (dinfuehr@moz-afofkn.highway.telekom.at)
[14:39:37] *** Quits: dstrbad (dstrbad@moz-v485c3.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[14:42:05] *** Quits: bogdan_maris (Instantbird@moz-662.esi.231.62.IP) (Client exited)
[14:42:24] *** Quits: dinfuehr_ (dinfuehr@moz-afofkn.highway.telekom.at) (Ping timeout: 121 seconds)
[14:48:44] *** Joins: dstrbad (dstrbad@moz-v485c3.cable.xnet.hr)
[14:48:56] *** Quits: mcescher (mcescher@moz-32h.3di.204.212.IP) (Ping timeout: 121 seconds)
[14:49:12] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[14:49:12] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vJhmG
[14:49:12] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[14:49:16] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[14:49:16] -ghservo- [13servo] 15bors-servo closed pull request #5894: Implement WebIDL attribute PutForwards (06master...06putforwards) 02http://git.io/vJvx7
[14:49:16] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[14:52:25] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[14:52:48] *** Joins: shinglyu (Mibbit@moz-c7ajla.kbronet.com.tw)
[14:53:56] <shinglyu> Hi, I was reading the draw_box_shadow in gfx, and I stumble upon the terms "transient clip" and "stacking context clip", can anyone tell me what they are?
[14:53:58] <shinglyu> Thanks
[14:54:41] <jdm> shinglyu: transient clip is (I believe) a clipping rectangle that is applied to a certain subset of operations (I don't know what/when those are, though)
[14:54:57] <jdm> shinglyu: and stacking context clip has to do with the clipping rectangle for a CSS stacking context
[14:55:12] <jdm> https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Understanding_z_index/The_stacking_context
[14:56:09] <jdm> shinglyu: also http://mxr.mozilla.org/servo/source/components/gfx/paint_context.rs#53
[14:56:21] <shinglyu> The "clip" here is refering to something that is partially visiable right?
[14:57:57] <jdm> shinglyu: the clipping rectangle is fully visible; the "clipped" content that it applies to may be partially visible if any of its content extends beyond the clipping rectangle
[14:58:29] <shinglyu> Yes, kind of like a hole you can see through, am I right?
[14:58:31] <jdm> right
[14:58:54] <shinglyu> Thanks!
[14:59:18] <shinglyu> Let me get back and read more about the stacking context
[14:59:37] *** Quits: dbaron (dbaron@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[15:03:07] *** Joins: mccr8 (mccr8@moz-m84lpe.ca.comcast.net)
[15:05:23] *** zz_kimundi is now known as kimundi
[15:05:32] *** Joins: ferdinand (Mibbit@moz-juv.9o3.252.72.IP)
[15:07:44] *** Quits: deokjinkim (Mibbit@moz-g81.0bj.108.114.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:12:30] *** Joins: valentin (icecold@moz-vtqekb.5ljq.j4c9.2f0a.2a02.IP)
[15:15:18] *** Quits: nattokirai (nattokirai@moz-rq9a8e.asahi-net.or.jp) (Client exited)
[15:16:04] *** Quits: ferdinand (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:18:08] *** Joins: Ms2ger (Ms2ger@moz-2md1ol.isp.belgacom.be)
[15:18:20] *** AutomatedTester is now known as AutomatedTester|AFK
[15:20:03] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[15:24:44] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:26:44] *** Quits: capella (chatzilla@moz-jqv43v.res.rr.com) (A TLS packet with unexpected length was received.)
[15:27:35] *** Joins: capella (chatzilla@moz-jqv43v.res.rr.com)
[15:27:44] *** AutomatedTester|AFK is now known as AutomatedTester
[15:31:12] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[15:31:12] -ghservo- [13rust-png] 15larsbergstrom pushed 2 new commits to 06master: 02http://git.io/vJhbA
[15:31:12] -ghservo- 13rust-png/06master 1462512c3 15Alex Crichton: Specify RANLIB for android builds...
[15:31:12] -ghservo- 13rust-png/06master 1434fca10 15Lars Bergstrom: Merge pull request #69 from alexcrichton/ranlib...
[15:31:12] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[15:35:57] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[15:39:15] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[15:41:17] *** Quits: mccr8 (mccr8@moz-m84lpe.ca.comcast.net) (Quit: computer sleep)
[15:41:24] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[15:50:21] *** Quits: dinfuehr (dominik@moz-afofkn.highway.telekom.at) (Client exited)
[15:50:29] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[15:54:12] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:54:14] *** AutomatedTester is now known as AutomatedTester|AFK
[15:54:18] *** Quits: dstrbad (dstrbad@moz-v485c3.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[15:54:35] *** Joins: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com)
[15:55:11] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[15:58:49] *** jandem is now known as jandem-brb
[15:58:50] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[15:58:50] -ghservo- [13rust-stb-image] 15larsbergstrom closed issue #19: Make rust-stb-image buildable with rustpkg 02http://git.io/vJjtB
[15:58:50] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[16:04:41] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[16:04:41] *** ChanServ sets mode: +qo jdm jdm
[16:05:22] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[16:06:24] <larsberg> acrichto: does this output mean that I should basically be applying your RANLIB fix to all of those crates? https://pastebin.mozilla.org/8832779
[16:06:27] <Ms2ger> rustpkg?
[16:06:40] <larsberg> Ms2ger: I know, that issue was like a quick trip in the wayback machine
[16:07:14] <Ms2ger> Hey hey hey
[16:07:24] <Ms2ger> Now that we did a rustup, can we move to piston-image?
[16:07:28] <Ms2ger> jdm, ^
[16:07:49] <Manishearth> oh no
[16:11:33] <Manishearth> I sort of destroyed my ubuntu install
[16:12:19] *** Joins: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net)
[16:14:14] <jgraham> "sort of"?
[16:14:54] <larsberg> I've done that before. e.g., you attempt to install the raw nvidia driver package. Technically, there's still a linux there, but good luck getting it to ever boot to anything but console again...
[16:14:59] *** Quits: shinglyu (Mibbit@moz-c7ajla.kbronet.com.tw) (Quit: http://www.mibbit.com ajax IRC Client)
[16:17:29] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[16:18:30] <acrichto> larsberg: hm yeah I got that far as well, and it makes me much more worried
[16:18:41] <jgraham> jdm: So can I convince you you want to work on #5804 ? :)
[16:18:41] <crowbot> Issue #5804: Add simple document load tracking infrastructure - https://github.com/servo/servo/pull/5804
[16:18:43] <acrichto> larsberg: I believe the compiler would be the one that has to run ranlib to fix that
[16:20:42] <larsberg> acrichto: hrm, what should we do here? Is there a bug open on rust to do so that I can track? Sorry for leaving this fallow for so long; this is the first time we've been within "just a couple days!" of master in a while
[16:21:29] <acrichto> larsberg: oh wait hm, let me investigate something real quick
[16:21:43] <kmc> running into this after the rustup: src/azure-c.h:8:20: fatal error: skia-c.h: No such file or directory
[16:22:17] *** Quits: akiss (akiss@moz-s2omc8.uio.no) (Ping timeout: 121 seconds)
[16:22:57] *** ahal is now known as ahal|lunch
[16:23:20] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[16:25:02] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[16:25:02] -ghservo- [13servo] 15larsbergstrom closed issue #4591: stb-image for Android requirest ndk-toolset binaries on the path 02http://git.io/vQ-ZoA
[16:25:02] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[16:25:19] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[16:25:19] -ghservo- [13rust-stb-image] 15larsbergstrom closed issue #31: Add travis integration 02http://git.io/vJj4q
[16:25:19] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[16:26:55] <mbrubeck> kmc: I'd try doing a clean build, or at least cleaning the rust-azure out dir
[16:27:50] <kmc> ok
[16:28:18] *** Joins: dinfuehr (dinfuehr@moz-eu971l.highway.telekom.at)
[16:28:27] *** chmanchester is now known as chmanchester|afk
[16:29:01] <Manishearth> larsberg: yeah, basically, was trying to update drivers. no worky
[16:29:13] <larsberg> Manishearth: it's a trap
[16:29:15] <Manishearth> jgraham: in that everything is running in RAM right now :)
[16:29:24] <Manishearth> well, it was
[16:29:38] <Manishearth> I shut down so that I can back my home folder up
[16:30:50] <Manishearth> the rest I don't care about; any custom installs are in my home folder and the rest is apt-get and I remember most of the stuff I'd installed
[16:31:33] *** Joins: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch)
[16:32:17] <mmatyas> Manishearth, have you tried purging the driver package?
[16:32:32] <Manishearth> mmatyas: it's ... slightly more complicated than that
[16:32:41] <Manishearth> let's just say that autoremove decided to ... remove everything
[16:33:15] <Manishearth> I'd installed the wrong package, and when I tried to remove it autoremove decided that baremetal linux was the way to go and removed everything
[16:34:08] <mmatyas> oh..
[16:34:53] <Manishearth> was due for an upgrade and cleansing anyway, so ...
[16:36:47] <jdm> jgraham: yes!
[16:38:24] <Ms2ger> jdm, I'll throw in the caveat that I didn't really review the design :)
[16:38:46] <jdm> Ms2ger: oh well, the train of progress rolls on.
[16:40:21] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[16:40:21] -ghservo- [13servo] 15jdm opened issue #5974: Identify critical subresources of stylesheets 02http://git.io/vJj23
[16:40:21] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[16:42:11] <acrichto> larsberg: ok so I take back what I said
[16:42:26] <acrichto> larsberg: so right now you override the linker for arm-linux-androideabi with components/servo/.cargo/config
[16:42:36] <acrichto> larsberg: I believe you also want to override `ar` to point to `arm-linux-androideabi-ar`
[16:42:59] <larsberg> acrichto: excellent - I'll give that a try!
[16:43:14] <acrichto> larsberg: I still get an error, but it looks much more reasonable: https://gist.github.com/alexcrichton/4986017519cdac4a2db1
[16:43:38] <larsberg> acrichto: awesome! That looks like something I can stare at for a while and track down
[16:43:43] <acrichto> hehe
[16:43:49] <acrichto> something about `ant` which I may just be missing locally
[16:43:52] <acrichto> (not sure what's calling that)
[16:43:55] <larsberg> additionally, we're supposed to be removing all references to libstdc++ on android-like platforms (in favor of stlport) anyway
[16:43:56] *** Quits: jga1 (asdf@moz-rag.t1q.244.77.IP) (Ping timeout: 121 seconds)
[16:44:06] <acrichto> yeah that part just looks like a warning
[16:44:09] <acrichto> so it may just be benign
[16:44:14] <acrichto> Error while executing program `ant` debug, or missing program.
[16:44:19] <larsberg> such faith :-)
[16:44:19] <acrichto> that may be the source of the error
[16:44:22] <acrichto> lol
[16:44:30] <Manishearth> ant is a java thing, no?
[16:44:32] <tomaka> I really need to rewrite the apk-builder as a wrapper around cargo
[16:44:37] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[16:44:39] <tomaka> it's been on my todo list for months now
[16:45:17] *** Quits: jga (jga@moz-rag.t1q.244.77.IP) (Ping timeout: 121 seconds)
[16:45:21] <acrichto> larsberg: but tl;dr; without overriding `ar` I believe you're using the OSX `ar` to assemble android archives, and apparently they're incompatible and produce slightly different results, so the android linker couldn't read archives produced by the OSX ar
[16:45:31] <acrichto> none of that makes sense to me as to why that's the case, but it appears to be the case :)
[16:45:57] <larsberg> acrichto: fantastic - thanks for tracking all that down!
[16:46:01] <acrichto> np
[16:46:28] *** Joins: mib_mn30hr (Mibbit@moz-juv.9o3.252.72.IP)
[16:48:02] *** Joins: pgonda (peter@moz-t6v.vkb.213.204.IP)
[16:49:51] <jgraham> jdm: The whole critical subreources of stylesheets thing is, iirc, an unholy mess in which no one is prepared to write a spec
[16:49:57] <jgraham> But maybe that changed!
[16:50:00] <jdm> delightful!
[16:50:11] <jdm> perhaps this will be my hill to die upon
[16:51:07] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[16:53:56] *** Joins: naudtov (naudtov@moz-3rgsah.hfc.comcastbusiness.net)
[16:55:02] *** chmanchester|afk is now known as chmanchester
[16:55:10] <jdm> Ms2ger: will be you able to complete reviewing #5846?
[16:55:11] <crowbot> Issue #5846: Implement Worker.prototype.terminate() - https://github.com/servo/servo/pull/5846
[16:55:25] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[16:55:39] * Ms2ger queues it up
[16:57:36] *** Joins: MrZeus (MrZeus@moz-n8pa5v.skybroadband.com)
[16:58:34] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[17:02:52] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[17:03:13] *** Joins: brson (brson@moz-4cm.c9m.56.172.IP)
[17:03:13] *** ChanServ sets mode: +o brson
[17:03:37] <jdm> Ms2ger: can you help me figure out what to do about #5851? I know you're not keen on storing attribute values in fields.
[17:03:38] <crowbot> Issue #5851: Implement the HTML background attribute - https://github.com/servo/servo/pull/5851
[17:04:21] *** Quits: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch) (Quit: Leaving.)
[17:05:43] <Ms2ger> jdm, I guess we can take the field for now, but it should put the implementation in RawLayoutElementHelpers::synthesize_presentational_hints_for_legacy_attributes
[17:05:57] <jdm> ok
[17:07:08] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[17:12:50] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[17:16:38] *** Quits: pgonda (peter@moz-t6v.vkb.213.204.IP) (Ping timeout: 121 seconds)
[17:17:01] *** Quits: Caspy7 (chatzilla@moz-q45ho1.6qgi.ef7f.0306.2602.IP) (Ping timeout: 121 seconds)
[17:23:34] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[17:23:34] -ghservo- [13servo] 15bors-servo pushed 0 new commits to 06tmp: 02http://git.io/vJj5W
[17:23:34] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[17:23:36] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[17:23:36] -ghservo- [13servo] 15bors-servo merged 06tmp into 06auto: 02http://git.io/vJj5l
[17:23:36] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[17:24:07] *** Joins: brson_ (brson@moz-cfhap5.mtv2.mozilla.com)
[17:24:36] *** ahal|lunch is now known as ahal
[17:26:41] *** jandem-brb is now known as jandem
[17:27:00] *** Quits: mib_mn30hr (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:27:33] *** Quits: brson (brson@moz-4cm.c9m.56.172.IP) (Ping timeout: 121 seconds)
[17:30:05] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[17:33:01] *** Joins: dinfuehr_ (dinfuehr@moz-l60tc1.highway.telekom.at)
[17:33:47] *** Quits: brson_ (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[17:33:56] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:33:56] *** ChanServ sets mode: +o brson
[17:34:28] *** Quits: dinfuehr (dinfuehr@moz-eu971l.highway.telekom.at) (Ping timeout: 121 seconds)
[17:40:25] *** Joins: jdm_ (jdm@moz-c70dou.fnjk.s0pt.0450.2001.IP)
[17:40:34] *** Quits: lewtds (lewtds@moz-i3e.gri.17.119.IP) (Ping timeout: 121 seconds)
[17:40:41] *** Joins: lewtds (lewtds@moz-i3e.gri.17.119.IP)
[17:42:37] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Ping timeout: 121 seconds)
[17:45:26] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:48:54] <jdm_> seanmonstar: ooh, appveyor looks handy
[17:49:16] <seanmonstar> jdm_: i just noticed the rand crate was using it :D
[17:49:56] *** Quits: naudtov (naudtov@moz-3rgsah.hfc.comcastbusiness.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:50:08] *** Joins: mwu (mwu@moz-fh9r6q.mh2d.1ibb.0101.2620.IP)
[17:51:01] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[17:51:12] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:51:12] *** ChanServ sets mode: +o pcwalton
[17:53:47] <frewsxcv> what advantages does appveyor have over travis?
[17:53:49] *** Quits: dinfuehr_ (dinfuehr@moz-l60tc1.highway.telekom.at) (Connection closed)
[17:53:53] <frewsxcv> i noticed a couple projects using it
[17:54:11] *** Joins: dinfuehr (dinfuehr@moz-l60tc1.highway.telekom.at)
[17:54:23] *** Joins: sneakyness (textual@moz-tmbr33.biz.rr.com)
[17:54:27] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[17:54:52] <jdm_> frewsxcv: https://github.com/travis-ci/travis-ci/issues/2104
[17:54:53] <crowbot> Issue #2104: Technical issues implementing Windows support - https://github.com/travis-ci/travis-ci/issues/2104
[17:55:07] *** Joins: tetsuharu (testuharu@moz-fmjbd6.ucom.ne.jp)
[17:55:22] <frewsxcv> ah
[17:56:52] *** Joins: saneyuki (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[17:57:06] *** Quits: saneyuki (tetsuharu@moz-fmjbd6.ucom.ne.jp) (A TLS packet with unexpected length was received.)
[17:57:29] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[17:58:00] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[17:58:13] *** Quits: dinfuehr (dinfuehr@moz-l60tc1.highway.telekom.at) (Ping timeout: 121 seconds)
[17:58:40] *** Joins: bholley (bholley@moz-hb3rtc.ca.comcast.net)
[17:59:18] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[17:59:20] <larsberg> jdm_: frewsxcv: I talk to one of the travis founders pretty regularly and they have some nifty ideas for ways that we could get a little more control + flexibility of our travis builders without going full-enterprise (or relying on some other service like appveyor that would be incredibly expensive, even at 50% off for OSS)
[17:59:50] * jdm_ thought appveyor was free for OSS?
[18:00:03] <jdm_> probably not at our scale, though :)
[18:00:43] <larsberg> jdm_: free for one concurrent job :-/
[18:00:46] <jdm_> ah
[18:00:52] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[18:00:53] <larsberg> ugh, and it looks like servo-master just went down again
[18:00:57] * larsberg goes off to poke at linode...
[18:02:33] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Connection closed)
[18:04:29] *** Joins: mr_wibble (Mibbit@moz-juv.9o3.252.72.IP)
[18:04:56] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[18:05:21] * larsberg is rebooting servo-master...
[18:07:02] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[18:10:12] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[18:10:52] *** Joins: dinfuehr (dinfuehr@moz-l60tc1.highway.telekom.at)
[18:13:58] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[18:16:38] <larsberg> "we have scheduled an emergency migration to different hardware in the Dallas facility"
[18:16:56] <jdm_> oops
[18:17:34] <larsberg> buildbot? more like breakbot! :-)
[18:17:43] <pcwalton> the way AttrValue derefs to str is pretty magical
[18:17:54] <pcwalton> (I'm not arguing against it, but it did confuse me for a sec)
[18:22:43] *** Joins: mwu_ (mwu@moz-fh9r6q.mh2d.1ibb.0101.2620.IP)
[18:25:53] *** Quits: mwu (mwu@moz-fh9r6q.mh2d.1ibb.0101.2620.IP) (Ping timeout: 121 seconds)
[18:26:38] *** Joins: bsmedberg (bsmedberg@moz-smm6jf.pa.atlanticbb.net)
[18:27:05] <bsmedberg> Is servo supposed to have scroll bars on Linux? Also, load external styles?
[18:27:16] *** Quits: mwu_ (mwu@moz-fh9r6q.mh2d.1ibb.0101.2620.IP) (Ping timeout: 121 seconds)
[18:27:43] <jdm_> bsmedberg: no scroll bars. what do you mean by should it load external styles, though?
[18:28:00] <bsmedberg> jdm_: like, I loaded my blog homepage and it looks completely unstyled
[18:28:07] <jdm_> that's out of the ordinary
[18:28:10] <jdm_> file an issue!
[18:28:23] <bsmedberg> haven't ever built servo before, so just wondering what's normal
[18:29:17] <bsmedberg> jdm_: what's the debugging/logging situation for servo/rust? Are there intro-to-debugging docs?
[18:30:02] <jdm_> bsmedberg: there's https://github.com/servo/servo/wiki/Debugging
[18:30:18] <jdm_> bsmedberg: and rr works apparently
[18:30:55] <jdm_> bsmedberg: rust has pretty decent gdb and lldb support, in general
[18:30:59] * mbrubeck goes to add `mach rr-record` and `mach rr-replay` to that wiki page.
[18:31:08] <jdm_> bsmedberg: and there are pretty-printers that are available to make it a nicer experience
[18:31:13] <bsmedberg> ok
[18:31:29] <jdm_> bsmedberg: http://michaelwoerister.github.io/2015/03/27/rust-xxdb.html
[18:31:33] <Manishearth> mbrubeck: if you like rr, want to debug the Servo segfault?
[18:31:45] <Manishearth> in the rustup PR
[18:31:56] <Manishearth> which I can't link to because internet slow because torrenting ubuntu iso
[18:32:05] <mbrubeck> I don't actually have rr installed yet, but sure...
[18:32:15] <Manishearth> because computer broke because apt is evil because drivers
[18:32:47] <Manishearth> mbrubeck: awesome, thanks!
[18:32:48] <kmc> because computer.
[18:32:53] <Manishearth> yes, that
[18:33:28] *** Joins: naudtov (naudtov@moz-3rgsah.hfc.comcastbusiness.net)
[18:35:37] *** Quits: Nekit1234007 (nekit@moz-fkt.die.51.84.IP) (Quit: leaving)
[18:37:45] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[18:38:14] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[18:42:42] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[18:47:33] *** Joins: akiss (akiss@moz-ulk.jp0.1.195.IP)
[18:47:35] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[18:47:35] -ghservo- [13servo] 15bsmedberg opened issue #5975: Styles not loaded for http://benjamin.smedbergs.us/blog/ 02http://git.io/vUegn
[18:47:35] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[18:47:45] *** Joins: Nekit1234007 (nekit@moz-fkt.die.51.84.IP)
[18:47:48] <barosl> Ms2ger, Did you call me?
[18:49:19] *** AutomatedTester|AFK is now known as AutomatedTester
[18:49:38] <Ms2ger> barosl, we talked about rebase-rather-than-merge for homu a while back, no news?
[18:51:44] *** Joins: Jayflux (Jason@moz-gbtrd0.dsl.as9105.com)
[18:51:46] *** Joins: nefzaoui (nefzaoui@moz-2ms.672.228.41.IP)
[18:52:06] <barosl> Ah, yeah. Right. Sorry, I've forgotten that until now
[18:52:29] <barosl> That should definitely come some day
[18:55:33] <larsberg> For those waiting on homu to reappear, we are now 12th in the "linode migration queue" to get some new h/w
[18:55:38] <bsmedberg> where is log_enabled implemented?
[18:55:53] <barosl> Oh, is it down for now?
[18:56:04] <bsmedberg> or, is there a DXR or similar tool which would make that question easy to answer?
[18:56:08] <larsberg> barosl: yeah, the servo-master is having hardware issues and linode needs to migrate it
[18:56:10] <barosl> Homu's dead! No more!
[18:56:30] <Manishearth> bsmedberg: doc.servo.org search
[18:56:39] <Manishearth> bsmedberg: poke nrc with a sharp stick to get dxr
[18:57:18] <Manishearth> doc.servo.org search doesn't do private fns but if its private it should be in the main repo so ./mach grep (or cd components/ git grep) should work
[18:57:23] <larsberg> bsmedberg: yeah, we have http://mxr.mozilla.org/servo/, but the fact that we now are creeping up on 100 submodules means the lack of submodule search is suboptimal
[18:57:39] <bsmedberg> heh
[18:58:07] <Manishearth> larsberg: mxr doesn't do dep search
[18:58:32] <jdm_> bsmedberg: FWIW I believe you're looking for RUST_LOG
[18:58:48] <Manishearth> oh I see you said that
[18:59:04] <Manishearth> using shared `screen` on a smaller display is hard
[18:59:23] <Manishearth> bsmedberg: RUST_LOG=debug=crate::module::module
[18:59:29] <Manishearth> or just RUST_LOG=debug
[18:59:37] <jdm_> RUST_LOG=debug will destroy you for servo
[18:59:38] <Manishearth> (debug/info/error/etc)
[18:59:39] <jdm_> don't go there
[18:59:50] <Manishearth> jdm_: its fine if you filter by module
[19:00:18] <jdm_> Manishearth: right, but RUST_LOG=debug as written will make you guzzle that firehose
[19:00:26] <Manishearth> yeah :)
[19:00:38] <Manishearth> have you ever tried that on debug rustc? ;)
[19:00:42] <jdm_> yeeeeep
[19:00:53] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:00:54] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[19:01:04] * jdm_ wonders where RUST_LOG is documented
[19:01:20] <kmc> env_logger crate?
[19:01:31] <Manishearth> jdm_: log crate toplevel, but it's sparse and old and broken
[19:01:37] <Manishearth> someone should fix that
[19:01:51] <kmc> http://rust-lang.github.io/log/env_logger/
[19:02:28] <Manishearth> kmc: ohhhhh that is nice
[19:02:56] <jdm_> critic automatically rebased my review for me
[19:02:58] <jdm_> that's spooky
[19:03:02] <jdm_> since when is it helpful?
[19:03:11] <Manishearth> now if only that was prominently featured on the main crate docs
[19:03:24] <Manishearth> jdm_: oh, it finally did what it was supposed to :p
[19:03:51] <kmc> I think nearly half of the time of the servo build I just ran was linking the final servo executable
[19:04:04] <kmc> ld ran for about 2 minutes
[19:05:00] <pcwalton> kmc: fascinating, can we switch to gold?
[19:05:06] <pcwalton> I have been concerned about linking times
[19:05:12] <pcwalton> it won't help on mac obviously
[19:05:20] <pcwalton> also, for debug builds we could start dynamically linking
[19:06:11] <jgraham> jdm_: That sounds entirely unlikely :)
[19:06:16] <kmc> why not for release?
[19:07:25] <larsberg> it would break cross-crate inlining and kill perf?
[19:07:43] <larsberg> we would have nearly 100 dylibs :-)
[19:07:43] <jdm_> jgraham: you're right, I got confused by the bizarre caching behaviour that critic displays and the occasionally-helpful auto-parent revision selection
[19:07:54] <kmc> i don't think it affects cross crate inlining
[19:08:07] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:08:28] <kmc> both a rlib and a dylib can export asts for monomorphization / inlining 
[19:08:33] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[19:08:41] <kmc> but yeah, startup performance would suffer, for one
[19:08:55] <larsberg> I think we could dynamic it for debug on non-cross builds, but I'm not super confident things would work on android / gonk so we'd want to test it
[19:09:03] <larsberg> (we've had a lot of trouble in the past)
[19:09:20] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:09:21] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[19:09:54] <Manishearth> kmc: rlibs export ASTs?
[19:09:56] <kmc> also possibly we can link stuff in parallel rather than doing one huge link that includes every dep
[19:10:03] <Manishearth> or is it some pared down thing or middle IR or something?
[19:10:22] <kmc> I believe it's https://github.com/rust-lang/rust/blob/master/src/librustc/middle/astencode.rs
[19:10:30] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[19:10:30] -ghservo- [13servo] 15bors-servo 04force-pushed 06tmp from 1462a76ee to 1429a43a0: 02http://git.io/veWu4
[19:10:30] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[19:10:32] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[19:10:32] -ghservo- [13servo] 15bors-servo merged 06auto into 06homu-tmp: 02http://git.io/vUe1T
[19:10:32] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[19:10:40] <kmc> this module is kind of terrifying
[19:10:41] <kmc> imo
[19:10:49] <Manishearth> ah
[19:11:07] <kmc> I think that both LLVM IR and AST are included
[19:11:17] <kmc> the former can be used for inlining, but the latter is needed for monomorph
[19:11:29] <kmc> though ideally it would be an IR in between Rust ASTs and LLVM
[19:11:40] <Manishearth> yeah
[19:12:16] <kmc> you can run 'ar t' on an rlib to see its contents
[19:12:38] <Manishearth> cool
[19:12:49] <kmc> btw cargo recently learned that staticlibs (unlike rlibs) shouldn't have a hash in the filename, because they're meant to be used from C
[19:12:55] <kmc> this is a small change but it makes me really happy
[19:13:08] <kmc> because now you can build C code and just pass -L../target/debug -lfoo
[19:13:41] *** Joins: dylan_ (dylan@moz-goiate.sc.comcast.net)
[19:15:20] *** Quits: tetsuharu (testuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[19:17:51] <Manishearth> kmc: tell, me what module in middle/, or indeed librustc_*, *isn't* terrifying? :P
[19:18:23] <kmc> the ones i wrote
[19:18:24] <kmc> clearly
[19:18:37] <kmc> i mean *I* understand them, so...
[19:20:11] *** jandem is now known as jandem-away
[19:21:41] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[19:23:18] <Manishearth> haha
[19:23:25] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[19:24:03] *** Joins: gandalf (zbraniecki@moz-u3dg2t.sfo1.mozilla.com)
[19:24:07] *** Quits: bholley (bholley@moz-hb3rtc.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:28:18] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[19:28:41] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[19:28:41] -ghservo- [13servo] 15larsbergstrom opened pull request #5976: Osx android fixes (06master...06osx-android-fixes) 02http://git.io/vUeQC
[19:28:41] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[19:28:58] <larsberg> acrichto: with your fixes, we can now cross build from OSX->android again! ^^
[19:29:09] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[19:30:58] <acrichto> larsberg: \o/
[19:31:12] <larsberg> thanks for the help :-)
[19:35:21] *** Quits: mr_wibble (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:52:36] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[19:52:55] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[19:52:55] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vUe1U
[19:52:55] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[19:52:58] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[19:52:58] -ghservo- [13servo] 15bors-servo closed pull request #5955: Embedding rebase rage (06master...06embedding-REBASE_RAGE) 02http://git.io/vJSrr
[19:52:58] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[19:53:26] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[19:55:34] *** Quits: dylan_ (dylan@moz-goiate.sc.comcast.net) (Ping timeout: 121 seconds)
[19:56:54] *** Joins: abaez (abaez@moz-pqg1ef.fios.verizon.net)
[19:57:19] <Manishearth> larsberg: should we CI that?
[19:57:51] <larsberg> Manishearth: you mean OSX->android build? if so, yes. But not today :-)
[19:58:35] <larsberg> I'm not looking forward to duplicating the salt setup info to push the android sdk+ndk onto the osx builder. I think it took a couple of days to get it working on Linux, and there I had some partially-working ones I could pilfer from in other github projects.
[20:00:26] *** Joins: mwu (mwu@moz-fh9r6q.mh2d.1ibb.0101.2620.IP)
[20:02:50] <pcwalton> jdm_: r? https://github.com/servo/servo/pull/5577 -- rewrote the patch
[20:02:50] <crowbot> PR #5577: script: Implement the `width` and `height` attributes for iframes per HTML5 Â§ 4.8.6. - https://github.com/servo/servo/pull/5577
[20:04:58] *** Quits: lewtds (lewtds@moz-i3e.gri.17.119.IP) (Quit: Leaving)
[20:05:36] <larsberg> jdm_: so it appears that we assign an owner to a PR if there are pending things to review or responses to comments from PR authors and leave them unassigned if the tasks are on the person who opened it, correct?
[20:05:48] * larsberg was trying to "help" and did a pass through all the open PRs
[20:05:52] <jdm_> larsberg: there is no rhyme or reason yet
[20:06:03] <larsberg> jdm_: well, it's consistent with what I just said right now :-)
[20:06:08] <jdm_> larsberg: I want to settle on the assignee being the reviewer
[20:06:19] <jdm_> and use tags to indicate the next action required
[20:06:28] <larsberg> jdm_: so keep it assigned to the reviewer the whole time?
[20:06:34] <jdm_> so reviewers can just look at S-awaiting review + assignee: me
[20:06:37] <larsberg> (I'm fine with that, just checking)
[20:06:42] <larsberg> aha, that makes sense
[20:09:13] *** Quits: dinfuehr (dinfuehr@moz-l60tc1.highway.telekom.at) (Connection closed)
[20:09:34] *** Joins: dinfuehr (dinfuehr@moz-l60tc1.highway.telekom.at)
[20:10:44] <zmike_> hooray I successfully committed
[20:13:37] *** Quits: dinfuehr (dinfuehr@moz-l60tc1.highway.telekom.at) (Ping timeout: 121 seconds)
[20:13:49] *** Parts: naudtov (naudtov@moz-3rgsah.hfc.comcastbusiness.net) ("Textual IRC Client: www.textualapp.com")
[20:15:34] *** Quits: abaez (abaez@moz-pqg1ef.fios.verizon.net) (A TLS packet with unexpected length was received.)
[20:16:48] *** Joins: clauderex (Mibbit@moz-juv.9o3.252.72.IP)
[20:18:47] *** Quits: clauderex (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:19:05] *** Joins: abaez (abaez@moz-pqg1ef.fios.verizon.net)
[20:19:44] <Manishearth> yesss rsync is awesome and now Im ready to install
[20:20:04] <Manishearth> I deleted tons of useless things like the gajillion wpt files and useless .git dirs and build dirst
[20:23:41] <Manishearth> larsberg: help on the rustup ICE would be awesome, but low-pri unless we have another reason to rustup
[20:24:17] *** Quits: akiss (akiss@moz-ulk.jp0.1.195.IP) (Ping timeout: 121 seconds)
[20:25:36] *** Joins: akiss (akiss@moz-ulk.jp0.1.195.IP)
[20:27:50] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[20:29:18] <larsberg> Manishearth: I thought it was bad generated code that crashes, not an ICE? Which is why I was worried it might something high-pri for somebody on rustc to look at. But admittedly I only scanned the issue comments...
[20:29:29] <Manishearth> larsberg: yeah, not an ice
[20:29:55] *** Joins: Jesse (jruderman@moz-5kkr1p.ujol.1ibb.0101.2620.IP)
[20:30:01] <Manishearth> but afaict it's not a fault on our side, *unless* it has to do with out lazy-static usage
[20:30:19] <Manishearth> but I didn't get the opportunity to dig into it properly
[20:31:38] *** Quits: akiss (akiss@moz-ulk.jp0.1.195.IP) (Ping timeout: 121 seconds)
[20:33:29] <SimonSapin> lazy_init uses std::sync::ONCE internally
[20:33:40] *** Joins: dstrbad (dstrbad@moz-0sjssq.dsl.iskon.hr)
[20:34:08] <SimonSapin> we shouldnâ€™t ever see uninitialized data from it
[20:34:38] *** Joins: nattokirai (nattokirai@moz-rq9a8e.asahi-net.or.jp)
[20:35:33] <Manishearth> yeah
[20:35:57] <Manishearth> SimonSapin: when I tested it the problem wasnt uninitialized data, it was a bad pointer to that struct
[20:36:46] <SimonSapin> Manishearth: oh, so itâ€™s &ComputedValues that pointed to random memory?
[20:37:15] <Manishearth> SimonSapin: (gdb) p *inherited_font_style 
[20:37:19] *** Joins: csmedberg (bsmedberg@moz-smm6jf.pa.atlanticbb.net)
[20:37:24] *** Joins: filsmick_ (filsmick@moz-tj8j41.abo.wanadoo.fr)
[20:37:52] <SimonSapin> Manishearth: what about inherited_style.font?
[20:37:54] <zmike_> gw: ping
[20:38:11] <Manishearth> uh, I forget now
[20:38:26] <Manishearth> (and I have no servo build to test on)
[20:39:26] *** Quits: bsmedberg (bsmedberg@moz-smm6jf.pa.atlanticbb.net) (Ping timeout: 121 seconds)
[20:39:34] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[20:45:37] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[20:48:19] <zmike_> pcwalton: I am looking at some of the patches you did on cef, and it seems you added and then removed a composite fn which would have allowed the app to schedule its own compositing?
[20:48:41] <pcwalton> did I remove it?
[20:48:44] <zmike_> yes
[20:48:50] <pcwalton> what commit did I remove it in?
[20:48:54] <pcwalton> I don't think I did...
[20:49:01] <zmike_> Add back in hash checks and support proper UTF-16 string
[20:49:03] <pcwalton> but I might have accidentally reverted something
[20:49:05] <zmike_> is the description
[20:49:15] <zmike_> so perhaps maybe it wasn't meant to be removed
[20:49:23] <zmike_> ?
[20:49:31] <zmike_> I can unrevert this if that was the case
[20:49:35] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:49:58] <pcwalton> hmm, I honestly don't remember
[20:50:02] <pcwalton> whether that was intentional
[20:50:08] <pcwalton> if it's breaking things feel free to bring it back
[20:50:23] <zmike_> it's not, I was just looking at something related to this
[20:50:30] <zmike_> and it seemed strange that you removed it in an unrelated commit
[20:50:37] <pcwalton> ok, I would leave it outâ€¦ I vaguely remember removing it because it was unnecessary
[20:50:43] <pcwalton> yeah, I should have structured the commit log better
[20:50:49] <zmike_> unnecessary how?
[20:51:10] <zmike_> my interpretation was that it would allow the app to manage when the browser engine was performing the compositing
[20:51:18] <pcwalton> well, the engine itself can do that
[20:51:24] <pcwalton> there's no need for the app to manage it, generally
[20:51:27] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:51:41] <zmike_> not accurate in many cases
[20:51:45] <pcwalton> any more than glutin, for example, has to manage how Servo does it
[20:52:10] <zmike_> any situation with deferred rendering will need this
[20:52:18] <pcwalton> what's deferred rendering?
[20:52:26] <zmike_> it's the opposite of immediate rendering
[20:52:40] <zmike_> you render later
[20:52:47] <zmike_> as part of a main loop
[20:52:54] <pcwalton> why would you want to do that?
[20:53:36] <moa> zmike, I am
[20:53:44] <zmike_> moa: handle this^
[20:54:20] *** Quits: filsmick_ (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[20:54:26] <moa> pcwalton, for starter vsync
[20:54:32] <moa> that's the most obvious case
[20:54:32] <pcwalton> vsync is already handled by the compositor
[20:54:40] <pcwalton> it calls eglSwapBuffers()
[20:54:51] <moa> yes and no
[20:54:57] <moa> it will wait for the vsync
[20:55:29] <moa> but if you start your rendering at the point of the previous vsync, you are more likely to finish pushing everything to the gpu when the next frame can be pushed to screen
[20:55:38] <moa> avoinding a longer wait in eglSwapBuffers
[20:55:53] <moa> alternatively you can put eglSwapBuffers in a thread so that you don't block the main loop
[20:55:59] <pcwalton> I don't quite understand what that means but I think we need off main thread compositing
[20:55:59] <pcwalton> yes
[20:56:01] <moa> and then you don't need to handle vsync
[20:56:12] <pcwalton> I have a PR for off main thread compositing that's been bitrotting for months
[20:56:18] <pcwalton> if you want me to rebase it I can
[20:56:32] <moa> second use case
[20:56:45] <moa> if you are using another toolkit to drive the compositing
[20:56:51] <moa> you want to sync the rendering with it
[20:57:11] <moa> and not force your way in that would result in you drawing in a texture that will then be composited
[20:57:16] <mwu> fwiw, gonk uses a driver provided vsync event to drive the compositing
[20:57:25] <mwu> on gecko, at least
[20:57:29] <moa> instead of doing direct rendering
[20:57:51] *** Quits: dstrbad (dstrbad@moz-0sjssq.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[20:58:23] <mwu> and the same vsync event is also used to resample touch events
[20:58:32] <pcwalton> you can already have the Servo compositor draw to a texture with initialize_compositing()
[20:58:53] <moa> that's what we are trying to avoid (as far as i understood what zmike told me)
[20:59:00] <moa> rendering to a texture slow things down
[20:59:11] <moa> you don't want to do that if it is not absolutely necessary
[20:59:37] <pcwalton> wellâ€¦ your OS is already doing that if you're running a compositing window manager, but if that's your use case...
[20:59:59] <pcwalton> I guess you could add a callback of some sort, Gecko has DrawWindowUnderlay() and DrawWindowOverlay() for this
[21:00:17] <pcwalton> the thing is that Servo needs to be able to request a composite on its own
[21:00:24] <pcwalton> because it'll fire animations and whatnot
[21:00:28] <pcwalton> that the app doesn't know about
[21:00:31] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[21:00:55] <moa> well, the fact that the OS does it is another problem that need to be solved
[21:01:08] <pcwalton> well, you can't just disable the compositing window manager
[21:01:08] <moa> and can be solved
[21:01:12] <pcwalton> that's been true for over a decade
[21:01:16] <moa> you can :-)
[21:01:23] <pcwalton> on Mac?
[21:01:24] <moa> linux support hardware plane
[21:01:24] <pcwalton> for example
[21:01:31] <moa> I have no idea on how mac work
[21:01:36] <moa> and it is their job to do it
[21:01:56] <moa> on linux, the compositor detect that the top application can be put on a hw layer and move it there
[21:02:08] <moa> then you can have direct to screen rendering no intermediate buffering
[21:02:38] <moa> that's one of the long term benefit of wayland, to do it in a generic way
[21:02:41] <pcwalton> I guess if you really want to avoid intermediate textures, then you can add callbacks
[21:02:45] <moa> otherwise today it is a hack per driver
[21:02:47] *** Quits: nefzaoui (nefzaoui@moz-2ms.672.228.41.IP) (Quit: Ex-Chat)
[21:02:52] <pcwalton> so that you can set up the rendering before Servo composites
[21:02:59] <pcwalton> custom glViewport, whatever you need
[21:03:26] <moa> sorry my knowledge of servo is limited here
[21:03:31] <moa> what i understood from zmike
[21:03:46] <moa> is that you already have a callback that tell you that you need to prepare a gl context
[21:04:17] <moa> and before you leave that callback, you have to do makecurrent
[21:04:21] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[21:04:35] <pcwalton> right
[21:04:36] <pcwalton> so we have that
[21:04:52] <moa> good, at least I understand the situation :-)
[21:04:53] *** Joins: curmet (Mibbit@moz-juv.9o3.252.72.IP)
[21:04:58] <gw> zmike_: pong
[21:05:00] <pcwalton> if you need another one so that you can factor out eglSwapBuffers(), that should work as well
[21:05:08] <pcwalton> if you don't want us to be doing the vsync
[21:05:23] <moa> oh, you are doing the swapbuffers ??
[21:05:42] <pcwalton> wellâ€¦ maybe, actually, let me look
[21:05:53] <pcwalton> this code has changed when it got glutinified
[21:06:08] <zmike_> I was going based off miniservo-gtk
[21:06:17] <zmike_> which does swapbuffer
[21:06:19] <pcwalton> ok, so we call present()
[21:06:33] <pcwalton> which calls OnPresent()
[21:06:34] <pcwalton> in CEF
[21:06:38] <pcwalton> so we actually do have that callback already
[21:06:41] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[21:07:00] <moa> ok, so the problem is just to delay all gl call until the toolkit is ready
[21:07:23] <moa> basically making the api completely async
[21:07:40] <pcwalton> so I guess what you want is for servo to be asked permission to composite before it can
[21:07:42] <pcwalton> err
[21:07:46] <pcwalton> for servo to ask permission, rather
[21:07:58] <pcwalton> and then you have to grant it permission for it to do so
[21:08:02] <moa> yes
[21:08:06] <moa> that would be perfect I think
[21:08:13] <pcwalton> I guess that's OK. you'll have to modify the compositor somewhat to do that
[21:08:22] <pcwalton> I'm not totally happy about that but it's probably inevitable :)
[21:08:26] <pcwalton> so it's fine
[21:08:46] <pcwalton> just bear in mind that Servo will be asking permission randomly, and even in the future off the main thread
[21:09:02] <moa> I think that's not really an issue
[21:09:05] <pcwalton> because of animations, async painting, and so forth, Servo may ask to composite at any time, and it's unpredictable when it might
[21:09:06] <pcwalton> ok
[21:09:40] <pcwalton> I would add a new WindowMethod, "request_compositing_permission" and then another event "CompositePermissionGranted"
[21:09:41] <pcwalton> or something like that
[21:10:02] <pcwalton> oh, another thing -- for good performance it'll be important that compositing permission is granted very quickly
[21:10:13] <moa> define quickly
[21:10:17] <pcwalton> <1ms
[21:10:24] <moa> oh, why ?
[21:10:26] <pcwalton> at the moment servo's tuned so that it gets things done "just in time"
[21:10:51] <moa> interesting, what happen if it get delayed by 4ms or 10ms ?
[21:11:08] <pcwalton> for example, it waits to composite after a scroll that reveals unpainted content until either the painted content comes in or it's just about to run out of time for the frame
[21:11:42] <pcwalton> if the latter happens it quickly composites to avoid dropping the frame
[21:11:58] <pcwalton> but, if it has to wait a long time for the compositing permission to be granted, it'll drop that frame, and scroll will jank
[21:12:14] <pcwalton> so, try to grant permission quickly :)
[21:12:27] <moa> well, the compositor will grant permission at the next coming frame
[21:12:34] <pcwalton> that's probably too late
[21:12:37] <pcwalton> you'll always be 1 frame behind
[21:12:39] <moa> so worst case will be below 16ms
[21:12:49] <moa> why ?
[21:13:01] <moa> the compositor is the one pushing the content to the screen
[21:13:24] <moa> is the rendering code slow that you need more than a few ms to generate the GL command ?
[21:13:57] <pcwalton> well, if you call swap_buffers() for one frame, then the compositor requests permission to composite the *next* frame, but permission takes 16ms to come in, then you've lost a frame
[21:14:01] <pcwalton> you're only going to render at 30fps
[21:14:10] <moa> ah, i see what you mean
[21:14:17] <moa> then that's not an issue
[21:14:24] <pcwalton> ok, that should be fine then
[21:14:31] <pcwalton> as long as you don't have behavior like that
[21:14:32] <moa> basically the compositor, start the rendering after the vsync
[21:14:42] <moa> it has now exactly 16ms to push the content to screen
[21:15:13] <pcwalton> it sounds like "compositing permission" is overlapping in a weird way with swap buffers
[21:15:18] <moa> it will call grant permission very early on in that 16ms
[21:15:20] <pcwalton> which I don't like
[21:15:41] <pcwalton> what I want to try to avoid is guessing how long swap_buffers() will take, that way lies madness
[21:15:49] <moa> oh sure
[21:16:37] <moa> that's why we rely on hw to tell us the vsync and not on swap buffer to do it (especially if you are triple buffered, in which case it wouldn't even work)
[21:17:12] <pcwalton> so, if you have a more reliable method than swap_buffers(), then that's OK, but on some platforms (for example Mac) swap_buffers() is the only way that works
[21:17:31] <pcwalton> so please don't remove the swap_buffers()-based code
[21:17:46] <moa> of course we have fallback
[21:17:49] <pcwalton> I have to say I'm a little concerned about having two totally different refresh drivers :(
[21:17:57] <pcwalton> we're going to be picking out bugs from this forever
[21:18:13] <pcwalton> (we *already* have big compositor synchronization issues...)
[21:19:28] <pcwalton> I guess I can see a way this could work
[21:19:36] <moa> great :-)
[21:19:43] <pcwalton> you're either in sync-refresh-driver mode or async-refresh-driver mode
[21:19:50] <pcwalton> you have the notion of "compositing permission", as before
[21:20:01] <pcwalton> if you're using swap_buffers, you just always have the permission to composite
[21:20:11] <pcwalton> because swap_buffers blocks
[21:20:18] <pcwalton> if you *aren't* using swap_buffers, then you have to wait for permission first
[21:20:46] <pcwalton> althoughâ€¦ meh, I'm not totally seeing the benefit on just blocking on vsync
[21:20:59] <pcwalton> why not justÂ have the compositor thread block on vsync?
[21:21:08] <pcwalton> if it's on a separate thread, it's not going to be janking the UI or anything
[21:21:44] <moa> for the direct rendering path, you need something trully async to integrate with any toolkit
[21:22:20] <pcwalton> sure, but why not just have the compositor run on a separate thread and the UI thread has only async communication with it?
[21:22:33] <moa> the separate thread would solve the vsync with swap buffer (but only if you are double buffered, triple and you won't have any vsync)
[21:22:57] <pcwalton> well, for triple buffering we could just replace swap-buffers with swap-buffers-and-wait-for-vsync
[21:23:45] <pcwalton> if you actually need the compositor to run on the UI thread, well, that's pretty unfortunate and that means that we won't be able to deploy OMTC on your platform :(
[21:23:59] <moa> what means OMTC ?
[21:24:06] <pcwalton> sorry, it's off main thread compositing
[21:24:13] <pcwalton> Firefox is currently trying to deploy it everywhere
[21:24:14] <moa> how does that work ?
[21:24:49] <pcwalton> it separates out the compositor thread from the UI thread, and puts the GL context on the compositor thread
[21:25:06] <moa> then how does the UI do it's rendering ?
[21:25:17] <pcwalton> it's on the compositor thread
[21:25:19] <mwu> on gecko+gonk, the vsync event drives the refresh driver
[21:25:21] <moa> does it also send compositing command to the compositor thread ?
[21:25:28] <pcwalton> yeah, it does
[21:25:31] <moa> i see
[21:25:48] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Quit: WeeChat 1.1.1)
[21:25:56] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[21:26:00] <pcwalton> (I'm not an expert on the exact Gecko implementation of OMTC but I believe we're moving toward it on every platform)
[21:26:20] <mbrubeck> https://wiki.mozilla.org/Platform/GFX/OffMainThreadCompositing links to some (old?) design docs for the Gecko implementation
[21:26:45] <moa> well, the things is we are trying to avoid doing unecessary compositing to improve performance in the first place
[21:27:27] <moa> meaning if it makes sense we directly push GL command that will draw the content directly without having to go through an intermediate texture and be composited
[21:27:49] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[21:28:06] <moa> also on the longer term we are moving the code that do gl command into its own thread, so that the main loop doesn't bother with it
[21:28:16] <moa> but it will still try to avoid compositing there
[21:28:38] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[21:28:38] -ghservo- [13servo] 15zmike opened issue #5977: embedding: provide better main loop integration than cef 02http://git.io/vUvXu
[21:28:38] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[21:28:38] <moa> so in the case of OMTC, you would get it for free with that of main thread rendering
[21:28:39] <pcwalton> that long-term approach sounds like the one that makes sense for Servo
[21:29:41] <moa> on the long term, I do think that the architecture of evas scenegraph make a lot of sense for servo itself
[21:29:58] *** Quits: Nekit1234007 (nekit@moz-fkt.die.51.84.IP) (Quit: leaving)
[21:30:13] <pcwalton> well, we have rust-layers which is similar
[21:30:13] <moa> (i don't think you can use evas to do the rendering as there is a lot of quirk in the html specification that make it really not obvious how to draw things on screen)
[21:31:42] <moa> I have no idea what is rust-layers :-)
[21:31:44] <moa> so I can't tell
[21:32:15] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[21:32:15] -ghservo- [13servo] 15zmike opened issue #5978: embedding: implement stubs/methods for offscreen rendering 02http://git.io/vUv1S
[21:32:15] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[21:32:58] <pcwalton> yeah, so I guess the problem here is that you simultaneously (a) want to use one GL context; (b) don't want to do any texture sharing; Â© want to control the main loop; (d) have extra widgetry you want to render with GL that Servo knows nothing about
[21:33:15] <pcwalton> that seems pretty incompatible with OMTC, unfortunately
[21:33:20] <moa> perfect :-D
[21:34:12] <pcwalton> I guess there's no other option other than selectively disabling OMTC and maintaining two compositors
[21:34:14] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[21:34:16] <pcwalton> that doesn't really make me happy
[21:35:24] <moa> I can understand that, still any integration with a toolkit in an efficient way should have the same requirement
[21:36:44] <pcwalton> I don't think so, though -- we're deploying OMTC on every platform in Gecko
[21:36:48] <pcwalton> and we haven't seen performance problems with it
[21:37:08] <pcwalton> and Firefox has to integrate with existing toolkits to some degree, if for no other reason than to draw window decorations
[21:37:22] *** Joins: dbaron (dbaron@moz-71m.3nd.202.89.IP)
[21:37:52] *** Quits: curmet (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:38:16] *** Joins: dbaron_ (dbaron@moz-u3dg2t.sfo1.mozilla.com)
[21:38:24] <moa> well, if you look just at the first 2 point you raised
[21:38:33] <pcwalton> fundamentally I think what OMTC needs is some way to composite into the host window from another thread
[21:38:36] *** Quits: csmedberg (bsmedberg@moz-smm6jf.pa.atlanticbb.net) (Quit: Leaving)
[21:38:47] <pcwalton> textures are the normal way to do this -- if textures are too slow, perhaps there's another method that will work?
[21:38:48] <moa> a) will consume a few more MB just by creating a new widget (from 10MB to 60MB depending on driver)
[21:39:15] <moa> b) consume more memory, more bandwidth and require the GPU to manipulate more data -> obviously having performance impact
[21:39:23] <pcwalton> so we didn't see that in Firefox
[21:39:57] <moa> my experience of firefox is that it is pretty slow from a performance point of view :-)
[21:40:05] <moa> and it is also consuming a hell lot of memory
[21:41:05] <zmike_> mbrubeck: ping
[21:41:08] <pcwalton> I don't see this turn of the conversation as productive
[21:41:11] <Savago> moa: are you trying to address the needs of EFL or Wayland?
[21:41:13] <Ms2ger> Sounds like your experience isn't very accurate
[21:41:18] <mbrubeck> zmike_: pong
[21:41:20] <moa> Savago, both
[21:41:27] *** Quits: dbaron (dbaron@moz-71m.3nd.202.89.IP) (Ping timeout: 121 seconds)
[21:41:29] <Savago> I think this approach is wrong.
[21:41:45] <Savago> Solve the case for wayland and you solve it for all toolkits (including EFL).
[21:42:05] <Savago> IIRC, Wayland represents clients surfaces as textures, right?
[21:42:22] <moa> pcwalton, I think that currently servo has a much better infrastructure and design that what firefox has
[21:42:24] <zmike_> mbrubeck: PM
[21:42:24] <Savago> And whenever something changes, it will notify the Compositor to perform its duties.
[21:42:35] <pcwalton> sure, I would agree with that, but I also think that Firefox did OMTC for a reason :)
[21:42:37] <pcwalton> anyway
[21:42:47] <pcwalton> it seems to me there are two concerns here
[21:42:54] <pcwalton> (1) multiple GL contexts are slow
[21:43:11] <moa> pcwalton, I will not deny the need for OMTC, just saying it is adapted for all situation, it will work well with how the main loop on mac os x run as far as I know
[21:43:13] <pcwalton> (2) textures are slow
[21:43:37] <pcwalton> in particular, render-to-texture is slow
[21:43:40] <pcwalton> compared to direct compositing
[21:43:46] <TD-Linux> ooh someone is trying servo on wayland with EGL?
[21:43:48] <moa> Savago, not really, that will work if you do not want to integrate with efl for providing a web widget for example
[21:44:17] *** Parts: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net) ()
[21:44:19] <Savago> IIRC, Chrome also has a GPU process responsible for compositing.
[21:44:31] <Savago> Similar to the idea of OMTC.
[21:44:31] <TD-Linux> OMTC should be easily achievable using the wayland subsurface API
[21:44:43] <moa> basically if you push a wayland buffer directly, and you do all the window content drawing with servo, you are fine
[21:44:45] <Savago> As the main thread is in the Browser Process.
[21:44:51] <pcwalton> TD-Linux: that's the kind of thing I'm thinking of. there may be a way to solve (2) without textures
[21:44:59] <moa> (that include doing the windows border and title bar)
[21:45:24] <pcwalton> note that when I say "texture" I don't actually mean "texture" anyway -- they're really EGLImageKHRs in the case of EGL
[21:45:32] <pcwalton> X pixmaps on X11, IOSurface on Mac
[21:45:44] <pcwalton> if we need a WaylandSubsurface, we could totally do that
[21:45:47] <moa> pcwalton, that's basically the same
[21:45:58] <moa> you still do one intermediate pixels rendering
[21:46:06] <Savago> moa: but window decoration insâ€™t a task of the Wayland Compositor?
[21:46:16] <moa> this consume memory bandwidth and gpu cycle
[21:46:18] *** Quits: nattokirai (nattokirai@moz-rq9a8e.asahi-net.or.jp) (Client exited)
[21:46:22] <moa> Savago, no
[21:46:26] <moa> not on wayland
[21:46:27] <TD-Linux> pcwalton, it would just be an EGLImageKHR on wayland as well.
[21:47:05] <TD-Linux> until the very final step of wayland subsurface, which would be part of the embedding API, e.g. CEF or whatever
[21:47:35] <pcwalton> I guess, honestly, having two compositors is not out of the question
[21:47:39] <pcwalton> we will need to do some refactoring
[21:47:41] <pcwalton> for sure
[21:47:59] <pcwalton> but possibly the OMTC-versus-non-OMTC mode, if done properly, doesn't have to be a lot of code
[21:48:04] <pcwalton> maybe 100 lines for OMTC and 100 lines for non-OMTC
[21:48:20] *** Quits: dawehner-afk (quassel@moz-grp.h0g.138.193.IP) (Ping timeout: 121 seconds)
[21:48:27] <moa> the easiest way to think about this is from an energy point of view, every time you add an operation, you consume more energy
[21:48:32] <pcwalton> I know the theory :)
[21:48:38] <pcwalton> Savago does have a good point that everyone is doing OMTC these days
[21:48:47] <pcwalton> including Chromium
[21:48:51] <pcwalton> the only holdout AFAIK is WebKit
[21:49:10] <Savago> pcwalton: and there are people working on enable this on WebKit too.
[21:49:12] <pcwalton> actually, well, Safari on Mac is OMTC I believe
[21:49:20] <TD-Linux> also, theories about power are nice and all, but you really need to measure it to know for sure.
[21:49:32] <moa> I can tell you for sure
[21:49:39] <TD-Linux> no you can't, unless you measure it
[21:49:40] <pcwalton> but, I'm not going to be the one to say "no" if it's your design requirement
[21:49:45] <moa> we have been doing measurement for years on the subject
[21:49:56] <pcwalton> so, I'll r+ the patch if you refactor the compositor appropriately ;)
[21:50:12] <moa> samsung is crazy on performance and measurement, that's the only thing they trust numbers
[21:50:22] <pcwalton> like I said if you do it right the OMTC-compositor and non-OMTC-compositor should be like 100 lines of code each
[21:50:27] <pcwalton> and the rest of the compositor can be shared code
[21:50:33] <TD-Linux> anyway that's OT, sorry
[21:50:39] <pcwalton> the only thing that changes is when you're allowed to call GL calls and how swap_buffers works
[21:51:51] <pcwalton> so, I say go ahead with the "compositor permission" stuff if you want :)
[21:52:00] <pcwalton> just try to keep supporting OMTC in a nice way
[21:52:02] <pcwalton> so we can do both
[21:52:16] <moa> sure
[21:52:41] <moa> still, I won't be the one implementing it, I will just let zmike_ handle the rest :-)
[21:52:45] <Savago> moa: about CSD (Client Side Decorations), people on KWin decided to delegate that *not* to each app, but instead to the compositor. 
[21:52:46] <pcwalton> (regarding vsync on Mac, I could rant for a while about how messed up CVDisplayLink is and how SwapBuffers() is the only thing that works, but I won't) ;)
[21:52:46] <Savago> http://blog.martin-graesslin.com/blog/2013/02/client-side-window-decorations-and-wayland/
[21:52:56] <moa> Savago, yes, i know
[21:53:19] <moa> the compositor can enforce an application to not use CSD
[21:53:24] <moa> the other way around is not possible
[21:53:28] <Savago> So it is not a Wayland protocol requirement at all.
[21:53:38] <TD-Linux> also I read the backlog a bit more and I do agree actually. you want to use the same compositor for both the content and surrounding widgets / decoration for minimum RAM usage
[21:53:52] <Savago> It is just that Weston decided to do so.
[21:54:02] <Savago> And I must assume, Enlightment too?
[21:54:03] <moa> the application can not ask the wayland compositor to do the drawing of the decoration
[21:54:07] <TD-Linux> as the ram usage is almost 2x if you use wayland subsurfaces for that
[21:54:13] <moa> it is a policy from the compositor
[21:54:13] <TD-Linux> unless you can do wayland subsurfaces with "holes"
[21:54:18] <pcwalton> TD-Linux: well, if we want a 3-process design like Chromium we won't have much choice, as Savago pointed out
[21:54:25] <moa> so the application has to handle the case where it has to be CSD
[21:54:30] <moa> it is a big must
[21:54:40] <pcwalton> furthermore, WebGL and GPU-accelerated Canvas2D and painting throw a wrench into the picture
[21:54:52] <pcwalton> with WebGL you're gonna have a separate GL context no matter what
[21:54:57] <pcwalton> unless we do something real weird
[21:55:03] <Savago> That should be up to the toolkit, not the app (in my view).
[21:55:45] <Savago> I would start by looking how Intel ported Chromium to Wayland.
[21:55:58] <Savago> I must assume that found a way to acommodate the GPU process.
[21:56:06] <Savago> Otherwise their patches wouldnâ€™t be accepted.
[21:56:08] <moa> pcwalton, in efl we have an infra, called Evas_GL that does pretty much offer the same thing as webgl but on top of evas, we do avoid as much as possible to create a new context, but it is a awful amount of work
[21:56:15] <Savago> that/that they
[21:56:36] <pcwalton> we could in theory do it too, since we're already proxying all WebGL commands to a separate thread
[21:56:46] <TD-Linux> I belive intel has been working a lot on reducing the per context cost too, because modern desktops are ending up with tons of contexts
[21:57:12] <moa> Savago, I don't see how the toolkit could make that decision as it is a decision made by the compositor
[21:57:15] <pcwalton> I don't know any way you can avoid having 2 contexts if you have a 3-process design like Chromium
[21:57:16] <moa> pcwalton, i think so to
[21:57:34] <pcwalton> you need a 2-process design before you can think about reusing the same context for UI and content
[21:57:52] <pcwalton> Chromium's design probably works fine with Wayland, it just needs 2 contexts
[21:58:45] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[21:58:45] -ghservo- [13string-cache] 15kmcallister opened pull request #84: Add a C API (06master...06capi) 02http://git.io/vUv5p
[21:58:45] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[22:00:42] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[22:01:01] <pcwalton> why does reviewable think I annotated one of my lines with "fasdfsadf"
[22:01:08] <pcwalton> maybe I accidentally fell on the keyboard on the review screen
[22:02:28] *** Quits: jdm_ (jdm@moz-c70dou.fnjk.s0pt.0450.2001.IP) (Quit: )
[22:02:58] <fabrice> pcwalton: maybe your cat was reviewing?
[22:03:12] <pcwalton> quite possibly
[22:07:11] <kmc> :3
[22:08:48] <mbrubeck> larsberg: I think servo-master might be down again
[22:09:15] *** Joins: dylan_ (dylan@moz-goiate.sc.comcast.net)
[22:11:01] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[22:12:36] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[22:13:27] *** Quits: dylan_ (dylan@moz-goiate.sc.comcast.net) (Ping timeout: 121 seconds)
[22:14:31] <larsberg> mbrubeck: sorry it just got migrated! Manishearth or jack can restart homu (sadly not a service)
[22:15:00] <larsberg> I will get it once I'm back from oral surgeon if it's still down
[22:15:05] <Manishearth> larsberg: I can't right now
[22:15:21] <Manishearth> my ssh setup is borked. I haveeverything backed up, but it's not wired together
[22:15:41] * Manishearth hopes rsync magically fixes everything
[22:15:56] <zmike_> hm I just updated and now I'm getting errors about all the static libs not being found when I try to build
[22:16:51] *** Joins: mib_au02or (Mibbit@moz-juv.9o3.252.72.IP)
[22:19:35] *** Joins: eibwen (eibwen@moz-odl.ora.231.217.IP)
[22:20:00] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[22:20:27] <jack> Manishearth: what screen is homu on?
[22:20:36] <Manishearth> jack: uh
[22:20:39] <Manishearth> the lars one
[22:20:45] <Manishearth> um
[22:21:06] <Ms2ger> https://github.com/servo/servo/wiki/Buildbot-administration needs an update
[22:21:52] <Manishearth> jack: oh, it's on a higher numbered screen
[22:22:46] <larsberg> jack: none because the machine got migrated
[22:23:07] <larsberg> (Unless manish restarted it)
[22:23:49] <larsberg> Ms2ger: I keep hoping we can turn homu into a service but I don't know how to do so.
[22:24:01] <Manishearth> jack: I'm on it
[22:24:10] <Manishearth> my keys and config got rsynced
[22:24:12] <larsberg> (And then we wouldn't need more docs apart from the salt setup for the service)
[22:24:37] <jack> servo-master doesn't seem to be reachable.
[22:25:07] <Manishearth> oy
[22:25:10] <Manishearth> who did that
[22:25:21] <jack> working now. weird.
[22:25:25] <jack> so how do I start homu?
[22:25:31] <larsberg> Something something "drive transplant"
[22:25:32] <Manishearth> already did
[22:25:45] <gw> Ms2ger: now that this (https://github.com/servo/servo/commit/a3b0c103812046166186f2584042088d37fd64eb) has landed, I *think* your mesa + 12.04 will work without any hacks again.
[22:26:05] <jack> oh. that was you that i booted and then booted me :)
[22:26:18] <Manishearth> larsberg: I've got a screen named homu running that we can keep exclusively for homu if we want
[22:26:25] <Manishearth> though having everything in one screen is easier
[22:28:25] <larsberg> Manishearth: I'd like to get it as a service :)
[22:28:29] <Manishearth> yeah
[22:29:29] <Manishearth> I think I know how to do it, but I need some free time and a working system. I'll have the latter up by tomorrow, no idea about the former
[22:30:04] *** Joins: akiss (akiss@moz-ulk.jp0.1.195.IP)
[22:30:37] <Manishearth> larsberg: I'm not so good with salt though -- is it fine if I do it (perhaps on a different port), write down the steps, and give it to you far saltification?
[22:31:03] <Ms2ger> How about ansible?
[22:31:16] <larsberg> Manishearth: that would be fantastic :) thanks! And no rush, hopefully the server will last longer now
[22:31:23] <larsberg> Ms2ger: patches accepted!
[22:31:23] <Manishearth> yeah
[22:35:00] *** Quits: mib_au02or (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:36:28] *** Joins: jga (jga@moz-jbf.t1q.244.77.IP)
[22:37:18] *** Joins: jga1 (asdf@moz-jbf.t1q.244.77.IP)
[22:39:13] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[22:39:13] -ghservo- [13servo] 15zmike opened issue #5979: embedding: hw accel bikeshedding 02http://git.io/vUfkq
[22:39:13] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[22:39:42] *** Quits: dbaron_ (dbaron@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[22:40:00] * Ms2ger creams at github
[22:42:10] <Ms2ger> screams, even
[22:42:19] * Ms2ger wants ice cream now
[22:44:53] *** Joins: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de)
[22:45:47] <reem> Ms2ger: githubâ€™s task and notification management could use a lot of work
[22:47:15] *** Joins: nated2 (nated@moz-5dm.p03.138.67.IP)
[22:48:23] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[22:48:23] -ghservo- [13servo] 15bors-servo merged 06tmp into 06auto: 02https://github.com/servo/servo/compare/92f46e3149df...9e5ed09b1aed
[22:48:23] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[22:48:27] *** Quits: nated (nated@moz-h0up8b.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[22:51:06] *** Quits: dawehner (quassel@moz-ipohd2.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:53:49] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:58:30] *** Joins: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com)
[22:59:10] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[23:02:55] *** Quits: zxq9 (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[23:03:37] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:04:46] <pcwalton> so, one of the WPT tests fails now in my inline-margins branch, because the test is testing whether "hspace" does the same thing as inline margins for images
[23:04:51] *** Joins: njn (chatzilla@moz-6gdjm4.iinet.net.au)
[23:04:56] <pcwalton> before, we did not implement either hspace or inline margins, so the test trivially passed
[23:05:10] <pcwalton> my branch implements inline margins but not <img hspace>, so the test fails
[23:05:15] <pcwalton> jdm: what is our policy for cases like this?
[23:06:03] <pcwalton> err, Ms2ger: perhaps you know ^
[23:06:27] <Ms2ger> Mark it as failing
[23:06:48] <pcwalton> ok, will do
[23:06:49] <jgraham> I don't know about policy, but common sense says that if you were passing for the wrong reasons before it should be fine to mark it as an expected fail
[23:06:55] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[23:07:06] <pcwalton> that's what I figured, but I wanted to make sure
[23:07:07] <jgraham> Oh look, I agree with Ms2ger
[23:07:26] <FreeFull> It should be tied to an "implement hspace" bug or such
[23:07:32] <Ms2ger> And perhaps mention that in the commit message
[23:07:38] <pcwalton> yeah, I'll do that
[23:08:25] *** Quits: eibwen (eibwen@moz-odl.ora.231.217.IP) (Ping timeout: 121 seconds)
[23:08:29] *** AutomatedTester is now known as AutomatedTester|AFK
[23:08:35] <Ms2ger> And maybe we should start annotating failures with bugs 
[23:08:36] <jgraham> If you want to get fancy you can put that in the wpt metadata
[23:08:54] <jgraham> Ms2ger: Stop that, dammit
[23:10:44] *** Joins: dylan_ (dylan@moz-goiate.sc.comcast.net)
[23:13:30] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[23:13:30] -ghservo- [13servo] 15bors-servo fast-forwarded 06tmp from 1492f46e3 to 14bfd1698: 02http://git.io/vUfG2
[23:13:30] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[23:13:31] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[23:13:32] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 149e5ed09 to 14bfd1698: 02http://git.io/A9I6iA
[23:13:32] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[23:14:56] *** Quits: dylan_ (dylan@moz-goiate.sc.comcast.net) (Ping timeout: 121 seconds)
[23:15:15] <pcwalton> ugh
[23:15:17] <pcwalton> linux-only reftest failure
[23:15:19] <pcwalton> possibly due to fonts
[23:15:21] <pcwalton> I hate my life
[23:15:51] <Ms2ger> I know the feeling
[23:17:05] *** Joins: xorcon (Mibbit@moz-juv.9o3.252.72.IP)
[23:17:11] <pcwalton> so a WPT test failed, I captured the result in /tmp/servo.log, but ./mach update-wpt /tmp/servo.log did nothing
[23:17:13] <pcwalton> help?
[23:17:49] *** Quits: akiss (akiss@moz-ulk.jp0.1.195.IP) (Ping timeout: 121 seconds)
[23:17:51] <pcwalton> oh wait, it auto-commits?
[23:17:52] <pcwalton> weird
[23:18:41] *** Joins: jweathersby1 (Adium@moz-7349po.ip.windstream.net)
[23:19:31] <pcwalton> gw: r? https://github.com/servo/servo/pull/5940
[23:19:32] <crowbot> PR #5940: layout: Implement inline margins. - https://github.com/servo/servo/pull/5940
[23:20:07] <gw> pcwalton: looking now. it looked good to me last time, will just have a quick check again
[23:23:52] <pcwalton> seanmonstar: ping
[23:24:06] <gw> pcwalton: one nit, otherwise squash and looks good
[23:24:23] <pcwalton> gw: cool, thanks
[23:25:15] *** Joins: jinwoo_mbp2 (jinwoo@moz-t0r.chb.167.121.IP)
[23:26:30] *** Joins: pgonda (peter@moz-otulp7.ma.comcast.net)
[23:28:47] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[23:28:47] -ghservo- [13rust-layers] 15pcwalton pushed 2 new commits to 06master: 02http://git.io/vUfWI
[23:28:47] -ghservo- 13rust-layers/06master 141b115c7 15ecoal95: Make `as_gl_target` and `texture_flip_and_target` public...
[23:28:47] -ghservo- 13rust-layers/06master 1488e87c0 15Patrick Walton: Merge pull request #156 from ecoal95/public-texture-methods...
[23:28:47] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[23:31:45] *** Quits: xorcon (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:32:45] *** Joins: dylan_ (dylan@moz-goiate.sc.comcast.net)
[23:33:07] <pcwalton> does anyone have a sense where Hyper is, in a general sense, relative to Necko or Chromium's network code?
[23:33:12] <pcwalton> HTTP code, in particular
[23:33:18] <pcwalton> what major features is it missing, what work needs to be done
[23:34:15] *** kimundi is now known as zz_kimundi
[23:34:27] <seanmonstar> pcwalton: pong
[23:34:33] <pcwalton> seanmonstar: ^ was my question :)
[23:36:43] <seanmonstar> pcwalton: can you refine the question?
[23:36:48] <pcwalton> it's a bit open-ended
[23:36:57] <seanmonstar> im sure theres plenty not implemented
[23:37:06] <mbrubeck> pcwalton: HTTP/2
[23:37:06] <pcwalton> but I guess another way to say it is: are any major features Hyper is missing
[23:37:19] <pcwalton> that immediately come to mind
[23:37:31] *** Joins: Guest64 (textual@moz-uh1.qhj.136.1.IP)
[23:37:33] *** Quits: Ms2ger (Ms2ger@moz-2md1ol.isp.belgacom.be) (Quit: nn)
[23:37:35] <reem> request pipelining
[23:37:42] <pcwalton> particularly with respect to performance
[23:37:55] <seanmonstar> theres an http2 pull request
[23:37:58] <pcwalton> reem: aha
[23:37:58] <mbrubeck> Checking TLS certificates (https://github.com/hyperium/hyper/issues/472)
[23:37:59] <crowbot> Issue #472: Does not do any TLS hostname verification - https://github.com/hyperium/hyper/issues/472
[23:38:00] <seanmonstar> i feel it needs som massaging
[23:38:18] <seanmonstar> the hyper::Client has connection pooling on by default now
[23:38:19] <mbrubeck> awesome!
[23:38:23] <mbrubeck> (re http2)
[23:38:44] *** Joins: yichoi (yichoi@moz-t0r.chb.167.121.IP)
[23:39:15] <reem> thereâ€™s the whole non-blocking io can of worms
[23:39:25] <pcwalton> yeah, that's not relevant to Web browsers AFAIK
[23:39:26] <reem> but that doesnâ€™t matter so much for the client
[23:39:30] <pcwalton> since I believe they just do blocking
[23:39:51] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Connection closed)
[23:40:05] <pcwalton> essentially I get asked the question "how much work does Servo's network stack need relative to browser X" and I don't know the answer
[23:40:33] <pcwalton> it's obviously more than no work but less than the work left in layout, I guess
[23:41:09] <reem> There arenâ€™t any seriously disruptive problems left on the client I think, mostly just nice-to-haves.
[23:41:21] <pcwalton> it still feels like our network perf in Servo is slow
[23:41:28] <pcwalton> but, maybe that's out-of-date? I'm not sure
[23:41:37] <pcwalton> is it that we haven't asyncified things yet? no prefetch during CSS?
[23:41:44] <seanmonstar> pcwalton: the client has pooling, but its not used in servo yet
[23:41:48] <pcwalton> aha
[23:42:42] <mbrubeck> pcwalton: Yeah, I think within Servo, networking is pretty serialized.
[23:42:55] <mbrubeck> pcwalton: For example we don't properly support <script async> or <script defer>, IIRC
[23:44:16] <pcwalton> yeah, that was the impression I had
[23:44:20] *** Quits: pgonda (peter@moz-otulp7.ma.comcast.net) (Ping timeout: 121 seconds)
[23:44:42] *** Quits: MrZeus (MrZeus@moz-n8pa5v.skybroadband.com) (Ping timeout: 121 seconds)
[23:44:51] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[23:45:49] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[23:47:05] <seanmonstar> pcwalton: do you have something more than "network feels slow"?
[23:47:16] <pcwalton> not really, I haven't done any benchmarking
[23:47:22] <pcwalton> I know, I'm the worst kind of bug reporter ;)
[23:47:26] <pcwalton> I can do more benchmarking
[23:47:28] <seanmonstar> specific requests are slow, or as an aggregate
[23:47:37] <pcwalton> it feels like an aggregate, but I haven't really tested
[23:47:44] <pcwalton> it doesn't help that I usually use debug builds
[23:47:50] <pcwalton> it could be HTML parsing or CSS even
[23:48:49] <seanmonstar> oh well yea, debug builds
[23:49:18] <pcwalton> sigh, the reason HN's layout is busted is that <table width=""> is unsupported
[23:49:20] * pcwalton goes to fix
[23:49:27] <pcwalton> (also <center>)
[23:50:15] *** Joins: nattokirai (nattokirai@moz-ikv.ii6.5.103.IP)
[23:50:30] <pcwalton> hmm, building servo oops'd my VM's linux kernel
[23:51:32] <adu> hi all
[23:51:34] <zmike_> too much parallel
[23:51:49] *** Joins: mib_5cyvei (Mibbit@moz-juv.9o3.252.72.IP)
[23:51:53] <FreeFull> oops
[23:52:05] <seanmonstar> i also wonder, if the networking in servo is multi threaded, or if each request is sequential
[23:53:50] <larsberg> we also don't prefetch/presecan for resources
[23:55:59] <seanmonstar> pcwalton: with there being less fires around being on stable, i can dedicate some time to adding pooling to servo::net
[23:57:29] <seanmonstar> actually, if i could figure out a way to get client::RedirectPolicy to be flexible enough to handle servo's cors needs, you could just use a proper hyper::Client and get pooling for free
