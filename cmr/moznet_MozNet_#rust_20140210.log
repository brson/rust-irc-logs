[00:00:03] *** cgaebel is now known as cgaebel|afk
[00:00:11] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:00:25] <Tekk_> mitsuhiko: I have done java game dev actually :P
[00:00:37] <mitsuhiko> i'm sorry
[00:00:46] <Tekk_> and for everything until gmp I was able to mentally write it off as worth keeping out
[00:01:20] <Tekk_> mainly because gmp is such a sort of basic and fundamental thing
[00:01:30] <Tekk_> "why shouldn't I be able to use / * + and - when I'm defining my own number types?"
[00:02:01] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Quit: )
[00:02:12] *** Quits: jadbaires (jadrian@3A6C765D.27626547.6119BA41.IP) (Quit: Konversation terminated!)
[00:02:17] <Tobba> hm
[00:02:20] *** Joins: jadbaires (jadrian@3A6C765D.27626547.6119BA41.IP)
[00:02:31] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:02:41] <Tobba> would it make sense to break off the parts of libstd like file into a separate libos library
[00:02:43] <mitsuhiko> i'm generally a huge fan of adding features that let people shoot themselves into the foot a bit, for as long as they use is discouraged
[00:02:54] *** Quits: jadbaires (jadrian@3A6C765D.27626547.6119BA41.IP) (Quit: Konversation terminated!)
[00:02:57] <mitsuhiko> on that note: can we get rid of unicode identifiers? :-P
[00:03:01] *** Joins: jadbaires (jadrian@3A6C765D.27626547.6119BA41.IP)
[00:03:06] <dbaupp> they're feature gated
[00:03:19] <Tekk_> mitsuhiko: yeah, it was C++ that turned me off to them
[00:03:20] *** Quits: eneas (Thunderbir@moz-D51B84D3.red-88-1-208.dynamicip.rima-tde.net) (Ping timeout)
[00:03:30] <dbaupp> and no, <3 θ for angles
[00:03:41] <Tekk_> "Let's make bit shifting do IO because it looks a bit like an arrow!"
[00:04:12] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[00:04:32] <SiegeLord> You shift bits into and out of the stream, it makes perfect sense
[00:05:04] <Tekk_> kinda?
[00:05:09] <Tekk_> I think it'd make more sense if it were per-character
[00:05:13] <Tekk_> then that would hold up
[00:05:17] <Tekk_> per-string is weird though
[00:06:44] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[00:06:54] <mitsuhiko> Tekk_: to be honest, given the alternatives it was probably a good choice
[00:06:59] <SiegeLord> I wonder if we could change indexing operator to be () and switch generics to []
[00:07:02] <mitsuhiko> however … c++ should have had variadic templates from the start
[00:07:10] * SiegeLord been doing too much MATLAB :/
[00:07:12] <jensnockert> Operator overloading makes sense for all number types, and indexing stuff, otherwise please keep out :S
[00:07:14] <mitsuhiko> SiegeLord: god no
[00:07:24] <Tekk_> mitsuhiko: the alternatives being actually putting io into a function? :P
[00:07:36] <mitsuhiko> Tekk_: until c++1x that was not an option
[00:07:47] *** Joins: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP)
[00:07:54] <mitsuhiko> unless you want to have a chain nightmare
[00:08:11] <vertexclique> hmm so libforkjoin should be used like libgreen?
[00:08:21] <Tekk_> mitsuhiko: because of type genericity issues?
[00:08:32] <Tekk_> can't have a va_arg function with templates or something?
[00:08:39] <Tekk_> I haven't even glanced at C++ since I ran away screaming years ago
[00:08:54] *** cgaebel|afk is now known as cgaebel
[00:09:02] <mitsuhiko> yeah, the only way to make things test at compile time is templates and they were not variadic until 1x
[00:09:08] <vertexclique> like written in http://static.rust-lang.org/doc/master/green/index.html acrichto?
[00:09:19] <mitsuhiko> though people have been overriding the "," operator instead in some codebases
[00:09:23] <vertexclique> "starting with libgreen section"
[00:09:26] <dbaupp> SiegeLord: generics used to be [] (years and years ago) :P
[00:09:31] <mitsuhiko> which is even worse because it changes the order of evaluation ...
[00:09:34] <mitsuhiko> c++ is a mess
[00:09:37] *** Quits: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP) (Ping timeout)
[00:09:40] <Tekk_> mhm
[00:09:40] <SiegeLord> dbaupp: I'm in a retro mood!
[00:09:56] <Tekk_> dbaupp: it almost makes sense in a messed up sort of way
[00:09:59] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[00:10:07] <Tekk_> you get to pretend that the function is an array of the specialized functions
[00:10:09] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[00:10:54] *** Quits: tjc (tjc@4104E3FB.CB3251F2.284344F5.IP) (Ping timeout)
[00:11:12] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[00:11:29] <FreeFull> C doesn't have a specified order of evaluation for function arguments, at the very least
[00:11:47] <mitsuhiko> FreeFull: neither has rust i think
[00:12:14] <Tekk_> unless I'm misunderstanding what you're saying, when exactly am I going to worry about the order of evaluation of my function arguments
[00:12:22] <Tekk_> while simultaneously not doing something horrible that I REALLY shouldn't be doing
[00:12:26] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[00:12:30] <FreeFull> foo(puts("a"),puts("b")); could output a and b in either order
[00:12:37] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Ping timeout)
[00:12:39] <mitsuhiko> … also known as doing horrible things
[00:12:44] <jensnockert> Tekk_: I think you're underestimating the amount of time people spend doing horrible things.
[00:12:47] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[00:12:50] <Tekk_> jensnockert: probably :)
[00:12:51] <FreeFull> This applies to any side effects
[00:12:57] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[00:13:32] * jensnockert sometime throws in puts like that to see what the arguments are.
[00:13:46] *** Quits: fabiand (fabiand@moz-35FDE3BA.hotelavanti.cz) (Quit: Verlassend)
[00:13:48] <kellogh> how do I convert a u16 to a u8 when I intentionally don't care about the upper 8 bits? i.e. I don't want to use u16.to_u8()
[00:14:05] <sfackler> foo as u8
[00:14:05] <jensnockert> kellogh: std::cast?
[00:14:09] <jensnockert> Or that.
[00:14:14] <Eridius> where's rusti?
[00:14:21] <Tekk_> Eridius: in a ditch somewhere
[00:14:25] <Tekk_> or will be soon
[00:14:25] <Eridius> and rustilite?
[00:14:54] <kellogh> yes
[00:14:56] <kellogh> tx
[00:15:30] <dbaupp> Eridius: on strcat's off/disconnected laptop
[00:15:36] <Eridius> laptop? :/
[00:16:47] <FreeFull> I wish we'd have proper hosting for rusti
[00:16:54] <dbaupp> talk to mozilla
[00:17:13] <dbaupp> seems like something they'd be willing to host... I'm sure they've got some webservers somewhere :P
[00:17:34] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[00:17:41] <mitsuhiko> put it on heroku's free tier
[00:20:35] *** Parts: agallego (agallego@moz-6B897026.nyc.res.rr.com) ()
[00:21:09] <dbaupp> how much memory does that have?
[00:21:42] *** Quits: alonlevy (alon@moz-7E95D53A.red.bezeqint.net) (Ping timeout)
[00:21:49] *** Joins: agallego (agallego@moz-6B897026.nyc.res.rr.com)
[00:23:23] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[00:24:04] <fabrice> can anyone help me to diagnose this "can't find crate for `std`" error while building servo: https://pastebin.mozilla.org/4239632 ?
[00:26:29] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[00:27:41] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[00:29:17] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[00:29:38] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[00:29:49] <cgaebel> I have a DO box that I use for VPNing with ~450 mb of ram and 1 gb of swap
[00:29:54] <cgaebel> (available ram)
[00:30:08] <cgaebel> actually, let's call it 400 mb
[00:30:58] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[00:31:10] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[00:33:14] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[00:34:28] <cmr> dbaupp: Indeed it does. See the documentation.
[00:34:29] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[00:34:37] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:34:41] *** Quits: ziad (ziad@moz-8FBE4774.hsd1.ca.comcast.net) (Quit: ziad)
[00:34:50] *** Quits: alkino_ (alkino@moz-2677AA92.w90-46.abo.wanadoo.fr) (Ping timeout)
[00:35:14] <dbaupp> cmr: grepping for -O and --opt-level turns up nothing...
[00:35:28] <cmr> dbaupp: sure, you pass the option yourself.
[00:35:31] *** Joins: ziad (ziad@moz-8FBE4774.hsd1.ca.comcast.net)
[00:36:14] <cmr> rustc_args = foo in the cargo-lite.conf
[00:36:19] <dbaupp> cmr: oh, so you'd have to always build it with opts?
[00:36:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[00:36:25] <cmr> yeah :(
[00:36:32] <cmr> this is fixed in the rewrite.
[00:36:32] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:36:42] <dbaupp> ok, cool
[00:36:47] <dbaupp> rewrite in Rust, right?
[00:36:51] * dbaupp rrr
[00:36:53] <cmr> nope :P
[00:37:13] * dbaupp kicks cmr
[00:37:29] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[00:38:12] <cmr> What have I missed the past two days that isn't on reddit?
[00:38:23] <vertexclique> what does  #[cfg(test)] meanS?
[00:38:59] <dbaupp> cmr: everyone who was responsive in #rust got a large lump-sum payment from mozilla
[00:39:07] <dbaupp> looks like you missed out, sorry :P
[00:39:10] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[00:39:16] <Tekk_> damn, should've talked more..
[00:39:32] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:41:37] *** Quits: MSB (mattbloom5@992D8E79.2F87036F.DDE5D3F6.IP) (Quit: MSB)
[00:42:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:42:12] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[00:43:19] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Quit: Leaving.)
[00:43:52] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:44:10] <sfackler> vertexclique: throw out whatever that's attached to unless tests are being built
[00:44:21] *** Quits: eibwen (kvirc@moz-FBCDE62C.dip0.t-ipconnect.de) (Ping timeout)
[00:45:18] <dbaupp> cmr: are you TWiR-ing?
[00:45:28] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[00:45:59] <cmr> dbaupp: I will be shortly.
[00:46:52] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[00:48:15] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[00:48:19] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:48:19] *** ChanServ sets mode: +ao dherman dherman
[00:48:57] *** Joins: coalcore (Mibbit@moz-AE55F4BE.cat.csiro.au)
[00:50:00] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[00:50:31] <tiernjo> Is it possible to pause an application for a set amount of time?
[00:51:28] <Tekk_> tiernjo: define application
[00:51:30] <Tekk_> ctrl+z
[00:51:34] <Tekk_> if you're in the terminal
[00:51:37] <dbaupp> tiernjo: there's std::io::timer::sleep
[00:51:42] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[00:52:15] <tiernjo> ::std::io::timer::sleep looks exactly what I need
[00:53:04] *** Joins: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net)
[00:53:44] <Hildar> tiernjo: It only blocks the task (not the whole application) according to the docs. Although that might still be enough if you only have one task.
[00:54:11] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Input/output error)
[00:54:18] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[00:54:26] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[00:54:46] <vertexclique> sfackler: thanks for info
[00:55:55] <tiernjo> I only need to pause one task, I think
[00:56:08] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[00:56:21] <agallego> why is this not possible https://gist.github.com/senior7515/8908516
[00:56:38] <cmr> agallego: that'd be like returning a pointer to a local variable.
[00:56:51] *** kimundi is now known as zz_kimundi
[00:57:01] <cmr> (in fact, that's exactly what it is)
[00:57:08] <dbaupp> || closures capture by reference, always
[00:57:26] <aatch> agallego, rule of thumb: you can't return anything with a '&' in it without a named lifetime.
[00:57:26] <agallego> cmr: is there a way to return a func that captures a local var. I've must have tried all combinations. 
[00:57:27] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:57:31] <agallego> ahh
[00:57:51] <cmr> agallego: you can use a proc, but that's probably not what you want.
[00:58:00] <cmr> so, not really, no.
[00:58:16] <cmr> that's like fn foo() -> &int { let x = 0; &x }
[00:58:42] <cmr> or in C, int *foo() { int x = 0; return &x; }
[00:59:05] <aatch> Even GCC catches that, I think
[00:59:06] <dbaupp> you just have to write a struct with a method as a manual closure
[00:59:13] *** Joins: froglegstew (Mibbit@moz-DFD94CE8.pool.ukrtel.net)
[00:59:13] <agallego> cmr: thanks. I was hoping for syntax where I transfer ownership of the local var to the closure. 
[00:59:33] <aatch> agallego, we used to be able to do that. It had all sorts of limitations
[01:00:11] *** Quits: froglegstew (Mibbit@moz-DFD94CE8.pool.ukrtel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:00:14] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:00:18] *** Joins: keret (Mibbit@moz-DFD94CE8.pool.ukrtel.net)
[01:00:26] <aatch> There doesn't seem to be a way to do this without there being some flaw, so we're trying to find the best place to put that flaw
[01:00:37] *** Quits: keret (Mibbit@moz-DFD94CE8.pool.ukrtel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:00:37] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[01:01:35] <agallego> aatch: thanks. I tried creating a type alias too, but off course that didn't work. I guess struct can do. feels a bit weird. 
[01:02:09] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[01:02:13] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[01:02:16] <aatch> agallego, the issue with transferring ownership to the closure is that the closure can then transfer ownership back out
[01:02:26] <aatch> So then it can only be called once
[01:02:32] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:02:35] <aatch> (which is what proc is
[01:02:38] <aatch> )
[01:07:26] *** Quits: zihaowang (zihaowang@moz-8BAEDE0A.hsd1.va.comcast.net) (Quit: )
[01:08:10] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[01:08:30] *** Joins: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP)
[01:08:41] *** Quits: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP) (Max SendQ exceeded)
[01:08:53] *** Joins: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP)
[01:08:57] <luisbg> twi, o/
[01:10:05] <cgaebel> \o
[01:10:12] <cgaebel> ...don't want to leave you hanging there
[01:10:34] *** Quits: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP) (Ping timeout)
[01:11:10] <agallego> aatch: i see. the problem is not with the function returned, but the ownership of the captured environment.  
[01:12:45] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[01:15:22] <tiernjo> I understand how Option<T> match sytem works, but the Timer::new IoResult isn't particularly clear to me
[01:17:08] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[01:18:49] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Connection reset by peer)
[01:18:52] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[01:19:22] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[01:19:33] <kellogh> how do I create a vector of non-constant length? like malloc(n)
[01:20:01] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[01:20:07] <cmr> kellogh: std::vec::with_capacity(n)
[01:20:13] <Hildar> tiernjo: Instead of matching on Some(T) and None, you match on Ok(T) and Err(IoError). It's a very similar concept, you just get more info other than "it failed" when it fails. Is there anything specific you don't get?
[01:20:49] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[01:21:03] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[01:21:03] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[01:21:03] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[01:22:47] <t4nk727> hey
[01:22:55] *** Quits: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu) (Connection reset by peer)
[01:23:12] *** Joins: synackse (jordyd@moz-D7EF1FAF.seg45.ucf.edu)
[01:23:20] <t4nk727> How does OS:: Pipe work?
[01:23:27] <t4nk727> What is the abstract, high level concept of it
[01:23:51] <t4nk727> if it's like p1 ... | p2 ... | p3 ...
[01:23:57] <cmr> t4nk727: it's just a container for two fd's, more convenient than an [c_int, ..2]
[01:23:59] <t4nk727> there would be 2 pipes
[01:24:12] <cmr> t4nk727: man 2 pipe
[01:24:16] <cmr> it's just a wrapper over libc
[01:24:32] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[01:24:42] <t4nk727> oh ok
[01:24:45] <t4nk727> let me read this
[01:24:50] <t4nk727> are you sure it's the same?
[01:24:53] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[01:24:54] <cmr> 100%
[01:25:05] <t4nk727> are you sure the os:: pie is the same as the pipe in man 2 pipe
[01:25:15] <cmr> yes.
[01:25:27] <cmr> http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/os.rs.html#318-325
[01:25:31] <cmr> look at the source :)
[01:25:53] *** Quits: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[01:26:42] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[01:27:08] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[01:27:17] <t4nk727> @cmr
[01:27:25] <t4nk727> thank you so much, let me read all that
[01:28:15] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[01:28:44] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:28:48] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[01:28:52] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[01:29:05] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[01:29:25] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[01:30:26] <t4nk727> @cmr well ok so
[01:30:38] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[01:30:39] <t4nk727> hi
[01:30:41] <Hildar> cmr: Glancing at that link you just posted and looking at the windows implementation. Is that a typo that it asserts(input != 0) twice instead of checking out != 0?
[01:30:45] *** Quits: t4nk727 (bzlandfill@8F6C2149.4DB138C4.DDE5D3F6.IP) (Quit: CGI:IRC)
[01:30:51] <cmr> Hildar: I don't know
[01:31:05] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[01:31:05] *** Joins: t4nk751 (bzlandfill@8F6C2149.4DB138C4.DDE5D3F6.IP)
[01:31:07] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[01:31:22] <apoelstra> i put a RustLanguage page on the c2 wiki. surprised there wasn't one already: http://c2.com/cgi/wiki?RustLanguage
[01:31:48] <Tekk_> apoelstra: it's nice to see that people still browse that :D
[01:31:50] <Hildar> apoelstra: But you didn't give it a punny name!
[01:31:51] <apoelstra> i don't know their crazy tag language, hopefully the locals will fill it in
[01:31:56] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[01:32:12] *** Joins: frogaincia (Mibbit@moz-21D467A8.vc.shawcable.net)
[01:32:19] <apoelstra> Tekk_: some pages said they were last modified in november and december, i think there's stuff going on still :P
[01:32:59] *** Joins: Afuna (sid21127@moz-31ABA2C0.irccloud.com)
[01:33:58] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[01:34:13] <apoelstra> Hildar: hmm, perhaps there should be a RustPuns page..
[01:34:24] <cmr> http://www.youtube.com/watch?v=SRH-Ywpz1_I
[01:34:26] <cmr> have a minute of them
[01:34:45] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[01:35:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:35:49] <ChrisMorgan> apoelstra: "starting in 2012"!?
[01:36:16] <apoelstra> ChrisMorgan: that was the date of the 0.1 release announcment
[01:36:17] <frogaincia> n00b question ... any emacs users around? flymake stumbles on the test files (complains "main function not found").
[01:36:39] <cmr> apoelstra: graydon started work on it in 2006 I think
[01:36:52] <ChrisMorgan> Mozilla became involved in 2009 and made it public in 2010.
[01:37:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[01:37:08] <ChrisMorgan> c.f. opening paragraph of https://en.wikipedia.org/wiki/Rust_%28programming_language%29
[01:37:08] <apoelstra> ChrisMorgan: ah, that matches my memory much better
[01:37:18] <vertexclique> wycats: if fork/join will written where it should be placed?
[01:37:35] <ChrisMorgan> apoelstra: it is merely that the first *numbered* release, 0.1, was January 2012.
[01:37:37] <vertexclique> to async green or sync side?
[01:37:53] <vertexclique> or for each task in runtime?
[01:38:02] <wycats> ChrisMorgan: ohai
[01:38:10] <wycats> I've got a question for ya
[01:38:14] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[01:38:25] * ChrisMorgan runs off to have lunch ;-)
[01:39:00] <wycats> fuuuuuuu
[01:39:00] <wycats> :P
[01:39:01] <ChrisMorgan> wycats: fire away. Estimated response time is 15 minutes.
[01:39:03] <wycats> ping me when you get back
[01:39:05] <wycats> ah ok
[01:39:16] <wycats> is it just me or did you not implement rust-http Request#body yet
[01:39:20] <wycats> if the answer is that you didn't
[01:39:25] <wycats> expect a PR momentarily
[01:39:35] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:39:38] <apoelstra> thx ChrisMorgan, cmr. fixed the date
[01:39:58] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[01:40:11] <apoelstra> wycats: i partially implemented it locally (mine reads the first line of input)
[01:40:15] *** Quits: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:40:25] <apoelstra> wycats: i had a lot of trouble with TcpStream's "block by default" behaviour
[01:40:31] <wycats> I'm unconvinced that "body" is correct
[01:40:35] <wycats> vs. providing a readable stream
[01:40:43] <wycats> that you can use whenever you real like reading
[01:40:54] <wycats> at least that way you can send the read to a different task if you want
[01:40:57] <apoelstra> wycats: i think, "body" is definitely not correct.
[01:41:06] <wycats> you agree with ^^
[01:41:10] <wycats> or something else?
[01:41:14] <apoelstra> i agree with you
[01:41:18] <wycats> I think blocking until body is done is clearly wrong
[01:41:27] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[01:41:27] <wycats> that behavior gave me serious pain in Ruby
[01:41:30] <apoelstra> yeah, absolutely, that breaks jsonrpc for example
[01:41:36] <wycats> yeah
[01:41:40] <wycats> long polling, web sockets
[01:41:44] <wycats> early flushing
[01:41:49] <wycats> it's just wrong honestly
[01:41:57] <wycats> my plan was to wrap the rest of the stream in a stream
[01:42:04] <cmr> yo dawg..
[01:42:05] <wycats> it's a tiny bit tricky due to keepalive
[01:42:10] <wycats> yo diggity dawg
[01:42:14] <apoelstra> but no matter who does the reading, this "read one byte too far then you block forever" behavior is really frustrating
[01:42:24] <wycats> apoelstra: in Ruby there are both
[01:42:27] <wycats> read and read_nonblock
[01:42:37] <apoelstra> yeah, rust does not support that on the stream level right now
[01:42:37] <wycats> apoelstra: it's not SO terrible given that you run each request in a task
[01:42:54] <wycats> apoelstra: there's no way to ask?
[01:42:57] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:42:59] <wycats> apoelstra: link to the low-level API?
[01:43:05] <wycats> seems worth fixing ASAP
[01:43:07] <wycats> acrichto: ^
[01:43:09] <apoelstra> wycats: i have a bug number actually, one sec
[01:43:11] <cmr> http://static.rust-lang.org/doc/master/std/io/trait.Reader.html
[01:43:25] <wycats> wow this is not good
[01:43:26] <wycats> -1
[01:43:31] <wycats> I'm happy to try and tackle it
[01:43:37] <acrichto> wycats: what's the question to answer?
[01:43:39] <wycats> the tl;dr is to use O_NONBLOCK under the hood
[01:43:47] <wycats> acrichto: are we missing something or is this indeed bad
[01:43:53] <wycats> if it's indeed bad I can try to tackle it
[01:44:01] <acrichto> I don't understand, what's the question?
[01:44:13] <wycats> acrichto: is there a mechanism to read_nonblock
[01:44:18] <wycats> i.e. read only if there's something to read?
[01:44:25] *** Joins: lucian_ (lucian@moz-8408FDFA.cable.virginm.net)
[01:44:27] <acrichto> not now, no
[01:44:35] <wycats> acrichto: is it controversial or just unimplemented?
[01:44:38] <apoelstra> it's just that the rust interface is not implemented. the low-level stuff definitely supports it
[01:44:39] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:44:39] <wycats> I happen to know the low-level API here
[01:44:54] <acrichto> haven't thought too much about it
[01:44:55] <wycats> apoelstra: the low-level Unix stuff or the low-level Rust impl
[01:45:02] <acrichto> that sort of question could probably have a nice api though
[01:45:03] <apoelstra> wycats: that'd be awesome if you can do it
[01:45:05] <cmr> (As an aside I think Reader should be fn read<'a>(&mut self, buf: &'a mut [u8]) -> IoResult<&'a mut [u8]>, returning part or all of the slice it was passed)
[01:45:09] <apoelstra> the low-level unix stuff supports it, i mean
[01:45:13] <wycats> apoelstra: right
[01:45:20] <wycats> via O_NONBLOCK
[01:45:26] <wycats> apoelstra: I've written a bunch of this code
[01:45:32] <wycats> I guess I don't know the Windows APIs
[01:45:50] <wycats> I could just go look at how Ruby does it
[01:45:57] <aatch> Well libuv uses non-blocking under-the-hood as far as I know
[01:45:59] <wycats> acrichto: you may be noticing a pattern :P
[01:46:05] <wycats> aatch: ah we use libuv
[01:46:07] <wycats> perfecto
[01:46:08] *** Quits: lucian_ (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:46:09] <wycats> seems simple
[01:46:10] <cmr> Only for libgreen.
[01:46:14] <wycats> hm
[01:46:14] <acrichto> what does ruby do for this?
[01:46:18] <acrichto> in terms of the api
[01:46:19] <wycats> one sec
[01:46:20] *** Joins: dylukes (dylukes@9C374738.F921FECE.8C677E46.IP)
[01:46:20] <cmr> Or, specifically, libgreen + librustuv
[01:46:21] <wycats> acrichto: ah
[01:46:25] <wycats> it has read and read_nonblock
[01:46:35] <wycats> read_nonblock raises an EWOULDBLOCK
[01:46:36] <aatch> cmr, oh right, forgot about that.
[01:46:36] <wycats> however
[01:46:38] <wycats> it's dumb
[01:46:38] <Yurume> cmr, hmm, how about selecting over both readers and ports?
[01:46:43] <wycats> and in Rust a Result works better anyway
[01:46:43] <apoelstra> wycats: oh, here we go, first search hit for TcpStream: https://github.com/mozilla/rust/issues/11349
[01:46:51] <acrichto> wycats: how would you improve the api?
[01:47:40] <wycats> https://github.com/ruby/ruby/blob/trunk/io.c#L2520
[01:48:06] <wycats> acrichto: I think something like read_nonblock(n) that returns a Result<bytes, WouldBlock> is fine
[01:48:19] *** Quits: dylukes (dylukes@9C374738.F921FECE.8C677E46.IP) (Client exited)
[01:48:24] *** Joins: dylukes (dylukes@moz-ED57011A.oakland.resnet.pitt.edu)
[01:48:40] <cmr> I don't think that is the right API
[01:48:45] <cmr> I don't think Reader needs to change.
[01:49:00] <acrichto> wycats: fn read_nonblock(&mut self, slice: &mut [u8]) -> IoResult<uint> ?
[01:49:23] <wycats> cmr: you think read should just not block?
[01:49:26] <cmr> If the underlying stream is non-blocking and read returns 0, you know it would have blocked.
[01:49:26] <wycats> that seems... wrong?
[01:49:36] <wycats> cmr: ah you're suggesting a flag on the stream
[01:49:41] <wycats> stream.nonblock = true
[01:49:51] <wycats> which would set the underlying O_NONBLOCK flag
[01:50:20] <dwrensha> wycats: could you wrap the I/O in a task, forward the result over a chan, and then do try_recv?
[01:50:42] <wycats> dwrensha: ideally you avoid needing even a green thread every time you need to non-blockingly read on a stream
[01:50:44] <wycats> it can really add up
[01:50:54] <wycats> cmr: traits can't have fields
[01:51:03] <cmr> wycats: they don't need them.
[01:51:14] <apoelstra> wycats: sure but you can do a set/get_blocking()
[01:51:24] <apoelstra> or set/get_block_timeout() where zero means nonblocking
[01:51:26] <wycats> cmr: you don't think that a WouldBlock err or something like that is necessary?
[01:51:29] <cmr> TcpStream::connect(addr, NonBlocking)
[01:51:51] *** Joins: mreca (mreca@moz-9B10510C.hsd1.va.comcast.net)
[01:52:00] <wycats> cmr: we'd need a new error type
[01:52:02] <wycats> maybe it already exists?
[01:52:07] <cmr> wycats: I don't think we do.
[01:52:14] <cmr> read can return Ok(0)
[01:52:17] <wycats> then I'm confused about what you're proposing
[01:52:21] <wycats> I don't think that's correct
[01:52:24] <cmr> Why?
[01:52:42] <wycats> hm
[01:53:12] <wycats> your position is that read(100) returning nothing is fine?
[01:53:20] <cmr> that's not the interface.
[01:53:21] <wycats> I think I would want to be able to trivially match on the difference
[01:53:25] <wycats> I know
[01:53:26] <dwrensha> wycats: seems like you only need one task per stream, not one task per read. Is that still to high a cost?
[01:53:32] <dwrensha> *too high
[01:53:37] <aatch> wycats, you can.
[01:53:39] <wycats> dwrensha: it can be
[01:53:42] <wycats> there are a lot of interfaces
[01:53:51] <wycats> and it sounds like you're saying that all of them should just work in non-blocking mode
[01:53:58] <aatch> wycats, you can match on Ok(0)
[01:54:08] <wycats> Ok(0) is not the correct return
[01:54:09] <wycats> fn read_bytes(&mut self, len: uint) -> IoResult<~[u8]>
[01:54:16] <wycats> is this going to return ~[]?
[01:54:23] <cmr> wycats: there was already a decision about how read_bytes reacts when there isn't enough bytes.
[01:54:25] <wycats> also, 0 is a valid byte
[01:54:30] <wycats> cmr: this is different than that
[01:54:35] <wycats> read_byte -> 0 is valid
[01:54:41] <wycats> a null byte is a valid thing to read
[01:54:44] <wycats> I'm really confused
[01:54:58] <aatch> wycats, because you keep moving things around
[01:55:06] <wycats> I do?
[01:55:12] <aatch> read_byte, read_bytes, read, all different functions
[01:55:16] <wycats> right
[01:55:30] <wycats> it sounds like cmr is saying they should all work in nonblocking mode
[01:55:30] *** Joins: dogurness (dogurness@moz-90B6A2CB.nyc.res.rr.com)
[01:55:32] <aatch> so Ok(0) is fine if it's from read_bytes
[01:55:35] <wycats> so I want to understand how that should work
[01:55:42] <wycats> how is Ok(0) fine from read_bytes
[01:55:44] <cmr> read_byte should block.
[01:55:50] <wycats> 0 is not a ~[u8]
[01:56:07] <wycats> it's not clear to me that read_byte should block
[01:56:15] <wycats> I want read_byte_nonblock
[01:56:50] <cmr> so use read(your_slice) and check if it read anything.
[01:56:53] <ChrisMorgan> wycats: unless you need it yourself, don't bother with improving request reading/writing stuff just at present—it's all going to be replace with a design that is actually thought out.
[01:57:35] <cmr> and I would consider the more-correct interface maybe_read_byte -> IoResult<Option<u8>> ...
[01:58:13] *** Quits: frogaincia (Mibbit@moz-21D467A8.vc.shawcable.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:58:48] <dbaupp> and then we'll want monad transformers \o.
[01:58:50] <dbaupp> *\o/
[01:59:00] <WebeWizard> robots in disguise
[01:59:49] <wycats> ChrisMorgan: I actually do need it
[02:00:05] <wycats> is there a place where this "actually thought out" design is being discussed?
[02:00:15] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:00:45] *** Quits: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP) (Ping timeout)
[02:00:45] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[02:00:57] * apoelstra would like to watch that discussion
[02:01:13] <dwrensha> There's some discussion about the new TcpStreams here: https://github.com/mozilla/rust/issues/11165
[02:01:43] <ChrisMorgan> wycats: not just yet; I'm still working on it as, having watched how things go with rust and the rust-dev mailing list, I think that producing a complete design is probably a better idea.
[02:01:52] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[02:01:53] <cmr> wycats: thinking on it more I'd be fine if read_byte etc return WouldBlock instead.
[02:02:06] <wycats> ChrisMorgan: can we sync up?
[02:02:18] * ChrisMorgan isn't sure precisely what wycats means by that
[02:02:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:02:30] <wycats> cmr: I think that is probably the correct design
[02:02:36] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:03:07] <darnuria|afk> hey how I can pass a Chan to a function?
[02:03:08] <cmr> wycats: but I still think we don't need nonblock methods, it'd just be represented as 0-length reads
[02:03:08] * ChrisMorgan is delighted with TcpStream.clone() having landed as it makes the new design workable and allows for HTTP/2.0
[02:03:14] <coalcore> hi all, anyone know why I can call incoming() on an Ok(TcpAcceptor) value? Is there some sort of implicit unwrapping?
[02:03:24] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Connection reset by peer)
[02:03:29] <cmr> wycats: The reason I think we shouldn't have separate non-blocking methods is for generic functions
[02:03:39] <darnuria|afk> like : let (port,chan): (Port<~str>, Chan<~str>) = Chan::new(); 
[02:03:40] <cmr> wycats: I don't want it to block if I give a non-blocking reader.
[02:03:41] <ChrisMorgan> coalcore: there is an `impl<A: Acceptor> Acceptor for Option<A>`
[02:03:49] <wycats> cmr: it's fine as long as the IoResult returns a WouldBlock
[02:03:55] <darnuria|afk> to a function like fn input_line(chan: &Chan<~str, ~str>) -> ()
[02:04:18] <ChrisMorgan> coalcore: sorry, for IoResult<A> now, not Option<A>
[02:04:20] <darnuria|afk> I tried to find it out on docs :(
[02:04:56] <wycats> ChrisMorgan: to you object to WouldBlock
[02:04:57] <apoelstra> darnuria|afk: just pass it in. but the types have to match. i don't think there is a Chan<~str, ~str>, do you mean Chan<(~str, ~str)>?
[02:05:02] <acrichto> wycats: it sounds like you want set_nonblock() and is_nonblock()
[02:05:08] <acrichto> wycats: and then we'd just propagate EWOULDBLOCK upwards
[02:05:12] <wycats> acrichto: yep
[02:05:20] <wycats> acrichto: via IoResult
[02:05:27] <apoelstra> ChrisMorgan: 
[02:05:27] <acrichto> yeah, I'd be down with that
[02:05:34] <cmr> wycats: I still think there's potential for badness here.
[02:05:39] <cmr> I'm not 100% sure though.
[02:05:41] <enix> This should compile, right: https://gist.github.com/DaGenix/8909133? Or, am I doing something wrong?
[02:05:45] <coalcore> ChrisMorgan: thanks, I had a look in the std documentation but I couldnt find any indication of that
[02:05:52] <darnuria|afk> Ho thanks I think I'am actually a little "lost" with some rust type syntax
[02:05:52] <ChrisMorgan> wycats: again, I don't understand what you mean—rust-http uses Rust I/O and will follow its patterns.
[02:05:59] <darnuria|afk> thanks a lot acrichto 
[02:06:02] <darnuria|afk> oups
[02:06:07] <darnuria|afk> apoelstra: thanks :)
[02:06:11] <wycats> cmr, ChrisMorgan: I gotta leave for a bit
[02:06:16] <wycats> let's pause this discussion?
[02:06:24] * cmr goes back to twir
[02:06:27] <ChrisMorgan> coalcore: http://static.rust-lang.org/doc/master/std/io/trait.Acceptor.html shows "IoResult<A>" as an implementer; not sure why it doesn't explain what A is (A: Acceptor)
[02:06:34] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[02:07:20] <coalcore> ChrisMorgan: ah awesome, cheers
[02:07:22] <ChrisMorgan> cmr: could you please mention if_ok? It looks like many people don't know about it and so often go to using Result.and_then
[02:07:33] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[02:07:46] *** Joins: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP)
[02:07:47] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[02:07:56] <cmr> ChrisMorgan: mention it where?
[02:08:07] <ChrisMorgan> In TWiR
[02:08:15] <cmr> Oh, yes!.
[02:08:22] <ChrisMorgan> Thanks ☺
[02:09:07] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[02:09:34] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[02:09:51] <WebeWizard> i'm guilty us just unwrapping the ioresult and assuming there isn't errors :)
[02:10:11] <WebeWizard> nobody got time for error handling
[02:10:15] <cmr> WebeWizard: and that's exactly what I'm worried about with WouldBlock being an "error"
[02:10:41] <cmr> I want "correct" code to be the most obvious.
[02:10:55] <cmr> in the face of non-blocking io, that becomes much harder.
[02:11:15] *** darnuria|afk is now known as darnuria
[02:11:19] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[02:11:40] <cmr> for example, imagine a parser... you give it a non-blocking TcpStream. It exhausts the buffer and rather than returning a WouldBlock error as part of an IoResult, it explodes in technicolor.
[02:11:45] <darnuria> apoelstra: Thats was it thank you! :)
[02:12:00] <cmr> but if there is an error, it may toss out any internal state it had as local variables etc/.
[02:12:14] <darnuria> humm Trying to iterate on stdin is not a good idea no? :o
[02:13:21] <WebeWizard> cmr, ya i see what you mean
[02:13:37] <cmr> dbaupp: how does haskell solve this?
[02:13:50] <cmr> I don't know it well enough to have a good intuition of how to handle these sorts of situations :(
[02:14:23] <cgaebel> cmr: maybe monad
[02:14:36] <cmr> cgaebel: not a solution here
[02:14:45] <cgaebel> cmr: I know :( but that's how haskell solves it.
[02:14:50] <cmr> what a poor solution!
[02:15:07] <dbaupp> cmr: solve what?
[02:15:14] * dbaupp wasn't following
[02:15:24] <cmr> dbaupp: the possibility of state and soforth when doing i/o
[02:15:32] <cmr> see above parser example
[02:16:19] <dbaupp> not really sure... laziness means it acts differently?
[02:16:23] * dbaupp shrugs
[02:16:30] <cmr> perhaps
[02:16:42] <dbaupp> I haven't done any IO on things that block/partially read in Haskell
[02:17:12] <cmr> I feel like this is a hard problem and if anyone has an answer it'd be the haskell community..
[02:18:38] <dbaupp> iteratees and/or pipes are the jargon, iirc
[02:18:42] <cgaebel> okay wait I must've missed something here
[02:18:47] <cgaebel> what's the problem?
[02:18:54] <apoelstra> maybe someone should ask in #haskell on freenode
[02:19:19] *** Quits: dogurness (dogurness@moz-90B6A2CB.nyc.res.rr.com) (Quit: dogurness)
[02:20:14] <cmr> Meh, I actually think it's not too much of a problem.
[02:20:16] * cmr twirs
[02:20:42] <dbaupp> in general, doesn't the possibility for partial reads just require writing the code to handle it? (e.g. have an internal buffer than gets filled with the non-parsable partial input)
[02:21:15] <cmr> yeah
[02:21:24] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[02:21:38] <cmr> I'd rather not have the possibility at all that the code is doing Wrong Things, though.
[02:21:39] <dbaupp> (or, just blocking)
[02:22:01] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[02:23:04] <acrichto> cmr: most of the default methods in 'trait Reader' are the ones that deal with partial reads
[02:23:04] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[02:23:25] <cmr> right
[02:26:10] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:26:54] <kvark> is there any way to read everything from Reader and write into the Writer without allocating the storage for all of it?
[02:27:08] <dbaupp> kvark: std::io::util probably has something
[02:27:15] <kvark> I mean, we can always do writer.write(reader.read_to_end()), but is that the best?
[02:27:30] <wycats> I scumbagged myself by bringing this up when I can't pay attention :(
[02:27:36] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[02:27:58] <cmr> kvark: http://static.rust-lang.org/doc/master/std/io/util/fn.copy.html ?
[02:28:00] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[02:28:01] <kvark> found it
[02:28:03] <kvark> thanks!
[02:28:54] <Jesin> hm, is there a place to donate towards rust development?
[02:29:05] *** Joins: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net)
[02:29:09] <Jesin> is the project well-organized enough for that?
[02:29:20] <acrichto> Jesin: we take donations in the form of pull requests!
[02:29:24] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[02:29:47] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[02:30:34] *** Rusky is now known as rpjohnst
[02:30:36] <vertexclique> wut?  'unresolved import (maybe you meant `native::*`?)'
[02:31:26] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[02:31:26] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[02:31:27] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[02:31:49] <vertexclique> so how can i import native?
[02:32:06] <cmr> vertexclique: `extern mod native;` will pull it in.
[02:32:12] <vertexclique> pcwaltons work stealing need it in native interface
[02:32:13] *** Joins: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net)
[02:32:18] *** rpjohnst is now known as Rusky
[02:32:41] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[02:32:47] *** Parts: igork (igork@moz-F6DD8476.broadband.corbina.ru) ()
[02:32:54] <cmr> you don't need to `use` it to access it, it's available like `native::start`
[02:32:57] <darnuria> There is an eof value definition for reading stdin?
[02:33:12] <cmr> vertexclique: http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[02:33:33] <darnuria> like in std::io::File ?
[02:33:54] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:34:06] *** Parts: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net) ()
[02:34:07] *** Quits: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP) (Quit: Leaving.)
[02:34:43] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[02:34:53] *** Joins: fyolnish (fyolnish@moz-12AE9574.uqwimax.jp)
[02:39:09] <vertexclique> cmr: nice to know. thanks!
[02:39:23] <cmr> darnuria: what do you mean?
[02:43:05] <dbaupp> heh, Java 8 seems to have Iterators. well done strcat for making our iteration correct.
[02:43:47] *** Joins: halifaxsexknight (Mibbit@moz-C5185F21.dhcp.ftwo.tx.charter.com)
[02:45:09] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:46:31] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[02:46:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:47:18] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[02:49:03] <darnuria> cmr: I search a way to determine if I reach EOF on a stream like stdin
[02:49:16] <darnuria> I try to get value from stdin from a task
[02:49:50] *** Quits: kanru` (kanru@moz-3017E9A4.hinet-ip.hinet.net) (Ping timeout)
[02:50:06] <darnuria> and I processes it in the main task I send value with a Chan
[02:52:35] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[02:52:40] <darnuria> cmr: My code http://sebsauvage.net/paste/?eadc5e3efb58cb01#WaxqtmS86OkQHCCf6bz0TSR3Rvn8jZsjd/kWvTPIqOA=
[02:53:02] <darnuria> cmr: I would be better than a loot of explanation :)
[02:54:04] <cmr> darnuria: http://static.rust-lang.org/doc/master/std/io/enum.IoErrorKind.html#variant.EndOfFile
[02:54:24] <cmr> (part of http://static.rust-lang.org/doc/master/std/io/struct.IoError.html)
[02:54:38] <darnuria> Oh thanks i need to spend more time on doc O_O
[02:55:17] <darnuria> cmr: Thats like in python rising an execption to indicate end of a for loop. xD
[02:55:30] <darnuria> Except here this is an error.
[02:55:31] <cmr> not really?
[02:55:43] <dbaupp> darnuria: when stdin hits eof() input_line will quit and close the Chan
[02:55:49] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[02:56:05] <dbaupp> and port.try_recv() -> Option<~str> will then return None
[02:56:05] <darnuria> dbaupp: yep thats not the problem my problem is in my loop
[02:56:10] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[02:56:14] <darnuria> Ah thanks :D
[02:56:31] <dbaupp> so match port.try_recv() { ... } should work
[02:56:52] <darnuria> So I can do Some(s) => //process stuff, \ None => break
[02:56:58] <dbaupp> yep
[02:57:01] <darnuria> nice
[02:57:13] <darnuria> Thats for a student shell.
[02:57:14] <dbaupp> I think you might be able to do `for s in port.messages() { ... }` and it will break automatically
[02:57:19] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[02:57:31] <darnuria> I would try to make something with concurency and term lib ;)
[02:57:50] <darnuria> And now I play arround with task/chan etc for testing :)
[02:57:54] *** Quits: t4nk751 (bzlandfill@8F6C2149.4DB138C4.DDE5D3F6.IP) (Quit: CGI:IRC (Ping timeout))
[02:58:07] <darnuria> dbaupp: Seriously? Nice.
[02:58:25] <darnuria> Better than loop { ... break}
[02:59:20] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[02:59:23] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[02:59:59] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[03:00:10] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:00:41] <darnuria> dbaupp: Thats not port.message but port.iter() I think
[03:00:47] <darnuria> dbaupp: http://static.rust-lang.org/doc/master/std/comm/struct.Port.html
[03:00:50] *** Joins: jga (asdf@BB456C1F.2734305A.B5524284.IP)
[03:01:33] <darnuria> How Yeah it work !
[03:01:38] <dbaupp> oh, yes :)
[03:02:01] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[03:02:10] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[03:02:26] <darnuria> Thanks for helping me ! I think Rust community is one of the best programming community :)
[03:02:34] *** Quits: jga (asdf@BB456C1F.2734305A.B5524284.IP) (Ping timeout)
[03:02:34] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:06:14] <darnuria> Hum I just have to handle channel hang up now.
[03:08:25] <kvark> I got "task '<main>' has overflowed its stack". Where do I put a breakpoint to catch this with gdb?
[03:09:12] <cmr> kvark: rust_fail, although I thought overflow was just an abort, which gdb should catch automatically...
[03:10:17] <kvark> cmr: ah, true. I tried that and noticed that the message goes nevertheless, so just assumed it didn't stop at rust_fail.
[03:13:29] *** Joins: Seb (Seb@moz-97344273.actrix.co.nz)
[03:13:34] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:16:14] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:16:38] <darnuria> How I can check this before getting a failure? (task '<unnamed>' failed at 'sending on a closed channel',)
[03:17:06] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (No route to host)
[03:17:12] <cmr> darnuria: try_send
[03:17:34] <kvark> cmr: I wonder why Writer implemented objects do not flush() on being destructed
[03:17:53] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[03:17:57] <kvark> that would be so natural to expect... you write something, then forget about the thing.
[03:17:59] <darnuria> cmr: I get the same when I send ctrl-d
[03:18:09] <darnuria> cmr: (I'am on Linux)
[03:18:35] <cmr> kvark: indeed, want to open an issue, or perhaps a PR?
[03:18:46] <kvark> cmr: will look into that
[03:18:50] *** Quits: synackse (jordyd@moz-D7EF1FAF.seg45.ucf.edu) (Ping timeout)
[03:18:59] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:19:40] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[03:21:45] *** Joins: synackse (jordyd@moz-D7EF1FAF.seg45.ucf.edu)
[03:22:28] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[03:22:53] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[03:23:51] <darnuria> cmr: Arf I'am not happy chan interpret ctrl-d as an hangup natively. ;p
[03:24:03] *** Joins: Vermeille (Mibbit@24E9F58C.DF3CA0D0.BA2F4534.IP)
[03:24:11] <Vermeille> Hi
[03:24:18] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[03:24:42] <Vermeille> I'm trying to see what changed in rust 0.9, why can't I iterate over a rvalue?
[03:24:51] <darnuria> So when I try to send EOF who was triggerd by Ctrl-D I can't because chan as alrealy hangup.
[03:25:01] *** Quits: jadbaires (jadrian@3A6C765D.27626547.6119BA41.IP) (Quit: Konversation terminated!)
[03:25:02] *** Joins: jga (asdf@BB456C1F.2734305A.B5524284.IP)
[03:25:08] <darnuria> :O
[03:25:21] <Vermeille> for &dir in std::io::readdir(my_path).iter() { ... }
[03:25:45] <Vermeille> rustc complains that the borrowed ptr returned by readdir does not live long enough
[03:25:46] <cmr> darnuria: hangups are just from the Chan being destructed, which happens when the task fails etc.
[03:25:57] <cmr> Vermeille: you couldn't do that pre-0.9 either.
[03:26:17] <Vermeille> Okay, I shouldnt have tested that before
[03:26:32] <cmr> you can on master, though.
[03:26:32] <Vermeille> must I really hold a variable for that?
[03:26:33] <darnuria> cmr: So why I make Ctrl-d I get an error? :/
[03:26:49] <cmr> Vermeille: on 0.9, yes.
[03:27:20] <Vermeille> Okay.
[03:27:55] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[03:28:34] <Vermeille> Last time (~ 1 year ago) I was trying to write a little physics engine, It was impossible to easily define operator overloading for both Int + Vector and Vector + Int, does it have been "solved"?
[03:28:53] <cmr> Vermeille: no, and it probably won't
[03:29:07] <darnuria> cmr: I will find a solution later thanks for help :)
[03:29:15] <cmr> darnuria: sorry :(
[03:29:23] *** Quits: ctangent (textual@moz-4B354EF9.hsd1.wa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:29:29] <darnuria> I will understand why ctrl-d make my program mad =D
[03:29:35] <Vermeille> cmr: okay :) np, Rust is still super super sexy
[03:29:35] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[03:30:05] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[03:30:10] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[03:30:16] <darnuria> cmr: No problem rust is like haskell on some points I have to "turn"  my brain x)
[03:30:55] <darnuria> cmr: if i can't get it I will post this on stackoverflow.
[03:31:00] <cmr> Vermeille: I write http://cmr.github.io/blog/categories/this-week-in-rust/, which tracks every breaking change since almost 0.7 or so.
[03:31:17] <Vermeille> Ooooh perfect!
[03:31:20] <Vermeille> ty!
[03:31:39] <cmr> maybe it was 0.6
[03:31:46] <cmr> I don't remember anymore
[03:31:54] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[03:32:00] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[03:32:30] <Vermeille> I will have several system courses, like "writing driver for linux" or that kind of things. Do you think that it would be a good idea to try to do it in rust, or is that too low level for the purpose of the language?
[03:32:41] <cmr> Vermeille: It's certainly possible!
[03:33:04] <cmr> Vermeille: https://github.com/tsgates/rust.ko is an example of it, though it's a bit dated.
[03:33:50] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[03:33:59] *** Quits: mreca (mreca@moz-9B10510C.hsd1.va.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:34:27] *** Joins: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP)
[03:34:43] <Vermeille> Okay, I will definitely give it a try :D !
[03:36:17] *** Quits: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP) (Ping timeout)
[03:36:17] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Connection reset by peer)
[03:36:46] <darnuria> cmr: If you want to see my code https://github.com/darnuria/42rust-sh/blob/master/rust-term.rs that it
[03:37:21] <darnuria> I will try to hack arround getting data from stdin within a separate task for trying to purpose autocomplete like fish
[03:38:06] <darnuria> now I make it without passing term into "Icanon" mode etc... for testing.
[03:38:26] <darnuria> But if I can't get ctrl-d I will be sad ;)
[03:38:34] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[03:38:50] *** Quits: zz_kimundi (kimundi@moz-4FC677A6.dip0.t-ipconnect.de) (Ping timeout)
[03:40:36] <darnuria> Thanks for all everyone good night! 
[03:40:44] *** darnuria is now known as darnuria|ZzZ
[03:41:57] *** Quits: saati (s@moz-11469F61.harmless.hu) (Ping timeout)
[03:42:15] *** Joins: zz_kimundi (kimundi@moz-44C5A950.dip0.t-ipconnect.de)
[03:42:33] *** zz_kimundi is now known as kimundi
[03:43:21] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:44:33] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:45:54] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:46:24] <cgaebel> I get this error: https://gist.github.com/cgaebel/8910018 when I try compiling this: https://github.com/cgaebel/rust/blob/robinhood-hashing/src/libstd/hashmap.rs Did I break the borrow checker?
[03:47:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:47:41] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[03:47:41] *** ChanServ sets mode: +ao brson brson
[03:47:54] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:48:00] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[03:48:50] *** Joins: ctangent (textual@moz-4B354EF9.hsd1.wa.comcast.net)
[03:49:19] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:49:19] *** ChanServ sets mode: +ao dherman dherman
[03:50:50] *** Quits: synackse (jordyd@moz-D7EF1FAF.seg45.ucf.edu) (Ping timeout)
[03:50:59] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[03:53:24] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[03:53:44] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[03:54:48] *** Quits: dylukes (dylukes@moz-ED57011A.oakland.resnet.pitt.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:55:30] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[03:59:33] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[04:00:08] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:03:07] *** Joins: pepper_chico (pepper_chi@moz-3005614F.dsl.telesp.net.br)
[04:05:40] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[04:05:53] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[04:06:04] *** Quits: John-Galt (kris@moz-882434A3.hsd1.or.comcast.net) (Ping timeout)
[04:06:08] *** Joins: John-Galt (kris@moz-882434A3.hsd1.or.comcast.net)
[04:07:47] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:08:41] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[04:08:41] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[04:09:35] *** Joins: dylukes (dylukes@moz-ED57011A.oakland.resnet.pitt.edu)
[04:10:18] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:10:40] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:11:03] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[04:11:46] *** Quits: dylukes (dylukes@moz-ED57011A.oakland.resnet.pitt.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:12:25] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[04:12:58] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[04:14:17] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[04:14:31] <wycats> ChrisMorgan: are there tests in rust-http?
[04:15:10] <ChrisMorgan> wycats: some. `make check`.
[04:15:23] <wycats> where do they live?
[04:15:35] <ChrisMorgan> Right through the source.
[04:15:39] <wycats> got it
[04:15:52] *** Quits: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu) (Ping timeout)
[04:16:40] <ChrisMorgan> The rewrite will have a proper test suite; at present, it's typically on the more recently written things which are tested properly.
[04:16:46] *** Joins: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu)
[04:16:53] <wycats> do you have an ETA on the rewrite?
[04:17:04] <wycats> is it public?
[04:17:21] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[04:17:33] <ChrisMorgan> The most significant things of the lot (i.e. the actual transfer stuff) are approximately not tested at all. That's what happens when you're prototyping it as you go and still figuring out feasibility…
[04:18:16] <ChrisMorgan> wycats: the design specification for comments, approximately one week.
[04:18:17] <Vermeille> What means 'a as an argument to a generic?
[04:18:30] <Tekk_> any type
[04:18:30] <ChrisMorgan> Vermeille: it's specifying a lifetime.
[04:18:32] <Tekk_> oh
[04:18:39] <dbaupp> named lifetime https://github.com/mozilla/rust/wiki/The-Rusticon#wiki-syntaxicon
[04:18:41] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[04:18:47] <dbaupp> http://static.rust-lang.org/doc/master/guide-lifetimes.html
[04:18:51] * Tekk_ needs to stop thinking of ocaml o.o
[04:19:14] <dbaupp> someone should rm the managed boxes section of that^
[04:19:17] * dbaupp would r+
[04:19:23] <wycats> ChrisMorgan: link please?
[04:19:28] <ChrisMorgan> wycats: none yet
[04:19:33] <wycats> ah... a week for the design spec
[04:19:34] <wycats> got it
[04:20:01] <wycats> any reason not to do the design somewhat in public?
[04:20:14] <ChrisMorgan> wycats: I decided doing that part behind closed doors was probably better, to direct the discussion at the end more specifically. I've been watching what happens in rust-dev…
[04:20:23] <wycats> ChrisMorgan: makes sense
[04:20:30] <wycats> ChrisMorgan: you could have a smaller group at first
[04:20:37] <wycats> having a good http library in Rust is critical
[04:20:37] <Vermeille> Okay, thank you, looks like it's too complicated for me now
[04:21:04] <wycats> I would like to point out that we have just lost a user due to the complexity of lifetimes
[04:21:09] <wycats> tag this moment in time
[04:21:15] <wycats> the next time someone says it's super-simple and obvious
[04:21:42] <Vermeille> Hum.
[04:21:50] <wycats> Vermeille: I'm sorry :(
[04:21:58] <Vermeille> I just meant it seems it's not my current issue.
[04:22:08] <wycats> Vermeille: sorry I was just being snarky
[04:22:20] <wycats> many people think that lifetimes are simple and totally fine to put in the critical path for noob
[04:22:21] <wycats> noobs
[04:22:25] <ChrisMorgan> wycats: Rust is *not* a conceptually simple language. We've turned away a number of users because of (a) its instability and (b) its complexity compared with their readiness to cope with that complexity.
[04:22:50] <dbaupp> wycats: I don't understand how making lifetimes implicit will make it easier to work with them
[04:22:56] <wycats> dbaupp: it depends
[04:23:02] <wycats> my proposal was probably wrong
[04:23:03] <Vermeille> wycats: I didn't even read what they mean, I just saw it's not my issue
[04:23:09] <ChrisMorgan> I'd say that if you're used to the concepts, it's straightforward, but until you are—and very, very few people not experienced with Rust will be—they do take effort.
[04:23:13] <dbaupp> you end up with weird compile errors where one version of the code compiles, but another very slightly different version doesn't
[04:23:16] <wycats> Vermeille: sorry, I didn't mean to drag you into this :)
[04:23:18] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[04:23:19] <wycats> we're here to help
[04:23:58] <wycats> dbaupp: the current syntax, documentation, and error messages all conspire to make it suck
[04:24:12] <wycats> dbaupp: but the fact is that there is accidental complexity in lifetimes atm
[04:24:16] <dbaupp> wycats: I'd agree with docs definitely
[04:24:19] <Vermeille> There should not be anything hard to get as long as there is a good explanation for it. C++ developpers are able to get crazy metaprogramming stuff, move semantics and all that shit, all is in the way you explain them :)
[04:24:24] <dbaupp> I think our error messages aren't so bad though :)
[04:24:34] <wycats> dbaupp: the lifetime error messages are very, very bad
[04:24:39] <wycats> dbaupp: the story one is especialyl so
[04:24:41] <wycats> especially
[04:24:44] <dbaupp> and syntax is just hard no matter one :(
[04:24:46] <dbaupp> story?
[04:24:51] <wycats> whenever the lifetime is involved in a call
[04:24:59] <dbaupp> *no matter what
[04:25:06] <wycats> dbaupp: syntax is hard but not intractable
[04:25:07] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[04:25:16] <dbaupp> do you have a better syntax in mind?
[04:25:30] <wycats> not all three of those are necessarily part of the solution but they should all be on the table
[04:25:40] *** Quits: halifaxsexknight (Mibbit@moz-C5185F21.dhcp.ftwo.tx.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:25:48] <wycats> dbaupp: all I really want is an acknowledgement that lifetimes currently are too confusing for what they achieve in the language
[04:26:02] <ChrisMorgan> I do not acknowledge that.
[04:26:03] <wycats> and need to be really considered before 1.0... the conclusion of that consideration may be "write better docs"
[04:26:04] <Vermeille> (My issue is that I just have a ~[Path], and would like to have an ~Iterator<Path> instead of the ~Iterator<&Path> returned by .iter())
[04:26:05] <coalcore> lifetimes should be surrounded by a prime number of spaces
[04:26:05] <wycats> I could live with that
[04:26:27] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:26:27] <wycats> ChrisMorgan: that's too bad
[04:26:51] <dbaupp> wycats: lifetimes are basically what makes Rust performant and safe at the same time... i.e. they are essentially the core of the language
[04:26:55] <Yurume> Vermeille: .move_iter() gives Iterator<Path> while destroying the original vector.
[04:27:00] <dbaupp> so they achieve a *lot*
[04:27:07] <wycats> wait zomg
[04:27:10] <dbaupp> (that's not to say they aren't confusing)
[04:27:13] <Vermeille> Perfect yurume! thx!
[04:27:15] <wycats> you totally misunderstood what I meant by "lifetimes"
[04:27:26] <ChrisMorgan> Vermeille: or you can clone the paths if you need the original vector intact: `iter.map(|path| path.clone())`
[04:27:26] <wycats> I meant the combination of syntax, error messages and docs for *explicit lifetimes*
[04:27:30] <wycats> not the semantics of lifetimes
[04:27:38] *** Quits: cdidd (cdidd@moz-B8DFC4E5.broadband.corbina.ru) (Input/output error)
[04:27:43] <wycats> obviously the lifetime semantics are critical and core for Rust
[04:28:00] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Client exited)
[04:28:07] <dbaupp> right... but how does "the combination of syntax, error messages and docs are too confusing for what they achieve in the *language*" make sense?
[04:28:16] <dbaupp> I don't understand that at all if you aren't talking about semantics
[04:28:19] <ChrisMorgan> wycats: I retract my lack of acknowledgement, then, but reserve judgement upon the remaining question as it doesn't seem to me to make sense.
[04:28:23] <Yurume> ChrisMorgan: it does seem a common pattern, we may have some helper method for that: to_value()? map_clone()?
[04:28:31] <Yurume> does seem to be*
[04:28:32] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[04:28:40] <dbaupp> I think a really good walkthorugh starting really simple would make lifetimes much more tractable
[04:28:47] <wycats> dbaupp: today, if you want to return a borrowed reference, you get smacked in the face with the syntax
[04:28:53] <wycats> and the error messages don't help you
[04:29:03] <wycats> and there is very little documentation to help you
[04:29:27] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[04:29:37] <wycats> the syntax is representing a "linking" between param and return value
[04:29:56] <wycats> but it isn't very obvious
[04:30:16] <wycats> http://static.rust-lang.org/doc/master/tutorial.html
[04:30:23] <wycats> explicit lifetimes do not appear in the tutorial at all
[04:30:26] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[04:30:37] <wycats> despite the fact that you will need them in practice in every single real-life Rust program
[04:30:45] <dbaupp> yeah, the tutorial isn't great
[04:30:56] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[04:31:01] <ChrisMorgan> wycats: it has been an explicit decision in Rust to avoid any type inference outside function bodies; lifetimes are thus implicitly included in that. (That is not to say that the decision can't be altered, but one would wish to be extremely careful about doing so because it opens a new can of worms.)
[04:31:05] <dbaupp> however the new linked list section is perfect to be extended into this
[04:31:29] <wycats> ChrisMorgan: I understand that
[04:31:33] <dbaupp> ... strcat was actually planning on doing it, but then he wasn't exactly encouraged by how he and the tutorial has been treated
[04:31:41] <wycats> I think you guys (dbaupp and ChrisMorgan) are conflating two things: 
[04:31:50] <wycats> the fact that lifetimes are a key part of how Rust works today
[04:32:07] <wycats> and tweaks/changes we could make to make explicit lifetimes more comprehensible
[04:32:13] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[04:32:17] <wycats> I am talking about the latter
[04:32:39] <wycats> I'm not even *necessarily* talking about language tweaks
[04:32:45] <wycats> although I don't think those should be off the tables
[04:32:45] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[04:32:46] <wycats> table*
[04:32:54] <wycats> I'd be totally open to trying harder on error messages first
[04:33:11] <dbaupp> people are working on error messages as we speak
[04:33:11] <wycats> with pointers to clear documentation about the "linking" idea
[04:33:13] <dbaupp> (well, person)
[04:33:16] <wycats> dbaupp: are they?
[04:33:36] <dbaupp> wycats: yeah, ktt3ja (of dead_code lint fame) is doing it as a project this semester
[04:34:01] <wycats> dbaupp: people who spend a lot of time in a community pushing a fork of the project are going to be treated with skepticism and suspicion
[04:34:07] <wycats> even if you think that fork is a good idea
[04:34:13] <dbaupp> wycats: and, as I said, the linked list part of the tutorial is perfect for lifetimes: tail(&'a List) -> Option<&'a List>
[04:34:16] <dbaupp> wycats: fork?
[04:34:20] <wycats> dbaupp: rust-core
[04:34:32] <wycats> rust-core, if successful, would be an ecosystem fork
[04:34:35] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[04:34:39] <dbaupp> wycats: rust-core is unrelated to the tutorial
[04:34:40] <wycats> I don't think it's surprising that people didn't react well to it
[04:35:02] <wycats> dbaupp: you said this: "strcat was actually planning on doing it, but then he wasn't exactly encouraged by how he and the tutorial has been treated"
[04:35:11] <Vermeille> Honestly I'm sure Rust is not that hard and really powerful (as far as I can see through the doc), but the main missing piece is tutorial for newbies who don't really follow what happens on the dev ML, or just a Q&A with common newbies pitfalls :)
[04:35:12] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[04:35:13] *** Joins: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP)
[04:35:20] <dbaupp> I meant "he has been treated in relation to the tutorial"
[04:35:20] <wycats> Vermeille: I agree
[04:35:32] <wycats> Vermeille: 1,000 times agree
[04:35:42] <lpy> Hi everyone, anybody know hounw?
[04:35:46] * dbaupp does
[04:35:50] * dbaupp is huonw
[04:35:56] <wycats> :D
[04:36:07] <wycats> dbaupp: such confuse
[04:36:08] <Vermeille> (I say that because I'm having a lot of really stupid and simple errors that are not answered and needs me to tweak my brain or bother you)
[04:36:11] <dbaupp> lpy: question about the benchmarks issue?
[04:36:32] <lpy> yep, I was confused about |find_seq_100|
[04:36:50] <wycats> Vermeille: I have been teaching co-workers Rust for a few months and I agree fully
[04:36:57] *** Quits: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP) (Ping timeout)
[04:36:57] <dbaupp> lpy: in what way?
[04:37:09] <wycats> the current setup really isn't designed to help people go from noob to full-fledged Rust programmer
[04:37:23] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[04:37:34] <wycats> there are many concepts that are critical that are just mashed together or undocumented in the current website
[04:37:39] <lpy> dbaupp: how should I handle it
[04:37:50] <Vermeille> wycats: how hard it is to get it for good C++ dev?
[04:38:45] <WebeWizard> i think rust's documentation is pretty good so far
[04:38:47] <wycats> Vermeille: my perspective is from HLL
[04:38:56] <lpy> dbaupp: find that the clouse in |find_seq_n| has the semicolon on the last exp
[04:39:00] <wycats> WebeWizard: it's not as bad as it could be
[04:39:11] <wycats> but for example, the API docs don't have sections for built-ins
[04:39:18] <dbaupp> lpy: which module, btw?
[04:39:36] <lpy> collections
[04:39:41] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[04:39:44] <wycats> WebeWizard: http://static.rust-lang.org/doc/master/std/uint/index.html
[04:39:49] <lpy> smallintmap
[04:39:50] <wycats> it doesn't indicate which traits uint implements
[04:40:01] <ChrisMorgan> format!("#") → "`#` reference used with nothing to reference back to" — huh!?
[04:40:10] <Vermeille> The documentation seems to be really not bad, but documentation is not tutorials for noobs :D
[04:40:20] <lpy> s/clouse/closure/
[04:40:39] <Yurume> ChrisMorgan: "\\#" :o
[04:40:44] <Yurume> or #"\#"
[04:40:51] <ChrisMorgan> Yurume: but # shouldn't *be* special outside {}.
[04:40:58] <Vermeille> http://static.rust-lang.org/doc/0.9/tutorial.html#references-1 The freezing section may gain to be a little more verbose, I think
[04:41:16] <Yurume> ChrisMorgan: I thought so but that's how it works currently...
[04:41:16] <ChrisMorgan> Yurume: it's a bug in that it's inconsistent with its documentation. I'm fairly sure the bug is in the code, not the docs.
[04:41:26] <dbaupp> lpy: ah, I think you need to go to deque
[04:41:54] <dbaupp> lpy: actually; no
[04:42:36] <dbaupp> lpy: wait... yeah, go to deque and call `black_box(m)` after the `bh.iter` calls on the various functions in `mod bench { ... }`
[04:42:41] <lpy> dbaupp: :p
[04:44:21] <lpy> dbaupp: leave those |find_seq_100| and |find_seq_10_000| no change in smallintmap and treemap?
[04:44:39] <dbaupp> lpy: yeah, I think so
[04:45:16] <WebeWizard> Vermeille, what kind of tutorials would you like written? what do you think would be helpful for beginners?
[04:45:51] <lpy> dbaupp: why add `black_box(m)`?
[04:46:25] <dbaupp> lpy: so that the optimiser cannot tell that the .insert() and .remove() calls are never read
[04:46:39] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:47:02] <lpy> dbaupp: I see
[04:47:06] <dbaupp> lpy: actaully, probably needs to go between the m.insert and m.remove calls
[04:48:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:48:36] *** Joins: cdidd (cdidd@moz-63AE6544.broadband.corbina.ru)
[04:48:45] <lpy> dbaupp:  thank you
[04:49:22] <Vermeille> WebeWizard: Obviouly not general programming stuff, but plenty of little examples and use-cases dealing with Rust's own features like freezing, Rust's for-loop, do-constructions, lambdas, lifetime, common pitfalls about typing, etc
[04:49:46] *** Joins: barosl (barosl@34F62860.E551553C.7544CABF.IP)
[04:49:52] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[04:49:53] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[04:49:56] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[04:50:09] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[04:50:10] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[04:50:27] <dbaupp> lpy: I've got to go, but I'll be back in an hour or a bit more
[04:50:30] *** Quits: epdtry (stuart@moz-C31FC981.hsd1.wa.comcast.net) (Ping timeout)
[04:50:30] *** Quits: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu) (Ping timeout)
[04:50:31] *** Quits: new_one (new_one@C0EFC43B.8BFB2575.B3C0173E.IP) (Quit: leaving)
[04:50:40] <lpy> dbaupp: okay
[04:50:42] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[04:50:42] *** Joins: epdtry (stuart@moz-C31FC981.hsd1.wa.comcast.net)
[04:51:03] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[04:51:05] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[04:51:11] <Vermeille> WebeWizard: Now, I have this error "cannot borrow immutable local variable as mutable" on this really simple line `for file in file_it {`, and you see, that's certainly very stupid, but I don't understand how to tell the compiler that I don't want `file` to be mutable
[04:51:51] *** Joins: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu)
[04:52:21] *** Joins: carrus85 (carrus85@CD83A7DD.7127D6FC.637467AC.IP)
[04:52:41] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[04:53:17] *** Joins: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net)
[04:53:25] <Vermeille> Having just this simple stupid things explained (more or less like Sutter's Gotw) in a Q&A would help a lot
[04:53:37] *** Quits: vertexclique (vertexcliq@6F384F56.153E7D13.6894ADF4.IP) (Client exited)
[04:54:26] <dbaupp> Vermeille: it's file_it that needs to be mutable
[04:54:39] <dbaupp> since the for loop is stepping through it, mutating the state of the iterator
[04:55:11] <Vermeille> if `file_it` is declared as mut, the compiler just crashes :)
[04:55:39] <Vermeille> task 'rustc' failed at 'index out of bounds: the len is 1 but the index is 1', /root/rust-0.9/src/librustc/middle/ty.rs:1438
[04:56:33] <dbaupp> whoops! :(
[04:56:55] <dbaupp> code? (I'm not going to be able to help since I'm leaving, but someone might)
[04:57:38] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[04:57:44] <Vermeille> Do you have something to paste rust code with syntax coloration?
[04:58:28] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[04:59:14] <Vermeille> http://pastebin.com/ZfHU9vWP just in the end, the whole code is there
[04:59:51] *** Quits: dbaupp (Thunderbir@2702835C.D5A1DCF.37681C44.IP) (Quit: dbaupp)
[05:00:10] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:00:13] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:00:22] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[05:00:26] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:01:08] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[05:01:45] <WebeWizard> omg, olympic curling is on
[05:02:12] *** Quits: uzi_mantis (iz@688773EC.4F63199.DDE5D3F6.IP) (Ping timeout)
[05:02:25] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[05:02:28] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[05:02:39] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:03:24] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:04:07] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (No route to host)
[05:04:27] <Vermeille> Guys, do you accept interns?
[05:04:56] <cmr> Vermeille: you missed the application deadline by 10 days, I think.
[05:05:10] <Vermeille> I'm looking for a 6 months internship during 2015. I had a return offer from Facebook, but I want to try something else
[05:06:23] *** Joins: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP)
[05:07:52] <ChrisMorgan> Vermeille: the impression I've received is that the internships that Mozilla offer are only two or three months, but I don't know.
[05:08:05] *** Quits: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP) (Ping timeout)
[05:08:35] <Vermeille> Yeah I think so, all the tech companies in the Silicon Valley offer at most 4 months :(
[05:09:01] <Vermeille> I planned to spend 3 months in Facebook then 3 months somewhere else, but I have to find this "somewhere else"
[05:09:15] <ChrisMorgan> (The whole way in which internships are handled is foreign to me; there is no direct equivalent in Australia that I'm aware of; it's more an employer-specific matter as to how they deal with employees. When at Uni I tended to work all through breaks and one day a week during semester.)
[05:09:19] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:09:58] *** Parts: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) ()
[05:10:39] <Vermeille> (Yeah, I know, I'm french, it's quite different here)
[05:12:03] *** Quits: pepper_chico (pepper_chi@moz-3005614F.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[05:12:40] *** Quits: weilin (Mibbit@moz-839B29C7.bootp.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[05:12:40] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:13:12] *** Joins: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net)
[05:13:54] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[05:14:26] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[05:16:22] *** Parts: agallego (agallego@moz-6B897026.nyc.res.rr.com) ()
[05:16:56] *** Quits: Vermeille (Mibbit@24E9F58C.DF3CA0D0.BA2F4534.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:19:00] <coalcore> "!!! (resolving module in lexical scope) module wasn't actually a module!", but I'm trying to call a static method :S
[05:19:17] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[05:19:40] *** Joins: uzi_mantis (iz@moz-4379EE65.hsd1.va.comcast.net)
[05:20:56] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:21:18] *** Quits: uzi_mantis (iz@moz-4379EE65.hsd1.va.comcast.net) (Quit: )
[05:21:33] *** Quits: gentlefolk (chatzilla@moz-D195EAF9.cpe.teksavvy.com) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20140127194636])
[05:22:51] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[05:24:33] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[05:25:40] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[05:27:27] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[05:27:58] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[05:28:14] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[05:28:14] *** ChanServ sets mode: +ao brson brson
[05:30:34] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[05:30:48] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:31:22] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:31:42] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[05:32:32] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[05:33:32] *** Joins: Vermeille (Mibbit@9CD29313.DF3CA0D0.BA2F4534.IP)
[05:33:48] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[05:33:57] <Vermeille> Sorry, my connection dropped.
[05:35:13] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[05:35:37] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[05:36:50] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:37:42] *** Joins: tlockney (Mibbit@moz-1CCA8ACF.hsd1.or.comcast.net)
[05:38:55] <WebeWizard> i think we all stopped working at started watching olympics
[05:41:31] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:43:51] <Vermeille> I didn't even know they started
[05:43:59] <Vermeille> :d
[05:44:11] <WebeWizard> curling is going on atm
[05:44:30] * Tekk_ is watching the evil dead
[05:44:41] <Tekk_> curling is my favorite olympic sport, but this is far better :D
[05:45:56] *** Quits: barosl (barosl@34F62860.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[05:45:58] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[05:46:32] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:46:32] *** ChanServ sets mode: +ao dherman dherman
[05:46:52] *** Quits: tlockney (Mibbit@moz-1CCA8ACF.hsd1.or.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:47:19] * cmr is watching Her, which is also far better than the olympics
[05:47:24] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:47:48] <Tekk_> cmr: although considering how we're both here, we're probably the wrong group to be answering
[05:49:06] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:50:24] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[05:56:23] *** Quits: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[05:57:51] *** Joins: fabrice (fabrice@moz-1C8D6F5C.dynamic.hinet.net)
[05:58:25] *** Quits: fabrice (fabrice@moz-1C8D6F5C.dynamic.hinet.net) (Max SendQ exceeded)
[05:58:57] *** Joins: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net)
[05:59:35] *** Joins: benjamin_ (benjamin@moz-1C42EE1E.dip0.t-ipconnect.de)
[05:59:45] *** Quits: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net) (Quit: Leaving.)
[05:59:46] *** Joins: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net)
[05:59:54] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[06:00:21] *** Quits: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net) (Max SendQ exceeded)
[06:01:05] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:01:26] *** Joins: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net)
[06:01:29] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:02:38] *** Quits: Vermeille (Mibbit@9CD29313.DF3CA0D0.BA2F4534.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:07:09] *** Joins: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP)
[06:08:22] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[06:08:52] *** Quits: twi (Adium@988C8CCC.FAC5D25A.54B829D6.IP) (Ping timeout)
[06:10:28] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[06:12:47] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[06:13:09] *** Quits: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net) (Ping timeout)
[06:13:39] *** Joins: isaacd (quassel@moz-6902374D.dhcp.oxfr.ma.charter.com)
[06:13:59] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[06:14:07] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[06:14:23] *** Quits: lennart (lennart@moz-DE70D6F.stanford.edu) (Quit: Lost terminal)
[06:14:45] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[06:15:11] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:16:14] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:16:35] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[06:17:56] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:18:40] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:18:47] *** Joins: teosz (teosz@A1807194.A7E3DAED.3EA6AAD8.IP)
[06:19:44] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:20:48] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[06:20:55] <teosz> hello
[06:21:08] <teosz> who i can generate random number in rust ?
[06:21:38] <teosz> how *
[06:21:45] <Yurume> teosz: http://static.rust-lang.org/doc/master/std/rand/index.html
[06:23:19] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[06:23:25] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[06:24:11] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[06:24:32] <teosz> Yurume: on 10.pre is not working ...
[06:25:35] <Yurume> what is your error message?
[06:25:52] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[06:26:48] <teosz> ok i resolved how i can set a limit ?
[06:26:51] *** Quits: Seb (Seb@moz-97344273.actrix.co.nz) (Client exited)
[06:26:55] <coalcore> Is there a particular type I would use for a callback that I want to send to multiple proc()s?
[06:28:12] <Yurume> teosz: use Rng::gen_range method.
[06:28:13] <Yurume> http://static.rust-lang.org/doc/master/std/rand/trait.Rng.html#method.gen_range
[06:28:17] <coalcore> because at the moment rustc is complaining about 'capture of moved value: `callback`'
[06:29:06] <Yurume> coalcore: you may define a trait and send an owned trait object to proc()s.
[06:29:26] <Yurume> for "multiple" proc()s, you'll need to consult sync crate.
[06:29:41] *** Quits: jga (asdf@BB456C1F.2734305A.B5524284.IP) (Ping timeout)
[06:30:16] *** Quits: heftig (heftig@moz-13988104.dip0.t-ipconnect.de) (Quit: Quitting)
[06:31:01] <teosz> eval.rs:12:23: 12:39 error: type `std::rand::IsaacRng` does not implement any method in scope named `gen_range`
[06:31:04] <teosz> eval.rs:12           let r: int = rng.gen_range();
[06:31:07] *** Joins: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net)
[06:31:11] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[06:31:13] *** Joins: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net)
[06:32:05] *** Joins: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net)
[06:32:28] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[06:32:43] <Yurume> teosz: you need to `use std::rand::Rng;`.
[06:32:51] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[06:34:31] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[06:34:31] *** Quits: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net) (Ping timeout)
[06:35:31] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[06:37:06] <teosz> pastebin.com/qq29Qu4X
[06:37:15] <teosz> Yurume: pastebin.com/qq29Qu4X thats my code
[06:37:30] *** Joins: Ferreus (ferreus@moz-56BA0CFA.dip0.t-ipconnect.de)
[06:37:32] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[06:38:05] <Yurume> teosz: yes. you need to put `use std::rand::Rng;` to the start of your file.
[06:38:59] <teosz> i write that :
[06:38:59] <teosz> use std::rand;
[06:38:59] <teosz> use std::rand::Rng;
[06:39:09] <teosz> still not working
[06:41:00] <Yurume> teosz: http://pastie.org/private/c6wfkgolfw535l16kvqga this works for me.
[06:41:07] <dbaupp> printfln!? what version of rust do you have?
[06:41:15] <Yurume> you have some outdated syntaxes there, that might be also a problem.
[06:41:35] <dbaupp> also, what's the exact error message?
[06:42:00] <teosz> Yurume: what version of rust have you ?
[06:42:24] <Yurume> rustc 0.10-pre built on 2014-02-09.
[06:43:12] <Yurume> 0.10-pre is not a single version, it is just a way to mark all development versions between 0.9 and 0.10.
[06:45:15] <teosz> c 0.10-pre (30e9bba 2014-01-30 07:06:27 -0800)
[06:45:19] <teosz> on c 0.10-pre (30e9bba 2014-01-30 07:06:27 -0800)
[06:45:25] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[06:45:25] <teosz> is not working....
[06:46:42] *** Quits: ctangent (textual@moz-4B354EF9.hsd1.wa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:46:50] *** Joins: jga (asdf@8A832BFF.207DAD7B.B5524284.IP)
[06:46:52] <coalcore> maybe I was asking the wrong question before. How would I write the type for a static function that I could pass into multiple proc()s?
[06:47:32] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:48:12] <dbaupp> teosz: what is the error message?
[06:48:21] <dbaupp> coalcore: fn(int) -> int
[06:48:37] <dbaupp> or 'static |int|:Send -> int
[06:48:49] *** Joins: teosz_ (teosz@26828289.7272CF4.3EA6AAD8.IP)
[06:48:56] <dbaupp> the first is a bare function, the second is a closure (with no captures)
[06:49:01] <Tekk_> apparently it wasn't that important
[06:49:20] <dbaupp> teosz_: don't know if you saw my message: what is the error message?
[06:49:22] *** Quits: teosz (teosz@A1807194.A7E3DAED.3EA6AAD8.IP) (Ping timeout)
[06:49:50] <coalcore> dbaupp: oh awesome, that second one is what I was trying to figure out
[06:51:14] <dbaupp> coalcore: (I'm not sure if the :Send suffix is necessary or even if it works properly)
[06:53:50] <coalcore> dbaupp: hmm the compiler is still complaining about capture of moved value: <my static function>
[06:54:06] <dbaupp> coalcore: oh, I guess 'static || still moves by default
[06:54:14] <dbaupp> you may have to just use fn()
[06:54:43] <dbaupp> (theoretically you can transmute a closure to get the fn ptr out of it, and for 'static closure this is ok.)
[06:55:17] <coalcore> I'll give that a shot, thanks
[06:55:27] <coalcore> (the fn thing)
[06:56:55] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:57:01] <teosz_> who i can get modulo in rust ?
[06:57:09] <teosz_> how *
[06:57:26] <Tobba> %
[06:57:55] *** Joins: rwt (rwt@F66A57C6.82A0B0FA.51B6877.IP)
[06:58:08] <teosz_>   r= r%100;
[06:58:09] *** Quits: rwt_ (rwt@moz-59AFDDF4.dhcp-bl.indiana.edu) (Ping timeout)
[06:58:19] <teosz_>          eval.rs:12:10: 12:11 error: re-assignment of immutable variable `r`
[06:58:19] <teosz_> eval.rs:12           r= r%100;
[06:58:35] <Tekk_> teosz_: yes, that's a problem of mutability not modulo :P
[06:58:50] <coalcore> let mut r = 1000; r = r % 100;
[06:58:53] <Tekk_> if you *really* need something to be mutable, you need to declare it as mut
[06:59:12] <dbaupp> `r %= 100` works too
[06:59:46] <teosz_> ok thanks
[07:00:10] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:01:02] *** Joins: alonlevy (alon@A9F1CDCC.66821607.AB64B967.IP)
[07:01:50] *** Joins: amir (amir@moz-467F7F30.cust.bluewin.ch)
[07:02:17] *** Quits: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[07:02:34] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:02:49] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[07:03:12] <coalcore> argh, "!!! (resolving module in lexical scope) module wasn't actually a module!", when trying to call a static function which is literally defined like 5 lines above
[07:03:38] *** Quits: maxli (Instantbir@moz-78AD779D.hsd1.ca.comcast.net) (Ping timeout)
[07:03:57] <coalcore> everything in a module is visible to everything else in a module right
[07:05:55] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[07:07:17] *** Quits: teosz_ (teosz@26828289.7272CF4.3EA6AAD8.IP) (Ping timeout)
[07:07:29] *** Joins: teosz (teosz@1BA1ACBA.BB8BB8F4.3EA6AAD8.IP)
[07:08:27] <dbaupp> coalcore: code?
[07:08:52] <dbaupp> but yeah, everything in a module is visible in that module
[07:08:57] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[07:09:00] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:09:38] *** Quits: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com) (Ping timeout)
[07:09:48] *** Joins: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com)
[07:14:28] *** Joins: teosz_ (teosz@F0C62391.33AB6ADD.3EA6AAD8.IP)
[07:14:29] *** Quits: hoverbea_ (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:14:39] *** Quits: teosz (teosz@1BA1ACBA.BB8BB8F4.3EA6AAD8.IP) (Ping timeout)
[07:16:38] *** Joins: jamil_1 (kvirc@AFD2B316.F9D94E2F.294EA463.IP)
[07:17:11] <teosz_> how i can edit a file in rust ?
[07:18:27] <bvssvni> teosz_: http://static.rust-lang.org/doc/master/complement-cheatsheet.html#file-operations
[07:18:51] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.2)
[07:18:59] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:19:31] <coalcore> dbaupp: I get the error on the SequentialServer::handle line: http://pastebin.com/raw.php?i=tJkXGyCc (please ignore any horrible rust misuse)
[07:20:52] <dbaupp> coalcore: where's ::serve come from?
[07:20:55] *** Joins: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch)
[07:21:40] <coalcore> oh, that should be RgServer::serve now, so the same struct as run
[07:22:18] *** Quits: Erik_ (Erik_S@moz-D2F74C7B.hlrn.qwest.net) (Ping timeout)
[07:22:51] *** Quits: voxpopuli (fanservice@71D59995.6A843466.689607DE.IP) (Ping timeout)
[07:23:42] <coalcore> hold on ill repost
[07:23:45] *** Parts: jga (asdf@8A832BFF.207DAD7B.B5524284.IP) ()
[07:23:53] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[07:24:21] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[07:24:47] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[07:25:44] <coalcore> dbaupp: http://pastebin.com/raw.php?i=tgSFhnCF
[07:26:02] <coalcore> !!! (resolving module in lexical scope) module wasn't actually a module! rtkgpsserver.rs:69:9: 69:33 error: unresolved name rtkgpsserver.rs:69         SequentialServer::handle(&mut acceptor, RtkGpsServer::serve);
[07:26:36] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[07:26:55] *** Quits: FreeFull (freefull@moz-1883929A.as13285.net) (Quit: )
[07:27:21] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[07:29:57] <dbaupp> coalcore: I guess you can't use static methods like that :(
[07:30:32] <dbaupp> you might need  fn server_wrapper(s: TcpStream) { RtkGpsServer::serve(s) } equentialServer::handle(&mut acceptor, serve_wrapper);
[07:30:42] <cmr> wait why are we surprised by this.
[07:30:51] <cmr> It should be ConnectionHandler::handle, no?
[07:31:17] <dbaupp> cmr: well... that's a different error, rigth?
[07:31:22] <dbaupp> *right
[07:31:33] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[07:31:33] <dbaupp> but yeah, it needs to be that too
[07:31:34] <cmr> well I can't help but feel they're deeply related.
[07:31:50] *** Quits: alonlevy (alon@A9F1CDCC.66821607.AB64B967.IP) (Ping timeout)
[07:31:51] *** Joins: gkostyanikov (gkostyanik@DF533A07.A859D9FD.CA6E2165.IP)
[07:31:54] <cmr> I think it might be seeing that there's an impl on the struct
[07:31:57] <cmr> Trying to do lookup
[07:32:09] <cmr> But it dying, because there's not actually any static methods on it.
[07:32:15] <cmr> it's certainly a bug.
[07:33:06] <cmr> nope
[07:33:09] <cmr> not even that complicated.
[07:33:14] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[07:33:15] <dbaupp> it's just the trait thing yea
[07:33:16] <dbaupp> h
[07:33:23] * dbaupp removes his rust license
[07:33:26] <dbaupp> whoops
[07:33:31] <dbaupp> sorry for misleading you, coalcore
[07:33:34] <cmr> https://gist.github.com/cmr/53150aad2247161ccd9f
[07:33:43] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[07:33:58] <cmr> yup
[07:34:09] <cmr> any direct impl on Unit creates a module for it.
[07:34:14] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[07:34:15] <cmr> thus avoiding the weird errors.
[07:34:27] <dbaupp> ick
[07:34:38] <dbaupp> static methods are such a hack :'(
[07:34:44] <cmr> dbaupp: you can keep your license, I do equally dumb things too :P
[07:35:09] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Quit: c-a)
[07:36:05] <coalcore> dbaupp: no worries, thanks for the help, but what is the ultimate verdict? I can't call static trait methods of a struct?
[07:36:09] *** Joins: fabiand (fabiand@moz-35FDE3BA.hotelavanti.cz)
[07:36:16] *** Quits: StarLight (StarLight@moz-E2DD1BDA.dynamic.avangarddsl.ru) (Ping timeout)
[07:37:17] <cmr> coalcore: you can, but not like that.
[07:37:21] <cmr> yet, at least.
[07:37:30] <cmr> static methods need to be scoped by the trait name.
[07:37:55] <cmr> pcwalton plans to change this I think.
[07:38:05] <dbaupp> coalcore: they need to be called as Trait::foo(...)
[07:38:15] *** Quits: amir (amir@moz-467F7F30.cust.bluewin.ch) (Ping timeout)
[07:38:18] <dbaupp> and you will need to thing that indicates what type Self is to the compiler
[07:38:36] <dbaupp> e.g. _: Option<Self> as the first arg, passed as None::<SequentialServer>
[07:38:42] <dbaupp> it's ugly... but it's what we have. :(
[07:39:24] *** Joins: barosl (barosl@34F62860.E551553C.7544CABF.IP)
[07:40:27] *** Joins: StarLight (StarLight@moz-2066619C.dynamic.avangarddsl.ru)
[07:41:31] <coalcore> dbaupp: oky doke thanks for the clarification, and thanks cmr too
[07:42:02] *** Quits: coalcore (Mibbit@moz-AE55F4BE.cat.csiro.au) (Quit: http://www.mibbit.com ajax IRC Client)
[07:42:26] *** Quits: fabiand (fabiand@moz-35FDE3BA.hotelavanti.cz) (Ping timeout)
[07:44:06] *** Quits: teosz_ (teosz@F0C62391.33AB6ADD.3EA6AAD8.IP) (Ping timeout)
[07:44:20] *** Joins: teosz (teosz@3A95FC18.393BCD88.3EA6AAD8.IP)
[07:48:05] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:48:13] <sammykim> Does the rust support function overloading?
[07:48:19] <cmr> sammykim: no
[07:48:28] <dbaupp> not C++ style function overloading
[07:48:49] <sammykim> dbaupp: Is there another style to implement similar?
[07:48:59] <_achin> traitsssssssss
[07:49:37] <dbaupp> _achin: we only have 'traits'; are 'traitsssssssss' something from scala?
[07:50:13] <_achin> yesssssssssss
[07:50:28] *** Quits: alex__ (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[07:50:30] <Tekk_> dbaupp: nah, _achin is just cold blooded
[07:50:33] <sammykim> _achin: Do you mean trait? Isn't it about overwriting?
[07:50:42] *** Joins: alex__ (alex@moz-7421D6C9.mc.videotron.ca)
[07:50:44] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:50:56] <Tekk_> _achin: how do you type with those stubby little vestigal legs?
[07:51:05] <_achin> itsssssss harddddddddddd
[07:51:07] <sammykim> I don't know how I can declare same function name with different argument. Do you have solution please?
[07:51:12] <Tekk_> ah, hence the repeating
[07:51:13] *** Joins: ssira_ (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:51:18] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[07:51:21] <Tekk_> sammykim: yes, traits
[07:51:27] <Tekk_> you can find them in the tutorial I think :)
[07:51:43] <cmr> Traits aren't really a solution to most desired function overloading.
[07:51:52] <cmr> for example, you can't say fn foo() and fn foo(SomeOtherType)
[07:52:00] <dbaupp> just () for the first case
[07:52:02] <dbaupp> :P
[07:52:12] <Tekk_> couldn't you do fn foo(None) and kinda fake it?
[07:52:28] <cmr> you could, but what happens when you want more arguments, not less? etc etc
[07:52:33] <cmr> it's certainly usable for many cases
[07:52:41] <cmr> but it's not a complete substitute
[07:54:22] *** Joins: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu)
[08:00:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:01:39] *** Quits: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu) (Quit: WeeChat 0.4.2)
[08:01:42] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:01:45] *** Joins: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu)
[08:02:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:03:29] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[08:04:17] <hansjorg> Yurume: hi
[08:04:19] *** Quits: rwt (rwt@F66A57C6.82A0B0FA.51B6877.IP) (Quit: Leaving)
[08:04:26] <Yurume> hansjorg: hi
[08:04:57] <Yurume> hansjorg: I think my original mention is evolved into an issue in rust-ci repo by now
[08:05:02] *** Quits: teosz (teosz@3A95FC18.393BCD88.3EA6AAD8.IP) (Quit: Lost terminal)
[08:05:10] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[08:08:44] *** Joins: eddyb (eddy@moz-92B95652.residential.rdsnet.ro)
[08:08:47] <hansjorg> Yurume: ah, thanks for the report (and resolution). I'll add a better error message
[08:11:09] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:14:12] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[08:14:31] *** Quits: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu) (Ping timeout)
[08:15:16] *** Joins: marianoguerra (marianogue@moz-867E5722.dip0.t-ipconnect.de)
[08:15:57] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[08:16:10] *** Joins: eibwen (kvirc@moz-67BD5340.dip0.t-ipconnect.de)
[08:17:22] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[08:17:38] *** Joins: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu)
[08:18:39] *** Joins: mindbound (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[08:19:09] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Ping timeout)
[08:19:23] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[08:20:13] *** Quits: uberj (uberj@moz-AD308AD7.members.linode.com) (Ping timeout)
[08:20:33] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:20:59] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[08:21:22] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[08:21:23] *** Quits: eco (eco@moz-87840B9D.net) (Ping timeout)
[08:21:49] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[08:22:20] *** Joins: AndChat|399636 (AndChat399@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[08:22:25] *** Quits: mindbound (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:22:32] *** Quits: AndChat|399636 (AndChat399@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: Bye)
[08:22:53] *** Quits: ross (r@moz-35D0ADAB.clr.io) (Ping timeout)
[08:23:08] *** Joins: vertexclique (vertexcliq@6F384F56.153E7D13.6894ADF4.IP)
[08:23:23] *** Joins: ross (r@moz-35D0ADAB.clr.io)
[08:23:24] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[08:24:03] *** Joins: mindbound (AndChat399@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[08:24:06] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[08:24:46] *** Joins: eco (eco@moz-87840B9D.net)
[08:25:08] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:25:27] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[08:27:06] *** Quits: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu) (Ping timeout)
[08:27:09] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[08:27:32] *** Joins: twi (Adium@3082A362.CD451B69.75960E35.IP)
[08:27:41] *** Quits: twi (Adium@3082A362.CD451B69.75960E35.IP) (Max SendQ exceeded)
[08:27:52] *** Joins: twi (Adium@3082A362.CD451B69.75960E35.IP)
[08:28:07] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[08:28:23] *** Quits: mindbound (AndChat399@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: Bye)
[08:28:42] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[08:30:15] *** Joins: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu)
[08:31:23] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[08:32:53] *** flaper87|afk is now known as flaper87
[08:34:50] <cmr> http://cmr.github.io/blog/2014/02/09/this-week-in-rust/
[08:34:59] <cmr> feedback? typos? dangling links?
[08:36:34] <Tekk_> cmr: maybe "libextra dissolution continues" as a link to the relevant thing?
[08:37:06] <cmr> sure
[08:37:32] <flaper87> cmr: you could mention the externally, unofficially maintained copy of rustpkg
[08:37:42] <dbaupp> cmr: for the black box thing, "as documented" could be http://static.rust-lang.org/doc/master/guide-testing.html#benchmarks-and-the-optimizer
[08:37:47] <flaper87> cmr: https://github.com/rustpkg/rustpkg/
[08:37:50] <dbaupp> flaper87: I don't think it's maintained
[08:37:53] <cmr> dbaupp: I actually meant to link to the PR.
[08:38:01] <flaper87> erm, I wanted to say unmaintained
[08:38:02] <dbaupp> cmr: yeah, but that's hard to read
[08:38:03] <flaper87> dbaupp: ^
[08:38:11] <abustany> cmr: "Adri -e- n Bustany" in "this week in Rust" ;)
[08:38:12] <flaper87> not even sure that word exists at all
[08:38:13] <dbaupp> cmr: why not both \o/
[08:38:13] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:38:19] *** Quits: twi (Adium@3082A362.CD451B69.75960E35.IP) (Quit: Leaving.)
[08:38:24] <cmr> dbaupp: why not both at indeed!
[08:38:28] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[08:38:30] <dbaupp> flaper87: maintained? or unmaintained?
[08:38:38] <flaper87> dbaupp: unmaintained
[08:38:39] <Yurume> cmr: two broken links: Bugzilla one and FOSDEM one.
[08:38:40] <flaper87> :D
[08:38:40] <cmr> abustany: your name was taken from the git log, so you might wasnt to check the git config.
[08:38:55] <abustany> cmr: you have it once right and once wrong
[08:38:59] <dbaupp> flaper87: because ... it's the opposite of maintained? :P
[08:39:01] <abustany> in "new contributors" it's right
[08:39:07] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:39:09] <cmr> Oh, Lars wrote that.
[08:39:18] <abustany> not that it really matters in the end :)
[08:39:18] *** Quits: ziad (ziad@moz-8FBE4774.hsd1.ca.comcast.net) (Quit: ziad)
[08:39:54] *** Joins: nkoep (nik@moz-32BEC660.pool.mediaways.net)
[08:40:01] <dbaupp> cmr: also the runtime libraries bit could link to the rendered docs
[08:40:05] *** Joins: ziad (ziad@moz-8FBE4774.hsd1.ca.comcast.net)
[08:40:07] <dbaupp> not that it matters much...
[08:40:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:41:36] <dbaupp> cmr: also, one of lars' links is dead: https://bugzilla.mozilla.org/show_bug.cgi?id=3D968375
[08:41:43] <cmr> yeah I fixed that one
[08:41:45] <cmr> extraneous 3D
[08:41:57] <dbaupp> :'( the world is so flat now
[08:42:13] <cmr> yeah :(
[08:42:16] <Zr40> =3D, hello quoted printable
[08:42:35] <cmr> Changes deployed, thanks everyone <3
[08:42:42] <flaper87> cmr: dbaupp: can I get r=nmatsakis here? https://github.com/mozilla/rust/pull/12095 :)
[08:42:59] <flaper87> (unless you guys have further comments)
[08:43:25] <dbaupp> flaper87: no need for the "would break" comments
[08:43:27] <eddyb> flaper87: is it just me, or are you on a streak?
[08:43:34] <dbaupp> ... obviously it used to break, since it's in the testcase :P
[08:43:58] <cmr> TWiR this week will bring me above 2k reddit karma
[08:44:14] *** Quits: carrus85 (carrus85@CD83A7DD.7127D6FC.637467AC.IP) (Quit: Leaving)
[08:44:15] <eddyb> TWiRTW
[08:44:22] <flaper87> dbaupp: I wanted to specify where the compiler would've failed without the fix
[08:44:24] <flaper87> eddyb: :D
[08:44:41] <flaper87> it's not obvious to everyone, IMHO
[08:44:48] <flaper87> unless there's a better way to do that
[08:44:51] <flaper87> :)
[08:44:52] <Yurume> TWiCRK (this week in cmr's Reddit karma)
[08:45:07] *** Quits: vertexclique (vertexcliq@6F384F56.153E7D13.6894ADF4.IP) (Client exited)
[08:45:18] <eddyb> why do I have to pick the lengthiest tasks? they're not even that interesting in the end *sigh*
[08:45:49] <eddyb> oh, and it's a monday morning
[08:45:59] <Yurume> or a monday afternoon for me
[08:47:29] <Yurume> is there anyone with timezone > UTC+9? :)
[08:48:02] <dbaupp> flaper87: if they need to see what would've broken, they can just check the issue, or check out an older compiler
[08:48:47] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[08:48:49] <flaper87> dbaupp: yeah, but why not making it easier? They're just a couple of comments.
[08:49:13] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[08:50:25] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[08:50:39] <dbaupp> flaper87: well... you didn't seem to think it was worth including an assert inside the while loop on https://github.com/mozilla/rust/pull/12134 which would've made it easier to see what was being tested :P
[08:51:23] <flaper87> dbaupp: touché :)
[08:51:35] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:55:43] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:56:37] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[09:00:01] <jamil_1> possible to have Heterogeneous list in rust ?
[09:01:28] <cmr> jamil_1: you need to use trait objects
[09:01:39] <cmr> I'm off to bed, though, someone else will have to elaborate...
[09:02:16] <jamil_1> like this: trait Dynamic {}
[09:02:17] <jamil_1> struct HList {    list: ~List<Dynamic> }
[09:03:00] <jamil_1> Cons(1 as Dynamic ~Cons("a" as Dnynamic, ~Cons(1u as Dynamic, ~Nil))))
[09:03:02] <jamil_1> ?
[09:03:18] <jamil_1> struct unnecessary I guess
[09:03:49] *** Quits: gkostyanikov (gkostyanik@DF533A07.A859D9FD.CA6E2165.IP) (Quit: Textual IRC Client: www.textualapp.com)
[09:05:29] -lpy- I got "rustllvm/rustllvm.h:19:38: fatal error: llvm/IR/IRPrintingPasses.h: No such file or directory" when I run `make`, any help?
[09:06:14] <lpy> hmm, actually I run `make -j4`
[09:07:11] <ChrisMorgan> Yurume: dbaupp, bjz and ChrisMorgan are all GMT+1100, aatch is GMT+1200.
[09:07:13] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:07:37] <bjz> o/
[09:07:40] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:08:55] <Zr40> lpy: try just `make` :) most of the work is serial anyway
[09:08:57] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:09:16] <lpy> Zr40: got it. thank you
[09:09:20] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:12:35] *** Joins: nfroidure (nfroidure@moz-7F79C7DA.w90-18.abo.wanadoo.fr)
[09:12:42] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:13:45] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[09:15:09] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:15:34] *** Quits: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu) (Ping timeout)
[09:16:06] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[09:17:05] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[09:17:07] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: Textual IRC Client: www.textualapp.com)
[09:17:28] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[09:19:02] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[09:19:35] <kimundi> jamil_1: Check out std::any
[09:20:44] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:21:44] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[09:22:32] *** Joins: saurik (saurik@moz-DC9423DE.saurik.com)
[09:23:51] *** Joins: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu)
[09:24:07] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: Textual IRC Client: www.textualapp.com)
[09:24:11] *** Quits: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu) (Quit: WeeChat 0.4.2)
[09:24:17] *** Joins: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu)
[09:24:27] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[09:25:16] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[09:26:13] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[09:27:57] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[09:28:12] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[09:28:22] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[09:28:51] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[09:29:15] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[09:30:07] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:30:48] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:31:05] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[09:31:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:31:50] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[09:31:52] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:33:08] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:35:46] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[09:37:16] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:37:38] *** Joins: rca (rcatolino@moz-85E59476.adsl.proxad.net)
[09:43:22] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[09:43:22] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[09:43:33] <lpy> stil got "rustllvm/rustllvm.h:19:38: fatal error: llvm/IR/IRPrintingPasses.h: No such file or directory" when I run `make`, any help?
[09:43:50] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[09:44:03] <kimundi> lpy: that sounds like you need to rebuild llvm
[09:44:38] <kimundi> try make clean-llvm and then configure and make again
[09:44:52] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[09:44:59] *** Joins: aklt (aklt@83B8238.6BE5A349.B330AC0A.IP)
[09:45:04] <lpy> kimundi: okay, thanks :)
[09:47:00] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[09:50:59] *** Quits: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu) (Ping timeout)
[09:51:35] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[09:52:42] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:56:13] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Ping timeout)
[09:57:20] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[09:59:33] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[10:00:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:01:52] *** Joins: oberstet (quassel@moz-141F3D8A.dynamic.mnet-online.de)
[10:02:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:03:02] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Quit: Leaving...)
[10:04:45] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[10:05:20] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[10:06:49] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Ping timeout)
[10:07:01] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:08:13] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[10:10:17] *** Joins: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu)
[10:10:48] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[10:11:31] *** Quits: fyolnish (fyolnish@moz-12AE9574.uqwimax.jp) (Client exited)
[10:11:44] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[10:12:35] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[10:12:46] *** Joins: reima (Instantbir@moz-84076E1A.dip0.t-ipconnect.de)
[10:15:16] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[10:15:19] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[10:18:57] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[10:20:36] *** Joins: miHildar (Mibbit@moz-1FA995E0.in-addr.btopenworld.com)
[10:20:45] *** miHildar is now known as Hildar
[10:21:19] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:21:52] *** Joins: uberj (uberj@moz-AD308AD7.members.linode.com)
[10:22:47] <Hildar> Can anyone explain to me what Freeze means? That the struct should never be mutated, even if it's in a &mut? I don't really understand the docs.
[10:22:58] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[10:23:16] <lpy> stil got "rustllvm/rustllvm.h:19:38: fatal error: llvm/IR/IRPrintingPasses.h: No such file or directory" after tried make clean-llvm
[10:23:28] <dbaupp> Hildar: it means that it is deeply immutable when stored in an immutable slot
[10:23:37] <dbaupp> (e.g. let a = <some Freeze type>;)
[10:23:54] <dbaupp> lpy: how much memory?
[10:24:02] *** Joins: gimpf (gimpf@moz-409692CD.adsl.highway.telekom.at)
[10:24:03] <lpy> dbaupp: 8G
[10:24:24] <Hildar> dbaupp: So if a contains mutable fields, they still can't be mutated? I thought that was normal...
[10:24:50] <dbaupp> lpy: should be enough
[10:24:53] <dbaupp> gtg for a bit
[10:25:02] <kimundi> Hildar: No, it ensures that a immutable thing does not get mutated internally at all (which is possible in todays Rust)
[10:25:12] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[10:25:46] <lpy> kimundi: make clean-llvm doesn't work for me
[10:25:53] <dbaupp> Hildar: it can still possibly be mutated when in a mutable slot
[10:25:59] <dbaupp> e.g. `int` is Freeze
[10:26:01] <kimundi> Hildar: Basically, we have a few types that pretend to be immutable to the typesystem, but which safely mutate stuff internally.
[10:26:14] <kimundi> lpy: hmmm.. not sure then :(
[10:26:37] <kimundi> Hildar: Those types lose the "Freeze" bound to signal that fact
[10:26:59] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[10:27:19] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[10:27:40] *** Quits: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net) (Ping timeout)
[10:28:00] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[10:28:05] <kimundi> Freeze exist so that types that pretend to be immutable but actually mutate internally can not be placed in places where internal mutation would be memory unsafe, like in multitasking scenarios
[10:28:39] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[10:28:59] <Hildar> kimundi: I understand now, thanks.
[10:30:11] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[10:37:32] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:38:35] *** Quits: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr) (Ping timeout)
[10:43:38] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:43:59] *** Joins: mib_g2ga1t (Mibbit@moz-5321735D.gprs.as5628.telecom.sk)
[10:48:29] *** Quits: jamil_1 (kvirc@AFD2B316.F9D94E2F.294EA463.IP) (Ping timeout)
[10:49:56] *** Joins: robertknight (robertknig@moz-DF72422D.members.linode.com)
[10:50:51] *** Joins: bluz (blaz@moz-25899F16.digicube.fr)
[10:51:33] *** Quits: mib_g2ga1t (Mibbit@moz-5321735D.gprs.as5628.telecom.sk) (Quit: http://www.mibbit.com ajax IRC Client)
[10:51:46] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[10:52:56] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[10:56:01] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[10:57:46] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[10:59:28] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[11:00:09] *** Joins: fyolnish (fyolnish@moz-2AC61E89.uqwimax.jp)
[11:03:34] *** Joins: jamil_1 (kvirc@AFD2B316.F9D94E2F.294EA463.IP)
[11:04:30] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:05:22] *** Quits: bluz (blaz@moz-25899F16.digicube.fr) (Input/output error)
[11:06:03] *** Quits: benjamin_ (benjamin@moz-1C42EE1E.dip0.t-ipconnect.de) (Ping timeout)
[11:07:29] *** Joins: bluz (blaz@moz-3ECBAB41.dfri.se)
[11:08:49] *** nical is now known as nical|lunch
[11:09:14] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Ping timeout)
[11:10:02] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[11:11:19] *** Quits: fyolnish (fyolnish@moz-2AC61E89.uqwimax.jp) (Ping timeout)
[11:11:30] *** Joins: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp)
[11:12:34] <mitsuhiko> with the result changes i am starting to think that "->" would be a nice operator to have in rust and it would work like a special form of "." that can point to something slightly different
[11:12:37] <jakerr> Hi I found a minor copy paste typo in a comment re: covariance / contravariance but not sure the right way to reword it:
[11:12:38] <jakerr> https://github.com/mozilla/rust/blob/f4f4a35b5b1fe54b05b2dac3428c55ef2d3923b1/src/test/compile-fail/regions-variance-contravariant-use-covariant.rs#L17
[11:12:42] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[11:12:45] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[11:12:52] <mitsuhiko> for a Result it would always de-ref into the success case or return an error
[11:13:22] <mitsuhiko> eg: let result = open_file("whatever.txt", "w")->write_str("Hello World!");
[11:15:01] *** Quits: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net) (Quit: Leaving.)
[11:15:50] <jakerr> I could just swap "Contravariant<'foo> <: Contravariant<'static> " but it doesn't really seem useful to mention static in the contra-variance case.
[11:18:52] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[11:20:37] *** Joins: askalski (akuda@moz-9DC8A359.neoplus.adsl.tpnet.pl)
[11:21:32] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[11:25:26] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[11:25:30] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[11:26:25] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[11:27:47] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[11:29:32] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[11:29:59] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[11:30:09] *** Joins: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net)
[11:30:55] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[11:36:04] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[11:39:26] *** Joins: drewjoh (drewjoh@moz-1288C3CF.hsd1.tx.comcast.net)
[11:39:58] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[11:42:16] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:43:51] *** Quits: Ferreus (ferreus@moz-56BA0CFA.dip0.t-ipconnect.de) (Quit: WeeChat 0.4.3-dev)
[11:44:00] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:45:43] *** Joins: Ferreus (ferreus@moz-56BA0CFA.dip0.t-ipconnect.de)
[11:48:31] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:48:55] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[11:51:54] *** Quits: jamil_1 (kvirc@AFD2B316.F9D94E2F.294EA463.IP) (Ping timeout)
[11:52:32] <jakerr> I think a syntax for binding a tuples value and reassigning them would be cool without having to wrap in a match.
[11:52:38] <jakerr> For example:
[11:52:48] <jakerr> let mut tup = (1,3);
[11:52:48] <jakerr> let tup(a, b) = tup(b, a);
[11:52:57] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[11:53:26] *** Quits: nkoep (nik@moz-32BEC660.pool.mediaways.net) (Quit: Leaving)
[11:53:49] <jakerr> oops minus the let in the last line.
[11:54:29] <ChrisMorgan> jakerr: tuples are not used an enormous amount; when they are, it's typically just to pass around multiple values and immediately unpack them. Anything more should typically be using a struct.
[11:55:14] <dbaupp> being able to update variables based on a multiple-return-value function would be nice to be able to do without intermediates
[11:55:54] <dbaupp> i.e. `(a,b) = foo()` rather than `let (a_,b_) = foo(); a = a_; b = b_;` (or the same thing with a struct)
[11:57:04] *** Quits: drewjoh (drewjoh@moz-1288C3CF.hsd1.tx.comcast.net) (Quit: Computer has gone to sleep.)
[11:57:37] <ChrisMorgan> But it can't be done without a new keyword while retaining LL(1) parsing, so the syntax `(a, b) = foo()` can be considered insufficient.
[11:57:41] *** Joins: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP)
[11:57:41] *** ChanServ sets mode: +o jdm
[11:57:46] *** Quits: bgmerrell (bgmerrell@moz-AFAF64AB.members.linode.com) (Ping timeout)
[11:57:47] <eddyb> ChrisMorgan: it can be done :P
[11:58:07] <eddyb> LL(1) parsing and no cover grammar
[11:58:24] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Ping timeout)
[11:58:32] <eddyb> simply rewrite Expr to Pat. everything you need already has a meaning
[11:58:38] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[11:58:48] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[11:58:48] *** Quits: uberj (uberj@moz-AD308AD7.members.linode.com) (Ping timeout)
[11:58:53] <ChrisMorgan> OK, if you destroy the language in the process then it's possible.
[11:59:02] *** Quits: ross (r@moz-35D0ADAB.clr.io) (Ping timeout)
[11:59:08] *** Quits: jason_ (jason@moz-EC85D533.members.linode.com) (Ping timeout)
[11:59:08] *** Quits: eco (eco@moz-87840B9D.net) (Ping timeout)
[11:59:11] <dbaupp> destroy?
[11:59:12] <eddyb> ExprAssign parses both LHS and RHS as Expr's
[11:59:19] *** Quits: yosemite (sam@moz-8CEAB1B0.dasbistro.com) (Ping timeout)
[11:59:29] <eddyb> you simply take the Expr form of the pattern and turn it into a Pat
[11:59:39] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Ping timeout)
[11:59:42] <dbaupp> as long as it didn't support ref/ref mut (which doesn't make sense in that context anyway) I think it should work
[11:59:48] <eddyb> most of the trans code should be already there
[12:00:00] <ChrisMorgan> dbaupp: precisely—it wouldn't be a full pattern.
[12:00:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:00:13] <ChrisMorgan> I am making the assumption that anything less than a full pattern would be considered unacceptable.
[12:00:16] <dbaupp> yeah, but what would ref/ref mut do in that context?
[12:00:31] <eddyb> ref and/or mut are for *bindings*
[12:00:33] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[12:00:41] *** Joins: fyolnish (fyolnish@moz-D62E5117.uqwimax.jp)
[12:00:47] <eddyb> in an assignment, you don't have bindings, you have lvalues
[12:01:00] *** Quits: mythmon (mythmon@moz-AD308AD7.members.linode.com) (Ping timeout)
[12:01:07] * ChrisMorgan wonders what else there is that could have a different meaning ’twixt the twain
[12:02:26] * ChrisMorgan decides to step out as he isn't sure enough of what he's saying and leave it to people that have worked more in the parser
[12:02:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:02:29] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[12:02:29] *** Joins: eco (eco@moz-87840B9D.net)
[12:02:33] *** Joins: jason_ (jason@moz-EC85D533.members.linode.com)
[12:02:34] *** Joins: ross (r@moz-35D0ADAB.clr.io)
[12:03:08] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:03:18] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[12:03:55] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[12:05:04] <jensnockert> I wish Rust had the ?: operator :(
[12:05:17] *** Quits: eco (eco@moz-87840B9D.net) (Ping timeout)
[12:05:44] *** Quits: jason_ (jason@moz-EC85D533.members.linode.com) (Ping timeout)
[12:06:02] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[12:07:10] *** Quits: ross (r@moz-35D0ADAB.clr.io) (Ping timeout)
[12:07:18] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Ping timeout)
[12:07:45] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[12:08:17] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[12:08:33] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[12:09:00] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[12:09:05] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[12:09:07] <jensnockert> I love when Rust feels like C, just more amazing.
[12:09:09] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[12:09:11] <jensnockert> Today is such a day.
[12:09:20] *** Joins: bgmerrell (bgmerrell@moz-AFAF64AB.members.linode.com)
[12:09:28] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[12:09:31] *** Joins: jason_ (jason@moz-EC85D533.members.linode.com)
[12:09:57] *** Joins: uberj (uberj@moz-AD308AD7.members.linode.com)
[12:10:19] <Hildar> jensnockert: That's what I tell myself when the borrow/mutablility/etc. checker blows up in my face. Hours of valgrind fun I avoided, compared to C/C++ :)
[12:10:32] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[12:10:37] <jensnockert> Yeah.
[12:10:52] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[12:10:57] <jensnockert> But even just little things, like a standard way to count leading zeroes.
[12:10:58] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[12:11:17] *** Quits: fyolnish (fyolnish@moz-D62E5117.uqwimax.jp) (Ping timeout)
[12:11:19] *** Joins: ross (r@moz-35D0ADAB.clr.io)
[12:11:27] <dbaupp> <3 .leading_zeros()
[12:11:41] * dbaupp probably overuses it
[12:12:03] <Hildar> <3 native ut8 support.
[12:12:10] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[12:12:12] <Hildar> *utf8
[12:12:25] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[12:12:33] *** Joins: eco (eco@moz-87840B9D.net)
[12:12:35] <jensnockert> dbaupp: There's no way you can overuse that.
[12:12:38] *** Joins: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP)
[12:12:40] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[12:12:46] *** Joins: yosemite (sam@moz-8CEAB1B0.dasbistro.com)
[12:13:19] <dbaupp> who needs += 1, when you have `let i = 1; while i.leading_zeros() != 0 {  ...; i <<= 1 }` \o/
[12:13:39] * ChrisMorgan has never used .leading_zeros()
[12:13:45] <dbaupp> ChrisMorgan--
[12:13:51] <Zr40> 1 has leading zeroes?!
[12:13:54] <ChrisMorgan> dbaupp: syntax error!
[12:14:05] <eibwen> leading_zeros sounds like a bad operation, performance-wise
[12:14:08] <ChrisMorgan> Zr40: bitwise, e.g. 1u8 is 0b00000001
[12:14:08] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[12:14:20] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[12:14:20] <dbaupp> eibwen: modern x86 have a cpu instruction for it
[12:14:29] <eibwen> oh
[12:14:30] <dbaupp> and even without it it's not super bad
[12:14:35] <jensnockert> eibwen: All x86 processors have an instruction for it.
[12:14:55] <eibwen> dbaupp: without an instruction you'd probably need a lookup table
[12:15:00] <eibwen> to get some performance
[12:15:05] <jensnockert> eibwen: No, there's a quicker way.
[12:15:11] <eibwen> which is?
[12:15:40] <dbaupp> eibwen: http://graphics.stanford.edu/~seander/bithacks.html#IntegerLogLookup
[12:15:50] <dbaupp> <3 bithacks
[12:15:59] <dbaupp> jensnockert: all? even like, i386?
[12:16:04] <jensnockert> dbaupp: Yeah.
[12:16:21] <jensnockert> eibwen: Binary search.
[12:16:25] <eibwen> what dbaupp linked *is* a lookup table
[12:16:43] <dbaupp> eibwen: there are several algorithms there
[12:16:52] <dbaupp> that's just the first on the page
[12:16:59] <dbaupp> sorry for being unclear
[12:17:21] <dbaupp> all of them use some form of lookup table though
[12:17:31] <dbaupp> jensnockert: cool, didn't know that
[12:17:54] <jensnockert> dbaupp: It's called bsr.
[12:18:09] <cgaebel> if you know it's a power of two, there's always http://x86.renejeschke.de/html/file_module_x86_id_20.html
[12:18:36] <dbaupp> jensnockert: yup, I thought it was newish
[12:18:46] <dbaupp> but clearly not :)
[12:18:52] <jensnockert> dbaupp: There's a new instruction too, which doesn't have corner cases.
[12:18:58] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[12:19:01] <jensnockert> lzcnt
[12:19:11] <ChrisMorgan> https://news.ycombinator.com/item?id=7210025 - "there is a substantial gap between the capabilities of hardware and C". What, no one has plugged Rust there yet, with how it exposes LLVM intrinsics which do these things, all with nice interfaces?
[12:19:14] <jensnockert> It doesn't have some undefined behaviour.
[12:19:35] <jensnockert> ChrisMorgan: Exactly what I was thinking when reading that article.
[12:19:37] <dbaupp> ChrisMorgan: "there's a substantial gap between LLVM intrinsics and hardware"
[12:19:40] * ChrisMorgan used checked arithmetic operations a couple of days ago and enjoyed the experience
[12:19:48] <dbaupp> (although that's less true.)
[12:20:27] <jensnockert> There's a significant gap between LLVM intrinsics and which ones you can access from Rust.
[12:20:33] <sigma> there's a substantial gap between assembly and how the hardware actually behaves in a lot of cases...
[12:20:40] <jensnockert> ^
[12:20:41] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[12:21:24] * ChrisMorgan used to be one of those people that thought x86 was an instruction set that hadn't changed in 20 years or something but is fortunately now enlightened
[12:21:31] <jakerr> I could have sworn I saw the following fail at runtime recently (which I was about to complain about) but now it seems to do what I'd expect (doesn't enter the loop): "for x in range(1,0) { println!("x: {}", x); }"
[12:21:57] <jakerr> Did something change or was I using some other range() hmm...
[12:22:21] <ChrisMorgan> jakerr: runtime failure there (start < end) is reasonable behaviour for Rust.
[12:23:06] <jakerr> ChrisMorgan: I suppose it's just how you want to define the semantic. It could evaluate to an empty range, a negative one, or fail.
[12:23:33] <dbaupp> our current implementation doesn't fail
[12:23:48] <jakerr> Did it used to? Like maybe a week ago?
[12:23:58] <dbaupp> i.e. range(a,b) exactly the same as for (i = a; i < b; i++)
[12:24:00] <dbaupp> nope
[12:24:21] <kimundi> I think range_step works for negative steps
[12:24:34] <jakerr> Must have been using some other range constructor I was using. Not sure what library it was from lol.
[12:24:44] <dbaupp> fn range hasn't changed since it was added in august
[12:24:53] <ChrisMorgan> jakerr: I just mean that, given Rust's approach to correctness, asserting start <= end would be reasonable. I don't mean that that's what it *does*.
[12:25:20] <dbaupp> ChrisMorgan: sometimes it is correct to have start > end
[12:25:30] <ChrisMorgan> dbaupp: well, I'm ignoring step for simplicity.
[12:25:38] <dbaupp> ChrisMorgan: no, ignoring step
[12:25:42] <ChrisMorgan> ?
[12:25:50] <dbaupp> i.e. you want to iterate 0 times
[12:26:11] <dbaupp> for i in range(0, 10) { for j in range(10, i + 5) { ... } }
[12:26:37] <dbaupp> contrived example, but you only want the inner loop to run for the last few i
[12:26:47] <dbaupp> (imagine there was other work in the outer loop too)
[12:27:00] <dbaupp> basically: requiring the programmer to special case that is really annoying
[12:27:02] <ChrisMorgan> dbaupp: it's all a matter of how you choose to define the semantics. I believe that failing on empty ranges would be consonant with Rust's design, though it would be likely to trip people up.
[12:27:16] <ChrisMorgan> (I'm not saying that not failing is not consonant with Rust's design.)
[12:27:24] * dbaupp hates how R makes a:b [a,a-1,..,b] when a > b
[12:27:25] * ChrisMorgan likes triple negation
[12:27:33] <dbaupp> it's *so* annoying
[12:27:34] * ChrisMorgan would too
[12:28:16] <TobiasFar> is there a page that shows how to write abstraction interfaces/implementations in rust and how the files/modules should be layouted?
[12:28:19] <dbaupp> but yeah, failing would be another option... but one I would rail against unless we had some examples of bugs etc. caused by not failing.
[12:28:31] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[12:29:16] <Matthias247> i really don't know why that should fail. range(5,0) is imho as logical as range(0,5)
[12:29:18] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Connection reset by peer)
[12:29:30] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[12:30:14] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[12:30:40] *** Joins: glaebhoerl (glaebhoerl@moz-3590251D.kabelnet.hu)
[12:30:41] <dbaupp> Matthias247: it's not quite as logical as range(0,5), since (5,0) will never ever iterate at all
[12:30:42] <eibwen> I think that'd *ask* for ubgs
[12:30:56] * ChrisMorgan apologises for starting it
[12:30:59] <eibwen> if you'd interpret range(5,0) sa range_step(5,0,-1)
[12:31:11] <Matthias247> dbaupp: and why not? It could return an iterator that iterates 5,4,3,2,1,0
[12:31:13] <dbaupp> yes, that would be the worst implementation ever
[12:31:36] <dbaupp> Matthias247: nope, it's horrible
[12:31:40] <dbaupp> 23:27:24 * dbaupp hates how R makes a:b [a,a-1,..,b] when a > b
[12:31:44] <Matthias247> no, it's logical
[12:31:46] <SiegeLord> I can think of worse... it could do 5 6 7... until it overflows back to 0
[12:31:47] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[12:31:54] <dbaupp> requires way too much special casing
[12:32:07] <dbaupp> at least failure wouldn't be an implicit bug
[12:32:33] <dbaupp> https://github.com/mozilla/rust/issues/9555
[12:34:46] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[12:34:54] <Matthias247> I think assuming that a < b is purely from a programmer and array point-of-view. In other use cases the other way will also make sense
[12:35:23] <jakerr> I went back and looked at the code where I had the runtime error in range() and it was the normal range, but I changed the code since then and can't repro... ahh!!
[12:35:33] <dbaupp> and when programming you'll mostly be using it as a programmer/arrays...
[12:38:00] * dbaupp -> bed
[12:38:34] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[12:39:07] *** Joins: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP)
[12:39:25] *** Quits: rca (rcatolino@moz-85E59476.adsl.proxad.net) (Ping timeout)
[12:41:50] *** Quits: veddan (viktor@moz-C79BC80B.csbnet.se) (Client exited)
[12:41:55] *** Joins: veddan (dviktor@moz-466BD1C6.studat.chalmers.se)
[12:41:55] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[12:42:28] <jakerr> Ah rusti's not around huh? :(
[12:42:37] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:43:06] <glaebhoerl> is macro hygiene for items just not implemented or not even wanted?
[12:44:18] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:44:39] <jakerr> I just realized I was lying about range() failing... it was std::rand::Rng::gen_range() and it's documented to fail if low < high so I can't really complain.
[12:45:39] <veddan> any reason why all field in std::rand::distributions::range::Range are private?
[12:46:16] <veddan> I believe it makes it impossible to implement SampleRange on types outside of stdlib
[12:46:22] <jakerr> s/low < high/low >= high/
[12:47:10] *** Joins: vmx (vmx@moz-F619E59F.dip0.t-ipconnect.de)
[12:47:52] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[12:49:15] *** Quits: nical|lunch (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[12:49:43] <veddan> since you need to implement construct_range (returning a Range)
[12:49:56] <veddan> and you can't actually construct the Range since all fields are private
[12:52:53] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:53:00] *** Quits: apoelstra (username@moz-BBEB5B9E.sw.biz.rr.com) (Ping timeout)
[12:53:19] *** Quits: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:54:21] *** Joins: jadbaires (jadrian@moz-2D403AFF.dsl.telepac.pt)
[12:57:02] <jadbaires> regarding traits, I get the idea behind the syntax  `T : A+B`, it implements trait A plus trait B... but I'm not a fan
[12:57:58] <jadbaires> mathematically that usually corresponds to a multiplication/conjuntion, not a sum/disjunction
[12:58:51] <eddyb> it's not mathematical :/
[12:58:59] <jadbaires> T lives in the intersection of those two trais, not their union
[12:59:26] <jadbaires> eddyb: even if you go for english, it would make more sense to say `and` rather than `plus`
[12:59:39] <jadbaires> T implements A and B
[12:59:46] <eddyb> jadbaires: we can't use , because it delimits the type params themselves
[12:59:57] <eddyb> I did think of &, but it's too awkward
[13:00:13] <kimundi> jadbaires: "T has access to all methods of the union between A and B"
[13:00:29] *** Joins: fyolnish (fyolnish@moz-D62E5117.uqwimax.jp)
[13:00:30] <eddyb> and there's no difference between intersection and union in this case, oddly enough
[13:00:48] <glaebhoerl> sure there is
[13:00:49] <jadbaires> kimundi: right, fair point I didn't think of reading it like that
[13:00:54] <eddyb> maths can be very silly sometimes
[13:01:06] <jadbaires> eddyb: that is not true
[13:01:12] <glaebhoerl> eddyb: you could say T implements A OR B, it's just not useful
[13:01:12] <jadbaires> eddyb: it is very different
[13:01:24] <jadbaires> let me not though that what I am saying is not without precedent
[13:01:29] <eddyb> glaebhoerl: and that's a disjunction
[13:01:31] <jadbaires> not for instance Haskell uses (A,B)
[13:01:39] <jadbaires> which amounts to multiplication
[13:01:51] <eddyb> suddenly, | and + use the same mathematical terms
[13:02:11] *** Quits: fyolnish (fyolnish@moz-D62E5117.uqwimax.jp) (Ping timeout)
[13:02:18] <glaebhoerl> + for bool is | :)
[13:02:23] <eddyb> if you want to go for strict terminology, use ML
[13:02:24] <kimundi> Almost every case of sub/super in a programming language's type system can be seen either way, depending on what exactly you look. Thats the reason why I can never remember which way is which, or what a notation like A <: B is supposed to tell me :P
[13:02:56] <eddyb> glaebhoerl: but in this case, where + is used as &, they're the opposite
[13:02:59] <eddyb> kimundi++
[13:03:18] <glaebhoerl> eddyb: yes
[13:03:21] <eddyb> glaebhoerl: well, not precisely opposite, but you understand the silliness of this discussion
[13:03:30] <jadbaires> I _think_ the standard is to think of them as domains of interpretation
[13:04:04] <jadbaires> so notation usually reflects whether the domains are bigger/smaller,  united or intersected
[13:04:06] <glaebhoerl> yes, I understand it, I was originally responding to "there's no difference between intersection and union in this case"
[13:04:13] <kimundi> In any case, that syntax using "+" was not really a theortics-based decision, but an ergonomic one. There is only a limited set of ASCII characters to choose from, and the mailing discussion lead to "+" being the preferred one, if I recall correctly :P
[13:04:30] <eddyb> & would make more sense than + if we were to use !Trait for "doesn't implement Trait", but + works fine for me
[13:05:11] *** Joins: iDolfHatler (idolf@moz-6B6C49D7.rhave.dk)
[13:05:11] <jadbaires> eddyb: is there some form of !Trait as of now?
[13:05:17] <eddyb> nope
[13:05:36] <eddyb> it's not impossible (not even that hard, really) to have a custom Rust syntax with proper mathematical symbols and whatnot, if you really want it
[13:06:00] *** Joins: nkoep (nik@moz-32BEC660.pool.mediaways.net)
[13:06:37] <jadbaires> eddyb: thing is + is a proper mathematical term, and _in my opinion_ from what I've seen the denotation for these concepts usually is multiplicative not additive
[13:06:39] <kimundi> afaik everytime !Trait comes up, someone claims it would break the typesystem
[13:06:47] <glaebhoerl> jadbaires: there's also the consideration that Haskell is talking about constraints, but Rust is talking about predicates, which is one level out, and the same notation isn't necessarily appropriate for both. expressed as a syntactical abomination, `type (Trait1 + Trait2) a = (Trait1 a, Trait2 a)`
[13:07:17] <iDolfHatler> Hello, I was wondering if anybody could point me in the right direction. I'm trying to do allocation of variables inside mmap'ed area.
[13:07:23] <jadbaires> glaebhoerl: but wouldn't the equivalent for predicates be & ?
[13:07:24] <dwrensha> jedbaires: does "domains of interpretation" mean "set theoretically"? Because as far as I can tell, the type theory that is fashionable today totally eschews set theory.
[13:07:40] <iDolfHatler> While doing this I noticed two things I found weird -- one of which might be a bug (or might just be more not understanding rust well enough)
[13:08:08] <jadbaires> dwrensha: not necessarily, domains means denotational semantics which usually imples some Category (of which Set is a very particular and trivial case)
[13:08:19] <eddyb> iDolfHatler: would a TypedArena work for you?
[13:08:34] <eddyb> iDolfHatler: it's much safer than dealing with mmap yourself
[13:08:35] <dwrensha> e.g. uses \supset for "implies", which goes against the set theoretic definition
[13:08:39] <jadbaires> dwrensha: and in that context `+`  coproduct 
[13:08:42] <iDolfHatler> The first was that while defining "struct MMap<T>(T)", I would get an i8 as a tag -- but I could not figure out what it was used for
[13:08:43] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[13:08:49] <glaebhoerl> jadbaires: what I'm saying is just that `(T: Trait1) && (T: Trait2)` makes sense (or Haskellishly: `(Trait1 a) && (Trait2 a)`, but I'm not sure if `T: Trait1 && Trait2` makes the same kind of sense
[13:08:58] <jadbaires> glaebhoerl: right I see
[13:09:14] <glaebhoerl> I'm not saying + is good, I'm just not sure if && is totally appropriate either
[13:09:15] <iDolfHatler> eddyb: Maybe. I'll look into it -- however it is for a CTF challenge, so the exact memory layout matters quite a bit :)
[13:09:15] <eddyb> iDolfHatler: that must be the drop flag
[13:09:20] <jadbaires> glaebhoerl: yes kimundi also made that point, that is making me think indeed
[13:09:50] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[13:10:19] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:10:28] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[13:10:29] <glaebhoerl> (to belabor the point, at the term level you write `if pred1(a) && pred2(a)`, not `if (pred1 && pred2)(a)`)
[13:10:46] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:10:51] <iDolfHatler> eddyb: Ok, that makes sense -- I have a Drop trait for that struct. Is there someplace where I could read about the memory layout? :)
[13:11:19] <kimundi> The char '+' doesn't mean anything anyway unless you give it a certain definition. :P
[13:12:35] <jadbaires> kimundi: eddyb: yeah I guess it depends on whether one thinks of A+B as the sum of both domains or the sum of both interfaces
[13:13:00] <eddyb> I think I wanted to mention that but couldn't phrase it this good :)
[13:13:07] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:13:08] <eddyb> iDolfHatler: not sure. if you guard the struct itself (by zeroing a pointer and checking for null in the Drop impl, for example) so once Drop::drop was called on it, a second call for the same object is impossible, you can put #[unsafe_no_drop_flag] on the struct definition to remove the flag
[13:13:33] <glaebhoerl> I guess the question could be reformulated such that: at the term level, if you have `fn pred1(T) -> bool` and similarly `pred2`, and want to define `forall x. (pred1 OPERATOR pred2)(x) === pred1(x) && pred2(x)`, what is an intuitive choice for OPERATOR?
[13:13:43] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:13:50] <jadbaires> kimundi: eddyb: I am very used to think of any type notation as being intuitionistic (HC isomorphism and what not) so to me the + always represents an intuitionistic or, or in other words a disjoint sum
[13:14:16] <jadbaires> so when I see + I think, you can have one or the other
[13:14:19] <jadbaires> but not both
[13:14:38] <jadbaires> so to me A+B instinctivley means I have either A or B available
[13:14:39] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[13:15:15] <jadbaires> and I guess Haskell people thought the same, which explains their (A,B)... but again I'm willing to admit it may be a matter of bias given my background
[13:15:26] <glaebhoerl> anyway, I think + is mostly fine as long as we don't add trait negation
[13:15:29] <glaebhoerl> if we do it gets weird
[13:15:34] <jadbaires> glaebhoerl: right
[13:19:28] *** Joins: tryzor (bzlandfill@moz-E4AFEBB8.dip0.t-ipconnect.de)
[13:20:22] *** Joins: rca (rcatolino@moz-85E59476.adsl.proxad.net)
[13:21:11] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[13:22:00] *** Joins: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp)
[13:22:14] *** Quits: alexherbo2 (alexherbo2@moz-33868228.w90-35.abo.wanadoo.fr) (Ping timeout)
[13:22:50] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[13:23:25] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[13:24:10] <dwrensha> I guess '^' or '*' might be confusing for many users
[13:24:56] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[13:26:33] *** Joins: dave1629_ (dave@moz-17578A1A.hsd1.va.comcast.net)
[13:26:46] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[13:27:00] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:29:16] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[13:29:25] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[13:29:47] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[13:31:03] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[13:31:14] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:31:35] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:31:47] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[13:33:34] *** Joins: apoelstra (username@moz-7F122B36.public.utexas.edu)
[13:34:01] *** Quits: gimpf (gimpf@moz-409692CD.adsl.highway.telekom.at) (Quit: Leaving.)
[13:34:30] *** Quits: dave1629_ (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629_)
[13:36:36] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[13:36:53] <lpy> warning: source code was requested to be rendered, but processing `<std macros>` had an error: no such file or directory
[13:36:58] <lpy> what does this menas?
[13:38:21] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[13:38:22] <kimundi> lpy: In waht context does that error appear?
[13:38:46] *** Joins: fyolnish (fyolnish@moz-D62E5117.uqwimax.jp)
[13:38:48] <lpy> when I run `make
[13:38:50] *** Joins: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net)
[13:38:52] <kimundi> lpy: It sounds like something is trying to parse rustcs error messages, and tries to extract the filename from them
[13:38:55] <kimundi> huh
[13:38:56] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[13:39:19] <kimundi> Rusts make?
[13:39:35] <lpy> yep
[13:40:22] <lpy> and it says "         skipping rendering of source code"
[13:41:01] <kimundi> that sounds like the documentation generator
[13:41:07] <kimundi> (rendering of the webpage etc)
[13:41:07] <lpy> indeed
[13:41:08] *** Joins: twi (Adium@7B7A7991.FB0C528B.54B829D6.IP)
[13:41:25] <kimundi> Did you do any changes to the code?
[13:41:33] <lpy> no
[13:41:40] <kimundi> Hm, then that shouldn't happen
[13:41:54] <dwrensha> That happens for me too
[13:41:57] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[13:42:03] <dwrensha> has for the past week or so
[13:42:05] *** Quits: reima (Instantbir@moz-84076E1A.dip0.t-ipconnect.de) (Quit: Leaving.)
[13:42:06] <kimundi> it does?
[13:42:14] <dwrensha> but no adverse effects that I've noticed
[13:42:15] * kimundi should test it himself
[13:42:17] <lpy> dwrensha: how did you solve this?
[13:42:26] <dwrensha> I don't use the local documentation
[13:42:54] *** Quits: twi (Adium@7B7A7991.FB0C528B.54B829D6.IP) (Ping timeout)
[13:42:55] <dwrensha> it's only a warning for me
[13:42:59] *** Quits: Hildar (Mibbit@moz-1FA995E0.in-addr.btopenworld.com) (Quit: http://www.mibbit.com ajax IRC Client)
[13:42:59] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:43:07] <dwrensha> 'make' succeeds with exit code 0
[13:43:30] <lpy> dwrensha: it is the last output of `make`, right?
[13:43:34] <dwrensha> yes
[13:43:55] <lpy> dwrensha: okay. 
[13:44:04] <lpy> thank you both of you.
[13:44:33] <lpy> btw, is there a command to delete all the stuff?
[13:44:42] <lpy> make clean-all?
[13:44:43] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:45:35] *** Quits: veddan (dviktor@moz-466BD1C6.studat.chalmers.se) (Quit: Leaving)
[13:46:13] *** Joins: Ms2ger (Ms2ger@4A49FFC8.EA68D5B.F15B0BB3.IP)
[13:46:13] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[13:46:43] <kimundi> well, the easiest way is to just reclone the repo. but otherwise "make clean" will cleanup all rust build artifacts, while "make clean-llvm" will clean out the llvm build artifacts
[13:48:15] <lpy> kimundi: also I find that clean-all will do both `clean` and `clean-llvm
[13:48:38] <kimundi> might well be :)
[13:49:11] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[13:49:25] *** jorendorff_away is now known as jorendorff
[13:50:53] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: victorporof)
[13:52:29] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[13:56:01] <sigma> git clean -xdf
[13:56:12] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[13:58:54] <jakerr> sigma: A wonderful command.
[13:58:55] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: Textual IRC Client: www.textualapp.com)
[13:59:06] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[13:59:33] <jakerr> I never trust random Makefile's clean targets but if it's a git clone, clean is built in :)
[13:59:34] <sigma> you may want to add -n to avoid sudden cardiac arrest
[14:00:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:00:30] *** Joins: dschatzberg (dschatzber@moz-9384E83C.bu.edu)
[14:00:41] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[14:01:23] *** Joins: mythmon (mythmon@moz-AD308AD7.members.linode.com)
[14:02:23] *** Quits: fyolnish (fyolnish@moz-D62E5117.uqwimax.jp) (Client exited)
[14:02:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:03:08] *** darnuria|ZzZ is now known as darnuria
[14:05:24] *** Quits: jadbaires (jadrian@moz-2D403AFF.dsl.telepac.pt) (Quit: Konversation terminated!)
[14:05:30] *** Joins: jadbaires (jadrian@moz-2D403AFF.dsl.telepac.pt)
[14:07:23] *** Quits: cdidd (cdidd@moz-63AE6544.broadband.corbina.ru) (Input/output error)
[14:09:07] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[14:09:53] *** Quits: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Ping timeout)
[14:09:59] *** Quits: doomlord__ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Ping timeout)
[14:12:53] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:13:00] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[14:14:50] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[14:15:05] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Client exited)
[14:15:45] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:15:54] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[14:18:55] <TobiasFar> is -Z gen-crate-map not needed anymore for static libs?
[14:19:59] *** Quits: alex__ (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[14:20:20] *** Joins: fabiand (fabiand@E6AE0EEE.8B38C502.16E13E53.IP)
[14:20:26] *** Quits: jadbaires (jadrian@moz-2D403AFF.dsl.telepac.pt) (Connection reset by peer)
[14:20:33] *** Joins: jadbaires (jadrian@moz-2D403AFF.dsl.telepac.pt)
[14:21:05] *** Joins: alex__ (alex@moz-7421D6C9.mc.videotron.ca)
[14:21:22] *** Quits: astroch (astroch@moz-C18802C0.dhcp.embarqhsd.net) (Quit: Leaving)
[14:22:17] *** Joins: vertexclique (vertexcliq@6F384F56.153E7D13.6894ADF4.IP)
[14:24:06] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[14:24:13] *** Quits: jadbaires (jadrian@moz-2D403AFF.dsl.telepac.pt) (Quit: Konversation terminated!)
[14:24:19] *** Joins: jadbaires (jadrian@moz-2D403AFF.dsl.telepac.pt)
[14:24:49] <vertexclique> Any solution smothing like this: "expected `std::comm::TryRecvResult<workqueue::WorkerMsg<QUD,WUD>>` but found `std::option::Option<<generic #136>>`"
[14:25:07] <vertexclique> for smt like this*
[14:25:31] *** Quits: fabiand (fabiand@E6AE0EEE.8B38C502.16E13E53.IP) (Ping timeout)
[14:25:56] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Quit: pilf)
[14:26:47] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[14:27:12] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[14:28:05] *** Quits: apoelstra (username@moz-7F122B36.public.utexas.edu) (Ping timeout)
[14:28:16] *** Joins: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[14:29:39] *** Joins: igork (igork@moz-F6DD8476.broadband.corbina.ru)
[14:30:02] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[14:31:46] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[14:32:05] <kimundi> vertexclique: Well, its a type error. Look at what is causing it, look at why both sides are the type they are, and then decide which side needs to be changed so that the code compiles
[14:32:34] <kimundi> compiles and does what is wanted*
[14:33:17] *** Joins: jamil_1 (kvirc@DFBAD4DA.F19F6F1F.F6DA161.IP)
[14:34:17] *** Quits: tryzor (bzlandfill@moz-E4AFEBB8.dip0.t-ipconnect.de) (Quit: CGI:IRC (Ping timeout))
[14:35:48] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[14:35:56] <TobiasFar> http://paste.debian.net/hidden/a1a1c878/ for this i get a ton of unresolved name and use of undeclared module `relic` errors, do i include my binding in a wrong way or did something change recently?
[14:37:02] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[14:39:13] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[14:40:02] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:40:48] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[14:41:07] *** Joins: alexherbo2 (alexherbo2@moz-33868228.w90-35.abo.wanadoo.fr)
[14:41:32] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[14:42:20] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:42:54] *** Quits: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Client exited)
[14:43:20] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:43:33] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[14:43:51] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[14:45:01] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:45:25] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[14:45:36] <TobiasFar> how come that use of the binding works in bench.rs (which i build as static lib via rustc) but not in ibs.rs (which i import in bench.rs)? is there something special i have to keep in mind when moving code around in modules?
[14:45:44] <TobiasFar> *in between
[14:46:34] *** Joins: apoelstra (username@moz-7F122B36.public.utexas.edu)
[14:47:29] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:48:19] *** Quits: Ferreus (ferreus@moz-56BA0CFA.dip0.t-ipconnect.de) (Ping timeout)
[14:50:39] *** Joins: Chilledheart (chilledhea@B0AE4FEF.A52E578A.B0AE83C7.IP)
[14:51:05] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:51:26] <jamil_1> what does this error mean: value may contain references; add `'static` bound
[14:51:33] <KokaKiwi> Argh, too mush big changes in last "This Week in Rust" :')
[14:51:39] <KokaKiwi> (hello chan)
[14:51:51] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[14:53:36] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:55:03] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[14:55:18] *** Quits: apoelstra (username@moz-7F122B36.public.utexas.edu) (Ping timeout)
[14:55:28] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:56:02] <TobiasFar> does rust have do {} while () loops or do i have to do loop { if () break }?
[14:56:25] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[14:56:49] <Yurume> jamil_1, source code?
[14:57:40] <Yurume> TobiasFar, yes, you need to use break. there exists a bit strange anti-pattern (while {} {} is possible somehow) but I really don't recommend that.
[14:58:14] <TobiasFar> Yurume: ok..thanks
[14:58:22] *** Joins: drbawb (drbawb@moz-444F91EA.wi.res.rr.com)
[14:58:23] *** Quits: iDolfHatler (idolf@moz-6B6C49D7.rhave.dk) (Ping timeout)
[14:58:26] <sigma> TobiasFar: https://gist.github.com/huonw/8435502
[14:59:17] <Yurume> yes, that is a black magic ;)
[14:59:32] <sigma> i didn't realise it was possible in c...
[14:59:33] <SiegeLord> There's nothing magical about it... the syntax is while expr {}
[14:59:37] <jamil_1> Yurume: http://paste.ubuntu.com/6909515/ line 51
[14:59:39] <TobiasFar> sigma: yeah...i probably go with loop & break...the black magic seems to reduce readability quite a bit
[14:59:40] <SiegeLord> And {} is an expr
[14:59:42] <sigma> that is going in our codebase at work.
[15:00:23] <SiegeLord> while {} {} works, but doesn't support break/continue in the first block
[15:01:21] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:01:47] <SiegeLord> I'd probably write a do_while! macro if I had to do this several times
[15:02:02] <Yurume> jamil_1, heh, parser combinator... yes, that's because MapParser contains a reference and an owned trait object ~Parser: cannot contain it since the owned trait object erases the lifetime information.
[15:02:42] <Yurume> I don't know the natural parser combinator is possible in Rust, but it's certainly a hard way to do it. good luck for that.
[15:02:59] *** Joins: akuda_ (akuda@moz-B405945D.neoplus.adsl.tpnet.pl)
[15:03:15] *** Quits: akuda_ (akuda@moz-B405945D.neoplus.adsl.tpnet.pl) (Connection reset by peer)
[15:03:35] *** Quits: askalski (akuda@moz-9DC8A359.neoplus.adsl.tpnet.pl) (Ping timeout)
[15:04:05] <jamil_1> Yurume: yes, this is my second attempt. first attempt didn't work becuase couldnt call proc multiple times
[15:04:47] *** Joins: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[15:07:22] *** Quits: jamil_1 (kvirc@DFBAD4DA.F19F6F1F.F6DA161.IP) (Ping timeout)
[15:07:53] *** Joins: jamil_1 (kvirc@FA6FF997.8DAD7B70.B412A6C5.IP)
[15:08:15] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[15:10:35] *** Joins: askalski (akuda@moz-B405945D.neoplus.adsl.tpnet.pl)
[15:11:20] *** Joins: maxli1 (Instantbir@moz-78AD779D.hsd1.ca.comcast.net)
[15:14:09] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[15:14:34] *** Joins: bakkdoor (bakkdoor@moz-A5D5C5B9.dip.osnanet.de)
[15:15:41] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[15:15:49] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:17:48] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[15:18:01] <mitsuhiko> why does --crate-file-name have to return more than one name?
[15:18:14] <mitsuhiko> i know that dylib builds apparently build an rlib and a dylib, but is that necessary?
[15:18:20] <mitsuhiko> it makes using that flag in makefiles a lot harder
[15:18:44] <mitsuhiko> i'm assuming it makes the dylib out of the rlib. if that's the case, is there a way to do this as a separate build step manually?
[15:19:37] *** Joins: `cbp (user@C3232618.1AFAEAEA.7C05EB22.IP)
[15:20:03] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Quit: Leaving.)
[15:20:13] <pnkfelix> mitsuhiko: maybe via --crate-type rlib ?
[15:20:28] <SiegeLord> I think it's a misfeature of the current system
[15:20:34] <pnkfelix> mitsuhiko: (though I am not an expert on the current api)
[15:20:58] <SiegeLord> Currently, #[crate_type="lib"]; forces building of the rlib
[15:21:23] <SiegeLord> Doing --crate-type dylib appends a dylib generation
[15:21:30] <mitsuhiko> ah
[15:21:38] <SiegeLord> It either should replace, or 'lib' should be special
[15:21:40] <mitsuhiko> so a dylib still gets built from scratch and not out of a rlib?
[15:21:41] <pnkfelix> SiegeLord: i see, so you cannot use that flag to restrict the generated output?
[15:21:45] <SiegeLord> No
[15:22:45] <SiegeLord> The only way to stop generating an rlib is to specify dylib in the crate_type attribute, or omit it and pass dylib to --crate-type
[15:23:03] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[15:23:06] <SiegeLord> Oh, well and sometimes if you're preferring dynamic you get a dylib anyway
[15:23:17] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:23:25] <SiegeLord> It's a bit random what you'll actually get
[15:23:36] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[15:23:47] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[15:23:59] <SiegeLord> My memory is fuzzy on this atm though, so don't quote me on that
[15:24:07] *** Quits: Chilledheart (chilledhea@B0AE4FEF.A52E578A.B0AE83C7.IP) (Quit: Leaving...)
[15:24:13] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[15:24:16] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[15:24:25] <pnkfelix> SiegeLord: but if mitsuhiko leaves out the #[crate_type=..] attribute, then they should be able to use the --crate-type option in their Makefile ?
[15:24:37] <SiegeLord> I hope so, yes
[15:24:49] <SiegeLord> I hope it errors out of it can't make an rlib/dylib
[15:24:50] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[15:25:01] *** Quits: aklt (aklt@83B8238.6BE5A349.B330AC0A.IP) (Quit: Schwit)
[15:25:05] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[15:25:05] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[15:25:07] <SiegeLord> *if it
[15:25:46] *** Quits: veeti (veeti@moz-D6414854.rojekti.fi) (Ping timeout)
[15:25:58] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[15:26:14] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[15:26:19] *** Quits: jpf (jan@moz-A8C26A15.org) (Ping timeout)
[15:26:35] <SiegeLord> I think it's a bit confusing, frankly :P
[15:26:47] *** Joins: veeti (veeti@moz-D6414854.rojekti.fi)
[15:27:30] *** Joins: jaras (jaras@1CDC5701.A48867D7.52E4E107.IP)
[15:28:12] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Ping timeout)
[15:29:23] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[15:29:41] *** Joins: jpf (jan@moz-A8C26A15.org)
[15:30:48] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[15:30:58] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[15:31:13] *** Quits: nkoep (nik@moz-32BEC660.pool.mediaways.net) (Quit: Leaving)
[15:31:21] *** Joins: japaric (japaric@165B2E0D.E90D5F40.F29ED47E.IP)
[15:31:43] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:31:43] *** ChanServ sets mode: +ao dherman dherman
[15:31:57] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[15:32:29] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[15:33:40] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Ping timeout)
[15:36:21] <drbawb> does anyone know if its possible to use a simple (c-like?) enum as a key for HashMap?
[15:37:14] <drbawb> right now i'm just casting them as an int, but the enum itself doesn't impl. `IterBytes` it seems
[15:37:24] *** Joins: Chilledheart (chilledhea@B0AE4FEF.A52E578A.B0AE83C7.IP)
[15:37:38] *** Joins: patpat (patpat@D84C331C.7FC6F41F.98F3E2B5.IP)
[15:38:54] *** Quits: jaras (jaras@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:39:41] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[15:39:51] <engla> drbawb: can you add deriving(IterBytes) to the enum?
[15:40:05] *** Joins: snuderl (snuderl@moz-F3D82D32.static.triera.net)
[15:40:12] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[15:40:22] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[15:40:35] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[15:41:36] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Input/output error)
[15:41:47] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[15:42:26] <mrmonday> hey, what happened to --link-args= as a compiler flag? do I have to use the #[link_args] thing now?
[15:42:27] <drbawb> engla: thanks! that worked. had to add `Eq` in there as well but it was able to derive that
[15:42:58] *** Joins: voxpopuli (fanservice@71D59995.6A843466.689607DE.IP)
[15:43:40] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:44:08] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:44:31] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[15:44:48] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[15:44:56] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[15:45:23] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:46:32] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[15:47:21] <tedh> mrmonday: its now -C link-args=
[15:47:56] *** Joins: kellogh (timkellogg@moz-68DF7EF7.teliax.com)
[15:48:19] <diverse> mrmonday: https://github.com/mozilla/rust/pull/12084
[15:49:16] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[15:49:52] *** Joins: apoelstra (username@moz-7F122B36.public.utexas.edu)
[15:50:17] *** Quits: Chilledheart (chilledhea@B0AE4FEF.A52E578A.B0AE83C7.IP) (Quit: Leaving...)
[15:50:20] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:50:31] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[15:51:41] <mrmonday> tedh: awesome, thanks :)
[15:51:45] *** Joins: dave1629_ (dave@moz-17578A1A.hsd1.va.comcast.net)
[15:51:57] *** Parts: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP) (ERC Version 5.3 (IRC client for Emacs))
[15:52:14] *** Quits: jakerr (jakerr@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:52:20] <mrmonday> diverse: thanks, tried finding something like that but I couldn't see it :)
[15:52:32] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[15:53:59] <diverse> mrmonday: it's on the merged commits list on github. I wanted to show you that just so you know what was going on.
[15:55:20] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[15:55:33] <mitsuhiko> SiegeLord: https://github.com/mozilla/rust/issues/12152 <- does this make sense?
[15:56:19] <mitsuhiko> Is an rlib platform independent?
[15:56:23] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[15:56:46] <Zr40> I believe it's not
[15:56:51] <SiegeLord> Well, I think it's fine for to do what it does... the flags themselves are problematic though, and I've submitted an issue for it already: https://github.com/mozilla/rust/issues/11573
[15:57:03] <diverse> mitsuhiko: what system are you on?
[15:57:10] <mitsuhiko> diverse: os x
[15:57:16] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[15:57:30] <diverse> mitsuhiko: and you see them as .rlib?
[15:57:50] <diverse> the files
[15:58:03] <Zr40> diverse: rlib is not the same as dylib
[15:58:14] <diverse> Zr40: I know
[15:58:19] <pnkfelix> mrmonday: I didn't see -C either, so I just filed PR 12153.  :)
[15:58:35] <mitsuhiko> diverse: i don't understand the question :)
[15:59:02] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[15:59:26] *** Quits: Blaze- (blaze@moz-9B9AB2F0.dhcp.inet.fi) (Ping timeout)
[15:59:26] <diverse> mitsuhiko: sorry, I wanted to know if you get the same *.rlib file extension as I do on Linux?
[15:59:48] <mitsuhiko> .rlib is a format made up by rust if that's what you're asking
[15:59:52] *** Joins: Blaze- (blaze@moz-9B9AB2F0.dhcp.inet.fi)
[16:00:02] <mitsuhiko> and since the filename is only defined by the crate id hash you should see the same as me
[16:00:29] *** Quits: apoelstra (username@moz-7F122B36.public.utexas.edu) (Ping timeout)
[16:01:11] <Zr40> as I understand it, .rlib is same as .a in the C world, plus rust's metadata
[16:01:23] <Zr40> so it contains machine-dependent code
[16:02:12] <diverse> mitsuhiko: that's not what I am asking. But before I say anything, what do you mean by 'platform independent'?
[16:03:06] <mitsuhiko> diverse: i was wondering if an rlib includes llvm ir
[16:03:10] *** Joins: apoelstra (username@moz-7F122B36.public.utexas.edu)
[16:03:22] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[16:03:50] <Zr40> mitsuhiko: you can use ar -x to extract the contents
[16:05:46] <mitsuhiko> so the main reason i'm asking is because the filenames for rlibs don't include architecture information
[16:06:14] <mitsuhiko> rustpkg (if i remember correctly) moved that stuff into subfolders
[16:06:49] <jadbaires> kimundi: what you said before made me think a bit, and I have to say you were right, referring to this " Almost every case of sub/super in a programming language's type system can be seen either way, depending on what exactly you look."
[16:07:04] *** Joins: olem (olem@moz-D8B40BE5.fbx.proxad.net)
[16:07:08] <Tekk_> jadbaires: it's horrible, isn't it?
[16:07:09] <mitsuhiko> which is a bit odd because it means that you need to try to unpack that thing to figure out where it belongs to
[16:07:15] <Tekk_> you can never decide which way to make your hierarchy
[16:07:17] <mitsuhiko> given the different ar formats on different platforms that might not even be possible
[16:07:20] <Tekk_> (when you're forced to have one)
[16:07:21] <jadbaires> Tekk_: kinda... 
[16:07:39] * Tekk_ practices communism-oriented programming
[16:07:43] <Tekk_> avoid classes, avoid hierarchies o.o
[16:07:57] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Ping timeout)
[16:07:59] <diverse> mitsuhiko: I would ask strcat that question when he comes back here.
[16:08:10] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[16:08:31] <jadbaires> Tekk_: kimundi: the alternate view I was given here was that of summing the interfaces (rather than intersecting the models) and that rang a bell... so I went back to algebraic specification books
[16:08:42] <Tekk_> jadbaires: yes, components
[16:08:58] <Tekk_> each object is just a set of the components which give it its functionality
[16:09:14] <jadbaires> Tekk_: kimundi: yeap, you even get this when you're composing specifications (from a recent book on the subject):   Mod[SP1 ∪ SP2] = Mod[SP1] ∩ Mod[SP2 ]
[16:09:39] <jadbaires> Tekk_: kimundi: the module of the union of the specifications is the intersection of both of their modules
[16:10:30] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[16:10:34] <jadbaires> Tekk_: kimundi: so yeah, if that + is interpreted as summing the interfaces it actually makes perfect sense
[16:10:42] <jadbaires> I hadn't thought of it
[16:11:01] <jadbaires> s/module/model
[16:11:08] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:12:01] * Tekk_ wishes that languages actually had support for component based
[16:12:15] <Tekk_> it seems like anything that doesn't have support for doesNotUnderstand/AUTOLOAD would be a huge pain with it
[16:12:27] <jadbaires> Tekk_: isn't that what ML has? 
[16:12:41] <Tekk_> never worked on ml
[16:12:41] <jadbaires> Tekk_: or are you referring to something else
[16:12:49] <Tekk_> I've tried to learn ocaml sometimes but I can never get libraries to work
[16:12:53] <Tekk_> and hence can't get much stuff done
[16:12:57] *** Joins: johnsoft (johnsoft@moz-FF270E79.neo.res.rr.com)
[16:12:58] <jadbaires> SML and OCaml have a rather compreehsive module system
[16:13:01] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[16:13:09] <Tekk_> jadbaires: in particular I was referencing perl and smalltalk
[16:13:19] <jadbaires> Tekk_: I don't know either :/
[16:13:24] <Tekk_> if you call a method on an object which does not have that method, then doesNotUnderstand gets called with that method
[16:13:33] <Tekk_> doesNotUnderstand can then delegate that to a more appropriate method
[16:13:37] <Tekk_> ruby has it too
[16:13:42] <jadbaires> I see
[16:13:47] <Tekk_> it's what lets you make DSLs so easily in smalltalk, perl, and ruby
[16:14:10] *** Joins: Ferreus (ferreus@moz-6512319A.pools.arcor-ip.net)
[16:14:16] <jadbaires> asfaik that's not possible in ML
[16:14:43] *** Joins: jsonnull (Thunderbir@F1457BE1.3E7847E.494A0F8B.IP)
[16:14:45] <Tekk_> it's not possible in a lot of languages :)
[16:14:59] <olem> Greetings *
[16:15:05] <Tekk_> depending on how ml does linkage it may even be impossible
[16:15:09] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:15:16] <jadbaires> I'm scared of all things involving dynamic typing
[16:15:19] <Tekk_> which is a shame because pattern matching would probably be great for that
[16:15:40] *** Quits: voxpopuli (fanservice@71D59995.6A843466.689607DE.IP) (Ping timeout)
[16:16:01] <olem> I'm a newbee in Rust. I try to see how to execute an external command  like system("/path/to/file_command") in Rust.
[16:16:21] <olem> but so far I just did find this post on the topic: http://stackoverflow.com/questions/21011330/how-do-i-invoke-a-system-command-in-a-rust-program
[16:16:44] *** Joins: cdidd (cdidd@moz-F913BBCA.broadband.corbina.ru)
[16:17:03] <olem> Could somebody help me to figure out how to I call a command, use/pass argument, grab back output and return code?
[16:17:03] *** Joins: nomadic (nomadic@A089E02C.E8277645.CDB55C47.IP)
[16:17:17] <sigma> http://static.rust-lang.org/doc/master/std/run/struct.Process.html
[16:17:26] *** Joins: nkoep (nik@moz-32BEC660.pool.mediaways.net)
[16:17:40] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Ping timeout)
[16:17:43] <olem> because I must admin this post nor the std::run doc helped me to figure that out... 
[16:18:11] <olem> s/admin/admit
[16:18:50] <olem> sigma: yep, thx. I saw that doc. but... could you give me an example of usage?
[16:18:56] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:19:31] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:20:06] <SiegeLord> Something like: let mut proc = Process("ls", [~"-a"], ProcessOptions::new()).unwrap(); proc.input().write_str("some input"); let result = proc.finish()
[16:20:34] <SiegeLord> Oh, there's even a finish_with_output
[16:20:59] <sigma> https://github.com/mozilla/rust/blob/master/src/libstd/run.rs there are tests at the bottom
[16:21:06] <SiegeLord> So just... Process("ls", [~"-a"], ProcessOptions::new()).unwrap().finish_with_output()
[16:21:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[16:22:01] <SiegeLord> *Process::new( naturally
[16:22:17] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[16:22:36] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[16:22:58] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[16:23:45] *** Joins: synackse (jordyd@moz-5BEAAC80.seg35.ucf.edu)
[16:23:47] <olem> SiegeLord: ok, thx, compile but - how can I grab back the output and return code of my Process::new run
[16:24:04] <olem> sigma: yap... /me is reading and trying to understand :)
[16:24:12] <SiegeLord> .finish_with_output() returns those things
[16:24:46] *** Quits: kellogh (timkellogg@moz-68DF7EF7.teliax.com) (Quit: kellogh)
[16:25:03] <olem> SiegeLord: std::run::Process::new("ls", [~"-alh"], std::run::ProcessOptions::new()).unwrap().finish_with_output();
[16:25:32] *** Joins: voxpopuli (fanservice@71D59995.6A843466.689607DE.IP)
[16:25:35] <olem> SiegeLord: will compile and execute fine - but return nothing (STDOUT)
[16:25:51] <SiegeLord> Well, you store the output of that method somewhere :P
[16:26:34] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:27:36] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[16:27:40] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:27:40] *** ChanServ sets mode: +ao dherman dherman
[16:27:49] <eibwen> http://static.rust-lang.org/doc/master/std/to_bytes/trait.IterBytes.html
[16:28:03] <SiegeLord> let out = ...; println!("{}", from_utf8(out.output).unwrap()) maybe
[16:28:08] <eibwen> really? everything up to 8-tuples is hashable :)
[16:28:09] *** Joins: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP)
[16:28:16] <TobiasFar> does rustc modify source files?
[16:28:32] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[16:28:41] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[16:28:49] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[16:29:56] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:29:59] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Connection reset by peer)
[16:31:13] *** Joins: mye (mye@moz-842C688.dip0.t-ipconnect.de)
[16:31:34] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[16:31:38] *** Joins: kellogh (timkellogg@moz-68DF7EF7.teliax.com)
[16:33:19] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[16:35:01] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:35:40] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Ping timeout)
[16:35:40] *** Quits: apoelstra (username@moz-7F122B36.public.utexas.edu) (Ping timeout)
[16:36:16] *** Joins: apoelstra (username@moz-AA0F76A1.ma.utexas.edu)
[16:36:27] *** Joins: akuda_ (akuda@moz-BED14D7A.neoplus.adsl.tpnet.pl)
[16:37:10] *** Quits: akuda_ (akuda@moz-BED14D7A.neoplus.adsl.tpnet.pl) (Quit: Wychodzi)
[16:37:21] *** Joins: akuda_ (akuda@moz-BED14D7A.neoplus.adsl.tpnet.pl)
[16:37:24] *** Quits: askalski (akuda@moz-B405945D.neoplus.adsl.tpnet.pl) (Ping timeout)
[16:37:25] *** Quits: akuda_ (akuda@moz-BED14D7A.neoplus.adsl.tpnet.pl) (Connection reset by peer)
[16:37:29] *** Joins: askalski (akuda@moz-BED14D7A.neoplus.adsl.tpnet.pl)
[16:37:30] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[16:38:04] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[16:38:24] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[16:38:32] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[16:40:00] *** Quits: bakkdoor (bakkdoor@moz-A5D5C5B9.dip.osnanet.de) (Quit: Leaving...)
[16:40:58] *** Joins: FreeFull (freefull@moz-1883929A.as13285.net)
[16:42:52] *** Joins: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za)
[16:43:05] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[16:44:00] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:44:23] *** Joins: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl)
[16:45:42] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:46:09] *** Joins: sellout (Adium@moz-1D225F38.hsd1.co.comcast.net)
[16:46:52] *** Quits: askalski (akuda@moz-BED14D7A.neoplus.adsl.tpnet.pl) (Quit: Wychodzi)
[16:48:21] <olem> SiegeLord, sigma: ok. get it. Mthx for your guidance.
[16:48:37] *** Quits: Kxepal (Miranda@moz-DC59528D.pppoe.mtu-net.ru) (Ping timeout)
[16:48:59] *** Joins: gwty (gwtypc@E7015355.880489FA.6BE1A500.IP)
[16:49:49] <kimundi> eibwen: Due to the lack of variadic generics, everything involving tuples is hardcoded to a fixed number of variants atm :P
[16:50:29] *** Quits: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP) (Input/output error)
[16:50:33] *** Joins: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP)
[16:50:33] *** ChanServ sets mode: +o jdm
[16:50:49] *** Quits: glaebhoerl (glaebhoerl@moz-3590251D.kabelnet.hu) (Ping timeout)
[16:51:14] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[16:52:08] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[16:52:29] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:52:47] *** Joins: Kxepal (Miranda@moz-74CACFA5.pppoe.mtu-net.ru)
[16:52:49] *** Quits: johnsoft (johnsoft@moz-FF270E79.neo.res.rr.com) (Ping timeout)
[16:53:19] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[16:53:24] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[16:54:32] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[16:56:39] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:56:42] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[16:57:34] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:00:16] *** Joins: iDolfHatler (idolf@moz-47812C15.static.bcbnet.dk)
[17:00:22] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:00:25] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[17:01:19] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[17:01:37] *** Quits: sokomo (sokomo@8293D4FC.93FF164A.408809BB.IP) (Quit: Read error: Connection reset by peer)
[17:01:44] *** Joins: patpatter (patpat@D84C331C.7FC6F41F.98F3E2B5.IP)
[17:01:47] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[17:01:54] *** Quits: alexherbo2 (alexherbo2@moz-33868228.w90-35.abo.wanadoo.fr) (Ping timeout)
[17:02:10] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[17:02:22] <TobiasFar> is there a way to cast `&[u8]` to a `*u8`?
[17:02:29] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:02:37] *** Quits: patpat (patpat@D84C331C.7FC6F41F.98F3E2B5.IP) (Ping timeout)
[17:03:25] <FreeFull> TobiasFar: I think so
[17:03:27] *** Quits: patpatter (patpat@D84C331C.7FC6F41F.98F3E2B5.IP) (Ping timeout)
[17:03:40] <FreeFull> Vectors have a header, so you'd need to take that into account
[17:04:16] <TobiasFar> i just want the start address of the data...the final data in the vector is in simple linear layout, right?
[17:04:25] *** Quits: olem (olem@moz-D8B40BE5.fbx.proxad.net) (Client exited)
[17:04:44] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:05:06] <FreeFull> I think you have to ask someone who knows the language a bit more, but it should be possible
[17:05:38] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[17:05:40] <TobiasFar> yup...that's why i asked in #rust and not #java :) but maybe someone else will chime in
[17:05:48] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:06:28] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:06:44] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[17:07:04] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:07:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:07:35] <Matthias247> TobiasFar: according to the docs vec.as_ptr() could help
[17:08:50] <TobiasFar> Matthias247: it indeed did help..thanks :)
[17:09:04] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:09:27] *** Quits: vmx (vmx@moz-F619E59F.dip0.t-ipconnect.de) (Quit: Leaving)
[17:09:50] <kimundi> FreeFull: slices don't have headers, they just are a tuple of (pointer, size)
[17:10:30] <FreeFull> No rusti
[17:10:35] <kimundi> as_ptr() simply gives you that pointer
[17:10:41] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[17:10:46] <FreeFull> kimundi: I see
[17:11:08] *** Quits: Blaze- (blaze@moz-9B9AB2F0.dhcp.inet.fi) (Ping timeout)
[17:11:10] <FreeFull> Maybe I was thinking of old vectors?
[17:11:15] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:11:29] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[17:11:40] <Matthias247> kimundi: but then you still have to know at which position the pointer and at which the size is when implementing it manually with a cast :)
[17:11:46] *** Quits: iDolfHatler (idolf@moz-47812C15.static.bcbnet.dk) (Ping timeout)
[17:11:51] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:12:44] <kimundi> Matthias247: well yeah, I'm not saying you should cast that manually :P
[17:12:53] <Matthias247> i agree :)
[17:13:12] <kimundi> ~[T] has/had a header of (capacity, len) for regular allocations, and afaik also a additional header if it contains manged content
[17:13:34] <kimundi> But the new Vec<T> is just a tuple (pointer, size, capacity)
[17:13:35] *** Quits: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP) (Quit: Lost terminal)
[17:13:39] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:13:43] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[17:14:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:15:11] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:15:42] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[17:15:55] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:16:44] *** Joins: Blaze- (blaze@moz-9B9AB2F0.dhcp.inet.fi)
[17:16:52] *** Joins: alexherbo2 (alexherbo2@moz-60C8C73B.w83-199.abo.wanadoo.fr)
[17:17:04] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[17:17:18] *** Joins: iDolfHatler (idolf@moz-47812C15.static.bcbnet.dk)
[17:17:53] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[17:18:36] *** Quits: nomadic (nomadic@A089E02C.E8277645.CDB55C47.IP) (Client exited)
[17:19:02] *** Quits: iDolfHatler (idolf@moz-47812C15.static.bcbnet.dk) (Ping timeout)
[17:20:25] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:20:57] *** Quits: vertexclique (vertexcliq@6F384F56.153E7D13.6894ADF4.IP) (Client exited)
[17:21:19] *** Joins: vertexclique (vertexcliq@6F384F56.153E7D13.6894ADF4.IP)
[17:24:13] *** Joins: olem (olem@moz-12B2E09D.rev.numericable.fr)
[17:24:47] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:25:15] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:25:18] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:25:30] *** Joins: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP)
[17:25:30] *** ChanServ sets mode: +o jdm
[17:26:00] *** Joins: eholk (eholk@moz-D5BFC05E.hsd1.in.comcast.net)
[17:26:54] *** Joins: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net)
[17:27:00] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[17:27:17] *** Quits: rdn (rdn@moz-3FCD2726.tk) (Ping timeout)
[17:28:00] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[17:28:07] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[17:28:41] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:30:19] *** Joins: rdn (rdn@moz-3FCD2726.tk)
[17:30:29] *** Joins: veddan (viktor@moz-C79BC80B.csbnet.se)
[17:30:44] *** Quits: synackse (jordyd@moz-5BEAAC80.seg35.ucf.edu) (Ping timeout)
[17:31:40] *** Joins: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu)
[17:32:33] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[17:34:00] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:34:16] *** Quits: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu) (Ping timeout)
[17:34:23] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[17:36:03] *** Joins: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[17:36:05] *** Quits: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Quit: glaebhoerl)
[17:36:37] *** Quits: ssira_ (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[17:36:58] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[17:38:43] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[17:40:11] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:41:51] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[17:42:05] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:43:48] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:44:22] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:44:30] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:46:08] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:46:27] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:46:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:48:07] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[17:48:42] *** Quits: eholk (eholk@moz-D5BFC05E.hsd1.in.comcast.net) (Quit: eholk)
[17:50:14] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[17:51:13] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[17:51:15] *** Joins: cyndis (cyndis@moz-C4357EA7.kapsi.fi)
[17:51:59] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[17:52:58] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:53:33] *** Quits: dave1629_ (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629_)
[17:54:02] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[17:54:48] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:54:49] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:54:49] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:55:16] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:56:09] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[17:56:49] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[17:59:49] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[18:00:11] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[18:01:04] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Quit: arturo)
[18:01:23] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[18:01:27] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Quit: Ex-Chat)
[18:01:51] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:01:53] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[18:01:59] *** Joins: astroch (astroch@moz-630FEC93.bootp.virginia.edu)
[18:02:39] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[18:03:31] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[18:04:09] *** Joins: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl)
[18:05:06] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[18:06:41] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:06:41] *** ChanServ sets mode: +ao brson brson
[18:07:13] *** Quits: snuderl (snuderl@moz-F3D82D32.static.triera.net) (Ping timeout)
[18:07:45] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:08:38] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[18:09:22] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[18:09:26] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[18:09:33] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[18:09:37] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[18:09:58] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[18:10:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[18:13:19] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Ping timeout)
[18:13:24] *** Joins: doomlord (doomlod@moz-9B2006BF.range109-151.btcentralplus.com)
[18:14:32] *** Quits: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP) (Ping timeout)
[18:16:02] *** Joins: amir (amir@moz-467F7F30.cust.bluewin.ch)
[18:17:04] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:17:04] <brson> cmr: lots of new contributors again last week :)
[18:17:07] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[18:20:45] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[18:20:59] *** Quits: barosl (barosl@34F62860.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[18:21:08] *** Quits: ziad (ziad@moz-8FBE4774.hsd1.ca.comcast.net) (Quit: ziad)
[18:21:42] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:21:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:22:15] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:23:13] *** Joins: Jemaclus (jemaclus@moz-5A4BC30.hsd1.ca.comcast.net)
[18:23:31] <cmr> brson: indeed!
[18:23:34] <cmr> it's awesome.
[18:23:45] <cmr> I'm glad the slump around 0.9 was temporary.
[18:24:02] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:24:22] *** Quits: etrepum (sid763@moz-5F4AA75A.irccloud.com) (Ping timeout)
[18:25:39] *** Joins: etrepum (sid763@moz-5F4AA75A.irccloud.com)
[18:25:51] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:25:51] *** jorendorff is now known as jorendorff_away
[18:26:05] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[18:26:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:26:47] <Jemaclus> I kinda wanna go to the Rust SF meetup, but I'm afraid the topics are so far over my head I don't even know what they mean.
[18:27:06] *** Quits: gwty (gwtypc@E7015355.880489FA.6BE1A500.IP) (Ping timeout)
[18:27:10] <Jemaclus> ok, that's hyperbole... but i struggled to do LZW compression :P
[18:27:16] <Ms2ger> Then go for the stickers :)
[18:27:17] <sfackler> come anyways and ask questions!
[18:27:36] <Jemaclus> ooh, stickers.
[18:27:50] <cmr> indeed
[18:28:01] <mcpherrin> jemaclus: come for the snacks!
[18:28:43] <cmr> Jemaclus: you should never shy away from surrounding yourself by things you don't understand. You might pick something up :)
[18:28:45] <Jemaclus> ooh snacks
[18:28:56] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[18:29:06] *** Quits: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl) (Quit: Bye)
[18:29:13] <Jemaclus> cmr: well, that's why I'm here, after all...
[18:30:17] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[18:30:28] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:31:40] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:31:51] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:34:51] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[18:34:56] *** Joins: sigma1 (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[18:35:40] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[18:36:36] *** Quits: sigma1 (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[18:37:15] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[18:37:41] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:37:55] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[18:39:19] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[18:39:19] *** Joins: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net)
[18:39:19] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:39:27] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[18:41:58] *** Quits: astroch (astroch@moz-630FEC93.bootp.virginia.edu) (Ping timeout)
[18:45:12] *** Quits: sellout (Adium@moz-1D225F38.hsd1.co.comcast.net) (Ping timeout)
[18:46:33] *** Joins: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[18:47:14] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[18:48:59] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[18:49:44] *** jorendorff_away is now known as jorendorff
[18:50:22] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[18:50:52] *** Joins: astroch (astroch@moz-630FEC93.bootp.virginia.edu)
[18:51:23] *** Quits: olem (olem@moz-12B2E09D.rev.numericable.fr) (Client exited)
[18:51:33] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[18:52:43] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[18:52:53] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:53:53] *** Joins: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP)
[18:54:11] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:54:51] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[18:55:34] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:56:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:56:39] <Hildar> Is there a good set of ./configure options if I'm going to play around with libstd? Rebuilding it 3 times on a laptop for eery change is pretty infuriating.
[18:56:45] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[18:57:11] <chromatic> Hildar, I've been using `make rustc-stage1`, but that might not be ideal.
[18:57:46] <Hildar> chromatic : Assuming that will give me a compile-pass/fail, that should be a good help thanks.
[18:57:59] <chromatic> All I cared about was whether it compiled at all, and it did the trick.
[18:58:09] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[18:58:12] <cmr> Hildar: there should be a check-stage1-rustc
[18:58:26] <cmr> Hildar: but you can do check-stage1-std NO_REBUILD=1 for libstd-only changes...
[18:59:19] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Quit: Leaving...)
[18:59:20] *** Quits: xitology_ (xi@85437D54.5AFA3E4.CEDFC552.IP) (Quit: Ex-Chat)
[18:59:32] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[18:59:33] *** Joins: dave1629_ (dave@moz-17578A1A.hsd1.va.comcast.net)
[19:00:56] *** Joins: mgottschlag (quassel@moz-9B59B9E0.cust.bluewin.ch)
[19:01:55] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[19:02:13] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[19:03:32] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:04:28] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:05:01] *** Joins: edwardw (Mibbit@96E7298D.3E260003.B9C6B12A.IP)
[19:05:37] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[19:06:19] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[19:06:37] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:06:38] <edwardw> Can someone take a look at https://github.com/mozilla/rust/pull/11956?
[19:06:41] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:07:12] <edwardw> Numerous rebases become a little bit painful now
[19:07:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:08:10] *** Joins: snuderl (snuderl@moz-F3D82D32.static.triera.net)
[19:08:23] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[19:08:54] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[19:09:01] <eddyb> edwardw: I would ask in #rust-internals
[19:09:02] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:09:16] <edwardw> thanks, eddyb
[19:09:35] <edwardw> will do
[19:10:46] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[19:12:48] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:13:01] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:15:15] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:15:31] *** Joins: olem (olem@moz-12B2E09D.rev.numericable.fr)
[19:15:59] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:17:38] *** Joins: mreca (mreca@CB43F5EC.532B32C5.B7830B68.IP)
[19:17:47] *** Quits: oberstet (quassel@moz-141F3D8A.dynamic.mnet-online.de) (Connection reset by peer)
[19:22:45] *** Joins: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr)
[19:24:40] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[19:24:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:24:55] <eibwen> why does rust advertise itself as not having 'null pointer issues'?
[19:25:23] <eibwen> the only thing it does is to enforce the rule that functions have to explicitely state when they're returning/taking null pointers
[19:25:36] <eibwen> but a common pattern still is (...).unwrap()
[19:25:54] <eibwen> which is basically the same as *(...), where (...) could be a NULL pointer
[19:26:05] <benh> it's closer to assert(x != null);
[19:26:06] <jasom> eibwen: you shouldn't use .unwrap()
[19:26:06] <Hildar> unwrap() at least causes a fail!(), not undefined nasal demons.
[19:26:08] *** Joins: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch)
[19:26:09] <sfackler> except you don't run into undefined behavior
[19:26:25] <sfackler> also .unwrap() is usually a bad idea
[19:26:27] <SiegeLord> It's common, but it's not required to use unwrap()
[19:26:41] <eibwen> *NULL is guaranteed to give me a segfault on linux, using gcc or clang
[19:26:46] <jasom> eibwen: not true
[19:26:47] <eibwen> that'd be defined enough for me
[19:26:57] <sfackler> that is not the case
[19:27:03] <eibwen> counter-example?
[19:27:08] <sfackler> the compiler is free to assume any dereferenced pointer is not null
[19:27:09] *** Quits: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[19:27:22] <sfackler> e.g. the compiler can completely remove the if block here:
[19:27:37] <benh> NULL->whatever with a large enough offsetof(T, whatever) ?
[19:27:40] <sfackler> let f = foo[0]; if (foo == NULL) { do something }
[19:27:48] <SiegeLord> MyStruct* foo = NULL; foo->field = 1; <- if that field is at a large enough offset, you're liable to do weird overriting
[19:27:58] <SiegeLord> *overwriting
[19:28:06] <eibwen> ok, good point
[19:28:18] <eibwen> are there that large structs in actual software?
[19:28:24] <eibwen> i.e. is it feasible to hit mapped regions?
[19:28:31] <jasom> eibwen: well foo[4096]
[19:28:35] <benh> And yeah the more likely problem is probably inadvertent null derefs like sfackler is mentioning
[19:28:40] <sfackler> in kernel land or an embedded system, sure
[19:28:41] <Hildar> Rust requires you to manually say "unwrap() and possibly shoot myself in the foot, I know what I am doing" as opposed to having to explicitly not crash and burn.
[19:28:42] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[19:28:47] <Jemaclus> why shouldn't you use unwrap? (serious question) And what should you do instead? pattern matching?
[19:29:08] <jasom> Jemaclus: use pattern matching; why are you passing around an Option if you know it's not None?
[19:29:11] *** Quits: jamil_1 (kvirc@FA6FF997.8DAD7B70.B412A6C5.IP) (Ping timeout)
[19:29:27] <SiegeLord> Jemaclus: Well, you handle the error :P
[19:29:28] <benh> I remember reading about null pointer deref based exploits before but it's not like I'm actually good at that sort of thing
[19:29:45] <SiegeLord> If your idea of handlnig the error is to stop the task (possible program) then unwrap is great
[19:29:47] *** Joins: jamil_1 (kvirc@FA6FF997.8DAD7B70.B412A6C5.IP)
[19:29:50] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:30:03] <Hildar> jasom: I find unwrap() useful when there is no other path but fail!()ing.
[19:30:22] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[19:30:29] <eibwen> the point was that I find that the formulation of 'rust makes null pointers explicit' would fit better than 'rust prevents null-pointer issues'
[19:30:34] <Jemaclus> hmm. okay then.
[19:30:39] <sfackler> SiegeLord: you do end up with an exceptionally unhelpful message though
[19:30:51] <sfackler> I like doing a match with unreachable!() personally
[19:31:01] <Jemaclus> good to know.
[19:31:17] <benh> eibwen: I think a null pointer deref is a different class of error than an error being thrown in user code :/
[19:31:18] <SiegeLord> unreachable!() has a different semantic value... and yes, in practice I prefer expect()
[19:31:18] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:31:50] <benh> That's just a "enum has the wrong value! something is wrong!" situation that can happen in all sorts of safe, high-level languages
[19:31:52] <jasom> Hildar: why do you want to fail!()?
[19:32:03] <eibwen> benh: task unwinding is pretty fatal in most programs
[19:32:30] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:32:33] <jasom> eibwen: overwritting memory is worse, and NULL dereferences can and do overwrite memory
[19:33:18] <eibwen> jasom: I see the point that it's theoretically possible, but do you have an example of it really happening?
[19:33:20] *** Quits: olem (olem@moz-12B2E09D.rev.numericable.fr) (Client exited)
[19:33:37] <jasom> eibwen: many examples in the linux kernel (but you specifically mention gcc in userspace)
[19:33:52] <Hildar> jasom: In my current project, I unwrap(twice) when I construct a listen socket. If I can't open a socket... well there's not much else my program can do but fail or just retry indefinitely, and it's probably an error on the OS level.
[19:34:16] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[19:34:25] <SiegeLord> Well, if you receive a pointer as an argument, you've no idea if it's NULL or not, so you in principle should do a check... while if you receive a borrowed pointer, you know for sure it's valid
[19:34:39] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[19:34:48] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:34:53] <jasom> Hildar: don't you want an error message or something though?
[19:34:56] <SiegeLord> I think it's an anti-pattern to propagate Options everywhere (although it does lead to cleanish code)
[19:35:01] <eibwen> Hildar: in that case a expect would be better
[19:35:01] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:35:29] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Ping timeout)
[19:36:29] <eibwen> Hildar: http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/option.rs.html#127-132
[19:37:52] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[19:38:12] <Hildar> eibwen: Well that is certainly a lot more verbose, but Today I Learned...
[19:38:41] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:39:14] <eibwen> Hildar: otherwise the user won't know that it was a socket that failed the program, he'll just see 'failed to unwrap a option containing none'
[19:39:17] <SiegeLord> Make a trait and implement it for Option :P
[19:39:17] <jasom> eibwen: I don't know if this is possible on linux+glibc, but there are several XP vulns that tricked applications into mapping a page at address 0, then did a NULL pointer exploit
[19:39:34] <SiegeLord> And then do .os_error()
[19:39:47] <eibwen> linux lets you map a page at 0?
[19:40:05] <jasom> eibwen: I said I don't know if it does; it seems possible with mmap
[19:40:37] <Hildar> eibwen: Ohh, it's not an option anymore, it's a Result, so expect doesn't work. (I didn't know unwrap even worked on results! That should have blown up in my face.)
[19:40:57] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[19:41:07] <jasom> eibwen: here is using a NULL dereference of an intentionally large struct to escape a Go sandbox: http://ppp.cylab.cmu.edu/wordpress/?p=1087
[19:41:15] *** Quits: vertexclique (vertexcliq@6F384F56.153E7D13.6894ADF4.IP) (Client exited)
[19:41:20] *** Joins: vertexclique (vertexcliq@6F384F56.153E7D13.6894ADF4.IP)
[19:41:42] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[19:42:11] *** Quits: astroch (astroch@moz-630FEC93.bootp.virginia.edu) (Ping timeout)
[19:42:22] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:42:30] *** Joins: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net)
[19:42:38] <eibwen> mh.
[19:42:57] <Hildar> eibwen: .ok().expect("Verbose Error Message.") does what I want I think? (.unwrap() but with a useful error)
[19:43:07] <chromatic> Here's an LWN article from five years ago about a Linux kernel exploit, I believe from mapping 0: https://lwn.net/Articles/341773/
[19:43:23] <eibwen> also just stumbled upon ok()
[19:43:28] <eibwen> Hildar: I guess that would be most useful
[19:43:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:43:34] <sfackler> Hildar: it does, but for a Result, the Err value probably contains useful info that you'd want to give to the user
[19:43:35] <jasom> eibwen: google tells me 2.6.23 added the ability to disallow mapping page 0 (But not necessarilly enabled by default, I think)
[19:43:56] <eibwen> but then again one could ask why Result doesn't have expect()
[19:44:22] *** Joins: astroch (astroch@moz-630FEC93.bootp.virginia.edu)
[19:46:05] <Hildar> eibwen: Hmm, would result.expect() ask for a custom string or use the information in err?
[19:46:09] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[19:46:47] <eibwen> Hildar: either print the error or let expect take a closure that gets the error as parameter
[19:46:49] <eibwen> I think
[19:47:04] *** Joins: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[19:48:00] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[19:49:07] *** Joins: Vermeille (Mibbit@945FCD68.940A4703.BA2F4534.IP)
[19:49:37] <Vermeille> hi
[19:49:40] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[19:50:05] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[19:50:33] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[19:51:57] <Vermeille> http://pastebin.com/ZfHU9vWP Rust 0.9, the compiler segfaults at line 40
[19:52:46] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:53:23] <Vermeille> task 'rustc' failed at 'index out of bounds: the len is 1 but the index is 1', /root/rust-0.9/src/librustc/middle/ty.rs:1438
[19:53:28] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[19:53:44] <apoelstra> Vermeille: does not at commit 5acc998e, maybe something has changed
[19:54:12] <apoelstra> i have a bug along these lines that was fixed, one sec
[19:54:26] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[19:54:59] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[19:55:33] <apoelstra> https://github.com/mozilla/rust/issues/10955
[19:55:37] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[19:55:52] <apoelstra> hmm, that was fixed in 0.9 i think
[19:56:40] <Vermeille> okay perfect, I'll use the master version
[19:57:29] *** Joins: reima (Instantbir@moz-84076E1A.dip0.t-ipconnect.de)
[19:58:16] <apoelstra> the file I/O has changed to use IoResult, you will have some work to do to use master
[19:59:06] <Vermeille> okay np
[19:59:07] <Hildar> Anyone know why option.expect<T>() requires T to implement Any (in addition to Send)?
[19:59:31] <Vermeille> I'm just learning rust for pleasure, so I think it's a better idea to learn the very last version :)
[19:59:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:59:50] <apoelstra> Vermeille: excellent :) i think you will find the new interface more pleasurable
[19:59:57] <apoelstra> conditions were really awkward
[20:00:07] <sfackler> Hildar: fail!() takes a thing implementing Any
[20:00:40] <eibwen> what things implement Any?
[20:01:04] <sfackler> anything with a static lifetime looks like
[20:01:05] <sfackler> http://static.rust-lang.org/doc/master/std/any/trait.Any.html
[20:01:11] *** Joins: tlockney (tlockney@moz-BA28C975.lockney.net)
[20:01:49] *** tlockney is now known as zz_tlockney
[20:01:58] *** Quits: astroch (astroch@moz-630FEC93.bootp.virginia.edu) (Ping timeout)
[20:02:48] *** Joins: tdc (santegoeds@moz-5EFFF6C2.range86-135.btcentralplus.com)
[20:03:05] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[20:03:45] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[20:04:35] <Hildar> Can I make a default (member) function parameter question in rust?
[20:04:51] <Hildar> Why did I put the word question in there? wtf
[20:05:10] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[20:05:26] <zxcdw> Maybe you rephrashed your question and the word was left from your earlier phrasing?
[20:05:39] <SiegeLord> No, there are many hacks to emulate the functionality
[20:06:57] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[20:07:09] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[20:07:32] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[20:08:11] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[20:08:50] <Hildar> SiegeLord: Hmm, I guess the obvious one is Option. If passed a None then do the default. But that's ugly as sin.
[20:09:27] <benh> If I hit those runtime errors with the lovecraft quotes, is that a bug in the runtime or just bad user code?
[20:09:35] <benh> On a stack overflow, here.
[20:10:09] <SiegeLord> I use arrays of variants for default arguments in my plotting library... it's not the fastest method, but I think it's the prettiest today
[20:10:24] <SiegeLord> The standard library uses structs with the functional record update
[20:10:39] <SiegeLord> That's more for multiple default arguments... a bit overkill for just one
[20:11:05] *** Quits: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[20:11:44] *** jorendorff is now known as jorendorff_away
[20:12:04] *** flaper87 is now known as flaper87|afk
[20:12:05] *** Joins: olem (olem@moz-12B2E09D.rev.numericable.fr)
[20:12:20] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Quit: c-a)
[20:13:53] *** Quits: doomlord (doomlod@moz-9B2006BF.range109-151.btcentralplus.com) (Client exited)
[20:13:58] *** jorendorff_away is now known as jorendorff
[20:13:59] <Hildar> SiegeLord : Actually, a default option doesn't make sense here. No guarantee in Err(E) that E is  Any + Send...
[20:14:38] <SiegeLord> You can give that bound to the implementation of that trait
[20:15:51] *** Quits: mye (mye@moz-842C688.dip0.t-ipconnect.de) (Quit: mye)
[20:16:26] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:16:31] <Hildar> SiegeLord: I'd rather not rewrite libstd's Result entirely :P.
[20:16:42] *** Quits: mreca (mreca@CB43F5EC.532B32C5.B7830B68.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:16:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:16:51] *** flaper87|afk is now known as flaper87
[20:17:48] <SiegeLord> You can do impl<T, E:Any + Send> Result<T, E> { fn your method }
[20:18:12] <SiegeLord> Assuming that's inside libstd, otherwise you need a new trait
[20:18:34] *** Joins: mye (mye@moz-842C688.dip0.t-ipconnect.de)
[20:19:03] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[20:19:40] *** Quits: olem (olem@moz-12B2E09D.rev.numericable.fr) (Client exited)
[20:20:01] *** Joins: olem (olem@moz-12B2E09D.rev.numericable.fr)
[20:20:44] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[20:21:28] *** Quits: zz_tlockney (tlockney@moz-BA28C975.lockney.net) (Quit: I may return, one day...)
[20:21:41] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:21:47] *** Quits: olem (olem@moz-12B2E09D.rev.numericable.fr) (Ping timeout)
[20:22:32] <Hildar> SiegeLord : I'll have a think, since the general case doesn't need that trait bound.
[20:23:32] *** Joins: klzzvn (Mibbit@moz-A41860FE.xnet.hr)
[20:23:45] *** Joins: zz_tlockney (tlockney@moz-BA28C975.lockney.net)
[20:24:00] *** Quits: jackneill (jackneill@moz-A828C72E.pool.digikabel.hu) (Ping timeout)
[20:24:20] *** jorendorff is now known as jorendorff_away
[20:24:26] *** Quits: zz_tlockney (tlockney@moz-BA28C975.lockney.net) (Quit: I may return, one day...)
[20:24:32] *** Joins: pepper_chico (pepper_chi@moz-3005614F.dsl.telesp.net.br)
[20:24:40] *** Quits: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net) (Ping timeout)
[20:25:00] *** Joins: zz_tlockney (tlockney@moz-BA28C975.lockney.net)
[20:25:53] <klzzvn> is there a way (or maybe a data structure in the std lib) to delete an arbitraty element of a vector?
[20:26:06] *** Quits: zz_tlockney (tlockney@moz-BA28C975.lockney.net) (Quit: I may return, one day...)
[20:26:19] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[20:26:41] <SiegeLord> remove(index) should do it
[20:27:07] <SiegeLord> Or maybe swap_remove if you want to be fast and sloppy
[20:27:39] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:28:26] <zmike> if I have a fn as a struct member, how can I check whether it's null? (writing C interfacing stuff)
[20:28:52] <eddyb> zmike: .is_null() might work
[20:28:54] <SiegeLord> I think the recommended way is to wrap it in an Option
[20:29:00] *** Quits: klzzvn (Mibbit@moz-A41860FE.xnet.hr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:29:02] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:29:23] <eddyb> oh yeah, fn is non-nullable, so Option<fn> would be sensible
[20:30:11] <zmike> hm
[20:30:29] *** Joins: klzzvn (Mibbit@moz-A41860FE.xnet.hr)
[20:31:26] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:31:26] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:31:30] *** Joins: olem (olem@moz-12B2E09D.rev.numericable.fr)
[20:31:37] <klzzvn> SiegeLord: thanks, it works... but I couldn't find it anywhere in the docs, weird
[20:31:41] <eibwen> zmike: if you get a NULL-ptr from your C function, Option<fn> will magically be None
[20:32:06] *** Joins: fabrice1 (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[20:32:07] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Quit: Leaving.)
[20:32:12] <SiegeLord> klzzvn: You want the OwnedVector trait for these sorts of mutatey things
[20:32:38] <klzzvn> SiegeLord: yup! just found it... it didn't click immediately that ~[] is OwnedVector
[20:33:29] *** Quits: edwardw (Mibbit@96E7298D.3E260003.B9C6B12A.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:34:30] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[20:37:03] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131206145143])
[20:37:07] *** Quits: pepper_chico (pepper_chi@moz-3005614F.dsl.telesp.net.br) (Quit: WeeChat 0.4.1)
[20:37:49] *** Joins: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch)
[20:38:32] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[20:39:48] *** Joins: mrengstad (Mibbit@moz-58D696C9.com)
[20:40:03] <Vermeille> how do you "convert" a char to an u8?
[20:40:32] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[20:40:34] <Vermeille> I want to be able to do `my_super_utf8_str[0] == '.'`
[20:41:01] <Zr40> what do you want to happen if you get a codepoint > 255?
[20:41:12] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:41:21] <SiegeLord> Usually you try things like from_{type_name}
[20:41:35] <SiegeLord> In this case, from_u8, although it won't work for this use
[20:41:35] <olem> Vermeille: http://static.rust-lang.org/doc/0.9/std/str/fn.from_char.html ?
[20:41:51] <SiegeLord> Err, from_char of course
[20:42:41] *** Quits: marianoguerra (marianogue@moz-867E5722.dip0.t-ipconnect.de) (Quit: leaving)
[20:43:09] <Vermeille> wait wat?
[20:43:24] *** Quits: kellogh (timkellogg@moz-68DF7EF7.teliax.com) (Quit: kellogh)
[20:43:25] <Vermeille> from_char builds a string from a char
[20:43:38] <Vermeille> I want to be able to compare a char and an u8
[20:44:19] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[20:44:37] <cmr> Vermeille: is std::ascii what you're looking for?
[20:44:57] <cmr> char is wider than a u8
[20:45:32] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:45:35] *** Quits: klzzvn (Mibbit@moz-A41860FE.xnet.hr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:45:49] *** Joins: kellogh (timkellogg@moz-68DF7EF7.teliax.com)
[20:45:57] *** Joins: marianoguerra (marianogue@moz-867E5722.dip0.t-ipconnect.de)
[20:46:29] *** Joins: twi (Adium@12F54D98.E305CB4D.54B829D6.IP)
[20:47:05] *** Joins: rca_ (rcatolino@moz-D8DCC6B5.adsl.proxad.net)
[20:47:40] *** Quits: rca (rcatolino@moz-85E59476.adsl.proxad.net) (Ping timeout)
[20:47:59] *** Joins: claudiu_ (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[20:48:09] <Vermeille> Hum. I wrote `my_utf8_str[0] == "."[0]`, but definitely, I don't like it
[20:48:12] *** Quits: twi (Adium@12F54D98.E305CB4D.54B829D6.IP) (Ping timeout)
[20:48:17] <Hildar> If I add a function to libstd, how do I add tests for them?
[20:48:19] <reima> Vermeille: You can do `my_super_utf8_str.starts_with(".")`
[20:48:24] <Vermeille> True.
[20:48:35] <Vermeille> What if I wanted to compare the nth char?
[20:48:43] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:48:45] *** Quits: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[20:48:45] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[20:48:57] <reima> my_super_utf8_str.char_at(n) == '.'
[20:49:13] <Jemaclus> I haven't quite figured out how std::ascii works. I checked the source and everything looks private, and the docs don't have any good examples.
[20:49:18] <reima> Well... not quite
[20:49:21] *** Joins: iDolfHatler (idolf@moz-47812C15.static.bcbnet.dk)
[20:49:35] <reima> This would be the char starting at the nth byte
[20:49:44] *** Quits: claudiu_ (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[20:50:23] <reima> Maybe `my_super_utf8_str.chars().nth(n).unwrap() == '.'`?
[20:50:34] <Vermeille> reima: Nope, `my_super_utf8_str.starts_with(".")` complains that "." is not an ~[u8]
[20:50:35] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[20:50:51] *** Quits: mye (mye@moz-842C688.dip0.t-ipconnect.de) (Quit: mye)
[20:50:57] <reima> Wait, what is the type of my_super_utf8_str?
[20:51:02] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[20:51:03] *** Quits: fabrice1 (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Quit: Leaving.)
[20:51:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[20:51:13] *** Quits: apoelstra (username@moz-AA0F76A1.ma.utexas.edu) (Quit: heading home)
[20:51:26] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:51:54] <Vermeille> reima: look like its a ~[u8]...
[20:52:15] <Vermeille> I never really get that encoding stuff.
[20:52:21] <Vermeille> got*
[20:52:23] *** Quits: olem (olem@moz-12B2E09D.rev.numericable.fr) (Quit: Leaving...)
[20:52:47] <engla> you should decode the bytes into a str
[20:52:59] <cmr> Jemaclus: Ascii is just a wrapper around u8
[20:53:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:53:14] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[20:53:14] <Zr40> let my_super_str = std::str::from_utf8(my_super_utf8_str);
[20:53:16] <cmr> Jemaclus: everything is public except the field, I'm confused...
[20:53:27] <Jemaclus> i dunno, maybe i misread it. it was a few weeks ago.. 
[20:53:51] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[20:54:13] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[20:55:10] *** Quits: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[20:56:13] *** Joins: ecr (chatzilla@moz-75C94A03.dhcp4.washington.edu)
[20:56:21] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[20:56:45] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:58:00] *** Joins: echristo (echristo@1FEBE60D.D6CCE4AE.77834EAA.IP)
[20:58:19] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[20:58:31] *** Joins: edwardw (Mibbit@F6D3ED62.E91AB7CD.1D660E71.IP)
[20:59:36] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:59:39] <Vermeille> If ended with `if str::from_utf8_lossy(f).as_slice().starts_with(".") {`
[20:59:46] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:59:51] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:00:10] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:01:00] <Vermeille> I finally ended with*
[21:01:05] <Zr40> Vermeille: you got invalid characters? Perhaps my_super_utf8_str was encoded differently than utf-8...
[21:02:02] <Vermeille> Zr40: okay, I'm certainly wrong, but it enforces another Option check, and I tried to avoid it.
[21:02:11] <Vermeille> I shouldn't.
[21:02:26] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:02:26] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:03:27] *** Quits: edwardw (Mibbit@F6D3ED62.E91AB7CD.1D660E71.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:03:51] <Zr40> hm, I can't find from_utf8_lossy in the docs
[21:04:00] <reima> http://static.rust-lang.org/doc/master/std/str/fn.from_utf8_lossy.html
[21:05:07] <Zr40> reima: ah, apparently I was looking at the 0.9 docs
[21:05:11] *** Joins: edwardw (Mibbit@F6D3ED62.E91AB7CD.1D660E71.IP)
[21:05:14] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:06:05] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[21:06:37] *** pmoore|away is now known as pmoore
[21:08:00] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[21:08:21] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[21:08:44] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[21:09:13] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:09:36] *** Joins: steveno (steveno@moz-2B2BE86F.hsd1.pa.comcast.net)
[21:10:26] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[21:11:57] <Vermeille> Can you declare a var without initializing it?
[21:12:15] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:12:29] <sfackler> yeah
[21:12:31] <sfackler> let foo;
[21:12:35] <Hildar> Vermeille: Yes, just plain old "let varname;"
[21:12:43] <Vermeille> really :D ? What about typing :D ?
[21:13:18] <sfackler> let foo: Blah; if you need to, but it can usually be inferred
[21:13:48] <Zr40> hey sfackler
[21:13:48] <Vermeille> omg, I never thought that the compiler would be able to infer from LATER statements
[21:14:12] <sfackler> Zr40: sup
[21:14:16] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:14:20] <Zr40> any idea what could cause that segfault I've been hitting with rust-phf/rust-postgres?
[21:14:41] <ecr> Vermeille: unification's pretty awesome
[21:15:02] <sfackler> I have no idea honestly. It seems like an issue with rustc itself, but it's weird that I can't repro on OSX myself
[21:15:08] <reima> Vermeille: If that impresses you, you should try Haskell ;)
[21:15:10] <sfackler> and the OSX build nodes don't ahve the same issue
[21:15:41] <sfackler> I'd file an issue on mozilla/rust with as many details as possible
[21:16:03] <Vermeille> reima: I love Haskell. Really. But it's way more too powerful for my brain :( I tried for weeks reading whatever I can to learn it, and I still don't understand it.
[21:16:15] <sfackler> if you're feeling motivated, try running "make check-stage2-rpass TESTNAME=macro-crate" on the rust source to see if it dies there too
[21:16:24] *** Quits: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP) (Quit: Lost terminal)
[21:16:35] <sfackler> do you have anything weird going on with the way you're building rust?
[21:16:37] <Vermeille> I'm just good to write mindfucking C++ metaprogramming :(
[21:16:39] <ecr> Vermeille: as there anything in particular you were having trouble with or just the whole thing?
[21:16:52] <reima> Vermeille: Have you tried "Learn You a Haskell for Great Good!"?
[21:17:28] <Vermeille> ecr: Just to make the stereotype stronger: Monads, and when type traits starts to get tricky
[21:17:39] <Vermeille> reima: yup
[21:17:58] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[21:18:05] <Zr40> sfackler: I've done some more digging. The segfault is unrelated to unresolved macro names. On my system, it happens if and only if #[phase(syntax)] extern mod phf_mac; is present
[21:18:07] <reima> Vermeille: "Real World Haskell" is also good, but you probably know that, too
[21:18:27] <Vermeille> I mean, as long as type traits can be seen as brainless abstract classes, no pb. But when you start to parametrize them and make them interact... *brain bursts*
[21:18:30] <Zr40> sfackler: not to my knowledge. I've built rust with `brew install --HEAD rust`
[21:18:38] <Vermeille> reima: Yep, I liked this one
[21:19:08] <ecr> Vermeille: yeah it can get a little hairy. 
[21:19:27] <sfackler> Zr40: I'll try that build on my machine. the brew recipe may be doing something weird
[21:20:08] *** Joins: mreca (mreca@moz-B8FBAA93.bootp.virginia.edu)
[21:20:45] <Vermeille> How much is Rust's inference better than C++ auto inference?
[21:21:14] <dschatzberg> 5 better
[21:21:33] <cmr> Vermeille: auto "inference" is no different than the "inference" that happens when you say foo(some_function())
[21:23:19] <cmr> Vermeille: Rust actually does full HM type inference... http://en.wikipedia.org/wiki/Hindley%E2%80%93Milner_type_system for the nitty-gritties.
[21:23:39] <cmr> But the idea is you can say `let foo;` and then the type checker will figure out what types it can use for that variable by its usages.
[21:23:40] <Vermeille> hum, C++'s auto is not able to infer from later statement, you cannot declare an "auto" variable without initializing it
[21:23:47] <cmr> yes, exactly.
[21:23:51] <cmr> it's not type inference at all.
[21:23:54] *** Quits: michaelgreene (michael@DA820AA2.17CD9887.F12515B4.IP) (Client exited)
[21:24:06] <Vermeille> Oh okay, so that's the same type system as OCaml's
[21:24:40] <ecr> nah, HM type inference on C++ is like hyper-undecidable
[21:25:10] <cmr> hyper-undecidable! a whole new level of decidability!
[21:25:23] * cmr pushes the lever to plaid
[21:25:55] <ecr> cmr: oh man, have you not heard about super Turing machines? (seriously)
[21:26:04] <cmr> no.
[21:26:05] * cmr looks
[21:26:06] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Quit: c-a)
[21:26:08] *** Joins: ofeldt (ofeldt@moz-7F8A0151.dip0.t-ipconnect.de)
[21:26:17] <cmr> I'm still very very early in my study of CS
[21:26:26] <ecr> cmr: http://www.scottaaronson.com/writings/bignumbers.html
[21:26:28] *** Quits: marianoguerra (marianogue@moz-867E5722.dip0.t-ipconnect.de) (Ping timeout)
[21:26:30] <ecr> that discusses it
[21:26:34] <ecr> short version:
[21:27:00] *** Quits: ofeldt- (ofeldt@moz-C1F1ACD7.dip0.t-ipconnect.de) (Ping timeout)
[21:27:08] <ecr> if you suppose you have an oracle for the halting problem, then a turing machine equipped with that oracle can decide problems undecidable for normal turing machines
[21:27:09] <ecr> BUT
[21:27:11] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[21:27:19] <ecr> that turing machine has its own class of undecidable problems
[21:27:31] <Ms2ger> Super Turing machines?
[21:27:48] <ecr> and then you can talk about a turning machine equipped with an oracle for the super-turing-machine halting problem and make a super-super-turing-machine
[21:27:59] <ecr> which has super-super-undecidable problems...
[21:28:02] <ecr> and so on
[21:28:03] <SiegeLord> Or super turing machine 2
[21:28:22] <chromatic> The set of all sets of all sets which do or do not contain their own members.
[21:28:23] <SiegeLord> The next step takes about a minute
[21:28:35] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:28:38] <ecr> another way to think about it
[21:28:39] *** Quits: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[21:28:57] <ecr> is that a while a regular turing machine can only do a finite amount of work in a finite time
[21:29:11] <ecr> a super turing machine can do a countably infinite amount of work in a finite time
[21:29:24] <Jemaclus> dschatzberg: lol
[21:29:30] <ecr> and a super super turing machine can do the smallest uncountably infinite amount of work in a finite time
[21:29:32] <ecr> and so on
[21:29:46] <ecr> it's turing machines all the way up
[21:29:51] <ecr> and also down
[21:29:57] <ecr> sideways too
[21:30:19] <cmr> jeez.
[21:30:28] <mark_edward> what about turing machines with 4-dimensional memory belts?
[21:30:38] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:30:46] <Ms2ger> Those are plain tms
[21:30:48] <cmr> mark_edward: that sounds boring
[21:30:58] *** Quits: tdc (santegoeds@moz-5EFFF6C2.range86-135.btcentralplus.com) (Quit: Leaving)
[21:31:00] *** Quits: mreca (mreca@moz-B8FBAA93.bootp.virginia.edu) (Quit: Textual IRC Client: www.textualapp.com)
[21:31:01] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[21:31:27] <Vermeille> Can someone tell me more about internship at Mozilla? I'm looking for an internship in 2015
[21:31:28] <mark_edward> cmr, yes, multidimensionally boring.
[21:31:28] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:31:38] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[21:31:46] <mcpherrin> Vermeille: Interning on Rust I guess?
[21:31:51] * mcpherrin interned on Firefox
[21:32:01] <ecr> Vermeille: I interned last year. What do you want to know?
[21:32:25] * ecr panics because the mozilla website changed
[21:32:47] <mcpherrin> CHANGE IS SCARY AND I DON'T WANT TO DEAL WITH IT
[21:33:04] <Vermeille> mcpherrin: absolutely
[21:33:42] *** Quits: `cbp (user@C3232618.1AFAEAEA.7C05EB22.IP) (Ping timeout)
[21:34:01] <ecr> Vermeille: have you applied? https://careers.mozilla.org/en-US/position/oZO7XfwB
[21:34:35] <Vermeille> ecr: how long is the internship, what did you work on, did they accept european guy, what are the facilities (do they provide a flat and the flight), etc etc
[21:35:43] <Vermeille> ecr: nope, the internship I'm looking for starts in feb 2015
[21:35:54] <ecr> Vermeille: 10 weeks, I wrote the I/O part of the new self-hosted runtime, yes, and yes
[21:35:59] <ecr> Vermeille: ah ok
[21:36:24] <ecr> I think everything still holds then
[21:36:29] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Ping timeout)
[21:36:37] <Vermeille> ok I will
[21:36:43] <Vermeille> thx :)
[21:37:05] <ecr> yep. You might want to try to talk to one of the Rust team too.
[21:37:13] *** Quits: jamil_1 (kvirc@FA6FF997.8DAD7B70.B412A6C5.IP) (Ping timeout)
[21:37:13] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[21:37:14] <Vermeille> Is that the usual pattern? two technical interviews through Skype etc?
[21:37:24] <ecr> that's what I had
[21:37:39] <Vermeille> absolutely perfect, where was it?*
[21:38:03] <ecr> I was at the mountain view office
[21:38:32] <eibwen> does calling C code have any performance impacts?
[21:38:36] <Vermeille> Ooooh perfeeeect.
[21:38:48] <ecr> Most of the Rust interns were in Mountain View and a few in San Francisco
[21:38:58] <mcpherrin> Mozilla will be at their new mountain view office soon
[21:39:12] <mcpherrin> I wonder if interns will still be housed at Oakwood
[21:39:17] <cmr> eibwen: no.
[21:39:29] <Luqman> mcpherrin: they will be afaik
[21:39:30] <eibwen> thanks
[21:39:30] <cmr> eibwen: it has the same performance as calling C code from C.
[21:39:42] <ecr> mcpherrin: not sure. my understanding is that the new office is much farther away from oakwood
[21:39:51] <eibwen> ok. so nothing like a separated stack for C calls, like in go
[21:39:56] <cmr> eibwen: not anymore, no.
[21:40:02] <cmr> (we used to have such a split stack)
[21:40:11] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[21:40:33] *** Quits: eddyb (eddy@moz-92B95652.residential.rdsnet.ro) (Ping timeout)
[21:41:35] <mrengstad> I expected that pointers to enum's would have the discriminant embedded in the pointer itself, not in the enum for small enumerations -- is this a planned future feature?
[21:41:36] <mcpherrin> ecr: I actually live right near the new office :P  (though I'm no longer at Mozilla so it doesn't matter :)
[21:41:55] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[21:42:00] <ecr> mcpherrin: oh cool. where is it?
[21:42:17] <Luqman> ecr: 331 East Evelyn Avenue
[21:42:31] <cmr> mrengstad: maybe-maybe-not.
[21:42:41] <ecr> mrengstad: the representation of enum discriminants is left intentionally unspecified to allow for optimizations like that if possible
[21:42:54] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[21:43:03] <cmr> I don't think it'd be desirable for, as an example, &SomeEnum
[21:43:07] <eibwen> mh.. although I probably can implement my own ~, the . operator won't work which will make working with it very awkward, right?
[21:43:07] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[21:43:16] <cmr> Because that breaks the "&T is a bare pointer" invariant.
[21:43:42] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:44:17] <cmr> eibwen: . and ~ aren't overloadable operators.
[21:44:46] <mrengstad> But it does mean that enum UsefulValue { Int(i32); F32(f32) }; is going to be more than 4 bytes.
[21:45:06] <cmr> Indeed it does.
[21:45:23] <cmr> But when you have a value of UsefulValue, you still need to know what it is without having a pointer to it.
[21:45:31] <ecr> mcpherrin, Luqman: food is not nearly so convenient there
[21:45:56] *** Quits: echristo (echristo@1FEBE60D.D6CCE4AE.77834EAA.IP) (Ping timeout)
[21:46:28] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[21:46:37] *** Joins: echristo (echristo@1FEBE60D.D6CCE4AE.77834EAA.IP)
[21:47:00] <mrengstad> cmr: Very true, but then I'd like to encode that an external structure, for me - in most cases, in the pointer itself.
[21:47:16] *** Joins: twi (Adium@2C76CE8.6E7135BE.54B829D6.IP)
[21:47:28] <cmr> mrengstad: that can't be provided for safely, at least not easily and certainly not simply.
[21:47:53] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[21:48:10] *** Quits: edwardw (Mibbit@F6D3ED62.E91AB7CD.1D660E71.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:48:15] <mrengstad> cmr: Well, I guess I could always cheat. ;-)
[21:48:27] <cmr> mrengstad: indeed. unsafe code ftw :)
[21:48:59] *** Quits: twi (Adium@2C76CE8.6E7135BE.54B829D6.IP) (Ping timeout)
[21:49:07] <mrengstad> cmr: But -- it would be nice to be able to make a smart-pointer that encoded it explicitly.
[21:49:23] <cmr> mrengstad: indeed. I think that, with some devilry, that might be possible.
[21:49:43] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[21:50:41] <mcpherrin> ecr: as somebody who lives there, I know ;)
[21:50:51] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:51:08] <mcpherrin> (Though, well, I have a kitchen)
[21:51:13] <cmr> mrengstad: Hrm, not actually sure now... you'd need a generic return type for whatever method does the "dereferencing", but it needs to somehow be restrained to the set of possible types.
[21:51:19] *** Joins: infynyx__ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[21:51:24] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[21:51:26] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[21:51:29] <Vermeille> I finished  my first Rust program \o/ thank you all :D!
[21:51:42] <Ms2ger> Congratulations!
[21:51:50] * ecr high-fives Vermeille
[21:51:52] <Vermeille> This language feels really great
[21:52:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:52:29] <Hildar> Vermeille: Just think, in C it would be time to go bug hunting.
[21:52:37] <Vermeille> Really good language, and really good lib, way better than C++'s.
[21:52:48] *** Quits: Ms2ger (Ms2ger@4A49FFC8.EA68D5B.F15B0BB3.IP) (Quit: nn)
[21:52:51] <mrengstad> Hmm, yes -- right now it's going to have to go through unsafe code.
[21:52:59] *** Quits: infynyx__ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[21:53:19] *** Joins: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[21:53:20] <Vermeille> Hum, I'll wait to play a little with other features.
[21:53:27] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[21:53:35] <mrengstad> You would also like to have [UsefulValue, .. k] and other arrays where either all values are f32 or i32.
[21:53:43] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:53:52] <Vermeille> Hey, do you have ideas of little but interesting programs to write?
[21:54:08] <mrengstad> What is "little"?
[21:54:17] <mcpherrin> Vermeille: Unix commands, maybe?
[21:54:23] <Vermeille> few hundreds of lines?
[21:54:30] <Vermeille> I started with a mini-ls
[21:54:34] *** Parts: ldlework (ldlework@6AEB83D1.B92A0FC.176AC772.IP) (0.4.1)
[21:54:35] <sfackler> Zr40: I can repro the phf_map error off of a homebrew installed rustc. I'll look into what's going on today
[21:54:58] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[21:55:04] <mrengstad> I'd love to see an implementation of functional (persistent) arrays. Some peeps are doing the trees, but not arrays (yet).
[21:55:22] <cmr> mrengstad: *arrays*, not lists?
[21:55:31] <mrengstad> Yes, arrays.
[21:55:59] <ecr> mrengstad: I think it'd be an interesting exercise to port Okasaki's stuff over to Rust
[21:56:02] <mcpherrin> Vermeille: https://github.com/uutils/coreutils is a bunch of people rewriting unix coreutils.  Maybe you could write a few of them?
[21:56:04] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Connection reset by peer)
[21:56:15] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:56:18] <mcpherrin> ecr: that's the purely functional data structures stuff?
[21:56:22] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[21:56:27] <mcpherrin> I've been meaning to read that book...
[21:56:34] <ecr> mcpherrin: same here
[21:56:52] <Vermeille> mcpherrin: sounds like a good idea :D !
[21:56:54] *** Quits: akhosrav (akhosrav@moz-3F7067A0.tukw.qwest.net) (Ping timeout)
[21:56:55] <ecr> IIRC a lot of the haskell data structures are backed by those things
[21:57:02] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[21:57:05] <mrengstad> It's awesome. But, there's also some other literature out there that would be helpful.
[21:57:09] <ecr> finger trees, etc.
[21:58:12] <ecr> yeah, I imagine someone must have published something about it since then
[21:58:41] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[21:59:10] <mrengstad> There's also two "kinds" of persistent -- thread-safe vs not. 
[21:59:23] <Vermeille> mcpherrin: *why* are they writing coreutils?
[21:59:36] *** Joins: heftig (heftig@moz-83757E6A.dip0.t-ipconnect.de)
[21:59:42] <Tekk_> Vermeille: it's a good proving ground
[21:59:53] <Tekk_> 1: it shows that you can do useful things with the language
[22:00:06] <Tekk_> 2: they're not too complicated that they take ages to write
[22:00:13] <Tekk_> 3: their behaviour is well understood
[22:00:16] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[22:00:41] <Vermeille> okay, the point is to write program, not to use them
[22:00:44] <Tekk_> yes
[22:00:47] <Tekk_> but using them is also nice :)
[22:01:18] *** Quits: alexherbo2 (alexherbo2@moz-60C8C73B.w83-199.abo.wanadoo.fr) (Ping timeout)
[22:01:19] *** Joins: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP)
[22:02:22] <mrengstad> I think I'd rather see more progress in libraries. 
[22:02:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[22:02:45] *** Joins: `cbp (user@C3232618.1AFAEAEA.7C05EB22.IP)
[22:03:05] <Jemaclus> which libraries?
[22:03:13] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[22:03:33] <Vermeille> also true. What about writing maths basics things like vectors, matrices and basics algorithms on them?
[22:04:02] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[22:04:08] <mrengstad> Collections, networking, parsing, regular expressions, SIMD, graph.
[22:04:20] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[22:04:40] *** Quits: ecr (chatzilla@moz-75C94A03.dhcp4.washington.edu) (Ping timeout)
[22:04:41] <Vermeille> hum, tell me more about parsing
[22:04:51] <Vermeille> what would you want in a parsing library
[22:05:01] <Vermeille> combinators :D?
[22:05:10] <mrengstad> Well, there's been many failed attempts. ...
[22:05:11] <mcpherrin> A few people have tried to write parser combinator libraries in Rust
[22:05:13] <mcpherrin> so far without success
[22:05:21] *** Joins: ecr (chatzilla@moz-75C94A03.dhcp4.washington.edu)
[22:05:32] <ecr> ??
[22:05:43] <ecr> did anyone else just get DCed? or just me?
[22:05:50] <Vermeille> just you
[22:05:50] <mcpherrin> ecr: just you, ping timeout
[22:05:57] <ecr> weird
[22:06:01] <aatch> A decent combinator library in Rust probably needs Higher-Kinded Types to work well
[22:06:04] <ecr> didn't DC from freenode
[22:06:15] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[22:06:16] <Vermeille> I'm guilty of writing compile-time combinators in C++ http://vermeille.fr/dotclear2/index.php/post/21-Bringing-Haskell-s-parsers-to-C :D
[22:06:31] <mrengstad> Another big wish I have is a REPL for rust.
[22:06:34] <aatch> Though I made an attempt and most of the issues were type-inference
[22:06:48] <aatch> bugs
[22:06:52] *** Parts: ecr (chatzilla@moz-75C94A03.dhcp4.washington.edu) ()
[22:06:57] *** Joins: ecr (chatzilla@moz-75C94A03.dhcp4.washington.edu)
[22:07:19] <mcpherrin> On my todo list is writing a rust shell, which while not strictly a REPL, should be cool
[22:07:26] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[22:07:27] *** Quits: rca_ (rcatolino@moz-D8DCC6B5.adsl.proxad.net) (Ping timeout)
[22:07:48] *** Joins: aklt (aklt@moz-E66E9BCB.u.parknet.dk)
[22:07:50] <ChrisMorgan> mcpherrin: http://rust-class.org/ are doing a Rust shell
[22:08:01] <mcpherrin> ChrisMorgan: yeah, but they're writing like a sh style shell
[22:08:08] <mcpherrin> I have ... different ideas :-)
[22:08:20] * ChrisMorgan hides
[22:08:30] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:08:54] <Hildar> mcpherrin: A pity the name rsh is already taken?
[22:09:06] <mcpherrin> Hildar: I was thinking of going with "rush"
[22:09:26] <Hildar> mcpherrin: Perfect ^^
[22:09:47] *** Joins: pzol_ (pzol@86821BC.DEB41A6D.AADC76B.IP)
[22:09:51] <ChrisMorgan> Any such things you can think of will already be taken.
[22:10:13] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:10:28] *** Joins: kvanb (kvanb@EE387284.30385D4F.1611EE05.IP)
[22:10:37] <mrengstad> Actually -- what I really want is a rust compiler server. :-)
[22:10:54] <mcpherrin> what does that mean, mrengstad?
[22:10:56] <Vermeille> a rust IRC bot!
[22:11:16] <ecr> rusti: ~"you called Vermeille"
[22:11:18] <Hildar> Maybe we could call it rusti Vermeille
[22:11:28] <mrengstad> Hehe. No it's an idea from game development (lookup "Goal" programming language).
[22:11:38] * ecr RUSTI IS MIA
[22:11:45] * ecr SEND OUT THE CHOPPERS
[22:11:47] <Vermeille> Ahem.
[22:12:11] <mrengstad> So, you have your program running in real-time, and it is communicating with the *server* which is compiling code for you on the fly.
[22:12:30] <ecr> so it's a JIT over a network?
[22:12:37] <ecr> huh
[22:12:39] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[22:12:44] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[22:12:56] *** Quits: dave1629_ (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629_)
[22:12:57] <ecr> must be a pretty damn good JIT to win over the network overhead
[22:12:57] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[22:13:01] <mrengstad> No JIT. The server knows about "everything" in the running program, so it can patch it safely through a network protocol.
[22:13:09] <Vermeille> ecr: and that's sooooo unsafe.
[22:13:37] <o11c> I would like to see compilers switch become daemons
[22:13:38] <mrengstad> Well, the dream is to make it do everything safely. 
[22:13:41] <Vermeille> a simple MITM would be able to inject malevolent code
[22:13:45] <aatch> GOAL is lisp
[22:13:45] <o11c> it would really win for rebuilds
[22:14:02] <ecr> mrengstad: so is the compiler just trying to get things ready before the program actually gets there?
[22:14:07] <aatch> And it wasn't done over a public network
[22:14:14] <aatch> It was part of the development process
[22:14:36] <mrengstad> Yes, the final product would not have the patching framework enabled.
[22:14:39] <aatch> Naughty Dog used it to make a few games
[22:14:40] <ecr> damn it lisp. leave some ideas for the rest of us.
[22:14:47] *** Joins: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net)
[22:14:53] <aatch> ecr, Greenspun's Tenth Law
[22:15:02] <ecr> aatch: so true
[22:15:10] <mrengstad> It's just for development cycle. Kind of like REPL on your target program.
[22:15:17] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[22:15:19] <o11c> Vermeille: nobody actuall connects services to another host; they just connect to localhost and maybe do ssh forwarding
[22:16:03] *** Quits: steveno (steveno@moz-2B2BE86F.hsd1.pa.comcast.net) (Quit: Leaving)
[22:16:15] <mrengstad> If you google my name and Naughty Dog, you'll see who I am. ;-)
[22:16:31] *** Quits: dukeleto (dukeleto@moz-C083E0FB.ptld.qwest.net) (Ping timeout)
[22:17:03] <o11c> <C-Foo> just means "subtract 0x40 from the ascii value", which only works for 0x40-0x5f, though ^? is special
[22:17:04] *** Joins: alexherbo2 (alexherbo2@moz-6314D5CA.w83-199.abo.wanadoo.fr)
[22:17:28] <cmr> mrengstad: ohh, cool
[22:17:48] <aatch> mrengstad, hah, I know what you look like now! :P
[22:17:49] <Tekk_> mrengstad: thanks for the best graphics on the ps1, if you were around back then :P
[22:18:15] <ecr> mrengstad: speaking of naughty dog. please port uncharted + last of us to pc. i want to play :(
[22:18:19] *** Joins: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch)
[22:18:22] <mrengstad> I was, but I was working at the secret PS2 project back then.
[22:18:38] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[22:18:48] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[22:18:54] <mrengstad> We have a PC build actually, but it'll never be released to the public, unfortunately.
[22:18:54] <cmr> crash bandicoot and jak + daxter was basically my mid-childhood.
[22:19:08] <Tekk_> cmr: crash 2 is the first game that I remember playing
[22:19:16] <Tekk_> I was more a fan of ratchet & clank in the ps2 days though
[22:19:28] <cmr> I also love ratchet and clank
[22:19:34] <mcpherrin> mrengstad: No Last of Us for PC? Awww
[22:19:49] <mrengstad> PC is not a good business model for us (nor Sony).
[22:19:50] <ecr> fine! my steam library didn't want them anyway! *sulks*
[22:20:03] <Tekk_> stupid 2nd party status :P
[22:20:20] <mcpherrin> mrengstad: But I want to play it and I don't want to buy a PS4 :p
[22:20:58] <ecr> mcpherrin: it's ok. we'll just insert some code into rustc to locate the pc build and send it to us.
[22:21:13] <ecr> what could possibly go wrong
[22:21:19] <mrengstad> Hehe. We're not using rustc quite yet.
[22:21:30] <ecr> i'm playing the long game here
[22:21:38] <mcpherrin> ecr: Hah, I just found out the product I'm working on is being used to make an upcoming feature film.. I made a similar joke to my manager just now :P
[22:21:54] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[22:23:09] <mrengstad> Anyway, I've recently checked out rustc, because it is looking *very promising*. Keep up the good work!
[22:23:31] <Tekk_> rust sems like it'll be cool. shame it's not a lisp though :P
[22:23:33] <Tekk_> seems*
[22:23:41] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[22:23:47] <Tekk_> hm...sexp wrapper around rust would be fun
[22:24:02] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:24:13] <ecr> Tekk_: macros and Any will give you lisp :P
[22:24:18] <mrengstad> Nah, sexp is cool and all -- but syntax is quite helpful too. At least if you can change syntax to fit your needs.
[22:24:31] <Vermeille> what about a HTTP server?
[22:24:32] <Tekk_> ecr: yeah, but I like the syntax (or lack thereof)
[22:24:51] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:24:52] *** ChanServ sets mode: +ao dherman dherman
[22:25:27] <ecr> Tekk_: hence the macros. write a lisp! macro
[22:25:33] <Tekk_> yeah
[22:25:34] <mrengstad> Lately, we've started moving towards data formats in JSON instead of sexp, it works quite well for most htings.
[22:25:54] *** Quits: vertexclique (vertexcliq@6F384F56.153E7D13.6894ADF4.IP) (Client exited)
[22:26:30] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:26:39] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:26:40] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Connection reset by peer)
[22:26:45] <ChrisMorgan> Vermeille: I very much want Rust to become popular for web development.
[22:27:08] <mrengstad> With Mozilla support, won't that just auto-happen?
[22:27:09] <Tekk_> I'm sorta playing around with a net server in rust. not sure what it should do though
[22:27:11] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[22:28:17] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:28:24] <cmr> mrengstad: not necessarily..
[22:28:43] <Tekk_> webm had moz support :/
[22:29:12] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:29:16] <Tekk_> and going back further, the netscape web server died pretty quickly once apache and others came out
[22:29:16] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Connection reset by peer)
[22:29:28] <sfackler> Zr40: weirdly, it appears to *only* break off of a homebrew built rustc. If you pull mozilla/rust and built it yourself you should be good for now until it gets fixed
[22:29:31] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[22:31:18] *** Quits: kellogh (timkellogg@moz-68DF7EF7.teliax.com) (Quit: kellogh)
[22:31:41] *** Joins: alkino_ (alkino@moz-2677AA92.w90-46.abo.wanadoo.fr)
[22:31:46] *** Quits: Ferreus (ferreus@moz-6512319A.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[22:32:18] *** Quits: dschatzberg (dschatzber@moz-9384E83C.bu.edu) (Input/output error)
[22:32:20] <darnuria> Hello 
[22:32:25] <ecr> hello
[22:32:32] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:32:35] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:32:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:33:37] <darnuria> I'am already on the same problem than yesterday, how I can check if a channel is open, or if a reader.lines return me the end of the file? :(
[22:34:06] <darnuria> my code -> https://github.com/darnuria/42rust-sh/blob/master/rust-term.rs 
[22:34:08] <Vermeille> ChrisMorgan: I'm seeing that you already have a HTTP client/server under dev
[22:34:24] <ChrisMorgan> Vermeille: correct
[22:34:35] <Eridius> darnuria: try_send() returns false if the other end hung up
[22:34:40] *** Joins: kellogh (timkellogg@moz-68DF7EF7.teliax.com)
[22:34:41] <darnuria> I get this when I send ctrl-d 
[22:34:49] <Eridius> and your for loop will end when the reader throws some error (including EOF)
[22:34:59] <darnuria> task '<unnamed>' failed at 'sending on a closed channel', /nfs/zfs-student/users/2013/aviala/usr/local/build/rust/src/libstd/comm/mod.rs:581
[22:35:05] <Vermeille> ChrisMorgan: what is the scope of your project, do you need some contribution, on what?
[22:35:24] <darnuria> Eridius: I get the same when I change to try_send :/
[22:35:33] <darnuria> to replace send to try_send*
[22:36:09] <ChrisMorgan> Vermeille: it's in the process of changing a little and preparing for a rewrite; I expect to publish information about that within a week. That will make it more apparent what can be done and what needs to be done.
[22:36:11] *** Quits: snuderl (snuderl@moz-F3D82D32.static.triera.net) (Connection reset by peer)
[22:36:26] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[22:36:40] <Eridius> darnuria: try_send should not be able to throw that error
[22:37:09] *** Joins: holomorph (holomorph@moz-CF91A262.hsd1.md.comcast.net)
[22:37:09] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Connection reset by peer)
[22:37:20] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[22:37:26] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Ping timeout)
[22:37:37] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[22:37:39] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[22:38:04] <Vermeille> ChrisMorgan: okay, keep me updated, I'm willing to contribute (even though I don't have a lot of time because of school), tell me if you're okay to receive contribution from me, a rust newbie and a not very experienced dev
[22:38:07] *** Joins: Denommus (user@40927F8C.80EB1D26.AD91B79.IP)
[22:38:09] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[22:38:34] <Denommus> hi
[22:38:43] *** Quits: ecr (chatzilla@moz-75C94A03.dhcp4.washington.edu) (Ping timeout)
[22:38:47] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[22:38:49] <ChrisMorgan> Vermeille: I'm just as willing to receive contributions as Rust is—so long as they line up with the goals of the project and are correct and all that, they'll be accepted.
[22:38:50] *** Joins: ecr (chatzilla@9D3FCFC0.5FFFD366.11F8506F.IP)
[22:38:59] <darnuria> Eridius: I will test :)
[22:39:04] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[22:39:05] *** jorendorff_away is now known as jorendorff
[22:39:14] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[22:39:15] <Denommus> is unshift faster than concatenating two vectors?
[22:39:32] <Eridius> Denommus: unshift modifies the receiver. Concatenation allocates a new vector
[22:39:32] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Connection reset by peer)
[22:39:33] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[22:39:36] *** pmoore is now known as pmoore|away
[22:39:42] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[22:39:43] <Eridius> well, unshift will have to move elements in the vector
[22:39:48] <Eridius> I guess it depends on the elements?
[22:39:59] <darnuria> Eridius: I got the same task '<unnamed>' failed at 'sending on a closed channel', /nfs/zfs-student/users/2013/aviala/usr/local/build/rust/src/libstd/comm/mod.rs:581
[22:40:03] <darnuria> :(
[22:40:05] <Eridius> and if the vector is full, it has to reallocate anyway
[22:40:08] <darnuria> with try_send
[22:40:11] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[22:40:16] <Eridius> darnuria: rust 0.9 or master?
[22:40:19] <darnuria> master
[22:40:23] <darnuria> 0.10-pre
[22:40:27] <Eridius> darnuria: run it under gdb, put a breakpoint on rust_fail
[22:40:29] <Denommus> Eridius: so what would be the best strategy to prepend an element?
[22:40:31] <Eridius> that will give you a full stack trace
[22:40:31] <darnuria> k
[22:40:32] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Ping timeout)
[22:40:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:40:34] <Vermeille> ChrisMorgan: Okay, great, after my internship at facebook I'm really willing to contribute to a real world project. I'll come back to you next week
[22:40:41] <darnuria> lldb is not better?
[22:40:53] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:40:53] *** ChanServ sets mode: +o tjc
[22:40:57] <Eridius> darnuria: you may also need to compile with -g for more debuginfo
[22:41:02] <Eridius> darnuria: oh sure, lldb. I didn't know what platform you're on
[22:41:17] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[22:42:14] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[22:42:14] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:42:47] <darnuria> Eridius: I'am on Linux(Home) and OSx(work).
[22:42:52] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[22:43:26] *** Parts: holomorph (holomorph@moz-CF91A262.hsd1.md.comcast.net) ()
[22:43:42] <mitsuhiko> Result is my enemy. i really wish for variable size types and an error trait :-.
[22:43:42] *** Joins: apoelstra (username@moz-B7040E82.vs.shawcable.net)
[22:43:48] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[22:43:56] <Denommus> wow, compiling Rust is really proibitive XD
[22:44:11] <Hildar> Denommus: Ever tried to compile gcc?
[22:44:34] <Eridius> mitsuhiko: variable-sized types means trait object, which means dynamic dispatch
[22:44:46] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[22:44:54] <mitsuhiko> Eridius: the current result object is bad though
[22:44:57] <Denommus> Hildar: if I change only one file in GCC, do I need to recompile it all?
[22:45:00] <Tekk_> C has dynamic sized types kinda
[22:45:03] <Eridius> mitsuhiko: why is it bad?
[22:45:03] <Tekk_> unions
[22:45:06] <ecr> mitsuhiko: why do you think Result is bad?
[22:45:09] <darnuria> Eridius: http://kib2.free.fr/pastebin/view_paste.php?id=197
[22:45:16] <Tekk_> except they're not dynamic sized and you just pretend that they're that way :P
[22:45:20] <mitsuhiko> Result is bad because it restricts what errors can be emitted on the trait
[22:45:20] <Eridius> Tekk_: those aren't dynamically sized. They're sized to the largest variant. And in Rust you get the same thing with enums, except with type-safety
[22:45:23] <Tekk_> mhm
[22:45:30] <mitsuhiko> as an example all io traits have an IoResult
[22:45:34] <mitsuhiko> how do you implement ssl on top of that?
[22:45:39] <darnuria> Eridius: The code is on my previous link on github
[22:45:49] <mitsuhiko> an SSL reader might produce SSL errors in addition to IO errors on every single operation
[22:45:50] <Eridius> mitsuhiko: it sounds like you want to be able to dynamically extend the error codes
[22:46:06] <Eridius> darnuria: ok you broke there. Now ask for the backtrace
[22:46:09] <mitsuhiko> Eridius: not just that, i might need to provide arbitrary payload
[22:46:15] <mitsuhiko> not just error codes
[22:46:16] <Tekk_> mitsuhiko: obviously we just need to switch to a 128 bit errno :D
[22:46:40] <mitsuhiko> unless you want to have a side channel that keeps error information on a task local
[22:46:41] <Eridius> mitsuhiko: it sounds like the solution is to declare the trait I/O methods as generic methods that have a type parameter that's used in the error value
[22:46:43] <ecr> make a new enum that has either SSL errors or IO errors?
[22:46:52] <mitsuhiko> Eridius: it's not just io though
[22:47:06] *** Quits: alexherbo2 (alexherbo2@moz-6314D5CA.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[22:47:06] <mitsuhiko> ecr: breaks on things like Result.and_then
[22:47:06] *** Quits: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Ping timeout)
[22:47:06] <darnuria> ecr: http://kib2.free.fr/pastebin/view_paste.php?id=198 Yop :)
[22:47:07] <dwrensha> make your own SSL io trait?
[22:47:27] <mitsuhiko> dwrensha: and then not be able to pass it to any of the io functions?
[22:47:39] <mitsuhiko> copy/paste the functions?
[22:47:40] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[22:47:43] <Eridius> darnuria: that's all? Damn. lldb still has problems with rust
[22:47:49] <Eridius> it's a shame, a recent change was supposed to fix that, but apparently not
[22:47:57] <Eridius> darnuria: gdb, if you can use it, should be able to get the full backtrace
[22:48:03] <Eridius> lldb is a lot more picky about how it walks the stack
[22:48:09] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Connection reset by peer)
[22:48:09] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[22:49:34] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Ping timeout)
[22:49:42] <darnuria> Eridius: Funny I expected llvb was better for rust
[22:49:57] <ecr> mitsuhiko: hold on, let me make sure we're on the same page. I think you want to be able to make SSLReader and SSLWriter, is that right? And then have them implement Reader and Writer?
[22:50:12] <mitsuhiko> ecr: for example, yes
[22:50:18] <ecr> hm, ok
[22:50:21] <ecr> let me think about that one
[22:50:22] <Eridius> darnuria: yeah :/
[22:50:37] <darnuria> Eridius: http://kib2.free.fr/pastebin/view_paste.php?id=199
[22:50:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:51:07] *** Quits: amir (amir@moz-467F7F30.cust.bluewin.ch) (Ping timeout)
[22:51:10] *** Joins: dave1629_ (dave@moz-17578A1A.hsd1.va.comcast.net)
[22:51:12] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[22:51:26] <mitsuhiko> ecr: i also encountered a similar problem in my redis library. it can fail from client open with IO errors or my own errors
[22:51:38] <mitsuhiko> my workaround is to make any IO error into a ConnectionRefused
[22:51:45] <Eridius> darnuria: hmm, rust_try in there suggests that it's actually using task::try, which is surprising. I haven't tried sending on a closed channel before, but logging task failure whenever try_send() fails seems bad
[22:51:46] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[22:51:47] <mitsuhiko> which is misleading though because it does not actually say what happened
[22:51:49] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[22:51:50] <ecr> yeah, I see the problem you're facing
[22:51:52] *** Quits: Hildar (Mibbit@moz-7F4621B6.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:51:56] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[22:51:58] <Eridius> darnuria: did the logged failure actually take down your app, though? Or did it log the failure, then return false?
[22:52:21] <darnuria> Eridius: yep it fall in a unexpected comportement.
[22:52:28] <Eridius> hrm, looking at the implementaiton of try_send, it definitely doesn't work that way
[22:52:37] <Eridius> send() in fact is implemented as `if !self.try_send(t) { fail!("...") }
[22:52:41] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[22:52:42] <darnuria> I would get stdin from an other task in this app
[22:52:53] <Eridius> darnuria: how recent is your rust build?
[22:52:59] <darnuria> today
[22:53:38] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[22:53:39] *** Joins: Darnuria2 (yaaic@E3754E37.4BF21DF1.41DC420.IP)
[22:54:11] <jensnockert> Hurray, my soft-float library has the five basic operations \o/
[22:54:16] <Eridius> darnuria: hmm, you're right, I'm getting the same error on ^D
[22:54:18] <Eridius> although it doesn't shut down the app
[22:54:20] <darnuria> I have to afk, I will check the conversation on my phone to find an awnser.
[22:54:29] <ecr> mitsuhiko: I guess one way it could be fixed is to parametrize IoError over a type T and allow put an Option<T> in there. then you could return an OtherIOError and insert your custom error type in the Option.
[22:54:42] <darnuria> Eridius: I will get a desktop in less than 1 hour to work on this problem :)
[22:54:44] <TobiasFar> hi. is debug info generation currently buggy?
[22:54:52] <Eridius> darnuria: oh hmm, I think we're being misled
[22:54:56] <Eridius> darnuria: I think this is from Future::spawn
[22:55:01] *** darnuria is now known as darnuria|afk
[22:55:02] <Eridius> darnuria: incidentally, why are you using Future::spawn?
[22:55:25] <darnuria|afk> Eridius: Hum
[22:55:30] <Eridius> darnuria|afk: that's actually exactly it. You're throwing away the Future from spawn(), which closes the channel
[22:55:37] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[22:55:37] <Eridius> so when your spawned task completes and it tries to update the Future, it fails
[22:55:43] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[22:55:54] <mitsuhiko> ecr: the main problem is that a tool is a lacking
[22:55:55] <Eridius> Future should probably switch to try_send() to avoid a spurious error message
[22:55:57] <TobiasFar> it shows me line numbers where no function calls are happening
[22:56:01] * ecr high-fives jensnockert
[22:56:09] <jensnockert> o/\o
[22:56:11] <mitsuhiko> the unchecked exception raising is obviously not available, where you can add more exceptions as you go
[22:56:22] <darnuria|afk> Eridius: Funny.
[22:56:28] <Eridius> darnuria|afk: you probabyl just wanted std::task::spawn
[22:56:29] <ecr> mitsuhiko, yep.
[22:56:30] <mitsuhiko> but the c style way of having per-thread error information on demand after returning a sentinel value is not an option
[22:56:45] <darnuria|afk> It work perfectly with the std:task::spawn...
[22:56:51] <Eridius> darnuria|afk: which is actually in the prelude. So just delete the `use sync::Future::spawn` line
[22:56:55] <darnuria|afk> So Why it dont work with the future one ?
[22:56:57] <darnuria|afk> :)
[22:57:20] <darnuria|afk> (I used future in the past for trying to iterate on "future stuff" but I find an other way.
[22:57:46] *** Joins: qxi (qxi@moz-21D6B3DE.csclub.uwaterloo.ca)
[22:57:51] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:57:55] <Eridius> darnuria|afk: Future is for kicking off some computation and then accessing the result alter
[22:57:58] <Eridius> *later
[22:57:59] <ecr> jensnockert: so what are soft-floats?
[22:58:00] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[22:58:11] <Eridius> darnuria|afk: in this case your "result" is (), but Future doesn't care and tries to send it anyway, and fails because you destructed the Future already
[22:58:14] <jensnockert> ecr: Software-implemented floating point.
[22:58:17] <darnuria|afk> Eridius: yep. but why ctrl-d killed it?
[22:58:26] <jensnockert> ecr: In contrast to hardware floating-point.
[22:58:33] <dwrensha> mitsuhiko, ecr: maybe what we what is something like SML's exn: http://lambda-the-ultimate.org/node/4042
[22:58:35] <Eridius> darnuria|afk: it didn't. That was literally just a log message. Your program wasn't actually dead
[22:58:42] <ecr> jensnockert: that actually sounds really interesting to play around with
[22:59:19] <Eridius> darnuria|afk: incidentally, the only reason your program didn't terminate on ^D is because of the loop
[22:59:30] <jensnockert> ecr: https://github.com/bjz/ieee754-rs/blob/soft-float/src/soft_f32.rs if you want to check it out.
[22:59:38] <Eridius> darnuria|afk: once the spawned task shuts down, you enter an infinite loop trying to iterate on a closed port. Bad idea. Delete the loop
[23:00:08] <Darnuria2> Eridius : yep but why ctrl killed my task?
[23:00:25] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:00:41] <Eridius> Darnuria2: ^D closed stdin, which terminated the input_line() loop
[23:00:55] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Quit: Leaving.)
[23:00:59] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[23:01:01] <Eridius> Darnuria2: this caused input_line to return, which then exited the spawned task. That then tried to send () back to the destructed Future, and logged the task failure
[23:01:02] <ecr> jensnockert: it has a firefox tab now. i'll get to it eventually
[23:01:05] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[23:01:13] <Eridius> Darnuria2: meanwhile your main task started spinning forever on that loop
[23:01:13] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Input/output error)
[23:01:18] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[23:01:27] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:01:35] <Darnuria2> since with std::task::spawn i got it
[23:01:37] <Eridius> Darnuria2: this is what you want: https://gist.github.com/kballard/8925987
[23:01:40] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Connection reset by peer)
[23:01:42] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[23:01:59] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Input/output error)
[23:02:02] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[23:02:05] <mitsuhiko> dwrensha: a coworker pointed that out a few weeks ago actually
[23:02:16] *** Joins: fyolnish (fyolnish@moz-C2292FA3.uqwimax.jp)
[23:02:18] <mitsuhiko> to be honest, the ssl example was one of the things that conditions solved quite nicely
[23:02:28] <Darnuria2> Eridius : how yeah thanks
[23:02:30] <mitsuhiko> but don't get me wrong. i'm happy to see them go
[23:02:35] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[23:02:37] *** Quits: KindOne (KindOne@moz-D6A95384.dynamic.ip.windstream.net) (Ping timeout)
[23:02:43] <Eridius> Darnuria2: I'm amused that I literally just deleted a few lines ;)
[23:02:46] <Eridius> didn't write any code
[23:02:58] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[23:03:18] <jensnockert> ecr: \o/.
[23:03:28] <Darnuria2> the best way to resolve bug
[23:03:30] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[23:03:38] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:03:41] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[23:03:51] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[23:04:00] *** Quits: fyolnish (fyolnish@moz-C2292FA3.uqwimax.jp) (Ping timeout)
[23:05:09] <Cork> is there any plans to add support for adding multiple traits to one struct without repeating the impl expression?
[23:05:23] *** Joins: LightRaiser (Mibbit@moz-425ED268.speed.planet.nl)
[23:05:33] <Darnuria2> Eridius : I would make a multi tasked shell for fun ;)
[23:05:36] <Eridius> Cork: what do you mean? You're implementing a trait. How are you going to implement multiple traits?
[23:05:41] <Eridius> *multiple traits in one impl
[23:05:48] <Eridius> Darnuria2: good luck! Shells are pretty complicated
[23:06:22] <Darnuria2> yep ;) thats a school projet
[23:06:45] <Cork> Eridius: something like impl Clone, Drop for <struct> { fn clone() {} fn drop() {} }
[23:06:46] <Darnuria2> It must be in C but I prefer to contribute to rust
[23:07:16] <mitsuhiko> ecr: i replied to my own mail on the mailinglist about this now. hoping someone chimes in with some ideas.
[23:07:19] <Eridius> Cork: and what if both traits have a method of the same name?
[23:07:30] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[23:07:35] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[23:07:50] <mitsuhiko> Cork: yeah, that's not going to happen
[23:07:54] *** Quits: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl) (Quit: leaving)
[23:07:57] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[23:08:02] <Cork> Eridius: wait, are you saying you can't do it at all?
[23:08:03] <mitsuhiko> just imagine the pain if someone adds a default method to a trait
[23:08:08] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Connection reset by peer)
[23:08:11] <dwrensha> mitsuhiko: I'm not sure if exn is exactly what we want here, but in case you're interested, chapter 35 of Bob Harper's book has some discussion: http://www.cs.cmu.edu/~rwh/plbook/book.pdf
[23:08:12] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[23:08:31] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[23:08:32] <Cork> how are you to implement those in a rust struct then?
[23:08:44] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[23:08:58] *** Quits: Vermeille (Mibbit@945FCD68.940A4703.BA2F4534.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:08:59] <Eridius> Cork: you can implement each trait separately
[23:09:07] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[23:09:11] <ecr> impl Clone for <struct> {} impl Drop for <struct>
[23:09:23] <mitsuhiko> dwrensha: i want composability of error cases
[23:09:24] <ecr> just separate impl blocks
[23:09:26] <Cork> ok, that is what i though it was...
[23:09:27] <Eridius> Cork: if two traits define a method of the same name (a method that has a `self` param), calling it is problematic right now, but if the caller only has one trait in scope it's fine
[23:09:32] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[23:09:40] <Eridius> unified function call syntax will fix that though
[23:09:47] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[23:10:18] <dwrensha> mitsuhiko: what do you mean by "composability"?
[23:10:26] <Cork> Eridius: ya, well it was the two trait situation i thought about :)
[23:10:31] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[23:10:45] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[23:10:52] <mitsuhiko> dwrensha: f() calling into fa() returning IoError and fb() returning SslError
[23:10:54] <mitsuhiko> for instance
[23:10:57] <mitsuhiko> how does it fail
[23:11:09] <mitsuhiko> especially in light of f() belonging to an Io trait that only knows about IoResults
[23:11:09] <Cork> Eridius: and if the two traits shared the same behavior with a function i don't see where the problem is declaring it in the same impl
[23:11:20] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[23:11:22] <Eridius> mitsuhiko: enum Error { IOError(io::IoError), SSLError(ssl:SslError) }
[23:11:22] <Eridius> mitsuhiko: ^
[23:11:28] <Eridius> oh if it's the Io trait then you have a problem
[23:11:29] <Cork> if they differ, then sure split them up
[23:11:39] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[23:11:42] <Eridius> which is why I was saying perhaps IoError needs to be parameterized with a paypload
[23:11:46] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:11:53] <mitsuhiko> Eridius: yeah, but it's coming back at every level
[23:12:02] *** Quits: Darnuria2 (yaaic@E3754E37.4BF21DF1.41DC420.IP) (Ping timeout)
[23:12:06] <dwrensha> I think we're just arguing about what type that payload should be
[23:12:07] <mitsuhiko> Eridius: also let's say it was parametized. how do you use .and_then() on a result?
[23:12:37] <Eridius> mitsuhiko: in this case? You wouldn't if the payloads are different types
[23:12:45] <Eridius> you'd have to, *gasp*, use `match`!
[23:12:47] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:13:07] <mitsuhiko> Eridius: which with nested calls can become very ugly
[23:13:17] <mitsuhiko> i like match, but … it's just not always appropriate
[23:13:26] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:13:26] <mitsuhiko> especially with io it gets weird very quickly
[23:13:44] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:13:45] <mitsuhiko> Eridius: this is not a theoretical problem
[23:13:49] <Eridius> mitsuhiko: sure, but this would only be a problem if you're mixing calls to differently-parameterized I/O objects
[23:14:06] <Eridius> if you're calling several methods on your SslSocket they'll presumably all be parameterized the same and .and_then() will work just fine
[23:14:33] <ecr> Eridius: looks like we had the same reaction here. I looked at IoError and was like "why isn't this parametrized?".
[23:14:47] *** Quits: mgottschlag (quassel@moz-9B59B9E0.cust.bluewin.ch) (Ping timeout)
[23:14:54] *** jorendorff is now known as jorendorff_away
[23:15:24] <mitsuhiko> ecr: primarily i suppose because it makes all functions interacting with io generic too
[23:16:23] <dwrensha> like, you would have Reader<T> and Writer<T>
[23:16:29] <ecr> actually a better idea is probably just have it be Result instead of IoResult, parametrize the IO traits of IoError and be done with it
[23:16:47] <ecr> if you want custom IO errors, then wrap IoError in your own enum and you're homefree
[23:16:53] <mitsuhiko> at which point you might be doing this for all results
[23:16:57] <mitsuhiko> and introduce an error trait :P
[23:17:07] <ecr> well not really
[23:17:11] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[23:17:12] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[23:17:14] <ecr> what would an error trait even mean?
[23:17:15] <ecr> it's just data
[23:17:31] <ecr> there's no operations to do on it
[23:17:32] <dwrensha> I think mitsuhiko want the error payload to be a trait object
[23:17:34] <ecr> that apply everywhere
[23:17:39] <mitsuhiko> an error trait would have enough reflection information that you can print it at the very least
[23:17:42] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[23:17:46] <mitsuhiko> what dwrensha said
[23:18:03] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[23:18:06] <ecr> that wouldn't require a trait
[23:18:11] <dwrensha> like, with a `what(&self) -> ~str` method
[23:18:18] <ecr> just a bound on the type variable for IO traits
[23:18:20] *** Quits: LightRaiser (Mibbit@moz-425ED268.speed.planet.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[23:18:27] <ecr> so it'd be Reader<T: ToStr> or whatever it's called now
[23:18:41] <mitsuhiko> ecr: yeah, just instead of ToStr it would be Error
[23:18:55] <mitsuhiko> stringly typed apis are the worst
[23:19:09] <ecr> that's not a stringly typed anything
[23:19:21] <ecr> it's just a type that has the ability to convert itself to a string
[23:19:22] <mitsuhiko> it's a "i have no idea what"
[23:19:25] <ecr> i.e. you can print it
[23:19:33] <ecr> which is exactly what you want Error to do
[23:19:37] <mitsuhiko> thank god it can convert into a string
[23:19:45] <mitsuhiko> i want an error to do more than just convert into a string
[23:19:48] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[23:19:51] <ecr> like what?
[23:19:55] <dwrensha> if you're going to actually parameterize Reader and Writer, there'd be no need for the payload to be a trait *object*
[23:20:08] <ecr> exactly
[23:20:13] <mitsuhiko> ecr: like getting debug information out of it if it supports it
[23:20:34] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[23:20:52] <ecr> i'm not clear what that would mean in code
[23:21:21] <mitsuhiko> the obvious onces are .error_type() .error_message() .lineno() .filename() etc.
[23:21:26] <mitsuhiko> obviously not all things would support that
[23:22:02] <mitsuhiko> but there are lots of define tricks in C codebases to get location information about failure
[23:22:25] <chromatic> That'd be nice for diagnostic information about test failures too.
[23:22:47] <ecr> I don't think that's really necessary
[23:22:51] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[23:22:59] <mitsuhiko> ecr: fact is, error handling in c is miles better than in rust right now
[23:23:02] <ecr> you can accomplish the same thing by matching on the error case and fail!()ing
[23:23:07] <SiegeLord> Say waht
[23:23:10] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[23:23:17] <ecr> that's crazy talk
[23:23:20] <mitsuhiko> well, miles is probably a bit strong
[23:23:21] <SiegeLord> Error handling in C is atrocious
[23:23:41] <mcpherrin> goto fail_out_3; amirite
[23:23:42] <SiegeLord> A global errno that you are free to ignore?
[23:23:54] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:23:57] <mitsuhiko> you can get the same as in c with returning options and out of bound error information in the task local data
[23:24:01] <SiegeLord> A return value that you can forget to check?
[23:24:01] <mcpherrin> SiegeLord: At least these days errno is thread local
[23:24:07] <ecr> and reliant on documentation for which error values are relevant
[23:24:11] <mitsuhiko> SiegeLord: sorry that was cheap to say
[23:24:20] <sfackler> mcpherrin: but not async-signal safe!
[23:24:22] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:24:29] <mitsuhiko> but if you want to get nice error handling in rust vs c, you have quite a few options in c that make sense in the greater sense of the language but none in rust
[23:24:40] <mitsuhiko> for instance, how do i automatically provide location information for errors i generate in rust?
[23:24:44] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[23:24:51] <sfackler> line!(), file!() column!()
[23:25:01] <ecr> or just fail!() at the site of the error
[23:25:11] <mitsuhiko> but a fail! is final
[23:25:16] *** Quits: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP) (Quit: WeeChat 0.4.4-dev)
[23:25:20] *** Joins: Earnestly (earnest@119EDA00.66A37A5.BFD1ABFD.IP)
[23:25:32] <mitsuhiko> there are lots of errors you want to respond to
[23:25:38] <ecr> sure, but as sfackler just said, you can use line!() file!() column!() etc
[23:25:43] <ecr> ok
[23:25:48] <ecr> match on the error
[23:25:48] <sfackler> return Err(MyErrorWhatever { line: line!(), file: file!(), info: ~"whatever", ... });
[23:25:51] <ecr> handle the ones you want
[23:25:56] <ecr> fail on the ones you don't
[23:26:19] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:26:27] <mitsuhiko> i'm just not clever enough to design failures for apis in rust
[23:26:37] <mitsuhiko> i know how to do it in c to not hate myself, but i have no clue about how to do it in rust
[23:26:41] <mitsuhiko> it basically boils down to this
[23:26:51] <mitsuhiko> and i think the current library is not sure how to do it either
[23:27:36] <ecr> admittedly it's pretty different from how you would handle errors in C or Java
[23:27:46] <ecr> and we could probably do a better job of explaining that to people
[23:27:48] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[23:28:10] <ecr> and I think the library is still reeling from the removal of conditions as far as error handling goes
[23:28:25] <ecr> but now I need to go to a seminar
[23:28:35] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[23:29:25] <mitsuhiko> sfackler: that means that my library will have different layout in debug/release if i want to store the info on the error
[23:29:37] <mitsuhiko> which fair enough, is an option i guess
[23:29:40] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[23:29:48] <mitsuhiko> i'm a bit sceptical if it's a good idea to store information in a task local
[23:29:56] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:30:01] <mitsuhiko> since data has a higher chance of travelling between tasks in rust than in c i would assume
[23:30:25] <sfackler> where do debug/release builds factor in?
[23:30:54] *** Joins: Darnuria (yaaic@31DFDD6A.33557D0C.41DC420.IP)
[23:31:07] <mitsuhiko> the assumption being that you don't want to store the debug info in a release build
[23:31:16] <mitsuhiko> thus the error has a different layout\
[23:31:20] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Ping timeout)
[23:31:30] <sfackler> I mean, the same would be true if you were doing it in C
[23:31:43] <mitsuhiko> well. in c i usually keep that information in a thread local
[23:31:51] <mitsuhiko> eg: if (!foo()) { get_error_info() }
[23:31:55] <Denommus> is it better to unshift or to chain iterators?
[23:32:19] *** Quits: reima (Instantbir@moz-84076E1A.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:32:34] <mitsuhiko> Denommus: what do you mean with unshift?
[23:33:45] <Denommus> mitsuhiko: http://static.rust-lang.org/doc/master/std/vec/trait.OwnedVector.html#tymethod.unshift
[23:33:46] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[23:33:59] <mitsuhiko> Denommus: unshift is O(n) i assume
[23:34:08] <sfackler> I mean, in either case, some behavior of the thing is changing if you're not storing line info in the release build
[23:34:09] <mitsuhiko> but not sure how that's related to chaining iterators :)
[23:34:23] <sfackler> I'm not totally sure what thread local storage has to do with it?
[23:34:47] <mitsuhiko> sfackler: "<mitsuhiko> i'm a bit sceptical if it's a good idea to store information in a task local; <mitsuhiko> since data has a higher chance of travelling between tasks in rust than in c i would assume"
[23:34:57] <Denommus> mitsuhiko: hm. Is there *any* way to have a O(1) prepend?
[23:35:04] <mitsuhiko> i don't need to recompile X because Y is now a debug build if the layout of the errors does not change
[23:35:11] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[23:35:11] <Denommus> or should I just call it quits and use append?
[23:35:18] <mitsuhiko> Denommus: on a vector? no
[23:35:25] <sfackler> mitsuhiko: right, but what does that have to do with thread locals?
[23:35:45] *** Quits: claudiu (claudiu@moz-F69B678E.thefacebook.com) (Input/output error)
[23:35:49] *** Joins: claudiu (claudiu@moz-F69B678E.thefacebook.com)
[23:35:49] <mitsuhiko> sfackler: sorry for my tone on this i guess :(
[23:35:54] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[23:36:07] <sfackler> np :)
[23:36:15] <mitsuhiko> it has to do with thread locals because the tools i use for this in c don't work in rust or would not be appropriate
[23:36:27] <mitsuhiko> in c i do: return sentinel value, if i need error info ask a thread local
[23:36:33] <mitsuhiko> what value is on the thread local depends on debug/release
[23:36:41] <mitsuhiko> the abi of the library does not change between debug/release
[23:36:56] <mitsuhiko> in rust a task local is probably not a good idea, because data has a higher chance of travelling between tasks
[23:37:20] <mitsuhiko> and holding the data on the error type means the layout of the error type changes between release and debug
[23:37:27] <mitsuhiko> that's at least my understanding of the situation
[23:37:38] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[23:37:38] <mitsuhiko> (this assumes that debug/release builds have different error information available)
[23:37:40] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[23:37:52] <sfackler> I guess I'm just unsure how the thread local helps. The API to access that will change between release and debug, right?
[23:37:58] <mitsuhiko> and in language likes c#/python etc. this does not matter much because of exceptions
[23:38:02] *** Joins: nszceta (hax@moz-E6CA8D6.hsd1.pa.comcast.net)
[23:38:11] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[23:38:11] <mitsuhiko> sfackler: yes. but error_info.filename is just NULL in release
[23:38:22] <sfackler> oh
[23:38:46] <Tekk_> relrod: at least your nick is
[23:39:19] <mitsuhiko> sfackler: error info can be huge. postgres's error context for instance has an excess of 20 debug hints
[23:39:30] <sfackler> you can do the same thing with the thing I mentioned above then. Just store Option<uint> and Option<&'static str> for the line and file, right?
[23:39:46] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[23:39:50] <sfackler> and then tweak the macro that generates the error struct to shove None in for release builds
[23:39:54] <mitsuhiko> but i still need pointer size for the option
[23:40:07] <sfackler> Option<&'static str> is the same size as a pointer
[23:40:15] <sfackler> None is a null pointer internally
[23:40:20] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[23:40:21] <mitsuhiko> sure. but it
[23:40:33] *** Quits: aklt (aklt@moz-E66E9BCB.u.parknet.dk) (Quit: Loop)
[23:40:33] <mitsuhiko> but it's not just filename. it's filename, lineno, func name, you name it
[23:40:51] <sfackler> you can construct a big string with all that at compile time if you want
[23:41:03] <sfackler> and then ahve a single Option<&'static str>
[23:41:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:41:17] <sfackler> or return a Option<~DebugInfo>
[23:41:31] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:41:42] <sfackler> which'll probably be a better idea than stringifying it all
[23:42:07] <mitsuhiko> sfackler: that's what i was proposing i think :)
[23:42:11] <mitsuhiko> just that it has an error trailt :D
[23:42:23] <mitsuhiko> so that the concept itself would not be too foreign
[23:42:50] <sfackler> sure
[23:42:51] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:43:10] *** Parts: Darnuria (yaaic@31DFDD6A.33557D0C.41DC420.IP) ()
[23:43:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:43:15] <mitsuhiko> at the moment i'm just playing around with how a nice rust library would look like and error handling is the area i am confused the most.
[23:43:28] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:43:32] <sfackler> tbh a super easy solution would be to add a ThirdPartyError(~Any) (or ThirdPartyError(~ErorrTrait)) to the IoErrorKind enum or whatever it is
[23:44:04] <mitsuhiko> just that you have the problem on every error
[23:44:32] <mitsuhiko> Err(io::ThirdPartyError(ssl::ThirdPartyError(whatever))
[23:45:57] <sfackler> it's not that bad imo. I'd also only be an issue for things implementing Reader or Writer, which I've found isn't a ton of stuff
[23:46:11] <sfackler> another option would be to just have a ThirdPartyError variant with nothing inside of it
[23:46:28] <mitsuhiko> java btw has the same problem
[23:46:35] <sfackler> and then have third party libraries implement ssl_read() or something that returns an application specific error type
[23:46:46] <mitsuhiko> it has checked exceptions so they way they are dealing with it is making SSLException a subclass of IOException
[23:46:51] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Quit: c-a)
[23:47:50] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[23:47:52] <Eridius> maybe IoError should just use a trait object and be done with it
[23:48:03] <sfackler> maybe
[23:48:04] *** Quits: eibwen (kvirc@moz-67BD5340.dip0.t-ipconnect.de) (Ping timeout)
[23:48:06] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:48:07] <mitsuhiko> and java's checked exceptions are often held as an example of being problematic with interfaces. the javax request handler for instance can bubble IOExceptions through but not SQLExceptions.  So people are forced to use reflection to reraise them as runtime errors or catch and print them internally
[23:48:10] <sfackler> I guess it depends on how common errors are expected to be
[23:49:55] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[23:50:21] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:50:22] <sfackler> it's probably fine to allocate on any IO error?
[23:50:27] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[23:51:02] <sfackler> The ThirdPartyError(~Any) is a way around that but then ghettoizes third party IO libaries a bit
[23:51:40] *** Quits: alkino_ (alkino@moz-2677AA92.w90-46.abo.wanadoo.fr) (Ping timeout)
[23:51:54] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[23:51:57] *** Quits: bluz (blaz@moz-3ECBAB41.dfri.se) (Input/output error)
[23:52:14] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[23:52:47] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[23:53:10] <mitsuhiko> i guess an allocation is fine
[23:53:15] <sfackler> I guess an allocation is probably faster than the old condition handler stuff anyways
[23:53:54] <mitsuhiko> also that's the error case anyways. so … :)
[23:54:04] <ChrisMorgan> sfackler: condition handling was very fast—just calling a stack allocated closure on task local storage.
[23:54:24] <mitsuhiko> ChrisMorgan: and finding the tls takes how long?
[23:54:28] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[23:54:37] <ChrisMorgan> It's trivially fast.
[23:55:01] <sfackler> I'd guess in the same range as a small malloc
[23:55:27] <sfackler> also the tls implementation involves a linear scan of all task locals iirc
[23:55:32] <ChrisMorgan> Anonymous enum types are also a feasible solution, e.g. `IoError + json::Error` as a type approximately equivalent to `enum { IoError(IoError), json::Error(json::Error) }`. I can see a way that they could be upcast to a larger type automatically to add new error cases.
[23:55:32] <sfackler> though maybe that's been fixed
[23:55:34] *** Joins: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net)
[23:56:07] <sfackler> I'm a bit concerned about parameterizing the error type of the Result though
[23:56:28] *** Joins: lpy (lpy@AEF55484.D19CEE75.952560D4.IP)
[23:56:51] <sfackler> especially since template specialization isn't a thing
[23:56:59] <Tekk_> hm. have there been any studies on how long rust takes to compile?
[23:57:10] <Tekk_> s/studies/benchmarks
[23:57:11] <mitsuhiko> Tekk_: too long :)
[23:57:17] <sfackler> Tekk_: http://huonw.github.io/isrustfastyet/buildbot/
[23:57:36] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:58:03] <ChrisMorgan> Tekk_: if that graph went back six months you'd observe drastic improvements.
[23:58:15] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:58:24] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:58:27] <Tekk_> I'm more interested in vs other languages, particularly
[23:58:33] <ChrisMorgan> http://huonw.github.io/isrustfastyet/mem/ is more interesting.
[23:58:35] *** Quits: lpy (lpy@AEF55484.D19CEE75.952560D4.IP) (Ping timeout)
[23:58:40] <Tekk_> mainly C++ :)
[23:58:43] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:59:06] <mitsuhiko> Tekk_: hard to compare because c++ compiles an object whereas rust compiles crates
[23:59:16] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:59:25] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:59:35] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[23:59:47] <SiegeLord> You'd need two similar, largish programs to compare
