[00:21:07] *** Quits: japaric (japaric@moz-hpu.6fl.64.181.IP) (Ping timeout: 121 seconds)
[00:58:45] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[01:04:32] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[01:11:38] *** kimundi is now known as zz_kimundi
[01:18:14] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[01:19:35] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[01:23:51] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[01:31:31] *** nrc|afk is now known as nrc
[01:31:44] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[01:45:04] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[01:49:20] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[01:53:55] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:15:15] *** Joins: japaric (japaric@moz-hpu.6fl.64.181.IP)
[02:19:05] *** Joins: insaneinside (user@moz-dgv9mb.customer.broadstripe.net)
[02:20:29] <insaneinside> What does `Unimplemented` mean in the trait-selection code -- "rustc doesn't implement this" or "the input code doesn't implement this"?
[02:23:59] <insaneinside> trying to figure out why rustc is ICEing during obligation resolution with `SelectionError::Unimplemented` instead of giving me a proper error message.
[02:25:07] *** Joins: brson (brson@moz-acp.7vl.56.172.IP)
[02:25:07] *** ChanServ sets mode: +qo brson brson
[02:25:16] <cmr> nmatsakis: still around? ^
[02:29:21] *** Quits: japaric (japaric@moz-hpu.6fl.64.181.IP) (Ping timeout: 121 seconds)
[02:29:23] *** insaneinside is now known as insaneinside-afk
[02:39:17] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[02:43:31] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[02:46:24] *** Joins: japaric (japaric@moz-hpu.6fl.64.181.IP)
[02:52:29] *** Joins: p1start (p1start@moz-nftjhe.org)
[02:53:25] *** Quits: p1start (p1start@moz-nftjhe.org) (Quit: leaving)
[03:06:30] <eddyb> nmatsakis: sheesh, no nits and merged the first try
[03:06:41] <eddyb> nmatsakis: I had to check if I woke up properly
[03:07:34] <eddyb> that said, I guess it paid off to keep make -k check -j16 running for a few hours for this
[03:08:53] <eddyb> it's still broken, though, there's a dependency issue in rpass-full, I believe, where libsyntax and librustc haven't been built yet. and then the simd-ffi or w/e rmake test messes up
[03:19:56] <insaneinside-afk> is there any sort of call graph for rustc anywhere?  Would really help me make sense of what's going on, and apparently `--pretty=flowgraph` doesn't actually exist...?
[03:20:37] *** insaneinside-afk is now known as insaneinside
[03:21:45] <cmr> insaneinside: there's -Z flowgraph-print-all
[03:22:38] <insaneinside> cmr: that's documented as "Include all dataflow analysis data in --pretty flowgraph output", but `--pretty flowgraph` doesn't work...
[03:23:45] <cmr> insaneinside: maybe you need -Z unstable-options? Sorry :( I guess this stuff has all moved around since I last used it
[03:24:33] <insaneinside> cmr: well, that enables --pretty, but "error: argument to `pretty` must be one of `normal`, `expanded`, `typed`, `identified`, or `expanded,identified`; got flowgraph"
[03:29:16] <eddyb> insaneinside: --xpretty
[03:33:24] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[03:37:40] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[03:39:21] *** Quits: zz_kimundi (kimundi@moz-ere.cfn.188.87.IP) (Ping timeout: 121 seconds)
[03:41:52] *** Joins: zz_kimundi (kimundi@moz-0cj.3hq.188.87.IP)
[03:41:58] *** zz_kimundi is now known as kimundi
[03:43:27] <insaneinside> eddyb: smh, the rustc driver really needs better integration with its option-parser.
[03:49:58] <insaneinside> ...or a note somewhere that "you may need `--verbose --help` to actually  all the options that are available."
[03:56:58] <insaneinside> okay, so `--pretty identified` gives me the same node ID everywhere; `--pretty expanded,identified` appears to work as intended.
[04:24:21] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[04:25:32] *** Quits: brson (brson@moz-acp.7vl.56.172.IP) (Quit: leaving)
[04:27:36] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[04:31:49] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[04:35:02] <huon> Additional help:
[04:35:02] <huon>     --help -v           Print the full set of options rustc accepts
[04:35:21] <huon> (what rustc --help shows for me :) )
[04:55:11] * insaneinside really needs a better attention span.
[05:05:58] <eddyb> japaric: my question was: does libcore need char and str?
[05:07:01] <eddyb> you'd think you could at least move them both to libunicode and handle some of the other stuff in libcore using byte strings
[05:07:12] <eddyb> japaric: though, core::fmt is there... how much does it rely on strings?
[05:07:15] <japaric> eddyb: ohh, I don't know if it *needs* them - but I guess libcore users do use them
[05:07:32] <cmr> the libcore users I know IRL certainly use them and are annoyed that so much functionality is in libunicode
[05:07:48] <eddyb> japaric: right. but libunicode does not have any FFI dependencies, does it?
[05:08:44] <japaric> eddyb: not that I know of
[05:08:54] <eddyb> cmr: can't they just also use libunicode?
[05:08:57] <japaric> cmr: can't they link to libunicode - binary size may be a problem
[05:09:07] <japaric> for zinc
[05:09:14] <eddyb> japaric: LTO?
[05:09:25] <eddyb> if you don't use any functions requiring the large tables
[05:09:53] <cmr> probably.
[05:10:26] <cmr> the usecase is handling utf16 in EFI
[05:10:45] <eddyb> hmm
[05:11:05] <eddyb> cmr: you know what we can do with const fn?
[05:11:25] <huon> I thought core had lots of the utf16 stuff?
[05:11:39] <eddyb> pluggable `char` literals
[05:11:52] <cmr> huon: not decoding a str as utf16
[05:12:01] <eddyb> though that's not amazing :/
[05:12:24] <huon> cmr: oh, so it doesn't
[05:12:25] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[05:12:31] <huon> cmr: I was under the wrong impression
[05:12:41] <cmr> me too, until they whined to me about it :p
[05:12:52] <eddyb> can we get u'x'?
[05:13:15] <eddyb> which is just an untyped literal with the unicode scalar value
[05:14:24] * eddyb is considering desugaring literals with a syntax extension
[05:21:43] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[05:24:51] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[05:26:01] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[05:52:58] *** Quits: japaric (japaric@moz-hpu.6fl.64.181.IP) (Quit: WeeChat 1.1.1)
[06:15:54] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[06:20:10] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[06:22:19] *** Joins: quantheory (quantheory@moz-m50t2f.44nj.jtvf.0001.2601.IP)
[06:24:44] <nrc> say I have a crates foo and bar
[06:24:52] <nrc> in bar I have `extern crate foo;`
[06:25:33] <nrc> when I use foo in bar, resolve ends up with  a Module for the implicit top-level module in foo
[06:26:21] <nrc> s/Module/TypeNsDef
[06:26:33] <nrc> but where does that come from for the crate?
[06:26:58] <nrc> looking at build_simplified_graph I just don't see anywhere where the TypeNsDef is created
[06:28:04] <nrc> hmm, handle_external_def, I guess
[06:28:12] * nrc printlns
[06:33:52] *** Joins: lfairy (lfairy@moz-4bn6d3.vf.net.nz)
[06:33:58] *** Parts: lfairy (lfairy@moz-4bn6d3.vf.net.nz) ()
[06:37:14] <nrc> nope
[06:51:36] *** Quits: bleibig (bleibig@moz-btk.gm4.170.73.IP) (Connection closed)
[06:52:15] *** Joins: bleibig (bleibig@moz-btk.gm4.170.73.IP)
[06:56:32] *** Joins: rprichard (rprichard@moz-9jq176.en8f.d045.0009.2601.IP)
[06:59:31] *** Joins: Sergio (Sergio@moz-23roph.bz)
[06:59:57] <eddyb> nmatsakis: gh23331 is the attribute thing I mentioned yesterday
[07:00:09] <eddyb> awww no link?
[07:00:14] <eddyb> https://github.com/rust-lang/rust/pull/23331
[07:01:07] <eddyb> quantheory: ^ that's one more refactor - should be easy to rebase on top of it, only Parser changes are affected and parsing associated consts should be really simple now (compare with associated types)
[07:02:02] <eddyb> "error: expected one of `<eof>`, "
[07:02:40] <eddyb> nmatsakis: uhm, should we print "end of file"? or not print an expected token::Eof at all?
[07:09:06] *** Quits: eddyb (eddyb@moz-mmq.pug.25.188.IP) (Ping timeout: 121 seconds)
[07:10:06] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[07:14:15] *** Quits: freebroccolo (sid51271@moz-ealde0.ealing.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: rprichard (rprichard@moz-9jq176.en8f.d045.0009.2601.IP) (*.net *.split)
[07:14:15] *** Quits: RalfJ (quassel@moz-5t4t9t.ralfj.de) (*.net *.split)
[07:14:15] *** Quits: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: Fenhl (sid30770@moz-oh0hem.charlton.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (*.net *.split)
[07:14:15] *** Quits: goffrie (uid69670@moz-1c9019.brockwell.irccloud.com) (*.net *.split)
[07:14:15] *** Quits: quantheory (quantheory@moz-m50t2f.44nj.jtvf.0001.2601.IP) (*.net *.split)
[07:14:38] *** Joins: rprichard (rprichard@moz-9jq176.en8f.d045.0009.2601.IP)
[07:14:38] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[07:14:38] *** Joins: Fenhl (sid30770@moz-oh0hem.charlton.irccloud.com)
[07:14:38] *** Joins: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com)
[07:14:38] *** Joins: goffrie (uid69670@moz-1c9019.brockwell.irccloud.com)
[07:14:38] *** Joins: freebroccolo (sid51271@moz-ealde0.ealing.irccloud.com)
[07:14:38] *** Joins: RalfJ (quassel@moz-5t4t9t.ralfj.de)
[07:14:38] *** Joins: quantheory (quantheory@moz-m50t2f.44nj.jtvf.0001.2601.IP)
[07:14:38] *** Joins: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com)
[07:14:38] *** bruford.mozilla.org sets mode: +qoo huon huon aturon
[07:14:57] *** Quits: nmatsakis (nmatsakis@moz-dkjr1g.scl3.mozilla.com) (A TLS packet with unexpected length was received.)
[07:14:59] *** Joins: nmatsakis (nmatsakis@moz-no0.93r.245.63.IP)
[07:14:59] *** ChanServ sets mode: +o nmatsakis
[07:15:30] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[07:20:03] *** Quits: quantheory (quantheory@moz-m50t2f.44nj.jtvf.0001.2601.IP) (Quit: Leaving)
[07:21:16] *** Parts: insaneinside (user@moz-dgv9mb.customer.broadstripe.net) ("g'night")
[07:21:23] *** Joins: eddyb (eddyb@moz-d42.j1b.166.109.IP)
[07:21:54] *** Joins: bombless (bombless@moz-h37.piv.41.59.IP)
[07:44:12] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[08:06:03] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[08:10:18] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[08:38:20] *** Joins: eddyb_ (eddyb@moz-d42.j1b.166.109.IP)
[08:58:51] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[09:00:13] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[09:04:27] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[09:24:54] *** Joins: laumann (thomas@moz-fso.hq0.225.130.IP)
[09:27:23] *** Quits: eddyb (eddyb@moz-d42.j1b.166.109.IP) (Connection closed)
[09:36:46] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:49:10] *** Quits: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[09:54:23] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[09:58:37] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[10:48:35] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[10:52:49] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[10:58:40] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[11:01:55] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[11:02:27] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[11:06:29] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[11:13:46] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[11:17:49] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[11:22:59] *** Quits: eddyb_ (eddyb@moz-d42.j1b.166.109.IP) (Ping timeout: 121 seconds)
[11:23:45] * simukis clears his IRC backscroll for a ‚Äúnew page in life‚Äù.
[11:26:02] <doener> those who cannot scroll back to the past are condemned to repeat it
[11:27:25] <simukis> be sure to fill the backscroll with thoughtful ideas again üòâ
[11:29:15] <huon> botbot.me is perma-backscroll
[11:29:55] <huon> you'll never escape!!
[11:42:42] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[11:46:58] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[12:34:23] *** Joins: eddyb_ (eddyb@moz-mmq.pug.25.188.IP)
[12:36:54] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[12:41:07] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[12:53:28] <eddyb_> nmatsakis: I completely forgot about this, have you even seen it? http://internals.rust-lang.org/t/potential-solution-for-types-that-shouldnt-be-moved-like-staticmutex/1663
[12:53:36] <eddyb_> (apologies if I've linked it a dozen times already)
[13:03:06] *** Joins: joel2 (joel@moz-6ampnk.gtri.gatech.edu)
[13:31:03] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[13:35:19] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[13:38:11] *** Quits: bombless (bombless@moz-h37.piv.41.59.IP) (Quit: Leaving)
[13:48:34] *** Joins: japaric (japaric@moz-hpu.6fl.64.181.IP)
[14:25:13] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[14:29:27] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[14:41:00] *** Joins: eddyb__ (eddyb@moz-q10.6n6.26.188.IP)
[14:41:47] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (Ping timeout: 121 seconds)
[14:43:54] *** Quits: eddyb_ (eddyb@moz-mmq.pug.25.188.IP) (Ping timeout: 121 seconds)
[14:46:42] *** Quits: japaric (japaric@moz-hpu.6fl.64.181.IP) (Ping timeout: 121 seconds)
[14:51:05] *** eddyb__ is now known as eddyb
[14:54:39] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[15:06:43] *** Joins: japaric (japaric@moz-hpu.6fl.64.181.IP)
[15:16:36] *** Joins: arielb1 (Ariel@moz-qfu7pm.red.bezeqint.net)
[15:19:23] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[15:20:38] *** Manishearth is now known as spaghetti
[15:21:48] *** spaghetti is now known as Manishearth
[15:23:39] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[15:36:55] *** Joins: edwardw (edwardw@moz-a01.vab.16.199.IP)
[15:52:20] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[15:52:39] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[15:56:41] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[15:59:01] *** Quits: edwardw (edwardw@moz-a01.vab.16.199.IP) (Quit: Leaving...)
[16:02:15] *** Joins: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com)
[16:08:11] *** Joins: bombless (bombless@moz-j4c9lr.0v2u.0v40.0da8.2001.IP)
[16:13:34] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[16:17:48] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[16:28:01] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[16:33:00] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[16:33:42] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[16:38:33] <kimundi> ping @ anyone who knows about trait resolution (or rather, the code that for something like foo.bar() checks whether foo has the method bar())
[16:38:51] <kimundi> I'm wondering how feasible a error help message like this would be: https://gist.github.com/Kimundi/973284dc542b61e4571e
[16:39:12] <kimundi> (Everything starting from line 4)
[16:40:17] <simukis> kimundi: that‚Äôs not `NOTE` but `HELP` material
[16:40:23] <simukis> nitpicking
[16:40:26] <kimundi> True
[16:40:35] <kimundi> But, well doesn't change the question :)
[16:41:49] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[16:46:30] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:46:30] *** ChanServ sets mode: +qo brson brson
[16:47:52] *** Joins: sigma (sigma@moz-a5u.m43.48.37.IP)
[16:54:03] *** Joins: edwardw (edwardw@moz-vvv.4aq.34.174.IP)
[17:02:31] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[17:06:33] *** Joins: edwardw_ (edwardw@moz-kpn.qvl.235.64.IP)
[17:10:00] *** Quits: edwardw (edwardw@moz-vvv.4aq.34.174.IP) (Ping timeout: 121 seconds)
[17:25:10] *** japaric is now known as japaric|afk
[17:31:18] *** Quits: laumann (thomas@moz-fso.hq0.225.130.IP) (Ping timeout: 121 seconds)
[17:37:38] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[17:41:53] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[17:42:41] *** Quits: japaric|afk (japaric@moz-hpu.6fl.64.181.IP) (Ping timeout: 121 seconds)
[17:47:52] *** Joins: insaneinside (user@moz-dgv9mb.customer.broadstripe.net)
[17:54:28] <insaneinside> I'm trying to track down the cause of an ICE ("Encountered error `Unimplemented` selecting `Binder(...)` during trans"), and looking for some guidance on how to proceed.
[17:54:56] <insaneinside> First step is a reduced test case, correct?
[18:02:11] <brson> insaneinside: almost always, yes
[18:02:55] <brson> insaneinside: then you'll want to get the backtrace, and might want to start tweaking RUST_LOG to log what trans is doing
[18:03:20] <brson> getting debug logging to work now requires a special rebuild, somebody else knows how to do it
[18:04:08] <insaneinside> brson: it takes over two hours to do a full build on my workstation -- any chance there's a debug build somewhere that I can download?
[18:04:33] <brson> insaneinside: i'm afraid not. that is an unfortunately long build
[18:20:09] <insaneinside> Well, from the backtrace I know that the error is being thrown from `trans::common::fulfill_obligation`, which receives the `Unimplemented` from `middle::traits::select`.
[18:21:26] <insaneinside> My main goal here is to determine why rustc is ICEing instead of throwing a proper error, and (if possible) fix it so other people don't have to deal with it.
[18:23:41] <insaneinside> ...waiiiit, I don't even *see* a control path in `middle::traits::select` that returns an `Err`.
[18:24:17] <insaneinside> (sorry, `middle::traits::SelectionContext::select`)
[18:25:31] * insaneinside had ignored the `try!`. Nvm.
[18:31:19] <eddyb> insaneinside: see middle/traits/select.rs
[18:31:47] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[18:36:04] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[18:54:40] <insaneinside> What would a debug-enabled build get me?  RUST_LOG=debug currently just shows trans::common cache activity immediately prior to the ICE.
[19:00:42] *** Joins: nrc|afk (nrc|afk@moz-4bhi2i.xtra.co.nz)
[19:04:22] *** Joins: sigma1 (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[19:06:49] *** Quits: sigma (sigma@moz-a5u.m43.48.37.IP) (Ping timeout: 121 seconds)
[19:14:34] *** Joins: japaric|afk (japaric@moz-hpu.6fl.64.181.IP)
[19:25:57] *** Quits: edwardw_ (edwardw@moz-kpn.qvl.235.64.IP) (Quit: Leaving...)
[19:25:58] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[19:28:08] *** Quits: japaric|afk (japaric@moz-hpu.6fl.64.181.IP) (Connection closed)
[19:29:05] *** Joins: japaric|afk (japaric@moz-pud.upl.232.190.IP)
[19:32:19] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[19:38:33] <simukis> insaneinside: 1. you almost never need a full build
[19:39:07] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:39:29] <simukis> 2. I believe rustc-nightly has debug symbols just as good as rustc you build yourself. (doesn‚Äôt work if only reproducible in stable, in which case the bug might not matter either, anymore)
[19:40:20] <simukis> as for 1, `make rustc-stage1` and `make check-stage1` is *almost* always what you want to use.
[19:59:45] <insaneinside> simukis: is there a way to recompile only libs that i've modified?  It looks like `make rustc-stage1` still recompiles... everything.
[20:00:22] <simukis> insaneinside: well, rustc is pretty inter-dependent
[20:00:46] <simukis> if you‚Äôre modifying rustc_ crates, it should only rebuild rustc and then stage1 stdlib, though.
[20:01:02] <insaneinside> hrm... jemalloc depends on something in select.rs?
[20:02:32] <simukis> jemalloc should not rebuild. must be make things here.
[20:03:37] <simukis> usually jemalloc and llvm, once build, shouldn‚Äôt get rebuilt until the next time a pull from master updates these dependencies
[20:09:04] *** Quits: joel2 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[20:12:42] *** Quits: japaric|afk (japaric@moz-pud.upl.232.190.IP) (Ping timeout: 121 seconds)
[20:17:54] <eddyb> simukis: that's not true
[20:18:05] <eddyb> simukis: a lot of things can trigger configure to be ran again
[20:18:34] <simukis> well, yeah. I‚Äôm about the common case of modifying some `.rs` file in some `rustc_*` crate.
[20:18:52] <eddyb> only if you have compiled it before the change
[20:19:08] <eddyb> with no git operations in between :P
[20:19:22] <simukis> yeah, git messes everything up, most of the time.
[20:19:56] <insaneinside> I *have* found that a part of the build system depends on Make's builtin defaults to provide a `-fPIC` flag somewhere.
[20:21:51] <insaneinside> Is this intentional?
[20:22:55] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[20:23:33] *** Joins: mihneadb (mihneadb@moz-fj0scp.5o5r.k6qi.2f0b.2a02.IP)
[20:27:09] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[20:48:24] *** Quits: sigma1 (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[20:57:54] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[21:04:49] *** Joins: japaric (japaric@moz-pud.upl.232.190.IP)
[21:09:39] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[21:14:06] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[21:27:26] *** Quits: mihneadb (mihneadb@moz-fj0scp.5o5r.k6qi.2f0b.2a02.IP) (Quit: Leaving)
[21:53:20] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:56:58] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:57:19] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:59:51] *** Joins: reem_ (reem@moz-o59qsl.coob.q2h1.0009.2601.IP)
[21:59:56] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[22:02:17] <doener> hm, I should improve the handling for single element structs parameters
[22:04:05] <doener> casting a "struct S<'a>(&'a mut i8)" to i64 for purposes of passing it as a parameters isn't optimal, should ignore the struct and pass as &mut i8 instead, including the usual noalias attribute
[22:18:09] *** reem_ is now known as reem
[22:26:58] <eddyb> doener: that's what I was pondering a while back
[22:27:08] <eddyb> doener: can you add a "newtype" repr case?
[22:27:59] *** Joins: mihneadb (mihneadb@moz-fj0scp.5o5r.k6qi.2f0b.2a02.IP)
[22:28:05] <eddyb> doener: that would make Rc<T> a single pointer
[22:32:24] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[22:33:59] <doener> eddyb: hm, I meant to do that for argument passing only. What advantage would it have to do it in general?
[22:36:04] <eddyb> doener: LLVM types are not cheap
[22:36:21] <eddyb> well, they almost are, but not as cheap as not creating them in the first place
[22:36:34] <eddyb> doener: and... GEPi
[22:36:47] <eddyb> FCAs
[22:37:09] <eddyb> doener: { T* } is just not as easy to optimize as T*
[22:37:24] <eddyb> (because it's part of the general aggregate case)
[22:37:55] <eddyb> doener: also, this is required for DST
[22:38:18] <eddyb> or at least, it's one of the easiest ways to implement DST coercions
[22:42:55] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[22:44:04] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Connection closed)
[22:52:28] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[23:51:00] *** Quits: Yurume (Yurume@moz-0t8.piq.68.115.IP) (Ping timeout: 121 seconds)
[23:51:03] <kimundi> I'm wondering how feasible implementing a error help message like this would be: (starting line 4) https://gist.github.com/Kimundi/973284dc542b61e4571e
[23:51:15] *** Quits: klutzy (not@moz-0t8.piq.68.115.IP) (Ping timeout: 121 seconds)
[23:55:40] <insaneinside> kimundi: that would be super-helpful to users.  may i suggest tweak to the wording?
[23:57:13] <kimundi> pff, you can pick the wording however you want, whether the compiler can actually produce such output would be the interesting question :)
[23:59:58] <insaneinside> so right now i'm unemployed.  I'm thinking some overhaul of rustc's diagnostics system would be a fun project for me, but ... really need to upgrade my workstation for that, which means i'd need a job... heh.
