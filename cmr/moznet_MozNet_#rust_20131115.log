[00:01:00] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
[00:01:43] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Ping timeout)
[00:02:58] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[00:03:48] <mark_edward> hey since `!` is bitwise not in Rust, what does the `~` operator do?
[00:04:27] <mimcpher> mark_edward: That's the unique pointer sigil
[00:04:29] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[00:04:43] * mark_edward facepalm
[00:05:01] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[00:05:23] <mimcpher> let a = ~5u; mallocs a box, puts 5 in it, and a points to it
[00:07:32] <mark_edward> mimcpher: no, i know it was just a moment of idoicy... i've used plenty of ~T, i just was thinking in the context of arith operators and went blank
[00:08:32] *** Quits: nejucomo (Adium@moz-F2940C39.hsd1.ca.comcast.net) (Ping timeout)
[00:08:39] *** Joins: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net)
[00:09:01] <mimcpher> mark_edward: Okay :-)
[00:09:29] <mimcpher> Sometimes, especially in here, it's unclear what level people's questions are at (and pointers/references in rust are often a rough spot)
[00:10:38] <mark_edward> mimcpher: i'm no rust master, but i just finished getting bzip2 decompression working in pure rust, so i'd say i'm comfortable in it
[00:10:44] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:10:50] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Ping timeout)
[00:12:22] *** Joins: tjc (tjc@moz-F1FD92BA.static-ip.telepacific.net)
[00:12:22] *** ChanServ sets mode: +o tjc
[00:14:27] *** Quits: obi_wan (Mibbit@moz-942BA8A.ga.at.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:14:49] *** Joins: nejucomo (Adium@moz-F2940C39.hsd1.ca.comcast.net)
[00:15:22] <tikue> haha mark_edward++, that's happened to me as well
[00:15:31] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[00:15:41] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[00:18:26] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[00:18:58] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[00:19:17] *** Quits: kellogh (timkellogg@moz-602CE33D.midco.net) (Quit: kellogh)
[00:20:28] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[00:21:01] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[00:21:18] *** jorendorff is now known as jorendorff_away
[00:21:58] *** Quits: XgF (quassel@moz-C1F31E58.members.linode.com) (Ping timeout)
[00:22:38] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[00:23:16] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[00:25:58] *** Quits: canhtak (canhtak@moz-24D0A1FD.wl.t.ulaval.ca) (Connection reset by peer)
[00:28:50] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[00:29:45] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Connection reset by peer)
[00:30:04] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[00:30:06] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:32:16] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[00:32:33] *** Joins: jgilbert (jgilbert@moz-B37E0934.npg.sta.suddenlink.net)
[00:35:10] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[00:35:12] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[00:35:12] *** ChanServ sets mode: +ao brson brson
[00:35:24] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Ping timeout)
[00:37:55] *** Joins: jdm (jdm@5AB4884B.FCC4549.14D5B978.IP)
[00:37:56] *** ChanServ sets mode: +o jdm
[00:39:10] *** Quits: jordyd (jordyd@moz-DE919F94.seg52.ucf.edu) (Ping timeout)
[00:39:22] *** Joins: canhtak (canhtak@moz-24D0A1FD.wl.t.ulaval.ca)
[00:39:24] *** Joins: dherman (dherman@5AB4884B.FCC4549.14D5B978.IP)
[00:39:24] *** ChanServ sets mode: +ao dherman dherman
[00:41:10] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:41:34] *** jorendorff_away is now known as jorendorff
[00:41:40] *** Quits: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[00:42:33] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[00:46:41] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[00:47:32] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[00:47:44] <mark_edward> what's the current signature for the `drop` method
[00:48:57] <brson> fn drop(&mut self)
[00:50:31] <aatch> brson, really? When did it change?
[00:50:33] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[00:51:31] <sfackler> a while ago
[00:52:15] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[00:53:15] <sfackler> I wish it was fn drop(self), but apparently there are some significant difficulties implementing support for that
[00:53:45] *** Quits: pnathan1 (Adium@B9840254.2CD8A5F8.477B877D.IP) (Client exited)
[00:55:35] *** Joins: pcwalton (pcwalton@5AB4884B.FCC4549.14D5B978.IP)
[00:55:36] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:56:52] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:01:46] <aatch> I thought it changed to drop(self)? Did that happen and then unhappen?
[01:03:07] <sfackler> I don't think it ever happened. It used to be drop(&self) though
[01:03:53] *** Joins: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net)
[01:08:12] *** Joins: ecr (chatzilla@E940BDD3.FBC7597F.11F8506F.IP)
[01:09:08] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[01:09:15] <strcat> aatch: I changed it to &mut self when I was thinking about alias analysis
[01:09:28] <strcat> because it was the cause of most of the "incorrect" transmutes
[01:09:38] <pcwalton> aatch: there were issues with drop(self)
[01:09:38] <strcat> there are still a lot left though
[01:09:46] <pcwalton> namely that if you implement it naively then you get infinite drop loops :)
[01:09:57] <pcwalton> because drop will drop self
[01:10:01] <pcwalton> and then call drop to drop self
[01:10:03] <pcwalton> ad infinitum
[01:10:12] <ecr> pcwalton: well who *really* wants to free memory anyway
[01:10:14] <strcat> if you grep for transmute_mut or just transmute you'll find a lot of & -> &mut
[01:10:19] <aatch> fair enough.
[01:10:40] <pcwalton> we couldn't come up with any way of implementing it not-naively that didn't involve really dirty hacks
[01:11:06] <pcwalton> so &mut was considered a worse-is-better solution
[01:11:14] <strcat> you can do it with unsafe code anyway (read_ptr)
[01:11:15] *** Quits: jgilbert (jgilbert@moz-B37E0934.npg.sta.suddenlink.net) (Ping timeout)
[01:11:22] <pcwalton> or, I guess, &mut self is a more principled solution
[01:11:31] <pcwalton> "if we can't do it right let's not do hacks"
[01:11:43] <strcat> I think a lot of dtors will always be unsafe code anyway
[01:11:46] <pcwalton> yup
[01:11:53] <aatch> Makes sense. I just remember that &self was an issue, changing to &mut self isn't a big deal
[01:11:55] <pcwalton> Servo's dtors are unsafe as all heck :)
[01:12:11] *** Joins: jordyd (jordyd@moz-5D3C60E7.seg102.ucf.edu)
[01:12:30] <aatch> Almost all the destructors I've seen are for managing external resources. Normally from some C api
[01:12:52] <pcwalton> there will be more once we get rid of the with_ref() pattern in Rc<> and whatnot
[01:12:57] <pcwalton> but those are unsafe anyway
[01:13:33] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[01:17:54] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[01:18:04] *** Quits: nejucomo (Adium@moz-F2940C39.hsd1.ca.comcast.net) (Quit: Leaving.)
[01:18:25] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:24:00] *** Joins: azita (Azita@5AB4884B.FCC4549.14D5B978.IP)
[01:24:34] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[01:24:35] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[01:25:38] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[01:28:01] *** Quits: ecr (chatzilla@E940BDD3.FBC7597F.11F8506F.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131025151332])
[01:35:05] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[01:35:24] *** Joins: Sgeo (quassel@moz-D0F30617.dyn.optonline.net)
[01:35:46] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[01:36:45] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[01:36:58] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[01:38:07] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[01:39:12] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[01:40:30] *** Joins: silotis (quassel@moz-4B8C4631.oc.oc.cox.net)
[01:43:21] *** Joins: Liigo (Mibbit@moz-6ED7F847.gae.googleusercontent.com)
[01:43:25] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[01:43:50] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:45:41] *** jorendorff is now known as jorendorff_away
[01:46:25] *** Joins: z0w0 (zack@moz-EC26A2C.qwl9.woo.bigpond.net.au)
[01:48:25] *** Quits: Liigo (Mibbit@moz-6ED7F847.gae.googleusercontent.com) (Quit: http://www.mibbit.com ajax IRC Client)
[01:49:32] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[01:49:32] *** ChanServ sets mode: +ao brson brson
[01:50:31] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:51:32] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[01:53:52] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[01:55:35] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[01:56:58] *** Quits: XgF (quassel@moz-86690AAD.london1.uk.e43.eu) (Ping timeout)
[01:57:34] *** Parts: jeffdb (jeffbelg@moz-ABCAA64B.efi.com) ()
[01:57:40] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[01:58:04] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:58:35] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:59:32] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:00:20] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:02:05] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:03:00] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[02:03:01] *** Joins: GeneralMaximus (ankur@2DE09DF.B5ACBD0B.BE90E62C.IP)
[02:06:33] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[02:06:42] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[02:09:25] *** Quits: lmandel1 (uid15702@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[02:09:35] *** Quits: GeneralMaximus (ankur@2DE09DF.B5ACBD0B.BE90E62C.IP) (Quit: Computer has gone to sleep.)
[02:11:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:12:34] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[02:12:52] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[02:13:16] *** Joins: closures999 (closures99@18CC473F.AFC0A1D6.8F599DB6.IP)
[02:13:44] *** Quits: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP) (Ping timeout)
[02:13:59] *** Joins: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP)
[02:14:37] *** Joins: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net)
[02:17:10] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:17:15] *** Quits: jordyd (jordyd@moz-5D3C60E7.seg102.ucf.edu) (Input/output error)
[02:17:58] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[02:17:58] *** ChanServ sets mode: +ao brson brson
[02:22:02] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[02:22:06] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[02:22:06] *** ChanServ sets mode: +ao brson brson
[02:28:26] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:28:26] *** Quits: boredomist (ruqs@8186917.CC8FA3EE.E3401B6E.IP) (Ping timeout)
[02:30:05] *** Quits: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[02:30:12] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[02:30:48] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[02:30:57] *** Quits: tjc (tjc@moz-F1FD92BA.static-ip.telepacific.net) (Quit: zzzzzzzzzz)
[02:31:11] *** Joins: Jesin (Jesin@moz-63C897DA.res.lehigh.edu)
[02:31:51] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[02:32:02] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[02:33:20] *** Quits: azita (Azita@5AB4884B.FCC4549.14D5B978.IP) (Quit: azita)
[02:33:23] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[02:35:03] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[02:38:38] *** Quits: dherman (dherman@5AB4884B.FCC4549.14D5B978.IP) (Quit: dherman)
[02:38:41] *** Quits: jdm (jdm@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[02:38:43] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[02:40:33] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[02:44:25] *** Joins: azita (Azita@5AB4884B.FCC4549.14D5B978.IP)
[02:49:02] *** Joins: dherman (dherman@5AB4884B.FCC4549.14D5B978.IP)
[02:49:02] *** ChanServ sets mode: +ao dherman dherman
[02:51:56] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[02:57:56] *** Joins: erickt (Adium@8C9ECD8F.3A598286.F12515B4.IP)
[02:58:51] *** Quits: erickt (Adium@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[02:59:28] *** Quits: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[02:59:53] *** Joins: erickt (Adium@8C9ECD8F.3A598286.F12515B4.IP)
[03:00:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:01:49] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[03:03:19] *** Quits: azita (Azita@5AB4884B.FCC4549.14D5B978.IP) (Quit: azita)
[03:03:22] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:06:00] <Luqman> mimcpher: is your gumstix armhf?
[03:07:06] *** Joins: azita (Azita@5AB4884B.FCC4549.14D5B978.IP)
[03:07:10] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:07:43] * ChrisMorgan wonders if armhf will run on an armel OS with a kernel of unknown status on armhf hardware
[03:08:25] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[03:09:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:11:12] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:15:28] *** Quits: erickt (Adium@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[03:20:40] *** Quits: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:20:47] <wycats_> If anyone's wondering, I made a lot of progress today
[03:20:51] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:21:07] <wycats_> Heading into most of the rest of my task being repetitive of what I've already done
[03:21:35] <Luqman> wycats_: what're you working on?
[03:22:09] <wycats_> Luqman: posting a small part of a larger ruby library to rust
[03:22:17] <wycats_> (The part that manages protobufs)
[03:23:16] *** Quits: azita (Azita@5AB4884B.FCC4549.14D5B978.IP) (Quit: azita)
[03:23:41] *** Joins: azita (Azita@5AB4884B.FCC4549.14D5B978.IP)
[03:23:42] <Luqman> wycats_: ah cool. i recently needed to read write protobuf style varints
[03:24:06] <wycats_> I'm using a rust protobuf library that already exists
[03:24:13] <wycats_> So it's mostly been about C interop
[03:24:19] *** Parts: z0w0 (zack@moz-EC26A2C.qwl9.woo.bigpond.net.au) ()
[03:26:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:27:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:27:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:27:51] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[03:28:31] *** Joins: erickt (Adium@8C9ECD8F.3A598286.F12515B4.IP)
[03:29:39] *** Joins: santiago (santiago@moz-9F3F6099.west.biz.rr.com)
[03:32:00] *** Quits: erickt (Adium@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[03:33:10] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[03:34:55] *** Joins: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net)
[03:38:42] *** Quits: zz_kimundi (kimundi@moz-3CF1A7E.dip0.t-ipconnect.de) (Ping timeout)
[03:38:54] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[03:41:38] *** Quits: nkoep (nik@moz-A08F77D3.pool.mediaways.net) (Client exited)
[03:41:58] *** Joins: zz_kimundi (kimundi@moz-31504FA9.dip0.t-ipconnect.de)
[03:42:12] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[03:42:23] *** zz_kimundi is now known as kimundi
[03:43:51] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[03:44:26] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[03:44:30] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[03:45:33] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Ping timeout)
[03:45:47] *** Quits: HansiHE (HansiHE@moz-7DF634EA.com) (Ping timeout)
[03:47:07] <ChrisMorgan> I'm getting an index out of bounds error but the failure point is marked as the start of the root module. I can see why that might be the case (efficiency, don't want to compile line numbers and file names in for every time there is indexing), but is that really the best thing to show?
[03:47:50] <strcat> if you want a stack trace from a failure you can use a debugger
[03:48:39] *** Quits: azita (Azita@5AB4884B.FCC4549.14D5B978.IP) (Quit: azita)
[03:49:19] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[03:50:34] <ChrisMorgan> Yes, that's what I proceeded to do. (Couldn't remember rust_begin_unwind, but I had heard `catch throw` works in GDB and it's easier to remember. It does work.)
[03:50:57] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[03:51:14] *** Quits: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net) (Quit: Leaving)
[03:53:41] *** Joins: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net)
[03:53:43] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[03:56:11] *** Joins: HansiHE (HansiHE@moz-7DF634EA.com)
[03:56:20] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[03:59:58] <mimcpher> Luqman: I think so?
[04:00:16] <mimcpher> Luqman: I'll boot it up and find out
[04:01:49] <mimcpher> Luqman: it's an A8 for sure, aren't they all hf?
[04:06:29] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:10:34] *** Joins: brson (brson@5AB4884B.FCC4549.14D5B978.IP)
[04:10:34] *** ChanServ sets mode: +ao brson brson
[04:10:37] *** Joins: azita (Azita@5AB4884B.FCC4549.14D5B978.IP)
[04:11:27] *** Joins: jdm (jdm@5AB4884B.FCC4549.14D5B978.IP)
[04:11:27] *** ChanServ sets mode: +o jdm
[04:11:37] *** Quits: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net) (Ping timeout)
[04:12:02] *** Quits: azita (Azita@5AB4884B.FCC4549.14D5B978.IP) (Quit: azita)
[04:12:44] *** Joins: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net)
[04:12:56] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[04:13:57] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[04:14:21] *** Quits: GregorR (Gregor@moz-D9651910.so) (Ping timeout)
[04:16:27] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[04:17:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:18:08] *** Joins: GregorR (Gregor@moz-D9651910.so)
[04:18:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:18:41] <ChrisMorgan> mimcpher: the OS may or may not be hf, though.
[04:18:50] *** Quits: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP) (Ping timeout)
[04:19:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:19:46] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[04:20:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:20:14] *** Quits: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[04:20:30] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[04:21:04] *** Joins: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP)
[04:22:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:22:48] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[04:23:10] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[04:24:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:24:28] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:24:28] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:24:58] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:25:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:25:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:25:30] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:25:32] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:25:40] *** Joins: mib_d56bjj (Mibbit@6AEFB7D6.6C943DA4.49B25F74.IP)
[04:25:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:25:53] <strcat> rusti: 2
[04:25:55] -rusti- 2
[04:26:01] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:26:40] <mib_d56bjj> Does Rust support intersection type?
[04:27:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:29:19] <cmr> mib_d56bjj: no
[04:29:49] <strcat> does 'fn foo<T: Foo + Bar>(x: T) {}' count?
[04:29:49] <cmr> Well...
[04:29:50] * strcat shrugs
[04:29:57] <cmr> Yeah, was just about to say that
[04:30:01] *** Quits: brson (brson@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:30:41] <strcat> but no, I don't really think you could say it does, unless you count type class bounds and type class inheritance
[04:31:22] <mib_d56bjj> not yet
[04:31:46] *** Joins: axitkhurana (Adium@63F3AA56.9CFBD76D.30E7AE68.IP)
[04:31:48] <Yurume> strcat, well, if we have &Foo+Bar then we can claim that Rust supports an intersection type, but no.
[04:31:49] <strcat> I want to update rusti ;\
[04:32:08] <strcat> Yurume: trait Bar: Foo + Bar {} fn foo(x: &Bar) {} ?
[04:32:13] <strcat> no sugar for it though
[04:32:27] <strcat> but it's the same as a &(Foo + Bar) sugar would be
[04:32:32] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[04:32:52] <Yurume> strcat, wait, would that work without any impls?
[04:32:59] <strcat> Yurume: no, you need a generic impl too
[04:33:26] <strcat> Yurume: trait Baz: Foo + Bar {} impl<T: Foo + Bar> Baz for T {} fn foo(x: &Baz) {} ?
[04:33:29] <Yurume> impl<T:Foo+Bar> FooBar for T {}, maybe.
[04:33:30] <strcat> you could make a macro for that
[04:33:51] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[04:34:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:34:17] <mib_d56bjj> And support union type or not?
[04:34:23] <cmr> Hm, why doesn't `trait Baz: Foo + Bar` consider all Foo+Bar types Baz?
[04:34:28] <cmr> mib_d56bjj: yes, enums
[04:34:36] <strcat> cmr: because traits aren't implicitly implemented
[04:34:44] <strcat> trait inheritance adds requirements, it doesn't lessen them
[04:34:53] <cmr> Ah right, duh
[04:35:19] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:35:21] <strcat> rusti: 2
[04:35:23] <mib_d56bjj> ok thanks
[04:35:26] -rusti- timeout triggered!
[04:35:29] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:35:39] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:36:57] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[04:37:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:38:02] * ChrisMorgan *really* wants anonymous sum types like `Foo | Bar` as equivalent to `enum _ { Foo(Foo), Bar(Bar) }`
[04:39:31] *** Quits: santiago (santiago@moz-9F3F6099.west.biz.rr.com) (Quit: Computer has gone to sleep.)
[04:39:43] <aatch> It would be nice if there was a way to make something like a trait typedef, so you could have a trait that exists only to be a combination of traits, like `typedef Stream = Reader+Writer` or something
[04:40:23] <ChrisMorgan> aatch: what's lacking in `trait Stream: Reader + Writer { } impl<T: Reader + Writer> Stream for T { }`?
[04:40:44] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[04:40:50] <aatch> ChrisMorgan, my lack of thought?
[04:40:56] <aatch> :P
[04:41:22] * aatch should go home now
[04:41:23] <ChrisMorgan> Well, that's how it's implemented (though for quite a long time it wasn't implemented at all—I just got fed up with Stream not being implemented completely and so finally fixed it).
[04:42:00] <Yurume> type Stream = Reader + Writer; might be a good syntactic sugar if we need them occasionally
[04:42:07] <aatch> ChrisMorgan, I was be self-deprecating. I completely forgot that that was a thing you can do.
[04:42:33] <ChrisMorgan> It's not perfectly elegant, but it *is* perfectly functional. Anonymous sum types, however, only get a low-quality workaround :-(
[04:42:58] <aatch> Yurume, yeah, but I thought (for some reason) that every type would still need an `impl Stream for x`
[04:43:05] *** Joins: santiago (santiago@moz-9F3F6099.west.biz.rr.com)
[04:43:31] *** Joins: azita (Azita@5AB4884B.FCC4549.14D5B978.IP)
[04:44:45] <mimcpher> ChrisMorgan: Well I don't have an OS, so bam problem averted
[04:45:02] <mimcpher> (it's running bare-metal code)
[04:45:39] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[04:45:42] *** Quits: mib_d56bjj (Mibbit@6AEFB7D6.6C943DA4.49B25F74.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:45:53] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[04:46:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:46:10] <mimcpher> I'll make sure to install debian armhf
[04:46:12] <mimcpher> :)
[04:46:34] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:46:38] *** Joins: kellogh (timkellogg@moz-DE68AEBC.midco.net)
[04:47:37] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[04:48:19] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:48:27] *** Quits: dherman (dherman@5AB4884B.FCC4549.14D5B978.IP) (Quit: dherman)
[04:48:33] *** Quits: azita (Azita@5AB4884B.FCC4549.14D5B978.IP) (Quit: azita)
[04:52:44] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:55:05] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[04:57:28] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[04:58:31] *** Quits: pcwalton (pcwalton@5AB4884B.FCC4549.14D5B978.IP) (Quit: pcwalton)
[04:59:37] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[05:02:54] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[05:03:06] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[05:03:28] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[05:05:01] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:07:11] *** Quits: jdm (jdm@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[05:09:35] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[05:10:57] *** Quits: kellogh (timkellogg@moz-DE68AEBC.midco.net) (Quit: kellogh)
[05:13:20] *** Joins: kellogh (timkellogg@moz-DE68AEBC.midco.net)
[05:13:28] *** Quits: santiago (santiago@moz-9F3F6099.west.biz.rr.com) (Quit: Computer has gone to sleep.)
[05:14:22] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[05:18:40] *** Quits: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[05:19:32] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[05:20:18] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:21:21] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[05:24:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:24:08] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[05:24:23] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:24:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:24:54] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[05:25:41] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[05:26:14] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Ping timeout)
[05:29:04] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[05:29:24] <ChrisMorgan> Hmm, looks like someone forgot to update the num_lit grammar with the octal change :-(
[05:29:32] *** Quits: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net) (Connection reset by peer)
[05:30:03] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[05:30:40] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[05:32:24] *** Joins: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net)
[05:33:05] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[05:34:35] <ChrisMorgan> Did you know that "0" is not a valid num_lit?
[05:35:47] <strcat> hm?
[05:36:12] <ChrisMorgan> Check the grammar in the reference manual!
[05:38:28] *** Quits: kellogh (timkellogg@moz-DE68AEBC.midco.net) (Quit: kellogh)
[05:38:29] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Connection reset by peer)
[05:38:36] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[05:39:02] * ChrisMorgan is fixing up the faulty Rust parser for ohcount at https://github.com/blackducksw/ohcount/pull/26
[05:39:14] *** Quits: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[05:40:37] *** Quits: lkuper (lkuper@3A916FC1.14CD977C.51B6877.IP) (Quit: lkuper)
[05:41:23] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Ping timeout)
[05:43:00] *** Quits: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP) (Ping timeout)
[05:43:20] *** Joins: pcwalton (pcwalton@9C2E78E6.8C982E60.292610BC.IP)
[05:43:21] *** ChanServ sets mode: +ao pcwalton pcwalton
[05:43:27] *** Joins: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP)
[05:43:30] <ChrisMorgan> And the grammar doesn't cope with r#"raw strings with hashes"#, either. :-(
[05:43:40] <ChrisMorgan> Sorry, my mistake. It does.
[05:43:57] <ChrisMorgan> (Though it doesn't define raw_string_body...)
[05:45:02] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[05:45:03] *** Joins: mib (Mibbit@2AC87E23.CE077636.A652F14A.IP)
[05:45:37] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[05:46:44] *** Joins: flabbergaster (Mibbit@4327EC4.B77F1D58.FAED9FFC.IP)
[05:46:51] *** Quits: flabbergaster (Mibbit@4327EC4.B77F1D58.FAED9FFC.IP) (User has been banned from Mozilla (no spamming here))
[05:47:41] <eddyb> strcat: meant to ask you.... why do you always push a commit two to five times (to rust-core)?
[05:48:17] *** Joins: dherman (dherman@9C2E78E6.8C982E60.292610BC.IP)
[05:48:17] *** ChanServ sets mode: +ao dherman dherman
[05:48:27] <strcat> eddyb: because I'm too lazy to use a dev branch if I don't think anyone else is using it ;p
[05:48:45] * strcat will take that as an indication he should start
[05:49:11] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[05:49:44] <eddyb> strcat: so what, you always make mistakes :P?
[05:49:54] <eddyb> use git gui to proofread everything :/
[05:50:33] <strcat> I was just sneaking more into it ;p
[05:50:42] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[05:51:14] <strcat> LLVM is totally broken with the floating point rounding mode, heh
[05:51:17] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[05:51:28] <strcat> it reorders the floating point rounding mode call
[05:51:37] <strcat> and does const folding with no respect for it ;\
[05:51:56] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[05:52:39] <cmr> heh
[05:53:06] <cmr> Does it have something like __volatile__ on asm?
[05:53:25] <strcat> well it will still const fold
[05:53:39] <strcat> and reorder
[05:53:48] <strcat> cmr: the issue is that it doesn't think floating point ops depend on global state
[05:55:36] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[05:56:17] <eddyb9> strcat: it shouldn't... in a way
[05:56:34] <cmr> eddyb9: in what way?
[05:56:37] <cmr> it has since x87
[05:56:43] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[05:56:55] <eddyb9> strcat: maybe if you could specify the clobbering of control word (for x87)
[05:57:17] <strcat> x87 is obsolete anyway, it is a C99/IEEE754 math feature
[05:57:26] <strcat> it's supported anywhere with sane float support
[05:57:53] *** Parts: mib (Mibbit@2AC87E23.CE077636.A652F14A.IP) ()
[05:57:54] <strcat> http://en.cppreference.com/w/c/numeric/fenv
[05:57:54] <eddyb9> hmpf - what register does it change, then?
[05:58:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:58:05] <strcat> it doesn't care about floating point exceptions either
[05:58:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:58:46] <cmr> Floating point, like strings, is hard and should just be forbidden ;p
[05:58:49] <strcat> eddyb9: dunno, but x87 isn't used anymore - SSE provides the float support (rounding mode, floating point exception)
[05:59:00] <strcat> LLVM defaults to SSE math on x86_64
[05:59:06] <eddyb9> ... but what does fenv do?
[05:59:13] *** Joins: brson (brson@9C2E78E6.8C982E60.292610BC.IP)
[05:59:13] *** ChanServ sets mode: +ao brson brson
[05:59:16] <cmr> (my point was that floating point state has been around forever, not anything specific about x87)
[05:59:40] <strcat> eddyb9: rint(5.5)
[05:59:59] <strcat> depends on the floating point env
[06:00:06] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:00:07] <eddyb9> but specifying an inline asm clobber for the affected control register might work - or it can be implemented in LLVM
[06:00:15] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[06:00:24] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[06:00:43] <strcat> eddyb9: LLVM doesn't care about an effect like that at IR level
[06:00:54] <eddyb9> it cares about clobbers
[06:01:00] <strcat> no
[06:01:23] <strcat> it cares about whether a function is readonly/readnone
[06:01:25] *** Quits: sigma (sigma@moz-39E40618.range86-143.btcentralplus.com) (Ping timeout)
[06:01:50] <strcat> it doesn't consider floating point operations to depend on global state
[06:01:54] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[06:02:00] <eddyb9> otherwise you couldn't do inline asm and not have local variables overlap with the registers you're using
[06:02:03] <strcat> it doesn't care if a non-readonly/readnone function is called
[06:02:19] <strcat> eddyb9: it doesn't consider x / y with floats to depend on any global state
[06:02:21] <eddyb9> strcat: ahh, you mean the effect doesn't bubble up through the fenv function?
[06:02:40] <cmr> eddyb9: this is about optimizations far before native codegen
[06:02:40] <strcat> eddyb9: it's not an effect LLVM knows about
[06:02:55] <eddyb9> cmr: hmm, okay
[06:02:58] <strcat> you can call a function that's non-readnone/readonly and LLVM will assume it reads/writes from any global memory
[06:03:05] <strcat> but it does *not* consider float ops to depend on global memory
[06:03:06] <strcat> so it won't care
[06:03:29] <eddyb9> so fenv is broken with clang :)?
[06:03:45] <strcat> yes
[06:03:56] <strcat> it doesn't support floating point exceptions, rounding mode or signalling NaN
[06:04:19] <strcat> they can probably still say it's c99 compliant because the C standards make everything optional or implementation defined
[06:04:33] <strcat> but it doesn't offer IEEE754 float arithmetic
[06:04:38] <strcat> at this point
[06:06:01] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[06:06:10] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[06:06:16] *** Quits: brson (brson@9C2E78E6.8C982E60.292610BC.IP) (Quit: leaving)
[06:06:30] <eddyb9> maybe it can implement fenv as an intrinsic and have a new floating-point-state-change effect
[06:07:25] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[06:07:41] <ChrisMorgan> I'm wondering what needs to be done to make the Rust parser for ohcount cope with nested block comments now, but I'm coming across unfamiliar Ragel syntax. Anyone know what :>> means?
[06:07:45] <eddyb9> (making fenv work shouldn't affect code not using fenv, and as long as the mode change is known at compile time, it should still be able to optimize code after a fenv call)
[06:07:57] *** Quits: pcwalton (pcwalton@9C2E78E6.8C982E60.292610BC.IP) (Quit: pcwalton)
[06:09:21] *** Joins: sigma (sigma@moz-23724D77.range86-160.btcentralplus.com)
[06:09:48] *** Quits: eddyb9 (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[06:10:09] *** Joins: eddyb9 (eddy@F1F46667.9A7C5F59.4A6B528C.IP)
[06:10:34] <ChrisMorgan> Finally found it in their user manual; :>> is finish-guarded concatenation.
[06:10:41] *** Quits: eddyb9 (eddy@F1F46667.9A7C5F59.4A6B528C.IP) (Quit: Leaving)
[06:11:51] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[06:12:14] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[06:12:15] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[06:13:38] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[06:13:39] *** Quits: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP) (Ping timeout)
[06:14:06] *** Joins: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP)
[06:15:22] *** Quits: dherman (dherman@9C2E78E6.8C982E60.292610BC.IP) (Quit: dherman)
[06:16:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:16:40] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:16:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:18:03] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[06:19:08] *** Quits: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP) (Ping timeout)
[06:19:32] *** Joins: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP)
[06:21:14] <ChrisMorgan> Bah, I can't even build ohcount any more... it worked when I last built three years ago!
[06:22:25] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[06:22:30] <strcat> ChrisMorgan: yeah they let it break
[06:22:41] <strcat> and they don't appear to be developing it in public anymore ;\
[06:23:13] <ChrisMorgan> It's never been a very active project.
[06:24:36] <cmr> one sed gone wrong can ruin your whole night
[06:24:49] <ChrisMorgan> Actually, I *can* build ohcount, it's only failing in the test phase where it tries making Ruby bindings. bin/ohcount *has* been created and works.
[06:24:52] <cmr> PSA: git can't help you if you don't help it help you
[06:25:29] <ChrisMorgan> rust-http: over 5,000 lines, 20% comments :-)
[06:25:48] <Ralith> 22:27:29 < cmr> one sed gone wrong can ruin your whole night
[06:25:54] <Ralith> version control, people
[06:26:01] <cmr> Ralith: thus my second line :P
[06:26:29] * cmr needs to take up strcat's habit of git commit --amend instead of just writing thefile
[06:26:57] <strcat> cmr: vim-fugitive! ;p
[06:27:16] <cmr> strcat: I have it but never use it! What do I need to do to make it more useful?
[06:27:20] <ChrisMorgan> Take up hg instead, it'll help you a lot more than git...
[06:28:59] <ChrisMorgan> You can even still use `hg commit --amend` until you push to a public repository, whereafter it will stop you breaking history!
[06:29:17] <ChrisMorgan> rust/src: 1891278 lines in total
[06:29:26] <cmr> ChrisMorgan: Does it have something like git-reflog to revert to any previously amended state?
[06:29:50] <ChrisMorgan> cmr: it saves a bundle of the previous state which can be easily unbundled again
[06:30:09] <Ralith> ChrisMorgan: why, that sounds like a subset of git functionality!
[06:30:11] <Ralith> :P
[06:30:37] <cmr> ChrisMorgan: cool. if it weren't for my deeply-ingrained use of git, I might go for it!
[06:30:57] <ChrisMorgan> Hg cares deeply about safety. Git doesn't. (Rust does!)
[06:31:22] <Ralith> your point would be more compelling if you described functionality that wasn't identical
[06:31:38] <Ralith> just a word of advice
[06:31:54] <cmr> All the projects I contribute to use git, so it's a bit of a non-starter to use something else (ignoring hg-git)
[06:32:05] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:32:12] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[06:33:03] <ChrisMorgan> Ralith: git will allow you to destroy history. It will encourage you to do things that achieve that goal. Hg won't let you destroy history except absolutely deliberately, though it will allow a certain amount of destruction on things that haven't been pushed to a public repository. Isn't that a feature?
[06:33:56] <Ralith> it sounds like maybe you haven't used git very much
[06:34:14] <Eridius> ChrisMorgan: you sound horribly misinformed on git
[06:34:49] <Eridius> git makes it extremely _hard_ to destroy history. What it allows you to do is move branch pointers, which is something that Mercurial, in its infinite condescension, decides nobody needs to do
[06:34:58] <ChrisMorgan> Well, maybe "encourage" is a little too strong a word to use there. But it makes it easy to do it uninformedly, so people tell you to do those things.
[06:35:23] <ChrisMorgan> Retrieving history that has been destroyed is made to be beyond the ken of the normal git user, though.
[06:35:34] *** Quits: nfroidure (nfroidure@moz-A747E642.w90-18.abo.wanadoo.fr) (Ping timeout)
[06:35:35] <Eridius> yes, `git reflog` is so complicated
[06:35:43] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[06:36:22] <Eridius> Hg assumes the user is an idiot who's only ever used svg. Git assumes the user is a developer who wants a powerful tool to get the job done
[06:36:28] <cmr> svg, heh
[06:36:32] <Eridius> ..svn
[06:36:33] <ChrisMorgan> Git's CLI is absolutely awful. If you could think of three ways of doing something, Git will do it all three of those ways—and another couple you didn't think of.
[06:36:36] <Ralith> large, dramatic warnings and the requirement of explicit overrides don't exactly make history destruction easy, either
[06:37:22] <Eridius> http://thkoch2001.github.io/whygitisbetter/#hg
[06:37:39] * ChrisMorgan rather likes http://stevelosh.com/blog/2013/04/git-koans/
[06:37:50] <Ralith> your point would also be more compelling if you could stick to it, instead of changing it when confronted with its absurdity :P
[06:38:28] <ChrisMorgan> Oh no, I'm just mentioning a few of the reasons I don't much like git—though I prefer it to svn and cvs (not sure about svg :P)
[06:38:57] <cmr> someone should make a git store for svg, that when rendered is a visual historyof the repo
[06:39:08] <cmr> if just for the reddit karma
[06:39:38] <ChrisMorgan> Eridius: whygitisbetterthanx is wildly out of date (5 years!) and was even misinformed on a few points when it was published.
[06:39:46] <Eridius> it's still cute
[06:39:59] <Eridius> btw, those git koans (which I've seen before, but it's been a while), while cleverly constructed, are also pretty stupid
[06:40:25] <Ralith> yes, and we're just mentioning that your reasons are incoherent :P
[06:40:35] *** Joins: Shudorshon (Fedora@moz-2936DEB9.banglalionwimax.com)
[06:40:41] <Shudorshon> hi
[06:40:48] <Shudorshon> anyone help me with thunderbird issue
[06:41:07] <ChrisMorgan> Shudorshon: this channel is for the Rust programming language; try #thunderbird
[06:41:26] <Shudorshon> ChrisMorgan no one is talking in that channel
[06:41:33] <Shudorshon> they seem sleeping opening up a channel
[06:41:45] <Eridius> Shudorshon: and you think wandering into another unrelated channel is likely to help you find answers?
[06:41:46] <ChrisMorgan> Shudorshon: that's no reason to come in here. Thunderbird is completely off-topic.
[06:41:52] <Shudorshon> ChrisMorgan if u r an email expert then i can pm u , and u can help me with my problem
[06:42:18] <Eridius> Shudorshon: if the closest pizza place to your house is closed, can I knock on your door and order a pizza?
[06:42:20] <ChrisMorgan> Shudorshon: we cannot, and will not, help you in here for Thunderbird.
[06:42:48] <Shudorshon> Eridius ohh no u can order pizza
[06:42:57] <Shudorshon> but i still can make u a pizza if u really need it
[06:42:57] <Shudorshon> :D
[06:43:10] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[06:43:11] <Shudorshon> ok jk
[06:44:28] <cmr> Nothing like breaking every single ..foo in libsyntax :\
[06:44:58] <ChrisMorgan> Anyway, changing the subject entirely: languages with more than 1000 lines in rust/src: 979695 cpp, 333245 rust, 273287 assembler, 65189 autoconf, 86367 c, 92005 python, 18722 xml, 16518 shell, 9280 ocaml, 6262 cmake, 4854 make, 1741 emacslisp, 1193 css.
[06:44:59] *** Joins: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[06:45:21] <cmr> 333k lines of rust? That sems like a *lot*
[06:45:30] <cmr> Also where is there still ocaml :|
[06:45:35] <Eridius> cmr: what are you doing?
[06:45:38] *** Parts: Shudorshon (Fedora@moz-2936DEB9.banglalionwimax.com) ()
[06:45:46] <ChrisMorgan> Take src/llvm out of the mix and it's rust 333245, c 73288, python 80043, xml 18101, cpp 9214, emacslisp 1446, shell 1002.
[06:46:00] <Yurume> python 80043???
[06:46:03] <Eridius> what's all that python?
[06:46:05] <Yurume> wait, what?
[06:46:10] <cmr> gyp, probably?
[06:46:17] <ChrisMorgan> Yeah, I didn't remove it.
[06:46:21] <cmr> Eridius: refactoring diagnostics. was a sed gone bad
[06:46:21] <Yurume> ha, libuv, okay.
[06:46:48] <Eridius> gyp is 39241 lines of python, according to `find . -name *.py -exec wc -l '{}' +`
[06:47:01] <Eridius> llvm has python
[06:47:09] <Eridius> libuv has python... in build/gyp. wtf
[06:47:21] <Eridius> we have two copies of gyp...
[06:47:34] <ChrisMorgan> I should be ignoring libuv in the reckoning also?
[06:47:35] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[06:47:36] <Eridius> (fwiw I'm looking at a 10-day old checkout but it can't be that much different)
[06:47:45] <Eridius> ChrisMorgan: I say ignore all external projects. llvm, gyp, libuv
[06:47:50] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Ping timeout)
[06:47:50] *** Quits: lkey (chatzilla@25653362.1DD2AC9D.49CEED6B.IP) (Ping timeout)
[06:48:00] *** Quits: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu) (Ping timeout)
[06:48:00] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[06:48:00] *** Quits: oldmanstan (glesica@moz-CA910636.net) (Ping timeout)
[06:48:00] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[06:48:04] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[06:48:10] <Eridius> which is the same thing as saying ignore submodules
[06:48:12] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Ping timeout)
[06:48:12] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[06:48:12] *** Quits: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP) (Ping timeout)
[06:48:12] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[06:48:12] *** Quits: rossm (rossm@moz-EE3BB1DC.br.br.cox.net) (Ping timeout)
[06:48:15] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[06:48:16] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[06:48:16] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[06:48:16] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[06:48:17] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[06:48:17] *** Joins: oldmanstan (glesica@moz-CA910636.net)
[06:48:19] *** Joins: rossm (rossm@moz-EE3BB1DC.br.br.cox.net)
[06:48:20] *** Joins: lkey (chatzilla@25653362.1DD2AC9D.49CEED6B.IP)
[06:48:21] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[06:48:22] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[06:48:25] *** Quits: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net) (Ping timeout)
[06:48:25] *** maxiepoo_ is now known as maxiepoo
[06:48:25] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:48:26] *** Joins: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP)
[06:48:28] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[06:48:29] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[06:48:32] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Ping timeout)
[06:48:32] *** Quits: dignan (dignan@37A38C73.9CE91D06.839F6EC0.IP) (Ping timeout)
[06:48:32] *** Quits: qrada (ad@1FF1D5D4.3F1C4048.973C8D27.IP) (Ping timeout)
[06:48:33] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[06:48:34] *** Joins: dignan (dignan@37A38C73.9CE91D06.839F6EC0.IP)
[06:48:35] *** vfetwnuncszu is now known as dcrewi
[06:48:36] *** Joins: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu)
[06:48:36] *** ChanServ sets mode: +o acrichto
[06:48:39] *** Joins: maxiepoo_ (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[06:48:47] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[06:48:54] <ChrisMorgan> That takes it to: rust 333245, c 10714, cpp 4768, python 1597
[06:49:03] <Yurume> Eridius, I think only directory containing Python code is src/etc.
[06:49:05] *** Joins: qrada (ad@1FF1D5D4.3F1C4048.973C8D27.IP)
[06:49:12] <cmr> we also have sundown and other stuff in src/rt
[06:49:32] <ChrisMorgan> Yurume: correct
[06:49:37] <Yurume> (judging from grep . -name '*.py' | grep -v gyp)
[06:50:05] <cmr> That's a lot more rust than I expected
[06:50:15] <ChrisMorgan> Yeah, more than I expected too.
[06:50:17] <cmr> I thought our codebase was only ~20k loc
[06:50:28] <Yurume> libstd is a huge beast
[06:50:40] <ChrisMorgan> 77,000 in libstd, 88,000 in librustc
[06:50:47] <cmr> wow
[06:50:53] <cmr> where are all those lines living!
[06:50:58] <cmr> clearly in places I've never looked
[06:51:00] *** Joins: nfroidure (nfroidure@moz-C862FE50.w90-34.abo.wanadoo.fr)
[06:52:19] <Eridius> ChrisMorgan: I wonder what that falls to if you filter out comments
[06:52:28] <Yurume> that's after filtering
[06:52:28] <ChrisMorgan> About 20% lower
[06:52:29] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[06:52:45] <ChrisMorgan> libstd is 20% comments, librustc is only about 15% comments.
[06:52:46] <Eridius> Yurume: can't be. I ran wc -l on my libstd and came up with 77k, without filtering
[06:53:06] <Yurume> what? I have also ran wc -l and it gives 155154.
[06:53:09] <ChrisMorgan> My numbers have been total, not code.
[06:53:14] <Eridius> Yurume: on libstd?
[06:53:18] <Yurume> ye.
[06:53:19] <Yurume> yes.
[06:53:57] <Eridius> Yurume: what are you running? `wc -l **.rs` gives me 77577
[06:54:39] <Yurume> a-ha, sorry, I doubled the number..
[06:55:17] <Yurume> (what I have run was: find libstd -name '*.rs' | xargs wc -l | awk 'BEGIN{a=0}{a+=$1}END{print a}')
[06:55:30] <Yurume> I forgot that wc -l gives the total at the last line
[06:55:37] <Eridius> hah!
[06:55:44] *** Joins: eddyb9 (eddy@F1F46667.9A7C5F59.4A6B528C.IP)
[06:55:45] <Eridius> I was wondering how you could accidentally double it
[06:56:46] <Yurume> anyway wc -l gives: extra 31k, rustc 88k, rustdoc 5k, rustpkg 8k, rustuv 5k, std 77.5k, syntax 28k.
[06:56:57] <Yurume> (the latest master)
[06:57:02] <ChrisMorgan> libstd is unusually well commented at 19.6%; the rest of lib* are 10-15%, with the 90,409 lines of src/test/ boosting the figure significantly at 37% comments to maintain a total average of 21.7%, presumably solely because of its silly per-file legal notices.
[06:57:24] <eddyb9> what if &fn(A, B, C) -> R becomes sugar for &Fn<R, A, B, C>?
[06:57:40] <ChrisMorgan> eddyb: |A, B, C| -> R
[06:57:46] <eddyb9> could a virtual call be inlined if the impl is known?
[06:58:01] <cmr> eddyb9: not right now, no
[06:58:08] <cmr> we don't do any devirtualization
[06:58:10] *** Quits: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP) (Ping timeout)
[06:58:11] <strcat> all closures are boxed right now
[06:58:21] <strcat> cmr: devirtualization isn't a realistic optimization to do
[06:58:34] *** Joins: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP)
[06:58:35] <strcat> rust just plain doesn't do frontend optimizations and devirtualization is notoriously hard to do
[06:58:41] <strcat> it's past what LLVM can manage in most cases
[06:58:53] <strcat> the solution is to not use runtime dispatch
[06:58:58] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[06:59:10] <eddyb9> but if the cast to the trait was automatic...
[06:59:23] <eddyb9> I guess LLVM handles inling, nvm
[07:00:04] <strcat> if the function taking the closure parameter isn't generic and is above the inlining threshold, it will be virtual
[07:00:15] <strcat> (as in generic on the closure parameter)
[07:00:38] <strcat> and rust doesn't have unboxed closures like that
[07:00:56] <strcat> if the function is inlined, LLVM will still have a hard time devirtualizing in many cases
[07:00:58] <eddyb9> I'm thinking of this because you have to do fn foobar<F: Fn<R, A, B, C>>(f: F) now...
[07:01:20] <eddyb9> well, not now
[07:01:37] <eddyb9> but after the fn reform, with a variadic Fn trait
[07:01:49] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[07:01:58] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[07:01:59] <Yurume> servo has some 34k lines of code, plus its numerous dependencies
[07:02:12] <eddyb9> counting sheep?
[07:02:48] <cmr> Yurume: what about after codegen?
[07:02:56] <cmr> (it does a lot of code generation)
[07:03:03] <eddyb9> strcat: what's generated for let x = 1u; let y = &x as &Any;?
[07:03:18] <strcat> you don't want to use Any if you care about performance
[07:03:22] <cmr> eddyb9: eldritch horrors
[07:03:33] <strcat> trait objects generate pretty awful code already
[07:03:52] <Yurume> I haven't tried, and I don't want to build rust (again) for Servo
[07:04:06] <eddyb9> I'm thinking it's (&Any<for int>::vtable, &x)
[07:04:29] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Connection reset by peer)
[07:04:30] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[07:04:30] <strcat> eddyb9: and what do you mean by vtable?
[07:04:37] <strcat> it puts runtime type information behind that ptr too
[07:04:46] <eddyb9> maaaaybe I have no clue about this
[07:04:58] <strcat> size, alignment, take glue, drop glue, free glue, visit glue, name
[07:05:05] <eddyb9> strcat: is the trait info structure pointer constant?
[07:05:13] <eddyb9> is the data itself constant?
[07:05:15] <strcat> per-crate I guess
[07:05:22] <strcat> eddyb9: well, LLVM might not know it is
[07:05:27] <strcat> but it is
[07:06:20] <Yurume> so internally &Any is a bit different from other &Trait?
[07:06:51] *** Joins: Jackneill (Jackneill@moz-B693025F.pool.digikabel.hu)
[07:07:03] <eddyb9> I'd like to see if I can get this optimization to work. marking constant structures as such should be useful
[07:07:34] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:07:37] <strcat> Yurume: no
[07:07:41] <strcat> Yurume: all traits have runtime type info
[07:07:51] <strcat> trait objects*
[07:07:53] <cmr> eddyb9: for assert!(y.is::<uint>()), it does inline and etc. main becomes `ret void`
[07:08:13] <cmr> (with -O of course)
[07:08:15] <eddyb9> cmr: thanks :D
[07:08:32] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[07:08:41] <strcat> cmr: in real programs devirtualization doesn't happen because of aliasing
[07:08:47] <Yurume> strcat, ah just like std::typeinfo in C++, so it's a vtable without any methods then?
[07:08:50] <cmr> right, this is a supertrivial example
[07:09:05] <strcat> Yurume: Any has methods
[07:09:22] * strcat isn't sure what you mean
[07:09:38] <eddyb9> any &Trait is typeinfo+vtable
[07:09:57] <eddyb9> at least Rust doesn't need a library for RTTI :D
[07:10:02] <Yurume> strcat, I think eddyb9 meant &Any works like other &Trait and you seemed to refute that
[07:10:17] <strcat> Yurume: it doesn't have a different layout
[07:10:18] *** Quits: japaric (japaric@C9DBF810.55B992BD.5C7588CA.IP) (Ping timeout)
[07:10:23] <strcat> I was just telling him that traits have runtime type information
[07:10:30] <eddyb9> Yurume: I wasn't sure of the layout
[07:10:46] <Yurume> hmm, okay.
[07:10:47] <eddyb9> only that it had a vtable
[07:11:34] *** Joins: ak31 (ak31@moz-5C189D89.red.bezeqint.net)
[07:11:43] *** Joins: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP)
[07:12:10] <strcat> I think there are 3 levels of pointer derefs to call the method
[07:12:29] <pytess> Hi.I would like to report a bug.https://github.com/mozilla/rust/issues/10499#issuecomment-28550682
[07:12:52] <strcat> pytess: you're running out of memory
[07:13:15] <pytess> I dont know what causes.it.internal compiler error.so failed to install .ok.how much memmory is needed?
[07:13:15] <eddyb9> strcat: ouch. is the vtable not part of the same trait typeinfo structure?
[07:13:30] <eddyb9> at least 1.5GB, I think
[07:13:40] <Yurume> 2GB to be sure, 1.5GB may be okay.
[07:13:41] <eddyb9> that's what I've heard it peaks at
[07:13:48] <cmr> eddyb9: 3G, for the fork
[07:13:54] <strcat> cmr: of virtual memory.
[07:13:58] <cmr> right
[07:14:00] <pytess> Mem:          1878        895        983          0          8        414
[07:14:02] <pytess> -/+ buffers/cache:        472       1406
[07:14:03] <pytess> Swap:         1983        434       1549
[07:14:10] <pytess> this what i get on free -m
[07:14:27] <Yurume> 983M free is not enough definitely
[07:14:34] <strcat> that's 1406 free
[07:14:42] <Yurume> wait, yeah, you are true
[07:14:51] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[07:14:54] <Yurume> but I think you are marginal
[07:15:32] <pytess> yea.ok:(.is that so.ok
[07:15:33] <strcat> anyway it's not enough because it will *use* 1.5GiB of memory but *require* a lot more if you don't have full overcommit on
[07:16:30] <pytess> ok.any solutions>I like to contribute to rust.
[07:17:04] <cmr> add more memory, close all open applications (browsers especially), turn on overcommit
[07:17:27] *** Quits: Jackneill (Jackneill@moz-B693025F.pool.digikabel.hu) (Ping timeout)
[07:17:54] <pytess> can u plz explain what is overcommit
[07:18:02] <strcat> sysctl vm.overcommit_memory=1
[07:18:04] <strcat> will likely make it happy
[07:18:13] <strcat> if we used posix_spawn it would also be happy
[07:19:19] <pytess> ok.what does this function do?
[07:20:28] <eddyb9> strcat: is the vtable not part of the same trait typeinfo structure?
[07:21:36] <strcat> eddyb9: it's possibly just an array of pointers with the first one containing the type descriptor
[07:21:40] <strcat> not entirely sure
[07:21:47] <strcat> you can check trans/meth.rs
[07:22:42] <eddyb9> ah, from "methods"
[07:23:17] <strcat> best case is that you do deref to get the table, offset to the method and call that
[07:23:19] <eddyb9> strcat: there better not be Breaking Bad spoilers in there!
[07:23:44] *** Quits: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP) (Ping timeout)
[07:23:55] <eddyb9> yeah, that's what I'd do
[07:24:00] <strcat> the ending of breaking bad is revealed in a season 2 episode ;p
[07:24:59] *** Joins: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP)
[07:25:02] <eddyb9> that reminds me I have to resume watching it. I stopped because it was getting hard to deal with all the twists and surprises
[07:25:18] *** Joins: Jackneill (Jackneill@moz-7EDCBF0A.pool.digikabel.hu)
[07:25:18] <eddyb9> but I have to finish Dexter first
[07:26:06] <eddyb9> and (preferably) implement VBE support in rustic and variadic generics in rust
[07:26:35] <eddyb9> Luqman: did you express intent to implement my variadic proposal?
[07:26:44] *** Quits: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[07:26:48] <cmr> eddyb9: you're going to need to bringup a solid proposal at one of the meetings first.
[07:26:50] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[07:27:16] *** Joins: mankaev (Mibbit@moz-D1465452.torservers.net)
[07:27:24] <eddyb9> cmr: I have to solidify my proposal, then. and I'm not sure how the meetings work
[07:27:41] *** Quits: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[07:27:49] *** Quits: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131028112446])
[07:29:41] <cmr> eddyb9: the core devs meet every tuesday to discuss progress and proposals
[07:30:03] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Client exited)
[07:30:16] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[07:30:58] <eddyb9> cmr: I could start by adding the tuple extensions (expanding a tuple in anything that is a list of types) first, and only then attempt to get variadics in
[07:31:31] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[07:31:56] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[07:31:58] <cmr> eddyb9: you should still discuss it with the core devs first.
[07:32:16] <ak31> how to cast Option<char> to char?
[07:32:27] <cmr> ak31: it's not a cast
[07:32:28] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[07:32:35] <cmr> ak31: do you know how enums work yet?
[07:32:43] <eddyb9> I expect the tuple changes to be just some grunt work, there's no changes to the type system, just more syntax and desuraging
[07:32:45] <Yurume> what do you want for None?
[07:32:52] <ak31> yes, enum type { FILE = 0, FOLDER = 1, ... }
[07:33:01] <ak31> cmr: enum in C, yes
[07:33:12] <cmr> ak31: no, rust enums.
[07:33:21] <ak31> hooo then no.
[07:33:23] <cmr> ak31: go read the tutorial
[07:33:34] <ak31> cmr: that's what i am doing now :)
[07:33:36] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[07:34:26] <Yurume> ak31, Rust uses enums much more extensively (in C, enums are just typed constants), so you'd better reading the tutorial first :)
[07:34:27] <eddyb9> cmr: well, I've gotten the "maybe not yet" along with "I like the way you used tuples" as feedback from at least one core dev
[07:35:12] <cmr> eddyb9: ok, good :)
[07:35:13] <ak31> Yurume: 10x :)
[07:35:28] <eddyb9> cmr: if I can be there for the next meeting and I have time to polish it, I'll bring it up for discussion
[07:35:34] <ak31> btw, the "~" is like a pointer? sort of a smart pointer?
[07:36:04] <eddyb9> it's kinda like unique_ptr if you've worked with C++
[07:36:24] *** Quits: mankaev (Mibbit@moz-D1465452.torservers.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:36:29] <eddyb9> it has only one owner at any given time
[07:36:32] <ak31> eddyb9: smart pointer with ref counter?
[07:36:43] <ak31> eddyb9: hoo i see
[07:36:54] <ak31> only one variable use it and no more
[07:37:05] <ak31> *uses
[07:37:10] <eddyb9> ak31: Rc<T> is ref counted
[07:37:11] <Yurume> ak31, and its assertion (it has only one owner at given time, and correctly destroyed once the owner discards it) is verified by the compiler
[07:37:19] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[07:37:29] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[07:37:31] <cmr> ak31: it's like any other normal type with a destructor
[07:37:58] <ak31> eddyb9, Yurume, cmr: 10x. :) i think i got it
[07:38:02] <eddyb9> github sure takes its sweet time to load over here
[07:38:14] <Yurume> yeah, conceptually for struct A { ... }, A and ~A behaves almost identically.
[07:38:23] <eddyb9> wow, 10x is new for me. and I've seen a lot of things
[07:38:29] <Yurume> (but A is stack-allocated and ~A is heap-allocated)
[07:38:44] <Yurume> eddyb9, "thanks"?
[07:39:15] <eddyb9> yupp, I've got it, just... novel
[07:39:31] <Yurume> it was novel to me too
[07:39:32] <cmr> so that's what that means..
[07:39:54] *** Quits: closures999 (closures99@18CC473F.AFC0A1D6.8F599DB6.IP) (Client exited)
[07:40:01] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Broken pipe)
[07:40:10] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[07:40:25] <eddyb9> wtf, was my proposal closed?
[07:40:40] <strcat> no
[07:40:49] <strcat> https://github.com/mozilla/rust/issues/10124
[07:40:55] <strcat> or do you mean the tuple one
[07:41:17] <eddyb9> cmr: ^
[07:41:31] <eddyb9> strcat: thanks, but it's not on my dashboard
[07:41:49] *** Joins: fabiand (fabiand@moz-302B4E0A.adsl.alicedsl.de)
[07:42:23] <Yurume> eddyb9, will that proposal introduce an 1-tuple?
[07:42:31] <strcat> there is a 1 tuple
[07:42:39] <cmr> rusti: (1,)
[07:42:40] -rusti- (1,)
[07:42:43] <Yurume> !
[07:43:02] <Yurume> yeah, fine edges of the language ;)
[07:43:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:43:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:44:34] * eddyb9 wonders how github could think the issue wasn't opened by him
[07:44:50] <eddyb9> Yurume: variadic generics, doesn't it say so in the title?
[07:45:15] <eddyb9> it uses tuples for "type packs" or whatever they're called in C++11
[07:46:09] <Yurume> eddyb9, no, I fully understand the proposal (and I'm aware of that C++11 feature) but didn't know that 1-tuple is already a part of the language.
[07:46:32] <FreeFull> What is the use of 1-tuples?
[07:47:12] <sfackler> not much
[07:47:17] <sfackler> consistency mostly imo
[07:47:27] <eddyb9> the impl can be split into tuple syntax sugar + variadic "capture into a tuple" patterns in generics
[07:47:36] <Yurume> normally not much, but if the varadic generics is accepted it will help removing a corner case due to the consistency
[07:47:41] <sfackler> you have a 0-tuple (unit), a 2-tuple, a 3-tuple, ... so why not a 1-tuple
[07:47:53] <sfackler> it can probably make certain kinds of macros easier too
[07:48:03] <eddyb9> Yurume: I see why you asked about 1-tuple :P
[07:48:08] <strcat> is there a smarter way to do a simple *blocking* concurrent queue than mutex + condition variable?
[07:48:26] <strcat> guess it doesn't really matter ;p
[07:48:41] <sfackler> that's the standard way of doing it
[07:48:50] <sfackler> just don't forget to loop on the cvar
[07:49:17] <eddyb9> the changes to type system won't be as dramatic as all the inferrence and whatnot
[07:50:26] <eddyb9> especially with nmatsakis' proposal about using _ in actual generic params
[07:50:39] *** Quits: ak31 (ak31@moz-5C189D89.red.bezeqint.net) (Ping timeout)
[07:50:49] <Yurume> sfackler, for macros, it can be another gotcha since (int) is just int and not (int,).
[07:51:21] <eddyb9> G would be G<..>, and I guess .._ doesn't make sense
[07:51:25] <sfackler> if you always append a , you sould be okay though
[07:51:40] <sfackler> rusti: (1, 2,)
[07:51:41] -rusti- (1, 2)
[07:51:47] <Yurume> sfackler, (,) is invalid.
[07:52:00] <eddyb9> hehe
[07:52:01] <cmr> rusti: (,)
[07:52:01] -rusti- <anon>:9:10: 9:11 error: unexpected token: `,`
[07:52:01] -rusti- <anon>:9          (,)
[07:52:01] -rusti-                    ^
[07:52:01] -rusti- application terminated with error code 101
[07:52:02] <sfackler> but that won't come up if the tuple is generated as
[07:52:15] <sfackler> ($($foo,)+)
[07:52:34] <sfackler> 0 occurrences of $foo will map do ()
[07:52:34] <eddyb9> tricky :D
[07:52:35] <Yurume> sfackler, then that (int) case reappears ;)
[07:52:44] <Yurume> ah wait, okay
[07:52:49] <Yurume> comma inside the parentheses.
[07:52:52] <sfackler> yeah
[07:53:15] *** Quits: alonlevy (alon@moz-74377C14.bb.netvision.net.il) (Ping timeout)
[07:53:18] <eddyb9> now add range!(start, end, skip)
[07:53:45] <eddyb9> except macros expand outer-first so it's useless - wheee
[07:54:17] <strcat> sfackler: I'm just curious because you could definitely guarantee it only waited if the queue was empty, but I somewhat doubt it will be faster ;p
[07:54:37] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[07:55:08] <sfackler> you do guarantee that if you check the length with the lock held :P
[07:55:28] *** Joins: nlminhtl (ignotus@moz-BA3DE7EF.volia.net)
[07:55:38] <strcat> sfackler: by wait I mean block on a futex call
[07:55:54] <cmr> strcat: are ~Trait not Freeze?
[07:56:04] <strcat> cmr: ~Trait:Freeze is Freeze
[07:56:06] <cmr> Ahh theyhave their own obounds
[07:56:08] <cmr> Right
[07:56:11] <nlminhtl> hi guys
[07:56:31] <nlminhtl> how can I see in the web documentation all traits supported by f64?
[07:56:31] <eddyb9> fwiw, futex sounds like fuckex for me
[07:56:31] <strcat> cmr: I forget why it has to be separate
[07:56:39] <strcat> instead of inheriting from Freeze + Trait
[07:56:54] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[07:56:54] <strcat> there was a reason someone told me! :(
[07:57:05] <strcat> bug bblum 
[07:57:21] <strcat> nlminhtl: you can't see that for built-in types yet
[07:57:22] *** Quits: Kroisse (Kroisse@7CF4064D.E3B51CAE.ECA1BB11.IP) (Ping timeout)
[07:57:27] <strcat> only for library defined ones, sadly
[07:57:36] <strcat> built-in types are really messed up atm
[07:57:56] <strcat> can't define methods on them directly in the stdlib (leading to a proliferation of useless traits), can't see them directly in the docs
[07:58:12] <nlminhtl> strcat: sad :(
[07:58:13] <eddyb9> haha, we might be going home already. I just arrived, having skipped two classes
[07:58:17] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[07:58:45] <nlminhtl> strcat: so which trait I must support to compare by operators >, < ?
[07:58:56] <strcat> nlminhtl: Ord
[07:59:02] <nlminhtl> %s/I must/must I/g
[07:59:03] <strcat> it can be derived too
[07:59:07] <eddyb9> you could have asked that :P
[07:59:29] <eddyb9> strcat: can you implement just one of the 4 methods?
[07:59:51] <strcat> eddyb9: yes, except the libstd version doesn't have a default method for 1 of them
[07:59:51] <eddyb9> strcat: a method which isn't lt
[08:01:09] <strcat> I guess they have to be defined in a circular loop to be most flexible
[08:01:14] <strcat> I didn't do it properly in rust-core ;p
[08:01:27] *** Joins: Kroisse (Kroisse@7CF4064D.E3B51CAE.ECA1BB11.IP)
[08:01:50] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[08:02:02] <cmr> but.. if you don't implement *any* of them, you'll get an iloop!
[08:02:02] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Connection reset by peer)
[08:02:35] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[08:02:47] *** Quits: heftig (heftig@moz-B229A8FE.dip0.t-ipconnect.de) (Quit: Quitting)
[08:02:55] <strcat> cmr: sure
[08:02:59] <eddyb9> cmr: maybe that can be detected by some kind of linter?
[08:03:07] <strcat> and if you call abort, your program generates SIGILL ;p
[08:03:26] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[08:03:39] <strcat> rusti: use extra::bigint::BigInt; 
[08:03:40] -rusti- <anon>:9:13: 9:34 warning: unused import [-W unused-imports (default)]
[08:03:40] -rusti- <anon>:9          use extra::bigint::BigInt; 
[08:03:40] -rusti-                       ^~~~~~~~~~~~~~~~~~~~~
[08:03:40] -rusti- ()
[08:04:03] <strcat> rusti: use extra::bigint::BigInt; BigInt::from_uint(124) << -1
[08:04:04] -rusti- application terminated abnormally with signal 11 (Segmentation fault)
[08:04:07] <strcat> whee
[08:05:12] <strcat> rusti: extern { fn abort() -> !; } fn foo() { unsafe { abort() } }
[08:05:13] -rusti- <anon>:9:57: 9:62 error: invoking non-Rust fn in fn without #[fixed_stack_segment] [-D cstack (default)]
[08:05:13] -rusti- <anon>:9          extern { fn abort() -> !; } fn foo() { unsafe { abort() } }
[08:05:13] -rusti-                                                                   ^~~~~
[08:05:13] -rusti- error: aborting due to previous error
[08:05:14] -rusti- application terminated with error code 101
[08:05:16] * strcat sighs
[08:05:21] <strcat> stupid 0.8
[08:05:21] <sfackler> strcat: is that just an oom or something worse?
[08:05:41] <strcat> sfackler: not sure, the stdlib vector is pretty buggy so I wouldn't be surprised if it was worse
[08:05:54] <strcat> I expected OOM, but that's going to do abort() in all likelihood
[08:06:05] <strcat> rusti: #[allow(cstack)] extern { fn abort() -> !; } fn foo() { unsafe { abort() } } foo()
[08:06:06] -rusti- <anon>:9:74: 9:79 error: invoking non-Rust fn in fn without #[fixed_stack_segment] [-D cstack (default)]
[08:06:06] -rusti- <anon>:9          #[allow(cstack)] extern { fn abort() -> !; } fn foo() { unsafe { abort() } } foo()
[08:06:06] -rusti-                                                                                    ^~~~~
[08:06:06] -rusti- error: aborting due to previous error
[08:06:08] -rusti- application terminated with error code 101
[08:06:17] <strcat> rusti: extern { fn abort() -> !; } #[allow(cstack)] fn foo() { unsafe { abort() } } foo()
[08:06:18] -rusti- application terminated abnormally with signal 11 (Segmentation fault)
[08:06:21] <strcat> ah 
[08:06:28] <strcat> it's just what happens with abort in the sandbox I guess
[08:06:40] <strcat> rusti: extern "rust-intrinsic" { fn abort() -> !; } #[allow(cstack)] fn foo() { unsafe { abort() } } foo()
[08:06:41] -rusti- <anon>:9:35: 9:51 error: unrecognized intrinsic function: `abort`
[08:06:41] -rusti- <anon>:9          extern "rust-intrinsic" { fn abort() -> !; } #[allow(cstack)] fn foo() { unsafe { abort() } } foo()
[08:06:41] -rusti-                                             ^~~~~~~~~~~~~~~~
[08:06:41] -rusti- error: aborting due to previous error
[08:06:42] -rusti- application terminated with error code 101
[08:06:48] <strcat> 0.8 :(
[08:07:50] *** Joins: dbaupp (Thunderbir@moz-4CA0D523.lns20.syd6.internode.on.net)
[08:08:02] <strcat> I guess I'll write a new ring buffer...
[08:08:23] *** Joins: gdh1c (Mibbit@moz-91C5DE55.na.cust.bahnhof.se)
[08:08:30] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[08:08:36] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[08:08:41] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[08:09:03] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[08:09:06] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[08:09:27] *** Quits: FreeFull (freefull@E424A224.387C8A0C.DC9D01B1.IP) (Ping timeout)
[08:09:28] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[08:09:42] *** pmoore|away is now known as pmoore
[08:12:01] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[08:13:10] <nlminhtl> https://gist.github.com/Ignotus/6e750c02681a5c567e0e/raw/3b6e90d6e1cb6d08ac68ec53760ef11ed7b327c5/gistfile1.txt
[08:13:23] <nlminhtl> How can I call a static method from generic?
[08:13:25] <nlminhtl> .__.
[08:13:38] <nlminhtl> Too many problems for rust beginners :D
[08:14:11] * eddyb9 wonders if he can replicate the Kracken performance in Rust using very generic unsafe abstractions
[08:14:36] <nlminhtl> so can I call T::epsilon() in this case?
[08:14:49] <eddyb9> new(zone) FooBar in v8 is an interesting optimization as well
[08:15:47] <cmr> nlminhtl: Float::epsilon()
[08:15:58] <eddyb9> strcat: backstory: I have a C++ that's optimized for both speed and memory
[08:15:58] <strcat> nlminhtl: Trait::method() and type inference will take care of the rest
[08:16:07] <strcat> so for example, 'let x: T = Trait::method();'
[08:16:20] <strcat> if you really need to you can specify it as part of the call expr
[08:16:32] <strcat> Trait::method::<T>() at the *moment* but it will change
[08:16:40] *** Joins: FreeFull (freefull@E424A224.387C8A0C.DC9D01B1.IP)
[08:16:57] *** flaper87|afk is now known as flaper87
[08:17:32] <cmr> strcat: wait,that works now?
[08:17:46] <nlminhtl> strcat: hm, Magic :)
[08:17:47] *** Joins: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP)
[08:17:49] <strcat> cmr: it always worked?
[08:17:52] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:17:53] <strcat> it's going to stop working
[08:18:05] <cmr> I thought it did stop working, with no workaround until <for T>
[08:18:09] <sfackler> it stopped working a while ago when pcwalton redid generic hints
[08:18:15] <strcat> ah
[08:18:18] <myname> i do find it very confusing, though
[08:18:31] <strcat> cmr: well, I'll keep complaining until we get T::trait_method() via the same magic as .
[08:18:42] <strcat> it might be confusing but it's less confusing
[08:18:44] <strcat> ;p
[08:18:52] <pytess>  Aborting install because more than one library matching libstd-*.so is present in build tree x86_64-unknown-linux-gnu/stage2/lib: .  Stop.
[08:19:01] <pytess> how to solve
[08:19:01] <cmr> pytess: are you building 0.8?
[08:20:10] <pytess> yea
[08:20:38] <cmr> why?
[08:20:49] <cmr> if you want to contribute, you need to be using master
[08:20:49] <strcat> hm
[08:20:55] <strcat> bjz is going to be sad if I call a ring buffer Ring
[08:21:11] <pytess> well.I have to install it.run sudo make install.
[08:21:38] <sigma> pytess: what distro are you on?
[08:22:10] <eddyb9> in other news, SRI (our CIA) is recruiting in my highschool
[08:22:10] * strcat recommends just adding the binary output dir to PATH and *not* doing make install, unless you plan on using a pkg manager
[08:22:41] * sigma was about to get to what strcat said
[08:23:01] <pytess> ubuntu 13.10
[08:23:07] <pytess> sigma
[08:23:14] <cmr> pytess: there are nightly packages for ubuntu
[08:23:20] <eddyb9> strcat: so, in that project of mine, I have an object of a pow2 size, allocated from an arena and pointed to by an index in the arena array
[08:23:20] <pytess> well.so what to do now.
[08:23:21] <cmr> https://launchpad.net/~hansjorg/+archive/rust
[08:24:05] <eddyb9> strcat: now, there a very specific reason for not using real pointers
[08:24:25] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[08:24:27] *** Quits: victorporof (victorporo@9B024C76.73B1E539.9B1E38F4.IP) (Quit: victorporof)
[08:24:34] <strcat> eddyb9: can you put the arena in an Rc<T>
[08:24:46] <pytess> cmr:so how to cleanup all the installation made now?
[08:24:46] <strcat> and then include it in anything you want to use the arena for
[08:24:48] <strcat> well
[08:24:51] <strcat> maybe that won't work
[08:24:56] <cmr> pytess: `sudo make uninstall`
[08:24:58] <eddyb9> each object has an array of smart pointers to other objects
[08:25:08] *** Joins: victorporof (victorporo@9B024C76.73B1E539.9B1E38F4.IP)
[08:25:11] <eddyb9> (they're refcounted)
[08:26:07] * strcat will call it a RingVec
[08:26:15] <pytess> does that work
[08:26:17] <pytess> ?
[08:26:18] <pytess> k
[08:26:23] <eddyb9> if I need more than 2^16 objects, and the index size switches from u16 to u32, the entire arena will double in memory usage
[08:26:45] <strcat> now that the hard part of naming is over... what could go wrong? ;p
[08:26:54] <eddyb9> it uses 512MB or 1GB by default, IIRC
[08:27:20] <eddyb9> strcat: I always come up with silly name. the project I'm talking about is "Kracken"
[08:27:33] <dbaupp> strcat: why break from RingBuf?
[08:27:36] <eddyb9> *names
[08:27:53] <eddyb9> dbaupp: Vec is rustier
[08:27:54] <pytess> sudo make uninstall.is taht all?
[08:28:03] *** Quits: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP) (Client exited)
[08:28:05] <strcat> dbaupp: well, it's different
[08:28:06] <nlminhtl> the last question for today https://gist.github.com/Ignotus/881687f3a29abef845c9 :)
[08:28:11] <strcat> so might as well pick a different name ;p
[08:28:12] <cmr> pytess: it should be, yes.
[08:28:29] <strcat> I think... brson? I forget, didn't like "RingBuf"
[08:28:40] <strcat> it used to be called Deque like C++
[08:28:51] <dbaupp> call it Deque, then?
[08:29:37] <nlminhtl> strcat: does std::num::cast support this one?
[08:29:46] <strcat> nlminhtl: hm?
[08:29:57] <nlminhtl> strcat: https://gist.github.com/Ignotus/881687f3a29abef845c9
[08:30:15] <eddyb9> deque isn't implemented with a ring buffer, AFAIK
[08:30:32] <strcat> eddyb9: in C++? it has to be
[08:30:40] <strcat> it's a ring buffer of blocks of memory
[08:30:46] <eddyb9> I thought it was a linked list of chunks
[08:30:57] <strcat> eddyb9: no
[08:31:04] <eddyb9> isn't random access O(N)?
[08:31:06] <strcat> eddyb9: it's ~[Page<T>], usually
[08:31:07] *** Joins: heftig (heftig@F84A6794.D96C2356.172227A7.IP)
[08:31:36] <strcat> eddyb9: O(1)
[08:31:41] <strcat> required
[08:31:55] <eddyb9> I could swear I read something different
[08:32:03] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[08:32:20] <strcat> eddyb9: and push_back also has to be O(1) but not amortized O(1) ;]
[08:32:29] <strcat> (so the chunk part isn't optional, nvm)
[08:32:53] <pytess> i like to contribute for mozilla.I am interested in coding.anything to suggest.getting rust installed on my system seems tedius.I am a student
[08:33:13] <eddyb9> a doubly linked list of chunk still has O(1) access for push/pop/unshift/shift
[08:33:17] <strcat> pytess: if you're on ubuntu, you can install the package from that repo cmr linked
[08:33:26] <strcat> eddyb9: needs O(1) index
[08:33:47] <strcat> eddyb9: http://en.cppreference.com/w/cpp/container/deque/operator_at
[08:34:05] <strcat> and unlike a vector, it can't just do amortized reallocs
[08:34:08] <strcat> http://en.cppreference.com/w/cpp/container/vector/operator_at
[08:34:11] <strcat> so yeah.
[08:34:23] <strcat> it's kind of like how they're essentially forced to use an rbtree for std::map
[08:34:41] <strcat> must be ordered, must not invalidate any iterators on inserts, must only invalidate an iterator pointing at the removed element on delete
[08:34:58] <nlminhtl> does it mean that std::num::cast doesn't exist in the library? https://gist.github.com/Ignotus/881687f3a29abef845c9
[08:35:01] <strcat> and O(log n) amortized remove/insert and O(log n) search
[08:35:01] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Connection reset by peer)
[08:35:15] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[08:35:25] <strcat> and chaining is forced for collisions in unordered_map
[08:35:35] <strcat> essentially
[08:35:49] *** Quits: eddyb9 (eddy@F1F46667.9A7C5F59.4A6B528C.IP) (Ping timeout)
[08:37:40] *** Joins: alonlevy (alon@moz-5C8E00F8.red.bezeqint.net)
[08:39:13] <nlminhtl> :(
[08:39:14] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[08:39:38] <strcat> nlminhtl: which version of rust are you using?
[08:39:45] <nlminhtl> strcat: master
[08:40:21] <strcat> it looks like there is a cast function
[08:40:26] <nlminhtl> rust-git-0.8.git.1381410384
[08:40:41] <strcat> nmatsakis: put 'use std' at the top of the module?
[08:40:44] <strcat> er
[08:40:44] <nlminhtl> strcat: and an use has been passed use std::num::{abs, cast};
[08:40:46] <strcat> nlminhtl: 
[08:41:00] <strcat> nlminhtl: if you do 'use std::num::cast;' it means 'bring cast into the current scope'
[08:41:04] <strcat> use std::num;
[08:41:07] <strcat> num::cast(5)
[08:41:09] <strcat> or
[08:41:12] <strcat> use std::num::cast;
[08:41:18] <strcat> cast(5)
[08:41:19] <strcat> and so on
[08:41:28] *** Joins: eddyb9 (eddy@A7C599D7.C75CDC83.4A6B528C.IP)
[08:41:54] *** Quits: eddyb9 (eddy@A7C599D7.C75CDC83.4A6B528C.IP) (Quit: Leaving)
[08:43:30] *** Joins: Ms2ger (Ms2ger@AB9469A5.3CF91143.187A1082.IP)
[08:48:54] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[08:50:03] *** Quits: sigma (sigma@moz-23724D77.range86-160.btcentralplus.com) (Client exited)
[08:52:31] <eddyb> I hate chemical batteries and software that manages them >_>
[08:53:04] *** Quits: heftig (heftig@F84A6794.D96C2356.172227A7.IP) (Quit: Quitting)
[08:53:34] <eddyb> strcat: so, in Kracken each Object a bunch of references to other Objects - they're DAG back-references
[08:53:47] <eddyb> strcat: kinda like a vector of parent pointers
[08:54:53] *** Quits: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP) (Ping timeout)
[08:57:45] <eddyb> strcat: I've considered allocating that vector in chunks, by reusing Objects (there's few other things in an Object other than that vector), but I'm not sure... at that point I'm already working with graphs having almost a million nodes
[08:58:04] * strcat doesn't know what to do
[08:58:33] <eddyb> I don't think it's worth bringing that into Rust
[08:58:51] <eddyb> I have safety checks that can be turned off for speed - it's a crazy thing
[08:59:54] <eddyb> strcat: maybe I can make it a benchmark and not tell anyone it was designed to break O(1) crypto
[09:02:28] <eddyb> just because I don't feel like letting it bitrot just because it didn't turn the world upside-down
[09:02:46] <eddyb> brain, think. you said "just because" twice
[09:02:47] *** Joins: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[09:04:48] <Leo`> if I've got a function and I do something like let a = myFunction;
[09:05:00] <Leo`> concretely, it is a pointer, right ?
[09:05:37] *** Joins: Ferreus (ferreus@moz-18FAC6B7.dip0.t-ipconnect.de)
[09:05:42] <dbaupp> it depends, it might be a "fat" pointer
[09:05:56] <eddyb> I don't know of any language which copies a function's code by value
[09:05:58] <dbaupp> (i.e. (function pointer, environment pointer).)
[09:06:21] <dbaupp> depending on how the inference treats extern fns.
[09:06:36] *** Quits: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net) (Quit: ZQ)
[09:06:36] <Leo`> dbaupp: it's just a pure Rust function, not a closure or whatever
[09:06:46] <dbaupp> Leo`: how is it used later?
[09:06:48] <Leo`> eddyb: well yeah
[09:06:51] <Leo`> but...
[09:07:10] <dbaupp> rusti: fn foo() {} let a = foo; let () = a;
[09:07:10] -rusti- <anon>:9:38: 9:40 error: mismatched types: expected `extern "Rust" fn()` but found `()` (expected extern fn but found ())
[09:07:10] -rusti- <anon>:9          fn foo() {} let a = foo; let () = a;
[09:07:10] -rusti-                                                ^~
[09:07:11] -rusti- error: aborting due to previous error
[09:07:11] -rusti- application terminated with error code 101
[09:07:17] <eddyb> rusti: let x = print; x("foo");
[09:07:18] -rusti- foo()
[09:07:32] <strcat> hm, maybe we shouldn't have 'reserve' on vectors do an exact reserve
[09:07:43] <dbaupp> rusti: fn foo() {} fn bar(x: &fn()) {} let a = foo; bar(a); let () = a;
[09:07:44] -rusti- <anon>:9:66: 9:68 error: mismatched types: expected `extern "Rust" fn()` but found `()` (expected extern fn but found ())
[09:07:44] -rusti- <anon>:9          fn foo() {} fn bar(x: &fn()) {} let a = foo; bar(a); let () = a;
[09:07:44] -rusti-                                                                            ^~
[09:07:44] -rusti- error: aborting due to previous error
[09:07:45] <strcat> it's too easy to get ridiculous time complexity with it
[09:07:46] -rusti- application terminated with error code 101
[09:07:57] <strcat> reserve_at_least would make more sense as the default
[09:08:02] <strcat> and have reserve_exact
[09:08:15] <dbaupp> Leo`: yup, looks like extern fn's are always plain pointers (not fat pointers)
[09:08:22] <eddyb> strcat: hmm, what do you mean?
[09:08:24] <strcat> 'reserve' is one of the few ways you can make push O(n) ;p
[09:08:31] <strcat> eddyb: consider the pathological case...
[09:08:48] <strcat> for x in range(0, n) { vec.reserve(vec.capacity() + 1); vec.push(x) }
[09:08:50] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:08:51] <strcat> vs.
[09:08:53] <strcat> for x in range(0, n) { vec.push(x) }
[09:08:59] <strcat> each insert in the first one is O(n)
[09:08:59] *** Joins: sigma (sigma@moz-23724D77.range86-160.btcentralplus.com)
[09:09:03] <eddyb> they should be equivalent
[09:09:04] <strcat> no
[09:09:13] <Leo`> dbaupp:         
[09:09:17] *** Parts: sigma (sigma@moz-23724D77.range86-160.btcentralplus.com) ()
[09:09:24] <strcat> eddyb: push will reserve more capacity when it reaches full capacity
[09:09:26] <dbaupp> strcat: vec.reserve(vec.capacity() + 1) will always do O(n) reallocs
[09:09:29] <dbaupp> (fwiw)
[09:09:40] <eddyb> reallocs aren't always O(n)
[09:09:51] <strcat> dbaupp: that's my point
[09:10:00] <eddyb> with pow2 size classes, it's quite cheap most of the time
[09:10:01] <Yurume> dbaupp, in fact, I think the current reserve can be renamed to set_capacity and reserve_at_least to reserve.
[09:10:06] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Input/output error)
[09:10:08] <dbaupp> strcat: even if reverse is reserve_at_least
[09:10:10] <strcat> eddyb: size classes are only for small ones where it doesn't matter much
[09:10:15] <eddyb> strcat: ah, I see what you mean, allocating N elements at a time
[09:10:20] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Ping timeout)
[09:10:21] <strcat> dbaupp: well right, I should have used length
[09:10:24] <strcat> capacity doesn't make sense there
[09:10:27] <strcat> you know what I mean :)
[09:10:29] *** Quits: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Ping timeout)
[09:10:32] * dbaupp does
[09:10:40] <strcat> anyway we have lots of wrapper functions using 'reserve'
[09:10:48] <strcat> and it's easy to use them in such a way that you get horrific perf
[09:11:05] <eddyb> strcat: I think SLAB in general has pow2 size classes
[09:11:09] <Leo`> ouuuh that lag
[09:11:19] <strcat> eddyb: if you reserve in a loop, you're likely making it reserve small chunks at a time instead of doubling the size and having the reallocs amortized
[09:11:28] <Leo`> dbaupp: I store the pointer in a thing that is passed-around several times (by copy)
[09:11:42] <Leo`> and then at some point I call the function in it
[09:11:43] <dbaupp> Leo`: well, it's a single word, so that's fine
[09:11:55] <dbaupp> (and, even if it was the other option, a closure, that's only 2 words.)
[09:11:56] *** Quits: canhtak (canhtak@moz-24D0A1FD.wl.t.ulaval.ca) (Quit: canhtak)
[09:12:35] <Leo`> yeah I know
[09:12:52] <eddyb> strcat: but I understand what you mean
[09:15:38] <Leo`> that worked fine dbaupp 
[09:16:30] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:16:54] <Leo`> (I have so much lag, I write a message every 5 minutes ... )
[09:17:26] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[09:17:40] <Leo`> dbaupp: but then I added another parameter to the function and it doesn't compile anymore
[09:18:04] <Leo`> with a strange error
[09:18:17] <Leo`> (expected concrete lifetime, but found bound lifetime parameter &)
[09:18:26] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:18:31] <Leo`> at the line where I derive Clone for the thing that contains my function pointer
[09:18:38] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[09:19:17] <Leo`> (and indeed, the parameter I added is of type &foo)
[09:19:27] <Leo`> but I don't see the problem
[09:19:44] <Leo`> a function pointer remains a function pointer, whatever its parameters may be
[09:19:49] <dbaupp> Leo`: I'll need to see the code to help :)
[09:20:00] <Leo`> yup wait a second
[09:20:31] *** Joins: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP)
[09:21:36] <Leo`> ok here is a working version of the code:
[09:22:47] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[09:23:09] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[09:25:24] <Leo`> https://github.com/LeoTestard/Scheme-VM/blob/30905f0b34f9687cd7e12bccd7844586cc6d752c/vm/primitive.rs#L8 
[09:25:29] <Leo`> https://github.com/LeoTestard/Scheme-VM/blob/30905f0b34f9687cd7e12bccd7844586cc6d752c/gc/value.rs#L17
[09:25:48] <Leo`> I just added a &mut VM parameter to the Prim type
[09:26:19] <Leo`> and now i've got: gc/value.rs:13:11: 13:16 error: mismatched types: expected `fn(~[gc::value::Value], &mut vm::exec::VM) -> gc::value::Value` but found `fn(~[gc::value::Value], &mut vm::exec::VM) -> gc::value::Value` (expected concrete lifetime, but found bound lifetime parameter &)
[09:26:53] *** Quits: Kxepal (Miranda@moz-3A55D1EB.pppoe.mtu-net.ru) (Ping timeout)
[09:27:36] *** Quits: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP) (Ping timeout)
[09:29:04] <dbaupp> weird
[09:29:18] <dbaupp> it could be a bug with the new borrow checker
[09:29:39] *** Joins: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru)
[09:30:01] <dbaupp> gah, not borrow checker
[09:30:05] <dbaupp> the new lifetime handling
[09:32:34] *** Quits: XgF (quassel@moz-86690AAD.london1.uk.e43.eu) (Ping timeout)
[09:32:46] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[09:32:49] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:33:00] *** Quits: nuts (tii@822A8E7E.6AD15BF5.75D3BBDB.IP) (Connection reset by peer)
[09:34:24] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[09:35:38] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:36:49] *** Quits: wolfwood (wolfwood@moz-A19F104D.pitbpa.fios.verizon.net) (Ping timeout)
[09:36:49] *** Quits: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net) (Ping timeout)
[09:38:52] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[09:40:10] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[09:40:38] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:41:04] *** Joins: wolfwood (wolfwood@moz-A19F104D.pitbpa.fios.verizon.net)
[09:41:12] *** Joins: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net)
[09:42:52] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[09:44:23] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[09:44:54] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:46:21] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[09:48:19] <dbaupp> Leo`: I can't find it on the bug tracker, feel free to file one
[09:48:39] *** Quits: nlminhtl (ignotus@moz-BA3DE7EF.volia.net) (Quit: Konversation terminated!)
[09:49:24] <Leo`> dbaupp: what is the bug exactly ?
[09:49:51] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:50:14] <dbaupp> Leo`: that you have an inner lifetime that's not being matched properly... I think.
[09:50:31] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[09:51:33] *** Joins: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP)
[09:51:44] *** Quits: alonlevy (alon@moz-5C8E00F8.red.bezeqint.net) (Ping timeout)
[10:00:54] *** Quits: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP) (Ping timeout)
[10:03:25] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Ping timeout)
[10:03:38] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:04:17] *** Quits: nrc|holiday (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:05:02] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:05:07] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[10:05:21] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[10:05:34] <Leo`> dbaupp: https://github.com/mozilla/rust/issues/10501
[10:05:41] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:06:07] <dbaupp> Leo`: yup, just commented
[10:06:16] <dbaupp> that does seem like a bug.
[10:06:30] <Leo`> ok :)
[10:07:12] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[10:08:54] <Leo`> dbaupp: as a workaround, do you think I can implement the clone trait myself by hand ?
[10:09:03] <Leo`> or will I got the same problem ?
[10:09:34] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[10:10:08] <dbaupp> Leo`: don't know, try it.
[10:11:35] <Leo`> or will I got the same problem ?
[10:11:39] <Leo`> fu
[10:13:02] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[10:13:49] *** Quits: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net) (Ping timeout)
[10:14:40] *** Joins: spir (Mibbit@moz-22276148.w90-9.abo.wanadoo.fr)
[10:15:06] *** Joins: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[10:15:26] <Leo`> dbaupp: yep it works
[10:15:44] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[10:15:49] *** Quits: spir (Mibbit@moz-22276148.w90-9.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[10:15:55] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Quit: leaving)
[10:16:01] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:16:22] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Quit: leaving)
[10:17:16] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:17:16] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[10:18:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[10:18:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:20:05] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:20:13] <Leo`> dbaupp: how can I compare 2 function pointers ?
[10:20:34] <Leo`> rustc says == can't be applied to fn
[10:21:00] <FreeFull> There is a difference between a function and a pointer to one
[10:21:04] <strcat> Leo`: comparing function ptrs isn't meaningful
[10:21:14] <strcat> rust doesn't give them significant addresses
[10:21:22] <strcat> they can be merged
[10:21:31] <strcat> what's the use case btw?
[10:21:57] *** Joins: tulloch_ (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:22:42] *** Joins: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP)
[10:22:59] <Leo`> strcat: I've got two functions and want to know if there are the same
[10:23:04] <Leo`> but I will find another way
[10:23:07] *** Quits: tulloch_ (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Quit: Lost terminal)
[10:23:15] *** Joins: tulloch_ (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:23:18] <strcat> Leo`: I mean why do you want to know if they are the same?
[10:23:20] <strcat> at a higher level
[10:23:26] <Leo`> instead of passing plain function pointers, I can wrap them in a struct with an identifier or something
[10:23:57] <Leo`> strcat: I'm doing a Scheme implementation. some functions are implemented directly in the VM, as Rust functions
[10:24:17] <Leo`> when I do (eq? + +), it compares those Rust functions
[10:24:18] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[10:24:22] <strcat> ah
[10:24:41] <strcat> so you need to know if functions are equal because scheme needs to know if functions are equal ;p
[10:24:56] <Leo`> you got it :D
[10:25:20] <Leo`> well, in fact Scheme doesn't need to know if functions are equals, it needs to know if 2 identifiers refers to the same function
[10:25:31] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Quit: leaving)
[10:25:37] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:25:39] *** Quits: tulloch_ (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Quit: Lost terminal)
[10:25:41] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Quit: tulloch)
[10:25:46] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[10:26:07] <Leo`> but instead of representing those functions as plain Rust function pointers, I can wrap them in a type that is comparable
[10:26:25] <Leo`> and containing the function pointers
[10:26:48] <Leo`> (assmuing two instances of this type that compares equal and do not have the same callback are not going to exist... )
[10:26:56] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[10:27:19] <Leo`> assuming*
[10:27:44] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:28:36] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:30:17] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[10:34:05] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[10:38:37] <kimundi> eddyb: If you still want to know what the memory layout of a trait object is, I also had to find out that info for &Any.
[10:39:40] <kimundi> eddyb: &Trait is {*T, *vtable} with vtable = {*typedesc, *fn1, *fn2, *fn3...}
[10:40:24] <eddyb> kimundi: ah, thanks :)
[10:40:34] *** Joins: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP)
[10:40:34] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Connection reset by peer)
[10:40:35] <Leo`> typedesc ?
[10:40:43] <Leo`> is there some kind of RTTI on Rust ?
[10:40:48] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[10:40:59] *** Quits: victorporof (victorporo@9B024C76.73B1E539.9B1E38F4.IP) (Ping timeout)
[10:41:07] <eddyb> Leo`: hehe
[10:41:32] <eddyb> I think it's better than what C++ has, and it doesn't need a library
[10:41:33] <dbaupp> Leo`: yes, {:?} uses RTTI
[10:41:51] <eddyb> dbaupp: doesn't that use the type visitor thing?
[10:42:02] *** Quits: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP) (Ping timeout)
[10:42:11] <dbaupp> eddyb: that uses the tydesc, I though?
[10:42:14] <dbaupp> *thought
[10:42:23] <eddyb> dbaupp: it can be implemented at compile-time...
[10:42:41] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[10:42:49] <eddyb> (but I'm not sure if it is)
[10:42:58] <dbaupp> yes, that's what I mean.
[10:43:02] <eddyb> kimundi: then I guess typedesc is shared between all vtables of a certain type?
[10:43:20] <strcat> eddyb: so, the tydesc has a visit_glue field
[10:43:27] <strcat> visit_glue knows how to walk the type
[10:43:56] <strcat> and it will call visit_glue recursively I guess, I forget even though I wrote some of that ;p
[10:43:59] <eddyb> right, I remember that
[10:44:20] <kimundi> eddyb: yes
[10:44:46] <eddyb> for some reason I thought... nevermind, visit_glue makes perfect sense
[10:45:47] <kimundi> I originally though I'd need to use the typedesc for &Any, then strcat and/or a few others guided me to implement the whole thing with virtual calls and a type_desc intrinsic instead, and now an issue exists that it should not use virtual calls :P
[10:46:36] <strcat> well I didn't suggest virtual calls, just complained that using tydesc addresses wouldn't work cross-crate and would break if they were merged ;p
[10:46:53] *** Joins: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP)
[10:47:19] *** Joins: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP)
[10:48:08] <eddyb> kimundi: you mean typeid?
[10:48:24] *** Quits: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net) (Ping timeout)
[10:51:19] *** Quits: KindOne (KindOne@moz-63070F9.dynamic.ip.windstream.net) (Ping timeout)
[10:53:08] <kimundi> eddyb: type_id intrinsic, but type_desc in the trait object
[10:55:05] *** Joins: KindOne (KindOne@moz-51040339.dynamic.ip.windstream.net)
[10:56:49] <kimundi> strcat: No you didn't, but it was the only option that was easily available :)
[10:58:39] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[11:01:25] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[11:03:10] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[11:05:52] *** Quits: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP) (Ping timeout)
[11:07:33] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[11:07:44] *** Joins: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP)
[11:11:59] *** Joins: nkoep (nik@moz-9769C6C.pool.mediaways.net)
[11:13:01] <pytess> Hi.I want to remove rust from my lap.?have done sudo make uninstall.Bt that havent realesd free memmory
[11:13:19] *** Quits: jgraham (jgraham@moz-6C043AAD.webfaction.com) (Ping timeout)
[11:14:20] *** Quits: StarLight (StarLight@moz-D8C9A250.dynamic.avangarddsl.ru) (Ping timeout)
[11:14:53] *** Joins: jgraham (jgraham@moz-6C043AAD.webfaction.com)
[11:16:42] *** Quits: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru) (Quit: Kxepal)
[11:17:01] *** Joins: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru)
[11:17:14] *** Quits: axitkhurana (Adium@63F3AA56.9CFBD76D.30E7AE68.IP) (Quit: Leaving.)
[11:18:40] *** Joins: StarLight (StarLight@moz-EA5A1ED3.dynamic.avangarddsl.ru)
[11:19:02] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[11:26:52] *** kimundi is now known as zz_kimundi
[11:33:00] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Quit: Computer has gone to sleep.)
[11:33:17] <pytess> i have created from tarball.sudo made uninstall.I had i500 before install rust
[11:33:19] *** Quits: KindOne (KindOne@moz-51040339.dynamic.ip.windstream.net) (Ping timeout)
[11:35:29] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[11:36:12] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[11:37:24] *** Joins: fyolnish (fyolnish@moz-2BC3D6D2.uqwimax.jp)
[11:37:52] *** Joins: KindOne (KindOne@moz-51040339.dynamic.ip.windstream.net)
[11:39:06] *** Quits: fyolnish (fyolnish@moz-2BC3D6D2.uqwimax.jp) (Ping timeout)
[11:44:41] <pytess> Hi.
[11:47:45] <nmatsakis> pytess: have you also deleted the rust build directory etc?
[11:48:07] <pytess> yes
[11:48:10] <pytess> :(
[11:49:34] <klutzy> you mean you want to delete stuff from `sudo make install`?
[11:50:05] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Ping timeout)
[11:51:36] <pytess> yes
[11:51:51] <klutzy> you may remove /usr/bin/rust* and /usr/lib/lib*-*-0.8.so manually
[11:51:57] <pytess> ok
[11:52:03] <klutzy> and /usr/lib/rustc I guess
[11:52:30] <klutzy> ah, and /usr/share/man/man1/rust*.1
[11:53:02] *** Quits: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP) (Ping timeout)
[11:53:02] <klutzy> anyway you can install them at arbitrary location using `make install DESTDIR=...`
[11:53:13] <klutzy> or using --prefix option at configure time
[11:56:12] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[11:57:04] *** Joins: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP)
[11:57:29] <pytess> actually my sudo make install was not sucessfull
[11:57:46] *** zz_kimundi is now known as kimundi
[12:00:20] *** Quits: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP) (Ping timeout)
[12:01:00] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[12:05:49] *** Quits: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP) (Ping timeout)
[12:06:18] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[12:06:47] *** Joins: nik_ (nik@moz-BEC219B.pool.mediaways.net)
[12:06:57] *** Quits: nkoep (nik@moz-9769C6C.pool.mediaways.net) (Ping timeout)
[12:06:57] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:07:33] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:09:49] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[12:13:12] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:13:59] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:14:34] *** Joins: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP)
[12:15:56] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[12:15:59] <Heather> hey
[12:16:09] <Heather> may I ask clang qustion about lambdas here?
[12:16:32] <Heather> I've got something that breaks my brains )
[12:16:36] <Heather> here: https://gist.github.com/Heather/7483104
[12:17:55] <dbaupp> that looks like a bug
[12:18:07] <Heather> dbaupp it's clang 3.4 :/
[12:18:34] <Heather> How can I use something like that
[12:18:38] <Heather> I wonder ...
[12:19:13] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[12:19:37] <Ms2ger> Looks like the printf is reading bogus memory
[12:19:59] <Amanieu> Heather: the last 2 printf are missing a parameter
[12:20:42] <Heather> Amaranth yes but they pick one from somewhere and what is happening with B ?
[12:21:02] <Ms2ger> B looks like a bug
[12:21:17] <Amanieu> well no, at that point it's undefined behaviour and the compiler is allowed to do anything it wants
[12:21:18] <Heather> that's where gcc will win
[12:21:30] <Amanieu> what happens if you remove the last 2 lines?
[12:21:39] *** Joins: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP)
[12:21:59] <Heather> Amanieu it will print A 2 times
[12:22:10] <klutzy> what if you remove first line?
[12:22:16] <klutzy> it seems curious :o
[12:22:49] *** Quits: pytess (chatzilla@587557C6.FFE50ED0.87143308.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131028112446])
[12:23:02] <Heather> klutzy if I remove first line then it will print B
[12:23:19] <dbaupp> bugs in compilers other than rustc \o/
[12:23:30] *** Quits: fabiand (fabiand@moz-302B4E0A.adsl.alicedsl.de) (Quit: Verlassend)
[12:23:50] <Heather> dbaupp is rustc fully clang-free ?
[12:24:04] <klutzy> top-secret strategy: add bugs to other compilers
[12:24:20] <Heather> add one to go
[12:24:33] <klutzy> Heather: we use gcc/clang for linking
[12:24:47] <Amanieu> Heather: it prints the expected output with clang 3.3 here (ofc random numbers with the last 2)
[12:24:49] *** Joins: ofeldt- (ofeldt@moz-917948E0.dip0.t-ipconnect.de)
[12:24:52] <Amanieu> any optimizations?
[12:25:31] *** Quits: ofeldt (ofeldt@moz-14009101.dip0.t-ipconnect.de) (Ping timeout)
[12:25:54] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:26:50] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[12:29:32] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[12:31:23] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[12:34:47] <Heather> no...
[12:36:10] <strcat> Heather: store the lambdas in temporaries before calling them
[12:36:23] *** pmoore is now known as pmoore|lunch
[12:36:37] *** Quits: Sgeo (quassel@moz-D0F30617.dyn.optonline.net) (Connection reset by peer)
[12:37:44] * ChrisMorgan just submitted https://github.com/blackducksw/ohcount/pull/30 and will now wait for it to be ignored
[12:38:06] <strcat> dbaupp: https://github.com/thestinger/rust-core/commit/49c6ef24ea64eba412c1a0881bdbeda49828659f well, it works ;p
[12:38:18] *** Joins: fabiand (fabiand@moz-302B4E0A.adsl.alicedsl.de)
[12:38:22] <strcat> the parallel wrapper works well too! ;p
[12:38:30] *** Joins: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP)
[12:39:11] *** Quits: GeneralMaximus (ankur@15904EB6.A825C662.4C155415.IP) (Quit: Computer has gone to sleep.)
[12:39:48] *** Joins: lfox (lfox@moz-BEBF22B1.nycmny.east.verizon.net)
[12:39:51] <dbaupp> strcat: so.. you're using Vec as backing storage, but .len() == 0 always?
[12:39:57] <strcat> dbaupp: yep.
[12:40:08] <dbaupp> (which parallel wrapper?)
[12:40:24] <dbaupp> (oh, you even wrote a comment to that effect.)
[12:40:36] <strcat> dbaupp: I guess I could expose set_len and store nelts in it and then set it to 0 at the end
[12:40:38] <strcat> as a size optimization
[12:40:40] <strcat> but for now, meh
[12:41:37] <strcat> dbaupp: as in the dead simple mutex/cond based blocking queue I need to commit ;p
[12:41:58] <strcat> I'm thinking about how to write a reasonable test for it...
[12:43:15] <strcat> dbaupp: anyway, vector push is 7x faster than the stdlib
[12:43:29] <strcat> deque push is a bigger win ;p
[12:43:55] <strcat> and ideally.... futex will be kind and give me a fast concurrent queue
[12:44:51] <strcat> do rust queues context switch each time you send? hm
[12:46:50] <dbaupp> you mean stream()s?
[12:46:59] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[12:47:03] <strcat> well, chans or whatever they're called now
[12:47:24] <strcat> I haven't really kept up with all those changes
[12:49:19] <dbaupp> well, you create them with stream() -> (Chan, Port), but yes
[12:49:49] <dbaupp> I think there's they'll context switch if the other end is blocked on the .recv()
[12:49:56] <dbaupp> s/there's //
[12:51:02] *** Joins: fyolnish (fyolnish@moz-2BC3D6D2.uqwimax.jp)
[12:56:08] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[12:57:12] *** Quits: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) (Connection reset by peer)
[12:57:53] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[13:00:24] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[13:00:30] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[13:04:14] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[13:07:02] *** Quits: XgF (quassel@moz-86690AAD.london1.uk.e43.eu) (Ping timeout)
[13:07:18] *** Joins: ak31 (ak31@moz-5C189D89.red.bezeqint.net)
[13:07:31] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[13:07:53] *** kimundi is now known as zz_kimundi
[13:10:20] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:11:24] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[13:13:36] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:17:49] *** Joins: feduser (feduser@9DE85C2E.69A123F9.650F25DA.IP)
[13:19:08] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[13:21:35] *** Quits: fabiand (fabiand@moz-302B4E0A.adsl.alicedsl.de) (Quit: Verlassend)
[13:22:12] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:25:35] *** Joins: alisdair (textual@FAD454DC.CDDF2711.C4CBE0CB.IP)
[13:26:41] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[13:29:22] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[13:30:57] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:30:58] *** zz_kimundi is now known as kimundi
[13:31:24] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[13:35:41] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[13:36:06] *** pmoore|lunch is now known as pmoore
[13:39:47] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:40:00] *** pmoore is now known as pmoore|pto
[13:40:29] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[13:40:29] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[13:41:55] *** pmoore|pto is now known as pmoore|away
[13:42:40] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[13:42:53] *** Quits: lfox (lfox@moz-BEBF22B1.nycmny.east.verizon.net) (Quit: ZZZzzz…)
[13:43:31] <mletterle> Happy Friday Rustopia.
[13:46:04] * dbaupp assumes ChrisMorgan is preparing for bed right now
[13:46:12] *** Quits: alisdair (textual@FAD454DC.CDDF2711.C4CBE0CB.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:46:15] *** Joins: alisdair (textual@FAD454DC.CDDF2711.C4CBE0CB.IP)
[13:49:00] <Ms2ger> nmatsakis, moving strings into the standard library would certainly be interesting for Servo's future ucs2 strings too
[13:50:55] <dbaupp> Ms2ger: are ucs2 literals ever needed too?
[13:51:17] <Ms2ger> Sort of
[13:51:30] * dbaupp could imagine encoding support giving us `"foo"utf8`, `"foo"utf32`, `"foo"ucs2`, etc.
[13:51:35] *** Quits: alisdair (textual@FAD454DC.CDDF2711.C4CBE0CB.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:51:47] <Ms2ger> I mean, literal strings should always be in the utf-8 value space
[13:52:18] <Ms2ger> But doing the conversion at runtime would be bad for perf
[13:53:12] <dbaupp> (My example would be overloaded literals, so the "..." contents would always be utf8, by the resulting object/type/value would be a string type with the other encoding.)
[13:53:22] <pnkfelix> a macro should suffice, though, right?
[13:53:36] <pnkfelix> (or a compile-time evaluated function...)
[13:53:40] <dbaupp> a macro to reencode strings?
[13:53:46] <dbaupp> yeah, ctfe would be needed.
[13:53:55] *** Joins: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[13:53:55] <pnkfelix> dbaupp: yeah, rather than extend the lexer with support for both?
[13:54:03] <dbaupp> that'd work too
[13:54:07] <pnkfelix> dbaupp: I guess the complexity would have to live *somewhere* ...
[13:55:24] <pnkfelix> I guess it depends on whether we would need to e.g. support match patterns with embedded non-utf8 string literals
[13:55:36] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[13:56:22] <dbaupp> presumably appropriately designed CTFE would allow matching, etc, too.
[13:57:03] <strcat> Ms2ger: I'd like the unique string type to just be a wrapper around any random-access container of bytes (Vec, SmallVec, Rope)
[13:57:34] <strcat> dbaupp: it's possible to just have unrestricted CTFE, the issue is that it leads to depending on details about the compile-time environment so it's a good idea to restrict it in some way
[13:57:35] <pnkfelix> dbaupp: another option would be to turn pattern-expressions into a (new class of) macro-expansion context
[13:57:48] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[13:58:08] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:04:59] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Ping timeout)
[14:07:08] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[14:08:59] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[14:09:11] *** Joins: pcwalton (pcwalton@9C2E78E6.8C982E60.292610BC.IP)
[14:09:11] *** ChanServ sets mode: +ao pcwalton pcwalton
[14:10:00] *** Joins: amro (quassel@CC16DC52.8AAAF769.FAAB0799.IP)
[14:12:09] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[14:12:18] *** Joins: dherman (dherman@9C2E78E6.8C982E60.292610BC.IP)
[14:12:18] *** ChanServ sets mode: +ao dherman dherman
[14:12:57] *** Joins: brson (brson@9C2E78E6.8C982E60.292610BC.IP)
[14:12:57] *** ChanServ sets mode: +ao brson brson
[14:16:47] *** Quits: brson (brson@9C2E78E6.8C982E60.292610BC.IP) (Ping timeout)
[14:16:52] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[14:17:05] *** Quits: DasIch (dasich@moz-5EDA591.de) (Ping timeout)
[14:17:57] *** Joins: brson (brson@9C2E78E6.8C982E60.292610BC.IP)
[14:17:57] *** ChanServ sets mode: +ao brson brson
[14:18:53] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[14:19:26] *** Quits: doomlord_ (servitor@moz-4625DF14.range86-184.btcentralplus.com) (Ping timeout)
[14:20:11] <feduser> can anyone help me with this? do I need to rebuild rust? use std::io; --- unresolved import: there is no `io` in `std`
[14:20:48] *** Joins: doomlord_ (servitor@moz-4625DF14.range86-184.btcentralplus.com)
[14:22:57] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[14:24:22] <strcat> huh
[14:24:24] <pnkfelix> feduser: hard to tell without more context.
[14:24:37] <strcat> I wonder why intel-tbb's blocking queue is bounded and the non-blocking queue is unbounded
[14:24:44] <strcat> is there an obvious reason for that design?
[14:24:51] <strcat> their docs are not very revealing.
[14:25:12] <feduser> i just have this one line, and a blank main function, fn main {}
[14:25:16] <feduser> program fails to compile
[14:25:42] <pnkfelix> feduser: What are you buildling with?  0.8 release, or the github master?  
[14:25:46] <feduser> master
[14:26:04] <pnkfelix> feduser: Also, do have any previous installations of rust lying around in places it might be looking for libraries?
[14:26:41] *** Quits: pcwalton (pcwalton@9C2E78E6.8C982E60.292610BC.IP) (Quit: pcwalton)
[14:26:54] <feduser> i just do a git pull, remake (configure, make, make install) every few days
[14:26:54] <pnkfelix> feduser: (I'm just guessing, I don't actually know if such a scenario could actually yield the erroneous behavior you are seeing.)
[14:27:06] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:27:14] *** Joins: esucg0aq47trgb8 (esucg0aq47@559A02C2.25629DAB.D623D704.IP)
[14:27:16] <feduser> do i need to delete the libs in /usr/local/lib?
[14:27:17] <esucg0aq47trgb8>   YOU MAY BE WATCHED 
[14:27:17] <esucg0aq47trgb8> WARNING       WARNING      WARNING,                       WARNING
[14:27:17] <esucg0aq47trgb8> WARNING             WARNING              WARNING,     WARNING         WARNING
[14:27:17] <esucg0aq47trgb8>  YOU MAYWATCHED
[14:27:17] <esucg0aq47trgb8> YOU MAY BE WATCHED
[14:27:17] <esucg0aq47trgb8>    YOU MAY BE WATCHED
[14:27:18] <esucg0aq47trgb8>             )
[14:27:18] *** Quits: esucg0aq47trgb8 (esucg0aq47@559A02C2.25629DAB.D623D704.IP) (User has been banned from Mozilla (no spamming here))
[14:31:19] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[14:32:15] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[14:33:20] <FreeFull> That guy was spamming on other networks too
[14:33:36] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[14:33:53] <nmatsakis> Ms2ger: good point
[14:34:15] <nmatsakis> Ms2ger: having strings as a language built-in has always bugged me a little -- they seem to stick out in weird ways
[14:34:17] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[14:34:43] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[14:34:50] *** Joins: fabiand (fabiand@C8840F03.221EE8DB.CE163028.IP)
[14:36:07] <strcat> oh, the tbb bounded queue is not actually bounded by default
[14:36:13] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[14:36:24] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[14:37:19] *** Joins: esucg0aq47trgb8 (esucg0aq47@559A02C2.25629DAB.D623D704.IP)
[14:37:19] *** Quits: esucg0aq47trgb8 (esucg0aq47@559A02C2.25629DAB.D623D704.IP) (Quit: esucg0aq47trgb8)
[14:37:24] *** Joins: esucg0aq47trgb8 (esucg0aq47@559A02C2.25629DAB.D623D704.IP)
[14:37:31] *** Quits: esucg0aq47trgb8 (esucg0aq47@559A02C2.25629DAB.D623D704.IP) (User has been banned from Mozilla (no spamming here))
[14:40:19] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:41:08] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[14:42:00] <strcat> 'If pops outnumber pushes, size() becomes negative. For example, if a concurrent_queue is empty, and there are n pending pop operations, size() returns -n.' I have no idea how that makes sense on a non-blocking queue :)
[14:44:31] *** Quits: dherman (dherman@9C2E78E6.8C982E60.292610BC.IP) (Quit: dherman)
[14:44:50] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:46:37] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[14:47:51] *** Joins: esucg0aq47trgb8 (esucg0aq47@559A02C2.25629DAB.D623D704.IP)
[14:48:37] *** Joins: DasIch (dasich@moz-5EDA591.de)
[14:49:01] *** Quits: esucg0aq47trgb8 (esucg0aq47@559A02C2.25629DAB.D623D704.IP) (User has been banned from Mozilla (no spamming here))
[14:49:46] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[14:50:03] *** Joins: jdm (jdm@9C2E78E6.8C982E60.292610BC.IP)
[14:50:03] *** ChanServ sets mode: +o jdm
[14:50:52] *** Quits: moostik (Icedove@moz-4AD91EE4.w82-121.abo.wanadoo.fr) (Ping timeout)
[14:51:01] *** Quits: fabiand (fabiand@C8840F03.221EE8DB.CE163028.IP) (Quit: Verlassend)
[14:51:55] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:52:55] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:55:55] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[14:57:24] *** Joins: moostik (Icedove@moz-4AD91EE4.w82-121.abo.wanadoo.fr)
[14:58:07] *** Quits: Jackneill (Jackneill@moz-7EDCBF0A.pool.digikabel.hu) (Ping timeout)
[14:59:05] *** Joins: eddyb9 (eddy@336E3A7F.D51DAF03.FB866788.IP)
[15:02:27] <erickt> nmatsakis: any luck with #10391?
[15:02:32] <erickt> and good morning :)
[15:02:55] <erickt> ooh and a new blog! http://smallcultfollowing.com/babysteps/blog/2013/11/14/treating-vectors-like-any-other-container/
[15:04:39] *** Joins: brson_ (brson@981AA104.E81F12CD.76F66111.IP)
[15:04:46] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[15:04:58] *** Quits: brson (brson@9C2E78E6.8C982E60.292610BC.IP) (Ping timeout)
[15:05:19] *** Joins: fabiand (fabiand@C8840F03.221EE8DB.CE163028.IP)
[15:08:53] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[15:09:26] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[15:09:43] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[15:10:12] *** Joins: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[15:10:18] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (No route to host)
[15:10:19] <nmatsakis> erickt: sorry haven't had time to look, I really REALLY hope to make some time for rust today, I've just got to get this other SM bug finished ... almost there I think
[15:10:27] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[15:11:08] <erickt> no problem! I just saw on https://github.com/mozilla/rust/issues/10467 you thought you might have had some time yesterday to look into it
[15:12:20] *** Joins: bynaryshef (bynaryshef@moz-DFAF4329.dia.static.qwest.net)
[15:13:06] *** Quits: bynaryshef (bynaryshef@moz-DFAF4329.dia.static.qwest.net) (Quit: Leaving)
[15:13:48] *** jorendorff_away is now known as jorendorff
[15:13:55] *** Joins: Jackneill (Jackneill@moz-30C3E4FB.pool.digikabel.hu)
[15:15:44] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:18:08] <erickt> nmatsakis: in regards to your blog post, I vaguely remember that scala has a way for a user to provide custom matchers. Could something like that work for supporting `match [1,2,3] { [1,2,.. ref x] => { … } }`?
[15:18:36] *** Quits: fabiand (fabiand@C8840F03.221EE8DB.CE163028.IP) (Quit: Verlassend)
[15:18:51] *** Quits: Jackneill (Jackneill@moz-30C3E4FB.pool.digikabel.hu) (Ping timeout)
[15:22:47] <erickt> nmatsakis: I think it was case classes
[15:23:06] *** Joins: aeqwa (aeqwa@moz-B135FA98.dsl.tropolys.de)
[15:23:26] <nmatsakis> erickt: yes, scala has something like that. I see no reason that it can't work, it just exposes eval order and complicates generating match code
[15:23:37] <nmatsakis> erickt: but I imagine we could just have a very simple fallback for cases tha tinvolve custom logic
[15:24:05] <nmatsakis> erickt: and then use the more complex code in trans that nobody understands only if there are builtin patterns
[15:24:21] <nmatsakis> erickt: we could probably even do 1 better and simplify that code quite a bit, since it doesn't have to handle everything
[15:24:26] * nmatsakis likes THAT idea
[15:25:01] <aeqwa> Hello! I've one simple question. How do you debug your code or which tools do you use to do it on linux ?
[15:25:14] <nmatsakis> erickt: I guess I overstated the problem there. We won't be able to handle moves in such patterns, though, but that has complications anyway (as I wrote when discussing the index trait, though for patterns we could probably make it work since the indices are kind of known)
[15:25:37] <nmatsakis> aeqwa: rust code specifically? gdb for backtraces, rust's built-in logging for everything else
[15:26:44] *** Quits: JanC (janc@moz-99E5AB10.dsl.scarlet.be) (Ping timeout)
[15:26:56] <sanxiyn> erick: How does exhaustiveness checking work with customizable pattern matching?
[15:27:21] <aeqwa> aeqwa: i looking for something where i have syntax highlighting and where i have a nice frontend for gdb
[15:27:41] *** Quits: gdh1c (Mibbit@moz-91C5DE55.na.cust.bahnhof.se) (Quit: http://www.mibbit.com ajax IRC Client)
[15:28:18] <nmatsakis> sanxiyn: I don't really see a problem with that
[15:28:29] <nmatsakis> sanxiyn: it's tricker in scala, because the overloaded matches are refutable,
[15:28:34] <nmatsakis> sanxiyn: but a slice or deref is not.
[15:29:33] <sanxiyn> Ah I guess it's no problem if custom pattern is not refutable
[15:29:52] *** Joins: notmatt_ (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[15:29:55] *** Quits: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Connection reset by peer)
[15:30:28] <sanxiyn> How does Scala's implementation compare to https://ghc.haskell.org/trac/ghc/wiki/ViewPatterns ?
[15:31:24] *** kimundi is now known as zz_kimundi
[15:32:51] <nmatsakis> sanxiyn: it...seems comparable, though scala's are kind of simpler to use
[15:33:06] * sanxiyn should study Scala some day
[15:33:13] <nmatsakis> sanxiyn: basically in scala when you write a pattern like Foo(a, b, c) it tries to resolve `Foo`
[15:33:32] <nmatsakis> sanxiyn: Foo should have type T => Option<(A,B,C)>
[15:33:48] <nmatsakis> sanxiyn: where T is the type of the value being matched and A B and C will be the types of a b and c
[15:33:51] *** Joins: Jackneill (Jackneill@moz-1B033590.pool.digikabel.hu)
[15:34:00] <nmatsakis> sanxiyn: there are a few more bells and whistles, but that's the basic idea.
[15:34:13] <sanxiyn> nmatsakis: Indeed, seems to be the same thing...
[15:34:18] <nmatsakis> it's quite elegant actually, you can implement all the normal matching in terms of it
[15:34:42] *** Quits: amro (quassel@CC16DC52.8AAAF769.FAAB0799.IP) (Ping timeout)
[15:34:52] <nmatsakis> in fact, matching against scala's version of enums (case classes) are just sugar for using those
[15:36:43] *** Joins: jvshahid (jvshahid@moz-53774307.nycm.ny.megapath.net)
[15:37:18] <sanxiyn> (Haskell view pattern allows both (A, B, C) and Maybe (A, B, C).)
[15:37:45] *** Joins: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net)
[15:38:23] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[15:40:05] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[15:40:07] *** Joins: freezerburnv (freezerbur@moz-F0DFB280.hfc.comcastbusiness.net)
[15:40:18] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[15:40:18] <wycats_> good morning folks!
[15:41:03] <nmatsakis> sanxiyn: scala allows that, plus boolean I thnk (as sugar for Option<()>
[15:41:06] <nmatsakis> wycats_: morning.
[15:42:06] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[15:42:08] *** Joins: JanC (janc@moz-6E6020E3.dsl.scarlet.be)
[15:42:14] *** Joins: fabiand (fabiand@C8840F03.221EE8DB.CE163028.IP)
[15:43:37] *** Quits: fabiand (fabiand@C8840F03.221EE8DB.CE163028.IP) (Quit: Verlassend)
[15:43:40] <wycats_> :D
[15:43:52] *** Quits: freezerburnv (freezerbur@moz-F0DFB280.hfc.comcastbusiness.net) (Ping timeout)
[15:43:52] *** Quits: notmatt_ (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[15:44:10] *** Joins: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[15:44:23] <erickt> nmatsakis: anything that simplifies trans is a win in my book :)
[15:44:43] <nmatsakis> erickt: to be fair we could of course simplify trans and remove complex cases either way ;)
[15:44:43] *** Quits: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Connection reset by peer)
[15:44:51] *** Joins: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[15:44:52] <nmatsakis> erickt: but anyway maybe I overstated the troubles with patterns
[15:45:18] <erickt> thats true too :)
[15:45:28] <bstrie> nmatsakis: oh good, that was what I came in here to complain about :P
[15:45:52] <nmatsakis> bstrie: simplifying trans? ;)
[15:47:35] <bstrie> nmatsakis: yes! obfuscated code is our best defense against a rogue developer forking the language :P
[15:48:13] *** Quits: feduser (feduser@9DE85C2E.69A123F9.650F25DA.IP) (Ping timeout)
[15:49:03] <nmatsakis> bstrie: way ahead of you
[15:51:07] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:52:18] <bstrie> nmatsakis: furthermore, in an ideal world you would be the only person to ever understand the borrow checker
[15:52:27] <bstrie> bus factor = 1
[15:53:16] <nmatsakis> bstrie: way ahead of you
[15:53:37] * nmatsakis weeps
[15:53:38] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[15:53:49] *** Quits: brson_ (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[15:53:55] * Ms2ger throws nmatsakis under a bus just to be sure
[15:55:01] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[15:55:49] *** Quits: Jackneill (Jackneill@moz-1B033590.pool.digikabel.hu) (Ping timeout)
[15:57:01] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:59:11] *** Joins: jordyd (jordyd@moz-FEE269A.seg36.ucf.edu)
[15:59:17] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Client exited)
[16:00:48] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[16:01:02] *** Joins: Jackneill (Jackneill@moz-B86C2F03.pool.digikabel.hu)
[16:01:05] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[16:04:13] *** Quits: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Client exited)
[16:09:21] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:09:57] *** Quits: fyolnish (fyolnish@moz-2BC3D6D2.uqwimax.jp) (Client exited)
[16:10:53] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[16:13:19] *** Joins: fyolnish (fyolnish@moz-2BC3D6D2.uqwimax.jp)
[16:14:06] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[16:14:13] *** Joins: kellogh (timkellogg@moz-602CE33D.midco.net)
[16:15:26] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:15:37] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[16:18:49] *** Joins: Benvie_ (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP)
[16:19:19] *** Joins: details (bzlandfill@moz-87756838.clienti.tiscali.it)
[16:19:49] <bstrie> details: oh hello there
[16:20:16] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[16:20:17] <details> Here I am. :)
[16:20:18] <bstrie> wycats_: a belated good morning to you as well
[16:20:23] <details> bstrie: Hi.
[16:20:27] <wycats_> wheee
[16:20:41] <wycats_> today is the "final exam" - I have to finish porting my API over by EOD
[16:20:47] <bstrie> wycats_: or else?!?
[16:21:33] <wycats_> or else my boss (me?) will tell me I can't work on Rust anymore for work :P
[16:21:42] <wycats_> seems tricky... I run my own company :P
[16:21:56] <details> Is there an equivalent to syntax extensions in other languages? The concept is difficult to grasp.
[16:22:20] <bstrie> wycats_: godspeed :)
[16:22:23] <wycats_> macros?
[16:22:26] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[16:22:57] *** Joins: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr)
[16:23:01] <bstrie> wycats_: when you are inevitably buried under an avalanche of ICE, I hope you reconsider rust once the language is stable :P
[16:23:25] <wycats_> bstrie: I run Ember, I know the deal
[16:23:38] *** Quits: kellogh (timkellogg@moz-602CE33D.midco.net) (Quit: kellogh)
[16:23:41] <wycats_> bstrie: the good news is I got things working with the help of acrichto so far
[16:23:55] <wycats_> my first test was porting the Hello message, which is simple but representative
[16:23:59] <wycats_> and I finished it yesterday
[16:24:07] <wycats_> today it just (I hope) repeating that over and over
[16:24:55] <bstrie> wycats_: even if nothing else comes of it, I'd be fascinated to read a retrospective of your experience!
[16:25:01] <wycats_> bstrie: heh
[16:25:05] <bstrie> wycats_: I think your twitter followers were asking for the same thing :P
[16:25:12] <wycats_> as a person who reads retrospectives, writing them is tricky business
[16:25:25] <wycats_> you have to avoid being too mean about things that sucked or you get written off
[16:26:33] <bstrie> wycats_: well then show us before you publish it and we'll tell you if you're being too mean!
[16:26:55] <Ms2ger> "Yes."
[16:27:04] <wycats_> ha
[16:27:17] *** Quits: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[16:27:23] <wycats_> honestly, so far, the only major surprises have been ways that & and ~ go beyond pure ownership
[16:27:32] <wycats_> &str is represented differently than ~str
[16:27:44] <wycats_> and since I'm working partly in C, those differences matter
[16:27:44] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Quit: Leaving)
[16:28:05] <wycats_> (I'm sure there are other surprises, but that one leaps to mind)
[16:31:37] *** Quits: nlminhtl[wrk] (MNgo@CA8A07C1.DA1FB717.DAA4A685.IP) (Quit: Leaving)
[16:33:03] *** Quits: ak31 (ak31@moz-5C189D89.red.bezeqint.net) (Ping timeout)
[16:33:06] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:33:35] <wycats_> I got burned by a few compiler issues
[16:33:35] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[16:33:38] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:33:58] <wycats_> needing to cast ~Trait to Trait, Foo to ~Trait
[16:34:23] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[16:34:39] <wycats_> nothing really major honestly 
[16:34:45] <wycats_> learning was the hardest part
[16:34:51] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[16:34:56] <wycats_> and "learning curve is high" isn't a productive comment
[16:36:18] <wycats_> My general comment there is that to some degree, a more hand-wavy intuitive explanation of ownership that starts with T, and then moves on to ~str/~T and &T would have helped me
[16:37:00] <wycats_> also lifetimes turned out to not be so complicated (once I understood the "return a borrowed pointer" idea), but their notation doesn't scream understandability
[16:37:05] <wycats_> I'll write this up
[16:37:11] <wycats_> bstrie: does ^^ seem reasonable?
[16:37:35] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[16:37:47] <wycats_> I'm planning on giving an experience report lightning talk at the next Rust meetup in SFO
[16:38:35] <bstrie> wycats_: oh, awesome :)
[16:38:44] <bstrie> wycats_: there's a lot of potential flux in the &str ~str space
[16:38:52] <wycats_> my experience is pretty niche in that I spent more time than most in C
[16:38:57] <wycats_> bstrie: yeah my proposal for that is rust.h
[16:39:04] <wycats_> a more stable abstraction I can use from C
[16:39:23] <wycats_> I was just thrown by "~str and &str are represented totally differently internally, so .as_slice() etc."
[16:39:38] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[16:41:10] <bstrie> wycats_: I think at some point the plan was that we were going to make &str and ~str and &str and ~str have a uniform representation wrt all other &T and ~T types. this plan was called DST, but you'd have to ask nmatsakis to elaborate on if this is still in the cards
[16:41:27] <bstrie> er, that second &str and ~str should be &[T] and ~[T]
[16:41:33] <eddyb9> I think you meant to... yeah :))
[16:41:40] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:41:53] *** Quits: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Ping timeout)
[16:42:09] <eddyb9> "use from C"...
[16:42:19] <strcat> bstrie: well, http://smallcultfollowing.com/babysteps/blog/2013/11/14/treating-vectors-like-any-other-container/
[16:42:33] <eddyb9> wycats_: there's helpers in libstd for working with C strings
[16:42:59] <nmatsakis> wycats_: so, the precise treatment of &str and &[T] is still in the air; the current treatment is unsatisfactory, plan of record has been "DST", that post that strcat just posted presents another possible approach; I can elaborate on what DST means if you like, though I have to run for a bit so it'd have to wait :)
[16:43:14] <eddyb9> wycats_: including converting strs to something usable by C APIs
[16:43:29] <strcat> wycats_: fwiw T, ~T, ~str, ~[T] are the same ownership-wise
[16:43:42] <strcat> the ones with ~ have a dtor, but so can T alone
[16:43:42] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[16:44:20] <bstrie> strcat: yes, I saw (and am still reading it). not sure if it mentions anything about strings
[16:44:37] <eddyb9> nmatsakis: I'll say it as many times as I have to: don't remove syntax sugar! (I like it sweet)
[16:44:51] *** Joins: q66__ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[16:45:12] <eddyb9> bstrie: str is just a newtype of [u8] AFAIK
[16:45:23] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[16:45:45] <bstrie> eddyb9: if that were true then stack-allocated strings would be possible
[16:45:49] <pnkfelix> bstrie: "~str        ==>  String", "~str        ==>  String"
[16:45:51] *** Quits: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[16:45:58] <pnkfelix> bstrie: d'oh
[16:46:05] <strcat> bstrie: fixed-size strings are just sort of pointless
[16:46:06] <pnkfelix> bstrie: "&'a str     ==>  Substring<'a>"
[16:46:21] <strcat> bstrie: because the size would have to be *bytes*, in order for them to have the same size
[16:46:38] <strcat> when really you care about string size in code points (rarely) or graphemes (often)
[16:46:44] <bstrie> strcat: I'm not arguing in favor of them, but is there any reason we'd go out of our way to *prevent* such a type, if it just falls out of the system naturally?
[16:46:52] <strcat> and also, strings can't be mutated if they're not ~str
[16:47:05] <strcat> bstrie: well, the type isn't useful
[16:47:15] <strcat> [T, ..N] and ~[T] are really totally different things
[16:47:22] <wycats_> strcat: yeah... they are same ownership wise :)
[16:47:30] <details> Is there a list of Rust pitfalls for newbies?
[16:47:32] <wycats_> strcat: we were discussing that the other day
[16:48:23] <bstrie> details: it's not so much that rust has *pitfalls*, the compiler will generally stop you from doing anything dumb
[16:48:34] <wycats_> strcat: I *believe* that there are some pitfalls due to the internal representations being different (beyond just C representations), but honestly I was in hack-it-until-it-works mode while I was seeing most of it
[16:48:40] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:48:43] <strcat> bstrie: from doing anything memory unsafe at least ;p
[16:48:43] <wycats_> bstrie: maybe too glib? :P
[16:48:49] <eddyb9> the devil is in the details
[16:49:00] <wycats_> the compiler isn't always the clearest ;)
[16:49:20] <wycats_> probably the biggest "pitfall" is making sure you understand ownership, at least to a first approximation
[16:49:35] <wycats_> if you don't, nothing is going to work
[16:49:59] <wycats_> I'm also not entirely sure you can get away with not understanding lifetimes for very long
[16:50:10] <wycats_> at minimum, code you read will use them
[16:50:27] <strcat> wycats_: I plan on rewriting those sections of the tutorial, haven't gotten to them
[16:50:29] <wycats_> (again, to a first approximation)
[16:50:41] <wycats_> strcat: I can help :)
[16:51:34] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[16:52:01] * strcat thinks http://static.rust-lang.org/doc/master/tutorial.html#boxes is quite good now, except for the wordiness in the middle about type erasure
[16:52:14] <strcat> could do a much better job with move semantics
[16:52:47] <strcat> could just drop the managed box coverage and make a tutorial on alternatives to the standard ownership system
[16:52:58] <wycats_> I think there's a firster-approximation way to explain it
[16:53:24] <wycats_> also, remove @boxes from the master tutorial
[16:54:02] <strcat> I did for vectors already
[16:54:06] <strcat> (and strings)
[16:54:06] <wycats_> Rust is definitely a bit heavy on the jargon
[16:54:20] <wycats_> nice :)
[16:54:23] <wycats_> wheeee
[16:54:27] <wycats_> kill it with fire
[16:54:58] <wycats_> I think a good way to learn it is to start with JUST stack-allocated, non-mut stuff
[16:55:08] <wycats_> and then say... well... we have a string (or vector) here
[16:55:13] <wycats_> we can't really store it on the stack
[16:55:21] <wycats_> ~str
[16:55:31] <wycats_> (again, this is first-approximation stuff)
[16:55:50] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[16:55:55] <strcat> http://static.rust-lang.org/doc/master/tutorial.html#vectors-and-strings well it's better than it was before ;p
[16:56:00] <wycats_> and then... ok cool... so we have a function that pulls out something from this struct
[16:56:15] <wycats_> before, when we only had foo, we just had it take a foo
[16:56:18] <wycats_> but now... oh noes
[16:56:22] <wycats_> we have ~foo
[16:56:28] <wycats_> how can this work?!
[16:56:32] <wycats_> enter &foo
[16:56:34] <wycats_> which will take either
[16:56:45] <strcat> not really about taking either
[16:56:53] *** Quits: details (bzlandfill@moz-87756838.clienti.tiscali.it) (Quit: CGI:IRC (Ping timeout))
[16:56:56] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[16:56:59] <wycats_> strcat: confirm
[16:57:00] <wycats_> it is not
[16:57:09] <strcat> &T is a view of a T anywhere
[16:57:28] <strcat> could be in a struct field, inside some fixed-size vector, inside some memory allocation, anywhere
[16:57:29] <wycats_> with more constraitns
[16:57:30] <wycats_> I know
[16:57:38] <wycats_> ^^ wasn't trying to be precise
[16:57:46] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[16:58:00] <strcat> the borrowed pointer (-> renamed to reference) section needs the same overhaul as ~ got
[16:58:05] <wycats_> :)
[16:58:06] *** Quits: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:58:08] <strcat> where it explains why/when you would use them
[16:58:35] <wycats_> so this: "Rust's borrowed pointers are a general purpose reference type. In contrast with owned boxes, where the holder of an owned box is the owner of the pointed-to memory, borrowed pointers never imply ownership. A pointer can be borrowed to any object, and the compiler verifies that it cannot outlive the lifetime of the object"
[16:58:37] <wycats_> is not tutorial material
[16:59:01] <strcat> well tbh I've never read that section, I've only really read the sections of the tutorial I wrote
[16:59:03] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[16:59:10] <strcat> and some surrounding bits
[16:59:53] <strcat> I think my introduction to the lifetime syntax (the old syntax) was a blog post
[17:00:09] *** Joins: bholley (anonymous@moz-BBE3ABD.mv.mozilla.com)
[17:00:27] <wycats_> so far, lifetimes made intuitive sense to me once I understood returning borrowed pointers
[17:00:34] <wycats_> they became obvious at that point
[17:00:43] <wycats_> (although less obvious why it wasn't inferred more)
[17:01:26] <wycats_> strcat: I know that &foo isn't about "taking both", but that's basically when it comes up at very first
[17:01:28] *** Joins: nejucomo (Adium@9F0867A2.BB950596.DFB232DA.IP)
[17:01:32] <wycats_> you have a function
[17:01:43] <wycats_> you would like to do some simple calculation on a T
[17:01:49] <wycats_> you don't care about retaining the T
[17:01:59] <wycats_> but callers may have T or ~T
[17:02:02] <wycats_> so you take a &T
[17:02:21] <strcat> you could take T as long as it's implicitly copyable and it wouldn't be different semantically
[17:02:33] *** Joins: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP)
[17:03:23] <eddyb9> there's a logic for using &, the same one you have in C++ - passing a structure without copying it
[17:04:17] <eddyb9> like, something large that would be costy to copy
[17:04:21] <wycats_> eddyb9: hm... in Rust, ownership is important
[17:04:47] <wycats_> the fact that copying *would* happen isn't so important to gaining an intuition about & early on I think
[17:04:56] <wycats_> unsure
[17:05:12] <wycats_> strcat and you are right that if you don't care about copying you can skip &
[17:05:22] <wycats_> but in practice copying is something you almost always want to avoid if you can
[17:05:35] <strcat> not really
[17:05:41] <wycats_> say more
[17:05:43] *** Joins: fabiand (fabiand@C8840F03.221EE8DB.CE163028.IP)
[17:05:47] <strcat> you want to avoid it when it involves a heap allocation (but rust won't *ever* do that implicitly)
[17:06:03] <strcat> rust doesn't have copy constructors, it doesn't ever do anything more than a shallow memcpy without an explicit call
[17:06:22] <strcat> passing small objects by-value is faster than using references, if you're comparing without optimizations
[17:06:46] <wycats_> strcat: so you're saying don't bother with borrowing for small objects?
[17:06:51] <eddyb9> and with optimization?
[17:07:02] <eddyb9> wycats_: I'd say small and trivial
[17:07:13] <wycats_> eddyb9: what constitutes small and trivial?
[17:07:51] <eddyb9> primitives, tuples of primitives, structures of primitives - but I can't really express the fuzzy concept in my head
[17:08:05] <wycats_> heh
[17:08:13] <strcat> wycats_: if it's not a heap allocation (not explicit) you really don't need to worry about it
[17:08:16] <wycats_> so we're beyond "first approximation" territory here then
[17:08:17] *** Quits: fabiand (fabiand@C8840F03.221EE8DB.CE163028.IP) (Quit: Verlassend)
[17:08:37] <strcat> there is a point where you end up wanting to pass by-reference but there is no hard guideline
[17:08:43] <wycats_> I guess I'm used to languages where everything is by-reference
[17:09:04] <strcat> you definitely never want to pass anything under 2 words by reference when you could just pass it by-value
[17:09:17] <eddyb9> wycats_: if it doesn't use pointers and it's not more than 4 fields long, it should be fine - I'm just approximating
[17:09:21] <strcat> but LLVM is an optimizing compiler and in most cases it won't really matter (at least at --opt-level=3)
[17:10:45] <eddyb9> inlining, etc.
[17:10:53] <wycats_> eddyb9: seems good
[17:11:25] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Client exited)
[17:11:30] <eddyb9> strcat: if I have &self, with Self being an enum, do I need to deref to match on it?
[17:12:12] <eddyb9> I have some generated code, but it could just as well be useless
[17:12:47] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[17:13:24] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[17:14:10] <strcat> eddyb9: you don't need to deref
[17:14:16] <strcat> but if you don't, you need to prefix every pattern with &
[17:14:23] <strcat> which does a deref
[17:14:39] <eddyb9> thanks
[17:15:16] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[17:15:22] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[17:15:34] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[17:17:10] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[17:18:00] <Ms2ger> strcat, so, you need to deref? ;)
[17:18:42] *** zz_kimundi is now known as kimundi
[17:21:58] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[17:22:55] *** Quits: Ferreus (ferreus@moz-18FAC6B7.dip0.t-ipconnect.de) (Ping timeout)
[17:23:18] <Ms2ger> "A person who can debug a device driver or a distributed system is a person who can be trusted in a Hobbesian nightmare of breathtaking scope; a systems programmer has seen the terrors of the world and understood the intrinsic horror of existence."
[17:26:09] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[17:26:21] *** Joins: maxiepoo (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[17:28:14] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[17:29:42] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:30:23] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[17:32:48] *** Quits: nejucomo (Adium@9F0867A2.BB950596.DFB232DA.IP) (Quit: Leaving.)
[17:33:48] *** Joins: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net)
[17:35:09] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:35:43] *** Joins: heftig (heftig@AA021FAC.623E412C.172227A7.IP)
[17:36:09] *** flaper87 is now known as flaper87|afk
[17:38:10] *** Quits: nik_ (nik@moz-BEC219B.pool.mediaways.net) (Client exited)
[17:39:29] *** Joins: feduser (feduser@BAC54054.BC74D.799BF54A.IP)
[17:40:19] <wycats_> Ha!
[17:41:10] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[17:45:51] *** Joins: japaric (japaric@38721D2D.1886426E.F29ED47E.IP)
[17:48:12] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[17:49:18] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[17:50:34] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[17:53:41] <sfackler> "Dispair is when you're debugging a kernel driver and you look at a memory dump and you see that a pointer has a value of 7. THERE IS NO HARDWARE ARCHITECTURE THAT IS ALIGNED ON 7. Furthermore, 7 IS TOO SMALL AND ONLY EVIL CODE WOULD TRY TO ACCESS SMALL NUMBER MEMORY."
[17:54:32] <strcat> x86 doesn't care about memory alignment anyway ;p
[17:54:48] * Ms2ger sees sfackler has been reading the same thing
[17:55:05] <strcat> no longer even slower than aligned access except in the sense that it's more likely to overlap across cache lines
[17:55:19] <strcat> sadly we still have all this padding everywhere! ;)
[17:55:26] <sfackler> it can if you ask it to!
[17:55:55] <sfackler> and IIRC loads into vector registers must be aligned to some level
[17:57:03] <strcat> sfackler: not anymore
[17:57:31] <strcat> sfackler: if you look in llc -mcpu=help you'll see 'vector-unaligned-mem' and 'fast-unaligned-mem' are there
[17:57:36] <strcat> and they're both on with ivy bridge
[17:57:59] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:58:05] <strcat> although it will probably still align them for the sake of making it align to cache lines better
[17:58:23] <sfackler> ah
[17:58:59] <sfackler> I wonder if anyone uses the memory alignment check bit in EFLAGS
[17:59:43] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[17:59:48] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[18:00:45] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[18:02:20] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[18:03:07] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[18:03:15] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[18:05:07] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[18:05:35] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[18:05:43] *** Quits: moostik (Icedove@moz-4AD91EE4.w82-121.abo.wanadoo.fr) (Ping timeout)
[18:06:21] *** Joins: arodier74 (Thunderbir@moz-527C2D95.in-addr.btopenworld.com)
[18:07:12] *** Quits: jdm (jdm@9C2E78E6.8C982E60.292610BC.IP) (Ping timeout)
[18:08:12] *** Joins: nejucomo (Adium@9F0867A2.BB950596.DFB232DA.IP)
[18:10:42] *** Joins: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP)
[18:11:06] *** Joins: boredomist (ruqs@8186917.CC8FA3EE.E3401B6E.IP)
[18:12:10] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Ping timeout)
[18:12:12] *** Joins: lolwat (nano@moz-74CAD1CA.superkabel.de)
[18:14:38] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[18:14:57] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[18:15:07] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Client exited)
[18:17:41] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[18:22:04] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Connection reset by peer)
[18:22:34] <wycats_> 1,400 tickets O_o
[18:22:50] <strcat> probably 200 are duplicates and 800 are feature requests
[18:22:50] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[18:23:03] <wycats_> you should close feature requests you do not plan to ship :P
[18:23:24] <strcat> RFCs are opened far faster than they're discussed/closed
[18:23:25] <wycats_> or feature requests that are likely to change in form by the time anyone can get to them
[18:24:09] *** Joins: mib_qbkopu (Mibbit@moz-41FD75F3.xlate.ufl.edu)
[18:24:44] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[18:25:07] <mib_qbkopu> Why does fn find<'a>(&'a self, key: &uint) -> Option<&'a T> in std::trie take a uint as a borrowed pointer? Isn't this inefficient?
[18:25:54] <strcat> mib_qbkopu: LLVM optimizes it out
[18:26:00] <strcat> it does that because the trait has that signature
[18:26:03] <sfackler> it has to match the signature of find in container::Map
[18:26:36] <strcat> if a call is cross-library, dynamic linking overhead outweighs that by far
[18:26:53] <strcat> with link-time optimization (no library boundary) it will just promote it to by-value
[18:27:02] <strcat> anyway I think that function is #[inline] so it's always crate-local
[18:27:44] *** Quits: lolwat (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[18:29:04] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[18:29:46] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[18:29:49] <mib_qbkopu> I thought Rust only had static linking, what?
[18:30:17] <strcat> atm it only supports dynamic linking for the crate model
[18:30:32] <strcat> doing static linking or LTO is easy with the *language* but not the crate ecosystem yet
[18:31:42] <o11c> rust has no need for static linking
[18:31:48] <o11c> it has a sane SO versioning system
[18:32:04] <strcat> it still needs static linking...
[18:32:26] <strcat> and there is a huge use case for link-time optimization
[18:32:29] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:33:21] <strcat> what's the use case for dynamic linking when you can't expose a stable ABI?
[18:33:52] <strcat> *maybe* you save some space, but I think it's equally likely you waste it until you have dozens of binaries using the lib
[18:34:38] *** Quits: heftig (heftig@AA021FAC.623E412C.172227A7.IP) (Ping timeout)
[18:35:04] *** Joins: heftig (heftig@AA021FAC.623E412C.172227A7.IP)
[18:35:06] <strcat> the use case for dynamic linking is mostly making debian/fedora happy ;p
[18:35:32] *** Quits: aeqwa (aeqwa@moz-B135FA98.dsl.tropolys.de) (Quit: WeeChat 0.4.3-dev)
[18:35:38] <o11c> and ordinary users
[18:35:48] <strcat> ordinary?
[18:35:55] <o11c> never underestimate the usefulness of being able to run 'ldd'
[18:35:55] <sfackler> why would ordinary users care about the linking model used by their software?
[18:35:58] <o11c> I mean ordinary linux users
[18:36:06] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[18:36:33] <bstrie> I'm not sure if there's any such thing as "ordinary" linux users :P
[18:36:51] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[18:37:29] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:37:37] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[18:37:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:38:34] *** Quits: mib_qbkopu (Mibbit@moz-41FD75F3.xlate.ufl.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[18:38:41] *** Joins: panitaliemom (Mibbit@moz-41FD75F3.xlate.ufl.edu)
[18:38:55] <panitaliemom> Sorry, I lost connection.. this IRC client assigns me random names, too, haha
[18:39:27] *** Joins: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net)
[18:39:45] <bstrie> panitaliemom: phew, we were all wondering where mib_qbkopu went!
[18:40:42] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[18:41:22] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[18:41:27] <panitaliemom> Okay, I looked at the Map trait. Why is fn find<'a>(&'a self, key: &K) -> Option<&'a V> generic? What is the purpose of `a? Why can't we just use self?
[18:41:28] *** Quits: arodier74 (Thunderbir@moz-527C2D95.in-addr.btopenworld.com) (Quit: arodier74)
[18:41:32] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Quit: alan)
[18:41:59] <strcat> panitaliemom: hm?
[18:42:08] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[18:42:10] <strcat> it is &self, the 'a is an annotation for the return value lifetime
[18:42:15] <bstrie> panitaliemom: the purpose of 'a is to tell the compiler that the return value is tied to the lifetime of self
[18:43:45] *** Quits: heftig (heftig@AA021FAC.623E412C.172227A7.IP) (Ping timeout)
[18:45:43] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[18:47:59] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:48:26] *** Joins: Egbert9e9 (Egbert9e9@moz-4734B982.inter.net.il)
[18:48:42] *** Quits: Egbert9e9 (Egbert9e9@moz-4734B982.inter.net.il) (Quit: Egbert9e9)
[18:49:16] <panitaliemom> bstrie: Dang that's purty neat
[18:49:56] <panitaliemom> bstrie: Yea how else would you be able to return a borrowed pointer, right
[18:53:37] *** Quits: maxiepoo (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo)
[18:54:31] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[18:55:17] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[18:56:26] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[18:57:49] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[18:59:49] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[19:00:05] *** Joins: maxiepoo (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[19:01:31] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[19:04:25] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:06:07] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[19:07:27] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:10:28] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[19:14:08] *** Joins: srpablo (Mibbit@moz-D7317DC1.hsd1.dc.comcast.net)
[19:14:33] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[19:15:15] <srpablo> hey friends, quick question
[19:15:29] <srpablo> I'm trying to compile a file with struct variants, but the compiler isn't taking it because I need #[feature(struct_variant)] on the crate attributes. I've added that line to the top of my file, but the compiler still rejects
[19:15:47] <SiegeLord> Did you add a semicolon after that line?
[19:15:57] <srpablo> I did not! Trying now, thanks :)
[19:16:02] *** Quits: cdidd (cdidd@moz-42FC709F.broadband.corbina.ru) (Ping timeout)
[19:16:06] <SiegeLord> It'd be nice if the error message didn't lie to you :P
[19:16:29] <bstrie> it'll be nicer once semicolons are no longer significant in attributes :)
[19:16:31] <srpablo> compiler error x_x -- expected item but found ';'
[19:16:39] *** Joins: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP)
[19:16:43] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[19:16:47] <SiegeLord> It also might have to be at the top of the root module
[19:16:52] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[19:17:28] <srpablo> hmmm... still isn't accepting, it's the first line of the file, with no other module scopes created... tricky!
[19:17:44] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:18:03] <srpablo> does it make a difference that I'm compiling with `rustc --lib` or `rustc --test`? this is for a library crate
[19:22:16] <nmatsakis> ChrisMorgan: ps I have not forgotten abou your branch
[19:23:06] *** Joins: willingc (willingc@3A9FCA95.92EDCBE3.97F07BE5.IP)
[19:23:35] *** Joins: Ferreus (ferreus@moz-E3C9D41B.pools.arcor-ip.net)
[19:27:01] *** Quits: eevee (eevee@moz-7B6C48E3.evrt.wa.frontiernet.net) (Ping timeout)
[19:28:27] *** Quits: willingc (willingc@3A9FCA95.92EDCBE3.97F07BE5.IP) (Client exited)
[19:29:09] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[19:29:09] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:29:40] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:29:40] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Connection reset by peer)
[19:34:40] *** Quits: panitaliemom (Mibbit@moz-41FD75F3.xlate.ufl.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[19:36:52] *** Quits: srpablo (Mibbit@moz-D7317DC1.hsd1.dc.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:37:58] *** Quits: XgF (quassel@moz-86690AAD.london1.uk.e43.eu) (Ping timeout)
[19:40:02] *** Joins: eevee (eevee@moz-7B6C48E3.evrt.wa.frontiernet.net)
[19:41:29] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[19:45:17] *** Quits: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP) (Quit: ZNC - http://znc.in)
[19:45:20] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[19:45:46] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[19:45:59] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Quit: Leaving)
[19:47:25] *** Quits: sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[19:48:10] *** Joins: heftig (heftig@moz-DB641A09.dip0.t-ipconnect.de)
[19:49:18] *** Joins: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP)
[19:50:36] *** Quits: maxiepoo (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo)
[19:52:10] *** Joins: willingc (willingc@3A9FCA95.92EDCBE3.97F07BE5.IP)
[19:57:53] *** Quits: willingc (willingc@3A9FCA95.92EDCBE3.97F07BE5.IP) (Client exited)
[19:58:20] *** Joins: carter (carter@moz-BDFE46F6.nyc.biz.rr.com)
[20:00:49] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:01:17] *** Quits: nejucomo (Adium@9F0867A2.BB950596.DFB232DA.IP) (Ping timeout)
[20:01:54] *** Joins: willingc (willingc@3A9FCA95.92EDCBE3.97F07BE5.IP)
[20:05:54] *** Joins: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz)
[20:06:38] *** Quits: genbattle (quassel@moz-44ABD640.jetstream.xtra.co.nz) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[20:07:43] *** Joins: alisdair (textual@4C272FD0.C2710937.EA459F62.IP)
[20:08:10] *** Quits: alisdair (textual@4C272FD0.C2710937.EA459F62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:08:37] *** Joins: maxiepoo (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[20:10:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:10:49] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[20:13:44] *** Quits: willingc (willingc@3A9FCA95.92EDCBE3.97F07BE5.IP) (Client exited)
[20:17:34] *** Quits: Jesin (Jesin@moz-63C897DA.res.lehigh.edu) (Quit: Leaving)
[20:17:46] *** Joins: Jesin (Jesin@moz-63C897DA.res.lehigh.edu)
[20:18:53] <TeXitoi> bstrie: do you think it's interesting to reactivate (and fix) disabled shootout benchmarks ?
[20:21:44] *** jld is now known as jld|hunting-lunch
[20:22:59] <bstrie> TeXitoi: yes
[20:23:40] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[20:24:33] <TeXitoi> ok, I'll look at it this week-end
[20:26:24] *** Joins: pcx (pcx@C81B818B.E5A6DB9C.AE26B834.IP)
[20:26:33] *** Quits: bholley (anonymous@moz-BBE3ABD.mv.mozilla.com) (Quit: bholley)
[20:27:38] *** Joins: bholley (anonymous@moz-BBE3ABD.mv.mozilla.com)
[20:28:18] *** Joins: nrc|holiday (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:30:52] *** Joins: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[20:30:57] *** Quits: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Input/output error)
[20:31:18] *** Joins: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[20:31:42] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[20:31:52] *** Joins: nejucomo (Adium@9F0867A2.BB950596.DFB232DA.IP)
[20:34:59] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[20:35:37] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[20:38:20] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[20:38:46] *** Quits: bholley (anonymous@moz-BBE3ABD.mv.mozilla.com) (Quit: bholley)
[20:42:22] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[20:43:18] *** Quits: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[20:43:28] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:44:16] *** Joins: brendan (brendaneic@AC76554C.5B712BE.287DB107.IP)
[20:46:13] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:48:31] <cmr> TeXitoi: plus optimizing them would be cool :D
[20:51:47] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:53:42] *** Quits: maxiepoo (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo)
[20:54:46] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[21:06:46] *** jld|hunting-lunch is now known as jld
[21:07:41] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[21:07:58] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[21:12:36] *** Quits: notmatt (notmatt@118CCA77.D1B89392.602E4FC1.IP) (Client exited)
[21:13:10] *** Joins: Janko (chatzilla@D9AEFC3E.9E37BD61.9C3D12F2.IP)
[21:14:20] *** Quits: Jackneill (Jackneill@moz-B86C2F03.pool.digikabel.hu) (Input/output error)
[21:15:22] *** Quits: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:15:46] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[21:15:47] *** ChanServ sets mode: +o tjc
[21:17:55] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[21:18:12] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Quit: leaving)
[21:18:25] *** Joins: blank (blank@FAB53C88.7071B2C8.31EC03F3.IP)
[21:19:15] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[21:20:27] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[21:22:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[21:29:34] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[21:30:08] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[21:32:02] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[21:32:23] *** Quits: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) (Input/output error)
[21:33:51] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[21:33:51] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[21:33:59] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[21:34:36] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[21:38:22] *** Parts: blank (blank@FAB53C88.7071B2C8.31EC03F3.IP) (WeeChat 0.4.2)
[21:40:06] *** Quits: Ms2ger (Ms2ger@AB9469A5.3CF91143.187A1082.IP) (Quit: nn)
[21:41:23] *** Joins: mimcpher_ (mimcpher@moz-DFB1CE19.hsd1.ca.comcast.net)
[21:41:35] *** Quits: mimcpher_ (mimcpher@moz-DFB1CE19.hsd1.ca.comcast.net) (Quit: leaving)
[21:44:54] *** Joins: mimcpher_ (mimcpher@moz-DFB1CE19.hsd1.ca.comcast.net)
[21:45:20] *** Quits: mimcpher_ (mimcpher@moz-DFB1CE19.hsd1.ca.comcast.net) (Quit: leaving)
[21:45:31] <TeXitoi> cmr: shure
[21:46:05] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[21:46:29] <TeXitoi> cmr: bench/shootout-mandelbrot.rs: time divided by 4 here ;)
[21:46:32] *** Joins: mcpherrin (mcpherrin@moz-DFB1CE19.hsd1.ca.comcast.net)
[21:46:37] *** Quits: mcpherrin (mcpherrin@moz-DFB1CE19.hsd1.ca.comcast.net) (Quit: mcpherrin)
[21:47:53] *** Quits: msch (msch@moz-DA0E34D4.clients.your-server.de) (Ping timeout)
[21:48:21] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[21:48:54] *** Joins: mcpherrin (mcpherrin@moz-DFB1CE19.hsd1.ca.comcast.net)
[21:50:29] <sam113101> 11I05'07m 12g11l05a09d 12c02o05l02o03r05s 03a05r11e 02a09l05l10o13w04e02d 10i12n 10h03e13r06e
[21:51:52] *** Quits: XgF (quassel@moz-86690AAD.london1.uk.e43.eu) (Ping timeout)
[21:52:06] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[21:56:49] *** Joins: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net)
[21:56:59] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[21:57:03] *** Quits: brendan (brendaneic@AC76554C.5B712BE.287DB107.IP) (Quit: brendan)
[21:57:37] <bstrie> sam113101: how long did it take to type that
[21:58:06] <cmr> /rainbow ftw
[21:58:41] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:58:58] *** Joins: brendan (brendaneic@AC76554C.5B712BE.287DB107.IP)
[21:59:47] <mcpherrin> 13To4il8et 9d11oe12s 13a 4be8tt9er 11j12ob 13a4t 8co9lo11ur12s 13I 4th8in9k
[22:00:09] <sam113101> I should have used bold too
[22:01:31] *** Joins: jdm (jdm@9C2E78E6.8C982E60.292610BC.IP)
[22:01:31] *** ChanServ sets mode: +o jdm
[22:02:31] *** Quits: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP) (Client exited)
[22:02:44] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[22:03:32] <TeXitoi> bstrie: reactivating shootout-mandelbrot.rs, I have task '[run-pass] bench/shootout-mandelbrot.rs' failed at 'Unhandled condition: not_utf8: ~"from_utf8: input is not UTF-8; first bad byte is 129"', /home/sihem/hack/rust/src/libstd/condition.rs:131
[22:03:52] <cmr> TeXitoi: sounds like it's using strings wrongly
[22:04:03] <TeXitoi> that's because this bench output to stdout an image in binary form
[22:04:39] *** Quits: pcx (pcx@C81B818B.E5A6DB9C.AE26B834.IP) (Ping timeout)
[22:04:46] <TeXitoi> what can I do ?
[22:04:50] *** Quits: feduser (feduser@BAC54054.BC74D.799BF54A.IP) (Ping timeout)
[22:04:54] *** Joins: pcx (pcx@C81B818B.E5A6DB9C.AE26B834.IP)
[22:05:10] <bstrie> TeXitoi: what is the output of that test supposed to be?
[22:05:15] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[22:05:53] <cmr> TeXitoi: oh god that benchmark is so bad, on master
[22:06:02] <TeXitoi>  PBM "rawbits" image data
[22:06:11] <cmr> it needs to be using std::io
[22:06:14] <TeXitoi> cmr: removed libc code here
[22:06:18] <TeXitoi> done
[22:06:19] <cmr> cool :)
[22:06:37] <bstrie> honestly I bet nobody's run that benchmark for decades
[22:06:41] <bstrie> rust decades
[22:06:42] <TeXitoi> using BufferedWriter: 4x faster
[22:06:49] <cmr> And writing a slice to stdout fails?
[22:07:22] <TeXitoi> cmr: that's working directly, that's the test suite that fail
[22:08:01] *** Quits: Janko (chatzilla@D9AEFC3E.9E37BD61.9C3D12F2.IP) (Client exited)
[22:08:36] <TeXitoi> I suspect the test suite to read stdout and failing putting it in a string or something like that
[22:09:32] <TeXitoi> bstrie: master's version compile and run
[22:10:01] *** Quits: jvshahid (jvshahid@moz-53774307.nycm.ny.megapath.net) (Ping timeout)
[22:10:10] <cmr> mmm, that's certainly possible.
[22:12:32] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:12:46] *** Quits: jordyd (jordyd@moz-FEE269A.seg36.ucf.edu) (Ping timeout)
[22:13:35] <TeXitoi> OK, I'll see that tomorrow, time to go to bed
[22:14:55] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[22:16:55] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[22:20:06] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[22:20:37] <erickt> nmatsakis: thanks! I look forward to your PR landing
[22:21:54] *** Joins: feduser (feduser@BAC54054.BC74D.799BF54A.IP)
[22:23:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:24:08] <sam113101> 2G4o8o2g3l4e
[22:25:40] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[22:28:19] <james4k> jeez, haven't seen mirc colors in years
[22:28:56] <mcpherrin> james4k: well the bots in this channel (though I suppose more in #rust-internals these days) use them :P
[22:29:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:29:46] <james4k> oh :)
[22:30:06] <james4k> im mostly idle here, and lurk every now and then
[22:30:19] <mcpherrin> rusti: version
[22:30:20] -rusti- "rustc 0.8"
[22:30:27] <mcpherrin> rusti: foo
[22:30:27] -rusti- <anon>:9:9: 9:12 error: unresolved name `foo`.
[22:30:27] -rusti- <anon>:9          foo
[22:30:28] -rusti-                   ^~~
[22:30:28] -rusti- error: aborting due to previous error
[22:30:28] -rusti- application terminated with error code 101
[22:30:31] <mcpherrin> hmm no colour there
[22:30:45] <mcpherrin> must just be the commit bot and that's not in this channel
[22:31:10] *** Joins: lastdev (lastdev@moz-5A47DD8E.dyn.user.ono.com)
[22:31:12] <james4k> you're right though, think i've seen that bot in the past
[22:32:43] *** Joins: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP)
[22:33:06] <nmatsakis> erick: it seems like it wouldn't too hard to fix #5121 altogether, presuming people are ok with http://smallcultfollowing.com/babysteps/blog/2013/11/04/intermingled-parameter-lists/
[22:33:06] *** Quits: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP) (Connection reset by peer)
[22:33:12] <nmatsakis> erickt ^
[22:33:13] *** Joins: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP)
[22:34:30] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[22:36:11] *** Joins: cdidd (cdidd@moz-C75AEE3C.broadband.corbina.ru)
[22:36:13] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[22:38:59] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[22:39:05] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[22:39:56] *** Quits: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP) (Ping timeout)
[22:42:01] *** Quits: carter (carter@moz-BDFE46F6.nyc.biz.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:42:05] *** Quits: Jesin (Jesin@moz-63C897DA.res.lehigh.edu) (Ping timeout)
[22:43:55] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[22:47:18] *** Quits: indirect (indirect@moz-49D42D15.c.ircrelay.com) (Quit: IRCRelay - http://ircrelay.com)
[22:47:47] *** Quits: indutny (indutny@moz-49D42D15.c.ircrelay.com) (Quit: IRCRelay - http://ircrelay.com)
[22:49:18] *** Quits: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net) (Quit: ZQ)
[22:53:28] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[22:55:49] <dbaupp> http://adrientetar.legtux.org/blog_fr.php?post=0 cool
[22:57:11] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[22:58:02] *** Quits: pcx (pcx@C81B818B.E5A6DB9C.AE26B834.IP) (Quit: Ex-Chat)
[22:58:27] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:59:18] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:59:58] *** Joins: jordyd (jordyd@moz-E086D89A.seg102.ucf.edu)
[23:00:56] *** Joins: strmpnk (sid2261@moz-E77DEB21.irccloud.com)
[23:04:04] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[23:10:55] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:13:07] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[23:14:05] *** Joins: willingc (willingc@3A9FCA95.92EDCBE3.97F07BE5.IP)
[23:15:50] *** Quits: willingc (willingc@3A9FCA95.92EDCBE3.97F07BE5.IP) (Ping timeout)
[23:16:31] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Quit: WeeChat 0.4.2)
[23:16:41] *** Joins: nkoep (nik@moz-BEC219B.pool.mediaways.net)
[23:16:51] *** Joins: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP)
[23:16:59] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[23:18:12] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[23:18:27] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[23:21:08] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[23:23:03] *** Joins: indirect (indirect@FF2E9FB5.2D90256.2360BC4.IP)
[23:25:23] *** Joins: prooftechnique (prooftechn@moz-65B7D4EE.hsd1.vt.comcast.net)
[23:25:52] *** Quits: lastdev (lastdev@moz-5A47DD8E.dyn.user.ono.com) (Quit: )
[23:26:13] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[23:26:52] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[23:26:55] *** Quits: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP) (Client exited)
[23:29:04] <cmr> The more posts you make to the ML the grumpier I get writing TWiR :(
[23:30:19] *** Quits: erick (erick@E1304535.2A7189BF.BE19388.IP) (Ping timeout)
[23:30:45] <cmr> It gets to the point where I can't in good conscious just point to the thread and say "Read for yourself!", I need to actually summarize
[23:30:46] *** Joins: erick (erick@E1304535.2A7189BF.BE19388.IP)
[23:32:32] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[23:33:08] *** Quits: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net) (Ping timeout)
[23:33:18] *** Joins: dherman (dherman@9C2E78E6.8C982E60.292610BC.IP)
[23:33:18] *** ChanServ sets mode: +ao dherman dherman
[23:33:37] *** Joins: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net)
[23:34:21] <Jesse> cmr: "some people bikeshedded about syntax. again."
[23:34:40] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:36:08] *** Joins: indutny (indutny@FF2E9FB5.2D90256.2360BC4.IP)
[23:38:43] *** Quits: nejucomo (Adium@9F0867A2.BB950596.DFB232DA.IP) (Quit: Leaving.)
[23:41:01] <dbaupp> cmr: there's only been like 500 posts in four separate but similar threads, what's the problem? :P
[23:41:13] *** Joins: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net)
[23:42:05] *** Joins: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP)
[23:46:46] *** Quits: brendan (brendaneic@AC76554C.5B712BE.287DB107.IP) (Quit: brendan)
[23:52:41] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
