[00:02:53] *** Quits: erickt (erickt@moz-1mb.0ej.162.69.IP) (Ping timeout: 121 seconds)
[00:06:47] *** Quits: vadimcn (uid46608@moz-9ioufh.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[00:11:21] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[00:15:32] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[00:19:32] *** Joins: jdm|dinn_ (jdm@moz-ilbt2e.cable.teksavvy.com)
[00:19:38] *** Quits: jdm|dinn_ (jdm@moz-ilbt2e.cable.teksavvy.com) (Connection closed)
[00:20:26] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[00:22:46] *** Quits: jdm|dinner (jdm@moz-ilbt2e.cable.teksavvy.com) (Ping timeout: 121 seconds)
[00:31:27] *** Joins: yjv (yjv@moz-h3d.8jj.153.50.IP)
[00:34:10] <zwarich> Zoxc: the alignment is required because there are SIMD instructions that require a valid alignment
[00:34:33] <zwarich> s/valid/128-bit/
[00:36:16] *** Joins: tamird (tamird@moz-lat.dkr.14.50.IP)
[00:36:17] *** Quits: yjv (yjv@moz-h3d.8jj.153.50.IP) (Ping timeout: 121 seconds)
[00:44:09] *** chmanchester is now known as chmanchester|afk
[00:57:17] *** Quits: binkarus (textual@moz-a363lg.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:57:40] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[01:02:22] *** Joins: Kingsqueee (kingsquee@moz-k72lip.bchsia.telus.net)
[01:03:44] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:05:11] *** Quits: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net) (Ping timeout: 121 seconds)
[01:07:38] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[01:11:51] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[01:12:07] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[01:12:08] *** Joins: binkarus (textual@moz-njd172.ca.comcast.net)
[01:14:05] *** Quits: apasel422 (Mibbit@moz-6ga37r.ma.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:16:18] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[01:25:43] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:27:09] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[01:30:52] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[01:34:25] *** Joins: SiegeLord (sl@moz-s8hpnn.ca.comcast.net)
[01:35:28] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[01:35:28] *** ChanServ sets mode: +o pcwalton
[01:35:42] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[01:35:49] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:36:13] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[01:36:47] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[01:40:54] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:41:40] <brson> are there types with min/pref alignment > 16?
[01:42:09] <aatch> brson, the 256-bit vector types maybe?
[01:42:26] <Elainemo> we don't expose any.
[01:42:50] <Elainemo> but the larger vector types for AVX and beyond have larger alignments.
[01:45:08] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:46:04] <brson> aatch Elainemo: what are the largest alignments for the largest vector types?
[01:46:25] *** Quits: binkarus (textual@moz-njd172.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:47:05] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[01:47:55] <Elainemo> brson: I *think* that the largest alignment right now is 32, for 512-bit vectors.
[01:49:53] <aatch> brson, this post has an Intel person saying that compilers are encouraged to support 32-byte alignment https://software.intel.com/en-us/forums/topic/299644
[01:50:43] *** Joins: mrx_ (mrx@moz-4ca0vq.dip0.t-ipconnect.de)
[01:51:44] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[01:52:51] <aatch> Looking at this guide: https://software.intel.com/en-us/articles/practical-intel-avx-optimization-on-2nd-generation-intel-core-processors?language=en suggests that alignment for bigger vectors is mostly for cache reasons.
[01:53:37] <aatch> (for 32-byte vectors, if they're not aligned every second load is split across two cache lines)
[01:53:59] *** Quits: mrx__ (mrx@moz-b3etcn.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:56:12] <brson> thanks
[01:57:21] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[01:57:30] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[01:58:01] <brson> well i did some performance testing of my function melding patch today and even though it elides ~10% of monomorphizations it does not improve compile time, at least not yet
[01:58:41] *** Joins: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp)
[01:59:06] *** Quits: bluss (bluss@moz-rip51k.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:59:53] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[02:01:42] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[02:01:58] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[02:02:36] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[02:02:48] <bkoropoff> Gankro: ping
[02:09:45] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[02:28:04] *** Joins: Quxxy (chatzilla@moz-efh10q.internode.on.net)
[02:37:55] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[02:39:42] *** Quits: kimundi (kimundi@moz-upm4u8.3d6k.qdkt.57bc.2002.IP) (Ping timeout: 121 seconds)
[02:41:22] *** Quits: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[02:41:52] <Gankro> bkoropoff: ping
[02:43:38] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[02:45:51] *** Joins: kimundi (kimundi@moz-d29tad.dip0.t-ipconnect.de)
[02:47:13] <bkoropoff> Gankro: you did the design of the HashMap entry APIs, right?
[02:48:18] <Gankro> Yes
[02:49:34] <bkoropoff> Gankro: it would be cool to be able to get the one of the keys back when doing remove/insert on an OccupiedEntry
[02:50:44] <Gankro> bkoropoff: check rfcs for "item recovery" should fcp soon
[02:52:46] <bkoropoff> yep, that looks exactly like what I wanted earlier today
[02:52:58] <bkoropoff> thanks
[02:53:58] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Connection closed)
[03:08:54] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[03:12:27] <bkoropoff> Gankro: one thing that's missing is being able to recover the key you passed in to `entry` when you get an `OccupiedEntry`.  I left a comment on the RFC.
[03:12:43] <bkoropoff> Gankro: (missing from the RFC, that is)
[03:12:58] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[03:16:15] *** Joins: binkarus (textual@moz-njd172.ca.comcast.net)
[03:18:12] <Havvy> Is the style guide in the rustlang/rust repo?
[03:18:41] <Elainemo> Havvy: no
[03:18:53] <steveklabnik> Havvy: yes
[03:18:59] <steveklabnik> src/doc/style
[03:19:02] <Elainemo> oh yes it is
[03:19:04] <Elainemo> sorry
[03:19:09] <steveklabnik> :)
[03:19:10] * Elainemo sees "THIS REPOSITORY HAS MOVED"
[03:19:43] <Havvy> Ah, alright. I'm going to add something to the affect of "You MUST NOT use the word "illegal" in error messages." to it.
[03:19:50] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:20:18] <scott> "Using the word "illegal" in error messages is illegal."
[03:20:36] <Elainemo> ^
[03:21:15] <Havvy> scott:  That's great.
[03:31:41] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[03:36:07] <Murarth> error: illegal "illegal"
[03:39:59] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[03:40:03] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[03:42:37] <Havvy> Right, gotta write that...I got sidetracked with helping somebody who looks like they're about to fall into the learning chasm in ##javascript
[03:44:04] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[03:53:57] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Client exited)
[03:54:44] <Havvy> Hmm, perhaps the style guide is not the correct place for this information?  Where should we put style information for the Rust compiler error messages?
[03:55:57] <Havvy> Should I just add compiler.md to src/doc/style/errors ?
[03:57:00] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[03:57:24] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[04:02:16] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[04:02:45] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[04:02:57] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[04:05:42] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[04:05:42] *** ChanServ sets mode: +o pcwalton
[04:05:53] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (A TLS packet with unexpected length was received.)
[04:06:20] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[04:06:24] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Connection closed)
[04:06:30] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[04:06:46] *** Joins: dinfuehr (dinfuehr@moz-huvinr.tuwien.ac.at)
[04:06:53] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[04:07:17] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[04:07:33] *** Joins: Dinesh (Mibbit@moz-d5i.qv2.196.112.IP)
[04:11:18] *** Joins: dinfuehr_ (dinfuehr@moz-o5flra.oc.cox.net)
[04:11:47] <Dinesh> nrc: ping
[04:12:06] *** Joins: jarrednicholls (uid19542@moz-eilsuu.tooting.irccloud.com)
[04:13:37] *** Quits: binkarus (textual@moz-njd172.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:13:55] <Havvy> Uhh, rust-lang/rust/src/doc/style is for Rust libraries, not compiler errors. :(
[04:14:09] <Havvy> Err, rust compiler specific style rules.
[04:14:30] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:14:48] *** Quits: dinfuehr (dinfuehr@moz-huvinr.tuwien.ac.at) (Ping timeout: 121 seconds)
[04:15:11] <nrc> Dinesh: pong
[04:17:22] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[04:17:55] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[04:20:05] <Dinesh> nrc: http://is.gd/P87wvx, In this example, in pattern matching if i use the struct name without braces, it is considered as an variable
[04:20:41] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[04:21:43] <nrc> Hmm
[04:22:17] <nrc> That's an interesting edge case
[04:22:42] <Mutabah> Kinda, it makes sense
[04:22:56] <Mutabah> Unit-like structs expose their name differently to non-unit ones
[04:23:57] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[04:24:09] <nrc> Actually, I don't think it is
[04:24:19] <nrc> If it were, then you could use it in the arm
[04:24:42] <nrc> er
[04:24:43] <nrc> maybe
[04:24:46] * nrc experiments
[04:26:24] <nrc> This example: http://is.gd/e993AJ
[04:26:45] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[04:26:57] <nrc> causes an error, the error suggests that S0 is a struct literal, not creating a new variable
[04:27:14] <nrc> (I'm pretty jet lagged, I might be not making sense)
[04:28:31] <eddyb> Ericson2314: whoa, what's that example?
[04:29:10] <eddyb> Ericson2314: but really, feature creep is why I don't like that RFC :(
[04:29:29] <Havvy> nrc, eddyb: Is there a rust-lang compiler specific style guide somewhere?
[04:29:54] <eddyb> there was aturon's thing, I have no idea where it went
[04:30:14] *** Quits: mcpherrin (mcpherrin@moz-bhcp6n.8mb6.t84e.0645.2601.IP) (Ping timeout: 121 seconds)
[04:30:19] <nrc> that's the style guide which is in the repo, but it's a general Rust thing, not compiler-specific
[04:30:40] <nrc> Havvy: I believe not, just follow the style in the files you're changing
[04:31:24] <Havvy> Hmm, would it help to have a rust compiler specific style guide for rules specifically for the compiler?
[04:31:38] <eddyb> why?
[04:31:45] <eddyb> what makes the compiler special?
[04:31:48] <nrc> It should just follow the general guide, I think
[04:31:59] <Havvy> nrc:  That would be the first rule.
[04:32:31] <Dinesh> nrc: That is true in case of structs defined via struct S0;
[04:32:52] *** Joins: erickt (erickt@moz-pqs.0ej.162.69.IP)
[04:32:52] *** ChanServ sets mode: +ao erickt erickt
[04:32:56] <Havvy> eddyb:  Compiler error messages, cli flags, various things specific to the compiler that could have its own style.
[04:33:06] <nrc> Dinesh: oh, you mean that in the S2 case it is treated as a variable?
[04:33:11] <eddyb> so not code style?
[04:33:30] <Dinesh> nrc: yes, exactly
[04:33:32] <Havvy> eddyb:  I guess...
[04:34:41] <nrc> Dinesh: that makes sense, and I guess that should follow for zero-length structs too - if the name is not in the value name space, then that name can be used as a variable. I believe that if you implement the name spacing stuff in resolve properly, then this stuff should "just work" (TM)
[04:34:48] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[04:35:04] <nrc> Havvy: yeah, I suppose that would be useful, there is a fair bit of folklore there
[04:35:21] <scott> Havvy: eddyb: Sounds like UI guidelines, basically.
[04:36:21] <Havvy> Alright, filing an issue.
[04:38:47] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[04:41:26] *** Quits: RCIX (RCIX@moz-ncp.dfa.8.198.IP) (Ping timeout: 121 seconds)
[04:41:40] <Dinesh> nrc: so if an empty struct has braces, then add it only to type namespace ?
[04:42:19] <nrc> Dinesh: yes, I think that is correct (is that what we discussed on the bug?)
[04:42:34] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:42:37] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[04:43:16] <Dinesh> nrc: your exact words " I think you just need to check the ItemStruct for the flag you recorded and only add it to the value name space if it doesn’t have braces"
[04:43:18] <Dinesh> :)
[04:43:52] <nrc> OK, good, at least I'm consistent :-)
[04:44:00] <nrc> (possible consistently wrong, but...)
[04:44:07] <Havvy> !gh 27344
[04:44:08] <rustbot> [Issue 27344] <open> Compiler UI/UX Design Guidelines Document <https://github.com/rust-lang/rust/issues/27344>
[04:44:53] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[04:46:10] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[04:50:32] <Havvy> nrc:  If I wanted to start this document, where should I actually start it?  /src/doc/ux-guidelines?
[04:51:15] <nrc> Havvy: at the top level - that's where meta-docs go
[04:52:00] <nrc> well, I guess they go inline, but it would be a global doc, so top level feels like it is the right inline place
[04:52:08] <nrc> it would also encourage it to be short :-)
[04:52:41] *** Quits: mitaa (mitaa@moz-q55fsv.dyn.drei.com) (Client exited)
[04:55:51] <Dinesh> nrc: I brought this up to get clarification on this line "When defined via struct S { }, require instances to be constructed and pattern-matched solely via S { }." from RFC
[04:56:30] <Havvy> nrc: kk
[04:56:42] <nrc> Dinesh:  I believe that is equivalent to braces implies only type namespace
[04:57:42] <nrc> Dinesh: is that the right clarification or am I missing something?
[04:58:38] <Dinesh> nrc: Before implementing the namespace thing, we are not able to pattern match via just S, right ?
[04:58:47] <Dinesh> like we saw from the example
[04:59:48] <nrc> Dinesh: I thought the example showed that just S (a no braces, no fields struct) *is* matched, but one with fields and braces isn't
[05:00:01] <nrc> I.e., the current behaviour should not change
[05:00:42] <nrc> The only difference is that structs with braces and no fields are treated the same way as a struct with braces and fields, not structs with no braces and no fields
[05:01:17] <Dinesh> yes, so that part of rfc is already satisfied, which i mentioned earlier.
[05:01:30] <nrc> ah, excellent!
[05:01:59] <Havvy> I'll have a PR written before I go to bed. If anybody can think of any other UX rules for the Rust compiler, either highlight me in here with them or comment on the bug please.
[05:02:42] <Dinesh> nrc: why do we need that namespace impl ? what part of rfc does it try to accomplish ?
[05:03:41] <nrc> Dinesh: otherwise `struct S {}` would have the same effect as `struct S;`, no?
[05:06:25] <Dinesh> nrc: I will check that.
[05:06:28] <Dinesh> Thanks
[05:07:30] <nrc> Dinesh: cool. Going to sleep now, but leave me questions on the GH issue if you need to
[05:08:46] *** Joins: akiss (akiss@moz-mbkjgp.pool.digikabel.hu)
[05:09:40] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[05:12:12] *** Quits: Dinesh (Mibbit@moz-d5i.qv2.196.112.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:12:48] *** Quits: akiss (akiss@moz-mbkjgp.pool.digikabel.hu) (Ping timeout: 121 seconds)
[05:13:54] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[05:21:03] *** Joins: binkarus (textual@moz-njd172.ca.comcast.net)
[05:36:21] *** Quits: koobs (koobs@moz-lu0tvm.internode.on.net) (Ping timeout: 121 seconds)
[05:43:15] *** Joins: oli_obk_ (smuxi@moz-l0l.0sb.52.141.IP)
[05:43:45] *** Quits: stl (stl@moz-al5.8pf.15.176.IP) (Ping timeout: 121 seconds)
[05:46:43] *** Joins: stl (stl@moz-al5.8pf.15.176.IP)
[06:00:43] *** Joins: James_ (quassel@moz-t0rko5.range86-163.btcentralplus.com)
[06:02:17] *** Quits: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP) (Quit: Leaving)
[06:12:26] *** Quits: SiegeLord (sl@moz-s8hpnn.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:18:09] *** Quits: Diggsey (diggsey@moz-honmm4.dsl.pipex.com) (Ping timeout: 121 seconds)
[06:25:10] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[06:31:45] *** Quits: dinfuehr_ (dinfuehr@moz-o5flra.oc.cox.net) (Connection closed)
[06:41:19] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[06:42:42] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:43:16] *** Quits: jarrednicholls (uid19542@moz-eilsuu.tooting.irccloud.com) (Quit: Connection closed for inactivity)
[06:44:48] *** Quits: O01eg (o01eg@moz-9hdn62.cb9o.qgre.2698.2a02.IP) (Client exited)
[06:54:45] *** Quits: James_ (quassel@moz-t0rko5.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:57:18] *** Quits: njn (chatzilla@moz-t4cso4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 42.0a1/20150727152713])
[07:10:26] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[07:13:15] *** Quits: binkarus (textual@moz-njd172.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:14:31] *** Quits: Peach (Fancy3D@moz-500.6lb.246.96.IP) (Client exited)
[07:14:39] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[07:17:35] *** Joins: akiss (akiss@moz-c6colr.inf.u-szeged.hu)
[07:18:05] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:21:34] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[07:21:41] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Connection closed)
[07:26:39] *** Quits: erickt (erickt@moz-pqs.0ej.162.69.IP) (Ping timeout: 121 seconds)
[07:35:43] *** Joins: imperio (Mibbit@moz-opqtbe.abo.bbox.fr)
[07:55:18] *** Joins: genbattle (genbattle@moz-v5t52g.xtra.co.nz)
[07:55:29] *** Joins: vmx (vmx@moz-g1lh3b.dip0.t-ipconnect.de)
[08:00:47] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Ping timeout: 121 seconds)
[08:00:52] *** Joins: koobs (koobs@moz-lu0tvm.internode.on.net)
[08:06:33] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[08:10:33] <SimonSapin> Is #[unsafe_no_drop_flag] broken? I’m getting size_of::<Atom>() == 16 where Atom is a struct with a single u64 field, a Drop impl, and #[unsafe_no_drop_flag]
[08:18:03] <SimonSapin> never mind, I got my #[cfg(…)] syntax wrong
[08:18:27] <SimonSapin> #[cfg(unstable)] instead of #[cfg(feature = "unstable")] silently does nothing
[08:26:24] *** Quits: eddyb (eddyb@moz-4eq.0ja.26.188.IP) (Connection closed)
[08:39:51] *** Joins: erickt (erickt@moz-1mb.0ej.162.69.IP)
[08:39:51] *** ChanServ sets mode: +ao erickt erickt
[08:44:51] *** Quits: erickt (erickt@moz-1mb.0ej.162.69.IP) (Ping timeout: 121 seconds)
[08:50:58] *** Joins: eddyb (eddyb@moz-qfi.dmj.25.188.IP)
[08:55:06] *** Quits: genbattle (genbattle@moz-v5t52g.xtra.co.nz) (Ping timeout: 121 seconds)
[09:17:10] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[09:23:51] *** Joins: bluss (bluss@moz-rip51k.cust.bredbandsbolaget.se)
[09:27:35] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[09:36:34] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[09:49:31] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[09:50:58] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[10:02:04] *** Joins: summerlight_ (summerlight@moz-17t.2mj.130.121.IP)
[10:13:47] *** Joins: zxq9 (ceverett@moz-fe3mfn.mesh.ad.jp)
[10:37:40] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[10:40:59] *** Joins: erickt (erickt@moz-1mb.0ej.162.69.IP)
[10:40:59] *** ChanServ sets mode: +ao erickt erickt
[10:45:42] *** Quits: erickt (erickt@moz-1mb.0ej.162.69.IP) (Ping timeout: 121 seconds)
[10:52:09] *** Joins: fmcauley (fmcauley@moz-f4hren.res.rr.com)
[10:59:15] *** Quits: fmcauley (fmcauley@moz-f4hren.res.rr.com) (Client exited)
[11:06:06] *** Quits: tamird (tamird@moz-lat.dkr.14.50.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:12:15] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[11:15:11] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:16:27] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[11:21:15] *** wcosta|afk is now known as wcosta
[11:32:10] *** Joins: skeuomor1 (skeuomorf@moz-pph.hq3.32.197.IP)
[11:35:14] *** Quits: skeuomorf (skeuomorf@moz-qe4.ip0.32.197.IP) (Ping timeout: 121 seconds)
[11:38:39] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:46:21] *** Joins: skeuomorf (skeuomorf@moz-r9d.cog.32.197.IP)
[11:48:21] *** Quits: skeuomor1 (skeuomorf@moz-pph.hq3.32.197.IP) (Ping timeout: 121 seconds)
[11:49:40] *** Joins: skeuomor1 (skeuomorf@moz-jr1.028.32.197.IP)
[11:49:59] <nagisa> playbot: let mut x = 5; let y = (x = 6); (x, y)
[11:50:00] -playbot- <anon>:9:13: 9:18 warning: value assigned to `x` is never read, #[warn(unused_assignments)] on by default
[11:50:00] -playbot- <anon>:9         let mut x = 5; let y = (x = 6); (x, y)
[11:50:00] -playbot- output truncated; full output at: http://bit.ly/1giPnFc
[11:50:39] <nagisa> that's some interesting behaviour
[11:50:43] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[11:51:26] <imperio> nagisa: it does what it's supposed to to... no ?
[11:51:30] <imperio> *do
[11:52:16] <Havvy> nagisa:  The `=` operator evaluates to `unit` because we don't want `if x = true {}` running.
[11:52:22] *** Quits: skeuomorf (skeuomorf@moz-r9d.cog.32.197.IP) (Ping timeout: 121 seconds)
[11:53:15] <nagisa> yea, I’m just trying to somehow justify not forbidding such code at all
[11:53:23] <nagisa> (there's an rfc issue for that)
[11:54:17] *** Joins: bdero (bran@moz-91hi89.mit.edu)
[11:57:04] *** Quits: Kingsqueee (kingsquee@moz-k72lip.bchsia.telus.net) (Quit: Leaving)
[11:59:04] *** Joins: Sho (sho@moz-kkt.lcj.28.5.IP)
[12:01:14] <bluss> Havvy: also, it's incompatible with ownership to return the value just assigned
[12:01:22] <bluss> it would work for copyable types
[12:06:46] *** Joins: skeuomorf (skeuomorf@moz-bf1.3uc.32.197.IP)
[12:07:14] <nagisa> I vaguely remember us making unwinding past FFI boundary not be undefined anymore
[12:07:26] *** Joins: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net)
[12:08:02] *** Joins: skeuomor2 (skeuomorf@moz-05h.q8a.32.197.IP)
[12:08:55] *** Quits: skeuomor1 (skeuomorf@moz-jr1.028.32.197.IP) (Ping timeout: 121 seconds)
[12:09:33] *** Joins: skeuomor1 (skeuomorf@moz-ijs.cog.32.197.IP)
[12:09:53] <nagisa> perhaps not
[12:09:56] * nagisa shrugs
[12:10:59] *** Quits: skeuomorf (skeuomorf@moz-bf1.3uc.32.197.IP) (Ping timeout: 121 seconds)
[12:11:01] *** Joins: skeuomor3 (skeuomorf@moz-05l.sa8.32.197.IP)
[12:12:20] *** Quits: skeuomor2 (skeuomorf@moz-05h.q8a.32.197.IP) (Ping timeout: 121 seconds)
[12:12:25] <bluss> that would be a recent change in that case
[12:13:49] *** Quits: skeuomor1 (skeuomorf@moz-ijs.cog.32.197.IP) (Ping timeout: 121 seconds)
[12:28:45] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[12:31:27] *** Quits: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[12:35:38] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[12:41:44] *** Joins: erickt (erickt@moz-pqs.0ej.162.69.IP)
[12:41:45] *** ChanServ sets mode: +ao erickt erickt
[12:45:35] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:46:27] *** Quits: erickt (erickt@moz-pqs.0ej.162.69.IP) (Ping timeout: 121 seconds)
[12:53:54] *** Joins: mukilan (mukilan@moz-4m9.1ur.164.122.IP)
[12:59:21] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[13:13:22] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[13:13:50] <eddyb> bluss: you could return the previous value
[13:14:35] <eddyb> then (*p = x) is replace(p, x)
[13:15:07] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[13:16:44] <eddyb> and (a = b = a) is swap(&mut a, &mut b)
[13:16:50] <bluss> cool
[13:17:00] <eddyb> bluss: it's what Pony does. if that's what it was called
[13:17:35] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[13:18:42] <bluss> I'm fine with not having it, it enables more obscure code
[13:19:00] <Havvy> Like `a = b = a` being obscure.
[13:19:35] *** Joins: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de)
[13:20:14] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[13:20:50] <imperio> I'm supposed to improve the E0119 error code explanation, however, I don't see how. What did I miss ?
[13:22:15] *** Quits: mukilan (mukilan@moz-4m9.1ur.164.122.IP) (Ping timeout: 121 seconds)
[13:23:34] <Havvy> imperio:  Link to the error code explanation?
[13:24:18] <imperio> Havvy: https://github.com/rust-lang/rust/blob/master/src/librustc_typeck/diagnostics.rs#L1265
[13:24:58] *** Joins: mukilan (mukilan@moz-115.fsj.164.122.IP)
[13:25:28] <Havvy> The first thing I see is that it's extremely long.
[13:26:15] <Havvy> But then, these don't show up normally, so that's okay.
[13:27:46] <imperio> gh26970
[13:27:46] <[o__o]> Misleading error message on use of FnOnce<(T, U), Output=V>: https://github.com/rust-lang/rust/issues/26970
[13:29:32] <Havvy> imperio:  How about say something how Foo is a T and Foo, so it could use either implementation and that Rust does not choose the most specific implementation?
[13:32:05] <imperio> Havvy: I'm not sure to have fully understood you
[13:33:08] *** Quits: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net) (Quit: Konversation terminated!)
[13:36:12] <eddyb> oli_obk_: legit error http://buildbot.rust-lang.org/builders/auto-mac-64-nopt-t/builds/5906/steps/test/logs/stdio
[13:36:32] <eddyb> oli_obk_: I guess you forgot to run check-stageN-syntax (the libsyntax tests)
[13:36:34] <Havvy> When looking for the implementation for the trait, Rust finds both the `impl MyTrait for T` where T is all types and the `impl MyTrait for Foo`. Since a trait cannot be implemented multiple times, it errors.
[13:36:37] <Havvy> Something like that.
[13:45:57] <oli_obk_> @eddyb i thought "check" ran everything?
[13:46:08] <eddyb> oli_obk_: you ran make check and it finished?
[13:46:10] <eddyb> huh
[13:46:26] <oli_obk_> let me check
[13:48:21] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[13:48:37] <oli_obk_> i had some failure called test_process_mask... 
[13:49:29] *** Quits: mukilan (mukilan@moz-115.fsj.164.122.IP) (Ping timeout: 121 seconds)
[13:51:41] <oli_obk_> that's weird
[13:51:43] <oli_obk_> now it's gone
[13:51:49] <oli_obk_> anyway, sorry about that, fixing
[13:55:25] <doener> eddyb: for a monomorphized TyEnum, can I get the DefId of the generic type it originated from?
[13:56:26] *** Joins: erickt (erickt@moz-pqs.0ej.162.69.IP)
[13:56:26] *** ChanServ sets mode: +ao erickt erickt
[13:57:14] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[14:01:06] *** Quits: erickt (erickt@moz-pqs.0ej.162.69.IP) (Ping timeout: 121 seconds)
[14:01:14] *** Joins: RCIX (RCIX@moz-7omm6s.ph.cox.net)
[14:01:31] *** Joins: tamird (tamird@moz-ga3.afc.209.65.IP)
[14:02:08] <imperio> Havvy: I'll add this precision then. Thanks for your help ! :)
[14:02:18] <Havvy> imperio:  You're welcome!
[14:07:00] <imperio> Havvy: you can see it here: gh27350
[14:07:01] <[o__o]> Improve E0119 error explanation: https://github.com/rust-lang/rust/pull/27350
[14:07:53] <Havvy> Nice.
[14:08:14] <imperio> once again, thanks for your help ^^
[14:08:26] <imperio> like this, I can close a two weeks old issue haha
[14:08:32] <Havvy> That actually lets me improve my PR a bit too.
[14:08:52] <imperio> win-win PR
[14:08:56] <imperio> the best ones
[14:17:05] <Havvy> !gh 27348
[14:17:05] <rustbot> [PR 27348] <open> Docs: Add ux-guidelines document <https://github.com/rust-lang/rust/pull/27348>
[14:17:12] <Havvy> imperio:  ^^ If you're interested
[14:17:47] <imperio> Havvy: was it today the "illegal is illegal" funny topic ?
[14:18:03] *** Quits: det (chris@moz-q2ed1r.lv.cox.net) (Connection closed)
[14:18:13] <Havvy> Yes.
[14:18:24] *** Joins: det (chris@moz-q2ed1r.lv.cox.net)
[14:18:44] <imperio> Havvy: I added a typo comment
[14:20:55] <eddyb> doener: huh?
[14:20:55] <Havvy> imperio:  Fixed.
[14:21:00] <eddyb> doener: types are never "monomorphized"
[14:21:16] <doener> eddyb: what does monomorphize_type do then?
[14:21:26] <imperio> Havvy: well done ! :p
[14:21:36] <eddyb> replaces formal type params
[14:21:49] <eddyb> and normalizes <T as Trait>::AssocTy projections
[14:21:57] <doener> eddyb: I meant that by monomorphization...
[14:22:04] <eddyb> TyEnum remains TyEnum
[14:22:08] <eddyb> its DefId doesn't change
[14:22:18] <eddyb> only TyParam and TyProjection are affected
[14:22:19] <doener> eddyb: hmm.
[14:22:31] <imperio> Manishearth: I updated the PR btw
[14:22:49] <eddyb> doener: I gtg now, do you want me to hop on IRC from my phone?
[14:22:55] <imperio> Manishearth: Do you see anything else ?
[14:23:08] <doener> eddyb: the problem I'm facing is that in debuginfo, e.g. "let x = Some(4)" causes debuginfo for Option<i32> to be generated, claiming that the type was defined in this file
[14:23:41] <eddyb> doener: it's using the Span of the instantiation instead of anything from the type *shrug*
[14:24:01] <doener> eddyb: hm, will take another look at the source... maybe I missed something
[14:24:06] <doener> eddyb: later!
[14:24:21] <Manishearth> imperio: squash!
[14:24:32] <eddyb> doener: seeya, and good luck :D
[14:25:00] <imperio> Manishearth: you'll have to wait me to get home ! :p
[14:26:05] <Manishearth> ah
[14:26:25] <Havvy> imperio:  Give me write access to your repo and I can squash for you.
[14:26:37] <imperio> Havvy: seriously ? O.O
[14:26:39] <imperio> so nice
[14:26:43] <Havvy> imperio:  I *think*
[14:26:43] <imperio> hang on !
[14:26:59] <Havvy> I'm @Havvy on Github.
[14:27:24] <imperio> Havvy: I know :p
[14:27:28] <imperio> I added you
[14:27:33] <imperio> let's see if you can
[14:28:57] <Havvy> Gimme a few minutes. Gotta add a remote and all that jazz.
[14:29:08] <imperio> yup yup
[14:32:11] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[14:32:28] <Havvy> Uh, I can...and somehow I got an extra commit in there?
[14:32:47] <imperio> you failed XD
[14:33:00] <imperio> you took too much commits it seems
[14:34:00] <Havvy> But how?
[14:34:06] <Havvy> I didn't touch that commit at all.
[14:34:16] <imperio> what command did you used ?
[14:34:21] <imperio> git rebase -i HEAD~2 ?
[14:34:41] <Havvy> I did HEAD~3...I guess even though I didn't modify it, it still thinks I did...
[14:34:58] <imperio> well, you failed
[14:35:04] <imperio> I'll fix it this evening ^^^
[14:35:54] <Havvy> imperio:  I can fix it...I think.
[14:36:14] <imperio> well, you try haha
[14:37:45] <Havvy> Fixed.
[14:37:56] <Havvy> And I learned a new git trick.
[14:38:07] <imperio> oh ? which one ?
[14:38:11] <Havvy> https://stackoverflow.com/questions/134882/undoing-a-git-rebase
[14:38:21] <imperio> oh nice!
[14:38:29] <imperio> Manishearth: it's done ^^
[14:38:34] <imperio> Havvy: thanks a lot!
[14:38:37] <Havvy> `git reflog` and `git reset --hard HEAD@{#}`
[14:38:48] <Havvy> imperio:  Not a problem. ^.^  (It's my weekend right now)
[14:39:07] <imperio> lucky you
[14:39:25] <imperio> I can't wait to be in weekend...
[14:39:33] <Manishearth> we need rebase-as-a-service
[14:39:47] <Elainemo> Manishearth: thanks for volunteering!
[14:39:56] <Manishearth> though actually I'd just ssh from my phone
[14:40:02] <Havvy> Elainemo:  Shouldn't that have been directed at me?  :P
[14:40:06] <Manishearth> whats an Elainemo 
[14:40:15] <Manishearth> is it Elaine+Elmo?
[14:40:17] <Havvy> Since I'm the one who actually performed it as a service?
[14:40:29] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[14:40:38] <imperio> Havvy: you're trying to catch devil's attention or something ? ^^'
[14:41:03] <Havvy> imperio:  As I don't have a car, and all the programming jobs in my area are across the river (into Portland), I had to get a local job. Only one available was in a factory...I'm cleaning a break room for 12 hours a night for 6 months.
[14:41:28] <Manishearth> Havvy: er, remote!
[14:41:38] <Havvy> Manishearth:  Tried and failed. I'm too lazy if I'm not in a workplace.
[14:41:47] <Manishearth> lol
[14:41:48] <Havvy> Just ask Eric Jung.
[14:41:53] <imperio> Havvy: arf
[14:41:59] <Manishearth> is that the foxyproxy guy?
[14:42:03] <Havvy> Aye.
[14:42:03] <imperio> in France, remote are only for php :'(
[14:42:18] <Manishearth> on one hand, remote
[14:42:22] <Manishearth> on the other hand, php
[14:42:26] <Manishearth> choices, choices
[14:42:49] <imperio> it's like having the freedom to get hurt
[14:42:53] <imperio> doesn't make sense
[14:43:09] <Havvy> Manishearth:  You're a big name around here..., can you look over gh27348 ?
[14:43:10] <[o__o]> Docs: Add ux-guidelines document: https://github.com/rust-lang/rust/pull/27348
[14:43:12] <Manishearth> nox is a php dev though
[14:43:39] <Manishearth> Havvy: where does that fit in?
[14:43:48] <Manishearth> also, those seem to be metadocs
[14:43:49] <pnkfelix> is homu wedged?
[14:44:13] <Havvy> Manishearth:  Yeah, metadocs. I'm not sure exactly where to put it. Somebody said at the top level - but I'm not sure if they meant top level of the Rust repo or top level of the docs directory.
[14:44:19] <imperio> pnkfelix: it worked fine a few hours ago for me
[14:44:44] <Manishearth> Havvy: these won't go in the actual online docs, right?
[14:44:47] <Manishearth> if so then okay
[14:44:54] <Havvy> I, uh... dunno.
[14:45:09] <Manishearth> else, go straight to jail. do not ocllect $200
[14:45:10] <pnkfelix> imperio: okay yes it just fired for me, phew
[14:45:28] <Havvy> They might? But since they aren't in the index, they won't be visible outside of a direct link?
[14:45:35] <imperio> pnkfelix: "wait and see" said someone :p
[14:45:36] <Manishearth> Havvy: i guess
[14:45:41] <nagisa> as is, they will be get compiled to htm
[14:45:43] <nagisa> html
[14:45:48] <nagisa> but not linked to from anywhere
[14:45:51] <pnkfelix> imperio: in a very different context
[14:45:52] <Manishearth> Havvy: to render it you need the tiplevel title to have a percent sign i think
[14:45:55] <nagisa> which is basically as good as non-existing
[14:46:05] <nagisa> Havvy: Manishearth ↑
[14:46:17] <Havvy> nagisa:  Ah, so my guess was correct.
[14:46:31] <Manishearth> > The word "illegal" is illegal.
[14:46:32] <imperio> pnkfelix: what's the best for this than compilation and homu ?
[14:46:36] <Manishearth> $ git grep illegal | wc -l
[14:46:36] <Manishearth> 197
[14:46:36] <Havvy> Good to note. And thanks again for the illegal->invalid commit.
[14:46:44] <Havvy> Manishearth:  There's an open commit for that.
[14:46:59] <Manishearth> ah
[14:47:00] <pnkfelix> imperio: I'm going afk so I cannot answer.  but also, I do not understand the Q
[14:47:01] <Manishearth> +1
[14:47:15] <Havvy> https://github.com/rust-lang/rust/pull/27313
[14:47:15] <imperio> pnkfelix: the Q ?
[14:47:23] <Manishearth> Havvy: content lgtm, placement is something I'll wait for steve to decide on
[14:47:30] <pnkfelix> imperio: the Question: "what's the best for this than compilation and homu ?"
[14:47:34] <Havvy> Manishearth:  Do you know of any missing content?
[14:47:34] <nagisa> Manishearth: most of those lines are in internal comments of the codebase
[14:47:51] <Havvy> nagisa:  Same to you.
[14:47:52] <Manishearth> nagisa: Yeah, but there's a lot of stuff behind doc comments and printed stuff
[14:47:54] <nagisa> these guidelines are for user-facing strings.
[14:47:54] <pnkfelix> imperio: I do not know what you are asking.  Maybe it was a rhetorical Q, but I nonetheless do not understand it.
[14:48:03] <Manishearth> Havvy: not that I know ow
[14:48:06] <Manishearth> *of
[14:48:18] <imperio> pnkfelix: I have the feeling that my english is becoming worst and worst
[14:48:44] <Havvy> imperio:  "worse and worse" unless that was a joke.
[14:49:15] <imperio> pnkfelix: you said "in a very different context" for my quote, then I replied "what's the best for this than compilation and homu ?". So maybe I missed something here ^^
[14:49:22] <imperio> Havvy: ... it wasn't...
[14:50:27] <nox> Manishearth: Ah ah.
[14:50:42] <Havvy> nagisa:  I wonder if they would be good to remove from internal comments as well... :P
[14:51:45] *** Joins: erickt (erickt@moz-1mb.0ej.162.69.IP)
[14:51:45] *** ChanServ sets mode: +ao erickt erickt
[14:52:17] *** Joins: eddyb_ (eddyb@moz-kh3.eg8.166.109.IP)
[14:52:34] *** Joins: arielby (Mibbit@moz-uk7sll.tau.ac.il)
[14:52:39] <eddyb_> doener: I may have figured it out: spans are never actually encoded
[14:52:51] <Havvy> Anyways, I'm going to get some sleep.
[14:53:03] <Havvy> Good day everybody.
[14:53:10] <imperio> Havvy: you too !
[14:53:12] <eddyb_> DUMMY_SP does indeed point to the start of the crate root
[14:53:38] <eddyb_> I wasn't sure you were seeing that, or the expression's span
[14:53:51] *** Quits: imperio (Mibbit@moz-opqtbe.abo.bbox.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[14:55:23] <bluss> gh26173 is coming yay!!
[14:55:24] <[o__o]> Nonzeroing Move Hints (take3 branch): https://github.com/rust-lang/rust/pull/26173
[14:56:06] <doener> eddyb_: yeah, that's it, figured that out in the meantime, too
[14:56:10] <doener> eddyb_: thanks
[14:56:52] <nagisa> Havvy: I wouldn’t bother too much, honestly
[14:57:40] *** Quits: eddyb_ (eddyb@moz-kh3.eg8.166.109.IP) (Ping timeout: 121 seconds)
[14:58:20] <nagisa> Havvy: I PRd a https://github.com/rust-lang/rust/pull/27352 though
[14:58:40] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (A TLS packet with unexpected length was received.)
[14:58:57] <Havvy> nagisa:  Ah. Cool.
[15:06:06] *** Joins: SiegeLord (sl@moz-s8hpnn.ca.comcast.net)
[15:13:16] *** Joins: mukilan (mukilan@moz-7vv.4ab.164.122.IP)
[15:14:16] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[15:18:31] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[15:19:23] *** Joins: mcpherrin (mcpherrin@moz-bhcp6n.8mb6.t84e.0645.2601.IP)
[15:20:56] *** Quits: arielby (Mibbit@moz-uk7sll.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[15:21:25] *** Joins: skeuomorf (skeuomorf@moz-4d2.3pi.32.197.IP)
[15:22:44] <nagisa> go 25173 go!
[15:23:48] <Havvy> !gh 25173
[15:23:48] <rustbot> [PR 25173] <closed> doc: fix syntax error in Guessing Game <https://github.com/rust-lang/rust/pull/25173>
[15:24:06] *** Quits: skeuomor3 (skeuomorf@moz-05l.sa8.32.197.IP) (Ping timeout: 121 seconds)
[15:25:22] *** Joins: skeuomor1 (skeuomorf@moz-goc.n1e.32.197.IP)
[15:26:14] <Gankro> nmatsaki1: @_@ dat review
[15:26:17] <Gankro> err
[15:26:20] <Gankro> pnkfelix: 
[15:26:22] <Gankro> words
[15:26:28] * Gankro goes back to waking up
[15:27:26] *** Quits: skeuomorf (skeuomorf@moz-4d2.3pi.32.197.IP) (Ping timeout: 121 seconds)
[15:27:48] *** Joins: skeuomorf (skeuomorf@moz-j00.hq3.32.197.IP)
[15:29:29] <delma>  /autostuff
[15:29:38] <delma> whoops
[15:30:22] *** Quits: skeuomor1 (skeuomorf@moz-goc.n1e.32.197.IP) (Ping timeout: 121 seconds)
[15:33:28] *** Quits: SiegeLord (sl@moz-s8hpnn.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:41:04] *** Joins: Diggsey (diggsey@moz-ulabqt.dsl.pipex.com)
[15:41:13] *** Joins: arielby (Mibbit@moz-os36bp.tau.ac.il)
[15:41:20] <arielby> how do you feature-gate in typeck?
[15:45:12] <nagisa> arielby: https://github.com/rust-lang/rust/pull/27026/files search for typeck diff
[15:47:54] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[15:54:07] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[15:59:10] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[16:03:07] <jroesch> arielby: I just did it for defaults 
[16:03:23] <jroesch> https://github.com/rust-lang/rust/pull/26870/files
[16:04:05] <jroesch> huon: nmatsakis: I feature gated the type macros: https://github.com/rust-lang/rust/pull/26870/files review when you get a chance (about to head to the offfice) 
[16:09:31] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:10:46] <imperio> arielby: about gh26970, this is really E0215 ?
[16:10:47] <[o__o]> Misleading error message on use of FnOnce<(T, U), Output=V>: https://github.com/rust-lang/rust/issues/26970
[16:11:22] <imperio> I tried the code given on stackoverflow and got E0119, not E0215...
[16:14:36] *** Quits: summerlight_ (summerlight@moz-17t.2mj.130.121.IP) (Ping timeout: 121 seconds)
[16:17:39] *** Quits: oli_obk_ (smuxi@moz-l0l.0sb.52.141.IP) (Connection closed)
[16:20:30] <arielby> imperio: yes it is E0215
[16:20:38] <arielby> when you misuse parenthetical notation
[16:20:38] <imperio> crap
[16:20:43] <arielby> I already have a fix
[16:20:45] *** Joins: summerlight (summerlight@moz-17t.2mj.130.121.IP)
[16:20:48] <imperio> really ?
[16:20:51] <imperio> well, perfect XD
[16:21:04] <imperio> at least, my pr wasn't for nothing haha
[16:24:50] <arielby> that's gh27353
[16:24:50] <[o__o]> clarify the parenthetical notation stability error message: https://github.com/rust-lang/rust/pull/27353
[16:24:53] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[16:27:45] <arielby> Gankro: why is double-dropping UB
[16:28:04] <Gankro> arielby: How can a type guard against being ptr::read twice?
[16:28:13] <Gankro> Or rather, how can it reasonably do so
[16:28:25] <arielby> Gankro: that makes it unsafe, not UB
[16:28:31] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[16:28:55] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Connection closed)
[16:29:12] <arielby> unsafe = Rust code can rely on it not happening
[16:29:21] <Gankro> arielby: Ah I see, you're trying to argue that it's only UB transitively
[16:29:22] <arielby> UB = rustc/LLVM can rely on it not happening
[16:29:43] <arielby> similarly, creating 2^32 objects is unsafe (because of Rc)
[16:29:45] <arielby> not UB
[16:30:16] <arielby> also, calling Vec::from_raw_parts with bogus values
[16:31:09] <arielby> Gankro: UB vs. unsafe is an important distinction
[16:31:19] <arielby> like illegal vs. not recommended
[16:31:32] <Havvy> s/illegal/invalid/
[16:31:42] <arielby> Havvy: I meant illegal here
[16:32:06] <arielby> if you break a state law, police may come and arrest you
[16:32:19] <arielby> if you break an RFC law, your program may not work
[16:32:20] *** Quits: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[16:32:31] <arielby> or the other program may stop working
[16:32:33] <arielby> or something like that
[16:32:38] <bluss> RFCs are more like guidelines anyway
[16:34:09] <arielby> bluss: guidelines = if you break them, that certainly can cause issues
[16:34:10] <Gankro> arielby: Should I put it in "safe" to do?
[16:34:23] <Gankro> Hmm no
[16:34:29] <Gankro> *shrug* I just won't mention it
[16:34:31] <arielby> Gankro: these should be separate concepts
[16:34:58] <arielby> what is UB - the Law - if you break it and LLVM notices, your ass is ****
[16:35:40] *** Joins: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de)
[16:35:50] <arielby> and what is unsafe - you are not supposed to do
[16:36:34] <arielby> we *should* list what (unsafe) Rust code is allowed to rely on
[16:36:36] <arielby> somewhere
[16:37:23] <Aaron> https://doc.rust-lang.org/reference.html#behavior-considered-undefined ?
[16:37:30] <kimundi> "Behavior considfered "safe""
[16:37:34] <kimundi> err, whoops
[16:37:42] <Aaron> Everything else? :P
[16:38:03] <arielby> Aaron: that's for UB
[16:38:10] * kimundi aborts the joke he was in progress of writing out of embarrassment
[16:38:54] <bluss> don't formulate it to say that UB will surely cause noticeable trouble
[16:39:13] <arielby> bluss: I think the "illegal" metaphor is right here
[16:39:28] <Aaron> So more like, give examples/reassurances when something is okay to do? Formalize some subset of implementation details?
[16:39:44] <arielby> Aaron: no
[16:40:04] <arielby> there are things that aren't UB, but unsafe code should be able to rely on
[16:40:42] <arielby> like, for example, that the fields of any `Vec` are sane
[16:42:19] <Aaron> Fields as in... if you were to transmute to access them?
[16:42:40] <arielby> Aaron: transmute, or from_raw_parts
[16:43:10] <arielby> calling Vec::<u8>::from_raw_parts(1 as *const u8, ~1, ~1) isn't UB
[16:44:29] <arielby> s/~/!/g
[16:45:45] <kimundi> "Unsafe behavior is like a black hole - you don't know what will happen if you fall in, but you sure as hell should stay away from it if you want to live" - Me, just now :P
[16:46:36] <arielby> kimundi: surely you mean undefined behaviour?
[16:46:41] <arielby> not unsaf
[16:46:41] <nagisa> I’d, and I bet a lot of scientists, would pay a lot to get anywhere close to, and "experience” what it feels like to fall into a black hole.
[16:46:46] <arielby> *unsafe
[16:46:46] <kimundi> arielby: Arg!
[16:46:50] <kimundi> darn it
[16:47:20] <nagisa> A one way trip to mars? meh. One way trip to black hole? Sign me up pretty please!
[16:48:44] <kimundi> nagisa: Well, you can phone back from Mars at least, communicating with a black hole is a bit more unidirectional :P
[16:50:52] <arielby> acrichto: should I add [breaking-change]
[16:50:53] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[16:50:55] <arielby> to the commit message?
[16:52:01] <arielby> acrichto: [added]
[16:52:29] *** chmanchester|afk is now known as chmanchester
[16:52:47] <arielby> Havvy: why is "illegal" in compiler error messages so bad?
[16:54:17] <Havvy> arielby:  Because we don't put people in jail for syntax errors.
[16:54:34] <Havvy> And "invalid" is (usually) just as appropriate.
[16:55:50] <acrichto> arielby: yeah
[16:56:45] <Havvy> It's a "scary" word used needlessly.
[16:57:09] <gleb> Havvy: isn't it sort of a term of art?
[16:57:53] *** Quits: akiss (akiss@moz-c6colr.inf.u-szeged.hu) (Ping timeout: 121 seconds)
[16:58:22] <arielby> Gankro: are you planning to fix the ownership-path/lvalue-path confusion?
[16:58:59] * Zoxc wonders if doing cold calls using LLVM patchpoints would speed up code much
[16:59:01] <Gankro> arielby: I'm discussing it with everyone here (most of the Rust team is in SF for rustcamp)
[16:59:41] <Havvy> gleb:  Perhaps, but there's no reason we can't drop terms of art into the history books.
[16:59:42] <Gankro> arielby: I am certainly willing to change it
[16:59:51] <Gankro> But I'd like to figure out the details better first
[17:00:06] <Zoxc> Can we hijack an interrupt number on x86?
[17:00:53] <Gankro> arielby: e.g. I assume you're not just asking to s/ownership/lvalue
[17:01:01] <arielby> Gankro: sure
[17:01:08] <arielby> you sometimes talk about ownership paths
[17:01:12] <arielby> and sometimes about rvalue paths
[17:01:17] <arielby> *lvalue paths
[17:01:32] <Gankro> oh thank god. I thought rvalue paths were a thing too now
[17:01:46] <arielby> Gankro: they are
[17:01:47] <gleb> Havvy: actually not even a term of art but when you have a set of rules, there're notions of legal and illegal, like in chess. is chess scary?
[17:01:53] <arielby> as well as rvalue lifetimes
[17:02:29] <arielby> not important there
[17:03:55] <Havvy> gleb:  In games, there's usually punishment for making "illegal" rules.
[17:04:01] *** Joins: eljay (eljay@moz-eqltvh.skybroadband.com)
[17:04:23] *** Quits: waffles (wafflespean@moz-bbq.f6h.136.123.IP) (Quit: C'yall later...)
[17:04:49] <Havvy> E.g., losing the game or having the football move away from where you want it.
[17:05:11] <arielby> Havvy: in board games there isn't
[17:05:42] <arielby> you just revert
[17:05:58] <Havvy> I've also never read a board game rule that said "illegal"
[17:06:10] <Havvy> I've seen "against the rules" and "cheating".
[17:06:28] <arielby> Havvy: in Chess moves-against-the-rules are called illegal
[17:06:55] <arielby> and revert/forfeit depends on the format
[17:07:15] <Havvy> And in any case, games don't have to be picky with language usage.
[17:12:54] *** Quits: bdero (bran@moz-91hi89.mit.edu) (Ping timeout: 121 seconds)
[17:15:05] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[17:16:36] *** Joins: James_ (quassel@moz-t0rko5.range86-163.btcentralplus.com)
[17:17:26] <gleb> Havvy: the meaning of legal/illegal has a clear relation to rules (not necessarily laws) while valid/invalid seems more vague and ambiguous, relating to not only legality but soundness and truth
[17:19:19] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[17:19:53] *** Quits: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de) (Quit: ZNC - http://znc.in)
[17:24:56] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:24:57] *** ChanServ sets mode: +o brson
[17:28:28] *** Joins: bdero (bran@moz-gnsorp.dyn.MIT.EDU)
[17:29:31] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[17:33:40] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[17:36:09] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[17:41:32] <arielby> Gankro: you break the aliasing rules in split_at_mut
[17:42:02] <Gankro> arielby: well, std does :)
[17:42:17] <Gankro> But yes, I think we need some refinement based on actual *usage*
[17:42:27] <arielby> Gankro: we certainly emit noalias in similar cases
[17:42:48] <arielby> if this was a fixed size array
[17:42:51] <arielby> that would be pretty bad UB
[17:43:15] *** Joins: mitaa (mitaa@moz-lmfj0g.dyn.drei.com)
[17:43:29] <Gankro> arielby: You're saying std is incorrect?
[17:43:36] <arielby> yes
[17:43:53] <Gankro> arielby: can you file an issue?
[17:44:04] <arielby> Gankro: this doesn't cause LLVM UB at this moment
[17:44:48] <Gankro> arielby: Yeah it seems fine since one is clearly derived from the other?
[17:45:00] <bluss> arielby: would it be fine if you use two *mut instead?
[17:45:06] <arielby> two *mut would be fine
[17:45:20] <bluss> great. That's the non horrific way of writing it anyway
[17:45:21] <arielby> self2 and the output of the first index_mut are noalias
[17:45:34] <arielby> they are siblings
[17:45:39] <arielby> they overlap
[17:46:06] *** Quits: summerlight (summerlight@moz-17t.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:46:57] <bluss> Gankro: I can patch this if you want
[17:47:10] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:47:34] *** Joins: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de)
[17:47:44] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[17:48:02] <Gankro> bluss: sure!
[17:48:50] <arielby> Gankro: even if it isn't strictly LLVM UB, it is *very* sketchy
[17:49:01] <Gankro> arielby: more than happy to remove a transmute_copy!
[17:52:19] <arielby> Gankro: gh27357
[17:52:19] <[o__o]> split_at_mut does sketchy things with aliasing: https://github.com/rust-lang/rust/issues/27357
[17:52:50] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:52:55] <Gankro> arielby: thanks!
[17:53:02] <Gankro> bluss: ^
[17:53:10] <bluss> Gankro: thanks
[17:55:23] <doener> pnkfelix: fixed the gist for a.rs
[17:56:27] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[17:57:20] <bluss> arielby: is this the correct way to fix it? https://github.com/rust-lang/rust/pull/27358
[17:58:07] *** Joins: avikpal (avikpal@moz-5ue.o7g.194.117.IP)
[17:58:42] <arielby> bluss: you still have a live reference to a borrowed slice
[17:58:46] *** Joins: flabbergaster (Mibbit@moz-04g.1p5.215.80.IP)
[17:58:48] <flabbergaster> Help me for hatch my egg http://www.eternia-dimension.com/oeuf_pokemon_1530843.html please clik on the red square thanks =)
[17:59:12] <arielby> I think we should alter the aliasing rules to make that fine
[17:59:37] <nagisa> slice.as_mut_ptr() and reconstruct two new slices from the ptr?
[17:59:52] <arielby> nagisa: that would do
[18:00:06] <bluss> as_mut_ptr doesn't borrow the slice though
[18:00:12] <bluss> so I don't see the difference
[18:00:12] *** Quits: flabbergaster (Mibbit@moz-04g.1p5.215.80.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:00:21] <nagisa> bluss: you mean doesn’t consume.
[18:00:31] <nagisa> yeah, but you could mem::forget(slice) just after.
[18:00:32] <bluss> neither consume nor borrow
[18:00:44] <arielby> bluss: we *do* need to do something with non-consumed but unused references
[18:01:02] <arielby> that's a problem certainly
[18:01:16] <bluss> arielby: right to mark them reborrowed (i.e. temporarily superceded, not sure what the term is)
[18:01:26] <bluss> temporarily out of reach
[18:01:35] <arielby> bluss: I mean from a rule perspective
[18:01:39] <nagisa> uhh, you could adjust original slice length and construct the other side.
[18:02:08] <arielby> as_mut_ptr will be fine
[18:02:26] <bluss> arielby: so basically from_raw_parts_mut?
[18:03:05] <bluss> arielby: this doesn't seem right at all -- we have a lot of unsafe code with the structure in the PR
[18:03:42] <arielby> bluss: so I guess we have to pick aliasing rules that would make it work
[18:04:10] <arielby> so it will be fine
[18:06:59] <arielby> there's the problem that you are borrowing self_mut for 'a twice
[18:07:07] <arielby> but I guess lots of people do that
[18:07:11] <arielby> so we would have to handle it
[18:07:40] *** Joins: skeuomor1 (skeuomorf@moz-25i.0m1.32.197.IP)
[18:07:47] <arielby> I mean, in sugared MIR
[18:07:49] <arielby> you have
[18:07:52] <arielby> let $0 = ops::IndexMut::index_mut(&'a mut *self_mut, ..mid);
[18:08:01] <arielby> let $1 = ops::IndexMut::index_mut(&'a mut *self_mut, mid..);
[18:08:33] <arielby> the second borrow would indicate that the whole of self_mut is unaliased for 'a
[18:08:46] <bluss> yep that's not good either
[18:09:37] <arielby> I am afraid this is a common pattern
[18:10:03] *** Quits: erickt (erickt@moz-1mb.0ej.162.69.IP) (Ping timeout: 121 seconds)
[18:10:19] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:10:19] *** ChanServ sets mode: +o pcwalton
[18:10:24] *** Quits: skeuomorf (skeuomorf@moz-j00.hq3.32.197.IP) (Ping timeout: 121 seconds)
[18:10:31] <arielby> I guess we *can* make it work
[18:10:37] <arielby> using an access-based scheme
[18:10:57] *** Joins: skeuomorf (skeuomorf@moz-0gb.028.32.197.IP)
[18:13:35] <bluss> I'm updating it to use from_raw_parts_mut
[18:13:41] *** Quits: skeuomor1 (skeuomorf@moz-25i.0m1.32.197.IP) (Ping timeout: 121 seconds)
[18:13:44] <bluss> your expansion looks too horrible
[18:13:57] <bluss> even though it might be common
[18:15:33] <Gankro> arielby: safe to say that padding is undef?
[18:15:47] <arielby> Gankro: undef?
[18:15:52] <arielby> that's an LLVM problem
[18:15:57] <arielby> as an LLVM person
[18:16:03] <Gankro> err should be treated as mem::uninitialized()
[18:16:24] <arielby> I am not *that* certain about mem::uninitialized() semantics
[18:16:43] <arielby> for example, undef vs. memcpy
[18:16:56] *** Joins: erickt (erickt@moz-1mb.0ej.162.69.IP)
[18:16:56] *** ChanServ sets mode: +ao erickt erickt
[18:16:57] <arielby> doener: how does undef vs. memcpy end?
[18:17:02] <Gankro> hmm. I'd like to note in some manner that you shouldn't be reading the padding and relying on it to have some kind of property
[18:17:20] <doener> arielby: undef source or dest?
[18:17:21] <arielby> we *should* have a way to reset the padding
[18:17:24] <arielby> doener: undef source
[18:17:27] <arielby> if you have
[18:17:37] <arielby> let buf: [u8; 1024] = mem::uninitialized();
[18:17:41] <arielby> let buf2: [u8; 1024]
[18:17:48] <arielby> copy(buf, buf2, 1024)
[18:17:53] <arielby> (with &)
[18:18:00] <arielby> copy(&buf, &mut buf2, 1024)
[18:18:17] *** Joins: skeuomor1 (skeuomorf@moz-d74.j7v.32.197.IP)
[18:18:20] <Gankro> arielby: what does resetting padding imply?
[18:18:25] <doener> arielby: should be fine IIRC
[18:18:32] <Gankro> Is it just to avoid leaking data that used to be there?
[18:18:36] <arielby> doener: fine
[18:18:41] <doener> arielby: just undef dest would get turned into unreachable
[18:18:44] <arielby> does that mean that buf2 ends with 1024 indeterminate values
[18:18:51] <arielby> or 1024 undefs
[18:18:55] <doener> arielby: I know it's like that for store, but memcpy should be the same
[18:19:12] <arielby> doener: of course if you write to an undef pointer that is UB
[18:19:34] <arielby> (because e.g. that pointer could be your return address)
[18:19:51] *** Joins: summerlight (summerlight@moz-17t.2mj.130.121.IP)
[18:20:07] <arielby> I mean, if you write(2) undef data to a pipe and read(2) from the other end
[18:20:28] <arielby> you get indeterminate, but very much not undef, bytes
[18:21:01] *** Quits: skeuomorf (skeuomorf@moz-0gb.028.32.197.IP) (Ping timeout: 121 seconds)
[18:21:13] <doener> arielby: yeah, memcpy with undef contents behind the source pointer is removed / nop
[18:21:53] <arielby> doener: so if you want indeterminate bytes you have to write+read?
[18:22:07] <arielby> or call memcpy from asm?
[18:23:02] *** Quits: vmx (vmx@moz-g1lh3b.dip0.t-ipconnect.de) (Quit: Leaving)
[18:23:06] <doener> arielby: hm? with the memcpy removed, buf2 should have as indeterminate contents as buf
[18:23:11] <arielby> I mean, if you write(2) undef over a socket, your peer won't end up with undef
[18:23:53] <arielby> the bytes may contain your private key, but not your peer's
[18:24:02] <arielby> (e.g.)
[18:24:11] <arielby> and if the peer compares them with something
[18:24:19] <arielby> that comparison will return either true or false
[18:24:58] <arielby> that's what I meant by "indeterminate" bytes
[18:26:02] <arielby> doener: I thought memcpy always outputted stable indeterminate bytes
[18:26:23] *** Quits: mukilan (mukilan@moz-7vv.4ab.164.122.IP) (A TLS packet with unexpected length was received.)
[18:26:35] <doener> arielby: ah, you mean that "undef" would represent a fixed bit pattern?
[18:26:45] <arielby> doener: a stable bit pattern
[18:26:56] <arielby> as if it was passed over a network
[18:28:11] <doener> there was a discussion on llvm-dev on that a while ago... IIRC it was said that undef acts any single value at each site of use.
[18:28:21] <arielby> at each site of use
[18:28:26] <arielby> that means it can differ between sites
[18:28:42] <arielby> undef == undef can return false
[18:28:54] <arielby> you can't do that over an optical fiber
[18:29:00] <doener> right. i.e. %foo = alloca i8; %bar = load i8* %foo; %c1 = icmp eq i8 %bar, 0; %c2 = icmp eq i8 %bar, 4
[18:29:30] <doener> both %c1 and %c2 are either true or false (not both at the same time), but they may both be true
[18:29:38] <doener> have to leave now
[18:29:47] <arielby> bye
[18:30:17] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[18:30:19] *** Joins: filsmick (filsmick@moz-q1f2v0.abo.wanadoo.fr)
[18:30:30] <arielby> Gankro: we want a way to force an ADT into a single representation
[18:30:40] <arielby> and/or a #[repr(unique)]
[18:31:42] <Gankro> arielby: Sorry, can you elaborate?
[18:33:18] <arielby> Gankro: #[repr(unique)] would force all padding to be something definite
[18:33:23] <arielby> so you can memcpy over a network
[18:33:38] <arielby> to the same code
[18:33:46] <arielby> and not worry about private keys leaking
[18:33:52] <Gankro> Ah, ok
[18:34:02] <arielby> and also be by-value hashable
[18:34:21] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[18:35:03] <arielby> I mean, hashable as a buffer
[18:35:17] *** Quits: summerlight (summerlight@moz-17t.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:39:12] *** Joins: binkarus (textual@moz-njd172.ca.comcast.net)
[18:42:41] *** Joins: akiss (akiss@moz-mbkjgp.pool.digikabel.hu)
[18:43:50] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Connection closed)
[18:43:51] <brson> these beta nominations need to be resolved soon https://internals.rust-lang.org/t/triage-digest-tue-jul-28-2015/2411
[18:43:57] <brson> 1.2 is scheduled for next thurs
[18:45:06] *** Joins: jdm_ (jdm@moz-37u.v3n.52.24.IP)
[18:45:27] *** Quits: dlight (dlight@moz-jg0ud2.gvt.net.br) (Ping timeout: 121 seconds)
[18:47:28] <arielby> brson: resolved?
[18:47:48] <arielby> should I cherry-pick gh26728 against 1.2?
[18:47:49] <[o__o]> Make associated type defaults closer to the spec: https://github.com/rust-lang/rust/pull/26728
[18:48:22] <arielby> cherry-pick with a warning?
[18:49:40] *** Quits: binkarus (textual@moz-njd172.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:51:04] *** Joins: nivaata (chatzilla@moz-fmn.9e2.254.103.IP)
[18:52:20] <brson> arielby: somebody needs to accept them or reject them so they can be merged into beta
[18:52:34] <arielby> brson: what's the process?
[18:52:47] <nrc> how do I use regex as a syntax extension? Are there docs?
[18:53:00] <nivaata> hi guys , i am interested in working on bug fixes of rust . debug symbol . who is primarly working on rust debug symbols ?
[18:53:32] <brson> arielby: whichever team is responsible for the PR decides and then adds 'beta-accepted' or removes 'beta-nominated'
[18:53:42] <arielby> that's nrc
[18:54:09] * nrc looks
[18:54:10] <nagisa> nrc: AFAIR the regular runtime regex is faster at the moment, so you might want to just use that now.
[18:54:13] <arielby> should I first cherry-pick
[18:54:33] <nrc> nagisa: its for a demo, I want the syntax extension version for the sake of it
[18:54:34] <arielby> I mean, the 1.2 version is a warning instead of an error
[18:56:05] *** Joins: binkarus (textual@moz-njd172.ca.comcast.net)
[18:56:28] *** nivaata is now known as humbledude
[18:57:50] *** Joins: Peach (Fancy3D@moz-500.6lb.246.96.IP)
[18:58:00] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[18:58:27] *** Quits: akiss (akiss@moz-mbkjgp.pool.digikabel.hu) (Ping timeout: 121 seconds)
[18:59:12] *** Joins: dlight (dlight@moz-khd.48v.135.177.IP)
[18:59:41] *** Quits: erickt (erickt@moz-1mb.0ej.162.69.IP) (Ping timeout: 121 seconds)
[19:01:25] *** Joins: eerie (eerie@moz-23apr7.red.bezeqint.net)
[19:01:27] <brson> arielby: yeah, cherry-pick, then follow up with another patch to make it a warning i think
[19:02:15] *** Quits: MatrixBridge (matrixirc@moz-905bpb.openmarket.com) (Connection closed)
[19:02:19] *** Joins: MatrixBridge (matrixirc@moz-905bpb.openmarket.com)
[19:02:23] <arielby> then PR that?
[19:02:54] <brson> arielby: yes, targeting 'beta'
[19:03:08] <arielby> fine
[19:03:12] <brson> thanks
[19:05:36] *** Quits: eerie (eerie@moz-23apr7.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:07:45] <humbledude> i want someone to help me out in bug fixes of rust :(
[19:07:51] <humbledude> i wana do it.
[19:16:00] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[19:20:17] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[19:23:08] *** Quits: arielby (Mibbit@moz-os36bp.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[19:28:52] *** Joins: apasel422 (Mibbit@moz-6ga37r.ma.comcast.net)
[19:31:03] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[19:32:37] *** Joins: avikpal_ (avikpal@moz-ms3.q61.79.112.IP)
[19:35:13] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[19:36:06] *** Quits: avikpal (avikpal@moz-5ue.o7g.194.117.IP) (Ping timeout: 121 seconds)
[19:42:28] *** chmanchester is now known as chmanchester|afk
[19:43:28] *** Joins: eerie (eerie@moz-23apr7.red.bezeqint.net)
[19:44:16] *** Quits: lu324 (lu324___@moz-gogein.dhcp.embarqhsd.net) (Connection closed)
[19:48:34] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[19:51:32] *** Joins: avikpal (avikpal@moz-5ue.o7g.194.117.IP)
[19:52:23] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[19:52:32] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[19:52:32] *** ChanServ sets mode: +o pcwalton
[19:53:34] *** Quits: avikpal_ (avikpal@moz-ms3.q61.79.112.IP) (Ping timeout: 121 seconds)
[19:58:51] *** Joins: arielb1 (Ariel@moz-1hdjvc.cablep.bezeqint.net)
[19:59:32] *** Quits: avikpal (avikpal@moz-5ue.o7g.194.117.IP) (Ping timeout: 121 seconds)
[20:00:03] *** Joins: avikpal (avikpal@moz-5ue.o7g.194.117.IP)
[20:01:26] <arielb1> pnkfelix: where can I find documentation for nonzeroing drop?
[20:01:54] <pnkfelix> arielb1: beyond the RFC?  (i.e. https://github.com/rust-lang/rfcs/blob/master/text/0320-nonzeroing-dynamic-drop.md )
[20:02:05] <arielb1> I mean implementation docs
[20:02:06] *** Quits: eerie (eerie@moz-23apr7.red.bezeqint.net) (Connection closed)
[20:02:12] <pnkfelix> arielb1: that document doesn't really lay out an implementation strategy
[20:02:36] <pnkfelix> arielb1: at least not to the level of detail that one would need to understand the master plan underlying the first step that non-zeroing move hints took
[20:03:01] <arielb1> that's I know
[20:03:55] <arielb1> for example, documentation about *the result* of fragment construction
[20:03:56] <arielb1> would be nice
[20:04:29] <pnkfelix> arielb1:there are the notes on fragments analysis from rustc_borrowck/borrowck/README.md
[20:05:19] <arielb1> maybe it will become clearer with the MIR
[20:05:47] *** Joins: erickt (erickt@moz-1mb.0ej.162.69.IP)
[20:05:47] *** ChanServ sets mode: +ao erickt erickt
[20:11:48] *** Quits: humbledude (chatzilla@moz-fmn.9e2.254.103.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0/20150629114848])
[20:17:25] *** chmanchester|afk is now known as chmanchester
[20:17:38] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[20:21:24] <burntsushi> nrc: nagisa is indeed right about perf, but i think these docs will cover it: http://doc.rust-lang.org/regex/regex/index.html#the-regex!-macro
[20:21:59] *** Quits: avikpal (avikpal@moz-5ue.o7g.194.117.IP) (Ping timeout: 121 seconds)
[20:22:16] <nrc> thanks burntsushi!
[20:22:50] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:22:55] <Aaron> Why is the perf worse :(
[20:23:56] <nrc> I just want to demo a syntax extension for my RustCamp talk and I think regex is a nice example, I don't care too much about perf
[20:24:01] *** Joins: zmack (zmack@moz-16d0d5.fios.verizon.net)
[20:24:09] <nagisa> Aaron: because, I think it was burntsushi, reimplemented runtime regex to be so good it even exceeded perf of compile time ones.
[20:24:21] <nagisa> there’s a blog post on it… let me find it
[20:24:29] <burntsushi> Aaron, nagisa: no blog post yet :(
[20:24:31] <Aaron> Nice.
[20:24:54] <nagisa> burntsushi: then a PR had a bunch of information on it, right?
[20:25:05] <burntsushi> Aaron, nagisa: the short story is: runtime regex perf sucked and regex! perf sucked less. i made runtime regex perf a little better, so it now sucks less than regex! perf :)
[20:25:21] <Aaron> hehe
[20:25:44] <bluss> pff too modest
[20:25:47] <burntsushi> Aaron, nagisa: ya, this is it: https://github.com/rust-lang/regex/pull/91
[20:25:54] <bluss> the improvement to Regex was huge
[20:26:09] <burntsushi> and a little more info here: https://github.com/rust-lang/regex/issues/95
[20:26:12] *** Joins: akiss (akiss@moz-mbkjgp.pool.digikabel.hu)
[20:27:02] <burntsushi> we have lots more perf improvements coming in the hopefully-not-too-distant future too :)
[20:28:53] <bluss> burntsushi: have you thought about using jetscii or something similar?
[20:29:22] <bluss> burntsushi: it can do what memchr does, but 4 times faster and it can look for one of 16 different bytes instead
[20:29:28] <burntsushi> bluss: it's mentioned in that second links. it only works on rust nightly. i'm sure something like it will eventually make it into regex
[20:29:30] <Aaron> Neat
[20:29:36] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[20:29:41] <bluss> aha
[20:30:14] <burntsushi> bluss: https://github.com/rust-lang/regex/blob/master/src/prefix.rs#L217 :P
[20:30:55] *** Quits: bdero (bran@moz-gnsorp.dyn.MIT.EDU) (Ping timeout: 121 seconds)
[20:31:26] <bluss> nice
[20:31:49] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[20:35:35] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:35:39] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:35:59] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[20:38:48] *** Joins: a_ (dlight@moz-khd.48v.135.177.IP)
[20:39:06] *** Quits: dlight (dlight@moz-khd.48v.135.177.IP) (Quit: Leaving)
[20:39:10] <arielb1> can't anyone fix check-stage1?
[20:39:14] *** Quits: a_ (dlight@moz-khd.48v.135.177.IP) (Connection closed)
[20:39:27] *** Joins: dlight (dlight@moz-khd.48v.135.177.IP)
[20:39:36] *** jdm_ is now known as jdm
[20:40:25] <sfackler> needs a snapshot iirc
[20:46:14] *** Joins: avikpal (avikpal@moz-5ue.o7g.194.117.IP)
[20:48:07] *** Quits: avikpal (avikpal@moz-5ue.o7g.194.117.IP) (Connection closed)
[20:48:27] <eddyb> sfackler: nope
[20:49:24] <eddyb> sfackler: according to doener, the codegen for intrinsics::try sabotages itself when -Z no-landing-pads is present
[20:49:57] <eddyb> which means I built a snapshot that does the wrong thing (supposedly), and we need another one :(
[20:50:18] <eddyb> sfackler, arielb1: IMO it seems intentional, you should ask acrichto
[20:50:42] <eddyb> arielb1: for now, commenting the line that adds -Z no-landing-pads in mk/main.mk should do it
[20:50:55] <arielb1> eddyb: do it = fix it
[20:50:56] <eddyb> (if you're on the latest snapshot)
[20:51:18] <eddyb> arielb1: yeah, it should produce a compiler that doesn't abort on panics
[20:51:21] <arielb1> what does compiletest use panicing for?
[20:51:30] <eddyb> signaling its way out of something
[20:51:37] <eddyb> I doubt it's necessary
[20:52:00] <sfackler> compiletest is really old
[20:52:09] <eddyb> arielb1: but the compiler aborts on any error anyway, with this 0-landing-pads-ever codegen
[20:52:28] <arielb1> eddyb: shouldn't we have a panic=_exit option?
[20:52:29] <eddyb> which is what trips compiletest for compile-fail tests
[20:52:33] <arielb1> for these cases
[20:52:44] <arielb1> aka Linux-style OOPS
[20:52:49] <eddyb> arielb1: that will likely break compiletest AFAICT
[20:53:12] <eddyb> but for the compiler, a clean shutdown would be possible, yes
[20:53:12] <arielb1> break?
[20:53:32] <eddyb> arielb1: I expect it to be catching panics
[20:53:44] <arielb1> eddyb: that's not what _exit does
[20:53:48] <arielb1> _exit kills just the current thread
[20:54:00] <arielb1> (and leaks its stack)
[20:54:12] <arielb1> through a single compiletest runs ~3k tests
[20:54:16] <arielb1> so that may be slightly problematic
[20:54:17] <eddyb> ahh, what's the difference between that and pthread_exit?
[20:54:26] <arielb1> eddyb: _exit(2) is the system call
[20:54:45] <arielb1> pthread_exit may do some bookkeeping
[20:54:53] <arielb1> and then call _exit
[20:54:59] <eddyb> (I forgot that _exit worked on threads, even though I read about it somewhere)
[20:55:03] <arielb1> (we should call it probably)
[20:55:21] <eddyb> arielb1: maybe it deallocates the stack, that would be nice
[20:55:27] <arielb1> eddyb: stack is mmaped
[20:55:48] <eddyb> unmaps it, then
[20:56:14] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[20:56:22] <eddyb> arielb1: compiletest could probably be fixed
[20:56:34] <eddyb> the compiler uses panics for monitoring
[20:56:50] <eddyb> arielb1: we really only need one landing pad kept around, the one in rust_try (now intrinsics::try)
[20:56:59] <eddyb> arielb1: it was always present because it was compiled sepparately
[20:57:18] <eddyb> but now it's generated by the compiler (and only if -Z no-landing-pads is missing)
[20:57:19] <arielb1> eddyb: -Z no-landing-pads is a rustc, not llvm thing?
[20:58:00] <eddyb> arielb1: doener said we don't instruct LLVM to do anything special, it just affects our codegen
[20:58:05] <arielb1> acrichto: shouldn't we generate rust_try even with -Z no-landing-pads?
[20:58:07] <eddyb> I guess I could check myself
[20:58:47] <eddyb> https://github.com/rust-lang/rust/search?utf8=%E2%9C%93&q=no_landing_pads
[20:59:18] <acrichto> arielb1: not particularly as it's generating a landing pad
[20:59:42] *** Quits: erickt (erickt@moz-1mb.0ej.162.69.IP) (Ping timeout: 121 seconds)
[21:00:10] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:02:12] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[21:04:54] <arielb1> acrichto: what's the status of the crater run on gh27349?
[21:04:54] <[o__o]> prohibit the lhs of an @-pattern being a constant: https://github.com/rust-lang/rust/pull/27349
[21:05:45] <arielb1> also, about landing pads, the single landing pad in rust_try is rather useful
[21:05:50] <arielb1> and is generated only on executables
[21:06:05] <arielb1> which already have a runtime
[21:06:40] *** Quits: binkarus (textual@moz-njd172.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:08:04] <acrichto> arielb1: true, but it shouldn't require a runtime
[21:08:15] <arielb1> it?
[21:08:25] <arielb1> executables always require *some* runtime
[21:08:42] <acrichto> this pulls in libgcc on gnu windows for example
[21:08:54] <acrichto> which would otherwise not be needed if landing pads are disabled
[21:09:21] <arielb1> you can always compile a staticlib
[21:09:21] *** Joins: aepsil0n (eduard@moz-jccaht.hsi8.kabel-badenwuerttemberg.de)
[21:09:24] <arielb1> and link against your own runtime
[21:09:44] <acrichto> right so what you're getting at is fixing check-stage1, and I don't think that adding in landing pads to try() is the right way to do so
[21:09:52] *** Quits: aepsil0n (eduard@moz-jccaht.hsi8.kabel-badenwuerttemberg.de) (Quit: Leaving.)
[21:10:35] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[21:10:49] <arielb1> acrichto: so your problem is libgcc on windows?
[21:10:58] <arielb1> can't you just use longjmp or something
[21:11:00] <arielb1> instead of unwinding?
[21:11:15] <acrichto> this is basically orthogonal, if you turn off landing pads there shouldn't be any landing pads
[21:11:20] <acrichto> this is a mode of the standard library we want to support
[21:11:20] *** Joins: lu324 (lu324___@moz-gogein.dhcp.embarqhsd.net)
[21:12:26] <arielb1> acrichto: isn't that a degradation?
[21:12:31] <arielb1> a stable regression
[21:12:58] <acrichto> we don't ever ship a no-landing-pads std
[21:13:03] <acrichto> so any usage of it is unstable
[21:13:27] <arielb1> right
[21:14:14] *** Joins: erickt (erickt@moz-1mb.0ej.162.69.IP)
[21:14:14] *** ChanServ sets mode: +ao erickt erickt
[21:14:43] *** Joins: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP)
[21:14:47] <arielb1> so maybe longjmp would be right?
[21:15:39] <acrichto> why would longjmp help?
[21:15:47] <acrichto> the purpose of no-landing-pads in stage0 is boosting bootstrap times
[21:16:13] *** Joins: waffles (wafflespean@moz-bbq.f6h.136.123.IP)
[21:16:59] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[21:19:41] <arielb1> acrichto: make span_fatal a longjmp
[21:19:45] <arielb1> instead of an exception
[21:19:54] <acrichto> arielb1: I think it'd be best to just update it to not panic
[21:19:57] <acrichto> but instead exit the process
[21:20:29] *** Quits: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP) (Quit: Leaving.)
[21:20:37] *** Joins: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP)
[21:21:03] <arielb1> acrichto: so move the rustc_driver continuation
[21:21:05] <arielb1> somewhere?
[21:21:12] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[21:21:28] <acrichto> continuation?
[21:22:00] <arielb1> the continuation of the call to spawn
[21:22:12] <arielb1> that's half of monitor
[21:22:19] <arielb1> of rustc_driver::monitor
[21:22:24] <arielb1> plus the exit at the end of main
[21:22:25] <acrichto> it doesn't really do much that important
[21:22:30] <acrichto> the logic could just be moved
[21:23:49] <arielb1> and no-one embeds rustc?
[21:23:51] <arielb1> e.g. rustdoc
[21:24:49] <acrichto> not the stage1 version
[21:25:32] *** Quits: untitaker (untitaker@moz-m1ukfl.highway.telekom.at) (Ping timeout: 121 seconds)
[21:27:21] *** Joins: untitaker (untitaker@moz-7g4pto.highway.telekom.at)
[21:29:11] *** jdm is now known as jdm|away
[21:32:34] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[21:35:37] *** Quits: filsmick (filsmick@moz-q1f2v0.abo.wanadoo.fr) (Quit: )
[21:36:38] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[21:38:05] *** Quits: apasel422 (Mibbit@moz-6ga37r.ma.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:39:15] <Gankro> pnkfelix: do you care if I specifically show conditional reinit?
[21:39:21] <Gankro> emphasis on conditional
[21:41:29] <pnkfelix> Gankro: as in, do I want you do so?  Or do I not want you to do so?
[21:41:42] <Gankro> Do you want me to do so.
[21:41:53] <Gankro> It's natural to show reinit, but conditional not as much
[21:41:57] <Gankro> Like I can just do it
[21:41:59] <pnkfelix> Gankro: I don't remember asking for it.  :)
[21:42:08] <brson> Elainemo: this-week-in-rust.org is down
[21:42:09] <pnkfelix> Gankro: so I suspect you can get by without it...
[21:42:14] <Gankro> Sure
[21:43:50] <arielb1> Gankro: at least show conditional init
[21:43:57] <Gankro> arielb1: I do
[21:44:11] <arielb1> let f; let r = if foo { f = calculate(); &f } else {"hi"}
[21:44:34] <Gankro> arielb1: http://cglab.ca/~abeinges/blah/turpl/_book/checked-uninit.html
[21:46:07] *** Quits: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP) (Ping timeout: 121 seconds)
[21:46:23] <brson> Elainemo: anyprime.net is also down
[21:49:03] <Elainemo> brson: urgh, looking into it.
[21:50:28] *** Quits: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:53:31] *** Quits: jdm|away (jdm@moz-37u.v3n.52.24.IP) (Quit: )
[21:56:11] <rkruppe> pnkfelix: ping
[21:57:35] *** Joins: squiggy (Mibbit@moz-hu6.nja.252.72.IP)
[21:57:38] <arielb1> beta-nominated: should I cherry-pick and make it a warning in separate commits
[21:57:41] <arielb1> or in the same commit?
[21:59:16] <Gankro> pnkfelix: "to try to make it clear that you are talking about assignment now, and not let-binding" it's not clear to me that this is actually destinct. a let is just an assignment that Rust knows will be uninit?
[21:59:29] <pnkfelix> rkruppe: pong
[21:59:33] <arielb1> Gankro: the maybe-calculate example is nice
[21:59:41] <arielb1> you should have it somewhere
[21:59:54] <arielb1> it illustrates several things
[22:00:15] <pnkfelix> Gankro: all I know is that I've had conversations with people where when I've talked about reassigning a variable
[22:00:16] <rkruppe> pnkfelix: I r?'d you on the dec2flt PR, but since you didn't say anything yet, I wanted to ask if you're too busy and I should get someone else as official reviewer
[22:00:21] <Gankro> arielb1: I agree it's nice -- what does it demonstrate that isn't already?
[22:00:28] <arielb1> Gankro: first, that you can do it
[22:00:35] <rkruppe> pnkfelix: Already got some good feedback from arielb1 and eefriedman so it's no big deal
[22:00:39] <pnkfelix> Gankro: they thought I was describing e.g. `let mut x = x; ...; let x = x; ...`
[22:00:56] <pnkfelix> rkruppe: sorry I've been distracted, but I will try to look at it
[22:01:01] <arielb1> that you can have a variable borrowed without being definitely assigned
[22:01:18] <rkruppe> pnkfelix: Okay, no worries
[22:01:21] <Gankro> arielb1: Oh yes, that is interesting
[22:01:35] <Gankro> Although this section isn't really about borrows
[22:01:38] <arielb1> also, zeroing/non-zeroing drop
[22:02:06] <Gankro> arielb1: that's the next section
[22:02:08] <arielb1> plus its a way to work around rvalue lifetimes being annoying
[22:02:25] <Gankro> the next section is all about drop flags
[22:02:37] <pnkfelix> Gankro: so I was trying to point out that the text may benefit from being a bit more explicit here about what is under discussion.  I.e. `lvalue = value;` can cause drop code to be invoked.  `let x = val;` should not cause drop code to be invoked.
[22:03:02] <Gankro> pnkfelix: sure, I can spell that out explicitly
[22:03:12] *** Quits: akiss (akiss@moz-mbkjgp.pool.digikabel.hu) (Ping timeout: 121 seconds)
[22:03:41] <arielb1> it should be made clear somewhere that `let val = ..`
[22:03:44] <arielb1> does not do anything to val
[22:03:58] *** Quits: squiggy (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:04:09] <arielb1> maybe that belongs to TRPL
[22:04:34] <arielb1> so steveklabnik 
[22:05:21] <Gankro> also steveklabnik what are your dinner plans?
[22:07:52] *** Joins: skeuomorf (skeuomorf@moz-qgk.n1e.32.197.IP)
[22:08:48] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[22:10:00] *** Quits: skeuomor1 (skeuomorf@moz-d74.j7v.32.197.IP) (Ping timeout: 121 seconds)
[22:13:39] *** Joins: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP)
[22:17:19] *** Quits: erickt (erickt@moz-1mb.0ej.162.69.IP) (Ping timeout: 121 seconds)
[22:18:07] *** Quits: arielb1 (Ariel@moz-1hdjvc.cablep.bezeqint.net) (Quit: Ex-Chat)
[22:18:59] *** Quits: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net) (Ping timeout: 121 seconds)
[22:19:06] *** Joins: arielb1 (Ariel@moz-1hdjvc.cablep.bezeqint.net)
[22:19:15] <arielb1> brson: r? gh27364
[22:19:15] <[o__o]> Associated defaults - for 1.2.0: https://github.com/rust-lang/rust/pull/27364
[22:19:19] <pcwalton> aturon: r? https://github.com/rust-lang/rust/pull/27365
[22:19:34] <Gankro> pnkfelix: I'm not sure I care for the notion of believed-uninitialized. It seems sane to treat something that has been moved -- in reality or just logically via ptr::read -- as genuinely uninit memory.
[22:20:17] *** Joins: erickt (erickt@moz-1mb.0ej.162.69.IP)
[22:20:17] *** ChanServ sets mode: +ao erickt erickt
[22:22:35] *** Quits: arielb1 (Ariel@moz-1hdjvc.cablep.bezeqint.net) (Quit: Ex-Chat)
[22:22:43] <Elainemo> brson: I guess the thing to do with DNS is just wait for the changes to percolate.
[22:22:53] <Elainemo> :(
[22:23:28] <Elainemo> The DNS hosting I was using for those expires tomorrow and I moved over stuff to a different host.
[22:23:56] <Elainemo> but Dyn wouldn't let me cancel the auto-renew without canceling the service entirely, so I just did that.
[22:24:00] <Elainemo> bad timing
[22:25:44] <Gankro> pnkfelix: Although in other docs I believe I have used the notion of "logically uninitialized"
[22:26:29] <Gankro> pnkfelix: Actually scratch that -- it makes sense in the context. Thought you were positing something more.
[22:26:33] *** Quits: tamird (tamird@moz-ga3.afc.209.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:26:38] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0/20150630154324])
[22:27:26] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Connection closed)
[22:28:05] <brson> Elainemo: ok, so the eta is tomorrowish?
[22:28:43] <pnkfelix> Gankro: okay, so you now understand why I was asking for the term "believed-uninitialized" ?
[22:28:50] <Elainemo> brson: seems about right.
[22:29:27] <brson> thanks for looking into it
[22:29:49] *** Joins: woboats (tatterdemal@moz-fef.k92.228.169.IP)
[22:31:12] <Gankro> pnkfelix: yeah I'm just running out of brains :)
[22:33:45] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[22:37:52] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[22:39:13] *** Quits: zxq9 (ceverett@moz-fe3mfn.mesh.ad.jp) (Quit: Konversation terminated!)
[22:46:05] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:47:37] *** Quits: James_ (quassel@moz-t0rko5.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[22:48:03] *** Joins: peeves (Mibbit@moz-hu6.nja.252.72.IP)
[22:48:20] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:51:06] *** Joins: ziad (ziad@moz-fh9.u9c.240.50.IP)
[22:53:59] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[22:58:42] *** Quits: eljay (eljay@moz-eqltvh.skybroadband.com) (Quit: Leaving)
[22:59:10] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:00:08] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:01:44] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[23:06:52] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[23:14:25] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:14:58] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Connection closed)
[23:16:33] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[23:20:59] *** Quits: RCIX (RCIX@moz-7omm6s.ph.cox.net) (Ping timeout: 121 seconds)
[23:32:39] *** Joins: O01eg (o01eg@moz-9j5moc.guco.qgre.2698.2a02.IP)
[23:34:44] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[23:36:16] *** Joins: O02eg (o01eg@moz-9j5moc.guco.qgre.2698.2a02.IP)
[23:37:37] *** Quits: O01eg (o01eg@moz-9j5moc.guco.qgre.2698.2a02.IP) (Client exited)
[23:37:53] *** Quits: O02eg (o01eg@moz-9j5moc.guco.qgre.2698.2a02.IP) (Client exited)
[23:38:06] *** Joins: O01eg (o01eg@moz-9j5moc.guco.qgre.2698.2a02.IP)
[23:38:47] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[23:47:06] *** Joins: njn (chatzilla@moz-t4cso4.iinet.net.au)
