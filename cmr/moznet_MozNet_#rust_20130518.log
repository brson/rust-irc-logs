[00:03:17] <cmr> kimundi: could you run `bytes!(~104u8)` with your rustc?
[00:03:29] <cmr> (I assume you have it built)
[00:03:39] <cmr> (I don't yet)
[00:04:34] <cmr> I'm expecting "Non-literal in bytes"
[00:05:00] <cmr> Which... is correct, but I feel like it should work for that sort of expression.
[00:05:07] <cmr> might not be worth the effort
[00:08:03] <steven_is_false> Given sin Î¸ directly, how can I derive cos Î¸?
[00:08:32] <steven_is_false> dbaupp: Are you logged in on IRC right now? I know your ok with vector math.
[00:08:39] <dbaupp> steven_is_false: hi
[00:08:45] <steven_is_false> dbaupp: Hi!
[00:08:46] <cscottnet> 1 = sin^2 Î¸ + cos^2 Î¸
[00:08:55] <steven_is_false> cscottnet: But that's ambiguous
[00:09:00] <cscottnet> steven_is_false: yes, it is.
[00:09:04] <dbaupp> steven_is_false: well, cos t = sqrt(1 - sin(t)^2)
[00:09:11] <dbaupp> but that's as good as you'll get
[00:09:36] <dbaupp> (you can tell whether cos is +/- just knowing the value of sin)
[00:09:40] <cscottnet> if you know the quadrant of Î¸ you can fixup the sign.
[00:09:41] <dbaupp> *can't
[00:10:22] <steven_is_false> The thing is I'm rotating a normal by a value delta Z. So is there a way to get the value of Â± be in this case?
[00:10:46] <steven_is_false> BTW are the Unicode symbols showing up okay in your chat clients?
[00:12:28] <dbaupp> what do you mean by 'delta Z'? is that the angle you're rotating?
[00:12:38] <dbaupp> (yeah, the unicode is fine here)
[00:12:57] <steven_is_false> dbaupp: I'm not using an angle. An angle is expensive because of trigonometry.
[00:13:18] <steven_is_false> dbaupp: I'm hoping I can use something else.
[00:14:25] *** Quits: themgt (themgt@moz-F5F3FFDF.dhcp.gnvl.sc.charter.com) (Quit: themgt)
[00:16:47] <steven_is_false> Can I rename a module, and reexport it? I tried pub use core::f32 = pixel_point but that doesn't work.
[00:17:11] <cscottnet> steven_is_false: http://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation ?
[00:17:18] <tjc> steven_is_false: I think you want pub use pixel_point = core::f32;
[00:17:47] <steven_is_false> cscottnet: That works.
[00:18:21] *** Quits: mcomella_ (mcomella@moz-B10FF54F.ri.ri.cox.net) (Ping timeout)
[00:19:12] <steven_is_false> cscottnet: Quarternions, are one approach but I wanted to try a different method.
[00:19:41] <steven_is_false> cscottnet: It's slightly more expensive in terms of space but it's a lot more intuitive to me.
[00:20:18] <steven_is_false> Oops, I responded to the wrong person. I meant to say to tjc that that works not cscottnet .
[00:20:35] <tjc> steven_is_false: Heh, good. I was worried for a second that *I'd* gotten it backwards :-)
[00:22:48] <dbaupp> steven_is_false: you mean 4d rotations using sqrts of -1 aren't intuitive? ;P
[00:23:46] <steven_is_false> dbaupp: Well it's just that the even more intuitive approach of making rotations matrices is even more expensive than my approach.
[00:33:31] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[00:34:13] *** Joins: mib_216ddu (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[00:36:21] <mib_216ddu> hi, suppose I want to construct array with the size set programmatically. is this possible? fn arr(x: int) -> ~[int] { ~[0, .. x] } doesn't work because apparently only constants are allowed as size specifiers. is there a way around this?
[00:36:40] <benh> for ~-arrays you can use functions in core::vec
[00:37:10] <cmr> mib_216ddu: [T, ..x] is a constant-size vector. you can use vec::with_capacity
[00:37:30] <benh> or file:///home/ben/code/repos/rust/build/doc/core/vec.html#function-from_elem
[00:37:36] <benh> oh dear that didn't work at all
[00:38:09] <benh> serves me right for trying to link html. https://github.com/mozilla/rust/blob/incoming/src/libcore/vec.rs#L161
[00:38:19] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[00:38:34] *** Quits: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[00:38:39] <mib_216ddu> thanks, will look into it
[00:40:43] *** Quits: igl (igl@moz-19BA7592.adsl.alicedsl.de) (Ping timeout)
[00:41:13] <graydon> bleh, well, it builds
[00:41:17] <graydon> https://github.com/graydon/rust/commit/5ea0126e22fda0dee77b302b10ca55e7cbf07ce5
[00:41:17] *** Joins: igl (igl@moz-BFEB022D.adsl.alicedsl.de)
[00:41:37] <graydon> (and I added docs, nmatsakis and brson are teaching me good habits!)
[00:41:50] <graydon> bleh. that is wholly unsatisfying for a day. ok. home home.
[00:41:54] <graydon> long weekend, I won't be around monday
[00:41:57] <graydon> victoria day!
[00:41:59] <graydon> ttyl
[00:43:07] *** Quits: graydon (Adium@A5087023.2354C43D.D8E68FF6.IP) (Quit: Leaving.)
[00:48:26] <mib_216ddu> rusti: fn foo(x) -> int { x + 1 }
[00:48:28] -rusti- foo.rs:5:17: 5:18 error: expected `:` but found `)`
[00:48:28] -rusti- foo.rs:5          fn foo(x) -> int { x + 1 }
[00:48:28] -rusti-                           ^
[00:48:48] <mib_216ddu> rusti: fn foo(x: int) -> int { x + 1 }
[00:49:03] <dbaupp> rusti: fn foo(x: int) -> int { x + 1 } f(1)
[00:49:06] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/hKMW
[00:49:22] <dbaupp> rusti: fn foo(x: int) -> int { x + 1 } foo(1)
[00:49:23] -rusti- 2
[00:49:58] <mib_216ddu> fn foo<T>(x: int, y: int) -> ~[T] { vec::from_fn(x, vec::from_elem(y, T)) } foo<float>(2, 2)
[00:51:38] *** Quits: mib_216ddu (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:51:51] *** Joins: themgt (themgt@moz-248BBB96.dhcp.gnvl.sc.charter.com)
[00:52:37] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[00:53:46] <cmr> Alright so if I wanted to find all items with an attribute X, I could use ast::visit and... the callback can check item.attrs. Yes?
[00:54:09] *** Joins: mib_pei1zd (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[00:54:11] <aatch> cmr, correct
[00:54:16] <cmr> sweet :)
[00:54:25] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[00:54:33] <mib_pei1zd> rusti: fn foo<T>(x: int, y: int) -> ~[T] { vec::from_fn(x, vec::from_elem::<T>(y, 0)) } foo<float>(2, 2)
[00:54:36] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/GIOS
[00:54:37] <cmr> the code isn't that well documented, but once you know what you're looking for it's pretty easy
[00:54:48] <cmr> mib_pei1zd: what are you trying to accomplish?
[00:55:07] <mib_pei1zd> a function that constructs a vector of vectors of a given type
[00:55:34] <aatch> mib_pei1zd, have you actually looked at the docs?
[00:55:51] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:55:51] *** ChanServ sets mode: +o dherman
[00:56:03] <aatch> for one, a vector of vectors would be ~[~[T]]
[00:56:08] <dbaupp> rusti: fn foo<T : Copy + num::Zero>(x : uint, y: uint) -> ~[~[T]] { vec::from_elem(x, vec::from_elem(y, num::Zero::zero::<T>())) } foo::<float>(2,2)
[00:56:10] -rusti- ~[~[0, 0], ~[0, 0]]
[00:56:23] <dbaupp> rusti: fn foo<T : Copy + num::Zero>(x : uint, y: uint) -> ~[~[T]] { vec::from_elem(x, vec::from_elem(y, num::Zero::zero::<T>())) } foo::<float>(3,2)
[00:56:25] -rusti- ~[~[0, 0], ~[0, 0], ~[0, 0]]
[00:56:37] <mib_pei1zd> yes, i'm going through the vec reference right now
[00:56:50] <mib_pei1zd> right
[00:57:10] <aatch> mib_pei1zd, btw, rusti accepts private messages
[00:57:14] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[00:57:18] <mib_pei1zd> got the return type wrong
[00:57:23] <mib_pei1zd> ok, thx
[00:59:15] * tjc wonders if rusti could message people who use the bot a few times in a row to say "By the way, you can send me a /msg !"
[00:59:47] <aatch> tjc, like polite anti-flood
[00:59:53] <tjc> aatch: right
[01:00:25] <cmr> while strcat is at it, he should also have it rate limit per unit time, rather than per invocation
[01:00:52] <cmr> ie, if someone prints 4 lines twice in a row, second one would be pastebinned
[01:03:28] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[01:06:06] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:06:06] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1435b654c to 142d28d64: 02http://git.io/N3iJvQ
[01:06:06] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:06:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:06:09] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/9S8-Rg
[01:06:09] <ghrust> 13rust/06auto 14dfffb83 15Alex Crichton: Remove all usage of the global LLVMContextRef...
[01:06:09] <ghrust> 13rust/06auto 14d37b377 15Alex Crichton: Have JIT execution take ownership of the LLVMContextRef...
[01:06:09] <ghrust> 13rust/06auto 1418ddd7c 15bors: auto merge of #6570 : alexcrichton/rust/issue-6511-threadsafe-llvm, r=brson...
[01:06:11] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:12:31] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[01:13:49] *** Quits: inolen (Adium@moz-9F4F17DF.tourcaster.com) (Quit: Leaving.)
[01:14:18] <aatch> tjc, having fun going through the codebase? :P
[01:14:24] <tjc> aatch: always!
[01:14:42] * tjc has a personal vendetta against XXX comments and is trying to eliminate them while other stuff compiles
[01:14:44] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[01:15:05] <aatch> tjc, lol. I have a couple.
[01:15:19] <tjc> a couple comments? or a couple vendettas? :-D
[01:15:24] <aatch> both?
[01:15:29] <tjc> heh
[01:15:33] <aatch> But I meant //XXX:
[01:15:56] <tjc> yeah, at this point all //XXX es should be // NOTEs or FIXMEs
[01:16:01] <tjc> there's no excuse anymore for adding new ones :-D
[01:16:45] * aatch changes them
[01:16:57] <aatch> Dammit now I have to go lookup issue numbers
[01:17:11] <tjc> Heh, or create them
[01:17:24] <aatch> tjc, well some of them are better as notes.
[01:17:28] <tjc> yeah
[01:17:38] <aatch> since they are reminders to myself anyway
[01:17:56] <aatch> Also, I don't think I should open issues on code that isn't finished yet..
[01:18:10] <aatch> But I have some atomic stuff that should be using proper types
[01:18:14] <tjc> Sure, that's exactly what // NOTE is for
[01:18:20] <aatch> And there is an issue for that.
[01:18:25] <tjc> lets you make progress without filing issues on everything, and discourages you from checking it in like that :-)
[01:19:40] <aatch> Yeah, I have one NOTE that'll change to a FIXME when it gets merged in.
[01:21:10] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:21:10] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1418ddd7c to 142d28d64: 02http://git.io/N3iJvQ
[01:21:10] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:21:12] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:21:12] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/gGaFyA
[01:21:12] <ghrust> 13rust/06auto 1448b6262 15Jyun-Yan You: preliminary Linux ARM support
[01:21:12] <ghrust> 13rust/06auto 14d68c027 15bors: auto merge of #6249 : crabtw/rust/arm, r=brson...
[01:21:13] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:21:35] *** Quits: mib_pei1zd (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:24:52] *** Quits: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP) (Quit: zzzzzzzzzz)
[01:31:36] <aatch> brson, a note about the WSDeque, the way it's written atm requires a snapshot to be usable in the compiler itself.
[01:32:43] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:32:53] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[01:34:03] *** Quits: vcl (chatzilla@741D4FEA.76F9E272.DA40C4B3.IP) (Quit: ChatZilla 0.9.90 [Firefox 21.0/20130511120803])
[01:34:37] <brson> aatch: because of atomic_load?
[01:35:47] <aatch> brson, kinda, though that's easy to work around. Actually the borrow checkers flow sensitivity.
[01:36:08] <pcwalton> are there good GLFW bindings?
[01:36:14] <pcwalton> I know some people were working on them
[01:36:32] <pcwalton> and I've finally hit a problem so annoying (lack of mouse wheel...) to drag me away from GLUT for testing Servo ;)
[01:36:58] <aatch> Without it, it doesn't let me assign to a variable because I am loaning it. This assignment is the first assignment to such a variable...
[01:37:18] <aatch> pcwalton, glfw-rs is somewhere around
[01:37:22] <brson> pcwalton: https://github.com/bjz/glfw-rs
[01:38:42] <brson> incoming is completely green! who did that?
[01:38:52] <aatch> brson, woah!
[01:39:05] * brson merging to master!
[01:39:43] <aatch> brson, does this mean it's a good time to try and get a snapshot too?
[01:39:48] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:39:48] <ghrust> 01[13rust01] 15brson merged 06incoming into 06master: 02http://git.io/4MnXDA
[01:39:48] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:39:55] <brson> aatch: yeah, I'll push one
[01:40:11] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:40:11] <ghrust> 01[13rust01] 15brson merged 06incoming into 06snap-stage3: 02http://git.io/rO82xA
[01:40:11] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:40:30] <brson> maybe I should have pushed the exact commit that's green instead of incoming
[01:40:35] <brson> it could break at any minute
[01:41:12] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[01:42:51] <dbaupp> brson: https://github.com/mozilla/rust/commit/2d28d645422c1617be58c8ca7ad9a457264ca850 looks innocent enough
[01:45:02] <brson> but may be hiding a dark secret
[01:45:32] <acrichto> brson: for https://github.com/mozilla/rust/pull/6570 LLVM will have to be rebuilt, is there an easy way to trigger that?
[01:46:00] <aatch> Doesn't automatically rebuild-llvm if needed?
[01:46:09] <brson> acrichto: i was debating whether I really wanted to r+ just now for that reason
[01:46:17] <brson> sometimes pushing llvm changes through the bots can suck
[01:46:23] * aatch added an errant hyphen
[01:46:44] <acrichto> brson: yeah I can imagine, I'd be happier with a snapshot sooner anyway :)
[01:46:49] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[01:47:20] <brson> acrichto: in the buildbot form for triggering a build you can add `clean-llvm` = '1` as custom data and that is *supposed* to force llvm to rebuild
[01:47:38] <brson> it hasn't been so reliable in the past, but maybe with graydon's recent buildbot fixes it works
[01:47:48] <brson> otherwise you just have to ssh into the bots and start rming things
[01:47:59] <acrichto> that sounds violent
[01:48:18] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[01:48:34] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[01:48:53] * aatch also threatens his bots with violent data removal
[01:49:44] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Input/output error)
[01:50:09] *** Joins: seth (seth@moz-D840E602.dsl.static.sonic.net)
[01:51:12] *** Joins: bleibig (bleibig@moz-58EF3B3A.rochester.res.rr.com)
[01:51:58] *** Joins: SiegeLord (siege@moz-CAF07B4C.hsd1.ma.comcast.net)
[01:55:16] <cscottnet> hm, you can cast an enum to an int -- but is it possible to cast an int to an enum?
[01:55:31] <pcwalton> no, you can't
[01:55:46] <cscottnet> because the match is not complete, presumably?
[01:56:08] <cscottnet> it would be nice to be able to cast to Option<int>
[01:56:50] <dbaupp> cscottnet: Option<enum> ?
[01:57:05] <cscottnet> dbaupp: yeah, that's what i mean.
[01:57:50] <cscottnet> ie, test_cast() in http://paste.debian.net/4902/
[01:58:31] <aatch> The thing is, that while it's not possible to write `let a = 1 as E;` you can write let a : E = unsafe{cast::transmute(1)};
[01:58:38] <dbaupp> you can use cast::transmute
[01:58:59] <aatch> Since such a cast would be unsafe anyway
[01:59:21] <benh> It wouldn't be unsafe if it returned Option
[01:59:24] <SiegeLord> Is there a way to validate a afterwards?
[01:59:40] <benh> or aborted like toEnum in haskell
[01:59:45] <dbaupp> SiegeLord: if you get a segfault or not :P
[01:59:50] <SiegeLord> XD
[02:00:08] <aatch> SiegeLord, I think if you try to do a match and it doesn't match any of them it fails.
[02:00:23] <aatch> I mean, it just doesn't go to any of the arms
[02:00:34] <aatch> but that probably isn't behaviour you can rely on.
[02:01:14] <aatch> (and I'm not sure if it's true)
[02:01:16] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[02:02:36] <dbaupp> rusti: enum A { A = 0, B = 1 } match unsafe { cast::transmute::<uint,A>(20) } { A => 1, B => 2 }
[02:02:38] -rusti- 2
[02:02:46] <dbaupp> aatch: nope, not true...
[02:03:06] <aatch> rusti: enum A { A = 0, B = 1 } match unsafe { cast::transmute::<uint,A>(20) } { A => 1, B => 2, _ => 3 }
[02:03:08] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/JQjM
[02:04:31] <aatch> rusti: enum A { A = 0, B = 1, C = 2 } match unsafe { cast::transmute::<uint,A>(20) } { A => 1, C => 3, B => 2 }
[02:04:32] -rusti- 2
[02:05:07] <benh> Does that match compile into if/else if/else?
[02:05:28] <benh> i mean, assumes the last pattern matches if all the previous ones didn't?
[02:05:41] <dbaupp> benh: looks like it
[02:05:42] <aatch> benh, not sure. It probably generates LLVM select
[02:05:50] <aatch> for C-style enums anyway
[02:06:32] <cscottnet> seems like a missing feature.
[02:07:29] <cscottnet> hrm, maybe
[02:08:07] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[02:08:15] <cscottnet> the thing is, "c-style enums" are not guaranteed to be consecutive, so you'd have to generate a match statement like Op::new_from_int in http://paste.debian.net/4906/
[02:08:48] <cscottnet> i believe Java's enums generate this either dynamically on the class or on the Enum base class (i think the latter)
[02:09:14] <aatch> Looking at it, it's probably a switch for C-style enums
[02:09:18] <cscottnet> i guess it's not clear that every user of Rust enums wants to pay for that case statement in code somewhere
[02:09:21] <benh> Maybe we'd be better off not allowing enum-to-int casts and having a macro to simulate C enums by just generating a pile of int constants :/
[02:09:41] <aatch> benh, that has been mentioned
[02:10:02] <aatch> especially since C enums don't have a guaranteed size
[02:10:37] <aatch> It changes based on the compiler and the flags you give it.
[02:14:17] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Input/output error)
[02:14:19] *** Quits: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net) (Connection reset by peer)
[02:14:19] *** Joins: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net)
[02:17:02] *** Joins: seth (seth@moz-D840E602.dsl.static.sonic.net)
[02:21:08] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:21:08] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/gGaFyA
[02:21:08] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:22:51] *** Joins: dr_bibble (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[02:24:07] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:24:07] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/uG8-3w
[02:24:07] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:29:58] *** Quits: dr_bibble (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:31:34] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[02:32:06] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[02:32:33] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[02:33:11] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Quit: Leaving)
[02:33:19] *** Joins: z0w0 (zack@moz-B13FD5D7.lns2.cha.bigpond.net.au)
[02:34:17] <brson> I continue to see mysterious errors on i686
[02:34:50] *** Quits: themgt (themgt@moz-248BBB96.dhcp.gnvl.sc.charter.com) (Quit: Pogoapp - http://www.pogoapp.com)
[02:38:07] *** Joins: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP)
[02:39:36] *** Joins: int3_ (int3_@moz-DC8217D4.singnet.com.sg)
[02:40:30] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Input/output error)
[02:41:53] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Ping timeout)
[02:45:22] *** Quits: z0w0 (zack@moz-B13FD5D7.lns2.cha.bigpond.net.au) (Quit: Leaving.)
[02:47:37] *** Quits: int3_ (int3_@moz-DC8217D4.singnet.com.sg) (Connection reset by peer)
[02:47:47] *** Joins: int3_ (int3_@moz-DC8217D4.singnet.com.sg)
[02:49:05] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[02:50:01] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Quit: Leaving)
[02:50:02] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[02:50:11] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[02:51:54] *** Quits: kimundi (kimundi@moz-609262F2.dip0.t-ipconnect.de) (Ping timeout)
[02:52:27] *** Joins: SodAlmighty (Mibbit@moz-5F38F85.know.cable.virginmedia.com)
[02:52:55] <SodAlmighty> Hello.
[02:54:41] <SodAlmighty> I'm new here. Just read the language guide. Some pretty neat features in there. Unusual features, like different kinds of pointer.
[02:55:22] *** Joins: kimundi (kimundi@moz-1611DF1A.dip0.t-ipconnect.de)
[02:55:30] <bstrie> SodAlmighty: those are actually features that are present in C++, rust just bakes them in by default
[02:56:25] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[02:56:32] <SodAlmighty> Ah, but you can't beat the abolition of include files!
[02:57:19] *** kimundi is now known as zz_kimundi
[02:57:20] *** Quits: dobkeratops (walter@moz-B4683AA6.range31-52.btcentralplus.com) (Ping timeout)
[02:57:34] <aatch> SodAlmighty, sure you can. deterministic memory management and statically-checked memory safety
[02:58:06] <SodAlmighty> Granted, but include files are a personal hate of mine.
[02:58:08] *** Joins: dobkeratops (walter@moz-D6181ADF.range81-151.btcentralplus.com)
[02:59:10] <SodAlmighty> Any plans to create an IDE for it? With intellisense and such?
[02:59:10] <snowmantw> Hello, I'm new, too. And I find this doc seems useful if you want to compare C/C++ with Rust:
[02:59:13] <snowmantw> https://github.com/mozilla/rust/wiki/Rust-for-CXX-programmers
[02:59:29] <aatch> SodAlmighty, unlikely at this point.
[02:59:37] <SodAlmighty> Yeah, spotted that, thanks. Just about to read it.
[02:59:45] <aatch> As far as I can tell, almost all the devs use Emacs or vim
[03:00:05] <snowmantw> vim + 1
[03:00:08] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:00:08] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/uG8-3w
[03:00:08] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:00:08] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:00:08] <ghrust> 01[13rust01] 15bors pushed 7 new commits to 06auto: 02http://git.io/m6pFXQ
[03:00:08] <ghrust> 13rust/06auto 14f7e58eb 15gifnksm: libcore: Add `IteratorUtil::to_vec()` method
[03:00:08] <ghrust> 13rust/06auto 149ffbe69 15gifnksm: libcore: Add `IteratorUtil::filter_map` method
[03:00:09] <ghrust> 13rust/06auto 1402945f1 15gifnksm: libcore: Add `IteratoUtil::nth`, `first`, `last` method
[03:00:11] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:01:36] <bstrie> SodAlmighty: ide integration will be essential at some point, but for now everyone gets by with vim or emacs
[03:01:44] <SodAlmighty> Nothing with even syntax highlighting?
[03:02:22] <aatch> SodAlmighty, vim, emacs, Kate and GEdit all have rust syntax highlighting.
[03:02:41] <bstrie> yeah, syntax highlighting is easy
[03:02:48] <bstrie> autocomplete and the rest is what's hard
[03:04:32] <SodAlmighty> I could probably throw a basic IDE together in .NET, with syntax highlighting and a project tree. Done it before. Autocomplete of keywords too.
[03:04:48] <SodAlmighty> As you say, it's the autocomplete of functions and stuff that's difficult.
[03:05:18] <SodAlmighty> Vim better than Kate and GEdit?
[03:06:46] *** Joins: catpigger (catpig@moz-E824D416.dip0.t-ipconnect.de)
[03:06:49] <bstrie> SodAlmighty: I'd rather work on integration with existing editors, mostly just eclipse and visual studio
[03:07:01] <bstrie> basically, whatever C++ folk normally use to develop, we'd like to support
[03:07:13] <SodAlmighty> Oh, I'd be all for VS support.
[03:07:24] <SodAlmighty> Not used Eclipse much
[03:07:44] *** Quits: catpig (catpig@moz-7ECD724E.dip0.t-ipconnect.de) (Ping timeout)
[03:10:52] <SodAlmighty> I don't see a Rust syntax option in Vim. Am I missing something?
[03:10:55] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[03:11:07] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[03:11:08] <aatch> SodAlmighty, you need to install the files
[03:11:16] <aatch> in src/etc/vim
[03:11:40] * aatch facepalms
[03:11:50] <aatch> When debug printing a value.
[03:12:02] <aatch> It helps to do it /after/ the null-check
[03:13:50] *** Joins: tjc (tjc@moz-E0677B46.vc.shawcable.net)
[03:13:50] *** ChanServ sets mode: +o tjc
[03:14:59] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[03:16:59] <SodAlmighty> I've done that. It's still not showing up...
[03:18:51] <SodAlmighty> What's the "after" directory for?
[03:20:26] <aatch> SodAlmighty, it's run after the rest of the filetype actions
[03:21:10] <SodAlmighty> And does it go in vim93 or vimfiles?
[03:21:10] <aatch> SodAlmighty, did you copy all 4 folders?
[03:21:24] <SodAlmighty> There really ought to be some instructions in there
[03:21:50] *** Quits: tjc (tjc@moz-E0677B46.vc.shawcable.net) (Quit: Places to go, people to annoy)
[03:22:13] <aatch> SodAlmighty, sure, but somebody has to write them.
[03:22:59] <SodAlmighty> I copied all the folders to vim93, and that didn't help. So I copied them to vimfiles. That didn't help either.
[03:24:05] <aatch> SodAlmighty, Are you on Linux?
[03:24:34] *** Joins: echristo (echristo@moz-CE1AD9FD.hsd1.ca.comcast.net)
[03:25:31] <SodAlmighty> Nope. Win7
[03:25:51] <aatch> SodAlmighty, I can't really help then, sorry
[03:26:06] <aatch> brson, the snapshot build appears to be exploding
[03:26:34] *** Joins: lmandel (lmandel@9CA37473.35C48B7D.87266736.IP)
[03:27:43] *** Joins: ercan (ercan@moz-D4CF4859.dyn.optonline.net)
[03:27:45] <SodAlmighty> Sounds dangerous! Should I move away from the screen a bit?
[03:28:39] *** Quits: echristo (echristo@moz-CE1AD9FD.hsd1.ca.comcast.net) (Quit: echristo)
[03:32:56] *** Quits: SiegeLord (siege@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[03:32:56] <brson> and incoming is red again
[03:33:10] <brson> aatch: 90 pending builds?
[03:34:05] <aatch> I saw that.
[03:34:10] <aatch> What does it mean?
[03:34:25] <aatch> It also doesn't look like it got the right commit anyway
[03:34:35] <aatch> for snap-linux anyway
[03:34:45] <ercan> Hi, i'm trying to learn rust. I tried using rust-xlib from servo and can't get a window. Any known problems with it? Here's my code: http://pastebin.com/tvBecCBp
[03:35:01] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[03:35:03] <ercan> Is this even the right place to ask?
[03:35:16] *** Quits: catpigger (catpig@moz-E824D416.dip0.t-ipconnect.de) (Quit: Verlassend)
[03:35:21] <aatch> ercan, how much do you want to use xlib?
[03:35:25] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:35:36] <ercan> I don't :)
[03:35:49] <aatch> https://github.com/Aatch/rust-xcb/
[03:35:50] <ercan> I just want to learn rust, and like doing visual things.
[03:36:11] <ercan> xcb is supposed to be superior to xlib right?
[03:36:20] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[03:36:26] <aatch> It means you have to learn xcb at the same time, but it's generally easier
[03:36:43] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[03:36:44] <aatch> There are also examples
[03:36:44] <ercan> Thank you
[03:36:53] * aatch goes and makes sure it all still compiles
[03:37:13] <SodAlmighty> Looking at this documentation, it would seem that the equals sign actually *moves*, rather than copies, stack objects and owned objects.
[03:37:24] <aatch> SodAlmighty, yep
[03:37:36] <aatch> move-by-default
[03:37:40] <SodAlmighty> Wouldn't it be a little more intuitive if you had to use syntax like " a <- b " to move such values?
[03:37:49] <aatch> SodAlmighty, not really.
[03:37:54] <SodAlmighty> And equals was only valid for copyable things, like pointers
[03:38:03] <aatch> Because everybody would still use =
[03:38:06] <SodAlmighty> It's what F# does, as I recall.
[03:38:16] <SodAlmighty> But....they couldn't. Because it wouldn't compile.
[03:38:23] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[03:38:26] <aatch> SodAlmighty, and then they would complain
[03:38:32] *** Joins: barosl (barosl@1E71221E.C81E10FB.7544CABF.IP)
[03:38:38] <SodAlmighty> If I say "a=b", I expect a copy. So would most people.
[03:38:44] <aatch> We get people from C/C++ mostly
[03:38:50] <SodAlmighty> Yes?
[03:39:18] <SodAlmighty> I've been doing C++ recently, and as I say, when I type "a=b", I think "copy".
[03:39:21] <aatch> SodAlmighty, also, the whole point is to not need to have to think about copy vs. move
[03:39:54] <SodAlmighty> Hmm. I guess it's not common for someone to copy a variable and then go use both of them....
[03:39:55] <brson> i can see the argument for <- but in practice the way it is feels fine
[03:40:13] <SodAlmighty> Any plans to implement a Property syntax of some kind?
[03:40:29] <aatch> SodAlmighty, like.. attributes?
[03:41:27] <SodAlmighty> Like Set/Get methods that act like variables.
[03:42:09] <aatch> SodAlmighty, probably not. It's a little /too/ OO for Rust.
[03:42:38] <SodAlmighty> If you say so, I guess
[03:42:47] <aatch> And graydon was being weird when he wrote normal accessors
[03:42:53] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[03:43:02] <SodAlmighty> Accessors?
[03:43:03] <brson> what are normal accessors?
[03:43:06] * fread2281 thinks rust should really have one
[03:43:21] <aatch> Oh, as in private field called foo, method called foo()
[03:43:31] <aatch> accessor methods
[03:43:33] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[03:44:00] *** Quits: lmandel (lmandel@9CA37473.35C48B7D.87266736.IP) (Ping timeout)
[03:44:17] <SodAlmighty> Says here that pointers can't be null. So what if an object can contain a member that's a pointer type? Then again, I don't recall seeing anything in the documentation about classes...
[03:44:33] <bjz> SodAlmighty: ptr::null()
[03:44:37] <aatch> SodAlmighty, still can't have null
[03:44:43] <aatch> bjz, that doesn't really count
[03:44:50] <ercan> aatch: does xlib.rc compile over there?
[03:44:53] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: leaving)
[03:44:56] <ercan> sorry xcb.rc
[03:44:57] <SodAlmighty> Does Rust *have* classes?
[03:44:58] *** Joins: seth (seth@moz-D840E602.dsl.static.sonic.net)
[03:45:06] <aatch> ercan, it does
[03:45:08] <aatch> SodAlmighty, not really
[03:45:11] <bjz> SodAlmighty: it has structs and impls
[03:45:19] <aatch> We have traits, structs and impls
[03:45:28] <ercan> are you using 0.6?
[03:45:28] <bjz> SodAlmighty: kind of lightweight OO
[03:45:38] <SodAlmighty> So if a struct has a member of type pointer-to-something....I have to set it to something when I instantiate?
[03:45:52] <bjz> SodAlmighty: yup
[03:45:56] <aatch> ercan, nope, sort-of-incoming
[03:45:59] <SodAlmighty> Weird.
[03:46:04] <SodAlmighty> Very weird.
[03:46:05] <aatch> SodAlmighty, yep, or use and Option<T>
[03:46:07] <ercan> aatch: ok
[03:46:09] <bjz> SodAlmighty: everything has to be initialised
[03:46:16] <aatch> ercan, try building from the master branch
[03:46:30] <SodAlmighty> Looks to me like a freaky mix of F# and Go...
[03:46:36] <SodAlmighty> Might work though ;)
[03:46:47] <aatch> SodAlmighty, it works, trust us.
[03:47:02] <ssbr_> (more apt: F# and C++)
[03:47:17] <ercan> aatch: ok
[03:47:27] <SodAlmighty> No, definitely Go. Because Go doesn't have classes either.
[03:47:27] <bjz> rusti: let x; if true { x = 3; } else { x = 4; } println(fmt!("%?", x));
[03:47:30] -rusti- 3
[03:47:41] <bjz> rusti: let x; if true { x = 3; } else { } println(fmt!("%?", x));
[03:47:41] <ssbr_> SodAlmighty: how about Haskell and C++
[03:47:44] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/YGNj
[03:47:47] <SodAlmighty> I tried D for a while. Got sick of all the bugs. And the unhelpful devs.
[03:47:52] <bjz> SodAlmighty ^
[03:47:58] <SodAlmighty> Dunno. Not used Haskell.
[03:48:13] <ssbr_> Haskell typeclasses bear an unreasonably close resemblance to Rust traits.
[03:48:19] <bjz> SodAlmighty: "error: use of possibly uninitialized variable: `x`"
[03:48:30] <snowmantw> ssbr_: Yes, Haskell and C++
[03:48:48] <SodAlmighty> Hmm. All variables must equal something, then.
[03:48:59] <bjz> Haskell/ML/C++/Erlang are the main influences
[03:48:59] <SodAlmighty> What about simple ones like ints?
[03:49:03] <snowmantw> I've learned both languages and that's my feeling
[03:49:13] <bjz> SodAlmighty: that was an int
[03:49:22] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Ping timeout)
[03:49:24] <SodAlmighty> Well, only once you assigned to it
[03:49:35] <SodAlmighty> I mean if you declare it as an int, but don't assign to it
[03:49:43] <aatch> SodAlmighty, static typing
[03:49:52] <aatch> it is always an int
[03:49:53] <ssbr_> snowmantw: the thing that gets me is that programming in Rust feels like programming in ML, not Haskell. But it clearly derives more from Haskell. I guess it's just the imperative/mutability thing that makes it suddenly ML-like. :(
[03:49:55] <bjz> SodAlmighty: no, it is an int, it's inferred at compile time
[03:49:56] <aatch> you get the same error
[03:50:22] <SodAlmighty> How can it be inferred when declared if you don't assign to it until later? Very intelligent compiler?
[03:50:33] <bjz> SodAlmighty: yes
[03:50:35] <aatch> SodAlmighty, fairly standard type inference
[03:50:38] <SodAlmighty> Nice
[03:50:38] <ssbr_> SodAlmighty: "very" is an overstatement. The same way F# does it.
[03:50:51] <ssbr_> Collect type constraints, figure out the most general type that satisfies all the constraints.
[03:50:54] <bjz> SodAlmighty: use Haskell or ML and you'll see that as well
[03:51:01] <aatch> ssbr_, or throw an error
[03:51:02] <snowmantw> ssbr_: yeah, Haskell insists purity...
[03:51:11] <ssbr_> right, or throw an error if the constraints conflict
[03:51:13] <bjz> rusti: let x; if true { x = 3u; } else { 0.5f; } println(fmt!("%?", x));
[03:51:15] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/KicJ
[03:51:29] <bjz> woops
[03:51:34] <bjz> rusti: let x; if true { x = 3u; } else { x = 0.5f; } println(fmt!("%?", x));
[03:51:36] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/MPCM
[03:51:58] <SodAlmighty> How easy would it be, for example, to write a simple Windows app in Rust, as it stands? Can I touch the Windows API?
[03:52:00] <bjz> SodAlmighty: "error: mismatched types: expected `uint` but found `float` (expected uint but found float)"
[03:52:08] *** Quits: Diablo-D3 (diablo@moz-6317EE8A.port.east.myfairpoint.net) (Quit: This computer has gone to sleep)
[03:52:28] <bjz> SodAlmighty: Rust tracks down the codepaths and tries to infer a type based on how it is used later
[03:52:36] <ssbr_> SodAlmighty: I have written rust programs that compiled and ran on windows -- if that's what you mean, it's easy.
[03:52:56] <SodAlmighty> I mean, can I call CreateWindow() and such
[03:53:01] <aatch> SodAlmighty, you can
[03:53:02] <ssbr_> SodAlmighty: As far as the windows API goes, AFAIK it's possible (since Rust can let you set the call convention of functions from C), but I haven't tried.
[03:53:05] *** Joins: Diablo-D3 (diablo@moz-6317EE8A.port.east.myfairpoint.net)
[03:53:40] <SodAlmighty> How would I call a C function? Say I wanted to link with kernel32.lib, or open a .dll at runtime?
[03:54:04] <aatch> SodAlmighty, a lot of this is on the tutorial
[03:54:13] <SodAlmighty> Which tutorial where?
[03:54:19] <aatch> Specifically the ffi tutorial
[03:54:25] <SodAlmighty> I've read the general documentation
[03:54:48] <dbaupp> SodAlmighty: http://static.rust-lang.org/doc/tutorial-ffi.html
[03:55:11] <SodAlmighty> Righty ho, I'll take a look at that.
[03:55:16] <dbaupp> (http://static.rust-lang.org/doc/0.6/tutorial-ffi.html might be better if you are using 0.6)
[03:55:17] <SodAlmighty> And then go to bed ;)
[03:55:57] <SodAlmighty> Thanks for the help guys. See you later.
[03:56:04] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[03:56:38] *** Parts: SodAlmighty (Mibbit@moz-5F38F85.know.cable.virginmedia.com) ()
[04:06:53] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[04:07:10] *** Quits: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net) (Client exited)
[04:09:09] *** Quits: KindOne (KindOne@moz-2D30BEE8.dynamic.ip.windstream.net) (Ping timeout)
[04:18:37] <cscottnet> startup.rs:3:33: 4:2 error: constant contains unimplemented expression type
[04:19:08] <dbaupp> cscottnet: do you have an enum variant or function call in a match or static?
[04:19:17] *** Joins: inolen (Adium@moz-FA2406D8.socal.res.rr.com)
[04:19:24] <cscottnet> rusti: struct Foo { i: int }; static foos : ~[Foo] = ~[];
[04:19:26] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/jDbY
[04:19:47] <cscottnet> dbaupp: ^^
[04:19:55] <dbaupp> cscottnet: ~ is a malloc
[04:20:03] <dbaupp> cscottnet: so it can't be a static :)
[04:20:17] <cscottnet> what do you suggest for a static array?
[04:20:21] <cscottnet> *vector
[04:20:29] <dbaupp> rusti: struct Foo; static foos: &[Foo] = &[]; foos
[04:20:30] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/fiUZ
[04:20:46] <dbaupp> cscottnet: well, actually, static's are const
[04:21:05] <dbaupp> rusti: struct Foo; static foos: &'static [Foo] = &[]; foos
[04:21:06] -rusti- &[]
[04:24:01] <cscottnet> and if I wanted to make that vector mutable?
[04:24:08] <cscottnet> &mut'static doesn't seem to work
[04:24:45] <dbaupp> cscottnet: no mutable statics yet
[04:25:25] <dbaupp> what do you want to do with it? because there is task-local data, that is "global" within a task
[04:25:41] <cscottnet> maybe that would work.
[04:25:57] <cscottnet> i'd like to export a mutable array from a module.
[04:26:10] <cscottnet> actually, i want a mutable array private to a module.
[04:26:32] *** Quits: heftig (heftig@moz-97B64F16.dip0.t-ipconnect.de) (Ping timeout)
[04:26:41] <cscottnet> is there a module initializer or some such?
[04:26:46] <dbaupp> nope
[04:26:56] <dbaupp> (docs for tld btw http://static.rust-lang.org/doc/core/local_data.html)
[04:27:11] <dbaupp> there is very little global state in rust
[04:27:25] <dbaupp> i.e. 0, other than the task-local stuff
[04:27:50] <dbaupp> (you may've noticed the focus on safety? ;) )
[04:28:05] <cscottnet> so i have to call "MyModule::init()" manually, i guess...
[04:28:32] <dbaupp> yep
[04:30:17] *** Joins: KindOne (KindOne@moz-2D30BEE8.dynamic.ip.windstream.net)
[04:33:22] *** Joins: heftig (heftig@moz-47F00EDE.dip0.t-ipconnect.de)
[04:35:28] <cscottnet> dbaupp: related question: what's the best type for an array contained within a struct?
[04:35:43] <dbaupp> cscottnet: I'm not sure I understand?
[04:35:51] <dbaupp> do you meant ~[] vs &[] vs @[] ?
[04:35:55] <dbaupp> *mean
[04:35:58] <cscottnet> in C i'd do the ol' "struct Foo { int field; my_type arr[0] }" trick
[04:36:08] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:36:08] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/m6pFXQ
[04:36:08] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:36:20] <dbaupp> oh
[04:36:36] <cscottnet> in rust i've got "struct Foo { field: int, arr: ~[MyType] }" -- is that the best possible?
[04:36:46] <dbaupp> um, not sure you can get around the compiler like the C version
[04:37:00] <cscottnet> well, ~ vs & vs @ then.
[04:37:12] <cscottnet> if i understand correctly ~[] will be owned by the struct?  which is what I want, i think.
[04:37:13] <dbaupp> but yeah, that would work, although there is an allocation
[04:37:17] <dbaupp> yes
[04:37:23] <dbaupp> it is owned
[04:38:07] <cscottnet> pity the indirection, but can't be helped i guess
[04:39:03] <dbaupp> you could probably simulate the C with some unsafe code
[04:39:11] <dbaupp> but then you might as well use C
[04:39:33] <cscottnet> a more rusty way would be to teach the type system about inlining,  but i'm not about to do that tonight.
[04:39:39] <cscottnet> nor ever ;)
[04:40:02] *** Joins: thenickperson (Mibbit@moz-FA583A71.student.rit.edu)
[04:44:50] <cscottnet> ah, sigh.  "vec::push operates only on owned vectors"
[04:45:22] <cscottnet> so what's the right signature for a method which takes a mutable vector and pushes a bunch of stuff into it before returning?
[04:45:29] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[04:47:26] <dbaupp> just btw, there are fixed length vectors [Type, .. length], but that's probably not applicable
[04:47:50] <dbaupp> um, probably fn foo(v: &mut ~[T]) { ... }
[04:48:29] <cscottnet> am i supposed to read that as "a mutable borrowed pointer to an owned array"?
[04:48:38] *** Joins: seth (seth@moz-D840E602.dsl.static.sonic.net)
[04:50:33] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Ping timeout)
[04:50:39] *** Quits: int3_ (int3_@moz-DC8217D4.singnet.com.sg) (Client exited)
[04:51:00] <dbaupp> yes
[04:51:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:51:09] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/mewwMA
[04:51:09] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:51:10] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:51:10] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/8NlXgQ
[04:51:10] <ghrust> 13rust/06auto 14f21fb3a 15Tim Chevalier: rustc: Cleaning up bad copies and other XXXes
[04:51:10] <ghrust> 13rust/06auto 14ac74bbe 15bors: auto merge of #6582 : catamorphism/rust/cleanup, r=catamorphism
[04:51:10] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:52:00] <cscottnet> dbaupp: ok, so i have to stop thinking about ~ as "pointer to" perhaps.
[04:52:12] <dbaupp> cscottnet: for vecs and strs, yes
[04:52:19] *** Joins: int3_ (int3_@moz-DC8217D4.singnet.com.sg)
[04:52:33] <dbaupp> the ~[], &[] and @[] are different to ~int etc
[04:52:52] <dbaupp> (and ~str is a wrapper around ~[u8] and so on)
[04:53:39] <dbaupp> ~[] and @[] are represented as a pointer to a len + data block
[04:53:55] <dbaupp> &[] is a (pointer to data, length) tuple
[04:55:50] <dbaupp> (and for non-vec types the ~/@/& pointers are just plain pointers)
[04:56:35] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[04:58:04] <dbaupp> (modulo some runtime/garbage collection information for @)
[05:04:08] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[05:06:25] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[05:06:51] *** Quits: ercan (ercan@moz-D4CF4859.dyn.optonline.net) (Quit: WeeChat 0.4.0)
[05:08:02] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[05:10:05] *** Joins: brson (brson@E9CDE21E.991753BB.CA4D1600.IP)
[05:10:05] *** ChanServ sets mode: +o brson
[05:21:03] *** Quits: thenickperson (Mibbit@moz-FA583A71.student.rit.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[05:22:39] *** Joins: seth (seth@moz-D840E602.dsl.static.sonic.net)
[05:23:20] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[05:24:47] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Input/output error)
[05:25:10] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[05:27:19] *** Joins: akashj87 (akash@1DE81D5B.DCF118FF.35E3DDC8.IP)
[05:31:10] *** Quits: int3_ (int3_@moz-DC8217D4.singnet.com.sg) (Client exited)
[05:35:57] *** Joins: int3_ (int3_@moz-DC8217D4.singnet.com.sg)
[05:44:42] *** Quits: blitter (blitter@moz-7C98731E.dyn.centurytel.net) (Ping timeout)
[05:49:19] *** Quits: KindOne (KindOne@moz-2D30BEE8.dynamic.ip.windstream.net) (Ping timeout)
[05:53:33] *** Joins: KindOne (KindOne@moz-2D30BEE8.dynamic.ip.windstream.net)
[05:53:50] *** Joins: doomlord (doomlod@moz-D6181ADF.range81-151.btcentralplus.com)
[05:56:17] *** Joins: Heo__ (Heo@6E951474.1210EC19.14E0EA63.IP)
[05:58:00] <brson> incoming is green yet again!
[05:58:07] <doomlord> r.e. multi-element macros ( currently broken?) -  Currently you can fudge this by creating a module within a macro-expansion - as a temporary fix, how about adding "Anonymous Modules"  eg..    macro_rules! foo(.....) {    ....=> mod{    something1(...);    something2(...) ...  }   .... } . Would that be easier to do than  fixing the macro system to do true multi-statement blocks.   I was advised fixing the macro system would be 
[05:58:07] <doomlord> a difficult task for someone unfamiliar with the  sourcebase. I'm interested in the macro feature ... there's many things i've wished you could do with C macros but can't quite..
[05:59:56] <dbaupp> brson: did the snapshot go through?
[06:00:36] *** Joins: z0w0 (zack@moz-B13FD5D7.lns2.cha.bigpond.net.au)
[06:01:22] * brson checking
[06:04:57] <cscottnet> dbaupp: is &mut ~[T] really a double-indirection?
[06:05:43] <dbaupp> cscottnet: I guess so, but it possibly gets optimised out (sometimes)
[06:06:23] <brson> dbaupp: retrying the linux build (it build the wrong commit), still waiting on bsd
[06:09:47] *** Quits: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP) (Ping timeout)
[06:10:27] *** Quits: twm (twm@moz-13417AD3.dsl.static.sonic.net) (Ping timeout)
[06:12:25] *** Joins: akashj87_ (akash@56411627.CA70E901.35E3DDC8.IP)
[06:13:10] *** Quits: akashj87 (akash@1DE81D5B.DCF118FF.35E3DDC8.IP) (Ping timeout)
[06:14:26] <bjz> doomlord: it's a know bug
[06:14:35] * bjz sadface
[06:14:56] <bjz> doomlord: also macros within impls
[06:15:11] <bjz> eg: impl A { my_macro!() }
[06:16:13] <bjz> doomlord: https://github.com/mozilla/rust/issues/4375
[06:17:06] <dbaupp> doomlord: I imagine adding anonymous modules would be equally difficult :(
[06:17:25] <dbaupp> brson: I see
[06:17:50] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[06:19:03] <steven_is_false> jc-denton: Deus-Ex?
[06:19:13] <dbaupp> cscottnet: I just looked at the asm for a &mut ~[T] method... it's got indirection all over the place :(
[06:19:41] <dbaupp> (I guess cpu caches mostly ameliorate it though)
[06:27:09] *** Joins: twm (twm@moz-13417AD3.dsl.static.sonic.net)
[06:33:19] *** zz_kimundi is now known as kimundi
[06:34:02] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Client exited)
[06:48:07] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[06:48:07] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/8NlXgQ
[06:48:07] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[06:56:31] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[07:00:50] <brson> dbaupp: can that indirection be fixed?
[07:00:59] <brson> *reduced
[07:01:08] <dbaupp> brson: no idea
[07:02:22] <dbaupp> it was doing many pushes in a loop, and for each push it read the length of the vec from memory rather than having it in a register
[07:03:08] <dbaupp> I guess that could be fixed with sufficient library trickery
[07:05:26] *** Joins: akashj87__ (akash@C7B227F8.72FB2488.35E3DDC8.IP)
[07:05:29] *** Quits: akashj87_ (akash@56411627.CA70E901.35E3DDC8.IP) (Ping timeout)
[07:07:12] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:07:43] *** Joins: akashj87 (akash@DE122D1C.45379F4E.35E3DDC8.IP)
[07:08:01] *** Quits: akashj87__ (akash@C7B227F8.72FB2488.35E3DDC8.IP) (Ping timeout)
[07:11:33] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[07:13:19] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[07:15:46] <Jeaye> Why can't I do 'self *= foo;' if I've supplied the Mul trait?
[07:15:58] <Jeaye>  error: binary operation * cannot be applied to type `foo`
[07:17:14] <bjz> brson: hoya
[07:17:27] <bjz> Jeaye: https://github.com/mozilla/rust/issues/5992
[07:17:58] <Jeaye> :(
[07:18:03] <bjz> :(
[07:18:18] <Jeaye> My matrices don't like that.
[07:18:36] <bjz> Jeaye: I just have a mul_assign method
[07:18:49] <bjz> it will be changed once we have that
[07:19:01] <Jeaye> Aye. Thanks for the heads up.
[07:20:03] <bjz> Jeaye: I'm thinking I might add the assign traits to core::ops, and just have a note: Not yet implemented for operators
[07:20:18] <bjz> Jeaye: I'll ask pcwalton first though
[07:20:43] <bjz> bstrie: ping
[07:22:48] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:23:27] <bjz> strcat: heyo
[07:23:32] <Jeaye> *self = *res * mat;
[07:23:32] <strcat> hi
[07:23:33] <Jeaye> eww
[07:23:52] <bjz> strcat: https://github.com/mozilla/rust/pull/6586 r?
[07:25:46] <Jeaye> What's the way to word this so that line 5 of the source works? https://gist.github.com/Jeaye/61a6cecd160354f24b31
[07:27:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:27:09] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/hC2Qdg
[07:27:09] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:28:33] *** Quits: int3_ (int3_@moz-DC8217D4.singnet.com.sg) (Client exited)
[07:29:24] <brson> bjz: hi
[07:29:31] *** Quits: bleibig (bleibig@moz-58EF3B3A.rochester.res.rr.com) (Ping timeout)
[07:32:43] <bjz> strcat: could I have a re-r+, I had to delete some stray descriptions on my commits
[07:33:22] <bjz> brson: I'm using stacked `///` doc comments, but rustdoc seems to be doing weird things with new lines
[07:33:42] <strcat> bjz: it's a known bug
[07:33:55] <strcat> it doesn't see the empty /// lines
[07:34:55] <bjz> ahh ok
[07:35:10] <bjz> strcat: cheers
[07:35:40] <bjz> strcat: hopefully bors doesn't get confuzzled
[07:36:07] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:36:07] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e227636 to 14ac74bbe: 02http://git.io/N3iJvQ
[07:36:07] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:36:10] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:36:10] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/NitWhg
[07:36:10] <ghrust> 13rust/06auto 14a10974d 15Brendan Zabarauskas: Use cond! macro where appropriate
[07:36:10] <ghrust> 13rust/06auto 14728fe77 15Brendan Zabarauskas: Use pattern-matching instead of conditionals where appropriate to improve code clarity
[07:36:11] <ghrust> 13rust/06auto 1460ea6d6 15Brendan Zabarauskas: Convert various inner doc-comments to outer doc-comments
[07:36:14] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:37:20] <strcat> rusti: let x = ~5; let y: *int = cast::transmute(x); y
[07:37:24] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/VVJC
[07:37:39] <strcat> rusti: unsafe { let x = ~5; let y: *int = cast::transmute(x); y }
[07:37:41] -rusti- 140252494694720
[07:37:41] -rusti- exchange heap not empty on exit
[07:37:41] -rusti- 1 dangling allocations
[07:37:41] -rusti- /usr/local/bin/rust.sh: line 21:    15 Aborted                 (core dumped) ./foo
[07:38:14] <strcat> rusti: unsafe { let x = ~5; let y: *int = cast::transmute(x); println(fmt!("%?", *y)); let _: ~int = cast::transmute(y) }
[07:38:14] -rusti- foo.rs:5:122: 5:123 error: expected `;` but found `}`
[07:38:14] -rusti- foo.rs:5          unsafe { let x = ~5; let y: *int = cast::transmute(x); println(fmt!("%?", *y)); let _: ~int = cast::transmute(y) }
[07:38:14] -rusti-                                                                                                                                    ^
[07:38:19] <strcat> rusti: unsafe { let x = ~5; let y: *int = cast::transmute(x); println(fmt!("%?", *y)); let _: ~int = cast::transmute(y); }
[07:38:20] -rusti- -1
[07:38:22] <Jeaye> How do I implement Copy for a struct?
[07:38:35] <strcat> Jeaye: you can't
[07:38:41] <bjz> Clone
[07:38:50] <bjz> is the new one
[07:39:09] <Jeaye> So is the 'copy' syntax deprecated?
[07:39:16] <Jeaye> foo = copy bar;
[07:39:18] <strcat> yes you can consider it deprecated
[07:39:22] <bjz> would be nice if Clone could be renamed to Copy once the `copy` keyword is removed
[07:39:35] <bjz> brson: what do you think of that? ^
[07:39:43] <Jeaye> instead it is: `foo = bar.clone();' ?
[07:39:48] <strcat> Jeaye: yes
[07:39:50] <bjz> yah
[07:39:57] <Jeaye> Thanks.
[07:40:36] <brson> bjz: fine by me
[07:41:57] <strcat> hm
[07:42:10] <strcat> I thought ~ pointed at the value and the header was treated as a negative offset
[07:42:11] <strcat> I guess not
[07:42:16] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[07:43:03] *** Quits: igl (igl@moz-BFEB022D.adsl.alicedsl.de) (Quit: Leaving.)
[07:43:35] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: zzzZZZzzz)
[07:43:49] *** Joins: Palmik (palmik@moz-DADC71F0.pks.muni.cz)
[07:46:28] <bjz> what do folks think of having component-wise comparison traits? ie. https://gist.github.com/bjz/3ca961010b6608d6415f
[07:47:08] <bjz> I'm thinking comparing two ~[T]s would return a ~[bool]
[07:47:25] <bjz> would be useful for things like vectors/matricies
[07:47:47] <brson> strcat: that would be awesome. I have a fair amount of unsafe code that would love to convert between *Foo and ~Foo more easily
[07:48:11] <strcat> brson: well it would be more awesome if we could get rid of that header completely ;p
[07:50:54] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[07:52:32] <dbaupp> bjz: I think they might be useful, but I feel like there are already a lot of traits
[07:52:39] <bjz> mm
[07:52:52] <bjz> dbaupp: cmp is very crowded
[07:53:03] <dbaupp> bjz: they could go in std::cmp
[07:53:16] <dbaupp> "extension comparisons"
[07:53:18] <bjz> dbaupp: yep
[07:53:31] <bjz> dbaupp: that makes sense
[07:54:51] <jensnockert> bjz: I like componentwise comparison traits.
[07:55:14] *** Joins: cdidd (cdidd@moz-53D8E1D5.broadband.corbina.ru)
[07:55:45] <jensnockert> I am not sure if NumPy-style indexing with bool-arrays is sane though.
[07:56:36] <dbaupp> jensnockert: that's be pretty cool
[07:57:09] <dbaupp> (and indexing with uint-arrays would be neat too)
[07:57:20] <jensnockert> Yeah, but I have always wondered if it actually maps into hardware in any sane way.
[07:57:39] <dbaupp> seems unlikely
[07:57:43] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[07:57:51] <jensnockert> dbaupp: Yeah, indexing with uints make sense. Haswell even has microcode to make it slightly faster.
[07:58:01] <jensnockert> (uint-arrays)
[07:58:11] <dbaupp> really? awesome!
[07:58:18] <dbaupp> (which gen is Haswell?)
[07:58:26] <jensnockert> dbaupp: Next-gen.
[07:58:57] <jensnockert> GPUs can also do it.
[08:00:46] <jensnockert> http://software.intel.com/sites/products/documentation/studio/composer/en-us/2011Update/compiler_c/intref_cls/common/intref_avx2_mm256_mask_i64gather_pd.htm
[08:03:40] <jensnockert> I assume LLVM already has intrinsics / code-gen for it.
[08:04:09] <dbaupp> jensnockert: that's pretty neat!
[08:04:53] <dbaupp> jensnockert: http://lists.cs.uiuc.edu/pipermail/cfe-commits/Week-of-Mon-20120625/059670.html
[08:04:55] <dbaupp> yep
[08:05:15] <strcat> hm, I don't actually like these first/last/nth iterator adaptors
[08:05:16] <jensnockert> Nice.
[08:05:20] <strcat> the unnecessarily fail
[08:05:23] <strcat> they*
[08:05:34] <strcat> and first is just next()
[08:05:40] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[08:06:04] <dbaupp> also, does anyone know why the Index trait supports overloading the Index type, but then complains about "expecting integral type" for non-integers Index-s?
[08:06:21] <dbaupp> strcat: tear 'em out
[08:06:32] <jensnockert> That sounds silly.
[08:07:22] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[08:08:12] <dbaupp> jensnockert: https://gist.github.com/huonw/3c31f751ba6fdeb3757f
[08:08:51] <jensnockert> dbaupp: Sure seems like a bug.
[08:09:09] <dbaupp> eh, removing the impl gives the same message
[08:10:17] *** Quits: btipling (btipling@moz-5A640456.new.xen.prgmr.com) (Ping timeout)
[08:11:38] <jensnockert> Overloading is still slightly witchcraft.
[08:12:41] <dbaupp> jensnockert: https://github.com/mozilla/rust/issues/6588
[08:12:58] <jensnockert> dbaupp: <3
[08:13:36] <jensnockert> I should take the day to fix up my remove-intrinsics patch, so that it works on Windows.
[08:13:46] <dbaupp> I enjoy how github tells me that I opened that issue "in a few seconds"
[08:13:52] * dbaupp loves time travel
[08:14:07] <dbaupp> jensnockert: what's the problem on windows?
[08:14:38] <jensnockert> dbaupp: It seems like it parses the attributes in a different order (at least)
[08:14:58] <jensnockert> And a few other silly thing.s
[08:17:28] *** Joins: victorporof (victorporo@10AA7997.880C8D58.79933D60.IP)
[08:19:29] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[08:20:44] *** Quits: z0w0 (zack@moz-B13FD5D7.lns2.cha.bigpond.net.au) (Quit: Leaving.)
[08:21:20] <strcat> anyway the problem is that you can't check the length of an iterator
[08:21:29] <strcat> so any method that can fail from 0 length is pretty useless
[08:23:02] <dbaupp> strcat: what about a Iterator -> Length method (with `enum Length { Int(uint), Infinite, Unknown }`)?
[08:23:28] <strcat> it would encourage writing less efficient iterators though...
[08:23:46] <dbaupp> in what sense?
[08:23:58] <strcat> dbaupp: keeping track of length with each iteration
[08:24:37] <strcat> we can do it but...
[08:24:42] <strcat> it doesn't solve this issue
[08:24:45] <dbaupp> oh, I see. Only for some... most of the length'd ones can compute the length statelessly
[08:24:45] <strcat> it's only a size hint
[08:24:49] <dbaupp> yup
[08:25:16] *** Quits: sk_ (sk@5936D79C.C8AF14A1.33B96495.IP) (Quit: Leaving)
[08:29:56] *** Quits: brson (brson@E9CDE21E.991753BB.CA4D1600.IP) (Quit: leaving)
[08:30:10] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[08:30:10] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/NitWhg
[08:30:10] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[08:32:17] *** Quits: Heo__ (Heo@6E951474.1210EC19.14E0EA63.IP) (Connection reset by peer)
[08:37:24] *** Joins: int3_ (int3_@moz-DC8217D4.singnet.com.sg)
[08:45:50] *** Quits: int3_ (int3_@moz-DC8217D4.singnet.com.sg) (Client exited)
[08:50:12] *** Joins: int3_ (int3_@moz-DC8217D4.singnet.com.sg)
[08:52:40] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[08:55:26] * strcat really wonders why the sample pre-commit hook isn't the default
[08:55:34] <strcat> checks for leftover merge markers and whitespace errors
[08:55:53] <strcat> silly git defaults
[08:59:48] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[09:00:16] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[09:00:40] <ssbr_> I need to get used to using the Copy trait bound more. There's a lot of circumstances I really want implicit copy to happen, but Rust doesn't obey my wants. :(
[09:01:02] <ssbr_> (I am saying this because I want someone to say "no that's wrong" if my attitude to this is flawed)
[09:01:14] <strcat> you don't want Copy, it's deprecated
[09:01:30] <strcat> and it doesn't give you implicit copies, it lets you use the 'copy' keyword
[09:01:39] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[09:02:10] <strcat> if you have to make a copy you want Clone, because any type can implement it - Copy is only on things without destructors *except* for certain special built-ins (vectors, strings)
[09:02:37] *** Joins: iopluy (iopluy@moz-856B57DE.adsl.highway.telekom.at)
[09:03:02] <ssbr_> strcat: "note: field of `self` moved here because the field has type 'a, which is moved by default (use `copy` to override)"
[09:03:23] <ssbr_> strcat: if I use the Copy trait bound for that field type (it's generic), then I don't get any errors like this
[09:03:28] <ssbr_> (the error was a partial move thing)
[09:03:34] <strcat> ssbr_: you added 'copy'?
[09:03:38] <strcat> or no
[09:03:43] <ssbr_> strcat: no, I added a Copy trait bound
[09:03:46] <ssbr_> let me see if I can produce a smaller test case
[09:03:48] <strcat> that's a bug then
[09:03:58] <strcat> vectors/strings aren't supposed to copy implicitly
[09:04:06] <strcat> but 'copy' is going to go away anyway
[09:04:09] <ssbr_> it isn't a vector/string
[09:04:18] <strcat> ssbr_: it's a generic type, it could be a vector/string
[09:04:22] <ssbr_> strcat: if Copy is going away, and copy is going away, how do I copy things?
[09:04:33] <strcat> Clone/DeepClone
[09:04:33] <ssbr_> oh right, you already said.
[09:04:35] <ssbr_> .clone()
[09:04:49] <ssbr_> strcat: is implicit copying going away as well?
[09:05:09] <strcat> ssbr_: it's a bug that it's letting you implicitly copy a generic type
[09:05:25] <ssbr_> strcat: it isn't, it implicitly copies after I add the Copy trait bound to the type
[09:05:30] <ssbr_> T: Num+Copy
[09:05:30] <strcat> ssbr_: yes, that's a bug
[09:05:41] <ssbr_> oh.
[09:05:51] <ssbr_> strcat: anyway, for the future, is implicit copying going away?
[09:06:12] <strcat> there isn't implicit copying right now for things with destructors, excluding that bug 
[09:06:19] <strcat> and that won't go away
[09:06:24] <strcat> but a generic type may or may not have a destructor
[09:06:29] <strcat> so you can't implicitly copy it
[09:06:49] <ssbr_> strcat: but I thought the Copy bound was how I select things that can be implicitly copied
[09:06:59] <strcat> ssbr_: it's not, at least right now
[09:07:08] <ssbr_> that's what it's documented to be
[09:07:24] <strcat> well the documentation is wrong
[09:07:27] <ssbr_> sort of
[09:07:28] <ssbr_> http://static.rust-lang.org/doc/rust.html#traits-1
[09:07:42] <ssbr_> strcat: the documentation and the behavior are wrong! doesn't that make them right? :(
[09:07:47] <strcat> ssbr_: no
[09:07:54] <strcat> it's buggy, you shouldn't be able to implicitly copy a string/vector.
[09:08:03] <strcat> I bet it's unsound too
[09:08:10] <strcat> like `let &x = &x;'
[09:08:42] <strcat> ssbr_: if you're writing a generic function, it's very unlikely you want to arbitrarily limit it to types without destructors
[09:10:01] <ssbr_> Yeah, that's true.
[09:10:15] <ssbr_> I didn't think about it too much, although I should've.
[09:11:07] <ssbr_> at least now that I'm more conscious of the rules, hopefully I'll make better decisions, and not get as surprised when things move instead of copy.
[09:14:05] *** Quits: cdidd (cdidd@moz-53D8E1D5.broadband.corbina.ru) (Input/output error)
[09:14:29] *** Quits: iopluy (iopluy@moz-856B57DE.adsl.highway.telekom.at) (Ping timeout)
[09:14:52] *** Joins: iopluy (iopluy@moz-18EBF945.adsl.highway.telekom.at)
[09:14:56] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[09:16:12] *** Joins: chee (chee@moz-E5A0DD8.org)
[09:17:02] <chee> <3
[09:18:00] *** Joins: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr)
[09:18:51] <dbaupp> bjz: your tuple accessor code has amazing diagonals :D
[09:18:59] <bjz> :D
[09:19:47] <bjz> dbaupp: <3 macros
[09:19:56] <dbaupp> :D
[09:20:11] <bjz> dbaupp: I just wish I could do the trait def and impl in the same one
[09:20:17] <dbaupp> (I wish there was a way to handle tuples without typing A, B, ... X though)
[09:20:23] <bjz> dbaupp: sadface
[09:20:44] <dbaupp> bjz: you can, with an inner module, and then pub use self::inner::*; in the parent
[09:20:56] <bjz> ugh
[09:21:14] <dbaupp> yup... the choice is yours
[09:23:39] <bjz> I have an idea
[09:25:40] *** Quits: iopluy (iopluy@moz-18EBF945.adsl.highway.telekom.at) (Quit: iopluy)
[09:26:39] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[09:32:57] *** Joins: berak (chatzilla@EE36C21.8B38C502.16E13E53.IP)
[09:40:08] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[09:42:38] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Connection reset by peer)
[09:42:57] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Connection reset by peer)
[09:43:10] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[09:45:37] <bjz> dbaupp: donesies: https://github.com/mozilla/rust/pull/6591
[09:49:59] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[09:50:21] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[09:53:33] <bjz> strcat: https://github.com/mozilla/rust/pull/6591/files r?
[09:53:52] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[09:55:34] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[09:57:40] <strcat> bjz: I don't think it should use Copy
[09:58:02] <bjz> strcat: how should I do it?
[09:58:10] <strcat> well I think it should just return a reference
[09:58:14] <bjz> ok
[09:59:51] <bjz> strcat: fn n0(&self) -> &A? what would the lifetimes look like
[10:00:01] <bjz> fn n0(&self) -> &'self A?
[10:00:38] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.0)
[10:00:52] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[10:00:54] <strcat> bjz: n0<'a>(&'a self) -> &'a T
[10:06:59] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Ping timeout)
[10:08:35] *** Quits: akashj87 (akash@DE122D1C.45379F4E.35E3DDC8.IP) (Ping timeout)
[10:09:09] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[10:09:37] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[10:10:25] <bjz> strcat: done! https://github.com/mozilla/rust/pull/6591
[10:12:08] <bjz> cheers
[10:12:16] *** Joins: doener (doener@moz-121949B3.unitymediagroup.de)
[10:12:21] <strcat> yay for macros :)
[10:13:04] <bjz> yay yay ya
[10:13:07] <bjz> rr
[10:15:12] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[10:15:12] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/uVHKJw
[10:15:12] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[10:15:13] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[10:15:13] <ghrust> 01[13rust01] 15bors pushed 6 new commits to 06auto: 02http://git.io/GMlzvQ
[10:15:13] <ghrust> 13rust/06auto 146742f91 15Brendan Zabarauskas: Create tuple element accessor traits
[10:15:13] <ghrust> 13rust/06auto 1496cb0dc 15Brendan Zabarauskas: use n{0..11} instead of _{0..12} for accessor method names
[10:15:13] <ghrust> 13rust/06auto 14c1eb539 15Brendan Zabarauskas: Use assert_eq! instead of assert!
[10:15:15] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[10:17:07] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[10:21:10] *** Quits: rfw (rfw@moz-C65A114.rfw.name) (Input/output error)
[10:21:42] *** Joins: rfw (rfw@moz-C65A114.rfw.name)
[10:21:45] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[10:28:17] *** Joins: Heo__ (Heo@F440F5EA.1210EC19.14E0EA63.IP)
[10:29:06] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[10:29:08] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[10:32:00] *** Quits: Heo__ (Heo@F440F5EA.1210EC19.14E0EA63.IP) (Connection reset by peer)
[10:38:00] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[10:38:25] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[10:40:41] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[10:44:27] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[10:46:00] *** Quits: int3_ (int3_@moz-DC8217D4.singnet.com.sg) (Connection reset by peer)
[10:46:17] *** Joins: int3_ (int3_@moz-DC8217D4.singnet.com.sg)
[10:53:22] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Quit: Leaving)
[10:53:56] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[10:55:02] <dbaupp> bjz: yay it still has diagonals! ;D
[10:55:09] <bjz> hehe
[10:55:09] <dbaupp> (looks good)
[10:55:21] <bjz> I should have put emoticons in it
[10:56:00] *** Quits: Diablo-D3 (diablo@moz-6317EE8A.port.east.myfairpoint.net) (Quit: do coders dream of sheep()?)
[10:56:07] *** Joins: Diablo-D3 (diablo@moz-6317EE8A.port.east.myfairpoint.net)
[11:00:45] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[11:03:27] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[11:04:54] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[11:05:01] <dbaupp> strcat: https://github.com/mozilla/rust/pull/6565
[11:05:21] <dbaupp> pyrac: that's your pr, right?
[11:06:13] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:06:13] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/GMlzvQ
[11:06:13] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:07:46] <pyrac> dbaupp: yes
[11:08:03] <dbaupp> hopefully it lands this time :)
[11:08:33] <pyrac> dbaupp: thanks for the r. I think I have learn my lesson : docs have also to be tested :)
[11:09:10] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:09:10] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/h3Q_ew
[11:09:10] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:09:12] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:09:12] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/ROXImA
[11:09:12] <ghrust> 13rust/06auto 147dc466f 15Olivier Saut: Correct the example given for a future, add punctuation where necessary
[11:09:13] <ghrust> 13rust/06auto 143e41639 15Olivier Saut: Add a small section on futures to the tutorial
[11:09:13] <dbaupp> pyrac: it was strcat who r'd it :)
[11:09:14] <ghrust> 13rust/06auto 144b13895 15Olivier Saut: Remove trailing whitespaces
[11:09:15] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:09:41] <dbaupp> yup, docs get tested, whitespace gets checked, line lengths get examined
[11:09:47] <pyrac> dbaupp: oups sorry. Thanks for your help anyway !
[11:13:54] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[11:14:47] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Ping timeout)
[11:18:00] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[11:18:29] *** Quits: int3_ (int3_@moz-DC8217D4.singnet.com.sg) (Client exited)
[11:19:27] *** Joins: int3_ (int3_@moz-DC8217D4.singnet.com.sg)
[11:19:44] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[11:19:57] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[11:21:05] *** Quits: int3_ (int3_@moz-DC8217D4.singnet.com.sg) (Client exited)
[11:22:01] *** Joins: int3_ (int3_@moz-DC8217D4.singnet.com.sg)
[11:23:45] *** Quits: int3_ (int3_@moz-DC8217D4.singnet.com.sg) (Ping timeout)
[11:30:05] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[11:31:04] *** Joins: mib_wq8gyf (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[11:32:09] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[11:32:30] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: bbl)
[11:34:35] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[11:35:08] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[11:37:28] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[11:45:07] *** Joins: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net)
[11:45:45] *** Quits: mib_wq8gyf (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:47:52] *** Parts: berak (chatzilla@EE36C21.8B38C502.16E13E53.IP) ()
[11:47:55] *** Quits: ion (ion@heh.fi) (Quit: Moving the server)
[11:49:41] *** Joins: spider-mario (spidermari@moz-2BC095A6.rev.sfr.net)
[11:59:50] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[12:03:44] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Quit: bye bye)
[12:06:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[12:06:09] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/ROXImA
[12:06:09] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[12:06:20] <jensnockert> Is there a good reason explained somewhere why f64 != float btw?
[12:06:56] <bjz> jensnockert: no
[12:06:59] <strcat> jensnockert: I think we can get rid of float
[12:07:08] <strcat> jensnockert: just need to open an RFC and discuss it
[12:07:18] <bjz> jensnockert: it could be a typedef :P
[12:07:20] <strcat> seems like if you can get by with f32 you'd use f32
[12:07:30] * strcat doesn't understand when you'd use 'float'
[12:08:12] <bjz> I think I asked brson once
[12:08:20] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[12:08:22] <bjz> can't remember his reply though
[12:10:27] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[12:10:30] <dbaupp> pyrac: it merged! :)
[12:10:55] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[12:11:59] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[12:18:25] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[12:19:56] *** Joins: cdidd (cdidd@moz-96422B2B.broadband.corbina.ru)
[12:20:46] *** Joins: goldfeld (Mibbit@522FEE1A.1C1B4381.5FA960DF.IP)
[12:22:20] *** Quits: stephank (stephank@FE6D378F.A6EC7F74.1E99A072.IP) (Quit: *Poof!*)
[12:26:00] <goldfeld> how can I send shell (bash) commands within rust? say, running an awk query and capturing the results to a string/array
[12:26:18] <dbaupp> goldfeld: core::run
[12:27:06] <dbaupp> rusti: core::run::program_output("ls", &[])
[12:27:08] -rusti- {status: 0, out: ~"foo\nfoo.rs\n", err: ~""}
[12:27:45] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[12:29:03] <goldfeld> thanks dbaupp!
[12:33:53] *** Joins: akashj87 (akash@DE122D1C.45379F4E.35E3DDC8.IP)
[12:33:58] *** Quits: akashj87 (akash@DE122D1C.45379F4E.35E3DDC8.IP) (Connection reset by peer)
[12:46:33] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[12:52:11] <cmr> Would anybody terribly mind me converting all uses assert!(... == ...) to assert_eq!(..., ...)?
[12:52:26] *** Quits: cdidd (cdidd@moz-96422B2B.broadband.corbina.ru) (Input/output error)
[12:52:31] <cmr> or, at least, as many of them as I can script?
[12:55:22] <dbaupp> cmr: I'm sure it's fine
[12:55:35] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[12:55:52] <dbaupp> (it'll probably be a patch you have to rebase many times.)
[12:56:19] <cmr> well, if I can get it in by lunch, might be able to slip it past the others
[12:56:41] <dbaupp> git grep tells me there are 3447 instances of assert! and == on the same line
[12:56:44] <dbaupp> ... have fun :P
[12:57:11] <cmr> it's fairly easy to stupidly parse, was going to use a python script
[12:58:34] <dbaupp> yup
[13:03:32] *** Joins: stephank (stephank@FE6D378F.A6EC7F74.1E99A072.IP)
[13:04:40] *** Joins: akashj87 (akash@DE122D1C.45379F4E.35E3DDC8.IP)
[13:06:00] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[13:06:17] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[13:07:10] *** Quits: doomlord (doomlod@moz-D6181ADF.range81-151.btcentralplus.com) (Quit: Leaving)
[13:07:58] *** Joins: akashj87_ (akash@BCF05A12.F09595B1.35E3DDC8.IP)
[13:08:03] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[13:08:39] *** Quits: akashj87 (akash@DE122D1C.45379F4E.35E3DDC8.IP) (Ping timeout)
[13:08:54] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Connection reset by peer)
[13:21:34] <jensnockert> strcat, bjz: Created a RFC.
[13:22:07] <jensnockert> (For merging f64 and float)
[13:22:43] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[13:23:49] <bjz> jensnockert: can't see it :(
[13:24:11] <jensnockert> bjz: https://github.com/mozilla/rust/issues/6592
[13:25:25] *** Joins: catpig (catpig@moz-E824D416.dip0.t-ipconnect.de)
[13:26:40] <dbaupp> jensnockert: you used ' instead of closing the ` ;)
[13:27:15] <jensnockert> Silly markdown.
[13:28:17] * jensnockert hugs TeX
[13:28:19] <bjz> heh
[13:37:04] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[13:39:35] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[13:45:28] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[13:46:34] <dbaupp> heh, apparently LLVM supports 8 million bit integers
[13:47:57] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[13:48:35] <jensnockert> Is there any way to print scientific notation with fmt! ?
[13:48:49] <dbaupp> jensnockert: doesn't %e work?
[13:49:01] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[13:49:02] <dbaupp> rusti: fmt!("%e", 123456.7890)
[13:49:03] -rusti- foo.rs:5:14: 5:18 error: unknown type in conversion: e
[13:49:03] -rusti- foo.rs:5          fmt!("%e", 123456.7890)
[13:49:03] -rusti-                        ^~~~
[13:49:11] <jensnockert> dbaupp: Nope.
[13:50:02] <dbaupp> jensnockert: from the code it looks like the answer is no
[13:50:12] <jensnockert> :(
[13:52:00] <cmr> It'd be neat if one could write a syntax extension that takes any string and outputs an AST
[13:52:06] <cmr> so you could have like sql!()
[13:52:32] <cmr> upon more thinking that example doesn't make sense
[13:52:59] <tiffany> you could implement finite state machines with that
[13:53:12] <tiffany> well, a DSL for expressing them
[13:53:42] <dbaupp> cmr: well, a syntax extension currently can take a string and output an ast...
[13:54:00] <cmr> well, without string literals, I mean :p
[13:54:01] <bjz> cmr: prolog! :P
[13:54:47] <bjz> jensnockert: how would you compare two tuples?
[13:54:49] <dbaupp> cmr: well, they are actually fed a token tree, which is pretty much that
[13:55:01] <jensnockert> bjz: By contents?
[13:55:26] <bjz> jensnockert: I mean, with lt, le, gt, ge?
[13:55:27] <bjz> https://github.com/mozilla/rust/blob/incoming/src/libcore/tuple.rs#L225
[13:55:28] <dbaupp> tiffany: there is an `re!` syntax extension in progress for regexps, I think
[13:55:34] <bjz> that's what we do now
[13:55:36] <cmr> dbaupp: hm. what does the tokenizer reject?
[13:55:49] <dbaupp> bjz: I wish we could using #[deriving()] on tuples
[13:55:59] <bjz> dbaupp: yeah
[13:56:01] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[13:56:22] <dbaupp> cmr: what do you mean?
[13:56:49] <jensnockert> bjz: I would first compare the first element, then the second, the third and so on.
[13:57:03] <bjz> dbaupp: I'm asking because I don't know why they aren't just doing self_a < other_b && self_b < other && ...
[13:57:34] <cmr> dbaupp: would sql!(select * from whatever) be doable. I don't really know the vocabular/theory to express what I am thinking
[13:57:52] <dbaupp> bjz: the #[deriving(Ord)] code goes `(a1 < b1) || (a1 == b1 && a2 < b2 || (a2 == b2 && a3 < b3 ...))`
[13:58:33] <bjz> ahh
[13:58:40] <dbaupp> bjz: what you've got there would mean that a thing is only less if every element is less, what i've got is "lexical ordering"... both are valid, I guess
[13:58:48] <bjz> ok
[13:59:01] <bjz> cool, thanks
[13:59:09] <dbaupp> (lexical ordering seems more useful for sorting etc though)
[13:59:18] <dbaupp> cmr: hmm
[13:59:22] <dbaupp> cmr: probably
[13:59:41] <bjz> dbaupp: trying to figure out how to macrofy it
[14:00:49] <dbaupp> bjz: macro_rules! m (() => { false }; (a, b, $(rest),*) => {a < b || (a == b && m!($(rest),*))};)
[14:01:07] <bjz> cheers
[14:01:09] <dbaupp> (that's basically what the deriving code does)
[14:01:44] <dbaupp> (but using all of rust is a slightly more powerful tool for building asts, so I'm not sure if that will actually work)
[14:03:35] <dbaupp> jensnockert: about %e
[14:03:45] <jensnockert> dbaupp: Yes?
[14:04:04] <dbaupp> aatch and I were/are rewriting fmt!, and the consensus seems to be to have as few specifiers as possible
[14:04:13] <dbaupp> i.e. ?, d, f and s
[14:04:27] <dbaupp> and using either newtype structs or flags to control the formatting
[14:04:47] <jensnockert> Sure.
[14:04:55] <dbaupp> (and, types could implement a .format_d method or .format_f method to overload their printing)
[14:04:58] <jensnockert> As long as the functionality is there, it seems alright.
[14:05:07] <dbaupp> cool :)
[14:05:14] <pyrac> dbaupp: just saw your message: thanks again for your help
[14:05:41] <dbaupp> pyrac: thanks for writing docs :)
[14:06:02] <EXetoC> meep meep
[14:06:31] <pyrac> dbaupp: it's quite fun actually. Next step understanding how to use ARC :)
[14:07:16] <cmr> pyrac: are you going in alphabetical order down the list? :)
[14:08:18] <dbaupp> hehe, `21 files changed, 984 insertions(+), 1630 deletions(-)`
[14:08:18] <pyrac> cmr: in fact i have my use for it : https://github.com/osaut/rustic_cells
[14:08:20] <bjz> dbaupp: https://gist.github.com/bjz/459f38bb2276ddd4525e
[14:08:28] <bjz> dbaupp: is that ok?
[14:08:34] <dbaupp> erm
[14:08:39] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[14:08:40] <dbaupp> does it work?
[14:08:58] <kimundi> jensnockert, strcat afaik ther is a good reason for float
[14:08:59] <bjz> heh
[14:09:15] <dbaupp> you can use --pretty expanded to get rustc to show you what it looks like after expansion
[14:09:25] <bjz> kimundi: https://github.com/mozilla/rust/issues/6592
[14:10:05] <dbaupp> bjz: also, using the operators is possibly more reliable than the methods, because of auto-derefencing
[14:10:16] <dbaupp> (it does strange things to types like & &int)
[14:10:24] <bjz> ok
[14:10:54] <dbaupp> rusti: #[deriving(TotalOrd)] struct A<'self>(&'self int); 1 
[14:10:56] -rusti- 1
[14:11:08] <dbaupp> hm, it works? yay
[14:11:50] <dbaupp> bjz: that looks fine
[14:14:02] *** Quits: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca) (Ping timeout)
[14:14:06] <EXetoC> kimundi: yeah? it is in D, but that's because it might be 80 bits or something. is a simple type definition going to be problematic when no hardware floats are available or something?
[14:14:13] <bjz> dbaupp: for the others, justy do this? https://github.com/mozilla/rust/blob/incoming/src/libcore/tuple.rs#L244
[14:14:31] <EXetoC> or maybe I misread the Rust reference
[14:14:32] <dbaupp> bjz: that seems to work, so yeah
[14:15:59] <kimundi> Made a comment onthe issue
[14:16:27] *** Joins: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca)
[14:17:14] *** Joins: novabyte (Instantbir@moz-A7154E60.mullvad.net)
[14:18:48] <bstrie> bjz: pong
[14:19:20] <dbaupp> at the moment all platforms define float to be f64: https://github.com/mozilla/rust/blob/incoming/src/librustc/driver/driver.rs#L488
[14:19:34] <bjz> bstrie: heh, too late!
[14:19:45] <bjz> bstrie: it has been sorted
[14:19:46] <bjz> :)
[14:19:51] <bstrie> good good
[14:20:02] <bstrie> because I have to go just now :)
[14:20:26] *** Quits: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca) (Ping timeout)
[14:27:20] <jensnockert> EXetoC: I cannot think of any common CPU platform that only supports f32 either tbh.
[14:27:24] *** Quits: novabyte (Instantbir@moz-A7154E60.mullvad.net) (Quit: bye bye)
[14:28:07] <strcat> or one where doubles are faster than floats - is there one?
[14:28:12] <strcat> definitely not x86
[14:28:41] <jensnockert> strcat: On x86 long floats are faster than both.
[14:28:56] <cmr> what's a long float?
[14:29:02] <strcat> jensnockert: only with legacy float support.
[14:29:03] <strcat> not with SSE
[14:29:05] <jensnockert> cmr: 80-bit on x87.
[14:29:07] <dbaupp> cmr: either 80 or 128 bits
[14:29:08] <cmr> oh
[14:29:09] <jensnockert> strcat: Yeah.
[14:29:26] <dbaupp> (could we get f128 support too? :) )
[14:29:39] <strcat> and 128-bit ints? ;p
[14:29:44] <jensnockert> dbaupp: Not really, but double-double should be easy to implement.
[14:29:58] <dbaupp> jensnockert: LLVM supports f128 :)
[14:30:06] <jensnockert> strcat: I have code for 128-bit ints laying around, should I make a pull-request?
[14:30:15] <strcat> dunno :)
[14:30:17] <dbaupp> strcat: apparently you can have (2^23-1)-bit ints
[14:30:22] <dbaupp> jensnockert: yes!
[14:30:23] <jensnockert> dbaupp: Yeah, but that is double-double.
[14:30:29] <dbaupp> jensnockert: oh, ok
[14:31:23] <dbaupp> also, I was reading up on this just before, apparently LLVM doesn't actually perform correct arithmetic on 128 bit ints on 32-bit platforms
[14:31:37] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[14:31:38] <strcat> dbaupp: yes they're essentially 64-bit only
[14:31:43] <jensnockert> dbaupp: Oh, it doesn't?
[14:31:46] <bstrie> jensnockert: iirc rust has already reserved f128 as an identifer for just such a purpose
[14:31:46] <strcat> clang/gcc only let you use them on x86_64
[14:31:49] <jensnockert> dbaupp: Then I don't have the code.
[14:31:55] *** kimundi is now known as zz_kimundi
[14:32:18] *** Joins: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca)
[14:32:42] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[14:32:46] <bstrie> honestly, as long as rust *does not* contain any type called "double", I will be content
[14:32:51] <dbaupp> jensnockert: http://markgritter.livejournal.com/705575.html
[14:32:55] <bstrie> irrational hatred for that name
[14:33:54] <jensnockert> dbaupp: Yeah, but he is using weird lengths, that doesn't count.
[14:34:16] <dbaupp> jensnockert: that was the most convenient link i could find
[14:34:28] <jensnockert> dbaupp: I'll research it a bit.
[14:34:44] <dbaupp> (there was a mailing list post that said > 2x pointer size isn't reliable, but I've lost it)
[14:35:08] <bstrie> strcat: looking at your pull, I see that you got rid of .first() presumably because you can just do .nth(0), would it make sense to also get rid of .last() and have .nth_from_end() ?
[14:35:28] <strcat> bstrie: I got first of .first() because it's just .next()
[14:35:40] <jensnockert> dbaupp: It apparently depends on compiler-rt to implement the operations.
[14:35:41] <strcat> bstrie: nth_from_end won't work - it doesn't know how long it is
[14:35:57] <bstrie> ok :)
[14:36:11] <bstrie> guess I'm still not in the iterator mindset
[14:36:31] <dbaupp> strcat: you could store a fifo of the most recent n to get nth_from_end
[14:36:47] <strcat> dbaupp: true
[14:37:33] <strcat> dbaupp: kind of an odd thing to do with an iterator though
[14:37:44] <EXetoC> or 1024 bit ints. gotta prepare for the future
[14:37:46] <dbaupp> strcat: yes
[14:37:50] <indutny> hey people
[14:38:02] <indutny> any objections against implementing ToJson for SmallIntMap?
[14:38:03] <strcat> last() is also somewhat of an odd thing to do ;p
[14:38:03] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[14:38:10] <dbaupp> indutny: no
[14:38:20] <indutny> also, something like to_list()
[14:38:23] <indutny> or to_vec() for smallintmap
[14:38:24] <strcat> indutny: could it just be implemented for the Map trait?
[14:38:26] <benh> I'm still thinking of iterators as lazy lists
[14:38:31] <indutny> strcat: I think so
[14:38:43] <benh> not sure how fruitful that is
[14:38:44] <indutny> ah, map_to_vec()
[14:38:54] <dbaupp> benh: that's not too bad
[14:38:57] <indutny> ah, that's not it
[14:39:15] <strcat> rusti: unsafe { libc::exit(1) }
[14:39:17] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/fVZS
[14:39:17] <indutny> ok, I also need .to_vec() for maps
[14:39:44] <benh> strcat: haha
[14:39:46] <indutny> if noone have any objections
[14:39:49] <indutny> I'll do it today
[14:39:53] <strcat> rusti: fn foo() { unsafe { libc::exit(1) } }; foo()
[14:39:55] <benh> strcat: what happened there?
[14:40:00] <strcat> benh: unreachable check
[14:40:15] <benh> ICE?
[14:40:18] <strcat> rusti: fn foo() { unsafe { libc::exit(1) } }; println("foo"); foo(); println("bar")
[14:40:19] -rusti- foo
[14:40:36] <strcat> rusti: fn foo() { unsafe { libc::exit(1) } }; println("foo"); foo(); println("bar")
[14:40:37] -rusti- foo
[14:40:46] <strcat> rusti: fn foo() { unsafe { libc::exit(1) } }; println("foo"); foo(); println("bar")
[14:40:46] <bjz> dbaupp: https://gist.github.com/bjz/459f38bb2276ddd4525e
[14:40:46] <LimeBurst> why is rusti noticing the whole channel?
[14:40:46] -rusti- foo
[14:40:49] *** zz_kimundi is now known as kimundi
[14:40:57] <benh> it's how bots communicate
[14:41:03] <strcat> LimeBurst: why is everyone PRIVMSG'ing the whole channel? ;p
[14:41:28] <mcpherrin> LimeBurst: It used to send regular messages but that was causing trouble in some other channel the bot lives in, apparently
[14:41:31] <strcat> heh exit() doesn't actually use the xit syscall
[14:41:34] <strcat> exit*
[14:41:40] <strcat> at least, it has a fallback...
[14:41:42] <LimeBurst> eh
[14:41:50] <dbaupp> bjz: is there something specific I should look at?
[14:41:53] <cmr> strcat: it can't, has to call finalizers.
[14:41:54] <bjz> dbaupp: is that refactoring ok?
[14:41:56] <LimeBurst> most clients show rusti's message in an annoying way
[14:41:57] <cmr> at least for libc
[14:41:59] <strcat> oh it uses exit_group!
[14:42:01] <bjz> dbaupp: the last one?
[14:42:08] <strcat> LimeBurst: "most" clients meaning irssi and what else?
[14:42:08] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[14:42:08] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/s9IpHw
[14:42:08] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[14:42:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[14:42:09] <ghrust> 01[13rust01] 15bors pushed 6 new commits to 06auto: 02http://git.io/hQ71hg
[14:42:09] <ghrust> 13rust/06auto 14a9c465c 15Daniel Micay: iterator: remove `first`...
[14:42:09] <ghrust> 13rust/06auto 14ea8a55b 15Daniel Micay: iterator: make nth and last return Option...
[14:42:09] <ghrust> 13rust/06auto 14883d583 15Daniel Micay: iterator: reuse iter::to_vec, and use &mut self
[14:42:11] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[14:42:17] <strcat> is there another?
[14:42:23] <LimeBurst> strcat: irccloud
[14:42:24] <jensnockert> strcat: LimeChat also, at least.
[14:42:26] <dbaupp> bjz: erm, no
[14:42:27] *** Quits: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca) (Ping timeout)
[14:42:33] <strcat> jensnockert: it pings you?
[14:42:38] <dbaupp> if other_a == self_a
[14:42:45] <jensnockert> strcat: No, but it shows up in a different colour.
[14:42:51] <strcat> jensnockert: well it's supposed to be like that ;p
[14:42:59] <benh> irssi doesn't flag the channnel as active when rusti responds, so I'm cool with that
[14:43:01] <bjz> dbaupp: yoiks
[14:43:12] <cmr> LimeBurst: http://tools.ietf.org/html/rfc1459.html#section-4.4.2
[14:43:12] <jensnockert> strcat: Oh, right. Silly me.
[14:43:28] <dbaupp> bjz: then if self_b > other_b, other is greater but lt returns true 
[14:43:32] <strcat> NOTICE is just PRIVMSG with automatic responses disallowed, freenode bots use it too
[14:43:37] <strcat> (the server ones)
[14:43:41] <strcat> like eir, I guess
[14:43:49] <bjz> dbaupp: I give up :(
[14:43:53] <strcat> rusti: fn foo() { unsafe { libc::exit(1) } }; println("foo"); foo(); println("bar")
[14:43:54] -rusti- foo
[14:43:56] <dbaupp> bjz: every second || should be a &&
[14:44:03] <bjz> ahh
[14:44:04] <dbaupp> (we are talking about the last thing?)
[14:44:08] <strcat> rusti: fn foo() { unsafe { libc::exit(1) } }; println("foo"); foo(); println("bar")
[14:44:10] <bjz> yah
[14:44:13] -rusti- foo
[14:44:14] -rusti- timed out after 5 seconds
[14:44:17] <strcat> ha
[14:44:21] <LimeBurst> yes i am aware of the rfc, but my opinion on priv-messaging the whole channel metaphor is representation
[14:44:40] <cmr> strcat: and by finalizers I mean atexit
[14:44:53] <dbaupp> bjz: is using ! < to avoid requiring == ?
[14:44:55] <strcat> cmr: well it does use the exit_group syscall
[14:45:02] <strcat> didn't realize they were different
[14:45:02] <bjz> dbaupp: yep
[14:45:13] <strcat> and apparently if exit_group fails it loops forever :)
[14:45:15] <dbaupp> bjz: ah... should Ord inherit from Eq?
[14:45:19] <cmr> that shouldn't be used either, not for libc::
[14:45:23] <strcat> dbaupp: no
[14:45:31] <dbaupp> oh, why?
[14:45:45] <strcat> dbaupp: TotalOrd should inherit from TotalEq (and does)
[14:45:48] <bjz> dbaupp: fixed https://gist.github.com/bjz/459f38bb2276ddd4525e
[14:45:53] <strcat> dbaupp: Ord/Eq aren't related
[14:46:44] <strcat> they're just the operator overloading traits and can be used for weak ordering
[14:46:51] <mcpherrin> LimeBurst: Did you have to do anything special to get an irccloud invite? I applied a few times on their homepage but never got one.
[14:47:12] <dbaupp> strcat: ah, I see
[14:47:16] <strcat> if you want a != b to imply a == b and a < b && !(b < a) to mean a == b, you want TotalOrd/TotalEq
[14:47:18] <mcpherrin> (Not to veer this channel too far offtopic)
[14:47:31] <LimeBurst> mcpherrin: if you need an invite pm me
[14:47:34] <strcat> because floats and SQL NULLs don't respect those rules (among other things)
[14:47:43] <dbaupp> strcat: so, what should we use for an Ord impl for tuples?
[14:48:07] <strcat> dbaupp: you can do it all with <
[14:48:14] <strcat> although you don't have to
[14:48:24] <dbaupp> strcat: is that the correct behaviour is what I'm asking?
[14:48:38] <strcat> dbaupp: not sure exactly what you're asking
[14:48:58] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[14:49:45] <dbaupp> if we want lexical ordering for tuples, e.g. (a,b) (c,d), is `a < c || (a == c && b < d)` or `a < c || (!(c < a) && b < d)` correct?
[14:49:46] <strcat> fn lt(...) { if a1 < b1 { true } else { a2 < b2 } }
[14:50:04] <strcat> dbaupp: what do you mean lexical ordering?
[14:50:07] <dbaupp> hm, that works too
[14:50:10] <strcat> you can use Ord to implement Ord for tuples
[14:50:21] <dbaupp> strcat: what you've got there is lexical ordering
[14:50:32] <strcat> Ord doesn't give you a strict order so you have to be careful not to make normal logical assumptions ;p
[14:50:45] <dbaupp> strcat: yep, that's why I'm asking ;P
[14:50:48] *** Joins: mimcpher (uid11663@moz-C944F5EC.irccloud.com)
[14:51:06] <dbaupp> bjz: strcat's if thing is probably best
[14:51:19] <strcat> dbaupp: well implementing each operator with the same operators is probably sanest
[14:51:28] <strcat> less thinking :)
[14:52:21] <mimcpher> rusti: 1
[14:52:22] -rusti- 1
[14:52:30] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[14:52:38] <bjz> strcat: this is the current implementation: https://github.com/mozilla/rust/blob/incoming/src/libcore/tuple.rs#L225
[14:52:54] <benh> rusti: "hi5"
[14:52:55] -rusti- "hi5"
[14:53:11] <mcpherrin> oh gosh, that really is annoying in irccloud
[14:53:31] <dbaupp> bjz: https://gist.github.com/huonw/b2e311e9134202938696
[14:54:17] <bjz> dbaupp: cool
[14:55:19] * dbaupp fixes the deriving(Ord) code
[14:55:46] <EXetoC> coming soon: variadics? :>
[14:57:06] <dbaupp> EXetoC: isn't foo(&[a as Foo, b as Foo, c as Foo]) essentially a typesafe/memorysafe variadic function?
[14:57:50] <SiegeLord> A nice macro for that is all that's needed as far as I'm concerned
[14:57:53] <bjz> dbaupp: :(
[14:58:01] <strcat> dbaupp: yes we don't really need variadic functions
[14:58:10] <strcat> the point of C ones is that the type information is somewhere else
[14:58:10] <bjz> dbaupp: ugly []
[14:58:19] <strcat> and variadic templates in C++ rely on SFINAE and function overloading
[14:58:19] <dbaupp> bjz: ?
[14:58:36] <bjz> foo(&[a as Foo, b as Foo, c as Foo])
[14:58:38] <EXetoC> I was being vague as always. I meant type parameters
[14:58:53] <dbaupp> bjz: oh
[14:58:56] <bjz> foo(a as Foo, b as Foo, c as Foo)  <- prettier
[14:59:29] <dbaupp> bjz: more macros! variadic!(foo, a, b, c, Foo)
[14:59:47] <bjz> dbaupp: what about for methods?
[15:00:25] <dbaupp> bjz: since it's a macro, variadic!(foo.f, a, b, c, Foo) could probably be coerced into working
[15:00:32] *** Joins: ion (ion@heh.fi)
[15:00:36] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[15:00:57] <bjz> dbaupp: but that is ugly
[15:01:05] <dbaupp> that is correct
[15:01:16] <bjz> dbaupp: the point of varargs it suger, isn't it?
[15:01:20] <bjz> *sugar
[15:01:42] <dbaupp> I'm sure there is a nicer macro-implementable syntax
[15:01:57] <bjz> so rust could see a function with a &[] at the end, and treat it as varags
[15:02:10] <strcat> it can't, really
[15:02:15] <strcat> varargs in C is nothing like &[T]
[15:02:28] <cmr> or in any other language I've used
[15:02:38] <bjz> oh, ha
[15:02:40] *** Joins: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca)
[15:02:41] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[15:02:42] <heftig> strcat: what kind of calling convention is rust using?
[15:02:45] <bjz> strcat: difference?
[15:02:47] <heftig> cleanup by caller?
[15:03:00] <cmr> bjz: non-homogenous
[15:03:14] <strcat> heftig: well right now it uses cdecl but it shouldn't be
[15:03:24] <bjz> cmr: how on earth does that work?
[15:03:25] <heftig> i guess using cleanup-by-callee would be better
[15:03:36] <cmr> bjz: in C? unsafely
[15:03:51] <strcat> heftig: LLVM has a fastcc ABI that's essentially just whatever they feel like that week ;p
[15:04:03] <strcat> but it's faster
[15:04:29] <strcat> it actually uses fastcc for functions it knows are internal
[15:04:35] <kimundi> couldn,t the [] approach use trait objects?
[15:04:40] <SiegeLord> C-like varargs are faster than &[], but I don't think it's that much faster
[15:04:52] <strcat> SiegeLord: it's entirely differently
[15:04:58] <strcat> it passes differently typed things
[15:05:06] <strcat> different*
[15:05:12] <strcat> things of all sizes
[15:05:14] <SiegeLord> I know the difference... I'm just saying of the practical implications
[15:05:49] <dbaupp> kimundi: you mean the &[] varargs thing?
[15:05:59] <strcat> SiegeLord: it's comparable to [T, ..5] then
[15:06:02] <kimundi> yes
[15:06:07] <strcat> by-value
[15:06:13] <dbaupp> kimundi: the `as Foo` was meant to be a trait object cast
[15:06:19] <dbaupp> (slightly mistyped though)
[15:06:47] <bjz> http://dlang.org/function.html#variadic
[15:07:07] <SiegeLord> I don't think by-value variadic functions are a good idea :P
[15:07:27] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Quit: Leaving)
[15:07:35] <strcat> SiegeLord: that's what C varargs is comparable to
[15:07:36] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[15:07:51] <SiegeLord> I know, and I don't think they are a good idea either 8)
[15:07:56] <kimundi> dbaupp:  yeah, using borrowed pointers that might be the closest type safe way
[15:08:21] <strcat> SiegeLord: passing by-value is much faster until you get to more than 32+ bytes
[15:08:34] <strcat> it shoves everything into registers
[15:08:55] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[15:09:07] <strcat> pointer indirection is slower until you're dealing with huge things
[15:09:18] <SiegeLord> Which is why I started with a speed comment :P
[15:09:23] <dbaupp> since we're talking about functions and arguments... default arguments would be nice too
[15:09:25] <SiegeLord> I don't think it's important, though
[15:09:27] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[15:09:37] <bjz> dbaupp: +!
[15:09:39] <bjz> +1
[15:09:41] <bjz> *
[15:09:42] <cmr> And optional arguments
[15:09:46] <SiegeLord> The price you pay for by value variadics is too much, in my opinion
[15:09:55] <dbaupp> (and on the topic of "default", default methods would also be quite nice ;) )
[15:09:58] <cmr> And specifying argument names in call.
[15:10:13] <bjz> dbaupp: graydon was looking into it today
[15:10:19] <dbaupp> cmr: I think default arguments are optional arguments (?)
[15:10:27] <dbaupp> bjz: default methods?
[15:10:34] <heftig> dbaupp: in traits
[15:10:36] <bjz> dbaupp: ayw
[15:10:38] <dbaupp> :D
[15:10:40] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[15:10:47] <strcat> dbaupp: they exist, they just don't work at all
[15:10:47] <dbaupp> rust-buildbot: dance
[15:10:49] <rust-buildbot> <(^.^<)
[15:10:50] <rust-buildbot> <(^.^)>
[15:10:51] <rust-buildbot> (>^.^)>
[15:10:52] <rust-buildbot> (7^.^)7
[15:10:53] <rust-buildbot> (>^.^<)
[15:11:43] <dbaupp> strcat: yeah, I know... I go :( every time I come back and check to see if they work yet
[15:11:55] <EXetoC> is anything set in stone regarding named parameters?
[15:11:57] *** kimundi is now known as zz_kimundi
[15:12:12] <cmr> dbaupp: might be
[15:12:20] <strcat> EXetoC: named parameters aren't very fun without dynamic typing...
[15:12:28] <strcat> it's much easier to just make wrapper fns
[15:12:30] <strcat> and faster
[15:13:11] *** zz_kimundi is now known as kimundi
[15:13:22] <kimundi> foo(a, b, vari!(Foo : c, d, e, f, g)) -> foo(a, b, &[&c as &Foo, ...])
[15:14:12] <EXetoC> strcat: I meant being able to specify parameter names at the call site
[15:14:42] <strcat> EXetoC: oh. I thought you meant optional parameters set with names at the call site
[15:15:20] <bjz> strcat: see, can't all these things be treated as sugar?
[15:15:20] <SiegeLord> kimundi, That looks pretty sweet
[15:15:33] <strcat> bjz: it's sugar for slow code ;p
[15:15:40] *** Joins: blitter (blitter@moz-7C98731E.dyn.centurytel.net)
[15:15:44] <bjz> :(
[15:16:07] <strcat> unless you don't want to think about the 12 branches for your 12 optional args
[15:16:08] <bjz> heh
[15:16:28] <dbaupp> strcat: can't this all be resolved at compile time?
[15:16:36] <bjz> that's what I mean
[15:16:38] <strcat> dbaupp: not really.... it's automatically generated logic
[15:16:46] <cmr> why would it be?
[15:16:46] <bjz> sugar at compile time
[15:16:50] <cmr> Say you have
[15:17:13] <cmr> fn bar(a: int = 10);
[15:17:20] <strcat> cmr: talking about optional args
[15:17:25] <strcat> default args are sane
[15:17:31] <cmr> oh
[15:17:42] <cmr> well optional are fine
[15:17:45] <bjz> oh
[15:17:48] <cmr> just use Option<T> :p
[15:18:05] <cmr> but we already have that
[15:18:14] <dbaupp> strcat: surely optional args can just be default args with an Option sugared around them?
[15:18:18] <cmr> default args of Option<T> with default of None are equivalent to None
[15:18:31] <strcat> dbaupp: and taking Option as parameters is a slow anti-pattern... :(
[15:18:35] <cmr> I don't think sugar is good for that, it does hide slowness
[15:18:39] <strcat> bad thing to encode into the language
[15:18:49] <bjz> strcat: agreed on that
[15:18:50] <strcat> is
[15:18:55] <strcat> foo(Some(a), Some(b), None)
[15:18:58] <strcat> really easier than
[15:19:08] <strcat> foo_mode(a, b)
[15:19:09] <dbaupp> strcat: hm, actually.. yeah, doubles the size of ints etc
[15:19:16] <strcat> dbaupp: yes and each parameter requires a branch
[15:19:28] <strcat> and you have to somehow turn the parameters into flags or whatever
[15:19:51] <strcat> default arguments are just sugar for function calls
[15:20:22] <cmr> I'd be content without optional args
[15:20:42] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:21:19] <strcat> you can still make a default arg x = None but at least then you're thinking about what a horrible thing it is ;p
[15:22:19] <cmr> strcat: alternatively, the compiler could output N! variants of the function, each with different sets of optional args ;)
[15:23:10] <cmr> speaking of
[15:23:22] <cmr> Had a thought last night: are huge symbol names a performance burden at all?
[15:23:32] <strcat> cmr: yes they make startup time slow
[15:23:37] <strcat> doesn't matter at runtime
[15:23:48] <dbaupp> hmm, is a patch that quadruples expansion time, but kills a triplication of functionality (and streamlines it) worth it?
[15:24:20] <cmr> strcat: that's what I thought, thanks
[15:24:23] <strcat> cmr: bfd (the gnu linker) and gold do all sorts of optimizations
[15:24:30] <cmr> right
[15:24:30] <strcat> rust doesn't turn them on though :(
[15:24:36] <strcat> needs -Wl,-O1
[15:24:41] <cmr> wasn't there a patch for it?
[15:24:50] <strcat> cmr: yeah but I backed it out and just sent through the other commit
[15:24:57] <strcat> OS X linker is missing that parameter
[15:25:14] <cmr> Shame
[15:25:22] <strcat> can just make it not do it on OS X
[15:26:08] <cmr> how's lld progressing?
[15:26:14] * strcat wonders how many more syscalls can be disabled
[15:28:09] <strcat> rusti: 5
[15:28:10] -rusti- 5
[15:30:36] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[15:30:58] *** Joins: igl (igl@moz-BFEB022D.adsl.alicedsl.de)
[15:31:18] <EXetoC> would create_window(w: 100, h: 100, fullscreen: true) require additional backtracking?
[15:34:36] <EXetoC> I'm not sure how often I'd need such a feature, but defining new newtype structs instead isn't always so bad
[15:34:48] *** kimundi is now known as zz_kimundi
[15:35:12] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[15:38:58] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[15:40:06] <strcat> rusti: core::run::run_program("mkdir", [~"foo"])
[15:40:07] -rusti- mkdir: cannot create directory 'foo': File exists
[15:40:07] -rusti- 1
[15:40:13] <strcat> rusti: core::run::run_program("mkdir", [~"bar"])
[15:40:14] -rusti- 0
[15:40:27] <strcat> rusti: core::run::run_program("mkdir", [~"bar"])
[15:40:28] -rusti- mkdir: cannot create directory 'bar': Too many links
[15:40:28] -rusti- 1
[15:40:46] <strcat> seccomp is just weird.
[15:41:09] * strcat should just set it to kill the process ;p
[15:41:49] <tiffany> I sure hope that's running in a chroot o.o
[15:41:57] <cmr> container
[15:42:37] <strcat> rusti: core::run::run_program("ps", [~"ax"]);
[15:42:38] -rusti- rust: task failed at 'failure in execvp: No such file or directory', /build/rust-incoming-git/src/rust/src/libcore/run.rs:418
[15:42:38] -rusti- rust: domain main @0x17d91b0 root task failed
[15:42:46] <strcat> oh 
[15:42:51] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[15:42:52] <strcat> rusti: core::run::run_program("ls", [~"/proc"]);
[15:42:53] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/WJeK
[15:42:57] <strcat> close enough ;p
[15:43:07] <strcat> rusti: core::run::run_program("ls", [~"/dev"]);
[15:43:07] -rusti- null
[15:43:08] -rusti- random
[15:43:08] -rusti- shm
[15:43:08] -rusti- urandom
[15:44:09] <cmr> strcat: btw, rusti should have a bit smarter rate limiting. it should only send x lines / unit time, and pastebin a result if it's longer than a line if over that limit. prevents:
[15:44:17] <cmr> rusti: 4.times { println("foo") }
[15:44:18] -rusti- foo.rs:5:17: 5:18 error: expected `;` or `}` after expression but found `{`
[15:44:18] -rusti- foo.rs:5          4.times { println("foo") }
[15:44:18] -rusti-                           ^
[15:44:18] <cmr> rusti: 4.times { println("foo") }
[15:44:19] -rusti- foo.rs:5:17: 5:18 error: expected `;` or `}` after expression but found `{`
[15:44:19] -rusti- foo.rs:5          4.times { println("foo") }
[15:44:20] -rusti-                           ^
[15:44:27] <cmr> well
[15:45:04] <strcat> someone still has to spam commands at it to make it spam
[15:45:16] <cmr> right, but it can be unintential
[15:45:22] <strcat> how? ;p
[15:45:49] <cmr> it's happed taht the channel got a +m because someone had a bug but fixed it too fast
[15:46:01] <cmr> (what happened to my spelling...)
[15:46:19] <strcat> well I don't know what rate limit irc.mozilla.org uses
[15:50:23] *** zz_kimundi is now known as kimundi
[15:52:56] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[15:53:59] <cmr> hey, rusti actually works now!
[15:54:06] <cmr> rusti-the-program
[15:54:20] <cmr> acrichto: was that your threadsafe llvm change?
[15:55:41] <dbaupp> wow, it does! awesome!
[15:57:25] <cmr> rusti: let x; let y: float = rand::random(); if y > 0.5 { x = 2} else { x = 1} println(x.to_str())
[15:57:28] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/UZVI
[15:57:55] <cmr> rusti: let x: u8; let y: float = rand::random(); if y > 0.5 { x = 2} else { x = 1} println(x.to_str())
[15:57:57] -rusti- 2
[15:58:06] <cmr> rusti: let x: u8; let y: float = rand::random(); if y > 0.5 { x = 2} else { x = 1} x = 5; println(x.to_str())
[15:58:09] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ZOXf
[15:58:14] <cmr> sweet :)
[15:58:25] *** Quits: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net) (Ping timeout)
[15:59:33] <heftig> rusti: if rand::random() > 0.5 { 1 } else { 0 }
[15:59:35] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/CJPK
[15:59:47] <heftig> rusti: if rand::random::<float>() > 0.5 { 1 } else { 0 }
[15:59:48] -rusti- 1
[15:59:51] <heftig> rusti: if rand::random::<float>() > 0.5 { 1 } else { 0 }
[15:59:52] -rusti- 1
[16:00:41] <heftig> rusti: if rand::random<float>() > 0.5 { 1 } else { 0 }
[16:00:43] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/FIBR
[16:00:59] <heftig> hm, i wonder why that syntax isn't possible
[16:01:07] <cmr> rusti: let x: u8; let y: float = rand::random(); if y > 0.5 { x = 2} else { fail!("uhoh") } println(x.to_str())
[16:01:09] -rusti- rust: task failed at 'uhoh', foo.rs:4
[16:01:22] <cmr> even sweeter
[16:03:08] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[16:03:34] <strcat> rusti: let i = 5; 2 < i > false
[16:03:35] -rusti- true
[16:03:48] <strcat> rusti: let a = 2; let i = 5; a < i > false
[16:03:48] -rusti- true
[16:03:50] <cmr> rusti: 2 > false
[16:03:51] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/HWYQ
[16:03:57] <strcat> heftig: ^ gets pretty ambiguous if you allow it
[16:04:08] <cmr> oh right, a < i -> bool
[16:04:50] <cmr> https://gist.github.com/cmr/5604870
[16:04:51] *** Quits: mcpherrin (mimcpher@moz-21D6B3DE.csclub.uwaterloo.ca) (Quit: leaving)
[16:04:58] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[16:05:24] <strcat> assert_eq moves though
[16:05:29] <strcat> it's messed up
[16:05:49] <strcat> rusti: let x = ~[1, 2]; let y = x.clone(); x == y; x
[16:05:51] -rusti- ~[1, 2]
[16:05:51] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[16:05:59] <strcat> rusti: let x = ~[1, 2]; let y = x.clone(); assert!(x == y); x
[16:06:00] -rusti- ~[1, 2]
[16:06:05] <strcat> rusti: let x = ~[1, 2]; let y = x.clone(); assert_eq!(x, y); x
[16:06:07] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/UNVX
[16:06:12] <cmr> oh, blech
[16:06:27] <strcat> would be nice to fix it
[16:06:29] <strcat> I guess
[16:06:34] <strcat> but it might be a general macro issue
[16:09:26] <cmr> rusti: copy 2
[16:09:28] -rusti- 2
[16:09:32] <cmr> rusti: copy 2 == 3
[16:09:33] -rusti- false
[16:09:35] <cmr> hm
[16:09:48] <cmr> Would using copy $given and copy $expected work?
[16:10:13] <strcat> cmr: well, .clone()
[16:10:17] <strcat> but not everything is cloneable
[16:10:35] <cmr> rusti: 2.clone()
[16:10:37] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/FjSH
[16:10:52] <strcat> cmr: 'copy' is deprecated
[16:10:57] <cmr> oh ok
[16:11:06] <strcat> Copy might go away too but at the very least str/vec won't be Copy
[16:11:59] <cmr> is there a way to turn asserts off, or is one planned? copying in every assert_eq seems heavy otherwise
[16:13:40] <strcat> cmr: it's too late to do that
[16:13:46] <strcat> they're used to enforce preconditions, etc.
[16:13:52] <strcat> you really don't want to add a bunch of copies :(
[16:14:09] <cmr> ugh. I really don't want assertions in my release builds either :(
[16:14:32] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[16:14:35] <strcat> cmr: well they aren't meant to be compiled out, there can be another form of them for debugging 
[16:15:14] <strcat> they're just a lazy way of doing if !x { fail!() }
[16:16:38] <cmr> strcat: it seems to not be much of a problem, at least not in rustc
[16:19:49] *** kimundi is now known as zz_kimundi
[16:22:10] *** Quits: erick (erick@E1304535.2A7189BF.BE19388.IP) (Ping timeout)
[16:22:39] *** zz_kimundi is now known as kimundi
[16:23:43] <EXetoC> keeping fail_unless, and prepending #[cfg(assert)] or something to assert macros would've been nice
[16:24:59] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.0)
[16:28:05] *** Joins: strmpnk (strmpnk@moz-49D42D15.c.ircrelay.com)
[16:30:47] <cmr> hm
[16:30:59] <cmr> maybe debug!() if, given only a single expr, could fill that purpose?
[16:31:24] <cmr> not really competent with macros
[16:32:13] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[16:33:46] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[16:33:47] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[16:35:06] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[16:35:33] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[16:35:57] *** Joins: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca)
[16:45:28] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[16:46:11] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[16:47:33] *** Joins: ysuzuki (ysuzuki@moz-60FA9D06.net119083145.t-com.ne.jp)
[16:47:49] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[16:53:22] <cmr> Syntax extensions are expanded even in blocks not-compiled due to the attributes applied to them. Potential performance win?
[16:54:31] <jensnockert> cmr: It would make sense not to expand them there.
[16:54:53] <cmr> Although...
[16:55:18] <jensnockert> rust_stack and fixed_stack_segment, can they be combined?
[16:55:34] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[16:55:38] <cmr> That could leave potential bugs hiding that can be detected, but you never find them due to never testing that particular cfg.
[16:55:47] <cmr> Which isn't worth it, imo
[16:56:37] <jensnockert> cmr: Yeah, but if you don't test a specific cfg, then you cannot really expect it to work.
[16:57:15] <cmr> jensnockert: yes, but it reduces the number of potential bugs you don't know about
[16:58:44] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[17:01:20] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[17:02:19] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[17:04:44] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[17:06:26] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[17:13:43] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[17:15:40] <benh> Is there a way to regenerate the API docs without rebuilding everything?
[17:16:22] <cmr> benh: make docs
[17:17:21] <benh> I swear that didn't do anything when I tried last night :(
[17:17:47] <bjz> heh
[17:17:57] <bjz> benh: did it work now?
[17:17:59] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[17:18:07] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:18:14] <benh> I don't know because I just noticed I'm still running a regular make that I started before I went to the store :)
[17:18:22] <bjz> benh: https://github.com/mozilla/rust/wiki/Note-testsuite
[17:18:54] *** Quits: akashj87_ (akash@BCF05A12.F09595B1.35E3DDC8.IP) (Quit: Leaving)
[17:19:20] <bjz> doesn't actually mention 'make docs' though
[17:21:08] <benh> > The simplest way to use rustdoc is by just passing it the crate file to document, rustdoc core.rc. This will output html documentation in the current directory.
[17:21:11] <benh> that probably helps me
[17:22:00] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[17:23:58] *** kimundi is now known as zz_kimundi
[17:25:31] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[17:29:38] *** Quits: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[17:29:38] <benh> http://static.rust-lang.org/doc/core/task.html#enum-schedmode the second paragraph of the docs for PlatformThread breaks out of the list and then the rest of the variant docs get merged into that paragraph instead of being list items, and I can't figure out how to get it to format as intended
[17:30:49] <benh> https://github.com/mozilla/rust/blob/incoming/src/libcore/task/mod.rs#L91 etc
[17:32:50] <benh> I'm not sure I can figure out how to make pandoc accept multiple paragraphs as list items in the first place
[17:33:00] *** Joins: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca)
[17:33:34] <cmr> what is the input format?
[17:33:53] <cmr> markdown, duh
[17:34:00] <benh> rustdoc reads doc-comments and generates a markdown document and feeds it to pandoc
[17:34:02] <benh> from what I can tell
[17:34:17] <benh> at least it has an option to set the pandoc binary ;)
[17:34:47] <cmr> according to http://daringfireball.net/projects/markdown/syntax, "List items may consist of multiple paragraphs. Each subsequent paragraph in a list item must be indented by either 4 spaces or one tab:"
[17:34:55] <benh> ah
[17:35:02] <benh> i indented them to align :v
[17:35:16] <benh> I was just getting there too!
[17:36:51] <cmr> only the first line needs to be indented, according to the spec
[17:36:57] <cmr> no idea if pandoc follows it :)
[17:37:08] <mcpherrin> pandoc has a lot more features than the basic markdown
[17:37:29] <benh> It's awkward that all the other <li>s get no <p> tags but this one does
[17:37:40] <benh> I wonder if the right thing wouldn't be to generate them all the time...
[17:45:09] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[17:45:57] *** Joins: RagingDave (RagingDave@moz-31410B48.pools.arcor-ip.net)
[17:47:35] <cmr> Is there a way to "un-move" something?
[17:48:03] <cmr> assert_eq moves, but I'd like that to be transparent, if possible.
[17:48:41] <cmr> specifically, "use of moved value" errors after an assert_eq!()
[17:49:15] <benh> compare borrowed pointers?
[17:50:33] <cmr> rusti: &(1 + 3)
[17:52:23] *** Joins: gareth0 (gareth0@moz-76AC9022.dynamic.dsl.as9105.com)
[17:52:42] <benh> so it turns out editing doc comments while running make && su -c make\ install was a bad idea, and now root is rebuilding the entire thing again :(
[17:52:48] <cmr> yup
[17:53:32] <cmr> probably falls under the umbrella of https://github.com/mozilla/rust/issues/6522
[17:55:40] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:55:41] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:55:45] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Quit: Leaving)
[17:56:06] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:57:26] <heftig> could rust be built using tup?
[17:57:31] *** zz_kimundi is now known as kimundi
[17:57:43] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[17:57:45] <cmr> maybe
[17:57:57] <cmr> anything is probably better than the current mess of makefiles
[17:58:25] <cmr> would it help, though?
[17:58:52] <cmr> part of the problem is that the crates in rust are huge, and take a long time to compile.
[17:58:57] <cmr> in fact, that's the whole problem :)
[18:00:13] <heftig> well, i guess it can only be cleanly solved by putting tests into separate files
[18:01:59] <kimundi> well, it is planned to port the makefiles to rustpkg, so...
[18:03:18] <kimundi> kinda unnecessary to port to tup in the meantime
[18:04:20] <heftig> i really like tup's dependency autodetection
[18:06:54] <kimundi> but rust isn't incremental compilable, so that wouldn't do much
[18:12:14] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:12:15] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142caada3 to 143a323c1: 02http://git.io/N3iJvQ
[18:12:15] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:12:19] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:12:19] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Eh_lIg
[18:12:19] <ghrust> 13rust/06auto 142386988 15Brian Anderson: rt: Release big stacks immediately after use to avoid holding on to them through yields...
[18:12:19] <ghrust> 13rust/06auto 14260f160 15bors: auto merge of #6581 : brson/rust/stack, r=pcwalton...
[18:12:20] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:13:33] *** Joins: ercan (ercan@moz-D4CF4859.dyn.optonline.net)
[18:14:00] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[18:14:52] <ercan> hi, I'm trying to compile simple-web-server from https://github.com/schaars/simple-web-server and getting an error with core::unstable::Exclusive. What is the easiest way of finding things that moved around?
[18:15:45] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[18:18:07] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[18:18:21] <engla> git log --grep Exclusive  finds commit ad5bfd600d1611c9d1bb933a383d0db2fa0ee7bf where it moved
[18:18:25] <cmr> ercan: looks like it was written for an older version of rust (maybe 0.5?). it's been moved to core::unstable::sync::Exclusive.
[18:20:05] <ercan> engla: thank you
[18:20:27] *** Joins: Nisstyre (wes@moz-FD86289.netflash.net)
[18:20:50] <ercan> cmr: thanks, yeah seems like broken atm.
[18:22:12] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[18:23:39] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[18:25:07] *** Joins: fabiand (fabiand@moz-C1F5D916.adsl.alicedsl.de)
[18:25:09] <fabiand> hey
[18:25:18] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[18:25:18] <fabiand> could it be that rust-lang.org down is?
[18:25:26] <cmr> fabiand: wfm
[18:25:26] <bjz> ack: mismatched types: expected `&&'static str` but found `&~str`
[18:25:33] <fabiand> ah no ... works now ..
[18:25:38] <fabiand> cmr, I got "unknown domain: â¦"
[18:25:58] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[18:26:06] <fabiand> good evening :)
[18:26:10] *** Quits: fabiand (fabiand@moz-C1F5D916.adsl.alicedsl.de) (Quit: Verlassend)
[18:28:08] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[18:31:07] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[18:35:25] *** Quits: ercan (ercan@moz-D4CF4859.dyn.optonline.net) (Quit: WeeChat 0.4.0)
[18:36:05] <Jeaye> Trying to derive from Clone, but I'm getting an interesting error: https://gist.github.com/Jeaye/45b56b0637b4b00d295b
[18:38:29] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:38:35] *** Quits: RMF (RMF@moz-D471E70.dsl.telepac.pt) (Ping timeout)
[18:40:45] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Computer has gone to sleep.)
[18:41:57] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:41:58] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:42:11] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:42:11] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14260f160 to 143a323c1: 02http://git.io/N3iJvQ
[18:42:11] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:42:14] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:42:15] <ghrust> 01[13rust01] 15bors pushed 58 new commits to 06auto: 02http://git.io/i49ygw
[18:42:15] <ghrust> 13rust/06auto 1434be071 15Brian Anderson: core::rt: Remove Close trait...
[18:42:15] <ghrust> 13rust/06auto 140b4d4ed 15Brian Anderson: core::rt: Fix a warning about unnecessary mutable variable
[18:42:15] <ghrust> 13rust/06auto 14b2fbd34 15Brian Anderson: core::rt: Begin implementing TcpStream...
[18:42:17] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:42:22] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:42:22] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:42:47] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:42:48] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:42:54] *** Joins: RMF (RMF@F30672EE.23449D61.70C1DD3E.IP)
[18:43:12] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:43:12] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:43:18] *** Quits: dobkeratops (walter@moz-D6181ADF.range81-151.btcentralplus.com) (Ping timeout)
[18:43:36] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:43:36] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:43:38] *** Joins: dobkeratops (walter@moz-19EDB75F.range86-166.btcentralplus.com)
[18:44:00] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:44:01] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:44:25] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:44:25] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:44:49] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:44:50] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:45:15] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:45:15] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:45:40] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:45:41] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:46:05] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:46:06] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:46:30] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:46:31] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:46:54] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:46:55] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:47:03] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: Lost terminal)
[18:47:20] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:47:21] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:47:47] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:47:47] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:48:11] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:49:47] <engla> who is thestinger?
[18:49:51] <engla> on irc
[18:50:06] <cmr> strcat
[18:50:13] <engla> aha
[18:50:24] <EXetoC> string cat!
[18:50:28] <EXetoC> meow
[18:58:19] <Yurume> isn't strcat a strong cat? *wink*
[19:00:50] *** Joins: smerft (Mibbit@500F649C.31804B8C.A3D1B221.IP)
[19:00:59] <cmr> in librustdoc/config.rs:268 there's the lines:
[19:01:02] <cmr> output_format: PandocHtml,
[19:01:04] <cmr> .. default_config(&Path("test"))
[19:01:06] <cmr> what does that mean?
[19:01:32] <cmr> (it's in struct initialization
[19:01:58] *** Quits: smerft (Mibbit@500F649C.31804B8C.A3D1B221.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:02:17] <EXetoC> struct initialization? :p
[19:02:44] <cmr> well I mean specifically the .. syntax
[19:02:46] <bjz> ugh, how does one do ~str -> &str again?
[19:03:14] <bjz> s.slice(0,s.len()) is the best I can do
[19:04:13] <EXetoC> cmr: I can't remember seeing it outside of array literals/definitions ([int, ..42])
[19:04:19] <Luqman> cmr: it'll fill in the rest of the fields from a given "base" struct, in this case the one returned by default_confi
[19:04:37] <cmr> Luqman: huh, neato.
[19:04:46] <mcpherrin> bjz: Why? I can't think of a place where a ~ won't do but a & referring to one will
[19:04:50] *** Joins: uvtc (uvtc@moz-DA4AEF0A.dyn.optonline.net)
[19:04:51] <cmr> Is this runtime or compiletime?
[19:05:30] <bjz> mismatched types: expected `&&'static str` but found `~str`
[19:05:37] <EXetoC> Luqman: is it present in the manual?
[19:05:45] <bjz> wait
[19:05:51] <bjz> wrong error
[19:05:51] <mcpherrin> bjz: oh, but then I think you need something 'static and a ~ won't do anyways
[19:05:54] <bjz> mismatched types: expected `&&'static str` but found `&~str
[19:06:07] <uvtc> Is it currently reasonably possible to use Rust to create GTK+ gui apps? If so, could someone please point me in the right direction?
[19:06:33] <mcpherrin> uvtc: I don't know if there's wrappers, but it should be possible to call the C api
[19:06:35] <cmr> uvtc: https://github.com/mzabaluev/grust
[19:06:42] <bjz> mcpherrin: I have a constant pub static SUPPORTED_TERMS: &'static [&'static str] = &[ .... ];
[19:06:52] <cmr> uvtc: if that doesn't work, yeah, you can call the C api
[19:06:54] <Luqman> EXetoC: yep, in "7.2.4 Structure expressions"
[19:06:55] <bjz> mcpherrin: SUPPORTED_TERMS.contains(&env.slice(0,env.len()))
[19:07:18] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[19:07:18] <uvtc> Thanks. Will have a look at grust. :)
[19:07:21] <uvtc> cmr: ^^
[19:07:30] <bjz> mcpherrin: SUPPORTED_TERMS.contains(env) wouldn't do it
[19:07:35] <uvtc> Thanks also, mcpherrin 
[19:07:58] <EXetoC> Luqman: thanks
[19:08:12] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[19:08:22] <bjz> rusti: static SUPPORTED_TERMS: &'static [&'static str] = &[ "xterm" ]; SUPPORTED_TERMS
[19:08:26] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[19:08:57] <bjz> rusti: let SUPPORTED_TERMS = &[ "xterm" ]; SUPPORTED_TERMS
[19:09:10] *** Parts: uvtc (uvtc@moz-DA4AEF0A.dyn.optonline.net) (Leaving)
[19:09:14] <bjz> rusti: 1
[19:09:23] <bjz> -_-
[19:09:27] *** Quits: DasIch (dasich@moz-756B08B1.clients.your-server.de) (Ping timeout)
[19:09:34] <steven_is_false> Hey, isn't ~fn () for the type of launched threads overly restrictive? Any thread which is launched is only ever used once so it could be a use once function. Can ~fns be implicitly converted to use once functions though?
[19:09:50] *** Joins: DasIch (DasIch@moz-7447F66F.dip0.t-ipconnect.de)
[19:09:52] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[19:11:15] <gareth0> r? https://github.com/mozilla/rust/pull/6433
[19:11:31] <bjz> rusti: let SUPPORTED_TERMS = &[ "xterm" ]; SUPPORTED_TERMS
[19:12:03] <cmr> bjz: is this for std::term?
[19:12:03] <gareth0> @brson already r+ it but then i had to rebase... though strangely github has removed some of the comments
[19:12:13] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[19:12:22] <cmr> gareth0: it removed the comments that were on the commit, that no longer exists
[19:12:49] <gareth0> cmr, i see. that kind of makes sense
[19:13:13] <cmr> rebases take a diff introduced by a commit and apply that same diff on top of anotehr commit, creating a new commit
[19:14:00] <gareth0> yup
[19:14:09] <gareth0> would be nice if github was smarter though
[19:14:15] <cmr> yeah :(
[19:15:16] *** Quits: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[19:15:55] <bjz> cmr: yah
[19:16:09] <bjz> cmr: just doing some minor modernisations
[19:16:20] <bjz> cmr: nothing dramatic
[19:16:43] <cmr> bjz: don't spend too much effort; I'm going to be rewriting it to use terminfo where it is available.
[19:16:58] *** Joins: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr)
[19:17:01] <bjz> cmr: terminfo?
[19:17:06] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[19:17:26] <EXetoC> lib/database
[19:17:37] <cmr> https://github.com/mozilla/rust/pull/6453, linux.die.net/man/5/terminfo
[19:17:40] <bjz> cmr: will it be in rust?
[19:18:05] <cmr> bjz: will what be?
[19:18:09] <bjz> or is that  C library?
[19:18:30] <cmr> it's a database and database format specifing the capabilities and escape codes specific to a terminal
[19:18:41] <bjz> ahh
[19:19:05] <cmr> I'm writing a parser for the compiled, binary format
[19:19:14] <bjz> nice
[19:19:38] <bjz> (sorry for being a dunce)
[19:19:44] <cmr> (it's ok :)
[19:19:59] <bjz> I was worried about another C dependency
[19:20:17] <cmr> the only C library I could find had an incompatible license and wasn't that great to use
[19:20:38] <cmr> and I don't want to depend on a curses implementatino
[19:20:42] * bjz would love it if we could decouple from cmath
[19:21:14] <bjz> (and only depend on intrinsics/rust code)
[19:21:36] <bjz> cmr: yeah I'll leave it then
[19:21:57] <bjz> cmr: it's pretty exciting, keep us posted!
[19:22:41] <cmr> bjz: mind looking at https://github.com/cmr/terminfo-rs/tree/wip and telling me what I need to do to terminfo.rc to get parser::binary to work? :)
[19:22:55] <cmr> currently I get:
[19:22:57] <cmr> terminfo.rc:15:8: 15:14 error: error opening parser.rs
[19:22:59] <cmr> terminfo.rc:15 pub mod parser;
[19:23:57] <bjz> cmr: well, when it sees "pub mod parser;" it looks for parser.rs
[19:24:11] <bjz> (it's annoying!)
[19:24:31] <cmr> Do I need a dummy parser.rs?
[19:24:48] <bjz> look at the imports in core.rc as a guide
[19:25:17] <bjz> eg: #[path = "num/num.rs"] pub mod num;
[19:25:37] <bjz> I wish there was a better way
[19:25:43] <cmr> I saw that, but I want the module name itself to be parser::binary. Is it possible?
[19:25:46] <bjz> very much seems like a wart to me
[19:25:55] <cmr> (I also plan to add parser::text, for the source format)
[19:26:30] <bjz> pub mod parser { #[path = "parser/text.rs"] pub mod text;} ?
[19:27:05] <bjz> or you could have a parser.rs in ./parser
[19:27:36] <cmr> oh!
[19:27:37] <bjz> in your main file: #[path = "parser/parser.rs"] pub mod parser;
[19:27:45] <cmr> pub mod parser { pub mod binary; }
[19:27:47] <cmr> that did it
[19:27:50] <bjz> and in parser.rs: pub mod text;
[19:27:55] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:27:56] <bjz> oh, it did?
[19:27:58] <bjz> nice
[19:27:59] <cmr> yeah
[19:28:58] <cmr> and... I get an ICE
[19:29:02] <cmr> :p
[19:29:08] <cmr> bjz: thanks <3
[19:29:29] <bjz> YAY!
[19:29:37] <bjz> ICE to meet you!
[19:29:50] <cmr> ssbr: the hypothesis of not being able to make a new source file without getting an ICE seems to be accurate...
[19:32:11] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[19:33:56] *** Quits: gareth0 (gareth0@moz-76AC9022.dynamic.dsl.as9105.com) (Quit: Leaving)
[19:34:56] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[19:35:51] *** Joins: engla_ (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[19:36:45] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[19:36:57] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[19:38:29] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[19:38:33] *** kimundi is now known as zz_kimundi
[19:38:39] *** Joins: fabiand (fabiand@moz-C1F5D916.adsl.alicedsl.de)
[19:40:11] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[19:40:11] *** ChanServ sets mode: +o brson
[19:43:40] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[19:43:48] *** Joins: doomlord (doomlod@moz-19EDB75F.range86-166.btcentralplus.com)
[19:44:09] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[19:45:50] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[19:47:20] *** Quits: goldfeld (Mibbit@522FEE1A.1C1B4381.5FA960DF.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:48:25] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Ping timeout)
[19:50:42] *** Joins: cdidd (cdidd@moz-D35F2B1E.broadband.corbina.ru)
[19:51:16] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[19:53:07] *** Joins: eholk_ (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[19:53:11] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Ping timeout)
[19:53:53] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Ping timeout)
[19:53:53] *** eholk_ is now known as eholk
[19:55:41] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Ping timeout)
[19:56:59] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[19:57:19] <doomlord> another hacky idea for fudging macros - what about hardcoding a mod self {..... } where self just puts everything in the outer module (to hack multi-statement macros)
[19:57:40] <doomlord> would that be any easier than my eariler suggestion of 'anonymous mod' mod { ...}
[19:58:42] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Ping timeout)
[19:59:50] *** zz_kimundi is now known as kimundi
[20:00:03] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[20:01:50] *** Quits: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net) (Ping timeout)
[20:02:19] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[20:04:02] <benh> cmr: incidentally make docs rebuilds everything before generating docs
[20:04:03] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[20:04:24] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[20:05:11] *** Joins: eholk (eholk@moz-9AB4D52F.hsd1.ut.comcast.net)
[20:05:54] *** Quits: KindOne (KindOne@moz-2D30BEE8.dynamic.ip.windstream.net) (Ping timeout)
[20:10:47] *** Joins: KindOne (KindOne@moz-491499D.dynamic.ip.windstream.net)
[20:11:14] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[20:11:45] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[20:12:37] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[20:13:00] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[20:13:58] <Jeaye> Trying to derive from Clone, but I'm getting an interesting error: https://gist.github.com/Jeaye/45b56b0637b4b00d295b
[20:21:52] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:25:48] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[20:25:51] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[20:26:47] <kimundi> looks like a deriving bug
[20:27:05] <Jeaye> :(
[20:29:21] *** Quits: nattofriends (tsutsumi@moz-4CEEC7AA.warosu.org) (Ping timeout)
[20:29:42] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[20:30:28] *** Quits: sp3d (a@moz-17CB39F1.fidnet.com) (Quit: sp3d)
[20:30:38] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[20:31:29] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[20:35:25] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[20:36:22] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[20:38:48] *** cscottnet is now known as cscottnet_away
[20:41:01] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[20:42:33] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[20:42:37] *** Joins: nattofriends (tsutsumi@moz-4CEEC7AA.warosu.org)
[20:42:41] *** Quits: MX80 (MX80@moz-32BE33CD.dsl.g3telecom.net) (Ping timeout)
[20:46:10] *** Joins: MX80 (MX80@moz-32BE33CD.dsl.g3telecom.net)
[20:46:31] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[20:50:09] <bjz> brson: r? https://github.com/mozilla/rust/pull/6597
[20:51:18] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[20:52:01] <cmr> benh: Sorry :( Are you sure, though? I was able to make docs while still building. stage0 was finished, though.
[20:52:46] <cmr> it may have been that it was just using the already-built stuff, though, that was just out of date
[20:53:31] <benh> When I say make docs, there's a few cfg:-lines and then compile_and_link: x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib/libstd.so
[20:53:33] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[20:53:43] <cmr> darn
[20:54:19] <benh> maybe i'm in a weird state :/
[20:54:32] <cmr> might have been me in the weird state too though :)
[20:54:35] <benh> I'll give it a shot again in a few days or so when I legitimately rebuilt everything :)
[21:04:20] *** Quits: fabiand (fabiand@moz-C1F5D916.adsl.alicedsl.de) (Quit: Verlassend)
[21:05:17] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[21:07:37] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[21:08:56] *** Quits: victorporof (victorporo@10AA7997.880C8D58.79933D60.IP) (Quit: victorporof)
[21:11:29] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Ping timeout)
[21:18:28] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[21:19:01] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[21:20:01] *** Quits: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[21:21:19] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[21:22:17] *** Joins: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr)
[21:27:45] *** Quits: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net) (Input/output error)
[21:28:00] *** Joins: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net)
[21:29:52] *** Quits: DasIch (DasIch@moz-7447F66F.dip0.t-ipconnect.de) (Quit: DasIch)
[21:49:33] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[21:52:06] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[21:54:23] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[21:57:04] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ¦)
[21:57:48] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[22:01:40] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[22:03:23] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[22:06:24] *** Joins: mcomella_ (mcomella@moz-B10FF54F.ri.ri.cox.net)
[22:06:27] *** Quits: mcomella_ (mcomella@moz-B10FF54F.ri.ri.cox.net) (Input/output error)
[22:10:36] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[22:10:58] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Quit: Leaving)
[22:13:34] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:13:43] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[22:15:35] <steven_is_false> Hi! I made a GADT library for Rust but it's sort of kludgy right now. Does anyone think it'd be a good idea to put in core, or create syntactic sugar for it? I'll put up a link to the code in a bit.
[22:18:17] <steven_is_false> I'd think it'd probable be quite useful in the compiler for creating parse trees and such.
[22:19:04] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: nn)
[22:20:07] <steven_is_false> And here's the gadt code https://gist.github.com/sstewartgallus/5605948 
[22:22:53] *** Quits: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[22:23:05] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[22:23:18] <bjz> steven_is_false: nice!
[22:23:28] <bjz> steven_is_false: you should show pcwalton
[22:23:42] <steven_is_false> bjz: Okay.
[22:24:23] *** kimundi is now known as zz_kimundi
[22:24:29] <steven_is_false> bjz: So I have three possible ways of doing that. Private messaging him, publicly making an issue on GitHub, and messaging him on IRC. Which should I do?
[22:24:39] <bjz> steven_is_false: unfortunately I think higher order types aren't going to make it into 1.0 :(
[22:24:55] <bjz> steven_is_false: oh just wait until next work week in the US
[22:25:04] <bjz> he'll be on #rust
[22:25:06] <steven_is_false> bjz: Fair enough.
[22:25:14] <bjz> I think he usually has the weekends off
[22:25:28] <bjz> unlike workoholic brson here
[22:25:32] <bjz> ;)
[22:25:51] <EXetoC> oh :/
[22:26:00] *** Quits: RagingDave (RagingDave@moz-31410B48.pools.arcor-ip.net) (Quit: Ex-Chat)
[22:26:11] <bjz> EXetoC: oh? :\
[22:26:13] *** Quits: ysuzuki (ysuzuki@moz-60FA9D06.net119083145.t-com.ne.jp) (Client exited)
[22:26:29] <EXetoC> they should work non-stop until 1.0 is released, and then have a well-deserved week off!
[22:26:47] <steven_is_false> ;)
[22:27:00] <bjz> just one week, of course
[22:29:36] <EXetoC> maybe 10 days
[22:31:24] <bjz> I reckon 4
[22:31:30] <bjz> anyways
[22:31:37] <bjz> coffeeeeee
[22:31:39] <EXetoC> c(:)-<
[22:31:40] <bjz> brb
[22:31:41] <EXetoC> yay
[22:31:48] <bjz> or bbl
[22:32:00] <bjz> to ze espresso bar
[22:32:06] <bjz> muahaha
[22:32:43] <EXetoC> don't trip on banana peel
[22:32:59] <bjz> or a toad
[22:33:06] <bjz> *squish*
[22:33:22] <EXetoC> huehue
[22:34:03] *** Quits: cdidd (cdidd@moz-D35F2B1E.broadband.corbina.ru) (Input/output error)
[22:34:18] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[22:34:22] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[22:36:53] *** Quits: spider-mario (spidermari@moz-2BC095A6.rev.sfr.net) (Input/output error)
[22:37:40] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: Lost terminal)
[22:40:09] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ¦)
[22:43:12] *** Joins: HOLYCOWBATMAN (Mibbit@moz-AB722A1C.mc.videotron.ca)
[22:44:02] *** Quits: HOLYCOWBATMAN (Mibbit@moz-AB722A1C.mc.videotron.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[22:44:46] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[22:46:49] *** zz_kimundi is now known as kimundi
[22:47:11] <steven_is_false> Suppose one wants to have a test case that demonstrates how a library is supposed to work. Is there a way to put that in the documentation?
[22:47:51] <steven_is_false> I know that Python has a way of automatically generating test cases from documentation.
[22:49:05] <kimundi> Afaik not possible in that sense
[22:51:17] <steven_is_false> kimundi: That's sad. It'd be really nice to have that ability. I think that all I need is for the ability to include blocks of private code verbatim in the documentation. A possible syntax, /** \include { */ #[test} priv fn my_test_case_showing_an_example_use () { /* the test */ } /** \end } */
[22:55:11] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[22:56:36] <engla_> doctests are very cool not because you can test your code (normal tests do that) but because you can check that your example code in the docs works..
[22:57:22] <steven_is_false> engla_: Go on.
[22:57:37] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[22:58:01] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[22:58:09] <cmr> steven_is_false: look in the rust sorce.
[22:58:27] <cmr> it runs tests from the documentation
[22:59:13] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[22:59:16] <steven_is_false> cmr: Thank you, I'll look at that in a bit (I feel really tired right now.)
[22:59:47] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[23:01:42] <engla_> steven_is_false: just an experience from python, doctests are not good tests by themselves
[23:02:23] <cmr> steven_is_false: anyway, you can always just put code blocks in the docstrings or README
[23:03:13] *** Joins: bbrittain (ben@moz-A7CDB794.dia.static.qwest.net)
[23:03:22] <steven_is_false> engla_: Oh, definitely. Still, documentation becoming stale is a huge problem.
[23:04:10] <steven_is_false> Besides, from a certain perspective tests are simply testing documentation of invariants, preconditions, and postconditions. So all sensible tests are doctests.
[23:04:53] *** Quits: RMF (RMF@F30672EE.23449D61.70C1DD3E.IP) (Quit: Textual IRC Client: www.textualapp.com)
[23:05:06] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[23:10:28] <steven_is_false> It is interesting to note that the proposed higher order generics interface of the Is trait would be slightly broken due to the fact that many implementors of the proposed Category type would break the rules due to things like exceptions, and nontermination.
[23:11:08] <bjz> steven_is_false: as always, help with things like doc-tests is most wlecome
[23:11:11] <steven_is_false> For example, I don't believe caster.id ().compose (f) would always equal f.
[23:11:29] <bjz> engla_: isn't the idea that it just keeps your documentation up to date?
[23:11:35] *** Quits: bbrittain (ben@moz-A7CDB794.dia.static.qwest.net) (Ping timeout)
[23:11:57] <bjz> engla_: I have a big tendency towards letting things rot :)
[23:12:08] *** Quits: Diablo-D3 (diablo@moz-6317EE8A.port.east.myfairpoint.net) (Quit: This computer has gone to sleep)
[23:12:17] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[23:12:22] <bjz> steven_is_false: the test-suite does it, but it's almost certainly custom
[23:12:42] *** Joins: Diablo-D3 (diablo@moz-6317EE8A.port.east.myfairpoint.net)
[23:12:44] <bjz> steven_is_false: rustdoc is very old, it majorly needs an overhaul
[23:12:54] <steven_is_false> bjz: Okay.
[23:13:32] <cmr> I think patrick was the one that said it should be completely rewritten
[23:14:26] <steven_is_false> cmr: So rust doc uses a lot of kludgy idioms from when Rust was a weaker language?
[23:14:53] <cmr> steven_is_false: yeah. said it was written for 0.1 and hasn't changed much since.
[23:14:56] <cmr> or something along those lines
[23:15:01] <cmr> definitely involving 0.1 ;)
[23:15:34] <steven_is_false> okay
[23:16:04] <cmr> It'd be nice if it could emit JSON or XML
[23:16:09] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:17:06] <steven_is_false> cmr: I wish there was a better alternative to JSON, XML, and YAML. All of those formats are basically S-Expressions anyways, so I don't see why they have to be so kludgy.
[23:18:12] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[23:20:15] <steven_is_false> cmr: One think I'd like is for docs to be accesible at runtime like lisp. that'd make it possible to have custom tooling to do it.
[23:20:16] <cmr> steven_is_false: http://jimpravetz.com/blog/2012/12/in-defense-of-cos/
[23:20:36] <cmr> steven_is_false: that'd hugely bloat library/executable size
[23:20:48] <steven_is_false> cmr: That's why it'd require custom tooling.
[23:21:03] <steven_is_false> cmr: And one could use that custom tooling to do for only certain things.
[23:21:31] <strcat> cmr: can be a flag
[23:21:49] <steven_is_false> IE) rust source -> YAML -> custom script -> rust source file -> compiled in
[23:22:19] <cmr> Could be. But why ever use it?
[23:22:29] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[23:22:31] <cmr> What do you gain?
[23:23:52] <steven_is_false> cmr: One could unify the rust documentation, and the program help a bit.
[23:24:08] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[23:25:19] <steven_is_false> cmr: That's an interesting link you gave but I'm too tired to read it now, and I'll read it later.
[23:26:19] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[23:27:01] *** Joins: bbrittain (ben@moz-A7CDB794.dia.static.qwest.net)
[23:27:38] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[23:28:35] <bjz> strcat: r+? https://github.com/mozilla/rust/pull/6595
[23:29:38] <bjz> steven_is_false: we need some sort of parser thingy
[23:29:54] <bjz> steven_is_false: then S-exprs!
[23:30:31] *** Quits: Diablo-D3 (diablo@moz-6317EE8A.port.east.myfairpoint.net) (Quit: do coders dream of sheep()?)
[23:30:36] *** Joins: Diablo-D3 (diablo@moz-6317EE8A.port.east.myfairpoint.net)
[23:31:00] <bjz> the cool thing about s-exprs is the've stayed the same for over 50 years
[23:31:07] <bjz> :)
[23:31:19] <steven_is_false> Yep :)
[23:31:49] <bjz> I doubt any of the others have that longevity
[23:32:18] <bjz> cmr: tooling? IDE support?
[23:32:45] <steven_is_false> Since s-exprs, are for abstract syntax trees, m-exprs are for code, does that make f-exprs for frustrated programmers? I think think f-exprs would have a greater longetivity.
[23:32:49] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[23:32:56] <cmr> bjz: perhaps. I think that information would be better outside the shared library/executable, though
[23:33:41] <bjz> steven_is_false: it seems that things that make people frustrated stay around for the longest
[23:33:52] <steven_is_false> bjz: true
[23:34:19] <bjz> steven_is_false: so we'll need to emit something REALLY annoying
[23:34:33] <bjz> does INTERCAL have a data format?
[23:34:40] <cmr> Emit CSV
[23:34:45] <bjz> I know it emits roman numerals
[23:34:48] <bjz> :)
[23:35:22] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[23:35:22] <bjz> INTERCALML
[23:35:25] <steven_is_false> cmr: That'd be interesting. Statistical analysis of swear-words in programmer documentation.
[23:35:37] <cmr> heh
[23:35:38] <bjz> INTERCALAMITY
[23:36:14] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:36:14] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1470f38d2 to 143a323c1: 02http://git.io/N3iJvQ
[23:36:14] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[23:36:14] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:36:14] <ghrust> 01[13rust01] 15bors pushed 6 new commits to 06auto: 02http://git.io/HXOq_Q
[23:36:14] <ghrust> 13rust/06auto 14ce1e211 15Brendan Zabarauskas: Adapt the getter macro to implement Clone, Eq and Ord for n-ary tuples
[23:36:14] <ghrust> 13rust/06auto 14ee4d11f 15Brendan Zabarauskas: Use match instead of intermediate variable
[23:36:16] <ghrust> 13rust/06auto 14db453ec 15Brendan Zabarauskas: Replace Tuple{2..12} trait with CloneableTuple{2..12} and ImmutableTuple{2..12}...
[23:36:16] <engla_> steven_is_false: there is a proposed Category trait?
[23:36:18] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[23:36:29] <bjz> strcat: I also have this one: https://github.com/mozilla/rust/pull/6597
[23:36:44] <steven_is_false> engla_: No. I'm the voice suggesting it there.
[23:36:53] <steven_is_false> engla_: I could make the statement more clear.
[23:37:20] <engla_> gotcha
[23:37:24] <steven_is_false> engla_: I don't doubt that it'd be implemented if support for higher-order generics ever make it in though.
[23:37:55] <bjz> is there an attribute disabling the unneeded mutable warnings? I require it for some tests
[23:38:09] <bjz> well, it'd be nice to have
[23:38:20] <steven_is_false> bjz: Five seconds, I use it somewhere, and I'll look it up.
[23:38:37] <bjz> woot
[23:38:50] <cmr> #[ignore(unused-mut)], I believe
[23:39:01] <steven_is_false> bjz: Apply #[allow (unused_unsafe)] or whatever the warning is to disable it.
[23:39:17] <bjz> that's unsafe
[23:39:26] <cmr> that looks more like it
[23:39:26] <bjz> cmr: #[ignore(unused_mut)]?
[23:39:32] <cmr> it might be allow
[23:39:41] <cmr> It'd be inline with rustc -A
[23:39:41] <steven_is_false> bjz: Right in your case it'd be #[allow (unused_mut)].
[23:39:47] <bjz> cmr: #[allow(unused_mut)]?
[23:39:52] <bjz> :)
[23:39:54] <bjz> oki
[23:43:34] <bjz> what do folks think of a fn map_ptr<'a, U>(&'a const self, f: &fn(&'a Self) -> Option<U>) -> Option<U>; for the trait Ptr?
[23:43:43] <bjz> returns None if it's null
[23:43:43] <steven_is_false> Ok it's been nice talking to your guys but I need to talk a break for a while.
[23:43:59] <bjz> bye
[23:44:03] <steven_is_false> bjz: Could have a clearer name.
[23:44:05] <steven_is_false> bjz: bye
[23:44:07] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[23:44:16] <bjz> suggestions on a name?
[23:44:49] <bjz> ptr_to_option ?
[23:45:36] <bjz> brson: ^?
[23:46:29] *** Parts: inolen (Adium@moz-FA2406D8.socal.res.rr.com) ()
[23:46:43] <strcat> bjz: but why?
[23:46:59] <bjz> strcat: I notice I'm doing the pattern alot
[23:46:59] * strcat shrugs
[23:47:00] <mcpherrin> bjz: shouldn't that be f: &fn(&'a Self) -> U
[23:47:13] <mcpherrin> and then map_ptr wraps it in the Option?
[23:47:19] <mcpherrin> (Or maybe I misunderstand what this does)
[23:47:34] <bjz> mcpherrin: you could return a None from the function
[23:47:50] <strcat> rusti: sys::size_of::<Option<~int>>()
[23:47:57] <bjz> mcpherrin: but maybe you could just use chain for that
[23:48:27] <bjz> strcat: like, I'm wrapping a C lib and it returns null sometimes
[23:48:41] <bjz> I'd like to return an option
[23:49:16] <strcat> something went wrong with rusti ;[
[23:49:37] <bjz> :(
[23:50:38] <strcat> rusti: 5
[23:50:43] -rusti- timed out after 5 seconds
[23:51:09] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[23:52:16] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[23:53:20] <engla_> strcat: what do you think about a variant of iterator fold that uses a reduce function like fn(&mut B,A) -> () ?  It makes it easy to collect into a container: .foldl(LinearSet::new::<int>(), |z,x| {z.insert(x);})
[23:53:40] <strcat> engla_: well I think the normal one should be that way
[23:53:49] <strcat> maybe
[23:53:51] <strcat> maybe not ;p
[23:54:02] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[23:54:03] <engla_> hm hm
[23:54:04] <strcat> but then we have 4 variants of fold...
[23:54:13] <engla_> wait.. 4?
[23:54:22] <strcat> there already have to be fold and fold_ref
[23:54:29] <strcat> for A
[23:54:44] <strcat> because of an annoying issue (not a bug, just something annoying)
[23:55:04] <engla_> ok that's already bad yeah
[23:55:42] * strcat doesn't understand what happened to rusti
[23:56:01] <engla_> also, shouldn't fold use a 'self' not '&mut self' argument?
[23:56:03] <cmr> rusti-the-program is revived, rusti-the-bot is slain
[23:56:03] <engla_> it's consumed
[23:56:08] <cmr> 'tis only natural
[23:56:14] <strcat> engla_: no
[23:56:20] <strcat> engla_: self is less flexible
[23:56:29] <strcat> foo.bar.fold(...)
[23:56:38] <strcat> won't always work if you have to move bar
[23:56:59] <strcat> there's nothing it gains from moving it over using the more lenient requirement
[23:57:21] <engla_> ok
[23:58:05] <strcat> lxc-start is blocking
[23:58:07] <strcat> ;\
[23:58:22] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.0)
[23:58:52] <ssbr_> ick
[23:59:28] <ssbr_> "uniquely-owned trait objects must be sendable" -- this means that a type that is converted to an object can't store anything inside managed or borrowed pointers, right?
[23:59:33] <ssbr_> I guess that makes sense
[23:59:44] <ssbr_> since the information on whether it does so is lost by the conversion to object
[23:59:52] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
