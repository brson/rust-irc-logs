[00:01:24] *** Quits: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:01:53] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[00:09:02] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Quit: leaving)
[00:09:13] <steveklabnik> dinnertime, but let me know what you all think :)
[00:10:55] *** Quits: marsel` (user@moz-br4.h9c.147.46.IP) (Ping timeout: 121 seconds)
[00:13:37] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[00:19:31] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[00:23:23] <brson> i started putting together a sketch of a 3-tier rust cake to give to a baker https://imgur.com/eGs2ssm
[00:23:40] <brson> the idea is for three interlocking gears with heights proportional to their diameters
[00:24:04] <brson> nrc: and they are deadlocked
[00:24:16] <kmc> omg this is actually happening?
[00:24:21] <nrc> :-)
[00:24:25] <brson> i will try to make it happen
[00:24:37] <brson> i assume a good baker will make it look a lot better than my clipart
[00:24:43] <nrc> awesome!
[00:24:56] <brson> any ideas for the third cake?
[00:25:00] <brson> non-moco branded
[00:25:02] <brson> sadly
[00:26:07] <acrichto> brson: https://pbs.twimg.com/media/B3zi2ThCAAAH9J8.png
[00:26:15] <acrichto> bottom left
[00:26:21] <kmc> it can just be a "rusty" cake (tiramisu??) with no particular text / graphics
[00:26:39] <kmc> it's the smallest one
[00:26:47] <kmc> and there's really nothing more to say than "Rust 1.0"
[00:27:05] <brson>  maybe three cakes is too ambitious
[00:27:09] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[00:27:09] <brson> and 1.0 should just go on the 1 cake with the logo
[00:27:44] <larsberg> acrichto: you should be able to make cut-out cookie shapes from that PNG and have them colored
[00:27:54] <larsberg> ooh ooh, baketime activity at the launch party! :-)
[00:28:06] <acrichto> larsberg: zomg that's a fantastic idea
[00:28:35] <kmc> ambitious? you mean like replacing C? or writing a layout engine that beats the competition by 2x?
[00:28:42] <kmc> ;D
[00:28:43] <larsberg> I would literally fly to SF to decorate adorable crab cookies... I mean share in the launch celebration
[00:31:41] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[00:35:35] <whipsch> is there an easy way to see the exact failing test(s) that caused a bors build to fail?
[00:35:52] <whipsch> i might just be blind
[00:38:09] <acrichto> steveklabnik: ping
[00:38:41] *** Joins: tcurdt_ (tcurdt@moz-1hor9j.dip0.t-ipconnect.de)
[00:39:53] *** Quits: tcurdt (tcurdt@moz-1hor9j.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:39:53] *** tcurdt_ is now known as tcurdt
[00:40:18] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:43:23] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:44:14] *** Joins: Rym (y@moz-m9s4ac.in-addr.btopenworld.com)
[00:47:13] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:48:36] <steveklabnik> brson: ahahah amazing
[00:48:37] <steveklabnik> acrichto: pong
[00:48:45] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[00:49:59] <whipsch> the rust gear cookies sound pretty good
[00:50:09] <whipsch> i would totally donate a bunch of money to mozilla for some rust cookies
[00:50:29] <acrichto> steveklabnik: do you remember what was up with https://github.com/rust-lang/rust/issues/23735
[00:50:35] <acrichto> steveklabnik: I can't find any broken docs
[00:50:39] <steveklabnik> so
[00:50:47] <acrichto> er, links*
[00:50:48] <steveklabnik> i think i just removed them
[00:50:50] <steveklabnik> lemme double check
[00:50:55] <acrichto> were they manual links?
[00:51:17] <steveklabnik> yeah
[00:51:34] <steveklabnik> acrichto: https://github.com/rust-lang/rust/pull/23901/files
[00:51:34] <acrichto> ah ok
[00:51:43] <acrichto> yay!
[00:51:43] <acrichto> thanks
[00:58:11] <XMPPwocky> shoot, now i want rust cookies
[00:58:31] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[01:01:04] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:02:38] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[01:02:45] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[01:07:16] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[01:15:00] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:15:12] <jgallagher> i’ve started hacking on a small change to rustc. is there documentation for how folks work on it in general? in particular, it seems very slow to wait for recompiles each time - is there a shorter path to take just for development testing?
[01:15:29] <whipsch> make tips will have some stuff
[01:17:45] <bluss> jgallagher: yes, you can for example compile just rustc to stage1
[01:18:09] <bluss> make rustc-stage1  I think(?)
[01:19:36] <jgallagher> bluss: ooh, that sounds like what i want. is the stage1 rustc runnable on general rust code?
[01:20:18] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[01:20:19] <bluss> yes, you just need to run it with the correct env vars set up to point to its corresponding lib dir
[01:20:24] <jgallagher> cool, thanks
[01:21:00] <bluss> now it would be cool if we could just use cargo and recompile even less
[01:21:03] <whipsch> is there a handy make task to invoke it properly for you?
[01:22:27] <jgallagher> one more question. i’m investigating fixing this bug: https://github.com/rust-lang/rust/issues/24154 which affects codegen for the 64-bit ios target. is there a way to add tests for something like that? (testing conformance to a cross-compiled platform’s C ABI)
[01:22:38] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Quit: leaving)
[01:22:41] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[01:22:59] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[01:24:32] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:26:29] <steveklabnik> this iterator is 4x slower than a foor loop: http://www.reddit.com/r/rust/comments/31syce/using_iterators_to_find_the_index_of_the_min_or/ anyone know why?
[01:27:18] *** Joins: brson (brson@moz-rjb.pdv.48.37.IP)
[01:27:18] *** ChanServ sets mode: +o brson
[01:27:38] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[01:29:31] *** Quits: tcurdt (tcurdt@moz-1hor9j.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[01:33:25] *** Parts: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com) ("")
[01:35:33] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:39:41] <reem> brson: multirust is unbelievably useful now that there are two channels I have to worry about, thanks so much for making it
[01:39:57] <brson> reem: \o/
[01:40:22] *** Joins: singingboyo (holoirc@moz-frc3ht.eng.wind.ca)
[01:41:02] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[01:41:31] <huon> steveklabnik: looks like max_by isn't trying hard to be fast internally
[01:45:47] <steveklabnik> huon: ah
[01:46:04] <huon> I'm going to submit a patch :)
[01:46:11] <steveklabnik> :confetti_ball:
[01:46:24] <steveklabnik> i'm gonna submit this PR for the huge TOC change as soon as i confirm it builds properly
[01:47:00] <reem> So it turns out that Reflect is a massive PITA with trait objects.
[01:47:26] <reem> you now have to stick this new trait everywhere just in case anyone wants to do reflection
[01:47:29] <huon> one approach I've found it to inherit from Reflect
[01:47:32] <reem> even though the trait doesn’t actually mean anything
[01:47:46] <reem> huon: That’s what I’ve been doing to, but… it’s easy to forget.
[01:47:46] <huon> trait Foo: Reflect { ... }
[01:47:47] <carllerche> brson: is there a way w/ multirust to do a "one off" command w/ a specific rust version? like cargo --nightly build?
[01:48:04] <carllerche> or do I override first?
[01:48:43] <brson> carllerche: no, there isn't but that's a good idea. i'll file it
[01:48:57] <carllerche> or it could be multirust nightly cargo build
[01:49:09] <brson> yeah, i'd fold it into the multirust command, not the proxys
[01:49:12] <carllerche> (which anybody can do bash aliases locally)
[01:50:04] <reem> huon: Also the problem with just inheriting is that it defeats the purpose of having a separate trait
[01:50:52] <brson> https://github.com/brson/multirust/issues/45
[01:51:40] <brson> maybe this weekend i can catch up on multirust bugs
[01:58:34] *** Joins: dcuddeback (textual@moz-cb7v53.ca.comcast.net)
[01:59:10] *** Quits: Rym (y@moz-m9s4ac.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[01:59:17] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[02:00:47] <huon> reem: I don't think so?
[02:00:59] <huon> one is still opting in to "I can do reflection"
[02:01:18] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[02:03:25] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[02:17:10] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:20:48] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[02:27:17] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:28:07] *** Quits: brson (brson@moz-rjb.pdv.48.37.IP) (Quit: leaving)
[02:31:08] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[02:37:22] *** Quits: mystor (mystor@moz-va2.r78.15.130.IP) (Connection closed)
[02:37:51] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[02:41:49] *** Joins: apoelstra (username@moz-pvbasl.net)
[02:41:58] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:45:56] *** Quits: kimundi (kimundi@moz-94ap69.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:47:25] *** Joins: kimundi (kimundi@moz-rc14cs.dip0.t-ipconnect.de)
[02:48:14] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[02:51:24] *** kimundi is now known as zz_kimundi
[02:56:30] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[02:58:00] *** zz_kimundi is now known as kimundi
[02:58:39] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:00:03] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[03:04:11] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[03:18:06] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[03:20:20] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[03:20:29] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[03:20:41] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[03:21:52] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:24:43] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[03:27:03] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[03:27:35] *** Joins: semarie (semarie@moz-3r6d3j.enn.lu)
[03:39:28] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:45:14] <carllerche> When should one impl Into<Foo> vs. having a ToFoo trait?
[03:56:03] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[03:58:35] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[04:00:50] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[04:04:21] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[04:04:53] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[04:10:44] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:12:39] <bstrie> aturon: ^ conventions question
[04:16:46] <Eridius> I'm guessing that Into/From is the way most of this stuff should be done going forward
[04:16:58] <Eridius> I'm curious as to when it's appropriate to implement Into instead of From
[04:18:45] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[04:19:44] <scott> me too. impl Into<Vec<u8>> for String exists. I wonder what's wrong with impl From<String> for Vec<u8>
[04:20:14] <scott> that and impl Into<OsString> for PathBuf are the only ones on http://doc.rust-lang.org/nightly/std/convert/trait.Into.html
[04:23:55] <huon> From has no error handling, aiui
[04:24:13] <huon> oh, wait, got the direction wrong, nvm me
[04:25:05] <Eridius> that's actually a good point. I wonder if it's reasonable to do something like implement From on Result<SomeType, SomeError>?
[04:25:38] <scott> huon: I see no error handling in either direction, From<T> is (T) -> Self and Into<T> is (Self) -> T
[04:25:47] *** Joins: lfairy (lfairy@moz-kaosf8.vf.net.nz)
[04:26:25] <Mutabah> I think Into is for consuming
[04:26:45] <huon> scott: yeah, I was thinking the "impl From<String> for Vec<u8>" was trying to create a String out of a Vec<u8>, but it's going the other way
[04:27:42] <scott> oh, I see
[04:28:36] <scott> Mutabah: they are just mirror images of each other, and there is an impl<T, U> Into<U> for T where U: From<T>
[04:28:47] <Mutabah> scott: ah
[04:28:53] <scott> so you can define From<T> for U and get U: Into<T> free
[04:29:05] <scott> err
[04:29:12] <nrc> Anyone familiar with libgit?
[04:29:12] <scott> T: Into<U>
[04:29:15] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Connection closed)
[04:31:21] <huon> (libgit2?)
[04:31:25] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[04:31:43] <huon> nrc: I believe acrichto maintains bindings, so he's probably reasonably acquainted
[04:32:08] <nrc> huon: thanks huon
[04:32:11] <nrc> acrichto: ping?
[04:33:53] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[04:34:19] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Quit: 전 이만 갑니다.)
[04:36:04] <acrichto> nrc: pong
[04:37:43] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[04:38:00] <nrc> hi acrichto, are you familiar with libgit? I'm trying to emulate a pull by using a fetch and merge, but any newly created files end up as being deleted and I have to do a reset and checkout. Any idea what is going on?
[04:38:39] <acrichto> hm I haven't done much with merges before in libgit2, mostly just reset --hard to the result of the fetch
[04:38:52] <acrichto> are you just using the raw C api?
[04:39:50] <nrc> actually using a node.js binding, but I think it is pretty transparent binding of the C lib
[04:40:35] <acrichto> it may depend on how the merge itself is created perhaps?
[04:40:41] <acrichto> libgit2 tends to have like 8 options per method
[04:41:00] <nrc> is fetch + reset --hard a sensible way to do a pull?
[04:41:03] <acrichto> nrc: you may also just be updating the index maybe and not the working dir?
[04:41:09] <acrichto> if you don't care about local changes yeah
[04:41:10] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[04:41:24] <nrc> that sounds like what is happening
[04:41:46] <nrc> do I need to take special action to update the working dir?
[04:41:48] <acrichto> you may just need to do a merge + checkout?
[04:41:56] <acrichto> git works in mysterious ways sometimes
[04:42:04] <acrichto> there may be an option though to checkout the merge at the same time it's created
[04:42:09] <nrc> I tried doing fetch + merge + checkout, but that didn't work
[04:42:23] <acrichto> hm
[04:42:37] <nrc> perhaps I was checking out the wrong thing
[04:44:03] <acrichto> nrc: https://github.com/libgit2/libgit2/blob/HEAD/include/git2/merge.h#L519-L546 may be enlightenting 
[04:44:12] <acrichto> emphasis on maybe
[04:46:13] <nrc> Man, libgit is such a kerfuffle, I should just shell out 'git pull upstream master'
[04:46:54] *** Joins: marsel` (user@moz-k27.m64.180.94.IP)
[04:49:01] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[04:50:55] <bstrie> nrc: sounds like you need to embark on libgit3, in rust
[04:51:41] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[04:51:51] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Connection closed)
[04:52:47] <aturon> acrichto: read the PR description of https://github.com/rust-lang/rust/pull/24177, shed a tear of joy
[04:53:32] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[04:54:35] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:55:13] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[04:55:25] <scott> https://github.com/alexcrichton/rust/commit/77d164d8099abc17f97aa50442245e4fc88b36a2 aww yeah
[04:55:35] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[04:56:49] <scott> so much goodness in here. acrichto, you're the best
[04:57:17] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[04:58:40] <scott> things like the iterator methods are way more readable now, too. all that's left is the unnecessary Self: Sized bound
[05:01:36] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[05:02:52] *** Joins: srh (User@moz-ov4.5f3.242.50.IP)
[05:03:03] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[05:05:43] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[05:09:03] <acrichto> aturon: scott :)
[05:09:12] <acrichto> scott: oh where's this unnecessary bound?
[05:09:30] *** Quits: marsel` (user@moz-k27.m64.180.94.IP) (Ping timeout: 121 seconds)
[05:10:01] <scott> acrichto: actually I got confused at what I was looking at, but it was on the core page and not std: http://people.mozilla.org/~acrichton/doc/core/iter/trait.Iterator.html#method.map vs http://people.mozilla.org/~acrichton/doc/std/iter/trait.Iterator.html#method.map
[05:10:18] <scott> which is the opposite of the public docs which have nice looking core docs and ugly std
[05:10:28] <acrichto> oh lol it was a little too aggressive removing those bounds
[05:10:44] <acrichto> I will file a bug for that
[05:10:59] <scott> oh, wait, those aren't unnecessary ones, either. those are for object safety
[05:11:00] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[05:11:06] <acrichto> yeah
[05:11:15] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[05:11:21] <scott> at least the std docs are 100% right now =)
[05:11:36] <scott> ugh
[05:11:44] <scott> I should stop talking and confusing myself :P
[05:12:15] <acrichto> scott: https://github.com/rust-lang/rust/issues/24183
[05:13:49] <bstrie> acrichto: are all the new fixes live on doc.rust-lang.org?
[05:14:00] <acrichto> bstrie: oh lol no hasn't even been merged yet :P
[05:14:09] <acrichto> bstrie: you can browse http://people.mozilla.org/~acrichton/doc/std/ though
[05:14:15] <acrichto> that's the docs built from that PR
[05:15:19] <sfackler> acrichto: r? https://github.com/rust-lang/semver/pull/43#issuecomment-90649559
[05:15:53] <sfackler> thanks
[05:15:55] <acrichto> sfackler: r+
[05:16:04] <sfackler> when do you think we'll be able to propogate it to cargo?
[05:16:21] <bstrie> acrichto: if I can file a bug against rustdoc, it's that I still have no idea what the different colors mean on type names
[05:16:26] <acrichto> sfackler: I'll make a PR now
[05:16:27] <sfackler> hmm, plus when will people be updating cargo next I guess
[05:16:27] <scott> I guess the main doc issue left now is deciding how to make the Deref impls obvious
[05:16:29] <sfackler> 1.0?
[05:16:36] <bstrie> I always think they're stability or something
[05:16:57] <bstrie> because, I mean, they use the stabiliy colors
[05:16:59] <scott> bstrie: red = type, orange = trait?
[05:17:06] <scott> I never even noticed those colours before, lol
[05:17:08] <acrichto> sfackler: we can control which cargo is bundled with beta/1.0 etc
[05:17:32] <sfackler> acrichto: does your ginormo PR deal with https://github.com/rust-lang/rust/issues/15468 ?
[05:17:49] <acrichto> sfackler: not just yet, I skipped a bunch of UI related issues for now
[05:17:57] <scott> bstrie: oh, but some types are green - maybe from other modules? or prelude? mysterious indeed
[05:17:59] <acrichto> I'm gonna do another pass afterwards though to pick up more things like that and dealing with stability
[05:18:09] <sfackler> cool
[05:23:02] <huon> bstrie: structs vs enums vs traits
[05:23:07] <huon> vs. `type`s
[05:23:28] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[05:23:55] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[05:24:30] <acrichto> steveklabnik: btw the book will now soon have "run this" links in the top right for all examples: http://people.mozilla.org/~acrichton/doc/book/variable-bindings.html
[05:25:31] <bstrie> huon: I'm not sure that it's useful to know at a glance when something is an enum or a struct
[05:26:02] <bstrie> but if it is, I still want there to be colors that don't suggest stability :P
[05:26:24] <Eridius> I just submitted gh24184 that removes tail()/init() from slices in favor of pop_first()/pop_last(), if anyone has an opinion
[05:26:25] <[o__o]> Replace slice methods tail(), init() with pop_first(), pop_last(): https://github.com/rust-lang/rust/pull/24184
[05:27:09] <scott> Eridius: push/pop make me think mutation
[05:27:36] <Eridius> I used "pop" because it carries the connotation of "and return the removed element"
[05:28:14] <Eridius> but I do understand the argument that it sounds like it's mutating. I just can't think of a better name offhand
[05:28:22] <scott> I think there's already an issue to make tail/init return Option<&[T]> which would make them first with first/last
[05:28:38] <huon> bstrie: I agree that the colours probably aren't so useful
[05:28:39] <Eridius> gh24141
[05:28:39] <[o__o]> Calling `.tail()` on a empty slice panics: https://github.com/rust-lang/rust/issues/24141
[05:28:40] <scott> s/first/fit/
[05:28:45] <Eridius> that's what prompted my change
[05:29:18] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[05:29:19] <scott> huon: bstrie: I think having the colours makes it easier to scan with my eyes, fwiw, even if the colours themselves aren't that useful
[05:29:34] <Eridius> also worth noting, apparently we already have a SliceExt::slice_shift_char() that returns Option<(char, &str)> instead of mutating the receiver
[05:30:46] <scott> something akin to that might be a good addition to slices, but I don't think tail/init should be removed
[05:32:47] *** Quits: srh (User@moz-ov4.5f3.242.50.IP) (Quit: Leaving)
[05:33:14] <Eridius> why not? They're actually not very commonly used, and &xs[1..] is a trivial replacement for .tail() if you need it.
[05:33:30] <huon> scott: it seems like we could possibly switch to colours that are more useful
[05:33:52] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[05:34:59] <Eridius> in the fallout of removing .init(), I only ended up saying .pop_last().unwrap().1 4 times.
[05:35:16] <Eridius> 3 of those were immediately prior to calling .iter(), and I was actually surprised to learn that we don't have any sort of .skipLast() iterator adaptor
[05:35:31] <scott> huon: yeah, I'd be in favour of that
[05:36:58] *** Quits: O01eg (o01eg@moz-t1amd1.m4h9.3egh.2698.2a02.IP) (Client exited)
[05:47:10] *** Quits: lfairy (lfairy@moz-kaosf8.vf.net.nz) (Connection closed)
[05:47:51] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[05:51:19] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[05:53:20] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[05:56:39] *** Quits: ebfull (ebfull@moz-2hf06a.co.comcast.net) (Connection closed)
[06:02:22] *** Joins: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at)
[06:06:29] *** Quits: dinfuehr (dinfuehr@moz-sqjs7a.highway.telekom.at) (Ping timeout: 121 seconds)
[06:08:23] *** Joins: marsel (user@moz-1eh.7cm.255.92.IP)
[06:11:28] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:14:16] *** Joins: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com)
[06:14:25] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[06:16:05] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[06:16:26] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[06:20:28] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[06:21:02] *** Joins: Guest63 (textual@moz-jhjqr0.pools.vodafone-ip.de)
[06:26:46] *** Quits: chris-chambers (chris@moz-48q4qf.res.rr.com) (Quit: Leaving.)
[06:30:22] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[06:32:51] <sfackler> #[deprecated] isn't a thing for non-rustc crates, right?
[06:33:07] *** Quits: Guest63 (textual@moz-jhjqr0.pools.vodafone-ip.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:35:48] *** Quits: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:41:59] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:54:07] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[06:56:28] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[06:57:53] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[06:57:53] *** ChanServ sets mode: +o pcwalton
[07:04:00] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[07:08:17] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[07:12:32] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:13:07] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[07:18:15] *** Joins: imperio (Mibbit@moz-opqtbe.abo.bbox.fr)
[07:18:30] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[07:22:18] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[07:22:43] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[07:24:41] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[07:26:51] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[07:26:55] *** Joins: eerie_ (eerie@moz-p7jjav.red.bezeqint.net)
[07:29:36] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[07:29:53] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[07:30:58] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[07:31:13] *** Joins: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP)
[07:42:31] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:45:47] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[07:49:41] *** Quits: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[07:49:55] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[07:56:11] *** Quits: eerie_ (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[08:04:41] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[08:04:57] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[08:05:42] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:09:05] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[08:09:57] *** Joins: laumann (thomas@moz-vj4.hq0.225.130.IP)
[08:11:43] *** Joins: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP)
[08:13:22] <Mutabah> Is there a way of getting a string containg a type?
[08:13:33] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:13:33] <Mutabah> For debugging/messages from a generic function
[08:13:40] <huon> containing a type?
[08:14:14] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[08:15:01] <Mutabah> huon: So you can print the instansiated type in debugging messages (e.g. `do_something<T>(...) { ... debug!("type = {}", typename!(T)); }`
[08:15:31] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:20:59] *** Quits: imperio (Mibbit@moz-opqtbe.abo.bbox.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[08:27:05] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[08:28:17] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[08:28:38] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[08:31:19] <huon> Eridius: I suspect http://internals.rust-lang.org/t/re-rust-internals-libs-the-parameter-ordering-of-option-map-or-else-is-unintuitive/1839 may be misposted
[08:31:37] <huon> Mutabah: oh, there's an intrinsic `std::intrinsics::type_name` (or something like that)
[08:31:55] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[08:31:56] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[08:32:57] <Mutabah> huon: Nice!
[08:34:13] *** Joins: imperio (Mibbit@moz-luqi31.rev.sfr.net)
[08:34:55] <Mutabah> Very nice
[08:36:33] <Mutabah> huon: Thanks a lot, that's been a bit of a thorn on my side for a while
[08:37:07] *** Joins: doener (bs@moz-c061a3.saltation.de)
[08:37:14] *** Joins: eibwen (eibwen@moz-o76k32.dip0.t-ipconnect.de)
[08:38:08] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:43:19] <imperio> nmatsakis: ping
[08:43:54] *** Joins: ok32 (ok32@moz-2udrtl.broadband.corbina.ru)
[08:43:54] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[08:44:03] <nmatsakis> imperio: pong
[08:44:06] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[08:44:26] <imperio> what should I do for gh24172 ? I close it ?
[08:44:26] <[o__o]> Add checkup in tail function and return Option type: https://github.com/rust-lang/rust/pull/24172
[08:45:47] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[08:48:35] <nmatsakis> imperio: I'm not sure. Either update it to cover the other methods, or close it in favor of kballard's PR, depends if you think you prefer his API
[08:48:48] <nmatsakis> or you'd care to argue against it in favor of the current one :)
[08:49:21] <nmatsakis> that said, I don't like the name `init` in specific
[08:49:26] <imperio> nmatsakis: he already opened a PR to cover his API
[08:49:31] <nmatsakis> so I find any alternative that gets rid of that name appealing
[08:49:34] <imperio> and I'd prefer head/tail
[08:49:40] <imperio> I don't like init either
[08:49:51] <nmatsakis> I forget why we don't call it head
[08:50:17] <imperio> I guess that's because a vector doesn't "really" have one
[08:50:34] <imperio> it makes sense to talk about a tail but not a head
[08:50:42] <imperio> however, a first makes sense
[08:50:53] <imperio> for me, the actual function naming is good
[08:51:30] <nmatsakis> I am reading kballard's PR now
[08:51:35] <nmatsakis> pop_first feels like a funny name
[08:51:40] <nmatsakis> since it doesn't mutate in place
[08:51:43] <nmatsakis> feels too close to Vec pop
[08:51:59] <nmatsakis> returning the tuple is nice when it's appropriate
[08:52:09] <nmatsakis> pop_last().unwrap().1 is ... clumsy though
[08:52:12] <imperio> I'm writing my point of view on his PR, you should too ! ^^
[08:52:55] <nmatsakis> I do agree that .tail() as is is silly; in particular &foo[1..] is basically equivalent and much clearer
[08:53:04] <nmatsakis> too bad we don't have foo[..-1] ;)
[08:54:06] <imperio> hehe
[09:08:00] *** Quits: larhat (Adium@moz-5oreso.mfe0.h1q1.2168.2a02.IP) (Quit: Leaving.)
[09:08:11] <singingboyo> nmatsakis: not sure I follow why you think &foo[1..] is much clearer.   Probably a matter of background, really
[09:08:53] <nmatsakis> singingboyo: well, once you learn the slicing notation, it couldn't mean anything else
[09:09:04] <singingboyo> coming from haskell/scala and not languages with ranges, tail is obvious
[09:09:34] <nmatsakis> ok, YMMV.
[09:10:52] <nmatsakis> I think it generally takes a "cons-list" view of things -- one that happens to be very handy, but doesn't feel "native" to arrays to me
[09:11:11] <nmatsakis> makes more sense in Haskell/Scala where cons lists are so frequently employed
[09:11:54] <nmatsakis> but anyway I've certainly wanted something like init/tail often enough
[09:12:20] <singingboyo> nmatsakis: maybe, though scala has it everywhere, and far from all scala lists are cons lists
[09:12:46] <nmatsakis> yes, I mean ultimately you have to process one thing at a time :)
[09:12:57] <nmatsakis> so going from beginning or end (and leaving the rest) seems common enough
[09:13:03] <singingboyo> Whether we need to keep tail/init or not is debateable, but saying it's unneeded because it's less clear doesn't seem right
[09:13:25] <nmatsakis> I'm saying `tail` as is is an exact duplciate of other, more general syntax.
[09:13:28] <nmatsakis> that seems unambigious.
[09:13:58] <nmatsakis> er, unassailable?
[09:14:10] <nmatsakis> it may make sense to keep as part of a pair
[09:15:06] <nmatsakis> (or perhaps if it's return type is Option, which is sometimes more convenient; but I'm not sure)
[09:17:05] *** Quits: singingboyo (holoirc@moz-frc3ht.eng.wind.ca) (Ping timeout: 121 seconds)
[09:17:51] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[09:18:06] *** Joins: singingboyo (holoirc@moz-sunivd.bchsia.telus.net)
[09:18:17] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[09:19:06] *** Quits: rprichard (rprichard@moz-hrhbcg.en8f.d045.0009.2601.IP) (Ping timeout: 121 seconds)
[09:19:17] *** Joins: rprichard (rprichard@moz-hrhbcg.en8f.d045.0009.2601.IP)
[09:24:29] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[09:35:38] *** kimundi is now known as zz_kimundi
[09:48:31] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[09:50:17] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:01:47] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: Bye)
[10:02:12] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[10:02:16] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[10:06:00] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[10:06:13] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[10:06:21] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[10:07:35] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[10:07:36] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[10:10:39] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[10:15:08] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[10:16:13] *** Joins: hyunsik_ (hyunsik@moz-3qgjl9.ca.comcast.net)
[10:17:36] *** Joins: canhtak (canhtak@moz-csi.7d2.251.178.IP)
[10:17:44] *** Quits: canhtak (canhtak@moz-csi.7d2.251.178.IP) (Client exited)
[10:18:14] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:21:18] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:25:09] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[10:30:43] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[10:32:42] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[10:34:02] *** Quits: marsel (user@moz-1eh.7cm.255.92.IP) (Connection closed)
[10:35:00] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:35:31] <Mutabah> Can someone point me to the documentation on the TLS structure used by rust (i.e. behind the FS register, where the stack limit is stored
[10:37:54] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Quit: )
[10:43:08] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[10:46:20] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[10:46:20] *** ChanServ sets mode: +o pnkfelix
[10:47:10] *** Joins: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com)
[10:48:56] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[10:49:18] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[10:51:45] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:53:06] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[10:56:06] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[11:02:58] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[11:03:19] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[11:04:10] *** Quits: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com) (Connection closed)
[11:04:20] *** Joins: canhtak (canhtak@moz-csi.7d2.251.178.IP)
[11:05:04] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[11:05:06] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[11:06:59] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[11:07:11] <Mutabah> Can you remove stack checks on a single method?
[11:07:51] *** Quits: untitaker (untitaker@moz-oh9r69.highway.telekom.at) (Ping timeout: 121 seconds)
[11:08:29] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[11:11:17] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[11:12:14] *** Quits: ok32 (ok32@moz-2udrtl.broadband.corbina.ru) (Connection closed)
[11:12:35] *** Joins: ok32 (ok32@moz-imu.af0.232.213.IP)
[11:13:22] *** Joins: untitaker (untitaker@moz-fvfpup.highway.telekom.at)
[11:14:36] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[11:14:38] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[11:15:09] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[11:15:58] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[11:19:17] <doener> Mutabah: #[no_stack_check]
[11:20:08] <WindowsBunny> Mutabah: I don't know anything about it because I only know the windows side where we don't have that morestack stuff
[11:22:00] <Mutabah> doener: Thanks
[11:22:10] <doener> hm, #[no_stack_check] seems to also remove the %rsp adjustment... o.O
[11:22:17] <Mutabah> wut?
[11:26:20] <doener> Mutabah: oh, nevermind, it just makes use of the redzone
[11:27:17] <Mutabah> doener: Yeah, I've disabled that (kernel)
[11:41:43] *** Joins: Kxepal832 (Miranda@moz-9odlon.pppoe.mtu-net.ru)
[11:43:14] *** Quits: Kxepal (Miranda@moz-8ekfuk.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[11:50:58] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Connection closed)
[11:52:41] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:53:11] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[11:56:51] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[11:57:40] *** Quits: canhtak (canhtak@moz-csi.7d2.251.178.IP) (Client exited)
[11:57:45] *** Joins: canhtak (canhtak@moz-csi.7d2.251.178.IP)
[11:58:22] *** Joins: canhtak_ (jeremy@moz-kcs.u0t.149.5.IP)
[12:00:33] *** Quits: canhtak (canhtak@moz-csi.7d2.251.178.IP) (Client exited)
[12:00:33] *** canhtak_ is now known as canhtak
[12:01:20] *** Joins: ytain (ytain@moz-vs735c.dsl.teksavvy.com)
[12:07:50] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[12:09:09] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[12:09:45] *** Quits: dprien (dprien@moz-15s7c4.udtd.gaqb.04f8.2a01.IP) (Quit: quit)
[12:12:03] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[12:14:10] *** Joins: eerie_ (eerie@moz-p7jjav.red.bezeqint.net)
[12:14:37] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[12:14:44] *** zz_kimundi is now known as kimundi
[12:16:20] *** Joins: dprien (dprien@moz-15s7c4.udtd.gaqb.04f8.2a01.IP)
[12:17:17] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[12:24:51] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: Bye)
[12:25:15] *** Quits: doener (bs@moz-c061a3.saltation.de) (Ping timeout: 121 seconds)
[12:26:18] *** Joins: bdero (bran@moz-u8a.gci.189.18.IP)
[12:26:22] *** Quits: bdero (bran@moz-u8a.gci.189.18.IP) (Quit: Leaving.)
[12:26:23] *** Joins: bdero (bran@moz-tv7jqp.mit.edu)
[12:26:28] *** Joins: doener (bs@moz-c061a3.saltation.de)
[12:28:18] *** Quits: bdero (bran@moz-tv7jqp.mit.edu) (Quit: Leaving.)
[12:29:09] *** Joins: chris-chambers (chris@moz-48q4qf.res.rr.com)
[12:29:42] *** Joins: bdero (bran@moz-tv7jqp.mit.edu)
[12:31:01] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[12:34:09] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[12:35:03] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[12:36:26] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[12:36:54] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[12:43:36] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[12:44:14] *** Joins: eerie (eerie@moz-p7jjav.red.bezeqint.net)
[12:47:03] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[12:47:17] *** Quits: eerie_ (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[12:50:40] *** Joins: eerie_ (eerie@moz-inkv25.red.bezeqint.net)
[12:52:17] *** Quits: eerie (eerie@moz-p7jjav.red.bezeqint.net) (Ping timeout: 121 seconds)
[12:53:16] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:57:36] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[13:02:15] *** Quits: laumann (thomas@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[13:12:57] *** Joins: laumann (thomas@moz-vj4.hq0.225.130.IP)
[13:14:57] *** Joins: marsel` (user@moz-fv7.ehs.180.94.IP)
[13:15:19] *** Quits: eerie_ (eerie@moz-inkv25.red.bezeqint.net) (Connection closed)
[13:20:13] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:20:17] *** Joins: apcully` (user@moz-mao2lt.fl.comcast.net)
[13:20:46] *** Quits: apcully (user@moz-mao2lt.fl.comcast.net) (Ping timeout: 121 seconds)
[13:22:21] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[13:23:57] *** Joins: dinfuehr (dinfuehr@moz-nic822.highway.telekom.at)
[13:46:03] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[13:50:22] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[13:52:16] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[13:57:09] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[14:07:15] *** Quits: laumann (thomas@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:07:43] *** Quits: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:08:09] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[14:08:46] *** Joins: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP)
[14:09:19] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[14:10:37] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:13:40] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[14:14:17] *** Joins: laumann (thomas@moz-vj4.hq0.225.130.IP)
[14:19:48] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[14:22:21] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[14:23:32] *** Quits: _1126 (flume@moz-bio9kd.io) (Quit: WeeChat 1.1.1)
[14:26:40] *** Quits: eibwen (eibwen@moz-o76k32.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[14:28:14] *** Joins: eibwen (eibwen@moz-o76k32.dip0.t-ipconnect.de)
[14:29:43] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:38:48] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[14:39:09] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[14:45:18] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[14:45:19] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[14:46:07] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[14:46:24] *** Joins: _1126 (flume@moz-bio9kd.io)
[14:47:06] *** Joins: kmcguire (kmcguire@moz-7em.2c1.78.97.IP)
[14:48:18] *** Quits: dinfuehr (dinfuehr@moz-nic822.highway.telekom.at) (Connection closed)
[14:49:50] *** Joins: eerie_ (eerie@moz-inkv25.red.bezeqint.net)
[14:49:53] *** Joins: bombless (_@moz-co37od.0v2u.0v40.0da8.2001.IP)
[14:52:54] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[14:55:54] *** Joins: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com)
[14:57:15] *** Quits: bdero (bran@moz-tv7jqp.mit.edu) (Ping timeout: 121 seconds)
[14:58:30] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:58:37] *** Quits: eerie_ (eerie@moz-inkv25.red.bezeqint.net) (Connection closed)
[14:58:54] <Mutabah> Are there any plans to introduce an optimiser within rustc, to reduce the size of the emitted IR?
[15:00:47] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[15:00:57] <Tobba> I sure hope so
[15:01:42] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[15:02:03] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[15:02:11] *** Quits: imperio (Mibbit@moz-luqi31.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:02:54] <doener> IIRC aatch once worked on a Rust IR
[15:06:06] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:07:15] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[15:07:16] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[15:07:43] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[15:08:14] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[15:08:27] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[15:09:11] *** Quits: kmcguire (kmcguire@moz-7em.2c1.78.97.IP) (Connection closed)
[15:09:52] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[15:10:04] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[15:10:35] <Mutabah> Ugh, translation takes ~3.5s, llvm module takes 10
[15:11:39] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[15:12:45] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[15:13:47] *** Joins: bdero (bran@moz-u8a.gci.189.18.IP)
[15:14:00] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:14:21] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[15:16:23] <steveklabnik> acrichto: woo!
[15:17:02] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[15:17:53] <doener> Mutabah: the things that will cut down the llvm passes the most will probably be disabling llvm assertions (you can do that now if you trust the compiler), and better IR once we get non-zeroing drops.
[15:18:20] *** Joins: blaenk__ (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP)
[15:18:26] <Mutabah> nice
[15:18:44] <doener> Mutabah: part of the gains of the latter _might_ also show up if I ever get the non-copying moves patch done... I'm getting desperate about that :-/
[15:19:09] <doener> probably will have that done by the time we have non-zeroing drops and the change becomes obsolete
[15:19:35] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Connection closed)
[15:19:52] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[15:19:54] <Mutabah> ... Holy cow, my kernel is EXACTLY 9000 lines of rust code long
[15:20:04] <Mutabah> (sadly, it's not quite committable atm, I'm adding a feature
[15:20:45] *** Joins: jdm (jdm@moz-2m5hsh.ckpj.s0pt.0450.2001.IP)
[15:20:47] <nmatsakis> Mutabah: you delete one line for each that you add
[15:20:59] <Mutabah> I hope I can
[15:21:17] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[15:23:03] <Mutabah> How are large objects passed in the current calling convention?
[15:23:11] <Mutabah> On the stack literally, or as pointers?>
[15:23:31] <nmatsakis> pnkfelix: btw for https://github.com/rust-lang/rust/pull/24178 is there some way to read "rendered"?
[15:23:34] <nmatsakis> oops
[15:23:35] <Mutabah> wait, this is amd64, RDI=&object? (even when doing by-value?)
[15:23:36] <nmatsakis> steveklabnik: ^
[15:23:36] <doener> Mutabah: copy on the stack, pointer passed in register :-(
[15:23:41] <Mutabah> doener: Thanks
[15:23:52] <steveklabnik> nmatsakis: yeah
[15:24:02] <steveklabnik> i kept hte commits seaparate :)
[15:24:13] <steveklabnik> well
[15:24:14] <pnkfelix> does https://github.com/steveklabnik/rust/blob/new_toc/src/doc/trpl/SUMMARY.md not work?
[15:24:18] <steveklabnik> https://github.com/steveklabnik/rust/blob/f354c8a580acbb3170883dd271f362d4b9132ddc/src/doc/trpl/SUMMARY.md <- or do you want the whole thing?
[15:24:25] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[15:24:46] <steveklabnik> i can put the whole thing up, but it's just the existing content with 'coming soon' in the gaps
[15:24:55] <pnkfelix> nmatsakis: oR, I guess you want rendering in the diffs ?
[15:25:10] <nmatsakis> I kind of wanted a way to view the whole thing and get a feeling for how the flow felt
[15:25:35] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[15:25:56] <nmatsakis> but I think i'll just r+ it :)
[15:26:09] <doener> Mutabah: that should change with non-zeroing drop, then we should be able to use byval so we don't have to sacrife a register for the pointer
[15:26:29] <Mutabah> doener: fun
[15:26:40] <nmatsakis> steveklabnik: I do like the look of the new TOC
[15:26:56] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:27:17] <steveklabnik> nmatsakis: thanks. can we maybe give it a priority, since this effectively blocks all book-related PRs till it lands?
[15:27:35] <Mutabah> Oh bother it, my fancy use of FnOnce here fails because of unavoidable type pruning
[15:27:36] <SimonSapin> Is the missing_copy_implementations not a thing anymore?
[15:27:43] <SimonSapin> the warning
[15:27:50] <WindowsBunny> SimonSapin: It's just allow by default
[15:28:04] <SimonSapin> uh, ok
[15:28:17] *** Quits: blaenk__ (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[15:28:48] *** Quits: doener (bs@moz-c061a3.saltation.de) (Quit: leaving)
[15:29:03] <chris-chambers> hey everyone, i've got a pull request (gh24155) i'd like to get feedback on, if anyone has time.  it's my first pr to rust, so i'm not sure about the etiquette
[15:29:03] <[o__o]> Improves handling of statement macros.: https://github.com/rust-lang/rust/pull/24155
[15:29:17] <nmatsakis> steveklabnik: yeah I was wondering that -- seems fine to me
[15:30:09] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[15:30:49] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:32:53] <steveklabnik> ugh
[15:32:59] <steveklabnik> homu seems to just not want to get it out of rollup
[15:33:29] <steveklabnik> i'll just do the rollup
[15:35:09] <kimundi> chris-chambers: Heh, nice work, I just needed that feature the other day :)
[15:36:29] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Connection closed)
[15:38:58] <chris-chambers> kimundi: thanks.  it's always good to have greater macro-madness capabilities
[15:41:16] <acrichto> steveklabnik: do you know if we have a guideline for 'mod tests' vs 'mod test' ?
[15:41:56] <steveklabnik> we don't have an explicit one yet, no
[15:42:24] <steveklabnik> in my own testing guide, i did two one way and one the other, i recently merged a PR to bring them in line with each other, but not sure what the answer should be
[15:43:01] <acrichto> ok
[15:48:22] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[15:50:27] *** Joins: dinfuehr (dinfuehr@moz-nic822.highway.telekom.at)
[15:50:36] *** Quits: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[15:52:09] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:57:30] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[15:58:00] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[15:59:34] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[16:04:04] <WindowsBunny> I prefer mod test;
[16:05:56] *** Quits: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt) (Ping timeout: 121 seconds)
[16:06:46] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[16:07:30] *** Quits: fredy (fredy@moz-s6pco4.okeanos.grnet.gr) (Ping timeout: 121 seconds)
[16:07:46] *** Quits: dinfuehr (dinfuehr@moz-nic822.highway.telekom.at) (Connection closed)
[16:09:05] <Eridius> huon: oh dear. I replied with email as it told me, why did it not file that properly? >_<
[16:10:06] <Eridius> huh is there no way to delete posts?
[16:12:58] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:15:46] *** Joins: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP)
[16:17:22] *** Joins: dcrewi (david@moz-3u3d5k.gyrae.net)
[16:18:05] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[16:19:45] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[16:19:50] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Quit: Leaving)
[16:23:07] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[16:24:31] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[16:25:58] *** kimundi is now known as zz_kimundi
[16:25:58] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[16:26:47] <simukis> acrichto: honestly, I’ve got no idea what that build failure is about
[16:27:59] <acrichto> simukis: what OS do you build rust on?
[16:28:44] <simukis> acrichto: linux
[16:28:52] <simukis> (also freebsd ocassionaly)
[16:30:15] <acrichto> simukis: hm, maybe it's memory corruption?
[16:30:20] <acrichto> https://github.com/rust-lang/rust/pull/24029/files#diff-8607b7a8b86d8d84256758dbb321a6fdR110
[16:30:23] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[16:30:24] <acrichto> that value is 8 in my local header file
[16:30:36] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:32:03] <acrichto> simukis: also on linux for me at least the total size of a pthread_mutex_attr is 4 bytes
[16:32:16] <acrichto> simukis: whereas the listing has it as 8
[16:32:21] <acrichto> not that it's a bad thing!
[16:32:36] <acrichto> I wonder if this differs across implementations...
[16:32:39] <simukis> I somehow want to go ahead and make them all be 16 bytes
[16:32:57] <simukis> (just to be safe, yknow)
[16:33:05] <acrichto> wfm
[16:37:22] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[16:42:37] <simukis> acrichto: ok, lets see whether it works now
[16:45:31] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.3.92.1)
[16:46:06] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[16:50:28] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:50:28] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:55:26] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:58:11] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[16:58:14] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:58:14] *** ChanServ sets mode: +o pcwalton
[17:00:58] *** Joins: arielb1 (Ariel@moz-0cbkg9.red.bezeqint.net)
[17:01:21] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[17:03:17] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[17:03:19] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:03:49] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[17:03:49] *** ChanServ sets mode: +o pcwalton
[17:08:01] *** Quits: bdero (bran@moz-u8a.gci.189.18.IP) (Quit: Leaving.)
[17:08:07] *** Joins: bdero1 (bran@moz-u8a.gci.189.18.IP)
[17:08:20] *** Quits: bdero1 (bran@moz-u8a.gci.189.18.IP) (Quit: Leaving.)
[17:08:21] *** Joins: bdero (bran@moz-tv7jqp.mit.edu)
[17:09:05] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[17:09:27] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:10:04] *** Quits: jdm (jdm@moz-2m5hsh.ckpj.s0pt.0450.2001.IP) (A TLS packet with unexpected length was received.)
[17:10:30] *** Joins: jdm (jdm@moz-2m5hsh.ckpj.s0pt.0450.2001.IP)
[17:10:51] *** Quits: jdm (jdm@moz-2m5hsh.ckpj.s0pt.0450.2001.IP) (Connection closed)
[17:14:28] *** Joins: bsonnickfail (holoirc@moz-jj5.v5f.119.199.IP)
[17:17:54] *** Quits: singingboyo (holoirc@moz-sunivd.bchsia.telus.net) (Ping timeout: 121 seconds)
[17:20:26] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[17:24:45] <acrichto> WindowsBunny: ping
[17:24:59] <WindowsBunny> acrichto: pong
[17:25:13] <acrichto> WindowsBunny: so... I can't create symlinks
[17:25:20] <WindowsBunny> acrichto: You need to be admin
[17:25:28] <acrichto> is there any way around that?
[17:25:32] <acrichto> like can I give myself perms?
[17:25:39] <acrichto> I followed some instructions in http://bugs.python.org/file36364/issue10608.patch
[17:25:42] <WindowsBunny> you can run it as administrator
[17:25:47] <acrichto> hm right
[17:25:51] <acrichto> not from a shell though...
[17:25:55] <acrichto> or wait!
[17:25:55] <acrichto> I can!
[17:26:04] <simukis> you can run the shell as an admin
[17:26:18] <acrichto> perfect
[17:26:34] <simukis> still it baffles me you need to be admin to create links
[17:26:44] <simukis> I mean you can do that freely in the windows explorer, rihgt?
[17:26:55] *** Joins: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP)
[17:27:01] <WindowsBunny> windows explorer doesn't let you create symlinks
[17:27:19] <WindowsBunny> it creates shortcuts which are .lnk files
[17:27:23] <simukis> oh
[17:27:40] <WindowsBunny> if you use mklink in command line, it will complain about no permissions
[17:27:49] * simukis always thought shortcut ≡ .lnk
[17:28:12] <WindowsBunny> windows explorer can show symlinks
[17:28:20] <WindowsBunny> and it shows them looking like a link and tells you the target
[17:28:21] <simukis> s/shortcut/symlink/
[17:28:30] <WindowsBunny> but you cannot create symlinks in explorer
[17:29:35] <simukis> still don’t get why it has a permission to allow to create symlinks
[17:29:41] <simukis> oh well
[17:29:54] *** Quits: laumann (thomas@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[17:30:55] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:30:56] *** ChanServ sets mode: +o brson
[17:31:06] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[17:31:08] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[17:31:52] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[17:32:11] *** Joins: eerie_ (eerie@moz-inkv25.red.bezeqint.net)
[17:33:09] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[17:33:51] <kmc> awesome, afl instrumentation as a LLVM pass is totally happening: https://groups.google.com/forum/#!msg/afl-users/gpa_igE8G50/uLAmT6v-bQEJ
[17:34:16] <simukis> kmc: now if they only accepted the stack probe patch by…
[17:34:23] <kmc> what's that do?
[17:34:25] <simukis> what was his nick, again?
[17:34:44] <simukis> kmc: making rust better
[17:35:07] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:36:03] <kmc> oh, patch for LLVM you mean?
[17:37:14] <simukis> yeah.
[17:45:55] <brson> do we want llvm opts off fo releases?
[17:46:03] <brson> seems like that still hasn't been decided?
[17:46:27] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:46:47] <acrichto> brson: do you mean llvm assertions?
[17:47:48] <brson> acrichto: yes
[17:48:11] <acrichto> brson: I've configured all my local checkouts of rust to have LLVM assertions off for quite some time now, and I've never looked back
[17:48:13] <brson> i'm turning debug asserts off for releases and wondering what else i should do
[17:48:17] *** Quits: ok32 (ok32@moz-imu.af0.232.213.IP) (Connection closed)
[17:48:17] <acrichto> I'd be very much in favor of turning them off
[17:48:23] <brson> i should ask nrc
[17:48:24] <acrichto> aren't they already off?
[17:48:28] <acrichto> b/c we optimize?
[17:48:43] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[17:48:52] <brson> configure has them turned on
[17:49:02] <simukis> assertions for nightlies is nice
[17:49:09] <acrichto> brson: oh dear
[17:49:26] <acrichto> brson: yeah I'd definitely be in favor of turning of all debug assertions (rust/llvm) in releases
[17:49:41] <simukis> because there’s some ice-related bugs that are caught by them (just look at the issue tracker, every second issue is LLVM assertion)
[17:50:00] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:50:08] *** rkruppe_ is now known as rkruppe
[17:50:20] <kmc> yes
[17:50:22] <simukis> it’d be nice being able to tell people: it doesn’t work as expected with 1.1? Did you try nightly?
[17:50:26] <kmc> and each of those is UB with assertions off
[17:50:26] <doener> acrichto: that (-C debug-assertions) is what affects the brainfuck compiler benchmark in gh24014
[17:50:26] <[o__o]> compiler generate slower code in my benchmarks, after upgrade from 0.13.0 to master: https://github.com/rust-lang/rust/issues/24014
[17:50:57] <acrichto> doener: wow, this is news to me!
[17:51:19] <doener> should really be off for the release because you can't get rid of those checks in your binaries in they're already in libstd 
[17:51:44] *** zz_kimundi is now known as kimundi
[17:52:02] <doener> s/in they're/if they're/
[17:53:37] <simukis> (just to note, I was speaking about LLVM assertions, I’m ambivalent about the rust’s debug-assertions)
[17:53:50] <doener> it's a bit tricky, since with generics, you (IIRC) can get either a version compiled with your setting, or a version from the defining crate, if that already instantiated a matching monomorphization.
[17:56:10] <kmc> is there an existing way to run a custom LLVM pass as a .so file, without rebuilding rustc's LLVM?
[17:56:26] <kmc> I see -C llvm-args and -C passses but haven't got either to work yet
[17:56:48] <kmc> rustc -C llvm-args="-help"  only shows me codegen-related args
[17:57:45] <WindowsBunny> I just gave the symbolic link right to everyone
[17:57:59] <WindowsBunny> Much easier than hassling with administrator
[18:00:48] <kmc> it seems that the functionality of loading a .so is part of clang and not llvm
[18:00:57] <kmc> so I guess I should reproduce it in rustc's plugin architecture
[18:01:35] <kmc> that would be pretty sweet...   #![cfg_attr(fuzzy, plugin(afl_instrumentation))]
[18:02:12] *** Joins: jxs (joaoxsouls@moz-odlbq5.fcsh.unl.pt)
[18:02:13] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[18:02:40] <doener> kmc: hm, I thought I had a rough start of something like that from ~1.5years ago, but I can't find it anymore :-(
[18:05:21] *** Quits: eerie_ (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:06:23] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[18:06:27] *** Joins: fredy (fredy@moz-s6pco4.okeanos.grnet.gr)
[18:15:47] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Quit: Leaving...)
[18:16:57] *** Joins: O01eg (o01eg@moz-tkn.8t1.112.37.IP)
[18:17:30] *** Quits: bombless (_@moz-co37od.0v2u.0v40.0da8.2001.IP) (Ping timeout: 121 seconds)
[18:17:54] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[18:17:57] <aturon> huon: btw, https://github.com/rust-lang/rust/issues/16920#issuecomment-90451501
[18:18:39] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[18:21:17] <sfackler> aturon: FromPrimitive is also nice to do checked downcasting: https://github.com/sfackler/rust-postgres-large-object/commit/c09addf8ac36e0878733bc95f1bc41aaf30bbf5b#diff-b4aea3e418ccdb71239b96952d9cddb6L158
[18:21:50] <aturon> sfackler: yep, that's the other main use case i want to address, but hopefully in a more general way
[18:22:04] <aturon> (e.g. possibly expanding std::convert a bit)
[18:22:20] <sfackler> cool
[18:23:35] <kmc> doener: I think I have a solution
[18:24:12] <kmc> LLVM already uses static ctors to register passes; I just need to combine that .so with a Rust compiler plugin
[18:24:36] <kmc> it amuses me to 
[18:24:46] <kmc> it amuses me to make a memory-safe language and also have better fuzzer integration than any C compiler
[18:24:57] <doener> heh
[18:25:25] *** Joins: bombless (_@moz-qji.piv.41.59.IP)
[18:25:52] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[18:26:22] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[18:27:23] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[18:29:24] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:29:24] *** ChanServ sets mode: +o pcwalton
[18:32:16] *** Joins: eerie_ (eerie@moz-inkv25.red.bezeqint.net)
[18:32:23] *** Joins: pitdicker (pitdicker@moz-328u1s.adsl.online.nl)
[18:35:21] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:38:44] *** Joins: Guest63 (textual@moz-k055aa.pools.vodafone-ip.de)
[18:40:06] <pitdicker> Thanks for discussing my rfc about changing abs today!
[18:40:11] <pitdicker> At the meeting notes I read: yes if someone writes a patch; is that worth doing?
[18:40:15] <pitdicker> I have a patch laying around. Does this help?
[18:42:12] <aturon> pitdicker: the context there was about testing with brson's new CI tooling to see how much breakage this change would cause
[18:42:36] <aturon> pitdicker: if you have a patch that can bootstrap, brson can probably help you test it against the crates.io ecosystem
[18:42:41] <pitdicker> ah, that would be nice to know
[18:43:46] <pitdicker> My patch is a bit older, as it is from before abs was moved to rust-lang/num
[18:44:00] <pitdicker> what do you mean by bootstrap?
[18:44:45] <aturon> pitdicker: note that abs is still available as inherent methods on the various numeric types; these just don't show up in rustdoc's search right now
[18:45:03] <aturon> e.g. http://static.rust-lang.org/doc/master/std/primitive.i32.html#method.abs
[18:45:23] <aturon> what i mean by bootstrap is: can you successfully run `make`
[18:45:36] <aturon> (thereby making it through the process of bootstrapping the compiler)
[18:45:56] <aturon> you'd need to rebase the patch to the current master to get a good comparison, i think
[18:46:12] <pitdicker> That would be no problem
[18:47:38] <pitdicker> Then, should I make a pull request, that will be picked up by for brson?
[18:48:04] <simukis> pitdicker: I believe a public branch would be enough
[18:48:39] <aturon> brson: ^
[18:50:18] <brson> pitdicker: tell me what branch you need testing
[18:50:29] <brson> pitdicker: it'll take a number of hours to do the toolchain builds
[18:51:44] <simukis> acrichto: re façade crates: I find it fine they appear and are reported in rustdoc/rustc.
[18:51:52] <simukis> though it might be just me
[18:52:10] <acrichto> simukis: sorry what's the context here?
[18:53:57] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[18:54:05] <aturon> acrichto: just noticed another rustdoc bug -- #[stable] is trumping #[deprecated] in some places. actually, it might be a stability index problem. see the Int impl on i32 for example. shows as stable locally, though if you follow the link it's properly deprecated
[18:54:16] <nmatsakis> erickt: ping
[18:54:21] <aturon> acrichto: (this is still the case on your branch)
[18:54:25] <acrichto> aturon: oh that may be showing the stability of the impl
[18:54:28] <acrichto> aturon: instead of the trait
[18:54:37] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[18:54:54] <acrichto> aturon: https://github.com/rust-lang/rust/blob/master/src/libcore/num/mod.rs#L520
[18:55:00] <aturon> acrichto: ahha
[18:55:02] <simukis> acrichto: context is weekly meeting minutes
[18:55:22] <acrichto> simukis: oh right!
[18:55:41] <acrichto> simukis: I still kinda feel like at least the error messages should be fixed
[18:55:45] <pitdicker> brson: I will get right at it. I'll report back after rebasing and make
[18:55:53] <brson> pitdicker: cool
[18:56:06] <acrichto> simukis: for example I got an error today that curl::ffi::err::ErrCode didn't implement a trait, and when I tried to add it the compiler complained it was private b/c it was only accessible at curl::ErrCode
[18:56:34] <acrichto> simukis: but in general I do agree that *entirely* hiding the facade is not the best of ideas, mostly just making it invisible *if* you don't need to worry about it
[18:56:47] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[18:56:51] <brson> brb
[18:56:53] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[18:56:56] <pitdicker> aturon, simuksis: thanks!
[18:56:59] <simukis> just wanted to chime in. I think showing canonical location of type is fine as well. On the other hand, it probably should only resolve to a first publicly visible location
[18:57:12] <aturon> pitdicker: sure, and thanks for raising the issue
[18:57:28] <simukis> e.g. if there was curl::Errcode and curl::ffi::ErrCode both of which were visible, I'd want curl::ffi::ErrCode, I think
[18:57:45] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[18:57:45] *** ChanServ sets mode: +o brson
[18:57:56] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[19:00:45] <steveklabnik> acrichto: while you're working on Rustdoc... ;) https://github.com/rust-lang/rust/issues/24201#issuecomment-91003693
[19:00:58] <brson> erickt: I'm going to test how https://github.com/rust-lang/rust/pull/23905 impacts downstream crates
[19:01:21] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Connection closed)
[19:01:22] *** Joins: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr)
[19:01:43] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[19:02:05] <acrichto> steveklabnik: hehe, emoji ftw!
[19:02:11] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[19:02:41] *** Quits: ytain (ytain@moz-vs735c.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[19:05:11] <aturon> steveklabnik: acrichto: i'm not sure about marking stable APIs (probably those should be the "default", and have no marking at all) but the other suggestions are great!
[19:05:19] <steveklabnik> yeah
[19:05:21] *** Quits: eerie_ (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:05:40] <acrichto> aturon: yeah this is gonna be a bit of an interesting issue to deal with
[19:05:55] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Connection closed)
[19:06:01] <aturon> acrichto: i think removing the little color blobs could actually help with some of the styling issues we were discussing
[19:06:29] <aturon> (e.g. doing something like https://github.com/rust-lang/rust/issues/24201#issuecomment-91005107 instead)
[19:06:33] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[19:06:42] <aturon> that would fix some of the indentation issues
[19:10:00] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[19:11:00] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[19:11:27] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Connection closed)
[19:11:27] <pitdicker> brson: it will take untill tomorrow, cloning from Github is extremely slow somehow...
[19:11:42] *** Joins: eerie (eerie@moz-inkv25.red.bezeqint.net)
[19:12:37] *** Quits: bsonnickfail (holoirc@moz-jj5.v5f.119.199.IP) (Ping timeout: 121 seconds)
[19:15:30] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[19:17:22] <brson> pitdicker: ok, just let me know. send me an email if you want at banderson@mozilla.com
[19:17:50] *** Quits: hyunsik_ (hyunsik@moz-3qgjl9.ca.comcast.net) (Quit: leaving)
[19:17:54] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[19:22:59] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:25:42] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[19:27:06] *** Joins: ytain (ytain@moz-vs735c.dsl.teksavvy.com)
[19:31:59] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[19:32:22] *** Joins: eerie_ (eerie@moz-inkv25.red.bezeqint.net)
[19:34:45] *** Joins: cengizIO (textual@moz-jju.ckp.250.151.IP)
[19:35:45] *** Quits: eerie (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:35:53] *** Quits: bdero (bran@moz-tv7jqp.mit.edu) (Ping timeout: 121 seconds)
[19:43:57] *** Joins: mr_mertfijh (Mibbit@moz-juv.9o3.252.72.IP)
[19:45:02] *** Quits: semarie (semarie@moz-3r6d3j.enn.lu) (A TLS packet with unexpected length was received.)
[19:47:25] *** Quits: eerie_ (eerie@moz-inkv25.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:47:51] *** Joins: eerie (eerie@moz-u71v5v.red.bezeqint.net)
[19:49:43] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[19:50:50] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[19:51:38] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Connection closed)
[19:51:40] *** Joins: user7181 (user@moz-8a4li8.mullvad.net)
[19:56:11] *** Quits: cengizIO (textual@moz-jju.ckp.250.151.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:56:22] *** Quits: mr_mertfijh (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:08:47] *** Parts: pitdicker (pitdicker@moz-328u1s.adsl.online.nl) ("Ik ga weg")
[20:10:28] *** Quits: Guest63 (textual@moz-k055aa.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[20:11:32] *** Quits: eerie (eerie@moz-u71v5v.red.bezeqint.net) (Connection closed)
[20:13:38] *** Joins: Guest63 (textual@moz-k055aa.pools.vodafone-ip.de)
[20:16:11] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:16:41] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Quit: Leaving...)
[20:17:13] *** Joins: erickt (erickt@moz-hll.dh6.34.72.IP)
[20:17:52] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[20:19:13] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.1/20150402191859])
[20:19:16] *** Joins: dinfuehr (dinfuehr@moz-nic822.highway.telekom.at)
[20:19:52] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[20:25:10] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Ping timeout: 121 seconds)
[20:25:49] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[20:28:22] *** Quits: Guest63 (textual@moz-k055aa.pools.vodafone-ip.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:28:51] *** Quits: ytain (ytain@moz-vs735c.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[20:33:46] *** Quits: poorman (poorman@moz-sdl0oq.res.rr.com) (Quit: )
[20:34:42] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[20:35:55] *** Joins: poorman (poorman@moz-sdl0oq.res.rr.com)
[20:37:51] *** Quits: user7181 (user@moz-8a4li8.mullvad.net) (Ping timeout: 121 seconds)
[20:37:54] *** Joins: user7181 (user@moz-8a4li8.mullvad.net)
[20:45:42] *** Quits: dinfuehr (dinfuehr@moz-nic822.highway.telekom.at) (Connection closed)
[20:47:01] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[20:47:11] *** Joins: willem (willem@moz-b11uqs.dynamic.upc.nl)
[20:47:34] <brson> there may be cameras recording b-reel at the meetup tomorrow
[20:47:46] <brson> so dress to impress i guess
[20:48:15] <kmc> :O
[20:48:21] <kmc> nice
[20:50:05] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[20:50:06] *** Quits: erickt (erickt@moz-hll.dh6.34.72.IP) (Ping timeout: 121 seconds)
[20:52:13] *** Joins: erickt (erickt@moz-hc1ntj.sntcca.sbcglobal.net)
[20:52:25] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[20:53:09] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:54:40] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[20:54:40] *** ChanServ sets mode: +o nrc
[20:55:23] *** Joins: simukis1 (nagisa@moz-8t068g.static.zebra.lt)
[20:55:53] *** Quits: filsmick (filsmick@moz-22g0vl.abo.wanadoo.fr) (Quit: )
[20:57:23] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[20:59:58] *** Joins: ytain (ytain@moz-vs735c.dsl.teksavvy.com)
[21:03:54] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:04:07] *** Joins: ok32 (ok32@moz-a0v70j.broadband.corbina.ru)
[21:04:11] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[21:05:04] *** Quits: erickt (erickt@moz-hc1ntj.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[21:08:18] *** Quits: ok32 (ok32@moz-a0v70j.broadband.corbina.ru) (Quit: eof)
[21:08:36] *** Joins: tcurdt (tcurdt@moz-1hor9j.dip0.t-ipconnect.de)
[21:11:51] *** Quits: bombless (_@moz-qji.piv.41.59.IP) (Ping timeout: 121 seconds)
[21:12:50] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[21:14:37] *** Quits: blaenk (blaenkdenum@moz-rrtddg.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[21:14:49] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[21:15:20] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[21:16:01] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[21:17:25] <seanmonstar> i switch multirust to use beta while developing hyper. running cargo test reminded me why i havent (using feature(test))
[21:18:38] *** Quits: arielb1 (Ariel@moz-0cbkg9.red.bezeqint.net) (Quit: Ex-Chat)
[21:20:20] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Connection closed)
[21:21:18] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[21:22:00] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[21:22:27] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[21:22:32] <andars> Should `--target arm-none-eabi.json` be treated as a different target than `--target arm-none-eabi` for an rlib?
[21:28:25] <nrc> brson: ping
[21:30:51] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[21:35:30] *** Quits: user7181 (user@moz-8a4li8.mullvad.net) (Ping timeout: 121 seconds)
[21:36:23] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[21:37:16] <brson> nrc: pong
[21:38:39] <nrc> brson: I'm looking at measuring compile time. I figure to make this fully automated it will need a dedicated server. Do we have access to one we could use already? Or do you who I should talk to to get one?
[21:38:44] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Connection closed)
[21:39:24] *** Joins: singingboyo (holoirc@moz-jj5.v5f.119.199.IP)
[21:40:57] <brson> nrc: I do have an extra i7 under my desk that could be reimaged, though not all are enamored with having hardware under my desk
[21:41:34] <nrc> sounds ideal!
[21:42:22] <brson> ok, i'll image it this afternoon
[21:42:31] <brson> nrc: what sort of stuff are you doing?
[21:42:42] <huon> wooo, dedicate benchmarkers!
[21:42:46] <brson> nrc: i could use your review on https://github.com/rust-lang/rust/pull/24205
[21:43:15] *** Joins: user7181 (user@moz-8a4li8.mullvad.net)
[21:43:25] * nrc looks
[21:45:42] <nrc> brson: so far I have scripts for processing the output of time-passes and various bits and bobs for automatically saving that data for GH, http APIs for accessing it, and a frontend for graphing. I'm looking at the bootstrap and plan to add other benchmarks soon. Also stats as well as graphs
[21:47:44] <brson> sounds great!
[21:52:50] *** Joins: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com)
[21:58:36] <geofft> has there been any nontrivial discussion of what ABI stabilization might (eventually) look like? 
[21:58:58] <geofft> or what a third-party stabl- ABI-as-a-crate might look like? 
[21:59:21] <geofft> all I'm seeing is #10052, which has almost no discussion 
[22:00:07] *** jdm is now known as jdm|busy
[22:01:35] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Quit: leaving)
[22:02:51] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[22:02:53] <nrc> geofft: not really, we've been pretty happy with putting off ABI stabilisation for as long as possible
[22:03:16] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[22:06:40] <nrc> why do we rename labels when we expand?
[22:07:05] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[22:07:05] *** ChanServ sets mode: +o brson
[22:07:07] <nmatsakis> I am doing some hacky analysis of derive statements. interestingly, roughly 50% of derive statements include both Copy/Clone
[22:07:58] <nmatsakis> 75% include Clone
[22:07:59] <nmatsakis> makes sense
[22:08:01] <nrc> And do we do any expansion of for loops before the proper expand phase?
[22:08:28] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:09:15] <nmatsakis> nrc: labels might be part of hygiene
[22:09:18] <kmc> does cargo have a way to build examples in release mode?
[22:09:34] <nmatsakis> kmc: "examples"?
[22:09:53] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:10:15] <steveklabnik> kmc: i forget, but i _thought_ it did it by default
[22:10:19] <kmc> it automatically builds any .rs file under examples/
[22:11:02] <steveklabnik> right, but it does it when you compile tests
[22:11:09] <steveklabnik> ... this is more #cargo than #rust-internals
[22:11:42] <nrc> hmm, by labels, looks like I actually mean loop labels or something? I'm looking at expand_loop_block, which seems to only rename labels, but the comment doesn't say why it does that
[22:12:46] <nmatsakis> nrc: yes I suspect you mean loop labels, only kind of labels i'm aware of
[22:13:23] <nrc> nmatsakis: oh, we don't allow labelling of arbitrary blocks?
[22:13:33] * nrc has never once used a label
[22:13:37] <kmc> \o/ just successfully used afl to find a crashing bug (intentional, and obvious to human) in a rust program
[22:14:23] <brson> kmc: cool!
[22:14:34] <nrc> in which case hygiene looks like a good explanation
[22:14:36] <nmatsakis> nrc: I don't think so, but we've often said we'd like to eventually 
[22:14:47] <kmc> brson: want to r? the smallish rustc patch?
[22:14:58] <brson> yes
[22:15:24] <kmc> :D https://github.com/rust-lang/rust/pull/24207
[22:15:24] <brson> kmc: what kind of tooling besides the instrumentation is needed. are you actually using afl itself?
[22:15:44] <brson> looks like it
[22:15:47] <kmc> yeah; fortunately most of the smarts of afl are in the driver program (afl-fuzz) and not the injected code
[22:16:41] <kmc> in fact the code injection is so simple that it's already been implemented as: a pin tool, a qemu tool, a tool for some other dynamic framework I forgot the name of, and (as of today) an LLVM pass, which is what I'm using
[22:16:51] <brson> kmc: oh, man more unspeccable plugin stuff...
[22:16:56] <brson> tricky
[22:17:19] <kmc> that's in addition to the original / "official" instrumentation which literally printf()'s a fixed sequence of assembly after every instruction that starts with the letter 'j' not followed by the letter 'm'
[22:17:36] <kmc> brson: it's no worse than rustc -C passes=... or -C llvm-args=...
[22:17:43] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:17:49] <kmc> you can already shove a LLVM pass into the rust executable thru LD_PRELOAD
[22:17:57] <kmc> but you can't invoke it in a nice way
[22:17:59] <brson> not worse, but more of the same amount of bad
[22:18:03] <kmc> sure
[22:18:06] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Quit: leaving)
[22:18:13] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[22:18:13] <brson> i'm not saying we can't do it, i'm just complaining
[22:18:25] <kmc> these are rustc flags not Rust language features
[22:18:31] <kmc> they don't ever need to be "stable" in the Rust language sense
[22:18:37] <kmc> obviously a non-LLVM implementation could not provide them
[22:18:41] <brson> right, at least these are protected by the gate
[22:18:43] <kmc> I think clang requires -Zclang -load, or something
[22:18:48] <kmc> *nod*
[22:19:02] <kmc> otoh, I don't interpret "stability" in the 1.x sense to include "you could implement this language w/o LLVM"
[22:19:09] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[22:20:32] <brson> nrc: are you ok extending plugins to understand llvm passes, gated?
[22:20:59] * nrc looks at patch
[22:21:21] <richo> kmc++, this PR is great
[22:21:26] <kmc> thanks :)
[22:21:41] <huon> debugging closure type mismatches is quite annoying
[22:23:46] <kmc> https://gist.github.com/kmcallister/9ba8deeb15f952cc1cf1
[22:24:09] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[22:24:14] <nrc> brson: yeah, I think it is the best way to do so, and we're reserving the right to change anything about plugins in the future
[22:24:57] <brson> thanks for taking a look
[22:25:02] <kmc> fwiw the clang version also uses a plugin
[22:25:23] <kmc> not that it has existed for more than a few days
[22:25:27] <nmatsakis> huon: example?
[22:26:22] <huon> nmatsakis: trying to call http://ironframework.io/doc/router/struct.Router.html#method.get with a closure `move |req: &mut Request| -> IronResult<Response> { ... }`
[22:26:22] <nrc> the llvm dependence doesn't bother me, but I worry a little bit about plugins turning into a sprawling disorganised feature that runs its tendrils into all sorts of enexpected parts of the compiler.
[22:26:30] <huon> nmatsakis: which seems like it should work? http://ironframework.io/doc/iron/middleware/trait.Handler.html
[22:27:24] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:27:36] <huon> hm, it seems it's the contents of my closure that's upsetting it
[22:27:46] <nmatsakis> huon: perhaps it's not Send/Sync?
[22:28:29] <huon> that appears to be the case... now which captured variable is causing that...
[22:29:21] <huon> nmatsakis: https://gist.github.com/huonw/a08a65ef65cf4fb9880f is the error message fwiw
[22:29:50] <sfackler> <'r, 'r, 'r> seems... suspect
[22:29:59] <huon> oh, it's because I'm moving out
[22:30:44] <nmatsakis> sfackler: oh, yeah, that's cause I'm calling some fn that I thought would generate fresh identifiers, but it seems it doesn't :)
[22:30:48] <nmatsakis> I should fix that
[22:31:18] <nmatsakis> huon: hmm can you maybe open a 1.0 issue to improve the error message, perhaps with an isolated example? we could probably explain it
[22:31:27] <Luqman> kmc: that afl integration looks really cool!
[22:31:34] <kmc> thanks
[22:31:42] <kmc> emailing afl-users worked better than I could have hoped for
[22:31:45] <sfackler> I think sully was doing some custom llvm pass + rustc stuff recently
[22:31:54] <kmc> in that someone had already done most of the work and just needed the slightest excuse to publish it
[22:31:57] <kmc> <3 open source
[22:32:31] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:32:45] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[22:33:44] *** Quits: willem (willem@moz-b11uqs.dynamic.upc.nl) (Quit: leaving)
[22:38:10] <sully> sfackler: yeah, sort of
[22:38:29] <sully> https://github.com/msullivan/rmc-compiler
[22:39:35] *** Joins: weirdewff (Mibbit@moz-juv.9o3.252.72.IP)
[22:39:36] <kmc> neat!
[22:40:35] <sully> it is mostly designed to work with C/C++ but it also has rust support
[22:40:37] * kmc reads the paper
[22:41:04] <sully> although it is not that well thought out or documented or anything
[22:41:23] <sully> might be useful to skim the talk first? not really sure
[22:41:27] <huon> nmatsakis: https://github.com/rust-lang/rust/issues/24210 feel free to triage as you think appropriate (I'm not sure of P-high or whatever)
[22:41:34] <sully> Real Soon Now I'll write the blog post
[22:46:43] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[22:47:58] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Quit: leaving)
[22:48:04] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[22:49:24] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[22:50:51] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Quit: So long!)
[22:51:04] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:51:48] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Ping timeout: 121 seconds)
[22:52:45] *** Quits: weirdewff (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:55:04] *** Joins: {[]}grant ({0}grant@moz-k7fknj.mo.charter.com)
[22:55:46] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[22:56:26] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[22:57:08] *** kimundi is now known as zz_kimundi
[22:58:30] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[22:58:30] *** ChanServ sets mode: +o pcwalton
[23:01:46] *** Quits: simukis1 (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[23:03:06] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:05:23] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[23:11:18] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[23:12:18] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:13:38] *** Quits: tcurdt (tcurdt@moz-1hor9j.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[23:14:37] *** Joins: tcurdt (tcurdt@moz-e7arl5.dip0.t-ipconnect.de)
[23:16:45] *** Quits: jdm|busy (jdm@moz-i5m.05u.207.66.IP) (Quit: )
[23:18:00] <bstrie> erickt: is there a rust meetup tomorrow?
[23:18:11] <erickt> bstrie: there is!
[23:18:19] <erickt> accidentally our biggest yet!
[23:18:43] <erickt> I slightly forgot to cap the rsvps until yesterday
[23:19:16] <bstrie> erickt: if we've capped the rsvps then I guess there's no point announcing it on reddit :P
[23:19:24] <bstrie> erickt: lunch tomorrow as well?
[23:19:29] <erickt> there's always the livestream
[23:20:44] *** Quits: user7181 (user@moz-8a4li8.mullvad.net) (Quit: leaving)
[23:28:57] *** Quits: hirschen (hirschen@moz-7nsp5h.h7ls.rebm.810b.2a02.IP) (Ping timeout: 121 seconds)
[23:29:22] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[23:38:10] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:41:44] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:42:48] <seanmonstar> aturon: whatcha think of having some From impls for tuples? such that (&str, &str).into() can return (String, String) and so forth?
[23:43:41] <reem> +1 ^
[23:43:54] <aturon> seanmonstar: seems like a good idea! there's also some stuff around Box and friends we should consider
[23:44:48] <seanmonstar> dont know what friends are needed
[23:44:59] <reem> is there Into<T> for Box<T>?
[23:45:01] *** Quits: rcxdude (rcxdude@moz-b5a5f3.cable.virginm.net) (A TLS packet with unexpected length was received.)
[23:45:27] <seanmonstar> that would unbox T?
[23:47:42] *** Joins: rcxdude (rcxdude@moz-b5a5f3.cable.virginm.net)
[23:48:22] <reem> yes
[23:48:29] <reem> mostly for generics, just wondering if it exists
[23:50:28] <seanmonstar> doesnt look like it
[23:51:27] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[23:51:40] <reem> impl<T, D> AsRef<T> for D where D: Deref<Target=T> would be nice too, not sure of the coherence issues
[23:54:33] *** Quits: marsel` (user@moz-fv7.ehs.180.94.IP) (Ping timeout: 121 seconds)
[23:54:41] *** Quits: ytain (ytain@moz-vs735c.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[23:55:04] <bstrie> erickt: oh crap, do I need to rsvp for the event?! can you sneak me in? :)
[23:56:38] <reem> (reminder, we should have index cards for name tags!)
[23:56:46] <reem> especially with so many people
[23:56:50] <nrc> is there any way to use master on play.rust-lang rather than beta?
[23:57:27] <nmatsakis> I feel ike it should just use master
[23:57:30] * acrichto closes the 1.0 beta milestone
[23:57:30] <nmatsakis> all the time
[23:57:43] *** Joins: rovar (rovar@moz-m2j7h0.dyn.optonline.net)
[23:58:07] <steveklabnik> nrc: not yet, there's an open issue
[23:58:11] <reem> I agree with nmatsakis, it doesn’t seem like there’s a big reason not to
[23:58:15] <acrichto> nrc: would you be opposed to playbot-nightly and playbot-nightly-mini?
[23:58:22] *** Quits: James_ (quassel@moz-olnmts.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[23:58:26] <steveklabnik> i'd assume it should use stable by default
[23:58:29] <steveklabnik> personally
[23:58:34] <acrichto> steveklabnik: agreed
[23:58:51] <nrc> I would like to use both, I don't really care which is the default
[23:59:19] <nrc> acrichto: I was talking about https://play.rust-lang.org/ rather than playbot, but those names don't sound bad to me
[23:59:31] <acrichto> hm maybe I'll just do the web for now
[23:59:52] <nmatsakis> steveklabnik: acrichto: why? you still have to opt into unstable faetuers
[23:59:57] <brson> acrichto: can you ping rust-android1.corp.mtv2.mozilla.com from where you are?
