[00:00:04] *** Joins: markwash (mwashenber@moz-DB322D1D.dedicated.static.sonic.net)
[00:00:17] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[00:00:46] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:00:48] *** Joins: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP)
[00:00:54] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:01:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:01:57] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:02:35] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[00:02:44] *** Quits: itdnhr (it@F8C11080.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[00:03:05] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[00:07:21] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:09:01] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[00:09:09] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[00:09:26] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[00:10:43] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[00:11:34] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:12:42] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[00:12:53] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[00:13:49] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:14:09] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[00:14:41] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
[00:15:11] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[00:15:37] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[00:15:51] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Client exited)
[00:16:04] *** Quits: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com) (Ping timeout)
[00:16:06] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:16:07] *** ChanServ sets mode: +ao dherman dherman
[00:16:21] *** Joins: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com)
[00:18:37] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[00:19:22] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[00:20:15] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:21:43] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:21:59] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[00:26:51] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:26:59] *** Quits: kphelps (kphelps@moz-8B098CA5.hsd1.ma.comcast.net) (Ping timeout)
[00:28:06] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Connection reset by peer)
[00:28:23] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:29:15] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[00:30:22] *** Quits: markwash (mwashenber@moz-DB322D1D.dedicated.static.sonic.net) (Quit: markwash)
[00:32:51] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[00:33:33] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[00:33:35] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[00:36:02] *** Joins: itdnhr (it@moz-7FAAAB8D.bstnma.fios.verizon.net)
[00:37:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:37:50] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[00:38:03] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[00:38:06] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Client exited)
[00:38:35] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:40:21] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[00:40:29] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[00:42:10] *** Joins: kphelps (kphelps@moz-8B098CA5.hsd1.ma.comcast.net)
[00:43:54] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:44:07] *** Joins: TimAbraldes (quassel@383121B7.B2666F0E.66399531.IP)
[00:44:36] *** Quits: TimAbraldes (quassel@383121B7.B2666F0E.66399531.IP) (Connection reset by peer)
[00:44:48] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:44:58] *** Joins: TimAbraldes (quassel@383121B7.B2666F0E.66399531.IP)
[00:45:32] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:45:35] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:46:03] *** jorendorff is now known as jorendorff_away
[00:46:41] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[00:51:37] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:51:40] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[00:51:48] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:53:06] *** Joins: jstevans1 (Instantbir@6DDA9CAC.7FDDA9B5.B7830B68.IP)
[00:53:19] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[00:54:02] *** Quits: jstevans (Instantbir@F9C38261.6CF13040.DDE5D3F6.IP) (Ping timeout)
[00:54:08] *** Joins: jstevans (Instantbir@F9C38261.6CF13040.DDE5D3F6.IP)
[00:54:33] *** Joins: bynaryshef (bynaryshef@moz-65BC52B3.mem.bellsouth.net)
[00:54:50] *** Quits: jstevans1 (Instantbir@6DDA9CAC.7FDDA9B5.B7830B68.IP) (Ping timeout)
[00:54:52] *** Quits: bynaryshef (bynaryshef@moz-65BC52B3.mem.bellsouth.net) (Quit: Leaving)
[00:54:55] *** Joins: jstevans1 (Instantbir@6DDA9CAC.7FDDA9B5.B7830B68.IP)
[00:55:55] *** Quits: jstevans (Instantbir@F9C38261.6CF13040.DDE5D3F6.IP) (Ping timeout)
[00:56:12] *** Joins: jstevans (Instantbir@9C88B39.D2312BC6.DDE5D3F6.IP)
[00:57:03] *** Joins: Jesin (Jesin@moz-63C897DA.res.lehigh.edu)
[00:57:27] *** Quits: jstevans1 (Instantbir@6DDA9CAC.7FDDA9B5.B7830B68.IP) (Ping timeout)
[00:58:12] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[00:59:08] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Connection reset by peer)
[00:59:31] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:59:33] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[01:00:04] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[01:00:47] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[01:04:42] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[01:04:48] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Client exited)
[01:06:35] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[01:08:03] *** Joins: tautologico (iorek@E0D804D3.CFE755C8.C27E1635.IP)
[01:11:27] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[01:11:40] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[01:13:12] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[01:13:21] *** Quits: jordyd (jordyd@7DAC4ACE.77F880E0.D9401097.IP) (Ping timeout)
[01:15:57] *** Quits: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:17:00] *** Parts: garthk (garth@moz-B118B14A.static.internode.on.net) ()
[01:17:31] *** Joins: garthk (garth@moz-B118B14A.static.internode.on.net)
[01:17:44] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[01:19:20] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[01:19:29] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[01:21:15] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Quit: Leaving...)
[01:24:26] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[01:24:45] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[01:24:45] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:26:10] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[01:27:11] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[01:27:27] <mark_edward> hey if port C++ code licensed under a CC-SA to Rust, do i need to retain that license? 
[01:27:29] *** Quits: tedh (tedh@moz-A5D1CAB7.public.wayport.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:29:04] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:29:43] <diverse> pcwalton: what are your thoughts on the placement new change?
[01:29:50] <pcwalton> which one
[01:29:52] <pcwalton> :)
[01:30:04] <pcwalton> we have about two dozen different proposals now ;)
[01:30:22] <Eridius> pcwalton: sorry ;)
[01:30:27] <pcwalton> no problem!
[01:30:28] <diverse> hehe, well, which of the proposals you like best?
[01:30:31] <diverse> I'm curious.
[01:30:34] <pcwalton> I think it is good to consider all possibilities
[01:30:46] <pcwalton> right now I'm leaning toward box() but I am not a BDFL
[01:30:54] <pcwalton> I'd like to talk to the other core team members
[01:30:54] <Eridius> BDFL?
[01:30:57] <Eridius> oh
[01:30:58] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[01:30:59] <pcwalton> dictator for life
[01:30:59] <tikue_> benevolent dictator 
[01:31:07] <pcwalton> I'm not a dictator, benevolent or otherwise :)
[01:31:19] <Eridius> right now, my favorite is keeping ~ for unique ptr allocation and using expr@place for placement
[01:31:24] <Eridius> although box() would not make me unhappy
[01:31:32] <diverse> Well you have a lot of influence, if that doesn't make you a dictator ;)
[01:32:04] <Eridius> pcwalton: I would encourage you to at least decide categorically against reserving `new` as a keyword sooner rather than later, even if the specific choice for placement is deferred, so we can revert the recent name changes ;)
[01:32:12] <tikue_> box() is better than new(), definitely. expr@place seems like it'd be annoying to parse
[01:32:12] * Eridius has avoided updating his local code because he doesn't want to rename Path::new() :/
[01:32:15] *** Quits: nkoep (nik@moz-5F3B1C42.pool.mediaways.net) (Client exited)
[01:32:16] *** Joins: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net)
[01:32:26] <pcwalton> yes, I would like to make a decision soon. I would like to talk to the others
[01:32:40] <mark_edward> I like @
[01:32:40] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[01:33:53] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[01:34:50] <kmc> mark_edward: re CC-SA: ask a lawyer, seriously
[01:35:01] <kmc> you need an informed opinion on the meaning of "derived from or based upon the Licensed Material and in which the Licensed Material is translated, altered, arranged, transformed, or otherwise modified"
[01:35:08] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[01:35:29] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:35:42] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:36:16] <tikue_> one problem with expr @ place (that pcwalton pointed out on the ML) is that then you can't have the unspecified default to unique
[01:36:18] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Ping timeout)
[01:36:32] <cmr> tikue_: that's why Eridius wants to keep ~ for unique
[01:36:46] <mark_edward> kmc, dang it. i just hate all this business. i want to know ifit's compatible with the BSD license
[01:37:11] <tikue_> cmr: ah, right. i think that'd be kind of nice, actually
[01:37:19] <tiffany> has anyone suggested box expr @ place yet?
[01:37:23] <kmc> I think CC licenses aren't meant to be used for code, anyway (other than CC0)
[01:37:24] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[01:37:32] <tikue_> tiffany: /s ?
[01:37:50] <Eridius> tiffany: I'm not sure what the point of using `box` in that context is
[01:38:14] <tiffany> well, it still lines up with the earlier suggestion of 'box expr' to replace ~
[01:38:17] <strcat> kmc: I like sqlite's licensing policy - it's public domain and if that's not good enough for your lawyers, you can buy a license ;P
[01:38:18] <mletterle> I liked @ myself. box() is an okay comprimise, but I liked the compactness of sigils.
[01:38:23] <tiffany> and the syntax remains consistent
[01:38:32] <kmc> mark_edward: is the copyright of the original code held by a large number of people or a few? maybe you could just get explicit permission
[01:38:33] <diverse> yeah I would like to keep it simple with 'box(P) thing'
[01:38:52] *** Quits: Liothen (liothen@96625EAC.566451EE.31191230.IP) (Quit: Textual IRC Client: www.textualapp.com)
[01:39:12] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[01:39:13] <mletterle> eh.. could we have @(P)?
[01:39:16] * mletterle ducks
[01:40:19] <Eridius> tiffany: with the expr@place idea, there is no `box` keyword at all.
[01:40:26] <tikue_> mletterle: why `@(P) thing` over `thing @ P` ?
[01:40:48] <tiffany> yeah but you still need a special case for ~
[01:40:52] <Eridius> `@(P) thing` is an option, but doesn't make much sense except to people familiar with C++'s `new(place) thing`
[01:40:55] <tiffany> unless you do expr@Unique
[01:41:06] <Eridius> tiffany: not if you leave ~ alone
[01:41:26] <Eridius> my thinking is ~ is the unique ptr allocation operator, and that can be left alone. @ is the placement operator, which is a distinct action from unique ptr allocation
[01:41:28] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[01:41:33] <mletterle> tikue_: I was just being silly really.
[01:41:35] <Eridius> C++ conflates allocation and placement, but there's no reason Rust needs to do the same
[01:41:40] <SiegeLord> Might as well just use in then :P
[01:41:43] <tikue_> mletterle: oh ok :P sarcasm is hard
[01:42:01] <Eridius> SiegeLord: my worry with using `in` is it precludes using that keyword for other things
[01:42:04] <klutzy> mark_edward: as a general rule, don't use cc-licensed codes ;) CC explicitly discourages use of ccl on software
[01:42:28] <mark_edward> klutzy, thanks for the advised
[01:43:33] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:43:41] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[01:43:54] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:44:14] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:44:41] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[01:44:57] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[01:45:14] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Max SendQ exceeded)
[01:45:30] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[01:45:38] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:46:27] *** Quits: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP) (Ping timeout)
[01:46:42] *** Joins: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP)
[01:46:44] *** jorendorff_away is now known as jorendorff
[01:48:23] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[01:50:28] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[01:51:59] *** Quits: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com) (Ping timeout)
[01:52:20] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[01:52:34] *** Quits: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP) (Ping timeout)
[01:52:58] *** Joins: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com)
[01:53:36] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[01:53:36] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:54:44] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[01:55:17] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[01:56:13] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:56:58] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[01:59:14] *** Quits: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com) (Ping timeout)
[02:00:35] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[02:01:26] *** Joins: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com)
[02:04:23] *** Quits: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com) (Ping timeout)
[02:04:57] *** Joins: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com)
[02:05:17] *** Joins: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP)
[02:07:07] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[02:07:09] <mark_edward> doomlord_, ping
[02:10:20] <mark_edward> does |A| -> B = &fn(A) -> B?
[02:10:37] <klutzy> yep
[02:12:53] <mark_edward> and does |A| == &fn(A) ?
[02:13:06] <mark_edward> or do i need |A| -> ()
[02:13:52] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[02:14:06] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[02:14:43] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[02:14:57] <SiegeLord> Just |A|
[02:15:08] <doomlord_> hi
[02:15:22] *** Quits: jvshahid (jvshahid@BE83DFD.50866E69.CA2DF2C0.IP) (Ping timeout)
[02:17:20] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[02:17:43] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[02:19:03] <mark_edward> doomlord_, hey! I'm going to try and update rustfind to master, make a PR for that, and then clean up the code a bit, (just spacing changes and such, no change in code semantics). is tha tokay with you?
[02:19:14] <mark_edward> the second bit will be a second PR
[02:19:42] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:20:41] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[02:21:24] *** Joins: montychen (Mibbit@moz-67F18794.gae.googleusercontent.com)
[02:22:16] <montychen> Rust is suitable for web?
[02:22:21] <doomlord_> i was going to say.. i haven't been paying attention for a while, i guess it doesn't compile now :)
[02:22:45] <doomlord_> if you update it, great
[02:23:05] <doomlord_> cleanup aswell , should be fine
[02:23:17] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[02:23:27] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[02:24:20] *** Quits: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com) (Ping timeout)
[02:25:07] *** Joins: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com)
[02:25:41] <mark_edward> doomlord_, cool, im on it
[02:25:54] <Yurume> montychen: web server? client-side application? browser? :)
[02:26:37] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[02:26:42] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[02:27:13] <mark_edward> is there anywhere i can read up on raw strings and how that stuff works?
[02:27:52] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[02:28:32] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:28:38] <montychen> Is Rust suitable for web app development,  
[02:29:04] <Earnestly> montychen: Is C++ or C?
[02:29:30] *** jorendorff is now known as jorendorff_away
[02:29:58] <doomlord_> rust is very early so libraries may not exist, "can you do this" ... "yes you can"
[02:30:03] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[02:30:28] <Earnestly> Ah but the question was not "is it possible" but "suitable"
[02:31:36] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[02:31:56] <doomlord_> what makes a language suitable for webdevelopment;
[02:32:07] <doomlord_> i gather c/c++ aren't used much, but there is the Wt library
[02:32:58] <doomlord_> web development favours languages which trade off lower performance for higher convinience i guess
[02:33:12] <montychen> PHP is suitable for web app developmnet,   I want to know Rust is suitable web app.
[02:33:14] <snerd> rust looks like it mike make a nice web app dev env one day
[02:33:21] <Earnestly> php is never suitable for anything :x
[02:33:22] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[02:34:03] <Earnestly> montychen: Nope
[02:35:09] <Earnestly> (outside of emscripten)
[02:37:51] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[02:39:04] <docbrown> montychen: It's perfectly suitable if you have a specific use case that requires a low-level programming language. But if you're looking for a "batteries included" sort of environment, a scripting language like Python, Ruby, or Javascript (Node.JS) would probably be more suitable.
[02:39:38] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[02:41:41] *** Quits: tautologico (iorek@E0D804D3.CFE755C8.C27E1635.IP) (Quit: zzz)
[02:42:21] *** Joins: tautologico (iorek@E0D804D3.CFE755C8.C27E1635.IP)
[02:42:30] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[02:43:23] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[02:44:33] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[02:44:42] <ChrisMorgan> montychen: I'm the rust-http developer, and I would say for the normal user that Rust and rust-http are certainly not ready for use in production web development.
[02:44:48] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:45:22] <pcwalton> ChrisMorgan: re your conversation on HN, I think that we should just provide an out
[02:45:28] <pcwalton> and continue down the strong typing road
[02:45:37] <pcwalton> one thing that was not mentioned is that strong typing can be more efficient
[02:45:51] <pcwalton> string comparisons all the time are bad
[02:46:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:47:40] *** Joins: jdsanders (Adium@moz-F4CA1153.hlrn.qwest.net)
[02:48:32] <ChrisMorgan> pcwalton: I've mentioned efficiency before as a reason for it.
[02:48:55] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[02:48:55] <ChrisMorgan> The main difficulty with "an out" is figuring out how to do it without compromising the rest.
[02:48:59] <pcwalton> also keep in mind that that thread is going to be full of strong typing haters by its nature
[02:49:06] <pcwalton> but it is true that I think we do need an out, for Servo as well
[02:49:11] <pcwalton> have a list of "extra" headers?
[02:49:57] *** Quits: montychen (Mibbit@moz-67F18794.gae.googleusercontent.com) (Quit: http://www.mibbit.com ajax IRC Client)
[02:51:03] *** Quits: JanC (janc@moz-8305164E.dsl.scarlet.be) (Ping timeout)
[02:51:12] <jdsanders> hi! is there a good/conventional way to distribute a text file along with a rust package?
[02:51:50] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:52:31] <ChrisMorgan> jdsanders: do you mean as a text file that it depends on for some functionality, or documentation, or a license, or something else?
[02:53:38] <ChrisMorgan> pcwalton: at present, headers.extensions is a map of arbitrary headers, including the undocumented ability to use it as a weakly-typed override on another, provided said other is set to None.
[02:53:49] <pcwalton> that seems good enough
[02:54:43] <mark_edward> hey how do i get newlines and tabs in a raw string? and how do i get {} in the output?
[02:54:59] <jdsanders> ChrisMorgan: yes, a text file with data used at run-time
[02:55:00] <ChrisMorgan> mark_edward: a multiline raw string would do it.
[02:55:18] <mark_edward> ChrisMorgan, what about tabs? and curly braces?
[02:55:22] <ChrisMorgan> jdsanders: consider if you can compile it into the library; it will probably work better if you do.
[02:55:30] <ChrisMorgan> mark_edward: what about them? It's all just text.
[02:55:33] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:55:51] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:56:08] <ChrisMorgan> mark_edward: in the end, though, don't expect to be able to do everything you want to with raw strings. They're called raw strings for a reason. They're convenient at times, but by no means a necessity for a language.
[02:56:23] *** Quits: tautologico (iorek@E0D804D3.CFE755C8.C27E1635.IP) (Quit: zzz)
[02:56:27] <mark_edward> rusti, format!(r#""{}""#,5);
[02:56:40] *** Joins: tautologico (iorek@E0D804D3.CFE755C8.C27E1635.IP)
[02:56:47] <jdsanders> ChrisMorgan: yeah, thought that might be the answer
[02:57:01] <mark_edward> rusti, format!(r#""{}""#,5)
[02:57:37] <jdsanders> it's just a clumsier workflow to have to "compile" data into executable code, especially if that data changes periodically
[02:58:28] <SiegeLord> Can you not use pkg.rs to install your data wherever you prefer?
[02:58:36] <ChrisMorgan> jdsanders: what's the nature of the data?
[02:58:50] <ChrisMorgan> Do you *really* want it as text, or is it data that can be turned into appropriate static structures?
[02:59:13] <tikue_> pcwalton: link to the HN article in discussion?
[02:59:29] *** Quits: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au) (Ping timeout)
[02:59:29] <ChrisMorgan> tikue_: https://news.ycombinator.com/item?id=6830384
[02:59:34] <tikue_> thanks ChrisMorgan 
[02:59:56] <jdsanders> ChrisMorgan: corpus of text that I'm generating statistics about for use elsewhere
[03:00:00] <ChrisMorgan> jdsanders: see also include_str! and include_bin! (documented at http://static.rust-lang.org/doc/master/rust.html#syntax-extensions)
[03:00:06] *** Joins: Liothen (liothen@96625EAC.566451EE.31191230.IP)
[03:00:11] <jdsanders> can definitely be compiled into a static data structure
[03:00:38] <jdsanders> which is what I'm doing now, but as I update it, I have to re-generate the data structure and re-add it to my source
[03:00:54] <jdsanders> which is clumsier (though more performant, of course) than updating a file that is read at run-time
[03:01:00] <ChrisMorgan> Oh yeah, that'd still require it to be distributed, wouldn't it.
[03:01:33] <jdsanders> cool, include_str! would be great, but yeah, would still need a way to distribute in such a fashion that I know the path to the file
[03:01:54] <jfbk> can someone please explain the intent behind rustpkg workspaces?  do people generally work on all their rust projects as packages in a single workspace, or do they have a workspace per project, or some mix? 
[03:02:01] <ChrisMorgan> jdsanders: it sounds to me like doing it once only would be a nice thing. A precompilation step is desirable, which could be done once per installation or done in your source repository.
[03:02:16] <jdsanders> yeah, once per file change
[03:02:21] <jdsanders> which is admittedly not common
[03:02:49] <ChrisMorgan> jdsanders: if you're using rustpkg all the files in the source repository will be there at compilation time.
[03:03:22] <jdsanders> oooooo, neat, didn't realize that
[03:03:26] <snerd> really should look into getting rust into mock or something so we can build a yum repository
[03:03:27] <ChrisMorgan> Then there's pkg.rs which could theoretically do the generation of the data structures in Rust code before then compiling it all. (I haven't tried working with pkg.rs.)
[03:03:32] <jdsanders> so I could distribute the text and compile it in
[03:03:38] <jdsanders> that might be perfect actually
[03:03:39] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[03:03:53] <jdsanders> i'll play with that
[03:03:55] <jdsanders> thanks!
[03:04:14] <ChrisMorgan> (That means you'll be running the analysis each time, which is of course suboptimal for end-user performance.)
[03:04:47] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:04:50] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:04:58] <jdsanders> yeah, the bigger and less changing the file, the more it makes sense to just generate my data structure up-front, the smaller and more frequently changing the file, the more it makes sense to compile it in and analyze at runtime
[03:05:04] <jdsanders> also makes the binary bigger to do it the latter way
[03:05:20] *** Joins: mib_u6kkdb (Mibbit@moz-11D92131.ee.protectedgroup.com)
[03:05:26] *** Quits: mib_u6kkdb (Mibbit@moz-11D92131.ee.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[03:05:41] *** Joins: JanC (janc@moz-8305164E.dsl.scarlet.be)
[03:06:06] <ChrisMorgan> jfbk: I would expect it to be a mixture of those cases; as a parallel, I know that with Python paths some will just install everything globally, others will install nothing globally, putting things in a virtualenv, and still others will use a combination of the two.
[03:07:36] <SiegeLord> I'm also interested in how rustpkg is used in practice, as I personally have concluded that it is nigh-unusable at the moment
[03:07:36] *** Quits: mye (mye@moz-FD24DF07.dip0.t-ipconnect.de) (Quit: mye)
[03:08:47] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[03:10:07] *** Joins: mye (mye@moz-FD24DF07.dip0.t-ipconnect.de)
[03:11:25] * ChrisMorgan hasn't tried using it seriously yet
[03:12:50] *** Quits: peterdn (chatzilla@moz-14D19651.as13285.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[03:13:41] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[03:15:09] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[03:15:40] *** Joins: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au)
[03:15:59] *** Quits: zz_kimundi (kimundi@moz-9888D3CE.dip0.t-ipconnect.de) (Ping timeout)
[03:16:38] *** Quits: thesnowdog (doug@7860FEB4.8E46834.6F17036B.IP) (Connection reset by peer)
[03:18:08] *** Quits: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au) (Ping timeout)
[03:18:13] *** Joins: jordyd (jordyd@moz-4AC7AD82.seg92.ucf.edu)
[03:19:08] *** Joins: zz_kimundi (kimundi@moz-87DF3113.dip0.t-ipconnect.de)
[03:19:12] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[03:19:30] *** zz_kimundi is now known as kimundi
[03:20:09] *** Joins: carllerche (carllerche@moz-48FA6EE9.hsd1.or.comcast.net)
[03:20:59] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[03:25:39] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[03:26:16] <docbrown> How do I pass a string literal to std::libc::open?
[03:27:23] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[03:28:00] *** Joins: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP)
[03:28:02] *** Joins: jstevans1 (Instantbir@24045647.4DB138C4.DDE5D3F6.IP)
[03:28:07] <ChrisMorgan> docbrown: (a) why are you trying to use it? (I mean, do you *really* need to use it?)
[03:28:28] <docbrown> ChrisMorgan: I'm trying to open a handle to a device.
[03:29:04] *** Quits: jstevans (Instantbir@9C88B39.D2312BC6.DDE5D3F6.IP) (Ping timeout)
[03:29:08] <ChrisMorgan> docbrown: (b) observing the type signature (`pub extern fn open(path: *c_char, oflag: c_int, mode: c_int) -> c_int`), it can be observed that you can't pass string literals to it.
[03:29:30] *** Joins: jstevans (Instantbir@9D3564B6.83BCE10.DDE5D3F6.IP)
[03:30:04] *** Joins: jvns (bork@moz-DE62990.nyc.res.rr.com)
[03:30:17] <docbrown> ChrisMorgan: Ok, then what's the correct way to pass a path to it?
[03:30:33] *** Quits: jstevans1 (Instantbir@24045647.4DB138C4.DDE5D3F6.IP) (Ping timeout)
[03:30:55] <ChrisMorgan> docbrown: http://static.rust-lang.org/doc/master/std/c_str/trait.ToCStr.html#method.with_c_str
[03:30:58] *** Joins: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net)
[03:31:57] <docbrown> Thanks
[03:31:59] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[03:32:09] *** jordyd is now known as synackse
[03:32:33] <ChrisMorgan> docbrown: note the types it's implemented for; Path is the best semantic match.
[03:33:24] *** Joins: thesnowdog (doug@BC408485.8E46834.6F17036B.IP)
[03:33:42] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[03:34:44] *** Quits: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net) (Ping timeout)
[03:35:48] *** Quits: jstevans (Instantbir@9D3564B6.83BCE10.DDE5D3F6.IP) (Ping timeout)
[03:36:06] *** Joins: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net)
[03:37:59] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[03:38:17] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[03:38:39] *** Joins: jstevans (Instantbir@519F6554.FA95BF59.B7830B68.IP)
[03:39:26] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0.1/20131112160018])
[03:39:36] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:39:59] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[03:42:19] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[03:43:50] *** Quits: synackse (jordyd@moz-4AC7AD82.seg92.ucf.edu) (Ping timeout)
[03:45:04] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[03:46:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:46:50] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[03:47:13] *** Joins: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au)
[03:48:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:48:38] *** Joins: brianm (brianm@moz-8161EF8D.hsd1.ca.comcast.net)
[03:49:02] *** Quits: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au) (Ping timeout)
[03:51:09] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[03:51:31] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[03:52:01] <mark_edward> type deduction seems to be failing with from_str
[03:52:08] *** Quits: kphelps (kphelps@moz-8B098CA5.hsd1.ma.comcast.net) (Ping timeout)
[03:52:09] <mark_edward> i am having to add type annotations everywhere
[03:52:25] *** Joins: synackse (jordyd@moz-4AC7AD82.seg92.ucf.edu)
[03:53:16] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[03:55:37] *** Joins: derek_c (derek@moz-6D464D52.cit.cornell.edu)
[03:56:32] *** Quits: TimAbraldes (quassel@383121B7.B2666F0E.66399531.IP) (Input/output error)
[03:57:59] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[03:57:59] <ChrisMorgan> mark_edward: are you sure your code is unambiguous? (Can you paste an example?)
[03:58:33] *** Quits: thesnowdog (doug@BC408485.8E46834.6F17036B.IP) (Connection reset by peer)
[03:58:50] <mark_edward> ChrisMorgan, i don't think i can, it's pretty hairy, but it's being used to initialize struct members, which should be pretty darn unambiguous
[03:59:23] <ChrisMorgan> And not generic members, I presume?
[03:59:40] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[03:59:53] <mark_edward> nope
[04:00:19] <mark_edward> well, im updating old code to work on master... it maybe surrounding type errors causing the inference failure
[04:00:26] <ChrisMorgan> Could well be.
[04:00:29] <mark_edward> i'll keep fixing and see if it disappears
[04:00:51] <mark_edward> is there a defined order, file/linewise, as to how/where/when type-inference occurs?
[04:03:29] <mark_edward> yup went away
[04:04:25] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[04:04:38] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[04:05:03] *** Quits: carllerche (carllerche@moz-48FA6EE9.hsd1.or.comcast.net) (Quit: carllerche)
[04:05:25] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[04:06:07] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[04:07:03] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[04:07:17] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[04:07:19] *** Quits: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP) (Ping timeout)
[04:09:00] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[04:09:03] *** Quits: Thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[04:09:12] *** Quits: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP) (Ping timeout)
[04:09:23] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[04:11:07] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[04:11:35] *** Joins: Thiez (thiez@moz-BF669398.student.utwente.nl)
[04:12:16] *** Quits: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP) (Ping timeout)
[04:15:40] *** Quits: Thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[04:15:49] *** Joins: carllerche (carllerche@moz-48FA6EE9.hsd1.or.comcast.net)
[04:15:57] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:18:00] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[04:18:14] *** Joins: Thiez (thiez@moz-BF669398.student.utwente.nl)
[04:19:35] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:19:49] *** Quits: derek_c (derek@moz-6D464D52.cit.cornell.edu) (Ping timeout)
[04:20:20] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[04:20:41] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[04:21:23] *** Joins: tcr_ (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[04:21:23] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Connection reset by peer)
[04:21:23] *** Joins: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP)
[04:23:00] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:23:16] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[04:23:19] *** Quits: synackse (jordyd@moz-4AC7AD82.seg92.ucf.edu) (Ping timeout)
[04:23:22] <Heather> look https://codebreak.com/git/heather/Mirana/commit/02be193f809f4938693ebdd79ba3a99731fa95b6/blob/?path=src%2FMirana%2FCore.rs
[04:23:32] <Heather> this thing also got rust highlightings
[04:23:45] *** Quits: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net) (Ping timeout)
[04:23:57] *** Quits: shachaf (shachaf@moz-F37E0395.members.linode.com) (Ping timeout)
[04:24:17] <aatch> Heather, not really. Looks like it's falling back on something else.
[04:25:05] *** Quits: jld (jld@moz-B94C75AD.xlerb.net) (Ping timeout)
[04:25:07] <Heather> aatch hm?
[04:25:08] <aatch> The fact that capitalized idents are highlighted differently to lower-cased ones is telling.
[04:25:35] <Heather> aatch well... maybe it's lua )
[04:25:37] <aatch> And it doesn't highlight some pretty core keywords, like 'fn'.
[04:25:59] <aatch> It might be using ML because of the 'let foo = ...' stuff
[04:26:06] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:26:21] <Heather> possibly
[04:26:28] <Heather> github one looks much more better
[04:26:34] <Heather> specially because of bold-s
[04:26:56] <aatch> Heather, yeah, the github one is actually a Rust highlighter.
[04:27:19] *** Joins: shachaf (shachaf@moz-F37E0395.members.linode.com)
[04:27:31] *** Joins: jld (jld@moz-B94C75AD.xlerb.net)
[04:27:49] <Heather> aatch example of breaking hl due wrong brackets parsing : https://codebreak.com/git/heather/Mirana/commit/02be193f809f4938693ebdd79ba3a99731fa95b6/blob/?path=src%2FMirana%2FMirana.rs :(
[04:28:19] *** Joins: lkey (chatzilla@25653362.1DD2AC9D.49CEED6B.IP)
[04:28:30] *** Joins: lorenvs (Mibbit@D61B4981.B86210D0.DF4B730F.IP)
[04:28:30] <aatch> Heather, yep, that gets pretty much all of the parsers...
[04:29:32] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[04:29:57] *** Joins: synackse (jordyd@moz-4AC7AD82.seg92.ucf.edu)
[04:30:04] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:30:05] *** ChanServ sets mode: +ao dherman dherman
[04:30:33] <ChrisMorgan> aatch: I see nothing fundamentally wrong with highlighting capitalised identifiers.
[04:30:48] *** Quits: jld (jld@moz-B94C75AD.xlerb.net) (Ping timeout)
[04:31:01] <Heather> aatch okay I just was there to get my nickname before someone else steal it :P
[04:31:05] <aatch> ChrisMorgan, but they aren't special in Rust, even by convention really. Not enough to do it everywhere.
[04:31:48] *** Joins: loren (loren@D61B4981.B86210D0.DF4B730F.IP)
[04:31:54] *** Quits: lorenvs (Mibbit@D61B4981.B86210D0.DF4B730F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:32:06] <aatch> ChrisMorgan, and like I said, the fact that only highlight keywords that we share with other languages anyway makes me skeptical that it's specifically Rust highlighting.
[04:32:07] <sfackler> types and variants are capitalized and variables are lower case by convention
[04:32:07] <ChrisMorgan> Sure they are, by convention. Types and enum variants are StudlyCaps, statics are UPPER_SNAKE_CASE, everything else is snake_case.
[04:32:32] <ChrisMorgan> (I agree that it doesn't look to be specifically Rust highlighting.)
[04:32:32] *** Joins: jld (jld@moz-B94C75AD.xlerb.net)
[04:32:52] <diverse> you mean CamelCase?
[04:33:03] *** loren is now known as lorenvs
[04:33:10] <aatch> ChrisMorgan, I say that it's significant because capitalisation *is* significant in some languages.
[04:33:23] <aatch> camelCase PascalCase
[04:33:37] <ChrisMorgan> Stack Overflow's highlighting engine routinely highlights capitalised identifiers specially too, BTW.
[04:34:05] <aatch> ChrisMorgan, theirs is generic though, I think
[04:34:13] *** Quits: lorenvs (loren@D61B4981.B86210D0.DF4B730F.IP) (Quit: leaving)
[04:34:15] *** Joins: loren (loren@D61B4981.B86210D0.DF4B730F.IP)
[04:34:15] <aatch> Or at least has a generic fallback mode.
[04:34:20] <ChrisMorgan> aatch: the latter.
[04:34:28] <Heather> hm I rare rare see rust questions on StackOverflow :(
[04:34:57] <Heather> http://stackoverflow.com/questions/20342436/rust-invoke-trait-method-on-generic-type-parameter - here highlighting is horrible )
[04:35:39] <Heather> btw may someone answer this question on link I've got interest too
[04:35:40] *** Joins: derek_c (derek@moz-FB4F1795.cit.cornell.edu)
[04:35:58] <Heather> how to use trait functions without self
[04:36:06] <loren> @Heather, thats my question, just came on here to see if I could find an answer!
[04:36:41] <Heather> loren good
[04:36:45] <aatch> loren, I may have an answer. I just need to check something quickly.
[04:36:59] <loren> @aatch no rush
[04:37:29] <Heather> loren you've got more answers than questions...
[04:37:41] <Heather> damn I've got 450 questions vs 50 answers >_<
[04:38:12] <loren> I used to be really active in answering .NET stuff when that was my thing, now I'm generally asking more when I'm learning new stuff
[04:38:55] <Heather> loren I see
[04:41:24] *** Quits: derek_c (derek@moz-FB4F1795.cit.cornell.edu) (Ping timeout)
[04:42:26] <aatch> loren, answered
[04:43:33] *** Joins: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net)
[04:43:48] <Heather> I knew
[04:46:25] *** Quits: tautologico (iorek@E0D804D3.CFE755C8.C27E1635.IP) (Quit: zzz)
[04:46:26] <loren> aatch: Thank you, is there an existing issue for that?
[04:46:34] <aatch> loren, I believe so.
[04:47:01] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[04:47:11] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:47:36] <loren> aatch: Do you know what keywords it would have been under?
[04:47:43] <loren> aatch: Can't seem to find it with anything that is obvious to me
[04:47:51] <ChrisMorgan> https://github.com/mozilla/rust/issues/8888
[04:48:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:49:08] <aatch> ChrisMorgan, heh, not the one I picked, though more relevant.
[04:49:18] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[04:49:20] <aatch> loren, I added that link and another to my answer.
[04:49:30] <ChrisMorgan> Well, more specific, dealing with the syntax of he problem. Your one is a broader one.
[04:50:05] <loren> aatch: ChrisMorgan: Thanks for the help~!
[04:50:05] <loren> !
[04:50:09] <aatch> ChrisMorgan, hence why I kept both.
[04:50:30] *** Quits: mye (mye@moz-FD24DF07.dip0.t-ipconnect.de) (Ping timeout)
[04:50:43] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:50:56] <loren> hmmm, the provided work around in the stack overflow answer is awesome too
[04:51:16] *** Joins: mye (mye@moz-D9E6B585.dip0.t-ipconnect.de)
[04:51:19] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[04:51:24] <mark_edward> hey if an enum has many fields, but i don't care about them, how do match for that?
[04:51:44] <aatch> mark_edward, `Foo(*)` I think.
[04:51:49] *** Joins: g3xzh (g3xzh@moz-85224D43.red.bezeqint.net)
[04:51:53] <sfackler> mark_edward: "Foo(..) => {whatever}"
[04:51:57] <sfackler> the syntax just changed
[04:52:10] <aatch> sfackler, sigh...
[04:52:55] <mark_edward> thanks!
[04:53:09] <pcwalton> LLVM can usually eliminate dead loads right?
[04:53:21] <pcwalton> strcat said something about how the load might trap so it can't remove it
[04:53:41] <aatch> pcwalton, depends on what it can infer about it.
[04:54:04] *** Quits: tikue_ (tkuehn@622204DD.28259105.689607DE.IP) (Quit: tikue_)
[04:54:13] <pcwalton> I've just got a big rect with 4 fields and I wonder if loading/storing the whole thing if I'm just going to change one value is optimizable by LLVM
[04:54:34] <aatch> pcwalton, I think there are cases where it knows (or at least assumes) that a pointer or similar is valid and will eliminate the load.
[04:54:50] <pcwalton> I'm just wondering what the semantics about "might trap" are
[04:55:22] *** Quits: g3xzh (g3xzh@moz-85224D43.red.bezeqint.net) (Ping timeout)
[04:55:36] *** Quits: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:56:29] <aatch> pcwalton, I'm not as knowledgeable as strcat about it, but I think it may be related to stuff like unaligned loads or segfault-related stuff.
[04:56:42] <geomyidae> thanks for the help last night, I wound up rewriting my own pcap bindings and   got a little sample app working. Not sure it's bug free, but it's something, my first real rust :D
[04:56:43] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[04:56:52] <aatch> geomyidae, congrats.
[04:57:56] *** Quits: tcr_ (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[04:58:10] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: 전 이만 갑니다.)
[04:58:13] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[04:58:14] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:58:33] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[04:58:53] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[04:59:03] <aatch> pcwalton, so it won't do actual dead load elimination, however it will do redundant dead load elimination.
[04:59:15] <pcwalton> that's unfortunate :(
[04:59:23] <pcwalton> because it might trap, I guess
[04:59:50] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[05:00:21] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[05:00:33] <aatch> pcwalton, yeah, there are other cases, but it doesn't look there's a general dead load, only a dead store.
[05:00:36] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[05:00:59] <aatch> The redundant one is when it already has the value, so the later loads are pointless.
[05:01:33] <Heather> geomyidae is it opensource?
[05:01:48] <geomyidae> https://github.com/colemickens/pcapfe
[05:02:18] <geomyidae> I should link to the original, although I think it's just the pcap extern defs that I used, and upload the latest, but that's it yeah
[05:03:19] <geomyidae> Oh right, I forgot, arch updated rust last night and now ld can't find rustrt to link against 
[05:03:55] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:03:55] <Heather> geomyidae offtopic but in the point of interest do you plan to switch from go to rust?
[05:04:10] <aatch> pcwalton, there are a few other cases. I'm looking through the global value numbering pass to see the cases it does.
[05:04:21] <sfackler> geomyidae: bors is testing a fix for the linker issue right now
[05:04:33] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:04:38] <pcwalton> aatch: it looks like it does here
[05:04:45] <pcwalton> int main(int argc, char **argv) { char x = **argv; return 0; }
[05:04:50] <pcwalton> turns into return 0
[05:04:54] <pcwalton> I am wondering whether it's part of some other pass
[05:05:13] <pcwalton> like some sort of general removal of dead Values
[05:05:49] <aatch> pcwalton, it handles some cases with undef behaviour
[05:05:50] <geomyidae> Heather: lots of uhs and ums over here. I don't know. I mostly have side tinker projects. Finally had found something else to contrib to, but lost interest in favor of learning rust :P so that says something I suppose
[05:06:06] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[05:06:08] *** Joins: lenstr (lenstr@78927A57.6C60037D.28B5BA55.IP)
[05:07:01] <aatch> pcwalton, it'll also handle cases where a later load is "within" a previous load.
[05:07:27] <aatch> /    load i32* P
[05:07:28] <aatch> /    load i8* (P+1)
[05:08:30] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:08:47] <pcwalton> aatch: void munge(struct rect *r) { struct rect r2 = *r; r2.w *= 2; *r = r2; }
[05:08:59] <pcwalton> it optimizes this to just change the w field
[05:09:02] <pcwalton> which is what I was interested in
[05:09:02] <pcwalton> good.
[05:09:25] <pcwalton> this means that you are free to use the new Cells (today Slots) on rects and just use .get() and .set() instead of fiddling around with borrows
[05:09:32] <pcwalton> and it will optimize to exactly the same thing
[05:09:36] <pcwalton> even if you were only changing one field
[05:09:48] <aatch> cool
[05:09:53] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[05:10:16] <loren> pcwalton: Thats pretty slick
[05:10:29] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[05:10:52] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[05:11:14] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[05:11:35] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[05:12:33] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[05:12:54] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[05:12:56] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:14:25] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:15:28] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[05:15:35] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[05:16:00] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:16:51] *** Quits: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net) (Quit: markwash)
[05:16:51] <strcat> jvns: btw there's a better way to get type names
[05:17:02] <geomyidae> I thought rust had _ = err to throwaway?
[05:17:06] <strcat> rusti: fn type_of<T>(_: &T) -> &'static str { unsafe { (*std::unstable::intrinsics::get_tydesc::<T>()).name } } struct Foo<T>(T); let x = Foo(5); type_of(&x)
[05:17:06] -rusti- "main::Foo<int>"
[05:17:23] <jvns> !!!
[05:17:23] <strcat> geomyidae: that never really worked, and is being phased out
[05:17:41] <jvns> strcat: that is super cool. Thanks!
[05:18:14] <strcat> I added it but didn't really make any attempt to expose a nice interface ;p
[05:18:33] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131125215016])
[05:18:45] <jvns> that's harder to type into a fake REPL though :)
[05:18:57] <strcat> well you can define type_of for your fake REPL
[05:19:03] <jvns> OH
[05:19:05] <jvns> I see
[05:21:00] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[05:21:17] <geomyidae> strcat: is there going to be a way provided for my lazy self to short circuit unused warnings?
[05:21:21] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[05:21:30] <strcat> geomyidae: hm?
[05:21:31] *** Quits: lenstr (lenstr@78927A57.6C60037D.28B5BA55.IP) (Client exited)
[05:21:35] <strcat> like where?
[05:21:36] <ChrisMorgan> geomyidae: what do you mean by "short circuit"?
[05:21:47] <strcat> you'll still be able to use _ or _foo
[05:21:50] <geomyidae> sorry, I'm coming from Go, I have an impulsive need to get rid of the unused err-- warning.
[05:22:13] <strcat> you should get rid of it, ideally not by keeping the variable around with _ ;p
[05:22:16] <jvns> rusti: fn type_of<T>(_: &T) -> &'static str { unsafe { (*std::unstable::intrinsics::get_tydesc::<T>()).name } } struct Foo<T>(T); let x: int = 2; type_of(x);
[05:22:16] -rusti- pastebinned 5 lines of output: http://sprunge.us/ZXBJ
[05:22:24] * geomyidae nods
[05:22:31] <strcat> geomyidae: _ and _foo aren't going away
[05:22:32] <jvns> hmm it says "error: mismatched types: expected `&<V7>` but found `int` (expected &-ptr but found int)"
[05:22:39] <strcat> it trying to run the dtor right away is going away
[05:22:50] <geomyidae> oh.
[05:22:50] <strcat> because there are other ways to do that
[05:23:01] <strcat> and _ is useful for RAII
[05:23:05] <strcat> consider an RAII lock
[05:23:06] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[05:23:13] <ChrisMorgan> jvns: that's correct; it's expecting a reference and you're not giving it a reference. You want type_of(&x).
[05:23:17] <jvns> oh!
[05:23:20] <strcat> let _lock = mutex.lock(); /* the destructor unlocks it */
[05:23:35] <strcat> let _ = mutex.lock(); // a lot more convenient, but will currently unlock *immediately*
[05:23:57] <strcat> anyway what I meant by going away is that it won't throw away the value immediately which is how I interpreted your question :P
[05:24:03] *** Quits: synackse (jordyd@moz-4AC7AD82.seg92.ucf.edu) (Ping timeout)
[05:24:06] <loren> pcwalton: Thats pretty slick
[05:24:09] <loren> oops
[05:24:13] <loren> wrong termianl
[05:24:37] <diverse> irc client history?
[05:24:53] <loren> yeah
[05:25:11] <loren> alt-tab + up + enter without thinking
[05:25:31] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[05:26:20] *** Joins: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au)
[05:26:33] <ChrisMorgan> strcat: that gives me an idea for a lint that you could put on a lock() function—warn if it the value will be immediately dropped.
[05:27:03] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[05:27:13] <strcat> ChrisMorgan: http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html yep, warn_unused_result
[05:27:37] <ChrisMorgan> Yep, sounds good.
[05:28:36] <strcat> although most code won't use mutexes directly ;]
[05:28:56] <ChrisMorgan> Of course, I still want a general unused result warning, but that's the sort of case where I want it stronger, warning for things like let _ = ...; as well.
[05:29:09] <strcat> RAII locks are needed to correctly do something like 'obtain lock; run user-provided closure; release lock'
[05:29:14] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[05:29:16] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[05:29:21] <strcat> since the closure might unwind
[05:30:09] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[05:32:07] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[05:33:00] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[05:33:07] <geomyidae> I honestly don't really understand any of that. I thought it was useful specifically because you could do _ = something to cause the Drop to be called.
[05:33:23] <geomyidae> So there is still _ and _something but it doesn't ensure immediate calling of Drop?
[05:33:55] <cmr> geomyidae: no, nor will it.
[05:34:21] <strcat> geomyidae: if you run foo() and it returns something, and you don't do anything with it, it's destroyed immediately
[05:34:35] <strcat> let _ = foo(); will make it be freed at the end of the scope, like a regular var
[05:34:40] <strcat> (not yet, but it will)
[05:34:55] <strcat> if you want to destroy something early you can pass it by-move into a no-op function
[05:35:02] <strcat> fn ignore<T>(_: T) {}
[05:35:05] <strcat> like util::ignore
[05:35:06] <geomyidae> Mhm I see.
[05:35:13] <geomyidae> Okay. I think I see.
[05:35:54] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[05:36:21] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:36:22] *** Quits: dbaupp (Thunderbir@A192CB9D.D5A1DCF.37681C44.IP) (Ping timeout)
[05:36:45] *** Joins: dbaupp (Thunderbir@A192CB9D.D5A1DCF.37681C44.IP)
[05:37:42] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:37:44] <sfackler> strcat: how would you feel about adding/replacing util::ignore with "fn drop<T: Drop>(_: T) {}"?
[05:37:45] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[05:37:54] <dbaupp> sfackler: why : Drop?
[05:37:55] <sfackler> I think it reads a lot better than ignore for that kind of thing
[05:38:11] <sfackler> dbaupp: to guarantee that it's actually moving ownership instead of just copying
[05:38:15] <dbaupp> (iirc, ~str and ~T etc don't actually implement Drop, although's essentially a bug.)
[05:38:23] <strcat> sfackler: yeah I agree that name is better ;]
[05:38:50] <sfackler> dbaupp: oh, I guess the bound would have to go away for now
[05:38:52] <strcat> sfackler: there's no real point in forcing it to move
[05:39:12] <strcat> imo at least, ;p
[05:39:12] <dbaupp> although that's*
[05:39:15] <sfackler> it might be a nice as a small sanity check
[05:39:25] <dbaupp> sfackler: (also, types like struct Foo { x: SomethingThatImplsDrop } possibly doen't impl Drop itself.)
[05:39:30] <sfackler> though I'm not sure why you'd ever try to drop something that's implicitly copyable
[05:39:32] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[05:39:36] <strcat> but it makes it much less useful in generic code
[05:39:36] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[05:39:41] *** Joins: lpy (lpy@C3406AEB.F09091A8.1348A864.IP)
[05:39:41] <sfackler> that's true
[05:39:55] *** Joins: ksh8281 (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[05:40:20] *** Joins: gavinb (gavinb@moz-CA19A0CF.vic.adsl.internode.on.net)
[05:40:36] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[05:40:55] <ChrisMorgan> I like the name drop. Sounds nice, too—`drop(lock)` and such things. Still not as nice as a `with lock { ... }` might be in some circumstances, but such is life.
[05:41:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:41:29] *** Quits: Thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[05:41:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:41:43] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:41:54] <loren> Is there a way to declare a borrowed pointer within a struct as having the same lifetime as the struct itself? something like "struct asdf { b : &'self fdsa }"?
[05:42:38] <sfackler> loren: "struct asdf<'a> { b: &'a fdsa }"
[05:42:47] <loren> sfackler: awesome, thanks!
[05:43:16] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[05:44:47] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:45:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:48:38] *** Joins: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net)
[05:50:28] <ChrisMorgan> loren: once you've got borrowed pointers in, remember then that the struct is not `asdf` but `asdf<'some_lifetime>`. Thus, you'll need things like `impl<'a> asdf<'a> { ... }`.
[05:51:56] *** Joins: lenstr (lenstr@78927A57.6C60037D.28B5BA55.IP)
[05:52:04] *** Quits: lenstr (lenstr@78927A57.6C60037D.28B5BA55.IP) (Client exited)
[05:54:48] <sfackler> has anyone seen something like this? http://sprunge.us/ShdI
[05:55:06] *** Quits: dbaupp (Thunderbir@A192CB9D.D5A1DCF.37681C44.IP) (Ping timeout)
[06:00:04] <ChrisMorgan> sfackler: https://github.com/mozilla/rust/pull/10770
[06:00:38] *** Joins: shammancer (dannick@124CDB24.15FC86DF.87B326D3.IP)
[06:00:54] <ChrisMorgan> (Not certain if that's it, but it looks close at least.)
[06:01:53] <shammancer> Hey guys I have been compiling the compiler and it seems to be slowing down at this step. 
[06:01:54] <shammancer> compile_and_link: x86_64-unknown-linux-gnu/stage0/lib/rustc/x86_64-unknown-linux-gnu/lib/librustc.so
[06:01:57] *** Joins: markwash (mwashenber@moz-E830FEBB.hsd1.ca.comcast.net)
[06:02:12] <sfackler> that'll take a while to compile
[06:02:29] <shammancer> oh well
[06:02:31] <sfackler> if you have less than ~1.2G of RAM available, it'll start swapping, and take a _very_ long time
[06:02:55] <shammancer> well I have more...
[06:03:26] <shammancer> it is only using 1.1 though.
[06:03:57] *** Joins: Thiez (thiez@moz-BF669398.student.utwente.nl)
[06:04:25] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[06:04:31] <diverse> on github it said you need 1.8G or more or it will swap
[06:04:50] *** Quits: jvns (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[06:06:02] <cmr> it's down from then
[06:06:11] <sfackler> it looks like it's down to just over 1.2 now: http://huonw.github.io/isrustfastyet/mem/
[06:06:30] <diverse> that's cool
[06:07:28] <diverse> I guess the README could use an update
[06:07:57] <cmr> Send a PR!
[06:08:06] <cmr> and/or just update the wiki
[06:08:36] <shammancer> How could you get it to compile on multiple cores?
[06:09:18] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:09:28] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[06:10:06] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:10:41] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[06:10:44] <ChrisMorgan> shammancer: it'd need a fair bit of reengineering to achieve that, but I presume it will be done at some point.
[06:11:09] <shammancer> Cool looking forward to it.
[06:11:13] *** Joins: derek_c (derek@moz-6D464D52.cit.cornell.edu)
[06:11:18] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[06:16:41] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[06:17:07] *** Parts: jdsanders (Adium@moz-F4CA1153.hlrn.qwest.net) ()
[06:18:33] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[06:22:55] <loren> ChrisMorgan: Thanks! Figured that one out on my own
[06:23:26] *** Joins: zaphod_b (ford_p@moz-CCE57F2F.eblcom.ch)
[06:23:35] <ChrisMorgan> Good.
[06:23:37] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[06:24:30] *** Quits: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:26:02] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:26:31] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[06:36:18] <gavinb> I tried compiling on a digital ocean droplet (only 512MB). It wasn't happy...
[06:36:57] <ChrisMorgan> gavinb: was that deliberate, or had you not thought of the implications?
[06:37:28] <gavinb> Just curious to see if it would work at all...
[06:37:42] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:38:50] <ChrisMorgan> Did it?
[06:39:34] <gavinb> nope - OOM Killer went on a rampage.
[06:40:11] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[06:40:34] <gavinb> I would like to try building a web service-y app on my workstation, uploading it to the droplet and running it there. It should be ok provided the dependent dylibs are all in place.
[06:41:00] <gavinb> Er and provided I have a matching distro (Ubuntu)
[06:41:02] *** Quits: lpy (lpy@C3406AEB.F09091A8.1348A864.IP) (Ping timeout)
[06:41:17] <ChrisMorgan> Yes, that should work with no trouble.
[06:41:36] <ChrisMorgan> You could even play with static linking now, if you wanted to.
[06:42:37] <gavinb> Yes, just need to pull master
[06:42:52] *** Quits: gavinb (gavinb@moz-CA19A0CF.vic.adsl.internode.on.net) (Quit: gavinb)
[06:44:44] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:45:56] <geomyidae> is this the best way to print the ascii printable bytes of an http packet https://github.com/colemickens/pcapfe/blob/master/main.rs#L23
[06:46:10] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[06:47:22] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[06:47:22] <sfackler> if you know it's ascii, you can turn it into a string. "std::str::from_utf8(pkt.payload)"
[06:47:23] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[06:48:02] <ChrisMorgan> geomyidae: it's quite reasonable for it to have bytes with ord > 127. Stripping them out *will* lose content.
[06:48:27] *** Quits: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: ZZZzzz…)
[06:48:44] <geomyidae> surely, I'm going for the like wireshark view that you get, where it's either ascii chars or the period
[06:49:07] <ChrisMorgan> For that, you'd want to filter out control characters also.
[06:49:47] <geomyidae> Actually, I noticed that I needed to do that but hadn't made a mental note to filter them out. I see that you're pointing out this is less trivial than I'd first thought.
[06:49:52] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[06:50:06] <geomyidae> Still, the into_ascii() and then as_str_ascii() was more the part that struck me as not necessarily right
[06:50:26] <sfackler> you can probably do something like
[06:50:44] <ChrisMorgan> if (octet < 32 || octet > 126) { 0 } else { octet }
[06:50:59] *** Joins: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP)
[06:51:25] <ChrisMorgan> (Probably `'.' as u8` instead of 0, actually.)
[06:52:07] <sfackler> yeah, the ascii package seems a bit lacking
[06:52:08] <ChrisMorgan> ASCII control characters are octets 0–31, and 127 is DEL.
[06:52:37] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[06:54:41] *** Quits: derek_c (derek@moz-6D464D52.cit.cornell.edu) (Ping timeout)
[06:56:39] *** Joins: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net)
[06:57:35] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[06:58:08] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[06:58:13] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[07:01:58] *** Quits: docbrown (docbrown@5CE9D448.F0B9EFB2.7F8758CE.IP) (Client exited)
[07:02:35] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[07:03:01] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Connection reset by peer)
[07:03:14] *** Quits: canhtak (canhtak@moz-EF153D0F.wl.t.ulaval.ca) (Quit: canhtak)
[07:05:28] *** Joins: mib_65k2f1 (Mibbit@7515F726.E5678599.2C0780D7.IP)
[07:06:14] <mib_65k2f1> safe and
[07:07:41] <mib_65k2f1> IMO, safe and fast Rust will replace java because java is now in safe and fast market.
[07:08:52] <mib_65k2f1> Has anyone the same opinion?
[07:09:46] *** Joins: derek_c (derek@moz-6D464D52.cit.cornell.edu)
[07:10:02] <FreeFull> Java isn't that safe
[07:10:17] <diverse> and it isn't that fast either
[07:10:45] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[07:11:34] <mib_65k2f1> So a safer and faster rust will replace java.
[07:11:55] <dbaupp> Rust is harder to write in many ways
[07:12:05] <FreeFull> Memory safety makes things harder
[07:12:49] <FreeFull> You get errors I've never seen in any other language
[07:13:14] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[07:13:14] *** ChanServ sets mode: +ao pcwalton pcwalton
[07:13:26] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[07:13:32] <diverse> because its making damn sure you are programming safely :)
[07:14:08] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:14:30] <FreeFull> For example Haskell doesn't have anything like Rust's memory safety mechanisms
[07:15:13] <mib_65k2f1> So Java maybe still live in easy & safe & fast market.
[07:15:25] <FreeFull> Although in Haskell pointers and such aren't language primitives. Maybe it'd be possible to make a new library that'd make them safe
[07:15:25] <dbaupp> FreeFull: but immutability + GC gives you memory safety automatically.
[07:15:26] * diverse sighs
[07:15:52] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[07:16:00] <geomyidae> I think Go will replace a larger subset of Java apps than Rust, but that's okay.
[07:16:04] <FreeFull> dbaupp: Which doesn't help as soon as you want to interface with C code or allocate a chunk of memory manually for some reason
[07:16:05] <diverse> dbaupp: region anaylsis gives plenty of safety
[07:16:14] <geomyidae> I'd rather see more C++ written in Rust, which seems likely the way things are heading, I hope :)
[07:16:43] <dbaupp> FreeFull: true, but same in Rust
[07:16:47] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[07:16:56] <FreeFull> Ok, allocating is unsafe
[07:17:05] <FreeFull> But Rust has safe pointers
[07:17:18] <diverse> because of "region analysis"
[07:17:51] <FreeFull> I guess Haskell has IORefs and STRefs
[07:18:19] <dbaupp> diverse: was "region anaylsis gives plenty of safety" addressing "but immutability + GC gives you memory safety automatically." as if I was implying that immutability+GC is the only way to get memory safety?
[07:19:41] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[07:19:46] <diverse> yeah, because using the GC is just another mechanism to dealing with memory
[07:20:01] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[07:20:42] <FreeFull> I have to leave now.  Cya later
[07:20:44] *** Quits: FreeFull (freefull@moz-672577F6.as13285.net) (Quit: )
[07:21:00] <geomyidae> How much harder would people say Rust is than C++? In their experience?
[07:21:32] <cmr> Rust is tons smaller than C++
[07:21:43] <cmr> And the compiler messages are generally more intelligible.
[07:21:48] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[07:21:56] <mib_65k2f1> Rust is hard & safe & fast. C++ is hard & unsafe & fast. Java is easy & 2nd safe & 2nd fast. Haskell is hard & safe & 2nd fast.
[07:22:23] <dbaupp> diverse: I was definitely not implying that GC was the only way, just that that is one possible way. (I do understand how Rust works, just a little bit ;P ) 
[07:22:41] <mib_65k2f1> Go is like Java.
[07:22:43] <Eridius> geomyidae: if you consider the insanity that is templates, nothing Rust does can possibly approach the "hardness" of C++
[07:23:37] <geomyidae> Yeah, this is all how I've seen Rust so far, just haven't written enough C++ or Rust to know. I just know the C++/macro'd codebase(s) that I've worked on now or in the past and how... unpredictable and inconsistent they could be.
[07:24:03] <geomyidae> on the other hand, someone pointed me to some sample Rust project a while back and I found it pretty readable fairly quickly, like I do with go code
[07:24:37] <Eridius> Rust is certainly a lot more complex than Go. But it doesn't approach the complexity of C++
[07:24:39] <mib_65k2f1> geomyidae you mean as easy as go
[07:24:58] <mib_65k2f1> no rust is complex
[07:25:55] <mib_65k2f1> If rust is as easy as go, it will replace all mainstream language
[07:26:04] <eddyb> rust *can* be complex, but most of the time the complexity is hidden behind abstractions
[07:26:30] <dbaupp> (and then the compiler crashes. :P )
[07:26:32] <diverse> mib_65k2f1: it's not because it's complex. It's different. When you are exposed to something different, it becomes a challange, therefore you have to exercise your brain in different ways.
[07:26:39] <eddyb> dbaupp: no spoilers!
[07:27:12] *** Joins: gavinb (gavinb@2FED0C2.1A8E9113.3DEFE92B.IP)
[07:27:38] <eddyb> diverse: in C++ we had to worry about const-correctness and it's a serious issue
[07:27:48] <eddyb> that feels *so* laughable in the Rust context
[07:28:25] <mib_65k2f1> So, if rust can be simple, Rust will be promising.
[07:29:37] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[07:31:31] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:32:15] <cmr> mib_65k2f1: it will only be as complex as it has to be.
[07:32:53] *** Quits: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au) (Quit: z0w0)
[07:33:22] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[07:33:25] <diverse> eddyb: yeah, Rust learns from it's predecessors and makes better choices based on the better features from many languages.
[07:33:46] <mib_65k2f1> To what lanuage would the complexity of Rust be?
[07:33:57] <mib_65k2f1> c#?
[07:34:26] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[07:34:35] <dbaupp> it has a different type of complexity to (almost) all mainstream languages
[07:35:02] <diverse> mib_65k2f1: may I suggest you read the rust tutorial and make that judgement yourself. Like I said "it's different"
[07:35:17] <mib_65k2f1> and to what non-mainstream?
[07:35:30] <mib_65k2f1> I have read it anyway.
[07:35:38] <eddyb> diverse: sorry about the disconnect, compiling librustc is easier now, but it did end up swapping because of one too many browser tabs :P
[07:35:41] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[07:36:17] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[07:36:20] <dbaupp> mib_65k2f1: the lifetimes are apparently like cyclone, iirc.
[07:36:53] <mib_65k2f1> ... OK, another safe c
[07:37:09] <cmr> mib_65k2f1: Certainly less complex than C#
[07:37:13] <cmr> ...in some ways.
[07:37:17] <cmr> Complexity isn't a scalar value.
[07:37:34] <diverse> ^best quote ever
[07:38:38] <mib_65k2f1> Maybe we should use learning curve instead of complexity.
[07:38:41] <eddyb> cmr: you did use "multidimensional" before, didn't you :D?
[07:39:33] <mib_65k2f1> the learning curve from zero-in
[07:40:12] <geomyidae> oh right, last night I stumbled on someone teaching a systems course in rust, cool slides.
[07:40:23] *** Quits: carllerche (carllerche@moz-48FA6EE9.hsd1.or.comcast.net) (Quit: carllerche)
[07:40:32] <diverse> geomyidae: no kidding? link?
[07:40:53] <mib_65k2f1> learning curve: c++>scala>java>haskell>lisp>prolog
[07:41:34] <dbaupp> are you saying that prolog has the shortest learning curve?
[07:41:46] <geomyidae> diverse: http://www.cs.virginia.edu/~evans/cs4414/
[07:41:48] <eevee> it doesn't take long to learn that you can't do what you wanted with prolog  ;)
[07:41:50] <mib_65k2f1>  c++>scala>rust>java>haskell>ruby>lisp>prolog
[07:42:13] <mib_65k2f1> dbaupp it's a niche lanuage
[07:42:17] <Eridius> mib_65k2f1: that's a curious ordering
[07:42:36] <mib_65k2f1> I mean from zero-in all
[07:42:46] <dbaupp> mib_65k2f1: "zero-in"?
[07:43:01] <diverse> geomyidae: that's pretty cool
[07:43:16] <dbaupp> geomyidae: fwiw, the Rust team has even sent stickers to that class, and we have people from that class contributing to the compiler as their final project
[07:43:26] * cmr thinks it's awesome
[07:43:37] <cmr> I wonder how many of them still have a sour taste from it though.
[07:43:44] <mib_65k2f1> consideration of language similarities
[07:43:55] <mib_65k2f1> dbaupp
[07:44:24] <geomyidae> cmr, I'd like to have heard their discussions and thoughts and especially their source code solutions.
[07:44:41] <dbaupp> (also, I think, unsurprisingly, the TA's may not be very experienced rust users so the "reference solutions" aren't great, which is unfortunate. :( )
[07:45:19] <dbaupp> mib_65k2f1: I still don't understand what zero-in means
[07:45:51] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[07:45:59] *** Joins: victorporof (victorporo@FB8E2A00.483E5FE1.9B1E38F4.IP)
[07:46:00] <mib_65k2f1> If people are familar with lisp, then python and ruby may be easy for them.
[07:46:05] <mib_65k2f1> dbaupp
[07:46:53] *** Quits: twb (textual@moz-C0B32516.lawn.gatech.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:47:05] <mib_65k2f1> so compare a person first learn lisp with no knowledge of python or ruby
[07:47:33] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:51:57] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:52:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:52:07] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:56:07] *** Quits: gavinb (gavinb@2FED0C2.1A8E9113.3DEFE92B.IP) (Quit: gavinb)
[07:56:34] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[07:57:10] <loren> Are there any good examples out there using rust reflection?
[07:58:15] *** Quits: mib_65k2f1 (Mibbit@7515F726.E5678599.2C0780D7.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:58:38] <geomyidae> dbaupp: has anyone asked that class about filming the demos on thursday?
[07:59:46] *** Joins: moostik (Icedove@moz-5159DC42.w92-151.abo.wanadoo.fr)
[08:00:26] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[08:00:43] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[08:01:02] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[08:01:51] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[08:02:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[08:03:24] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[08:03:33] *** flaper87|afk is now known as flaper87
[08:06:08] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[08:10:01] <TeXitoi> does rustc plan to be parallel?
[08:11:02] *** Quits: mye (mye@moz-D9E6B585.dip0.t-ipconnect.de) (Quit: mye)
[08:11:31] <eddyb> TeXitoi: I've heard something about parallel optimization passes for LLVM, that would help
[08:12:00] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[08:13:22] <eddyb> dbaupp: ouch, I can see 0.7 in some slides
[08:14:06] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:14:31] <dbaupp> eddyb: yes, the class started when 0.7 was the most recent release
[08:15:14] <eddyb> functions returning ~fn...
[08:15:27] <eddyb> dbaupp: this is the kind of course which would be changed drastically for the next year :P
[08:16:02] <eddyb> dbaupp: hehe, I remember someone in here struggling with the ntimes function
[08:17:47] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Connection reset by peer)
[08:19:46] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:20:54] *** Joins: morphevs (Adium@moz-4C26B411.ethz.ch)
[08:22:54] *** pmoore|away is now known as pmoore
[08:24:38] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:28:38] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:30:02] *** Joins: oberstet (quassel@moz-7D66B2E3.dynamic.mnet-online.de)
[08:30:40] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[08:32:27] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[08:33:36] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[08:34:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[08:36:44] *** Quits: loren (loren@D61B4981.B86210D0.DF4B730F.IP) (Quit: leaving)
[08:36:45] *** Joins: nkoep (nik@moz-9F784B3F.pool.mediaways.net)
[08:38:45] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[08:49:27] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[08:49:28] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[08:50:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:50:31] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:51:40] *** Joins: Ms2ger (Ms2ger@moz-68D0283D.ugent.be)
[08:54:55] *** Joins: fabiand (fabiand@moz-B634A3B8.adsl.alicedsl.de)
[08:58:03] *** Quits: jstevans (Instantbir@519F6554.FA95BF59.B7830B68.IP) (Ping timeout)
[09:01:01] *** Joins: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP)
[09:01:23] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: computer sleeping)
[09:01:37] *** Quits: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net) (Ping timeout)
[09:03:03] *** Quits: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP) (Ping timeout)
[09:03:22] *** Quits: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[09:03:22] *** Quits: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[09:03:36] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[09:03:54] *** Quits: pmoore (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[09:03:57] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[09:04:04] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[09:05:09] <cmr> TeXitoi: there are some vague plans, but it'd be a vast restructuring.
[09:05:16] *** Joins: dbaupp (Thunderbir@moz-B7E830EF.lns20.syd6.internode.on.net)
[09:07:19] *** Quits: flowsnake (flowsnake@moz-E4E567EE.aztw.cable.virginm.net) (Connection reset by peer)
[09:07:58] <TeXitoi> cmr: ok, thanks
[09:09:22] <cmr> but yeah, biggest win is in llvm, not rustc.
[09:10:42] <dbaupp> TeXitoi: some numbers: a -O build of librustc spends 85% of it's time in llvm
[09:11:35] *** Joins: flowsnake (flowsnake@moz-E4E567EE.aztw.cable.virginm.net)
[09:12:25] *** Joins: mye (mye@moz-D9E6B585.dip0.t-ipconnect.de)
[09:19:53] <derek_c> how do you convert [u8] to string?
[09:20:00] <cmr> std::str::from_utf8
[09:21:35] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[09:21:54] <derek_c> cmr: thanks
[09:22:00] *** Quits: dbaupp (Thunderbir@moz-B7E830EF.lns20.syd6.internode.on.net) (Ping timeout)
[09:22:16] <cmr> (it's &[u8], btw, not [u8])
[09:22:55] <aph> cmr: is str actually identified with [u8]?
[09:23:02] <cmr> aph: what?
[09:23:13] *** Quits: mye (mye@moz-D9E6B585.dip0.t-ipconnect.de) (Quit: mye)
[09:23:22] <aph> cmr: in the docs it says str 'is' [u8]
[09:23:37] <cmr> &str is represented the same as &[u8]
[09:24:10] <aph> so it's just representation, not like a typedef (sorry, don't know rust equivalent >_>)
[09:24:23] *** Joins: dbaupp (Thunderbir@moz-8F0823D5.lns20.syd6.internode.on.net)
[09:24:39] <dbaupp> derek_c: don't use from_utf8
[09:24:39] <cmr> correct, they are separate types.
[09:24:46] <cmr> dbaupp: no?
[09:24:48] <dbaupp> derek_c: from_utf8_slice or from_utf8_owned
[09:24:55] * cmr look
[09:25:01] <dbaupp> cmr: it allocates, when that's rarely needed.
[09:25:03] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[09:25:15] <cmr> ah, yes.
[09:25:42] <cmr> I wonder if the default should be from_utf8_slice, and just use .to_owned()
[09:26:07] <aph> cmr: thanks. maybe i can clarify the docs :>
[09:26:16] * aph has been looking for a token way to contribute
[09:26:41] <cmr> aph: that'd be wonderful :)
[09:26:46] <cmr> doc work is the best
[09:27:31] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[09:27:34] <dbaupp> cmr: https://github.com/mozilla/rust/pull/10701
[09:27:40] <dbaupp> cmr: (don't r+ though)
[09:27:41] <derek_c> dbaupp: I see. thanks
[09:28:11] <aph> actually, i was wondering... are the code examples in the tutorial automatically tested? i'm sure i've seen old syntax that doesn't work any more... seems like it would be neat to detect that automatically
[09:28:23] <cmr> dbaupp: heh, way ahead of me! :P
[09:28:32] <cmr> aph: many of them are.
[09:30:52] *** Joins: dxza (reisen@moz-BAE4CA9C.cable.virginm.net)
[09:31:49] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:32:14] *** Quits: lkey (chatzilla@25653362.1DD2AC9D.49CEED6B.IP) (Connection reset by peer)
[09:32:37] *** Quits: derek_c (derek@moz-6D464D52.cit.cornell.edu) (Quit: Leaving)
[09:32:37] *** Joins: lkey (chatzilla@25653362.1DD2AC9D.49CEED6B.IP)
[09:33:37] *** Quits: Kxepal (Miranda@moz-BFDF5C72.pppoe.mtu-net.ru) (Ping timeout)
[09:36:33] *** Joins: Kxepal (Miranda@moz-C8D50DC5.pppoe.mtu-net.ru)
[09:38:00] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:47:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[09:47:20] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:52:46] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:54:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:00:41] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[10:02:41] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[10:02:47] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[10:04:27] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[10:09:58] *** Quits: Ms2ger (Ms2ger@moz-68D0283D.ugent.be) (Ping timeout)
[10:10:41] *** Joins: Ms2ger (Ms2ger@moz-A7BFC41D.ugent.be)
[10:10:59] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:14:53] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:14:53] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:15:24] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[10:15:24] *** ChanServ sets mode: +ao nmatsakis nmatsakis
[10:15:34] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[10:15:53] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:15:53] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:16:24] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:16:24] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:16:53] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:16:53] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:17:23] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:17:23] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:17:53] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:17:53] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:18:24] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:18:24] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:18:43] <aph> i have probably missed something here but i can't seem to turn a ~str into a ~[u8] >_>
[10:18:54] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:18:54] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:18:54] <aph> there is as_bytes but that returns &'self [u8]
[10:19:24] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:19:24] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:19:54] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:19:54] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:20:25] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:20:25] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:20:28] <Ms2ger> aph, into_bytes
[10:20:48] *** Joins: pmoore (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[10:22:35] <aph> ah, thanks Ms2ger :)
[10:24:58] *** Quits: Ms2ger (Ms2ger@moz-A7BFC41D.ugent.be) (Ping timeout)
[10:26:06] *** Joins: Ms2ger (Ms2ger@moz-25D81AA0.ugent.be)
[10:26:32] <Ms2ger> aph, it's something you'd typically find on http://static.rust-lang.org/doc/master/std/str/trait.OwnedStr.html
[10:26:35] <Ms2ger> aph, so that's where I found it :)
[10:29:18] <aph> Ms2ger: i was close, but i'm still getting used to the way the std lib is arranged ;)
[10:29:34] <Ms2ger> Confusingly, I believe :)
[10:30:38] <aph> heh
[10:30:39] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[10:31:58] <dbaupp> oh yeah!
[10:32:17] <hoelzro> I take it that with the recent change to do, I have to convert do str.with_c_str |raw| { ... } to str.with_c_str(|raw| { ... })?
[10:32:30] * dbaupp just ran a (stdlib-using) Rust on a computer without any Rust libs installed for the first time
[10:32:39] <dbaupp> <3 acrichto's static linking
[10:32:43] <dbaupp> hoelzro: yes
[10:32:49] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[10:32:53] <hoelzro> ok, just verifying.  Thanks!
[10:34:24] <aph> dbaupp: are you going to update rustboot next?  ;)
[10:38:47] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[10:39:59] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[10:41:22] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[10:43:25] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[10:43:26] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Quit: fyolnish)
[10:43:55] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[10:46:16] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:46:53] *** Quits: zmthy (tim@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[10:50:45] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[10:52:26] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Connection reset by peer)
[10:52:36] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[10:55:37] *** Joins: banananana (ba@E7E2A35D.6F99A8B0.2AADDDA7.IP)
[10:59:28] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[10:59:28] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[11:01:02] *** Joins: Ferreus (ferreus@moz-6283E2E3.dip0.t-ipconnect.de)
[11:01:30] *** Joins: mye (mye@moz-D9E6B585.dip0.t-ipconnect.de)
[11:02:40] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[11:05:06] *** kimundi is now known as zz_kimundi
[11:06:14] *** Joins: peterdn (chatzilla@moz-14D19651.as13285.net)
[11:06:31] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[11:07:41] *** Joins: mr_pants (Mibbit@6EB9D10.20CC70E6.92EB3D3E.IP)
[11:08:31] *** Joins: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP)
[11:08:41] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[11:11:18] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[11:11:28] *** Joins: dario (dario@moz-8E3254C2.informatik.uni-erlangen.de)
[11:12:39] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[11:17:01] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[11:18:03] *** Quits: nattofriends (tsutsumi@moz-A9E340E1.fuqu.jp) (Ping timeout)
[11:18:03] *** Quits: rossm (rossm@moz-EE3BB1DC.br.br.cox.net) (Ping timeout)
[11:18:03] *** Quits: lmandel1 (uid15702@moz-E77DEB21.irccloud.com) (Ping timeout)
[11:18:13] *** Joins: rossm (rossm@moz-EE3BB1DC.br.br.cox.net)
[11:18:23] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[11:18:29] *** Joins: nattofriends (tsutsumi@moz-A9E340E1.fuqu.jp)
[11:18:35] *** Joins: lmandel1 (uid15702@moz-E77DEB21.irccloud.com)
[11:20:43] *** Quits: diverse (diverse@moz-ED94B8D.oc.oc.cox.net) (Ping timeout)
[11:20:58] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[11:21:51] *** Quits: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com) (Ping timeout)
[11:22:04] *** pmoore is now known as pmoore|away
[11:22:54] *** pmoore|away is now known as pmoore
[11:23:37] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[11:24:00] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Connection reset by peer)
[11:24:19] *** Quits: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP) (Ping timeout)
[11:24:19] *** Quits: brianm (brianm@moz-8161EF8D.hsd1.ca.comcast.net) (Ping timeout)
[11:24:23] *** Quits: lmandel1 (uid15702@moz-E77DEB21.irccloud.com) (Ping timeout)
[11:24:35] *** Joins: brianm (brianm@moz-8161EF8D.hsd1.ca.comcast.net)
[11:24:52] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[11:24:59] *** Joins: GeneralMaximus (ankur@B4DF73F6.7D84F5AD.260B031E.IP)
[11:25:33] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[11:25:50] *** Joins: lmandel1 (uid15702@moz-E77DEB21.irccloud.com)
[11:28:45] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[11:29:19] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[11:29:40] *** Quits: dbaupp (Thunderbir@moz-8F0823D5.lns20.syd6.internode.on.net) (Quit: dbaupp)
[11:30:31] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[11:30:35] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[11:30:57] *** Joins: dbaupp (Thunderbir@moz-8F0823D5.lns20.syd6.internode.on.net)
[11:32:00] *** pmoore is now known as pmoore|away
[11:32:29] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[11:32:36] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[11:32:45] *** pmoore|away is now known as pmoore
[11:32:48] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[11:37:26] *** Quits: mr_pants (Mibbit@6EB9D10.20CC70E6.92EB3D3E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:41:20] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[11:42:02] *** Joins: Sorella (quildreen@2392D500.600E39D3.1ED99692.IP)
[11:46:30] *** Quits: morphevs (Adium@moz-4C26B411.ethz.ch) (Quit: Leaving.)
[11:49:14] *** Quits: Ms2ger (Ms2ger@moz-25D81AA0.ugent.be) (Ping timeout)
[11:51:32] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[11:53:55] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Connection reset by peer)
[11:54:05] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[11:55:41] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[11:56:55] *** Joins: morphevs (Adium@moz-4C26B411.ethz.ch)
[11:59:16] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[11:59:53] <aph> hope i'm not bothering y'all with my noob questions but if i have enum E { A, B } and match e { A => ..., B => ... } rustc complains that the B arm is unreachable... almost like A is being treated as a wildcard
[12:00:19] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[12:00:49] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[12:00:53] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[12:01:07] <aph> do i have to distinguish the names of nullary enum variants somehow
[12:02:49] <dbaupp> aph: you have to have the variants in scope
[12:03:02] <aph> so E::A and E::B?
[12:03:05] <dbaupp> (and importing `E` doesn't bring the individual variants into scope by default)
[12:03:11] <eddyb> aph: no, just A and B
[12:03:21] <dbaupp> aph: is E defined in a different module?
[12:03:35] <aph> dbaupp: nope same file
[12:03:41] <dbaupp> weird
[12:03:53] <eddyb> rusti: enum E {A, B}; let x: E = A; (x, B)
[12:03:55] -rusti- (A, B)
[12:04:06] <dbaupp> rusti: enum E { A, B } let e = A; match e { A => "A", B => "B" }
[12:04:07] -rusti- "A"
[12:04:44] <aph> i'll try to minimise my example
[12:06:48] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[12:07:44] <aph> i think i must be shadowing some other name o.o
[12:08:01] <aph> A, B weren't the real names, and changing the names changes the error
[12:10:42] <aph> derp, i was typoing the name
[12:10:42] <aph> sorry :)
[12:11:11] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[12:11:24] <ChrisMorgan> Easy to do. Just think, if you'd been using a dynamically typed language you mightn't have found out about it until runtime! :P
[12:11:39] <aph> heh yeah
[12:12:23] <aph> i am now tempted to try to add a message like 'note: A was treated as a wildcard because there is no A in scope. did you mean A'?'
[12:12:33] <aph> but i suspect that is beyond my abilities right now >.>
[12:13:24] <ChrisMorgan> There are such messages in other places, match branches is a place where such a thing is wanted—especially if it's an identifier-style pattern starting with a capital letter.
[12:13:26] <eddyb> s/wildcard/pattern binder (is that the right word, even?)
[12:13:56] <ChrisMorgan> Bind pattern, I think.
[12:14:12] <ChrisMorgan> (Or binding pattern, depending on context)
[12:14:48] <eddyb> ChrisMorgan: hmm, what about unused bind pattern warning + that note?
[12:15:16] <eddyb> if you meant an enum variant, you wouldn't use it again. or you would. I don't know ^_^
[12:15:18] <ChrisMorgan> What I mentioned is something I heard being discussed as on the TODO list.
[12:15:46] <dbaupp> https://github.com/mozilla/rust/issues/10402 fwiw
[12:16:09] <aph> cool
[12:16:29] <ChrisMorgan> Ah, dbaupp, you save me so much time :-)
[12:16:30] <dbaupp> also https://github.com/mozilla/rust/issues/10304
[12:16:47] <ChrisMorgan> Yeah, that's the one I was thinking of.
[12:18:09] <mitsuhiko> force all local variables to be lowercase, and force enums to be title case. problem solved
[12:18:38] <mitsuhiko> it's also the only way to solve style wars: make everything but one blessed style compile time errors
[12:18:40] <eddyb> about UpperCamelCase - syntax&rustc are the most non-conforming codebases I've seen (maybe because they've been around for so long)
[12:18:55] <mitsuhiko> rustc predates the current syntax rules
[12:19:25] <mitsuhiko> rust used to look very differently :)
[12:20:07] <dbaupp> mitsuhiko++
[12:20:12] <eddyb> I thought I wouldn't like snake_case, but it's not bad if you want a strong distinction than between TypeNames and methodNames
[12:20:34] <dbaupp> (the compiler-enforced casing)
[12:21:11] <dbaupp> eddyb: PRs updating the AST etc to new conventions do get merged, if you're feeling bored one day :P
[12:21:44] <eddyb> make it output lint warnings that can be turned into errors with #[deny(bad_style)] or something :)
[12:22:03] <eddyb> dbaupp: oh I want replace all @ from the AST but that's another story
[12:22:33] <eddyb> I don't have the easy prototyping environment to get that done decently fast, sadly
[12:24:27] <mitsuhiko> eddyb: it already outputs lint warnings
[12:24:46] <eddyb> rusti: let FooBar = 0;
[12:24:47] -rusti- <anon>:9:13: 9:19 warning: unused variable: `FooBar` [-W unused-variable (default)]
[12:24:47] -rusti- <anon>:9          let FooBar = 0;
[12:24:47] -rusti-                       ^~~~~~
[12:24:47] -rusti- ()
[12:24:59] <eddyb> mitsuhiko: for style?
[12:26:05] <dbaupp> eddyb: there are some you can enable yes
[12:26:22] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[12:26:54] <mitsuhiko> eddyb: i don't know what flag it is, but there is a lint flag
[12:26:58] <dbaupp> rusti: #[warn(non_camel_case_types)] #[warn(non_uppercase_statics)] mod foo { struct snake_case; static lowercase: uint = 1; }
[12:26:59] -rusti- pastebinned 13 lines of output: http://sprunge.us/hDRM
[12:28:16] <eddyb> those should be on by default. is there a non_snake_case_locals?
[12:28:25] <dbaupp> no, there isn't
[12:28:47] <dbaupp> and people unfortunately seem against trying to enforce a style with the compiler too much. :(
[12:29:18] * dbaupp had non_uppercase_statics on warn by default when he landed it, but it was turned to allow later.
[12:30:26] * aph agrees with mitsuhiko for what it's worth
[12:31:49] <eddyb> dbaupp: statics? of all things
[12:32:30] <aph> but then i am a pythonist so i am bound to agree with mitsuhiko ;3
[12:32:53] <dbaupp> eddyb: it causes bad bad things
[12:32:58] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[12:33:02] <dbaupp> rusti: static a: uint = 1; let a = 2;
[12:33:03] -rusti- <anon>:9:33: 9:34 error: only refutable patterns allowed here
[12:33:03] -rusti- <anon>:9          static a: uint = 1; let a = 2;
[12:33:03] -rusti-                                           ^
[12:33:03] -rusti- error: aborting due to previous error
[12:33:03] -rusti- application terminated with error code 101
[12:33:21] <dbaupp> very easily a "wat??" moment
[12:33:29] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[12:33:53] <eddyb> dbaupp: I mean, why is it allowed now?
[12:34:13] <dbaupp> eddyb: because people didn't want to be told to make them all UPPERCASE
[12:35:32] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[12:36:14] <eddyb> dbaupp: but... how often do people need statics?
[12:36:34] <dbaupp> eddyb: don't know
[12:37:02] * dbaupp shrugs... keeping it on warn was not a battle I felt like spending energy on.
[12:37:46] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[12:40:46] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[12:41:35] *** Quits: sfackler (sfackler@moz-AEECCEBA.com) (Ping timeout)
[12:41:35] *** Quits: photex (photex@399640B9.24E301D6.9510F13D.IP) (Ping timeout)
[12:41:46] *** Quits: egghead (egghead@7851DE85.C82F6435.20F09BA6.IP) (Ping timeout)
[12:41:56] *** Joins: egghead (egghead@7851DE85.C82F6435.20F09BA6.IP)
[12:42:04] *** Joins: kphelps (kphelps@moz-8B098CA5.hsd1.ma.comcast.net)
[12:42:32] *** Joins: photex (photex@399640B9.24E301D6.9510F13D.IP)
[12:43:43] *** Joins: sfackler (sfackler@moz-AEECCEBA.com)
[12:44:55] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[12:45:34] *** Quits: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP) (Quit: arodier74)
[12:47:10] *** Joins: vmx (vmx@moz-F7A693.dip0.t-ipconnect.de)
[12:47:11] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:47:18] *** Joins: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP)
[12:47:32] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[12:48:44] *** Quits: peterdn (chatzilla@moz-14D19651.as13285.net) (Connection reset by peer)
[12:49:22] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[12:50:03] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:50:50] *** Quits: ksh8281 (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Ping timeout)
[12:52:02] *** Quits: Sgeo (quassel@moz-D0F30617.dyn.optonline.net) (Connection reset by peer)
[12:54:07] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[12:55:46] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[12:56:33] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[12:58:53] *** Joins: peterdn (chatzilla@moz-5EB9CC81.as13285.net)
[13:01:40] *** Joins: abinader (abinader@496D17B0.2513D022.AD91B79.IP)
[13:08:19] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[13:09:09] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Ping timeout)
[13:10:09] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[13:15:23] *** Quits: kphelps (kphelps@moz-8B098CA5.hsd1.ma.comcast.net) (Ping timeout)
[13:17:44] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:19:52] *** Joins: Ms2ger (Ms2ger@moz-EB2F7F5F.ugent.be)
[13:20:37] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[13:20:56] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[13:21:56] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[13:21:59] *** Joins: bytewise (bytewise@moz-7178ECF9.adsl.alicedsl.de)
[13:27:49] *** Joins: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com)
[13:32:15] *** Joins: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de)
[13:33:39] <thomas001> hello, suppose you have a struct X, which has a member y, and member y implements some trait T. Is it possible to declare an impl of T for X such that every method is simply delegated to y? 
[13:33:44] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[13:33:57] <thomas001> (without repeating every function in the trait)
[13:34:07] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[13:34:46] *** Joins: pnkfelix (pnkfelix@88F51059.F3BBB17D.144F44FA.IP)
[13:37:05] *** Joins: jmbto (jmbto@moz-FE174E29.fbx.proxad.net)
[13:37:20] <eddyb> thomas001: not yet, sadly. see https://github.com/mozilla/rust/issues/7773
[13:37:32] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[13:37:49] <thomas001> :-/ thanks for the link
[13:38:11] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[13:38:32] *** Parts: pnkfelix (pnkfelix@88F51059.F3BBB17D.144F44FA.IP) ()
[13:38:35] *** Joins: pnkfelix (pnkfelix@88F51059.F3BBB17D.144F44FA.IP)
[13:39:09] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[13:47:17] <eddyb> disasm/arch-8051.rs:350:60: 350:66 error: mismatched types: expected `Expr<'a,U>` but found `Expr<'a,U>` (expected type parameter but found type parameter)
[13:47:23] <eddyb> oh how I missed this :P
[13:49:24] *** Quits: Ms2ger (Ms2ger@moz-EB2F7F5F.ugent.be) (Ping timeout)
[13:50:03] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[13:50:06] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[13:51:06] *** Joins: Jackneill (Jackneill@moz-681FEFC7.pool.digikabel.hu)
[13:51:27] *** Quits: jmbto (jmbto@moz-FE174E29.fbx.proxad.net) (Quit: Leaving)
[13:52:15] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:52:28] *** Joins: deggert_ (deggert@moz-2C16B246.host.de.colt.net)
[13:52:47] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Ping timeout)
[13:52:48] *** deggert_ is now known as deggert
[13:55:47] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Quit: deggert)
[13:58:19] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[13:58:38] <eddyb> oh noes, I can't require that a type is copiable :(
[14:00:48] *** Joins: Florob (Florob@moz-39532932.de)
[14:01:04] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[14:02:23] *** Quits: mye (mye@moz-D9E6B585.dip0.t-ipconnect.de) (Quit: mye)
[14:04:05] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[14:04:41] *** Joins: Ms2ger (Ms2ger@moz-3D940638.ugent.be)
[14:05:58] *** jorendorff_away is now known as jorendorff
[14:07:46] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[14:10:11] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:11:09] *** Joins: headcrash (Mibbit@moz-7F830F53.sub-174-236-201.myvzw.com)
[14:14:29] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Client exited)
[14:15:00] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[14:16:27] <Blei> haha, wow. dynamicly linked executable: 1.3 mb, static: 16mb
[14:16:48] *** Quits: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[14:16:52] <Blei> we pack quite the stdlib apparently
[14:19:07] *** Quits: prudhvi (p@moz-154A460A.supr.io) (Ping timeout)
[14:22:27] *** Joins: prudhvi (p@moz-154A460A.supr.io)
[14:23:40] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[14:23:44] *** Quits: itdnhr (it@moz-7FAAAB8D.bstnma.fios.verizon.net) (Ping timeout)
[14:25:27] <sbalmos> Blei: for humoroous comparison, libc + Boost = how big? :)
[14:25:53] *** Quits: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP) (Quit: WeeChat 0.4.2)
[14:26:04] *** Joins: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP)
[14:27:32] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[14:27:51] <Blei> hmm, 2.0M    /usr/lib/libc-2.18.so
[14:28:03] <Blei> and boost is only headers, so it has size 0 ;)
[14:28:16] *** Parts: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP) (WeeChat 0.4.2)
[14:28:18] <thomas001> apart from the 20M code generated from those templates in there ;)
[14:28:29] <sbalmos> LOL
[14:28:50] <Blei> i know, i know. and boost actually does have some .sos
[14:29:05] <Blei> 11M on my system
[14:29:22] <Blei> and libc also includes other files (e.g. libm)
[14:29:44] *** Joins: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP)
[14:29:53] *** Parts: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP) (WeeChat 0.4.2)
[14:30:31] <sbalmos> so probably, vaguely, around similar
[14:30:48] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:31:51] <Blei> well, the produced rust lib doesn't statically link libc, so that doesn't count either
[14:35:06] *** Joins: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP)
[14:35:20] *** Parts: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP) (WeeChat 0.4.2)
[14:36:03] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[14:36:16] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[14:37:17] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[14:39:56] *** Quits: nkoep (nik@moz-9F784B3F.pool.mediaways.net) (Ping timeout)
[14:43:08] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[14:44:48] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[14:46:01] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:46:01] *** Quits: flowsnake (flowsnake@moz-E4E567EE.aztw.cable.virginm.net) (Ping timeout)
[14:49:31] *** Joins: flowsnake (flowsnake@moz-E4E567EE.aztw.cable.virginm.net)
[14:53:32] *** Quits: moostik (Icedove@moz-5159DC42.w92-151.abo.wanadoo.fr) (Client exited)
[14:54:00] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Ping timeout)
[14:54:18] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[14:54:24] *** Joins: nkoep (nik@moz-1F52D7D0.vpn.rwth-aachen.de)
[14:54:55] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[14:55:04] *** Joins: deggert (deggert@moz-2C16B246.host.de.colt.net)
[14:59:59] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[15:00:22] *** Joins: japaric (japaric@38C6A13.CBA91732.95AFB88D.IP)
[15:01:34] *** Joins: tcr (tcr@E4C59689.4683C875.9D2C3D3E.IP)
[15:02:09] *** Joins: itdnhr (it@moz-7FAAAB8D.bstnma.fios.verizon.net)
[15:02:15] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[15:03:32] *** Joins: jstevans (Instantbir@B7BA5E29.7F21D601.DDE5D3F6.IP)
[15:04:17] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[15:04:54] *** Quits: tcr (tcr@E4C59689.4683C875.9D2C3D3E.IP) (Client exited)
[15:04:56] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[15:05:15] *** Joins: tcr (tcr@E4C59689.4683C875.9D2C3D3E.IP)
[15:06:11] *** Quits: tcr (tcr@E4C59689.4683C875.9D2C3D3E.IP) (Connection reset by peer)
[15:06:12] *** Joins: tcr (tcr@E4C59689.4683C875.9D2C3D3E.IP)
[15:06:29] *** Quits: tcr (tcr@E4C59689.4683C875.9D2C3D3E.IP) (Client exited)
[15:06:49] *** Joins: tcr (tcr@E4C59689.4683C875.9D2C3D3E.IP)
[15:08:29] *** Quits: tcr (tcr@E4C59689.4683C875.9D2C3D3E.IP) (Ping timeout)
[15:09:32] *** Quits: shammancer (dannick@124CDB24.15FC86DF.87B326D3.IP) (Ping timeout)
[15:12:22] *** Joins: synackse (jordyd@7DAC4ACE.77F880E0.D9401097.IP)
[15:12:37] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[15:15:29] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[15:18:19] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:18:19] *** ChanServ sets mode: +o jdm
[15:20:15] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[15:21:36] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[15:21:53] *** Quits: morphevs (Adium@moz-4C26B411.ethz.ch) (Quit: Leaving.)
[15:22:09] *** Quits: headcrash (Mibbit@moz-7F830F53.sub-174-236-201.myvzw.com) (Quit: http://www.mibbit.com ajax IRC Client)
[15:26:50] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[15:27:10] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[15:27:18] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[15:27:30] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:28:02] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Input/output error)
[15:28:15] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[15:28:40] *** Joins: jvns (bork@moz-DE62990.nyc.res.rr.com)
[15:28:59] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[15:29:47] *** Joins: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com)
[15:31:25] *** Joins: moostik (Icedove@moz-5159DC42.w92-151.abo.wanadoo.fr)
[15:32:12] *** Joins: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net)
[15:33:25] *** Quits: logicalparadox (logicalpar@moz-C73156AE.dr01.wlbr.pa.frontiernet.net) (Ping timeout)
[15:36:45] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:38:42] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[15:38:45] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[15:39:42] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[15:42:43] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:42:47] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[15:43:07] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:44:45] *** Quits: vmx (vmx@moz-F7A693.dip0.t-ipconnect.de) (Ping timeout)
[15:47:23] *** Joins: vmx (vmx@moz-F7A693.dip0.t-ipconnect.de)
[15:47:29] *** Joins: morphevs (Adium@moz-4C26B411.ethz.ch)
[15:49:22] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[15:50:37] *** Quits: Ms2ger (Ms2ger@moz-3D940638.ugent.be) (Ping timeout)
[15:50:50] *** Joins: Ms2ger (Ms2ger@moz-F5FA54B5.ugent.be)
[15:51:44] *** Quits: itdnhr (it@moz-7FAAAB8D.bstnma.fios.verizon.net) (Ping timeout)
[15:52:42] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[15:52:43] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[15:53:27] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[15:53:29] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[15:54:29] *** Quits: brianm (brianm@moz-8161EF8D.hsd1.ca.comcast.net) (Quit: Linkinus - http://linkinus.com)
[15:56:07] *** Joins: jstevans1 (Instantbir@B7BA5E29.7F21D601.DDE5D3F6.IP)
[15:56:58] *** Joins: twb (textual@moz-C0B32516.lawn.gatech.edu)
[15:57:06] *** Quits: jvns (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[15:57:10] *** Quits: jstevans (Instantbir@B7BA5E29.7F21D601.DDE5D3F6.IP) (Ping timeout)
[15:57:20] *** Quits: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[15:57:26] *** Joins: jstevans (Instantbir@B1EDB41.A7636379.B7830B68.IP)
[15:57:45] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[15:57:50] *** Quits: jstevans1 (Instantbir@B7BA5E29.7F21D601.DDE5D3F6.IP) (Ping timeout)
[15:58:03] <celeron55> i was testing a bit, and (not so surprisingly) having 30 small extern mods doesn't have a huge effect in incremental compile time when modifying one of them (3.0s when having 1, 4.5s when having 30)
[15:58:05] *** Joins: jstevans1 (Instantbir@7A6DD824.C6383AE7.DDE5D3F6.IP)
[15:58:25] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[15:59:05] *** Joins: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP)
[15:59:06] *** Quits: jstevans (Instantbir@B1EDB41.A7636379.B7830B68.IP) (Ping timeout)
[15:59:08] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[15:59:47] *** Quits: jstevans1 (Instantbir@7A6DD824.C6383AE7.DDE5D3F6.IP) (Ping timeout)
[16:00:04] *** Joins: jstevans (Instantbir@moz-EA07AB18.bootp.virginia.edu)
[16:00:17] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:02:00] *** Quits: zaphod_b (ford_p@moz-CCE57F2F.eblcom.ch) (Ping timeout)
[16:02:00] *** Quits: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[16:02:02] *** Joins: jstevans1 (Instantbir@347390B2.A794608C.DDE5D3F6.IP)
[16:03:37] *** Quits: jstevans (Instantbir@moz-EA07AB18.bootp.virginia.edu) (Ping timeout)
[16:04:01] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:05:40] <sam113101> I don't understand rust lifetimes, is that weird?
[16:06:23] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[16:06:24] *** Joins: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP)
[16:06:26] <SiegeLord> A bit
[16:06:58] <sbalmos> sam113101: Keep hammering the spike through your ear. It'll eventually hit skull and brain. :)
[16:07:04] <sbalmos> What part of the lifetimes?
[16:07:46] *** Quits: Ms2ger (Ms2ger@moz-F5FA54B5.ugent.be) (Quit: bbl)
[16:08:31] <bstrie> sam113101: do you understand human lifetimes?
[16:08:31] <sam113101> the whole thing, man
[16:08:39] <sam113101> is static an arbitrary name?
[16:08:44] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[16:08:53] <sam113101> or does it have a special meaning?
[16:09:12] <bstrie> sam113101: the static lifetime means that it lives forever
[16:09:27] <bstrie> specifically it refers to something that lives in the static memory region of the binary
[16:09:34] <bstrie> it's the only special lifetime name
[16:09:43] <sam113101> OK
[16:09:44] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[16:14:03] *** Joins: josh (josh@moz-A495C7CC.mpls.qwest.net)
[16:15:18] *** Quits: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de) (Ping timeout)
[16:17:36] *** Quits: josh (josh@moz-A495C7CC.mpls.qwest.net) (Ping timeout)
[16:18:40] *** Joins: josh (josh@moz-EFF02B90.mpls.qwest.net)
[16:18:52] <eddyb> random idea: we already have a bottom type. could we use it? imagine Option<!> having only one value, None
[16:19:16] <bstrie> eddyb: () also only has one value :P
[16:19:30] <eddyb> yeah, but my exact use case is Option<()>
[16:19:31] <bstrie> also, bottom isn't just one value... it's every value
[16:19:36] <bstrie> or something
[16:19:39] <eddyb> bstrie: wasn't that top?
[16:20:10] <bstrie> oh right https://en.wikipedia.org/wiki/Bottom_type
[16:20:11] <eddyb> ! is used pretty much for only "never returns" in Rust
[16:20:22] <bstrie> but it says that bottom has no values, rather than one value
[16:20:35] <eddyb> my point is that Option<!> wouldn't have a Some
[16:20:48] <bstrie> i dont understan
[16:21:12] <eddyb> you can't create Some(!), so the only value in Option<!> would be None
[16:21:33] <bstrie> how do you generalize that
[16:21:41] <eddyb> can be optimized to something similar to struct None;
[16:22:00] <eddyb> bstrie: just a crazy idea, don't ask *me* for details :P
[16:22:10] * eddyb barely knows anything about type systems & theory
[16:22:14] <bstrie> maybe we should make _|_ the token for the bottom type
[16:22:27] <bstrie> since I've literally never seen anyone who actually needs to use it :P
[16:23:05] <bstrie> wait no, I bet there's a unicode character for this
[16:23:09] <eddyb> there are bottom/top symbols in unicode
[16:23:19] <eddyb> bstrie: I've seen it used for something like abort
[16:23:26] <bstrie> now the $100 question: will googling "unicode bottom" give me a mathematical symbol, or a butt
[16:23:37] <bstrie> phew
[16:23:48] <eddyb> rusti: fn abort() -> ! {fail!()} let x: uint = abort();
[16:23:49] -rusti- pastebinned 13 lines of output: http://sprunge.us/JYTc
[16:23:54] <bstrie> ⊥
[16:24:14] <eddyb> hehe, type checking error
[16:24:46] <bstrie> In Scala, the bottom type is denoted as Nothing. Besides its use for functions that just throw exceptions or otherwise don't return normally, it's also used for covariant parameterized types. For example, Scala's List is a covariant type constructor, so List[Nothing] is a subtype of List[A] for all types A. So Scala's Nil, the object for marking the end of a list of any type, belongs to the type List[Nothing].
[16:25:15] *** Quits: banananana (ba@E7E2A35D.6F99A8B0.2AADDDA7.IP) (Quit: Verlassend)
[16:25:27] <eddyb> so our None would be Option<Nothing>, following that same logic
[16:25:57] <eddyb> that's interesting... and it's probably implemented already as part of type inference
[16:26:28] *** Quits: moostik (Icedove@moz-5159DC42.w92-151.abo.wanadoo.fr) (Ping timeout)
[16:28:01] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[16:28:04] *** Quits: abinader (abinader@496D17B0.2513D022.AD91B79.IP) (Ping timeout)
[16:28:17] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[16:29:27] *** Joins: abinader (abinader@496D17B0.2513D022.AD91B79.IP)
[16:30:28] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[16:30:41] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[16:32:08] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:33:05] *** Joins: itdnhr (it@F8C11080.200CF5B8.9D2C3D3E.IP)
[16:34:32] *** Joins: zaphod_b (ford_p@moz-CCE57F2F.eblcom.ch)
[16:35:02] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[16:38:40] *** Quits: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP) (Quit: arodier74)
[16:39:51] *** Joins: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP)
[16:40:02] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[16:40:14] *** Joins: jvns (bork@87D98E32.4046EB22.428F94DD.IP)
[16:40:47] *** Quits: twb (textual@moz-C0B32516.lawn.gatech.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:41:04] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[16:41:31] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:42:49] *** Joins: FreeFull (freefull@moz-672577F6.as13285.net)
[16:45:23] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[16:46:28] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[16:46:29] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:48:39] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[16:49:02] *** Quits: josh (josh@moz-EFF02B90.mpls.qwest.net) (Ping timeout)
[16:49:05] *** Joins: josh (josh@moz-39E73E.mpls.qwest.net)
[16:49:51] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:50:52] *** pmoore is now known as pmoore|dinner
[16:51:21] *** Quits: synackse (jordyd@7DAC4ACE.77F880E0.D9401097.IP) (Ping timeout)
[16:56:02] *** Joins: g3xzh (g3xzh@moz-85224D43.red.bezeqint.net)
[16:57:05] <bstrie> dammit ms2ger
[16:57:27] <bstrie> someone tell me when ms2ger is on so that I can be angry
[16:59:48] <Seldaek> bstrie: why why
[16:59:52] <Seldaek> share the anger 
[17:00:28] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[17:00:52] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:00:52] *** ChanServ sets mode: +ao brson brson
[17:01:11] *** zz_kimundi is now known as kimundi
[17:01:11] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[17:01:22] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:01:30] <bstrie> Seldaek: because my boss wants me to style just *part* of an option dropdown menu and ms2ger says that I can't http://stackoverflow.com/a/3355285/865424
[17:02:46] <Seldaek> yeah select tags are hell
[17:02:51] <Seldaek> forms over all are hell to style
[17:03:00] <bstrie> so now there's a chance that I'll have to implement select boxes myself
[17:03:04] *** Quits: jstevans1 (Instantbir@347390B2.A794608C.DDE5D3F6.IP) (Ping timeout)
[17:03:08] <Seldaek> yay
[17:03:10] <bstrie> yaaay
[17:03:15] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[17:03:31] <Seldaek> I'd be angry at my boss more than ms2ger though :p
[17:03:53] <bstrie> nah I'm angry at the users who asked my boss for it
[17:03:58] <bstrie> stupid users!
[17:04:08] <bstrie> if you didn't have to use this software, my life would be so much easier
[17:04:19] <Seldaek> definitely
[17:04:41] <Seldaek> can't you wipe a DB or something horrible? make sure your company goes bust 
[17:04:55] <Seldaek> don't forget the backups in case you got any
[17:04:59] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:05:08] <bstrie> I probably could, we're not very big on security...
[17:05:22] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[17:05:25] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[17:05:27] *** Parts: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) ()
[17:05:31] <bstrie> much as I try to persuade them otherwise
[17:05:43] <Seldaek> today I accidentally the whole puppetmaster by forgetting to remove a --all in a command..
[17:05:47] <Seldaek> fun afternoon
[17:06:16] <Seldaek> can't blame anyone else though :(
[17:06:22] <bstrie> I'm like, "we can't use the a user's six-digit username in a GET parameter as the sole means of authentication to the system"
[17:06:29] <bstrie> and they are like "reluctantly ok"
[17:06:36] <Seldaek> hehe
[17:07:13] <bstrie> then I am like, "no, having a table where you map the username to a sequentially-increasing six-digit number did not solve the problem"
[17:07:27] <kimundi> haha
[17:07:34] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[17:07:37] *** Quits: morphevs (Adium@moz-4C26B411.ethz.ch) (Quit: Leaving.)
[17:08:03] <Seldaek> bstrie: just use random six digit numbers, that ought to be safe
[17:08:06] <ofeldt> bstrie, we make the login just unbelievable expensive, like 15minutes per try and call it enterprisey.
[17:08:38] <bstrie> Seldaek: well the mainframe didn't have the capacity to generate random numbers, so my boss suggested that we just have a table of 1,000 random numbers and refer to those one at a time
[17:08:53] *** Joins: beifeng (Mibbit@723E1524.7A85645C.C7DB8B78.IP)
[17:09:00] <bstrie> and then I made one of the RPG programmers spend a week implenting a random number generator
[17:09:02] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[17:09:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:09:25] <Seldaek> bstrie: I really hope you're making things up at this point :p
[17:09:34] <bstrie> hahaha, I'm deadly serious
[17:09:52] <bstrie> ok well not "deadly", we're not like in some security-critical industry...
[17:09:56] <bstrie> I'm not making avionics software
[17:10:04] <sbalmos> RPG... heh
[17:10:12] <sbalmos> bstrie: I could be. :D
[17:10:29] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Connection reset by peer)
[17:10:30] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[17:10:38] <erickt> bstrie: there are pseudo javascript dropdowns that you could use
[17:10:51] <Seldaek> bstrie: I don't know it sounds like a place I'd rather leave before the shit hits the fan :)
[17:10:57] <bstrie> erickt: yeah, we're already using some bootstrap dropdowns in another place, which is what gave the users the idea in the first place...
[17:11:23] <sbalmos> bah, stupid users...
[17:11:28] <Seldaek> "couldn't we have this but in blue?" - every user/customer ever
[17:11:29] <erickt> they ruin everything
[17:12:03] <bstrie> the problem is that the bootstrap dropdowns don't have the ability to change based on pressing keys when the focus is on the box
[17:12:12] <bstrie> and the users also don't like using the mouse
[17:13:05] <erickt> bstrie: can you tell your users that firefox and webkit are open source and they are welcome to submit patches to add support for styling dropdown menus?
[17:13:25] <bstrie> erickt: bah, I bet that violates standards :P
[17:14:06] <bstrie> need to convene WHATWG to ask for their permission first
[17:14:40] <erickt> I thought I saw that dherman might get on a W3C advisory board, we could work through him
[17:16:04] *** kimundi is now known as zz_kimundi
[17:16:13] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Input/output error)
[17:16:25] <sbalmos> bstrie: User stylesheets. :D
[17:16:48] *** Joins: Ms2ger (Ms2ger@moz-A073B78.adsl-dyn.isp.belgacom.be)
[17:17:33] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:17:38] * erickt pushes Ms2ger in bstrie's direction
[17:17:39] *** zz_kimundi is now known as kimundi
[17:17:46] * bstrie pummels Ms2ger 
[17:18:02] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[17:19:17] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Input/output error)
[17:20:55] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:21:38] *** Quits: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP) (Quit: arodier74)
[17:23:13] *** Joins: jstevans (Instantbir@347390B2.A794608C.DDE5D3F6.IP)
[17:23:24] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[17:24:41] * Ms2ger accidentally trips over erickt 
[17:24:42] *** Quits: itdnhr (it@F8C11080.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[17:24:47] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:24:47] *** ChanServ sets mode: +ao brson brson
[17:25:44] *** Quits: deggert (deggert@moz-2C16B246.host.de.colt.net) (Ping timeout)
[17:25:58] <bstrie> Ms2ger: I demand that you edit http://stackoverflow.com/a/3355285/865424 with a less negative answer and more affirmative answer, so that I am not forced to reimplement select boxes poorly
[17:26:07] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[17:26:30] <Ms2ger> Heh
[17:26:59] <Ms2ger> bstrie, why do you want to do that?
[17:27:33] <bstrie> Ms2ger: https://botbot.me/mozilla/rust/msg/8392451/
[17:28:03] <Ms2ger> Oh, stupid boss
[17:30:19] <diverse> ah that's where the #rust logging went
[17:30:47] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[17:31:06] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:31:08] <kimundi> diverse: Psst... It's in in the MOTD ;)
[17:31:32] <bstrie> this logger is actually searchable!
[17:31:54] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[17:33:29] <diverse> hahaha
[17:33:54] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:33:59] *** Joins: andrew-d_w (andrew-d_w@3516ADBE.5E15A524.D8D85ABD.IP)
[17:34:35] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:34:54] <diverse> Well, I like the look of this new logger.
[17:35:45] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[17:36:21] *** Joins: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP)
[17:37:20] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:37:42] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:37:49] <diverse> and it updates really fast
[17:38:12] *** Quits: sully (sully@moz-388398CC.leptoquark.net) (Quit: leaving)
[17:39:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:40:03] *** Quits: andrew-d_w (andrew-d_w@3516ADBE.5E15A524.D8D85ABD.IP) (Ping timeout)
[17:41:16] <jvns> oh man the Rust compiler is cool. "while i < 255" complains "comparison is useless due to type limits" <3 <3
[17:41:28] <diverse> :)
[17:41:57] <bstrie> haha
[17:42:18] *** Joins: sully (sully@moz-45967CBE.emarhavil.com)
[17:42:30] *** Joins: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de)
[17:42:36] <diverse> it knows when programmers are PEBKAC'ing
[17:42:56] <eddyb> any cheap way to put the bytes of a file into an array?
[17:43:02] <strcat> eddyb: mmap
[17:43:03] <eddyb> at compile-time?
[17:43:09] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[17:43:10] <strcat> include_bin! ?
[17:43:19] <eddyb> strcat: thanks, what I was looking for :D
[17:44:09] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[17:44:24] *** jorendorff is now known as jorendorff_away
[17:44:56] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[17:45:05] *** Quits: thomas001 (thomas@moz-968FA222.informatik.uni-leipzig.de) (Ping timeout)
[17:45:06] *** Quits: GregorR (Gregor@moz-D9651910.so) (Quit: Coyote finally caught me)
[17:45:30] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[17:46:31] *** Joins: GregorR (Gregor@moz-D9651910.so)
[17:47:20] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Client exited)
[17:47:34] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[17:47:45] <diverse> kimundi: btw I read that part 4 of DST post from nmatsakis. Do you think going with objects for vectors is the way to go?
[17:47:57] <kimundi> diverse: I have no idea
[17:49:53] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:49:53] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:50:05] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[17:51:24] *** jorendorff_away is now known as jorendorff
[17:51:39] *** Quits: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP) (Quit: arodier74)
[17:51:57] <bstrie> ooh, rust on gcc
[17:52:00] <bstrie> nifty
[17:52:01] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[17:52:09] <diverse> bstrie: just saw that
[17:52:10] *** Joins: fyolnish (fyolnish@moz-D43893AE.uqwimax.jp)
[17:52:13] *** Quits: fyolnish (fyolnish@moz-D43893AE.uqwimax.jp) (Quit: fyolnish)
[17:52:32] <diverse> https://github.com/redbrain/gccrs
[17:53:27] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[17:54:34] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[17:54:40] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[17:54:41] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[17:55:23] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[17:55:36] <SiegeLord> Yeah, sweet deal... not sure of the practical value of GCC-backend, but it's always nice to have multiple implementations
[17:55:45] <SiegeLord> Although I assume it reuses the frontend
[17:55:56] <SiegeLord> (now *that* would have a lot of practical value)
[17:56:04] <SiegeLord> A new frontend, that is
[17:56:11] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[17:56:34] <pcwalton> I worry about having multiple front ends until 1.0
[17:56:34] *** Joins: Leo_2 (Mibbit@moz-20412B48.ufr-info-p6.jussieu.fr)
[17:56:40] <pcwalton> after 1.0 and the language is nailed down, go nuts
[17:56:43] <Leo_2> hey
[17:56:46] *** pmoore|dinner is now known as pmoore
[17:56:47] <pcwalton> it should just be a few months
[17:56:58] <SiegeLord> Yeah, I don't expect anybody to start today
[17:57:18] <Leo_2> i've got a lifetime parameters issue
[17:57:36] <o11c> I don't see how it could reuse the frontend ... rustc is written in rust, right?
[17:57:55] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[17:58:07] <strcat> o11c: and it plans on being a rust compiler so it can start by bootstrapping with the upstream one and then drop in the gcc backend + snapshot
[17:58:27] <strcat> (once it gets to that point)
[17:58:56] <froydnj> the gcc ada compiler is written in ada, no reason the rust one can't be written in rust
[17:59:12] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:59:27] <Leo_2> I had previously a struct containing a HashMap and a method returning an iterator on that HashMap, this method was something like method<'a>(&'a self) -> HashMapIterator<'a, K, V>, something like that. that worked well
[17:59:50] *** Joins: jmbto (jmbto@moz-FE174E29.fbx.proxad.net)
[18:00:10] <Leo_2> now I want to abstract the actual type of container that is used and instead return just an Iterator<(K, V)>
[18:00:32] <Leo_2> but I don't find how to do it with the good lifetimes parameters
[18:00:49] <Leo_2> I tried returning an &'a Iterator<(K, V)>, that doesn't work
[18:00:57] <kimundi> Leo_2: The recommended way is not to do that, and to instead return the Iterator as bare struct
[18:01:21] <SiegeLord> Oh, huh... I guess it does have a new frontend... amazing
[18:01:27] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:01:28] <Leo_2> kimundi: mhh
[18:01:57] <Leo_2> kimundi: well so, if I want to abstract this, I'd better use a trait with a parameter T of type iterator, and a method returning T ?
[18:02:01] <kimundi> Leo_2: Returning a Iterator<(K, V)> is only possible by using trait objects, in this case only ~Iterator<(K, V)> would be applicable. But thta does a uneccessary allocation, slow dynamic dispatch and complicates the lifetime situation, so, really not recommended :P
[18:02:26] <kimundi> Leo_2: What do you want to abstract away?
[18:02:34] <strcat> the allocation isn't going to be the reason it's very slow
[18:02:48] <kimundi> I never claimed that :P
[18:03:20] <strcat> SiegeLord: for a small subset of rust without borrowck, moves, etc.
[18:03:28] <strcat> I really think it's the wrong way to do it
[18:03:45] * strcat shrugs
[18:03:52] <Leo_2> kimundi: I'd like the trait to be implemented by structs that use internally either HashMaps, arrays, or whatever as container
[18:03:55] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[18:03:55] *** ChanServ sets mode: +ao dherman dherman
[18:04:00] <SiegeLord> It's important to have to make sure the spec is good
[18:04:08] <Leo_2> and all those structs would have a method to iterate on the contained elements
[18:04:13] <strcat> SiegeLord: there isn't a spec
[18:04:14] <o11c> you know, one thing that people *really* want is a way to build rust without requiring rust ...
[18:04:18] <SiegeLord> It's just that there's no spec atm, so it's kind of... odd
[18:04:47] <strcat> o11c: they want nightly builds for platforms other than arch/ubuntu, that's all
[18:04:49] *** Quits: Ferreus (ferreus@moz-6283E2E3.dip0.t-ipconnect.de) (Ping timeout)
[18:04:51] <o11c> so even if gccrs at some point in the future compiles bad code happily ... as long as it correctly compiles rustc ...
[18:04:57] <pnkfelix> o11c: clearly we should be distributing LLVM bitcode as well.  <jk>
[18:05:20] <kimundi> Leo_2: That sound like an Iterable trait, I think? SOmething like that is not expressible in rusts type system right now, because of lack of higher kinded types
[18:05:22] <strcat> it's not at all feasible to build another frontend at this point
[18:05:27] <strcat> the existing frontend is incomplete in many areas
[18:05:41] <strcat> and look at all the work that's gone into it
[18:05:44] <Leo_2> kimundi: ok :(
[18:05:48] <strcat> even something like macros is going to be difficult to reimplement
[18:05:57] * strcat can't see that it's a productive way to do another backend
[18:06:21] * Leo_2 agrees
[18:06:22] <strcat> but oh well
[18:06:47] <strcat> if they want to do it they can ;p, but I don't expect it will ever be useful if done that way
[18:06:52] *** Joins: mye (mye@moz-D9E6B585.dip0.t-ipconnect.de)
[18:06:52] <strcat> the D compilers share a frontend
[18:06:56] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[18:07:00] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[18:07:10] <kimundi> Leo_2: YOu can of course write code that is generic over any Iterator itself, it just can't create the Iterator from some other type directly.
[18:07:32] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[18:08:18] <SiegeLord> D compilers sharing a frontend is a demerit :P
[18:08:36] <Leo_2> kimundi: in fact I don't really need this abstraction
[18:08:45] <bstrie> once we have a spec, multiple frontends would be a good way to find holes in it
[18:08:50] <Leo_2> it was just to make the code more pretty by making it more generic
[18:08:52] <bstrie> but right now it's just a party trick
[18:09:10] <Leo_2> but it's going to be an horrible mess, so I think I'll stay with hardcoded Iterator types
[18:09:32] <strcat> bstrie: if you really expect someone to redo all of the borrowck/liveness/macro/whatever code
[18:09:33] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[18:09:33] * strcat doesn't
[18:09:50] <SiegeLord> There have been two attempts to create a new frontend for D, and they both failed... it's a combination of a lack of a specification of the langauge and the fact that the language is horribly complex
[18:09:53] <bstrie> strcat: I don't, but I'm not going to stop someone from trying :P
[18:10:02] <o11c> I imaging you could make a pretty good rust compiler without macro support
[18:10:04] <strcat> SiegeLord: rust is more 'complex' in terms of what the compiler has to do
[18:10:04] <kimundi> Leo_2: Yeah, that stuff works nicer in languages that always use dynamic dispatch, and can just return an interface or so.
[18:10:18] <strcat> o11c: without borrowck? type inference? liveness?
[18:10:24] <o11c> just hard-code fmt! and fail!
[18:11:22] <o11c> TI is needed, and over-permissive borrowing would work for a time.
[18:13:25] *** Quits: josh (josh@moz-39E73E.mpls.qwest.net) (Quit: josh)
[18:13:59] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[18:14:00] *** ChanServ sets mode: +o jdm
[18:14:49] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:15:29] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[18:15:51] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[18:17:30] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[18:18:06] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[18:18:43] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[18:19:14] *** Joins: echristo (echristo@24D1937F.D6CCE4AE.77834EAA.IP)
[18:19:37] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[18:19:41] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[18:20:01] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[18:21:09] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Ping timeout)
[18:21:10] *** Joins: jdm_ (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[18:21:46] *** jdm_ is now known as jdm
[18:21:47] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:22:22] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: WeeChat 0.4.3-dev)
[18:22:46] *** Joins: apoelstra (username@moz-C92A9641.sw.biz.rr.com)
[18:23:28] *** Quits: Leo_2 (Mibbit@moz-20412B48.ufr-info-p6.jussieu.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:23:28] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[18:26:53] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[18:27:52] *** Joins: pcwalton (pcwalton@moz-B7F12A6C.public.wayport.net)
[18:27:52] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:28:34] *** Joins: pheleas_frog (Mibbit@DA820AA2.17CD9887.F12515B4.IP)
[18:29:03] *** Quits: pheleas_frog (Mibbit@DA820AA2.17CD9887.F12515B4.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:29:39] *** Quits: g3xzh (g3xzh@moz-85224D43.red.bezeqint.net) (Ping timeout)
[18:29:58] <eddyb> task '<main>' has overflowed its stack
[18:29:59] <eddyb> ^ ouch
[18:30:27] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[18:31:00] <sbalmos> impressive
[18:32:40] *** Quits: oberstet (quassel@moz-7D66B2E3.dynamic.mnet-online.de) (Client exited)
[18:33:49] <eddyb> -Z extra-debug-info + gdb are impressive :D
[18:33:57] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[18:34:25] *** Joins: josh (josh@moz-39E73E.mpls.qwest.net)
[18:34:33] <sbalmos> how about dtrace?
[18:34:46] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:35:11] *** Quits: ekiara (emk@moz-9B1940E9.tech.co.ke) (Ping timeout)
[18:35:50] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[18:36:07] *** Quits: Mowah (Mowah@moz-436C35C5.cust.bredbandsbolaget.se) (Ping timeout)
[18:36:44] *** Joins: secretrobotron (secretrobo@moz-E9501591.members.linode.com)
[18:37:57] <eddyb> sbalmos: last time I tried to use that I only got "too bad, you're not using Mac OSX"
[18:38:58] <mmalecki> I'd recommend Joyent's SmartMachines for playing around with dtrace
[18:39:21] <mmalecki> actually, I'm wondering if rust compiles on SmartOS
[18:40:36] <sbalmos> doh
[18:42:18] *** Quits: abinader (abinader@496D17B0.2513D022.AD91B79.IP) (Quit: Fui!)
[18:42:25] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[18:42:31] *** Joins: tikue (tkuehn@494ACD0F.28336FB0.689607DE.IP)
[18:43:35] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[18:43:42] *** Quits: beifeng (Mibbit@723E1524.7A85645C.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:46:19] *** Joins: twb (textual@moz-C0B32516.lawn.gatech.edu)
[18:50:43] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[18:50:47] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[18:50:48] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[18:51:12] <mmalecki> it doesn't, configure says 'configure: error: unknown OS type: SunOS'
[18:52:55] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:54:00] *** Joins: SingingBoyo (brandon@DA28FB90.A5D0D593.4F048BDC.IP)
[18:54:40] *** Quits: vmx (vmx@moz-F7A693.dip0.t-ipconnect.de) (Ping timeout)
[18:54:59] *** Joins: vmx (vmx@moz-F7A693.dip0.t-ipconnect.de)
[18:56:23] *** Quits: vmx (vmx@moz-F7A693.dip0.t-ipconnect.de) (Quit: Leaving)
[18:56:53] <mmalecki> hmm, it looks like for SmartOS i86pc means both x86 and x64-54
[18:57:44] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[18:57:58] *** Quits: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net) (Input/output error)
[18:58:40] *** Joins: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net)
[18:58:52] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[18:59:33] *** Quits: pcwalton (pcwalton@moz-B7F12A6C.public.wayport.net) (Ping timeout)
[19:00:28] *** Joins: Ferreus (ferreus@moz-46F78B0.pools.arcor-ip.net)
[19:01:12] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[19:02:15] *** Quits: heftig (heftig@moz-DBCCD3CC.dip0.t-ipconnect.de) (Ping timeout)
[19:02:46] *** Joins: montezuma (Mibbit@moz-1E9B9584.chello.sk)
[19:03:09] <mmalecki> now getting a bunch of './configure[189]: local: not found [No such file or directory]'
[19:03:10] *** Joins: jstevans1 (Instantbir@580ABE8E.A794608C.DDE5D3F6.IP)
[19:03:45] <wycats_> has WorkQueue moved?
[19:03:54] *** Quits: montezuma (Mibbit@moz-1E9B9584.chello.sk) (Quit: http://www.mibbit.com ajax IRC Client)
[19:03:54] *** Quits: jstevans (Instantbir@347390B2.A794608C.DDE5D3F6.IP) (Ping timeout)
[19:04:02] <wycats_> I had some code courtesy of acrichto that was importing std::rt::work_queue::WorkQueue
[19:04:07] <wycats_> but it seems to be goooone
[19:04:49] *** Joins: jstevans (Instantbir@E465C170.96F115D7.DDE5D3F6.IP)
[19:05:20] <wycats_> http://static.rust-lang.org/doc/0.8/std/rt/work_queue/struct.WorkQueue.html
[19:05:20] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:05:35] <Eridius> wycats_: looks like it was removed in PR #10678
[19:05:44] *** Quits: jstevans1 (Instantbir@580ABE8E.A794608C.DDE5D3F6.IP) (Ping timeout)
[19:05:45] <Eridius> with the addition of std::rt::deque
[19:05:54] <mmalecki> oh my. it looks like this shell doesn't understand `local`.
[19:05:55] <wycats_> Eridius: hmmm...
[19:06:01] <Eridius> http://static.rust-lang.org/doc/master/std/rt/deque/index.html
[19:06:04] *** Joins: jstevans1 (Instantbir@90B92E6C.117F92C2.B7830B68.IP)
[19:06:08] <wycats_> is it drop-in?
[19:06:12] <Eridius> no idea
[19:06:26] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[19:06:35] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[19:06:37] <wycats_> seeems good
[19:07:06] <wycats_> seems like it
[19:07:20] *** Quits: jstevans (Instantbir@E465C170.96F115D7.DDE5D3F6.IP) (Ping timeout)
[19:07:24] <wycats_> why is deque lowercase?
[19:07:36] *** Quits: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net) (Ping timeout)
[19:07:48] <wycats_> ah it returns a worker and stealer
[19:07:50] <wycats_> from a pool
[19:08:09] *** Quits: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com) (Ping timeout)
[19:08:13] *** Joins: KindOne (KindOne@moz-1F6A65EB.dynamic.ip.windstream.net)
[19:08:29] <sbalmos> mmalecki: Never understood Solaris. Backwards to me.
[19:08:43] *** Joins: itdnhr (it@F8C11080.200CF5B8.9D2C3D3E.IP)
[19:09:23] *** Joins: heftig (heftig@moz-F8B26C9F.dip0.t-ipconnect.de)
[19:09:23] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[19:09:23] *** ChanServ sets mode: +ao dherman dherman
[19:09:24] *** Joins: jstevans (Instantbir@66EF42C9.24244994.DDE5D3F6.IP)
[19:09:49] *** Joins: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net)
[19:09:57] *** Quits: jstevans1 (Instantbir@90B92E6C.117F92C2.B7830B68.IP) (Ping timeout)
[19:10:16] <mmalecki> sbalmos: yeah, I hear you. I spent way too much time making stuff compile on Solaris for work.
[19:10:43] <sbalmos> mmalecki: My best friend runs everything under Solaris, finds everything else backwards. To each their own.
[19:11:02] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:11:50] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:12:27] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[19:14:12] <wycats_> sbalmos: joyent is solaris-only
[19:14:12] *** Joins: g3xzh (g3xzh@moz-85224D43.red.bezeqint.net)
[19:14:16] *** Quits: g3xzh (g3xzh@moz-85224D43.red.bezeqint.net) (Quit: g3xzh)
[19:14:20] <wycats_> eventually I will sadly need solaris support
[19:14:24] <wycats_> (we have customers on solaris)
[19:14:26] <wycats_> bootstrap.rs:14:26: 14:32 error: wrong number of type arguments: expected 1 but found 0
[19:14:26] <wycats_> bootstrap.rs:14 static mut sched_thread: *Thread = 0 as *Thread;
[19:14:28] <mmalecki> wycats_: nah, you can also run Linux on it
[19:14:30] <wycats_> what's going on here
[19:14:36] <wycats_> mmalecki: their default is Solaris then?
[19:14:37] <wycats_> unsure
[19:14:47] <wycats_> but we've had a surprising number of Solaris tickets from them
[19:14:53] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:14:58] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[19:14:59] <wycats_> is *Thread not a type argument?
[19:15:14] <mmalecki> wycats_: yeah, SmartMachines are Solaris and VirtualMachines are Linux and Windows
[19:15:16] <wycats_> the arrow is pointing at the T
[19:15:50] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:15:52] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[19:16:55] <wycats_> this is how I feel trying to upgrade acrichto's task messaging code to master:
[19:16:56] <wycats_> http://myriadwhimsies.files.wordpress.com/2011/01/mickey-mouse-sorcerers-apprentice.jpg
[19:17:38] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[19:18:03] <sbalmos> heheheh
[19:18:12] <mmalecki> wow, smartos's vim is completely useless
[19:19:11] <wycats_> ccc
[19:19:24] <wycats_> https://github.com/carlhuda/janus :P
[19:19:33] <wycats_> not just because I'm the coauthor :P
[19:21:02] <mmalecki> wycats_: heh, that won't work. this vim is just terribly outdated
[19:21:09] <wycats_> oy
[19:21:24] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[19:22:32] <mmalecki> wycats_: heh, I have a plugin there :D
[19:22:38] <wycats_> mmalecki: :)
[19:22:40] <wycats_> which?
[19:22:43] *** Quits: itdnhr (it@F8C11080.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[19:23:05] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:23:07] <mmalecki> wycats_: vim-node.js. detects #!/usr/bin/env node and such :)
[19:23:39] <mmalecki> hmm, so llvm doesn't want to configure, unknown target. anyone knows what the correct target for solaris is?
[19:24:24] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[19:25:12] <wycats_> mmalecki: it should "just work", no?
[19:25:16] <wycats_> git clean -dfx?
[19:25:21] <wycats_> oh this is on solaris/
[19:25:22] <wycats_> ?
[19:25:32] <wycats_> no idea! but I bet someone at joyent knows
[19:25:49] <mmalecki> yeah, this is solaris
[19:25:56] <wycats_> so ... what's going on with this wrong number of type arguments thing?
[19:26:10] *** pmoore is now known as pmoore|away
[19:27:12] *** pmoore|away is now known as pmoore
[19:29:47] *** Joins: itdnhr (it@F8C11080.200CF5B8.9D2C3D3E.IP)
[19:30:17] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:32:19] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[19:33:45] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[19:34:10] <wycats_> something about this syntax has changed recently but I'm not sure what: static mut sched_thread: *Thread = 0 as *Thread
[19:34:28] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[19:38:51] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:40:42] *** Quits: tikue (tkuehn@494ACD0F.28336FB0.689607DE.IP) (Quit: tikue)
[19:41:52] *** Joins: lenstr (lenstr@7790746C.9636F313.7A27613B.IP)
[19:42:05] *** Quits: bytewise (bytewise@moz-7178ECF9.adsl.alicedsl.de) (Quit: bytewise)
[19:42:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:43:22] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:43:42] <myname> why did i miss the gcc thing?
[19:44:02] *** Joins: bytewise (bytewise@moz-7178ECF9.adsl.alicedsl.de)
[19:44:45] <wycats_> which gcc thing?
[19:44:50] <myname> http://www.phoronix.com/scan.php?page=news_item&px=MTUzMzM
[19:45:09] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Ping timeout)
[19:45:55] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[19:45:55] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[19:46:35] <diverse> myname: you didn't miss it, it just showed up today. It's even annouced at the ML.
[19:46:38] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:46:48] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[19:46:52] <myname> that's totally awesome
[19:46:54] *** Joins: tdc (santegoeds@moz-FD650F79.range31-54.btcentralplus.com)
[19:47:01] <diverse> definitely
[19:47:39] <wycats_> oh nice :)
[19:47:55] <wycats_> any advice on the above syntactic issue?
[19:48:01] <wycats_> static mut sched_thread: *Thread = 0 as *Thread
[19:48:12] <wycats_> wrong number of type arguments: expected 1 but found 0
[19:48:12] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:48:18] <wycats_> what has changed recently here?
[19:48:38] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Ping timeout)
[19:48:38] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[19:48:49] <sfackler> what's the definition of Thread?
[19:49:04] <o11c> it's a pointer, why does it matter?
[19:49:13] <wycats_> aha!
[19:49:17] <wycats_> it's Thread<T>
[19:49:36] <wycats_> changed from http://static.rust-lang.org/doc/0.8/std/rt/thread/struct.Thread.html
[19:50:09] *** Joins: telotortium (rmi1@moz-4341776B.hsd1.il.comcast.net)
[19:50:10] <wycats_> it's currently being used as let thread: ~Thread = unsafe { take(&mut sched_thread) };
[19:50:39] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[19:50:41] <wycats_> what is the T here?
[19:51:07] <wycats_> join returns a T
[19:51:25] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:51:32] *** Joins: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP)
[19:51:50] *** Joins: abinader (abinader@D8B9C081.E820043D.D4C04133.IP)
[19:51:52] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[19:52:07] <wycats_> I don't actually care about the return value
[19:52:14] <wycats_> can I make it a Thread<void> somehow?
[19:52:18] <wycats_> Thread<_>
[19:52:22] <myname> ()?
[19:52:23] <wycats_> Thread<IDontGiveAShit>
[19:52:27] <wycats_> will that work?
[19:52:34] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[19:52:38] <sfackler> uh, maybe?
[19:52:40] <myname> don't know exactly, but AFAIK () is a type
[19:52:44] <strcat> wycats_: why do you actually need to use a raw OS thread?
[19:52:48] <diverse> Thread<IShouldUseTasksAnyway>
[19:52:50] <sfackler> if the type isn't used in the definition of the struct you can just toss in () as the type
[19:53:15] <wycats_> strcat: this is code that acrichto wrote for me to communicate between non-task code and a single task that I have to use because a library I'm using is using @-boxes
[19:53:29] <wycats_> strcat: you can ask acrichto why he did that
[19:53:32] *** Quits: telotortium (rmi1@moz-4341776B.hsd1.il.comcast.net) (Quit: Leaving)
[19:53:56] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[19:56:34] *** Quits: flowsnake (flowsnake@moz-E4E567EE.aztw.cable.virginm.net) (Ping timeout)
[19:57:01] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[19:57:17] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[19:57:19] *** Quits: lenstr (lenstr@7790746C.9636F313.7A27613B.IP) (Ping timeout)
[19:57:20] *** Joins: tcr (tcr@moz-1EBF1EAD.olin.edu)
[19:57:54] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[19:58:02] <adridu59> cmr: are you there?
[19:58:51] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[20:00:11] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[20:00:27] *** Joins: telotortium (rmi1@moz-4341776B.hsd1.il.comcast.net)
[20:01:03] *** Quits: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:01:22] *** Joins: Florob (Florob@moz-39532932.de)
[20:02:05] *** Quits: itdnhr (it@F8C11080.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[20:02:43] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[20:03:13] *** Quits: Sorella (quildreen@2392D500.600E39D3.1ED99692.IP) (Quit: Ex-Chat)
[20:03:31] *** Quits: msch (msch@moz-DA0E34D4.clients.your-server.de) (Ping timeout)
[20:03:33] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[20:03:56] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[20:05:01] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[20:05:34] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[20:05:41] <adridu59> guys, I'd need an advice for my tutorial
[20:05:56] *** Joins: Florob (Florob@moz-39532932.de)
[20:06:46] <adridu59> oh nvm it's alright
[20:08:08] *** Joins: tikue (tkuehn@494ACD0F.28336FB0.689607DE.IP)
[20:08:10] *** Quits: tikue (tkuehn@494ACD0F.28336FB0.689607DE.IP) (Quit: tikue)
[20:08:25] *** Joins: tikue (tkuehn@494ACD0F.28336FB0.689607DE.IP)
[20:08:32] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[20:09:05] *** Quits: tikue (tkuehn@494ACD0F.28336FB0.689607DE.IP) (Quit: tikue)
[20:09:20] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[20:09:34] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[20:11:12] *** Joins: ktt3ja (Mibbit@moz-D69B60E4.hsd1.va.comcast.net)
[20:14:11] *** Joins: tikue (tkuehn@494ACD0F.28336FB0.689607DE.IP)
[20:14:42] <Leo`> it's sad that Rustpkg doesn't detect modification on source files
[20:14:49] <Leo`> you have to clean and the rebuild each time
[20:14:56] <wycats_> Yeeeah rustpkg
[20:15:21] <kmc> woah rust frontend for GCC o_O
[20:15:43] <kmc> wonder if it will keep up with language changes
[20:15:50] <strcat> kmc: it's a small subset of rust
[20:16:07] *** Quits: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com) (Ping timeout)
[20:16:30] *** Joins: kikko85 (kikko85@moz-20DB8BB5.retail.telecomitalia.it)
[20:16:44] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:16:53] *** Parts: kikko85 (kikko85@moz-20DB8BB5.retail.telecomitalia.it) ()
[20:16:58] <strcat> I don't think it handles closures, traits/generics, pointers, etc.
[20:17:31] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[20:17:44] <Leo`> speaking about closures, I didn't really keep in touch with recent language changes about them
[20:18:03] *** Quits: Ms2ger (Ms2ger@moz-A073B78.adsl-dyn.isp.belgacom.be) (Quit: nn)
[20:18:32] <strcat> closures are still a weak point of the language, it's just a smaller surface area now
[20:18:37] <Leo`> do we still have completely first-class closures ? I mean, that really capture their environment ?
[20:18:49] <Leo`> and that are really first class
[20:18:49] <strcat> sure?
[20:19:02] <Leo`> strcat: ?
[20:19:10] <strcat> I'm not sure what you mean
[20:19:28] <Leo`> I mean, stack closures capture their environment, but are not completely first class, right ?
[20:19:37] *** Quits: abinader (abinader@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[20:19:49] <Leo`> I think we have closures that are Send, but that capture their environment by-move or something like that
[20:19:50] *** Joins: itdnhr (it@F8C11080.200CF5B8.9D2C3D3E.IP)
[20:20:01] <strcat> ~fn and @fn were removed
[20:20:04] <strcat> ~once fn became proc
[20:20:08] <strcat> &fn became ||
[20:20:12] <Leo`> ok
[20:20:16] <strcat> there are still no unboxed closures
[20:20:21] <Leo`> so we only have procs and stack closures
[20:20:26] <strcat> they aren't stack closures
[20:20:35] <Leo`> mh
[20:20:35] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:20:40] <strcat> they're a pointer to a closure on the stack
[20:20:41] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[20:20:45] <Leo`> ok
[20:20:50] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[20:20:54] <Leo`> they are not completely first-class though, right ?
[20:20:55] <strcat> true stack closures in the type system would be a value you could move around
[20:20:59] <strcat> Leo`: they are first-class
[20:21:02] <Leo`> you can't return a &fn
[20:21:04] <Leo`> oh ?
[20:21:12] <strcat> again I don't really know what you mean by first-class
[20:21:17] <strcat> they are a type in the type system
[20:21:34] <strcat> they're about as good as you're going to get with a type erased closure without allocation
[20:21:38] <Leo`> something you can pass around, return, store, etc.
[20:21:40] <Leo`> mh
[20:21:55] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[20:23:21] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[20:23:36] *** Joins: abinader (abinader@496D17B0.2513D022.AD91B79.IP)
[20:23:54] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[20:23:56] *** Joins: Florob (Florob@moz-39532932.de)
[20:23:59] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[20:25:38] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Max SendQ exceeded)
[20:25:42] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[20:25:49] <Leo`> strcat: so what sould be the preferred way to write something like this in Rust ? http://paste.placeholder.fr/show/504/
[20:26:09] <strcat> Leo`: you can't write that with rust's closures
[20:26:15] <Leo`> this doesn't compile because b would outlive the block where it's defined
[20:26:15] <strcat> and it doesn't have to do with them not being 'first-class'
[20:26:30] <Leo`> well ok I get it
[20:26:36] <adridu59> rusti: 3.iter()
[20:26:37] -rusti- <anon>:9:9: 10:5 error: type `<VI0>` does not implement any method in scope named `iter`
[20:26:37] -rusti- <anon>:9          3.iter()
[20:26:37] -rusti- <anon>:10     };
[20:26:37] -rusti- error: aborting due to previous error
[20:26:38] -rusti- application terminated with error code 101
[20:26:48] <Leo`> sorry for miss explaining what I meant
[20:26:52] <adridu59> makes sense
[20:27:26] <strcat> Leo`: I know what you want, and it's not possible without heap allocation (like ~fn did) in rust's type system
[20:27:40] <strcat> even with unboxed closures, you can't just return one - the type of each unboxed closure would be unique
[20:27:41] <Leo`> strcat: ok
[20:27:46] <strcat> and rust makes you specify the return type
[20:27:50] <Leo`> yup
[20:27:51] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[20:27:57] <Leo`> and is this going to come back at some point ?
[20:28:08] <strcat> rust has never had unboxed closures
[20:28:15] <Leo`> I mean ~fn
[20:28:18] <strcat> dunno
[20:28:47] <Leo`> they could capture only the part of their environment that they can copy or shallow copy
[20:29:02] <Leo`> or move things
[20:29:10] <strcat> ~fn had move semantics and didn't implement Clone
[20:29:17] <Leo`> yeah
[20:29:32] <Leo`> that was cool
[20:29:38] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[20:29:39] <Leo`> why was it removed ?
[20:29:53] <strcat> to reduce the surface area
[20:30:00] <Leo`> :(
[20:30:23] <Leo`> I can uderstand this but this is sad
[20:30:43] *** Joins: skade (skade@moz-A586637D.pools.arcor-ip.net)
[20:30:59] <strcat> removing poorly implemented features is a good thing
[20:31:14] <strcat> they can be reimplemented in a sane way without having the old legacy one around forever
[20:31:20] <Leo`> yep
[20:31:27] <Leo`> but I have the impression (maybe wrong)
[20:31:31] <strcat> although I don't think that has really been accomplished
[20:31:39] <Leo`> that we are reporting those things to post-1.0
[20:32:42] <Leo`> and that removing them will make that no-one will try to reimplement them in a sane way like you said before 1.0
[20:32:55] <Leo`> because this would block a stable release, I don't know
[20:33:03] <strcat> it has nothing to do with stopping someone from reimplementing them
[20:33:21] <strcat> it's not harder to implement better closures if the old system is gone
[20:33:23] <Leo`> but those things are important, and there are many others like this
[20:33:24] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:33:28] <Leo`> well maybe
[20:33:42] <Leo`> I hope you're right and someone will do it before 1.0
[20:33:54] <Leo`> not only for closures, but many other things
[20:34:06] <Leo`> or maybe I also underestimate the time before 1.0
[20:34:18] <strcat> version numbers don't mean anything to me
[20:34:31] <strcat> if rust freezes the language and there are warts left, it will be forked and the warts will be fixed
[20:34:48] <Leo`> but I had the feeling that team members were slowing down things to stabilize the language
[20:34:48] <strcat> 1.0 isn't a very meaningful thing to talk about imo
[20:34:55] <strcat> yes the language is being stabilized
[20:35:06] <o11c> I really hope we see a 1.10, 1.11
[20:35:12] <o11c> er, 0.10, 0.11
[20:35:13] <strcat> but if they decide to tag 1.0, I highly doubt it's going to be as meaningful as everyone else makes it out to be
[20:35:47] *** Quits: pnkfelix (pnkfelix@88F51059.F3BBB17D.144F44FA.IP) (Quit: Leaving.)
[20:35:47] <Leo`> well, what I hope is that when a first retro-compatible stable version comes out
[20:35:51] <Leo`> I won't miss many things in it
[20:36:06] <Leo`> what I say isn't very clear
[20:36:18] <Leo`> well, I hope this version will have everything we want it to have :p
[20:36:18] * strcat just doesn't see time being spent maintaining a frozen backwards compatible version anytime soon
[20:36:34] <Leo`> :)
[20:37:13] <Leo`> I have hollidays soon, maybe i'll find the time to start hacking seriously on Rust
[20:37:33] <Leo`> implementing myself some things would be the best way not to regret that they are missing in the future :p
[20:37:42] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:37:50] <Leo`> but I fear I don't have the level required for important things, like closures
[20:38:00] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:38:05] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[20:38:29] *** Quits: tdc (santegoeds@moz-FD650F79.range31-54.btcentralplus.com) (Quit: Leaving)
[20:38:46] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[20:38:47] <strcat> no one really knows exactly what a better closure system would look like, just that the current way is far from ideal
[20:38:57] <strcat> they don't map entirely to trait objects
[20:39:45] <strcat> for example, the current closures can always mutate their environment and they wouldn't ever work as an &Trait object
[20:39:47] <Leo`> well, I said closures, but there are other things I would like to be implemented
[20:40:15] <Leo`> that incremential compilation things I mentionned on the ML recently (the one I was insulted for .__.)
[20:41:06] <Leo`> having a true GC would be great too, but this is a way to hard job for me :P
[20:44:39] *** Quits: SingingBoyo (brandon@DA28FB90.A5D0D593.4F048BDC.IP) (Ping timeout)
[20:44:55] *** Joins: lenstr (lenstr@7790746C.9636F313.7A27613B.IP)
[20:45:30] <friggle> strcat: I'm not convinced it will be forked and problems fixed. Having a 1.0 with nasty warts is a bad way to present yourself to the world
[20:45:53] <friggle> and if Mozilla don't support a fork, it's going to be an uphill battle
[20:46:11] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:47:56] <strcat> so then everyone should probably stop pressing so urgently for a 1.0 tag
[20:48:45] * Leo` agrees
[20:48:50] <friggle> I sure as hell don't want a 1.0 tag
[20:48:53] <mark_edward> doomlord_, ping
[20:48:54] *** Joins: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr)
[20:49:04] <Leo`> neither I do
[20:49:05] *** Parts: mikezaby (mikezaby@moz-4BF6308B.home.otenet.gr) ()
[20:49:38] <Leo`> I prefer a stable language in one year or two than a stable language in months, but with some important things not implemented, bugs
[20:49:53] <Leo`> and with shit that will stay forever in it because of backwards-compatibility
[20:51:10] *** Quits: twb (textual@moz-C0B32516.lawn.gatech.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:52:29] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[20:52:45] <mark_edward> strcat, who's pressing? im not pressing. we need to figure the allocator, pointer, and GC stuff before then, not to mention closures and other stuff
[20:55:02] <SiegeLord> Plenty of people are pressing
[20:55:17] <Leo`> both users and developers :p
[20:55:26] *** Quits: nkoep (nik@moz-1F52D7D0.vpn.rwth-aachen.de) (Ping timeout)
[20:56:08] <strcat> I don't think rust is really hitting the systems language mark, perhaps that's not really what most people want it to be
[20:56:26] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:56:33] <Leo`> what do you mean ?
[20:56:36] <strcat> I feel like it's trying to be too many things, and that M:N threading and GC is directly counter to that goal
[20:56:44] <strcat> rust doesn't work for freestanding use *at all* right now
[20:56:48] *** Quits: skade (skade@moz-A586637D.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:56:52] <strcat> no one seems to care that you can't even compile a freestanding binary with rustc
[20:57:21] <friggle> strcat: the current proposal is M:N implemented on top of 1:1 as a library is it not?
[20:57:30] <strcat> I don't know what the current proposal is
[20:57:44] <SiegeLord> What's a freestanding binary?
[20:57:46] <Leo`> what's M:N threading ?
[20:57:48] <Leo`> xD
[20:57:56] <strcat> I don't think there's a clear picture on what rust is going to do about that stuff
[20:57:56] <o11c> M:N as a rust library sounds the only sane way to me
[20:58:13] <strcat> it can't be an optional library
[20:58:13] <friggle> strcat: that's what pcwalton said had been discussed most recently. I'd put that as a win for your part. 1:1 gets first class support, all that needs to be done is prove m:n isn't worth the effort and get it removed ;)
[20:58:25] <o11c> forcing M:N on everyone sounds better ... sure 1:1 has problems, but you can *deal* with that
[20:58:36] <o11c> er, s/better/bad/
[20:58:37] <strcat> so lets say we have some concurrent data structures
[20:58:42] *** Quits: josh (josh@moz-39E73E.mpls.qwest.net) (Quit: josh)
[20:58:46] <strcat> you have an M:N threading lib, you block on one these data structures
[20:58:48] <strcat> deadlock.
[20:58:53] <strcat> lets say you have an http client library
[20:59:02] <strcat> it's written for M:N threading or it's not
[20:59:12] <o11c> strcat: how far is rust from being freestanding with rust-core?
[20:59:19] <strcat> o11c: too much doesn't work
[20:59:28] <SiegeLord> None of the tools I use day to day are freestanding
[20:59:52] <strcat> existing libraries are designed for 1:1 threading
[20:59:57] <friggle> strcat: isn't a lot of this a matter of manpower?
[20:59:59] <strcat> they use *thread*-local storage, *blocking* system calls, etc.
[21:00:04] <friggle> (regarding freestanding support at least)
[21:00:05] <strcat> I don't think it has to do with manpower
[21:00:20] <strcat> jack of all trades and master of none is what is stdlib wants to be apparently
[21:00:43] *** Joins: flowsnake (flowsnake@moz-E4E567EE.aztw.cable.virginm.net)
[21:00:52] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[21:01:19] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[21:01:55] <friggle> again, accumulated technical debt and not much manpower to go through it carefully?
[21:02:01] <strcat> that's not it
[21:02:06] <friggle> a lot of the Rust devs at mozilla seem to spend significant time on Servo
[21:02:16] <bascule> awwwe re: M:N
[21:02:23] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[21:02:31] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[21:02:47] <jdm> friggle: that's really not true.
[21:02:54] <friggle> I agree with you regarding 1:1. If the argument is that M:N could be layered on top, why not just focus on 1:1 for now and see if it actually becomes necessary
[21:03:01] <strcat> it can't just be layered on top
[21:03:04] <jdm> patric has been recently, and brian only conceptually
[21:03:07] <jdm> that's it
[21:03:11] <bascule> yeah, listen to strcat
[21:03:15] <friggle> jdm: ah ok, thanks for the clarification
[21:03:21] <strcat> I would be happy to pretend it could be layered on top so it can fail and we can use 1:1
[21:03:28] <friggle> strcat: :)
[21:03:29] <mark_edward> it just seems to be a manpower issue
[21:03:37] <bascule> M:N requires abstractions around everything that makes blocking system calls
[21:03:37] <strcat> I really don't think it's a manpower issue
[21:03:43] <Earnestly> strcat: Sounds like a lot of people want Rust to be another high-level language like Go, Java or even Ruby/Python.
[21:03:47] <mark_edward> not enough rust contributors seem skilled enough to contribute to stuff like that
[21:03:53] <strcat> Earnestly: java and ruby/python use 1:1 threading
[21:03:55] <bascule> typically one or more I/O selector threads and an async thread pool
[21:03:56] <Earnestly> Since I've been following it anyway
[21:04:18] <strcat> I want 1:1 threading, TBB-like tasks (no context switching, no tasks) and C#-style async/await
[21:04:19] <mark_edward> probably 7 guys are responsible for 90% of the core features, as far is i can tell
[21:04:24] <strcat> I don't like the worse is better M:N threading crap
[21:04:29] <strcat> it's the worst of every world imo
[21:04:44] <strcat> your tasks don't have real thread-local storage, you can't just use existing blocking C libraries
[21:04:46] <mark_edward> BUT GO!!! GOOGLE GO!!! HACKER NEWS!!!
[21:04:46] *** Joins: twb (textual@moz-C0B32516.lawn.gatech.edu)
[21:04:48] <doomlord_> mark_edward, pong
[21:04:54] <Earnestly> That seems to be the conclusion after reading
[21:04:54] <strcat> it's not as fast as 1:1 or TBB tasks for use cases wanting those
[21:04:58] <strcat> it's not as fast as true async/non-blocking code
[21:05:05] <strcat> it's Good Enough for a lot of use cases
[21:05:16] <strcat> and rust isn't a language accepting Good Enough worse-is-better compromises elsewhere
[21:05:21] <mark_edward> doomlord_, hey, so i need your help fixing some stuff, as the rust libraries have changed enough
[21:05:31] <doomlord_> oh sounds ominous
[21:05:39] <strcat> M:N might make sense for Go but it doesn't make sense for a systems language, or a language wanting high-performance CPU-bound work or I/O bound work
[21:05:41] <Earnestly> Worse-is-better, the idea that was never finished
[21:05:43] * strcat shrugs
[21:05:44] <bascule> strcat: the thread local situation in Ruby for threads vs coroutines is terrible :(
[21:05:51] <doomlord_> i'll need to update rust myself, i'll get going..
[21:06:02] <friggle> strcat: arguments like this are one reason I don't understand the unease about your rust-core project. It seems worthwhile for someone to prototype these ideas, then they can be evaluated once fleshed out
[21:06:14] <bascule> strcat: there's also "N:1" threading
[21:06:15] <mark_edward> friggle, no one wants tango and phobos
[21:06:29] <sbalmos> strcat: I'd have to peripherally agree, with whatever it takes to ensure Rust be considered a systems-level language.
[21:06:45] *** Joins: moostik (Icedove@moz-5159DC42.w92-151.abo.wanadoo.fr)
[21:06:46] <SiegeLord> There is no true system-level language :P
[21:06:46] <mark_edward> strcat, honestly, i'd give up M:N threading. Actors can be implemented on top of that
[21:06:53] <mark_edward> and all the message apssing stuff
[21:06:56] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
[21:06:57] <friggle> mark_edward: that's only an issue if there are two stdlibs come 1.0
[21:06:58] <Earnestly> SiegeLord: What do you mean?
[21:07:02] <bascule> mark_edward: actors can be implemented on top of what?
[21:07:04] <SiegeLord> There is no definition of it
[21:07:04] <bascule> threads?
[21:07:12] <mark_edward> bascule, yup
[21:07:22] <Earnestly> Oh you want to define the terms, fair enough
[21:07:23] <bascule> mark_edward: it'd be better if they weren't. trust me
[21:07:36] <mark_edward> bascule, how is it done in Akka?
[21:07:45] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[21:07:47] <bascule> it's done on top of native threads, but they also have "event-based actors"
[21:08:00] <strcat> friggle: I still haven't really dedicated a lot of time to rust-core though
[21:08:02] <bascule> which effectively use callbacks
[21:08:03] <Earnestly> SiegeLord: The wikipedia definition seems fine.
[21:08:09] <SiegeLord> People have made an kernel in D
[21:08:25] *** Joins: alan (alan@32702EE8.939109B2.FB082A98.IP)
[21:08:25] <SiegeLord> A language with a forced GC and exceptions
[21:08:35] <Earnestly> That doesn't make it good
[21:08:47] <mark_edward> bascule, isn't it a well regarded actor library?
[21:08:47] <SiegeLord> It makes it systems level by any definition I've seen
[21:08:57] <strcat> SiegeLord: then so are java/C#, there are kernels in them
[21:09:00] <bascule> mark_edward: yes. I also make this: https://rubygems.org/gems/celluloid
[21:09:06] <sbalmos> The minimal amount of "runtime reimplementation" I, as a kernel dev, would have to deal with, the better.
[21:09:07] <Earnestly> There';s kernels in javascript…
[21:09:08] <strcat> it's meaningless to try making a point that way
[21:09:15] <bascule> mark_edward: it doesn't change the fact that native threads are limiting in terms of the number of actors you can create
[21:09:24] <bascule> vs, say, Erlang
[21:09:44] <mark_edward> bascule, you'd need to implement some sort of scheduler as  library, mapping actors to OS threads...
[21:09:48] <strcat> bascule: sure, but spawning 1 stack per client was never an efficient prospect anyway
[21:09:53] *** Quits: Jackneill (Jackneill@moz-681FEFC7.pool.digikabel.hu) (Ping timeout)
[21:10:04] <strcat> it's totally unacceptable for CPU-bound work and only Good Enough for I/O
[21:10:15] <bascule> mark_edward: yeah, you have a thread pool... thats great if you have a lot of mostly idle actors, not ones that are constantly running
[21:10:20] <strcat> bascule: rust tasks aren't lighter than linux threads
[21:10:30] <mark_edward> doomlord_, here is a main issue: https://github.com/MarkJr94/rustfind/blob/update/rust2html.rs#L825 and the new extra::sort API http://static.rust-lang.org/doc/master/extra/sort/fn.quick_sort.html
[21:10:34] <bascule> strcat: orly... I guess they have C stacks, eh?
[21:10:35] <Earnestly> A mark of a systems level language is defined by a few points, such as operating with no runtime library (or a very small one).  Little to no runtime overhead, has raw memory access, etc.
[21:10:35] <SiegeLord> Rust is already a systems-level language, so there needs to be a better catch phrase for all these improvements
[21:10:39] <strcat> bascule: yeah, they have large stacks now
[21:10:49] <bascule> strcat: are they ucontexts though?
[21:10:50] <strcat> bascule: they are just not actual threads with a thread ID and thread-local storage
[21:11:01] <Earnestly> People tries to write unix in PL/I and ALGOL and it was horrific
[21:11:02] <sbalmos> I think I'd be happy with better modularity of stdlib, as strcat apparently is advocating
[21:11:04] <Earnestly> s/tried
[21:11:05] <strcat> bascule: no, but that's the idea
[21:11:41] <bascule> strcat: so it copies instead of jumping around (in a "stackless" manner)
[21:11:42] <bascule> ?
[21:11:57] <strcat> bascule: each task has a large stack
[21:12:01] <friggle> Earnestly: Go vs Algol 68 http://cowlark.com/2009-11-15-go/ :)
[21:12:08] <strcat> they are multiplexed onto OS threads (called schedulers)
[21:12:16] *** Quits: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Client exited)
[21:12:21] <strcat> and cooperative scheduling is used on top of those OS threads
[21:12:33] <strcat> there are manually inserted yields (in the quasi-blocking I/O for example)
[21:12:39] <strcat> and rust will do a userland context switch
[21:13:02] <strcat> by manually swapping registers in asm
[21:13:07] <friggle> I don't think it's totally fair to be too frustrated with stdlib issues when clearly right now there is a focus on dealing with issues such as DST vs SST, how to support user-defined pointers, closure semantics and the like
[21:13:33] *** Quits: froystig (froystig@moz-5AA1643.stanford.edu) (Quit: leaving)
[21:13:37] <Earnestly> friggle: Given that it's Rob Pike, Go probably just came from NewSqueek/Limbo *shrug*, but will read on.  Thanks for the links \o
[21:13:48] <SiegeLord> Earnestly: You're the one who pointed to wikipedia... it lists Go and D as system programming languages. What good is a definition that includes those languages and excludes Rust?
[21:13:56] *** Joins: zmthy (tim@moz-C2881CC3.ecs.vuw.ac.nz)
[21:14:05] *** Joins: nkoep (nik@moz-9F784B3F.pool.mediaways.net)
[21:14:07] <friggle> though things like supporting 1:1 AND M:N seems like a decision which may at first seem maximally conservative, but is actually more risky than going with one or the other
[21:14:22] <doomlord_> mark_edward, ah, so it seems the old function sorted a subset of the given vector (you specify start/end indices).. and the new sort function loses that, it can only sort the whole vector 
[21:14:50] * strcat shrugs
[21:14:59] <strcat> I'll just take libraries like libcurl and libarchive and make a better stdlib
[21:15:02] <strcat> not that hard
[21:15:08] <mark_edward> doomlord_, it seems you it cam be fixed with a mut_slice to?
[21:15:21] <Earnestly> SiegeLord: I don't agree entirely with the wiki article
[21:15:23] <strcat> I don't think anyone will use the official stdlib if it keeps trying to do everything and fails to do anything well
[21:15:38] <SiegeLord> Earnestly: That's also my point. Nobody can agree on what that term means.
[21:15:46] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[21:15:56] <doomlord_> mark_edward,  i've not looked at slices, i guess it could, i suppose we'd make a mut slice from refs2[0 .. l-1] or somthing
[21:16:03] <SiegeLord> It's meaningless to use terms with unclear definitions... a language should be defined by its use not vague terms
[21:16:33] <strcat> alright, so then don't worry about the definition of 'systems language'
[21:16:38] <Earnestly> SiegeLord: Yeah, this is Korzybski 101
[21:17:05] <strcat> java is a systems language, go is a systems language - whatever, it's a meaningless term
[21:17:07] <Earnestly> I think the strcat is on the write track in discussing technical merit instead of bikesheding a definition :P
[21:17:15] <doomlord_> i suppose they prefer to pass slices around rather than having more parameters or function variants of 'sort'..
[21:18:17] <mark_edward> doomlord_, right, i seem to have fixed it now. the other issue is that rustc::middle::ty::ctxt_ is private now and now there is a `pub type ctxt = @ctxt_` declaration
[21:18:51] <doomlord_> mark_edward, yikes, do we have references to ty::ctxt_ all over the place :)
[21:19:41] <mark_edward> i think the problem is that it's not clear who's in charge of rust. decisions seem to be made almost at random when enough core contributors decide to implement things, but it's hard to find record of the reasoning, it's scattered in blog posts and the ML, and meeting notes, etc
[21:19:57] <strcat> I don't think it's unclear
[21:20:09] <strcat> the decisions are made in weekly mozilla meetings
[21:21:13] <friggle> and having a more formal process (something like PEPs) at this stage in the language development would probably be overkill
[21:22:17] <sbalmos> is there at least some place on the wiki that summaries or notes of language changes are being discussed?
[21:22:27] <friggle> sbalmos: look at the meeting notes
[21:22:32] <doomlord_> mark_edward, (i'm still rebuilding the lastest rust install here), but looking through my source, 
[21:22:37] <friggle> sbalmos: https://github.com/mozilla/rust/wiki/Meetings
[21:23:16] <friggle> sbalmos: and for when they're actually implemented, cmr's "This Week in Rust" has you covered
[21:23:34] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[21:23:49] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[21:24:12] <mark_edward> but what about say participating in decision making? is rust a mozilla-run project or community-run project?
[21:24:16] <sbalmos> friggle: k. Just personally wishing the language-level semantics are becoming solidified. stdlib issues are a whole other mess, IMO.
[21:24:22] <strcat> mark_edward: a mozilla-run project
[21:25:03] <tikue> strcat: so i haven't thought about it much: what exactly does rustic 1:1 threading look like? does it still "share via communication"?
[21:25:05] <o11c> strcat: I strongly believe that langauges need more separation between the language and the stdlib 
[21:25:57] <mark_edward> C++11 threading i pretty nice
[21:26:41] <strcat> tikue: if you mean rust-core, it's not opinionated about how you do concurrency
[21:26:59] <bascule> https://twitter.com/littlecalculist/status/400905246764847104
[21:27:01] <bascule> ^^^ re: M:N
[21:27:07] <strcat> tikue: https://github.com/thestinger/rust-core/blob/master/core/concurrent.rs
[21:27:28] <strcat> atm there's just blocking/bounded variants of a FIFO queue, a priority queue, and there's a concurrent hash map + a sharded hash map
[21:27:30] <strcat> just simple stuff
[21:27:33] <tikue> strcat: not really rust-core, just generally. rust currently favors channels for communication. does anything about channels break down in 1:1 or is it still good?
[21:27:41] <strcat> and ofc there's Arc, but I didn't make a mutex one yet
[21:27:49] <strcat> tikue: by 'rust' do you mean libstd?
[21:27:54] <tikue> strcat: yeah
[21:27:58] <strcat> or do you mean the language? the language has no concurrency built-in
[21:28:00] <strcat> ah okay
[21:28:01] <tikue> strcat: and the tutorial
[21:28:05] <strcat> tikue: I don't know about that
[21:28:20] <strcat> locks aren't efficient in an M:N model
[21:28:21] <sbalmos> How much of the language is syntactic sugar shortcuts for something in libstd?
[21:28:24] <sbalmos> (if any)
[21:28:36] <strcat> at least, in rust's M:N model
[21:28:48] <strcat> there are no efficient mutexes, cond vars, rw locks, etc.
[21:28:53] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[21:29:09] *** Quits: dbaupp (Thunderbir@moz-8F0823D5.lns20.syd6.internode.on.net) (Ping timeout)
[21:29:18] <strcat> so it uses data structures without locks, but it blocks on the scheduler which makes it not really lock-free (because lock-free means wait-free, how you implement it doesn't really matter AFAIK)
[21:29:22] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[21:29:38] <friggle> bascule: and the counter-argument is that supporting both is harder and therefore *more* risky
[21:29:42] <strcat> I think a true lock-free data structure has to be non-blocking
[21:29:55] <strcat> blocking on a scheduler is waiting
[21:30:09] <strcat> anyway I don't think libstd is actually opinionated about this
[21:30:22] <tikue> sbalmos: hm, well there's ~ which will eventually be moved to a library. but the sigil might not remain. there isn't that much sugar for things in libstd, I don't believe
[21:30:23] <mark_edward> 1:1 sounds best
[21:30:36] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:30:40] <bascule> N:1 sounds best :O
[21:30:43] <friggle> sbalmos: currently discussion about whether syntax for vectors should be sugar for std::Vec
[21:31:07] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[21:31:07] <tikue> the concurrency tutorial is all about message passing. i think message passing is a great concurrency model and am just wondering if the threading model has implications on the concurrency model
[21:31:20] <bascule> yes?
[21:31:33] <strcat> tikue: yes, it does
[21:31:53] <strcat> it has implications on how you do I/O, whether you can use existing libs out of the box and which forms of sharing are efficient
[21:32:07] *** Quits: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: ZZZzzz…)
[21:32:13] <strcat> for example, memory-mapped I/O will block on page faults
[21:32:20] <strcat> so it's a no-no with M:N threading
[21:32:29] <tikue> well I'm trying to draw a dichotomy between I/O and concurrency right now. perhaps that's silly and not possible
[21:32:50] <strcat> tikue: well you can still talk a lot about concurrency without mentioning I/O
[21:32:54] <bascule> if you can contend on something it's relevant to concurrency
[21:32:55] <mark_edward> what can this mean? `error: can't find crate for std
[21:33:11] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[21:33:44] <strcat> tikue: the difference between rust tasks and OS threads is that an OS thread has a thread ID, thread-local storage and the kernel scheduler schedules it (fair, pre-emptive scheduling)
[21:34:28] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:34:32] <strcat> if you want to talk about what's best for a specific use case, the answer will often be something other than 'one thread per ...' but I don't think it will ever be 'M:N threading'
[21:34:44] <strcat> CPU-bound workload where latency doesn't matter -> you want TBB-style tasks
[21:34:48] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[21:34:50] <strcat> a TBB style task doesn't have a stack
[21:34:55] <strcat> it doesn't ever context switch
[21:35:17] <tikue> what is TBB?
[21:35:21] <strcat> it maps them onto threads via workstealing queues, because it's a nice way of maintaining locality
[21:35:25] <strcat> tikue: thread building blocks
[21:35:28] <tikue> ah 
[21:35:44] <mark_edward> hey i'm compiling a project that has extern mod declarations for rustc, libsyntex, etc. and i'm getting an `error: cannot find crate for std` problem
[21:36:00] *** Joins: jensnockert (jensnocker@moz-6EE759F7.afb.bredband2.com)
[21:36:13] <strcat> tikue: http://software.intel.com/en-us/node/467804 + the next thing explaining task scheduling
[21:36:26] <strcat> so, rust tasks are somewhat similar
[21:36:36] <strcat> except they have a stack, because it context switches on quasi-blocking I/O
[21:36:58] <tikue> strcat: thanks for the link
[21:36:59] <strcat> and libuv hands that I/O off to a thread pool, and then the scheduler will wake up the task when it's done
[21:37:32] <friggle> strcat: would you use libuv in a theoretical new-world 1:1 only stdlib?
[21:37:51] <strcat> use it for what, though?
[21:38:03] *** Quits: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP) (Ping timeout)
[21:38:31] <jvns> What does the error "unresolved import: there is no `utils` in `???`" mean?
[21:38:38] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[21:38:45] <strcat> talking specifically about linux, you have blocking I/O and non-blocking sockets
[21:39:02] <strcat> using libuv to make blocking I/O act as non-blocking makes it much slower
[21:39:26] <friggle> strcat: i guess it at least allows a common API across *nix and Windows
[21:39:58] <strcat> friggle: I'd argue that you can't write a high-performance, scalable server with the same API across linux and windows
[21:40:01] <strcat> because they're fundamentally different
[21:41:01] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[21:41:21] <bascule> strcat: that was the libev author's argument for years, then the Node.js people said fuck that, we're gonna do it anyway
[21:41:28] <bascule> lol
[21:41:35] <bascule> also we're going to write an operating system in Node
[21:41:36] <strcat> bascule: they didn't succeed at doing it
[21:41:39] <bascule> init will be a web server
[21:41:45] <bascule> it will have a REST API
[21:41:47] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[21:41:51] <bascule> lol
[21:41:55] <sbalmos> riiiight
[21:41:56] <bascule> strcat: not saying it was a good idea ;)
[21:42:29] <strcat> it's very much the worse is better train of development
[21:43:12] *** pmoore is now known as pmoore|away
[21:43:12] <o11c> I know that *I* have said "just screw Windows"
[21:43:21] *** Quits: fabiand (fabiand@moz-B634A3B8.adsl.alicedsl.de) (Quit: Verlassend)
[21:43:28] <bascule> o11c: ;)
[21:43:32] <o11c> I'll support OS X and BSD for my software if there is someone to help, but Windows is just too much fail
[21:43:35] <friggle> strcat: sometimes it's not worth squeezing out every last % of performance
[21:43:36] <strcat> windows has nice I/O support, it's just not the same as how you would do it on linux
[21:43:43] <strcat> friggle: so use blocking I/O
[21:43:46] <strcat> it's good enough
[21:43:49] <strcat> linux is happy to give you 40k threads
[21:43:50] *** Quits: jstevans (Instantbir@66EF42C9.24244994.DDE5D3F6.IP) (Ping timeout)
[21:43:50] <bascule> strcat: FWIW my nonblocking I/O stuff uses libev
[21:43:54] *** Quits: lenstr (lenstr@7790746C.9636F313.7A27613B.IP) (Ping timeout)
[21:44:09] <bascule> strcat: as for Windows? well it kind of works I don't really care
[21:44:18] <strcat> blocking I/O is *faster* than non-blocking I/O, but it doesn't let you efficiently use resources for a server with mostly-idle connections
[21:44:29] <strcat> or connections where you're waiting a lot on blocking calls
[21:44:39] <strcat> since you have a whole stack waiting there, not accomplishing anything
[21:44:43] <strcat> but rust tasks don't change that
[21:45:08] <strcat> all they do is save you context switch overhead, which is a micro-optimization not as good as avoiding stack per connection in the first place
[21:45:20] *** Joins: SingingBoyo (brandon@BA479205.57F4D5B1.D758B1AA.IP)
[21:45:36] <strcat> bascule: IOCP is a solid way to do I/O
[21:45:46] <strcat> it's competitive in performance with a linux server using non-blocking sockets
[21:46:06] <bascule> strcat: not saying IOCP is bad. just that I don't care about Windows
[21:46:43] <bascule> Solaris had completion ports too :O
[21:46:58] <kmc> any nice way to read the stack limit (i.e. %fs:0x70) for linux-x86_64 rust code from within gdb?
[21:47:00] <strcat> bascule: well, there's POSIX AIO too but it's just not viewed as useful on linux
[21:47:08] <bascule> because it uses threads?
[21:47:22] <strcat> kmc: would calling pthread APIs be okay?
[21:47:34] <strcat> you can ask it what the top, bottom and current stack addresses are
[21:47:35] <kmc> if they give the right answer sure ;)
[21:47:40] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[21:47:52] *** Quits: jst_ (quassel@moz-BBE3ABD.mv.mozilla.com) (Input/output error)
[21:48:10] <strcat> kmc: use pthread_self to get the pthread_t, then pthread_getattr_np (linux-specific) then pthread_attr_getstack
[21:48:29] <kmc> thanks
[21:48:42] <adridu59> rusti: print("Good night people.");
[21:48:43] -rusti- Good night people.()
[21:48:49] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:49:32] *** Joins: ofeldt- (ofeldt@moz-52A6D56C.dip0.t-ipconnect.de)
[21:49:35] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:49:35] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:50:13] <pcwalton> acrichto: ping
[21:50:18] *** Quits: ofeldt (ofeldt@moz-7169CC85.dip0.t-ipconnect.de) (Ping timeout)
[21:50:19] <acrichto> pcwalton: pong
[21:50:25] <pcwalton> acrichto: mind if I go on a round of de-Celling?
[21:50:30] <acrichto> hav at it
[21:50:33] <pcwalton> converting stuff to RAII as I do
[21:50:34] <pcwalton> ok
[21:50:42] *** Quits: bytewise (bytewise@moz-7178ECF9.adsl.alicedsl.de) (Ping timeout)
[21:50:46] <acrichto> I'm doing the same in my rewrite of chan, so we'll race to see who gets there first
[21:50:51] <pcwalton> oh
[21:50:57] <acrichto> don't worry, it's just tests
[21:51:00] <pcwalton> you should have told me to not do it then ;)
[21:51:03] <acrichto> and super easy to rebase around
[21:51:05] <pcwalton> I'll wait and do other stuff
[21:51:08] <acrichto> oh no go ahead
[21:51:08] <pcwalton> I've got plenty to do
[21:51:12] <acrichto> this is going to take awhile
[21:51:14] <pcwalton> ok
[21:51:16] <acrichto> this is not landing any time soon
[21:51:20] *** Joins: bytewise (bytewise@moz-6075ED52.adsl.alicedsl.de)
[21:51:23] <pcwalton> all right
[21:51:44] <tikue> rewrite of chan?
[21:51:45] *** Quits: abinader (abinader@496D17B0.2513D022.AD91B79.IP) (Quit: abinader)
[21:51:51] <sfackler> acrichto: still no discussion of enum mod this week?
[21:52:09] <acrichto> sfackler: sadly no, ran out of time
[21:52:28] <acrichto> tikue: redesigning the api slightly, making things less allocate-y and more efficient
[21:52:35] <acrichto> tikue: also working inside/outside the runtime seamlessly
[21:52:43] *** Joins: abinader (abinader@496D17B0.2513D022.AD91B79.IP)
[21:52:45] <jvns> huh LLVM is complaining  "error: couldn't allocate output register for constraint 'a'" when I try to use some inline assembly that returns a value
[21:52:49] *** Quits: abinader (abinader@496D17B0.2513D022.AD91B79.IP) (Quit: abinader)
[21:53:21] <jvns> (when calling the 'inb' function here: http://sprunge.us/aRQA)
[21:53:30] <tikue> acrichto: ho nice!
[21:53:31] *** Joins: jstevans (Instantbir@B19FDEBF.BB5A23D8.DDE5D3F6.IP)
[21:53:31] <pcwalton> acrichto: can I just skip all the Cells in the tests?
[21:53:36] <pcwalton> in the i/o tests
[21:53:40] <pcwalton> they're usually around chans/ports
[21:53:46] <acrichto> pcwalton: sure
[21:53:53] <pcwalton> well, what I mean to ask is
[21:53:55] <pcwalton> are you removing those?
[21:54:03] <acrichto> yeah
[21:54:08] <pcwalton> ok
[21:54:09] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[21:54:31] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[21:54:34] <pcwalton> gripping for Cell in libstd turns up primarily ports and chans.
[21:54:59] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[21:55:15] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[21:55:30] <acrichto> feel free to just remove all of them, this really is going to take a long time to land
[21:55:34] <pcwalton> ok
[21:55:41] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[21:55:43] <strcat> kmc: oh and remember it grows down :P, I just got confused by that
[21:55:56] * strcat always forgets to take that into account
[21:55:59] <strcat> yay backwards ptr arith
[21:56:23] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[21:58:26] <strcat> kind of strange that the stack size varies per-run
[21:58:50] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[21:58:50] *** ChanServ sets mode: +ao brson brson
[21:59:16] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[21:59:52] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[21:59:55] *** Joins: lbonn (lbonn@moz-FBFAA8BC.rev.sfr.net)
[21:59:58] <pcwalton> ar: x86_64-apple-darwin/rt/stage0/librustrt.dylib: Inappropriate file type or format
[21:59:59] <pcwalton> o_O
[22:00:30] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:00:32] <ChrisMorgan> pcwalton: make clean.
[22:00:34] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[22:00:36] <pcwalton> just did that
[22:00:40] <pcwalton> looks like it's working now
[22:00:50] <lbonn> hello
[22:00:59] <ChrisMorgan> I hit that last night on my machine (though on Linux, not OS X), acrichto suggested make clean and that fixed it.
[22:01:08] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[22:01:20] <sbalmos> s'ok, the past few days I've had a C# assembly silently fail to call a method. No log entry, no exception, nothing. Just die. Rebuild fixes it. O_O
[22:01:59] *** Quits: alan (alan@32702EE8.939109B2.FB082A98.IP) (Ping timeout)
[22:03:25] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[22:04:04] <pcwalton> somebody on reddit wants us to go back to type descriptors and dynamic size calculations
[22:04:07] <pcwalton> "we tried that" :)
[22:05:41] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[22:05:43] <sbalmos> heh
[22:05:53] <pcwalton> so much pain
[22:05:58] <lbonn> is there something I don't get ? : https://gist.github.com/lbonn/9d9d6810ce7e67d9d3b4
[22:06:01] <pcwalton> all we got out of it was the ability to say "we tried that" :)
[22:06:32] <celeron55> i can store member variable offsets of a struct in C and C++ and use them to eg. define the means of serialization of an object; is there anything that will achieve a similar outcome in rust?
[22:06:45] *** Joins: lfox (lfox@moz-1185BCDE.nycmny.fios.verizon.net)
[22:06:47] *** Quits: jstevans (Instantbir@B19FDEBF.BB5A23D8.DDE5D3F6.IP) (Ping timeout)
[22:07:02] *** Joins: jstevans (Instantbir@B19FDEBF.BB5A23D8.DDE5D3F6.IP)
[22:07:25] <tikue> dherman: who's in the `new` camp with you?
[22:07:33] <pcwalton> I wouldn't say there are "camps"
[22:07:49] <pcwalton> Rust language design is based on consensus, not on voting
[22:07:59] <pcwalton> if we start doing voting we're in trouble
[22:08:01] <tikue> pcwalton: sure, but people have preferences
[22:08:11] <tikue> it's impossible to get a consensus on everything 
[22:08:18] <pcwalton> I was the one who suggested "new" at first
[22:08:51] <tikue> and besides, even when there is consensus, there are camps *before* consensus :)
[22:09:15] <pcwalton> Dave generally shares my preference for keeping things as familiar as possible
[22:09:48] <o11c> is there somewhere all the camps have set out their proposals?
[22:09:54] <pcwalton> I know rust-dev gives you one impression
[22:09:58] <pcwalton> but I still see things like this all the time https://twitter.com/antumbral/status/407913405563957248
[22:10:02] <pcwalton> (this morning)
[22:10:18] <tikue> haha
[22:10:38] * strcat doesn't like `do` either ;p
[22:10:50] <tikue> pcwalton: wait, `do` is gone now? or you mean it's only with proc now?
[22:10:52] <strcat> but closures with no params look really ugly in rust
[22:11:05] <pcwalton> well, [](){ foo } isn't great either
[22:11:07] <strcat> procs with no params look fine!
[22:11:11] <strcat> pcwalton: you can omit the ()
[22:11:12] <pcwalton> tikue: it's only for procs
[22:11:16] *** Quits: jensnockert (jensnocker@moz-6EE759F7.afb.bredband2.com) (Input/output error)
[22:11:20] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[22:11:26] <pcwalton> oh, hmm
[22:11:35] <strcat> [] { } looks better than || {} imo, but rust lets you leave off the {} if it's one expr and you don't need an explicit 'return'
[22:11:37] <pcwalton> well, we can't use C++'s grammar while keeping array literals
[22:11:40] <strcat> yeah ;p
[22:11:48] <pcwalton> and I think losing array literals would be bad
[22:11:53] * strcat agrees
[22:12:19] <pcwalton> the obvious IMHO is (a, b) => a + b
[22:12:27] <pcwalton> but it requires a cover grammar :\
[22:12:33] <pcwalton> or infinite lookahead
[22:12:53] <tikue> strcat: what don't you like about no-param closures? the fact that it looks like logical or?
[22:13:01] <strcat> it just looks really awful
[22:13:01] <pcwalton> || {} is pretty ugly
[22:13:07] <strcat> spawn(proc() {
[22:13:09] <strcat> });
[22:13:12] <strcat> that looks fine to me
[22:13:15] <pcwalton> yeah, me too
[22:13:16] <o11c> ah, you can't use {} for array literals like C++ because blocks are expressions ...
[22:13:18] <strcat> but replace proc() with || and it looks like crap
[22:13:31] <strcat> foo(|| 2)
[22:13:32] <strcat> ick
[22:13:32] <o11c> personally, I liked ({}) for block expressions
[22:13:42] <pcwalton> I actually used spawn(proc() { … }) at my CS 242 lecture at stanford yesterday
[22:13:45] <pcwalton> on the board
[22:13:47] <strcat> |x, y| x + y looks good, though
[22:13:48] <pcwalton> nobody batted an eyelash
[22:14:00] <sbalmos> pcwalton: agreed
[22:14:09] <strcat> fn(x, y) { x + y }
[22:14:11] * strcat runs
[22:14:28] <pcwalton> honestly I've toyed with having "=> x + y" for "|| x + y"
[22:14:38] <pcwalton> I know it's inconsistent and that's why I've never brought it up
[22:14:46] <pcwalton> CoffeeScript did it and it looks nice
[22:15:02] <pcwalton> comedy "\ x + y" option
[22:15:19] <pcwalton> or λ x + y
[22:15:21] <o11c> \ being an easy way to type λ ?
[22:15:27] <pcwalton> yeah, Haskell uses it
[22:15:47] <strcat> it also uses a -> though
[22:15:49] <o11c> personally I wouldn't mind explicitly typing out the word 'lambda' ... but whatever
[22:15:53] <strcat> f x = x + 2
[22:15:53] <tikue> i _do_ like \
[22:16:03] <strcat> \x -> x + 2
[22:16:38] <tikue> use a period! \x.x + 2
[22:17:05] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[22:17:08] <pcwalton> ⋋x
[22:17:09] <myname> tikue: don't use +, use S!
[22:17:18] <kimundi> 〈x〉 x + 2
[22:17:18] <friggle> pcwalton: `\(x,y). x+y` is supported by a few Lua syntax mods :)
[22:17:19] <myname> \x.S(S(x))
[22:17:23] <pcwalton> https://ghc.haskell.org/trac/ghc/ticket/1102 heh
[22:18:04] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[22:18:28] * strcat is convinced rwlocks are a really terrible idea
[22:18:34] *** Quits: lfox (lfox@moz-1185BCDE.nycmny.fios.verizon.net) (Quit: ZZZzzz…)
[22:18:42] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[22:19:07] <bstrie> ugh, what terrible bikeshedding :P
[22:19:33] <bstrie> fat arrows be damned, || is fine
[22:20:05] <tikue> yeah i don't think || { } looks awful
[22:20:06] * tikue shrugs
[22:20:15] <strcat> bstrie: don't you think foo(|| println("bar") looks bad?
[22:20:20] <strcat> er
[22:20:21] <tikue> not really
[22:20:27] <strcat> foo(|| println("bar"))
[22:20:27] <Earnestly> Mandatory braces are quite cluttering
[22:20:30] <tikue> i mean it's not ideal but it's functional
[22:20:54] <bstrie> strcat: any alternative is going to need some way to disambiguate the closure, and I think it looks as good as any other alternative
[22:21:12] <Earnestly> If you're going for C-like brace blocks, their rule of not needing braces for one statement/expression is nice
[22:21:27] <FreeFull> It leads to confusion though
[22:21:32] <tikue> strcat: do you think foo(\.println("bar")) looks better? maybe a bit, but not much...
[22:21:34] <strcat> Earnestly: but in exchange they need parentheses to disambiguate
[22:21:43] <strcat> if you're ever wondered why you need for (), if (), etc. in C
[22:21:46] <strcat> bad trade imo
[22:22:00] <Earnestly> I prefer that, if we're talking about C-like languages
[22:22:02] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[22:22:03] <FreeFull> It could always be foo(println("bar"))
[22:22:05] *** Joins: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de)
[22:22:06] <bstrie> tikue: ugh, what the heck is a slashdot :P
[22:22:11] <Earnestly> Obviously haskell is the best looking language
[22:22:22] * bstrie defenestrates Earnestly 
[22:22:29] <tikue> bstrie: lol the dot separates the arguments from the expression!
[22:22:35] <tikue> FreeFull: no it couldn't
[22:22:38] <bstrie> tikue: /me vomits everywhere
[22:22:52] * Earnestly can fly
[22:22:54] <tikue> bstrie: imo no-arg closures are hard to look nice
[22:22:56] <FreeFull> tikue: I guess it wouldn't work if the function returns a closure
[22:23:07] <strcat> tikue: in C++ no-arg closures are the prettiest ;p
[22:23:08] <bstrie> I also don't like python's "lambda"
[22:23:14] <jeaye> The braces make it better, methinks.
[22:23:17] <friggle> we should all learn from colorforth
[22:23:25] <pcwalton> anyone know if in Haskell you can move IO objects between threads?
[22:23:29] <bstrie> I agree with strcat, [] looks fine. but I enjoy vector literals too much to get rid of them :P
[22:23:36] <friggle> closures should be orange
[22:23:40] <FreeFull> That's what you get from using languages with applicative form evaluation
[22:23:43] <tikue> strcat: [] () { } really?
[22:23:45] <strcat> [] { puts("foo"); }
[22:23:47] <pcwalton> I have learned at stanford that GHC has both 1:1 and M:N threading
[22:23:51] <strcat> tikue: () isn't required
[22:23:53] <tikue> ah
[22:23:57] <pcwalton> and 1:1 is kind of the "default" in that main starts there.
[22:24:01] <FreeFull> I like being able to write [1,2,3] for a vector
[22:24:11] <tikue> still, why is [] so much better than ||? they're like two pixels different
[22:24:11] <FreeFull> rusti: [1,2,3]
[22:24:12] -rusti- [1, 2, 3]
[22:24:30] <bstrie> strcat: can you omit the {} on C++ closures?
[22:24:32] <FreeFull> I'd rather keep [] as the empty vector
[22:24:33] <strcat> tikue: because it doesn't look like an orphaned OR
[22:24:51] <FreeFull> strcat: It looks like an orphaned empty vector instead
[22:24:57] *** Quits: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:25:02] <bstrie> strcat: you know, maybe it's time to correct C's terrible decision of using || for "or" :)
[22:25:03] <strcat> bstrie: no, but that's because C++ is not very expression-y
[22:25:12] <o11c> bstrie: not in C++11 ... I forget about C++14 though
[22:25:13] <strcat> FreeFull: [] isn't a vector in C++
[22:25:20] <strcat> std::vector<int> {1, 2, 3};
[22:25:20] <FreeFull> It is in Rust
[22:25:27] <strcat> std::map<int, int> {{1, 2}, {3, 4}};
[22:25:33] <strcat> sure but I honestly prefer C++11 syntax in this regard
[22:25:40] <jeaye> :)
[22:25:46] <FreeFull> You're not taking our vectors from us
[22:25:50] <pcwalton> clearly Standard ML did it right
[22:25:55] <Earnestly> *nod*
[22:25:55] <pcwalton> && is "and also" and || is "or else"
[22:25:57] *** Joins: charmander (Mibbit@F201209A.7CF68B.5ADBB37B.IP)
[22:25:58] *** Quits: tcr (tcr@moz-1EBF1EAD.olin.edu) (Client exited)
[22:25:59] <strcat> FreeFull: I'm taking ~[T] from you
[22:26:00] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[22:26:07] <pcwalton> I am not losing [], C++ is crazy to use {} there :P
[22:26:17] <pcwalton> Doug Crockford has shown us the way
[22:26:20] *** Joins: tcr (tcr@moz-1EBF1EAD.olin.edu)
[22:26:27] <FreeFull> We could invent a new kind of brackets
[22:26:28] <bstrie> pcwalton: I think python did right by getting rid of || and && :)
[22:26:28] <Earnestly> I guess line-noise is going to stick with us no matter what you choose
[22:26:36] <FreeFull> Maybe use «»
[22:26:38] <strcat> I like [] for generics instead of <> and {} for container literals
[22:26:42] <strcat> and haskell-style significant whitespace
[22:26:44] <strcat> ;p
[22:26:55] <strcat> foo::<int>()
[22:26:56] <FreeFull> Haskell style, so optional?
[22:26:56] <pcwalton> the holy http://json.org/
[22:26:58] <strcat> foo[int]()
[22:27:08] <pcwalton> the problem is if you use [] for generics then you lose [] for array indexing
[22:27:11] <pcwalton> "we tried it" ;)
[22:27:12] <pcwalton> Rust 0.1
[22:27:20] <pcwalton> array indexing was OCaml-style x.(0)
[22:27:25] <bstrie> strcat: Rust 4.0 will have `foo[int]`, once C++ has been relegated to the dustbin of maintenance mode software
[22:27:25] <strcat> pfft, array indexing ;p
[22:27:44] <FreeFull> strcat: That looks like foo is a function that returns a vector of ints to me or something like that
[22:27:59] <strcat> FreeFull: it doesn't look like that in a language where [] doesn't mean vector
[22:28:06] *** Quits: tcr (tcr@moz-1EBF1EAD.olin.edu) (Ping timeout)
[22:28:22] <bstrie> in any case, we have enough things to bikeshed! closure syntax does not represent an immediate problem
[22:28:22] <Earnestly> You know.  lisp looks better than this
[22:28:29] <tikue> fn => foo and fn x, y => x + y are nice, it's true
[22:28:32] <FreeFull> strcat: What would you use for indexing?
[22:28:37] * Earnestly bikesheding \o/
[22:28:37] <sbalmos> Guess we're back to arguing prior knowledge. Who's the most likely user of Rust? Probably someone from the C-like camp
[22:28:40] <o11c> pcwalton: *why* do you lose [] for array indexing? I don't see the conflict
[22:28:48] <tikue> bstrie: it's nice to pretend we don't :P
[22:28:54] <pcwalton> foo[bar](baz);
[22:28:55] <strcat> FreeFull: partial functions in the prelude? blasphemy
[22:29:08] <celeron55> as a newcomer, i love the way rust gets rid of the odd mandatory ()s in C's if/for/while/whatever
[22:29:19] <pcwalton> is that indexing an array of functions "foo" with array index "bar" and calling it with argument "baz"?
[22:29:19] <FreeFull> Hi celeron55
[22:29:27] <FreeFull> I miss your minetest server
[22:29:30] <celeron55> they've always bugged me
[22:29:34] <o11c> pcwalton: as I see it, generic instantionation *is* a form of indexing
[22:29:35] <celeron55> FreeFull: lol hi
[22:29:37] <pcwalton> or is that calling a function "foo" with the type parameter "bar" and calling it with argument "baz"?
[22:29:48] <pcwalton> our type grammar is different from our value grammar
[22:29:51] <pcwalton> the parser has to figure it out
[22:29:52] <Earnestly> I like the parens in C, it's more clear wrt grouping of expressions :<
[22:30:00] <pcwalton> the parser always has to know whether it wants to parse a type or a value
[22:30:03] <strcat> pcwalton: rust currently wouldn't consider that specific case ambiguous
[22:30:05] <pcwalton> once you see
[22:30:08] <SiegeLord> Losing the parenthesis on if/while/etc also meant losing brace-less one line versions of those
[22:30:09] <bstrie> Earnestly: then you still have the option of using the damn things :P
[22:30:11] <strcat> because it requires (foo.bar)() already
[22:30:15] <pcwalton> "foo" "[" --- what comes here?
[22:30:18] <tikue> idea! change fn  to fun and || to fn \O/
[22:30:24] <bstrie> SiegeLord: yes, and good riddance
[22:30:26] <Earnestly> bstrie: \o/
[22:30:27] <pcwalton> strcat: that's just for '.'
[22:30:29] <strcat> pcwalton: or does it not require (foo[x])() ?
[22:30:30] <strcat> ah
[22:30:33] <strcat> anyway it *could* ;p
[22:30:33] <o11c> oh, I see, it's because of the *type*
[22:30:35] <FreeFull> tikue: What if it takes arguments
[22:30:42] <strcat> but foo[int] would still be ambiguous
[22:30:43] <pcwalton> but the type parsing is still a problem
[22:30:46] <SiegeLord> bstrie: It takes 2 extra lines now :P
[22:30:50] <celeron55> SiegeLord: i see it as being good for readability and you don't actually need to write more code either because you don't have the () but instead {}
[22:30:56] <o11c> still, even foo::[bar]() would be better than using <>
[22:30:58] <bstrie> SiegeLord: just refrain from hitting the enter key twice :)
[22:30:58] <strcat> pcwalton: yeah I'm not suggesting we change the grammar ;p
[22:31:02] <Earnestly> Wait, which syntax are we bikeshedding?  Closures?
[22:31:08] <bstrie> in any case, we're also not changign the if/while syntax!!
[22:31:12] <FreeFull> You could have  | | for empty lambdas, then it doesn't look like a lone boolean or anymore
[22:31:13] * bstrie defenestrates the whole channel
[22:31:21] <ChrisMorgan> Aaaaaarrrgh!
[22:31:23] <SiegeLord> Now about those semicolons...
[22:31:25] <ChrisMorgan> *splat*
[22:31:40] <Earnestly> ChrisMorgan: http://xkcd.com/353/
[22:31:46] <strcat> bstrie: can I removed Times now? ;p
[22:31:48] <bstrie> ChrisMorgan: actually it's just a dull thud, I've defenestrated enough people that there's a soft cushion of corpses at the bottom of this window
[22:31:54] <ChrisMorgan> (Yes, judging by the time taken, I had a long way to fall. I must have been up a skyscraper.)
[22:31:57] <bstrie> strcat: I thought times was already gone :P
[22:32:02] <celeron55> anyway, so nobody is interested in my badly described reflection-or-something problem?
[22:32:09] <strcat> bstrie: no I just made it get hidden away so no one knows about it
[22:32:27] <bstrie> strcat: how could it possibly work, procs can't be called more than once
[22:32:28] <strcat> anyway `do` is gone
[22:32:31] <tikue> can we use '.' for indexing?
[22:32:34] <strcat> bstrie: it uses a closure
[22:32:38] <tikue> my_array.3
[22:32:38] <o11c> pcwalton: so ... I don't see the conflict. You have a conflict for <> anyway, why can' you resolve it the same way for [] ?
[22:32:45] <tikue> lol
[22:32:51] <strcat> bstrie: 5.times(|| println("foo")) :D
[22:32:51] <bstrie> strcat: the whole point was to be used with do, just put it out of its misery! :)
[22:32:54] *** Quits: SingingBoyo (brandon@BA479205.57F4D5B1.D758B1AA.IP) (Ping timeout)
[22:33:09] <bstrie> now it's just a boring imitation of ruby
[22:33:33] <pcwalton> I don't see that much of a benefit for [] over <> then
[22:33:34] *** Joins: morphevs (Adium@moz-5F02E0C.cust.bluewin.ch)
[22:33:38] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Quit: Leaving)
[22:33:51] <o11c> pcwalton: because editors can match [], but not <>
[22:33:52] <bstrie> o11c: are you suggest we have foo::[bar] for type parameters
[22:33:56] <o11c> in vim, it's %
[22:34:02] <dwrensha> is "make check" currently broken?
[22:34:05] <pcwalton> *shrug* it's familiarity for C++
[22:34:12] <ChrisMorgan> dwrensha: you may need to make clean
[22:34:17] <strcat> yeah I think <> for generics makes sense for rust
[22:34:31] <ChrisMorgan> Fun facts: "5" is an integer literal. "5." is a float literal. "5.x" is field access on an integer literal. "5..x" is a syntax error.
[22:34:39] <strcat> but in my own world I would prefer [] ;p
[22:34:40] <bstrie> I really hope you never need delimeter matching for type parameters in rust, that would be a hell of a generic function...
[22:35:11] <pcwalton> ChrisMorgan: huh, in JS you get "SyntaxError: identifier starts immediately after numeric literal"
[22:35:20] <tikue> what about "lam" 
[22:35:22] <strcat> fn foo[A, T: Iterator[A]](iter: T) { ... }
[22:35:25] <bstrie> pcwalton: you have to do (5).foo
[22:35:29] <strcat> fn foo<A, T: Iterator<A>>(iter: T) { ... }
[22:35:34] * strcat finds the former more readable ;p
[22:35:52] <strcat> D uses !
[22:35:53] <ChrisMorgan> bstrie: delimiter matching is really handy, especially with things like surround.vim. I *am* sad that you can't have <> as delimiters in Vim because of lt et al.
[22:35:55] <o11c> what is 5.f ?
[22:36:01] <dwrensha> ChrisMorgan: tried that. Still getting "can't find crate for `std`"
[22:36:04] <strcat> rusti: .5
[22:36:05] -rusti- <anon>:9:9: 9:10 error: unexpected token: `.`
[22:36:05] -rusti- <anon>:9          .5
[22:36:05] -rusti-                   ^
[22:36:05] -rusti- application terminated with error code 101
[22:36:07] <SiegeLord> ! and ()'s
[22:36:08] <strcat> rusti: 5.
[22:36:09] -rusti- 5
[22:36:12] <strcat> rusti: 5.f64
[22:36:13] -rusti- <anon>:9:9: 9:14 error: attempted access of field `f64` on type `<VI0>`, but no field with that name was found
[22:36:13] -rusti- <anon>:9          5.f64
[22:36:13] -rusti-                   ^~~~~
[22:36:13] -rusti- error: aborting due to previous error
[22:36:13] -rusti- application terminated with error code 101
[22:36:19] <pcwalton> the ::<> thing in Rust is actually from ActionScript of all places
[22:36:32] <bstrie> I'll add that as an influence to the wikipedia page
[22:36:36] * ChrisMorgan has gone through the possibilities exhaustively in making sure Vim's syntax highlighting will be correct.
[22:36:42] <SiegeLord> I'm sure Rust could use ![] as well :P
[22:36:57] <pcwalton> bstrie: since graydon was on the ECMAScript 4 committee
[22:37:08] <pcwalton> which died but its reanimated corpse survived into ActionScript
[22:37:12] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[22:37:17] <FreeFull> I'm sure rust could use $$
[22:37:22] <bstrie> pcwalton: I thought ecmascript 5 was the one that died...
[22:37:24] <strcat> macros use $
[22:37:32] <pcwalton> no, ES4 was the star-crossed one, ES5 is already implemented
[22:37:33] <FreeFull> €€ then
[22:37:44] <tikue> we could resurrect @
[22:37:46] <strcat> macros use up ! and $ ;p
[22:37:57] <tikue> @ for l@mbda
[22:38:00] <friggle> don't forget backslash
[22:38:04] <tikue> friggle++
[22:38:13] <FreeFull> How about actual lambda
[22:38:13] <tikue> i actually would totally be in favor of slash dot
[22:38:14] * ChrisMorgan wonders if "Foo::<T>" should be pronounced "Foo pamaayim nekudotayim less than T greater than"
[22:38:17] <strcat> backticks
[22:38:32] <tikue> too small
[22:38:33] <bstrie> this is why design by commitee doesn't work :P
[22:38:40] <FreeFull> λ for lambda
[22:38:43] <strcat> tikue: I like what haskell uses them for ;p
[22:38:50] *** Joins: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP)
[22:38:52] <tikue> strcat: what do they use them for?
[22:38:57] <strcat> tikue: infix function call syntax
[22:38:59] <strcat> so pretty
[22:39:02] <tikue> oooh yeah i knew that
[22:39:04] <tikue> i agree actually
[22:39:12] <bstrie> custom infix operators are bad and you should feel bad
[22:39:16] <FreeFull> a `foo` b
[22:39:27] <bstrie> gagggg
[22:39:33] <FreeFull> Custom infix operators can be very useful
[22:39:38] <FreeFull> Otherwise you end up with Lisp
[22:39:48] * ChrisMorgan has never really seen the point of infix operators
[22:39:52] <strcat> bstrie: they aren't really operators
[22:39:54] <FreeFull> Brackets everywhere
[22:40:02] <strcat> foo a b is the same as a `foo` b
[22:40:10] <ChrisMorgan> s/infix operators/*custom* &/
[22:40:10] <strcat> with operators
[22:40:16] <strcat> (+) a b is the same as a + b
[22:40:27] <doomlord_> i'm sure a big part of what so called OOP is is just a.foo(b) as an approximation to infix
[22:40:39] <strcat> and haskell decides it's an operator because it uses squiggly symbols
[22:41:11] <ChrisMorgan> strcat: are they called "squiggly symbols" in any specifications?
[22:41:17] <bstrie> doomlord_: I really don't think so :)
[22:41:23] <pcwalton> doomlord_: I think equally important is that you can have multiple methods named "foo" in scope
[22:41:24] <FreeFull> a <$> b <*> c <*> d is the same as   (<*>) ((<*>) ((<$>) a b) c) d
[22:41:27] <pcwalton> and it picks the right one based on type
[22:41:31] <pcwalton> type-directed dispatch
[22:42:00] <bstrie> doomlord_: the idea there behind so-called OOP is to have a separation of nouns and verbs... where a is the noun, and b is the verb. has nothing to do with trying to approximate infix operators
[22:42:07] *** Quits: nkoep (nik@moz-9F784B3F.pool.mediaways.net) (Ping timeout)
[22:42:08] <bstrie> not that I agree with the distinction, mind you...
[22:42:19] <doomlord_> maybe what i'm getting at is 'a big part of why its popular'
[22:42:42] <tikue> infix operators is a person holding two things in its hands
[22:42:42] <strcat> method chaining is nice because you can read it left-to-right
[22:42:50] <doomlord_> if you have a.foo(b) instead of foo(a,b) .. you get a nice dropbox of possible completions in an IDE after you typed 'a'
[22:42:58] <tikue> methods is a person holding a tool striking something
[22:42:59] <doomlord_> and yeah method chaning
[22:43:04] <FreeFull> bstrie: But all the "nouns" and "verbs" end up being packaged together into these things, making it hard for you to really manipulate "verbs" with full expressivity
[22:43:13] <bstrie> FreeFull: see my disclaimer
[22:43:28] <doomlord_> hence why i like what rust does, also D's uniform call syntax
[22:43:36] <FreeFull> I like what Rust does
[22:43:41] <strcat> OOP is supposed to be a bunch of dynamic organism-like things called objects communicating via message passing :(
[22:43:52] <FreeFull> strcat: So Erlang?
[22:44:08] <bstrie> strcat: that doesn't sound right, have you ever even *used* java? :)
[22:44:09] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[22:44:09] <strcat> so smalltalk
[22:44:12] <doomlord_> yeah i say 'so called oop' since i'm not sure everyone agrees what oop is
[22:44:16] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[22:44:20] <strcat> bstrie: java != the original intention of OOP ;p
[22:44:22] <bstrie> oop is basically meaningless
[22:44:32] <strcat> alan kay gets to decide what OOP means :)
[22:44:33] <bstrie> strcat: right, but it's too late to revive that meaning
[22:44:43] <strcat> pfft
[22:44:48] <Earnestly> http://userpage.fu-berlin.de/~ram/pub/pub_jf47ht81Ht/doc_kay_oop_en
[22:44:57] <strcat> java is bureaucracy-oriented programming
[22:44:58] <FreeFull> I'd say Erlang is good if you are working with big systems
[22:45:07] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[22:45:28] <strcat> rust supports a fair bit of bureaucracy oriented programming though
[22:45:30] <strcat> visibility modifiers
[22:45:31] <FreeFull> Erlang is failure is ok-oriented programming
[22:45:35] <aatch> OOP has no agreed definition.
[22:46:02] <SiegeLord> Hey, it's back to poorly defined terms ;)
[22:46:09] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[22:46:11] <bstrie> strcat: our visibility modifiers aren't really for bureasdfaslcracy
[22:46:23] <bstrie> like, 'priv' doesn't have any effect within the crate
[22:46:27] <strcat> bstrie: it does
[22:46:29] <Earnestly> strcat: Oh, speaking of Java. https://github.com/EnterpriseQualityCoding/FizzBuzzEnterpriseEdition
[22:46:33] *** Joins: nkoep (nik@moz-55CF6C2C.pool.mediaways.net)
[22:46:38] <strcat> bstrie: it doesn't have an effect within the *module*
[22:47:02] <bstrie> strcat: ok, then I petition to have it changed :)
[22:47:03] <FreeFull> Well, you don't want to export everything from the module, do you?
[22:47:07] <strcat> bstrie: noooo please
[22:47:08] <bstrie> let's make it so that priv only controls what goes in metadata
[22:47:12] <strcat> nooo :(
[22:47:14] <bstrie> haha
[22:47:16] <Earnestly> See the .gitignore too
[22:47:24] <strcat> bstrie: don't take away my bureaucracy
[22:47:32] <strcat> bstrie: anyway, public stuff goes in the metadata too
[22:47:36] <bstrie> strcat: this is revenge for .times!!
[22:47:37] <strcat> because rust has reflection
[22:47:51] <strcat> evil reflection
[22:47:54] <bstrie> do we really need reflection
[22:48:00] <aatch> bstrie, not really, no
[22:48:01] <bstrie> what does anyone use it for, besides printing
[22:48:06] <strcat> type ids are okay
[22:48:08] <strcat> I am fine with that
[22:48:21] <strcat> I really, really hate std::repr/std::reflect existing in release builds ;p
[22:48:52] <strcat> and closures use visit glue for some reason ;[
[22:49:09] <aatch> strcat, whuh?
[22:49:26] <aatch> But. Why?
[22:49:32] <strcat> aatch: dunno, I noticed in rust-core, I had to define the visitor crap to make procs with captures work
[22:49:42] <strcat> and it gets output when you use them
[22:49:49] *** Joins: gandalf (zbraniecki@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:50:03] <aatch> strcat, that seems like it could be a bug
[22:50:09] <strcat> maybe
[22:50:09] <aatch> or at least bug-like.
[22:50:14] <strcat> procs also have tydescs
[22:50:32] <FreeFull> 5.times { print("Help, I'm stuck inside a Ruby!\n"); }
[22:50:34] <aatch> Like, it used to use visit glue for a reason, then that reason changed.
[22:50:38] <strcat> take glue + drop glue!
[22:50:42] <strcat> take glue is gross
[22:51:28] <bstrie> actually
[22:51:36] <bstrie> if we get rid of times
[22:51:39] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[22:51:41] <bstrie> we could probably still leave it in the tutorial
[22:51:50] <bstrie> as an example of implementing methods on builtin types
[22:51:52] <bstrie> that would be cute
[22:51:55] <strcat> bstrie: but I want to rewrite the whole tutorial ;p
[22:52:03] <bstrie> well this is MY tutorial
[22:52:15] <strcat> hm?
[22:52:20] <bstrie> "Rust For Bstries"
[22:52:37] <bstrie> it's like rust for rubyists, with a slightly more niche audience
[22:52:53] <strcat> imo the tutorial should just guide you through building a few things
[22:52:57] <strcat> and cover the language along the way
[22:53:07] <strcat> and it can link to the manual for detailed semantics about stuff
[22:53:23] *** Quits: morphevs (Adium@moz-5F02E0C.cust.bluewin.ch) (Quit: Leaving.)
[22:54:02] <aatch> strcat, like Go's tutorial (or one of them anyway)
[22:54:17] <strcat> https://github.com/mozilla/rust/pull/10690 my initial start at it
[22:54:19] <aatch> I know that theres a guide on making a wiki.
[22:54:59] <strcat> via something simple like a linked list you can cover boxes, references, traits/generics very well
[22:55:04] <strcat> then move on to something more complex
[22:55:49] <strcat> teach unsafe code by writing a memory allocator? dunno
[22:56:05] <strcat> can certainly be a lot more compelling than it is now ;p
[22:56:16] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[22:59:51] *** Joins: tcr (tcr@moz-1EBF1EAD.olin.edu)
[22:59:52] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[23:00:18] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:01:00] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[23:01:56] <pcwalton> wait, closures use visit glue???
[23:02:18] <strcat> pcwalton: for something
[23:02:20] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[23:02:24] <pcwalton> let's get a bug on that and block 1.0
[23:02:26] <pcwalton> that is very bad
[23:02:44] <strcat> let me look and see why they need TyVisitor
[23:02:52] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[23:02:57] <pcwalton> priv is important for memory safety in some cases
[23:02:59] <strcat> it might just be because they output the TyDesc...
[23:03:04] <pcwalton> helps you write safe abstractions.
[23:03:11] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[23:03:13] <strcat> pcwalton: yeah they just cause it to be generated
[23:03:14] *** Joins: paradoxiology (paradoxiol@237710B7.6BC67377.D019BDD0.IP)
[23:03:15] <strcat> due to the TyDesc
[23:03:23] <pcwalton> bah
[23:03:32] <pcwalton> we should figure out how to not do that
[23:03:35] <pcwalton> it shouldn't exist in release builds
[23:03:54] <strcat> pcwalton: well if we didn't have a GC to worry about, they could just have a ptr to each of the dtors
[23:03:55] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[23:04:10] <nmatsakis> pcwalton: why is that so important?
[23:04:13] *** Quits: Jesin (Jesin@moz-63C897DA.res.lehigh.edu) (Input/output error)
[23:04:14] <pcwalton> nmatsakis: bloat
[23:04:27] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:04:32] <pcwalton> but we know whether closures close over GC data
[23:04:40] <pcwalton> so we can make the GC not scan closures that don't have GC data
[23:04:53] <nmatsakis> pcwalton: ok. key I guess is to identify which ops are needed and only make those, and/or make the process more data-driven to keep size down (hurray for shape glue!)
[23:04:53] *** Quits: twb (textual@moz-C0B32516.lawn.gatech.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:05:01] <strcat> (this same stuff applies to ~Trait/&Trait too)
[23:05:04] * nmatsakis fondly remembers the CRTP in shape.cpp
[23:05:06] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:05:12] <pcwalton> that was terrible
[23:05:13] <pcwalton> and I wrote it
[23:05:15] <nmatsakis> :)
[23:05:17] <aatch> CRTP?
[23:05:29] <pcwalton> strcat: we can do that with trait bounds too
[23:05:41] <strcat> pcwalton: don't we need a new kind? NonManaged
[23:05:53] <strcat> Rc shouldn't make you get GC metadata because it's #[no_send]
[23:05:54] <nmatsakis> I don't think we'll be able to remove all the glue
[23:06:06] <strcat> afaict we could merge drop and free glue
[23:06:07] <pcwalton> meh, I guess so.
[23:06:21] <strcat> we could drop take glue if we didn't have implicit copies causing refcounts
[23:06:22] <nmatsakis> but I'm sure we can reduce it 
[23:06:32] <pcwalton> nmatsakis: we can't remove all the glue but I want to remove visit glue in release builds
[23:06:36] <pcwalton> yeah, I want to kill take glue.
[23:07:17] <nmatsakis> pcwalton: yes -- I'm not sure if it makes sense to have visit glue... at all. (vs a string that is interpreted)
[23:07:23] <strcat> Gc<T> is kind of odd - it would actually be useful if it had move semantics and if moves continued to zero the source, because the GC would free it earlier ;\
[23:07:27] <aatch> Isn't the visit glue the only one that needs the Visitor stuff?
[23:07:35] <nmatsakis> strcat: that is purely an impl optimization
[23:07:35] <strcat> but maybe stack maps or whatever can handle that
[23:07:50] *** Quits: peterdn (chatzilla@moz-5EB9CC81.as13285.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[23:08:02] <nmatsakis> strcat: stack maps would handle it fine, and if using conservative we could try to null things out that contain managed ptrs when we see a last use, etc
[23:08:03] <strcat> aatch: yes but any time you output a TyDesc, it makes all the glues
[23:08:04] *** Quits: jmbto (jmbto@moz-FE174E29.fbx.proxad.net) (Quit: Leaving)
[23:08:11] *** Joins: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP)
[23:08:21] <nmatsakis> no need to sully GC<T> by making it affine
[23:08:35] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[23:08:54] *** Joins: Jesin (Jesin@moz-63C897DA.res.lehigh.edu)
[23:09:07] <aatch> strcat, yeah, I'm just saying that removing visit glue would be a big boon in that it would allow the removal of all the external visitor stuff.
[23:09:14] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:09:23] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[23:10:30] <pcwalton> the visitor has to be fixed to not use @ boxes
[23:11:03] <strcat> pcwalton: isn't that a separate thing?
[23:11:12] <strcat> I don't think std::reflect/trans::reflect use @
[23:11:12] <pcwalton> well, yes
[23:11:17] <pcwalton> oh, hmm
[23:11:24] <pcwalton> maybe that's already done.
[23:11:52] <aatch> I think `repr` might use `@`, but I don't remember.
[23:12:20] <strcat> repr is really messed up
[23:12:24] <strcat> it does out-of-bounds array indexing
[23:12:34] <aatch> strcat, fun
[23:12:45] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:12:52] <strcat> write_vec_range
[23:13:00] <strcat>         let dec = if sz == 0 {1} else {sz};
[23:13:02] <strcat> and then
[23:13:04] <strcat>             p = align(unsafe { ptr::offset(p, sz as int) as uint }, al) as *u8;
[23:13:13] <strcat> so it goes out-of-bounds with fixed-size arrays of zero-size types ;p
[23:13:58] * strcat fixed some minor repr details and discovered how messed up it is ;p
[23:14:14] *** Joins: josh (josh@moz-357ADCEA.hsd1.mn.comcast.net)
[23:14:19] <strcat> it has a very out-of-date view of rust types where nearly everything can be mutable
[23:14:41] <strcat> sometimes passes a TyDesc, sometimes doesn't
[23:15:05] *** Quits: charmander (Mibbit@F201209A.7CF68B.5ADBB37B.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:16:21] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[23:18:56] *** Quits: jstevans (Instantbir@B19FDEBF.BB5A23D8.DDE5D3F6.IP) (Ping timeout)
[23:22:22] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[23:22:48] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[23:23:43] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[23:25:36] *** Joins: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca)
[23:25:36] *** Quits: canhtak (canhtak@moz-A53E1151.wl.t.ulaval.ca) (Quit: canhtak)
[23:26:30] *** Quits: echristo (echristo@24D1937F.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[23:26:45] <strcat> it's actually not possible to build freestanding rust atm due to https://github.com/mozilla/rust/issues/10780 ;\
[23:27:05] <strcat> well, unless you don't use any extern blocks
[23:27:25] *** Quits: tikue (tkuehn@494ACD0F.28336FB0.689607DE.IP) (Quit: tikue)
[23:27:38] *** Joins: jensnockert (jensnocker@moz-6EE759F7.afb.bredband2.com)
[23:28:37] *** Quits: josh (josh@moz-357ADCEA.hsd1.mn.comcast.net) (Quit: josh)
[23:29:12] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[23:29:46] *** Quits: jensnockert (jensnocker@moz-6EE759F7.afb.bredband2.com) (Ping timeout)
[23:29:56] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:30:59] *** Quits: tcr (tcr@moz-1EBF1EAD.olin.edu) (Ping timeout)
[23:31:20] <ChrisMorgan> There, I've *finally* got nested comment highlighting correct (well, correct to the best of my knowledge, anyway).
[23:32:00] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:32:32] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Quit: Lost terminal)
[23:32:34] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[23:32:34] *** ChanServ sets mode: +ao dherman dherman
[23:33:44] *** Quits: Ferreus (ferreus@moz-46F78B0.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[23:34:56] *** Quits: jvns (bork@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[23:35:09] <ChrisMorgan> Whoops, knew that was going to trip me up. My countermeasure to make */* inside a block comment close rather than open has meant that now /*/* will only open one, not two, levels deep. Tricky stuff indeed.
[23:35:50] *** Quits: itdnhr (it@F8C11080.200CF5B8.9D2C3D3E.IP) (Ping timeout)
[23:36:03] *** Joins: tcr (tcr@7C181A70.200CF5B8.9D2C3D3E.IP)
[23:37:20] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:37:20] *** ChanServ sets mode: +ao brson brson
[23:40:18] <lbonn> does someone see why this would not work ? :
[23:40:21] <lbonn>     struct A; let a : Result<A,int> = Ok(A); a.into_option();
[23:41:29] <doomlord_> how is Rc implemented , out of interest.. c++11 shared_ptr has a pair of pointers, one to an optional refcount.. does rust always ensure the refcount is with the object
[23:41:50] <strcat> ptr -> { T, count }
[23:42:20] <strcat> and refcount increments are done via clone
[23:43:32] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[23:44:38] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[23:44:54] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[23:45:56] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[23:46:06] *** Joins: kphelps (kphelps@moz-8B098CA5.hsd1.ma.comcast.net)
[23:46:33] <ChrisMorgan> In the end, I think I'm going to have to leave certain known bugs in nested comment highlighting in Vim and go for performance. Its pattern matcher is designed in such a way (greedy pattern start matching) that you probably can't actually write a correct syntax highlighter for it.
[23:48:18] <Sharp> That's weird, it's not like Rust is the only language with nested comments...
[23:48:44] <ChrisMorgan> Can you name any others?
[23:48:59] <Sharp> Not off the top of my head, but I'm certain I've used some :D
[23:49:19] <strcat> ChrisMorgan: I think haskell does
[23:49:29] * ChrisMorgan doesn't know of any.
[23:49:57] <o11c> nested comments are a lot easier if your comments are //.*\n
[23:50:01] <Sharp> Ah yes, Pascal
[23:50:13] <o11c> personally, I can't stand block comments
[23:50:20] <froydnj> ML families do, IIRC
[23:50:21] <ChrisMorgan> Hmm, just the boring syn region hsBlockComment start="{-" end="-}" contains=hsBlockComment.
[23:50:52] <ChrisMorgan> No nested comment support in syntax/pascal.vim
[23:51:01] <Sharp> Weird, the language itself supports them :D
[23:51:07] <Sharp> At least, whatever variant of Pascal I used did.
[23:52:23] <Sharp> froydnj: Yeah, looks like it, I don't recall ever seeing anyone actually use nested comments in ML though.
[23:53:07] <Sharp> But maybe you're right and people just don't include those in vim.
[23:53:36] <froydnj> probably more useful for commenting out large blocks of code without caring whether they contain comments
[23:53:45] <froydnj> common lisp has nested block comments, too
[23:53:50] <Sharp> Does it?
[23:53:56] <froydnj> it does
[23:54:15] <Sharp> Huh.  Seems like a lot of languages support nested comments, get your act together vim!
[23:55:43] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[23:55:44] <ChrisMorgan> Quick list of things that look to support nested comments in Vim: postgress, fan, sqlanywhere, pov, mma, lex, haskell, rexx, dot, clean, aflex, modula2, lprolog, csp, cf, scheme, a65, d, sqlhana, ocaml, stata, sml
[23:56:45] <ChrisMorgan> D looks to use different syntax for nested comments (/+ +/ rather than /* */)
[23:57:18] <ChrisMorgan> My difficulty is mostly caused because I'm wanting to highlight /** */ et al. as SpecialComment and /* */ as Comment.
[23:57:58] <o11c> hm, how is that hard in vim?
[23:58:02] * ChrisMorgan always manages to complicate any Vim syntax file he touches, making it more precise and more strictly correct and less maintainable
[23:58:32] <o11c> just have two rules, ome for /\*\* and one for /\*[^*] ...
[23:59:16] *** jorendorff is now known as jorendorff_away
[23:59:26] *** Joins: brson_ (brson@6A848D32.C1B840DD.76F66111.IP)
[23:59:39] <ChrisMorgan> o11c: it ends up a *lot* more complicated than that.
