[00:10:10] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:14:25] *** Quits: blank_na1e (blank_name@moz-ms6nj1.mi.frontiernet.net) (Quit: leaving)
[00:15:29] *** Joins: blank_name (blank_name@moz-ms6nj1.mi.frontiernet.net)
[00:19:56] *** Quits: dp (dp@moz-jbmop1.gb4f.8ao9.0e35.2a01.IP) (Ping timeout: 121 seconds)
[00:40:42] *** Quits: tamird (textual@moz-lat.dkr.14.50.IP) (Ping timeout: 121 seconds)
[00:48:20] *** Joins: blaenk_ (blaenkdenum@moz-ggnkpd.res.rr.com)
[00:51:00] *** Quits: blaenk (blaenkdenum@moz-ggnkpd.res.rr.com) (Ping timeout: 121 seconds)
[01:03:06] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[01:11:39] *** Joins: isaacd (quassel@moz-9dmlat.east.verizon.net)
[01:18:01] *** Joins: Quxxy (chatzilla@moz-efh10q.internode.on.net)
[01:19:10] *** Quits: isaacd (quassel@moz-9dmlat.east.verizon.net) (A TLS packet with unexpected length was received.)
[01:19:17] *** Joins: isaacd (quassel@moz-9dmlat.east.verizon.net)
[01:20:11] *** Quits: isaacd (quassel@moz-9dmlat.east.verizon.net) (A TLS packet with unexpected length was received.)
[01:20:21] *** Joins: isaacd (quassel@moz-9dmlat.east.verizon.net)
[01:21:15] *** Quits: isaacd (quassel@moz-9dmlat.east.verizon.net) (A TLS packet with unexpected length was received.)
[01:21:34] *** Joins: isaacd (quassel@moz-9dmlat.east.verizon.net)
[01:23:21] *** Quits: isaacd (quassel@moz-9dmlat.east.verizon.net) (A TLS packet with unexpected length was received.)
[01:23:26] *** Joins: isaacd (quassel@moz-9dmlat.east.verizon.net)
[01:25:45] *** Quits: isaacd (quassel@moz-9dmlat.east.verizon.net) (A TLS packet with unexpected length was received.)
[01:26:05] *** Joins: isaacd (quassel@moz-9dmlat.east.verizon.net)
[01:26:06] *** Quits: isaacd (quassel@moz-9dmlat.east.verizon.net) (A TLS packet with unexpected length was received.)
[01:30:51] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[01:33:47] *** Quits: Sho (sho@moz-770.gd6.28.5.IP) (Quit: Konversation terminated!)
[01:40:38] *** Quits: cyndis (cyndis@moz-bmdn13.kapsi.fi) (Ping timeout: 121 seconds)
[01:42:01] <Gankro> eddyb_: https://github.com/rust-lang/rust/pull/27135#issuecomment-122727220
[01:46:24] <WindowsBunny> I just realized, implementations of strlen that use fancy tricks to check more than a byte at a time, will typically read past the end of the buffer a bit
[01:46:49] <WindowsBunny> Which is kinda... unsafe
[01:47:19] <WindowsBunny> I guess it works because they're aligned, so they won't overlap a page boundary to get a segfault
[01:49:00] <Gankro> WindowsBunny: They usually branch on the length
[01:49:21] <Gankro> Oh wait C impls
[01:49:25] <Gankro> *shrug*
[01:49:29] <WindowsBunny> strlen doesn't know the length in advance :P
[01:49:45] <WindowsBunny> we also use strlen for CStr(ing)
[01:50:02] <Gankro> Who needs to be safe on anything other than The Mill?
[02:07:57] *** Joins: cyndis (cyndis@moz-bmdn13.kapsi.fi)
[02:12:14] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[02:13:22] <reem> WindowsBunny: how come that doesn’t just randomly segfault in C then? If it works in C it should work in rust here, I think.
[02:13:33] *** Quits: bdero (bran@moz-fc57gf.ma.comcast.net) (Ping timeout: 121 seconds)
[02:14:02] *** Joins: mib_elimnu (Mibbit@moz-hu6.nja.252.72.IP)
[02:16:23] *** Quits: mib_elimnu (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:26:15] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:33:35] <nathan7> reem: it'd only segfault at page boundaries
[02:33:57] <nathan7> reem: and your allocation size is likely to be a power of two
[02:35:58] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[02:36:45] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Quit: leaving)
[02:40:13] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[02:48:37] *** Quits: kimundi (kimundi@moz-kjthpr.63qo.amhv.57bc.2002.IP) (Ping timeout: 121 seconds)
[02:48:56] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[02:49:12] *** Quits: Diggsey (diggsey@moz-ftoajf.dsl.pipex.com) (Ping timeout: 121 seconds)
[02:52:16] *** Quits: blueridanus (Mibbit@moz-k63.43p.20.201.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:53:44] *** Joins: kimundi (kimundi@moz-cd45a7.dip0.t-ipconnect.de)
[02:56:18] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[03:15:01] *** Joins: blueridanus (Mibbit@moz-k63.43p.20.201.IP)
[03:16:11] *** Joins: semarie (semarie@moz-hrqd0d.bpv6.bg1u.41d0.2001.IP)
[03:17:17] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:20:48] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[03:20:54] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[03:33:06] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[03:53:29] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[04:06:12] <Gankro> nrc: does any cast involve runtime checks?
[04:06:41] <nrc> no, they're only checked staticaly
[04:06:59] <Gankro> Actually that might not be totally true in the future
[04:07:13] <Gankro> float casts might require bounds checks to be safe
[04:07:30] <Gankro> But that will probably involve some kind of rounding and not e.g. panicking
[04:14:11] <nathan7> what's NaN as u64?
[04:14:19] <nathan7> playbot: NaNf64 as u64
[04:14:20] -playbot- <anon>:9:9: 9:15 error: unresolved name `NaNf64`
[04:14:20] -playbot- <anon>:9         NaNf64 as u64
[04:14:20] -playbot- output truncated; full output at: http://bit.ly/1DpEQNn
[04:14:24] <nathan7> playbot: NaN f64 as u64
[04:14:25] -playbot- <anon>:9:13: 9:16 error: expected one of `!`, `.`, `::`, `;`, `{`, `}`, or an operator, found `f64`
[04:14:25] -playbot- <anon>:9         NaN f64 as u64
[04:14:25] -playbot- output truncated; full output at: http://bit.ly/1CR4WOh
[04:14:36] <nathan7> playbot: 1/0f64
[04:14:36] -playbot- <anon>:9:9: 9:15 error: the trait `core::ops::Div<f64>` is not implemented for the type `_` [E0277]
[04:14:37] -playbot- <anon>:9         1/0f64
[04:14:37] -playbot- output truncated; full output at: http://bit.ly/1DpERkp
[04:14:43] <nathan7> playbot: 1.0/0f64
[04:14:44] -playbot- inf
[04:14:48] <nathan7> playbot: 0.0/0f64
[04:14:49] -playbot- NaN
[04:14:53] <nathan7> playbot: 0.0/0f64 as u64
[04:14:53] -playbot- <anon>:9:9: 9:24 error: the trait `core::ops::Div<u64>` is not implemented for the type `_` [E0277]
[04:14:54] -playbot- <anon>:9         0.0/0f64 as u64
[04:14:54] -playbot- output truncated; full output at: http://bit.ly/1CR50xu
[04:15:01] <nathan7> playbot: (0.0/0f64) as u64
[04:15:02] -playbot- 139771684672672
[04:15:24] <nathan7> the hell is /that/
[04:15:29] <scott> playbot: (0.0/0f64) as u64
[04:15:30] -playbot- 140024294880416
[04:15:32] <scott> It changes, too.
[04:15:45] <scott> Maybe it's just the bit representation of the nan?
[04:15:45] <nathan7> heh
[04:16:02] <scott> playbot: ((0.0/0f64) as u64) as f64
[04:16:03] -playbot- 0
[04:16:11] <nathan7> uhh
[04:16:16] <scott> Oh that wouldn't work how I thought.
[04:16:19] <nathan7> yeah
[04:16:24] <nathan7> it's def not the bit repr of NaN
[04:16:30] <nathan7> though there are many of those
[04:16:43] <scott> playbot: unsafe { std::mem::transmute<u64, f64>((0.0/0f64) as u64) }
[04:16:43] -playbot- <anon>:9:41: 9:42 error: expected one of `!`, `.`, `::`, `;`, `{`, `}`, or an operator, found `,`
[04:16:43] -playbot- <anon>:9         unsafe { std::mem::transmute<u64, f64>((0.0/0f64) as u64) }
[04:16:43] -playbot- output truncated; full output at: http://bit.ly/1DpEZjQ
[04:16:44] <nathan7> (see NaN-boxing in dynamic langs)
[04:17:12] <nathan7> but repr(1.0f64) ≠ repr(1u64)
[04:17:16] <scott> playbot: unsafe { std::mem::transmute::<u64, f64>((0.0/0f64) as u64) }
[04:17:17] -playbot- output truncated; full output at: http://bit.ly/1CR5fbH
[04:17:25] <scott> It's just something really close to 0. Heh.
[04:17:32] <Gankro> nathan7: UB iirc
[04:18:05] <nathan7> scott: that operation makes 0 sense, though
[04:18:28] <Gankro> nathan7: many float casts are Undefined in LLVM *and* the hardware
[04:18:31] <scott> Yeah, it would make sense only if the `as` transmuted the NaN.
[04:18:42] <nathan7> Gankro: cool
[04:19:11] <Gankro> nathan7: see https://github.com/rust-lang/rust/issues/10184
[04:19:23] <Gankro> If you have any good idea of how to fix, plz fix
[04:19:58] <nathan7> like, debugmode assertions seem A+
[04:20:11] *** eddyb_ is now known as eddyb
[04:21:28] *** Quits: harrison_ (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[04:22:21] *** Quits: O01eg (o01eg@moz-6jbkkc.nslb.3egh.2698.2a02.IP) (Client exited)
[04:24:26] *** Joins: Ericson2314_ (user@moz-5muv45.m9e4.oi28.0306.2602.IP)
[04:26:09] *** Joins: dlight (dlight@moz-i79.7n9.135.177.IP)
[04:30:44] <Gankro> nathan7: casts panicing may be a serious memory safety issue
[04:35:26] <nathan7> Gankro: I suppose
[04:35:59] <nathan7> gah. computers are hard.
[04:37:04] <Mutabah> Gankro: How would that be a memory safety issue?
[04:37:25] <Gankro> Mutabah: We say they don't. Therefore unsafe code is free to assume they don't.
[04:37:28] <Manishearth> Mutabah: destructors
[04:37:43] <Mutabah> Good point
[04:37:48] <Manishearth> also what Gankro said
[04:39:33] <Gankro> Also of course this does nothing for UB in release
[04:44:04] *** Joins: dcb (textual@moz-v6l3du.ca.comcast.net)
[04:46:19] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[04:51:53] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[04:55:55] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[05:03:26] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[05:03:58] *** Quits: Pierre_M (Pierre_M___@moz-l5anv0.slkc.qwest.net) (Quit: Leaving)
[05:17:27] *** Joins: dp (dp@moz-jbmop1.gb4f.8ao9.0e35.2a01.IP)
[05:20:35] *** Quits: Pierre_M_ (Pierre_M@moz-l5anv0.slkc.qwest.net) (Quit: Leaving)
[05:24:56] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[05:30:28] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[05:34:58] *** Quits: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com) (Ping timeout: 121 seconds)
[05:35:42] *** Quits: huhlig (sid17687@moz-hup6d3.irccloud.com) (Ping timeout: 121 seconds)
[05:36:22] *** Quits: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[05:36:23] *** Quits: nox (sid3872@moz-fvvn96.ealing.irccloud.com) (Ping timeout: 121 seconds)
[05:37:19] *** Quits: fjh (fjh@moz-mof4p1.62vh.lq23.04f8.2a01.IP) (Ping timeout: 121 seconds)
[05:38:28] *** Quits: Guest63140 (fredy@moz-f87.rak.212.83.IP) (Ping timeout: 121 seconds)
[05:40:00] *** Joins: Aram (aram@moz-0sv.5ro.115.42.IP)
[05:40:18] *** Joins: fjh (fjh@moz-mof4p1.62vh.lq23.04f8.2a01.IP)
[05:40:52] *** Joins: huhlig (sid17687@moz-mt3sa2.highgate.irccloud.com)
[05:42:38] *** Joins: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com)
[05:42:44] *** Joins: nox (sid3872@moz-fvvn96.ealing.irccloud.com)
[05:48:27] *** Joins: fredy (fredy@moz-s6pco4.okeanos.grnet.gr)
[05:48:58] *** Joins: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com)
[05:49:17] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[05:52:21] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[05:55:57] *** Joins: James__ (quassel@moz-vcnd98.range86-148.btcentralplus.com)
[05:56:26] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[06:06:06] *** Joins: p1start (p1start@moz-nftjhe.org)
[06:06:32] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Connection closed)
[06:08:14] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[06:14:37] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[06:21:42] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:22:40] *** Quits: Ericson2314_ (user@moz-5muv45.m9e4.oi28.0306.2602.IP) (Ping timeout: 121 seconds)
[06:34:16] *** Joins: klutzy (not@moz-0t8.piq.68.115.IP)
[06:38:03] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[06:38:19] *** Quits: semarie (semarie@moz-hrqd0d.bpv6.bg1u.41d0.2001.IP) (Ping timeout: 121 seconds)
[06:39:35] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[06:39:41] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Quit: leaving)
[06:39:43] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[06:39:57] *** Joins: semarie (semarie@moz-hrqd0d.bpv6.bg1u.41d0.2001.IP)
[06:42:00] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[06:42:28] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[06:49:30] *** Joins: filsmick (filsmick@moz-0qapam.abo.wanadoo.fr)
[06:49:43] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Connection closed)
[06:50:49] *** Joins: eljay (eljay@moz-fmte10.skybroadband.com)
[06:51:58] *** Quits: James__ (quassel@moz-vcnd98.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:53:10] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[06:54:03] *** Quits: semarie (semarie@moz-hrqd0d.bpv6.bg1u.41d0.2001.IP) (Ping timeout: 121 seconds)
[06:55:19] *** Joins: zxq9 (ceverett@moz-fe3mfn.mesh.ad.jp)
[06:57:12] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[06:58:13] *** Quits: galen (galen@moz-caprup.dsl-w.verizon.net) (Ping timeout: 121 seconds)
[06:59:46] *** Joins: doener (doener@moz-fnh.n4j.147.5.IP)
[07:02:02] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:07:34] *** Quits: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:13:00] *** Joins: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de)
[07:28:25] *** Joins: summerlight (summerlight@moz-lb3.6do.193.175.IP)
[07:28:41] *** Quits: njn (chatzilla@moz-270n86.iinet.net.au) (Connection closed)
[07:29:26] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[07:31:15] *** Quits: rdgawdzi (sid91768@moz-36ps68.ealing.irccloud.com) (Ping timeout: 121 seconds)
[07:31:20] *** Quits: stask (sid61294@moz-0bjq4h.ealing.irccloud.com) (Ping timeout: 121 seconds)
[07:31:28] *** Quits: zwarich (sid63988@moz-402giv.ealing.irccloud.com) (Ping timeout: 121 seconds)
[07:31:32] *** Quits: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[07:31:32] *** Quits: jbcrail (sid24674@moz-s17jb5.charlton.irccloud.com) (Ping timeout: 121 seconds)
[07:31:38] *** Quits: nox (sid3872@moz-fvvn96.ealing.irccloud.com) (Ping timeout: 121 seconds)
[07:31:45] *** Quits: jroesch (sid26078@moz-o13a59.charlton.irccloud.com) (Connection closed)
[07:31:45] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Error in the push function.)
[07:31:48] *** Quits: dherman (sid7996@moz-u0jlif.ealing.irccloud.com) (Connection closed)
[07:31:49] *** Quits: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com) (Connection closed)
[07:32:09] *** Parts: Peach (Fancy3D@moz-500.6lb.246.96.IP) ()
[07:32:49] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Client exited)
[07:35:28] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[07:39:40] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[07:47:25] *** Joins: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com)
[07:47:25] *** Joins: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com)
[07:48:53] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[07:52:11] *** Joins: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com)
[07:52:11] *** ChanServ sets mode: +o wycats
[07:53:02] *** Joins: jroesch (sid26078@moz-o13a59.charlton.irccloud.com)
[07:53:41] *** Joins: rdgawdzi (sid91768@moz-36ps68.ealing.irccloud.com)
[07:53:49] *** Joins: nox (sid3872@moz-fvvn96.ealing.irccloud.com)
[07:54:00] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[07:54:22] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[07:55:25] *** Joins: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de)
[07:56:47] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[07:57:21] *** Quits: dcb (textual@moz-v6l3du.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:58:02] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[07:58:39] *** Joins: dherman (sid7996@moz-u0jlif.ealing.irccloud.com)
[07:59:10] *** Joins: jbcrail (sid24674@moz-s17jb5.charlton.irccloud.com)
[08:13:45] *** Joins: nwin (textual@moz-7t2fid.pools.arcor-ip.net)
[08:14:55] <pnkfelix> reviewers familiar with our configure script wanted: https://github.com/rust-lang/rust/pull/27139
[08:15:42] <nwin> Is it necessary to write an RFC in order to add trait implementations to an existing types? e.g. `impl<T: AsRef<V>> AsRef<V> for Box<T> {  ... }`
[08:16:04] *** Joins: imperio (Mibbit@moz-q0q.aov.119.80.IP)
[08:19:52] <Luqman> pnkfelix: yes! i've really wanted that
[08:20:34] <pnkfelix> nwin: i think that adding a trait impl is strictly speaking a breaking change (because downstream traits might add the same methods to that type, and what used to be an unambiguous method name becomes ambiguous)
[08:27:47] *** Joins: genbattle (genbattle@moz-7ed3r9.xtra.co.nz)
[08:27:55] *** Joins: zwarich (sid63988@moz-402giv.ealing.irccloud.com)
[08:27:55] *** Joins: stask (sid61294@moz-0bjq4h.ealing.irccloud.com)
[08:28:55] <pnkfelix> nwin: but, I am also not a member of the library subteam; it is possible they have a less conservative policy here that allows for breaking-changes without an RFC
[08:30:10] *** Joins: vmx (vmx@moz-5qsu9g.dip0.t-ipconnect.de)
[08:35:56] <pnkfelix> nwin: ah, i think this RFC is quite relevant to your Q: https://github.com/rust-lang/rfcs/blob/master/text/1105-api-evolution.md
[08:35:57] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[08:36:08] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[08:37:35] <pnkfelix> in particular this section https://github.com/rust-lang/rfcs/blob/master/text/1105-api-evolution.md#minor-change-implementing-any-non-fundamental-trait explicitly says your proposed change is "minor" 
[08:38:06] <pnkfelix> (but unfortunately that RFC only categorizes matters w.r.t. semver, not w.r.t. what requires an RFC)
[08:39:48] <nwin> so it would be a minor change…
[08:40:15] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[08:41:09] <nwin> I think I’ll just ask a question in the internal forum…
[08:46:50] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:50:34] *** Quits: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[08:51:51] *** Joins: listochkin (listochkin@moz-u28j0j.interview.volia.net)
[08:54:37] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[08:54:42] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[08:57:31] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[08:58:44] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[09:00:44] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[09:01:49] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[09:03:24] *** Kingsqueee is now known as Kingsquee
[09:04:01] *** Joins: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP)
[09:04:33] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[09:04:37] *** Quxxy_ is now known as Quxxy
[09:13:04] *** Joins: Lateralus (Lateralus@moz-4eoqem.br.cox.net)
[09:13:10] *** Quits: Lateralus (Lateralus@moz-4eoqem.br.cox.net) (Quit: Leaving)
[09:14:10] *** Quits: blueridanus (Mibbit@moz-k63.43p.20.201.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:14:33] *** Joins: Lateralus (Lateralus@moz-4eoqem.br.cox.net)
[09:15:33] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:16:55] *** Quits: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[09:26:53] *** Joins: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de)
[09:27:13] *** Joins: aepsil0n (eduard@moz-adiikc.5mue.uq8s.8071.2a02.IP)
[09:28:29] *** Joins: summerlight_ (summerlight@moz-lb3.6do.193.175.IP)
[09:30:14] <nagisa> I remember we started building stage1 on travis, but is it supposed to rebuild llvm every time?
[09:32:03] *** Quits: summerlight (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[09:36:52] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[09:39:27] *** Quits: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de) (Quit: ZNC - http://znc.in)
[09:41:00] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[09:41:48] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[09:44:36] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[09:46:21] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[09:55:29] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[09:59:31] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[10:12:25] *** Joins: bgamari (bgamari@moz-lflj1l.hsi7.kabel-badenwuerttemberg.de)
[10:15:29] *** Joins: munksgaard (munksgaard@moz-gqpfnm.science.ku.dk)
[10:20:09] <WindowsBunny> reem: Because it does all the large reads aligned, so if it reads 8 bytes at a time, it is always aligned to 8 bytes, so it never overlaps a page boundary, so since there is always at least one valid byte, the rest of the bytes are one the same page and thus it won't segfault
[10:20:25] *** Quits: genbattle (genbattle@moz-7ed3r9.xtra.co.nz) (Ping timeout: 121 seconds)
[10:22:33] *** Quits: nwin (textual@moz-7t2fid.pools.arcor-ip.net) (Quit: My Mac Mini has gone to sleep. ZZZzzz…)
[10:30:24] *** Quits: kxlzz` (kxlzz@moz-a3bguo.vc.shawcable.net) (Connection closed)
[10:36:44] *** Joins: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de)
[10:50:44] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[10:52:30] *** Quits: filsmick (filsmick@moz-0qapam.abo.wanadoo.fr) (Quit: )
[10:53:44] *** Quits: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[10:54:46] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[11:00:03] *** Quits: summerlight_ (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[11:03:31] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[11:19:11] *** Joins: mukilan (mukilan@moz-p2u.ljc.164.122.IP)
[11:20:30] *** Joins: arielby (Mibbit@moz-gdrjsj.tau.ac.il)
[11:21:00] <arielby> nmatsakis: ping
[11:25:02] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[11:25:48] *** Quits: munksgaard (munksgaard@moz-gqpfnm.science.ku.dk) (Ping timeout: 121 seconds)
[11:26:18] *** Joins: mgottschlag (quassel@moz-ju6afo.h71g.nb65.1398.2a00.IP)
[11:29:10] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[11:31:56] *** Joins: Sho (sho@moz-rqn.gur.28.5.IP)
[11:36:31] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[11:39:44] *** Quits: aepsil0n (eduard@moz-adiikc.5mue.uq8s.8071.2a02.IP) (Ping timeout: 121 seconds)
[11:45:13] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[11:49:16] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[11:51:29] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[11:55:39] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[12:04:08] <pnkfelix> Luqman: so was I wrong in interpreting your earlier "Yes!" as a "That's exciting, I will go review that PR now!" ?  :)
[12:04:34] *** Joins: larsberg (sid89@moz-1a60qu.0j4i.jtu0.0101.2620.IP)
[12:06:37] *** Joins: zmack (zmack@moz-va0ce0.fios.verizon.net)
[12:09:48] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:12:48] *** Quits: Lateralus (Lateralus@moz-4eoqem.br.cox.net) (A TLS packet with unexpected length was received.)
[12:16:11] *** Joins: semarie (semarie@moz-g3imo8.dsl.ovh.fr)
[12:24:04] *** Quits: mgottschlag (quassel@moz-ju6afo.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[12:25:05] *** Joins: mgottschlag (quassel@moz-ju6afo.h71g.nb65.1398.2a00.IP)
[12:29:02] *** Joins: Diggsey (diggsey@moz-efqtht.dsl.pipex.com)
[12:32:51] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[12:37:22] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:38:05] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[12:39:40] *** Quits: mgottschlag (quassel@moz-ju6afo.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[12:39:55] *** Joins: bdero (bran@moz-e4f4ei.mit.edu)
[12:41:28] <arielby> nmatsakis: ping
[12:43:55] *** Quits: poorman (poorman@moz-vid7t6.res.rr.com) (Quit: )
[12:45:58] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[12:46:35] *** Joins: mgottschlag (quassel@moz-ftn5gl.qiv1.bbcb.1398.2a00.IP)
[12:48:30] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[12:50:01] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[12:50:10] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[12:52:24] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[12:54:20] *** Joins: poorman (poorman@moz-vid7t6.res.rr.com)
[12:56:34] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[13:02:15] *** Joins: aepsil0n (eduard@moz-adiikc.5mue.uq8s.8071.2a02.IP)
[13:19:08] *** Quits: mgottschlag (quassel@moz-ftn5gl.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[13:21:14] *** Joins: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com)
[13:29:26] <SimonSapin> jdm: what happened with https://github.com/servo/libfontconfig/pull/13 ?
[13:29:34] <SimonSapin> wrong channel, sorry
[13:30:39] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[13:31:15] *** Quits: Aram (aram@moz-0sv.5ro.115.42.IP) (Quit: Leaving)
[13:38:44] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[13:40:14] *** Joins: mgottschlag (quassel@moz-1fgop4.scc.kit.edu)
[13:41:29] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[13:46:31] <SimonSapin> Can I generate docs for all crates? `make docs` only does std and its dependencies
[13:46:57] <imperio> SimonSapin: yes you can, it's in another folder
[13:47:17] <imperio> normally you should have a folder for each crate
[13:49:16] <SimonSapin> "make: Nothing to be done for 'docs'." , and I have for example doc/std but not doc/syntax
[13:49:27] <SimonSapin> CFG_ENABLE_COMPILER_DOCS sounds promising
[13:50:12] <imperio> hum... When I did work on rustdoc, it *did* generate all crates too
[13:50:15] <imperio> weird
[13:50:25] <SimonSapin> how long ago? :)
[13:50:32] <imperio> two weeks
[13:53:10] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[13:53:17] <SimonSapin> hum, e64b677c is from March but says it’s only for beta/stable. Maybe that changed again.
[13:53:47] <imperio> it's possible
[13:54:08] <imperio> and there was a *very* (not that very) recent update of rustdoc
[13:54:15] <imperio> only a few little chances but still
[13:56:36] <SimonSapin> hu, they *are* documented on http://doc.rust-lang.org/std/ but not on http://doc.rust-lang.org/nightly/std/
[13:57:03] <imperio> I'm working on nightly
[13:57:08] <imperio> it gets weirder and weirder
[13:57:09] <SimonSapin> they are on https://doc.rust-lang.org/stable/std/ too
[13:57:13] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[13:57:14] <SimonSapin> something is backwards
[13:57:28] <imperio> I didn't see any change in that way
[13:58:07] *** Quits: mgottschlag (quassel@moz-1fgop4.scc.kit.edu) (Ping timeout: 121 seconds)
[14:00:37] *** Joins: Quxxy_ (chatzilla@moz-efh10q.internode.on.net)
[14:00:49] <pnkfelix> SimonSapin: you want to see, what, the docs for e.g. librustc ?
[14:01:06] <SimonSapin> yes, and syntax
[14:01:33] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[14:02:48] <pnkfelix> SimonSapin: my memory is that, for some bizarre reason, `make install` will build the compiler docs
[14:02:54] *** Quits: semarie (semarie@moz-g3imo8.dsl.ovh.fr) (Quit: WeeChat 1.1)
[14:03:10] <pnkfelix> SimonSapin: it really does not make sense, and may have changed since I last inspected this
[14:03:47] *** Joins: Quxxy (chatzilla@moz-efh10q.internode.on.net)
[14:03:57] <pnkfelix> SimonSapin: see e.g. https://github.com/rust-lang/rust/issues/14424  (but note that bug is quite old, and its possible that we have since fixed `make install` to not build the docs for syntax+rustc after all)
[14:04:02] <SimonSapin> Filed https://github.com/rust-lang/rust/issues/27149
[14:04:51] <SimonSapin> pnkfelix: There two things: why are these docs not in my nigthly tarball, and how else can I get/build them
[14:05:10] <pnkfelix> SimonSapin: wait, have you tried this `--enable-compiler-docs` switch then?
[14:05:12] *** Quits: Quxxy_ (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[14:05:16] *** Joins: waffles (wafflespean@moz-18f.673.193.113.IP)
[14:05:17] <SimonSapin> trying now
[14:05:23] <SimonSapin> rebuilding, since it’s a configure switch
[14:15:36] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[14:16:39] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[14:18:42] *** Quits: dp (dp@moz-jbmop1.gb4f.8ao9.0e35.2a01.IP) (Quit: Leaving)
[14:27:48] <nagisa> pnkfelix: updated https://github.com/rust-lang/rust/pull/27026
[14:34:24] *** Quits: listochkin (listochkin@moz-u28j0j.interview.volia.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:36:45] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (NickServ (RECOVER command used by rovar_))
[14:36:45] *** rovar_ is now known as rovar
[14:36:50] *** Joins: rkruppe (chatzilla@moz-j4cnj9.hrz.tu-darmstadt.de)
[14:37:02] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[14:46:55] <pnkfelix> nagisa: thanks, r+'ed
[14:47:17] <nagisa> thanks!
[14:53:56] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[14:58:06] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[14:58:33] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[14:59:00] <nagisa> WindowsBunny: do you must open a file to canonicalise its path on windows?
[14:59:09] <WindowsBunny> nagisa: yes
[14:59:12] <nagisa> ok
[14:59:27] <WindowsBunny> nagisa: Because the only way to get a truly canonical path is to open a handle to it
[14:59:37] <WindowsBunny> nagisa: Everything else is just guessing
[14:59:39] *** Quits: koobs (koobs@moz-lu0tvm.internode.on.net) (Ping timeout: 121 seconds)
[15:00:56] *** Quits: Jesin (Jesin@moz-sak2gd.cc.lehigh.edu) (Quit: Leaving)
[15:04:57] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Quit: leaving)
[15:06:44] *** Joins: koobs (koobs@moz-lu0tvm.internode.on.net)
[15:08:41] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[15:09:26] *** wcosta is now known as wcosta|lunch
[15:10:35] *** Joins: zmack_ (zmack@moz-va0ce0.fios.verizon.net)
[15:10:43] *** Quits: zmack (zmack@moz-va0ce0.fios.verizon.net) (Connection closed)
[15:12:00] <arielby> can I have a covariant Unsafe<T>?
[15:13:09] <arielby> eddyb: your Lift breaks ADTDef
[15:13:26] <eddyb> :(
[15:13:32] <arielby> eddyb: it requires Ty to be variant
[15:13:39] <arielby> which requires ADTDef to be variant
[15:13:46] <arielby> which requires IVar<-> to be variant
[15:13:54] <arielby> IVar<Field<->>
[15:13:59] <arielby> which requires Field to be bivariant
[15:14:09] <arielby> eddyb: so we either need
[15:14:12] <arielby> covariant Unsafe<T>
[15:14:14] <arielby> use-site variance
[15:14:30] <arielby> which we can kind-of get with trait objects, but would be very very bad here
[15:14:34] <arielby> from a perf viewpoint
[15:14:51] <arielby> or to use *const Ty<'static>
[15:17:22] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:17:29] <arielby> you can get use-site variance by for<'a> Trait<OutlivesWitness<'a, 'tcx>, 'tcx>
[15:17:36] <arielby> terrible hack
[15:17:57] <arielby> actually not that
[15:18:11] <arielby> what was it exactly
[15:18:25] <arielby> Trait+'a works in most cases (because of coercion)
[15:18:28] <arielby> should be enough here
[15:18:52] <arielby> eddyb: what do you think?
[15:20:47] <arielby> nmatsakis: ping
[15:21:38] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[15:22:33] <arielby> eddyb: what option you prefer?
[15:30:07] *** Joins: listochkin (listochkin@moz-u28j0j.interview.volia.net)
[15:33:51] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[15:34:24] *** Joins: Quxxy (chatzilla@moz-efh10q.internode.on.net)
[15:34:58] *** Quits: bdero (bran@moz-e4f4ei.mit.edu) (Ping timeout: 121 seconds)
[15:38:03] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:39:36] *** Quits: imperio (Mibbit@moz-q0q.aov.119.80.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:42:05] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[15:50:46] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[15:51:20] *** Joins: bdero (bran@moz-0jhegm.dyn.mit.edu)
[15:51:21] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:51:28] <arielby> eddyb: do you have a preference?
[15:52:56] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[15:54:42] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[15:55:29] <eddyb> arielby: I don't, really
[15:55:58] <eddyb> I don't see the issue with the naked eye, I need to ponder on it, too
[15:58:51] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[16:03:23] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[16:04:26] *** Quits: zmack_ (zmack@moz-va0ce0.fios.verizon.net) (Connection closed)
[16:11:52] *** Quits: bdero (bran@moz-0jhegm.dyn.mit.edu) (Ping timeout: 121 seconds)
[16:19:06] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[16:24:06] *** wcosta|lunch is now known as wcosta
[16:24:18] *** Joins: zmack (zmack@moz-va0ce0.fios.verizon.net)
[16:24:31] *** Joins: bdero (bran@moz-e4f4ei.mit.edu)
[16:29:44] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[16:31:04] *** Quits: dlight (dlight@moz-i79.7n9.135.177.IP) (A TLS packet with unexpected length was received.)
[16:36:31] *** Quits: vmx (vmx@moz-5qsu9g.dip0.t-ipconnect.de) (Quit: Leaving)
[16:39:13] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:39:14] *** ChanServ sets mode: +o brson
[16:40:20] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[16:42:16] *** Joins: Jesin (Jesin@moz-sak2gd.cc.lehigh.edu)
[16:44:43] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[16:44:54] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:49:55] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[16:55:29] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[16:56:36] *** chmanchester|afk is now known as chmanchester
[16:59:36] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[17:04:32] *** Joins: jeffdb (textual@moz-p3l.plb.140.38.IP)
[17:06:08] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:06:08] *** ChanServ sets mode: +o pcwalton
[17:10:45] *** Quits: waffles (wafflespean@moz-18f.673.193.113.IP) (Quit: C'yall later...)
[17:10:54] <Gankro> pnkfelix: would it be possible to convince you to review the uninit memory chapter of tarpl? 
[17:11:22] <Gankro> Or possibly the chapter on RAII
[17:11:33] <pnkfelix> I'm planning to; I'm busy right now with the rust Paris meetup
[17:11:41] *** Quits: rkruppe (chatzilla@moz-j4cnj9.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[17:11:47] <Gankro> pnkfelix: Sounds good!
[17:12:06] <Gankro> Perhaps you could review on the plane here?
[17:12:11] *** Quits: Murarth (Murarth@moz-4t8fs2.phnx.qwest.net) (Quit: Mani Mani is always Mani Mani at Mani Mani with all Mani Mani Mani)
[17:12:20] <Gankro> (you're coming the whole week too, right?)
[17:13:20] *** Joins: Murarth (Murarth@moz-hkku5g.dyn.nltelcom.net)
[17:13:41] <Gankro> eddyb: arielby: would either of you be willing to review the chapter on data layout? I'm concerned I might be making too-strong or just incorrect claims about what Rust guarantees
[17:15:10] <Gankro> huon: would you be willing to review the chapter on Vec, since I know you've "basically" read it 100 times?
[17:15:42] <huon> ok
[17:17:02] <huon> Gankro: how I do know which order the vec-* files should be read in?
[17:17:27] <huon> oh SUMMARY is a ToC
[17:17:32] <Gankro> huon: yep
[17:18:08] <Gankro> huon: You can also read it in nice mode at http://cglab.ca/~abeinges/blah/turpl/_book/vec.html
[17:21:48] *** Quits: Jesin (Jesin@moz-sak2gd.cc.lehigh.edu) (Quit: Leaving)
[17:25:09] *** Joins: Peach (Fancy3D@moz-500.6lb.246.96.IP)
[17:25:59] <WindowsBunny> Elaine: Just wondering, are you able to receive PMs?
[17:26:54] *** Joins: tamird (textual@moz-ga3.afc.209.65.IP)
[17:26:59] <tamird> hey folks, is there a way to run `make check` on just stage1?
[17:27:12] <steveklabnik> make check-stage1
[17:27:13] <steveklabnik> iirc
[17:27:31] <tamird> looks to be working, thanks
[17:29:36] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Ping timeout: 121 seconds)
[17:30:35] <arielby> Gankro: chapter?
[17:30:59] <Gankro> arielby: http://cglab.ca/~abeinges/blah/turpl/_book/data.html
[17:31:13] <Gankro> https://github.com/rust-lang/rust/pull/27032
[17:31:21] <arielby> the PR is canonical?
[17:31:29] <Gankro> I'm not sure what you mean
[17:31:42] <arielby> Gankro: is http://cglab.ca/~abeinges/blah/turpl/_book/data.html outdated?
[17:31:50] <Gankro> arielby: they are in sync
[17:31:55] <arielby> fine
[17:32:59] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[17:33:48] <arielby> Gankro: you are basically making the spec here
[17:34:09] <Gankro> arielby: That section is very reference-like, yes
[17:35:23] <tamird> steveklabnik: the build system caches test runs, right? is there a way to force invalidation?
[17:36:07] <arielby> Gankro: todo: why?
[17:36:13] <arielby> Empty Types
[17:36:16] <steveklabnik> i have no idea, tamird 
[17:36:50] <arielby> Gankro: these are used for generic diverging fns
[17:36:56] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[17:36:58] <arielby> and other useless variants
[17:37:15] <arielby> also *const Void instead of *const () - both are fine
[17:37:24] <arielby> but *const Void is dangerous
[17:37:30] <Gankro> arielby: I agree on ZSTs in generics, but Void?
[17:37:38] <arielby> Gankro: Result<u32, Void>
[17:37:41] <arielby> ~ u32
[17:37:50] <arielby> I mean, for when you can't fail
[17:37:58] <arielby> but you need to return a Result
[17:38:11] <Gankro> arielby: does that actually optimize to u32?
[17:38:16] <arielby> Gankro: ATM no
[17:38:36] <arielby> but you don't have to handle the Void case
[17:38:39] <arielby> actually you have
[17:38:43] <arielby> but you can match void {}
[17:38:48] <arielby> no panics needed
[17:39:00] <arielby> Gankro: there's no reason it shouldn't
[17:41:08] *** Quits: Murarth (Murarth@moz-hkku5g.dyn.nltelcom.net) (Quit: Alfador is the Entity!)
[17:41:23] <brson> jroesch: fwiw i'm building crates for https://github.com/rust-lang/rust/pull/26870 now. sorry this has taken so many days
[17:41:28] *** Joins: Murarth (Murarth@moz-4t8fs2.phnx.qwest.net)
[17:42:20] <Gankro> arielby: I'm having trouble finding code that can actually be simplified by Result<u32, Void>. Is it just you can call `unwrap` with sound mind? Or does it actually enable something that doesn't normally work to work?
[17:43:14] <arielby> Gankro: currently it doesn't do anything special
[17:43:22] <arielby> but type-safety
[17:43:29] <arielby> and it will be more useful in the future
[17:43:31] <Gankro> Ok
[17:43:34] <arielby> match will recognize it
[17:43:42] <Gankro> arielby: Are there any tracking issues to this effect?
[17:43:49] <arielby> Gankro: no
[17:44:18] <arielby> well, gh12609
[17:44:18] <[o__o]> Pattern reachability algorithm fails in the presence of uninhabited types: https://github.com/rust-lang/rust/issues/12609
[17:44:26] *** Joins: Guest53 (textual@moz-rvv.00r.255.109.IP)
[17:46:19] <arielby> gh24885
[17:46:20] <[o__o]> Uninhabited-ness isn't propagated through nesting: https://github.com/rust-lang/rust/issues/24885
[17:46:52] <arielby> gh15510
[17:46:52] <[o__o]> Rust should optimize away enum variants containing a Void type: https://github.com/rust-lang/rust/issues/15510
[17:48:47] <arielby> Gankro: data layout LGTM
[17:50:21] <jroesch> brson: no worries, thanks! I've been messing around with error messages the past week anyway :)
[17:50:53] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[17:56:14] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[18:00:17] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[18:03:14] <Gankro> arielby: https://github.com/rust-lang/rust/commit/42c2f107c120e9da046c9b26aa34238fcd6549b6
[18:04:19] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[18:04:33] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[18:04:57] <brson> acrichto: i'm thinking of creating separate rustdocs for the primitives and for the primitive modules
[18:05:09] <brson> acrichto: mainly because it will make writing manual hyperlinks between the two easier
[18:05:30] <brson> acrichto: so a private module in std called `primitive_docs` or smt
[18:09:18] <Gankro> brson: primitives already have seperate pages from their associated modules?
[18:09:33] <Gankro> e.g. https://doc.rust-lang.org/std/primitive.slice.html
[18:09:42] <acrichto> brson: sounds like this free-form docs idea we were talking about, but would prefer to avoid having an actual module
[18:09:54] <acrichto> at least not in the public api
[18:11:38] <eddyb> Gankro: I think it's the same module in the source
[18:11:42] <brson> Gankro: those docs are copied from module docs. i am trying to change that so the prims have their own docs
[18:11:59] <brson> acrichto: why would the module have to be public? there are existing private modules used just for writing primitive docs?
[18:12:09] *** Joins: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP)
[18:15:11] <brson> acrichto: why do the privite doc modules in std like std::tuple have #[stable] tags?
[18:15:27] <arielby> Gankro: *const Void vs. *const ()
[18:15:44] <acrichto> brson: no particular reason they'd have to be public, they just shouldn't have to be
[18:15:53] <acrichto> brson: the naive implementation in rustdoc would require them to be public
[18:15:53] <Gankro> arielby: Anything in particular you're looking for there?
[18:15:53] <arielby> I would like that to be documented
[18:16:04] <Gankro> Just that *const Void is fine?
[18:16:06] <acrichto> brson: all private modules today are slurped into the rustdoc-generated primitive pages
[18:16:11] <arielby> Gankro: fine but dangerous
[18:16:15] <arielby> *const () is preferred
[18:16:26] <Gankro> arielby: What is the danger? All derefs are unsound?
[18:16:27] <acrichto> brson: and the stable tags are just there, we have dozens and dozens of not necessary or slightly wrong stable tags, our system isn't exactly bullet proof :(
[18:16:30] <arielby> Gankro: yes
[18:16:36] <arielby> if you deref it, instant UB
[18:16:39] <eddyb> arielby: but you get some type-safety with a custom empty enum
[18:16:43] <eddyb> it's a trade-off
[18:16:49] <arielby> eddyb: or a custom unit struct
[18:16:56] <Gankro> arielby: seems like something we could statically guard against?
[18:16:58] <eddyb> arielby: but you can create that just like you can create ()
[18:17:06] <eddyb> Gankro: arielby wanted me to write a RFC about that!
[18:17:12] <eddyb> and I forgot entirely
[18:17:17] <eddyb> :(
[18:17:47] *** Joins: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de)
[18:17:53] <eddyb> basically, we need a lint
[18:20:14] *** Joins: rkruppe (chatzilla@moz-ev7gn5.uopk.14d9.41b8.2001.IP)
[18:22:00] *** Quits: rkruppe (chatzilla@moz-ev7gn5.uopk.14d9.41b8.2001.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0/20150630154324])
[18:23:04] <arielby> nmatsakis: ping
[18:23:27] *** Quits: rovar_ (rovar@moz-96effg.dyn.optonline.net) (Connection closed)
[18:23:32] *** Quits: mukilan (mukilan@moz-p2u.ljc.164.122.IP) (Ping timeout: 121 seconds)
[18:29:02] *** Joins: X67r (user@moz-4vmaa6.mullvad.net)
[18:31:45] *** Joins: goyox86 (textual@moz-9ct.il3.161.192.IP)
[18:34:07] *** Joins: Kingsqueee (kingsley@moz-k72lip.bchsia.telus.net)
[18:35:19] *** Quits: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net) (Ping timeout: 121 seconds)
[18:36:36] <Gankro> arielby: done
[18:36:59] *** Joins: mukilan (mukilan@moz-6va.3eg.164.122.IP)
[18:37:50] *** Joins: swgillespie (swgillespie@moz-qb3.04d.220.167.IP)
[18:38:28] *** Joins: Siosm (quassel@moz-hkaoqt.fr)
[18:45:50] *** Quits: Siosm (quassel@moz-hkaoqt.fr) (A TLS packet with unexpected length was received.)
[18:46:47] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[18:47:41] *** Quits: mukilan (mukilan@moz-6va.3eg.164.122.IP) (A TLS packet with unexpected length was received.)
[18:49:10] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[18:50:20] <Gankro> arielby: Cool for me to mark the section as accepted by you?
[18:53:09] <huon> steveklabnik: I have a feeling that the most-quoted sentence of TRPL is "cache rules everything around us"... it's lucky we stole it from someone :P
[18:53:18] <huon> I wish I could remember who that someone was, thoguh
[18:53:25] <steveklabnik> hehe
[18:53:34] <steveklabnik> it was you
[18:53:35] <huon> maybe kmc
[18:53:35] <steveklabnik> i thought
[18:53:40] <steveklabnik> like, it was in your blog
[18:53:43] <huon> I also stole it
[18:53:43] <steveklabnik> i mean, that's an old joke
[18:55:20] <Gankro> huon: the extra branches on cap = 0 are, at worst, "only" a waste of time. It seems reasonable to include them with a more detailed discussion of GEP and basically "this might be ok, we're not sure"
[18:55:38] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[18:56:18] *** Quits: swgillespie (swgillespie@moz-qb3.04d.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:56:43] *** Joins: filsmick (filsmick@moz-0qapam.abo.wanadoo.fr)
[18:57:00] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[18:57:51] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[18:58:17] <huon> acrichto: doener: https://internals.rust-lang.org/t/build-with-llvm-3-6-broken-on-head/2383
[18:58:31] <huon> Gankro: sounds good to me
[18:59:18] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:59:26] *** Joins: imperio (Mibbit@moz-71m.3nd.202.89.IP)
[18:59:59] <imperio> who was the one who was complaining about the warning about E0045 duplication ?
[19:00:24] <imperio> (travis showed it to me ^)
[19:00:32] <steveklabnik> there's an issue open
[19:00:42] <imperio> oh okay
[19:00:46] <imperio> no one's on it ?
[19:00:59] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[19:01:02] <steveklabnik> i'm not aware of anyone, i would like to see it fixed but didn't dive in myself
[19:01:03] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[19:01:14] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[19:01:32] <imperio> Well, I could and I would also a bit improve the way errors are spanned from this file
[19:01:41] <imperio> but it would take a week or nearly
[19:01:59] <imperio> so if that's an emergency, I'm not the good person
[19:03:48] <huon> it's been around for more than a week, so it's not an emergency ;)
[19:03:50] <huon> * :)
[19:04:11] <imperio> ok
[19:04:37] <imperio> well, I add it to my TODO list (before refactoring rustdoc ^^)
[19:05:29] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[19:05:58] *** Joins: eibwen (eibwen@moz-hbu82e.dip0.t-ipconnect.de)
[19:11:38] <doener> huon: IIRC msvc is a no-go on 3.6 anyway, right?
[19:11:56] <imperio> acrichto: ping
[19:16:23] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[19:16:37] <WindowsBunny> "Support for armv7-windows-gnu targets has been added to the Clang front-end."
[19:16:53] <WindowsBunny> oooo, maybe we could support Windows on arm in the future :D
[19:18:05] *** Joins: apasel422 (Mibbit@moz-6ga37r.ma.comcast.net)
[19:18:28] *** Joins: Jesin (Jesin@moz-9b7.teg.180.128.IP)
[19:18:46] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[19:18:49] <doener> huon: meh, I'm too bad at Makefiles to fix that
[19:21:22] *** Quits: imperio (Mibbit@moz-71m.3nd.202.89.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:23:34] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[19:25:39] *** Joins: dp (dp@moz-elqg92.gb4f.8ao9.0e35.2a01.IP)
[19:27:24] <tamird> acrichto: can you help me understand what would cause "could not unwind stack" to fire?
[19:29:27] *** Joins: p1start (p1start@moz-nftjhe.org)
[19:30:10] <WindowsBunny> acrichto: last 3 msvc-64 nightlies failed to be packaged, in particular at the fetch_inputs stage
[19:31:31] <arielby> nmatsakis: ping
[19:32:16] <nmatsakis> arielby: pong
[19:32:22] <arielby> in the WF RFC (https://github.com/rust-lang/rfcs/pull/1214) , what's the difference between object type and object fragment?
[19:32:38] <arielby> I mean, you mention object type as distinct from object fragment
[19:33:18] <jroesch> Gankro: on that old EnumSet PR do you think I should just replace the use with bitflags and axe it?
[19:33:30] <jroesch> the BitSet that is
[19:33:56] *** Quits: dp (dp@moz-elqg92.gb4f.8ao9.0e35.2a01.IP) (Quit: Leaving)
[19:33:57] <nmatsakis> arielby: an object type is a collection of object fragments; e.g., Trait1+Trait2
[19:34:01] *** Joins: dp (dp@moz-elqg92.gb4f.8ao9.0e35.2a01.IP)
[19:34:11] <nmatsakis> arielby: (and a lifetime bound)
[19:34:43] <arielby> nmatsakis: could this be commented on the RFC?
[19:35:36] <nmatsakis> arielby: sure
[19:36:07] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[19:36:23] <arielby> what's going to be the implementation schedule?
[19:37:15] <arielby> I think I will push a fix to TyTuple/TyVec (that's overdue)
[19:37:17] <arielby> a hard fix
[19:37:35] <arielby> that's just a stupid bug, and I think fixing it makes things clearer
[19:37:49] <arielby> we just have to decide whether (u8, [u8]) is valid
[19:37:51] <arielby> or not
[19:38:01] <arielby> (ICE ATM)
[19:39:45] <arielby> I mean, there's 3 parts
[19:39:52] <arielby> the TyTuple/TyVec bug
[19:40:10] <arielby> checking misc. items (impls, extern items, methods)
[19:40:18] <arielby> and checking method bodies
[19:41:34] <arielby> I think we should check every Ty in the tables when checking method bodies
[19:41:38] <arielby> + UFCS
[19:42:06] <arielby> but I think UFCS is in the tables too
[19:42:50] <arielby> (in MethodMap)
[19:43:06] <arielby> that should go for 1.3 if we can get it done in time
[19:43:26] <arielby> nmatsakis: I think you know of test cases
[19:43:34] <arielby> where this differs from current "check user types" behaviour
[19:43:40] <arielby> right?
[19:44:58] *** Joins: summerlight_ (summerlight@moz-lb3.6do.193.175.IP)
[19:45:32] *** Joins: mib_ofaffz (Mibbit@moz-hu6.nja.252.72.IP)
[19:45:34] <arielby> actually, we need to write skolemized fn types too
[19:47:21] *** Quits: mib_ofaffz (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:48:06] *** Quits: arielby (Mibbit@moz-gdrjsj.tau.ac.il) (Quit: bye)
[19:52:04] <nmatsakis> arielby: sorry, distracted; I have a mostly done branch, but I have to rework it to issue warnings, not errors (and finish off a few things; marked by . Shouldn't be too hard. I do hope to get this landed for 1.3, yes.
[19:53:39] *** chmanchester is now known as chmanchester|afk
[19:54:14] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[19:57:57] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[19:57:58] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:59:00] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[20:01:18] *** Quits: summerlight_ (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[20:02:03] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[20:02:08] <bstrie> suddenly bstrie was at oscon!
[20:02:27] <bstrie> I found some o'reilly folks, I'm trying to needle them to figure out what animal is on our upcoming book
[20:03:07] <jroesch> bstrie: hopefully the don't let us down ;)
[20:03:57] <bstrie> brson: jim blandy is giving a rust talk tomorrow, do you know his irc nick so we can coordinate?
[20:04:07] <bstrie> brson: or any other mozilla or rust folks that are here?
[20:04:51] <WindowsBunny> bstrie: definitely need to have a crustacean
[20:05:04] <WindowsBunny> a crustacean covered in fungi
[20:05:06] <bstrie> WindowsBunny: I am telling them that it needs to be either a crustacean or a fungus
[20:05:20] <WindowsBunny> bstrie: you must be a fun guy at parties
[20:05:35] <bstrie> WindowsBunny: they generally do not just let the author pick the animal but e.g. the docker books all have whales so they do consider precedence
[20:09:24] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[20:09:25] <brson> bstrie: jimb
[20:09:31] <bstrie> brson: thanks
[20:10:12] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[20:11:08] *** Quits: bdero (bran@moz-e4f4ei.mit.edu) (Ping timeout: 121 seconds)
[20:13:33] <edunham> bstrie: he's jimb on irc but probably offline right now
[20:14:00] * edunham at oscon now
[20:14:12] <acrichto> WindowsBunny: I think it's due to the mac builders lagging behind so much, but I'll investigate again tonight if it's going weird
[20:14:20] <acrichto> tamird: sure!
[20:14:25] <acrichto> tamird: what's up?
[20:14:25] <jroesch> Gankro: ping about that EnumSet PR
[20:14:51] <tamird> acrichto have you seen latest comments on https://github.com/rust-lang/rust/issues/9367?
[20:15:06] <Gankro> jroesch: pong
[20:15:18] * acrichto reads
[20:15:26] <jroesch> do you think I should just replace the BuiltinBounds internals with bitflags?
[20:15:30] <Gankro> jroesch: if bitflags work, then go for it. I had legit forgotten they existed since it's been so long since they've been in std
[20:15:41] <jroesch> yeah I didn't think about it all 
[20:15:48] <jroesch> I'll try it out
[20:16:04] <jroesch> I had forgot that PR wasn't merged 
[20:16:22] <acrichto> tamird: that makefile commit to add lld requires that there's a rule for that elsewhere in the makefiles, so that may be why that part isn't working
[20:16:48] <acrichto> tamird: and all the other stuff may just be bugs in lld not aligning the dwarf sections with the unwinding info or something
[20:16:59] <acrichto> aka some stars are out of alignment for the exception to be succesfully thrown
[20:17:05] <tamird> any way to get more information that could be sent upstream?
[20:17:30] <acrichto> if you can get a minimal repro I'm sure they'd like that
[20:17:42] <acrichto> and if you could get Rust out of the picture I'm sure they'd also like that
[20:18:07] <tamird> oh, hmm. that might be possible.
[20:18:43] <acrichto> tamird: so for landing this in-tree, I'd be a little uncomfortable doing so in an invasive manner right now
[20:18:52] <acrichto> it's not super clear to me how reliable lld is, and it looks like there are still quite a few bugs in it
[20:19:03] <acrichto> but adding uninvasive support seems totally plausible
[20:19:12] <acrichto> b/c that way we can experiment and get bug reports hopefully as well
[20:19:40] <tamird> yeah, that would be great. any advice on how to weave that through? we'd probably not want people who aren't using lld to have to build it
[20:20:05] <acrichto> tamird: a configure switch is probably the best way to go
[20:20:30] <tamird> and that would check out lld into src/llvm/tools/lld? yeah that's doable
[20:20:41] <tamird> the other part is that we will need to switch between make and cmake
[20:20:59] <tamird> and the third is all the change inside rustc
[20:21:05] <acrichto> tamird: let's hold off on that for now if lld isn't enabled
[20:21:17] <acrichto> tamird: and the third change should just be adding LldLinker next to MsvcLinker/GnuLInker
[20:21:26] <acrichto> and a small switch dispatching to that if lld is enabled
[20:22:03] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[20:22:25] <tamird> okay sounds reasonable. i'm dreading the configure stuff
[20:22:32] <acrichto> tamird: is there documentation and/or something online saying that llvm is moving away from makefiles?
[20:22:36] <acrichto> I haven't seen anything related to this yet
[20:23:08] <tamird> let me find it
[20:23:50] *** chmanchester|afk is now known as chmanchester
[20:26:10] <tamird> acrichto ah it's coming back to me. it's a bit convoluted but: newer things (like lld) don't support in-source builds, and out-of-source builds are only supported in cmake
[20:26:25] <tamird> i misspoke when i said they're removing support, there's nothing to indicate that
[20:26:28] <acrichto> tamird: right, but are they officially deprecating the in-tree build?
[20:26:31] <acrichto> er, makefile
[20:26:42] <tamird> yeah, not to my knowledge
[20:26:42] <acrichto> ok, in that case we may just want to not build lld?
[20:26:50] <acrichto> seems somewhat reasonable to expect it to be installed already?
[20:26:55] <acrichto> e.g. this is just -C linker=lld
[20:27:21] <tamird> it's not quite -C linker=lld because you need to pass `-flavor gnu` to lld so it can know which flags you are going to use
[20:27:28] <tamird> also you can't `-Wl` it
[20:27:49] <acrichto> tamird: right but the compiler would recognize -C linker=lld and then use a different linker driver
[20:27:50] <tamird> but yeah maybe we don't need to ship lld at all
[20:27:54] <acrichto> e.g. it'd use LldLinker instead of GnuLinker
[20:28:01] <acrichto> just to start off with at least
[20:28:04] <Gankro> nrc: it's unclear to me that what you describe as "checked casts" isn't just "casts that don't exist"
[20:28:06] <acrichto> we may not need to be required to ship lld
[20:28:22] <acrichto> tamird: basically getting by with as little as possible seems like a great idea for something experimental like this
[20:28:26] <tamird> oh, is that how `-C linker=` works? it selects the driver?
[20:28:28] <tamird> yeah, agreed
[20:28:50] <acrichto> tamird: ah no not currently
[20:28:56] <acrichto> the driver is currently selected based on the target
[20:29:00] <acrichto> e.g. msvc or "not msvc"
[20:29:12] <tamird> right
[20:29:13] <acrichto> but it should be fine to pattern match on any manually specified linker as well
[20:30:17] <WindowsBunny> we can use msvc or not msvc to distinguish between which flavor of lld to use
[20:30:48] *** Joins: summerlight_ (summerlight@moz-lb3.6do.193.175.IP)
[20:36:03] <brson> acrichto: r? https://github.com/rust-lang/rustup/pull/25
[20:37:04] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[20:38:59] *** Joins: arielb1 (Ariel@moz-onoegh.red.bezeqint.net)
[20:40:32] *** Joins: achanda (achanda@moz-fr1.spq.217.162.IP)
[20:41:10] *** Quits: cantsin (cantsin@moz-gg2.6i5.116.50.IP) (Quit: Farewell)
[20:42:29] *** Joins: cantsin (cantsin@moz-gg2.6i5.116.50.IP)
[20:46:21] *** Quits: untitaker_ (untitaker@moz-ppjgld.highway.telekom.at) (Ping timeout: 121 seconds)
[20:46:45] *** Quits: apasel422 (Mibbit@moz-6ga37r.ma.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:49:13] * brson working crate compitibility for the crater docker image
[20:49:48] *** Joins: untitaker (untitaker@moz-fb6lcm.highway.telekom.at)
[20:50:54] *** Quits: Guest53 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:51:21] *** Joins: mib_lew8nw (Mibbit@moz-hu6.nja.252.72.IP)
[20:51:44] *** Quits: eddyb (eddyb@moz-iut.q07.26.188.IP) (Connection closed)
[20:52:23] *** Joins: eddyb (eddyb@moz-6s1.6n6.26.188.IP)
[20:55:04] <nrc> Gankro: yeah, I think we have the same understanding of the issue. I find "aren't checked" a bit misleading, it suggests to me you can write `e as T` for any `e` and `T` and expect it to work. Perhaps just change to "aren't dynamically checked" or something?
[20:55:30] <Gankro> nrc: I thought I basically did in the last draft
[20:56:10] <Gankro> Hmm, I guess I leave it up to interpretation a bit
[20:56:13] <Gankro> can make it better
[20:56:17] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:56:49] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[20:58:27] *** Quits: mib_lew8nw (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:58:32] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[20:58:44] *** Joins: tynopex (Mibbit@moz-qgo1hk.cable.rogers.com)
[21:01:00] <brson> jroesch: crater results https://gist.github.com/brson/ce88d850e673ea2c2d05
[21:01:38] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:02:34] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[21:05:05] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[21:05:13] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[21:05:59] <jroesch> brson: thanks! nmatsakis^
[21:06:48] *** chmanchester is now known as chmanchester|mtg
[21:12:44] *** chmanchester|mtg is now known as chmanchester
[21:13:21] <nmatsakis> jroesch: hmm stack overflow
[21:13:25] <nmatsakis> suggests maybe recursive defaults?
[21:13:50] <huon> doesn't the compiler set it's thread name to <rustc>, not <main>?
[21:13:58] <jroesch> looking at it right now, working in the car so my wifi is a little spotty 
[21:14:22] *** Joins: goyox86_ (textual@moz-rvv.00r.255.109.IP)
[21:15:03] <reem> params is an iron crate, but it looks like an ICE rather than a breaking change
[21:15:30] *** Quits: goyox86 (textual@moz-9ct.il3.161.192.IP) (Ping timeout: 121 seconds)
[21:15:32] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[21:17:06] <jroesch> nmatsakis: yeah. The default fallback phase is wrapped by a loop over the recursion limit ... hrm 
[21:18:34] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[21:19:11] <jroesch> I'll pull params down and build using my compiler version 
[21:19:27] <jroesch> see if I can glean anymore information 
[21:20:46] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[21:23:07] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[21:26:04] *** Quits: filsmick (filsmick@moz-0qapam.abo.wanadoo.fr) (Quit: )
[21:26:23] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:26:31] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[21:28:07] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[21:29:36] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[21:33:01] *** Quits: sprang (sprang@moz-gpnug3.3dj0.bqct.0647.2601.IP) (Ping timeout: 121 seconds)
[21:33:55] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[21:43:36] *** Quits: zmack (zmack@moz-va0ce0.fios.verizon.net) (Connection closed)
[21:45:50] *** Quits: Jesin (Jesin@moz-9b7.teg.180.128.IP) (Quit: Leaving)
[21:47:13] *** Quits: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[21:50:32] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[21:50:39] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:51:37] *** Quits: larsberg (sid89@moz-1a60qu.0j4i.jtu0.0101.2620.IP) (Quit: )
[21:55:08] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[21:55:38] *** Quits: eibwen (eibwen@moz-hbu82e.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:59:18] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[22:02:51] <Gankro> everyone plz stop contributing to Rust, my email is out of control. K thx.
[22:03:20] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[22:03:20] <steveklabnik> lol
[22:08:01] *** Joins: James__ (quassel@moz-t0rko5.range86-163.btcentralplus.com)
[22:10:19] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[22:10:28] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[22:12:28] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:12:28] *** ChanServ sets mode: +ao erickt erickt
[22:13:09] *** Quits: goyox86_ (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:15:33] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Connection closed)
[22:15:42] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[22:21:18] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[22:24:12] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[22:25:08] *** Quits: arielb1 (Ariel@moz-onoegh.red.bezeqint.net) (Quit: Ex-Chat)
[22:27:19] <jroesch> Gankro: deleting all my branches now, GH account next sorry about the inconvenience
[22:27:34] <Gankro> jroesch: np
[22:27:37] <Gankro> thanks
[22:29:17] <jroesch> I was just up in SF for a wedding was thinking about dropping by this morning but left the city early
[22:31:03] *** Quits: James__ (quassel@moz-t0rko5.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[22:31:08] <huon> poor choice
[22:33:04] *** Quits: eljay (eljay@moz-fmte10.skybroadband.com) (Quit: Leaving)
[22:34:36] *** Quits: aepsil0n (eduard@moz-adiikc.5mue.uq8s.8071.2a02.IP) (Connection closed)
[22:38:16] <Gankro> jroesch: :(((
[22:43:51] <SimonSapin> reem: gentle reminder to cargo publish debug_unreachable when you have time :)
[22:45:07] *** Quits: summerlight_ (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[22:50:06] *** Quits: listochkin (listochkin@moz-u28j0j.interview.volia.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:57:48] *** Quits: mgottschlag (quassel@moz-c3ivja.hsi14.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:58:45] *** wcosta is now known as wcosta|afk
[23:00:14] *** Joins: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net)
[23:01:00] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:01:12] *** Quits: X67r (user@moz-4vmaa6.mullvad.net) (Quit: leaving)
[23:02:42] *** Joins: njn (chatzilla@moz-m5j3jc.iinet.net.au)
[23:04:20] *** Quits: dinfuehr (dinfuehr@moz-o5flra.oc.cox.net) (Ping timeout: 121 seconds)
[23:07:51] *** Joins: brandonson (brandonson@moz-04bj5s.cs.ubc.ca)
[23:08:39] <Gankro> nrc: is not digging into the details of subtyping as a super-coercion acceptable for landing the first draft?
[23:11:03] <nrc> Gankro: totally, I might just remove the subtyping case of coercion - I'm not sure its important to mention the reflexive case and is likely to just confuse the reader
[23:11:43] <Gankro> nrc: I think it's important that &[T] coerces to &[U]
[23:12:04] <Gankro> as in I don't consider it reflexive
[23:12:24] <Gankro> But maybe that's because I was thinking of it as a coercion
[23:12:29] <Gankro> and not something stronger
[23:12:57] <nrc> Is that covered by the subtyping case?
[23:13:15] <Gankro> if T is a subtype of U, yes
[23:13:29] * nrc looks again
[23:14:14] <Gankro> nrc: That is &[T] is a subtype of &[U] if T is a subtype of U due to variance
[23:14:31] <Gankro> or &T and &U even
[23:15:36] <nrc> In that case I don't think there is any coercion
[23:15:44] <Gankro> ?
[23:16:00] <nrc> it is 'just' subtyping
[23:16:04] <Gankro> hmm
[23:16:05] <nrc> no?
[23:16:14] <nrc> (from the compiler's POV, no coercion is happening at all, so I'm not even sure it makes sense to think of a reflexive case for coercion, other than for a formal model or something)
[23:16:26] <Gankro> I liked the perspective of subtyping <= coercions <= casts
[23:17:24] <nrc> yeah, that is a nice intuition
[23:17:59] <Gankro> But yeah I can just axe it for now
[23:18:31] <nrc> however, I think it pays to be precise in the details, in particular, coercion causes an rvalue, but subtyping doesn't
[23:26:31] <brson> i need help writing some trans code
[23:27:08] *** Joins: zmack (zmack@moz-va0ce0.fios.verizon.net)
[23:27:21] <brson> i want to iterate over all the arguments in a FnDecl, figure out which ones are generics, and what types they are instantiated as in a given fcx
[23:27:33] <brson> and i don't know how to do those things
[23:27:51] <Gankro> huon: can I correctly derive from http://stackoverflow.com/questions/28519997/what-are-rusts-exact-auto-dereferencing-rules/28552082#28552082 that the dot operator does not do any coercions?
[23:28:09] <huon> no
[23:28:13] <brson> how do I figure out what type an ast::Ty corresponds to?
[23:28:36] <huon> playbot: let v: [u8; 1] = [1]; v.len()
[23:28:37] -playbot- 1
[23:28:42] <huon> Gankro: coercing to &[u8] ^
[23:29:10] <huon> brson: what result are you looking to get?
[23:29:11] <Gankro> huon: Does it just try All The Coercions?
[23:29:17] * huon doesn't know
[23:30:24] <Gankro> nrc: do you know where coercions apply? (iirc the RFC is out of date in this regard)
[23:30:24] <brson> huon: I just want the llvm types of all the arguments for a particular function instantiation
[23:30:44] <Gankro> nrc: wrt receiver coercions, that is
[23:30:50] <Gankro> see above
[23:31:25] <huon> brson: oh, trans::type_of::type_of does that, although the info may already exist somewhere
[23:32:15] <nrc> Gankro: not off the top of my head - the dot operator does coerce, it will try all possible coercions (except the deref/borrow coercion, which it doesn't need to). I don't recall if it tries after each auto-deref/-ref or only 'at the bottom'
[23:32:16] <brson> huon: type_of goes from a middle::ty::ty to an llty. I don't have a middly::ty, I have an ast
[23:33:01] <Gankro> nrc: this seems like something I can punt on writing until after v1.0 lands
[23:33:12] *** Joins: zmack_ (zmack@moz-va0ce0.fios.verizon.net)
[23:33:14] <Gankro> Dot operator is magic
[23:33:14] <nrc> for sure
[23:33:15] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[23:33:19] <Gankro> Only dreams now
[23:33:21] *** Quits: zmack (zmack@moz-va0ce0.fios.verizon.net) (Connection closed)
[23:33:26] <steveklabnik> lol
[23:33:37] <Luqman> brson: you have an fcx though right? get_param(fcx.llfn, i) will you a ValueRef corresonding to the ith argument and you can call val_ty on that to get the LLVM type
[23:33:43] <nrc> auto-ref, auto-deref, coercion, wave hands, done
[23:33:46] <huon> brson: oh, well you need to get a middle::ty::ty first, e.g. name it's where the name resolution happens
[23:33:56] <huon> *e.g. it's where
[23:34:01] *** Quits: dp (dp@moz-elqg92.gb4f.8ao9.0e35.2a01.IP) (Ping timeout: 121 seconds)
[23:34:48] <Luqman> huon: brson well by trans it should be in the tcx cache right? tcx.ast_ty_to_ty_cache
[23:35:41] <brson> Luqman: thanks for the pointers
[23:35:55] <Gankro> acrichto: hmm, at this rate I wonder what will land first, LLVM that works on windows or open source MSVC that works on Linux?
[23:36:01] <steveklabnik> lol
[23:37:25] <Luqman> brson: oh, also note that the i-th argument that LLVM sees might not correspond to the i-th argument as written, since fat pointers get passed in 2 arguments now
[23:38:38] *** Quits: tynopex (Mibbit@moz-qgo1hk.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[23:39:14] *** Quits: zmack_ (zmack@moz-va0ce0.fios.verizon.net) (Connection closed)
[23:39:46] *** Joins: zmack (zmack@moz-va0ce0.fios.verizon.net)
[23:40:19] *** Joins: Rusky (russell@moz-e71n5k.slkc.qwest.net)
[23:40:27] *** Parts: Rusky (russell@moz-e71n5k.slkc.qwest.net) ()
[23:44:02] *** Joins: frogmella (Mibbit@moz-hu6.nja.252.72.IP)
[23:44:32] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[23:46:42] *** Joins: binkarus (textual@moz-njd172.ca.comcast.net)
[23:50:09] *** Joins: summerlight_ (summerlight@moz-lb3.6do.193.175.IP)
[23:50:25] *** Quits: tamird (textual@moz-ga3.afc.209.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:50:39] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:54:04] *** Joins: bdero (bran@moz-fc57gf.ma.comcast.net)
[23:55:15] *** Joins: sprang (sprang@moz-gpnug3.3dj0.bqct.0647.2601.IP)
[23:59:25] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Connection closed)
