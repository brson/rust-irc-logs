[00:01:43] *** Joins: eddyb_ (eddyb@moz-9qr.ba9.25.188.IP)
[00:03:11] *** Quits: eddyb (eddyb@moz-ic7.82i.25.188.IP) (Ping timeout: 121 seconds)
[00:16:10] *** Quits: achanda (achanda@moz-m7s4h8.static.monkeybrains.net) (Connection closed)
[01:15:08] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[02:33:36] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[02:48:10] *** Quits: kimundi (kimundi@moz-04oaee.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:48:39] *** Joins: kimundi (kimundi@moz-uicitd.dip0.t-ipconnect.de)
[02:58:41] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[03:01:52] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[03:08:21] *** eddyb_ is now known as eddyb
[03:17:24] *** Joins: barosl_ (barosl@moz-tmp.qma.67.220.IP)
[03:20:22] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Ping timeout: 121 seconds)
[03:36:41] *** Quits: Manishea1th (manishearth@moz-uc30rq.anapnea.net) (Ping timeout: 121 seconds)
[03:36:44] *** Quits: Manishearth (manishearth@moz-uc30rq.anapnea.net) (Ping timeout: 121 seconds)
[03:37:42] *** Joins: Manishearth (manishearth@moz-uc30rq.anapnea.net)
[03:37:42] *** ChanServ sets mode: +ao Manishearth Manishearth
[03:37:45] *** Joins: Manishea1th (manishearth@moz-uc30rq.anapnea.net)
[03:50:49] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[04:02:16] *** Joins: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP)
[04:37:40] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[04:45:26] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[05:06:46] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (Connection closed)
[05:12:24] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[05:17:23] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[05:42:26] *** Quits: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP) (Connection closed)
[05:45:49] *** Quits: barosl_ (barosl@moz-tmp.qma.67.220.IP) (Ping timeout: 121 seconds)
[05:47:04] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[05:55:34] *** Joins: barosl_ (barosl@moz-tmp.qma.67.220.IP)
[05:58:49] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Ping timeout: 121 seconds)
[06:17:08] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Client exited)
[06:24:25] *** Quits: Manishearth (manishearth@moz-uc30rq.anapnea.net) (NickServ (RECOVER command used by Manishea1th))
[06:24:25] *** Manishea1th is now known as Manishearth
[06:24:26] *** ChanServ sets mode: +ao Manishearth Manishearth
[06:30:24] *** Quits: barosl_ (barosl@moz-tmp.qma.67.220.IP) (Ping timeout: 121 seconds)
[06:34:12] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[06:36:31] *** Quits: LinuxBunny (Retep998@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[06:50:37] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[07:30:51] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[07:38:49] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[07:49:19] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[08:09:19] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[08:33:39] <doener> eddyb: ping
[09:01:51] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[09:26:03] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[09:46:19] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[09:46:45] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (A TLS packet with unexpected length was received.)
[10:36:02] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[10:38:38] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[12:01:33] *** Joins: arielb1 (Mibbit@moz-mr9bri.tau.ac.il)
[12:23:16] <eddyb> doener: pong
[12:23:50] <eddyb> (sorry, just came home from finishing up this whole admission business)
[12:23:59] <doener> eddyb: admission business?
[12:24:07] <eddyb> university admission
[12:24:25] <eddyb> I got in where I wanted to go :D
[12:24:32] <doener> eddyb: figured my problem out in the meantime, was confused about open DST vs. fat pointers in datums
[12:24:52] <eddyb> ah
[12:25:03] <doener> eddyb: good to hear!
[12:25:07] <eddyb> doener: the term "open DST" seems confusing to me
[12:25:11] <eddyb> it's just a DST lvalue
[12:25:29] <eddyb> you know, the result of dereferencing a reference to a DST :P
[12:26:18] <doener> eddyb: picked that term up from the source code...
[12:26:25] <eddyb> I blame nrc
[12:27:19] <eddyb> doener: we used to have a ty_open to account for various oddities, but now it's contextual and datums are either rvalue/lvalue P<DST> or lvalue DST
[12:27:24] <doener> hm, quick grep suggests that it's mostly gone now
[12:27:36] <doener> yeah
[12:35:01] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[12:54:25] <kimundi> eddyb: woho! Onward to Uni then :)
[12:54:39] <eddyb> 1st of October
[12:55:30] <kimundi> Just enough time for one major rewrite of a compiler feature and a read-through of hpmor then :P
[12:55:33] <eddyb> I have two months to relax and focus on rustc and personal projects
[12:55:42] <eddyb> kimundi: -_-
[12:55:45] <kimundi> :D
[12:55:48] <eddyb> is hpmor *that* short?
[12:55:50] <Elaine> No.
[12:55:51] <eddyb> :P
[12:55:53] <Elaine> No it is not.
[12:55:56] <Elaine> ;)
[12:56:13] <Elaine> I think I worked through it in ~3 days of pretty straight-through nail-bitting reading.
[12:56:41] <eddyb> that's less than two months...
[12:56:59] <Elaine> you might want to read it twice, and mull it over, and then read all of lesswrong.
[12:58:54] <eddyb> speaking of compiler features. I think the HIR/MIR are relevant to my bootstrap attempt
[12:59:19] <eddyb> that's where I really considering parsing into a flat form directly
[12:59:24] <eddyb> *considered
[12:59:37] * kimundi just noticed he is not in offtopic
[13:00:14] <eddyb> with enough links between structures (via IDs, not pointers ;)), you could handle e.g. resolve scopes
[13:00:42] <eddyb> without being able to recurse in the same order as the vanilla AST
[13:02:33] <eddyb> I wonder how nuts macro expansion would be on the MIR
[13:05:51] <eddyb> you need explicit let scopes, but maybe that's about it
[13:06:08] <eddyb> and that nasty hygiene algorithm
[13:53:06] <arielb1> is #![feature(core)] in librustc fine?
[13:53:43] <Elaine> yeah, I think librustc is allowed to use feature gates.
[13:54:48] <arielb1> Elaine: it has over 30
[13:54:59] <arielb1> why is NonZero exported only via libcore?
[13:56:01] <Elaine> Isn't it reexported in std somewhere?
[13:56:07] <Elaine> I'm pretty sure I've seen external crates use it
[14:22:35] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[14:37:51] <arielb1> Elaine: didn't find any
[14:38:20] <Elaine> oh well I guess
[14:38:30] <Elaine> maybe its usage got replaced with Unique or something
[14:38:55] <arielb1> Elaine: Unique is !Copy
[14:41:03] <Elaine> I mean in the external crates
[14:49:36] <eddyb> Elaine: stable crates?
[14:49:47] <eddyb> unstables one have `extern crate core;`
[14:49:47] <Elaine> eddyb: yeah
[14:49:57] <Elaine> maybe I just got confused
[14:49:59] <eddyb> NonZero is unstable
[14:50:06] <eddyb> pretty sure Unique is too
[15:05:22] <arielb1> eddyb: both are unstable
[15:05:25] <arielb1> but Unique is reexported
[15:14:03] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[15:47:58] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[15:52:50] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[15:55:47] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[15:57:52] *** Joins: phao (phao@moz-ff8.qsm.129.177.IP)
[15:58:52] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[16:23:58] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[16:34:35] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[16:56:58] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:56:58] *** ChanServ sets mode: +qo brson brson
[17:08:27] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[17:10:10] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:10:10] *** ChanServ sets mode: +qo brson brson
[17:27:56] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[18:28:55] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[18:38:25] *** Joins: sigma (sigma@moz-92585k.range217-44.btcentralplus.com)
[18:40:41] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[18:51:38] <jroesch> eddyb: do you have any thoughts why this would be breaking when I refactored where we apply unit fallback? https://github.com/rust-lang/rust/blob/master/src/libcore/num/float_macros.rs#L70
[18:51:46] <jroesch> its failing checking the body of the fn 
[18:52:08] <eddyb> for diverging inference variables?
[18:52:19] <eddyb> or what?
[18:52:22] <jroesch> yeah
[18:52:48] <jroesch> the 3 fallback rules are now default, literal, and then unit (in that order on this branch)
[18:52:50] <eddyb> what can diverge from that function?
[18:53:37] <eddyb> or is it just break and return?
[18:54:01] <jroesch> there is also this line https://github.com/rust-lang/rust/blob/master/src/libcore/num/float_macros.rs#L159
[18:54:32] *** Quits: arielb1 (Mibbit@moz-mr9bri.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[18:54:44] <eddyb> oh!
[18:55:08] <eddyb> jroesch: you have a divering inference variable being related with a floating-point inference variable
[18:55:24] <jroesch> line no?
[18:55:24] <eddyb> jroesch: and you somehow apply ()
[18:55:36] <eddyb> https://github.com/rust-lang/rust/blob/master/src/libcore/num/float_macros.rs#L152-L153
[18:56:04] <eddyb> (the function has more of these)
[18:56:24] <eddyb> the diverging inference variable coming from the return should be unified with the defaulted floating-point value first
[18:56:38] <eddyb> jroesch: maybe you're missing a select_where_possible between the defaulting steps?
[18:56:48] <jroesch> ah
[18:56:51] <jroesch> yeah that could be it
[18:56:57] <jroesch> I moved the code around with adding another one
[18:57:15] <jroesch> it was happening at the top of the defaulting fixpoint before
[18:57:42] <eddyb> need to propagate the defaulted floating-point inference variable through the trait impl
[18:58:00] *** Quits: phao (phao@moz-ff8.qsm.129.177.IP) (Ping timeout: 121 seconds)
[18:58:34] <eddyb> jroesch: at least that's my best guess
[18:59:41] <jroesch> I think that is a definite possibility, gonna play around right now
[19:01:03] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:32:33] *** Joins: phao (phao@moz-ff8.qsm.129.177.IP)
[19:36:32] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[19:45:53] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[19:53:44] *** Joins: arielb1 (Ariel@moz-ltrm3h.red.bezeqint.net)
[19:58:59] *** Parts: phao (phao@moz-ff8.qsm.129.177.IP) ("Leaving")
[20:18:47] *** Quits: sigma (sigma@moz-92585k.range217-44.btcentralplus.com) (Connection closed)
[20:57:55] *** Quits: arielb1 (Ariel@moz-ltrm3h.red.bezeqint.net) (Quit: Ex-Chat)
[21:13:39] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[21:25:32] *** Joins: marcusklaas (marcus@moz-0ol9oe.chello.nl)
[21:42:43] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[22:02:09] *** Quits: marcusklaas (marcus@moz-0ol9oe.chello.nl) (Client exited)
[22:15:31] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[23:28:18] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[23:39:20] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[23:39:21] *** ChanServ sets mode: +qo brson brson
[23:49:37] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
