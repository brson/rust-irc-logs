[00:00:27] <aatch> hmm, that should be there
[00:00:28] <steven_is_false> Anyways, I don't need to worry about documentation right now.
[00:00:47] <steven_is_false> I'm currently having trouble getting q3 to build.
[00:01:04] <steven_is_false> Jeaye 's project in Rust
[00:01:24] <steven_is_false> Has anyone else had strange linking issues when trying to use glfw in Rust?
[00:01:41] <ssbr> aatch: well, anyway, it appears to be doing the right thing
[00:01:42] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[00:01:42] *** ChanServ sets mode: +o tjc
[00:01:50] <ssbr> I'm now getting complaints of an undefined symbol PyInt_FromLong, which is what I wanted
[00:02:08] <aatch> rusti: let a : ~[str] = ~["123"]; a
[00:02:10] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/aIUT
[00:02:17] <bjz> steven_is_false: I'm the dude behind glfw-rs
[00:02:32] <aatch> rusti: let a : ~[str] = ~[~"123"]; a
[00:02:33] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/jcQf
[00:02:37] <bjz> steven_is_false: make sure you're using glfw3
[00:02:45] <aatch> Thought so
[00:02:54] <bjz> steven_is_false: you can find it on glfw/glfw on github
[00:03:09] <steven_is_false> bjz: glfw is a submodule of the q3 git repo
[00:03:32] <bjz> ahh
[00:03:40] <bjz> what are the errors?
[00:04:01] <bjz> glfw-rs is just bindings
[00:04:14] <bjz> you also need the glfw lib
[00:05:17] <steven_is_false> bjz: I can build glfw fine but when I try to link it to q3 I get undefined symbols ranging from glfwGetCursorPos to glfwDefaultWindowHints.
[00:07:18] <bjz> can you post the error?
[00:07:38] <bjz> where are you getting glfw from?
[00:07:44] <bjz> a package manager?
[00:08:07] <steven_is_false> It's just cc saying it failed and spitting out that all the symbols are undefined
[00:08:20] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Ping timeout)
[00:08:51] <bjz> please post the errors on gist
[00:09:02] <bjz> that will help, trust me
[00:09:02] <steven_is_false> bjz: Give me a second.
[00:10:35] *** Joins: twm (twm@moz-13417AD3.dsl.static.sonic.net)
[00:12:45] *** Quits: steven_is_false (quassel@moz-9B148C35.bchsia.telus.net) (Ping timeout)
[00:23:40] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[00:29:30] <doomlord> (bjz was it you doing the numeric trait?)
[00:29:33] *** Quits: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net) (Ping timeout)
[00:29:46] <bjz> doomlord: aye
[00:32:44] <doomlord> i threw a suggestion on the bikeshed r.e. transcendental ..
[00:36:28] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[00:36:28] *** ChanServ sets mode: +o brson
[00:41:48] <doomlord> i see Haskell calls it 'Floating a' ... (what i thought could be called 'trait TranscendentalOps' or seomthing like that) 
[00:42:28] <doomlord> haskell Fractional provides division, reciprocal- and Floating derives from that adding all the extra operations
[00:42:35] <doomlord> maybe you could copy that
[00:42:49] *** Joins: steven_is_false (quassel@moz-9B148C35.bchsia.telus.net)
[00:43:28] <doomlord> however to me it seems better to call it something else because you could implement sin,cos for fixedpoint,  floating point , integer-fraction types, in theory
[00:52:16] <bjz> mm
[00:52:26] <bjz> indeed
[00:52:31] <bjz> cheers
[00:52:49] <doomlord> maybe i can try and contribute something
[00:53:02] <doomlord> once i find my way around a bit better
[00:53:11] <bjz> yup, defs
[00:53:33] *** Quits: steven_is_false (quassel@moz-9B148C35.bchsia.telus.net) (Client exited)
[00:53:52] <bjz> like, my stuff isn't perfect - I'm just trying to move things forwrd
[00:53:56] <bjz> *forward
[00:54:42] <doomlord> further it seems haskell has 'complex' and i suggest that you could Impl TranscendentalOps for Complex { ..}  which makes sense.. rexp(itheta)=r(costheta+isintheta) .. 
[00:55:49] <bjz> yup
[00:56:05] <bjz> doomlord: be sure to post your thoughts on the issue too
[00:56:11] <bjz> then we can discuss it
[00:56:42] <doomlord> yes i've posted as "dobkeratops" on the numeric traits bikeshed in reddit, 
[00:58:07] *** Joins: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP)
[01:01:18] *** Quits: a__ (a__@moz-9BBD1F27.nycmny.fios.verizon.net) (Ping timeout)
[01:03:48] *** Joins: a__ (a__@moz-9BBD1F27.nycmny.fios.verizon.net)
[01:13:23] <bjz> doomlord: I mean this one: https://github.com/mozilla/rust/issues/4819
[01:13:46] <doomlord> ok
[01:14:53] <doomlord> i'll try and paraphrase and post..
[01:14:58] *** Quits: an0nymous (an0nymous@moz-9127FDEC.torservers.net) (Ping timeout)
[01:18:04] *** Quits: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net) (Quit: Leaving.)
[01:18:13] *** Joins: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net)
[01:20:12] <bjz> sorry :)
[01:20:28] <bjz> the reddit post is pretty much dead now :)
[01:21:38] <doomlord> ok done
[01:23:04] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[01:23:25] *** Parts: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) ()
[01:23:33] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[01:31:11] *** Quits: blitter (blitter@moz-48397EA8.dyn.centurytel.net) (Ping timeout)
[01:33:48] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[01:34:59] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: leaving)
[01:35:35] <aatch> ssbr, I've just added two extra flags to rustc: '--linker' which takes extra flags to pass to the linker and '--print-link-args' which prints the linker arguments that would be passed (doesn't actually need to link though)
[01:35:59] <aatch> I'm testing the second one now.
[01:37:29] <ssbr> aatch: so I could do something like "rustc -c foo.rc -o foo.o --print-link-args"?
[01:37:41] <aatch> ssbr, hopefully.
[01:37:49] <ssbr> Nice! Thank you :)
[01:38:19] <aatch> The --linker works
[01:40:42] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:40:47] <aatch> You may still have to strip out flags that you don't want
[01:41:03] <doy> has anyone seen failures in test/run-pass/too-much-recursion.rs
[01:41:32] <doy> "rust: task 7f00c02041b0 ran out of stack"
[01:44:21] <ssbr> aatch: Yeah, that's fine, I was doing that anyway. :)
[01:44:29] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[01:44:53] <ssbr> aatch: So this will be in Rust 0.7?
[01:45:27] <aatch> ssbr, I guess. When I get it all working and tested, I'll do a pull request.
[01:45:27] *** Parts: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) ()
[01:45:39] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[01:45:42] <aatch> If everything works out it'll be in incoming fairly soon
[01:46:13] <SiegeLord> How does --linker interact with the link args inside the crates?
[01:46:32] <aatch> SiegeLord, it just appends whatever you have put in there to the end of the arguments
[01:46:36] <aatch> it's pretty basic
[01:46:41] <ssbr> egh, how do I create a null raw pointer?
[01:46:47] <aatch> ssbr, ptr::null()
[01:46:56] <ssbr> aatch: ah! Thanks :)
[01:47:00] <aatch> rusti: unsafe { ptr::null() }
[01:47:02] <rusti> 1foo.rs:4:17: 4:21 error: internal compiler error: Autoderef but type not derefable: [type error]
[01:47:02] <rusti> foo.rs:4     let s = fmt!("%?", {
[01:47:02] <rusti>                           ^~~~
[01:47:02] <rusti> note: in expansion of fmt!
[01:47:02] <rusti> foo.rs:4:12: 6:7 note: expansion site
[01:47:09] <aatch> ololol
[01:47:34] <strcat> rusti: unsafe { core::libc::abort() };
[01:47:36] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/FcMG
[01:47:43] <strcat> ;[
[01:47:52] <strcat> rusti: fn foo() { unsafe { core::libc::abort() } }; foo()
[01:47:54] <rusti> -bash: line 1:    16 Aborted                 ./foo
[01:48:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[01:49:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:50:00] *** Quits: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP) (Ping timeout)
[01:51:32] *** Joins: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP)
[02:07:59] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[02:08:47] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[02:14:54] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[02:15:22] <lieshidden> re-compiling rust, this time the right way lol, so I can do a git pull to get latest pulls :)
[02:16:27] <ssbr> The docs have lots of dead links :(
[02:16:44] <ssbr> ( http://static.rust-lang.org/doc/rust.html#struct-expressions )
[02:18:51] *** Joins: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com)
[02:19:18] <lieshidden> Speaking of docs... I really need to go over that second half 2 or 30 more times lol.
[02:25:34] <ssbr> rusti: let a: cell::Cell<uint> = cell::Cell {value: 1}; a
[02:25:38] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/XjNh
[02:25:55] <ssbr> blargh
[02:25:59] <ssbr> what's a struct rusti knows?
[02:26:18] <ssbr> oh. right.
[02:26:44] <ssbr> rusti: use cell::Cell; let a: Cell<uint> = Cell {value: 1}; a
[02:26:45] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/KDad
[02:27:00] <ssbr> derp
[02:27:10] <ssbr> rusti: use core::cell::Cell; let a: Cell<uint> = Cell {value: 1}; a
[02:27:12] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/dMfS
[02:27:26] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[02:27:32] <ssbr> oh whatever
[02:27:43] <ssbr> I'll work it out locally first
[02:31:13] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[02:31:21] *** Quits: catpig (catpig@moz-48B9B5A3.dip0.t-ipconnect.de) (Quit: Verlassend)
[02:31:23] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Ping timeout)
[02:31:51] <bjz> doomlord: https://github.com/mozilla/rust/issues/4819#issuecomment-17147871
[02:32:37] <strcat> tjc: https://github.com/mozilla/rust/pull/6056 r?
[02:33:27] <tjc> strcat: Just rebasing what graydon r+'ed before?
[02:33:44] <strcat> tjc: well he r+'ed after I rebased but I had broken something
[02:33:49] <tjc> oh ok
[02:33:51] <strcat> had to change a 'v' to an 'xs'
[02:34:01] <strcat> and just deleted a line ;p
[02:34:03] <lieshidden> Actually, they sound good as adjectives :) 
[02:34:26] <bjz> doomlord: that actually looks pretty nice
[02:34:27] <tjc> good enough for me
[02:34:32] <doomlord> looks good!
[02:35:09] <strcat> tjc: oh you got the version before the line delete https://github.com/mozilla/rust/pull/6056
[02:35:10] <doomlord> traits are awesome
[02:35:16] <strcat> tjc: github didn't update right away
[02:35:46] <lieshidden> Adjectives makes sense for them too... they're used to enhance things.
[02:36:12] <bjz> lieshidden: yup
[02:36:19] <strcat> tjc: thanks :)
[02:36:33] <bjz> lieshidden: I assume you're talking about my suggestion?
[02:36:34] <tjc> strcat: thank you!
[02:36:36] <ssbr> I can only find one reference to fixed-size arrays in the docs. ( http://static.rust-lang.org/doc/0.6/rust.html -> static items). How would I go from [T, ..2] to *T ? There's a function for doing this for e.g. &[T] (vec::as_imm_buf), but that's a different type...
[02:36:44] <bjz> lieshidden: based off doomlord's idea?
[02:36:45] <lieshidden> Indeed, it's a very well written suggestion.
[02:37:28] <ssbr> or in fact, where do I find out about arrays at all?
[02:37:31] *** Joins: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com)
[02:37:46] <bjz> doomlord: I actually find the names of haskell's numeric typeclasses a tad confusing
[02:37:49] <ssbr> their syntax, semantics, castability, etc. are all undocumented as far as I can tell :(
[02:38:01] <bjz> doomlord: hopefully we can hit on something better :)
[02:38:04] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:38:04] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/GwNh-g
[02:38:04] <ghrust> 13rust/06auto 1446f91a0 15Daniel Micay: make way for a new iter module
[02:38:04] <ghrust> 13rust/06auto 147b7a0fc 15bors: auto merge of #6056 : thestinger/rust/iter, r=catamorphism...
[02:38:04] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:38:11] <strcat> heh something is still broken in incoming
[02:39:07] <doomlord> i think haskell is just generally good at being confusing :)
[02:39:45] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[02:42:07] <doomlord> traits look awesome, i am so looking forward to escaping rigid class heirachies
[02:44:03] <bjz> doomlord: https://github.com/mozilla/rust/issues/4819#issuecomment-17148065
[02:44:47] *** Joins: Dewa (BLoCk@A182C3D1.31A31F36.F6F5CF2F.IP)
[02:45:47] *** Quits: Dewa (BLoCk@A182C3D1.31A31F36.F6F5CF2F.IP) (Quit: )
[02:48:35] <doomlord> interesting, i'll look into those aswell
[02:49:43] <doomlord> is there a numeric test for rust 
[02:49:56] <doomlord> test-suite
[02:49:59] *** Joins: idkfa (idkfa@moz-141F54A4.krasinfo.ru)
[02:50:05] *** Quits: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP) (Quit: lmandel)
[02:50:05] <bjz> I might go ahead with those changes locally. If folks agree, I'll push
[02:50:11] <bjz> doomlord: yep
[02:50:21] <bjz> doomlord: I do tests for all my pushes
[02:50:46] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[02:51:39] <bjz> doomlord: that's why I ask about NaN and +/-inf. I need to cover them in my tests
[02:52:05] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[02:52:09] <doomlord> sure
[02:52:41] *** Joins: steven_is_false (quassel@moz-FF6C2165.bchsia.telus.net)
[02:53:41] *** Quits: zz_kimundi (kimundi@moz-9DF20B41.dip0.t-ipconnect.de) (Ping timeout)
[02:53:42] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[02:53:54] <doomlord> i wonder if there's a case for throwing hyperbolic trig functions into 'exponential', although that sounds completely wrong.. simply because they're easily expessed in terms of exponentials. 
[02:54:19] <steven_is_false> doomlord: That actually makes sense.
[02:54:22] <doomlord> just thinking about dependancies when someone implements things
[02:54:54] <doomlord> it could be it sounds wrong because the math functions have deceptive names
[02:55:06] <doomlord> http://en.wikipedia.org/wiki/Hyperbolic_function
[02:57:12] *** Quits: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu) (Ping timeout)
[02:57:43] *** Joins: zz_kimundi (kimundi@moz-30199C65.dip0.t-ipconnect.de)
[02:57:54] <bjz> how about Hyperbolic?
[02:57:56] <bjz> :P
[02:58:03] <bjz> if we're going crazy
[02:58:09] <doomlord> yeah that fixes any ambiguity..
[02:58:09] *** zz_kimundi is now known as kimundi
[02:59:09] *** Parts: judder (maradukewa@DABDEEA3.F2C0D0AC.78E362FE.IP) ()
[02:59:09] <bjz> Are they trancendental?
[02:59:11] <TD-Linux> if everything goes as planned, my senior project/thesis will be running Rust on embedded/OS-less systems
[02:59:32] <doomlord> Hyperbolic : Exponential;       Transcendental : Hyperbolic+Trigonometric
[02:59:49] <doomlord> yes they're implemented in terms of exp(x)
[03:00:52] <bjz> ok
[03:00:53] *** Joins: thou (thou@moz-1C1CA9F7.fasttrackcomm.net)
[03:00:56] <doomlord> seems like wikipedia talks about hyperbolic and trigonometric seperately too
[03:01:20] <doomlord> ... the trig coming from a circle (i was going to say 'circular functions' but no way, thats too far!)
[03:02:09] <bjz> I'm removing ldexp, log_radix and ilog_radix from Real â€“ I didn't realise they were to do with floating point encoding. Is that ok?
[03:02:25] <aatch> ssbr, https://github.com/mozilla/rust/pull/6105
[03:02:40] *** Quits: ArturoVM (ArturoVM@moz-EB713BB0.me) (Client exited)
[03:03:04] <ssbr> aatch: woo :)
[03:03:06] <doomlord> as i understand, Real is a math concept, float is a binary representation
[03:03:20] <bjz> doomlord: yup
[03:03:38] <ssbr> egh
[03:03:47] <aatch> egh?
[03:03:49] <doomlord> so that makes sense to me, to move those around. 
[03:04:17] <bjz> doomlord: and those functions I propose are more descriptive
[03:04:18] <ssbr> "egh, every use of the word 'real' in PL discussions could be replaced by the word 'rational', and it'd be less misleading"
[03:04:38] <TD-Linux> aatch, can you think of any use cases where you wouldn't want to use rustc as the linker?
[03:04:45] <doomlord> fair enough
[03:04:48] <aatch> TD-Linux, ask ssbr
[03:04:51] <steven_is_false> ssbr: Maybe Rat would work for a trait name trait?
[03:04:57] <aatch> integration with other build systems
[03:05:04] <aatch> I'll add that to the pull request though
[03:05:10] <TD-Linux> because I can definitely think of some
[03:05:21] <ssbr> TD-Linux: I want to use distutils as the build system, so that I can generate a Python extension module with rust
[03:05:34] <ssbr> so I talked to aatch about it, and he wrote that (which is super awesome)
[03:05:39] <doomlord> heh. so if you have a rational number trait.. can you define pi for it..
[03:05:58] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[03:05:59] <doomlord> but then again, they are rational.
[03:06:09] <doomlord> i mean what the machine actually stores
[03:06:11] <TD-Linux> ssbr, I'm currently needing to link rust with assembly language generated object files and custom linker scripts
[03:06:29] <aatch> ssbr, are you the same name on github?
[03:06:35] <ssbr> aatch: yes
[03:06:36] <TD-Linux> I'm wondering if I should switch to using rustc to invoke the linker always, which I can do with that
[03:06:44] <ssbr> I use bitbucket primarily though, which is why my profile here is empty
[03:07:16] <aatch> https://github.com/ssbr?
[03:07:29] <ssbr> yes
[03:09:56] *** Quits: steven_is_false (quassel@moz-FF6C2165.bchsia.telus.net) (Ping timeout)
[03:10:47] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[03:11:23] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:13:48] *** Joins: me (Mibbit@F4917647.AA764FEA.412C4E70.IP)
[03:19:56] <bjz> doomlord: https://github.com/mozilla/rust/issues/4819#issuecomment-17148575
[03:20:35] <doomlord> yeah that looks right
[03:21:06] <bjz> doomlord: okay, almost implemented
[03:21:14] <bjz> just testing :)
[03:21:35] <doomlord> hope this makes sense to the rest of the world aswell
[03:21:51] <bjz> doomlord: I'm pretty sure it will
[03:22:03] <bjz> doomlord: It's a marked improvement on what we had
[03:22:09] <bjz> doomlord: and what I had
[03:22:34] <doomlord> when they're implemented for complex the various traits would be more closely inter-related  but thats not a problem at all
[03:22:50] <doomlord> i think the seperation for real numbers is much more useful
[03:23:01] <bjz> yup
[03:23:16] <doomlord> so for complex you could just dive in and implement "Transcendental"
[03:23:29] <doomlord> actually thats a good question
[03:23:47] <doomlord> how does the language syntax work for implementing grouped traits 
[03:24:15] <bjz> doomlord: I just do: impl Transcendental for float {}
[03:24:35] <bjz> doomlord: but it checks if there are impls of the other traits on it
[03:24:39] <doomlord> i was going to ask if that works,ok. (or if you'd have to implement each part, no bad thing either way)
[03:24:59] <bjz> doomlord: if none are found it won't compile
[03:25:25] <doomlord> default implementations will be handy when they work, you could implement sinh as listed on wikipedia, but then specialize it more efficiently when you want to 
[03:26:16] *** Joins: an0nymous (an0nymous@moz-A6B0CE4.tx.res.rr.com)
[03:26:28] <bjz> doomlord: aye, when we get them :)
[03:26:32] <bjz> doomlord: https://github.com/mozilla/rust/issues/4819#issuecomment-17148701
[03:27:08] * bjz wishes he knew who huonw was on IRC
[03:29:01] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:29:01] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/GwNh-g
[03:29:01] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:29:36] *** Quits: me (Mibbit@F4917647.AA764FEA.412C4E70.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:29:41] <tjc> bjz: I think huonw is dbuapp
[03:29:49] <tjc> if I spelled it right
[03:30:04] <bjz> ah ok
[03:30:26] <bjz> doomlord: we could just have 'Transcendental'
[03:30:46] <bjz> doomlord: having all those traits might be going overboard
[03:31:03] <bjz> tjc: cheers
[03:32:37] <doomlord> maybe
[03:33:29] <doomlord> trig & exp makes sense to me because there's times when i'd want one of those only, but you'll have to gather more opinions on this
[03:34:22] <doomlord> his point makes sense on putting hyperbolic in exp
[03:34:34] <doomlord> (^r.e. huonw's comment)
[03:35:08] <bjz> mmk
[03:38:11] *** Quits: int3_ (int3_@moz-B987FF6E.subnet-248.amherst.edu) (Client exited)
[03:39:26] <bjz> doomlord: Ok, I've switched to moving Hyperbolic into Exponential
[03:39:45] <bjz> but keeping Exponential and Triganomic separate
[03:40:14] <aatch> Triganomic -> Trigonomic? I don't think either of them are words
[03:40:41] <aatch> But given that it's trigonometry, not triganometry
[03:40:49] <doomlord> trigonometric ok
[03:41:01] <bjz> oh woops
[03:41:04] <bjz> Trigonometric
[03:41:07] <bjz> :P
[03:41:10] <bjz> fixed
[03:41:11] <bjz> heh
[03:41:13] <aatch> Or that.
[03:41:27] <strcat> or just call it Trig? ;p
[03:42:09] <doomlord> Trig , Exp, Trans .. transendental is the odd one out because its more ambiguous shortened :(  messy name
[03:42:12] *** Joins: rust-lover (chatzilla@82DFEEA3.D0DF3C31.443E7CDD.IP)
[03:42:51] <bjz> yeah
[03:42:54] <bjz> :(
[03:43:00] <doomlord> need text-editors with auto-abreviation
[03:43:15] <doomlord> pretty-mode in emacs is interesting
[03:44:19] <strcat> vim calls it conceal
[03:44:31] <strcat> if you're talking about what I think you are ;p
[03:45:39] * strcat hates it
[03:47:15] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[03:48:21] <rust-lover> any rust debugger ???
[03:48:37] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[03:48:37] *** ChanServ sets mode: +o tjc
[03:48:52] <strcat> rust-lover: gdb works, but debug symbol generation is very much a WIP
[03:49:25] <rust-lover> WIP ????
[03:49:30] <strcat> work in progress
[03:49:42] <rust-lover> hehe .. cool :p
[03:50:01] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[03:50:22] <Sodel_the_V> Yow. I shouldn't have roughed out my compiler patches on top of 0.6.
[03:50:27] <rust-lover> i had made a proposal for debug symbol generation and i want to make sure that .. it is good enough 
[03:50:43] <Sodel_the_V> Anybody know if there's a "right" way to get a TraitStore from a trait's def id?
[03:50:46] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[03:51:03] <Sodel_the_V> (In master/incoming)
[03:51:07] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[03:52:12] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[03:52:14] *** Joins: int3_ (int3_@moz-B987FF6E.subnet-248.amherst.edu)
[03:56:33] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[03:58:11] <strcat> heh I keep hitting these wonderful type/lifetime inference bugs
[03:58:37] <Sodel_the_V> strcat: Blagh, fun. :P
[03:58:44] <strcat> /home/strcat/projects/rust/src/libcore/hashmap.rs:760:60: 760:61 error: mismatched types: expected `&fn(&'a) -> bool` but found `&fn(+:&'a) -> bool` (expected concrete lifetime, but found bound lifetime parameter &)
[03:58:49] <strcat> whatever that's supposed to mean
[03:58:59] <lieshidden> The joys of programming :)
[03:59:09] <strcat> +:? :\
[03:59:39] <strcat> killing off old_iter will have to wait ;p
[04:00:14] <Sodel_the_V> YOW. Did that message really say '&' is a bound lifetime parameter?
[04:00:30] <strcat> I don't understand anything it says. ;p
[04:00:33] *** Quits: thou (thou@moz-1C1CA9F7.fasttrackcomm.net) (Input/output error)
[04:00:41] <doomlord> bjz, heh now the hard part, agreeing on names...
[04:00:44] <Sodel_the_V> Haha, neither do I.
[04:01:18] <Thad> I vote for.... Bacon.  it's a nice name.
[04:01:27] <bjz> Bob?
[04:01:29] <lieshidden> Mmmmmm Bacon......
[04:01:29] <lieshidden> :P
[04:01:55] <strcat> I have a feeling this is the same bug, over and over in different ways
[04:02:04] <doomlord> (maths trait - vectorized fixed point sin/cosine.. does that appear in decompression)
[04:02:35] <doomlord> fourier transforms.. inputs & outputs in well defined ranges
[04:02:58] *** Quits: joshua_ (joshua@moz-45967CBE.emarhavil.com) (Ping timeout)
[04:03:33] <bjz> Thad: https://github.com/mozilla/rust/issues/4819#issuecomment-17149270
[04:03:53] <bjz> :)
[04:05:02] *** Joins: int3__ (int3_@moz-B987FF6E.subnet-248.amherst.edu)
[04:05:02] *** Quits: int3_ (int3_@moz-B987FF6E.subnet-248.amherst.edu) (Connection reset by peer)
[04:05:10] <Thad> LOL
[04:05:28] <lieshidden> MaCon = Mathematical Constructs :P
[04:05:36] <lieshidden> Even sounds like bacon out loud lol
[04:06:05] <bjz> doomlord: So are you cool with removing Transcendental and just putting them on Real?
[04:06:39] <doomlord> just thinking..
[04:06:51] <doomlord> its quite possible having exp+trig means transcendental is unecassery
[04:07:02] <bjz> Personally I think the longer names are better
[04:07:07] <doomlord> it would be easy to write a new type saying :Exp+Trig?
[04:07:09] <bjz> more flexible in the long term
[04:07:10] <Thad> bjz: Real Bacon bits ... LOL
[04:07:30] *** Quits: rust-lover (chatzilla@82DFEEA3.D0DF3C31.443E7CDD.IP) (Quit: ChatZilla 0.9.90 [Firefox 20.0/20130329030848])
[04:07:39] <bjz> doomlord: of course. you mean in your own code?
[04:08:11] <doomlord> yeah.. if i go ahead and make a fixed point type,  or wrap-round angle or whatever
[04:09:23] <doomlord> just recently i was talking to someone about color conversions  .. converting 565 to 8888 - and there you dont actually want it to be a plain bitshift to transform them..
[04:09:46] <doomlord> its better when 255=1.0  and 31/63,31 = 1.0 ... 
[04:09:54] *** Joins: dbaupp (Thunderbir@99439820.D5A1DCF.37681C44.IP)
[04:10:35] <doomlord> in C++ i've seen people do dimensional types aswell
[04:10:53] <aatch> Dimensional types would be awesome.
[04:10:59] <doomlord> an interesting point mentioned on wikipedia is the transcendental functions all require dimensionless quantities
[04:11:17] <doomlord> so if you have a dimensioned type... you want to say it *DOESN'T* support exp,sin, ...
[04:11:17] <bjz> aatch: I know
[04:11:25] <bjz> aatch: you mean like F#?
[04:11:37] <doomlord> i should throw a note up about that, food for thought
[04:11:55] <aatch> I was thinking about the implementation I've seen in C++
[04:12:50] <bjz> aatch: http://msdn.microsoft.com/en-us/library/dd233243.aspx
[04:13:39] <bjz> aatch: I tried implementing an Angle trait with Radians and Degrees newtypes
[04:13:55] <bjz> but I ran into issues with conversions etc
[04:14:10] <aatch> Yeah, that's the kind of thing
[04:14:11] <bjz> operator overloading
[04:14:20] <bjz> would be super useful
[04:14:30] <bjz> also mod and range types like in Ada
[04:14:55] <bjz> http://stackoverflow.com/questions/16160717
[04:14:55] <aatch> So you could do stuff like go '1000cm/10s = 100cm/s'
[04:15:35] <bjz> aatch: yup
[04:16:01] <bjz> aatch: that fits with safety outside of 'memory' and 'null'
[04:16:32] <bjz> aatch: I just think of that Mars probe that crashed because they were using different units
[04:17:59] <aatch> Well you should be able to approximate dimensional types with associated items and types
[04:18:20] <ssbr> @str is the managed string type, ~str is the unique string type, *str is the raw string type. @"foo" is a managed string, ~"foo" is a unique string, *"foo" is an error.
[04:18:24] * ssbr sighs
[04:19:30] <aatch> ssbr, strings in rust contain the size, since raw pointers are only used for C integration and hacky tricks, *"foo" makes no sense
[04:20:02] <aatch> think of `*` as a "This could be null, but don't tell anyone" pointer.
[04:20:15] <aatch> Hence why de-referencing it is unsafe
[04:20:24] <strcat> or dangling
[04:20:27] <ssbr> aatch: Sometimes C integration requires passing strings! But it doesn't  make sense anyway, because I'm not saying how long I want the string (that the raw poiinter is for) to last
[04:20:54] <strcat> ssbr: there are APIs for getting a C string from &str
[04:20:56] <aatch> well "foo" is a static string, with a static lifetime.
[04:21:03] <ssbr> strcat: yes, I was just being lazy.
[04:21:12] <strcat> ssbr: &s[0]
[04:21:13] <ssbr> (and failing)
[04:21:19] <ssbr> strcat: eh?
[04:21:22] <strcat> if you don't mind it failing if it's empty
[04:21:38] <aatch> so the type of "foo" is &'static str
[04:21:45] <ssbr> aatch: right, that's what I wanted.
[04:21:47] <ssbr> Except a raw pointer to that
[04:21:53] <ssbr> so I have to use ptr::whateverthatfunctionwas
[04:22:12] <aatch> ssbr, borrowed pointer to the first character. that is what strcat wrote
[04:22:15] <strcat> ssbr: &s[0] will give you &u8 and will coerce to *u8
[04:22:39] <strcat> will fail if it's non-empty and won't have a \0 where you want it if it's a slice into something
[04:23:02] <strcat> rusti: #[link_args = "-lalpm"] extern { fn alpm_pkg_vercmp(a: *u8, b: *u8) -> libc::c_int; }; unsafe { alpm_pkg_vercmp(&"1.1"[0], &"2.2"[0]) }
[04:23:04] <rusti> -1
[04:23:12] <ssbr> strcat: I was going to write something using str::as_buf
[04:23:20] <ssbr> I don't know why there's no str::to_buf. It makes me sad.
[04:23:22] <strcat> rusti: #[link_args = "-lalpm"] extern { fn alpm_pkg_vercmp(a: *u8, b: *u8) -> libc::c_int; }; unsafe { alpm_pkg_vercmp(&"5.2"[0], &"2.2"[0]) }
[04:23:24] <rusti> 1
[04:23:32] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Ping timeout)
[04:24:09] <aatch> ssbr, there's no to_buf because of lifetime rules.
[04:24:19] <aatch> You can just move the pointer out of the closure though
[04:24:28] <doomlord> something mentioned somewhere was the concept of integers which exist as array-indices
[04:24:30] <ssbr> Right, I can, which is why I don't understand why there's no to_buf
[04:24:31] <aatch> or copy it rather
[04:24:41] <ssbr> raw pointers are unsafe, so why try to write a safe API around them?
[04:24:49] <ssbr> or rather
[04:25:01] <ssbr> why make doing the unsafe thing you know will work unreasonably hard? I don't know.
[04:25:02] <ssbr> Bleh.
[04:25:11] *** Quits: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com) (Quit: ChatZilla 0.9.90 [Firefox 21.0/20130423212553])
[04:25:12] <ssbr> The pointer will be &
[04:25:15] <ssbr> &'static anyway
[04:25:36] <doomlord> could you sometimes make safe-able C wrappers around the C functions needing unsafe interfaces
[04:25:36] <aatch> Also, quite a lot of cases work fine with just putting what you want to do inside as_buf
[04:25:54] <doomlord> (C side wrappers)
[04:26:01] <strcat> doomlord: no
[04:26:03] <strcat> not really
[04:26:15] <strcat> any function that takes * and derefs it is unsafe
[04:26:16] <aatch> But rust gives you pretty much all you need
[04:27:20] <strcat> doomlord: unless it's just a poorly designed lib and needs something like a global lock ;p
[04:27:36] * ssbr eyes Python warily
[04:29:52] <ssbr> This is annoying. "*libc::c_char" is the same as "*u8", but str::as_buf gives me *i8
[04:30:00] <ssbr> which Rust finds objectionable for obvious reasons
[04:30:13] <ssbr> should I just cast this, or is something wrong?
[04:30:14] <aatch> Yeah, I'm not sure why it's like that.
[04:30:18] <aatch> ssbr, you can cast it
[04:31:04] <strcat> tjc: https://github.com/mozilla/rust/pull/6106 r?
[04:31:04] <sp3d> "char" in C can be signed or unsigned, maybe that's related?
[04:31:22] <aatch> ssbr, do you need the length?
[04:31:33] <ssbr> aatch: I need it to be null-terminated
[04:31:40] <aatch> Use str::as_c_str
[04:31:43] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[04:31:54] <ssbr> as_buf says it does that
[04:31:56] <aatch> Which will also make sure it's null terminated
[04:32:02] <ssbr> oh wait
[04:32:16] <ssbr> as_buf mentions it, but somehow doesn't guarantee it, except it sort of guarantee sit's possible, maybe
[04:32:20] <ssbr> I don't get it. but the docs are bad.
[04:33:08] <aatch> as_buf says that the given length is one more than the "official" length of the string, so you can check for a null byte
[04:33:12] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[04:33:20] <ssbr> But it doesn't actually give you a null byte.
[04:33:35] <aatch> It doesn't guarentee it, no
[04:33:41] <aatch> since you can pass it a slice
[04:34:07] <doomlord> what are your compile times like when working on the compiler .. does the crates system avoid the need for everything being a build-ll
[04:34:09] <aatch> Oh, btw, don't copy out of as_c_str
[04:34:21] *** Quits: int3__ (int3_@moz-B987FF6E.subnet-248.amherst.edu) (Client exited)
[04:34:28] <aatch> doomlord, generally everything gets rebuilt
[04:34:31] <ssbr> I don't know what Python does with the string I give it.
[04:34:57] <ssbr> aatch: if I have a string "abc", is it actually null-terminated, so that if I pass in the whole string to as_buf, it'll have a null-terminated result?
[04:35:01] <aatch> ssbr, surely the docs say either way.
[04:35:06] <aatch> Static strings are null-terminated
[04:35:18] <bjz> doomlord: https://github.com/mozilla/rust/wiki/Note-testsuite
[04:35:20] *** Quits: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net) (Ping timeout)
[04:35:59] <doomlord> thanks
[04:36:07] <aatch> Actually, all strings are null-terminated
[04:36:14] <ssbr> aatch: it does not say either way.
[04:36:16] <aatch> But slices into strings aren't
[04:36:19] <ssbr> It says: "Return the module object corresponding to a module name. The name argument may be of the form package.module. First check the modules dictionary if there’s one there, and if not, create a new one and insert it in the modules dictionary. Return NULL with an exception set on failure."
[04:36:22] <tjc> strcat: I think that change needs a little bit of discussion
[04:36:33] <ssbr> so I will use as_buf then
[04:36:39] <ssbr> (just in case)
[04:36:52] <aatch> well as_buf doesn't re-allocate either.
[04:37:19] <ssbr> aatch: ? That's what I want, isn't it?
[04:37:31] <aatch> Are you going to be using only static strings or user-supplied ones too?
[04:37:44] <ssbr> aatch: it is just a constant
[04:37:52] <aatch> Ok, then use as_c_str
[04:38:11] <ssbr> aatch: I thought you were implying that as_c_str creates a new null-terminated string with a limited lifetime
[04:38:26] <aatch> only if the given string isn't null terminated
[04:38:49] <ssbr> but if the given string is, then it just gives that buffer the same way as_buf does?
[04:38:52] <aatch> it checks for it, then either allocates a temporary or passes it through
[04:39:09] <aatch> it's so it can handle slices
[04:39:21] <ssbr> OK
[04:42:45] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[04:43:03] <Sodel_the_V> TraitRefs are making me despair of life.
[04:44:09] <tjc> Sodel_the_V: Sorry...
[04:44:11] <tjc> (I introduced them)
[04:44:31] *** Joins: int3_ (int3_@moz-B987FF6E.subnet-248.amherst.edu)
[04:44:32] <Sodel_the_V> Hahahaha, I'm being melodramatic.
[04:45:02] <tjc> life is nothing without the spice of melodrama :-)
[04:45:21] <Sodel_the_V> Haha, true!
[04:45:39] <Sodel_the_V> I just can't seem to figure out how to get a sty from a context and a def id.
[04:46:06] <Sodel_the_V> (I to get at TraitStores if I'm going to get trait inheritance to work with dynamic dispatch)
[04:46:14] <Sodel_the_V> I need to
[04:46:16] <Sodel_the_V> *
[04:46:26] <tjc> lookup_item_type or node_id_to_type
[04:46:26] <tjc> I forget which does what, both are in middle::ty
[04:46:33] <tjc> you also need ty::structure_of
[04:46:42] <Sodel_the_V> You are a godsend.
[04:46:44] <tjc> structure_of is used all over the place so there are plenty of examples :-D
[04:46:49] <tjc> heh, I spent too much time banging my head against that code
[04:47:11] <lieshidden> LoLz the joys of programming :D
[04:47:17] <Sodel_the_V> Haha, well thanks for not inflicting you past suffering upon the newbs!
[04:47:32] <Sodel_the_V> your*
[04:49:25] <ssbr> heghhhh
[04:50:39] <ssbr> actually I'll write code to demonstrate the problem. Der.
[04:50:53] <Sodel_the_V> Ah. I had tried lookup_item_type() before, so I was on the right track. But, that failed with "task failed at 'No def'n found for {crate: 0, node: 3} in tcx.tcache"
[04:51:47] <doomlord> is there a document generator for rust trait heirachies - and just thinking, does the rust compiler itself support or help writing such tools (like clang in c++ land)
[04:52:05] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:52:05] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Connection reset by peer)
[04:52:29] <doomlord> (spitting out the trait-graph as a dotfile i guess) ^^^ sorry graph not heirachy.
[04:54:21] <ssbr> How should I wrap C functions that expect function pointers?
[04:54:37] <ssbr> http://www.bpaste.net/show/KI9vCOAnV66fQHQm2bkp/ <-- this is what happens if I try to specify that the type is something like `extern "C" fn(X)->X`
[04:55:43] <ssbr> what should the type of foo be instead, that gives me some type safety, but also actually works? (AFAIK *u8 would work, but then I could pass in functions with completely the wrong signature?)
[04:55:47] *** Quits: dbaupp (Thunderbir@99439820.D5A1DCF.37681C44.IP) (Ping timeout)
[04:55:58] <ssbr> er sorry
[04:56:03] <ssbr> what should the type of blah be
[04:56:10] <Sodel_the_V> tjc: So, it seems that at least some traits' types aren't ending up in the tcache
[04:56:23] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[04:56:25] <ssbr> (indeed, *u8 does work)
[04:56:30] <tjc> Sodel_the_V: I'm on a train and about to get off, but feel free to ping me tomorrow sometime between 10-6 Pacific time if you want help debugging that :-)
[04:57:16] <Sodel_the_V> tjc: Will do, I appreciate it! :-)
[04:58:08] <tjc> Sodel_the_V: No problem, I sort of dropped this whole collection of bugs like a hot potato, so the least I can do is help someone else pick up some of it :-)
[04:58:19] <SiegeLord> ssbr, Assuming you have a sane C API, I'd wrap the C function to take a Rust closure instead of an extern "C" function
[04:58:25] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Quit: Leaving.)
[04:58:42] <ssbr> SiegeLord: I'm writing the unsafe bindings first, then the safe bindings
[04:58:52] <ssbr> I'm just surprised that rust is less typesafe than C here
[04:59:11] <ssbr> it's forcing me to pass in an arbitrary *u8 thing, even though it could keep the information about type signatures
[04:59:38] <SiegeLord> I think there is a reason for that, but I forget what it is
[04:59:52] <ssbr> and why *u8? why not at least *DummyFunctionPointerType?
[05:00:06] <ssbr> This is very silly.
[05:00:16] <SiegeLord> *u8 is Rust's void*
[05:00:33] <Sodel_the_V> tjc: I can definitely see why. If I was less of a stubborn git, I'd probably have dropped it by now, too. :P
[05:00:49] <ssbr> SiegeLord: Ah, I see.
[05:01:06] <tjc> Sodel_the_V: well, stubbornness is a very important quality for programming, since the compiler and the hardware are always going to be more stubborn :-)
[05:01:15] <SiegeLord> ssbr, I think the point is that you can't call that extern "C" function from Rust code
[05:02:04] <SiegeLord> At least, that's what the manual says... I'm not sure how you can call extern mod functions... perhaps those are special
[05:02:19] <ssbr> yeah, some extern "C" functions you can call, and others you can't
[05:02:29] <ssbr> I think blah wants one of the first kind, and is being sent one of the second kind
[05:02:41] <ssbr> thus the type error
[05:02:46] <ssbr> Phooie.
[05:03:04] <ssbr> I don't like `extern "C"`. It's the most confusing thing in the rust language so far. :(
[05:03:12] <ssbr> except maybe do blocks
[05:03:32] <Sodel_the_V> tjc: For sure. If only we could make software run out of patience, and fix itself. :P
[05:03:52] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:04:24] <tjc> Sodel_the_V: someday, somedayâ€¦ and then our job will to be build and maintain the robots
[05:05:12] <Sodel_the_V> tjc: Which is a proposition both nice and horrifying :-P
[05:05:26] <tjc> indeed
[05:05:37] <SiegeLord> ssbr, I don't think extern mod functions are extern "C"
[05:05:50] <SiegeLord> My tests indicate that they are extern "Rust"
[05:06:12] <SiegeLord> So there's really nothing you can assign to a variable with type myfunctype
[05:06:14] <ssbr> oh
[05:06:19] <SiegeLord> (unless you use transmute)
[05:06:20] <ssbr> I guess it'd be `extern "C" mod`
[05:06:33] <ssbr> anyway, I replaced extern mod with extern "C", because extern mod is inflexible and awful
[05:06:36] <Sodel_the_V> tjc: It's getting late here too, so I should get off before the night becomes morning. Thanks again for the guidance!
[05:06:43] <ssbr> (it doesn't let you rename types for convenience)
[05:06:51] <tjc> Sodel_the_V: No worries, ping me tomorrow or any other time; usually I'm around during Pacific time business hours
[05:06:59] <SiegeLord> extern mod defaults to "C" abi
[05:07:18] <ssbr> SiegeLord: well what does extern "Rust" mean if it has a C ABI?
[05:08:37] <SiegeLord> Actually... I don't think extern mod "C" is even documented, I don't know what that does
[05:08:41] <Sodel_the_V> tjc: Excellent, same here. Will do! 'Night!
[05:08:59] <ssbr> extern "C" isn't even documented, so who knows anything?
[05:09:07] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Time for resting)
[05:09:25] <ssbr> I just do what people in here tell me to do and hope I don't regret it later
[05:10:30] <SiegeLord> I guess I don't even know where I learned extern "C" XD
[05:10:43] <SiegeLord> Probably looking at somebody else's code
[05:10:57] <ssbr> SiegeLord: aha!
[05:11:21] <ssbr> SiegeLord: so what happens is that if you define an `extern "C"` fn, then it has type `extern "C" fn(...)->...`
[05:11:30] <ssbr> even if you call it, that works
[05:11:44] <ssbr> but somehow if it's used in an expression otherwise, it's a *u8?
[05:13:17] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[05:13:28] <ssbr> oh!
[05:13:37] <ssbr> no, it's the unsafe block that's responsible
[05:13:38] <SiegeLord> Err, why do you say that works
[05:13:57] <SiegeLord> error: Calls to C ABI functions are not (yet) supported; be patient, dear user
[05:15:00] <ssbr> man
[05:15:23] <ssbr> so blah = foo; foo has tupe *u8. blah = unsafe { foo}; foo has type extern "Rust" unsafe fn(i8) -> i8
[05:15:49] <ssbr> foo being declared as: extern "C" {fn foo(c: libc::c_char) -> libc::c_char;}
[05:16:01] <ssbr> SiegeLord: I say that extern "C" functions are callable because I've called them, but I'm wrong
[05:16:14] <ssbr> functions defined in an extern "C" block are callable, but apparently they are actually extern "Rust" unsafe functions
[05:16:32] <ssbr> It doesn't make sense to me, but there you go.
[05:16:52] <ssbr> as I said, extern "C" is very confusing :(
[05:17:04] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[05:17:04] *** ChanServ sets mode: +o tjc
[05:17:19] <lieshidden> If Mozilla does a free class, like online or something, I'm definitely joining it! lol
[05:17:32] <ssbr> lieshidden: isn't that what the rust tutorial is?
[05:17:34] <ssbr> ;)
[05:17:48] <lieshidden> No,I mean an instructor lead class lol, or expert lead, anyway.
[05:18:04] <ssbr> lieshidden: the rust tutorial was written by many experts!
[05:18:19] <ssbr> lieshidden: is there something you're having trouble with?
[05:18:19] <lieshidden> True, but I can't ask questions about things to a tutorial ;)
[05:18:28] <ssbr> lieshidden: you can't?
[05:18:31] <ssbr> I've done it
[05:18:39] <lieshidden> lol
[05:18:39] <ssbr> oh, "to" a tutorial
[05:18:46] <ssbr> lieshidden: ask questions about the tutorial in here
[05:18:49] <SiegeLord> Huh... I don't even know what the heck extern {} is
[05:18:51] <ssbr> or on Rust-Dev (the mailing list)
[05:19:00] <ssbr> SiegeLord: Me neither! It terrifies me!
[05:19:11] <SiegeLord> It seem to act as extern mod {} though
[05:19:32] <lieshidden> Still, it might be handy if they did do an online class or something, a video chat with several interested students, with full on examples, and not just code snippets.
[05:19:33] <ssbr> Right, excelt unlike extern mod {} it has a decent syntax (e.g. you can define structs in there, do type assignments, make "use" statements, etc.)
[05:19:47] <ssbr> er well
[05:20:03] <ssbr> you can do those in a mod { ... } which can have an extern { ... } inside it
[05:20:26] <ssbr> I was very happy to stop using extern mod { }
[05:20:33] <SiegeLord> Hmm, I guess I've been using extern all along, oh well
[05:20:37] <strcat> tjc: if only there was a way to tag pull requests
[05:20:59] * strcat will just edit the title
[05:21:07] <tjc> lieshidden: if you can come to Open Source Bridge in Portland Oregon in June, I'm giving a Rust tutorial there :-)
[05:21:22] <ssbr> UGH
[05:21:24] <lieshidden> God I wish I could.  I'm broke, no way to get to Portland :(
[05:21:28] <SiegeLord> So there's extern block, extern mod, and extern function declaration... the first two produce Rust functions that call foreign code, the second produces a C function that can't be called from Rust
[05:21:41] <ssbr> I can't initialize a static struct to contain nulls inside it, because ptr::null() is a function, and only constructors can be called?
[05:21:45] <ssbr> that's absurd!
[05:21:49] <tjc> lieshidden: Yeah, I hear you :-( As the community gets bigger, hopefully there will be user groups in various places! (I can dream...)
[05:21:50] *** Joins: echristo (echristo@moz-7C5DCA3F.w82-127.abo.wanadoo.fr)
[05:21:59] <ssbr> How do I define a static null?
[05:22:13] <lieshidden> Still, if you record it and upload it to youtube, I know I will watch it ;)
[05:22:14] <strcat> tjc: if we all go live in seoul ;)
[05:22:24] <tjc> strcat: Heh, well, I like the food, anyway.
[05:22:52] <ssbr> Actually, forget it, I'll define it a different way. Yikes. Wow. That was terrifying.
[05:23:29] <lieshidden> Hahaha, we could all move to Japan :P
[05:24:32] <lieshidden> Get the Japanese on board with Rust, and the rest of the world will follow.  LoL
[05:26:04] <tjc> TBH I'd rather if everyone moved to Vancouver :-)
[05:26:04] <tjc> but that's because I'm a lazy, entitled monolingual English speaker
[05:27:05] * lieshidden chuckles
[05:27:26] <ssbr> With a lot of money to pay for rent :(
[05:27:43] <ssbr> clearly we should do toronto instead
[05:28:44] <tjc> people keep saying Vancouver is expensive, but with a sample size of one, rent is half what it is in San Francisco :-)
[05:29:44] <ssbr> oh
[05:29:51] <ssbr> So it's still ridiculously expensive, then? ;)
[05:30:01] <tjc> I guess it's all a matter of perspective :-)
[05:30:53] <ssbr> Mmm, how do I create &'static pointers, in general?
[05:31:11] <ssbr> I wanted to define an array of structs statically, but it needed function calls. Nonetheless the lifetime needs to be indefinite.
[05:31:38] <ssbr> I tried "let foo: &'static [Struct] = &'static [ ...]", but rust told me the lifetime wasn't long enough to borrow the pointer.
[05:31:55] <tjc> static is the default lifetime
[05:32:17] <tjc> so if something says it wants an &'static thing, it means it wants a borrowed pointer whose lifetime the compiler knows is the same as the entire execution of the program
[05:32:21] <tjc> in other words, it's the longest possible lifetime
[05:32:40] <ssbr> The compiler does not seem to agree that static is the default lifetime
[05:33:22] <ssbr> rusti: let a: &'static [int] = []; a
[05:33:24] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/PPOA
[05:33:29] <tjc> well, it's telling you that you're wrong :-)
[05:33:33] <tjc> a is a stack-allocated variable
[05:33:39] <tjc> so its lifetime is the stack frame in which it was allocated
[05:33:57] <ssbr> tjc: That's why I asked how I can create something that lives forever
[05:34:24] <ssbr> It would be a static except that the rust syntax forbids it, but that's fine, as long as I can make it live forever.
[05:34:45] <ssbr> (eh, the rust compiler forbids it? Something forbids it.)
[05:35:06] *** Joins: joshua_ (joshua@moz-45967CBE.emarhavil.com)
[05:35:07] <ssbr> rusti: let a: &'static [int] = &'static []; a
[05:35:09] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/SRYe
[05:35:21] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[05:35:30] <ssbr> That's my best guess. I don't know what else to try. :(
[05:36:54] <ssbr> Is this even possible?
[05:36:54] *** Joins: Cromulent (Cromulent@moz-5EAC0C2F.cable.virginmedia.com)
[05:37:35] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[05:37:35] *** ChanServ sets mode: +o tjc
[05:37:55] <ssbr> Oh, I know! Maybe I should make a mutable unique pointer that's initialized to something useless, and then rebind it to point to the thing that I want to live forever
[05:37:58] <ssbr> that should keep it around
[05:38:06] <ssbr> I just don't want the raw pointer to point to garbage
[05:38:44] <ssbr> a mutable static unique pointer*
[05:38:58] <ssbr> tjc: please tell me there's a better way
[05:39:51] <tjc> ssbr: I am not entirely sure I get what you're trying to do, and I'm about to get off a train (for real this time) :-( --
[05:40:02] <tjc> I suggest asking again tomorrow, me and other folks will be around!
[05:40:06] <ssbr> tjc: I need to create a pointer that lives forever, within a function
[05:40:10] <ssbr> deliberate memory leak
[05:40:24] <ssbr> also, later
[05:40:39] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Quit: Places to go, people to annoy)
[05:40:52] <ssbr> Anyone else want to venture something less crazy? :(
[05:43:02] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[05:43:19] <ssbr> UGH
[05:43:26] <ssbr> I can't do what I said, because statics can't be mutable
[05:43:34] <ssbr> This is completely absurd
[05:43:50] <SiegeLord> mutable static will be implemented eventually
[05:44:03] <ssbr> I don't really want a mutable static, I want a pointer that lives forever
[05:44:37] <SiegeLord> Don't really know what that means
[05:45:21] <ssbr> SiegeLord: I want to create some data which exists until the end of the process, so that I can pass a pointer to that data to C, and that pointer will never be invalidated
[05:45:22] <SiegeLord> fn main() { let a = ~[1, 2, 3]; // a lives forever }
[05:45:37] <ssbr> SiegeLord: but what about in fn not_main() {} ?
[05:45:52] <ssbr> (this is a library)
[05:46:12] <ssbr> oh wait
[05:46:13] <ssbr> haha
[05:46:15] <ssbr> I can just use malloc
[05:46:18] <ssbr> silly me
[05:46:31] <ssbr> I don't want to, but that'd work
[05:46:57] <doy> ssbr: if the idea is to just pass ownership of the pointer to something inside c, cast::forget may be helpful
[05:47:40] <ssbr> doy: OH!
[05:47:54] <ssbr> doy: so if I had a unique pointer and used cast::forget, that unique pointer would never be garbage collected?
[05:48:04] <ssbr> That would be absolutely perfect!
[05:48:05] <doy> i believe so
[05:48:12] <ssbr> Yes, that's exactly what I want then.
[05:48:18] <ssbr> doy: Thank you! :>
[05:52:39] <Jeaye> bjz: Did Steven figure out the Q3 problem(s)? I don't see him saying anything after he said he'd post the errors (which makes me think he solved it).
[05:52:56] <bjz> Jeaye: no idea
[05:53:06] <bjz> Jeaye: I wish he would have posted
[05:53:15] <Jeaye> Yeah.
[05:53:22] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[05:53:33] *** Joins: dbaupp (Thunderbir@moz-54C82BBE.lns20.syd6.internode.on.net)
[05:53:42] <bjz> Jeaye: Whe folks say "I have linking errors" it doesn't really help that much
[05:53:56] <bjz> :(
[05:53:59] <Jeaye> Yeah.
[05:54:21] <Jeaye> For the record, glfw _and_ glfw-rs are submodules (updated by ./configure) so it's odd he'd be getting linker errors.
[05:54:35] <Jeaye> Didn't say the platform either.
[05:54:44] <Jeaye> If it's Windows... he's on his own for now.
[05:55:25] <bjz> Jeaye: would you be able to help me with getting glfw integrated as a submodule of glfw-rs?
[05:55:43] <Jeaye> Sure.
[05:56:09] <bjz> That would certainly help with smoothing over problems
[05:56:32] <Jeaye> You want it in a lib/ directory?
[05:57:04] <Jeaye> I can just make the changes on a branch and submit a PR for you to merge in.
[05:57:07] <bjz> Jeaye: I currently have lib as where it builds to
[05:57:25] <bjz> we could rename it to build maybe?
[05:57:38] <bjz> yeah that would be best :)
[05:57:55] <Jeaye> There's no lib directory in the repo though.
[05:58:10] <bjz> ahh, I think the makefile does it
[05:58:22] <bjz> but yeah, feel free to nuke the makefile
[05:58:33] <Jeaye> Ok. I'll do it now.
[05:58:50] <bjz> it might make things simpler on your end too
[05:59:10] *** Joins: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr)
[05:59:11] <Jeaye> Aye.
[05:59:24] * bjz hopes rustpkg will make it easier
[05:59:43] *** Quits: dbaupp (Thunderbir@moz-54C82BBE.lns20.syd6.internode.on.net) (Ping timeout)
[06:03:43] *** Joins: dbaupp (Thunderbir@moz-E5F47859.lns20.syd7.internode.on.net)
[06:04:12] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[06:05:41] <Jeaye> bjz: You want it to make glfw whenever glfw-rs is built? Then use the shared objects locally?
[06:05:56] <Jeaye> Instead of forcing them to be installed.
[06:06:59] <bjz> hmm, actually - sorry to be a pain but I'm having second thoughts. glfw3 is about to be released. by that time it'll be out on the package managers
[06:07:25] <bjz> what do you think?
[06:07:52] *** Quits: igl (igl@moz-1E83D773.adsl.alicedsl.de) (Quit: Leaving.)
[06:07:58] <bjz> would users want to use their own installation?
[06:08:12] <Jeaye> Mayhaps. 
[06:08:24] <joshua_> Okay, so, I am going back to looking at rust again, and trying to teach myself modern Rust by writing an assignment for a Coursera class I'm taking using it.  One of the things I would do if I were writing this code in C is incrementally assign fields of a struct.  Is that a thing that there's an idiom for in Rust?
[06:08:43] <bjz> Jeaye: yeah maybe just hold off for now
[06:08:53] <bjz> Jeaye: I'll have a think
[06:09:01] *** Joins: skippydippy (Mibbit@E248DB08.9470356F.5B864609.IP)
[06:09:12] <bjz> Jeaye: sorry if you were half-way through doing it
[06:09:22] <dbaupp> joshua_: do you mean s.x = 1; s.y = 2; etc.?
[06:09:26] <joshua_> (For instance, I have a struct grid, say, with fields 'xsz', 'ysz', 'bendp', 'viap', all i32s; I'd like to initialize each of them as I read them from a file.)
[06:09:29] <Jeaye> No worries. It's a trivial task.
[06:09:50] <joshua_> dbaupp, Right, although not necessarily witha ny initial value (i.e., "please stop me if I actually try to hand this struct to anyone as a complete struct").
[06:10:11] <joshua_> I suppose that if I had to, I could let mut, then initialize the struct with bogus values, and then fill it in as I go.
[06:10:25] <dbaupp> joshua_: I think the idiom would be to read the xsz, ysz into local variables and then set the struct at then once you've read them all
[06:10:31] <joshua_> nod
[06:10:42] <Jeaye> bjz: Let me know if you deicde you need help. I can either walk you through the git steps or submit a PR.
[06:10:46] <dbaupp> *the end
[06:10:57] <joshua_> Okay, thanks.
[06:12:49] <bjz> Jeaye: sure! anyway, must head off :)
[06:13:37] <Jeaye> Later
[06:14:09] *** Quits: dbaupp (Thunderbir@moz-E5F47859.lns20.syd7.internode.on.net) (Ping timeout)
[06:14:16] <joshua_> On another 'noob' note: is there a tutorial somewhere on common idioms for I/O in Rust?
[06:14:38] <aatch> joshua_, nope. The entire IO library is being rewritten atm
[06:14:46] <joshua_> (For instance, I'd like to just iterate through a file line by line, and do something approximating a fscanf().)
[06:14:47] <joshua_> Oh good.
[06:14:57] <aatch> so if there were idioms for it, they'd be obsolete soon.
[06:16:05] <joshua_> Well, the I/O isn't the core of my logic, anyway, so I suppose it's not the end of the world.  Where should I start looking for the current way to do things?  (I'm using 0.6.)
[06:16:20] <aatch> Good question.
[06:16:30] * aatch doesn't know the answer
[06:16:54] <aatch> I learned a lot of rust from the compiler, but the compiler is a terrible place to learn good rust code.
[06:17:05] <aatch> Some of the modules in std are quite good
[06:17:30] *** Joins: dbaupp (Thunderbir@moz-FF3251AF.lns20.syd6.internode.on.net)
[06:17:31] *** Quits: kripton (kripton-mo@moz-B2051A72.kripserver.net) (Ping timeout)
[06:17:40] <aatch> Otherwise, Rust is still in a "if it works, that is the right way" kind of situation
[06:18:52] *** Joins: kripton (kripton-mo@moz-B2051A72.kripserver.net)
[06:19:09] <joshua_> I suppose.  I'm not even sure how I might open a file, looking at http://static.rust-lang.org/doc/0.6/core/io.html -- there are a lot of methods, and grepping for 'open' gives nothing.
[06:20:26] <mcpherrin> http://mcpherrin.ca/tmp/UVj here's the slurp an entire file into a buffer that I tend to use
[06:20:38] *** Quits: kripton (kripton-mo@moz-B2051A72.kripserver.net) (Ping timeout)
[06:20:59] *** Joins: kripton (kripton-mo@moz-B2051A72.kripserver.net)
[06:21:17] <joshua_> Sounds good; I can live with that.  How do people tend to do basic parsing?
[06:23:41] *** Joins: guacamole (Mibbit@E248DB08.9470356F.5B864609.IP)
[06:23:42] *** Joins: bheylin_ (brianheyli@EE991951.825D5C9D.D946D9FC.IP)
[06:24:32] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[06:35:43] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.0)
[06:38:20] *** Quits: dbaupp (Thunderbir@moz-FF3251AF.lns20.syd6.internode.on.net) (Ping timeout)
[06:43:10] *** Joins: dbaupp (Thunderbir@moz-8C50B360.lns20.syd6.internode.on.net)
[06:44:08] *** Joins: fabiand (fabiand@moz-58E5D6CF.adsl.alicedsl.de)
[06:45:26] <ssbr> joshua_: by hand, at the moment
[06:45:36] <ssbr> Or, well, there was that one parser combinator library
[06:46:54] *** Quits: dbaupp (Thunderbir@moz-8C50B360.lns20.syd6.internode.on.net) (Ping timeout)
[06:47:26] <joshua_> nod.
[06:47:46] *** Quits: Cromulent (Cromulent@moz-5EAC0C2F.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[06:47:48] <mcpherrin> There was also rust output for ragel, dunno if it's up to date or where it is though
[06:47:50] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[06:48:24] <joshua_> I think I have found a 'most stupid possible' way to do what I want, thankfully.
[06:49:18] <kimundi> DanC: If you still wondering what happended to str::view: It gor renamed to slice, and the old str::slice removed
[06:49:48] <kimundi> ssbr: Do you still have questions about how null termination is handled in rust?
[06:50:00] <ssbr> kimundi: no, it looked straightforward to me
[06:50:04] *** Joins: dbaupp (Thunderbir@moz-48DECE7A.lns20.syd6.internode.on.net)
[06:50:06] <ssbr> Thank you, though :)
[06:50:54] <kimundi> okay :)
[06:51:04] *** Joins: feider (feider@moz-32E459E0.wlan.uni-jena.de)
[06:51:20] <ssbr> I actually wrote my first pure-rust extension module for Python
[06:51:28] <ssbr> which is nice!
[06:51:49] *** Quits: dbaupp (Thunderbir@moz-48DECE7A.lns20.syd6.internode.on.net) (Ping timeout)
[06:51:49] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[06:52:02] <ssbr> At this point I don't "need" to do any extra work, with some packaging, anyone can write extension modules in Rust and write bindings with Cython or cffi.
[06:52:25] <ssbr> (Or I can write a decent wrapper around the C-API so that one doesn't have to use Cython or cffi)
[06:55:28] <aatch> ssbr, awesome
[06:56:58] <ssbr> Thank you! :)
[06:58:55] <ssbr> Of course, I don't trust it to be very stable until your PR is accepted ;)
[06:59:03] *** Joins: dbaupp (Thunderbir@moz-741FDEB9.lns20.syd6.internode.on.net)
[07:02:47] <doomlord> rust doesn't allow scope blocks - should i just write if true{  ......} to do one of those
[07:03:04] <aatch> doomlord, it does allow scope blocks
[07:03:23] <doomlord> ok i got that idea from somewhere wrongly
[07:03:41] <aatch> rusti: let a = { let a = 1; a + 1 }; a
[07:03:42] <rusti> 2
[07:04:09] <aatch> blocks in rust are just expressions
[07:04:46] <aatch> some blocks have a special keyword attached (i.e unsafe) but that's about it
[07:07:00] *** Joins: berak (chatzilla@4F6FF3B7.C4D4A1E0.1A5CC7E5.IP)
[07:07:00] *** Quits: echristo (echristo@moz-7C5DCA3F.w82-127.abo.wanadoo.fr) (Quit: echristo)
[07:07:13] *** Quits: feider (feider@moz-32E459E0.wlan.uni-jena.de) (Client exited)
[07:07:34] *** Quits: kripton (kripton-mo@moz-B2051A72.kripserver.net) (Ping timeout)
[07:08:47] *** Joins: cdidd (cdidd@moz-1E71B9EC.broadband.corbina.ru)
[07:12:13] *** Joins: kripton (kripton-mo@moz-B2051A72.kripserver.net)
[07:14:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:14:03] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/YcZh0g
[07:14:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:14:04] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:14:04] <ghrust> 01[13rust01] 15bors pushed 31 new commits to 06auto: 02http://git.io/LoyIIw
[07:14:04] <ghrust> 13rust/06auto 14a2493ad 15John Clements: change stage1,stage2,stage2 into not(stage0)...
[07:14:04] <ghrust> 13rust/06auto 14c73a9c9 15John Clements: refactoring mod.rs
[07:14:04] <ghrust> 13rust/06auto 142b7f1a4 15John Clements: parser comments only
[07:14:04] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:17:10] *** Parts: berak (chatzilla@4F6FF3B7.C4D4A1E0.1A5CC7E5.IP) ()
[07:17:58] *** Quits: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP) (Ping timeout)
[07:19:11] *** Joins: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP)
[07:19:39] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[07:20:41] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Quit: victorporof)
[07:23:59] *** Quits: dbaupp (Thunderbir@moz-741FDEB9.lns20.syd6.internode.on.net) (Ping timeout)
[07:24:49] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[07:27:24] *** Joins: dbaupp (Thunderbir@moz-FC4A6075.lns20.syd6.internode.on.net)
[07:28:07] *** Quits: bheylin_ (brianheyli@EE991951.825D5C9D.D946D9FC.IP) (Ping timeout)
[07:30:01] *** Quits: dbaupp (Thunderbir@moz-FC4A6075.lns20.syd6.internode.on.net) (Ping timeout)
[07:33:41] *** Joins: dbaupp (Thunderbir@moz-C9958901.lns20.syd6.internode.on.net)
[07:34:39] *** kimundi is now known as zz_kimundi
[07:35:44] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Connection reset by peer)
[07:41:24] <aatch> number of years you can represent with a signed 32bit integer: ~68.051513534 with a signed 64bit integer: ~292279025208
[07:45:37] *** Joins: seth (seth@moz-D840E602.dsl.static.sonic.net)
[07:46:04] <SiegeLord> I'll be counting on Rust to get us off the planet once the Sun explodes! (and maybe a few other suns after that)
[07:46:24] <SiegeLord> Err... rather before it explodes, hopefully
[07:46:37] <aatch> lol
[07:47:40] <aatch> I'm working on a date/time library, figuring out the best representation
[07:50:51] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: zzzZZZzzz)
[07:50:59] <SiegeLord> D uses hectonanoseconds as the base unit
[07:51:15] <SiegeLord> And then 64 bit integers storing that
[07:51:44] *** Joins: dr_bibble (Mibbit@F788D861.A9763F54.52949E6C.IP)
[07:52:04] <SiegeLord> Looks like a Windows thing... possibly used elsewhere
[07:52:53] <Ralith> aatch: a signed 64 bit integer representing what units?
[07:53:03] <aatch> seconds
[07:53:11] <Ralith> that seems awfully coarse
[07:54:00] <aatch> I was going to copy go and have a separate i32 for nanoseconds
[07:54:29] <SiegeLord> aatch, Make sure you allow float to whatever time units you choose conversion :P
[07:54:56] *** zz_kimundi is now known as kimundi
[07:54:56] <Ralith> aatch: don't you get overlap then?
[07:55:09] <aatch> I wouldn't use the entire i32
[07:55:43] *** Joins: pyrac (pyrac@moz-FA4351AE.members.linode.com)
[07:56:24] <aatch> but it's kinda hard to nicely fit 1_000_000_000 into a binary representation
[07:56:40] <aatch> technically i31 is closer, but that isn't really a thing...
[07:56:49] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[07:56:49] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[07:57:06] <ssbr> aatch: don't you miss Ada already? ;)
[07:57:16] <aatch> I never used Ada
[07:57:24] <ssbr> Oh. Someone was talking about Ada earlier.
[07:57:29] <SiegeLord> Wasn't aware Ada reconfigured your hardware to have 31 bit words :P
[07:57:29] <aatch> bjz I think
[07:57:54] * aatch tries to imagine what that hardware would be like
[07:57:57] <ssbr> I thought it was you because they were talking about units like seconds and so on. The relevant thing is that Ada lets you define a subtype of int that only goes from 0 to 1_000_000_000
[07:58:14] <ssbr> so then you get the static guarantee that it can't have any other value
[07:58:14] <aatch> I was talking to bjz about it, yeah
[07:58:33] <ssbr> (alternatively, don't you miss ATS? Everyone loves ATS.)
[07:59:21] <ssbr> {n:uint,n<1000000000} mything(x: int n) (* or something, I forget *)
[07:59:27] <ssbr> (dependent types are the best)
[07:59:57] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[08:00:16] <aatch> SiegeLord, what do you mean by float conversion?
[08:01:25] *** Quits: dr_bibble (Mibbit@F788D861.A9763F54.52949E6C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:01:28] <SiegeLord> Like... let future_date = date_now() + days(0.5);
[08:01:50] <Ralith> ssbr: that's why I'm hacking on Idris!
[08:01:59] <Ralith> ssbr: really, though, that should be Fin 1000000000
[08:02:12] <ssbr> AHHH IDRIS
[08:02:14] * ssbr cowers in fear
[08:02:26] * Ralith booga booga booga
[08:02:35] <Yoric> :)
[08:02:49] <aatch> I guess I could have the duration constructors take floats instead of ints
[08:03:16] <SiegeLord> An option would suffice
[08:04:37] <aatch> Well I'm planning on having an abstract duration object, so you could do Duration::days(1) to get one day
[08:05:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[08:05:09] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/LoyIIw
[08:05:09] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[08:05:25] <Ralith> float to integer conversion is less lossy than the reverse, given that your target range is quite small
[08:05:40] <Ralith> better to take integers as input and let users do the trivial conversion
[08:05:52] <SiegeLord> It's trivial, but very awkward
[08:06:08] <SiegeLord> You're essentially forcing a fixed point number representation onto the user
[08:06:41] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[08:07:37] * Ralith wonders when multiplication became "very awkward"
[08:08:09] <SiegeLord> Well, how would you represent days(0.5) with only integers are allowed?
[08:08:20] <Ralith> hours(12)
[08:08:21] <Ralith> :p
[08:08:31] <SiegeLord> Maybe you'd try hours(12)... but how about days(0.3)?
[08:08:33] *** Joins: Blub\w (wry@moz-49066677.wireless.dyn.drei.com)
[08:08:41] <SiegeLord> Now you have to go to minutes
[08:08:56] *** Joins: echristo (echristo@561907D1.648B0C34.5EFB9497.IP)
[08:09:12] <SiegeLord> You essentially make all those functions useless, because the only real useful function becomes nanoseconds(int)
[08:09:17] <aatch> The problem with floating point to integer conversion is that you can have stuff like 0.200000000001 which would add a tiny extra on
[08:09:29] <Ralith> ooooor you could use division
[08:09:36] <ssbr> aatch: where are you getting the API ideas from?
[08:09:43] <aatch> ssbr, all over.
[08:09:56] <ssbr> Like, I remember people seemed to be pretty happy with Python's datetime module. It has a timedelta like your Duration
[08:10:03] <Ralith> if you put a few seconds' thought into it it's no trouble
[08:10:12] <ssbr> and then you define an affine space over datetimes and timedeltas
[08:10:21] <ssbr> (I always wanted to say that, sorry)
[08:10:28] <ssbr> (you can add datetimes and timedeltas)
[08:10:36] <ssbr> Ralith: that line scares me
[08:10:37] <aatch> Same basic ideas as most libraries.
[08:10:42] <Ralith> ssbr: hm?
[08:11:00] <aatch> You have an Instant, an interval and a duration at minimum
[08:11:09] <ssbr> Ralith: It's not trivial to handle things like timezones correctly
[08:11:15] *** Quits: dbaupp (Thunderbir@moz-C9958901.lns20.syd6.internode.on.net) (Ping timeout)
[08:11:17] <Ralith> ssbr: oh, of course, that's much harder
[08:11:22] <Ralith> and also completely unrelated
[08:11:26] <ssbr> It is?
[08:11:30] * Ralith was talking to SiegeLord 
[08:11:31] <SiegeLord> Well, the floating point has issues with anything
[08:11:34] <ssbr> Ih,
[08:11:36] <ssbr> Oh.
[08:11:41] <aatch> SiegeLord, exactly my point.
[08:11:48] <SiegeLord> So why even have it :P
[08:11:54] <kimundi> There is a date libary bikashet on the wiki, have you losked at that?
[08:11:54] <aatch> Unless I explicitly truncate for each one.
[08:11:57] <ssbr> SiegeLord: floats are good for scientific measurements
[08:12:01] <aatch> kimundi, yup
[08:12:09] <aatch> It's where I'm getting most of my ideas
[08:12:13] <SiegeLord> Clearly those that use it will be aware of the representability issues
[08:12:23] <ssbr> SiegeLord: that isn't clear at all, and in fact isn't true.
[08:12:39] <SiegeLord> What isn't true
[08:12:42] <ssbr> I've talked to lots of people that wonder why 0.1 looks weird when they print it
[08:12:50] <aatch> rusti: 0.1
[08:12:51] <rusti> 0.1
[08:12:55] <aatch> dammit rusti
[08:12:57] <ssbr> aatch: not in Rust :p
[08:13:01] <aatch> rusti: 0.1f32
[08:13:02] <rusti> 0.1
[08:13:11] <aatch> nvm
[08:13:12] <Ralith> SiegeLord: floats don't magically become imprecise when you convert them to integers; that information is lost from the start
[08:13:25] <SiegeLord> Yes, and your point is?
[08:15:00] *** Joins: dbaupp (Thunderbir@moz-E5AD4827.lns20.syd6.internode.on.net)
[08:16:13] <kimundi> rusti: 1.1f31
[08:16:15] <rusti> foo.rs:5:13: 5:15 error: expected `;` or `}` after expression but found `31`
[08:16:15] <rusti> foo.rs:5          1.1f31
[08:16:15] <rusti>                       ^~
[08:16:32] <aatch> rusti: 1.1f32
[08:16:33] <rusti> 1.10000002
[08:16:39] <aatch> there we go
[08:16:45] <aatch> rusti: 1.1f64
[08:16:47] <rusti> 1.1
[08:17:07] <kimundi> rusfloating point, a 0.1 is precise
[08:17:37] <kimundi> its like a 1 or 1000
[08:17:43] *** Quits: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr) (Ping timeout)
[08:18:11] <aatch> Yeah, that makes sense
[08:19:35] <aatch> Hmm, would making duration constructors stop when it gets down to seconds work?
[08:19:56] <kimundi> rusti: f32::to_str(1.1f32)
[08:19:57] <rusti> ~"1.10000002384185791015625"
[08:21:25] <kimundi> and that happens if you calculate digits till all the remainder is 0 :P
[08:21:26] <dbaupp> rusti: f64::to_str(1.1f64)
[08:21:27] <rusti> ~"1.100000000000000088817841970012523233890533447265625"
[08:21:41] <aatch> So Duration::days(1.1) would actually be 95040 seconds(expected), not 95040 seconds and 2059936 nanoseconds
[08:22:19] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Input/output error)
[08:23:07] <aatch> it would mean a cut-off between super-second and sub-second durations, but I doubt it would cause many issues.
[08:24:05] <SiegeLord> Well, it's known how many significant decimal digits there are in f32 and f64
[08:24:42] <aatch> SiegeLord, some floating point numbers can be printed out to over significant 100 digits
[08:24:54] <SiegeLord> 7 and 15 respectively... so cutting off at the unit that's 10^-7 and 10^-15 seems reasonable
[08:24:55] <aatch> 100 significant I mean
[08:25:20] <kimundi> rusti: f32::to_str_radix(1.1f32, 2)
[08:25:22] <rusti> ~"1.00011001100110011001101"
[08:25:29] <SiegeLord> I'm not sure how you get a 100
[08:25:39] <SiegeLord> There are only 24 bits in the mantissa of a f32
[08:26:08] <aatch> It's only some, and all can be uniquely represented by only a few digits.
[08:26:53] <SiegeLord> If it's a few digits, then it's not 100 :P
[08:26:59] <kimundi> what digits? decimal, binary?
[08:27:01] <SiegeLord> 24 bits means there's 24 digits in base 2
[08:27:06] <aatch> decimal
[08:27:08] <SiegeLord> Any higher base will net you less digits
[08:27:24] <aatch> and uniquely represented is not the same as the number of significant digits.
[08:27:59] <aatch> It is the same reason why this is more than 7:
[08:28:01] <aatch> rusti: f32::to_str(1.1f32)
[08:28:02] <rusti> ~"1.10000002384185791015625"
[08:28:10] <dbaupp> rusti: f64::to_str(1.0 + f64::pow(2.0, -52.0))
[08:28:10] <aatch> rusti: f32::to_str(1.1f32).len()
[08:28:12] <rusti> ~"1.0000000000000002220446049250313080847263336181640625"
[08:28:12] <rusti> 25
[08:28:16] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:28:40] <SiegeLord> Those are not significant though
[08:28:42] <dbaupp> rusti: f64::to_str(2.0 - f64::pow(2.0, -52.0))
[08:28:44] <rusti> ~"1.99999999999999982236431605997495353221893310546875"
[08:29:08] *** Joins: trapni (trapni@moz-7C7C1909.dawanda.com)
[08:29:41] <kimundi> you should look at the binary representation instead
[08:30:58] <kimundi> how it looks in base 10 doesnt say anything about its value precesion
[08:31:22] <aatch> rusti: f32::to_str(f32::pow(2.0,-149.0))
[08:31:24] <rusti> ~"0.00000000000000000000000000000000000000000000140129852294921875"
[08:31:30] <aatch> Aww.
[08:31:33] <aatch> It cuts off
[08:31:36] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[08:31:57] <aatch> Oh well.
[08:32:40] <aatch> At any rate, I was really just trying to figure out API stuff
[08:33:11] <kimundi> well f32 has a exponent of +-128, so
[08:36:38] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[08:38:01] *** Joins: seth (seth@moz-D840E602.dsl.static.sonic.net)
[08:38:33] *** Quits: SiegeLord (sl@moz-56D7E78.bstnma.fios.verizon.net) (Quit: It's a joke. It's all a joke.)
[08:39:48] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[08:40:22] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[08:47:21] *** Joins: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[08:50:54] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[08:51:38] <bjz> pnkfelix: pingy
[08:51:56] *** Quits: pyrac (pyrac@moz-FA4351AE.members.linode.com) (Ping timeout)
[08:53:29] *** Quits: dbaupp (Thunderbir@moz-E5AD4827.lns20.syd6.internode.on.net) (Ping timeout)
[08:54:00] *** Joins: noam_ (noam@F6B530A7.720527A7.416762B.IP)
[08:54:18] *** Quits: _Vi (vi@527C345F.497AA854.B16B3BE6.IP) (Ping timeout)
[08:54:42] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[08:54:54] <bjz> pnkfelix: I replied on the issue
[08:55:07] <bjz> https://github.com/mozilla/rust/issues/4819#issuecomment-17155695
[08:55:32] <bjz> apologies for my ignorance â€“ that's why it's awesome to have some advice
[08:56:49] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Ping timeout)
[08:56:55] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[08:57:13] *** Quits: noam_ (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[08:57:17] *** Joins: dbaupp (Thunderbir@moz-1FD23470.lns20.syd6.internode.on.net)
[08:57:51] <pnkfelix|rcirc> bjz: did you look at the man page for frexpf ?
[08:58:12] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[08:58:25] *** Quits: echristo (echristo@561907D1.648B0C34.5EFB9497.IP) (Quit: echristo)
[08:58:35] <bjz> yeah I just realised it doesn't do what I think it did :P
[08:59:21] <pnkfelix|rcirc> bjz: I hadn't looked at your impl; I was just reasoning from the types that the significand need not be Self.  Glad it found a bug though.  :)
[09:00:50] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:00:51] <ghrust> 01[13rust01] 15ILyoan pushed 1 new commit to 06incoming: 02http://git.io/pHODRg
[09:00:51] <ghrust> 13rust/06incoming 149d33008 15ILYONG CHO: tutorial: Fix 'self' to 'Self'
[09:00:51] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[09:00:52] <bjz> thanks
[09:01:03] <bjz> how would you implement it?
[09:01:11] <pnkfelix> bjz: Some relevant notes from SO:  http://stackoverflow.com/a/15685285/36585 http://stackoverflow.com/a/14955046/36585
[09:01:24] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[09:01:37] <bjz> thanks!
[09:02:09] <pnkfelix> bjz: I haven't read those codes in detail, but they do make *use* of the frexp functions; you just need to do some scaling to get an integer out afterwards.
[09:02:37] *** Joins: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk)
[09:02:52] <bjz> ahh
[09:03:18] <bjz> well at least I wasn't completely off
[09:03:45] *** Quits: cdidd (cdidd@moz-1E71B9EC.broadband.corbina.ru) (Input/output error)
[09:04:37] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:04:38] <ghrust> 01[13rust01] 15ILyoan pushed 1 new commit to 06incoming: 02http://git.io/Q-oB5A
[09:04:38] <ghrust> 13rust/06incoming 143290110 15ILYONG CHO: tutorial: Fix 'self' to 'Self'
[09:04:38] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[09:05:23] *** Quits: dbaupp (Thunderbir@moz-1FD23470.lns20.syd6.internode.on.net) (Ping timeout)
[09:08:54] *** Joins: dbaupp (Thunderbir@moz-F3F16AE1.lns20.syd6.internode.on.net)
[09:14:32] <nmatsakis> dbaupp: pong (from yesterday)
[09:19:02] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[09:25:51] *** Quits: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com) (Quit: computer sleeping)
[09:28:00] *** Joins: tgt (tgt@moz-2F277517.nomadic.bris.ac.uk)
[09:28:44] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[09:31:41] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[09:32:11] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[09:32:12] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[09:33:09] *** Quits: dbaupp (Thunderbir@moz-F3F16AE1.lns20.syd6.internode.on.net) (Ping timeout)
[09:35:58] *** Joins: RagingDave (RagingDave@moz-3F31ACEF.pools.arcor-ip.net)
[09:36:41] *** Joins: dbaupp (Thunderbir@moz-12ADF720.lns20.syd6.internode.on.net)
[09:38:34] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[09:46:20] *** Joins: mindginative (mindginati@moz-47CF79CA.dyn.cust.vf.net.nz)
[09:53:00] *** Quits: dbaupp (Thunderbir@moz-12ADF720.lns20.syd6.internode.on.net) (Ping timeout)
[09:54:09] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[09:55:16] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[09:55:16] *** Quits: tgt (tgt@moz-2F277517.nomadic.bris.ac.uk) (Quit: Computer has gone to sleep.)
[09:56:28] *** Joins: dbaupp (Thunderbir@moz-8A89C764.lns20.syd6.internode.on.net)
[09:57:24] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Ping timeout)
[10:02:08] <aatch> How can you tell the bug triage email has gone out? Lots of closed tickets!
[10:02:18] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[10:10:06] *** Joins: bheylin_ (brianheyli@EE991951.825D5C9D.D946D9FC.IP)
[10:15:59] <bheylin_> has a new Float trait been added to f32 recently?
[10:16:46] <aatch> bheylin_, in incoming?
[10:16:53] <bheylin_> yep
[10:17:06] <aatch> Yup, part of the new numeric trait stack
[10:17:28] <bheylin_> aatch: ok cool, i have a conflict in the numerics lib from bjz
[10:17:43] <aatch> Ahh.
[10:17:50] <bheylin_> aatch: afaik bjz numerics is being slowly absorbed into core?
[10:17:50] <bjz> bheylin_: sorry!
[10:17:57] <bjz> bheylin_: by me
[10:18:09] <aatch> bjz, is any of it in?
[10:18:15] <bjz> bheylin_: yup
[10:18:22] *** Quits: idkfa (idkfa@moz-141F54A4.krasinfo.ru) (Quit: Cracked by Bill Gilbert)
[10:18:22] <bjz> aatch: I mean, yup
[10:18:40] <aatch> Thought so, given that I saw 'Real' and 'Bounded' traits
[10:18:41] <bheylin_> bjz: can i  disable some parts of numerics?
[10:18:49] <bjz> bheylin_: I'm pretty sure we can sever the connection to numeric now
[10:18:54] * aatch doesn't remember them being there.
[10:19:02] <bheylin_> bjz: ok ill give it a go
[10:19:23] <aatch> cut the blue wire
[10:19:32] <aatch> NO! the red one
[10:19:42] <bjz> bheylin_: sweet â€“ would you be able to help update it? Sorry, I've been pretty focused on core::num
[10:19:54] <bheylin_> aatch: :) 
[10:20:11] <bheylin_> bjz: sure, you want me to check into my fork?
[10:20:24] <bjz> bheylin_: I've been itching to get rid of numeric
[10:20:26] <bjz> yup
[10:20:43] <bheylin_> bjz: im working with a git submodule atm that might get interesting
[10:20:52] <bjz> I won't make any changes to lmath while you work
[10:20:53] <bheylin_> bjz: ill see what i can do today
[10:21:07] <bheylin_> bjz: i also added Clone trait to vec.rs
[10:21:26] <bjz> bheylin_: one thing that's scary is this: https://github.com/mozilla/rust/pull/6087
[10:21:48] <bjz> bheylin_: I don't know if you saw my message to you a while back
[10:22:04] <bheylin_> bjz: which one?
[10:22:43] <bjz> bheylin_: we might have to revert to using the trait names again, instead of the typedefs - at least until pcwalton can improve the situation
[10:22:52] <bjz> but it's looking promising
[10:22:58] <bjz> and the pain will be worth it
[10:23:04] <bheylin_> bjz: hah ok
[10:23:05] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[10:23:18] <bjz> https://mail.mozilla.org/pipermail/rust-dev/2013-April/003866.html
[10:23:28] <bheylin_> bjz: a pyscological investment to create a stronger bond :)
[10:23:51] <bjz> so yeah, you'd have to do BaseVec::new or whatever again
[10:24:01] <bjz> the change isn't merged yet
[10:24:35] <bheylin_> bjz: ah ok
[10:24:43] <bheylin_> bjz: i bumbed into this two days ago myself
[10:24:43] <bjz> so we can still work as if it wasn't. But just making you aware
[10:24:51] <bjz> aye
[10:24:58] <bheylin_> bjz: all good as long as we know it
[10:25:19] <bheylin_> bjz: so, operator implementation should be a little easier now?
[10:25:20] <bjz> I'm glad I found it in the list of PRs :D
[10:25:29] <bjz> hmm, I don't think so
[10:25:36] <bheylin_> bjz: i made a small test early this week
[10:25:43] <bjz> I think we'll be able to do it with macros
[10:25:46] <bjz> orly?
[10:25:57] <bheylin_> bjz: just small one for myself to learn how rust does things
[10:26:18] <bheylin_> bjz: made a tiny vector impl and aded + - * etc
[10:26:36] <bjz> bheylin_: using the back-to-front method?
[10:26:59] <bjz> ie: http://smallcultfollowing.com/babysteps/blog/2012/10/04/refining-traits-slash-impls/
[10:27:00] <bheylin_> bjz: it was an incomplete impl
[10:27:11] <bheylin_> bjz: vec3 * float only
[10:27:16] <bheylin_> bjz: not float * vec3
[10:28:24] <bjz> oh, I mean
[10:28:34] <aatch> Hmm, should duration functions return ints or floats?
[10:28:54] <bjz> how did you do vec3 * vec3, and vec3 * float
[10:29:08] <bheylin_> bjz: simple
[10:29:15] <bheylin_> bjz: i only did vec3 * float :)
[10:29:24] <bjz> ahh
[10:29:41] <bjz> well read nmatsakis' post - it might give you some idea
[10:29:51] <bjz> on how we could do it
[10:29:52] <bheylin_> bjz: cool, will do
[10:29:55] <aatch> What would people expect if you wanted the number of months a duration is?
[10:30:03] <aatch> Would 0.5 months be expected?
[10:30:04] <bjz> I'm guessing we;d have a macro
[10:30:24] <bjz> hmm
[10:30:34] <bheylin_> bjz: yea looks like the solution, otherwise there would bea hell of a lot of boilerpate
[10:31:02] <bheylin_> aatch: i think fractional months will drive people insane :)
[10:31:21] <bheylin_> aatch: since the length of a month is variable
[10:32:01] <aatch> bheylin_, yeah, I'm thinking that a decent implementation of durations and intervals will make something like that uneeded
[10:32:06] <aatch> unneeded*
[10:32:51] <bheylin_> aatch: a time duration should use units that do not vary depedning on position in a year
[10:33:06] <aatch> bheylin_, yep, I know
[10:33:08] <bheylin_> aatch: obvously it's a hugely complex issue :)
[10:33:25] <bjz> yottoseconds!
[10:33:26] <aatch> fortunately a good part of my day job is related to it
[10:33:38] <bheylin_> aatch: i don;t see a major problem with fractional days
[10:34:16] <aatch> matching rent payments up to the periods they cover, not fun
[10:35:01] <bjz> bheylin_: but a day isn't a fixed length
[10:35:13] <bjz> bheylin_: the earth's rotation is slowing down
[10:35:17] <dbaupp> nmatsakis: don't worry, it was just seeing if you were around to r+ something, and that's been done. :)
[10:35:19] <aatch> bjz, not according ISO8601
[10:35:29] <bjz> x)
[10:35:53] <bheylin_> aatch: bjz: now that you say it I have been noticing the days getting longer
[10:36:21] <bjz> aatch: you must take into account that in several billion years we will be tidally locked to the sun
[10:36:39] <bjz> aatch: it's important
[10:37:27] <bjz> http://hereistoday.com/
[10:37:40] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[10:41:29] <aatch> bjz, well it won't account for tidal forces, but my planned representation will be able to represent all dates in the history of the universe
[10:42:05] <bjz> hmm, what dod you do before the earth exists?
[10:42:21] <bjz> and do you cover matian dates?
[10:42:26] <bjz> *martian
[10:42:44] <bjz> the little green men might not be happy if you forget about them
[10:42:55] <bheylin_> bjz: im going to get myself a coffee and strip out numerics from lmath, talk later ;)
[10:43:02] <bjz> :)
[10:44:03] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[10:44:11] *** Quits: bheylin_ (brianheyli@EE991951.825D5C9D.D946D9FC.IP) (Quit: bheylin_)
[10:44:17] <aatch> Well the representation is in seconds, defined as 9,192,631,770 transitions between the two hyperfine levels of the ground state of a caesium-133 atom
[10:45:03] <aatch> So it's just a matter of mapping that to the correct human-readable representation.
[10:46:01] <dbaupp> aatch: maybe a bigint counting planck times would be more appropriate? Wouldn't want to lose precision.
[10:46:48] <aatch> dbaupp, well it won't lose precision since the definition is fixed to a specific quantum mechanical process anyway
[10:47:18] *** Quits: Blub\w (wry@moz-49066677.wireless.dyn.drei.com) (Quit: bbiab)
[10:48:01] <dbaupp> but the storing the number of transitions as a float would give floating point errors, and as an integer would mean that some times couldn't be represented exactly
[10:48:29] <bjz> aatch: you must be precise when it comes to rent calculations
[10:49:07] <aatch> I'm not using a bigint just so we can have infinite-precision time.
[10:49:14] <aatch> not in the standard library anyway
[10:49:29] <dbaupp> aatch: drat ;P
[10:50:11] <aatch> I had to stop myself from integrating this in: http://cldr.unicode.org/ for localization
[10:50:23] <aatch> as in language localization
[10:51:02] *** Joins: cdidd (cdidd@moz-7BD4F339.broadband.corbina.ru)
[10:52:43] <aatch> The plan is to make it fairly functional for most cases, but also extensible.
[10:55:47] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[10:58:00] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Ping timeout)
[11:05:30] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[11:09:47] *** Quits: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com) (Ping timeout)
[11:15:51] <bjz> aatch: functional in what way?
[11:16:00] <aatch> functional as in useful
[11:16:09] <aatch> and relatively easy to use
[11:16:20] <bjz> ahh
[11:16:22] <bjz> ok
[11:16:28] <aatch> not as in Haskell
[11:16:32] <bjz> ;)
[11:16:56] <bjz> gots to be careful with that word :)
[11:17:32] <aatch> yeah, I thought about it.
[11:18:01] <aatch> Hey, whats a good pattern for mutable vs immutable traits?
[11:18:25] <aatch> Or should it just all be in one trait with some methods being &mut self?
[11:21:13] *** Quits: conradz (conradz@moz-37891058.dhcp.embarqhsd.net) (Quit: Leaving)
[11:22:22] *** Joins: Blub\w (wry@moz-9A547A41.wireless.dyn.drei.com)
[11:27:01] *** Quits: heftig (heftig@moz-3A9374C2.dip0.t-ipconnect.de) (Ping timeout)
[11:28:49] *** Quits: Boreeas (Boreeas@moz-F35C832D.boreeas.net) (Ping timeout)
[11:29:27] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[11:30:16] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[11:30:18] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[11:30:35] *** Joins: heftig (heftig@moz-14CE70B0.dip0.t-ipconnect.de)
[11:31:24] *** Quits: dbaupp (Thunderbir@moz-8A89C764.lns20.syd6.internode.on.net) (Ping timeout)
[11:32:19] *** Joins: Boreeas (Boreeas@moz-F35C832D.boreeas.net)
[11:33:41] *** Joins: benh (ben@moz-4A0366D2.org)
[11:34:13] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[11:35:05] *** Joins: dbaupp (Thunderbir@moz-29B0086B.lns20.syd6.internode.on.net)
[11:38:44] <bjz> aatch: I'd say one trait
[11:38:50] *** Joins: lmandel (lmandel@CB3EC984.A5F785DE.396E4C6D.IP)
[11:39:00] <aatch> bjz, fair enough
[11:39:26] <aatch> That was easily done (The two traits were one after the other)
[11:39:33] <bjz> aatch: but if needed you'd have Foo, and MutableFoo
[11:40:23] <bjz> but yeah, if you see Mutable* traits in the core/std, it's probably from before explicit self was introduced
[11:40:36] <aatch> Well it's more that some functions modify a date in place and others, well, dont
[11:41:39] <bjz> yeah
[11:42:36] <aatch> Although I'm not convinced by this pattern.
[11:46:11] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[11:48:13] *** Quits: lmandel (lmandel@CB3EC984.A5F785DE.396E4C6D.IP) (Quit: lmandel)
[11:49:47] <dbaupp> bjz: I'm huonw on github
[11:49:57] <bjz> dbaupp: hihi
[11:50:11] <bjz> dbaupp: sorry, I think my brain was filling in gaps
[11:50:22] <dbaupp> np :)
[11:50:44] <bjz> dbaupp: doomlord_ seemed to agree on merging Exponential and Hyperbolic
[11:51:06] <aatch> I thought it was going to be another trait that combined the two
[11:51:16] <aatch> Or I am misremembering?
[11:51:16] <bjz> I'm not strongly in favour of each
[11:51:28] <bjz> aatch: https://github.com/mozilla/rust/pull/6110
[11:51:30] <bjz> heh
[11:52:10] <aatch> Oh
[11:52:13] <bjz> aatch: read the tail of this: https://github.com/mozilla/rust/issues/4819
[11:52:13] <aatch> nvm
[11:52:16] <dbaupp> my reasoning was the hyperbolic implementations are so simple (sinh(x) = (exp(x) - exp(-x))/ 2) that keeping them separate is silly
[11:52:24] <bjz> yup
[11:52:29] <bjz> makes sense
[11:55:37] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[11:55:41] *** aatch is now known as aatch|bed
[11:56:15] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[11:57:11] *** Joins: jfredett (jfredett@moz-5AD85DDB.mycingular.net)
[11:57:18] <bjz> dbaupp: I guess I was looking at it from the mathematical naming point of view. But there are upsides to simplifying things.
[11:58:16] <bjz> As I say, I'm not really too invested in either though
[11:58:19] <dbaupp> bjz: yeah, that's reasonable
[11:58:19] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[11:58:21] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Ping timeout)
[11:58:22] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[11:58:48] <bjz> dbaupp: which?
[11:58:51] <dbaupp> (although being truly mathematical... everything would be complex numbers, and you'd only need exp, not even sin/cos :P )
[11:58:57] <bjz> yep
[11:59:00] <bjz> :)
[11:59:10] <dbaupp> bjz: looking at it mathematically, although I prefer the simplification
[11:59:21] <bjz> I mean you go down a rabbit hole
[11:59:30] <bjz> if you try to be precise
[11:59:47] <bjz> and the names are just names
[12:01:01] *** Joins: bheylin_ (brianheyli@EE991951.825D5C9D.D946D9FC.IP)
[12:01:08] <bjz> dbaupp: should I add a comment above the hyperbolic methods in the trait definition? (not a doc comment)
[12:01:26] *** Quits: KindOne (KindOne@moz-5AF20289.dynamic.ip.windstream.net) (Ping timeout)
[12:01:33] <bheylin_> bjz: any thoughts on this: https://gist.github.com/brianheylin/5481184
[12:01:39] <dbaupp> bjz: mentioning the reasons that they aren't split?
[12:01:46] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[12:01:52] <bjz> dbaupp: aye
[12:01:54] *** Joins: judder (maradukewa@DABDEEA3.F2C0D0AC.78E362FE.IP)
[12:02:10] <dbaupp> yeah (and possibly mentioning they should be default methods if/when those start working)
[12:02:38] <dbaupp> bheylin_: you need a core::num::One bound on T
[12:02:41] <bjz> bheylin_: T isn't constrained to implement One
[12:02:58] <bjz> bheylin_: you need to add it after 'Copy'
[12:04:37] <bheylin_> bjz: dbaupp: cool that's done it
[12:05:17] *** Joins: KindOne (KindOne@moz-B56B503.dynamic.ip.windstream.net)
[12:05:35] <bheylin_> bjz: I see that trait Float does extend FuzzyEq
[12:05:44] <bheylin_> bjz: is there a reason for that?
[12:06:17] *** Joins: bheylin__ (brianheyli@BAC7FD21.27372CC7.30A3EA7C.IP)
[12:06:18] <bjz> Float doesn't extend FuzzyEq at the moment, because FuzzyEq is in std
[12:06:37] <bheylin__> bjz: ah right
[12:06:41] <bjz> but that could change in the future
[12:06:52] <bheylin__> bjz: ok just means extra contraits on some T in lmath
[12:06:57] <bjz> yup
[12:07:27] *** Quits: bheylin_ (brianheyli@EE991951.825D5C9D.D946D9FC.IP) (Ping timeout)
[12:08:57] <bjz> dbaupp: how about:     // The Hyperbolic Functions are trivially implemented in terms of `exp`, so it's  simpler to group them within this trait. In the future these would have default implementations.
[12:09:49] <dbaupp> bjz: sounds good :)
[12:10:20] <bjz> just checking I didn't phrase it wrong :)
[12:11:33] <dbaupp> are there atanh functions?
[12:11:52] *** Joins: tgt (tgt@moz-2F277517.nomadic.bris.ac.uk)
[12:12:02] <dbaupp> (ie. inverse hyperbolic functions in rust)
[12:12:14] <bjz> dbaupp: no. Should we have them?
[12:12:27] <bjz> dbaupp: I noticed glsl has them
[12:12:46] <bjz> dbaupp: how would they be implemented?
[12:12:49] <dbaupp> bjz: well, they're just some logs http://en.wikipedia.org/wiki/Inverse_hyperbolic_function
[12:12:57] <dbaupp> (i vote yes :) )
[12:13:07] <bjz> neat
[12:13:14] <bheylin__> bjz: add_assign â€¦ div_assign seems the be the one case missing from core 
[12:13:25] <bjz> bheylin__: ahh
[12:13:29] <bjz> bheylin__: poo
[12:13:31] *** Quits: jfredett (jfredett@moz-5AD85DDB.mycingular.net) (Ping timeout)
[12:13:35] <bjz> bheylin__: :P
[12:13:36] <bheylin__> bjz: I seem your request for traits
[12:13:42] <bheylin__> bjz: poo indeed
[12:13:46] <bjz> yup
[12:13:53] *** Joins: jfredett (jfredett@moz-C073E6CB.mycingular.net)
[12:14:01] * bjz tries to think of a solution
[12:14:01] *** Quits: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com) (Ping timeout)
[12:14:21] <bjz> you could have a NumExt trait in lmath for now?
[12:14:32] <bjz> which adds those methods?
[12:15:06] *** Quits: mindginative (mindginati@moz-47CF79CA.dyn.cust.vf.net.nz) (Quit: brb)
[12:15:54] <bjz> ie. copy from lmath
[12:16:02] <bjz> i mean numeric
[12:17:09] *** Quits: jfredett (jfredett@moz-C073E6CB.mycingular.net) (Ping timeout)
[12:17:13] <bheylin__> bjz: ok ill look into it
[12:17:16] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[12:18:20] *** Joins: jfredett (jfredett@moz-C073E6CB.mycingular.net)
[12:18:38] <bjz> dbaupp: would you like to PR on my fork of rust?
[12:18:51] <doomlord> i can't really comment how much 'overhead' you have from traits
[12:18:54] <bjz> dbaupp: ie. the inverse hypobolic functions
[12:19:32] <bjz> doomlord: not much. It's all compile time. The overhead is complexity
[12:19:33] <doomlord> if you provide a trait constraint to a generic function, when you implement the trait, will it work if the trait is only partially implemented
[12:20:00] <dbaupp> bjz: onto which branch?
[12:20:09] <doomlord> yeah 'conceptual' overhead.. does it help or hinder people finding functions
[12:20:13] <bjz> dbaupp: numeric-traits I think
[12:20:21] <doomlord> like the hazard of over-abtracting
[12:20:55] <bjz> dbaupp: the only other branch other than master
[12:21:01] <doomlord> when you implement a trait for a type, do  you have to implement *all* the functions
[12:21:13] <bjz> doomlord: at the moment, yes
[12:21:14] <doomlord> i think you'd need to if you wanted a trait object
[12:21:24] <doomlord> in that case i'd favour splitting more
[12:21:38] <bjz> doomlord: in the future you'd be able to have default impls
[12:21:53] <doomlord> although again the hyperbolic case.. the implementations are trivial as mentioned
[12:22:02] <bjz> doomlord: I think it's ok for now, because not many folk are using them
[12:22:26] <bjz> doomlord: and we can always reduce the code duplication in the future
[12:22:50] <doomlord> maybe traits are only bad if they are hard to name..
[12:23:28] <bheylin__> bjz: trait PrimitveExt works for vec.rs, gonna move definition to common file
[12:23:52] <doomlord> i suppose people can put "TODO" asserts in traits functoins they dont use
[12:23:53] <bjz> bheylin__: sure, sounds like a good solution in the interim
[12:24:16] <bjz> doomlord: although it's not reccomended :D
[12:24:21] *** Quits: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net) (Quit: Leaving.)
[12:24:30] <doomlord> i can see myself doing that alot
[12:24:31] *** Joins: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net)
[12:26:04] <dbaupp> bjz: hmm, actually, the inverse hyperbolic functions require a sqrt, is it sensible to add an Algebraic super-trait to Exponential?
[12:26:24] <bjz> hmm
[12:26:29] <dbaupp> (i'm now leaning toward not implementing them)
[12:26:33] <bjz> :D
[12:26:40] <bjz> it would be nice though
[12:26:56] <bjz> could you bring it up on the numeric issue
[12:27:07] <dbaupp> yep
[12:27:07] <bjz> maybe somebody has an idea
[12:27:50] *** Quits: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[12:28:37] <doomlord> if you bring in Algebraic for inverse hyperbolic, that would strengthen the case for Hyperbolic being seperate
[12:29:16] <doomlord> or maybe you could have a seperate trait for *inverse* hyperbolic, r.e. implementation/dependancies
[12:29:49] <doomlord> ... if sinh,cosh group naturally with exp for implementation,  but the others dont
[12:30:44] <dbaupp> doomlord: the inverses are really close to being pure Exponential, just logs + sqrt, so it seems a little silly to have a separate trait just for that.
[12:30:55] <doomlord> oh ok
[12:30:58] <dbaupp> maybe it would be worth splitting them out...
[12:31:10] <dbaupp> (all of them, not just the inverses.)
[12:31:16] <dbaupp> I don't know.
[12:31:32] <doomlord> what i thought was if you have a lot of them to implement, then it makes more sense to split
[12:31:56] <dbaupp> there's {sin/cos/tan}h and their inverses
[12:32:49] <dbaupp> hmm, actually sqrt(z) = exp(0.5*log(z)), so we could get around the Algebraic requirement that way. That's really horrible/slow though.
[12:33:13] <doomlord> at least its  a default 'catch all' implementation
[12:33:35] <dbaupp> doomlord: yeah
[12:34:08] *** Quits: cdidd (cdidd@moz-7BD4F339.broadband.corbina.ru) (Ping timeout)
[12:34:10] <doomlord> at this point i would vote in favour of seperate, with the sqrt issue, and hearing 'you're supposed to implement ALL the functions inthe trait'
[12:34:32] <doomlord> i think exp/log are a lot more common than hyperbolic functions 
[12:34:33] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[12:34:47] <doomlord> and similarly trig are the most common
[12:35:15] <dbaupp> doomlord: yeah, trig is separate to exp right now
[12:35:19] <doomlord> so a 3 way split seems useful r.e. dividing up what people might need for particular tasks
[12:35:34] *** bhearsum|afk is now known as bhearsum
[12:36:13] <doomlord> is this bikeshedding 
[12:36:20] <bjz> no it's good
[12:37:08] <bjz> dbaupp: inverse hyperbolic would be amazing
[12:37:19] <bjz> dbaupp: we should work out a way
[12:37:39] <dbaupp> bjz: it's not thaaat amazing :P
[12:37:48] <bjz> well
[12:37:51] <doomlord> i've only personally used trig & exponentials
[12:38:03] <bjz> in terms of having a comprehensive toolset
[12:38:05] <doomlord> sqrt alot of course
[12:38:34] <dbaupp> Maybe it's worth just not bothering with the algebraic constrait
[12:38:37] <doomlord> anyone here actually *used* hyperbolic functions?
[12:38:40] <bheylin__> bjz: the macros need an impl of PrimitiveExt for bool, does that even make sense?
[12:38:51] <bheylin__> bjz: add_assign for bool
[12:38:57] <dbaupp> and saying "use exp(0.5*log(z)) if you have to"
[12:39:07] <dbaupp> doomlord: not programming, but i have in maths
[12:39:34] <doomlord> i've used them in exams thats it
[12:39:48] <bjz> I'm sure it's useful for somebody. :P
[12:39:56] <doomlord> of course they do have their uses or they wouldnt have been discovered
[12:40:13] <bjz> bheylin__: the macros?
[12:40:16] *** Quits: jfredett (jfredett@moz-C073E6CB.mycingular.net) (Ping timeout)
[12:40:17] * bjz checks
[12:40:27] <bheylin__> bjz: type_vec2 etc
[12:40:42] <bheylin__> bjz: sorry, zip_vec2
[12:41:08] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[12:41:54] <bjz> bheylin__: I don't understand what you mean
[12:42:12] <bjz> bheylin__: macros are just syntax transformations
[12:42:23] <bheylin__> bjz: yea i get that
[12:42:30] <bheylin__> bjz: this is the error i have
[12:42:32] <bheylin__> bjz: src/vec.rs:463:8: 463:21 error: failed to find an implementation of trait numerics::PrimitiveExt for bool
[12:43:07] <bheylin__> bjz: im not sure where the bool is required
[12:43:39] <bjz> would be in EqVec
[12:44:09] <bjz> did you add PrimitiveExt to the trait that implements `new`?
[12:44:34] <bjz> ie. BaseVec2
[12:45:56] <bheylin__> bjz: ok i think that may be it
[12:46:02] <bheylin__> bjz: pub trait BaseVec2<T>: BaseVec<T> + PrimitiveExt {
[12:46:07] *** Quits: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP) (Ping timeout)
[12:46:25] <bheylin__> bjz: that is what i have now, il get back to you, one or two more errors to work our
[12:46:42] <bjz> bheylin__: sure :)
[12:47:00] *** Joins: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP)
[12:50:32] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[12:51:29] *** Quits: sp3d (a@moz-17CB39F1.fidnet.com) (Ping timeout)
[12:51:32] *** Joins: cdidd (cdidd@moz-D8ED51E6.broadband.corbina.ru)
[12:52:00] <bheylin__> bjz: ok so, works but I need to provide impls
[12:52:24] <bheylin__> bjz: afaik that means adding the PrimitiveExt def to each type_vec* macro
[12:54:25] <bjz> bheylin__: why do you need to implement PrimitiveExt on the vectors? Isn't PrimitiveExt just going on the numeric types? Ie. f32, f64, float, i8...
[12:54:42] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[12:56:50] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Ping timeout)
[12:56:58] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[12:57:01] <bheylin__> bjz: that makes sense 
[12:57:14] <bheylin__> bjz; pub trait BaseVec2<T>: BaseVec<T> + PrimitiveExt {
[12:57:19] <bheylin__> bjz: that is what i had previously
[12:57:20] <bjz> bheylin__: maybe a better name would be MutableNum, seeing as it's just adding assign ops. Might make it easier to reason about too. Ie. just put Mutable Num next to any Number type constraint
[12:57:24] <bheylin__> bjz: that is incorrect indeed
[12:57:47] <bheylin__> bjz: ok will do
[12:57:56] <bheylin__> bjz: pub trait BaseVec2<T: MutableNum>: BaseVec<T> {
[12:58:01] *** Joins: jviereck (Adium@ECF12368.275D7FF4.EB3A6EA6.IP)
[12:58:08] <bjz> bheylin__: did the macro error throw you?
[12:58:19] <bheylin__> bjz: sure did :)
[12:58:24] <bjz> :)
[12:58:45] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[12:59:12] <bheylin__> bjz: the constraint should be a Primative though
[12:59:23] <bheylin__> bjz: Num does not define Add, Sub etc
[12:59:42] <bjz> core::num::Num?
[13:00:06] <bheylin__> bjz: oh it does!
[13:00:14] <bjz> heh :D
[13:00:23] <bheylin__> bjz: ah they both do
[13:00:47] <bheylin__> bjz: and the Div trait has been renamed now?
[13:00:57] *** Joins: sp3d (a@moz-17CB39F1.fidnet.com)
[13:01:04] <bjz> yeah, should probably be renamed back though :(
[13:01:17] <bjz> we have a dilemma on that front
[13:01:30] <bjz> bikeshedding basically
[13:01:32] *** Quits: int3_ (int3_@moz-B987FF6E.subnet-248.amherst.edu) (Client exited)
[13:01:38] <bjz> :P
[13:02:25] <just_bstrie> forbid division entirely
[13:02:42] <just_bstrie> really, I'm sure you can approximate division using all of rust's other operators :P
[13:03:30] <bjz> just_bstrie: division is just iterative subtraction
[13:03:35] <bjz> :)
[13:04:09] <bjz> which returns the counter
[13:04:10] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[13:04:25] <just_bstrie> bjz: I was trying to think of something more esoteric, like right-shifting and bitwise AND :P
[13:04:27] *** Joins: jensnockert (Jens@moz-ECD727C.cust.bredband2.com)
[13:04:41] <bjz> pah
[13:04:49] <just_bstrie> subtraction is so useless, we can *already* negate positive numbers
[13:04:53] <just_bstrie> rust == bloated
[13:05:26] <jensnockert> just_bstrie: Negation for signed integers can overflow :(
[13:05:39] <bjz> jensnockert: HELLO!
[13:05:42] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[13:05:49] *** Quits: jviereck (Adium@ECF12368.275D7FF4.EB3A6EA6.IP) (Quit: Leaving.)
[13:05:51] <jensnockert> bjz: Hello!
[13:06:11] <just_bstrie> rusti: let x = -128u8; -x
[13:06:13] <rusti> 128
[13:06:16] <bjz> jensnockert: how am I doing?
[13:06:16] <bheylin__> bjz: ok check this out: https://gist.github.com/brianheylin/5481452
[13:06:20] <just_bstrie> er
[13:06:24] <just_bstrie> rusti: let x = -128i8; -x
[13:06:27] <rusti> -128
[13:06:51] <just_bstrie> overflow is so goofy
[13:07:01] <jensnockert> just_bstrie: That's why I love floats.
[13:07:11] <just_bstrie> drop your maths, gentlemen. they are... useless
[13:07:32] <bjz> jensnockert and floats, sitting in a tree...
[13:07:45] <jensnockert> K.I.S.S.I.N.G.!
[13:08:04] <jensnockert> Keep it simply superior in number games!
[13:08:13] <just_bstrie> haha
[13:08:57] <bjz> jensnockert: encode/decode?
[13:09:14] <jensnockert> bjz: I dislike the names, but might be because I am used to the C ones.
[13:09:31] <bjz> hah
[13:09:41] <bjz> :)
[13:09:51] <jensnockert> bjz: But your types are right imho, the significant shouldn't be an int.
[13:10:14] <bjz> coolies
[13:10:30] <bjz> what would you suggest instead?
[13:10:35] <dbaupp> jensnockert: I don't understand your comment on 6110 about matrices not being able to implement Exponential because of the hyperbolic functions
[13:11:05] <jensnockert> dbaupp: sinh/cosh/tanh does not make sense for matrix exponentials.
[13:11:16] <dbaupp> jensnockert: sure it does, they're all just power series
[13:11:25] <dbaupp> (right?)
[13:11:43] <bjz> *maths fight*
[13:11:48] <jensnockert> dbaupp: But what would it mean?
[13:11:57] <dbaupp> jensnockert: no idea :P
[13:12:23] * dbaupp draws his integral sign
[13:12:49] <dbaupp> (that's sorta like a sword, if we're going to duel :P )
[13:12:58] <bjz> :)
[13:13:11] <jensnockert> dbaupp: I think they are so significantly different in nature, that they shouldn't be mixed.
[13:13:13] <bjz> 'no idea' isn't much of a defence man
[13:13:24] <bjz> put some effort in!
[13:13:30] <bjz> it's a battle to the death
[13:13:47] <just_bstrie> "no idea" == "left as an exercise for the reader"
[13:13:52] <dbaupp> well, people have written papers on inverting sinh for matrices...
[13:13:53] <bjz> :)
[13:13:59] <dbaupp> (yay google :P )
[13:14:16] <dbaupp> jensnockert: yeah, I agree with the split now :)
[13:14:27] <bjz> you should have linked jensnockert to lmgtfy
[13:14:35] <bjz> :)
[13:14:40] <just_bstrie> "I have discovered a marvellous proof of this, which is left as an exercise to the reader"
[13:15:27] <jensnockert> I don't think most people who use the hyperbolic functions would mind having to look up which trait they are in. Not really used much by 'normals'
[13:15:43] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[13:15:44] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[13:16:09] <just_bstrie> is this something that haskellians have already solved?
[13:16:15] <dbaupp> jensnockert: yeah, and I think Real will include hyperbolic as a supertrait anyway
[13:16:16] <bjz_> What did I miss? Is jensnockert still with us?
[13:16:22] <jensnockert> bjz_: I think so.
[13:16:27] <dbaupp> just_bstrie: by having everything in the one trait
[13:16:28] <bjz_> bugger
[13:16:38] <bjz_> dbaupp: too bad :(
[13:16:38] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[13:16:42] <bjz_> :D
[13:16:43] <just_bstrie> dbaupp: and if that's good enough for them, why not for us?
[13:16:52] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[13:16:58] <doomlord> you can do better :)
[13:16:58] *** Quits: Blub\w (wry@moz-9A547A41.wireless.dyn.drei.com) (Quit: WeeChat 0.4.0)
[13:17:02] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[13:17:03] <bjz_> jensnockert: jk
[13:17:04] <just_bstrie> ok :)
[13:17:12] <jensnockert> just_bstrie: Because they have 99 proposals to change their numeric system.
[13:17:18] <dbaupp> just_bstrie: Haskell+Num hasn't had the best track record
[13:17:25] *** Joins: saneyuki_s (Mibbit@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:17:33] <jensnockert> bjz_: *hugz*
[13:17:45] <doomlord> they'll be coming here to copy rust's numeric traits :)
[13:17:50] * bjz_ is not aware of these battles over haskells numerics
[13:18:03] * bjz_ is afraid for his future
[13:18:33] <dbaupp> bjz_: http://www.haskell.org/haskellwiki/Numeric_Prelude
[13:18:36] * bjz_ blames it on jensnockert
[13:18:49] * jensnockert takes the blame.
[13:18:56] <bjz_> oooh
[13:20:09] <bjz_> (@ dbaupp)
[13:21:36] *** Joins: mortisha (Mibbit@moz-3B53DF38.dsl.telepac.pt)
[13:22:03] <bjz_> doomlord: heh http://hackage.haskell.org/packages/archive/numeric-prelude/0.3.0.2/doc/html/Algebra-Transcendental.html
[13:22:44] <dbaupp> what's all the fuss then?
[13:22:53] <dbaupp> :P
[13:23:07] <bjz_> :D
[13:23:28] <bjz_> ok.
[13:23:31] <bjz_> so
[13:23:38] *** Joins: ysuzuki (ysuzuki@moz-60FA9D06.net119083145.t-com.ne.jp)
[13:24:40] <bjz_> jensnockert: could you put a reply on pnkfelix's post to document what you said on IRC? would be handy
[13:24:46] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:25:05] <jensnockert> bjz_: About encode?
[13:25:09] <bjz_> jensnockert: aye
[13:25:27] *** Quits: dbaupp (Thunderbir@moz-29B0086B.lns20.syd6.internode.on.net) (Ping timeout)
[13:25:59] *** mortisha is now known as Stainless
[13:26:25] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[13:26:57] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:28:57] *** Joins: dbaupp (Thunderbir@moz-5F6D4A2B.lns20.syd6.internode.on.net)
[13:29:16] *** Joins: Erik (Erik@moz-252DBA2.hsd1.co.comcast.net)
[13:30:43] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[13:31:15] <bjz_> doomlord jensnockert dbaupp: so yay or nay to reverting the merge of Exponential and Hyperbolic? sorry to fuss
[13:31:32] <jensnockert> bjz_: Yay imho.
[13:31:32] <dbaupp> bjz_: yes
[13:31:41] <bjz_> yay
[13:31:51] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[13:32:31] <doomlord> i vote yay too
[13:33:39] <Stainless> i vote yay 
[13:34:20] <Stainless> dont have a clue what you are talking about just mimicing the crowd so much for democracie
[13:34:23] <bjz_> Stainless: cheers
[13:34:35] <bjz_> Stainless: we need community input
[13:34:45] <bjz_> ^^
[13:34:53] <just_bstrie> it's spelled "yea". wake up, sheeple!
[13:35:05] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[13:35:33] <jensnockert> just_bstrie: Democracy shmocracy.
[13:35:37] <just_bstrie> "yay" is the sort of vote you would give if the senate was held in a bouncy castle
[13:35:50] <doomlord> lol
[13:35:52] <dbaupp> bjz_: strickly speaking, we're all community atm :P
[13:35:52] <jensnockert> just_bstrie: Isn't that what we are doing?
[13:35:59] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[13:36:06] <dbaupp> (unless there are some undercover mozillians around?)
[13:36:44] * bjz_ prods pcdummy with a long stick
[13:36:50] <just_bstrie> haha
[13:36:55] <just_bstrie> poor pcdummy
[13:37:03] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[13:37:07] <just_bstrie> ever the victim of tab-completion
[13:37:45] <bjz_> :D
[13:37:54] <dbaupp> not as bad as @mut or @str on github :D
[13:38:04] <just_bstrie> haha
[13:38:05] <bjz_> :D
[13:38:08] <just_bstrie> yes, that's much worse
[13:38:11] <jensnockert> Poor peopleâ€¦
[13:38:19] <just_bstrie> that's the sort of thing that inspires one to vigilante justice
[13:38:28] <dbaupp> they probably know a lot about managed pointers
[13:38:33] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[13:38:54] <bjz_> mozilla should copopt those accounts for the novelty value
[13:39:03] <bjz_> *co-opt
[13:39:07] <pcdummy> just_bstrie, bjz_: hehe :)
[13:39:07] <jack> what is a POD type?
[13:39:20] <jensnockert> jack: Plain-old-data
[13:39:34] <dbaupp> no fancy constructors or destructors, just a C-style struct
[13:39:35] <jensnockert> jack: They probably mean structs.
[13:39:39] <jack> thanks
[13:39:56] *** Parts: saneyuki_s (Mibbit@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) ()
[13:40:00] <just_bstrie> POD is also a really, really old PC racing game
[13:40:05] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Ping timeout)
[13:40:16] *** Quits: trapni (trapni@moz-7C7C1909.dawanda.com) (Ping timeout)
[13:40:21] <dbaupp> It's also what peas come in
[13:40:38] <jensnockert> And a band from the ninties?
[13:42:04] <dbaupp> 50 comments on 4819. yay, bikeshedding! :P
[13:42:34] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:42:45] <just_bstrie> dbaupp: I don't think that any discussion involving the word "quaternion" can be classified as bikeshedding
[13:43:12] <jensnockert> just_bstrie: I think all discussions that involve the word "Quaternion" can be classified as bikeshedding.
[13:43:12] <dbaupp> :D
[13:43:48] *** Quits: Stainless (Mibbit@moz-3B53DF38.dsl.telepac.pt) (Quit: http://www.mibbit.com ajax IRC Client)
[13:44:11] *** Quits: bheylin__ (brianheyli@BAC7FD21.27372CC7.30A3EA7C.IP) (Quit: bheylin__)
[13:44:32] <kimundi> just_bstrie: Ah, POD the racing game.... fon memories I have for that. First game where I downloaded additional content (tracks etc)
[13:44:38] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[13:45:12] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[13:47:53] <jack> shoudl this be closed since it's not really a bug in rust? https://github.com/mozilla/rust/issues/4658
[13:47:54] <doomlord> ah just reading the original suggestions , seems we just ended up back there after 'bikeshedding'
[13:48:01] <doomlord> (r.e. maths traits)
[13:48:21] <bjz_> crap
[13:48:42] <doomlord> i suppose you've clarified it makes sense to some random passers by if you can independently arrive at the same design
[13:48:47] <bjz_> (not directed at doomlord)
[13:49:00] <doomlord> i guessed :)
[13:49:42] <bjz_> I referenced the wrong issue in a commit I pushed: https://github.com/bjz/rust/commit/f076d8192acafb409c451471061a27ff2eb162b1
[13:49:51] <bjz_> what does I do?
[13:50:36] <bjz_> I meant to link to the Redesign issue
[13:50:39] <dbaupp> bjz_: edit it, git add, git commit --amend, git push -f origin
[13:50:54] <dbaupp> actually, since it's the message, skip the first two steps
[13:53:24] *** Quits: tgt (tgt@moz-2F277517.nomadic.bris.ac.uk) (Quit: Computer has gone to sleep.)
[13:55:19] *** Joins: trapni (trapni@moz-7C7C1909.dawanda.com)
[13:55:52] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:56:51] <bjz_> dbaupp: how do I use `git push -f origin` on a certain branch
[13:57:41] <dbaupp> bjz_: 'git push -f origin numeric-traits'
[13:58:31] <bjz_> error: src refspec numeric-traits does not match any.
[13:58:32] <bjz_> error: failed to push some refs to 'https://bjz@github.com/bjz/rust.git'
[13:58:34] *** Joins: thou (thou@moz-1C1CA9F7.fasttrackcomm.net)
[13:58:42] <just_bstrie> weird question here, but is it ever actually useful to declare and initialize variables separately? as in `let x; /* lotsa code */ x = 10;` ?
[13:59:08] <dbaupp> bjz_: dunno
[13:59:30] <doomlord> does rust even allow it (uninitialized variables..)
[13:59:37] <nmatsakis> just_bstrie: sometimes it's useful
[13:59:41] <just_bstrie> rusti: let x; x = 10; x
[13:59:42] <rusti> 10
[13:59:59] <nmatsakis> just_bstrie: e.g., if the variables are initialized in different ways with ifs etc
[14:00:00] <dbaupp> just_bstrie: yeah. let x; if y < 1 { code;foo;bar; x = 2 } else { foo;bar;code; x = 3 }
[14:00:12] <bjz_> rusti: let x, y; if 1==1 { x = 1; y = 2; } else { x = 3; y = 2; } (x,y)
[14:00:13] <rusti> (1, 2)
[14:00:16] <nmatsakis> just_bstrie: though usually I prefer to do "let x = if y < 1 { ...; 2 } else { ...; 3 }
[14:00:23] <just_bstrie> dbaupp: but you can already do, yeah, what nmatsakis said
[14:00:29] <bjz_> nmatsakis: yep
[14:00:32] <pnkfelix|rcirc> doomlord: rustc will even encourage you to leave variables uninitalized in some scenarios, I discovered today
[14:00:50] <doomlord> that suprises me
[14:00:53] <bjz_> rusti: let x, y; if 1==1 { x = 1; y = 2; } else { x = 3; } (x,y)
[14:00:54] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/QEbA
[14:00:58] <bjz_> :)
[14:01:01] <dbaupp> just_bstrie: sometimes the code is clearer without that, but yeah, i prefer the expression forms
[14:01:21] <just_bstrie> bjz_: `let (x, y) = if true { (1, 2) }` :P
[14:01:37] <bjz_> just_bstrie: that's how I would usually write it
[14:01:40] <bjz_> :)
[14:02:19] <just_bstrie> I just wasn't sure if "declare first, initalize later" was a vestigial holdover from C
[14:02:58] <just_bstrie> I suppose it could be useful if your `if` statement is super long
[14:02:59] <nmatsakis> pnkfelix|rcirc: what do you mean by that?
[14:03:10] <nmatsakis> just_bstrie: if there are a bunch of variables,
[14:03:17] <just_bstrie> yeah, that too
[14:03:23] <pnkfelix|rcirc> nmatsakis: doomlord: https://gist.github.com/pnkfelix/5481736
[14:03:26] <nmatsakis> but it's partly a hold over I think
[14:03:45] <nmatsakis> pnkfelix|rcirc: oh, I see. indeed.
[14:03:58] <nmatsakis> (and it's right to do so)
[14:04:58] <doomlord> actually recall compiler problems from initializing things too early on a particular platform with very sensitive performance issues..
[14:05:27] <doomlord> i actually recall performance problems^ from the compiler in question not being able to handle it well :)
[14:06:01] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[14:06:03] <doomlord> we basically suffered for having decided to put a clear in a specific types constructor ..
[14:06:55] *** kimundi is now known as zz_kimundi
[14:15:18] *** Joins: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net)
[14:16:09] *** zz_kimundi is now known as kimundi
[14:19:23] <bjz_> jensnockert pnkfelix|rcirc: Methinks we should go with ldexp/frexp instead of encode/decode
[14:19:39] <jensnockert> I like ldexp/frexp.
[14:19:51] <bjz_> jensnockert: what do they stand for though?
[14:20:06] <jensnockert> load exp, but no idea what frexp stands for.
[14:20:11] <bjz_> heh
[14:20:29] *** Quits: Erik (Erik@moz-252DBA2.hsd1.co.comcast.net) (Ping timeout)
[14:20:31] <bjz_> should significand stay?
[14:20:57] <jensnockert> ?
[14:21:05] <bjz_> (as the same name)
[14:21:21] <jensnockert> Yeah, that makes sense imho.
[14:21:22] <bjz_> 2.3f.significand()
[14:21:29] <bjz_> ok
[14:21:49] <pnkfelix> bjz_: jensnockert: frexp is perhaps fraction + exponent ?
[14:21:54] <jensnockert> bjz_: Note that your implementation is wrong though.
[14:22:01] <jensnockert> bjz_: Yes, it probably is.
[14:22:09] <bjz_> jensnockert: cool, what can I do?
[14:22:13] <pnkfelix> bjz_: which might imply that "fraction" could be better name than significand, perhaps
[14:22:31] <jensnockert> bjz_: frexp normalizes the significand.
[14:22:51] <jensnockert> bjz_: I think you might need to do some bitwise skullduggery.
[14:22:51] <bjz_> jensnockert: how do I fix it?
[14:23:02] <bjz_> bahegry
[14:23:19] <doomlord> anyone here know what rust can/can't do r.e. reflection yet; someone told me about "# ...(encode,decode);" for serializing
[14:23:57] *** Joins: libertas (libertas@moz-33618497.rev.vodafone.pt)
[14:24:08] <bjz_> doomlord: default method impls
[14:24:30] <bjz_> well
[14:24:30] <kimundi> #[deriving(Encode, Decode)] ?
[14:24:37] <bjz_> actually alot of things
[14:24:49] <bjz_> what things are you after?
[14:25:29] <doomlord> serializing mostly, but it would be nice to know how it works under the hood
[14:25:42] <doomlord> i'll just grep for that ..
[14:25:59] <kimundi> doomlord: The under the hood stuff is in libsyntax/ext/derving
[14:26:23] <kimundi> It constructs ASTs, but I have no diea what they actually do
[14:27:21] <jensnockert> bjz_: Thinking of it, your impl of significand / exponent might be wrong in some sense, but it might actually be what people expect the result to be.
[14:27:22] <doomlord> i can't seem to find any examples for #deriving(Encode... 
[14:28:07] <doomlord> i see "deriving(IterBtyes..
[14:28:33] *** Joins: int3_ (int3_@moz-D17C1897.cs.umass.edu)
[14:28:54] <bjz_> jensnockert: how useful do you think those methods would be?
[14:29:32] <dbaupp> doomlord: the names are "Encodable" and "Decodable" to match the trait names
[14:29:37] <bjz_> jensnockert: and how does the expected values/parameters match the use cases
[14:30:10] <dbaupp> doomlord: 'expand_meta_deriving' in syntax/ext/deriving/mod.rs is probably a good place to start :)
[14:30:17] *** Quits: lieshidden (lieshidden@moz-1DFB45D.dhcp.trlk.ca.charter.com) (Ping timeout)
[14:30:18] <just_bstrie> dbaupp: are you sure that you can derive encodable yet?
[14:30:27] <just_bstrie> dbaupp: last I knew you still had to write #[auto_encode]
[14:30:29] <dbaupp> just_bstrie: I'm looking at the code :)
[14:30:42] *** Joins: dan_johnsin (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[14:31:11] <just_bstrie> I agree that it should use the same deriving syntax as everything else
[14:31:12] <kimundi> just_bstrie: It seems auto_encode awaits a snapshot to die
[14:31:14] <dbaupp> just_bstrie: https://github.com/mozilla/rust/pull/5819
[14:31:31] <kimundi> but derving accepts Encodable and Decodable atm
[14:31:32] <just_bstrie> ah
[14:31:41] <jensnockert> bjz_: I could consider only having significand / exponent, droping encode/decode tbh.
[14:31:44] *** Joins: lieshidden (lieshidden@moz-1DFB45D.dhcp.trlk.ca.charter.com)
[14:31:56] <jensnockert> bjz_: Err, dropping decode.
[14:32:09] <bjz_> jensnockert: ok
[14:33:08] <bjz_> jensnockert: not so useful?
[14:33:26] <jensnockert> bjz_: Well, you can do it in two steps with significand / exponent, right?
[14:34:11] <jensnockert> bjz_: And they are not significantly more expensive to calculate in two steps.
[14:34:57] <bjz_> yup
[14:35:42] <bjz_> wait, would it be better to use frexp instead of ilog_radix?
[14:36:28] <bjz_> jensnockert: ilog_radix is "ilogb"
[14:36:50] <bjz_> (it seems to be renamed in cmath)
[14:37:49] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[14:38:19] *** Quits: lieshidden (lieshidden@moz-1DFB45D.dhcp.trlk.ca.charter.com) (Ping timeout)
[14:39:30] *** Joins: lieshidden (lieshidden@moz-1DFB45D.dhcp.trlk.ca.charter.com)
[14:41:01] *** Quits: int3_ (int3_@moz-D17C1897.cs.umass.edu) (Client exited)
[14:41:16] *** Joins: sonwow (Mibbit@9CCFE499.1957CB35.CF51B3F5.IP)
[14:41:36] <jensnockert> bjz_: ilogb is always 1 less than the exponent from frexp iirc?
[14:42:32] <jensnockert> bjz_: ilogb has a standard IEEE754 significand from 1.0 - r, while frexp has from 0.0 - 1.0
[14:42:44] <bjz_> jensnockert: I think your right - I was having difficulty with that in my tests
[14:43:02] <jensnockert> Good that my memory isn't totally b0rken.
[14:43:31] <bjz_> so confusing. maybe I should just let you do it :)
[14:44:03] <jensnockert> It is confusing for me too.
[14:44:57] <bjz_> so frexp is non-standard? :S
[14:45:08] <jensnockert> It behaves differently.
[14:45:08] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[14:45:18] <jensnockert> Because people likes it that way.
[14:45:34] <jensnockert> While IEEE754 prefers an extra bit of precision.
[14:45:50] <jensnockert> (due to placing an implicit one in front of the significand)
[14:48:04] *** Joins: snearch (snearch@moz-D162D96D.pool.mediaways.net)
[14:49:19] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Ping timeout)
[14:50:08] <kimundi> rusti: f32::to_str_radix(0.5, 2)
[14:50:09] <rusti> ~"0.1"
[14:50:22] <kimundi> rusti: f32::to_str_radix(0.123456789123456789, 2)
[14:50:24] <rusti> ~"0.00011111100110101101110101"
[14:50:57] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[14:51:21] *** Joins: Cromulent (Cromulent@moz-5EAC0C2F.cable.virginmedia.com)
[14:53:24] <jensnockert> bjz_: I think I need to think about this for an hour or two.
[14:53:33] <bjz_> no worries
[14:53:36] <bjz_> thanks btw
[14:53:43] <bjz_> :)
[14:53:59] <bjz_> making progress!
[14:55:18] *** Joins: tgt (tgt@moz-2F277517.nomadic.bris.ac.uk)
[14:57:56] <jensnockert> Thank you bjz_!
[15:01:41] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:02:29] *** Joins: snowmantw (Mibbit@moz-69896760.cs.nccu.edu.tw)
[15:02:56] <jensnockert> bjz_: I think I have finished thinking.
[15:03:16] <jensnockert> bjz_: Since it doesn't affect precision, I think we should return the values that people expect.
[15:03:55] <jensnockert> That is: Significand -> -1.0 to 1.0, Exponent -> so that s * 2^e is the right value.
[15:04:24] <jensnockert> And we shouldn't call encode encode.
[15:04:39] <jensnockert> Since what it really does is add a number to the exponent.
[15:04:56] <jensnockert> We could call it scalb like in C?
[15:05:27] <jensnockert> *scalbln
[15:06:33] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:06:41] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:07:05] <EXetoC> things won't work out too well for ya if you stop thinking completely :/
[15:07:34] <jensnockert> B-b-b-but mommy said..!
[15:07:45] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[15:07:51] <just_bstrie> EXetoC: fortunately, he only thinks that he's finished thinking
[15:08:04] *** Quits: Riton (Riton@moz-6B231BA3.kimsufi.com) (Quit: QUIT MSG)
[15:09:22] *** Joins: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net)
[15:13:31] *** Quits: sonwow (Mibbit@9CCFE499.1957CB35.CF51B3F5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:14:43] *** Quits: snowmantw (Mibbit@moz-69896760.cs.nccu.edu.tw) (Quit: http://www.mibbit.com ajax IRC Client)
[15:15:16] *** Joins: snowmantw (Mibbit@moz-69896760.cs.nccu.edu.tw)
[15:16:23] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[15:18:16] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[15:18:54] <kimundi> Hm, nice new rust blogpost on reddit.
[15:21:06] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[15:21:32] *** Quits: BigEndian (hurp@moz-1B6DD81E.members.linode.com) (Ping timeout)
[15:21:44] *** Quits: jld (jld@moz-B94C75AD.xlerb.net) (Ping timeout)
[15:22:47] *** Joins: BigEndian (hurp@moz-1B6DD81E.members.linode.com)
[15:23:05] *** Quits: tgt (tgt@moz-2F277517.nomadic.bris.ac.uk) (Quit: Computer has gone to sleep.)
[15:24:48] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[15:25:01] *** Joins: jld (jld@moz-B94C75AD.xlerb.net)
[15:25:39] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[15:26:12] <just_bstrie> ugh, is github down
[15:26:45] <jack> just_bstrie: working for me
[15:27:06] <just_bstrie> ah, must have been a micro-outage
[15:27:47] <jensnockert> While off-topic, has anyone applied to Rust for Google Summer of Code?
[15:28:10] <just_bstrie> jensnockert: I remember asking graydon if he wanted to get rust involved, he said they'd likely be too busy to mentor anyone
[15:28:35] *** Joins: graham_king (graham_kin@moz-61791D81.vc.shawcable.net)
[15:29:03] <jensnockert> just_bstrie: That's unfortunate :(
[15:29:14] <jensnockert> Might apply anyhow, just for good measure.
[15:31:14] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[15:32:01] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[15:33:27] <jack> jensnockert: one of the reasons is that mozilla has its own intern program and we have a large set of them this summer.
[15:33:41] <jack> so everyone is already mentoring 2 people just from that :)
[15:34:37] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[15:34:48] <jensnockert> jack: That's nice.
[15:34:53] *** Joins: JonCarlos (Jon@moz-8F3C266E.nwrknj.fios.verizon.net)
[15:34:59] <pauls> Yay, interns!
[15:35:09] <pauls> I'm sorry I can't be one of them this year ) :
[15:35:15] <jensnockert> Hurray for slaves^Winterns! \o/
[15:36:26] <just_bstrie> pauls: that's ok, jclements is sort of like an intern :P
[15:37:52] *** Quits: snearch (snearch@moz-D162D96D.pool.mediaways.net) (Quit: Verlassend)
[15:38:11] <graham_king> My Rust blog post from Friday is number 2 on /r/programming/ !
[15:38:31] <jensnockert> graham_king: Congratulations!
[15:39:15] <erickt> pauls: what are you up to this summer? thesis work?
[15:40:18] <pauls> erickt: yeah. My advisor is super-busy during the semesters, so summer is prime research time.
[15:40:28] <doomlord> is mozillas eventual goal to have an entire webbrowser written in rust
[15:41:03] <jack> doomlord: it's called Servo
[15:41:12] <erickt> doomlord: not any time soon as far as I heard. for example, the javascript engine will be in c++ for a while
[15:41:39] <erickt> servo is only part of the full browser stack
[15:41:49] <doomlord> yes thats what i thought;
[15:42:27] <just_bstrie> graham_king: I have some edits for you :)
[15:42:34] <doomlord> anyone here remember the tim sweeney "next mainstream programming language" wishlist, its really interesting to see how much of that is in rust
[15:42:35] <erickt> but if rust/servo takes off, I wouldn't be surprised if mozilla embraces rust throughout their infrastructure cuz it's awesome
[15:43:04] <just_bstrie> erickt: too late, mozilla is already using Go. might as well shut this project down :)
[15:43:08] <erickt> I was sad that next mainstream programming language never got implemented.
[15:43:10] <erickt> noooo
[15:43:13] <jack> just_bstrie: hahah!
[15:43:25] <erickt> what are they using go for?
[15:43:31] <just_bstrie> erickt: logging, I think
[15:43:31] <graham_king> just_bstrie: Edits are very welcome!
[15:44:10] <jensnockert> doomlord: Is the next mainstream programming language only written in Comic Sans MS, or do I have the wrong presentation?
[15:44:22] <erickt> go still has us beat on simplicity. and networking
[15:44:40] *** Joins: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com)
[15:44:49] <doomlord> http://www.st.cs.uni-saarland.de/edu/seminare/2005/advanced-fp/docs/sweeny.pdf
[15:44:54] <jensnockert> erickt: Anything with a GC will always be simpler.
[15:45:06] <doomlord> i didn't see it in that font before but thats the link i get now
[15:46:09] *** Quits: Cromulent (Cromulent@moz-5EAC0C2F.cable.virginmedia.com) (Ping timeout)
[15:46:11] <jack> erickt: i'm not sure that will always be true. there is sort of a subset of rust which is pretty simple in the same way.
[15:46:14] <just_bstrie> graham_king: hold on, I need to read the post again to remember what they were :P
[15:46:19] <doomlord> you can still be simple if you want just say "use @ by default" ?  (for people who dont want to optimize memory)
[15:46:21] <erickt> jensnockert: I think our unique values can be as simple in most cases. I never think about allocations in my rust code
[15:46:28] <jack> you don't have to use the stack always :)
[15:47:02] <jensnockert> erickt: Yeah, but the complex cases can be quite hairy.
[15:47:05] *** Quits: trapni (trapni@moz-7C7C1909.dawanda.com) (Quit: Leaving)
[15:48:39] <erickt> doomlord: ooh, I forgot about sweeney proposing extending whole frameworks. I always liked that idea. I guess we can do that with careful use of trait type parameterâ€¦.
[15:51:02] <erickt> hrm, we can't pass in a vertices array and an indices array and guarantee they're the same size for arbitrary sizes at compile time yet
[15:51:23] *** Joins: int3_ (int3_@moz-D17C1897.cs.umass.edu)
[15:52:22] <jensnockert> erickt: Nope, but that would be cool if we could.
[15:53:01] *** Joins: Diablo-D3 (diablo@moz-52AA8794.port.east.myfairpoint.net)
[15:53:04] <doy> seems like it'd be doable with associated consts
[15:53:04] <Diablo-D3> hey all
[15:53:10] *** Quits: int3_ (int3_@moz-D17C1897.cs.umass.edu) (Ping timeout)
[15:53:22] <erickt> Diablo-D3: good morning
[15:53:30] *** kimundi is now known as zz_kimundi
[15:53:53] <erickt> lol: "C# exposes more than 10 integer-like data types, none of which are defined by (Pythagoras, 500BC)"
[15:55:09] <jensnockert> Partially because Pythagoras were a bit weird.
[15:55:33] *** Quits: dbaupp (Thunderbir@moz-5F6D4A2B.lns20.syd6.internode.on.net) (Ping timeout)
[15:55:49] <jensnockert> I doubt he used zero for example.
[15:56:29] <EXetoC> what an idiot
[15:56:50] <just_bstrie> EXetoC: woah now, I could've sworn I've heard of some theory of his...
[15:57:05] <Diablo-D3> okay so
[15:57:07] <EXetoC> :D
[15:57:08] <jensnockert> just_bstrie: Triangles are just a theory.
[15:57:29] <just_bstrie> jensnockert: one which I don't subscribe to, thankyouverymuch
[15:57:33] <Diablo-D3> my religion is that threads are evil, and everything should be done using multiple processes communicating with async pipes.
[15:57:42] <Diablo-D3> is rust compatible with my religion?
[15:58:11] <just_bstrie> my religion is that squares are the most primitive geometric type
[15:58:17] * just_bstrie hugs his sega saturn
[15:58:23] <jensnockert> just_bstrie: Spheres!
[15:58:28] <Diablo-D3> oh man I miss quads
[15:58:50] *** Joins: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[15:59:06] <EXetoC> parallelpipeds!
[15:59:07] <jensnockert> Diablo-D3: Mostly, yes.
[15:59:22] <jensnockert> Diablo-D3: Depending on the definition of processes.
[15:59:31] <jensnockert> Diablo-D3: And some other technicalities.
[15:59:31] <Diablo-D3> jensnockert: fork() is the usual method, but Im open
[15:59:37] <EXetoC> is diablo-d3 like a d3 mod for d1?
[15:59:55] <Diablo-D3> EXetoC: my nick predates Blizzard Entertainment, Co.
[16:01:08] <Diablo-D3> jensnockert: btw, I assume rust is thread safe
[16:01:14] <just_bstrie> jensnockert: can you elaborate?
[16:01:25] * Diablo-D3 hates thread safe code with a passion
[16:01:33] <jensnockert> Diablo-D3: If you don't tell it to be unsafe, then you're safe.
[16:01:38] <jensnockert> just_bstrie: On spheres?
[16:01:52] <just_bstrie> jensnockert: no, on what Diablo-D3 is asking :)
[16:02:00] <EXetoC> Diablo-D3: I thought it was spoon(), but now I see why the compiler complained
[16:02:23] *** Joins: int3_ (int3_@moz-D17C1897.cs.umass.edu)
[16:02:29] <jensnockert> just_bstrie: Tasks in Rust are not processes, also, there are pointers if you really want to.
[16:02:31] <EXetoC> huehuehue
[16:03:08] <Diablo-D3> tasks in rust are coroutines/fibres
[16:03:16] <Diablo-D3> or erlang threads
[16:03:33] <Diablo-D3> theres a place for those if you're on a language that doesn't use C-like stacks
[16:04:24] <doomlord> so can rust do go's trick of spawning huge numbers of tasks and  swtiching is lightweight
[16:04:26] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[16:04:40] <just_bstrie> doomlord: spawning, yeah. not sure about switching just yet
[16:04:46] <Diablo-D3> doomlorm: yeah, but that also implies threads and shared memory
[16:04:53] <Diablo-D3> which are performance killers
[16:05:10] *** Joins: tgt (tgt@moz-2F277517.nomadic.bris.ac.uk)
[16:05:13] <doomlord> i think rust goes to great lengths to avoid or control shared memory
[16:05:28] <just_bstrie> Diablo-D3: rust doesn't use C-like stacks though
[16:05:31] <Diablo-D3> the thing is, everything Im asking for can be done in C
[16:05:33] <Diablo-D3> just_bstrie: yes, it doesnt
[16:05:47] <jensnockert> As long as you don't use unsafe code, you're "safe" from shared memory.
[16:05:57] <doomlord> C can do anything, just not pleasantly
[16:06:16] <jensnockert> INLINE ASSEMBLY ALL THE THINGS!
[16:06:30] <EXetoC> asm as well, last time I... crap, beat me to it
[16:06:32] <Diablo-D3> heh, I wrote a coroutines implementation in C once
[16:06:40] <Diablo-D3> I never want to understand how C stacks work ever again
[16:06:58] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[16:07:01] <jensnockert> What's wrong with stacks? /o\
[16:07:39] <Diablo-D3> nothing
[16:07:51] <EXetoC> getting at the bottom is a pain
[16:08:03] <Diablo-D3> its just that trying to manipulate stacks in C usefully is just near impossible
[16:08:06] <EXetoC> stacks influenced by gravity anyway
[16:08:32] *** Quits: libertas (libertas@moz-33618497.rev.vodafone.pt) (Ping timeout)
[16:08:40] <Diablo-D3> also, hrm, where did I put that url
[16:09:03] <Diablo-D3> https://www.evernote.com/shard/s248/sh/c188c52a-3db4-46c1-84d8-1a38d5b93181/0312b5aa06a4b1a4c8442272863e87a1
[16:09:07] <Diablo-D3> thats what I want in a language
[16:09:14] <Diablo-D3> rust does a lot of this already
[16:09:21] *** Quits: lieshidden (lieshidden@moz-1DFB45D.dhcp.trlk.ca.charter.com) (Ping timeout)
[16:09:26] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[16:09:53] <jensnockert> EXetoC: I'm not sure, they grow downward, so when getting to the bottom, you're quite high up.
[16:10:00] <doomlord> i had my own short wishlist , again rust ticks many boxes
[16:10:14] <EXetoC> C-like syntax? d'oh
[16:10:24] <doomlord> the sad thing is the changes to C++ to "fix it" for me would be small, its just there are OOP zeealots who'd oppose them i'm sure
[16:10:26] <Diablo-D3> back in the late 60s, IBM realized how computers work
[16:10:35] <Diablo-D3> they are highly asynchronous and synchronization is very painful
[16:10:47] <Diablo-D3> C++ can be fixed yes
[16:10:49] <Diablo-D3> get rid of threads
[16:10:53] <Diablo-D3> get rid of thread safety
[16:11:00] <Diablo-D3> get rid of multiple inheritence
[16:11:07] <Diablo-D3> add mixins like I described in that document
[16:11:10] <jensnockert> Diablo-D3: C++ doesn't even have threads before C++ 11â€¦
[16:11:21] <Diablo-D3> jensnockert: no, but its thread safe under posix
[16:11:29] <Diablo-D3> oh, and get rid of atomics too, which c++ 11 has
[16:11:41] <jensnockert> Why get rid of atomics /o\
[16:12:02] <doomlord> what are mixins - my big wish is so called "extention methods" or D's "uniform call syntax". most of myfrustratioin simply boils down to a.foo(b) vs foo(a,b) and the way that makes everyone put things in stupid classes
[16:12:33] <doomlord> oh i like atomics, the thing with that sort of thing is you dont have to use them if you dont want to
[16:12:41] <jensnockert> On the other hand, I am probably the only one here who thinks that OpenCL local memory is an amazing idea. So my view on parallelism may or may not be totally broken.
[16:12:46] <EXetoC> the ability to inject things into the current scope, in D anyway
[16:12:54] <doomlord> local memory is a great idea
[16:13:01] <Diablo-D3> doomlord: mixins are how interfaces actually work in the real world
[16:13:04] <Diablo-D3> you attach behaviors to a class
[16:13:10] <doomlord> ok so thats like rust traits ?
[16:13:19] <Diablo-D3> some languages call them traits, I dont know if rust does
[16:13:30] <doomlord> rust calls them traits :)
[16:13:37] <doomlord> C# calls them extention methods i think?
[16:13:40] <Diablo-D3> https://en.wikipedia.org/wiki/Mixins
[16:13:41] <just_bstrie> rust calls *something* traits
[16:13:54] <just_bstrie> they're not like the traits described in the research paper that introduced traits
[16:14:03] <just_bstrie> and that paper mentions mixins
[16:14:14] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[16:14:20] <jensnockert> I would think rust traits are more like mixins.
[16:14:36] <jensnockert> Not having read that particular paper.
[16:14:39] <just_bstrie> not really... I think one of the hallmarks of mixins is that they're order-dependent
[16:14:42] <doomlord> traits are how you bolt more functions onto a class in rust ? but they also provide constraints for the equivalent of function overloading in C++ as far as i can tell, for more structured generic programming ? ... and they double up as vtable interaces *when asked for*
[16:14:56] <just_bstrie> jensnockert: also, I think mixins can carry state
[16:15:03] <Diablo-D3> just_bstrie: they dont have to be order dependent
[16:15:12] <doomlord> what I can say for sure is the C++ class system is completely and utterly retarded 
[16:15:13] <Diablo-D3> in my perfect languages, mixins can just inherit other mixins
[16:15:19] <Diablo-D3> doomlord: I agree
[16:15:22] <just_bstrie> basically, rust traits are idiosyncratic. don't try to apply terms to them :)
[16:15:44] <just_bstrie> "haskell typeclasses + java interfaces" seems to be the one that gets thrown around a lot
[16:15:45] <jensnockert> Let us just call them herpaderps.
[16:16:03] <Diablo-D3> just_bstrie: oh dear lord
[16:16:05] <Diablo-D3> _why_
[16:16:06] <just_bstrie> jensnockert: name too long, it violates the five-character rule. how about just "herps"
[16:16:08] *** Quits: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[16:16:32] <Diablo-D3> so yeah
[16:16:33] <jensnockert> just_bstrie: Let us make it sound singular, herp.
[16:16:39] <Diablo-D3> I want to try rust but Im not sure if Im going to like it
[16:16:41] <jensnockert> herp Num: â€¦
[16:16:49] <Diablo-D3> jensnockert: yeah but then we need derps
[16:16:53] <just_bstrie> Diablo-D3: that is a distinct possibility :)
[16:16:59] <jensnockert> Diablo-D3: They are implementations.
[16:17:00] <Diablo-D3> maybe the object type should be derp
[16:17:07] <Diablo-D3> and then derp has a method named herp
[16:17:07] <just_bstrie> Diablo-D3: the real question is whether or not you'll hate it less than anything else that's available
[16:17:10] <Diablo-D3> so you can herp a derp
[16:17:23] *** Joins: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com)
[16:17:38] <jensnockert> Diablo-D3: You're right, you herp a derp. So traits should be renamed derps, and impls to herps.
[16:17:53] <Diablo-D3> exactly!
[16:17:59] <just_bstrie> yo dawg, herd u like herpaderp so I put a herp in ur derp so you can derp while u herp
[16:18:25] <jensnockert> I think we should add more sigils while we're at it.
[16:18:26] <EXetoC> amazing
[16:18:42] <just_bstrie> this channel really goes into decline outside of californian working hours :)
[16:18:45] <EXetoC> jensnockert: â†’â†“â†?
[16:18:54] <jensnockert> EXetoC: Right!
[16:19:06] <Diablo-D3> so yeah, I dunno
[16:19:10] <EXetoC> for improved code path visualization
[16:19:12] <Diablo-D3> I've done C for like 15 years
[16:19:13] <Diablo-D3> I like C
[16:19:17] <Diablo-D3> Ive tried Java, I hate it
[16:19:26] <Diablo-D3> I refuse to try Python until they quit with that whitespace bullshit
[16:19:33] <Diablo-D3> I like perl but not for serious programming
[16:19:36] <doomlord> i prefer "c/c++" to c++
[16:19:37] <EXetoC> but everyone indents anyway
[16:19:54] <doomlord> c++ that c++ purists would reject
[16:19:57] <EXetoC> maybe not brainfuck users, but screw them :-P
[16:20:01] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:20:03] *** Quits: dcamp (dcamp@moz-930D5B64.hsd1.wa.comcast.net) (Quit: Linkinus - http://linkinus.com)
[16:20:10] <Diablo-D3> I refuse to use c++.
[16:20:14] <Diablo-D3> I absolutely refuse to.
[16:20:23] <jensnockert> Some of my favourites â›µðŸš¤ðŸš£âš“ðŸš€âœˆðŸ’ºðŸšðŸš‚ (may or may not be OS X-only)
[16:20:25] <Diablo-D3> brb, xchat is acting weird
[16:20:26] *** Parts: Diablo-D3 (diablo@moz-52AA8794.port.east.myfairpoint.net) ()
[16:20:33] *** Joins: Diablo-D3 (diablo@moz-52AA8794.port.east.myfairpoint.net)
[16:20:56] <jensnockert> â™¨ we should use for java interop.
[16:20:58] <Diablo-D3> erlang physically can do what I want except that its slower than hell
[16:21:06] <Diablo-D3> the syntax is just insane
[16:21:18] <jensnockert> Y u no like prolog ?!
[16:21:25] <Diablo-D3> go baffles the hell out of me
[16:21:27] <jensnockert> Oh right, yes, all that silly syntax.
[16:21:34] <Diablo-D3> how can such a smart group of people code such a worthless language
[16:21:45] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[16:22:19] <Scriptor> what don't you like about go?
[16:22:37] *** Joins: Cromulent (Cromulent@moz-5EAC0C2F.cable.virginmedia.com)
[16:22:57] <just_bstrie> Diablo-D3: no language-bashing please
[16:23:03] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[16:23:18] <Diablo-D3> Scriptor: they dont actually produce a useful workflow
[16:23:18] <jensnockert> Now I have to go, have a meeting to go to.
[16:23:32] <Diablo-D3> and their implementation compiler is worthless, although I heard someone was making a llvm one
[16:23:52] <Diablo-D3> like, I agree with robert pike on how concurrency actually works
[16:23:57] <Diablo-D3> go _does not actually implement this_
[16:25:13] *** Joins: dcamp (dcamp@moz-930D5B64.hsd1.wa.comcast.net)
[16:25:19] *** zz_kimundi is now known as kimundi
[16:25:32] <jensnockert> Rust should implement cookies :(
[16:25:58] <otters> who wants a rust cookie
[16:26:06] <jensnockert> I should be able to type `rust cookie` and a cookie should be 3d printed out from the DVD drive.
[16:26:22] <otters> rust-flavored
[16:26:38] <Diablo-D3> so Im hoping rust can do what I want
[16:26:41] <Diablo-D3> rust advertises C-like speed
[16:26:49] <Diablo-D3> which is probably the most important feature
[16:26:50] <jensnockert> I wouldn't mind, I would be amazed that my broken DVD could print cookies.
[16:27:36] <EXetoC> we might be able to print cookies soon, assuming that plastic and other inorganic materials won't be the only options
[16:27:54] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[16:27:57] <Diablo-D3> you can burn graphite cookies in dvd burners
[16:28:03] *** Joins: lieshidden (kvirc@moz-1DFB45D.dhcp.trlk.ca.charter.com)
[16:28:10] *** Joins: catpig (catpig@moz-1F81F1A7.dip0.t-ipconnect.de)
[16:28:40] *** Joins: Jesse_ (jruderman@2557E599.66715431.D25A875A.IP)
[16:28:42] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[16:28:43] <jensnockert> EXetoC: Isn't plastic organic?
[16:28:56] *** Quits: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[16:29:03] *** Quits: SimonSapin1 (simon@moz-58CD503D.fbx.proxad.net) (Ping timeout)
[16:29:06] <jensnockert> Oh wait, this may or may not be chemistry class.
[16:29:11] *** Quits: Jesse_ (jruderman@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[16:29:29] <doomlord> its only organic if you grow it on an organic farm i think?
[16:29:47] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Quit: Konversation terminated!)
[16:31:01] <doomlord> :)
[16:31:18] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[16:31:51] <just_bstrie> graham_king: in your "Looping" section, you put semicolons after the for-loops
[16:32:02] <Diablo-D3> so basically what I want is this
[16:32:09] <Diablo-D3> I want to be able to build an async dequeue
[16:32:14] <Diablo-D3> and then loop on the dequeu
[16:32:16] <Diablo-D3> *dequeue
[16:32:22] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[16:32:29] <Diablo-D3> in C I can do this easily
[16:32:30] *** Quits: jensnockert (Jens@moz-ECD727C.cust.bredband2.com) (Quit: jensnockert)
[16:32:39] *** Quits: Cromulent (Cromulent@moz-5EAC0C2F.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[16:32:40] <Diablo-D3> I havent looked at rust's syntax enough to know if I can
[16:35:52] <just_bstrie> Diablo-D3: brson and pcwalton are the ones that have done the most with concurrency, they should be on in the next hour or so
[16:37:09] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[16:37:48] *** Quits: pnkfelix|rcirc (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Ping timeout)
[16:37:55] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Ping timeout)
[16:39:28] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:40:27] <graham_king> just_bstrie: About semi-colons after for loops. It compiles and runs fine both with and without
[16:40:40] <graham_king> I'll remove them, thanks for noticing that.
[16:40:58] <doomlord> how do rust  traits compare to the proposed C++ 'concepts' (i haven't looked into the latter much )
[16:41:30] <graham_king> semi-colons removed
[16:41:44] <just_bstrie> doomlord: I hear they're similar, but the most salient difference is that rust will hopefully be ready before 2017 :)
[16:42:13] <doomlord> yeah - and it seems rust traits already do the job of other removed c++ features better
[16:42:15] <graham_king> I'm really liking the 'match' in Rust. Last night I did a match on os::args(), made me happy
[16:42:36] <doomlord> i've yet to try this, switch on steroids?
[16:42:45] <otters> yeah, basically every language needs pattern matching
[16:42:48] <EXetoC> sort of
[16:43:16] <just_bstrie> graham_king: yes, vector destructuring is fun :)
[16:43:25] <graham_king> doomlord: Came out like this for me: https://github.com/grahamking/highlow/blob/master/highlow.rs#L201
[16:43:30] <otters> except languages that are anti-datatype
[16:43:32] <otters> like ruby
[16:44:02] <just_bstrie> graham_king: that's pretty great
[16:44:54] <doomlord> supposedly matching in ML makes it good at writing compilers? .. does the same apply to rust
[16:44:56] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[16:45:29] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[16:46:07] <just_bstrie> doomlord: I'm more curious why people say ML is great for writing compilers in the first place :)
[16:46:47] <just_bstrie> you always hear it said, but nobody ever bothers to elaborate...
[16:47:38] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:50:32] *** Quits: int3_ (int3_@moz-D17C1897.cs.umass.edu) (Client exited)
[16:52:57] *** Joins: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com)
[16:52:58] *** Quits: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com) (Quit: jbclements)
[16:57:20] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[16:58:30] *** Joins: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP)
[16:58:33] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:59:05] <TD-Linux> yes, match is delicious
[16:59:21] <lieshidden> Like a perfectly grilled burger? :P
[16:59:36] <Diablo-D3> er
[16:59:37] <TD-Linux> quite a bit better, it doesn't leave you with the guilt afterwards
[16:59:41] <Diablo-D3> TD, are you the TD that I know?
[16:59:44] *** Joins: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr)
[16:59:49] <lieshidden> LMAO, touche
[16:59:53] <TD-Linux> Diablo-D3, I use this nick many places
[17:00:55] <Diablo-D3> TD-Linux: #bitcoin?
[17:00:59] <TD-Linux> nope
[17:01:08] <Diablo-D3> ahh, different TD then
[17:01:25] <Diablo-D3> that TD works for Google =P
[17:02:06] <TD-Linux> the '-Linux' is because I couldn't use a two character nick, and I was 15 and had just recently installed Red Hat
[17:02:31] <TD-Linux> I got offered an internship at google last week and turned it down :/
[17:02:41] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Ping timeout)
[17:02:44] <Diablo-D3> two TDs at Google lol.
[17:02:47] <Diablo-D3> that'd be weird.
[17:03:47] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[17:04:41] *** Quits: snowmantw (Mibbit@moz-69896760.cs.nccu.edu.tw) (Quit: http://www.mibbit.com ajax IRC Client)
[17:04:54] <otters> I want to intern at google, that sounds like fun
[17:05:23] <lieshidden> I'd prefer an internship at Mozilla, but google would be great too :D
[17:05:45] <Diablo-D3> I'd prefer to work at a startup
[17:06:02] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[17:06:02] *** ChanServ sets mode: +o brson
[17:06:16] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[17:06:38] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:06:54] *** Joins: guitsaru (guitsaru@A8985A22.5DF68D0E.4C2245EF.IP)
[17:09:03] *** Joins: jensnockert (Jens@170F7DB2.A2E19E6B.A94117DA.IP)
[17:09:10] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:09:44] *** Quits: tgt (tgt@moz-2F277517.nomadic.bris.ac.uk) (Quit: Computer has gone to sleep.)
[17:10:48] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Client exited)
[17:11:01] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:11:02] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:12:23] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[17:12:23] *** ChanServ sets mode: +o pcwalton
[17:13:02] *** Joins: vosen_ (vosen@moz-266BA656.icpnet.pl)
[17:13:08] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Ping timeout)
[17:14:16] <graham_king> For anyone looking for work in NYC (and euh, who's ok with CakePHP), this looks worth doing: http://www.charitywater.org/about/jobs/software-developer/
[17:14:25] <graham_king> "Stuff that matters"
[17:14:50] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[17:15:30] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:16:58] <kimundi> graham_king: Did you intentionally use ~"..." in your blogpost instead of "..." ?
[17:17:13] *** Joins: arrogantpenguin (Mibbit@moz-1A1191D7.hsd1.nh.comcast.net)
[17:17:39] <graham_king> kimundi: Only when the compiler complained at me :-)
[17:18:15] <kimundi> Okay thats fair ;)
[17:18:21] <graham_king> Although later I may have just used it automatically. Is there some place I can remove it?
[17:18:31] <graham_king> The compiler is really helpful.
[17:19:05] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[17:19:41] <pcwalton> we should just make "..." work in most cases
[17:19:51] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[17:19:51] *** ChanServ sets mode: +o dherman
[17:20:01] <lieshidden> All the ops are showing up :)
[17:20:16] <just_bstrie> lieshidden: they're all in the same time zone :P
[17:20:30] <lieshidden> Oh, I don't doubt that lol
[17:20:48] <just_bstrie> as the sun rises in california, all the tomfoolerers slink back into the woodwork
[17:21:42] <arrogantpenguin> is there a reason that the Makefile doesnt seem to have a make (clean, dist-clean) option?
[17:21:56] <just_bstrie> arrogantpenguin: "make clean" should work
[17:22:10] *** Joins: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com)
[17:23:41] <lieshidden> blah, I really need to remember to su - when I try to git pull lol
[17:23:54] <just_bstrie> lieshidden: su to pull??
[17:25:12] *** Quits: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[17:25:16] *** Joins: Blei (philipp@moz-96D25F7A.cust.bluewin.ch)
[17:25:22] *** Joins: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com)
[17:25:23] <lieshidden> I get permission denied if I don't. *shrugs*  I guess I could set up a group for it and add my user to it, but it's just as easy to su -.
[17:25:50] <jbclements> leshidden: dear Heaven! you live on a scary planet.
[17:26:32] <lieshidden> *chuckles* well, according to my mother-in-law, I am an alien :P
[17:26:32] <jbclements> leshidden: can't you just do everything in userland?
[17:27:02] <lieshidden> If I set it up that way, but I'm paranoid, I'd rather make sure I'm authorizing things to run :P
[17:27:06] <jbclements> leshidden: my mother-in-law died before meeting me. Hmm, TMI I think.
[17:27:25] <just_bstrie> jbclements: you make it sound like you were in the car, on the way to her house...
[17:27:47] <jbclements> bstrie: gracious, no, that would be grim.
[17:28:08] *** Joins: Wombatise (Wombatise@moz-E7EA111C.clients.kiwiirc.com)
[17:28:16] <jbclements> leshidden: su-ing before git update sounds like the *opposite* of paranoid to me....
[17:28:27] *** Quits: arrogantpenguin (Mibbit@moz-1A1191D7.hsd1.nh.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:29:06] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[17:29:49] <just_bstrie> lieshidden: to make sure you stay paranoid, I'm going to start adding lines to the compiler that open and close your disk drive if $USER == "lieshidden"
[17:29:50] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse)
[17:29:59] <lieshidden> ROFL
[17:31:03] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:32:15] <kimundi> rusti: fmt!("%s", "static str")
[17:32:17] <rusti> ~"static str"
[17:32:27] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[17:32:48] <kimundi> rusti: println("static str")
[17:32:50] <rusti> static str
[17:33:18] <lieshidden> ^ that's a nifty bot, btw.
[17:33:24] <just_bstrie> rusti: "asdf"
[17:33:26] <rusti> "asdf"
[17:33:51] <kimundi> okay. graham_king: In your ask your name example, you can change fn ask_name(prompt: ~str) to fn ask_name(prompt: &str), and remove the ~ in ask_name(~"What is your name?")
[17:34:34] <just_bstrie> rusti: println("asdf");
[17:34:35] <rusti> asdf
[17:35:03] <graham_king> kimundi: I'm trying to avoid & - I haven't introduced that yet.
[17:35:09] <kimundi> Ah, okay
[17:35:16] <kimundi> then better stick to ~str for now
[17:35:46] <graham_king> It's very hard introducing Rust without forward references.
[17:36:12] *** Parts: Wombatise (Wombatise@moz-E7EA111C.clients.kiwiirc.com) ()
[17:36:14] <kimundi> But the "For now ~str is just how you declare a string." explanaition could get changed to "For now ~str is just how you declare a string on the heap." To not make wrogn impressions, imo :)
[17:36:40] <just_bstrie> I was going to make the same comment, but couldn't think of a better wording :)
[17:37:14] *** Quits: jensnockert (Jens@170F7DB2.A2E19E6B.A94117DA.IP) (Quit: jensnockert)
[17:37:22] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:37:22] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:37:50] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:38:53] <kimundi> Maybe throw in a "The use of ~str here is actually not idiomatic, in a later blogpost we will see how that would actually be solved" or so
[17:39:17] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[17:40:23] <graham_king> kimundi: Thanks! I've changed to add "...on the heap".
[17:41:02] <graham_king> I dunno about adding a warning about not being idiomatic. In learning Rust I found there's already so much to load into your head, at the start,
[17:41:18] <graham_king> that I don't want to decorate the learning with "and you'll have to forget this later"
[17:41:28] <kimundi> Also minor-minor nitpick ;) "You allow yourself to change a variable by prefixing itâ€™s name with mut" I think that "You allow yourself to change a variable by adding a mut behind the let" conveys better how it works. The firs wording in my opinion implies that mutabaility is a property of the variable, instead of the owner
[17:41:42] <kimundi> Yeah, thats true
[17:42:01] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[17:43:37] <kimundi> The explanaition of ownership seems a bit sketchy, but on the other hand a full explanaition might be too verbose for that post, hmm...
[17:44:06] <kimundi> But anyway, great post! :)
[17:44:30] <graham_king> Hehe, yeah it's very sketchy, partly because my understanding is evolving, but mostly because that's the part that really slowed me down learning.
[17:45:03] <graham_king> So I wanted readers to not stop there, to keep going to the other interesting stuff.
[17:45:11] <graham_king> And thanks!
[17:45:41] <graham_king> I think there's a risk, when showing Rust, of dwelling too much on the pointers types / memory management.
[17:45:57] <graham_king> If you're coming from Go, Ruby, Java, you alreayd have to figure out what a pointer is.
[17:46:25] *** Joins: int3_ (int3_@moz-4F9BAFA5.subnet-248.amherst.edu)
[17:46:48] <graham_king> So by hand-waving a bit around that, I was hoping readers would move on and discover the rest. The compiler tells you when you get the ~ @ & wrong, and for learning projects it doesn't matter much (IMHO).
[17:47:29] <nmatsakis> pcwalton: ping
[17:47:41] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Quit: Leaving.)
[17:47:44] <pcwalton> nmatsakis: pong
[17:47:52] <just_bstrie> does anyone think it would be conceivable to allow fmt! to take static strs as well as string literals?
[17:48:23] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[17:48:34] <nmatsakis> pcwalton: I had some questions about the box annihilator, but I think I already figured those out
[17:48:38] <nmatsakis> (as in, just now)
[17:48:45] <just_bstrie> hm, I guess I really just care about having some kind of dynamic interpolation
[17:48:55] <nmatsakis> pcwalton: however I wanted to ask you whether any progress had been made on the fast_ffi stuff
[17:49:04] <pcwalton> nmatsakis: for structs or...?
[17:49:54] *** Joins: igl (igl@moz-7B6AAEAC.adsl.alicedsl.de)
[17:50:21] <nmatsakis> pcwalton: I mean with respect to the perf issues we were talking about the other day
[17:50:30] <pcwalton> nmatsakis: oh, right
[17:50:32] <pcwalton> I know what the problem is
[17:50:35] <pcwalton> it's fixable.
[17:51:19] <nmatsakis> pcwalton: what is it?
[17:51:23] <nmatsakis> (or is it a pain to summarize)
[17:51:34] <pcwalton> there's a linear search for the big stack in the list of stacks
[17:51:46] <nmatsakis> I see
[17:53:03] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:53:03] <ghrust> 01[13rust01] 15bors merged 06incoming into 06auto: 02http://git.io/pGcPGw
[17:53:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:53:07] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:53:07] <ghrust> 01[13rust01] 15bors pushed 17 new commits to 06auto: 02http://git.io/RTH53A
[17:53:07] <ghrust> 13rust/06auto 1433ab5e2 15Tim Chevalier: Revert "libcore: remove unnecessary deref"...
[17:53:07] <ghrust> 13rust/06auto 14c09fba7 15Patrick Walton: librustc: Remove `ptr::addr_of`.
[17:53:07] <ghrust> 13rust/06auto 140829487 15Patrick Walton: librustc: Implement `reinterpret_cast` in terms of `transmute`.
[17:53:08] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:54:13] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[17:54:14] *** Joins: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net)
[17:54:23] *** Quits: jyasskin_w (jyasskin@DAF66858.C60FE7DC.4065847B.IP) (Ping timeout)
[17:55:30] *** Quits: int3_ (int3_@moz-4F9BAFA5.subnet-248.amherst.edu) (Client exited)
[17:55:40] <pcwalton> nmatsakis: there's a borrow check error question on the ML
[17:55:46] <kimundi> So, is the valgrind issue solved/surpressed now? When will we get a new snapshot? :)
[17:56:51] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:57:05] <nmatsakis> pcwalton: ok.
[17:57:30] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[17:58:32] *** Joins: gareth0 (gareth0@moz-D770EAF6.dynamic.dsl.as9105.com)
[17:58:52] <strcat> kimundi: there's a new issue
[17:59:01] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Input/output error)
[17:59:20] <strcat> http://buildbot.rust-lang.org/builders/incoming-full-linux/builds/1057/steps/test/logs/stdio failing test
[17:59:26] <strcat> consistently failing
[18:00:34] <strcat> strange that it doesn't fail in auto
[18:01:06] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Quit: Leaving.)
[18:01:06] *** Joins: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net)
[18:01:08] *** Quits: pnkfelix (pnkfelix@moz-801E009D.vlan502.asr1.cdg2.gblx.net) (Input/output error)
[18:01:58] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[18:02:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:04:03] *** Joins: jensnockert (Jens@170F7DB2.A2E19E6B.A94117DA.IP)
[18:05:07] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[18:06:23] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[18:06:45] <kimundi> strcat: Interesting. The error message implies it gets killed by thetest runner?
[18:07:07] *** Joins: int3_ (int3_@moz-4F9BAFA5.subnet-248.amherst.edu)
[18:08:40] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[18:09:59] *** Quits: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[18:10:31] *** Joins: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com)
[18:12:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[18:13:57] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.0)
[18:17:25] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[18:17:30] *** Quits: fabiand (fabiand@moz-58E5D6CF.adsl.alicedsl.de) (Quit: Verlassend)
[18:17:41] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[18:17:56] *** Joins: davbo (dave@moz-E2C65EB0.zone11.bethere.co.uk)
[18:18:50] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:21:15] *** Joins: libertas (libertas@98ADBCEC.786003BB.593B3862.IP)
[18:24:24] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[18:24:30] *** Joins: jaen (jaen@moz-B9C07DF5.ondraszek.ds.polsl.pl)
[18:24:34] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[18:24:58] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[18:24:58] *** ChanServ sets mode: +o pcwalton
[18:26:12] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:28:21] *** Joins: jyasskin_w (jyasskin@DAF66858.C60FE7DC.4065847B.IP)
[18:30:14] <just_bstrie> kimundi: what, you didn't know the language was named after a fungus? :3
[18:31:05] <Jeaye> Latest incoming fails to build on Arch 32bit for me: http://dpaste.com/1078299/
[18:33:39] <graham_king> just_bstrie: Is that for real? Named after the Rust fungus?
[18:34:01] <kimundi> just_bstrie: I though it was named that because its goal is to slowly corrupt andf corrode all other languages, until ther is only rust. :P
[18:34:19] <kimundi> just_bstrie: And other seem to think it stands for "really unsettling syntactic tango"
[18:34:39] <Blei> Jeaye: https://github.com/mozilla/rust/issues/6096
[18:34:39] *** Quits: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[18:34:45] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[18:34:46] *** Joins: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com)
[18:34:46] *** Quits: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com) (Quit: jbclements)
[18:34:59] *** Joins: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com)
[18:35:33] <just_bstrie> graham_king: graydon has only mentioned the origin once, years ago. everyone else just presumes it's some pun related to "browser chrome" or some reference to only using established language design
[18:35:33] <Jeaye> Blei: Awww. :(
[18:35:40] <just_bstrie> really it's just because graydon likes fungi
[18:36:57] <kimundi> just_bstrie, you know, sometimes I'm not sure if your serious or not...
[18:37:15] <just_bstrie> kimundi: sometimes I'm not either, which is part of why I'm so convincing :)
[18:37:17] *** Quits: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu) (Quit: Leaving)
[18:37:24] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[18:37:56] <kimundi> Ha, that's true. ;D
[18:38:53] <just_bstrie> in any case, rust is an awesome name 100%
[18:39:07] <just_bstrie> I wouldn't be here if the language had a lame name
[18:39:23] <BitPuffin> Hmm
[18:39:31] <BitPuffin> someone should make allegro bindings for rust :)
[18:40:23] <BitPuffin> wait what
[18:40:28] <BitPuffin> siegelord already has
[18:40:56] <just_bstrie> but are they updated?
[18:41:06] <BitPuffin> 16 days ago
[18:41:07] <BitPuffin> WIP though
[18:41:24] <BitPuffin> https://github.com/SiegeLord/RustAllegro
[18:41:24] *** Quits: twm (twm@moz-13417AD3.dsl.static.sonic.net) (Connection reset by peer)
[18:41:53] <just_bstrie> missed opportunity for "allegrust"
[18:41:56] <kimundi> I was shocked to find out that there is actually a currently mainatend eclipse plugin for rust. I assumed that would be way of.
[18:42:07] <BitPuffin> off
[18:42:08] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Quit: victorporof)
[18:42:13] <just_bstrie> kimundi: but does it do anything fancy yet
[18:42:28] <EXetoC> BitPuffin: welcome to the dark side my friend
[18:42:29] <kimundi> Don't kno. It exists, more than I expected :P
[18:42:35] <BitPuffin> EXetoC: Ahaha :)
[18:43:20] <kimundi> We should make a wike page. "Great rust puns that aren't yet taken as libary names"
[18:43:27] <BitPuffin> EXetoC: I'm kind of starting to feel that Rust is a bit more cleaner than D. Love D still, will problably not do anything serious with Rust until it's finalized but I'll play with it quite a bit with smaller projects until then!
[18:44:05] *** Quits: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP) (Ping timeout)
[18:44:45] *** Quits: seth (seth@moz-D840E602.dsl.static.sonic.net) (Input/output error)
[18:45:20] *** Joins: eholk (eric@moz-D5BE5964.hsd1.in.comcast.net)
[18:46:25] <Blei> i just thought there should be a gtk binding, but then i found grust!
[18:46:43] <BitPuffin> there should be a qt binding
[18:46:45] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[18:47:01] *** Joins: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP)
[18:49:19] *** Quits: jbclements (jbclements@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[18:50:12] *** Quits: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu) (Ping timeout)
[18:50:12] *** Joins: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP)
[18:50:12] *** ChanServ sets mode: +o tjc
[18:50:59] <just_bstrie> hm, where did rusti go
[18:52:33] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[18:52:48] *** Quits: jensnockert (Jens@170F7DB2.A2E19E6B.A94117DA.IP) (Quit: jensnockert)
[18:53:24] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[18:56:27] *** Quits: Blei (philipp@moz-96D25F7A.cust.bluewin.ch) (Quit: WeeChat 0.4.0)
[18:57:50] *** Quits: eholk (eric@moz-D5BE5964.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[18:58:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:59:07] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:59:07] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147af8061 to 143290110: 02http://git.io/N3iJvQ
[18:59:07] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:59:07] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:59:07] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/NVYeqQ
[18:59:07] <ghrust> 13rust/06auto 149968ccf 15Dan Luu: Update old xfailing spawn/bind/join test
[18:59:07] <ghrust> 13rust/06auto 14212d77e 15Dan Luu: Remove test for any type -> match type, which doesn't seem to exist anymore
[18:59:08] <ghrust> 13rust/06auto 14e9814da 15Dan Luu: Updated spawn / loop thread to work with current syntax
[18:59:10] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:00:02] <kimundi> just_bstrie: It seems to have exited 40min ago together with strcat
[19:00:59] *** Joins: twm (twm@moz-13417AD3.dsl.static.sonic.net)
[19:02:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:02:25] <just_bstrie> I really want some kind of dynamic string interpolation in rust so that I can make a concise quine :(
[19:03:36] <just_bstrie> hm, actually... that could probably be done with a method
[19:04:25] <just_bstrie> perhaps I will go and implement python's .format()...
[19:04:57] <just_bstrie> agh, wait, can't have variadic methods
[19:05:11] <kimundi> just_bstrie: could just use a vector as argument
[19:05:21] <Diablo-D3> heh
[19:05:32] <Diablo-D3> 10.9 might allow a different full screen app per monitor
[19:05:35] <Diablo-D3> you know what that means?
[19:05:47] <Diablo-D3> full screen macvim one monitor, full screen iterm2 other monitor
[19:05:57] <kimundi> just_bstrie: No wait, that means only identical elements. hm.
[19:05:57] <otters> that would be cool
[19:05:58] <just_bstrie> kimundi: maybe I can make .format() take a type of ~[~ToStr]
[19:06:10] <Diablo-D3> it'd make me use osx for development to be honest
[19:06:29] <kimundi> just_bstrie: Or more general &[&Formatable]
[19:06:34] <just_bstrie> rather, ~[&ToStr]
[19:06:36] <just_bstrie> hm
[19:06:58] <kimundi> want things like to string, numbers with specific format, etc
[19:07:23] <just_bstrie> Diablo-D3: but does it scale to >2 monitors?
[19:07:38] <kimundi> And ideally share most its code with the fmt! implementation
[19:07:49] <just_bstrie> apple's newest scheme is to get developers to pay $1200 for each application that they want to open simultaneously
[19:08:10] <just_bstrie> brilliant, frankly
[19:08:46] <thiez> I saw a commercial for some new mobile phone the other day, it has a quad core and it can run two apps at the same time!
[19:08:51] *** Joins: lkuper (lkuper@99483B11.2FC96E37.51B6877.IP)
[19:08:53] * thiez facepalms.
[19:08:55] <Diablo-D3> just_bstrie: yes, but I cant think of anything for the other monitor
[19:09:19] <kimundi> Diablo-D3: A fancy matrix screensaver!
[19:09:38] <just_bstrie> kimundi: ...I was just typing that...
[19:09:52] <kimundi> yeeees, for once I was faster.
[19:10:00] * kimundi marks the date in his calender
[19:10:09] <Diablo-D3> I was already thinking that
[19:10:15] * Diablo-D3 has become too jaded.
[19:10:53] <Diablo-D3> but yeah, for years Ive done desktop+large monitor and laptop combo
[19:11:08] <Diablo-D3> irc and other shit like that runs on the laptop
[19:11:16] <Diablo-D3> actual work runs on the desktop
[19:11:18] <Diablo-D3> (or movies or games)
[19:11:31] <bjz_> pcwalton: r+? https://github.com/mozilla/rust/pull/6110
[19:11:42] <Diablo-D3> but Ive been doing iterm2 full screen sshed into my desktop with vim open
[19:11:44] <Diablo-D3> and you know what
[19:11:46] <Diablo-D3> its not that bad
[19:12:14] <pcwalton> ugh, my demoding patch bitrotted *again*)
[19:12:33] <Diablo-D3> pcwalton: you might wanna switch to zfs raid there, bro
[19:13:48] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:15:12] <mcpherrin> Diablo-D3: not sure if serious, but bitrotting patches is not because of filesystem corruption
[19:15:36] <Diablo-D3> mcpherrin: then hes not using the word right.
[19:15:45] <mcpherrin> It refers to patches no longer applying because other changes have been made to project
[19:15:52] <pcwalton> yes, I'm not using the word right
[19:16:53] <mcpherrin> I think that use is a mozillism? I have certainly heard others use it.
[19:17:25] <tjc> the wonderful thing about natural, as opposed to programming, languages is that words can have multiple meanings :-)
[19:17:45] <Diablo-D3> I think there IS a term for patchrot
[19:17:57] <Diablo-D3> (it may even be patchrot, Im pretty sure Ive heard others use it)
[19:19:44] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[19:21:49] <wilsonk-laptop> hmmm...I haven't built rust in a very long time and it seems to build until librust runs into conflicting crates for 'core'? stage1 contains libcore-...-0.5.so and libcore-...-0.7-pre.so, which seems to be where the conflict is. Known problem?
[19:22:38] <tjc> wilsonk-laptop: yeah, the build system is kind of janky that way
[19:22:41] <tjc> just delete the older one
[19:22:50] <wilsonk-laptop> ok
[19:22:56] <tjc> when in doubt, delete the whole build/ directory and reconfigure, though you may not need to here
[19:23:22] <just_bstrie> when in doubt, torch the disk and install freebsd
[19:23:38] <wilsonk-laptop> heh
[19:23:48] *** Joins: seth (seth@moz-BE33DA21.fw1.sfo1.mozilla.net)
[19:23:56] <tjc> When in doubt, throw all computing devices off the top of a tall building, move to Vermont, and become a goat farmer
[19:24:50] <kimundi> when in doubt, create a wormhole and try again in an alternate universe
[19:24:56] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:25:48] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[19:26:41] *** Joins: bheylin_ (brianheyli@E74A75A2.F993642.98C5AE08.IP)
[19:26:43] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:27:35] *** Joins: lmandel (lmandel@2557E599.66715431.D25A875A.IP)
[19:29:04] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:29:20] *** Quits: jorendorff (jorendorff@moz-1747FB68.hsd1.tn.comcast.net) (Quit: Eaten by grue.)
[19:30:49] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[19:32:18] <bjz_> pcwalton: what does the 'p=50' do?
[19:32:31] <pcwalton> bjz_: gives it higher priority
[19:32:37] <bjz_> ooh
[19:32:42] <pcwalton> oops
[19:32:47] <pcwalton> I didn't mean to p=50 that
[19:32:52] <bjz_> haha
[19:32:52] <pcwalton> oh well, enjoy :)
[19:32:59] <bjz_> thankyou sir!
[19:33:19] * bjz_ was wondering what he did to deserve that
[19:33:48] <just_bstrie> bjz_: I'll give your next PR p=-50 so that you
[19:33:52] <just_bstrie> are karma-neutral
[19:34:26] <just_bstrie> I'm on tenterhooks here, waiting for the demode everything PR to pass
[19:34:30] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[19:40:10] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[19:41:42] <tjc> pcwalton: ping
[19:41:48] <pcwalton> tjc: pong
[19:41:57] <Diablo-D3> so
[19:42:00] <tjc> pcwalton: are you planning on rebasing https://github.com/mozilla/rust/pull/4918 at some point or is it dead?
[19:42:04] <tjc> (it was one of my randomly assigned bugs)
[19:42:11] <pcwalton> I will rebase it
[19:42:13] <Diablo-D3> xchat seems to be screwing up again brb
[19:42:15] *** Parts: Diablo-D3 (diablo@moz-52AA8794.port.east.myfairpoint.net) ()
[19:42:15] <tjc> ok, cool
[19:42:21] *** Joins: Diablo-D3 (diablo@moz-52AA8794.port.east.myfairpoint.net)
[19:50:48] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[19:53:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:53:02] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/NVYeqQ
[19:53:02] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:56:03] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:56:03] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/QXdaAg
[19:56:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:56:06] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:56:06] <ghrust> 01[13rust01] 15bors pushed 17 new commits to 06auto: 02http://git.io/sn3wWQ
[19:56:06] <ghrust> 13rust/06auto 1433ab5e2 15Tim Chevalier: Revert "libcore: remove unnecessary deref"...
[19:56:06] <ghrust> 13rust/06auto 14c09fba7 15Patrick Walton: librustc: Remove `ptr::addr_of`.
[19:56:06] <ghrust> 13rust/06auto 140829487 15Patrick Walton: librustc: Implement `reinterpret_cast` in terms of `transmute`.
[19:56:08] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:57:29] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[20:00:10] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[20:00:55] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[20:02:07] <just_bstrie> graham_king: one other thing... when you say that rust is a *big* language, can you elaborate on what you mean? in all honestly I think e.g. python might be bigger than rust...
[20:02:27] <pcwalton> well, it has more foreign concepts
[20:02:31] <pcwalton> to most programmers
[20:02:39] <just_bstrie> right, I'm not saying it's any easier to learn
[20:02:40] <graham_king> just_bstrie: Oh that's a very personal statement. It _feels_ big to me.
[20:03:24] <brson> pcwalton: would you mind if the logic for finding 'main' was its own pass instead of embedded in resolve?
[20:03:45] <pcwalton> sounds good to me
[20:03:48] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[20:03:50] <pcwalton> I never liked that much to begin with
[20:04:13] * nmatsakis would rather it was just always ::main()
[20:05:07] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[20:05:11] <nmatsakis> is anyone else seeing RunProgramResult rust_run_program(const char**, void*, const char*, int, int, int): Assertion `!result && "chdir failed"' failed.
[20:05:19] <nmatsakis> presumably not...
[20:05:19] <brson> nmatsakis: that's what I'm looking at, but to do that we're going to need to track all those other 'main's to report things like 'oh, you didn't define main, but there's another one over there called 'main'"
[20:05:27] <brson> nmatsakis: there are also several ways to override the entry point
[20:05:29] <nmatsakis> brson: ah, true.
[20:05:39] *** Quits: ysuzuki (ysuzuki@moz-60FA9D06.net119083145.t-com.ne.jp) (Client exited)
[20:05:41] <nmatsakis> brson: I don't *really* care about this :)
[20:06:08] <brson> nmatsakis: me either, but it's on my triage list this week :)
[20:06:15] *** Joins: ysuzuki (ysuzuki@moz-60FA9D06.net119083145.t-com.ne.jp)
[20:06:48] <gareth0> nmatsakis, https://github.com/mozilla/rust/issues/6096
[20:07:20] <nmatsakis> gareth0: that..looks like it. except that I thought I was building 64 bit? but maybe I'm not.
[20:07:31] *** Joins: jensnockert (Jens@moz-ECD727C.cust.bredband2.com)
[20:07:41] <gareth0> might be it occurs on some 64 bit systems too
[20:07:57] <gareth0> is there any way to access extern global variables in rust?
[20:08:10] <pcwalton> gareth0: you can put statics in extern blocks
[20:08:14] <pcwalton> not mutable ones yet
[20:08:20] <pcwalton> but you can just transmute it to mutable
[20:08:35] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[20:08:41] <gareth0> ah, thanks pcwalton 
[20:10:45] <tjc> nmatsakis: r? https://github.com/mozilla/rust/pull/6103 (in case you didn't see it yesterday :-)
[20:11:19] <nmatsakis> gareth0: based on this issue, can I conclude that x86_64 works?
[20:11:35] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[20:12:07] <gareth0> nmatsakis, it works *for me* :p (on x84_64)
[20:12:34] <gareth0> (x86_64, sorry)
[20:13:05] <ssbr> A friend of mine was telling me that Rust would be getting trait implementation inheritance at some point. Is that the case?
[20:13:15] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[20:13:19] <pcwalton> yes
[20:13:20] <ssbr> (like, something analogous to subclassing in python or java)
[20:13:36] <ssbr> Thanks. I couldn't see it anywhere so I wasn't sure. :>
[20:14:04] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:14:44] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[20:19:23] <just_bstrie> ssbr: well subclassing in python and java also give you access to fields. trait inheritance would only let you inherit methods
[20:19:58] <ssbr> just_bstrie: that's a common enough restriction in Java, at least :p
[20:20:08] <ssbr> (since fields are usually private)
[20:21:18] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[20:25:51] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[20:29:22] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Connection reset by peer)
[20:30:12] *** Joins: btipling_ (btipling@moz-D51E0AEB.xen.prgmr.com)
[20:30:29] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[20:30:57] *** Quits: btipling_ (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[20:31:14] *** Joins: haard (Mibbit@moz-6A86987C.dynamic.se.alltele.net)
[20:31:42] *** Joins: jgilbert (jgilbert@2557E599.66715431.D25A875A.IP)
[20:32:14] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[20:32:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:32:29] <haard> do I need to create a crate to be able to combine multiple modules that reside in different .rs files in a single binary?
[20:33:08] *** Joins: btipling_ (btipling@moz-D51E0AEB.xen.prgmr.com)
[20:33:50] <btipling> finally hooked up my znc to mozilla irc
[20:33:51] <btipling> heh
[20:33:52] <btipling> :P
[20:34:13] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[20:34:34] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[20:35:33] <gareth0> haard, i think so, yes.
[20:36:07] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[20:37:26] <gareth0> what does #[nolink] do on an extern block ?
[20:37:37] <haard> thanks gareth0, that would explain why I fail when not doing so
[20:38:04] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[20:39:07] *** Quits: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr) (Ping timeout)
[20:40:21] <pcwalton> trying to remove mutable fields from std is a real pain due to Encode and Decode not taking &mut self like they should
[20:40:25] *** Quits: jaen (jaen@moz-B9C07DF5.ondraszek.ds.polsl.pl) (Ping timeout)
[20:40:27] <pcwalton> going to have cfg(stage0) everywhere
[20:40:49] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[20:41:03] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:41:03] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14cf541bf to 1476ec35a: 02http://git.io/N3iJvQ
[20:41:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:41:06] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:41:06] <ghrust> 01[13rust01] 15bors pushed 6 new commits to 06auto: 02http://git.io/FUfP7g
[20:41:06] <ghrust> 13rust/06auto 14c9620dc 15Brendan Zabarauskas: Move appropriate functions out of Real and into separate Algebraic, Trigonometric, Exponential and Hyperbolic traits
[20:41:06] <ghrust> 13rust/06auto 148f63f97 15Brendan Zabarauskas: Implement Fractional for Ratio
[20:41:08] <ghrust> 13rust/06auto 1420ad931 15Brendan Zabarauskas: Rename 'divisible_by' method to 'is_multiple_of', add tests for 'is_odd' and 'is_even'
[20:41:10] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:41:39] <just_bstrie> demoded!!
[20:42:48] <brson> \o/
[20:43:00] <jensnockert> \o/
[20:43:41] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[20:43:45] <brson> just_bstrie: does that mean that modes don't exist at all now?
[20:44:48] *** Quits: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net) (Ping timeout)
[20:44:50] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[20:46:22] <brson> trying to reproduce the failure on linux incoming
[20:46:52] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[20:47:06] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[20:47:58] *** Quits: bheylin_ (brianheyli@E74A75A2.F993642.98C5AE08.IP) (Quit: bheylin_)
[20:49:05] <nmatsakis> brson: I can reproduce it just fine ;)
[20:49:12] <nmatsakis> I will probably have to solve it, I guess
[20:49:27] <nmatsakis> or rather, I think it must be solved for me to make progress...
[20:49:28] <brson> nmatsakis: on mac?
[20:49:35] <nmatsakis> no, I switched to linux :)
[20:49:48] <brson> oh. congrats
[20:49:48] <nmatsakis> but it seems I install everything 32-bit, though I could have sworn I did 64-bit
[20:50:02] <just_bstrie> brson: wait, no, the pull failed :( I was confused because pcwalton has had several de-moding pull requests that he's closed for various reasons
[20:50:04] <nmatsakis> and thus I don't have a 64-bit toolchain to workaround the bug :)
[20:50:26] <brson> nmatsakis: oh, shoot. I didn't see it was i686-specific. that makes sense
[20:50:31] * brson time to rebuild again
[20:50:37] <nmatsakis> brson: seems to be
[20:50:52] <nmatsakis> of course now I nuked llvm so it'll be a while before I can reproduce
[20:51:08] <brson> oh but the linux host build is completely busted at the moment, right? can you not build at all?
[20:51:17] <nmatsakis> I cannot build at all
[20:51:34] *** Quits: guacamole (Mibbit@E248DB08.9470356F.5B864609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:51:42] <brson> that's because stage0 doesn't know how to return a struct used by run_program
[20:51:43] <nmatsakis> brson: https://github.com/mozilla/rust/issues/6096
[20:51:47] <nmatsakis> yeah, ok.
[20:52:01] <nmatsakis> so I guess that'd be hard for me to fix then :)
[20:52:06] <brson> nmatsakis: I was planning to snapshot our way through it
[20:52:11] <brson> if we can ever get incoming green
[20:52:13] <nmatsakis> ok.
[20:52:21] <nmatsakis> bors is failing us?
[20:52:31] <nmatsakis> I confess I haven't been following closely,
[20:52:33] <brson> yes, there are things tested on incoming that aren't on incoming-quick
[20:52:34] <nmatsakis> why is incoming not green?
[20:52:41] <nmatsakis> I see
[20:52:48] <brson> incoming isn't green because there's a failure in std on i686
[20:53:03] <nmatsakis> ok ok
[20:53:14] <nmatsakis> a long chain of annoying failures
[20:53:16] <brson> nmatsakis: i'm sure that your problem can be worked around in other ways. it could take a while for us to get to a snapshot
[20:53:19] <brson> yes
[20:53:20] <brson> things are falling apart :(
[20:53:30] <nmatsakis> yes, I will find a workaround. at worst I can install a 64-bit toolchain I guess :)
[20:53:38] <nmatsakis> actually I'm thinking of reinstalling linux from scratch anyhow ;)
[20:53:50] <pcwalton> failed
[20:54:01] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[20:54:39] <pcwalton> ugh
[20:54:45] <pcwalton> now bjz's pull is probably going to break mine
[20:55:13] <pcwalton> really wish jclements' pull hadn't landed
[20:55:19] <pcwalton> I mean, before mine :)
[20:56:05] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:57:27] <kimundi> haard: What do you mean with 'use crates' ? A rust executable is a crate, just as a rust library is a crate. You don't have to compile seperate .rs files as seperate crates to use them in your progrman unless you want to share them between multible programs.
[20:57:36] <pcwalton> jclements: ping
[20:58:32] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[20:59:41] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[21:03:05] <haard> kimundi, ok - the issue I'm having is just wrapping my head about how, if split my code in two .rs files say one.rs and two.rs I can compile them to let code in one.rs call into code in two.rs
[21:03:43] <haard> and just now I realized that I'm an idiot
[21:04:19] <kimundi> haard: You have to designate one of your files as the 'root' file. Thats the file you pass to rustc. All other files you can include in a tree-like fashion as module with 'mod file;'
[21:06:13] <haard> yes, for some reason it seems to work better if I edit the same file as I'm trying to compile. sorry...
[21:06:33] <kimundi> No worries :)
[21:06:46] <graham_king> kimundi: I'm trying to figure this out too. If I have m2.rs which just contains "fn hello() {...}"
[21:07:03] <graham_king> and m1.rs which has fn main, how do I include and call that hello?
[21:07:33] <kimundi> graham_king: So, in m1.rs you'd write a 'mod m2;' aat the top
[21:07:40] <graham_king> ok, got that
[21:08:07] <kimundi> graham_king: then in m2.rs, you add a 'pub' before fn hello(), so that it is public to the module
[21:08:26] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Quit: Leaving)
[21:08:47] <graham_king> Thanks!! I was missing the 'pub'
[21:08:50] <kimundi> graham_king: And then in m1 you can call m2::hello(), or do an 'use m2::hello' at the top so that you can do just 'hello()'
[21:08:56] *** Quits: ysuzuki (ysuzuki@moz-60FA9D06.net119083145.t-com.ne.jp) (Client exited)
[21:10:03] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[21:10:17] <kimundi> graham_king: One important thing is that those paths are allways relative to your crate. So if this example where not at the top level, but in an submodule, m2::hello() wouldn't work because the path is actually top::level::modules::m2::hello()
[21:10:36] <kimundi> Just as a heads up
[21:11:04] <graham_king> I see, always an absolute path. Cool.
[21:11:09] <kimundi> (You can write relative paths by using the 'self' and 'super' keywords, for example 'self::m2::hello()')
[21:11:47] *** Quits: haard (Mibbit@moz-6A86987C.dynamic.se.alltele.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:12:26] *** Quits: jfredett (jfredett@moz-35CE0253.bstnma.east.verizon.net) (Ping timeout)
[21:12:32] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[21:13:23] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[21:14:55] <haard> is there any rust-aware pastebin-ish service yet?
[21:15:08] <brson> heard: gist.github.com
[21:15:19] *** Quits: RagingDave (RagingDave@moz-3F31ACEF.pools.arcor-ip.net) (Quit: Ex-Chat)
[21:15:25] <haard> oh, thanks
[21:15:31] <brson> *haard
[21:18:22] *** aatch|bed is now known as aatch
[21:20:06] *** bhearsum is now known as bhearsum|afk
[21:22:25] <Jeaye> How can I disable warnings inside a specific macro?
[21:22:55] <Jeaye> I'm getting incorrect warnings that a value is never read and it's enough to fill a fullscreen terminal (but the value is read). :|
[21:22:56] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[21:22:58] <aatch> Jeaye, I don't think you can, I think disabling warnings is module-level
[21:22:58] *** Joins: graydon (Adium@A5087023.2354C43D.D8E68FF6.IP)
[21:22:58] *** ChanServ sets mode: +qo graydon graydon
[21:23:20] <Jeaye> :(
[21:23:40] <aatch> That said, you could prefix the variable with _
[21:23:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:23:51] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[21:23:52] <aatch> I think it works on variables as well as arguments
[21:24:16] <Jeaye> Ahh
[21:25:06] <Jeaye> This is what I'm seeing: https://gist.github.com/Jeaye/8a95168b1450da35fa1c
[21:25:43] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[21:25:50] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[21:26:36] *** Joins: devinus (devinus@moz-BED25650.austincc.edu)
[21:26:43] <aatch> Uh, that error message is indicating a line that isn't in the macro
[21:27:05] <graydon> nmatsakis: the debug helper in the annihilator is ... semi-redundant with stuff in my gc branch, but I'll reconcile them. it's fine for now.
[21:27:09] <graydon> nmatsakis: nice catch otherwise
[21:27:28] <Jeaye> aatch: p0 is read on the third line of the macro.
[21:28:07] <aatch> Yes, but this line: p0 = -$a * v0.x + $b * v0.z; isn't in the macro you provided
[21:28:22] <aatch> which is the assignment it is complaining about
[21:28:59] <Jeaye> Bad copy. :(
[21:29:15] <Jeaye> Updated the gist.
[21:29:25] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[21:29:30] <Jeaye> Hard to parse, since there are so many warnings. Sorry
[21:30:14] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Client exited)
[21:30:36] <aatch> lol, it's fine, I just thought that maybe that was a place to start
[21:30:44] <kimundi> Jeaye: Is the macro working?
[21:30:49] <Jeaye> kimundi: Yup!
[21:31:15] <Jeaye> They all work very well... at the cost of a full terminal of warnings.
[21:31:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:32:05] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:32:05] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/FUfP7g
[21:32:05] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:32:20] <pcwalton> no bors, don't start on something :(
[21:32:50] <Jeaye> pcwalton: Any idea for the ETA on the incoming Linux 32bit build assert?
[21:32:59] <pcwalton> Jeaye: brson knows more I think
[21:33:00] <kimundi> pcwalton: Jam it robot brain! :P
[21:33:01] <pcwalton> needs a snap?
[21:33:15] <kimundi> its*
[21:33:44] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:33:45] <kimundi> Jeaye: Because one way I'd imagine how that warning might happen is that the macro only expands to the first item... BUt if you say they work, hm...
[21:33:48] <aatch> If i remember correctly, it's only an issue in stage0
[21:33:49] <Jeaye> ah, no worries. I can wait. :)
[21:34:14] <aatch> kimundi, the code is in a block, so it's one item anyway
[21:34:17] <Jeaye> kimundi: Well, I have it wrapped in curlies.
[21:34:24] <Jeaye> Which solves that issue.
[21:34:30] <kimundi> Hm, okay
[21:34:40] * Jeaye has made that mistake already. ^_^
[21:34:54] <aatch> Hmm, seems like a bug.
[21:35:03] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:35:03] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/SE4iMQ
[21:35:03] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:35:04] <brson> uh, oh. I have a patch that fixes incoming by adding logging
[21:35:05] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:35:05] <ghrust> 01[13rust01] 15bors pushed 17 new commits to 06auto: 02http://git.io/W0Fvow
[21:35:05] <ghrust> 13rust/06auto 1458791c2 15Tim Chevalier: Revert "libcore: remove unnecessary deref"...
[21:35:05] <ghrust> 13rust/06auto 14b0522a4 15Patrick Walton: librustc: Remove `ptr::addr_of`.
[21:35:06] <ghrust> 13rust/06auto 14b6277f8 15Patrick Walton: librustc: Implement `reinterpret_cast` in terms of `transmute`.
[21:35:08] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:35:27] <kimundi> brson, good 'ol heisenbugs
[21:35:33] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:35:33] <ghrust> 01[13rust01] 15jbclements 04force-pushed 06try from 14f0bb002 to 14bf67eb2: 02http://git.io/k471pw
[21:35:33] <ghrust> 13rust/06try 140082f2d 15John Clements: deleted two tests intended to test RUST_CC_ZEAL, an apparently defunct flag for the cycle collector
[21:35:33] <ghrust> 13rust/06try 14da2ee63 15John Clements: remove (non-parsing) test related to impl d for d feature
[21:35:33] <ghrust> 13rust/06try 14d308aa8 15John Clements: this issue is a dup of another one that has a correct test case...
[21:35:34] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:35:36] <Jeaye> brson: Success!
[21:36:00] <aatch> brson, thats new, I generally find things break when I turn logging /on/
[21:36:45] <brson> :p
[21:37:42] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:38:08] <mitsuhiko> if you would compare the rust type system with something else, what would be the one language that comes closest?
[21:38:46] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:39:38] <kimundi> mitsuhiko: Haskell? Seeing how rust steals a lot from there...
[21:39:57] <aatch> mitsuhiko, maybe ML too
[21:40:08] <mitsuhiko> all the sudden disagreement :)
[21:40:13] <aatch> The original compiler was written in some ML
[21:40:24] <doomlord> i like the fact rusts' syntax makes it easy to grep for function definitions
[21:40:25] <aatch> some ML implementation
[21:40:29] <kimundi> OCaml to be specific
[21:40:31] *** Quits: gareth0 (gareth0@moz-D770EAF6.dynamic.dsl.as9105.com) (Ping timeout)
[21:40:51] <aatch> mitsuhiko, I don't see how it's disagreement.
[21:40:52] <ssbr> mitsuhiko: the haskell type system is a superset of the ML type system
[21:41:03] <ssbr> So it's not much disagreement.
[21:41:16] <mitsuhiko> will go with haskell then for my comparison
[21:42:12] <aatch> mitsuhiko, good idea, Haskell is more well known than ML anyway
[21:42:17] <brson> the error on incoming only happens with optimizations on
[21:42:29] <brson> I'm going to try to bisect incoming, but it may have been broken for a long time
[21:42:31] <aatch> (which says more about ML than Haskell)
[21:43:34] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[21:44:26] <graydon> jclements: ping
[21:44:31] <ssbr> I guess Rust is as much an ML derivative as haskell is, no?
[21:44:40] <jclements> graydon: pong
[21:44:43] <ssbr> So many extensions, though
[21:44:56] <graydon> jclements: can I ask you to not use try for the next while?
[21:44:58] <aatch> Rust isn't really a derivative of anything specific
[21:45:00] <graydon> (actually, everyone)
[21:45:06] <graydon> try appears to be picking up auto changes
[21:45:08] <graydon> and absorbing them
[21:45:12] <graydon> in buildbot's brain
[21:45:19] <graydon> so it winds up running a try job and _not_ an auto one
[21:45:23] <graydon> if they occur close enough together
[21:45:36] <jclements> graydon: urrgghâ€¦ sounds unpleasant. Would you like me to kill my current try jobs?
[21:46:00] <graydon> no, it's  ok, just don't push any more for the time being. I'll try to figure out if this is fixable somehow but I think I'll turn off the try scheduler in the meantime
[21:46:11] <jclements> graydon: got it, thanks.
[21:46:11] <graydon> (sorry, this is yucky)
[21:47:34] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse)
[21:48:10] <strcat> graydon: should just turn bors into a build manager ;p
[21:48:21] <strcat> I had to use the force build trick to unblock it on the weekend
[21:48:34] <strcat> it did work though...
[21:49:02] <brson> what's the force build trick?
[21:49:04] <graydon> :(((((((
[21:49:19] <graydon> it's not a trick. just force-build the thing it's waiting on.
[21:49:23] <graydon> bors waits on buildbot
[21:49:30] <graydon> when it's "wedged" it is because buildbot didn't do what bors expected
[21:49:37] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[21:49:41] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[21:49:42] <graydon> i.e. "build the thing that auto is currently pointing at"
[21:49:45] <tristram> what is bors ?
[21:49:56] <graydon> so you can make it "unwedge" by forcing buildbot to build the current auto rev
[21:49:58] <graydon> on auto
[21:50:04] *** Quits: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net) (Quit: Computer has gone to sleep.)
[21:50:05] <ssbr> aatch: I learned Rust right after I decided I was done with ATS
[21:50:13] <graydon> tristram: an integration script
[21:50:18] <strcat> brson: sometimes the buildbot decides it's going to build some random commit instead of the head of auto
[21:50:21] <ssbr> ATS is very explicitly an ML dialect, targeting a similar space that Rust is, and Rust has lots of ML-ish features
[21:50:26] <graydon> tristram: it lands patches when they are reviewed and pass all tests
[21:50:29] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[21:50:29] <Sodel_the_V> tjc: ping
[21:50:30] <ssbr> so I guess I just naturally considered Rust as an ML derivative without much thought
[21:50:33] <strcat> brson: and then does nothing :(
[21:50:36] <tjc> Sodel_the_V: pong
[21:50:42] <tristram> ok
[21:50:55] <ssbr> rust's use of "let x = y;" is very un-ML-ish though
[21:51:08] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[21:51:13] *** kimundi is now known as zz_kimundi
[21:51:15] <aatch> ssbr, it's natural bias. I'm mostly from a C/C++ background, so I find a lot of it similar to that.
[21:51:21] <pcwalton> well, "let" is ML-ish
[21:51:25] <pcwalton> it's just the ';' instead of 'in'
[21:51:39] <ssbr> pcwalton: right, but that totally changes how you can structure your code
[21:51:47] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[21:51:54] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[21:51:56] <tjc> Sodel_the_V: Oh, I just saw your comment on #4100; reading it now
[21:52:05] <graydon> ssbr: sorry, we're not ML. we have some similarities.
[21:52:11] *** Quits: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com) (Connection reset by peer)
[21:52:16] <ssbr> graydon: I wasn't saying you were
[21:52:30] <ssbr> On the contrary, I was saying that assignment in the Rust style is very unlike ML.
[21:52:47] <aatch> I actually quite like the HM-ish type system in something that isn't a functional language.
[21:52:57] <strcat> graydon: could you just have bors tell the buildbot the commit to build instead of using the git plugin?
[21:53:00] <Sodel_the_V> tjc: If my next test compile fails, it will mean that ty::lookup_item_type() crashes the compiler with *all* trait lookups. Do I file a separate issue for that sort of thing?
[21:53:14] <graydon> ssbr: I don't think we're going to get very far arguing about the philosophical core of ML
[21:53:15] <Luqman> the way newtypes are handled in the compiler makes me sad
[21:53:18] <tjc> Sodel_the_V: Hmm, that is weird. I'd want to narrow down a few more things first...
[21:53:23] <doublec> ssbr: what didn't you like about ATS?
[21:53:42] <tjc> Sodel_the_V: Ah, I can just read your code. give me a second :-)
[21:53:43] <aatch> Luqman, how are they handled?
[21:53:45] <ssbr> graydon: who said anything about the philosophical core? I just mean that ML languages generally don't solve the problem that way
[21:53:47] <ssbr> instead they use mutable boxes
[21:53:53] <graydon> strcat: possibly,  but this is a very simple arrangement. I think it's just a bug. one we can find and fix.
[21:53:53] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[21:53:56] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[21:54:00] * aatch is more familiar with trans code
[21:54:24] <ssbr> so you do "let x = mut void in if y then x <- foo else ..."
[21:54:26] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[21:54:47] <tjc> Sodel_the_V: Looks like the code where you use lookup_item_type isn't pushed to your branch on github? I'd want to see where you're getting the def IDs from before deciding for sure it's a bug...
[21:54:51] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[21:54:57] <ssbr> doublec: Poorly documented and difficult to remember.
[21:54:58] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[21:55:08] <ssbr> doublec: very inconsistent naming schemes, for example (for the latter problem)
[21:55:24] <ssbr> ATS is a very big language, actually.
[21:55:24] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Ping timeout)
[21:55:35] <ssbr> But there's almost no documentation.
[21:55:39] <graydon> ssbr: please take it somewhere else
[21:55:59] <ssbr> doublec: PM me if you want to ask more questions, then, I'm getting in trouble
[21:56:02] * ssbr runs away
[21:56:08] <doublec> ssbr: ok, sorry for asking, thanks :)
[21:56:11] *** Quits: jensnockert (Jens@moz-ECD727C.cust.bredband2.com) (Quit: jensnockert)
[21:56:34] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[21:58:26] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[21:58:28] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[21:58:35] <Sodel_the_V> Bah, sorry. System crashed.
[21:59:09] <tjc> Sodel_the_V: no prob, in case you missed the last thing I said:
[21:59:12] <nmatsakis> graydon: one annoying thing was that I never managed to get a standalone test case :/ I spent a little bit of time on it but was blocked by the fact that i686 linux is broken...
[21:59:20] <tjc> Sodel_the_V: Looks like the code where you use lookup_item_type isn't pushed to your branch on github? I'd want to see where you're getting the def IDs from before deciding for sure it's a bug...
[21:59:25] <nmatsakis> graydon: ...anyhow you'll have to trust me that it fixed my crash :)
[21:59:32] <graydon> nmatsakis: s'ok. seems pretty clearly wrong.
[22:00:11] <Sodel_the_V> tjc: Alright. I'll very clearly mark the commit as WIP, and push it.
[22:00:25] <tjc> Sodel_the_V: ok, let me know when you've pushed it and I'll take a look
[22:00:25] <nmatsakis> graydon: indeed.
[22:02:09] *** Joins: mschifer1 (Adium@2557E599.66715431.D25A875A.IP)
[22:02:21] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[22:02:28] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[22:02:36] <jack> graydon: were we supposed to get two bug inspections today? :)
[22:02:43] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[22:03:27] <Sodel_the_V> tjc: Pushed
[22:03:46] <graydon> jack: no, just emailed about it
[22:03:47] <graydon> sorry
[22:04:02] <graydon> doesn't actually matter since it's just sampling from the bottom of the list.
[22:04:28] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[22:05:24] <tjc> Sodel_the_V: looking...
[22:06:50] *** Quits: lmandel (lmandel@2557E599.66715431.D25A875A.IP) (Quit: lmandel)
[22:07:35] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[22:07:44] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[22:07:47] <tjc> Sodel_the_V: Ugh, I don't blame you for being confusedâ€¦ I can't remember what the def_id in a TraitRef is supposed to mean, and there was no documentation to begin with
[22:07:55] * tjc continues cogitating
[22:08:49] <brson> what's the current way to get the path to an item?
[22:09:05] <brson> in rustc
[22:09:27] <brendanc> graydon: possibly try using a bunch of singlebranchschedulers instead of the anybranchscheduler?
[22:09:41] <graydon> brendanc: oh, maybe?
[22:10:11] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[22:10:20] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[22:10:31] * strcat thinks this rpath stuff should just be removed...
[22:10:48] <Sodel_the_V> tjc: Passing push_inherent_candidates_from_trait()'s def_id to ty::lookup_item_type() also crashes the compiler.
[22:11:01] <graydon> strcat: you can do so when you have an answer for the barrage of emails we'll get from people who try running rust binaries and get missing DLL errors :)
[22:11:20] <strcat> graydon: well it seems better than them breaking when you move stuff, and opening up security holes
[22:11:31] <strcat> and it doesn't work on windows anyway
[22:12:25] <graydon> strcat: sorry, missing .so errors. the rpath security hole is .. that someone might write to the .so?
[22:12:37] <strcat> graydon: it adds paths in user dirs to every binary
[22:12:49] <graydon> "in user dirs"
[22:12:57] <graydon> it points to the place the libraries were found'
[22:12:58] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[22:13:18] <strcat> graydon: which is most likely /home or /usr/lib which is already in the search path
[22:13:37] <graydon> I don't see the security hole, sorry
[22:14:03] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[22:14:06] <strcat> graydon: because there's a path in /home/foo that you can drop libs to be loaded by any user, or root
[22:14:10] <graydon> I mean, you're concerned that I might copy a binary from user A to user B, yet still point to user A's /home, so user A can sabotage user B?
[22:14:15] <nmatsakis> tjc: Sodel_the_V: what is this def-id problem?
[22:14:17] <strcat> graydon: yes
[22:14:28] <strcat> graydon: or any package that someone builds
[22:14:37] <strcat> it's going to have their user dir in the rpath
[22:14:41] <nmatsakis> tjc: Sodel_the_V: in particular, the def-id in a traitref refers to the trait being referenced, and traits don't have types associated with them, so it is not expected for lookup_item_type to succeed
[22:14:52] <tjc> nmatsakis Sodel_the_V: Yeah, that's what I thought
[22:15:16] <nmatsakis> tjc: Sodel_the_V: traits have a TraitDef, you can look that up
[22:15:24] <nmatsakis> if you wanted to for some reason (no context)
[22:15:32] <graydon> strcat: ok. that ... feels like a stretch to call a "security hole" given that telling someone to hack up their LD_LIBRARY_PATH winds up pointing to the same path
[22:15:52] <strcat> graydon: but that's not hidden magic
[22:15:56] <tjc> Sodel_the_V: still looking at your code; sorry, trying to do 3 things at once
[22:16:01] <graydon> isn't this a bit like saying a symlink is "hidden magic"?
[22:16:08] <strcat> graydon: no
[22:16:16] <graydon> ok
[22:16:21] <strcat> graydon: I doubt the person building rust for an ubuntu ppa is stripping rpath
[22:16:31] <strcat> so it's going to have an insecure rpath in the packaged binaries/libraries
[22:16:44] <strcat> or anyone deploying rust binaries/libs in the future
[22:17:00] <graydon> sure. I'm not saying it's ideal. but if you remove the rpath currently, what will that ppa do?
[22:17:04] <graydon> they will ship binaries that don't load, no?
[22:17:04] <Sodel_the_V> tjc, nmatsakis: mk_type() threw me off I guess.
[22:17:09] <graydon> so that sounds worse to me
[22:17:10] <strcat> graydon: it Just Works because they're in /usr/lib
[22:17:18] <graydon> then the rpath points to /usr/lib
[22:17:19] <strcat> graydon: my arch package strips all the rpaths
[22:17:27] <strcat> graydon: no, there's no rpath
[22:17:45] <graydon> if the ppa person puts their  binaries in /usr/lib and doesn't strip rpath...
[22:17:57] <tjc> Sodel_the_V: Oh ok. What I *think* you want to do in trait_store is...
[22:18:05] <tjc> actually, hmm, now I'm not sure
[22:18:10] <Sodel_the_V> tjc, nmatsakis: The problem is, neither TriatDefs nor TraitRefs have TraitStores, which we need if we're going to make method_origins for supertrait methods and dynamic dispatch.
[22:18:16] *** Joins: brendan (brendaneic@2557E599.66715431.D25A875A.IP)
[22:18:16] <graydon> I mean, this is seriously just a mechanism to make it more likely to run. so their first experience isn't "oh I tried rust and something something there were 3 stages and targets and all these confusing .sos and I couldn't make it run"
[22:18:20] <graydon> which is how it was before
[22:18:41] <tjc> Sodel_the_V: Maybe it's that this code is swapped out of my brain, but I'm not sure why you need to know the trait store in the method_origin
[22:18:46] <graydon> we have about 30 seconds with a new user to give them a hello world that runs
[22:18:59] <graydon> before they become convinced that we're obscurantists who want to ruin everything with too much complexity
[22:19:03] <strcat> graydon: so default to static linking
[22:19:09] <graydon> I would _love_ to
[22:19:13] <graydon> <3 <3 <3
[22:19:43] <Sodel_the_V> tjc: method traitmethod_trait(ast::def_id, uint, ty::TraitStore)
[22:19:44] <Sodel_the_V>  
[22:19:46] <Sodel_the_V> Bah.
[22:19:47] <strcat> rpath is hidden magic that makes your binary work no matter where you put it until you move one of the libs from the place they were when it linked
[22:19:59] <Sodel_the_V> This type signature is the problem: method_trait(ast::def_id, uint, ty::TraitStore)
[22:19:59] <Sodel_the_V>  
[22:20:06] <graydon> I will r+++ a patch that makes static linking work and simultaneously removes rpath
[22:20:20] <nmatsakis> Sodel_the_V: the reason that they do not have trait stores
[22:20:24] <nmatsakis> Sodel_the_V: is because it doesn't make sense
[22:20:24] <strcat> well I should figure out why static linking doesn't work ;p
[22:20:34] <nmatsakis> Sodel_the_V: what are you trying to tackle exactly? supertrait calls on objects?
[22:20:40] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:20:52] <Sodel_the_V> nmatsakis: Yeah, #4100
[22:21:13] <Sodel_the_V> I made the mistake of roughing this stuff out on 0.6. A lot changed since then.
[22:21:18] <nmatsakis> Sodel_the_V: ok, I'm actually not sure the time is ripe to tackle that, in that I think the current treatment of default methods could use some basic refactoring
[22:21:25] <nmatsakis> Sodel_the_V: that said...
[22:22:00] <strcat> graydon: imo rust should just look in the system lib dirs, ~/.rustpkg/lib and eventually $SOURCE_DIR/.rustpkg/lib
[22:22:20] <nmatsakis> Sodel_the_V: (also the treatment of self types, objects, and methods is kind of broken too, which is highly relevant here)
[22:22:38] <nmatsakis> Sodel_the_V: er, method calls.
[22:22:51] <strcat> graydon: the only thing that would require LD_LIBRARY_PATH is developing with rust itself in ~
[22:23:14] <Sodel_the_V> nmatsakis: Ah, fair enough. That probably puts this issue way over my head for the time being.
[22:23:26] <graydon> strcat: yeah, that's more or less the future plan
[22:23:48] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse)
[22:24:13] <nmatsakis> Sodel_the_V: maybe? we might be able to hack someting up that works about as good as the current stuff
[22:24:28] <nmatsakis> Sodel_the_V: alternatively, if you want, I can talk to you about some of the changes I had in mind :) some of which I think might be bite-sized
[22:24:48] *** Joins: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[22:24:48] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[22:25:17] <Sodel_the_V> nmatsakis: I'd appreciate that! It'd help both get stuff done, and get me more acquainted with the compiler's innards.
[22:26:11] <nmatsakis> Sodel_the_V: will you be around in ~1 hour? I could chat more then
[22:26:20] <Sodel_the_V> nmatsakis: I will indeed.
[22:26:26] <nmatsakis> Sodel_the_V: but one thing that would be great is making calls on objects use the "adjustments" infrastructure
[22:26:44] <nmatsakis> Sodel_the_V: which is a way of annotating expressions to indicate when they need to be autoref'd and autoderef'd
[22:27:16] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[22:27:21] <Sodel_the_V> nmatsakis: I'll grep around that stuff for the next while, then.
[22:27:27] <nmatsakis> Sodel_the_V: cool :)
[22:27:50] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[22:28:05] <nmatsakis> Sodel_the_V: see adjustments in the tcx (type context, middle/ty.rs) as a starting point
[22:29:02] *** Quits: judder (maradukewa@DABDEEA3.F2C0D0AC.78E362FE.IP) (Ping timeout)
[22:29:03] <Sodel_the_V> nmatsakis: Found it. :)
[22:29:27] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[22:31:26] *** Joins: steven_is_false (quassel@7557D959.5209935D.348C8185.IP)
[22:32:04] <steven_is_false> Hi! I'm expermenting with binding gsl (GNU Scientific Library) to Rust but I'm having trouble linking it properly.
[22:33:00] <steven_is_false> Because it supports linking various different implementations of blas (a standard interface for basic matrix math routines) it needs to link flags -lgsl, and -lgslcblas.
[22:34:22] <steven_is_false> I tried creating a dummy module (eg #[link_name = "gslcblas"] priv extern mod cblas {}) to link in gslcblas as well but that didn't work.
[22:34:30] <steven_is_false> Now I'm stuck.
[22:35:16] *** Quits: brendan (brendaneic@2557E599.66715431.D25A875A.IP) (Quit: brendan)
[22:35:26] <pcwalton> don't use "extern mod foo { ... }"'
[22:35:29] <pcwalton> I really need to remove that
[22:36:02] <pcwalton> (where does everyone find all the deprecated features?) :)
[22:36:21] <aatch> pcwalton, I think the manual still has extern mod foo {}
[22:36:29] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[22:36:30] <aatch> for "foreign modules"
[22:36:56] <strcat> really need to get incoming merged to master so the new docs are generated :(
[22:39:03] <pcwalton> incoming was merged to master 3 days ago
[22:39:06] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[22:39:25] <strcat> pcwalton: heh, I missed that :)
[22:40:04] <strcat> graydon: seems like the doc buildbot is broken again
[22:40:16] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[22:40:52] <graydon> strcat: it updates when master moves
[22:40:58] <graydon> do you mean that it is not updating / updating wrong?
[22:41:03] <strcat> graydon: yeah, it didn't update
[22:41:06] <graydon> or that you wanted it to update some other frequency?
[22:41:07] <graydon> ok
[22:41:16] <strcat> still has the old tutorial/tutorial-ffi
[22:42:16] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[22:42:30] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[22:43:15] <steven_is_false> :w
[22:43:23] <steven_is_false> Doh!
[22:43:26] <aatch> steven_is_false, file not found
[22:44:01] <steven_is_false> five seconds
[22:44:21] <bjz> to impact
[22:44:23] <graydon> strcat: ok. forcing a new build. we'll see if it takes.
[22:44:59] *** Joins: cuemin (Quemin@44EEE21C.A6E21E6E.5E500FC7.IP)
[22:45:07] *** Joins: dbaupp (Thunderbir@moz-5F6D4A2B.lns20.syd6.internode.on.net)
[22:45:14] <strcat> graydon: btw what's the url for the doc one? I should just bookmark it
[22:45:27] *** Quits: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP) (Client exited)
[22:45:32] <graydon> strcat:  http://buildbot.rust-lang.org/builders/doc
[22:45:34] <steven_is_false> Sorry I'm in a public library, and I had to deal wiht something for a bit.
[22:46:07] <strcat> oh that shows up in builders anyway. silly useless front page :)
[22:46:15] <steven_is_false> Anyways that :w should have been me writing to file the removal of the mod "gsl" part of the exten block
[22:47:31] *** Joins: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP)
[22:48:58] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:49:28] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:50:06] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:50:14] *** Joins: dadinck (chatzilla@moz-53C6F830.lightspeed.cicril.sbcglobal.net)
[22:50:15] <cuemin> Would it be desirable for the compiler to recognize (tuple|)structs as Copy kinds if they don't have any borrowed or owned pointers? 
[22:50:34] <aatch> cuemin, it should already
[22:51:03] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Quit: ZNC - http://znc.in)
[22:51:42] <steven_is_false> So I'm not sure how a library that uses two libraries should be bound
[22:52:02] <cuemin> hm, let me see if I can reproduce the compiler error in a more condensed form
[22:52:25] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:54:25] *** Quits: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[22:54:39] <strcat> steven_is_false: #[link_args="-lpthread -lstdc++ -lleveldb -Wl,--no-as-needed -lsnappy"] extern {}
[22:55:03] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[22:55:40] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[22:56:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:56:44] <steven_is_false> strcat: I'm not sure why all of that would be needed?
[22:56:51] <strcat> steven_is_false: was just an example
[22:58:34] <steven_is_false> strcat: I'm wondering, so by default Rust links using shared objects, and in my case that doesn't work. So I can hack around that by using link_args, and statically link gsl, and gslcblas in right?
[22:59:13] <strcat> afaik it just passes -lfoo
[22:59:23] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[22:59:28] <strcat> which will do static linking with a .a if there's no .so
[22:59:38] <steven_is_false> Wierd, well anyways #[link_args "-lgsl -lgslcblas"] works.
[23:00:51] <otters> that just looks like a random jumble of letters
[23:01:04] *** Quits: vosen_ (vosen@moz-266BA656.icpnet.pl) (Quit: Leaving)
[23:01:41] <aatch> otters, that's what most people say about programming in general
[23:01:50] <pcwalton> whee, 276 borrow check errors
[23:01:59] <steven_is_false> Thank you guys very much. I have to go now.
[23:02:02] <pcwalton> nearly all due to flow sensitivity :)
[23:02:03] *** Quits: steven_is_false (quassel@7557D959.5209935D.348C8185.IP) (Connection reset by peer)
[23:03:21] *** Joins: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[23:03:21] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[23:03:27] *** Quits: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: erickt1)
[23:03:28] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[23:03:41] *** Quits: davbo (dave@moz-E2C65EB0.zone11.bethere.co.uk) (Client exited)
[23:03:59] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[23:04:35] <aatch> pcwalton, this in your cleanup branch?
[23:05:40] <otters> aatch: yeah, but gslcblas?
[23:05:44] <otters> what kind of library name is that?
[23:05:46] *** Joins: lmandel (lmandel@2557E599.66715431.D25A875A.IP)
[23:07:12] <pcwalton> aatch: it's in my demuting branch
[23:07:28] <dbaupp> otters: "GNU Scientific Library C(?) Basic Linear Algebra Subprograms"
[23:07:43] <aatch> Well gsl is the opengl shader language, and blas is basic linear algebra subprograms
[23:07:57] <aatch> I assume the c is the C-language api for blas
[23:08:17] <otters> yeah, but still
[23:08:51] *** Quits: lkuper (lkuper@99483B11.2FC96E37.51B6877.IP) (Ping timeout)
[23:09:35] * graham_king agrees with otters
[23:12:05] <EXetoC> aatch: it was GLSL last time I checked
[23:12:23] <aatch> EXetoC, oh true
[23:12:35] <aatch> In that case dbaupp is right
[23:12:41] <EXetoC> maybe they just remove the first L. still ugly though
[23:12:52] <aatch> GLSL -> GSL is an easy mistake
[23:12:59] <aatch> given my lack of experience with either
[23:13:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:13:34] <Sodel_the_V> "GSciBLAS" is an improvement.
[23:15:11] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:15:11] *** ChanServ sets mode: +o dherman
[23:15:32] <aatch> Sodel_the_V, I guess that gsl-cblas would work well too
[23:15:57] <Sodel_the_V> Actually, that hyphen really does help.
[23:16:23] <aatch> presumably Windows throws a wrench in the works?
[23:16:36] <aatch> Does it allow '-' in filenames?
[23:16:51] <Sodel_the_V> In filenames? I think so.
[23:17:43] <EXetoC> yes
[23:17:56] <aatch> well then there isn't a good reason that I know of for it not to be gsl-cblas
[23:18:07] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:18:39] <EXetoC> saves some hdd space!
[23:18:48] <graham_king> gshader-linear has actual words in it
[23:19:33] <aatch> graham_king, blasphemy!
[23:19:47] <aatch> words! Bah
[23:20:27] *** Joins: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com)
[23:20:50] * Sodel_the_V recoils in terror
[23:21:05] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[23:21:18] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[23:21:57] *** Quits: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP) (Client exited)
[23:23:07] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[23:23:29] *** Joins: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP)
[23:23:40] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[23:23:57] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[23:25:56] *** Quits: int3_ (int3_@moz-4F9BAFA5.subnet-248.amherst.edu) (Client exited)
[23:26:11] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[23:26:11] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[23:27:13] <strcat> graydon: yay, worked this time (the doc update)
[23:27:20] <strcat> I wonder why the build on the 26th did nothing
[23:28:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:29:26] <graydon> strcat: no idea. don't really have time to diagnose presently. :(
[23:29:38] *** Quits: devinus (devinus@moz-BED25650.austincc.edu) (Quit: Computer has gone to sleep.)
[23:30:21] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:32:14] <cuemin> aatch, yeah, it looks like the compiler isn't detecting that a type parameter which resolves to a struct implements Copy
[23:32:15] <cuemin> http://pastie.org/7740247
[23:32:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:33:26] <cuemin> I suppose I could implement Clone on RGB and YIQ, but it'd just be returning itself
[23:35:00] <pcwalton> I have some plans toÂ have the compiler automatically implement Clone on simple structs and enums
[23:35:03] <aatch> Hmmm, try replacing the to_owned method with a vec::from_slice?
[23:35:30] <aatch> vec::from_slice function call rather
[23:35:59] <cuemin> I got ya; I'll try that. But, from_slice still requires T implement Copy, and isn't that what the compiler is complaining about?
[23:36:05] <cuemin> yeah, same error
[23:36:14] <pcwalton> graydon: are you looking into the bors problem?
[23:36:41] <aatch> Thought so, just curious
[23:36:42] <pcwalton> or do you have something that I can do to get bors to restart?
[23:36:43] <cuemin> aatch: Also, implementing Clone for YIQ and RGB doesn't fix the problem either
[23:37:00] <aatch> Well no, clone doesn't make it implicitly copyable
[23:37:19] <aatch> What if you add Copy to the traits in getBlackPixel rect?
[23:37:19] <cuemin> oh, the documentation said to impl Clone for non implicitly copyable types
[23:37:27] *** Joins: devinus (devinus@moz-BED25650.austincc.edu)
[23:37:36] <cuemin> oh, so FromRGB + Copy?
[23:37:41] <aatch> Yeah.
[23:37:43] <graydon> pcwalton: yes, it's pending a mac build that's still running
[23:37:45] <cuemin> oh yes, that works!
[23:37:50] <pcwalton> graydon: OK
[23:37:51] <cuemin> thank you :)
[23:37:59] <pcwalton> sorry to bother, was just wondering about all the purple on the buildbot
[23:38:00] <aatch> Hmm, actually thinking about it, that's expected
[23:38:26] <cuemin> aatch: yeah, you're right; silly me. I should have remembered that from the tutorial. 
[23:38:27] <benh> When there's associated items, will there be associated generic types or only associated concrete types? Are associated items for trait-less impls meaningful?
[23:38:36] <aatch> Since T is bounded on FromRGBData, but FromRGBData isn't bounded on copy
[23:39:33] <cuemin> I tried having FromRGBData inherit(?) from Copy type, that didn't work either
[23:39:51] <aatch> trait inheritance is funky
[23:40:08] <aatch> I don't think it plays nice with kinds
[23:40:22] <cuemin> strange too, as they're defined as traits in stdcore
[23:40:22] <pcwalton> yeah, kind inheritance doesn't work.
[23:40:23] <pcwalton> it should
[23:40:26] <cuemin> er, libcore
[23:40:29] <pcwalton> it's been on my list to fix for a while
[23:40:47] <aatch> cuemin, yeah, but they are also lang items.
[23:41:08] <cuemin> maybe Clone and Copy could be merged in the future, so Copy could be explicitly impl'd on a type if the compiler can't implicicly copy it
[23:41:14] <aatch> Which means that you get weird behaviour.
[23:41:20] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[23:41:53] <aatch> cuemin, Copy is useful as a Type bound though
[23:41:57] <pcwalton> yay, half of the borrow check errors gone
[23:41:59] <pcwalton> still about 250 left
[23:42:26] <graydon> \o/
[23:42:42] <graydon> you're doing the work of ... some sort of divine being, choose your metaphor
[23:42:49] <graydon> (these were real memory errors, yes?)
[23:42:50] <pcwalton> this patch has mushroomed
[23:42:51] <pcwalton> no
[23:42:53] <pcwalton> well
[23:42:58] <pcwalton> it's part of my quest to remove mut fields.
[23:43:00] <graydon> real-potentially-real
[23:43:01] <graydon> :)
[23:43:05] <cuemin> aatch: yeah, what I'm proposing is if a type can't be implicitly copied, allow the user to implement Copy with some method, say "fn copy(&self) -> Self"
[23:43:18] <graydon> I am finding a delightful number of bugs in the tracker are already fixed. such a pleasant sign.
[23:43:24] <graydon> "things actually getting better?" whee
[23:43:30] *** Joins: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com)
[23:43:48] <pcwalton> the language has been getting remarkably more usable now that we haven't been adding features so much ;)
[23:44:01] <aatch> graydon, I noticed that the triage email went out because tons of issues got closed
[23:45:55] <dbaupp> pcwalton: this is ready to review now https://github.com/mozilla/rust/pull/6073 :)
[23:45:56] <aatch> Hell, in the second one I got, there was 1 still-valid bug (that only occurs in an error state anyway) 3 closed bugs and 6 "nice-to-have"s
[23:46:01] *** Joins: lerc_ (quassel@moz-B7C43FE2.telstraclear.net)
[23:46:06] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[23:46:20] <tjc> yeah, most of the really old bugs are nice-to-haves
[23:46:41] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[23:46:43] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[23:46:51] *** Quits: skippydippy (Mibbit@E248DB08.9470356F.5B864609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:47:12] *** Quits: Thad (chatzilla@moz-C35F90AE.tx.res.rr.com) (Client exited)
[23:47:24] <aatch> Like "Could rustdoc annotate complexity?" which is either trivial or Turing Prize-worthy, depending on how you interpret it
[23:47:32] <pcwalton> 10% slower, not bad
[23:47:36] <tjc> yes
[23:47:38] <pcwalton> probably fixable too
[23:47:51] *** Quits: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu) (Ping timeout)
[23:48:16] <pcwalton> oh, I see a bunch of bounds checks
[23:48:17] <pcwalton> that's probably it
[23:48:23] <pcwalton> need more bounds-check-eliminating combinators!
[23:48:44] *** Parts: graham_king (graham_kin@moz-61791D81.vc.shawcable.net) ()
[23:50:17] <dbaupp> pcwalton: I tried eliminating bounds checks with `unsafe_get` and `unsafe_set`, I don't think it helped much
[23:50:33] <pcwalton> dbaupp: hmm, ok
[23:50:41] <dbaupp> (if i remember correctly)
[23:50:43] <pcwalton> will have to look at the generated asm and use an instruction level profiler then
[23:50:55] <pcwalton> it's within 10%, whatever.
[23:50:57] <pcwalton> that's noise.
[23:51:00] <pcwalton> well, not noise
[23:51:01] <pcwalton> bu
[23:51:04] <pcwalton> but it's close.
[23:51:27] <dbaupp> The major difference between the C and rust asm is the C uses (%register), while rust uses num(%register, %register, 4) for reading/writing the arrays
[23:51:52] <dbaupp> (not sure if that's where the performance difference will be)
[23:52:06] <pcwalton> oh, is it not using pointers?
[23:52:10] <pcwalton> you could use slices maybe
[23:52:20] <pcwalton> maybe some clever use of Rust slices could eliminate it
[23:53:04] <dbaupp> pcwalton: the C? yeah, the C is doing the *(m++) trick
[23:53:09] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[23:53:54] <dbaupp> anyway, I've got to go, so performance discussions will have to wait.:)
[23:54:14] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[23:54:38] *** Joins: flipcoder (flipcoder@moz-EE3A28B2.dhcp.rvsd.ca.charter.com)
[23:55:46] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[23:56:17] *** Joins: int3_ (int3_@moz-4F9BAFA5.subnet-248.amherst.edu)
[23:59:36] <strcat> pcwalton: iterators can avoid the bounds checks, just need to make them for ranges
