[00:00:19] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[00:03:29] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:03:29] *** ChanServ sets mode: +o brson
[00:04:22] *** Joins: CaseyBecking (CaseyBecki@moz-EDABF502.lsanca.fios.verizon.net)
[00:04:39] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:05:22] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[00:05:40] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:05:40] *** ChanServ sets mode: +o pcwalton
[00:14:15] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:16:09] <kmc> do you think we should just ship our own font config files that look in /usr/share/fonts/truetype/msttcorefonts and call that good enough for now?
[00:18:57] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[00:20:04] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Ping timeout)
[00:23:29] <kmc> that might break non-latin scripts, which would block working on text shaping
[00:25:31] *** Joins: hoverbear (hoverbear@moz-B4816CA9.wireless.uvic.ca)
[00:28:08] *** Quits: reyre (reyre@moz-89E9865B.com) (Quit: ZNC - http://znc.in)
[00:29:07] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[00:34:09] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Client exited)
[00:41:12] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[00:41:39] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[00:45:01] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[00:45:32] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:45:32] *** ChanServ sets mode: +o pcwalton
[00:46:03] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:51:23] <larsberg> kmc: So does this in-tree version of fontconfig work when msttcorefonts are not installed? Or is this just the part to get an in-tree version so that we don't rely on a likely-non-threadsafe version of the library on Ubuntu?
[00:52:50] <kmc> the latter is the goal
[00:55:59] <larsberg> cool. So I assume the warnings about the system's fontconfig files are because we now have a newer version than is installed on the system? (sorry if I'm just catching up - I didn't see it in the backscroll). 
[00:56:20] <larsberg> I guess the only other alternative is checking the system version of fontconfig during ./configure and punting if they don't have a new enough one installed?
[00:59:03] *** Joins: bhenry (bhenry@moz-B504BF3D.shaklee.com)
[01:00:01] <kmc> or putting mutexes around all fontconfig calls
[01:00:10] <larsberg> *shudder*
[01:00:17] <kmc> (that might not even be enough, depending on in what sense it's thread-unsafe)
[01:00:24] <larsberg> Which do you prefer?
[01:00:28] <kmc> yeah. it sounds like that would kill our parallel layout performance
[01:01:01] <kmc> but we should be able to cache fontconfig results... it's just selecting fonts, not loading or rendering them
[01:01:05] <larsberg> oh, yeah, it might be "strstr-style" thread unsafe, in which case no set of mutexes is gonna help you :-)
[01:01:12] <kmc> yep
[01:03:33] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[01:04:36] <kmc> once I sort out the linker flags I can try to merge the in-tree fontconfig solution and we'll see how much stuff breaks on different people's machines
[01:07:51] <larsberg> that sounds great! hopefully it's only something we'll need for a year or so until Ubuntu's packages take a leap into early 2013 :-)
[01:08:44] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[01:09:30] <kmc> let's hope we never have to support RHEL...
[01:10:43] *** Joins: chenyang (user@moz-8AF6A02F.airbears2.berkeley.edu)
[01:10:46] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Connection reset by peer)
[01:10:51] *** Joins: Jesse_ (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[01:10:54] <larsberg> did you just propose servo as the new backend for Amazon Silk? :-)
[01:11:46] <kmc> :D
[01:13:10] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[01:13:10] *** ChanServ sets mode: +o pcwalton
[01:16:03] *** Joins: reyre (reyre@moz-89E9865B.com)
[01:16:39] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:19:07] *** Joins: bholley (bholley@moz-3EBD3656.hsd1.ca.comcast.net)
[01:23:08] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: )
[01:27:43] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[01:29:14] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[01:29:31] *** Quits: bhenry (bhenry@moz-B504BF3D.shaklee.com) (Quit: bhenry)
[01:29:49] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:38:17] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[01:45:00] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:45:02] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[01:45:52] *** Quits: hoverbear (hoverbear@moz-B4816CA9.wireless.uvic.ca) (Quit: Taking a nap.)
[01:48:29] *** kimundi is now known as zz_kimundi
[01:49:12] *** Quits: reyre (reyre@moz-89E9865B.com) (Quit: ZNC - http://znc.in)
[01:59:29] *** Quits: chenyang (user@moz-8AF6A02F.airbears2.berkeley.edu) (Ping timeout)
[02:04:59] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:05:25] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140224030203])
[02:05:52] *** Joins: dorsatum (dorsatum@E9BF8FB4.2462B1E2.5D9ABA9F.IP)
[02:09:06] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[02:11:01] *** Joins: mauricioc (mauricioc@A6903506.BF40BC51.2F0EC0E9.IP)
[02:15:50] *** Quits: dorsatum (dorsatum@E9BF8FB4.2462B1E2.5D9ABA9F.IP) (Ping timeout)
[02:28:58] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[02:30:17] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[02:33:27] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[02:35:22] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[02:35:22] *** ChanServ sets mode: +o pcwalton
[02:43:59] *** Quits: bholley (bholley@moz-3EBD3656.hsd1.ca.comcast.net) (Quit: bholley)
[02:54:21] *** Joins: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP)
[03:01:11] *** Joins: dranov (dranov@F36E785D.CD12E950.D602D2C5.IP)
[03:01:51] *** Joins: chenyang (user@moz-8AF6A02F.airbears2.berkeley.edu)
[03:02:13] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[03:07:03] *** Quits: zz_kimundi (kimundi@moz-75FC8F5B.dip0.t-ipconnect.de) (Ping timeout)
[03:09:22] *** Quits: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[03:10:31] *** Joins: zz_kimundi (kimundi@moz-66E7D193.dip0.t-ipconnect.de)
[03:10:33] *** zz_kimundi is now known as kimundi
[03:12:25] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:20:33] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[03:26:59] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[03:35:01] *** Joins: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net)
[03:37:43] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:42:42] *** Joins: newbie (kvirc@moz-E97035B0.dip0.t-ipconnect.de)
[03:48:07] *** Quits: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[03:51:25] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:52:34] *** Joins: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net)
[03:52:46] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:52:47] *** ChanServ sets mode: +qo dherman dherman
[03:53:28] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[03:53:49] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[03:53:56] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[03:54:50] *** Joins: ioseb (ioseb@CED4BD91.F74C2342.539FFD7B.IP)
[03:55:07] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:58:09] *** Joins: dorsatum (dorsatum@D82D4016.23DD0183.5D9ABA9F.IP)
[04:00:17] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[04:00:17] *** ChanServ sets mode: +o pcwalton
[04:02:11] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[04:02:25] *** Quits: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP) (Ping timeout)
[04:02:45] *** Quits: dorsatum (dorsatum@D82D4016.23DD0183.5D9ABA9F.IP) (Ping timeout)
[04:02:58] *** Joins: dorsatum (dorsatum@D82D4016.23DD0183.5D9ABA9F.IP)
[04:04:58] *** Joins: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP)
[04:06:36] <dorsatum> where would be a good place to start off with rust?
[04:08:37] <jack> dorsatum: aside from the tutorial?
[04:09:22] <dorsatum> jack: yes, after the tutorial how can one proceed?
[04:10:14] <jack> pick a bug or project and start trying to make progress. ask questions if you get to something you don't understand yet
[04:10:37] *** Joins: bletch (Mibbit@moz-4126C1AF.dynamic.snap.net.nz)
[04:10:50] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[04:10:50] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[04:11:01] *** Quits: bletch (Mibbit@moz-4126C1AF.dynamic.snap.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[04:12:30] <dorsatum> jack: are there bugs related to rust which don't include servo? I'm on a 32 bit system and I am installing a 64 bit version, I was just wondering if I could go through some bugs in the meantime.
[04:13:35] <jack> rust has E-Easy bugs too :)
[04:14:00] <jack> I'm probably less helpful than the people in #rust for pointing you to good first bugs there though.
[04:14:08] *** Quits: Jesse_ (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse_)
[04:14:15] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[04:14:44] *** Quits: dorsatum (dorsatum@D82D4016.23DD0183.5D9ABA9F.IP) (Ping timeout)
[04:14:59] *** Joins: dorsatum (dorsatum@D82D4016.23DD0183.5D9ABA9F.IP)
[04:18:07] <Manishearth> jack: Could i have some help understanding this bug? https://github.com/mozilla/servo/issues/1744
[04:18:15] *** Quits: dranov (dranov@F36E785D.CD12E950.D602D2C5.IP) (Ping timeout)
[04:18:44] *** Quits: dorsatum (dorsatum@D82D4016.23DD0183.5D9ABA9F.IP) (Ping timeout)
[04:18:51] <Manishearth> It seems as if the method already uses createHTMLCollection
[04:18:57] *** Joins: dorsatum (dorsatum@D82D4016.23DD0183.5D9ABA9F.IP)
[04:19:55] *** Quits: ioseb (ioseb@CED4BD91.F74C2342.539FFD7B.IP) (Quit: ioseb)
[04:20:30] <jack> Manishearth: it currently returns HTMLCollection not NodeList
[04:20:35] <jack> unless HTMLCollection is a NodeList
[04:21:18] <Manishearth> oh, so Ms2ger is saying we need a method *like* createHTMLCOllection that creates a nodelist
[04:22:34] *** Joins: ioseb (ioseb@CED4BD91.F74C2342.539FFD7B.IP)
[04:22:40] *** Joins: dranov (dranov@F36E785D.CD12E950.D602D2C5.IP)
[04:22:43] <jack> yeah, it looks like the interface is slightly different.
[04:22:52] <jack> I'm having trouble finding the definition of the HTMLCollection interface
[04:22:56] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[04:22:56] <Manishearth> pub fn createHTMLCollection(&self, callback: |elem: &Element| -> bool) -> JS<HTMLCollection> {
[04:23:11] <Manishearth> that callback stuff is confusing O.o
[04:23:16] <jack> but Node.childNodes returns one
[04:23:16] <Manishearth> as in the syntax
[04:23:24] <jack> so if we implement that it may be instructive
[04:23:47] <jack> that looks liek a filtering callback
[04:24:09] <jack> also, querySelectorAll returns a NodeList
[04:24:12] <dorsatum> jack: for  https://github.com/mozilla/servo/issues/1748 do we simply need to transfer those two blocks to another file?
[04:24:15] <Manishearth> ah, yay
[04:25:23] <jack> looks like ChildNodes in script/dom/node.rs has an example.
[04:25:44] <jack> all the bindings exist apaprently, you just need to create the actual NodeList instead of the HTMLCollection
[04:26:05] <jack> dorsatum: indeed :) it may take some fixing up of imports.
[04:26:06] <Manishearth> great, thanks
[04:26:32] <Manishearth> I screwed up my m-c hg, would be nice to get back to git for a while ^.^
[04:28:01] <dorsatum> jack: thanks, fixing imports in what sense though  ? :)
[04:28:28] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[04:28:30] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Input/output error)
[04:28:37] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[04:28:40] <jack> at hte top are `use foo::bar;` statements. the users of those functions will be using the code from the old module
[04:28:49] <jack> and you need to change it to use from the new module
[04:29:10] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[04:29:41] *** Quits: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com) (Ping timeout)
[04:30:06] *** Quits: chenyang (user@moz-8AF6A02F.airbears2.berkeley.edu) (Ping timeout)
[04:30:12] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[04:30:26] <dorsatum> jack: ah, thank you :)
[04:30:36] <jack> dinner. biab.
[04:31:42] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[04:31:42] *** ChanServ sets mode: +o pcwalton
[04:31:43] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[04:32:11] *** Quits: dranov (dranov@F36E785D.CD12E950.D602D2C5.IP) (Ping timeout)
[04:33:36] *** Joins: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP)
[04:34:44] *** Quits: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP) (Ping timeout)
[04:35:09] *** Joins: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP)
[04:37:21] <Manishearth> jack: NodeList::new seems to be ok here :)
[04:38:18] *** Quits: dorsatum (dorsatum@D82D4016.23DD0183.5D9ABA9F.IP) (Ping timeout)
[04:40:19] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[04:41:05] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[04:41:05] <ghservo> [13servo] 15Manishearth opened pull request #1756: #1744 make getElementsByTagName return a NodeList (06master...06nodelist-1744) 02http://git.io/sdezHw
[04:41:05] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[04:41:18] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Input/output error)
[04:41:41] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:41:50] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[04:41:55] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:43:36] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[04:43:36] <ghservo> [13servo] 15pradeep90 opened issue #1757: Pass in the right containing block size for `position: relative` 02http://git.io/6KyTYA
[04:43:36] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[04:43:50] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[04:44:11] <Manishearth> yay, first pull req. Probably screwed it up badly, but we'll see :)
[04:44:44] *** Quits: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP) (Ping timeout)
[04:45:06] *** Joins: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP)
[04:48:06] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[04:49:22] <Manishearth> gah, pointers
[04:50:44] <Manishearth> jack: What's the workflow for fixing pull reqs? With hg I would just hg qref, and everything would be updated. Do I just keep adding commits here?
[04:51:00] <Manishearth> When it's local I can do rebases but once pushed ...
[04:51:46] <jack> just keep adding commits, and then after it passes review you can rebase/squash and then force push the new commits.
[04:52:13] <Manishearth> jack: Doesn't GitHub break on rebases?
[04:55:41] *** Quits: mauricioc (mauricioc@A6903506.BF40BC51.2F0EC0E9.IP) (Quit: leaving)
[04:58:00] <jack> Manishearth: not at all
[04:58:16] <jack> you're only rewriting history on your own branch, not on the servo master branch.
[04:58:21] <Manishearth> hm, alright
[04:58:30] <jack> github will just show the new history istead of the old history
[04:58:32] <Manishearth> so github will forget about the older commits too?
[04:58:35] <Manishearth> nice
[04:59:53] <Manishearth> had breakfast, wrote a mochitest, and made my first servo PR. Today is a good day. I blame the breakfast.
[05:00:34] <Manishearth> Thanks, then. I'll try to learn sqaushing/rebasing later today.
[05:15:17] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[05:22:07] *** Joins: chenyang (user@moz-DD9AF39A.airbears2.berkeley.edu)
[05:32:05] *** Joins: lpy (lpy@665181D6.D58093C6.8C13C571.IP)
[05:35:12] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Input/output error)
[05:35:28] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[05:36:11] <lpy> where is the code about generating AttrBinding.rs?
[05:36:19] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[05:36:40] <lpy> oh yeah. I got it.
[05:42:49] *** Joins: bhenry (bhenry@moz-93393D0A.hsd1.ca.comcast.net)
[05:46:07] *** Joins: sankha93 (sankha93@71F19D4F.49C43973.1C37C358.IP)
[05:49:19] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[05:50:08] *** Joins: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP)
[05:50:08] <ghservo> [13servo] 15lpy opened pull request #1758: Move Traceable, trace_reflector from utils.rs to trace.rs.(fixes #1748) (06master...06issue1748) 02http://git.io/_1noZQ
[05:50:08] *** Parts: ghservo (ghservo@38D6F008.6A2AE50.F3114085.IP) ()
[05:51:45] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[05:54:07] *** Quits: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP) (Quit: huon)
[05:54:20] *** Joins: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP)
[05:57:44] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[06:00:14] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[06:03:51] *** Quits: ioseb (ioseb@CED4BD91.F74C2342.539FFD7B.IP) (Quit: ioseb)
[06:12:56] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[06:14:53] *** Quits: chenyang (user@moz-DD9AF39A.airbears2.berkeley.edu) (Ping timeout)
[06:23:51] *** Joins: jet (jet@2F7A6B63.849D0000.1832A255.IP)
[06:33:00] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[06:33:00] <ghservo> [13servo] 15lpy opened pull request #1759: Add empty text check for first child of pre in innerHTML.(fixes #1743) (06master...06issue1743) 02http://git.io/eEDbIg
[06:33:00] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[06:34:51] *** Quits: jet (jet@2F7A6B63.849D0000.1832A255.IP) (Ping timeout)
[06:36:10] *** Quits: lpy (lpy@665181D6.D58093C6.8C13C571.IP) (Client exited)
[06:40:04] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:44:10] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[06:45:12] *** Joins: chenyang (user@moz-83728A1C.hsd1.ca.comcast.net)
[06:46:14] *** Joins: jet (jet@2F7A6B63.849D0000.1832A255.IP)
[06:52:50] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[06:53:22] *** Quits: sankha93 (sankha93@71F19D4F.49C43973.1C37C358.IP) (Client exited)
[07:06:05] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[07:14:24] *** Joins: lpy (lpy@665181D6.D58093C6.8C13C571.IP)
[07:18:58] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[07:19:20] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[07:19:20] *** ChanServ sets mode: +o brson
[07:19:44] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[07:19:50] *** Quits: jet (jet@2F7A6B63.849D0000.1832A255.IP) (Quit: jet)
[07:23:32] *** Joins: newbie82 (kvirc@moz-98A4B5CB.dip0.t-ipconnect.de)
[07:24:06] *** Quits: newbie (kvirc@moz-E97035B0.dip0.t-ipconnect.de) (Ping timeout)
[07:25:09] *** Quits: lpy (lpy@665181D6.D58093C6.8C13C571.IP) (Ping timeout)
[07:28:57] *** Joins: lpy (lpy@665181D6.D58093C6.8C13C571.IP)
[07:31:14] *** Quits: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[07:32:56] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[07:35:22] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse)
[07:36:48] *** Quits: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP) (Ping timeout)
[07:36:51] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[07:40:38] *** Joins: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP)
[07:46:00] *** Quits: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP) (Ping timeout)
[07:46:10] *** Joins: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP)
[07:46:40] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[07:47:02] *** Quits: bhenry (bhenry@moz-93393D0A.hsd1.ca.comcast.net) (Quit: bhenry)
[07:47:41] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[07:47:53] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[07:48:03] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[07:48:06] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:54:16] *** Joins: Ms2ger (Ms2ger@B30DC609.F9DEE48B.187A1082.IP)
[07:54:18] *** Quits: lpy (lpy@665181D6.D58093C6.8C13C571.IP) (Client exited)
[07:54:36] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Client exited)
[07:56:31] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[07:57:47] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[07:57:47] *** ChanServ sets mode: +o pcwalton
[07:58:57] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:02:15] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[08:03:57] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[08:04:56] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[08:10:09] <Ms2ger> Manishearth, does your PR compile?
[08:14:00] <Manishearth> Ms2ger: Uh, just got back from class/lunch. I'll have to check
[08:14:10] <Manishearth> I'll first recheckout master and rebuild
[08:14:23] <Ms2ger> Alright, great
[08:14:29] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[08:14:34] <Ms2ger> Did you add your email address on critic?
[08:14:39] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[08:15:10] <Manishearth> Ms2ger: nope, will do
[08:15:32] <Manishearth> Also, I last built a weekish ago, I'll have to ../configure again?
[08:16:42] <Ms2ger> There may be an incantation to update your submodules without running configure, but I don't know it :)
[08:17:42] <Manishearth> I expected there to be some git submodule pull thing or something
[08:17:46] <Manishearth> darn
[08:17:50] <Manishearth> *shakes fist at git*
[08:21:28] <eddyb> rust's makefile updates all the submodules
[08:21:36] <eddyb> no idea how, though
[08:22:26] <Ms2ger> We should probably move it into some python script
[08:24:25] <Ms2ger> Manishearth, review comments at https://critic.hoppipolla.co.uk/r/883, btw
[08:24:58] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:25:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:25:38] <Manishearth> Ms2ger: kay
[08:27:17] <Manishearth> Ms2ger: *facepalm* I forgot to change the return value
[08:27:48] <Manishearth> Eh, gotta get used to typed languages again :)
[08:28:13] <Ms2ger> Always fun :)
[08:29:25] <Debloper> Manishearth: [offtopic] add the Inotify idea to GSoC wiki-page please ;)
[08:29:48] <Debloper> I think it'll be a fun project & highly likely to be accepted.
[08:29:48] <Manishearth> Debloper: Uh, but that page is locked now, no?
[08:30:01] <Debloper> wut! :-o
[08:30:25] <Debloper> I can edit :-/
[08:30:35] <Debloper> https://wiki.mozilla.org/index.php?title=Community:SummerOfCode14:Brainstorming&action=edit
[08:32:17] <Manishearth> Debloper: No, as in the GSoC ideas page is suppsoed to have been finalized
[08:32:26] <Manishearth> but yeah, I can add it to the Brainstorming page.
[08:32:50] <Debloper> it's not... idea submission is still going on, imo.
[08:33:05] <Debloper> let's move to other channel, I'm spamming here.
[08:33:36] <Manishearth> On topic: /me <3 the everything-returns bit of Rust
[08:33:43] <Manishearth> no need for return statements!
[08:33:48] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[08:34:04] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[08:34:04] *** ChanServ sets mode: +o pcwalton
[08:34:29] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[08:35:19] <Manishearth> Ms2ger: Why is the parameter named "callback"?
[08:35:33] <Manishearth> It souds async but it obviously is not
[08:36:01] <Ms2ger> It's something that's called back? :)
[08:36:14] <Ms2ger> Callbacks aren't necessarily async
[08:36:49] <Manishearth> True, but it sounds async to me :p
[08:37:04] * Manishearth needs to get used to a lot of things it seems
[08:37:26] <Manishearth> Ms2ger: |self.createCollection(callback)| will work, or should I do some pointer magic to the callback?
[08:38:02] <Ms2ger> That should work
[08:38:17] <Ms2ger> Best way to be sure: compile ;)
[08:38:33] <Manishearth> Yeah, but I have an old build so it will take forever
[08:38:42] <Manishearth> btw, incremental make works, right? 
[08:38:48] <Manishearth> make /path/to/file ?
[08:39:39] <Ms2ger> I don't know
[08:39:57] <Ms2ger> Note that rust compiles per-crate, so anything less than libscript isn't going to work
[08:40:06] <Manishearth> O.o
[08:40:18] <Manishearth> I know what a crate is ... sorta. What's libscript?
[08:40:51] <Ms2ger> One crate :)
[08:40:59] <Ms2ger> The crate all the DOM stuff lives in
[08:41:07] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[08:41:26] *** Quits: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP) (Ping timeout)
[08:41:43] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:41:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:41:49] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Quit: Computer has gone to sleep.)
[08:41:53] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[08:42:13] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[08:42:13] <Manishearth> oh so make /path//to/dom
[08:43:06] <Manishearth> I'll just run a full build and worry if it breaks :p
[08:43:53] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[08:46:49] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[08:49:45] <Ms2ger> That's probably easier :)
[08:51:21] <Manishearth> Whoa, this Critic thing automagically resolves things :D
[08:51:38] *** Quits: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP) (Ping timeout)
[08:53:18] <Ms2ger> Yep, it's pretty neat
[08:56:06] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:56:08] *** Quits: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP) (Connection reset by peer)
[08:58:50] *** Joins: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP)
[09:09:17] *** Quits: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP) (Ping timeout)
[09:12:37] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[09:12:43] <Manishearth> Ms2ger: I got an error in an unrelated bit of code :/
[09:12:46] <Manishearth> task 'rustc' failed at 'lookup_item: id not found: 3572', /home/muon/Desktop/Programming/Mozilla/servo/src/compiler/rust/src/librustc/metadata/decoder.rs:92
[09:12:49] <Manishearth> error: internal compiler error: unexpected failure
[09:12:52] <Manishearth> This message reflects a bug in the Rust compiler. 
[09:12:54] <Manishearth> We would appreciate a bug report: https://github.com/mozilla/rust/wiki/HOWTO-submit-a-Rust-bug-report
[09:12:57] <Manishearth> note: the compiler hit an unexpected failure path. this is a bug
[09:13:00] <Manishearth> note: try running with RUST_LOG=rustc=1 to get further details and report the results to github.com/mozilla/rust/issues
[09:13:03] <Manishearth> task '<main>' failed at 'explicit failure', /home/muon/Desktop/Programming/Mozilla/servo/src/compiler/rust/src/librustc/lib.rs:440
[09:13:06] <Manishearth> make: *** [/home/muon/Desktop/Programming/Mozilla/servo/build/x86_64-unknown-linux-gnu/src/components/gfx/libgfx.dummy] Error 101
[09:14:18] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[09:14:18] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[09:14:57] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[09:16:43] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[09:16:55] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[09:19:08] <Ms2ger> Eek
[09:19:32] <Ms2ger> Manishearth, try make clean
[09:22:31] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[09:23:04] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof_)
[09:23:46] <Ms2ger> Need to run now, will be back from class
[09:24:08] *** Quits: Ms2ger (Ms2ger@B30DC609.F9DEE48B.187A1082.IP) (Quit: bbl)
[09:37:04] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[10:03:07] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[10:04:03] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[10:18:48] *** Joins: Ms2ger (Ms2ger@moz-9E90A9B3.ugent.be)
[10:19:20] *** Joins: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP)
[10:20:32] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[10:22:14] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[10:27:37] *** Quits: Ms2ger (Ms2ger@moz-9E90A9B3.ugent.be) (Ping timeout)
[10:28:15] *** Joins: Ms2ger (Ms2ger@moz-CD126EF7.ugent.be)
[10:38:38] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140225030201])
[10:46:10] *** Quits: Ms2ger (Ms2ger@moz-CD126EF7.ugent.be) (Ping timeout)
[10:54:05] *** Joins: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl)
[10:58:30] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[10:59:55] *** eddyb is now known as grumpy_eddyb
[11:00:42] *** Joins: Ms2ger (Ms2ger@moz-85E2FD70.ugent.be)
[11:01:07] <Manishearth> Ms2ger: So, |make bindings| would work here?
[11:01:42] <Ms2ger> I have no idea, I always do plain make
[11:05:33] <Manishearth> Ms2ger: hm. Does it make everything or just the changes?
[11:05:52] <Ms2ger> Should do just the changes
[11:08:02] <Manishearth> Ah, it worked, but gave an error.
[11:08:09] <Manishearth> Hmm, what's the full name f NodeList?
[11:08:15] <Manishearth> dom::nodelist::NodeList?
[11:09:17] *** grumpy_eddyb is now known as eddyb
[11:10:24] <Ms2ger> Yes
[11:10:41] <Ms2ger> Ah, you might need to `use` it, indeed
[11:11:12] <Manishearth> I actually saw the use-s at the beginning and intended to, but forgot
[11:11:42] <lpy> Ms2ger: ping
[11:12:46] <Ms2ger> Here
[11:12:52] *** Ms2ger is now known as Ms2ger|class
[11:13:07] <lpy> I use "dom::bindings::trace::*" in CodegenRust.py, is that ok?
[11:13:33] <Ms2ger|class> Didn't I ask you not to do that?
[11:15:03] <Manishearth> Ms2ger|class: Also, I'll need to cast the Element array to a Node array to create a nodelist. I'll look into this later today
[11:15:24] <lpy> Ms2ger|class: I see
[11:16:49] <Ms2ger|class> Manishearth, oh right
[11:17:28] <Ms2ger|class> Let me think about that
[11:21:17] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[11:23:48] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[11:29:47] *** Quits: pdewacht (repent@moz-A79C5CB3.be) (Ping timeout)
[11:31:06] <Ms2ger|class> Manishearth, okay, try https://pastebin.mozilla.org/4399371
[11:31:32] <Ms2ger|class> Except not with HTMLCollection::new in createNodeList
[11:33:10] *** Joins: pdewacht (repent@moz-A79C5CB3.be)
[11:37:14] <lpy> Ms2ger|class: should I add my email in critic?
[11:38:00] <Ms2ger|class> Yes, please
[11:38:15] <lpy> thanks
[11:39:23] <Ms2ger|class> Oh, gah, did you commit --amend?
[11:39:38] <lpy> me?
[11:39:43] <Ms2ger|class> Yeah
[11:40:10] <lpy> I use rebase to merge the commit
[11:40:43] <Ms2ger|class> Yeah, critic doesn't like that
[11:41:02] <lpy> sorry.
[11:41:17] * jgraham wonders what happened to the "using git" guide we wrote
[11:41:52] <Ms2ger|class> Did you change anything else than I mentioned?
[11:41:59] <lpy> uh. I should have read the comment from the bot.
[11:42:05] <lpy> no
[11:42:19] <Ms2ger|class> Alright
[11:42:29] <lpy> sorry about that
[11:43:30] <Ms2ger|class> It's no big deal for a small PR like this, but please keep it in mind in the future :)
[11:43:33] <jgraham> lpy: No problem. Various things (github, gecko) teach bad habits
[11:43:34] *** Joins: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP)
[11:43:48] <Ms2ger|class> Gecko only teaches good habits! ;)
[11:43:55] <jgraham> Ms2ger|class: Are you OK fixing the review?
[11:44:04] <lpy> Ms2ger|class: thank you :) I learnt my lesson 
[11:44:24] <Ms2ger|class> jgraham, I've r+'d, so it's fine
[11:44:29] <jgraham> Ms2ger|class: OK
[11:44:44] <Ms2ger|class> -> lunch
[11:45:29] <lpy> jgraham: my bad habits come from my laziness ;)
[11:46:46] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[11:46:46] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/-yNAug
[11:46:46] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[11:46:47] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[11:46:47] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/6P-94Q
[11:46:47] <ghservo> 13servo/06auto 14f706123 15lpy: Move Traceable, trace_reflector from utils.rs to trace.rs.(fixes #1748)
[11:46:47] <ghservo> 13servo/06auto 1461e499c 15bors-servo: auto merge of #1758 : lpy/servo/issue1748, r=Ms2ger...
[11:46:47] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[11:47:43] *** Quits: Ms2ger|class (Ms2ger@moz-85E2FD70.ugent.be) (Ping timeout)
[11:52:31] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[12:08:38] *** Joins: Ms2ger|class (Ms2ger@moz-6F449C8.ugent.be)
[12:13:44] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[12:13:44] <ghservo> [13servo] 15bors-servo closed pull request #1758: Move Traceable, trace_reflector from utils.rs to trace.rs.(fixes #1748) (06master...06issue1748) 02http://git.io/_1noZQ
[12:13:44] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[12:13:46] *** Ms2ger|class is now known as Ms2ger|lunch
[12:13:46] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[12:13:46] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/6P-94Q
[12:13:46] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[12:13:52] <lpy> Ms2ger|class: so, about the test of #1743
[12:13:53] <crowbot> Issue #1743: innerHTML crashes with pre with empty text first child - https://github.com/mozilla/servo/issues/1743
[12:14:18] <Ms2ger|lunch> Yep
[12:14:45] <lpy> hmm. where should I add it? 
[12:14:48] <lpy> in html?
[12:15:24] <lpy> I mean in test/html?
[12:15:34] * Ms2ger|lunch looks
[12:15:51] <lpy> or maybe in content
[12:16:01] <Ms2ger|lunch> src/test/html/content/
[12:16:30] <lpy> ls
[12:16:33] <Ms2ger|lunch> I guess start a test_innerHTML.html
[12:17:17] *** Quits: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl) (Quit: Bye)
[12:17:26] * lpy looks and thinks
[12:17:59] <Ms2ger|lunch> var a = document.createElement("div");
[12:17:59] <Ms2ger|lunch> a.appendChild(document.createElement("pre")).appendChild(new Text(""));
[12:17:59] <Ms2ger|lunch> alert(a.innerHTML)
[12:18:04] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[12:18:46] <Ms2ger|lunch> Something like that, but without the alert and with an is(), I guess
[12:18:57] <jgraham> I think the right answer is "Ms2ger should review my innerHTML testsuite and you should add it to that"
[12:19:20] <Ms2ger|lunch> Yes, that too
[12:19:30] <jgraham> (then we should get the wpt tests running in servo, but that should be a high priority anyway)
[12:19:37] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[12:19:39] <Ms2ger|lunch> Indeed
[12:19:46] <Ms2ger|lunch> And I know the perfect victim :)
[12:22:08] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[12:25:54] *** Joins: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl)
[12:26:19] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[12:27:35] *** Quits: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[12:33:20] <Ms2ger|lunch> http://servomemes.tumblr.com/post/77816220326/defense-in-depth-all-of-the-exploits-targeted-at :D
[12:39:06] * Ms2ger|lunch goes and find where his next class
[12:39:08] <Ms2ger|lunch>  is
[12:40:49] *** Quits: Ms2ger|lunch (Ms2ger@moz-6F449C8.ugent.be) (Ping timeout)
[12:44:14] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[12:46:49] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Ping timeout)
[12:51:51] *** Joins: Ms2ger|lunch (Ms2ger@moz-6F449C8.ugent.be)
[12:53:56] *** Ms2ger|lunch is now known as Ms2ger
[12:54:40] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[12:55:12] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[12:56:38] <Ms2ger> Heh
[12:56:52] <Ms2ger> Reviewed all the code changes, but not the test: 15% done
[12:57:51] <lpy> hmm
[12:58:09] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[12:58:11] <lpy> I mess up again?
[12:58:42] <Ms2ger> No, I just found it funny that ratio test code/code changes was so large
[12:59:31] <lpy> should I squash the commits? 
[12:59:42] <lpy> after accepted
[13:00:39] <Ms2ger> Not in this case
[13:01:07] <lpy> okay thank you :)
[13:01:44] *** Joins: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP)
[13:01:44] <ghservo> [13servo] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/CMs1dg
[13:01:44] <ghservo> 13servo/06auto 14b73eb56 15lpy: Add empty text check for first child of pre in innerHTML.(fixes #1743)
[13:01:44] <ghservo> 13servo/06auto 142d5051e 15lpy: Add test
[13:01:44] <ghservo> 13servo/06auto 147ff35c0 15bors-servo: auto merge of #1759 : lpy/servo/issue1743, r=Ms2ger...
[13:01:46] *** Parts: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP) ()
[13:02:02] <Ms2ger> I usually ask for it if it makes the history cleaner, but not really worth it here
[13:04:10] *** Quits: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP) (Ping timeout)
[13:06:20] <lpy> waiting for jdm. I didn't see a appropriate place to add `LayoutDataTrait`
[13:08:57] *** Joins: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl)
[13:09:03] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[13:09:16] *** Quits: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl) (Client exited)
[13:12:22] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Ping timeout)
[13:16:03] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[13:17:36] *** Joins: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP)
[13:18:17] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[13:24:37] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[13:25:37] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[13:26:16] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[13:28:39] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[13:28:39] <ghservo> [13servo] 15bors-servo closed issue #1743: innerHTML crashes with pre with empty text first child 02http://git.io/yoEjjQ
[13:28:39] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[13:28:40] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[13:28:40] <ghservo> [13servo] 15bors-servo closed pull request #1759: Add empty text check for first child of pre in innerHTML.(fixes #1743) (06master...06issue1743) 02http://git.io/eEDbIg
[13:28:40] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[13:28:41] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[13:28:41] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/CMs1dg
[13:28:41] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[13:29:53] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[13:30:20] <Ms2ger> I'll need to find more bugs :)
[13:32:41] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[13:39:34] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Textual IRC Client: www.textualapp.com)
[13:40:58] <abinader> Ms2ger: hey :-) I've finally fixed the pointed issues @ https://critic.hoppipolla.co.uk/r/771
[13:41:26] <Ms2ger> Yes, I should look at that :)
[13:42:08] <Ms2ger> You're probably going to clash with Manishearth's changes to getElementsByName
[13:43:13] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[13:48:07] <Ms2ger> abinader, I need to review cloneNode too..
[13:48:29] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[13:48:41] <Ms2ger> Have you rebased that over JS<> already?
[13:50:24] *** bhearsum|afk is now known as bhearsum
[13:50:48] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[13:51:17] <abinader> Ms2ger: nope! will start working on that today
[13:51:27] <Ms2ger> I'll wait for that, then
[13:52:00] <abinader> ack - btw, about rebasing stuff - so we'll open a new critic afterwards?
[13:53:40] <jgraham> YOu can update a review when you rebase
[13:53:46] <jgraham> You just have to be quite careful
[13:55:01] <abinader> so far I have 0% of success in rebasing stuff w/ critic :(
[13:55:23] <Ms2ger> I wonder, did you use the defaults when rebasing?
[13:55:43] <abinader> defaults...?
[13:55:46] <Ms2ger> There's a textfield where you need to fill in the new base commit
[13:55:57] <Ms2ger> That says something like ref/master
[13:56:22] <Ms2ger> I've had more luck filling in an explicit hash
[13:58:46] <Ms2ger>             let document = self.htmlelement.element.node.owner_doc();
[13:58:46] <Ms2ger>             let window = document.get().window.get();
[13:58:46] <Ms2ger>             let url = window.page.url.as_ref().map(|&(ref url, _)| url.clone());
[13:58:49] <Ms2ger> Mm, boilerplate
[13:59:58] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:01:33] <abinader> Ms2ger: hmm, I never read about that - is it documented somewhere?
[14:01:41] <Ms2ger> I don't know
[14:02:00] <abinader> right
[14:02:17] <abinader> an example commit would suffice
[14:05:07] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[14:06:07] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[14:06:07] *** ChanServ sets mode: +o jdm
[14:06:11] <Manishearth> Ms2ger: any idea how to convert an element to a node?
[14:06:30] <Manishearth> Element.node exists, but I't doesn't seem like it's public
[14:06:52] <Ms2ger> let node: JS<Node> = NodeCast::from(&JS<Element)
[14:07:02] <Ms2ger> Off the top of my head
[14:07:08] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Quit: canhtak)
[14:07:24] <Manishearth> ah, NodeCast.
[14:07:25] <Manishearth> thanks
[14:10:27] *** Joins: jackneill (jackneill@moz-5A5F7142.pool.digikabel.hu)
[14:11:16] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[14:11:23] <abinader> NodeCast, transmuting objects 24h/day!
[14:11:25] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[14:12:29] <jdm> useful functions we could write:
[14:12:56] <jdm> window_from_node<T: NodeBase>(node: JS<T>) -> JS<Window>
[14:13:12] <jdm> document_from_node<T: NodeBase>(node: JS<T>) -> JS<Document>
[14:13:32] <jdm> a URL getter for Page
[14:13:37] * jdm files issues
[14:13:40] <Ms2ger> rm -f Page
[14:14:13] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[14:14:13] <ghservo> [13servo] 15Ms2ger opened pull request #1760: Cleanup ID management (06master...06idmap-improvements) 02http://git.io/7f88Kg
[14:14:13] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[14:14:30] <Manishearth>  nodes.push(NodeCast::from(&element));
[14:14:41] <Manishearth> error: cannot determine a type for this bounded type parameter: unconstrained type
[14:14:44] <Manishearth> hm
[14:14:50] <Manishearth> I'll let : it and see what happens
[14:15:04] <Ms2ger> Yeah, try let with the explicit type
[14:15:34] <Manishearth> Ms2ger: But isn't rust typed?
[14:15:48] <Manishearth> As in, doesn't NodeCast::from return something that is type constrainted?
[14:15:51] <Manishearth> *constrained
[14:15:58] <Ms2ger> "unconstrained type", so no :)
[14:16:03] <Manishearth> wut
[14:16:34] <Manishearth> get the same error on the let node : JS<Node> line
[14:17:03] <jdm> Manishearth: is nodes explicitly types?
[14:17:07] <Ms2ger> No
[14:17:09] <jdm> that will probably help
[14:17:34] <Manishearth> jdm:             let node: JS<Node>  = NodeCast::from(&element);
[14:17:36] <Manishearth>             nodes.push(node);
[14:17:42] <Ms2ger> Manishearth, you saw my pastebin, right?
[14:17:43] <Manishearth> that looks explicitly typed
[14:17:50] <Manishearth> um, no, where?
[14:17:54] <Ms2ger> https://pastebin.mozilla.org/4399371
[14:18:13] <Ms2ger> <Ms2ger|class> Except not with HTMLCollection::new in createNodeL
[14:18:17] <Manishearth> Ms2ger: No need to review it just yet, I think I prematurely PRd
[14:18:49] <Manishearth> hm
[14:19:09] <Manishearth> Oh, nice, it's using generics!
[14:19:22] <Ms2ger> Generics everywhere :)
[14:19:48] <Manishearth> Ms2ger: why are you using HTMLCollection::new in createNodeList?
[14:20:01] <Ms2ger> Because I c/p'd wrong
[14:20:08] <Ms2ger> <Ms2ger> <Ms2ger|class> Except not with HTMLCollection::new in createNodeL
[14:20:33] <Manishearth> ah
[14:20:39] * Manishearth scrolled up just now
[14:21:13] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[14:24:02] <Manishearth> Looks like you forgot some parens there, but oh well
[14:24:23] <Ms2ger> Yeah, I did
[14:24:32] <Ms2ger> I only proved it correct, I haven't compiled it ;)
[14:24:50] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[14:24:50] <ghservo> [13servo] 15jdm opened issue #1761: Implement document_from_node and window_from_node helpers 02http://git.io/5edYaA
[14:24:50] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[14:25:42] <Manishearth> It's fun solving compiler errors in a language you learned a week ago :p
[14:26:14] *** Joins: dranov (dranov@5F9B6AD9.82C4B75C.FB866788.IP)
[14:26:48] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[14:26:48] <ghservo> [13servo] 15jdm opened issue #1762: Add url getter to Page 02http://git.io/zhMIGg
[14:26:48] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[14:31:15] <Manishearth> Ms2ger: I think I'll have to modify the getelementsfromname function as well
[14:31:48] <Ms2ger> Come again?
[14:32:26] <Manishearth> Ms2ger: you wrote create_collection as a function on JS<Node>
[14:32:42] <abinader> tried rebasing htmlcollections-live branch onto servo's master w/o success using critic...
[14:32:46] <Manishearth> As in the callback has that as its argument
[14:33:09] <Manishearth> But the current callbacks in the other two functions are callbacks on elements
[14:33:10] <Ms2ger> Yes, but getelementsfromname calls createNodeList, no?
[14:33:14] <Ms2ger> Oh, right
[14:33:27] <Ms2ger> Yes, indeed, you do need to change that callback
[14:34:48] <Manishearth> Ms2ger: That will have to be for the get* methods, right?
[14:35:08] <Ms2ger> Only for getElementsByName
[14:35:15] <Ms2ger> The API for createHTMLCollection didn't change
[14:35:17] * Manishearth looks
[14:38:39] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[14:41:56] <Manishearth> Ms2ger:  expected `&dom::bindings::js::JS<<V4>>` but found `&dom::node::Node`
[14:42:06] <Manishearth> for ElementCast
[14:42:20] <Ms2ger> Oh, gah
[14:42:27] <Manishearth> I thought ElementCast is supposed to take in nodes? O.o
[14:42:40] <Ms2ger> Yes, but only wrapped in JS<>
[14:42:52] <Ms2ger> This is more of a mess than I'd expected :)
[14:44:03] <Manishearth> And... is there some sort of JSCast?
[14:44:16] <Manishearth> Or should I just go with the lstt confusing nongeneric way? :p
[14:44:19] <Manishearth> *less
[14:44:28] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Ping timeout)
[14:44:41] <Ms2ger> Yes, that's probably best
[14:44:53] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[14:45:14] <Ms2ger> And I'll look at cleaning it up a bit
[14:46:27] <Ms2ger> So revert most of your last commit :/
[14:46:45] <Manishearth> last commit?
[14:46:52] <Ms2ger> Wait, no
[14:47:06] <Manishearth> I didn't commit this, I just git resetted it after keeping a git diff backup
[14:47:12] <Ms2ger> The one before that
[14:47:40] <Ms2ger> https://github.com/Manishearth/servo/commit/abeecd9bdd086f3f55912de5a658817b63e0767d
[14:48:35] <Manishearth> wait we can still go with a collect_element function
[14:48:45] <Manishearth> jsut not a generic one
[14:49:05] <Manishearth> *just
[14:49:15] <Ms2ger> And convert [element] -> [node] after the fact?
[14:50:09] <Manishearth> yeah
[14:50:17] <Ms2ger> That works too
[14:51:23] <Ms2ger> And then write a test, and I'll look at it :)
[14:51:43] <Manishearth> Yep
[14:51:44] *** Joins: reyre (reyre@moz-89E9865B.com)
[14:57:56] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:01:34] <Manishearth> Ms2ger: hmm, this is strange
[15:01:50] <Manishearth> create_collection returns ~[JS<Element>]
[15:01:52] <Manishearth> let elements: ~[JS<Element>] = self.create_collection(callback)
[15:02:07] <Manishearth> when I try to iterate over that, it says there is no next() method
[15:02:24] <Manishearth> But when I iterate over it without the type constraint, it works
[15:02:25] <Manishearth> hm
[15:02:35] * Ms2ger blinks
[15:02:54] <Manishearth>  type `&mut ~[dom::bindings::js::JS<dom::element::Element>]` does not implement any method in scope named `next
[15:03:14] <Ms2ger> jdm, btw, r? https://critic.hoppipolla.co.uk/r/889 :)
[15:03:30] <Manishearth> wait, I think I get the same error on reoving the typing
[15:03:31] <Manishearth> hmm
[15:03:37] <Ms2ger> You forgot .iter()?
[15:03:43] <Manishearth> yes
[15:03:57] <Manishearth> thanks
[15:04:09] <Ms2ger> Okay, that's what I thought, but that didn't match with the type-dependency :)
[15:05:53] <Manishearth> Ms2ger: can `impl` be used for monkeypatching?
[15:06:05] <Ms2ger> In what sense?
[15:06:30] <Manishearth> given a class/struct/whatever, can I *override* its methods?
[15:06:45] <Ms2ger> No
[15:06:52] <Manishearth> But I can add more
[15:06:58] <Manishearth> hm
[15:07:08] *** lpy is now known as lpy|codeforces
[15:08:42] <Manishearth> Ms2ger: It's taking longer to compile so I assume that something is working :p
[15:10:46] <Ms2ger> :D
[15:11:20] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[15:11:20] <ghservo> [13servo] 15bi0s0ft opened issue #1763: segfault on first run after build 02http://git.io/PBMb3w
[15:11:20] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[15:14:23] <Manishearth> Ms2ger: So, how do I run tests? It's on the compile: servo phase now
[15:14:39] <Manishearth> done]
[15:15:07] <Manishearth> I wrote a very basic test
[15:15:12] <Ms2ger> make check-content
[15:15:34] <Manishearth> Will that runn all tests?
[15:16:29] <Manishearth> ah, it will
[15:17:16] <Manishearth> Ms2ger: So, this change breaks test_collections
[15:17:22] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[15:17:41] <Manishearth> because test_collections is testing for HTMLCollections and get...Name doesn't do those anymore
[15:18:25] <Manishearth> Should I tweak the test so that it doesn't check types for get...Name?
[15:18:34] *** Quits: Ms2ger (Ms2ger@moz-6F449C8.ugent.be) (Ping timeout)
[15:21:16] *** Joins: LEOXD (Thunderbir@moz-ECCE2937.dk.customer.tdc.net)
[15:23:28] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[15:25:18] *** Quits: CaseyBecking (CaseyBecki@moz-EDABF502.lsanca.fios.verizon.net) (Ping timeout)
[15:30:52] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[15:31:03] *** Joins: sankha93_ (uid12218@moz-31ABA2C0.irccloud.com)
[15:31:36] *** sankha93_ is now known as sankha93|bot
[15:32:31] *** Joins: Debloper (debloper@4A8599B4.715C7B1F.5D9ABA9F.IP)
[15:32:36] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[15:40:30] *** Quits: reyre (reyre@moz-89E9865B.com) (Quit: ZNC - http://znc.in)
[15:48:40] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[15:50:08] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[15:55:26] *** Quits: chenyang (user@moz-83728A1C.hsd1.ca.comcast.net) (Ping timeout)
[15:55:27] *** Quits: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP) (Quit: Ex-Chat)
[15:59:19] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[15:59:25] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[16:03:20] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[16:04:28] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[16:11:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:11:56] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[16:13:42] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[16:14:59] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:16:25] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[16:18:22] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[16:23:49] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[16:27:16] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (No route to host)
[16:29:48] *** Joins: ibnc (ibnc@moz-718F3037.client.mchsi.com)
[16:30:00] *** Joins: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP)
[16:33:07] *** Joins: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP)
[16:34:45] *** Joins: brendan (brendaneic@EA6E3FBE.E0E08D99.591570DB.IP)
[16:40:04] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Quit: bholley)
[16:40:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:43:49] *** Quits: brendan (brendaneic@EA6E3FBE.E0E08D99.591570DB.IP) (Ping timeout)
[16:45:41] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:46:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:47:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:48:17] *** Joins: brendan (brendaneic@EA6E3FBE.E0E08D99.591570DB.IP)
[16:48:48] <jack> Does anyone know how I get flash installed in a self built firefox?
[16:50:14] <cmr> jack: I think all you need is a /usr/lib/mozilla/plugins/libflashplayer.so
[16:50:24] <cmr> well, that's linux...
[16:51:22] <jack> ah. ok. i just need to symlink it into my objdir/dist/plugins it looks like
[16:51:57] *** Quits: brendan (brendaneic@EA6E3FBE.E0E08D99.591570DB.IP) (Ping timeout)
[16:52:34] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:53:32] <jack> there we go :)
[17:01:22] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[17:03:18] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:03:56] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:07:58] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[17:08:37] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:09:33] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[17:13:29] *** Joins: Caspy7 (chatzilla@A077DB81.8D4B4332.33F321FD.IP)
[17:14:32] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[17:14:42] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Quit: bholley)
[17:18:01] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[17:19:08] *** Joins: chenyang (user@moz-1047CAB3.airbears2.berkeley.edu)
[17:20:47] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[17:21:01] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[17:23:38] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Ping timeout)
[17:24:22] *** Quits: chenyang (user@moz-1047CAB3.airbears2.berkeley.edu) (Ping timeout)
[17:24:37] <Caspy7> So, in the past, when I've asked about Servo I've been told that incorporating Servo into Firefox would be completely impractical (to impossible)...
[17:24:42] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:24:42] *** ChanServ sets mode: +o pcwalton
[17:24:44] <Caspy7> I'm wondering, with multiprocess, will that story change?  I know content and chrome are now being separated.
[17:24:49] *** Joins: chenyang (user@moz-1047CAB3.airbears2.berkeley.edu)
[17:24:53] <Caspy7> Would addons be the main issue then?
[17:26:09] *** Joins: bholley (bholley@moz-1FAE1FA5.lightspeed.sntcca.sbcglobal.net)
[17:27:26] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:27:43] <SimonSapin> Caspy7: weâ€™re not planning to implement XUL in Servo, and Firefoxâ€™s UI on desktop is mostly XUL
[17:28:03] *** Quits: chenyang (user@moz-1047CAB3.airbears2.berkeley.edu) (Ping timeout)
[17:30:15] <Caspy7> SimonSapin: understood, so isolating content into its own process (with e10s) will not change this story then?  I didn't think the content processes would be dependent on XUL
[17:30:51] <strcat> firefox already has out-of-process plugin support but they still use xul and are certainly not sandboxed
[17:31:08] <SimonSapin> If you still have Gecko in the UI process to render XUL, it doesnâ€™t make much sense to embed a second rendering engine IMO
[17:31:17] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[17:31:41] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[17:32:33] <Caspy7> SimonSapin: I figured if Servo is so much more efficient and faster than Gecko, then if you could use it for rendering pages, that might make sense(?)
[17:34:01] <SimonSapin> I might be technically possible, but does it make more sense than building another browser based on Servo?
[17:34:22] <strcat> you'd probably want the whole UX to be hw accelerated
[17:34:27] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[17:34:41] <strcat> and a sane model for extensions like chromium (sandboxed with fine-grained permissions)
[17:35:38] <SimonSapin> I donâ€™t know about branding (ie. the name "Firefox", the logo, â€¦), but I think unlikely that a browser based on Servo will use anymore of Firefoxâ€™s code than Servo already does (that is SpiderMonkey, Azure, NSS, and a few other libraries)
[17:36:20] <SimonSapin> s/a few other/maybe a few other/
[17:36:30] <Caspy7> *nods*
[17:36:47] <Caspy7> seems like the main issue would be addons
[17:37:10] <SimonSapin> thatâ€™s still a completely open question
[17:37:44] <Caspy7> strcat: do you think the current jetpack model would not be acceptable?
[17:38:19] <strcat> Caspy7: I don't think that would be acceptable
[17:38:25] <Yurume> if Servo does get used for the production browser, I'd expect more Firefox code will be rewritten in Rust for the obvious reason.
[17:38:43] *** Quits: lpy|codeforces (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:38:51] <Caspy7> *nods*
[17:39:03] <strcat> servo's goal is to be a more secure browser, and the existing bar is set by chromium
[17:39:30] <strcat> which has sandboxed plugins/extensions
[17:39:34] <Caspy7> I was just talking with someone on reddit and trying to figure how how Servo fit into Firefox's future
[17:39:43] <strcat> in addition to the sandbox per site instance
[17:39:47] <SimonSapin> strcat: Is this just a vague feeling you have about Chrome, or are you thinking of specific issues in Jetpackâ€™s design?
[17:39:55] <strcat> SimonSapin: it's not a vague feeling
[17:40:23] <strcat> firefox doesn't use sandboxing, extensions are completely trusted, plugins are completely trusted, etc.
[17:40:53] <SimonSapin> strcat: Is that Jetpack, or just the "old-style" extensions?
[17:41:14] *** ahal is now known as ahal|lunch
[17:41:33] <strcat> either way there's no sandboxing
[17:43:14] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:44:46] <strcat> SimonSapin: every site instance, extension, and plugin in chromium runs in an empty chroot + process/network namespace (they see themselves as pid1 with no networking available), and then seccomp is used to whitelist only certain syscalls
[17:44:55] <strcat> they do a bad job exposing permissions in the UX for extensions
[17:45:10] <strcat> but in theory, you could have pretty fine-grained extensions permissions (they don't really) that are optional
[17:45:39] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:46:35] <strcat> they really don't do a good job taking advantage of it for extensions because it's the classic UX complexity vs. security problem
[17:46:44] <strcat> same thing iOS and android suffer from
[17:47:15] <SimonSapin> I see
[17:47:33] <SimonSapin> yes, this sounds interesting to look at, when we start thinking about extensions
[17:47:41] *** Quits: bholley (bholley@moz-1FAE1FA5.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[17:47:45] <strcat> they just show users a list of permissions (without the extension developer being able to say why) and they can either install the extension or not - which sucks
[17:48:14] <strcat> it'd be really nice if they only requested permissions as they hit APIs needing them, and would need to explain why + handle being rejected
[17:48:50] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[17:49:00] <strcat> "adblock plus wants [networking permission]: used to update subscriptions - accept/reject?"
[17:50:03] <strcat> instead chromium just says ABP needs a) access to your data on all websites and b) access to your tabs and browsing history
[17:50:16] <strcat> no explanation of why, and that's ridiculously coarse
[17:50:18] <strcat> ;p
[17:51:23] <strcat> SimonSapin: the sandboxing is why firefox addons are better, so there's two sides to the coin
[17:51:52] <strcat> for example, addons that open a text box in an external editor (like gvim) can't exist in chromium
[17:52:55] <strcat> and site instances can't do something like draw with gtk/qt/cocoa, so that's why the scrollbars/checkboxes look non-native
[17:53:00] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[17:53:46] <bstrie> I often wonder if firefox would still be around if it didn't have such a powerful (if unsafe) extensions model
[17:54:03] *** Joins: chenyang (user@moz-83728A1C.hsd1.ca.comcast.net)
[17:54:09] <strcat> well, extensions were what kept me using firefox (vimperator/pentadactyl) for a long time
[17:54:26] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:54:30] <bstrie> exactly
[17:54:36] <bstrie> I hear that sentiment everywhere
[17:54:38] <strcat> but non-jetpack exts break constantly... and the ones I used ended up being in a bad state
[17:54:44] <strcat> bstrie: well, I abandoned firefox, so...
[17:54:48] *** Joins: bholley (bholley@moz-1FAE1FA5.lightspeed.sntcca.sbcglobal.net)
[17:54:54] <strcat> I still use thunderbird
[17:55:35] *** Quits: eazg (gaze@moz-231490FC.members.linode.com) (Quit: leaving)
[17:56:36] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[17:57:17] <bstrie> I'm no expert, but I think that servo will need *some* mechanism for intrusive extensions if it wants to differentiate itself enough to see adoption
[17:57:27] <bstrie> (presuming it ever gets turned into a product of course)
[17:57:41] <strcat> bstrie: I care more about responsiveness/security/stability + working flash than I do about how much vimium sucks in comparison to the awesomeness of vimperator/pentadactyl :P
[17:57:53] <bstrie> but a chrome-style "extensions-lite" interface is obviously also sufficient a whole lot of the time
[17:59:20] <strcat> it's pretty nice being able to see exactly how much memory adblock plus uses (a ridiculous amount) and it being unable to freeze the UI or anything
[17:59:36] <strcat> atm, it's using 116K
[17:59:47] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:59:55] <bstrie> I definitely take issue with the responsiveness of firefox, basically every day
[18:00:11] <bstrie> but I've never felt that it's insecure or unstable
[18:00:34] <strcat> bstrie: chromium is very secure on linux
[18:00:38] <strcat> on windows the gap isn't as large
[18:00:49] <strcat> but it still does have (crappier) sandboxing on windows
[18:00:59] <strcat> bstrie: for example, flash
[18:01:10] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[18:01:52] <strcat> bstrie: for a flash exploit to gain control of the machine on firefox, it just has to exist
[18:02:22] <strcat> in chromium, it has to break out of the sandbox - it's close to just having the same surface area as a regular site
[18:02:28] <bstrie> eh, I click-to-play flash, and I don't even have javascript :P
[18:02:36] <bstrie> and I only use flash for youtube
[18:02:43] <bstrie> s/javascript/java
[18:02:48] <strcat> bstrie: youtube has XSS exploits all the time ;)
[18:02:50] <strcat> bstrie: libpng/libjpeg exploit then
[18:02:54] <bstrie> sometimes I wish I didn't have javascript...
[18:02:58] <strcat> exploit in the h264/vp8/vp9 decoder
[18:03:02] <strcat> exploit in the JS VM
[18:03:13] <strcat> with chromium, they also need a kernel exploit nearly all the time
[18:03:24] <bstrie> shrug. these are remote enough that I don't let them bother me personally
[18:03:37] <strcat> bstrie: there's a constant stream of these exploits though
[18:04:03] <strcat> the tor browser is based on firefox and the NSA/FBI has been using exploits in it to break the privacy it gives (per snowden leaks)
[18:04:09] <bstrie> and I'm sure someday I'll get pwned, but in the meantime I'm not losing any sleep over it :)
[18:04:20] <strcat> bstrie: you wouldn't know if you were pwned ;)
[18:04:38] <bstrie> strcat: well if I *never* know, then I guess it's totally ok to get pwned!
[18:04:49] <strcat> maybe you'd get suspicious after weird charges appeared on your credit card
[18:04:52] <bstrie> would be great to have my identity stolen but then have absolutely no ramifications for me personally
[18:05:08] <strcat> bstrie: how often do you check your credit rating? :P
[18:05:24] <bstrie> who even needs credit :P
[18:05:26] <strcat> bstrie: anyway, *shrug*
[18:05:29] <strcat> I'm paranoid ;)
[18:05:46] <bstrie> in any case, I think it's more likely that you'll get hit in a target-style attack
[18:05:46] <strcat> so each tab being in a chroot + namespaces with seccomp whitelists appeals a lot to me
[18:05:51] <jgraham> The right way to deal with plugin security specifically is to kill off plugins
[18:06:33] <strcat> jgraham: or just turn plugins into things with no more privs than a site
[18:06:34] <bstrie> obviously I care about the gubbment not mass-surveilling me, but if they *want* to target you, I doubt that your choice of browser is going to stop them
[18:06:44] <strcat> jgraham: which chromium already accomplished
[18:06:56] <jgraham> strcat: No, kill them entirely. It has many other nice side effects
[18:07:04] <jgraham> That aren't security-related
[18:07:07] <strcat> jgraham: you can't kill it entirely, existing sites use flash, etc.
[18:07:15] <strcat> you need a replacement (pepper flash, shumway)
[18:07:34] <jgraham> Well except on mobile they don't
[18:07:46] *** ahal|lunch is now known as ahal
[18:07:52] <strcat> jgraham: and lots of existing sites don't work in their mobile browsers
[18:07:53] <jgraham> So actually the death of flash is a reasonable near-term possibility
[18:08:06] <strcat> flash won't 'die', endless sites use it, they aren't being updated
[18:08:24] <strcat> you can discard the horrible adobe flash and old plugin model without losing compatibility for those
[18:08:34] <strcat> just render flash via javascript/asm.js/nacl
[18:08:53] <bstrie> as long as shumway still lets me play helicoptergame.net, I'm good
[18:08:54] <cmr> Show me a porn site that doesn't use flash for video and I'll show you the death of flash.
[18:09:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:09:01] <jgraham> But we might well reach the point where not enough people care about those sites to make it worth new browsers implementing flash support
[18:09:12] <strcat> jgraham: new browsers won't need to implement flash support
[18:09:23] *** Quits: bholley (bholley@moz-1FAE1FA5.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[18:09:46] <strcat> atm, it requires implementing pepper/nacl support (and they're open-source)
[18:09:50] <jgraham> Well video seems like the one thing that shumway will have difficulty with
[18:09:53] <strcat> in the future, maybe shumway will mostly work and you can use that
[18:10:10] <jgraham> and the flash plugin uses "150%" of the pepper api
[18:10:22] <jgraham> and pepper isn't open in any useful sense
[18:10:33] <strcat> jgraham: asm.js isn't open in any useful sense, then
[18:10:52] <strcat> it's a proprietary mozilla technology no other browsers implement
[18:10:58] <strcat> opera and chrome/chromium have pepper flash
[18:11:07] <jgraham> strcat: asm.js is open in the useful sense that there's a spec and backwards compatible with regular javascript
[18:11:18] <strcat> jgraham: it's not backwards compatible
[18:11:33] <strcat> jgraham: if you need asm.js for perf, non-asm.js is not backwards compatible
[18:12:05] <strcat> a game running at 2fps is not useful, and if you don't need asm.js for perf - why is it in asm.js?
[18:12:07] <jgraham> Chrome engineers pointing out that plenty of asm.js runs with perfectly good enough perf in chrome would presumably disagree
[18:12:43] <strcat> jgraham: so then why special-case it with more code surface area?
[18:13:10] <jgraham> Because we think that's a useful way to get even better perf in spidermonkey
[18:13:14] <strcat> asm.js lacks an equivalent to pepper so... it's comparable to pnacl, which also has a spec
[18:14:06] <strcat> jgraham: https://bugzilla.mozilla.org/show_bug.cgi?id=933001 stuff like that throws out the backwards compatible argument anyway
[18:14:21] <jgraham> Anyway I don't know what point you're making
[18:14:36] <jgraham> I doubt shumway will ever support DRMed vido
[18:14:37] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Ping timeout)
[18:14:58] <jgraham> So if your argument is "we will always need flash for video" then shumway isn't an answer
[18:15:14] <strcat> no my argument is that we will need flash for more than just video
[18:15:15] <jgraham> And pepper isn't an answer because it is so closely tied to Chrome
[18:15:18] <strcat> lots and lots of sites use it
[18:15:24] <strcat> jgraham: pepper works for me
[18:15:50] <strcat> adobe dropped linux flash support so firefox became a non-option for that reason alone
[18:15:57] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[18:16:22] <strcat> ubuntu is planning to switch to chromium too
[18:16:26] <jgraham> strcat: Sure it works as long as you don't care about firefox or servo or safari or anything that isn't blink-based
[18:16:45] <strcat> jgraham: what makes you think apple won't implement it? ;)
[18:16:50] <strcat> they're already pulling LLVM into their browser
[18:17:33] <bstrie> strcat: what makes you think microsoft will implement it?
[18:17:39] <jgraham> Well I suppose it's *possible* that Apple will decide it's in their best interests to implement a Google-controlled technology that they are trying to kill on mobile
[18:17:52] <jgraham> But I wouldn't bet my house on it
[18:17:57] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:18:10] <strcat> bstrie: microsoft has their own flash already
[18:18:11] <jgraham> Not even if it was a little plastic house from out of a kinder egg
[18:18:20] <strcat> bstrie: it's part of IE
[18:18:44] <strcat> don't know how much they sandboxed it or anything, it's a big blob ;p
[18:18:46] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[18:19:03] * strcat would guess not very well
[18:19:43] <strcat> jgraham: not much different than anything else in browsers though
[18:19:54] <strcat> some browser implements a proprietary technology, other browsers adopt it
[18:20:02] <strcat> google already won with http 2.0
[18:20:13] <strcat> I wouldn't underestimate their ability to push this stuff
[18:20:19] <jgraham> strcat: Very different
[18:20:32] <strcat> they implemented a proprietary protocol on their servers and in chromium/chrome
[18:20:38] <jgraham> But I think I should do something more useful than this
[18:20:42] <strcat> other servers/browsers adopted it
[18:20:48] <strcat> then it became a proposal for the standard, much later
[18:21:19] <strcat> it would have been a better standard if more players had been involved from the start, but they just assumed it was a google technology and didn't matter
[18:21:29] <strcat> I expect pnacl will be exactly the same
[18:21:43] <bstrie> strcat: you make it sound like browsers choose to adopt proprietary components of their volition, rather than having their arm twisted by sites that choose to function only with those proprietary components
[18:21:52] <strcat> bstrie: not really
[18:21:59] <strcat> canvas was a proprietary apple technology
[18:22:07] <strcat> javascript was a proprietary netscape technology
[18:22:12] <strcat> I mean... I guess you can say they were forced
[18:22:23] <strcat> but they were adopted because they were better than nothing
[18:22:32] <strcat> if you don't like it, you need to offer a better alternative
[18:22:32] <bstrie> right, IE wrote jscript just because they thought javascript was such a good idea :P
[18:22:48] *** Quits: chenyang (user@moz-83728A1C.hsd1.ca.comcast.net) (Ping timeout)
[18:22:49] <strcat> bstrie: they did visual basic first, and js won because it was better
[18:23:31] <bstrie> I think it's a bit naive to say that things win because they're better
[18:24:06] <strcat> bstrie: in this case, I think that's why
[18:24:43] <strcat> bstrie: spdy won because it had no competition though
[18:24:46] <strcat> no one offered an alternative
[18:24:59] <strcat> microsoft came along too late in the game with a half-assed alternative ;p
[18:25:08] <strcat> and it was a paper-only alternative
[18:25:11] <strcat> no implementation
[18:25:16] <bstrie> spdy won? I have this little spdy indicator plugin on my address bar, and I can't say I see it active very often at all
[18:25:32] <strcat> bstrie: http 2.0 is spdy
[18:25:41] <strcat> bstrie: it won the war already, it will get adopted over time
[18:26:13] <strcat> they made a few token changes as part of standardization, they'll make a few more
[18:26:18] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[18:26:21] <strcat> bstrie: https://en.wikipedia.org/wiki/HTTP_2.0
[18:26:24] <bstrie> then you've demonstrated the real reason things get adopted: first-mover advantage + human capacity for apathy and laziness :)
[18:26:34] <strcat> bstrie: in some cases, yes
[18:28:58] <strcat> bstrie: there are often different technologies in competition, and the one with the better implementation + marketing wins :)
[18:29:13] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[18:29:35] <strcat> I'd like to think that for technologies targeted at programmers, it's more skewed to the quality and less to the marketing than consumer-facing stuff
[18:30:12] <bstrie> I'd like to think that too, but in reality there are sub-audiences to whom these things matter more and less :)
[18:30:31] <bstrie> go tell me that the server-side web developer crowd isn't largely fad-driven
[18:30:41] <strcat> imo mozilla is making the same mistake they made with h.264
[18:31:09] <strcat> they said they wouldn't implement it, they lost marketshare to chrome, and then they implemented it - alienating the users who viewed it as a good thing to not implement it
[18:31:12] <bstrie> conversely, I doubt any 30-year embedded C veteran is ever going to be willing to change tools, for any reason
[18:31:34] <strcat> firefox is going to lose almost all the linux marketshare
[18:31:40] <strcat> maybe that doesn't matter, but I think it does
[18:31:40] <bstrie> nah
[18:31:59] <strcat> bstrie: ubuntu and other major distros are planning to drop it
[18:32:06] <strcat> users care about having a working flash, working hw accel, etc.
[18:32:16] <strcat> (drop it as a default*, if that wasn't clear)
[18:32:37] <bstrie> AFAICT the biggest asset to linux users wrt firefox is that it isn't controlled by google :P
[18:33:44] <strcat> bstrie: if they're using ubuntu, they don't care
[18:33:51] <strcat> google is a nicer corporation than canonical...
[18:34:09] <SimonSapin> lulz
[18:34:14] * strcat shrugs
[18:34:44] <strcat> bstrie: anyway afaik, most linux users do use flash
[18:35:07] <bstrie> I use linux and firefox. never had a problem with flash
[18:35:18] <strcat> bstrie: you've *never* had a problem with flash?
[18:35:20] <bstrie> never
[18:35:24] <strcat> heh
[18:35:25] <bstrie> what are you doing with flash?
[18:35:29] <bstrie> I go on youtube
[18:35:33] <bstrie> watch cat videos
[18:35:39] <bstrie> read MSPA
[18:35:47] <bstrie> play newgrounds games once in a while
[18:36:12] <strcat> it tears, it drains the battery, it grabs the keyboard input and won't let go, it has endless crashes and security holes
[18:36:30] <bstrie> granted, flash *crashes* every week or so, but I can live with that :P
[18:37:00] <bstrie> the only "problem" would be if a site that I desperately needed to access required flash and it just didn't work for want of a newer version
[18:37:10] <bstrie> and that's what I have windows and IE for :)
[18:37:35] <strcat> chromium's flash is stable, has sane hw accel without tearing, doesn't drain the battery as much and doesn't expose a huge security hole
[18:37:46] <strcat> it's also integrated with the browser's privacy controls
[18:38:26] <strcat> for me, that's pretty compelling considering that I'm paranoid and lots of sites I visit (like youtube and github) use flash
[18:38:38] <strcat> (yes, github seriously uses flash)
[18:38:39] <bstrie> yeah I've never enabled flash on github
[18:38:50] <bstrie> are they just using it for analytics?
[18:38:52] <strcat> bstrie: no
[18:39:01] <strcat> bstrie: one thing they use it for is the to-clipboard buttons
[18:39:22] <strcat> although I think there's a js clipboard API in progress
[18:39:38] <kmc> i just joined, but this discussion seems pretty far removed from servo development
[18:39:43] <bstrie> amusing that they expect you to be able to use git, and yet don't trust you you ^A^C
[18:39:44] <kmc> maybe it can move somewhere else?
[18:39:56] <bstrie> kmc: indeed, I was waiting for pcwalton to be around :P
[18:39:57] <strcat> kmc: well, before we were talking about extensions/plugins in servo
[18:40:10] <strcat> it went pretty far off on a tangent
[18:40:15] <kmc> indeed
[18:42:06] <strcat> bstrie: imo security is the most compelling thing servo could bring to the table though
[18:42:08] <kmc> it'll be a long time before we actually support extensions/plugins in Servo, so do you think there's an aspect of the problem that should inform our design decisions today?
[18:42:46] <strcat> kmc: well it plays into the multi-processing design
[18:42:57] <strcat> that was the original topic before it got pretty far derailed ;)
[18:43:04] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[18:43:04] *** ChanServ sets mode: +o jdm
[18:43:41] <bstrie> strcat: don't get me wrong, I'm a fan. +1 for security. it's just that end-users typically have no clue about that sort of thing, or even how to evaluate it
[18:44:26] <kmc> I agree that some Flash solution is needed for video.  YouTube might embrace HTML5 video but there is a long tail of video sites that won't care as long as their users (overwhelmingly on Windows) don't complain
[18:44:32] <bstrie> if servo can help stymie the gubment dragnet efforts, then great. that's making the world a better place. but you need to convince (trick) people into actually using it first
[18:44:37] <kmc> I would love for Shumway to be that Flash solution, though :)
[18:44:55] <strcat> kmc: well I'm happy with either shumway or pepper flash
[18:45:00] <strcat> but shumway doesn't work yet ;)
[18:45:21] <bstrie> shumway is one of those super ambitious projects that I'm happy to see mozilla is audacious enough to attempt :P
[18:45:24] <kmc> if Servo wants to support Pepper then that is something we should be thinking about now, but it seems highly unlikely that we should do that
[18:45:39] <Manishearth> <3 shumway
[18:46:02] <Manishearth> kmc: Shumway would be plug n play right?
[18:46:04] <strcat> bstrie: imo it's not incredibly audacious - javascript is a capable programming language with most of the APIs available
[18:46:13] <strcat> it's just a lot of work
[18:46:30] <bstrie> yes, that's mostly what I mean. but we're getting off-topic again :)
[18:46:38] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[18:46:44] <Manishearth> strcat: obligatory: reddit.com/r/atwoodslaw
[18:47:22] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Ping timeout)
[18:48:03] *** Quits: Debloper (debloper@4A8599B4.715C7B1F.5D9ABA9F.IP) (Quit: Leaving.)
[18:48:19] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[18:49:30] <kmc> right, implementing Flash is an audacious undertaking no matter what language or platform APIs you use
[18:50:00] <strcat> kmc: *shrug*, google just used the bribery approach ;P
[18:50:33] <strcat> if we pretend adobe flash was open-source, emscriptem would give an enormous head start
[18:50:40] <strcat> and that's essentially what google did
[18:52:51] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:52:59] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:55:31] * kmc thinks about how to exploit buffer overflows and heap corruption within Emscripten-compiled code
[18:55:31] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[18:55:51] <kmc> it's kind of hilarious that they still exist
[18:56:04] <kmc> but the normal sandboxing of JS code should help a lot
[18:57:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:58:04] <eddyb> https://github.com/alexcrichton/rust-compress/blob/master/zlib.rs
[18:58:20] <strcat> kmc: well, isn't the code that's running essentially already trusted by that page?
[18:58:29] <eddyb> this is interesting, but it uses a stream instead of a state machine
[18:58:34] <strcat> kmc: I mean JS can certainly do evil stuff on your behalf
[18:59:28] <strcat> I guess you mean something like an XSS vulnerability
[18:59:34] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[18:59:43] *** Joins: bhenry (bhenry@moz-B504BF3D.shaklee.com)
[18:59:44] <strcat> where you can't run code but you can perhaps exploit some code
[19:00:02] <strcat> I think the fact that JS isn't statically typed will expose a lot more of that kind of vulnerability ;)
[19:00:03] <kmc> one scenario is that a Flash applet loads untrusted cross-origin content which exploits the Flash implementation and thereby gets XSS-like powers in the hosting page
[19:00:08] <kmc> right
[19:00:34] <strcat> kmc: CSRF attacks are what scare me
[19:00:47] <kmc> another question is whether a hypothetical emscriptenized flash plugin would need privileges beyond ordinary JS code to do the things that Flash needs to do (but those are increasingly covered by standard Web APIs)
[19:00:52] <strcat> but they don't scare me enough to motivate me to use something like RequestPolicy
[19:00:57] <strcat> too lazy
[19:01:06] <strcat> security you can get without doing anything is the nice kind ;p
[19:01:28] <kmc> yeah I think Flash can do network things not allowed by XHR & friends, for one
[19:01:38] <kmc> including non-HTTP TCP sockets?
[19:02:21] <strcat> kmc: aren't websockets essentially that?
[19:02:44] <strcat> although they have their own protocol so you'd need to talk to a websocket service
[19:02:56] <strcat> kmc: but yeah flash has tcp
[19:03:24] <strcat> there are websocket shims for old browsers using it ;p
[19:04:22] *** Quits: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP) (Ping timeout)
[19:04:31] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:04:31] *** ChanServ sets mode: +o pcwalton
[19:05:54] <strcat> I guess servo has to implement all of that stuff
[19:06:50] *** Quits: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP) (Ping timeout)
[19:09:21] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[19:10:45] <kmc> iirc, websockets have a specific layer-7 protocol that looks a bit like HTTP and starts with a protocol upgrade from HTTP, in order to be compatible with the firewalled Internet :/
[19:11:10] <kmc> they also apply a random xor mask to the payload to prevent sites from exploiting poorly-written HTTP proxies: http://stackoverflow.com/questions/14174184/what-is-a-mask-in-a-tcp-frame-websockets
[19:11:53] <strcat> kmc: meh, they should have just made it tls-only
[19:12:01] <strcat> no need for proxy hacks that way
[19:12:52] <Manishearth> kmc: Yes, there's something called an HTTP CONNECT request
[19:13:04] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[19:13:16] <pcwalton> there is no way we can sandbox plugins I believe
[19:13:19] <Manishearth> which gets "upgraded" using a 101 switching protocols
[19:13:21] <pcwalton> reading back scroll
[19:13:39] <pcwalton> chromium did it by rewriting Flash to use their proprietary Pepper API
[19:13:56] <Manishearth> pcwalton: What if we use Shumway?
[19:13:59] <pcwalton> the only realistic solution is to not have plugins, which is more secure anyway
[19:14:02] <Manishearth> No need to sandboz
[19:14:04] <pcwalton> that's what I'm saying
[19:14:07] <Manishearth> *box
[19:14:08] <Manishearth> ah
[19:14:08] <kmc> strcat: they should have made the whole web TLS-only but here we are :/
[19:14:10] <strcat> pcwalton: was mostly talking about extensions
[19:14:15] <Manishearth> So, step 1: fix shumway.
[19:14:16] <strcat> pcwalton: which can be sandboxed (like chromium does)
[19:14:29] <pcwalton> sure, that's fine
[19:14:39] <bstrie> pcwalton: I just came in here to say that I really liked that parallel layout blog post :P
[19:14:43] <strcat> kmc: well http 2.0 is TLS only ;)
[19:14:57] <strcat> kmc: at least if they haven't gone back on that yet...
[19:14:59] <pcwalton> I don't really like the Pepper solution anyway -- it's so complex that it invites security problems
[19:15:13] <pcwalton> this is not a theoretical concern, one of the Pwnium vulns was in Pepper
[19:15:53] <Manishearth> yeah
[19:15:59] <Manishearth> Most vulns are in pdf and all
[19:16:01] <pcwalton> Shumway seems to me to be a better approachâ€¦ if you're going to rewrite Flash you might as well integrate it better into the rendering pipeline
[19:16:20] <pcwalton> and Pepper-ifying Flash involved a lot of rewriting from what I here
[19:16:21] <pcwalton> hear*
[19:16:35] <kmc> well Shumway has its own rendering pipeline that outputs to the browser's
[19:16:40] <kmc> but yeah
[19:16:43] <pcwalton> that's true
[19:16:57] <pcwalton> we should probably start thinking early about how to optimize for Shumway though
[19:16:59] <pcwalton> I want good perf for it
[19:17:44] <pcwalton> bstrie: thanks, I hope it was understandable
[19:17:47] <pcwalton> layout is very complex
[19:17:55] <cmr> The blog post?
[19:18:01] <cmr> Was very nice, I enjoyed it a lot.
[19:18:04] <pcwalton> yeah
[19:18:20] <strcat> pcwalton: their sandbox does work very well though on linux (like with chromeos)
[19:18:29] <strcat> chromium vulnerabilities aren't rare, and the sandbox is broken all the time on windows
[19:19:28] <pcwalton> sure, but my point is why have two parallel sets of APIs for accessing the browser rendering stack, one for Web content to use and one for plugins to use (Web APIs and Pepper respectively) when you could just have one
[19:19:54] <pcwalton> it just reduces surface area
[19:20:43] <strcat> it's not like they have a separate stack for pepper though, it's just the existing internal APIs used for the web content exposed
[19:21:16] <pcwalton> with the IPC layer and such
[19:21:21] <pcwalton> which pwnium exploited
[19:21:36] <pcwalton> why expose those internal APIs?
[19:21:51] <pcwalton> again, it's an increase in surface area
[19:22:38] <strcat> pcwalton: *shrug*, why expose any of the web APIs? :P
[19:22:55] <pcwalton> well, because they're useful for content
[19:23:04] <pcwalton> I just think that APIs should be as simple as possible to make them easier to audit
[19:23:17] <pcwalton> that includes not duplicating functionality
[19:23:57] <strcat> pcwalton: well I agree that shumway/pdf.js are better from a security PoV (if you already trust the js/web stack)
[19:24:12] <pcwalton> that's all I'm saying. I agree that chrome's sandbox is very strong
[19:24:14] <strcat> they have a long way to go to work as well as the chrome plugins
[19:24:18] <pcwalton> and we should totally steal it
[19:24:39] <strcat> strong on linux ;), not very on windows
[19:24:45] <strcat> on windows the whole kernel is still exposed
[19:25:12] <strcat> the integrity level stuff with the security tokens has to be trusted
[19:25:26] <pcwalton> at some point if I get time I would like to holistically look at what is needed to make shumway/pdf.js fast
[19:25:32] <pcwalton> although it may well be that Flash dies before then
[19:25:39] <pcwalton> and it becomes irrelevant
[19:25:46] <strcat> the old content won't stop existing
[19:25:50] <pcwalton> I mean, the Flash Player isn't that fast either
[19:25:54] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:25:55] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[19:25:58] <pcwalton> and more to the point
[19:26:02] <pcwalton> the Flash Player is *unmaintained*
[19:26:04] <pcwalton> except by Google
[19:26:07] <pcwalton> and just minimally
[19:26:22] <strcat> pcwalton: afaik they still maintain it on non-linux
[19:26:25] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:26:28] <strcat> they just dropped android + linux
[19:26:28] <pcwalton> we have no choice here anyway
[19:26:39] <pcwalton> we can't use NPAPI and we can't use Pepper
[19:27:01] <pcwalton> and we don't have the source unlike Google even if we wanted to make some sort of Sepper
[19:27:16] <strcat> (microsoft has the source too)
[19:27:30] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:27:51] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:28:10] <pcwalton> AFAIK shumway and pdf.js aren't far from parity anyway, it's mostly performance
[19:28:29] <strcat> pcwalton: I think shumway is really, really far from parity
[19:28:32] <strcat> and pdf.js still has a way to go
[19:28:48] <cmr> pdf.js is the only pdf viewer I use anymore
[19:28:56] <strcat> cmr: but it's so slow ;s
[19:29:04] <cmr> doesn't have forms etc but it's good enough for reading specs, which is 90% of what I do
[19:29:15] * strcat shrugs
[19:29:20] <pcwalton> we can fix that in Servo, there is no fundamental reason why pdf.js needs to be slow
[19:29:22] <strcat> it locks up firefox for seconds at a time
[19:29:37] <yury> cmr++
[19:29:59] <cmr> it's not without its problems, I agree...
[19:30:03] <pcwalton> pdf.js and things like poppler work the same way
[19:30:36] <strcat> pcwalton: poppler is not very great either ;P, but it renders really fast in comparison + supports forms/text much better
[19:30:42] <yury> strcat: did you try to find out why it locks for you?
[19:30:42] <pcwalton> I don't see that the difference between JS speed and C++ speed to be relevant
[19:30:43] <pcwalton> there is no fundamental reason why pdf.js needs to be slow, we just need to have a stack designed to make things like pdf.js fast
[19:30:56] <pcwalton> it won't require man years of work
[19:31:10] <strcat> yury: well, it loops for too long
[19:31:17] * strcat shrugs
[19:31:21] <pcwalton> e.g. rendering on a worker
[19:31:30] <pcwalton> that would make a *big* difference and is not hard to implement in Servo
[19:31:48] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:31:50] <strcat> yury: in a mature servo I wouldn't expect pdf.js to slow down the UI at least
[19:32:05] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:32:28] <yury> strcat: I don't have a problem you are mentioning here
[19:32:44] <strcat> yury: you're not looking at big pdfs with a lot of text fiddling + images then
[19:32:59] <cmr> I had it on my netbook, esp. with intel manuals.
[19:33:04] <strcat> even on small ones, it's much less responsive than poppler-based ones though
[19:33:32] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:33:49] <strcat> I haven't tried pdf.js in another browser though
[19:33:56] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:34:01] * jdm wonders what he should work on today
[19:34:20] <jdm> maybe I should read about bidi layout or something
[19:34:24] <jdm> pull my weight around here
[19:34:48] <pcwalton> jdm: I'd be interested to know what the blockers are for fixing the GC hazards
[19:34:53] <pcwalton> e.g. the root!() macro
[19:35:04] <jdm> good point
[19:35:09] <pcwalton> bidi would be nice though :)
[19:35:31] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:35:38] <pcwalton> amusingly, I talked to Eridius yesterday at the meet up -- he worked on WebKit pagination -- and he said "work on bidi, vertical-align, and pagination"
[19:35:43] <pcwalton> echoing roc :)
[19:35:46] <jdm> heh
[19:35:49] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:36:58] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Ping timeout)
[19:37:08] <yury> strcat: here a telemetry report most of pdf show first page with in 1.5 - 1.7 sec which includes download
[19:38:07] <strcat> yury: in poppler and the chrome pdf viewer I can't see pages load (ignoring the download)
[19:38:27] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:38:28] <strcat> in pdf.js it feels like it takes a second to fully render, even when scrolling back to previously viewed pages
[19:38:39] * strcat shrugs
[19:38:50] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:39:11] <yury> you shrug a lot, I see :)
[19:40:34] <strcat> I'd have to try pdf.js in chromium to know how much I can blame on firefox
[19:40:47] <pcwalton> yury: do you know what % of time in pdf.js is in JS vs. in rendering?
[19:41:16] <yury> it's possible to enable stats
[19:41:43] <yury> in about:config add boolean pdfjs.pdfBugEnabled = true
[19:42:37] <yury> and then #pdfBug=Stats
[19:42:42] <strcat> yury: definitely a *lot* faster for me in chromium
[19:42:48] <strcat> yury: which OS are you on btw?
[19:42:59] <yury> fonts suck in chromium for windows and liux
[19:43:11] <strcat> not for me
[19:43:23] <strcat> but arch does a custom chromium build, so I dunno what they look like in chrome
[19:44:08] <yury> strcat: so it's graphics backend that locks you
[19:44:20] <strcat> yury: yeah, I guess so.
[19:45:07] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:45:08] <yury> pcwalton: so if pdfBug enabled, http://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf#pdfBug=Stats will show you stats
[19:45:14] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:45:22] *** Quits: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[19:45:26] <strcat> it's still noticeably slower than poppler and the pepper one but it's a lot better
[19:46:07] <strcat> poppler seems slower than the pepper plugin ;\
[19:46:25] * strcat likes zathura
[19:46:54] <mccr8> yury: FYI, I saw somebody complaining on Twitter today about search not scrolling to text.  I don't know if there's a bug on file for that or what. https://twitter.com/chadaustin/status/438710740535345152
[19:48:16] *** Quits: dranov (dranov@5F9B6AD9.82C4B75C.FB866788.IP) (Ping timeout)
[19:48:31] <jdm> I'm going to request that we take further discussion of pdf.js to #pdf.js
[19:48:43] <pcwalton> jdm++
[19:48:51] <yury> jdm: yes, sir :)
[19:49:09] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Quit: Leaving)
[19:49:37] <pcwalton> the part that is relevant for servo is that even if we decided that reimplementing our plugins in JS was a dead end, I think asm.js-ifying a pile of C code and using the Web APIs is a better approach than implementing Pepper and using a native sandbox
[19:51:03] <strcat> or lightspark ;s
[19:51:54] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:51:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:52:12] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:54:10] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:54:38] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:54:46] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[19:55:13] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:55:59] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[19:56:34] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[19:58:31] <pcwalton> ok, FloatContext is driving me crazy
[19:58:33] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[19:58:33] * pcwalton rewrites it
[19:59:29] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[19:59:33] <kmc> pcwalton: reminds me of Blink using NaCl for XSLT
[19:59:44] <pcwalton> it's a good idea, except that NaCl is still Pepper
[19:59:48] <kmc> but doing it the Mozilla way instead :)
[19:59:50] <kmc> right
[19:59:59] <pcwalton> (btw, the Web APIs thing is also favored by Apple)
[20:00:01] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[20:00:18] <pcwalton> so it's the Mozilla-Apple way if anything
[20:00:34] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[20:00:49] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[20:00:58] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[20:01:23] <strcat> pcwalton: apple does a good job making web stuff second-class on iOS though ;s
[20:02:06] <pcwalton> creating a parallel set of proprietary Chrome-specific APIs and exposing them to content is also a good way of making Web stuff second-class
[20:02:45] *** Quits: sankha93|bot (uid12218@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[20:02:55] <strcat> web apps and pepper apps aren't distinguished on chromeos though
[20:03:15] <strcat> and they don't do something like forbidding the JS JIT in non-browser apps
[20:03:24] <strcat> non-safari*
[20:03:26] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[20:03:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:03:30] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[20:03:52] <Ms2ger> I think we've all had enough pepper now
[20:03:52] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[20:04:51] <Ms2ger> sawrubh, did you get your answer?
[20:05:20] <jdm> I chatted with sawrubh
[20:06:04] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Connection reset by peer)
[20:06:24] <Ms2ger> Excellent
[20:06:32] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[20:06:32] <Ms2ger> Any news about rooting?
[20:06:43] <jdm> nein
[20:07:54] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:10:53] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[20:10:53] <ghservo> [13servo] 15jdm opened issue #1764: Implement GC rooting for DOM objects 02http://git.io/HTjNrg
[20:10:53] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[20:12:08] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[20:14:49] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Ping timeout)
[20:16:41] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[20:16:42] *** ChanServ sets mode: +qo dherman dherman
[20:17:15] <jdm> pcwalton: when you talked about making JS<T> noncopyable, does that mean that clone would not work any more?
[20:17:22] <jdm> that's a pretty big change
[20:17:27] * pcwalton thinks
[20:18:07] <pcwalton> I think it's fine for clone() to work, but it'd be a special kind of clone() that roots the thingy you cloned and pins it to the stack
[20:18:31] * pcwalton pages this back into his breain
[20:18:32] <pcwalton> brain
[20:18:50] <jdm> pcwalton: I dumped the log of the last conversation in that issue if that helps
[20:18:56] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:19:21] <pcwalton> yeah, so I think instead of .clone() it would be jsclone!()
[20:19:22] <pcwalton> or something
[20:20:02] <jdm> the bits about storing copies of other JS instances makes me worried
[20:20:04] <pcwalton> or maybe just call that macro root!()
[20:23:02] <jdm> pcwalton: do you think jsclone! would let us do things like |some_node.get_mut().next_sibling = Some(...some jsclone!'d value)| ?
[20:23:02] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[20:23:23] <pcwalton> I think so, if handled properly.
[20:23:53] <pcwalton> the jsclone!()'d value would be temporarily rooted to the stack, but then it would be moved away and un-rooted
[20:23:55] <pcwalton> well, hmm
[20:24:15] <pcwalton> I guess there were rooting hazards with moving values that are rooted
[20:24:24] <pcwalton> maybe jsclone!() needs to be separate from root!()
[20:24:50] <pcwalton> root!() is for your stack, jsclone!() is for putting JS values inside other JS values
[20:25:23] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[20:25:23] *** ChanServ sets mode: +o brson
[20:25:51] <jdm> pcwalton: so clone is used in many places for passing arguments right now; which one is appropriate there?
[20:25:52] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[20:26:25] <pcwalton> passing arguments to another Rust function probably uses root!()
[20:26:37] <pcwalton> because passing arguments is the stack
[20:26:42] <pcwalton> jsclone! is for the heap
[20:26:53] <pcwalton> maybe jsroot! and jsclone! for consistency?
[20:27:59] <jdm> pcwalton: so if we're not allowed to use .clone(), is there some way to make that a build error?
[20:28:05] <pcwalton> just don't implement it
[20:28:12] <jdm> ah, right
[20:28:21] <Ms2ger> jdm, members on the heap shouldn't use stack rooting, right
[20:28:23] <strcat> what about moves?
[20:28:31] <pcwalton> we use a macro to lock it to the stack
[20:28:35] <pcwalton> using hygiene
[20:28:39] <pcwalton> take out a borrow
[20:28:49] <strcat> ah, neat
[20:30:57] <pcwalton> brb, lunch
[20:32:29] <jdm> does this address returning JS<T> from a function?
[20:32:29] *** Quits: jackneill (jackneill@moz-5A5F7142.pool.digikabel.hu) (Ping timeout)
[20:32:44] <strcat> seems like you could do a macro for that too
[20:33:06] <jdm> I guess callers would use root!(x = something_returning_js())
[20:33:15] <Ms2ger> Yes
[20:33:43] <Ms2ger> In fact, SM returns raw T there
[20:33:54] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:34:01] *** Joins: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl)
[20:34:34] <jdm> I bet we could make this properly root in current SM
[20:34:36] <Manishearth> Ms2ger: Regarding the test I had to comment out:
[20:34:48] <Manishearth> Should we rewrite that test so that it will work with the new types?
[20:34:51] <jdm> just have another let decl in the macro that stores the JS pointer
[20:34:59] <Manishearth> (I left a comment on the pull req)
[20:35:01] <jdm> then it's on the stack and the conservative scanner will see it
[20:35:26] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[20:35:53] <Manishearth> https://github.com/mozilla/servo/pull/1756#issuecomment-36136090
[20:36:00] <Ms2ger> is(obj[obj.length], null);
[20:36:06] <jdm> I'm curious how bad the error messages for this will look when you try to do something disallowed
[20:36:07] <Ms2ger> Did someone use == for is?
[20:36:13] <Manishearth> Ms2ger: not that bit, it's the is_a check
[20:36:25] <Ms2ger> Sorry, unrelated comment
[20:36:32] <Manishearth> oh ah
[20:36:45] <Ms2ger> Just remove the bit you commented out
[20:37:57] <Manishearth> Ms2ger: Sure, but we lose out on one test.
[20:38:07] <Ms2ger> jdm, so are we going to use JS<> for heap and stack pointers both?
[20:38:09] <Manishearth> That test tests multiple bits, one of which is failing
[20:38:14] <Ms2ger> Manishearth, I can live with that
[20:38:37] <jdm> Ms2ger: I think that's the idea, since we have trace hooks that should handle the heap ones correctly at all times
[20:38:44] <Manishearth> Ms2ger: Alright then :)
[20:38:48] <Manishearth> Just wanted to be sure
[20:38:55] <Ms2ger> Thanks :)
[20:39:31] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Ping timeout)
[20:43:51] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[20:43:51] *** ChanServ sets mode: +qo dherman dherman
[20:44:34] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[20:44:34] <ghservo> [13servo] 15jdm opened issue #1765: Make WorkQueue usage less type-unsafe 02http://git.io/qkJU9A
[20:44:34] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[20:45:37] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:46:36] <kmc> is Servo's DOM the first truly garbage-collected program in Rust? :)
[20:48:06] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:49:42] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[20:49:42] <ghservo> [13servo] 15bors-servo pushed 7 new commits to 06auto: 02http://git.io/FrG1Tg
[20:49:42] <ghservo> 13servo/06auto 1433792db 15Ms2ger: Move ID management on binding to and unbinding from tree into Element.
[20:49:42] <ghservo> 13servo/06auto 1458b3178 15Ms2ger: Cleanup Element::set_attribute.
[20:49:43] <ghservo> 13servo/06auto 14fdd17b4 15Ms2ger: Pass a non-Option DOMString to after_remove_attr.
[20:49:45] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[20:49:46] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[20:51:42] <Manishearth> Ms2ger: I pushed the changes. It seems to be compiling without issues (yet).
[20:52:43] <Ms2ger> jdm, I'll see if I can rebase your vtable branch over that tomorrow
[20:52:50] <jdm> Ms2ger: thanks!
[20:53:51] <Ms2ger> jdm, also, has the pseudo element stuff that messed with Nodes landed?
[20:54:01] <jdm> Ms2ger: nope.
[20:54:10] <jdm> I left 60-something review comments.
[20:54:15] <Ms2ger> Lovely
[20:54:57] <Ms2ger> Manishearth, about to go to bed, I'll look in the morning
[20:55:30] <Ms2ger> jdm, oh, and are you looking at me for the script-de-@mut review?
[20:55:51] <jdm> Ms2ger: probably not. I expect one of jack/larserg/kmc for that.
[20:55:58] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:56:00] <Ms2ger> Good :)
[20:56:00] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[20:56:49] <kmc> jdm: isn't #1765 the same as #1732?
[20:56:50] <crowbot> Issue #1765: Make WorkQueue usage less type-unsafe - https://github.com/mozilla/servo/issues/1765
[20:56:59] <jdm> crowbot: #1732?
[20:57:00] <crowbot> Issue #1732: Consider making parallel work queues store enum of node/flow instead of transmuting - https://github.com/mozilla/servo/issues/1732
[20:57:04] <jdm> oh, yeah
[20:57:15] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[20:57:16] <ghservo> [13servo] 15jdm closed issue #1765: Make WorkQueue usage less type-unsafe 02http://git.io/qkJU9A
[20:57:16] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[20:58:07] <jack> jdm: i think i can review that this afternoon.
[20:58:20] <jdm> rad
[20:59:18] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[21:00:54] * jdm returns to reading http://www.w3.org/TR/CSS21/visuren.html#direction
[21:01:10] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:01:16] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:01:16] *** ChanServ sets mode: +o brson
[21:01:51] <Ms2ger> jdm, condolences
[21:04:17] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[21:09:24] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[21:14:46] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:14:49] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Quit: )
[21:15:57] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:15:57] *** ChanServ sets mode: +o pcwalton
[21:19:40] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[21:19:40] <ghservo> [13servo] 15bors-servo closed pull request #1760: Cleanup ID management (06master...06idmap-improvements) 02http://git.io/7f88Kg
[21:19:40] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[21:19:42] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[21:19:42] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/FrG1Tg
[21:19:42] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[21:23:15] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:26:27] *** Quits: bhenry (bhenry@moz-B504BF3D.shaklee.com) (Quit: bhenry)
[21:32:45] *** Joins: bhenry (bhenry@moz-B504BF3D.shaklee.com)
[21:47:13] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[21:50:28] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[21:51:53] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[21:52:10] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[21:55:40] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Client exited)
[22:01:57] *** Joins: chenyang (user@moz-451CCEAC.airbears2.berkeley.edu)
[22:05:33] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[22:05:54] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[22:09:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:10:42] *** bhearsum is now known as bhearsum|afk
[22:11:50] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:11:53] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[22:13:29] *** Joins: doomlord__ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[22:13:31] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[22:13:40] *** Quits: doomlord__ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Client exited)
[22:14:06] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[22:14:27] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[22:14:51] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:15:49] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[22:22:57] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[22:23:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:24:49] *** Joins: hoverbear (hoverbear@moz-88074483.wireless.uvic.ca)
[22:26:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:27:16] *** Joins: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP)
[22:27:16] <ghservo> [13servo] 15kmcallister opened issue #1766: Some reftests hang with parallel layout 02http://git.io/SpnpTA
[22:27:16] *** Parts: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP) ()
[22:28:15] <kmc> ^ can somebody on Linux with a new enough system-wide fontconfig confirm this?
[22:29:01] * kmc tests on mac
[22:30:13] * kmc reads larsberg's comment also
[22:30:43] <SimonSapin> I can test
[22:31:19] <larsberg> kmc: I'm trying to track down my old comment - I seem to remember something similar to that happening when the parallel layout changes were first being landed and tracking it down to what I mentioned in the comment, but I don't remember if it got fixed or "went away"
[22:31:23] <SimonSapin> Running fontconfig 2.11.0-1
[22:31:32] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Client exited)
[22:31:44] <kmc> okay
[22:33:38] *** Joins: dzbarsky (Adium@moz-ACFC0912.wireless-pennnet.upenn.edu)
[22:34:01] <SimonSapin> kmc: what should I look for, just run 'make check-ref' and see if it hangs?
[22:34:08] *** Quits: LEOXD (Thunderbir@moz-ECCE2937.dk.customer.tdc.net) (Ping timeout)
[22:37:00] <kmc> yeah
[22:37:26] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Input/output error)
[22:37:34] <SimonSapin> no hang, but each run has one failure 'assertion failed: retval == ExitStatus(0)'
[22:37:39] <SimonSapin> on a different test each time
[22:37:57] <SimonSapin> on master
[22:37:59] <kmc> ok
[22:38:07] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[22:38:33] *** Joins: jmgrosen_ (jmgrosen@moz-848F6087.sb.sd.cox.net)
[22:39:08] <kmc> I think it's a race condition borrowing JS<T> objects when traversing the DOM for selectors like :first-child and :nth-of-type
[22:39:19] <SimonSapin> I do get some other failures on Acid2, though
[22:39:21] <kmc> pcwalton, jdm: ^
[22:39:27] <SimonSapin> 'assertion failed: self.parent.borrow != WRITING && self.parent.borrow != UNUSED'
[22:39:35] <pcwalton> yikes
[22:39:37] <pcwalton> that's a race.
[22:39:45] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[22:39:45] *** ChanServ sets mode: +o jdm
[22:39:45] <kmc> SimonSapin: yeah that's the same failure I see
[22:39:45] <SimonSapin> and it seems to hang
[22:39:48] <pcwalton> just break on rust_fail and do "thread apply all bt"
[22:39:52] <pcwalton> see where the races is.
[22:40:18] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[22:40:39] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[22:40:47] <pcwalton> the problem will be in layout/wrapper.rs
[22:40:51] <pcwalton> something in there is not right
[22:40:55] <pcwalton> that's the TCB
[22:41:23] <SimonSapin> pcwalton: https://pastebin.mozilla.org/4404668
[22:41:37] <pcwalton> in an interview atm
[22:43:25] <larsberg> I wonder if we need an environment variable to make fail! abort the process. Right now might shut down, but often just sort of hang. And I could imagine breaking *both* sides of a ref test, showing the "i tried" star, and marking it passed...
[22:43:41] <pcwalton> definitely it should cause tests to instantly fail
[22:44:54] <jdm> larsberg: we have one
[22:44:59] <jdm> we use it for content tests
[22:45:06] <jdm> sorry, a command line flag
[22:45:13] *** Quits: dzbarsky (Adium@moz-ACFC0912.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[22:45:40] <larsberg> aha, the hard-fail flag? nice! 
[22:45:45] * larsberg looks at how that is implemented...
[22:46:13] <jdm> oh dear, borrowing race for JS<T>? :(
[22:46:25] <kmc> it only works when the failing task is one that we monitor and send FailureMsg to the constellation for
[22:47:10] <kmc> hooking the Rust runtime to catch all fail!() might be a good idea, but I don't know exactly how to do it
[22:47:23] <larsberg> is it used? I did a grep of the rs/rc files in components for hard_fail and only see it read in gfx/opts.rs and not used anywhere...
[22:47:25] <kmc> (maybe just have a local symbol rust_fail that is resolved before the libstd-*.so one?)
[22:48:01] <kmc> https://github.com/mozilla/servo/blob/master/src/components/main/constellation.rs#L426-L433
[22:49:50] <larsberg> kmc: thanks, I must be looking at a clone with older bits!
[22:51:26] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[22:52:40] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[22:52:40] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/IXEvSA
[22:52:40] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[22:53:08] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[22:53:21] <kmc> bors what are you doing
[22:54:45] <larsberg> I think he's trying to not-so-subtly nudge me to review PRs. "/bors pushes nothing, because lars isn't reviewing enough things..."
[22:54:53] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[22:54:53] *** ChanServ sets mode: +o brson
[22:54:57] <jdm> it's like a cat bumping against your leg
[22:56:06] <kmc> :D
[22:56:39] <strcat> I think it's just caused by github API bugs
[22:57:16] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[22:57:38] <strcat> at least bors doesn't go crazy and merge the same thing 100 times now...
[22:58:18] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[23:00:10] *** Quits: chenyang (user@moz-451CCEAC.airbears2.berkeley.edu) (Ping timeout)
[23:01:26] <pcwalton> hmmm, the way WebKit handles floats impacted by many blocks isn't that efficient....
[23:01:49] * pcwalton thinks he can do better
[23:02:08] <pcwalton> it's O(number of floats * number of blocks) :\
[23:02:11] <pcwalton> in webkit
[23:03:28] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[23:04:51] <pcwalton> back in a bit
[23:04:51] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[23:05:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:12:37] <kmc> anybody want to test https://github.com/kmcallister/servo/tree/linux-fontconfig on Linux? for me it just prints warnings but I think it might fail entirely on some systems
[23:13:01] <kmc> you'll need to re-../configure and then 'make clean-rust-azure clean-fontconfig clean-rust-fontconfig'
[23:14:06] <kmc> commits for rust-fontconfig and rust-azure are in my respective github repos
[23:16:48] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[23:17:51] * kmc enjoys watching the OS X dock while running reftests
[23:19:41] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[23:19:41] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/SD64YQ
[23:19:41] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[23:19:43] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[23:19:43] <ghservo> [13servo] 15bors-servo closed pull request #1736: Be more explicit in casts of generated bindings (06master...06issue1733) 02http://git.io/78nq7Q
[23:19:43] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[23:19:47] <larsberg> I was stress-testing the reftests overnight when I was trying to re-enable them - my poor, poor dock...
[23:21:15] <kmc> anyone know what's with this old reftest directory? https://github.com/mozilla/servo/tree/master/src/test/html/ref
[23:23:43] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:24:10] *** Joins: mauricioc (mauricioc@moz-3A63F597.impa.br)
[23:24:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:35:52] *** Quits: Caspy7 (chatzilla@A077DB81.8D4B4332.33F321FD.IP) (Client exited)
[23:37:08] <larsberg> kmc: I'm getting: Unable to checkout 'b2cfb1f4b3561e01a58359cd18929457a0486db7' in submodule path 'src/platform/linux/fontconfig', but didn't see a fork of fontconfig in your github account...
[23:38:04] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:38:04] *** ChanServ sets mode: +o brson
[23:38:19] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[23:38:20] <ghservo> [13fontconfig] 15kmcallister pushed 1 new commit to 06linux: 02http://git.io/Uk8U4w
[23:38:20] <ghservo> 13fontconfig/06linux 14b2cfb1f 15Keegan McAllister: Add gitignore...
[23:38:20] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[23:38:33] <kmc> ^ forgot to push this commit, sorry; it should be in mozilla-servo/fontconfig now
[23:39:54] *** Quits: jmgrosen_ (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen_)
[23:43:04] <larsberg> np, that worked! interesting note: to build fontconfig, I needed to install gperf (this is a VM, so I didn't have the full set of tools installed)
[23:43:41] *** Quits: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu) (Connection reset by peer)
[23:46:36] <jack> gperf?
[23:46:38] <jack> to build??
[23:47:45] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[23:49:33] <strcat> jack: gperf is the thing that generates perfect hashes
[23:49:46] <strcat> not to be confused with perf and gperftools ;p
[23:49:52] <kmc> i confuse it with gprof all the time
[23:50:13] *** nrc is now known as nrc|afk
[23:51:08] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:51:08] <jack> strcat: that makes much more sense.
[23:51:47] *** Joins: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP)
[23:52:12] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[23:53:06] <larsberg> kmc: I also got those out of memory errors running it in my VM: https://gist.github.com/larsbergstrom/9241365
[23:53:21] <larsberg> but the page loaded and showed text
[23:53:41] <kmc> strange!
[23:53:53] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[23:53:58] <larsberg> with fontconfig 2.10.93
[23:54:03] <kmc> can you pastebin that conf file just out of curiosity?
[23:54:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[23:54:07] <larsberg> (global on the system)
[23:54:34] <kmc> (unfortunately there doesn't seem to be a way to disable fontconfig warnings, short of patching fontconfig)
[23:55:07] <kmc> (ideally they would translate to Rust debug!() or warn!()
[23:55:07] <kmc> )
[23:55:53] <kmc> larsberg: thanks for testing btw
[23:56:11] <larsberg> kmc: http://pastebin.mozilla.org/4405236
[23:56:53] <larsberg> np! my linux vm is the only one of my servo clones that isn't currently reviewing one PR or another :-)
[23:57:01] <kmc> heh
