[00:00:11] <aatch> jethrogb, it's because you're assigning what the compiler *thinks* is reference tied to `a` to `b`
[00:00:26] <jethrogb> how do I make it not think that?
[00:00:36] <aatch> jethrogb, the fact that `foo` always returns a static reference isn't exposed in the signature.
[00:00:54] *** Quits: errordeveloper (ilya@moz-ono.0eu.201.90.IP) (Ping timeout: 121 seconds)
[00:01:02] <jethrogb> this doesn't help: fn foo<'a,'b>(a: &'a u32) -> &'b S
[00:01:04] <aatch> jethrogb, well, for this specific case, `foo` could return `&'static S`
[00:01:31] *** Quits: Sho (sho@moz-anta7k.cust.telecolumbus.net) (Quit: Konversation terminated!)
[00:01:54] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:02:14] <jethrogb> and this doesn't work: fn foo(a: &u32) -> &'static S
[00:02:16] <jethrogb> `(a.a:core::option::Some).0` does not live long enough
[00:02:22] <jethrogb> "reference must be valid for the static lifetime"
[00:03:18] *** Quits: copycat (Thunderbird@moz-dpm.8hc.223.111.IP) (Client exited)
[00:03:39] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[00:03:42] *** Joins: ajtulloch (ajtulloch@moz-ao5.9o0.201.199.IP)
[00:04:43] <jethrogb> aatch: 
[00:05:10] <aatch> Godammit lifetime elision I hate you so much!
[00:05:23] *** Joins: copycat (Thunderbird@moz-dpm.8hc.223.111.IP)
[00:05:30] <aatch> jethrogb, `foo(a: &u32) -> &'static S<'static>`
[00:05:56] <jethrogb> cool
[00:06:07] *** Quits: mcoffin (mcoffin@moz-2oi.rn6.54.128.IP) (Ping timeout: 121 seconds)
[00:06:08] <jethrogb> aatch: and the generic version of that also works :)
[00:06:09] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[00:06:19] <aatch> jethrogb, hell, `&S<'static>` also works.
[00:06:43] *** Joins: Murarth_ (Murarth@moz-jpotpi.phnx.qwest.net)
[00:06:50] *** Quits: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net) (NickServ (RECOVER command used by Murarth_))
[00:06:50] *** Murarth_ is now known as Murarth
[00:06:51] <jethrogb> just have to put the lifetime in the right place
[00:06:52] <jethrogb> ..
[00:06:53] <aatch> I just hate that elision tries to elide lifetime params...
[00:07:34] <jethrogb> I like it... when it works intuitively
[00:07:34] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[00:07:35] *** Quits: demilux (demilux@moz-fk1.kt4.14.64.IP) (A TLS packet with unexpected length was received.)
[00:07:40] <aatch> I might propose an option to disable or warn about it. Since disabling it altogether was already shot down.
[00:08:12] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[00:08:16] <aatch> jethrogb, the problem is that I think it makes life difficult for "experts" (like me) and confuses beginners when they eventually need to start using them.
[00:08:46] *** Joins: ubeatlenine (david@moz-30lmkk.nh.comcast.net)
[00:09:03] *** Joins: chao-tic (chao@moz-258.4aj.101.218.IP)
[00:09:08] <aatch> jethrogb, also, eliding the 'a from &'a T is much different from eliding from T<'a>
[00:09:11] *** Joins: Wild_Cat (Max@moz-1idsr5.dsl.teksavvy.com)
[00:09:21] *** Quits: chao-tic (chao@moz-258.4aj.101.218.IP) (Quit: WeeChat 1.0.1)
[00:09:24] <XMPPwocky> aatch: +1
[00:09:24] *** Joins: chao-tic (chao@moz-258.4aj.101.218.IP)
[00:10:09] *** Joins: mcoffin (mcoffin@moz-hrs.16d.54.128.IP)
[00:10:11] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[00:11:12] *** Joins: demilux (demilux@moz-fk1.kt4.14.64.IP)
[00:11:28] <aatch> At the very least, being able to throw `#![warn(elided_lifetime_params)]` at the top of a file would help a lot with figuring out why some code won't compile. Assuming the warnings can be shown before the errors occur.
[00:12:09] *** Joins: Murarth_ (Murarth@moz-60m.b85.166.46.IP)
[00:12:10] <jethrogb> seanmonstar: I don't like that hyper::server::response::Response.write(&[]) signifies stream end
[00:12:16] *** Quits: Murarth (Murarth@moz-jpotpi.phnx.qwest.net) (NickServ (RECOVER command used by Murarth_))
[00:12:16] *** Murarth_ is now known as Murarth
[00:12:44] <jethrogb> it's not part of the Write "interface"
[00:12:59] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[00:13:14] *** Joins: ashish01 (textual@moz-jl6.9o0.201.199.IP)
[00:13:26] <ashish01> Hi
[00:13:35] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[00:13:51] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[00:14:27] <mbrubeck> Hello
[00:14:28] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[00:14:52] <ashish01> I mostly work with C++ and have too many times fought with LD_LIBRARY_PATH, liking/loading and in general trying to create statically linked exes
[00:15:07] <ashish01> Does rust provide some better alternatives here
[00:15:33] <mbrubeck> ashish01: Rust has a build tool "cargo" which will set library paths and such automatically.
[00:15:35] <ashish01> Can rust create binaries such that when I do ldd rust-bin.exe I get a vert small list
[00:15:42] *** Joins: errordeveloper (ilya@moz-ono.0eu.201.90.IP)
[00:15:43] <ashish01> *very
[00:15:44] *** Quits: ajtulloch (ajtulloch@moz-ao5.9o0.201.199.IP) (Ping timeout: 121 seconds)
[00:15:47] <cmr> ashish01: Not particularly, but if you stay inside the warm walls of Cargo, it works well.
[00:16:01] <cmr> Yes, it's very easy to create executables which only depend on libc and other system libs.
[00:16:03] <mbrubeck> ashish01: But under the hood, Rust is still using the C linker, with many of the associated pluses and minuses.
[00:16:07] <seanmonstar> jethrogb: hm?
[00:16:35] <aatch> ashish01, yes and no. It's certainly possible, but it's no easier or harder than in C++ (well maybe easier given we have Cargo)
[00:16:46] <ashish01> I see
[00:16:52] *** Quits: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net) (Ping timeout: 121 seconds)
[00:17:08] *** Joins: orangeshark (erik@moz-6emd9r.44tj.56ot.0306.2602.IP)
[00:17:17] <jethrogb> seanmonstar: HttpWriter "overloads" write(&[]) to infer end-of-response
[00:17:39] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[00:17:45] <aatch> But nothing in Rust-the-language makes it fundamentally easier to avoid static linking.
[00:18:19] <ashish01> @aatch: C++ is defiantly harder. Just going through all -static-lib* flags in gcc and its not fun
[00:18:21] <ashish01> :)
[00:18:24] <jethrogb> seanmonstar: this means when you write(my_func()) and my_func happens to return something with size 0, it ends response
[00:18:26] *** Quits: demilux (demilux@moz-fk1.kt4.14.64.IP) (A TLS packet with unexpected length was received.)
[00:18:50] <ashish01> *definitely  
[00:18:53] *** Joins: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net)
[00:19:01] <seanmonstar> jethrogb: HttpWriter doesn't treat &[] special
[00:19:30] *** Joins: demilux (demilux@moz-fk1.kt4.14.64.IP)
[00:19:38] <seanmonstar> jethrogb: https://github.com/hyperium/hyper/blob/master/src/http.rs#L289
[00:20:17] <jethrogb> seanmonstar: well, yes and no... chuncked transfer-encoding defines a 0-sized chunk as the end
[00:20:20] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[00:20:39] <seanmonstar> if you're sending a chunked body, the 0 sized chunk signifies body end in the spec
[00:20:57] *** Quits: nowhere_man (pierre@moz-8so0ig.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[00:21:31] <jethrogb> seanmonstar: right, and that is not part of the "Write" spec
[00:22:00] <seanmonstar> theyre orthogonal
[00:22:28] <jethrogb> seanmonstar: not really, because I can't just hand off my HttpWriter to something that takes a Write and expect it to work in all cases
[00:22:29] <seanmonstar> its not illegal to end a chunked body, but then start writing a new response (in fact, http2 does this as normal)
[00:23:33] *** Quits: demilux (demilux@moz-fk1.kt4.14.64.IP) (Ping timeout: 121 seconds)
[00:23:43] <seanmonstar> however, i could see adding a check higher up to never trigger a &[] write from `request.write()`
[00:24:28] *** Joins: tschottdorf (tobias@moz-d021av.aipg.hajb.2000.2604.IP)
[00:24:38] <rillian> nrc: how is rustfmt different from rust-fmt?
[00:24:47] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[00:24:49] <Nashenas88> What can I do to improve compilation? Currently, after pulling updates from git, and then running make, I usually have to wait several HOURS before the compulation is done. I run make with “make -j 2” (I have a dual core processor)
[00:25:08] <aatch> Nashenas88, is this for the compiler?
[00:25:10] <seanmonstar> Nashenas88: compiling rustc?
[00:25:13] <thelink2012> hmmmm would I turn this into life, turning arrays into slices? http://is.gd/2qfzwd even if there's a horribly expressive syntax behind it I'm able to use a macro on this case.
[00:25:24] <aatch> Nashenas88, if so, that's slower than normal, but not unexpected.
[00:25:49] <aatch> Nashenas88, especially if you have a less-powerful machine (which it's dual-core status suggests).
[00:25:59] <nrc> rillian: they are different projects. I think rust-fmt hasn't seen much work in a while, although I believe there is a fork which was active (I haven't checked in a while). The technical difference is that rustfmt reqwrites the AST, rust-fmt starts with tokens and makes it's own pseudo-AST
[00:26:02] <seanmonstar> aatch: ive seen that long if 1) you have low memory, 2) llvm needs to rebuilt
[00:26:10] <jethrogb> seanmonstar: ok. I just wanted to bring this to your attention before considering filing an issue
[00:26:20] *** Quits: SerialVelocity_ (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:26:22] *** Joins: mcpherrin (mcpherrin@moz-clk6gh.ca.comcast.net)
[00:26:22] <Nashenas88> aatch, seanmonstar: this is for rust-lang/rust
[00:26:59] <seanmonstar> Nashenas88: you determined to run `make`, or are you testing changes? libstd changes could be tested faster with `make check-stage1`
[00:26:59] <rillian> nrc: ok, cool. cajbir mentioned it to me today
[00:27:28] *** kent is now known as datanoise
[00:27:29] <Nashenas88> I just ran make assuming it would only build what’s needed
[00:27:32] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[00:27:37] *** Quits: fengshaun (fengshaun@moz-oagll1.cpe.pppoe.ca) (Quit: bye bye!)
[00:27:40] <Nashenas88> only build what’s been updated*
[00:27:42] <nrc> rillian: patches accepted :-)
[00:27:44] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[00:27:49] <seanmonstar> Nashenas88: depends on what you consider "what's needed"
[00:27:57] *** Joins: Moonlightning (blackl@moz-1rc.30c.23.184.IP)
[00:28:21] <Nashenas88> seanmonstar: I meant to write, “what’s been updated since the last build”
[00:28:22] <seanmonstar> Nashenas88: if you want to build the compiler and libstd similar to a release, `make` will do that
[00:28:56] <Nashenas88> seanmonstar: I’m looking more towards debugging and testing.
[00:29:02] *** Quits: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:29:06] <rillian> nrc: cargo can't find the rustc_unicode dep. Do you require nightly?
[00:29:13] <Nashenas88> I want to get involved with rust, but I’m trying to figure out how to do it efficiently
[00:29:18] *** Quits: amnn (amnn@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:29:20] <nrc> rillian: yes
[00:29:33] <nrc> I should put that in the README
[00:29:40] <seanmonstar> Nashenas88: a release build compiles the compiler several times (hence, stages). if you're just testing a change, make check-stage1 will reduce the amount of stages built
[00:29:45] <jethrogb> Nashenas88: if you only want to change libstd see https://gist.github.com/jethrogb/72e1325b8b63cd072cd6
[00:29:50] <Nashenas88> I’ll try out make check-stage1 (once the current build finishes)
[00:30:02] <Nashenas88> ohhhh, that would make sense
[00:30:10] *** Joins: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp)
[00:30:15] <Moonlightning> It's not possible to mutate a key that's been stored in e.g. a HashMap, right?
[00:30:35] <seanmonstar> Moonlightning: that'd change the hash, wouldn't it?
[00:30:39] <cmr> Moonlightning: It's possible, but not advised.
[00:30:54] <cmr> Moonlightning: changing the hash of a key results in a leak.
[00:30:56] <Moonlightning> seanmonstar: exactly
[00:31:14] <cmr> Moonlightning: see the last paragraph of http://static.rust-lang.org/doc/master/std/collections/struct.HashMap.html
[00:32:08] *** Quits: daschl (Adium@moz-mp6.9pg.169.206.IP) (Quit: Leaving.)
[00:32:13] *** Joins: nowhere_man (pierre@moz-3g4326.abo.wanadoo.fr)
[00:32:58] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:33:05] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[00:33:20] <Nashenas88> seanmonstar, jethrogb: Thank you
[00:33:27] <Moonlightning> > This is normally only possible through `Cell`, `RefCell`, global state, I/O, or unsafe code.
[00:33:32] *** Quits: bfrog (tburdick@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[00:34:05] <jethrogb> Nashenas88: that script is several months old, will probably need some changes to make it work today
[00:34:14] *** Quits: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp) (Ping timeout: 121 seconds)
[00:34:31] *** Quits: libfud (libfud@moz-p2rb38.eph2.ptd.net) (A TLS packet with unexpected length was received.)
[00:34:49] <Moonlightning> I thought mutation with e.g. `Cell` would be prevented because the container owned the key.
[00:34:50] *** Joins: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP)
[00:35:29] *** Quits: JuggleTux (tux@moz-svr61d.cust.swisscom.ch) (Connection closed)
[00:35:57] <aatch> Moonlightning, your key can be a `&T`
[00:36:33] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:37:11] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:37:22] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[00:37:35] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[00:37:40] *** Joins: Guest (textual@moz-lmfinb.fios.verizon.net)
[00:38:28] *** Joins: brson (brson@moz-u4t.ku8.145.82.IP)
[00:38:29] *** ChanServ sets mode: +ao brson brson
[00:38:29] <Moonlightning> aatch: Really?
[00:38:57] <aatch> Moonlightning, sure, why not?
[00:39:19] <aatch> Moonlightning, it could also be a `Rc<T>`
[00:39:26] <Moonlightning> That's fair.
[00:39:29] <seanmonstar> playbot: let mut x = ::std::collections::HashMap::new(); x.insert(&1i32, "foo"); x.find(&&1i32)
[00:39:30] -playbot- <anon>:9:83: 9:95 error: type `std::collections::hash::map::HashMap<&i32, &str>` does not implement any method in scope named `find`
[00:39:30] -playbot- <anon>:9         let mut x = ::std::collections::HashMap::new(); x.insert(&1i32, "foo"); x.find(&&1i32)
[00:39:30] -playbot- output truncated; full output at: http://bit.ly/1I3rDAt
[00:39:41] <seanmonstar> playbot: let mut x = ::std::collections::HashMap::new(); x.insert(&1i32, "foo"); x.get(&&1i32)
[00:39:42] -playbot- <anon>:9:67: 9:71 error: borrowed value does not live long enough
[00:39:42] -playbot- <anon>:9         let mut x = ::std::collections::HashMap::new(); x.insert(&1i32, "foo"); x.get(&&1i32)
[00:39:42] -playbot- output truncated; full output at: http://bit.ly/1FQUog8
[00:39:49] <seanmonstar> bleh, whatever
[00:40:01] <Moonlightning> …wait, `Rc<T>: Hash where T: Hash`?
[00:40:08] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[00:40:20] <aatch> playbot: let mut x = ::std::collections::HashMap::new(); x.insert(&1i32, "foo"); show(x.get(&&1i32));
[00:40:21] -playbot- <anon>:9:67: 9:71 error: borrowed value does not live long enough
[00:40:21] -playbot- <anon>:9         let mut x = ::std::collections::HashMap::new(); x.insert(&1i32, "foo"); show(x.get(&&1i32));
[00:40:21] -playbot- output truncated; full output at: http://bit.ly/1I3rJrN
[00:40:25] <Brochacho> Is there a macro to get a function name?
[00:40:31] <aatch> meh
[00:40:39] <aatch> Brochacho, not that I know of.
[00:40:48] <Brochacho> aatch: rats
[00:41:04] <seanmonstar> there was an rfc for that...
[00:41:18] *** Quits: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt) (Ping timeout: 121 seconds)
[00:41:42] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[00:42:15] <seanmonstar> https://github.com/rust-lang/rfcs/pull/466
[00:42:30] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (Ping timeout: 121 seconds)
[00:43:40] <Brochacho> seanmonstar: Says merged but not sure to what, not familiar with the RFC process
[00:43:44] *** Parts: jedireza (textual@moz-u3dg2t.sfo1.mozilla.com) ("Textual IRC Client: www.textualapp.com")
[00:43:48] <seanmonstar> yea it looks broken
[00:45:42] *** Quits: FlyingFoX (quassel@moz-j2ui1r.unity-media.net) (Connection closed)
[00:46:07] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[00:46:08] *** Quits: drbawb (drbawb@moz-q7c35u.res.rr.com) (Ping timeout: 121 seconds)
[00:46:35] *** Quits: kgrandon (Adium@moz-renl33.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[00:46:45] <dirvine> Gstatus
[00:46:56] <seanmonstar> and i cant find anything else, perhaps it was just lost/given up
[00:47:04] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[00:48:04] *** Quits: copycat (Thunderbird@moz-dpm.8hc.223.111.IP) (Client exited)
[00:48:08] *** Joins: copycat (Thunderbird@moz-dpm.8hc.223.111.IP)
[00:48:51] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[00:49:13] *** Quits: cholcombe (chris@moz-mtfab9.or.comcast.net) (Ping timeout: 121 seconds)
[00:49:28] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[00:50:11] *** Joins: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt)
[00:51:12] *** Joins: dhole (dhole@moz-rjjp04.dynamic.jazztel.es)
[00:51:13] *** Joins: daschl (Adium@moz-mp6.9pg.169.206.IP)
[00:51:46] *** Joins: thor1 (thor@moz-n7n1a4.res.rr.com)
[00:51:48] *** Quits: dhole_ (dhole@moz-22n.slc.218.87.IP) (Ping timeout: 121 seconds)
[00:54:25] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by rovar_))
[00:54:25] *** rovar_ is now known as rovar
[00:54:33] *** gaye is now known as gaye|sleep
[00:54:37] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[00:55:41] *** Quits: eckhardt_ (eckhardt@moz-s9e.ov1.227.199.IP) (Connection closed)
[00:55:49] *** Joins: kgrandon (Adium@moz-ba3te3.2rkg.9kg1.0101.2620.IP)
[00:56:06] *** Joins: mattkrea (textual@moz-26n25s.flt3.ptd.net)
[00:56:07] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[00:56:27] *** Joins: blank_na1e (blank_name@moz-p4egrb.mi.frontiernet.net)
[00:57:16] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Connection closed)
[00:57:43] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[00:58:36] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[00:58:40] *** Joins: jjthrash (jjthrash@moz-la0q45.res.rr.com)
[00:59:02] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[00:59:20] *** Quits: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net) (Ping timeout: 121 seconds)
[01:00:48] *** Joins: eckhardt (eckhardt@moz-s9e.ov1.227.199.IP)
[01:01:03] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:01:29] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[01:01:40] *** Quits: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[01:01:58] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[01:01:58] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:02:13] *** Quits: ubeatlenine (david@moz-30lmkk.nh.comcast.net) (Quit: WeeChat 1.2)
[01:02:43] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[01:03:02] *** Joins: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com)
[01:04:06] *** Joins: starless (starless@moz-u9gmm1.res.rr.com)
[01:04:43] *** Joins: ubeatlenine (david@moz-30lmkk.nh.comcast.net)
[01:05:14] *** nsm is now known as nsm|away
[01:05:35] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[01:06:02] *** Quits: Guest (textual@moz-lmfinb.fios.verizon.net) (Connection closed)
[01:06:31] *** chmanchester is now known as chmanchester|afk
[01:07:08] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[01:07:17] *** Joins: rbranson (rbranson@moz-fp0.vqt.177.166.IP)
[01:07:38] *** Joins: zhanggong (yeahnoob@moz-ku8.ugi.122.118.IP)
[01:08:36] *** Joins: niconii (nicole@moz-r8dlmh.frgo.qwest.net)
[01:08:36] *** ChanServ sets mode: +o niconii
[01:09:14] *** Quits: alaska (alaska@moz-8bdjem.fios.verizon.net) (Connection closed)
[01:09:35] *** Joins: alaska (alaska@moz-8bdjem.fios.verizon.net)
[01:10:18] *** Joins: esclear (esclear@moz-7a6tjp.dip0.t-ipconnect.de)
[01:10:24] *** Quits: bbloom (bbloom@moz-mmuemv.wa.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:10:26] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[01:10:43] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[01:10:48] *** Quits: santiago (santiago@moz-8th.j2e.167.12.IP) (Quit: Computer has gone to sleep.)
[01:10:52] *** Quits: csherratt (colin@moz-357qdq.cable.teksavvy.com) (Quit: Konversation terminated!)
[01:11:10] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[01:11:17] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[01:11:21] *** Quits: Ralith (ralith@moz-miv.lne.251.63.IP) (Ping timeout: 121 seconds)
[01:12:20] *** Quits: OxMLR (OxMLR@moz-19veku.res.rr.com) (Ping timeout: 121 seconds)
[01:12:52] *** Joins: mindtree (Mitch@moz-b098hr.iprimus.net.au)
[01:12:58] *** Joins: Wilduck (erik@moz-0l3fjb.fios.verizon.net)
[01:12:59] *** Quits: esclear_ (esclear@moz-7hlp7k.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:13:04] *** bentley|away is now known as bentley
[01:13:11] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[01:14:16] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[01:14:28] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[01:15:55] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[01:17:15] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[01:17:37] *** Joins: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net)
[01:18:50] *** Joins: zhuli (zhuli@moz-d2d.7sg.64.112.IP)
[01:18:54] *** Quits: ashish01 (textual@moz-jl6.9o0.201.199.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:19:02] <rovar> wasn't there something about an auto doc builder/host for crates?
[01:19:15] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[01:19:21] <cmr> There used to be rust-ci but it's defunct now.
[01:19:36] <cmr> I recommend using github pages with the excellent cargo-travis script, until rustdoc.org is up and running.
[01:19:45] *** Joins: zyphrus (David@moz-4ut.s0u.195.130.IP)
[01:19:59] <SiegeLord> What's defunct about rust-ci?
[01:20:00] <rovar> ah cargo-travis will auto build docs and host them in my repo's github pages?
[01:20:08] <SiegeLord> It still triggers for me occasionally...
[01:20:12] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[01:20:15] <seanmonstar> rovar: there was also http://www.reddit.com/r/rust/comments/2wku7e/introducing_rustdoxcom_alpha_an_easy_way_to_host/
[01:20:17] <cmr> SiegeLord: Doc uploading seems broken.
[01:20:28] <SiegeLord> Oh... that was always flaky
[01:20:31] <cmr> Yeah.
[01:21:23] <rovar> seanmonstar, Ah! that's what I was thinking of
[01:21:25] <rovar> thanks
[01:21:39] *** Quits: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net) (Ping timeout: 121 seconds)
[01:21:46] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Connection closed)
[01:22:29] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:23:08] *** Quits: brson (brson@moz-u4t.ku8.145.82.IP) (Quit: leaving)
[01:23:14] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:24:12] <Moonlightning> So is there no way to require an argument to be passed by value rather than reference?
[01:24:38] <seanmonstar> Moonlightning: fn foo(x: i32) requires i32, not &i32
[01:24:38] *** Joins: markstory (textual@moz-tb3ghu.cable.rogers.com)
[01:24:44] *** Quits: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt) (Ping timeout: 121 seconds)
[01:25:21] *** Quits: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP) (Ping timeout: 121 seconds)
[01:26:00] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[01:26:06] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[01:26:48] *** Quits: Brochacho (alberto@moz-b2ovno.cable.rcn.com) (Client exited)
[01:27:13] *** Quits: chao-tic (chao@moz-258.4aj.101.218.IP) (Ping timeout: 121 seconds)
[01:27:27] *** Quits: kkus (kkus@moz-u8u.iof.234.165.IP) (Quit: Leaving)
[01:27:59] <ToxicFrog> Is there a rust-native equivalent to gettimeofday(), or should I just call the C version?
[01:28:22] <seanmonstar> ToxicFrog: seen the time crate? https://crates.io/crates/time
[01:29:00] <Moonlightning> That's what I thought…
[01:29:44] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[01:29:48] <Moonlightning> …oh. Aatch, did you mean that you could make a `HashMap<&K, V>`?
[01:30:06] *** Joins: Lee1092 (uid13277@moz-p2e1ii.brockwell.irccloud.com)
[01:30:12] <aatch> Moonlightning, yes.
[01:30:13] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[01:31:32] *** Quits: kgrandon (Adium@moz-ba3te3.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[01:33:13] *** Quits: DemonOne (Avi@moz-noogk5.red.bezeqint.net) (Ping timeout: 121 seconds)
[01:33:32] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[01:33:33] *** Joins: jakevn (jakevn@moz-0agbgk.miamfl.sbcglobal.net)
[01:33:35] *** Joins: khades (Thunderbird@moz-qgd.3vk.74.212.IP)
[01:33:42] <Moonlightning> In general, are &T, &&T, &&&T, ... considered types in the same way that T is?
[01:33:47] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[01:34:48] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[01:35:14] *** Quits: khades1 (Thunderbird@moz-qgd.3vk.74.212.IP) (Ping timeout: 121 seconds)
[01:35:36] *** Joins: ferdinand (Mibbit@moz-966.099.5.189.IP)
[01:37:33] *** Quits: zhanggong (yeahnoob@moz-ku8.ugi.122.118.IP) (Connection closed)
[01:37:34] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[01:37:45] <cmr> Moonlightning: Well depends on what you mean by "in the same way"
[01:38:04] <cmr> They have slightly different properties and can have traits implemented on them, but they're full first-class types.
[01:38:35] *** Joins: tetsuharu (tetsuharu@moz-r5j.l6d.168.210.IP)
[01:38:51] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[01:40:29] *** Quits: partkyle (partkyle@moz-e8m.r65.206.12.IP) (Quit: Leaving.)
[01:41:36] <aatch> Moonlightning, to expand on what cmr said, borrowed pointers in Rust aren't like references in C++, we don't do reference collapsing because &T is a type just like Box<T> or T or &&&&&T
[01:41:38] *** Joins: qwerty_nor (Thunderbird@moz-tqmake.uq66.lk4q.0006.2601.IP)
[01:42:03] <ToxicFrog> Ok, another stupid question...how do I make a static HashSet?
[01:42:06] *** Quits: mattkrea (textual@moz-26n25s.flt3.ptd.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:42:12] <ToxicFrog> I thought: static mut soundq: HashSet<String> = HashSet::new();
[01:42:25] <ToxicFrog> But that gets me "mutable statics are not allowed to have destructors"
[01:42:26] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[01:42:33] <cmr> ToxicFrog: you can't, as static values aren't allowed to have non-constant-bitpattern initializers, but I suggest using https://crates.io/crates/lazy_static
[01:42:48] *** Joins: bombless (bombless@moz-pk7.rup.13.122.IP)
[01:42:48] <Moonlightning> Why do you want it to be static, ToxicFrog?
[01:42:55] *** Joins: kgrandon (Adium@moz-27vg1o.2rkg.9kg1.0101.2620.IP)
[01:42:59] <ToxicFrog> cmr: "non-constant-bitpattern"?
[01:43:01] *** Quits: thelink2012 (Mibbit@moz-etr.cua.214.186.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:43:33] <ToxicFrog> Moonlightning: because the contents will be built up over successive function calls from C and then flushed when C indicates that it is "done".
[01:44:16] <Moonlightning> ToxicFrog: I dunno about non-constant-bitpattern initializers, but it doesn't make sense for something to be static and mutable to me
[01:44:26] <Moonlightning> Especially not a nontrivial container like a HashMap.
[01:44:32] <bombless> https://github.com/rust-lang/rust/pull/24597 this problem is back again... weird
[01:44:40] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[01:44:53] *** Joins: meunierd (dmeunier@moz-glf54u.cpe.sourcecable.net)
[01:45:04] <ToxicFrog> Moonlightning: have I incorrectly inferred what "static" means in Rust?
[01:45:06] <Moonlightning> `static` means that the struct gets compiled into the binary, right? Rather than being built in memory at the point in code when it's defined?
[01:45:07] <niconii> ToxicFrog: as in, the initial value has to be a constant expression at compile-time
[01:45:18] <ToxicFrog> I need something that persists across function calls and has the same lifetime as the program rather than any single block.
[01:45:26] <Moonlightning> Oh, you want `'static`
[01:45:33] <cmr> ToxicFrog: you haven't, but the contents of statics are limited.
[01:45:34] <Moonlightning> static lifetime
[01:45:48] <cmr> ToxicFrog: Look at the lazy_static crate, it enables what you want.
[01:45:56] <ToxicFrog> niconii: and an empty HashSet does not satisfy this constraint?
[01:45:57] <bombless> https://github.com/rust-lang/rust/blob/master/src/librustdoc/test.rs#L280 the code's there untouch... though I've always wonder why they name the file that way..
[01:46:01] <ToxicFrog> cmr: will do.
[01:46:06] <ToxicFrog> Moonlightning: 'static?
[01:46:28] <Moonlightning> (In particular, `static foo = "Oh, look, a string."` will stick the string "Oh, look, a string." into the binary somewhere. In the .TEXT section, I think.)
[01:46:32] <niconii> ToxicFrog: HashSet::new() is a function call; rust won't evaluate it at compile-time
[01:46:46] <ToxicFrog> Aah.
[01:47:25] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[01:48:03] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Ping timeout: 121 seconds)
[01:48:25] *** Joins: bfrog (tburdick@moz-hde.5e5.136.67.IP)
[01:49:21] <ToxicFrog> lazy_static appears to rely on nightly features :/
[01:49:45] <ToxicFrog> At least, the 1.0 compiler doesn't understand #[phase(plugin)] or #![feature(phase)]
[01:50:14] <Mutabah> That's not 1.0 code...
[01:50:19] <Mutabah> that's pre-beta
[01:50:19] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:51:02] <seanmonstar> ToxicFrog: https://github.com/Kimundi/lazy-static.rs
[01:51:12] <seanmonstar> it doesn't use plugin, it uses macro_rules
[01:51:13] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Ping timeout: 121 seconds)
[01:51:18] * Moonlightning let mut a: Bah;
[01:51:34] *** Quits: tetsuharu (tetsuharu@moz-r5j.l6d.168.210.IP) (Ping timeout: 121 seconds)
[01:51:54] <ToxicFrog> seanmonstar: I just followed the documentation linked from its crates.io page
[01:53:01] <seanmonstar> ToxicFrog: seems that doc page is out of date
[01:53:21] <seanmonstar> ToxicFrog: https://github.com/Kimundi/lazy-static.rs/blob/master/src/lib.rs#L35-L60
[01:53:25] <kimundi> Urg... I keep meaning to fix that issue. Sorry :P
[01:53:49] <aatch> Technically I think `Vec::new` and similar functions could be `const fn`s since they don't actually do stuff like allocate.
[01:54:22] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[01:54:38] <ToxicFrog> error: the trait `core::fmt::Debug` is not implemented for the type `soundq`
[01:54:40] *** Quits: efaust (efaust@moz-4u9k4j.ca.comcast.net) (Ping timeout: 121 seconds)
[01:54:44] <ToxicFrog> ...but...it's not a type. It's a variable.
[01:54:55] <ToxicFrog> It's a HashSet<String> and both HashSet and String implement Debug.
[01:55:35] <seanmonstar> ToxicFrog: using lazy_static?
[01:55:42] <aatch> ToxicFrog, well you seem to have a type soundq...
[01:55:49] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Ping timeout: 121 seconds)
[01:55:57] <Moonlightning> ToxicFrog: did you post your code at some point? I can't see it.
[01:56:09] <seanmonstar> lazy_static actually crates a struct with the same name, and implements Deref to get the lazy value
[01:56:13] <seanmonstar> creates*
[01:56:21] <ToxicFrog> seanmonstar: yes, using lazy_static
[01:56:29] <ToxicFrog> seanmonstar: oh. That would explain it.
[01:56:47] *** Quits: c_wraith (c_wraith@moz-946go0.click-network.com) (Quit: Leaving)
[01:57:01] <ToxicFrog> Also...is it impossible to have a lazy_static mutable value, or am I just too tired to figure this out?
[01:57:12] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[01:57:57] <seanmonstar> mutable static state is hugely frowned upon, which is why its so difficult
[01:58:00] <cmr> ToxicFrog: Stick your value behind a Mutex
[01:58:14] <seanmonstar> you can do it, but it may be worth finding a way to make your set not static
[01:58:16] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[01:58:16] <cmr> Is the safe way.
[01:58:18] <ToxicFrog> seanmonstar: yeah, and if I could rewrite the calling program so it wasn't necessary, I would
[01:58:25] *** Parts: ferdinand (Mibbit@moz-966.099.5.189.IP) ()
[01:58:27] *** Joins: c_wraith (c_wraith@moz-946go0.click-network.com)
[01:58:33] <ToxicFrog> But I'm writing a library that needs to conform to an API and ABI used by an existing C program that I have no control over
[01:58:58] *** Joins: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net)
[01:59:15] <ToxicFrog> And that program expects me to manage this state myself and persist it across calls
[01:59:33] *** Joins: chippers (chip@moz-26d.2gk.254.199.IP)
[01:59:34] <seanmonstar> wrapping your HashSet in a Mutex is the safe way, as cmr said
[02:00:06] *** Joins: Sprog1 (Sprog@moz-u3bo4c.lv.cox.net)
[02:00:32] *** Quits: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP) (A TLS packet with unexpected length was received.)
[02:00:34] <seanmonstar> static ref SOUNDQ: Mutex<HashMap<String, String>> = { ... }
[02:00:53] *** Joins: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP)
[02:01:01] *** Quits: zyphrus (David@moz-4ut.s0u.195.130.IP) (Ping timeout: 121 seconds)
[02:02:00] *** Joins: indefini (indefini@moz-4p4v25.ucom.ne.jp)
[02:02:39] *** Quits: Sprog (Sprog@moz-u3bo4c.lv.cox.net) (Ping timeout: 121 seconds)
[02:03:16] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[02:03:23] * ToxicFrog reads
[02:03:28] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:03:36] <ToxicFrog> I tend to think of mutexes as things that are only useful in concurrent contexts
[02:03:57] <Mutabah> globals are
[02:04:08] *** Quits: bfrog (tburdick@moz-hde.5e5.136.67.IP) (Quit: WeeChat 1.2)
[02:04:10] <Mutabah> (well, can be, there's no way of telling the compiler that your application is single-threaded
[02:04:11] *** Joins: bfrog (tburdick@moz-hde.5e5.136.67.IP)
[02:04:24] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:04:30] <Moonlightning> What is `_`?
[02:04:40] <aatch> Moonlightning, depends on the context.
[02:04:43] <Moonlightning> It's not a keyword, but it doesn't seem to be an identifier, either…
[02:04:44] <seanmonstar> Moonlightning: wildcard, usually
[02:04:48] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[02:04:55] *** Quits: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP) (Ping timeout: 121 seconds)
[02:04:55] <Moonlightning> In terms of grammar. What kind of token is it?
[02:04:57] <seanmonstar> but yea, depends on context
[02:05:12] <aatch> Moonlightning, it is its own token.
[02:05:15] <Mutabah> Moonlightning: Afaik, it's a token
[02:05:18] <bombless> it is a type and also a value
[02:05:22] <aatch> Moonlightning, it's a pattern.
[02:05:27] <aatch> bombless, not a value.
[02:05:45] <aatch> playbot, let _ = 1; _ + 1
[02:05:45] -playbot- <anon>:9:20: 9:21 error: unexpected token: `_`
[02:05:46] -playbot- <anon>:9         let _ = 1; _ + 1
[02:05:46] -playbot- output truncated; full output at: http://bit.ly/1EQKg2R
[02:05:58] <ToxicFrog> Mutabah: point. In this case I have a priori knowledge that it is not.
[02:06:06] <Moonlightning> It feels like a keyword! But it's not.
[02:06:19] *** Joins: Brochacho (alberto@moz-b2ovno.cable.rcn.com)
[02:06:31] *** Joins: jmacdonald (jmacdonald@moz-gjop30.eastlink.ca)
[02:06:33] <aatch> Moonlightning, it's not a keyword, that doesn't stop it from being it's own token though.
[02:06:43] <Moonlightning> What do you mean by /it's its own token/?
[02:06:47] <aatch> Moonlightning, '{' isn't a keyword either.
[02:06:58] <bombless> aatch: I mean it is in the value namespace
[02:07:00] <Moonlightning> …ohhh.
[02:07:03] <aatch> Moonlightning, as in it's a token that is only itself.
[02:07:12] <seanmonstar> ToxicFrog: by exposing those methods in your API, its possible for the C program to call from different threads. you can either use a Mutex, which will keep it safe even if used concurrently, or you must use `unsafe {}` code
[02:07:31] *** Quits: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP) (Quit: Connection reset by bear)
[02:07:39] <jmacdonald> Anyone know if core::str::next_code_point is going to be available in std in the future?
[02:07:40] <aatch> bombless, what do you mean by "value namespace"?
[02:07:46] <ToxicFrog> seanmonstar: yes. I mean I have a priori knowledge that this program is singlethreaded.
[02:07:52] <Moonlightning> It's a…symbol.
[02:07:53] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[02:08:00] * Moonlightning looked that up in the reference.
[02:08:04] <Moonlightning> Along with `::`
[02:08:08] <bombless> playbot: let i32: i32 = 0;
[02:08:09] <seanmonstar> ToxicFrog: then you can use `unsafe {}`, basically telling the compiler "shh, i know this is safe"
[02:08:10] -playbot- ()
[02:08:23] <aatch> Moonlightning, Symbol! That's the word!
[02:08:25] <Mutabah> ToxicFrog: In that case, the mutex is not going to be contended, and you're good
[02:08:31] <bombless> aatch: like that, values and types are in different namesapce
[02:08:35] <Moonlightning> I knew there had to be /some/ name more specific than /token/ :p
[02:08:42] <seanmonstar> but also, locking an unlocked mutex is quite fast
[02:09:06] <Moonlightning> > Symbols are a general class of printable token that play structural roles in a variety of grammar productions. They are catalogued here for completeness as the set of remaining miscellaneous printable tokens that do not otherwise appear as unary operators, binary operators, or keywords.
[02:09:08] <aatch> bombless, well yeah, but it's not a type or a value.
[02:09:27] <Moonlightning> So…I guess `:` is also a symbol?
[02:09:29] *** Joins: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP)
[02:09:52] *** Quits: gandalf (zbraniecki@moz-u3dg2t.sfo1.mozilla.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:10:40] <Moonlightning> …it should be noted that `!` is bitwise negation, not logical
[02:11:17] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[02:11:52] *** Quits: jmacdonald (jmacdonald@moz-gjop30.eastlink.ca) (Quit: leaving)
[02:11:53] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:11:55] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[02:14:08] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[02:15:15] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[02:16:47] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Connection closed)
[02:17:13] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[02:17:56] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:18:04] *** Joins: chao-tic (chao@moz-258.4aj.101.218.IP)
[02:19:02] <niconii> Moonlightning: well, it's both; it's controlled by the Not trait, which is implemented on both integers and booleans
[02:19:49] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Connection closed)
[02:20:26] *** Joins: tetsuharu (tetsuharu@moz-r5j.l6d.168.210.IP)
[02:21:04] <niconii> playbot: (!false, !32u8)
[02:21:06] -playbot- (true, 223)
[02:21:16] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[02:22:10] *** Quits: tetsuharu (tetsuharu@moz-r5j.l6d.168.210.IP) (A TLS packet with unexpected length was received.)
[02:22:30] *** Joins: tetsuharu (tetsuharu@moz-r5j.l6d.168.210.IP)
[02:22:31] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[02:22:36] *** Quits: rbranson (rbranson@moz-fp0.vqt.177.166.IP) (Quit: Computer has gone to sleep.)
[02:22:51] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[02:23:25] <bombless> playbot: !1u8
[02:23:26] -playbot- 254
[02:24:28] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:24:32] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:25:00] *** Quits: minot2 (kkus@moz-6lg.ru4.234.165.IP) (Ping timeout: 121 seconds)
[02:25:36] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[02:25:40] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[02:26:03] *** Joins: santiago (santiago@moz-ro2mm9.res.rr.com)
[02:26:30] <bombless> https://github.com/rust-lang/rust/blob/master/src/libsyntax/parse/token.rs#L145 underscore is a token
[02:26:34] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[02:26:40] *** Quits: tetsuharu (tetsuharu@moz-r5j.l6d.168.210.IP) (A TLS packet with unexpected length was received.)
[02:26:44] <crazymykl> is there a way to enable rust feature flags based on cargo features?
[02:27:04] <bombless> in a value context it is a value to ignore, in a type context it is a type to infer
[02:27:26] *** Joins: tyoverby_ (tyoverby@moz-fo2liv.cs.washington.edu)
[02:27:44] <tyoverby_> Can someone explain the atomic orderings to me?
[02:28:25] *** Quits: thor1 (thor@moz-n7n1a4.res.rr.com) (Ping timeout: 121 seconds)
[02:28:29] <cmr> tyoverby_: it's... not obvious.
[02:28:30] *** Quits: tadh (quassel@moz-88tk3f.res.rr.com) (Connection closed)
[02:28:42] *** bentley is now known as bentley|away
[02:28:46] <cmr> tyoverby_: We rip from C++'s memory model, http://herbsutter.com/2013/02/11/atomic-weapons-the-c-memory-model-and-modern-hardware/
[02:28:51] <cmr> tyoverby_: and there are far more docs for C++
[02:29:19] *** Quits: errordeveloper (ilya@moz-ono.0eu.201.90.IP) (Ping timeout: 121 seconds)
[02:29:22] <Moonlightning> bombless: It's not listed as a token.
[02:29:33] <Moonlightning> >> https://doc.rust-lang.org/reference.html#tokens
[02:29:39] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (Ping timeout: 121 seconds)
[02:30:11] *** Quits: atomic_ (atomic@moz-5uk5u4.tor-exit.network) (Connection closed)
[02:30:15] <bombless> Moonlightning: then it's a bug in the doc, feel free to make a PR
[02:30:19] <tyoverby_> I've tried to read those, and the only thing that I gathered is that Relaxed is the best, but never use it for some reason
[02:30:25] *** Joins: atomic_ (atomic@moz-0elh7o.nos-oignons.net)
[02:30:35] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:31:21] *** Quits: matp (matp@moz-rvt9hl.matp.at) (Ping timeout: 121 seconds)
[02:31:42] <crisco> tomaka: how to get mouse move events like in GLFW, so that even when the cursor is e.g. at the left window border and goes further left it still receives mouse move events as if the cursor is going further to the left? do i have to reset the mouse location to the middle of the window in every frame to do this?
[02:31:49] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[02:31:56] *** Quits: tschottdorf (tobias@moz-d021av.aipg.hajb.2000.2604.IP) (Ping timeout: 121 seconds)
[02:32:18] <cmr> crisco: join #rust-gamedev for that sort of questino
[02:32:28] <cmr> (we don't bite ;)
[02:32:46] <crisco> thanks :)
[02:33:31] *** Quits: alaska (alaska@moz-8bdjem.fios.verizon.net) (Connection closed)
[02:34:31] *** Joins: alaska (alaska@moz-8bdjem.fios.verizon.net)
[02:34:37] *** Quits: eckhardt (eckhardt@moz-s9e.ov1.227.199.IP) (Connection closed)
[02:34:45] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:34:52] *** Joins: rmgk_ (ragnar@moz-oo85mg.dyn.telefonica.de)
[02:35:00] *** Quits: qwerty_nor (Thunderbird@moz-tqmake.uq66.lk4q.0006.2601.IP) (Client exited)
[02:35:02] *** kimundi is now known as zz_kimundi
[02:35:03] *** Joins: eckhardt (eckhardt@moz-s9e.ov1.227.199.IP)
[02:35:20] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[02:35:27] <cmr> tyoverby_: perhaps http://cis.poly.edu/muller/CS623/weakmemory.htm is a good overview as well? Looking into "weak memory models" is probably a better search term.
[02:35:28] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Ping timeout: 121 seconds)
[02:35:39] *** Joins: errordeveloper (ilya@moz-ono.0eu.201.90.IP)
[02:35:51] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[02:35:55] <cmr> tyoverby_: The thing with relaxed orderings is that it is *very* difficult to reason about, even if you have practice, and getting it wrong can cause really nasty hard to debug race conditions.
[02:37:14] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[02:38:07] *** Joins: closures999 (closures999@moz-hbi.gpd.70.118.IP)
[02:38:18] *** Quits: rmgk (ragnar@moz-jkmnds.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:38:38] *** Quits: closures999 (closures999@moz-hbi.gpd.70.118.IP) (Quit: Leaving...)
[02:38:42] <aatch> tyoverby_, Relaxed is the *fastest* since it has the minimum amount of restrictions on the observed order of operations.
[02:39:03] <tyoverby_> aatch: oh crap
[02:39:05] *** Quits: eckhardt (eckhardt@moz-s9e.ov1.227.199.IP) (Ping timeout: 121 seconds)
[02:39:23] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[02:39:31] *** Quits: khades (Thunderbird@moz-qgd.3vk.74.212.IP) (Ping timeout: 121 seconds)
[02:39:40] <tyoverby_> when would I want Release or Acquire then?
[02:39:41] <aatch> tyoverby_, the orderings are all about trying to maintain a "happens-before" ordering of operations.
[02:39:50] *** Joins: zzing (textual@moz-cfdo15.uwindsor.ca)
[02:40:55] <tyoverby_> when it says "no ordering constraints, only atomic operations", what atomic operations is it talking about?
[02:40:57] *** Quits: housl (housl@moz-qnjt4k.ut.comcast.net) (Quit: WeeChat 1.2)
[02:41:10] <tyoverby_> aren't atomic operations the only thing we care about?
[02:41:16] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[02:41:34] <aatch> tyoverby_, atomic increment is a good example.
[02:41:58] *** Quits: kgrandon (Adium@moz-27vg1o.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[02:42:13] <tyoverby_> but if all the methods on AtomicInt are "atomic operations", then when would we care about changing the Ordering?
[02:42:20] <aatch> tyoverby_, you'll always increment the value, if two threads do it simultaneously, it'll get incremented twice (as opposed to read-increment-store).
[02:42:40] <tyoverby_> so the result will always be the same
[02:42:44] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:42:56] <aatch> tyoverby_, the orderings have a much bigger impact at compile time than at runtime, especially on x86
[02:43:13] <tyoverby_> when would Relaxed not be sufficient?
[02:43:43] <aatch> tyoverby_, the idea is that you often need to know "if this value is equal to this other value, then I know that these things have happened".
[02:44:22] <aatch> tyoverby_, whenever you want to make a decision based on a shared value.
[02:44:46] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:44:58] <huon> SeqCst (sequentially consistent) is the safest default, and you can move to weaker ones for perf reasons
[02:45:35] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:45:49] <tyoverby_> aatch, huon: thanks for your help; I'll read up on these a lot more now
[02:46:05] <tyoverby_> if I'm just using atomic-add, can I be safe with Relaxed though?
[02:46:17] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[02:46:18] <huon> depends what you're doing
[02:46:24] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Quit: Leaving)
[02:46:29] <aatch> tyoverby_, if it's something like a shared counter, then sure.
[02:46:31] <tyoverby_> I'm making internal unique-ids
[02:46:42] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[02:46:43] <tyoverby_> aatch: yeah
[02:46:53] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[02:47:35] <aatch> tyoverby_, the atomic read-modify-write operations are fine set to Relaxed in this case, since you aren't making a decision based on the value you get back.
[02:47:57] *** Quits: amindfv (user@moz-n3ha8l.fios.verizon.net) (Ping timeout: 121 seconds)
[02:47:59] <aatch> tyoverby_, it doesn't matter what happens before or after you generate the new id.
[02:48:06] *** Joins: clay (Mibbit@moz-o7k96m.dc.cox.net)
[02:48:17] *** Joins: forgottenone (forgottenon@moz-dgp.1v3.131.217.IP)
[02:48:18] <aatch> Just as long as you don't generate the same ID twice.
[02:48:22] <tyoverby_> ok, so the other orderings are for when you care about two threads making the same decision or not?
[02:48:25] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:48:50] <crisco> why can't i use / and >> on a u32, (i32 expected)?
[02:49:10] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:49:13] <huon> you can, so there must be something else at play
[02:49:15] <njn> has into_raw become safe?
[02:49:21] <huon> crisco: what's the full error mesage/code?
[02:49:25] <huon> njn: what do the docs say? :)
[02:49:38] <njn> http://doc.rust-lang.org/std/boxed/fn.into_raw.html says unsafe, but maybe that's out of date w.r.t. whatever version Servo is using?
[02:49:39] *** Quits: zz_kimundi (kimundi@moz-pvqpe9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:49:47] <cmr> njn: unsafe as-of 1.0, http://doc.rust-lang.org/1.0.0/std/boxed/fn.into_raw.html
[02:49:48] <njn> Servo just updated their rust, and now I'm getting a warning
[02:49:49] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[02:49:51] <cmr> (at least)
[02:49:55] <huon> njn: http://doc.rust-lang.org/nightly/std/boxed/fn.into_raw.html
[02:50:08] <huon> assuming servo is using a nightly, yeah, it's safe
[02:50:10] <njn> huon: looks like it changed then; thanks you
[02:50:18] <cmr> Neato.
[02:50:28] * njn wonders why it changed
[02:50:31] <huon> njn: (btw, I was under the impression that servo hosted their own copy of the rust docs for the version you're using)
[02:50:42] <njn> huon: hmm, sounds familiar
[02:50:56] <njn> huon: yeah: http://doc.servo.org/std/index.html
[02:50:59] <njn> I should start using that
[02:51:05] *** Joins: zz_kimundi (kimundi@moz-bt8log.dip0.t-ipconnect.de)
[02:51:07] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[02:51:35] *** zz_kimundi is now known as kimundi
[02:51:51] <huon> njn: I suspect it was part of the fall-out of the realisation that destructors aren't absolutely guaranteed to run
[02:52:20] <aatch> tyoverby_, correct. A concurrent queue is a good example. Concurrent queues generally use a pair of monotonically increasing indexes, when you add a new element, you need to know that the index you get when ask for "where should I put this element" is actually free.
[02:52:58] <aatch> tyoverby_, so you need to know that whatever was stored there has actually been removed.
[02:53:51] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[02:54:26] <aatch> tyoverby_, when popping from the queue, you also need to be sure that the element is valid when removing it.
[02:54:35] *** Quits: bren2010 (bren2010@moz-356.o3d.198.71.IP) (Ping timeout: 121 seconds)
[02:54:36] *** Joins: gopar (gopar@moz-is8mm6.m2vj.kpnp.0009.2601.IP)
[02:55:24] *** Joins: bren2010 (bren2010@moz-356.o3d.198.71.IP)
[02:55:39] <clay> I'm trying and failing to store an Iterator and I'm having problems parsing the errors I'm getting: https://play.rust-lang.org/?gist=795f1d27916eaa802491&version=stable
[02:56:11] <aatch> tyoverby_, without ordering constraints, a reader might read uninitialized or partially-initialized data because there were no happens-before constraints on what a thread can see.
[02:56:13] <clay> I can see the type Iter is, but I'm having problems storing it 
[02:56:51] <clay> anyone have any suggestions?
[02:57:03] <swgillespie> clay: what do you want to do with that iterator?
[02:57:08] *** Quits: zzing (textual@moz-cfdo15.uwindsor.ca) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:57:24] *** Joins: zzing (textual@moz-cfdo15.uwindsor.ca)
[02:57:40] <aatch> clay, that iterator contains a closure, it's literally impossible to write it's type.
[02:57:45] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[02:58:11] <clay> swgillespie: the goal is to create a simple parser. I want to save the parser location and return results
[02:58:27] <clay> aatch: even as a generic Iterator?
[02:58:37] <clay> borrowed Iterator, that is
[02:58:55] <aatch> clay, you might need to show us something a little more representative.
[02:59:11] <swgillespie> clay: you want to put that iterator into a struct, or something similar?
[02:59:27] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[03:00:10] <clay> swgillespie: in essence, yes. it'd look like "for line in lines { for c in line.chars()) {}}"
[03:00:23] <swgillespie> clay: I've done this before for a parser: https://github.com/swgillespie/pine/blob/master/pine_syntax/src/parser.rs#L12
[03:00:23] <clay> except lines and chars need to be stored
[03:00:25] *** Quits: }ls{ (uhelp@moz-k267ds.dip0.t-ipconnect.de) (Connection closed)
[03:00:29] <swgillespie> if that's helpful
[03:00:54] <clay> swgillespie: Immensely!
[03:01:00] <swgillespie> :D
[03:01:25] *** Quits: zzing (textual@moz-cfdo15.uwindsor.ca) (Ping timeout: 121 seconds)
[03:01:34] <crisco> why cant i do: (x,y) = (3,4); ?
[03:01:44] <swgillespie> clay: the lexer definition in this case is also parameterized by iterator, which is probably what you want I think
[03:02:14] <swgillespie> and then you can constrain the type parameter with the Iterator<Item=(whatever)> bound that you'd like
[03:02:28] <swgillespie> playbot: let (x, y) = (3, 4);
[03:02:29] -playbot- ()
[03:02:30] <bstrie> crisco: you're trying to use pattern-matching, but pattern-matching isn't allowed in general assignment statements like that
[03:02:42] <clay> swgillespie: you are amazing. Thank you so much
[03:02:45] *** Quits: ubeatlenine (david@moz-30lmkk.nh.comcast.net) (Ping timeout: 121 seconds)
[03:02:48] <swgillespie> clay: glad it helps!
[03:02:52] <crisco> bstrie: is there a way to use tuples as lvalues? with & or something?
[03:03:03] <bstrie> crisco: if you want to use a pattern like that, do `let (x, y) = (3, 4);`
[03:03:18] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:03:36] <bstrie> crisco: `let` is a place where patterns are allowed, which is why this works
[03:03:36] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Connection closed)
[03:04:46] <aatch> I might make a macro that does (essentially) `let (_x, _y) = <expr>; x = _x; y = _y;` assuming that concat_idents works the way I hope it does.
[03:05:16] *** Joins: __mark__ (mark@moz-udut16.dynamic.chello.pl)
[03:05:43] <bstrie> aatch: that's a lot of work to avoid doing `x = foo.0; y = foo.1;` :P
[03:05:56] <aatch> Eh, might be too much work...
[03:06:36] <aatch> bstrie, I have a number of places where I have a function that returns a tuple and I want to update two values from the result.
[03:06:40] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[03:06:47] <aatch> bstrie, It's not a big deal though.
[03:06:52] <Moonlightning> aatch: what would that be used for?
[03:07:24] *** Joins: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net)
[03:07:38] <aatch> Moonlightning, avoiding coming up with temporary variable names, mostly.
[03:08:20] <Moonlightning> But couldn't you just `let x, y = $expr;` directly?
[03:08:26] <Moonlightning> I'm missing smoething here, clearly
[03:08:30] <aatch> Though I just realised that most of the time in Ramp I want to update based on one element of the tuple and do something else with the other, it wouldn't even work that well for my case.
[03:08:38] <aatch> Moonlightning, updating a value in a loop.
[03:08:55] *** Joins: maximih (maximih@moz-8tdreh.k49b.su5n.2002.2001.IP)
[03:10:03] <aatch> Moonlightning, like adding two n-digit numbers, the carry-out from one iteration is used in the next iteration.
[03:11:32] *** Joins: frangio (frangio@moz-04sgf8.fibertel.com.ar)
[03:12:02] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:12:28] *** Quits: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net) (Ping timeout: 121 seconds)
[03:12:31] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:12:57] *** Quits: maximih (maximih@moz-8tdreh.k49b.su5n.2002.2001.IP) (Ping timeout: 121 seconds)
[03:14:38] <Moonlightning> aatch: then couldn't you just `x, y = $expr`?
[03:15:10] <aatch> Moonlightning, that's not valid Rust
[03:16:02] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[03:16:36] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[03:16:48] *** Quits: Brochacho (alberto@moz-b2ovno.cable.rcn.com) (Client exited)
[03:17:21] <Moonlightning> …it's not? Any reason to ban it?
[03:17:32] <bombless> cause inside the let it is a pattern
[03:18:16] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[03:18:36] <bombless> playbot: let Ok(Some(x)) = Ok::<Option<i32>, ()>(1);
[03:18:37] -playbot- <anon>:9:49: 9:50 error: mismatched types:
[03:18:37] -playbot-  expected `core::option::Option<i32>`,
[03:18:37] -playbot- output truncated; full output at: http://bit.ly/1AKlEhe
[03:18:42] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[03:19:17] *** Quits: frem (uid16862@moz-60b2uv.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[03:20:09] <bombless> playbot: let (((((x,),),),),) = (((((1,),),),),); x
[03:20:11] -playbot- 1
[03:20:14] *** Joins: grant (grant@moz-jfh.0nq.187.64.IP)
[03:20:19] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[03:20:20] <niconii> Moonlightning: let uses patterns, reassignment doesn't; this was gone over in the above discussion
[03:20:20] *** Joins: rmdashrf (rmdashrf@moz-ecr.kjm.54.128.IP)
[03:20:22] *** Quits: meunierd (dmeunier@moz-glf54u.cpe.sourcecable.net) (Ping timeout: 121 seconds)
[03:20:48] *** Joins: meunierd (dmeunier@moz-glf54u.cpe.sourcecable.net)
[03:21:16] <niconii> as for why, i'm not entirely sure
[03:21:31] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Quit: Leaving.)
[03:21:53] <niconii> might just be difficult or ambiguous to parse
[03:22:36] <Moonlightning> Oh.
[03:22:40] <Moonlightning> Okay.
[03:22:49] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[03:22:51] *** Quits: crisco (crisco@moz-a8r.0c9.164.61.IP) (Connection closed)
[03:23:29] *** Joins: Hemamorphy (Hemamorphy@moz-2u1asn.irvnca.sbcglobal.net)
[03:23:58] *** Quits: meunierd (dmeunier@moz-glf54u.cpe.sourcecable.net) (Client exited)
[03:24:26] *** Joins: phore (phore@moz-p8hanb.cable.rogers.com)
[03:24:38] *** Parts: tyoverby_ (tyoverby@moz-fo2liv.cs.washington.edu) ()
[03:25:03] <rovar> how does one convince travis to build using a nightly?
[03:25:18] <rovar> I tried https://github.com/rrichardson/reactor/blob/master/.travis.yml
[03:25:22] <aatch> rovar, "rust: - nightly"
[03:25:38] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Ping timeout: 121 seconds)
[03:25:39] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[03:25:39] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Connection closed)
[03:25:41] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[03:25:50] <aatch> rovar, https://github.com/Aatch/ramp/blob/master/.travis.yml
[03:25:58] *** Quits: Murarth (Murarth@moz-60m.b85.166.46.IP) (Quit: Alfador is the Entity!)
[03:26:25] *** Joins: Murarth (Murarth@moz-jpotpi.phnx.qwest.net)
[03:26:51] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[03:27:00] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:27:53] <rovar> aatch, thanks!  i'm assuming secure: is a hash of some key and some id, where do I get such a thing?
[03:28:53] <aatch> rovar, I started here: http://huonw.github.io/blog/2015/04/helping-travis-catch-the-rustc-train/
[03:28:58] <p1start> niconii: `x[0] = 1;` is a valid assignment, but x[0] isn’t a valid pattern
[03:28:59] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[03:29:18] <aatch> p1start, yes?
[03:29:31] <p1start> So it wouldn’t really make sense for assignment to use patterns
[03:29:48] <bombless> I think in Rust 0.3, `let x = 1, y = 2;` is fine. I guess at that time let doesn't do pattern matching.
[03:29:58] <p1start> You’d have to come up with some merger of patterns and expressions to make things like (x[0], y[2]) = (1, 2) work
[03:30:20] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[03:31:12] <aatch> What is actually be discussed is a multiple-assignment syntax.
[03:32:11] *** Joins: tunnuz (tunnuz@moz-bhfcsd.8rnv.rggd.6180.2400.IP)
[03:32:25] *** Quits: tunnuz (tunnuz@moz-bhfcsd.8rnv.rggd.6180.2400.IP) (Quit: Leaving)
[03:33:02] *** Quits: Hemamorphy (Hemamorphy@moz-2u1asn.irvnca.sbcglobal.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:33:08] *** Joins: crisco (crisco@moz-m3hcio.vpn.uni-saarland.de)
[03:33:24] *** Joins: tchosky (tchosky@moz-bhfcsd.8rnv.rggd.6180.2400.IP)
[03:34:04] *** Joins: crisco_ (crisco@moz-a8r.0c9.164.61.IP)
[03:34:24] *** Parts: tchosky (tchosky@moz-bhfcsd.8rnv.rggd.6180.2400.IP) ("Leaving")
[03:34:35] *** Joins: playjax (chatzilla@moz-udognc.optusnet.com.au)
[03:35:21] *** Quits: frangio (frangio@moz-04sgf8.fibertel.com.ar) (Ping timeout: 121 seconds)
[03:35:52] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:36:00] *** Quits: Wilduck (erik@moz-0l3fjb.fios.verizon.net) (Client exited)
[03:36:35] *** Quits: bfrog (tburdick@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[03:36:37] *** Quits: Rym (y@moz-mhu.sd4.38.217.IP) (Quit: WeeChat 1.0)
[03:36:48] <niconii> p1start: true
[03:36:48] *** Joins: Wilduck (erik@moz-0l3fjb.fios.verizon.net)
[03:37:01] <Havvy> playbot: let a = true;
[03:37:02] -playbot- <anon>:9:21: 9:22 error: unknown start of token: \u{37e}
[03:37:02] -playbot- <anon>:9         let a = true;
[03:37:02] -playbot- output truncated; full output at: http://bit.ly/1LZ4Pjh
[03:37:08] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[03:37:10] *** Quits: crisco (crisco@moz-m3hcio.vpn.uni-saarland.de) (Ping timeout: 121 seconds)
[03:37:17] *** Joins: Guest22 (textual@moz-rfh.k0b.235.201.IP)
[03:37:39] <huon> aatch: what's the motivation for separate files for the inline asm?
[03:37:48] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[03:38:06] *** Quits: crisco_ (crisco@moz-a8r.0c9.164.61.IP) (Ping timeout: 121 seconds)
[03:38:07] <aatch> huon, not having to come up with a unique set of label names for each function.
[03:38:17] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[03:38:32] *** Joins: tchosky (tchosky@moz-bhfcsd.8rnv.rggd.6180.2400.IP)
[03:38:33] <aatch> huon, though I realised later that since I'm using a C compiler I *think* I can use the C pre-processor to help with that.
[03:38:52] <huon> oh, heh
[03:39:22] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[03:39:25] <huon> aatch: hm, `cargo build --features=asm` doesn't work for me
[03:39:27] *** Quits: Wilduck (erik@moz-0l3fjb.fios.verizon.net) (Client exited)
[03:39:33] <aatch> huon, really?
[03:39:37] <niconii> Havvy: unfortunately, rust doesn't speak greek ;)
[03:40:03] <huon> aatch: https://gist.github.com/huonw/271bfd789ba23732af33
[03:40:54] <aatch> huon, /linker/ input file?
[03:41:08] *** Joins: crisco (crisco@moz-9ep.2hu.34.110.IP)
[03:41:18] <huon> aatch: I'm not sure what that question means
[03:41:49] <huon> (I ran `cargo clean`/`cargo build --features=asm` and got that output)
[03:41:55] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[03:41:57] <aatch> huon, it says "linker input file unused because linking not done"
[03:42:27] <aatch> huon, apparently it thinks that the asm files are object files?
[03:42:34] *** Quits: madez (madez@moz-klp.gs6.212.179.IP) (Ping timeout: 121 seconds)
[03:42:49] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[03:42:59] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[03:44:01] *** Joins: v21 (vee@moz-m8v.fca.230.49.IP)
[03:44:02] *** Joins: frangio (frangio@moz-04sgf8.fibertel.com.ar)
[03:44:10] <huon> aatch: apparently (fwiw, i have GCC 4.9.2 locally)
[03:44:24] <huon> aatch: oh, isn't .S the usual asm extension?
[03:44:57] <huon> ah, cool, renaming them worked
[03:45:28] <aatch> huon, weird, I've got the same version and it works fine for me.
[03:45:47] <aatch> huon, if renaming them works though, I can deal with that.
[03:45:48] <huon> what platform are you on? (x86-64 linux for me)
[03:45:53] <aatch> huon, same
[03:45:57] <huon> huh
[03:47:02] *** Quits: Guest22 (textual@moz-rfh.k0b.235.201.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:47:08] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Quit: Leaving)
[03:47:18] <huon> aatch: oh, it seems travis failed in the same way https://travis-ci.org/Aatch/ramp/jobs/65022236
[03:47:21] <aatch> huon, apparently my computer is the weird one though, since travis also failed.
[03:47:27] <aatch> huon, hah!
[03:47:42] <huon> aatch: added a renaming commit to https://github.com/Aatch/ramp/pull/4 
[03:48:14] *** Joins: choplin (choplin@moz-q517gi.u-tokyo.ac.jp)
[03:48:57] <clay> one last question before bed. When initializing a struct, is there a way to refer to a previously initialized value?
[03:49:14] <clay> like Struct {a: 1, b: a + 1}
[03:49:55] *** Joins: madez (madez@moz-klp.gs6.212.179.IP)
[03:49:56] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:50:14] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[03:51:11] *** Quits: crisco (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[03:51:39] *** Quits: v21 (vee@moz-m8v.fca.230.49.IP) (Connection closed)
[03:51:40] <huon> clay: no
[03:51:42] <aatch> huon, thank you
[03:51:46] *** Joins: dcb_ (textual@moz-j72nfe.ca.comcast.net)
[03:51:50] <clay> huon: thanks
[03:51:53] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Ping timeout: 121 seconds)
[03:52:04] *** Joins: crisco (crisco@moz-9ep.2hu.34.110.IP)
[03:52:10] *** Quits: markstory (textual@moz-tb3ghu.cable.rogers.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:52:19] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[03:52:42] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[03:52:48] *** Quits: clay (Mibbit@moz-o7k96m.dc.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:52:48] *** dcb_ is now known as dcb
[03:53:09] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[03:53:13] *** Quits: wohiler (wohiler@moz-8id.6e1.62.133.IP) (Ping timeout: 121 seconds)
[03:54:28] <aatch> huon, I was also just figuring out how to set up travis to test the asm feature, so you saved me that work too
[03:54:55] *** Quits: choplin (choplin@moz-q517gi.u-tokyo.ac.jp) (Connection closed)
[03:54:56] *** Quits: madez (madez@moz-klp.gs6.212.179.IP) (Connection closed)
[03:55:07] <JustAPerson> borrowck makes refactoring a common expression into a variable difficult :(
[03:55:41] *** Quits: meh (meh@moz-e56g7l.42-151.net24.it) (Ping timeout: 121 seconds)
[03:56:27] *** Quits: boustrophedon (boustrophed@moz-hl0kqf.sh) (Quit: leaving)
[03:56:44] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[03:57:11] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[03:57:43] *** Quits: AngelOfSol (AngelOfSol@moz-9l0nls.fios.verizon.net) (Connection closed)
[03:57:48] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[03:58:37] <Gankro> ahaha, this rendering is amazing ;_; https://doc.rust-lang.org/std/macro.vec!.html
[03:59:23] *** Quits: RCIX (RCIX@moz-vnmep7.ph.cox.net) (Ping timeout: 121 seconds)
[03:59:32] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[04:00:07] *** Joins: boustrophedon (boustrophed@moz-bqv0ip.osh0.1gqb.04f8.2a01.IP)
[04:00:21] *** Joins: KarolisK (karolis@moz-1vd.8s1.28.194.IP)
[04:01:01] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:01:17] *** Joins: maraoz (maraoz@moz-k72c1e.fibertel.com.ar)
[04:01:28] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[04:01:49] <seanmonstar> Gankro: DX
[04:02:02] *** Joins: wohiler (wohiler@moz-8id.6e1.62.133.IP)
[04:02:11] *** Quits: jakevn (jakevn@moz-0agbgk.miamfl.sbcglobal.net) (Ping timeout: 121 seconds)
[04:02:39] <binkarus> regression test
[04:02:59] *** Quits: daschl (Adium@moz-mp6.9pg.169.206.IP) (Quit: Leaving.)
[04:03:06] *** Joins: choplin (choplin@moz-hqa.ohm.51.192.IP)
[04:03:08] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[04:04:49] *** Quits: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[04:05:14] *** Joins: jedireza (jedireza@moz-allpoi.ca.comcast.net)
[04:05:18] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[04:05:18] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:05:26] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:05:30] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[04:05:34] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[04:05:42] *** Quits: phore (phore@moz-p8hanb.cable.rogers.com) (A TLS packet with unexpected length was received.)
[04:06:20] *** Quits: Wild_Cat (Max@moz-1idsr5.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:06:44] *** Quits: orangeshark (erik@moz-6emd9r.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:07:26] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[04:08:36] *** Joins: sfalcon (textual@moz-qtd94t.customer.broadstripe.net)
[04:09:38] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[04:10:21] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[04:10:26] *** Joins: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net)
[04:10:29] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[04:11:21] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:12:09] *** Joins: v21 (vee@moz-07pghd.asianet.co.th)
[04:12:19] *** Joins: fabiand (fabiand@moz-ei6o5d.dip0.t-ipconnect.de)
[04:13:00] *** Quits: crisco (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[04:13:14] *** Joins: zhanggong (yeahnoob@moz-ku8.ugi.122.118.IP)
[04:13:17] *** Joins: crisco (crisco@moz-9ep.2hu.34.110.IP)
[04:13:30] <Havvy> niconii:  Nope, but I was wondering if I should file a bug to have improved diagnostics for unknown characters that look like other characters.
[04:13:40] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[04:13:48] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[04:14:20] *** Joins: madez (madez@moz-klp.gs6.212.179.IP)
[04:14:28] *** Quits: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net) (Ping timeout: 121 seconds)
[04:14:34] <niconii> Havvy: hmm, gotcha
[04:14:41] *** Quits: gpillow (Mibbit@moz-hd5u4k.pasty.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:15:38] *** Joins: OmniMancer (omnimancer@moz-7jd.t80.149.118.IP)
[04:15:48] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[04:15:58] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[04:16:30] <niconii> Havvy: should be doable, i think; most tokens are ascii, so they have a fairly limited set of look-alike characters
[04:17:14] <niconii> Havvy: i think even just a better error message would be helpful, though
[04:17:24] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:17:27] *** Quits: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net) (Client exited)
[04:17:54] *** Quits: frangio (frangio@moz-04sgf8.fibertel.com.ar) (Ping timeout: 121 seconds)
[04:18:22] *** Quits: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com) (Client exited)
[04:18:54] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:19:16] <crisco> i want to have a bool array, one cell for every member of an enum, how to statically query how many members an enum has?
[04:19:58] *** Quits: O01eg (o01eg@moz-58bgnj.kdi6.4n8f.2698.2a02.IP) (Client exited)
[04:20:16] <aatch> crisco, there is no way to do so.
[04:20:55] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[04:21:12] *** Quits: zhanggong (yeahnoob@moz-ku8.ugi.122.118.IP) (Connection closed)
[04:21:24] *** Joins: eckhardt (eckhardt@moz-0b0.bm2.248.98.IP)
[04:22:50] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[04:23:54] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Client exited)
[04:24:02] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[04:24:11] <crisco> which binding of libusb is the most up-to-date / usable?
[04:24:20] <crisco> for windows
[04:24:44] <niconii> Havvy: for instance, compare:
[04:24:50] <niconii> playbot: let a = true@
[04:24:50] -playbot- <anon>:9:21: 9:22 error: expected one of `.`, `;`, or an operator, found `@`
[04:24:50] -playbot- <anon>:9         let a = true@
[04:24:50] -playbot- output truncated; full output at: http://bit.ly/1BFoZco
[04:24:56] <niconii> playbot: let a = true;
[04:24:56] -playbot- <anon>:9:21: 9:22 error: unknown start of token: \u{37e}
[04:24:57] -playbot- <anon>:9         let a = true;
[04:24:57] -playbot- output truncated; full output at: http://bit.ly/1LZ4Pjh
[04:25:05] *** Joins: tetsuharu (tetsuharu@moz-r5j.l6d.168.210.IP)
[04:25:26] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[04:25:38] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Quit: Leaving)
[04:25:47] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[04:25:48] <aatch> playbot: (10 | 0, 10 ^ 0)
[04:25:49] -playbot- (10, 10)
[04:25:53] <niconii> Havvy: i think a message like... error: expected one of `.`, `;`, or an operator, found unicode character U+37E `;`
[04:26:06] *** Joins: frangio (frangio@moz-04sgf8.fibertel.com.ar)
[04:26:14] <niconii> would be really helpful in itself
[04:27:00] <niconii> though naturally, if rust can tell that U+37E is a lookalike of `;`, you could give more helpful information as well
[04:28:22] *** Quits: crisco (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[04:28:24] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[04:28:44] *** Quits: eric_lagergren (barsonme@moz-e0h.6s0.39.134.IP) (Ping timeout: 121 seconds)
[04:29:07] *** Quits: forgottenone (forgottenon@moz-dgp.1v3.131.217.IP) (Quit: Konversation terminated!)
[04:29:15] *** Joins: crisco (crisco@moz-9ep.2hu.34.110.IP)
[04:30:32] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[04:32:25] *** Quits: chao-tic (chao@moz-258.4aj.101.218.IP) (Ping timeout: 121 seconds)
[04:32:37] <Quxxy> niconii: Maybe something like the table at http://homoglyphs.net/ could be baked into the compiler
[04:32:57] <Quxxy> I'm not sure *where* you'd do it, but maybe it could look for homoglyphs in error messages and just add an extra note
[04:33:05] *** Quits: choplin (choplin@moz-hqa.ohm.51.192.IP) (Connection closed)
[04:33:17] *** Joins: choplin (choplin@moz-hqa.ohm.51.192.IP)
[04:33:49] *** Joins: choplin_ (choplin@moz-hqa.ohm.51.192.IP)
[04:33:49] *** Quits: choplin (choplin@moz-hqa.ohm.51.192.IP) (Connection closed)
[04:34:13] *** Quits: crisco (crisco@moz-9ep.2hu.34.110.IP) (Connection closed)
[04:34:15] *** Joins: choplin (choplin@moz-10k.4df.82.157.IP)
[04:34:41] *** Joins: crisco (crisco@moz-9ep.2hu.34.110.IP)
[04:35:10] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[04:36:09] *** Joins: cholcombe (chris@moz-mtfab9.or.comcast.net)
[04:36:35] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[04:36:43] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[04:36:46] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:36:51] *** Joins: zyphrus (David@moz-nik.3ab.98.101.IP)
[04:37:07] <p1start> Quxxy: It could just normalize the string using one of the standard Unicode normalization forms (NFD, NFC, NFKD, NFKC)
[04:37:34] *** Joins: daschl (Adium@moz-l27udn.us.xo.net)
[04:37:51] *** Quits: choplin_ (choplin@moz-hqa.ohm.51.192.IP) (Ping timeout: 121 seconds)
[04:37:56] <p1start> Functions for those already exist (http://doc.rust-lang.org/nightly/std/primitive.str.html#method.nfd_chars), but unfortunately were deprecated, and I believe libsyntax is trying not to use unstable/deprecated items
[04:38:21] <Quxxy> p1start: Do those include homoglyphs?
[04:38:49] <Quxxy> I mean, I get de-/pre-composed characters, but changing roman numeral "M" into latin "M" seems a little weird
[04:39:13] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[04:39:49] *** Joins: chao-tic (chao@moz-258.4aj.101.218.IP)
[04:40:53] <p1start> Quxxy: They don’t seem to do things like converting Greek capital letter rho into latin capital letter P, but some of the forms (the K (compatibility, I think) ones) do convert Ⅿ into M
[04:41:01] <p1start> I’m by no means an expert ;)
[04:41:13] *** Joins: kgrandon (Adium@moz-knftsu.hjek.d045.0009.2601.IP)
[04:41:22] *** Joins: vortex (vortex@moz-skqfhn.novotelecom.ru)
[04:41:30] <Quxxy> p1start: I'd be suspicious of *anyone* who claimed to be a Unicode expert; they're either lying, ignorant or telling the truth and, thus, completely mad
[04:42:25] *** Joins: crisco_ (crisco@moz-9ep.2hu.34.110.IP)
[04:42:50] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[04:43:09] <p1start> There’s an open rfcs issue about performing normalization in the lexer, removing the need for specialised error messages: https://github.com/rust-lang/rfcs/issues/802
[04:43:23] <starless> <Quxxy> I'd be suspicious of *anyone* who claimed to be a Unicode expert; they're either lying, ignorant or telling the truth and, thus, completely mad.
[04:43:30] <starless> how to add to local quote bot?
[04:44:05] <niconii> starless: we don't have one :)
[04:44:21] <starless> I swear I've seen one.
[04:44:23] <starless> !stable
[04:44:23] <rustbot> Code written for the stable branch will never break (until 2.0), this means that unstable features are not allowed. If they were (even requiring a flag) people would start to depend on them, and then complain when compiler updates break their code. http://blog.rust-lang.org/2014/10/30/Stability.html
[04:44:24] *** Quits: crisco (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[04:44:24] *** Joins: cwraith (c_wraith@moz-946go0.click-network.com)
[04:44:29] *** Quits: cwraith (c_wraith@moz-946go0.click-network.com) (Quit: Leaving)
[04:44:34] <niconii> rustbot's not for quotes, but for info
[04:44:41] <starless> ;)
[04:45:17] *** Quits: jedireza (jedireza@moz-allpoi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:45:29] <p1start> starless: There’s always https://users.rust-lang.org/t/twir-quote-of-the-week/328
[04:46:03] <Quxxy> It was about Unicode, not Rust, so I'm safe
[04:46:21] <Quxxy> Now, if I'd substituted "Unicode" for "borrow checker"...
[04:46:39] *** Quits: madez (madez@moz-klp.gs6.212.179.IP) (Ping timeout: 121 seconds)
[04:47:08] *** Quits: c_wraith (c_wraith@moz-946go0.click-network.com) (Ping timeout: 121 seconds)
[04:47:14] <starless> You have no idea how comforting your perceived complexity of the borrow checker is.
[04:47:51] <Quxxy> How do you know I don't know that?  Are you spying on my brain?  *puts on alfoil hat*
[04:48:06] <Mutabah> Anyone know how to construct a Rc<[T]>?
[04:48:18] *** Quits: JanC (janc@moz-u64dtc.dsl.scarlet.be) (Ping timeout: 121 seconds)
[04:48:26] *** Quits: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi) (Ping timeout: 121 seconds)
[04:48:29] <Quxxy> Pretty sure you *can't* in stable or safe code
[04:48:33] <huon> Mutabah: the same way you construct a Box<[T]> but s/Box/Rc/ ?
[04:48:47] <Quxxy> I thought Rc/Arc couldn't deal with DSTs yet?
[04:48:53] <Mutabah> Quxxy: Nightly it odes
[04:48:59] <Quxxy> Right; "stable" :D
[04:49:07] <Mutabah> huon: Would that work? Rc has extra data in the allocation
[04:49:13] <Quxxy> So long as I'm right about stable, I'm less concerned :P
[04:49:22] <p1start> Mutabah: Coerce Rc<[T; n]> to Rc<[T]>
[04:49:26] *** Quits: Diggsey (diggsey@moz-9s9ol4.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:49:30] <Mutabah> p1start: Yeah, sadly, not possible
[04:49:35] <huon> Mutabah: https://play.rust-lang.org/?gist=530d0461c4a4c63548c6&version=nightly&run=1
[04:49:38] <Mutabah> (runtime-known but fixed size)
[04:50:07] *** Joins: zeittunnel (2342342342@moz-euiuua.dip0.t-ipconnect.de)
[04:50:23] <huon> ah, you may just want to use Rc<Vec<T>> (or Rc<Box<[T]>>)
[04:50:47] <frangio> Rc<Trait> work in nightly too?
[04:50:47] *** Quits: zyphrus (David@moz-nik.3ab.98.101.IP) (Quit: Bye bye)
[04:50:55] <Mutabah> Or, keep smacking my FromIterator implementation until it works
[04:50:58] <p1start> frangio: Yes
[04:51:18] *** Joins: dstrbad (dstrbad@moz-mecvuv.cable.xnet.hr)
[04:51:29] <Havvy> niconii:  Sorry, I got distracted. Yeah, those error messages look good enough to me. Should I file an issue, or have you already done so?
[04:51:48] *** Joins: zyphrus (David@moz-nik.3ab.98.101.IP)
[04:51:49] <niconii> Havvy: i haven't, so you can
[04:52:19] <Mutabah> huon: Recon a FromIterator implementation for Rc<[T]> would be good to have?
[04:52:34] <Mutabah> (or something similar, but with an ExactSizeIterator bound)
[04:53:04] *** Joins: madez (madez@moz-klp.gs6.212.179.IP)
[04:53:58] *** Joins: StevenOnly (steven@moz-cbf.jlg.192.139.IP)
[04:55:25] *** Joins: zyphrus_ (David@moz-nik.3ab.98.101.IP)
[04:56:06] *** Joins: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi)
[04:56:25] <frangio> should std::marker::PhantomData have a Default impl?
[04:56:46] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:57:30] <p1start> frangio: Yes, probably
[04:58:35] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[04:58:40] <frangio> p1start: i'd make a pr for it but there's something in marker.rs i don't understand
[04:58:43] *** Quits: zyphrus (David@moz-nik.3ab.98.101.IP) (Ping timeout: 121 seconds)
[04:58:49] <frangio> `impls! { PhantomData }`
[04:59:29] <frangio> nevermind i found the implementation of the macro heh
[04:59:48] *** Quits: cholcombe (chris@moz-mtfab9.or.comcast.net) (Ping timeout: 121 seconds)
[04:59:49] <p1start> I don’t know why it uses a macro when it’s only invoked once :P
[05:00:01] *** Quits: v21 (vee@moz-07pghd.asianet.co.th) (Ping timeout: 121 seconds)
[05:00:34] <frangio> yeah that's weird
[05:01:18] *** Joins: JanC (janc@moz-p2u6i0.dsl.scarlet.be)
[05:02:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:04:01] <Mutabah> Ugh, so looking forward to type-level ints
[05:04:11] <Mutabah> (So we can get sane trait impls on arrays)
[05:04:11] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[05:04:42] <Havvy> niconii:  What's your Github nickname?
[05:04:50] <niconii> niconii
[05:06:07] *** Quits: sfalcon (textual@moz-qtd94t.customer.broadstripe.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:06:43] *** Joins: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp)
[05:08:33] <niconii> though keep in mind there's nothing actually interesting on there yet :)
[05:09:44] *** Quits: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:10:26] *** Joins: srjek_ (srjek@moz-gg7i72.ece.uic.edu)
[05:10:26] *** Quits: srjek (srjek@moz-gg7i72.ece.uic.edu) (Connection closed)
[05:10:35] *** Joins: jedireza (textual@moz-allpoi.ca.comcast.net)
[05:10:37] *** Quits: wohiler (wohiler@moz-8id.6e1.62.133.IP) (Ping timeout: 121 seconds)
[05:10:39] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[05:10:44] <Havvy> !gh 25957
[05:10:44] <rustbot> [Issue 25957] <open> Better Error Message When Parsing Greek Question Mark (and similar confusing characters) <https://github.com/rust-lang/rust/issues/25957>
[05:11:27] *** Quits: vortex (vortex@moz-skqfhn.novotelecom.ru) (Ping timeout: 121 seconds)
[05:12:04] *** Joins: jnvsor (j@moz-1o1jrn.dynamic.ziggo.nl)
[05:12:04] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[05:12:18] <niconii> Havvy: nice!
[05:13:09] *** nsm|away is now known as nsm
[05:13:56] *** Joins: psy (psy@moz-c7n.hr7.224.43.IP)
[05:13:57] *** Quits: madez (madez@moz-klp.gs6.212.179.IP) (Connection closed)
[05:14:21] *** Quits: oal (oal@moz-0lm.qc2.255.130.IP) (A TLS packet with unexpected length was received.)
[05:14:41] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[05:15:52] <Havvy> playbot: let a =1;​ let b =2;
[05:15:53] -playbot- <anon>:9:18: 9:19 error: unknown start of token: \u{200b}
[05:15:53] -playbot- <anon>:9         let a =1;​ let b =2;
[05:15:53] -playbot- output truncated; full output at: http://bit.ly/1ER9EFV
[05:16:07] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (Ping timeout: 121 seconds)
[05:17:18] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:18:32] <StevenOnly> Guys, I hit a problem with reading from a file https://gist.github.com/SeiryuZ/c3250404ae9b7d82a291 . Any pointers on what I do wrong would be much appreciated :)
[05:19:49] <Moonlightning> 0x3a28213a, 0x6339392c, 0x7363682e  // StevenOnly
[05:20:54] <mayski_> har har har
[05:20:59] <StevenOnly> Moolightning "I hate you" 
[05:21:00] <StevenOnly> hahaha
[05:21:12] <StevenOnly> Moonlightning*
[05:22:43] <OmniMancer> Moonlightning: only 32bit pointers?
[05:22:43] *** Quits: pyon (pyon@moz-hpl.0ml.7.179.IP) (Ping timeout: 121 seconds)
[05:22:44] <niconii> StevenOnly: Ok(0) happens when you've hit the end of file or your buffer's size is 0
[05:22:58] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:23:02] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[05:23:52] <Moonlightning> StevenOnly: No you don't; you're just trying to incite drama.
[05:23:56] <Moonlightning> Stop, by the way.
[05:23:59] <niconii> StevenOnly: i think the issue here is that you are getting a bigger number than 0 initially, but it keeps looping so you get a ton of "Read 0", it scrolls too fast, and you never see the first part
[05:24:10] <StevenOnly> niconii, AH my bad, the terminal scrolls too fast
[05:24:11] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[05:24:38] *** Quits: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net) (Ping timeout: 121 seconds)
[05:24:49] <niconii> Moonlightning: i think StevenOnly said "I hate you" in a joking manner, hence the "hahaha"
[05:24:51] <Moonlightning> StevenOnly: `Err(_) | Read(0)`
[05:24:56] <frangio> it may be useful to pipe to less in a situation like that: `./file_read | less`
[05:25:05] <Moonlightning> niconii: They were quoting xkcd. So was I.
[05:25:15] <niconii> ahh
[05:25:28] *** Quits: dstrbad (dstrbad@moz-mecvuv.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[05:25:46] <niconii> but yeah, you wanna break on Ok(0) as well
[05:26:05] <niconii> that arm should be above the Ok(size) arm though
[05:26:13] <Moonlightning> Indeed.
[05:26:25] <niconii> because it just invokes the first one that matches
[05:26:37] <Moonlightning> Is there an official Rust styleguide?
[05:26:38] <StevenOnly> niconii: Got it! Thanks man, also Moonlightning and frangio thanks :D
[05:27:02] <Havvy> Who is sfackler on IRC?
[05:27:21] <Moonlightning> Because I think I like `let mut buffer: [u8]` better
[05:28:07] <frangio> Moonlightning: https://github.com/rust-lang/rust/tree/master/src/doc/style
[05:30:00] *** Quits: crisco_ (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[05:30:16] <niconii> Havvy: sfackler is sfackler
[05:30:36] <niconii> Havvy: and is in #rust right now, actually
[05:30:47] <Havvy> Oh.
[05:30:56] <Havvy> I should have checked that. Derp.
[05:31:12] *** Quits: tchosky (tchosky@moz-bhfcsd.8rnv.rggd.6180.2400.IP) (Quit: This computer has gone to sleep)
[05:31:15] *** Joins: crisco (crisco@moz-9ep.2hu.34.110.IP)
[05:33:14] *** Joins: madez (madez@moz-klp.gs6.212.179.IP)
[05:33:15] <sfackler> whatup
[05:33:33] *** Quits: Outlander (Mr@moz-8l3b10.iinet.net.au) (Connection closed)
[05:33:36] *** Quits: madez (madez@moz-klp.gs6.212.179.IP) (Connection closed)
[05:33:38] <Havvy> Just wanted to say thanks for the work you do. :D
[05:33:51] <sfackler> thanks :)
[05:33:53] <Havvy> But I never see you on IRC, so I thought you might have gone by another name.
[05:33:54] *** Joins: madez (madez@moz-klp.gs6.212.179.IP)
[05:34:33] *** Quits: madez (madez@moz-klp.gs6.212.179.IP) (Quit: Saindo)
[05:34:46] <Moonlightning> Avoid block comments?!
[05:34:47] <Moonlightning> AUGH
[05:35:00] <Moonlightning> I hate languages that have a specific kind of comment, but tell you to never use it
[05:35:05] <Moonlightning> /Why do you have it, then?!/
[05:35:09] *** Joins: madalynn (Mibbit@moz-7j98vi.mi.charter.com)
[05:35:21] *** Joins: mib_0fdqfo (Mibbit@moz-gn0vp5.ca.comcast.net)
[05:35:21] *** Quits: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi) (Connection closed)
[05:35:24] <madalynn> hellp
[05:35:29] <Mutabah> Moonlightning: What says that?
[05:35:31] <p1start> Moonlightning: You’re allowed to use it to comment out blocks of code for testing etc.
[05:35:40] <Mutabah> And yeah, what p1start said
[05:35:45] <p1start> Just not for permanent comments and docs
[05:35:48] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[05:35:54] <Mutabah> Block commenting is bad becuase it doesn't show up in diffs well
[05:36:10] <Mutabah> That said, for inline comments, it's nice
[05:36:17] <Mutabah> (i.e. when you need to comment out part of a line)
[05:36:24] <Moonlightning> …are you really going to comment out a block of code, and then push that to a permanent branch?
[05:36:52] <p1start> Moonlightning: No, that’s the point
[05:37:01] <Mutabah> madalynn: Just saying "hellp" doesn't do much, maybe ask a question?
[05:37:07] *** Joins: grodan (Mibbit@moz-o5eg8b.bredband.comhem.se)
[05:37:16] <p1start> That’s (partly) why you *are* ‘allowed’ to comment out blocks of code temporarily
[05:37:22] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:37:25] *** Quits: madalynn (Mibbit@moz-7j98vi.mi.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:37:56] <Quxxy> Moonlightning: I ignore the style guide on that and use block comments all over the place
[05:38:25] <Quxxy> I've never met an editor that did the "treat line comments as block comments" thing properly, and I refuse to waste time faffing about with meticulously reformatting comments
[05:39:00] <Mutabah> Yeah, I tend to take the style guide as just that, a guide
[05:39:01] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[05:39:06] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[05:39:07] *** Quits: mib_0fdqfo (Mibbit@moz-gn0vp5.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:39:11] <Mutabah> Where it makes sense to me, I throw it to the wind
[05:39:15] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[05:39:22] <Mutabah> (e.g. I'm a pragmatic supporter of tabs)
[05:40:01] *** Quits: eckhardt (eckhardt@moz-0b0.bm2.248.98.IP) (Quit: Leaving...)
[05:40:06] *** Quits: OmniMancer (omnimancer@moz-7jd.t80.149.118.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[05:42:16] *** Joins: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net)
[05:42:34] *** Quits: zeittunnel (2342342342@moz-euiuua.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[05:42:46] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:42:54] *** Joins: zeittunnel (2342342342@moz-sf7tgj.dip0.t-ipconnect.de)
[05:43:38] <Moonlightning> Why, Mutabah?
[05:43:46] <Moonlightning> I used to do tabs everywhere. Now I do spaces everywhere
[05:44:08] *** Joins: tchosky (tchosky@moz-bhfcsd.8rnv.rggd.6180.2400.IP)
[05:44:16] * Mutabah takes to -offtopic
[05:44:27] <Mutabah> Moonlightning: Join #rust-offtopic
[05:45:01] *** Joins: andresv (textual@moz-cmffkg.cable.starman.ee)
[05:45:12] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:46:29] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:46:46] *** Joins: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi)
[05:47:37] *** Quits: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net) (Ping timeout: 121 seconds)
[05:48:06] <aatch> Man, doing bitwise operations for Ramp is harder than I thought it'd be, since they behave as if they're stored in twos-complement.
[05:48:19] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[05:48:34] <Moonlightning> Ramp?
[05:48:36] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:48:43] <aatch> !crate ramp
[05:48:44] <rustbot> ramp (0.1.5) - A high-performance multiple-precision arithmetic library -> https://crates.io/crates/ramp
[05:48:54] *** Quits: grant (grant@moz-jfh.0nq.187.64.IP) (Client exited)
[05:49:17] *** Joins: ville (ville@moz-nadkam.elisa-laajakaista.fi)
[05:49:26] <aatch> Moonlightning, ^^^
[05:49:53] *** Joins: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net)
[05:50:06] *** Joins: loyd (loyd@moz-jsb.32f.108.213.IP)
[05:50:06] *** Joins: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp)
[05:50:32] <Mutabah> Awww yeah - https://github.com/thepowersgang/rust_os/blob/master/Kernel/Core/lib/mem/grc.rs#L176-L218
[05:50:43] <Mutabah> 1. Abstracted Rc/Arc into a generic
[05:50:49] <Moonlightning> Ohay, aatch wrote that
[05:51:10] <Mutabah> 2. Allows constructing an Arc<[T]> from Itererator<Item=T>: ExactSizeIterator
[05:51:21] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[05:51:26] <Kingsquee> is there any downside to having extern crate declarations in child modules, rather than the root module?
[05:51:35] <Mutabah> Kingsquee: Confusion?
[05:51:46] <Kingsquee> Mutabah: technical downsides, I mean :P
[05:51:48] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[05:51:50] <Mutabah> I don't know of any really
[05:51:54] <Kingsquee> alright
[05:52:20] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[05:52:21] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[05:54:01] <Moonlightning> Kingsquee: well, confusion is TECHNICALLY a downside… :p
[05:54:07] *** Quits: grodan (Mibbit@moz-o5eg8b.bredband.comhem.se) (Quit: http://www.mibbit.com ajax IRC Client)
[05:54:14] <Kingsquee> Moonlightning: well yeah :P
[05:54:19] *** Quits: jedireza (textual@moz-allpoi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:54:24] <Kingsquee> but it shouldn't be confusing the way I'm using it
[05:54:44] <myname> famous last words
[05:54:52] <Kingsquee> watch this space
[05:55:09] <Kingsquee> I'll remember you on the red carpet
[05:55:35] <Moonlightning> Why do all the operations on `ramp::ramp::Int`s consume? O.o
[05:55:50] <Moonlightning> …Rust doesn't have separate methods for augmented operators, huh
[05:56:17] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[05:56:18] *** Joins: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com)
[05:56:38] <Moonlightning> That's slightly annoying in this usecase
[05:56:47] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:56:57] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:57:33] <aatch> Moonlightning, there's overloaded ops for by-ref too.
[05:57:47] <aatch> Moonlightning, I tried to make it as easy as possible to work with.
[05:58:04] <Kingsquee> hmm
[05:58:09] <Moonlightning> a + b    // consumes
[05:58:14] <Moonlightning> &a + &b  // doesn't consume
[05:58:17] <Kingsquee> use a::b; looks a lot nicer than extern crate a; use self::a::b; though
[05:58:44] *** Joins: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net)
[05:58:48] <Moonlightning> That feels odd and unintuitive
[05:59:23] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:59:34] <aatch> Moonlightning, well it's either that or 1) tons of unnecessary copying or 2) putting `clone` everywhere.
[05:59:58] *** Quits: aatch (james@moz-5r41gb.6pd7.20lj.e000.2406.IP) (Connection closed)
[06:00:48] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[06:02:34] *** Joins: wohiler (wohiler@moz-8id.6e1.62.133.IP)
[06:03:06] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[06:03:15] *** Quits: mocx (mocx@moz-9r990q.io) (Quit: ZNC - 1.6.0 - http://znc.in)
[06:03:29] *** Joins: mocx (mocx@moz-9r990q.io)
[06:03:30] *** Quits: c0170 (c0170@moz-4stj9o.cable.virginm.net) (Ping timeout: 121 seconds)
[06:04:30] *** Joins: arBmind (Andreas@moz-fn4c63.dyn.telefonica.de)
[06:04:40] *** Quits: mocx (mocx@moz-9r990q.io) (Quit: ZNC - 1.6.0 - http://znc.in)
[06:04:51] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[06:06:13] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[06:06:40] *** Quits: Havvy (Havvy@moz-epv20b.wa.comcast.net) (Connection closed)
[06:07:44] *** Joins: mocx (mocx@moz-9r990q.io)
[06:07:46] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:07:48] *** Joins: Havvy (Havvy@moz-2v0ao2.5euu.k9bm.0007.2601.IP)
[06:08:57] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[06:09:15] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[06:09:26] *** Quits: playjax (chatzilla@moz-udognc.optusnet.com.au) (Ping timeout: 121 seconds)
[06:10:34] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[06:11:22] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[06:11:47] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Client exited)
[06:11:52] *** Joins: __mark__ (mark@moz-udut16.dynamic.chello.pl)
[06:12:06] *** Quits: andresv (textual@moz-cmffkg.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:12:07] *** Quits: jnvsor (j@moz-1o1jrn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[06:12:46] *** Joins: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net)
[06:12:52] *** Joins: andresv (textual@moz-cmffkg.cable.starman.ee)
[06:13:17] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[06:13:24] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[06:13:34] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Connection closed)
[06:14:01] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[06:14:35] *** Quits: choplin (choplin@moz-10k.4df.82.157.IP) (Connection closed)
[06:14:51] *** Joins: crisco_ (crisco@moz-a8r.0c9.164.61.IP)
[06:15:11] *** Joins: bombless_ (bombless@moz-ivg.red.21.116.IP)
[06:15:25] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[06:15:35] *** nsm is now known as nsm|away
[06:15:46] *** Joins: crisco__ (crisco@moz-f5a.efk.198.67.IP)
[06:16:09] *** Joins: hatman_ (Mibbit@moz-osq.om2.147.149.IP)
[06:16:19] *** Quits: andresv (textual@moz-cmffkg.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:16:35] <hatman_> Can spawned threads be killed by their parents?
[06:16:47] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[06:17:09] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[06:17:12] <huon> no
[06:17:36] *** Joins: choplin (choplin@moz-10k.4df.82.157.IP)
[06:17:42] <hatman_> Any way around it? The thread is blocking, and I cant use channels 
[06:17:45] *** Quits: bombless (bombless@moz-pk7.rup.13.122.IP) (Ping timeout: 121 seconds)
[06:17:50] *** Quits: crisco (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[06:17:59] *** Quits: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:18:37] <huon> not really
[06:18:47] *** Joins: dkreuter (knizz@moz-2rt22h.cust.tele2.at)
[06:18:57] <hatman_> :( Ok. Thank you huon.
[06:19:00] *** Quits: crisco_ (crisco@moz-a8r.0c9.164.61.IP) (Ping timeout: 121 seconds)
[06:19:02] *** Quits: StevenOnly (steven@moz-cbf.jlg.192.139.IP) (Quit: Leaving.)
[06:19:11] *** Quits: hatman_ (Mibbit@moz-osq.om2.147.149.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:19:26] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (Ping timeout: 121 seconds)
[06:20:08] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[06:20:41] <niconii> 01:15 < hatman_> Can spawned threads be killed by their parents?
[06:20:47] <niconii> i wonder how this looks to a non-programmer...
[06:21:31] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[06:21:56] *** Joins: minot_afk (minot@moz-r0m4ta.minotstateu.edu)
[06:22:52] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[06:23:03] <dkreuter> I want to implement an operator for a struct and have self and rhs as reference. Apprently I'm doing it wrong: http://is.gd/fiJxXZ
[06:23:22] <dkreuter> >impl<'a, 'b> BitAnd<&'a X> for &'b X { type Output = X; fn bitand(&self, rhs: &X) -> X { …
[06:23:31] *** Joins: espadrine_ (tyl@moz-l019mn.fbx.proxad.net)
[06:23:52] *** Joins: grodan (Mibbit@moz-o5eg8b.bredband.comhem.se)
[06:24:05] *** Joins: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp)
[06:24:15] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[06:24:34] *** Quits: minot (minot@moz-r0m4ta.minotstateu.edu) (Ping timeout: 121 seconds)
[06:26:28] *** Quits: __ixti__ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[06:26:33] <niconii> dkreuter: Self is &'b X here, so you want `self`, not `&self`
[06:26:51] <niconii> dkreuter: http://is.gd/ScT4AO
[06:27:19] <dkreuter> niconii, is there no way to get a reference to self?
[06:27:54] <niconii> dkreuter: BitAnd::bitand() is defined as using `self`, not `&self`
[06:28:11] <dkreuter> what if I can't afford to move "a" in "a & b"
[06:28:31] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[06:28:42] <niconii> dkreuter: then you can implement it on &X, which is exactly what you're doing
[06:28:54] <dkreuter> o_O
[06:29:00] <dkreuter> oh wait
[06:29:14] <dkreuter> I write "self", but Self is &X, so I have a reference type anyway
[06:29:20] <niconii> dkreuter: yes
[06:29:30] <dkreuter> thank you
[06:29:34] <niconii> dkreuter: no problem
[06:30:38] <niconii> dkreuter: keep in mind you do have to explicitly do &X(123) & &X(456), though, it won't automatically add the references
[06:31:01] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:31:03] <dkreuter> one more thing
[06:31:03] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[06:31:11] <dkreuter> if I did
[06:31:18] <dkreuter> impl<'a> BitAnd for &'a X
[06:31:20] <dkreuter> instead of
[06:31:20] <dkreuter> impl<'a, 'b> BitAnd<&'a X> for &'b X
[06:31:23] <dkreuter> would that be a problem?
[06:31:33] <dkreuter> the default for RHS is self
[06:31:36] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Ping timeout: 121 seconds)
[06:31:41] <dkreuter> so it would be equivalent to
[06:31:48] <dkreuter> impl<'a> BitAnd<&'a X> for &'a X
[06:32:03] *** Quits: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net) (Connection closed)
[06:32:04] <dkreuter> but I don't mention these lifetimes anywhere else anyway
[06:32:37] *** Quits: joh (uid13099@moz-2c7ap3.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[06:32:43] <mindtree> what does `yanked` mean here (next to version 0.2.0 under the Versions header) https://crates.io/crates/bitflags
[06:33:06] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:33:16] *** Joins: michaeljdennis (michaeljden@moz-jl60oh.res.rr.com)
[06:33:17] *** Quits: michaeljdennis (michaeljden@moz-jl60oh.res.rr.com) (Quit: )
[06:33:17] <niconii> dkreuter: for this example, there's no problem; not sure if there's a situation where it would be
[06:33:26] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Client exited)
[06:33:28] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[06:34:00] <niconii> mindtree: as in "revoked"
[06:34:18] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[06:34:19] <mindtree> niconii: right, I didn't realise it was possible to do so
[06:34:26] <niconii> mindtree: if you click it you'll note it doesn't have a page, unlike the other versions
[06:36:48] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[06:36:59] *** Joins: slomo (slomo@moz-p8m0g2.net)
[06:38:19] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[06:39:12] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[06:39:18] *** Quits: zimbatm (zimbatm@moz-f37kde.com) (Quit: Bye)
[06:39:28] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[06:40:50] *** Joins: wipeD (wipeD@moz-qpl281.dip0.t-ipconnect.de)
[06:41:11] *** Joins: zimbatm (zimbatm@moz-f37kde.com)
[06:42:13] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[06:42:47] *** Joins: thalleralexander (thalleralex@moz-cfcrtj.static.qsc.de)
[06:43:05] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[06:43:17] *** Joins: EspressoDan (EspressoDan@moz-gnsthu.dynamic.ashlandfiber.net)
[06:45:38] *** Quits: frangio (frangio@moz-04sgf8.fibertel.com.ar) (Client exited)
[06:46:07] *** Joins: frangio (frangio@moz-04sgf8.fibertel.com.ar)
[06:46:23] *** Quits: frangio (frangio@moz-04sgf8.fibertel.com.ar) (Client exited)
[06:46:57] *** Joins: jviereck (Adium@moz-ttiap2.dip0.t-ipconnect.de)
[06:47:00] *** Joins: alk (alk@moz-ca9n1r.3a32.t5om.0e34.2a01.IP)
[06:47:10] *** Quits: tchosky (tchosky@moz-bhfcsd.8rnv.rggd.6180.2400.IP) (Quit: This computer has gone to sleep)
[06:47:11] *** Quits: jacor (jacor@moz-aq6q4f.ant0.oo2o.0007.2601.IP) (Connection closed)
[06:47:24] *** Joins: jacor (jacor@moz-aq6q4f.ant0.oo2o.0007.2601.IP)
[06:47:35] *** Quits: kanru (kanru@moz-2hf62a.HINET-IP.hinet.net) (A TLS packet with unexpected length was received.)
[06:47:44] <mindtree> judging between the time it takes travis to build on both nightly and stable branches, it looks like like compilation on the latest nightly takes about ~70% of the time it takes on 1.0.0
[06:47:56] *** Joins: turtil_ (turtil@moz-98pgrn.orcon.net.nz)
[06:48:39] *** Joins: kushal (kdas@moz-so4.f0d.244.121.IP)
[06:48:48] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:49:13] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[06:49:52] <bstrie> mindtree: there's definitely been a lot of big wins in compilation time, awesome that it's noticeable
[06:49:59] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[06:50:02] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:50:17] *** Joins: alaska_ (alaska@moz-8bdjem.fios.verizon.net)
[06:50:57] *** Quits: alaska (alaska@moz-8bdjem.fios.verizon.net) (Connection closed)
[06:51:02] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Ping timeout: 121 seconds)
[06:51:11] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[06:51:17] *** Joins: kanru (kanru@moz-aj9ejj.HINET-IP.hinet.net)
[06:51:17] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:52:06] <dkreuter> how do I query the Output type of a binary operation that I only defined over references?
[06:52:09] <dkreuter> I tried <&T as BitAnd<&T>>::Output
[06:52:19] <dkreuter> but it needs a lifetime at the second spo
[06:52:20] *** Quits: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:52:21] <dkreuter> *spot
[06:52:48] *** Joins: Gabriel_7 (Gabriel@moz-po3t0n.loria.fr)
[06:53:17] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[06:53:18] *** Quits: grodan (Mibbit@moz-o5eg8b.bredband.comhem.se) (Quit: http://www.mibbit.com ajax IRC Client)
[06:54:51] *** Quits: gopar (gopar@moz-is8mm6.m2vj.kpnp.0009.2601.IP) (Quit: Leaving)
[06:55:01] *** Quits: calp (calp@moz-3g06if.com) (Quit: ZNC - http://znc.in)
[06:55:27] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[06:55:46] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[06:56:02] *** Quits: loyd (loyd@moz-jsb.32f.108.213.IP) (Ping timeout: 121 seconds)
[06:56:23] *** Joins: calp (calp@moz-3g06if.com)
[06:56:38] <Mutabah> dkreuter: Try omitting the argument to BitAnd?
[06:56:47] <Mutabah> (it'll default to Self)
[06:56:48] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[06:56:50] *** Joins: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP)
[06:57:16] <dkreuter> Mutabah, I can try that, what would I do if the RHS did have a different type?
[06:57:40] <Mutabah> Possibly "for<'a> BitAnd<&'a T>"
[06:57:43] <Mutabah> (not sure about that)
[06:57:55] *** Quits: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[06:57:57] <dkreuter> Murarth, I just tried that
[06:58:23] *** Joins: jakevn (jakevn@moz-0agbgk.miamfl.sbcglobal.net)
[06:58:26] <dkreuter> by that I mean omitting argument
[06:58:34] *** Quits: ukarlsson (ukarlsson@moz-jhs6q1.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[06:58:36] <dkreuter> Self doesn't have a lifetime either
[06:58:39] <dkreuter> so same problem
[06:58:42] <Mutabah> Murarth: Damn you, you're one letter (an adjacent letter) away from my nick.
[06:58:43] *** Joins: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP)
[06:59:09] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[06:59:26] <dkreuter> oh damn
[06:59:33] <dkreuter> didn't even see the difference
[06:59:50] <Mutabah> Same first two letters, same last, and same length
[06:59:55] <Mutabah> An annoying coincidence
[07:00:07] <dkreuter> don't forget, >same color in IRC
[07:00:12] <dkreuter> it happens
[07:00:15] <Mutabah> that's your client, and ouch
[07:00:29] *** Joins: mbudde (mbudde@moz-vmd8oc.customer.tdc.net)
[07:00:40] <dkreuter> Mutabah, do you know where the for<'a> syntax is documented?
[07:00:49] <dkreuter> 'cause I can't find it
[07:00:52] *** Joins: Ven (Ven@moz-vrb.ddg.5.163.IP)
[07:01:09] <dkreuter> maybe I clone the RFCs for grepping
[07:01:11] <Mutabah> dkreuter: Probably in an RFC
[07:01:19] <dkreuter> hah, okay
[07:01:25] *** Joins: south_fish (south_fish@moz-v21.spo.147.217.IP)
[07:02:11] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:02:13] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[07:02:30] *** Quits: jakevn (jakevn@moz-0agbgk.miamfl.sbcglobal.net) (Ping timeout: 121 seconds)
[07:02:46] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:04:13] <dcb> Is it possible to call a macro defined in another crate inside a macro definition?  I'm getting a strange "unexepected end of macro invocation" error
[07:05:21] <Mutabah> dcb: Should be able to?
[07:05:23] <dcb> I'm not trying to do anything too fancy, just combine the try! and warn! macros: http://is.gd/573yQP
[07:06:14] *** Quits: daschl (Adium@moz-l27udn.us.xo.net) (Quit: Leaving.)
[07:06:45] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[07:06:48] <Mutabah> dcb: What's the signature of warn!
[07:07:10] <dcb> Mutabah: http://doc.rust-lang.org/log/src/log/macros.rs.html#57
[07:07:18] <Mutabah> :/ tt*
[07:07:38] <dcb> Mutabah: sorry?
[07:08:50] <dcb> this is the error:
[07:08:52] <dcb> <log macros>:4:35: 4:36 error: unexpected end of macro invocation
[07:08:52] <dcb> <log macros>:4 log ! ( $ crate:: LogLevel:: Warn , $ ( $ arg ) * ) ; )
[07:09:05] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:09:05] <Mutabah> dcb: Not running it yet
[07:09:09] <dcb> so I guess it's expanding the warn! macro and not liking what it sees
[07:09:24] <Quxxy> Why does *no one* ever paste the last line of the error message that shows which *specific* bit of the line is the error? :P
[07:09:43] <dcb> Quxxy: if that is directed at me, the line does not exist
[07:09:53] *** Joins: alonlevy (alon@moz-cs9.hsq.154.31.IP)
[07:10:05] <Quxxy> dcb: That's a very understandable reason, but it's a depressingly common trend on errors that *do* have it :D
[07:10:37] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[07:10:41] *** Joins: kaeluka (kaeluka@moz-6cbr2p.cust.bredbandsbolaget.se)
[07:10:46] <dcb> Quxxy: wouldn't it typically be in code that isn't necessarily public?
[07:11:07] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[07:11:07] <Quxxy> dcb: The macro appears to work fine in playpen, if I add enough to actually use try_warn
[07:11:47] <dcb> Yah, I got it to work locally too by pasting in definitions for warn! and log!, which was why my original question was about macro visibility across crates
[07:12:02] <Quxxy> http://is.gd/TyQRL8
[07:12:09] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[07:12:22] <Quxxy> I dunno about across crates, but I can't recall ever having an "unexpected end of macro invocation" problem because of it
[07:12:36] <Quxxy> I've had that problem for *different* reasons, though
[07:13:13] <Quxxy> The stupidly frequent one is using assert_eq!(f(a, b)) instead of assert_eq!(f(a), b)
[07:13:26] *** Joins: daschl (Adium@moz-l27udn.us.xo.net)
[07:13:28] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[07:14:38] *** Joins: dstrbad (dstrbad@moz-qafqkb.cable.xnet.hr)
[07:14:51] *** Quits: alaska_ (alaska@moz-8bdjem.fios.verizon.net) (A TLS packet with unexpected length was received.)
[07:15:43] <Mutabah> dcb: wfm
[07:16:11] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[07:16:27] <dcb> Quxxy, Mutabah: yes for me to.  I think I was getting it because I was calling it incorrectly in a totally different file.  Didn't occur to me that rustc wouldn't point towards that file.  Thanks!
[07:16:37] *** Quits: tetsuharu (tetsuharu@moz-r5j.l6d.168.210.IP) (A TLS packet with unexpected length was received.)
[07:16:49] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:16:51] *** Quits: kgrandon (Adium@moz-knftsu.hjek.d045.0009.2601.IP) (Quit: Leaving.)
[07:17:10] <Mutabah> dcb: It will point at the source location, but will point at the error in the expansion
[07:17:34] *** Quits: alonlevy (alon@moz-cs9.hsq.154.31.IP) (Ping timeout: 121 seconds)
[07:18:14] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[07:18:26] *** Joins: {AS} (uid45026@moz-gt5061.highgate.irccloud.com)
[07:18:36] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[07:18:37] <dcb> Mutabah: nope :) http://is.gd/Yz6NkC
[07:19:00] *** Joins: PTStomp (paul@moz-rn5jn1.exetel.com.au)
[07:19:02] <woboats> Why does a mutable borrow used in an if let also overlap with the else block?
[07:19:19] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[07:19:48] <Quxxy> woboats: Because the borrow checker is a little overly conservative
[07:20:02] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[07:20:06] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[07:20:11] <woboats> Is that actually the reason or is there a real reason?
[07:20:23] <Quxxy> I believe it falls under the umbrella of "things we'd like borrowck to *not* complain about, but can be worked around, so can be put off for now"
[07:20:26] <Mutabah> dcb: huh
[07:20:50] <dcb> hence my immense confusion :)
[07:21:20] <Mutabah> dcb: Are you actually using the crates.io log crate?
[07:21:27] <Mutabah> (curiosity)
[07:21:38] <dcb> Mutabah: es
[07:21:41] <dcb> yes
[07:21:51] <woboats> What is the recommended way to perform a pattern like update or create on a map?
[07:21:54] <Mutabah> huh... then I dunno
[07:21:59] <bombless_> Is there vim plugin for rustfmt?
[07:22:00] <Mutabah> woboats: use entry()
[07:22:06] *** Joins: ebel_ (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de)
[07:22:13] *** bombless_ is now known as bombless
[07:22:30] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[07:22:44] <woboats> Mutabah, well how about that :)
[07:22:46] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Quit: My laptop has gone to sleep. ZZZzzz…)
[07:22:52] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:23:27] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[07:24:10] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[07:24:27] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Connection closed)
[07:25:14] *** Quits: asmodeius (asmodeius@moz-vhv.7vr.156.149.IP) (Connection closed)
[07:26:23] *** Quits: turtil (turtil@moz-gfc.es4.23.103.IP) (Ping timeout: 121 seconds)
[07:26:56] *** Quits: chao-tic (chao@moz-258.4aj.101.218.IP) (Quit: WeeChat 1.0.1)
[07:26:58] *** Quits: turtil_ (turtil@moz-98pgrn.orcon.net.nz) (Ping timeout: 121 seconds)
[07:27:14] *** Joins: hroi (hroi@moz-92kqno.ngdc.dk)
[07:28:15] *** Quits: daschl (Adium@moz-l27udn.us.xo.net) (Quit: Leaving.)
[07:29:21] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[07:29:27] *** Quits: jviereck (Adium@moz-ttiap2.dip0.t-ipconnect.de) (Quit: Leaving.)
[07:33:14] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Connection closed)
[07:34:44] *** Joins: loyd (loyd@moz-jsb.32f.108.213.IP)
[07:35:27] *** Quits: untitaker (untitaker@moz-vi85sk.highway.telekom.at) (Ping timeout: 121 seconds)
[07:37:27] *** Quits: hroi (hroi@moz-92kqno.ngdc.dk) (Ping timeout: 121 seconds)
[07:37:39] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:37:47] *** Joins: yati (yati@moz-nm0.mvf.227.110.IP)
[07:38:05] *** Joins: jviereck (Adium@moz-ttiap2.dip0.t-ipconnect.de)
[07:38:29] *** Joins: untitaker (untitaker@moz-kfk69v.highway.telekom.at)
[07:38:48] *** Joins: jviereck1 (Adium@moz-ttiap2.dip0.t-ipconnect.de)
[07:38:51] *** Quits: jviereck (Adium@moz-ttiap2.dip0.t-ipconnect.de) (Connection closed)
[07:41:04] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[07:41:47] <bltavares> is it ok if I define my main fn as pub? I noticed that it stops with the unused code warnings when running the tests
[07:42:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:43:13] <Mutabah> bltavares: It does, but you can also put #[cfg(not(test))] on it too
[07:44:08] *** Quits: dstrbad (dstrbad@moz-qafqkb.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[07:44:54] *** Quits: desophos (desophos@moz-ko6vko.98ku.27p0.6000.2606.IP) (Connection closed)
[07:45:11] *** Joins: anon22_fr (textual@moz-qgp.r5i.151.91.IP)
[07:46:14] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[07:46:29] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[07:47:02] *** Quits: alk (alk@moz-ca9n1r.3a32.t5om.0e34.2a01.IP) (Ping timeout: 121 seconds)
[07:47:05] *** Joins: hroi (hroi@moz-92kqno.ngdc.dk)
[07:47:56] *** Quits: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP) (A TLS packet with unexpected length was received.)
[07:48:13] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:48:41] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[07:49:10] *** Quits: jviereck1 (Adium@moz-ttiap2.dip0.t-ipconnect.de) (Quit: Leaving.)
[07:49:35] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[07:50:23] <bltavares> I was just wondering if there was any drawbacks of marking the main as pub
[07:50:42] <bltavares> I find it shorter and less dirty than adding the cfg pragma
[07:50:46] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[07:50:59] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:51:11] *** Quits: hroi (hroi@moz-92kqno.ngdc.dk) (Ping timeout: 121 seconds)
[07:51:35] <Mutabah> bltavares: You don't get the unused code lint on stuff called by main
[07:51:40] <yati> Can traits not have default implementations (or definitions) of certain things as defaults? e.g., https://play.rust-lang.org/
[07:52:03] <roido> jauhien: ping
[07:52:04] <Mutabah> yati: Trait methods can have defauly impls
[07:52:10] <yati> Sorry http://is.gd/B6umok
[07:52:22] <Mutabah> (But they're restricted by the avaliable methods)
[07:52:28] <bltavares> Mutabah: hum, I see. thanks
[07:52:43] *** Joins: turtil_ (turtil@moz-98pgrn.orcon.net.nz)
[07:52:45] <yati> Mutabah, So I have a couple of types, one of which is a reasonable default using the other.
[07:52:59] <yati> Mutabah, but implers are free to change both, of course.
[07:53:27] <yati> This doesn't seem to fly -- It wants me to redefine both types in the impl as well.
[07:53:35] <Mutabah> Yes, this is a little odd
[07:53:57] *** Quits: anon22_fr (textual@moz-qgp.r5i.151.91.IP) (Quit: Textual IRC Client: www.textualapp.com)
[07:54:04] <Mutabah> Not sure what the intended behavior is. There could be difficulties in making this work
[07:54:07] *** Joins: hroi (hroi@moz-92kqno.ngdc.dk)
[07:54:30] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[07:54:33] *** Joins: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP)
[07:54:43] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[07:54:52] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Ping timeout: 121 seconds)
[07:55:01] *** Joins: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net)
[07:55:13] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[07:55:14] *** Joins: __ixti__ (ixti@moz-ce0.vh7.60.47.IP)
[07:56:08] *** Quits: turtil_ (turtil@moz-98pgrn.orcon.net.nz) (Quit: WeeChat 1.2)
[07:56:14] *** Joins: turtil (turtil@moz-98pgrn.orcon.net.nz)
[07:56:49] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:57:05] *** Quits: Kxepal (Miranda@moz-082iv9.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[07:57:38] *** Quits: psy (psy@moz-c7n.hr7.224.43.IP) (Ping timeout: 121 seconds)
[07:58:12] *** Joins: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP)
[07:58:25] *** Joins: Kxepal (Miranda@moz-et10ht.pppoe.mtu-net.ru)
[07:58:27] *** Quits: moa (Cedric@moz-af6r18.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[07:58:38] *** Joins: wohiler_ (wohiler@moz-8id.6e1.62.133.IP)
[07:59:18] *** Quits: __ixti__ (ixti@moz-ce0.vh7.60.47.IP) (Ping timeout: 121 seconds)
[07:59:34] *** Quits: wohiler (wohiler@moz-8id.6e1.62.133.IP) (Ping timeout: 121 seconds)
[07:59:49] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[08:00:33] *** Joins: oal (oal@moz-0lm.qc2.255.130.IP)
[08:00:42] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[08:00:59] *** Quits: zakedodead (zakedodead@moz-cg5.c4k.214.206.IP) (Ping timeout: 121 seconds)
[08:01:03] <Mutabah> Is there any way of bounding a type to be a trait object? (I.e. make &T be a fat pointer)
[08:01:51] *** Joins: basp (Bas@moz-g14dnk.holcom.nl)
[08:02:07] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[08:02:16] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[08:02:30] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[08:02:41] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:02:46] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:03:15] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[08:04:29] *** Joins: }ls{ (uhelp@moz-poe133.dip0.t-ipconnect.de)
[08:04:42] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:05:02] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[08:05:06] *** Joins: Ms2ger (Ms2ger@moz-m6e.01d.182.91.IP)
[08:05:10] *** Joins: eddyb (eddyb@moz-e8s.ur8.27.188.IP)
[08:05:59] <dcb> I
[08:06:05] <dcb> Charly18
[08:06:10] <dcb> I
[08:06:19] <Mutabah> dcb: umm..
[08:08:10] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[08:08:26] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[08:08:53] *** Joins: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP)
[08:09:06] *** Joins: andresv (textual@moz-cmffkg.cable.starman.ee)
[08:09:44] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Quit: leaving)
[08:10:19] *** Quits: errordeveloper (ilya@moz-ono.0eu.201.90.IP) (Ping timeout: 121 seconds)
[08:10:35] *** Joins: timonv (timonv@moz-1qu311.dynamic.ziggo.nl)
[08:12:48] *** Joins: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net)
[08:12:50] *** Quits: espadrine_ (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[08:12:54] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[08:13:38] *** Quits: jdub (jdub@moz-ib4nsl.internode.on.net) (Ping timeout: 121 seconds)
[08:13:55] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[08:13:58] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[08:15:09] *** Joins: dstrbad (dstrbad@moz-qafqkb.cable.xnet.hr)
[08:15:14] *** Joins: alaska (alaska@moz-8bdjem.fios.verizon.net)
[08:15:32] *** Quits: andresv (textual@moz-cmffkg.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:15:40] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[08:15:41] <niconii> Mutabah: if !Sized worked you could probably do something like <T: !Sized> and then &T, but
[08:15:44] <niconii> other than that i don'
[08:15:46] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[08:15:47] <niconii> don't think so
[08:16:32] *** Joins: jdub (jdub@moz-ac2r9q.internode.on.net)
[08:16:49] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[08:16:56] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[08:17:12] *** Joins: michas (michas@moz-7d87dj.web.vodafone.de)
[08:17:34] *** darkowlzz|afk is now known as darkowlzz
[08:17:51] *** Joins: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP)
[08:18:04] *** Joins: ukarlsson (ukarlsson@moz-lq8mt0.clq1.sjcg.02b0.2a01.IP)
[08:18:28] *** Joins: Funkill[wrk] (Funkill@moz-pmt.89o.175.79.IP)
[08:18:57] <Mutabah> niconii: Bother
[08:19:00] *** Joins: red75prime (Mibbit@moz-j30.8r4.78.95.IP)
[08:19:11] <eddyb> what is this about?
[08:19:18] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[08:19:29] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[08:19:51] *** Joins: ziocroc (ziocroc@moz-bfu.33o.74.151.IP)
[08:20:01] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[08:20:02] *** Quits: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[08:20:17] *** Joins: Guest38 (textual@moz-j72nfe.ca.comcast.net)
[08:20:28] *** Joins: Porkepix (Porkepix@moz-q59.m4a.208.91.IP)
[08:20:37] *** Joins: skade (skade@moz-4eh.d50.201.212.IP)
[08:20:42] *** Joins: akiss (akiss@moz-kij.q96.114.160.IP)
[08:20:57] *** Joins: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net)
[08:21:11] *** Quits: alaska (alaska@moz-8bdjem.fios.verizon.net) (Ping timeout: 121 seconds)
[08:22:09] <Manishearth> niconii: what is T: !Sized?
[08:22:15] <Manishearth> oh wait
[08:22:18] <Manishearth> yeah I see
[08:22:48] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:22:59] *** Quits: arBmind (Andreas@moz-fn4c63.dyn.telefonica.de) (Quit: Leaving.)
[08:23:05] *** Joins: sample (Mibbit@moz-6h3.3ma.199.128.IP)
[08:23:12] <sample> hello all!
[08:23:14] <Mutabah> Manishearth: Yeah, I want to operate on trait objects only atm. So wanted a way to have &T be 2*ptr
[08:23:26] <eddyb> Mutabah: trait objects are not limited to that
[08:23:38] <eddyb> only &[T] where T: Sized
[08:23:44] *** Parts: CMCDragonkai (nobody@moz-v01.321.218.216.IP) ()
[08:23:44] <eddyb> and &str, I guess
[08:23:48] <niconii> Mutabah: oh wait, maybe you could use size_of to figure that out?
[08:23:55] *** Joins: CMCDragonkai (nobody@moz-v01.321.218.216.IP)
[08:23:56] <sample> little newbee question: how get an iterator over subvector from index a to index b
[08:24:00] <Mutabah> niconii: Still leads to compile errors
[08:24:07] <Mutabah> niconii: I _could_ do it runtime, maybe
[08:24:14] *** Quits: spider-mario (spidermario@moz-pj1.fhg.160.37.IP) (Ping timeout: 121 seconds)
[08:24:18] <eddyb> even !Sized will work in the future with TraitA+TraitB
[08:24:25] <Manishearth> Mutabah: debug assert that sizeof::<&T> is correct ;p
[08:24:35] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:24:41] <sample> is it like vec[a]..vec[b]?
[08:24:47] <Mutabah> sample: "vec[a..b].iter()"
[08:24:53] <sample> thx!
[08:24:57] *** Joins: spider-mario (spidermario@moz-qun.tue.165.37.IP)
[08:25:45] <eddyb> Mutabah: what are you actually doing in this function?
[08:26:07] *** Joins: ogoffart (ogoffart@moz-qiotv4.woboq.com)
[08:26:11] *** Quits: frankmcsherry (frankmcsher@moz-4qeb8a.cable.virginm.net) (Ping timeout: 121 seconds)
[08:26:14] <eddyb> if you're using transmute, that's not what you want for manipulating trait objects
[08:26:16] *** Quits: kaeluka (kaeluka@moz-6cbr2p.cust.bredbandsbolaget.se) (Client exited)
[08:26:18] *** Quits: ogoffart (ogoffart@moz-qiotv4.woboq.com) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[08:26:22] <eddyb> (it just doesn't work)
[08:27:27] *** Parts: CMCDragonkai (nobody@moz-v01.321.218.216.IP) ()
[08:27:56] <Mutabah> eddyb: A safe wrapper that allows having a DST that exists within a fixed-size buffer
[08:28:05] <Mutabah> (or on the heap, if it doesn't fit)
[08:28:40] <Mutabah> (aka, pure evil)
[08:28:57] <eddyb> Mutabah: you mean, a queue of unsized types?
[08:29:16] <eddyb> wait, no, I see
[08:29:20] <red75prime> Hello all. FFI question.  Do I need to configure something beside #[link(name="d3d12")]? Program loads dll (d3d12.dll) allright, then it bails out with memory access violation on jmp [D3D12CreateDeviceReloc].
[08:29:21] *** Joins: CMCDragonkai (nobody@moz-v01.321.218.216.IP)
[08:29:32] *** Joins: kaeluka (kaeluka@moz-6cbr2p.cust.bredbandsbolaget.se)
[08:29:51] <eddyb> Mutabah: you need to take the size of &T and subtract the size of *const u8 from it. or the size of usize, whichever you prefer
[08:29:56] <Mutabah> eddyb: yeah 'StackDST::<Trait>::new(ImplementorOfTrait::new())'
[08:30:00] <eddyb> Mutabah: that's how much data you have to store
[08:30:15] *** Quits: wohiler_ (wohiler@moz-8id.6e1.62.133.IP) (Quit: Leaving...)
[08:30:19] <Mutabah> Size is the easy part, getting the vtable is more fun
[08:30:21] *** Parts: CMCDragonkai (nobody@moz-v01.321.218.216.IP) ()
[08:30:27] <eddyb> why do you need the vtable?
[08:30:32] *** Joins: CMCDragonkai (nobody@moz-v01.321.218.216.IP)
[08:30:34] <eddyb> there's nothing useful in the vtable for you
[08:30:39] <Mutabah> umm... methods?
[08:30:44] <eddyb> for what?
[08:30:48] <Mutabah> the trait
[08:31:00] <eddyb> you have (pointer, data-you-need-not-care-about-and-may-have-any-size)
[08:31:01] *** Joins: bgamari (bgamari@moz-m173ho.hsi8.kabel-badenwuerttemberg.de)
[08:31:24] <eddyb> you just need to pack/unpack a DST pointer
[08:31:34] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[08:31:41] <eddyb> the extra data has a fixed size per DST type
[08:32:11] <eddyb> Mutabah: there's no reason what you're doing can't work with sized types, slices and traits, all at the same time
[08:32:28] <eddyb> when you care about the vtable of some arbitrary trait, you're doing something wrong, because there's nothing there for you
[08:32:39] <Mutabah> eddyb: Hmm.. so, you're saying to assume that the fat pointer is always (data, ...)
[08:33:06] <eddyb> (pointer_to_data, extra_info), yes. the info may be whatever size
[08:33:08] *** Joins: Sgeo_ (Sgeo@moz-mo8ath.dyn.optonline.net)
[08:33:18] <eddyb> you can easily support any size of &T
[08:33:25] <Mutabah> interesting
[08:33:41] <eddyb> (assuming &T/Box<T> itself fits in your StackDST. can assert that)
[08:33:49] *** Quits: kaeluka (kaeluka@moz-6cbr2p.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[08:34:18] <eddyb> Mutabah: I was hoping you were going to say one of "drop", "size" or "align"
[08:34:28] *** Joins: arBmind (Andreas@moz-m5ff4l.adsl.alicedsl.de)
[08:34:28] *** Joins: espadrine_ (tyl@moz-h7a.l1t.215.80.IP)
[08:35:15] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Client exited)
[08:35:18] *** Joins: tmtwd_ (tmtwd@moz-0kkm5n.cable.rogers.com)
[08:35:18] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[08:35:21] *** Quits: choplin (choplin@moz-10k.4df.82.157.IP) (Connection closed)
[08:35:32] <eddyb> (which are all extractable from &T where T: ?Sized using intrinsics or even stable methods)
[08:35:35] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[08:35:59] *** Quits: Sgeo (Sgeo@moz-mo8ath.dyn.optonline.net) (Ping timeout: 121 seconds)
[08:36:13] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Ping timeout: 121 seconds)
[08:36:33] <eddyb> Mutabah: okay, there is one reason you might want to restrict it to traits
[08:36:35] *** Quits: timonv (timonv@moz-1qu311.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[08:36:47] *** Parts: starless (starless@moz-u9gmm1.res.rr.com) ("Leaving")
[08:36:50] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[08:37:13] <eddyb> the vtable is aligned so you could set the lowest bit to distinguish between the two cases
[08:37:55] *** Quits: EspressoDan (EspressoDan@moz-gnsthu.dynamic.ashlandfiber.net) (Client exited)
[08:38:01] <eddyb> if your rodata is below half the address space, you can also use the top bit, which will also work for slices
[08:39:09] *** Joins: blue_deref (blue_deref@moz-u9gmm1.res.rr.com)
[08:39:21] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[08:40:45] *** Joins: panicbit (panicbit@moz-dbjstk.itmc.tu-dortmund.de)
[08:41:12] *** Quits: arBmind (Andreas@moz-m5ff4l.adsl.alicedsl.de) (Quit: Leaving.)
[08:42:48] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:44:58] *** Joins: aravindavk (aravinda@moz-m6j.f0d.244.121.IP)
[08:45:06] *** Joins: arBmind (Andreas@moz-m5ff4l.adsl.alicedsl.de)
[08:45:18] <red75prime> Never mind. My problem with FFI is a compiler issue. https://github.com/rust-lang/rust/issues/23216
[08:46:44] *** Joins: laumann (thomas@moz-gqpfnm.science.ku.dk)
[08:47:34] *** Joins: ParadoxSpiral (ParadoxSpir@moz-j3a7l7.dip0.t-ipconnect.de)
[08:47:53] *** Joins: deadc0de (chsitter@moz-lrh.035.31.94.IP)
[08:50:02] *** Joins: moa (Cedric@moz-48pbmv.rev.numericable.fr)
[08:50:54] *** Quits: ParadoxSpiral_ (ParadoxSpir@moz-9jqp1e.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[08:51:18] *** Quits: spider-mario (spidermario@moz-qun.tue.165.37.IP) (A TLS packet with unexpected length was received.)
[08:51:40] *** darkowlzz is now known as darkowlzz|afk
[08:52:58] *** Joins: choplin (choplin@moz-q517gi.u-tokyo.ac.jp)
[08:55:02] *** Quits: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP) (A TLS packet with unexpected length was received.)
[08:55:59] *** Quits: choplin (choplin@moz-q517gi.u-tokyo.ac.jp) (Connection closed)
[08:56:05] *** Joins: choplin (choplin@moz-q517gi.u-tokyo.ac.jp)
[08:56:14] *** Quits: choplin (choplin@moz-q517gi.u-tokyo.ac.jp) (Connection closed)
[08:56:54] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[08:57:16] *** Joins: choplin (choplin@moz-q517gi.u-tokyo.ac.jp)
[08:57:16] <RalfJ> Hi all - I'm trying to write a linked list, in particular, an "append" function that traverses the list in a loop and adds a new element at the end. I found a version that works, but it uses an option-ref as the variable that's kept around betwene loop iterations. this is silly, since I know that there'll always be a Some(...) in there, so I'd like to change the code to reflect that. However, I can't get the changed version to compile...
[08:57:16] <RalfJ> The code is at http://is.gd/sOS627. "append" works, but uses a stupid type. "append_broken" compiles only becuase I commented out the code doing the actual change to the list...
[08:57:36] *** Joins: m104ru (m104ru@moz-j4k.8g6.153.93.IP)
[08:57:45] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[08:57:51] <RalfJ> is there a way to get something like "append_broken", thta uses a "&mut Node<T>" for the iteration, to work?
[08:58:30] * Ms2ger has a look
[08:58:38] <RalfJ> (kimundi: ^ that's the singly-linked list I mentioned yesterday)
[08:59:28] *** Joins: amnn (amnn@moz-ro1qqu.ox.ac.uk)
[08:59:47] <tomaka> RalfJ: http://is.gd/Wavq36
[09:00:16] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[09:00:21] <RalfJ> tomaka: "e @ ..." ? I never saw that^^
[09:00:38] <tomaka> so basically you match against "curr.next"
[09:00:43] *** darkowlzz|afk is now known as darkowlzz
[09:01:00] <RalfJ> and I did not even know you can have "%ref" in front of the constructor. what does that mean...?
[09:01:01] <tomaka> e corresponds to &mut curr.next
[09:01:05] <tomaka> if it's None, you replace it
[09:01:06] *** Quits: selevt (selevt@moz-dtb4km.dtb2.ofgg.1af8.2001.IP) (Connection closed)
[09:01:33] <eddyb> %ref? what?
[09:01:43] *** Quits: m104ru (m104ru@moz-j4k.8g6.153.93.IP) (Ping timeout: 121 seconds)
[09:01:43] <RalfJ> &ref, sry
[09:01:50] <eddyb> &ref is a noop
[09:02:04] <RalfJ> argh, I should wake up first. the pattern is "e @ &mut None"
[09:02:10] <eddyb> & derefs a &T, ref borrows the interior
[09:02:19] <RalfJ> so this dereferences the pointer, and performs a match in there?
[09:02:26] <tomaka> You are matching the pointer itself
[09:02:34] <eddyb> at the same time as binding the pointer to e
[09:02:41] *** Quits: choplin (choplin@moz-q517gi.u-tokyo.ac.jp) (Connection closed)
[09:02:44] <eddyb> (that's what @ does)
[09:02:47] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[09:02:48] <tomaka> yeah this dereferences the pointer more or less
[09:02:54] <tomaka> technically yes
[09:02:57] <eddyb> &pat and &mut pat are pretty basic patterns
[09:03:08] <RalfJ> can I also use @ with constructors that have content? like, e @ &mut Some(ref mut next) ? wouldn't e and next "overlap" then?
[09:03:10] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[09:03:13] <eddyb> @ is more of a special thing
[09:03:21] <eddyb> RalfJ: that's not allowed at all
[09:03:27] <eddyb> not even when the bindings would copy
[09:03:36] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[09:03:42] <RalfJ> eddyb: so, syntactically, @ is restricted to cases where one doesnt bind anything else?
[09:03:49] <eddyb> like, let a @ b = 0; used to be a nice way to initialize a and b both to 0
[09:03:54] <eddyb> but now it's not allowed at all
[09:03:56] <eddyb> RalfJ: pretty much
[09:04:04] <RalfJ> a @ b = 0?!? oO
[09:04:23] <eddyb> actual usecase: let mut a @ mut b @ mut c @ mut d = 0;
[09:04:44] <tomaka> :o
[09:04:59] <eddyb> tomaka: never seen bstrie's device before?
[09:05:00] <tomaka> rusti: let a @ 5 = 5;
[09:05:01] -playbot- <anon>:9:13: 9:18 error: refutable pattern in local binding: `_` not covered [E0005]
[09:05:02] -playbot- <anon>:9         let a @ 5 = 5;
[09:05:02] -playbot- output truncated; full output at: http://bit.ly/1I4Jp6r
[09:05:18] <tomaka> rusti: struct Foo; let a @ Foo = Foo;
[09:05:19] -playbot- <anon>:9:29: 9:32 error: declaration of `Foo` shadows an enum variant or unit-like struct in scope
[09:05:19] -playbot- <anon>:9         struct Foo; let a @ Foo = Foo;
[09:05:19] -playbot- output truncated; full output at: http://bit.ly/1Foqnki
[09:05:41] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[09:05:48] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[09:06:10] <tomaka> I need some experience with this for the first International Obfuscated Rust Code Contest
[09:06:18] <red75prime> rusti: let a @ () = ()
[09:06:18] -playbot- <anon>:10:5: 10:6 error: expected one of `.`, `;`, or an operator, found `}`
[09:06:19] -playbot- <anon>:10     });
[09:06:19] -playbot- output truncated; full output at: http://bit.ly/1I4Jy9P
[09:06:27] <red75prime> rusti: let a @ () = ();
[09:06:29] -playbot- ()
[09:06:33] <RalfJ> so that's very interesting, thanks. I need to think about the (semantic) consequences of such patterns... and I may be able to simplify some other things...
[09:07:01] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[09:07:05] *** Quits: njn (chatzilla@moz-c6c476.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 41.0a1/20150531163607])
[09:07:07] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[09:07:22] <tomaka> rusti: let __ = 0; __..__
[09:07:24] -playbot- 0..0
[09:07:33] <tomaka> hmmm
[09:07:38] <tomaka> rusti: _
[09:07:39] -playbot- <anon>:9:9: 9:10 error: unexpected token: `_`
[09:07:39] -playbot- <anon>:9         _
[09:07:39] -playbot- output truncated; full output at: http://bit.ly/1FoqTPq
[09:08:23] *** Quits: Ven (Ven@moz-vrb.ddg.5.163.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:08:33] <bluss> playbot: {}..{}
[09:08:34] -playbot- ()..()
[09:08:39] <tomaka> rusti: let __ = 0; let __@_=__;
[09:08:40] -playbot- ()
[09:09:24] <RalfJ> in the "binding" example at http://doc.rust-lang.org/book/patterns.html, what's the type of a when bound by "Some(Person { name: ref a @ Some(_), .. })"? is it &String ?
[09:09:35] <RalfJ> eh, "&Option<String>"
[09:09:41] <bluss> yes
[09:09:41] <Ms2ger> Correct
[09:10:03] *** Joins: hohoho (hohoho@moz-jqco1f.pools.vodafone-ip.de)
[09:10:18] <niconii> rusti: let __@_ = 10; __
[09:10:19] -playbot- 10
[09:10:33] <RalfJ> hm... I need to think a bit, more, but I believe my model of what pattern matching does to your capabilities can handle this. phew^^
[09:10:40] <Manishearth> niconii: ...whyyy
[09:10:59] <Manishearth> niconii: let a = _________________________________________0________________
[09:11:12] <red75prime> rusti: let a @ b=5; (a,b)
[09:11:13] <Manishearth> playbot: let a = _________________________________________0________________;
[09:11:13] -playbot- <anon>:9:17: 9:18 error: pattern bindings are not allowed after an `@` [E0303]
[09:11:13] -playbot- <anon>:9         let a @ b=5; (a,b)
[09:11:13] -playbot- output truncated; full output at: http://bit.ly/1I4Krzl
[09:11:14] -playbot- <anon>:9:17: 9:75 error: unresolved name `_________________________________________0________________`
[09:11:14] *** playbot was kicked by belew.mozilla.org (Channel flood triggered (limit is 5 lines in 3 secs))
[09:11:14] *** Joins: playbot (playbot@moz-1vk5qd.compute.amazonaws.com)
[09:11:15] <Mutabah> eddyb: Welp, StackDST written, now for tests
[09:11:20] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[09:11:22] <tomaka> >_>
[09:11:23] *** Quits: cmsd2 (cmsd2@moz-1iseu1.compute.amazonaws.com) (A TLS packet with unexpected length was received.)
[09:11:23] <Manishearth> playbot: let a = _________________________________________0________________;
[09:11:24] -playbot- <anon>:9:17: 9:75 error: unresolved name `_________________________________________0________________`
[09:11:24] <Mutabah> wow... managed to boot playbot
[09:11:24] -playbot- <anon>:9         let a = _________________________________________0________________;
[09:11:24] -playbot- output truncated; full output at: http://bit.ly/1ForCzX
[09:11:37] <Manishearth> playbot: let a = 0________________0;
[09:11:39] -playbot- ()
[09:11:40] <Manishearth> there 
[09:11:46] <niconii> 0_0
[09:11:50] <tomaka> what does that mean?
[09:11:55] <bluss> ^____^
[09:11:58] <blue_deref> 0
[09:12:01] <Mutabah> tomaka: _ in numbers is ingored
[09:12:04] <tomaka> ah
[09:12:06] <RalfJ> tomaka: can that loop you wrote be transformed to a "while let", with the code of the "None" case coming after the loop?
[09:12:07] <Manishearth> tomaka: _s are allowed in numbers
[09:12:08] <Mutabah> Useful for breaking up long numbers
[09:12:10] <niconii> like 1_000_000
[09:12:11] <blue_deref> 1_000_000
[09:12:17] <blue_deref> twins.
[09:12:19] <Manishearth> tomaka: you're *suppsoed* to use it as a poor man's comma
[09:12:32] <blue_deref> Manishearth: to bad it's ugly.
[09:12:34] <blue_deref> too*
[09:12:40] <tomaka> rusti: let __@_=0__0..0__0; __
[09:12:41] -playbot- 0..0
[09:12:43] <Manishearth> but of course we wil lall use them for right-way-up emoticons
[09:12:50] <Manishearth> tomaka: we must go deeper
[09:12:54] <tomaka> rusti: let __@_=|| 0__0..0__0; __()
[09:12:56] -playbot- 0..0
[09:13:03] <bluss> blue_deref: it's worth it for readability
[09:13:15] <Manishearth> > let __@_=|| 0__0..0__0; __()
[09:13:18] <Manishearth> > readability
[09:13:20] <Manishearth> lol
[09:13:20] <tomaka> rusti: let __@_=|| 0__0..0__0..;..; __()
[09:13:21] -playbot- <anon>:9:38: 9:42 error: expected function, found `core::ops::RangeFrom<[closure <anon>:9:18: 9:33]>`
[09:13:22] -playbot- <anon>:9         let __@_=|| 0__0..0__0..;..; __()
[09:13:22] -playbot- output truncated; full output at: http://bit.ly/1I4KLOt
[09:13:23] <eddyb> rusti: let __@_=|__| __..__; __(0__0)
[09:13:24] <blue_deref> bluss: I can see that for large constants
[09:13:24] -playbot- 0..0
[09:13:38] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[09:13:44] <blue_deref> but I never see large constants :/
[09:13:46] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[09:13:49] <tomaka> rusti: let __@_=|| (0__0..0__0)..;..; __()
[09:13:51] -playbot- 0..0..
[09:13:59] <eddyb> blue_deref: const FIVE: u64 = 5;?
[09:14:27] <roido> emoji rust, I see
[09:14:49] <tomaka> rusti: let __@_=|| (0__0..0__0)..;..; match &__{___@&_=>___()}
[09:14:51] -playbot- 0..0..
[09:14:59] <eddyb> tomaka: you still aren't using arguments in that closure
[09:15:14] <Manishearth> tomaka: what are you doing O.o
[09:15:18] <tomaka> rusti: let __@_=|__| __((0__0..0__0)..);..; match &__{___@&_=>___(|__|__)}
[09:15:20] *** Quits: tmtwd_ (tmtwd@moz-0kkm5n.cable.rogers.com) (Ping timeout: 121 seconds)
[09:15:20] -playbot- <anon>:9:23: 9:25 error: the type of this value must be known in this context
[09:15:21] -playbot- <anon>:9         let __@_=|__| __((0__0..0__0)..);..; match &__{___@&_=>___(|__|__)}
[09:15:21] -playbot- output truncated; full output at: http://bit.ly/1I4L3oq
[09:15:24] <tomaka> arg
[09:15:31] <tomaka> Manishearth: obfuscating!
[09:15:40] <niconii> rusti: let __@_=1__;let ___@_=__<<__;___+___<<__
[09:15:40] <Manishearth> playbot: let $_$ = 0_0;
[09:15:41] -playbot- 8
[09:15:42] -playbot- <anon>:9:13: 9:14 error: unexpected token: `$`
[09:15:42] -playbot- <anon>:9         let $_$ = 0_0;
[09:15:42] -playbot- output truncated; full output at: http://bit.ly/1Fosu7M
[09:15:45] <bluss> oh let's see what the rust developers are doing, let's peek into their irc channel, they are busy at work
[09:15:53] <bluss> rust devs: "let __@_=1__;let ___@_=__<<__;___+___<<__"
[09:15:57] <Manishearth>  let __@_=|D_D| (0__0..0__0)..;..; match &__{___@&_=>___(0_0)}
[09:16:03] <Manishearth> playbot: let __@_=|D_D| (0__0..0__0)..;..; match &__{___@&_=>___(0_0)}
[09:16:04] *** Joins: areski (areski@moz-5mpvkv.dynamicIP.rima-tde.net)
[09:16:05] -playbot- <anon>:9:19: 9:22 warning: variable `D_D` should have a snake case name such as `d_d`, #[warn(non_snake_case)] on by default
[09:16:05] -playbot- <anon>:9         let __@_=|D_D| (0__0..0__0)..;..; match &__{___@&_=>___(0_0)}
[09:16:05] -playbot- output truncated; full output at: http://bit.ly/1I4L6Rl
[09:16:09] <Manishearth> shoo
[09:16:23] <Manishearth> playbot: let __@_=|p_p| (0__0..0__0)..;..; match &__{___@&_=>___(0_0)}
[09:16:24] -playbot- 0..0..
[09:16:54] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[09:16:56] <tomaka> rusti: let __@_=|__| (__..0__0)..;..; match &__{___@&_=>___(|__|0__0)}
[09:16:57] -playbot- <anon>:9:62: 9:70 error: mismatched types:
[09:16:57] -playbot-  expected `_`,
[09:16:57] -playbot- output truncated; full output at: http://bit.ly/1FosJ2L
[09:17:07] <tomaka> Oh noes, it expected a '_' :s
[09:17:40] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[09:17:42] *** Quits: loyd (loyd@moz-jsb.32f.108.213.IP) (Ping timeout: 121 seconds)
[09:17:42] <tomaka> rusti: let __@_=|__| (__..0__0)..;..; match &__{___@&_=>___(0__0)}
[09:17:43] -playbot- 0..0..
[09:17:49] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[09:18:26] <blue_deref> these are rather impressive
[09:18:34] <tomaka> rusti: let __@_=|__| (__..0__0)..;..; let __@_ = match &&__{___@&&_=>|__| ___(__)}; __(0__0)
[09:18:35] -playbot- <anon>:9:58: 9:61 error: borrowed value does not live long enough
[09:18:36] -playbot- <anon>:9         let __@_=|__| (__..0__0)..;..; let __@_ = match &&__{___@&&_=>|__| ___(__)}; __(0__0)
[09:18:36] -playbot- output truncated; full output at: http://bit.ly/1I4LBe4
[09:18:44] <tomaka> I'll just give up
[09:18:50] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[09:18:57] <Manishearth> tomaka: are you trying to make the borrow checker even *more* cryptic?
[09:19:29] <blue_deref> const D: &'static str = "; const D: &'static str = \"; const D: &'static str = \"; const D: &'static str = \"";
[09:19:34] *** zz_NameNotFound is now known as NameNotFound
[09:20:03] <roido> rusti: "☆*:.｡. o(≧▽≦)o .｡.:*☆"
[09:20:05] -playbot- "\u{2606}*:.\u{ff61}. o(\u{2267}\u{25bd}\u{2266})o .\u{ff61}.:*\u{2606}"
[09:20:18] *** Joins: loyd (loyd@moz-jsb.32f.108.213.IP)
[09:20:23] <sample> one more newbee question - how can use smth like map over doubleendediterator to perform actions over two items same time?
[09:20:31] <Manishearth> playbot: \u{2606}*:.\u{ff61}. o(\u{2267}\u{25bd}\u{2266})o .\u{ff61}.:*\u{2606}
[09:20:31] -playbot- <anon>:9:9: 9:10 error: unknown start of token: \\
[09:20:32] -playbot- <anon>:9         \u{2606}*:.\u{ff61}. o(\u{2267}\u{25bd}\u{2266})o .\u{ff61}.:*\u{2606}
[09:20:32] -playbot- output truncated; full output at: http://bit.ly/1FotrwX
[09:20:34] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[09:20:37] <Manishearth> playbot: "\u{2606}*:.\u{ff61}. o(\u{2267}\u{25bd}\u{2266})o .\u{ff61}.:*\u{2606}"
[09:20:37] <eddyb> sample: map doesn't "perform actions"
[09:20:39] -playbot- "\u{2606}*:.\u{ff61}. o(\u{2267}\u{25bd}\u{2266})o .\u{ff61}.:*\u{2606}"
[09:20:48] <eddyb> sample: you probably want to manually iterate both ends at the same time
[09:20:54] <sample> yup
[09:21:01] <Quxxy> roido: I'm *amazed* that one works in cargo script from the Windows command line :D
[09:21:20] <eddyb> sample: while let (Some(a), Some(b)) = (iter.next(), iter.rev_next()) {...} or something like that
[09:21:33] <eddyb> (I forget what the method is called)
[09:21:43] *** darkowlzz is now known as darkowlzz|afk
[09:21:49] <eddyb> (next_back, not rev_next)
[09:21:52] <sample> like: vec.iter().map(|x, y| x+y)
[09:21:54] *** Quits: blue_deref (blue_deref@moz-u9gmm1.res.rr.com) (Quit: Leaving)
[09:22:01] <eddyb> sample: oh
[09:22:14] <niconii> i really want to see an obfuscated rust contest now
[09:22:21] <eddyb> sample: do you want to sum all values in the vector, or what?
[09:22:28] *** Quits: xificurC (xificurC@moz-3u7gmd.chello.sk) (Quit: WeeChat 1.2)
[09:22:35] *** Joins: xificurC (xificurC@moz-3u7gmd.chello.sk)
[09:22:47] <eddyb> because that is a fold, not a map. and is unrelated to double-ended iterators
[09:22:51] <sample> smth like that, but notsum or min or whatever in std
[09:22:59] <eddyb> I'm confused
[09:23:05] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[09:23:09] <eddyb> can you give an example array and the output you want to get?
[09:23:40] <sample> or can i do smth like for (a, b) in (iter1, iter2) {...}?
[09:23:57] <eddyb> sample: what do you have as an input and what do you want to do?
[09:24:06] <Quxxy> steveklabnik: Be thee around, good sir?
[09:24:07] <eddyb> s/want to do/want to get/
[09:24:14] <Ms2ger> sample, iter1.zip(iter2)?
[09:24:14] <sample> input is a Vec<u8>.
[09:24:16] <eddyb> sample: because by now there's like 5 different answers
[09:24:27] <eddyb> sample: could you give some example numbers?
[09:24:46] <eddyb> I have no idea which one of the possible things which you may be asking for, you actually are
[09:25:28] <sample> https://www.hackerrank.com/challenges/the-love-letter-mystery
[09:25:34] <eddyb> *sigh*
[09:25:43] <sample> i'm practicing rust with hackerrank challenges
[09:25:44] <eddyb> if the vector is [1, 2, 3, 4], what do you want to get?
[09:26:06] <sample> (4 - 1) + ( 3 - 2)
[09:26:17] <eddyb> thanks, that's an interesting one
[09:26:20] <Quxxy> steveklabnik: If you get this, do you think there's value in finishing this explanation of pointers in Rust?  Warning: 2MB worth of SVG, because the export tool is pathologically stupid: https://dl.dropboxusercontent.com/u/7049460/rds/index.html
[09:26:30] <eddyb> and it's actually none of the options you were hinting at so far!
[09:26:43] <sample> to be more precise: abs(4 - 1) + abs( 3 - 2)
[09:26:59] <eddyb> sample: for [a, b, c, d, e, f] you want abs(f - a) + abs(e - b) + abs(d - c)?
[09:27:08] <sample> yup
[09:27:21] <eddyb> sample: does the vector always have an even number of elements?
[09:27:28] <eddyb> i.e. is [1, 2, 3] a possible input?
[09:27:49] <sample> and for [a, b, c] => abs(c - a) + abs(b -b )
[09:28:00] <eddyb> so the middle element is ignored
[09:28:05] <eddyb> that's perfect :P
[09:28:05] <sample> yup
[09:28:59] <eddyb> let mut result = 0; let mut iter = data.iter(); while let (Some(&a), Some(&b)) = (iter.next(), iter.next_back()) { result += (b - a).abs(); }
[09:29:01] *** NameNotFound is now known as zz_NameNotFound
[09:29:36] <sample> and result /= 2?
[09:30:02] <eddyb> no
[09:30:06] <myname> will it be none if they meet?
[09:30:09] <eddyb> the iterator will stop in the middle
[09:30:17] <sample> oh, wow
[09:30:19] <myname> interesting property
[09:30:28] <eddyb> sample: you're "shrinking" the same iterator for both sides
[09:30:34] <sample> perfect!
[09:30:34] <eddyb> same with ranges
[09:30:43] <eddyb> *from both sides
[09:30:55] <eddyb> actually, all DoubleEndedIterator should behave this way
[09:31:01] <eddyb> (presumably they're not infinite :P)
[09:31:25] <sample> nono.
[09:31:33] <sample> its bytes from string
[09:31:42] <eddyb> yeah, that's fine
[09:31:59] <eddyb> all slice and range iterators have this property. was a bit confusing at first
[09:32:21] <eddyb> (they just keep track of two positions, next moves the "start" and next_back moves the "end", until one meets the other)
[09:32:33] <sample> me too. my primary question was - how can i stop right in the middle
[09:32:38] *** Quits: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP) (Ping timeout: 121 seconds)
[09:33:05] <sample> and if it works like you said - it's perfect
[09:33:29] *** Joins: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP)
[09:34:16] *** Quits: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:34:39] *** Quits: copycat (Thunderbird@moz-dpm.8hc.223.111.IP) (Client exited)
[09:35:14] <eddyb> if you were to do, say, iter.clone().zip(iter.rev()).map(|(a, b)| (b - a).abs()).sum() / 2, that wouldn't stop in the middle (hence the division), but it's prettier because it's functional style
[09:35:18] *** Parts: basp (Bas@moz-g14dnk.holcom.nl) ("Leaving")
[09:35:51] <eddyb> there's no clever way to do this because you'd need two &mut pointers to the same iterator, in a data structure
[09:36:15] <eddyb> or two &Cell, which would be valid, but the iterator isn't Copy (even if it should be), and there's no smart abstraction like that yet
[09:36:27] *** Quits: michas (michas@moz-7d87dj.web.vodafone.de) (Connection closed)
[09:37:05] *** Quits: chippers (chip@moz-26d.2gk.254.199.IP) (Connection closed)
[09:37:14] *** Joins: rudolph (rudolph@moz-ce0j93.qdet.dsq9.010d.2620.IP)
[09:37:29] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[09:37:49] *** Joins: kaeluka (kaeluka@moz-dj2nag.eduroam.uu.se)
[09:39:09] *** Joins: skeuomor1 (skeuomorf@moz-24o.5or.32.197.IP)
[09:40:29] *** Quits: Guest38 (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:40:35] *** Joins: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP)
[09:40:59] *** Quits: PTStomp (paul@moz-rn5jn1.exetel.com.au) (Ping timeout: 121 seconds)
[09:41:39] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[09:42:03] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Ping timeout: 121 seconds)
[09:42:54] <sample> but why it's not possible for double ended iterator?
[09:42:58] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[09:43:29] *** Quits: ziocroc (ziocroc@moz-bfu.33o.74.151.IP) (Client exited)
[09:43:43] *** Quits: mkoskar (mkoskar@moz-67r1nt.torservers.net) (Ping timeout: 121 seconds)
[09:44:16] *** Joins: fkaa_ (tundmatu@moz-501od2.business.telia.com)
[09:44:43] *** Joins: skeuomorf (skeuomorf@moz-3dm.q8a.32.197.IP)
[09:45:06] <eddyb> sample: oh. someone could write a "zip_ends" adaptor specifically for double-ended iterators. it's just that nobody has done it
[09:45:23] <eddyb> it's a case of "general solutions are preferred to specific ones"
[09:45:49] <sample> thanks to explanations...
[09:45:55] *** Joins: alexherbo2 (alex@moz-3ji.gig.97.79.IP)
[09:46:00] *** Quits: turtil (turtil@moz-98pgrn.orcon.net.nz) (Quit: WeeChat 1.2)
[09:46:36] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[09:46:41] <sample> but maybe better write some methoda to use deiterator as two iterators....
[09:47:12] *** Quits: skeuomor1 (skeuomorf@moz-24o.5or.32.197.IP) (Ping timeout: 121 seconds)
[09:47:15] <eddyb> sample: you can totally do that: slice iterators are cloneable
[09:47:29] <eddyb> but they're unrelated once you do that
[09:47:34] <sample> and just iter.front().zip(iter.back()).map(...)
[09:48:10] <eddyb> iter.clone().zip(iter.rev()).take(data.len() / 2).map(|(a, b)| (b - a).abs()).sum()
[09:48:13] <eddyb> this would also work
[09:48:15] <bluss> sample: do you mean that the front and the back are going to share state so that they meet in the middle, or that they are separate?
[09:48:32] <eddyb> bluss: I think the former, otherwise it wouldn't stop in the middle
[09:48:42] <eddyb> but if you do that, you'll need &Cell
[09:48:46] *** Quits: bombless (bombless@moz-ivg.red.21.116.IP) (Quit: Leaving)
[09:49:21] <bluss> sample: rust requires some special care with sharing a mutable state
[09:49:38] <bluss> sample: so it's not often the favoured solution
[09:49:46] <bluss> *often no
[09:50:00] *** Joins: grodan (Mibbit@moz-o5eg8b.bredband.comhem.se)
[09:50:44] <eddyb> iterator invalidation is a serious issue and Rust does its best to avoid it. in this case, it's kind of harmless (which is why &mut -> &Cell would work), but it's not in the general case
[09:50:59] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (Quit: Leaving...)
[09:51:43] *** Joins: kamilc__ (kamil@moz-ms94ss.play-internet.pl)
[09:51:55] <eddyb> and yeah, it's slightly ironic that iterator invalidation is caused by mutating the *collection* and using the iterator, but here you'd mutate the same iterator from two ends
[09:53:09] <bluss> I had some experiments with iterators of the shape Rc<RefCell<I>>. The only way for a user of that to provoke a borrowing error is to create a cycle where the iterator somehow adapts itself
[09:53:49] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:54:21] <bluss> eddyb: you make it sound as if iterators not being copy is a serious loss
[09:54:31] *** AutomatedTester|AFK is now known as AutomatedTester
[09:54:32] <bluss> because of Cell
[09:54:34] <sample> oh... you burn my brains... nedd to read a little bit more about all this stuff to clarify.. but thanks for explanations!
[09:54:48] <eddyb> bluss: it is
[09:55:00] <eddyb> bluss: any type that can be Copy but isn't, is an ergonomic loss
[09:55:15] <eddyb> Range is one of the more annoying ones
[09:55:22] <eddyb> and this because of a bad decision
[09:55:31] <bluss> yeah I know
[09:55:43] <eddyb> it can still be reverted, but nobody cares
[09:55:44] *** Quits: Guest21799 (Jorge@moz-7bh.ng6.177.186.IP) (Ping timeout: 121 seconds)
[09:55:52] <bluss> I care
[09:55:58] <bluss> it just seems to have been decided
[09:56:09] <bluss> playbot: let r = ..1; (r, r)
[09:56:10] -playbot- (..1, ..1)
[09:56:17] <bluss> ..1 is copy but 1.. is not
[09:56:20] <eddyb> lol
[09:56:28] <eddyb> ..x cannot be iterated
[09:56:38] *** Quits: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[09:56:41] *** Quits: mindtree (Mitch@moz-b098hr.iprimus.net.au) (Ping timeout: 121 seconds)
[09:56:47] <sample> ehm... newbee question - where is abs()? it writes type `u8` does not implement any method in scope named `abs`...
[09:56:50] <eddyb> (an exception could be made for bounded types)
[09:56:54] <eddyb> sample: that's odd
[09:57:02] <Mutabah> sample: u8 has no abs
[09:57:06] <Mutabah> because u8 is unsigned
[09:57:06] <eddyb> OH
[09:57:10] *** Joins: mindtree (Mitch@moz-use.a51.240.116.IP)
[09:57:19] <eddyb> sample: yeah, you'll want to cast them to i16 before subtracting
[09:57:22] <sample> wow wow
[09:57:36] <eddyb> ((b as i16) - (a as i16)).abs()
[09:57:40] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[09:58:01] <eddyb> otherwise it can underflow
[09:58:12] <sample> yup
[09:58:18] <eddyb> (or can it? I'm not sure now)
[09:58:45] <eddyb> oh, yeah, 128 is going to cause issues if it's cast to i8
[09:58:54] <sample> if its lowercase english letters - it cant
[09:59:04] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[09:59:06] *** Quits: hohoho (hohoho@moz-jqco1f.pools.vodafone-ip.de) (Quit: Leaving)
[09:59:13] *** Quits: dkreuter (knizz@moz-2rt22h.cust.tele2.at) (Ping timeout: 121 seconds)
[09:59:23] <eddyb> 127 - 128 is 255
[09:59:43] *** Quits: niconii (nicole@moz-r8dlmh.frgo.qwest.net) (Quit: leaving)
[09:59:48] *** Quits: hroi (hroi@moz-92kqno.ngdc.dk) (Ping timeout: 121 seconds)
[09:59:59] <eddyb> actually, ugh, no, -1 is fine
[10:00:02] <bluss> sample: you either need to cast to i8 or another signed integer anyway
[10:00:10] <tomaka> rusti: let mut __@_=(0_,0_1);(match __{(__,_)=>__}..__.1<<__.1+__.1+__.1).map(|___@_|{let ___=match __{(__@_,_)=>{__}};match(&mut __.1,&mut __.0){(__,i)=>{*i=(|__|__)(*__);*__=___+*i;___+*i}}}).collect::<Vec<_>>()
[10:00:13] -playbot- [1, 2, 3, 5, 8, 13, 21, 34]
[10:00:18] <tomaka> yay, obfuscated fibonacci
[10:00:23] *** Quits: zhuli (zhuli@moz-d2d.7sg.64.112.IP) (Quit: WeeChat 1.3-dev)
[10:00:31] <eddyb> who bored tomaka?
[10:00:46] <tomaka> (actually I afk'ed in the middle, it didn't take me 30mn to write that)
[10:00:59] <sample> just do this let bytes: Vec<i8> = line.unwrap().as_bytes().iter().map(|x| *x as i8).collect();
[10:01:35] <hyPiRion> tomaka: Now do fibonacci with as few alphanumeric characters as possible
[10:01:46] <tomaka> hmm
[10:01:52] <sample> or ist it better way to collect without references? :)
[10:02:11] <tomaka> rusti: [0, 1, 2, 3, 5, 8, 13, 21, 34]
[10:02:12] *** Joins: hroi (hroi@moz-92kqno.ngdc.dk)
[10:02:13] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[10:02:13] -playbot- [0, 1, 2, 3, 5, 8, 13, 21, 34]
[10:02:14] <tomaka> hyPiRion: ^
[10:02:17] * tomaka wins
[10:02:29] *** Joins: FallingAlways (FallingTime@moz-ruksei.cable.rogers.com)
[10:02:36] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[10:03:03] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:03:26] <tomaka> rusti: let mut a=(0,1);(0..8).map(|_|{let r=a.0+a.1;a.0=a.1;a.1=r;r}).collect::<Vec<_>>()
[10:03:27] -playbot- [1, 2, 3, 5, 8, 13, 21, 34]
[10:03:33] <tomaka> that's short, I don't know if you can do shorter
[10:03:40] <hyPiRion> tomaka: is 12 alphanumerics the minimum you think? I haven't tried to do it with less, just wondering
[10:04:06] <tomaka> Ah you mean different characters
[10:04:07] <eddyb> sample: don't convert to i8
[10:04:11] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:04:20] <eddyb> sample: use the .map on the iterators
[10:04:21] *** Joins: dkreuter (knizz@moz-2rt22h.cust.tele2.at)
[10:04:35] <eddyb> sample: no intermediary vectors necessary (map works on DoubleEndedIterator)
[10:04:37] *** Joins: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net)
[10:04:56] <hyPiRion> Oh no, just minimal alphanumerics, `11` is 2 alphanums, so is `ab`.
[10:06:19] *** Quits: hroi (hroi@moz-92kqno.ngdc.dk) (Ping timeout: 121 seconds)
[10:06:50] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:08:10] *** Quits: ukarlsson (ukarlsson@moz-lq8mt0.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[10:08:41] *** Quits: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[10:09:56] *** Joins: hroi (hroi@moz-92kqno.ngdc.dk)
[10:10:09] *** Joins: meunierd (dmeunier@moz-glf54u.cpe.sourcecable.net)
[10:10:56] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:11:57] *** Joins: p1start (p1start@moz-nftjhe.org)
[10:12:01] <sample> eddyb: https://github.com/dFionov/hackerrank_rust/blob/master/Algorithms/Warmup/the_love-letter_mystery.rs
[10:12:32] <eddyb> sample: let mut iter = line.unwrap().as_bytes().iter().map(|x| *x as i8);
[10:12:36] <eddyb> sample: this will just work
[10:12:45] <eddyb> well, it might not
[10:12:52] <sample> hmm
[10:12:55] <sample> second
[10:12:55] <eddyb> you might need to write let line = line.unwrap(); first
[10:13:02] <sample> yup
[10:13:06] <sample> and save it
[10:13:16] *** Joins: lnwdr (lnwdr@moz-mj0.jna.74.195.IP)
[10:13:20] <eddyb> and then let mut iter = line.bytes().map(|x| x as i8);
[10:13:33] <eddyb> I believe that works
[10:13:35] <eddyb> playbot: "foo".bytes
[10:13:37] -playbot- <anon>:9:15: 9:20 error: attempted to take value of method `bytes` on type `&'static str`
[10:13:37] -playbot- <anon>:9         "foo".bytes
[10:13:37] -playbot- output truncated; full output at: http://bit.ly/1cvez8L
[10:13:53] <sample> .as_bytes
[10:13:55] *** Quits: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net) (Ping timeout: 121 seconds)
[10:14:23] *** Joins: maximih (maximih@moz-98tq1q.k49b.su5n.2002.2001.IP)
[10:14:39] <eddyb> http://doc.rust-lang.org/std/primitive.str.html#method.bytes
[10:14:59] *** Quits: grodan (Mibbit@moz-o5eg8b.bredband.comhem.se) (Quit: http://www.mibbit.com ajax IRC Client)
[10:15:19] <eddyb> equivalent to .as_bytes().cloned() or .as_bytes().map(|x| *x) or anything like that
[10:15:45] *** Joins: pyon (pyon@moz-q54.3e2.7.179.IP)
[10:16:58] <sample> yup works
[10:17:02] <sample> thanks
[10:17:49] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[10:18:01] *** Joins: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net)
[10:18:24] <sample> finally https://github.com/dFionov/hackerrank_rust/blob/master/Algorithms/Warmup/the_love-letter_mystery.rs
[10:18:26] *** Quits: maximih (maximih@moz-98tq1q.k49b.su5n.2002.2001.IP) (Ping timeout: 121 seconds)
[10:18:44] *** Joins: alaska (alaska@moz-8bdjem.fios.verizon.net)
[10:19:55] <Mutabah> Does autoderef have problems with the Fn* traits?
[10:20:08] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Connection closed)
[10:20:12] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[10:20:21] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[10:20:23] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:20:29] *** Quits: meunierd (dmeunier@moz-glf54u.cpe.sourcecable.net) (Client exited)
[10:20:31] <Mutabah> I have a type that derefs to FnMut()->String, but doing 'instance()' complains about borrowing immutable content as mutable
[10:21:45] <Mutabah> eddyb: http://github.com/thepowersgang/stack_dst-rs/
[10:21:52] <Mutabah> eddyb: I present - EVIL
[10:22:46] *** Quits: alaska (alaska@moz-8bdjem.fios.verizon.net) (Ping timeout: 121 seconds)
[10:23:11] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:23:11] *** Joins: ukarlsson (ukarlsson@moz-bakum2.7i5n.sjcg.02b0.2a01.IP)
[10:23:38] <VShell> Mutabah: are you implementing Deref or DerefMut?
[10:23:58] <Mutabah> VShell: Both
[10:24:02] * VShell nods.
[10:25:14] <Mutabah> It's this doc comment that fails to build https://github.com/thepowersgang/stack_dst-rs/blob/master/src/lib.rs#L20-L28
[10:25:16] *** Joins: copycat (Thunderbird@moz-mm4e60.singnet.com.sg)
[10:25:22] *** Joins: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP)
[10:25:22] *** Quits: KarolisK (karolis@moz-1vd.8s1.28.194.IP) (Connection closed)
[10:25:33] <Mutabah> (type is defined in the same file, deref etc at the bottom)
[10:25:36] *** Joins: KarolisK (karolis@moz-1vd.8s1.28.194.IP)
[10:25:43] *** Joins: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp)
[10:26:20] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[10:27:23] *** Joins: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl)
[10:27:44] *** Quits: etw (etw@moz-5mb.sih.212.204.IP) (Ping timeout: 121 seconds)
[10:28:26] *** Joins: SgtCoDFish (Ashley@moz-236.pn9.250.176.IP)
[10:28:56] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[10:30:24] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[10:31:30] *** Quits: kushal (kdas@moz-so4.f0d.244.121.IP) (Ping timeout: 121 seconds)
[10:32:56] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Ping timeout: 121 seconds)
[10:32:58] *** Quits: mindtree (Mitch@moz-use.a51.240.116.IP) (Ping timeout: 121 seconds)
[10:34:04] *** Joins: mindtree (Mitch@moz-use.a51.240.116.IP)
[10:34:11] *** Quits: loyd (loyd@moz-jsb.32f.108.213.IP) (Quit: Leaving)
[10:34:18] *** Joins: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net)
[10:34:42] *** Quits: zeittunnel (2342342342@moz-sf7tgj.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:34:59] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[10:35:10] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[10:35:55] *** Quits: mcoffin (mcoffin@moz-hrs.16d.54.128.IP) (Ping timeout: 121 seconds)
[10:36:21] <Mutabah> Ok, doing 'assert_eq!( (&mut *closure)(), "Hello there! value=666" );' works
[10:37:21] *** Joins: michas (michas@moz-7d87dj.web.vodafone.de)
[10:37:34] *** Joins: simple (Mibbit@moz-o4qa3b.nationalcablenetworks.ru)
[10:38:03] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:38:06] *** Parts: SgtCoDFish (Ashley@moz-236.pn9.250.176.IP) ()
[10:38:38] *** Quits: skeuomorf (skeuomorf@moz-3dm.q8a.32.197.IP) (Quit: WeeChat 1.2)
[10:39:23] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[10:40:45] *** Joins: arielb1 (Mibbit@moz-44kh6r.tau.ac.il)
[10:41:07] *** Parts: arielb1 (Mibbit@moz-44kh6r.tau.ac.il) ()
[10:42:02] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[10:42:26] *** Quits: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP) (Connection closed)
[10:42:54] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:44:20] *** Joins: __ixti__ (ixti@moz-83a.rle.139.178.IP)
[10:45:10] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[10:47:41] *** Joins: __mark__ (mark@moz-0e3hkt.play-internet.pl)
[10:52:21] *** Quits: __ixti__ (ixti@moz-83a.rle.139.178.IP) (Ping timeout: 121 seconds)
[10:53:56] *** Quits: nrc (nrc@moz-14pjgj.xtra.co.nz) (Ping timeout: 121 seconds)
[10:55:14] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:55:15] *** Quits: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[10:56:59] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[10:58:01] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[10:58:23] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:59:45] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Connection closed)
[11:00:24] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[11:00:50] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[11:01:56] *** Joins: shellac (pldms@moz-c7026f.bris.ac.uk)
[11:03:11] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[11:03:42] *** Quits: indefini (indefini@moz-4p4v25.ucom.ne.jp) (Connection closed)
[11:04:08] *** Joins: hohoho (hohoho@moz-jqco1f.pools.vodafone-ip.de)
[11:05:24] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:07:13] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[11:07:15] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[11:07:27] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Client exited)
[11:08:15] *** Quits: zyphrus_ (David@moz-nik.3ab.98.101.IP) (Quit: Bye bye)
[11:08:32] *** Joins: oberstet (quassel@moz-3a1ft0.dynamic.mnet-online.de)
[11:08:54] *** Joins: tkellen (tkellen@moz-np774o.vt.comcast.net)
[11:08:57] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[11:09:16] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[11:11:05] *** Joins: nrc (nrc@moz-14pjgj.xtra.co.nz)
[11:11:05] *** ChanServ sets mode: +o nrc
[11:12:47] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[11:13:02] *** Joins: Hannibal_Smith (nico@moz-itj1vp.retail.telecomitalia.it)
[11:13:09] *** AutomatedTester is now known as AutomatedTester|AFK
[11:14:41] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[11:15:12] *** Joins: maximih (maximih@moz-mn7282.k49b.su5n.2002.2001.IP)
[11:15:42] *** Quits: nrc (nrc@moz-14pjgj.xtra.co.nz) (Ping timeout: 121 seconds)
[11:16:11] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[11:17:42] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[11:18:10] *** Quits: dkreuter (knizz@moz-2rt22h.cust.tele2.at) (Quit: Ex-Chat)
[11:19:15] *** Quits: maximih (maximih@moz-mn7282.k49b.su5n.2002.2001.IP) (Ping timeout: 121 seconds)
[11:21:39] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[11:22:12] *** Joins: yourmoma (Mibbit@moz-okgckn.dip0.t-ipconnect.de)
[11:22:17] <yourmoma> jo 
[11:22:27] <yourmoma> sup ?
[11:23:59] *** Joins: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP)
[11:26:07] *** Joins: zhuli (zhuli@moz-d2d.7sg.64.112.IP)
[11:26:31] *** Quits: zhuli (zhuli@moz-d2d.7sg.64.112.IP) (Quit: WeeChat 1.3-dev)
[11:26:56] *** Quits: yourmoma (Mibbit@moz-okgckn.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:27:11] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[11:29:20] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[11:32:56] *** Joins: Kynes (Kynes@moz-j2us35.mit.edu)
[11:33:19] *** Quits: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[11:36:45] *** Joins: Jackneill (Jackneill@moz-p0a82d.pool.digikabel.hu)
[11:36:51] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[11:38:08] *** Joins: v21 (vee@moz-3lf.eo8.4.171.IP)
[11:39:11] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[11:39:55] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[11:40:53] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[11:41:05] *** Joins: amyers (amyers@moz-qn874b.zip.zayo.com)
[11:42:30] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[11:42:51] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:43:52] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[11:44:11] *** Quits: __mark__ (mark@moz-0e3hkt.play-internet.pl) (Ping timeout: 121 seconds)
[11:45:19] *** Joins: jviereck (Adium@moz-9vg37n.dip0.t-ipconnect.de)
[11:45:49] *** Joins: yuja (yuja@moz-9860l5.so-net.ne.jp)
[11:46:53] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[11:47:03] *** Quits: jviereck (Adium@moz-9vg37n.dip0.t-ipconnect.de) (Quit: Leaving.)
[11:47:08] *** Joins: jviereck (Adium@moz-h2i275.ethz.ch)
[11:47:16] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[11:47:48] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[11:48:06] *** Joins: laparca1 (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[11:48:16] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Ping timeout: 121 seconds)
[11:49:16] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[11:49:52] *** Quits: tomaka (Pierre@moz-ppjd78.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[11:50:05] *** Joins: laparca2 (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[11:51:04] *** Joins: tomaka (Pierre@moz-ppjd78.abo.wanadoo.fr)
[11:51:38] *** Quits: laparca1 (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Connection closed)
[11:52:22] *** Joins: Sho (sho@moz-pr1n4c.cust.telecolumbus.net)
[11:52:43] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Connection closed)
[11:54:26] *** Joins: Soulfoam (User@moz-f6sd9k.custommoversservices.com)
[11:55:04] *** Quits: StarLight (StarLight@moz-psr.sbd.226.188.IP) (Connection closed)
[11:56:51] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[11:57:49] *** Quits: daze (daze@moz-tc29eq.static.zebra.lt) (Connection closed)
[11:58:07] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[11:58:28] *** Joins: zeittunnel (2342342342@moz-sf7tgj.dip0.t-ipconnect.de)
[11:59:41] *** Joins: andre (andre@moz-rnd.3qv.76.201.IP)
[11:59:58] *** Quits: aravindavk (aravinda@moz-m6j.f0d.244.121.IP) (Quit: Konversation terminated!)
[12:00:15] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[12:02:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:03:46] *** Joins: mkpankov (user@moz-nleeis.partnertech.ru)
[12:04:16] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[12:04:33] *** Joins: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca)
[12:04:44] *** Joins: frankmcsherry (frankmcsher@moz-gem.6oa.49.62.IP)
[12:05:16] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[12:05:38] *** Joins: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net)
[12:07:11] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[12:07:13] *** Joins: daze (daze@moz-tc29eq.static.zebra.lt)
[12:07:32] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[12:09:35] *** Quits: rudolph (rudolph@moz-ce0j93.qdet.dsq9.010d.2620.IP) (A TLS packet with unexpected length was received.)
[12:10:11] *** Joins: GuruMonk (GuruMonk@moz-jb5.8n4.207.49.IP)
[12:11:00] *** Quits: rmgk_ (ragnar@moz-oo85mg.dyn.telefonica.de) (A TLS packet with unexpected length was received.)
[12:11:47] *** Quits: Hannibal_Smith (nico@moz-itj1vp.retail.telecomitalia.it) (Quit: Leaving)
[12:12:12] *** Joins: rmgk (ragnar@moz-oo85mg.dyn.telefonica.de)
[12:12:53] *** AutomatedTester|AFK is now known as AutomatedTester
[12:13:29] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[12:13:51] *** Joins: jiojiajiu (Guro@moz-trc2j7.asianet.co.th)
[12:13:52] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[12:13:52] <frankmcsherry> Hi. I was hoping to pass a generic function as an argument, retaining the information that it is generic in some type. The only way I can think to do this is to create a trait with a generic method, and put the logic behind that method. Is there a more direct sort of way?
[12:14:38] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Client exited)
[12:14:44] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[12:15:01] <companion_cube> use a closure?
[12:15:34] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[12:15:52] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[12:15:52] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[12:16:21] *** Joins: eddyb_ (eddyb@moz-c0q.mv7.25.188.IP)
[12:16:38] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[12:16:51] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[12:16:52] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[12:17:38] <frankmcsherry> let's see. the problem is that the recipient of the method wants to use the genericity (it will instantiate the method with one of several actual types, based on other logic). it seems like both the method and closure need to know a specific type (as part of their type). Let me try a playpen example, sec.
[12:18:06] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[12:18:09] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[12:18:09] *** Joins: jshs (jshs@moz-1dic24.dip0.t-ipconnect.de)
[12:18:38] *** Quits: laumann (thomas@moz-gqpfnm.science.ku.dk) (Ping timeout: 121 seconds)
[12:18:53] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[12:19:06] *** Joins: kushal (kdas@moz-9bk.f0d.244.121.IP)
[12:19:26] *** Quits: eddyb (eddyb@moz-e8s.ur8.27.188.IP) (Ping timeout: 121 seconds)
[12:19:30] <companion_cube>  https://play.rust-lang.org/?code=fn%20app%3CA%2CB%2CF%3A%20Fn%28%26A%29%20-%3E%20B%3E%28f%3AF%2C%20x%3A%20A%29%20-%3E%20B%20{%20f%28%26x%29%20}%0A%0Afn%20main%28%29%20{%0A%20%20%20%20let%20x%3A%20u32%20%3D%201%3B%0A%20%20%20%20println!%28%22f%28{}%29%20%3D%20{}%22%2C%20x%2C%20app%28|x|%20{%20x.to_string%28%29%20}%2C%20x%29%29%3B%0A}&version=stable <-- this isn't enough for you?
[12:19:34] *** Joins: tschottdorf (tobias@moz-d021av.aipg.hajb.2000.2604.IP)
[12:19:54] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[12:20:04] *** Joins: alaska (alaska@moz-8bdjem.fios.verizon.net)
[12:20:40] *** Joins: laumann (thomas@moz-3v9.hq0.225.130.IP)
[12:20:55] *** Joins: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP)
[12:21:03] *** Joins: nicholasf (nicholasf@moz-5gls9l.internode.on.net)
[12:21:12] *** Quits: nicholasf (nicholasf@moz-5gls9l.internode.on.net) (Quit: Leaving...)
[12:22:08] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[12:22:48] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:22:56] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Ping timeout: 121 seconds)
[12:23:35] *** Joins: jeffasinger (jeff@moz-aj9r6o.res.rr.com)
[12:24:02] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Quit: Leaving)
[12:24:06] *** Quits: alaska (alaska@moz-8bdjem.fios.verizon.net) (Ping timeout: 121 seconds)
[12:24:08] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:25:12] *** Joins: Wild_Cat (Max@moz-1idsr5.dsl.teksavvy.com)
[12:25:17] *** Joins: mkoskar (mkoskar@moz-ft2.gma.211.95.IP)
[12:25:34] *** Quits: panicbit (panicbit@moz-dbjstk.itmc.tu-dortmund.de) (Ping timeout: 121 seconds)
[12:26:25] *** Quits: Guest67 (textual@moz-gfs9v0.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:27:09] *** Joins: rudolph (rudolph@moz-ce0j93.qdet.dsq9.010d.2620.IP)
[12:27:23] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[12:27:42] *** gaye|sleep is now known as gaye
[12:28:00] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[12:28:33] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[12:28:52] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (Quit: Leaving...)
[12:29:04] *** Quits: jiojiajiu (Guro@moz-trc2j7.asianet.co.th) (Connection closed)
[12:29:36] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[12:29:59] *** Joins: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net)
[12:30:26] *** Joins: jiojiajiu (Guro@moz-trc2j7.asianet.co.th)
[12:31:27] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[12:32:27] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[12:32:46] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[12:32:47] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:32:47] *** ChanServ sets mode: +o jdm
[12:32:52] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[12:34:26] *** Joins: jdm_ (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:34:41] *** Quits: bmcorser (uid18416@moz-o4s304.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[12:35:01] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[12:35:40] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[12:35:43] *** Joins: __mark__ (mark@moz-udut16.dynamic.chello.pl)
[12:36:59] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Ping timeout: 121 seconds)
[12:37:07] *** Joins: Wilduck (erik@moz-0l3fjb.fios.verizon.net)
[12:37:10] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[12:37:53] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[12:39:04] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[12:39:25] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[12:39:42] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:42:26] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[12:43:00] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:43:29] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[12:43:37] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Ping timeout: 121 seconds)
[12:43:49] *** Quits: tschottdorf (tobias@moz-d021av.aipg.hajb.2000.2604.IP) (Ping timeout: 121 seconds)
[12:43:49] *** Quits: fabiand (fabiand@moz-ei6o5d.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:44:42] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Connection closed)
[12:44:54] *** Quits: maraoz (maraoz@moz-k72c1e.fibertel.com.ar) (Ping timeout: 121 seconds)
[12:47:44] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[12:48:04] *** Joins: c_wraith (c_wraith@moz-946go0.click-network.com)
[12:48:24] *** Joins: Guest67 (textual@moz-8aocg9.ri.cox.net)
[12:49:16] *** Quits: mbudde (mbudde@moz-vmd8oc.customer.tdc.net) (Ping timeout: 121 seconds)
[12:49:29] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:49:47] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[12:52:29] *** Quits: copycat (Thunderbird@moz-mm4e60.singnet.com.sg) (Ping timeout: 121 seconds)
[12:52:40] *** Quits: Wild_Cat (Max@moz-1idsr5.dsl.teksavvy.com) (Connection closed)
[12:53:57] *** Joins: misheska_ (misheska@moz-l070dd.6pqu.c3mb.0149.2620.IP)
[12:54:24] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[12:54:34] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:56:16] *** Quits: misheska (misheska@moz-jhen3q.6pqu.c3mb.0149.2620.IP) (Ping timeout: 121 seconds)
[12:57:51] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[12:57:52] *** Joins: fabiand (fabiand@moz-tro7q2.dip0.t-ipconnect.de)
[12:57:56] *** Quits: GuruMonk (GuruMonk@moz-jb5.8n4.207.49.IP) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[12:58:36] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[12:58:43] *** Joins: Wilduck_ (erik@moz-7k30dn.compute-1.amazonaws.com)
[12:59:19] *** Quits: Wilduck (erik@moz-0l3fjb.fios.verizon.net) (Ping timeout: 121 seconds)
[12:59:19] *** Wilduck_ is now known as Wilduck
[13:00:02] *** Joins: mujou (mujou@moz-rko6lo.ocn.ne.jp)
[13:01:25] *** Joins: mbudde (mbudde@moz-gqpfnm.science.ku.dk)
[13:01:40] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[13:02:40] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[13:02:47] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:03:42] *** Quits: cakecatz (cakecatz@moz-u6p4rc.so-net.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:04:01] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[13:04:37] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Connection closed)
[13:05:17] <frankmcsherry> companion_cube: sorry for the delay; meeting happened. the code I think I could write is https://play.rust-lang.org/?gist=f89ae2ea4eedbd81ac6d&version=stable
[13:06:12] <frankmcsherry> companion_cube: I'm not sure how to remove the use of the Logic trait, which wraps up the genericity of the "start" function.
[13:07:09] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[13:08:00] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[13:08:42] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[13:09:00] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:11:54] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[13:11:55] *** Joins: jjpe (Mibbit@moz-aiqc1s.static.ziggozakelijk.nl)
[13:12:06] <jjpe> hi everyone
[13:12:24] * steveklabnik waves at jjpe :)
[13:12:44] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Connection closed)
[13:12:45] <jjpe> lol Hi steve :)
[13:13:02] <jjpe> I'm wondering how to create a C array in Rust? I need it because I need to pass an array as a buffer to a C fn
[13:13:48] <Layl> could someone remind me what the rust code formatting tool was
[13:13:56] <companion_cube> anyone knows how to make cargo output LLVM IR?
[13:14:02] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Ping timeout: 121 seconds)
[13:14:11] <VShell> Layl: rustfmt?
[13:14:16] <benh> jjpe: you can pass the address of the first element of a rust slice, i suppose
[13:14:25] <Layl> VShell, thanks that's the one
[13:14:34] <benh> jjpe: if you want the C code the free() it, you need to call malloc() yourself, though, and use the resulting pointer
[13:15:03] <geofft> jjpe: a Rust slice will coerce to a pointer, just do `slice as *mut _` (or `as *const _`, or fill in the type if needed) 
[13:15:10] <benh> oh.
[13:15:14] <Ms2ger> as_ptr(), actually
[13:15:18] *** Quits: friendo (charles@moz-rsrhtb.mo.charter.com) (Ping timeout: 121 seconds)
[13:15:30] <geofft> jjpe: just make sure it looks like it should -- C often expects arrays to be terminated with a NUL byte, NULL pointer, empty structure, etc. 
[13:15:37] <geofft> and Rust won't do that, especially not for a slice 
[13:15:53] <geofft> Ms2ger: is as_ptr() recommended over as? 
[13:15:58] <WindowsBunny> geofft: If you do slice as *mut [T] you're getting a fat pointer
[13:15:59] <geofft> (I have no idea what the style is here) 
[13:16:04] <kimundi> geofft: yes
[13:16:10] <geofft> cool 
[13:16:10] <WindowsBunny> if you do .as_ptr() you get a *? T
[13:16:14] <kimundi> geofft: especialy because the "as" solution does not work :P
[13:16:48] <geofft> oops. ok :) 
[13:16:52] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[13:17:12] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:17:20] <jjpe> thanks, guys, I'll investigate the slice route and otherwise I'll have to use malloc 
[13:18:20] <tilpner> Layl - https://github.com/sp0/rust-style and https://github.com/nrc/rustfmt
[13:18:26] *** Joins: khades (Thunderbird@moz-qgd.3vk.74.212.IP)
[13:19:44] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:20:27] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[13:20:38] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[13:20:38] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[13:20:54] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[13:21:22] <Layl> well, rustfmt just paniced on trying to actually do something
[13:22:12] *** Quits: Sho (sho@moz-pr1n4c.cust.telecolumbus.net) (Ping timeout: 121 seconds)
[13:22:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:23:00] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[13:24:49] *** Joins: Sho (sho@moz-pr1n4c.cust.telecolumbus.net)
[13:25:01] *** Joins: daschl (Adium@moz-l27udn.us.xo.net)
[13:25:52] *** Joins: aochagavia (aochagavia@moz-jgp6eg.static.ziggozakelijk.nl)
[13:26:02] *** Joins: Gyro (gyro@moz-38c.96l.252.66.IP)
[13:26:05] <aochagavia> how can I get a `BufReader` from a string?
[13:26:43] <WindowsBunny> aochagavia: First get a &[u8] using .as_bytes()
[13:27:00] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:27:36] <aochagavia> does &[u8] implement `Read`?
[13:27:42] <WindowsBunny> yes
[13:27:54] <WindowsBunny> it also impls BufRead
[13:28:00] <WindowsBunny> so you don't need BufReader
[13:28:17] <WindowsBunny> you can shove the &[u8] in a Cursor if you want seeking
[13:28:53] *** Joins: wei2912 (wei2912@moz-tg1.pv9.156.175.IP)
[13:29:45] <aochagavia> WindowsBunny: awesome! thanks
[13:29:52] *** Joins: psd (psd@moz-a0soie.mtnl.net.in)
[13:30:59] <aatch> Bah, I am too tired to write assembly right now.
[13:31:45] <WindowsBunny> aatch: Let the assembly write you instead
[13:32:40] *** Quits: JoeHazzers (joe@moz-dmae2r.joehazzers.com) (Quit: HUE)
[13:32:51] <frankmcsherry> is there a handy flag to pass to cargo to see the time breakdown of the various passes? (( think I've seen this before, but maybe just rustc )). Debug builds are taking 90s for me. =/
[13:33:05] <bluss> rustc has -Z time-passees
[13:33:21] <bluss> rustc spells better than me, too
[13:33:28] <frankmcsherry> :)
[13:33:31] <aatch> frankmcsherry, well there's `cargo rustc` which allows you to pass extra flags to rustc
[13:33:44] <frankmcsherry> aatch: aooo! I didn't know about that.
[13:33:48] <jdm_> I think cargo build -v will show the full rustc commandline you can use
[13:34:00] <WindowsBunny> cargo rustc is typically the easiest option
[13:34:04] <frankmcsherry> release build: 170s
[13:34:14] <WindowsBunny> ouch
[13:34:15] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:34:31] * jdm_ just discovered that a servo crate takes 35s to typecheck and 11s for const checking
[13:34:43] *** Joins: meh (meh@moz-e56g7l.42-151.net24.it)
[13:34:50] <aatch> frankmcsherry, it's very useful, I've been using it to look at the generated assembly for Ramp
[13:35:02] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[13:35:08] <bluss> if typechecking takes any time it's probably related to the big bug open about that
[13:35:09] *** Quits: wilsonk-laptop (kvirc@moz-a3a.hfa.64.184.IP) (Connection closed)
[13:35:16] <bluss> any significant time at all
[13:35:16] <frankmcsherry> aatch: wait, if I type "cargo rustc" it just errors at me about "No such subcommand"
[13:35:35] <bluss> the cargo distributed with the nightly knows this command
[13:35:41] <aatch> frankmcsherry, maybe your version of cargo is too old?
[13:35:48] <WindowsBunny> bluss: type checking is the longest stage in winapi
[13:35:52] <frankmcsherry> bluss: bah, I switch to stable, and look what I get for it! :)
[13:36:01] <WindowsBunny> well, actually translation is the longest, by half a second
[13:36:08] *** Quits: jdm_ (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[13:36:34] <bluss> WindowsBunny: do you know if it's related to https://github.com/rust-lang/rust/issues/25069 ?
[13:36:46] *** Quits: jiojiajiu (Guro@moz-trc2j7.asianet.co.th) (Connection closed)
[13:36:49] <Layl> I'm not seeing rust-style actually do anything
[13:36:51] *** Joins: Wilduck_ (erik@moz-0l3fjb.fios.verizon.net)
[13:36:53] <Layl> and rustfmt doesn't run for me
[13:36:58] <bluss> frankmcsherry: I develop on nightlies, target stable.. works fine. travis runs the stable builds for me..
[13:37:12] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:37:12] *** Joins: jiojiajiu (Guro@moz-trc2j7.asianet.co.th)
[13:37:32] <WindowsBunny> bluss: I don't know, since it used to be that coherence checking was the long stage
[13:37:38] *** Quits: Wilduck (erik@moz-7k30dn.compute-1.amazonaws.com) (Ping timeout: 121 seconds)
[13:37:38] *** Wilduck_ is now known as Wilduck
[13:37:38] <jjpe> malloc'ing worked, thanks so much guys you really helped me out!
[13:37:44] <WindowsBunny> and that was even longer, so I never paid attention to type checking
[13:38:05] <frankmcsherry> bluss, aatch: so, nightly cargo, can I get some help with what to type? "cargo rustc -Z time-passes" errors with "Unknown flag"
[13:38:18] *** Joins: JoeHazzers (joe@moz-dmae2r.joehazzers.com)
[13:38:24] <aatch> frankmcsherry, the extra flags come after a `--`
[13:38:25] *** Quits: rovar_ (rovar@moz-6iq.47m.88.38.IP) (Quit: Leaving)
[13:38:28] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[13:38:30] *** Joins: slomo_ (slomo@moz-p8m0g2.net)
[13:38:37] <aatch> frankmcsherry, so `cargo rustc -- -Z time-passes`
[13:38:37] <WindowsBunny> bluss: Hmmm, it seems to be about the same
[13:38:38] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (NickServ (RECOVER command used by rovar_))
[13:38:38] *** rovar_ is now known as rovar
[13:38:51] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[13:38:58] <frankmcsherry> aatch: ah, thanks!
[13:39:05] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[13:39:21] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[13:39:33] <aatch> frankmcsherry, because you can pass flags to cargo as well, if you want to, for example, compile an example instead of the main library.
[13:40:00] <WindowsBunny> bluss: winapi is just type definitions, const definitions and derived Copy/Clone/Debug
[13:40:20] <WindowsBunny> bluss: So I doubt its that issue exactly
[13:40:40] <frankmcsherry> aatch: does this interact in an unpleasant way for args to the binary itself? I suppose I can ignore that when looking at compile times
[13:40:50] *** Quits: laumann (thomas@moz-3v9.hq0.225.130.IP) (Quit: leaving)
[13:41:07] <aatch> frankmcsherry, well `cargo rustc` won't run a binary.
[13:41:21] <aatch> frankmcsherry, still need to use `cargo run` for that.
[13:41:29] *** Quits: slomo (slomo@moz-p8m0g2.net) (Ping timeout: 121 seconds)
[13:41:41] <frankmcsherry> aatch: gotchas. is "translation" supposed to be expensive? 44s there.
[13:41:45] *** Quits: jjpe (Mibbit@moz-aiqc1s.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[13:42:00] <aatch> frankmcsherry, yeah, it's normally one of the more expensive passes.
[13:42:20] <WindowsBunny> bluss: Actually, since some constants have math in them, it might be affected by gh25916
[13:42:41] *** eddyb_ is now known as eddyb
[13:42:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:42:57] <frankmcsherry> aatch: 75s in llvm module passes, 18s codegen.
[13:43:04] <frankmcsherry> aatch: I guess it is those, then.
[13:43:29] <aatch> frankmcsherry, yeah, that's fairly normally.
[13:44:26] <aatch> fairly normal*
[13:45:38] *** Joins: New (Mibbit@moz-u4s.p1j.148.159.IP)
[13:47:04] <bluss> WindowsBunny: yes, I think they are all related
[13:47:05] *** Joins: espadrine (tyl@moz-11dcv5.dsl.ovh.fr)
[13:47:27] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[13:47:37] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[13:47:49] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[13:48:10] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[13:48:13] *** Joins: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar)
[13:48:54] *** Joins: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com)
[13:50:16] *** Quits: espadrine_ (tyl@moz-h7a.l1t.215.80.IP) (Ping timeout: 121 seconds)
[13:50:48] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[13:50:52] *** Quits: New (Mibbit@moz-u4s.p1j.148.159.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:50:55] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[13:50:59] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[13:52:01] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[13:52:03] *** Joins: tadh (quassel@moz-pg51s5.CWRU.Edu)
[13:52:06] *** Joins: SerialVelocity (SerialVeloc@moz-471ihk.ic.ac.uk)
[13:52:15] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[13:55:04] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[13:55:57] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[13:56:16] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[13:56:32] *** Quits: dstrbad (dstrbad@moz-qafqkb.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[13:56:43] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:56:55] *** Joins: qwerty_nor (Thunderbird@moz-5ql.sn8.241.50.IP)
[13:57:23] *** Joins: tomprogrammer (thomas@moz-ss28pc.tr5r.qept.4dd0.2001.IP)
[13:57:31] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[13:57:56] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[13:58:01] *** Quits: perillamint (perillamint@moz-pvo.3mu.72.61.IP) (Quit: Quit - Powered by ZNC)
[13:58:24] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:58:55] *** Joins: pvinis (pvinis@moz-mddkaj.static.inode.at)
[13:58:55] *** Quits: frankmcsherry (frankmcsher@moz-gem.6oa.49.62.IP) (Connection closed)
[13:59:02] *** Joins: frankmcsherry (frankmcsher@moz-gem.6oa.49.62.IP)
[14:00:21] *** Joins: JanC_ (janc@moz-e16423.dsl.scarlet.be)
[14:01:12] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[14:01:24] *** Quits: JanC (janc@moz-p2u6i0.dsl.scarlet.be) (Ping timeout: 121 seconds)
[14:01:58] *** Quits: aldanor (ivansmirnov@moz-kc07mc.ptr.magnet.ie) (Ping timeout: 121 seconds)
[14:02:30] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:03:00] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[14:03:42] *** Joins: __ixti__ (ixti@moz-83a.rle.139.178.IP)
[14:04:26] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[14:07:02] *** Joins: wilsonk-laptop (kvirc@moz-a3a.hfa.64.184.IP)
[14:07:14] *** Joins: hio (hio___@moz-s5g.gld.254.5.IP)
[14:07:22] <hio> wheres the rust ide with debugger??
[14:07:47] <Mutabah> I don't think there is a rust IDE with integrated debugger yet
[14:07:59] <Mutabah> It's possible that IDEs with builtin GDB support could work
[14:08:01] <hio> whats the point of making a language without an IDE, who on earth uses a language in vim nowadays exxcept the language designers
[14:08:19] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[14:08:19] <duncan> lol
[14:08:21] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[14:08:37] <hio> i code only in visual studio and it's great
[14:08:56] *** Joins: joh (uid13099@moz-2c7ap3.ealing.irccloud.com)
[14:09:01] * jshs is just writing some SML code in vim
[14:09:01] *** Quits: wilsonk-laptop (kvirc@moz-a3a.hfa.64.184.IP) (Connection closed)
[14:09:13] <jshs> do I have to feel bad now?
[14:09:21] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[14:09:25] <hio> well u would use visual studio if you could
[14:09:26] <Mutabah> hio: There are many editors with rust highlghting rules, and racer support
[14:09:27] <duncan> jshs: for using vim, or for writing sml?
[14:09:46] <hio> whats a racer?
[14:09:48] *** Joins: dstrbad (dstrbad@moz-dk2ugt.dsl.iskon.hr)
[14:09:49] <duncan> hio: but that would mean i would have to use windows...
[14:10:16] <Mutabah> Racer is the tool that provides autocompletion for rust (which is used as a backend by editor plugins)
[14:10:24] <hio> windows is the user frirendliest OS
[14:10:41] <VShell> please stop being a troll, you're not very good at it.
[14:10:47] <duncan> lol, now i know it's a troll...
[14:11:18] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[14:12:26] <hio> im just saying how it is, even if its uncomfortable 
[14:12:38] *** Quits: mbudde (mbudde@moz-gqpfnm.science.ku.dk) (Ping timeout: 121 seconds)
[14:12:42] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[14:12:44] *** Joins: p32blo (p32blo@moz-96pa47.uminho.pt)
[14:13:22] <wmoxam> hio: you should just use whatever you feel most comfortable with
[14:13:31] <jshs> duncan: heh, at least I've got some syntax highlighting there (too lazy to get it for rust)
[14:13:48] *** Quits: aochagavia (aochagavia@moz-jgp6eg.static.ziggozakelijk.nl) (Quit: Leaving)
[14:13:51] *** AutomatedTester is now known as AutomatedTester|AFK
[14:13:56] *** Quits: lnwdr (lnwdr@moz-mj0.jna.74.195.IP) (Quit: Leaving...)
[14:14:11] <hio> visual studio has all kinds of good stuff, like add reference dialogs, buttons for buildings, cleaning, i can step through with f10
[14:14:19] *** Joins: saterus (saterus@moz-6vv.fih.194.209.IP)
[14:14:41] *** Quits: boss_mc (boss_mc@moz-3bm58p.cc63.ki59.0104.2620.IP) (Ping timeout: 121 seconds)
[14:15:07] *** Joins: boss_mc (boss_mc@moz-dvu5ag.cc63.ki59.0104.2620.IP)
[14:15:15] <wmoxam> hio: great, glad you found a tool that you love
[14:15:22] <jshs> didn't the gamedev folks write some VS integration for rust?
[14:15:30] <hio> yeah but it has no debugger
[14:15:34] <hio> thats the most important thing
[14:15:35] <Mutabah> jshs: I can remember something about that
[14:15:48] *** Quits: Gabriel_7 (Gabriel@moz-po3t0n.loria.fr) (Connection closed)
[14:16:27] *** Quits: tkellen (tkellen@moz-np774o.vt.comcast.net) (Ping timeout: 121 seconds)
[14:16:34] <wmoxam> https://github.com/PistonDevelopers/VisualRust
[14:16:39] <wmoxam> "Starting with Visual Studio 2015, the IDE is capable of using GDB as a debugging backend.
[14:16:42] <wmoxam> Visual Rust now supports this feature!"
[14:16:43] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[14:16:50] <wmoxam> hio: ^^
[14:17:26] *** Quits: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP) (Ping timeout: 121 seconds)
[14:17:33] <hio> why only with vs2015?
[14:17:52] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[14:18:27] <hio> ok thats actually great, but is rust on windows a mingw thing or a good thing?
[14:18:38] *** Quits: jviereck (Adium@moz-h2i275.ethz.ch) (Quit: Leaving.)
[14:19:03] *** Joins: jviereck (Adium@moz-h2i275.ethz.ch)
[14:19:21] *** Quits: saterus (saterus@moz-6vv.fih.194.209.IP) (Ping timeout: 121 seconds)
[14:20:30] <sample> is it possible to disable ***foo joined ***bar quit strings in chat?
[14:20:40] <Mutabah> hio: I think it still needs mingw for now, but work is being done for it to support completely native compilation (without needing the MinGW toolchain)
[14:20:53] <Mutabah> sample: That's a client option, check your client's documentation
[14:21:03] *** Joins: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com)
[14:21:21] <sample> i'm using mitbit.com
[14:21:34] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[14:21:35] <sample> mb someone helps :)
[14:21:52] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[14:21:54] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[14:22:12] <sample> *mibbit 
[14:22:22] *** Joins: saterus (saterus@moz-6vv.fih.194.209.IP)
[14:22:33] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[14:22:44] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[14:22:48] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[14:23:41] *** Quits: daschl (Adium@moz-l27udn.us.xo.net) (Quit: Leaving.)
[14:26:05] *** Joins: nwin (textual@moz-rmebj6.pools.arcor-ip.net)
[14:27:13] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[14:27:58] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[14:28:42] *** Joins: Guest (textual@moz-o0j.d41.27.64.IP)
[14:29:10] *** Parts: sample (Mibbit@moz-6h3.3ma.199.128.IP) ()
[14:29:35] *** Joins: zakedodead (zakedodead@moz-cg5.c4k.214.206.IP)
[14:30:26] *** Joins: durka42 (Adium@moz-qsuual.pa.comcast.net)
[14:30:33] *** Joins: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp)
[14:30:47] *** Joins: agjacome (agjacome@moz-gki9i8.ei.uvigo.es)
[14:30:56] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[14:31:14] *** Joins: jincreator (Thunderbird@moz-d7i.i1g.195.175.IP)
[14:31:15] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[14:32:45] *** Joins: sample (Mibbit@moz-6h3.3ma.199.128.IP)
[14:32:53] *** Parts: sample (Mibbit@moz-6h3.3ma.199.128.IP) ()
[14:33:16] *** Quits: jviereck (Adium@moz-h2i275.ethz.ch) (Quit: Leaving.)
[14:33:29] *** Joins: sample_ (sid@moz-6h3.3ma.199.128.IP)
[14:33:46] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[14:34:18] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[14:34:30] *** AutomatedTester|AFK is now known as AutomatedTester
[14:34:55] *** Quits: sample_ (sid@moz-6h3.3ma.199.128.IP) (Quit: Ex-Chat)
[14:34:58] *** Joins: sample_ (sid@moz-6h3.3ma.199.128.IP)
[14:35:05] *** Joins: sample (sid@moz-6h3.3ma.199.128.IP)
[14:35:05] *** Quits: sample_ (sid@moz-6h3.3ma.199.128.IP) (Connection closed)
[14:35:18] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[14:35:42] *** Joins: eholk (eholk@moz-jtq0te.crest.iu.edu)
[14:36:11] <duncan> if I have a Vec<Box<TraitObject>>, what is the best way to indicate that Box<TraitObject> implements PartialEq and Debug? tryng to do an `assert_eq!` but it is complaining that it can't do `==`
[14:36:43] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[14:36:47] <kimundi> duncan: You could try making TraitObject inherit from PartialEq and Debug
[14:37:13] *** Joins: arBmind1 (Andreas@moz-m5ff4l.adsl.alicedsl.de)
[14:37:41] <Mutabah> Yes
[14:37:45] *** Quits: sample (sid@moz-6h3.3ma.199.128.IP) (Quit: Ex-Chat)
[14:37:45] <duncan> yea, what is the syntax for that? I can't seem to find multiple trait inheritance anywhere, and `trait MyTrait : PartialEq + Debug` gives a syntax error, as well as `trait MyTrait : (PartialEq + Debug)`
[14:37:54] <Mutabah> That should work
[14:37:56] *** Joins: sample (sid@moz-6h3.3ma.199.128.IP)
[14:38:04] <duncan> hmm, maybe I fat-fingered something then
[14:38:05] <Mutabah> ("trait MyTrait: PartialEq + Debug")
[14:38:23] *** Joins: navatwo (navatwo@moz-6j66ga.bloomberg.com)
[14:38:34] *** Parts: durka42 (Adium@moz-qsuual.pa.comcast.net) ()
[14:38:39] *** Quits: arBmind (Andreas@moz-m5ff4l.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[14:38:46] *** Quits: sample (sid@moz-6h3.3ma.199.128.IP) (Quit: Ex-Chat)
[14:38:46] *** Quits: p32blo (p32blo@moz-96pa47.uminho.pt) (Ping timeout: 121 seconds)
[14:38:48] <navatwo> Hi, stupid question, what is the correct syntax for uppercasing a String or str?
[14:38:54] <tilpner> playbot: trait A {} trait B trait C: A + B {}
[14:38:55] -playbot- <anon>:9:28: 9:33 error: expected one of `:`, `<`, `where`, or `{`, found `trait`
[14:38:56] -playbot- <anon>:9         trait A {} trait B trait C: A + B {}
[14:38:56] -playbot- output truncated; full output at: http://bit.ly/1I92aTl
[14:39:07] *** Quits: nwin (textual@moz-rmebj6.pools.arcor-ip.net) (Quit: My Mac Mini has gone to sleep. ZZZzzz…)
[14:39:07] <duncan> Mutabah kimundi: must have fat-fingered it, thanks
[14:39:10] <tilpner> playbot: trait A {} trait B {} trait C: A + B {}
[14:39:12] -playbot- ()
[14:39:14] <bluss> duncan: it shouldn't be a syntax error without ()'s
[14:39:17] *** Joins: sample (sid@moz-6h3.3ma.199.128.IP)
[14:39:38] <bluss> duncan: you can't indicate "from inside the box" that Box<TraitObject> implements PartialEq
[14:39:40] <Mutabah> navatwo: to_upper, maybe. Why?
[14:39:43] <bluss> PartialEq is not object safe
[14:39:57] <bluss> PartialEq<SpecificType> would be object safe, I think
[14:40:04] <Mutabah> bluss: Yeah, that's safe
[14:40:32] <tilpner> playbot: "HeLlo wOrld!".to_uppercase()
[14:40:35] -playbot- <anon>:9:24: 9:38 error: use of unstable library feature 'collections'
[14:40:36] -playbot- <anon>:9         "HeLlo wOrld!".to_uppercase()
[14:40:36] -playbot- output truncated; full output at: http://bit.ly/1I92Ecf
[14:40:45] <Mutabah> navatwo: str::to_uppercase is avaliable, but unstable
[14:40:58] *** Joins: mukilan (mukilan@moz-cjo.er7.164.122.IP)
[14:41:04] <Mutabah> navatwo: However, there is char::to_uppercase (which is stable)
[14:41:07] *** Joins: Nextra (Nextra@moz-4htg7f.ewe-ip-backbone.de)
[14:41:07] *** Quits: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:41:20] <kimundi> playbot: "hellö".chars().flat_map(char::to_uppercase).collect::<String>()
[14:41:22] -playbot- "HELL\u{d6}"
[14:41:28] <Mutabah> ninja'd by kimundi 
[14:41:32] <tumm> win!
[14:41:51] <navatwo> Seems excessive :( but thanks!
[14:41:55] <navatwo> I figured I'd have to do a char map
[14:41:58] *** nsm|away is now known as nsm
[14:42:06] <Mutabah> navatwo: Exactly how often do you need to convert something to upper?
[14:42:21] <Mutabah> navatwo: And also, a single codepoint might become two when converted to uppercase
[14:42:36] <Mutabah> navatwo: Not all scripts have a simple 1:1 mapping like latin does
[14:42:41] <navatwo> I'm just trying to do some learning stuff, but it is something that is fairly common. That being said, there's obvious difficulties with different code point types
[14:42:43] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[14:42:43] <navatwo> yeah
[14:42:45] *** Quits: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar) (Ping timeout: 121 seconds)
[14:42:54] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[14:42:58] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[14:43:01] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[14:43:02] <navatwo> definitely. I see the reason for being "later"
[14:43:25] <Mutabah> A large problem I've seen in my time on this channel is that many "beginner" programming exersises make assumptions that don't hold in rust
[14:43:26] <navatwo> Do unstable features generally get moved into stable?
[14:43:31] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[14:43:31] *** ChanServ sets mode: +o jdm
[14:43:35] *** Quits: SerialVelocity (SerialVeloc@moz-471ihk.ic.ac.uk) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:43:38] <navatwo> yeah, this is one such case :P
[14:43:41] <Mutabah> (Mostly becuase thay're related to strings, which rust tries to make hard to do wrong)
[14:44:00] <kimundi> playbot: "hellö".to_ascii_uppercase()
[14:44:01] -playbot- output truncated; full output at: http://bit.ly/1AIIYwc
[14:44:03] <navatwo> understanding the difference between &str and String was confusing. but makes sense now that I know
[14:44:10] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[14:44:21] <kimundi> playbot: use std::ascii::AsciiExt; "hellö".to_ascii_uppercase()
[14:44:25] -playbot- "HELL\u{f6}"
[14:44:38] <kimundi> navatwo: ^ Simpler variant for learning stuff I guess
[14:46:15] <navatwo> kimundi, unsure about this one.. http://bit.ly/1IafA4d
[14:46:19] <navatwo> since that doesn't compile
[14:46:58] <Mutabah> navatwo: uppercase, not upper
[14:47:06] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:47:18] <sp3d> to_ascii_uppercase is a kind of weird name for something that doesn't reliably give you something in ASCII or uppercase...
[14:47:24] <bluss> playbot: use std::ascii::AsciiExt; "hellö".to_ascii_uppercase() // obligatory quirk
[14:47:26] -playbot- "HELLO\u{308}"
[14:47:28] <sp3d> ascii_to_uppercase would be a better name
[14:47:29] <Mutabah> sp3d: It uppercases ascii characters
[14:47:35] <navatwo> Welp, that's embarassing
[14:47:37] *** Joins: housl (housl@moz-238.d49.27.76.IP)
[14:47:48] <navatwo> thanks :$
[14:48:21] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[14:48:43] *** Joins: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp)
[14:49:00] *** Joins: jviereck (Adium@moz-9vg37n.dip0.t-ipconnect.de)
[14:49:02] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[14:49:09] *** Joins: dfockler (dfockler@moz-etoj16.hfc.comcastbusiness.net)
[14:50:01] *** Quits: meh (meh@moz-e56g7l.42-151.net24.it) (Ping timeout: 121 seconds)
[14:50:01] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[14:50:10] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[14:51:03] *** Quits: slomo_ (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[14:51:16] *** Joins: davebettin (textual@moz-rnhkmd.bendcable.com)
[14:51:20] *** Joins: meh (meh@moz-e56g7l.42-151.net24.it)
[14:52:09] *** Joins: waffles (Wafflespean@moz-sf5.673.193.113.IP)
[14:52:42] *** Joins: bkearns (Adium@moz-2l9j31.ca.comcast.net)
[14:55:44] *** Joins: alaska (alaska@moz-8bdjem.fios.verizon.net)
[14:56:33] *** Quits: bkearns (Adium@moz-2l9j31.ca.comcast.net) (Quit: Leaving.)
[14:56:39] *** Joins: bkearns (Adium@moz-2l9j31.ca.comcast.net)
[14:56:42] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[14:56:44] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[14:56:57] *** Quits: bkearns (Adium@moz-2l9j31.ca.comcast.net) (Connection closed)
[14:58:24] *** Joins: bkearns (Adium@moz-2l9j31.ca.comcast.net)
[14:58:46] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[14:59:46] *** Quits: alaska (alaska@moz-8bdjem.fios.verizon.net) (Ping timeout: 121 seconds)
[14:59:49] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[15:00:20] *** Joins: crisco_ (crisco@moz-f5a.efk.198.67.IP)
[15:01:00] *** Quits: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[15:01:05] *** Joins: RCIX (RCIX@moz-vnmep7.ph.cox.net)
[15:01:05] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Client exited)
[15:01:11] *** Quits: pvinis (pvinis@moz-mddkaj.static.inode.at) (Quit: Leaving...)
[15:01:22] *** Quits: crisco__ (crisco@moz-f5a.efk.198.67.IP) (Connection closed)
[15:01:51] *** Joins: p32blo (p32blo@moz-96pa47.uminho.pt)
[15:02:02] *** Joins: Guest_ (textual@moz-lmfinb.fios.verizon.net)
[15:03:00] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[15:03:01] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[15:03:39] *** bentley|away is now known as bentley
[15:05:06] *** Quits: deadc0de (chsitter@moz-lrh.035.31.94.IP) (Ping timeout: 121 seconds)
[15:05:30] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[15:05:36] *** zz_NameNotFound is now known as NameNotFound
[15:06:05] *** Joins: Hannibal_Smith (nico@moz-itj1vp.retail.telecomitalia.it)
[15:06:28] *** Quits: yuja (yuja@moz-9860l5.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:06:48] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[15:07:15] *** Joins: deadc0de (chsitter@moz-lrh.035.31.94.IP)
[15:08:22] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[15:08:43] *** Quits: wei2912 (wei2912@moz-tg1.pv9.156.175.IP) (A TLS packet with unexpected length was received.)
[15:09:13] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[15:09:28] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[15:10:52] *** Joins: psy (psy@moz-p6c.hr7.224.43.IP)
[15:10:52] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:12:08] *** Joins: alaska (alaska@moz-g1d0bn.vrt.sourcefire.com)
[15:12:27] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[15:12:59] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Connection closed)
[15:13:15] *** Joins: saati_ (s@moz-h8cvkq.harmless.hu)
[15:13:56] *** Quits: misheska_ (misheska@moz-l070dd.6pqu.c3mb.0149.2620.IP) (Ping timeout: 121 seconds)
[15:14:06] *** Quits: v21 (vee@moz-3lf.eo8.4.171.IP) (Ping timeout: 121 seconds)
[15:14:19] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: 堕入 /dev/null)
[15:14:46] *** Quits: saati (s@moz-h8cvkq.harmless.hu) (Ping timeout: 121 seconds)
[15:14:58] *** Quits: ed_ (ed@moz-csaijo.cust.tele2.at) (Ping timeout: 121 seconds)
[15:14:59] <derek> Hey, could someone help me understand why my solution to Project Euler Problem 17 isn't correct? It works for all the examples they give, but the actual answer itself does not work http://pastebin.com/jjXhQX2D
[15:15:03] *** NameNotFound is now known as zz_NameNotFound
[15:15:10] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Ping timeout: 121 seconds)
[15:15:14] *** Quits: Jackneill (Jackneill@moz-p0a82d.pool.digikabel.hu) (Ping timeout: 121 seconds)
[15:15:25] <geofft> er, that appears to be Haskell? 
[15:15:27] *** Joins: perillamint (perillamint@moz-pvo.3mu.72.61.IP)
[15:15:31] <derek> Ah, wrong IRC room
[15:15:33] <geofft> :) 
[15:15:35] <navatwo> :P
[15:15:38] <derek> Sorry I get confused sometimes.
[15:16:00] <waffles> geofft: Haskell? Does Mozilla's IRC provide rooms for that too? O_O
[15:16:44] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[15:17:15] <Mutabah> waffles: Probably has a client connected to multiple servers
[15:17:17] *** bentley is now known as bentley|away
[15:17:24] <Mutabah> (I'm connected to about five)
[15:17:50] <derek> Yeah, far to many at the moment
[15:17:54] *** Joins: kkus (kkus@moz-48u.h1l.234.165.IP)
[15:18:19] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[15:18:33] <derek> https://imgur.com/vegQo09
[15:18:53] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[15:19:16] <navatwo> Is weechat an irssi fork?
[15:20:07] *** Joins: inetic (Mibbit@moz-1dp5lr.dynamic.chello.sk)
[15:20:17] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (A TLS packet with unexpected length was received.)
[15:20:49] <navatwo> I revoke my previous question.
[15:21:14] *** Joins: ed_ (ed@moz-csaijo.cust.tele2.at)
[15:21:22] *** Joins: Deepfriedice (Deepfriedic@moz-ga4bri.bigpond.net.au)
[15:21:43] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[15:21:43] *** AutomatedTester is now known as AutomatedTester|AFK
[15:22:05] <derek> navatwo: nope
[15:22:09] *** Quits: alaska (alaska@moz-g1d0bn.vrt.sourcefire.com) (Ping timeout: 121 seconds)
[15:22:18] <derek> I really like it at the moment
[15:22:21] *** Joins: Halamix2 (Halamix2@moz-kqe47j.syrion.pl)
[15:22:32] *** Parts: Deepfriedice (Deepfriedic@moz-ga4bri.bigpond.net.au) ("Leaving")
[15:22:33] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[15:22:44] <derek> Had to build the latest version on my server which was a pain, but apart from that it's great.
[15:22:55] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[15:23:01] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[15:23:21] <navatwo> I looked it up, it looks nice. I used irssi for years, and I miss it.
[15:23:56] *** Joins: ventos (ventos@moz-991isa.coding4coffee.org)
[15:24:05] *** Joins: forgottenone (forgottenon@moz-hll.04i.45.92.IP)
[15:25:10] <waffles> Mutabah: ah, yeah...
[15:25:34] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[15:26:04] <Mutabah> Meanwhile - Anyone feel like commenting on this? (Concept and execution) https://github.com/thepowersgang/stack_dst-rs/blob/master/src/lib.rs#L1
[15:26:35] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (Ping timeout: 121 seconds)
[15:26:44] <inetic> Hi guys, I have a structure which contains [u8; SOME_CONSTANT] slice, if SOME_CONSTANT is less or equal to 32, then my structure can derive from Clone, Eq and Ord, but if it's 33 or more, I get an error: "the trait `core::cmp::Eq` is not implemented for the type `[u8; 64]`". Is that intended? Is there a workaround for it?
[15:27:14] <Mutabah> inetic: Manually implement the above traits
[15:27:27] <Mutabah> (yeah, sorry, that's the only way at the moment)
[15:27:27] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[15:27:32] *** Quits: dstrbad (dstrbad@moz-dk2ugt.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[15:27:52] <inetic> @Mutabah, unfortunate, but thanks
[15:28:10] <derek> waffles: what are you using at the moment?
[15:28:10] *** Quits: p32blo (p32blo@moz-96pa47.uminho.pt) (Quit: Leaving.)
[15:28:12] *** Joins: p32blo (p32blo@moz-96pa47.uminho.pt)
[15:28:29] <waffles> derek: You mean IRC client?
[15:28:29] *** Joins: jaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[15:28:36] <kimundi> inetic: Its because RUst doesn'T yet know how to be generic over an array length. So the std lib just implements traits for up to length 32 ewith a macro
[15:28:44] <Mutabah> Damnit kimundi 
[15:28:51] <kimundi> ;D
[15:29:02] <Mutabah> (I had that much written, and was about to hit enter)
[15:29:11] *** Joins: lenstr (lenstr@moz-9fj.vju.25.171.IP)
[15:29:12] <inetic> @kimundi: aha, makes sense now.
[15:29:44] *** Quits: spacepluk (spacepluk@moz-sbuncd.compute-1.amazonaws.com) (Quit: ZNC - http://znc.in)
[15:29:50] *** Joins: jedireza (textual@moz-allpoi.ca.comcast.net)
[15:31:10] *** Joins: spacepluk (spacepluk@moz-sbuncd.compute-1.amazonaws.com)
[15:31:19] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[15:31:31] *** Joins: Jackneill (Jackneill@moz-p0a82d.pool.digikabel.hu)
[15:31:51] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[15:31:51] *** Quits: frankmcsherry (frankmcsher@moz-gem.6oa.49.62.IP) (Connection closed)
[15:32:00] *** Joins: frankmcsherry (frankmcsher@moz-gem.6oa.49.62.IP)
[15:32:07] <derek> waffles: yeah
[15:32:12] <waffles> derek: Hex chat
[15:32:41] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[15:33:24] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[15:33:33] *** AutomatedTester|AFK is now known as AutomatedTester
[15:33:51] <derek> ah I see
[15:34:09] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[15:36:26] *** Joins: bfrog (tburdick@moz-hde.5e5.136.67.IP)
[15:36:45] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[15:36:45] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:36:54] *** Quits: sample (sid@moz-6h3.3ma.199.128.IP) (Connection closed)
[15:36:58] *** Joins: grodan (Mibbit@moz-o5eg8b.bredband.comhem.se)
[15:37:49] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[15:38:14] *** Quits: tomaka (Pierre@moz-ppjd78.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[15:38:49] *** nsm is now known as nsm|away
[15:39:05] *** Joins: misheska (misheska@moz-8ib.lm4.212.17.IP)
[15:39:17] *** Joins: tomaka (Pierre@moz-ppjd78.abo.wanadoo.fr)
[15:41:01] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[15:41:06] *** zz_NameNotFound is now known as NameNotFound
[15:42:22] *** Joins: jnvsor (j@moz-1o1jrn.dynamic.ziggo.nl)
[15:42:39] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[15:43:01] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[15:43:04] *** Joins: misheska_ (misheska@moz-l070dd.6pqu.c3mb.0149.2620.IP)
[15:43:23] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Connection closed)
[15:43:25] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[15:43:52] *** Quits: misheska (misheska@moz-8ib.lm4.212.17.IP) (Ping timeout: 121 seconds)
[15:44:00] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[15:44:08] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[15:44:09] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Connection closed)
[15:44:43] *** Joins: rumpler (Mibbit@moz-d9fn30.HINET-IP.hinet.net)
[15:45:12] <rumpler> I am curious about why it needs to be 0x1d. anybody has ideas ? https://github.com/rust-lang/rust/blob/b77d60adb019bb5de05e884a99f3290ec4694137/src/libcore/mem.rs#L417
[15:46:12] <Mutabah> rumpler: Random noticable value/
[15:47:01] <rumpler> Mutabah, hmm, got it. Thanks.
[15:47:12] *** Quits: misheska_ (misheska@moz-l070dd.6pqu.c3mb.0149.2620.IP) (Ping timeout: 121 seconds)
[15:47:35] *** Joins: rick68 (Mibbit@moz-4d3ral.HINET-IP.hinet.net)
[15:47:37] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[15:47:38] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[15:47:45] *** Joins: partkyle (partkyle@moz-e8m.r65.206.12.IP)
[15:47:59] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[15:48:08] *** Quits: hohoho (hohoho@moz-jqco1f.pools.vodafone-ip.de) (Quit: Leaving)
[15:48:15] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[15:48:25] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[15:48:43] <Mutabah> rumpler: I'm not sure of any other reason, but that's the most likely
[15:49:09] *** Joins: dfinning_ (dfinninger@moz-onopql.a2nu.p4uc.100c.2600.IP)
[15:49:17] *** Joins: misheska__ (misheska@moz-8ib.lm4.212.17.IP)
[15:49:26] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Ping timeout: 121 seconds)
[15:49:28] <rumpler> Mutabah: Yup, I think so.
[15:49:36] <duncan> i'm having trouble building from source on freebsd, anyone have a minute to take a look?
[15:49:39] <duncan> http://pastebin.com/49R5FhG4
[15:49:42] *** Joins: findow (Mibbit@moz-c0t.4s4.71.68.IP)
[15:49:48] *** Quits: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP) (A TLS packet with unexpected length was received.)
[15:50:10] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[15:50:25] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[15:50:39] *** Joins: bernard (Mibbit@moz-3vi.amk.57.27.IP)
[15:50:42] *** Joins: sth_fish (south_fish@moz-v21.spo.147.217.IP)
[15:50:50] <Mutabah> duncan: Was that from a clean build attempt?
[15:51:13] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[15:51:18] <bernard> hi there. is there a ssh client library available in rust?
[15:51:28] <findow> ever since i ctrl-C'd during a `cargo update` (not sure if it's actually related), i get this error whenever i try to cargo {install,update} when I have external deps in my Cargofile: https://dl.dropboxusercontent.com/spa/quq37nq1583x0lf/gplds5u-.png
[15:51:32] *** Quits: hroi (hroi@moz-92kqno.ngdc.dk) (Ping timeout: 121 seconds)
[15:51:41] <mbrubeck> !crate ssh2
[15:51:41] <rustbot> ssh2 (0.2.7) - Bindings to libssh2 for interacting with SSH servers and executing remotecommands, forwarding local ports, etc. -> https://crates.io/crates/ssh2
[15:51:43] <findow> (Unable to update registry,index is locked)
[15:51:45] <mbrubeck> bernard: ^
[15:52:00] *** Joins: so_fish (south_fish@moz-v21.spo.147.217.IP)
[15:52:01] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[15:52:11] <mbrubeck> findow: You can just move your ~/.cargo to a different location
[15:52:22] <mbrubeck> findow: There might be a less-brute-force solution too, but I don't know it off-hand. :)
[15:52:41] <duncan> Mutabah: yes, that was actually from the official Port, but I get the same result when downloading the tarball and kicking off the build manually
[15:52:49] <mbrubeck> findow: If you can find the lockfile in ~/.cargo, you could just remove that. strace might help if the filename isn't obvious.
[15:52:58] <duncan> (by 'official' i mean freebsd-official, not mozila-official)
[15:53:06] *** Joins: hroi (hroi@moz-92kqno.ngdc.dk)
[15:53:24] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Connection closed)
[15:53:40] <findow> mbrubeck: thanks, wish i asked about this a week ago. 
[15:53:41] *** Joins: lenstr_ (lenstr@moz-b1i.vju.25.171.IP)
[15:53:47] *** Quits: partkyle (partkyle@moz-e8m.r65.206.12.IP) (Quit: Leaving.)
[15:53:48] <findow> i reckon other noobs will encounter this. it's easy to reproduce
[15:53:55] <bernard> thanks mbrubeck
[15:54:00] *** Quits: south_fish (south_fish@moz-v21.spo.147.217.IP) (Ping timeout: 121 seconds)
[15:54:22] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[15:54:24] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[15:54:26] *** nsm|away is now known as nsm
[15:54:46] *** Quits: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP) (Ping timeout: 121 seconds)
[15:54:47] <mbrubeck> findow: Maybe file a bug against cargo asking for a better error message?  It could suggest solutions like "remove lockfile at <path> or wait for process <pid>"
[15:54:53] *** Quits: misheska__ (misheska@moz-8ib.lm4.212.17.IP) (Ping timeout: 121 seconds)
[15:54:54] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[15:55:12] *** Quits: sth_fish (south_fish@moz-v21.spo.147.217.IP) (Ping timeout: 121 seconds)
[15:55:28] *** Quits: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net) (Quit: Leaving...)
[15:55:37] *** NameNotFound is now known as zz_NameNotFound
[15:55:47] <mbrubeck> Trying to look in the cargo source for the relevant code, but it's hard because Cargo uses "lockfile" to mean something unrelated. :P
[15:56:13] *** Quits: lenstr (lenstr@moz-9fj.vju.25.171.IP) (Ping timeout: 121 seconds)
[15:56:57] *** Quits: findow (Mibbit@moz-c0t.4s4.71.68.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:57:22] *** Quits: Gyro (gyro@moz-38c.96l.252.66.IP) (Ping timeout: 121 seconds)
[15:57:23] *** Joins: ubeatlenine (david@moz-0238bs.east.myfairpoint.net)
[15:57:55] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[15:58:26] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:59:04] *** Quits: hroi (hroi@moz-92kqno.ngdc.dk) (Ping timeout: 121 seconds)
[15:59:25] *** Parts: bernard (Mibbit@moz-3vi.amk.57.27.IP) ()
[16:00:10] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[16:00:31] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[16:01:28] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[16:01:49] *** Quits: thalleralexander (thalleralex@moz-cfcrtj.static.qsc.de) (Quit: Leaving)
[16:02:01] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:02:46] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:03:05] *** Quits: p32blo (p32blo@moz-96pa47.uminho.pt) (Ping timeout: 121 seconds)
[16:03:28] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[16:03:28] *** zz_NameNotFound is now known as NameNotFound
[16:03:35] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[16:04:09] *** Quits: rumpler (Mibbit@moz-d9fn30.HINET-IP.hinet.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:04:12] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:04:22] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:04:23] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[16:05:02] *** AutomatedTester is now known as AutomatedTester|AFK
[16:05:03] *** Quits: areski (areski@moz-5mpvkv.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[16:05:34] *** Joins: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net)
[16:06:04] *** Quits: michas (michas@moz-7d87dj.web.vodafone.de) (Ping timeout: 121 seconds)
[16:06:37] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[16:07:03] *** Quits: aredridel (aredridel@moz-4ipci1.mn92.glcm.0470.2001.IP) (Ping timeout: 121 seconds)
[16:07:57] *** Quits: godlikesme (godlikesme@moz-2a2.dsd.174.79.IP) (Quit: Leaving)
[16:08:04] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[16:08:06] *** NameNotFound is now known as zz_NameNotFound
[16:08:20] *** zz_NameNotFound is now known as NameNotFound
[16:08:25] <cjwelborn> I've been seeing '.into()' more lately. What is the difference between `let s = String::from("")` and `let s: String = "".into()`? Just opposite sides of the same coin?
[16:08:34] *** gaye is now known as gaye|brb
[16:08:45] <Mutabah> Think so
[16:09:15] *** Quits: dfinning_ (dfinninger@moz-onopql.a2nu.p4uc.100c.2600.IP) (Connection closed)
[16:09:21] <Mutabah> Yeah, there's an impl of "Into<U> for T where U: From<T>"
[16:09:31] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[16:09:33] *** Joins: aredridel (aredridel@moz-4ipci1.mn92.glcm.0470.2001.IP)
[16:09:40] *** Quits: phynx (chatzilla@moz-cqe5l1.dsl.scarlet.be) (Ping timeout: 121 seconds)
[16:09:56] *** Quits: laparca2 (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[16:10:15] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[16:10:23] <cjwelborn> Awesome. Thanks Mutabah.
[16:10:30] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Ping timeout: 121 seconds)
[16:10:49] *** Quits: skade (skade@moz-4eh.d50.201.212.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:10:52] <bluss> "".into() resolves on the value needed
[16:11:05] <bluss> so "".into() should be able to produce a Cow<str> for example
[16:11:09] *** Joins: lilybet (Mibbit@moz-a69.8f6.230.213.IP)
[16:11:14] <bluss> it's the flexible side of the coin
[16:11:23] *** Joins: cholcombe (chris@moz-mtfab9.or.comcast.net)
[16:11:45] <dirvine> Hi, does anyone know of a way to get all the IP addresses on a windows machine? Currently one of our guys is looking at some pretty major FFI implementation, be nice if there was a simpler solution 
[16:12:00] * mbrubeck tries to imagine a coin with one flexible side
[16:12:29] *** Joins: aisrael (aisrael@moz-fid.anf.108.114.IP)
[16:13:33] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:13:36] *** Quits: saterus (saterus@moz-6vv.fih.194.209.IP) (Connection closed)
[16:13:57] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[16:13:58] *** Joins: saterus (saterus@moz-6vv.fih.194.209.IP)
[16:14:12] <cjwelborn> I like it.
[16:14:20] <Mutabah> dirvine: Don't know of one in the std
[16:14:26] *** Joins: alaska (alaska@moz-g1d0bn.vrt.sourcefire.com)
[16:14:41] <Mutabah> usually, I file questions like this in the "Why do you want to" basket
[16:15:02] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[16:15:03] *** Joins: daschl (Adium@moz-qm5.9n4.200.216.IP)
[16:15:24] *** Joins: demilux (demilux@moz-fk1.kt4.14.64.IP)
[16:16:09] *** Joins: phore (phore@moz-p8hanb.cable.rogers.com)
[16:16:16] <aisrael> hi, rust
[16:16:29] <phore> hi, aisrael!
[16:16:39] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[16:16:44] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[16:16:45] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:16:51] *** Quits: Funkill[wrk] (Funkill@moz-pmt.89o.175.79.IP) (Ping timeout: 121 seconds)
[16:17:09] *** Quits: rmdashrf (rmdashrf@moz-ecr.kjm.54.128.IP) (Quit: WeeChat 0.4.2)
[16:17:19] <aisrael> suppose i have a function (or set of functions) that accept strings, then I just CString::new().unwrap().as_ptr() them anyway to do FFI calls
[16:17:35] *** Quits: hoverbear (hoverbear@moz-665.6hv.18.72.IP) (Quit: WeeChat 1.1.1)
[16:17:59] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Ping timeout: 121 seconds)
[16:18:03] *** Quits: saterus (saterus@moz-6vv.fih.194.209.IP) (Ping timeout: 121 seconds)
[16:18:04] *** Joins: hroi (hroi@moz-d273ub.static.netgroup.dk)
[16:18:20] *** Quits: daschl (Adium@moz-qm5.9n4.200.216.IP) (Quit: Leaving.)
[16:18:34] <aisrael> i just discovered that I could accept both &str and String using a form of ‘overloading’, using something like:
[16:18:35] <aisrael> pub fn conf_read_file<String: Into<Vec<u8>>>(config_filename: String)
[16:18:53] <Mutabah> aisrael: Not even that, use AsRef<str>
[16:19:04] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:19:06] *** Joins: michas (michas@moz-ts7pe6.web.vodafone.de)
[16:19:11] <aisrael> Huh… let me try, thanks! :)
[16:19:28] <dirvine> Mutabah Creating a beacon serive to listen on all IP addresses & not wishing to use 0.0.0.0 
[16:19:29] <Mutabah> Or the better one, AsRef<Path>, because that's what the fs functions take
[16:19:30] *** Quits: mtsr_ (mtsr@moz-40gpj7.yourbnc.co.uk) (Ping timeout: 121 seconds)
[16:19:34] *** Joins: O01eg (o01eg@moz-i1t4iu.kiim.3egh.2698.2a02.IP)
[16:19:36] *** Joins: friendo (charles@moz-rsrhtb.mo.charter.com)
[16:20:18] *** Quits: ubeatlenine (david@moz-0238bs.east.myfairpoint.net) (Quit: WeeChat 1.2)
[16:20:23] *** Joins: maximih (maximih@moz-3vqi5j.k49b.su5n.2002.2001.IP)
[16:21:35] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[16:22:00] <aisrael> @Mutabah, if I do pub fn conf_read_file(&self, config_filename: AsRef<str>), then I get error: the trait `core::marker::Sized` is not implemented for the type `core::convert::AsRef<str>`
[16:22:08] <dirvine> I think a way to get all IP addresses and confirm globally routable one would be nice (or address used for Internet) via default router. For now we are trying a LAN only discivery protocol and therefor all addresses being considered as potentially accessable on LAN 
[16:22:22] *** Quits: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[16:22:35] *** Quits: kaeluka (kaeluka@moz-dj2nag.eduroam.uu.se) (Client exited)
[16:22:40] <Mutabah> aisrael: It's the bound, not the type
[16:22:54] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[16:23:02] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:23:15] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[16:23:24] *** Guest_ is now known as crash_ep
[16:23:28] *** Joins: Gabriel_7 (Gabriel@moz-de3ee2.mtgr.92aj.0e35.2a01.IP)
[16:23:30] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[16:23:32] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[16:23:33] *** Joins: ubeatlenine (david@moz-0238bs.east.myfairpoint.net)
[16:23:35] <aisrael> @Mutabah, I also tried
[16:23:36] <aisrael> pub fn conf_read_file<S: AsRef<str>>(&self, config_filename: S)
[16:23:37] <aisrael> and got
[16:23:37] <aisrael> error: the trait `core::convert::From<S>` is not implemented for the type `collections::vec::Vec<u8>`
[16:24:26] *** Quits: maximih (maximih@moz-3vqi5j.k49b.su5n.2002.2001.IP) (Ping timeout: 121 seconds)
[16:24:37] <Mutabah> aisrael: Why are you passing a Vec<u8> as a string?
[16:24:45] <Mutabah> (or as a path)
[16:25:15] <kimundi> aisrael: What are you doing inside the function that you need a Vec<u8>? Usually a "filename" paramter ought to be a &Path, or something convertible to one
[16:25:17] <aisrael> @Mutabah, I’m passing it to CString::new(), so I get it as a *const c_char (for FFI)
[16:25:33] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[16:25:43] <WindowsBunny> aisrael: Not very Windows friendly you are
[16:25:45] <Mutabah> Yeah, what kimundi said
[16:25:51] *** Joins: Stebalien (Stebalien@moz-fbd.so6.4.75.IP)
[16:25:56] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[16:26:05] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[16:26:10] <aisrael> @kimundi, it’s not just paths. I also read & write strings via the external lib (Ceph)
[16:26:24] <kimundi> hm
[16:26:25] <WindowsBunny> aisrael: If you get a CString from an external library, what encoding does that library use?
[16:26:26] <Mutabah> aisrael: (offtopic - Mind dropping that @? Most clients hilight differently when the nick is the first thing on the line)
[16:26:37] <aisrael> I’m trying to overload my functions (or methods) accept both ‘static &str and String
[16:26:44] <WindowsBunny> And also, does that library still use c_char* even on Windows?
[16:26:56] * aisrael will drop the @ since am not on Slack
[16:28:03] <aisrael> WIndowsBunny the external lib (Ceph) just stores whatever set of bytes you send it, so whatever encoding you use, I suppose?
[16:28:03] *** Joins: chellmuth (chellmuth@moz-0cdr9a.co.comcast.net)
[16:28:09] *** Joins: sfalcon (textual@moz-jqf.n3j.210.209.IP)
[16:28:21] <WindowsBunny> aisrael: Does it just store it, it doesn't pass it to the OS or anything?
[16:28:24] *** Quits: frankmcsherry (frankmcsher@moz-gem.6oa.49.62.IP) (Quit: Leaving...)
[16:28:49] <WindowsBunny> If you're in full control of what you send it, and it doesn't forward it on to the OS, then everything is fine and dandy
[16:28:52] <aisrael> WindowsBunn:, I would expect it stores & retrieves verbatim
[16:28:59] *** Joins: khades1 (Thunderbird@moz-qgd.3vk.74.212.IP)
[16:29:14] *** Quits: moa (Cedric@moz-48pbmv.rev.numericable.fr) (Ping timeout: 121 seconds)
[16:29:25] *** Quits: lilybet (Mibbit@moz-a69.8f6.230.213.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:29:28] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[16:29:52] <WindowsBunny> aisrael: You can use .to_str() on a CStr(ing) to get a &str
[16:29:56] * aisrael still has to figure out how to idiomatically do platform-specific (or agnostic), locale-sensitive charset encoding/decoding in Rust
[16:30:06] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Quit: Leaving)
[16:30:11] *** Joins: Gyro (gyro@moz-38c.96l.252.66.IP)
[16:30:13] *** Joins: User_ (User@moz-f6sd9k.custommoversservices.com)
[16:30:35] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[16:30:54] <WindowsBunny> on Windows, the only sane option is using UTF-16, on non-windows you can typically assume UTF-8 usually maybe
[16:30:58] *** Quits: khades (Thunderbird@moz-qgd.3vk.74.212.IP) (Ping timeout: 121 seconds)
[16:31:06] *** Quits: so_fish (south_fish@moz-v21.spo.147.217.IP) (Ping timeout: 121 seconds)
[16:31:22] <aisrael> WindowsBunny: actually, that’s my other question. I think I figured out how to ‘read’ into a buf[] of u8/i8/c_char. Am just not sure if what I’m doing is idiomatic :)
[16:31:27] *** Joins: sbditto85 (Mibbit@moz-n21.sls.50.216.IP)
[16:31:38] <cholcombe> is it bad form to be calling functions in the constructor for a struct?
[16:31:39] *** Quits: __ixti__ (ixti@moz-83a.rle.139.178.IP) (Ping timeout: 121 seconds)
[16:31:56] *** Quits: jedireza (textual@moz-allpoi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:32:03] <sbditto85> is there any way to use a closure inside a thread::spawn( move || { /* use here*/});
[16:32:13] *** Joins: areski (areski@moz-77efj3.user.ono.com)
[16:32:58] <tilpner> cholcombe - Depends on what they do. Anything with bad side-effects probably doesn't belong in ::new.
[16:33:09] *** Quits: Soulfoam (User@moz-f6sd9k.custommoversservices.com) (Ping timeout: 121 seconds)
[16:33:15] <cholcombe> tilpner: yeah possibly has some bad side effects.  i'll leave it out
[16:33:31] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[16:33:41] <tilpner> cholcombe - If you label your constructor or struct appropriately, it won't be a problem. What is it doing?
[16:33:58] <cholcombe> i was going to have the constructor call std::env and fill out a bunch of information
[16:34:39] <kimundi> That sounds bad even if it where not in a constructur :P
[16:34:45] <cholcombe> haha
[16:34:49] <cholcombe> yeah i know..
[16:34:49] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[16:34:53] <tilpner> cholcombe - I would allow for ::new to specify these, and have ::new_from_env which reads them from std::env.
[16:35:04] <cholcombe> good idea
[16:35:29] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[16:35:39] <tilpner> cholcombe - But I don't know about your domain, so that may very well be a rather stupid thing to do.
[16:35:49] <cholcombe> i can show you the code in a gist if you like
[16:36:06] <cholcombe> i'm basically just grabbing a bunch of env variables if they exist and filling out a hashmap
[16:36:20] *** Joins: meg34 (meg34@moz-fuq9dk.wh.tu-darmstadt.de)
[16:36:20] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:36:45] <cholcombe> tilpner: if you know python i'm trying to port this: http://bazaar.launchpad.net/~openstack-charmers/charms/trusty/ceph/trunk/view/head:/hooks/charmhelpers/core/hookenv.py#L145
[16:36:55] <tilpner> Can you think of any contrived case where the user would want to specify those values, or want to have multiple of those structs?
[16:36:59] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[16:37:17] <cholcombe> hmm
[16:37:36] <cholcombe> i don't think so.  if they specified them then the struct wouldn't be of much use to them
[16:37:36] <meh> why isn't std::slice::as_ptr unsafe? I'm trying to figure out if I should make as_ptr functions in my library unsafe or not
[16:37:58] <geofft> in general, _having_ a pointer isn't unsafe, _using_ it is 
[16:38:28] <geofft> partly because raw pointers don't have lifetimes (unlike references) so using it can't possibly be allowable in safe code ever 
[16:38:51] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:39:01] *** Quits: zeittunnel (2342342342@moz-sf7tgj.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[16:39:05] <meh> geofft, I'm wrapping a C library, basically right now I have ptr fields in my structs as public so other parts of the wrapper can access that ptr, but I'd rather have it private and mark unsafe wrap and as_ptr methods
[16:39:14] <WindowsBunny> meh: It is safe to get a raw pointer
[16:39:21] <WindowsBunny> meh: It is unsafe to dereference or really do anything with it
[16:39:34] *** Joins: dstrbad (dstrbad@moz-4di.un2.217.31.IP)
[16:39:47] <geofft> you can't make it private but safe? 
[16:39:51] <kimundi> and it would be unsafe to freely allow cahnging it if other unsafe code depends on it being a specific value
[16:40:09] *** Quits: dstrbad (dstrbad@moz-4di.un2.217.31.IP) (A TLS packet with unexpected length was received.)
[16:40:15] <meh> geofft, I want users of the library to avoid using those, or at least be extremely aware of what they're doing
[16:40:30] <tilpner> cholcombe - I assume you have a struct "Context", and a constructor method "new". I assume you pass this context to other functions, in order to configure their behaviour. In that case, the user might want to tweak those. Maybe, they want to get the values from another source than environment variables, e.g. read them from a config file. Is that plausible?
[16:40:34] <geofft> doesn't private prevent other people from using them? 
[16:40:40] <kimundi> it does
[16:40:47] *** Joins: drbawb (drbawb@moz-8l0lkq.9vd0.jkgc.8800.2604.IP)
[16:40:54] <geofft> (is the real question "I'm confused by Rust's privacy rules?" 'cause I have that problem sometimes :) ) 
[16:41:00] <cholcombe> tilpner: good point.  yeah i'll change it to new_from_env :)
[16:41:24] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[16:41:42] <meh> geofft, ideally I just want my wrapper to be able to use wrap and as_ptr for the various structs wrapping the ffi business
[16:42:32] <aisrael> Q: Is it possible to declare a function that can return either Result<(), &str> or Result<(), Utf8Error> ?
[16:42:41] *** Joins: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net)
[16:42:49] *** Quits: meg34 (meg34@moz-fuq9dk.wh.tu-darmstadt.de) (Ping timeout: 121 seconds)
[16:43:00] *** Joins: kaeluka (kaeluka@moz-6cbr2p.cust.bredbandsbolaget.se)
[16:43:28] *** Joins: spider-mario (spidermario@moz-aih.ke7.164.37.IP)
[16:43:38] <kimundi> aisrael: Not without introducing a enum or similar in there to wrap the two possibilitites
[16:43:44] *** Quits: ebel_ (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de) (Connection closed)
[16:44:00] <aisrael> kimundi: thanks, i’ll look into it
[16:44:26] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[16:44:37] *** Quits: User_ (User@moz-f6sd9k.custommoversservices.com) (Connection closed)
[16:44:38] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Client exited)
[16:44:43] *** Quits: lenstr_ (lenstr@moz-b1i.vju.25.171.IP) (Ping timeout: 121 seconds)
[16:44:44] *** Quits: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net) (Quit: leaving)
[16:44:50] *** Joins: Soulfoam (User@moz-f6sd9k.custommoversservices.com)
[16:44:54] *** Joins: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net)
[16:45:04] *** Quits: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net) (Quit: leaving)
[16:45:07] <aisrael> kimundi: any chance I can just use a bound generic or a common trait? like, core::fmt::Display?
[16:45:22] *** Joins: __mark__ (mark@moz-udut16.dynamic.chello.pl)
[16:45:26] <kimundi> aisrael: That makes the caller decide which of the two should be retuned
[16:45:27] *** Joins: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net)
[16:46:04] <kimundi> aisrael: If you want the function itself to decide, you have to find some kind of common type. That could also just be a trait object that wraps either a &str or a Utf8Error
[16:46:11] <new_one> What does &foo[..] do when foo is a String (and what is the difference to &foo) ?
[16:46:18] *** gaye|brb is now known as gaye
[16:46:35] <bluss> new_one: it's slicing syntax, &foo[a..b]   both start (a) and end point (b) are optional
[16:46:46] *** Joins: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP)
[16:46:49] <bluss> so .. is a complete range from start to end
[16:47:04] <kimundi> new_one: foo[..] calls the indexing operator with the "full range" type, which produces a "str" lvalue on a String. That is a unsized type though, so you have to create a reference to it - hence &foo[..]
[16:47:06] *** Quits: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net) (Quit: leaving)
[16:47:11] *** Joins: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net)
[16:47:33] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Ping timeout: 121 seconds)
[16:47:38] <new_one> but if I want a slice to the whole String, can't I do &foo ? without the slicing
[16:47:50] <bluss> playbot: &"abc"[..]
[16:47:52] -playbot- "abc"
[16:47:54] <kimundi> new_one: &foo on the other hand just creates a reference to foo, which makes you end up with a &String. Which can, if used in a location where &str is expected, automatically coerce to a &str as well
[16:48:01] *** Joins: eibwen (eibwen@moz-0okbs7.dip0.t-ipconnect.de)
[16:48:28] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[16:48:31] *** Joins: lenstr (lenstr@moz-80r.vju.25.171.IP)
[16:48:50] <kimundi> new_one: you usually need the explicit &foo[..] form in situations where that automatic coercion does nto apply to &foo
[16:49:22] <new_one> kimundi: do you happen to have an example of such case?
[16:49:32] *** Quits: sbditto85 (Mibbit@moz-n21.sls.50.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:49:35] *** Quits: kushal (kdas@moz-9bk.f0d.244.121.IP) (Ping timeout: 121 seconds)
[16:49:39] <aisrael> kimundi: I can’t seem to use Result<String, Display> since Display isn’t Sized?
[16:50:02] <kimundi> new_one: If the location wants a concrete &str, it will work. If it wants something generic, like a T: Foo where the trait Foo is only implemented for &str, it will currently fail
[16:50:22] <kimundi> aisrael: You need a pointer indirection like Box<Display>
[16:50:27] <Quxxy> I'm working on a cheat sheet for iterators; anyone want to give me some feedback?  https://dl.dropboxusercontent.com/u/7049460/rust/iterdoc.html
[16:50:30] <new_one> kimundi: ah, I undestand now; thanks
[16:50:31] *** Quits: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net) (Quit: leaving)
[16:50:39] *** Joins: jimb (user@moz-09a.i8g.126.207.IP)
[16:50:39] *** Joins: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net)
[16:50:58] <Quxxy> (Mostly: does it make sense to anyone? :P)
[16:51:23] *** Joins: User_ (User@moz-f6sd9k.custommoversservices.com)
[16:52:06] *** nsm is now known as nsm|away
[16:52:16] *** Quits: lenstr (lenstr@moz-80r.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[16:52:29] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[16:52:46] *** Joins: __ixti__ (ixti@moz-i3d.dae.119.188.IP)
[16:53:25] <mbrubeck> Quxxy: I like it!
[16:53:42] <mbrubeck> Quxxy: Does collect() really unzip tuples like that? Or am I reading that wrong?
[16:53:58] <aisrael> kimundi: I’ll try to wrap my head around that. Meanwhile, I just discovered I can go ahead and refactor so that all return paths return Result<&str, Utf8Error> :D
[16:54:04] *** Quits: tadh (quassel@moz-pg51s5.CWRU.Edu) (Ping timeout: 121 seconds)
[16:54:06] *** Quits: Soulfoam (User@moz-f6sd9k.custommoversservices.com) (Ping timeout: 121 seconds)
[16:54:11] <kimundi> heh
[16:54:13] <Quxxy> mbrubeck: No; the name is wrong
[16:54:23] <Quxxy> Should be unzip
[16:54:37] <bluss> Quxxy: fun! now does this document help anyone who's not already familiar with it? :)
[16:54:57] *** Quits: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net) (Quit: leaving)
[16:55:14] *** Joins: GGist (Mibbit@moz-6kgtem.seattleu.edu)
[16:55:16] <Quxxy> bluss: Do you mean "how are you going to promote it?" or "how do you expect newbies to read this gibberish?"?
[16:55:23] *** Joins: zcourts (zcourts@moz-dcf.615.105.122.IP)
[16:55:26] <bluss> the latter
[16:55:32] <mbrubeck> Quxxy: More nits... For `cycle`, the "..." in "a_n−1,…,a_0," should not be there.
[16:55:34] <aisrael> In the process, I just discovered CStr::to_str() is a recently added feature, necessitating #![feature(cstr_to_str)]
[16:56:11] <dirvine> f
[16:56:13] <Quxxy> bluss: I'm going to try simplifying some constructs (particularly the { x | cond } stuff) and add more notes at the top
[16:56:15] <dirvine> f
[16:56:26] <Quxxy> But in the end, it's intended as an "at-a-glance" for what iterators do
[16:56:27] <bluss> Quxxy: if you want corrections, all the singleton cases for max etc need Some(a_0)
[16:56:31] <bluss> Quxxy: ok cool
[16:56:46] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:56:46] <Quxxy> I can't simplify without notation, so there's only so much I can do :P
[16:56:49] <Quxxy> mbrubeck: Ta
[16:57:00] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[16:57:06] *** Joins: dani (chatzilla@moz-j8c7d1.dynamicIP.rima-tde.net)
[16:57:13] *** Joins: skade (skade@moz-eetliv.pools.vodafone-ip.de)
[16:57:18] <mbrubeck> Quxxy: [find, position, rposition, nth, last] are more that return Option...
[16:57:36] *** Joins: mtsr_ (mtsr@moz-s5jpgs.yourbnc.co.uk)
[16:57:59] <bluss> Quxxy: maybe filter_map should be the other way around, maybe even a let or match in there? {x_i | let Some(x_i) = f(a_i)}
[16:59:38] <jimb> Is this right? It seems like the numeric traits described in RFC 369 as being part of std were later moved out into the separate 'num' crate, in pull #23549 ("Stabilize std::num").
[16:59:39] <Quxxy> bluss: I was thinking {x_i where Some(x_i) = f(a_i)}
[16:59:49] <bluss> ok
[16:59:56] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[17:00:01] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[17:00:02] <bluss> jimb: that should be right
[17:00:03] <Quxxy> If I'm going to start de-symbolising a construct, I might as well go all the way :P
[17:00:07] <bluss> !crate num @ jimb
[17:00:08] <rustbot> num (0.1.24) - Simple numerics. This crate contains basic arbitrary-sized integer,rational, and complex types. -> https://crates.io/crates/num
[17:00:15] *** Joins: eckhardt (eckhardt@moz-s9e.ov1.227.199.IP)
[17:00:29] *** Quits: mindtree (Mitch@moz-use.a51.240.116.IP) (Ping timeout: 121 seconds)
[17:00:33] <cholcombe> tilpner: here's my working example: https://play.rust-lang.org/?gist=6a0c9bb438f0b579c8e8&version=stable
[17:00:39] <untitaker> Hello, I'm trying to cast down all errors to a custom "RuntimeError" error type, implicitly. For that I've impl<T: Error> From<T> for RuntimeError { .. }, but this conflicts with another impl, apparently. Any pointers on what would the right way?
[17:01:28] *** Joins: mindtree (Mitch@moz-cm4huq.iprimus.net.au)
[17:01:47] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[17:02:01] <mbrubeck> untitaker: Maybe it conflicts with `impl<T> From<T> for T`
[17:02:05] <Quxxy> untitaker: Write the impls out one at a time for each type you want to convert from; I believe there's a blanket impl in the standard library, so there's not much you can do
[17:02:06] *** Quits: psd (psd@moz-a0soie.mtnl.net.in) (Quit: Leaving)
[17:02:28] <untitaker> Quxxy: But that's why we have generics, no? :(
[17:02:41] <Quxxy> untitaker: If you have quite a few types, you can simplify it a little like this: https://github.com/DanielKeep/cargo-script/blob/master/src/error.rs#L67-L82
[17:02:49] <Quxxy> untitaker: But we *also* have coherence
[17:02:51] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[17:02:54] <mbrubeck> untitaker: By the way, there's an existing `impl<E: Error> From<E> for Box<Error>` if you just want to use that...
[17:03:17] *** Quits: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:03:24] <XMPPwocky> can we get a nightly playbot at some point?
[17:03:27] <jimb> bluss: And the change in plans was occasioned by the addition of inherent methods on primitive types? https://github.com/rust-lang/rust/issues/23104
[17:03:35] <untitaker> mbrubeck: doesn't seem to be possible to use, could it be that I really have to box my errors?
[17:03:44] <XMPPwocky> 8/win 25
[17:03:58] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:04:31] *** Quits: jaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[17:04:42] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:05:19] <bluss> jimb: not just that I think. It was simply decided that good generics for numerical types was out of scope for libstd for now
[17:05:36] <bluss> jimb: couldn't solve everything before Rust 1.0, we have to save something for later
[17:05:43] <jimb> bluss: :)
[17:06:23] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[17:06:38] <mbrubeck> untitaker: No, you should be able to use it like http://is.gd/EFHwYR without creating any boxes explicitly.
[17:06:43] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[17:08:09] *** Quits: rudolph (rudolph@moz-ce0j93.qdet.dsq9.010d.2620.IP) (A TLS packet with unexpected length was received.)
[17:08:12] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[17:08:13] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[17:08:28] *** Joins: hoverbear (hoverbear@moz-665.6hv.18.72.IP)
[17:09:04] <jimb> bluss: Yes, RFC 369 talks about putting the big questions out for crates.io to stew on. But it seems like the RFC originally planned to keep just enough in std to support generic numeric programming.
[17:09:26] <jimb> bluss: But then even those were moved out.
[17:09:37] *** Joins: saterus (saterus@moz-6vv.fih.194.209.IP)
[17:09:58] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[17:10:02] <jimb> bluss: (I'm just playing historian. This isn't blocking me for anything.)
[17:10:09] *** Quits: mkoskar (mkoskar@moz-ft2.gma.211.95.IP) (Client exited)
[17:10:10] <untitaker> mbrubeck: I do have to use the try macro with this I suppose?
[17:10:20] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[17:10:23] *** Quits: ajtulloch (ajtulloch@moz-ga0.9o0.201.199.IP) (Ping timeout: 121 seconds)
[17:10:27] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[17:10:30] *** Joins: qard (qard@moz-nekdha.vc.shawcable.net)
[17:10:36] <mbrubeck> untitaker: No, you can also call .into() or From::from directly...
[17:10:46] <jimb> bluss: I was just surprised I had to use an extern crate to write pretty unambitious generic functions.
[17:10:59] *** Quits: deadc0de (chsitter@moz-lrh.035.31.94.IP) (Quit: leaving)
[17:11:01] <mbrubeck> untitaker: But generally implementing From<E: Error> is useful because of try!
[17:11:16] <jimb> hrm, that sentence leaked more opinion than I'd intended
[17:11:16] <waffles> Can anyone help me with explaining a piece of rust code? (it's pretty basic, actually)
[17:11:34] *** Joins: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net)
[17:11:42] *** Joins: jamesh (jamesh@moz-jsi.0li.247.104.IP)
[17:11:45] <jimb> waffles: You're in the right place. :)
[17:11:50] <waffles> Thanks. Here (http://doc.rust-lang.org/1.0.0/book/rust-inside-other-languages.html#a-rust-library)
[17:12:02] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[17:12:10] <waffles> What does this line, `let handles: Vec<_> = (0..10).map(|_| {` really do?
[17:12:11] <jamesh> Hey, I've got a bit of an issue with crates.io. I changed my username on github and my crates are still owned by my old username.
[17:12:31] <waffles> I understand the handles & vector binding part, but the (0..10) thing is what bothers me
[17:12:47] *** Joins: Diggsey (diggsey@moz-8jb74a.dsl.pipex.com)
[17:12:55] *** Quits: rick68_ (rick68@moz-4d3ral.HINET-IP.hinet.net) (Quit: leaving)
[17:13:05] <mbrubeck> waffles: (0..10) is a literal of type Range<i32>: http://doc.rust-lang.org/std/ops/struct.Range.html
[17:13:06] <jimb> waffles: (0..10) is an expression that yields a std::ops::Range instance.
[17:14:22] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:14:33] <jimb> waffles: So (0..10).map(|_|) { ... } is just a way of doing ... ten times, giving you an iterator over the values each ... produces.
[17:14:52] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Ping timeout: 121 seconds)
[17:14:54] *** Quits: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[17:15:12] <waffles> What are we doing there?
[17:15:12] <waffles> (the mapping)
[17:15:12] <waffles> Why should we use (0..10), couldn't we use (0..2)?
[17:15:12] <waffles> Vector is just an expanding list anyway, right?
[17:15:47] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[17:15:47] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[17:15:58] <jimb> waffles: We're initializing handles with the result from (0..10).map(...).collect().
[17:16:21] *** Joins: mkoskar (mkoskar@moz-kvs6fc.torservers.net)
[17:16:25] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Client exited)
[17:16:33] <jimb> waffles: The collect method on an iterator gathers the values the iterator produces into a vector. So it's the iterator that decides how long the vector is.
[17:16:34] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[17:16:37] <talchas> you /could/ do let mut x = Vec::new(); for i in 0..10 { x.push(whatever); }
[17:16:40] <mbrubeck> playbot: for i in (0..5) { print!("{}", i) }
[17:16:41] -playbot- 01234()
[17:16:47] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[17:16:48] <mbrubeck> playbot: for i in (0..10) { print!("{}", i) }
[17:16:48] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Client exited)
[17:16:50] -playbot- 0123456789()
[17:16:55] *** Joins: mystal (mystal@moz-tt1.co9.14.76.IP)
[17:16:59] <talchas> though the .map thing does more like with_capacity(10), which is nice
[17:17:11] <waffles> That's nice
[17:17:22] <jimb> talchas: Right, it all works out very nicely under the hood
[17:17:46] *** Joins: eric_lagergren (barsonme@moz-hshokg.q6t2.2174.0008.2601.IP)
[17:18:20] <waffles> Now, I'm curious how it affects the counting process. If we initialize with capacity of 10 or 100, what might produce a significant difference - the vector is gonna grow anyway, rigth?
[17:18:20] <waffles> *right
[17:19:03] <jimb> waffles: That (0..10) isn't directly telling the Vector how large to be.
[17:19:22] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Ping timeout: 121 seconds)
[17:19:24] *** nsm|away is now known as nsm
[17:19:29] <jimb> waffles: You're right that Vector is dynamically sized.
[17:19:36] *** Quits: rick68 (Mibbit@moz-4d3ral.HINET-IP.hinet.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:19:57] <waffles> jimb: Is there any way you can precisely tell me what's happening with (0..10), and what if I initialize with (0..100)?
[17:19:59] <mbrubeck> waffles: If you replace (0..10) with (0..2) then the code would spawn two threads instead of ten.
[17:20:13] <waffles> Oh, I think I understand now...
[17:20:14] <jimb> waffles: But here it's collect that builds the vector; the iterator that determines the length of that vector; and the range that determines how many values the iterator produces.
[17:20:35] <mbrubeck> playbot: `let v: Vec<_> = (0..10).map(|_| "hello").collect(); v`
[17:20:35] -playbot- <anon>:9:9: 9:10 error: unknown start of token: `
[17:20:36] -playbot- <anon>:9         `let v: Vec<_> = (0..10).map(|_| "hello").collect(); v`
[17:20:36] -playbot- output truncated; full output at: http://bit.ly/1Ji8bQL
[17:20:41] <mbrubeck> playbot: let v: Vec<_> = (0..10).map(|_| "hello").collect(); v
[17:20:42] -playbot- ["hello", "hello", "hello", "hello", "hello", "hello", "hello", "hello", "hello", "hello"]
[17:21:07] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[17:21:32] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[17:21:37] *** Joins: rick68 (rick68@moz-4d3ral.HINET-IP.hinet.net)
[17:21:57] <waffles> Wait, is this concurrency?
[17:22:05] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:22:06] *** ChanServ sets mode: +ao brson brson
[17:22:17] <jimb> waffles: Look over mbrubeck's conversation with playbot; he breaks it down.
[17:22:25] *** Quits: tomprogrammer (thomas@moz-ss28pc.tr5r.qept.4dd0.2001.IP) (Ping timeout: 121 seconds)
[17:22:44] <jimb> waffles: There's concurrency involved, but his examples separate it out from the other things going on.
[17:22:48] <mbrubeck> waffles: The example in the book is concurrent because the closure calls thread::spawn
[17:23:04] *** Joins: ajtulloch (ajtulloch@moz-5do.j2m.56.172.IP)
[17:23:05] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[17:23:06] <mbrubeck> waffles: My simpler examples above do not involve any concurrency because they don't spawn any threads.
[17:23:07] *** Quits: ubeatlenine (david@moz-0238bs.east.myfairpoint.net) (Quit: WeeChat 1.2)
[17:23:26] *** Joins: mcarton (martin@moz-83sg4s.ugent.be)
[17:23:37] <aisrael> Q: Can I use unwrap_or_else(|e| …) but in the closure return from the enclosing fn ?
[17:23:52] *** Joins: gopar (gopar@moz-jd6o28.m2vj.kpnp.0009.2601.IP)
[17:24:05] <jimb> aisrael: Return in closures just returns from the closure, not from the enclosing fn.
[17:24:14] *** Quits: meh (meh@moz-e56g7l.42-151.net24.it) (Quit: I don't want to live on this planet anymore.)
[17:24:17] <waffles> mbrubeck: I understood yours, but I was really curious about the concurrent ones. Because, I tried modifying the code and using the library in Python, when I noticed different runtimes
[17:24:28] <aisrael> jimb: yeah, IOW, I have to go use match {}? verbose :(
[17:24:35] <waffles> I now understand it I guess.
[17:25:04] <jimb> aisrael: Yeah, you have to let the stack unwind one frame at a time.
[17:25:13] <jshs> aisrael: try! is a macro for this reason
[17:25:13] <waffles> mbrubeck: When I ran it with two threads, it took about 0.1 seconds for the code to finish counting upto 10 million, but when I did it with 100 threads, it did it in a millisecond
[17:25:15] *** Joins: tadh (quassel@moz-pg51s5.CWRU.Edu)
[17:25:35] <waffles> I was amazed (and got curious) by that
[17:25:58] <mbrubeck> aisrael: You can write your own try!-like macro, or do something like `if value.is_none() { return; }`
[17:26:01] <jimb> waffles: I think there's something else weird going on in those timings.
[17:26:19] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[17:26:34] <jimb> waffles: Because the code written there has each spawned thread doing exactly the same thing.
[17:26:56] <jimb> waffles: It's not like they each manage a portion of the counting or something. There should be no speedup from adding threads.
[17:27:08] <waffles> Wait, I thought just that
[17:27:15] <waffles> Oh dear...
[17:27:34] <waffles> (Okay, actually it's 10 milliseconds)
[17:27:52] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[17:28:23] <mbrubeck> waffles: It's also quite possible that the inner loop in that code gets optimized to nothing, if you're building with optimization turned on.
[17:28:43] <waffles> Okay, no... Looks like I just got affected by "confirmation bias"
[17:28:51] *** Joins: ubeatlenine (david@moz-79l5mg.east.myfairpoint.net)
[17:29:02] *** Quits: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[17:29:02] <jimb> waffles: lol  welcome to the club
[17:29:12] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[17:29:12] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[17:29:18] <waffles> There was a rust build going on alongside, and now the timings are pretty much the same
[17:29:21] <waffles> (Silly me)
[17:29:24] *** Quits: xificurC (xificurC@moz-3u7gmd.chello.sk) (Connection closed)
[17:29:38] <mbrubeck> If you think you're in the confirmation bias club, you probably are.
[17:29:39] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:29:55] <waffles> Okay, I'll get back to reading. You know, I really was excited for a moment!
[17:30:02] <jimb> mbrubeck: And if you think you're not in the confirmation bias club, you probably are too!
[17:30:03] *** Quits: saterus (saterus@moz-6vv.fih.194.209.IP) (Connection closed)
[17:30:21] <waffles> Anyways, thank you jimb & mbrubeck :)
[17:30:24] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[17:30:35] <jimb> waffles: I have a story about a script I wrote to measure the perf impact of patches. It worked great until summertime came.
[17:30:42] *** Joins: __mark___ (mark@moz-udut16.dynamic.chello.pl)
[17:30:45] *** Joins: imjacobclark (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com)
[17:30:49] *** nsm is now known as nsm|away
[17:30:53] *** Quits: poorman (poorman@moz-sdl0oq.res.rr.com) (Ping timeout: 121 seconds)
[17:30:59] <jimb> waffles: at which point my laptop started throttling the CPU down, in time to affect only the "patch applied" measurements.
[17:30:59] <waffles> jimb: Any link on that? :)
[17:31:03] <imjacobclark> Using Hyper I'm getting the error: thread '<main>' panicked at 'called `Result::unwrap()` on an `Err` value: Error { repr: Os(11) }', /home/rustbuild/src/rust-buildbot/slave/stable-dist-rustc-linux/build/src/libcore/result.rs:729
[17:31:10] <jimb> waffles: So even an empty patch would appear to cause a slowdown.
[17:31:16] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[17:31:28] <jimb> waffles: because my office was hotter.
[17:31:29] *** Joins: poorman (poorman@moz-ne2.2ic.131.12.IP)
[17:31:35] <waffles> jimb: lol
[17:31:41] *** Quits: Kynes (Kynes@moz-j2us35.mit.edu) (Quit: Leaving)
[17:31:45] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Ping timeout: 121 seconds)
[17:31:45] *** __mark___ is now known as __mark__
[17:31:52] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[17:31:54] <jimb> waffles: So, yeah, perf measurements.
[17:31:58] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[17:32:30] <waffles> Honestly, for a moment, I thought of demonstrating it to a friend of mine to make him go nuts!
[17:32:46] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[17:32:49] *** Joins: blue_deref (blue_deref@moz-u9gmm1.res.rr.com)
[17:33:19] *** Quits: mujou (mujou@moz-rko6lo.ocn.ne.jp) (Quit: Leaving...)
[17:33:21] <rschulman> If I have a fn main() that spawns a thread that then spawns its own threads, will the interior threads still have access to the main stack space?
[17:33:33] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[17:33:36] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[17:34:01] <imjacobclark> Is there a limit as to how many threads I can spin up on my machine
[17:34:06] <mbrubeck> rschulman: Yes, if their parents pass pointers/references to the "grandchild" threads.
[17:34:40] <waffles> Pfft, grandchild threads :P
[17:34:40] <rschulman> mbrubeck: Pass how? Into the closure? I thought thread::spawn automatically granted access to the stack.
[17:34:46] <XMPPwocky> imjacobclark: yes, but you probably won't hit it.
[17:35:00] <XMPPwocky> imjacobclark: it's, by default, the number of memory pages (usually 4KB) / 4
[17:35:04] *** Joins: tomprogrammer (thomas@moz-kdc20c.en23.rnsn.4ca0.2001.IP)
[17:35:08] *** Joins: mib_sl8fhu (Mibbit@moz-g6k.oht.161.46.IP)
[17:35:12] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[17:35:29] <imjacobclark> XMPPwocky: I'm seeing this error using Hyperthread '<main>' panicked at 'called `Result::unwrap()` on an `Err` value: Error { repr: Os(11) }', /home/rustbuild/src/rust-buildbot/slave/stable-dist-rustc-linux/build/src/libcore/result.rs:729
[17:35:31] <mbrubeck> rschulman: Read my answer as "yes" :)
[17:35:39] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[17:35:39] <imjacobclark> Its ALWAYS when I hit 32433 open threads
[17:35:43] *** Joins: xrl (uid1091@moz-f0543s.brockwell.irccloud.com)
[17:35:46] <rschulman> mbrubeck: LOL, will do! Thanks. :)
[17:35:46] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[17:36:02] <XMPPwocky> imjacobclark: why do you, uh, have 32433 open threads
[17:36:10] <imjacobclark> I'm building a load testing app 
[17:36:12] <XMPPwocky> $ cat /proc/sys/kernel/threads-max
[17:36:17] *** Joins: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt)
[17:36:18] <cholcombe> i have a command that works perfectly in bash but doesn't work in rust.  I had this problem in java also but I dont know exactly what is wrong
[17:36:31] <imjacobclark> 515267
[17:36:32] <mbrubeck> imjacobclark: On Linux, there is /proc/sys/kernel/threads-max
[17:36:37] * mbrubeck too slow
[17:36:45] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[17:36:45] <imjacobclark> mbrubeck XMPPwocky yep that says 515267
[17:36:48] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[17:37:06] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Ping timeout: 121 seconds)
[17:37:14] <talchas> threads-max is generally irrelevant however
[17:37:20] <talchas> check /proc/sys/kernel/pid_max
[17:37:29] <talchas> that's probably 32768, and only the lower matter
[17:37:32] <talchas> matters*
[17:38:03] <mbrubeck> cholcombe: What command?
[17:38:13] <cholcombe> mbrubeck: i'm making a play gist to show :)
[17:38:15] <mbrubeck> cholcombe: And when you say "in Rust" do you mean using std::process::Command?
[17:38:23] <mbrubeck> cool
[17:38:31] <cholcombe> yeah std::process::Command
[17:38:32] <imjacobclark> mbrubeck thats 32768
[17:38:34] <cholcombe> 1 sec
[17:38:35] *** Quits: Halamix2 (Halamix2@moz-kqe47j.syrion.pl) (Quit: Leaving)
[17:38:37] <imjacobclark> so looks like im hitting that limit
[17:39:12] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[17:39:29] <talchas> yeah, and EAGAIN is the correct error for that too
[17:39:45] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[17:39:48] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[17:40:16] <mkpankov> hi. we can catch panic! on thread boundary, right?
[17:40:28] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[17:40:35] <mkpankov> I think I read about it somewhere, can't find
[17:40:48] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Ping timeout: 121 seconds)
[17:40:49] <bluss> mkpankov: thread::spawn can do that yes
[17:40:56] <wca> seriously?  how can you possibly make use of that many threads?
[17:41:05] <bluss> mkpankov: also std::thread::catch_panic to catch it without spawning a thread
[17:41:19] *** Quits: espadrine (tyl@moz-11dcv5.dsl.ovh.fr) (Ping timeout: 121 seconds)
[17:41:22] <mkpankov> bluss: I guess the latter is somewhat controversial?
[17:41:43] <mbrubeck> cholcombe: Generally if you want to run shell commands (with shell syntax for redirection, pipes, subshells, etc.) you can do things like `Command::new("sh").arg("-c").arg("cat foo.txt | some_program >output.txt")`
[17:41:45] *** Quits: Porkepix (Porkepix@moz-q59.m4a.208.91.IP) (Quit: My laptop has gone to sleep. ZZZzzz…)
[17:41:52] <bluss> mkpankov: yes I guess it kind of is
[17:41:53] <cholcombe> mbrubeck: ok here's what i have: https://play.rust-lang.org/?gist=c1914016f8e28c5d3e7c&version=stable
[17:42:01] <aisrael> is there any way to define impl core::convert::From<Utf8Error> for String? so I can just try!() my way around CStr::from_ptr(buf_ptr).to_str() ?
[17:42:20] <bluss> mkpankov: we need to learn how it affects safety https://github.com/rust-lang/rust/issues/25662
[17:42:22] <cholcombe> mbrubeck, the line at the bottom is what i'm using to call it
[17:42:25] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[17:42:25] *** Joins: trecer (textual@moz-uij.3un.220.167.IP)
[17:42:32] *** Joins: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net)
[17:42:49] *** chmanchester|afk is now known as chmanchester
[17:42:52] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[17:43:02] *** Quits: akiss (akiss@moz-kij.q96.114.160.IP) (Ping timeout: 121 seconds)
[17:43:20] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[17:43:21] *** Quits: ajtulloch (ajtulloch@moz-5do.j2m.56.172.IP) (Connection closed)
[17:43:26] <mkpankov> bluss: good, thanks. you're guardian of the channel, always having all the info :3
[17:43:41] <bluss> hehe
[17:43:45] *** Joins: ajtulloch (ajtulloch@moz-0ffg7k.cla9.09sg.010d.2620.IP)
[17:44:07] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[17:44:07] <talchas> cholcombe: you're doing Command::new(command); and then cmd.arg(command), rather than just doing the latter in the sudo case
[17:44:24] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Ping timeout: 121 seconds)
[17:44:40] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[17:44:48] *** Joins: lenstr (lenstr@moz-80r.vju.25.171.IP)
[17:44:50] <Quxxy> bluss, mbrubeck, and anyone else interested: is this a bit clearer, now? https://dl.dropboxusercontent.com/u/7049460/rust/iterdoc.html
[17:44:57] <cholcombe> talchas: oops, good catch!
[17:45:11] <cholcombe> that's prob why the output looks weird
[17:45:14] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[17:45:29] <wca> hmm, is there an offline interactive rust, like there is for ruby/python?
[17:45:39] <cholcombe> talchas: i bet that's whats wrong.  lemme rerun it
[17:45:40] *** Joins: kgrandon (Adium@moz-l20bhq.ujol.1ibb.0101.2620.IP)
[17:45:48] *** Joins: jedireza (textual@moz-u3dg2t.sfo1.mozilla.com)
[17:45:56] <cholcombe> always helps to have someone else look at the code :)
[17:45:59] <mbrubeck> Quxxy: nice
[17:46:03] <jnvsor> wca: Is there an online one? The playpen has to compile it right?
[17:46:09] <mbrubeck> wca: https://github.com/murarth/rusti
[17:46:12] <trecer> is there any way to determine the size of an unsized type at runtime? e.g. for a custom Box implementation?
[17:46:22] <jnvsor> Oh sweet!
[17:46:34] *** Joins: saterus (saterus@moz-6vv.fih.194.209.IP)
[17:46:46] <wca> jnvsor: well, yeah, but just because it has to be compiled doesn't mean it can't be interactive :)
[17:46:51] <wca> mbrubeck: thx :)
[17:46:54] <cholcombe> talchas: is that how you would give a user the option to run a cmd with sudo?  I couldn't think of a better way
[17:46:57] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[17:47:27] <jnvsor> wca: I imagine it would cause an issue given variables in an interactive shell wouldn't live if you just compiled it like any other binary
[17:47:41] *** Joins: raph (raph@moz-erv.4ra.239.216.IP)
[17:47:48] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[17:48:01] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[17:48:11] <wca> jnvsor: i would imagine the challenge is just coming up with an intuitive scaffolding for the interactive shell
[17:48:42] *** Quits: jviereck (Adium@moz-9vg37n.dip0.t-ipconnect.de) (Quit: Leaving.)
[17:48:50] <cholcombe> talchas: that was it.  it works now :)
[17:48:51] <talchas> cholcombe: that's probably fine, assuming you don't just want to let them call sudo whatever_rust_program
[17:49:05] <jnvsor> Yeah. I was thinking you could just prepend the variables to the line and compile that, but you'd need to do live objects as pointers too
[17:49:12] <cholcombe> talchas: i think this program runs as root but i wanted to give the option just in case
[17:49:16] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[17:49:31] <jnvsor> And in rust it'd get way too complex with lifetimes for me to even begin thinking about :P
[17:49:34] <talchas> I'd double-check that it does the right thing about reading the password from stdin, I don't think you need to do anything but I forget
[17:49:46] <bluss> Quxxy: it is clearer
[17:49:50] <wca> hmm, rusti requires nightly :(  will have to try it again later
[17:50:19] <bluss> Quxxy: maybe show one more element in fold   ((init * a_0) * a_1) * ...
[17:50:44] <Quxxy> bluss: My only concern with those is accidentally implying that you *need* three elements for it to work
[17:50:52] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[17:50:53] <Quxxy> It *used* to have three, after all
[17:50:59] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[17:51:33] <Quxxy> Sorry, *need two* elements
[17:52:18] <Quxxy> bluss: I suppose I've had more than I strictly needed in other ones...
[17:52:18] *** Quits: jiojiajiu (Guro@moz-trc2j7.asianet.co.th) (Ping timeout: 121 seconds)
[17:52:19] <Quxxy> Alright
[17:52:39] <bluss> Quxxy: I think fold needs something a bit more clear :)
[17:52:41] * Quxxy waves his wand
[17:52:44] *** Joins: jiojiajiu (Guro@moz-trc2j7.asianet.co.th)
[17:52:44] *** Quits: yati (yati@moz-nm0.mvf.227.110.IP) (Quit: Leaving)
[17:52:48] <Quxxy> Your wish is granted
[17:52:55] <bluss> yay
[17:53:10] <Quxxy> That will be one soul
[17:53:11] *** Quits: waffles (Wafflespean@moz-sf5.673.193.113.IP) (Quit: C'yall later... :))
[17:53:11] *** Quits: Stebalien (Stebalien@moz-fbd.so6.4.75.IP) (Quit: leaving)
[17:53:39] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[17:54:31] <bluss> at that rate anyone who writes good documentation will be quite indebted
[17:55:00] <rschulman> What’s the canonical way to let two different threads communicate bidirectionally through channels? Two sets of channels, one for receiving, one for sending, for each thread?
[17:55:39] *** Quits: gopar (gopar@moz-jd6o28.m2vj.kpnp.0009.2601.IP) (A TLS packet with unexpected length was received.)
[17:56:29] *** Quits: arBmind1 (Andreas@moz-m5ff4l.adsl.alicedsl.de) (Quit: Leaving.)
[17:56:58] *** Joins: poorman_ (poorman@moz-sdl0oq.res.rr.com)
[17:57:05] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:57:05] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:57:18] *** Quits: mkpankov (user@moz-nleeis.partnertech.ru) (Quit: ERC Version 5.3 (IRC client for Emacs))
[17:57:25] *** Quits: ParadoxSpiral (ParadoxSpir@moz-j3a7l7.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[17:58:21] <dfockler> rschulman: wouldn't that end up deadlocked if they both get stuck listening?
[17:58:46] <rschulman> dfockler: Hmm, good point.
[17:58:48] <rschulman> they might.
[17:59:01] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[17:59:47] *** Quits: poorman (poorman@moz-ne2.2ic.131.12.IP) (Ping timeout: 121 seconds)
[17:59:57] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[18:00:09] *** Joins: ParadoxSpiral (ParadoxSpir@moz-j3a7l7.dip0.t-ipconnect.de)
[18:00:20] *** Joins: sigma (sigma@moz-im7cik.range86-135.btcentralplus.com)
[18:00:58] <rschulman> well, I’m trying to write an IRC bouncer with a websocket frontend. So I need a thread for the websockets and a thread for the irc connection and a way for them to pass messages… is there a better way to do that?
[18:01:29] *** Joins: kushal (kdas@moz-iq5.378.143.114.IP)
[18:01:31] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[18:01:55] *** Joins: jonas (jonas@moz-pq39vq.dynamic.mnet-online.de)
[18:02:06] *** Joins: crisco (crisco@moz-a8r.0c9.164.61.IP)
[18:02:23] *** Joins: dfinning_ (dfinninger@moz-fe6.5n7.235.207.IP)
[18:02:36] *** Quits: ParadoxSpiral (ParadoxSpir@moz-j3a7l7.dip0.t-ipconnect.de) (Connection closed)
[18:02:54] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:03:41] <jonas> Are there any resources on how the build process of the Rust compiler works? Especially, what the different stages mean?
[18:03:59] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:04:04] *** Quits: maugzoide (maugzoide@moz-ua3.1qv.43.177.IP) (Quit: (null))
[18:04:12] *** Joins: alk (alk@moz-ca9n1r.3a32.t5om.0e34.2a01.IP)
[18:04:44] *** Quits: crisco_ (crisco@moz-f5a.efk.198.67.IP) (Ping timeout: 121 seconds)
[18:04:49] *** Joins: slomo (slomo@moz-p8m0g2.net)
[18:05:03] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Ping timeout: 121 seconds)
[18:05:30] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[18:05:54] <dfockler> rschulman: you could run 4 threads, 2 on each side sending and receiving
[18:06:02] <VShell> rschulman: you could use mio. but using the standard library, answer is no.
[18:06:13] *** Quits: mewp (quassel@moz-fustfj.dynamic.chello.pl) (Connection closed)
[18:07:12] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[18:07:20] *** Joins: phynx (chatzilla@moz-rm8.lmu.235.62.IP)
[18:07:38] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[18:07:46] <ebfull> rschulman: do you just want a bi-directional channel?
[18:07:47] *** Joins: Rachael (Mibbit@moz-o6m.uvt.22.46.IP)
[18:08:04] <rschulman> ebfull: Yeah, essentially
[18:08:15] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[18:08:25] *** Joins: jdm (jdm@moz-ohpa2e.ckpj.s0pt.0450.2001.IP)
[18:08:25] *** ChanServ sets mode: +o jdm
[18:08:36] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[18:08:42] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[18:08:46] <rschulman> dfockler: It could be as simple as that..
[18:08:51] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[18:09:05] *** Joins: jarrednicholls (uid19542@moz-cmdbn3.highgate.irccloud.com)
[18:09:12] *** Quits: frozen (Mibbit@moz-tpjl46.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:09:26] <jarrednicholls> I fail to see the point of Rc<> if it can only give out its contents as an immutable reference
[18:09:32] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:09:34] <jarrednicholls> it's already guaranteeing not to leave the thread
[18:09:39] <jarrednicholls> what am I missing
[18:10:08] <jarrednicholls> I seem to be forced to use a RefCell w/ Rc<> all of the time
[18:10:12] <jarrednicholls> ugh
[18:10:22] *** Joins: vosen (vosen@moz-mtm1g4.dynamic.chello.pl)
[18:10:23] *** Joins: ajtulloc_ (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP)
[18:10:34] <ebfull> jarrednicholls: http://manishearth.github.io/blog/2015/05/17/the-problem-with-shared-mutability/
[18:10:50] <mbrubeck> jarrednicholls: Yes, Rc<RefCell<T>> is so common in Rust that it really should get its own name...
[18:10:56] <mbrubeck> RcRC<T>?
[18:11:12] <brson> it only costs $3k to get another rust book published by funding this https://www.kickstarter.com/projects/1712125778/rust-programming-concepts-book
[18:11:14] <jarrednicholls> mbrubeck: yeah works for me
[18:11:20] *** Joins: matp (matp@moz-rvt9hl.matp.at)
[18:11:46] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[18:11:48] *** Quits: ajtulloch (ajtulloch@moz-0ffg7k.cla9.09sg.010d.2620.IP) (Ping timeout: 121 seconds)
[18:11:48] <jarrednicholls> I `type` Rc<RefCell<T>> like that regularly actually
[18:12:04] *** Joins: durka42 (Adium@moz-vpdpo1.o2oh.k96e.f470.2607.IP)
[18:12:16] <jarrednicholls> ebfull: thanks for the link
[18:12:28] *** Quits: ajtulloc_ (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP) (A TLS packet with unexpected length was received.)
[18:12:33] <ebfull> rschulman: you can just write your own: http://is.gd/nbqDbz
[18:12:38] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[18:12:39] *** Joins: mewp (quassel@moz-fustfj.dynamic.chello.pl)
[18:12:39] <imjacobclark> How do I include import in modules?
[18:12:48] <imjacobclark> I get the error error: unresolved import `hyper::Client`. Did you mean `self::hyper`?
[18:12:50] <ebfull> rschulman: which could be changed to make different types for either side's receiving end btw
[18:12:52] <imjacobclark> doing use hyper::Client;
[18:12:53] *** Joins: ajtulloch (ajtulloch@moz-4m46ks.1fqg.kp93.010d.2620.IP)
[18:12:53] <imjacobclark> inside a module
[18:13:03] <ebfull> rschulman: or i'm pretty sure there are a few different crates on crates.io for these things
[18:13:15] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[18:13:21] <duncan> imjacobclark: do you have `extern crate hyper` in your crate root?
[18:13:22] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[18:13:23] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[18:13:35] <imjacobclark> duncan: i have it in the modle
[18:13:40] <imjacobclark> module*
[18:13:40] *** Joins: woowe (Mibbit@moz-499ogh.wi.charter.com)
[18:13:58] <woowe> Hey guys is there anyway I can map until some match?
[18:14:15] <woowe> Or like a way to break out of a map?
[18:14:21] *** Joins: ajtulloc_ (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP)
[18:14:31] <navatwo> woowe, map and filter?
[18:14:34] *** Quits: FallingAlways (FallingTime@moz-ruksei.cable.rogers.com) (Quit: Leaving)
[18:14:49] <cmr> woowe: I suggest just writing it out as a loop.
[18:14:56] <navatwo> breaking out of a map defeats the "functional" paradigm in play.
[18:14:59] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[18:14:59] <cmr> imjacobclark: the recommendation is accurate, `use self::hyper::Client`
[18:15:01] <duncan> woowe: take_while(predicate).map()?
[18:15:15] <ty> or map().take_while()
[18:15:42] <jarrednicholls> ebfull: I'm not sure manishhearth's post is completely aligned with the reason that Rc<> doesn't lend out mutable references.  I get why we don't have multiple mutable references, but that's not the question.  I'm sure I'm missing something so I'll read the whole post :D
[18:15:54] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[18:16:02] <imjacobclark> cmr: nailed it
[18:16:03] *** Parts: jonas (jonas@moz-pq39vq.dynamic.mnet-online.de) ()
[18:16:03] <woowe> I just need to collect the chars in a string before the " ' " character
[18:16:32] <ebfull> Rc is a reference counted smart pointer -- it allows multiple aliases to the same data. if multiple aliases were allowed to mutable data -- even in a single thread -- it would cause memory unsafety in many ways outlined in the post
[18:16:44] <ebfull> jarrednicholls: from the post "    Aliasing with mutability in a sufficiently complex, single-threaded program is effectively the same thing as accessing data shared across multiple threads without a lock"
[18:16:47] <duncan> ty: wouldn't that call `take_while` with the output from `map` instead of the original value in the iterator?
[18:16:49] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[18:16:50] <Manishearth> jarrednicholls: Rc<T> is a form of aliasing
[18:17:00] <Manishearth> aliasing + mutability = doubleplusungood
[18:17:03] <woowe> would it be take_while(|x| x != '\'').collect() ?
[18:17:14] <Manishearth> so if you want mutability, Rc<Cell<T>> (zero cost), or Rc<RefCell<T>>
[18:17:15] *** Joins: timonv (timonv@moz-1qu311.dynamic.ziggo.nl)
[18:17:19] <navatwo> https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.take_while woowe
[18:17:30] <duncan> woowe: yes, take_while will return a lazy iterator
[18:17:31] *** Joins: grant (grant@moz-jfh.0nq.187.64.IP)
[18:17:40] <navatwo> woowe:yeah
[18:17:51] <woowe> nice! Thanks duncan & navatwo!
[18:17:55] *** Quits: ajtulloch (ajtulloch@moz-4m46ks.1fqg.kp93.010d.2620.IP) (Ping timeout: 121 seconds)
[18:18:16] <jarrednicholls> Yeah I failed to think that clones of Rc<> are not the same object from the compiler's standpoint
[18:18:19] <jarrednicholls> I'm a douche
[18:18:38] <navatwo> I didn't know about take_while, it seems like a better version of what I suggested.. in one go.
[18:18:48] <jarrednicholls> anyways, there's still a use case for ref_count == 1 and getting a &mut
[18:18:54] <mbrubeck> jarrednicholls: So you're envisioning something like Arc::make_unique, but for Rc?
[18:18:55] *** Joins: geri (Mibbit@moz-o67l17.highway.telekom.at)
[18:18:57] <jarrednicholls> but that's a separate discussion
[18:19:02] <tomaka> Is there a way to disable the fact that a panicking thread prints "thread <foo> has panicked ..." to stdout?
[18:19:13] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[18:19:16] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Ping timeout: 121 seconds)
[18:19:17] <mbrubeck> jarrednicholls: And maybe returning None for refcount > 1, instead of cloning?
[18:19:17] <jarrednicholls> mbrubeck: right!
[18:19:21] <ebfull> jarrednicholls: Rc has a make_unique() already
[18:19:26] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[18:19:31] <jarrednicholls> stable?
[18:19:32] <geri> rustc 1.2.0-dev is not the version out of nightly?
[18:19:34] <jarrednicholls> hmm, let me check
[18:19:34] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[18:19:36] <ebfull> nope
[18:19:39] <jarrednicholls> ok
[18:19:45] <mbrubeck> huh, how did I miss that?
[18:19:55] *** Joins: EspressoDan (EspressoDan@moz-j2i.853.211.140.IP)
[18:19:57] <companion_cube> is there a readable changelog of what will be in 1.1?
[18:20:02] <jarrednicholls> I know "get_mut()" exists, but everything is unstable
[18:20:05] <cmr> geri: no, -nightly is a nightly. -dev usually implies you build it yourself.
[18:20:10] <cmr> companion_cube: not yet.
[18:20:19] <Manishearth> jarrednicholls: note that taking an &mut from an Rc would need an extra flag to mark that it is taken
[18:20:19] <imjacobclark> In a function I am defining parameter types like: pub fn calculate_mean(requests: Vec<Request>) but getting the error: found `alloc::arc::Arc<std::sync::mutex::Mutex<collections::vec::Vec<request::Request>>>`
[18:20:20] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[18:20:20] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[18:20:23] <imjacobclark> How do I fix that?
[18:20:30] <Manishearth> instead, converting it to Box (which make unique does) is preferable
[18:20:34] <ebfull> make_unique shouldn't require T to be Clone, what if i want it to make unique OR panic
[18:21:01] <cmr> ebfull: on Rc or Arc?
[18:21:05] <ebfull> Rc
[18:21:06] <geri> cmr: how can i get nightly?
[18:21:18] <mbrubeck> ebfull: then get_mut? http://doc.rust-lang.org/std/rc/fn.get_mut.html
[18:21:34] <ebfull> oh nice
[18:21:34] <geri> cmr: i just built it from github?
[18:21:35] <geri> !
[18:21:49] <bluss> ebfull: and std::rc::try_unwrap
[18:21:52] <mbrubeck> geri: You can download rust nightly from the bottom of http://www.rust-lang.org/install.html
[18:22:01] <cmr> geri: it's fine to build from github, but the "nightlies" are the ones built by the Rust project and distributed as binaries.
[18:22:04] *** Quits: demilux (demilux@moz-fk1.kt4.14.64.IP) (A TLS packet with unexpected length was received.)
[18:22:07] *** Joins: demilux (demilux@moz-fk1.kt4.14.64.IP)
[18:22:13] <badboy> heho! Where can I find a listing of available specifiers for the "{...}" syntax (like in println!)
[18:22:22] <geri> cmr: can i built it from github?
[18:22:23] <bluss> badboy: in std::fmt
[18:22:24] <jarrednicholls> manishhearth: you think? what about Option<> and returning None when refcount > 1?  Why would a flag be necessary?
[18:22:37] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[18:22:38] <Manishearth> jarrednicholls: so.
[18:22:40] <jarrednicholls> although I like the get_mut panicking better
[18:22:42] <badboy> nevermind, I should have read the whole text under format_args first
[18:22:44] <badboy> thanks, bluss 
[18:22:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:22:50] *** Quits: lenstr (lenstr@moz-80r.vju.25.171.IP) (Ping timeout: 121 seconds)
[18:22:50] <Manishearth> jarrednicholls: let's say I have an Rc, and I do get_mut()
[18:22:50] <cmr> geri: the only difference between what you have and a setup that builds a nightly is the name in the version, does it really matter?
[18:23:00] <Manishearth> now, I call .clone() on the mut pointer.
[18:23:03] <Manishearth> that should not be allowed
[18:23:07] <mbrubeck> jarrednicholls: get_mut does return Option<T>
[18:23:11] *** Quits: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt) (Ping timeout: 121 seconds)
[18:23:16] <Manishearth> so clone() needs an additional check "Is Rc currently in a get_mut phase?"
[18:23:22] <mbrubeck> Manishearth: You mean clone() on the Rc?
[18:23:25] <jarrednicholls> Manishhearth: roger that
[18:23:39] <mbrubeck> Manishearth: Calling clone() on the mut pointer is fine, it creates a new T that is not aliased.
[18:23:41] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[18:23:44] <mbrubeck> (assuming T: Clone)
[18:24:01] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Connection closed)
[18:24:04] <jarrednicholls> Manishhearth: if T is being cloned it seems like it then doesn't affect the original Rc being mutably borrowed
[18:24:06] <ebfull> you couldn't run clone on the Rc, it's mutably borrowed by the new &mut T
[18:24:10] *** Quits: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net) (Ping timeout: 121 seconds)
[18:24:22] <jarrednicholls> ah right
[18:24:22] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:24:23] <geri> cmr: i need to use volatile_store and volatile_load... is that possible using the version i have now?
[18:24:31] <cmr> geri: yes.
[18:24:38] <jarrednicholls> you guys are smart
[18:24:38] <Manishearth> mbrubeck: ah okay
[18:24:41] <jarrednicholls> hehe
[18:24:42] <tilpner> tomaka - You could redirect stderr.
[18:24:44] *** Joins: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt)
[18:24:44] <Manishearth> mbrubeck: oh I'm an idiot
[18:24:47] <Manishearth> jarrednicholls: nvm
[18:24:51] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:25:18] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[18:25:22] <geri> cmr: so nightly current version is also 1.2 at the moment?
[18:25:27] <cmr> geri: yes.
[18:25:29] <jarrednicholls> manishhearth: np, knowing that clone can't be called at all, that scenario is averted
[18:25:30] <geri> ah
[18:25:34] <cmr> 1.2.0-nightly
[18:25:35] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[18:25:35] <jarrednicholls> whew
[18:25:52] *** Joins: lenstr (lenstr@moz-qp8.vju.25.171.IP)
[18:26:14] <cmr> tomaka: there used to a be a way to set the "task-local logger" that would be used to write those messages...
[18:26:23] <cmr> tomaka: I can't find it anymore though
[18:26:56] <tomaka> ah
[18:27:02] <tilpner> tomaka - You could also use thread::catch_panic, but that would involve spawning at least one thread.
[18:27:15] <tomaka> tilpner: that still prints a message I think
[18:27:20] <tilpner> It does? D:
[18:27:26] *** Quits: thiblahute (tsaunier@moz-rkc6r5.fbx.proxad.net) (Ping timeout: 121 seconds)
[18:27:26] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[18:27:41] <bluss> it does
[18:27:50] <tomaka> rusti: std::thread::spawn(|| panic!()).join().ok()
[18:27:53] -playbot- thread '<unnamed>' panicked at 'explicit panic', <anon>:9
[18:27:53] -playbot- None
[18:27:56] <jarrednicholls> manishhearth: your post is awesome btw, keep up the blogging
[18:28:05] *** Joins: meg34 (meg34@moz-fuq9dk.wh.tu-darmstadt.de)
[18:28:18] <tilpner> tomaka - That's not thread::catch_panic though (which is unstable).
[18:28:19] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[18:28:22] <Manishearth> jarrednicholls: :)
[18:29:06] *** Quits: demilux (demilux@moz-fk1.kt4.14.64.IP) (A TLS packet with unexpected length was received.)
[18:29:48] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[18:29:49] *** Quits: dfinning_ (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[18:30:04] *** Quits: mindtree (Mitch@moz-cm4huq.iprimus.net.au) (Ping timeout: 121 seconds)
[18:30:13] <geri> cmr: how can i use volatile_store? ...unsolved name 'volatile_store'
[18:31:02] <tilpner> tomaka - Yes, it will. :(
[18:31:22] <Manishearth> jarrednicholls: any particular topic you think people wil lwant to read about nex?
[18:31:23] <untitaker> Hey, is there a way to use Rust's formatting engine more flexibly? (or a similar crate) I'd like to pass the formatter a hashtable instead of keyword arguments
[18:31:30] *** Joins: mzabaluev (Thunderbird@moz-ujk3nv.dhcp.inet.fi)
[18:31:47] <Manishearth> I have some ideas, but nothing that explains something fundamental but confusing
[18:32:08] <Manishearth> untitaker: I beleive there's a runtime parser that yo ucan use
[18:32:11] <Manishearth> it's an iterator thingy
[18:32:13] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[18:32:13] *** Joins: desophos (desophos@moz-no3ang.98ku.27p0.6000.2606.IP)
[18:32:30] <Manishearth> untitaker: I used it when solving this bug: https://github.com/rust-lang/rust/pull/20889
[18:32:58] *** Joins: dyoung (dyoung@moz-sqo7j2.foa6.hhh5.0470.2001.IP)
[18:33:06] <jarrednicholls> manishhearth: is there a documented convention on expectations of a library (from a consumer's standpoint)?  There's plenty of examples floating about, but I haven't seen a definitive Rust convention documented anywhere yet.
[18:33:16] <Manishearth> untitaker: the fmt_macros crate
[18:33:18] <jarrednicholls> that could be a book
[18:33:21] <Manishearth> jarrednicholls: there
[18:33:24] <Manishearth> 's a style guide
[18:33:30] <jarrednicholls> but it's a good topic for library authors
[18:33:35] <jarrednicholls> oh okay
[18:33:35] <Manishearth> not somethng I could write about
[18:33:52] <untitaker> Manishearth: hmm but I do want parsing and formatting to happen at runtime
[18:34:11] <untitaker> So what I basically want is a template engine, but not a real one :S
[18:34:17] <jarrednicholls> anyone know of a Rust -> C export interface generator?
[18:34:22] <untitaker> since that'd be overkill
[18:34:26] <jarrednicholls> fun project if there isn't already one
[18:34:33] <Manishearth> untitaker: yeah, so the fmt_macros stuff is runtime
[18:34:43] <Manishearth> it gives you an iterator over the chunks
[18:34:49] <Manishearth> jarrednicholls: rust-bindgen?
[18:35:02] <Manishearth> https://github.com/crabtw/rust-bindgen
[18:35:06] <Manishearth> !bindgen
[18:35:22] <Manishearth> !learn bindgen = https://github.com/crabtw/rust-bindgen
[18:35:22] <rustbot> Learned factoid 'bindgen'.
[18:35:25] <Manishearth> !bindgen
[18:35:26] <rustbot> https://github.com/crabtw/rust-bindgen
[18:35:35] *** Quits: dfockler (dfockler@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[18:35:46] <Manishearth> jarrednicholls: actually it's the reverse of what we want :)
[18:35:53] <Quxxy> bluss: I got as far as writing the summary for batching and had to give up writing anything meaningful
[18:35:55] <Quxxy> :P
[18:35:58] <jarrednicholls> manishhearth: good thought though
[18:36:01] <Manishearth> but ... rust -> C is not an easy thing if you want to do it correctly
[18:36:04] <untitaker> Manishearth: ok that's just for parsing that format -- I might actually clobber something together with regex instead
[18:36:09] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[18:36:10] <Manishearth> because you want to ensure that you're not messing with aliasing
[18:36:24] <bluss> Quxxy: it's a meta adaptor, it does anything
[18:36:30] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[18:36:34] <Quxxy> Doesn't make my job any easier :P
[18:37:17] <bluss> Quxxy: awesome if you write a summary though
[18:37:30] <bluss> Quxxy: well it's just a useful adaptor then
[18:37:44] <Quxxy> bluss: It's: {…}:{U} (arbitrarily re-groups elements of a)
[18:37:49] <Quxxy> :P
[18:38:00] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:38:01] *** Quits: kgrandon (Adium@moz-l20bhq.ujol.1ibb.0101.2620.IP) (Quit: Leaving.)
[18:38:10] <bluss> (arbitrary anything)
[18:38:18] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Ping timeout: 121 seconds)
[18:38:43] *** Joins: demilux (demilux@moz-fk1.kt4.14.64.IP)
[18:39:12] *** Joins: findow (Mibbit@moz-alv91k.isp.telekom.rs)
[18:39:21] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[18:40:05] *** Joins: mbudde (mbudde@moz-vmd8oc.customer.tdc.net)
[18:40:53] *** Quits: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt) (Ping timeout: 121 seconds)
[18:41:16] *** Quits: jiojiajiu (Guro@moz-trc2j7.asianet.co.th) (Connection closed)
[18:41:31] *** Joins: jiojiajiu (Guro@moz-trc2j7.asianet.co.th)
[18:42:33] *** AutomatedTester|AFK is now known as AutomatedTester
[18:44:14] *** Joins: akiss (akiss@moz-uli0pr.pool.digikabel.hu)
[18:45:00] *** Quits: mukilan (mukilan@moz-cjo.er7.164.122.IP) (A TLS packet with unexpected length was received.)
[18:45:02] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[18:45:24] *** Quits: jamesh (jamesh@moz-jsi.0li.247.104.IP) (Client exited)
[18:46:15] *** Quits: findow (Mibbit@moz-alv91k.isp.telekom.rs) (Quit: http://www.mibbit.com ajax IRC Client)
[18:47:10] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[18:47:20] *** Quits: jacor (jacor@moz-aq6q4f.ant0.oo2o.0007.2601.IP) (Connection closed)
[18:47:31] *** Joins: jacor (jacor@moz-aq6q4f.ant0.oo2o.0007.2601.IP)
[18:47:43] *** Joins: mike_in_black (Mibbit@moz-966.099.5.189.IP)
[18:47:55] <Quxxy> bluss: Does the summary for group_by make sense?  https://dl.dropboxusercontent.com/u/7049460/rust/iterdoc.html
[18:48:21] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:48:26] <mike_in_black> is there any way to declare ->>>  unsafe impl Send for Arc<Queue> {}
[18:48:36] <mike_in_black> ??
[18:48:39] <jethrogb> reem: in case you're off the plane https://github.com/hyperium/mime.rs/issues/23
[18:48:43] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:49:46] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[18:50:01] *** Quits: dani (chatzilla@moz-j8c7d1.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[18:50:44] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[18:51:14] *** Joins: tamird (textual@moz-ga3.afc.209.65.IP)
[18:51:45] *** Quits: grant (grant@moz-jfh.0nq.187.64.IP) (Client exited)
[18:52:03] *** Joins: gonzaloserrano (Adium@moz-pb4.qiv.231.77.IP)
[18:52:34] *** Quits: agjacome (agjacome@moz-gki9i8.ei.uvigo.es) (Quit: leaving)
[18:52:51] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[18:52:59] *** Joins: arBmind (Andreas@moz-fn4c63.dyn.telefonica.de)
[18:53:39] *** Joins: crisco_ (crisco@moz-a8r.0c9.164.61.IP)
[18:53:48] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:54:29] *** Joins: dardevelin (dardevelin@moz-iogl12.rev.vodafone.pt)
[18:54:43] *** Quits: bkearns (Adium@moz-2l9j31.ca.comcast.net) (Quit: Leaving.)
[18:55:24] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[18:55:39] <mbrubeck> mike_in_black: Easiest would be to make Queue implement Send and Sync...
[18:55:43] *** Joins: vortex (vortex@moz-skqfhn.novotelecom.ru)
[18:55:45] *** Quits: crisco (crisco@moz-a8r.0c9.164.61.IP) (Ping timeout: 121 seconds)
[18:55:52] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[18:56:08] <mike_in_black> mbrubeck: I see, but it's unsafe outside of an Arc<>
[18:56:31] <Manishearth> mike_in_black: struct MyQueue(Arc<Queue>); unsafe impl Send for MyQueue {}
[18:56:33] <mbrubeck> mike_in_black: Alternative is to wrap your Arc<Queue> in a newtype struct.
[18:56:40] <mbrubeck> ...as Manishearth just showed. :P
[18:57:01] <mike_in_black> thank you both
[18:57:02] <Manishearth> hah
[18:57:28] *** Quits: mzabaluev (Thunderbird@moz-ujk3nv.dhcp.inet.fi) (Connection closed)
[18:57:36] <geri> hi how can i fix this error? http://ideone.com/yr7LMS
[18:58:44] *** Joins: waffles (Wafflespean@moz-sf5.673.193.113.IP)
[18:59:13] *** Quits: skade (skade@moz-eetliv.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:59:26] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:59:43] *** Joins: Brochacho (alberto@moz-b2ovno.cable.rcn.com)
[18:59:46] *** Quits: ajtulloc_ (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP) (A TLS packet with unexpected length was received.)
[19:00:02] *** Joins: d356 (d@moz-go99rq.res.bhn.net)
[19:00:03] *** Quits: d356 (d@moz-go99rq.res.bhn.net) (Connection closed)
[19:00:08] *** Joins: ajtulloch (ajtulloch@moz-4m46ks.1fqg.kp93.010d.2620.IP)
[19:00:55] *** Quits: sigma (sigma@moz-im7cik.range86-135.btcentralplus.com) (Connection closed)
[19:01:11] <mbrubeck> geri: I think this should work: `self.chaMem.offset(i as isize) as *mut u32`
[19:01:19] *** Joins: tmtwd (tmtwd@moz-vfb.ea5.93.65.IP)
[19:01:35] <geri> oh thats allowed?
[19:01:47] *** Quits: waffles (Wafflespean@moz-sf5.673.193.113.IP) (Quit: C'yall later... :))
[19:02:19] <geri> mbrubeck: why is it thinking that its an array?
[19:02:23] <mbrubeck> Yes, you can cast pointers with `as`
[19:02:27] *** Quits: roido (roido@moz-qfd2t8.oc.cox.net) (Ping timeout: 121 seconds)
[19:03:03] <mbrubeck> geri: Presumably `chaMem` is a field with type *mut [u32; N]
[19:04:00] <mbrubeck> geri: You might want to pass everything around as *mut u32 instead, and use http://doc.rust-lang.org/std/primitive.slice.html#method.as_mut_ptr to get a pointer to an array.
[19:04:12] *** Joins: rudolph (rudolph@moz-q5b.rfa.152.37.IP)
[19:04:18] <geri> mrbkap: rustc returns aborting due to 3 prev errors... i only see warnings... wdf?
[19:04:45] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[19:04:59] *** Quits: rudolph (rudolph@moz-q5b.rfa.152.37.IP) (A TLS packet with unexpected length was received.)
[19:05:00] *** Joins: rudolph (rudolph@moz-q5b.rfa.152.37.IP)
[19:05:11] <mbrubeck> geri: Maybe the errors are much earlier in the output?  You can always try grepping it...
[19:05:17] <geri> oh
[19:05:21] *** Joins: Mat4 (quassel@moz-r1s316.dynamic.kabel-deutschland.de)
[19:05:36] *** Joins: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de)
[19:05:38] <Mat4> hello
[19:05:39] <geri> wrong scrolling ... error: use of unstable library feature core
[19:06:08] <mbrubeck> Add #![feature(core)] to your crate root, and make sure you are building with nightly/dev.
[19:06:24] *** Joins: pylbrecht (pylbrecht@moz-b4nhkg.dynamic.kabel-deutschland.de)
[19:06:30] <geri> at the top of the main?
[19:06:35] <maximih> hi everyone. is there a way to check which versions of libs were used to build a binary?
[19:07:54] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[19:08:10] <mbrubeck> geri: Near the top of the file, outside of main
[19:08:46] *** Joins: mcoffin (mcoffin@moz-hrs.16d.54.128.IP)
[19:08:47] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:09:06] *** Quits: VoxWave (bavi@moz-6l6mf3.cs.helsinki.fi) (Ping timeout: 121 seconds)
[19:09:12] <geri> mbrubeck: an inner attribute is not permitted in this context
[19:09:16] *** Quits: crisco_ (crisco@moz-a8r.0c9.164.61.IP) (Ping timeout: 121 seconds)
[19:09:34] *** Quits: delma (aopkarja@moz-6l6mf3.cs.helsinki.fi) (Ping timeout: 121 seconds)
[19:09:36] *** Quits: mra (mrannanj@moz-6l6mf3.cs.helsinki.fi) (Ping timeout: 121 seconds)
[19:09:44] *** Quits: fzzy (fzzy@moz-u36pr1.cs.helsinki.fi) (Ping timeout: 121 seconds)
[19:09:50] *** Joins: crisco_ (crisco@moz-a8r.0c9.164.61.IP)
[19:09:56] <mbrubeck> maximih: Not sure if there's a supported way, but if I run "strings" on a debug binary I get stuff like "/home/mbrubeck/.cargo/registry/src/github.com-1ecc6299db9ec823/image-0.3.10"
[19:10:00] <imjacobclark> I have an ARC wrapped in a Mutex guard that I need to pass to a function (Arc::new(Mutex::new(Vec::new()))
[19:10:06] <imjacobclark> When I pass it I lock and unwrap it
[19:10:10] <imjacobclark> request::Request::calculate_mean(request.lock().unwrap());
[19:10:12] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[19:10:22] <imjacobclark> I'm getting a wrong type error
[19:10:25] <imjacobclark> found `std::sync::mutex::MutexGuard<'_, collections::vec::Vec<request::Request>>`
[19:10:28] <imjacobclark> expected `collections::vec::Vec<request::Request>`,
[19:10:43] *** Joins: turtil (turtil@moz-gfc.es4.23.103.IP)
[19:10:59] <geri> #![feature(core)]  use std::intrinsics::volatile_store;     ??
[19:11:08] <geri> mbrubeck: 
[19:11:11] <talchas> you'll need to take a reference in calculate_mean instead
[19:11:12] <mbrubeck> imjacobclark: You can deref that with * or .deref()
[19:11:18] <talchas> either &mut Vec<> or &[T]
[19:11:21] <cmr> geri: put it in your crate root (probably lib.rs or main.rs)
[19:11:25] <mbrubeck> oh yeah
[19:11:31] *** Quits: rudolph (rudolph@moz-q5b.rfa.152.37.IP) (Quit: Leaving...)
[19:11:40] <geri> cmr: put what?
[19:11:47] <imjacobclark> mbrubeck: error: type `std::sync::mutex::MutexGuard<'_, collections::vec::Vec<request::Request>>` does not implement any method in scope named `deref`
[19:11:52] <cmr> geri: #![feature(core)]
[19:11:55] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[19:12:05] <maximih> mbrubeck: thanks! for some reason not all libraries are listed
[19:12:06] <mbrubeck> geri: Just put it on its own line at the top of the file.
[19:12:06] <talchas> (alternatively, if you want to move out of the Mutex, you'll need to put a new Vec in)
[19:12:42] <mbrubeck> imjacobclark: I think you need to `use` the Deref trait to call .deref directly.  But talchas is right that it will only get you a reference
[19:12:56] <imjacobclark> Hmm, so whats the best way to go about this
[19:12:59] <geri> mbrubeck: it returns an error when i put it into the main.rs: an inner attribute is not permitted in this context
[19:13:01] <imjacobclark> I'm learning Rust so I'm a little, rusty...
[19:13:25] <mbrubeck> imjacobclark: Ideally, change calculate_mean to take &Vec or &mut Vec
[19:13:33] <mbrubeck> imjacobclark: And then it should Just Work™.
[19:13:34] <imjacobclark> pub fn calculate_mean(requests: &mut Vec<Request>) -> f64 { 
[19:13:37] <geri> mbrubeck: fixed!
[19:13:45] <imjacobclark> expected `&mut collections::vec::Vec<request::Request>`,
[19:13:48] <imjacobclark>  found `std::sync::mutex::MutexGuard<'_, collections::vec::Vec<request::Request>>`
[19:13:59] <Brochacho> When using generics with trait AsRef for example with Path, do I always have to use the as_ref() function to get to Path's functions or is there a shorter way?
[19:13:59] <imjacobclark> still seems to fail
[19:14:09] *** Joins: mattkrea (textual@moz-hr3gaj.subnet.rcn.com)
[19:14:10] *** Joins: ajtulloc_ (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP)
[19:14:14] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:14:46] <mbrubeck> imjacobclark: Maybe calculate_mean(&request.lock().unwrap())?
[19:14:50] <mbrubeck> Change to &* if necessary
[19:14:58] <mbrubeck> sorry, &mut or &mut *
[19:15:28] *** Quits: bfrog (tburdick@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[19:16:43] *** Quits: turtil (turtil@moz-gfc.es4.23.103.IP) (Quit: WeeChat 1.1.1)
[19:16:43] <imjacobclark> request::Request::calculate_mean(&mut request.lock().unwrap());
[19:16:44] <imjacobclark> nailed it
[19:16:48] <imjacobclark> Thanks :)
[19:16:48] *** Joins: turtil (turtil@moz-gfc.es4.23.103.IP)
[19:17:04] *** Quits: imjacobclark (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com) (Connection closed)
[19:17:10] *** Quits: ajtulloch (ajtulloch@moz-4m46ks.1fqg.kp93.010d.2620.IP) (Ping timeout: 121 seconds)
[19:17:25] *** Joins: imjacobclark (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com)
[19:17:30] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[19:17:32] *** gaye is now known as gaye|brb
[19:17:39] *** Joins: Rachael_ (textual@moz-o6m.uvt.22.46.IP)
[19:17:41] *** Joins: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net)
[19:17:52] *** Quits: Rachael (Mibbit@moz-o6m.uvt.22.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:18:10] <aisrael> am getting weird run-time behavior from CString (or maybe I just don’t understand it enough). my code works if I assign CString::new(oid).unwrap() to a temporary variable
[19:18:25] <Mat4> I want to call generated machine code though a pointer. How is this done in Rust ?
[19:18:54] <arielb1> is there a Vec iterator that can swap_remove the current element, and have references to previous ones?
[19:18:57] *** Quits: imjacobclark (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com) (Connection closed)
[19:19:02] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Quit: )
[19:19:06] *** Joins: imjacobclark (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com)
[19:19:17] *** Quits: ajtulloc_ (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP) (A TLS packet with unexpected length was received.)
[19:19:23] <cmr> arielb1: no but that seems feasible.
[19:19:25] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[19:19:29] <aisrael> That is, “let cs = CString::new(oid).unwrap(); let cs_ptr = cs.as_ptr();” works when the cs_ptr is subsequently passed to an external C library. But if I do “let cs_ptr = CString::new(oid).unwrap().as_ptr()” I get unknown error -2 and stuff
[19:19:42] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[19:19:45] *** Quits: jedireza (textual@moz-u3dg2t.sfo1.mozilla.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:19:54] <arielb1> cmr: should this be an enhancement of Drain?
[19:20:11] <cmr> arielb1: not sure, ask Gankro in #rust-libs
[19:20:14] *** Joins: kgrandon (Adium@moz-gt82de.ujol.1ibb.0101.2620.IP)
[19:20:17] *** Quits: fkaa_ (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[19:20:24] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[19:20:31] *** Quits: forgottenone (forgottenon@moz-hll.04i.45.92.IP) (A TLS packet with unexpected length was received.)
[19:20:38] *** Joins: ajtulloch (ajtulloch@moz-i7m.9o0.201.199.IP)
[19:20:46] <cmr> aisrael: CString::new(oid).unwrap().as_ptr() will free the newly-allocated CString immediately and the pointer will be dangling.
[19:21:08] *** Joins: nrc (nrc@moz-14pjgj.xtra.co.nz)
[19:21:08] *** ChanServ sets mode: +o nrc
[19:21:19] <aisrael> cmr: makes sense. i should’ve known :)
[19:21:58] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[19:22:47] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[19:22:48] <aisrael> cmr: so, the lifetime of the CString (or the source Vec<u8>) isn’t passed on to as_ptr() ?
[19:22:55] <cmr> aisrael: no.
[19:22:58] *** Parts: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net) ("Ex-Chat")
[19:23:18] <aisrael> ok, thanks. caught me by surprise that one
[19:23:30] *** Joins: kecolus (kecolus@moz-i7cb3r.fios.verizon.net)
[19:24:02] *** Quits: grodan (Mibbit@moz-o5eg8b.bredband.comhem.se) (Quit: http://www.mibbit.com ajax IRC Client)
[19:24:03] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[19:24:27] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:24:33] <aisrael> cmr: Found https://github.com/rust-lang/rust/issues/16035, reading up
[19:24:35] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[19:24:36] <talchas> aisrael: remember that with &ptrs it wouldn't extend the lifetime either, it would just wind up giving you an error when the borrow checker noticed
[19:24:44] <talchas> and *ptrs remove the borrow checker
[19:25:27] <maximih> open("/dev/urandom", O_RDONLY)          = 3
[19:25:27] <maximih> ioctl(3, FIOCLEX)                       = 0
[19:25:27] <maximih> read(3, "\364:\312t\10\374\355\353\315\360\2377\2106K\331\363\245\231\312\345d\226z\371\177C\204~\304\201\225"..., 2048) = 2048
[19:25:29] <maximih> close(3)                                = 0
[19:25:32] <maximih> I have a strange issue with one of my binaries. when I compile without optimisation it takes very log time to e.g. print the help text . it looks like it takes very long time to close /dev/urandom
[19:25:46] *** Quits: mattkrea (textual@moz-hr3gaj.subnet.rcn.com) (Quit: Textual IRC Client: www.textualapp.com)
[19:25:55] <maximih> it get stucked in close(3) for several seconds
[19:25:58] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[19:26:08] <maximih> anyone seen something like this before?
[19:26:16] * aisrael thinks Rust is a grand puzzle. also, never ever solved a Rubik’s cube
[19:26:31] *** Quits: Wilduck (erik@moz-0l3fjb.fios.verizon.net) (Ping timeout: 121 seconds)
[19:26:33] <talchas> if you're seeing the close(3) and then it waiting until your program continues, it's almost certainly that you're stuck in something else
[19:26:36] <cmr> maximih: what makes you think it's actually stuck in close, and not paging in the executable?
[19:26:40] <cmr> maximih: or doing anything else.
[19:26:46] <cmr> maximih: there are lots of things that take time that aren't syscalls.
[19:26:53] <maximih> strace doesnt show anything else
[19:27:05] *** Joins: Wilduck (erik@moz-7k30dn.compute-1.amazonaws.com)
[19:27:08] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[19:27:10] *** Joins: VoxWave (bavi@moz-6l6mf3.cs.helsinki.fi)
[19:27:20] *** Joins: crisco (crisco@moz-a8r.0c9.164.61.IP)
[19:27:23] *** Joins: mra (mrannanj@moz-6l6mf3.cs.helsinki.fi)
[19:27:28] <talchas> I'd recommend using perf or some other profiling tool, since it's probably not taking time in syscalls
[19:27:31] <cmr> there are lots of things that take time that aren't syscalls.
[19:27:39] *** Joins: delma (aopkarja@moz-6l6mf3.cs.helsinki.fi)
[19:27:45] *** Joins: fzzy (fzzy@moz-u36pr1.cs.helsinki.fi)
[19:27:56] <maximih> hmm, the code is very simple, it's using docopt to print help text, maybe a bug there
[19:28:06] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[19:28:07] <maximih> and it only behaves like that on linux
[19:28:24] <maximih> will try perf next
[19:28:32] <talchas> well, it might be docopt being slow without optimization
[19:28:46] *** Joins: bfrog (tburdick@moz-hde.5e5.136.67.IP)
[19:29:04] <talchas> rust relies on optimization to help a lot, and docopt's backwards-ness seems likely to cause perf issues there
[19:29:16] <talchas> (though only doing that on linux would seem odd then)
[19:29:16] <maximih> the thing is that I am almost sure it didn't behave like this before :)
[19:29:18] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:29:39] <maximih> also, it's very fast on mac
[19:29:44] *** Quits: crisco_ (crisco@moz-a8r.0c9.164.61.IP) (Ping timeout: 121 seconds)
[19:29:53] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[19:30:34] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:31:09] <woowe> So I am trying to write some data to a file but it says that there is no implementation of write_all in scope
[19:31:33] <maximih> it's either docopt or env_logger, there is nothing else going on there
[19:31:42] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[19:31:48] <woowe> nvm just need std::io::Write
[19:31:50] <woowe> :/
[19:32:18] <imjacobclark> Can you spy on methods in rust, to see if they are called, testing wise?
[19:32:27] *** Quits: EspressoDan (EspressoDan@moz-j2i.853.211.140.IP) (Client exited)
[19:32:28] *** Joins: crisco_ (crisco@moz-9ep.2hu.34.110.IP)
[19:32:43] *** Parts: Mat4 (quassel@moz-r1s316.dynamic.kabel-deutschland.de) ("http://quassel-irc.org - Chat comfortably. Anywhere.")
[19:32:47] *** Joins: Mat4 (quassel@moz-r1s316.dynamic.kabel-deutschland.de)
[19:32:57] *** Quits: Mat4 (quassel@moz-r1s316.dynamic.kabel-deutschland.de) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[19:32:58] <cmr> imjacobclark: https://github.com/gsingh93/trace
[19:33:04] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[19:33:13] <cmr> (not allowed on stable)
[19:33:19] <imjacobclark> Thanks, cmr: if i have a tests folder, how do I load up my modules within src/
[19:33:44] <alk> hi, is there a way to implement a trait for all iterators on a given struct?
[19:33:51] <cmr> imjacobclark: `extern crate cratename`, tests/foo is for external tests.
[19:33:55] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:35:09] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[19:35:14] *** Quits: crisco (crisco@moz-a8r.0c9.164.61.IP) (Ping timeout: 121 seconds)
[19:35:18] *** Joins: iiixtiii (ixti@moz-i3d.dae.119.188.IP)
[19:35:34] *** Joins: skade (skade@moz-eetliv.pools.vodafone-ip.de)
[19:35:52] *** Joins: UberLambda (uber@moz-24qg64.clienti.tiscali.it)
[19:36:59] *** Quits: Rachael_ (textual@moz-o6m.uvt.22.46.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:38:04] *** Quits: __ixti__ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[19:38:05] *** Joins: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP)
[19:38:17] *** Quits: jiojiajiu (Guro@moz-trc2j7.asianet.co.th) (Connection closed)
[19:38:18] *** gaye|brb is now known as gaye
[19:38:21] *** Quits: durka42 (Adium@moz-vpdpo1.o2oh.k96e.f470.2607.IP) (Quit: Leaving.)
[19:38:27] *** Joins: dfockler (dfockler@moz-etoj16.hfc.comcastbusiness.net)
[19:38:33] *** Quits: davebettin (textual@moz-rnhkmd.bendcable.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:38:48] *** Quits: kushal (kdas@moz-iq5.378.143.114.IP) (Quit: Leaving)
[19:38:48] *** Joins: jedireza (jedireza@moz-u3dg2t.sfo1.mozilla.com)
[19:38:52] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[19:39:05] *** Joins: kgrandon1 (Adium@moz-qjbkeh.mtv2.mozilla.com)
[19:39:12] *** Joins: jiojiajiu (Guro@moz-trc2j7.asianet.co.th)
[19:39:16] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[19:39:36] *** Joins: kgrandon2 (Adium@moz-cp2gso.ujol.1ibb.0101.2620.IP)
[19:39:47] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[19:42:17] *** Quits: kgrandon (Adium@moz-gt82de.ujol.1ibb.0101.2620.IP) (Ping timeout: 121 seconds)
[19:42:28] *** Joins: fizzbooze (bp@moz-no6phj.sm5k.54kg.0101.2620.IP)
[19:42:56] *** Quits: simple (Mibbit@moz-o4qa3b.nationalcablenetworks.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[19:43:09] *** Quits: kgrandon1 (Adium@moz-qjbkeh.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[19:43:17] *** Joins: anruh (tanuki@moz-asohbh.dyn.optonline.net)
[19:43:18] <gsingh93> can someone help me with this template error: http://pastebin.com/JE2kcuv6
[19:43:35] <gsingh93> it says the type T isn't constrained, but it's set by the other types
[19:43:55] <cmr> gsingh93: it looks like that "T" wants to be an associated type
[19:44:08] <maximih> I think my performance issues are due to changes in Regex crate
[19:44:34] *** Joins: Rachael (textual@moz-o6m.uvt.22.46.IP)
[19:44:53] <maximih> anyone else using docopt on linux that can confirm very slow execution without optimisations?
[19:45:20] <cmr> maximih: do you have a particular example demonstrating the slowness?
[19:45:59] <maximih> I will create a gist
[19:46:39] <maximih> Regex is the only major library that changed recently: https://github.com/rust-lang/regex/pull/87
[19:47:06] *** Joins: agjacome (agjacome@moz-0n5rsk.dynamic.jazztel.es)
[19:47:12] *** Joins: dani (chatzilla@moz-j8c7d1.dynamicIP.rima-tde.net)
[19:47:18] <dani> hi
[19:47:19] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[19:47:51] *** Quits: sono (sono@moz-ti08o8.clients.your-server.de) (Ping timeout: 121 seconds)
[19:47:52] <dani> I need some advice: what should I use for a GUI in Rust?
[19:48:13] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[19:48:47] <Hukka> dani: Have you checked if anyone has made crates for any common frameworks?
[19:48:55] <Hukka> If not, I suppose it's FFI for you, then
[19:49:20] <gsingh93> cmr: so i'd need to make this a trait
[19:49:22] <gsingh93> ?
[19:49:23] <dani> there is a crate for gtk, but needs to implement some things yet
[19:49:26] <duncan> i know there are GTK bindings somewhere
[19:49:28] *** Quits: woowe (Mibbit@moz-499ogh.wi.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:49:30] *** Joins: efaust_ (efaust@moz-4u9k4j.ca.comcast.net)
[19:49:43] <gsingh93> oh, you mean of ServerTransport/Processor?
[19:49:59] <duncan> dani: there is also Conrod, if your needs are simple. https://github.com/PistonDevelopers/conrod
[19:50:00] <cmr> gsingh93: no, but the Transport looks like it wants to be an associated type on at least one of those other traits.
[19:50:07] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[19:50:21] <dani> I tried Conrod, but it didn't work correctly
[19:50:42] <dani> i'll try FFI, thanks for your help!
[19:51:03] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[19:51:06] <Hukka> Hmh, conrod readme is missing a pretty crucial info on what platforms it runs on
[19:51:32] <dani> I'm on a 32-bit Linux, should it work?
[19:51:42] <cmr> Hukka: "all of them"
[19:52:03] <cmr> Hukka: it only depends on the graphics backend, all of which right now only depend on opengl.
[19:52:18] <dani> maybe that's the problem
[19:52:29] <dani> I might be missing some dependency
[19:54:55] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[19:55:30] *** Joins: narann (narann@moz-j49beg.dsl.netrevolution.com)
[19:58:03] *** Quits: tamird (textual@moz-ga3.afc.209.65.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:58:41] *** Quits: gonzaloserrano (Adium@moz-pb4.qiv.231.77.IP) (Quit: Leaving.)
[19:58:57] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:59:39] *** Quits: jedireza (jedireza@moz-u3dg2t.sfo1.mozilla.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:59:49] *** Quits: User_ (User@moz-f6sd9k.custommoversservices.com) (Ping timeout: 121 seconds)
[19:59:58] *** Joins: tamird (textual@moz-ga3.afc.209.65.IP)
[19:59:59] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[20:00:11] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[20:00:25] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[20:00:55] *** Joins: mib_lhfyfp (Mibbit@moz-i98eeg.cable.virginm.net)
[20:02:30] *** Quits: fizzbooze (bp@moz-no6phj.sm5k.54kg.0101.2620.IP) (Ping timeout: 121 seconds)
[20:02:32] *** Quits: mib_lhfyfp (Mibbit@moz-i98eeg.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:02:50] *** Joins: meh (meh@moz-e56g7l.42-151.net24.it)
[20:03:07] *** Joins: mib_equ50o (Mibbit@moz-i98eeg.cable.virginm.net)
[20:04:27] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:04:49] *** Quits: krig (krig@moz-nf73fa.acc.umu.se) (Ping timeout: 121 seconds)
[20:05:57] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[20:06:11] *** Joins: krig (krig@moz-nf73fa.acc.umu.se)
[20:06:19] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[20:07:21] *** Quits: jshs (jshs@moz-1dic24.dip0.t-ipconnect.de) (Client exited)
[20:08:01] *** Joins: molok (molok@moz-kjf.mdl.255.187.IP)
[20:08:02] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[20:08:20] *** Joins: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com)
[20:08:22] <molok> hey, anyone can help me with wtftw window manager?
[20:08:24] *** Quits: aisrael (aisrael@moz-fid.anf.108.114.IP) (Client exited)
[20:08:41] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[20:09:12] *** Joins: durka42 (Adium@moz-qsuual.pa.comcast.net)
[20:09:46] <molok> my error says: the trai 'core::marker::Sized' is not implemented  for the type ...
[20:09:50] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[20:09:51] <molok> any help?
[20:10:00] <eddyb> molok: the type matters
[20:10:07] <eddyb> and the context
[20:10:18] <dani> are you trying to build that window manager?
[20:10:33] *** Quits: wipeD (wipeD@moz-qpl281.dip0.t-ipconnect.de) (Connection closed)
[20:10:48] <molok> es
[20:10:51] <molok> yes*
[20:11:05] <molok> wait..
[20:11:15] *** Quits: fabiand (fabiand@moz-tro7q2.dip0.t-ipconnect.de) (Quit: Verlassend)
[20:11:38] *** Quits: ajtulloch (ajtulloch@moz-i7m.9o0.201.199.IP) (A TLS packet with unexpected length was received.)
[20:11:56] *** chmanchester is now known as chmanchester|afk
[20:11:57] *** Quits: mib_equ50o (Mibbit@moz-i98eeg.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:11:59] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[20:12:04] <molok> https://travis-ci.org/Kintaro/wtftw
[20:12:27] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:12:28] <molok>  same error..
[20:12:31] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:12:42] *** Quits: desophos (desophos@moz-no3ang.98ku.27p0.6000.2606.IP) (Connection closed)
[20:12:58] *** Quits: eckhardt (eckhardt@moz-s9e.ov1.227.199.IP) (Connection closed)
[20:13:02] *** Joins: gpillow (Mibbit@moz-hd5u4k.pasty.net)
[20:13:03] *** Joins: frem (uid16862@moz-60b2uv.highgate.irccloud.com)
[20:13:12] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[20:13:20] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[20:13:32] *** Joins: ajtulloch (ajtulloch@moz-i7m.9o0.201.199.IP)
[20:13:50] *** Quits: turtil (turtil@moz-gfc.es4.23.103.IP) (Ping timeout: 121 seconds)
[20:13:52] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:14:23] <molok> anyone?
[20:14:28] <dani> there is little to do if that doesn't compile...
[20:14:30] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Ping timeout: 121 seconds)
[20:14:40] <dani> maybe that's a known issue or something?
[20:14:46] *** nsm|away is now known as nsm
[20:14:48] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[20:14:53] <dani> is there an older, more stable version?
[20:14:58] *** Quits: meg34 (meg34@moz-fuq9dk.wh.tu-darmstadt.de) (Ping timeout: 121 seconds)
[20:15:03] *** Quits: Hannibal_Smith (nico@moz-itj1vp.retail.telecomitalia.it) (Quit: Leaving)
[20:15:07] *** Joins: pancake (pancake@moz-30m5j6.dynamicIP.rima-tde.net)
[20:15:09] *** Quits: amyers (amyers@moz-qn874b.zip.zayo.com) (Ping timeout: 121 seconds)
[20:15:12] <pancake> Unstable: may be better expressed via composition
[20:15:17] <pancake> what do this means?
[20:15:19] *** Joins: Guest22_ (textual@moz-jt9juk.fibertel.com.ar)
[20:15:30] *** Joins: dinfuehr (dinfuehr@moz-h1bj2t.highway.telekom.at)
[20:15:35] *** Quits: dardevelin (dardevelin@moz-iogl12.rev.vodafone.pt) (Quit: Leaving)
[20:15:36] <pancake> im trying to convert an mut [u8;1024] into a string
[20:15:51] *** Quits: molok (molok@moz-kjf.mdl.255.187.IP) (Quit: leaving)
[20:16:07] *** Joins: DemonOne (Avi@moz-4fe56p.cablep.bezeqint.net)
[20:16:10] <tilpner> How are you trying to do that?
[20:16:12] <bluss> pancake: the function you tried to use was marked unstable
[20:16:18] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[20:16:19] <ebfull> pancake: http://doc.rust-lang.org/std/str/fn.from_utf8.html
[20:16:34] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[20:16:40] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[20:16:40] *** Quits: jeffasinger (jeff@moz-aj9r6o.res.rr.com) (Client exited)
[20:16:48] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[20:17:01] *** Quits: Jackneill (Jackneill@moz-p0a82d.pool.digikabel.hu) (A TLS packet with unexpected length was received.)
[20:17:53] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[20:17:56] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (A TLS packet with unexpected length was received.)
[20:18:02] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Ping timeout: 121 seconds)
[20:18:35] <eddyb> molok left :/
[20:18:36] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[20:19:11] <eddyb> oh, Rc<WindowSystem>
[20:19:24] <eddyb> they're using too old of rustc version
[20:19:48] *** Quits: trecer (textual@moz-uij.3un.220.167.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:20:17] *** Quits: timonv (timonv@moz-1qu311.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[20:21:01] *** Quits: jnvsor (j@moz-1o1jrn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[20:22:24] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[20:22:42] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[20:23:03] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[20:23:03] *** Quits: mcoffin (mcoffin@moz-hrs.16d.54.128.IP) (Quit: rebooting)
[20:23:25] *** Parts: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net) ()
[20:23:39] *** Quits: ajtulloch (ajtulloch@moz-i7m.9o0.201.199.IP) (A TLS packet with unexpected length was received.)
[20:24:08] *** Joins: filsmick (filsmick@moz-v28ds8.abo.wanadoo.fr)
[20:25:23] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[20:25:31] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[20:26:03] <pancake> now i have &*const u8 and i need &[u8]
[20:26:08] *** Joins: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt)
[20:26:12] *** Joins: eckhardt (eckhardt@moz-s9e.ov1.227.199.IP)
[20:26:30] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[20:26:35] <pancake> nevermind :)
[20:26:36] *** Joins: ajtulloch (ajtulloch@moz-i7m.9o0.201.199.IP)
[20:26:48] *** Quits: kecolus (kecolus@moz-i7cb3r.fios.verizon.net) (Quit: Leaving)
[20:27:05] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[20:27:14] *** Joins: Hannibal_Smith (nico@moz-itj1vp.retail.telecomitalia.it)
[20:27:51] *** Quits: dani (chatzilla@moz-j8c7d1.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[20:28:16] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:28:17] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[20:28:56] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[20:28:57] *** Joins: mbug (mbug@moz-s5gpv7.elfo.d1d0.0f41.2a00.IP)
[20:29:04] *** Joins: Masked (name@moz-c77pgq.cpe.netcabo.pt)
[20:29:09] *** Joins: jviereck (Adium@moz-9vg37n.dip0.t-ipconnect.de)
[20:29:20] *** Joins: __mark__ (mark@moz-udut16.dynamic.chello.pl)
[20:29:29] *** Joins: meg34 (meg34@moz-fuq9dk.wh.tu-darmstadt.de)
[20:29:34] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:29:44] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[20:29:58] *** Quits: Masked (name@moz-c77pgq.cpe.netcabo.pt) (Quit: get satisfied!  :: core-networks.de ««« (Gamers.IRC) »»» gamersirc.net ::)
[20:30:22] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[20:30:24] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:30:37] <ToxicFrog> Ok, time for more stupid newbie questions about the FFI
[20:30:49] <ToxicFrog> How do I return a closure to C? They don't seem to be type-compatible with normal functions.
[20:30:52] <ToxicFrog> My use case here:
[20:30:52] *** Quits: kamilc__ (kamil@moz-ms94ss.play-internet.pl) (Quit: Linkinus - http://linkinus.com)
[20:31:15] *** Joins: jophde (Mibbit@moz-7o2qso.static.fusionbroadband.com)
[20:31:24] <ToxicFrog> I have a C API, void SetEventFilter(Filter f) and Filter GetEventFilter(). Filter has type fn(*const Event) -> i32
[20:31:50] <ToxicFrog> Note that there is no way to pass additional arguments into the filter as is otherwise common with C callback APIs.
[20:32:01] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[20:32:17] <ToxicFrog> I want to SetEventFilter() to a function that does some logging and then calls the original value returned by GetEventFilter() at initialization time.
[20:32:45] *** Joins: tyoverby_ (tyoverby@moz-254fcd.cs.washington.edu)
[20:32:51] <benh> rust doesn't provide for a way to hide a full closure behind a simple C function pointer :(
[20:33:00] <tyoverby_> What is the function that joins an iterator of Strings with a seperator string?
[20:33:07] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[20:33:07] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[20:33:10] <tyoverby_> I know that the function exists, I just can't find the name for the life of me
[20:33:11] <ToxicFrog> But I can't just: let filter = GetEventFilter(); SetEventFilter(|event| { logging(); filter(event) }) because [closure ...] isn't type-compatible with fn(*const Event) -> i32
[20:33:15] <burntsushi> tyoverby_: connect
[20:33:25] <ToxicFrog> benh: D:
[20:33:26] <tyoverby_> burntsushi: you are the best
[20:33:36] *** Joins: EspressoDan (EspressoDan@moz-j2i.853.211.140.IP)
[20:33:37] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[20:33:44] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[20:33:55] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[20:33:58] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (A TLS packet with unexpected length was received.)
[20:34:06] <ToxicFrog> benh: so I guess I have to stick the original function into something with static lifetime and retrieve it at filter call time? :/
[20:34:09] *** Joins: turtil (turtil@moz-gfc.es4.23.103.IP)
[20:34:16] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[20:34:23] <benh> yeah I believe so :(
[20:34:27] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[20:34:53] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:34:53] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[20:34:59] <tyoverby_> 2 points for burntsushi
[20:35:06] <burntsushi> :)
[20:35:12] <ToxicFrog> Welp
[20:35:15] <ToxicFrog> What's the best type for that?
[20:35:45] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[20:35:53] *** Joins: jedireza (jedireza@moz-u3dg2t.sfo1.mozilla.com)
[20:36:04] <benh> not sure
[20:36:10] *** Joins: crisco__ (crisco@moz-9ep.2hu.34.110.IP)
[20:37:38] *** Joins: CactusCommander (fiveside@moz-t2eatg.vsp.com)
[20:37:45] *** Quits: crisco_ (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[20:38:43] *** Tuba is now known as Tobba
[20:38:55] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:39:14] *** Quits: imjacobclark (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com) (Connection closed)
[20:39:34] *** Joins: dani (chatzilla@moz-j8c7d1.dynamicIP.rima-tde.net)
[20:39:35] *** Joins: imjacobclark (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com)
[20:39:47] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[20:39:49] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[20:40:07] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Ping timeout: 121 seconds)
[20:40:11] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[20:40:20] *** Joins: loyd (loyd@moz-jsb.32f.108.213.IP)
[20:40:46] *** Joins: gopar (gopar@moz-jd6o28.m2vj.kpnp.0009.2601.IP)
[20:41:12] *** Joins: imjacobc_ (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com)
[20:41:15] *** chmanchester|afk is now known as chmanchester
[20:41:27] *** Quits: imjacobclark (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com) (Connection closed)
[20:41:37] *** Quits: tmtwd (tmtwd@moz-vfb.ea5.93.65.IP) (Connection closed)
[20:41:57] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[20:42:24] *** Quits: jviereck (Adium@moz-9vg37n.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:42:38] *** Joins: mib_5lgf9w (Mibbit@moz-tfantb.dsl.netrevolution.com)
[20:43:12] *** Quits: mbug (mbug@moz-s5gpv7.elfo.d1d0.0f41.2a00.IP) (Quit: Leaving)
[20:43:36] *** Quits: eholk (eholk@moz-jtq0te.crest.iu.edu) (Client exited)
[20:43:48] *** Quits: Wilduck (erik@moz-7k30dn.compute-1.amazonaws.com) (Ping timeout: 121 seconds)
[20:43:50] *** Quits: krig (krig@moz-nf73fa.acc.umu.se) (Ping timeout: 121 seconds)
[20:44:02] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[20:44:08] <ToxicFrog> Hmm.
[20:44:13] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:44:27] <ToxicFrog> If I have a "fn" type, does that correspond to a C function pointer, or does it need an additional *const or *mut decoration?
[20:44:37] *** Joins: krig (krig@moz-nf73fa.acc.umu.se)
[20:45:04] *** Joins: ParadoxSpiral (ParadoxSpir@moz-j3a7l7.dip0.t-ipconnect.de)
[20:45:04] *** Quits: gingermusketeer (gingermuske@moz-r8kis8.compute.amazonaws.com) (Connection closed)
[20:45:08] *** Joins: gingermusketeer (gingermuske@moz-b73kb1.compute.amazonaws.com)
[20:45:29] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[20:45:33] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:45:39] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[20:45:43] *** Joins: Wilduck (erik@moz-0l3fjb.fios.verizon.net)
[20:45:44] <bluss> it's a function pointer
[20:45:57] <cmr> ToxicFrog: you want an `extern fn` type, to match the C calling convention.
[20:45:58] <bluss> you might need to cast it to the fn(A) -> R  type 
[20:46:07] <bluss> oh right that too
[20:46:36] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[20:47:38] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[20:48:02] <cholcombe> is there a way to mock a std::process::Command output for testing?
[20:48:20] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[20:48:52] *** Quits: jarrednicholls (uid19542@moz-cmdbn3.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[20:49:02] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[20:49:42] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:49:50] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[20:50:09] *** bentley|away is now known as bentley
[20:50:23] <filsmick> cholcombe: make a mock script which outputs the false output and call that?
[20:50:30] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[20:50:47] <cholcombe> well i have a function that calls out to a process to ask for some info and i want to unit test it
[20:50:53] <cholcombe> but it's kinda hard to do the way i have it
[20:50:55] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:51:17] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[20:51:24] <filsmick> can't you pass the command name to the function you want to test?
[20:51:41] <filsmick> (why can't concat!() be used with compile-time constants?)
[20:52:19] <cholcombe> lemme show you what i have :)
[20:52:29] <filsmick> sure :)
[20:52:41] *** Quits: crisco__ (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[20:52:46] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[20:52:47] <filsmick> I may have to go in 5 to 10 min, though
[20:52:49] *** Quits: KarolisK (karolis@moz-1vd.8s1.28.194.IP) (Quit: Konversation terminated!)
[20:53:03] <filsmick> so forgive me in advanced if I leave 
[20:53:07] <filsmick> in advance*
[20:53:09] <cholcombe> ok
[20:53:13] *** Joins: crisco__ (crisco@moz-9ep.2hu.34.110.IP)
[20:53:17] <filsmick> let's do the best with the time we have
[20:53:30] <cholcombe> https://play.rust-lang.org/?gist=3315eed7df291d5cbbb8&version=stable
[20:53:38] <cholcombe> i'm trying to figure out how to test the volume_info function here
[20:53:46] *** Quits: mib_5lgf9w (Mibbit@moz-tfantb.dsl.netrevolution.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:53:52] *** Quits: jiojiajiu (Guro@moz-trc2j7.asianet.co.th) (Connection closed)
[20:54:17] <cholcombe> it's not producing the right output and i figured a unit test would be nice here
[20:54:19] *** Joins: jiojiajiu (Guro@moz-trc2j7.asianet.co.th)
[20:54:36] *** Quits: slomo (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[20:54:56] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[20:55:11] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[20:55:22] *** Quits: paupau (grrrr@moz-7l1.1cg.90.208.IP) (Connection closed)
[20:55:28] *** Joins: paupau (grrrr@moz-rc7fph.static.monkeybrains.net)
[20:55:31] *** Joins: fredrik (fredrik@moz-2b08ue.priv.bahnhof.se)
[20:55:57] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[20:56:07] <filsmick> I skimmed through it
[20:56:30] <cholcombe> the volume_info fn calls run_command
[20:56:36] <cholcombe> if i could mock run_command i'd be golden
[20:56:53] <filsmick> oh I see
[20:57:20] *** Quits: phore (phore@moz-p8hanb.cable.rogers.com) (Ping timeout: 121 seconds)
[20:57:29] <filsmick> you'd like to construct an Output object by hand
[20:57:30] <filsmick> right?
[20:57:43] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:57:54] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Client exited)
[20:58:00] <cholcombe> possibly
[20:58:08] <cholcombe> yeah that might work
[20:58:21] <filsmick> well, good news
[20:58:23] <filsmick> http://doc.rust-lang.org/std/process/struct.Output.html
[20:58:29] <filsmick> stdout is public
[20:58:40] <filsmick> you can write a mocked output string
[20:58:46] <filsmick> convert it to a Vec<u8>
[20:58:55] *** Quits: ukarlsson (ukarlsson@moz-bakum2.7i5n.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[20:58:58] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:59:12] <filsmick> then construct an Output struct from a run_command_mock function (is that what you want?) to test it
[20:59:35] <cholcombe> yeah 
[20:59:47] <cholcombe> i need to rework my code a little so i can easily insert mock functions in the flow
[20:59:48] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[20:59:54] <cholcombe> it's too tightly coupled
[21:00:17] <filsmick> I'm not sure what the best practice is,
[21:00:35] <filsmick> but you could use if cfg!(test) in your functions to call the mock functions
[21:00:43] <cholcombe> oh?
[21:00:45] <filsmick> the branch will be eliminated at compile time
[21:00:49] <cholcombe> lemme look up cfg!(test)
[21:00:52] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[21:00:55] *** Parts: anruh (tanuki@moz-asohbh.dyn.optonline.net) ()
[21:01:07] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:01:11] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:01:14] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[21:01:36] <filsmick> https://doc.rust-lang.org/book/testing.html
[21:01:49] <filsmick> there are bits of useful info for you there
[21:01:51] *** Quits: ajtulloch (ajtulloch@moz-i7m.9o0.201.199.IP) (A TLS packet with unexpected length was received.)
[21:02:07] *** Quits: veeti (veeti@moz-vjgvb5.9155.nri3.d880.2a00.IP) (Quit: No Ping reply in 180 seconds.)
[21:02:13] <cholcombe> :)
[21:02:39] <filsmick> no wait
[21:02:44] <filsmick> even better than cfg!(test)
[21:02:47] *** Joins: ajtulloch (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP)
[21:02:58] <filsmick> you could change the definition of run_command based on whether your building tests, or the normal program
[21:03:05] <filsmick> you'll call it by the same name
[21:03:16] <filsmick> but if you're testing, its definition will be a mock
[21:03:19] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:03:26] <filsmick> and if you are building for real use, it will have the actual definition you wrote
[21:03:31] <filsmick> what do you think?
[21:03:33] <cholcombe> how can i do that?  that sounds awesome
[21:03:42] <filsmick> it's easy
[21:03:57] <filsmick> you put #[cfg(not(test))] before defining the actual function
[21:04:05] *** Quits: crisco__ (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[21:04:21] <cholcombe> interesting
[21:04:24] <filsmick> then you write #[cfg(test)] and re-define the function (same name, same signature, and arguments), but with the mocked output
[21:04:24] *** Joins: crisco__ (crisco@moz-9ep.2hu.34.110.IP)
[21:04:26] *** Joins: robojeb (jeb@moz-lap.g5k.173.134.IP)
[21:04:26] *** Joins: veeti (veeti@moz-vjgvb5.9155.nri3.d880.2a00.IP)
[21:04:27] <filsmick> let me show you
[21:04:33] <cholcombe> sure go for it
[21:04:52] *** Quits: ogeon (ogeon@moz-5lkqp9.priv.bahnhof.se) (Ping timeout: 121 seconds)
[21:05:05] *** Quits: dinfuehr (dinfuehr@moz-h1bj2t.highway.telekom.at) (Connection closed)
[21:05:18] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[21:05:21] *** Joins: coryforsyth (coryforsyth@moz-q577km.static.cosmoweb.net)
[21:05:31] <filsmick> https://gist.github.com/anonymous/73530682f3f83f721f35
[21:05:44] <cholcombe> wow
[21:05:45] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[21:05:53] <filsmick> oops, I wrote fn twice at the bottom
[21:05:54] <cholcombe> i'm really glad i routed everything through run_command now
[21:05:58] <filsmick> eheh
[21:06:01] <cholcombe> that's ok i'm following
[21:06:04] <filsmick> isn't that awesome? Free mocking
[21:06:09] <filsmick> no need to change anything in the rest of your code
[21:06:10] <cholcombe> wow
[21:06:12] <cholcombe> go rust!
[21:06:18] <filsmick> I wrote that off the top of my head, so there may be typos or such
[21:06:22] <cholcombe> sure
[21:06:27] <cholcombe> so now if i do cargo test it'll swap it out?
[21:06:28] <filsmick> but the concept works
[21:06:30] <filsmick> yup
[21:06:42] <cholcombe> wow that's exactly what i was looking for.  thanks!
[21:06:47] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:06:53] <filsmick> :)
[21:07:02] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[21:07:03] <filsmick> you know what, thanks to you, because I too should unit test more...
[21:07:08] <filsmick> I'll use this 
[21:07:10] <cholcombe> haha
[21:07:12] *** Quits: Guest67 (textual@moz-8aocg9.ri.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:07:21] <filsmick> most functions depend on external input
[21:07:25] <filsmick> so mocking them would help a ton
[21:07:25] <cholcombe> i'm writing a library to show to coworkers.  i want it to be mostly solid haha
[21:07:42] <filsmick> tests will help, yes :)
[21:07:44] <filsmick> now I have to go
[21:07:48] <filsmick> glad to know it helped you
[21:07:52] <cholcombe> def
[21:07:53] <cholcombe> thanks
[21:07:54] <filsmick> see you another day, maybe!
[21:08:02] <cholcombe> :)
[21:08:05] <filsmick> see also http://rustbyexample.com/attribute/cfg.html 
[21:08:06] <filsmick> bye
[21:08:09] *** Quits: filsmick (filsmick@moz-v28ds8.abo.wanadoo.fr) (Quit: )
[21:08:22] *** Quits: jophde (Mibbit@moz-7o2qso.static.fusionbroadband.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:08:31] *** Quits: Hannibal_Smith (nico@moz-itj1vp.retail.telecomitalia.it) (Quit: Leaving)
[21:08:40] *** AutomatedTester is now known as AutomatedTester|AFK
[21:08:48] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:09:26] *** Quits: UberLambda (uber@moz-24qg64.clienti.tiscali.it) (Quit: GTG)
[21:09:30] *** Joins: panitaliemom (Mibbit@moz-latu7g.biz.rr.com)
[21:09:47] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:10:08] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:10:46] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:11:11] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[21:11:15] *** Quits: Lee1092 (uid13277@moz-p2e1ii.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[21:11:24] <panitaliemom> Hello! Can someone help me with some questions RE: reading a vec of u8s?
[21:11:55] *** Joins: crisco_ (crisco@moz-a8r.0c9.164.61.IP)
[21:12:16] <navatwo> dont ask to ask, just ask :P
[21:12:27] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:12:27] *** Quits: Guest22_ (textual@moz-jt9juk.fibertel.com.ar) (Ping timeout: 121 seconds)
[21:12:43] <panitaliemom> Haha! Well, I'm sure people are busy, don't want to be presumptuous ;-)
[21:12:56] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[21:13:06] *** Joins: jviereck (Adium@moz-9vg37n.dip0.t-ipconnect.de)
[21:13:17] *** Quits: youknowone (youknowone@moz-0t8.piq.68.115.IP) (Ping timeout: 121 seconds)
[21:13:18] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[21:13:21] *** Quits: Yurume (Yurume@moz-0t8.piq.68.115.IP) (Ping timeout: 121 seconds)
[21:13:23] <navatwo> If no one replies you know :P
[21:13:41] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[21:13:41] *** Joins: youknowone (youknowone@moz-0t8.piq.68.115.IP)
[21:14:02] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:14:10] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[21:14:11] <panitaliemom> So... I have a vec of u8s but I can't give it directly to `String::from_utf8`. The first byte acts as a header to indicate how many bytes into the vec represent a string.
[21:14:29] <navatwo> slice the byte off the front?
[21:14:32] *** Joins: Yurume (Yurume@moz-0t8.piq.68.115.IP)
[21:15:06] <panitaliemom> Yes, so if I take `bytes.remove(0)`, I'm ok. The remaining bytes are readable.
[21:15:19] <navatwo> yeah, but you can just slice it too and use the ref
[21:15:19] *** Quits: crisco__ (crisco@moz-9ep.2hu.34.110.IP) (Ping timeout: 121 seconds)
[21:15:20] <navatwo> err
[21:15:26] <panitaliemom> But this isn't always true since the vec may contain a few different strings.
[21:15:37] <panitaliemom> Aha! That is exactly what I'm trying and failing at.
[21:16:04] <imjacobc_> Rust application on OSX cannot spawn more than 2048 threads
[21:16:08] <panitaliemom> I want to say `my_slice = bytes[0..header_len]` or something like that.
[21:16:09] <imjacobc_> kern.num_taskthreads: 2048
[21:16:14] <imjacobc_> How can I get past this hard limit?
[21:16:19] <navatwo> yeah, panitaliemom you can
[21:16:25] <cmr> imjacobc_: you can change that variable.
[21:16:36] <imjacobc_> Even on OSX?
[21:16:40] <imjacobc_> I wont how I go about that on OSX
[21:16:58] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[21:17:04] <imjacobc_> wonder how I go about, fail*
[21:17:08] *** Quits: gopar (gopar@moz-jd6o28.m2vj.kpnp.0009.2601.IP) (Quit: Leaving)
[21:17:18] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:17:44] <cmr> imjacobc_: I think you can just do  sysctl kern.num_taskthreads=4096 or somesuch.
[21:17:52] <panitaliemom> I feel like I should be able to do that but gives an error:
[21:17:53] <cmr> Maybe it really is hard though.
[21:17:55] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[21:18:00] <panitaliemom> the trait `core::ops::Index<core::ops::Range<u8>>` is not implemented for the type `collections::vec::Vec<u8>` 
[21:18:06] <imjacobc_> sysctl: oid 'kern.num_taskthreads' is read only
[21:18:08] <imjacobc_> lol
[21:18:12] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Ping timeout: 121 seconds)
[21:18:15] <panitaliemom> Damn those emoticons... Did that show up ok for you?
[21:18:15] *** Quits: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de) (Quit: Bye)
[21:18:35] <bluss> panitaliemom: no smilies here. Indexes need to be type usize
[21:18:54] *** Quits: crisco_ (crisco@moz-a8r.0c9.164.61.IP) (Ping timeout: 121 seconds)
[21:18:54] <bluss> Range<u8> is the type of a..b  if a, b are u8
[21:19:01] <cmr> panitaliemom: String::from_utf8(Vec::from(&bytes[1..bytes[0]])
[21:19:01] <bluss> they need to be type usize.
[21:19:16] *** Quits: tamird (textual@moz-ga3.afc.209.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:19:27] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:19:58] *** Joins: crisco (crisco@moz-a8r.0c9.164.61.IP)
[21:20:04] *** Quits: amnn (amnn@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:20:11] *** Quits: navatwo (navatwo@moz-6j66ga.bloomberg.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[21:20:30] <cmr> ah yeah
[21:20:33] *** Joins: ogeon (ogeon@moz-s2g.b4c.10.176.IP)
[21:20:45] *** Quits: mbudde (mbudde@moz-vmd8oc.customer.tdc.net) (Ping timeout: 121 seconds)
[21:20:53] *** Quits: lenstr (lenstr@moz-qp8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[21:21:23] *** Quits: bgamari (bgamari@moz-m173ho.hsi8.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[21:21:37] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[21:22:37] *** bentley is now known as bentley|away
[21:22:46] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[21:23:08] *** Quits: irobevjodu (ident@moz-5bq.k90.254.5.IP) (Ping timeout: 121 seconds)
[21:23:13] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[21:23:35] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[21:24:04] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:24:17] *** Quits: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt) (Ping timeout: 121 seconds)
[21:24:21] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[21:24:51] <panitaliemom> I'm going to play with this for a moment... Lemme see if I can make sense of that.
[21:25:45] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[21:25:59] *** Joins: amnn (amnn@moz-ro1qqu.ox.ac.uk)
[21:26:42] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[21:27:00] *** Joins: Guest67 (textual@moz-gfs9v0.fios.verizon.net)
[21:27:29] <mike_in_black> Is there a version of fn from_utf8_lossy<'a>(v: &'a [u8]) -> Cow<'a, str> that fails instead of replacing chars?
[21:27:38] *** Quits: jviereck (Adium@moz-9vg37n.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:27:50] *** Quits: amnn (amnn@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:28:40] <tilpner> mike_in_black - str::from_utf8 will return a Result.
[21:28:44] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[21:28:48] *** Parts: durka42 (Adium@moz-qsuual.pa.comcast.net) ()
[21:29:23] <mike_in_black> tilpner: but it requires a Vec<>
[21:29:40] <mike_in_black> tilpner: what I'm doing right now is checking if the result is owned or not
[21:29:48] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:29:48] <mike_in_black> but it possibly wastes an allocation though
[21:29:50] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:30:28] <mbrubeck> mike_in_black: String::from_utf8 takes a vec, but str::from_utf8 takes a slice.
[21:30:28] <tilpner> mike_in_black - I don't think it requires a Vec.
[21:30:31] <tilpner> http://doc.rust-lang.org/nightly/std/str/fn.from_utf8.html
[21:30:37] <tilpner> "pub fn from_utf8(v: &[u8]) -> Result<&str, Utf8Error>"
[21:30:41] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[21:32:34] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[21:33:07] <mike_in_black> tilpner: cool I missed this func
[21:33:23] <mike_in_black> was looking at the String docs
[21:33:24] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:34:24] *** Joins: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt)
[21:34:30] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:35:04] *** Quits: zcourts (zcourts@moz-dcf.615.105.122.IP) (Client exited)
[21:35:15] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[21:35:22] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[21:36:06] *** Joins: eholk (eholk@moz-jtq0te.crest.iu.edu)
[21:36:28] *** Joins: noid (username@moz-43o6go.dyn.nltelcom.net)
[21:36:38] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[21:36:39] *** Quits: mkoskar (mkoskar@moz-kvs6fc.torservers.net) (Client exited)
[21:37:17] *** Quits: Ms2ger (Ms2ger@moz-m6e.01d.182.91.IP) (Ping timeout: 121 seconds)
[21:37:43] *** Quits: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net) (Ping timeout: 121 seconds)
[21:38:04] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:38:45] *** Quits: jjthrash (jjthrash@moz-la0q45.res.rr.com) (Quit: Leaving...)
[21:39:17] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:39:24] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[21:39:51] *** Joins: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net)
[21:39:58] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:40:16] *** Joins: amnn (amnn@moz-ro1qqu.ox.ac.uk)
[21:40:32] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[21:40:42] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[21:40:45] <mike_in_black> I have a Wrapper(Inner) tuple struct, is there a way to defer to the inner without having to implement everything?
[21:41:37] *** Quits: akiss (akiss@moz-uli0pr.pool.digikabel.hu) (Ping timeout: 121 seconds)
[21:41:50] <tilpner> You can implement Deref.
[21:42:29] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[21:42:47] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[21:43:17] <mike_in_black> tilpner: does derive() work in this case?
[21:43:17] *** Quits: paupau (grrrr@moz-rc7fph.static.monkeybrains.net) (Connection closed)
[21:43:24] <tilpner> I don't think so.
[21:43:30] *** Joins: paupau (grrrr@moz-rc7fph.static.monkeybrains.net)
[21:43:41] <mbrubeck> mike_in_black: You can't derive Deref, but you could derive all the derivable traits.
[21:43:44] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:43:52] *** Joins: tytouf (caugier@moz-84u6a1.rev.sfr.net)
[21:43:55] <mbrubeck> like PartialEq, PartialOrd, Copy, Clone, etc.
[21:44:39] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[21:44:44] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:44:51] *** Joins: jakevn (jakevn@moz-0agbgk.miamfl.sbcglobal.net)
[21:45:04] *** Quits: robojeb (jeb@moz-lap.g5k.173.134.IP) (Connection closed)
[21:45:38] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:45:55] *** Joins: maraoz (maraoz@moz-kdk.130.95.181.IP)
[21:46:03] *** Quits: geri (Mibbit@moz-o67l17.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[21:46:10] *** Quits: eibwen (eibwen@moz-0okbs7.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:47:29] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[21:47:44] *** Quits: crisco (crisco@moz-a8r.0c9.164.61.IP) (Ping timeout: 121 seconds)
[21:47:50] *** Quits: paupau (grrrr@moz-rc7fph.static.monkeybrains.net) (Ping timeout: 121 seconds)
[21:47:52] *** Quits: crash_ep (textual@moz-lmfinb.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:48:53] *** Joins: orangeshark (erik@moz-h88kd4.44tj.56ot.0306.2602.IP)
[21:49:25] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[21:49:34] *** Joins: PTStomp (paul@moz-rn5jn1.exetel.com.au)
[21:49:46] *** Quits: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com) (Client exited)
[21:50:17] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[21:51:24] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:52:31] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[21:52:37] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[21:52:59] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:53:10] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[21:53:30] *** Quits: jincreator (Thunderbird@moz-d7i.i1g.195.175.IP) (Ping timeout: 121 seconds)
[21:53:42] <mbrubeck> I guess I should have made more noise about https://github.com/rust-lang/rust/issues/25310 before 1.0 was released. :/
[21:54:06] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[21:54:19] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:54:31] <bluss> mbrubeck: it's a regression from 1.0 though?
[21:54:40] <bluss> mbrubeck: i.e. it works on 1.0 but not later versions
[21:54:52] <bluss> so it's not too late
[21:55:02] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:55:03] <mbrubeck> bluss: Well, it's not too late to undo the regression
[21:55:15] <mbrubeck> bluss: But it's too late for the alternate solution (backport the breaking change to 1.0)
[21:55:21] <bluss> oh right
[21:55:32] *** Quits: ajtulloch (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP) (A TLS packet with unexpected length was received.)
[21:55:38] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[21:55:44] *** Quits: vortex (vortex@moz-skqfhn.novotelecom.ru) (Ping timeout: 121 seconds)
[21:55:47] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Connection closed)
[21:55:54] *** Joins: ajtulloch (ajtulloch@moz-4m46ks.1fqg.kp93.010d.2620.IP)
[21:55:58] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[21:56:00] *** Joins: ukarlsson (ukarlsson@moz-jhs6q1.cust.bredbandsbolaget.se)
[21:56:07] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[21:56:23] *** Joins: jincreator (Thunderbird@moz-d7i.i1g.195.175.IP)
[21:56:29] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[21:57:12] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[21:57:15] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:58:23] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[21:58:26] *** Quits: Brochacho (alberto@moz-b2ovno.cable.rcn.com) (Client exited)
[21:58:58] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[21:58:59] *** kgrandon2 is now known as kgrandon
[21:59:28] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:59:35] <tyoverby_> Is there any way to forcibly kill threads?
[21:59:52] *** Joins: panicbit (panicbit@moz-vqobnf.dip0.t-ipconnect.de)
[21:59:53] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[22:00:10] *** Quits: tomprogrammer (thomas@moz-kdc20c.en23.rnsn.4ca0.2001.IP) (Ping timeout: 121 seconds)
[22:00:19] *** Joins: zzing (textual@moz-i54ne6.cpe.distributel.net)
[22:00:50] *** Quits: meh (meh@moz-e56g7l.42-151.net24.it) (Ping timeout: 121 seconds)
[22:01:14] *** Quits: saterus (saterus@moz-6vv.fih.194.209.IP) (Connection closed)
[22:02:00] <imjacobc_> Can anybody suggest improvements to the way I am making threads in this application. I am making threads so i can concurrently make HTTP requests at an endpoint in order to load test it, but I am hitting hard file limits and processes: https://github.com/imjacobclark/Herd/blob/master/src/main.rs
[22:02:05] *** Joins: meh (meh@moz-r52fil.42-151.net24.it)
[22:02:18] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Client exited)
[22:03:34] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[22:03:55] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:03:56] <mbrubeck> tyoverby_: I don't find any code in rustc that calls pthread_kill or pthread_cancel, so I suspect not.
[22:03:57] *** Quits: kimundi (kimundi@moz-bt8log.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:04:12] *** Joins: croyd (croyd@moz-s4v3f7.dyn.grandenetworks.net)
[22:04:52] *** Quits: kaustavdm (sid38152@moz-2v4ioj.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:05:06] <tyoverby_> mbrubeck: huh, that's a shame
[22:05:24] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[22:05:37] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[22:05:48] *** Parts: jedireza (jedireza@moz-u3dg2t.sfo1.mozilla.com) ("Textual IRC Client: www.textualapp.com")
[22:05:56] *** Quits: spider-mario (spidermario@moz-aih.ke7.164.37.IP) (Ping timeout: 121 seconds)
[22:05:58] *** Joins: tamird (textual@moz-lat.dkr.14.50.IP)
[22:06:10] *** Quits: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:06:11] *** Joins: desophos (desophos@moz-7v6arj.98ku.27p0.6000.2606.IP)
[22:06:17] *** Quits: grepory (sid29799@moz-rmtgqf.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:06:20] <mbrubeck> tyoverby_: I imagine it would be highly unsafe...
[22:06:38] *** Joins: spider-mario (spidermario@moz-ta0.ci0.165.37.IP)
[22:06:51] *** Quits: ukarlsson (ukarlsson@moz-jhs6q1.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[22:06:53] *** Quits: skade (skade@moz-eetliv.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:07:01] <tyoverby_> oh yeah, you're right.  I was thinking that it could trigger a panic in the other thread; but that doesn't seem possible
[22:07:24] *** Joins: yed_ (yed@moz-vhuvg2.as13285.net)
[22:07:35] *** Quits: kitcambridge (sid35806@moz-uohlqr.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:08:10] *** Quits: dani (chatzilla@moz-j8c7d1.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[22:09:00] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:09:04] *** Quits: boberetezeke-clo (sid44669@moz-bbpmf1.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:09:11] *** Quits: reem (sid78397@moz-octfcu.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:09:12] *** Quits: garndt (sid7486@moz-914hec.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:09:26] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:09:42] *** Quits: tadh (quassel@moz-pg51s5.CWRU.Edu) (Connection closed)
[22:09:43] *** Quits: neektza (sid57833@moz-06id80.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:10:26] *** Joins: zz_kimundi (kimundi@moz-6vnj1q.dip0.t-ipconnect.de)
[22:10:27] *** Quits: mike_in_black (Mibbit@moz-966.099.5.189.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:10:28] *** Quits: areski (areski@moz-77efj3.user.ono.com) (Ping timeout: 121 seconds)
[22:10:45] *** Quits: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:10:45] *** Quits: jryans (sid12941@moz-u4l2d8.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:10:49] *** zz_kimundi is now known as kimundi
[22:10:56] *** Joins: pietr0 (pietr0@moz-8h6.tnl.255.50.IP)
[22:10:58] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:11:08] <imjacobc_> How can I fork new processes in Rust? Is that possible?
[22:11:12] *** Quits: eddyb (eddyb@moz-c0q.mv7.25.188.IP) (Ping timeout: 121 seconds)
[22:12:12] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Connection closed)
[22:12:23] *** Joins: ukarlsson (ukarlsson@moz-d2p.ihp.121.192.IP)
[22:12:35] <cmr> imjacobc_: do you want to invoke programs or actually unix fork
[22:12:54] <imjacobc_> unix fork, cmr in OSX threads per process is a hard limit
[22:13:02] <cmr> Why do you want so many threads
[22:13:02] *** Joins: tomprogrammer (thomas@moz-ss28pc.tr5r.qept.4dd0.2001.IP)
[22:13:09] *** Joins: Guest_ (textual@moz-lmfinb.fios.verizon.net)
[22:13:15] <friendo> anyone here have experience with Glium?
[22:13:21] <cmr> friendo: yes, but ask in #rust-gamedev.
[22:13:23] <rovar> imjacobc_, might have a look at http://rustdoc.s3-website-us-east-1.amazonaws.com/nix/master/osx/nix/
[22:13:24] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[22:13:34] *** Quits: drbawb (drbawb@moz-8l0lkq.9vd0.jkgc.8800.2604.IP) (Connection closed)
[22:13:46] <friendo> cmr thanks i'll try there
[22:13:52] <imjacobc_> ravar thanks
[22:13:59] *** Quits: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:14:03] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:14:12] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:14:45] *** Joins: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net)
[22:14:48] <arielb1> what's the idiomatic way to concat 2 vectors?
[22:14:54] <arielb1> v1.append(&mut v2)
[22:14:54] *** Quits: santiago (santiago@moz-ro2mm9.res.rr.com) (Quit: Computer has gone to sleep.)
[22:14:59] *** Joins: my-nickname (Mibbit@moz-ti5.kgs.90.95.IP)
[22:15:02] <arielb1> or v1.extend(v2.into_iter())
[22:15:16] <my-nickname> http://is.gd/f7ivm9
[22:15:19] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[22:15:27] <mbrubeck> arielb1: Vec::append is the most efficient if you have two Vecs
[22:15:32] <mbrubeck> arielb1: But it's not stabilized yet.
[22:15:42] <mbrubeck> If you're using nightly, I recommend append.
[22:15:45] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:15:46] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[22:15:53] <my-nickname> Hi, can someone explain to me why do I need to put values inside RwLock in Mutex to be able to move them into closure?
[22:16:09] <rschulman> ebfull: You still around, had a question on the solution you posted me earlier on two-way channels.
[22:16:12] *** Quits: zzing (textual@moz-i54ne6.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:16:21] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[22:16:28] <rovar> my-nickname, you don't 
[22:16:37] <rovar> my-nickname, in what context are you creating the closure?
[22:16:39] <my-nickname> See my example http://is.gd/f7ivm9
[22:16:54] <rovar> ah, you're moving them into a thread
[22:16:55] *** Quits: PTStomp (paul@moz-rn5jn1.exetel.com.au) (Ping timeout: 121 seconds)
[22:16:59] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[22:16:59] *** Quits: tomprogrammer (thomas@moz-ss28pc.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.2)
[22:17:01] <rovar> that's a horse of a different color :)
[22:17:26] <my-nickname> Why RwLock around HashMap isnt enough to ensure inter thread safety?
[22:17:28] *** Quits: mcarton (martin@moz-83sg4s.ugent.be) (Ping timeout: 121 seconds)
[22:17:34] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Ping timeout: 121 seconds)
[22:17:45] <my-nickname> the lock will be in possession of only one thread at one time anyway
[22:18:10] *** Quits: locks (sid130@moz-11300h.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:18:17] <seanmonstar> my-nickname: mpsc::Sender is not Sync. You must wrap it up in something Sync to share it with another thread
[22:18:19] *** Quits: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:18:20] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[22:18:21] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[22:18:39] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[22:18:41] *** Quits: panitaliemom (Mibbit@moz-latu7g.biz.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:18:58] <my-nickname> @seanmonstar, but why isn't it enough that RwLock is Sync?
[22:19:06] *** Quits: bobpoekert (sid52034@moz-6tkrsh.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:19:07] <rovar> wrapping it in a HashMap is not enough, it seems, since the HashMap might leak the reference to the Sender
[22:19:15] <rovar> RwLock is sync
[22:19:31] *** Quits: puzza007 (sid127@moz-h8hr0a.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:19:32] *** Quits: ghmlee (sid33671@moz-p3l5sb.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:19:49] <rovar> so it's not about the RWLock, it's about the fact that your commented line wraps Item in a Mutex
[22:19:52] <rovar> that's what fixes it
[22:20:09] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:20:13] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[22:20:25] <seanmonstar> my-nickname: if i change your "doesn't work" example to use Arc<Mutex<HashMap>>, it works. that's because you can get a Read in multiple threads, and Sender isn't safe doing so
[22:20:26] <my-nickname> But I still don't get why I need it. I understand that Sender is not Sync, but why doesn't it become sync inside the RwLock
[22:20:42] <rovar> my-nickname, HashMap becomes Sync inside the RwLock
[22:20:46] <rovar> Item doesn't
[22:20:52] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[22:20:59] <rovar> as I mentioned, even if HashMap is Sync, it can still leak references to Item
[22:21:09] *** Quits: imjacobc_ (imjacobclar@moz-5g68lp.range86-156.btcentralplus.com) (Connection closed)
[22:21:20] <seanmonstar> my-nickname: it's the RwLock. it allows multiple read() handles, but Sender cant do that safely. Mutex only allows 1 handle ever, so it is safe
[22:21:23] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[22:21:26] *** Joins: lenstr (lenstr@moz-qp8.vju.25.171.IP)
[22:21:32] *** Quits: xrl (uid1091@moz-f0543s.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:21:48] *** Quits: EspressoDan (EspressoDan@moz-j2i.853.211.140.IP) (Client exited)
[22:21:49] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:21:59] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:22:32] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[22:22:38] *** Quits: posco (sid14832@moz-o1bdvb.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:22:48] <my-nickname> seanmonstar, that's cool! I thought that I can use them more or less interchangeably, where the only difference is that RwLock is more performant for multiple reads use case
[22:22:50] <rovar> from the RWLock docs:   It is required that T satisfies Send to be shared across threads and Sync to allow concurrent access through readers.
[22:22:55] <my-nickname> but apparently it's not the case
[22:23:38] <seanmonstar> my-nickname: with the RwLock, you can take a .read() out in several threads. however, if you look at Sender docs, send() is usable with &self, and its not threadsafe. so, you could items.read().send(T) in multiple threads, and that'd be bad
[22:23:38] <bluss> my-nickname: I think it's more accurate to say Mutex is always more performant itself, but RwLock allows simultaneous readers, which can be an improvement
[22:24:08] <seanmonstar> RwLock has more overhead, and is only preferable when you really do need multiple threads reading at the same time
[22:24:19] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:24:21] *** Joins: carllerche (carllerche@moz-foj7sq.or.comcast.net)
[22:24:52] *** Quits: Sho (sho@moz-pr1n4c.cust.telecolumbus.net) (Quit: Konversation terminated!)
[22:25:02] *** Joins: fkaa_ (tundmatu@moz-vor6or.cust.tele2.se)
[22:25:03] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:25:30] *** Quits: lenstr (lenstr@moz-qp8.vju.25.171.IP) (Ping timeout: 121 seconds)
[22:25:46] *** Quits: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[22:26:00] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[22:26:05] <my-nickname> Ok, now I get it. Thx a lot guys
[22:26:23] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[22:26:44] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:26:46] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[22:26:49] *** Joins: krdln (krdln@moz-ohe9vg.dynamic.chello.pl)
[22:26:52] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:27:31] *** Quits: Guest (textual@moz-o0j.d41.27.64.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:27:35] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[22:27:53] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[22:28:07] *** Quits: bren2010 (bren2010@moz-356.o3d.198.71.IP) (Quit: )
[22:28:38] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:28:47] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[22:29:14] *** Joins: errordeveloper (ilya@moz-ono.0eu.201.90.IP)
[22:30:23] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:30:25] *** Quits: amnn (amnn@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:30:53] *** Joins: SilverKey (SilverKey@moz-b7q751.biz.rr.com)
[22:31:12] *** Quits: SilverKey (SilverKey@moz-b7q751.biz.rr.com) (Quit: Cheerio!)
[22:31:32] *** Quits: kaeluka (kaeluka@moz-6cbr2p.cust.bredbandsbolaget.se) (Client exited)
[22:31:32] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Quit: leaving)
[22:32:09] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:33:02] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[22:33:22] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[22:33:31] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Connection closed)
[22:33:34] *** Quits: my-nickname (Mibbit@moz-ti5.kgs.90.95.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:33:41] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[22:33:53] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[22:33:53] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[22:34:23] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:34:40] *** Quits: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[22:34:55] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:36:39] *** Quits: ukarlsson (ukarlsson@moz-d2p.ihp.121.192.IP) (Ping timeout: 121 seconds)
[22:36:58] <klutzy> what's the best way to pack variables with different lifetimes (like `struct Main; struct AuxOfMain<'a>;`) in one struct?
[22:37:07] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[22:37:32] <krdln> Hi, could somebody review my use on unsafe here? http://is.gd/2E9bWI I know that I'm temporarily aliasing &mut and &, but It should be ok from my understanding of llvm's noalias
[22:37:34] <maximih> cmr: my issues with slow docopt are fixed now. it seems it was a regex issue that burntsushi fixed some minutes ago :) https://github.com/rust-lang/regex/commit/f9fc8614d2c517187ae37d68803bbd503e74466e
[22:37:43] *** Joins: kaustavdm (sid38152@moz-2v4ioj.brockwell.irccloud.com)
[22:38:00] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[22:38:24] <Dabo> klutzy, if I understand you correctly you just want <'a, 'b, ...> to name any number of lifetimes in a struct
[22:38:30] <burntsushi> maximih: yes! thank you. i saw your complaints earlier today and investigated. :-)
[22:38:34] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[22:38:35] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[22:38:36] *** Joins: drbawb (drbawb@moz-8l0lkq.9vd0.jkgc.8800.2604.IP)
[22:38:40] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Quit: Leaving)
[22:38:40] *** Joins: grepory (sid29799@moz-rmtgqf.brockwell.irccloud.com)
[22:39:12] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[22:39:20] *** Joins: Raynos (sid3611@moz-q8j2h1.brockwell.irccloud.com)
[22:39:37] <maximih> burntsushi: wow! you are everywhere! thank you :)
[22:39:44] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[22:39:54] <burntsushi> maximih: np!
[22:40:15] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[22:40:17] *** Joins: arBmind1 (Andreas@moz-90su4v.adsl.alicedsl.de)
[22:40:18] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:40:23] <burntsushi> maximih: interestingly, the slow down was in regex *compilation*, not in searching.
[22:40:29] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[22:40:33] *** Quits: tyoverby_ (tyoverby@moz-254fcd.cs.washington.edu) (Connection closed)
[22:40:35] <klutzy> Dabo: I'm considering of this scenario:  https://play.rust-lang.org/?gist=31ec4cb0ac35a2c53dd6&version=stable
[22:40:55] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[22:40:59] <maximih> burntsushi: how come I could only see it on linux? it worked fine on mac
[22:41:01] <klutzy> this is basically impossible because `a` has shorter lifetime than `m`
[22:41:02] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:41:20] *** Parts: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net) ("Ex-Chat")
[22:41:25] <burntsushi> maximih: now that... i do not know.
[22:41:25] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[22:41:34] *** Quits: arBmind (Andreas@moz-fn4c63.dyn.telefonica.de) (Ping timeout: 121 seconds)
[22:41:45] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:41:46] *** Joins: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp)
[22:41:47] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:41:53] *** Quits: blue_deref (blue_deref@moz-u9gmm1.res.rr.com) (Quit: Leaving)
[22:42:00] *** Joins: bret (sid12421@moz-r6c304.brockwell.irccloud.com)
[22:42:20] *** Joins: kitcambridge (sid35806@moz-uohlqr.brockwell.irccloud.com)
[22:42:28] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[22:42:28] *** Quits: coryforsyth (coryforsyth@moz-q577km.static.cosmoweb.net) (Client exited)
[22:42:44] <Dabo> klutzy, I think what you want might be impossible at the moment
[22:42:50] *** Quits: kgrandon (Adium@moz-cp2gso.ujol.1ibb.0101.2620.IP) (Quit: Leaving.)
[22:43:00] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[22:43:11] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[22:43:25] <burntsushi> maximih: maybe there are optimizations in place on one platform or not the other? although i'd find that baffling. are you sure you had the latest `regex` crate on mac?
[22:43:33] <klutzy> Dabo: yes, I guess so. all solutions I've seen are either to pack references or to move Main in global area
[22:43:43] *** Quits: eholk (eholk@moz-jtq0te.crest.iu.edu) (Client exited)
[22:43:51] <maximih> burntsushi: let me double check
[22:44:02] <Dabo> klutzy, actually, this works .-. http://is.gd/TZ2mol
[22:44:17] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[22:44:20] <Dabo> I think rust doesn't allow the original thing because when you put the variable from the current scope in to the struct, its address changes
[22:44:26] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[22:44:28] *** Quits: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt) (Ping timeout: 121 seconds)
[22:44:31] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:44:40] <Dabo> so the reference is automatically invalid, and you need a new reference 
[22:44:59] <klutzy> oh it sounds a right way
[22:45:00] *** Joins: gopar (gopar@moz-jd6o28.m2vj.kpnp.0009.2601.IP)
[22:45:00] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[22:45:01] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[22:45:03] *** Joins: kgrandon (Adium@moz-8b0snt.ujol.1ibb.0101.2620.IP)
[22:45:09] *** Joins: OxMLR (OxMLR@moz-19veku.res.rr.com)
[22:45:11] <klutzy> Dabo: thanks!
[22:45:21] <Dabo> klutzy, that does have a slight disadvantage though :/
[22:45:25] *** nsm is now known as nsm|away
[22:45:35] <Dabo> the variable `b` can't be moved or borrowed mutably at all after you do that, because it stores a reference to itself
[22:45:41] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:45:51] *** Parts: OxMLR (OxMLR@moz-19veku.res.rr.com) ("Leaving")
[22:45:57] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[22:46:19] <Dabo> since it's always borrowed immutably from that point onwards, rust won't let you borrow mutably or change ownership
[22:46:22] *** Joins: mhenretty (sid11899@moz-tvgi9o.brockwell.irccloud.com)
[22:46:37] <Dabo> it's fine to borrow it immutably though
[22:46:55] *** Joins: rakm (sid23430@moz-8hgs0h.brockwell.irccloud.com)
[22:47:17] <maximih> burntsushi: I have 0.1.30 on mac...sorry for the false clams, I could have sworn I run cargo update 
[22:47:17] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[22:47:23] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[22:47:25] <nathan7> playbot: struct Foo<'a>(&'a Foo);
[22:47:25] -playbot- <anon>:9:28: 9:31 error: wrong number of lifetime parameters: expected 1, found 0 [E0107]
[22:47:26] -playbot- <anon>:9         struct Foo<'a>(&'a Foo);
[22:47:26] -playbot- output truncated; full output at: http://bit.ly/1cwnG9d
[22:47:33] *** Joins: mkpankov` (user@moz-vgm.4ms.23.84.IP)
[22:47:36] <burntsushi> maximih: ah no worries. false claims are much better than reality not making sense. :-)
[22:47:37] <nathan7> playbot: struct Foo<'a>(&'a Foo<'a>);
[22:47:38] -playbot- <anon>:9:9: 9:37 error: this type cannot be instantiated without an instance of itself [E0073]
[22:47:38] -playbot- <anon>:9         struct Foo<'a>(&'a Foo<'a>);
[22:47:38] -playbot- output truncated; full output at: http://bit.ly/1KL9vfx
[22:47:54] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:48:12] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[22:48:16] <nathan7> playbot: struct Foo<'a>(Option<&'a Foo<'a>>);
[22:48:17] -playbot- ()
[22:48:18] *** Joins: santiago (santiago@moz-8th.j2e.167.12.IP)
[22:48:36] <Dabo> http://is.gd/67zS8D example for klutzy of that
[22:48:59] *** Joins: neektza (sid57833@moz-06id80.brockwell.irccloud.com)
[22:49:00] *** Joins: reem (sid78397@moz-octfcu.brockwell.irccloud.com)
[22:49:19] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Quit: Leaving.)
[22:49:37] *** Joins: flowerhack (sid6775@moz-vqo9hu.brockwell.irccloud.com)
[22:50:08] *** Joins: jryans (sid12941@moz-u4l2d8.brockwell.irccloud.com)
[22:50:11] *** Quits: pylbrecht (pylbrecht@moz-b4nhkg.dynamic.kabel-deutschland.de) (Connection closed)
[22:50:12] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[22:50:50] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[22:51:06] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:51:39] *** Joins: garndt (sid7486@moz-914hec.brockwell.irccloud.com)
[22:51:39] *** Parts: krdln (krdln@moz-ohe9vg.dynamic.chello.pl) ()
[22:51:55] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[22:52:39] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:52:53] *** Joins: njn (chatzilla@moz-c6c476.iinet.net.au)
[22:52:56] *** Joins: copycat (Thunderbird@moz-mm4e60.singnet.com.sg)
[22:53:01] *** Joins: kaeluka (kaeluka@moz-6cbr2p.cust.bredbandsbolaget.se)
[22:53:27] *** Joins: aldanor (ivansmirnov@moz-kc07mc.ptr.magnet.ie)
[22:53:37] *** Joins: boberetezeke-clo (sid44669@moz-bbpmf1.brockwell.irccloud.com)
[22:53:54] *** Quits: carllerche (carllerche@moz-foj7sq.or.comcast.net) (Client exited)
[22:53:59] *** Joins: ajtulloc_ (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP)
[22:54:54] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[22:55:00] *** Quits: copycat (Thunderbird@moz-mm4e60.singnet.com.sg) (Client exited)
[22:55:01] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:55:04] *** Quits: ajtulloc_ (ajtulloch@moz-v4lug4.r0v0.kp93.010d.2620.IP) (A TLS packet with unexpected length was received.)
[22:55:10] *** Joins: krdln (krdln@moz-ohe9vg.dynamic.chello.pl)
[22:55:38] *** Joins: chao-tic (chao@moz-258.4aj.101.218.IP)
[22:55:50] *** Quits: jdm (jdm@moz-ohpa2e.ckpj.s0pt.0450.2001.IP) (Quit: )
[22:55:57] *** Joins: ajtulloc_ (ajtulloch@moz-i7m.9o0.201.199.IP)
[22:56:07] *** Joins: mno2 (sid33176@moz-nd1l6h.brockwell.irccloud.com)
[22:56:10] *** Quits: kaeluka (kaeluka@moz-6cbr2p.cust.bredbandsbolaget.se) (Client exited)
[22:56:58] *** Quits: ajtulloch (ajtulloch@moz-4m46ks.1fqg.kp93.010d.2620.IP) (Ping timeout: 121 seconds)
[22:57:55] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[22:59:02] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:59:41] *** Quits: fredrik (fredrik@moz-2b08ue.priv.bahnhof.se) (Ping timeout: 121 seconds)
[22:59:56] *** nsm|away is now known as nsm
[23:00:19] *** Joins: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com)
[23:00:27] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[23:00:29] <krdln> Hi, could somebody review my use on unsafe here? http://is.gd/2E9bWI I know that I'm temporarily aliasing &mut and &, but It should be ok from my understanding of llvm's noalias
[23:00:30] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Quit: Leaving...)
[23:00:50] *** Joins: locks (sid130@moz-11300h.brockwell.irccloud.com)
[23:01:00] *** Joins: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt)
[23:01:24] *** Quits: meg34 (meg34@moz-fuq9dk.wh.tu-darmstadt.de) (Ping timeout: 121 seconds)
[23:01:38] <cmr> krdln: I believe that is currently safe.
[23:01:52] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[23:01:57] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[23:03:00] *** Joins: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP)
[23:03:01] *** Joins: ghmlee (sid33671@moz-p3l5sb.brockwell.irccloud.com)
[23:03:10] *** Joins: bobpoekert (sid52034@moz-6tkrsh.brockwell.irccloud.com)
[23:03:10] *** Joins: puzza007 (sid127@moz-h8hr0a.brockwell.irccloud.com)
[23:03:16] <krdln> cmr: Could you elaborate? And why "currently"? May it change? I just feel it's safe (I'm only aliasing references, but I'm not reading them in aliased manner), but I want to understand the topic more
[23:03:16] *** Joins: amstrad (chatzilla@moz-l701jl.xnet.co.nz)
[23:03:43] <rillian> I wrote code which wouldn't compile without a lifetime specifier. Do I win something?
[23:03:43] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[23:03:46] <bluss> krdln: the only thing you do is changing the lifetime of str, I don't see any particular aliasing I think
[23:04:02] <bluss> krdln: of course mutating self.buf is now dangerous to do
[23:04:16] *** Quits: ajtulloc_ (ajtulloch@moz-i7m.9o0.201.199.IP) (A TLS packet with unexpected length was received.)
[23:04:29] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:04:35] <mbrubeck> krdln: The aliasing doesn't ring any alarms, but hopefully you will make sure that `buf` and `str` aren't mutated separately or allowed to escape your internal code...
[23:04:46] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[23:04:54] <cmr> rillian: no, that's quite easy to do :)
[23:04:58] *** Joins: posco (sid14832@moz-o1bdvb.brockwell.irccloud.com)
[23:05:03] *** Quits: p32blo (p32blo@moz-v36o87.cpe.netcabo.pt) (Ping timeout: 121 seconds)
[23:05:11] <krdln> bluss: But isn't is considered aliasing of Strings buffer owned mutably by String and the immutable reference to it?
[23:05:12] *** Joins: wohiler (wohiler@moz-8id.6e1.62.133.IP)
[23:05:12] <rillian> cmr: I'm crushed :)
[23:05:13] *** Quits: reem (sid78397@moz-octfcu.brockwell.irccloud.com) (Quit: )
[23:05:27] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[23:05:34] <cmr> krdln: there's no aliasing right now because you never write to the buffer.
[23:05:37] <Dabo> krdln, that will probably break if you move the struct there 
[23:05:41] *** Joins: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net)
[23:05:43] <Dabo> I would think
[23:05:43] <bluss> krdln: yes I agree
[23:05:49] <bluss> krdln: you don't need transmute. https://play.rust-lang.org/?gist=d822b312cdc1ceac1834&version=stable
[23:05:52] <cmr> krdln: aliasing is about memory dependence, not pointer values.
[23:06:00] <cmr> Dabo: no, it has a pointer to the String's underlying 
[23:06:01] <mbrubeck> Dabo: Moving the struct is fine, because the String buffer is on the heap and doesn't move
[23:06:04] <cmr> malloc'd buffer
[23:06:05] <mbrubeck> (as long as you don't mutate it)
[23:06:11] <Dabo> ahhhh, ok
[23:06:24] *** Quits: alaska (alaska@moz-g1d0bn.vrt.sourcefire.com) (Ping timeout: 121 seconds)
[23:06:38] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[23:06:46] <bluss> krdln: (the *const _ is *const str in this case)
[23:07:02] <krdln> bluss: Thank for the hint of avoiding transmute
[23:07:02] *** Quits: sdogruyol (sdogruyol@moz-mdm.mqr.142.195.IP) (Ping timeout: 121 seconds)
[23:07:10] <meh> jjjjjj
[23:07:13] <meh> ops
[23:07:45] <krdln> cmr: So if I have two &muts into same location, but only use one of it, it will never cause UB, right?
[23:08:08] *** Joins: zyphrus (David@moz-09b.s0u.195.130.IP)
[23:08:09] *** Quits: jryans (sid12941@moz-u4l2d8.brockwell.irccloud.com) (Quit: )
[23:08:12] *** Joins: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com)
[23:08:12] *** ChanServ sets mode: +o wycats
[23:08:41] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[23:08:45] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[23:08:50] *** Joins: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com)
[23:09:08] *** Quits: mhenretty (sid11899@moz-tvgi9o.brockwell.irccloud.com) (Quit: )
[23:09:09] *** Quits: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com) (Quit: )
[23:09:17] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:09:24] *** Quits: Gabriel_7 (Gabriel@moz-de3ee2.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[23:09:33] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[23:09:34] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:10:08] *** Quits: kgrandon (Adium@moz-8b0snt.ujol.1ibb.0101.2620.IP) (Quit: Leaving.)
[23:10:46] *** Joins: ajtulloch (ajtulloch@moz-ao5.9o0.201.199.IP)
[23:10:54] <Gankro> hardest to parse rust expression: | w1, w2 | w1 | w2
[23:11:05] <tytouf> Hi, I'm stuck with some shared mutability issue in http://is.gd/hRcIwK , would anyone be kind enough to take a look and give me hints on how to solve it?
[23:11:27] *** Joins: wrl (wrl@moz-fkha3r.ix.illest.net)
[23:11:35] <mbrubeck> This is why we can't have nice things^W^W "or" patterns in arbitrary pattern locations
[23:12:34] *** Quits: iliekturtles (mike@moz-c7hb0v.me.comcast.net) (A TLS packet with unexpected length was received.)
[23:12:43] *** Joins: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com)
[23:12:45] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[23:12:48] <krdln> bluss, mbrubeck, cmr, Dabo: Thank you all for clarifying this to me! Good to hear that my understanding was right
[23:12:54] *** Joins: xrl (uid1091@moz-f0543s.brockwell.irccloud.com)
[23:12:56] *** Joins: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com)
[23:13:08] *** Quits: cakecatz (cakecatz@moz-rakufn.sannet.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:13:40] *** Joins: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com)
[23:13:40] *** ChanServ sets mode: +o aturon
[23:14:20] <mbrubeck> tytouf: You could do `s: Rc<RefCell<Server>>,` or `clients: RefCell<Vec<Box<ClientTrait>>>`
[23:14:33] <Dabo> I think that would still be safe if view took &self instead of &mut self as well krdln, because &mut self still disallows all other &self borrows
[23:14:36] *** Quits: datanoise (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[23:15:18] *** Joins: reem (sid78397@moz-octfcu.brockwell.irccloud.com)
[23:15:22] <amstrad> hey guys, when using a & in Rust, should i view this as a reference or a temp borrow or both?
[23:15:24] <cmr> krdln: no, that's not necessarily true.
[23:15:30] *** Quits: loyd (loyd@moz-jsb.32f.108.213.IP) (Ping timeout: 121 seconds)
[23:15:31] <cmr> krdln: No, it is true.
[23:15:33] <cmr> Sorry, misread.
[23:15:54] <Havvy> amstrad:  Both.
[23:15:59] <amstrad> Havvy: right
[23:16:02] *** Quits: Nextra (Nextra@moz-4htg7f.ewe-ip-backbone.de) (Quit: Leaving)
[23:16:03] <mbrubeck> tytouf: Like http://is.gd/3EeTAO
[23:16:13] <amstrad> Havvy: took me a while to work that out
[23:16:14] <Havvy> It's an immutable borrow of the value.
[23:16:14] <krdln> Dabo: Right, thaks. I was minifying other example and left the mut there.
[23:16:46] <amstrad> Havvy: does it have to be immutable?
[23:16:56] <mbrubeck> amstrad: &T is variously called "borrowed reference to T" or "borrowed pointer to T".
[23:17:01] *** Quits: alk (alk@moz-ca9n1r.3a32.t5om.0e34.2a01.IP) (Ping timeout: 121 seconds)
[23:17:05] <krdln> cmr: So... now I'm confused, you're saying it's safe or may cause UB?
[23:17:05] <mbrubeck> amstrad: `&mut T` is a mutable borrowed reference
[23:17:09] *** Quits: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP) (Connection closed)
[23:17:10] <Havvy> amstrad:  Well, `&mut T` is a mutable borrow.
[23:17:28] <amstrad> gotcha
[23:17:36] <cmr> krdln: it's safe.
[23:17:40] <tytouf> mbrubeck: ho so that the cases where you use refcell
[23:17:41] <amstrad> the other thing is.... self vs &self
[23:17:50] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[23:17:54] <tytouf> mbrubeck: thanks a bunch! I'll try to understand that
[23:17:58] <cmr> krdln: what wouldn't be safe is if you accessed both in any way at all.
[23:17:58] <amstrad> does the Rust compiler inline with self or jus treat it as static?
[23:18:14] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[23:18:15] <amstrad> not sure of the distinction of &self vs self
[23:18:20] <Dabo> amstrad, `self` moves the value into the function so it can't ever used again, `&self` is just an immutable reference.
[23:18:40] <amstrad> Dabo: in what instance would 'self' make sense?
[23:18:49] <Dabo> When you have some owned value in the struct which you want to put into some other struct
[23:18:50] <krdln> cmr: Right, thanks. But overwriting a reference (an address) is not considered an access, right?
[23:18:50] <Havvy> Think of `self` as consuming the value, `&self` as gathering data on the value, and `&mut self` as modifying the value.
[23:19:04] <Dabo> Like if you are turning a builder into some kind of object am
[23:19:08] <Dabo> Like if you are turning a builder into some kind of object amstrad*
[23:19:19] <amstrad> Dabo: not sure i follow
[23:19:34] <amstrad> Dabo: like a map?
[23:19:39] *** Joins: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP)
[23:19:46] <cmr> krdln: No, it is not.
[23:19:51] *** Quits: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[23:19:53] <cmr> krdln: Only loads/stores using the pointer value.
[23:20:00] <Dabo> amstrad, if you have a builder struct which owns values, and you want to turn that struct into a completely different struct, but keep owning the values and not do any copying, you can take `self` and completely move the values out of self into something else
[23:20:13] *** Joins: durka42 (Adium@moz-qsuual.pa.comcast.net)
[23:20:22] <durka42> what's the new way to cast an enum to/from an int?
[23:20:23] <Gankro> amstrad: Yes Option::map takes the Option's self by-value
[23:20:28] <durka42> not #[derive(ToPrimitive)] apparently
[23:20:38] *** Joins: aatch (james@moz-5r41gb.6pd7.20lj.e000.2406.IP)
[23:20:40] <amstrad> Dabo: k, cool, not sure where i would use that, but what you describe sounds very much like a map 
[23:20:43] <Gankro> amstrad: into_iter is another good one
[23:20:45] *** Quits: Guest_ (textual@moz-lmfinb.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:20:54] <Dabo> amstrad, yeah, kind of like that
[23:21:00] <mbrubeck> durka42: Casting to int can be done with `as`
[23:21:09] <krdln> cmr: Ok, thanks for your patience! One more question: is it explained somewhere in Rust docs, or is it just common compiler/llvm related knowledge?
[23:21:16] <durka42> oh okay
[23:21:18] <durka42> no traits needed
[23:21:24] <mbrubeck> durka42: For converting from int, there's a crate with a plugin somewhere...
[23:21:38] <mbrubeck> !crate enum_primitive
[23:21:39] <rustbot> enum_primitive (0.0.2) - Macro to generate num::FromPrimitive instances for enum that works in Rust 1.0 -> https://crates.io/crates/enum_primitive
[23:21:40] <amstrad> Gankro: Dabo guys do you know of any really good intellisense / autocomplete available for any Rust editors?
[23:21:59] <Dabo> amstrad, the `racer` project is pretty much the best right now
[23:22:05] <Gankro> yeah
[23:22:07] <Dabo> well, only actually functioning one
[23:22:08] <durka42> +1 mbrubeck
[23:22:12] *** Joins: rmdashrf (rmdashrf@moz-ecr.kjm.54.128.IP)
[23:22:14] <Gankro> But it's not great last I used it
[23:22:23] <Dabo> amstrad, racer has plugins for vim and sublime which are pretty njice
[23:22:25] <Dabo> nice*
[23:22:32] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[23:22:35] <amstrad> Dabo: im thinking about moving to VIM
[23:22:37] <qard> Anyone have any good examples of using non-system shared libraries with rust?
[23:22:39] <cmr> krdln: it is not explained.
[23:22:41] <amstrad> i have been using the Atom editor
[23:22:44] <cmr> krdln: nobody even knows the rules yet.
[23:23:00] *** Joins: jryans (sid12941@moz-u4l2d8.brockwell.irccloud.com)
[23:23:10] <Dabo> amstrad, with a racer plugin or without?
[23:23:11] <qard> Trying to make the linking process for https://github.com/qard/v8.rs suck less.
[23:23:12] <amstrad> i believe the author of the Atom plugin wrote his own parser
[23:23:21] <Dabo> there's https://github.com/edubkendo/atom-racer
[23:23:24] *** Joins: thor1 (thor@moz-n7n1a4.res.rr.com)
[23:23:42] <krdln> cmr: Hah, so I should commit my code somewhere, so when any rules come, they won't be allowed to break my assumptions ;)
[23:23:51] <Dabo> I personally use racer with sublime text
[23:24:04] <amstrad> Dabo: ive never really like sublime
[23:24:11] <Dabo> ah, ok
[23:24:24] *** Quits: tytouf (caugier@moz-84u6a1.rev.sfr.net) (Ping timeout: 121 seconds)
[23:24:24] <amstrad> just personal taste i guess, nothing against it or anything
[23:24:27] <Dabo> yeah
[23:24:35] <amstrad> not really keen on Aton either i might add :D
[23:24:42] <Dabo> :P
[23:24:47] <amstrad> i should just move to VIM
[23:25:13] <qard> I like atom because it's easy to write plugins for it, since I'm quite familiar with javascript and node. :)
[23:25:22] <aatch> krdln, roughly, the definition of "aliasing" (which is what the restrictions on &mut are) is about whether or not writes through one pointer are visible to reads through another.
[23:25:24] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[23:26:29] <amstrad> qard: i really need to try Rust + node FFI stuff
[23:26:41] <amstrad> that and C# interopin
[23:26:49] <qard> http://oppenlander.me/articles/rust-ffi
[23:26:50] <aatch> krdln, using the idea that doing something like reading from an offset requires creating a new pointer first (even if the machine code uses something like base+offset)
[23:26:57] <qard> It works nicely. :)
[23:27:04] *** Quits: tamird (textual@moz-lat.dkr.14.50.IP) (Connection closed)
[23:27:06] *** Quits: {AS} (uid45026@moz-gt5061.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[23:27:25] <amstrad> qard: you should be able to infer / introspect language bindings for things like C#
[23:27:36] <amstrad> not sure how, 
[23:27:49] <durka42> blah, you cant do #[macro_use] in a crate?
[23:28:03] <durka42> sorry, I mean in a mod?
[23:28:21] <krdln> aatch: That's the definition I was assuming (and using for C programming before), but it's just I've read somewhere that you should never have "&mut" and "&" pointing to the same data and got confused.
[23:29:30] <durka42> argh
[23:29:32] <durka42> I'll just transmute
[23:29:40] <Dabo> durka42, no, all #[macro_use] extern crates have to be in the crate root afaik
[23:29:52] <durka42> that's what the compiler told me
[23:29:55] <durka42> that seems very strange though
[23:30:01] <durka42> what if it's just one mod that wants the macro?
[23:30:10] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[23:30:22] <aatch> krdln, well it's generally a bad sign and you're walking a dangerous line at that point. Personally I'd just use raw pointers.
[23:30:25] <Dabo> doesn't hurt to have it everywhere, and I think it's generally bad practice to declare extern crates in mods
[23:30:36] *** Joins: mssbrg (mark@moz-0aum2d.compute.amazonaws.com)
[23:30:44] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[23:31:19] <durka42> I guess so
[23:31:22] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:31:25] <durka42> this mod is doing a bunch of FFI nonsense
[23:31:31] <durka42> so I was hoping to keep it all boxed up
[23:31:36] <durka42> maybe I should make a crate instead of a mod?
[23:31:38] <aatch> durka42, I think it's because of the way macros work in the compiler.
[23:31:47] <Havvy> krdln:  In Safe Rust, it's actually impossible to have an &mut and & reference pointing to the same data.
[23:31:52] <durka42> aatch: that's not at all a good enough "because" :p
[23:32:07] *** Joins: SpaceManiac (Tad@moz-bd3s4o.dyn.suddenlink.net)
[23:32:18] <brson> this is the origin of laundry eating https://github.com/rust-lang/rust-wiki-backup/commit/25421ebae90ef3458a91baddda2179d7a1745e51
[23:32:22] <Dabo> durka42, a separate crate might be a good idea, yeah
[23:32:30] <krdln> aatch: I would, but I'm actually using String + SplitWhitespace<'static>, not just String + &str, so that's why I can't just use raw pointers without rewriting code.
[23:32:40] *** Joins: Wild_Cat (Max@moz-1idsr5.dsl.teksavvy.com)
[23:32:56] <krdln> Havvy: It's possible, but Rust won't allow you to access that &mut whie & is in scope :)
[23:33:16] <Dabo> I think the convention is to have ffi in a -sys crate durka42 
[23:33:25] <durka42> gotcha
[23:33:30] <Dabo> like ffi in mycrate-sys, and api in mycrate which uses mycrate-sys
[23:33:48] <RCIX> k, my adventures in getting rust debug working begin
[23:34:09] <RCIX> i checked my rust install dir and no rust-gdb nor rust-lldb scripts exist anywhere
[23:34:20] <RCIX> nor do, as far as i can tell, actual gdb or llvm installs
[23:34:23] <RCIX> what am i missing :P
[23:34:46] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:34:54] <Dabo> RCIX, rust-gdb should come with any rust installed via rustup.sh
[23:34:57] <durka42> I have both of those scripts
[23:34:59] *** Joins: mohawk (Mibbit@moz-mol.4ra.239.216.IP)
[23:35:03] <RCIX> ah yes
[23:35:05] <RCIX> im on windows
[23:35:05] <durka42> but then I have multirust installed so all sorts of magic may abound
[23:35:08] <RCIX> so i used the installer
[23:35:09] <Dabo> ah
[23:35:11] <durka42> oh dear
[23:35:13] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[23:35:18] *** Quits: mohawk (Mibbit@moz-mol.4ra.239.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:35:19] <RCIX> am i rip?
[23:35:22] <Dabo> maybe
[23:35:26] <RCIX> ;;
[23:35:26] <Dabo> RCIX, rust won'
[23:35:30] *** Joins: meunierd (dmeunier@moz-glf54u.cpe.sourcecable.net)
[23:35:32] <Dabo> t install gdb or llvm though
[23:35:39] <Dabo> you probably need to install those on your own
[23:35:53] <XMPPwocky> awww
[23:35:59] <XMPPwocky> you can't make an infinite loop of Deref
[23:36:00] <RCIX> k, and is it even worth downloading the scripts
[23:36:08] <RCIX> or are they for linux
[23:36:26] <Dabo> RCIX, rust-gdb seems to be a shell script anyways
[23:36:56] <Dabo> well, all it does is call a python script so if you have python installed you could probably do that manually
[23:37:09] *** Joins: kgrandon (Adium@moz-m07.96d.170.166.IP)
[23:37:29] *** Joins: Jesin (Jesin@moz-6elflj.eecs.lehigh.edu)
[23:37:34] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[23:38:08] <Dabo> RCIX, if you can install python and gdb manually you could download the gdb_rust_pretty_printing.py script
[23:38:55] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[23:39:08] *** Quits: ajhager (aajhager@moz-mcdsgi.iplsin.sbcglobal.net) (Connection closed)
[23:39:14] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[23:39:20] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[23:40:07] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[23:40:14] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[23:40:21] <RCIX> here goes
[23:40:29] <RCIX> diving into the dark innards of trying to install mingw
[23:40:30] <RCIX> i think
[23:40:48] *** Quits: GGist (Mibbit@moz-6kgtem.seattleu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[23:41:19] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[23:42:06] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[23:42:43] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[23:42:54] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:43:10] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:43:29] *** Joins: mhenretty (sid11899@moz-tvgi9o.brockwell.irccloud.com)
[23:43:31] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[23:43:57] <RCIX> bwahhh only direct downloads of gdb are source
[23:44:01] <RCIX> and im not sure how to compile them
[23:44:07] <RCIX> yep, back to google
[23:44:27] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[23:45:06] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[23:45:45] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[23:46:13] *** Joins: dardevelin (dardevelin@moz-iogl12.rev.vodafone.pt)
[23:46:35] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[23:46:43] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[23:47:41] *** Joins: Brochacho (alberto@moz-b2ovno.cable.rcn.com)
[23:47:44] <Dabo> honestly it might be easier for you just to get a linux vm running .-.
[23:48:01] <Dabo> I mean I haven't even tried to start developing/debugging rust on windows yet xD
[23:48:27] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:48:29] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[23:49:08] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:49:11] *** Joins: crisco (crisco@moz-f5a.efk.198.67.IP)
[23:49:13] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[23:49:36] *** kimundi is now known as zz_kimundi
[23:49:36] *** Joins: copycat (Thunderbird@moz-dpm.8hc.223.111.IP)
[23:49:50] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[23:50:01] <RCIX> im running on a surface pro, id be scared to start a vm on this
[23:50:11] <krdln> Has anyone encountered an issue when rustdoc parses {`White`} as {<code>White</code>`White`}?
[23:50:25] *** Quits: ubeatlen1 (david@moz-30lmkk.nh.comcast.net) (A TLS packet with unexpected length was received.)
[23:50:28] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
[23:50:55] *** Joins: ubeatlen1 (david@moz-30lmkk.nh.comcast.net)
[23:50:57] *** Quits: copycat (Thunderbird@moz-dpm.8hc.223.111.IP) (Client exited)
[23:51:46] *** Quits: pietr0 (pietr0@moz-8h6.tnl.255.50.IP) (Ping timeout: 121 seconds)
[23:52:05] *** Quits: mkpankov` (user@moz-vgm.4ms.23.84.IP) (Ping timeout: 121 seconds)
[23:52:39] *** Joins: copycat (Thunderbird@moz-dpm.8hc.223.111.IP)
[23:53:34] *** Quits: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP) (A TLS packet with unexpected length was received.)
[23:53:38] *** Joins: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP)
[23:53:48] *** Quits: bfrog (tburdick@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[23:53:56] *** Joins: tschottdorf (tobias@moz-d021av.aipg.hajb.2000.2604.IP)
[23:54:30] *** Quits: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:54:46] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[23:55:09] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[23:55:12] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[23:55:31] *** Quits: zyphrus (David@moz-09b.s0u.195.130.IP) (Ping timeout: 121 seconds)
[23:55:35] *** nsm is now known as nsm|away
[23:56:45] *** Quits: Wilduck (erik@moz-0l3fjb.fios.verizon.net) (Client exited)
[23:56:53] <RCIX> gah
[23:56:57] <RCIX> i still dont knwo what im doing
[23:56:58] * RCIX ragequits
[23:57:30] *** Quits: hroi (hroi@moz-d273ub.static.netgroup.dk) (Ping timeout: 121 seconds)
[23:57:37] *** Joins: alaska (alaska@moz-8bdjem.fios.verizon.net)
[23:58:24] *** Joins: agmcleod (textual@moz-ujm8pm.cpe.teksavvy.com)
[23:58:40] <agmcleod> to have a struct in a separate file, does it need to be inside a module?
[23:58:45] *** Quits: alaska (alaska@moz-8bdjem.fios.verizon.net) (A TLS packet with unexpected length was received.)
[23:58:51] <RCIX> oh yay i figured it out
[23:58:59] *** Joins: alaska (alaska@moz-8bdjem.fios.verizon.net)
[23:59:12] <cmr> agmcleod: not necessarily.
[23:59:18] <cmr> agmcleod: since there is include!("foo")
[23:59:18] <fkaa_> anyone have experience with rust and jni?
[23:59:19] <mbrubeck> agmcleod: There's the include! macro if you want something more like the good old C preprocessor. http://doc.rust-lang.org/std/macro.include!.html
[23:59:25] <cmr> fkaa_: tomaka and some servo people might.
[23:59:39] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:59:40] <fkaa_> oh right, glutin has a android backend
[23:59:41] <agmcleod> Might make it into a module eventually. just starting on a small CLI tool to learn some basics :)
[23:59:48] <agmcleod> ill check it out
[23:59:51] <mbrubeck> fkaa_: A tiny bit.  IIRC, I used C to write my JNI code, and then used Rust FFI to interface with that C code.
[23:59:57] <cmr> agmcleod: you definitely want to use a module.
[23:59:59] *** Joins: fyolnish (fyolnish@moz-dvgkni.so-net.ne.jp)
