[00:00:32] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[00:00:55] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[00:01:56] *** Quits: SiegeLord (sl@moz-3B527BD6.bstnma.fios.verizon.net) (Quit: Leaving)
[00:02:27] <bheylin> I just came across some strangeness I can't explain
[00:02:27] <bheylin> https://gist.github.com/brianheylin/8128089
[00:02:54] <bheylin> adding &mut to the argument of a stack closure causes the argument to be copied?
[00:05:25] *** Quits: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:14:25] *** Quits: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Ping timeout)
[00:15:02] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[00:17:55] *** Quits: peterdn (chatzilla@moz-933EC8C2.range86-174.btcentralplus.com) (Ping timeout)
[00:18:46] *** Joins: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net)
[00:20:53] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[00:23:58] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[00:24:27] *** Quits: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net) (Client exited)
[00:24:28] *** Joins: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net)
[00:26:17] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[00:29:18] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[00:30:04] *** Joins: b (b@moz-55CA322E.org)
[00:32:12] *** Quits: heftig (heftig@moz-7A876F08.dip0.t-ipconnect.de) (Input/output error)
[00:32:27] *** Joins: heftig (heftig@moz-7A876F08.dip0.t-ipconnect.de)
[00:33:07] *** Quits: gwty (gwtypc@AFEE9338.7E936EA.25B273F5.IP) (Ping timeout)
[00:33:07] *** Quits: gwty_ (gwtypc@AFEE9338.7E936EA.25B273F5.IP) (Ping timeout)
[00:33:10] *** Quits: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net) (Client exited)
[00:33:18] *** Quits: gwty__ (gwtypc@AFEE9338.7E936EA.25B273F5.IP) (Ping timeout)
[00:33:29] *** Quits: vodik (simon@moz-F7FFD3DE.range86-168.btcentralplus.com) (Ping timeout)
[00:33:31] *** Joins: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net)
[00:39:41] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[00:42:44] *** Joins: mib_hsd95i (Mibbit@D316500E.E02040B3.49ACD689.IP)
[00:42:49] *** Quits: mib_hsd95i (Mibbit@D316500E.E02040B3.49ACD689.IP) (Quit: mib_hsd95i)
[00:43:10] *** Quits: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net) (Ping timeout)
[00:44:04] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[00:44:07] *** Joins: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net)
[00:48:23] *** Joins: Skrylar (Skrylar@moz-F692F728.austin.res.rr.com)
[00:49:20] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[00:49:53] *** zz_kimundi is now known as kimundi
[00:52:46] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:58:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[00:59:00] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:00:40] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[01:03:09] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[01:05:30] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[01:05:54] *** Quits: heftig (heftig@moz-7A876F08.dip0.t-ipconnect.de) (Ping timeout)
[01:06:36] *** Quits: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net) (Ping timeout)
[01:07:06] *** Joins: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net)
[01:07:22] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[01:09:18] *** Joins: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com)
[01:11:37] *** Joins: heftig (heftig@moz-27707365.dip0.t-ipconnect.de)
[01:11:59] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[01:12:16] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[01:22:28] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[01:22:53] *** Quits: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch) (Input/output error)
[01:25:39] *** Quits: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net) (Client exited)
[01:26:00] *** Joins: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net)
[01:32:19] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:34:31] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[01:35:12] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[01:37:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:41:11] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[01:43:18] *** Quits: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net) (Ping timeout)
[01:44:08] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:44:48] *** Joins: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net)
[01:48:46] <speckle> wow, this channel is bigger than #firefox! looks like Rust is really gaining momentum :)
[01:49:23] <Skrylar> woot
[01:51:06] <Yurume> is Rust more interesting than Firefox? :)
[01:52:11] <eevee> by extrapolation, more people use rust than use firefox
[01:55:43] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[01:56:59] <FreeFull> eevee: You mean will use?
[01:57:34] <eevee> population extrapolation, not temporal
[01:57:38] <eevee> populational?
[01:57:55] <FreeFull> Is it gaining momentum fast enough that eventually there will be more Rust users than humans?
[01:59:34] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:01:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:04:30] *** Quits: bananapeel (banananana@moz-91F35D8E.netcologne.de) (Quit: Verlassend)
[02:04:48] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:09:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:11:24] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:11:56] *** Quits: jaen (jaen@moz-DFCF4367.play-internet.pl) (Ping timeout)
[02:15:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:17:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:21:33] <wycats_> I'm trying to use Path
[02:21:39] <wycats_> I did `use std::path::Path`
[02:21:46] <wycats_> and then tried Path::new()
[02:21:58] <wycats_> and getting unresolved name `Path::new`
[02:22:02] <wycats_> what's up with that?
[02:25:34] *** Joins: gwty (gwtypc@980B8652.3FED2F87.F44414AF.IP)
[02:25:38] *** Joins: gwty_ (gwtypc@980B8652.3FED2F87.F44414AF.IP)
[02:26:51] *** Joins: gwty__ (gwtypc@980B8652.3FED2F87.F44414AF.IP)
[02:28:47] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:29:37] <wycats_> anyone?
[02:30:46] <klutzy> maybe you're using old binary which has `Path::init()` instead?
[02:30:59] <Yurume> wycats_: I'm not sure, but you may i) remove `use` (AFAIK `Path` is in the prelude and does not require use) or ii) replace `Path::new` with `Path` or `Path::init` (that was the case for older verisions
[02:31:03] <Yurume> versions)*
[02:34:31] <wycats_> removing use Path didn't help
[02:34:44] <wycats_> this is the version I'm on
[02:34:45] <wycats_> rustc 0.9-pre (800d318 2013-12-03 00:12:32 -0800)
[02:34:47] <wycats_> seems newish
[02:35:08] <wycats_> hm ::init worked
[02:36:02] *** Joins: pepper_chico (pepper_chi@8D8AA2D3.F49227D1.F546FA5F.IP)
[02:42:47] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:43:09] <Yurume> wycats_: it's three weeks behind the master ;)
[02:43:19] <wycats_> time to upgrade!
[02:43:23] <wycats_> I switched machines
[02:43:32] <wycats_> and now I'm on a slightly older one
[02:43:36] <wycats_> I should make a cron to upgrade
[02:46:09] *** Quits: pepper_chico (pepper_chi@8D8AA2D3.F49227D1.F546FA5F.IP) (Quit: Ex-Chat)
[02:48:31] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[02:51:11] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:54:19] *** Quits: gwty (gwtypc@980B8652.3FED2F87.F44414AF.IP) (Client exited)
[02:54:19] *** Quits: gwty__ (gwtypc@980B8652.3FED2F87.F44414AF.IP) (Client exited)
[02:54:20] *** Quits: gwty_ (gwtypc@980B8652.3FED2F87.F44414AF.IP) (Connection reset by peer)
[02:58:46] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:59:11] <Skrylar> o.o
[02:59:45] <Skrylar> put c object in refcell so mutable versions can be retrieved later; wrap refcell in Rc to memory manage it
[03:00:00] <Skrylar> marvel at miniature syntax nightmare with x.borrow().borrow()
[03:01:32] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[03:01:46] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[03:01:58] *** Quits: cdidd (cdidd@moz-B7378E3E.broadband.corbina.ru) (Input/output error)
[03:02:15] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[03:06:24] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:09:49] *** Quits: Ferreus (ferreus@moz-700DDFA0.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[03:11:22] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[03:14:25] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[03:14:54] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[03:16:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:17:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:35:08] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[03:37:21] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[03:41:42] *** Joins: cdidd (cdidd@moz-86D7CD6D.broadband.corbina.ru)
[03:43:11] *** Joins: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP)
[03:43:11] *** ChanServ sets mode: +ao brson brson
[03:46:55] *** Quits: kimundi (kimundi@moz-403D73FE.dip0.t-ipconnect.de) (Ping timeout)
[03:48:56] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[03:49:54] *** Joins: kimundi (kimundi@moz-626CD9BD.dip0.t-ipconnect.de)
[03:50:21] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[03:51:17] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Quit: WeeChat 0.4.2)
[03:51:53] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Quit: andreypopp)
[03:54:37] *** kimundi is now known as zz_kimundi
[03:56:18] *** Quits: cdidd (cdidd@moz-86D7CD6D.broadband.corbina.ru) (Ping timeout)
[03:58:26] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[03:59:01] *** Quits: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP) (Input/output error)
[03:59:08] *** Quits: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[04:01:23] *** zz_kimundi is now known as kimundi
[04:02:32] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[04:04:23] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[04:07:53] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:10:30] *** Joins: prooftechnique (prooftechn@moz-9E820B25.hsd1.nh.comcast.net)
[04:10:35] *** Quits: prooftechnique (prooftechn@moz-9E820B25.hsd1.nh.comcast.net) (Quit: prooftechnique)
[04:13:04] <SiegeLord> Anybody try CMake for Rust? I'm not really a CMake expert... how would you add the dependencies generated by --dep-info to CMake?
[04:14:46] *** Joins: cdidd (cdidd@moz-B37FD1A6.broadband.corbina.ru)
[04:15:58] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:16:47] <brson> SiegeLord: jack and lbergstrom have
[04:16:52] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:18:33] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:19:39] *** Joins: dbaupp (Thunderbir@moz-937EB27.pa.nsw.optusnet.com.au)
[04:24:14] *** Quits: dbaupp (Thunderbir@moz-937EB27.pa.nsw.optusnet.com.au) (No route to host)
[04:25:11] *** Joins: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP)
[04:25:38] <SiegeLord> I got to go now... but I'll see if I can catch them tomorrow. I'm not 100% sure what I want is possible
[04:26:13] <SiegeLord> --dep-info seems really intent on going through with the compillation, which I imagine I should avoid
[04:26:50] *** Quits: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP) (Input/output error)
[04:27:04] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[04:31:25] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:33:55] *** Joins: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP)
[04:35:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:36:37] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:39:09] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:41:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:43:34] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:48:07] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[04:53:33] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[04:56:35] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[05:00:35] *** Parts: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Textual IRC Client: www.textualapp.com)
[05:00:38] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[05:00:52] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[05:01:08] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[05:07:53] *** Quits: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP) (Quit: leaving)
[05:15:43] <achin> You've met with a terrible fate, haven't you?
[05:15:45] <achin> fatal runtime error: Could not unwind stack, error = 5
[05:15:53] <achin> what a wonderful error message :)
[05:17:25] <carter> heh
[05:17:40] *** Joins: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP)
[05:17:40] <alan_andrade> Oh, I'm getting that one
[05:17:54] <alan_andrade> Recompiling 
[05:18:10] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:18:18] <Yurume> spoiler: https://github.com/mozilla/rust/blob/master/src/libstd/rt/util.rs#L78
[05:18:27] <alan_andrade> I have arr = ~[~"foo"] and I want to iterate over it.
[05:18:38] <alan_andrade> I'm doing for f in arr.iter()
[05:18:53] <alan_andrade> inside the loop f would containt &~"foo"
[05:19:06] <alan_andrade> I need "foo".
[05:19:17] <alan_andrade> So I'm trying to do *foo
[05:19:29] <alan_andrade> but I get ~"foo"
[05:19:40] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[05:19:58] *** Joins: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP)
[05:20:11] <achin> Yurume: :D
[05:20:21] <alan_andrade> I'm passing this to Path::new
[05:20:30] <alan_andrade> but I get: "cannot move out of dereference of & pointer"
[05:20:35] <alan_andrade> What am I doing wrong ?
[05:21:06] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Ping timeout)
[05:21:11] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[05:21:37] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:22:26] <achin> try just passing f to Path::new ?
[05:23:09] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Quit: Leaving.)
[05:23:15] <alan_andrade> "failed to find an implementation of trait std::path::BytesContainer for &~str"
[05:23:48] <klutzy> .as_slice()?
[05:23:54] <achin> ~str is a BytesContainer
[05:24:59] <alan_andrade> woot!
[05:25:25] <alan_andrade> :\ I'm having a hard time understanding ownership
[05:25:41] <alan_andrade> So, why is that I need "as_slice()" /
[05:25:59] <alan_andrade> What's a slide ?
[05:26:02] <alan_andrade> slice
[05:26:20] <klutzy> it's &str / &[T]
[05:26:26] <achin> strings are weird beasts, i don't fully grok them
[05:26:57] <klutzy> if you dereference &~str, you get ~str and it means you've just moved one element from vector to temporary area
[05:27:32] <klutzy> so you need &str from &~str; it's what .as_slice() does
[05:28:51] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[05:29:02] <alan_andrade> So when you do as_slice() that's a temporary thing. What happens with the ownership of that value ?
[05:29:55] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:30:11] <klutzy> (or you may use `let g: &str = *f;` in this case)
[05:30:45] <klutzy> .as_slice() returns borrowed one from f, so arr still holds ownership
[05:30:47] <alan_andrade> That's basically what as_slice does 
[05:30:58] <alan_andrade> whoooo
[05:31:02] <alan_andrade> Ok, that makes sense
[05:31:55] <alan_andrade> let one = [~1, 2, 3][0].as_slice(); one += 1; 
[05:32:08] <alan_andrade> otherwise, one wouldn't be mutable
[05:32:12] <alan_andrade> oh oh
[05:32:14] <alan_andrade> no 
[05:32:32] <alan_andrade> let mut one = [~1][0].as_slice(); one += 1
[05:33:47] <alan_andrade> thanks klutzy
[05:40:48] *** Joins: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se)
[05:41:10] *** Quits: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP) (Ping timeout)
[05:42:13] *** Joins: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP)
[05:42:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:42:37] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:44:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:50:15] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Quit: Leaving)
[05:52:50] *** Quits: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP) (Ping timeout)
[05:56:24] *** Joins: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP)
[05:58:19] *** Quits: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP) (Input/output error)
[06:02:33] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:04:43] <wycats_> mmm
[06:04:47] <wycats_> so bros
[06:04:50] <wycats_> I love Rust
[06:04:58] <wycats_> that is your daily transmission
[06:05:00] <wycats_> over and out
[06:05:49] *** Quits: cdidd (cdidd@moz-B37FD1A6.broadband.corbina.ru) (Ping timeout)
[06:06:49] <carter> ye gods, spending the next / past few days staring at c and fortran are going to force me to play with rust more
[06:06:56] *** Quits: b (b@moz-55CA322E.org) (Quit: ZNC - http://znc.in)
[06:07:17] *** Quits: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP) (Ping timeout)
[06:08:06] <ziad> bheylin: that seems it should be a syntax error
[06:10:26] *** Joins: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP)
[06:13:17] <Skrylar> wycats_: my shift pinky does not love rust :(
[06:14:30] <Skrylar> though i did find out something fun
[06:14:45] <Skrylar> if you transmute an Rc to a void* for C, it will actually transfer ownership of that in to the C lib
[06:15:54] <Skrylar> if you transmute it back out later, it recovers the ref and allows it to drop
[06:20:30] <wycats_> Skrylar: nice
[06:20:33] <wycats_> I don't use Rc
[06:20:42] <wycats_> I had a sort of realization today
[06:20:56] <wycats_> that I think is obvious to everyone else :P
[06:21:03] <wycats_> so I was thinking
[06:21:10] <wycats_> let's say I want to handle a web request
[06:21:15] <wycats_> and it has some query params
[06:21:21] <wycats_> and I want to handle it in a typesafe way
[06:21:44] <wycats_> I realized that if I have a method that does a bunch of stuff involving unwrap() etc.
[06:21:47] *** Quits: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP) (Ping timeout)
[06:21:49] <wycats_> and let it fail
[06:21:55] <wycats_> then if it actually succeeds
[06:22:08] <wycats_> I can take the now-typesafe query params and pass them along to my handler
[06:22:15] <wycats_> and the rest of the code will be totally typesafe
[06:22:21] *** Joins: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP)
[06:22:28] <wycats_> I just have to be willing to let the decoding fail
[06:22:29] *** Parts: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) ()
[06:22:39] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:22:49] *** Quits: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP) (Ping timeout)
[06:22:54] <wycats_> so maybe you could define a struct with the query params you want to handle
[06:23:05] <wycats_> and then you do a .get from a HashMap<~str, ~str>
[06:23:11] <wycats_> to fill in the struct
[06:23:23] <wycats_> .get(~"key").unwrap()
[06:23:31] <wycats_> and if the struct has Option<something>
[06:23:34] <wycats_> then you just throw the option in
[06:23:42] <wycats_> ok now I'm just rambling to nobody
[06:23:44] <wycats_> so forget it :P
[06:23:52] <wycats_> I'll find this later :P
[06:25:01] <Skrylar> msgpack has a typesafe decoder
[06:25:36] <Skrylar> wycats_: it depends on your wire format really
[06:26:06] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:26:13] <Skrylar> msgpack stores a tag for the data type and then the bytes, the C decoder checks it and sets a tagged union
[06:26:23] <wycats_> nah I wasn't really talking about that level of detail
[06:26:26] <wycats_> more thinking about
[06:26:38] *** Joins: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP)
[06:26:58] <wycats_> "imagine I have a request that came in as a HashMap<~str, ~str> and I want to write a handler that uses actual types"
[06:27:14] <wycats_> and I realized that as long as you do the hashmap->struct in a single place
[06:27:17] <wycats_> and are willing to let it fail
[06:27:27] <wycats_> you basically get typesafety from there on out
[06:27:33] <Skrylar> yeah, thats about normal for decoders
[06:27:36] <wycats_> yep
[06:27:37] <wycats_> like I said
[06:27:40] <wycats_> I'm a noob
[06:27:47] <Skrylar> :P
[06:27:49] <wycats_> so it was an #insight that everyone else has already had
[06:27:52] <wycats_> but it was still cool
[06:28:28] <Skrylar> the erlang underneath rust pretty much embodies the "if its easier to just let it fail, then do so" is pretty good to keep around
[06:28:52] <Skrylar> especially since you can use Conditions to allow graceful fallbacks
[06:28:57] <Skrylar> thats really nice
[06:29:18] <carter> option types are a sign of a nice language 
[06:29:25] <Skrylar> if you *don't* want it to fail you can write the decoder to trip a condition, so it asks the caller whether to fail / do something else
[06:29:53] *** Joins: cdidd (cdidd@moz-E508B3B5.broadband.corbina.ru)
[06:30:21] <Skrylar> carter: especially cheap option types
[06:30:32] <carter> ya
[06:30:32] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[06:30:34] <Skrylar> thats why i used to like freepascal... typesafe bit fields and tagged unions
[06:30:49] <carter> Skrylar: i've some plans for making bit fiddling nicer in haskell
[06:30:58] <carter> won't be getting to it for a few months
[06:31:06] <Skrylar> i rarely use haskell
[06:31:09] <carter> ah
[06:31:15] <carter> whats your typically application domain?
[06:31:21] <carter> the tooling's gotten very very nice
[06:31:28] <Skrylar> games and web software
[06:31:42] <carter> cool
[06:31:56] <Skrylar> I did poke with ocaml and haskell, also a bit of lisp
[06:32:10] <Skrylar> i think haskell is neat but too much academia in it :(
[06:32:15] <carter> lies
[06:32:21] <carter> sooo many industrial users
[06:32:30] <carter> me included
[06:32:41] <Skrylar> just a personal opinion
[06:32:50] <carter> well, i kindly ask you to revisit it :)
[06:33:02] <carter> i know (personally) many industrial haskellers
[06:33:55] <carter> and i am using haskell because its the only language where i can tractibly solve the applied problems i care about
[06:34:10] <Skrylar> some of the things i didn't care for was that it seemed to want to be the master language (e.g. not embeddable, like C), last time I used it there were speed issues (some could be dealt with by compiler-specific pragmas in some situations) and monad stacking can get really nightmarish
[06:34:36] <carter> ok
[06:34:37] <carter> well
[06:34:57] <Skrylar> i wouldn't have any issue with a haskell worker in a task queue, i just wouldn't write a game engine in it
[06:34:57] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:35:26] <carter> i'd certainly agree that if you have hard real time work loads, the GHC RTS isn't tuned for that
[06:35:51] <Skrylar> they never said it was, to their credit
[06:35:55] <carter> true
[06:36:07] <Skrylar> i don't hate it, i just don't use it much because its not suitable for what i do most of the time
[06:36:27] <carter> fair
[06:36:37] <carter> there are folks using ghc for android and ios dev now
[06:36:41] <carter> still a new area for them
[06:36:52] <Skrylar> ergh. android. :/
[06:37:02] <carter> Skrylar: i am using ghc quite happily in some perf sensitive use cases
[06:37:20] <carter> though i'm focused on throughput not lhard latency
[06:37:55] <Skrylar> i have some beef with android
[06:38:02] <Skrylar> mostly because dalvik sucks so hard
[06:38:48] <carter> i know nothing
[06:38:53] <carter> and kinda glad :)
[06:38:53] <Skrylar> i've had phones that outpowered the iPhone in their time, using the stock Google ROM, and they had slowness issues because
[06:39:03] <Skrylar> Google/Android basically wrote their own JVM
[06:39:15] <Skrylar> Which has none of the perf tuning that mobile java spent like 10 years on
[06:39:34] <carter> ohhhhhhhhhh
[06:39:35] <carter> yeah
[06:39:39] *** Quits: taylanub (taylanub@406E3097.49064A9A.39FD6B4D.IP) (Input/output error)
[06:39:43] <Skrylar> Its so bad that games on that platform basically did not exist until they opened up the native compiler
[06:39:47] <Skrylar> API was a disaster
[06:39:57] <carter> yeah, the ghc stuff is via NDK
[06:40:01] <Skrylar> want to play sound in games on android 1.3? too bad
[06:40:34] <Skrylar> yeah i think a lot of the heavy lifting is done through NDK nowadays
[06:40:53] <wycats_> Skrylar: yeah
[06:41:03] <Skrylar> even libGDX (a library that lets you dev on the desktop/phone in java) basically wraps SDL and says have fun
[06:41:19] <wycats_> Skrylar: I guess you still have to handle it somehow
[06:41:22] <Skrylar> i saw this project where some people had ported mono over, and it was massively outperforming dalvik
[06:41:27] <wycats_> does Rust give you a supervisor or something
[06:41:37] <wycats_> so you can see that the task failed and respond with a 500
[06:41:49] <Skrylar> wycats_: "kind of"
[06:41:59] <Skrylar> you open a channel and that channel is closed on task failure
[06:42:04] <wycats_> ah makes sense
[06:42:06] <Ralith> carter: note ART
[06:42:15] <wycats_> so you have a task that listens for HTTP requests
[06:42:15] <carter> Ralith: art?
[06:42:23] <wycats_> it opens a task and gives it a channel
[06:42:31] <wycats_> and 500s on SIGCHILD
[06:42:41] <wycats_> I guess a better solution would be instead of using unwrap()
[06:42:45] <Skrylar> wycats_: basically yes; you have an IO task that reads and parses for events, channels those to a task which looks at events and spawns workers
[06:42:47] <wycats_> to instead actually handle the failure
[06:42:53] <wycats_> and send an Err back over the channel
[06:43:05] <Skrylar> well the Erlang way is to just let it fail
[06:43:14] <wycats_> yeah but just a fail won't let you respond well
[06:43:17] <wycats_> it will always be a 500
[06:43:18] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:43:22] <wycats_> but maybe you want a BadRequest
[06:43:30] <Ralith> carter: optimization layer google added a while ago
[06:43:34] <wycats_> a lot of failures will be of the 4xx
[06:43:52] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[06:43:54] <wycats_> if the failure was a type error
[06:44:06] <Skrylar> that all just depends on what you're coding
[06:44:09] <wycats_> i.e. the HashMap<~str, ~str> didn't convert properly into your struct
[06:44:14] <wycats_> I think you would want to return a 400
[06:44:16] <wycats_> Bad Request
[06:44:23] <wycats_> so you don't want just a "ZOMG FAIL"
[06:44:29] <Skrylar> what I did in Go was have one goroutine that sat and processed input from sockets
[06:44:36] <wycats_> you want an Err(BadRequest)
[06:44:37] <Skrylar> boxed it in to neat events and handed it to a dispatcher
[06:44:54] <Skrylar> then you just do whatever from the dispatcher; spin up other tasks to figure it out
[06:45:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:45:42] <geomyidae__> What's the best way for me to get the rust docs offline? Particularly the searchability?
[06:45:53] <geomyidae__> Is there rustdoc --http=":6060" like there is for godoc?
[06:46:06] <geomyidae__> (or something similar obviously :)) thanks.
[06:46:16] <Skrylar> wycats_: its certainly valid to use Result as a channel type and throw Err with some extra info if you want
[06:46:27] *** Quits: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP) (Ping timeout)
[06:46:29] <geomyidae__> Ha, there's a whole support page on it, silly me :)
[06:46:32] <Skrylar> all though as a note, unless this is a back-end API don't show error codes to users
[06:47:43] <wycats_> Skrylar: it'll be fun to play with
[06:47:49] <wycats_> I don't have a good excuse for it
[06:47:51] <geomyidae__> ART isn't an optimization layer, its a replacement for the Dalvik runtime.
[06:47:52] <wycats_> but playing with Rust is fun
[06:47:54] <wycats_> so why not
[06:48:12] <Skrylar> geomyidae__: rustdoc locally?
[06:48:23] <geomyidae__> I think I got it figured out now :)
[06:48:29] <Skrylar> if you have checked out the compiler you already have me
[06:48:29] <Skrylar> *em
[06:48:48] <carter> Skrylar: i definitely agree that for hard real time systems, the ghc rts isn't ideal, and that the game dev is still maturing
[06:49:03] <carter> on the web stack front, GHC 7.8 will definitely rock,
[06:49:40] <Skrylar> sure; though a lot of web stacks use task queues as i mentioned earlier
[06:49:48] <carter> yeah
[06:49:54] <geomyidae__> Skrylar: I didn't want to rely on that because I use the pacman binary repo that someone here builds. It doesn't appear to include the generated html docs that I can see
[06:49:55] <carter> ghc has pretty nice ones
[06:50:11] <Skrylar> those are kind of nice because you can toss your requests to beanstalk or redis and then use whatever language is suited for that step
[06:50:13] <carter> eg, i know some places that use haskell to manage tassk in a quant trading setting
[06:50:25] *** Joins: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP)
[06:50:26] <carter> ohh, you mean distributed queues
[06:50:32] <Skrylar> yeah
[06:50:57] <Skrylar> some of the bigger sites have a task server and they just pipe requests through it
[06:51:12] <Skrylar> i saw an example for node.js where they actually did all of their GET requests through a task queue
[06:51:22] <carter> i thought you meant heh
[06:51:24] <carter> *hehe
[06:51:55] <Skrylar> i like distributed queues... people tend to use different languages in them, ones that make sense
[06:52:29] <carter> make sense for which?
[06:52:33] <carter> i'm not following the implication
[06:52:45] <Skrylar> carter: they use languages and toolkits that make sense for that particular problem
[06:52:52] <carter> for which problem?
[06:52:53] <geomyidae__> Isn't that what happened with rust until Chris started working on rust-http. You used zeromq and something else to actually do the request/response handling
[06:53:02] <Skrylar> e.g. the frontend runs Ruby on Rails for layouts
[06:53:18] <carter> i know nothing of frontend
[06:53:20] <Skrylar> then ruby hands a request for some heavy data hauling to redis, something else in haskell picks up the task and crunches it
[06:53:48] <carter> gotcha
[06:54:06] <Skrylar> there's a social media site that does it like that, and i know github wrote about it
[06:54:15] <Skrylar> the ruby goes and asks a scala worker to run the git commands
[06:54:43] <carter> my idea of a web app is low latency bidding in auctions that happens to use json over http
[06:54:43] <Skrylar> geomyidae__: oooh, 0MQ. I haven't used that in ages
[06:54:44] <carter> :p
[06:55:05] *** Quits: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP) (Ping timeout)
[06:55:11] <Skrylar> carter: ah. that's not what i thought by industrial realtime. :S
[06:55:17] <Skrylar> though thats certainly less complex
[06:55:19] <carter> yes
[06:55:29] <carter> notice how i was talking about hard real tiem before :)
[06:55:40] *** Joins: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP)
[06:55:53] <carter> ad tech "real time" is "we evaluated the fancy machine learnign modells and replied in under 20 ms"
[06:55:59] <Skrylar> i do a bit of studying MMO design, so i'm used to thinking in terms of dozens of servers crunching moving objects
[06:56:21] <carter> Skrylar: my idea of a distributed system is "how would i do distributed numerical computation"
[06:56:31] <carter> which has a different synchornization structure
[06:56:34] <Skrylar> mapreduce? worked for google, lol
[06:57:20] * Skrylar read a funny thing about someone questioning if MapReduce's patent was actually enforcable, because those have been LISP functions and known to compsci since the 70s
[06:58:06] <carter> nah
[06:58:09] <carter> not map reduce
[06:58:12] *** Quits: gkostyanikov (gkostyanik@21F78E00.3E410295.CA6E2165.IP) (Ping timeout)
[06:58:24] <carter> when you're doing some sort of large optimization problem
[06:58:28] <carter> or physics simulation
[06:58:33] <carter> theres a bit more you hav eto do
[06:58:47] <carter> map reduce is a terrrible way to roll for those
[06:58:58] <Skrylar> i haven't seen a use case that mapreduce would've helped me
[06:59:09] <carter> healthy attituded
[06:59:11] <carter> :)
[06:59:16] <Yurume> MR is mostly helpful for a large number of dependency-free subproblems
[06:59:20] <carter> yes
[06:59:21] <carter> exactly
[06:59:38] <carter> i can usually see those pretty easily, what with haskelling to much 
[06:59:38] <Skrylar> in my case its usually things like, "this NPC needs to decide one of these options" and the data is usually localized
[06:59:43] <carter> yeah
[06:59:52] <Yurume> like, well, Minecraft?
[07:00:08] <carter> or in my case "how do I make simulating physics math at scale easier"
[07:00:11] <carter> or the like
[07:00:30] <Skrylar> there's the thing erlang does
[07:00:36] <Skrylar> sprawls worker threads across computers
[07:00:43] <Skrylar> basically makes one big globputer
[07:00:55] <carter> ehhhh
[07:00:58] <carter> locality is a think
[07:01:05] <Skrylar> there's one thing.. SecreC or something like that
[07:01:06] <carter> you don't get good locality with the erlang model
[07:01:20] <Skrylar> its supposed to be a C platform for cryptography that does math across multiple machines
[07:01:29] <Skrylar> carter: you can ask erlang not to do it
[07:01:29] <carter> good mem locality  gves a 10-1000x perf difference
[07:01:40] <carter> erlang can't do the things I wanna do
[07:01:44] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[07:01:50] <Skrylar> i haven't touched it in a while, i've been wanting to re-read up on it
[07:02:03] <Skrylar> i remember people talking about being able to have some control over processes, such as shuttling them across PCs for a reboot
[07:02:32] <Skrylar> though to Erlang's credit its first and foremost a telephony switching framework, it just happens to have neat uses otherplaces
[07:03:11] <carter> indeed
[07:03:17] <carter> not relevant for me afaict
[07:03:32] <Skrylar> not for math, no
[07:03:39] <Skrylar> maybe as a kernel
[07:04:08] *** Joins: squiggy (Mibbit@moz-F07CF06.natwky.res.rr.com)
[07:04:49] *** Quits: squiggy (Mibbit@moz-F07CF06.natwky.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[07:05:09] <carter> which sortah kernel
[07:05:12] <Skrylar> but heavy math is something i'm pretty bad at, so the only thing i know about it is that its really hard to scale something that isn't parallelizable 
[07:05:20] <carter> not quite
[07:05:31] <carter> its hard to scale anything that doesn't have good memory locality
[07:05:39] <carter> thats the real diff
[07:05:56] <Skrylar> well the explanation i've kept for a long while is the cooking one
[07:06:05] <Skrylar> some tasks just don't benefit from having more ovens
[07:06:39] <carter> its a bit more nuanced than that
[07:07:16] <carter> matrix mult and friends really brings out the memory throughput limits of pretty much anny hardware you can throw at it
[07:08:41] *** Joins: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP)
[07:10:24] *** Quits: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP) (Ping timeout)
[07:16:28] *** Joins: alex-abreu (alex@moz-5AD1ECCF.rev.sfr.net)
[07:20:54] *** Quits: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP) (Client exited)
[07:24:00] <Skrylar> i need to look in to macro symantics later
[07:24:32] <Skrylar> i'm going to have to bind Lua at some point, which brings up the "how do i bind methods to lua without boilerplate?" question
[07:25:54] <Skrylar> i think macros support enough to do all the lua_push/lua_gettype checks
[07:27:29] *** Joins: victorporof (victorporo@A2AADBA9.EA6E0F4C.C84F7BD0.IP)
[07:33:11] *** Joins: derek_c (derek@71BE775F.727D7A21.EB673A25.IP)
[07:33:28] <derek_c> can someone tell me what's wrong with this line?
[07:33:29] <derek_c> pub type WriteBatch = &[(&[u8], &[u8])];
[07:33:38] <derek_c> says missing lifetime specifier
[07:36:45] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[07:39:38] <Yurume> derek_c: you should use pub type WriteBatch<'r> = &'r [(&'r [u8], &'r [u8])];
[07:40:03] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[07:40:42] <Yurume> &-ptr cannot exist without a lifetime, and since it is not a special case where the lifetime can be inferred (e.g. function arguments) you need to specify it
[07:41:12] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:41:52] <Skrylar> it sounds like derek_c is trying to store it
[07:42:02] <Skrylar> ah, yeah, type declaration
[07:42:22] <Skrylar> derek_c: borrowed pointers cannot be stored, so you can't have a type for them
[07:43:06] <derek_c> says missing lifetime specifier
[07:43:12] <derek_c> oops wrong window
[07:43:24] <Yurume> Skrylar: no, you can have a type for them, you *cannot* store them in the isolation however
[07:43:42] <Yurume> in isolation*
[07:43:54] <Yurume> so for example:
[07:44:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:44:58] <Yurume> rusti: /* note: this is for 0.8, for 0.9-pre replace 'self -> 'r */ struct A<'self> { x: &'r int } let v = 42; let w = A { x: &v }; w
[07:45:04] -rusti- pastebinned 7 lines of output: http://ix.io/9wo
[07:45:06] <Yurume> rusti: /* note: this is for 0.8, for 0.9-pre replace 'self -> 'r */ struct A<'self> { x: &'self int } let v = 42; let w = A { x: &v }; w
[07:45:08] -rusti- pastebinned 18 lines of output: http://ix.io/9wp
[07:45:11] <Yurume> hm?
[07:45:37] <Yurume> a-ha, that's a problem of additional code generated by rusti
[07:45:46] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:45:48] <Yurume> rusti: /* note: this is for 0.8, for 0.9-pre replace 'self -> 'r */ struct A<'self> { x: &'self int } let v = 42; let w = A { x: &v }; println!("{:?}", w);
[07:45:49] -rusti- main::A<>{x: &42}
[07:45:49] -rusti- ()
[07:45:52] <Yurume> here it is.
[07:46:33] <Yurume> obviously w cannot exist longer than v, but you can definitely store a borrowed pointer to v.
[07:47:23] <derek_c> I'm sort of confused.  why is it that when you write a function and you specify types for the parameters, you don't need the 'r thing?
[07:47:59] <Yurume> it's since you typically pass a large value as a reference, and it would be very painful that every such function needs 'r.
[07:48:38] *** Joins: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP)
[07:48:44] <Yurume> and functions typically do not store the borrowed pointers themselves, they only temporarily use them.
[07:49:13] <Yurume> for structs or more generally type declarations, there are no such restrictions
[07:49:32] <derek_c> what could 'r stand for other than 'static?
[07:50:07] <Skrylar> it type infers most of it, derek_c 
[07:50:10] <Yurume> everything, it can point to other unnamed lifetimes
[07:50:47] <Yurume> for example, in the above example, `let v = 42;` creates a new lifetime (which is also v's lifetime), and `let w = ...` creates another.
[07:51:18] <Yurume> two lifetimes are unnamed, but it is clear that the second lifetime is entirely contained in the first lifetime
[07:52:56] <derek_c> Yurume: hmm thanks.  I will think about this
[07:54:29] *** Joins: gkostyanikov (gkostyanik@5381327A.2AEE264E.CA6E2165.IP)
[07:54:50] <Yurume> derek_c: the rule of thumb is that every non-function declarations (and some function declarations) need them, albeit it is obvious in many cases (you can just use one lifetime parameter to cover them all)
[07:56:06] <Yurume> there are some more complex situations like a lifetime-generic method in a lifetime-generic impl (in this case you may need two lifetime parameters) or a closure parameter which receives short-lived borrowed pointers for temporary uses
[07:56:21] <Yurume> but in many cases you can cover them with 'self/'r.
[07:57:17] <Yurume> (technically, I think two lifetime parameters are currently not allowed, but there can be one in the impl and one in the method.)
[07:57:27] <Yurume> (though I may be wrong, YMMV.)
[08:01:33] *** Joins: lpy_ (lpy@8D37022B.F09091A8.1348A864.IP)
[08:02:53] *** Quits: lpy (lpy@9EA5DA85.F09091A8.1348A864.IP) (Ping timeout)
[08:03:44] *** Quits: victorporof (victorporo@A2AADBA9.EA6E0F4C.C84F7BD0.IP) (Quit: victorporof)
[08:04:47] *** Quits: cdidd (cdidd@moz-E508B3B5.broadband.corbina.ru) (Input/output error)
[08:07:23] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:07:24] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:07:59] *** Joins: lpy (lpy@ABD12C3A.F09091A8.1348A864.IP)
[08:08:03] *** Quits: lpy_ (lpy@8D37022B.F09091A8.1348A864.IP) (Connection reset by peer)
[08:08:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:08:35] *** Joins: lpy_ (lpy@8D37022B.F09091A8.1348A864.IP)
[08:08:39] *** Quits: lpy (lpy@ABD12C3A.F09091A8.1348A864.IP) (Connection reset by peer)
[08:08:51] *** Quits: lpy_ (lpy@8D37022B.F09091A8.1348A864.IP) (Client exited)
[08:09:02] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Ping timeout)
[08:09:37] *** Joins: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr)
[08:10:24] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[08:12:04] <Skrylar> Yurume: i haven't had to deal with lifetimes much yet
[08:12:16] <Skrylar> i usually just use borrowed pointers in functions, but i haven't done anything brainmelting yet
[08:16:30] *** Quits: gkostyanikov (gkostyanik@5381327A.2AEE264E.CA6E2165.IP) (Ping timeout)
[08:17:12] *** Joins: cdidd (cdidd@moz-15DD6ADC.broadband.corbina.ru)
[08:19:59] *** Joins: gkostyanikov (gkostyanik@15257191.3E410295.CA6E2165.IP)
[08:20:16] *** Quits: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se) (Quit: Leaving.)
[08:21:10] <Yurume> Skrylar: you need them when, for example, making a custom iterator.
[08:27:27] *** Joins: Ms2ger (Ms2ger@moz-268A540A.access.telenet.be)
[08:28:44] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[08:29:01] *** Joins: jaen (jaen@moz-8C082264.play-internet.pl)
[08:31:02] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:31:47] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:36:39] *** Joins: nuts (tii@822A8E7E.6AD15BF5.75D3BBDB.IP)
[08:36:44] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[08:42:25] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[08:42:52] *** Quits: derek_c (derek@71BE775F.727D7A21.EB673A25.IP) (Ping timeout)
[08:46:11] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:46:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:46:16] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Connection reset by peer)
[08:46:21] *** Quits: Ms2ger (Ms2ger@moz-268A540A.access.telenet.be) (Ping timeout)
[08:46:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:54:11] *** Quits: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr) (Quit: pyrac)
[08:54:15] *** Joins: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se)
[08:54:30] *** Joins: threecreepio1 (Adium@moz-9DA6CBAC.bredband.comhem.se)
[08:54:30] *** Quits: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se) (Connection reset by peer)
[09:00:53] *** Joins: Ms2ger (Ms2ger@moz-E0B31B23.ugent.be)
[09:01:14] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[09:02:03] *** Joins: derek_c (derek@21C034B9.D4E7C53D.6CB35A18.IP)
[09:03:37] *** Joins: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr)
[09:05:18] *** Quits: threecreepio1 (Adium@moz-9DA6CBAC.bredband.comhem.se) (Quit: Leaving.)
[09:06:18] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:06:52] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[09:09:30] *** Joins: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se)
[09:09:42] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[09:09:49] *** Quits: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com) (Ping timeout)
[09:18:17] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[09:20:13] *** Joins: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch)
[09:23:19] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:23:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:24:45] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[09:25:26] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:29:31] <derek_c> how do you customize the destructor for a struct?
[09:30:03] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:30:40] <derek_c> I remember there is a Drop interface, but searching it in std docs doesn't result in anything
[09:31:26] <Luqman> derek_c: struct MyStruct { x: int } impl Drop for MyStruct { fn drop(&mut self) { /* do things */ } }
[09:31:28] <klutzy> you mean `impl Drop for SomeStruct { fn drop(&mut self) { ... } }`?
[09:31:55] <derek_c> yeah I think that's what I want
[09:32:18] <derek_c> do I need to somehow call a default destructor within my customized drop()?
[09:34:33] <Yurume> derek_c: no, there is no "destructor" like C++ (in that, deallocation occurs automatically and you cannot directly call drop in any way).
[09:36:46] <bheylin> i came across some strangeness last night, but not many people were on
[09:36:47] <bheylin> https://gist.github.com/brianheylin/8128089
[09:37:29] <bheylin> trying to figure out why adding a &mut to a closure arg would cause it to be coped
[09:37:32] <bheylin> copied
[09:37:52] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[09:38:34] <derek_c> Yurume: I see. thanks!
[09:39:13] <derek_c> Yurume: I see. thanks!
[09:39:14] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[09:39:17] <derek_c> wrong window :(
[09:40:41] *** Joins: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP)
[09:40:59] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[09:41:22] <Yurume> bheylin: since |&mut ctx_| destructs the context. it's much more like: |ctx_| let &mut ctx_ = ctx_;
[09:41:45] <Yurume> (such use of `let` is called an irrefutable pattern, since such pattern matching cannot fail.)
[09:42:19] *** Quits: gkostyanikov (gkostyanik@15257191.3E410295.CA6E2165.IP) (Ping timeout)
[09:43:08] <Yurume> note that it differs from &mut self, which means `self` is a mutable borrowed pointer to something (in this case Context). yeah sorta gotcha.
[09:43:34] <bheylin> Yurume: if I understand you, a copy is not made when the closure is called
[09:43:51] <Yurume> what I'm not sure is that Context is not `Clone`-able and thus cannot be copied but it compiles without an error.
[09:43:56] *** Quits: derek_c (derek@21C034B9.D4E7C53D.6CB35A18.IP) (Ping timeout)
[09:44:05] <Yurume> bheylin: yes, it is copied inside the closure.
[09:44:22] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:44:33] *** Joins: jviereck (Adium@moz-5D1E03F2.dip0.t-ipconnect.de)
[09:44:40] <bheylin> Yurume: and the copy happens because of some constrint of let &mut?
[09:44:57] <bheylin> Yurume: I don;t understand why a copy has to happen here?
[09:46:09] <bheylin> Yurume: the pattern match itself performs a copy?
[09:46:13] <Yurume> yes.
[09:46:31] <Yurume> if you don't want copying, you should use `ref`.
[09:47:12] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[09:47:17] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:47:18] <bheylin> Yurume:  ok cool, I wasn't aware I had written a pattern match in the arg list
[09:47:25] *** Joins: derek_c (derek@32E0686B.117B7BA2.EB673A25.IP)
[09:47:33] <bheylin> Yurume: thanks for the clarification
[09:48:29] <eddyb> "&mut self" is actually "self: &mut Self" - otherwise, arguments are patterns
[09:48:35] <eddyb> so you can destructure tuples and whatnot
[09:48:39] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Quit: Leaving)
[09:48:58] <Yurume> eddyb: for Python users it looks like the otherwise ;)
[09:49:33] *** Quits: jviereck (Adium@moz-5D1E03F2.dip0.t-ipconnect.de) (Quit: Leaving.)
[09:50:39] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[09:51:41] *** Quits: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se) (Quit: Leaving.)
[09:58:52] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[09:59:50] *** Joins: jviereck (Adium@moz-5D1E03F2.dip0.t-ipconnect.de)
[10:02:29] *** Quits: derek_c (derek@32E0686B.117B7BA2.EB673A25.IP) (Ping timeout)
[10:03:10] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[10:06:14] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:07:41] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:08:40] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[10:12:42] *** Quits: jviereck (Adium@moz-5D1E03F2.dip0.t-ipconnect.de) (Quit: Leaving.)
[10:12:58] *** Joins: jviereck (Adium@moz-5D1E03F2.dip0.t-ipconnect.de)
[10:13:49] *** Quits: jviereck (Adium@moz-5D1E03F2.dip0.t-ipconnect.de) (Quit: Leaving.)
[10:13:58] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[10:14:08] *** Joins: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se)
[10:14:57] *** Quits: nuts (tii@822A8E7E.6AD15BF5.75D3BBDB.IP) (Connection reset by peer)
[10:18:40] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[10:21:45] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[10:26:39] *** Joins: lenstr (lenstr@66C0DC19.121853A2.28B5BA55.IP)
[10:26:53] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:29:35] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[10:32:03] *** Quits: hacker_sam (hacker_sam@moz-CE26AC01.dsl.bngr.epix.net) (Ping timeout)
[10:34:45] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:36:09] *** Joins: hacker_sam (hacker_sam@moz-4E4662F3.dsl.bngr.epix.net)
[10:44:30] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[10:44:43] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[10:46:26] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[10:48:29] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[10:50:08] *** Quits: lenstr (lenstr@66C0DC19.121853A2.28B5BA55.IP) (Quit: Leaving...)
[10:50:42] *** Quits: lessless (lessless@moz-F3755E99.emplot.net) (Client exited)
[10:52:04] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[10:52:29] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:52:44] *** Quits: hacker_sam (hacker_sam@moz-4E4662F3.dsl.bngr.epix.net) (Ping timeout)
[10:53:52] *** Joins: hacker_sam (hacker_sam@moz-50B15F3C.dsl.bngr.epix.net)
[10:54:38] *** Joins: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[10:55:33] *** Quits: hacker_sam (hacker_sam@moz-50B15F3C.dsl.bngr.epix.net) (Ping timeout)
[10:59:50] *** Joins: awidegreen (awidegreen@moz-2F76ECE1.dip0.t-ipconnect.de)
[11:00:22] *** Joins: hacker_sam (hacker_sam@moz-12AD9640.dsl.bngr.epix.net)
[11:06:28] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[11:06:33] *** Joins: jackneill (jackneill@moz-F8808938.pool.digikabel.hu)
[11:08:44] <Ke> so anyone, how can I get PosixPath
[11:08:58] <Ke> or Path
[11:09:08] <Ke> http://users.tkk.fi/~jkarlson/files/cat.rs
[11:09:55] <Ke> Rust-0.8
[11:12:41] *** Joins: peterdn (chatzilla@moz-933EC8C2.range86-174.btcentralplus.com)
[11:14:30] <eddyb> Ke: 0.8 is outdated
[11:14:32] *** Quits: hacker_sam (hacker_sam@moz-12AD9640.dsl.bngr.epix.net) (Client exited)
[11:14:52] *** Joins: hacker_sam (hacker_sam@moz-12AD9640.dsl.bngr.epix.net)
[11:15:30] <Ke> I'm not going to write anything serious just some toy programs
[11:15:48] <Ke> are you saying it's not at all the same language as master rust
[11:16:23] <eddyb> Ke: we're saying that you need a genius to remember all the differences and nits that were fixed since then
[11:17:17] <eddyb> Ke: are you using linux? if so, which distro? (some of them have nightlies)
[11:17:27] <Ke> gentoo
[11:17:54] <Ke> with self written ebuild, in theory I can make git version of that
[11:18:45] <eddyb> Ke: https://github.com/Heather/gentoo-rust
[11:20:39] <Ke> doesn't seem to have anything I don't already have
[11:21:24] <eddyb> I'm pretty sure that's master
[11:21:53] <Ke> the 9999 one is master, but the ebuild functional parts are the same
[11:23:57] *** Quits: awidegreen (awidegreen@moz-2F76ECE1.dip0.t-ipconnect.de) (Ping timeout)
[11:26:07] <Seldaek> Ke: also if you like to play around writing toy programs, you may want to join the fun at https://github.com/uutils/coreutils
[11:28:39] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[11:29:38] <eddyb> is this required at all? https://github.com/uutils/coreutils/blob/master/cat/cat.rs#L2
[11:30:41] <Seldaek> eddyb: it was, but it isn't anymore I think
[11:31:04] <Seldaek> it's hard keeping up with changes 
[11:31:31] <eddyb> we need more lints for unnecessary things
[11:32:01] <Seldaek> it may well be that there is a lint already 
[11:32:07] <Seldaek> the build has been failing for a couple weeks
[11:32:12] <Seldaek> just haven't had time lately
[11:32:15] *** Quits: ofeldt (ofeldt@moz-CB8BAD1B.dip0.t-ipconnect.de) (Ping timeout)
[11:32:23] <Skrylar> hrm, named break doesn't work
[11:32:47] <eddyb> I haven't seen it used anywhere, I forgot it exists
[11:33:01] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[11:33:21] <Skrylar> its mentioned in the manual and theres an old ticket for it
[11:33:25] <Skrylar> says its loop foo: {}
[11:33:40] <Skrylar> but if you try to type that, the compiler whines that 'loop is obsolete' like it thinks you're using a while loop
[11:33:42] <eddyb> JS has it too, IIRC. handy little feature that everyone can workaround with a bool :P
[11:34:02] <eddyb> Skrylar: I thought it was using the lifetime syntax
[11:34:05] <Skrylar> thats still needlessly inefficient :/
[11:34:29] <Skrylar> you end up with a continual cmp/jnz instead of a jmp on demand
[11:34:41] <eddyb> that's assuming -O0
[11:34:49] <myname> loop is obsolete?
[11:34:53] <eddyb> try "loop 'foo {}" or "'foo loop {}"
[11:35:05] <Skrylar> myname: no, the compiler is derping
[11:35:14] <eddyb> myname: the compiler thinks Skrylar is trying to do "loop condition {}" as in "while condition {}"
[11:35:17] <Skrylar> myname: because theres a syntax error it thinks you're trying to use an archaic version of the keyword
[11:35:30] <myname> ah
[11:35:51] *** Joins: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de)
[11:36:14] <Skrylar> yeah, 'foo did it
[11:36:17] <Skrylar> that is some weird syntax
[11:36:54] <eddyb> Skrylar: have you played around with lifetimes?
[11:37:28] <Skrylar> nope
[11:37:57] <eddyb> 'name is a kind of "label" used for naming loops and lifetimes
[11:39:09] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[11:41:05] <Skrylar> oooh thats good, i was curious about this 'awestruct' thing, and then they have 404s on their documentation
[11:41:17] *** Quits: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de) (Ping timeout)
[11:41:22] <Skrylar> whenever comparing something i know to something new, a 404 on the docs page usually means "not worth my time" xD
[11:41:29] <Ke> Skrylar: make it a rustbox multicall binary with awesome statical linkage and cross compile features and I may be interested
[11:41:55] <Skrylar> Ke: what am i suppose to be making? oO
[11:42:35] <Ke> busybox
[11:42:44] <Seldaek> Skrylar: I suspect this was for me, but I also am not sure what Ke  is trying to express :p
[11:43:05] <Ke> oh true, for Seldaek 
[11:43:16] <Skrylar> lol
[11:43:32] <pyrac> Hi all. I am trying to debug a rust code calling C but I am a bit lost. Does anybody knows what I am doing wrong here https://gist.github.com/osaut/02ddbad643152bc4d257
[11:43:36] <Skrylar> all i've been working on was an attempt at a morphic-esque GUI, which got haulted because glfw-rs wasn't feeding me events properly
[11:43:55] <Skrylar> so I had to stop and work on an SDL2 wrapper :/
[11:43:55] <Ke> I can't see nicks that hilight me properly, since the irssi coolous scheme is bad
[11:44:14] <Ke> colour
[11:44:21] <bjz> Skrylar: I'm working on fixing glfw-rs -_-
[11:44:51] *** Joins: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de)
[11:44:51] <Skrylar> bjz: i'm thinking about tossing what i have up on github, i remember you mentioning sdl2
[11:44:58] <Skrylar> pyrac: *peers at it*
[11:45:10] <Ke> Seldaek: I assume you know what busybox is
[11:45:41] <bjz> Skrylar: yeah, there is already and sdl2 wrapper
[11:45:44] <eddyb> Ke: it should be trivial to add a busy-box like tool to uutils
[11:45:54] <Skrylar> bjz: i looked at one of them but it wasn't very good from the look of it :/
[11:45:59] <bjz> yeah
[11:46:03] <Skrylar> though by 'good' i mean i don't remember it feeling very rust-like
[11:46:05] <eddyb> Ke: static linking and LTO is already there
[11:46:13] <bjz> I have one half done
[11:46:16] <Skrylar> i've been hand-binding one that feels very much like a rust lib
[11:46:39] <bjz> ah nice
[11:46:41] *** Joins: awidegreen (awidegreen@moz-2F76ECE1.dip0.t-ipconnect.de)
[11:47:03] <Skrylar> the event pump is hidden behind an iterator (for e in sdl::Events {}), SDL_Window's are wrapped in an Rc to a shim  
[11:48:09] <Skrylar> i'll have to post what i have to show to people who know better; I *think* the exposed interface is very rust-y, but i don't know what rust-y is.
[11:48:11] <eddyb> Ke: and cross-compile is possible for any Rust codebase, just trickier to build the cross-compile environment (you can use the same compiler, but you need cross-compiled libs like std and extra)
[11:48:19] <bjz> yeah that's what  I was going to do
[11:48:23] <Skrylar> pyrac: okay, lemme see (didn't forget about you)
[11:48:45] <Skrylar> pyrac: well you didn't give the function external linkage in C, for one
[11:48:49] <Ke> eddyb: so all the backends are included in llvm by default?
[11:48:59] <eddyb> Ke: mhmm
[11:49:17] <pyrac> Skrylar: no problem thanks for looking at it. 
[11:49:20] <Skrylar> pyrac: you need to give it external C linkage, specifically C linkage, otherwise G++ is going to mangle `process_vec` to oblivion
[11:49:21] <Ke> I guess I also need proper C libraries and headers etc.
[11:49:31] <eddyb> Ke: headers? for what?
[11:49:37] <Ke> libc etc
[11:49:49] <eddyb> why would you need headers?
[11:50:07] <pyrac> Skrylar: is it not what I have done in clib.h?
[11:50:18] <Skrylar> hrm
[11:50:27] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[11:50:31] *** Joins: sankha94 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[11:50:32] <Ke> eddyb: to see what system calls etc are available?
[11:50:34] <Skrylar> pyrac: also i would use *c_char instead of &str
[11:50:39] <Ke> or c library calls
[11:50:40] <Skrylar> i'm not sure what &str does in an extern block
[11:51:18] <Skrylar> tag.as_slice sounds bad though IDK much about it
[11:51:24] <Skrylar> seems like it should be .to_c_str
[11:51:44] <eddyb> Ke: hmm, if you want to use libuv, that might need cross-compilation of its own
[11:52:17] <Ke> but I guess that is stuff to do in the future anyway
[11:52:44] <eddyb> Ke: rust's build system already works to cross-compile for android
[11:52:45] <Skrylar> bjz: http://pastebin.com/eff0kNiN theres the front-end i had so far
[11:52:58] <eddyb> meh. pastebin.com
[11:53:12] <Skrylar> is there a pastebin i should be using?
[11:53:44] <Skrylar> bjz: there's also another idiom where it uses Result to return SDL_GetError on failures
[11:53:47] <eddyb> there's a list of ones you shouldn't be using. some of us like https://gist.github.com (and it has some Rust highlighting support)
[11:54:11] <eddyb> Skrylar: first nit: 4-space indent is rusty
[11:54:16] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[11:54:24] <Skrylar> i don't use space indent :p
[11:54:55] <eddyb> we do :P
[11:55:06] <Skrylar> you can use it in the official libs :P
[11:55:20] <eddyb> inconsistency in space around ":"
[11:55:43] <Skrylar> all though i forgot i had it set to full-tab; I used to leave tabs at 8 and use vim's smarttabbing
[11:56:03] <eddyb> separators should always be "a: b" and "a, b"
[11:56:45] <Skrylar> i'm honestly more interested in the API that is exported being correct; since i'm the only person maintaining my own code, i go with what i want to look at all day
[11:57:03] <FreeFull> Does Rust have an official style guide?
[11:57:09] <FreeFull> Or is it implicit?
[11:57:21] <Skrylar> i think its implicit from the compiler
[11:57:25] <eddyb> FreeFull: nothing as strong as what Google has AFAIK
[11:57:40] <Skrylar> well Go gives you gofmt
[11:57:43] <eddyb> Skrylar: the compiler is full of crufty old code, nonsense and tat :P
[11:57:54] <eddyb> we want rustfmt
[11:58:08] <FreeFull> Someone has to write it
[11:58:10] <Skrylar> I don't remember which language I was using that had floating :'s
[11:58:26] <FreeFull> At least I have the impression Rust isn't too bad to parse
[11:58:34] *** Quits: awidegreen (awidegreen@moz-2F76ECE1.dip0.t-ipconnect.de) (Ping timeout)
[11:58:39] <eddyb> FreeFull: libsyntax ;)
[11:58:55] <Skrylar> it would probably be possible to write a parser combinator lib for rust as well
[11:59:15] <FreeFull> What would be rustfmt's approach? Parse, prettyprint, compare?
[11:59:15] <eddyb> I did think I could port codeaze to rust macros
[11:59:27] <pyrac> Skrylar: https://gist.github.com/osaut/02ddbad643152bc4d257 works now. Thanks for your help !! (I had to use cast::transmute to make it work)
[11:59:55] <Skrylar> o_o
[12:00:07] <glaebhoerl> Skrylar: do you mean "which parses Rust" or "in Rust"? or both?
[12:00:21] *** Joins: gwty (gwtypc@DC91ACB1.EF01F9F5.E7DAB6F9.IP)
[12:00:39] <Skrylar> pyrac: no, that is bad; you want to use .to_c_str because what you are giving C++ is not null terminated
[12:01:14] <FreeFull> Rust's strings are a bit more complex than C strings
[12:01:16] <Skrylar> it probably didn't explode because there just happened to be zeroes there at the time
[12:02:06] <eddyb> Skrylar: type Version = (u8, u8, u8); could be struct Version(u8, u8, u8);
[12:02:46] <eddyb> Skrylar: and get_version_str could be ToStr for Version
[12:03:08] <pyrac> Skrylar: if I use to_c_str, I get  error: mismatched types: expected `*i8` but found `std::c_str::CString` (expected *-ptr but found struct std::c_str::CString)
[12:03:57] *** Joins: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com)
[12:04:15] <eddyb> Skrylar: Window::create could be Window::new
[12:04:32] <Skrylar> create is actually what SDL calls it, but i could fix that
[12:04:36] <eddyb> maybe with optional parameters
[12:05:14] <eddyb> Skrylar: I don't have much to complain about really, good job! :D
[12:05:22] <Skrylar> eddyb: :D
[12:05:37] <Skrylar> pyrac: right, you have to get a reference
[12:06:24] <Skrylar> pyrac: what my code does (i just pastebined it) down at get_title is: title.to_c_str().with_ref(|new_title| { <the C call> });
[12:06:55] <Skrylar> which converts the rust string to a C string, then takes the pointer to it in `with_ref` and does the C call, and the string is freed at the end of the block
[12:06:57] <pyrac> Skrylar: thanks I will try that
[12:07:58] <Skrylar> also, neat
[12:08:06] <FreeFull> Skrylar: I'd stay with the SDL names
[12:08:08] <Skrylar> there is a ruby-based asciidoc markup now
[12:08:20] <FreeFull> To make SDL's documentation more useful
[12:08:33] <Skrylar> FreeFull: yeah, i've been teetering the line with the two
[12:09:00] <Skrylar> i remove things which are just redundant (window.set_window_title, how about no) but otherwise its fine
[12:09:05] <FreeFull> After all, it's a binding to a library rather than something that's native to Rust
[12:09:38] <Skrylar> it also feels weird not calling destroy/free on objects
[12:09:39] <FreeFull> Well, the redundancy is there because it is a C library
[12:10:34] *** kimundi is now known as zz_kimundi
[12:11:44] <pyrac> Skrylar: thanks again, it works perfectly !
[12:11:58] <Skrylar> pyrac: it should also be more stable now
[12:13:09] <Skrylar> i will say as much as i enjoy pandoc, i do kinda like how asciidoc supports callouts
[12:13:36] <Skrylar> markdown just doesn't have the syntax for things like warnings
[12:14:28] *** Joins: dbaupp (Thunderbir@moz-9759F6F.pa.nsw.optusnet.com.au)
[12:17:13] *** Joins: canhtak (canhtak@moz-1AC8943.wl.t.ulaval.ca)
[12:21:24] *** Joins: vodik (simon@moz-2DE54D1B.range86-174.btcentralplus.com)
[12:21:45] *** Quits: dbaupp (Thunderbir@moz-9759F6F.pa.nsw.optusnet.com.au) (Ping timeout)
[12:22:10] *** Quits: gwty (gwtypc@DC91ACB1.EF01F9F5.E7DAB6F9.IP) (Ping timeout)
[12:25:11] <Ms2ger> Skrylar, why not title.with_c_str(|new_title| { <the C call> })?
[12:26:06] <Skrylar> Ms2ger: i didn't see that was a function call
[12:26:25] *** Joins: dbaupp (Thunderbir@moz-CA54781.pa.nsw.optusnet.com.au)
[12:27:20] *** Joins: andreypopp (andreypopp@moz-31BA715C.pools.arcor-ip.net)
[12:28:38] <Skrylar> i really should write up an article on how to deal with C interop, with all these anecdotes in it
[12:32:12] *** Joins: johnrkd (johnrkd@E0A7FE54.52A24E51.B05A4819.IP)
[12:33:37] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:36:19] *** Quits: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr) (Quit: pyrac)
[12:36:39] <Skrylar> I wish we had more outliners on linux :( mac users get all the best ones
[12:36:44] <FreeFull> Skrylar: You can use something other than markdown with pandoc
[12:36:52] <Skrylar> (speaking of writing)
[12:37:12] <Skrylar> FreeFull: pandoc doesn't do a good job of asciidoc
[12:37:39] <Skrylar> pandoc has its extended markdown and all the inputs go through that
[12:37:45] <Skrylar> internally
[12:38:07] <Skrylar> to, it will read reStructuredText but butcher it
[12:38:12] *** Quits: vodik (simon@moz-2DE54D1B.range86-174.btcentralplus.com) (Ping timeout)
[12:39:24] <FreeFull> It has a separate intermediary format inside
[12:39:40] <Skrylar> I'm not bashing pandoc/markdown, markdown wasn't built for writing tech manuals and they never said it was
[12:39:52] <FreeFull> I'll believe you when you say asciidoc does a better job though
[12:40:10] <Skrylar> you can have pandoc output asciidoc though
[12:40:50] <FreeFull> I think you can have it output manpages too
[12:40:56] <FreeFull> Even LATeX
[12:41:02] <Skrylar> the big thing with asciidoc is that it basically supports everything out of DocBook without having to write any XML, so its *specifically* good at reference manuals
[12:41:24] <Skrylar> or text where you need callouts for warnings, it also has a neat thing where you can put numbered notes in code listings with an under-caption for each one
[12:41:46] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Quit: leaving)
[12:42:25] *** Joins: vodik (simon@moz-2DE54D1B.range86-174.btcentralplus.com)
[12:42:37] <Skrylar> it requires an old python (2.6) and is hideously slow though; there's apparently a ruby rewrite now that runs fast
[12:42:49] <Skrylar> i should see if i can get rust highlighting to work in it
[12:45:00] *** Joins: Ferreus (ferreus@moz-C699A158.pools.arcor-ip.net)
[12:45:31] <Skrylar> ah, highlight.js supports rust apparently
[12:49:18] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[12:50:39] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[12:52:13] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[12:53:51] *** Quits: vodik (simon@moz-2DE54D1B.range86-174.btcentralplus.com) (Quit: WeeChat 0.4.3-dev)
[12:53:52] <bjz> Skrylar: ChrisMorgan is pushing a move to restructuredtext and sphinx - no pandoc in the equation
[12:56:27] <Skrylar> bjz: i was talking about my own preferences
[12:56:37] <Skrylar> i tried sphinx; have no interest in using it personally
[12:58:32] <Skrylar> i remember there being an awful lot of explicit tagging for things in sphinx, which seemed obtuse considering the amount of work required to make a language environment in it
[13:00:36] *** Joins: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr)
[13:00:37] <Skrylar> i wonder how painful a gap buffer or rope would be to put in Rust
[13:01:12] *** Quits: KindOne (KindOne@88AA47F8.7E8839F4.34F73994.IP) (Ping timeout)
[13:02:07] <eddyb> type Rope<'a> = ~[&'a str];
[13:04:42] <Skrylar> are there already vector functions to deal with all the layers of Sadness involved with maintaining ropes?
[13:05:12] <Skrylar> I guess one could use map to cut strings back down to proper lengths
[13:05:13] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[13:05:35] *** Joins: KindOne (KindOne@88AA47F8.7E8839F4.34F73994.IP)
[13:06:20] *** Joins: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP)
[13:06:29] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[13:06:58] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[13:06:59] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[13:09:58] <eddyb> Skrylar: if you wrap it in a type, you can implement any methods you want - and you can actually implement the string-related traits used in libstd to extend &str, ~str, etc.
[13:11:03] *** Joins: hacker_s_ (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net)
[13:11:06] <Skrylar> i might look at that some point
[13:11:16] *** Joins: taylanub (taylanub@5C1DD8D.A0C17C1E.EE6A91BF.IP)
[13:11:25] <Skrylar> gap buffers are pretty easyish structures, ropes are... weird
[13:11:28] *** Quits: hacker_sam (hacker_sam@moz-12AD9640.dsl.bngr.epix.net) (Ping timeout)
[13:11:43] <eddyb> I've never heard of gap buffers, ropes are straight-forward
[13:11:54] <Skrylar> i hated trying to write ropes in C
[13:11:58] <eddyb> LOL, C
[13:12:05] <Skrylar> mostly because i never got to it; writing the unicode support ate up all the time
[13:12:20] <eddyb> you can't do any kind of abstraction properly in C. that's why I liked C++ before Rust
[13:12:23] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[13:12:30] <Skrylar> i did learn a new sympathy for unicode engineers from trying to implement the spec
[13:12:48] <Skrylar> and the "fun" of having to keep a 2mb+ database around for full support
[13:13:29] <Skrylar> eddyb: a gap buffer is basically a big vector where you pick an insertion point X and split it in two
[13:13:47] <Skrylar> copy everything after X to the end of the buffer, now you have O(1) inserts until you run out of gap
[13:14:01] <Skrylar> its used by text editing softs (emacs uses it IIRC)
[13:14:01] <eddyb> hehe
[13:14:36] <eddyb> Skrylar: hmm
[13:14:56] <Skrylar> Writing text editing code sucks kthx
[13:16:28] *** Quits: dbaupp (Thunderbir@moz-CA54781.pa.nsw.optusnet.com.au) (Ping timeout)
[13:17:03] *** Joins: discomfitor (asdf@moz-975BC507.hsd1.ct.comcast.net)
[13:17:18] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:18:21] <Skrylar> eddyb: actually the conceptal parts of writing an outliner is easy; you can just represent it as a simple struct tree... though this often requires custom controls and thus text editing and ... well, yeah.
[13:18:40] <eddyb> the growable rust vectors have a length and a capacity, and they maintain the (insert word here. I really can't remember >_>) that `length` items are present and initialized etc.
[13:18:50] <Skrylar> i imagine shoving in a ~str consisting of one character every time you press a key would have really bad memory performane
[13:19:33] <eddyb> what you want is having disjoint ranges within that capacity which are "present"
[13:20:09] <eddyb> one other usecase for this is my crazy stack-abusing recursive cheap stringifying idea
[13:20:38] *** Joins: dbaupp (Thunderbir@moz-26647894.pa.nsw.optusnet.com.au)
[13:21:06] <eddyb> you go down the recursion, converting each piece to strings (a number could use a small buffer on the stack) and summing up the total length. at the deepest point of the recursion, allocate the space, then insert backwards as you go up
[13:22:55] <Skrylar> i'm mostly puzzled at the entry part
[13:23:16] <Skrylar> entering and deleting one grapheme at a time is where you spend most of the time in a text editing blob
[13:23:25] <dbaupp> eddyb: (word == "invariant")
[13:23:52] <eddyb> dbaupp: thank you :D. I think I actually had the first two letters but couldn't find the rest
[13:24:11] *** Joins: nrc (ncameron@moz-A76F1825.cable.virginm.net)
[13:24:39] <eddyb> Skrylar: I have a syntax highlighting library written in JS
[13:25:30] <Skrylar> ugh, pet peeve reading std::str docs
[13:25:36] <Skrylar> "appends a character to the back of a string"
[13:25:40] <Skrylar> aren't rust strings unicode?
[13:25:46] <eddyb> yes
[13:25:59] <Skrylar> i'm not sure how to file the PR for that
[13:26:02] <dbaupp> character == code point
[13:26:16] <Skrylar> Unicode is actually pretty specific about characters, code points and graphemes
[13:26:24] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Client exited)
[13:26:45] <eddyb> "char" is a code point, I think. hard to fix
[13:27:07] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[13:27:10] <Skrylar> i don't know much about rt at the moment
[13:27:23] <Skrylar> I have written a unicode library in C and been through the TRs for it, though
[13:27:51] <eddyb> Skrylar: 1.5 years ago, I managed to get forward state caching (so editing at the end of a ridiculously large file wasn't very expensive) - some chromium devs helped me figure out how to reuse the DOM properly - I haven't worked on it since, but it seems relevant to the discussion :P
[13:28:12] <Skrylar> eddyb: neat
[13:28:14] <dbaupp> eddyb: it wouldn't be super hard to make the compiler recognise `codepoint` as the replacement for char :P
[13:28:15] <Seldaek> Ke: sorry had to run, but yeah I see what you mean re busybox style thing, but well I'm not sure what that would imply in terms of work, and the minimal binary size thing isn't really rust's strength right now
[13:28:29] <eddyb> dbaupp: would make a lot of code ugly
[13:28:33] <Skrylar> dbaupp: that runs in to the need for documentation though
[13:28:56] <Skrylar> ideally the standard lib should be using what the TR names are, because otherwise people will be confused
[13:29:05] <Skrylar> but that then requires putting in the manual, those same terms
[13:29:07] <eddyb> Seldaek: it's mainly a match over argv[0] :P
[13:29:43] <Skrylar> I solved the problem with char/grapheme in my lib, but its clunky
[13:29:47] <Seldaek> eddyb: yeah I guess building a wrapper isn't so hard but i'm not sure there is much point in competing with busybox on binary size
[13:29:52] <Skrylar> you basically need a 30-byte struct 
[13:30:21] <Skrylar> or so
[13:30:53] <eddyb> Skrylar: I have JS code converting katepart syntax files (xml with a simple state-machine-like design) into other JS code performing the actual highlighting, using regexp and whatnot
[13:30:55] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[13:31:09] <Skrylar> not 30-byte; its more than that. I think I had 32 codepoints, because the stream-safe unicode specifies 30 combining marks, then the initial mark, so 31 integers is the closest to a single grapheme you can store in a fixed-size type like 'char'
[13:31:26] <Skrylar> eddyb: neat
[13:31:37] <eddyb> I needed it for my wIDE project (web IDE) but that's also been dead for a while
[13:32:05] <eddyb> if I were to do it in the future, I'd go for a hybrid Rust/ES6 combo using Servo
[13:32:35] <Skrylar> hrmm. no, almost had it
[13:32:46] <Skrylar> i saw the OwnedStr functions had the ability to push characters in a string
[13:33:11] <Skrylar> i thought it'd be possible to put a ~str in a rope, then point towards which rope entry was the caret position
[13:33:19] <Skrylar> but that would be two references and thats not allowed
[13:33:20] <eddyb> but now's not the time for nostalgia, I have to fiddle with AST mapping and rewrite part of the metadata reader. eww
[13:33:48] *** Joins: frider (Mibbit@A06BE1BD.26F22DA.89B662DE.IP)
[13:33:49] <Skrylar> could store the index of the caret string, but thats a lookup per keystroke
[13:34:01] <Skrylar> probably the best overall that can be done without serious voodoo
[13:34:17] <eddyb> Skrylar: you can borrow a &mut ~str from the rope - making the rope unusable while you hold that borrow
[13:34:25] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[13:34:56] <Skrylar> eddyb: true but now the rope, renderer and editor are constrained to the same task
[13:35:20] <eddyb> rope index + byte index couldn't be noticeably slower (one more indirect access)
[13:35:54] <Skrylar> if the rope is owned doesn't that make immutable references sendable?
[13:35:56] <eddyb> but, as I said, I should be focusing on other things, instead of trying to optimize something which I'm not working on
[13:36:02] <eddyb> Skrylar: nope
[13:36:06] <Skrylar> hrm
[13:36:12] <eddyb> at least AFAIK
[13:36:31] <Skrylar> i thought under 0.8, owned boxes were the only ones that were cross-task
[13:36:40] <eddyb> use master
[13:36:48] <eddyb> the point behind Send is that you can give up or share ownership
[13:36:49] <Skrylar> i am, but i'm not as doc-familiar with it
[13:36:52] *** Quits: peterdn (chatzilla@moz-933EC8C2.range86-174.btcentralplus.com) (Client exited)
[13:37:08] <eddyb> Arc is immutable + shared + sendable
[13:37:12] <Skrylar> i'll poke around the docs some more; i'd like ideally that the model/view/controller not be hard bound to the same task
[13:37:24] <eddyb> RWArc and ArcMutex are mutable + shared + sendable
[13:37:42] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[13:37:52] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[13:37:58] <eddyb> RWArc<T> is like Rc<RefCell<T>>, in that it allows multiple immutable borrows or one mutable borrow
[13:38:21] <eddyb> ArcMutex allows only one reader or one writer at any given time AFAIK
[13:40:26] <nrc> I want to build Rust but only do a single stage and specify an alternate stage 0 - is it possible in some easy way or am I going to have to hack the makefile?
[13:43:08] <Skrylar> nrc: if you already have a rust that is capable of building master, i *think* there is a --rust-root flag in ./configure that specifies to use that
[13:46:20] <nrc> Skrylar: thanks! And if I want to build just one stage, is there a flag for that?
[13:47:14] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:51:20] *** Quits: dbaupp (Thunderbir@moz-26647894.pa.nsw.optusnet.com.au) (Ping timeout)
[13:51:45] <eddyb> nrc: make rustc-stage1
[13:52:23] <nrc> ah, easy, thanks!
[13:52:45] <eddyb> nrc: about the alternate stage0 - if it's older than the current snapshot, you're going to have all sorts of nasty problems
[13:53:17] <eddyb> and if it's newer, you can still have problems if there's something going on which requires bootstrapping
[13:55:07] <nrc> the alternate will be a stage 2 from the 'current' build, it's just that I'm making changes which mean there is no output - I could probably just use the snapshot, but I want to try with my last build to make sure the whole thing works
[13:56:12] <eddyb> it won't always work
[13:56:59] <eddyb> nrc: there's conditional behavior added all over the place when something major is changed
[13:57:29] <eddyb> nrc: make tidy should list NOTE comments
[13:58:34] <eddyb> nrc: grep '// NOTE' -r src/lib*
[13:58:52] <eddyb> which gives me things like: src/librustc/lib.rs:// NOTE: remove after snapshot
[13:58:57] *** Quits: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se) (Quit: Leaving.)
[13:59:32] <nrc> hmm, fun. maybe I'll stick with the snapshot
[13:59:40] <nrc> eddyb: thanks for the help :-)
[13:59:59] <eddyb> as for rustc-stage1, that's what I always use when testing my changes on libsyntax/librustc
[14:00:49] <eddyb> there's also check-stage1, to test at that point
[14:12:54] *** Quits: sankha94 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[14:13:19] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[14:15:33] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[14:16:36] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[14:17:23] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:17:35] *** Parts: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Ex-Chat)
[14:18:16] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:20:50] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[14:28:48] *** Joins: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se)
[14:35:45] *** Quits: taylanub (taylanub@5C1DD8D.A0C17C1E.EE6A91BF.IP) (Input/output error)
[14:36:03] *** Joins: taylanub (taylanub@5C1DD8D.A0C17C1E.EE6A91BF.IP)
[14:36:11] *** Quits: andreypopp (andreypopp@moz-31BA715C.pools.arcor-ip.net) (Ping timeout)
[14:37:14] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[14:37:58] *** Quits: canhtak (canhtak@moz-1AC8943.wl.t.ulaval.ca) (Quit: canhtak)
[14:39:20] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Ping timeout)
[14:39:45] *** Quits: mixi (mixi@moz-DBD8904A.org) (Quit: WeeChat 0.4.2)
[14:40:11] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:41:55] *** Joins: mixi (mixi@moz-DBD8904A.org)
[14:45:48] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[14:47:03] <Skrylar> well i outlined this https://gist.github.com/Skrylar/8134638 i'll need to work on it more after napping though
[14:47:39] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:49:12] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[14:51:55] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:53:06] *** Quits: thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[14:55:25] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:58:09] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[14:58:20] *** Joins: derek_c (derek@49E80A41.D1E23AE0.75BEAC1C.IP)
[15:01:46] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:02:26] *** Joins: thiez (thiez@moz-BF669398.student.utwente.nl)
[15:05:39] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:07:25] *** Joins: skade (skade@moz-A6601A7F.dip0.t-ipconnect.de)
[15:07:27] *** Quits: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se) (Quit: Leaving.)
[15:08:10] *** Quits: derek_c (derek@49E80A41.D1E23AE0.75BEAC1C.IP) (Ping timeout)
[15:08:39] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[15:09:24] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:10:51] <eddyb> Skrylar: non-ADT Rust enums can be made C-compatible, FWIW
[15:11:04] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:11:41] *** Quits: frider (Mibbit@A06BE1BD.26F22DA.89B662DE.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:12:04] *** Quits: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[15:12:54] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[15:14:20] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:15:28] <Skrylar> eddyb: isn't that the #[repr(C)} thing?
[15:15:39] <eddyb> yes
[15:16:09] <Skrylar> i've just been binding them as statics
[15:16:27] <eddyb> also #[repr(u16)] (for any of the unsigned integer types. maybe also signed)
[15:17:01] <eddyb> Skrylar: that's useful when you're dealing with bit flags, otherwise it's nicer to use an enum
[15:17:56] <Skrylar> i wrote a note to mention those in the doc later
[15:18:31] <Skrylar> i know there's a tutorial on the site already, but writing one based on the experience of binding a non-trivial lib seems more useful to toher people IMHO
[15:19:17] <Skrylar> i don't think the one up on the site mentions repr or using transmute to deal with unions
[15:20:13] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:23:57] *** Joins: derek_c (derek@959B440E.B09DFE73.7E5576EA.IP)
[15:24:24] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:27:01] <Skrylar> eddyb: apparently leaving expect off of Result is on purpose, or so says the PR from the other night
[15:27:34] <Skrylar> AlexCrichton is saying unwrap should toss the error object itself, and apparently did before someone took it back out
[15:27:58] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:28:16] <eddyb> I know they removed a ToStr bound, which makes sense - but Send... that should be okay :/
[15:29:43] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:30:41] <Skrylar> he's apparently against it just because "well result returns Err, so there's no need for a function that takes a str as the error"
[15:31:11] <Skrylar> i sorta disagree, because you might not care what the error is (only that one happened)
[15:31:23] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:32:24] <eddyb> Skrylar: then replace the string with something fail!-able. I'm not sure though
[15:33:06] <Skrylar> https://github.com/mozilla/rust/pull/11140 my guess is its going to fail, but i'm not too heavily attached to it
[15:33:22] <Skrylar> it might make sense for expect to be a trait to itself, or maybe part of some assertion trait
[15:33:51] <Skrylar> thinking about how rspec has ".assertFalse()" and that family
[15:34:00] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:34:41] <Skrylar> actually thinking about it, it would be pretty easy to make a rustspec wouldn't it
[15:35:44] <Skrylar> do it.should("explode horribly") { ... }
[15:37:25] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:40:00] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:40:25] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:42:06] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:42:13] <eddyb> Skrylar: do doesn't work with closures anymore
[15:42:20] *** Quits: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr) (Quit: pyrac)
[15:42:46] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:43:26] <Skrylar> hrm.
[15:43:40] <Skrylar> well it can still be it.should("something", lambda)
[15:43:41] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[15:43:59] <Skrylar> I think thats how node.js versions do it
[15:44:56] *** Joins: mib_wfwtx4 (Mibbit@moz-F5ACFEA8.hsd1.ca.comcast.net)
[15:47:27] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:49:07] <Skrylar> huh, neat
[15:49:28] <Skrylar> i think extra::enum_set lets you do typesafe bit fields with enums
[15:50:19] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[15:50:41] <Skrylar> ah, no. not strictly
[15:50:43] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:52:35] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[15:52:40] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Connection reset by peer)
[15:52:45] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[15:55:56] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[15:57:44] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:01:08] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:03:36] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[16:07:05] * Skrylar passes out
[16:07:06] *** Quits: Skrylar (Skrylar@moz-F692F728.austin.res.rr.com) (Quit: leaving)
[16:09:04] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:12:35] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:13:33] *** Quits: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) (Connection reset by peer)
[16:14:15] *** Quits: skade (skade@moz-A6601A7F.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:15:08] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[16:15:38] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[16:15:51] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[16:16:36] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:17:00] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:18:46] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:19:24] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:19:29] *** Joins: gwty (gwtypc@9765A544.E5EF4F0B.27560D6E.IP)
[16:20:28] *** Quits: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Ping timeout)
[16:21:07] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:23:15] *** Joins: eliovir (Mibbit@moz-E11E248B.w92-144.abo.wanadoo.fr)
[16:24:39] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:25:07] <eliovir> Hi!
[16:26:26] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:28:05] *** Joins: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[16:28:07] <eliovir> I'm learning Rust. Is someone interested to review my code? Without doubt, pointers are misused, code is not rust-ic, ... For example, I wrote https://github.com/eliovir/rust-examples/blob/master/inifile.rs. Thanks
[16:28:26] <eliovir> https://github.com/eliovir/rust-examples/blob/master/inifile.rs
[16:29:47] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:30:08] *** Quits: Kxepal (Miranda@moz-2DC4375A.pppoe.mtu-net.ru) (Ping timeout)
[16:30:26] *** Quits: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Quit: )
[16:30:28] *** Joins: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[16:31:29] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:33:32] *** Joins: Kxepal (Miranda@moz-B5D86A4D.pppoe.mtu-net.ru)
[16:34:59] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:36:46] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:40:10] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:40:12] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[16:40:57] *** Quits: mib_wfwtx4 (Mibbit@moz-F5ACFEA8.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:41:00] *** Joins: mallocat (Mibbit@moz-2F6F1A4E.members.linode.com)
[16:42:12] <SiegeLord> jack: I was told you managed to use CMake for building rust crates. How did you deal with --dep-info?
[16:43:08] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[16:43:45] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:44:13] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:44:31] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Quit: Leaving)
[16:47:38] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:47:52] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[16:49:14] *** Joins: skade (skade@moz-A6601A7F.dip0.t-ipconnect.de)
[16:49:15] *** Quits: derek_c (derek@959B440E.B09DFE73.7E5576EA.IP) (Ping timeout)
[16:50:56] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[16:51:01] *** Joins: eagen (eagen@8737942B.7A99C13A.B7961A98.IP)
[16:51:01] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Quit: eagen)
[16:52:36] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:52:49] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[16:54:28] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[16:54:32] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[16:57:29] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[16:58:25] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[16:58:35] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:00:39] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[17:02:48] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:03:20] *** zz_kimundi is now known as kimundi
[17:04:05] *** Joins: derek_c (derek@28DF8D26.B09DFE73.7E5576EA.IP)
[17:04:08] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Quit: Ex-Chat)
[17:04:50] *** Joins: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se)
[17:05:11] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[17:06:14] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:07:59] *** Quits: mallocat (Mibbit@moz-2F6F1A4E.members.linode.com) (Quit: http://www.mibbit.com ajax IRC Client)
[17:08:01] <eddyb> eliovir: https://github.com/eliovir/rust-examples/blob/master/inifile.rs#L309 you could put "use super::IniFile;" in mod tests
[17:08:41] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[17:08:50] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:09:48] <eddyb> nits: 8-space indent can be harder to read, missing spaces around operators (=, ==), there shouldn't be a space before ":"
[17:10:44] <eddyb> there's a lot of cloning going on
[17:11:25] <eddyb> arguments to methods should be &str if there's no special reason to require ownership
[17:12:06] <eddyb> eliovir: things like this can be very expensive https://github.com/eliovir/rust-examples/blob/master/inifile.rs#L237
[17:12:17] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:12:24] <eddyb> lowerCamelCase is not rusty https://github.com/eliovir/rust-examples/blob/master/inifile.rs#L258
[17:15:06] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[17:15:08] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:15:44] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:18:55] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:18:57] *** Joins: awidegreen (awidegreen@moz-947695F6.dip0.t-ipconnect.de)
[17:22:13] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:22:17] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[17:22:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[17:22:51] <eliovir> eddyb: thanks for your remarks. I'll change that.
[17:23:30] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Quit: Leaving...)
[17:23:31] <eddyb> eliovir: it might need to be redesigned to not waste memory
[17:23:55] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:23:57] <eliovir> eddyb: all ideas are welcome;)
[17:27:25] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:27:59] <eddyb> eliovir: you might want to use HashMap<~str, (uint, HashMap<~str, uint>)> to get indexes into a ~[(/*section name*/~str, /*values*/~[~str])] vector. but that doesn't cover everything
[17:29:07] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:30:04] *** Quits: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se) (Quit: Leaving.)
[17:31:22] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[17:31:45] <eliovir> eddyb: that's an idea!
[17:31:58] *** Joins: ziad (ziad@moz-7E16C9E5.snfc.ca.megapath.net)
[17:32:08] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[17:32:14] <eddyb> eliovir: ideally you want 1 instance of each string
[17:32:21] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:32:32] <eliovir> eddyb: yes, you're right.
[17:32:53] <eliovir> eddyb: no clone.
[17:33:04] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[17:34:00] <eddyb> eliovir: certain functions which return ~something right now, could return &'a something, with &'a self (not sure if you've played with lifetimes yet)
[17:35:15] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:35:41] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:35:59] *** Quits: thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[17:37:07] <eliovir> eddyb: I did not play with such feature
[17:37:22] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:38:24] <eddyb> pub fn get<'a>(&'a self, section: &str, option: &str) -> &'a str { self.opts.get(section).get(option) }
[17:38:39] <eddyb> eliovir: ^^ that's kinda how it would look. 0 copies
[17:38:55] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[17:39:08] <eddyb> you may want that to be Option<&'a str> so you can return None when the option isn't present
[17:40:16] *** Joins: thiez (thiez@moz-BF669398.student.utwente.nl)
[17:41:13] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:41:19] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[17:43:02] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:43:24] <eliovir> eddyb: nice!
[17:43:46] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:43:52] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:43:52] <eliovir> I've seen that Option<> somewhere, but did not keep it in mind.
[17:46:25] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:47:10] *** Quits: awidegreen (awidegreen@moz-947695F6.dip0.t-ipconnect.de) (Ping timeout)
[17:47:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[17:50:35] <eddyb> eliovir: Option<T> can be either Some(T) or None. Option<~T> and Option<&T> are nullable pointers semantically (and optimized as such)
[17:52:44] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[17:54:15] <nrc> So, aiui if I am building stage 1, stage 0 should not be changed (it should be just the snapshot) and only stage 0 should be used to compile. But as stage 1 is compiled the new code is being used to compile later crates.
[17:54:28] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[17:54:38] <nrc> Do I misunderstand how the stages are meant to work, or is something going wrong here?
[17:55:03] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[17:55:22] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[17:55:36] <nrc> Seems that the libs in stage 0 are being updated with generated libs that are meant to be stage 1
[17:55:47] <eliovir> eddyb: thanks for the explaination.
[17:56:18] <eddyb> nrc: the build log is a bit confusing
[17:56:36] <kimundi> nrc the satges are kinda confusing, because "library" and "compiler using that library" are off-by-1 of each other
[17:57:29] <strcat> nrc: the libraries used for the compiler *to run* and to build applications are separate
[17:57:37] <eddyb> nrc: everything before librustc is built is used to link stage1 rustc. std&extra are built afterwards to be used by stage1 rustc when compiling other executables
[17:57:41] <strcat> the stage0 generated libs it builds are the ones used to build applications
[17:57:45] <kimundi> it starts with a downloaded snapshot compiler + libraries, which are then used to build the stage0 libraries and compiler, which are used to build the stage1 libraries and compiler etc
[17:57:59] <eddyb> strcat: ohai. haven't seen you around. I think. (late) merry xmas :P
[17:58:31] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[18:00:01] <nrc> hmm, can I stop it using the stage 1 librustc to build the stage 0 libs?
[18:00:28] <nrc> because the librustc I am building (stage 1) is deliberately not producing object code
[18:00:29] <eddyb> it's not doing that
[18:00:48] <kimundi> I once successfully copied a finished stage2 build over the stage0 artifacts to simulate a new snapshot :P
[18:00:55] <nrc> ah, it is building stage 1 libs using stage 1 librustc?
[18:01:03] <eddyb> nrc: yes
[18:01:27] <nrc> right, so all I need to do is not build those libs, I guess
[18:01:34] <eddyb> why?
[18:01:54] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[18:01:56] <eddyb> nrc: are you doing something that doesn't require std/extra?
[18:02:31] <nrc> oh, I guess it will need those. I was hoping I could resue the stage 0 libs, but I bet that won't work
[18:02:40] <eddyb> nope. incompatible
[18:02:43] <nrc> sigh, I thought this would be the easy bit :-p
[18:02:52] *** Quits: jaen (jaen@moz-8C082264.play-internet.pl) (Ping timeout)
[18:03:00] <nrc> I guess I have to churn out object files as well as my other output
[18:03:03] <eddyb> nrc: you can actually just build stage0 std and extra and use the snapshot compiler :P
[18:03:33] <SiegeLord> Man, --dep-info really wants the full compillation to go through
[18:03:42] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[18:04:07] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:04:13] <eddyb> nrc: if you really want to cut down on compilation time. but you'll be behind master by a few days to two weeks at times
[18:04:42] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[18:04:44] <kimundi> nrc: What exactly do you want to do?
[18:04:49] <nrc> hmm, that might work
[18:05:31] <eddyb> I mean, it's cheap to build std/extra - rustc is the big pain
[18:05:35] *** Joins: dcrewi (david@moz-AB8667CE.gyrae.net)
[18:06:08] <nrc> kimundi: I want to run an extra phase after the phase 3 analysis stuff instead of the phase 4 translation to llvm. But I think I can just run my phase as well
[18:06:52] <eddyb> sounds fancy. what for?
[18:07:07] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[18:07:45] <nrc> a Rust dxr plugin
[18:08:17] <nrc> and maybe other static analysis in the long run
[18:08:51] <eddyb> nrc: this dxr? https://github.com/mozilla/dxr
[18:08:55] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[18:09:28] <nrc> yes
[18:09:44] <eddyb> nrc: sounds like it could be helpful to the servo guys - I've seen someone with *xr links in #servo before
[18:10:12] <eddyb> (but it looked worse than github's simple highlighting)
[18:10:18] <taylanub> Can I ask an employment related question here ?
[18:10:40] <nrc> yeah, having a good cross reference tool is really useful. And dxr is excellent with C++
[18:11:32] <nrc> at the moment dxr only does syntax highlighting for Rust (and links to github issues) and there isn't a server setup. Having the proper analysis would be 100x better
[18:11:54] <achin> is there any public exmaples of wfhat dxr looks like?
[18:11:58] <nrc> plus it is a nice way to learn the compiler code
[18:12:08] <nrc> achin: what do you mean 'looks like'
[18:12:19] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[18:12:32] <achin> i assume that is comes with some GUI to explore the code
[18:12:45] <achin> i'm curious about what it looks like
[18:12:56] <nrc> achin: http://dxr.mozilla.org/
[18:13:01] <nrc> is the index of Firefox
[18:13:17] <nrc> I don't know of any public instances of any other code
[18:13:19] <achin> cool, thanks!
[18:13:23] * achin bookmarks
[18:13:52] <nrc> I have done a local pass on Rust and I think jcranmer has one for Clang/llvm. It has been used for other things too, but I don't know what
[18:14:24] <strcat> no regexp :(
[18:14:34] <nrc> there is regexp
[18:14:54] <eddyb> > It supports full-text and regex searches as well as structural queries like "Find all the callers of this function."
[18:15:06] <strcat> ah nvm ;p
[18:15:16] <nrc> I can't rememer the syntax though :-p
[18:15:31] <strcat> yeah that's why I thought it didn't have it
[18:16:00] <taylanub> I'll just ask then: are there full-time Rust jobs that don't require expert-level employment history and/or a CS degree ?  Thinking of applying for a job but my employment history is just 2 years of iOS app development and otherwise I'm a hobbyist computer-scientist thus have no frame of reference to weight my skills (but am for instance an R7RS contributor...)
[18:16:02] <eddyb> did pcwalton get his @mut removal through? I'm not seeing it in #rust-internals anymore
[18:17:25] <eddyb> taylanub: before 1.0? I only know of Mozilla paying someone to work on a rust codebase (Rust itself and Servo)
[18:17:41] <nrc> taylanub: job listings are at https://careers.mozilla.org/en-US/listings/, you probably need to talk to one of the hr or management folks who are all on holiday right now
[18:17:44] <eddyb> though there was this other story about a company using Rust in production
[18:17:53] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[18:17:59] <benh> eddyb: http://buildbot.rust-lang.org/bors/bors.html https://github.com/mozilla/rust/pull/11058 looks like "no"
[18:18:40] <eddyb> benh: the question now is "who's gonna pay the price of a rebase"
[18:18:56] <eddyb> almost everything I touch has @mut around it somewhere, it's scary
[18:19:16] <nrc> taylanub: (I know we (Mozilla) have some excellent programmers without degrees working on Firefox, not sure about how they got hired though)
[18:19:31] <taylanub> eddyb: Well there's Rust jobs in the job listings, it's just that the one's I've seen required a CS degree...
[18:20:00] <eddyb> taylanub: this one? https://careers.mozilla.org/en-US/position/oMiEXfwp
[18:20:08] <taylanub> nrc: OK, I'll see if I can later get in contact with any HR people then .. though my guess is that exactly those people would just weed me out for not having a degree. :P
[18:20:40] <taylanub> eddyb: Yes, for example, not sure if there were more.
[18:20:45] *** Quits: hacker_s_ (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net) (Ping timeout)
[18:20:53] <eddyb> can't find any others
[18:20:58] <nrc> taylanub: everything is negotiable, but I think you need something else which is pretty good to haggle with
[18:21:17] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[18:21:28] *** Joins: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net)
[18:21:45] <eddyb> nrc: how about "systems programming since 12"?
[18:21:45] *** Quits: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net) (Connection reset by peer)
[18:21:50] *** Joins: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net)
[18:22:34] <nrc> yeah, that kind of thing :-)
[18:22:52] *** Quits: skade (skade@moz-A6601A7F.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:23:04] * eddyb lets a hint of an evil smile get out
[18:23:14] <nrc> oh good, build is working now
[18:23:19] <nrc> thanks for the help all
[18:23:21] *** Quits: derek_c (derek@28DF8D26.B09DFE73.7E5576EA.IP) (Ping timeout)
[18:24:07] <eddyb> none of these sound Rusty https://careers.mozilla.org/en-US/listings/?position_type=Intern - any ideas if/when the list will be updated?
[18:24:31] <eddyb> wait, Rust & Servo are mentioned here https://careers.mozilla.org/en-US/position/oZO7XfwB
[18:24:56] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[18:25:29] <strcat> eddyb: mozilla interns are required to be university students, afaik it's not negotiable (as the requirements for a job opening would be)
[18:25:45] <eddyb> "outstanding PhD (or motivated MS)" - ouch. oh, and there's only 5 days left
[18:25:48] <eddyb> strcat: yeah, I see that now
[18:26:05] <samx> most of the best programmers i know don't have degrees or have gotten one very late.. most who have degreed tend to fall into the "i program java only in a big corp" category
[18:26:05] * o11c is highly announed by the requirement of a university degree, it's not like it means they *know* anything
[18:26:17] <eliovir> Bye! Thanks eddyb  for the code review, I'll come back;)
[18:26:20] <taylanub> Ah, was about to ask, thanks for clarifying strcat.  (Hi there BTW.)
[18:26:53] *** Quits: eliovir (Mibbit@moz-E11E248B.w92-144.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:27:04] <o11c> if I weren't only one semester from graduating, I would stop throwing my money away
[18:27:23] <eddyb> well, it's not like Mozilla is my last hope, we'll see how things pan out
[18:28:13] *** Quits: zq (p@moz-4C4640FD.com) (Ping timeout)
[18:28:53] *** Joins: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP)
[18:29:02] *** Joins: zq (p@moz-4C4640FD.com)
[18:29:46] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:29:46] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:30:01] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[18:30:09] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[18:31:44] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[18:38:03] *** Joins: derek_c (derek@2A44B8F0.B09DFE73.7E5576EA.IP)
[18:39:54] <Edwards> Is there a method in Rust to embed data files in libraries or executables? Similar to http://www.linuxjournal.com/content/embedding-file-executable-aka-hello-world-version-5967
[18:40:05] *** Quits: derek_c (derek@2A44B8F0.B09DFE73.7E5576EA.IP) (Quit: Leaving)
[18:41:02] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[18:41:10] <SiegeLord> Yes, include_bin!
[18:41:33] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[18:41:57] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[18:42:12] *** vfetwnuncszu is now known as dcrewi
[18:42:29] <Edwards> Oh, nice
[18:42:36] <Edwards> SiegeLord: Thanks
[18:49:22] *** Quits: gkostyanikov (gkostyanik@9D25D28F.EF9FA30D.CA6E2165.IP) (Ping timeout)
[18:49:26] <Edwards> And Rust doesn't have default or named arguments yet, correct?
[18:49:28] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:49:33] <Ms2ger> Correct
[18:49:34] <kimundi> Edwards: correct
[18:49:39] <Edwards> Bummer.
[18:49:51] <FreeFull> You might be able to approximate those with traits
[18:49:54] *** Quits: ziad (ziad@moz-7E16C9E5.snfc.ca.megapath.net) (Quit: ziad)
[18:51:22] *** Joins: beifeng (Mibbit@AF9A1BDC.7A85645C.C7DB8B78.IP)
[18:51:39] *** Quits: noy (user@moz-44A5916A.a146.priv.bahnhof.se) (Client exited)
[18:53:24] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:54:45] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[18:54:46] <eddyb> Edwards: or with structures, though it's explicit
[18:55:01] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[18:55:07] <Edwards> eddyb: Yeah, I'll probably use a struct for now, the inputs are simple enough.
[18:55:13] <eddyb> Foo {a: a, ..Foo::default()}
[18:56:03] <eddyb> all fields other than "a" are taken from Foo::default() (or it could be a static value instead of a static method)
[18:56:06] <Edwards> (I'm basically building a Rust equivalent of boost::program_options)
[18:56:21] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[18:57:27] <Edwards> Oh yeah, there it is. http://stackoverflow.com/a/19653453/53315
[18:57:33] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[18:58:31] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:58:31] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[18:58:31] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[18:59:00] *** Joins: ziad (ziad@moz-7E16C9E5.snfc.ca.megapath.net)
[18:59:01] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[19:01:23] <Edwards> BTW, as a suggestion, if/when default and named args are implemented, it'd be neat to model #[deriving[Clone)] after Scala's copy() method on case classes: http://adamwojtuniak.wordpress.com/tag/case-class-copy-method/
[19:01:51] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[19:03:40] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:05:58] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[19:06:35] *** Quits: ziad (ziad@moz-7E16C9E5.snfc.ca.megapath.net) (Quit: ziad)
[19:09:26] *** Quits: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Ping timeout)
[19:09:27] *** Joins: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[19:09:32] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[19:09:56] <SiegeLord> Looks like I can move --dep-info generation as early as pre-stage 3
[19:10:02] <SiegeLord> *phase 3
[19:10:19] <SiegeLord> Too bad there's no option to stop at phase 2...
[19:14:30] <eddyb> SiegeLord: after or before?
[19:14:41] <SiegeLord> After
[19:15:01] <eddyb> I thought there was a flag "stop_after_phase_2" or something like that
[19:15:27] <SiegeLord> There's stop_after_phase_3, 1, and 5
[19:15:54] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[19:16:33] <SiegeLord> Which is --no-trans, --parse-only and something else...
[19:16:44] <HollyRain> when v0.9 is going to be released before of finish the year or at the beginning of the next one?
[19:16:51] <SiegeLord> Next year
[19:21:21] *** Quits: Ms2ger (Ms2ger@moz-E0B31B23.ugent.be) (Quit: nn)
[19:24:32] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[19:25:56] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:27:34] <nrc> say I have a fn which takes a borrowed pointer arg. I want to have a struct with lifetime limited to the fn and for it to keep an alias to the borrowed pointer arg. Is it possible?
[19:28:18] <o11c> nrc: sure, just add a lifetime parameter to the struct
[19:28:43] <nrc> what is the syntax for instantiating the struct then?
[19:29:40] <samx> yay, got my rust/opengl program to finally compile and run without crashing.. ..and it's drawing a black screen!
[19:29:43] <nrc> and if I have a lifetime-parametric struct, what is the syntax for an impl for it?
[19:29:57] *** Joins: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP)
[19:29:58] *** ChanServ sets mode: +ao brson brson
[19:30:22] <o11c> samx: glClearColor !
[19:31:02] <samx> o11c: well, i know it's doing something.. if i change the shader to output white, it draws a white screen :-).. though, it should also be drawing a textured cube
[19:31:37] *** Quits: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (Quit: bye, bye)
[19:31:51] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:32:12] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[19:34:58] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[19:35:09] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:36:51] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[19:37:41] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[19:37:49] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:38:22] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:41:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:43:28] <glaebhoerl> nrc: the syntax for instantiating doesn't change (the lifetime is inferred, as type parameters also are). the impl would be `impl<'a> MyStruct<'a> { ... }`
[19:43:57] <nrc> thanks glaebhoerl!
[19:44:36] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:46:03] <glaebhoerl> yw :)
[19:46:16] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:47:26] *** Quits: beifeng (Mibbit@AF9A1BDC.7A85645C.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:49:18] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[19:49:49] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:52:56] <Edwards> Is it possible to create an impl for a type alias?
[19:53:10] <Edwards> type A = B; impl A { }
[19:53:25] *** Joins: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com)
[19:53:45] <Edwards> Or would I need to define a new trait and impl it for A?
[19:53:54] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:54:08] <ziad> pcwalton: ping
[19:54:13] <pcwalton> ziad: pong
[19:54:18] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[19:54:25] <ziad> Someone posted this on the IRC channel last evening: https://gist.github.com/brianheylin/8128089
[19:54:30] <ziad> it looks like a bug?
[19:54:34] <glaebhoerl> Edwards: is it implied that A and B are in different crates?
[19:54:36] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[19:54:44] <ziad> pcwalton: shouldn't the second case be a syntax error?
[19:55:24] <pcwalton> no. it's a destructuring assignment in the pattern match.
[19:55:27] <glaebhoerl> Edwards: (and do you mean `impl` or `impl for`?)
[19:56:04] <ziad> pcwalton: so effectively, it gets passed by value
[19:56:04] <Edwards> glaebhoer1 Yes, B is in std. And I mean impl.
[19:56:13] <pcwalton> yes
[19:56:17] <Edwards> Actually, now that I think about it more, I realize why this probably doesn't make sense.
[19:56:24] <ziad> pcwalton: thanks
[19:56:43] <Edwards> I'm still trying to wrench my brain out of OO mode. :)
[19:56:53] *** Quits: santiago (santiago@moz-F2B734D2.c3-0.sbo-ubr1.sbo.ma.cable.rcn.com) (Ping timeout)
[19:57:06] <Edwards> Separating type from data is difficult.
[19:57:28] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:58:08] <bheylin> ziad: i posted that
[19:58:17] <ziad> bheylin: yep, I know :)
[19:58:28] <ziad> bheylin: but you didn't get an answer
[19:58:38] <bheylin> ziad: just read it :)
[19:58:47] <ziad> bheylin now you did! :)
[19:58:49] <ziad> yep
[19:58:49] <bheylin> I got an answer earlier today
[19:58:52] <ziad> oh
[19:58:54] <bheylin> but was busy most of the day
[19:59:10] <ziad> okay, do you remember who replied? 
[19:59:16] <bheylin> lemme see
[19:59:37] *** Quits: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP) (Ping timeout)
[19:59:59] <ziad> bheylin: Yurume did
[20:00:06] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:00:07] <bheylin> there ya go
[20:00:08] <ziad> (looked up the chat longs)
[20:00:10] <ziad> logs*
[20:00:15] <eddyb> Edwards: you can't impl on type aliases, they're just aliases
[20:00:43] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:01:00] <bheylin> ziad: what's up, you think it should be an error?
[20:01:03] <eddyb> Edwards: but you can impl a trait on B (and on A, at the same time. this makes sense with type A = B<Foo>;)
[20:01:25] <eddyb> Edwards: err. I meant "on A (and on B, ...."
[20:01:32] <ziad> bheylin: I guess I didn't understand the semantics of what's going on. But after the explanation here I guess it makes sense
[20:01:35] *** Joins: santiago (santiago@moz-F2B734D2.c3-0.sbo-ubr1.sbo.ma.cable.rcn.com)
[20:01:47] <ziad> I thought it was passing a reference to a reference 
[20:01:52] <Edwards> eddyb: Alright, that makes sense.
[20:01:57] <strcat> Edwards: type and data aren't separate in rust
[20:01:58] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[20:02:04] <bheylin> ziad:yea it's one of those "easy to understand once you know" things
[20:02:08] <strcat> the only OO thing you need to forget is class inheritance
[20:02:13] <ziad> indeed
[20:02:36] <bheylin> ziad:  you could argue that destructuring should be more explicit
[20:02:46] <ziad> yeah, I suppose
[20:03:40] <bheylin> ziad:  what I was wondering is, can you tag methods so that it will warn you
[20:04:03] <bheylin> ziad:  such as #[no_heap] #[no_copies] etc
[20:04:03] <ziad> bheylin: like with a #[] construct?
[20:04:05] <ziad> ah
[20:04:09] <bheylin> like you can do on a crate level
[20:04:15] <ziad> that would be nice
[20:04:23] <strcat> bheylin: yes, lints work on any item
[20:04:30] <strcat> but... there is no fool-proof heap allocation lint
[20:04:40] <strcat> the lints just prevent you from using unique pointers/vectors
[20:04:46] <bheylin> strcat: ah good to know
[20:04:47] *** kimundi is now known as zz_kimundi
[20:04:47] <strcat> you can still call a function using them
[20:05:15] <strcat> so.... they're useless without #[no_std] + at crate level
[20:05:19] <bheylin> strcat: so any item listed in `rustc -W help` can also be applied to a function?
[20:05:24] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:05:29] <strcat> bheylin: or method, or struct, etc.
[20:05:48] <strcat> you can #[allow(dead_code)] on a specific enum
[20:06:00] <strcat> rust just applies it to that AST tree
[20:06:08] <bheylin> strcat: ah true I have seen that in passing
[20:06:28] *** Quits: gazoombo (sid6629@moz-E77DEB21.irccloud.com) (Ping timeout)
[20:06:28] *** Quits: tomdale (sid5518@moz-31ABA2C0.irccloud.com) (Ping timeout)
[20:06:28] *** Quits: davidillsley (sid18481@moz-5F4AA75A.irccloud.com) (Ping timeout)
[20:06:28] *** Quits: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[20:06:28] *** Quits: wilfred (sid159@moz-5F4AA75A.irccloud.com) (Ping timeout)
[20:06:28] *** Quits: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com) (Ping timeout)
[20:06:41] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[20:06:42] *** Joins: gazoombo (sid6629@moz-E77DEB21.irccloud.com)
[20:07:02] *** Joins: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com)
[20:07:36] <bheylin> strcat: I read in the master tutorial that in some cases tail-call optimization could be applied by LLVM
[20:07:39] *** Joins: tomdale (sid5518@moz-31ABA2C0.irccloud.com)
[20:07:39] *** Joins: davidillsley (sid18481@moz-5F4AA75A.irccloud.com)
[20:07:39] *** Joins: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com)
[20:07:39] *** Joins: wilfred (sid159@moz-5F4AA75A.irccloud.com)
[20:07:51] <bheylin> strcat: section 9.3
[20:08:29] <bheylin> strcat: is it possible to add a tag that asserts it it does not get applied?
[20:08:42] *** Quits: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Connection reset by peer)
[20:08:45] *** Joins: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[20:08:48] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[20:08:53] <bheylin> strcat: it's unclear to me under what conditions tail-call opt is appied by LLVM
[20:09:04] <strcat> bheylin: no, can't tag it
[20:09:14] <strcat> LLVM doesn't support warnings done by the optimization pipeline atm
[20:09:19] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:09:31] <strcat> and you'd be hard pressed to convince them to add something like that
[20:09:39] <eddyb> this must be one of those new additions to borrowck errors: note: ...so that expression is assignable (expected `middle::borrowck::move_data::MoveKind<>` but found `middle::borrowck::move_data::MoveKind<>`)
[20:09:58] <bheylin> strcat: ah well it's a pity
[20:10:02] <strcat> bheylin: just look at the IR if you want to know, but be aware that the ABI can matter
[20:10:15] *** Quits: blank_na1e (blank_name@78B04CD2.66204B68.6D228269.IP) (Quit: leaving)
[20:11:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:11:07] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[20:11:14] <strcat> for example.... a function returning a struct by-pointer (with clang, larger than 2 words on x86_64, with rustc, it's less well implemented) makes a function not count as tail recursive
[20:11:26] <strcat> at least on x86
[20:11:31] <strcat> elsewhere, maybe sret doesn't do that
[20:11:47] <strcat> and if it can make the function internal it might be able to do it...
[20:12:21] *** Joins: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP)
[20:12:37] <strcat> bheylin: mostly, if it's actually tail recursive (be aware of dtors) and is a sibling call (same ABI) it will optimize
[20:14:31] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:15:04] <bheylin> strcat: what is the deal with internal functions being used for inlining and tail opt
[20:15:24] <strcat> bheylin: because LLVM can't change the ABI of an external function
[20:15:33] <bheylin> strcat: I say a comment say where in the source recently along the lines of "making function internal so that it inlines properly"
[20:15:42] <carter> has anyone done a blas binding for rust yet?
[20:15:50] <strcat> bheylin: well that seems odd
[20:16:04] <strcat> bheylin: if a function is internal and has a single usage, it gets inlined regardless of the function's size cost
[20:16:11] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:16:25] *** Joins: lessless (lessless@moz-ABC6DDB3.volia.net)
[20:16:33] <strcat> in general inlining is just an iterative process where it counts the cost of the instructions and then inlines it at all calling locations if it's below the threshold
[20:16:47] <strcat> so it bubbles up
[20:16:51] <lessless> hi folks, when do you think rust api will be stabilized? 
[20:16:58] <bheylin> strcat: file: str.rs:2325     fn char_range_at(&self, i: uint) -> CharRange {
[20:17:09] <strcat> lessless: the library API? it won't, at least not any time soon
[20:17:33] <strcat> bheylin: is it single usage + pretty large? (large might mean it calls several small functions that get inlined into it)
[20:18:06] <bheylin> strcat: ok so in this case the writer is trying to side step the cost metric?
[20:18:16] <strcat> bheylin: seems so
[20:18:51] *** Joins: nif (nif@moz-B62DC54B.woh.res.rr.com)
[20:19:06] <bheylin> strcat: and #[inline(always)] does not force an inline once the cost threshold is crossed?
[20:19:19] <strcat> bheylin: inline(always) forces an inline
[20:19:22] <strcat> even without optimizations on
[20:19:39] <FreeFull> Does it error when an inline isn't possible?
[20:19:47] *** Joins: jviereck (Adium@moz-478E2D0F.dip0.t-ipconnect.de)
[20:20:03] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:20:47] *** Quits: santiago (santiago@moz-F2B734D2.c3-0.sbo-ubr1.sbo.ma.cable.rcn.com) (Quit: Computer has gone to sleep.)
[20:20:49] *** Joins: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP)
[20:20:57] <strcat> FreeFull: unlikely
[20:20:58] *** Joins: bobthenameless (bobthename@moz-6069EE20.dhcp.leds.al.charter.com)
[20:21:21] <strcat> although it's easy enough to know when it can't
[20:21:32] <strcat> if you aren't using function pointers or recursion, it will always inline
[20:21:42] <strcat> if you are, it may or may not
[20:21:44] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:21:47] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[20:21:56] <strcat> afaik there's not a way to make it error out
[20:23:00] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[20:23:19] <strcat> bheylin: #[inline] also gets turned into an inline hint, raising the threshold
[20:23:49] <strcat> neither of these is really a good thing to use outside of edge cases.... but it's the only way to get cross-crate inlining without LTO so they are widely used in rust
[20:24:53] <bheylin> strcat: and LTO is relatively a recent impl?
[20:25:13] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:25:28] <bheylin> strcat: I've seen a it bit of chat lately and it mentioned in `this week in rust`
[20:25:55] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[20:25:55] <strcat> bheylin: yes but regardless, LTO isn't the default or only way to compile so #[inline] is still necessary for xcrate inlining
[20:26:20] <strcat> although, default methods and generics are already cross-crate inlined as part of how rust compiles them (but not necessarily inlined inside that crate)
[20:26:55] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:30:13] *** Quits: jviereck (Adium@moz-478E2D0F.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:30:15] *** Joins: jviereck (Adium@moz-F5B17422.ethz.ch)
[20:30:18] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:30:52] *** Joins: b (b@moz-55CA322E.org)
[20:32:46] *** Quits: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com) (Quit: Leaving.)
[20:34:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:34:55] <bheylin> strcat: on a completely different topic, who's getting their hands dirty on a rust book :)
[20:35:02] * strcat shrugs
[20:35:07] <bheylin> strcat: or is it way to early days 
[20:35:42] <strcat> if someone wants to write me a nice paycheck I'll spend my days writing rust docs instead of playing kerbal space program ;p
[20:36:03] <bheylin> strcat: indeed 
[20:36:25] <bheylin> bheylin: and I'm willing to sacrifice xcom for money :)
[20:37:40] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[20:37:54] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:38:07] *** Joins: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com)
[20:39:35] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:39:41] *** Quits: jessta (jessta@moz-FEFFE342.dyn.iinet.net.au) (Quit: Lost terminal)
[20:40:19] *** Joins: io2 (io2@moz-34E8FDD4.home.otenet.gr)
[20:43:06] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:45:15] *** Quits: jackneill (jackneill@moz-F8808938.pool.digikabel.hu) (Ping timeout)
[20:45:34] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[20:46:17] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[20:48:33] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:49:03] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Connection reset by peer)
[20:49:08] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[20:50:21] <olsonjeffery> huh.. you can't use `self` within blocks within macro_rules! ?
[20:51:15] <Edwards> Is there a trait for enabling coercion to another type?
[20:51:46] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:53:29] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:54:59] <Edwards> (Or at least enabling casting with the as operator?)
[20:56:40] *** Joins: hjr3 (hradtke@moz-842BF853.hsd1.ca.comcast.net)
[20:56:58] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:58:39] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:02:15] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:03:01] *** Quits: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com) (Quit: Leaving.)
[21:04:18] *** Quits: lessless (lessless@moz-ABC6DDB3.volia.net) (Client exited)
[21:06:07] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:09:25] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:12:08] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:12:37] *** Joins: ptc1 (Adium@moz-70022D61.hsd1.ma.comcast.net)
[21:12:43] *** Quits: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP) (Ping timeout)
[21:13:33] *** Quits: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) (Ping timeout)
[21:14:17] *** Quits: ptc1 (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[21:16:01] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:17:42] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:21:13] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:21:42] *** Joins: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com)
[21:24:21] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:26:06] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[21:27:37] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[21:27:48] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:28:16] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Connection reset by peer)
[21:28:22] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[21:29:02] *** Quits: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Quit: )
[21:29:09] *** Joins: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[21:29:23] *** Quits: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com) (Quit: Leaving.)
[21:30:22] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:30:44] *** Joins: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com)
[21:33:53] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:36:38] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[21:36:42] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:39:23] *** Quits: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) (Ping timeout)
[21:39:29] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[21:40:30] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:40:39] *** Quits: carter (carter@moz-3589B90B.c.ircrelay.com) (Quit: IRCRelay - http://ircrelay.com)
[21:40:48] *** Joins: carter (carter@moz-3589B90B.c.ircrelay.com)
[21:42:14] *** Joins: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP)
[21:44:27] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:47:43] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:47:47] *** Joins: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP)
[21:47:47] *** ChanServ sets mode: +ao brson brson
[21:48:09] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[21:48:54] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[21:49:26] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:49:53] *** Quits: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com) (Quit: Leaving.)
[21:52:14] *** Quits: KindOne (KindOne@88AA47F8.7E8839F4.34F73994.IP) (Ping timeout)
[21:52:41] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:52:54] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:55:26] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:56:45] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[21:56:55] *** Joins: KindOne (KindOne@moz-B965D70E.dynamic.ip.windstream.net)
[21:58:49] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:00:30] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:02:21] *** Quits: KindOne (KindOne@moz-B965D70E.dynamic.ip.windstream.net) (Ping timeout)
[22:03:19] *** Quits: hjr3 (hradtke@moz-842BF853.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:03:19] <pcwalton> debug info doesn't get checked when you make check? :(
[22:04:01] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:04:44] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[22:04:49] <brson> pcwalton: it should, yes
[22:04:56] *** Quits: nrc (ncameron@moz-A76F1825.cable.virginm.net) (Ping timeout)
[22:05:17] <pcwalton> brson: hmm, it passed locally but failed on the bots
[22:05:20] *** Joins: KindOne (KindOne@moz-BC3DD5AF.dynamic.ip.windstream.net)
[22:05:44] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:06:15] <brson> pcwalton: oh, it's disabled on mac i think because gdb requires root
[22:06:24] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Ping timeout)
[22:07:13] *** Joins: jhasse (jhass_000@moz-A95AC8A7.ewe-ip-backbone.de)
[22:09:11] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:09:51] *** Joins: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com)
[22:09:55] *** Quits: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net) (Client exited)
[22:10:16] *** Joins: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net)
[22:10:51] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:12:02] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[22:12:27] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[22:14:23] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:15:28] *** Quits: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com) (Quit: Leaving.)
[22:16:04] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:18:06] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Quit: Leaving.)
[22:19:26] <pcwalton> brson: oh, debug info tests are disabled on mac
[22:19:27] <pcwalton> sigh
[22:19:56] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:21:38] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:22:12] <SiegeLord> I think I've succeeded using CMake to build/track dependencies of a crate
[22:22:14] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:22:15] *** Joins: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com)
[22:22:33] <SiegeLord> It's a little clunky..., I have to say
[22:22:41] *** Quits: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net) (Client exited)
[22:22:41] *** Joins: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net)
[22:23:55] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:24:38] <pcwalton> if I had some time I would write a "rustninja" tool to spit out dependencies of a rust crate in .ninja form
[22:27:45] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:29:27] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:30:42] *** Quits: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com) (Quit: Leaving.)
[22:30:45] *** Quits: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net) (Client exited)
[22:30:52] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[22:31:05] *** Joins: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net)
[22:32:44] *** Quits: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com) (Ping timeout)
[22:32:56] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:34:38] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:35:00] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[22:38:11] *** Quits: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP) (Client exited)
[22:38:12] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:39:54] *** Joins: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP)
[22:40:54] *** Quits: StarLight (StarLight@moz-1B2011DE.dynamic.avangarddsl.ru) (Ping timeout)
[22:41:17] *** Quits: hacker_sam (hacker_sam@moz-DDB4E3B3.dsl.bngr.epix.net) (Ping timeout)
[22:41:19] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:42:16] <SiegeLord> And I may have broken rustc in the process, XD
[22:43:15] *** Joins: rust2code (Mibbit@moz-985D5DFF.ultranet.ru)
[22:45:16] *** Joins: StarLight (StarLight@moz-A9079A56.dynamic.avangarddsl.ru)
[22:45:43] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:49:25] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:50:29] *** Joins: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com)
[22:50:36] *** Parts: erickt1 (Adium@moz-6A641B4B.maine.res.rr.com) ()
[22:52:39] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:54:10] *** Quits: rust2code (Mibbit@moz-985D5DFF.ultranet.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[22:54:20] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:55:28] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:56:01] *** Quits: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP) (Ping timeout)
[22:56:44] *** Joins: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com)
[22:57:39] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:59:51] <speckle> Hmm, I know there's already a "Rust for Ruby programmers", but..
[23:00:06] *** Quits: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP) (Ping timeout)
[23:00:07] <speckle> I'm wondering what would be more useful to write, "Rust for Python programmers" or "Rust for Java programmers"
[23:00:38] <wycats_> you know what I like
[23:00:46] <wycats_> default method impls on traits
[23:00:46] <wycats_> <3
[23:01:10] *** Quits: nif (nif@moz-B62DC54B.woh.res.rr.com) (Quit: Konversation terminated!)
[23:01:11] *** Joins: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP)
[23:01:31] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:01:35] *** Quits: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Ping timeout)
[23:04:29] *** Quits: HansiHE (HansiHE@moz-7DF634EA.com) (Ping timeout)
[23:04:58] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[23:04:58] *** Quits: decoder (quassel@moz-D7023D7D.own-hero.net) (Ping timeout)
[23:05:15] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:05:30] *** Quits: jix (jix@moz-D969BFFC.de) (Ping timeout)
[23:05:31] *** Quits: DasIch (dasich@moz-5EDA591.de) (Ping timeout)
[23:05:36] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[23:05:42] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[23:05:47] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Ping timeout)
[23:05:53] *** Quits: mixi (mixi@moz-DBD8904A.org) (Ping timeout)
[23:05:57] *** Joins: canhtak (canhtak@moz-1AC8943.wl.t.ulaval.ca)
[23:06:30] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[23:06:31] *** Joins: decoder (quassel@moz-D7023D7D.own-hero.net)
[23:06:57] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:07:08] *** Joins: jix (jix@moz-D969BFFC.de)
[23:07:11] *** Joins: DasIch (dasich@moz-5EDA591.de)
[23:07:14] *** Joins: toshok (toshok@moz-43741342.cat)
[23:09:08] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[23:09:25] *** Quits: Kxepal (Miranda@moz-B5D86A4D.pppoe.mtu-net.ru) (Quit: Kxepal)
[23:09:53] *** Joins: Kxepal (Miranda@moz-B5D86A4D.pppoe.mtu-net.ru)
[23:10:19] *** Joins: HansiHE (HansiHE@moz-7DF634EA.com)
[23:10:36] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:10:47] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:11:57] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:11:58] *** Quits: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP) (Client exited)
[23:12:27] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[23:13:07] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[23:13:35] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:14:43] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[23:14:47] *** Quits: Kxepal (Miranda@moz-B5D86A4D.pppoe.mtu-net.ru) (Quit: Kxepal)
[23:14:56] *** Joins: Kxepal (Miranda@moz-B5D86A4D.pppoe.mtu-net.ru)
[23:15:43] *** Quits: q66__ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[23:17:00] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:18:07] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[23:18:27] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Quit: Leaving.)
[23:20:27] *** Quits: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com) (Ping timeout)
[23:20:36] *** Quits: johnrkd (johnrkd@E0A7FE54.52A24E51.B05A4819.IP) (Quit: )
[23:22:27] <speckle> hey strcat, should Rust programmers know C++ well?  I was hoping Rust could obsolete C++, but it seems like people keep referring back to C++ docs :P
[23:22:41] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:23:02] <strcat> speckle: you'll learn the good subset of C++ well by learning rust and rust is better documented ;p
[23:23:11] <speckle> oh it is already?! wow
[23:23:12] <wycats_> hm folks
[23:23:15] <wycats_> buffoon/hello.rs:74:2: 74:53 error: type `&mut output_stream::OutputStream<no-bounds>` does not implement any method in scope named `write_tag_and_wire_type`
[23:23:18] <speckle> okay, thank you!
[23:23:24] <wycats_> I have a trait named OutputStream
[23:23:32] <wycats_> and a fn that takes a &mut OutputStream
[23:24:00] <wycats_> the trait has a method named write_tag_and_write_type(&mut self, tag: u64, wire_type: WireType)
[23:24:07] <wycats_> so what am doing wrong here?
[23:24:15] <wycats_> the last time I hit this issue it had something to do with a cast
[23:24:33] <strcat> speckle: well, ... it's more that C++ is notoriously poorly documented
[23:24:43] <Ke> o_O
[23:24:43] <strcat> 99% of books/tutorials are really awful + out-of-date
[23:24:53] <speckle> sorry wycats_ I want to help but I don't know enough yet
[23:25:01] <wycats_> don't worry :)
[23:25:02] <speckle> maybe I'll get back to you in a week, lol
[23:25:03] <strcat> http://en.cppreference.com/w/ at least gives you readable API docs...
[23:25:47] <strcat> no docs are better than incorrect docs, like you get with C++ ;p
[23:25:57] <speckle> I mostly know Java, Python, and C, so I see Rust as something with the safety of Java, the expressiveness of Python, and the low level power of C.  Without any of the libraries :P
[23:26:01] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:26:10] <strcat> well you can easily use C libs
[23:26:29] <strcat> I don't find using C libs from rust any more painful than it is from C++
[23:26:34] <strcat> you have to wrap them in both
[23:26:52] <strcat> in rust you duplicate definitions, and in C++ you have move constructors and operator= to write ;p
[23:27:03] <speckle> Ah, so it should be really easy to wrap a C GUI library, you say? As opposed to wrapping a C++ GUI library
[23:27:04] <strcat> and we should get clang-based automatic header reading...
[23:27:09] <strcat> speckle: yes
[23:27:17] <wycats_> strcat: maybe you can intuit what I'm doing wrong?
[23:27:27] <speckle> Tk seems like the most practical GUI toolkit for Rust, then.
[23:27:35] <strcat> speckle: you just look in the header and write out the definitions you need (or have rust-bindgen do it for you)
[23:27:55] <strcat> functions, structs, enums, function pointers, constants, globals are all easy to use
[23:28:33] <strcat> unions.... you have to calculate the size/alignment for the platforms yourself and hope the ABI matches (might not, since structs/primitives can be passed differently) ;p
[23:28:41] <speckle> It's annoying how C++ centric GUI toolkits have gotten lately - wxWidgets could have easily been C since it just wraps GTK and Windows native, from what I know
[23:29:13] <strcat> gtk is so awful from a development POV ;p
[23:29:52] <speckle> do you know Tk? it seems better than GTK, if a little less feature-rich
[23:30:06] <speckle> version 8.6 fixes some of that, though
[23:30:29] <strcat> well tk has a C API now...
[23:30:40] <strcat> speckle: it looks like such crap on linux though
[23:30:53] <strcat> on windows and OS X it looks bad too but it tries to mimic the system theme
[23:31:01] <strcat> on linux it just decides to look worse than win95
[23:31:11] <speckle> I think it looks fine, but I'm on XFCE so maybe it meshes with that minimalist look better, as opposed to say KDE
[23:32:26] <strcat> speckle: well, qt/gtk can be set to matching themes trivially (and libreoffice/ffx can mimic it too)
[23:32:43] <strcat> if you actually like what tk looks like and set everything else to look like that, then I guess it's okay ;p
[23:32:56] <speckle> Haha, yeah, I don't mess with themes too much
[23:33:11] <eevee> gtk3 apps look hella ugly for me since i don't have any gtk3 themes installed; there are only a few, they don't look anything like my current theme, and they break every gtk upgrade
[23:33:25] <strcat> I use a window manager without window decorations (1 pixel line to show focus) so... it's not like I'm that picky
[23:33:47] <strcat> eevee: well, you're forced to use adwaita
[23:34:02] <strcat> there's a firefox addon to make it match, and there's a gtk2 version (but the tabs don't match)
[23:34:13] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:34:24] <speckle> so you guys think it's better to bite the bullet and develop in GTK to cater to Linux themists?
[23:34:33] <eevee> i don't think i have adwaita installed either
[23:34:39] <strcat> speckle: Qt, ideally ;p
[23:34:41] <eevee> and i don't much like it anyway
[23:34:48] <eevee> yeah uh i'm inclined to vote for qt lately
[23:34:48] <strcat> gtk on windows and OS X is *really* second-class
[23:34:57] <strcat> but good luck using Qt from rust :(
[23:34:58] <eevee> gtk on linux is pretty second-class now
[23:35:15] <speckle> yeah, strcat, attempting to bind Qt to Rust sounds like something way over my head
[23:35:36] <eevee> oh no qt is c++ isn't it
[23:35:45] <strcat> eevee: it's worse, it's Qt C++
[23:35:49] <speckle> It's not even exactly C++, it's its own special language, yeah
[23:35:49] <strcat> you run the Qt preprocessor over it.
[23:35:55] <eevee> fabulous
[23:36:09] <strcat> eevee: they needed C++11 features before C++11 was around, so they made their own language ;p
[23:36:10] <eevee> who would ever want to use a language besides this one that's so bad we had to invent our own language on top of it?  ha, ha!
[23:36:11] <speckle> PyQt managed to work, so maybe it possible to lift ideas from them
[23:36:26] <strcat> eevee: if they did it today from scratch, they wouldn't have ended up with that crap
[23:36:38] <pcwalton> Qt also mandates *binary* ABI compatibility within major versions
[23:36:41] <strcat> at least I think they're moving to libclang for their weird preprocessor so it doesn't break everything
[23:36:55] <pcwalton> when no C++ compiler even implements that
[23:37:02] <speckle> eevee, GTK is second-class compared to what?  Half the DEs still using GTK apps as default, including XFCE, Mate, and Cinnamon
[23:37:10] <strcat> pcwalton: libstdc++ has been stable since 2006 or something ;p
[23:37:14] <strcat> pcwalton: that's why their string is so bad
[23:37:28] <pcwalton> did GCC ever formally define the ABI compatibility rules?
[23:37:35] *** Joins: skade (skade@moz-A6601A7F.dip0.t-ipconnect.de)
[23:37:37] <strcat> pcwalton: they use the itanium rules
[23:37:46] <strcat> (not just on itanium)
[23:37:48] <pcwalton> oh, I didn't realize anyone had written them down
[23:38:04] <strcat> pcwalton: clang/gcc can use the same ABI
[23:38:07] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:38:16] <strcat> libc++ can use the same exception ABI as libstdc++ too
[23:38:19] <pcwalton> sure, I know it works de facto, but I didn't know that anyone had actually formally defined it
[23:38:26] <pcwalton> I know in practice compilers tend to use the same rules
[23:38:35] <eevee> speckle: well https://igurublog.wordpress.com/2012/11/05/gnome-et-al-rotting-in-threes/ makes me pretty sad, especially the part where a gnome core dev asks Transmission to remove its systray icon because gnome 3 no longer uses them, and says he doesn't know what xfce is
[23:38:48] <strcat> pcwalton: well, I dunno if it's defined beyond "we do what itanium says"
[23:39:31] <strcat> pcwalton: http://mentorembedded.github.io/cxx-abi/abi.html seems to cover a lot, if not everything ;p
[23:39:38] <speckle> eevee, ah, maybe it's the huge split in the community caused by GTK/Gnome 3.  A whole bunch of stuff popped up that continues to rely on GTK 2, and I think GTK 2 will be forked as soon as it stops being maintained
[23:39:49] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:39:52] <eevee> seems likely
[23:39:56] <strcat> speckle: doubt it will be forked. no reason to not use gtk3
[23:40:24] <strcat> gtk has issues but gtk3 doesn't really bring new ones to the table
[23:40:39] <strcat> that awful gobject stuff at the foundation of it... I hate it.
[23:40:43] <speckle> So Cinnamon is the more sensible DE than XFCE or Mate, since it uses GTK 3 but in a saner way than Gnome 3?
[23:41:06] <strcat> speckle: xfce is moving to gtk3, slowly, it's just barely developed
[23:41:12] <speckle> ah, I see
[23:41:28] <strcat> mate is really insane. it's full of old bugs, obsolete frameworks and security issues...
[23:41:31] * olsonjeffery likes gnome3, is sad about all the hate it gets.
[23:41:37] <speckle> I think Tk's appearance on Linux is an easier problem to solve than GTK's gobject foundation
[23:41:47] <strcat> olsonjeffery: it went through growing pains
[23:41:59] <olsonjeffery> strcat: ive been on it since 2.92
[23:42:09] * pcwalton shrugs at GObject. it's just COM
[23:42:15] <pcwalton> every desktop OS has COM in some form
[23:42:18] <eevee> i tried it several times and even thought it sounded really cool when it was first in development
[23:42:28] <strcat> pcwalton: well as an idea, it might be okay
[23:42:33] <strcat> pcwalton: but the way it works...
[23:42:34] <pcwalton> probably for worse at this point, but I can't blame linux
[23:42:36] <eevee> but it's totally unusable
[23:42:46] <pcwalton> I wouldn't have made COM but everyone committed the same sin
[23:42:52] <pcwalton> including Gecko :)
[23:42:58] <strcat> pcwalton: your code is just full of dynamic casts, and it asserts, but glib assertions *do not abort on failure*
[23:43:02] <speckle> hmm, Component Object Module?
[23:43:02] <strcat> they just log
[23:43:06] <olsonjeffery> although these days i just run it within a vm. stuck on OSX because i need ios/xcode access :((
[23:43:09] <pcwalton> hah, like NS_ASSERTION in Gecko ;)
[23:43:16] <strcat> pcwalton: yeah but like...
[23:43:18] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:43:37] <strcat> if something takes a VteTerminal, and you pass an random number generator, what will happen is that they use some assert is VteTerminal or return macro
[23:43:38] <pcwalton> supposedly NS_ASSERTION was supposed to be fatal but in order to ship Netscape faster they turned them off
[23:43:45] <strcat> so it will just log and return
[23:44:07] <strcat> pcwalton: when you see those GTK errors in a terminal, they're mostly type errors ;p
[23:44:10] <pcwalton> yeah
[23:44:14] <strcat> python would throw an exception
[23:44:32] <pcwalton> at least Obj-C aborts on selector set to wrong object
[23:44:37] <pcwalton> (except nil) :(
[23:44:59] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:45:43] <strcat> pcwalton: https://git.gnome.org/browse/vte/tree/src/vte.c?h=vte-next#n1345 every public API function asserts on all args like that ;]
[23:45:47] <strcat> except where they forgot
[23:46:21] <strcat> anyway it's a real pain.
[23:46:31] <speckle> Obj-C? doesn't Obj-C have its own nice graphics library in GNUstep? or is that a silly idea
[23:46:58] <strcat> pcwalton: you'll have a text entry and want to resize it, so you want to call the widget functions.... so you use GTK_WIDGET(foo) to cast it (and it asserts in the macro)
[23:47:01] * strcat cries
[23:47:07] <strcat> that and manual quirky refcounting
[23:47:18] <pcwalton> hey, it could be worse
[23:47:23] <pcwalton> in COM, AddRef() and Release() are *virtual*
[23:47:26] <pcwalton> and in Gecko as well
[23:47:34] <speckle> strcat, from what you are saying, GTK should just be *rewritten* in Rust instead of being bound to it
[23:47:36] <FreeFull> That's why good type systems are nice, with compiler checkedness
[23:47:57] <strcat> speckle: well, gtk should be thrown into the fiery depths of some volcano and forgotten
[23:48:15] <strcat> and probably all other gui toolkits ;p
[23:48:31] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:48:36] <speckle> so would you agree that hacking on a nice Linux skin on top of Tk is easier than fixing GTK?
[23:48:59] <strcat> tk is kind of weird
[23:49:04] <olsonjeffery> for some value of "nice"
[23:49:06] <strcat> it has a C API but it's not complete
[23:49:07] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:49:07] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[23:49:10] <strcat> you'll have to write tcl 
[23:49:14] <FreeFull> GTK isn't good enough at portability either
[23:49:15] <speckle> Tk is written in C in the first place, though
[23:49:19] <Ke> with a new toolkit you can start fresh on top of wayland^^
[23:49:23] <FreeFull> For portability you probably want to use QT nowadays
[23:49:36] <strcat> speckle: yeah but tk/tcl is paired
[23:49:46] <strcat> tcl is a weird stringly typed scripting language
[23:49:49] <FreeFull> Ke: Wayland right now is linux-only though
[23:49:58] <speckle> FreeFull, as soon as someone binds it with Rust, which looks like an enormous job
[23:50:01] <FreeFull> tcl is as stringly-typed as it gets
[23:50:09] <strcat> it actually has a reasonable way of doing async... it's arguably nicer than javascript
[23:50:19] <strcat> but... who wants to write code in a weird scripting language ;p
[23:50:20] <FreeFull> speckle: Yeah, binding QT is hard because C++
[23:50:26] <FreeFull> And lots to bind
[23:50:40] <Ke> Qt is not even C++, it has ugly preprocessor hacks
[23:50:40] <FreeFull> That's why Haskell doesn't have good QT bindings
[23:50:40] <strcat> speckle: python has a really nice tk module so I've used it there, but they do the tcl *for you* ;p
[23:50:55] <strcat> speckle: they use the C API when it covers stuff...
[23:51:08] <Ke> KDE is even worse, I tried debugging KDE once
[23:51:09] <strcat> anyway tk hardly has any widgets
[23:51:16] <strcat> you'll end up just using a canvas and drawing yourself
[23:51:18] <pcwalton> let's just all use Xaw
[23:51:24] <FreeFull> I think writing a new GUI library would be the way to go, but will be incredibly painful due to how much work has to be done
[23:51:27] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[23:51:29] <speckle> strcat, and at that point, you might as well just use SDL2 right? :)
[23:51:37] <strcat> gtk doesn't have many widgets either...
[23:51:39] <strcat> speckle: pretty much
[23:51:54] <speckle> FreeFull, maybe a library could be written on top of SDL2, which does a little bit of the work at least
[23:52:00] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[23:52:09] <pcwalton> http://xawm.sourceforge.net/Xaw.gif
[23:52:11] <FreeFull> It'd be nice to have Rust-Haskell bindings
[23:52:13] <Ke> SDL has way too meny race conditions and doesn't survive window resizes IIRc
[23:52:15] <pcwalton> can't get better than that
[23:52:16] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Ping timeout)
[23:52:22] <strcat> Ke: sdl2 is great.
[23:52:26] <strcat> sdl1 was awful, yes.
[23:52:26] <speckle> Ke, are you talking about SDL 1 or 2?
[23:52:33] <olsonjeffery> sdl2 is pretty sweet
[23:52:42] <speckle> I'm kind of wondering why they decided to associate SDL 2 with SDL 1
[23:52:43] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:52:48] <olsonjeffery> i encountered someone, on reddit, complaining about how weird sdl2 is and how it forced them to go to sfml
[23:52:49] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:52:50] <FreeFull> SDL 1 still made things massively easier than they would be otherwise
[23:52:52] <strcat> Ke: valve pays a full time employee to work on sdl now, they used it for all their linux game ports
[23:52:53] <olsonjeffery> into the trash your opinion goes!
[23:53:11] <speckle> pcwalton, if people are ok with that then I think people should have no problem with Tk :P 
[23:53:22] <Ke> not sure if games are comparable to desktop software
[23:53:22] <olsonjeffery> just the multiple renderer thing and off-screen render targets in hardware is awesome
[23:53:37] <Ke> obviously I don't mind, if SDL2 works
[23:53:39] <strcat> speckle: until you have to write some glue in tcl ;p
[23:53:41] <olsonjeffery> and the general idea of loading your textures/sprites into video memory. great stuff.
[23:53:43] <bvssvni> what gui is Servo using?
[23:53:56] <pcwalton> GLFW, at the moment.
[23:54:05] <pcwalton> but I want for it to be "no GUI" -- i.e. be embeddable.
[23:54:09] <strcat> bvssvni: servo just has content
[23:54:12] <speckle> Ooh, you're using GLFW after all? nice!
[23:54:46] <olsonjeffery> it's gui will be vimkeys
[23:55:05] <olsonjeffery> its*
[23:55:44] *** Quits: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com) (Ping timeout)
[23:56:17] *** zz_kimundi is now known as kimundi
[23:56:45] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:57:43] <speckle> Ke, game libraries are often missing the basic widgets, but they still provide a window and input handling, so they do part of the work for desktop software.
[23:57:44] *** Joins: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com)
[23:58:22] <FreeFull> Tk is rather ugly and looks like something from the 80s
[23:58:46] <strcat> FreeFull: you can make it less ugly, the issue is that it doesn't know how to mimic gtk/qt
[23:58:51] <speckle> If we live in a world where gaming libraries happen to be more stable and usable than widget libraries, maybe we just need to build widget libraries on top of them.
[23:58:54] <olsonjeffery> does deriving(Encodable, Decodable) work for simpl'ish structs that contain encodable/decodable fields?
[23:58:56] <Ke> I'd love a operating system written by people with no sense of aesthetics
[23:59:13] <Ke> and no ability to conduct microbenchmarks
[23:59:18] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:59:21] <FreeFull> I think some GUI based on FRP would be interesting
[23:59:26] * strcat is happy not caring about aesthetics
[23:59:32] <pcwalton> Plan 9 is awesome regarding aesthetics
[23:59:32] <strcat> well, I like minimalism...
[23:59:33] <speckle> FreeFull, take a look at Tk 8.5 or even better 8.6, it has themed "ttk" widgets that look better AFAIK
[23:59:39] <pcwalton> you can't change the background color in plan 9
[23:59:44] <pcwalton> the reason is: "it was chosen by a designer"
[23:59:57] <strcat> I have 1 pixel window borders (shows focus) and no title bars on non-stacked/tabbed windows, mmmm
