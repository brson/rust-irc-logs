[00:00:05] <eddyb> I wish such assignments were fair on the versions
[00:00:21] *** Joins: rylev (rylev@1705C2A7.FF8E3E18.59369754.IP)
[00:00:26] <Eridius> mib_7665oi: anyway, your issue is you're creating *mut pointers but the actual struct is declared with non-mut *pointers
[00:01:18] *** Quits: twi (Adium@moz-429185BE.cust.vodafonedsl.it) (Quit: Leaving.)
[00:02:02] *** Quits: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com) (Ping timeout)
[00:02:02] *** Quits: rylev (rylev@1705C2A7.FF8E3E18.59369754.IP) (Ping timeout)
[00:02:47] <mib_7665oi> Eridius: except the compile time error I'm getting "mismatched types: expected 'kernel::vec::Vec<*kernel::fs::file>' but found 'kernel::vec::Vec<kernel::fs::file>"
[00:02:59] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[00:03:16] <mib_7665oi> Eridius: so it's actually giving me the opposite issue
[00:03:21] *** Quits: mib_7665oi (Mibbit@A7DE7E81.2E735A23.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:03:28] *** Quits: paraze (paraze@moz-9E76094B.w90-27.abo.wanadoo.fr) (Quit: gn8)
[00:03:35] *** Joins: jkingyens (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net)
[00:03:36] *** Joins: mib_1ocp0y (Mibbit@A7DE7E81.2E735A23.DDE5D3F6.IP)
[00:03:41] <Eridius> mib_1ocp0y: are you the same mib?
[00:03:45] <mib_1ocp0y> Yep
[00:03:52] <Eridius> you should pick a recognizable name
[00:03:55] <Eridius> anyway I see your issue
[00:04:04] <Eridius> you're constructing a Vec from raw components
[00:04:16] <Eridius> its pointer is a pointer to a buffer of elements
[00:04:19] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Ping timeout)
[00:04:24] <Eridius> which means that if the element type is Elem, the pointer is *Elem
[00:04:34] <Eridius> and you're giving it *fs::file so the element type is fs::file
[00:04:37] *** Quits: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net) (Ping timeout)
[00:04:45] <Eridius> so you want 0 as *mut *fs::file
[00:05:33] <mib_1ocp0y> And that was exactly it. You're a hero
[00:06:28] <mib_1ocp0y> As a follow-up question, all those fields in vector are private so that's a different issue I'm working on, is there a workaround that isn't just making them public?
[00:06:42] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[00:07:12] <Eridius> mib_1ocp0y: why are you constructing a vector by hand like that?
[00:07:28] <Eridius> typically they're private because you're supposed to be using a method in the type's impl to construct it
[00:07:44] <Eridius> mib_1ocp0y: so with Vec that would presumably be Vec::new() or Vec::with_capacity()
[00:07:54] <Eridius> (in your case Vec::new() matches what you're doing)
[00:07:59] <mib_1ocp0y> I tried that, but it wasn't letting me call vec::new() in the static creation there
[00:08:00] <Havvy> or Vec::from_fn()
[00:08:06] <Eridius> ooh static
[00:08:08] <Eridius> well that's your problem
[00:08:22] *** Quits: joebobjoe (mckin_000@1EEF8F2.50A2C647.5A42B74E.IP) (Quit: Leaving.)
[00:08:45] <mib_1ocp0y> yeah. This is some real shitty code or prof gave us
[00:08:48] <Eridius> hrm, I wonder if this is a good reason to have something like vec::VEC_STATIC_INIT
[00:09:05] <Eridius> but in general, when you have this issue you could try making the fields into Option<Vec<*T>> instead and initialize them to None
[00:09:13] <Eridius> the problem is you then have to test for that every time you access the fields
[00:09:19] <Eridius> or, ya know, don't use a static ;)
[00:09:28] <Eridius> your static could be an Option<fs::directory> that's initialized to None
[00:09:33] <Eridius> which would let directory itself not need to care
[00:15:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:15:47] <huon> Eridius: (can't have generic statics :( )
[00:16:00] <pastry> can I read a single u8 from stdin, returning immediately? This is what I'm trying: -- let buf: &mut [u8] = [0]; stdin().read(buf); -- but it only returns after a newline
[00:16:22] <huon> pastry: i guess stdin is buffered by default
[00:16:31] <huon> I think there's a stdin_nobuf or something
[00:16:32] * huon checks
[00:16:35] <Eridius> huon: T wasn't meant to be generic, just a standin for the type he's using
[00:16:44] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:16:48] <huon> pastry: http://static.rust-lang.org/doc/master/std/io/stdio/fn.stdin_raw.html
[00:17:06] <o11c> huon: buffering won't affect that ...
[00:17:07] <huon> Eridius: I mean we would have to hardcode a static initialiser into std::vec for every type
[00:17:20] <pastry> thanks a lot huon, I'll try nonetheless
[00:17:37] <o11c> pastry: you need to set the terminal mode to raw
[00:17:47] <Eridius> pastry: if stdin is a tty you need to tell it.. yeah, what o11c said
[00:17:55] <Eridius> the terminal will buffer on the input side unless you tell it to stop
[00:17:58] <o11c> (hm, I should finish and push the libtermkey bindings)
[00:18:01] <Eridius> huon: oh right
[00:18:12] <Eridius> huon: sorry I thought you were referring to my Option<Vec<*T>>
[00:18:35] <huon> o11c: oh, true enough
[00:19:01] <pastry> o11c, Eridius, thanks, I'll try working on that
[00:20:06] <o11c> pastry: if you really want to do termainal input, you should really hassle me to finish, because libtermkey is much nicer than ncurses (and doing it yourself, you will definitely do it wrong)
[00:20:31] *** Quits: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Connection reset by peer)
[00:20:39] *** Joins: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[00:21:01] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[00:21:57] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[00:23:06] *** Joins: twi (Adium@moz-429185BE.cust.vodafonedsl.it)
[00:23:34] *** Quits: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch) (Ping timeout)
[00:23:59] <pastry> nothing like that o11c, heh, I'm just lazy right now and doing buffered input isn't really the funniest activity
[00:24:25] <pastry> I'm just reacting to simple single-char input
[00:24:46] <o11c> I'll see your single char input and type a left arrow
[00:25:30] <Havvy> Or function key
[00:25:44] *** Quits: copumpkin (copumpkin@CFDA70B1.F2A9BEB2.C943C01E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:25:45] <Havvy> Or shift+key
[00:26:04] <huon> Havvy: as in, a capital letter?
[00:26:06] <huon> ;P
[00:26:16] <Havvy> Yes.
[00:26:45] <o11c> capital tab!
[00:27:19] <o11c> (is there actually any other key where just shift changes it from single-byte to multibyte?)
[00:27:22] <pastry> I get it but it's not critical in this little experiment. I am aware that I'm taking a shortcut here just to obtain some quick satisfaction
[00:27:27] *** Joins: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch)
[00:28:03] <pastry> I'd just wrap stty save stty raw around it in a sh script
[00:28:09] <mib_1ocp0y> So I changed the function to be non-static, but now I keep getting the following error: unmatched visibility 'pub'
[00:28:10] <pastry> then kill it manually
[00:28:41] <huon> mib_1ocp0y: `unmatched`, or `unnecessary`?
[00:28:53] <mib_1ocp0y> unmatched
[00:29:31] <huon> oh, code?
[00:30:43] *** Joins: fuogo (Mibbit@FD26E02D.65B70227.DDE5D3F6.IP)
[00:31:02] <mib_1ocp0y> Sorry, buddy has the code so he's posting it. fuogo
[00:31:02] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[00:31:49] <fuogo> Code: https://gist.github.com/anonymous/9999855
[00:32:10] <huon> you need `pub static mut ....`
[00:32:34] <fuogo> A static file can
[00:32:53] <huon> there's no way to make a value of that type statically initialised
[00:33:06] <huon> i.e. it has to be behind a pointer, or just a local variable
[00:33:20] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[00:33:31] <huon> `static mut cwd: *mut fs::directory = 0 as *mut fs::directory;`
[00:34:04] <huon> and then on start up, allocate a `~fs::directory` with the default values, and transmute to *mut fs::directory
[00:34:33] <mib_1ocp0y> addressing fuogo's issue: if it's static, then the vec must be defined 'manually', as in without a constructor like vec::new().
[00:34:39] *** Joins: ctangent (textual@moz-67DD0115.hsd1.wa.comcast.net)
[00:34:48] <huon> yes
[00:34:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:34:52] <mib_1ocp0y> however, vec's fields are private. If changed to public, we break the compiler
[00:35:06] <mib_1ocp0y> As in it asked us to submit a bug report on the error it had
[00:35:14] <huon> did you?
[00:35:34] <mib_1ocp0y> Not yet, we were preocupied with the current issue
[00:36:00] <Eridius> eventually hopefully we'll have some constexpr equivalent at which point we can presumably make a Vec::static_init() constexpr method that returns an empty vector statically
[00:36:21] *** Joins: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP)
[00:36:32] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:36:45] <dpc> I have a question about RefCell and Ref
[00:36:50] <mib_1ocp0y> So, we thought "Why not just not make it static" and that's how we got the issue we just posted
[00:37:01] *** Quits: ksf (ksf@moz-895A71AA.adsl.hansenet.de) (Ping timeout)
[00:37:25] <huon> mib_1ocp0y: `static` is how one declares global variables
[00:37:29] <huon> there's no way around it
[00:37:31] <huon> (unlike C)
[00:37:48] <huon> i.e. if you're outside a function, the only way to define a value is `static ...`
[00:37:54] <dpc> Actually, I don't have it anymore.
[00:38:28] <mib_1ocp0y> hmm, well that really makes it difficult then
[00:38:35] *** Quits: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch) (Ping timeout)
[00:40:23] *** Joins: ksf (ksf@moz-7E36C1D7.adsl.hansenet.de)
[00:41:00] *** Quits: pastry (Mibbit@moz-B44D98B.ip59.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[00:42:22] <huon> mib_1ocp0y: did you see my suggestion about storing a `*mut ...`?
[00:42:45] *** Joins: pastry (Mibbit@moz-B44D98B.ip59.fastwebnet.it)
[00:43:58] <mib_1ocp0y> I was typing things out during that. Although I had an idea to cheat this. Instead of storing dchildren as a vector, store it as a pointer to a vector
[00:46:29] *** Joins: joebobjoe (mckin_000@1EEF8F2.50A2C647.5A42B74E.IP)
[00:46:45] *** Parts: joebobjoe (mckin_000@1EEF8F2.50A2C647.5A42B74E.IP) ()
[00:49:18] *** Joins: detrino (chris@moz-EAECB432.lv.lv.cox.net)
[00:49:33] *** Joins: detrino_ (chris@moz-EAECB432.lv.lv.cox.net)
[00:49:37] *** Quits: detrino (chris@moz-EAECB432.lv.lv.cox.net) (Quit: Leaving)
[00:49:47] *** detrino_ is now known as detrino
[00:53:22] *** Quits: pastry (Mibbit@moz-B44D98B.ip59.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[00:54:17] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[00:54:42] *** Joins: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com)
[00:57:51] *** Quits: twi (Adium@moz-429185BE.cust.vodafonedsl.it) (Quit: Leaving.)
[01:00:17] *** Joins: smarter (smarter@28D98856.F7143C2.EFE70D31.IP)
[01:00:39] *** Joins: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net)
[01:01:08] *** Joins: rylev (rylev@moz-20F8DC8B.cust.telecolumbus.net)
[01:02:49] *** Quits: rylev (rylev@moz-20F8DC8B.cust.telecolumbus.net) (Ping timeout)
[01:09:18] *** Quits: smarter (smarter@28D98856.F7143C2.EFE70D31.IP) (Ping timeout)
[01:11:22] *** Joins: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch)
[01:15:20] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[01:16:07] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:17:12] *** Joins: pastry (Mibbit@moz-B44D98B.ip59.fastwebnet.it)
[01:19:48] *** Joins: rumpler (Mibbit@349FECA1.9EF9E0BB.CC1A2609.IP)
[01:21:04] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:21:27] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:27:17] *** Quits: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:27:44] *** Quits: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com) (Ping timeout)
[01:28:50] *** Quits: richo (richo@moz-E6FCD5A0.hsd1.ca.comcast.net) (Ping timeout)
[01:29:32] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[01:30:58] *** Quits: fuogo (Mibbit@FD26E02D.65B70227.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:31:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[01:32:08] *** Joins: mib_v5h31i (Mibbit@FD26E02D.65B70227.DDE5D3F6.IP)
[01:32:18] *** Quits: mib_v5h31i (Mibbit@FD26E02D.65B70227.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:32:18] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:32:42] *** Quits: rumpler (Mibbit@349FECA1.9EF9E0BB.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:33:01] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:33:20] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[01:34:11] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[01:34:34] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:35:27] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:36:38] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[01:36:42] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[01:36:59] *** Quits: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net) (Ping timeout)
[01:37:08] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:37:17] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:38:57] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[01:39:32] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[01:40:08] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[01:41:50] *** Quits: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net) (Ping timeout)
[01:43:11] *** Quits: detrino (chris@moz-EAECB432.lv.lv.cox.net) (Ping timeout)
[01:43:53] *** kimundi is now known as zz_kimundi
[01:46:54] *** Joins: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net)
[01:47:40] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[01:47:55] *** Joins: derek_c (derek@moz-A43430DA.cit.cornell.edu)
[01:49:48] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:50:45] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Input/output error)
[01:50:53] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[01:53:07] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[01:54:59] *** Joins: DanC (connolly@moz-4039CBE6.dyn.everestkc.net)
[01:55:21] <DanC> The tutorial says "Both vectors and strings support a number of useful methods, defined in std::vec and std::str." but the docs for std::vec only talk about Vec, not ~[]
[01:56:02] <DanC> any clues?
[01:56:17] <sfackler> DanC: the tutorial is out of date. look in std::slice
[01:56:35] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:56:38] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:56:50] <DanC> thanks
[01:57:02] <DanC> hmm... a length() method doesn't jump out at me...
[01:57:08] <sfackler> len
[01:58:18] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[01:58:20] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:58:41] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:00:10] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:00:19] *** Quits: ctangent (textual@moz-67DD0115.hsd1.wa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:00:26] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:01:35] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:01:43] <huon> ( http://static.rust-lang.org/doc/master/complement-cheatsheet.html btw)
[02:01:52] *** Joins: rylev (rylev@moz-C5E1388B.cust.telecolumbus.net)
[02:03:32] *** Quits: rylev (rylev@moz-C5E1388B.cust.telecolumbus.net) (Ping timeout)
[02:04:58] *** Quits: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net) (Ping timeout)
[02:05:11] *** Joins: schnozzle (Mibbit@FD26E02D.65B70227.DDE5D3F6.IP)
[02:05:13] <SiegeLord> Does the destructor run when a by-value self method is called?
[02:05:46] *** Quits: q66 (q66@moz-D016C514.range86-152.btcentralplus.com) (Ping timeout)
[02:06:35] <sfackler> a by-value method doesn't prevent the destructor from running
[02:06:57] <DanC> rust doesn't have default arguments, does it? (I'm porting some code from python)
[02:07:03] *** Quits: derek_c (derek@moz-A43430DA.cit.cornell.edu) (Ping timeout)
[02:07:17] * DanC reviews https://github.com/mozilla/rust/issues/6973
[02:07:33] *** Quits: Earnestly (earnest@moz-2C691159.dyn.plus.net) (Ping timeout)
[02:07:44] <SiegeLord> If I do, fn foo(self) -> Other { Other{ foo: self.bar } }
[02:07:57] <SiegeLord> Will there be a destructor call hidden there somewhere?
[02:10:00] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[02:10:54] <huon> the destructor runs when a value goes out of scope
[02:10:55] <sfackler> SiegeLord: calling blah.foo() is exactly like calling foo(blah) with fn foo(asfd: Foo)
[02:11:02] <sfackler> it's just a normal move
[02:11:20] <huon> so if you've taken something by-value, the destructor runs in that
[02:11:23] <SiegeLord> Any way to prevent the destructor from being ran?
[02:11:26] <sfackler> is TaskBuilder::spawn supposed to be valgrind-clean?
[02:11:30] <sfackler> SiegeLord: cast::forget
[02:11:32] <huon> std::cast::forget(..)
[02:11:46] <SiegeLord> Is there a reason why destructoring the type doesn't prevent it?
[02:11:49] <huon> are you wanting to be writing unsafe code though?
[02:11:59] <sfackler> http://sprunge.us/DCjc
[02:12:05] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[02:12:07] <huon> I don't think you're allowed to destructure a Drop type
[02:12:08] <sfackler> SiegeLord: you can't destruct it
[02:12:17] <sfackler> *destructure
[02:12:21] <SiegeLord> Well, I need that method so... :P
[02:12:59] <SiegeLord> The two types in question wrap a C type
[02:13:08] <SiegeLord> It wouldn't do to run the destructor more than once
[02:13:29] <huon> the compiler shouldn't let you accidentally run it more than onec
[02:14:23] <huon> Does the `Self` type has a Drop impl itself?
[02:14:30] <SiegeLord> Yes
[02:14:48] <huon> and it's letting you write `self.bar`?
[02:15:01] <SiegeLord> I don't
[02:15:03] *** Joins: aeyk (aeyk@616256A3.4D21CDFC.78DF8FCD.IP)
[02:15:16] <SiegeLord> Oh, write as in type?
[02:15:19] <SiegeLord> Yes, I can type it
[02:15:37] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Ping timeout)
[02:16:15] *** Joins: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net)
[02:16:28] *** Joins: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net)
[02:16:42] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[02:16:52] * huon is confused
[02:17:13] <huon> if you put the `Other { foo: self.bar }` in that method, does it compile?
[02:17:39] *** Quits: aeyk (aeyk@616256A3.4D21CDFC.78DF8FCD.IP) (Quit: leaving)
[02:18:14] *** Quits: mib_1ocp0y (Mibbit@A7DE7E81.2E735A23.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:19:00] *** Joins: quibbit (Mibbit@A7DE7E81.2E735A23.DDE5D3F6.IP)
[02:19:25] <SiegeLord> https://gist.github.com/SiegeLord/10000695
[02:19:37] <SiegeLord> That compiles without issue
[02:19:45] <SiegeLord> Generates a double free
[02:19:52] <quibbit> hey, is there anyone on right now that can help with a pointer dereferencing issue?
[02:20:15] <huon> SiegeLord: right, because *mut is Copy, and so doesn't move, leaving `self` to be destroyed
[02:20:41] <Eridius> SiegeLord: that's what you get for using unsafe
[02:20:43] <huon> SiegeLord: there's two options, but the destructor on the value stored in the field, rather than on the two wrapper types
[02:20:46] <huon> *put
[02:20:51] <huon> SiegeLord: or use forget
[02:20:56] <SiegeLord> I'm going to use forget
[02:21:02] <huon> quibbit: ask the question, don't ask to ask :)
[02:21:15] <SiegeLord> Putting a destructor there will just plain not work in my case
[02:21:22] <SiegeLord> Eridius: Better me than the user of my library :P
[02:21:23] <Eridius> SiegeLord: or just nil out self.a
[02:21:45] <Eridius> SiegeLord: fn bloop(self) -> A { A{ a: replace(self.a, ptr::mut_null()) } }
[02:22:58] <huon> Eridius: in general, that doesn't stop the destructor running
[02:22:58] *** Quits: schnozzle (Mibbit@FD26E02D.65B70227.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:23:04] *** Joins: mib_coq577 (Mibbit@FD26E02D.65B70227.DDE5D3F6.IP)
[02:23:10] <quibbit> ok. I'm in the class that's building a kernel using an old rust-core core. We've got a file system, but just trying to list the files and directories in the cwd is creating issues. I'm loading some of the code up to gist
[02:23:12] <huon> (and in fact, it doesn't stop it running even in this instance here)
[02:23:30] <huon> Eridius: so if the destructor (or the C code) uses the pointer in a nontrivial way, you've got a segfault
[02:23:32] <Eridius> huon: no, but free(0) is a noop
[02:24:02] <Eridius> huon: any such use requires unsafe
[02:24:14] <Eridius> if this didn't require unsafe then the type itself would deal with it
[02:24:15] <quibbit> Alright, here's the link: https://gist.github.com/ama4tf/10000738
[02:24:29] <Eridius> the problem is *mut T doesn't have a destructor, so the owning value needs to destruct it, so the owning value needs to track if it's been destructed already
[02:24:34] <Eridius> and nilling it out is the right way to track it
[02:24:44] <quibbit> On listDir, we can't derefence either vector to the degree that we can get to the iterator for them
[02:24:53] <huon> Eridius: only if freeing the pointer is the only thing to do
[02:24:53] <Eridius> anyway, dinnertime
[02:25:16] <SiegeLord> Hmm... I've got just the perfect spot for Either, but Either is gone :/
[02:25:18] <Eridius> huon: anything else you do with it will ultimately involve dereferencing
[02:25:19] *** Joins: pudgetta (Mibbit@D433E860.83BCE10.DDE5D3F6.IP)
[02:25:20] <Eridius> which requires unsafe
[02:25:24] <huon> Eridius: ???
[02:25:32] <Eridius> so even if the function you pass it to doesn't handle 0, you can trivially test if it's null in your Drop impl
[02:25:34] <huon> my point is your code will often assume a pointer is non-nil
[02:25:39] <huon> e.g. the destructor, might read from it
[02:25:43] <huon> you might say "it's unsafe"
[02:25:46] <Eridius> huon: again, that requires unsafe
[02:25:50] <Eridius> huon: you're missing the point here
[02:26:00] <Eridius> the point is that whether the value is valid is being tracked by its owner rather than the value itself
[02:26:06] <huon> but by niling it out, you've violated your assumption that makes the `unsafe` safe
[02:26:07] <Eridius> which means the owner needs to, well, track it!
[02:26:13] <huon> you're missing my point here
[02:26:15] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:26:18] <Eridius> and in this case the easiest way to track it is by nilling it out
[02:26:25] <huon> this code is handling unsafe pointers it's clearly entirely unsafe
[02:26:26] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:26:30] <huon> and needs unsafe everywhere
[02:26:32] <Eridius> what do you mean I've violated the assumption that makes the `unsafe` safe?
[02:26:44] <SiegeLord> I don't need to track it, if I assure there is never a null there
[02:26:52] <Eridius> this code as written will be perfectly safe if bloop is rewritten to nil out self.a
[02:26:53] <SiegeLord> That's the point of even wrapping it
[02:27:03] *** Joins: derek_c (derek@moz-1578B046.cit.cornell.edu)
[02:27:06] <huon> Eridius: I'm talking in general, niling a single field is likely a bad idea
[02:27:07] <SiegeLord> So that I don't need to worry that it is null
[02:27:17] <Eridius> SiegeLord: if you have an invariant that self.a can never be nil, and the only time you nil it out is when consuming self, and you check for nil in the destructor (which in this case free() does on your behalf) then you're good
[02:27:19] <huon> that code there happens to work when self.a is null in the destructor
[02:27:25] <derek_c> you can't use macros in impl to define functions?
[02:27:39] <Eridius> huon: if it did anything besides free() then I'd say change the destructor to say `if self.a.is_null() { return }`
[02:27:46] <Eridius> but free() handles NULL so that's not necessary here
[02:28:03] <huon> why not just cast::forget at the point where ownership is transferred/
[02:28:04] <huon> ?
[02:28:12] <huon> that seems far far far safer
[02:28:16] <Eridius> ok sure, that's another approach. But that doesn't generalize
[02:28:16] <huon> keeps local things local
[02:28:26] <Eridius> huon: if self has more fields than just the *T then forgetting is incorrect
[02:28:29] <Eridius> because those other fields won't destruct
[02:28:35] <derek_c> can you use macros in impl to define functions?
[02:28:50] <huon> and if self has more fields than *T, then niling just one of them leaves you with a partial object
[02:28:57] <Eridius> huon: incidentally, how does rust handle doing a move-destructure of a struct that has a Drop impl?
[02:29:03] <huon> either approach has downsides
[02:29:03] *** Joins: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net)
[02:29:05] <huon> illegal
[02:29:08] <Eridius> heh ok
[02:29:21] <huon> derek_c: nope
[02:29:37] <Eridius> huon: partial object doesn't matter. If the other values are not unsafe, then they'll deal with their own destruction properly
[02:30:00] <Eridius> it only matters if A needs to do stuff with those other fields in its Drop, at which point it needs to track that properly
[02:30:12] <huon> quibbit: what's the error message?
[02:30:25] <derek_c> huon: kk. another question, can you expand an expression within an identifier?  I'm trying to do something like a_long_function_name_$expr, but apparently this doesn't work
[02:30:27] <Eridius> this all comes down to, if you're using unsafe code, you have to handle it properly to make it safe
[02:30:34] *** Quits: zz_kimundi (kimundi@moz-79C0736A.dip0.t-ipconnect.de) (Ping timeout)
[02:30:35] <huon> derek_c: nope
[02:30:41] <derek_c> huon: oh well, thanks
[02:31:01] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:31:20] <derek_c> why can't we also have textual-substitution macros like in C and C++?
[02:31:22] <huon> Eridius: I was assuming that C resource wrappers are essentially just a few primitives storing the necessary information back into C
[02:31:35] <huon> derek_c: you can run cpp on rust source too
[02:31:40] *** Joins: dr_bibble (Mibbit@moz-BC49D6D0.hsd1.va.comcast.net)
[02:31:42] <Eridius> derek_c: CPP is pretty crappy
[02:31:43] <huon> Eridius: i.e. nothing else has a destructor
[02:31:48] <quibbit> huon: attempted access of field `Iterator` on type `*kernel::vec::Vec<*kernel::fs::directory>`, but no field with that name was found
[02:31:59] <Eridius> I ran into an issue yesterday where CPP refuses to use token pasting to construct a token "foo:" which means I couldn't use it to construct Obj-C method names
[02:32:01] <derek_c> huon: huh?
[02:32:17] <huon> derek_c: you can use the C/C++ preprocessor with rust code
[02:32:24] <huon> it's just a text -> text transformer
[02:32:28] <quibbit> huon: oh wait no this one is your useful part "type `&mut kernel::vec::Vec<*kernel::fs::file>` does not implement any method in scope named `next`"
[02:32:49] <huon> derek_c: e.g. GHC supports using it "natively" with Haskell
[02:33:03] <Eridius> although you'll probably want to instruct it to not use the C language
[02:33:14] <Eridius> GHC had to be modified to pick a different language
[02:33:20] <derek_c> huon: ah I see, that's cool
[02:33:20] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[02:33:24] <huon> quibbit: https://gist.github.com/ama4tf/10000738#file-fs-rs-L51 needs to be calling the method that creates an iterator
[02:33:29] <Eridius> because CPP in clang using C language has restrictions that haskell doesn't want
[02:33:41] <huon> .Iterator doesn't mean anything
[02:33:52] <huon> and https://gist.github.com/ama4tf/10000738#file-fs-rs-L52 needs to be using that iterator
[02:34:12] *** Joins: zz_kimundi (kimundi@moz-6DDBA147.dip0.t-ipconnect.de)
[02:34:38] *** zz_kimundi is now known as kimundi
[02:34:39] <huon> quibbit: `iter((*givenDir).children.as_slice())` i'd guess
[02:35:34] <huon> (similarly https://gist.github.com/ama4tf/10000738#file-fs-rs-L56)
[02:35:45] *** Joins: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP)
[02:36:16] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:36:25] <huon> quibbit: I guess you'll need to import core::slice::iter too
[02:36:46] <zwarich> derek_c: textual substitution macros make many aspects of tooling difficult
[02:36:47] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[02:36:48] <quibbit> huon: We can't import core though, we're restricted to the version vec.rs came from
[02:37:09] <derek_c> zwarich: how so?
[02:37:20] <zwarich> derek_c: for example, you can't parse code independent of knowledge of its #include paths
[02:37:50] <quibbit> huon: I saw iterator code in vec.rs as well as a method in Vec to call something that implements iterator, but I can't figure out how to bridge that gap
[02:37:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:38:12] *** Quits: dr_bibble (Mibbit@moz-BC49D6D0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:38:22] <mib_coq577> p''''
[02:38:50] *** Quits: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net) (Quit: Leaving.)
[02:39:58] *** Quits: Rufflewind (rf@moz-4556AD29.lightspeed.lnngmi.sbcglobal.net) (Connection reset by peer)
[02:40:39] *** Joins: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net)
[02:40:49] <derek_c> zwarich: I'm not sure I understand.  I'd imagine the preprocessor just expands the macros before handing over the code to the compiler, at which point the compiler just does whatever it would do with normal code
[02:40:57] <huon> quibbit: what?
[02:41:13] <derek_c> zwarich: oh, you are talking about other code-parsing tools
[02:41:32] <huon> quibbit: I'm saying doing something like https://gist.github.com/ama4tf/10000738#file-vec-rs-L194
[02:41:34] *** Joins: rylev (rylev@moz-58C8D225.cust.telecolumbus.net)
[02:41:39] *** Quits: rylev (rylev@moz-58C8D225.cust.telecolumbus.net) (Client exited)
[02:41:39] *** Joins: rylev (rylev@moz-58C8D225.cust.telecolumbus.net)
[02:41:44] <derek_c> so I'd imagine those parsing tools will have to rely on the preprocessor to expand the macros first
[02:41:48] <huon> use the iter() function on the slice from a Vec
[02:42:26] *** Quits: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net) (Ping timeout)
[02:43:08] <huon> quibbit: https://gist.github.com/huonw/bc8b07c3d16c8108e1fd
[02:43:43] <zwarich> derek_c: yeah, that's just a pain, since the preprocessor changes the definition of tokens
[02:43:52] <quibbit> I tried that, but there is no iter function to be found. That is the error I get, literally no iter function to be found
[02:43:54] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[02:44:43] <quibbit> huon: we may just need to write our own iter function
[02:44:44] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[02:44:53] *** Quits: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP) (Ping timeout)
[02:45:00] <huon> quibbit: huh? why?
[02:45:13] <huon> quibbit: core::slice::iter
[02:45:15] *** Quits: japaric (japaric@2ECEA8F9.C4F72AE.F29ED47E.IP) (Ping timeout)
[02:45:22] <huon> quibbit: the vec module is importing that
[02:45:23] *** Joins: japaric (japaric@C180E43E.F3E5B3F6.F4D5766F.IP)
[02:45:26] <huon> you can import it too
[02:45:48] <huon> quibbit: https://gist.github.com/ama4tf/10000738#file-vec-rs-L19
[02:46:06] <huon> if you add `use core::slice::iter;` to https://gist.github.com/ama4tf/10000738#file-fs-rs-L3 everything should work
[02:46:08] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:46:19] <huon> (well, anywhere in that)
[02:47:23] *** Joins: tiger88 (Mibbit@moz-3F964EEC.hsd1.ma.comcast.net)
[02:47:43] *** Joins: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP)
[02:47:45] * huon gtg
[02:47:53] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Client exited)
[02:48:50] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[02:50:07] <quibbit> huon: that's working. Some issues, but it's progress. Thx
[02:50:45] <derek_c> how do you do the equivalent of "int i; some_func(&i);" in C?
[02:51:10] <o11c> derek_c: &mut i
[02:51:33] *** Quits: rcxdude (rcxdude@moz-24B1F019.range86-179.btcentralplus.com) (Ping timeout)
[02:51:40] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[02:52:17] <derek_c> o11c: ah, thanks!
[02:52:22] *** Quits: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP) (Ping timeout)
[02:52:24] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[02:54:09] *** Joins: rcxdude (rcxdude@moz-463F0935.range86-128.btcentralplus.com)
[02:58:11] *** Quits: rcxdude (rcxdude@moz-463F0935.range86-128.btcentralplus.com) (Connection reset by peer)
[02:58:18] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[02:58:34] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[03:00:08] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:00:18] *** Joins: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP)
[03:04:29] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:05:20] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[03:07:09] *** Quits: Sorella (queen@BD3C138B.B46B7936.54BCAB54.IP) (Quit: It is tiem!)
[03:07:40] <derek_c> how can you get a `*i8` from `*mut *i8`?
[03:08:01] *** Joins: mattbloom52 (mbloom@48B6255.80BB6BFD.DDE5D3F6.IP)
[03:08:08] *** Joins: uva_steph (Mibbit@FEBD8590.75B49943.DDE5D3F6.IP)
[03:08:27] <uva_steph> hey guys, got a couple questions about how heap.alloc in rust core works...anyone able to help out?
[03:09:27] *** jorendorff_away is now known as jorendorff
[03:09:32] <uva_steph> one of our problem sets involves writing a kernel, and we have the implement a file system (so basically a tree/linked list type thing). it seems like alloc is always allocating memory to the same spot though so our pointers are overwriting each other...
[03:11:13] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:11:17] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[03:11:35] *** Quits: jix (jix@moz-D969BFFC.de) (Ping timeout)
[03:11:48] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Input/output error)
[03:11:54] *** Quits: rylev (rylev@moz-58C8D225.cust.telecolumbus.net) (Client exited)
[03:13:14] *** Joins: jix (jix@moz-D969BFFC.de)
[03:13:55] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:14:17] *** Quits: pudgetta (Mibbit@D433E860.83BCE10.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:14:18] *** Joins: justin (justin@7B96EF52.D41652FF.DDE5D3F6.IP)
[03:14:19] *** Quits: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net) (Quit: WeeChat 0.4.3)
[03:14:26] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:14:50] <justin> what does the "cannot move out of dereference of * pointer" error message mean?
[03:14:59] <huon> uva_steph: have you looked at the implementation?
[03:15:13] *** Joins: h7u9i (Mibbit@D433E860.83BCE10.DDE5D3F6.IP)
[03:15:20] *** Quits: h7u9i (Mibbit@D433E860.83BCE10.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:15:26] *** Joins: subhashb (Adium@2AA91E64.90F00052.422D491.IP)
[03:15:38] *** Joins: jdao (Mibbit@D433E860.83BCE10.DDE5D3F6.IP)
[03:16:25] <uva_steph> yeah, and I guess i'm just not sure exactly how it chooses a new address
[03:16:44] *** Quits: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:17:17] <huon> derek_c: dereference it
[03:17:31] <uva_steph> like we give it a size, so it seems like it should just find that much free space, but it looks like it's just overwriting it. We look at the value of one of our dummy nodes we made just to test the allocation and it prints out a black diamond with a ? in it 
[03:17:34] <huon> justin: a * acts like a & pointer in terms of movement
[03:18:13] <huon> uva_steph: that's presumably just the character your terminal/editor is substituting for a non-printable byte
[03:18:22] <huon> (e.g. 0 or 1 or something)
[03:18:25] *** Joins: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net)
[03:18:54] <huon> justin: that is, you can't steal ownership directly from inside a */&
[03:18:58] *** Quits: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:19:00] <justin> huon: so my problem is that I have a struct with a * pointer as a field and all I'm trying to do is call a function on the struct the pointer refers to by dereferencing with *
[03:19:10] <huon> justin: code
[03:19:13] <huon> please?
[03:19:57] <justin> huon: I'll prepare a gist
[03:20:29] <justin> huon: https://gist.github.com/JustinDao/10001074
[03:20:45] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[03:20:48] <justin> huon: line 32 is the problem
[03:20:54] *** Parts: mattbloom52 (mbloom@48B6255.80BB6BFD.DDE5D3F6.IP) ()
[03:21:08] *** Joins: mattbloom52 (mbloom@48B6255.80BB6BFD.DDE5D3F6.IP)
[03:21:26] <huon> fn add_directory(&mut self, d: directory) { (*self.dchildren).push(d) }
[03:21:29] <uva_steph> but like if we call heap.alloc(256) and then later heap.alloc(7) and save those values, then try to access them later they're pointing to the same thing (we were able to print that part out)
[03:21:43] *** Quits: jkingyens (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net) (Quit: jkingyens)
[03:21:44] <huon> if you're moving things around by value, then functions should be taking them by value
[03:21:54] *** Joins: jkingyens (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net)
[03:21:57] <huon> haha, when's your assignment due, uva people?
[03:21:58] *** Joins: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP)
[03:22:08] *** Quits: jkingyens (jkingyens@moz-7A8F6201.hsd1.ca.comcast.net) (Quit: jkingyens)
[03:22:12] <mib_coq577> its due tomorrow at midnight
[03:22:38] <justin> huon: i get the same error when i change it as you suggest
[03:22:45] <huon> justin: at the same place?
[03:22:51] <huon> hm
[03:23:04] *** Quits: wendorf (Mibbit@moz-1FA962D7.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:23:04] <justin> huon: yes same place
[03:23:06] <huon> justin: what's the exact error message?
[03:23:16] <huon> (i.e. include the code snippet and ^~~~~ thing)
[03:23:17] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[03:23:36] <justin> huon: ../../kernel/fs.rs:32:8: 32:26 error: cannot borrow immutable dereference of * pointer as mutable ../../kernel/fs.rs:32        (*self.dchildren).push(d);   
[03:23:58] <huon> justin: oh, so it's a different error message?
[03:24:11] <huon> (i.e. not about moving out now)
[03:24:18] <huon> the problem is https://gist.github.com/JustinDao/10001074#file-gistfile1-txt-L16
[03:24:22] <justin> huon: oh yes it is! Sorry!
[03:24:25] <huon> should be *mut Vec<...>
[03:24:43] <huon> *T is like &T, in that it's immutable, *mut is the mutable version
[03:24:53] <huon> uva_steph: that does sounds like a problem
[03:25:06] <huon> uva_steph: is the alloc function one you wrote? or was it given to you?
[03:25:29] <uva_steph> unfortunately it was given to us as part of rust core's heap.rs :(
[03:25:42] *** Joins: mermi (Mibbit@349FECA1.9EF9E0BB.CC1A2609.IP)
[03:25:54] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[03:26:09] <sfackler> uva_steph: are you sure the initiaial allocation wasn't freed before the second allocation was made?
[03:26:12] *** Joins: richo (richo@moz-1C569BCA.hsd1.ca.comcast.net)
[03:26:17] <huon> does it look like https://github.com/thestinger/rust-core/blob/master/core/heap.rs ?
[03:26:22] <huon> also, that.
[03:26:24] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:26:26] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:27:03] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:27:27] <justin> uva_steph the memory allocation stuff is actually in kernel/mod.rs the heap pub static mut is initialized in ther
[03:27:35] <uva_steph> yep it's exactly that!
[03:27:46] *** jorendorff is now known as jorendorff_away
[03:28:41] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:29:47] <johnsoft> what's rust's equivalent to string.join in other langs?
[03:30:01] <jdao> huon: that worked for justin and I! thanks for your help!
[03:30:38] <Eridius> johnsoft: there's a .connect() method on StrVector (which is a trait implemented by &[&str] and Vec<&str>)
[03:31:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:31:20] <huon> such uva, many groups
[03:31:22] <huon> wow
[03:31:28] <huon> jdao, justin: np :)
[03:32:04] <johnsoft> thanks Eridius 
[03:32:13] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[03:33:01] <huon> (I hope all you UVA people are helping each other too (irl and here). :) )
[03:33:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[03:33:24] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:34:05] *** Joins: osa1 (omer@1351C8B6.53EDA631.7DA6A6F6.IP)
[03:34:37] *** tiger88 is now known as LuckyTiger88
[03:34:45] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[03:35:21] <LuckyTiger88> hey, odd question
[03:35:32] <LuckyTiger88> I read in one of the r/rust posts
[03:35:56] <LuckyTiger88> that servo has a tracing DOM GC. Do you know who I should ask as to that could be used as a model for a general rust tracing GC?
[03:36:16] <LuckyTiger88> i really like GC and i really like being able to reason about reliability
[03:36:31] <LuckyTiger88> (and i kno it would have to be a library)
[03:36:41] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:36:55] *** Quits: uva_steph (Mibbit@FEBD8590.75B49943.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:36:58] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:37:27] <_achin> noob question:  how do i get access to the debug! macro?  so i need to import it?
[03:38:02] <sfackler> _achin: http://static.rust-lang.org/doc/master/log/index.html
[03:38:06] <sfackler> check out the sample there
[03:38:19] *** Quits: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP) (Ping timeout)
[03:38:39] <_achin> thanks!
[03:38:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:38:46] <LuckyTiger88> anyway, i guess I was just asking cause i'm looking for a side project, and I'm just kind of poking around before i dive in
[03:39:05] <mib_coq577> huon you are the man!!! Thanks so much!
[03:39:10] <_achin> somehow i found myself looking at std::logging instead of ::log
[03:39:26] *** Quits: mermi (Mibbit@349FECA1.9EF9E0BB.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:39:36] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[03:40:22] <radford> Is there a trick for getting access to priv fields for debugging (unsafe?)
[03:42:14] *** Parts: LuckyTiger88 (Mibbit@moz-3F964EEC.hsd1.ma.comcast.net) ()
[03:42:34] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:43:17] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:43:20] <carllerche> is *str an unsafe pointer to a str slice?
[03:43:21] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Quit: Leaving...)
[03:43:28] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[03:43:59] <bjz> radford: you can seed them using {:?}
[03:44:43] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[03:44:59] <bjz> carllerche: no, *str is not a type
[03:45:07] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Quit: Leaving...)
[03:45:17] <bjz> carllerche: no idea if we will get *str with DST though
[03:45:20] <carllerche> makes sense, I should just pass in a C str
[03:45:27] <carllerche> (working on C integration)
[03:46:15] *** Quits: pastry (Mibbit@moz-B44D98B.ip59.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[03:46:24] <carllerche> I exposed &str to C using the struct in std::raw::Slice, but I wasn't sure how to pass in an "optional string" from C
[03:46:53] <radford> bjz, thanks!
[03:47:21] <bjz> carllerche: C strings are *c_char
[03:47:46] <bjz> carllerche: you have to convert them to Rust strings (they have a different representation)
[03:47:52] <carllerche> bjz: well, I have a void* (that happens to be str) and a size_t, so it's not really a C string, but a buf
[03:49:03] <bjz> you can do: `let x: *c_void = ...; x as *c_char` I think
[03:49:27] * DanC struggles to figure out how to map over a ~[int]
[03:49:40] <huon> DanC: v.iter().map(|x| ...)
[03:49:45] <carllerche> bjz: well, it's not a "C string" as in it's not null terminated...
[03:49:49] <huon> x will be a reference into the vector (i.e. &int)
[03:50:00] <DanC> error: type `~[int]` does not implement any method in scope named `map`
[03:50:00] <huon> and the value of that will be a lazy iterator
[03:50:01] <carllerche> so, i would need to pass in the ptr and the len
[03:50:04] <bjz> carllerche: do you have a length?
[03:50:08] <carllerche> yep, as a size_t
[03:50:13] <DanC> ah. .iter() ... I wonder why that was so hard to find
[03:50:21] <carllerche> so, i was just using rust's slice struct to pass it in
[03:50:25] * DanC is starting to wish for autocomplete in emacs rust-mode
[03:50:33] <huon> DanC: ( http://static.rust-lang.org/doc/master/complement-cheatsheet.html#how-do-i-iterate-over-a-vector? )
[03:50:50] <huon> that page has a few basic starting points :)
[03:51:39] <bjz> carllerche: std::str::raw::from_buf_len I think
[03:52:33] <huon> bjz, carllerche: std::c_str::CString is probably better
[03:52:39] <huon> (fwiw)
[03:52:57] <carllerche> huon: I just don't have a CString… I have a ruby string which is a ptr & len :P
[03:53:32] <carllerche> bjz: from_buf_len works!
[03:54:42] <huon> carllerche: oh, ok
[03:55:26] <huon> carllerche: you could use `CVec::new(...)` + `std::str::from_utf8()` to do it without copying
[03:55:37] <huon> (assuming it is UTF8)
[03:55:59] <huon> (but if it's not UTF8 then I guess from_buf_len is wrong too)
[03:56:20] <p1start> DanC: https://github.com/phildawes/racer (autocompletion with an emacs mode)
[03:56:26] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[03:56:37] <DanC> hmm...
[03:56:58] <carllerche> huon: yeah… i have to validate the encoding on ruby's end
[03:57:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:58:00] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:58:00] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:58:01] <huon> (CVec is from std::c_vec::CVec, and even gives you the option to have a destructor to clean it up automatically)
[03:58:26] <carllerche> thx
[03:59:00] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:59:28] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[03:59:43] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:01:13] *** Quits: mattbloom52 (mbloom@48B6255.80BB6BFD.DDE5D3F6.IP) (Quit: mattbloom52)
[04:01:15] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:03:19] *** Quits: olegon (olegon@moz-909B2C54.dsl.telesp.net.br) (Ping timeout)
[04:04:22] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:05:45] *** Joins: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net)
[04:06:42] <p1start> Why's the title of /r/rust been changed? ("The Rust programming language does not have a sense of humor")
[04:06:54] <p1start> Is there some joke I'm missing?
[04:07:58] *** Joins: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP)
[04:08:57] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[04:09:15] <huon> p1start: nope, no joke
[04:09:24] <huon> there's no sense of humour around here
[04:09:25] <huon> ;P
[04:09:59] <p1start> huon: Yeah, I just realised the problem with what I said right after I said it  :P
[04:11:35] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[04:11:35] *** Quits: quibbit (Mibbit@A7DE7E81.2E735A23.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:12:26] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[04:14:21] *** Quits: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP) (Ping timeout)
[04:16:00] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:16:53] *** Joins: mattbloom52 (mbloom@moz-4AC5557F.hsd1.va.comcast.net)
[04:16:59] <DanC> if argv is a ~[~str], how do I check whether argv contains ~"abc" ?
[04:17:02] <Eridius> is there a list somewhere of the target_arch's that Rust supports?
[04:17:20] <Eridius> DanC: argv.iter().any(|s| s.as_slice() == "abc")
[04:17:23] *** Joins: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP)
[04:17:24] *** Joins: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net)
[04:17:38] <Eridius> rusti: ~[~"one", ~"two", ~"abc", ~"three"].iter().any(|s| s.as_slice() == "abc")
[04:17:39] -rusti- true
[04:17:41] <Eridius> rusti: ~[~"one", ~"two", ~"abc", ~"three"].iter().any(|s| s.as_slice() == "abcd")
[04:17:42] -rusti- false
[04:17:58] <DanC> ok... I got as far as iter().any() but I didn't find documentation for ==.
[04:18:00] <huon> Eridius: there will be a list in ./configure or possibly in rustc::{driver, back}
[04:18:07] <Eridius> DanC: == is the equality operator
[04:18:09] <DanC> I guess that's in Eq
[04:18:20] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:18:35] <DanC> so... what's the as_slice for?
[04:18:37] <Eridius> huon: configure shows LLVM is configured for x86,x86_64,arm,mips
[04:18:44] <Eridius> so I guess I dno't have to worry about powerpc then
[04:18:50] <Eridius> DanC: you could alternatively say |s| "abc" == *s
[04:18:55] <Eridius> but I thought .as_slice() was cleaner
[04:19:03] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[04:19:07] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[04:19:14] <Eridius> DanC: in the closure, s has the type &~str. s.as_slice() turns that into &str
[04:19:28] <Eridius> whereas "abc" == *s relies on the implicit coercion of ~str to &str
[04:19:32] <Eridius> and *s == "abc" won't work
[04:19:49] <Eridius> (because *s is ~str and it then tries to turn "abc" into ~"abc" and complains that it can't)
[04:19:51] <DanC> this makes my head hurt
[04:20:04] <DanC> but I guess that's the price to pay for no GC
[04:20:28] <Eridius> well, this could be simpler if everything was reference-counted
[04:20:46] <Eridius> and it would be slightly simpler if everything was owned, which you could do here anyway as in .any(|s| *s == ~"abc"), but that's an unnecessary allocation
[04:20:59] <Eridius> absolutely no need to allocate a new string from the constant "abc" on every single comparison
[04:21:18] <DanC> well, I actually have an &str in place of "abc"
[04:21:39] <DanC> |s| s.as_slice() == n
[04:21:40] <DanC> ^ works
[04:23:16] *** Quits: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP) (Ping timeout)
[04:23:29] *** Joins: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP)
[04:26:29] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[04:26:57] *** Quits: philix (felipe@moz-9DEF9CA2.user.veloxzone.com.br) (Ping timeout)
[04:30:30] *** Quits: jdao (Mibbit@D433E860.83BCE10.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:30:44] *** Quits: mattbloom52 (mbloom@moz-4AC5557F.hsd1.va.comcast.net) (Quit: mattbloom52)
[04:32:10] *** Quits: justin (justin@7B96EF52.D41652FF.DDE5D3F6.IP) (Ping timeout)
[04:34:11] *** Quits: mib_coq577 (Mibbit@FD26E02D.65B70227.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:35:14] *** Quits: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP) (Ping timeout)
[04:37:14] *** Joins: justin (justin@7B96EF52.D41652FF.DDE5D3F6.IP)
[04:37:44] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:38:10] *** Quits: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:38:50] *** Joins: tgkokk (user@moz-BF0AF9D2.home.otenet.gr)
[04:38:54] *** Joins: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP)
[04:39:26] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:40:09] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:41:04] *** Joins: aperos (Mibbit@moz-1689688F.dyn.optonline.net)
[04:43:47] *** Quits: aperos (Mibbit@moz-1689688F.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:51:32] *** Quits: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net) (Ping timeout)
[04:51:40] *** Joins: philix (felipe@moz-9DEF9CA2.user.veloxzone.com.br)
[04:54:16] *** Quits: tgkokk (user@moz-BF0AF9D2.home.otenet.gr) (Ping timeout)
[04:55:45] *** Quits: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP) (Ping timeout)
[04:56:05] *** Joins: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP)
[04:58:11] *** Joins: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP)
[04:58:28] <dpc> How do I catch in gdb: task '<main>' failed at 'RefCell<T> already mutably borrowed', /home/dpc/opt/src/rust/src/libstd/cell.rs:132
[04:59:27] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:59:31] *** Quits: canhtak (canhtak@moz-641FE58F.wl.t.ulaval.ca) (Quit: canhtak)
[05:01:07] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:02:52] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[05:03:46] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Quit: Leaving.)
[05:05:48] <Luqman> dpc: break on rust_fail
[05:06:11] <Eridius> dpc: you can also run with RUST_BACKTRACE=1 in your env to get a backtrace on failure
[05:06:39] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:06:47] *** Quits: justin (justin@7B96EF52.D41652FF.DDE5D3F6.IP) (Quit: Konversation terminated!)
[05:08:20] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[05:12:09] <DanC> fun! I wrote a 104 line python program to read from a USB footpedal. struggled with various issues in porting it to rust, but once it compiled, it worked the 1st time!
[05:12:26] <DanC> 186 lines of rust
[05:12:31] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[05:12:47] <DanC> now... is there a handy websockets library for rust?
[05:12:59] *** Joins: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net)
[05:15:29] <DanC> eek... my 186 lines of rust compiles to a 186MB executable
[05:16:11] <ruzu> it's just being conservative
[05:16:22] <ruzu> never know what you'll need, so it packed a few extra bags
[05:16:51] <DanC> it seems to be statically linked with the rust runtime. I thought dynamic was the default
[05:17:12] <DanC> it's dynamically linked with libdl, libc, libpthread etc.
[05:17:44] *** Quits: richo (richo@moz-1C569BCA.hsd1.ca.comcast.net) (Ping timeout)
[05:19:50] *** Joins: ndt (ndt@FEACE86F.DD5772EA.88820282.IP)
[05:21:14] *** Quits: ndt (ndt@FEACE86F.DD5772EA.88820282.IP) (Quit: WeeChat 0.4.3)
[05:21:19] *** Joins: ndt (ndt@FEACE86F.DD5772EA.88820282.IP)
[05:21:59] <o11c> DanC: since Rust doesn't have a stable ABI yet, static linking is the "safe" option
[05:22:34] <o11c> and, unlike normal static libraries, rust compiles everything to a single .o file in the archive, so it can't split it
[05:22:54] *** Quits: klutzy (th@BA61F396.8E859986.ECA1BB11.IP) (Ping timeout)
[05:23:19] *** Joins: klutzy (th@BA61F396.8E859986.ECA1BB11.IP)
[05:25:48] *** Quits: Rym (y@6DFD2870.E01BAB3.51C6DE68.IP) (Ping timeout)
[05:25:49] <huon> DanC: are you compiling with optimisations? (-O)
[05:26:02] <DanC> no
[05:26:35] *** Quits: rootnode (rootnode@moz-6C1006A7.pools.arcor-ip.net) (Ping timeout)
[05:26:39] <DanC> !
[05:26:44] <DanC> with -O, it's 2M
[05:27:17] <huon> with `-C prefer-dynamic` it'll be even smaller (or `-Z lto` for link time optimisation, which will be much slower)
[05:28:04] <DanC> $ time rustc -Z lto fpscribe.rs 
[05:28:04] <DanC> real	0m6.076s
[05:28:15] <DanC> $ ls -sh fpscribe
[05:28:15] <DanC> 1.0M fpscribe
[05:28:39] <DanC> $ time rustc -C prefer-dynamic fpscribe.rs 
[05:28:39] <DanC> real	0m1.285s
[05:28:45] <DanC> $ ls -sh fpscribe
[05:28:45] <DanC> 376K fpscribe
[05:28:54] <huon> (use -O with them too)
[05:29:01] <DanC> ah
[05:29:10] <huon> might not help with lto, but will with prefer-dynamic
[05:29:15] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:29:24] <huon> (and will make your executable a lot faster to run.)
[05:29:25] *** Joins: edwardw (Mibbit@FF3CCB4.1B2F6624.7F41E82D.IP)
[05:29:25] <DanC> down to 112K
[05:34:06] *** Quits: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net) (Ping timeout)
[05:35:41] *** Joins: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net)
[05:35:55] *** Joins: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net)
[05:36:15] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Ping timeout)
[05:36:45] <derek_c> how to import things defined in lib.rs in a neighboring file?
[05:36:46] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[05:36:54] <derek_c> so I have lib.rs and foo.rs in the same folder
[05:37:12] <derek_c> how to import things defined in lib.rs to foo.rs?
[05:37:52] * DanC gathers websockets are blocked by https://github.com/mozilla/rust/issues/11165
[05:38:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:40:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:41:35] <frozendevil> that's quite a long conversation
[05:42:50] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[05:43:20] <huon> derek_c: you need to set up your module heirarchy with some `mod` statements, specifically, if you want foo to be a submodule, write `mod foo;` in lib.rs
[05:43:34] <huon> derek_c: and then use `use` to bring names from foo into scope in lib.rs
[05:43:44] <huon> e.g. `use foo::Bar; mod foo;`
[05:44:04] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:44:16] <huon> (note that the mod goes after the uses because all imports are at the top of module)
[05:45:33] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[05:46:05] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[05:48:00] *** Quits: subhashb (Adium@2AA91E64.90F00052.422D491.IP) (Ping timeout)
[05:52:44] *** Joins: subhashb (Adium@56D87690.52A468CE.1FAF9555.IP)
[05:53:06] *** Joins: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi)
[05:53:51] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[05:53:51] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[05:54:03] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[05:54:59] *** Quits: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net) (Ping timeout)
[05:55:27] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:55:40] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:56:51] *** Quits: klaus (koz@moz-4486E876.hsd1.wa.comcast.net) (Quit: klaus)
[05:58:06] *** Joins: jkingyens (jkingyens@moz-DE629745.mycingular.net)
[05:58:23] *** Joins: eddyb (eddy@717B0165.D51DAF03.FB866788.IP)
[05:58:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[05:59:25] *** Quits: subhashb (Adium@56D87690.52A468CE.1FAF9555.IP) (Ping timeout)
[06:00:15] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:00:18] *** Joins: dranov (dranov@B72D9B7B.464AB0AD.FCAAE698.IP)
[06:00:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[06:01:58] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:02:21] *** Joins: subhashb (Adium@95A84420.EDD19DB4.422D491.IP)
[06:06:21] *** Quits: subhashb (Adium@95A84420.EDD19DB4.422D491.IP) (Connection reset by peer)
[06:07:27] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[06:09:34] *** Joins: subhashb (Adium@106650D4.780604AD.E5F05D4F.IP)
[06:11:15] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[06:12:11] *** Quits: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net) (Quit: Leaving.)
[06:12:15] *** Joins: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net)
[06:12:15] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[06:12:37] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[06:13:20] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Ping timeout)
[06:13:20] *** Quits: jkingyens (jkingyens@moz-DE629745.mycingular.net) (Connection reset by peer)
[06:14:18] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[06:14:38] *** Joins: edwardw_ (Mibbit@4660DACB.EE06708D.4BFBD933.IP)
[06:16:06] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:16:18] <huon> 2 Rust-the-game posts to /r/rust in as many hours :/
[06:16:22] *** Quits: edwardw (Mibbit@FF3CCB4.1B2F6624.7F41E82D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:19:04] <edwardw_> are there? I don't see any
[06:19:13] *** edwardw_ is now known as edwardw
[06:19:18] <huon> edwardw: I removed them
[06:19:25] <edwardw> ah
[06:19:36] <huon> I can put them back if you want? :P
[06:19:48] <edwardw> no thanks :D
[06:20:40] *** Joins: richo (richo@moz-E6FCD5A0.hsd1.ca.comcast.net)
[06:25:22] *** Quits: edwardw (Mibbit@4660DACB.EE06708D.4BFBD933.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:25:26] *** Quits: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi) (Ping timeout)
[06:25:36] *** Joins: edwardw (Mibbit@E9739E5B.EE06708D.4BFBD933.IP)
[06:26:17] <dpc> I did it! I've rewritten my game to use Rc<RefCell<...>> where neccessary. :)
[06:26:28] <subhashb> Noob question: what do guys around here mostly use rust for?
[06:26:36] <dpc> My game! :D
[06:27:28] <huon> subhashb: a lot of people are experimenting with operating systems
[06:27:42] <huon> (and a lot are experimenting with games)
[06:27:54] <dpc> Operating systems are boring. I write them for a living. :D
[06:28:08] <edwardw> lol
[06:28:10] <huon> dpc: but do you write them in Rust? :P
[06:28:25] <dpc> Not yet. But I plan to in 5 years.
[06:28:31] <dpc> C is killing me, man.
[06:28:33] <subhashb> New operating systems? Cool! Basically replacing c++? :)
[06:28:47] <edwardw> I'm always tempted to submit a toy os as test when freestanding is done
[06:28:47] <dpc> Why new?
[06:28:55] <dpc> You could rewrite potions of Linux in Rust.
[06:29:02] <dpc> *parts of Linux
[06:29:07] <huon> edwardw: it'll never be "done", always improving :)
[06:29:13] <tiffany> C++ doesn't really have a substantial standing in operating systems, it's mostly C with bits of assembly sprinkled throughout
[06:29:16] <huon> dpc: because they feel like writing things from scratch?
[06:29:40] <huon> (mostly as learning experiences/scratch-an-itch, I would assume)
[06:29:53] <subhashb> aah ok, I understand.
[06:29:59] <dpc> Yeah, yeah. I understand why people are toying with OS from scratch.
[06:30:03] <tiffany> the definitive example of an operating system written in C++ is, I believe, HURD
[06:30:05] <dpc> But that's not practical.
[06:30:19] <huon> if you're trying to get a wide-spread end-product, sure
[06:30:32] <dpc> In work I'd use Rust in certain modules and slowly rewrite whatever possible
[06:30:46] <huon> I know some people are using Rust as an embedded back end inside a ruby process
[06:30:59] <dpc> I'm writing a game from scratch, so I know why to do it like this when experimenting.
[06:31:05] <subhashb> huon: That's so cool. Anything you can point at?
[06:31:06] <dpc> But end goal for me is to use Rust in production.
[06:31:08] <huon> (because doing it in pure Ruby would be too slow, and doing it in C is too dangerous)
[06:31:19] <huon> that Ruby thing is being used in production
[06:31:20] <huon> subhashb: sec
[06:31:39] <dpc> On reddit.com/r/rust there was a post about running Rust on Arduino.
[06:31:42] <huon> subhashb: it might be here https://github.com/tildeio/ (but I think it's not public)
[06:32:19] <subhashb> aah ok. the creators of ember.js and discourse.
[06:32:23] *** Joins: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[06:32:28] <huon> someone experimented with rewriting part of GHCs runtime into Rust too, I think they thought it would be a good possible step forward.
[06:32:32] <subhashb> they might be using it with rails backend.
[06:32:47] <huon> subhashb: an analytics-for-rails thing, iirc
[06:33:45] <huon> ( https://ghc.haskell.org/trac/ghc/ticket/8609 mentions the GHC thing, I'm not sure if there's a write up with any detail anywhere)
[06:34:05] <subhashb> interesting. I came across rust when I was searching for a similar solution for the rails backend we have. Coincidentally for search and analytics.
[06:34:53] <huon> (oh, and people are writing (serious) web rendering engine(s) in Rust.)
[06:35:09] <dpc> Like Servo? :D
[06:35:53] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[06:36:16] *** Joins: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi)
[06:36:17] <subhashb> anything like rails being written out there?
[06:37:33] <huon> dpc: exactly servo
[06:38:13] <huon> subhashb: people are experimenting, but we barely have a feature-complete Rust http server, let alone complicated things built on top of them
[06:38:21] * huon waves at ChrisMorgan 
[06:38:24] <edwardw> hmm, web rendering engine is a peculiar way to say servo :D
[06:38:33] <huon> edwardw: that's what it is though
[06:38:46] * ChrisMorgan waves back at huon
[06:38:47] <edwardw> yeah it is, but still
[06:39:20] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:39:21] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:40:07] <ChrisMorgan> subhashb: I have Very Grand Goals for a web framework in Rust, considerably better in various key aspects (e.g. security, correctness and performance) than anything currently out there (Haskell web frameworks being the closest match thus far). But I haven't got to writing it yet—I've been writing rust-http first.
[06:40:22] <lurk_> These two web frameworks seem to be actively developed: https://github.com/jroweboy/oxidize, https://github.com/Ogeon/rustful
[06:40:27] <subhashb> Cool!
[06:40:35] <dpc> rustful :D
[06:40:39] <dpc> Cool name.
[06:41:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:41:12] <edwardw> rustful LOL
[06:42:07] <ChrisMorgan> The frameworks and such that I've seen thus far in Rust are far too similar to those of the dynamic languages, not taking advantage of the awesome power of Rust's type system.
[06:42:30] <ChrisMorgan> A good starting point, but "essays in the craft".
[06:42:30] <subhashb> lurk_: Thank you for the links
[06:43:21] *** Quits: ofeldt- (ofeldt@moz-82728033.dip0.t-ipconnect.de) (Ping timeout)
[06:43:25] *** Joins: ofeldt (ofeldt@moz-C0C8BFC5.dip0.t-ipconnect.de)
[06:45:24] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:46:31] *** Joins: Ms2ger (Ms2ger@moz-278726EC.adsl-dyn.isp.belgacom.be)
[06:47:39] <subhashb> What's the primary area of development right now? I am still learning the ropes of rust, some active development may speed up the process.
[06:47:50] <subhashb> I lean towards web frameworks, but dont think it would be too useful right away as you said, until rust stabilizes a bit.
[06:48:43] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:49:57] <dpc> subhashb: http://www.rust-ci.org/
[06:56:12] <tiffany> I just noticed the title of the subreddit has changed again
[06:56:25] <subhashb> dpc: Thanks for that.
[06:56:44] <lurk_> What was it before?
[06:56:58] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:57:13] <tiffany> "The Rust Programming Language" -> + "Does Not Have Monads" -> + "Does Not Have A Sense Of Humor"
[06:57:45] <huon> it was also "The Rust Programming Language doesn't involve naked men murdering each other with hatchets" between monads and humor
[06:57:50] <huon> (or something like that...)
[06:57:55] <lurk_> hehe
[06:58:08] *** Quits: subhashb (Adium@106650D4.780604AD.E5F05D4F.IP) (Ping timeout)
[06:58:48] *** Joins: tgkokk (user@moz-BF0AF9D2.home.otenet.gr)
[06:59:25] *** Joins: subhashb (Adium@CC7F3374.48346BFE.422D491.IP)
[07:00:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[07:00:49] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:01:24] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[07:02:30] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:03:31] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[07:03:56] *** Joins: lht (lht@moz-756ECB7E.hinet-ip.hinet.net)
[07:05:10] <frozendevil> is there an elevator pitch version of the HKT discussion? (Not what HKT are, but the general community response)
[07:05:13] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[07:05:22] *** Quits: subhashb (Adium@CC7F3374.48346BFE.422D491.IP) (Ping timeout)
[07:06:03] *** Joins: subhashb (Adium@2A766894.4313BF5F.422D491.IP)
[07:06:25] <frozendevil> I keep getting sidetracked trying to read the whole reddit thread
[07:06:53] <huon> most people are positive
[07:07:05] <huon> some people are concerned about calling Monads "monads"
[07:07:26] <huon> and some people are interested to know use-cases for HKT
[07:07:29] <frozendevil> for publicity/image reasons?
[07:07:33] <huon> (is the summary of the reddit thread)
[07:07:43] *** Joins: rylev (rylev@moz-D35FB616.cust.telecolumbus.net)
[07:07:49] <frozendevil> fair enough, thanks :)
[07:07:57] <huon> yeah, there's a few people who feel very strongly that calling something 'monad' will be very bad for Rust's public image
[07:08:19] *** Joins: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net)
[07:08:39] <huon> since unfortunately, they're (unfairly) often regarded as some magical black-box Haskell head-in-the-clouds abstraction in the wider community
[07:08:59] <huon> (when they are actually really simple.)
[07:09:16] <huon> anyway, that debate is pretty orthogonal to general HKT discussion
[07:09:40] <Ms2ger> I agree on monads-called-monads :)
[07:10:03] <frozendevil> yeah, monads definitely have an image problem but I'm not sure banning "monad" is the right answer :P
[07:10:04] <huon> and I actually don't think that Haskell-style monads work particularly well in Rust, due to us exposing too many implementation details about closures
[07:11:02] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[07:11:08] <huon> e.g. Option wants a once stack closure (doesn't exist yet); Future once a once heap closure (proc); Iterator wants any multiple-callable closure, including unboxed ones
[07:11:17] <huon> Ms2ger: (agree that we shouldn't call them monads?)
[07:11:20] <Ms2ger> Yeah
[07:11:24] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Input/output error)
[07:11:26] <Ms2ger> Even if that's the right name
[07:11:50] * huon is happy with 'monad' personally, but is also happy with some other appropriate name
[07:12:20] <huon> *Future wants
[07:12:36] <Ms2ger> Future once a wants heap closure?
[07:13:24] <huon> Ms2ger: I purposefully didn't correct just `once` ;P
[07:13:33] <Ms2ger> Oh
[07:13:47] <Ms2ger> Future wants once a once heap closure?
[07:14:13] <frozendevil> just call them burritos instead of monads
[07:14:16] <frozendevil> problem solved
[07:14:25] <Ms2ger> I prefer tacos
[07:14:37] *** Joins: Sancio (Mibbit@moz-CAA5C5B6.hsd1.ca.comcast.net)
[07:15:05] <huon> they're spacesuits, right?
[07:15:19] <frozendevil> my only real problem with "monads" is that I type "mondas" a lot by accident and then people want to talk to me about Dr. Who
[07:15:41] <huon> and that's a problem?
[07:16:39] <frozendevil> it distracts from the topic at hand
[07:17:15] * frozendevil migrates downstairs
[07:17:16] *** Quits: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net) (Quit: Leaving.)
[07:18:17] *** Joins: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net)
[07:18:42] <huon> frozendevil: not always http://hackage.haskell.org/package/tardis-0.3.0.0/docs/Control-Monad-Tardis.html
[07:19:13] <frozendevil> hah, touché
[07:20:55] <Ms2ger> As my professor says: "... and some people use Haskell. Now that's real insanity."
[07:21:27] <huon> what's the context?
[07:21:38] <huon> "When eating dinner, some people use a knife and fork, some a spoon, and some people use Haskell"
[07:22:05] <Sancio> hello everyone, is it possible for someone to look a small gist and highlight why I am getting an "cannot move out of dereference" error?
[07:22:14] <Sancio> here is the gist: https://gist.github.com/jsancio/10002521
[07:22:49] <huon> the problem is available has type Vec<T>
[07:22:53] <Sancio> the error is on line 18
[07:23:08] *** Quits: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Ping timeout)
[07:23:08] <huon> i.e. it's been taken by value out of the reference that the workers.iter() yields
[07:23:11] <huon> that is:
[07:23:29] <huon> Vec<T>.iter() gives an Iterator<&T>, i.e. references into the vector
[07:23:45] <Sancio> right
[07:23:46] *** Quits: rylev (rylev@moz-D35FB616.cust.telecolumbus.net) (Client exited)
[07:23:49] <huon> it would be very rude to steal from a borrowed value
[07:23:57] <huon> that is, from inside the reference
[07:24:04] <huon> so the compiler has to disallow it
[07:24:23] <Ms2ger> huon, unless you're Tolkien borrowing books :)
[07:24:24] <huon> ("rude" in the sense of "it's invalid" :P )
[07:25:07] <huon> Sancio: the way to fix it is to avoid taking available by-value, and instead get a reference to available
[07:25:18] <huon> via `for &(name, ref available) in ...`
[07:25:24] <Sancio> ultimately I can to convert that Vec into a TrieMap with the same scope/lifetime
[07:25:44] <Sancio> it the recommended way is to copy those values?
[07:26:00] <Sancio> oh, ic.
[07:26:01] *** Quits: tgkokk (user@moz-BF0AF9D2.home.otenet.gr) (Ping timeout)
[07:26:09] <huon> oh, if you're trying to consume workers you can use `.move_iter()`
[07:26:30] <Sancio> looking at move_iter...
[07:26:33] <huon> which consumes the vector, yielding the elements by value (i.e. Vec<T>.move_iter() -> Iterator<T>, not a reference)
[07:26:58] <huon> this will mean that your code works as written (except for the `&` in the `for` pattern)
[07:27:14] <Ms2ger> And that the vector will be cleared
[07:27:16] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[07:27:52] <huon> yeah, workers will then be unusable (verified at compile time)
[07:28:10] *** Joins: tgkokk (user@moz-BF0AF9D2.home.otenet.gr)
[07:28:18] <huon> (at least, illegal to use until it is initialised with a new value, if it were mutable.)
[07:29:13] <Sancio> huon: Thanks a lot for your help. Let experiment with move_iter
[07:29:48] <Sancio> one more question. Given rust awesome type inference what is an easy way to determine the type of a variable
[07:30:06] <Sancio> for example I would like to know the type of available
[07:30:07] <huon> `let () = variable;` will cause a compile error with its type
[07:30:15] <Sancio> in that example
[07:30:22] <Sancio> okay. thanks!
[07:31:47] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[07:35:54] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[07:36:05] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[07:38:15] <dpc> Vec::retain is not working for me. Compiler can't find it.
[07:38:29] <dpc> Is that because I use vec::Vec<~T> ?
[07:39:05] <Eridius> the method is v.retain()
[07:39:32] <dpc> yes. And so I use it.
[07:39:45] <Eridius> and what's the error?
[07:39:46] <dpc> error: type `~std::vec::Vec<std::rc::Weak<std::cell::RefCell<creature::Creature>>>` does not implement any method in scope named `retain`
[07:40:06] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:40:24] <Eridius> how old is your rustc?
[07:40:29] <huon> I think it was only added recently
[07:40:36] <dpc> 4 days?
[07:40:38] <Eridius> it was added on April 2
[07:40:41] *** Quits: luzie (lu.cy@moz-CD18B14B.customer.cdi.no) (Input/output error)
[07:40:42] *** Joins: skade (skade@moz-F08CB96A.web.vodafone.de)
[07:40:48] <Eridius> well, that's when the commit is. Not sure when it was merged in
[07:40:48] *** Joins: luzie (lu.cy@moz-CD18B14B.customer.cdi.no)
[07:40:49] <dpc> Oh my god. :D
[07:40:52] <Eridius> so yeah 4 days is too old
[07:40:53] <dpc> Hahah.
[07:41:04] <huon> (btw, you rarely need/want `~Vec<>`, just plain `Vec<>` (without the ~) is preferable in almost every situation)
[07:41:47] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:42:03] <huon> a ~Vec is double indirection, similar to `std::unique_ptr<std::vector<...>>` in C++
[07:42:24] <dpc> So Vec is a pointer itself...
[07:42:34] <dpc> So silly of me.
[07:42:35] *** Quits: skade (skade@moz-F08CB96A.web.vodafone.de) (Ping timeout)
[07:43:07] <dpc> I even saw discussion about Vec::new being a NULL.
[07:43:13] *** Joins: skade (skade@moz-F08CB96A.web.vodafone.de)
[07:43:15] *** Quits: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:43:34] <huon> yeah, ~ is a siren call, sucking users in to inappropriate use.
[07:43:40] <huon> (sometimes.)
[07:44:01] <dpc> Yeah. I'm just being C-stupid.
[07:44:22] <dpc> I see std::Vec and my brain goes ... there will be copying. Plenty of it.
[07:44:54] <huon> three whole words! :P
[07:45:14] <dpc> BTW. When I have ...
[07:45:29] <dpc> fn new -> Something { }
[07:45:48] <dpc> And I call it: let x = Someting::new();
[07:45:52] <dpc> Will there be copying?
[07:46:00] <companion_cube> let y = Something::different();
[07:46:30] <huon> dpc: depends what you mean by "copying"
[07:46:45] <Eridius> dpc: technically, the Something value can be moved from the new() call into its caller (although that will be cheap). But in practice the compiler is free to elide the move and just construct it in its callers stack frame directly, the same way return value copy elision works in C++
[07:46:49] <huon> semantically it's a shallow byte-wise copy
[07:46:58] <tiffany> unless llvm does scary things with cdecl's return value pointer, it will be a shallow copy yeah
[07:47:02] <huon> but large values are written directly into the stack slot
[07:47:29] <dpc> The callee can just prepare the space on it's own stack and the caller could write stuff there directly.
[07:47:35] <huon> yes, that's what we do
[07:47:52] *** Quits: tgkokk (user@moz-BF0AF9D2.home.otenet.gr) (Ping timeout)
[07:48:04] <dpc> And if I do: let x = ~Something::new(); will the caller write directly to heap?
[07:48:25] <tiffany> that's what I meant by scary return values, will it use the heap for the return value address?
[07:48:37] <tiffany> it's a shallow copy
[07:48:53] <huon> dpc: I think so
[07:49:15] <tiffany> isn't that why we wanted placement new though huon?
[07:49:19] <tiffany> to prevent copies?
[07:49:33] <huon> for ~ we have "placement new"
[07:49:40] <huon> but not for any other pointer types
[07:49:46] <huon> (well, @ too, but that doesn't count)
[07:49:48] <tiffany> oh, so ~Something::new() is special?
[07:49:59] <huon> e.g. Rc::new(Something::new()) goes via the stack
[07:50:07] <huon> yea
[08:01:03] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:01:29] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[08:02:30] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:02:50] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:03:10] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:03:33] *** Quits: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[08:04:40] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[08:06:20] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[08:07:33] *** Quits: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi) (Ping timeout)
[08:08:35] *** Quits: edwardw (Mibbit@E9739E5B.EE06708D.4BFBD933.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:08:55] <dpc> error: unresolved name `std::f32::atan2`.
[08:09:12] <dpc> Where did this guy go? Was working before and is still in the docs.
[08:09:27] <Ms2ger> Maybe just f.atan2()?
[08:09:35] <dpc> atan2 takes 2 args.
[08:09:49] <dpc> http://static.rust-lang.org/doc/master/std/f32/fn.atan2.html
[08:10:44] *** Joins: mindcat (mindcat@7CB300B6.BDFDA69D.857BDFA9.IP)
[08:12:00] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[08:13:41] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Ping timeout)
[08:15:05] <dpc> Ms2ger: You were right. It got converted.
[08:15:34] *** Joins: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net)
[08:17:21] *** Quits: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net) (Input/output error)
[08:17:36] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:17:46] *** Joins: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net)
[08:18:13] <Sancio> made some progress after using move_iter. It looks like not I am running into some borrow checker issues :(. http://mibpaste.com/YIm9U5 
[08:18:41] <Sancio> the error is that I cannot borrow hours in line 23
[08:18:43] <dpc> mibpaste? Why so ugly?
[08:18:58] <Sancio> because it is being borrow in line 21
[08:19:18] <Sancio> that is ugly
[08:19:26] <Sancio> let me move it to gist
[08:19:27] *** Quits: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net) (Ping timeout)
[08:19:46] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[08:19:56] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:20:14] <Sancio> https://gist.github.com/jsancio/10003016
[08:20:17] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Ping timeout)
[08:20:49] <Sancio> any idea on how to fix that double borrow?
[08:21:53] <frozendevil> you probably shouldn't try and mutate a collection as you're iterating over it
[08:22:10] <dpc> Yeah.
[08:22:21] *** Joins: mib_oyipkd (Mibbit@3FBB1358.836D8729.520CDC98.IP)
[08:22:24] <frozendevil> keep a temp vec around and insert into that
[08:22:30] <dpc> Make a copy, iterate over copy and remove from the original or something like this.
[08:23:21] <Sancio> hmm, I am getting the Vec from the TrieMap
[08:23:27] <mib_oyipkd> when building rust, every time i run a make target, configure is run although it was run once already. is there a way to avoid it?
[08:24:00] *** Joins: ozkriff (Mibbit@D803906A.389F1DB8.D5F347E6.IP)
[08:24:38] <Sancio> I don't follow frozendevil and dpc.
[08:24:58] <frozendevil> oh, I think I misread
[08:25:34] <huon> Sancio: https://gist.github.com/huonw/10003049 might work
[08:25:43] *** Quits: alonlevy (alon@moz-B6210BD6.red.bezeqint.net) (Ping timeout)
[08:25:52] <huon> (by moving the insertion outside the match that borrows the trie)
[08:26:14] <frozendevil> works for me
[08:26:14] <huon> I guess it probably won't work if `name` moves by default.
[08:26:57] <huon> (You'd want to replace the boolean with an Option, that's None for the `false` case and `Some(name)` for the `true` case, and match on that, inserting in the `Some` case.)
[08:27:08] <huon> theoretically triemap should have methods that make this much easier
[08:27:12] <huon> e.g. HashMap does
[08:27:21] <Sancio> let me try that. is it fair to say that the original borrow error is a bug? and hopefully will be fixed or do we have to always do this?
[08:28:02] <huon> using http://static.rust-lang.org/doc/master/collections/hashmap/struct.HashMap.html#method.find_or_insert it would be `map.find_or_insert(hour, vec!()).push(name)`
[08:28:13] <Sancio> what is the hashmap method? maybe I can implement it for triemap
[08:28:16] <huon> the borrow checker may be improved to handle cases like tihs more comfortably
[08:28:52] <huon> the issue is https://github.com/mozilla/rust/issues/6393 fwiw
[08:29:07] <huon> (I think)
[08:33:45] *** Joins: kvanb (kvanb@moz-A0E59ED9.lns1.win.bigpond.net.au)
[08:34:35] <Sancio> perfect. it works with Some/None.
[08:35:56] <Sancio> As an aside the nice thing of the syntax `exp match {...}` over `match exp {...}` is that you can compose them as `exp match {...} match {...}`
[08:36:09] <Sancio> which should have been nice for this piece of code
[08:36:42] <Sancio> Scala implements the first syntax :(
[08:37:03] <huon> you can possibly write `match match ... { ... } { ... }` :P
[08:37:39] <Sancio> I guess. By brain wont let me write such code ;P
[08:37:51] <Ms2ger> "can" and "should"... ;)
[08:38:03] *** Parts: kvanb (kvanb@moz-A0E59ED9.lns1.win.bigpond.net.au) ()
[08:38:13] *** Joins: chrido (chris@moz-40945A0.pool.mediaways.net)
[08:38:37] <dpc> https://github.com/dpc/rustyhex
[08:39:07] <dpc> I've mastered the power of Rc and RefCell. Big accomplishment. :)
[08:40:29] * huon upgrades his rustc
[08:40:50] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:41:27] * huon <3 nightlies
[08:41:44] <dpc> Rust nightly builds?
[08:42:07] <frozendevil> nightlies are the greatest
[08:42:13] <dpc> https://travis-ci.org/dpc/rustyhex/builds
[08:42:15] <companion_cube> hmmm, strafing, reminds me of the Doom roguelike
[08:42:25] <huon> dpc: yup
[08:42:31] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:42:37] * huon installs sdl2
[08:42:42] <frozendevil> especially since they showed up a day after I complained about how long rust takes to build on my computer :)
[08:42:58] <huon> frozendevil: it's all your fault(?) we have them!
[08:43:03] <huon> you're the one to blame!
[08:43:36] *** Joins: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net)
[08:43:36] <dpc> I wasn't aware DoomRL has strafing. I never played it, but I was aware it exists.
[08:43:47] <frozendevil> I'm saying, they weren't there and then they were, it's a good thing :P
[08:43:47] <companion_cube> i'm not sure. but it's pretty nice anyway :)
[08:43:54] <frozendevil> they might have been there before, but I couldn't find the link
[08:44:17] * huon was joking :)
[08:44:20] <frozendevil> :)
[08:44:29] <huon> but yeah, they are new
[08:44:51] <huon> dpc: it runs!
[08:44:52] <huon> \o/
[08:45:04] <dpc> huon: What runs?
[08:45:08] <huon> rustyhex
[08:45:16] <dpc> Ha. :D
[08:45:30] <dpc> I'm glad to hear that. 
[08:46:10] <huon> dpc: the green squares are "enemies" right?
[08:46:11] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[08:46:16] <dpc> Yeap.
[08:46:24] <huon> can i attack 'em yet?
[08:46:28] <dpc> And you can attack them with Ctrl + move.
[08:46:39] <huon> yay
[08:46:42] <dpc> You strafe/run with shift.
[08:46:46] * huon is the destroyer of green squares
[08:46:52] <dpc> - / + for zoom
[08:46:54] <dpc> And that's it. :D
[08:46:55] <huon> they cower before my might
[08:47:07] <huon> thanks :)
[08:47:14] <dpc> Well, actually the AI makes them always run into you.
[08:47:17] <huon> (you should add the ctrl thing to the readme)
[08:47:30] <dpc> Ah. Right. I haven't updated the README! :D
[08:48:06] <companion_cube> this should be a good AI sandbox :)
[08:48:25] <frozendevil> nooo error: the type of this value must be known in this context
[08:48:33] * huon likes the little !'s the "goblins" get
[08:48:53] <dpc> Yeah. I like that too.
[08:49:00] <dpc> Turned out to be better than expected.
[08:49:27] *** Joins: kvanb (kvanb@moz-A0E59ED9.lns1.win.bigpond.net.au)
[08:49:43] <huon> it's possible to be sneak-attacked without even know it when they attack you, right? (since turning around takes moves, so they can creep up on you)
[08:49:45] <dpc> The mechanics is pretty distinct too. Each action has some delay and cooldown.
[08:50:01] <dpc> Correct.
[08:50:01] <kvanb> vadimcn: ping
[08:50:47] <huon> ooh, the goblins have fog too
[08:50:51] <huon> so I can sneak up on them
[08:50:56] <dpc> Correct.
[08:50:57] <huon> muahaha
[08:50:59] * huon is the night
[08:51:14] <huon> drat he saw me
[08:51:18] <dpc> I plan to add like *2 damage from behind.
[08:51:32] <dpc> So sneaking is actually important.
[08:51:33] <huon> it's hard (i.e. impossible) to tell which we they're looking
[08:51:35] <huon> *way
[08:51:54] <dpc> Yes, I know. This was way better in old version of rustyhex
[08:52:10] <dpc> https://github.com/dpc/rustyhex-old
[08:52:19] <huon> ah, neat
[08:52:37] <frozendevil> so many sdl things
[08:52:41] <huon> dpc: why'd you move on?
[08:52:41] <dpc> But I'll figure out something.
[08:53:12] <dpc> I wanted to start fresh because old version was not working after some point.
[08:53:24] <dpc> It was working only because I used bugs in borrowck
[08:53:30] <huon> hahaha
[08:53:41] <dpc> And after it got fixed, I didn't know how to fix it.
[08:53:43] *** Joins: buster (Mibbit@moz-C69032D5.dip0.t-ipconnect.de)
[08:54:09] <dpc> So I started afresh, moved geometry code to library and nagged  people here to help me design it so it could work.
[08:54:17] <buster> Hi
[08:54:26] <dpc> And I kind of like the new look.
[08:54:30] <buster> i don't understand this:
[08:54:31] <buster> mismatched types: expected `~str` but found a `~`-box pattern
[08:54:36] *** Quits: mib_oyipkd (Mibbit@3FBB1358.836D8729.520CDC98.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:54:37] <buster> ~"LOGIN" => self.login(imap_cmd),
[08:54:43] <huon> buster: pattern matching on strings has no `~`
[08:54:46] *** Quits: kvanb (kvanb@moz-A0E59ED9.lns1.win.bigpond.net.au) (Quit: kvanb)
[08:54:48] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[08:54:52] <huon> and pattern matching on ~str has actually been removed
[08:54:52] <frozendevil> I can't get it to find SDL2 =/
[08:55:00] <huon> you have to borrow it to a slice
[08:55:10] <huon> match foo.as_slice() { "LOGIN" => ... }
[08:55:11] <dpc> frozendevil: I use SDL2 in Rustyhex
[08:55:11] *** Quits: skade (skade@moz-F08CB96A.web.vodafone.de) (Connection reset by peer)
[08:55:18] <buster> ahhh
[08:55:27] <dpc> frozendevil: What is your problem?
[08:55:35] <buster> huon, thanks, i was trying what not, but i didnt understand that... :)
[08:55:36] <huon> dpc: weird... the geometry changes as you rotate
[08:55:49] <companion_cube> huon: couldn't you  match *foo { "LOGIN" => ... } ?
[08:55:56] <frozendevil> dpc: "ld: framework not found SDL2"
[08:56:07] *** Joins: rylev (rylev@99447EFF.841B7A6.59369754.IP)
[08:56:10] <dpc> frozendevil: framework? OSX?
[08:56:17] <frozendevil> yeah
[08:56:36] <frozendevil> I got this to work for SprocketNES, but that didn't use a makefile
[08:56:44] <dpc> frozendevil: I dont' support OSX, sorry. But I guess you just have to install SDL2 somehow.
[08:56:56] <frozendevil> I do
[08:57:02] <dpc> huon: Gemetry doesn't really change.
[08:57:05] <huon> dpc: http://imgur.com/a/G8LqJ
[08:57:08] <huon> (well, the rendering of it)
[08:57:21] <huon> companion_cube: ~str isn't dereference able
[08:57:32] <dpc> But the way it is being displayed makes it look like this.
[08:57:54] <huon> companion_cube: but in future, with DST (dynamically sized types) `match &*foo { ... }` will probably work
[08:58:22] <companion_cube> eww
[08:58:33] <huon> we may get "generalised" patterns too
[08:58:36] <dpc> huon: That's the magic of painting hex as squares.
[08:58:49] *** Joins: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[08:59:12] <huon> dpc: couldn't you rotate the whole "grid", rather than just which squares are painted?
[08:59:19] <huon> (that probably doesn't make sense...)
[08:59:21] <aochagavia> I am trying to use rand::StdRng to generate random numbers but it does not work
[08:59:28] <huon> aochagavia: error message
[08:59:36] <aochagavia> when I use gen_range() I get the following message:
[08:59:40] <aochagavia> ←[0mboard\mod.rs:51:21: 51:51 ←[31merror: ←[0m←[1mtype `rand::StdRng` does not i mplement any method in scope named `gen_range` ←[0mboard\mod.rs:51             tempY = rand.gen_range(0, self.height);
[08:59:46] <dpc> huon: Every time you rotate you really rotate by 60 degrees, not 90 like you're used to.
[08:59:52] <huon> import the `rand::Rng` trait
[09:00:03] *** flaper87|afk is now known as flaper87
[09:00:14] <dpc> huon: Everything would look OK if the squares were hex.
[09:00:17] <huon> dpc: hm... right
[09:00:21] * huon thinks
[09:00:21] <aochagavia> huon: haha, I didn't think it would be so easy
[09:00:25] <dpc> And I might switch to hex at some point.
[09:01:57] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[09:02:27] *** Quits: devbug (quassel@moz-8C40558B.bchsia.telus.net) (Connection reset by peer)
[09:03:31] *** Quits: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[09:05:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:05:28] *** Joins: willingc (willingc@moz-F095E013.san.res.rr.com)
[09:05:37] *** Quits: willingc (willingc@moz-F095E013.san.res.rr.com) (Quit: willingc)
[09:06:00] *** Joins: fazal (fazal@E43CDEC2.DD69F2BB.E8916D75.IP)
[09:06:15] *** Joins: jackneill (jackneill@moz-6073ACF6.pool.digikabel.hu)
[09:06:36] <dpc> I'm so happy. Good night everyone.
[09:06:41] *** Quits: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:06:41] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[09:10:11] *** Quits: zmthy (zmthy@moz-6DAA26C.cable.telstraclear.net) (Quit: leaving)
[09:10:24] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[09:10:46] *** Joins: skade (skade@moz-57787370.web.vodafone.de)
[09:11:12] *** Quits: buster (Mibbit@moz-C69032D5.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[09:12:31] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[09:13:12] *** Quits: ozkriff (Mibbit@D803906A.389F1DB8.D5F347E6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:13:46] *** Quits: echristo (echristo@4BCF0721.E96923BF.37EDBBD4.IP) (Quit: echristo)
[09:14:12] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Ping timeout)
[09:15:02] *** Quits: StarLight (StarLight@moz-C28BC4CB.dynamic.avangarddsl.ru) (Ping timeout)
[09:15:08] <chrido> anybody using rust-bindgen? always get an error that limits.h file not found
[09:16:22] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[09:16:41] *** Joins: StarLight (StarLight@moz-A41213D5.dynamic.avangarddsl.ru)
[09:16:49] *** Joins: echristo (echristo@4BCF0721.E96923BF.37EDBBD4.IP)
[09:16:54] <chrido> i think it must have something to do with the path of the header files, since llvm has it's own
[09:22:18] *** Joins: gimpf (gimpf@moz-8B1ECFC1.adsl.highway.telekom.at)
[09:22:21] <flaper87> chrido: bindgen is not bullet-proof. :/
[09:25:29] <bjz> how do I store something mutable within something like an Arc?
[09:25:42] *** Joins: tgkokk (user@moz-BF0AF9D2.home.otenet.gr)
[09:26:34] <bjz> RefMut?
[09:27:20] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Quit: by!)
[09:27:32] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[09:27:52] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:28:19] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[09:28:25] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[09:28:57] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[09:29:40] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:29:59] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[09:30:02] <chrido> flaper87: i don't think it's bindgen's fault, must have something to do with this: https://bugs.launchpad.net/ubuntu/+source/llvm-defaults/+bug/1242300
[09:30:17] <chrido> but don't know how to work around this
[09:30:32] <chrido> but should be corrected
[09:33:20] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[09:34:37] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[09:37:52] *** Quits: tgkokk (user@moz-BF0AF9D2.home.otenet.gr) (Ping timeout)
[09:39:03] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[09:39:06] *** Quits: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:39:44] *** Joins: eibwen (kvirc@moz-74CCABC0.dip0.t-ipconnect.de)
[09:41:50] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:42:52] *** Quits: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net) (Quit: Leaving.)
[09:43:31] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:45:25] *** Joins: paraze (paraze@moz-9E76094B.w90-27.abo.wanadoo.fr)
[09:45:41] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[09:46:48] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[09:47:58] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[09:48:40] *** Joins: twi (Adium@moz-429185BE.cust.vodafonedsl.it)
[09:50:24] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Quit: Leaving)
[09:51:40] *** Joins: exoticorn (exoticorn@moz-88AC35D8.adsl.alicedsl.de)
[09:54:08] <huon> chrido: I think there may be a flag to rust-bindgen that makes it ignore "built in" headers
[09:54:12] <exoticorn> Hi! I have written this brilliant rust program: extern crate rand; use rand::Rng; fn main() { println!("{}", rand::task_rng().gen_range(1, 11)); }
[09:54:13] <huon> bjz: sync::Mutex
[09:54:21] <huon> bjz: (or sync::RWArc)
[09:54:33] <exoticorn> Why is "use rand::Rng;" needed to call gen_range?
[09:54:52] <huon> because methods on traits are scoped with the trait
[09:54:59] <exoticorn> Is it something like: You can only call methods of traits defined in your crate, or that you pull in with use?
[09:55:00] <huon> (and gen_range comes from the Rng trait)
[09:55:16] <huon> it's just the second one
[09:55:32] <huon> "you can only call methods of traits that are in scope"
[09:55:50] <huon> (so if the trait is defined in the current module (not crate) that's fine, otherwise you need to import it with `use`.)
[09:55:57] <exoticorn> I see
[09:56:01] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[09:56:18] <huon> bjz: sorry, sync::RWLock, not RWArc
[09:56:52] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[09:57:07] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[09:57:15] *** Quits: echristo (echristo@4BCF0721.E96923BF.37EDBBD4.IP) (Quit: echristo)
[09:59:31] *** Joins: chris_ (chrido@moz-A85AA196.pool.mediaways.net)
[10:00:51] *** Quits: chrido (chris@moz-40945A0.pool.mediaways.net) (Ping timeout)
[10:00:52] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[10:01:32] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[10:01:50] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:03:39] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:03:48] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[10:04:39] <bjz> huon: I used Cell::{get, set}
[10:04:44] *** Quits: philix (felipe@moz-9DEF9CA2.user.veloxzone.com.br) (Ping timeout)
[10:04:50] <huon> bjz: oh, that works too
[10:04:59] <bjz> which is better?
[10:04:59] <huon> hm... wait
[10:05:03] <huon> surely that doesn't
[10:05:07] *** Joins: philix (felipe@moz-64F21CB5.user.veloxzone.com.br)
[10:05:14] *** Joins: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch)
[10:05:17] <bjz> oh, I am not looking for concurrency
[10:05:18] <huon> that shouldn't be threadsafe
[10:05:22] <huon> oh... then yes.
[10:05:27] <bjz> coolies
[10:05:36] <huon> Are you using Arc but not across threads?
[10:05:40] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[10:05:41] *** ChanServ sets mode: +o pnkfelix
[10:05:41] <huon> (Rc would be better...)
[10:05:43] <bjz> no, not now
[10:05:54] <huon> ok, cool
[10:06:03] <huon> you've got it all under control :)
[10:06:34] <bjz> huon: https://gist.github.com/bjz/3b43e7e9d5791e237351
[10:07:32] *** Joins: Earnestly (earnest@moz-2C691159.dyn.plus.net)
[10:07:40] <bjz> why does Cell not implement the deref traits?
[10:08:02] <huon> because getting a reference out of a Cell would be a bad thing
[10:08:13] <huon> you need RefCell if you want a &/&mut
[10:08:26] <bjz> ah
[10:08:32] <huon> Cell doesn't have to do any dynamic borrow checks, because all it does is copy in and copy out
[10:08:43] <bjz> so it is faster?
[10:08:48] <huon> no possibility to create aliasing &mut's or mutate a &
[10:08:54] <huon> depends
[10:09:01] <huon> it's got less overhead
[10:09:26] <huon> but if your value is very large, then copying in and out when you only need a reference is probably slower
[10:09:32] <bjz> ah, makes sense
[10:10:09] <huon> however, Cell is very transparent to LLVM, so I'd assume that it optimises better than RefCell in general
[10:10:53] <huon> e.g. `x: Cell<(int, int)> let (y, z) = x.get(); x.set((y, z + 1))` probably optimises to just incrementing the second int
[10:11:07] <huon> no copying or even touching the first one
[10:11:22] <huon> (Cell<T> actually has the same representation/size as `T`, which is nice.)
[10:13:06] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[10:13:23] *** Joins: sinma (sinma@moz-6A11C47C.fbx.proxad.net)
[10:14:02] *** flaper87 is now known as flaper87|afk
[10:14:25] <sinma> Hi, I saw the release note and I saw the macro `try!()` but no `if_ok!()`, has `if_ok!()` been renamed into `try!()`?
[10:14:47] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Ping timeout)
[10:15:03] <huon> yep
[10:15:42] <bjz> huon: awsome
[10:18:01] <sinma> huon: thanks
[10:19:03] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:19:17] <exoticorn> Ah, now I see what got me confused: Methods from a trait-less impl can be called always, but for trait methods I need to have the trait in scope. Correct?
[10:19:47] <huon> exoticorn: yeah, methods in a trait-less impl are attached to the type
[10:19:56] *** Joins: arielb1 (arielb1@moz-8F646A97.red.bezeqint.net)
[10:20:10] <exoticorn> That makes sense, thanks!
[10:20:42] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[10:20:47] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:21:15] *** Joins: Nekit1234007 (Nekit12340@BA7ECF2A.54992E3C.47C77BB5.IP)
[10:21:47] *** Quits: Nekit1234007_ (Nekit12340@4CE4BE01.1B26E7DA.4707F662.IP) (Ping timeout)
[10:22:22] <arielb1> can you have objects bigger than SSIZE_T_MAX in Rust?
[10:23:08] *** Quits: subhashb (Adium@2A766894.4313BF5F.422D491.IP) (Quit: Leaving.)
[10:23:11] <huon> i.e. more than half the addressable memory space?
[10:23:19] <arielb1> yes
[10:23:29] * huon tries
[10:25:00] <huon> I can't allocate a huge (1 << 46) vector on x64, but I don't think that's a rust limitation ;P
[10:25:29] <huon> arielb1: oh, erm, are you asking about a huge struct, or does a huge vector count?
[10:26:01] <arielb1> huge vector
[10:26:07] <arielb1> I'm talking about x86
[10:26:18] <arielb1> and ARM
[10:26:20] <huon> yeah, I'm trying it on a x86 computer now
[10:26:35] <arielb1> SSIZE_T_MAX should be 2^63-1 on x86-64
[10:27:28] <huon> yeah, I was working with address size
[10:27:51] <huon> (i.e. half of linux's userspace memory (2^47))
[10:28:01] <huon> but even 1 << 40 doesn't work 
[10:29:09] *** Joins: f_blue (f_yellow@moz-6398EFDF.dclient.hispeed.ch)
[10:31:12] *** Quits: skade (skade@moz-57787370.web.vodafone.de) (Connection reset by peer)
[10:31:42] <arielb1> also, can you have an object at address 0xffffffff?
[10:32:09] <arielb1> (i.e. (uintptr_t)-1)
[10:32:14] <huon> if your allocator gives you that (and it's zero sized), I guess so?
[10:32:20] <arielb1> C prohibits that
[10:32:24] <huon> hm...
[10:32:50] <huon> Rust has zero-sized objects so theoretically that could be valid, I think.
[10:32:51] <arielb1> actually if its zero sized it is fine
[10:32:59] *** Quits: sinma (sinma@moz-6A11C47C.fbx.proxad.net) (Quit: Konversation terminated!)
[10:34:12] <arielb1> I was only asking about a positivly-sized ovject
[10:35:10] <huon> I can (normally) allocate a vector of size 0xAE_00_00_00 on x86 linux btw
[10:35:32] <huon> but making the E an F makes it fail (seemingly) reliably
[10:36:36] <huon> (that's just allocating it with Vec::with_capacity, not touching anything, so it's all virtual mem)
[10:37:50] <huon> I think the limitations are the limitations of the system allocator (and the operating system itself)
[10:39:25] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[10:41:23] *** Parts: alexbobp (alex@moz-C908EC50.pwnz.org) ()
[10:41:38] <arielb1> can you try with a 64-bit kernel and 32-bit userspace?
[10:41:52] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[10:42:00] <arielb1> compile the code on 32-bit with -m32
[10:42:07] <arielb1> on 64-bit kernel with gcc -m32 code.c
[10:42:18] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[10:42:23] <huon> gtg, sorry
[10:43:58] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[10:44:13] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[10:46:30] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[10:49:28] *** Quits: mawuli (mawuli@2760A9B5.4882C7ED.DE15C958.IP) (Ping timeout)
[10:51:50] *** Joins: oberstet (quassel@moz-60E548D7.dynamic.mnet-online.de)
[10:53:33] *** Quits: zen|merge (quassel@91FECF97.C92E06F3.D74AE493.IP) (Ping timeout)
[10:54:38] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[10:56:35] *** Quits: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch) (Quit: Leaving.)
[10:57:53] *** Joins: zen|merge (quassel@91FECF97.C92E06F3.D74AE493.IP)
[10:58:52] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Connection reset by peer)
[11:00:48] *** Quits: arielb1 (arielb1@moz-8F646A97.red.bezeqint.net) (Quit: Leaving)
[11:01:09] *** Joins: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch)
[11:01:54] *** Joins: kvanb (kvanb@moz-620F1D29.lnse4.lon.bigpond.net.au)
[11:02:14] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[11:02:49] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[11:04:00] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[11:04:19] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Quit: Konversation terminated!)
[11:04:24] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[11:05:27] *** Joins: mib_mh1xj0 (Mibbit@moz-593F80D6.dynamic.snap.net.nz)
[11:05:42] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:06:02] *** Joins: leowoe (Leo@moz-72D47201.dclient.hispeed.ch)
[11:06:04] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[11:06:31] <eibwen> does TotalEq need transitivity?
[11:06:42] <huon> yes
[11:07:02] *** Joins: p1start (rewi@moz-E7F3D014.org)
[11:07:07] <eibwen> okay, should I add it to the docs then?
[11:08:08] <huon> listing the three properties of an equivalence relation (transitive, reflexive and symmetric) would be appropriate, yeah.
[11:08:13] <mib_mh1xj0> How do I uninstall Rust on OS X Mavericks? (I want to remove the 32-bit version and install the 64-bit version).
[11:08:29] <eibwen> okay
[11:09:33] <huon> mib_mh1xj0: I don't know the best way, but I would assume deleting the directory/any files works fine
[11:09:47] <Tobba> does anyone have any idea how to trick ld into adding an application manifest on windows
[11:11:14] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[11:13:16] *** Quits: rylev (rylev@99447EFF.841B7A6.59369754.IP) (Client exited)
[11:13:27] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[11:13:29] <mib_mh1xj0> is there a proper way to do it? :P
[11:15:08] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Ping timeout)
[11:15:16] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[11:16:16] *** Joins: p1start (rewi@moz-E7F3D014.org)
[11:16:53] *** Joins: mawuli (mawuli@2760A9B5.4882C7ED.DE15C958.IP)
[11:16:53] *** Joins: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP)
[11:18:50] *** Quits: derek_c (derek@moz-1578B046.cit.cornell.edu) (Ping timeout)
[11:21:18] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[11:24:11] *** Joins: mye (mye@moz-5D74A137.dip0.t-ipconnect.de)
[11:24:26] *** Quits: oberstet (quassel@moz-60E548D7.dynamic.mnet-online.de) (Client exited)
[11:24:59] *** Joins: abaez (a__@moz-49B96D6C.nycmny.fios.verizon.net)
[11:26:39] *** Quits: homa_rano (edre@moz-9BE50501.hsd1.ma.comcast.net) (Ping timeout)
[11:26:42] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[11:26:50] <mib_mh1xj0> anyone?
[11:27:44] *** Joins: rylev (rylev@99447EFF.841B7A6.59369754.IP)
[11:27:54] <huon> pnkfelix: are you on OSX?
[11:28:02] *** Joins: taliriktug (Mibbit@5ACC7636.C3AC81A2.906273CD.IP)
[11:28:12] <taliriktug> hey folks
[11:28:13] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[11:28:14] <huon> pnkfelix: (if so, do you happen to know how to uninstall Rust to assist mib_mh1xj0)
[11:28:52] <huon> upgrading from 32 to 64-bit, not uninstalling completely (fortunately :P )
[11:28:55] <taliriktug> How can I make a mutable vector inside some struct? Here is what I tried: https://codeo.me/4p3
[11:28:58] <mib_mh1xj0> :)
[11:29:04] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[11:29:28] <huon> taliriktug: take `&mut self` rather than `&self`
[11:29:49] <huon> taliriktug: (for putpixel)
[11:29:54] <taliriktug> I see
[11:30:38] <taliriktug> oh, thanks. It works now
[11:30:39] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[11:31:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[11:31:14] *** Joins: mib_koffqr (Mibbit@moz-90DAD07C.rivrw10.nsw.optusnet.com.au)
[11:31:26] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Quit: Konversation terminated!)
[11:31:48] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[11:32:19] <eibwen> mib_koffqr: have you tried just installing rust, 64bit, without uninstalling rust, 32bit?
[11:32:34] <mib_mh1xj0> no
[11:32:44] <mib_mh1xj0> I was wondering whether I "should" or not.
[11:33:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[11:33:39] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[11:35:16] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[11:35:21] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[11:35:37] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[11:36:04] *** Quits: gimpf (gimpf@moz-8B1ECFC1.adsl.highway.telekom.at) (Quit: Leaving.)
[11:36:15] <Tobba> fuck wxWidgets
[11:36:23] <Tobba> how does wxRust make visual styles work?
[11:37:52] *** Quits: rylev (rylev@99447EFF.841B7A6.59369754.IP) (Client exited)
[11:41:07] *** Quits: kvanb (kvanb@moz-620F1D29.lnse4.lon.bigpond.net.au) (Ping timeout)
[11:42:31] *** Joins: kvanb (kvanb@moz-37C026E9.lnse1.win.bigpond.net.au)
[11:43:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[11:44:50] *** Quits: mib_koffqr (Mibbit@moz-90DAD07C.rivrw10.nsw.optusnet.com.au) (Quit: http://www.mibbit.com ajax IRC Client)
[11:44:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[11:45:56] <Tobba> uhh
[11:46:03] <Tobba> is there any way to tell rustc to link to additional objects
[11:46:53] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Ping timeout)
[11:47:31] *** Joins: jviereck1 (Adium@moz-7859BAFE.dclient.hispeed.ch)
[11:47:50] <Tobba> ah, link-args might do it
[11:48:12] *** Joins: q66 (q66@moz-F17C8BF3.range109-145.btcentralplus.com)
[11:48:16] *** Quits: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch) (Ping timeout)
[11:48:48] *** Joins: mib_tlsu3u (Mibbit@moz-90DAD07C.rivrw10.nsw.optusnet.com.au)
[11:49:58] <mib_mh1xj0> well. on 64-bit OS X would the 32-bit version of the compiler (and the executables it makes) be just as safe to run as the 64-bit version?
[11:51:00] *** flaper87|afk is now known as flaper87
[11:51:11] <mib_tlsu3u> hi
[11:52:14] <mib_tlsu3u> I'm just interested what the current view is on interrupting reads on TcpSockets
[11:52:19] <mib_tlsu3u> https://github.com/mozilla/rust/issues/6842
[11:52:32] <mib_tlsu3u> it's kind of been a problem for a long time
[11:52:51] <kvanb> ... cannot isolate segfault on windows
[11:53:29] <mib_tlsu3u> and it doesn't look like any particular solution has been settled on
[11:54:17] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[11:54:56] *** Quits: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP) (Quit: Leaving.)
[11:54:58] <mib_tlsu3u> there's this
[11:54:59] <mib_tlsu3u> https://github.com/mozilla/rust/issues/12353
[11:55:51] <mib_tlsu3u> but it's not clear if that's actually a plan or just brainstorming
[11:56:06] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Ping timeout)
[11:56:22] *** Quits: q66 (q66@moz-F17C8BF3.range109-145.btcentralplus.com) (Ping timeout)
[11:57:11] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[11:57:20] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[11:57:31] <mib_tlsu3u> also discussion, but solution here: https://github.com/mozilla/rust/issues/11165
[11:57:46] *** Joins: Shrike (leo@moz-E5DBC6C1.elisa-laajakaista.fi)
[11:58:56] <cyndis> i'm having the same problem. no knowledge on any plans though.
[11:59:24] <mib_tlsu3u> yeah, I've been blocked on this for a long time
[11:59:50] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[11:59:52] <mib_tlsu3u> well I'm not familiar with the internals, but a few higher-level approaches come to mind:
[12:00:18] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[12:00:19] <mib_tlsu3u> 1. Allow a timeout on read, which would probably provide a good-enough solution
[12:00:45] <cyndis> not really satisfying, though
[12:01:00] <mib_tlsu3u> 2. allow select! over TcpSockets somehow - nicer for users but doesn't sound like it's easily implementable
[12:01:47] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Ping timeout)
[12:01:59] <mib_tlsu3u> I'd be happy with a read timeout in the meantime :-)
[12:02:03] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[12:02:27] <cyndis> at the moment i think allowing simultaneous select (or async/await, whatever) over channels and io's is definitely something that is needed
[12:02:37] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[12:03:06] <mib_tlsu3u> yeah, would be awesome, but I've gotten the impression that that's off the table
[12:03:22] <cyndis> yeah, don't know how hard that would be to implement
[12:03:29] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[12:04:04] <cyndis> as a workaround, i'm thinking i'll just force libnative and use libc sockets instead of rust's api
[12:04:10] *** Quits: jviereck1 (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[12:04:26] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:04:47] <taliriktug> Is there some method for extracting bits from a byte (u8) ?
[12:04:54] <mib_tlsu3u> TcpSocket::set_nonblocking(true) would also provide a workable solution
[12:05:36] <mib_tlsu3u> kind the inverse of the read-timeout, and with similar downsides
[12:05:52] *** Joins: rcxdude (rcxdude@moz-CF3D9A5D.range86-176.btcentralplus.com)
[12:05:53] <cyndis> yeah
[12:06:18] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[12:07:31] <mib_tlsu3u> going with native sockets might be the way to do it
[12:07:49] <mib_tlsu3u> but I was hoping there were plans to solve this within rust somehow
[12:07:57] <huon> taliriktug: what do you mean by that? (i.e. what output do you want? (bool, bool, bool, bool,  bool, bool, bool, bool)?)
[12:08:06] <mib_tlsu3u> but there doesn't seem much movement on the issue
[12:08:14] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[12:09:23] <cyndis> i'm sure it'll get done eventually. how soon is that is another question.
[12:09:30] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[12:10:45] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[12:11:22] *** Joins: zenoamaro (zenoamaro@moz-B44D98B.ip59.fastwebnet.it)
[12:12:10] *** Joins: Ferreus (ferreus@moz-3C509473.lsn.wtnet.de)
[12:12:47] *** Quits: zenoamaro (zenoamaro@moz-B44D98B.ip59.fastwebnet.it) (Quit: Textual IRC Client: www.textualapp.com)
[12:12:54] *** Joins: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it)
[12:15:16] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[12:16:40] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[12:17:44] <eibwen> r? https://github.com/mozilla/rust/pull/13358
[12:17:50] *** Quits: osa1 (omer@1351C8B6.53EDA631.7DA6A6F6.IP) (Quit: Konversation terminated!)
[12:19:52] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:20:13] *** Quits: mib_tlsu3u (Mibbit@moz-90DAD07C.rivrw10.nsw.optusnet.com.au) (Quit: http://www.mibbit.com ajax IRC Client)
[12:21:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:22:14] <mib_mh1xj0> hmm.. are rustc and rustdoc the only files that get installed?
[12:23:57] *** Quits: kvanb (kvanb@moz-37C026E9.lnse1.win.bigpond.net.au) (Quit: kvanb)
[12:24:08] <eibwen> mib_mh1xj0: also a lot of libraries in /usr/lib/lib*.rlib and /usr/lib/lib*.so
[12:24:50] <mib_mh1xj0> ok
[12:24:58] <mib_mh1xj0> so how do I uninstall?
[12:25:17] <mib_mh1xj0> n.b. uninstalling to upgrade it ;)
[12:26:22] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[12:26:47] *** Joins: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch)
[12:27:31] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Quit: Leaving.)
[12:28:33] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[12:30:49] *** Joins: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP)
[12:31:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[12:32:54] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[12:33:24] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[12:34:11] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[12:34:34] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[12:34:42] <mib_mh1xj0> hmm, well, i'll settle for 32-bit if it's fine to run the 32-bit version on a 64-bit osx?
[12:35:13] <mib_mh1xj0> just not sure if i'm "supposed" to do that
[12:35:52] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[12:36:42] <huon> mib_mh1xj0: how did you install the 32-bit one?
[12:37:24] <mib_mh1xj0> mac installer from rust-lang.org
[12:37:55] *** Joins: rylev (rylev@moz-7B782522.cust.telecolumbus.net)
[12:38:56] *** Joins: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[12:39:15] <aochagavia> Why do my merged pull requests on GitHub appear as closed?
[12:39:17] *** Joins: vgeddes (vincent.ge@moz-102C6E36.access.mtnbusiness.co.za)
[12:39:36] *** Quits: rylev (rylev@moz-7B782522.cust.telecolumbus.net) (Ping timeout)
[12:40:41] *** Joins: dart (ga2arch@moz-6823D7E6.libero.it)
[12:40:47] *** Quits: dart (ga2arch@moz-6823D7E6.libero.it) (Quit: dart)
[12:41:01] *** Joins: dart (ga2arch@moz-6823D7E6.libero.it)
[12:41:05] <dart> hi
[12:41:14] <aochagavia> hello
[12:41:59] <dart> is there an officila "pastbin" for rust code ?
[12:42:03] <dart> *official
[12:42:17] <eibwen> huon: updated https://github.com/mozilla/rust/pull/13358
[12:42:18] <aochagavia> you can use GitHub's gist
[12:42:33] <aochagavia> dart: https://gist.github.com/
[12:42:37] <aochagavia> it is not official of Rust
[12:42:51] <aochagavia> but you can get syntax highlighting for Rust
[12:43:08] <taliriktug> dart: I like codeo.me, it has some synatx highlighting too
[12:43:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[12:45:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[12:45:44] *** Quits: exoticorn (exoticorn@moz-88AC35D8.adsl.alicedsl.de) (Client exited)
[12:45:45] <aochagavia> Does somebody know why some merged pull requests to Mozilla/Rust appear as closed without merging?
[12:46:53] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[12:46:54] <Ms2ger> I guess because bors confuses gh sometimes
[12:46:57] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[12:48:03] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[12:49:40] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[12:50:09] *** Joins: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net)
[12:50:58] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[12:54:01] *** Quits: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[12:54:24] *** Joins: nfroidure (nfroidure@moz-E753E331.w90-18.abo.wanadoo.fr)
[12:54:30] *** Quits: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP) (Quit: Leaving.)
[12:58:15] *** Joins: canhtak (canhtak@moz-641FE58F.wl.t.ulaval.ca)
[13:00:27] *** flaper87 is now known as flaper87|afk
[13:01:19] *** flaper87|afk is now known as flaper87
[13:02:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:02:29] *** Quits: alexherbo2 (alexherbo2@moz-AB6EB255.ip-91-121-133.eu) (Quit: WeeChat 0.4.3)
[13:05:04] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:05:30] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[13:05:46] *** Quits: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:05:53] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[13:06:06] *** Joins: alexherbo2 (alexherbo2@moz-AB6EB255.ip-91-121-133.eu)
[13:06:14] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[13:06:57] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[13:07:10] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[13:07:58] *** Joins: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it)
[13:09:20] *** Joins: exoticorn (exoticorn@moz-88AC35D8.adsl.alicedsl.de)
[13:13:42] *** Quits: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP) (Quit: qwerty_nor)
[13:13:47] *** Joins: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP)
[13:14:23] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[13:16:04] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Ping timeout)
[13:16:27] *** Quits: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net) (Quit: meyer)
[13:17:58] *** Quits: aatch|mobile (aatch@moz-2BB0AC01.cable.telstraclear.net) (Ping timeout)
[13:18:59] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[13:19:42] *** Joins: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP)
[13:19:53] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[13:19:58] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:22:27] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Connection reset by peer)
[13:22:27] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[13:24:37] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[13:25:48] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[13:25:54] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:26:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:27:36] *** Joins: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net)
[13:28:25] *** Quits: dart (ga2arch@moz-6823D7E6.libero.it) (Ping timeout)
[13:29:49] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:30:02] *** Quits: eibwen (kvirc@moz-74CCABC0.dip0.t-ipconnect.de) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[13:30:12] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[13:30:13] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[13:31:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[13:31:56] *** Quits: mib_mh1xj0 (Mibbit@moz-593F80D6.dynamic.snap.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[13:32:48] <nszceta> hello
[13:32:54] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[13:33:00] <nszceta> how is the cargo package manager coming along
[13:33:13] <cmr> nszceta: https://github.com/carlhuda/cargo
[13:33:16] <nszceta> is it good or ususable
[13:33:23] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[13:33:29] <nszceta> *unusable
[13:33:36] <nszceta> thanks you cmr 
[13:33:44] <cmr> it's not usable yet, no.
[13:33:52] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Ping timeout)
[13:33:57] *** Joins: ozkriff (Mibbit@D803906A.389F1DB8.D5F347E6.IP)
[13:34:03] <nszceta> cmr what must be done to reach 1.0
[13:34:04] *** Quits: lht (lht@moz-756ECB7E.hinet-ip.hinet.net) (Quit: lht)
[13:34:12] <cmr> see topic: bit.ly/1dM8ii2
[13:34:14] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[13:34:29] <nszceta> as in Cargo itself
[13:34:32] <nszceta> not rust as a language
[13:34:47] <cmr> I don't know.
[13:34:55] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[13:34:56] <cmr> they publish weekly updates to the mailing list
[13:35:16] <nszceta> is there an architectural overview somewhere
[13:35:26] <nszceta> I am interested in the architecture of cargo
[13:35:39] <cmr> see the repo, there's docs in it
[13:35:41] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[13:35:50] <cmr> https://mail.mozilla.org/listinfo/cargo-dev
[13:36:36] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[13:37:07] *** Joins: dart (ga2arch@moz-6823D7E6.libero.it)
[13:37:35] *** Quits: Sancio (Mibbit@moz-CAA5C5B6.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:37:58] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[13:38:29] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[13:38:42] *** Joins: rylev (rylev@moz-98E6C238.cust.telecolumbus.net)
[13:38:50] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:40:22] *** Quits: rylev (rylev@moz-98E6C238.cust.telecolumbus.net) (Ping timeout)
[13:40:32] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[13:42:22] *** Quits: chris_ (chrido@moz-A85AA196.pool.mediaways.net) (Ping timeout)
[13:42:36] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[13:44:55] *** Joins: nkoep (nik@moz-D21960A0.pool.mediaways.net)
[13:45:10] <cmr> http://cmr.github.io/blog/2014/04/05/this-week-in-rust/
[13:45:33] <strcat> cmr: link at the bottom is screwed up
[13:45:44] <cmr> ah crap forgot to fix that
[13:46:12] *** Quits: mawuli (mawuli@2760A9B5.4882C7ED.DE15C958.IP) (Ping timeout)
[13:47:19] *** Joins: newbie (kvirc@moz-74CCABC0.dip0.t-ipconnect.de)
[13:47:22] *** Joins: mawuli (mawuli@2760A9B5.4882C7ED.DE15C958.IP)
[13:47:38] *** newbie is now known as eibwen
[13:47:50] <eibwen> huon: updated again https://github.com/mozilla/rust/pull/13358
[13:50:26] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[13:51:28] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[13:51:57] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[13:52:12] <eibwen> acrichto: I just used the style from the surroundings, Eq is also documented as a block comment. should I change that too?
[13:52:45] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Ping timeout)
[13:53:45] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[13:53:58] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[13:55:48] <Tobba> why does rustc take so horribly long to initialize on windows
[13:55:54] <Tobba> on windows just rustc --help takes several seconds
[13:58:55] <klutzy> Tobba: blame mingw
[13:59:22] <klutzy> Tobba: https://github.com/mozilla/rust/issues/8859
[14:01:00] <benh> hm, i think libglob is pretty wrong
[14:01:01] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[14:01:28] *** Joins: Sorella (queen@BD3C138B.B46B7936.54BCAB54.IP)
[14:02:00] <benh> it works by reading all entries in the current directory and then eliminating those that don't match the initial part of the glob while recursing into those that do
[14:02:10] *** Quits: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Ping timeout)
[14:02:14] <benh> that can't really work with globs that include . or .. though
[14:02:59] <strcat> klutzy: well, windows doesn't have proper PIC so that's why mingw doesn't work properly - they didn't spend enough time adapting it to the lack of proper dynamic libs
[14:03:01] *** Joins: eddyb (eddy@717B0165.D51DAF03.FB866788.IP)
[14:03:06] <strcat> so I'd say blame microsoft ;p
[14:03:23] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[14:03:41] <Tobba> PIC sucks on x86 though
[14:05:10] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:05:30] <Earnestly> uhuh?
[14:05:43] *** Quits: mawuli (mawuli@2760A9B5.4882C7ED.DE15C958.IP) (Ping timeout)
[14:05:54] *** Joins: aperos (Mibbit@moz-1689688F.dyn.optonline.net)
[14:06:08] <Tobba> actually, position independant DATA sucks
[14:06:13] <Tobba> by default
[14:06:55] <huon> https://badges.mozilla.org/en-US/badges/tag/rust
[14:07:06] *** Joins: mawuli (mawuli@2760A9B5.4882C7ED.DE15C958.IP)
[14:07:09] <huon> make some more people :P
[14:07:24] <EKK> Make more mans
[14:07:32] <huon> eibwen: did you mean to ask that question to cmr ?
[14:07:51] *** Joins: q66 (q66@moz-7B0E449B.range81-129.btcentralplus.com)
[14:07:53] <eibwen> eibwen: yes
[14:08:01] <aperos> hey I'm trying to build master but I'm getting an error, something like....make: stat: doc/std/index.html: Permission denied rustdoc doc/std/index.html task '<main>' failed at 'assertion failed: fd > 0', /home/pj/Lib/rust/src/librustdoc/flock.rs:95 make: *** [doc/std/index.html] Error 101
[14:08:04] <eibwen> cmr: I just used the style from the surroundings, Eq is also documented as a block comment. should I change that too?
[14:08:05] <aperos> can anyone help me out?
[14:08:07] <eibwen> huon: yes
[14:08:09] <cmr> eibwen: if you could, that's be great :D
[14:08:13] <eibwen> ok
[14:08:27] *** Joins: philix_ (felipe@moz-4863F1A.user.veloxzone.com.br)
[14:08:58] <cmr> aperos: it's failing to lock the file because it's a bad fd. did you accidentally do something with `sudo`? check the permissions of doc/std/index.html, or doc/std/
[14:09:01] *** Quits: philix (felipe@moz-64F21CB5.user.veloxzone.com.br) (Ping timeout)
[14:09:16] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:10:11] *** flaper87 is now known as flaper87|afk
[14:10:13] <cmr> huon: I was under the impression we were waiting to use https://badgekit.org/ for Rust's badges (not stuff servo is doing, but rust itself)
[14:10:25] *** flaper87|afk is now known as flaper87
[14:10:25] *** Quits: dart (ga2arch@moz-6823D7E6.libero.it) (Ping timeout)
[14:10:51] <huon> cmr: oh, I've got no idea what's going on
[14:10:59] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:11:22] * huon is just a pipe from TWiS into #rust :P
[14:11:26] <aperos> cmr: i did.... ./configure then sudo make && make install
[14:11:43] <cmr> aperos: you did that wrong, it should have been "make && sudo make install"
[14:11:49] *** Joins: gimpf (gimpf@moz-CB85D47F.adsl.highway.telekom.at)
[14:12:00] <cmr> aperos: the permissions of your build directory are going to be all screwed up :(
[14:12:08] <Havvy> This Week in Scheme?
[14:12:13] <Ms2ger> cmr, hmm, I wonder what's new about that badgekit thing
[14:12:15] <aperos> cmr: got it, makes sense. thanks so much!
[14:12:35] <huon> aperos: `chown -R <yourusername> <builddir>`
[14:12:36] <eibwen> cmr: what about crate-level doc comments?
[14:12:38] <eibwen> with //!?
[14:12:42] <huon> (if you're on linux)
[14:12:47] <eibwen> or are they allowed to have /*!?
[14:12:49] <huon> Havvy: servo
[14:13:01] <Havvy> Ah.
[14:13:22] <cmr> eibwen: should use //!
[14:13:22] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[14:13:25] <Ms2ger> Should've done a This Week in Scheme for April Fools
[14:13:43] <cmr> eibwen: the style is to never use block comments
[14:13:46] <eibwen> ok
[14:14:11] <cmr> Ms2ger: I was >< this close to writing an RFC for making " " an overloadable operator.
[14:14:21] <aperos> huon: thanks. that's what I would've done if I hadn't just woken up (left compiling overnight) but alas I've already done make uninstall >.<
[14:14:24] <cmr> Ms2ger: I couldn't get the grammar to work out nicely, though.
[14:14:40] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:14:56] <Ms2ger> I should hope not :)
[14:15:00] <huon> aperos: theoretically a `make uninstall` will've done nothing
[14:15:02] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[14:15:24] <huon> aperos: and the chown + `make && sudo make install` will still work
[14:15:38] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[14:15:43] <huon> (and in the best case, the `make` phase of that won't have to do anything)
[14:15:46] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[14:15:50] <aperos> huon: got it. thanks for the help
[14:16:01] *** vfetwnuncszu is now known as dcrewi
[14:16:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[14:16:42] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Ping timeout)
[14:17:22] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Quit: Leaving.)
[14:19:21] <huon> aperos: btw, there are official nightly builds https://mail.mozilla.org/pipermail/rust-dev/2014-March/009223.html and (unofficial) nightly packages https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[14:20:15] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:22:07] <huon> oh, I guess I should be linking to http://www.rust-lang.org/install.html now that we have it
[14:22:25] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:22:48] <eibwen> cmr: now with block comments https://github.com/mozilla/rust/pull/13358
[14:22:59] <aperos> huon: ok thanks I'll take a look
[14:23:19] <aperos> huon: does the ubuntu PPA stay updated more or less?
[14:23:35] <huon> aperos: the nightly one does
[14:24:00] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[14:24:07] <huon> (as in, specifically the rust-nightly package from it.)
[14:24:25] <aperos> huon: awesome, I'll just do that then
[14:24:39] * huon -> bed
[14:26:50] *** Joins: mib_i9gmc3 (Mibbit@moz-593F80D6.dynamic.snap.net.nz)
[14:26:55] <mib_i9gmc3> hi
[14:27:15] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[14:27:17] *** Quits: Shrike (leo@moz-E5DBC6C1.elisa-laajakaista.fi) (Client exited)
[14:28:18] *** Joins: olegon (olegon@moz-909B2C54.dsl.telesp.net.br)
[14:29:09] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[14:29:15] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[14:29:23] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[14:29:25] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[14:29:33] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[14:29:58] *** Joins: edwardw (edwardw@39A6AFF0.A6FC4FF2.1BEE1C35.IP)
[14:30:48] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[14:31:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[14:31:31] *** Quits: W0rmDr1nk (wormdrink@moz-CEAF0263.access.mtnbusiness.co.za) (Ping timeout)
[14:32:51] *** Quits: edwardw (edwardw@39A6AFF0.A6FC4FF2.1BEE1C35.IP) (Quit: Leaving...)
[14:33:09] *** Joins: W0rmDr1nk (wormdrink@moz-CEAF0263.access.mtnbusiness.co.za)
[14:33:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[14:34:05] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:34:38] *** Quits: mib_i9gmc3 (Mibbit@moz-593F80D6.dynamic.snap.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[14:34:50] *** Joins: dart (ga2arch@moz-6823D7E6.libero.it)
[14:34:55] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[14:35:41] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[14:37:22] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[14:37:48] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[14:39:25] *** Joins: rylev (rylev@moz-CBBB20C4.cust.telecolumbus.net)
[14:39:29] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[14:39:48] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Client exited)
[14:41:05] *** Quits: rylev (rylev@moz-CBBB20C4.cust.telecolumbus.net) (Ping timeout)
[14:41:10] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[14:42:34] *** Joins: osa1 (omer@482C205A.C7E248C6.D3DA370F.IP)
[14:44:20] *** Joins: peros (appos@moz-1689688F.dyn.optonline.net)
[14:44:54] *** Quits: aperos (Mibbit@moz-1689688F.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:45:06] *** peros is now known as aperos
[14:46:58] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[14:49:16] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[14:54:02] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[14:54:18] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[14:55:55] *** Quits: osa1 (omer@482C205A.C7E248C6.D3DA370F.IP) (Quit: Konversation terminated!)
[14:57:20] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[14:57:21] *** Joins: willingc (willingc@moz-F095E013.san.res.rr.com)
[14:57:57] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[14:58:15] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[14:58:17] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[14:59:28] *** Joins: EastByte_ (EastByte@moz-7E8984DF.ewe-ip-backbone.de)
[14:59:57] *** Quits: EastByte (EastByte@moz-A06235D9.ewe-ip-backbone.de) (Ping timeout)
[15:00:10] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:03:37] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: ...take irc away, what are you? genius, billionaire, playboy, philanthropist)
[15:04:21] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:04:33] *** Quits: jmbto (jmbto@moz-B2BEB013.net) (Quit: WeeChat 0.4.1)
[15:05:03] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[15:08:08] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:08:39] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[15:09:30] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Ping timeout)
[15:12:54] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[15:13:26] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[15:14:19] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[15:14:51] *** Quits: mawuli (mawuli@2760A9B5.4882C7ED.DE15C958.IP) (Ping timeout)
[15:15:23] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[15:16:12] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[15:17:04] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Ping timeout)
[15:22:06] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[15:22:42] *** Quits: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch) (Quit: Leaving.)
[15:23:25] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Ping timeout)
[15:24:51] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[15:25:37] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[15:27:07] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Quit: Leaving.)
[15:27:32] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[15:29:57] *** Joins: jmbto (jmbto@moz-B2BEB013.net)
[15:31:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[15:31:14] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:31:51] *** Joins: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl)
[15:32:12] *** Joins: edwardw (edwardw@ABCD1FCA.E8120A68.7E4FEB66.IP)
[15:33:06] *** Joins: rylev (rylev@moz-D19F1F3E.cust.telecolumbus.net)
[15:33:09] *** Quits: ehsanul (harish@moz-24DD2596.hsd1.ca.comcast.net) (Ping timeout)
[15:33:11] *** Quits: rylev (rylev@moz-D19F1F3E.cust.telecolumbus.net) (Client exited)
[15:33:12] *** Joins: rylev (rylev@moz-D19F1F3E.cust.telecolumbus.net)
[15:33:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[15:33:52] *** Quits: mindcat (mindcat@7CB300B6.BDFDA69D.857BDFA9.IP) (Quit: Lost terminal)
[15:34:16] *** Joins: Rustproof (Mibbit@moz-A38CADBE.w92-163.abo.wanadoo.fr)
[15:36:53] *** Quits: philix_ (felipe@moz-4863F1A.user.veloxzone.com.br) (Ping timeout)
[15:37:06] *** Joins: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch)
[15:37:51] <Rustproof> *pub use the::boring::path::SomeEnum;* Only "export" SomeEnum but not it's variants, is there a way to do both without making a manual list ?
[15:37:55] *** Joins: philix (felipe@moz-4863F1A.user.veloxzone.com.br)
[15:38:00] *** Quits: vgeddes (vincent.ge@moz-102C6E36.access.mtnbusiness.co.za) (Ping timeout)
[15:38:13] *** Quits: mye (mye@moz-5D74A137.dip0.t-ipconnect.de) (Quit: sleep message)
[15:38:17] <Ms2ger> No
[15:39:34] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:39:48] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[15:39:51] *** Quits: philix (felipe@moz-4863F1A.user.veloxzone.com.br) (Ping timeout)
[15:40:13] <benh> Is roundtripping a std::path::Path into a ~[u8] and back guaranteed to be a no-op?
[15:40:16] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[15:40:40] *** Joins: ehsanul (harish@moz-24DD2596.hsd1.ca.comcast.net)
[15:40:48] <benh> paths are weird :(
[15:41:07] <JustAPerson> Does anyone know of a Rust regex library? If not should I just try to implement python's `re` module?
[15:41:15] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[15:41:44] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[15:41:56] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[15:42:23] <burntsushi> JustAPerson: i'm working on one, hopefully submitting a PR soon. https://github.com/BurntSushi/re2
[15:42:37] *** Joins: rootnode (rootnode@moz-309A85CC.pools.arcor-ip.net)
[15:42:57] *** Joins: philix (felipe@moz-12262F81.user.veloxzone.com.br)
[15:43:23] <cmr> benh: it should be, yes.
[15:44:00] <cmr> JustAPerson: see also https://github.com/mozilla/rust/issues/3591
[15:44:15] <benh> and it's never gonna be a weird utf-16 encoding where every second u8 is 0 for actually-ascii filenames?
[15:44:33] <cmr> benh: no, that's not a guarentee.
[15:45:17] <benh> hm :(
[15:45:19] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[15:45:21] <strcat> benh: windows paths are UCS2
[15:45:28] <strcat> so no, not even UTF-16
[15:45:32] <strcat> ;p
[15:45:39] <benh> but it kinda looks like we represent them as utf-8
[15:45:45] <benh> didn't look too closely though
[15:45:47] <cmr> we don't.
[15:45:49] <strcat> it's currently not correct on windows
[15:45:52] *** Quits: Rustproof (Mibbit@moz-A38CADBE.w92-163.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[15:45:56] <cmr> strcat: yes it is.
[15:46:00] <strcat> no, it's not
[15:46:02] <cmr> Path is just a bucket of bytes.
[15:46:08] <cmr> why?
[15:46:10] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[15:46:17] <strcat> look in path::windows
[15:46:20] <JustAPerson> burntsushi: okay cool. I can try porting some regex benchmarks to use your library and then compare them against other languages
[15:46:24] <strcat>     repr: ~str, // assumed to never be empty
[15:46:39] <strcat> it only uses ~[u8] on non-windows
[15:46:39] <burntsushi> JustAPerson: that'd be awesome. i'm still working on testing.
[15:46:47] <strcat> but it's not actually correct to use ~str on windows
[15:47:00] <strcat> (it *should* use ~[u8] everywhere - but doesn't)
[15:47:46] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[15:48:12] <benh> I kinda want un-normalized paths, but Paths are always normalized and working with a ~[u8] and appending ['/' as u8, '.' as u8, '.' as u8] isn't gonna work then :(
[15:48:34] <cmr> gah why is windows broken
[15:48:39] <cmr> I remember it being correct at some point
[15:48:58] *** Joins: mib_rmkf5d (Mibbit@moz-454C2A1E.hsd1.co.comcast.net)
[15:49:09] <eddyb> cmr: throwing stones at windows tends to break them...
[15:49:16] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[15:49:34] <cmr> not only is it broken, it's really broken
[15:49:37] <cmr> Eridius: :(
[15:50:32] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[15:50:35] <mib_rmkf5d> hey quick installation question:  I've downloaded some ARM binaries, its just a bin/rustc and a lib/* with a bunch of libraries.  when I run rustc it tells me "error when loading shared libraries".
[15:50:41] *** Quits: untitaker (untitaker@moz-41D1FBCE.adsl.highway.telekom.at) (Ping timeout)
[15:50:54] <mib_rmkf5d> is there a location where I should put this stuff so that rustc can find its libs?
[15:51:48] *** Quits: japaric (japaric@C180E43E.F3E5B3F6.F4D5766F.IP) (Ping timeout)
[15:51:57] <mib_rmkf5d> when I compiled rustc on my x86 machine I used ./configure --prefix, so I assume that's how rustc knows about the lib location in that case
[15:52:47] <JustAPerson> burntsushi: you might wanna separate the testing code from the library so it doesn't `extern crate quickcheck`
[15:53:27] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[15:53:29] <burntsushi> JustAPerson: yeah, i obviously can't include quickcheck tests when it comes time to submit. but it's helped me suss out a few bugs.
[15:53:31] *** Joins: japaric (japaric@62E36326.31BF4ADA.BFC118EE.IP)
[15:53:36] *** Joins: mye (mye@moz-5D74A137.dip0.t-ipconnect.de)
[15:53:51] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[15:54:03] <burntsushi> JustAPerson: you could either remove those tests (and extern crate quickcheck) or just install quickcheck: https://github.com/BurntSushi/quickcheck
[15:54:06] <JustAPerson> burntsushi: you may be able to #[cfg(test)] the `extern crate quickcheck` and `mod test`
[15:54:07] <JustAPerson> not sure
[15:54:15] <burntsushi> not sure either
[15:54:15] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[15:54:24] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[15:54:34] <cmr> JustAPerson: no, because it's going to run tests as part of the build.
[15:54:45] <cmr> it can't use anything not in the standard distribution if it's in the standard distribution
[15:55:36] <burntsushi> JustAPerson: i am going to be stepping out for part of the day, so i won't be around to answer questions unfortunately. i'll check back later today though. thanks for taking a look :-)
[15:56:28] <JustAPerson> cmr: really? I thought the #[cfg()] was for optional compilation, but tests are built/ran by default?
[15:56:39] <cmr> JustAPerson: with "make check", yes.
[15:56:41] <JustAPerson> burntsushi: all righty, I'll try to figure things out :)
[15:56:44] <cmr> JustAPerson: it does rustc --test
[15:56:48] <cmr> JustAPerson: which implies --cfg test
[15:57:15] <JustAPerson> cmr: this is a 3rd party lib, not librustc
[15:57:24] <cmr> so?
[15:57:38] <cmr> tests are built with `rustc --test` and run during `make check`
[15:57:40] <cmr> for all crates...
[15:58:28] *** Joins: untitaker (untitaker@moz-B8CEC22D.adsl.highway.telekom.at)
[16:00:01] *** Joins: intuxicated (intuxicate@D028818A.A6A1F366.DA0107E2.IP)
[16:01:06] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[16:01:30] <JustAPerson> burntsushi: anyways, yes, adding `#[cfg(test)]` before the `extern crate quickcheck` and `mod src` works. Just add a Makefile rule to run rustc with the `--test` flag to enable those
[16:01:55] <eibwen> strcat: was rusti your bot?
[16:02:02] <strcat> yes
[16:02:22] <eibwen> rusti: &*~()
[16:02:23] -rusti- ()
[16:02:23] -rusti- playpen: application terminated abnormally with signal 31 (Bad system call)
[16:02:27] <eibwen> strcat: ^
[16:03:10] <eibwen> it has been 100% reproducible so far
[16:03:54] <strcat> rusti: safg
[16:03:55] -rusti- <anon>:11:9: 11:13 error: unresolved name `safg`.
[16:03:55] -rusti- <anon>:11         safg
[16:03:55] -rusti-                   ^~~~
[16:03:55] -rusti- error: aborting due to previous error
[16:03:55] -rusti- playpen: application terminated with error code 101
[16:04:09] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[16:04:18] <strcat> rusti: 5
[16:04:20] -rusti- 5
[16:05:08] <strcat> eibwen: it's a bug in rust, not rusti 
[16:05:54] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:06:35] <strcat> it calls free on a zero-size type somewhere
[16:06:37] <strcat> missed a place
[16:06:48] *** Quits: willingc (willingc@moz-F095E013.san.res.rr.com) (Client exited)
[16:06:51] <strcat> eibwen: I'll fix it
[16:06:54] <eibwen> strcat: works fine on my computer
[16:07:01] <strcat> eibwen: your rust is out of date then
[16:07:07] <eibwen> 0.10
[16:07:08] *** Joins: willingc (willingc@moz-F095E013.san.res.rr.com)
[16:07:12] <taliriktug> works for mee too
[16:07:19] <eibwen> but the bug worked for pre-0.10 too
[16:07:26] <strcat> taliriktug: out of date rust then
[16:07:32] <eibwen> so it was fixed and unfixed later?
[16:07:39] <taliriktug> strcat: do I need to paste it into fn main() ?
[16:07:47] <strcat> let x = &*~();
[16:07:50] *** Quits: mye (mye@moz-5D74A137.dip0.t-ipconnect.de) (Quit: sleep message)
[16:07:51] <strcat> crashes with an up-to-date rust
[16:08:15] <strcat> rusti's root is remade daily with a timer unit
[16:08:21] <strcat> it uses the rust nightly repo
[16:08:25] <taliriktug> rustc says "warning: unused variable: `x`"
[16:08:29] <strcat> run it
[16:08:38] <strcat> if your rust is up-to-date it will crash
[16:08:48] *** Quits: willingc (willingc@moz-F095E013.san.res.rr.com) (Ping timeout)
[16:09:02] <strcat> anyway I can see the problem in the IR and I'll fix it
[16:09:08] <eibwen> ok, so my rustc isn't up-to-date
[16:09:23] <eibwen> no need for a bug report?
[16:09:34] <taliriktug> strcat: yeah, you are right
[16:09:38] <taliriktug> ": munmap_chunk(): invalid pointer: 0x00000000004f3ea0 *"
[16:10:08] <strcat> it performs a system call not whitelisted by rusti to print that error
[16:10:10] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[16:10:33] <strcat> writev
[16:11:45] <strcat> eibwen: https://github.com/mozilla/rust/issues/13360
[16:11:50] <strcat> I'll fix it now
[16:12:46] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[16:14:25] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[16:15:02] <mib_rmkf5d> FBO of noobs that might read this later:  I put my lib path into "rustpath.conf" in dir "/etc/ld.so.conf.d/", then did sudo ldconfig.  Now rustc works.
[16:15:51] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[16:17:17] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[16:17:20] *** Joins: judder (maradukewa@BD9E6B94.126EFFE1.78E362FE.IP)
[16:17:31] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Ping timeout)
[16:20:45] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[16:21:13] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[16:21:19] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[16:21:37] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:23:01] *** Havvy is now known as Havvy|shower
[16:24:09] *** Quits: rylev (rylev@moz-D19F1F3E.cust.telecolumbus.net) (Client exited)
[16:24:30] *** Joins: rylev (rylev@moz-D19F1F3E.cust.telecolumbus.net)
[16:26:10] *** Quits: rylev (rylev@moz-D19F1F3E.cust.telecolumbus.net) (Ping timeout)
[16:27:00] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[16:28:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[16:29:56] *** Quits: leowoe (Leo@moz-72D47201.dclient.hispeed.ch) (Ping timeout)
[16:30:28] *** Joins: leowoe (Leo@moz-72D47201.dclient.hispeed.ch)
[16:31:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:31:48] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[16:32:12] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[16:32:47] *** Quits: philix (felipe@moz-12262F81.user.veloxzone.com.br) (Ping timeout)
[16:33:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:34:54] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[16:35:16] *** Quits: dart (ga2arch@moz-6823D7E6.libero.it) (Quit: leaving)
[16:38:53] *** Joins: philix (felipe@moz-12262F81.user.veloxzone.com.br)
[16:43:59] *** Joins: klaus (koz@moz-4486E876.hsd1.wa.comcast.net)
[16:44:08] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:44:21] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Quit: Leaving.)
[16:45:21] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Ping timeout)
[16:46:20] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[16:47:08] *** Joins: detrino (chris@moz-EAECB432.lv.lv.cox.net)
[16:47:42] *** Quits: edwardw (edwardw@ABCD1FCA.E8120A68.7E4FEB66.IP) (Quit: Leaving...)
[16:48:58] *** Joins: edwardw (edwardw@8E77A3F9.7FC992B3.B3B412E5.IP)
[16:51:13] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[16:51:32] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[16:53:17] *** Quits: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:54:03] *** Joins: subhashb (Adium@2A766894.4313BF5F.422D491.IP)
[16:54:08] *** Joins: willingc (willingc@moz-F095E013.san.res.rr.com)
[16:54:34] *** Quits: subhashb (Adium@2A766894.4313BF5F.422D491.IP) (Quit: Leaving.)
[16:55:47] *** Quits: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:56:24] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[16:56:53] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[16:56:57] *** Quits: f_blue (f_yellow@moz-6398EFDF.dclient.hispeed.ch) (Input/output error)
[16:58:13] *** Quits: gimpf (gimpf@moz-CB85D47F.adsl.highway.telekom.at) (Ping timeout)
[16:59:23] *** Joins: dart (ga2arch@moz-6823D7E6.libero.it)
[16:59:24] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[16:59:27] <dart> hi 
[16:59:29] *** Quits: heftig (heftig@moz-45B9D694.dip0.t-ipconnect.de) (Ping timeout)
[16:59:52] <dart> how can i pass Receiver<T> to a function inside a spawn(proc() ... ) ?
[17:00:07] <dart> i don't understand the error "capture of moved value: `rx`"
[17:01:18] *** Quits: japaric (japaric@62E36326.31BF4ADA.BFC118EE.IP) (Ping timeout)
[17:01:53] *** Joins: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net)
[17:01:57] <aperos> so i'm going through the coreutils repo from github as a learning exercise. I tried building echo and it's complaining about `extern crate getopts;`.....echo/echo.rs:13:8: 13:13 error: expected `{` or `mod` but found `crate`
[17:02:26] <Ms2ger> How old is your rust?
[17:02:29] <aperos> looking at the master tutorial it doesn't seem like this is a syntax issue
[17:02:30] <bvssvni> aperos: maybe you are using an old Rust
[17:02:54] <aperos> version rustc 0.10-pre
[17:02:55] <aperos> host: x86_64-unknown-linux-gnu
[17:03:01] *** Joins: japaric (japaric@887F1565.DC1425E6.84437BC5.IP)
[17:03:18] <aperos> it's from the ubuntu PPA
[17:03:25] <dart> rustc 0.10-pre-nightly (7bda3df 2014-04-02 17:51:48 -0700)
[17:03:27] <dart> host: x86_64-apple-darwin
[17:04:37] <Ms2ger> Strange
[17:04:47] *** Joins: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi)
[17:07:44] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[17:08:09] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:08:54] <Sharp> Even though I program in languages that don't have proper pattern matching all the time, every time I use Rust I find myself wondering how I survive without it.
[17:09:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[17:10:00] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[17:10:12] <bvssvni> me too
[17:10:13] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[17:10:20] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[17:10:41] *** Quits: Kxepal (Miranda@moz-9AA2D61B.pppoe.mtu-net.ru) (Ping timeout)
[17:10:43] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[17:11:09] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[17:12:47] <Ms2ger> Sharp, well, rust tends to take advantage of it a lot :)
[17:13:03] *** Joins: heftig (heftig@moz-48F85AD2.dip0.t-ipconnect.de)
[17:13:24] <bvssvni> I like to write let &a = x; rather than let a = *x;
[17:13:32] *** Quits: mib_rmkf5d (Mibbit@moz-454C2A1E.hsd1.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:13:56] <Sharp> Well, of course, but pretty much every language that has it uses it everywhere, at least from what I've seen.
[17:14:44] *** Joins: osa1 (omer@914637C9.409761C3.AB64B967.IP)
[17:15:52] *** Joins: mye (mye@moz-BA3D8FB8.swh.uni-giessen.de)
[17:15:56] *** Joins: Kxepal (Miranda@moz-FD970928.pppoe.mtu-net.ru)
[17:16:27] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[17:16:45] <Ms2ger> Indeed
[17:17:01] *** Quits: ozkriff (Mibbit@D803906A.389F1DB8.D5F347E6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:17:10] *** Joins: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net)
[17:17:46] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Connection reset by peer)
[17:17:47] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[17:18:08] *** Havvy|shower is now known as Havvy
[17:19:28] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Ping timeout)
[17:19:42] <Havvy> Sharp:  By using dynamic dispatch instead.
[17:20:42] <Sharp> Yeah, probably... the difference being that with dynamic dispatch I have no idea what's going on by looking at the code.
[17:21:02] <Havvy> Yep
[17:21:04] <Havvy> Which leads to bugs.
[17:21:25] <eddyb> apple.eat() // `apple` could be your HDD
[17:23:04] *** Joins: bgamari (ben@moz-115D21F6.spfdma.east.verizon.net)
[17:23:14] *** Quits: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie) (Ping timeout)
[17:23:26] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[17:23:35] <bvssvni> when I learned C, after writing in C# for many years, I thought: wow, I can see what the code is doing!
[17:23:57] <Havvy> Heh.
[17:24:35] <YourBestFriend> because C doesn't provide any abstraction?
[17:25:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[17:25:14] <aperos> i can't build anything in the coreutils repo. is the nightly in ubuntu PPA that old? the compile error: "base64/base64.rs:12:1: 12:2 error: expected item but found `#` base64/base64.rs:12 #![feature(phase)]" or is the repo out of date?
[17:25:20] <bvssvni> it doesn't have method overloading or object oriented programming
[17:25:43] <strcat> C has good enough support for OOP from a caller's point of view
[17:25:46] <Ms2ger> #! is pretty new
[17:26:21] <strcat> what it doesn't support is *non-dynamic* encapsulation and generic code
[17:26:49] <edwardw> is there a place to put a "global finalizer" to destroy a static, for both native and green runtime?
[17:26:59] <aperos> so rustc 0.10-pre is old?
[17:27:25] <strcat> if you do encapsulation, you have to use dynamic allocation for every type, and it's pretty easy to make vtables but pretty close to impossible to do it another way
[17:27:25] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[17:27:28] <bvssvni> aperos: you can download nightly here http://www.rust-lang.org/
[17:27:33] <strcat> look at glib2/gtk :P
[17:27:45] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[17:28:21] <aperos> bvssvni: i know but i rather have something that makes updating rust easy. huon had told me the nightly in the ubuntu ppa is up-2-date
[17:28:31] <aperos> bvssvni: *easier
[17:28:49] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[17:28:52] <det> strcat, I have to look at glib2/gtk every time I run one of those applications from the command line :<
[17:29:03] <det> strcat, assertion failed.. assertion failed..
[17:29:03] <taliriktug> weird. my repo compiles on my machine, but fails on travis
[17:29:15] <strcat> det: well that's from dynamic typing, mostly + non-fatal type errors
[17:29:17] <strcat> ;)
[17:29:27] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[17:29:31] <strcat> dynamic casts *everywhere*, mmm
[17:29:56] <det> ya
[17:30:02] *** Joins: stev (Mibbit@moz-B7D878F3.socal.res.rr.com)
[17:30:07] <strcat> they love it so much that they have macros to conveniently check a condition or perform a cast + return with a specified bogus value
[17:30:16] <strcat> (and print a scary assertion)
[17:30:28] <strcat> most of that crap doesn't run if you make glib assertions fatal
[17:30:31] <Sharp> Sure, but I don't think that lacking static encapsulation (or generic code really) is what makes C code relatively easy to follow.  I think a large part of it is the lack of operator overloading and a (relatively) consistent calling convention.  Though macros and automatic typecasting help destroy both, of course.
[17:31:00] <strcat> I don't find C code easy to follow ;s, too much repetitive low-level fiddling
[17:31:08] <strcat> since you can't abstract stuff like resource handling
[17:31:34] <strcat> really hard to see the logic of the code since you just keep seeing the same spaghetti error/resource handling everywhere
[17:31:46] <Sharp> Sure, but the code itself is pretty clear on an instruction-by-instruction basis.  Not quite the same as "author intent."
[17:31:50] <bvssvni> haha
[17:32:15] <Sharp> I'll agree that for any moderately complex codebase the only way to follow C code is to have paragraph-length comments every few lines.
[17:32:16] <taliriktug> btw, vala don't spam too much in the terminal. It is probably works better than plenty of casts in usual C + GTK code
[17:32:24] <strcat> Sharp: I don't really see how `foo_add(x, y)` is any more clear than `x + y`
[17:32:27] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:32:34] <strcat> Sharp: doesn't help that C does implicit stuff everywhere
[17:32:44] <strcat> x + y
[17:32:50] <strcat> you don't just need to know the type of `x`
[17:32:54] <strcat> you need to know the type of `y`
[17:32:59] <strcat> to know what it's going to do
[17:33:01] <Ms2ger> Oh no
[17:33:02] *** Quits: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi) (Ping timeout)
[17:33:13] <strcat> C has built-in messed up overloading and implicit casts
[17:33:16] <Sharp> Generally speaking, the issue I find with operator overloading in terms of clarity is that people will use + because it's short rather than because it's an accurate reflection of what's going on.
[17:33:18] <strcat> doesn't need help from users
[17:33:22] <strcat> already screwed up.
[17:33:39] <strcat> x + y where x is uint8_t and y is long
[17:33:42] <strcat> quick, what does it do?
[17:33:44] <Sharp> If people are forced to write out a function that doesn't actually add things they will rarely write out "add."
[17:33:50] <Sharp> I already called out implicit typecasts :P
[17:33:57] <strcat> that's worse than a cast though
[17:34:01] <strcat> x + y where x and y are both uint8_t
[17:34:04] <strcat> what does it do?
[17:34:06] *** Joins: gregburd (uid3997@moz-E77DEB21.irccloud.com)
[17:34:09] <strcat> it doesn't do 8-bit addition
[17:34:23] <Sharp> No?
[17:34:24] <YourBestFriend> strcat: it returns a long
[17:34:29] <bvssvni> it is not a matter of clarity, but how easy it is to track down specific implementation
[17:34:32] <strcat> Sharp: it auto-promotes to `int`
[17:34:40] <strcat> Sharp: C doesn't have arithmetic below `int` in size
[17:34:51] <gregburd> What happened to the "Freeze" trait? error: attempt to bound type parameter with a nonexistent trait `Freeze`
[17:34:52] <strcat> so much for mapping to hardware
[17:35:00] <Earnestly> Which is why using short is a bit of a waste of time
[17:35:07] <Sharp> Haha.
[17:35:30] <bvssvni> gregburd: it was removed
[17:35:32] <strcat> Sharp: also 'c' is int, and 'a == b' evaluates to an int
[17:35:34] <Earnestly> Yeah, well it's not the 1970s.  I think don't C maps to modern CPUs really at all
[17:35:41] <gregburd> ok, and replaced with?
[17:35:42] <Earnestly> C might in embedded stuff, idk
[17:35:43] <strcat> Sharp: if you ever wondered by stuff like putchar takes an int
[17:35:44] <gregburd> nothing?
[17:35:45] <gregburd> :)
[17:35:51] <Sharp> C doesn't (or didn't) have bool so that's not terribly surprising.
[17:35:57] <strcat> Sharp: but why is 'c' an int?
[17:36:03] <bvssvni> gregburd: I don't know :P
[17:36:05] <strcat> I think it's because C had int before char
[17:36:06] <Earnestly> BCPL didn't even have a type system
[17:36:10] <Sharp> strcat: EOF, I think.
[17:36:16] <taliriktug> EOF, yeah
[17:36:20] <gregburd> ok
[17:36:29] <taliriktug> it is written in K&R
[17:36:29] <Earnestly> Sharp: EOF is defined as "a signed negative number"
[17:36:43] <bvssvni> gregburd: you can find out here http://cmr.github.io/blog/archives/
[17:36:45] <Earnestly> Glibc gives it -1, but could be anything that's a negative const int
[17:36:46] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:36:47] <strcat> Sharp: I mean literals and putchar, not the get functions
[17:36:47] *** Quits: dart (ga2arch@moz-6823D7E6.libero.it) (Ping timeout)
[17:36:51] <JustAPerson> How would I express a static array of strings?
[17:36:54] <strcat> 'c' in C++ is a char
[17:36:58] <bvssvni> gregburd: it's somwhere in the 'TWiR'
[17:37:01] <Ms2ger> Earnestly, does it need to be constant? :)
[17:37:04] <gregburd> cool, thanks bvssvni
[17:37:11] <Ms2ger> static strings: &'static [&'static str] = &[ ...
[17:37:13] <strcat> but in C, it's an int, for a reason I can't comprehend
[17:37:15] <Ms2ger> JustAPerson, ^
[17:37:17] <Earnestly> Ms2ger: the standard says so, "constant expression"
[17:37:24] <Sharp> strcat: I know, I just recall that there were functions that would return EOF or a character and assumed that was the justification.
[17:37:49] <Earnestly> strcat: POSIX is sort of weird like this
[17:37:53] <strcat> Sharp: it's also pretty sad that char is usually signed
[17:38:01] <Earnestly> strcat: Like all the posix functions using long instead of size_t
[17:38:05] *** Joins: benny (benny@moz-4DC18C38.spamt.net)
[17:38:10] <Sharp> Yeah, I've never really understood that convention
[17:38:14] <strcat> Earnestly: POSIX is an incredibly horrific mess, almost as bad as win32
[17:38:15] <Havvy> Ms2ger:  I heard you like static.
[17:38:17] <Earnestly> (such as fseek)
[17:38:20] <strcat> just talking about ISO C though ;)
[17:38:30] <strcat> Earnestly: POSIX functions mostly use ssize_t
[17:38:42] <Earnestly> Well, fseek doesn't :(
[17:38:42] <Ms2ger> Havvy, ... so I put a &'static [&'static in your static
[17:38:45] <Earnestly> :C
[17:38:49] <strcat> Earnestly: fseek is C
[17:38:54] <Earnestly> strcat: Yeah
[17:38:58] <strcat> stdio is useless crap
[17:39:11] <Ms2ger> Duh, it's C
[17:39:12] <strcat> seriously even if you turn off the stdio buffer, it has a buffer
[17:39:20] <strcat> the ungetc buffer
[17:39:23] * strcat sighs
[17:39:26] <Ms2ger> Anyway, enough C bashing, folks
[17:39:33] <bvssvni> it's history
[17:39:47] <Earnestly> I don't really think of it as bashing, it's sort of enlightening to me, I enjoy it :S
[17:39:49] <taliriktug> It's still works in kernel
[17:40:00] *** Joins: rylev (rylev@2445D334.A72DA0A8.2DB0BBA1.IP)
[17:40:14] <strcat> stdio certainly doesn't ;)
[17:40:26] <taliriktug> yeah
[17:40:32] <Earnestly> taliriktug: kernels don't use stdio afaik
[17:40:32] <strcat> and 99% of what POSIX adds
[17:40:39] <taliriktug> kernel have its own subspace of C
[17:40:52] <strcat> POSIX locking is lol
[17:41:01] <Sharp> stdio is bad, sure... I never really used it much (other than printf for debugging).
[17:41:03] <strcat> thread A obtains lock
[17:41:07] <strcat> thread B obtains lock
[17:41:09] <Earnestly> strcat: Your chosen nick is somehow ironic, or just amusing in this context
[17:41:10] <strcat> thread A releases lock
[17:41:13] <strcat> the file is no longer locked.
[17:41:18] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[17:41:25] <strcat> (POSIX locks were developed without thinking about threads)
[17:41:25] <Sharp> strcat is always willing to take out time to explain why C sucks :)
[17:41:30] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[17:41:32] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[17:41:44] <Earnestly> Sharp: He spent hours teaching me haskell ❤
[17:42:06] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[17:42:07] *** Joins: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net)
[17:42:33] <strcat> I mean you'd think POSIX, a standard all about files, would provide a portable way of closing one
[17:42:36] <strcat> but it doesn't even manage that.
[17:43:03] <Sharp> Meh.  You're not actually talking about C at this point.
[17:43:09] <strcat> HP-UX: close(x) -> EINTR, file is guarantee to *not* be closed
[17:43:24] <strcat> Linux/FreeBSD/most: close(x) -> EINTR, file is closed. guaranteed.
[17:44:23] *** Joins: dart (ga2arch@moz-6823D7E6.libero.it)
[17:44:39] *** Quits: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch) (Quit: Leaving.)
[17:44:45] <strcat> Sharp: I realize that, I can complain about multiple things at one time
[17:44:51] <strcat> ;)
[17:46:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:46:44] <bvssvni> after some rounds with the Rust compiler, I wonder how people can write in C++ at all :P
[17:46:50] *** Quits: dart (ga2arch@moz-6823D7E6.libero.it) (Quit: leaving)
[17:47:01] <eibwen> oh
[17:47:09] <eibwen> strcat is a C function, right :)
[17:47:14] <strcat> Sharp: at least I can blame C for strtoul
[17:47:42] <Sharp> What's the big issue with it again?  Not thread safe?
[17:47:51] <strcat> Sharp: no strto* are the safe ones
[17:47:56] <strcat> atoi has undefined behaviour on errors
[17:48:02] <Sharp> Ah yeah.
[17:48:18] <strcat> Sharp: strtoul parses a string to an unsigned long (strtol for signed), and considers -100 valid
[17:48:26] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:48:28] <Sharp> Oh ew really?
[17:48:30] <strcat> yep
[17:48:37] <Sharp> Okay, that's pretty bad.
[17:48:38] <eibwen> as 100 or as UINT_MAX-100 ?
[17:48:45] <det> Really wish Rust had overloading though. would much rather push(&vector, 5); than vector.push(5);
[17:48:56] <Ms2ger> det, really?
[17:48:57] <det> "&mut vector" that is
[17:49:13] <eibwen> det: you can hack your own overloading, with traits
[17:49:19] <Sharp> Yeah.
[17:49:36] <det> Ms2ger, just strikes me as a wierd inconsistency that methods can do c++ style auto ref, auto mut, but nowhere else can.
[17:49:51] <eibwen> I like how you can't accidently overload in rust
[17:49:52] <eibwen> :)
[17:50:03] <det> and that you can only overload on the first argument
[17:50:10] *** Joins: Veld (Mibbit@moz-3E8D39A3.ip47.fastwebnet.it)
[17:50:30] <eibwen> det: no, you can hack 'real' overloading with traits
[17:50:36] <bvssvni> det: you can also use enum as parameter
[17:50:46] <det> bvssvni, not the same
[17:50:55] <det> bvssvni, one is static, the otehr is dynamic
[17:51:06] * Sharp wonders why they bothered calling it strtoul then.
[17:51:13] <Veld> I'm trying to pattern match on a TryRecvResult and am getting "error: unresolved enum variant, struct or const `Data`"
[17:51:23] <Sharp> Well, I guess it's technically true
[17:51:37] <bvssvni> det: ah, I see. did you mean virtual methods?
[17:51:47] *** Joins: smodo (smodo@moz-6398EFDF.dclient.hispeed.ch)
[17:51:48] <det> no, I mean overloading
[17:52:03] <eibwen> det: trait Pusher { fn push(&mut self, uint value); }; fn push<T:Pusher>(self: &mut T, value: uint) { self.push(value); }
[17:52:20] <eibwen> now you can define your push method for everything you want
[17:52:39] <eibwen> and call it with push(&mut foo, bar);
[17:53:03] <cmr> bstrie: huon: http://www.reddit.com/r/rust/comments/22cupy/rust_vs_dlang_1_year_later_round_2_need_input/
[17:53:14] <cmr> bstrie: huon: seriously remove that *stupid* css ornamentation
[17:53:52] <Ms2ger> That what?
[17:54:07] *** Joins: Sancio (Mibbit@moz-CAA5C5B6.hsd1.ca.comcast.net)
[17:54:21] <cmr> "The Rust Programming Language Does Not Have A Sense Of Humor"
[17:54:32] *** Joins: doomlord_ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[17:54:33] <Ms2ger> "I like that it is safe (garbage collected, ..."
[17:55:46] <det> Ms2ger, what the problem, GC does provide memory safety in D
[17:55:53] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[17:56:19] <Ms2ger> Oh
[17:56:28] <Ms2ger> I thought his first paragraph was about Rust
[17:57:42] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[17:58:46] <bjz> cmr: +1
[17:59:05] *** Quits: Sancio (Mibbit@moz-CAA5C5B6.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:59:24] *** Joins: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net)
[17:59:31] <bjz> cmr: was amusing for abit, but now it's a little old :)
[17:59:32] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[17:59:56] * cmr doesn't think it was ever funny
[18:01:00] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Input/output error)
[18:01:15] <johnwatson> hey everybody!
[18:01:31] <Earnestly> cmr: Perhaps you just like British humour, intelligent
[18:01:38] <johnwatson> does someone feel like helping a newb fix some opaque-looking build errors?
[18:01:45] <bvssvni> johnwatson: hi!
[18:01:53] <jroweboy> hey johnwatson! Just post about them and we'll help
[18:02:03] <jroweboy> (usually)
[18:02:05] <cmr> Earnestly: or, you know, not smearing shit across the only community hub :|
[18:02:20] <Earnestly> That is a fair statement
[18:02:32] <bgamari> Does std have a cons-list type?
[18:02:42] <cmr> bgamari: not any more, it was removed.
[18:03:03] <frozendevil> what is "package incubator"?
[18:03:07] <bgamari> cmr, Why is this?
[18:03:22] <cmr> bgamari: because it wasn't useful.
[18:03:35] <Havvy> 73 milliseconds ago  << Oh really Reddit.
[18:03:37] <bgamari> cmr, Removed in favor of dlist?
[18:03:45] <cmr> bgamari: yes.
[18:03:46] *** Joins: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net)
[18:03:49] <Ms2ger> There's very few cases where you want a cons-list
[18:03:52] *** Quits: celm (celm@moz-1CF4AE70.hsd1.ca.comcast.net) (Quit: Leaving...)
[18:03:57] <Ms2ger> And they're all because you're stuck in lisp
[18:04:09] <bgamari> Or on an embedded system
[18:04:10] <johnwatson> so, i'm trying to build marauder (https://github.com/ozkriff/marauder) and it's bailing pretty early with: main.rs:14:1: 14:19 error: can't find crate for `glfw`
[18:04:20] <bgamari> which happens to be my situation
[18:04:27] <cmr> bgamari: why would you be using a cons list on embedded, instead of a vector?
[18:04:30] <Sharp> Cons lists can be useful for concurrency sometimes.
[18:04:36] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[18:04:44] <frozendevil> bgamari: why does that mean you need cons lists?
[18:04:55] <johnwatson> i downloaded, built, and (i think) installed glfw-rs, using the instructions on the github page for that project
[18:04:56] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[18:04:58] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[18:05:05] <bgamari> frozendevil, fair point
[18:05:21] <frozendevil> Genuinely curious, I'd like to know more about working in embedded
[18:05:27] <strcat> non-intrusive, non-persistent singly-linked list == useless
[18:05:34] <johnwatson> this is on os x mavericks using rustc 0.11-pre-nightly (540c2a2 2014-04-04 01:01:51 -0700)
[18:05:34] <bgamari> cmr, Although I'm not entirely sure that vector is the right option either
[18:05:36] * taliriktug lurking for a task ot rosettacode
[18:05:42] <strcat> intrusive lists? sure they're useful, but it wasn't one
[18:05:57] <strcat> it was a persistent list, but a task-local one, and using a deprecated language feature
[18:05:59] <strcat> so it's gone
[18:06:08] <bgamari> I'm really just trying to figure out how to write embedded code in rust
[18:06:23] <johnwatson> like, in general i'm getting "can't find crate" errors, despite building libraries and having them installed to /usr/local/lib
[18:06:27] <Sharp> Yeah, that sounds fairly useless.
[18:06:34] <bgamari> frozendevil, A typical pattern is to embed a "next" pointer in a statically allocated struct
[18:06:38] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:06:54] <bgamari> frozendevil, so you have a way to chain together data structures
[18:07:14] <jroweboy> johnwatson: Is the glfw crate there? What put it there? Regardless, it looks like the makefile is looking for it in a deps folder
[18:07:17] <bgamari> frozendevil, for instance https://github.com/mchck/mchck/blob/master/toolchain/lib/mchck/i2c.h#L34
[18:07:30] <frozendevil> ah, I see
[18:07:54] <bgamari> you often only need access to the head of the list
[18:08:04] <jroweboy> johnwatson: Try to make a deps folder thats a symlink to the build directory for the glfw project and see if that help
[18:08:11] <bgamari> and when you really need to access the tail, you don't mind spending a few cycles to traverse to the end
[18:08:27] <johnwatson> jroweboy: there's a glfw-rs source folder in deps
[18:08:37] <strcat> bgamari: sure, that's an intrusive list - the singly-linked list rust had wasn't one of those
[18:08:51] <strcat> you can easily make an intrusive list exactly as you would in C with unsafe code
[18:08:58] <bgamari> strcat, right
[18:08:59] <det> bgamari, you are describing an intrusive data structure which I dont think Rust can express
[18:09:01] <strcat> expressing one with safe code is not a solved problem yet
[18:09:11] <bgamari> yeah, that's what I was afraid of
[18:09:16] <bgamari> sad
[18:09:17] <strcat> det: not really known whether you can express one with safe code
[18:09:20] <strcat> no one has tried afaik
[18:09:28] <strcat> bgamari: seems a bit premature to say it's sad
[18:09:31] <strcat> when no one has tried
[18:09:39] <bgamari> fair enough
[18:09:48] <jroweboy> johnwatson: Oh just noticed the make_deps script. Did the glfw library build and is it in the deps folder then? Lemme try to build this myself real quick
[18:09:51] <det> strcat, no move constructors makes it unsafe in the general case
[18:09:56] <strcat> although you're not going to be able to have a zero-overhead mutable one since you'll need RefCell
[18:10:22] <johnwatson> jroweboy: that's right. deps was probably not there before i ran the script.
[18:10:23] <strcat> det: O dpm
[18:10:24] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[18:10:28] <strcat> det: I don't think that matters*
[18:10:35] <det> what is dpm
[18:10:39] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[18:10:39] <strcat> a typo
[18:10:55] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[18:11:13] <strcat> det: I think it's going to be pretty restricted by safety anyway
[18:11:24] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[18:11:31] <johnwatson> jroweboy: actually, i get an error on extern crate cgmath. the glfw one was after i commented out the cgmath line
[18:13:01] *** Quits: smodo (smodo@moz-6398EFDF.dclient.hispeed.ch) (Quit: Verlassend)
[18:13:04] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[18:13:06] *** Joins: f_red (f_green@moz-6398EFDF.dclient.hispeed.ch)
[18:13:18] <det> strcat, but forcing them to live in some heap allocated black box drives their value very far down
[18:13:20] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[18:13:41] <jroweboy> johnwatson: You'll have to wait a bit as a I install all the dependencies to build this :) 
[18:13:46] <strcat> det: so does needing RefCell to do any mutation, but you're going to need it
[18:13:57] <johnwatson> i just tried this: rustc -L /usr/local/lib main.rs -o marauder
[18:14:01] <johnwatson> result is: main.rs:1:1: 1:1 error: multiple dylib candidates for `std` found
[18:14:34] <cmr> johnwatson: you have an old rust install lying around.
[18:14:37] <johnwatson> jroweboy: thanks a lot! i'm a fish out of water with this stuff, so i really appreciate it.
[18:15:03] <det> re move constructors: destructors are also arbitrary code that gets run and adds complexity
[18:15:25] <strcat> det: that's not why we don't have move ctors
[18:15:27] <jroweboy> johnwatson: you shouldn't need to -L /usr/local/lib though since rust already looks there I think
[18:15:28] <johnwatson> cmr: i suspected as much. is there a preferred way of clearing it out?
[18:15:38] <cmr> johnwatson: "rm"
[18:15:47] <strcat> det: move ctors make it incredibly hard to write any low-level code, especially fast code
[18:15:58] *** Joins: japaric_ (japaric@AA81DC09.3A66AC79.F29ED47E.IP)
[18:16:01] <strcat> there's not much you can do when any move could throw
[18:16:05] <johnwatson> cmr: k, thanks
[18:16:19] <strcat> and you can't use realloc/memcpy/memmove anymore
[18:16:33] *** Quits: japaric (japaric@887F1565.DC1425E6.84437BC5.IP) (Ping timeout)
[18:16:59] <gregburd> Anyone know what "the trick from Rc" is? https://github.com/michaelwoerister/rs-persistent-datastructures/blob/master/hamt.rs#L359 and how I might fix line 362 to use as *T rather than cast::transmute_immut_unsafe(item_ref)?
[18:17:08] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[18:17:37] <jroweboy> johnwatson: also, the dependency libraries aren't building right now apparently. glfw isn't up to date it seems.
[18:17:40] *** Joins: jdao (Mibbit@6F348B8A.C422786F.DDE5D3F6.IP)
[18:17:45] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Quit: Leaving.)
[18:17:58] <strcat> gregburd: the 'trick' is using ptr::read to turn *T -> T so the dtor gets called
[18:18:07] <strcat> it would be nice if we had a way to simply call the destructor
[18:18:15] <gregburd> ah
[18:18:17] <gregburd> yep
[18:18:26] <johnwatson> jroweboy: really? i could have sworn it worked for me.
[18:18:31] <gregburd> what's the way to fix that?
[18:18:54] <strcat> I'm not familiar with the code so I can't tell you that :P
[18:18:57] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[18:19:01] <gregburd> s/the way/the right or best way/
[18:19:05] <gregburd> ha
[18:19:06] <gregburd> ok
[18:19:07] <strcat> gregburd: what about it do you want to change?
[18:19:08] <cmr> jroweboy: glfw-rs is up to date, what are you refering to?
[18:19:16] <gregburd> it won't compile as is
[18:19:23] <gregburd> so, that's what I want to fix :)
[18:19:26] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[18:20:10] <johnwatson> so, for my rust std lib i've got two candidates: candidate #1: /usr/local/lib/rustlib/x86_64-apple-darwin/lib/libstd-aad93cea-0.11-pre.dylib and candidate #2: /usr/local/lib/libstd-aad93cea-0.11-pre.dylib
[18:20:22] <gregburd> transmute_immut_unsafe https://github.com/mozilla/rust/pull/13015 removed
[18:20:23] <johnwatson> they look like the same version but in different directories
[18:20:50] <strcat> gregburd: switch it to 'as *T' then
[18:21:24] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[18:21:25] <jroweboy> cmr: When I built it, it complained about the Version fields being private. On line 720 you construct a Version there, but it says they are private. Maybe its something to do with semver (which I have no clue where that is coming from) or I'm out of date on rust already
[18:21:39] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:21:39] *** Quits: cschneid (cschneid@moz-20C37083.hlrn.qwest.net) (Client exited)
[18:21:42] <jroweboy> line 720 of src/lib/lib.rs
[18:21:49] <cmr> jroweboy: that has since been fixed.
[18:21:54] <cmr> jroweboy: so yes, out of date rust :)
[18:22:42] <jroweboy> Figures :) I just updated yesterday too! Oh well, at least its fast with using the package manager
[18:22:44] <gregburd> strcat: sounds simple enough, now I just need to find the T to use...
[18:23:05] <thiagopnts> Hey guys, I'm new to rust and system programming, I've been trying to compile rustboot with this line: `rustc -O --target i386-intel-linux --crate-type lib -o main.o main.rs`
[18:23:31] <thiagopnts> this gives me this error: https://gist.github.com/thiagopnts/485243f8a9cb95793762
[18:23:39] *** Joins: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com)
[18:23:43] <bgamari> I guess there's no way to promote a let binding to static lifetime?
[18:23:58] <strcat> bgamari: hm?
[18:24:00] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:24:38] <bgamari> strcat, If I have, e.g., fn hello() { let a = 23; return a }, can I give a static lifetime?
[18:24:56] <cmr> bgamari: you can never return references to locals.
[18:24:58] <strcat> well either way you can return that by-value
[18:24:59] <johnwatson> jroweboy: if you're out of date from only yesterday, i'm definitely out of date! i'll try a more recent rustc build and see if that helps anything. thanks for your help.
[18:25:04] <bgamari> like a static local in C
[18:25:07] <cmr> bgamari: you can just return values, though.
[18:25:08] <gregburd> strcat: my guess seems to be off...
[18:25:09] <strcat> bgamari: use static a: int = 23;
[18:25:19] <gregburd> https://www.irccloud.com/pastebin/9zIkKneB
[18:25:20] <cmr> thiagopnts: that isn't how you build rustboot.
[18:25:25] <thiagopnts> I'm still able to run the program but I want to know why this error occurs, any one knows why?
[18:25:31] <bgamari> strcat, cmr, In that particular case I can return by value but not in general
[18:25:31] <cmr> thiagopnts: it has a make file.
[18:26:00] <thiagopnts> cmr: yeah, I'm using the make file
[18:26:11] <thiagopnts> but it crashs with this error
[18:26:12] <cmr> thiagopnts: --crate-type=lib produces a dynamic library.
[18:26:14] <bgamari> strcat, Is that use syntax new?
[18:26:29] <strcat> bgamari: no
[18:26:30] <bgamari> strcat, I get 'hi2.rs:6:13: 6:19 error: found `static` in ident position' with a recent nightly
[18:26:44] <strcat> you're using it wrong then
[18:26:45] <cmr> bgamari: `static a: int = 23;`
[18:26:46] <cmr> no `use`
[18:26:50] <cmr> that was part of the sentence.
[18:26:59] <bgamari> Ahh, my bad
[18:27:02] <thiagopnts> cmr: which type o lib should I use to build rustboot?
[18:27:08] <bgamari> cmr, but then it needs to be a top-level item, no?
[18:27:12] <strcat> no
[18:27:15] <bvssvni> thiagopnts: rlib?
[18:27:19] <bgamari> ahh, I guess not
[18:27:21] <bgamari> thanks
[18:27:25] <cmr> thiagopnts: you don't need to, just say "make"
[18:27:35] <cmr> bvssvni: it can't be an rlib, he's building a kernel...
[18:27:41] <bvssvni> oh
[18:27:46] <taliriktug> folks, what the most simple (high-level, if you wish) way to use network in rust? rustuv?
[18:27:46] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:27:52] *** Joins: mawuli (mawuli@2760A9B5.4882C7ED.DE15C958.IP)
[18:28:07] <hoverbear> taliriktug: What are you trying to do? Manipulate sockets?
[18:28:07] <cmr> taliriktug: std::io::net
[18:28:23] <taliriktug> create a simple server
[18:28:31] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[18:28:31] <hoverbear> taliriktug: std::io::net is great. :)
[18:29:00] *** Joins: arielb1 (eran@moz-8F646A97.red.bezeqint.net)
[18:29:01] *** Joins: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch)
[18:29:05] *** Quits: stev (Mibbit@moz-B7D878F3.socal.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:29:09] <thiagopnts> cmr, this is my current makefile: https://gist.github.com/thiagopnts/b8714e973d9fd209f1b2
[18:29:16] <thiagopnts> i'm using rust 0.10 btw
[18:29:17] *** Joins: matematikaadit (adit@B0427679.CD905039.E30575B3.IP)
[18:29:40] *** Quits: matematikaadit (adit@B0427679.CD905039.E30575B3.IP) (Quit: Leaving)
[18:29:42] <taliriktug> cmr: thanks! I already see a nice example in docs
[18:29:47] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[18:30:13] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[18:30:18] <cmr> thiagopnts: are you using https://github.com/pczarn/rustboot/ ?
[18:30:53] <pczarn> anyone calling me?
[18:30:59] <thiagopnts> cmr: no, I was using charliesome/rustboot
[18:31:11] <cmr> thiagopnts: that's really old + out-of-date, use pczarn's
[18:31:42] <thiagopnts> cmr got it, thanks!
[18:31:46] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[18:32:05] <cmr> I don't think it builds on master, probably need to update rust-core with priv-by-default
[18:32:35] <jroweboy> On rust-ci on a specific documentation page, the css/js files are 404ing (http://www.rust-ci.org/bjz/glfw-rs/doc/glfw/) for example. Does anyone know who I need to talk to about this?
[18:32:36] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[18:32:45] <cmr> hansjorg: ^
[18:35:27] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[18:35:27] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[18:35:27] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[18:35:56] *** Quits: aperos (appos@moz-1689688F.dyn.optonline.net) (Ping timeout)
[18:37:40] <pczarn> need to add atomic types and remove RefCell::get in rust-core
[18:38:29] <frozendevil> my only problem with pczarn's rustboot is that it already implements a bunch of stuff that I wanted to try out by hand :P
[18:38:37] <cmr> frozendevil: you can still do that ;p
[18:39:04] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:39:13] <frozendevil> well, yeah, I just can't start with that fork of rustboot
[18:39:49] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[18:40:13] <frozendevil> I have a lot to read up on before I can really make progress there anyway
[18:40:14] *** Quits: detrino (chris@moz-EAECB432.lv.lv.cox.net) (Ping timeout)
[18:40:28] <eibwen> cmr: thanks for this week's This Week in Rust! informative as always.
[18:40:50] <cmr> eibwen: np
[18:42:07] <thiagopnts> frozendevil: yeah, I think I will just see who pczarn's rustboot is structured and use this structure in my fork :P
[18:42:52] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[18:42:52] *** ChanServ sets mode: +ao dherman dherman
[18:42:57] *** Quits: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch) (Quit: Leaving.)
[18:44:24] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[18:47:18] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:47:27] <jroweboy> johnwatson: ok, fixed an error in marauder and sent the author a pull request so it now compiles and works out of the box. It looks pretty neat too! Lemme know if you need any more help
[18:47:27] <thiez> hmmn, is 'from_str::<f32>' supposed to fail when it's passed a floating point number ending with a newline?
[18:47:42] <thiez> well, it doesn't truly fail, it returns None
[18:47:49] <kimundi> thiez: yeah, its defined very strictly
[18:47:59] <bjz> jroweboy: #rust-gamedev is a better place to ask about glfw-rs
[18:48:03] <bjz> ^_^
[18:48:06] * johnwatson high fives jroweboy
[18:48:08] <johnwatson> thanks!
[18:48:18] <thiez> kimundi: ok thanks
[18:48:25] <kimundi> thiez: just trim the string first
[18:48:41] <lukem> okaaay i think i'm going crazy here... i'm working on some ffi bindings and one of the fields is a UInt64. if i use u64 for that field, the remainder of the struct is not unpacked correctly, but if i use [u8, ..8] it works. any ideas as to what's going on?
[18:48:44] *** Quits: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl) (Connection reset by peer)
[18:48:46] <bjz> jroweboy: we like to keep the gamedev chatter there - #rust is starting to get pretty busy :P
[18:48:46] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[18:48:48] <lukem> struct Packet { timestamp: [u8, ..8] /* should be u64 but that doesn't work */, data_length: u16, data: [u8, ..256]} is the struct definition..
[18:49:02] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:49:38] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[18:49:42] <johnwatson> bjz: it's my fault. i asked the question here.
[18:50:29] <bjz> jroweboy johnwatson : btw, ozkriff, the marauder dev is over there
[18:50:59] <bjz> not here - I think he must have retreated from the #rust craziness
[18:51:04] <bjz> :P
[18:51:09] <johnwatson> ha
[18:51:37] <jroweboy> bjz: Oh cool, haven't heard about that place :) I'm not much into gamedev myself I was just answering a few questions
[18:51:38] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[18:53:56] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[18:54:00] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[18:54:24] <thiez> well hurray, rustray compiles and runs once more.
[18:54:33] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[18:54:33] <cmr> thiez: speed? :)
[18:54:46] <thiez> cmr: not sure, I lost all my old benchmark data
[18:54:56] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[18:55:00] <cmr> I have some times in my irc logs
[18:55:33] <thiez> "Total time: 3.262813s, of which tracing: 3.189198"
[18:55:48] *** Joins: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch)
[18:56:50] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[18:56:51] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[18:56:58] <cmr>      thiez   [12:23:11] I've been keeping the rust raytracer alive and it seems to be taking about twice as long as a week ago
[18:57:00] <cmr>      thiez   [12:24:59] from about 4.7 seconds to 10.8 seconds on my quadcore :(
[18:57:12] <thiez> ah yes, that was a bad regression
[18:57:21] <thiez> but nice that we're at 3 seconds now :)
[18:57:36] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[18:57:38] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[18:57:54] <bgamari> Could someone explain to me what is going on here?
[18:57:55] <bgamari> https://gist.github.com/bgamari/10010134
[18:58:17] <bgamari> oops, one moment
[18:58:52] *** Joins: Tohie (scott@9F69D92D.101F3A9A.65138F83.IP)
[18:58:54] <bgamari> rather now
[18:59:02] <thiez> bgamari: sure. You're storing a pointer to the 'next' element, but the compiler wants you to ensure that if element A points to B, that B lives at least as long as A
[18:59:12] *** Quits: dranov (dranov@B72D9B7B.464AB0AD.FCAAE698.IP) (Ping timeout)
[18:59:14] <thiez> oh
[18:59:18] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[18:59:21] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[18:59:25] <thiez> you made them all 'static? :p
[18:59:57] <bgamari> thiez, I guess I could have abstracted over the lifetime with a generic, eh?
[19:00:07] <bgamari> but regardless, yes, I made them all static
[19:00:18] <Eridius> :sb goto 8:49
[19:00:23] <thiez> bgamari: yes, that would allow you to actually instantiate your list type at runtime
[19:00:24] <bgamari> I'm thinking about how to write embedded code
[19:00:48] <bgamari> for which I've traditionally only used static allocation
[19:01:02] <thiez> anyway, you can only have 1 &mut pointer to a thing
[19:01:03] <bgamari> I'd rather things fail at compile time when I run out of memory than at runtime
[19:01:14] <bgamari> thiez, I guess prepend is unsafe?
[19:01:19] <Eridius> cmr: yeah I need to convert WindowsPath to ~[u8], which is unfortunate :/
[19:01:19] <bvssvni> bgamari: remove &'static mut from the argument of 'x'
[19:01:59] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[19:02:05] *** Quits: olegon (olegon@moz-909B2C54.dsl.telesp.net.br) (Client exited)
[19:02:07] <bgamari> bvssvni, but I need mutability, for one
[19:02:08] *** Joins: devbug (quassel@moz-8C40558B.bchsia.telus.net)
[19:02:09] <strcat> if a pattern requires using unsafe code, there's nothing wrong with using unsafe code
[19:02:16] <bgamari> strcat, sure
[19:02:18] <strcat> you can't have mutable global variables without unsafe code
[19:02:27] <bgamari> strcat, I just can't convince the compiler to accept my unsafe code
[19:02:30] <thiez> bgamari: if you just statically allocate, why not simply create your linked list as [(item,nextItemIndex)..n], where 'n' is the maximum number of elements?
[19:02:34] <bvssvni> bgamari: you need it afterwards, but not in that function
[19:02:50] <strcat> bgamari: use raw pointers
[19:02:58] <strcat> using &mut there isn't going to be valid
[19:03:19] <bgamari> thiez, because I may want to spread my linked list elements across my project
[19:03:25] <strcat> making use of more than one &mut to the same thing is undefined behaviour
[19:03:35] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[19:03:44] <thiez> okay, then you want to do what strcat suggests :)
[19:03:50] <strcat> if you need aliasing mutable pointers you need *mut
[19:03:51] <bgamari> thiez, for instance, I may want each consumer of a chip peripheral to hold a ListItem for a queue item
[19:03:54] <bgamari> strcat, Thanks
[19:04:10] <bgamari> strcat, I kind of suspected raw pointers might be necessary
[19:04:15] <Sharp> strcat: Is there any way Rust can detect ahead of time that a program is exclusively single-threaded?  Global state is safe in that case.
[19:04:24] <strcat> Sharp: still not safe
[19:04:41] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[19:04:42] <strcat> at least borrowing globals is never safe
[19:04:51] <strcat> because you could easily make aliasing &/&mut or &mut/&mut
[19:04:56] <bvssvni> bgamari: if you use just x: ListItem<T>, it fixes the compile error, because you can't make a copy of the &mut pointer
[19:04:57] <Sharp> Ah yeah, good point.
[19:05:04] <bgamari> hmm
[19:05:17] <thiez> bvssvni: doesn't that create a type of infinite length?
[19:05:19] <strcat> Sharp: it could allow certain things but it's not really clear if it *should* :)
[19:05:27] *** Quits: Tohie (scott@9F69D92D.101F3A9A.65138F83.IP) (Quit: leaving)
[19:05:27] <Sharp> Heh.  Fair enough.
[19:05:31] <strcat> Sharp: like Cell vs. RefCell
[19:05:35] <strcat> it could allow what Cell does
[19:05:41] <strcat> on globals, if you prove it is single-threaded
[19:06:01] <bvssvni> thiez: in the 'prepend' function, not struct declaration
[19:06:16] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Input/output error)
[19:06:54] <bvssvni> what happens here is passing a borrowed pointer and adding it to another structure
[19:07:00] <bgamari> bvssvni, then you get a type mismatch, no?
[19:07:10] <bgamari> e.g. hi2.rs:26:30: 26:37 error: mismatched types: expected `std::option::Option<&'static mut ListItem<<generic #9>>>` but found `std::option::Option<ListItem<T>>` (expected &-ptr but found struct ListItem)
[19:07:18] <bvssvni> bgamari: ah
[19:07:32] <Sharp> I just thought that might be neat, if it's possible to prove such a thing, since I imagine in embedded that's at least a somewhat common situation.
[19:07:43] *** Joins: chris_ (chrido@moz-A85AA196.pool.mediaways.net)
[19:07:46] <Sharp> No idea whether it is possible though.
[19:08:12] <bgamari> Sharp, concurrency is pretty common in the embedded case
[19:08:19] <bgamari> even if not with "threads" per se
[19:08:34] <bvssvni> bgamari: well, you can't have two of &'static mut, so you can't use it in a structure
[19:08:38] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[19:08:48] <bgamari> bvssvni, yeah, it sounds like I need to use raw pointers
[19:09:06] <Sharp> Well yeah, but in those cases I'm pretty sure Rust's restrictions are an unambiguously good thing.
[19:09:10] <bgamari> I'm not really sure how badly that will compromise the safety of the abstraction
[19:09:17] <chandler> speaking from experience, shooting one's self in the foot via unexpected aliasing is also somewhat common in embedded
[19:09:21] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[19:09:35] <bgamari> chandler, yep
[19:09:39] <strcat> aliasing &mut with a list is unsafe for other reasons
[19:10:11] <Sharp> Anyway, I thought external hardware only usually had access to some addresses.
[19:10:11] <strcat> at least with one allocated fully/partially on the stack/heap
[19:10:25] <strcat> take & (or &mut) pointer deeper into the list, and now get rid of the tail of the list
[19:12:40] *** Quits: jdao (Mibbit@6F348B8A.C422786F.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:13:08] <bgamari> strcat, thiez , so is this the best I can do? https://gist.github.com/bgamari/10010134
[19:13:43] <bgamari> seems like the use of raw pointers in the public interface of prepend is sort of unfortunate
[19:14:18] <cmr> prepend should be taking `&mut self` so it's actually a method
[19:15:11] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[19:15:20] <bgamari> alright
[19:15:25] <strcat> seems like it may still be unsafe
[19:15:29] <bgamari> same with pop in that case
[19:15:31] <strcat> you have to be careful with &mut
[19:15:57] <bgamari> yeah, I'm still trying to figure out how to reason about the memory model
[19:16:13] <strcat> restrict T *
[19:17:05] <strcat> and &T guarantees immutability of what it points at
[19:17:15] <strcat> unlike const
[19:17:34] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[19:17:51] *** Joins: quux00 (uid24415@moz-E77DEB21.irccloud.com)
[19:18:01] <bgamari> strcat, hmm
[19:18:36] <bgamari> strcat, not sure what you mean
[19:18:40] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[19:18:58] <strcat> I mean `&mut T` in rust is like `restrict T *` in C
[19:19:12] <bgamari> ahh
[19:19:13] <bgamari> right
[19:19:14] <bgamari> I see
[19:19:19] <strcat> for the duration you have the &mut, it must be the only way to read/write from/to that memory
[19:19:24] <bgamari> right
[19:19:48] <strcat> you'll technically be fine creating aliasing ptrs, as long as you don't *use* them to violate the rule
[19:20:39] <quux00> Are there any config file libraries that are part of the libraries distributed with Rust?  Things like Java properties, yaml, ini, toml parsers?
[19:20:50] <cmr> quux00: not in the standard distribution.
[19:21:07] <quux00> cmr: darn
[19:21:19] <quux00> I tried to use https://github.com/mneumann/rust-toml
[19:21:24] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[19:21:34] *** Joins: dranov (dranov@B72D9B7B.464AB0AD.FCAAE698.IP)
[19:21:35] <quux00> but I get error: can't find crate for `toml`
[19:21:36] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:21:42] <quux00> extern crate toml = "github.com/mneumann/rust-toml#toml:0.1";
[19:21:52] <quux00> will rust try to download from github like go does?
[19:21:54] <cmr> no.
[19:21:57] <cmr> not anymore.
[19:22:03] <cmr> rustpkg used to do that.
[19:22:12] <quux00> OK.  So on my own until Cargo is ready?
[19:22:14] <cmr> you need to actually build toml and just do `extern crate toml;`
[19:22:16] *** Quits: dranov (dranov@B72D9B7B.464AB0AD.FCAAE698.IP) (Quit: Leaving)
[19:22:26] *** Joins: cschneid (cschneid@moz-20C37083.hlrn.qwest.net)
[19:22:33] <Eridius> sanity check: if I make a system call that returns an error, and I make a second call that doesn't, errno is still set from the first call, right? (e.g. successful calls don't set errno to 0)
[19:22:59] <bgamari> strcat, So I guess references aren't terribly useful in statically allocated code as you can trivially create aliases
[19:23:33] <strcat> Eridius: I think the state of errno becomes undefined
[19:23:47] <strcat> you can't depend on it not being set to garbage or 0 afaik
[19:23:57] <Eridius> damn
[19:24:04] <strcat> would have to check POSIX to be sure
[19:24:05] *** Quits: cschneid (cschneid@moz-20C37083.hlrn.qwest.net) (Ping timeout)
[19:24:10] <Eridius> yeah POSIX seems to agree
[19:25:02] <frozendevil> out of curiosity, what were the issues with rustpkg that warranted its replacement?
[19:25:49] *** Joins: p1start (rewi@moz-E7F3D014.org)
[19:26:38] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[19:28:47] *** Joins: EA (EA@D9160654.9EA65473.DDE5D3F6.IP)
[19:28:58] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[19:29:03] <thiez> why is it again that I can't implement a trait twice for a type?
[19:29:06] *** Joins: leowoe1 (Leo@moz-72D47201.dclient.hispeed.ch)
[19:29:09] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:29:12] *** Quits: chris_ (chrido@moz-A85AA196.pool.mediaways.net) (Ping timeout)
[19:29:26] <eibwen> thiez: what would the result be?
[19:29:35] <thiez> e.g. impl Mul<A,B> for C {...} impl Mul<D,B> for C {...}
[19:29:37] <cmr> thiez: if you mean with different type parameters, because of language limitations that will be lifted.
[19:29:40] *** Quits: leowoe (Leo@moz-72D47201.dclient.hispeed.ch) (Ping timeout)
[19:29:50] <thiez> cmr: that is what I meant, yes
[19:30:02] <bvssvni> frozendevil: https://mail.mozilla.org/pipermail/rust-dev/2014-January/008224.html
[19:30:41] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[19:30:42] *** Quits: jackneill (jackneill@moz-6073ACF6.pool.digikabel.hu) (Quit: WeeChat 0.4.3)
[19:30:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[19:31:00] <Eridius> cmr: is there actually a concrete plan to lift that?
[19:31:08] <Eridius> thiez: the basic reason is what do you do with a type that implements A,B,D?
[19:31:13] <Eridius> oh wait, I misread
[19:31:15] <frozendevil> bvssvni: right, but what sort of flaws were there?
[19:31:19] <cmr> Eridius: niko has said he is writing the rfc.
[19:31:22] <Eridius> you're talkinga bout something different than I expected
[19:31:30] <Eridius> cmr: yay
[19:32:00] <bvssvni> frozendevil: I only used it a little, so I did not get the full details before it was deprecated (reading)
[19:32:15] <bgamari> this is pretty odd, this code appears to typecheck complaining only about unused items; that is, until I try to use one of the defined items at which point it complains about mismatched types
[19:32:17] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[19:32:26] <thiez> Eridius: in my case I want a vector that I can mulitply with another vector, but also with a f32 to scale it
[19:32:32] <frozendevil> bvssvni: ah, that thread is longer than I realized
[19:32:35] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[19:32:50] <Eridius> thiez: for the time being just define your own method for one of those operations
[19:33:02] <frozendevil> bvssvni: I can catch up, thanks :)
[19:33:29] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[19:33:29] *** ChanServ sets mode: +ao dherman dherman
[19:33:37] *** Joins: mindcat (mindcat@7CB300B6.BDFDA69D.857BDFA9.IP)
[19:33:58] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[19:34:06] <mindcat> do we have "hugepages" memory allocator?
[19:35:32] <mindcat> :S is everybody one sleeping?
[19:35:50] <frozendevil> at noon on a sunday?
[19:36:04] <EKK> Hey, it's almost midnight here
[19:36:08] *** Joins: philix_ (felipe@moz-9A1DA32.user.veloxzone.com.br)
[19:36:20] *** Quits: Veld (Mibbit@moz-3E8D39A3.ip47.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[19:36:24] <mindcat> well, it is night for me
[19:36:45] *** Quits: philix (felipe@moz-12262F81.user.veloxzone.com.br) (Ping timeout)
[19:36:57] <frozendevil> fair point
[19:37:14] <frozendevil> clearly everyone needs to standardize on swatch internet beats
[19:38:01] <strcat> UGT
[19:38:01] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[19:38:16] <strcat> http://www.total-knowledge.com/~ilya/mips/ugt.html
[19:40:00] <strcat> mindcat: it's sunday, people are either at church and/or recovering from a rave last night
[19:40:04] <strcat> clearly
[19:40:11] <frozendevil> or raving at church
[19:40:51] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:40:53] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[19:41:24] <jroweboy> strcat: I feel like you missed the obvious one, where they stayed up till 5 AM trying to fix a bug ;)
[19:41:36] <strcat> at a rave
[19:42:34] *** Joins: zeuxcg (zeuxcg@moz-2B528B55.mycingular.net)
[19:42:55] <bvssvni> in the church
[19:43:06] <strcat> rusti: 2
[19:43:06] -rusti- 2
[19:43:23] <zeuxcg> I'm trying to find the replacement for std::vec::raw::from_buf and failing
[19:43:39] <zeuxcg> is there a std library primitive to copy a buffer from raw pointer into a vec or ~[]?
[19:43:52] <Ms2ger> std::slice::raw::from_buf?
[19:44:03] <cmr> zeuxcg: also Vec::from_parts
[19:44:09] <bvssvni> is it renamed? http://static.rust-lang.org/doc/master/std/slice/raw/fn.from_buf_raw.html
[19:44:21] <strcat> from_parts doesn't copy though
[19:44:43] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[19:44:43] *** Quits: benvie (bbenvie@5FD20F9A.53D07D95.EFF8B7BF.IP) (Ping timeout)
[19:45:01] *** Quits: richo (richo@moz-E6FCD5A0.hsd1.ca.comcast.net) (Ping timeout)
[19:45:03] <bvssvni> there is no Vec equivalent at the moment
[19:45:07] <zeuxcg> ah, std::slice!
[19:45:11] <zeuxcg> that works I think
[19:45:25] <zeuxcg> thanks, I'll try that
[19:45:32] *** Quits: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com) (Ping timeout)
[19:45:44] <zeuxcg> in general it was way easier before Vec<T> :-/
[19:45:45] <strcat> bvssvni: well, from_slice without the convenience of not having to make a slice
[19:46:02] <strcat> zeuxcg: it's not finished, not all the useful methods are ported
[19:46:05] <zeuxcg> now I have to pick between Vec<T> and ~[T] and I'm still not sure why
[19:46:12] <strcat> use Vec<T>
[19:46:22] <strcat> ~[T] is going to be a pretty useless type
[19:46:26] <strcat> it won't be resizable
[19:46:34] <zeuxcg> strcat: I was following the rust-dev thread and it kinda seems you don't agree with nmatsakis on that :)
[19:46:37] <o11c> I have a use for it
[19:46:48] <strcat> zeuxcg: I don't think nmatsakis has a strong opinion yet
[19:46:54] <zeuxcg> if ~[T] is useless then I would prefer Vec<T> to be called ~[T], but oh well
[19:47:09] <o11c> for that matter, a lot of people are sensibly using immutable data structures can use it
[19:47:16] <strcat> zeuxcg: ~[T] as a distinct type will be removed
[19:47:36] <bgamari> anyone have any feedback? https://gist.github.com/bgamari/10010134
[19:47:41] <strcat> o11c: sounds like ptr -> { len, data[] } would be more useful in most cases
[19:47:43] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[19:47:53] <strcat> o11c: 1 word vs. 3 words is a bigger difference than 2 vs. 3
[19:48:41] <o11c> strcat: hm, perhaps
[19:49:10] *** Joins: cschneid (cschneid@moz-20C37083.hlrn.qwest.net)
[19:49:45] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[19:50:21] *** Joins: Rufflewind (rf@moz-4556AD29.lightspeed.lnngmi.sbcglobal.net)
[19:50:21] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[19:50:22] <zeuxcg> strcat: I did not follow everything on that front, but it felt that we're removing ~[T] as a distinct type for reasons of a cleaner type system, and that leads to Vec<T> being the 'default array' type
[19:50:41] <strcat> zeuxcg: I wouldn't say it's the default array
[19:50:51] <strcat> [1, 2, 3] will remain in the language and is the best choice when it works
[19:51:02] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[19:51:12] <jroweboy> "mut static items are not allowed to have owned pointers" is the error message I got when I was tried to initialize a mutable static : Option<Struct> = None;
[19:51:14] <strcat> borrowed slices will remain in the language and are the next best choice when they work
[19:51:25] <jroweboy> I thought that was allowed though>
[19:51:33] <strcat> if you need a dynamic size, then Vec<T> is what you should use
[19:51:36] *** Quits: exoticorn (exoticorn@moz-88AC35D8.adsl.alicedsl.de) (Ping timeout)
[19:51:37] <zeuxcg> [1, 2, 3] is a stack-allocated array, right?
[19:51:45] <strcat> zeuxcg: I wouldn't say stack
[19:51:47] <strcat> it's unboxed
[19:51:52] <zeuxcg> so sending it to a task involves copying?
[19:51:55] <zeuxcg> well
[19:51:57] *** Quits: Nekit1234007 (Nekit12340@BA7ECF2A.54992E3C.47C77BB5.IP) (Ping timeout)
[19:51:58] <zeuxcg> let x = [1, 2, 3]
[19:52:29] <strcat> they are (unboxed) fixed-size arrays
[19:52:29] *** Quits: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch) (Quit: Leaving.)
[19:52:42] <zeuxcg> will let x = ~[1, 2, 3] also stay?
[19:52:55] <strcat> yes but it won't be the same thing as it is today
[19:53:07] <cmr> zeuxcg: that's just ~expr, where expr is [1, 2, 3]
[19:53:12] <strcat> it will be ~[int, ..3]
[19:53:16] *** Joins: Nekit1234007 (Nekit12340@BA7ECF2A.54992E3C.47C77BB5.IP)
[19:53:17] <zeuxcg> strcat: ah.
[19:53:40] <strcat> zeuxcg: ~[T] (and ~[T, ..n]) will exist because ~T exists
[19:53:44] <strcat> and [T] will be T
[19:53:50] <strcat> ([T, ..n] is already ofc)
[19:53:51] <zeuxcg> strcat: yeah, I understand that part
[19:54:01] <strcat> doesn't mean it's useful/desirable though
[19:54:04] <zeuxcg> this is roughly what I was referring to re: cleaner type system 
[19:54:09] <strcat> Rc<Rc<Rc<T>>> exists too
[19:54:11] <zeuxcg> i.e. previously ~[T] was special
[19:54:17] <zeuxcg> after changes it won't be
[19:54:31] <strcat> as does ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~u8
[19:55:00] <tiffany> rusti: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~4
[19:55:00] -rusti- 4
[19:55:26] <strcat> rusti: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~1
[19:55:27] -rusti- <anon>:1:1: 1:1 error: reached the recursion limit during monomorphization
[19:55:27] -rusti- <anon>:1 #![feature(globs, macro_rules, struct_variant, simd, asm)]
[19:55:27] -rusti-          ^
[19:55:27] -rusti- playpen: application terminated with error code 101
[19:55:33] <strcat> rusti: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~1
[19:55:34] -rusti- <anon>:1:1: 1:1 error: reached the recursion limit during monomorphization
[19:55:34] -rusti- <anon>:1 #![feature(globs, macro_rules, struct_variant, simd, asm)]
[19:55:34] -rusti-          ^
[19:55:34] -rusti- playpen: application terminated with error code 101
[19:55:37] <strcat> rusti: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~1
[19:55:37] -rusti- 1
[19:55:40] <strcat> rusti: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~1
[19:55:40] -rusti- <anon>:1:1: 1:1 error: reached the recursion limit during monomorphization
[19:55:41] -rusti- <anon>:1 #![feature(globs, macro_rules, struct_variant, simd, asm)]
[19:55:41] -rusti-          ^
[19:55:41] -rusti- playpen: application terminated with error code 101
[19:55:42] <strcat> rusti: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~1
[19:55:43] -rusti- 1
[19:56:02] *** Joins: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi)
[19:56:03] <strcat> rusti: "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~".len()
[19:56:04] -rusti- 64
[19:56:30] <strcat> that seems like a ridiculously low limit
[19:56:32] <strcat> :(
[19:56:40] *** Quits: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi) (Client exited)
[19:56:42] <tiffany> it's funny how that would be 64 lines of equivalent C
[19:56:47] <strcat> tiffany: more
[19:56:52] <strcat> it has checks for OOM
[19:57:42] <strcat> ~5 is 'size_t *ptr = malloc(sizeof(size_t)); if (!ptr) abort(); *ptr = 5;'
[19:57:53] *** Joins: martialalex (Mibbit@C0E2C4AE.4DB138C4.DDE5D3F6.IP)
[19:57:56] <strcat> with free(ptr) at the end of the scope
[19:57:59] <strcat> ;)
[19:58:36] <strcat> rusti: Vec::from_capacity(1000000)
[19:58:37] -rusti- <anon>:11:9: 11:27 error: unresolved name `Vec::from_capacity`.
[19:58:37] -rusti- <anon>:11         Vec::from_capacity(1000000)
[19:58:37] -rusti-                   ^~~~~~~~~~~~~~~~~~
[19:58:37] -rusti- error: aborting due to previous error
[19:58:37] -rusti- playpen: application terminated with error code 101
[19:58:44] <strcat> rusti: Vec::with_capacity(1000000)
[19:58:47] -rusti- pastebinned 8 lines of output: http://ix.io/bqZ
[19:58:56] <strcat> rusti: Vec::<int>::with_capacity(1000000)
[19:58:58] -rusti- []
[19:59:02] <strcat> rusti: Vec::<int>::with_capacity(10000000)
[19:59:03] -rusti- []
[19:59:05] <strcat> rusti: Vec::<int>::with_capacity(100000000)
[19:59:05] -rusti- []
[19:59:33] <Havvy> tiffany:  When would you need more than 64?
[19:59:51] <tiffany> you should ask strcat that
[20:00:07] <tiffany> to be honest I have never seen any use of more than 2
[20:00:09] *** Joins: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi)
[20:00:12] <strcat> I can think of reasons you'd have way deeper types than 64
[20:00:15] <tiffany> at least, not without arrays involved
[20:00:29] <tiffany> oh, I guess
[20:00:34] <tiffany> I was thinking of pointer depth
[20:00:45] <strcat> I think it applies to types in general
[20:00:57] <Havvy> Also, shouldn't that limit be settable via a config option?
[20:01:05] <strcat> for example each method in an iterator chain adds a layer of depth
[20:01:17] <strcat> Havvy: it should just be really high
[20:01:30] <strcat> at a certain point you're going to hit out-of-stack anyway
[20:01:31] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Ping timeout)
[20:01:39] <strcat> or it will take hours to compile
[20:01:50] <Havvy> So why does the limit exist at all?
[20:01:51] <strcat> afaik it was probably added as a naive occurs check...
[20:01:59] <strcat> it shouldn't exist
[20:02:06] <bgamari> Is it possible to use the macro system to capture a continuation? That is place all of the code following the macro mention in a closure which can then be called later?
[20:02:21] <strcat> rusti: struct Foo { x: Option<[Foo, ..2]> }
[20:02:22] -rusti- <anon>:11:9: 11:45 error: illegal recursive struct type; wrap the inner value in a box to make it representable
[20:02:22] -rusti- <anon>:11         struct Foo { x: Option<[Foo, ..2]> }
[20:02:22] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[20:02:22] -rusti- error: aborting due to previous error
[20:02:22] -rusti- playpen: application terminated with error code 101
[20:02:29] * strcat shrugs
[20:02:40] <strcat> rusti: struct Foo { x: Option<[Foo, ..0]> }
[20:02:40] -rusti- <anon>:11:9: 11:45 error: illegal recursive struct type; wrap the inner value in a box to make it representable
[20:02:41] -rusti- <anon>:11         struct Foo { x: Option<[Foo, ..0]> }
[20:02:41] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[20:02:41] -rusti- error: aborting due to previous error
[20:02:41] -rusti- playpen: application terminated with error code 101
[20:03:07] *** Joins: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net)
[20:03:20] <bgamari> e.g. { statement1(); wait!(); statement2(); } would transform to { statement1(); do_something_with_closure([] { statement2(); } }
[20:03:54] *** Quits: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi) (Quit: Bye)
[20:04:12] <o11c> bgamari: not like that
[20:04:27] <o11c> bgamari: but you could do: wait!( statement1(); statement2(); )
[20:05:07] <bgamari> o11c, so the argument list of wait! needs to enclose the continuation?
[20:05:20] <o11c> yes
[20:05:30] <bgamari> hmm, a bit messy syntactically
[20:05:31] <cmr> that's not necessarily true.
[20:05:36] <o11c> you might want to take the monad! macro as an example
[20:05:43] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:05:44] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[20:05:50] <cmr> for example, if you instead slapped an attribute on the function and then did wait!() inside
[20:05:55] <bgamari> o11c, effectively what I'm looking for is an analog to Haskell's Cont monad
[20:06:16] <cmr> the syntax extension that handles the attribute could use that wait!() as a sentinel for its actual behavior.
[20:06:32] <bgamari> ah
[20:06:39] <cmr> can't be an macro_rules macro though, needs to be a full syntax extension.
[20:07:10] <o11c> bgamari: https://gist.github.com/bvssvni/9674632
[20:07:30] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[20:07:37] *** Quits: philix_ (felipe@moz-9A1DA32.user.veloxzone.com.br) (Ping timeout)
[20:07:39] <o11c> doesn't do *exactly* what you're saying, but is a useful step in that direction
[20:08:14] <bgamari> yeah, alright, awesome
[20:09:11] <bgamari> the macro system seems quite powerful
[20:09:30] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[20:09:44] <cmr> basically anything you can do with syntax, you can do.
[20:10:02] <strcat> bgamari: https://github.com/sfackler/rust-phf ;p
[20:10:04] *** Joins: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:10:19] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Connection reset by peer)
[20:10:19] <strcat> don't have to stick to the declarative macro_rules! syntax
[20:10:35] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[20:11:25] <taliriktug> Why we can call unwrap() after TcpListener::bind() and not to call it?
[20:11:45] *** Quits: zeuxcg (zeuxcg@moz-2B528B55.mycingular.net) (Quit: )
[20:11:48] *** Joins: zeuxcg (zeuxcg@moz-2B528B55.mycingular.net)
[20:12:25] <taliriktug> If we do not call it and try to bind port already in use then program spams a lot and eats a lot of cpu: https://codeo.me/4ps
[20:12:46] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Ping timeout)
[20:12:59] *** Joins: derek_c (derek@moz-A43430DA.cit.cornell.edu)
[20:13:17] <derek_c> how do you use things defined in lib.rs in a neighboring source file?
[20:13:32] <derek_c> like, I have lib.rs and foo.rs in the same directory
[20:13:36] <cmr> derek_c: `use Foo;`
[20:13:41] <cmr> derek_c: http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[20:13:51] <strcat> taliriktug: drop(acceptor) at the end there is a no-op, it's already doing that
[20:13:58] <strcat> I'm not really sure what you're asking though
[20:14:07] *** Joins: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch)
[20:14:19] <strcat> drop is just 'fn drop<T>(x: _) { }'
[20:14:19] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[20:14:25] <strcat> drop is just 'fn drop<T>(_: T) { }' *
[20:14:26] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[20:15:38] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[20:16:04] <taliriktug> I mean, compiler should make warning about unused result of bind, doesn't int?
[20:16:09] *** Quits: zeuxcg (zeuxcg@moz-2B528B55.mycingular.net) (Quit: )
[20:16:11] <taliriktug> *it
[20:16:18] *** Joins: zeuxcg (zeuxcg@moz-2B528B55.mycingular.net)
[20:16:51] <strcat> what's a good name for a (size, align) pair taken by an allocator?
[20:16:59] <taliriktug> If bind was unsuccessful, program loops endlessly and prints a lot of debug info
[20:16:59] * strcat can't think of one
[20:17:15] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[20:17:31] <strcat> taliriktug: which version of rust is this?
[20:17:40] <strcat> the signature of bind is fn bind(addr: SocketAddr) -> IoResult<TcpListener> now
[20:17:44] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[20:17:51] <taliriktug> rustc 0.11-pre (d73bd64 2014-04-06 08:26:34 -0700)
[20:18:27] * strcat is going to feel bad about calling it a 'Spec'
[20:18:28] *** Quits: WalrusPony1 (retep998@moz-530D0BB2.dhcp.oxfr.ma.charter.com) (Connection reset by peer)
[20:18:50] <Zor> strcat: memory block? segment? something
[20:18:59] <arielb1> strcat: allocation class?
[20:19:11] *** Joins: WalrusPony (retep998@moz-530D0BB2.dhcp.oxfr.ma.charter.com)
[20:19:21] <derek_c> cmr: I think I was asking, if I have a foo.rs and a lib.rs in the same directory, then how do I import things defined in lib.rs to foo.rs?
[20:20:44] <taliriktug> strcat: it is called memalign in clang, if I understand what you mean: "void *memalign(size_t alignment, size_t size)"
[20:21:09] <taliriktug> oh, pair name
[20:21:11] <strcat> taliriktug: http://sprunge.us/eJFf
[20:21:28] <taliriktug> I see
[20:21:35] <arielb1> derek_c: use lib
[20:21:45] *** Quits: zeuxcg (zeuxcg@moz-2B528B55.mycingular.net) (Client exited)
[20:22:10] *** Joins: zeuxcg (zeuxcg@moz-2B528B55.mycingular.net)
[20:22:27] <derek_c> arielb1: you mean, literally "use lib"?  doesn't work
[20:22:41] <cmr> derek_c: with `use`
[20:22:46] <cmr> derek_c: if you do `rustc lib.rs`
[20:22:50] <cmr> and lib.rs has `mod foo;`
[20:23:01] <cmr> then you can do `use Foo;` in foo.rs if Foo is defined in lib.rs
[20:23:41] <martialalex> I'm in the class on the kernel. My file system is losing track of the parent directory on a cd
[20:23:52] *** Quits: zeuxcg (zeuxcg@moz-2B528B55.mycingular.net) (Ping timeout)
[20:23:58] <martialalex> Code is here: https://gist.github.com/ama4tf/10011078
[20:24:03] <hirsch> I wrote a lint check that warns on negating uints, what do you think about it? (See: https://github.com/mozilla/rust/issues/11273)
[20:24:11] <derek_c> cmr: it really doesn't work for me. says unresolved import
[20:24:21] <cmr> derek_c: gist your code.
[20:24:22] <derek_c> cmr: ah wait
[20:24:59] <derek_c> ok I see, I was trying to directly compile the file.  thing is, I don't want it to be a module.  it's a test files
[20:26:03] <cmr> derek_c: ok, then you should say `extern crate name;` where name is the crate id from lib.rs
[20:26:22] <derek_c> cmr: ok, was just wondering if it's possible to do without that. thanks!
[20:26:33] <cmr> martialalex: holy shit that ascii rust logo is sweet
[20:26:58] <martialalex> cmr: yeah it was one of our ta's that came up with it for their final project. At least the beginner kernel with that
[20:27:47] *** Quits: edwardw (edwardw@8E77A3F9.7FC992B3.B3B412E5.IP) (Quit: Leaving...)
[20:28:39] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Quit: wilmoore)
[20:29:26] *** Joins: alonlevy (alon@moz-B6210BD6.red.bezeqint.net)
[20:29:39] *** Joins: RustyPipes (Mibbit@6C56BD37.387BC77F.DDE5D3F6.IP)
[20:29:54] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:29:59] <martialalex> cmr: yeah but I think I may win for most ludicrous bug
[20:30:54] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:31:26] <RustyPipes> I second that 
[20:31:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:32:32] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[20:32:49] *** Joins: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP)
[20:32:54] *** Quits: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP) (Quit: pupoque)
[20:33:01] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[20:34:20] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[20:34:34] *** Quits: untitaker (untitaker@moz-B8CEC22D.adsl.highway.telekom.at) (Quit: ZNC - http://znc.in)
[20:35:54] *** Quits: stephenmac7 (quassel@moz-C42B1C24.hsd1.fl.comcast.net) (Ping timeout)
[20:35:58] *** Joins: untitaker (untitaker@moz-B8CEC22D.adsl.highway.telekom.at)
[20:36:14] *** Quits: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net) (Ping timeout)
[20:36:20] <derek_c> what could be causing "error: linking with `cc` failed: exit code: 1"?
[20:36:32] *** Quits: untitaker (untitaker@moz-B8CEC22D.adsl.highway.telekom.at) (Quit: ZNC - http://znc.in)
[20:37:20] *** Quits: heftig (heftig@moz-48F85AD2.dip0.t-ipconnect.de) (Quit: Quitting)
[20:37:28] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[20:37:34] *** Joins: stephenmac7 (quassel@moz-C42B1C24.hsd1.fl.comcast.net)
[20:37:54] *** Joins: untitaker (untitaker@moz-B8CEC22D.adsl.highway.telekom.at)
[20:38:02] <o11c> derek_c: are there previos errors?
[20:38:03] <DanC> reexporting enums is a pain, no?
[20:38:12] <o11c> does cc exist?
[20:38:56] <derek_c> o11c: no. yes, it does
[20:39:04] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[20:39:11] <derek_c> I'm writing a C library wrapper
[20:39:14] <o11c> try runnig under strace ?
[20:39:23] * DanC discovers https://github.com/mozilla/rust/issues/10090
[20:39:44] <o11c> it's quite unusual to not have any other messages though ...
[20:40:11] <derek_c> my code is linking against a C library, so I assume it's because cc can't find the C lib or something?
[20:40:28] <Eridius> derek_c: and it didn't print anything first?
[20:41:24] <martialalex> still puzzled on my whole "fields lost in change of directory" bug
[20:41:33] *** Joins: richo (richo@2D836DA4.CB3251F2.284344F5.IP)
[20:41:41] <derek_c> Eridius: nope
[20:41:59] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[20:42:37] *** Parts: EA (EA@D9160654.9EA65473.DDE5D3F6.IP) ()
[20:43:08] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[20:43:53] <DanC> oh boy. my attempt to reexport some IoErrorKinds gave an ICE
[20:44:03] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[20:46:09] *** Quits: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:46:54] *** Quits: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net) (Quit: WeeChat 0.4.2)
[20:49:28] <martialalex> Are there any people on here for helping? 
[20:49:40] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[20:50:42] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[20:51:33] *** Quits: Nekit1234007 (Nekit12340@BA7ECF2A.54992E3C.47C77BB5.IP) (Ping timeout)
[20:51:52] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[20:51:59] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Ping timeout)
[20:52:47] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:52:48] *** Quits: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Connection reset by peer)
[20:52:54] <Earnestly> martialalex: There are, perhaps not right now, also consider that they need to read a lot of code to even begin
[20:53:10] <Earnestly> Usually it's a good idea to write a smaller version (if possible) that demonstrates the bug.
[20:54:16] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[20:54:49] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[20:54:53] *** Joins: stev (Mibbit@moz-B7D878F3.socal.res.rr.com)
[20:55:10] *** Quits: canhtak (canhtak@moz-641FE58F.wl.t.ulaval.ca) (Quit: canhtak)
[20:56:07] <taliriktug> so, I updated rustc and it still loops endlessly and eats cpu on failed bind: https://codeo.me/4ps
[20:56:19] *** Joins: Nekit1234007 (Nekit12340@F5C8AC37.75672F1E.4707F662.IP)
[20:57:33] <taliriktug> Would it be better to change this example to call unwrap() right after bind? https://github.com/mozilla/rust/blob/master/src/libstd/io/mod.rs#L106
[20:58:39] *** Joins: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net)
[20:58:44] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[20:58:48] <eibwen> is there a type that acts like an Option<T>, but can only be changed from None to Some(T) once?
[20:59:13] <eibwen> I'd like that, in an atomic way if possible, for caching
[20:59:36] <Ms2ger> Not in libstd, I don't think
[20:59:38] <eibwen> would that be considered for libstd standard library?
[20:59:39] <Eridius> eibwen: you could build your own type around it
[21:00:09] <eibwen> (would that have a chance to get included in libstd?)
[21:00:14] <taliriktug> hoverbear: it's me mailing you
[21:00:19] <Eridius> eibwen: should it?
[21:00:23] <hoverbear> taliriktug: Cool, hey.
[21:00:27] <taliriktug> hoverbear: try to git grep 
[21:00:28] <Eridius> is there a legitimate need for a type like this in libstd?
[21:00:39] <taliriktug> 'std::libc' on rust repo
[21:00:46] <eibwen> Eridius: I don't know, it's some kind of Once for structs
[21:00:51] <taliriktug> there is no such strings anymore
[21:01:16] <eibwen> might be useful for libraries that implement caching of expensive-to-produce results
[21:01:22] <taliriktug> I think last nighty builds comes with this change
[21:01:29] <Eridius> eibwen: maybe a type that exposes some sort of .get_mut() that initializes itself with default::Default if this is the first call?
[21:02:05] <Eridius> eh, caching, meh. I was thinking you wanted this for e.g. a static that can't be statically initialized to a valid struct value
[21:02:14] *** Joins: enes (enes@moz-3056938F.swissinet.com)
[21:02:14] *** Quits: enes (enes@moz-3056938F.swissinet.com) (Quit: enes)
[21:02:42] <benny> is there a non-ownership changing unwrap()? I would like to get the content of the Option and don't know whether I should clone or pattern match
[21:02:57] <Eridius> benny: call .as_ref() first
[21:03:01] <Eridius> that turns Option<T> into Option<&T>
[21:03:04] <Eridius> which you can then unwrap
[21:03:11] <Ms2ger> benny, pattern-match is probably best
[21:03:19] <Ms2ger> What Eridius suggested is also get_ref()
[21:04:04] <Eridius> huh I didn't realize .get_ref() still existed. I thought that was replaced by .as_ref().unwrap()
[21:04:08] <benny> but if it's &T and I unwrap() I change the reference and I don't want that, I just want to read the content
[21:04:19] <Eridius> benny: what do you mean you change the reference?
[21:04:31] <Eridius> foo.as_ref() doesn't mutate foo, it returns a new Option that borrows the contents of foo
[21:04:44] <benny> oh let me try
[21:05:38] <benny> I can't plug as_ref().unwrap() into where I previously used clone().unwrap()
[21:05:54] <Eridius> benny: the former gives you a &T, the latter gives you a T resulting from cloning
[21:06:46] <martialalex> hey, anyone willing to help with a super fun bug that makes no sense
[21:06:49] <martialalex> ?
[21:06:58] <Eridius> is it, in fact, super fun?
[21:07:23] <derek_c> ah, I realized it's saying "collect2: error: ld returned 1 exit status"
[21:07:36] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[21:07:42] <benny> Eridius: thanks, I'll play around a bit. I'm super new so the whole ~ and & stuff is not yet fully understood by me :-)
[21:07:52] <zeuxcg> rusti: let m = HashMap::<~str, uint>::new()
[21:07:53] -rusti- <anon>:12:5: 12:6 error: expected `;` but found `}`
[21:07:54] -rusti- <anon>:12     };
[21:07:54] -rusti-               ^
[21:07:54] -rusti- playpen: application terminated with error code 101
[21:07:57] *** Quits: Ferreus (ferreus@moz-3C509473.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[21:08:03] <zeuxcg> rusti: let m = HashMap::<~str, uint>::new();
[21:08:07] -rusti- pastebinned 11 lines of output: http://ix.io/bwz
[21:08:42] *** Joins: canhtak (canhtak@moz-641FE58F.wl.t.ulaval.ca)
[21:08:56] <zeuxcg> ugh, it's in collections...
[21:09:13] <strcat> rusti links collections
[21:09:24] <strcat> rusti: collections::HashSet::<int>::new()
[21:09:25] -rusti- {}
[21:09:53] <strcat> rusti: let mut xs = collections::HashSet::new(); xs.insert(5); xs.insert(10); xs.insert(5); xs
[21:09:55] -rusti- {10, 5}
[21:10:07] *** Joins: Jesin (Jesin@moz-8602CBBD.washdc.fios.verizon.net)
[21:10:43] <zeuxcg> ah, at least it's not collections::hashmap::HashMap
[21:10:46] <zeuxcg> thanks
[21:11:19] *** Quits: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch) (Quit: Leaving.)
[21:11:36] <zeuxcg> strcat: any idea of when 1.0 might happen? eagerly awaiting the day when I don't have to fix the code with every update...
[21:12:54] *** Joins: jdao (Mibbit@CBB27A04.80BB6BFD.DDE5D3F6.IP)
[21:13:24] <Eridius> zeuxcg: we'd like it to happen by the end of the year, although that's not a guarantee
[21:13:50] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[21:13:55] <Eridius> also, when Rust hits 1.0, that doesn't mean the standard libraries are declared stable. The stability attributes on the standard libraries are separate from the language version
[21:14:11] <strcat> going to be a looooong time for most of it to be marked stable imo ;p
[21:14:16] <strcat> unless it's done prematurely
[21:14:23] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[21:14:50] <martialalex> oh hey, interested in looking at my return statement bug?
[21:15:00] *** Joins: tyoverby (tyoverby@73D4AA0F.5BB0586B.11F8506F.IP)
[21:15:04] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[21:15:11] <tyoverby> What was the rust compiler written in pre-bootstrap?
[21:15:15] *** Joins: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net)
[21:15:43] <Ms2ger> ocaml
[21:15:55] <Eridius> martialalex: asking if someone wants to look at your bug isn't very productive. You should just explain your bug and then if anyone has any expertise in the area they can chime in
[21:16:10] <tyoverby> Ms2ger: thanks!
[21:16:20] <Ms2ger> Np
[21:16:41] <strcat> ocaml compiler and c++ runtime
[21:16:56] <strcat> where 'runtime' even included the vector/string implementations
[21:17:10] <martialalex> Alright, link to the code here: https://gist.github.com/ama4tf/10011078#file-fs-rs-L167
[21:17:22] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[21:17:28] *** Quits: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net) (Ping timeout)
[21:17:32] *** Joins: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net)
[21:17:36] <martialalex> I'm part of the class that is building a kernel. We've implemented a full file system, however there is a huge bug in cd
[21:18:25] <martialalex> That's why I put the putcstr statements to track it down. If you mkdir foo and then cd foo, the parent parameter for directory foo changes from '/' to 'foo'
[21:18:52] <martialalex> Worse, it's doing it between here: https://gist.github.com/ama4tf/10011078#file-fs-rs-L167
[21:19:11] <martialalex> and here https://gist.github.com/ama4tf/10011078#file-sgash-rs-L295
[21:19:39] <martialalex> So literally in the return from a function, it changes the field. for no reason. No cause, it just does it
[21:19:46] <martialalex> And I can't make any workaround
[21:20:09] *** Joins: Veld (Mibbit@moz-3E8D39A3.ip47.fastwebnet.it)
[21:20:35] <Veld> is it possible to swap to ~Foo?
[21:21:17] <strcat> sure
[21:21:31] *** Joins: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP)
[21:21:35] <strcat> the mem::swap function doesn't care what the &mut refs are from
[21:22:09] *** Joins: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch)
[21:22:58] *** Quits: richo (richo@2D836DA4.CB3251F2.284344F5.IP) (Ping timeout)
[21:23:21] <Eridius> martialalex: found it
[21:23:27] <Eridius> well, maybe
[21:23:31] <Eridius> hold on let me read a bit more
[21:24:17] <martialalex> Eridius: I swear if you find the answer to this
[21:24:27] <martialalex> Eridius: I will probably cry
[21:24:44] <Eridius> part of the problem is this is so far divorced from what normal rust code looks like that I can't really make any assumptions about a lot of this stuff
[21:25:16] *** Quits: taylanub (taylanub@moz-E0F8BCDE.dip0.t-ipconnect.de) (Ping timeout)
[21:25:27] <Eridius> martialalex: yep, found it
[21:25:36] <Eridius> martialalex: mkdir() creates the new directory, with &cwd as its parent
[21:25:43] *** Quits: Veld (Mibbit@moz-3E8D39A3.ip47.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[21:25:44] <Eridius> except you then change what cwd is in the cd() call
[21:25:48] <Eridius> which means you've also changed the parent of foo
[21:25:55] *** Quits: stev (Mibbit@moz-B7D878F3.socal.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:25:55] <Eridius> foo's parent is _always_ whatever the current working directory is
[21:26:12] <Eridius> martialalex: basically, cwd should be a pointer to the current directory, rather than a directory itself
[21:26:20] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[21:26:20] *** ChanServ sets mode: +o pnkfelix
[21:26:25] *** Joins: grund (empoz@moz-7E0B5623.a303.priv.bahnhof.se)
[21:26:43] <Eridius> martialalex: you need to keep a separate value which is the root of the fs, in order to root your directory tree
[21:26:51] <Eridius> martialalex: and set that up in init() as "/", and then point cwd at it
[21:27:06] <derek_c> link_args doesn't seem to work.. cc is returning a linkage error and it prints out all the arguments it used, and I can't find the link_args I supplied there
[21:27:06] <Eridius> and that separate value should never change
[21:27:36] <martialalex> Eridius: That effing brilliantr
[21:28:41] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[21:28:41] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[21:28:52] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[21:28:58] <pczarn> is it possible to use Servo as a library in Rust? like WebKit?
[21:29:09] <martialalex> Eridius: So in my static creation of cwd, it says I can
[21:29:10] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[21:29:36] *** Quits: paraze (paraze@moz-9E76094B.w90-27.abo.wanadoo.fr) (Client exited)
[21:29:59] <strcat> pczarn: it's intended to make it usable like that eventually
[21:30:34] <derek_c> can you somehow use pkg-config with rustc?
[21:30:38] *** Quits: leowoe1 (Leo@moz-72D47201.dclient.hispeed.ch) (Quit: Leaving.)
[21:30:39] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:30:40] <derek_c> to supply linking arguments?
[21:30:45] <pczarn> Github's Atom is based on nodejs and webkit. I'd like to write a native editor using Servo at some point when both Rust and Servo are stable.
[21:31:43] <strcat> pczarn: it's based on chromium (blink), not webkit
[21:31:48] <Eridius> martialalex: says you can what?
[21:31:49] <martialalex> Eridius: *type kernel::fs::directory cannot be dereferenced
[21:32:19] <martialalex> Eridius: Sorry, ta walked over so I asked him and he basically said "I have no clue"
[21:32:20] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:32:39] *** Joins: Doppp (Doppp@moz-CE720357.hfc.comcastbusiness.net)
[21:32:43] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[21:32:45] <martialalex> Eridius: this is due to changing line 26 to pub static mut cwd: fs::directory = *fs::directory {
[21:32:53] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Client exited)
[21:33:22] <Eridius> martialalex: that's because you wanted to say & not *
[21:33:28] <Eridius> *fs::directory is, um, dereferncing a struct
[21:33:35] <Eridius> also you should just initialize it to 0
[21:33:51] <Eridius> because it needs to point at something valid. You can't just create a directory and point at it here as that's not very useful
[21:33:59] <Eridius> your init() method will create your filesystem root and point cwd at it
[21:34:11] <Eridius> or I suppose you could make your filesystem root into another static
[21:34:32] <pczarn> right.
[21:34:58] <martialalex> Eridius: I understand, however changing to &, says we need a lifetime specifier for it
[21:37:56] *** Quits: martialalex (Mibbit@C0E2C4AE.4DB138C4.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:38:04] *** Joins: martialalex (Mibbit@C0E2C4AE.4DB138C4.DDE5D3F6.IP)
[21:38:41] <martialalex> Eridius: so how would I go about setting that? Or just setting it to a pointer
[21:39:23] <Eridius> martialalex: neither. The value you're trying to point to needs to live somewhere. How do you expect it to live if you don't actually store it directly?
[21:39:37] *** Quits: f_red (f_green@moz-6398EFDF.dclient.hispeed.ch) (Input/output error)
[21:39:53] <martialalex> Eridius: So I need a static root first, then point to that with cwd?
[21:40:02] <Eridius> yes
[21:40:25] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[21:40:54] <Eridius> and then the root never gets changed, it just exists to hold onto the tree
[21:40:59] <martialalex> Eridius: it still says it needs a lifetime specifier
[21:41:07] <Eridius> also, &'static 
[21:41:11] <Eridius> s/also//
[21:41:39] <Eridius> also why are your fchildren/dchildren vectors stored as *mut Vec instead of just as Vec?
[21:41:54] <martialalex> Eridius: I think I'm just screwing this up moreso. Here's what I have for the line
[21:42:03] <martialalex> pub &static mut cwd: &fs::directory = &root;
[21:42:19] <Eridius> wtf is &static?
[21:42:34] <Eridius> `pub static mut cwd: *fs::directory = &root;`
[21:42:41] <Eridius> possibly `&root as *root` but it should implicitly coerce
[21:43:07] <pczarn> `pub static mut cwd: &'static fs::directory = &'static root;`
[21:43:15] <Eridius> martialalex: anyway your fs::directory::new() will almost certainly produce garbage pointers for the fchildren and dchildren
[21:43:18] <Eridius> oh right I dropped 'static
[21:43:24] <Eridius> thanks pczarn
[21:43:40] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[21:44:25] <kimundi> rusti: static test: &'static uint = &5; test
[21:44:26] -rusti- 5
[21:44:33] <Eridius> martialalex: Vec::new() is going to return a vector on the stack, and then `&mut Vec::new() as *mut Vec<file>` will produce a *mut Vec pointer to the stack. And the pointed-to value will disappear when fs::directory::new() returns
[21:44:48] *** Quits: derek_c (derek@moz-A43430DA.cit.cornell.edu) (Ping timeout)
[21:44:49] <Eridius> martialalex: so yeah, fchildren and dchildren should be Vec<file> without the *mut
[21:45:14] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[21:46:03] <pczarn> rusti: static test: *uint = &'static 5; unsafe { *test }
[21:46:04] -rusti- <anon>:11:30: 11:40 error: mismatched types: expected `*uint` but found `&<generic integer #0>` (expected *-ptr but found &-ptr)
[21:46:04] -rusti- <anon>:11         static test: *uint = &'static 5; unsafe { *test }
[21:46:04] -rusti-                                        ^~~~~~~~~~
[21:46:04] -rusti- error: aborting due to previous error
[21:46:04] -rusti- playpen: application terminated with error code 101
[21:46:28] <pczarn> right, lifetime is inferred.
[21:46:41] <Eridius> rusti: static x: uint = 5u; static y: *uint = &x; unsafe { *y }
[21:46:42] -rusti- <anon>:11:48: 11:50 error: mismatched types: expected `*uint` but found `&uint` (expected *-ptr but found &-ptr)
[21:46:42] -rusti- <anon>:11         static x: uint = 5u; static y: *uint = &x; unsafe { *y }
[21:46:42] -rusti-                                                          ^~
[21:46:42] -rusti- error: aborting due to previous error
[21:46:43] -rusti- playpen: application terminated with error code 101
[21:46:47] <Eridius> rusti: static x: uint = 5u; static y: *uint = &x as *uint; unsafe { *y }
[21:46:48] -rusti- 5
[21:46:53] <Eridius> ok so the explicit cast is needed
[21:46:56] <martialalex> Eridius: ok so I'm totally confused about this. what are these &statics?
[21:47:02] <Eridius> martialalex: &static isn't a thing
[21:47:04] <martialalex> What's the line supposed to be?
[21:47:52] <Eridius> martialalex: pub static mut root: fs::directory = fs::directory { ... }; pub static mut cwd: *mut fs::directory = &mut root as *mut root;`
[21:47:55] <Eridius> s/`//
[21:48:10] <Eridius> augh make that `as *mut fs::directory`. sorry
[21:48:17] <Eridius> martialalex: pub static mut root: fs::directory = fs::directory { ... }; pub static mut cwd: *mut fs::directory = &mut root as *mut fs::directory;
[21:48:23] *** Quits: Ms2ger (Ms2ger@moz-278726EC.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:48:37] <pczarn> Eridius: Vec isn't a thing without std
[21:48:37] <Eridius> martialalex: or again you could just initialize cwd to 0 and then set it to &mut root in init()
[21:48:47] <Eridius> pczarn: he's got kerne::vec::Vec
[21:49:02] <Eridius> and I don't see how Vec::new() in that could be defined in such a way that fchildren and dchildren can safely be *Vecs
[21:49:12] *** Quits: jviereck (Adium@moz-924C60EC.dclient.hispeed.ch) (Quit: Leaving.)
[21:49:35] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[21:49:54] <martialalex> The issue is that it says "references in constants may only refer to immutable values"
[21:50:01] <Eridius> oh? interesting
[21:50:08] <Eridius> just initialize it to 0
[21:50:13] <Eridius> and set it in init()
[21:50:28] <martialalex> for that exact statement. Also I'm reversing root and cwd just so I don't get swarmed with errors for all my bad calls further down the code
[21:50:54] <Eridius> what? you can't reverse it. the fact that you mutate cwd is the problem, it can't be the root of the fs
[21:51:19] <Eridius> cwd absolutely needs to be *fs::directory and you need to modify your "bad calls" further down to recognize that
[21:51:23] <martialalex> No no no, I just meant in name. don't worry about that. the 0 thing worked and fixed the issue
[21:51:56] <pczarn> rusti: static mut x: uint = 5u; static y: *mut uint = 0 as *mut uint; unsafe { y = &mut x as *mut uint; *y }
[21:51:57] -rusti- <anon>:11:81: 11:82 error: cannot assign to immutable static item
[21:51:57] -rusti- <anon>:11         static mut x: uint = 5u; static y: *mut uint = 0 as *mut uint; unsafe { y = &mut x as *mut uint; *y }
[21:51:57] -rusti-                                                                                           ^
[21:51:57] -rusti- error: aborting due to previous error
[21:51:57] -rusti- playpen: application terminated with error code 101
[21:52:36] <pczarn> rusti: static mut x: uint = 5u; static mut y: *mut uint = 0 as *mut uint; unsafe { y = &mut x as *mut uint; *y }
[21:52:37] -rusti- 5
[21:53:18] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:54:00] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[21:57:02] *** Quits: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP) (Quit: Leaving.)
[21:58:05] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[21:59:01] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[22:00:17] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[22:03:48] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[22:03:58] *** Joins: benvie (bbenvie@5FD20F9A.53D07D95.EFF8B7BF.IP)
[22:04:30] <Valloric> does Rust have an implementation of the Rope data structure (http://en.wikipedia.org/wiki/Rope_(data_structure)) somewhere in std or other “default" crates?
[22:04:42] <Valloric> can’t find it anywhere
[22:06:29] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[22:07:30] <strcat> Valloric: not anymore
[22:07:32] <strcat> Valloric: needs one
[22:07:32] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Ping timeout)
[22:07:49] <Valloric> why “not anymore”? it had one but was removed?
[22:07:56] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[22:08:07] <strcat> Valloric: it had a very buggy (due to bit rot) implementation using managed pointers, eons ago
[22:08:18] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[22:10:24] <tikue> so I've been using java too much lately, and OOP thinking has started to infect my mind. What would be the counter-argument to the assertion that "pattern matching generally relies on objects exposing implementation details"
[22:10:27] *** Joins: uzi (Mibbit@24D8B7DE.EEDD3B02.DDE5D3F6.IP)
[22:10:47] <uzi> hey guys, have a question about structs and ownership
[22:11:15] <zwarich> tikue: inheritance requires objects exposing implementation details in order to implement a subclass correctly ;-)
[22:11:16] <jroweboy> uzi: ask away!
[22:11:28] <frozendevil> tikue: I'm not sure I follow that logic in the first place?
[22:11:37] <tikue> zwarich: surely! I dislike inheritence, generally ;)
[22:11:41] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[22:12:07] <frozendevil> pattern matching requires knowledge of the types you're using, but that's true in any system that has types at all
[22:12:31] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[22:12:39] <tikue> frozendevil: well, it requires knowledge of the internal types of a struct
[22:13:03] <frozendevil> I think the problem is considering them internal
[22:13:19] *** Joins: krebbit (Mibbit@830906D4.BAC5B367.CC1A2609.IP)
[22:13:20] <tikue> frozendevil: well, I mean in objective cases, such as when some of the fields are private
[22:13:21] <o11c> tikue: exposing immutable details is not a problem
[22:13:30] <o11c> tikue: and you can pattern match on a subset of fields
[22:13:32] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[22:13:42] <tikue> o11c: don't you still need to put _ placeholders for the private fields?
[22:13:50] <tikue> (with tuple structs)
[22:13:53] *** Joins: ctangent (textual@moz-67DD0115.hsd1.wa.comcast.net)
[22:14:34] <o11c> IIRC the syntax is ..
[22:14:42] <o11c> ask rusti
[22:14:58] *** Joins: tikue_ (tkuehn@A7ECB14D.ADD881BB.D5A9E6FD.IP)
[22:15:08] <tikue_> o11c: https://gist.github.com/tikue/2558a1f7b4ca645fb210
[22:15:23] <tikue_> just a silly example
[22:15:32] <kimundi> tikue_: o11c: Its _ for one field, .. for many fields.
[22:15:41] <o11c> sorry, I gtg
[22:15:57] <jroweboy> I'm trying to initialize a static mut Option<T> to None, which worked in the past, but now I'm getting error: mutable static items are not allowed to have owned pointers What changed?
[22:16:11] <tikue_> kimundi: I’d imagine .. works mostly for regular structs? Can it be used with tuple struct destructuring?
[22:16:51] *** Quits: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk) (Ping timeout)
[22:16:52] <kimundi> tikue_: It can be used in any case where you ignore many fileds, which also includes tuple structs
[22:17:06] *** Joins: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk)
[22:17:21] <kimundi> rusti: struct Foo(uint, uint, uint); let Foo(x, _, _) = Foo(1, 2, 3); x
[22:17:22] -rusti- 1
[22:17:26] <kimundi> rusti: struct Foo(uint, uint, uint); let Foo(x, ..) = Foo(1, 2, 3); x
[22:17:27] -rusti- <anon>:11:50: 11:52 error: unexpected token: `..`
[22:17:27] -rusti- <anon>:11         struct Foo(uint, uint, uint); let Foo(x, ..) = Foo(1, 2, 3); x
[22:17:27] -rusti-                                                            ^~
[22:17:27] -rusti- playpen: application terminated with error code 101
[22:17:34] <kimundi> rusti: struct Foo(uint, uint, uint); let Foo(x..) = Foo(1, 2, 3); x
[22:17:34] -rusti- <anon>:11:50: 11:51 error: unexpected token: `)`
[22:17:34] -rusti- <anon>:11         struct Foo(uint, uint, uint); let Foo(x..) = Foo(1, 2, 3); x
[22:17:35] -rusti-                                                            ^
[22:17:35] -rusti- playpen: application terminated with error code 101
[22:17:46] <kimundi> well, I guess thats not implemented yet :P
[22:18:11] *** Joins: jadbaires (jadrian@moz-6CEE8AB4.dsl.telepac.pt)
[22:18:24] <frozendevil> ah, I see what you're saying, I was thinking about pattern matching on enums
[22:19:02] <frozendevil> that is kind of an interesting problem
[22:19:33] <tikue_> I think the way to refute this argument is simply to point out that pattern matching is useful when writing, for example, a struct’s impl, or just generally working on the internals of a data struvture
[22:20:10] <tikue_> and that it need not be used from the outside
[22:20:17] <kimundi> tikue_: Anyway, needing to explicitly ignore private fields is indeed a place where privacy leaks.
[22:20:49] *** Quits: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it) (Input/output error)
[22:21:04] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[22:21:06] <frozendevil> I can't get '..' to work
[22:21:12] <uzi> so basically, i have a struct that i've globally declared and initialized fields for
[22:21:14] <tikue_> kimundi: I’d probably default to using all private fields anyway
[22:21:26] <tikue_> so it’d be a nonissue 
[22:21:27] <uzi> and i'd like to write an impl function to grab one of its fields
[22:21:28] <uzi> http://pastebin.com/CqT6QRAR
[22:21:36] <uzi> what's wrong with that code?
[22:22:05] <uzi> we can assume everything's been initialized
[22:22:49] <tikue_> uzi: you need to put the return type on get_c1 right?
[22:22:51] *** Joins: ktt3ja (ktt3ja@moz-8D2A07E1.hsd1.va.comcast.net)
[22:23:09] <tikue_> `unsafe fn get_c1(&mut self) -> Option<~node> { .. }`
[22:23:15] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:23:17] <tikue_> also, the match seems redundant
[22:23:20] <uzi> ahh right
[22:24:20] *** Joins: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it)
[22:24:21] *** Joins: andrew-d_w (andrew-d_w@moz-C25EA15A.hsd1.ca.comcast.net)
[22:24:53] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[22:25:06] <uzi> still returns me a compiler error
[22:25:33] <uzi> compiler points to self.c1 and says "cannot move out of dereference of & pointer"
[22:25:37] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:26:43] <jroweboy> uzi: why is the type Option<~node> instead of just Option<node> ?
[22:26:49] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[22:27:02] <jroweboy> (just wondering)
[22:27:45] <uzi> node is meant to be a recursive data structure, and i thought ~node would make us a unique pointer
[22:28:57] <uzi> making it type Option<node> would make the node struct of indeterminate size...  want nodes to be able to point to other child nodes and not contain them and all of their data
[22:29:03] *** Quits: krebbit (Mibbit@830906D4.BAC5B367.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:29:11] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:31:08] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[22:31:19] *** Quits: osa1 (omer@914637C9.409761C3.AB64B967.IP) (Ping timeout)
[22:31:30] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:32:10] <jroweboy> uzi: well to address your first problem, I don't think get_c1 needs to take &mut self. Try changing that to just &self and see if that helps some
[22:33:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:33:45] *** Quits: andrew-d_w (andrew-d_w@moz-C25EA15A.hsd1.ca.comcast.net) (Input/output error)
[22:34:43] *** Quits: Jesin (Jesin@moz-8602CBBD.washdc.fios.verizon.net) (Quit: Leaving)
[22:36:28] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:37:07] <jroweboy> uzi: Well, its what I thought would happen, but when I built a small copy of your program, it complains that mut static items can't have owned pointers in them :) 
[22:37:24] <jroweboy> Is there a particular need to have the root node stored as a mutable static item though?
[22:37:45] *** Quits: rootnode (rootnode@moz-309A85CC.pools.arcor-ip.net) (Ping timeout)
[22:37:50] *** Joins: Matthias247 (Miranda@moz-FBCD6EF1.hsi2.kabelbw.de)
[22:38:08] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:38:27] <uzi> nah
[22:38:39] <uzi> cutting out the mut hasn't changed anything it seems
[22:38:44] <benh> rusti: let mut i; match Some(42) { Some(x) => { i = x; } _ => { i = -1; } } i
[22:38:45] -rusti- 42
[22:38:51] <benh> rusti: let i; match Some(42) { Some(x) => { i = x; } _ => { i = -1; } } i
[22:38:51] -rusti- 42
[22:38:54] <benh> neat
[22:39:27] *** Quits: hirsch (hirschen@moz-B73683DE.superkabel.de) (Quit: Verlassend)
[22:39:58] *** Joins: rootnode (rootnode@moz-AB0656DE.pools.arcor-ip.net)
[22:40:24] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: ...take irc away, what are you? genius, billionaire, playboy, philanthropist)
[22:40:50] <jroweboy> uzi: I'm actually fussing with a mut static issue myself right now which is why I'm sympathetic :p Sorry I can't be much more help than that
[22:41:22] *** Joins: kard (kard@moz-9757A042.dip0.t-ipconnect.de)
[22:41:55] <martialalex> So I'm back with a new issue regarding &mut foo to *mut foo
[22:41:58] <martialalex> code here: https://gist.github.com/ama4tf/10011078
[22:42:55] <martialalex> in function cd in fs.rs, I need to return a *mut directory in the tuple, however I can't find a way to change all my return values to it since most are &mut
[22:44:08] <martialalex> Anyone got thoughts?
[22:47:33] *** Joins: leowoe (Leo@moz-8E46B918.dip0.t-ipconnect.de)
[22:47:44] <martialalex> bueller?
[22:47:52] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[22:48:17] *** Quits: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP) (Ping timeout)
[22:49:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[22:50:09] *** Quits: leowoe (Leo@moz-8E46B918.dip0.t-ipconnect.de) (Ping timeout)
[22:50:22] *** Joins: philix (felipe@moz-602EFB0F.user.veloxzone.com.br)
[22:50:49] *** Quits: arielb1 (eran@moz-8F646A97.red.bezeqint.net) (Ping timeout)
[22:51:24] <hoverbear> taliriktug: It might have been added this morning.
[22:51:36] *** Joins: leowoe (Leo@moz-8E46B918.dip0.t-ipconnect.de)
[22:51:42] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:52:32] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[22:54:30] *** Quits: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net) (Client exited)
[22:54:50] *** Joins: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net)
[22:55:13] *** Quits: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net) (Client exited)
[22:55:13] *** Joins: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net)
[22:55:23] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[22:57:54] *** Quits: jdao (Mibbit@CBB27A04.80BB6BFD.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:58:57] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:59:36] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[22:59:36] *** ChanServ sets mode: +o tjc
[23:00:28] <benh> so for a glob "?"
[23:00:30] <benh> with the default options
[23:00:34] <benh> that shouldn't yield ".", right?
[23:00:36] <uzi> yo does anybody kno how 2 print to screen
[23:00:58] <benh> rusti: println!("hello, world")
[23:00:59] -rusti- hello, world
[23:00:59] -rusti- ()
[23:01:25] *** Quits: mye (mye@moz-BA3D8FB8.swh.uni-giessen.de) (Quit: sleep message)
[23:03:02] <Eridius> benh: depends on what type of glob you're talking about
[23:03:18] <Eridius> benh: for a shell glob, it shouldn't. glob(2) has an option you have to turn on to make it skip .files
[23:03:39] <benh> we have that option too, but libglob defaults it to false
[23:05:07] <benh> i'm thinking it should be true :|
[23:05:15] *** Quits: eibwen (kvirc@moz-74CCABC0.dip0.t-ipconnect.de) (Ping timeout)
[23:05:21] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Quit: Leaving.)
[23:06:57] *** Quits: martialalex (Mibbit@C0E2C4AE.4DB138C4.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:07:08] <Eridius> why? it should only be true when the glob is operating on the filesystem
[23:07:19] <Eridius> and even then not always
[23:07:26] <Eridius> and glob(2) has the precedent of making it opt-in
[23:07:33] <Eridius> err I mean fnmatch(3)
[23:07:36] <Eridius> why am I saying glob(20?
[23:07:42] *** Quits: W0rmDr1nk (wormdrink@moz-CEAF0263.access.mtnbusiness.co.za) (Ping timeout)
[23:07:48] <benh> ah, i was thinking because glob::glob operates on the filesystem, so clearly that's the default
[23:07:59] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[23:08:02] <Eridius> I believe glob(3) also makes it optin
[23:08:04] <Eridius> opt-in
[23:08:23] <benh> i just think it's weird that glob("*") would also return ".."
[23:08:36] <benh> who'd think to disable that!
[23:09:54] <benh> man 3 glob says GLOB_PERIOD "allow a leading period to be matched by metacharacters" and it's off by default apparently
[23:10:08] *** Quits: cschneid (cschneid@moz-20C37083.hlrn.qwest.net) (Client exited)
[23:10:22] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[23:10:30] <Eridius> benh: oh? it flips it from fnmatch?
[23:10:32] <benh> and i can't figure out how to read the manpage for fnmatch(3) becausei get the manpage for fnmatch(3am)
[23:10:36] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:10:41] <benh> i'm not good with manpages
[23:10:53] <Eridius> hmm yeah, glob does flip it from fnmatch
[23:11:02] <Eridius> fnmatch has FNM_PERIOD flag which makes period special (such that * and ? don't match it)
[23:11:05] <Eridius> well, leading period
[23:11:21] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[23:11:22] <benh> I'm trying to fix https://github.com/mozilla/rust/issues/12930
[23:11:29] <Eridius> I don't know what fnmatch(3am) is, but you can say `man 3 fnmatch` or you can say `man -a fnmatch` and cycle through the results until you hit the right one
[23:12:13] <benh> -a worked, thanks
[23:12:50] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[23:13:06] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:13:45] <Eridius> benh: instead of normalizing glob strings, you need to split the pattern on / and match each component separately
[23:14:00] <benh> Oh, that already happens
[23:14:04] <Eridius> the problem with just trying to normalize is "*.foo/../*.bar" should only match *.bar if there are, in fact, matches for *.foo in the directory
[23:14:23] <Eridius> benh: if it happens then why does ./*.rs fail? the ./ would surely get stripped by any normalization
[23:14:36] <benh> no, I mean it gets split on /
[23:14:43] <Eridius> ah right
[23:14:49] <Eridius> well ./ can be normalized out anyway
[23:14:52] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[23:15:00] <benh> and it tries to match . against every file, except for . and .., which can't possibly show up in a Path because *Paths* are normalized
[23:15:20] <Eridius> well it shouldn't be trying to match . or ..
[23:15:24] <Eridius> neither of those make any sense
[23:15:45] <benh> then how is ../../* ever going to match anything? :(
[23:16:09] <benh> making . and .. show up in the possible-matches list is the simplest fix imo
[23:16:39] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:17:12] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[23:17:14] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Input/output error)
[23:17:31] <benh> though the existing tests apparently feel like glob("..") and glob(".") should not match anything...
[23:17:35] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[23:17:42] <kmc> how can I cause a static to have an externally visible non-mangled name?
[23:18:26] *** Joins: elfenlaid (elfenlaid@2694537F.9548D5AB.698B4E08.IP)
[23:18:45] <benh> #[no_mangle] pub ... doesn't work?
[23:20:30] *** Joins: chc4 (chc4@moz-29F9F3F1.hsd1.ma.comcast.net)
[23:20:56] <kmc> hm. it didn't work with static x: &'static [u8] = ..., but it does work with static x: [u8, 16] = ...
[23:21:37] <Eridius> benh: glob needs to handle . and .. directly. Making . and .. show up in the list of files to match against is, no offense intended, really quite fucking stupid
[23:21:55] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:21:55] *** ChanServ sets mode: +ao dherman dherman
[23:21:56] <Eridius> why should glob() have to iterate over an array of potentially thousands of files, looking for a path that matches "..", when it already knows by definition that ".." means go to parent dir?
[23:22:02] <kmc> is there an attribute for "not pub but don't remove as dead code"?
[23:22:17] <Eridius> kmc: if it's not pub, and it's considered dead code, why do you want to keep it?
[23:22:44] <benh> Because that's what it does already and I wanted to change as little as possible, mostly.
[23:22:48] <kmc> I want it visible to C / asm but not to rust code
[23:22:52] <benh> I guess I'll leave it then
[23:22:54] <kmc> specifically, to asm in the same module
[23:22:55] <Eridius> benh: but it's broken right now. Why keep broken behavior?
[23:23:31] <Eridius> kmc: in that case I have no idea. It seems there should be some attribute that says "give this a public symbol even though it's private", or something.
[23:25:04] *** Quits: Matthias247 (Miranda@moz-FBCD6EF1.hsi2.kabelbw.de) (Connection reset by peer)
[23:25:33] <kmc> grr, even if it's #[no_mangle] pub static, it disappears if it's not used from Rust code
[23:25:50] <Eridius> pub is still dead if it's inside a private module
[23:26:02] <Eridius> an external symbol requires it to be pub all the way from the root of the crate
[23:26:09] *** Quits: uzi (Mibbit@24D8B7DE.EEDD3B02.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:26:26] <mindcat> XD programming language is a foreign language.
[23:26:56] <kmc> this is the top level of an exe crate
[23:28:39] <benh> I guess unused items, even pub, are considered dead code in non-lib crates, you get warnings for them too..
[23:28:49] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[23:28:49] *** ChanServ sets mode: +o tjc
[23:29:04] *** Quits: chc4 (chc4@moz-29F9F3F1.hsd1.ma.comcast.net) (Ping timeout)
[23:29:04] <Eridius> kmc: ah, exe. Yeah, only libraries care about keeping unused pub things
[23:30:02] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:30:14] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[23:30:21] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[23:30:41] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:32:59] <JustAPerson> Anyone have any experience profiling Rust code?
[23:33:12] <strcat> sure, works just like C or C++
[23:33:47] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[23:34:40] <JustAPerson> strcat: what profiler have you used? I can't seem to find one that would work well
[23:34:54] *** Quits: twi (Adium@moz-429185BE.cust.vodafonedsl.it) (Quit: Leaving.)
[23:35:15] <mindcat> oh I have question now, when benchmarking, can it also is testing?
[23:35:25] <strcat> JustAPerson: perf
[23:35:28] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[23:35:57] <mindcat> I just see [bench] and [test] tags
[23:35:57] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:36:15] <kmc> mindcat: run the resulting binary with --bench --test
[23:36:23] <kmc> the individual bench and test functions will be separate, though
[23:36:30] *** flaper87 is now known as flaper87|afk
[23:36:44] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[23:37:08] <mindcat> kmc: ok..
[23:37:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:37:51] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[23:37:56] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:38:14] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[23:38:49] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[23:38:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:39:43] *** Quits: japaric_ (japaric@AA81DC09.3A66AC79.F29ED47E.IP) (Ping timeout)
[23:39:51] *** Joins: japaric_ (japaric@F2279727.A347E168.F4D5766F.IP)
[23:39:58] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[23:39:58] *** ChanServ sets mode: +o tjc
[23:40:07] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:41:00] *** Joins: dwsarber (Mibbit@moz-FB4175B2.ptld.qwest.net)
[23:41:12] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[23:41:52] <benh> Eridius: So should glob("foo/bar/.?") return "foo" via "foo/bar/.." at all, anyway?
[23:45:46] *** Quits: nkoep (nik@moz-D21960A0.pool.mediaways.net) (Client exited)
[23:46:35] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[23:48:30] *** Quits: RustyPipes (Mibbit@6C56BD37.387BC77F.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:51:50] *** Joins: nieksand (Mibbit@75E220EA.D4AB3A26.7E041973.IP)
[23:52:20] *** Quits: elfenlaid (elfenlaid@2694537F.9548D5AB.698B4E08.IP) (Quit: This computer has gone to sleep)
[23:52:42] <nieksand> Out of curiousity... how did the init() and initn() methods on slice get their name?  http://static.rust-lang.org/doc/master/std/slice/trait.ImmutableVector.html#tymethod.init
[23:55:00] *** Joins: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP)
[23:55:08] <dpc> One thing is unclear to me.
[23:55:40] <dpc> When I use Variants (enums) in match destruction, how the compiler knows when I want to match against one Variant, or I just want to use variable name...
[23:55:59] *** Joins: stev (Mibbit@moz-B7D878F3.socal.res.rr.com)
[23:56:06] <dpc> enum Action { Turn(Direction} }
[23:56:25] <dpc> match action { Turn(Forward) => {...}, Turn(x) => };
[23:56:26] *** Quits: stev (Mibbit@moz-B7D878F3.socal.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[23:56:38] <dpc> Any typo and Forward is not variable anymore.
[23:56:47] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:56:51] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[23:57:07] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[23:57:24] <johnwatson> does anyone know what happened to std::rt::start_on_main_thread?
[23:57:42] <benh> dpc: I think it has a list of enum variants and statics in scope...
[23:58:29] <dpc> johnwatson: I think you want to do it like this: https://github.com/dpc/rustyhex/blob/master/src/main.rs
[23:58:36] *** Joins: brandonson (SingingBoy@moz-39C19C5F.bchsia.telus.net)
[23:58:58] <johnwatson> dpc: ah, replaced by native::start, then?
[23:59:11] <dpc> johnwatson: As I understand, you initialize libnative from start function and then your main will be on main thread.
[23:59:26] <brandonson> haven't had a chance to use Rust in a while... is placement new using box done now?
[23:59:40] <johnwatson> dpc: i see. thanks!
[23:59:40] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:59:55] <dpc> brandonson: I don't understand.
