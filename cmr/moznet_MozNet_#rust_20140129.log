[00:00:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:00:04] <kmc> i don't know
[00:00:15] *** Joins: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp)
[00:00:44] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:01:08] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:01:11] *** Joins: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP)
[00:01:40] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:02:38] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[00:02:57] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:03:40] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[00:04:06] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:04:26] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[00:04:50] <kimundi> Matthias247: Nope - if it where possible with a transmute, it would be outright allowed to do that cast
[00:05:33] <kmc> eibwen: here's a test case: https://gist.github.com/kmcallister/8679155
[00:05:35] <Matthias247> and what's the problem? vtable different?
[00:05:48] <kmc> I don't have time atm to search the bug database to see if this is already in there
[00:05:51] <kimundi> Probably, yeah
[00:06:11] <kimundi> Heck, it might even work, but its not guaranteed to :P
[00:06:24] <Matthias247> if not then i see no reason why it shouldn't work
[00:06:29] *** Quits: reima (Instantbir@moz-6C6BEF49.dip0.t-ipconnect.de) (Quit: Leaving.)
[00:07:01] <Matthias247> and downcasting objects is so basic OOP. It must work somehow :(
[00:07:52] * ChrisMorgan can now consider himself a Rust freelancer, having completed https://github.com/diffbot/diffbot-rust-client ☺
[00:07:56] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[00:07:57] <aatch> Matthias247, I'm pretty sure it's planned, but it's more complex than it first appears due to the fact that traits allow for (effectively) multiple inheritance
[00:08:13] <kmc> Matthias247: traits don't really try to be a traditional class-based OOP system
[00:08:58] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[00:09:13] <kmc> admittedly it's likely that Rust will grow /some/ feature in this space... because the DOM APIs are specified as a class hierarchy so Servo needs it
[00:09:25] <Matthias247> not only servo
[00:10:06] <Matthias247> I also only want to store an object in a collection of "base objects"
[00:10:32] *** Joins: heftig (heftig@moz-3C93FFDA.dip0.t-ipconnect.de)
[00:13:29] <Matthias247> actually I want to to have an Rc<~MyObj> somewhere in my object hierarchy and an Rc<~IBaseObj> stored elsewhere
[00:15:01] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[00:15:36] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:16:05] <dbaupp> Matthias247: I don't think it's possible, unfortunately
[00:16:31] *** Quits: satalha__ (satalha@moz-21D6B3DE.csclub.uwaterloo.ca) (Ping timeout)
[00:16:52] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:17:19] <kmc> I think in GHC Haskell you can do the equivalent of ~Derived -> ~Base, so we may be missing one of the things which makes typeclasses a viable alternative to OOP in the Haskell world :/
[00:17:40] <Matthias247> Hmm, then I guess I have to store store a raw pointer and use a static function thatt takes the raw pointer instead of member function
[00:17:43] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[00:18:15] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[00:18:22] <kmc> I don't *think* there's any reason this is incompatible with monomorphizing non-uniform polymorphism, but I haven't thought about it
[00:18:37] <jdm> kmc: Matthias247: https://github.com/mozilla/rust/issues/5665
[00:18:47] <dbaupp> kmc: if we had DST, then, in theory, Rc<Trait> and Gc<Trait> would allow Rc<Derived> -> Rc<Base>
[00:19:26] <dbaupp> (even with #5665 fixed, Rc<~Trait> doesn't allow this.)
[00:19:43] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Quit: wilmoore)
[00:19:48] *** Quits: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving.)
[00:20:06] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:20:38] <Matthias247> dbaupp: that would be very helpful. Or in other words: Absolutely necessary
[00:21:07] <dbaupp> I'd guess there's a (non-crazy) work-around of some sort.
[00:21:35] *** Quits: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: Kjelle)
[00:21:41] <Matthias247> tell me when you find it :)
[00:21:48] <dbaupp> heh
[00:22:11] <Matthias247> until then I will probobaly go with a void* workaround
[00:22:42] *** Joins: satalha__ (satalha@moz-21D6B3DE.csclub.uwaterloo.ca)
[00:22:50] *** Quits: japaric (japaric@6EEB4A44.E90D5F40.F29ED47E.IP) (Connection reset by peer)
[00:23:22] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[00:23:53] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[00:23:59] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:24:13] <strcat> kmc: type classes are generally viewed as an anti-pattern in the haskell world...
[00:24:22] <strcat> kmc: they use ADTs and higher-order functions
[00:24:40] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:24:50] <ChrisMorgan> acrichto: I'm happy with both cloning and splitting TCP streams; I only care that it will let me have a reader and a writer—cloning is thus a superset of the functionality that I need, so I'm happy.
[00:24:54] <strcat> rust's take on type classes in the stdlib would definitely be viewed as horrific in a haskell context
[00:25:10] *** Joins: japaric (japaric@6EEB4A44.E90D5F40.F29ED47E.IP)
[00:25:29] <strcat> type classes not mapping to some category theory or at least mathematical concept are frowned upon in my small experience with that community :P
[00:25:34] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[00:25:39] <Matthias247> I don't care about haskell :)
[00:25:51] <strcat> I'm responding to what kmc said
[00:25:53] <acrichto> ChrisMorgan: https://github.com/mozilla/rust/pull/11894
[00:25:53] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[00:26:05] *** Quits: new_one (new_one@565B6F06.B4699C3B.B3C0173E.IP) (Ping timeout)
[00:26:05] <geomyidae_> is it possible to use enums to provide a non-exhaustive mapping of ints->EnumType automatically
[00:26:13] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[00:26:21] <geomyidae_> or do I have to write out those matches myself for each enum variant and it's given integer val?
[00:26:28] <dbaupp> acrichto: was the only objection to (Reader, Writer) the possibility of an extra allocation?
[00:26:59] <acrichto> dbaupp: allocation, not really gaining a whole lot in terms of races, lots of extra types, more burden on the implementation
[00:27:02] <strcat> the only lesson you can really draw from haskell about traits is to stop using traits... but we don't have good closures
[00:27:11] <dbaupp> acrichto: ah, ok
[00:27:18] <ChrisMorgan> acrichto: yep, I'm happy ☺. I was just giving my opinion on the matter seeing as the meeting indicated a little uncertainty: I'm happy either way.
[00:27:22] * dbaupp quite liked (R,W)
[00:27:43] <synackse> How would I call a C function using varargs through the FFI?
[00:27:50] *** Quits: satalha__ (satalha@moz-21D6B3DE.csclub.uwaterloo.ca) (Ping timeout)
[00:27:51] <strcat> acrichto: so when does it free the socket now?
[00:28:00] <ChrisMorgan> acrichto: and they'll be Send?
[00:28:07] <acrichto> strcat: when all handles are gone
[00:28:10] <acrichto> ChrisMorgan: they are indeed
[00:28:19] <dbaupp> synackse: extern { fn printf(fmt: *u8, ...); } and call as normal
[00:28:24] * ChrisMorgan rejoices and is exceeding glad
[00:28:28] <strcat> acrichto: wouldn't splitting into a SocketReader and SocketWriter just mean wrapping whatever it does now?
[00:28:29] <Matthias247> you need an explicit close()
[00:28:31] * strcat doesn't get it
[00:28:33] <Matthias247> or at least a shutdown()
[00:28:40] <synackse> dbaupp: Thanks
[00:28:43] <Matthias247> otherwise your receviing process will still live forever
[00:28:52] <acrichto> strcat: having a reader/writer pair is 8 new types in the I/O library as opposed to 0 sadly
[00:28:55] <Matthias247> because the writer can not kill the connection
[00:29:09] <acrichto> strcat: right now there's no split() or clone() at all
[00:29:41] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:29:46] <bytbox> Can't build rust at all at the moment (fails in stage1): http://ix.io/aan
[00:29:47] <strcat> oh well I don't really have an opinion either way
[00:29:48] <jdm> what the heck
[00:29:53] <jdm> I have a trait NodeHelpers
[00:30:01] <jdm> it is implemented for JSManaged<Node>
[00:30:02] <bytbox> anybody recognize this?
[00:30:13] <jdm> in another module, I import NodeHelpers, and I have a variable of type JSManaged<Node>
[00:30:17] <dbaupp> bytbox: `make clean`
[00:30:20] <dbaupp> bytbox: may help
[00:30:26] <jdm> error: type `dom::bindings::jsmanaged::JSManaged<dom::node::Node>` does not implement any method in scope named `to_trusted_node_address`
[00:30:33] <bytbox> dbaupp: I'll give it a whirl
[00:30:50] <acrichto> bytbox: find . -name librustllvm.a | xargs rm
[00:30:58] <acrichto> bytbox: make clean will also do that, though
[00:31:11] <bytbox> acrichto: ok, I get the gist - I've got a leftover library. Thanks.
[00:32:14] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:32:27] <dbaupp> what time is the meetup? (relative time, please ;P) 
[00:33:48] <acrichto> dbaupp: 7pm PST, but I think the presentations probably start at 8
[00:33:52] <acrichto> 2.5 hrs from now
[00:34:03] <dbaupp> thanks
[00:34:08] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[00:34:16] *** Joins: hoverbear (hoverbear@moz-BCD5BF80.wireless.uvic.ca)
[00:34:18] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[00:34:19] <geomyidae_> meetup?
[00:34:21] * geomyidae_ is jelly
[00:34:30] <dbaupp> it's broadcast live
[00:34:30] <bascule> :D
[00:34:33] <hoverbear> \o/ I got my Firefox shirt in the mail yesterday.
[00:34:34] * dbaupp finds the link
[00:34:40] <dbaupp> https://air.mozilla.org/rust-meetup-january-2014/
[00:34:40] <hoverbear> dbaupp: Air Mozilla is the bomb.
[00:34:43] * bascule wants a goddamn Rust sticker already
[00:34:48] <hoverbear> bascule: Me too.
[00:34:50] <dbaupp> oh, it has a relative time there... heh
[00:34:50] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[00:34:57] <geomyidae_> cool :)
[00:34:59] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[00:35:14] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[00:35:20] *** Quits: squiddy (squiddy@moz-B7832642.adsl.alicedsl.de) (Quit: Leaving)
[00:35:28] <acrichto> bascule: if you're coming to the meetup, I'm bringin stickers!
[00:35:39] <bascule> w00t
[00:35:42] <hoverbear> @acrichto: Theres no meetups this far north :(
[00:36:29] <geomyidae_> north. where at?
[00:36:35] <geomyidae_> sounds like there's a couple of us in the sea area
[00:36:35] <hoverbear> Victoria BC hahaha
[00:36:40] <geomyidae_> whomp whomp
[00:36:46] *** Joins: pkondzior (uid768@moz-A42E5B7B.irccloud.com)
[00:36:46] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[00:36:49] <pkondzior> hello
[00:36:58] <hoverbear> I lack passport though so Seattle might as well be Egypt
[00:37:05] *** Joins: satalha_ (satalha@moz-21D6B3DE.csclub.uwaterloo.ca)
[00:37:50] <dbaupp> hoverbear: get a passport... just to attend rust meetups! \o/
[00:37:54] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[00:38:11] <hoverbear> dbaupp: Schedule one in Seatle at least 6 weeks in advance and I will. :)
[00:38:54] * dbaupp would consider scheduling one in Sydney, Australia
[00:39:00] <dbaupp> a passport would work for that one too :P
[00:39:05] <hoverbear> It would definitely.
[00:39:21] <hoverbear> It'd also probably cost me a semester worth of tutiion just to get there
[00:39:38] <pkondzior> I'm looking for while that defines file! and line! macro/syntax extensions 
[00:39:43] <pkondzior> s/while/file
[00:39:59] <dbaupp> pkondzior: they're in syntax::ext::source_util
[00:40:06] <pkondzior> thanks
[00:40:06] <dbaupp> and registered in syntax::ext::base
[00:40:23] <hoverbear> dbaupp: syntax is in std?
[00:40:24] <dbaupp> (grep for "file", although what happens in base isn't very interesting.)
[00:40:37] <dbaupp> hoverbear: no, libsyntax
[00:40:38] <pkondzior> dbaupp: whats the distinction between syntax extension and macro rule ?
[00:40:40] <dbaupp> has the parser etc.
[00:40:43] *** Quits: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:41:12] <dbaupp> pkondzior: "syntax extension" conventionally refers to procedural macros which are written in Rust
[00:41:35] <dbaupp> macro_rules are just rule-based (i.e. syntactic pattern matching)
[00:42:18] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:42:19] <hoverbear> Can I operator overload in rust?
[00:42:50] <ChrisMorgan> hoverbear: yep, see std::ops
[00:42:57] <hoverbear> ChrisMorgan: =D!
[00:43:13] <ChrisMorgan> http://static.rust-lang.org/doc/master/std/ops/index.html
[00:43:26] <hoverbear> ChrisMorgan: Thanks for the link. :) I was 50% there.
[00:43:47] *** Joins: june0cho (Mibbit@5AB4884B.FCC4549.14D5B978.IP)
[00:44:21] *** Parts: june0cho (Mibbit@5AB4884B.FCC4549.14D5B978.IP) ()
[00:45:33] *** Quits: satalha_ (satalha@moz-21D6B3DE.csclub.uwaterloo.ca) (Ping timeout)
[00:45:53] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[00:46:02] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Client exited)
[00:46:21] *** Joins: satalha_ (satalha@moz-21D6B3DE.csclub.uwaterloo.ca)
[00:47:15] <sp3d> I wonder if rustdoc urls could look like "http://doc.rust-lang.org/master/std/ops/" someday
[00:47:33] <hoverbear> sp3d: In theory, they should be able to.
[00:47:50] <ChrisMorgan> I believe it is just a matter of configuring the S3 bucket a little.
[00:47:53] <dbaupp> sp3d: i think it's just S3 not supporting index.html (or us not configuring it correctly)
[00:47:53] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[00:47:53] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:47:54] <hoverbear> Yup
[00:48:10] <sp3d> e.g. GNOME's "https://developer.gnome.org/glib/stable/" is really nice :)
[00:48:30] <ChrisMorgan> dbaupp: it does support the notion (also proper 404 pages rather than the XML) but it's got to be configured thus.
[00:48:46] *** Quits: satalha_ (satalha@moz-21D6B3DE.csclub.uwaterloo.ca) (Ping timeout)
[00:48:50] <dbaupp> ChrisMorgan: a proper 404 page would be nice...
[00:48:55] <strcat> sp3d: until you look at the glib APIs :)
[00:49:02] <dbaupp> especially since we're so good at breaking links :/
[00:49:23] <ChrisMorgan> A proper 404 page *must* do search.
[00:49:38] <pcwalton> what do you know, I work around the borrow check with unsafe and then segfault
[00:49:48] <pcwalton> I shoulda listened
[00:49:53] <hoverbear> Should redirect to "Let me Google that for you" and whatever they were looking for. :)
[00:49:58] * ChrisMorgan loves it when Rust is right
[00:50:04] <dbaupp> ChrisMorgan: yup, definitely
[00:50:10] * ChrisMorgan abhors sites like LMGTFY
[00:50:16] *** Quits: pietr0 (pietr0@70D0F689.E6386E47.65DDFA89.IP) (Quit: pietr0)
[00:50:31] <hoverbear> ChrisMorgan: Duck duck go, then.
[00:50:38] * wting is moving to SF in May, can't wait to hit up a Rust meetup.
[00:50:43] <sp3d> strcat: somebody has to bind GTK :D
[00:50:51] <ChrisMorgan> hoverbear: no, just the standard docs search that we've already got.
[00:51:03] <hoverbear> ChrisMorgan: +1 much better
[00:51:53] *** Quits: vertexclique (vertexcliq@3C52C77A.7D2D2643.17913DC0.IP) (Quit: )
[00:52:45] <dbaupp> https://github.com/mozilla/rust/issues/11896
[00:53:21] *** kimundi is now known as zz_kimundi
[00:53:21] <hoverbear> Hey, new issue page.
[00:53:51] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:54:02] <kmc> strcat: you're completely wrong about how classes are seen in Haskell
[00:54:02] <acrichto> pcwalton: haha rust in action!
[00:54:30] <strcat> kmc: I don't think so...
[00:54:32] <kmc> take a look at http://hackage.haskell.org/package/lens ... and don't try to tell me ed kmett doesn't appreciate category theory based design patterns ;P
[00:54:45] <geomyidae_> So rust-ci is primarily discoverability, as well as automation upon release of a new ppa rust-nightly.
[00:54:51] <kmc> there *is* a recognized anti-pattern of beginners using type classes unnecessarily, but that doesn't mean experts look down on using them when appropriate
[00:55:17] <dbaupp> ChrisMorgan, sp3d: https://github.com/mozilla/rust/issues/11897
[00:55:31] <sp3d> cool
[00:55:56] *** Joins: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP)
[00:56:43] <steveklabnik> geomyidae_: it's also a good way to guage how much a given change breaks
[00:56:49] <steveklabnik> which features are more used, etc.
[00:57:08] <hoverbear> I still need to set up rust-ci :(
[00:57:11] <geomyidae_> Oh that's interesting, I didn't think about thta. You've got quick access to the compiler logs :)
[00:57:13] <sp3d> dbaupp: any clue what kind of work would be required to make static.rlo/doc/foo redirect to (a working) doc.rlo/foo?
[00:57:30] <dbaupp> sp3d: nope, no idea
[00:57:36] * dbaupp doesn't know anything about S3
[00:57:40] <sp3d> me neither :x
[00:57:53] <hoverbear> sp3d: I know in express (js) you could just add a route rule that redirects.
[00:58:20] <dbaupp> hoverbear: these are static pages served statically
[00:58:37] <dbaupp> (aiui)
[00:58:43] <hoverbear> dbaupp: Yes I figured, given it was S3. :)
[00:59:51] <hoverbear> sp3d, dbaupp: http://docs.aws.amazon.com/AmazonS3/latest/dev/how-to-page-redirect.html
[01:00:19] <dbaupp> hoverbear: that looks like individual pages only... does it work for folderS?
[01:00:19] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[01:00:46] <hoverbear> dbaupp: No clue. I've never used AWS.
[01:01:18] <hoverbear> dbaupp: http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTwebsite.html See bottom
[01:01:25] *** Quits: b (b@moz-55CA322E.org) (Quit: !)
[01:01:47] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[01:01:51] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:02:34] <aperos> I'm trying to get my head around ~[~str] in an example such as: let args: ~[~str] = os::args(); it's type is a unique vector where each item in the vector is a pointer to a string on the heap. is this thinking correct?
[01:03:14] *** Joins: b (b@moz-55CA322E.org)
[01:03:20] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:03:35] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:03:47] *** Quits: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP) (Client exited)
[01:03:49] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:04:12] *** Joins: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP)
[01:04:22] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:04:39] *** Joins: matematikaadit (quassel@4183C66.6ADEFB6B.BF0F7A53.IP)
[01:04:45] *** Quits: matematikaadit (quassel@4183C66.6ADEFB6B.BF0F7A53.IP) (Quit: matematikaadit)
[01:05:03] *** Joins: Jesin (Jesin@moz-25DD69CE.cc.lehigh.edu)
[01:05:10] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[01:05:34] <Jesin> Is it possible/recommended to declare the types of variables created with "let"?
[01:05:36] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:05:42] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:05:52] *** Quits: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP) (Ping timeout)
[01:06:03] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:06:05] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[01:06:08] <strcat> Jesin: the rust codebase style is to not declare them
[01:06:17] <strcat> only declares them when it wouldn't typeck otherwise
[01:06:35] *** Joins: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:06:43] *** Joins: omnus (omnus@moz-2E009EE2.stny.res.rr.com)
[01:06:53] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:07:03] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[01:07:08] <Jesin> alright
[01:07:23] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[01:07:28] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:07:44] *** Joins: pietr0 (pietr0@14EF4708.8EF45F5F.396B22AD.IP)
[01:07:54] <jasom> what does .take() do on Option types?
[01:08:11] <strcat> what the docstring says it does ;p
[01:08:21] <strcat> hopefully
[01:08:40] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[01:09:03] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[01:09:10] * ChrisMorgan wonders about registering docs.rs and pkg.rs
[01:09:27] <hoverbear> ChrisMorgan: Do it!
[01:09:49] <hoverbear> ChrisMorgan: Also lang.rs
[01:09:51] <ChrisMorgan> Then we could have http://docs.rs/std/ops/
[01:10:13] <ChrisMorgan> (Each domain name is approximately a USD78 investment.)
[01:10:24] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:10:40] <Jesin> I don't suppose there's an analogue of "Functor" from Haskell?
[01:10:45] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[01:10:48] <hoverbear> ChrisMorgan: You should just register the entire TLD then
[01:10:53] *** Joins: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[01:10:54] <ChrisMorgan> hoverbear: …
[01:11:05] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:11:12] <hoverbear> ChrisMorgan: I'll chip in.
[01:11:19] <jasom> There is no docstring for it in 0.9 at least
[01:11:23] <jasom> but there is a comment
[01:11:29] <ChrisMorgan> hoverbear: what, for the entire TLD?
[01:11:31] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:11:34] <hoverbear> ChrisMorgan: Yeah.
[01:11:59] *** Quits: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: dherman)
[01:12:28] <dbaupp> jasom: checking the source (in src/libstd/option.rs, grep for `fn take`) is normally a pretty good way to understand functions on the stdlib types
[01:12:40] <dbaupp> (i.e. for the most part, the implementation is relatively straight forward.)
[01:12:45] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:12:49] <jasom> dbaupp: yeah, I found that
[01:12:54] <dbaupp> cool :)
[01:13:24] <ChrisMorgan> dbaupp: the cool kids use Vim and `:ts take` ;-)
[01:13:36] <hoverbear> ChrisMorgan: You can do that?
[01:13:44] <ChrisMorgan> hoverbear: sure, `make TAGS.vi`
[01:14:12] <jdsanders> hey, has anybody here worked much with extra::bigint? I'm finding it a bit clunky to work with - https://gist.github.com/jsanders/8679668
[01:14:18] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:14:23] <hoverbear> ChrisMorgan: https://gist.github.com/Hoverbear/1f9aced29c2c31f6b9a0
[01:14:35] <dbaupp> jdsanders: I think there's BigUint::from_uint(...) or something
[01:14:44] <dbaupp> which may be nicer than the .to_biguint method?
[01:14:48] * dbaupp shrugs
[01:14:52] *** Joins: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[01:15:23] <dbaupp> jdsanders: also the traits that give the .mul and .rem methods actually provide operator overloading
[01:15:23] <jdsanders> I see from_u64, but still returns an Option<BigUint>
[01:15:31] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[01:15:32] <dbaupp> so result * baseAcc should work
[01:15:39] <dbaupp> jdsanders: that's weird...
[01:15:53] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:15:57] <dbaupp> in any case, extra::bigint is very, very slow
[01:16:04] <pkondzior> https://gist.github.com/pkondzior/9e6c054b04d71319333a why print_str doesn't throw error ?
[01:16:08] <ChrisMorgan> hoverbear: designed for exuberant ctags, I guess that's not the one you've got?
[01:16:12] <jdsanders> seems like all the operator overloads take &BigUint and return BigUint
[01:16:18] <hoverbear> ChrisMorgan: Nope it's stock vim :S
[01:16:25] <jdsanders> so I end up with stuff like `result * &baseAcc`
[01:16:32] *** Quits: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Ping timeout)
[01:16:33] <dbaupp> I don't think so...
[01:16:37] <pkondzior> and print_int does ? 
[01:16:47] <ChrisMorgan> hoverbear: tags generation is done by ctags—it's nothing to do with Vim.
[01:16:52] <pkondzior> shouldn't type be in mismatch also for print_str ?
[01:16:54] <jdsanders> could be I had some other problem, let me see if I can refactor back to using operators and see how it goes...
[01:16:55] <hoverbear> ChrisMorgan: Ok, interesting.
[01:17:02] <dbaupp> jdsanders: the actual methods take &BigUint etc. but the operators add the & implicitly
[01:17:13] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[01:17:33] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:17:45] <ChrisMorgan> hoverbear: ctags --version
[01:17:56] <jdsanders> dbaupp: ah, that makes sense
[01:17:58] <ChrisMorgan> Mine is "Exuberant Ctags 5.9~svn20110310, ..."
[01:18:01] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:18:02] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:18:28] <hoverbear> ChrisMorgan: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ctags: illegal option -- -
[01:18:37] <hoverbear> ChrisMorgan: don't worry about it. :) 
[01:18:48] <hoverbear> ChrisMorgan: xcode sucks
[01:18:58] <ChrisMorgan> hoverbear: OK, it really is a weird and borken (sic.) ctags.
[01:19:06] <hoverbear> ChrisMorgan: Yes, exactly.
[01:19:20] <ChrisMorgan> I just didn't quite believe that it wouldn't support long options *at all*.
[01:19:38] <jdsanders> dbaupp: what would be really nice would be if I could do `a * b` where `a` is a and `b` both support ToBigUint...
[01:19:56] <jdsanders> (so I could use primitives and have them converted automatically)
[01:19:58] <ChrisMorgan> hoverbear: anyway, it's not Exuberant Ctags, which is what you need for tags to work. Get it and you'll be off and will be *really* glad you did it.
[01:20:11] <hoverbear> ChrisMorgan: I will next time I code in rust. :)
[01:20:34] <pcwalton> turns out concurrent hash tables perform really badly if they aren't big enough
[01:20:44] <pcwalton> surprise!
[01:20:54] <dbaupp> jdsanders: generic literals would be nice
[01:20:54] <pcwalton> anyway I have a doug lea-style concurrent hash table implemented in rust
[01:21:03] <hoverbear> pcwalton: Mutex locks?
[01:21:03] <dbaupp> pcwalton: how big is "big enough"?
[01:21:17] <pcwalton> well, I had 34,000 objects that I was putting in a hash table with 64 buckets
[01:21:21] <pcwalton> :)
[01:21:33] <hoverbear> pcwalton: Congratulations regardless.
[01:21:54] <ChrisMorgan> jdsanders: the likes of `impl<RHS: ToBigUint> Mul<RHS, BigUint> for BigUint`?
[01:22:21] <jdsanders> ChrisMorgan: yeah, that's what I was thinking
[01:22:25] <jdsanders> any reason that's not possible?
[01:22:30] <olsonjeffery> pcwalton: hey who owns trait bounds and whatnot? would you be willing to guess at this? https://github.com/mozilla/rust/issues/11881
[01:22:33] <olsonjeffery> in any case, thanks
[01:22:46] <ChrisMorgan> jdsanders: doesn't it work?
[01:22:58] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[01:22:58] <pkondzior> https://gist.github.com/pkondzior/9e6c054b04d71319333a is this a bug ? or intended feature ?
[01:24:06] <hoverbear> pkondzior: some_int isn't a primitice.
[01:24:07] *** Quits: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu) (Connection reset by peer)
[01:24:14] <ChrisMorgan> jdsanders: if it doesn't work, my answer is that there are rough edges in generics where some such things simply don't work where theoretically they should. And such a thing is probably not a good plan anyway as it has significant scope for implementation collisions which cannot be resolved at present.
[01:24:19] <sp3d> pkondzior "foo" has the type `&'static str` while 123 has the type `int`
[01:24:25] *** Joins: synackse (jordyd@moz-28CA5769.seg54.ucf.edu)
[01:24:25] *** Joins: cptroot (Mibbit@moz-4F146589.caltech.edu)
[01:24:36] <dbaupp> olsonjeffery: I don't have time to check fully, but https://github.com/mozilla/rust/issues/5121 is the error one often gets from using lifetimes in type signatures
[01:24:58] <pkondzior> i see, which means "" are just shorthand of &'static str  in this case ?
[01:25:03] <sp3d> right
[01:25:08] <hoverbear> pkondzior: Yessir
[01:25:08] <cptroot> Quick question for the knowledgeable people here: How do you get an int from a double in Rust?
[01:25:28] <sp3d> rusti: 4.3f64 as uint
[01:25:29] -rusti- 4u
[01:25:47] <olsonjeffery> dbaupp: thanks for digging that up
[01:25:48] <jdsanders> ChrisMorgan: I haven't tried implementing it myself (yet), and as far as I can tell, extra::bigint itself currently only implements `Mul<BigUint, BigUint> for BigUint`
[01:25:53] <jdsanders> but it seems like it should work
[01:26:03] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[01:26:12] <jdsanders> but I'm curious about the implementation collisions that make it a bad idea…
[01:26:14] <cptroot> sp3d: Woaaaaaa
[01:26:29] <Armavica> dbaupp: I heard you like consistency? ;) what is your opinion on descriptive/imperative doc? https://github.com/mozilla/rust/issues/4361
[01:26:57] *** Quits: synackse (jordyd@moz-28CA5769.seg54.ucf.edu) (Ping timeout)
[01:27:08] <dbaupp> Armavica: I don't particularly care
[01:27:20] <pkondzior> hoverbear: I'm trying to figure out what are the implications of missing & in "bytes" argument here https://github.com/mozilla/rust/blob/d6d7812da841ddedf6c765eebb655be9866956ce/src/libsyntax/ext/base.rs#L194
[01:27:27] <ChrisMorgan> jdsanders: well, BigUint implements ToBigUint, so given big_uint * big_uint, which implementation of Mul will it take? The one for <RHS: ToBigUint> or the one for RHS = BigUint?
[01:27:36] <pkondzior> hoverbear: this is my third hour playing with rust
[01:27:38] <ChrisMorgan> Answer: the situation is impossible.
[01:27:47] <hoverbear> pkondzior: I haven't the sightest, sorry. :(
[01:28:10] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[01:28:22] <hoverbear> pkondzior: Feel free to use/contribute to https://github.com/Hoverbear/rust-rosetta/ to get familiar with basic chores in Rust. :)
[01:28:30] <ChrisMorgan> jdsanders: supporting such specialisation is the topic of https://github.com/mozilla/rust/issues/7059
[01:28:35] <jdsanders> ChrisMorgan: does there need to be an implementation for RHS = BigUint, or wouldn't the <RHS: ToBigUint> be sufficient?
[01:28:41] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:28:41] <dbaupp> Armavica: in any case, commented :)
[01:28:44] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:28:48] <jdsanders> or is it a performance concern?
[01:28:53] * ChrisMorgan shrugs
[01:29:03] <jdsanders> (thanks, hadn't come across #7059)
[01:29:07] <dbaupp> jdsanders: it will be much slower to explicitly convert to a new BigUint for each Mul
[01:29:12] *** Joins: erickt (Adium@8C9ECD8F.3A598286.F12515B4.IP)
[01:29:14] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[01:29:14] <dbaupp> e.g. it will requiring copying the whole bigint
[01:29:17] <jdsanders> yeah, that makes sense to me
[01:29:27] <jasom> acrichto: If I don't explicitly call .clear() on the tree, does it still do the glue_drop?
[01:29:28] <dbaupp> (if you pass in a biguint)
[01:29:37] <jdsanders> and then to have both the specialized and generic version causes the impossible situation
[01:29:39] <jdsanders> makes sense
[01:29:43] *** Quits: pietr0 (pietr0@14EF4708.8EF45F5F.396B22AD.IP) (Ping timeout)
[01:29:53] <acrichto> jasom: yeah you need to call clear() to prevent the recursive drop glue
[01:29:54] <dbaupp> jdsanders: in any case... extra::bigint is really *really* slow
[01:29:57] <pkondzior> hoverbear: yeah i will look into that thanks
[01:30:01] <jdsanders> sort of a bummer though, because I have to pull all my simple constants out into variables, and my mathematical code doesn't look like math
[01:30:07] <dbaupp> so attempting to optimise it is pointless
[01:30:18] <dbaupp> (optimise uses of it, that is)
[01:30:21] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[01:30:22] <hoverbear> pkondzior: I've been really lazy and bad lately with adding to it, but a few people have been helping out. (They rock!)
[01:30:23] <jdsanders> yeah, my benchmark - 4 seconds for a modular exponentiation with all 1024 bit numbers
[01:30:26] <jdsanders> so...yeah
[01:30:49] <jdsanders> but it's a good point that copying is probably not the biggest problem
[01:30:50] <dbaupp> jdsanders: http://benchmarksgame.alioth.debian.org/u64/benchmark.php?test=pidigits&lang=all&id=1&data=u64
[01:31:01] <dbaupp> scroll to the bottom for Rust :P
[01:31:06] <pkondzior> hoverbear: well, i think i'm still not there, if i don't understand whats the difference between &"" and "" :)
[01:31:10] <sp3d> pkondzior: &"foo" is the same as "foo", actually
[01:31:13] <dbaupp> compare that to http://benchmarksgame.alioth.debian.org/u64/benchmark.php?test=fasta&lang=all&id=1&data=u64
[01:31:34] <dbaupp> the speed of pidigits is purely because extra::bigint is so bad
[01:31:39] <dbaupp> *lack of speed
[01:31:46] <jdsanders> ha, yeah
[01:31:59] <hoverbear> pkondzior: Haha. :) I'm still at the "What's the difference between &, ~, and *"
[01:32:00] <jdsanders> I suppose I should give up and figure out how to use rust-gmp
[01:32:18] <sp3d> "pub fn intern(str : &str) -> Name"
[01:32:27] <jdsanders> I just thought "hey, how nice of rust to have bigints built in! I shall use them
[01:32:35] <dbaupp> yup
[01:32:48] <dbaupp> having such unoptimised ones built in just makes rust looks bad
[01:33:05] <dbaupp> (because people sensibly say that... and then it's ridiculously slow.)
[01:33:07] <jdsanders> yeah but I figure gmp can't be built in because of licensing?
[01:33:18] <dbaupp> something like that
[01:33:24] <hoverbear> jdsanders: gmp?
[01:33:29] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:33:42] <dbaupp> ... there was a several-hour-long IRC debate about bigints, gmp and licensing last week.
[01:34:05] <jdsanders> hoverbear: GNU's really good multiple precision arithmetic library
[01:34:06] <jdsanders> https://gmplib.org/manual/
[01:34:29] *** Joins: tjc (tjc@A92AED49.FD5C31A1.284344F5.IP)
[01:34:29] *** ChanServ sets mode: +o tjc
[01:34:36] <dbaupp> didn't really follow enough to know the final outcome; although the person who was pushing for gmp in the stdlib hardest, decided to let it drop and instead advocate removing extra::bigint more strongly
[01:34:40] <hoverbear> jdsanders: And it's GPLv3 and Rust is Apache/MIT? Makes sense.
[01:34:47] <dbaupp> lgpl
[01:34:53] <hoverbear> Ah ok
[01:34:59] *** Quits: Kxepal (Miranda@moz-9BB50C73.pppoe.mtu-net.ru) (Ping timeout)
[01:35:04] <jdsanders> thestinger has rust bindings - https://github.com/thestinger/rust-gmp - but they didn't have what I needed implemented, so I switched to bigint instead
[01:35:16] * hoverbear is surprised that Rust isn't MPL
[01:35:22] <jdsanders> also, I'm not totally clear on how best to use non-standard libraries right now
[01:35:29] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[01:35:32] *** Joins: synackse (jordyd@moz-28CA5769.seg54.ucf.edu)
[01:35:34] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[01:35:44] <jdsanders> since I gather I shouldn't be using rustpkg
[01:35:57] <Armavica> dbaupp @doc: sure :) but the current mix of the two makes me cry, and I don't want to impose a choice
[01:36:02] *** Quits: erickt (Adium@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[01:36:21] <jdsanders> anyway, thanks for the help!
[01:36:35] <jdsanders> i'll wait patiently for an answer to the bigint question :)
[01:36:41] <dbaupp> Armavica: yup, I agree that not having a set style is bad
[01:36:41] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[01:37:31] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[01:38:32] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[01:39:13] *** Quits: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving.)
[01:40:24] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[01:40:54] *** Quits: hoverbear (hoverbear@moz-BCD5BF80.wireless.uvic.ca) (Quit: Taking a nap.)
[01:43:16] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[01:43:18] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[01:44:36] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[01:44:56] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[01:44:59] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[01:46:31] *** Quits: tjc (tjc@A92AED49.FD5C31A1.284344F5.IP) (Ping timeout)
[01:46:38] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[01:46:39] *** Quits: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP) (Quit: Leaving.)
[01:47:22] <Jesin> I'm trying to get the maximum value that uint can hold, how would I go about doing that?
[01:47:49] *** Quits: eibwen (kvirc@moz-AA151D41.dip0.t-ipconnect.de) (Ping timeout)
[01:47:50] <sp3d> rusti: std::uint::MAX
[01:47:51] -rusti- <anon>:10:9: 10:23 error: unresolved name `std::uint::MAX`.
[01:47:51] -rusti- <anon>:10         std::uint::MAX
[01:47:51] -rusti-                   ^~~~~~~~~~~~~~
[01:47:51] -rusti- error: aborting due to previous error
[01:47:51] -rusti- application terminated with error code 101
[01:48:00] <sp3d> well, that's how it is in master at least
[01:48:06] <Jesin> ... really?
[01:48:07] *** Joins: new_one (new_one@17378071.1DCBF251.B3C0173E.IP)
[01:48:17] <Jesin> rusti: uint::max_value()
[01:48:20] -rusti- pastebinned 11 lines of output: http://ix.io/aar
[01:48:28] <sp3d> rusti: version
[01:48:29] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[01:48:30] <dbaupp> rusti: let x: uint = Bounded::max_value(); x
[01:48:33] -rusti- pastebinned 11 lines of output: http://ix.io/aas
[01:48:37] <sp3d> hmm?
[01:48:50] <dbaupp> rusti: let x: uint = std::num::Bounded::max_value(); x
[01:48:52] -rusti- 18446744073709551615u
[01:48:55] <Jesin> rusti: Bounded::max_value() : uint
[01:48:55] -rusti- <anon>:10:30: 10:31 error: expected one of `;`, `}` but found `:`
[01:48:55] -rusti- <anon>:10         Bounded::max_value() : uint
[01:48:56] -rusti-                                        ^
[01:48:56] -rusti- application terminated with error code 101
[01:49:02] <acrichto> rusti: version
[01:49:03] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[01:49:04] <dbaupp> both that and std::uint::MAX work on master
[01:49:12] <acrichto> 4 days old :(
[01:49:14] <dbaupp> on 0.9, std::uint::MAX is std::uint::max_value
[01:49:33] <Jesin> rusti: std::uint::max_value()
[01:49:34] -rusti- <anon>:10:9: 10:31 error: expected function but found `uint`
[01:49:35] -rusti- <anon>:10         std::uint::max_value()
[01:49:35] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~
[01:49:35] -rusti- error: aborting due to previous error
[01:49:35] -rusti- application terminated with error code 101
[01:49:47] <dbaupp> rusti: std::uint::max_value
[01:49:48] <Jesin> alright
[01:49:49] -rusti- 18446744073709551615u
[01:49:52] <Jesin> oh
[01:50:06] <bjz> Jesin: you can't access static methods directly off the type
[01:50:21] <bjz> Jesin: you access if via the trait
[01:50:33] <bjz> s/if/them
[01:50:51] <bjz> Jesin: ie. let x: uint = Bounded::max_value()
[01:50:52] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[01:50:54] *** Joins: tjc (tjc@26A52751.870F2FA5.2370DFC3.IP)
[01:50:54] *** ChanServ sets mode: +o tjc
[01:51:06] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:51:09] <bjz> Jesin: rust infers the type via the return value
[01:51:27] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:51:44] <mcpherrin> on my way to the rust meetup!
[01:51:48] <Jesin> hm, ok
[01:51:59] <bjz> Jesin: std::uint::max_value is a static in the std::uint module, not a method imple on the uint type
[01:52:07] <Jesin> alright
[01:52:58] <bjz> Jesin: std::uint::max_value has since been renamed to std::uint::MAX, but rusti hasn't been updated yet
[01:53:09] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:53:42] <bjz> Jesin: the std::uint::MAX static will hopefully go away once we have CTFE or associated items
[01:53:54] *** Joins: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:53:59] <bjz> Jesin: it's a hack so that you can use it at compile time
[01:54:12] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[01:54:18] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:55:09] *** Quits: tjc (tjc@26A52751.870F2FA5.2370DFC3.IP) (Ping timeout)
[01:55:33] *** Quits: mojoB (mojoB@moz-A4312114.static.exetel.com.au) (Ping timeout)
[01:55:53] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[01:56:23] <skrylar> i should probably rebuild my rustc; there's a couple changes out since then
[01:56:56] * skrylar uses max_value in a few places
[01:58:51] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse)
[01:59:02] *** Joins: eibwen (kvirc@moz-AA151D41.dip0.t-ipconnect.de)
[01:59:21] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[02:00:15] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[02:00:42] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[02:00:56] *** Parts: onelson (onelson@moz-DD666EC5.laika.com) ()
[02:01:27] *** Joins: tjc (tjc@26A52751.870F2FA5.2370DFC3.IP)
[02:01:27] *** ChanServ sets mode: +o tjc
[02:01:38] *** Joins: mojoB (mojoB@moz-A4312114.static.exetel.com.au)
[02:02:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[02:02:13] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[02:02:18] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:04:01] *** Quits: cptroot (Mibbit@moz-4F146589.caltech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[02:04:39] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[02:04:47] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[02:05:03] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[02:06:27] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[02:08:14] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[02:08:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:10:16] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:11:40] *** Joins: gwty (gwtypc@5B29F81D.8685D03D.27560D6E.IP)
[02:12:23] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[02:15:56] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[02:17:39] *** Quits: meTaAU (admin@moz-1E93A023.lns20.per1.internode.on.net) (Ping timeout)
[02:18:03] *** Joins: meTaAU (admin@moz-2576F2BD.lns20.per1.internode.on.net)
[02:18:07] *** Quits: eibwen (kvirc@moz-AA151D41.dip0.t-ipconnect.de) (Ping timeout)
[02:19:10] *** Joins: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu)
[02:19:42] *** Quits: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl) (Ping timeout)
[02:20:01] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[02:20:04] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:20:22] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:20:24] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:20:43] *** Joins: recrack (Mibbit@5AB4884B.FCC4549.14D5B978.IP)
[02:20:45] <pongad> Are the doc/* not ignored? I just merged upstream/master and now my PR has a ton of diff's :(
[02:22:03] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[02:22:06] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:22:19] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[02:24:57] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse)
[02:25:26] <jfbk> i vaguely remember there being a macro for "can't happen", what's it called?  i tried impossible! which should clearly be the name :)
[02:25:47] <bstrie_target> jfbk: on the top of my tongue...
[02:25:48] <bstrie_target> maybe
[02:25:49] <SiegeLord> unreachable! I think
[02:25:50] <bstrie_target> unreachable!
[02:25:54] <bstrie_target> dammit SiegeLord!
[02:26:07] <jfbk> great, ty
[02:26:16] <bstrie_target> pongad: of course the doc directory isn't ignored, how do you think the docs got onto your system in the first place :)
[02:26:33] *** bstrie_target is now known as bstrie_rules
[02:27:08] *** Joins: ecr (chatzilla@E940BDD3.FBC7597F.11F8506F.IP)
[02:27:31] <pongad> The doc/flate/* and co are right? Otherwise the diff's won't show up on my PR after I merge?
[02:27:32] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[02:27:33] <ecr> when's the meetup tonight? email says 7 but air mozilla says 8.
[02:27:51] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[02:28:16] <bstrie_rules> pongad: perhaps we're talking about different things
[02:28:30] <bstrie_rules> ecr: not sure!
[02:28:35] *** Quits: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk) (Ping timeout)
[02:28:57] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse)
[02:29:07] <Jesin> I'm trying to read in a whitespace-separated list of unsigned decimal integers from a file.  How would I do that?
[02:29:09] <ecr> bstrie_rules: doesn't really matter I guess. I can only start watching once air mozilla gets going anyway.
[02:29:16] <pongad> bstrie_rules: I just run `git merge upstream/master` and `git push`, and now my PR is kind of messed up is the short story XD
[02:29:38] *** Joins: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[02:29:40] <mcpherrin> ecr the talks presumably start at 8
[02:29:40] <dbaupp> ecr: air mozilla is just the broadcast section
[02:29:47] <dbaupp> ecr: I assume 7 is for food(?)
[02:30:05] <ecr> oh, well I'm in Seattle so broadcast is the only relevant part for me
[02:30:23] <mcpherrin> hmm so I am basically there now. Deciding how early too early to show up is :p
[02:30:25] <ecr> I'll make a sandwich and pretend I'm participating
[02:31:24] <bstrie_rules> Jesin: I'm not sure if we have a convenience function specifically for splitting on whitespace
[02:32:11] <bstrie_rules> Jesin: though if by "whitespace" you mean "newlines", then maybe
[02:32:24] <bstrie_rules> Jesin: could poke around the docs: http://static.rust-lang.org/doc/0.9/std/io/fs/index.html
[02:32:30] <pongad> Is the build in master failing?
[02:33:07] *** Quits: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving.)
[02:33:08] <pongad> Or am I calling `make` wrong? :D
[02:33:33] <Jesin> in C I would simply: while (sscanf("%lu", &next_ulong) == 1) { ulong_list = push_back(ulong_list, next_ulong); }
[02:33:50] <Jesin> derp
[02:33:53] <Jesin> I meant
[02:34:03] <Jesin> while (fscanf(fin, "%lu", &next_ulong) == 1) { ulong_list = push_back(ulong_list, next_ulong); }
[02:34:05] <bstrie_rules> Jesin: last I looked our file I/O was fairly embarrassing
[02:34:07] <mcpherrin> rusti: "a b c".split(' ')
[02:34:08] -rusti- std::str::CharSplits<,char>{string: "a b c", sep: ' ', allow_trailing_empty: true, only_ascii: true, finished: false}
[02:34:11] *** Joins: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net)
[02:34:24] <mcpherrin> then map ste to int
[02:34:32] <dbaupp> file.lines().flat_map(|x| x.words().filter_map(from_str::<uint>)).to_owned_vec()
[02:34:46] <ecr> rusti: "a b c".split(char::is_whitespace)
[02:34:49] -rusti- pastebinned 11 lines of output: http://ix.io/aaA
[02:34:49] <dbaupp> that may need x.trim()
[02:35:06] <dbaupp> (and it just ignores anything that's not an integer)
[02:35:11] <ecr> rusti: "a b c".split(std::char::is_whitespace)
[02:35:15] -rusti- std::str::CharSplits<,fn(char) -> bool>{string: "a b c", sep: fn(char) -> bool, allow_trailing_empty: true, only_ascii: false, finished: false}
[02:35:36] <ecr> wat
[02:35:48] <johnsoft> what's rust's version of python's list()?
[02:35:58] <ecr> what's python's list() do?
[02:35:59] <dbaupp> ecr: it's an iterator, i.e. lazy
[02:36:03] <ecr> oh right
[02:36:10] <dbaupp> johnsoft: .collect() or .to_owned_vec() on an iterator
[02:36:13] <ecr> "a b c".split(std::char::is_whitespace).collect()
[02:36:19] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[02:36:24] <ecr> ugh
[02:36:28] <dbaupp> (collect is generic, and requires some help to infer the correct return type)
[02:36:34] <ecr> rusti: "a b c".split(std::char::is_whitespace).collect()
[02:36:34] -rusti- <anon>:10:9: 11:6 error: cannot determine a type for this bounded type parameter: unconstrained type
[02:36:35] -rusti- <anon>:10         "a b c".split(std::char::is_whitespace).collect()
[02:36:35] -rusti- <anon>:11     };
[02:36:35] -rusti- application terminated with error code 101
[02:36:51] *** Quits: gwty (gwtypc@5B29F81D.8685D03D.27560D6E.IP) (Ping timeout)
[02:37:06] <Jesin> rusti: "a b c".split(std::char::is_whitespace).to_owned_vec()
[02:37:07] -rusti- ~["a", "b", "c"]
[02:37:14] <ecr> rusti! let x : ~[~[str]] = "a b c".split(std::char::is_whitespace).collect(); x
[02:38:08] <dbaupp> .words() is a more convenient version of that split
[02:38:15] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[02:38:29] <dbaupp> (it collapses sequences of whitespace too.)
[02:38:32] <Jesin> rusti: let x: ~[uint] = "5 4 3 2 1".split(std::char::is_whitespace).map(std::from_str::from_str).to_owned_vec(); x
[02:38:36] -rusti- pastebinned 7 lines of output: http://ix.io/aaC
[02:38:52] *** Joins: gwty (gwtypc@44F364AC.572C67F9.BD94A9D5.IP)
[02:39:02] <dbaupp> rusti: let x: ~[uint] = "5 4 3 2 1".split(std::char::is_whitespace).filter_map(std::from_str::from_str).to_owned_vec(); x
[02:39:03] -rusti- ~[5u, 4u, 3u, 2u, 1u]
[02:39:09] <dbaupp> rusti: let x: ~[uint] = "5 4 ignored 3 2 1".split(std::char::is_whitespace).filter_map(std::from_str::from_str).to_owned_vec(); x
[02:39:11] -rusti- ~[5u, 4u, 3u, 2u, 1u]
[02:39:14] <Jesin> ahh
[02:39:19] <Jesin> thanks
[02:39:27] <Jesin> looks like that's exactly what I needed
[02:39:49] *** Quits: recrack (Mibbit@5AB4884B.FCC4549.14D5B978.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:39:57] <Jesin> I would like something that didn't need to store an intermediate copy of the entire file contents
[02:40:37] <aatch> Jesin, the iterators shouldn't need to store an intermediate copy, as far as I know
[02:40:49] *** Quits: tjc (tjc@26A52751.870F2FA5.2370DFC3.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:41:04] <aatch> If you use something like LineIterator for the file.
[02:41:14] <aatch> It *should* only need to keep one line at a time.
[02:41:23] <dbaupp> Jesin: https://botbot.me/mozilla/rust/msg/10283940/
[02:41:25] <Jesin> aatch: alright; that still needs an intermediate copy of the line
[02:41:29] <dbaupp> (untested, but something like that should work)
[02:41:57] <dbaupp> but yeah, that copies each line
[02:42:31] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[02:42:49] <Jesin> so str has a .words() method, but file doesn't?
[02:43:40] <dbaupp> seems that it doesn't have one
[02:43:41] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[02:43:57] <ecr> I/O is still relatively in flux last time I heard
[02:44:09] <ecr> and not integrated with iterators very well
[02:44:20] *** Joins: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net)
[02:44:24] <Jesin> alright
[02:44:26] *** Joins: sellout (Adium@moz-CF70CF20.hlrn.qwest.net)
[02:44:48] <mcpherrin> ideally words should be defined on anything that has a char iter whicj a file shoild
[02:46:22] *** Joins: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk)
[02:47:20] *** Joins: erickt (Adium@moz-C07D5168.p2p.sfo1.mozilla.com)
[02:48:23] <dbaupp> mcpherrin: words gives slices
[02:48:31] <dbaupp> (which a general char iter doesn't support)
[02:48:33] <aatch> dbaupp, dammit, beat me to it by 10s
[02:48:44] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[02:48:53] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[02:49:32] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[02:49:34] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[02:50:11] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:50:17] *** Quits: Jesse (jruderman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Jesse)
[02:50:32] *** Quits: gwty (gwtypc@44F364AC.572C67F9.BD94A9D5.IP) (Ping timeout)
[02:51:32] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:51:37] <jdm> woo, meetup time
[02:51:43] *** Quits: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Lost terminal)
[02:52:22] <Jesin> rusti: let x: ~[uint] = "5 4 3 2 1".words.map(std::from_str::from_str).to_owned_vec(); x
[02:52:25] -rusti- pastebinned 7 lines of output: http://ix.io/aaF
[02:52:27] <Jesin> rusti: let x: ~[uint] = "5 4 3 2 1".words().map(std::from_str::from_str).to_owned_vec(); x
[02:52:30] -rusti- pastebinned 7 lines of output: http://ix.io/aaG
[02:52:36] *** jorendorff is now known as jorendorff_away
[02:52:39] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:52:52] *** Quits: synackse (jordyd@moz-28CA5769.seg54.ucf.edu) (Ping timeout)
[02:53:21] *** Joins: burg (sid14893@moz-5F4AA75A.irccloud.com)
[02:53:33] <aatch> Jesin, `filter_map`
[02:53:47] <Jesin> rusti: let x: ~[uint] = "5 4 3 2 1".words().filter_map(std::from_str::from_str).to_owned_vec(); x
[02:53:48] -rusti- ~[5u, 4u, 3u, 2u, 1u]
[02:53:50] <burg> brson: how do I meetup :|
[02:54:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:54:57] * bascule gonna be late to the meetup
[02:55:01] <bascule> I still want stickers! :O
[02:55:16] <mcpherrin> burg 1) go to moz 2) eat food 3) rust tbings
[02:55:37] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[02:55:40] <burg> Are we on 7 or 1?
[02:55:47] <Jesin> I'm getting "borrowed value does not live long enough    let myvec: ~[uint] = std::io::stdin().read_to_str().words().filter_map(std::from_str::from_str).to_owned_vec();"
[02:55:48] <mcpherrin> 1
[02:55:51] <mcpherrin> i think
[02:56:01] <Jesin> (this is with 0.9)
[02:56:49] <mcpherrin> put things in temp variables or use master
[02:57:20] <dbaupp> Jesin: `let tmp = std::io::stdin().read_to_str(); let myvec = tmp.words()....;`
[02:58:45] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[02:59:38] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[03:00:03] <Jesin> dbaupp: when is "tmp" deleted in that case?
[03:00:56] <dbaupp> Jesin: destructors run at the end of the scope by default
[03:01:28] <dbaupp> you can move it around to change when it runs (e.g. drop(tmp); will move it into that function and then run the destructor, or `return tmp;` will return it by a move and not run the destructor)
[03:02:04] <Jesin> in C/C++, I believe it's possible to create a small scope inside another one using curly braces
[03:02:09] <Jesin> does rust do that too?
[03:02:20] <dbaupp> yes
[03:03:20] <aatch> Jesin, even better, those are expressions themselves.
[03:03:35] <aatch> rusti: let a = { let a = 1; a+1 } a
[03:03:35] -rusti- <anon>:10:36: 10:37 error: expected `;` but found `a`
[03:03:36] -rusti- <anon>:10         let a = { let a = 1; a+1 } a
[03:03:36] -rusti-                                              ^
[03:03:36] -rusti- application terminated with error code 101
[03:03:38] <aatch> rusti: let a = { let a = 1; a+1 }; a
[03:03:40] -rusti- 2
[03:05:07] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:05:22] *** Quits: kvanb (kvanb@moz-E3B38E24.lnse1.win.bigpond.net.au) (Quit: kvanb)
[03:05:47] *** Joins: lpy (lpy@9248CA04.F930CE91.65042015.IP)
[03:06:47] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:06:57] <bvssvni> hopefully default parameters will make Rust complain a little less :)
[03:07:34] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[03:08:11] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[03:09:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:09:55] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:10:47] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:11:51] *** Quits: pongad (Mibbit@moz-7E8AAD2E.res.gatech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[03:12:58] <bvssvni> btw what is HKT?
[03:13:21] <dbaupp> higher kinded types
[03:13:25] <dbaupp> cmr: ping
[03:13:47] <cmr> dbaupp: pong
[03:14:26] <dbaupp> bvssvni: basically being able to say write things like `impl Functor for Option` (it has to be `impl<T> ... for Option<T>` atm.)
[03:14:46] <dbaupp> cmr: I saw you were doing stuff with random distributions; with std::rand?
[03:15:40] *** Joins: kvanb (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au)
[03:16:34] <cmr> dbaupp: well, I plan on trying to use std::rand and some of the stuff from rust-rand (LCG and LFSR in particular looked already-implemented for me)
[03:16:39] *** Quits: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net) (Ping timeout)
[03:16:59] <dbaupp> cmr: ah, yes; you should be able to copy them out
[03:16:59] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:17:19] <dbaupp> iirc they're pretty simple and so won't have bitrotted much...
[03:17:27] <cmr> yeah they should be
[03:17:33] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[03:17:41] *** Quits: victorporof_ (victorporo@8699B38F.D32F224B.9B1E38F4.IP) (Quit: victorporof_)
[03:18:20] *** Joins: Rui (rui@21A82F9E.37422B4.8368921A.IP)
[03:19:07] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[03:20:41] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[03:24:22] <dbaupp> bjz: thanks
[03:24:25] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[03:24:33] <bjz> dbaupp: yah?
[03:25:04] <dbaupp> bjz: num-rs
[03:25:17] <bjz> oh ok
[03:25:19] <bjz> yep
[03:25:25] <bjz> updated the readme
[03:26:05] <bjz> I should clarify that the example types need not be implemented in num-rs itself
[03:27:16] <bjz> dbaupp: I think rationals, complex numbers and bignums could fit in though
[03:27:40] <dbaupp> built-in?
[03:27:45] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[03:27:48] <bjz> in num-rs
[03:27:50] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[03:27:52] <dbaupp> yeah
[03:28:16] <dbaupp> (the problem with bignums is performance: basically the only sane thing to do is bind to gmp, fwiw.)
[03:28:22] <bjz> yeah
[03:28:33] <bjz> maybe we shouldn't then
[03:29:09] <bjz> dbaupp: does gmp have a Real type?
[03:29:33] <dbaupp> well, num-rs could have bindings
[03:29:35] *** Quits: zz_kimundi (kimundi@moz-D56C9025.dip0.t-ipconnect.de) (Ping timeout)
[03:29:40] <bjz> dbaupp: yep
[03:29:45] <dbaupp> but yeah, that's probably something a different crate could do
[03:29:49] <dbaupp> using the traits/whatever from num-rs
[03:29:55] <bjz> yep
[03:30:06] <bjz> it's good to have that in mind though
[03:30:40] <dbaupp> http://www.mpfr.org/ is a real type built on top of gmp
[03:31:00] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[03:32:16] <dbaupp> there's also built-in support https://gmplib.org/manual/Floating_002dpoint-Functions.html (I imagine mpfr is more complete though)
[03:32:52] *** Quits: joone (joone@moz-D3B2E195.jf.intel.com) (Ping timeout)
[03:33:20] *** Joins: zz_kimundi (kimundi@moz-F50B31A7.dip0.t-ipconnect.de)
[03:33:26] *** Quits: Jesin (Jesin@moz-25DD69CE.cc.lehigh.edu) (Quit: Leaving)
[03:33:27] <bjz> awesome
[03:33:35] <bjz> dbaupp: cheers
[03:33:41] *** zz_kimundi is now known as kimundi
[03:34:07] *** Quits: Rui (rui@21A82F9E.37422B4.8368921A.IP) (Quit: )
[03:34:23] *** Joins: joone (joone@E10A1781.2160464A.A34EC3BB.IP)
[03:34:30] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:34:36] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[03:35:21] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[03:36:31] <bvssvni> bjz: what is the problem with floats in num-rs?
[03:37:13] <bjz> bvssvni: floating point arithmetic is not commutative or associative
[03:37:50] <bjz> bvssvni: ie floats are not reals
[03:38:04] <bjz> bvssvni: nor do they satisfy Ord
[03:38:06] <bvssvni> bjz: they are kind of semi-real?
[03:38:12] <bjz> bvssvni: yes
[03:38:32] <bvssvni> bjz: I can see that is a problem
[03:38:56] *** Quits: erickt (Adium@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: Leaving.)
[03:38:56] <bjz> bvssvni: I'm thinking the fixed with integers could be represented using modulo arithmetic
[03:38:56] <bvssvni> bjz: the underlying problem is mathematics is too perfect
[03:39:00] <bjz> yes
[03:39:06] <bjz> it is a conflict
[03:39:13] <dbaupp> bjz: i.e. u32 etc?
[03:39:18] <bjz> dbaupp: yes
[03:39:34] <dbaupp> bjz: well they're precisely modulo arithmetic, so that's a good representation :)
[03:39:38] <bjz> dbaupp: yes
[03:40:21] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:40:38] <bjz> I was talking to carter about this
[03:40:44] <carter> which what?s
[03:41:14] <bjz> how do you choose definitions that represent how these data types really perform
[03:41:25] <carter> oh yeah
[03:41:30] <carter> you want to model the actually semantics
[03:41:33] <bjz> I mean, you can complain about floats being imperfect
[03:41:34] <carter> not pretend they're something that they're not
[03:41:37] <bjz> yes
[03:41:43] <carter> floats aren't reals
[03:41:47] <bjz> yes
[03:42:03] <carter> they're a neat combinatorial model that has robust characteristics across as HUGE dynamic range when treated with respect
[03:42:04] *** Joins: erickt (Adium@moz-C07D5168.p2p.sfo1.mozilla.com)
[03:42:19] <carter> bjz: their bit model does have unique total order though
[03:42:34] <bjz> carter: yes, it is defined in the standard
[03:42:39] <carter> and that bit model is correct on notNAN stuff
[03:42:51] <carter> and is well defined on NAN (albeit useless :))
[03:43:26] <bjz> carter: are there any examples that treat floats with 'respect', in your eyes?
[03:43:31] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[03:43:35] <carter> with respect to what?
[03:43:36] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:43:49] <carter> i actually have a whole mess of work i wanna do wrt float models for ghc
[03:43:55] <bjz> "not pretend they're something that they're not"
[03:43:58] <carter> oh
[03:44:03] <bjz> "they're a neat combinatorial model that has robust characteristics across as HUGE dynamic range when treated with respect"
[03:44:10] <carter> Lapack :)
[03:44:14] <bjz> I'm wondering if there are examples
[03:44:19] <carter> lapack
[03:44:20] <carter> :)
[03:44:20] <bjz> ok, will look
[03:44:24] <o11c> I just avoid floats except when doing GL
[03:44:26] <carter> bjz: its a huge mess fo fortant
[03:44:28] <carter> BUT
[03:44:33] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[03:44:37] <carter> the lapack working notes are really really nicely written
[03:44:42] <o11c> use a rational library otherwise
[03:44:42] <bjz> cool
[03:44:56] <carter> http://www.netlib.org/lapack/lawns/index.html 
[03:44:58] <bjz> o11c: we can't avoid floats
[03:44:59] <carter> http://www.netlib.org/lapack/#_related_projects
[03:45:07] <carter> o11c: rationals aren't safe for space :)
[03:45:09] <carter> though thats ok
[03:45:40] *** Joins: ntp (rest@moz-5E7DF880.cpe.net.cable.rogers.com)
[03:45:47] <carter> Floats are really valuable
[03:45:56] <cmr> Can't agree with that
[03:46:01] <cmr> floats and strings are awful and should die
[03:46:05] <bjz> carter: what should I look at in particular
[03:46:06] <carter> cmr: have you done math?
[03:46:08] <cmr> as should user input, graphical interfaces, and computing.
[03:46:15] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[03:46:16] <carter> cmr: hav eyou done numerical computing?
[03:46:19] <bjz> cmr: computers are stupid
[03:46:29] <bjz> cmr: we should use pencil and paper
[03:46:30] <carter> i warmly welcome a better proposal for fixed size approximat number models
[03:46:32] <cmr> bjz: I hate computers, computers make my life more miserable :(
[03:46:36] <carter> :)
[03:46:38] <carter> soke
[03:46:48] <bjz> carter: reality is stupid
[03:46:50] <carter> cmr: where are you based again?
[03:46:51] <carter> true
[03:46:58] <carter> lets reprogram the computronium
[03:47:02] <bjz> cmr: it should just be pure math
[03:47:11] <carter> just by mathematica and cry
[03:47:12] <carter> :)
[03:47:14] <carter> *buy
[03:47:15] <bjz> no stupid quantum weirdnass
[03:47:22] <bjz> >_<
[03:47:39] <bjz> carter: so what in particular in those pages?
[03:47:41] <Yurume> heh, integers everywhere!
[03:47:45] <cmr> carter: Northern NY currently, Clarkson University
[03:47:55] <Yurume> and shortly after we would have bignums.
[03:47:56] <carter> cmr: so its cold
[03:48:17] <cmr> much unpleasant, so cold
[03:48:38] <cmr> I actually really like the cold
[03:48:38] <bjz> carter: I'm looking for good algebraic foundations of floats, and how they fit with other things
[03:48:52] <bjz> carter: but they may not
[03:49:00] <carter> bjz: AHHH
[03:49:20] <carter> ok
[03:49:21] <carter> hangon
[03:49:22] <bjz> carter: I have been sketching thing out on paper
[03:49:26] <carter> bjz: cool!
[03:49:30] <carter> email me your notes!
[03:49:34] <bjz> carter: but nothing really of note
[03:49:36] <bjz> hah
[03:49:38] <carter> soke
[03:49:43] <bjz> I am too stupid
[03:49:52] <carter> thats why you should share the daft
[03:50:02] <bjz> I just want to treat them with 'respect'
[03:50:31] <carter> g3g
[03:50:32] <bjz> see, as soobn as you do Vector3<f32>, your nice vector space has gone all weird
[03:50:33] *** Quits: a_m0d (a_m0d@moz-2F294D00.acanac.net) (Quit: Leaving.)
[03:50:39] <carter> will be back soon
[03:50:42] <bjz> ok
[03:50:48] <carter> bjz: float has the "lru"
[03:50:57] <carter> least representable unit / step
[03:51:02] <carter> that varies over its odmain
[03:51:04] <carter> *domain
[03:51:08] <bjz> ok, will look
[03:51:10] <bvssvni> bjz: hmm, the log of a complex number is not unique
[03:51:35] <Yurume> carter: is it often called "ulp" (a unit in the last place)?
[03:51:46] <carter> yeah
[03:51:53] <carter> g2g for a bit
[03:51:53] <bvssvni> bjz: also, asin is a series of numbers
[03:51:53] <Yurume> I don't know what is the standard terminology
[03:51:55] <carter> will be back alter
[03:52:19] <bvssvni> bjz: it is difficult to formalize algebras that differ by types for the same operators
[03:52:32] <Yurume> bvssvni: so does sin when extended to the complex domain.
[03:53:37] <bvssvni> it seems to me that there usually exists some more advanced data structure that fits the algebra perfectly
[03:53:52] <bjz> mmyep
[03:54:05] <bvssvni> for example, floats might be well defined in tuples
[03:54:15] <carter> bjz: heres a thought
[03:54:22] <bvssvni> I meant, having one float for the value and one for the error
[03:54:33] <carter> the algebraic laws for foats / doubles involve ULPs
[03:54:33] <Yurume> bvssvni: i.e. interval arithmetics?
[03:54:38] <cmr> https://air.mozilla.org/horseplay/
[03:54:41] <cmr> literally wat
[03:54:41] <carter> those are different from floats
[03:54:43] <carter> brw
[03:55:38] <bjz> carter: http://en.wikipedia.org/wiki/Unit_in_the_last_place ?
[03:55:40] <bvssvni> Yurume: was not thinking about interval arithmetics, but more about mathematical objects in general
[03:56:04] <carter> yes
[03:56:08] <skrylar> oh dear.
[03:56:11] <bvssvni> Yurume: the problem is in practice, we use a lot of mathematical objects that are not "perfect"
[03:56:13] <carter> bjz: the ulp size is a function of where you are
[03:56:17] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[03:56:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:56:17] <skrylar> "can't find crate for std" :|
[03:56:20] <carter> ulp(x) varies with x
[03:56:23] <erickt> rust meetup broadcast happening any minute now: https://air.mozilla.org/rust-meetup-january-2014/
[03:56:31] <Yurume> I think you meant there might be a simple data structure that precisely models the mathematical objects, didn't you?
[03:56:51] <SiegeLord> What's so good about math if you can't write fast code with it :P
[03:57:15] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[03:57:31] <bjz> carter: ok
[03:57:43] <bvssvni> Yurume: using your example of intervals, the xor of two intervals might return 2 intervals instead of 1
[03:58:00] <bvssvni> Yurume: so the "perfect" data structure for intervals is a list of intervals
[03:58:02] * skrylar wonders if 'cant find crate for std' is a known error or if they changed how rustc looks for things
[03:58:16] <cmr> skrylar: http://www.reddit.com/r/rust/comments/1wa0gb/error_of_the_week_package_foo_depends_on_extra/
[03:58:23] <skrylar> ah. apparently if you give a -L it now forgets the defaults
[03:58:45] <skrylar> cmr: not the problem
[03:58:47] <bjz> carter: "ulp(x) is the gap between the two floating-point numbers nearest x, even if x is one of them."
[03:59:17] <skrylar> cmr: in 0.10-pre, specifying -L means it will 'forget' the default library position. 0.9pre doesn't do this
[03:59:23] <skrylar> i removed -Lfoo and the error changed
[03:59:26] <cmr> skrylar: I haven't been able to reproduce.
[03:59:33] <cmr> I use -L ~/.rust/lib all the time with no change
[03:59:44] <skrylar> rustc -Ltermbox blah.rs -> gave me the error with the current master 
[03:59:51] <skrylar> removing -Ltermbox, problem goes away
[04:00:04] <skrylar> edfb546e4b2b
[04:00:17] <bjz> carter: but the thing I'm reading says that with IEEE 754: "ulp(x) is the gap between the two finite floating-point numbers nearest x, even if x is one of them. (But ulp(NaN) is NaN.)"
[04:00:18] <bvssvni> the meetup beings! https://air.mozilla.org/rust-meetup-january-2014/
[04:00:41] <erickt> fyi: meeting is slightly delayed due to a technical issue. please stand by...
[04:00:42] <bjz> carter: anyway, gonna watch the meetup
[04:01:19] <skrylar> cmr: which checkout are you using?
[04:01:30] * skrylar just tried adding a -L to the libstd path, and now theres an internal compiler error o_o
[04:01:39] <cmr> yeah that ice is known
[04:01:42] <cmr> xales: you should fix that too!
[04:02:25] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[04:02:37] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[04:03:22] <skrylar> cmr: so which 0.10-pre checkout are you using, so i can go install it?
[04:03:28] <skrylar> 'cause the HEAD is broken :\
[04:03:45] <cmr> skrylar: edfb546
[04:03:51] <cmr> should be near head
[04:04:06] <skrylar> i think that is the current head
[04:04:23] <cmr> it's strcat's rust-git
[04:04:46] *** Quits: rocode (rocode@moz-8ACDD150.clsp.qwest.net) (Quit: Leaving)
[04:05:14] <skrylar> i'll run the build agin, i guess
[04:05:21] * skrylar already did a clean -dfx and reinstall earlier
[04:05:27] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[04:05:51] <xales> cmr: fix what
[04:05:57] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[04:06:00] <cmr> xales: -L /usr/local/lib ICEs
[04:06:05] <cmr> should be noop
[04:06:10] <cmr> store link paths in hashset
[04:06:12] <xales> does it add it twice?
[04:06:14] <xales> ah
[04:06:14] <cmr> yeah
[04:06:27] <xales> why does adding it twice cause breakage though? :|
[04:06:33] <cmr> dunno, go fix it ;p
[04:06:38] <xales> no u
[04:06:43] <xales> >:3
[04:07:07] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[04:07:12] <cmr> erickt: any update?
[04:07:31] <erickt> still trying to get the broadcast up
[04:07:50] *** Joins: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net)
[04:08:11] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[04:08:12] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[04:09:04] <dbaupp> cmr: that horseplay one is funny
[04:09:30] <xales> cmr: qdb is up with much latency now, too
[04:12:04] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[04:12:23] <bjz> how goes the stream?
[04:12:25] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:12:39] <erickt> I think we're almost up
[04:13:15] <erickt> we're up!
[04:13:51] <dbaupp> I can see & hear erickt!
[04:13:53] <SiegeLord> Woohoo!
[04:14:37] <bjz> yay!
[04:14:40] <bjz> o/
[04:14:50] <mcpherrin> RUST!
[04:15:01] <mcpherrin> erickt: yay!
[04:15:48] <bjz> hey hey brson! o/
[04:16:10] *** Parts: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net) ()
[04:16:24] <erickt> and as always, let me know if any of you have questions you want to ask me
[04:17:05] *** Joins: erickt_ (etryzelaar@moz-C07D5168.p2p.sfo1.mozilla.com)
[04:17:07] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[04:17:26] *** Joins: awweaver (aweaver@moz-F6B905C7.dfw.dsl-w.verizon.net)
[04:18:25] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[04:18:56] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[04:19:24] <awweaver> Is this channel in anyway connected to "Rust" the game?
[04:19:36] <awweaver> Reading the topic it doesnt look like it.
[04:19:36] <mcpherrin> awweaver: no, not at all
[04:19:41] <mcpherrin> :-)
[04:19:44] <awweaver> I didnt think so.
[04:19:47] * awweaver waves
[04:19:52] *** Quits: awweaver (aweaver@moz-F6B905C7.dfw.dsl-w.verizon.net) (Quit: Off to see the only publicly practicing wizard in chicago; Look under "Wizard")
[04:20:36] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[04:21:07] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[04:21:22] <carter> bjz: yes
[04:21:29] <carter> nan can happpen anywhere
[04:21:36] <carter> so the ulp better be nan
[04:21:55] <bjz> http://bit.ly/1dM8ii2
[04:22:01] <bjz> spreadsheet ^
[04:22:04] <cmr> bjz: much convenient, many thanks
[04:22:10] <mcpherrin> https://docs.google.com/a/aristanetworks.com/spreadsheet/ccc?key=0AlWBWplsaTZvdGdSdEVzZW1BeDA5dm0zM2FFeW0ySEE&usp=drive_web#gid=0
[04:22:22] <mcpherrin> oh bjz just linked it
[04:22:26] <mcpherrin> wait
[04:22:45] <mcpherrin> that url probably doesn't work because it has my company domain in it for wahtever crazy google reason
[04:22:55] <cmr> yeah
[04:25:21] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[04:25:39] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[04:26:12] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:26:48] <carter> bjz:  but the point being, floats have their own geometry
[04:27:14] <bjz> carter: sorry, watching the meetup
[04:27:18] <carter> soke
[04:27:29] <bjz> carter: but thanks!
[04:27:41] <carter> and its related to ulping up and down
[04:30:56] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:33:09] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Quit: Leaving)
[04:35:02] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[04:36:11] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Ping timeout)
[04:37:16] *** Quits: japaric (japaric@6EEB4A44.E90D5F40.F29ED47E.IP) (Ping timeout)
[04:39:30] *** Joins: japaric (japaric@55D04ADF.DC1425E6.84437BC5.IP)
[04:39:54] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[04:40:30] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[04:41:59] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[04:42:01] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[04:42:10] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[04:45:27] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:47:26] *** Quits: erickt_ (etryzelaar@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[04:47:38] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[04:47:52] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[04:47:54] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[04:48:12] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[04:48:22] <diverse> is the conference going on?
[04:48:26] <mcpherrin> yes
[04:48:32] <diverse> link?
[04:48:38] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Broken pipe)
[04:48:38] <mcpherrin> air.mozilla.org
[04:48:38] *** Joins: ssira_ (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[04:48:51] <Erik_> https://air.mozilla.org/rust-meetup-january-2014/
[04:48:51] <mcpherrin> https://air.mozilla.org/rust-meetup-january-2014/
[04:49:07] <SiegeLord> Someone didn't use PDFs for presentations ;)
[04:49:13] <diverse> thanks!
[04:49:44] <mcpherrin> I can read it in the room :P
[04:49:49] <mcpherrin> not so much on airmoz
[04:50:03] <diverse> who is presenting atm?
[04:50:14] <dbaupp> mcpherrin can't get enough of the meetup and is watching it IRL and online at the same time
[04:50:20] <SiegeLord> lol
[04:50:22] <erickt> if you want to read the code you can go to https://github.com/kballard/rust-lua :)
[04:50:29] <mcpherrin> dbaupp: yup
[04:50:58] <erickt> I'm watching it live, and through cmr's webcam on his projector
[04:51:07] <mcpherrin> Gotta get that 15 second video delay
[04:51:24] <diverse> who is doing the lua presentation?
[04:51:47] <mcpherrin> Kevin Ballard
[04:52:01] <SiegeLord> Nooo not setjmp
[04:52:05] <mcpherrin> the best jump!
[04:52:08] <erickt> diverse: otherwise known as Eridius
[04:52:17] <erickt> worst. jump. ever.
[04:52:21] <mcpherrin> erickt: oooh I hadn't connected those two dots
[04:52:32] <mcpherrin> SiegeLord: Are you in the room?
[04:52:37] <mcpherrin> Or watching online?
[04:52:40] <SiegeLord> Online
[04:53:10] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Ping timeout)
[04:53:30] <cmr> hahah
[04:54:13] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Ping timeout)
[04:54:47] *** Joins: erickt_ (etryzelaar@moz-C07D5168.p2p.sfo1.mozilla.com)
[04:55:28] <jack> rust-png has to use setjmp longjmp too. i seem to recall i made it work, but maybe there are edge cases i forgot about.
[04:55:32] <jack> it wasn't pretty though.
[04:55:40] <dbaupp> jack: "has"?
[04:55:51] <dbaupp> the library doesn't support anything else?
[04:55:52] <SiegeLord> I switched away from libpng back when I was using D just for that reason
[04:56:00] <jack> libpng doesn't use exceptions like rust-lua. it only has setjmp/longjmp for errors.
[04:56:11] <jack> afaik anyway
[04:56:24] <SiegeLord> Had to find a different png library XD
[04:56:32] <jack> eddyb pretty much rewrote libpng in pure rust, so i hope we'll switch to that at some point :)
[04:56:49] *** jorendorff_away is now known as jorendorff
[04:57:35] * ChrisMorgan slightly envies Eridius's beard
[04:57:42] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:59:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:00:01] * photex concurs
[05:00:17] <dbaupp> erickt: how many people are there?
[05:00:25] * ChrisMorgan has a beard which is taking its time to become formidable
[05:00:30] <o11c> ooh
[05:01:47] <diverse> cmr: we can't see the graphs!
[05:01:49] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:02:29] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:02:29] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Connection reset by peer)
[05:03:56] <erickt_> cake!
[05:04:10] <diverse> rust cake!
[05:05:22] * ChrisMorgan suggested it a couple of days before cmr baked it, but he's not sure if cmr saw that or had the idea independently
[05:05:51] <photex> oh snap stickers
[05:06:02] * photex was wondering about swag availability
[05:06:03] <dbaupp> can we get IRC stickers?
[05:06:14] *** Quits: erickt (Adium@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: Leaving.)
[05:06:19] *** Quits: erickt_ (etryzelaar@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[05:06:44] * bvssvni wants some cake
[05:07:19] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[05:07:30] * photex applies an irc sticker to dbaupp
[05:07:30] <cmr> ChrisMorgan: Yes, it was indeed your idea.
[05:07:41] * ChrisMorgan feels special
[05:08:27] <bjz> great meetup guys!
[05:08:29] * dbaupp has a sticker!
[05:08:34] <dbaupp> thanks photex <3
[05:08:35] * bjz has a sticker
[05:08:41] * cmr has a stack of stickers
[05:08:52] * diverse has a heap of stickers
[05:08:53] * ChrisMorgan has no stickers
[05:08:54] * dbaupp also has a lone real Rust sticker
[05:08:58] * ChrisMorgan doesn't even have any bananas
[05:09:03] * bjz hopes cmr's sticker stack is safe
[05:09:03] * dbaupp /me
[05:09:10] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Quit: WeeChat 0.4.2)
[05:09:53] * ChrisMorgan does, however, have a lemon
[05:10:01] * cmr gives them to people in the CS labs who have un-rusted laptops.
[05:10:28] <bjz> cmr: omg, we totally need rusty laptops
[05:10:42] * dbaupp quite likes his uncorroded computer
[05:10:50] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[05:10:53] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:11:03] * ChrisMorgan contemplates achieving a rust effect on the laptop he is planning to get soon instead of coating it with carbon fibre vinyl
[05:11:21] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[05:12:33] * ChrisMorgan gets superficially upset at bjz for not having used /me
[05:14:19] <bjz> heh, tough ChrisMorgan 
[05:14:23] <bjz> muahaha
[05:14:26] * dbaupp gets non-superficially upset
[05:14:31] * bjz enjoys teasing ChrisMorgan 
[05:15:02] * cmr (ノಠ益ಠ)ノ彡┻━┻
[05:15:15] <bvssvni> haha
[05:15:31] * ChrisMorgan flees in terror
[05:15:38] * dbaupp scolds bvssvni
[05:15:40] <ChrisMorgan> s/terror/abject &/
[05:15:43] * cmr ̿ ̿ ̿'̿'\̵͇̿̿\з=(•_•)=ε/̵͇̿̿/'̿'̿ ̿
[05:15:46] <cmr> whoops
[05:15:51] <cmr> seems I dun broke my terminal
[05:15:56] <cmr> http://unicodeemoticons.com/ is fun
[05:16:00] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[05:16:38] <dbaupp> cmr: what was the slide you skipped?
[05:16:54] <cmr> dbaupp: sec will upload slides
[05:17:26] <diverse> yay, table flippin'
[05:18:38] <cmr> dbaupp: http://www.slideshare.net/CoreyRichardson1/bay-area-rust-12914
[05:18:47] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[05:18:50] <xales> dbaupp: spoiler: it's a picture of cmr eating his delicious cake
[05:18:57] <cmr> nah I left out that one
[05:22:59] <dbaupp> cmr: cool
[05:23:18] *** Quits: new_one (new_one@17378071.1DCBF251.B3C0173E.IP) (Client exited)
[05:23:40] *** Joins: Jesin (Jesin@moz-27D112BD.cc.lehigh.edu)
[05:25:45] <cmr> dbaupp: if I had more time I was going to show code and talk about its reception by my professors and peers.
[05:26:52] <dbaupp> cmr: can you talk about it anyway? (e.g. a blogpost?)
[05:27:05] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:27:34] <cmr> dbaupp: I'll add it to the list!
[05:29:57] <Jesin> Is there a heap or other priority queue in the standard library?
[05:30:11] <Jesin> ...never mind, just found it in "extra"
[05:30:50] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[05:31:18] <dbaupp> cmr: if you didn't spend so much time baking rust cakes, you'd have time for all this blogging! :P
[05:31:22] *** Quits: ecr (chatzilla@E940BDD3.FBC7597F.11F8506F.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131205075310])
[05:31:27] <cmr> dbaupp: or all this damn schoolwork
[05:31:54] <dbaupp> you mean you're still doing schoolwork when there's Rust to do?? utter madness
[05:33:41] <xales> he spawns a second task to do the schoolwork, so he can continue to Rust in another thread; have witnessed
[05:34:14] *** Joins: fyolnish (fyolnish@moz-6E5FD6D8.uqwimax.jp)
[05:35:32] <dbaupp> hahaha
[05:35:38] <dbaupp> lucky we don't have linked failure any more, or the schoolwork failing would stop Rust happening
[05:36:16] <Yurume> is libnative stable enough for casual uses? 
[05:36:24] <cmr> Yurume: From experience, yes.
[05:36:31] <dbaupp> yes, assuming you're not trying to use one of the unimplemented things
[05:36:43] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[05:36:59] <Yurume> is the #[start] shim required for the use of libnative?
[05:37:09] <dbaupp> yes
[05:37:25] <Yurume> hmm
[05:37:35] <dbaupp> #[start] fn main(argc: int, argv: **i8) -> int { native::start(argc, argv, proc() { ... }) }
[05:37:49] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:38:13] <Yurume> I have a problem with libnative, in that the scheduler somehow faults during unwind
[05:38:26] <cmr> libnative doesn't have a scheduler
[05:38:45] <Yurume> the scheduler? well, it faulted during sleep call
[05:39:20] <dbaupp> as in segfaulted?
[05:39:28] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[05:40:19] <Yurume> dbaupp: no, it actually aborted (as in std::rt::util::abort)
[05:40:36] <dbaupp> oh
[05:40:42] <Yurume> what I was using for sleep call is std::io::timer::sleep by the way
[05:40:51] <dbaupp> oh, I think that may be unimplemented...
[05:40:58] <Yurume> oh?
[05:40:59] <cmr> it's implemented now, wasn't in the past
[05:41:01] <dbaupp> (but with libnative std::libc::sleep works fine.)
[05:41:14] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[05:41:15] <dbaupp> oh, cool. what rustc do you have Yurume?
[05:41:31] <Yurume> the most recent nightly, though it's now an week away from the master.
[05:41:53] <Yurume> guess I should update it first :p
[05:42:18] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[05:42:27] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[05:44:07] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[05:45:45] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:47:27] <tedh> don't forget #[no_uv] as well
[05:47:48] <mcpherrin> great meetup everyone!
[05:48:32] <dbaupp> tedh: I'm not sure that's necessarily when you're explicitly starting under native with native::start
[05:48:57] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:50:28] *** Joins: montezuma (Mibbit@moz-AE55F4BE.cat.csiro.au)
[05:50:55] <Jesin> What's the equivalent of C++'s std::pair or Haskell's (,) ?
[05:51:08] <Yurume> (|a,b| (a,b))?
[05:51:10] *** Joins: dherman (dherman@moz-43007D02.lightspeed.sntcca.sbcglobal.net)
[05:51:10] *** ChanServ sets mode: +ao dherman dherman
[05:51:18] <tedh> ok, just thought i remembered that timers were implemeted through libuv for green threads
[05:51:21] <Yurume> (I think you mean the tuple constructor...)
[05:51:59] <Jesin> Yurume: alright, thanks
[05:52:25] *** Joins: tjc (tjc@E81F271B.CB3251F2.284344F5.IP)
[05:52:25] *** ChanServ sets mode: +o tjc
[05:52:41] <dbaupp> tedh: yeah, libgreen is essentially entirely implemented with libuv; in theory libnative has native implementations of all that functionality
[05:53:05] <dbaupp> (just using libc, the OS and Rust code, no external libs.)
[05:53:55] <tedh> makes sense
[05:54:27] <montezuma> hi all, is it ok to ask beginner-ish questions here?
[05:54:51] <dbaupp> yes
[05:54:52] <Jesin> by the way, what's the difference between Rc and "@"?
[05:55:05] <Yurume> you need... lots of borrow() at the moment.
[05:55:10] <dbaupp> Jesin: @ is a deprecated "garbage collected" pointer
[05:55:18] <Jesin> deprecated
[05:55:34] <dbaupp> (it's not actually GC'd, it's a worse reference counting implementation than Rc.)
[05:55:38] <Yurume> yeah, you should use Rc or Gc instead of @.
[05:55:43] <Jesin> alright, thanks
[05:55:47] <dbaupp> preferably Rc at this point
[05:55:52] <Jesin> was "@" supposed to be sendable, by the way?
[05:56:01] <dbaupp> Gc isn't GC'd either
[05:56:05] <dbaupp> no, it's not sendable by design
[05:56:09] <Jesin> alright
[05:56:10] *** Quits: sellout (Adium@moz-CF70CF20.hlrn.qwest.net) (Ping timeout)
[05:56:16] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[05:56:23] <dbaupp> the (yet-to-be-implemented) GC is thread local
[05:56:32] <Jesin> it looks like extra::list still uses "@"?
[05:56:59] <dbaupp> so does a lot of the compiler
[05:57:15] <dbaupp> it's just hard/annoying work to migrate away from it
[05:57:27] <Jesin> all right then...
[05:57:31] *** Joins: victorporof (victorporo@8699B38F.D32F224B.9B1E38F4.IP)
[05:57:38] *** Joins: benjamin_ (benjamin@moz-6B99C868.dip0.t-ipconnect.de)
[05:57:45] <Jesin> I suppose Rc and "@" are not really interoperable
[05:57:46] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Client exited)
[05:58:17] <montezuma> I'm writing a simple tcp server and am handling accepted-clients with a "do task::try", but I don't know how to get the outer TcpStream into the task as a mutable variable. Is there a way to move it into the task?
[05:58:35] <dbaupp> Jesin: yeah, Rc has move semantics, and requires explicit dereferencing, while @ has neither
[05:58:37] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:58:43] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[05:58:45] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[05:58:47] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[05:58:58] <dbaupp> (we'll be getting compiler functionality that removes the need for dereferencing, hopefully.)
[05:59:19] <dbaupp> montezuma: you're getting an error about not being able to capture mutable variables?
[05:59:38] <montezuma> yes
[05:59:56] <montezuma> "cannot borrow immutable captured outer variable in a heap closure as mutable"
[06:00:10] <dbaupp> let stream = stream; try { let mut stream = stream; }
[06:00:19] <dbaupp> to freeze and then thaw it
[06:00:19] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:00:28] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[06:00:31] <dbaupp> or, update to master; because this bug has been fixed there
[06:01:03] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:01:25] <montezuma> oh cool, thanks
[06:02:02] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[06:03:39] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[06:03:41] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[06:07:46] *** kvanb is now known as Guus1
[06:10:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:14:27] *** Quits: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[06:14:34] *** Joins: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[06:15:52] *** Quits: Erik_ (Erik_S@moz-E7E31D21.hlrn.qwest.net) (Ping timeout)
[06:16:01] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[06:17:39] <skrylar> hrmm
[06:17:50] <skrylar> "source code was requested to be rendered, but `<std macros`> is missing source file.
[06:18:18] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[06:20:18] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[06:21:08] *** Joins: sellout (Adium@moz-CF70CF20.hlrn.qwest.net)
[06:25:22] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:25:43] *** Quits: tjc (tjc@E81F271B.CB3251F2.284344F5.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:27:17] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:27:53] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[06:28:21] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[06:28:45] <montezuma> its not a big deal to hit segmentation faults in rust-0.9 is it?
[06:28:54] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:29:04] *** Joins: tjc (tjc@E81F271B.CB3251F2.284344F5.IP)
[06:29:04] *** ChanServ sets mode: +o tjc
[06:29:23] <bytbox> montezuma: it wouldn't be surprising, but it's certainly the most important class of bug
[06:29:34] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:30:03] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[06:30:08] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[06:31:19] <ChrisMorgan> montezuma: it's distinctly unusual. Can you post your code and (ideally) the particular place where it segfaults?
[06:31:48] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[06:31:50] *** Quits: ntp (rest@moz-5E7DF880.cpe.net.cable.rogers.com) (Ping timeout)
[06:32:50] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[06:33:39] <montezuma> yeh ok one sec
[06:36:23] <Jesin> How do I get a single item out of a tuple?
[06:36:41] <dbaupp> let (_, _, a, _) = my_tuple;
[06:36:49] <dbaupp> or my_tuple.n2()
[06:36:53] <montezuma> http://pastebin.com/raw.php?i=NM2Tn6C4 that's the code that was segfaulting, then I realised I accidentally put the thaw inside the loop, once I shifted it out, the segfault went away
[06:37:13] <dbaupp> (we've defined .n0, .. .n11, iirc.)
[06:37:40] *** Quits: ssira_ (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[06:38:06] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[06:38:29] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:38:36] *** Joins: Ferreus (ferreus@moz-7AF6F2E8.dip0.t-ipconnect.de)
[06:38:41] <dbaupp> rusti: let mut a = ~1; a = a; a
[06:38:43] -rusti- ~1
[06:38:53] <dbaupp> oh, that doesn't segfault anymore?
[06:39:36] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Ping timeout)
[06:39:56] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[06:40:09] *** Joins: skade (skade@moz-B73EE4D5.pools.arcor-ip.net)
[06:41:09] <montezuma> ChrisMorgan: oops forgot to use your nick
[06:41:14] <Jesin> http://static.rust-lang.org/doc/0.9/extra/priority_queue/struct.PriorityQueue.html what's the difference between reserve and reserve_at_least ?
[06:41:33] <Eridius> jack: I hadn't seen rust-png before, but it looks like you have direct control over setjmp/longjmp. The problem with rust-lua is I don't
[06:41:58] <Eridius> jack: at best I could try establishing a new protected scope around every single lua call, but the problem is doing that may itself throw an error (because it requires ensuring there's stack space, which may fail)
[06:42:02] *** Quits: heftig (heftig@moz-3C93FFDA.dip0.t-ipconnect.de) (Quit: Quitting)
[06:42:36] <Yurume> Jesin: reserve reserves exactly given amount of memory, reserve_at_least may reserve some more in order to amortize the memory reallocation due to push() etc.
[06:42:48] <Yurume> you normally have to use reserve_at_least.
[06:42:52] <Jesin> alright
[06:43:09] * dbaupp thinks they should be renamed .reserve_exact and .reserve
[06:43:14] <dbaupp> (PRs accepted.)
[06:43:40] <Yurume> .reserve_no_more
[06:44:50] <diverse> .reserve_because_this_method_is_not_verbose_enough
[06:45:10] <Eridius> .you_shall_not_reserve_more
[06:45:31] <dbaupp> .allocate_enough_memory_to_hold_at_least_this_many_elements_which_is_an_operation_that_some_might_call_reserve
[06:45:46] * dbaupp enterprise!
[06:47:15] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[06:47:51] <Jesin> * dbaupp thinks they should be renamed .reserve_exact and .reserve
[06:47:51] <Jesin> agree
[06:48:27] *** Joins: fabiand (fabiand@moz-541CD52.adsl.alicedsl.de)
[06:48:50] <dbaupp> I'm serious about such a PR, it should be fairly easy; I don't imagine anything outside extra::priority_queue uses either of the .reserve's.
[06:49:08] <dbaupp> (for bonus points: do the same rename to vectors if they have that problem.)
[06:49:54] <diverse> dbaupp: go for it
[06:50:20] <Jesin> by the way, someTuple.n2() etc should be inlined to the extent that "let x = someTuple.n2();" and referring to x costs no more than just calling the method, at least when someTuple is a local variable instead of a reference/owned-pointer, right?
[06:50:34] * dbaupp would prefer to leave it for a new(er) contributor
[06:50:40] <Jesin> PR=?
[06:50:45] <dbaupp> Jesin: yes, with optimisations it should be very cheap
[06:50:50] <dbaupp> Jesin: pull request
[06:50:56] <Jesin> yay
[06:51:19] <dbaupp> (not even the cost of a method call)
[06:52:54] <Jesin> ideally it'd be cheap enough that it could just get kept in the registers; I know accesses to members of local structs in C can do that with GCC
[06:53:10] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[06:53:26] <dbaupp> yes, it probably is
[06:53:34] <dbaupp> (for tuples with small elements)
[06:53:34] *** Quits: aperos (Mibbit@moz-1689688F.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:56:15] *** Quits: Guus1 (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au) (Quit: Guus1)
[06:56:41] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:58:01] *** Joins: amir (amir@moz-49060BB9.cust.bluewin.ch)
[06:58:11] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:58:54] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[06:59:19] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[06:59:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:00:49] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[07:01:05] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[07:01:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:01:30] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:01:36] <Jesin> rusti: loop { break 3; }
[07:01:37] -rusti- <anon>:10:22: 10:23 error: expected one of `;`, `}` but found `3`
[07:01:37] -rusti- <anon>:10         loop { break 3; }
[07:01:37] -rusti-                                ^
[07:01:38] -rusti- application terminated with error code 101
[07:01:52] <Jesin> rusti: loop { break; }
[07:01:53] -rusti- ()
[07:02:35] <Jesin> it'd be interesting to allow loops to have a value.  Not saying it should happen, but I think it should be considered.
[07:02:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:03:33] <diverse> rusti: loop { return 1; break; }
[07:03:33] -rusti- <anon>:10:23: 10:24 error: mismatched types: expected `()` but found `<generic integer #0>` (expected () but found integral variable)
[07:03:33] -rusti- <anon>:10         loop { return 1; break; }
[07:03:33] -rusti-                                 ^
[07:03:33] -rusti- error: aborting due to previous error
[07:03:34] -rusti- application terminated with error code 101
[07:05:11] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[07:06:46] *** Quits: dbaupp (Thunderbir@32742E97.D5A1DCF.37681C44.IP) (Ping timeout)
[07:07:32] <jasom> Anyone have a link to how enum-types work?  I just changed a container from taking type T to type Option<T> and found no memory overhead of doing so and was somewhat surprised about that
[07:07:51] <diverse> Jesin: you mean like loop { return foo; } ?
[07:08:13] <skrylar> cmr: i tried a few clean build and install... it still can't find libstd :\
[07:08:20] *** Quits: Gracenotes (person@EBE65A41.2EC0B472.9510F13D.IP) (Ping timeout)
[07:08:20] *** Quits: dforsyth (dforsyth@A677A619.1C765EF.EE6E63A5.IP) (Ping timeout)
[07:08:21] <skrylar> putting in a -L causes it to breka
[07:08:23] *** Quits: sfackler (sfackler@moz-AEECCEBA.com) (Ping timeout)
[07:08:29] *** Quits: photex (photex@399640B9.24E301D6.9510F13D.IP) (Ping timeout)
[07:08:37] *** Quits: phil (phil@684D2576.37BA1B1C.20F09BA6.IP) (Ping timeout)
[07:10:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:11:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:12:25] <skrylar> meh, too much bother
[07:12:40] <skrylar> i'll just see if my working 0.9 is still around, because the 0.10 is just blowing up in my face
[07:12:50] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:13:01] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:14:58] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[07:15:03] <eddyb> o_O github's UI is... diffferent
[07:15:33] <mcpherrin> jasom: For certain T, Option<T> is the same size as T
[07:15:49] <eddyb> mcpherrin: s/certain/non-nullable pointers/
[07:15:49] <Yurume> jasom: Option<~T>, for example, would have the same size as ~T.
[07:16:19] <Yurume> (since Rust's ~T is a pointer in disguise and cannot be NULL...)
[07:16:24] <mcpherrin> eddyb: Well for now, but ideally the optimization could be expanded ;-)
[07:16:32] <eddyb> mcpherrin: to what?
[07:16:36] <mcpherrin> eg, for u31
[07:16:44] <Yurume> eddyb: (~T,~T)
[07:16:52] <mcpherrin> Or Option<f32>
[07:16:55] <Yurume> AFAIK Option<(~T,~T)> does not optimize
[07:17:00] <mcpherrin> or any other type where the compiler can steal a byte
[07:17:04] <eddyb> mcpherrin: u31 is one bit shorter than u32
[07:17:06] <mcpherrin> bit*
[07:17:11] <Yurume> mcpherrin: Option<char>?
[07:17:16] <eddyb> hmm
[07:17:29] <mcpherrin> eddyb: right but rust types are all byte sized
[07:17:47] <eddyb> I guess anything with a range assert can use out-of-range values for Option
[07:18:04] <Yurume> u31 would be an explicit way to request the tagged pointer etc.
[07:18:28] <eddyb> like Option<AnotherEnum> could always be the same size as AnotherEnum
[07:18:40] <mcpherrin> Or even something like u24
[07:18:54] <mcpherrin> and allowing multiple enum variants in the byte gained
[07:19:24] <Jesin> can a struct be defined inside a function body, if it is only used inside that function?
[07:19:24] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[07:19:25] <Yurume> mcpherrin: beware, u24 should have a wildly different alignment in that case
[07:19:30] <Yurume> Jesin: yes!
[07:20:08] *** Joins: photex (photex@399640B9.24E301D6.9510F13D.IP)
[07:20:10] <mcpherrin> Yurume: of course there are gotchas and you have to be aware of such issues, but I am certain it could be made to work :)
[07:20:23] *** Joins: phil (phil@684D2576.37BA1B1C.20F09BA6.IP)
[07:20:36] <eddyb> Jesin: in any block/item "scope", for that matter
[07:20:44] <mcpherrin> Yurume: In particular, a u24 is a u32 with the top bits all zero
[07:21:03] <mcpherrin> s24 it's all zero or all one, depending on sign
[07:21:13] <diverse> we have a u24?
[07:21:19] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:21:20] <Yurume> mcpherrin: ah, in that case it would be fine... but disgusting :p
[07:21:21] *** Quits: dherman (dherman@moz-43007D02.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[07:21:22] *** Joins: decode__ (agoforth@moz-54C901D1.pool.mediaways.net)
[07:21:22] <mcpherrin> diverse: no, but I'm saying it could in theory exist
[07:21:32] <mcpherrin> Yurume: well that's why I want the compiler to hide it :-)
[07:21:57] <eddyb> LLVM supports arbitrarily sized integers, but they're not all guaranteed to work
[07:22:14] <mcpherrin> eddyb: I am thinking you wouldn't want to use LLVM's 24 bit integer support probably
[07:22:18] *** Quits: agoforth (agoforth@moz-860DB7A3.pool.mediaways.net) (Ping timeout)
[07:22:24] <Yurume> Option<char> might actually be a good optimization example
[07:22:46] <Yurume> heck, even Result<char,char> can be optimized in that case
[07:22:48] <mcpherrin> Yurume: yeah, you could.  Use an invalid codepoint
[07:22:59] <eddyb> Yurume: we output range asserts for things like enum tags, and maybe even chars
[07:23:13] <Yurume> yeah, that's an idea
[07:23:14] <mcpherrin> I don't think saving bytes here and there is worth it at this point in Rust's progress though
[07:23:30] <mcpherrin> Option<~T> is the important and well-defined case :-)
[07:23:31] <eddyb> Yurume: s/asserts/metadata/. anyways, we already know that some things don't use all possible values
[07:23:48] <eddyb> mcpherrin: also Option<&T>
[07:23:50] <jasom> So Option<u32> is definitely going to be bigger; that maeks sense
[07:23:54] *** Joins: kvanb (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au)
[07:24:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:24:05] <jasom> well, what about u32 on 64-bit targets?
[07:24:09] <Yurume> I think graydon actually mentioned the optimizability of Result<~T,~E> with a differing LSB
[07:24:43] <eddyb> Yurume: only if you ensure alignment of the allocation
[07:25:01] <eddyb> Yurume: well, no, that could work in any case if the T and E have at least a certain alignment
[07:25:38] *** Joins: Gracenotes (person@EBE65A41.2EC0B472.9510F13D.IP)
[07:25:53] <jasom> I may switch back to requiring the type stored have a zero then and not use Option (you can always use Option to get a zero if you choose)
[07:25:55] <eddyb> Yurume: about before, pretty sure trans::adt can be modified to use the ranges it already knows to pack more ranged stuff in the same data
[07:26:00] <montezuma> rusti: return 1;
[07:26:02] -rusti- pastebinned 11 lines of output: http://ix.io/aaM
[07:26:31] <eddyb> Option<Ranged<u32, 1, MAX_U32>> pls
[07:26:49] <Yurume> oh, well.
[07:27:03] <eddyb> we need generics over numbers, then that's totally possible to optimize
[07:27:13] <Yurume> u32 @ 1..MAX_U32
[07:27:29] <mcpherrin> That would be nice but it's pretty clearly out of 1.0 scope :-)
[07:27:31] <Yurume> hmm, it would not work with more general cases
[07:27:32] <Yurume> lol
[07:27:38] <mcpherrin> possibly worringly complex too
[07:27:41] <Yurume> yeah, bikeshedding is fun!
[07:27:50] <eddyb> I guess we can have NonZero<T> for now. that you can only transmute to, so you need to implement it with unsafe code
[07:28:14] <montezuma> rusti: let x: [int, ..10] = [0, ..10]; x.slice_to(10).len()
[07:28:15] -rusti- 10u
[07:28:29] <eddyb> NonZero<*T> would be very helpful for Rc, btw
[07:28:29] <diverse> BikeShed<T>
[07:29:04] <montezuma> slice_to "Fails when end points outside the bounds of self."
[07:29:27] <Yurume> *nullable T
[07:29:28] <diverse> rusti: let x: [int, ..10] = [0, ..10]; x.slice_to(9).len()
[07:29:29] -rusti- 9u
[07:29:39] <Yurume> *nonnullable T*
[07:29:43] <montezuma> isn't the index 10 outside the bounds of x
[07:29:58] <Yurume> montezuma: it's exclusive.
[07:30:22] <Yurume> so you are slicing from 0 (inclusive) to 10 (exclusive)
[07:30:25] <Yurume> which is just fine
[07:30:41] <montezuma> thats fine, but the description makes it sound inclusive
[07:30:42] *** Joins: dherman (dherman@moz-7C0F2A50.mycingular.net)
[07:30:42] *** ChanServ sets mode: +ao dherman dherman
[07:30:53] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[07:31:03] <eddyb> montezuma: yeah, the wording could be fixed
[07:31:03] <mcpherrin> rustilite: let x: [int, ..10] = [0, ..10]; x.slice_to(12).len()
[07:31:03] -rustilite- <anon>:1:1: 1:4 error: expected item but found `let`
[07:31:03] -rustilite- <anon>:1 let x: [int, ..10] = [0, ..10]; x.slice_to(12).len()
[07:31:03] -rustilite-          ^~~
[07:31:03] -rustilite- application terminated with error code 101
[07:31:12] <mcpherrin> rusti: let x: [int, ..10] = [0, ..10]; x.slice_to(12).len()
[07:31:13] -rusti- task '<main>' failed at 'assertion failed: end <= self.len()', /home/strcat/projects/rust/src/libstd/vec.rs:1033
[07:31:14] -rusti- application terminated with error code 101
[07:31:41] <eddyb> it fails when end is past the length, not just outside the bounds
[07:32:20] <diverse> rusti: let x: [int, ..10] = [0, ..10]; x.slice_to(10)
[07:32:23] -rusti- pastebinned 16 lines of output: http://ix.io/aaP
[07:32:34] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[07:33:04] <diverse> rusti: let x: [int, ..10] = [0, ..10]; x.slice_to(9)
[07:33:07] -rusti- pastebinned 16 lines of output: http://ix.io/aaQ
[07:35:02] <Yurume> rusti: let x: [int, ..10] = [0, ..10]; println!("{:?}", x.slice_to(9));
[07:35:06] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[07:35:15] <Yurume> ugh.
[07:35:21] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[07:35:56] *** pmoore|away is now known as pmoore
[07:36:45] <diverse> rusti: let x: [int, ..10] = [0, ..10]; println!("{:?}", x.slice_to(9))
[07:36:46] -rusti- &[0, 0, 0, 0, 0, 0, 0, 0, 0]
[07:36:46] -rusti- ()
[07:36:59] <diverse> rusti: let x: [int, ..10] = [0, ..10]; println!("{:?}", x.slice_to(10))
[07:37:01] -rusti- &[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[07:37:01] -rusti- ()
[07:37:55] <diverse> okay, so it's slice to nth elements
[07:38:43] *** Quits: skade (skade@moz-B73EE4D5.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:39:13] *** Joins: dforsyth (dforsyth@A677A619.1C765EF.EE6E63A5.IP)
[07:39:38] *** Joins: sfackler (sfackler@moz-AEECCEBA.com)
[07:41:15] *** Joins: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP)
[07:41:36] *** Joins: dbaupp (dbaupp@moz-F02A4128.pa.nsw.optusnet.com.au)
[07:42:10] *** Quits: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP) (Input/output error)
[07:42:25] *** Joins: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com)
[07:42:32] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[07:43:03] <dbaupp> we already output range metadata for enums aiui (hence transmuting general integers to an enum is a really bad idea, unless you're *sure* its valid)
[07:43:11] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[07:43:36] <dbaupp> and, iirc, extra::json is the only thing stopping us from putting range asserts on char
[07:43:55] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:44:00] <eddyb> let's put range asserts and see if they break tests. and fix extra::json after
[07:44:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[07:44:55] <dbaupp> strcat tried it; it does break things.
[07:45:30] <marc_> https://air.mozilla.org/rust-meetup-january-2014/ - is this available for viewing after the fact? Stuck on loading for me.
[07:45:39] *** Quits: kvanb (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au) (Quit: kvanb)
[07:45:47] *** Quits: Tari (tari@moz-1713FB27.mtu.edu) (Ping timeout)
[07:47:04] *** flaper87|afk is now known as flaper87
[07:48:14] *** Quits: dbaupp (dbaupp@moz-F02A4128.pa.nsw.optusnet.com.au) (Client exited)
[07:49:17] *** Quits: tjc (tjc@E81F271B.CB3251F2.284344F5.IP) (Quit: Textual IRC Client: www.textualapp.com)
[07:49:24] *** Quits: amir (amir@moz-49060BB9.cust.bluewin.ch) (Ping timeout)
[07:50:11] *** Quits: montezuma (Mibbit@moz-AE55F4BE.cat.csiro.au) (Quit: http://www.mibbit.com ajax IRC Client)
[07:50:57] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[07:51:10] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
[07:55:38] *** Joins: Tari (tari@moz-36ED7575.lug.mtu.edu)
[07:56:46] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: TNorthover ftw)
[07:57:25] *** Joins: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net)
[07:58:41] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:59:54] *** Joins: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de)
[08:00:39] *** Quits: lpy (lpy@9248CA04.F930CE91.65042015.IP) (Ping timeout)
[08:00:41] *** Joins: lpy_ (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[08:00:53] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[08:01:53] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:02:01] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[08:02:23] *** Joins: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net)
[08:03:34] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:03:35] *** Quits: Tari (tari@moz-36ED7575.lug.mtu.edu) (Ping timeout)
[08:03:48] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:05:30] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[08:07:05] *** Joins: tq (tq@moz-632DBD9.ad.umu.se)
[08:08:52] *** Quits: benjamin_ (benjamin@moz-6B99C868.dip0.t-ipconnect.de) (Client exited)
[08:10:29] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[08:11:47] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[08:12:30] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:13:28] *** Joins: Tari (tari@moz-36ED7575.lug.mtu.edu)
[08:15:14] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[08:16:18] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[08:16:37] *** Joins: Ms2ger (Ms2ger@moz-EF1E89E8.adsl-dyn.isp.belgacom.be)
[08:16:49] *** Joins: lenstr (lenstr@C3391098.9636F313.7A27613B.IP)
[08:18:30] *** Joins: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[08:18:56] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Quit: Leaving)
[08:19:03] *** jorendorff is now known as jorendorff_away
[08:22:36] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[08:24:01] *** jorendorff_away is now known as jorendorff
[08:24:56] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[08:26:13] *** Joins: kvanb (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au)
[08:27:38] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:26] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:56] *** Joins: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr)
[08:31:07] <Zr40> rusti: let x = 5; ref x
[08:31:55] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[08:32:41] <Zr40> hm, rusti's gone
[08:32:44] *** jorendorff is now known as jorendorff_away
[08:32:48] <eddyb> Zr40: ref is not an operator, but a pattern match binding mode
[08:33:01] <bascule> irust.rs:13:19: 13:22 error: found `ref` in ident position
[08:33:08] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Client exited)
[08:33:24] <nrc> how do I avoid getting submodule updates in my git commits?
[08:33:29] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[08:33:36] <eddyb> nrc: git gui
[08:33:38] <Zr40> eddyb: I see. I was wondering when you'd use ref
[08:33:45] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[08:33:57] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:34:09] <eddyb> nrc: lets you control which files you commit, which diff chunks, or even which diff lines
[08:34:47] <eddyb> Zr40: when you don't want/can't copy/move the value out of the pattern, ref gives you the option to take its address instead
[08:34:57] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[08:35:03] <nrc> eddyb sounds interesting...
[08:35:18] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Ping timeout)
[08:35:20] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:35:41] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[08:36:06] <eddyb> might be a recent feature, but it does let you know the progress of a rebase, and it's easier to control it than with just git add
[08:36:52] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[08:36:56] <Zr40> eddyb: is that different than using &x in the pattern?
[08:37:09] <eddyb> Zr40: &x strips a reference, instead of adding one
[08:37:35] <eddyb> nrc: and gitk if you need to browse the local commit history and whatnot
[08:37:43] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[08:37:45] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[08:37:51] <Ms2ger> nrc, or git add -p
[08:38:44] <eddyb> Ms2ger: yeah, well, git gui just works better, as long as you have X :P
[08:40:07] <eddyb> I *might* have been abusing it to easily update my commits and force push, so if I mentioned an issue in the commit message, there's twenty commit links on the issue's page
[08:40:20] <nrc> add -p didn't work - no changes found :-(
[08:40:26] <nrc> trying git gui now...
[08:40:30] <Jesin> Have any bugs in PriorityQueue been found since 0.9?
[08:40:49] <eddyb> Jesin: look at the git history for the file it's in
[08:41:47] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:42:12] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[08:42:28] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[08:43:06] <eddyb> Jesin: https://github.com/mozilla/rust/commits/master/src/libextra/priority_queue.rs
[08:43:31] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[08:43:55] <eddyb> Jesin: so... not really
[08:43:58] <Jesin> alright, then
[08:44:15] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:44:26] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:44:33] <Jesin> I have a problem, because http://ix.io/aaX is printing "NOOO!" a lot (see line 25)
[08:44:34] *** pmoore is now known as pmoore|assembling-new-desk
[08:45:05] *** Quits: kvanb (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au) (Quit: kvanb)
[08:45:14] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[08:45:20] <eddyb> Jesin: bah, gists are betters for lines and highlighting and you're using hard tabs >_>
[08:45:24] *** Quits: cmn (cmn@F364B4DA.693F011D.752E29CE.IP) (Client exited)
[08:45:53] <eddyb> Jesin: is it incorrect algorithmic behavior?
[08:46:19] <eddyb> wait, you popped the top and it's still there?
[08:46:25] <Jesin> yep
[08:46:37] <eddyb> hah, that's interesting
[08:46:48] <Jesin> I suppose I do push the same item more than once
[08:47:03] <eddyb> ...
[08:47:06] <Jesin> so if it intentionally stores duplicates
[08:47:18] <Jesin> that would explain it
[08:47:28] <eddyb> Jesin: https://github.com/mozilla/rust/blob/master/src/libextra/priority_queue.rs there is no mention of "Eq"
[08:48:06] <Jesin> alright
[08:48:33] <eddyb> having extra comparisons would be pricey... maybe we need to document the potentially non-obvious duplicate behavior
[08:49:03] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:50:47] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[08:52:07] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:52:29] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:53:01] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[08:53:48] * eddyb is (again) surprised how simple some data structures can be in Rust
[08:54:22] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:54:42] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[08:54:47] *** Quits: telotortium (rmi1@moz-4B394DB7.hsd1.ca.comcast.net) (Quit: telotortium)
[08:55:54] <skrylar> woot, hooray for bisect
[08:56:14] * skrylar now has a 0.10-pre that is actually usable \o/
[08:56:24] <Jesin> eddyb: I'd actually prefer you include a "push_unique" (or whatever name) method, that pushes an item iff it is not already in the PriorityQueue
[08:56:27] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[08:56:56] <eddyb> Jesin: you can extend PriorityQueue yourself :)
[08:57:09] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:57:20] *** Joins: nkoep (nik@moz-4FB3D06.pool.mediaways.net)
[08:57:21] <c-a> Jesin, I don't think you can implement that efficiently
[08:57:24] <Jesin> actually, do heaps allow that?
[08:57:26] <Jesin> alright.
[08:57:51] <skrylar> you'd have to check the queue to see ifit was already in
[08:58:00] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[08:59:44] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[08:59:46] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[09:00:18] *** Quits: FreeFull (freefull@moz-272EA536.as13285.net) (Quit: )
[09:00:22] *** Quits: elyzion (elyzion@moz-D4AAE1FD.ap122.ftth.ucom.ne.jp) (Quit: Lost terminal)
[09:01:37] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[09:02:10] *** Joins: Rui (rui@21A82F9E.37422B4.8368921A.IP)
[09:02:25] *** Quits: Rui (rui@21A82F9E.37422B4.8368921A.IP) (Quit: )
[09:02:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:04:18] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:04:33] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[09:04:47] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[09:04:53] <Jesin> perhaps I should use a treemap instead
[09:05:11] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:05:15] * skrylar headscratches at unreachable patterns in TryRecvResult
[09:05:52] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[09:05:53] *** Quits: future_horizons (Mibbit@D43271B6.278C2F23.97BBD552.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:06:46] <skrylar> I guess that enum doesn't make its variants public directly in this build, because if i add std::comm:: before each arm of the match it works
[09:08:10] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:08:23] *** Joins: rca (rcatolino@moz-27E0D9CF.adsl.proxad.net)
[09:08:47] <Ms2ger> Yep
[09:09:05] <Ms2ger> Basically, the name you're using is treated as a variable binding
[09:12:30] *** Quits: dherman (dherman@moz-7C0F2A50.mycingular.net) (Quit: dherman)
[09:13:01] <Jesin> http://static.rust-lang.org/doc/0.9/extra/treemap/struct.TreeSet.html Why does iter "Requires that it be frozen (immutable)." ?
[09:13:29] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:14:34] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[09:15:10] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:15:50] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[09:16:03] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Client exited)
[09:17:33] *** Quits: lpy_ (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Client exited)
[09:21:07] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[09:21:13] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[09:22:18] *** Joins: kvanb (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au)
[09:22:33] *** Quits: kvanb (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au) (Quit: kvanb)
[09:22:56] *** Joins: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de)
[09:23:00] *** pmoore|assembling-new-desk is now known as pmoore
[09:26:25] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[09:26:29] *** Quits: Tari (tari@moz-36ED7575.lug.mtu.edu) (Ping timeout)
[09:27:48] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:28:00] *** Joins: Tari (tari@moz-36ED7575.lug.mtu.edu)
[09:28:21] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[09:30:01] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[09:30:22] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:30:31] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[09:32:08] <kimundi> Jesin: It's just the way immutable references work
[09:32:50] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:34:14] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[09:35:57] *** Quits: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[09:35:59] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[09:36:37] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[09:36:37] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Max SendQ exceeded)
[09:37:03] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[09:37:30] <andor> how do i get around #10617 on 0.9? the proposed "let mut x = x;" doesn't seem to help
[09:41:08] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Input/output error)
[09:41:17] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[09:41:37] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[09:43:51] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:45:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[09:45:32] *** Quits: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de) (Input/output error)
[09:45:44] *** Joins: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de)
[09:45:54] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[09:46:25] *** Joins: zakora (NC@moz-28181BF.fbx.proxad.net)
[09:47:11] *** Quits: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de) (Input/output error)
[09:47:26] *** Joins: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de)
[09:47:38] *** Quits: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de) (Ping timeout)
[09:47:56] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[09:48:27] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:50:12] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[09:52:18] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Quit: Leaving...)
[09:52:20] *** Quits: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de) (Input/output error)
[09:52:49] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:52:58] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[09:53:09] *** Joins: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de)
[09:53:45] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[09:54:29] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:57:11] <kimundi> andor: For what #10617 describes, let mut x = x; is the right solution and ought to work, even on 0.9
[09:57:15] *** Quits: lenstr (lenstr@C3391098.9636F313.7A27613B.IP) (Quit: Leaving...)
[09:57:34] <eddyb> dbaupp: https://gist.github.com/eddyb/3a233c4709018e92b866
[09:58:10] *** Joins: lenstr (lenstr@C3391098.9636F313.7A27613B.IP)
[09:59:26] <eddyb> though it doesn't seem to work
[10:00:06] <andor> kimundi: http://kib2.free.fr/pastebin/view_paste.php?id=184 gets me 
[10:00:08] <andor> netserv.rs:17:21: 17:27 error: mutable variables cannot be implicitly captured
[10:00:10] <andor> netserv.rs:17    let mut stream = stream;
[10:00:47] <kimundi> andor: Heh, remove the "mut" from the first line :)
[10:01:21] <andor> kimundi: oh. huh, i see, thanks
[10:01:30] *** Joins: kspaans (kspaans@moz-21D6B3DE.csclub.uwaterloo.ca)
[10:01:53] <andor> how does that make sense though? moving an immutable value into a mutable one?
[10:02:16] <kimundi> #10617 is about the fact that proc forbids _moving_ mutable variables into it - and the solution is to move a immutable variable into it and then rebind it as mutable.
[10:02:23] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[10:02:25] <kimundi> andor: Its how moving a value works in Rust
[10:02:35] <kimundi> andor: You can freeeze and thaw it at will
[10:03:05] <kimundi> rusti: let x = ~5u; let mut y = x; let z = y; let mut a = z; let b = a; b
[10:03:11] -rusti- pastebinned 7 lines of output: http://ix.io/ab0
[10:03:36] <kimundi> ^ That works, if you look at the pastebin :)
[10:03:48] *** Parts: kspaans (kspaans@moz-21D6B3DE.csclub.uwaterloo.ca) ()
[10:05:00] <andor> huh, shows how little i understand it, still
[10:05:09] <andor> but i guess it makes sense if i think about it
[10:05:55] *** Joins: kvanb (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au)
[10:06:10] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:08:56] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.50.1)
[10:14:15] *** Quits: lenstr (lenstr@C3391098.9636F313.7A27613B.IP) (Quit: Leaving...)
[10:20:03] *** Joins: andreasvc (andreasvc@moz-29FD4A0A.dynamic.upc.nl)
[10:25:03] <skrylar> apparently there is no sqrt for integer values
[10:25:04] <skrylar> hrm
[10:25:43] <dbaupp> cast to floats
[10:27:03] *** Joins: eibwen (kvirc@moz-D518522.dip0.t-ipconnect.de)
[10:27:04] *** Joins: marianoguerra (marianogue@moz-F3FC4669.dip0.t-ipconnect.de)
[10:27:25] <Zr40> rusti: 7 / 5
[10:27:26] -rusti- 1
[10:29:06] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[10:30:48] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[10:31:37] <eibwen> rusti: 7/5, 7%5
[10:31:37] -rusti- <anon>:10:12: 10:13 error: expected one of `;`, `}` but found `,`
[10:31:38] -rusti- <anon>:10         7/5, 7%5
[10:31:38] -rusti-                      ^
[10:31:38] -rusti- application terminated with error code 101
[10:32:30] <Zr40> rusti: (7/5, 7%5)
[10:32:31] -rusti- (1, 2)
[10:32:37] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:33:39] <Zr40> rusti: 7.div_mod_floor(5)
[10:33:43] -rusti- pastebinned 38 lines of output: http://ix.io/ab2
[10:33:49] *** Joins: lenstr (lenstr@C3391098.9636F313.7A27613B.IP)
[10:34:31] *** kimundi is now known as zz_kimundi
[10:34:34] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:34:35] <Zr40> rusti: 7_i8.div_mod_floor(5)
[10:34:36] -rusti- <anon>:10:28: 10:29 error: mismatched types: expected `&i8` but found `<generic integer #0>` (expected &-ptr but found integral variable)
[10:34:36] -rusti- <anon>:10         7_i8.div_mod_floor(5)
[10:34:36] -rusti-                                      ^
[10:34:36] -rusti- error: aborting due to previous error
[10:34:36] -rusti- application terminated with error code 101
[10:34:55] <Zr40> rusti: 7_i8.div_mod_floor(&5)
[10:34:56] -rusti- (1i8, 2i8)
[10:35:01] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[10:35:07] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[10:35:25] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[10:36:17] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:38:31] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[10:38:35] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[10:40:01] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[10:40:03] <Zr40> rusti: 7i.div_mod_floor(&5)
[10:40:04] -rusti- (1, 2)
[10:41:38] *** Quits: fabiand (fabiand@moz-541CD52.adsl.alicedsl.de) (Quit: Verlassend)
[10:42:47] <flaper87> skrylar: there is
[10:42:57] <flaper87> skrylar: ah no
[10:43:00] <flaper87> there isn't
[10:43:16] <flaper87> I was working on that for num-rs so, nevermind!
[10:44:11] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[10:45:11] *** Quits: lenstr (lenstr@C3391098.9636F313.7A27613B.IP) (Quit: Leaving...)
[10:45:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[10:45:53] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Quit: wilmoore)
[10:49:03] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[10:50:49] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[10:53:19] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:54:28] <eibwen> 7.div_mod_floor(&5)
[10:54:36] <eibwen> rusti: 7.div_mod_floor(&5)
[10:54:38] -rusti- pastebinned 35 lines of output: http://ix.io/ab4
[10:54:59] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:04:35] <skrylar> huh
[11:04:41] <skrylar> looking at 'upgrade' for Weak refs
[11:04:46] *** Quits: kvanb (kvanb@moz-5DB011E5.lnse3.lon.bigpond.net.au) (Ping timeout)
[11:05:02] <skrylar> if there are zero strong refs shouldn't the Rc get disposed of, which means the '(*self.ptr).strong == 0' is accessing invalid memory?
[11:05:41] <dbaupp> skrylar: no, it only gets deallocated when there are no strong or weak refs
[11:05:44] <dbaupp> for precisely that reason
[11:06:10] <skrylar> dbaupp: what about the contained object?
[11:06:15] <dbaupp> (the value it contains is destroyed for strong == 0, but it's never access again in that case)
[11:06:21] <skrylar> will it get rid of that and keep the rcbox, or does it keep the big object
[11:06:24] <skrylar> ah
[11:06:35] <skrylar> i was afraid it was going to keep the big object around like a derp
[11:06:41] <dbaupp> it keeps the memory but not the object
[11:06:58] <dbaupp> (and so any memory allocations the object owns also get cleaned up when strong == 0)
[11:07:01] <skrylar> 'keeps the memory' == for the rcbox, not the memory by a huge struct right?
[11:07:14] <dbaupp> no
[11:07:17] <dbaupp> the whole thing
[11:07:31] <dbaupp> it's a single allocation with ref count and "huge struct" inline
[11:07:38] <skrylar> that kinda defeats the point of a weak reference then :/ since a weak reference to a 1GB object shouldn't keep the 1GB brick around
[11:07:58] <dbaupp> Use Rc<~HugeStruct> in that case
[11:09:29] <eddyb> skrylar: with a smart allocator, it could shrink the allocation to one word, I guess
[11:09:59] <eddyb> skrylar: I thought about pluggable default allocator support in libstd so one can just do "extern mod jemalloc;" and get more good stuff
[11:10:41] <skrylar> how are you going to plug in the allocators without causing nightmarish hell between libs?
[11:11:01] *** zz_kimundi is now known as kimundi
[11:11:14] <dbaupp> skrylar: type parameters
[11:11:17] <eddyb> skrylar: are you familiar with weak symbols (I don't know *too* much, that's why I'm asking)?
[11:11:28] *** Joins: tgummerer (tgummerer@moz-582025B2.members.linode.com)
[11:11:49] <skrylar> dbaupp: yay megabloat from millions of non-shared generics (IIRC rust doesn't do Ada's shared generics)
[11:11:57] <skrylar> eddyb: not really, i'm only passingly familiar with strong/weak refs
[11:12:06] <eddyb> skrylar: unrelated concepts
[11:12:11] <dbaupp> skrylar: yup, but LLVM does support sharing generic instantiations
[11:12:22] <eddyb> I'm hoping something like this is possible: #[weak] static DEFAULT_HEAP: &'static Allocator = &LibcAllocator;
[11:12:26] <dbaupp> at least we can drive in such a way that does it.
[11:13:09] <dbaupp> mark symbols available_externally or something (can't remember the details)
[11:13:13] <eddyb> I think libstd already uses a weak symbol for crate_map
[11:14:36] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:14:55] <dbaupp> on the platforms that support it
[11:15:58] *** Joins: fabiand (fabiand@moz-541CD52.adsl.alicedsl.de)
[11:16:21] <eddyb> dbaupp: do you know more about it?
[11:16:35] <dbaupp> eddyb: in what sense
[11:16:36] <dbaupp> ?
[11:16:50] <dbaupp> (I think that android doesn't support it (enough), and maybe windows)
[11:17:05] <eddyb> how does it interact with optimizations, linking, multiple occurrences
[11:17:45] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[11:17:45] <eddyb> I'm guessing LLVM should ignore the actual value unless it's terminal (can it know that, at all?)
[11:18:36] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Ping timeout)
[11:20:05] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[11:21:10] <dbaupp> nope, I have no idea of that stuff :)
[11:22:48] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[11:25:16] *** Joins: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP)
[11:25:19] *** Joins: kvanb (kvanb@moz-C8D7D30C.lnse7.win.bigpond.net.au)
[11:27:59] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[11:29:50] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[11:29:52] *** Quits: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr) (Ping timeout)
[11:29:53] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[11:31:00] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[11:31:19] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Client exited)
[11:31:40] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[11:32:02] *** Quits: fyolnish (fyolnish@moz-6E5FD6D8.uqwimax.jp) (Client exited)
[11:32:12] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[11:32:24] *** Joins: fyolnish (fyolnish@moz-6E5FD6D8.uqwimax.jp)
[11:33:13] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Client exited)
[11:34:06] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[11:34:07] *** Quits: fyolnish (fyolnish@moz-6E5FD6D8.uqwimax.jp) (Ping timeout)
[11:34:55] *** Joins: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net)
[11:35:01] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:35:08] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Client exited)
[11:35:55] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[11:36:48] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:37:04] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Client exited)
[11:37:55] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[11:38:48] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[11:39:00] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Client exited)
[11:39:34] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[11:39:48] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[11:40:36] *** Joins: Jessin (Jesin@moz-27D112BD.cc.lehigh.edu)
[11:40:49] *** Quits: Jesin (Jesin@moz-27D112BD.cc.lehigh.edu) (Ping timeout)
[11:42:24] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:43:35] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving)
[11:44:32] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[11:46:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[11:46:42] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[11:47:59] <TobiasFar> can rust binaries/static libs already include source line debug info? 
[11:49:09] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Client exited)
[11:49:23] <skrylar> hrmm.
[11:49:25] <Zr40> TobiasFar: I believe -Z extra-debug-info is needed for that
[11:49:33] <skrylar> cos and sin don't mention if they take in degrees or radians :<
[11:49:44] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[11:49:54] <TobiasFar> skrylar: naturally i'd expect radians
[11:50:08] <Zr40> rusti: 1.0.cos()
[11:50:11] -rusti- pastebinned 11 lines of output: http://ix.io/ab8
[11:50:16] <Zr40> rusti: 1.0f.cos()
[11:50:16] -rusti- <anon>:10:9: 10:13 error: expected `f32` or `f64` suffix
[11:50:16] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[11:50:16] -rusti- <anon>:10         1.0f.cos()
[11:50:16] -rusti-                   ^~~~
[11:50:16] -rusti- application terminated with error code 101
[11:50:21] <Zr40> rusti: 1.0f64.cos()
[11:50:22] -rusti- 0.54030231f64
[11:51:43] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[11:53:21] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:53:22] *** Quits: Jessin (Jesin@moz-27D112BD.cc.lehigh.edu) (Connection reset by peer)
[11:54:52] *** Joins: lenstr (lenstr@7EFA2A3E.9636F313.7A27613B.IP)
[11:55:06] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:55:11] <TobiasFar> Zr40: that worked, although the bt starts with quite some bulk output http://paste.debian.net/78982/
[11:55:24] *** Joins: igork (igork@moz-D312758C.broadband.corbina.ru)
[11:56:07] *** Quits: rca (rcatolino@moz-27E0D9CF.adsl.proxad.net) (Ping timeout)
[11:57:23] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[11:59:27] *** Joins: fyolnish (fyolnish@moz-6E5FD6D8.uqwimax.jp)
[12:00:49] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:04:19] <Zr40> TobiasFar: hmm, I'm not getting that here. Though the actual backtrace starts at line 713
[12:04:40] <TobiasFar> Zr40: right..the actual bt is there...just wondered about the huge output in front
[12:04:47] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[12:04:47] <Zr40> TobiasFar: which lldb version are you using? 300.2.53 here
[12:04:55] *** Joins: Locke23rus (quassel@moz-1014EFC0.static.linky.ru)
[12:05:08] <TobiasFar> Zr40: same here
[12:05:26] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:06:27] <TobiasFar> is there a guide for how to interface rust with existing c libs? i have a C library handle, essentially a pointer on C level and want to call a C function which will initialized that pointer with some real memory
[12:08:09] <dbaupp> TobiasFar: have you seen http://static.rust-lang.org/doc/master/guide-ffi.html ?
[12:09:44] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[12:11:15] <TobiasFar> dbaupp: thanks, I think i've already skimmed that but i'll take a look again
[12:12:14] *** Joins: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[12:12:43] <dbaupp> anyone feel like participating in a name-a-macro bikeshed? https://github.com/mozilla/rust/pull/11905
[12:13:03] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[12:13:42] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Connection reset by peer)
[12:13:53] *** Quits: dopin (dopin@9805BFB5.13C3B28A.5DB9309E.IP) (Ping timeout)
[12:14:03] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[12:14:16] *** Quits: antifuchs (sid10828@moz-31ABA2C0.irccloud.com) (Ping timeout)
[12:14:16] *** Quits: quux00 (uid24415@moz-E77DEB21.irccloud.com) (Ping timeout)
[12:14:16] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[12:14:16] *** Quits: etrepum (sid763@moz-5F4AA75A.irccloud.com) (Ping timeout)
[12:14:16] *** Quits: wilfred (sid159@moz-5F4AA75A.irccloud.com) (Ping timeout)
[12:14:16] *** Quits: angdev (uid7041@moz-E77DEB21.irccloud.com) (Ping timeout)
[12:14:16] *** Quits: mhenretty (sid11899@moz-5F4AA75A.irccloud.com) (Ping timeout)
[12:14:16] *** Quits: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com) (Ping timeout)
[12:14:16] *** Quits: nchapman (sid15818@moz-E77DEB21.irccloud.com) (Ping timeout)
[12:14:16] *** Quits: balpert_ (sid15886@moz-A42E5B7B.irccloud.com) (Ping timeout)
[12:14:18] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:14:31] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: locks (sid130@moz-5F4AA75A.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: johanh (uid17185@moz-A42E5B7B.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: davidillsley (sid18481@moz-5F4AA75A.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: marc_ (uid5324@moz-31ABA2C0.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: lenary (sid5084@moz-31ABA2C0.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: burg (sid14893@moz-5F4AA75A.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: huhlig (sid17687@moz-A42E5B7B.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP) (Ping timeout)
[12:14:31] *** Quits: cds (uid23856@moz-E77DEB21.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: zil (sid23500@moz-31ABA2C0.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: sankha93 (uid12218@moz-31ABA2C0.irccloud.com) (Ping timeout)
[12:14:31] *** Quits: cmeiklejohn (sid1900@moz-31ABA2C0.irccloud.com) (Ping timeout)
[12:14:39] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[12:14:39] *** Quits: tomdale (sid5518@moz-31ABA2C0.irccloud.com) (Ping timeout)
[12:14:39] *** Quits: evilpie (sid7877@moz-E77DEB21.irccloud.com) (Ping timeout)
[12:14:39] *** Quits: mje113 (uid16557@moz-A42E5B7B.irccloud.com) (Ping timeout)
[12:14:39] *** Quits: escalant3 (uid14896@moz-31ABA2C0.irccloud.com) (Ping timeout)
[12:14:39] *** Quits: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com) (Ping timeout)
[12:14:39] *** Quits: robert (uid15951@moz-A42E5B7B.irccloud.com) (Ping timeout)
[12:14:50] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Connection reset by peer)
[12:15:01] *** Quits: btm_work (btm@moz-2160AA7C.sakura.ne.jp) (Ping timeout)
[12:15:09] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[12:15:09] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[12:15:13] *** Quits: Ms2ger (Ms2ger@moz-EF1E89E8.adsl-dyn.isp.belgacom.be) (Ping timeout)
[12:15:29] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[12:15:53] *** Joins: etrepum (sid763@moz-5F4AA75A.irccloud.com)
[12:15:54] *** Joins: wilfred (sid159@moz-5F4AA75A.irccloud.com)
[12:16:04] *** Quits: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de) (Quit: Quitting)
[12:16:10] *** Joins: burg (sid14893@moz-5F4AA75A.irccloud.com)
[12:16:11] *** Joins: mhenretty (sid11899@moz-5F4AA75A.irccloud.com)
[12:16:11] *** Joins: davidillsley (sid18481@moz-5F4AA75A.irccloud.com)
[12:16:12] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[12:16:15] *** Joins: locks (sid130@moz-5F4AA75A.irccloud.com)
[12:16:31] *** Joins: btm_work (btm@moz-2160AA7C.sakura.ne.jp)
[12:16:44] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[12:16:48] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[12:16:48] *** Joins: angdev (uid7041@moz-E77DEB21.irccloud.com)
[12:16:48] *** Joins: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com)
[12:16:48] *** Joins: nchapman (sid15818@moz-E77DEB21.irccloud.com)
[12:16:59] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[12:17:14] <Boreeas> It would be great if we could search the documentation by function signature, like hoogle
[12:17:17] *** Joins: Ms2ger (Ms2ger@moz-EF1E89E8.adsl-dyn.isp.belgacom.be)
[12:17:45] *** Joins: dopin (dopin@9805BFB5.13C3B28A.5DB9309E.IP)
[12:17:52] *** Joins: balpert_ (sid15886@moz-A42E5B7B.irccloud.com)
[12:17:53] *** Joins: quux00 (uid24415@moz-E77DEB21.irccloud.com)
[12:17:54] *** Joins: sankha93 (uid12218@moz-31ABA2C0.irccloud.com)
[12:18:01] <dbaupp> <3 hoogle
[12:18:13] *** Joins: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP)
[12:19:59] *** Joins: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com)
[12:19:59] *** Joins: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com)
[12:20:03] *** Joins: tomdale (sid5518@moz-31ABA2C0.irccloud.com)
[12:20:04] *** Joins: marc_ (uid5324@moz-31ABA2C0.irccloud.com)
[12:20:07] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[12:21:00] *** Joins: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net)
[12:21:12] *** Joins: jackneill (jackneill@moz-F5F979E0.pool.digikabel.hu)
[12:21:43] *** Quits: fabiand (fabiand@moz-541CD52.adsl.alicedsl.de) (Quit: Verlassend)
[12:21:54] *** Joins: rca (rcatolino@moz-27E0D9CF.adsl.proxad.net)
[12:21:57] <skrylar> that would be neat
[12:22:19] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[12:22:20] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[12:22:27] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[12:24:12] *** Joins: gwty (gwtypc@A4C707D5.5B1C15CD.CF29F6CE.IP)
[12:24:24] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Ping timeout)
[12:24:57] *** Joins: antifuchs (sid10828@moz-31ABA2C0.irccloud.com)
[12:25:00] *** Joins: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com)
[12:25:00] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Ping timeout)
[12:25:12] *** Parts: s_justin (s_justin@moz-C86DE820.asm.bellsouth.net) ()
[12:25:28] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[12:26:11] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[12:30:00] *** Joins: evilpie (sid7877@moz-E77DEB21.irccloud.com)
[12:30:01] *** Joins: zil (sid23500@moz-31ABA2C0.irccloud.com)
[12:30:05] *** Joins: olivier (olivier@F06FF1D6.4D0638.416762B.IP)
[12:30:36] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[12:30:55] <olivier> Hey #rust, how do you filter a vector? like [1,2,3,4,5,6].filter(isEven)  ? (should return [2,4,6]) 
[12:31:05] <olivier> All I saw is iter::filter
[12:31:15] *** Joins: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP)
[12:31:18] <olivier> So what i'm trying to do is: [1,2,3,4,5,6].iter().filter(|a| isEven(a)); 
[12:32:12] *** Quits: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[12:32:14] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Connection reset by peer)
[12:32:23] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[12:33:53] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[12:34:35] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[12:34:50] <Ms2ger> olivier, yep, that gives you an iterator
[12:35:01] *** Quits: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP) (Input/output error)
[12:35:10] <Ms2ger> rusti: [1,2,3,4,5,6].iter().filter(|a| a%2==0).collect()
[12:35:15] -rusti- pastebinned 7 lines of output: http://ix.io/abb
[12:35:24] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[12:35:42] <Ms2ger> rusti: [1u,2,3,4,5,6].iter().filter(|a| a%2==0).collect()
[12:35:45] -rusti- pastebinned 7 lines of output: http://ix.io/abc
[12:36:07] <Ms2ger> rusti: [1u,2,3,4,5,6].iter().filter(|&a| a%2==0).collect()
[12:36:08] -rusti- <anon>:10:9: 11:6 error: cannot determine a type for this bounded type parameter: unconstrained type
[12:36:08] -rusti- <anon>:10         [1u,2,3,4,5,6].iter().filter(|&a| a%2==0).collect()
[12:36:08] -rusti- <anon>:11     };
[12:36:08] -rusti- application terminated with error code 101
[12:36:13] <Ms2ger> *sigh*
[12:36:22] <Ms2ger> rusti: [1u,2,3,4,5,6].iter().filter(|&a| a%2==0).collect::<uint>()
[12:36:22] -rusti- <anon>:10:9: 11:6 error: failed to find an implementation of trait std::iter::FromIterator<&uint> for uint
[12:36:22] -rusti- <anon>:10         [1u,2,3,4,5,6].iter().filter(|&a| a%2==0).collect::<uint>()
[12:36:22] -rusti- <anon>:11     };
[12:36:22] -rusti- application terminated with error code 101
[12:36:38] <Ms2ger> rusti: [1u,2,3,4,5,6].iter().filter(|&a| a%2==0).map(|&x| x).collect::<uint>()
[12:36:39] -rusti- <anon>:10:9: 11:6 error: failed to find an implementation of trait std::iter::FromIterator<uint> for uint
[12:36:39] -rusti- <anon>:10         [1u,2,3,4,5,6].iter().filter(|&a| a%2==0).map(|&x| x).collect::<uint>()
[12:36:39] -rusti- <anon>:11     };
[12:36:39] -rusti- application terminated with error code 101
[12:36:56] <TobiasFar> is there a pastebin with rust highighting?
[12:36:57] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Ping timeout)
[12:37:18] <TobiasFar> *highlighting
[12:37:25] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[12:37:40] <skrylar> gist
[12:37:56] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[12:38:25] <dbaupp> rusti: [1u,2,3,4,5,6].iter().filter(|&a| a%2==0).map(|&x| x).collect::<~[uint]>()
[12:38:26] -rusti- ~[2u, 4u, 6u]
[12:38:50] *** pmoore is now known as pmoore|away
[12:39:21] <TobiasFar> https://gist.github.com/tfar/dfef30b81da8534f87ad in line 9 it says "unresolved name `relic::bn_t`." however in line two it doesn't complain about the same typename
[12:39:26] <TobiasFar> any idea?
[12:39:53] <Ms2ger> rusti: [1u,2,3,4,5,6].iter().filter(|&a| a%2==0).map(|&x| x).collect::<~[uint]>()
[12:39:54] -rusti- ~[2u, 4u, 6u]
[12:39:54] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Ping timeout)
[12:39:59] <Ms2ger> Ah, I see dbaupp beat me to it
[12:40:02] *** Joins: cds (uid23856@moz-E77DEB21.irccloud.com)
[12:40:05] *** Joins: cmeiklejohn (sid1900@moz-31ABA2C0.irccloud.com)
[12:42:17] <johnmurray> In the case that I wanted to build something like a doubly-linked-list, is that a use-case for the "managed_box" (@ pointer)?
[12:42:18] <johnmurray> since there would be 2 pointers to each node in the list. 
[12:43:18] <Ms2ger> Don't use @ pointers
[12:43:34] <Ms2ger> But yes, probably Rc or Gc, or unsafe pointers
[12:43:50] <dbaupp> Rc + Weak
[12:44:10] <dbaupp> or Gc (note that Gc is still experimental, and doesn't actually have a garbage collector yet)
[12:44:30] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[12:44:51] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:44:51] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[12:44:59] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:45:06] *** Joins: lenary (sid5084@moz-31ABA2C0.irccloud.com)
[12:45:06] *** Joins: escalant3 (uid14896@moz-31ABA2C0.irccloud.com)
[12:45:10] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[12:46:04] *** Joins: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr)
[12:46:34] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:46:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[12:46:53] *** Quits: kvanb (kvanb@moz-C8D7D30C.lnse7.win.bigpond.net.au) (Quit: kvanb)
[12:50:08] *** Joins: johanh (uid17185@moz-A42E5B7B.irccloud.com)
[12:50:22] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[12:51:03] <olivier> Thanks a lot to all
[12:51:53] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Connection reset by peer)
[12:52:14] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[12:53:25] *** Joins: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de)
[12:53:59] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:54:11] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[12:55:45] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:58:42] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Connection reset by peer)
[13:00:22] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[13:02:23] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[13:02:35] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[13:03:57] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[13:04:08] <andor> what is a rustic way to get data from a hashmap from tasks i created in a loop?
[13:04:37] *** Quits: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de) (Input/output error)
[13:04:40] <andor> eg. i have a hashmap i created on the main task, and i want to be able to get() from it from my loop-created tasks?
[13:04:43] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[13:05:11] *** Joins: mje113 (uid16557@moz-A42E5B7B.irccloud.com)
[13:05:11] *** Joins: robert (uid15951@moz-A42E5B7B.irccloud.com)
[13:06:30] <TobiasFar> http://paste.debian.net/hidden/d1ab9950/ any idea what rust is trying to tell me?
[13:07:07] <andor> TobiasFar: you don't need the * there
[13:07:27] <andor> or you want a ptr to a ptr?
[13:07:42] <TobiasFar> i think i want a ptr
[13:08:07] <TobiasFar> error stays the same without the *
[13:08:19] *** Quits: nkoep (nik@moz-4FB3D06.pool.mediaways.net) (Ping timeout)
[13:08:21] <andor> huh
[13:08:34] <rca> TobiasFar: did you forgot some :: ? null::<type>();
[13:09:25] *** Joins: nkoep (nik@moz-4FB3D06.pool.mediaways.net)
[13:10:13] *** Joins: huhlig (sid17687@moz-A42E5B7B.irccloud.com)
[13:11:01] <TobiasFar> rca: http://paste.debian.net/hidden/7749f32a/ that's what the source looks like
[13:12:17] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Connection reset by peer)
[13:12:41] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[13:14:12] <andor> TobiasFar: anyway, you can do let x : *T = null();
[13:14:51] *** Quits: lenstr (lenstr@7EFA2A3E.9636F313.7A27613B.IP) (Ping timeout)
[13:15:30] <eddyb> TobiasFar: bn.bignum = ptr::null(); should be fine
[13:16:00] <andor> yeah, it can infer the type
[13:16:10] <TobiasFar> simply that gives me: error: mismatched types: expected `*mut relic::bn_st` but found `*<generic #9>` (values differ in mutability)
[13:16:19] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[13:16:27] <eddyb> TobiasFar: ah, mut_null instead of null
[13:16:36] <eddyb> TobiasFar: let bn = R_BN { bignum: ptr::mut_null() }; is an improvement
[13:16:54] <eddyb> TobiasFar: and please restrict unsafe to the smallest piece of code that needs it :P
[13:17:15] *** Joins: lenstr (lenstr@7EFA2A3E.9636F313.7A27613B.IP)
[13:17:32] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:17:48] <TobiasFar> eddyb: yeah...restricting it to the smallest piece is obvious...just trying to get the basics started...if those work i'll cut unsafe use down
[13:17:59] <TobiasFar> but now at least it builds again :)
[13:18:10] <TobiasFar> thx
[13:18:29] <eddyb> though I can't see how relic::bn_init(bn.bignum, 12); would actually work
[13:18:36] <eddyb> bn.bignum is an rvalue in that case
[13:18:48] *** Joins: nik_ (nik@moz-7B579E72.pool.mediaways.net)
[13:18:50] *** Quits: nkoep (nik@moz-4FB3D06.pool.mediaways.net) (Ping timeout)
[13:19:10] <TobiasFar> eddyb: it compiles...doesn't mean it doesn't crash :)
[13:19:17] <TobiasFar> eddyb: on the init call i get fish: Job 1, './bin/my_project.elf ' terminated by signal SIGBUS (Misaligned address error) 
[13:19:26] <TobiasFar> so yeah..you're probably right
[13:19:42] <eddyb> you may want to call bn_alloc or something like that
[13:20:24] <eddyb> or allocate the right size structure yourself, as an unique pointer
[13:20:40] <TobiasFar> the C examples have bn_new and bn_free...but those are just macros to c-/malloc
[13:21:20] *** Joins: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de)
[13:21:41] <TobiasFar> which are obiously not translated by rust-bindgen :)
[13:22:31] <TobiasFar> *obviously
[13:22:37] *** Quits: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de) (Input/output error)
[13:22:40] <Tobba> apparently theres a rust syntax highlighter for sublime 3
[13:22:49] <Tobba> why did I even move away from sublime this is so good
[13:23:17] <Tobba> though the highlighter is dodgy as hell sadly
[13:27:16] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[13:29:47] <mankyKitty> Tobba: what isn't working for you? Mine seems to be pretty well behaved, I adore sublime for when I need to bounce around different files and hunt up things.. screamingly fast.. Still call emacs home though.. it's so good. T_T
[13:29:58] <Tobba> it highlights some weird things
[13:30:08] <Tobba> specifically Option gets highlighted
[13:30:19] <Tobba> and a bunch of weird stuff that isnt even libstd
[13:30:27] <Tobba> it just results in an inconsistent looking mess
[13:30:59] <flaper87> was last night's meetup recorded? I know it was streamed
[13:31:20] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[13:31:39] *** Quits: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP) (Ping timeout)
[13:32:03] <dbaupp> flaper87: I think so; hopefully the recording will show up here https://air.mozilla.org/rust-meetup-january-2014/ soon
[13:32:12] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:32:22] <flaper87> dbaupp: thnx
[13:32:29] *** Quits: fyolnish (fyolnish@moz-6E5FD6D8.uqwimax.jp) (Client exited)
[13:33:02] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[13:35:48] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:37:13] *** Joins: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP)
[13:37:58] *** Joins: asasdad (Mibbit@D766C639.357F2972.DDE5D3F6.IP)
[13:38:18] <TobiasFar> eddyb: with allocating it myself, you mean something like this right? http://paste.debian.net/plainh/fe1d41f2
[13:38:24] *** Quits: asasdad (Mibbit@D766C639.357F2972.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:39:01] <eddyb> TobiasFar: with more style, but yeah, it looks decent
[13:39:51] <eddyb> TobiasFar: ~relic::bn_str inside R_BN, as well, though you probably have to implement Drop and call bn_deinit anyway
[13:39:56] *** Joins: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de)
[13:41:32] *** Quits: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP) (Ping timeout)
[13:42:13] <TobiasFar> ok..thanks
[13:42:48] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:44:10] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:44:56] *** Joins: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP)
[13:45:11] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:45:12] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:45:24] *** Quits: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de) (Quit: Quitting)
[13:45:32] *** Joins: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com)
[13:46:00] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[13:46:16] *** Quits: tq (tq@moz-632DBD9.ad.umu.se) (Quit:  HydraIRC -> http://www.hydrairc.com <- Go on, try it!)
[13:46:21] <herrwolfe45> hi - how does one convert a ~[u8] to string of characters?
[13:46:56] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[13:46:56] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:47:01] *** Joins: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de)
[13:47:49] *** Quits: gwty (gwtypc@A4C707D5.5B1C15CD.CF29F6CE.IP) (Ping timeout)
[13:48:10] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[13:49:58] <eddyb> herrwolfe45: there's some functions in std::str
[13:50:11] <eddyb> from_utf8 & friends
[13:51:41] *** Joins: rca_ (rcatolino@68C2C935.20EF280.520D6FA6.IP)
[13:51:43] <herrwolfe45> thanks eddyb - I wonder if i I have just been including it incorrectly. I've been trying to use from _ut8_owned(<struct>.bytes) yet it doesn't show up
[13:52:17] <eddyb> herrwolfe45: use std::str; .... str::from_utf8_owned(...)
[13:52:19] *** Quits: rca (rcatolino@moz-27E0D9CF.adsl.proxad.net) (Ping timeout)
[13:53:29] <dbaupp> rusti: std::str::from_utf8_owned(~[62, 32, 63])
[13:53:34] -rusti- Some(~"> ?")
[13:53:38] *** Joins: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com)
[13:53:56] <herrwolfe45> eddyb: worked, thanks
[13:54:03] <herrwolfe45> i was including it incorrectly
[13:54:25] *** Parts: zeenix (zeenix@moz-B92AB3AA.range109-158.btcentralplus.com) (Leaving)
[13:54:33] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:56:07] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[13:56:19] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:57:38] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Ping timeout)
[13:59:35] *** Quits: lenstr (lenstr@7EFA2A3E.9636F313.7A27613B.IP) (Quit: Leaving...)
[14:02:07] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[14:02:26] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[14:03:06] *** Joins: fyolnish (fyolnish@moz-6E5FD6D8.uqwimax.jp)
[14:04:49] *** Quits: fyolnish (fyolnish@moz-6E5FD6D8.uqwimax.jp) (Ping timeout)
[14:07:12] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:07:30] *** Joins: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com)
[14:07:44] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:08:15] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[14:09:28] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:09:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:09:52] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[14:11:16] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Connection reset by peer)
[14:11:40] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[14:15:09] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[14:15:53] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[14:16:36] *** Quits: michaeljdennis (michaeljde@moz-D1393DB0.socal.res.rr.com) (Quit: )
[14:16:43] *** pmoore|away is now known as pmoore
[14:16:58] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[14:17:02] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[14:17:44] *** Joins: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP)
[14:18:08] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[14:21:05] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:21:35] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:22:39] *** Joins: lenstr (lenstr@7EFA2A3E.9636F313.7A27613B.IP)
[14:22:49] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[14:23:21] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[14:23:23] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[14:24:26] *** Parts: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com) (ERC Version 5.3 (IRC client for Emacs))
[14:25:02] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Connection reset by peer)
[14:25:15] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:26:06] *** Quits: lenstr (lenstr@7EFA2A3E.9636F313.7A27613B.IP) (Ping timeout)
[14:27:03] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[14:27:57] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:28:44] *** Quits: KindOne (KindOne@moz-3AEDEC51.dynamic.ip.windstream.net) (Ping timeout)
[14:29:06] *** Joins: FreeFull (freefull@moz-272EA536.as13285.net)
[14:29:10] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[14:29:31] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[14:29:35] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[14:30:33] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Connection reset by peer)
[14:30:34] *** Quits: mrmonday_ (mrmonday@moz-1E82AE75.members.linode.com) (Input/output error)
[14:31:32] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[14:32:16] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[14:32:36] *** Joins: skade (skade@moz-CC410F09.web.vodafone.de)
[14:33:10] *** Joins: KindOne (KindOne@moz-F0855065.dynamic.ip.windstream.net)
[14:34:01] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[14:35:02] *** Joins: jschuster (schu@moz-7140CF01.ccs.neu.edu)
[14:35:03] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[14:35:08] *** Quits: skade (skade@moz-CC410F09.web.vodafone.de) (Ping timeout)
[14:35:27] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[14:35:35] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[14:35:56] <Yurume> > Couldn't find the procedure entry point for _ZN10local_data13get_local_map19h924f6234c0f73e0daq9v0.10.preE from DLL std-966edb7e-0.10-pre.dll.
[14:35:59] <Yurume> what... is that?
[14:36:10] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Client exited)
[14:36:22] *** Joins: quantumthief (Hat_and_Cl@88CB02A7.C09A9E1A.DBFE2FB9.IP)
[14:36:31] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[14:36:32] <Yurume> and std-966edb7e-0.10-pre.dll does have that entry. mysterious.
[14:37:06] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[14:37:08] *** Parts: quantumthief (Hat_and_Cl@88CB02A7.C09A9E1A.DBFE2FB9.IP) (Once you know what it is you want to be true, instinct is a very useful device for enabling you to know that it is)
[14:37:31] *** Joins: quantumthief (Hat_and_Cl@88CB02A7.C09A9E1A.DBFE2FB9.IP)
[14:38:17] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Ping timeout)
[14:38:19] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[14:39:34] <Yurume> hmm, the dependency walker says that native-51515d1a-0.10-pre.dll (yes, not the exe but its dependency) failed to load that entry. how is that possible though?
[14:39:56] <olsonjeffery> acrichto: around?
[14:42:41] *** Joins: vmx (vmx@moz-9413B04D.pools.arcor-ip.net)
[14:45:32] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:45:33] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:45:41] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[14:47:17] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:47:17] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[14:47:21] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[14:47:21] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[14:47:49] <olsonjeffery> i really like the change in the emacs nightlies, where files with the same name (like lib.rs) have the parent dir's name in the brackets instead of a number
[14:48:01] <olsonjeffery> so lib.rs<libextra> instead of lib.rs<546>
[14:48:03] <olsonjeffery> that's progress.
[14:49:25] *** Joins: tedh_ (tedh@moz-F3B34318.hsd1.il.comcast.net)
[14:49:30] *** Quits: tedh_ (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: tedh_)
[14:49:32] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:49:45] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[14:51:11] *** Joins: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[14:52:07] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:54:13] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[14:55:02] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:55:43] *** Parts: samdraz (samdraz@690570E4.4697114E.DDC6F5D1.IP) (Leaving)
[14:56:49] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:57:39] *** Joins: benjamin_ (benjamin@moz-5DB44270.dip0.t-ipconnect.de)
[14:59:44] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[15:00:27] *** Quits: marianoguerra (marianogue@moz-F3FC4669.dip0.t-ipconnect.de) (Ping timeout)
[15:01:54] *** Joins: omnus_ (omnus@moz-2E009EE2.stny.res.rr.com)
[15:01:57] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[15:03:52] *** Joins: fyolnish (fyolnish@moz-45F955D7.uqwimax.jp)
[15:05:38] *** Quits: fyolnish (fyolnish@moz-45F955D7.uqwimax.jp) (Ping timeout)
[15:06:39] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[15:10:59] *** Joins: jensnockert (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com)
[15:11:05] *** Parts: quantumthief (Hat_and_Cl@88CB02A7.C09A9E1A.DBFE2FB9.IP) (Once you know what it is you want to be true, instinct is a very useful device for enabling you to know that it is)
[15:13:41] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[15:15:02] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[15:16:35] *** Quits: an0nymous (Jacob@moz-F04BA440.tx.res.rr.com) (Quit: Leaving)
[15:17:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:17:43] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[15:20:22] *** Quits: moostik (Icedove@moz-2B884898.w83-199.abo.wanadoo.fr) (Ping timeout)
[15:21:43] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[15:21:55] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:22:14] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[15:23:08] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:23:38] <Tobba> I think I'm missing something very obvious here: error: non-scalar cast: `&mut core::paging::PageDirectory` as `&core::paging::PageDirectory`
[15:26:48] *** flaper87 is now known as flaper87|afk
[15:27:21] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[15:27:27] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[15:28:19] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[15:28:20] *** Quits: Ferreus (ferreus@moz-7AF6F2E8.dip0.t-ipconnect.de) (Ping timeout)
[15:28:41] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[15:29:10] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[15:29:20] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:29:43] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[15:30:01] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[15:32:51] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[15:32:59] *** Joins: gwty (gwtypc@A4C707D5.5B1C15CD.CF29F6CE.IP)
[15:33:09] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:33:55] <sp3d> Tobba: try introducing another binding (let immutable: &core::paging::PageDirectory = mutable;)?
[15:34:08] <Tobba> I guess
[15:34:17] <Tobba> hold on I'm working on some other code now
[15:34:43] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[15:35:17] *** flaper87|afk is now known as flaper87
[15:38:32] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[15:39:12] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:40:19] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[15:40:40] <sw17ch> https://github.com/mozilla/rust/pull/11894/commits <-- i like this
[15:40:54] <sw17ch> erm, https://github.com/mozilla/rust/pull/11894
[15:44:33] *** Quits: gwty (gwtypc@A4C707D5.5B1C15CD.CF29F6CE.IP) (Ping timeout)
[15:45:51] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:46:00] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:46:11] *** Joins: gwty (gwtypc@4014B10F.C875E086.8A00C703.IP)
[15:46:50] *** Parts: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP) ()
[15:47:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[15:47:50] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:49:36] *** Joins: thiago (thiago@705535C9.9074706C.BD25C20F.IP)
[15:52:41] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[15:55:38] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:57:27] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:57:39] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[15:58:30] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Client exited)
[15:58:48] *** Quits: rca_ (rcatolino@68C2C935.20EF280.520D6FA6.IP) (Ping timeout)
[15:58:50] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:59:01] *** Quits: jensnockert (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[15:59:30] *** Joins: jensnockert (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com)
[15:59:35] <Tobba> ugh, 54 TODO's
[16:00:31] *** Joins: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt)
[16:01:20] *** Quits: jensnockert (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[16:02:27] *** Joins: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP)
[16:02:42] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[16:02:44] *** Quits: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP) (Quit: dave1629)
[16:03:57] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[16:04:19] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:04:22] *** Quits: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr) (Ping timeout)
[16:04:25] *** Joins: kellogh (timkellogg@moz-68DF7EF7.teliax.com)
[16:04:39] *** Joins: fyolnish (fyolnish@moz-B88B36AD.uqwimax.jp)
[16:06:24] *** Quits: fyolnish (fyolnish@moz-B88B36AD.uqwimax.jp) (Ping timeout)
[16:06:29] *** Joins: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP)
[16:06:42] *** Quits: kellogh (timkellogg@moz-68DF7EF7.teliax.com) (Ping timeout)
[16:08:31] *** Joins: bakkdoor (bakkdoor@B833DFEF.72FAA20.172227A7.IP)
[16:08:57] <acrichto> olsonjeffery: I am now!
[16:09:45] <olsonjeffery> acrichto: so there are a few modules in extra that rely on serialize and/or json/ebml (mostly serialize and json)
[16:10:05] <olsonjeffery> curious if i should break them out at the same time into their own libraries (the original goal was to just more serialize, json and ebml out)
[16:10:05] *** kimundi is now known as zz_kimundi
[16:10:53] <olsonjeffery> also ebml definitely relies on extra for TreeMap, so i don't think i can get away with making serialize a dependency of extra
[16:11:26] <olsonjeffery> so it's a choice between pulling more things in-to-serialize/out-of-extra and/or further atomizing serialize
[16:12:17] <acrichto> olsonjeffery: hmm, I would kinda expect serialize to be its own contained thing and then treemap would depend on serialization to say how it's serialized
[16:12:18] *** Joins: abhaykadam (abhaykadam@4978211F.B425DD03.6237D8DF.IP)
[16:12:26] *** pmoore is now known as pmoore|dinner
[16:12:57] <olsonjeffery> acrichto: workcache, uuid, time, test, enum_set all depend on serialize for deriving
[16:13:12] <olsonjeffery> workcache, test depend on json
[16:13:22] <olsonjeffery> uuid depends on ebml
[16:13:41] <acrichto> could you just remove serialization for now?
[16:13:46] <acrichto> from libextra, that is
[16:13:58] <acrichto> serialization seems like a fairly core feature
[16:13:59] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:14:26] <sanxiyn> acrichto: Remove to where?
[16:14:31] <olsonjeffery> libserialize
[16:14:39] <olsonjeffery> the goal was to move ebml, json and serialize to libserialize
[16:14:43] <olsonjeffery> but the dep graph is tangled
[16:14:51] <olsonjeffery> im mucking around with it, currently
[16:15:08] <acrichto> yeah I would expect ebml/json to be in serialize
[16:15:09] <sanxiyn> Is there a cycle?
[16:15:16] <acrichto> feel free to munge deps
[16:15:43] <olsonjeffery> sanxiyn: as it right now there's a cycle between json->serialize->TreeMap and some stuff in extra calls in to serialize & json/ebml
[16:15:50] <olsonjeffery> i can work it out though
[16:16:16] <olsonjeffery> i think the TreeMap uses in serialize are for tests
[16:16:26] <olsonjeffery> in any event, i can move things around as needed
[16:16:37] <olsonjeffery> just moving out serialize will contain things, a bit
[16:16:48] <sanxiyn> In Servo we wanted to split libstyle(CSS styling subsystem) but had quite a trouble with circular dependencies
[16:17:24] <olsonjeffery> such is the cost of allowing in-crate recursion
[16:17:46] <olivier> hey #rust, why is this working: fn map(v: &~[uint], f: |& &uint|->bool) { 	let c = v.iter().filter(f).map(|&x| x).collect::<~[uint]>(); }
[16:17:55] <olivier> but this not: fn map<T>(v: &~[T], f: |& & T|->bool) { 	let c = v.iter().filter(f).map(|&x| x).collect::<~[T]>(); }
[16:18:04] <sanxiyn> (CSS needs to read DOM, but DOM has methods that do CSS stuffs)
[16:18:11] <olivier> (the second one is the first one with generics)
[16:18:34] <sanxiyn> (one solution: CSS is generic against DOM interface and DOM depends on CSS)
[16:20:02] <sanxiyn> olivier: What error do you get?
[16:20:32] <Ms2ger> .map(|&x| x)?
[16:20:45] *** Joins: pauls_ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com)
[16:20:47] <Ms2ger> That might not be happy for non-pod T
[16:21:23] <olivier> This is my error:
[16:21:24] <olivier> fn map<T>(v: &~[T], f: |& & T|->bool) { 	let c = v.iter().filter(f).map(|&x| x).collect::<~[T]>(); }
[16:21:34] <olivier> a.rs:3:73: 3:75 error: cannot move out of dereference of & pointer
[16:21:35] <olivier> a.rs:3 fn map<T>(v: &[T], f: |& & T|->bool) {   let c = v.iter().filter(f).map(|&x| x).collect::<~[T]>(); }
[16:21:50] <olivier>                                                                                 ^~
[16:21:54] <Ms2ger> Yep
[16:22:04] <eddyb> olivier: you may want fn map<T: Pod>...
[16:22:18] <olivier> Will look at that, thanks a lot :)
[16:23:07] *** Joins: rca (rcatolino@68C2C935.20EF280.520D6FA6.IP)
[16:24:51] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[16:25:12] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[16:25:30] *** Quits: jschuster (schu@moz-7140CF01.ccs.neu.edu) (Quit: jschuster)
[16:26:07] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:26:21] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[16:26:27] *** Quits: yosemite (sam@moz-8CEAB1B0.dasbistro.com) (Ping timeout)
[16:26:46] *** Quits: glandium (glandium@DEB153B8.D2E4ABCD.A00B1FE4.IP) (Ping timeout)
[16:27:18] *** Joins: marianoguerra (marianogue@moz-5FDEBF86.dip0.t-ipconnect.de)
[16:27:28] *** Quits: locks (sid130@moz-5F4AA75A.irccloud.com) (Ping timeout)
[16:27:28] *** Quits: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com) (Ping timeout)
[16:27:28] *** Quits: marc_ (uid5324@moz-31ABA2C0.irccloud.com) (Ping timeout)
[16:27:28] *** Quits: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:27:28] *** Quits: lenary (sid5084@moz-31ABA2C0.irccloud.com) (Ping timeout)
[16:27:28] *** Quits: mje113 (uid16557@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:27:46] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[16:27:46] *** Quits: burg (sid14893@moz-5F4AA75A.irccloud.com) (Ping timeout)
[16:27:46] *** Quits: davidillsley (sid18481@moz-5F4AA75A.irccloud.com) (Ping timeout)
[16:27:46] *** Quits: nchapman (sid15818@moz-E77DEB21.irccloud.com) (Ping timeout)
[16:27:46] *** Quits: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:27:46] *** Quits: balpert_ (sid15886@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:27:53] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[16:27:58] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[16:28:33] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:28:46] *** Quits: evilpie (sid7877@moz-E77DEB21.irccloud.com) (Ping timeout)
[16:28:46] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:28:54] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[16:28:58] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[16:29:12] *** Quits: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP) (Ping timeout)
[16:29:24] *** Quits: sankha93 (uid12218@moz-31ABA2C0.irccloud.com) (Ping timeout)
[16:29:37] *** Joins: locks (sid130@moz-5F4AA75A.irccloud.com)
[16:29:37] *** Joins: lenary (sid5084@moz-31ABA2C0.irccloud.com)
[16:29:38] *** Joins: marc_ (uid5324@moz-31ABA2C0.irccloud.com)
[16:29:47] *** Joins: burg (sid14893@moz-5F4AA75A.irccloud.com)
[16:29:48] *** Joins: yosemite (sam@moz-8CEAB1B0.dasbistro.com)
[16:29:48] *** Joins: davidillsley (sid18481@moz-5F4AA75A.irccloud.com)
[16:29:58] *** Quits: btm_work (btm@moz-2160AA7C.sakura.ne.jp) (Ping timeout)
[16:30:33] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[16:30:35] *** Joins: btm_work (btm@moz-2160AA7C.sakura.ne.jp)
[16:30:36] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[16:30:39] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[16:31:23] *** Quits: heftig (heftig@moz-9DB3EB8F.dip0.t-ipconnect.de) (Quit: Quitting)
[16:31:42] *** Quits: benjamin_ (benjamin@moz-5DB44270.dip0.t-ipconnect.de) (Quit: Verlassend)
[16:31:51] *** Joins: sankha93 (uid12218@moz-31ABA2C0.irccloud.com)
[16:32:29] *** Joins: mje113 (uid16557@moz-A42E5B7B.irccloud.com)
[16:32:33] *** Joins: evilpie (sid7877@moz-E77DEB21.irccloud.com)
[16:32:58] <Yurume> <Yurume> hmm, when the lib crate A uses std but not native, and the bin crate B uses A and std and (explicitly) native complete with #[start] override, then the A would use native as a default runtime, right?
[16:33:03] <Yurume> (re-post from #rust-internals)
[16:33:11] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[16:33:14] *** Joins: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP)
[16:33:29] <Yurume> the problem is that, it doesn't seem to do so in Windows (!)
[16:33:30] *** Joins: steveklabnik (uid17044@moz-A42E5B7B.irccloud.com)
[16:33:31] *** Joins: balpert_ (sid15886@moz-A42E5B7B.irccloud.com)
[16:33:40] *** Joins: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com)
[16:33:48] <eddyb> so #rust is last in the spambot's order?
[16:34:06] <Yurume> what do you mean by spambots?
[16:34:17] <eddyb> Yurume: are you not in any other rust-related channel?
[16:34:23] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Connection reset by peer)
[16:34:42] <eddyb> Yurume: oh wow you totally missed in #rust-internals
[16:34:42] <Yurume> I was disconnected for a while (approximately for three minutes)
[16:34:58] <Yurume> was that a DDoS? :X
[16:35:03] <Yurume> were there*
[16:35:08] <eddyb> you left, spambot joined, said something, left, you joined
[16:35:14] <Yurume> ha!
[16:36:00] <Yurume> did the [o__o] disconnect as well? botbot.me does not show the logs for that
[16:36:07] <Yurume> i.e. https://botbot.me/mozilla/rust-internals/
[16:36:08] *** Joins: lenstr (lenstr@7EFA2A3E.9636F313.7A27613B.IP)
[16:36:14] <Yurume> ah
[16:36:22] <Yurume> evan19, now I can see that
[16:36:44] <Yurume> glad I was not able to see that lol
[16:37:16] *** Quits: lenstr (lenstr@7EFA2A3E.9636F313.7A27613B.IP) (Quit: Leaving...)
[16:37:45] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:38:36] *** Joins: stereosteve (stereostev@moz-C6CCE177.cable.mindspring.com)
[16:38:41] *** Joins: nchapman (sid15818@moz-E77DEB21.irccloud.com)
[16:38:47] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:40:47] <olivier> Question: does anyone knows why std::vec::filter has been removed? 
[16:41:08] <strcat> olivier: it's the `retain` method
[16:41:09] <Yurume> replaced with iterators.
[16:41:12] <Yurume> ah
[16:41:17] <strcat> retain is in-place
[16:41:40] <strcat> iterators for a lazy stream that's not in-place
[16:41:40] *** Quits: bakkdoor (bakkdoor@B833DFEF.72FAA20.172227A7.IP) (Connection reset by peer)
[16:41:40] *** Joins: bakkdoor_ (bakkdoor@B833DFEF.72FAA20.172227A7.IP)
[16:41:51] <strcat> (well, you could still modify in-place via an iterator)
[16:42:16] <strcat> rusti: let mut xs = [1, 2, 3, 4]; for x in x.mut_iter().filter(|&x| *x & 1 == 0) { *x *= 2 } xs
[16:42:19] -rusti- <anon>:10:45: 10:46 error: unresolved name `x`. Did you mean `xs`?
[16:42:19] -rusti- <anon>:10         let mut xs = [1, 2, 3, 4]; for x in x.mut_iter().filter(|&x| *x & 1 == 0) { *x *= 2 } xs
[16:42:20] -rusti-                                                       ^
[16:42:20] -rusti- error: aborting due to previous error
[16:42:20] -rusti- application terminated with error code 101
[16:42:24] <strcat> rusti: let mut xs = [1, 2, 3, 4]; for x in xs.mut_iter().filter(|&x| *x & 1 == 0) { *x *= 2 } xs
[16:42:25] -rusti- <anon>:10:67: 10:69 error: cannot move out of dereference of & pointer
[16:42:25] -rusti- <anon>:10         let mut xs = [1, 2, 3, 4]; for x in xs.mut_iter().filter(|&x| *x & 1 == 0) { *x *= 2 } xs
[16:42:25] -rusti-                                                                             ^~
[16:42:28] -rusti- error: aborting due to previous error
[16:42:30] -rusti- application terminated with error code 101
[16:42:37] <strcat> rusti: let mut xs = [1, 2, 3, 4]; for x in xs.mut_iter().filter(|x| *x & 1 == 0) { *x *= 2 } xs
[16:42:38] -rusti- <anon>:10:70: 10:76 error: binary operation `&` cannot be applied to type `&mut <generic integer #3>`
[16:42:38] -rusti- <anon>:10         let mut xs = [1, 2, 3, 4]; for x in xs.mut_iter().filter(|x| *x & 1 == 0) { *x *= 2 } xs
[16:42:38] -rusti-                                                                                ^~~~~~
[16:42:40] * strcat sighs
[16:42:41] -rusti- error: aborting due to previous error
[16:42:43] -rusti- application terminated with error code 101
[16:42:53] <strcat> rusti: let mut xs = [1, 2, 3, 4]; for x in xs.mut_iter().filter(|x| **x & 1 == 0) { *x *= 2 } xs
[16:42:55] <Yurume> std::vec::filter received ~[T] and returned ~[T], so it is not the same semantics as the current retain though
[16:42:55] -rusti- [1, 4, 3, 8]
[16:43:22] <Yurume> (retain deals with &mut [T], to say)
[16:43:41] *** Quits: abhaykadam (abhaykadam@4978211F.B425DD03.6237D8DF.IP) (Quit: Lingo - http://www.lingoirc.com)
[16:43:41] *** Joins: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com)
[16:43:41] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:44:10] <eddyb> Yurume: but it may be strictly better, performance-wise
[16:44:29] <olivier> Before rust, the only functional language I did was ML
[16:44:50] <Yurume> eddyb, yeah, you can just retain after clone for example.
[16:44:50] <olivier> so for filter and map to not be vector methods directly still bugs me
[16:45:13] <Yurume> or if there are only small number of filtered elements, then the filtering iterator would be fine.
[16:45:20] <eddyb> olivier: iterators are better most of the time
[16:45:22] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:45:24] <strcat> olivier: it is, it's the `retain` method
[16:45:46] * strcat shrugs
[16:46:05] <strcat> if you don't want to work in-place then iterators offer a lazy stream
[16:46:15] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:46:21] <eddyb> Yurume: if the old one took ~[T], then you would've had to clone anyway. and then you had the new allocation
[16:46:30] <strcat> containers *could* duplicate the iterator methods directly and return iterators themselves... but it's not worth doing if it can't be factored out
[16:46:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:47:10] <Yurume> olivier, filter and map without higher-order kinds (like Haskell) is not scalable with multiple types of containers. that's why there is an iterator.
[16:47:35] *** Joins: csherratt_ (csherratt@moz-7685819.cpe.teksavvy.com)
[16:47:41] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[16:47:41] *** csherratt_ is now known as csherratt
[16:48:01] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:48:25] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:48:32] <Yurume> eddyb, indeed. I forgot there was also `filtered` (which I seem to confuse with `filter`).
[16:48:40] <strcat> ugh I hate the github UI changes
[16:48:47] <strcat> they made everything so stylized
[16:48:49] <strcat> commits are soooo small
[16:48:52] <Yurume> strcat, rather half-changes
[16:49:00] <Yurume> it is not consistent at all
[16:50:00] <olivier> Yurume, strcat, thanks :)
[16:50:26] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Connection reset by peer)
[16:50:29] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:50:47] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[16:52:07] <eddyb> Yurume: I'm curious what the other half is :P
[16:52:24] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:52:31] <Yurume> eddyb, the issue list :p
[16:52:31] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:52:35] *** Joins: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net)
[16:52:54] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[16:54:23] *** Joins: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP)
[16:54:58] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[16:55:56] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:55:58] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[16:56:45] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[16:57:07] *** Parts: ptc (Adium@moz-192425C4.nyc.res.rr.com) ()
[16:57:41] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:57:59] *** zz_kimundi is now known as kimundi
[16:58:44] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[17:00:23] *** Quits: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com) (Quit: Ex-Chat)
[17:00:35] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Connection reset by peer)
[17:00:59] *** Quits: TobiasFar (tm@moz-A929D162.flosoft-servers.net) (Ping timeout)
[17:01:13] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[17:01:23] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[17:01:23] *** Quits: k4nar (quassel@CED7C19A.49BC2FC5.DE014C27.IP) (Ping timeout)
[17:01:23] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[17:01:23] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[17:01:27] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[17:01:28] *** Quits: Seldaek (seld@E733C546.5464C2F1.F113998C.IP) (Ping timeout)
[17:01:33] *** Quits: kaeso (kaeso@B42A452A.36A75777.A2798B07.IP) (Ping timeout)
[17:01:41] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[17:01:41] *** Quits: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP) (Ping timeout)
[17:01:47] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:01:50] *** Quits: liszt (liszt@moz-A0A4C524.reverse.softlayer.com) (Ping timeout)
[17:01:50] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[17:01:53] *** Quits: wilson (wilson@moz-5531C57F.wb78.net) (Ping timeout)
[17:02:01] *** Joins: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP)
[17:02:27] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[17:02:43] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[17:02:46] *** Joins: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu)
[17:02:49] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[17:02:50] *** Joins: Seldaek (seld@moz-5DEA7688.ch)
[17:02:57] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:03:00] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Connection reset by peer)
[17:03:17] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[17:03:21] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[17:03:28] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[17:03:30] *** Quits: davidillsley (sid18481@moz-5F4AA75A.irccloud.com) (Ping timeout)
[17:03:41] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:04:08] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[17:04:08] *** Quits: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net) (Quit: mankyKitty)
[17:04:16] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[17:04:29] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[17:04:32] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:04:35] *** Joins: TobiasFar (tm@moz-A929D162.flosoft-servers.net)
[17:05:03] *** Joins: davidillsley (sid18481@moz-5F4AA75A.irccloud.com)
[17:05:11] *** Joins: liszt (liszt@moz-A0A4C524.reverse.softlayer.com)
[17:05:13] *** Joins: wilson (wilson@moz-5531C57F.wb78.net)
[17:05:25] *** Joins: fyolnish (fyolnish@moz-AE4A9A1F.uqwimax.jp)
[17:05:40] *** Quits: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt) (Quit: Konversation terminated!)
[17:05:47] *** Joins: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt)
[17:06:05] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[17:06:11] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[17:07:07] *** Quits: fyolnish (fyolnish@moz-AE4A9A1F.uqwimax.jp) (Ping timeout)
[17:08:16] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[17:08:20] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[17:08:28] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:09:24] *** Quits: omnus_ (omnus@moz-2E009EE2.stny.res.rr.com) (Ping timeout)
[17:11:04] *** Parts: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) ()
[17:12:06] *** Quits: stereosteve (stereostev@moz-C6CCE177.cable.mindspring.com) (Ping timeout)
[17:12:29] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[17:12:51] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Ping timeout)
[17:14:38] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:14:42] <bstrie_rules> strcat: I don't know if commits are actually any smaller than they used to be, I think the other fonts on the page just got bigger :P
[17:14:54] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[17:15:05] <strcat> bstrie_rules: https://github.com/mozilla/rust/pull/11909 well they are basically invisible
[17:15:10] <strcat> and they made the order even more screwed up
[17:15:21] *** Quits: bakkdoor_ (bakkdoor@B833DFEF.72FAA20.172227A7.IP) (Quit: Leaving...)
[17:15:24] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[17:15:33] *** Joins: stereosteve (stereostev@moz-C6CCE177.cable.mindspring.com)
[17:16:37] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[17:17:13] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[17:17:13] *** Quits: Locke23rus (quassel@moz-1014EFC0.static.linky.ru) (Client exited)
[17:17:38] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[17:18:07] <synackse> Is there a convention for line-length in rust?
[17:18:08] *** Quits: stereosteve (stereostev@moz-C6CCE177.cable.mindspring.com) (Ping timeout)
[17:18:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[17:18:19] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[17:18:23] *** Joins: stereosteve (stereostev@moz-C6CCE177.cable.mindspring.com)
[17:18:29] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[17:19:03] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[17:19:10] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:19:19] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:19:25] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:20:21] <bstrie_rules> synackse: less than 100 characters, though we prefer less than 80 if you can
[17:20:31] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[17:20:55] <bstrie_rules> synackse: generally it's only a problem around function signatures :P
[17:21:22] <synackse> Yeah, that’s exactly the situation that raised the question
[17:21:51] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[17:22:25] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[17:24:46] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[17:25:22] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[17:26:00] *** jorendorff_away is now known as jorendorff
[17:26:40] <Tobba> I violate this rule regularily in my project
[17:27:11] <o11c> Tobba: fix your code then
[17:27:22] <Tobba> why
[17:27:29] <Tobba> I can fit like 200 chars on my screen
[17:27:32] <o11c> because someday other people might like to maintain it
[17:27:33] <Tobba> wasted space otherwise
[17:27:48] <o11c> just run multiple tabs
[17:27:51] <Tobba> apparently, the longest line in this
[17:27:52] <Tobba> macro_rules! setExtendedState(($f:ident, $v:expr) => {unsafe{(*(::lib::mem::offset(::core::hal::thread_info[{let tr: u16; asm!("str $0" : "=r"(tr)); (tr-40)/16}].state as *u8, ::lib::mem::size_of::<::core::state::CoreState>() as int) as *mut ::state::ExtendedState)).$f = ($v)}})
[17:28:00] <o11c> if your lines are that long, you're doing something wrong anyway
[17:28:00] <Tobba> I should probably put some newlines in there
[17:28:18] <synackse> I wish there were some sort of smart soft-wrapping for vim
[17:28:31] <synackse> I think Xcode does something like what I mean
[17:29:20] <o11c> synackse: hm? what's wrong with what vim has?
[17:29:39] <synackse> It just wraps it to the beginning of the next line
[17:30:06] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Client exited)
[17:30:09] <synackse> Ideally, it would wrap it to the next line, then indent it properly
[17:30:27] *** Joins: spott (spott@moz-82AAF168.hsd1.co.comcast.net)
[17:30:31] <synackse> Not actually change the code, just for viewing purposes
[17:30:42] <o11c> well, IMO wrapped lines *should* look ugly
[17:30:49] <bstrie_rules> strcat: haha, I didn't even notice that the hashes were invisible. I mean, how could I notice, when they are literally invisible
[17:31:01] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[17:31:08] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Client exited)
[17:31:25] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[17:31:28] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[17:31:37] <bstrie_rules> this is as bad as that blogging platform where the only indication that a word is a link is that it has a two-px #F9F9F9 underline on a #FFF background
[17:31:41] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[17:31:42] <strcat> bstrie_rules: mentions are really hard to see now too
[17:32:01] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[17:32:09] *** Quits: spott (spott@moz-82AAF168.hsd1.co.comcast.net) (Ping timeout)
[17:32:21] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[17:33:10] *** Joins: bt3ze (bt3ze@815DAE87.1E68D00F.DDE5D3F6.IP)
[17:34:10] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:34:36] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[17:34:44] <SiegeLord> I forget, is it impossible to call a static function of a generic type?
[17:35:00] <strcat> static as in extern?
[17:35:17] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:35:24] <SiegeLord> As in no self
[17:35:36] <SiegeLord> Method, I guess
[17:35:51] <synackse> Is it possible to have a function that is both unsafe and extern?
[17:36:22] <strcat> synackse: I think so, but that stuff is a bit broken...
[17:36:46] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:37:00] <synackse> I tried using “unsafe extern fn” and “extern unsafe fn”, but both result in errors
[17:38:04] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:38:28] *** Joins: omnus_ (omnus@moz-2E009EE2.stny.res.rr.com)
[17:39:09] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[17:39:21] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[17:40:28] <pyon> strcat: I think SiegeLord is trying to do something like this: http://ix.io/abx . I am also interested in how to do it correctly.
[17:41:04] <SiegeLord> Yes
[17:41:11] <pyon> strcat: I also tried this: http://ix.io/aby .
[17:41:24] * strcat shrugs
[17:41:28] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[17:41:28] <strcat> does <for T> work?
[17:41:35] *** Quits: zakora (NC@moz-28181BF.fbx.proxad.net) (Quit: Computer has gone to sleep.)
[17:41:47] <strcat> Trait::<for T>::method()
[17:42:12] <pyon> http://ix.io/abA
[17:42:24] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:42:42] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Ping timeout)
[17:42:46] *** Quits: veddan (viktor@moz-C79BC80B.csbnet.se) (Client exited)
[17:43:00] *** Joins: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de)
[17:43:56] <pyon> I think the compiler should be aware that, if T stands for a type that impls Bar, then T::foo is a perfectly legitimate trait method call.
[17:45:28] *** Quits: bt3ze (bt3ze@815DAE87.1E68D00F.DDE5D3F6.IP) (Client exited)
[17:45:32] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:45:47] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[17:45:58] *** Joins: bt3ze (bt3ze@815DAE87.1E68D00F.DDE5D3F6.IP)
[17:46:16] <o11c> I can see why it doesn't though ... you're not passing in a vtable
[17:46:19] *** Quits: igork (igork@moz-D312758C.broadband.corbina.ru) (Quit: Leaving)
[17:46:36] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:46:51] *** Joins: veddan (viktor@moz-C79BC80B.csbnet.se)
[17:47:29] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[17:47:41] *** Quits: bt3ze (bt3ze@815DAE87.1E68D00F.DDE5D3F6.IP) (Ping timeout)
[17:47:46] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[17:48:05] *** Quits: bakkdoor (bakkdoor@moz-E2F9D5CF.dip.osnanet.de) (Connection reset by peer)
[17:48:20] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:48:52] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[17:49:20] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[17:49:30] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[17:49:39] <SiegeLord> I guess I'll just use a dummy variable for now
[17:49:45] <SiegeLord> I'm sure LLVM will make it go away
[17:50:21] <pyon> o11c: "fn test<T: Bar>" <-- The vtable ought to be there. (Although it has to be optimized away when this is monomorphized.)
[17:50:21] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[17:50:42] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:51:10] <strcat> vtables are only used for trait objects
[17:51:53] <strcat> for legacy reasons, librustc calls static dispatch a 'static vtable' but it isn't actually
[17:52:12] <Tobba> is there any way to do this
[17:52:14] <Tobba> Some(vas) if vas.borrow() == self => {
[17:52:17] <Tobba> I dont think I can compare & ptrs
[17:52:18] <Yurume> de-monomorphization?
[17:52:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:52:39] <Yurume> Tobba, do you want std::borrow::ref_eq?
[17:52:52] <Tobba> probably
[17:53:13] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[17:53:19] <Tobba> I tried implementing Eq for & ptrs
[17:53:23] <Tobba> it didnt really work for some reason
[17:53:29] *** Joins: mreca (mreca@moz-9B10510C.hsd1.va.comcast.net)
[17:53:34] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[17:53:39] <Tobba> and I need to make either &self not mutable (ugh) or use a borrow_mut (uhj)
[17:53:39] <Matthias247> I used casts to raw pointers and compared them ;)
[17:53:54] <Tobba> yeah I'll just do this
[17:53:56] <Matthias247> but ref_eq looks good
[17:53:59] *** Joins: Ferreus (ferreus@moz-31F8D159.pools.arcor-ip.net)
[17:54:35] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:54:49] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[17:55:35] <Tobba> have to do self as *mut VAS as *VAS as a bonus
[17:55:51] <Tobba> rust is so annoying with mutability
[17:56:35] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:56:35] *** Joins: vodik (simon@moz-C8D71C7F.net.uwaterloo.ca)
[17:56:36] <strcat> *mut should coerce to *
[17:56:37] <Tobba> casts between non mutables generally dont work as they should, nothing is implict resulting in a lot of entirely pointless code just to make something non-mutable
[17:56:41] <Tobba> ^
[17:56:44] <Matthias247> hmm, the really annoying starts if you try to use smart pointers ;)
[17:57:02] <strcat> Matthias247: how so? ~T/Uniq<T> are fine
[17:57:23] <strcat> do you just mean that non-inherited mutability due to shared ownership is a pain?
[17:57:34] <Yurume> Matthias247, which is a temporary measure until we get Deref trait anyway
[17:57:53] <Yurume> .borrow().borrow_mut().get() is painful and everyone knows that
[17:58:05] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:58:05] <Matthias247> I mean that typing Rc<RefMut<XYZ>> and all the associated borrow, borrow_mut, get, and so on is pita
[17:58:20] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:58:22] <Yurume> yeah, but it will definitely change.
[17:58:29] <pyon> I have a long living task that spawns relatively short living tasks. Is there any way to make the short living tasks borrow stuff owned by the long-living task, without implying any sort of shared ownership semantics?
[17:58:29] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[17:58:32] <Matthias247> good :)
[17:58:40] <Tobba> I currently have static Rc's all over the place
[17:58:43] <Tobba> and no RefCells
[17:58:50] <Tobba> this is pretty much unsafe as hell
[17:59:05] <Tobba> and interrupts that can poke all over the place, obviously
[17:59:21] <Tobba> I should *probably* reconsider a few things in my design
[17:59:26] <Matthias247> hmm, do you also end up in writing more unsafe code in Rust than it would be in C++? :)
[17:59:39] *** Joins: kellogh (timkellogg@moz-68DF7EF7.teliax.com)
[17:59:47] <Yurume> pyon, you can't (as long as I know), the type system cannot ensure if the subtask won't live longer than the parent task.
[18:00:03] <strcat> pyon: when we have fork-join... yes, with Share types
[18:00:05] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:00:14] <eddyb> Tobba: maybe we should have "reentrant" as part of an effect system
[18:00:14] <Tobba> all the C++ code was unsafe as hell
[18:00:16] *** Joins: satalha (satalha@moz-21D6B3DE.csclub.uwaterloo.ca)
[18:00:21] <Tobba> heh
[18:00:35] <Tobba> I set up some form of "critical section" that disables all forms of interrupts
[18:00:41] <pyon> strcat: Share types? What are those? :-O
[18:00:43] <Yurume> strcat, #11781? looks like a valid use case.
[18:00:51] <Tobba> (which doesnt only involve setting the "no interrupts" flag, obviously)
[18:00:56] <eddyb> critical!{ ... }
[18:01:11] <Tobba> right now its hal::critical(|| {
[18:01:22] <Tobba> you can even return things through it
[18:02:32] <eddyb> Tobba: so could you with critical!{..stmts} => {let _lock = Spinlock::new(); ..stmts}
[18:02:49] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[18:02:51] <Tobba> hm, well yeah
[18:02:55] *** pmoore|dinner is now known as pmoore|away
[18:02:57] <Tobba> though this isnt a spinlock
[18:03:11] <Tobba> its just "set a bunch of odd state and flags then unset it"
[18:03:31] <Tobba> otherwise the CPU might interrupt you in various odd ways, though the PF handler is gonna be one of those awful things to handle
[18:03:49] <Tobba> if that triggers in a critical section I'll just make it panic, theres no sane way to handle it
[18:03:53] <eddyb> for some reason the "cli to lock/sti to unlock" is the definition of spinlocks that stuff in my head
[18:03:58] <eddyb> Tobba: yay triple faults
[18:04:11] <Tobba> its not just cli/sti
[18:04:20] <eddyb> s/stuff/stuck
[18:04:21] <Tobba> need to disable NMIs too
[18:04:28] *** Joins: s_justin (s_justin@8BF58621.8E56FF9E.5E72BC23.IP)
[18:04:41] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[18:04:47] <Tobba> technically an NMI will just result in a kernel panic telling you to check your hardware, but afaik theres various mysterious reasons to receive them
[18:05:01] <Tobba> so I should handle them properly
[18:05:45] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[18:05:57] <eddyb> Tobba: oh I forgot how fun osdev is
[18:06:10] *** Joins: fyolnish (fyolnish@moz-E8531FB8.uqwimax.jp)
[18:06:25] <eddyb> Tobba: pedigree has a pretty sophisticated debugger embedded within the kernel
[18:06:37] <Tobba> NMIs are involved in some form of arcane machine check architecture too
[18:06:42] <Tobba> afaik, not only the machine check exception
[18:06:48] <Tobba> which is also one of those voodoo interrupts
[18:06:59] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[18:07:16] <eddyb> can get a backtrace from a double fault with it, I guess. I want something like that in a Rust kernel, but with more safety guarantees and it can live in a library
[18:07:41] *** Joins: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:07:42] *** ChanServ sets mode: +o jdm
[18:07:48] <eddyb> (it can use a framebuffer if it's available, IMO. no need to drop into text mode)
[18:07:55] *** Joins: rntz_ (rntz@moz-E7065CE4.cmdnnj.fios.verizon.net)
[18:07:56] *** Quits: fyolnish (fyolnish@moz-E8531FB8.uqwimax.jp) (Ping timeout)
[18:08:00] <Tobba> I was gonna add an interface to add a debugger
[18:08:10] <Tobba> cant use the display while kernel is running though
[18:08:17] <Tobba> or you risk the display driver going haywire
[18:08:20] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (NickServ (GHOST command used by rntz_))
[18:08:22] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[18:08:33] <Tobba> so you'd need to somehow tell the serial port driver not to touch one of your ports and debug through one of those, fun
[18:08:38] <eddyb> Tobba: you mean live debugging?
[18:08:52] <Tobba> yeah
[18:09:02] <Tobba> on crashing you can just use whatever VBE mode you'd like
[18:09:05] <eddyb> this was after-it-died (or I guess you could breakpoint into it)
[18:09:19] <Tobba> although I'd avoid anything graphical because the graphics driver might have been responsible
[18:09:41] <Tobba> in which case more than one thing is probably horribly broken
[18:09:43] *** rntz is now known as rntz^2
[18:09:46] *** rntz_ is now known as rntz
[18:09:48] *** rntz^2 is now known as rntz_
[18:10:03] <Tobba> then again the only real time I've encountered a the GPU needing to be reset due to horribleness is when OCing
[18:11:02] <eddyb> Tobba: I guess you could have like a gdb debug server on a serial port
[18:11:11] <Tobba> yeah I wanted to do that for live debugging
[18:11:17] <Tobba> its just a text protocol, easy enough to support
[18:11:34] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[18:11:43] <Tobba> the idea is that the bootloader passes a huge chunk of info to the OS
[18:12:00] <Tobba> including info on a debugger so the kernel can install the appropriate interrupt handlers
[18:13:10] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[18:13:21] <Tobba> hm
[18:13:41] <Tobba> I should probably remove all the code that disables interrupts and use critical sections to disable NMI too
[18:14:04] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Quit: Leaving)
[18:14:10] <Tobba> otherwise I might end up in some freak accident where an NMI triggers an event and the scheduler deems the thread to be a higher priority and it jumps directly into another context fron the NMI
[18:14:13] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[18:14:14] <Tobba> that *could* happen
[18:14:23] <Tobba> in theory
[18:15:21] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Client exited)
[18:15:50] <Tobba> ah yes, the magic of kernel dev
[18:16:06] <Tobba> I cant use critical sections over the syscall process context information writing because it returns to the previous kernel context
[18:16:11] <Tobba> thus the code to enable NMIs would never get ran
[18:18:56] *** Quits: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[18:19:45] <SiegeLord> Alright, managed to remove the horrible N^2 set of impls for my matrix operators XD
[18:20:06] <SiegeLord> It'd be nicer if I could call static methods, but LLVM doesn't seem to mind optimizing things away for me
[18:21:48] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[18:22:44] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[18:22:46] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[18:23:23] <jasom> Is it just me, or does rust really confuse the brace matching in vim?
[18:23:45] *** Joins: jschuster (schu@moz-7140CF01.ccs.neu.edu)
[18:24:24] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[18:24:24] <SiegeLord> It's a bit slower in the unoptimized build... but not too much
[18:24:33] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:24:37] <SiegeLord> I'm sure the difference wouldn't be there if I could call static methods
[18:24:46] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[18:24:47] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:25:00] <strcat> jasom: just you
[18:25:46] *** Quits: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP) (Quit: dave1629)
[18:26:13] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[18:26:37] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:27:00] *** Quits: omnus (omnus@moz-2E009EE2.stny.res.rr.com) (Client exited)
[18:27:41] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Quit: canhtak)
[18:28:04] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[18:28:16] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:29:11] *** Joins: dherman (dherman@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[18:29:11] *** ChanServ sets mode: +ao dherman dherman
[18:29:59] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[18:30:14] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[18:32:10] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[18:33:58] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[18:33:58] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[18:34:13] *** Quits: jadbaires (jadrian@moz-B752EED1.dsl.telepac.pt) (Quit: Konversation terminated!)
[18:34:29] *** Joins: amir (amir@moz-49060BB9.cust.bluewin.ch)
[18:35:06] *** Joins: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP)
[18:35:28] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[18:36:01] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[18:36:32] *** Joins: new_one (new_one@103577DD.641FCA23.B3C0173E.IP)
[18:36:34] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[18:36:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[18:37:06] *** Quits: omnus_ (omnus@moz-2E009EE2.stny.res.rr.com) (Client exited)
[18:37:48] <SiegeLord> cmr: Were those graphs in your presentation made with RustGnuplot?
[18:37:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:38:18] <cmr> SiegeLord: no, those are just screenshots of google analytics
[18:38:22] <SiegeLord> Ah
[18:38:26] <cmr> the rustgnuplot project is unrelated ;p
[18:39:45] <Tobba> eddyb: any idea how to tell LLVM not to reorder writes
[18:39:56] <strcat> Tobba: use volatile/atomic stuff
[18:39:57] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[18:40:14] <strcat> there are volatile_load/volatile_store intrinsics
[18:40:48] *** Quits: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP) (Quit: dave1629)
[18:41:23] <Tobba> ugh
[18:41:33] <Tobba> someone really needs to make those intrinsics not unsafe
[18:41:35] *** Quits: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Ping timeout)
[18:41:40] <Tobba> though they accept unsafe pointers I think
[18:42:26] *** Joins: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP)
[18:42:27] <lucian> i think they could be wrapped in a pointer type, right?
[18:42:50] <Matthias247> wouldn't you use barriers for that?
[18:43:09] *** Parts: s_justin (s_justin@8BF58621.8E56FF9E.5E72BC23.IP) ()
[18:43:32] <jasom> strcat: was a user-headspace problem, I didn't have matchit enabled
[18:43:43] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Quit: Leaving...)
[18:45:56] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[18:47:16] *** Joins: claudiu_ (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[18:47:16] *** Quits: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[18:47:24] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Connection reset by peer)
[18:47:34] *** Quits: mreca (mreca@moz-9B10510C.hsd1.va.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:47:48] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[18:49:41] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[18:50:06] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:50:20] *** Joins: Kxepal (Miranda@moz-56282A8D.pppoe.mtu-net.ru)
[18:50:25] *** Joins: Savago (Savago@523C1D2B.E820043D.D4C04133.IP)
[18:50:29] *** Quits: Savago (Savago@523C1D2B.E820043D.D4C04133.IP) (Quit: Savago)
[18:51:29] *** Quits: Kxepal (Miranda@moz-56282A8D.pppoe.mtu-net.ru) (Connection reset by peer)
[18:51:31] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:51:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:51:41] *** Joins: bt3ze (bt3ze@1C55B627.9B1DA26B.DDE5D3F6.IP)
[18:51:42] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:51:52] *** Joins: Kxepal (Miranda@moz-56282A8D.pppoe.mtu-net.ru)
[18:51:58] *** Joins: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[18:52:42] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:52:46] *** Joins: heftig (heftig@moz-3C93FFDA.dip0.t-ipconnect.de)
[18:53:04] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:53:28] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:53:43] *** Quits: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:54:52] *** Joins: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:55:25] *** Joins: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP)
[18:55:25] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[18:56:00] <alan_andrade> I have a Rust sticker! Yeai!
[18:56:06] <cmr> \o/
[18:56:41] <Ms2ger> I may get one this weekend! Yay!
[18:57:03] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[18:57:07] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:57:39] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[18:57:46] <alan_andrade> I saw Kevin, the one that presented the Lua integration had a t-shirt
[18:58:08] <alan_andrade> by any chance, do you know where did he get it ?
[18:58:54] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:59:39] *** Quits: heftig (heftig@moz-3C93FFDA.dip0.t-ipconnect.de) (Quit: Quitting)
[18:59:45] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[18:59:48] *** Joins: heftig (heftig@moz-3C93FFDA.dip0.t-ipconnect.de)
[19:00:12] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[19:00:29] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:00:30] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[19:01:33] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[19:01:53] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[19:01:56] *** Quits: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP) (Quit: dave1629)
[19:02:00] *** Joins: andor (andor@moz-708868D.neferty.me)
[19:02:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:03:11] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[19:03:26] *** Joins: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP)
[19:05:28] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[19:06:44] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[19:06:57] *** Quits: vodik (simon@moz-C8D71C7F.net.uwaterloo.ca) (Ping timeout)
[19:06:57] *** Joins: fyolnish (fyolnish@moz-74A9BAFB.uqwimax.jp)
[19:07:49] *** Quits: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP) (Quit: dave1629)
[19:08:06] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Connection reset by peer)
[19:08:11] *** Joins: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[19:08:41] *** Quits: fyolnish (fyolnish@moz-74A9BAFB.uqwimax.jp) (Ping timeout)
[19:08:57] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:09:00] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[19:09:28] <o11c> Tobba: I don't see how atomic functions could be useful if not unsafe ... Rust doesn't allow sharing memory between tasks otherwise.
[19:09:48] *** Joins: cpeterson (cpeterson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:11:08] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[19:12:18] <Tobba> I basicaly successfully gave myself a headache
[19:12:38] *** Joins: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP)
[19:13:04] *** Quits: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP) (Quit: dave1629)
[19:14:07] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[19:15:03] <Ms2ger> Congratulations
[19:15:16] *** Joins: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP)
[19:15:19] *** Quits: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP) (Quit: dave1629)
[19:16:20] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[19:16:34] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[19:16:39] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[19:16:52] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[19:17:10] *** Quits: olivier (olivier@F06FF1D6.4D0638.416762B.IP) (Ping timeout)
[19:17:58] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[19:18:01] <adridu59> hi!
[19:18:11] <adridu59> what is the difference between MutexArc and RWArc?
[19:18:31] <adridu59> doc says "Unlike mutex_arcs, rw_arcs are safe, because they cannot be nested.", is that all?
[19:18:42] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[19:18:48] <strcat> where does the documentation say that?
[19:18:49] <strcat> they're both safe
[19:19:01] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:19:16] <adridu59> strcat: http://static.rust-lang.org/doc/master/extra/arc/struct.RWArc.html
[19:19:48] *** Quits: victorporof (victorporo@8699B38F.D32F224B.9B1E38F4.IP) (Ping timeout)
[19:21:07] <adridu59> strcat: what makes them differ?
[19:21:12] <pyon> adridu59: MutexArc is only unsafe if you use unsafe_access.
[19:21:41] *** Quits: synackse (jordyd@9E6CE43B.4B53A366.BB6D8913.IP) (Ping timeout)
[19:21:43] <c-a> adridu59, RWArc uses a reader writer lock
[19:21:51] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[19:22:09] *** Joins: victorporof (victorporo@2BA78685.8DD4A887.D111398B.IP)
[19:22:40] <adridu59> c-a: what does that change?
[19:22:44] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:23:22] <c-a> adridu59, which means multiple readers can be in the critical section simultaneously, see http://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock
[19:24:04] <adridu59> so RWArc is better with lots of Readers?
[19:24:28] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[19:24:44] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[19:24:57] *** Quits: victorporof (victorporo@2BA78685.8DD4A887.D111398B.IP) (Ping timeout)
[19:25:51] <nif> is there a binary search implementation in Rust already? I don't want to write my own.
[19:26:01] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[19:26:06] <Ms2ger> bsearch?
[19:26:15] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[19:26:19] <c-a> adridu59, yes, I'd say that's true in general
[19:26:31] <pyon> nif: http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableTotalOrdVector.html
[19:27:06] <nif> Ms2ger, pyon: thx
[19:27:16] <saml> how do I get started with rust? i want to build a web site
[19:29:11] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:30:25] <bvssvni> sami: https://github.com/chris-morgan/rust-http
[19:31:56] <SingingBoyo> saml, bvssvni: my understanding is that while it's possible to create a website, it's quite difficult at the moment. rust-http is getting there but not really ready yet.
[19:33:38] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[19:33:38] *** Joins: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net)
[19:34:06] *** Joins: [squiddy] (squiddy@moz-75173BCD.adsl.alicedsl.de)
[19:34:25] <SiegeLord> It'd be neat to be able to hide type bounds in the documentation...
[19:34:45] <SiegeLord> Or something... it's just so hard to read some signatures
[19:35:45] *** Parts: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) ()
[19:35:49] *** Joins: olivier (olivier@CFE1ACFA.4D0638.416762B.IP)
[19:35:52] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[19:36:22] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[19:37:04] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[19:37:06] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:37:20] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:38:14] *** Joins: igork (igork@moz-D312758C.broadband.corbina.ru)
[19:41:45] *** Parts: ptc (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) ()
[19:42:39] *** Joins: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu)
[19:44:03] *** Quits: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca) (Ping timeout)
[19:44:53] *** Joins: poiru (poiru@moz-C4357EA7.kapsi.fi)
[19:47:18] *** Quits: claudiu_ (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[19:47:25] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Client exited)
[19:47:39] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[19:48:03] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[19:48:31] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[19:48:39] *** Joins: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net)
[19:49:26] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Input/output error)
[19:49:33] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[19:49:43] <jasom> how do I convert (someUint&0xff) to a u8?  Best I have so far is a lot of code involving from_uint()
[19:49:57] *** Joins: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[19:50:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:50:30] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[19:50:35] *** Joins: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP)
[19:50:39] <bvssvni> jasom: 'as u8'?
[19:50:54] <jasom> bvssvni: right.
[19:51:08] <Ms2ger> someUint as u8, even
[19:51:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:51:43] <jasom> Ms2ger: is that well defined to take the LSB?
[19:51:51] <flaper87> does this look right? https://gist.github.com/FlaPer87/8695610 more precisely, I'm curious about the closure lifetime https://gist.github.com/FlaPer87/8695610#file-gistfile1-txt-L7
[19:52:20] <Ms2ger> I believe so, yes
[19:52:48] *** Parts: lenary (sid5084@moz-31ABA2C0.irccloud.com) ()
[19:52:49] <jasom> Ms2ger: I'm used to C where shifting a (uint8_t) left by 24 bits is undefined (assuming a 32-bit int)
[19:53:24] <Ms2ger> (uint8_t)someUint would be fine, no?
[19:53:28] <strcat> Ms2ger: it's undefined in LLVM too
[19:53:44] <strcat> rust currently has a fair bit of undefined behaviour inherited from LLVM
[19:53:50] <strcat> overlong shifts
[19:54:04] <strcat> overflowing casts from int to float and floats to ints
[19:54:14] <Ms2ger> Fun
[19:54:15] <strcat> INT_MIN / -1
[19:54:53] *** Quits: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP) (Quit: dave1629)
[19:54:53] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[19:55:08] <Ms2ger> <3 for warn(dead_code)
[19:55:40] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[19:56:45] <bvssvni> flaper87: does it compile?
[19:56:52] <jasom> Ms2ger: yes, that is well defined in C; signed casts that overflow are not though
[19:57:07] <Ms2ger> \o/
[19:57:31] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:57:45] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[19:57:51] <flaper87> bvssvni: nope, which doesn't always mean the code is not right. So, let me rephrase the question. Is that how lifetimes are supposed to be specified for closures? Does that look like a reasonable code?
[19:58:08] <flaper87> the compiler complains about the 'missing lifetime' for that closure
[19:58:26] <flaper87> although I specified it *and* it doens't complain about that
[19:58:46] <bvssvni> flaper87: try change '&self' to '&'a self'
[19:59:21] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:59:47] *** Joins: zatnosk (zatnosk@3F251686.8BCBE3D0.500EA053.IP)
[19:59:47] *** Kjelle is now known as Zylinski
[20:00:05] *** Zylinski is now known as Kjelle
[20:00:08] *** Quits: maxiepoo_ (Max@moz-DEDB4821.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[20:00:14] *** Kjelle is now known as Zylinski
[20:01:01] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:02:40] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[20:02:43] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:06:28] <Tobba> eddyb: well, I think I finally figured out how to make this safe for interrupts
[20:06:33] <Tobba> it does kinda impose some rules sadly
[20:06:44] <Tobba> e.g cant do X within Y or everything silently goes gigantic
[20:06:45] <Tobba> titanic*
[20:07:22] <Tobba> + tired as hell which isnt helping
[20:07:41] *** Joins: victorporof (victorporo@EAD5AF6F.B2178F9.D111398B.IP)
[20:07:43] *** Joins: fyolnish (fyolnish@moz-74A9BAFB.uqwimax.jp)
[20:07:44] *** Quits: zatnosk (zatnosk@3F251686.8BCBE3D0.500EA053.IP) (Quit: Computer has gone to sleep)
[20:08:43] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[20:09:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:09:28] *** Quits: fyolnish (fyolnish@moz-74A9BAFB.uqwimax.jp) (Ping timeout)
[20:10:23] <Tobba> I cant figure out any good way to do this properly without making it insane
[20:10:55] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:12:19] *** Joins: mrmonday_ (mrmonday@moz-1E82AE75.members.linode.com)
[20:17:00] *** Parts: cpeterson (cpeterson@moz-DFAA4E15.p2p.sfo1.mozilla.com) ()
[20:17:40] <flaper87> bvssvni: mmh, that didn't work
[20:18:44] *** Joins: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP)
[20:19:43] <bvssvni> flaper87: the usual way I solve such issues is removing all generic constraints and add them back one by one :)
[20:20:05] <bvssvni> flaper87: if I am lucky I hit the right combination
[20:20:06] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[20:22:26] <bvssvni> flaper87: not sure why you need a lifetime constraint in OpInt
[20:22:40] <bvssvni> flaper87: it is not used to determine the lifetime of the return value
[20:23:52] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:24:09] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:24:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:24:42] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:25:28] *** Quits: blank_name (blank_name@E7821509.94CCB18F.53C6B850.IP) (Ping timeout)
[20:26:37] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[20:27:25] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:27:38] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[20:28:22] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[20:32:21] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[20:33:22] *** Joins: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca)
[20:34:49] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[20:34:49] *** Quits: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving.)
[20:35:02] *** Quits: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca) (Ping timeout)
[20:35:21] *** Quits: dave1629 (dave@330059AD.96F115D7.DDE5D3F6.IP) (Quit: dave1629)
[20:36:10] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[20:37:21] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[20:37:38] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:37:42] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[20:37:43] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[20:38:04] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:38:23] *** Joins: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca)
[20:38:39] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[20:39:12] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[20:39:43] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[20:39:52] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:40:26] *** Joins: eddyb (eddy@92C54820.41422C5E.2E5184B1.IP)
[20:43:34] *** Joins: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[20:44:11] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[20:44:12] *** Quits: eddyb (eddy@92C54820.41422C5E.2E5184B1.IP) (Ping timeout)
[20:44:38] *** Joins: pauls__ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com)
[20:44:42] *** Quits: pauls_ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com) (Quit: Ignore me!!)
[20:46:29] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[20:46:33] *** Quits: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca) (Quit: Taking a nap.)
[20:46:55] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[20:47:05] *** Quits: jackneill (jackneill@moz-F5F979E0.pool.digikabel.hu) (Ping timeout)
[20:47:17] *** Quits: pauls__ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[20:48:52] *** Joins: pauls__ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com)
[20:49:13] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:49:25] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[20:50:20] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[20:50:30] <jasom> Are method calls slower than function calls?
[20:51:00] <strcat> no
[20:51:06] <mcpherrin> if they go through a vtable there would be the cost of an additional indirection
[20:51:20] <strcat> they don't go through a vtable unless you're using a boxed trait object
[20:51:25] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[20:52:08] <jasom> hmm I prototyped a tree with ~str keys and values, then rewrote it using type parameterization (and while doing so converted 2 functions to methods) the runtime increased by 80%
[20:52:14] <Zylinski> Is there a reason for recommending windows users to use the installer?
[20:52:37] <Zylinski> Compiling from master right now, seems nice & dandy so far.
[20:52:58] <jasom> Zylinski: I would guess that the average windows user doesn't have the build-time dependencies?
[20:53:32] <bstrie_rules> jasom: is the before-and-after code small enough to paste it somewhere?
[20:53:42] <strcat> jasom: which version of rust?
[20:53:44] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[20:53:55] <bstrie_rules> jasom: methods are pretty much just sugar for functions. there shouldn't be any extra overhead
[20:53:59] <jasom> strcat: 0.9 bstrie_rules ~500 lines
[20:54:08] <strcat> jasom: use master, and ask again
[20:54:10] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[20:54:10] <jasom> bstrie_rules: I'm guessing it has to do with the type-parameterization changes
[20:54:17] <strcat> methods in 0.9 weren't implemented very well
[20:54:22] <Zylinski> jasom: Well, most of it comes with mingw32 anyways, which every windows user has to install even if they use the installer.
[20:54:38] <bstrie_rules> jasom: type-parameterization doesn't introduce any indirection, it all gets specialized to individual functions at compile time
[20:54:50] <bstrie_rules> it's equivalent to writing all the functions yourself with the correct types
[20:55:17] <jasom> bstrie_rules: It introduces at least some in this case I think.  I had functions that were previously &str that are now &K where K is ~str
[20:55:35] *** Joins: claudiu_ (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[20:55:36] *** Joins: dr_bibble (Mibbit@moz-91952296.dip0.t-ipconnect.de)
[20:55:52] *** Quits: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[20:55:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[20:57:10] *** Quits: thiago (thiago@705535C9.9074706C.BD25C20F.IP) (Ping timeout)
[20:57:16] *** Quits: claudiu_ (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[20:58:08] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:58:52] <jasom> well I'll profile the two and see if I can find the difference
[20:58:57] *** Quits: kellogh (timkellogg@moz-68DF7EF7.teliax.com) (Quit: kellogh)
[20:59:51] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:00:35] *** Joins: jvrmaia (jvrmaia@3B638C29.261EB871.DF2AC62B.IP)
[21:01:42] <jasom> oprofile useful at all with rust?
[21:01:56] <mcpherrin> jasom: It should be
[21:01:57] <Zylinski> Hm, seems like the compilation of rust did not like "make -j 4"
[21:02:15] *** Quits: Luminous_Path (L_P@moz-5FAB8841.br.br.cox.net) (Quit: )
[21:02:17] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[21:03:22] <veddan> Zylinski: it occasionally fails
[21:03:31] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[21:03:31] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:04:32] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[21:04:56] <Zylinski> It got stuck in some infinte loop methinks.
[21:05:24] *** Joins: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu)
[21:05:25] <jasom> Zylinski: I don't think so, it is just really slow
[21:05:32] <Eridius> Zylinski: how much RAM do you have on the machine you're trying to build on?
[21:05:56] <Zylinski> Eridius: 8 GB
[21:05:58] <Eridius> ok
[21:05:58] <strcat> veddan: I've never seen it infinite loop
[21:06:06] <strcat> Zylinski: what is the last line it printed
[21:06:07] <Eridius> Make certainly can't infinite loop, and I don't think rustc will either
[21:06:44] <jasom> I saw single invocations of rustc take several minutes on my 3.1GHz xeon as part of the build process so I bet it's just slow, not looping forever
[21:06:44] <strcat> it takes ~5 mins to do each stage, where that's divided among like 5 libs
[21:06:51] <strcat> so it'll only print one a minute or so
[21:06:54] <strcat> once*
[21:07:32] <Zylinski> it pulled rust stage0 and then went silent, eating a core worth of CPU and a constant amount of memory
[21:07:57] <Zylinski> when I did just make it started compiling the cpp-stuff, with -j 4 it downloaded stage0, unpacked it and went silent
[21:08:05] <strcat> Zylinski: what is the last line printed?
[21:08:15] <strcat> and how long did you wait?
[21:08:28] *** Joins: fyolnish (fyolnish@moz-74A9BAFB.uqwimax.jp)
[21:08:31] <strcat> it takes maybe 2 minutes to compile librustc
[21:08:43] <strcat> it won't print during that wait
[21:08:54] <Zylinski> I waited a couple of minutes. The last line printed was unpack of some rustc stage0 readme (my terminal log is gone)
[21:09:01] *** Quits: Kxepal (Miranda@moz-56282A8D.pppoe.mtu-net.ru) (Quit: Kxepal)
[21:09:16] *** Quits: Ms2ger (Ms2ger@moz-EF1E89E8.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:09:18] *** Joins: Kxepal (Miranda@moz-56282A8D.pppoe.mtu-net.ru)
[21:09:22] <Zylinski> But I found it werid that it compiles the cpp stuff now and seemed to "skip" that part when I ran it with -j4?
[21:09:45] <Zylinski> But maybe that's intended, just found it curious.
[21:09:55] <Eridius> Zylinski: the last line printed with -j4 isn't very useful. There's a bunch of bottlenecks
[21:10:08] *** Quits: fyolnish (fyolnish@moz-74A9BAFB.uqwimax.jp) (Ping timeout)
[21:10:09] <Matthias247> make -j x on windows definitly does not work
[21:10:14] <Eridius> typically with -j4 you'll find that an earlier line about it compiling some library is what's taking time
[21:10:15] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[21:10:17] <Eridius> e.g. compiling stage0/libstd
[21:10:26] *** Joins: seich (seichMoz@AA0FB80D.1514D38A.624CE61B.IP)
[21:10:27] <Eridius> I do wish make could show you which tasks were still active :/
[21:10:33] <Matthias247> i think it starts on further products without having finished the dependencies
[21:10:44] <Zylinski> Matthias247: Yes, I think that's what happened
[21:10:51] <Zylinski> I'm on my windows machine
[21:11:04] <Matthias247> yes, had the same problem
[21:11:12] <Matthias247> don't use -jx :(
[21:11:20] <Matthias247> i think it's also mentioned in the wiki
[21:11:23] <Zylinski> I'm no longer doing that =)
[21:12:49] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:12:51] *** Joins: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net)
[21:13:08] <joebobjoe> Do all tries use integer keys?
[21:13:29] * jasom slaps himself
[21:13:48] <jasom> So if you have -O in the makefile for one program and not in the other, guess which runs fsater?
[21:14:03] *** Quits: jschuster (schu@moz-7140CF01.ccs.neu.edu) (Quit: jschuster)
[21:14:22] *** Quits: seich (seichMoz@AA0FB80D.1514D38A.624CE61B.IP) (Quit: Lingo - http://www.lingoirc.com)
[21:14:25] *** Joins: seich (seich@AA0FB80D.1514D38A.624CE61B.IP)
[21:14:38] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:14:40] <Eridius> joebobjoe: trie's typically use string keys
[21:14:52] <Eridius> granted, each character of a string is indistinguishable from an integer...
[21:14:56] <strcat> std::trie is only integer keys
[21:15:01] <strcat> like haskell's IntMap
[21:15:40] <strcat> it's not very generic
[21:15:56] <Eridius> I haven't looked at std::tree. is it a bitwise tree then?
[21:15:57] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[21:16:00] <Eridius> *trie
[21:16:06] <Eridius> also, the docs site isn't responding right now :/
[21:16:09] <strcat> needs to be turned into a nice burst trie or whatever before worrying about how generic it is
[21:16:20] <strcat> Eridius: it takes chunks of bits and branches on them with an array
[21:16:20] <Eridius> oh good docs are back
[21:16:24] <joebobjoe> strcat: Will it be generic eventually?
[21:16:31] <strcat> so, radix trie with suffix compression for single paths or whatever
[21:16:40] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[21:16:49] <strcat> joebobjoe: well, it'll work for other integer types... once we have associated constants
[21:17:10] *** Quits: bt3ze (bt3ze@1C55B627.9B1DA26B.DDE5D3F6.IP) (Client exited)
[21:17:41] *** Joins: bt3ze (bt3ze@1C55B627.9B1DA26B.DDE5D3F6.IP)
[21:18:12] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:18:37] *** Joins: jschuster (schu@moz-7140CF01.ccs.neu.edu)
[21:19:01] *** Quits: jschuster (schu@moz-7140CF01.ccs.neu.edu) (Quit: jschuster)
[21:19:25] *** Quits: bt3ze (bt3ze@1C55B627.9B1DA26B.DDE5D3F6.IP) (Ping timeout)
[21:19:28] <joebobjoe> strcat: Hm. So a TrieSet only stores uints... So it has a depth limit?
[21:19:35] <strcat> joebobjoe: yes
[21:19:49] <strcat> in theory you can configure the depth vs. memory usage tradeoff
[21:19:59] <strcat> but no associated constants or type system integers
[21:20:04] <strcat> so it's hard-wired in that module
[21:20:18] <joebobjoe> I thought tries generally could be arbitrary length...
[21:20:23] <joebobjoe> ^^^ Sorry, I'm noob
[21:20:42] *** Joins: jhasse (jhass_000@moz-CF727DFC.ewe-ip-backbone.de)
[21:21:07] <strcat> joebobjoe: there are different implementations of tries
[21:21:11] <strcat> this is a trie for fixed-size integers
[21:21:26] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Client exited)
[21:21:31] <joebobjoe> Will Rust have one for arbitrary types?
[21:21:37] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[21:21:50] *** Joins: reima (Instantbir@moz-16DF5119.dip0.t-ipconnect.de)
[21:22:22] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Client exited)
[21:22:52] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[21:24:03] *** Joins: kvanb (kvanb@moz-C8D7D30C.lnse7.win.bigpond.net.au)
[21:24:09] <Tobba> I wish there was a volatile { } block
[21:24:28] <strcat> make a volatile type for what you need
[21:24:31] <Tobba> preventing write reordering in this is gonna get VERY stupid
[21:24:39] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[21:24:39] <Tobba> in this case
[21:24:45] <Tobba> I need to copy and paste a volatile version of this macro
[21:24:46] <Tobba> aka UGH
[21:25:13] *** Joins: ofeldt (ofeldt@moz-C70CF4F3.dip0.t-ipconnect.de)
[21:26:11] <Tobba> volatility and mutability in rust are both nightmares right now
[21:26:12] *** Quits: ofeldt- (ofeldt@moz-116342C4.dip0.t-ipconnect.de) (Ping timeout)
[21:26:27] <strcat> I don't really see how mutability is a nightmare
[21:26:48] *** Quits: seich (seich@AA0FB80D.1514D38A.624CE61B.IP) (Quit: Computer has gone to sleep.)
[21:26:53] <joebobjoe> strcat: Oh, I see... A trie is like a cross between an array and a linkedlist?
[21:26:56] <strcat> or volatile...
[21:27:22] <Tobba> any time a mut is involved
[21:27:28] <Tobba> the entire code peice turns into casting pong
[21:27:34] <strcat> joebobjoe: it's a map with O(k) lookup where k is the length of a key, it just takes chunks off the key and splits it into the array
[21:27:44] <strcat> it's a special kind of tree
[21:28:46] <jasom> joebobjoe: fwiw I'm writing a critbit tree to implement a Map
[21:29:22] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[21:29:24] <eddyb> jasom: woo, make it public :D
[21:29:46] <jasom> eddyb: will do once it doesn't totally suck
[21:29:59] <jasom> I just wrote it to get used to rust
[21:30:57] *** Quits: saati (s@moz-11469F61.harmless.hu) (Client exited)
[21:30:58] <Tobba> volatile { } would be so much easier than having to wrap everything in unsafe volatile_load/store all over
[21:31:15] *** Joins: pnkfelix (pnkfelix@moz-B1D2E7D0.pck.nerim.net)
[21:31:51] <strcat> Tobba: you don't have to wrap stuff in volatile_*, you can make VolatileInt or whatever it is
[21:32:02] <Tobba> I could make a volatile wrapper
[21:32:05] <Tobba> and it would still be hell
[21:32:10] <strcat> it would be the same as C
[21:32:11] <Tobba> the thing is this isnt *always* volatile
[21:32:16] <jasom> eddyb: specialized for strings it runs 1x-1.5x the speed of a hash (starting out slower, but catching up quickly in speed) it's 1.5-2x the speed for integers, but I haven't done any fancy bittricks on the integer implementation yet
[21:32:20] <Tobba> but some of these stores need to be volatile
[21:32:23] *** Joins: claudiu (claudiu@moz-70F9251D.thefacebook.com)
[21:32:25] * skrylar pokes head up for a moment.
[21:32:26] <Tobba> only *some* of the stores
[21:32:32] <Tobba> otherwise the whole thing dies in a fire
[21:32:38] <skrylar> eddyb: have you run in to an issue where specifying -L makes rust forget where the libstd is?
[21:32:53] <strcat> Tobba: then what is rust doing worse than $LANGUAGE you are comparing to?
[21:33:10] <Tobba> volatile_load/store is even worse than in C
[21:33:19] <Tobba> which is already awful due to GCCs horrible interpretation of how volatile works
[21:34:23] <eddyb> skrylar: nope. I do remember you did do something wrong once with building rust :P
[21:34:36] <Tobba> I have an awful headache from having to deal with this shit
[21:34:41] <Tobba> rusts mutability sausagefest doesnt help
[21:34:52] <strcat> so what about it is worse than C?
[21:34:57] <strcat> and what is wrong with mutability? ;\
[21:36:01] <Tobba> mutability becoming casting pong near instantly
[21:36:10] <Tobba> as non mutables and mutables are treated as entirely different types
[21:36:17] <strcat> they aren't
[21:36:22] <Tobba> and cant even be casted back and forth
[21:36:31] <joebobjoe> strcat: Is a virtual address table basically a trie?
[21:36:36] <Tobba> well, &mut wont cast to &
[21:36:36] <strcat> joebobjoe: yes
[21:36:41] <strcat> Tobba: it will
[21:36:42] <pcwalton> &mut does cast to &
[21:36:42] <strcat> it coerces
[21:36:53] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[21:36:55] <strcat> mutability is a property of the owner for 90% of types that get used
[21:37:05] <strcat> &/&mut are split since they aren't owning
[21:37:10] <Tobba> and &mut == & will error etc
[21:37:17] <joebobjoe> When you do checked arithmatic, does the checking occur in H/W or S/W?
[21:37:21] <joebobjoe> metic*
[21:37:24] <Tobba> SW
[21:37:26] <strcat> joebobjoe: well... both
[21:37:44] <strcat> joebobjoe: on most architectures, there are carry/overflow flags
[21:37:53] <strcat> so when you do integer arithmetic, it sets the carry/overflow flags
[21:38:06] <joebobjoe> strcat: Where is this flag?
[21:38:07] <strcat> you check overflow for signed integer overflow, and carry for unsigned (if my brain is working correctly)
[21:38:15] <Tobba> rusti: let x: uint = 5; (&mut x) as &uint
[21:38:17] -rusti- <anon>:10:26: 10:43 error: non-scalar cast: `&mut uint` as `&uint`
[21:38:18] -rusti- <anon>:10         let x: uint = 5; (&mut x) as &uint
[21:38:18] -rusti-                                    ^~~~~~~~~~~~~~~~~
[21:38:18] -rusti- error: aborting due to previous error
[21:38:18] -rusti- application terminated with error code 101
[21:38:27] <strcat> joebobjoe: on the CPU
[21:38:36] <strcat> joebobjoe: anyway it *is* slower to do checked arithmetic
[21:38:43] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:38:49] <Tobba> rusti: let x = uint 5; &x == &mut x
[21:38:49] -rusti- <anon>:10:22: 10:23 error: expected `;` but found `5`
[21:38:49] -rusti- <anon>:10         let x = uint 5; &x == &mut x
[21:38:49] -rusti-                                ^
[21:38:50] -rusti- application terminated with error code 101
[21:38:57] <strcat> because by reading the carry flag and doing something based on it, you're serializing the pipeline more
[21:39:01] <Tobba> rusti: let x: uint = 5; &x == &mut x
[21:39:02] -rusti- <anon>:10:32: 10:38 error: cannot borrow immutable local variable as mutable
[21:39:02] -rusti- <anon>:10         let x: uint = 5; &x == &mut x
[21:39:02] -rusti-                                          ^~~~~~
[21:39:02] -rusti- error: aborting due to previous error
[21:39:02] -rusti- application terminated with error code 101
[21:39:13] <strcat> and by branching on it, you're adding more code bloat + branches to predict
[21:39:20] *** Joins: anonymous_29563 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[21:39:20] <Tobba> rusti: let mut x: uint = 5; &x == &mut x
[21:39:25] -rusti- pastebinned 13 lines of output: http://ix.io/abU
[21:39:43] <joebobjoe> strcat: Hm. Is the flag a reg you check?
[21:39:43] <Tobba> interestingly enough that actually sorta works
[21:40:02] <strcat> joebobjoe: well it's a flag in a register
[21:40:02] <Tobba> usually comparing mutables and non mutables the entire thing dies in different fun ways every time
[21:40:11] <strcat> joebobjoe: there is other stuff
[21:40:20] <strcat> joebobjoe: https://en.wikipedia.org/wiki/Status_register
[21:40:21] <joebobjoe> strcat: I thought a reg was 64 bits
[21:40:23] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[21:40:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:40:28] <strcat> joebobjoe: on which arch?
[21:40:34] <joebobjoe> x86_64
[21:40:42] <strcat> x86_64 has many sizes of registers
[21:40:50] <strcat> SSE registers are 128-bit
[21:41:20] <mcpherrin> 256 in AVX
[21:41:23] <strcat> AVX replaces that with 256-bit registers, and AVX-512 has 512-bit ones
[21:41:23] <joebobjoe> strcat: Not talking about that ISA
[21:41:30] <strcat> joebobjoe: hm?
[21:41:43] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[21:41:57] <joebobjoe> strcat: If I add a 64 bit number into a 64 bit register, how do I check for overflow? Unsigned?
[21:42:14] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[21:42:42] <strcat> joebobjoe: addition, multiplication and subtraction are the same op for signed/unsigned
[21:42:43] <o11c> joebobjoe: in asm, you check the flags register using special instructions
[21:42:45] *** Quits: jvrmaia (jvrmaia@3B638C29.261EB871.DF2AC62B.IP) (Quit: Leaving...)
[21:42:51] <strcat> the difference in overflow checks is whether you read the carry flag or overflow flag
[21:43:49] <joebobjoe> strcat o11c: Okay. So that flags are set in a different register.
[21:43:52] <joebobjoe> That's all I was asking :D
[21:43:54] <strcat> joebobjoe: yeah
[21:43:55] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[21:43:57] <strcat> there's a flags register
[21:44:12] <strcat> joebobjoe: https://en.wikipedia.org/wiki/FLAGS_register on x86, this thing
[21:44:27] <strcat> it *really* causes a lot of serialization to check it
[21:44:37] <joebobjoe> strcat: I think I remember back in MIPS class that you could do checked arithmetic except it would throw a fault
[21:44:42] <joebobjoe> I don't remember a flags
[21:44:47] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Ping timeout)
[21:44:47] <strcat> I think you can do that too
[21:44:55] <o11c> I imagine that modern CPUs have more than one copy of the flags register
[21:45:00] <joebobjoe> strcat: But is that much slower?
[21:45:06] <strcat> o11c: yes, under the hood ofc
[21:45:16] <strcat> x86_64 exposes 16 general purpose registers but has 300+ under the hood
[21:45:19] <strcat> but register renaming isn't magic
[21:45:29] *** Joins: alan_andrade (Adium@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:46:04] <strcat> (well it kind of is, but you know what I mean! :P)
[21:47:07] <strcat> you can measure the perf impact of checking easily
[21:47:22] <strcat> in a simple case where it's the only thing in the loop and it runs for a long time, it will be the same speed
[21:47:27] <strcat> since it predicts 100%
[21:47:40] <strcat> although the compiler would have vectorized that loop if it didn't check...
[21:48:00] <joebobjoe> strcat: Vectorized? As in AVX?
[21:48:19] <strcat> well lets say you're adding one to each element in an array in a loop
[21:49:34] <strcat> I am pretty sure SSE/AVX will conflate the various overflow cases, maybe I'm wrong
[21:49:42] <strcat> regardless, LLVM doesn't know how to do it atm ;p
[21:49:45] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[21:49:54] <joebobjoe> strcat: Will Rust have AVX types?
[21:50:00] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[21:50:08] <strcat> well it has SIMD vectors
[21:50:21] <strcat> not much is exposed at this point
[21:50:32] <joebobjoe> strcat: So LLVM trivially SIMD -> SEE/AVX?
[21:50:37] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:51:38] <strcat> joebobjoe: hm?
[21:51:39] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Connection reset by peer)
[21:51:46] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[21:51:52] <strcat> LLVM has first-class vector types
[21:52:11] <strcat> it exposes some platform independent operations on them and a whole lot of platform dependent ones
[21:52:26] *** Quits: gwty (gwtypc@4014B10F.C875E086.8A00C703.IP) (Ping timeout)
[21:52:39] *** Joins: ienh (user@moz-F3A1CBB9.lsanca.dsl-w.verizon.net)
[21:53:17] <strcat> SSE/AVX instructions don't seem to set the flags at all
[21:53:27] <strcat> in general at least, I'm sure there are some exceptions ;p
[21:53:38] <joebobjoe> strcat: What I mean is if I use the SIMD type in Rust and I compile for a platform with AVX, will LLVM convert those SIMD ops into AVX?
[21:53:43] *** Quits: olivier (olivier@CFE1ACFA.4D0638.416762B.IP) (Ping timeout)
[21:53:57] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[21:54:00] <strcat> well most platforms don't have 256-bit/512-bit vectors...
[21:54:17] <strcat> so by using vectors of that size in your code you're essentially only targeting AVX
[21:54:18] <joebobjoe> strcat: Okay replace AVX with SSE2 or something
[21:54:22] <strcat> not sure what LLVM will do elsewhere
[21:55:02] <joebobjoe> strcat: Basically, does using SIMD type guarantee using vector instructions?
[21:55:07] <strcat> no
[21:55:52] <joebobjoe> strcat: So then what's the point?
[21:56:08] <o11c> it uses vector instructions if it can
[21:56:12] <o11c> and works even if it can't
[21:56:13] <strcat> floating point types don't guarantee that you're using hardware floating point either
[21:56:17] <strcat> well, it may work
[21:56:25] <strcat> I am not sure if LLVM knows how to lower them in all cases
[21:56:33] *** Joins: gwty (gwtypc@4014B10F.C875E086.8A00C703.IP)
[21:56:43] *** Quits: jhasse (jhass_000@moz-CF727DFC.ewe-ip-backbone.de) (Quit: Verlassend)
[21:57:28] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[21:57:54] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[21:58:37] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[21:58:51] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:59:14] *** Joins: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca)
[21:59:14] <joebobjoe> strcat: Interesting, I didn't know that. What if you're writing a game and you know your game withh be slow if LLVM doesn't use SIMD...
[21:59:25] <joebobjoe> There is no way to guarantee SIMD compilation or fail
[21:59:37] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[21:59:42] <joebobjoe> By the way, does Rust no longer have those ! failure type-things?
[21:59:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:00:29] <strcat> joebobjoe: if you need those SIMD operations and they are not available, there is nothing you could have done by hand anyway
[22:00:34] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:00:35] *** Joins: mihneadb (mihneadb@6459B168.18650252.A5830293.IP)
[22:00:40] <strcat> so I'm not sure why it's a problem
[22:00:48] <joebobjoe> Nvm about the failure thing I see
[22:01:46] <joebobjoe> strcat: But what if you're in the ideal world and all software is distributed by source... Some users may compile a game that is sluggish and blame you for performance when I'd rather have it not compile at all
[22:02:01] <strcat> some users may have a slow computer
[22:02:32] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[22:02:53] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:03:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:03:25] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[22:03:30] <veddan> does rustc use LLVM's C interface?
[22:03:37] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[22:03:42] <strcat> veddan: yes
[22:04:09] <veddan> I looked into adding support for #[align(...)] on types
[22:04:24] <veddan> for that we'd need to set alignment on allocas (and want to on loads and stored)
[22:04:35] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[22:04:36] <veddan> from what I can see that isn't possible with the C interface
[22:04:40] <strcat> what if you do ~Foo::new and it needs 32-byte alignment?
[22:04:51] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Ping timeout)
[22:04:54] <strcat> veddan: it likely is possible
[22:05:49] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[22:06:03] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[22:06:24] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[22:06:44] *** Quits: kvanb (kvanb@moz-C8D7D30C.lnse7.win.bigpond.net.au) (Quit: kvanb)
[22:08:08] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[22:08:42] *** Quits: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net) (Input/output error)
[22:08:47] *** Joins: Earnestly (earnest@moz-A8B5B5EE.dyn.plus.net)
[22:09:15] *** Joins: fyolnish (fyolnish@moz-E5AB0494.uqwimax.jp)
[22:09:26] <joebobjoe> I've always wondered this, and it might be noob, but does memory allocation on the heap involve the OS at all?
[22:09:51] <mcpherrin> joebobjoe: it depends
[22:09:59] <veddan> strcat: couldn't the ~ case just be handled by malloc_aligned (or whaever it might be called)?
[22:10:21] <mcpherrin> joebobjoe: You have to get a chunk of memory to form "the heap", which malloc() hands out piece by piece
[22:10:23] *** Quits: pyon (user@5D202184.695050F8.E6392873.IP) (Quit: restart)
[22:10:25] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:10:37] <strcat> joebobjoe: stacks and the 'heap' come from the same pool of memory
[22:10:38] <mcpherrin> joebobjoe: large allocations are typically done by calling mmap() directly
[22:10:48] <strcat> mcpherrin: depends on the allocator
[22:10:57] <mcpherrin> strcat: of course
[22:10:58] *** Quits: fyolnish (fyolnish@moz-E5AB0494.uqwimax.jp) (Ping timeout)
[22:11:17] <strcat> mmap can be significantly slower due to zeroing everything
[22:11:34] <strcat> big reason why glibc outperforms jemalloc in simple tests
[22:11:55] *** Quits: heftig (heftig@moz-3C93FFDA.dip0.t-ipconnect.de) (Ping timeout)
[22:12:10] * strcat hopes the new linux virtual memory API lands soon
[22:12:14] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:12:32] <mcpherrin> void *malloc(int sz) { return sbrk(sz)}; void free() {};
[22:12:49] <mcpherrin> strcat: ooo what new api is this? I haven't heard
[22:13:11] <strcat> mcpherrin: as in a new system call replacing mmap/sbrk for allocators
[22:13:12] <strcat> lemme go find it
[22:13:47] <mcpherrin> I forget if sbrk does what I want in that code or if I have to void *p sbrk(0) and return p;
[22:13:53] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[22:14:04] <mcpherrin> I should really get a subscription to lwn to keep up on these things
[22:14:33] <hoverbear> Alright... Trying to set up Rust CI for the Rust Rosetta repo. I guess I'll need a Makefile that makes all non-invisible, non-makefile files?
[22:14:39] <strcat> mcpherrin: https://lkml.org/lkml/2013/3/12/105 not sure if that's the most recent version
[22:15:39] <strcat> mcpherrin: it'll be so awesome if it lands ;\
[22:16:15] <mcpherrin> strcat: neat.  I'll read what it does later :)
[22:16:18] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Quit: Leaving)
[22:18:21] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:18:48] *** Joins: Kambfhase (quassel@moz-1716365F.travedsl.de)
[22:19:10] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:19:35] <joebobjoe> mcpherrin strcat: So malloc() is a syscall? Why do you need to call the OS to get memory? I thought that with virtual memory you could use any address freely
[22:19:44] <strcat> no, malloc isn't a system call
[22:20:06] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[22:20:10] <joebobjoe> So what is malloc and mmap?
[22:20:11] <strcat> malloc/realloc/free is a standard C library API implemented on top of whatever the OS provides
[22:20:45] <joebobjoe> strcat: Okay, but does malloc realloc free call system calls?
[22:20:49] <strcat> mmap/mremap/munmap are system calls for managing blocks of virtual memory
[22:20:58] *** Joins: heftig (heftig@moz-9A896790.dip0.t-ipconnect.de)
[22:21:09] <strcat> joebobjoe: they are a wrapper around system calls, which ones depends on the platform/allocator
[22:21:09] *** Quits: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net) (Ping timeout)
[22:21:27] <joebobjoe> strcat: Does malloc() in C necessarily cause a syscall?
[22:21:32] <strcat> no
[22:21:41] <joebobjoe> strcat: So it handles everything for you
[22:21:49] <strcat> modern allocators use pools
[22:22:05] <joebobjoe> Why does linux requrie sys calls to allocate memory?
[22:22:07] <mcpherrin> joebobjoe: malloc() has a pool of memory it allocates out of.  Once the pool is depleted, it'll do a syscall to get more memory
[22:22:09] <o11c> the first malloc does a syscall, after that it will only syscall if you allocate a lot of memory
[22:22:23] <joebobjoe> mcpherrin o11c: Got it
[22:22:32] <o11c> unfortunately, people these days are writing allocators that never *return* the memory to the system
[22:22:37] *** Joins: seich (seich@E3B5208C.1AEF4E94.8D341CE7.IP)
[22:22:40] <hoverbear> How can I pass a list of files to rustc to compile it?
[22:22:45] <jdm> /home/jdm/sdb/servo/src/components/script/dom/node.rs:1296:12: 1296:25 error: binary operation == cannot be applied to type `&mut dom::bindings::jsmanaged::JSManaged<dom::node::Node>`
[22:22:51] *** Quits: Ferreus (ferreus@moz-31F8D159.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[22:22:54] <o11c> I believe that's one of the reasons chromium uses a lot of memory these days
[22:22:58] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[22:22:59] <jdm> I have implemented the Eq trait for JSManaged<T>
[22:23:01] <jdm> what's up?
[22:23:20] <joebobjoe> o11c mcpherrin: Why can't I just use any virtual address I want... Why does Linux require a syscall to initially "allocate" mem?
[22:23:25] <strcat> o11c: you have it a bit backwards
[22:23:33] <strcat> o11c: *nix allocators generally used to use sbrk exclusively
[22:23:37] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[22:23:43] <o11c> strcat: well, I know glibc gives memory back
[22:23:44] <strcat> and with sbrk, you are really not going to ever be able to return memory to the OS
[22:23:47] <strcat> o11c: it tries...
[22:23:57] <o11c> but all sorts of people write new allocators just to *not* give it back
[22:23:58] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:23:58] <strcat> o11c: ok think about what sbrk does
[22:23:59] <o11c> which is sad
[22:24:07] <o11c> I know, sbrk-only would be bad
[22:24:08] <strcat> o11c: tcmalloc/jemalloc both return memory to the OS
[22:24:15] <strcat> o11c: mmap doesn't work out well either though
[22:24:21] <mcpherrin> joebobjoe: You could do that if you wanted to.  Just mmap() the whole address space
[22:24:26] <strcat> because the application will allocate memory for different purposes
[22:24:33] <strcat> a single little 16 byte allocation can hold onto the whole mmap'ed block
[22:24:41] <strcat> the application may not bother to free it until exit
[22:24:47] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[22:24:47] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[22:24:53] <strcat> so it could allocate 3GiB of memory and free 90%
[22:24:53] <o11c> mmap everything and madvise(DONTNEED) would probably work pretty well though
[22:24:58] <strcat> but little blocks hold onto the blocks
[22:25:07] <strcat> o11c: well, that's what tcmalloc does
[22:25:09] <joebobjoe> mcpherrin: But what's the advantage of only allocating parts at a time?
[22:25:16] <strcat> o11c: glibc actually munmaps to reduce VIRT
[22:25:21] <strcat> jemalloc... it depends
[22:25:40] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[22:25:53] <mcpherrin> joebobjoe: You may want to map other things into memory, like files, new DLLs, etc
[22:26:00] <strcat> o11c: chrome's process model means that they have an allocator per site instance (shared among tabs for that site instance)
[22:26:03] <mcpherrin> joebobjoe: not to mention you may want to unmap that memory at some point
[22:26:10] <strcat> o11c: so they actually do free all of the memory for that site when it's closed
[22:26:30] <strcat> that's also one of the reasons it uses so much memory
[22:26:32] <o11c> strcat: well, regardless of the intent, I *know* that opening 50 tabs and then closing them again leads to an increase in memory use
[22:26:39] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:26:43] <mcpherrin> joebobjoe: Plus segfaults are a nice way of finding out your program is misbehaving :P
[22:26:46] <strcat> o11c: in any browser
[22:26:51] <o11c> but it's not a leak, repeating doesn't continually increase it
[22:26:52] <strcat> o11c: for one thing it has cached all of that stuff in memory
[22:27:34] <strcat> chrome will actually fare unreasonable well in a test like that
[22:27:58] <strcat> unreasonably*
[22:28:07] <strcat> because it's actually dropping those allocator pools completely
[22:28:20] *** Joins: blank_name (blank_name@E7821509.94CCB18F.53C6B850.IP)
[22:28:27] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[22:28:35] *** Quits: seich (seich@E3B5208C.1AEF4E94.8D341CE7.IP) (Quit: Lingo - http://www.lingoirc.com)
[22:28:39] <strcat> while another browser would probably have a lot of data mixed together, and is going to be stuck with it (but will reuse the gaps the next time)
[22:29:05] <strcat> the point of the vrange API is that allocators will never need to return memory to the system
[22:29:07] <strcat> the kernel handles it
[22:29:14] <strcat> if it needs the memory, it takes it back
[22:31:32] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[22:32:08] <joebobjoe> Why doesn't the kernel just run on a separate processor... jeesh
[22:32:13] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:32:27] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:32:27] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:32:50] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:33:06] *** Quits: rca (rcatolino@68C2C935.20EF280.520D6FA6.IP) (Ping timeout)
[22:33:54] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[22:34:56] <Amaranth> joebobjoe: That's actually how high scalability servers work. The kernel gets 2 cores for doing kernel stuff and the other cores are 100% in control of the processes running on them, so long as they don't make any syscalls
[22:35:39] <joebobjoe> Amaranth: Wow. What ISA/OS would that be?
[22:35:42] <Amaranth> Adjust the number of cores the kernel gets depending on your scenario
[22:35:49] <Amaranth> joebobjoe: That's x86 and linux
[22:36:07] <joebobjoe> Amaranth: So I could set that up on my own computer!
[22:36:13] <joebobjoe> Amaranth: But then I'd waste a lot of core :(
[22:36:23] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:36:39] *** Quits: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com) (User has been banned from Mozilla (no spamming here))
[22:37:22] <Amaranth> joebobjoe: http://c10m.robertgraham.com/p/manifesto.html for more details
[22:37:26] <Matthias247> what do you think the advantages would be? Kernel have pretty good schedulers. You can set the cpu affinity but that usually doesn't help you very much
[22:37:38] <Zylinski> Anyone ever run into this? https://gist.github.com/KarlZylinski/8698643
[22:37:41] *** jorendorff is now known as jorendorff_away
[22:38:12] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[22:38:15] <aatch> I'd assume that most of the time, it's not useful. Only in cases like the one Amaranth mentions
[22:38:19] <Amaranth> Matthias247: At these kinds of scales people are writing drivers to poll for packets and do the full network stack and all scheduling in userspace
[22:38:27] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:38:46] <Amaranth> The kernel just needs to boot the machine, get out of the way, and provide the polling syscall to grab data from the network card
[22:38:51] *** Joins: jdm (jdm@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:38:51] *** ChanServ sets mode: +o jdm
[22:38:57] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[22:38:58] <joebobjoe> mcpherrin: I'm not understanding correctly, why can't files/DLLs/etc be in the same segment as an application's data segment?
[22:38:59] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:39:12] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[22:39:57] <Matthias247> Amaranth: yeah, I've read about that for the 10gbit/s connections. But that's still far from the average use case.
[22:40:24] <aatch> Matthias247, yes...
[22:40:38] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:41:05] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:41:24] <hoverbear> \o/ Whooo http://www.rust-ci.org/Hoverbear/rust-rosetta
[22:41:26] <aatch> Given that Amaranth started with "That's actually how high scalability servers work", I think the "not average" thing was covered
[22:41:34] <Amaranth> hehe
[22:41:56] <Matthias247> also ultra-low latency and highest throughput are somewhat conflictivve
[22:42:14] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:43:29] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[22:45:12] <mcpherrin> well not really
[22:45:36] <mcpherrin> if your throughput is high by virtue of handling each request very quickly your latency will also be pretty low
[22:46:10] <jasom> mcpherrin: it's like code-size and execution speed; lots of things will improve both, but also there are tradeoffs to be made
[22:46:13] <mcpherrin> Hopefully 10gbit/s ethernet will become mainstream in 2014
[22:46:32] <mcpherrin> intel's next gen xeon chipset is supposedly going to include it
[22:46:45] <Matthias247> you will get highest throughput when you have big packets and queuing to avoid starvation and context switches between sends
[22:46:55] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:46:57] <jasom> mcpherrin: imagine if you hit an interrupt for every single byte you get; your latency is then just bounded by the time to transmit a byte, but your throughput will suffer
[22:47:03] <Matthias247> but queuing and big packets add latency for the following packets
[22:47:16] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:48:42] *** Quits: lennart (lennart@moz-DE70D6F.stanford.edu) (Ping timeout)
[22:48:56] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:48:58] *** Joins: ptc1 (Adium@moz-192425C4.nyc.res.rr.com)
[22:50:29] <mcpherrin> usually the tradeoff is between buffering and latency
[22:50:41] <mcpherrin> and yeah, not having buffering could hurt your throughput
[22:50:45] *** Quits: ptc1 (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[22:51:00] <mcpherrin> of course it app depends on what your pipeline is like
[22:51:20] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:51:27] <mojoB> http://www.coverfire.com/articles/queueing-in-the-linux-network-stack/ is pretty in-depth on this stuff, including latency/bandwith optimisation
[22:51:52] <Matthias247> hehe, yeah, I also read that this weak. good article
[22:52:31] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[22:53:03] <Matthias247> but besides that latency and throughput are also a lot influenced by your application architecture. What packets you send, which syscalls you use, when you use them, and so on
[22:53:06] <mcpherrin> "up to 9000 bytes" eurgh
[22:53:15] <mcpherrin> if you're going to write things at least get the numbers right
[22:53:21] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:53:35] <hoverbear> mcpherrin: As long as it's not oever 9000.
[22:53:45] <mcpherrin> it's usually over 9000
[22:53:48] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:54:04] <Matthias247> did work a lot on socket based IPC in the last years and also benchmarked a lot of approaches to get a feeling
[22:54:06] <hoverbear> What happened to `std::io::BufferedReader"?
[22:54:20] * mcpherrin writes network stacks for a living
[22:54:34] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[22:54:40] *** Quits: maxiepoo_ (Max@moz-FFD7044A.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[22:54:45] *** Quits: dr_bibble (Mibbit@moz-91952296.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[22:54:52] <mcpherrin> 9218 or 9216 are common MTUs for jumbo capable hardware
[22:55:14] *** Parts: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) ()
[22:55:15] <Eridius> hoverbear: it should still be there
[22:55:52] *** Joins: zatnosk (zatnosk@3F251686.8BCBE3D0.500EA053.IP)
[22:56:06] <hoverbear> Eridius: https://gist.github.com/Hoverbear/4fdd0e8a687d042a949d
[22:56:13] <Matthias247> mcpherrin: then you are probably 1 or 2 layers lower :-)
[22:56:22] *** Joins: derek_c (derek@moz-5E77E51.cit.cornell.edu)
[22:56:28] *** Quits: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[22:56:39] <hoverbear> Eridius: I see it in the docs
[22:56:48] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:56:49] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[22:56:50] <hoverbear> Eridius: http://static.rust-lang.org/doc/master/std/io/index.html
[22:56:56] <Eridius> hoverbear: what version of rustc?
[22:57:03] <derek_c> Will the Rust meetup yesterday be uploaded to Air Mozilla?
[22:57:06] <Eridius> hoverbear: until recently it was std::io::buffered::BufferedReader
[22:57:16] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:57:19] <hoverbear> Eridius: I built this like, last week.
[22:57:22] <mcpherrin> derek_c: https://air.mozilla.org/rust-meetup-january-2014/
[22:57:28] <Eridius> hoverbear: I think it changed, like, last week ;)
[22:57:40] <hoverbear> Eridius: Ah, I'll recompile next time I have a plug in
[22:57:48] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[22:58:00] <derek_c> oh thanks
[22:58:07] <Eridius> hoverbear: hmm no, actually Jan 17th
[22:58:08] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[22:58:11] <hoverbear> Eridius: I'm trying to get this to stop silently failing: https://travis-ci.org/Hoverbear/rust-rosetta
[22:58:13] <Eridius> so 12 days ago
[22:58:15] <hoverbear> Eridius: It's possible.
[22:58:39] <Eridius> hoverbear: ok yeah, that code needs to `use std::io::BufferedReader`. You should update your local rustc and try again
[22:59:10] <hoverbear> Eridius: Yeah, I'm not seeing that problem in the travis build
[22:59:18] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:59:55] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[23:00:39] <hoverbear> Eridius: Thanks for the info.
[23:00:43] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[23:00:46] *** Quits: hoverbear (hoverbear@moz-94D493F2.wireless.uvic.ca) (Quit: Taking a nap.)
[23:00:56] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[23:01:05] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:01:06] *** Quits: twi (Adium@moz-B47EFC08.dyn.iinet.net.au) (Quit: Leaving.)
[23:01:17] *** Joins: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP)
[23:01:33] <mcpherrin> I really want to write an entire TCP/IP/Routing/Ethernet forwarding stack in rust
[23:02:04] <mcpherrin> Possibly using something like a BPF inspired "microcode" engine to define rules
[23:02:11] *** Quits: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP) (Quit: johnmurray)
[23:02:12] <o11c> it's (relatively) easy to implement TCP according to spec
[23:02:20] <o11c> the not-so-easy part is making it secure
[23:02:21] *** Joins: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net)
[23:02:36] <Ralith> what does 'secure' mean for an unencrypted protocol, anyway
[23:03:27] <eibwen> Ralith: secure as in no bugs I suppose
[23:03:36] <strcat> mcpherrin: BPF is cool ;p
[23:03:44] <joebobjoe> Given an int, what's the easiest way to get a string representation of the memory slot that holds it (0s and 1s0?
[23:03:44] <strcat> linux has a JIT compiler for it ;)
[23:03:48] <joebobjoe> 1s)*
[23:04:02] <mcpherrin> strcat: Though having hardware that does similar things is even cooler ;)
[23:04:02] <strcat> joebobjoe: to_str_radix
[23:04:11] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[23:04:17] <strcat> mcpherrin: well, maybe, but I like seccomp
[23:04:22] *** Joins: fyolnish (fyolnish@moz-4A4E1E9C.uqwimax.jp)
[23:04:25] <strcat> BPF for system calls
[23:04:28] <mcpherrin> strcat: oh yeah
[23:04:30] *** Quits: Kambfhase (quassel@moz-1716365F.travedsl.de) (Client exited)
[23:04:39] <mcpherrin> the new IPtables replacement has a BPF like thing too
[23:04:39] <strcat> https://github.com/thestinger/rust-seccomp/blob/master/example.rs <3
[23:04:52] <strcat> mcpherrin: I think it might even use the same JIT compiler, not sure
[23:05:24] *** Quits: doomlord_ (servitor@moz-841308DB.range86-160.btcentralplus.com) (Ping timeout)
[23:05:32] *** Quits: derek_c (derek@moz-5E77E51.cit.cornell.edu) (Ping timeout)
[23:06:03] *** Quits: fyolnish (fyolnish@moz-4A4E1E9C.uqwimax.jp) (Ping timeout)
[23:06:06] <mcpherrin> nftables*
[23:06:13] <mcpherrin> I couldn't remember the name.
[23:06:34] <mcpherrin> http://netfilter.org/projects/nftables/
[23:08:17] <joebobjoe> strcat: That was hard to find
[23:08:32] <joebobjoe> strcat: Is ToStrRadix implemented by the compiler?
[23:08:38] <strcat> joebobjoe: no
[23:08:50] <mcpherrin> strcat: I hope that as linux grows more of these BPFish things they can use common code
[23:08:50] <strcat> the compiler doesn't implement any traits
[23:09:06] <strcat> mcpherrin: well, the kernel is pretty sad in that regard
[23:09:06] <mcpherrin> Linux is already a pretty big/messy kernel in a bunch of ways
[23:09:10] <strcat> so many implementations of the same thing
[23:09:13] <mcpherrin> yeah, exactly
[23:09:16] <strcat> at least you don't have to include them
[23:09:19] <strcat> or load them
[23:09:31] <strcat> mcpherrin: android is a big source of this :(
[23:09:34] <mcpherrin> I'm more concerned about development than runtime, really
[23:09:46] <strcat> android's IPC is in the kernel and upstream now
[23:09:57] <strcat> and kdbus will be the "not android" implementation of that kind of IPC
[23:09:58] <mcpherrin> let's all switch to freebsd :p
[23:09:59] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[23:10:01] <strcat> slightly different guarantees
[23:10:09] <mcpherrin> or qnx!
[23:10:12] <mcpherrin> yay qnx
[23:10:28] <strcat> mcpherrin: I happen to like having high quality drivers for all the hardware I use :P
[23:10:41] <aatch> joebobjoe, very little is actually implemented in the compiler. Pretty much just the language itself.
[23:10:55] <mcpherrin> strcat: hah, like that happens anywhere
[23:11:02] <strcat> mcpherrin: works for me ;)
[23:11:07] <mcpherrin> :-)
[23:11:24] <aatch> mcpherrin, the secret is, strcat doesn't use *any* hardware :P
[23:11:25] * strcat has no proprietary drivers/firmware
[23:11:39] <strcat> unless the horrific UEFI stuff counts
[23:11:43] * mcpherrin writes proprietary drivesr/firmware :-(
[23:11:46] <strcat> but I mean 'in my OS'
[23:11:49] <strcat> ;p
[23:11:57] <strcat> mcpherrin: bad, mcpherrin, bad
[23:12:04] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:12:07] <mcpherrin> strcat: Don't blame me, blame the nda :p
[23:12:08] <aatch> HE'S A WITCH!
[23:12:15] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:12:18] <mcpherrin> strcat: whatever, you can't afford my hardware anyways ;)
[23:12:24] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:12:27] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Client exited)
[23:12:41] <aatch> mcpherrin, I didn't want to use your stupid hardware anyway!
[23:12:45] * aatch pouts
[23:12:47] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:13:06] <mcpherrin> I think we're way more open than most of the other vendors in this space! :P
[23:13:17] <Matthias247> mcpherrin: do you have the garbage can 10k mac pro? :-)
[23:13:32] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[23:13:34] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:13:43] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Connection reset by peer)
[23:13:45] *** Quits: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net) (Quit: kellogh)
[23:13:52] <Matthias247> ah, you mean the hardware your company sells
[23:13:55] *** Joins: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net)
[23:14:13] <mcpherrin> yeah
[23:14:24] *** Parts: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net) ()
[23:14:31] *** Joins: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com)
[23:14:48] <mcpherrin> well you can buy some cables or something I guess if you want ;P
[23:14:56] <strcat> mcpherrin: linux powered rifles?
[23:15:08] <mcpherrin> though I suppose even the cables have proprietary firmware :P
[23:15:30] <mcpherrin> http://www.aristanetworks.com/en/products/family-portfolio/
[23:15:39] *** Quits: bt3ze (bt3ze@moz-3F0303DA.hsd1.va.comcast.net) (Ping timeout)
[23:15:44] *** Quits: reima (Instantbir@moz-16DF5119.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:15:51] <Matthias247> my boss ususally has no problem with buying expensive equipment we have a vague reason for it. So maybe it should work :)
[23:16:01] *** Joins: hoverbear (hoverbear@moz-55F7E62A.wireless.uvic.ca)
[23:16:22] <mcpherrin> everybody needs some good data center switching!
[23:16:30] <mcpherrin> (for values of everybody who has a data center)
[23:16:36] <strcat> buying a whole bunch of hardware is cheaper than employing a smart programmer to avoid the need for it
[23:17:12] <Matthias247> yup
[23:17:17] <aatch> Unless you're a start-up and can't afford either.
[23:17:22] <Amaranth> mcpherrin: Isn't hardware doing BPF-like things usually just a box running a regular OS and software on it?
[23:17:28] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[23:17:29] *** Quits: amir (amir@moz-49060BB9.cust.bluewin.ch) (Ping timeout)
[23:17:31] <strcat> aatch: then you don't have users, so it doesn't matter
[23:17:38] <Matthias247> guess we could also afford good developers. But somehow we never find them
[23:17:44] <aatch> strcat, we have users!
[23:17:47] <strcat> just need to fake a bunch of statistics to get the VC investments
[23:17:51] <strcat> aatch: so you say!
[23:17:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:18:02] <strcat> 95% of those users are googlebot
[23:18:13] * aatch counts, "1..., 2..., no, he stopped paying..."
[23:18:20] <mcpherrin> Amaranth: At terabits/second of traffic, you can't use a "regular box"
[23:18:33] <mcpherrin> you need a hardware data plane.
[23:19:18] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:19:33] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[23:19:37] *** Joins: joebobjoe (Dale@moz-4014DDC7.ga.at.cox.net)
[23:19:42] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:19:57] <aatch> strcat, fortunately/unfortunately, we aren't in the US and therefore walking into an investment meeting and saying "Cloud, cloud, cloud? Cloud!" doesn't result in a $10,000,000 check
[23:20:17] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[23:20:26] <joebobjoe> strcat: So the implementations of tostrradix using a macro... So I need to learn about macros to see how this is done
[23:20:28] *** Quits: zatnosk (zatnosk@3F251686.8BCBE3D0.500EA053.IP) (Quit: Have a great life!)
[23:20:30] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[23:20:35] *** Joins: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net)
[23:20:42] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[23:20:51] <mcpherrin> aatch: hey man clouds are great. let me tell you about my cloud switches
[23:20:59] *** Joins: doomlord_ (servitor@moz-841308DB.range86-160.btcentralplus.com)
[23:21:01] <mcpherrin> aatch: http://www.aristanetworks.com/products/eos/cloudvision
[23:21:35] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:21:35] *** ChanServ sets mode: +ao brson brson
[23:21:36] <aatch> mcpherrin, oh god. It's worse than I thought
[23:22:09] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Quit: brendan)
[23:22:11] * aatch is waiting for the day a company sells a service called "Cloud on the Cloud"
[23:22:20] <mcpherrin> aatch: hmm
[23:22:24] *** Quits: jvoorhis (jvoorhis@moz-84A91726.ptld.qwest.net) (Ping timeout)
[23:22:28] <mcpherrin> metaclouding
[23:22:37] <mcpherrin> sounds good I'll do it
[23:23:05] <aatch> mcpherrin, that worries me because apparently, you actually *could* do it.
[23:23:21] <Matthias247> I like my own synology cloud. With a stunning 1Mbps connection :)
[23:23:38] *** Quits: pauls__ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[23:23:54] <bvssvni> Matthias247: :o
[23:23:59] *** Joins: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com)
[23:24:44] *** Joins: pauls__ (paul@moz-9B39917C.c3-0.smr-ubr2.sbo-smr.ma.cable.rcn.com)
[23:25:24] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Ping timeout)
[23:25:35] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[23:25:41] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[23:25:44] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[23:25:59] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[23:27:06] *** Quits: brendan (brendaneic@moz-21F91504.cfw-a-gci.corp.yahoo.com) (Ping timeout)
[23:27:33] <herrwolfe45> Hi - I'm using rustpkg, and I'm not having success when I try to link. The lib I'm trying to link against is present in lib/<arch>/.
[23:28:00] <herrwolfe45> the error i get is that the crate cannot be found
[23:28:03] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:28:35] <bvssvni> herrwolfe45: rustpkg is depricated
[23:28:49] <hoverbear> Github's Mac GUI won't let me clone rust. :S Command line ho!
[23:28:58] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:29:36] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:29:41] <ChrisMorgan> herrwolfe45: try including the version number, `extern mod foo = "foo#0.1"
[23:29:45] <ChrisMorgan> `
[23:29:50] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[23:30:14] *** jorendorff_away is now known as jorendorff
[23:30:42] *** Joins: lenstr (lenstr@1E12AA3A.9636F313.7A27613B.IP)
[23:31:20] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[23:31:42] <herrwolfe45> ChrisMorgan: odd, that didn't work either. It still said it couldn't find the crate. thanks though!
[23:32:09] <ChrisMorgan> herrwolfe45: it's a sort of problem that can be hard to diagnose without being there
[23:32:23] <herrwolfe45> ok - is it easier just to use rustc and link manually?
[23:32:32] <bvssvni> herrwolfe45: rustc is easy
[23:32:51] *** Joins: hoverbea_ (hoverbear@moz-55F7E62A.wireless.uvic.ca)
[23:33:05] <herrwolfe45> bvssvni: i'll give that a try
[23:33:09] *** Quits: hoverbear (hoverbear@moz-55F7E62A.wireless.uvic.ca) (Ping timeout)
[23:33:16] <bvssvni> herrwolfe45: all it needs is a "-L" flag and the lib directory, if I remember correctly
[23:34:17] <bvssvni> herrwolfe45: or you can try https://github.com/cmr/cargo-lite
[23:34:45] <herrwolfe45> thanks bvssvni 
[23:35:31] *** Quits: huhlig (sid17687@moz-A42E5B7B.irccloud.com) (Ping timeout)
[23:35:41] *** Quits: hoverbea_ (hoverbear@moz-55F7E62A.wireless.uvic.ca) (Ping timeout)
[23:35:42] *** Joins: a_m0d (a_m0d@moz-2F294D00.acanac.net)
[23:36:15] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[23:36:35] *** Quits: mje113 (uid16557@moz-A42E5B7B.irccloud.com) (Ping timeout)
[23:36:35] *** Joins: pyon (user@5D202184.695050F8.E6392873.IP)
[23:36:46] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Ping timeout)
[23:37:16] *** Quits: robert (uid15951@moz-A42E5B7B.irccloud.com) (Ping timeout)
[23:37:17] *** Joins: hoverbear (hoverbear@moz-55F7E62A.wireless.uvic.ca)
[23:37:29] *** Joins: kellogh (timkellogg@moz-704A74D.hsd1.co.comcast.net)
[23:37:45] *** Quits: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com) (Ping timeout)
[23:37:54] *** Joins: mje113 (uid16557@moz-A42E5B7B.irccloud.com)
[23:38:46] <brson> pcwalton: in `box (GC)` what are we calling `GC`? I'd call it an 'allocator' but I know there's another concept named that
[23:38:56] *** Joins: huhlig (sid17687@moz-A42E5B7B.irccloud.com)
[23:39:01] <pcwalton> I'd call it the smart pointer
[23:39:02] <pcwalton> box(Smaht)
[23:39:13] <brson> but `Gc` is the smart pointer
[23:39:19] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:39:19] <brson> GC is a static ... (what?)
[23:39:28] <pcwalton> is that still true in niko's latest proposal?
[23:39:33] <brson> idk
[23:39:40] <pcwalton> we should check
[23:39:56] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:40:13] *** Joins: abinader_brb (sid21713@moz-A42E5B7B.irccloud.com)
[23:41:05] <kimundi> brson: "Allocation Target" maybe?
[23:41:53] <hoverbear> How disk-intensive is compiling rust? (I'm thinking wear on an SSD?)
[23:42:20] *** Joins: robert (uid15951@moz-A42E5B7B.irccloud.com)
[23:42:21] *** Joins: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com)
[23:44:03] <o11c> pool?
[23:44:05] <o11c> policy?
[23:44:13] <zxcdw> Isn't wear on SSDs pretty much a solved problem these days?
[23:44:13] <o11c> nature?
[23:44:28] <o11c> zxcdw: it depends on the filesystem
[23:44:53] <hoverbear> zxcdw: I haven't a clue.
[23:45:10] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[23:45:12] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:45:19] <zxcdw> I thought the hardware itself distributes the writes across cells to maximize the lifespan?
[23:45:56] <geomyidae_> re cmr on the presentation: haha, nice to see others are shocked at the warm reception rust seems to get
[23:46:15] <mcpherrin> As long as you have enough free disk space, yeah
[23:46:31] *** Joins: hoverbea_ (hoverbear@moz-E7E649DE.eduroam.wireless.uvic.ca)
[23:46:36] *** Quits: hoverbear (hoverbear@moz-55F7E62A.wireless.uvic.ca) (Ping timeout)
[23:46:53] <mcpherrin> You really only need to worry about wear on a mostly-full ssd that's doing a lot of rewriting
[23:46:53] <hoverbea_> o11c: HFS+ or whatever goofy stuff apple uses these days
[23:47:02] <Matthias247> at least Rust doesn't write thaht much object files than c++
[23:47:04] <mcpherrin> The actual filesystem doesn't really matter
[23:47:50] <Matthias247> I wouldn't concern if you're not going to build rust 24/7
[23:47:52] <o11c> mcpherrin: uh, assuming that filesystems reuse the most recent sector is still an assumption - and one that's not true for older filesystem implementations
[23:47:56] *** Joins: fyolnish (fyolnish@moz-24047205.uqwimax.jp)
[23:48:16] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[23:48:20] <Eridius> hoverbea_: filesystem shouldn't matter for SSD wear, that's done in the SSD controller at the block level
[23:48:21] <mojoB> kind of, it helps if the fs can notify the disk of no-longer-needed space, so the ssd has more space to play with
[23:48:36] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[23:48:38] <Eridius> and yes, OS X still uses HFS+, but it slowly gets better
[23:48:46] *** hoverbea_ is now known as hoverbear
[23:48:56] <mcpherrin> Well, okay the filesystem matters a bit
[23:49:02] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[23:49:02] <mcpherrin> but it's not like simple flash chips where it matters a lot
[23:49:13] <mcpherrin> where you need to use something like jffs2
[23:49:20] <Eridius> mojoB: I believe OS X supports TRIM, but there's a possibility it only issues TRIM to SSDs it recognizes (e.g. SSDs that Apple ships). I forget why this would be so
[23:49:41] *** Quits: fyolnish (fyolnish@moz-24047205.uqwimax.jp) (Ping timeout)
[23:49:42] <hoverbear> Aright, I'll just compile on my ssd for great justice
[23:49:45] <geomyidae_> because Apple. There's a tweak for it
[23:50:11] *** Joins: twi (Adium@moz-B47EFC08.dyn.iinet.net.au)
[23:50:30] <mojoB> Eridius: i've no idea what osx does - just saying the fs matters some
[23:50:47] <Eridius> geomyidae_: it's been a couple years since I've thought about this, and I swear there was a reason why it might behave that way. I don't know if it actually does though
[23:51:29] <mojoB> mcpherrin: ubifs too, jffs2 is ok for routers, sucks for larger storage - though we seem to be moving to sd card style modules instead of raw chips these days
[23:52:32] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[23:53:16] *** Joins: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP)
[23:53:19] *** Quits: vmx (vmx@moz-9413B04D.pools.arcor-ip.net) (Quit: Leaving)
[23:53:19] <ChrisMorgan> hoverbear: compiling Rust code is CPU-bound. You should observe very, very little performance difference between compiling on an SSD and on an HDD.
[23:53:41] <hoverbear> ChrisMorgan: Mostly concerned about wear. :)
[23:53:41] *** Quits: [squiddy] (squiddy@moz-75173BCD.adsl.alicedsl.de) (Quit: Leaving)
[23:54:00] <hoverbear> I only have an ssd on my laptop.
[23:54:17] <ChrisMorgan> Sounds like you probably don't have much choice, then!
[23:54:55] <mojoB> hoverbear: my rust build is <2gb, use tmpfs if you are that worried
[23:55:23] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
[23:55:26] *** Quits: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com) (Ping timeout)
[23:55:26] *** Quits: lpy (lpy@4F2FE573.2EDA7147.E99F7FDB.IP) (Ping timeout)
[23:55:33] * ChrisMorgan will probably have a 128GB SSD when he gets a new laptop and will probably then add his 160GB HDD from his current laptop to that
[23:55:39] *** Quits: mihneadb (mihneadb@6459B168.18650252.A5830293.IP) (Quit: Bye)
[23:55:46] <hoverbear> mojoB: It's fine, I have a 3 year warranty and I fully intent to have the SSD die before then
[23:56:08] <aatch> hoverbear, it shouldn't be too bad, Since we only generate a couple files for each module, it doesn't do much I/O compared to a similarly-sized C/C++ project.
[23:56:19] <hoverbear> aatch: +1!
[23:56:27] *** Joins: canhtak (canhtak@moz-9E539298.wl.t.ulaval.ca)
[23:56:34] <aatch> Compiling LLVM will be the worst, but that shouldn't be too common
[23:56:57] <aatch> (by module, I mean crate/executable)
[23:57:23] *** Joins: mib_amaqi1 (Mibbit@moz-C2CEB1AA.cable.virginm.net)
[23:57:27] <mib_amaqi1> hey
[23:57:41] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[23:57:49] <ChrisMorgan> When building rustc, there's a lot of duplication. On my tablet, where I really care about space (having only a 2GB loop disk), I save quite a lot of space by removing duplicates and replacing them with hard links.
[23:58:27] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:58:39] <ChrisMorgan> mib_amaqi1: if you've got any questions, dive in and ask!
[23:58:46] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[23:59:03] <mib_amaqi1> is there any way to return traits from functions or any way to make it so i dont have to have the return type as something incomprihensivley long like std::iter::Chain<std::iter::Skip<std::vec::Items<std::option::Option<FooBar>>>,std::iter::Take<std::vec::Items<std::option::Option<FooBar>>>> 
[23:59:46] <aatch> mib_amaqi1, you can either return a trait object, or you can use type-defs to shrink them down if you're typing them out a lot.
[23:59:53] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
