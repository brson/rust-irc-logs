[00:01:23] *** Quits: jviereck (Adium@moz-uprlmi.speed.planet.nl) (Quit: Leaving.)
[00:04:54] *** Quits: bugweiser (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:06:29] *** Quits: MrZeus (MrZeus@moz-jf4304.skybroadband.com) (Ping timeout: 121 seconds)
[00:10:58] *** Joins: chotchki (chotchki@moz-m0fj8g.res.bhn.net)
[00:17:07] *** Quits: goyox86 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[00:17:40] <njn> does SpiderMonkey-in-Servo use jemalloc?
[00:18:49] * njn checks old data, looks like the answer is "no"
[00:21:32] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[00:26:23] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[00:33:02] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:48:14] <gw> did an experiment to see how difficult it is to rip out skia/azure and render with raw gl. not bad for a quick hack https://i.imgur.com/iKHOGwb.png
[00:48:45] <dzbarsky> I'm having some trouble casting a dom element to a dom node, any advice?
[00:49:32] <gw> dzbarsky: try something like let node = NodeCast::from_ref(element.r());
[00:49:50] <gw> (I think, I don't play in that code often)
[00:50:02] <dzbarsky> gw: I get error: the trait `dom::bindings::codegen::InheritTypes::NodeDerived` is not implemented for the type `dom::element::Element` [E0277]
[00:50:15] <dzbarsky> also, any clue what the difference between from_ref and to_ref is
[00:50:59] <gw> dzbarsky: it's up/down cast - see https://github.com/servo/servo/wiki/Using-DOM-types#how-can-i-perform-casts-up-and-down-a-dom-hierarchy
[00:52:09] <dzbarsky> gw: ah that makes sense.  I remember reading that but somehow I got confused and thought one function magically figured out if the cast was fallible or not
[00:52:31] <dzbarsky> I thought I had tried that, but I guess I kept doing the to_ref. it works now, thanks
[00:59:20] *** Quits: playjax (chatzilla@moz-1gdgkp.optusnet.com.au) (Connection closed)
[01:08:54] <kmc> gw: nice :)
[01:08:59] <kmc> is the code pushed anywhere?
[01:10:33] <gw> kmc: not yet, it's just a bunch of hacks for now... but I have some ideas on how to integrate it cleanly if we decide to spend any time working on it
[01:11:48] <dzbarsky> does rust have something like and_then...
[01:12:09] <dzbarsky> but I want fn https://doc.rust-lang.org/std/option/enum.Option.html#method.and_then<U, F>(self, f: F) -> https://doc.rust-lang.org/std/option/enum.Option.html<U> where F: https://doc.rust-lang.org/std/ops/trait.FnOnce.html(T) -> <U>
[01:12:22] <dzbarsky> errâ€¦ where the closure returns U rather than Option<U>
[01:12:32] <dzbarsky> or is that just map?
[01:13:16] <gw> yes, that's map
[01:13:24] <dzbarsky> hmm no I need to lift the map
[01:13:29] <dzbarsky> I have F: A -> B
[01:13:40] <dzbarsky> and I need to go Option<A> -> Option<B>
[01:14:24] <gw> map_or ?
[01:14:27] <dzbarsky> oh wait looks like map does that for options
[01:19:05] *** Quits: Jayflux (Jason@moz-jralfh.as13285.net) (Quit: Leaving)
[01:35:14] *** Joins: slyu (slyu@moz-2hf62a.HINET-IP.hinet.net)
[01:35:32] *** Parts: slyu (slyu@moz-2hf62a.HINET-IP.hinet.net) ()
[01:58:29] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[01:58:48] *** Quits: chotchki (chotchki@moz-m0fj8g.res.bhn.net) (Quit: Leaving)
[02:04:21] *** Joins: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com)
[02:12:18] *** Joins: charmander (Mibbit@moz-hu6.nja.252.72.IP)
[02:15:37] *** Joins: acgtyrant (acgtyrant@moz-kph.5rt.153.183.IP)
[02:19:17] <njn> I assume an empty trace() implementation is reasonable for a channel stored in ScriptTask?
[02:19:24] *** Quits: kimundi (kimundi@moz-22fjhj.o533.1q3j.4fe2.2002.IP) (Ping timeout: 121 seconds)
[02:19:47] *** Quits: acgtyrant (acgtyrant@moz-kph.5rt.153.183.IP) (Ping timeout: 121 seconds)
[02:24:34] *** Joins: acgtyrant (acgtyrant@moz-kph.5rt.153.183.IP)
[02:25:11] *** Joins: kimundi (kimundi@moz-d91h8n.dip0.t-ipconnect.de)
[02:29:06] *** Quits: acgtyrant (acgtyrant@moz-kph.5rt.153.183.IP) (Ping timeout: 121 seconds)
[02:29:34] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[02:29:35] *** Joins: acgtyrant (acgtyrant@moz-kph.5rt.153.183.IP)
[02:32:59] *** Quits: charmander (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:33:05] *** Joins: adu (ajr@moz-99ult9.md.comcast.net)
[02:33:51] *** Quits: acgtyrant (acgtyrant@moz-kph.5rt.153.183.IP) (Ping timeout: 121 seconds)
[02:36:37] *** Joins: acgtyrant (acgtyrant@moz-kph.5rt.153.183.IP)
[02:36:40] *** Quits: acgtyrant (acgtyrant@moz-kph.5rt.153.183.IP) (Connection closed)
[02:38:51] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[02:38:51] -ghservo- [13servo] 15dzbarsky opened pull request #6561: Implement Node#isDefaultNamespace and Node#lookupNamespaceURI (fixes #1826) (06master...06namespace) 02http://git.io/vqG97
[02:38:51] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[02:41:00] *** Quits: dzbarsky (Adium@moz-mukjmn.fios.verizon.net) (Quit: Leaving.)
[03:00:53] *** Joins: dzbarsky (Adium@moz-mukjmn.fios.verizon.net)
[03:20:09] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:22:46] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[03:44:15] <njn> geez, compiling 'script' is slow
[03:44:41] <njn> 22s just to find a type error :(
[03:49:31] <njn> that's not helping my productivity as I try to work out the types in the code
[03:54:28] <gw> there were a few discussions at whistler about strategies for adding incremental compilation
[03:55:15] * gw hopes they pan out
[03:55:49] *** Quits: valentin (icecold@moz-thtct2.eurotel.cz) (Ping timeout: 121 seconds)
[04:12:38] *** Quits: adu (ajr@moz-99ult9.md.comcast.net) (Client exited)
[04:21:35] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[04:22:28] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[04:22:48] *** Tuba is now known as Tobba
[04:29:57] <njn> gw: would incremental compilation help with type-checking speed?
[04:40:57] <gw> njn: I'm not sure what the plans are there
[04:41:22] <njn> lots of profiling; that's my guess
[04:42:35] *** Joins: obi_wan (Mibbit@moz-hu6.nja.252.72.IP)
[04:42:59] *** Joins: v21 (vee@moz-n9a.bqs.204.223.IP)
[04:43:09] <njn> gw: any idea if there's an event that heralds the shutting down of the ScriptTask?
[04:43:27] <njn> I'm wondering if ScriptMsg::ExitWindow is it
[04:44:11] *** Quits: obi_wan (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:45:16] <gw> njn: script task receives ExitPipeline message each time a pipeline attached to that script task closes. if there are no remaining pipelines attached to that script task, it is closed down. see handle_exit_pipeline_msg - would that provide what you are looking for?
[04:45:35] <njn> gw: yeah, I think so
[04:45:47] <njn> gw: I need a place to unregister the ScriptTask's memory reporter
[04:45:57] <gw> njn: yep, that should be the right spot I think
[04:46:20] <njn> gw: not sure if I understand the various paths in that function, though
[04:46:45] <gw> njn: for your purposes, the return value of that fn says whether the script task itself should shutdown
[04:46:47] <njn> if the return value is true, looks like the task is being shutdown
[04:46:52] <njn> yep
[04:47:14] <njn> gw: thank you
[04:48:49] <njn> gw: did you end up having those squash games in Whistler?
[04:48:57] <njn> non-solo, I mean :)
[04:50:17] <gw> njn: indeed, 3 others turned up for the other days :)
[04:50:35] <njn> gw: hooray
[04:50:47] <njn> gw: I ended up having 3 runs and 1 bike ride in the mornings
[04:50:52] <njn> lovely scenery and weather
[04:51:03] <gw> nice, certainly an amazing backdrop
[04:51:16] *** Joins: playjax (chatzilla@moz-1gdgkp.optusnet.com.au)
[04:52:15] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[04:52:15] <njn> not that you can see it from inside a squash court :P
[04:53:18] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[04:53:36] <gw> touche
[04:55:04] * njn imagines a transparent squash court sitting between mountains
[05:10:14] *** Quits: playjax (chatzilla@moz-1gdgkp.optusnet.com.au) (Quit: ChatZilla 0.9.91.1 [Firefox 32.0.1/20140911151253])
[05:18:03] *** Joins: vikaton (uid59278@moz-0a9h81.ealing.irccloud.com)
[05:18:56] *** Quits: eddyb (eddyb@moz-h7s.q07.26.188.IP) (Connection closed)
[05:19:36] *** Joins: eddyb (eddyb@moz-413.q07.26.188.IP)
[05:51:02] *** Quits: crowbot (nodebot@moz-qdrvme.compute-1.amazonaws.com) (A TLS packet with unexpected length was received.)
[05:51:03] *** Joins: crowbot1 (nodebot@moz-hs8u0b.compute-1.amazonaws.com)
[05:53:19] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[05:55:48] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[05:56:52] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[06:04:01] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:05:20] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[06:07:56] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[06:13:37] *** Joins: mib_b9d46g (Mibbit@moz-hu6.nja.252.72.IP)
[06:15:25] *** Quits: mib_b9d46g (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:18:01] <njn> you know a change is awesome when you're going to have push patches to four separate repositories to enable it
[06:19:32] <Manishearth> njn: OTOH, you know a repo is huge when you're asked to split your patch into four patches in distinct areas and submit individually so that it can pass through the code review process
[06:19:39] <Manishearth> (this happened to me, fortunately there was a way around it)
[06:20:26] <njn> Manishearth: coordinating the latter is still easier :)
[06:22:24] <Manishearth> njn: nope
[06:23:00] <Manishearth> njn: you need to get them reviewed indivcidually, get special strings to submit because the section of code is "locked", and then do some other dancing around
[06:23:22] <njn> woo:
[06:23:24] <njn> |          5.47 MiB -- js
[06:23:25] *** Quits: dbaron (dbaron@moz-12jr9n.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[06:23:25] <njn> |             2.66 MiB -- gc-heap
[06:23:27] <njn> |                2.48 MiB -- used
[06:23:28] <njn> |                0.10 MiB -- unused
[06:23:30] <njn> |                0.09 MiB -- admin
[06:23:31] <njn> |             2.56 MiB -- malloc-heap
[06:23:33] <njn> |             0.25 MiB -- js
[06:23:34] <njn> |                0.25 MiB -- non-heap
[06:26:08] *** Joins: valentin (icecold@moz-thtct2.eurotel.cz)
[06:43:18] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[06:45:50] *** Quits: kanru (kanru@moz-aj9ejj.HINET-IP.hinet.net) (A TLS packet with unexpected length was received.)
[06:50:36] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Connection closed)
[06:51:48] *** Joins: kanru (kanru@moz-2hf62a.HINET-IP.hinet.net)
[06:51:55] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[07:00:09] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:05:14] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:18:39] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[07:19:15] *** Joins: Ms2ger (Ms2ger@moz-mt3r7m.access.telenet.be)
[07:19:29] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[07:19:55] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[07:21:04] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[07:35:54] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[07:35:54] -ghservo- [13cocoa-rs] 15Ms2ger pushed 1 new commit to 06master: 02http://git.io/vqZ2b
[07:35:54] -ghservo- 13cocoa-rs/06master 141a9bdf4 15Ms2ger: Merge pull request #94 from servo/unpin...
[07:35:54] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[07:35:58] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[07:35:58] -ghservo- [13cocoa-rs] 15Ms2ger 04deleted 06unpin at 14c927576: 02http://git.io/vqZ2A
[07:35:58] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[07:37:40] *** Quits: valentin (icecold@moz-thtct2.eurotel.cz) (Ping timeout: 121 seconds)
[07:48:32] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[07:49:46] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[07:49:46] -ghservo- [13rust-openssl] 15Ms2ger created 06unpin (+353 new commits): 02http://git.io/vqZrn
[07:49:46] -ghservo- 13rust-openssl/06unpin 14f71555e 15Steven Fackler: Fix deprecation warning
[07:49:46] -ghservo- 13rust-openssl/06unpin 14a7a9ef7 15Steven Fackler: Allow access to the underlying stream...
[07:49:46] -ghservo- 13rust-openssl/06unpin 14525394d 15Steven Fackler: Bump to 0.1.0
[07:49:46] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[07:53:11] *** Joins: doener (doener@moz-fnh.n4j.147.5.IP)
[07:58:39] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:01:35] *** Joins: bogdan_maris (Instantbird@moz-662.esi.231.62.IP)
[08:07:49] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[08:07:51] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[08:12:27] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[08:12:27] -ghservo- [13servo] 15Ms2ger created 06update at 141d065d1 (+0 new commits): 02http://git.io/vqZPB
[08:12:27] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[08:12:50] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[08:12:50] -ghservo- [13servo] 15Ms2ger 04force-pushed 06update-all from 14955cd32 to 14deaa674: 02http://git.io/vqZPr
[08:12:50] -ghservo- 13servo/06update-all 14deaa674 15Ms2ger: Update most dependencies....
[08:12:50] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[08:14:38] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[08:14:38] -ghservo- [13servo] 15Ms2ger 04deleted 06update at 141d065d1: 02http://git.io/vqZXJ
[08:14:38] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[08:18:03] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[08:18:04] -ghservo- [13servo] 15Ms2ger 04force-pushed 06update-all from 14deaa674 to 142533d52: 02http://git.io/vqZPr
[08:18:04] -ghservo- 13servo/06update-all 142533d52 15Ms2ger: Update most dependencies....
[08:18:04] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[08:22:00] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[08:22:00] -ghservo- [13servo] 15Ms2ger opened pull request #6562: Update most dependencies. (06master...06update-all) 02http://git.io/vqZMn
[08:22:00] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[08:36:45] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[08:41:23] *** Quits: dzbarsky (Adium@moz-mukjmn.fios.verizon.net) (Quit: Leaving.)
[08:44:12] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[08:45:16] *** AutomatedTester|AFK is now known as AutomatedTester
[08:45:38] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[08:47:14] *** Joins: dzbarsky (Adium@moz-mukjmn.fios.verizon.net)
[08:51:03] *** Joins: omissis (omissis@moz-18h4f9.customer.m-online.net)
[08:52:50] *** AutomatedTester is now known as AutomatedTester|AFK
[08:53:34] *** AutomatedTester|AFK is now known as AutomatedTester
[08:53:50] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[08:54:48] <dzbarsky> Ms2ger: ping?
[08:58:23] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[09:00:14] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[09:00:24] <Ms2ger> dzbarsky, ack
[09:01:04] <dzbarsky> Ms2ger: hey, i'm having some borrow check issues
[09:01:10] <dzbarsky> any chance you could take a look?
[09:01:23] <Ms2ger> Sure
[09:03:38] <dzbarsky> Ms2ger: https://github.com/dzbarsky/servo:delete_range
[09:04:24] <dzbarsky> i had a couple problems, some of which I hacked around by adding top-level bindings to the function which extended the lifetime.  not sure if there's something better to be done there.  but in either case, I couldn't get step 7 to work
[09:07:12] <dzbarsky> Ms2ger: it claims text2 does not live long enough
[09:09:44] <jgraham> dzbarsky: That link is 404 for me
[09:11:09] <Ms2ger> So text2 is a Root, and you're trying to stick a borrow to that root into reference_node
[09:11:33] <Ms2ger> Which means that reference_node would be an unrooted and possibly dangling pointer
[09:12:18] <dzbarsky> right, i moved the declaration for text2 out into the function and that worked
[09:12:26] <dzbarsky> is that the right thing to do?
[09:13:27] *** Quits: dzbarsky (Adium@moz-mukjmn.fios.verizon.net) (Quit: Leaving.)
[09:13:35] *** Joins: dzbarsky (Adium@moz-mukjmn.fios.verizon.net)
[09:14:39] <Ms2ger> That probably works
[09:15:10] <Ms2ger> But reference_node should probably be a Root instead
[09:15:24] <Ms2ger> That'll also let you get rid of `temp`
[09:18:01] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[09:19:49] <dzbarsky> Ms2ger: how would that help? reference node can be Root<Node> but text2 is Root<Text> and I think I was hitting errors even calling .r() on it 
[09:20:13] <dzbarsky> maybe I was doing something else wrong though, I'll try to mess around with it some more
[09:21:04] <Ms2ger> Looking
[09:22:33] <Ms2ger> NodeCast::from_root()
[09:22:35] <dzbarsky> maybe I can use from_root
[09:22:36] <dzbarsky> yeah
[09:23:10] <Ms2ger> Also, you can compute parent and reference_node together, and get rid of the unwrap() on GetParent()
[09:24:12] <dzbarsky> you mean merge steps 2-5?
[09:24:19] <Ms2ger> Yeah
[09:24:36] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[09:24:43] <dzbarsky> oh, true
[09:26:20] <dzbarsky> if I make reference_node a Root, then start_node will move into it
[09:26:29] <dzbarsky> and I can't clone Root, right?
[09:27:42] <nox> Can't Root<T> be moved now?
[09:27:52] <Ms2ger> I don't think you'll still need start_node after that if you merge them
[09:28:28] <dzbarsky> geez, programming Rust is like untangling a ball of yarn
[09:29:16] <Ms2ger> While in C++ you just ship it tangled :)
[09:30:33] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[09:33:26] <ttaubert> Ms2ger: hey, can you please take a short look at the test I fixed? :) [or review later today when you find time]
[09:36:43] * Ms2ger pulls of the queue, groans
[09:38:49] *** Quits: njn (chatzilla@moz-270n86.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 41.0a1/20150629152944])
[09:39:00] <jgraham> ttaubert: Which kind of test?
[09:39:14] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[09:39:14] -ghservo- [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/vqnkj
[09:39:14] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[09:39:15] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[09:39:15] -ghservo- [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/vqnIe
[09:39:15] -ghservo- 13servo/06auto 141a014be 15Michael Wu: Remove LayoutChan from LayoutDataWrapper
[09:39:15] -ghservo- 13servo/06auto 14cc73aad 15bors-servo: Auto merge of #6546 - michaelwu:slim-layoutdatawrapper, r=Ms2ger...
[09:39:15] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[09:39:19] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[09:39:56] *** Joins: Jayflux (Jason@moz-jralfh.as13285.net)
[09:40:59] <Ms2ger> dzbarsky, #6554 seems to contain all the lookup* stuff now
[09:41:01] <crowbot1> Issue #6554: Test namespace prefix for element equality - https://github.com/servo/servo/pull/6554
[09:41:38] <dzbarsky> Ms2ger: yeah, I know. I didn't switch branches. But if I land the lookup stuff first and rebase that pull it should be ok
[09:41:51] <dzbarsky> Ms2ger: i still need to write a test for that one anyway
[09:41:56] <Ms2ger> Right
[09:43:57] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[09:50:26] *** AutomatedTester is now known as AutomatedTester|AFK
[09:53:22] <dzbarsky> Ms2ger: actually start_node is still used in step 7 when we check if it's text
[09:56:01] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[09:56:14] <Ms2ger> Ah, right
[09:56:45] *** Quits: dpanth3r (pseudaeluru@moz-vbe.b2n.154.195.IP) (Connection closed)
[09:57:15] <Ms2ger> dzbarsky, Root::from_ref(start_node.r()), then
[09:59:11] *** Quits: pakupaku (pl@moz-jse.is7.143.79.IP) (Quit: WeeChat 1.0.1)
[09:59:15] *** Joins: pakupaku (pl@moz-jse.is7.143.79.IP)
[09:59:23] *** Joins: dpanth3r (pseudaeluru@moz-vbe.b2n.154.195.IP)
[10:02:18] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[10:02:18] -ghservo- [13rust-mozjs] 15benoitc opened issue #176: is mozjs statically linked? 02http://git.io/vqn3E
[10:02:18] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[10:05:09] <ttaubert> jgraham: oh I was talking about #6505
[10:05:09] <crowbot1> Issue #6505: Implement crypto.getRandomValues() - https://github.com/servo/servo/pull/6505
[10:07:04] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[10:07:04] -ghservo- [13rust-mozjs] 15michaelwu closed issue #176: is mozjs statically linked? 02http://git.io/vqn3E
[10:07:04] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[10:07:26] <Ms2ger> ttaubert, done
[10:07:43] <Ms2ger> Sadly there's no email notification for new commits
[10:08:00] <Ms2ger> There is on critic, but people don't like critic :(
[10:09:02] <Ms2ger> jgraham, wanna write a test? :)
[10:09:05] <ttaubert> Ms2ger: good to know, I feel less bad about nagging you then :) thanks!
[10:09:35] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[10:12:40] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[10:16:21] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[10:16:21] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vqnIe
[10:16:21] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[10:16:23] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[10:16:23] -ghservo- [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/vqnWs
[10:16:23] -ghservo- 13servo/06auto 1492874a8 15Tim Taubert: Implement window.crypto.getRandomValues()
[10:16:23] -ghservo- 13servo/06auto 14c022262 15bors-servo: Auto merge of #6505 - ttaubert:issue/4666-crypto-getRandomValues, r=Ms2ger...
[10:16:23] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[10:16:26] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[10:16:26] -ghservo- [13servo] 15bors-servo closed pull request #6546: Remove LayoutChan from LayoutDataWrapper (06master...06slim-layoutdatawrapper) 02http://git.io/vqtoX
[10:16:26] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[10:16:31] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[10:21:00] <ttaubert> \o/
[10:26:33] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[10:26:48] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[10:26:49] *** Quits: dzbarsky (Adium@moz-mukjmn.fios.verizon.net) (Quit: Leaving.)
[10:29:14] *** Quits: v21 (vee@moz-n9a.bqs.204.223.IP) (Ping timeout: 121 seconds)
[10:38:05] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[10:40:40] *** Joins: fkaa (fkaa@moz-501od2.business.telia.com)
[10:42:45] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[10:43:19] *** AutomatedTester|AFK is now known as AutomatedTester
[10:44:36] *** AutomatedTester is now known as AutomatedTester|AFK
[10:46:00] *** Joins: v21 (vee@moz-map.kug.204.223.IP)
[10:48:04] *** Joins: bombless (bombless@moz-ebc.c2f.21.116.IP)
[10:50:38] *** Quits: blank_name (blank_name@moz-r8p.iv2.183.192.IP) (Ping timeout: 121 seconds)
[10:53:37] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[10:54:44] *** Joins: valentin (icecold@moz-thtct2.eurotel.cz)
[10:55:11] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[10:57:25] <ttaubert> Ms2ger: is that really a test failure? or something intermittent?
[10:57:26] <ttaubert> thread 'LayoutWorker worker 3/6' panicked at 'called as_table_row() on a non-tablerow flow'
[10:57:31] <ttaubert> doesn't seem related
[10:57:41] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[10:57:45] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[10:57:49] <Ms2ger> Doesn't ring a bell
[10:58:19] <ttaubert> thread 'LayoutTask PipelineId(0)' panicked at 'called `Option::unwrap()` on a `None` value'
[10:58:27] <ttaubert> maybe I'm not reading the logs correctly
[10:58:39] <ttaubert> http://build.servo.org/builders/mac3/builds/390
[10:59:51] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[11:00:21] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[11:00:28] <Ms2ger> That's on quotes-035.htm
[11:01:11] <Ms2ger> And the table row one is table-backgrounds-bc-cell-001.htm
[11:04:32] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[11:04:32] -ghservo- [13servo] 15Ms2ger opened issue #6563: Intermittent timeout in fixed-table-layout-003e05.htm 02http://git.io/vqnwv
[11:04:32] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[11:05:56] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[11:05:56] -ghservo- [13servo] 15bors-servo merged 06auto into 06homu-tmp: 02http://git.io/vqnwg
[11:05:56] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[11:15:25] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[11:15:25] -ghservo- [13servo] 15Ms2ger closed pull request #6555: Join tokens when stringifying DOMTokenList (06master...06stringify-tokenlist) 02http://git.io/vqYbk
[11:15:25] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[11:15:28] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[11:15:28] -ghservo- [13servo] 15Ms2ger reopened pull request #6555: Join tokens when stringifying DOMTokenList (06master...06stringify-tokenlist) 02http://git.io/vqYbk
[11:15:28] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[11:18:16] *** Quits: vikaton (uid59278@moz-0a9h81.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[11:21:06] *** Quits: bdero (bran@moz-0e2lk5.sns9.e6pb.0197.2601.IP) (Ping timeout: 121 seconds)
[11:41:59] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[11:41:59] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vqnWs
[11:41:59] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[11:42:03] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[11:42:03] -ghservo- [13servo] 15bors-servo closed pull request #6505: Implement crypto.getRandomValues() (06master...06issue/4666-crypto-getRandomValues) 02http://git.io/vtEn5
[11:42:03] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[11:44:03] *** AutomatedTester|AFK is now known as AutomatedTester
[11:51:29] *** Quits: pkondzior (sid768@moz-8nse48.tooting.irccloud.com) (Quit: )
[11:51:43] *** Joins: pkondzior (sid768@moz-nrgp4s.highgate.irccloud.com)
[11:59:36] *** Quits: robertknight_ic (sid15951@moz-prf2bt.tooting.irccloud.com) (Quit: )
[11:59:39] *** Joins: robertknight_ic (sid15951@moz-cjv40p.highgate.irccloud.com)
[12:07:00] *** Quits: jandem (sid16255@moz-n3dk9a.tooting.irccloud.com) (Quit: )
[12:07:13] *** Joins: jandem (sid16255@moz-2gehe3.highgate.irccloud.com)
[12:07:23] *** Quits: eddyb (eddyb@moz-413.q07.26.188.IP) (Connection closed)
[12:07:32] *** Joins: eddyb (eddyb@moz-413.q07.26.188.IP)
[12:08:17] *** Quits: mihnea_ (sid16310@moz-khmcl3.tooting.irccloud.com) (Quit: )
[12:08:20] *** Joins: mihnea_ (sid16310@moz-87gr0i.highgate.irccloud.com)
[12:08:59] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[12:11:15] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:11:15] *** ChanServ sets mode: +qo jdm jdm
[12:11:38] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[12:12:43] <Ms2ger> jdm, I'm sure you want to start your week with #6562 :)
[12:12:43] <crowbot1> Issue #6562: Update most dependencies. - https://github.com/servo/servo/pull/6562
[12:13:14] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[12:13:15] -ghservo- [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/vqcU2
[12:13:15] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[12:13:15] <jdm> how well you know me!
[12:13:15] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[12:13:15] -ghservo- [13servo] 15bors-servo pushed 1 new commit to 06auto: 02http://git.io/vqcUa
[12:13:15] -ghservo- 13servo/06auto 14f15716c 15bors-servo: Auto merge of #6562 - servo:update-all, r=jdm...
[12:13:15] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[12:23:00] *** Quits: Ms2ger (Ms2ger@moz-mt3r7m.access.telenet.be) (Connection closed)
[12:23:24] *** Joins: Ms2ger (Ms2ger@moz-mt3r7m.access.telenet.be)
[12:25:47] *** Joins: bdero (bran@moz-91hi89.mit.edu)
[12:26:04] *** Quits: bombless (bombless@moz-ebc.c2f.21.116.IP) (Quit: Leaving)
[12:26:18] <jdm> Ms2ger: want to review #6540?
[12:26:18] <crowbot1> Issue #6540: Make devtools usable once more. - https://github.com/servo/servo/pull/6540
[12:26:34] *** Quits: tomaka (Pierre@moz-gg67kl.abo.wanadoo.fr) (Quit: Leaving)
[12:26:40] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[12:26:49] *** Quits: Nashenas88 (Nashenas88@moz-of81j9.miamfl.sbcglobal.net) (Client exited)
[12:29:48] *** Joins: dwins (dwins@moz-9sdv1c.va.comcast.net)
[12:29:56] *** Joins: tomaka (Pierre@moz-gg67kl.abo.wanadoo.fr)
[12:31:26] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[12:36:47] *** Quits: hlieberman (sid17492@moz-4o760d.tooting.irccloud.com) (Quit: )
[12:36:51] *** Joins: hlieberman (sid17492@moz-h2vumj.highgate.irccloud.com)
[12:40:38] <Ms2ger> jdm, I looked at one point, but I don't know the devtools code
[12:40:52] <Ms2ger> jdm, I could, but it'll take a while if you want it done well :)
[12:41:10] <jdm> hmmph
[12:41:35] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[12:41:51] *** Quits: jonalmeida (sid17545@moz-alcuv3.tooting.irccloud.com) (Quit: )
[12:41:57] *** Joins: jonalmeida (sid17545@moz-c167m6.highgate.irccloud.com)
[12:45:56] <Ms2ger> What's the bus factor for devtools rn?
[12:46:52] *** Quits: merl (sid17756@moz-kp9qtk.tooting.irccloud.com) (Quit: )
[12:47:02] *** Joins: merl (sid17756@moz-n96e6m.highgate.irccloud.com)
[12:47:33] *** Quits: FreeFull (freefull@moz-147vhh.range31-48.btcentralplus.com) (Quit: BBL)
[12:47:34] <jdm> Ms2ger: 1.125, probably
[12:47:45] <jdm> gw has reviewed stuff in there before
[12:48:00] *** Quits: qrlpx (smuxi@moz-n7t.3nb.211.95.IP) (Connection closed)
[12:49:04] <eddyb> jdm: sorry for the lack of activity on #6303
[12:49:04] <crowbot1> Issue #6303: Use <base> in resolving url attributes (like "href"). - https://github.com/servo/servo/pull/6303
[12:57:44] <jdm> mmm, webkit has the same synthetic activation steps problem as gecko and blink
[12:58:13] <jdm> how much do you want to bet that the spec language is web-incompatible?
[12:59:21] <Manishearth> jdm: didn't  Hixie say something about that?
[12:59:53] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[13:00:05] <jdm> Manishearth: I think that was just about reentrancy
[13:00:33] <Manishearth> ah
[13:00:38] <Manishearth> jdm: bug link?
[13:00:44] <jdm> https://www.w3.org/Bugs/Public/show_bug.cgi?id=27430
[13:00:46] <jdm> oh
[13:00:49] <jdm> Manishearth: https://bugzilla.mozilla.org/show_bug.cgi?id=1180670
[13:00:51] <firebot> Bug 1180670 â€” NEW, nobody@mozilla.org â€” Synthethic click activation (ie. HTMLElement.click()) should not find the nearest activatable elemen
[13:01:35] * Manishearth reads the comments by this mysterious Manishearth
[13:02:01] <Manishearth> (I've forgotten the exact bug)
[13:03:21] <Manishearth> oh, I see what Gecko's doing
[13:03:23] <Manishearth> yeah that's wrong
[13:04:21] <jdm> gecko and webkit and blink :)
[13:07:24] <Manishearth> everyone's wrong
[13:07:33] <Manishearth> Servo is the One True Browser
[13:10:10] *** Quits: jack (sid19593@moz-81tj3u.tooting.irccloud.com) (Quit: )
[13:10:13] *** Joins: jack (sid19593@moz-fhlsm9.highgate.irccloud.com)
[13:10:13] *** ChanServ sets mode: +o jack
[13:11:32] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[13:11:32] -ghservo- [13servo] 15jdm closed issue #6544: Click doesn't walk up the tree 02http://git.io/vqIYU
[13:11:32] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[13:13:52] <Manishearth> > 
[13:13:59] <Manishearth> > What is the expected behavior?
[13:14:06] <Manishearth> > bing.com should not load.
[13:14:07] <Manishearth> lol
[13:15:10] <Manishearth> jdm: btw, your testcase is down
[13:15:14] <Manishearth> http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=3556
[13:15:17] <jdm> wat
[13:15:22] <jdm> no it's not :/
[13:15:39] <jdm> ie. it works fine form e
[13:15:51] <Manishearth> hmm
[13:16:20] <Manishearth> huh, somehow it's broken on this internet
[13:17:53] *** Joins: tomaka_ (Pierre@moz-gg67kl.abo.wanadoo.fr)
[13:20:03] *** Quits: tomaka (Pierre@moz-gg67kl.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[13:20:08] <Manishearth> jdm: IE followsthe spec
[13:20:20] <Manishearth> I now agree that the spec must be wrong
[13:25:28] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[13:28:12] *** Quits: pyon (pyon@moz-0hd.i1n.7.179.IP) (Quit: I have irrefutable proof that D < 0. It follows trivially from 2D > 3D, which is obviously true.)
[13:28:29] *** Joins: pyon (pyon@moz-0hd.i1n.7.179.IP)
[13:29:07] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[13:29:09] *** Joins: goyox86 (textual@moz-6gq.t8s.78.166.IP)
[13:30:45] *** Quits: je_julie (uid29643@moz-2q4j9e.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[13:41:03] <jdm> guh
[13:41:12] <jdm> would it be so hard for the HTML spec to have linkable anchors?
[13:42:36] *** Joins: ctp (textual@moz-kkcht1.dip0.t-ipconnect.de)
[13:42:48] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[13:43:15] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (Connection closed)
[13:43:30] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[13:45:27] *** Parts: seif (seif@moz-ilq.99t.243.162.IP) ("Textual IRC Client: www.textualapp.com")
[13:48:10] *** Joins: mr_trousers (Mibbit@moz-hu6.nja.252.72.IP)
[13:48:17] <Manishearth> jdm: the HTML spec using HTML features? Now that's just silly :)
[13:48:46] <jdm> actually it has linkable anchors but nothing that I can right-click + copy to paste somewhere else in one go
[13:48:51] <jdm> the DOM spec has them :(
[13:57:29] *** Joins: waffles (wafflespean@moz-rvs.948.23.1.IP)
[14:03:14] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[14:05:28] *** Quits: flaki (sid26072@moz-nnej31.tooting.irccloud.com) (Quit: )
[14:05:40] *** Joins: flaki (sid26072@moz-kltomo.highgate.irccloud.com)
[14:08:55] *** Quits: pyon (pyon@moz-0hd.i1n.7.179.IP) (Quit: I have irrefutable proof that D < 0. It follows trivially from 2D > 3D, which is obviously true.)
[14:15:06] *** Quits: bogdan_maris (Instantbird@moz-662.esi.231.62.IP) (Client exited)
[14:16:52] *** Joins: FreeFull (freefull@moz-147vhh.range31-48.btcentralplus.com)
[14:18:51] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[14:18:51] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 14f15716c to 14c022262: 02http://git.io/A9I6iA
[14:18:51] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[14:21:04] *** Joins: cimes (cimes@moz-lvg.16c.135.128.IP)
[14:27:58] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[14:31:30] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[14:33:53] *** AutomatedTester is now known as AutomatedTester|AFK
[14:35:07] *** Quits: goyox86 (textual@moz-6gq.t8s.78.166.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[14:44:10] *** Joins: ProgramFOX (ProgramFOX@moz-nr9.i6t.176.91.IP)
[14:51:13] <Ms2ger> jdm, a pox on skia!
[14:52:01] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[14:52:01] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 1454a18b5 to 14c022262: 02http://git.io/A9I6iA
[14:52:01] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[14:52:05] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[14:52:05] -ghservo- [13servo] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/vqCkB
[14:52:05] -ghservo- 13servo/06auto 14bb314cf 15James Graham: Use hosts-replaced URL only when loading resources
[14:52:05] -ghservo- 13servo/06auto 1415ca46f 15James Graham: Update web-platform-tests expected data to revision 41a7d8732d8e5c65728c153d29a34fe9d5192b29 (servo)
[14:52:05] -ghservo- 13servo/06auto 1400116d6 15bors-servo: Auto merge of #6416 - jgraham:hosts_replaced, r=jdm...
[14:52:05] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[14:52:51] <Ms2ger> jdm, so I'm not sure I believe mwu's claim that panics cause out-of-order destruction
[14:53:16] <jdm> that does make me skeptical, yes
[14:54:19] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[14:55:01] <eddyb> it would be a bug
[14:55:43] <eddyb> dropck tries really hard to enforce validity of reachable data on drop
[14:57:07] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[15:00:00] *** AutomatedTester|AFK is now known as AutomatedTester
[15:00:41] *** Quits: eddyb (eddyb@moz-413.q07.26.188.IP) (Quit: Konversation terminated!)
[15:00:50] *** Joins: eddyb (eddyb@moz-413.q07.26.188.IP)
[15:04:10] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[15:05:52] *** Joins: zoosha (gmunoz@moz-e0j.3sr.79.167.IP)
[15:10:46] *** Quits: mr_trousers (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:13:21] *** Quits: ctp (textual@moz-kkcht1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[15:16:40] *** Quits: steshaw (sid30841@moz-gkeoob.tooting.irccloud.com) (Quit: )
[15:16:44] *** Joins: steshaw (sid30841@moz-mij4a1.highgate.irccloud.com)
[15:22:20] *** Joins: pyon (pyon@moz-0hd.i1n.7.179.IP)
[15:23:35] *** tomaka_ is now known as tomaka
[15:23:59] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[15:27:00] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[15:35:20] *** Joins: filsmick (filsmick@moz-8qcdgt.abo.wanadoo.fr)
[15:44:19] *** Quits: v21 (vee@moz-map.kug.204.223.IP) (A TLS packet with unexpected length was received.)
[15:49:18] *** Quits: FreeFull (freefull@moz-147vhh.range31-48.btcentralplus.com) (Quit: )
[15:50:42] *** Quits: RJ (sid1@moz-1ddfku.tooting.irccloud.com) (Quit: )
[15:50:44] *** Joins: RJ (sid1@moz-bfakr9.highgate.irccloud.com)
[15:53:39] *** AutomatedTester is now known as AutomatedTester|AFK
[15:53:42] *** AutomatedTester|AFK is now known as AutomatedTester
[15:58:17] <SimonSapin> jdm: Is https://github.com/servo/html5ever/pull/107 for document.write?
[15:58:17] <crowbot1> PR #107: Add a quiescent state to the tokenizer to allow interrupting the parser ... - https://github.com/servo/html5ever/pull/107
[15:58:44] <jdm> SimonSapin: it was for async script loading
[15:59:48] *** tomaka is now known as pink_tomaka
[15:59:53] *** Quits: valentin (icecold@moz-thtct2.eurotel.cz) (Ping timeout: 121 seconds)
[16:00:15] *** Joins: dbaron (dbaron@moz-12jr9n.dynamic.fusionbroadband.com)
[16:03:10] *** AutomatedTester is now known as AutomatedTester|AFK
[16:05:54] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[16:06:43] <Manishearth> jdm: think we could change the spec?
[16:06:47] <Manishearth> I can try to file an IE bug 
[16:07:10] <jdm> I have no idea
[16:07:15] <Manishearth> Ms2ger: ?
[16:07:17] <jdm> I'm waiting to see what smaug says in the gecko bug
[16:07:22] <Manishearth> cool\
[16:07:42] <Manishearth> I believe this may be behavior that websites rely on
[16:07:55] <Manishearth> I mean, click() has a connotation of event bubbling, sort of
[16:08:05] <Manishearth> one woudl think it emulates a click as much as possible
[16:08:36] <Manishearth> so changing the spec might be better
[16:09:01] *** Quits: omissis (omissis@moz-18h4f9.customer.m-online.net) (Client exited)
[16:09:12] <Manishearth> jdm: I think you should leave a comment on the spec bug about these other bugs at the very least
[16:09:27] <Manishearth> If you want to start a conversation on it I can try to find IE people
[16:09:40] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:09:45] * Manishearth dreads opening product studio
[16:09:53] <Manishearth> imagine bugzilla, but with all fields turned on by default
[16:13:17] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[16:16:04] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[16:16:31] *** Quits: filsmick (filsmick@moz-8qcdgt.abo.wanadoo.fr) (Connection closed)
[16:16:52] *** Joins: filsmick (filsmick@moz-8qcdgt.abo.wanadoo.fr)
[16:22:16] *** Quits: filsmick (filsmick@moz-8qcdgt.abo.wanadoo.fr) (Connection closed)
[16:22:17] *** Joins: filsmick (filsmick@moz-8qcdgt.abo.wanadoo.fr)
[16:22:57] *** Joins: mib_9rx8y1 (Mibbit@moz-hu6.nja.252.72.IP)
[16:24:17] *** Quits: mib_9rx8y1 (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:25:14] <frewsxcv> Ms2ger: what do you mean by 'push back' here? https://github.com/servo/servo/pull/6555
[16:25:14] <crowbot1> PR #6555: Join tokens when stringifying DOMTokenList - https://github.com/servo/servo/pull/6555
[16:27:43] *** Joins: blank_name (blank_name@moz-onojo8.mi.frontiernet.net)
[16:27:53] *** Joins: dzbarsky (Adium@moz-mukjmn.fios.verizon.net)
[16:28:07] *** Quits: dzbarsky (Adium@moz-mukjmn.fios.verizon.net) (Connection closed)
[16:32:21] *** Quits: pink_tomaka (Pierre@moz-gg67kl.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[16:35:40] <dwins> frewsxcv: Ms2ger "pushed" you to do some additional work on the PR but invited you to "push back" if you're not willing to do it
[16:43:52] *** Quits: Ms2ger (Ms2ger@moz-mt3r7m.access.telenet.be) (Ping timeout: 121 seconds)
[16:47:44] *** Joins: pink_tomaka (Pierre@moz-gg67kl.abo.wanadoo.fr)
[16:49:33] *** chmanchester|afk is now known as chmanchester
[16:53:13] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:53:13] *** ChanServ sets mode: +o brson
[16:54:41] <frewsxcv> Ah I understand. Thanks dwins 
[16:57:45] <larsberg> Manishearth: at least in product studio *all* the fields are used and at the end of every product cycle the old one is put in support mode and a new instance created after triaging field usage (at least in VS)
[16:58:37] *** Joins: Ms2ger (Ms2ger@moz-mt3r7m.access.telenet.be)
[17:01:07] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[17:01:34] <Ms2ger> frewsxcv, yeah, what he said
[17:01:56] <larsberg> Manishearth: it's also totally custom per-project and allows customized styling/scripting (which we were asking about, but supposedly can't get in BMO)
[17:02:52] <Ms2ger> larsberg, well, if you can find people who do perl... :)
[17:03:56] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:03:57] *** ChanServ sets mode: +o brson
[17:04:52] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[17:04:53] *** Joins: MrZeus (MrZeus@moz-jf4304.skybroadband.com)
[17:05:03] <larsberg> Ms2ger: even with perl, a bunch of stuff we wanted required core bugzilla changes, which we can't land because there's a preference not to diverge BMO from upstream, but upstream doesn't need / want those changes
[17:05:23] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:05:24] *** ChanServ sets mode: +o brson
[17:06:28] <Manishearth> larsberg: wait, you mean it was custom per-project and they *still* decided that they wanted a few hundred fields with tabs and stuff?
[17:06:34] <larsberg> Ms2ger: I think the plan of record will be to stick with github issues and just have scripts that scrape from them into BMO for anything that the planning people need to track
[17:07:03] <Manishearth> larsberg: I doubt the sanity of the people here now
[17:07:09] <Manishearth> I also doubt my sanity
[17:07:16] <larsberg> Manishearth: yup, that's a LOT less than in the pre-product studio days (the "RAID" system), which was a thin layer over a SQL Server instance and couldn't really subtract fields between versions
[17:07:44] <Manishearth> http://www.esreality.com/files/inlineimages/2009/68253-obelix.jpg
[17:08:28] <Manishearth> Ms2ger: imagine if Bugzilla had tabs. and each tab had MORE fields that can be filled in
[17:08:52] <Manishearth> I think there are as many tabs as there are fields in Firefox BMO
[17:09:10] <Ms2ger> Manishearth, does the onboarding stuff work, at least? :)
[17:09:26] <larsberg> Manishearth: OTOH, literally every bug has an owner, is being tracked / triaged regularly, so there's that :-)
[17:12:00] <Manishearth> Ms2ger: onboarding?
[17:12:38] <Ms2ger> A tool with the interesting name "SilkRoad Onboarding"
[17:12:38] <Manishearth> larsberg: true. though figuring out which of those fields is owner in the humongous search dropdown is hard too (Filed by, Assigned to, etc)
[17:13:26] <Manishearth> Ms2ger: our onboarding was a day of presentations, and then a week of chilling out till we got our creds
[17:13:47] <Ms2ger> Also, when is jack back?
[17:14:55] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[17:15:10] <larsberg> Ms2ger: his PTO mail says until July 7th (tomorrow)
[17:16:15] <larsberg> (That is, he's also off on July 7th, so back Wednesday, I assume)
[17:17:41] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[17:21:57] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[17:21:57] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 1400116d6 to 14c022262: 02http://git.io/A9I6iA
[17:21:57] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[17:21:58] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[17:21:58] -ghservo- [13servo] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/vqWm2
[17:21:58] -ghservo- 13servo/06auto 14dbbab3b 15Kevin Ball: Implement Node.baseURI
[17:21:58] -ghservo- 13servo/06auto 149ac5eb3 15Kevin Ball: Fix code review concerns on tests
[17:21:58] -ghservo- 13servo/06auto 14a437edd 15bors-servo: Auto merge of #6559 - kball:IS1824-implement-Node.baseURI, r=Ms2ger...
[17:21:58] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[17:22:45] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[17:23:30] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[17:23:39] *** Joins: Jackneill (Jackneill@moz-2oo.vnt.29.185.IP)
[17:24:08] *** Joins: valentin (icecold@moz-thtct2.eurotel.cz)
[17:24:20] <Ms2ger> How about pcwalton?
[17:26:46] <Ms2ger> larsberg, you remember what caused "include/gpu/gl/SkNativeSharedGLContext.h:18:27: fatal error: GLES2/gl2.h: No such file or directory"?
[17:26:53] <Ms2ger> rpi changes?
[17:27:03] <larsberg> Ms2ger: I'm pretty sure pcwalton is around, but he's been heads-down hacking on some GL experiments.
[17:27:23] <larsberg> Ms2ger: And yes, it was some rpi changes that IIRC were backed out. I believe mbrubeck tracked that one down.
[17:27:38] <Ms2ger> You remember where?
[17:27:49] <Ms2ger> Or mbrubeck?
[17:28:11] * mbrubeck searches memory, github
[17:28:49] <larsberg> Ms2ger: I lied! It was mrobinson - https://github.com/servo/rust-azure/commit/4d2c26a8d3e86c12536d747e834ff00b2cf745f1
[17:28:53] <mbrubeck> Ms2ger: https://github.com/servo/skia/pull/53 ?
[17:28:53] <crowbot1> PR #53: Revert "Fix build in Raspberry Pi2." - https://github.com/servo/skia/pull/53
[17:29:07] <larsberg> wait, I'm misremembering... I think mbrubeck is right.
[17:29:36] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[17:29:36] -ghservo- [13servo] 15boghison closed pull request #6541: Fix #6519 (06master...06encoding) 02http://git.io/vqkXE
[17:29:36] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[17:30:39] *** Quits: blank_name (blank_name@moz-onojo8.mi.frontiernet.net) (Ping timeout: 121 seconds)
[17:31:29] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[17:31:30] -ghservo- [13string-cache] 15frewsxcv opened pull request #90: Implement AsRef<str> for Atom (06master...06atom-as-ref-str) 02http://git.io/vqWs1
[17:31:30] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[17:31:35] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[17:31:35] -ghservo- [13skia] 15Ms2ger pushed 2 new commits to 06master: 02http://git.io/vqWsS
[17:31:35] -ghservo- 13skia/06master 143455634 15Matt Brubeck: Revert "Fix build in Raspberry Pi2."...
[17:31:35] -ghservo- 13skia/06master 1477b2706 15Ms2ger: Merge pull request #53 from mbrubeck/revert-rpi...
[17:31:35] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[17:32:31] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[17:32:31] -ghservo- [13string-cache] 15bors-servo created 06auto from 06master (+0 new commits): 02http://git.io/vqWGO
[17:32:31] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[17:32:41] *** Joins: blank_name (blank_name@moz-onojo8.mi.frontiernet.net)
[17:32:53] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[17:33:41] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[17:33:41] -ghservo- [13servo] 15Ms2ger 04force-pushed 06update-all from 142533d52 to 14b7dc1cf: 02http://git.io/vqZPr
[17:33:41] -ghservo- 13servo/06update-all 14b7dc1cf 15Ms2ger: Update most dependencies....
[17:33:41] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[17:34:42] *** Joins: pcwalton (pcwalton@moz-7sa3hj.static-ip.telepacific.net)
[17:34:42] *** ChanServ sets mode: +o pcwalton
[17:36:28] *** Quits: pcwalton (pcwalton@moz-7sa3hj.static-ip.telepacific.net) (Connection closed)
[17:36:49] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[17:36:49] -ghservo- [13string-cache] 15bors-servo closed pull request #90: Implement AsRef<str> for Atom (06master...06atom-as-ref-str) 02http://git.io/vqWs1
[17:36:49] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[17:37:00] *** Joins: pcwalton (pcwalton@moz-7sa3hj.static-ip.telepacific.net)
[17:37:00] *** ChanServ sets mode: +o pcwalton
[17:38:41] <frewsxcv> can someone cut a new release for string-cache? https://github.com/servo/string-cache i need https://github.com/servo/string-cache/pull/90
[17:38:42] <crowbot1> PR #90: Implement AsRef<str> for Atom - https://github.com/servo/string-cache/pull/90
[17:39:37] *** Joins: bholley (bholley@moz-cfhap5.mtv2.mozilla.com)
[17:41:17] <Ms2ger> Argh, crates.io
[17:41:48] <Ms2ger> pcwalton, r? #6547
[17:41:49] <crowbot1> Issue #6547: Borrow the QueueData for WorkQueue::run. - https://github.com/servo/servo/pull/6547
[17:41:54] <pcwalton> Ms2ger: looking
[17:42:07] <pcwalton> going to try to catch up on all reviews and PRs today
[17:42:35] <Ms2ger> <3
[17:45:02] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Quit: Textual IRC Client: www.textualapp.com)
[17:46:57] *** Quits: pcwalton (pcwalton@moz-7sa3hj.static-ip.telepacific.net) (Client exited)
[17:48:16] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[17:48:16] -ghservo- [13string-cache] 15frewsxcv opened pull request #91: Bump version: 0.1.4 -> 0.1.5 (06master...06bump-bump-bump) 02http://git.io/vqW8K
[17:48:16] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[17:48:19] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[17:48:19] -ghservo- [13rust-openssl] 15Ms2ger 04force-pushed 06unpin from 1417ec0c5 to 14f4afe61: 02http://git.io/vqW86
[17:48:19] -ghservo- 13rust-openssl/06unpin 14f4afe61 15Ms2ger: Unpin the bitflags version....
[17:48:19] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[17:49:34] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[17:51:32] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[17:51:32] -ghservo- [13string-cache] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/vqWBL
[17:51:32] -ghservo- 13string-cache/06auto 14b66c3e5 15Corey Farwell: Bump version: 0.1.4 -> 0.1.5...
[17:51:32] -ghservo- 13string-cache/06auto 146bdbe0c 15bors-servo: Auto merge of #91 - frewsxcv:bump-bump-bump, r=Ms2ger...
[17:51:32] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[17:51:56] <Ms2ger> frewsxcv, no, I can't publish
[17:52:02] <Ms2ger> Maybe larsberg or SimonSapin can
[17:52:04] <Ms2ger> Or Manishearth 
[17:52:28] <Ms2ger> larsberg, can we push harder on that crates.io group feature?
[17:52:38] <frewsxcv> ;)
[17:52:45] <SimonSapin> on it
[17:52:48] <mrobinson> Ms2ger: Are you trying to build with the latest Skia?
[17:52:57] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[17:52:57] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 14a437edd to 14c022262: 02http://git.io/A9I6iA
[17:52:57] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[17:52:59] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[17:52:59] -ghservo- [13servo] 15bors-servo pushed 1 new commit to 06auto: 02http://git.io/vqWB7
[17:52:59] -ghservo- 13servo/06auto 149b38c24 15bors-servo: Auto merge of #6562 - servo:update-all, r=jdm...
[17:52:59] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[17:53:03] <SimonSapin> (re-publishing string-cache, not the group feature)
[17:53:05] <Ms2ger> mrobinson, #6562
[17:53:06] <crowbot1> Issue #6562: Update most dependencies. - https://github.com/servo/servo/pull/6562
[17:53:10] <frewsxcv> It might be easiest to implement using github orgs for the crates group feature
[17:53:23] <Ms2ger> Yeah, that's the proposal in the issue
[17:53:27] <SimonSapin> https://github.com/rust-lang/crates.io/issues/137
[17:53:35] <frewsxcv> Ah, haven't read that yet
[17:53:45] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[17:54:15] *** Joins: ghservo (ghservo@moz-l3t.5u0.30.192.IP)
[17:54:15] -ghservo- [13servo] 15jdm closed pull request #5792: FIFO unrooting failure with dictionaries #5107 (06master...06fifo) 02http://git.io/vfn82
[17:54:15] *** Parts: ghservo (ghservo@moz-l3t.5u0.30.192.IP) ()
[17:55:08] <mrobinson> Ms2ger: I think there are some issues with the Skia commits for RPi.
[17:55:30] <mrobinson> Ms2ger: I haven't investigated the cause, but I found that I needed to start from 92df68b91084bbe1e025efa64a1647471eb17afc to get things to build.
[17:55:54] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[17:55:54] -ghservo- [13string-cache] 15bors-servo closed pull request #91: Bump version: 0.1.4 -> 0.1.5 (06master...06bump-bump-bump) 02http://git.io/vqW8K
[17:55:54] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[17:56:09] <mrobinson> This seems to be something on top of the rust-azure fix that I made.
[17:57:10] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[17:57:10] -ghservo- [13string-cache] 15SimonSapin tagged 06v0.1.4 at 14c188d66: 02http://git.io/vqW0B
[17:57:10] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[17:57:14] *** Quits: waffles (wafflespean@moz-rvs.948.23.1.IP) (Quit: C'yall soon...)
[17:57:33] <SimonSapin> frewsxcv: v0.1.5 is up
[17:58:00] <mbrubeck> mrobinson: The rpi2 PR is reverted on Skia master now (as of about an hour ago)
[17:58:42] <frewsxcv> SimonSapin: ðŸ˜Ž
[17:58:44] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[18:00:14] *** Joins: dzbarsky (Adium@moz-mukjmn.fios.verizon.net)
[18:00:18] <mrobinson> mbrubeck: Oh, cool. Thanks. I was a bit out of the loop. :)
[18:00:42] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[18:00:48] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[18:00:48] -ghservo- [13servo] 15jdm closed issue #5760: Create benchmarks to measure DOM binding performance 02http://git.io/vfTPT
[18:00:48] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[18:00:54] <mbrubeck> Me too... I wrote the patch to revert that two weeks ago, but never noticed it wasn't merged.  :P
[18:02:24] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:02:24] *** ChanServ sets mode: +o pcwalton
[18:03:14] <larsberg> Ms2ger: I'll ask about it; I don't see the groups stuff on the seekrit Q3 pre-planning, though
[18:04:36] <Ms2ger> :(
[18:07:15] *** Joins: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com)
[18:09:31] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[18:09:31] -ghservo- [13servo] 15bors-servo 04force-pushed 06auto from 149b38c24 to 14c022262: 02http://git.io/A9I6iA
[18:09:31] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[18:09:32] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[18:09:32] -ghservo- [13servo] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/vqW2z
[18:09:32] -ghservo- 13servo/06auto 14b5b97b4 15Patrick Walton: layout: Modify styles for replaced content as appropriate during...
[18:09:32] -ghservo- 13servo/06auto 145ad1442 15Patrick Walton: Update WPT expectations
[18:09:32] -ghservo- 13servo/06auto 1420053a1 15bors-servo: Auto merge of #6492 - pcwalton:even-more-jumpiness, r=mbrubeck...
[18:09:32] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[18:11:36] *** Joins: ghservo (ghservo@moz-abh.5u0.30.192.IP)
[18:11:36] -ghservo- [13rust-openssl] 15Ms2ger 04deleted 06unpin at 14f4afe61: 02http://git.io/vqWam
[18:11:36] *** Parts: ghservo (ghservo@moz-abh.5u0.30.192.IP) ()
[18:12:16] *** Joins: sneakyness (textual@moz-tmbr33.biz.rr.com)
[18:16:52] *** Quits: ProgramFOX (ProgramFOX@moz-nr9.i6t.176.91.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0/20150630154324])
[18:18:17] *** Quits: blank_name (blank_name@moz-onojo8.mi.frontiernet.net) (Quit: leaving)
[18:19:04] *** Joins: blank_name (blank_name@moz-onojo8.mi.frontiernet.net)
[18:20:30] *** Quits: jgraham (jgraham@moz-shrn1i.webfaction.com) (Quit: Changing server)
[18:26:53] <Ms2ger> pcwalton, btw, I dunno if you saw, but #2604 has deadlock issues
[18:26:53] <crowbot1> Issue #2604: Make Stylist no longer an unsafe pointer once we have fast RWArcs - https://github.com/servo/servo/issues/2604
[18:27:15] <pcwalton> odd, that's annoying
[18:27:22] <pcwalton> probably need finer-grained locking then
[18:29:06] <Ms2ger> That was with a lock just for the Stylist :/
[18:29:14] <pcwalton> yeah, I mean within the stylist's fields
[18:35:46] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[18:39:05] *** chmanchester is now known as chmanchester|afk
[18:39:08] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[18:40:43] *** Quits: dbaron (dbaron@moz-12jr9n.dynamic.fusionbroadband.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[18:45:31] *** Joins: eddyb_ (eddyb@moz-413.q07.26.188.IP)
[18:46:19] <pcwalton> jack: r? https://github.com/servo/servo/pull/6365 when you get a chance
[18:46:20] <crowbot1> PR #6365: layout: Disable parallel display list building by default. - https://github.com/servo/servo/pull/6365
[18:46:20] *** Quits: eddyb (eddyb@moz-413.q07.26.188.IP) (Ping timeout: 121 seconds)
[18:47:05] *** fitzgen_irccloud is now known as fitzgen
[18:48:19] *** Quits: vodik (simon@moz-86ind4.dedicated.allstream.net) (Connection closed)
[18:49:47] <larsberg> pcwalton: I r+'d (jack is out until Wednesday).
[18:49:56] <pcwalton> cool, thanks
[18:51:21] *** pink_tomaka is now known as tomaka
[18:51:38] *** Joins: vodik (simon@moz-86ind4.dedicated.allstream.net)
[18:56:57] *** Joins: eibwen (eibwen@moz-v66ehg.dip0.t-ipconnect.de)
[18:57:12] *** chmanchester|afk is now known as chmanchester
[18:59:59] *** Quits: valentin (icecold@moz-thtct2.eurotel.cz) (Quit: Leaving.)
[19:00:06] *** Joins: valentin (icecold@moz-thtct2.eurotel.cz)
[19:00:46] *** eddyb_ is now known as eddyb
[19:02:54] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[19:02:54] -ghservo- [13servo] 15SimonSapin opened issue #6564: Support surrogates in the DOM? 02http://git.io/vqWAZ
[19:02:54] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[19:03:15] <SimonSapin> Ms2ger: can you comment on this? â†‘
[19:07:50] *** AutomatedTester|AFK is now known as AutomatedTester
[19:09:02] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[19:09:02] -ghservo- [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/vqWhZ
[19:09:02] -ghservo- 13servo/06auto 14eef9c5d 15Patrick Walton: layout: Disable parallel display list building by default....
[19:09:02] -ghservo- 13servo/06auto 14b876a54 15bors-servo: Auto merge of #6365 - pcwalton:sequential-display-list-construction, r=larsbergstrom...
[19:09:02] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[19:11:27] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[19:11:56] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[19:22:29] <jdm> Ms2ger: what are the messy parts of navigation in your opinion?
[19:22:55] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[19:27:08] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[19:29:55] *** Joins: laleh (Adium@moz-hgq383.reshsg.uci.edu)
[19:33:20] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[19:37:25] *** Quits: laleh (Adium@moz-hgq383.reshsg.uci.edu) (Quit: Leaving.)
[19:39:53] <Ms2ger> jdm, I guess I should have said "it feels like a mess" :)
[19:40:22] <Ms2ger> jdm, but mostly that it doesn't look like the spec at all, so I can't really tell where we're at
[19:40:37] <jdm> fair point
[19:40:56] <Ms2ger> I'm thinking of putting some time into it
[19:42:09] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[19:42:22] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[19:42:22] *** ChanServ sets mode: +o pcwalton
[19:43:10] <pcwalton> jdm: can we just ignore tests in WPT?
[19:43:12] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[19:43:12] -ghservo- [13servo] 15dwins opened pull request #6565: Fix for #6542 - <img> top-padding adds margin (06master...06issue_6452_image_padding) 02http://git.io/vqlOg
[19:43:12] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[19:43:26] <jdm> pcwalton: we can, but it would be nice to figure out what's going on here instead
[19:43:33] *** Joins: ldng (ldng@moz-j945dl.abo.bbox.fr)
[19:43:34] <pcwalton> ok, I'll look into it
[19:45:18] <Ms2ger> Ignoring tests makes me grumpy, fwiw :)
[19:45:39] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[19:45:39] -ghservo- [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/vqWhZ
[19:45:39] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[19:45:43] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[19:45:43] -ghservo- [13servo] 15bors-servo closed pull request #6365: layout: Disable parallel display list building by default. (06master...06sequential-display-list-construction) 02http://git.io/vIAzk
[19:45:43] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[19:45:52] <pcwalton> sure, I agree in generalâ€¦ it's just that this fixes nearly every Web page
[19:46:02] <pcwalton> the testcase is literally a file with the single character "a"
[19:46:07] <pcwalton> I'll look into it though
[19:46:08] *** Joins: mib_8umf3y (Mibbit@moz-hu6.nja.252.72.IP)
[19:49:37] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[19:51:31] *** Joins: eddyb_ (eddyb@moz-413.q07.26.188.IP)
[19:52:38] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[19:53:37] *** Quits: eddyb (eddyb@moz-413.q07.26.188.IP) (Ping timeout: 121 seconds)
[19:55:36] <pcwalton> there's a 1 pixel difference on Mac :(
[19:55:41] <pcwalton> (only on Mac)
[19:57:09] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[19:58:50] <pcwalton> this test might depend on pixel-snapping or something, which we don't do
[19:59:48] *** eddyb_ is now known as eddyb
[20:00:09] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[20:00:55] *** Joins: FreeFull (freefull@moz-147vhh.range31-48.btcentralplus.com)
[20:03:56] <pcwalton> is there some way to have the test runner print out the Servo command line it's using? I can't repro when running manually
[20:04:04] <pcwalton> but I can when running from the test runner
[20:05:31] *** Joins: laleh (Adium@moz-hgq383.reshsg.uci.edu)
[20:05:37] *** Quits: laleh (Adium@moz-hgq383.reshsg.uci.edu) (Connection closed)
[20:05:37] *** Joins: laleh1 (Adium@moz-hgq383.reshsg.uci.edu)
[20:11:02] *** Joins: jviereck (Adium@moz-mfnqg6.dip0.t-ipconnect.de)
[20:12:48] <Ms2ger> pcwalton, do you use the aa-disabling flag?
[20:12:53] <pcwalton> yes
[20:14:03] *** Quits: laleh1 (Adium@moz-hgq383.reshsg.uci.edu) (Quit: Leaving.)
[20:14:11] <Ms2ger>             self.command = [self.binary, "--cpu", "--hard-fail", "--exit",
[20:14:11] <Ms2ger>                             "-u", "Servo/wptrunner", "-Z", "disable-text-aa",
[20:14:11] <Ms2ger>                             "--output=%s" % output_path, full_url]
[20:14:23] <pcwalton> yeah, I found that
[20:14:26] <pcwalton> still can't repro
[20:14:28] <Ms2ger> Huh
[20:14:37] <pcwalton> maybe if I run the WPT web server?
[20:14:43] <pcwalton> (instead of pointing directly to the .htm)
[20:15:11] *** Quits: sneakyness (textual@moz-tmbr33.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[20:15:27] <Ms2ger> That could be it
[20:16:14] <pcwalton> yes, that repro'd
[20:16:16] <pcwalton> what the heck
[20:20:03] <pcwalton> oh, I bet it's one of those bugs that depends on the way in which the HTML parser chunked up text nodes
[20:20:09] <pcwalton> so adding random text will perturb it
[20:20:49] *** Joins: yati (yati@moz-e38.kma.237.87.IP)
[20:21:50] <yati> What is a _rooted_ DOM element?
[20:22:24] <Ms2ger> In what context?
[20:23:32] <yati> Haha I'm sorry. I'm reading components/script/dom/bindings/js.rs 
[20:23:54] <yati> The header comment mentions Root<T> and rooted DOM objects
[20:24:00] <Ms2ger> http://doc.servo.org/script/dom/index.html#memory-management
[20:24:27] <Ms2ger> Ask away if you need more, so I can add it :)
[20:24:32] * Ms2ger is off now, though
[20:24:46] <yati> Ms2ger, thanks :) 
[20:24:51] <cimes> hey guys - when you're finished with your current problem, I need a little help getting a new crate added to a servo module
[20:28:55] *** Joins: eddyb_ (eddyb@moz-413.q07.26.188.IP)
[20:29:20] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[20:29:20] -ghservo- [13servo] 15bors-servo fast-forwarded 06master from 14b876a54 to 146386add: 02http://git.io/vql3Q
[20:29:20] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[20:29:23] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[20:29:23] -ghservo- [13servo] 15bors-servo closed pull request #6364: layout: Outline the individual property cascading functions to reduce I-cache footprint. (06master...06debloat-cascade) 02http://git.io/vIAWF
[20:29:23] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[20:31:03] <mbrubeck> cimes: Sure, what's up?
[20:31:35] <cimes> hey mbrubeck , I'm trying to add a module that wraps a C library - https://github.com/connorimes/energymon-sys
[20:32:19] <cimes> right now I'm trying to include it in profile_traits, but after adding the dependency to the toml file and adding some code, when I build I get: 
[20:32:39] *** Quits: eddyb (eddyb@moz-413.q07.26.188.IP) (Ping timeout: 121 seconds)
[20:32:42] <cimes>  /local/servo/components/profile_traits/time.rs:12:5: 12:18 error: unresolved import `energymon_sys::energymon::EnergyMon`. Did you mean `self::energymon_sys::energymon`?
[20:33:39] <cimes> I thought I had cargo dependencies mostly figured out but I guess I'm still missing something
[20:34:21] <mbrubeck> cimes: You probably want to add `extern crate energymon_sys;` in components/profile_traits/lib.rs
[20:35:24] <mbrubeck> (That'll add `energymon_sys` to the root namespace of the profile_traits crate. Then you can `use energymon_sys;` elsewhere, since `use` takes an absolute path.)
[20:35:33] <cimes> ah, now it's doing something! Why couldn't I have that line in time.rs where there are other extern crate declarations
[20:36:25] <mbrubeck> cimes: You could, but then you need to do `use time::energymon_sys::...` (absolute path) or `use self::energymon_sys::...` (relative path)
[20:36:50] *** Joins: dbaron (dbaron@moz-f73ucq.2rkg.9kg1.0101.2620.IP)
[20:37:13] <pcwalton> yeah, the HTML parser fragments it into "Inserted new inline" (186.63px wide) in the correct case but "Inserted new inli" (154.4px wide) + "ne" (32.32px wide) in the failing case
[20:38:03] <cimes> mbrubeck, I think I sorta get what it's doing now. I'll have to look more into that.  Thank you, I have it compiling now
[20:38:45] <pcwalton> I wonder if the problem is that round(154.4) + round(32.32) == 186 but round(186.63) == 187
[20:38:54] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:38:55] <pcwalton> that would explain why it's off by one pixel horizontally
[20:39:24] * pcwalton is scared to see what other tests will fail upon fixing this problem if this is indeed it
[20:39:26] *** Quits: yati (yati@moz-e38.kma.237.87.IP) (Quit: This computer has gone to sleep)
[20:39:35] *** AutomatedTester is now known as AutomatedTester|AFK
[20:39:39] <cimes> Is there a faster way to recompile/test changes when changing one component in servo without having to recompile the entire project?
[20:39:41] <jdm> pcwalton: mmmm, fun
[20:40:36] *** Joins: till (till@moz-kfa.g42.119.82.IP)
[20:40:47] *** AutomatedTester|AFK is now known as AutomatedTester
[20:40:51] <mbrubeck> cimes: Not really. :/
[20:43:18] <cimes> mbrubeck, shame, I'm still pretty new to rust and will be making lots of silly mistakes.  Hopefully I won't waste too much time waiting to compile bad code
[20:43:23] <mbrubeck> cimes: If you have some unit tests in a crate you're changing, I think you can do `./mach test-unit -p <crate_name>` without rebuilding everything.
[20:43:45] <mbrubeck> cimes: Also, errors that the compiler catches tend to show up very early in the build.
[20:43:54] <mbrubeck> which helps
[20:44:59] <cimes> mbrubeck, yeah that's good.  I'm currently adding some energy monitoring to the profiling.  It's kinda hacky right now but I'm just trying to get a feel for how the profiling stuff is hooked up
[20:45:31] <cimes> I need to see if I can even get decent energy readings at this fine-grained scale
[20:45:47] *** Quits: till (till@moz-kfa.g42.119.82.IP) (Ping timeout: 121 seconds)
[20:46:39] <pcwalton> yep, that seemed to be it
[20:48:07] *** eddyb_ is now known as eddyb
[20:49:38] <Ms2ger> pcwalton, :/
[20:49:39] *** Quits: Jackneill (Jackneill@moz-2oo.vnt.29.185.IP) (A TLS packet with unexpected length was received.)
[20:51:32] *** Quits: Ms2ger (Ms2ger@moz-mt3r7m.access.telenet.be) (Quit: nn)
[20:53:34] *** Joins: edunham (edunham@moz-meu.gm8.131.104.IP)
[20:54:09] <pcwalton> reftests seem to be passing OK with that fix
[20:58:10] <pcwalton> jdm: r? https://github.com/servo/servo/pull/6492 (fix for that issue, I hope)
[20:58:10] <crowbot1> PR #6492: layout: Modify styles for replaced content as appropriate during incremental flow construction. - https://github.com/servo/servo/pull/6492
[20:58:32] *** Joins: sneakyness (textual@moz-tmbr33.biz.rr.com)
[20:59:36] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[21:00:35] *** AutomatedTester is now known as AutomatedTester|AFK
[21:01:33] <jdm> pcwalton: heh, that's a lot of failing tests :)
[21:01:53] <jdm> oh, I guess that's the same ones as before just reordered in the commit list
[21:02:26] <pcwalton> the change pretty much fixes incremental inline reflow -- it was very broken before in most cases
[21:02:29] * jdm leaves the review to somebody who actually knows how all that azure stuff works
[21:02:58] <pcwalton> gw: want to review the round-out change in https://github.com/servo/servo/pull/6492 ?
[21:02:59] <crowbot1> PR #6492: layout: Modify styles for replaced content as appropriate during incremental flow construction. - https://github.com/servo/servo/pull/6492
[21:03:12] <gw> pcwalton: looking
[21:03:23] <pcwalton> the basic problem is that round(rect.origin), round(rect.size) is the wrong way to round a rect to the nearest pixel
[21:03:31] <pcwalton> you want to do round(top-left), round(bottom-right)
[21:03:35] <gw> indeed!
[21:04:10] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:04:19] *** Joins: nefzaoui (nefzaoui@moz-07c.693.228.41.IP)
[21:06:37] <gw> pcwalton: r+
[21:06:43] <pcwalton> thanks
[21:10:03] <mrobinson> pcwalton: Do you have any idea how the IOSurface native surfaces work across threads?
[21:10:18] <pcwalton> mrobinson: they get serialized into global per-system IDs and read back on the other side
[21:10:27] <pcwalton> it's not the ideal way to do it -- the right way would be to use Mach ports
[21:10:34] <pcwalton> I guess my ipc-channel stuff will help with that transition
[21:10:47] <mrobinson> pcwalton: The surface repository is a thread local, so I guess I don't understand how that works in both threads?
[21:11:17] <pcwalton> mrobinson: can you link me to the code that declares the surface repository? it's been ages
[21:11:23] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[21:11:45] <mrobinson> pcwalton: Sure: https://github.com/servo/rust-layers/blob/master/src/platform/macos/surface.rs#L36
[21:12:35] <pcwalton> oh, well, the surface repository is just a per-thread cache
[21:12:50] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (A TLS packet with unexpected length was received.)
[21:12:54] <pcwalton> the OS kernel maintains a system-wide table of IOSurface IDs to IOSurfaces
[21:13:02] <pcwalton> the repository is just to avoid hitting the kernel all the time
[21:13:04] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[21:13:04] -ghservo- [13servo] 15bors-servo pushed 5 new commits to 06auto: 02http://git.io/vqlH3
[21:13:04] -ghservo- 13servo/06auto 14b1765c6 15ecoal95: webgl: Refactor implementation to move logic inside the DOM interfaces...
[21:13:04] -ghservo- 13servo/06auto 1442bd43a 15ecoal95: webgl: Make bind* calls more spec-compliant
[21:13:04] -ghservo- 13servo/06auto 149b306ac 15ecoal95: webgl: implement getError
[21:13:04] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[21:13:05] <pcwalton> in one thread
[21:13:07] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[21:13:07] -ghservo- [13servo] 15bors-servo closed pull request #6547: Borrow the QueueData for WorkQueue::run. (06master...06workqueue-reference) 02http://git.io/vqti7
[21:13:07] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[21:13:25] <pcwalton> the IOSurfaceIDs are globally valid for the whole system
[21:13:34] <pcwalton> (yeah, it's not a very good design for security) :)
[21:13:39] <mrobinson> pcwalton: Ah, iosurface::lookup looks it up in a system table?
[21:13:42] <pcwalton> yeah
[21:13:45] <pcwalton> it asks the kernel
[21:13:49] <mrobinson> Oh. This is good news. :)
[21:15:20] <mrobinson> pcwalton: Why can't we just send opaque pointers in IPC messages, by the way? 
[21:16:14] *** Quits: filsmick (filsmick@moz-8qcdgt.abo.wanadoo.fr) (Quit: )
[21:16:38] <mrobinson> pcwalton: Sorry, not IPC messages, but the messages that are sent between tasks.
[21:18:08] *** Joins: jviereck1 (Adium@moz-sg40fd.dip0.t-ipconnect.de)
[21:19:41] <larsberg> Reminder: it's the "late" meeting this week, in a little bit over 2.5 hours - https://etherpad.mozilla.org/Servo-meeting-weekly
[21:19:56] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[21:19:59] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[21:20:06] *** Quits: jviereck (Adium@moz-mfnqg6.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:21:01] *** Quits: not_gavin (gavin@moz-46i.6l4.14.76.IP) (Connection closed)
[21:23:10] *** AutomatedTester|AFK is now known as AutomatedTester
[21:23:43] *** Joins: enaqx (enaqx@moz-0vb.96r.163.188.IP)
[21:25:29] <pcwalton> mrobinson: I wanted to make it multiprocess-safe from the start so I have less work to do in my multiprocess branch :)
[21:25:32] *** Quits: dzbarsky (Adium@moz-mukjmn.fios.verizon.net) (Quit: Leaving.)
[21:26:32] <mrobinson> pcwalton: Okay. This shouldn't be an issue for IOSurface since it can lookup ids, but might be a problem for EGLImage.
[21:26:58] <pcwalton> yeah, IIRC the way you pass EGLImages between processes is platform-specific.
[21:27:17] <pcwalton> I think on Android you need something like an android_native_surface_t (it's something like that IIRC?) and on Wayland it's a wayland_buffer_t (something like that)
[21:27:17] *** Joins: enaqx_ (enaqx@moz-8ru.hop.163.188.IP)
[21:27:30] <pcwalton> so that'd be the equivalent of the "IOSurfaceID"
[21:27:32] <gw> pcwalton: it's very basic (https://i.imgur.com/iKHOGwb.png) in terms of supported features, but I might try and tidy up my branch so far so that we have a relatively simple branch / patch that makes it easy to do gl related experiments on the servo display list
[21:27:34] <pcwalton> for those platforms
[21:27:43] <pcwalton> gw: wow!
[21:27:47] *** Quits: enaqx (enaqx@moz-0vb.96r.163.188.IP) (Ping timeout: 121 seconds)
[21:27:51] <pcwalton> is this based on webrast or something else?
[21:28:53] <gw> just on my own hacked up rendering lib (it's really just a font cache + rectangle blitter), but if I can make a reasonably simple patch that exposes the servo display list to the compositor, we should both be able to easily plug in webrast or whatever to do some experiments with real web content
[21:28:58] <pcwalton> this is niceâ€¦ looks you started with the relatively easy stuff (atlasing, images), I started with the hard stuff (complex clipping regions, distance field rasterization)
[21:29:07] <pcwalton> perhaps we can merge the two?
[21:29:13] <pcwalton> sure, that sounds good
[21:29:13] <gw> pcwalton: yes, I figured if we start that way we can merge them :)
[21:29:51] <pcwalton> btw, I think the blurring on text works fine on a distance field as long as the blur is smaller than the thickness of the text
[21:30:11] <pcwalton> if the blur is larger, though, it'll start to be wrongâ€¦ we'll need to fall back to traditional triple box blur or something
[21:30:30] <pcwalton> still, should help small text shadows
[21:30:30] <gw> nice, it should be fairly easy to have fast paths for things like that with fallbacks
[21:30:59] *** Joins: jgraham` (jgraham@moz-6gq.67h.59.108.IP)
[21:31:12] <SimonSapin> pcwalton: that only works for "not too fancy" sans-serif fonts, right?
[21:31:21] *** Quits: enaqx_ (enaqx@moz-8ru.hop.163.188.IP) (Ping timeout: 121 seconds)
[21:31:37] <pcwalton> SimonSapin: it'll only be 100% correct for that
[21:31:54] <pcwalton> still, I think browsers always approximate blurs anyway (triple box blur is just an approximation of Gaussian blur)
[21:32:02] <pcwalton> so it's a question of what looks good enough
[21:32:25] <SimonSapin> the spec says anything within 5% of gaussian is conformant
[21:32:29] *** jgraham` is now known as jgraham
[21:32:54] <pcwalton> wonder if there's a way we can predict that in advance
[21:33:15] <pcwalton> it is way faster to use the distance field so it's an attractive optimization
[21:33:25] <gw> it's actually (relatively) fast to do gaussian blur on modern GPUs these days since it's a separable filter, so that might be an option too
[21:33:40] *** Joins: enaqx (enaqx@moz-8ru.hop.163.188.IP)
[21:34:24] <pcwalton> yeah, I was worried about the number of texture lookups and what that would mean for arithmetic intensity, but that should definitely work too
[21:34:31] *** Quits: enaqx (enaqx@moz-8ru.hop.163.188.IP) (A TLS packet with unexpected length was received.)
[21:36:27] *** Quits: cimes (cimes@moz-lvg.16c.135.128.IP) (Quit: Leaving)
[21:37:38] *** Joins: not_gavin (gavin@moz-46i.6l4.14.76.IP)
[21:38:33] *** Quits: jviereck1 (Adium@moz-sg40fd.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:42:01] *** Joins: till (till@moz-kfa.g42.119.82.IP)
[21:46:24] *** Quits: till (till@moz-kfa.g42.119.82.IP) (Ping timeout: 121 seconds)
[21:48:55] *** Joins: jviereck (Adium@moz-sg40fd.dip0.t-ipconnect.de)
[21:50:04] *** AutomatedTester is now known as AutomatedTester|AFK
[21:57:08] *** Quits: jviereck (Adium@moz-sg40fd.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:57:59] *** Quits: bholley (bholley@moz-cfhap5.mtv2.mozilla.com) (Quit: Textual IRC Client: www.textualapp.com)
[22:02:52] *** Parts: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) ()
[22:09:13] *** Joins: rohin (rohin@moz-8rvdar.user.start.ca)
[22:10:53] *** Quits: zoosha (gmunoz@moz-e0j.3sr.79.167.IP) (Quit: Lost terminal)
[22:11:41] *** Joins: zoosha (gmunoz@moz-e0j.3sr.79.167.IP)
[22:21:15] *** Quits: zmike_ (discomfitor@moz-oek0ra.ct.comcast.net) (Ping timeout: 121 seconds)
[22:21:54] *** Joins: cimes (cimes@moz-sfmbhq.il.comcast.net)
[22:22:38] *** Quits: eddyb (eddyb@moz-413.q07.26.188.IP) (Quit: Konversation terminated!)
[22:22:47] *** Joins: eddyb (eddyb@moz-413.q07.26.188.IP)
[22:24:02] <pcwalton> surface patterns don't work in Azure the way I expect them to
[22:24:02] <pcwalton> grr
[22:24:18] *** Joins: zmike_ (discomfitor@moz-oek0ra.ct.comcast.net)
[22:29:23] *** Quits: fkaa (fkaa@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:29:52] *** Quits: eibwen (eibwen@moz-v66ehg.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:30:42] *** Joins: ghservo (ghservo@moz-m9l.5u0.30.192.IP)
[22:30:42] -ghservo- [13servo] 15bors-servo closed pull request #6380: Refactor WebGL implementation to move logic inside the DOM interfaces (06master...06webgl-refactoring) 02http://git.io/vLJXi
[22:30:42] *** Parts: ghservo (ghservo@moz-m9l.5u0.30.192.IP) ()
[22:31:23] *** Quits: bdero (bran@moz-91hi89.mit.edu) (Ping timeout: 121 seconds)
[22:34:22] *** Joins: njn (chatzilla@moz-270n86.iinet.net.au)
[22:34:50] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:35:42] *** Quits: nefzaoui (nefzaoui@moz-07c.693.228.41.IP) (Ping timeout: 121 seconds)
[22:39:18] *** Joins: nefzaoui (nefzaoui@moz-07c.693.228.41.IP)
[22:40:27] *** Joins: eddyb_ (eddyb@moz-413.q07.26.188.IP)
[22:40:38] *** Quits: eddyb (eddyb@moz-413.q07.26.188.IP) (Connection closed)
[22:42:35] *** Quits: ldng (ldng@moz-j945dl.abo.bbox.fr) (Quit: Leaving)
[22:42:48] *** Joins: till (till@moz-kfa.g42.119.82.IP)
[22:47:11] *** Quits: till (till@moz-kfa.g42.119.82.IP) (Ping timeout: 121 seconds)
[22:49:44] <gw> it feels like build times have regressed with the latest rustup, but I could be imagining it
[22:51:32] <pcwalton> it definitely seems slower on the bots, but I assumed that was because we're running more tests now
[22:52:33] *** eddyb_ is now known as eddyb
[22:54:31] *** Joins: crowbot (nodebot@moz-fidv2a.compute-1.amazonaws.com)
[22:54:48] <jgraham> It's not hard to differentiate the two things
[22:55:37] <jgraham> (on buildbot that is)
[22:56:09] <gw> hmmm just opened a PR for servo/servo and there was no ghservo notification in irc
[22:56:37] <Elaine> gw: github is having webhook issues right now.
[22:56:49] <gw> pcwalton: r? https://github.com/servo/servo/pull/6566
[22:56:49] <crowbot> PR #6566: Add servo Image type. Remove rust-png dependency from script, gfx, layout. - https://github.com/servo/servo/pull/6566
[22:56:59] <pcwalton> gw: looking
[22:58:59] <jdm> seems sensible
[22:59:56] *** Quits: crowbot1 (nodebot@moz-hs8u0b.compute-1.amazonaws.com) (Ping timeout: 121 seconds)
[23:00:10] *** Quits: eddyb (eddyb@moz-413.q07.26.188.IP) (Quit: Konversation terminated!)
[23:00:19] *** Joins: eddyb (eddyb@moz-413.q07.26.188.IP)
[23:00:33] *** Joins: laleh (Adium@moz-h8636h.mobile.uci.edu)
[23:01:38] <gw> thanks
[23:04:03] *** Joins: eibwen (eibwen@moz-v66ehg.dip0.t-ipconnect.de)
[23:08:14] *** Quits: eibwen (eibwen@moz-v66ehg.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[23:09:02] * pcwalton is currently reduced to stepping through Skia trying to figure out why it won't blit the pattern I give it
[23:09:35] <pcwalton> more fun than cairo/pixman, but not by much
[23:12:11] *** Joins: kball (Mibbit@moz-6obf9j.sd.cox.net)
[23:13:12] *** Joins: ghservo (ghservo@moz-0l2.5u0.30.192.IP)
[23:13:12] -ghservo- [13servo] 15glennw opened pull request #6566: Add servo Image type. Remove rust-png dependency from script, gfx, layout. (06master...06image-deps) 02http://git.io/vq8Ci
[23:13:12] *** Parts: ghservo (ghservo@moz-0l2.5u0.30.192.IP) ()
[23:15:46] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[23:15:46] -ghservo- [13servo] 15bors-servo pushed 4 new commits to 06auto: 02http://git.io/vq8la
[23:15:46] -ghservo- 13servo/06auto 14dbbab3b 15Kevin Ball: Implement Node.baseURI
[23:15:46] -ghservo- 13servo/06auto 149ac5eb3 15Kevin Ball: Fix code review concerns on tests
[23:15:46] -ghservo- 13servo/06auto 14a269f7f 15Kevin Ball: Update document-base-url test expected outcome to PASS
[23:15:46] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
[23:15:49] *** Quits: mib_8umf3y (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:19:21] *** Joins: matiaslina (matias@moz-ufm.jl5.11.190.IP)
[23:20:38] *** Joins: MrZeus_ (MrZeus@moz-jf4304.skybroadband.com)
[23:22:18] *** Joins: playjax (chatzilla@moz-qca98c.optusnet.com.au)
[23:22:32] <pcwalton> bah, that fix makes 3 more WPT CSS tests pass
[23:22:43] *** Quits: MrZeus (MrZeus@moz-jf4304.skybroadband.com) (Ping timeout: 121 seconds)
[23:22:47] <pcwalton> looks like this commit will improve our pass rate by .23%
[23:24:08] <jdm> heh
[23:25:18] <jdm> huh, I didn't realize we had per-platform expected results now
[23:27:35] <kball> beginner question:  How do I set the log level so debug! statements will show?
[23:28:11] <zofrex> this is weird... even though this method doesn't return anything, if I uncomment that struct at the end, my code crashes https://gist.github.com/zofrex/9da4eb5337f9415d523a
[23:28:35] <jdm> kball: RUST_LOG=crate_name
[23:28:51] <jdm> ie. RUST_LOG=script::script_task,compositing::constellation
[23:29:12] <kball> awesome
[23:29:13] <kball> thanks
[23:29:19] <jdm> zofrex: wat
[23:29:27] <zofrex> jdm: idgi
[23:29:34] <kball> oh
[23:29:37] <kball> at build time or runtime?
[23:29:38] <zofrex> I'm recompiling with assertions now
[23:30:02] <jdm> zofrex: possibly something about moving the root while there's a handle to it?
[23:30:10] <jdm> kball: runtime
[23:30:16] <zofrex> maaaybe
[23:30:37] <zofrex> if I actually return the struct, I get: thread '<main>' panicked at 'assertion failed: *self.stack == mem::transmute(&*self)', /Users/zofrex/.cargo/git/checkouts/rust-mozjs-ebb4917e843c0a11/master/src/rust.rs:286
[23:30:45] <kball> perfect
[23:30:45] <kball> works
[23:30:46] <kball> thank you
[23:30:50] <zofrex> which is Drop for Rooted
[23:31:54] <jdm> zofrex: oh right, RootedObject can't be moved
[23:32:52] <jdm> oh wait, we have a Rooted, not RootedObject
[23:32:54] <jdm> so ignore that
[23:33:10] <zofrex> probably similar though, I shouldn't be moving things..
[23:33:18] <jdm> actually yeah, I'm still confusing myself
[23:33:26] <jdm> don't move Rooted values
[23:33:31] <jdm> SpiderMonkey can't handle that
[23:34:26] * jdm forgot that RootedObject is a typedef of Rooted<*mut JSObject>
[23:35:35] <zofrex> embarassingly stupid question... should the fields in the struct be like "&RootedObject" or should I be Box'ing them or what, to stop them being moved?
[23:36:34] *** Quits: kball (Mibbit@moz-6obf9j.sd.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:31] <njn> jdm!
[23:37:39] <jdm> njn!
[23:37:41] <njn> jdm: I'm working on hooking up the spidermonkey memory reporting in Servo
[23:37:46] <jdm> <3
[23:37:48] <njn> I've got it basically working
[23:37:59] <njn> but I'm going to have to land patches in four separate repos before I can declare victory
[23:38:30] <njn> - an API improvement in SpiderMonkey
[23:38:30] <njn> - backport that to mozjs
[23:38:30] <njn> - expose it via rust-mozjs
[23:38:30] <njn> - use it in Servo
[23:38:32] <njn> sound reasonable?
[23:38:34] <njn> :)
[23:39:09] <jdm> yep, just about state of the art!
[23:39:26] <njn> who needs monolithic repos
[23:40:27] <jdm> in that spirit: https://github.com/servo/rust-errno
[23:42:21] <njn> when the only package manager you have is Cargo, every modularization problem looks like a need for a separate repo?
[23:42:26] <njn> or something like that
[23:43:02] <zofrex> I've gotten myself all tied up in knots :(
[23:43:31] <pcwalton> well, this is fun
[23:43:34] *** Joins: till (till@moz-kfa.g42.119.82.IP)
[23:43:52] <pcwalton> AFAICT Skia's "BitmapShader" is completely broken w/r/t clipping, or at least it doesn't behave like any other graphics API I've used (including OpenGL texturing)
[23:45:04] <larsberg> Reminder: meeting in 15 minutes! Add agenda items or be faced with the prospect of listening to me talk for the whole thing... https://etherpad.mozilla.org/Servo-meeting-weekly
[23:45:04] <pcwalton> in particular, if you have a clip rect CR and a destination rect DR, and they intersect, FillRect with the BitmapShader attached will just blindly redirect to FillRect(CR intersect DR)
[23:45:17] <pcwalton> which is, of course, not correct w/r/t the texture coordinates...
[23:45:26] *** Joins: nefzaoui_ (nefzaoui@moz-tlr.v86.230.41.IP)
[23:45:47] <pcwalton> Azure seems to assume it behaves as you would expect
[23:45:59] <pcwalton> end result is that Azure+Skia is unusable for CSS backgrounds at the moment :\
[23:46:16] <pcwalton> at least, performantly
[23:46:25] *** chmanchester is now known as chmanchester|afk
[23:46:34] <gw> pcwalton: was does FF do then I wonder?
[23:46:41] <pcwalton> gw: they still use Cairo on Linux
[23:46:43] <pcwalton> not Skia
[23:46:45] <gw> ahhh
[23:46:46] <pcwalton> for content, anyway
[23:46:53] <pcwalton> they mention that a lot of tests are still failing with Azure+Skia
[23:46:56] <pcwalton> guess this is one of the reasons why ;)
[23:47:10] *** Quits: nefzaoui (nefzaoui@moz-07c.693.228.41.IP) (Ping timeout: 121 seconds)
[23:47:10] * pcwalton ponders how best to fix this
[23:47:58] *** Quits: till (till@moz-kfa.g42.119.82.IP) (Ping timeout: 121 seconds)
[23:48:37] <pcwalton> I wonder what Chromium does
[23:48:45] *** Joins: mib_2gqnkb (Mibbit@moz-hu6.nja.252.72.IP)
[23:49:13] <gw> pcwalton: try updating skia?
[23:49:31] <pcwalton> yeah, that might help -- it's only 6 months old though, and Chromium has to have had a solution for this all along
[23:52:28] *** Quits: laleh (Adium@moz-h8636h.mobile.uci.edu) (Quit: Leaving.)
[23:52:58] <pcwalton> aha, found it I think
[23:52:59] <pcwalton>     // We also need to translate it such that the origin of the pattern is the // origin of the destination rect, which is what WebKit expects. Skia uses // the coordinate system origin as the base for the pattern. If WebKit wants // a shifted image, it will shift it from there using the shaderTransform.
[23:53:50] <pcwalton> yes Skia, because if I draw a textured rectangle I clearly want the texture to start at the origin of the canvas
[23:53:51] * pcwalton grumbles
[23:54:26] <gw> o.O
[23:57:53] *** Joins: laleh (Adium@moz-h8636h.mobile.uci.edu)
[23:58:18] *** Quits: {V} (V@moz-7uj5t9.on.nl) (Connection closed)
[23:59:02] <zofrex> I can't quite get my head around how NOT to cause copies of everything...
[23:59:03] *** Joins: {V} (V@moz-7uj5t9.on.nl)
[23:59:04] <zofrex> https://gist.github.com/zofrex/90dbdda172120752cbe2 still errors
[23:59:22] <zofrex> jdm: am I on the right path or am I barking up the wrong tree?
[23:59:55] *** Joins: ghservo (ghservo@moz-l7j.5u0.30.192.IP)
[23:59:55] -ghservo- [13servo] 15bors-servo pushed 5 new commits to 06auto: 02http://git.io/vq8o4
[23:59:55] -ghservo- 13servo/06auto 147480d70 15Patrick Walton: layout: Modify styles for replaced content as appropriate during...
[23:59:55] -ghservo- 13servo/06auto 1450e58d0 15Patrick Walton: gfx: Round out when snapping rects to the nearest pixel....
[23:59:55] -ghservo- 13servo/06auto 144c09d7f 15Patrick Walton: layout: Make the output of flow tree dumping easier to read when there...
[23:59:55] *** Parts: ghservo (ghservo@moz-l7j.5u0.30.192.IP) ()
[23:59:59] *** Joins: ghservo (ghservo@moz-ij9.5u0.30.192.IP)
[23:59:59] -ghservo- [13servo] 15bors-servo closed pull request #6559: Implement Node.baseURI (06master...06IS1824-implement-Node.baseURI) 02http://git.io/vqGYk
[23:59:59] *** Parts: ghservo (ghservo@moz-ij9.5u0.30.192.IP) ()
