[00:01:10] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[00:02:51] <WindowsBunny> nope, it crashed
[00:03:04] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:04:13] <WindowsBunny> I believe it is.... running out of memory
[00:04:22] <WindowsBunny> when it attempts to resolve all the symbols in cargo
[00:05:38] <acrichto> hmm...
[00:06:03] <acrichto> yes my run is currently at 900MB and counting
[00:06:09] <acrichto> I suspect it will crash soon
[00:09:35] *** Joins: rovar (rovar@moz-6iq.47m.88.38.IP)
[00:11:21] <WindowsBunny> acrichto: http://i.imgur.com/fjZtARN.png
[00:11:22] <WindowsBunny> :P
[00:11:34] <acrichto> guh
[00:12:44] <brson> burntsushi has submitted a patch to the shootout that makes rust the *fastest* program on regex-dna
[00:13:20] <WindowsBunny> yay!
[00:13:26] <burntsushi> brson: i'm going to write a blog post on it, because that benchmark deserves some analysis.
[00:13:44] <burntsushi> brson: the short story is that some classes of regexes are now blazing fast---but not quite all of them yet. :-)
[00:14:34] *** chmanchester|mtg is now known as chmanchester|afk
[00:16:12] <Gankro> wycats: acrichto: https://gist.github.com/Gankro/cd51082df125083e39a4
[00:17:28] <acrichto> WindowsBunny: what's the tool you use to print system calls?
[00:17:35] <WindowsBunny> acrichto: I used procmon
[00:17:59] <acrichto> ah that's it
[00:18:13] <WindowsBunny> acrichto: I profiled it with VS
[00:19:09] <WindowsBunny> acrichto: Okay um.... GetFileAttributesExW takes up... 54% of the time?
[00:19:17] <acrichto> yeah
[00:19:21] <acrichto> do you have a backtrace?
[00:19:26] <acrichto> e.g. what's calling that from libgit2?
[00:19:28] <acrichto> (or is it cargo?)
[00:19:44] <WindowsBunny> Well, I can't get backtraces using VS because dwarf and VS, ya know
[00:19:54] <WindowsBunny> buuuut, I could totally grab cv2pdb
[00:19:57] <WindowsBunny> and hack something up >:D
[00:20:37] <acrichto> :(
[00:20:57] <eddyb> it was fun last time :P
[00:24:38] *** Joins: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP)
[00:26:43] *** Quits: graydon (Adium@moz-jbr.dr1.172.69.IP) (Quit: Leaving.)
[00:32:14] <WindowsBunny> okay, I abused cv2pdb to generate pdb info from dwarf
[00:33:10] <WindowsBunny> loading lots of symbols....
[00:33:23] <WindowsBunny> analyzing report
[00:34:15] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[00:34:15] *** Joins: mib_rht5bb (Mibbit@moz-hu6.nja.252.72.IP)
[00:34:53] <brson> I've started the 1.2 relnotes
[00:34:55] <WindowsBunny> acrichto: Feel free to review https://github.com/rust-lang/time/pull/103 while I wait for this profile analysis
[00:35:10] <acrichto> WindowsBunny: will do soon! (at the work week so not a whole lot of time)
[00:35:14] *** Quits: seppo0010 (Adium@moz-7naoss.hfc.comcastbusiness.net) (Quit: Leaving.)
[00:35:19] <WindowsBunny> oh, work week, sounds fun
[00:35:22] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:38:19] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[00:38:26] <WindowsBunny> acrichto: this is the best I could get http://i.imgur.com/A8UuyZz.png
[00:39:25] <WindowsBunny> acrichto: Another useful point http://i.imgur.com/jowlO9p.png
[00:39:51] <acrichto> gr I have a feeling this may just not work
[00:39:53] <WindowsBunny> so, what is opt_zero_Ctl
[00:40:11] <WindowsBunny> Because I am clueless
[00:40:43] <acrichto> I think this is a case where I need to write a git2 program
[00:40:46] <WindowsBunny> I guess cv2pdb isn't that helpful :(
[00:40:47] <acrichto> linking directly against libgit2
[00:40:55] <acrichto> I have a feeling it's just reading the statuses is bad
[00:41:00] <acrichto> but it would be good to get profiles to confirm
[00:41:10] <acrichto> WindowsBunny: can you open an issue on this? (just to get something in my inbox)
[00:41:16] <WindowsBunny> sure
[00:41:34] <acrichto> thanks!
[00:43:36] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Quit: leaving)
[00:43:37] *** Quits: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP) (Client exited)
[00:50:25] *** Joins: adu (ajr@moz-99ult9.md.comcast.net)
[00:50:30] <WindowsBunny> cc acrichto https://github.com/rust-lang/cargo/issues/1745
[00:57:44] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:06:32] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:08:45] <eddyb> jroesch: 700 calls to to ty::* functions
[01:09:08] <eddyb> jroesch: not so sure about making all of them methods
[01:11:58] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[01:16:55] *** Quits: GBGamer (npm@moz-92sbjt.wa.comcast.net) (Client exited)
[01:24:10] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[01:27:17] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[01:28:45] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[01:28:54] <eddyb> acrichto: whoa, what did you do?
[01:29:06] <eddyb> acrichto: just ran make check-stage0-rustc_driver and it worked
[01:29:50] <eddyb> (I used to do it just to get it built and then I'd run it manually)
[01:30:11] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[01:34:33] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[01:39:11] *** Quits: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP) (Ping timeout: 121 seconds)
[01:42:12] *** Quits: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (Ping timeout: 121 seconds)
[01:43:20] *** Quits: phynx (chatzilla@moz-kt27la.dsl.scarlet.be) (Ping timeout: 121 seconds)
[01:44:42] <eddyb> acrichto: I'm not seeing any changes that could cause this :|
[01:45:52] *** Quits: cdidd (cdidd@moz-5p9bfm.broadband.corbina.ru) (Ping timeout: 121 seconds)
[01:45:54] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[01:47:52] *** Joins: yjv_ (yjv@moz-ll38tk.pa.comcast.net)
[01:52:09] <Elaine> huon: "Single Instruction, Multiple Awesome" (http://www.russbishop.net/swift-2-simd)
[01:52:16] <Elaine> huon: you should TOTALLY steal that shamelessly
[01:54:34] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[01:54:49] *** Quits: adu (ajr@moz-99ult9.md.comcast.net) (Client exited)
[02:04:28] *** Joins: seppo0010 (Adium@moz-2gip8s.ca.comcast.net)
[02:04:57] *** Joins: adu (ajr@moz-99ult9.md.comcast.net)
[02:07:11] *** Quits: yjv_ (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[02:10:32] *** Joins: vishnui (Mibbit@moz-hs3fcf.smb.rcn.net)
[02:11:52] *** Quits: vishnui (Mibbit@moz-hs3fcf.smb.rcn.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:14:25] <ChrisMorgan> r? https://github.com/rust-lang/bitflags/pull/13
[02:15:22] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:22:45] *** Quits: seppo0010 (Adium@moz-2gip8s.ca.comcast.net) (Quit: Leaving.)
[02:23:30] <eddyb> what on earth happened to cmr's avatar?
[02:25:49] <aatch> eddyb, it's from a webcomic that I lost an entire afternoon to.
[02:25:59] <eddyb> don't tell me then
[02:26:59] *** Quits: mib_rht5bb (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:30:45] <Mutabah> Better than this one - https://github.com/erikarn (a FreeBSD/wifi wiz dev I know)
[02:31:15] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[02:31:32] <aatch> I know that webcomic too
[02:35:12] *** Quits: adu (ajr@moz-99ult9.md.comcast.net) (Client exited)
[02:35:17] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[02:37:21] <Elaine> aatch: Indeed, I also lost an afternoon to it.
[02:37:24] <Elaine> Excellent, much worth.
[02:39:03] <Elaine> <- cmr
[02:39:57] *** Quits: zz_kimundi (kimundi@moz-aokeeu.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:41:38] *** Joins: zz_kimundi (kimundi@moz-3idv6e.dip0.t-ipconnect.de)
[02:41:40] *** zz_kimundi is now known as kimundi
[02:41:41] <Mutabah> Where would be the easiest place to look for changes/feature differences between 1.0 and 1.1?
[02:42:02] <Mutabah> Or will there be a changelist posted with the 1.1 announcement?
[02:45:19] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:45:49] <bluss> Mutabah: https://github.com/rust-lang/rust/blob/master/RELEASES.md
[02:46:05] <Mutabah> Oh! Well, that's nice
[02:56:52] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[02:57:12] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:57:22] *** Joins: Brody (Mibbit@moz-n42.qui.108.24.IP)
[02:58:04] *** Quits: comex (comex@moz-f48.n7p.17.50.IP) (Quit: WeeChat 0.4.3)
[02:58:12] *** Joins: comex (comex@moz-0m1t01.compute-1.amazonaws.com)
[02:58:20] <WindowsBunny> eddyb: It's from the webcomic goblins
[02:59:41] <Brody> Hi, all. For rust-lang/rust, do I need to create an issue for a minor documentation issue in src/doc? Or can I simple create a pull request?
[03:00:54] <bluss> Brody: if you have a fix, a PR is enough
[03:03:11] <Brody> I have a fix. I'll do a PR.
[03:03:38] <bluss> great
[03:06:59] <sfackler> aturon: ping
[03:07:51] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:07:51] *** ChanServ sets mode: +ao erickt erickt
[03:10:40] *** Joins: meteredsection (meteredsect@moz-k1pkr3.wa.comcast.net)
[03:13:47] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[03:14:26] <bstrie> huon: making sure that you've seen http://www.russbishop.net/swift-2-simd
[03:16:25] *** Joins: semarie (semarie@moz-6gbpjo.bpv6.bg1u.41d0.2001.IP)
[03:27:31] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[03:30:29] <frewsxcv> does anyone know if arielb1 hangs out in here ever?
[03:31:01] *** Joins: cdidd (cdidd@moz-62jip7.broadband.corbina.ru)
[03:32:40] <sfackler> frewsxcv: I believe so
[03:38:00] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:39:55] *** Quits: jyyou (jyyou@moz-nhbjfr.bo6r.4bjo.8900.2400.IP) (Quit: WeeChat 1.2)
[03:40:21] *** Joins: jyyou (jyyou@moz-nhbjfr.bo6r.4bjo.8900.2400.IP)
[03:40:27] *** Joins: phynx (chatzilla@moz-3quf8t.dsl.scarlet.be)
[03:41:29] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[03:59:24] *** Joins: mib_pbtxtb (Mibbit@moz-hu6.nja.252.72.IP)
[04:02:25] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:07:38] *** Joins: Feyn (aram@moz-5vj.68e.115.42.IP)
[04:13:16] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[04:13:35] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[04:17:39] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[04:33:36] *** Joins: shoa (Mibbit@moz-j9a.ns7.133.129.IP)
[04:34:43] *** Quits: shoa (Mibbit@moz-j9a.ns7.133.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:38:33] *** Joins: adu (ajr@moz-99ult9.md.comcast.net)
[04:38:44] *** Quits: adu (ajr@moz-99ult9.md.comcast.net) (Client exited)
[04:41:07] *** Joins: graydon (Adium@moz-jbr.dr1.172.69.IP)
[04:45:30] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:54:51] *** Quits: mib_pbtxtb (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:00:06] *** Quits: techzapper (techiewicki@moz-er3.jjd.88.202.IP) (Ping timeout: 121 seconds)
[05:00:57] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[05:03:13] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:04:29] <sfackler> bikeshed: NoopFoobar or NopFoobar?
[05:09:28] <Mutabah> Difficult choice
[05:09:38] <Mutabah> I would probably go with 'Nop'
[05:09:51] <Mutabah> Or maybe NoOp
[05:16:06] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:19:32] <sfackler> nop is the title of the wikipedia page and noop redirects to that, so i'm calling nop the winner
[05:23:01] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:27:01] *** Quits: O01eg (o01eg@moz-7g2dei.lfrq.3egh.2698.2a02.IP) (Client exited)
[05:30:41] <Manishearth> Havvy: I think the general policy is "out of tree unless it's really awesome, and if people like it, move it in tree"
[05:31:52] <Havvy> Ah, okay.
[05:33:01] <Havvy> Do you think it'd be a nice lint for Rust-clippy in any case?
[05:33:53] *** Joins: bdero1 (bran@moz-lbs.91h.47.73.IP)
[05:33:56] *** Quits: bdero (bran@moz-0e2lk5.sns9.e6pb.0197.2601.IP) (Quit: Leaving.)
[05:35:40] <eddyb> Gankro: wait what, variance was fixed?
[05:36:12] <huon> bstrie: I had, but thanks anyway
[05:36:14] <huon> Elaine: heh
[05:36:19] <huon> Elaine: only downside is it doesn't have the same acronym :P
[05:36:42] <Manishearth> Havvy: yes
[05:37:07] <eddyb> playbot: let v: &Vec<&'static str> = &vec!["foo"]; let s = String::new(); let w = &vec![&s[..]]; let _: [&Vec<&str>; 2] = [v, w];
[05:37:09] -playbot- ()
[05:37:12] <eddyb> whoa whoa whoa
[05:37:33] <eddyb> does this mean Ty<'a> -> Ty<'b> is actually possible now?
[05:37:43] <Gankro> eddyb: ?
[05:37:54] <eddyb> Gankro: Vec's invariance was a PITA for a long time
[05:38:09] <Gankro> eddyb: Works right now, iirc
[05:38:15] <eddyb> well, I just tested it
[05:38:35] <eddyb> and AFAIK the main reason for which Ty<'tcx> has been invariant over 'tcx from the moment 'tcx became a thing, was a Vec<T>'s invariance over T
[05:39:09] <Gankro> eddyb: Does Ty have interior mutability?
[05:39:18] <Gankro> (or T?)
[05:39:30] <eddyb> Gankro: it didn't back then
[05:39:47] <Gankro> Then yeah Ty should be variant
[05:40:18] <eddyb> now it does (since a couple weeks ago or something), but it's only some flags (i.e. 'tcx isn't inside something with interior mutability)
[05:40:44] <Gankro> That... should be fine then
[05:40:53] <eddyb> yeah, I didn't actually test it
[05:41:00] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:41:19] <Gankro> eddyb: I assume this is in response to my section on variance in turpl?
[05:41:30] <eddyb> I'm reading the Vec example
[05:41:35] <Gankro> Oh derp yeah
[05:42:03] *** Quits: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP) (Connection closed)
[05:52:53] <sfackler> Gankro: why does Vec::extend_desugared do ptr::write(self.get_unchecked_mut(i), e); self.set_len(len + 1) instead of self.push(e)?
[05:53:10] <Gankro> sfackler: llvm optimization voodoo
[05:53:18] <sfackler> c.c
[05:53:32] <Gankro> sfackler: https://github.com/rust-lang/rust/pull/22681
[05:54:37] <Gankro> sfackler: We really just want specialization or something here
[05:54:53] <Gankro> Or some kind of llvm loop idiom
[05:55:03] *** Joins: pcwalton (pcwalton@moz-omn.omd.251.216.IP)
[05:55:03] *** ChanServ sets mode: +o pcwalton
[05:55:05] <sfackler> missed another overflow case
[05:55:29] <Gankro> This code is high churn due to optimizations constantly breaking :(
[05:57:11] <sfackler> derp, bors is already testing
[05:57:13] <sfackler> oh well
[05:57:31] <sfackler> probably worth an audit for this kind of thing
[05:57:59] *** Joins: James_ (quassel@moz-g7un1m.range86-163.btcentralplus.com)
[05:58:02] <Gankro> sfackler: Yeah I forgot to even think about overflow here :/
[05:58:36] <sfackler> I left the self.set_len(len + 1) around since I don't believe it can actually result in any unsafety
[05:58:44] <sfackler> plus probably can't actually overflow
[05:59:04] <Gankro> Might be worth leaving a comment to the affect of "has to OOM first"
[06:00:28] *** Joins: Ericson2314 (user@moz-5muv45.m9e4.oi28.0306.2602.IP)
[06:00:30] <sfackler> done
[06:01:53] <sfackler> man the queue's really slowed down post 1.0
[06:03:26] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[06:04:04] <Gankro> sfackler: Also WW
[06:04:45] <Gankro> But yeah. More process, less churn, less rush.
[06:07:04] <sfackler> Gankro: btw, do you know if either of these impls are intended to work? http://is.gd/TCnxCi
[06:07:22] <sfackler> not sure if it's a coherence bug or working as intended
[06:07:29] <Gankro> sfackler: Oh yeah sorry, I saw that earlier but was in a meeting
[06:08:14] <Gankro> I'll confess that A) I'm exhausted B) high on cough medecine and C) never really understood the full coherence rules
[06:08:27] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[06:08:48] <sfackler> an excellent combination
[06:09:18] <benh> hi gankro turpl is pretty cool
[06:10:14] <Gankro> sfackler: I wouldn't expect this to work... Maybe in Box's crate you could provide this...
[06:10:18] <Gankro> benh: Thanks!
[06:10:28] *** Quits: bdero1 (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[06:10:38] <sfackler> alas
[06:10:47] <sfackler> I guess I could make MySpecialInto but that seems silly
[06:11:01] <sfackler> if all it's going to do is avoid a Box::new(..) call
[06:11:06] <Gankro> aturon is def the Into guru though
[06:13:48] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:16:55] *** Quits: bvinc (brain@moz-ake53i.rcsntx.sbcglobal.net) (Ping timeout: 121 seconds)
[06:17:14] *** Joins: bvinc (brain@moz-ake53i.rcsntx.sbcglobal.net)
[06:18:37] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Ping timeout: 121 seconds)
[06:19:13] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[06:24:34] <ChrisMorgan> acrichto: could we have a new bitflags release (0.2.2) now?
[06:26:30] <aturon> sfackler: Gankro: sadly, those are ruled out by the "orphan" rules part of coherence; see http://smallcultfollowing.com/babysteps/blog/2015/01/14/little-orphan-impls/
[06:27:05] <sfackler> oh well
[06:27:43] <sfackler> too bad we can't abstract over traits in impls
[06:29:11] <reem> I would like that as well
[06:29:25] <Gankro> aturon: Does your specialization proposal unlock this?
[06:29:31] <reem> would make some trait objects issues a little better if you could abstract over them
[06:29:42] <Gankro> Hmm no probably not. orphan is orthoganol
[06:32:08] <aturon> hm, actually, looking a bit closer only the first example is ruled out by coherence; the second is a legit overlap with the blanket From<T> for From
[06:32:11] <aturon> err, for T
[06:32:31] <aturon> ack -- sorry, i meant only the first example is ruled out by the *orphan* rules
[06:33:29] <aturon> so, re: Gankro, i think specialization would allow the second one to go through,
[06:33:30] <sfackler> how is the second an overlap? Box<Foo> doesn't implement Foo, so the impl From<T> for T shouldn't apply, right?
[06:34:10] <sfackler> uuugh, is anyone else totally unable to download crates with the cargo that comes with 1.0?
[06:34:50] *** Quits: pcwalton (pcwalton@moz-omn.omd.251.216.IP) (Client exited)
[06:35:09] *** Joins: waffles (wafflespean@moz-ebd.f6h.136.123.IP)
[06:35:47] <aturon> sfackler: i'm not sure precisely which `where` clauses/negative reasoning the overlap check is allowed to do
[06:36:05] <aturon> it does seem that, since Foo is defined locally to the crate, negative reasoning should be ok without #[fundamental]
[06:36:29] <sfackler> my maybe wrong assumption would be that the conflicting impl could only be defined in this crate, right?
[06:37:02] <aturon> well, so you're right that this impl only conflicts with the one in core if Box<Foo>: Foo
[06:37:11] <aturon> which is a crate-local consideration
[06:38:38] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:40:13] <aturon> sfackler: https://github.com/rust-lang/rust/blob/master/src/librustc/middle/traits/coherence.rs#L29-L46
[06:40:50] *** Joins: mgottschlag (quassel@moz-27iuo2.hsi6.kabel-badenwuerttemberg.de)
[06:41:03] <aturon> sfackler: more specifically, https://github.com/rust-lang/rust/blob/master/src/librustc/middle/traits/coherence.rs#L82-L88
[06:42:37] <acrichto> ChrisMorgan: done
[06:42:41] <ChrisMorgan> Thanks!
[06:42:48] <eddyb> aturon: hi :D
[06:43:41] *** Quits: rustbot (havvy@moz-epv20b.wa.comcast.net) (Ping timeout: 121 seconds)
[06:43:43] *** Quits: Havvy (Havvy@moz-epv20b.wa.comcast.net) (Ping timeout: 121 seconds)
[06:43:46] <ChrisMorgan> acrichto: I’m curious: why 0.3.0 rather than 0.2.2?
[06:44:03] <acrichto> ChrisMorgan: unfortunately this macro is generating an API so any modifications to it are basically themselves a breaking change
[06:44:06] *** Joins: Havvy (Havvy@moz-epv20b.wa.comcast.net)
[06:44:09] <acrichto> e.g. someone could have impl'd FromIterator manually beofre
[06:44:11] <ChrisMorgan> Oh, of course.
[06:44:13] <acrichto> but now it'll be disallowed
[06:44:30] <ChrisMorgan> README.md still says 0.2 rather than 0.3, too.
[06:44:57] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:45:01] <acrichto> good point
[06:45:25] *** Quits: Havvy (Havvy@moz-epv20b.wa.comcast.net) (Quit: Leaving)
[06:46:46] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[06:47:27] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:47:52] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Connection closed)
[06:48:09] *** Joins: rustbot (havvy@moz-epv20b.wa.comcast.net)
[06:49:18] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[06:52:00] *** Quits: James_ (quassel@moz-g7un1m.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[07:00:43] <jroesch> Gankro: so I was correct about what I said during dinner
[07:00:57] <jroesch> BuiltinBounds is the last place we use EnumSet
[07:02:04] *** Joins: hugoduncan (user@moz-885.jmo.24.70.IP)
[07:04:34] <jroesch> Gankro: it seems feasible that we could probably deal with just using a HashSet
[07:04:57] <jroesch> I don't know if it buys us anything but a slight memory saving from my quick look around
[07:05:07] *** Quits: hugod (user@moz-885.jmo.24.70.IP) (Ping timeout: 121 seconds)
[07:06:01] <jroesch> and BitSet looks like it appears in a couple of places
[07:20:04] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[07:22:10] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[07:23:02] *** Quits: graydon (Adium@moz-jbr.dr1.172.69.IP) (Quit: Leaving.)
[07:30:49] *** Joins: imperio (Mibbit@moz-58agkq.rain.fr)
[07:34:09] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[07:35:12] *** Joins: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP)
[07:43:21] *** Quits: mgottschlag (quassel@moz-27iuo2.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:43:27] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:49:48] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[07:56:03] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[08:02:10] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[08:02:43] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[08:04:02] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:05:21] <WindowsBunny> acrichto: you still around?
[08:05:41] <WindowsBunny> acrichto: what would cause the env var DEP_SSH2_ROOT to not be set while trying to build libgit2-sys ?
[08:06:06] <WindowsBunny> Because a .unwrap() is hitting that when I try to build it in order to build cargo
[08:16:54] *** Joins: WindowsBunny1 (Peter@moz-vlal7g.east.verizon.net)
[08:18:43] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[08:20:47] <ChrisMorgan> acrichto: on the whole #[cfg]-on-variants-breaks-a-friendly-Debug-impl thing, do you think checking self.contains($value) rather than self.contains($Flag) would be acceptable? This would make #[cfg] possible, though `bitflags! { flags X: u8 { #[cfg(a)] const A = 0x1, #[cfg(a)] const AB = A.bits | 0x2 } }` would still not work (because of the A.bits).
[08:22:44] *** WindowsBunny1 is now known as WindowsBunny
[08:24:18] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:24:27] *** Quits: bgamari (bgamari@moz-m173ho.hsi8.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[08:27:35] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[08:34:23] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Quit: leaving)
[09:07:14] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[09:09:11] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[09:10:35] *** Quits: GolDDranks (drasa@moz-5ib.gud.69.80.IP) (Quit: leaving)
[09:11:31] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[09:15:58] *** Joins: ncarrillo (textual@moz-739a1t.cable.rcn.com)
[09:16:38] <WindowsBunny> acrichto: DEP_ flags should be passed from dependencies to dependendees right?
[09:18:52] <WindowsBunny> well, I did a dump of env variables, and the build script doesn't have any like that
[09:19:28] <WindowsBunny> I really hope its not msys2 borking something
[09:20:43] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[09:21:24] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[09:24:19] *** Joins: mgottschlag (quassel@moz-a9meuu.qiv1.bbcb.1398.2a00.IP)
[09:29:51] *** Quits: mgottschlag (quassel@moz-a9meuu.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[09:33:09] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[09:39:32] <bluss> acrichto: https://github.com/rust-lang/rust/pull/26192 kind of went in with stabilizations & deprecations under the radar of everyone
[09:39:33] *** Joins: vmx (vmx@moz-ijfnlo.dip0.t-ipconnect.de)
[09:39:35] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[09:39:49] <bluss> acrichto: so I don't think it's a good idea to do it that way
[09:41:02] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[09:41:53] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[09:44:06] *** Joins: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP)
[09:44:56] *** Quits: ncarrillo (textual@moz-739a1t.cable.rcn.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:45:11] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[09:45:57] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[09:56:01] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[09:58:39] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[09:59:43] *** Quits: Feyn (aram@moz-5vj.68e.115.42.IP) (Quit: Leaving)
[10:00:33] *** Quits: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:04:18] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:04:56] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[10:07:11] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[10:07:39] *** Quits: Brody (Mibbit@moz-n42.qui.108.24.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:19:11] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[10:32:23] *** Joins: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP)
[10:35:07] *** Joins: ncarrillo (textual@moz-739a1t.cable.rcn.com)
[10:39:58] *** Joins: eibwen (eibwen@moz-rpqcu7.dip0.t-ipconnect.de)
[10:42:46] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[10:43:55] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[10:45:46] *** Quits: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:50:56] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[10:53:33] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[10:54:55] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[10:55:02] *** Tuba is now known as Tobba
[10:56:56] <Manishearth> Hey, anyone know which compilers use http://www.opensource.apple.com/source/libcppabi/libcppabi-14/ ?
[11:00:25] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[11:09:08] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[11:29:09] *** Joins: mgottschlag (quassel@moz-a9meuu.qiv1.bbcb.1398.2a00.IP)
[11:31:17] *** Quits: ncarrillo (textual@moz-739a1t.cable.rcn.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:33:10] *** Joins: ytain (ytain@moz-oj7n49.dsl.teksavvy.com)
[11:34:47] *** Quits: samnmax (samnmax@moz-1vk.aq9.27.72.IP) (Quit: WeeChat 0.3.7)
[11:36:33] *** kimundi is now known as zz_kimundi
[11:39:13] *** Joins: Sho (sho@moz-to6p42.cust.telecolumbus.net)
[11:48:15] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[11:51:19] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[11:55:11] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[12:03:58] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:05:17] *** Joins: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP)
[12:06:01] *** zz_kimundi is now known as kimundi
[12:09:44] <Quxxy> Is there a type in the compiler from which I can get access to all information about a type?
[12:09:56] <Quxxy> For context, I'm trying to generate FFI bindings from a crate.  I've done type analysis
[12:10:34] <Quxxy> I want a way to defer processing a type until later; if I'm in the middle of generating the FFI type for a function, I don't want to have to *also* do structs at the same time
[12:11:18] <Quxxy> I'm currently eyeing ast::NodeId, but I'm not sure that'll work; I can't immediately see any way to get back to the AST nodes
[12:12:31] *** Quits: waffles (wafflespean@moz-ebd.f6h.136.123.IP) (Ping timeout: 121 seconds)
[12:15:33] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[12:20:25] <Manishearth> Quxxy: TyS?
[12:20:41] <Manishearth> middle::ty is your friend
[12:20:48] <Manishearth> there's a function that converts node ids to tys to
[12:20:56] <Manishearth> *too
[12:21:01] <Manishearth> expr_ty and pat_ty use it
[12:22:33] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[12:27:58] *** Joins: waffles (wafflespean@moz-ebd.f6h.136.123.IP)
[12:31:08] *** Joins: sprocket (Mibbit@moz-hu6.nja.252.72.IP)
[12:37:50] <Manishearth> eddyb: around?
[12:41:03] *** Joins: aepsil0n (eduard@moz-gtoi2p.hsi8.kabel-badenwuerttemberg.de)
[12:51:53] *** Joins: bdero (bran@moz-nd2f6b.dyn.mit.edu)
[12:51:58] *** Joins: ptalbot (ptalbot@moz-95ujk4.loria.fr)
[12:52:19] *** Quits: bdero (bran@moz-nd2f6b.dyn.mit.edu) (Connection closed)
[12:52:39] *** Joins: pcwalton (pcwalton@moz-omn.omd.251.216.IP)
[12:52:40] *** ChanServ sets mode: +o pcwalton
[12:53:14] *** Quits: pcwalton (pcwalton@moz-omn.omd.251.216.IP) (Client exited)
[12:53:21] *** Joins: bdero (bran@moz-e4f4ei.mit.edu)
[12:58:35] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[12:59:35] *** Quits: hugoduncan (user@moz-885.jmo.24.70.IP) (Ping timeout: 121 seconds)
[13:02:08] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[13:03:16] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[13:05:09] <Manishearth> imperio: can you try squashing your commits before merge?
[13:05:14] <Manishearth> thanks :)
[13:06:08] <imperio> Manishearth: there are one commit for each error (like I always did)
[13:06:13] <imperio> *there is
[13:06:30] <imperio> so I don't see why squashing ? ^^
[13:06:53] <imperio> After I'll have fix errors you gave me, yes, I'll (this evening however, not before)
[13:06:54] <Manishearth> imperio: no, squashing the fixes
[13:06:59] <Manishearth> yeah the rest is fine
[13:07:06] <imperio> cool !
[13:07:09] <Manishearth> :)\
[13:07:15] <imperio> well then, I'll onc eI'm back home
[13:07:18] <Manishearth> also, ball's in your court now
[13:07:19] <Manishearth> np
[13:07:39] <imperio> ball's in my court ?
[13:07:43] <imperio> how's that ?
[13:07:55] <imperio> (I get what this means, but not why you said it ^^)
[13:08:16] <imperio> (it's like you're giving me the lord ring and said go to mordor, doesn't make sense for me haha)
[13:10:36] *** Quits: sprocket (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:13:09] <Manishearth> imperio: it means that I'm done reviewing
[13:13:28] <imperio> Manishearth: great, thanks then !
[13:13:33] <Manishearth> it's your turn to fix the issues, and then punt the ball back to my court for a final review :p
[13:13:58] <imperio> You can see the "final" code now, I'll rebase it this evening
[13:14:19] <imperio> btw, is it true that rustdoc would be deeply changed ?
[13:14:42] <imperio> will
[13:14:46] <imperio> not would
[13:16:09] *** Quits: mgottschlag (quassel@moz-a9meuu.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[13:18:47] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:19:39] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[13:21:42] *** Quits: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[13:21:47] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[13:22:25] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[13:23:48] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[13:25:25] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[13:25:51] <Manishearth> no idea
[13:26:19] *** Joins: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP)
[13:26:52] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[13:28:03] <imperio> If that's true, I really have to finish my update on rustdoc quickly
[13:28:47] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[13:33:23] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[13:33:44] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[13:39:51] *** Joins: mgottschlag (quassel@moz-a9meuu.qiv1.bbcb.1398.2a00.IP)
[13:43:19] *** Quits: ptalbot (ptalbot@moz-95ujk4.loria.fr) (Ping timeout: 121 seconds)
[13:43:58] *** Quits: mgottschlag (quassel@moz-a9meuu.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[13:59:35] *** kimundi is now known as zz_kimundi
[14:11:02] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[14:12:46] *** Quits: vmx (vmx@moz-ijfnlo.dip0.t-ipconnect.de) (Quit: Leaving)
[14:19:19] *** Quits: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP) (Ping timeout: 121 seconds)
[14:23:38] *** Quits: aepsil0n (eduard@moz-gtoi2p.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[14:28:57] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[14:35:12] *** Joins: onix (Mibbit@moz-hu6.nja.252.72.IP)
[14:36:24] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Quit: leaving)
[14:38:14] *** Quits: onix (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:41:19] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[14:42:11] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[14:42:13] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[14:43:34] *** Joins: Barca (Mibbit@moz-j9a.ns7.133.129.IP)
[14:49:29] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[14:49:56] *** zz_kimundi is now known as kimundi
[14:50:00] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[14:51:57] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:53:51] <bluss> steveklabnik: I've been r+-ing a lot of trivial docs fixes, is that ok?
[14:54:20] <bluss> "a lot of" is a handful or so, no crazy amount
[14:57:13] <acrichto> WindowsBunny: hm that is odd... you don't have an override in play for ssh2, do you? Other than that it should be passed to the libgit2-sys build script
[14:57:41] <acrichto> ChrisMorgan: perhaps, but some clever #[cfg] magic may be able to get it to work as well
[14:58:18] <acrichto> bluss: yeah that's definitely not the standard way to deal with features, we just needed a one-time thing that got a lot of the easy stuff out of the way, I was super conservative in stabilizing anything and it's only what should basically obviously be stabilized
[14:59:03] <ChrisMorgan> acrichto: one idea I had was defining them in secret module without their attributes, but a #[cfg]ed constant might be so because its value wouldn’t compile, so that idea is no go.
[15:00:07] <ChrisMorgan> Hmm… I might have an idea exploiting the shadowing behaviour of glob imports. Let me try it out.
[15:00:31] <bluss> acrichto: it's a minor thing really, I think the PR title should just have indicated deprecations and stabilizations were going on. Noticed most didn't see it (and I didn't) so it felt like it snuck in. Just so that everyone who wants to be can be part of the process
[15:01:40] <ChrisMorgan> Aww, they do conflict. I couldn’t remember whether that had changed at some point.
[15:02:09] <acrichto> bluss: true, I was originally hesitant to add any but was convinced otherwise
[15:02:17] <ChrisMorgan> So no go there. I really don’t see any solution short of cfg attributes on expressions.
[15:02:37] *** Quits: imperio (Mibbit@moz-58agkq.rain.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[15:02:48] <ChrisMorgan> … and even that wouldn’t be good because it’d be needing to hard-code cfg, but I imagine other attributes can produce the same effect?
[15:05:09] *** Quits: bdero (bran@moz-e4f4ei.mit.edu) (Connection closed)
[15:05:47] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[15:05:51] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[15:06:07] *** Joins: bdero (bran@moz-91hi89.mit.edu)
[15:06:21] <Barca> Hey, I was wondering if someone could help me with this contribution. My code compiles but causes a segfault when applied. I've been trying to use valgrind to determine the cause, but haven't had much luck.  The link includes the valgrind output as well as the actual change to compiler, and my test case http://miburl.com/LLtsyt 
[15:06:32] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[15:06:58] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:08:34] *** Quits: bdero (bran@moz-91hi89.mit.edu) (Connection closed)
[15:09:34] *** Joins: bdero (bran@moz-91hi89.mit.edu)
[15:10:12] <bluss> acrichto: I'm happy with the deprecations
[15:10:55] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[15:10:55] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[15:12:06] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Connection closed)
[15:13:09] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:15:34] *** Quits: bdero (bran@moz-91hi89.mit.edu) (Connection closed)
[15:16:36] *** Joins: bdero (bran@moz-91hi89.mit.edu)
[15:19:25] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:19:44] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:30:26] *** Joins: James_ (quassel@moz-g7un1m.range86-163.btcentralplus.com)
[15:31:25] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[15:32:38] <nagisa> topic needs changing into “1.1 today~”
[15:32:53] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[15:33:21] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[15:33:32] *** Joins: TheNewGuy (TheNewGuy@moz-c1u.s16.199.128.IP)
[15:33:51] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[15:34:08] *** Joins: O01eg (o01eg@moz-dra.t92.194.109.IP)
[15:34:38] <TheNewGuy> Do you know what your DOMAIN IS WORTH??? Vist >>> www.VALBOT.com <<< for a FREE DOMAIN VALUATION! or Google >>> VALBOT.com <<<
[15:35:26] *** Quits: TheNewGuy (TheNewGuy@moz-c1u.s16.199.128.IP) (Quit: )
[15:36:23] *** Joins: ptalbot (ptalbot@moz-3g2.kr0.163.37.IP)
[15:40:41] *** Quits: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[15:40:50] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:43:56] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[15:44:06] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:45:06] *** Joins: MatrixBridge (matrixirc@moz-905bpb.openmarket.com)
[15:48:45] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:49:45] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:50:26] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[15:51:53] *** Joins: laumann (thomas@moz-poa.3kq.109.2.IP)
[15:54:20] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:58:40] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[16:02:02] *** Quits: Barca (Mibbit@moz-j9a.ns7.133.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:03:39] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[16:05:31] *** Quits: laumann (thomas@moz-poa.3kq.109.2.IP) (Ping timeout: 121 seconds)
[16:08:04] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[16:15:43] <steveklabnik> bluss: sure thing :)
[16:15:59] *** steveklabnik changes topic to '1.1 today! | https://botbot.me/mozilla/rust-internals |  https://buildbot.rust-lang.org/homu/queue/rust'
[16:18:18] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (A TLS packet with unexpected length was received.)
[16:19:09] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:20:34] *** Joins: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP)
[16:20:42] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[16:23:03] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[16:25:24] *** Quits: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (Ping timeout: 121 seconds)
[16:25:37] *** Joins: pcwalton (pcwalton@moz-omn.omd.251.216.IP)
[16:25:38] *** ChanServ sets mode: +o pcwalton
[16:25:58] *** Quits: pcwalton (pcwalton@moz-omn.omd.251.216.IP) (Client exited)
[16:31:24] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[16:32:57] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:32:57] *** ChanServ sets mode: +ao erickt erickt
[16:33:39] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[16:33:39] *** ChanServ sets mode: +o brson
[16:36:02] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[16:38:55] *** Joins: mgottschlag (quassel@moz-27iuo2.hsi6.kabel-badenwuerttemberg.de)
[16:40:48] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[16:44:17] *** Joins: goyox86 (textual@moz-9ct.il3.161.192.IP)
[16:45:51] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:46:11] *** Joins: vmx (vmx@moz-7h2raj.pools.vodafone-ip.de)
[16:46:30] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[16:46:32] *** Quits: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 38.0.5/20150525141253])
[16:47:21] <brson> i'm syncing the 1.1 docs now. usually takes 10-20 min
[16:47:39] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[16:49:08] *** Quits: waffles (wafflespean@moz-ebd.f6h.136.123.IP) (Ping timeout: 121 seconds)
[16:49:46] <brson> looks like we have a 1.2 beta today as well
[16:49:54] *** Quits: ptalbot (ptalbot@moz-3g2.kr0.163.37.IP) (Ping timeout: 121 seconds)
[16:50:28] <imperio> ?
[16:54:12] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[16:54:31] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[16:54:50] <Gankro> jroesch: continuing from last night, the collections we want to axe are BitVec, BitSet, VecMap, and EnumSet.
[16:54:59] *** Joins: dcb (dcb@moz-4hh.6p3.217.74.IP)
[16:56:55] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: Textual IRC Client: www.textualapp.com)
[16:57:16] <nagisa> brson: don’t we always branch a new beta with a stable release?
[16:57:46] *** Joins: pcwalton (pcwalton@moz-mmq.ebl.81.192.IP)
[16:57:46] *** ChanServ sets mode: +o pcwalton
[16:57:47] * nagisa pretends we already have a long history of making releases.
[16:59:57] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[17:00:07] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:01:40] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[17:01:40] *** ChanServ sets mode: +o brson
[17:01:54] *** Joins: dgrunwald (Daniel@moz-gc8uti.hsi4.kabel-badenwuerttemberg.de)
[17:05:42] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[17:06:30] <steveklabnik> we do
[17:06:40] <steveklabnik> it's a matter of actually buliding the artifacts after said branch though
[17:06:41] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[17:06:41] *** ChanServ sets mode: +o brson
[17:08:29] <brson> 1.1 docs are uploading
[17:08:45] <steveklabnik> <3 :confetti_ball:
[17:18:13] <pcwalton> nmatsakis: the most basic problem is that all Invokes kick you off FastISel
[17:18:30] <pcwalton> nmatsakis: so, unsurprisingly, we're pretty much never on it
[17:21:45] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[17:23:51] *** Quits: goyox86 (textual@moz-9ct.il3.161.192.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:25:49] <eddyb> Manishearth: pong
[17:27:44] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[17:27:57] <jroesch> Gankro: I'll ask Niko is there is any good reason not to axe it when we break, and look into the other ones
[17:27:59] *** Joins: graydon (Adium@moz-mmq.ebl.81.192.IP)
[17:28:27] *** Joins: waffles (wafflespean@moz-ebd.f6h.136.123.IP)
[17:28:41] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[17:35:38] <eddyb> Gankro: EnumSet is used in the compiler, not sure about the others
[17:35:46] <eddyb> well, I know VecMap is unused
[17:36:11] *** Quits: graydon (Adium@moz-mmq.ebl.81.192.IP) (Quit: Leaving.)
[17:36:24] <eddyb> I need to hurry with my rewrite of librustc because it's going to rot instantly :P
[17:37:18] <Gankro> eddyb: EnumSet is used in exactly one place
[17:37:32] <eddyb> yupp. the deal with that is we kinda want it gone
[17:37:52] <eddyb> Sync and Send are no longer special in terms of whether they are implemented or not
[17:38:06] *** Joins: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP)
[17:38:16] <eddyb> but trait objects are PrincipalTrait+Kinds where Kinds can only include Copy, Sized, Sync and Send
[17:38:29] <eddyb> Gankro: it should "just" be a vector of traits
[17:38:44] <eddyb> Gankro: that would allow nicer things, like TraitA+TraitB
[17:39:02] <eddyb> and some of the handling won't be ridiculously contortioned
[17:39:55] <eddyb> Gankro: hah, src/librustc_data_structures/bitvec.rs:pub struct BitVector {
[17:40:06] <eddyb> so we have two BitVec types
[17:40:20] <Gankro> lmao
[17:41:55] *** Quits: mgottschlag (quassel@moz-27iuo2.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[17:43:43] <jroesch> eddyb: I was gonna confirm with everyone that we can delete EnumSet and if so just do it
[17:43:53] <jroesch> and file a PR
[17:44:50] <eddyb> jroesch: the change is not exactly trivial
[17:44:56] *** Quits: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP) (Connection closed)
[17:45:22] *** Joins: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP)
[17:46:38] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[17:47:07] *** Quits: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP) (Connection closed)
[17:49:43] *** Joins: capella-s3 (capella-s3@moz-5d3.71l.181.208.IP)
[17:50:30] *** Joins: aleyan (Mibbit@moz-glnf9r.broadband18.iol.cz)
[17:51:07] *** Joins: capella-s32 (capella-s3@moz-ilu.bfn.243.173.IP)
[17:53:44] *** Quits: capella-s3 (capella-s3@moz-5d3.71l.181.208.IP) (Ping timeout: 121 seconds)
[17:53:55] *** Quits: pcwalton (pcwalton@moz-mmq.ebl.81.192.IP) (Client exited)
[17:55:16] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (A TLS packet with unexpected length was received.)
[17:57:26] <eddyb> jroesch: I mean, feel free to do it, but pay attention to any free functions in middle::ty and calls to middle::ty functions, they're all going to get nuked
[17:57:42] <eddyb> nmatsakis: ^^ you too
[18:00:02] *** Quits: vmx (vmx@moz-7h2raj.pools.vodafone-ip.de) (Quit: Leaving)
[18:00:05] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[18:01:05] *** Quits: meteredsection (meteredsect@moz-k1pkr3.wa.comcast.net) (Ping timeout: 121 seconds)
[18:06:30] <brson> 1.1 is out, like clockwork. nice work folks
[18:07:27] *** Joins: Barca (barca@moz-j9a.ns7.133.129.IP)
[18:08:37] <Elaine> brson: nice work yourself, mr release automation
[18:09:23] <WindowsBunny> acrichto: I have all my cargo overrides disabled
[18:09:55] <bluss> Nice, it's out. Travis stable builds fetch.. 1.1.0
[18:10:28] <WindowsBunny> acrichto: Here's all the environment variables that the libgit2 build.rs is able to find https://gist.github.com/c9c9e62808c505a5548e
[18:10:32] <WindowsBunny> It's really confusing me
[18:11:31] <Elaine> Whoever has access to the Rust blog, MUSL should not be in uppercase. steveklabnik?
[18:11:39] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[18:11:39] <Elaine> aturon? ^
[18:15:16] *** Joins: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP)
[18:15:28] *** Quits: capella-s32 (capella-s3@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[18:17:56] *** Quits: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP) (Connection closed)
[18:18:02] *** Joins: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP)
[18:21:15] <steveklabnik> Elaine: i will fix it
[18:21:22] <steveklabnik> you can submit a PRT at rust-lang/rust-www
[18:21:24] <steveklabnik> err
[18:21:29] <steveklabnik> rust-lang/blog.rust-lang.org
[18:21:30] <steveklabnik> or whatever
[18:21:31] <steveklabnik> but i'll do it
[18:21:45] <Elaine> Oh I can do that, I didn't realize there was a repo
[18:21:50] <steveklabnik> yeah!
[18:21:59] <steveklabnik> make one so you get credit and i'll merge :)
[18:24:46] <Elaine> https://github.com/rust-lang/blog.rust-lang.org/pull/65
[18:25:43] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[18:26:18] *** Joins: yjv_ (yjv@moz-j0cdis.fios.verizon.net)
[18:28:32] <mcpherrin> somebody should write RUST on the musl homepage in retribution
[18:28:53] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[18:28:53] *** ChanServ sets mode: +o brson
[18:29:25] *** Joins: samnmax (samnmax@moz-1vk.aq9.27.72.IP)
[18:29:44] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Ping timeout: 121 seconds)
[18:30:03] *** Joins: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP)
[18:30:03] *** ChanServ sets mode: +o pcwalton
[18:30:30] <kmc> i was so pleased the first time I saw "RUST" written inexplicably in uppercase
[18:30:38] <kmc> it's a sign that you've made it :P
[18:30:51] *** Joins: swgillespie (swgillespie@moz-flu.3un.220.167.IP)
[18:31:07] <steveklabnik> hehe
[18:31:40] *** Quits: samnmax (samnmax@moz-1vk.aq9.27.72.IP) (Quit: WeeChat 0.4.2)
[18:33:31] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[18:33:49] <acrichto> WindowsBunny: ping
[18:34:09] <acrichto> WindowsBunny: also yeah that's... weird...
[18:35:39] *** Joins: ncarrillo (textual@moz-hr3gaj.subnet.rcn.com)
[18:37:50] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[18:38:59] <acrichto> WindowsBunny: another thing to take a peek at is target/debug/build/libssh2-*/output
[18:39:03] <acrichto> that should have the vars if they're there
[18:39:23] <WindowsBunny> acrichto: okay, I'll take a look
[18:39:49] <acrichto> WindowsBunny: so it's looking like we're going to want XP support ASAP for the firefox devs
[18:39:49] <WindowsBunny> acrichto: https://gist.github.com/139b1393603785a8bbbe
[18:39:57] <acrichto> so I'm wondering if you've done much work on this yet?
[18:40:03] <WindowsBunny> acrichto: I already have a list of all functions and their OS support
[18:40:16] <acrichto> WindowsBunny: cool, for now I think we're just gonna make all of them panic
[18:40:19] <acrichto> if they're not defined on XP
[18:40:42] <WindowsBunny> acrichto: Want me to write up a PR?
[18:41:04] <acrichto> WindowsBunny: also, perhaps libssh2-sys needs to be updated? older versions may not print all the right stuff
[18:41:23] <acrichto> WindowsBunny: sure! I think we're also going to need 32-bit msvc support as well, so I'll probably lump it into that PR
[18:41:28] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[18:41:29] <acrichto> which is probably going to be a somewhat large build system change
[18:41:49] <WindowsBunny>  "libssh2-sys 0.1.25 (registry+https://github.com/rust-lang/crates.io-index)",
[18:41:58] <WindowsBunny> Is that not the newest version?
[18:42:09] <acrichto> I wonder if I just haven't published
[18:42:14] <acrichto> it should be printing out *something* more than that
[18:43:21] <acrichto> WindowsBunny: e.g. this should all be printed: https://github.com/alexcrichton/ssh2-rs/blob/master/libssh2-sys/build.rs#L139-L148
[18:43:31] <WindowsBunny> yes, it should
[18:43:39] <acrichto> do ou have pkg-config installed locally?
[18:43:42] <acrichto> er libssh2*
[18:43:50] <acrichto> b/c it may be getting detected by pkg-config
[18:45:18] <WindowsBunny> ohhhhh
[18:45:20] <WindowsBunny> that could be it
[18:45:29] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[18:45:43] <WindowsBunny> I definitely have libssh2 installed
[18:47:38] *** Quits: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP) (Client exited)
[18:48:27] <WindowsBunny> of course curl depends on libssh2
[18:48:31] <WindowsBunny> and cmake depends on curl
[18:48:49] *** Joins: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP)
[18:48:49] *** ChanServ sets mode: +o pcwalton
[18:49:00] <WindowsBunny> acrichto: Did I mention I hate msys2?
[18:49:05] <acrichto> :(
[18:49:57] <WindowsBunny> nope, build still failed
[18:50:39] <WindowsBunny> buuut
[18:50:43] <WindowsBunny> the output file has the include now
[18:50:50] <WindowsBunny> lemme print the env vars to see what is going on
[18:51:13] <WindowsBunny> DEP_SSH2_INCLUDE is there...
[18:51:20] <WindowsBunny> so is it unwrapping something else that doesn't exist?
[18:52:06] <WindowsBunny> oh wait silly me, that was just me breaking the build script
[18:52:09] <WindowsBunny> now it can't find cmake :D
[18:52:22] <Aaron> http://is.gd/Fj6M1P << is this a known bug where the error message doesn't show the macro expansion source/trace or should I report it?
[18:52:48] <WindowsBunny> So if I want cmake I have to install it externally, I can't do it through msys2's package manager
[18:53:10] <WindowsBunny> acrichto: Do you think you could write a note in the cargo readme for windows devs?
[18:53:18] <WindowsBunny> or the git2 readme
[18:55:43] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[18:56:20] <acrichto> WindowsBunny: how so?
[18:56:26] <brson> i posted burntsushi's regex benchmarks to hn's new page
[18:56:41] <acrichto> WindowsBunny: about cmake or libssh2 being installed?
[18:56:50] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[18:56:57] <WindowsBunny> acrichto: Don't install msys2's libssh2 (which also means you can't use msys2's cmake)
[18:57:11] <WindowsBunny> so you have to install an external cmake and put it in your PATH
[18:58:33] <acrichto> WindowsBunny: hm, I'd prefer to fix libssh2 actually
[18:58:43] <acrichto> I think that's a bug that libssh2 doesn't work if you use pkg-config
[18:58:48] <acrichto> and you should definitely be able to use the msys2 cmake
[18:58:50] <acrichto> (I think I do?)
[18:59:27] *** Quits: yjv_ (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[18:59:53] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[19:00:32] *** Quits: Barca (barca@moz-j9a.ns7.133.129.IP) (Quit: )
[19:00:40] *** Joins: Barca (Mibbit@moz-j9a.ns7.133.129.IP)
[19:02:19] *** Quits: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP) (Connection closed)
[19:02:39] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[19:02:50] *** Joins: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP)
[19:04:35] *** Joins: larhat1 (Adium@moz-vlo5br.cable.virginm.net)
[19:07:09] <sfackler> I have definitely found weirdness with using pkg-config in msys
[19:07:29] <sfackler> I think it has to do with pkg-config's idea of built in search paths being different from rustc's
[19:07:56] <WindowsBunny> acrichto: Anyway, it works now that I've gotten rid of msys2's libssh
[19:08:02] <sfackler> but e.g. openssl-sys fails to link if you naively let the buildscript use pkg-config with a pacman-installed openssl
[19:08:41] <acrichto> WindowsBunny: ok cool, I'll open an issue against libssh2
[19:10:18] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[19:16:37] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[19:16:37] *** ChanServ sets mode: +o brson
[19:19:01] <Levans> brson: I saw you started a run of crater on my PR yesterday ( gh26242 ), do you have an estimation of how long it'll take to finish ?
[19:19:01] <[o__o]> Make resolve more perseverant with indeterminate imports.: https://github.com/rust-lang/rust/pull/26242
[19:19:53] <brson> Levans: I'll check on it now
[19:24:22] <brson> Levans: https://gist.github.com/brson/0ca24b0465c16294655a
[19:24:37] <brson> the resolve PR breaks lots of code
[19:24:52] <brson> nrc: ^ fyi
[19:25:19] *** Quits: aleyan (Mibbit@moz-glnf9r.broadband18.iol.cz) (Quit: http://www.mibbit.com ajax IRC Client)
[19:25:27] <brson> on the bright side, crater saves the day!
[19:26:07] <Eridius> the very first bullet point in https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-110-june-2015 has broken markdown
[19:26:12] <WindowsBunny> acrichto: Yep, your filter statuses PR thing fixed the performance regression :D
[19:26:15] <WindowsBunny> cargo test is now fast again
[19:26:26] <nrc> thanks brson!
[19:26:28] <brson> Eridius: aw, sadface
[19:26:44] <brson> i'll fix it on master
[19:26:59] <Eridius> :)
[19:27:05] <Elaine> brson: hm, one thing about crater I didn't expect is that we can use the regressions it finds to extend the test suite.
[19:27:37] <brson> Elaine: yeah, totally. I fully intend to create an independent test suite that pulls in lots and lots of production code
[19:27:38] <Eridius> brson: second bullet in the Libraries group also has a broken link :/
[19:28:06] <brson> Elaine: of course they can be minimized and pulled in-tree too
[19:28:15] <Levans> Woaw, I have a hard time understanding why it breaks like this. I'll need to dig a lot into this, it should not stop accepting previous inputs...
[19:28:36] <brson> Eridius: so unprofessional!
[19:28:49] <acrichto> WindowsBunny: nice!
[19:29:07] <acrichto> WindowsBunny: lemme know if anything still feels sluggish though, there's definitely still room for improvement
[19:29:50] <Levans> brson: what are "root" regressions ?
[19:30:07] <WindowsBunny> acrichto: Well right now it takes less than a second for cargo test to start doing things
[19:30:25] <brson> Levans: root regressions are crates that themselves contain failures. non-root regressions have dependencies that failed
[19:31:00] <acrichto> WindowsBunny: cool, anything bigger than 500ms is probably a bug in Cargo, but < 1s is likely bearable
[19:31:09] <munksgaard> Is there an easy way to generate all the rustdocs of rust? I'd like to have the docs for syntax, rustc, rustc_borrowck and so on generated and installed in addition to the regular docs
[19:31:20] <Levans> brson: well, in the report you linked, 4 of the "root" regressions are in fact a failure coming from the crate rand... ^^"
[19:32:00] <brson> Levans: that's good! maybe it'll be easy to track down
[19:32:09] <Elaine> munksgaard: ./configure --enable-compiler-docs
[19:32:37] <Levans> brson: yet, looking on it
[19:32:47] <munksgaard> Elaine: Perfect! Thanks.
[19:33:32] *** Quits: Barca (Mibbit@moz-j9a.ns7.133.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:33:51] *** Quits: untitaker (untitaker@moz-ije4g8.highway.telekom.at) (Ping timeout: 121 seconds)
[19:35:42] *** chmanchester|afk is now known as chmanchester
[19:35:48] *** Joins: untitaker (untitaker@moz-usjn8m.highway.telekom.at)
[19:37:46] *** Quits: larhat1 (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[19:40:13] <eddyb> playbot: let _: &mut str = &mut String::new();
[19:40:15] -playbot- <anon>:9:27: 9:45 error: cannot borrow immutable borrowed content as mutable
[19:40:15] -playbot- <anon>:9         let _: &mut str = &mut String::new();
[19:40:15] -playbot- output truncated; full output at: http://bit.ly/1SO1XKk
[19:40:18] <eddyb> meh
[19:40:30] <eddyb> &mut str is broken *somewhere* btw, it's treated as &str
[19:41:06] <eddyb> not sure what that causes, maybe it's not invariant? but it doesn't matter since str is POD-ish
[19:42:55] *** Quits: swgillespie (swgillespie@moz-flu.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:43:43] *** Joins: amyers (amyers@moz-kgc.rsa.26.96.IP)
[19:44:03] *** Joins: arielb1 (Ariel@moz-r31.vhc.65.109.IP)
[19:47:48] *** Joins: durka42 (durka42@moz-ied0jm.wireless-pennnet.upenn.edu)
[19:48:17] *** chmanchester is now known as chmanchester|afk
[19:51:07] *** Joins: Barca (Mibbit@moz-j9a.ns7.133.129.IP)
[19:51:50] <durka42> hey guys, question from #rust. is there any way a macro can match a lifetime parameter, like 'a ?
[19:52:02] *** Joins: yjv_ (yjv@moz-j0cdis.fios.verizon.net)
[19:52:03] <Elaine> no
[19:52:10] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[19:52:49] *** Quits: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[19:53:30] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (A TLS packet with unexpected length was received.)
[19:54:26] <Barca> nrc Idk if your super busy right now with the work week thing, but if you aren't I would really appreciate some help with an issue.  Unfortunately, I'm getting a segfault, and haven't been able to make any progress with my code.  last time we talked, you suggested dumping the llvm ir, but unfortunately the segfault prevents me from doing so.
[19:54:58] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Ping timeout: 121 seconds)
[19:55:07] <Barca> I've run valgrind, but haven't been able to make sense of the output https://gist.github.com/barca/f3e08761e762bfbcc0f6
[19:55:08] <nrc> Barca: oh, the compiler is segfaulting? Not the generated code?
[19:55:40] <Barca> I believe so, since I can't use gdb or anything of the sort
[19:57:20] <nrc> the way to use gdb is to run make -n, that gives you what would be run, find the first thing, then copy and paste as an argument to gdb
[19:57:33] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[19:58:19] *** Parts: durka42 (durka42@moz-ied0jm.wireless-pennnet.upenn.edu) ()
[20:00:30] *** Joins: blaenk (blaenkdenum@moz-ggnkpd.res.rr.com)
[20:00:32] *** Joins: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP)
[20:00:32] *** ChanServ sets mode: +o pcwalton
[20:01:26] *** Joins: capella-s32 (capella-s3@moz-mmq.ebl.81.192.IP)
[20:02:13] *** Quits: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP) (Ping timeout: 121 seconds)
[20:03:09] *** Quits: bdero (bran@moz-91hi89.mit.edu) (Ping timeout: 121 seconds)
[20:03:54] *** Quits: semarie (semarie@moz-6gbpjo.bpv6.bg1u.41d0.2001.IP) (Ping timeout: 121 seconds)
[20:04:53] *** Quits: capella-s32 (capella-s3@moz-mmq.ebl.81.192.IP) (Connection closed)
[20:05:14] *** Joins: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP)
[20:06:02] *** Quits: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU) (Quit: WeeChat 1.1.1)
[20:11:18] *** Quits: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP) (Connection closed)
[20:12:13] <Barca> I don't think Im doing this correctly, when I run make -n on rust, I just get a whole bunch of file paths
[20:12:21] *** Joins: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP)
[20:12:26] <Barca> mostly in this format: MATCHES="x86_64-apple-darwin/stage0/lib/rustlib/x86_64-apple-darwin/lib/librustc-d8ace771.dylib"; if [ -n "$MATCHES" ] ; then rm $MATCHES ; fi
[20:13:11] <nrc> if you touched any files since the last build then it will not give you the right answers
[20:13:19] *** Quits: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[20:13:21] <nrc> Barca: could you link me to your code please?
[20:13:29] <Barca> https://gist.github.com/barca/f3e08761e762bfbcc0f6
[20:14:05] <nrc> Barca: thanks. I'm in a tutorial atm and need to help out, I'll have a look and get back to you
[20:16:21] <Barca> no problem, thank you so much for taking the time to help me
[20:17:02] *** Quits: eibwen (eibwen@moz-rpqcu7.dip0.t-ipconnect.de) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[20:18:24] <nrc> no problem at all :-)
[20:20:51] <Barca> also, im heading out to the gym for a bit, but I'll absolutely be back in an hour or so
[20:23:24] *** Joins: Jesin (Jesin@moz-c5lf9h.eecs.lehigh.edu)
[20:23:37] *** Joins: capella-s32 (capella-s3@moz-mmq.ebl.81.192.IP)
[20:23:41] *** Quits: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP) (Connection closed)
[20:23:42] *** Joins: swgillespie (swgillespie@moz-flu.3un.220.167.IP)
[20:26:10] *** Quits: Barca (Mibbit@moz-j9a.ns7.133.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:30:09] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (A TLS packet with unexpected length was received.)
[20:30:21] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[20:32:24] *** Joins: mjboa (mike@moz-u3t.ndf.182.50.IP)
[20:32:41] *** Joins: Barca (Mibbit@moz-j9a.ns7.133.129.IP)
[20:33:56] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[20:35:44] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[20:36:26] *** Quits: amyers (amyers@moz-kgc.rsa.26.96.IP) (Ping timeout: 121 seconds)
[20:36:51] *** Quits: yjv_ (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[20:37:30] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[20:39:16] *** Joins: yjv_ (yjv@moz-j0cdis.fios.verizon.net)
[20:41:20] *** Joins: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU)
[20:42:01] <seanmonstar> it'd be neat to have something like #[derive(Send, Sync)] that basically just does `fn _assert_t_is_send<T: Send>() { _assert_t_is_send::<T>(); }`
[20:42:12] <seanmonstar> or #[impls(Send)]
[20:42:33] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Ping timeout: 121 seconds)
[20:42:54] <Eridius> seanmonstar: you could write a macro
[20:43:11] <Eridius> I don't think `derive` is a good idea because that might confuse people into thinking that it somehow causes the type to be Sync- or Send-safe
[20:43:20] <Eridius> when what you're actually doing is asserting that you know it is
[20:43:38] <seanmonstar> yea, so something like impls(Send)
[20:44:00] <seanmonstar> its mostly to catch that you don't ever add a field or something that would accidentally remove Send/Sync
[20:44:22] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[20:44:25] <Eridius> ah true
[20:44:39] <Eridius> I guess the real issue with derive is it would imply that if you don't derive it, it's not Send/Sync
[20:44:45] <seanmonstar> yea
[20:45:14] <seanmonstar> the plus with derive is you can type less, #[derive(Clone, Debug, Send)]
[20:45:23] <Eridius> maybe make a macro called assert_impl!() that takes either the Send or Sync identifier and generates the assertions
[20:45:31] <Eridius> that way it's just one extra line
[20:45:33] <seanmonstar> but i always vote for better readability over typing less
[20:45:41] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[20:46:03] *** Quits: capella-s32 (capella-s3@moz-mmq.ebl.81.192.IP) (Connection closed)
[20:46:14] <blaenk> dat hyper refactor sean
[20:46:20] <blaenk> have everyone running around scrambling
[20:46:23] <seanmonstar> blaenk: did i blow up everything :D
[20:46:29] <blaenk> lol :>
[20:46:41] <seanmonstar> i've said before not to do hyper = '*'
[20:46:52] <seanmonstar> where's the scrambling? havent seen
[20:46:55] <blaenk> its iron and rust-websocket that are broken
[20:46:56] *** Joins: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP)
[20:46:57] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:46:58] <Eridius> `anything = "*"` should make `cargo` give you a ಠ_ಠ
[20:46:58] <blaenk> from what I've seen
[20:46:59] <blaenk> not me
[20:47:08] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[20:47:31] <seanmonstar> complaints are in #rust?
[20:47:39] <blaenk> ?
[20:47:41] <bluss> I was wondering, how long will crates support 1.0?
[20:48:10] <reem> mostly my fault
[20:48:11] <seanmonstar> blaenk: i meant, where do you see the people reporting this?
[20:48:12] <reem> for being slow
[20:48:12] <bluss> most crates will probably have something sneak in that makes it Rust 1.1. or latr
[20:48:19] <blaenk> seanmonstar: I was playing lol
[20:48:26] <seanmonstar> oh
[20:48:31] <seanmonstar> totally could have been serious :D
[20:48:31] <blaenk> hey but you won't be able to do something like this anymore will you?
[20:48:32] <blaenk> https://github.com/iron/iron/blob/master/src/iron.rs#L116
[20:48:41] <blaenk> cause the Server is parameterized now
[20:48:43] *** Joins: goyox86 (textual@moz-rvv.00r.255.109.IP)
[20:48:53] <blaenk> so you can't have an http server and an https server be the same 'type', or whatever
[20:48:59] <blaenk> e.g. https://gist.github.com/blaenk/c61a63b2c25b8247ba82
[20:49:24] <blaenk> ran into it while trying to fix iron
[20:49:35] <reem> I am just pinning iron to 0.5 as a quick fix
[20:49:37] <blaenk> not sure how to proceed so I'll just leave it to when reem can take a look
[20:49:40] <blaenk> yeah that'll be cool
[20:49:52] *** Quits: mjboa (mike@moz-u3t.ndf.182.50.IP) (Ping timeout: 121 seconds)
[20:49:53] <reem> but I do want to update soon
[20:50:21] <seanmonstar> blaenk: they are technically different types now, i guess
[20:50:22] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[20:50:25] <blaenk> yeah
[20:50:40] <blaenk> alright cool I'm not gonna worry about it, a pin would be sweeet reem, as soon as you can, if you think it's a good idea
[20:50:48] <reem> it will likely requiring changing iron’s API
[20:50:53] <blaenk> I'm gonna recommend same thing to rust-websocket
[20:50:53] <reem> require*
[20:51:05] <reem> latest iron should work again (0.1.19)
[20:51:10] <blaenk> awesome
[20:52:18] <seanmonstar> brekage sucks, but its for the better
[20:52:24] <blaenk> oh definitely
[20:52:45] <sfackler> bluss: I've been wondering that as well
[20:54:27] <blaenk> kind of a pain to be supporting different versions, wish there were better tools to do that, but idk what in particular
[20:54:36] <blaenk> between nightly, beta, and the different stable releases
[20:55:06] <sfackler> you can specify exact rust versions in travis
[20:55:21] <blaenk> yeah I know, I don't mean testing it
[20:55:28] <bluss> I just added 1.0.0 to the travis list, so it builds on 1.0, stable, beta, nightly, quite a list
[20:55:28] <blaenk> I mean like using the different features of the different releases
[20:55:38] <blaenk> like pre 1.1 we didn't have access to file modification time
[20:55:43] <blaenk> now we do
[20:55:48] <steveklabnik> :)
[20:56:09] <sfackler> I hope people generally stay up to date
[20:56:11] <blaenk> bluss: oh if you specify 1.0.0 it does all those automatically? that's cool
[20:56:17] <blaenk> yeah me too lol
[20:56:25] <seanmonstar> bluss: hyper will using associated constants and socket timeouts, so it'll soon be 1.3+
[20:56:26] <sfackler> it's a real bummer in Java-land how many libraries stick with 1.6 (or even 1.4!) compatibility
[20:56:35] <bluss> blaenk: nah that's not what I mean. I just added 1.0, the channel names I had from before
[20:56:46] <blaenk> ahh okay
[20:57:10] <blaenk> I love that a lot of packages, particularly alex', use appveyor to test on windows
[20:57:15] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[20:57:20] <blaenk> I love the overall attitude towards windows in the rust community
[20:57:27] <blaenk> even if I don't use rust there
[20:57:28] <seanmonstar> ive been meaning to add appveyor to hyper
[20:57:31] <seanmonstar> theres an issue
[20:57:58] <seanmonstar> (shameful as i am most often on a windows machine)
[20:58:40] <bluss> 1.3 sounds like far future
[20:58:55] <bluss> seanmonstar: hyper will remain stable though?
[20:59:09] <seanmonstar> what do you mean?
[20:59:36] <reem> it will build on stable
[20:59:43] <seanmonstar> latest hyper will always build on latest stable
[21:00:07] *** Joins: ConnorD__ (ConnorDoyle@moz-70n.7f4.118.12.IP)
[21:02:41] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[21:02:54] <imperio> acrichto: I've almost finished the generation to console code of the documentation. I'm about to think about creating something to allow adding new generation style. Any thought before I start maybe ?
[21:05:08] <imperio> lucky as I am, he'll be back once I'll have left haha
[21:05:49] <WindowsBunny> imperio: console code?
[21:06:07] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[21:06:42] <imperio> man console_codes
[21:06:56] <imperio> instead of having html code, you have console code
[21:07:11] <WindowsBunny> imperio: >man
[21:07:12] <imperio> (basically, it's just like having a code open in emacs)
[21:07:20] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[21:07:24] <imperio> hum ?
[21:07:30] <WindowsBunny> I use windows, man and emacs are foreign words to me :P
[21:07:42] <imperio> oh my god
[21:07:46] <imperio> a windows boy
[21:07:51] <imperio> haha
[21:08:02] <imperio> have you used git-bash ?
[21:08:03] *** Joins: skeuomorf (skeuomorf@moz-v34.cog.32.197.IP)
[21:08:37] <WindowsBunny> imperio: Yes, I am at least familiar with the world of git (and unfortunately msys/mingw)
[21:08:51] <imperio> no I really mean git-bash
[21:09:06] <WindowsBunny> Yes, I use the bash that comes with git to do git things
[21:09:11] <imperio> when you download git for windows, you should have a git-bash executable
[21:09:19] <imperio> well, it uses console codes
[21:09:52] <imperio> oh wait, I have a screenshot of what it gives on rustc --explain output (a very old one)
[21:09:57] <WindowsBunny> imperio: You mean ansi escape codes?
[21:10:03] <imperio> gh25033
[21:10:04] <[o__o]> Beginning of more beautiful rustc --explain: https://github.com/rust-lang/rust/pull/25033
[21:10:25] <imperio> WindowsBunny: is it the "good" name ? I never know... I call it either console code or ascii code
[21:10:46] <WindowsBunny> imperio: I go by wikipedia :P https://en.wikipedia.org/wiki/ANSI_escape_code
[21:11:03] <imperio> well, I'll keep my way of saying it
[21:11:09] <imperio> much more nice =D
[21:11:25] <seanmonstar> ah yea, that's ansi
[21:11:33] <imperio> well
[21:11:35] <imperio> ansi it is
[21:11:37] <nrc> Barca: ping?
[21:12:01] <WindowsBunny> imperio: Well, if you're going to have a program that prints out docs in ansi escape code format, can you at least make it work with the windows console API too? :D
[21:12:26] <imperio> I use the libansi
[21:12:28] <imperio> oh wait
[21:12:28] *** Quits: ConnorD__ (ConnorDoyle@moz-70n.7f4.118.12.IP) (A TLS packet with unexpected length was received.)
[21:12:32] <imperio> what's the name already
[21:12:41] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[21:12:41] <imperio> libterm !
[21:12:51] <imperio> (it's inside rustc :p)
[21:12:52] *** Joins: poorman (poorman@moz-vid7t6.res.rr.com)
[21:13:03] <imperio> so I guess it's compatible
[21:13:03] <WindowsBunny> imperio: oh, as long as you use libterm you should be fine
[21:13:18] <WindowsBunny> as long as you're using libterm to directly write to a console that is
[21:13:22] <imperio> I think I'll have to add some feature on it
[21:13:39] <imperio> or get a deeper look
[21:13:42] <WindowsBunny> imperio: If you want to add something to libterm tell me so I Can figure out the windows equivalent
[21:13:47] <imperio> I'm not sure how to use it on a File stream
[21:14:06] <imperio> it's not about the ansi code itself
[21:14:27] <imperio> For now, i only used it on stdout
[21:14:29] <WindowsBunny> imperio: window's console API only works directly to an actual console, doesn't work when piped or redirected
[21:14:48] <imperio> it's not
[21:14:54] <imperio> I'm writing the ansi code to files
[21:15:00] <imperio> then you can display them
[21:15:06] <imperio> cat powa !
[21:15:14] <WindowsBunny> yeah, that's not friendly to windows at all :P
[21:15:18] <imperio> or whatever the equivalent is on windows
[21:15:18] *** Joins: pcwalton (pcwalton@moz-ilu.bfn.243.173.IP)
[21:15:18] *** ChanServ sets mode: +o pcwalton
[21:15:32] <imperio> well, I don't develop on windows...
[21:15:53] <WindowsBunny> it would work in an msys console, since that translates ansi escape codes to the equivalent winapi console calls
[21:16:02] <pcwalton> we create a bunch of {i8*,i32} values
[21:16:03] <pcwalton> anyone know off the top of my head what those are?
[21:16:04] <pcwalton> they kick us off FastISel
[21:16:05] <WindowsBunny> but it would not work in cmd or powershell
[21:16:26] *** Quits: capella-s3 (capella-s3@moz-mmq.ebl.81.192.IP) (Ping timeout: 121 seconds)
[21:16:43] <eddyb> pcwalton: that would be a slice AFAIK
[21:16:50] <pcwalton> eddyb: ah, OK
[21:16:51] <eddyb> pcwalton: if on 32-bit, that is
[21:16:57] <pcwalton> we should stop storing and loading them as first-class aggregates
[21:17:01] *** Joins: mib_fbc5zs (Mibbit@moz-hu6.nja.252.72.IP)
[21:17:01] <pcwalton> they kick us off FastISel
[21:17:07] <eddyb> otherwise I'm not sure
[21:17:07] <pcwalton> we need to treat them as non-immediates
[21:17:17] *** Joins: capella-s3 (capella-s3@moz-5d3.71l.181.208.IP)
[21:17:20] <pcwalton> how easy would that be to change?
[21:17:25] <imperio> WindowsBunny: erf. I think I'll need your help then
[21:17:27] <eddyb> surely they don't fit in one pointer?
[21:17:41] <pcwalton> they don't, and that why they kick us off FastISel
[21:17:44] <eddyb> pcwalton: what's loading and storing them as FCA?
[21:17:48] <pcwalton> I dunno
[21:17:50] <pcwalton> we do it all over the place
[21:17:56] <pcwalton> based on my FastISel logging
[21:18:27] <eddyb> sounds like a bug, we shouldn't be doing that for anything non-immediate
[21:18:45] <eddyb> unless they get marked as immediate despite being larger than a pointer
[21:18:55] <eddyb> pcwalton: do you have an example function or type which contains these?
[21:19:15] <eddyb> (either way, it's a bug
[21:19:15] <pcwalton> eddyb: not sure, let me look closer
[21:19:33] <pcwalton> also, we generate a lot of icmp i1 whatever, true
[21:19:35] *** Quits: yjv_ (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[21:19:36] <pcwalton> which is useless
[21:19:42] <pcwalton> and also kicks us off FastISel
[21:19:50] <eddyb> didn't someone fix that recently? cc aatch doener
[21:19:50] <pcwalton> probably because clang never generates it
[21:19:54] <bluss> pcwalton: didn't we just merge a PR to pass fat pointers as immediates
[21:20:02] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[21:20:11] <pcwalton> bluss: I thought it passed them as two arguments?
[21:20:29] <bluss> oh that's right
[21:20:42] <eddyb> pcwalton: how old is that compiler?
[21:20:51] <pcwalton> eddyb: June 18
[21:21:06] <bluss> it's gh26411 by the way
[21:21:07] <[o__o]> Pass fat pointers in two immediate arguments: https://github.com/rust-lang/rust/pull/26411
[21:21:12] <eddyb> pcwalton: maybe https://github.com/rust-lang/rust/pull/26429
[21:22:18] <eddyb> (for the icmp i1 %x, true)
[21:22:56] <eddyb> it's also possible the discussion I've seen was hypothetical and the change is not part of an existing PR
[21:23:03] *** Quits: mib_fbc5zs (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:23:20] *** Quits: capella-s3 (capella-s3@moz-5d3.71l.181.208.IP) (Ping timeout: 121 seconds)
[21:23:47] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:23:47] *** ChanServ sets mode: +ao erickt erickt
[21:27:44] *** Joins: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com)
[21:32:46] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (A TLS packet with unexpected length was received.)
[21:34:22] *** Quits: ncarrillo (textual@moz-hr3gaj.subnet.rcn.com) (Ping timeout: 121 seconds)
[21:37:34] * pcwalton tries to hack in better i1 support to FastISel
[21:43:22] *** Joins: mib_ksnrdh (Mibbit@moz-hu6.nja.252.72.IP)
[21:44:15] *** Quits: mib_ksnrdh (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:48:00] <blaenk> awwww yeeee better i1 support
[21:48:07] <blaenk> thats what we got pcwalton for
[21:50:26] *** Joins: larhat1 (Adium@moz-vlo5br.cable.virginm.net)
[21:51:43] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[21:53:29] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[21:53:31] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[21:57:26] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (A TLS packet with unexpected length was received.)
[21:58:03] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[22:04:18] *** Quits: k1000 (k1000@moz-bodlln.ip-198-50-149.net) (A TLS packet with unexpected length was received.)
[22:06:23] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[22:06:33] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:06:36] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[22:10:18] *** Quits: oli_obk__ (Mibbit@moz-7bq.0sb.52.141.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:10:20] *** Quits: swgillespie (swgillespie@moz-flu.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:14:06] *** Quits: larhat1 (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[22:14:18] <huon> pcwalton: I think doener had found reasons to store slices etc. as aggregates, I can't remember the details
[22:14:25] <huon> (obviously being on fastisel would be nice...)
[22:14:48] *** Quits: Jesin (Jesin@moz-c5lf9h.eecs.lehigh.edu) (Quit: Leaving)
[22:22:06] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (A TLS packet with unexpected length was received.)
[22:24:18] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Quit: leaving)
[22:33:07] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:34:23] *** Joins: swgillespie (swgillespie@moz-flu.3un.220.167.IP)
[22:37:45] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Ping timeout: 121 seconds)
[22:40:23] *** Quits: dgrunwald (Daniel@moz-gc8uti.hsi4.kabel-badenwuerttemberg.de) (Connection closed)
[22:40:28] <bstrie> I need someone to explain https://play.rust-lang.org/?gist=7781d18c8549083909f5&version=stable
[22:40:57] <bstrie> I don't see how we could possibly remove the unary negation of unsigned integers when that check only occurs if the type is explicit
[22:43:47] <arielb1> bstrie: our checking is stupid
[22:44:09] <arielb1> it is in the middle of typeck instead of being a lint
[22:46:40] *** Joins: yjv_ (yjv@moz-j0cdis.fios.verizon.net)
[22:47:32] *** Quits: yjv_ (yjv@moz-j0cdis.fios.verizon.net) (Connection closed)
[22:49:58] *** Quits: yjv (yjv@moz-j0cdis.fios.verizon.net) (Ping timeout: 121 seconds)
[22:54:45] *** Quits: goyox86 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:56:44] *** Quits: waffles (wafflespean@moz-ebd.f6h.136.123.IP) (Quit: C'yall soon...)
[22:57:08] *** Quits: arielb1 (Ariel@moz-r31.vhc.65.109.IP) (Ping timeout: 121 seconds)
[23:03:35] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:14:01] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[23:14:07] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:14:43] <richo> is there not a thing for extracting the value of a cfg attr at compile time?
[23:15:13] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:15:42] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[23:15:44] *** Quits: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 38.0.5/20150525141253])
[23:16:32] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:17:21] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[23:18:54] <nrc> Barca: ping?
[23:19:03] <Barca> im here
[23:19:38] <nrc> hey, so I had a look at your code
[23:20:22] <nrc> I think the problem is that the pattern is &b"foo", but you're producing a b"foo"]
[23:21:05] <nrc> i.e., you need to wrap the ExprVec in an ExprAddr (or whatever we encode an &expr as)
[23:21:11] <nrc> does that sound right?
[23:22:04] <nrc> hmm, or not
[23:22:16] <nrc> it's *b"foo" isn't it?
[23:22:19] <Barca> yeah
[23:22:32] <Barca> sorry, was trying to figure out how to word that
[23:22:39] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[23:22:54] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:23:01] <nrc> the llvm assert certainly looks like it is a value when it expects a pointer or something
[23:23:04] <Barca> because it gets dereferenced, from an '& static [u8] to a [u8]
[23:23:06] <nrc> or vice versa
[23:23:30] <Barca> could it be a problem with the dummy spans?
[23:23:48] <nrc> no, there are no spans by then
[23:24:11] <nrc> I think it is because it is expecting a dereferenced fat pointer, but getting a value, maybe
[23:24:24] <Barca> do you know which line this is?
[23:25:45] <nrc> line where?
[23:26:06] <Barca> which line is expecting the pointer, 
[23:26:27] <nrc> it's not really expecting a pointer, as such
[23:26:44] *** Quits: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP) (Ping timeout: 121 seconds)
[23:26:53] <nrc> The point is that the code you generate has to have the type of the code you are replacing
[23:26:58] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[23:26:58] *** ChanServ sets mode: +ao erickt erickt
[23:27:52] <nrc> you want [u8], but *I think* you're making a [u8; n]
[23:28:16] <Barca> ok, I'll look into that
[23:28:57] *** Quits: James_ (quassel@moz-g7un1m.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[23:28:59] <Barca> even if its not, its a step forward, and if I just keep at it enough I'll get the answer.  Thanks again for all the help
[23:29:22] *** Joins: capella-s3 (capella-s3@moz-5d3.71l.181.208.IP)
[23:30:03] <nrc> The way to test it is to wrap the ExprVec in a ExprAddrOf in an ExprCast in an ExprUnary(UnDeref)
[23:30:24] *** Joins: brson (brson@moz-ilu.bfn.243.173.IP)
[23:30:24] *** ChanServ sets mode: +o brson
[23:30:25] <nrc> If that works, there might be a nicer way, but I can't think of one right now
[23:30:45] <eddyb> [..]?
[23:32:03] <Barca> haha, it kinda feels like russian nesting dolls, but getting it working is the first step to getting it nicely done
[23:34:09] <Barca> thank you again
[23:36:15] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:40:24] *** Quits: capella-s3 (capella-s3@moz-5d3.71l.181.208.IP) (Ping timeout: 121 seconds)
[23:40:44] *** Joins: waffles (wafflespean@moz-ecp.f6h.136.123.IP)
[23:42:09] *** Joins: mib_icquuk (Mibbit@moz-hu6.nja.252.72.IP)
[23:42:53] *** Quits: Twisol (Twisol@moz-3ha6bu.jonathan.com) (Quit: ZNC - http://znc.in)
[23:43:26] *** Quits: mib_icquuk (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:46:47] *** Quits: Barca (Mibbit@moz-j9a.ns7.133.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:51:37] *** Quits: waffles (wafflespean@moz-ecp.f6h.136.123.IP) (Quit: C'yall soon...)
[23:53:23] *** Joins: capella-s3 (capella-s3@moz-5d3.71l.181.208.IP)
[23:57:08] *** Joins: ConnorDoyle (ConnorDoyle@moz-70n.7f4.118.12.IP)
[23:59:41] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
