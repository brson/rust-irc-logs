[02:06:05] <cmr> n0v: whaty are you asking?
[02:06:15] <cmr> rustdoc_ng will not output markdown
[02:06:19] <cmr> It outputs json
[02:42:55] <cmr> Seldaek: http://octayn.net/benches/std.json.gz updated with statics and typedef source locations
[02:43:20] <cmr> The "expr" is the value of the static.
[02:43:32] <cmr> It's just a string. It will be empty for some of them, this is a rustc bug
[02:47:31] <n0v> cmr: I use rustdoc currently to generate docs for libstd, libextra and a project, it spits out markdown which my statically generated site already handles. 
[02:48:02] <n0v> That's why I asked. 
[02:48:12] <cmr> n0v: ah
[02:48:25] <cmr> It should be trivial to add a basic markdown frontend like rustdoc already has
[02:48:34] <n0v> Yeah.
[02:56:15] <Seldaek> cmr: cool
[02:56:27] <cmr> I've almost got external crate references nailed down
[02:56:42] <Seldaek> awesome
[02:57:07] <cmr> It's a bit hard because I've forgotten everything about type resolution since I wrote it ;p
[02:57:32] <Seldaek> heh, well good luck.. it's 5am here :/
[02:57:44] <cmr> you should probably consider sleeping
[02:57:49] <Seldaek> I am :p
[02:57:55] <cmr> :p
[05:16:04] *** Quits: n0v (n0v@moz-690FFF9D.org) (Ping timeout)
[05:18:37] *** Joins: n0v (n0v@moz-690FFF9D.org)
[06:29:38] <cmr> Seldaek: almost had external references nailed down, realized that the information I was getting wasn't actually useful.. gah!
[06:29:49] <cmr> For now I can at least separate external references from internal
[11:23:56] <Seldaek> cmr: alright too bad 
[11:33:20] <dbaupp> Seldaek: I guess you've noticed that spaces are being eaten?
[11:34:46] <Seldaek> dbaupp: yes but I'm not sure why
[11:34:52] <Seldaek> they already come like that in the json 
[11:35:09] <dbaupp> ah, strange.
[11:35:10] <Seldaek> maybe it's because of my changes to clean up the "*" 
[11:35:14] <Seldaek> but I don't think so
[11:35:32] <Seldaek> it's not all docblocks mind you
[11:37:14] <dbaupp> yea, I even saw some where they started with no spaces, and then halfway through, they reappeared.
[14:17:18] *** Quits: dbaupp (Thunderbir@moz-712A1135.lns20.syd6.internode.on.net) (Ping timeout)
[15:04:56] <Seldaek> cmr: I still can't find a source in some (all?) typedefs
[15:58:20] <cmr> Seldaek: the property outright isn't there?
[16:03:07] <Seldaek> indeed
[16:03:16] <cmr> that is extremely strange
[16:03:24] * cmr checks that he updated the json
[16:03:29] <Seldaek> like in the RevIterator typedef
[16:03:34] <Seldaek> it's updated, I found structs
[16:04:16] <cmr> that is so strange, why is it missing
[16:04:30] <cmr> oh I forgot to add it in the json
[16:04:33] <cmr> not strange
[16:04:33] <Seldaek> :p
[16:04:41] <cmr> my excuse: it was late
[16:04:48] <Seldaek> also check what dbaupp said before when you have a sec
[16:04:59] <cmr> about spaces? yeah, I noticed too
[16:05:57] <Seldaek> could be caused by my patch, not sure that was included in the tests I wrote
[16:06:33] <cmr> http://octayn.net/benches/std.json.gz  updated
[16:06:41] <cmr> External references are now explicit
[16:06:54] <cmr> If there are any Resolved that have a hanging id, let me know, that's a bug
[16:07:31] <Seldaek> ok 
[16:07:47] <Seldaek> and btw about the "expr" 
[16:10:10] <Seldaek> any luck on doing the same for typedefs?
[16:17:01] <cmr> what about the expr?
[16:17:07] <cmr> Oh, for typedefs
[16:17:13] <cmr> yeah I couldn't figure out where the missing information is 
[16:17:20] <cmr> ty_path from the ast has a typarams thing
[16:17:26] <cmr> but it was always empty, which was very confusing
[16:18:30] <Seldaek> okay, so I keep it as is for now
[17:23:31] <Seldaek> cmr: can I ask you to rename src to source so it matches the others?:)
[17:23:36] <cmr> oops
[17:23:38] <cmr> sorry
[17:24:19] <Seldaek> np, just thought I was going mad for a minute "whaa still no source?!" :)
[17:24:55] <Seldaek> no need for a new json btw I patched mine up 
[18:11:01] <Seldaek> cmr: btw there is an empty std module inside std, is this an artifact of the missing support for #[doc_hide] or whatever that attribute was? 
[18:11:04] <Seldaek> if not it'd be good to remove it
[18:11:29] <cmr> Seldaek: yes it is
[18:11:42] <cmr> https://github.com/mozilla/rust/blob/master/src/libstd/std.rs#L209
[18:11:53] <Seldaek> alright 
[18:12:27] <Seldaek> always nice when the person documenting something themselves describes it as curious :p
[18:12:35] <cmr> yeah
[18:15:51] <Seldaek> is this a logical order to show things in on the mod page?
[18:15:54] <Seldaek> 'mod', 'struct', 'enum', 'static', 'trait', 'fn', 'typedef', 'reexport'
[18:19:06] <cmr> I have no opinion on it
[18:19:13] <cmr> not really my area of expertise
[18:19:26] <Seldaek> yeah no worries
[18:19:27] <cmr> I'd show reeports first
[18:19:35] <cmr> Because that's what you'd see in the source
[18:19:53] <Seldaek> yeah why not, is this a common thing though?
[18:20:08] <cmr> it's required by the syntax :p
[18:20:32] <Seldaek> no I mean are reexports commonly used? :)
[18:20:35] <cmr> oh
[18:20:39] <cmr> they are in libstd
[18:20:44] <Seldaek> aside from that, I tried to keep the data structures on top and then the interfaces
[18:20:48] <cmr> if there aren't any of a given item you should just omit the section in the docs
[18:20:55] <Seldaek> and tyepdef last since you said it doesn't matter :p
[18:20:58] <cmr> yeah
[18:21:12] <Seldaek> yes of course it omits empty sections
[18:21:14] <cmr> Ok external references working
[18:21:24] <Seldaek> but just curious if every page will end up having 20 re-exports on top it might need to be tuned down
[18:21:29] <Seldaek> but let's see 
[18:21:36] <cmr> I have video games to play with friends, but I'll add in the type of the external later
[18:21:57] <cmr> Since std by necessity doesn't have any external items, you get json for libextra :)
[18:22:49] <cmr> http://octayn.net/benches/extra.json.gz
[18:22:51] <Seldaek> what are you playing? I picked up gaming again last two nights since I have plenty of free time now :p
[18:22:57] <cmr> supreme commander
[18:23:06] <Seldaek> oh ok
[18:23:14] <cmr> cya
[18:23:18] <Seldaek> aye
[18:25:02] <Seldaek> cmr: still a bunch of invalid ids in the previous json, I'll see the new one
[19:22:49] <Seldaek> cmr: external refs are fine but having their type as well would make my life a lot easier if that's possible - http://seld.be/rustdoc/master/extra/c_vec/struct.DtorRes.html
[19:30:38] <Seldaek> cmr: as for statics, they work fine (well except those that don't;) but it'd be good to normalize the ";" (I'd say strip it if there is one) - http://seld.be/rustdoc/master/std/int/generated/index.html
[19:32:12] *** Quits: n0v (n0v@moz-690FFF9D.org) (Quit: ZNC - http://znc.in)
[19:34:43] *** Joins: n0v (n0v@moz-690FFF9D.org)
[19:42:24] <Seldaek> cmr: also it appears that modules don't export their doc in attrs (apart from the crate which has it at the very top level of the json)
[22:25:20] <cmr> Seldaek: yup I'll include their types
[22:25:30] <Seldaek> cool
[22:25:39] <Seldaek> I was already thinking up crazy html redirect hacks
[22:25:46] <Seldaek> glad if I don't have to go there :p
[22:27:02] <cmr> So pages like http://seld.be/rustdoc/master/std/f64/index.html
[22:27:07] <cmr> Is that listing every member of the module?
[22:27:51] <Seldaek> every member that I'm aware of yes
[22:27:55] <cmr> ok cool
[22:28:37] <Seldaek> i.e. right now that is mods, statics, traits, fns, typedefs
[22:28:43] <Seldaek> think that's it
[22:28:52] <Seldaek> ah not yet traits I guess
[22:28:58] <Seldaek> but enums
[22:33:15] <Seldaek> cmr: can't wait to have traits and impls so I can stop going mad with the current docs :p
[22:39:41] <cmr> Seldaek: soon!
[22:39:48] <cmr> I hope to have everything in place by the time I go to bed
[22:40:01] <Seldaek> cool
[22:40:13] <Seldaek> and I hope to go to bed before 6am :p
[23:26:34] *** Joins: dbaupp (Thunderbir@moz-712A1135.lns20.syd6.internode.on.net)
[23:49:17] <cmr> Seldaek: you still around?
[23:49:38] <Seldaek> well yes.. I woke up at 1pm so it's not like I can sleep now :/
[23:49:42] <cmr> heh
[23:49:51] <cmr> Were the invalid ids fixed with the new JSON?
[23:49:59] <Seldaek> oh let me run it and see
[23:51:09] <Seldaek> cmr: I got 4: 52807 55094 57940 71916
[23:51:17] <Seldaek> I think they're in the std one though
[23:52:35] <cmr> Oh
[23:52:41] <cmr> They are returning trait objects
[23:52:46] <cmr> THat is why it doesn't resolve to anything
[23:52:55] <cmr> Well, glad to know it's not some insidious bug! :D
[23:53:32] <Seldaek> ok cool
