[00:05:52] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[00:15:40] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[00:15:40] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/8sO_Ww
[00:15:40] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[00:18:34] *** Joins: tjc (tjc@moz-2FE771F5.tmodns.net)
[00:20:15] *** Quits: tjc (tjc@moz-2FE771F5.tmodns.net) (Ping timeout)
[00:24:57] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[00:25:09] *** Joins: tjc (tjc@51D6B60C.F9DF2FD8.E9463AEB.IP)
[00:39:35] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: My lid went down)
[00:40:06] <jack> tikue: time how long forward/back takes
[00:40:30] <tikue> jack: haha, good point!
[00:42:24] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:42:27] *** Quits: eholk (eholk@moz-ACB08D8D.uconnect.utah.edu) (Quit: eholk)
[00:43:24] <jack> eschweic: did you find the quadtree bug dherman discovered?
[00:48:32] <eschweic> Yeah, I know the cause
[00:48:42] <eschweic> a new quadtree is created each time the window size changes
[00:49:26] <eschweic> but sometimes this doesn't happen fast enough and the quadtree is too small for the current window
[00:49:43] <tikue> eschweic: "fast enough" sounds racey
[00:49:55] <eschweic> it's basically racey yeah
[00:50:17] <tikue> eschweic: willl reusing the quadtree when resizing fix the race?
[00:50:47] <eschweic> I think there are some other things that have to be done
[00:51:34] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[00:51:34] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/FFArZw
[00:51:34] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[00:51:38] *** Joins: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP)
[00:51:38] <ghservo> 01[13servo01] 15bors-servo pushed 4 new commits to 06auto: 02http://git.io/9f4xiw
[00:51:38] <ghservo> 13servo/06auto 141a4ea09 15Josh Matthews: WIP iframe handling.
[00:51:38] <ghservo> 13servo/06auto 144815d8f 15Tim Kuehn: refactored url handling code in script task to be more idiomatic
[00:51:38] <ghservo> 13servo/06auto 14c323585 15Tim Kuehn: fixed navigation bug
[00:51:38] *** Parts: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP) ()
[00:51:54] *** Parts: ttaubert (uid2620@moz-31ABA2C0.irccloud.com) ()
[00:52:45] *** Joins: dzbarsky (Adium@8F761026.B5EF4AF6.E96CA9D8.IP)
[00:53:19] <tikue> kmc: forward/back fixed now (hopefully)
[00:53:53] <jack> tikue: well, when that merges anyway :)
[00:54:09] <tikue> oh ._.
[00:54:19] <tikue> that's me, always jumping the gun. darn it tim!
[00:54:29] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[00:59:02] <eschweic> jack:	the resize window callback happens in a separate task from the compositor, right?
[01:00:10] <jack> no, the compistor and hte windowing run on the same thread (the PlatformThread)
[01:00:30] <jack> and in the same task.
[01:00:52] <eschweic> Oh, okay
[01:01:05] <eschweic> maybe this won't be too hard to fix then
[01:01:07] <jack> it happens when the compositor task calls check_loop()
[01:01:19] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:01:28] <jack> i assum ethat's when all the events are dispatched in glfw
[01:08:53] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[01:11:04] <eschweic> ohhh I see what's happening
[01:13:18] <eschweic> the quadtree's size is defined by the page size, but it takes the window size as a parameter when it checks which tiles to render
[01:13:45] <eschweic> that's undefined when the window size is greater than the page size though
[01:14:05] <eschweic> window resize events happen instantly, but page resizes are slow to come in
[01:14:25] <eschweic> because each has to go through layout and rendering
[01:15:59] <eschweic> I can just make the quadtree size defined by the max of the window and page sizes, that should fix it
[01:18:46] *** dherman-spec-spec-spec is now known as dherman-family
[01:18:52] *** Joins: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com)
[01:18:53] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[01:33:34] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[01:33:34] <ghservo> [13servo] 15bors-servo closed issue #579: Back navigation doesn't work the first time  02http://git.io/YzRcuQ
[01:33:34] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[01:33:35] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[01:33:35] <ghservo> [13servo] 15bors-servo closed pull request #580: Beginnings of iframe handling and navigation bug fix (06master...06master)  02http://git.io/aFTYmg
[01:33:35] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[01:36:31] *** Joins: ghservo (ghservo@C621748.6A2AE50.F3114085.IP)
[01:36:31] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/mz3dzQ
[01:36:31] *** Parts: ghservo (ghservo@C621748.6A2AE50.F3114085.IP) ()
[01:36:32] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[01:36:32] <ghservo> 01[13servo01] 15bors-servo pushed 9 new commits to 06auto: 02http://git.io/-Frj8Q
[01:36:33] <ghservo> 13servo/06auto 14e1c406f 15Josh Matthews: Avoid endlessly regenerating bindings after modifying CodegenRust.py.
[01:36:33] <ghservo> 13servo/06auto 14ea983cf 15Josh Matthews: Import partial interface support for WebIDL parsing from Gecko.
[01:36:33] <ghservo> 13servo/06auto 14d0ddca7 15Josh Matthews: WebIDL codegen: Add setter support.
[01:36:35] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[01:40:23] *** Quits: tjc (tjc@51D6B60C.F9DF2FD8.E9463AEB.IP) (Ping timeout)
[01:42:29] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[01:42:29] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14d4700f9 to 141187311: 02http://git.io/c8GovQ
[01:42:29] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[01:42:32] *** Joins: ghservo (ghservo@C621748.6A2AE50.F3114085.IP)
[01:42:32] <ghservo> 01[13servo01] 15bors-servo pushed 10 new commits to 06auto: 02http://git.io/_gpxHA
[01:42:32] <ghservo> 13servo/06auto 14e1c406f 15Josh Matthews: Avoid endlessly regenerating bindings after modifying CodegenRust.py.
[01:42:32] <ghservo> 13servo/06auto 14ea983cf 15Josh Matthews: Import partial interface support for WebIDL parsing from Gecko.
[01:42:32] <ghservo> 13servo/06auto 14d0ddca7 15Josh Matthews: WebIDL codegen: Add setter support.
[01:42:34] *** Parts: ghservo (ghservo@C621748.6A2AE50.F3114085.IP) ()
[01:44:11] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[01:57:25] *** Quits: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com) (Quit: tikue)
[01:57:49] *** Joins: sankha93 (Instantbir@FD84119E.C0D45E01.EFB84E89.IP)
[02:05:24] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[02:05:24] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[02:07:42] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[02:17:25] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:21:58] *** Joins: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com)
[02:29:42] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[02:56:16] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[02:56:16] <ghservo> [13servo] 15ILyoan opened pull request #584: Update rust-netsurfcss, Remove unnecessary <script> tag from a htrml test (06master...06patch)  02http://git.io/Vca7Iw
[02:56:16] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[03:03:52] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[03:15:33] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[03:15:33] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14bf0e81b to 141187311: 02http://git.io/c8GovQ
[03:15:33] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[03:15:34] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[03:15:34] <ghservo> 01[13servo01] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/VzEhaA
[03:15:34] <ghservo> 13servo/06auto 1444f166d 15Ilyong Cho: Update rust-netsurfcss
[03:15:34] <ghservo> 13servo/06auto 1438eb7cb 15Ilyong Cho: Remove unnecessary script tag from a html test
[03:15:34] <ghservo> 13servo/06auto 14035d51c 15bors-servo: auto merge of #584 : ILyoan/servo/patch, r=metajack...
[03:15:37] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[03:36:55] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[03:36:55] <ghservo> [13servo] 15eric93 opened pull request #585: Floats 2 (06master...06floats-2)  02http://git.io/JE0rwQ
[03:36:55] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[03:37:54] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[03:46:13] *** Quits: dherman-family (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman-family)
[03:56:51] <jack> oh dear. i see what i did. because the rust-stamp is in src/compiler, that gets blown away every time. so bors is rebuilding rust on every build.
[03:56:58] <jack> i thought it was awfully slow the last few days
[04:00:31] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[04:06:37] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[04:06:37] <ghservo> [13servo] 15bors-servo closed pull request #584: Update rust-netsurfcss, Remove unnecessary <script> tag from a htrml test (06master...06patch)  02http://git.io/Vca7Iw
[04:06:37] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[04:08:46] <tikue> ouch
[04:09:07] <tikue> I'm so far down the rabbit hole right now re: changes I'm making. I'm miles away from a buildable state of servo
[04:09:56] <jack> i'm not super happy that github changed that message from "merged pull request" to "closed pull request"
[04:10:13] <tikue> agree
[04:25:52] *** Quits: reyre (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Client exited)
[04:42:43] *** Joins: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net)
[05:01:57] *** Quits: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net) (Quit: eatkinson)
[05:03:22] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[05:05:41] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[05:23:06] *** Quits: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP) (Quit: leaving)
[05:30:17] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: yichoi)
[05:31:06] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Client exited)
[05:31:26] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[05:33:21] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Ping timeout)
[05:43:18] *** Quits: sankha93 (Instantbir@FD84119E.C0D45E01.EFB84E89.IP) (Quit: He will be back!)
[05:43:45] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[05:51:51] <jack> bjz: ping
[05:51:59] <jack> bjz: https://gist.github.com/metajack/5982180
[05:52:00] <bjz> hooro
[05:52:45] <jack> not quite there, but i think you can get the general idea from that
[05:53:10] <jack> only a very minor API change, and completely safe.
[05:53:47] *** Quits: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com) (Quit: tikue)
[05:54:36] *** Quits: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse_)
[05:55:06] <bjz> jack: how would setting a window callback look like?
[05:55:15] <bjz> ie. intenally, in the Context
[05:55:21] <bjz> *internally
[05:55:41] <jack> just like it does now. the closure will have ot be sendable obviously
[05:55:50] <jack> that might be too much of a restriction perhaps
[05:56:28] <jack> hard to tell without trying to build something in it.
[05:56:36] <bjz> hmm
[05:56:50] <jack> i suspect it would work fine for servo, except where we mutate an up-var
[05:57:26] <jack> oh, i and forgot the poll_evnets() at the end of the loop in the spawned task
[05:57:54] <jack> actually you could proxy the callbacks too
[05:58:13] <bjz> proxy?
[05:58:13] *** Joins: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net)
[05:58:38] <jack> so when you set the callback, you create sendable proxy that simply recvs a notification and then calls your real callback on the same thread you set it on
[05:58:56] <jack> that requires some kind of poll_evnets() on the caller
[05:59:42] <jack> but it'll work fine i suspect
[06:01:06] <bjz> hmm ok
[06:01:30] * bjz is in unfamiliar territory, but that is good
[06:01:45] <bjz> :P
[06:02:36] <bjz> jack: why do you expose the context in the window constructor?
[06:06:54] <bjz> so I would still have that data map?
[06:07:57] <jack> bjz: https://gist.github.com/metajack/5982180
[06:08:04] <jack> there's with a key callback proxy
[06:08:27] <jack> the context is just a wrapper on the shared channel to send to the platform thread.
[06:08:44] <jack> you need that to do anything :)
[06:08:57] <jack> but once you create a window, it can internalize that context so you don't need it.
[06:09:34] <jack> you can even a shutdown channel in the context, and have a dtor that sends a shutdown message when the context goes away
[06:10:55] <jack> the cool thing about this is that there's no way to ever mess up and run code on the wrong thread. all the glfw stuff _must_ run on the platform thread, because only that spawned task has the port. and all the callbacks have to run on whatever thread they are called on, because they aren't sendable.
[06:11:08] <jack> sorry, whatever thread they are created on
[06:11:21] <bjz> ahh ok, so at the moment the user can mess things up
[06:11:46] <bjz> by not calling things on the right thread
[06:11:52] <jack> also, for the second part, s/thread/task/
[06:11:58] <jack> yes
[06:12:19] <bjz> where as this ensures that it's all ok
[06:12:45] <jack> this glfw architecture would force everythign to be sent to a task on the platform thread, and that's the only task that can ever call glfw ffi calls
[06:13:12] <jack> (unless the user is calling ll::* directly, in which case, why try to stop them :)
[06:14:25] <jack> so the other side of this is that if the user task is not on the platform thread, the GL context won't match
[06:14:59] <bjz> yup
[06:15:04] <jack> so for that to be useful at all, you either need to do something similar with GL calls, or support creating shared contexts.
[06:15:22] <jack> the latter is probably far preferable.
[06:15:50] <bjz> Ok, this is a bit dizzying to be honest
[06:16:02] <jack> in servo, the compositor which runs on the platform thread draws and does swap_buffers(), and we send texture ids in messages to it that are draw on a shared context FBO
[06:16:44] <jack> because of the GL drawing, this might not be the right model for glfw without putting in shared context support.
[06:17:22] <bjz> so what do you mean by 'shared context support'?
[06:17:37] <jack> opengl stores the context in thread local storage
[06:17:44] <jack> and opengl is not thread safe
[06:18:29] <jack> so each thread will need its own context to execute GL commands. but by default contexts do not share state. so texture A in ctx A is copletely different from texture A in context B.
[06:18:55] <jack> you can create a shared context, which means that ctx A and B can access each other's textures (and vertex arrays, etc)
[06:19:18] <bjz> is that what glfw means by the shared window thingy?
[06:19:27] <jack> that i don't know.
[06:19:30] <jack> but i suspect so
[06:19:47] <bjz> GLFWAPI GLFWwindow* glfwCreateWindow(int width, int height, const char* title, GLFWmonitor* monitor, GLFWwindow* share);
[06:20:07] <bjz> @param[in] share The window whose context to share resources with, or `NULL` to not share resources.
[06:20:20] <jack> so the problem is that you want FBOs, not windows
[06:20:46] <jack> unless there's a way to make a window in glfw into an fbo or something
[06:21:05] <jack> or
[06:21:14] <jack> oh
[06:21:21] <jack> hmm
[06:21:29] <jack> the problem is that it takes a GLFWwindow* to share
[06:21:36] <jack> not a gl context
[06:21:41] <bjz> yep
[06:21:48] <jack> you don't want two windows. just one.
[06:22:02] <jack> glfw has all those native functions so you can get the contexts
[06:22:23] <jack> but you'd have to write the context creation part to make a shared context and fbo, etc
[06:22:43] <jack> the alternative i think is to send GL func over the platform thread
[06:23:25] <jack> so you'd probably want some kind of set_display_callback() for that and require that it be sendable
[06:24:10] <jack> it's late and i need some sleep. mull it over and see what you think.
[06:24:19] <bjz> sure thing
[06:24:29] <bjz> I will probably have lots of questions :P
[06:24:49] <bjz> but this is awesome
[06:25:06] <bjz> I'm glad there's a chance to battle-harden it
[06:25:52] <bjz> if we can get glfw/gl support rock solid it will be a big draw card
[06:26:28] <bjz> at the moment my implementation is rather naive
[06:30:19] *** Quits: dzbarsky (Adium@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: Leaving.)
[06:31:36] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[06:34:47] *** Joins: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP)
[06:36:46] *** Quits: caitp- (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Quit: caitp-)
[06:47:11] *** Quits: eatkinson (eatkinson@moz-AD233F1B.dia.static.qwest.net) (Quit: eatkinson)
[06:49:23] *** Parts: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) ()
[06:49:42] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[06:50:13] *** Parts: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) ()
[06:58:09] *** Joins: seth (seth@56F14A79.8B5A9B2B.AD6E18E9.IP)
[07:04:05] *** Joins: ehsanul (irc@moz-D1FFCC4A.hsd1.ca.comcast.net)
[07:05:44] *** Quits: seth (seth@56F14A79.8B5A9B2B.AD6E18E9.IP) (Input/output error)
[07:13:05] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:25:14] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[07:26:52] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:36:03] *** Quits: n0vember (n0vember@moz-690FFF9D.org) (Ping timeout)
[07:36:16] *** Quits: michaelgreene (michael@DA820AA2.17CD9887.F12515B4.IP) (Ping timeout)
[07:37:51] *** Joins: michaelgreene (michael@DA820AA2.17CD9887.F12515B4.IP)
[07:38:10] *** Joins: n0vember (n0vember@moz-690FFF9D.org)
[07:41:07] *** Quits: michaelgreene (michael@DA820AA2.17CD9887.F12515B4.IP) (Ping timeout)
[07:42:21] *** Joins: michaelgreene (michael@DA820AA2.17CD9887.F12515B4.IP)
[08:02:55] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Client exited)
[08:03:20] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[08:05:04] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Ping timeout)
[08:22:03] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[08:33:02] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[08:33:18] *** Joins: somebody (Mibbit@moz-7D83A5F1.ip.telfort.nl)
[08:36:09] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[08:36:23] *** Quits: somebody (Mibbit@moz-7D83A5F1.ip.telfort.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[08:40:03] *** Joins: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net)
[08:43:26] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[08:44:59] *** Joins: Adityab (Adityab@moz-D01280C9.dip0.t-ipconnect.de)
[08:47:20] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[09:03:56] *** Joins: sankha93 (Instantbir@7106AFAF.328EAA2C.EFB84E89.IP)
[09:10:46] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Client exited)
[09:14:52] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[09:15:41] *** Quits: tikue (tkuehn@moz-A7CDB794.dia.static.qwest.net) (Quit: tikue)
[09:22:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:47:00] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[09:49:50] *** Quits: sankha93 (Instantbir@7106AFAF.328EAA2C.EFB84E89.IP) (Ping timeout)
[09:55:39] *** Joins: sankha93 (Instantbir@FF1E0AEB.3AAA1E63.EFB84E89.IP)
[10:05:14] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[10:14:55] *** Quits: sankha93 (Instantbir@FF1E0AEB.3AAA1E63.EFB84E89.IP) (Ping timeout)
[10:17:38] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[10:24:39] *** Joins: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se)
[10:25:56] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Ping timeout)
[10:36:42] *** Joins: sankha93 (Instantbir@89EC16FB.35354309.EFB84E89.IP)
[10:45:14] *** Quits: sankha93 (Instantbir@89EC16FB.35354309.EFB84E89.IP) (Ping timeout)
[11:13:32] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[11:21:20] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[11:22:35] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[11:30:55] *** Quits: Adityab (Adityab@moz-D01280C9.dip0.t-ipconnect.de) (Quit: Adityab)
[11:32:21] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[11:33:39] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[12:03:32] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[12:05:32] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Client exited)
[12:05:43] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[12:06:19] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Ping timeout)
[12:18:14] *** bhearsum|afk is now known as bhearsum
[12:39:45] *** Joins: Adityab (Adityab@moz-D01280C9.dip0.t-ipconnect.de)
[12:40:54] *** Quits: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[12:49:08] *** Joins: jdm (jdm@92FB48CA.8B5E9DF.9A8C35B4.IP)
[12:57:25] *** Quits: Adityab (Adityab@moz-D01280C9.dip0.t-ipconnect.de) (Quit: Adityab)
[13:03:03] *** Joins: reyre (reyre@F2D29657.F60B0462.67AC9B1.IP)
[13:09:30] *** Joins: Adityab (Adityab@moz-D01280C9.dip0.t-ipconnect.de)
[13:12:27] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[13:19:23] *** Joins: mccr8 (mccr8@F2D29657.F60B0462.67AC9B1.IP)
[13:50:29] *** Joins: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP)
[13:58:16] *** Quits: jdm (jdm@92FB48CA.8B5E9DF.9A8C35B4.IP) (Quit: Lost terminal)
[14:02:31] *** Joins: sankha93 (Instantbir@7A7BDF42.35354309.EFB84E89.IP)
[14:06:37] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[14:47:38] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[14:48:37] <jack> bhearsum: ping
[14:49:05] <bhearsum> jack: pong
[14:50:30] <jack> bhearsum: is bors supposed to be serial?
[14:50:42] <jack> it never seems to use multiple build slaves at once
[14:50:54] <jack> in fact, i've never seen it use anything but linux-02 for example
[14:51:12] <bhearsum> jack: that's my understanding of it
[14:51:39] <bhearsum> i didn't know that when i originally allocated machines though, to be honest
[14:51:53] <bhearsum> the Rust buildbot uses slaves a bit more because they have non-Bors driven tests on the master branch, and a try branch
[14:56:09] *** Joins: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP)
[14:58:55] <jack> ok, that was my next question, because we seem overprovisioned
[14:59:56] <jack> i just wanted to make sure that's how it's supposed to work.
[15:26:39] <jdm> jack: r? https://github.com/mozilla-servo/rust-mozjs/pull/21
[15:33:20] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Quit: Leaving.)
[15:36:41] *** Quits: sankha93 (Instantbir@7A7BDF42.35354309.EFB84E89.IP) (Ping timeout)
[15:40:32] *** Joins: sankha93 (Instantbir@2BA23283.A06F18D1.EFB84E89.IP)
[15:41:28] <jack> what is extra?
[15:41:54] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[15:41:54] <ghservo> 01[13rust-mozjs01] 15metajack pushed 2 new commits to 06master: 02http://git.io/rkzSIA
[15:41:54] <ghservo> 13rust-mozjs/06master 143726229 15Josh Matthews: Add wrappers for proxy-related APIs, and store user-defined data in the forwarding proxy handler.
[15:41:54] <ghservo> 13rust-mozjs/06master 14df2b9ae 15Jack Moffitt: Merge pull request #21 from jdm/proxystuff...
[15:41:54] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[15:45:34] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[15:45:35] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/MAsNJQ
[15:45:35] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[15:45:38] *** Joins: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP)
[15:45:38] <ghservo> 01[13servo01] 15bors-servo pushed 9 new commits to 06auto: 02http://git.io/JNvtmA
[15:45:38] <ghservo> 13servo/06auto 14e1c406f 15Josh Matthews: Avoid endlessly regenerating bindings after modifying CodegenRust.py.
[15:45:38] <ghservo> 13servo/06auto 14ea983cf 15Josh Matthews: Import partial interface support for WebIDL parsing from Gecko.
[15:45:38] <ghservo> 13servo/06auto 14d0ddca7 15Josh Matthews: WebIDL codegen: Add setter support.
[15:45:40] *** Parts: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP) ()
[15:47:55] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[16:05:34] *** Quits: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[16:06:19] *** Joins: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP)
[16:07:26] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[16:08:01] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[16:21:39] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[16:22:05] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:22:05] *** ChanServ sets mode: +qo dherman dherman
[16:22:21] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:23:21] *** Quits: ehsanul (irc@moz-D1FFCC4A.hsd1.ca.comcast.net) (Ping timeout)
[16:27:33] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[16:27:33] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/JNvtmA
[16:27:33] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[16:27:33] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[16:27:33] <ghservo> [13servo] 15bors-servo closed pull request #573: WebIDL setters, dictionary inheritance, fallible unwrapping, and more. (06master...06domevent)  02http://git.io/2Q9Rrw
[16:27:33] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[16:27:39] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[16:30:30] *** Joins: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP)
[16:30:30] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/HJrsJA
[16:30:30] *** Parts: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP) ()
[16:30:32] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[16:30:32] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/10TFUQ
[16:30:32] <ghservo> 13servo/06auto 1433db547 15Josh Matthews: DOM bindings: Autogenerate list of prototypes and binding registration goop.
[16:30:32] <ghservo> 13servo/06auto 141db09bc 15bors-servo: auto merge of #577 : jdm/servo/autogen, r=metajack
[16:30:33] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[16:38:02] <jack> is there any way to get github to do side by side diffs?
[16:41:21] <cmr> jack: if you find one let me know!
[16:43:57] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[16:45:10] <jack> i'm going to have to write some emacs-fu to review pull requests
[16:45:36] <cmr> I use kdiff3 personally
[16:45:52] <jack> can i give kdiff3 a github url?
[16:46:15] <cmr> don't think so, you'd have to fetch the remote
[16:47:20] <jdm> jack: extra is used to store the proxy family so we can determine if an arbitrary proxy type is a DOM proxy
[16:52:17] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[16:54:25] <jdm> so I did a Q&A with the Gecko platform team today about Servo
[16:54:36] <jdm> I'll write up the questions I couldn't answer and post them to the mailing list
[16:55:26] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Client exited)
[16:57:27] <jack> jdm: cool. what kind of stuff were they interested in?
[16:57:52] <jdm> jack: questions about cycles, the GC, viability criteria, timeline for viability...
[17:01:07] <jack> jdm: http://servo-buildbot.pub.build.mozilla.org/builders/mac/builds/80/steps/shell/logs/stdio
[17:03:30] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[17:03:30] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 141db09bc to 140c4119b: 02http://git.io/c8GovQ
[17:03:30] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[17:03:33] *** Joins: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP)
[17:03:33] <ghservo> 01[13servo01] 15bors-servo pushed 8 new commits to 06auto: 02http://git.io/QXo1NQ
[17:03:33] <ghservo> 13servo/06auto 14650bd65 15Eric Atkinson: Add right floats and fix bug where max_y was not being set
[17:03:33] <ghservo> 13servo/06auto 14602334a 15Eric Atkinson: Fix float placement bugs & add hacky non-percen heights to blocks.
[17:03:33] <ghservo> 13servo/06auto 143cbe915 15Eric Atkinson: Add test and address comments
[17:03:35] *** Parts: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP) ()
[17:05:10] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:05:44] *** Joins: eholk (eholk@moz-A6B67E64.uconnect.utah.edu)
[17:07:41] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[17:09:54] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:10:50] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[17:10:50] <ghservo> [13servo] 15metajack opened pull request #586: Fix constant rust rebuild on build slaves (06master...06auto-clean)  02http://git.io/ngAJgQ
[17:10:51] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[17:10:57] <jack> jdm: r? ^
[17:11:06] <jack> that should reduce our cycle time considerably
[17:11:44] <jack> also, after that gets merged, if you don't want your own rust rebuilt, just `mv src/compiler/rust-auto-clean-stamp src/compiler/rust/`
[17:12:01] *** Quits: Adityab (Adityab@moz-D01280C9.dip0.t-ipconnect.de) (Quit: Adityab)
[17:13:10] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[17:21:35] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[17:23:22] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[17:23:40] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[17:24:01] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[17:26:13] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[17:31:17] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[17:31:43] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[17:36:38] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[17:36:38] <ghservo> [13servo] 15eschweic opened pull request #587: Fix crash on window resize (06master...06master)  02http://git.io/ZsR6Sw
[17:36:38] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[17:39:37] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[17:39:37] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/QXo1NQ
[17:39:37] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[17:42:33] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[17:42:33] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/ZEs39A
[17:42:33] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[17:42:35] *** Joins: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP)
[17:42:35] <ghservo> 01[13servo01] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/HHzzdQ
[17:42:35] <ghservo> 13servo/06auto 1472875ce 15Jack Moffitt: Bump rust-mozjs pointer to the merge commit.
[17:42:35] <ghservo> 13servo/06auto 147fe380d 15Jack Moffitt: Move rust-auto-clean-stamp into the rust build dir....
[17:42:35] <ghservo> 13servo/06auto 14e966920 15bors-servo: auto merge of #586 : metajack/servo/auto-clean, r=jdm
[17:42:37] *** Parts: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP) ()
[17:48:12] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[17:48:12] *** ChanServ sets mode: +qo dherman dherman
[17:54:07] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[17:57:08] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[17:59:13] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[18:01:05] <jdm> gah
[18:01:11] <jdm> why can't I reproduce the build failures :(
[18:01:18] * jdm tries make clean
[18:05:55] <jdm> no difference
[18:05:56] <jdm> wtf
[18:06:05] <jdm> oh, whoops
[18:06:06] <jdm> untracked file
[18:06:35] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[18:06:35] <ghservo> [13servo] 15jdm synchronize pull request #577: Autogenerate list of prototypes and code to register DOM bindings (06master...06autogen)  02http://git.io/91OpMQ
[18:06:36] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[18:08:09] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[18:24:30] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[18:24:30] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/NeXkJw
[18:24:30] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[18:24:33] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[18:24:33] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/gyDzrw
[18:24:33] <ghservo> 13servo/06auto 144f24ef1 15Josh Matthews: DOM bindings: Autogenerate list of prototypes and binding registration goop.
[18:24:33] <ghservo> 13servo/06auto 141d2f684 15bors-servo: auto merge of #577 : jdm/servo/autogen, r=jdm,metajack
[18:24:33] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[18:25:06] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: .)
[18:25:33] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[18:25:40] *** dherman is now known as dherman-lunch-at-the-goog
[18:25:57] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[18:27:30] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[18:27:30] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 141d2f684 to 14e966920: 02http://git.io/c8GovQ
[18:27:30] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[18:27:32] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[18:27:32] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/0wLODg
[18:27:32] <ghservo> 13servo/06auto 144f24ef1 15Josh Matthews: DOM bindings: Autogenerate list of prototypes and binding registration goop.
[18:27:32] <ghservo> 13servo/06auto 14821192d 15bors-servo: auto merge of #577 : jdm/servo/autogen, r=jdm,metajack
[18:27:33] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[18:28:07] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Client exited)
[18:29:33] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[18:43:55] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[18:48:11] <jack> yay for faster cycles
[18:49:09] <jack> of course, for the first build after that fix, it chooses a new build slave.
[18:53:02] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[19:00:12] <jdm> haha
[19:00:19] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Client exited)
[19:05:08] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[19:09:30] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[19:10:00] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[19:10:01] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[19:10:02] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[19:16:54] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[19:23:05] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[19:23:34] *** Joins: eschweic1 (Adium@moz-BBE3ABD.mv.mozilla.com)
[19:23:39] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[19:24:42] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[19:24:42] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/0wLODg
[19:24:42] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:24:43] *** Joins: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP)
[19:24:43] <ghservo> [13servo] 15bors-servo closed pull request #577: Autogenerate list of prototypes and code to register DOM bindings (06master...06autogen)  02http://git.io/91OpMQ
[19:24:43] *** Parts: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP) ()
[19:24:52] <jdm> woot
[19:25:59] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[19:27:27] *** Quits: dherman-lunch-at-the-goog (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman-lunch-at-the-goog)
[19:27:28] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[19:27:28] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/0x6FCQ
[19:27:28] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[19:27:30] *** Joins: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP)
[19:27:30] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/gzqz0A
[19:27:30] <ghservo> 13servo/06auto 14df08795 15eschweic: Fix crash on window resize
[19:27:30] <ghservo> 13servo/06auto 143bb4713 15bors-servo: auto merge of #587 : eschweic/servo/master, r=metajack...
[19:27:30] *** Parts: ghservo (ghservo@FD7BC443.6A2AE50.F3114085.IP) ()
[19:28:48] *** Quits: eschweic1 (Adium@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:29:57] <jack> we managed to keep bors pretty busy this week :)
[19:30:36] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[19:38:24] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[19:42:46] *** Joins: seth (seth@moz-42C5FAA8.nc.res.rr.com)
[19:44:25] *** Quits: reyre (reyre@F2D29657.F60B0462.67AC9B1.IP) (Client exited)
[19:45:24] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[19:45:24] <ghservo> [13servo] 15bors-servo closed pull request #587: Fix crash on window resize (06master...06master)  02http://git.io/ZsR6Sw
[19:45:24] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[19:45:32] *** Joins: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com)
[19:52:29] *** Joins: reyre (reyre@F2D29657.F60B0462.67AC9B1.IP)
[20:03:20] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[20:03:36] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[20:03:51] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[20:03:52] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[20:10:24] *** Quits: victorporof (victorporo@74A9C5E8.1745F5FA.9B1E38F4.IP) (Quit: victorporof)
[20:10:53] *** Joins: Adityab (Adityab@6A5C9EDD.4742BCFA.1A5CC7E5.IP)
[20:11:33] *** Joins: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk)
[20:14:10] *** Quits: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk) (Ping timeout)
[20:27:07] *** Joins: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk)
[20:33:04] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[20:36:56] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[20:39:22] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:45:37] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[20:47:38] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[20:48:47] <jdm> mmm, excellent mailing list discussion
[20:48:51] <jdm> I am pleased by this
[20:49:29] <tikue> jdm: I'm banging my head against the proverbial wall on issues related to iframes and navigation context. you have a moment?
[20:49:37] <jdm> tikue: totally
[20:50:18] <tikue> jdm: so, support iframes, the navigation context is going to change from a single pipeline id to a set of pipeline id's, which I've taken to calling a frame group
[20:50:32] <tikue> to support iframes*
[20:50:53] <tikue> basically, at any given time there'll be some set of pipelines that are sending messages to the compositor to paint
[20:51:05] <tikue> so the issue I'm having is that a single pipeline could be in multiple frame groups
[20:51:25] *** Quits: mccr8 (mccr8@F2D29657.F60B0462.67AC9B1.IP) (Quit: mccr8)
[20:51:27] <tikue> say you're on a page, click a link within an iframe, now there's a new frame group, but the parent frame's script is in both of these groups
[20:52:10] <tikue> so when any given script sends a message to the constellation to load a new iframe, how can it differentiate which frame group that iframe is apart of
[20:53:00] *** Quits: sankha93 (Instantbir@2BA23283.A06F18D1.EFB84E89.IP) (Quit: He will be back!)
[20:53:18] <tikue> jdm: one thing that could be helpful is that any layout and render task will only ever be part of one frame group
[20:54:04] <jdm> let me read this carefully, one moment
[20:54:33] <tikue> jdm: I haven't been very careful with my words, because I'm still having a hard time putting into words the problem I'm imagining
[20:55:02] <jack> why would the new iframe contents know anything about the parent script?
[20:55:19] <tikue> jack: in the case I'm thinking of, there aren't any iframe contents yet. it's just being parsed
[20:55:32] <jack> you just said "when  you click a link"
[20:55:49] <jack> you mean parsing the new iframe contents?
[20:55:51] <tikue> jack: yeah
[20:56:21] <tikue> jack: so I'm trying to figure out, how will the constellation determine, when receiving an iframe load msg, which frame group to attach this iframe to
[20:56:56] <jack> isn't always attached to the framegroup that initiated the load?
[20:57:14] <jack> i tneeds to replace one 
[20:57:17] <tikue> jack: no, because if you click a link, the loading iframe will replace the current one
[20:57:35] <tikue> jack: so i was imagining the frame groups being, perhaps better called frame sets
[20:58:09] <jack> so a constellation has a set of pipelines, the ones that can actively paint are the frame group/set
[20:58:15] <tikue> jack: and so when finished loading the new iframe would send a message saying "renderer ready for frame set X" and then the constellation would find the disjunction of the two sets and revoke permission from some and grant permission to others
[20:58:32] <jack> so get a content change in an iframe, so one o fthe framegroup needs replacing with the new one.
[20:58:33] <tikue> jack: that's how I'm imagining it currently
[20:58:43] <tikue> jack: ya
[20:58:55] <tikue> jack: and the problem I'm having is how to figure out which frame set an iframe belongs to
[20:58:56] <jack> we know where hte link came from, so can't we just send that id along with the load?
[20:59:02] *** Quits: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[20:59:04] <jack> or is that exactly what you're asking?
[20:59:25] <tikue> jack: that's the essential question
[20:59:35] <tikue> jack: because
[20:59:44] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[20:59:49] <jack> i dont' think you can get around having to pass an id with the load request to know where to put the result
[20:59:49] <tikue> jack: one script task can be handling the loading of iframes in separate frame groups concurrently
[21:00:09] <tikue> jack: I don't think so either, but I've been messing with a few different concepts and so far none seem right
[21:01:52] <jack> one thing you could do is just pass along an opaque identifier and then use that when the result comes back.
[21:02:07] <jack> and you can use the piepline id as hte identifier, to know which one to replace
[21:02:25] <tikue> jack: a script's pipeline won't be unique to frame groups
[21:02:36] *** Joins: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP)
[21:02:45] <tikue>  / frame sets
[21:02:55] *** bhearsum is now known as bhearsum|afk
[21:03:02] <tikue> i think the script needs to have a unique identifier for each iframe
[21:03:23] <tikue> so when it receives a click event it'll have the id of the iframe in which that click occurs
[21:03:56] <jack> that sounds fine
[21:04:35] <tikue> so script sends the iframe id along along with the iframe url to the constellation
[21:04:40] *** Quits: seth (seth@moz-42C5FAA8.nc.res.rr.com) (Input/output error)
[21:04:41] <tikue> that doesn't seem like enough information
[21:06:29] <jack> it is if you maintain a mapping of iframes->framegroups 
[21:06:38] <jack> or whatever owns hte framegroup
[21:06:50] <jack> what is the something that you are replacing?
[21:06:54] <jack> if not a pipeline
[21:08:17] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[21:08:21] <tikue> jack: ok, so I was originally imagining one iframe id per iframe in a page
[21:08:25] <tikue> jack: but I think you're right
[21:08:31] <tikue> jack: it could be one iframe id per pipeline
[21:08:46] <tikue> jack: hmm but then actually it's just the same thing as the pipeline id, isn't it?
[21:09:45] <tikue> jack: ah, so the other problem is when there are nested iframes. Who determines their id? the parent pipeline or ultimately the outermost pipeline?
[21:10:11] *** Joins: jclements (jclements@moz-BBE3ABD.mv.mozilla.com)
[21:10:11] <tikue> jack: because if the parent pipeline sets its id, it will somehow need to know which id's were already used by ITS parent, etc. etc.
[21:10:17] *** Parts: jclements (jclements@moz-BBE3ABD.mv.mozilla.com) ()
[21:10:48] <jack> wouldn't hte child pipeline have an id too?
[21:10:58] <jack> why is nesting important here?
[21:11:10] <jack> i mean, why is it affecting your solution. i understand why nesting is needed.
[21:13:21] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[21:13:23] <tikue> if you navigate in an iframe within an iframe, that nested pipeline will send the load iframe msg to the constellation. it can send its pipeline id along with the iframe id that it chose. So now how does the constellation determine the correct frame set? The pipeline id can map to multiple frame sets.
[21:14:34] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[21:14:59] *** Joins: eschweic1 (Adium@moz-BBE3ABD.mv.mozilla.com)
[21:14:59] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[21:16:57] *** Quits: reyre (reyre@F2D29657.F60B0462.67AC9B1.IP) (Client exited)
[21:18:17] <jack> a frame set is everything that can paint.
[21:18:27] <jack> how is there more than one frame set?
[21:18:56] <tikue> jack: well the navigation context consists of two stacks of frame sets
[21:19:23] <jack> so there's a frameset for each history item?
[21:19:31] <tikue> jack: yea
[21:20:06] <jack> and these framesets share the pipelines?
[21:20:31] <jack> ie, there's basically only one set of pipelines that all framesets map onto
[21:20:36] <tikue> jack: no I think pipelines actually will be unique, however script tasks will be shared by multiple pipelines
[21:20:50] <tikue> jack: layout and renderers will be unique to each frameset
[21:20:51] <jack> if pipeliens are unique, problem solved, no?
[21:21:03] <jack> you know which pipeline to replace
[21:21:07] <tikue> jack: yeah I think so :)
[21:21:16] <tikue> jack: but like they always say
[21:21:22] <tikue> jack: "it's too easy"
[21:21:26] <tikue> jack: I'll get back to you later lol
[21:24:32] *** Quits: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[21:24:51] *** Quits: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com) (Quit: tikue)
[21:26:20] *** Joins: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP)
[21:29:14] <jack> jdm: so in gecko, only elements you specifically acquire references to in JS get wrapped?
[21:29:31] <jack> and in servo, we preemptively wrap every DOM element?
[21:32:41] <dzbarsky> jack: right
[21:34:20] *** Joins: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com)
[21:37:04] <jack> i assume from  bz's arguments that the performance loss is because of the extra memory?
[21:37:46] <kmc> so, having tackled a few small bugs in Servo, I think I'm ready for something a bit more substantial. anyone have particular suggestions?
[21:39:57] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[21:41:06] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[21:42:02] <jack> were you able to look into that segfault?
[21:43:19] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:44:11] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[21:44:12] *** ChanServ sets mode: +qo dherman dherman
[21:44:54] <kmc> i didn't get very far with valgrind etc, but also I think tikue knows what the cause of the segfault is.  something about local_data?
[21:45:02] <kmc> tikue: we're talking about https://github.com/mozilla/servo/blob/master/src/components/main/constellation.rs#L258-#L262
[21:45:04] <tikue> kmc: what segfault?
[21:45:11] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[21:45:19] <tikue> oh that 
[21:45:30] <tikue> I don't know anything other than it's caused by script task's drop
[21:45:40] <tikue> which is what I got from gdb 
[21:45:45] <tikue> some weeks ago
[21:45:48] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[21:46:02] <tikue> :\
[21:47:09] <kmc> is this the same issue? https://github.com/mozilla/servo/issues/570
[21:47:24] <jack> is there way to see an expanded makefile where subroutines are finished running?
[21:47:36] *** Quits: Adityab (Adityab@6A5C9EDD.4742BCFA.1A5CC7E5.IP) (Ping timeout)
[21:47:44] <jack> kmc: the stack traces seem the same, so i suspect so
[21:48:11] <kmc> in that case sounds like jdm knows what's going on
[21:48:11] <jack> it also seems to happen during unwind from some task failures, which is probably just the dtor running in that case too
[21:53:34] <kmc> meanwhile I'm getting an ICE building the latest Servo :/
[21:53:48] <kmc> unsure when to try to track these things down, vs. just do a clean build and hope that fixes it
[21:53:55] <kmc> I can leave the build directory around, anyway
[21:56:35] *** Joins: Adityab (Adityab@8094A64E.66531EF5.16E13E53.IP)
[21:56:45] <jack> the best thing to do for ice's is get the stack trace and look where it's failing
[21:57:03] <jack> you can also try make clean all
[21:57:24] <jack> if things were compiled with different rustc versions, teh decoder can get confused and ICE
[21:58:02] <kmc> ok
[21:58:22] <kmc> rust: task failed at 'lookup_item: id not found: 7928', servo/src/compiler/rust/src/librustc/metadata/decoder.rs:84
[21:58:31] <kmc> sounds like it, then
[21:59:52] <eschweic1> yeah I had to do a make clean when building this morning
[22:00:16] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[22:00:39] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[22:00:48] *** Quits: eschweic1 (Adium@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[22:02:14] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[22:02:52] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[22:02:52] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[22:03:10] <tikue> more ?s
[22:03:47] <tikue> click event from compositor ==> script task
[22:04:19] <tikue> strategy for determining layout responsible for the point clicked on?
[22:06:46] <tikue> because presumably for any X layouts associated with a script they will each be responsible for non-intersecting areas of the page
[22:08:05] <tikue> this is currently not represented on the script task because it's assumed that exactly one layout is responsible for everything
[22:08:12] <tikue> and it's an interesting problem
[22:15:24] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[22:15:24] <ghservo> [13rust-azure] 15metajack opened pull request #38: Revert #22. (06master...06revert-skia-dep)  02http://git.io/Tob3tA
[22:15:24] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:15:25] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[22:17:14] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[22:18:11] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[22:19:10] <tikue> if anyone has any ideas for a good way to do this let me know -- nothing comes to mind right now
[22:19:43] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:22:27] *** Joins: harth_ (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:22:35] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[22:23:25] *** Quits: harth_ (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[22:30:02] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[22:30:52] <tikue> jack: I remember why it's not as simple as that. You aren't just replacing the one pipeline -- you're also removing any sub-iframes of that pipeline
[22:31:14] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[22:31:22] <tikue> jack: so a frameset isn't the right structure. It needs to be a frame tree
[22:34:29] <tikue> jack: I think -- THINK -- that the constellation only needs to know when an iframe url is being parsed -- not loaded -- because once it parses the frame tree, it can do the right thing in the future by just knowing the pipeline id
[22:39:48] <tikue> pub struct FrameTree {
[22:39:48] <tikue>     pipeline_id: PipelineID,
[22:39:49] <tikue>     sub_frames: ~[FrameTree],
[22:39:50] <tikue> }
[22:40:05] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[22:41:29] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:43:13] *** Quits: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[22:48:47] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[22:54:05] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Client exited)
[22:54:21] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[22:54:24] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[22:55:07] *** Quits: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[22:56:36] *** Joins: jclements (jclements@moz-BBE3ABD.mv.mozilla.com)
[22:56:51] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[22:58:03] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Connection reset by peer)
[22:58:08] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[22:58:10] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[22:58:22] *** Quits: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com) (Quit: tikue)
[22:58:33] *** Joins: eschweic1 (Adium@moz-BBE3ABD.mv.mozilla.com)
[22:58:34] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[22:58:50] *** Joins: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com)
[23:01:04] *** Quits: SimonSapin (simon@moz-D0C2F181.zone2.bethere.co.uk) (Ping timeout)
[23:01:58] *** Joins: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net)
[23:02:15] *** Joins: caitp (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[23:02:44] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:02:49] <jack> pcwalton: there's no way to do a define in Rust that i can use as a path string is there?
[23:03:20] <jack> i'm tryign to make rust-png tests work in servo builds, but the png-test script is in the build products dir, and the test.png is in the src dir.
[23:03:48] *** Quits: harth (heather@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[23:12:42] <jack> nm. i just copied the file in configure.
[23:12:51] <jack> i tried to make a Makefile rule for it, but vpath makes it extremely difficult
[23:14:02] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[23:14:12] *** Quits: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com) (Quit: tikue)
[23:15:27] *** Quits: eschweic1 (Adium@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[23:17:50] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:18:37] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:18:42] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[23:20:27] <kmc> jack: looks like the ScriptTask dtor is called 3 times concurrently on the same object, and it crashes the second time it tries to local_data_pop
[23:21:47] <kmc> ScriptTask is allocated in @ but we unsafely save it both in js_context and in that same local_data so that must be where the multiple deletion comes from
[23:23:03] *** Joins: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com)
[23:23:13] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[23:23:40] *** Joins: eschweic1 (Adium@moz-BBE3ABD.mv.mozilla.com)
[23:23:41] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[23:24:33] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[23:36:31] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:36:31] *** ChanServ sets mode: +qo dherman dherman
[23:37:50] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[23:40:43] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Client exited)
[23:46:28] <dherman> is the servo build broken?
[23:46:43] <dherman> or do I need a clean tree for some reason? I did a git pull and make && make check
[23:50:23] *** Quits: eholk (eholk@moz-A6B67E64.uconnect.utah.edu) (Quit: eholk)
[23:52:54] <kmc> are you getting an ICE regarding 'lookup_item: id not found: 7928', servo/src/compiler/rust/src/librustc/metadata/decoder.rs:84
[23:53:06] <kmc> i had that; blowing away and regenerating build/ fixed it
[23:53:08] <tikue> jdm: iframe size depends on layout of the parent frame
[23:55:30] <tikue> this seems to imply that, at least in the case of cross-origin iframes where it's on a separate layout task (though I'm inclined to keep the layout tasks separately for same-domain, non-seamless as well), that layout cannot be performed until layout finishes on the layout task responsible for the outer frame
