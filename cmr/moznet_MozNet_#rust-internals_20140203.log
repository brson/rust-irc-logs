[00:04:27] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[00:05:48] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[00:07:50] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[00:07:51] *** ChanServ sets mode: +qo brson brson
[00:25:26] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[00:29:17] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[00:33:23] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[00:34:21] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[00:35:11] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[00:36:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[00:40:45] *** Joins: zimbabao (rajaram@11349425.34F57F4.D2D1FAF0.IP)
[00:42:11] *** nrc|afk is now known as nrc
[00:45:23] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:45:23] *** ChanServ sets mode: +ao dherman dherman
[00:45:47] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:50:13] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[00:50:45] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[00:52:25] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[01:06:35] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[01:06:35] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/7qpPrQ
[01:06:35] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:08:20] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Quit: ZNC - http://znc.in)
[01:11:35] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:11:35] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/wd2UcQ
[01:11:35] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:13:22] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:16:31] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[01:16:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/K_gXoQ
[01:16:31] <ghrust> 13rust/06auto 140aec46e 15chromatic: Removed prelude::* from libstd files....
[01:16:31] <ghrust> 13rust/06auto 145e95942 15bors: auto merge of #12006 : chromatic/rust/gh_11983_deglob_std, r=brson...
[01:16:32] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:16:35] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[01:16:35] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/wd2UcQ
[01:16:35] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:34:08] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[01:35:50] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[01:38:20] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:38:30] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[01:38:36] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:38:55] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[01:45:09] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:47:12] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[01:50:10] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Client exited)
[01:50:38] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[01:50:38] *** ChanServ sets mode: +o acrichto
[01:51:03] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[01:51:29] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:51:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145e95942 to 14449a99e: 02http://git.io/N3iJvQ
[01:51:29] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:51:31] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[01:51:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/-1R0JA
[01:51:31] <ghrust> 13rust/06auto 14f72a2c7 15OGINO Masanori: Update po4a.conf and regenerate .po files....
[01:51:31] <ghrust> 13rust/06auto 147db6bca 15bors: auto merge of #12005 : omasanori/rust/update-trans, r=brson...
[01:51:32] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[02:18:52] <brson> closed 10 1.0 issues and added 8 this week.
[02:25:36] <jdm> progress!
[02:31:31] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:36:34] <nrc> if we are issuing an error, followed by a note and that note is talking about something in another crate, what is the standard amount of info to put in that note?
[02:36:52] <nrc> I.e., if we were in the same crate, we would use a note_span()
[02:48:25] <nrc> brson ^
[02:50:44] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[02:50:45] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[02:51:20] *** Quits: gwty (gwtypc@6DB449F9.8B64350F.F64220F6.IP) (Ping timeout)
[02:52:57] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[02:57:52] *** Quits: jdm (jdm@moz-4AA3652E.cable.virginm.net) (Quit: Lost terminal)
[03:01:08] <brson> nrc: afaik this comes up rarely enough that we don't have a standard way to point an error at another crate. i would at least mention the name of the crate
[03:01:35] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[03:01:35] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/-1R0JA
[03:01:35] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[03:02:26] <nrc> brson: ok, I'll just do that - I expect that getting this error without another one will be _extremely_ rare anyway
[03:02:29] <nrc> thanks!
[03:06:02] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[03:06:26] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[03:06:26] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/IzaZQg
[03:06:26] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[03:11:28] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[03:11:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/IzaZQg
[03:11:28] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[03:11:28] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:11:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/mRPT_A
[03:11:29] <ghrust> 13rust/06auto 146121acf 15Ben Noordhuis: libnative: fix epoll_event struct layout...
[03:11:29] <ghrust> 13rust/06auto 1462caad2 15bors: auto merge of #12003 : bnoordhuis/rust/sizeof-epoll-event-fixup, r=brson...
[03:11:29] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:22:28] *** Quits: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP) (Ping timeout)
[03:22:34] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Connection reset by peer)
[03:23:46] *** Quits: kimundi (kimundi@moz-19888B08.dip0.t-ipconnect.de) (Ping timeout)
[03:24:52] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:26:48] *** Joins: blank_name (blank_name@75624DB1.E6D3F868.537E532E.IP)
[03:27:03] *** Joins: kimundi (kimundi@moz-B1BB70A3.dip0.t-ipconnect.de)
[03:31:32] *** kimundi is now known as zz_kimundi
[03:38:22] *** zz_kimundi is now known as kimundi
[03:43:07] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Connection reset by peer)
[03:44:24] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:51:52] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[03:53:42] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[03:54:02] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:02:54] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:06:07] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:07:59] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[04:08:04] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[04:26:24] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[04:26:24] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/mRPT_A
[04:26:24] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[04:31:30] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:31:30] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/0bAF8A
[04:31:30] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:31:32] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[04:31:32] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/bNByIQ
[04:31:32] <ghrust> 13rust/06auto 140aec46e 15chromatic: Removed prelude::* from libstd files....
[04:31:32] <ghrust> 13rust/06auto 14ce33da9 15chromatic: Added missing Windows/Mac OS X import.
[04:31:32] <ghrust> 13rust/06auto 141d1a418 15bors: auto merge of #12006 : chromatic/rust/gh_11983_deglob_std, r=brson...
[04:31:34] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[04:39:20] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[04:41:06] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[04:46:25] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[04:46:26] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 141d1a418 to 1462caad2: 02http://git.io/N3iJvQ
[04:46:26] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[05:02:10] *** Quits: zimbabao (rajaram@11349425.34F57F4.D2D1FAF0.IP) (Ping timeout)
[05:24:47] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:25:11] *** Quits: new_one (new_one@6F9548B7.4BFECEA2.B3C0173E.IP) (Quit: leaving)
[05:36:49] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[05:40:06] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[05:41:48] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[05:55:24] *** Joins: zimbabao (rajaram@47769425.AE842F9B.81C3DAA1.IP)
[06:07:37] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:14:03] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[06:16:20] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[06:16:24] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[06:16:24] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/jsfMSg
[06:16:24] <ghrust> 13rust/06auto 141b16c4e 15Alex Crichton: std: Remove io::io_error...
[06:16:24] <ghrust> 13rust/06auto 147b9e9e4 15Alex Crichton: extra: Remove io_error usage
[06:16:25] <ghrust> 13rust/06auto 14ee99ec9 15Alex Crichton: syntax: Remove io_error usage
[06:16:27] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[06:16:28] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[06:16:28] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e6ed606 to 1462caad2: 02http://git.io/N3iJvQ
[06:16:28] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[06:22:45] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[06:24:15] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:31:26] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[06:31:26] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e65d24d to 1462caad2: 02http://git.io/N3iJvQ
[06:31:26] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[06:32:39] *** Quits: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru) (Quit: Kxepal)
[06:32:55] *** Joins: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru)
[06:35:03] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[06:35:45] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[06:40:50] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[06:42:10] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[06:42:31] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[06:43:07] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[06:46:16] <cmr> So when do we start taking bets on how many times acrichto takes to get #11946 through?
[06:46:20] <cmr> after the 5th attempt?
[06:46:22] <cmr> ;p
[06:46:26] <acrichto> :(
[06:47:01] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Quit: leaving)
[06:47:06] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[06:47:42] <ChrisMorgan> acrichto: what's the largest number of attempts you've had? I recall an eleven.
[06:48:02] <acrichto> oh god some time ago it was like 20
[06:48:15] <acrichto> basically I"m real bad at landing things
[06:48:53] <ChrisMorgan> â€¦ says the man who's landed more stuff than anyone else since he got employed.
[06:49:08] <acrichto> small things :P
[06:49:18] <acrichto> it also helps if it's your job to work on rust lol
[06:49:39] <ChrisMorgan> Oh, sure. But Mozilla made no mistake in hiring you!
[06:52:29] *** Quits: canhtak (canhtak@moz-945C7B49.wl.t.ulaval.ca) (Quit: canhtak)
[06:56:01] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[06:58:15] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Quit: bye)
[07:03:46] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[07:13:39] *** Joins: aurynj (Eon@229E820E.2FF0655C.ABDF2D9D.IP)
[07:14:31] *** Quits: aurynj (Eon@229E820E.2FF0655C.ABDF2D9D.IP) (Connection reset by peer)
[07:14:44] *** flaper87|afk is now known as flaper87
[07:25:09] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[07:25:32] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[07:28:15] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[07:30:34] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Quit: bye)
[07:31:16] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[07:33:54] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[07:39:09] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[07:42:49] *** Joins: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP)
[07:42:51] *** Quits: andrew-d_w (andrew-d_w@4CCE6E0C.339B431B.1E537B93.IP) (Input/output error)
[07:43:14] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[07:43:23] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[07:45:04] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[07:51:34] *** Joins: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net)
[07:56:26] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[07:56:26] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d12ea88 to 1462caad2: 02http://git.io/N3iJvQ
[07:56:26] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[07:56:27] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[07:56:27] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/nfIkvQ
[07:56:27] <ghrust> 13rust/06auto 141b16c4e 15Alex Crichton: std: Remove io::io_error...
[07:56:27] <ghrust> 13rust/06auto 147b9e9e4 15Alex Crichton: extra: Remove io_error usage
[07:56:27] <ghrust> 13rust/06auto 14ee99ec9 15Alex Crichton: syntax: Remove io_error usage
[07:56:29] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[07:59:09] *** Joins: eddyb (eddy@832D2DE5.66315F97.FB866788.IP)
[08:03:19] <eddyb> good morning :)
[08:03:22] <eddyb> doener: any news?
[08:04:22] <cmr> eddyb: I don't know what's more disturbing, the fact that I'm awake for you to sleep twice, or that I notice it.
[08:04:44] <dbaupp> eddyb: did you see the PR https://github.com/mozilla/rust/pull/12004 ?
[08:04:52] <dbaupp> cmr: so you haven't slept in 2 days??
[08:04:52] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[08:05:07] * cmr coughs
[08:05:16] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:05:18] <cmr> well, not today in particular
[08:08:47] <flaper87> eddyb: where are you based?
[08:09:09] <cmr> dbaupp: but it happens more often than I'd like!
[08:09:13] <cmr> that is to say, ever.
[08:09:26] <dbaupp> cmr: sleep is overrated
[08:09:27] <eddyb> flaper87: Romania (GMT+02)
[08:09:41] <dbaupp> (since it's hard to Rust while sleeping)
[08:10:20] <flaper87> dbaupp: the `extern crate` patch is done. I haven't pushed it, though. Gotta split the commit since it does more than it should :P
[08:10:36] * flaper87 doesn't sleep much
[08:10:39] <dbaupp> flaper87: I was such a helpful mentor :P
[08:10:46] <dbaupp> (awesome!)
[08:11:22] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[08:11:27] <flaper87> dbaupp: Oh you were, you told me "Don't think about changing everything right away becase stage0 will forbid you to do that"
[08:11:29] <flaper87> :D
[08:11:37] <eddyb> dbaupp: does Rusting in my head while in bed *not sleeping* count?
[08:11:40] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[08:12:11] <flaper87> eddyb: Italy here ;) most likely you don't care but, just sayin' :D
[08:12:41] <flaper87> I think I said this yday. We should organize a rust devroom for the next fosdem. I missed it this year but I won't next year
[08:12:45] <flaper87> anyway, that's off-topic :D
[08:13:33] <dbaupp> eddyb: nope, anyone can Rust in bed, Rust while asleep is the real skill :P
[08:14:27] <flaper87> dbaupp: btw, the change could've been a literally 2 lines change. I prefered to clean up that method, though.
[08:14:35] <flaper87> anywya, I'll push everything in a bit
[08:14:51] <eddyb> flaper87: I tend to do that as well
[08:15:09] <flaper87> quick question: when is the "an ABI may not be specified here" error supposed to be raised?
[08:15:27] <flaper87> I didn't find a test for that nor figured how to raise it
[08:15:47] <flaper87> sounds like an old deprecation error that could be removed
[08:15:51] <flaper87> eddyb: :D
[08:16:35] <eddyb> "<strcat> eddyb[pc]: why the weird suffix? :P" << that's my old PC that I sometimes join from, when my laptop is overwhelmed by rustc
[08:16:45] <eddyb> (or, yesterday, a stupid opt /dev/zero)
[08:18:45] <dbaupp> flaper87: `extern "Foo" mod a;`
[08:18:54] <dbaupp> it's got a bad span too
[08:19:23] <dbaupp> I guess it could actually be changed to make the `mod` a normal syntax error
[08:19:43] <eddyb> expected `fn` totally makes sense
[08:19:53] <eddyb> test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured
[08:21:01] <eddyb> my IRC client is going nuts :(
[08:21:25] <eddyb> is anyone else from here also on freenode? what's happening there?
[08:22:12] <flaper87> eddyb: I'm on freenode
[08:22:18] <flaper87> it seems to be working just fine
[08:23:04] <eddyb> maybe a DNS thing. #wedontneedthemanyway
[08:24:38] <dbaupp> does anyone happen to know the LLVM patch fixing mergefunc?
[08:24:52] <eddyb> dbaupp: other than strcat?
[08:26:10] <doener> eddyb: mostly that I've been fooling myself yesterday
[08:26:14] <dbaupp> eddyb: yeah
[08:26:23] <dbaupp> since he's not here right now
[08:27:03] <doener> eddyb: that -lower-expect made a difference was because causes a top-level FuntionPass manager to be created. Without that, the one in the ModulePass manager is run twice instead (AFAICT)
[08:32:10] <doener> eddyb: so what we have is that we need to inline once before sroa+instcombine to get the de-virtualization, and then we need another inlining pass to actually inline the de-virtualized call
[08:32:35] <eddyb> doener: can you run rustc with that "dump after each pass" flag? is it possible at all?
[08:32:48] <eddyb> that's much better than blind guessing
[08:33:17] <dbaupp> write a shell script that passes progressively longer --passes args :P
[08:34:43] <eddyb> dbaupp: opt has a "dump after each pass" mode and a flag for it
[08:36:14] <doener> rustc --passes sroa,instcombine,always-inline -S -Z print-llvm-passes --emit-llvm bla.rs
[08:36:25] <eddyb> doener: that's not good
[08:36:44] <doener> that drops the call to Foo::foo(). Drop the last inline, and it's not
[08:36:44] <eddyb> doener: I want to run rustc --opt-level=1 and *see the IR after each pass it does by itself*
[08:37:20] <eddyb> since those passes are added at the end of regular passes
[08:41:54] *** Quits: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru) (Quit: Kxepal)
[08:42:10] *** Joins: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru)
[08:43:49] <ChrisMorgan> So, why `extern crate` rather than `crate`? Would `crate` have any meaning apart?
[08:44:09] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[08:44:31] <eddyb> ChrisMorgan: I could see #[phase(syntax)] crate {...} making *some* sense
[08:44:39] <doener> eddyb: copy the "Pass Arguments" from "rustc -Z print-llvm-passes" and pass them to opt? (You have to remove datalayout, *tti, and targetlibinfo, but opt adds those itself)
[08:45:18] <ChrisMorgan> eddyb: as a place to define procedural macros, I presume?
[08:45:19] <eddyb> doener: but there's like three or four passes listed
[08:45:34] <eddyb> ChrisMorgan: yeah. otherwise I don't see any purpose to it
[08:45:53] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[08:46:34] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[08:46:34] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/Da1oLQ
[08:46:34] <ghrust> 13rust/06auto 141b16c4e 15Alex Crichton: std: Remove io::io_error...
[08:46:34] <ghrust> 13rust/06auto 147b9e9e4 15Alex Crichton: extra: Remove io_error usage
[08:46:34] <ghrust> 13rust/06auto 14ee99ec9 15Alex Crichton: syntax: Remove io_error usage
[08:46:37] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[08:46:56] <eddyb> nmatsakis: ouch, you made copies to the stack non-optional
[08:47:47] <eddyb> nmatsakis: previously, arguments passed by value but with indirection, weren't copied to an alloca
[08:54:31] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:55:11] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:56:18] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[08:59:25] <doener> eddyb: ok, so I've taken a look at the no-opt LLVM code, and that explains why we need to inline twice. Within foo(), we cannot devirtualize, because the call depends on the function argument. But once that is inlined, sroa+instcombine can do their job. And then the second inlining can inline the de-virt call
[09:00:01] <eddyb> doener: but I doubt inline, sroa, and instcombine are all that --opt-level=1 do
[09:00:25] <eddyb> doener: keep in mind that a non-array-yet-indirect argument to foo0 will work just fine
[09:00:34] <eddyb> doener: only with slices does the problem occur
[09:14:09] *** Joins: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[09:15:29] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[09:17:09] <eddyb> doener: but the problem goes away if the closure is not copied to the stack, so I'm fixing that right now
[09:19:33] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[09:24:33] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[09:25:10] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:25:22] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:28:34] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[09:28:34] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:29:10] <eddyb> cmr: any easy way I can have multiple working directories using the same LLVM build dir? can I just link the LLVM dir between them?
[09:29:55] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:29:57] <eddyb> s/build dir/source and build dir/
[09:30:13] <eddyb> I guess the build dir is enough
[09:31:03] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[09:31:10] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:33:17] <eddyb> doener: woo, I fixed at least one possible cause of it
[09:33:46] <doener> :-D
[09:35:14] <eddyb> r? https://github.com/mozilla/rust/pull/12014
[09:36:59] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[09:43:46] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[09:44:24] <flaper87> eddyb: was that introduced recently? or you just found it out?
[09:44:45] <eddyb> flaper87: I think it wasn't copying before nmatsakis' big rvalue change
[09:44:54] <flaper87> eddyb: if it was introduced recently, it would be nice to explicitly say that in the commit summary 
[09:45:20] <flaper87> Just to have a way to track down the source of the bug in the history
[09:45:26] <eddyb> flaper87: though... I think I may need to add the cleanup
[09:46:45] <flaper87> eddyb: oh mmh, probably. I'm not an llvm expert but IIUC what you mean then yeah, you need to.
[09:47:13] <flaper87> damn, I've got to dive into llvm. I'll do that as soon as I fix the pending bugs I've
[09:47:35] <eddyb> flaper87: not LLVM, middle::trans - it should be fine to drop the indirect value from where it is, if it has a dtor
[09:49:31] *** Joins: jsonnull (Thunderbir@26F61E6.CFD9471D.494A0F8B.IP)
[09:50:42] <flaper87> eddyb: yeah, I got that, I just phrase it wrong. Anyway. it would also be useful if you could back that fix up with the output of --emit-llvm
[09:50:49] <flaper87> phrased*
[09:51:48] <SimonSapin> whatâ€™s the gdb magic nowadays to get a stack trace on task failure?
[09:52:33] <SimonSapin> AFAIU "catch throw" stopped working when the runtime moved away from C++
[09:53:16] <flaper87> SimonSapin: breakpoint on run_fail + bt ?
[09:54:19] <eddyb> *rust_fail
[09:54:41] <flaper87> eddyb: erm, rust_fail
[09:54:43] <flaper87> T_T
[09:54:44] <flaper87> :D
[09:54:46] <flaper87> SimonSapin: ^
[09:55:32] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Quit: ZNC - http://znc.sourceforge.net)
[09:55:45] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[09:56:04] <SimonSapin> "rust_fail" is what I was looking for, thanks
[09:57:17] <eddyb> doener: ah HA
[09:59:30] <doener> eddyb: ?
[09:59:43] <eddyb> doener: latest testcase https://gist.github.com/eddyb/5705c1dd292e58ccd210#file-bad-devirtualize-rs
[10:00:10] <eddyb> doener: this mimics "pass by value with indirection"
[10:01:09] <eddyb> doener: if I pass the pointer I guest in Foo::foo, instead of copying the contents to an alloca and passing an address to that, it's optimized just fine
[10:01:35] <eddyb> bleah, so many factors here
[10:02:59] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[10:03:51] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:17:10] <eddyb>     unsafe{args.as_ptr().offset(0)}.foo(&(0, 0))
[10:17:13] <eddyb> that works fine, weird
[10:20:38] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[10:23:24] <eddyb> doener: ./x*/llvm/R*/bin/opt -notti -targetlibinfo -no-aa -tbaa -basicaa -verify -simplifycfg -domtree -sroa -early-cse -lower-expect -targetlibinfo -no-aa -tbaa -basicaa -globalopt -ipsccp -deadargelim -instcombine -simplifycfg -basiccg -prune-eh -inline-cost -always-inline -functionattrs -sroa -domtree -early-cse -lazy-value-info -jump-threading -correlated-propagation -simplifycfg -instcombine -tailcallelim -simplifycfg -reassociate -
[10:23:25] <eddyb> domtree -loops -loop-simplify -lcssa -loop-rotate -licm -loop-unswitch -instcombine -scalar-evolution -lcssa -indvars -loop-idiom -loop-deletion -loop-unroll -memdep -memcpyopt -sccp -instcombine -lazy-value-info -jump-threading -correlated-propagation -domtree -memdep -dse -adce -simplifycfg -instcombine -barrier -domtree -loops -loop-simplify -lcssa -branch-prob -block-freq -scalar-evolution -loop-vectorize -instcombine -simplifycfg -
[10:23:26] <eddyb> strip-dead-prototypes test-devirtualize.no-opt.bc -p 2>| rustfilt | clip
[10:23:44] <SimonSapin> Is there a short version of println!("{:?}", foo)  ?
[10:23:50] <eddyb> SimonSapin: nope
[10:23:58] <dbaupp> SimonSapin: i.e. p!(foo) or something?
[10:24:19] <SimonSapin> dbaupp: something like that
[10:24:22] <eddyb> doener: great, gist can't take the output
[10:24:55] <SimonSapin> a slightly longer name would be fine, but something where I donâ€™t have to write {:?}
[10:25:09] <SimonSapin> which is pretty much always what I want when print-debugging
[10:25:16] <dbaupp> nope, nothing
[10:25:31] <dbaupp> you can define such a macro at the top of your crate, and then all submodules will have it
[10:25:35] <eddyb> doener: --print-after-all is better than -p, it seems
[10:26:40] <dbaupp> do we have a snapshot yet?
[10:29:05] <eddyb> doener: okay, here it is https://gist.github.com/eddyb/5705c1dd292e58ccd210
[10:29:33] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Broken pipe)
[10:29:33] <eddyb> haha, why do we output entry-block1:                                     ; No predecessors!?
[10:29:45] <dbaupp> simplicity?
[10:29:54] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:30:02] <eddyb> dbaupp: we trans the function twice or something
[10:30:02] <doener> eddyb: https://github.com/mozilla/rust/issues/7349 
[10:30:11] <eddyb> DAMMIT
[10:30:19] <eddyb> I should stop dragging things to chrome, crashed again
[10:30:28] <dbaupp> use servo
[10:30:38] <dbaupp> never ever ever crashes :P
[10:30:39] <eddyb> dbaupp: I wish that supported everything I need *sigh*
[10:31:04] <doener> eddyb: guess you're hitting that issue. Nested functions get translated more than once, so they get duplicated bodies
[10:31:16] <eddyb> I should un-nest it then
[10:31:37] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[10:31:38] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:32:48] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[10:33:01] <SimonSapin> dbaupp: filed #12015
[10:33:53] <eddyb> doener: this is getting manageable https://gist.github.com/eddyb/5705c1dd292e58ccd210
[10:34:31] <dbaupp> SimonSapin: cool, but yeah, I don't think there's a way to generate the appropriate format string generically
[10:34:50] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[10:35:01] <eddyb> hmm, we should stop storing pointers in allocas, it's silly
[10:35:24] <eddyb> well, pointer-sized &T in immutable slots
[10:35:35] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[10:36:49] <eddyb> doener: what does lower-expect do? I just see it being removed here
[10:37:55] <doener> eddyb: it should add metadata to the br instruction. But without strcat's patch to LLVM, it doesn't work for the code that we currently generate. So it ends up as a no-op
[10:38:07] <eddyb> lol
[10:38:14] <eddyb> doener: can't we add the metadata ourselves?
[10:38:26] <eddyb> since we generate the branch in the first place
[10:38:38] <dbaupp> is there anyway we can push strcat's patch through?
[10:38:57] <doener> dbaupp: no idea
[10:39:05] <eddyb> doener: I need to make opt wrappers for whatever we use in rustc and have an interactive visualizer of the modifications the passes make on the IR. but I'm not sure it's worth the work
[10:39:55] <eddyb> "Interprocedural Sparse Conditional Constant Propagation" whoa?
[10:40:17] <eddyb> doener: mkay, a module pass is responsible for this
[10:41:03] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[10:42:19] <eddyb> ; Function Attrs: cold noreturn
[10:42:34] <eddyb> doener: I don't really think we need the expect at all
[10:43:06] <dbaupp> flaper87: ping
[10:43:14] <flaper87> dbaupp: pong
[10:43:14] <doener> eddyb: not sure if the cold attribute propagates all the way to the br instruction. 
[10:43:30] <eddyb> doener: can't we add branch attributes ourselves?
[10:43:36] <eddyb> doener: instcombine is what removes the redundant loads?
[10:43:52] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Ping timeout)
[10:43:59] <dbaupp> flaper87: could you submit the remove NonCopyable patch of https://github.com/mozilla/rust/pull/11979 separately?
[10:44:06] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[10:44:10] <dbaupp> flaper87: it's an easy r+ and bors is being lazy :P
[10:44:35] <doener> eddyb: we could, but why bother? And we wouldn't any expect-related improvements from future LLVM versions
[10:44:47] <flaper87> dbaupp: oh ok, you mean before submitting the Drop for static ones
[10:44:48] <flaper87> sure thing
[10:44:58] <flaper87> give me a couple of mins and I'll do that
[10:45:20] <dbaupp> yeah, there's still discussion about the destructor stuff, but removing NonCopyable is a no-brainer, so might as well get that in now :)
[10:46:33] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[10:46:33] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14112c38c to 1462caad2: 02http://git.io/N3iJvQ
[10:46:33] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[10:46:34] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[10:46:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/z2Eeng
[10:46:34] <ghrust> 13rust/06auto 143cb3f09 15Ivan Enderlin: Remove unnecessary trailing commas.
[10:46:34] <ghrust> 13rust/06auto 14be4fc63 15bors: auto merge of #12013 : Hywan/rust/doc, r=sanxiyn
[10:46:34] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[10:46:54] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Quit: ZNC - http://znc.sourceforge.net)
[10:47:25] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[10:48:45] <eddyb> dbaupp, doener: maybe I should add sed -r 's/::h[a-f0-9]{16}[a-zA-Z0-9]*//g' to rustfilt
[10:51:08] <flaper87> dbaupp: running tests, will submit after lunch
[10:51:13] <flaper87> brb
[10:51:36] <eddyb> doener: did you see this? https://gist.github.com/eddyb/3a233c4709018e92b866
[10:51:53] <eddyb> so much less cruft :D https://gist.github.com/eddyb/5705c1dd292e58ccd210
[10:54:08] <doener> nice
[10:54:23] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[10:55:04] *** Joins: jdm (jdm@moz-4AA3652E.cable.virginm.net)
[10:55:20] <dbaupp> flaper87: cool! (I have no idea when lunch is :P )
[10:55:26] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:55:47] <dbaupp> eddyb: now you get to have 4 functions called 'sink' :P
[10:56:01] <eddyb> why?
[10:56:15] <dbaupp> oh, tjey
[10:56:19] <dbaupp> *they're
[10:56:24] <dbaupp> separate pieces of IR
[10:56:30] <dbaupp> how utterly confusing :P
[10:56:43] <eddyb> *** IR Dump After Inliner for always_inline functions ***
[10:56:57] <dbaupp> yup
[10:57:10] <eddyb> wait a second... why is that running on alwaysinline functions and not on their callers? or am I reading this wrong?
[10:57:35] <eddyb> I guess it's opt not dumping the callers
[10:58:36] <eddyb> or... it's being really weird
[11:01:47] <eddyb> doener: this is where the bounds check failure is removed https://gist.github.com/eddyb/5705c1dd292e58ccd210#file-bad-devirtualize-o1-detailed-ll-L3536
[11:02:18] <eddyb> doener: and instcombine produces this https://gist.github.com/eddyb/5705c1dd292e58ccd210#file-bad-devirtualize-o1-detailed-ll-L3593
[11:03:21] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[11:03:51] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:05:09] *** Quits: zimbabao (rajaram@47769425.AE842F9B.81C3DAA1.IP) (Ping timeout)
[11:05:42] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:08:35] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[11:09:30] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[11:13:59] *** Joins: b (b@moz-55CA322E.org)
[11:16:38] *** Joins: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at)
[11:17:01] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[11:18:04] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[11:19:32] *** Quits: jdm (jdm@moz-4AA3652E.cable.virginm.net) (Quit: Lost terminal)
[11:21:17] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[11:24:25] <eddyb> doener: reduced the optimization set considerably https://gist.github.com/eddyb/5705c1dd292e58ccd210
[11:26:31] <eddyb> this is where the devirtualization happens https://gist.github.com/eddyb/5705c1dd292e58ccd210#file-bad-devirtualize-o1-detailed-ll-L1098
[11:26:53] <eddyb> now I have to compare this with the same code for differently sized arguments
[11:29:46] <flaper87> dbaupp: it ended 2 mins ago :P
[11:29:56] <eddyb> doener: whaa, same pass dervirtualizes both of those
[11:30:22] <eddyb> *** IR Dump After Remove unused exception handling info ***
[11:30:41] <eddyb> doener: ^^ that's what inlines the Foo::foo call in other cases
[11:31:33] <eddyb> doener: nope, I'm reading this wrong
[11:32:02] <eddyb> &(u32, u32) isn't devirtualized either, hah
[11:32:55] <eddyb> &uint isn't devirtualized... whaa?
[11:33:22] <dbaupp> eddyb: LLVM doesn't know pointers are valid (except for sret)
[11:33:51] <eddyb> doener: great, I've removed a pass which inlines the devirtualizes Foo::foo for simpler testcases
[11:34:06] <eddyb> *devirtualized (I'm going a bit crazy)
[11:34:28] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Client exited)
[11:35:23] *** Quits: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at) (Client exited)
[11:35:28] *** Joins: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at)
[11:36:26] *** Joins: rca (rcatolino@moz-7840ADE2.adsl.proxad.net)
[11:43:14] <eddyb> doener: okay, real diff. instcombine does the inlining in the general case *after* the devirtualization. this looks like a real LLVM bug now
[11:53:39] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[11:54:00] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:55:40] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[11:55:46] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[11:56:39] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[11:56:39] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/z2Eeng
[11:56:39] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[11:57:11] <eddyb> doener: it looks like "-barrier" is essential
[11:58:18] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[11:58:41] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[12:04:23] <doener> eddyb: what does that do?
[12:04:32] <eddyb> I have no idea
[12:05:01] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[12:05:34] <eddyb> doener: -barrier -instcombine tends to inline the call, but not when it's preceded by a memset
[12:05:45] <doener> // NOTE: DO NOT USE THIS IF AVOIDABLE
[12:05:45] <eddyb> I wonder what uninit() does in this situation
[12:05:52] <eddyb> doener: wait, what?
[12:06:00] <doener> from BarrierNoopPass.cpp
[12:06:33] <doener> something about PassManager nesting
[12:06:58] <flaper87> dbaupp: updated, I gtg, maybe nmatsakis wants to weight in wrt the nofreeze thing. I'm sorry I don't recall the reason. I gtg now!
[12:07:00] <flaper87> cheers
[12:07:06] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[12:07:24] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[12:07:44] *** flaper87 is now known as flaper87|afk
[12:08:40] *** Quits: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru) (Quit: Kxepal)
[12:08:59] *** Joins: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru)
[12:18:15] *** Joins: gwty (gwtypc@CF4D907A.7E542C47.2E2F6049.IP)
[12:22:04] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[12:25:03] *** Quits: rca (rcatolino@moz-7840ADE2.adsl.proxad.net) (Ping timeout)
[12:30:07] <eddyb> https://gist.github.com/eddyb/5705c1dd292e58ccd210#file-good-devirtualize-o1-detailed-ll-L746 vs https://gist.github.com/eddyb/5705c1dd292e58ccd210#file-bad-devirtualize-o1-detailed-ll-L799
[12:31:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:33:10] <eddyb> doener: this is stupid... in one case, instcombine triggers inlining, but in the other case, it doesn't
[12:34:48] <eddyb> doener: okay, it really needs the barrier for some reason
[12:35:22] <doener> eddyb: compare the output of -debug-pass=Structure with and without the barrier
[12:35:29] <doener> eddyb: maybe that gives a clue
[12:37:41] <eddyb> doener: it moves the second instcombine in a separate function pass
[12:38:21] *** Quits: yuriks (yuriks@FAC97ED5.A9CCF389.F3163DCD.IP) (Ping timeout)
[12:38:40] <eddyb> maybe instcombine triggers cost-based inlining?
[12:38:43] <eddyb> *sigh*
[12:39:06] <doener> eddyb: you would see that in your -print-after-all output, wouldn't you?
[12:39:16] <eddyb> not really
[12:39:26] <doener> eddyb: but the extra function pass probably does another dom tree construction, right?
[12:39:55] <eddyb> doener: --print-after-all executes based on the passes you gave to it, not what actually happens behind the scenes
[12:40:10] <eddyb> like inlining triggered by a different pass
[12:40:19] <eddyb> doener: I removed all -domtree's
[12:41:23] <eddyb> doener: replacing -barrier with -domtree doesn't work for the case that optimizes with -barrier
[12:41:57] <doener> eddyb: can you gist the output from Structure thing?
[12:44:28] *** Joins: zimbabao (rajaram@11349425.34F57F4.D2D1FAF0.IP)
[12:47:07] <eddyb> doener: ./x*/llvm/R*/bin/opt -instcombine -barrier -instcombine -debug-pass=Structure /dev/null
[12:49:37] *** Joins: rca (rcatolino@moz-7840ADE2.adsl.proxad.net)
[12:50:46] <doener> eddyb: hm, the barrier might cause the second instcombine after the first pass is run on all functions. While without it, you get to run instcombine twice on test() and then twice on foo().
[12:51:05] <doener> eddyb: and the second instcombine might only work when foo() has already been optimized to some degree
[12:51:57] <eddyb> doener: you are right!
[12:52:15] <eddyb> without -barrier, it runs instcombine twice on each function
[12:52:53] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[12:53:41] <eddyb> doener: now, why does instcombine inline the call to Foo::foo in one case and not the other?
[12:53:55] *** Quits: olsonjeffery (jeff@moz-57D1CF86.compute-1.amazonaws.com) (Quit: WeeChat 0.3.7)
[12:55:10] <doener> eddyb: good question :-) I couldn't follow the code in instcombine far enough to figure that out
[12:55:36] <eddyb> "If the call and callee calling conventions don't match, this call must be unreachable, as the call is undefined."
[12:55:49] <eddyb> ouch, that must've bitten some people in the past - but unrelated
[12:58:21] <eddyb> tryOptimizeCall doesn't seem to be able to do ininling of this kind
[13:01:35] <eddyb> doener: was strcat saying that VLAs botch optimizations? there seems to be nice handling for stacksave/restore in instcombine
[13:02:03] <doener> I wouldn't remember
[13:02:05] *** Quits: zimbabao (rajaram@11349425.34F57F4.D2D1FAF0.IP) (Ping timeout)
[13:02:43] <eddyb> or cmr
[13:05:45] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[13:06:03] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[13:06:13] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:07:56] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[13:08:03] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:12:39] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[13:13:27] *** Quits: gwty (gwtypc@CF4D907A.7E542C47.2E2F6049.IP) (Ping timeout)
[13:15:27] *** Joins: gwty (gwtypc@AD70035F.10600D12.137C914F.IP)
[13:17:02] *** Joins: zimbabao (rajaram@5D0F5A6B.D27DC749.D2D1FAF0.IP)
[13:17:30] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:22:19] *** Quits: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net) (Ping timeout)
[13:22:44] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[13:25:45] *** Quits: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at) (Quit: Leaving.)
[13:25:47] *** Joins: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at)
[13:26:10] *** Quits: gimpf (gimpf@moz-E3AC8484.adsl.highway.telekom.at) (Client exited)
[13:36:02] *** Quits: japaric (japaric@290150F2.C68AB816.F29ED47E.IP) (Ping timeout)
[13:36:25] *** Joins: japaric (japaric@290150F2.C68AB816.F29ED47E.IP)
[13:46:34] *** Joins: olsonjeffery (pf@moz-57D1CF86.compute-1.amazonaws.com)
[13:48:34] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[13:50:07] <eddyb> doener: https://gist.github.com/eddyb/5705c1dd292e58ccd210#file-good-devirtualize-o1-ll-L25-L36 vs https://gist.github.com/eddyb/5705c1dd292e58ccd210#file-bad-devirtualize-o1-ll-L25-L39
[13:50:41] *** Quits: jsonnull (Thunderbir@26F61E6.CFD9471D.494A0F8B.IP) (Quit: jsonnull)
[13:51:29] <eddyb> doener: I still can't find where in instcombine that can be inlined
[13:53:04] <eddyb> [15:51] <d0k> it doesnâ€™t inline, it removes a call with no effect
[13:54:04] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[13:58:06] <eddyb> doener: lol, -functionattrs runs waay too early, that's what makes the difference when there's no side effects
[13:58:39] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[14:04:26] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[14:04:34] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[14:10:26] <doener> eddyb: functionattrs does stuff like readnone?
[14:10:37] <eddyb> doener: yupp
[14:10:48] <eddyb> so I had a false negative
[14:10:58] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[14:15:57] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[14:20:35] <eddyb> doener: not sure the optimization can work at -O1
[14:20:51] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[14:21:20] <eddyb>   %6 = call fastcc i64 @"vec::Container$&$VEC$T::len"({ { void (i8*)**, i8* }*, i64 }* %__adjust)
[14:21:21] <eddyb> eww
[14:24:04] *** Quits: gwty (gwtypc@AD70035F.10600D12.137C914F.IP) (Ping timeout)
[14:25:29] <doener> ouch, that's a call instead of a mov...
[14:26:35] <doener> (or more likely to mov can go away to, and it's just going to use relative addressing)
[14:30:21] <eddyb> doener: it's bad because it's not inlined
[14:32:58] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[14:55:24] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[14:57:10] *** Joins: gwty (gwtypc@3981F4ED.79F5D148.BD94A9D5.IP)
[15:03:03] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[15:03:33] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:03:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:05:15] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[15:06:32] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[15:08:49] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[15:25:40] <eddyb> doener: ok, so this gets me right before devirtualization: opt -basicaa -sroa -lower-expect -instcombine -prune-eh -always-inline -functionattrs -sroa -jump-threading
[15:26:38] <eddyb> doener: and my two testcases look identical
[15:26:54] <eddyb> doener: if -instcombine is added to the mix, one testcase inlines the devirtualized call
[15:30:05] <eddyb> doener: in the case that inlines, -prune-eh -alwaysinline -functionattrs -sroa -jump-threading -instcombine gets ran automatically after an instcombine
[15:32:07] *** Quits: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[15:34:17] *** flaper87|afk is now known as flaper87
[15:38:54] *** Quits: mletterle (michael@moz-CD281E3A.compute-1.amazonaws.com) (Quit: WeeChat 0.3.7)
[15:44:44] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[15:44:57] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[15:45:56] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:04:27] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:07:03] *** Joins: andrew-d_w (andrew-d_w@moz-566A46AA.nat.bb.dnainternet.fi)
[16:10:03] <Yurume> someone in #rust managed to call `spawn` with a normal block (i.e. `spawn({ ... })` instead of `spawn(proc() { ... })`)
[16:10:08] *** Joins: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr)
[16:10:12] <Yurume> that really surprised me
[16:10:20] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[16:10:24] *** Quits: mankyKitty (Instantbir@moz-9B898D95.enst-bretagne.fr) (Quit: mankyKitty)
[16:10:36] <eddyb> Yurume: that's not executing the code inside the block
[16:10:39] <Yurume> well, the normal block turned out to be an infinite loop (i.e. the block evaluates to !)
[16:11:03] <Yurume> but that was very surprising gotcha for me
[16:11:05] <eddyb> it's equivalent to: let x = {...}; spawn(x);
[16:11:59] <Yurume> I'm not saying it is a closure (it is obviously not), it neatly escapes every analysis :S
[16:12:01] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Quit: leaving)
[16:12:54] <Yurume> don't think we can avoid this kind of mistake with lints or so, I just want to share the experience.
[16:13:32] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[16:14:28] <eddyb> Yurume: ExprBlock where a ty_closure with OwnedSigil is wanted?
[16:14:45] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[16:14:49] <eddyb> it's a tad too specific, though
[16:15:53] <Yurume> yeah, I've just added that case to the head-lint to-do list though ;)
[16:20:21] *** Quits: rca (rcatolino@moz-7840ADE2.adsl.proxad.net) (Quit: leaving)
[16:24:07] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:24:15] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:24:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:24:44] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[16:28:41] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[16:40:39] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[16:42:40] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[16:46:44] *** Quits: Kxepal (Miranda@moz-1A176845.pppoe.mtu-net.ru) (Ping timeout)
[16:50:08] *** Joins: Kxepal (Miranda@moz-94E27C3F.pppoe.mtu-net.ru)
[16:54:10] *** Quits: zimbabao (rajaram@5D0F5A6B.D27DC749.D2D1FAF0.IP) (Ping timeout)
[16:55:45] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Client exited)
[16:57:58] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:00:03] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[17:08:36] *** Quits: pauls (pauls@moz-BFEF1F22.ccs.neu.edu) (Quit: Ignore me!!)
[17:11:08] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[17:11:57] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:20:45] <eddyb> doener: I'm totally seeing a rerun of all the passes after an instcombine on "test"
[17:26:27] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[17:26:35] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[17:26:35] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/bYDL5A
[17:26:35] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[17:26:37] *** Joins: rca (rcatolino@moz-7840ADE2.adsl.proxad.net)
[17:27:13] <olsonjeffery> acrichto: ack, sorry.. should've asked you to hold on the r+
[17:27:25] <olsonjeffery> there're more changes.. i was just working through make check on my machine after the last failure
[17:27:32] <olsonjeffery> there're some run-pass tests i have to fix
[17:28:07] <acrichto> olsonjeffery: ah oh
[17:28:08] <acrichto> ok*
[17:28:37] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[17:28:39] <acrichto> olsonjeffery: just ping me when you force-push and I'll cancel the tests
[17:30:35] *** Quits: andrew-d_w (andrew-d_w@moz-566A46AA.nat.bb.dnainternet.fi) (Ping timeout)
[17:32:58] *** jdm is now known as jdm|away
[17:35:06] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[17:37:52] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[17:38:44] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:41:35] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[17:41:35] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a156233 to 14be4fc63: 02http://git.io/N3iJvQ
[17:41:35] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[17:41:36] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[17:41:36] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/qn7Osg
[17:41:36] <ghrust> 13rust/06auto 14ece8a8f 15Alex Crichton: std: Remove io::io_error...
[17:41:36] <ghrust> 13rust/06auto 14ef00c6a 15Alex Crichton: extra: Remove io_error usage
[17:41:37] <ghrust> 13rust/06auto 14b211b00 15Alex Crichton: syntax: Remove io_error usage
[17:41:39] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[17:47:02] *** Quits: japaric (japaric@290150F2.C68AB816.F29ED47E.IP) (Ping timeout)
[17:50:07] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Input/output error)
[17:50:26] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[17:54:14] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:56:07] *** jdm|away is now known as jdm
[17:58:23] <eddyb> doener: HAH I FOUND IT
[17:58:25] <eddyb> kindof
[17:58:28] <eddyb> doener: "while (Iteration++ < MaxIterations && DevirtualizedCall);"
[17:58:54] <eddyb> doener: Analysis/IPA/CallGraphSCCPass.cpp
[17:59:49] <doener> so we need too many iterations?
[18:00:42] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[18:00:42] *** ChanServ sets mode: +ao dherman dherman
[18:01:00] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[18:01:00] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:01:04] <eddyb> doener: nope, it just doesn't recognize the devirtualization
[18:01:11] <eddyb> it's probably too specific
[18:02:13] <doener> ah
[18:03:31] <eddyb>  -debug-pass=Executions is cool
[18:03:38] *** Quits: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net) (Ping timeout)
[18:06:28] <eddyb> doener: but they look quite similar *sigh*
[18:06:52] <eddyb> doener: something doesn't recompute the call graph
[18:09:23] <cmr> eddyb: no they botch stack size analysis. it requires re-probing the stack size, or touching more pages.
[18:09:56] <eddyb> ohh, that, I remember how alloca was touching pages
[18:10:54] <eddyb> cmr: what if they are resolved to a constant size? if they optimize out, they could be useful in reducing stack usage for things like printing numbers
[18:11:20] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:11:27] <cmr> that's not so bad
[18:11:53] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.1)
[18:12:19] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:18:02] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[18:21:35] *** Joins: yuriks (yuriks@6A0B4D7B.A9CCF389.F3163DCD.IP)
[18:26:13] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[18:27:22] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[18:29:19] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[18:31:01] *** Joins: new_one (new_one@7245A2DE.AAAF9A7F.B3C0173E.IP)
[18:33:47] <eddyb> doener: I can reproduce it without the built-in bounds check *sigh*
[18:41:35] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[18:41:35] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ccf463f to 14be4fc63: 02http://git.io/N3iJvQ
[18:41:35] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[18:41:37] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:41:37] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/DCTmLA
[18:41:37] <ghrust> 13rust/06auto 14ece8a8f 15Alex Crichton: std: Remove io::io_error...
[18:41:37] <ghrust> 13rust/06auto 14ef00c6a 15Alex Crichton: extra: Remove io_error usage
[18:41:37] <ghrust> 13rust/06auto 14b211b00 15Alex Crichton: syntax: Remove io_error usage
[18:41:39] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[18:42:13] <acrichto> round 10, fight!
[18:42:18] <nmatsakis> eddyb: (re: the alloca thing, I was aware that I was introducing an additional alloca. I just didn't think the improved generated code was worth the complication of the code used to achieve it. But the diff in your PR was small enough it looked good to me.)
[18:42:37] <eddyb> nmatsakis: oh hey :)
[18:44:25] <eddyb> nmatsakis: right now I'm fighting LLVM to devirtualize a weird case
[18:44:45] <eddyb> well, it devirtualizes, but it doesn't think it did and that results in missing optimizations
[18:46:19] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:46:50] *** Joins: gimpf (gimpf@moz-2E64FEA7.adsl.highway.telekom.at)
[18:49:12] <nmatsakis> acrichto: flaper87: https://github.com/mozilla/rust/pull/11979/files#r9393923
[18:49:21] <nmatsakis> acrichto: flaper87: what do you think? (static items == POD only)
[18:49:39] * nmatsakis tries to remember what the desiderata were
[18:49:43] <nmatsakis> maybe that's not quite right,
[18:49:46] <nmatsakis> if we want static atomic values.
[18:50:32] <acrichto> nmatsakis: yeah static atomics was the reason we wanted non-pod things
[18:51:02] <acrichto> nmatsakis: the destructor limitation I wanted is that things "don't need cleanup" because we don't know when to run them
[18:53:38] *** Joins: pauls (pauls@moz-BFEF1F22.ccs.neu.edu)
[18:53:57] <eddyb> can't static atomics be Pod?
[18:54:15] <acrichto> you don't want them to be copyable
[18:54:23] <acrichto> regardless of where they are
[18:54:29] <strcat> NoPod makes something non-copyable without a dtor though
[18:54:57] <eddyb> the compiler can differentiate between non-copyable and "has a dtor"
[18:55:05] <acrichto> that's what Pod is for
[18:55:22] <acrichto> statics == no dtors, but you still want noncopyable statics
[18:56:52] <strcat> my LLVM patch was finally committed ;p
[18:57:08] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[18:57:15] <strcat> maybe I'll add a dereferenceable attribute now
[18:57:45] <acrichto> oh man I think LLVM also fixed the windows build issues so upgrades are even easier now
[18:58:02] <acrichto> "just hit go"
[18:58:39] <nmatsakis> acrichto: yes it seems like we just want a new category that doesn't cleanly map to any existing category
[18:58:50] <nmatsakis> acrichto: in particular I imagine we want to rule out @T
[18:58:57] <nmatsakis> acrichto: or GC<T> or however it's spelled
[18:59:02] <acrichto> nmatsakis: yeah I'd believe that
[18:59:05] <nmatsakis> acrichto: which doesn't have a dtor, but is still nonsensical
[18:59:12] <acrichto> I didn't realize "no drop glue" was not a thing in the typesystem yet
[19:00:01] <strcat> I forgot that a priority queue can be a lot faster without unwinding
[19:00:12] <strcat> and sorts can be faster
[19:03:21] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[19:03:32] <eddyb> strcat: which one :D?
[19:03:39] <strcat> hm?
[19:04:07] * flaper87 is back
[19:04:18] <strcat> well I'm used to writing exception safe code so I forgot I didn't need to be doing that in rust-core
[19:04:47] <strcat> although the priority queue in libextra (or wherever it will be) currently depends on the drop flag to be unwind safe
[19:05:13] <eddyb> strcat, doener: no slices, still pretty good testcase https://gist.github.com/eddyb/5705c1dd292e58ccd210#file-bad-devirtualize-rs and I only need -always-inline -sroa -jump-threading -instcombine to reproduce
[19:06:57] <eddyb> maybe I can try with bare functions again, instead of the trait nonsense
[19:07:24] <flaper87> nmatsakis: acrichto mmh, so, the idea is to add a new category ?
[19:07:54] <acrichto> flaper87: yeah, it'd be under a different name, but the category is types suitable for statics
[19:08:04] <nmatsakis> flaper87: Yeah, I think you should rename the thing you added which was just has-dtor to something like "safe_for_static", and exclude owned, managed, and has-dtor
[19:08:15] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:09:05] <eddyb> doener: it's weird how closures and emulating a trait object work just fine... we must be doing something wrong with traits
[19:09:13] <flaper87> nmatsakis: acrichto yeah, makes sense to me. I didn't think about ~"" when working on that patch. 
[19:09:31] <flaper87> The summary is that we don't want things that need clean up in statics
[19:09:56] <acrichto> flaper87: yeah
[19:10:34] <flaper87> nmatsakis: also, I changed type_is_pod content but I think it'd be safe to remove it completely. It's not being used anywhere
[19:10:43] <flaper87> I guess we could re-add it later if we need it
[19:11:07] <nmatsakis> flaper87: ok, if it's dead just kill it.
[19:11:28] <flaper87> nmatsakis: acrichto cool, thanks for the feedback guys!
[19:13:47] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:28:12] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[19:29:52] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[19:31:58] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:40:24] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:40:29] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:47:33] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[19:52:13] *** TimAbraldes is now known as tabraldes
[19:52:54] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:52:54] *** ChanServ sets mode: +qo brson brson
[19:53:20] <brson> strcat: ping
[19:53:24] <strcat> brson: pong
[19:53:45] <brson> strcat: morning. how's it going?
[19:53:48] <strcat> okay
[19:54:28] <strcat> my trivial LLVM patch was accepted! :P
[19:55:19] <doener> strcat: the expect one?
[19:55:24] <strcat> yes
[19:55:26] <doener> nice
[19:55:59] *** tabraldes is now known as TimAbraldes
[19:56:37] *** TimAbraldes is now known as tabraldes
[19:56:40] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[19:56:40] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/DCTmLA
[19:56:40] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[19:57:15] <doener> hm, found a bug in my lifetime patch
[20:00:12] *** tabraldes is now known as TimAbraldes
[20:01:45] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:01:45] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/xuuVhg
[20:01:45] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:02:04] <brson> strcat: what's the expect llvm patch?
[20:02:29] <flaper87> nmatsakis: checking the OwnsManaged and OwnsOwned bits should be enough to figure if it's a managed / owned pointer. right?
[20:02:33] <strcat> brson: https://github.com/llvm-mirror/llvm/commit/e6562c508858ac6c2003d912ccf289b45bc52b3a
[20:02:40] <strcat> just a little one...
[20:02:46] <doener> http://llvm-reviews.chandlerc.com/D2034
[20:02:49] <strcat> now that they finally merged it I will do more substantial stuff :P
[20:03:07] <flaper87> nmatsakis: checking those bits make things like: `rtabort!(" assertion failed: {}", stringify!($arg));` fail
[20:03:14] <brson> strcat: congrats
[20:04:04] <flaper87> nmatsakis: not sure why those have a static lifetime, though! 
[20:04:24] <flaper87> nmatsakis: anyway, it looks like I'm exlcuding more things than I should
[20:04:25] <nmatsakis> flaper87: perhaps expand out the macros?
[20:04:42] <nmatsakis> flaper87: "--pretty expanded"
[20:05:09] <nmatsakis> flaper87: I'm guess there are some instances of "static bytes: &'static [...] = [...]", but why that should fail your check I don't know
[20:06:00] <strcat> weird
[20:06:02] <flaper87> nmatsakis: `static DEFAULT_ERROR_CODE: int = 101;` that fails to. 
[20:06:25] <flaper87> nmatsakis: the check is !(has_dtor || owns_owned || owns_managed)
[20:06:33] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:06:33] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/xuuVhg
[20:06:33] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:06:34] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[20:06:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ENBiTA
[20:06:34] <ghrust> 13rust/06auto 14fdb820a 15OGINO Masanori: Move semver out of libextra....
[20:06:34] <ghrust> 13rust/06auto 145ad8f79 15bors: auto merge of #12012 : omasanori/rust/semver, r=alexcrichton...
[20:06:34] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[20:06:39] <nmatsakis> flaper87: huh. ok, SOMETHING fishy
[20:07:05] <flaper87> nmatsakis: yeah, I think in the part that sets the OwnsOwned bits!
[20:07:16] <flaper87> nmatsakis: I wanted to double check with you. let me dig into this
[20:07:40] <nmatsakis> flaper87: that'd be my guess. 
[20:15:21] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[20:16:21] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:16:21] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:21:16] <flaper87> nmatsakis: erm, nevermind! It was my bad
[20:21:20] <flaper87> )
[20:21:21] <flaper87> :)
[20:26:20] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[20:28:48] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[20:28:58] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[20:29:18] <doener> hm, in drop_ty there is a comment that reads "NB: v is an *alias* of type t here, not a direct value"
[20:29:37] <doener> does *alias* mean *pointer* here?
[20:30:48] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[20:32:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:37:07] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[20:40:34] <flaper87> acrichto: r? https://github.com/mozilla/rust/pull/12016
[20:40:58] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[20:40:58] *** ChanServ sets mode: +ao dherman dherman
[20:41:10] <flaper87> nmatsakis: r? https://github.com/mozilla/rust/pull/11979
[20:41:33] <flaper87> nmatsakis: I guess the #12016 should be approved first
[20:42:17] <flaper87> do you guys know if something was done around this? https://github.com/mozilla/rust/issues/9228 I don't recall
[20:44:04] <nmatsakis> doener: it means "pointer", yes
[20:44:56] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[20:44:56] <eddyb> doener: sorry, I didn't bother to change the comments to something meaningful :S
[20:46:06] <doener> no worries, just wanted to make sure that I'm not missing something
[20:56:52] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[20:58:34] *** Quits: eddyb (eddy@832D2DE5.66315F97.FB866788.IP) (Ping timeout)
[20:58:34] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:59:14] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:00:49] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:00:49] *** ChanServ sets mode: +qo brson brson
[21:01:23] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:01:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:02:49] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[21:02:54] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[21:07:40] <acrichto> brson: do you have the ip of mac5? it just ran out of disk space
[21:08:09] <brson> acrichto: 10.250.5.63
[21:11:36] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[21:11:36] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145ad8f79 to 14cb40eba: 02http://git.io/N3iJvQ
[21:11:36] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[21:11:36] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[21:11:36] <ghrust> 01[13rust01] 15bors pushed 10 new commits to 06auto: 02http://git.io/uIaHSw
[21:11:36] <ghrust> 13rust/06auto 14b00147a 15Alex Crichton: Add an AtomicU64 type to std::sync::atomics...
[21:11:36] <ghrust> 13rust/06auto 14b5f1979 15Alex Crichton: Enable the +v7 feature on Android by default...
[21:11:37] <ghrust> 13rust/06auto 14a417de9 15Alex Crichton: extra: Make room for more sync primitives
[21:11:39] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[21:13:12] *** Quits: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com) (Client exited)
[21:21:07] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[21:22:19] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Input/output error)
[21:22:38] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[21:24:24] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[21:25:47] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:28:23] *** Quits: new_one (new_one@7245A2DE.AAAF9A7F.B3C0173E.IP) (Client exited)
[21:29:41] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[21:31:32] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[21:42:53] *** Joins: ecr (chatzilla@moz-CC701484.dhcp4.washington.edu)
[21:49:39] *** Joins: andrew-d_w (andrew-d_w@moz-A89AD7F2.nat.bb.dnainternet.fi)
[21:49:49] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[21:50:18] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:50:53] *** Quits: andrew-d_w (andrew-d_w@moz-A89AD7F2.nat.bb.dnainternet.fi) (Input/output error)
[21:51:17] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[21:52:05] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[21:53:10] <flaper87> is there a rule to remove an Obsolete warning from parser/obsolete.rs ?
[21:53:40] <flaper87> I mean, something like "We never remove them" or "They've to be around for at least 2 releases before you can remove them"
[21:54:14] <flaper87> the replacement of extern mod with `extern crate` is a good moment to remove 2 Obsolete errors.
[21:54:44] <flaper87> ObsoleteExternModAttributesInParens and
[21:54:46] <flaper87>     ObsoleteNamedExternModule
[21:54:48] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:54:50] <flaper87> ops
[21:55:03] <flaper87> well, yeah, those are the 2 obsolete errors I removed.
[21:55:17] <flaper87> they both have been around for at least 1 release
[21:55:28] <flaper87> brson: acrichto ^
[21:57:38] <brson> flaper87: they can stick around until they are useless or prevent further development
[21:57:53] <brson> not forever
[21:58:35] <flaper87> brson: ok, then I just removed them because both cases won't be hit after this refactor and I think they're useless since at this point I expect folks to already be aware about those 2 changes
[21:58:50] <brson> flaper87: ok
[21:58:56] <flaper87> brson: thanks :)
[22:02:46] *** Quits: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca) (Quit: canhtak)
[22:05:42] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:06:18] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:10:56] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[22:13:01] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:15:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:17:00] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:21:42] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[22:21:42] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/uIaHSw
[22:21:42] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:22:03] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[22:26:45] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[22:26:45] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/cU7tUw
[22:26:45] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:28:43] *** Joins: japaric (japaric@DA9B0B44.F596884F.F29ED47E.IP)
[22:31:43] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[22:31:43] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/7DXYsA
[22:31:43] <ghrust> 13rust/06auto 14fdb820a 15OGINO Masanori: Move semver out of libextra....
[22:31:44] <ghrust> 13rust/06auto 1434374cf 15bors: auto merge of #12012 : omasanori/rust/semver, r=alexcrichton...
[22:31:44] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:32:14] *** Joins: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP)
[22:34:08] *** Quits: lpy (lpy@B744D17C.B31F127E.E99F7FDB.IP) (Ping timeout)
[22:49:44] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:53:23] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[22:57:08] *** Quits: rca (rcatolino@moz-7840ADE2.adsl.proxad.net) (Ping timeout)
[22:58:56] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[22:59:59] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:59:59] *** ChanServ sets mode: +o tjc
[23:05:20] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:05:20] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:05:49] <acrichto> pcwalton: https://github.com/mozilla/rust/issues/10613
[23:06:45] <pcwalton> acrichto: thanks
[23:09:49] <flaper87> damn, I've to rebase the patch! T_T
[23:11:45] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[23:11:45] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1434374cf to 14d42521a: 02http://git.io/N3iJvQ
[23:11:45] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[23:11:46] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[23:11:46] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ztHXlg
[23:11:46] <ghrust> 13rust/06auto 14fdb820a 15OGINO Masanori: Move semver out of libextra....
[23:11:46] <ghrust> 13rust/06auto 14fde11e7 15bors: auto merge of #12012 : omasanori/rust/semver, r=alexcrichton...
[23:11:47] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[23:17:07] <flaper87> acrichto: r? https://github.com/mozilla/rust/pull/12016
[23:17:24] <flaper87> I had to rebase it. There were some conflicts in atomics.rs
[23:17:54] <flaper87> acrichto: if that looks good, could you please r+ this one too? https://github.com/mozilla/rust/pull/11979
[23:18:13] <flaper87> nmatsakis: already r+ it but it depends on #12016 
[23:18:19] <flaper87> thanks :)
[23:19:44] <acrichto> flaper87: I thought nmatsakis recommended not having the has_dtor accesor?
[23:19:48] <acrichto> (I may be remembering incorrectly)
[23:20:32] <flaper87> acrichto: he recommended removing it but we need it to check if ty has a dtor. I did remove type_has_dtor, though.
[23:20:45] <acrichto> ah ok
[23:20:52] <flaper87> acrichto: has or owns something w/ a dtor
[23:23:01] <flaper87> acrichto: thanks! 
[23:24:22] *** flaper87 is now known as flaper87|afk
[23:31:02] *** Joins: canhtak (canhtak@moz-8A625E1D.wl.t.ulaval.ca)
[23:31:28] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[23:32:48] *** Joins: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP)
[23:34:35] *** Quits: lpy (lpy@51E8C831.DDD9F058.E99F7FDB.IP) (Ping timeout)
[23:40:37] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[23:43:12] <acrichto> pcwalton: also, the mutexes have landed
[23:43:20] <pcwalton> acrichto: \o/ awesome!
[23:43:44] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Input/output error)
