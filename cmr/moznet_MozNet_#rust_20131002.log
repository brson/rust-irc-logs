[00:00:39] *** Joins: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net)
[00:01:00] *** Joins: MauricioC (mauricioc@moz-2CFCD404.impa.br)
[00:01:20] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[00:01:58] <erickt_> jeaye: we could add a helper fn to c_str that's `fn str_from_c_str(size: uint, f: &fn(*c_char, uint) -> uint) -> ~str` that allocates a zeroed out buffer, passes it to some fn that returns the size written to that buffer, and converts it into a string
[00:02:06] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[00:02:40] <tikue_> is there a wrapper for Reader that reads line by line?
[00:03:23] <erickt_> tikue_: there's Reader.read_line
[00:03:35] <tikue_> erick, it doesn't look like that's defined on the trait? 
[00:04:04] <erickt_> tikue_: try ReaderUtil. I thought I merged Reader and ReaderUtil
[00:04:13] <tikue_> oh ok
[00:05:15] <tikue_> erick, where is reader util  located? extra?
[00:05:20] <jeaye> This is what I ended up with, erickt_ https://gist.github.com/jeaye/d7e751b58f93077de85b
[00:05:25] <jeaye> Look alright?
[00:05:30] <erickt_> tikue_: it's in std::io
[00:05:35] <jeaye> (it compiles!)
[00:05:37] <tikue_> ah
[00:05:54] <jeaye> Had to cast from u8 to i8
[00:06:14] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[00:06:15] <jeaye> *u8 to *i8, that is
[00:06:33] <tikue_> erick, ah i see. you're right. impl<T: Reader> ReaderUtil for T
[00:06:53] <erickt_> jeaye: yeah, it's annoying casting back and forth between i8 and u8
[00:07:12] <strcat> it's funny because LLVM only has i8
[00:07:17] <jeaye> hah
[00:07:33] <erickt_> jeaye: you need to also update the length of that string
[00:07:38] <strcat> two's complement signed integers use the same operations as unsigned integers
[00:07:42] <strcat> they are identical
[00:08:11] <strcat> the difference is whether you treat the sign bit as a sign when casting
[00:08:17] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[00:08:19] <benh> Where does the documentation for format! live again?
[00:08:26] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[00:08:28] <jeaye> (put it in the /topic!)
[00:08:37] <strcat> benh: std::fmt?
[00:08:49] <benh> doh
[00:08:59] <benh> I was looking at libsyntax/ext/...
[00:09:03] <benh> Thank you
[00:09:24] <jeaye> erickt_: Hmm, that's not as easy as it sounds.
[00:09:43] <jeaye> Since I don't think this guy returns how much it copied.
[00:10:06] <jeaye> Returns ERR or OK. -_-
[00:10:39] <erickt_> jeaye: I suppose you could scan for a trailing null
[00:10:52] <jeaye> Yup, that's the only thing I can think of.
[00:11:49] <myname> strangely i'm not able to find what the method for str was named to iterate over chars
[00:12:31] <tikue_> erickt_, ah ReaderUtil only works with old rt?
[00:12:33] <tikue_> old io i mean
[00:12:49] <erickt_> tikue_: Dunno, I haven't used the new rt :)
[00:12:55] <tikue_> oh i c
[00:13:03] <erickt_> there may be an equivalent fn for the new rt
[00:13:29] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[00:13:31] *** Quits: sglez (sglez@4014B9B9.FB17712F.B7838CA6.IP) (Quit: Leaving)
[00:13:46] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[00:13:51] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[00:14:03] *** Quits: yonran (yonran@moz-962F33EB.acuitus.com) (Ping timeout)
[00:14:25] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[00:14:38] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[00:14:43] *** Quits: skade (skade@moz-EC93E8A9.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:15:58] *** Quits: rbarker (rbarker@moz-BBE3ABD.mv.mozilla.com) (Input/output error)
[00:16:21] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[00:17:24] <erickt_> regarding https://github.com/mozilla/rust/pull/9613, does anyone know if our structs are still directly compatible with c structs?
[00:17:24] *** Joins: skade (skade@moz-EC93E8A9.dip0.t-ipconnect.de)
[00:17:37] <tikue_> is there any way to prevent this -- (expected trait std::rt::io::Writer but found trait std::rt::io::Stream)
[00:17:39] <tikue_> without casting?
[00:17:58] <jeaye> erickt_: https://gist.github.com/jeaye/d7e751b58f93077de85b
[00:18:21] <dbaupp> erickt_: I believe they are
[00:19:06] *** Quits: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) (Quit: Leaving.)
[00:19:53] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:20:12] <benh> rusti: println!("{2:#>1$}{}{2:#<1$}", "pretend raw string literal", 4, '"')
[00:20:13] -rusti- ###"pretend raw string literal"###
[00:20:13] -rusti- ()
[00:20:35] <erickt_> jeaye: I think you want to search in the other direction
[00:20:42] <benh> I feel vaguely bad about this but if format! already supports padding with a given character...
[00:20:48] <dbaupp> rusti: println!("r{2:#>1$}{}{2:#<1$}", "pretend raw string literal", 4, '"')
[00:20:49] -rusti- r###"pretend raw string literal"###
[00:20:49] -rusti- ()
[00:20:58] <dbaupp> benh: you missed the r :P
[00:21:03] <benh> yeah :D
[00:21:04] <dbaupp> benh: that's pretty magical though
[00:21:22] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[00:21:24] <jeaye> erickt_: Ah, as an optimization?
[00:21:30] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[00:21:47] <erickt_> no, because the result could write "foo\0
[00:21:49] <erickt_> err
[00:21:53] <benh> Is "do n.times {}" or "for _ in range(0, n) {" prefered these days?
[00:21:56] <erickt_> "foo\0\0\0\0\0\0..."
[00:21:58] <dbaupp> rusti: format!("r{hashes}\"{string}\"{hashes}", string="foobarbaz", hashes="#".repeat(4))
[00:21:59] -rusti- ~"r####\"foobarbaz\"####"
[00:22:11] <jeaye> erickt_: Right, and I'm going from [0] upward.
[00:22:14] <dbaupp> benh: for string repetition, .repeat
[00:22:18] <jeaye> Which will handle that.
[00:22:20] <benh> ah!
[00:23:45] <erickt_> jeaye: oops, right you are. It would be faster though to do `s.byte_iter().position(|x| *x == 0)`. That should eliminate the bounds check on each byte
[00:24:27] <jeaye> Sounds good to me. Thanks for the help
[00:24:43] *** Joins: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[00:24:48] <benh> but repeat has to allocate again, that's no good
[00:25:02] <dbaupp> benh: it's not that bad, is it?
[00:25:09] <Amaranth> erickt_: Is the bounds check more expensive than the closure overhead?
[00:25:12] <engla> erickt_: just .find()
[00:25:18] <dbaupp> benh: (but yeah, using the padding is pretty fancy)
[00:25:46] <erickt_> engla: oh cool, I didn't know about that fn
[00:25:51] <engla> rusti: "hi\0".find('\0')
[00:25:52] -rusti- Some(2u)
[00:25:58] <erickt_> Amaranth: the closure should get optimized away
[00:26:05] <engla> erickt_: it uses the only-ascii optimization too for this case
[00:26:29] <kmc> I bet LLVM will hoist the bounds-check anyway, but agreed to use iterators when possible
[00:27:25] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[00:27:42] <engla> Amaranth: there may be optimization hurdles in the closures (according to strcat) but in the end it will be inlined so no function call overhead is left
[00:27:55] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:28:31] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[00:28:31] *** ChanServ sets mode: +ao brson brson
[00:28:40] <erickt_> pcwalton: ping
[00:29:28] *** Quits: MauricioC (mauricioc@moz-2CFCD404.impa.br) (Ping timeout)
[00:29:42] <pcwalton> erickt_: pong
[00:29:55] *** Quits: nejucomo (Adium@moz-B62B9944.public.monkeybrains.net) (Ping timeout)
[00:30:16] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:30:32] <erickt_> pcwalton: hey there! now that I finally set up http://www.meetup.com/Rust-Bay-Area/, are you still interested/available in doing a presentation?
[00:30:43] * ChrisMorgan doesn't like the way we're having to guess constantly about what LLVM will or won't optimise.
[00:30:44] <aatch> stack closures are, more often than not, inlined.
[00:30:47] <pcwalton> sure, I'd love to give presentations
[00:30:47] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[00:30:54] <jeaye> Thanks, engla. Does that match? https://gist.github.com/jeaye/d7e751b58f93077de85b
[00:31:32] <erickt_> pcwalton: potentially at the SF Mozilla office if I can get one of mozzillians to reserve a spot for us :)
[00:31:59] <Amaranth> ChrisMorgan: It's not as bad as Haskell at least, it's hard to figure out what the compiler will do there and if you fail an optimization pass your code can easily be 10x slower
[00:32:10] <erickt_> pcwalton: awesome! got a sense of when you'd be able to present something?
[00:32:13] <aatch> ChrisMorgan, eh, we mostly know at least what LLVM *should* optimize. Even if sometimes LLVM doesn't like the generated code.
[00:32:35] <tikue_> when using write!(), if i do `let writer = option.get_mut_ref() as &Writer`, and then write!(writer, "foo"), it says "cannot move out of captured outer variable"
[00:32:37] <jeaye> erickt_: Were you at the last Bay Area meetup?
[00:32:42] <tikue_> is this a problem with the write! macro?
[00:32:55] <erickt_> jeaye: at the Tied House? Yeah, I was there
[00:33:09] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:33:11] <jeaye> Man, I don't remember anyone. 
[00:33:12] <erickt_> jeaye: I organized it :)
[00:33:17] <jeaye> haha
[00:33:27] *** Quits: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[00:33:39] <aatch> ChrisMorgan, mostly we just aren't sure about some of the more advanced ones, like vectorization.
[00:34:18] <ChrisMorgan> aatch: shouldn't you be spelling that vectorisation?
[00:34:28] <erickt_> jeaye: I'm thinking about organizing another dinner too since we might not have a lot of presenters at the moment
[00:34:28] <aatch> ChrisMorgan, probably
[00:34:46] <jeaye> erickt_: Sounds good to me.
[00:34:50] <aatch> I forget how to spell things since I'm english but am a programmer.
[00:35:00] <pcwalton> erickt_: I can always give my stock sprocketnes preso
[00:35:03] <aatch> I struggle a lot with "colour"
[00:35:03] <pcwalton> whenever
[00:35:39] <strcat> ChrisMorgan: seems to usually be called vectorization
[00:36:08] <ChrisMorgan> strcat: that's for citizens of the United States of America. Australians and New Zealanders are not constrained to such rules.
[00:36:21] <erickt_> all: does anyone have a day of the week preference for meetups?
[00:36:38] <jeaye> erickt_: Weekends are ideal for me.
[00:36:57] <aatch> strcat, commonly the "-zation" suffix is actually "-sation" in British (and Commonwealth) English.
[00:37:08] <jeaye> Though I'm in SF every weekday for work, so I can manage either way.
[00:37:48] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[00:38:00] <Luqman> aatch: i try to sneak in colour where i can :P
[00:38:35] <erickt_> pcwalton: How's your availability during the week of 10/14-10/18?
[00:38:37] <ChrisMorgan> strcat: you won't get us with your en_US. We'll continue speaking en_AU and en_NZ. :-)
[00:38:47] <pcwalton> that's the week after the summit, I guess?
[00:39:03] <erickt_> two weeks after. summit is this week :)
[00:39:07] <aatch> ChrisMorgan, don't forget en_GB (I live in NZ, not from here)
[00:39:27] <erickt_> err
[00:39:34] <Amaranth> You have to go out of your way to get en_NZ though. You should be lazy and just use en_US
[00:39:38] <ChrisMorgan> aatch: I was speaking about the two of us. There are plenty of others that use s instead of z. en_IN for example.
[00:39:44] <erickt_> pcwalton: my math skills / calendar reading skills are terrible :)
[00:39:46] <strcat> ChrisMorgan: en_CA*
[00:41:23] <mcpherrin> erickt_: Want to do tied house again?  I like their food and live down the street ;)
[00:41:49] <erickt_> mcpherrin: I'm up for it
[00:41:49] <aatch> strcat, hmm, doesn't Canada use British spelling normally?
[00:41:56] <strcat> aatch: uh, more of a mix
[00:42:06] <strcat> depends on which canadian you ask
[00:42:34] <mcpherrin> I'm vectorization, colour.
[00:42:36] <Luqman> for most things either is valid afaik
[00:42:45] <strcat> mcpherrin: yep, same
[00:42:56] <erickt_> mcpherrin: heck, I'm free tonight, we could do an impromptu meetup if anyone else is free :D
[00:43:14] <strcat> the right way is whatever I've been misled to think is correct
[00:43:14] * ChrisMorgan is disappointed that http://www.reddit.com/r/rust/comments/1n8xn3/where_are_you/ only sports three Australians and no New Zealanders
[00:43:22] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Client exited)
[00:43:23] <mcpherrin> erickt_: tonight is bad for me (I've got an instacart delivery I should be home for) but this week is otherwise good
[00:43:41] <mcpherrin> for impromptu meetups or whatever
[00:43:57] <erickt_> mcpherrin: I can't the rest of this week, but feel free to propose something on the meetup
[00:43:58] *** Quits: zz_kimundi (kimundi@moz-F02A6FA4.dip0.t-ipconnect.de) (Ping timeout)
[00:46:26] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[00:46:56] <aatch> ChrisMorgan, added myself to the list. Now there is NZ on the list
[00:48:06] *** Joins: zz_kimundi (kimundi@moz-27245F78.dip0.t-ipconnect.de)
[00:48:19] <erickt_> mcpherrin: actually, I
[00:48:21] *** zz_kimundi is now known as kimundi
[00:48:32] <erickt_> mcpherrin: 'll propose something with the date tbd
[00:48:40] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[00:49:42] *** Quits: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[00:53:39] <erickt_> pcwalton: I got to run now, so I'll continue this meetup chat over email
[00:53:46] <pcwalton> ok, cool :)
[00:56:06] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[00:56:23] <jeaye> Can I get a FILE* from an io Reader/Writer?
[00:56:52] <jeaye> I see http://static.rust-lang.org/doc/master/std/io/struct.FILERes.html
[00:57:09] <tikue_> what is the best way to write a string into a [u8] buffer?
[00:57:14] *** Quits: Larry (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:57:15] <tikue_> is there like, into_buf()
[00:57:52] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[00:58:13] <mcpherrin> rusti: ~"tikue_".into_bytes()
[00:58:16] -rusti- <anon>:7:10: 8:5 error: type `&'static str` does not implement any method in scope named `into_bytes`
[00:58:16] -rusti- <anon>:7          ~"tikue_".into_bytes()
[00:58:16] -rusti- <anon>:8     };
[00:58:16] -rusti- error: aborting due to previous error
[00:58:16] -rusti- application terminated with error code 101
[00:58:27] <mcpherrin> rusti: (~"tikue_").into_bytes()
[00:58:28] -rusti- ~[116u8, 105u8, 107u8, 117u8, 101u8, 95u8]
[00:58:28] <tikue_> mcpherrin, i meant, i want to put a string into a buffer
[00:58:40] <tikue_> i already have allocated space
[00:59:06] *** Joins: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net)
[00:59:21] <benh> huh, i must be doing this wrong. why would use std::str; ... str::with_capacity work but not std::str::with_capacity?
[00:59:47] <mcpherrin> benh: need a "use std;" maybe?
[01:00:06] <SiegeLord> Probably prelude shenanigans
[01:00:14] <SiegeLord> Maybe try ::std::str::with_capacity
[01:00:21] <dbaupp> tikue_: something like, vec::bytes::copy_memory(buf, string.as_bytes(), len)
[01:00:32] * dbaupp thinks that len arg should be removed
[01:00:40] <tikue_> dbaupp, ah ok thanks
[01:00:54] <benh> ah, that seems to do it
[01:01:09] <mcpherrin> benh: or ::std::str::with_capacity
[01:01:55] <benh> I didn't realize that blah::blah::blah wasn't implicitly looking at ::blah::blah::blah as well
[01:01:57] *** Joins: MrOrdinaire (Mibbit@1143DEE0.A607747.FD383126.IP)
[01:02:12] *** Quits: skade (skade@moz-EC93E8A9.dip0.t-ipconnect.de) (Ping timeout)
[01:02:12] *** Quits: heftig (heftig@moz-17396EBB.dip0.t-ipconnect.de) (Ping timeout)
[01:02:13] *** Joins: Ralith (ralith@moz-36466B9F.customer.broadstripe.net)
[01:02:28] *** Quits: kimundi (kimundi@moz-27245F78.dip0.t-ipconnect.de) (Ping timeout)
[01:02:28] *** Quits: ofeldt- (ofeldt@moz-AF6C4EDF.dip0.t-ipconnect.de) (Ping timeout)
[01:02:32] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[01:02:37] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[01:03:37] *** Joins: zz_kimundi (kimundi@moz-27245F78.dip0.t-ipconnect.de)
[01:03:38] <MrOrdinaire> need-info r? https://github.com/mozilla/rust/pull/9318
[01:04:02] *** zz_kimundi is now known as kimundi
[01:04:17] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[01:04:29] *** Joins: ofeldt (ofeldt@moz-AF6C4EDF.dip0.t-ipconnect.de)
[01:04:46] *** Joins: heftig (heftig@moz-17396EBB.dip0.t-ipconnect.de)
[01:05:33] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[01:07:46] *** Joins: skade (skade@moz-EC93E8A9.dip0.t-ipconnect.de)
[01:10:07] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[01:10:40] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[01:14:08] *** Quits: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net) (Ping timeout)
[01:15:16] *** Joins: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net)
[01:18:04] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[01:18:05] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Quit: Leaving)
[01:19:06] *** Quits: MrOrdinaire (Mibbit@1143DEE0.A607747.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:20:30] <jason_> rusti: macro_rules! omg(($n:expr) => ($n;$n+1)) omg!(100)
[01:20:31] -rusti- 100
[01:20:51] <jason_> can someone explain what i'm doing wrong there? ^
[01:21:05] <Luqman> what're you trying to do?
[01:21:40] <benh> rusti: macro_rules! omg(($n:expr) => ($n,$n+1)) omg!(100)
[01:21:41] -rusti- 100
[01:21:51] <jason_> my macros only seem to output a single expression
[01:22:01] <benh> rusti: macro_rules! omg(($n:expr) => (($n,$n+1))) omg!(100)
[01:22:02] <jason_> i can't do multiple lines
[01:22:02] -rusti- (100, 101)
[01:22:24] <kmc> could be https://github.com/mozilla/rust/issues/8012
[01:22:33] <strcat> rusti: macro_rules! omg(($n:expr) => ({$n;$n+1})) omg!(100)
[01:22:34] -rusti- 101
[01:22:56] * strcat doesn't understand macros
[01:22:57] <benh> rusti: macro_rules! omg(($n:expr) => ({println!("{}", $n); println!("{}", $n+1); })) omg!(100)
[01:22:57] -rusti- 100
[01:22:58] -rusti- 101
[01:22:58] -rusti- ()
[01:22:59] <kmc> and yeah, the fix is an extra pair of delimiters on the => RHS
[01:23:00] * benh either
[01:23:18] <strcat> {} is an expr
[01:24:51] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[01:26:16] <rntz> strcat: of type ()?
[01:26:33] *** Joins: msingle1 (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net)
[01:26:38] *** Quits: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net) (Ping timeout)
[01:26:41] <ChrisMorgan> I wasn't happy that I understood sweet.js fully when I first came across it. Then I had to bend my mind around Rust macro rules, which I now think I understand pretty thoroughly. Then yesterday I took a look at sweet.js again and it all makes sense—it's basically exactly the same as Rust macros.
[01:26:50] <strcat> yes, but I mean { expr; expr2 } an an expr with the type of expr2 so it works around that macro issue
[01:27:56] <rntz> wait, what confuses you about omg!?
[01:28:33] <strcat> why can't it output more than one expr?
[01:28:48] <rntz> ?
[01:28:50] <dbaupp> strcat: bugs! \o/
[01:29:03] <strcat> rusti: macro_rules! omg(($n:expr) => ({$n;$n+1})) omg!(100)
[01:29:04] -rusti- 101
[01:29:04] <tikue_> there's a deque in std right?
[01:29:09] <strcat> rusti: macro_rules! omg(($n:expr) => ($n;$n+1)) omg!(100)
[01:29:09] -rusti- 100
[01:29:13] <dbaupp> tikue_: extra
[01:29:18] <tikue_> oh ok
[01:29:22] <dbaupp> extra::ringbuf or extra::dlist
[01:29:23] <strcat> why doesn't it stop at the first expr?
[01:29:25] <strcat> er
[01:29:27] <strcat> why does it stop*
[01:29:27] <rntz> strcat: oh, I see.
[01:29:33] <dbaupp> strcat: bugs
[01:29:35] <rntz> it should really complain that ($n; $n+1) isn't an expression
[01:29:40] <ChrisMorgan> A macro can only evaluate to a single thing. This is unfortunate, but the most significant problem there is that it doesn't *tell* you that.
[01:29:55] <rntz> but instead I guess it just takes the first thing. parser bug, probably?
[01:30:00] <dbaupp> strcat: it evaluates to Option<@Expr> or sometihng like; it should be ~[@Expr]
[01:30:16] * dbaupp should get around to attempting to fix that sometime
[01:30:19] <ChrisMorgan> Is an item an expression?
[01:30:28] <dbaupp> not really
[01:30:40] <dbaupp> but in this context they work basically the same
[01:31:02] <dbaupp> rusti: (fn foo() {})
[01:31:03] -rusti- pastebinned 7 lines of output: http://sprunge.us/RNVN
[01:31:58] <rntz> hrm, the github issue suggests it is more serious than a parser issue
[01:31:59] <ChrisMorgan> Anyway, because macros can only expand to one thing, we have patterns like `use generated::*; macro_rules foo!(()=>(mod generated { ... })) foo!()`.
[01:32:00] <rntz> weirdo
[01:32:31] <rntz> ChrisMorgan: okay, but that's for item macros. it makes sense that expr macros should only expand to one expr.
[01:32:34] <ChrisMorgan> s/macro_rules foo!/macro_rules! foo/
[01:32:40] <ChrisMorgan> Sure.
[01:32:50] <rntz> it doesn't make sense that what it does instead of warning you it just silently gives you the first thing, though
[01:32:56] <ChrisMorgan> Absolutely!
[01:33:45] * dbaupp wonders if a temporary fix would be as easy as checking for token::EOF in the macro_rules parser
[01:34:21] *** Quits: hjr3 (hradtke@4020FFAC.1A57346B.C943C01E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:35:12] *** Quits: skade (skade@moz-EC93E8A9.dip0.t-ipconnect.de) (Ping timeout)
[01:36:45] *** Quits: Ralith (ralith@moz-36466B9F.customer.broadstripe.net) (Ping timeout)
[01:38:32] <dbaupp> huh
[01:38:48] *** Joins: steveklabnik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP)
[01:39:09] *** Joins: skade (skade@moz-F79933C8.dip0.t-ipconnect.de)
[01:39:26] <dbaupp> afaict, https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/tt/macro_rules.rs#L61 and https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/tt/macro_rules.rs#L189 are identical
[01:39:29] * dbaupp deletes one
[01:41:43] *** Joins: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP)
[01:41:43] *** ChanServ sets mode: +o jdm
[01:41:55] *** Quits: steveklabnik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP) (Ping timeout)
[01:43:38] <ChrisMorgan> dbaupp: and the one inside add_new_extension isn't even used :-/
[01:43:49] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:44:02] *** Joins: tjc (tjc@95247703.870F2FA5.2370DFC3.IP)
[01:44:02] *** ChanServ sets mode: +o tjc
[01:44:15] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:44:17] <dbaupp> ChrisMorgan: yup
[01:44:18] <ChrisMorgan> Should rustc warn about such unused and inaccessible code
[01:44:25] <dbaupp> yes
[01:44:35] * dbaupp wants to add a lint for private code that's not used
[01:44:36] <tikue_> rusti: ~"1" + ~"!"
[01:44:38] -rusti- <anon>:7:16: 7:20 warning: unnecessary allocation, the sigil can be removed [-W unnecessary-allocation (default)]
[01:44:38] -rusti- <anon>:7          ~"1" + ~"!"
[01:44:38] -rusti-                          ^~~~
[01:44:38] -rusti- ~"1!"
[01:45:00] * dbaupp is scared by middle::lint at the moment, however :S
[01:45:15] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[01:45:21] *** Quits: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net) (Ping timeout)
[01:45:56] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:46:08] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[01:46:30] *** Quits: tjc (tjc@95247703.870F2FA5.2370DFC3.IP) (Quit: Places to go, people to annoy)
[01:47:06] *** Quits: bytewise (bytewise@moz-4A801D04.unitymediagroup.de) (Quit: Leaving)
[01:47:24] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[01:47:36] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[01:48:28] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:49:46] *** Joins: Ralith_ (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:49:46] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Connection reset by peer)
[01:50:52] *** Quits: Ralith_ (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Connection reset by peer)
[01:51:02] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:51:36] *** Quits: victorporof_ (victorporo@16E89FDD.B0D0881A.79933D60.IP) (Ping timeout)
[01:52:25] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[01:53:15] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[01:53:36] *** Joins: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[01:54:43] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[01:56:59] <SiegeLord> use can shadow things, right?
[01:58:21] *** Quits: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[01:58:50] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[01:59:24] <ChrisMorgan> Sure.
[02:00:38] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[02:02:43] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:02:55] <ChrisMorgan> Even macros, by a later definition of the same name...
[02:03:08] *** Joins: steveklabnik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP)
[02:03:45] *** Joins: vodik (simon@moz-CBE4BB13.cable.teksavvy.com)
[02:04:34] *** Joins: stevekla1nik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP)
[02:05:02] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[02:07:06] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[02:08:16] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[02:10:01] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:10:45] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[02:11:04] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (No route to host)
[02:11:18] *** Quits: steveklabnik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP) (Ping timeout)
[02:11:40] <SiegeLord> Something's broken with pub use and cross crate... oh well
[02:11:48] *** Quits: stevekla1nik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP) (Ping timeout)
[02:11:55] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[02:12:21] <dbaupp> SiegeLord: is it a pub use ...::* reexport?
[02:12:30] <SiegeLord> Yeah
[02:13:06] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[02:13:23] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[02:13:55] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:14:44] *** Quits: riley_ (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[02:18:58] *** Joins: ChrisMorgan1 (chris@moz-2BBDB47F.its.monash.edu.au)
[02:18:59] *** Quits: ChrisMorgan (chris@moz-2BBDB47F.its.monash.edu.au) (Connection reset by peer)
[02:19:19] *** ChrisMorgan1 is now known as ChrisMorgan
[02:19:40] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[02:19:49] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[02:24:02] *** Quits: msingle1 (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net) (Ping timeout)
[02:25:50] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[02:26:53] *** jorendorff_away is now known as jorendorff
[02:27:44] *** jorendorff is now known as jorendorff_away
[02:28:15] *** jorendorff_away is now known as jorendorff
[02:28:46] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[02:29:48] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[02:29:56] *** Quits: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net) (Ping timeout)
[02:30:20] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[02:31:23] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[02:31:56] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[02:35:19] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:35:33] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:35:33] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Connection reset by peer)
[02:35:35] *** lkuper_ is now known as lkuper
[02:35:50] *** Quits: skade (skade@moz-F79933C8.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:41:19] *** Quits: kimundi (kimundi@moz-27245F78.dip0.t-ipconnect.de) (Ping timeout)
[02:43:23] *** Quits: timot_ (timot@moz-7088860C.bredband.tre.se) (Ping timeout)
[02:44:26] *** Joins: zz_kimundi (kimundi@moz-2C65B47D.dip0.t-ipconnect.de)
[02:44:53] *** zz_kimundi is now known as kimundi
[02:44:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:45:20] *** Joins: timot_ (timot@moz-B2E8A573.cust.tele2.se)
[02:48:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:48:56] <ryeguy> can someone explain this error? http://kib2.free.fr/pastebin/view_paste.php?id=126
[02:48:58] <ryeguy> i cant figure it out
[02:49:15] <ryeguy> it has to be something obvious 
[02:53:39] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[02:54:09] <SiegeLord> You probably want (system.process)()
[02:55:00] <ryeguy> that just makes the compiler think its a field access
[02:55:38] <SiegeLord> Ah, nvm... misread
[02:55:38] <tikue_> rustpkg build doesn't seem to rebuild even when i've changed files? is there something you need to do to force its hand?
[02:55:46] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[02:56:28] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[02:57:30] <engla> ryeguy: fn process() doesn't have a "self" so it's an associated function, not a method
[02:57:31] <tikue_> i had to do a rustpkg clean before it would rebuild
[02:57:42] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[02:58:06] <SiegeLord> Does rustdoc no longer use pandoc?
[02:58:13] <engla> ryeguy: you probably want to use fn process(&self) or fn process(&mut self) or similar
[02:59:15] <engla> I think rustdoc is using something else for markdown now
[02:59:44] <engla> "sundown"
[03:00:05] <dbaupp> SiegeLord: yeah, it's now using the sundown C lib to avoid having to shell out a lot
[03:00:23] <SiegeLord> dbaupp: It's missing Rust code highlighting...
[03:00:47] <dbaupp> SiegeLord: yup
[03:01:02] <dbaupp> hopefully we'll hook up libsyntax to get perfect syntax highlighting
[03:01:11] <dbaupp> (at least, that's what I want to happen.)
[03:02:09] <SiegeLord> Oh well, a temporary bummer...
[03:02:10] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[03:02:23] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:02:47] <ryeguy> engla: wow, thanks. I knew it was something stupid.
[03:03:25] <sfackler> tikue_: iirc it currently only checks the main file (main.rs or lib.rs) for changes, not its dependencies
[03:03:37] <tikue_> sfackler, ah great thank you :)
[03:03:52] <engla> ryeguy: just getting used to explicit self I guess
[03:05:47] <tikue_> can you convert from ~str to &'static ?
[03:06:04] <engla> no
[03:06:06] <sfackler> no
[03:06:08] <jeaye> no
[03:06:11] <tikue_> no?
[03:07:23] <dbaupp> rusti: println("\x6f\6e")
[03:07:24] -rusti- <anon>:7:23: 7:24 error: unknown string escape: 6
[03:07:24] -rusti- <anon>:7          println("\x6f\6e")
[03:07:24] -rusti-                                 ^
[03:07:24] -rusti- application terminated with error code 101
[03:07:28] <dbaupp> :'(
[03:07:33] <engla> well with unsafe code you can do anything. But there is no safe way to allocate a &'static
[03:07:38] *** Quits: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP) (Quit: Lost terminal)
[03:09:47] *** Joins: MauricioC (mauricioc@moz-2CFCD404.impa.br)
[03:09:57] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:10:44] <engla> rusti: let text = ~"hi"; let s = unsafe { let slc: &'static str = std::cast::transmute(text.as_slice()); std::unstable::intrinsics::forget(text); slc };   s
[03:10:45] -rusti- "hi"
[03:10:47] *** Joins: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net)
[03:10:54] <engla> it's leaking the string
[03:11:15] <glyc> are lambdas classified as ast::ExprFnBlock or something else?
[03:11:55] *** jorendorff is now known as jorendorff_away
[03:13:41] *** Quits: mark_edward (quassel@51C589B3.EF2694B5.DFAC6AA7.IP) (Ping timeout)
[03:13:47] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[03:14:36] <SiegeLord> Well, that didn't take long... my custom CSS for rustdoc broke XD
[03:16:40] *** Joins: jgilbert (jgilbert@moz-2763DC04.hsd1.ca.comcast.net)
[03:17:42] <dbaupp> glyc: yes
[03:18:01] <dbaupp> glyc: (as in, yes they are ExprFnBlock)
[03:18:14] <glyc> dbaupp: thanks Huon!
[03:18:51] <sfuerst> Silly question... what's the best way to initialize an array of structs?
[03:18:58] <dbaupp> glyc: np, Jason
[03:19:05] <glyc> :-)
[03:19:15] <dbaupp> sfuerst: all with the same data?
[03:19:24] <sfuerst> With varying data.
[03:19:35] <sfuerst> In C, you use nested braces.
[03:19:47] <glyc> sfuerst: statically initialized?
[03:19:53] <sfuerst> Yeah
[03:20:08] <dbaupp> rusti: struct Foo { x: i } [Foo {x: 1}, Foo {x: 2}]
[03:20:09] -rusti- <anon>:7:25: 7:26 error: use of undeclared type name `i`
[03:20:09] -rusti- <anon>:7          struct Foo { x: i } [Foo {x: 1}, Foo {x: 2}]
[03:20:09] -rusti-                                   ^
[03:20:09] -rusti- error: aborting due to previous error
[03:20:10] -rusti- application terminated with error code 101
[03:20:15] <dbaupp> rusti: struct Foo { x: int } [Foo {x: 1}, Foo {x: 2}]
[03:20:15] -rusti- [main::Foo{x: 1}, main::Foo{x: 2}]
[03:20:17] <sfuerst> ah...
[03:20:30] <sfuerst> That is what I had.  It's really annoying. :-(
[03:20:48] <sfuerst> I made a function so that each "Foo" expression was smaller.
[03:21:00] <sfuerst> It's still pretty bad though.
[03:21:35] <dbaupp> rusti: struct Foo { x: int } fn f(x: int) -> Foo { Foo {x : x} } [f(1), f(2)]
[03:21:35] -rusti- [main::Foo{x: 1}, main::Foo{x: 2}]
[03:21:42] <dbaupp> that's not so bad?
[03:21:50] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[03:22:07] <sfuerst> Yeah.  I'm currently using the "f()" version.  (With more arguments of course.)
[03:22:24] <sfuerst> It would be nice to avoid the repeated syntax though.
[03:22:26] *** Quits: JanC_ (janc@moz-67BC1AF8.dsl.scarlet.be) (Ping timeout)
[03:25:32] <glyc> what is the recommended replacement for printfln!("I'm debugging %?", stuff) ?
[03:25:53] <engla> println!  and "{:?}" 
[03:26:01] <engla> {:?} is the same as %?
[03:26:34] <glyc> rusti: println!("I'm debugging {:?}", 4)
[03:26:35] -rusti- I'm debugging 4
[03:26:35] -rusti- ()
[03:26:43] <glyc> cool
[03:27:02] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[03:27:10] <dbaupp> not quite the same: :? is actually a person with a strange mouth trapped in your source. %? isn't.
[03:27:11] <engla> and {} is the default formatter (only defined for basic types so far)
[03:27:28] <engla> dbaupp: % is two eyes and a nose
[03:27:31] <glyc> lol
[03:27:49] <engla> %)
[03:28:11] *** Joins: Ferreus (ferreus@moz-BBA7CE4C.dyn.telefonica.de)
[03:28:44] *** Quits: Ferreus_ (ferreus@moz-19B48F1C.dyn.telefonica.de) (Ping timeout)
[03:28:56] <dbaupp> haha
[03:28:58] <engla> rusti: print!("{} {} {}", 1, "x", 2.3)
[03:28:59] -rusti- 1 x 2.3()
[03:30:06] <dbaupp> rusti: print!("{d:} {D:} ", d="the new formatter", D="is good for making faces")
[03:30:07] -rusti- the new formatter is good for making faces ()
[03:31:19] <bblum> whoa.
[03:31:25] <bblum> what happened to the formatter??
[03:31:38] <engla> acrichto happened
[03:32:07] <bblum> what does it do better?
[03:32:11] <dbaupp> http://static.rust-lang.org/doc/master/std/fmt/index.html
[03:32:16] <dbaupp> allocates less
[03:32:26] <dbaupp> internationalisation (at some point)
[03:32:31] <engla> less code bloat. uses Writer trait
[03:32:35] <dbaupp> more extensible
[03:34:37] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[03:34:38] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[03:34:50] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[03:36:19] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[03:36:38] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[03:37:08] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[03:38:04] *** Joins: JanC_ (janc@moz-A7C24188.dsl.scarlet.be)
[03:40:23] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[03:44:14] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[03:47:15] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[03:47:43] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:48:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:51:21] *** Joins: ChrisMorgan1 (chris@moz-2BBDB47F.its.monash.edu.au)
[03:51:21] *** Quits: ChrisMorgan (chris@moz-2BBDB47F.its.monash.edu.au) (Connection reset by peer)
[03:51:38] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:54:22] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[03:56:43] *** ChrisMorgan1 is now known as ChrisMorgan
[04:00:00] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Connection reset by peer)
[04:07:43] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[04:10:06] *** Quits: bytbox (s@moz-DC83764A.washdc.fios.verizon.net) (Ping timeout)
[04:13:50] *** Quits: ggherdov_ (uid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[04:16:07] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[04:19:34] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[04:20:55] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[04:26:59] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[04:27:30] * dbaupp has written too much Rust recently: he keeps spelling 'train' as 'trait'
[04:28:10] *** Joins: aeqwa (aeqwa@moz-6809B4D2.dsl.tropolys.de)
[04:28:39] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:31:22] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:31:24] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[04:31:35] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[04:35:58] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[04:38:29] *** Quits: MauricioC (mauricioc@moz-2CFCD404.impa.br) (Ping timeout)
[04:39:37] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[04:39:40] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[04:42:25] * ChrisMorgan has written too much Rust recently: he just found himself writing "CsiroAccessPermissionsTest" instead of "CSIROAccessPermissionsTest" in Python code.
[04:42:52] *** Joins: MauricioC (mauricioc@moz-5D49F2DE.impa.br)
[04:46:55] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[04:51:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:53:31] <glyc> is there already an interned Name for lambdas that I should reuse?
[04:53:55] <glyc> not sure how to look up Names
[04:53:56] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[04:54:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:55:45] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:56:10] *** Quits: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) (Quit: Leaving.)
[04:56:44] <dbaupp> glyc: lambdas don't have any Name associated with them at all, afaict
[04:56:52] <glyc> let intr = get_ident_interner(); match intr.find_equiv("lambda") { Some(val) => ast::Ident::new(val)    seems to be the thing
[04:57:31] <dbaupp> cx.str_of(..), cx.ident_of(..) are better
[04:57:45] <dbaupp> (cx: ExtCtxt)
[04:57:57] <glyc> right, it's just my current stack is a stack of Ident's, which have Names, which are interned
[04:58:17] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[04:58:21] <dbaupp> yes? cx.str_of is Ident -> str. cx.ident_of is str -> Ident
[04:58:45] <dbaupp> (via the interner)
[04:58:56] <glyc> cool
[04:59:55] <glyc> do you see any problem with interning 'lambda' and then using that?
[05:01:01] <glyc> if I did cx.ident_of("lambda"), it should use the existing or make a new interned string, yes?
[05:01:11] *** Joins: Larry (larryfox@moz-B8648F0F.nycmny.fios.verizon.net)
[05:01:21] *** Larry is now known as lfox
[05:01:37] <dbaupp> if it already exists it will use that Ident, otherwise it will make a new one, yes
[05:01:55] * dbaupp wonders if this is correct wrt to hygiene; not that it matters particularly
[05:02:08] <glyc> seems perfect!
[05:02:38] <glyc> thought about hygeine there for a second, but I'm not actually entering anything into a symbol table, just the set of interned string
[05:02:55] <glyc> so I think it should be okay, or no?
[05:03:23] *** Quits: MauricioC (mauricioc@moz-5D49F2DE.impa.br) (Ping timeout)
[05:03:47] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[05:03:54] <dbaupp> yeah, it doesn't apply here
[05:03:59] <dbaupp> it was just a general concern
[05:04:09] *** Quits: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:04:22] <glyc> kk
[05:04:28] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[05:05:00] *** Joins: guacamole (Mibbit@moz-FB2CBEF9.bstnma.fios.verizon.net)
[05:05:01] *** Quits: guacamole (Mibbit@moz-FB2CBEF9.bstnma.fios.verizon.net) (Quit: guacamole)
[05:08:34] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[05:10:15] *** Joins: valenting (Thunderbir@50075977.FDB3AFA7.FB866788.IP)
[05:13:43] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[05:19:19] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[05:23:09] *** Quits: jgilbert (jgilbert@moz-2763DC04.hsd1.ca.comcast.net) (Ping timeout)
[05:23:43] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[05:24:46] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[05:24:59] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[05:25:45] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[05:26:11] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[05:26:15] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[05:26:34] *** Quits: valenting (Thunderbir@50075977.FDB3AFA7.FB866788.IP) (Ping timeout)
[05:27:13] <glyc> Q about how to call a function that resides in the directory above... I'm in libsyntax/ext/expand.rs, and I want to call into libsyntax/ast_map.rs for the impl_pretty_name function.
[05:27:36] <glyc> ast_map::impl_pretty_name  is giving error: unresolved name
[05:27:41] <dbaupp> glyc: `use ast_map; ... ast_map::impl_pretty_name(..)`
[05:28:17] <nejucomo> What is under std::unstable?  Does that name mean all interfaces / implementation details are free to change between releases?
[05:28:24] <glyc> what's the difference between use ast_map::*   and  use ast_map; ?
[05:28:33] * nejucomo is reading std::reflect and trying to understand how to use it.
[05:28:54] <glyc> yep, use ast_map; works.
[05:29:24] <dbaupp> glyc: ::* imports everything directly into scope
[05:29:27] <nejucomo> glyc: "use x;" puts x in scope; "use x::*" puts all pub items inside x into scope.
[05:29:54] <benh> Doesn't it also put the priv items into scope?
[05:29:56] <glyc> kk
[05:30:12] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[05:30:28] <dbaupp> benh: no, they're private to the module (although it may be becoming slightly more subtle than that soon)
[05:31:28] <glyc> but apparently I need both use ast_map; and use ast_map::*;  in order to call ast_map:impl_pretty_name(). I'm unclear why use ast_map::*; alone does not suffice?
[05:31:32] *** Quits: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) (Ping timeout)
[05:31:34] <dbaupp> benh: fwiw, https://github.com/mozilla/rust/issues/8215#issuecomment-25307731
[05:31:46] <benh> ah, cheers
[05:32:00] <dbaupp> glyc: you shouldn't need the ::* one to just use `ast_map::impl_pretty_map`
[05:32:13] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:32:28] <glyc> oh wait, use ast_map:*; does work, it just doesn't make ast_map::impl_pretty_map work.  .... finally getting it here...
[05:32:37] <glyc> yep
[05:32:40] <glyc> thanks dbaupp
[05:34:14] <glyc> since ast_map.rs is above ext/expand.rs, how did rustc know to look up one directory?
[05:34:24] <glyc> upon use ast_map;
[05:34:46] <glyc> inside ext/expand.rs
[05:34:58] *** Quits: KindOne (KindOne@moz-590C0860.dynamic.ip.windstream.net) (Ping timeout)
[05:35:06] <dbaupp> glyc: http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[05:36:43] <glyc> dbaupp: yeah, it made my head spin
[05:37:25] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[05:37:55] <glyc> ;-)
[05:38:50] <dbaupp> glyc: well, rotate your body at an equal speed so that they don't disconnect. :P
[05:39:23] *** Joins: KindOne (KindOne@moz-590C0860.dynamic.ip.windstream.net)
[05:40:07] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[05:40:30] <glyc> ...weeeeee...
[05:40:45] *** Quits: aeqwa (aeqwa@moz-6809B4D2.dsl.tropolys.de) (Quit: Lost terminal)
[05:40:48] <glyc> I figured there must be a #[path=".."] somewhere
[05:40:57] <glyc> but then I don't grep it
[05:44:31] <glyc> ok, now I see: syntax.rs does a pub mod expand; // so actually everything is being pulled in from above anyway
[05:44:45] <glyc> it's not like expand.rs is being compiled in situ
[05:45:18] <glyc> [...dawn spreads her rosy fingers across glyc's brain...]
[05:45:35] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:48:33] <glyc> perhaps understanding intent would be helpful... why is the module system trying to be independent of the file system?
[05:49:20] *** Joins: valenting (Thunderbir@50075977.FDB3AFA7.FB866788.IP)
[05:49:31] *** Joins: fabiand (fabiand@moz-F8931DC3.adsl.alicedsl.de)
[05:49:37] <dbaupp> because you might want to group 3 or 4 functions to make the namespaces nicer
[05:49:40] <dbaupp> (for example)
[05:49:58] <SiegeLord> Everything essentially gets pasted into a single file anyway
[05:50:09] <SiegeLord> Support for multiple files is a... convenience
[05:50:38] *** Joins: aeqwa (aeqwa@moz-6809B4D2.dsl.tropolys.de)
[05:51:01] * dbaupp reformats librustc into a single file
[05:52:33] *** Quits: aeqwa (aeqwa@moz-6809B4D2.dsl.tropolys.de) (Ping timeout)
[05:53:50] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[05:54:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:54:24] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[05:54:56] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[05:55:53] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[05:55:56] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[05:57:05] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[05:57:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:58:19] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[05:58:25] <glyc> so functions can be grouped in files independently of the module membership.  that makes sense.
[05:59:16] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[05:59:59] <SiegeLord> I don't think it's quite that flexible... I don't think a single module can span several files (via using 'use' and 'mod' only)
[06:00:54] <dbaupp> there's #[merge] or include!() or something like that which might allow you to bring in several files
[06:00:58] * dbaupp isn't sure
[06:01:25] <SiegeLord> Yeah, hence my parenthetical
[06:01:47] <glyc> ah, good to know about
[06:03:33] <glyc> dbaupp: group 3 or 4 functions to make namespaces nicer, could you elaborate?
[06:03:51] *** Joins: ggherdov_ (uid11402@moz-E77DEB21.irccloud.com)
[06:03:55] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[06:03:59] <pepper_chico> hey, I'd like to know about this proposal of removing a kind of pointer http://pcwalton.github.io/blog/2013/06/02/removing-garbage-collection-from-the-rust-language/
[06:04:12] <pepper_chico> what has happened since that post?
[06:04:15] <dbaupp> glyc: `mod foo { fn bar() { } fn baz() {} } mod other_foo { fn bar() {} fn baz {} }` in one file
[06:04:30] <pepper_chico> (noob here)
[06:04:42] <glyc> right. kk.
[06:04:44] <glyc> makes sense
[06:04:56] <dbaupp> glyc: so a user would write `use x::y::z; z::foo::bar(), z::other_foo::bar()` or whatever
[06:05:46] <glyc> k
[06:06:08] <pepper_chico> anyone?
[06:06:11] <glyc> I think I get it
[06:06:25] <dbaupp> pepper_chico: it's being worked on
[06:06:35] <glyc> pepper_chico: what is your question? I think that the intent is the same, but so?
[06:06:37] <dbaupp> pepper_chico: e.g. @fn was recently removed
[06:07:07] <pepper_chico> dbaupp, oh thanks, I'd just like to know the current 0.8 has it removed already?
[06:07:19] <glyc> will there still be @ for other things, just supported by library?
[06:07:56] <dbaupp> pepper_chico: no @int (etc.) is still in 0.8
[06:08:20] <dbaupp> as in, "@int is usable in 0.8"
[06:08:32] <dbaupp> rusti: (@1,@(1,2), @"foo")
[06:08:33] -rusti- (@1, @(1, 2), @"foo")
[06:08:37] <pepper_chico> but there're changes it the repo regarding that, after 0.8
[06:08:39] <glyc> why no @fn ?
[06:08:51] <pepper_chico> ?
[06:08:53] <dbaupp> glyc: yes, @ is moving to be in the stdlib
[06:09:18] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[06:09:18] <pepper_chico> s/it/in/
[06:09:25] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:10:15] <pepper_chico> I'll take a look at the current tutorial to see whether it's already removed or any notice were added regarding that
[06:10:26] *** Joins: Ms2ger (Ms2ger@moz-79E00D8E.ugent.be)
[06:10:54] <pepper_chico> last time I've read the tutorial I think I've read about @ pointers as any other
[06:11:22] <engla> @ and @mut are still there
[06:11:37] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[06:13:38] <dbaupp> pepper_chico: rusti is a compiler that is at most 24 hours old... so if @ works on it, it's almost certainly still included ;)
[06:14:52] <pepper_chico> my last build is older than 24 hours =D
[06:15:49] <glyc> but @fn should still work, even if support is in libstd instead of librustc... ?
[06:15:54] <myname> is there a way to list all methods of something?
[06:16:03] <benh> rusti: '''
[06:16:03] <engla> no @fn is removed
[06:16:03] -rusti- <anon>:7:10: 7:11 error: character constant must be escaped: \'
[06:16:03] -rusti- <anon>:7          '''
[06:16:03] -rusti-                    ^
[06:16:03] -rusti- application terminated with error code 101
[06:16:25] <glyc> engla: not useful?
[06:16:29] <engla> it's just a small step towards the full closure reform
[06:16:43] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[06:16:43] <dbaupp> glyc: @ -> stdlib hasn't happened yet; there's a pile of stuff that needs to happen for that to happen (incl. @fn being removed)
[06:16:52] <engla> trait objects allow a lot of control for creating objects similar to ~fn() and @fn
[06:16:53] <glyc> engla: what's closure reform?
[06:17:11] <engla> so it should be possible to do the same things and more in the future
[06:17:28] *** Quits: valenting (Thunderbir@50075977.FDB3AFA7.FB866788.IP) (Quit: valenting)
[06:17:40] <engla> glyc: well how closures work will change a bit, not sure exactly how
[06:18:11] <glyc> woot! got lambda printing back in func!()
[06:18:16] <glyc> :-)
[06:18:36] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[06:18:39] <sp3d> rusti: '	'
[06:18:39] -rusti- <anon>:7:10: 7:11 error: character constant must be escaped: \t
[06:18:40] -rusti- <anon>:7          '	'
[06:18:40] -rusti-                    ^
[06:18:40] -rusti- application terminated with error code 101
[06:18:57] <glyc> engla: interesting, are there user-facing changes to closure semantics?
[06:19:10] <sfackler> has a rust version of operator () ever been considered?
[06:19:46] <glyc> and got Trait implementations pretty printing...nice
[06:20:00] <sfackler> glyc: ~fn may be changed to essentially ~once fn, which would be great
[06:20:22] <glyc> sfackler: sort of like an interned function?
[06:20:24] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Client exited)
[06:20:27] <engla> glyc: I haven't known what the actual plans for closure reform are in full. yesterday's meeting notes had a terse summary
[06:20:36] <glyc> engla: cool
[06:20:37] <engla> https://gist.github.com/brson/6781740
[06:20:44] * dbaupp isn't sure he's so keen on ~fn -> ~once fn without a replacement for ~many fn
[06:20:51] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[06:21:03] <glyc> getting back 'm1::m2::Tr$St1::defme' makes glyc happy
[06:21:10] * dbaupp doesn't really know enough to comment though
[06:21:12] <glyc> where St1 implements Tr
[06:21:20] <glyc> and defme is a method underneath
[06:21:24] <sfackler> dbaupp: trait objects get you part of the way there, though you don't get to capture an environment anymore
[06:21:37] <myname> where to look up the name of the method to iterate strings character wise?
[06:21:41] <dbaupp> sfackler: true, but trait objects give you ~once fn too
[06:21:53] * dbaupp guess that ~once fn happens more than ~many fn
[06:21:57] <dbaupp> *guesses
[06:22:06] <sfackler> the real use for ~once fn is to allow you to move into stuff like spawn
[06:22:10] <dbaupp> yeah
[06:22:22] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[06:22:33] <dbaupp> well, it's so you can move captured things out of spawn
[06:22:41] <glyc> dbaupp: does it seem preferable to close that old pull request on func!() and open a new one with all the new code?
[06:22:50] <dbaupp> moving things *into* to ~fn works fine now
[06:22:58] <sfackler> oh, yeah
[06:23:02] <dbaupp> glyc: hm, maybe
[06:23:15] <dbaupp> glyc: actually, no; push -f should be fine
[06:23:21] <glyc> dbaupp: so it's rebased
[06:23:30] <Eridius> I want ~once to get rid of the extra param in HashMap.mangle()
[06:23:36] <engla> as long as there are lambda expressions for extern "Rust" fn()
[06:23:47] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[06:23:58] <engla> Eridius: but you don't want a heap-allocated closure for mangle
[06:24:07] <dbaupp> Eridius: you want &once fn, right?
[06:24:35] <Eridius> dbaupp: yeah
[06:25:25] <dbaupp> glyc: that's fine, just push -f
[06:25:54] <dbaupp> (be careful what you're pushing though, since it's a force)
[06:27:07] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[06:27:10] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:28:50] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[06:29:17] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[06:29:23] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[06:29:28] <glyc> dbaupp: yeah, not sure about push -f, may try gentler approach first
[06:30:47] <dbaupp> glyc: it's fine: `git push -f origin master`
[06:31:03] <dbaupp> assuming that origin = github.com/glycerine/rust
[06:31:31] <myname>  error: type `~str` does not implement any method in scope named `char_iter`
[06:31:35] <myname> what am i missing
[06:32:59] *** Quits: tikue_ (tikue_star@ABF748F2.CD72397.689607DE.IP) (Ping timeout)
[06:33:18] *** Quits: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br) (Ping timeout)
[06:33:35] <glyc> dbaupp: :-)
[06:34:04] <glyc> myname: code?
[06:34:48] <myname> let s = ~"X WON"; for ch in s.char_iter() { ...
[06:34:51] <ChrisMorgan> myname: .iter() is a char iterator.
[06:35:02] <myname> m(
[06:35:29] <myname> it'd be nice to have that easily accessible to read oneself
[06:35:51] <myname> the doc's just say that there is a chariterator, not how to get it
[06:36:14] <engla> the .iter() method is in the StrSlice trait. So yes, it's a bit hard to find
[06:36:24] <ChrisMorgan> myname: http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html
[06:36:49] <myname> the hell
[06:37:02] <myname> i looked at the CharIterator ...
[06:37:50] <ChrisMorgan> We need docs for the primitive types like &str and i32, so that you can see what they implement.
[06:38:13] <engla> we can also improve the module docs
[06:40:41] *** Joins: ChrisMorgan1 (chris@moz-2BBDB47F.its.monash.edu.au)
[06:40:41] *** Quits: ChrisMorgan (chris@moz-2BBDB47F.its.monash.edu.au) (Connection reset by peer)
[06:41:43] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:42:24] *** Quits: ChrisMorgan1 (chris@moz-2BBDB47F.its.monash.edu.au) (Ping timeout)
[06:44:34] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:49:08] *** Quits: timot_ (timot@moz-B2E8A573.cust.tele2.se) (Connection reset by peer)
[06:49:15] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[06:49:58] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[06:50:36] *** Quits: mjrosenb (mjrosenb@moz-B3592BDA.club.cc.cmu.edu) (Ping timeout)
[06:50:53] <glyc> is there a shorthand for the indexing into the last element of a vector.... like v[$-1] or something?
[06:51:03] *** Quits: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu) (Ping timeout)
[06:51:03] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[06:51:07] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[06:51:07] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[06:51:19] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[06:51:24] <cmr> glandium, v.last()
[06:51:28] <cmr> erm, glyc
[06:51:40] <glyc> cmr: great!
[06:51:55] <glandium> cmr: bad irc client, change irc client ;)
[06:52:22] <dbaupp> glandium: he just wanted you to feel included ;)
[06:52:31] <cmr> glandium, yeah, not using my usual OS right now :(
[06:54:03] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[06:55:00] <dbaupp> cmr: changed to BSD?
[06:55:10] <cmr> dbaupp, Windows!
[06:55:13] <dbaupp> oh
[06:55:14] * cmr had games to play
[06:55:25] * dbaupp was excited, for some strange reason
[06:55:35] <cmr> Nah, I run BSD in a VM
[06:55:39] * Eridius keeps his old Mac Pro around booted into Windows for games
[06:56:00] <dbaupp> Eridius: Rust with one hand, games with the other! \o/
[06:56:06] *** Joins: mjrosenb (mjrosenb@moz-B3592BDA.club.cc.cmu.edu)
[06:56:09] <Eridius> dbaupp: actually sometimes yes
[06:56:15] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Connection reset by peer)
[06:56:18] <Eridius> FFXIV on the Mac Pro right next to my iMac running `make check`
[06:56:28] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[06:56:30] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[06:56:37] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[06:56:47] *** Joins: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu)
[06:57:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:57:35] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[06:59:13] *** Joins: timot_ (timot@moz-3896B0B8.cust.tele2.se)
[06:59:17] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[06:59:40] *** Quits: timot_ (timot@moz-3896B0B8.cust.tele2.se) (Quit: Konversation terminated!)
[06:59:45] *** Joins: timot_ (timot@moz-3896B0B8.cust.tele2.se)
[07:00:15] <fmtq> using Option<T> as a kludge around having no default parameters is ... interesting
[07:00:25] *** Joins: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se)
[07:00:36] *** Joins: jordyd (jordyd@8ADE4F4D.88726A89.AA05BFD.IP)
[07:01:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:02:06] *** Joins: tikue_ (tikue_star@ABF748F2.CD72397.689607DE.IP)
[07:02:15] <cmr> fmtq, What code actually does that?
[07:02:19] *** Quits: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP) (Ping timeout)
[07:02:25] <fmtq> my code 
[07:02:28] <cmr> ah
[07:02:33] <dbaupp> fmtq: have you seen this workaround: https://github.com/mozilla/rust/issues/6973#issuecomment-22502982 ?
[07:02:57] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[07:02:57] *** ChanServ sets mode: +o pnkfelix
[07:03:29] *** Quits: jordyd (jordyd@8ADE4F4D.88726A89.AA05BFD.IP) (Ping timeout)
[07:05:12] <fmtq> dbaupp: that seems more confusing and cumbersome than my Option<T> usage :)
[07:05:22] <fmtq> it means I just pass in None when I want it to use the default 
[07:06:14] <dbaupp> fmtq: right, I imagine if you had a lot of optional params then the struct thing would be less cumbersome, but if you've only got one or two Option<T> would be nicer
[07:07:33] *** Quits: tikue_ (tikue_star@ABF748F2.CD72397.689607DE.IP) (Ping timeout)
[07:07:45] <fmtq> https://gist.github.com/anonymous/6450fcea96b6f8db6b6f
[07:09:02] <dbaupp> yup, using a struct for that would be weird
[07:09:30] <dbaupp> btw, you almost certainly dont' want to use rand::rng()
[07:09:40] <dbaupp> rand::task_rng() would be cheaper
[07:09:40] <SiegeLord> In that case I'd just do fn new(name) -> Planet { new_pop(name, rnd_pop() ) }
[07:10:00] <dbaupp> SiegeLord: and when you want a non-random pop?
[07:10:19] <SiegeLord> You'd call new_pop
[07:10:32] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[07:10:53] <dbaupp> fmtq: `let pop = match population { Some(n) => n, None => rand::random() };` should work
[07:11:19] <SiegeLord> Another method for optimal arguments is to use an array of enums
[07:11:39] <SiegeLord> It depends on the API what works best
[07:11:41] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[07:12:37] <SiegeLord> Array of enums is possibly the most expensive at runtime though...
[07:13:00] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[07:13:49] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[07:14:46] *** Quits: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) (Ping timeout)
[07:17:17] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[07:17:39] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[07:17:46] <cmr> it's what our mmap wrapper uses
[07:20:07] *** Quits: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se) (Quit: threecreepio)
[07:20:08] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[07:20:21] *** flaper87|afk is now known as flaper87
[07:20:24] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[07:20:45] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:22:29] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[07:24:19] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[07:25:08] <flaper87> dbaupp: that was silly from me... T_T
[07:25:31] <dbaupp> flaper87: what?
[07:25:32] * flaper87 keeps embarrassing himself
[07:25:33] <flaper87> :D
[07:25:39] <flaper87> dbaupp:  "v.get(i)" is v[i]
[07:25:42] <flaper87> :)
[07:25:55] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[07:25:58] <flaper87> I should stop writing things when I'm falling asleep, period.
[07:26:38] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[07:26:40] *** Joins: jordyd (jordyd@8ADE4F4D.88726A89.AA05BFD.IP)
[07:27:32] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:27:44] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[07:30:18] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[07:31:33] <flaper87> ChrisMorgan: any chance you can take a look at rust-http api.rs ?
[07:32:37] <ChrisMorgan> flaper87: sorry, I've been meaning to talk to you about it, but been rather busy (and I will be for the next three and a half weeks, too...)
[07:33:01] <ChrisMorgan> I'll try to post my thoughts on it later this evening
[07:34:46] *** Quits: Ms2ger (Ms2ger@moz-79E00D8E.ugent.be) (Ping timeout)
[07:37:24] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:40:36] *** flaper87 is now known as flaper87|afk
[07:41:30] *** Joins: oleavr (oleavr@5CE161CF.14417725.ACE9CB65.IP)
[07:43:34] *** Joins: threecreepio (jdp@moz-1A9F0A3C.cust.bredband2.com)
[07:44:06] *** Quits: jordyd (jordyd@8ADE4F4D.88726A89.AA05BFD.IP) (Quit: Leaving)
[07:44:49] *** Joins: victorporof (victorporo@A3643B25.1C233438.79933D60.IP)
[07:45:43] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:46:04] *** Joins: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP)
[07:46:42] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[07:47:35] *** Quits: StarLight (StarLight@moz-3A24043E.pppoe.avangarddsl.ru) (Ping timeout)
[07:49:24] *** Joins: jaen (jaen@67DC34EA.C79D1C03.43DC2829.IP)
[07:51:08] *** Quits: jaen (jaen@67DC34EA.C79D1C03.43DC2829.IP) (Ping timeout)
[07:55:53] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[07:59:12] *** flaper87|afk is now known as flaper87
[08:00:32] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:00:34] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[08:04:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:04:05] *** Joins: mdup (mdup@moz-2989B319.rev.numericable.fr)
[08:08:39] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:14:16] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:19:30] *** Joins: abissell (abissell@95DC1D88.7F9491CC.2321E71E.IP)
[08:20:21] *** Joins: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se)
[08:20:22] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[08:20:59] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:23:37] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[08:23:38] *** Quits: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[08:24:00] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[08:26:40] *** flaper87 is now known as flaper87|afk
[08:31:52] *** flaper87|afk is now known as flaper87
[08:34:51] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[08:35:16] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:37:13] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:45:10] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[08:45:11] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:48:24] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[08:49:32] *** Joins: subdir (Mibbit@moz-2F81DE43.broadband.corbina.ru)
[08:52:56] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[08:53:09] *** Parts: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) ()
[08:53:47] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:55:36] *** Joins: skade (skade@moz-F79933C8.dip0.t-ipconnect.de)
[09:03:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:07:08] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:08:01] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:11:32] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[09:12:38] *** Quits: skade (skade@moz-F79933C8.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[09:12:42] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[09:13:31] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[09:13:38] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:14:18] *** Joins: jaen (jaen@moz-A3C4E956.play-internet.pl)
[09:14:22] *** Joins: nkoep (nik@moz-A1FB7765.pool.mediaways.net)
[09:14:47] *** Quits: jaen (jaen@moz-A3C4E956.play-internet.pl) (Quit: WeeChat 0.4.1)
[09:15:47] *** Quits: abissell (abissell@95DC1D88.7F9491CC.2321E71E.IP) (Quit: Leaving)
[09:17:33] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[09:20:20] *** Joins: nik_ (nik@moz-CC5E16D8.pool.mediaways.net)
[09:20:26] *** Quits: nkoep (nik@moz-A1FB7765.pool.mediaways.net) (Ping timeout)
[09:26:25] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:30:36] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[09:31:06] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[09:31:25] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[09:32:33] *** flaper87 is now known as flaper87|afk
[09:36:46] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[09:40:30] *** Quits: subdir (Mibbit@moz-2F81DE43.broadband.corbina.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[09:40:34] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:42:11] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[09:42:42] *** flaper87|afk is now known as flaper87
[09:46:31] *** Joins: skade (skade@moz-F79933C8.dip0.t-ipconnect.de)
[09:46:32] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[09:48:44] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Ping timeout)
[09:49:19] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[09:49:56] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[09:49:58] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[09:50:25] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:51:29] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[09:52:08] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[09:54:29] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[09:56:59] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:58:44] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[09:58:54] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:01:02] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[10:06:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:10:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:10:49] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:12:09] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[10:12:59] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[10:15:04] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:16:08] <Yoric> nmatsakis: http://bloc-notes.parinux.org/p/Rust-dev_at_Mozilla_Summit
[10:17:44] <nmatsakis> Yoric: thanks
[10:18:17] *** Joins: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de)
[10:18:54] <Yoric> np
[10:22:12] *** Joins: Blub\w (wry@moz-CA5B1AC4.wireless.dyn.drei.com)
[10:25:35] *** Quits: mdup (mdup@moz-2989B319.rev.numericable.fr) (Quit: mdup)
[10:29:59] *** Quits: maik (maik@moz-26FE5D50.dip0.t-ipconnect.de) (Ping timeout)
[10:30:04] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[10:34:21] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[10:45:01] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[10:48:42] *** Joins: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se)
[10:48:42] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[10:49:11] *** flaper87 is now known as flaper87|afk
[10:49:23] *** Quits: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[10:49:32] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:51:18] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[10:52:12] <skade> is there any reason why FromStr is not implemented for ~str types?
[10:53:30] *** Quits: nik_ (nik@moz-CC5E16D8.pool.mediaways.net) (Ping timeout)
[10:53:34] <skade> that makes interfaces where you can get a value out using from_str very strange: once you allow FromStr, you have to offer a second method to get the original string value
[10:54:37] <dbaupp> rusti: from_str::<~str>(~"foo")
[10:54:38] -rusti- <anon>:7:9: 7:25 error: failed to find an implementation of trait std::from_str::FromStr for ~str
[10:54:39] -rusti- <anon>:7          from_str::<~str>(~"foo")
[10:54:39] -rusti-                   ^~~~~~~~~~~~~~~~
[10:54:39] -rusti- application terminated with error code 101
[10:55:22] <dbaupp> skade: oversight/no-one thought to do it?
[10:55:34] <dbaupp> (well, no one thought about it and implemented it too)
[10:56:53] <skade> okay, I'll see if i can shave this yak ;)
[10:57:30] <skade> you cannot retrofit it because of "cannot provide an extension implementation for a trait not defined in this crate" :(
[10:57:38] <skade> didn't even know ~str is a trait
[10:57:46] <dbaupp> ~str isn't a trait
[10:57:49] *** flaper87|afk is now known as flaper87
[10:58:02] <dbaupp> FromStr is, which is what it is complaining about
[10:58:07] <kimundi> skade: Just make a PR that adds implementations for that to libstd
[10:58:21] *** jorendorff_away is now known as jorendorff
[10:58:23] <dbaupp> for an impl Trait for Type, at least one of the Trait and Type have to be defined in the current crate
[10:59:18] <dbaupp> (well, it's slightly subtle, e.g. Type == Option<TypeFromThisCrate> outside of std is ok, even though Option is defined in std)
[11:00:17] <skade> okay, then the error message is a bit misleading
[11:00:28] *** Joins: bytewise (bytewise@moz-4A801D04.unitymediagroup.de)
[11:01:20] <dbaupp> rusti: impl FromStr for ~str { fn from_str(s: &str) -> Option<~str> { s.to_owned() } }
[11:01:26] -rusti- pastebinned 8 lines of output: http://sprunge.us/XLQF
[11:01:33] *** Joins: marvin (marvin@moz-2C65B47D.dip0.t-ipconnect.de)
[11:01:41] *** Quits: marvin (marvin@moz-2C65B47D.dip0.t-ipconnect.de) (Quit: Leaving)
[11:02:23] <dbaupp> maybe "cannot implement this trait for this type since neither are defined in this crate"
[11:02:30] <dbaupp> or something like that
[11:02:33] * dbaupp shrugs
[11:04:01] *** kimundi is now known as zz_kimundi
[11:08:00] *** Joins: nik_ (nik@moz-3E87E33A.vpn.rwth-aachen.de)
[11:08:21] *** zz_kimundi is now known as kimundi
[11:09:53] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:12:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:13:24] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[11:15:00] *** Quits: Blub\w (wry@moz-CA5B1AC4.wireless.dyn.drei.com) (Quit: bbl)
[11:15:09] *** Quits: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) (Ping timeout)
[11:18:17] <kimundi> hmm...
[11:18:43] <flaper87> y
[11:18:45] <flaper87> ops
[11:25:11] *** Joins: Ms2ger (Ms2ger@moz-8D00CA6C.ugent.be)
[11:26:39] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[11:27:44] *** Joins: vodik (simon@moz-CBE4BB13.cable.teksavvy.com)
[11:29:00] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[11:29:27] *** jorendorff is now known as jorendorff_away
[11:32:02] *** Quits: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP) (Ping timeout)
[11:40:49] *** Joins: mdup (mdup@moz-2989B319.rev.numericable.fr)
[11:46:23] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Client exited)
[11:46:34] *** Joins: kvark (Mibbit@59C76305.8C19BC3D.26E1259.IP)
[11:47:02] <kvark> Good morning! I've got a run-time crash on boot with Rust-0.8. Could someone take a look please: https://gist.github.com/kvark/6792497
[11:48:04] <dbaupp> you don't happen to be fail!()-ing in a destructor, do you?
[11:48:05] <pnkfelix> kvark: best plan would be to file a bug on the github repo
[11:48:40] <pnkfelix> kvark: (but yeah, follow through with what dbaupp said, especially since a bug report without the source for a reduced test case is not so helpful)
[11:49:07] <kvark> dbaupp: it's during scene creation - I don't expect any destructors to be called. is this "glue_drop" thing about destruction?
[11:50:15] *** jorendorff_away is now known as jorendorff
[11:50:29] <dbaupp> kvark: yes, I believe that's the destructor... but that doesn't really make sense if things aren't getting cleaned up.
[11:50:34] <kvark> pnkfelix: I will definitely make a reduced testcase, if possible, and file a bug. Just wanted to know about a quick workaround just to get the thing running for once
[11:51:13] <dbaupp> (well, it is calling free, so it is destroying something)
[11:51:42] <kvark> dbaupp: I'm returning a huge structure in a function there, I'm expecting a *move* (of course)
[11:52:02] <dbaupp> kvark: code?
[11:52:45] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[11:53:17] <kvark> dbaupp: in a second, waiting for "hg push" to complete... (weak connection now)
[11:55:34] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[11:56:22] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[11:56:45] *** flaper87 is now known as flaper87|afk
[11:56:53] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[11:57:19] <kvark> dbaupp: here is the structure being destroyed: https://code.google.com/p/claymore-game/source/browse/util/codata/scene/chared/main.rs
[11:57:42] <kvark> and it is indeed destroyed, it's the derived structure that is moved
[11:58:21] <kvark> no destructors there, as far as I can tell
[11:58:35] <dbaupp> kvark: woaaah, that's generated code, right?
[11:58:40] <kvark> yeah
[11:58:43] <kvark> from Blender ;P
[11:58:56] <dbaupp> ~str has a destructor
[11:59:18] <dbaupp> (well, ~anything, including the "weird" ~str and ~[])
[11:59:32] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[11:59:56] <strcat> jld: around?
[12:00:07] <dbaupp> kvark: can you just delete large swathes of it and see if it's related to the size?
[12:00:47] <kvark> dbaupp I will; meanwhile, all structures used are declared here: https://code.google.com/p/claymore-game/source/browse/util/codata/scene/common.rs
[12:00:57] <kvark> you can see no destructors implemented
[12:01:11] <dbaupp> the crash is in the ~ dtor
[12:01:16] <dbaupp> (that's the exchange_free call)
[12:01:50] <kvark> alrighty, I'll isolate the case and try cutting down pieces of the structure
[12:02:00] <kvark> dbaupp: thanks for help!
[12:03:24] <dbaupp> kvark: can you run it under valgrind? (if so, what kinda of crash does it talk about?)
[12:03:51] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[12:04:35] *** Joins: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP)
[12:05:01] <kvark> will try now
[12:06:34] <strcat> small enums as immediate seems to work
[12:06:48] * strcat needs to check the edge cases
[12:08:16] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[12:08:30] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[12:09:06] <kvark> dbaupp: Invalid read of size 8
[12:09:12] <kvark> same callstack
[12:10:06] *** Quits: jj2baile (jon@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[12:11:32] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:12:11] <kvark> dbaupp: also, everything worked on 0.6, so this bug is a regression
[12:12:59] <dbaupp> kvark: hm... it may be a stack overflow
[12:13:02] <kvark> dbaupp: I've attached the full valgrind log to the https://gist.github.com/kvark/6792497
[12:13:30] <dbaupp> kvark: can you try running with RUST_MIN_STACK=8000000 (or larger)?
[12:13:50] * dbaupp is just guessing
[12:14:08] <dbaupp> (actually, I guess a stack overflow wouldn't make sense.)
[12:14:22] <kvark> doesn't help
[12:14:50] * dbaupp shrug
[12:14:51] <dbaupp> s
[12:15:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:16:48] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[12:17:18] *** flaper87|afk is now known as flaper87
[12:17:18] <strcat> dbaupp: https://github.com/mozilla/rust/pull/9677 r?
[12:18:53] <dbaupp> strcat: tests for this require IR tests, yeah?
[12:18:57] <strcat> yes
[12:18:58] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[12:19:52] *** Quits: Ms2ger (Ms2ger@moz-8D00CA6C.ugent.be) (Ping timeout)
[12:20:41] *** Quits: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) (Ping timeout)
[12:20:52] <dbaupp> strcat: I take it doing the same thing for ty::ty_struct hits more bugs?
[12:20:58] *** Joins: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net)
[12:21:01] <kvark> ok, I'll get back later with an issue on GH
[12:21:02] <strcat> dbaupp: yes
[12:21:04] *** Quits: kvark (Mibbit@59C76305.8C19BC3D.26E1259.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:21:09] <strcat> dbaupp: I am trying to figure out why
[12:21:13] <strcat> it works on small examples
[12:21:24] <strcat> the C-like enums require messing with expr.rs for sure
[12:21:35] <strcat> but also I think we pass them *to C* somewhere
[12:21:37] <strcat> and it's messed up
[12:22:06] <dbaupp> couldn't C-like enums be lowered to plain <whatever int type they are> + some range asserts?
[12:22:20] <dbaupp> i.e. automatically immediate?
[12:22:45] <strcat> expr.rs needs to be modified
[12:22:49] <strcat> and adt.rs
[12:23:01] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[12:23:16] <strcat> and whatever the assert I got from a foreign call wa
[12:23:16] <dbaupp> yeah, jld will presumably have some idea of what needs to be adjusted
[12:23:22] <strcat> was*
[12:24:48] * strcat glances at llvm-commits
[12:25:27] <strcat> someone implemented PGO
[12:25:41] <dbaupp> you make it sound so simple!
[12:25:42] *** Quits: nik_ (nik@moz-3E87E33A.vpn.rwth-aachen.de) (Ping timeout)
[12:26:04] <dbaupp> it's in LLVM, not too much in clang?
[12:26:25] <strcat> well it has to work with just LLVM for opt to work
[12:26:35] <dbaupp> awesome
[12:26:40] <strcat> dbaupp: someone also implemented escape analysis
[12:26:43] <strcat> that's more interesting
[12:26:51] <dbaupp> I saw someone link that
[12:26:52] <strcat> yet another optimization we're going to miss out on too
[12:26:55] <strcat> dbaupp: I did ;p
[12:26:56] <dbaupp> (possibly you, heh)
[12:26:59] <strcat> that was last week
[12:27:06] <dbaupp> if only our malloc worked with LLVM
[12:30:31] <dbaupp> strcat: why the priority?
[12:30:42] <strcat> dbaupp: to unblock myself
[12:30:45] <strcat> ;p
[12:30:56] <dbaupp> strcat: just work on top of that branch?
[12:30:56] <strcat> ofc I could also just make a branch this this commit in it...
[12:31:04] <strcat> true
[12:31:07] *** Joins: Kruppe (user@67DC0089.80DA567B.66C78069.IP)
[12:35:13] *** Joins: tgummerer (tgummerer@moz-4B463D12.kthopen.kth.se)
[12:36:06] *** jorendorff is now known as jorendorff_away
[12:37:16] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[12:41:26] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[12:43:44] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[12:44:10] *** Joins: nik_ (nik@moz-CC5E16D8.pool.mediaways.net)
[12:49:35] *** Joins: wakandan (Mibbit@EAAFB164.13322C48.EAD3CEA6.IP)
[12:51:11] *** Joins: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de)
[12:58:02] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[12:58:32] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[12:58:43] *** Quits: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net) (Ping timeout)
[12:58:52] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[13:03:07] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:03:41] *** Quits: timot_ (timot@moz-3896B0B8.cust.tele2.se) (Ping timeout)
[13:07:04] *** jorendorff_away is now known as jorendorff
[13:09:50] *** Joins: timot_ (timot@moz-3896B0B8.cust.tele2.se)
[13:14:07] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[13:14:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:17:45] *** jorendorff is now known as jorendorff_away
[13:18:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:20:37] *** Joins: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP)
[13:21:51] *** flaper87 is now known as flaper87|afk
[13:23:12] *** flaper87|afk is now known as flaper87
[13:24:05] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[13:24:05] *** ChanServ sets mode: +o jdm
[13:24:18] *** Quits: timot_ (timot@moz-3896B0B8.cust.tele2.se) (Ping timeout)
[13:24:53] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[13:25:26] *** Quits: DanC (connolly@moz-CAC8C247.dyn.everestkc.net) (Ping timeout)
[13:26:54] *** Joins: DanC (connolly@moz-CAC8C247.dyn.everestkc.net)
[13:27:17] *** Quits: nik_ (nik@moz-CC5E16D8.pool.mediaways.net) (Ping timeout)
[13:28:12] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[13:29:53] *** Joins: ahal (ahal@moz-101FBACE.eng.wind.ca)
[13:31:01] *** Quits: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de) (Quit: Lost terminal)
[13:31:14] *** Joins: fyolnish (fyolnish@moz-2DDC835D.uqwimax.jp)
[13:32:52] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[13:34:15] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[13:36:55] *** Joins: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de)
[13:37:44] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[13:39:18] *** Quits: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de) (Quit: Lost terminal)
[13:40:31] *** Joins: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de)
[13:41:06] *** Quits: Kruppe (user@67DC0089.80DA567B.66C78069.IP) (Ping timeout)
[13:41:47] *** Joins: nik_ (nik@moz-A75DDBCD.vpn.rwth-aachen.de)
[13:42:06] *** Quits: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de) (Quit: Lost terminal)
[13:45:25] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[13:45:31] *** Joins: Ms2ger (Ms2ger@moz-F19E3423.ugent.be)
[13:47:29] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[13:48:47] *** Joins: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de)
[13:49:27] *** Quits: DanC (connolly@moz-CAC8C247.dyn.everestkc.net) (Ping timeout)
[13:51:13] <skade> dbaupp: there we go https://github.com/mozilla/rust/pull/9681
[13:52:15] <dbaupp> skade: cool
[13:52:18] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:57:36] *** Joins: Kruppe (user@47D9A12A.80DA567B.66C78069.IP)
[13:58:25] *** Quits: Ms2ger (Ms2ger@moz-F19E3423.ugent.be) (Ping timeout)
[13:59:13] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[13:59:16] *** Quits: mdup (mdup@moz-2989B319.rev.numericable.fr) (Quit: mdup)
[14:04:06] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[14:04:46] *** Joins: DanC (connolly@moz-BEA079AC.kumc.edu)
[14:07:22] <kimundi> graaa, how can it be so hard to setup your clock under linux???
[14:07:33] <strcat> it's not hard ;p
[14:09:07] <kimundi> apparently my hardware clock is running on localtime, and my system is assuming that the hardwareclock is in utc, causing me to have an actual local time two hours in the future.
[14:09:21] <strcat> it's supposed to be UTC
[14:09:26] <kimundi> I know
[14:09:32] <kimundi> that's written everywhere
[14:09:43] <dbaupp> kimundi: `date -set="whatever"`?
[14:09:48] <dbaupp> *--set
[14:09:51] <strcat> so, set the time properly? ;p
[14:09:58] *** Joins: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net)
[14:09:59] <strcat> ideally with timedatectl so it sets the hardware clock for you
[14:10:04] <strcat> date is evil ;p
[14:10:09] <kimundi> What's not written everywhere is wether it is possible to change the hwclock time with an command, and if yes how to do that using ntp so that it is as exact as possible
[14:10:28] <strcat> timedatectl set-time "whatever"
[14:10:49] <strcat> or if you're in obsolete land, use hwclock -w
[14:10:58] <strcat> after using date
[14:12:04] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[14:12:07] *** Quits: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de) (Quit: Lost terminal)
[14:12:27] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[14:12:58] *** Quits: tgummerer (tgummerer@moz-4B463D12.kthopen.kth.se) (Ping timeout)
[14:15:11] *** Joins: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de)
[14:16:00] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:17:44] *** Quits: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de) (Ping timeout)
[14:17:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:18:41] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[14:18:42] <kimundi> strcat: my problem is that I don't understand how manually setting the time instead automatically per network can be the correct solution
[14:21:15] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:21:52] *** Joins: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[14:26:49] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[14:28:13] *** Joins: tgummerer (tgummerer@moz-4B463D12.kthopen.kth.se)
[14:29:45] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[14:30:48] *** flaper87 is now known as flaper87|afk
[14:34:24] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[14:34:28] *** Quits: wakandan (Mibbit@EAAFB164.13322C48.EAD3CEA6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:34:55] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:37:34] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[14:40:08] *** flaper87|afk is now known as flaper87
[14:42:21] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[14:42:41] *** Quits: Kruppe (user@47D9A12A.80DA567B.66C78069.IP) (Ping timeout)
[14:43:56] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[14:46:45] *** jorendorff_away is now known as jorendorff
[14:46:50] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[14:50:20] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[14:51:14] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:53:07] *** Quits: threecreepio (jdp@moz-1A9F0A3C.cust.bredband2.com) (Quit: threecreepio)
[14:53:28] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[14:53:47] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[14:55:24] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:58:57] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Ping timeout)
[14:59:08] <ChrisMorgan> skade: what did you think of my comments on the closure design of widmann?
[14:59:46] *** Joins: timot_ (timot@moz-857AE244.mobile.tre.se)
[14:59:54] *** Quits: isenmann (isenmann@moz-B656BA79.science-computing.de) (Quit: Leaving.)
[15:01:01] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[15:01:47] <skade> ChrisMorgan: well, first of all, that's the sinatra-clone part ;), so i haven't give that too much though except "is this possible" yet.
[15:02:12] <skade> on the other hand, it has the clear advantage of having a "before" and "after", which, from a framework perspective is very neat
[15:02:30] *** Quits: tgummerer (tgummerer@moz-4B463D12.kthopen.kth.se) (Ping timeout)
[15:04:04] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[15:05:11] <ChrisMorgan> skade: is that actually going to help you anywhere?
[15:06:07] <skade> currently not, as routes are a flat list of regexps, but a good router usually compiles routes to a tree
[15:06:19] <skade> which could be done right after the "routes" step
[15:06:33] * ChrisMorgan likes Pyramid's traversal-rather-than-routing design
[15:08:59] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[15:09:27] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:10:49] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[15:11:11] <skade> yep, but it comes with a lot of edge-cases
[15:11:52] <skade> also, its generally unwise to nest stuff to much in an API, so its a lot of work for 1 level of resources :)
[15:14:38] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[15:15:24] <nejucomo> I'm reading over extra::getopts…  Why is there no equivalent of extra::getopts::groups::usage for non-group options?
[15:16:09] <nejucomo> Is getopts::groups::* to be used as an alternative to getopts::* or as a complement?
[15:16:22] <kimundi> nejucomo: Don't look for a 'why' ;) That code is ancient, nothing was designed
[15:16:25] *** Joins: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br)
[15:16:46] <luisbg> kimundi, heh
[15:16:47] <kimundi> nejucomo: It should probably get rewritten/replaced completely
[15:17:01] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[15:17:02] <luisbg> nejucomo, you can fix it :)
[15:17:18] <nejucomo> Yes… well...
[15:17:30] <kimundi> I update the freestanding functions there to methods recently, and the hardest part was to ignore all the API cruft
[15:17:41] <nejucomo> I noticed in the very first docstring example it has "exter mod …" which surprised me because I thought docstring examples were unit-tested.
[15:17:55] <nejucomo> Ok.  Good to know.
[15:18:20] <kimundi> nejucomo: docstring examples actualy aren'T unit tested at all
[15:18:31] <kimundi> nejucomo: the manual and tutorial are
[15:18:33] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[15:18:51] <nejucomo> Oh.  I see.  Maybe I should focus on that then.  ;-)
[15:19:29] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:19:46] <kimundi> new rustdoc needs to be able to dump all code examples, and then a script can be used to extract the rust code in it and test it like what happens with the manual/tutorials
[15:20:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:20:47] <ChrisMorgan> skade: Pyramid's traversal is far from perfect (e.g. as noted at http://me.veekun.com/blog/2011/07/14/pyramid-traversal-almost-useful/), but the fundamental concept is sound for many domains, if implemented better.
[15:21:10] <nejucomo> With the rustpkg conventions, is it possible to have multiple binaries in one "package"?  So far I've just made a single mypkg/main.rs that becomes $WORKSPACE/bin/mypkg
[15:21:29] <nejucomo> (I'm happy with 1 binary per package, just curious.)
[15:21:56] <kimundi> nejucomo: I think that is possible
[15:22:15] *** Joins: Kruppe (user@67DC0089.80DA567B.66C78069.IP)
[15:22:22] <kimundi> A package should in theory be able to include N crates and other libraries, like for example C ones
[15:22:35] <kimundi> how far we are with that implementation-wise, no idea
[15:23:09] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:24:05] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:25:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:25:23] <skade> ChrisMorgan I agree that it's useful, but very hard to get right and overkill in a lot of cases. Also, either has to make a lot of assumptions about your datastore or will lead to subpar perfomance.
[15:25:40] <ChrisMorgan> Definitely true.
[15:26:05] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[15:26:05] *** ChanServ sets mode: +o jdm
[15:27:24] <nejucomo> I've started wondering if the rustc can automatically, safely, and transparently translate "f(g(…), &h(…), …)" to "{ let result_g = g(…); let result_h = h(…); f(result_g, &result_h, …) }"
[15:27:55] <nejucomo> The idea is that borrow checking would change in a hopefully correct and backwards compatible way, but the generated llvm would be identical after some optimization pass.
[15:28:34] <nejucomo> I'm not certain, even if it were "transparent" and "safe", if it's a good idea.  It's just that I keep assuming borrow checking can handle f(g())
[15:30:34] *** Joins: jdm_ (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[15:30:40] *** Quits: fabiand (fabiand@moz-F8931DC3.adsl.alicedsl.de) (Quit: Verlassend)
[15:31:06] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Ping timeout)
[15:31:12] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[15:31:18] *** Quits: ahal (ahal@moz-101FBACE.eng.wind.ca) (Ping timeout)
[15:31:25] *** jdm_ is now known as jdm
[15:31:40] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[15:32:08] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:32:08] *** flaper87 is now known as flaper87|afk
[15:33:01] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Ping timeout)
[15:33:35] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[15:33:53] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[15:34:52] <bstrie> < strcat> bstrie: so are you saying you want me to make a blog? ;p
[15:35:00] <bstrie> strcat: I'm saying that if you made a blog, I would read it :)
[15:39:02] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[15:39:30] <nejucomo> Wow…  I try not to complain about code quality, but getopts is pretty messy.
[15:39:36] *** Quits: bytewise (bytewise@moz-4A801D04.unitymediagroup.de) (Quit: Leaving)
[15:40:26] <strcat> it's old/crufty
[15:42:06] *** Joins: epi (Mibbit@moz-216CF110.bb.netbynet.ru)
[15:42:29] *** Joins: jj2baile (jon@moz-AB7945E9.csclub.uwaterloo.ca)
[15:43:02] *** flaper87|afk is now known as flaper87
[15:43:12] *** Joins: girl-sexy (girl-sexy@24D51DE0.B183159.472AAD58.IP)
[15:44:06] *** Quits: timot_ (timot@moz-857AE244.mobile.tre.se) (Ping timeout)
[15:45:01] *** Quits: epi (Mibbit@moz-216CF110.bb.netbynet.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[15:45:13] <nejucomo> Here's an example of how stubborn/confused I am about workspaces: http://sebsauvage.net/paste/?e4797b32480ce9b7#A4KL/86CoMySEWE3jDU6TukRucfRT2y21VAHy3IKgtA=
[15:45:38] *** Quits: Kruppe (user@67DC0089.80DA567B.66C78069.IP) (Ping timeout)
[15:47:20] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[15:49:34] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[15:49:37] *** Joins: vodik (simon@moz-B2DD01ED.net.uwaterloo.ca)
[15:52:08] *** Joins: yonran (yonran@moz-962F33EB.acuitus.com)
[15:54:09] *** Quits: oleavr (oleavr@5CE161CF.14417725.ACE9CB65.IP) (Quit: oleavr)
[15:55:45] *** Quits: girl-sexy (girl-sexy@24D51DE0.B183159.472AAD58.IP) (Quit: )
[15:57:16] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:58:18] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:58:18] *** ChanServ sets mode: +ao dherman dherman
[15:58:33] *** Joins: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[16:00:28] *** Joins: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de)
[16:01:32] *** Joins: Ms2ger (Ms2ger@moz-2F2A356D.adsl-dyn.isp.belgacom.be)
[16:03:05] *** Joins: a_m0d (dschoof@moz-670D1285.commercial.cgocable.net)
[16:04:18] <nejucomo> Is there a way to exit with a specific status from within a non-main function?  (-with completely controlled out/err, so not fail! )
[16:04:20] *** Quits: vodik (simon@moz-B2DD01ED.net.uwaterloo.ca) (Quit: class)
[16:04:28] *** Joins: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se)
[16:04:36] <kimundi> not currently
[16:04:57] *** jdm is now known as jdm|f00d
[16:05:21] <kimundi> there is libc::exit, but that causes memory corruption on exit
[16:05:23] <strcat> rusti: extern { fn _exit(status: u32); } _exit(0)
[16:05:26] -rusti- <anon>:7:43: 8:5 error: call to unsafe function requires unsafe function or block
[16:05:26] -rusti- <anon>:7          extern { fn _exit(status: u32); } _exit(0)
[16:05:26] -rusti- <anon>:8     };
[16:05:26] -rusti- error: aborting due to previous error
[16:05:26] -rusti- application terminated with error code 101
[16:05:29] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[16:05:32] <strcat> rusti: extern { fn _exit(status: u32); } unsafe { _exit(0) }
[16:05:33] -rusti- <anon>:7:52: 7:57 error: invoking non-Rust fn in fn without #[fixed_stack_segment] [-D cstack (default)]
[16:05:33] -rusti- <anon>:7          extern { fn _exit(status: u32); } unsafe { _exit(0) }
[16:05:33] -rusti-                                                              ^~~~~
[16:05:33] -rusti- error: aborting due to previous error
[16:05:35] -rusti- application terminated with error code 101
[16:05:50] <strcat> rusti: extern { fn _exit(status: u32); } #[fixed_stack_segment] fn foo { unsafe { _exit(0) } } foo()
[16:05:51] -rusti- <anon>:7:73: 7:74 error: expected `(` but found `{`
[16:05:51] -rusti- <anon>:7          extern { fn _exit(status: u32); } #[fixed_stack_segment] fn foo { unsafe { _exit(0) } } foo()
[16:05:51] -rusti-                                                                                   ^
[16:05:51] -rusti- application terminated with error code 101
[16:05:55] * strcat gives up ;p
[16:05:55] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[16:05:57] <bstrie> strcat: I am also saying that if you wrote a blog post I would post it on the internet for imaginary internet points
[16:06:03] <strcat> rusti: extern { fn _exit(status: u32); } #[fixed_stack_segment] fn foo() { unsafe { _exit(0) } } foo()
[16:06:11] <strcat> rusti: extern { fn _exit(status: u32); } #[fixed_stack_segment] fn foo() { unsafe { _exit(1) } } foo()
[16:06:12] -rusti- application terminated with error code 1
[16:06:12] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Connection reset by peer)
[16:06:16] <strcat> rusti: extern { fn _exit(status: u32); } #[fixed_stack_segment] fn foo() { unsafe { _exit(5) } } foo()
[16:06:16] -rusti- application terminated with error code 5
[16:06:23] <strcat> just can't use the normal exit that calls atexit
[16:06:32] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[16:07:04] <strcat> atexit handlers
[16:07:48] *** Joins: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de)
[16:08:57] *** Joins: timot_ (timot@moz-E599A11C.in-addr.nilings.se)
[16:11:17] *** Joins: Jesin (Jessin_@moz-828D006F.cc.lehigh.edu)
[16:12:37] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[16:14:22] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[16:14:22] *** Quits: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net) (Connection reset by peer)
[16:15:33] *** Joins: ahal (ahal@moz-101FBACE.eng.wind.ca)
[16:15:42] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:17:46] *** Quits: jj2baile (jon@moz-AB7945E9.csclub.uwaterloo.ca) (Client exited)
[16:17:46] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Input/output error)
[16:19:26] *** Joins: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net)
[16:19:45] *** Joins: timot (timot@1C5B7AF5.87C6DE19.CBC7865F.IP)
[16:21:10] *** Quits: timot_ (timot@moz-E599A11C.in-addr.nilings.se) (Ping timeout)
[16:23:00] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[16:24:00] *** Quits: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de) (Ping timeout)
[16:24:01] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:24:04] <kimundi> test
[16:24:05] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[16:24:14] <bstrie> kimundi: didn't work :(
[16:24:26] <kimundi> damn
[16:24:28] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[16:25:19] <kimundi> /me totally expected bstrie to comment on that though
[16:25:25] <bstrie> haha
[16:25:38] <kimundi> Hm, emotes don'T work this way...
[16:27:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:27:29] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[16:28:45] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[16:29:39] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[16:31:35] <erickt_> elly: ping
[16:32:50] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[16:34:58] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[16:36:38] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[16:37:09] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[16:37:20] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:37:20] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[16:39:33] *** Quits: ahal (ahal@moz-101FBACE.eng.wind.ca) (Ping timeout)
[16:44:15] *** Joins: buptor (Mibbit@moz-DBB8B716.bootp.virginia.edu)
[16:44:44] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[16:45:16] *** Joins: timot_ (timot@moz-E599A11C.in-addr.nilings.se)
[16:45:51] <bjz> \o/ no more float
[16:45:54] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[16:46:08] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[16:46:23] *** Quits: timot (timot@1C5B7AF5.87C6DE19.CBC7865F.IP) (Ping timeout)
[16:46:31] <bjz> rusti: std::num::sqrt(3.0)
[16:46:34] -rusti- 1.73205081f64
[16:47:10] <strcat> bjz: it defaults to f64 now
[16:47:14] <bjz> yup
[16:47:15] <bjz> nice
[16:48:49] <bjz> strcat: I wonder if int/uint should just be platform-specific aliases
[16:49:49] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[16:50:06] <cmr> typedefs in std?
[16:50:12] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Quit: No Ping reply in 180 seconds.)
[16:50:16] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[16:50:16] <bjz> yah
[16:50:46] <buptor> Hi all, I'm tasting the new network interface in Rust 0.8, but I couldn't even compile the test code from library source. Could you take a look at my code and help me debug? The source code and compiling error are here: http://pastebin.com/Cz2Aps4g
[16:50:47] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Connection reset by peer)
[16:51:02] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[16:51:09] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[16:51:33] <bjz> do you need to import a Read or Write trait?
[16:51:45] <bjz> not too familiar with newrt
[16:52:05] <pepper_chico> guys, do you believe that 1.0 is very far away, and that would mean an stable release?
[16:52:09] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[16:52:13] <pepper_chico> no year estimate?
[16:52:15] <cmr> buptor: https://github.com/cmr/rust-examples/blob/master/echo_server.rs is a working example.
[16:52:26] <bjz> pepper_chico: I wouldn't put my money on this year
[16:52:32] <cmr> pepper_chico: 1.0 means at least backwards compatible.
[16:52:52] <pepper_chico> I'm already expecting next year
[16:53:06] <bjz> pepper_chico: at the least halfway through next year
[16:53:13] <cmr> I wouldn't think Q3 or Q4 2014 as unreasonable.
[16:53:21] <bjz> pepper_chico: but I wouldn't want them to rush
[16:53:30] <pepper_chico> hmm, ok
[16:53:34] <pepper_chico> bjz, me too
[16:54:05] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[16:54:14] <pepper_chico> it's that it's so in flux now that I though whether it would get there even next year
[16:54:25] <bjz> pepper_chico: it's not too bad tbh
[16:54:29] <pepper_chico> s/though/thought/
[16:55:04] <bjz> and its slowing down
[16:55:22] <buptor> cmr: great! thanks, it works for me. but I'm curious how could you test the library with the original code.
[16:55:27] *** Joins: jj2baile (jon@moz-AB7945E9.csclub.uwaterloo.ca)
[16:55:31] <bjz> most of the breaking changes are happening in the libs
[16:55:36] <bjz> now
[16:55:39] <buptor> bjz: thank you all the same
[16:55:54] <bjz> buptor: np!
[16:56:31] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[16:56:46] <cmr> buptor: Oh, it's because you're including the prelude after std::rt::io::*
[16:56:58] <cmr> buptor: the Reader/Writer in there will shadow the stuff from rt
[16:57:03] <pnkfelix> bjz: maybe my intuition is wrong here; why it would it make things better to have int/uint be platform specific aliases?  I don't know if its a good idea to make it ease for people to mistakenly build in portability errors...
[16:57:35] <pnkfelix> bjz: (though TBH I don't have an intuition as to how hard it is to make such mistakes now...)
[16:57:36] <cmr> pnkfelix: that's a good point.
[16:58:06] <bjz> pnkfelix: yeah, makes sense
[16:58:16] <cmr> buptor: (... I think)
[16:58:31] <luisbg> acrichto, thanks :)
[16:58:34] <bjz> pnkfelix: people already get confused when using the c types
[16:58:55] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[16:59:04] <bjz> pnkfelix: I constantly get casts to i32 in PRs to my C bindings
[16:59:11] <buptor> cmr: oh, may be, thanks.
[16:59:38] <Amaranth> I'm pretty sure my sdl2 bindings have some of that
[16:59:53] <bjz> Amaranth
[17:00:15] <bjz> Amaranth: yeah it's hard for folks to work it out from the error messages
[17:00:25] *** Quits: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br) (Quit: Ex-Chat)
[17:01:22] <bjz> the docs aren't all that nice for libc either: http://static.rust-lang.org/doc/master/std/libc/index.html
[17:01:40] <bjz> if you skim past the description that is
[17:01:52] <bjz> (as I'm sure most folks would)
[17:02:31] <nejucomo> So a macro rule is: ( … ) => ( … )     -or-  ( … ) => { … }   -correct?
[17:02:53] *** jdm|f00d is now known as jdm
[17:02:56] <bjz> nejucomo: I think that might be broken
[17:03:02] <myname> i believe it is something => expression
[17:03:05] <nejucomo> The () or {} are not part of the expansions, so to expand to a tuple it must look like: (…) => ((…))   -or-   (…) => {(…)}
[17:03:06] <bjz> nejucomo: they both work
[17:03:15] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[17:03:27] <nejucomo> -and to expand to a bracket expression it must be:  (…) => ({…})    -or-   (…)  => {{...}}
[17:04:00] <bjz> rusti: let x: std::libc::c_float = 3.0; let y: float = x;
[17:04:01] -rusti- <anon>:7:49: 7:54 error: use of undeclared type name `float`
[17:04:02] -rusti- <anon>:7          let x: std::libc::c_float = 3.0; let y: float = x;
[17:04:02] -rusti-                                                           ^~~~~
[17:04:02] -rusti- error: aborting due to previous error
[17:04:02] -rusti- application terminated with error code 101
[17:04:03] <nejucomo> bjz: I'm not sure what you mean about broken, but I just saw this commit: https://github.com/mozilla/rust/commit/8284df9e7c3b26897d65935eaa7acee1a956a450
[17:04:14] <bjz> rusti: let x: std::libc::c_float = 3.0; let y: f64 = x;
[17:04:15] -rusti- <anon>:7:55: 7:56 error: mismatched types: expected `f64` but found `f32` (expected f64 but found f32)
[17:04:15] -rusti- <anon>:7          let x: std::libc::c_float = 3.0; let y: f64 = x;
[17:04:15] -rusti-                                                                 ^
[17:04:15] -rusti- error: aborting due to previous error
[17:04:15] -rusti- application terminated with error code 101
[17:04:17] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:04:25] <bjz> Amaranth pnkfelix: ^
[17:04:29] <nejucomo> I think the expansion must be => { expr }, not => expr
[17:04:44] <cmr> bjz: So the problem is typedefs go away too soon in compilation?
[17:05:03] <Amaranth> I think the only mixups I might have had were in converting to/from the C API
[17:05:24] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[17:05:30] <Amaranth> Because sdl2 has wrapper functions/methods around as much of the C API as possible
[17:05:55] <bjz> cmr: yeah, you can't see the chain of type aliases. or maybe its more you don't see the top level alias in the error
[17:06:09] <bjz> nejucomo: ah neat
[17:06:16] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[17:06:32] <elly> erickt_: pong
[17:06:45] <bstrie> elly! \o/
[17:06:51] <bjz> nejucomo: I wonder if that is a duct-tape patch though :/
[17:07:41] <nejucomo> It doesn't change the actual behavior/semantics of "valid" expansion, but it makes a silent failure into an explicit error.
[17:07:45] <bjz> yeah
[17:07:55] <bjz> I've been bitten by that error too
[17:07:58] <nejucomo> Certainly a good thing, although I wonder about changing the semantics...
[17:07:59] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:07:59] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:08:07] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:08:14] <elly> hey all :)
[17:08:19] *** Quits: skade (skade@moz-F79933C8.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:08:25] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:09:00] <bjz> Amaranth: my issue is with contributors who are not used to working with the libc type aliases
[17:09:31] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:10:04] <bjz> Amaranth: they see the root type of the alias in an error message, so cast to that, rather than doing it in a platform independant way
[17:10:18] <bstrie> elly: you've been away for so long that nobody remembers that you were the one who wrote the original rustpkg :P
[17:10:34] <bjz> elly: you were?!
[17:10:39] <bstrie> cargo!
[17:10:41] <Amaranth> Yeah pretty sure I've got a few of those with my name on it
[17:11:06] <bjz> Amaranth: it's even more insidious when you do:
[17:11:14] <bjz> rusti: let x: std::libc::c_float = 3.0; let y: f32 = x;
[17:11:16] -rusti- <anon>:7:46: 7:47 warning: unused variable: `y` [-W unused-variable (default)]
[17:11:16] -rusti- <anon>:7          let x: std::libc::c_float = 3.0; let y: f32 = x;
[17:11:16] -rusti-                                                        ^
[17:11:16] -rusti- ()
[17:11:34] <bstrie> elly: btw, you may have noticed that we replaced cargo :)
[17:11:36] <bjz> maybe more true of the int types though
[17:11:48] <bstrie> we have also replaced... everything else
[17:12:07] <bjz> rusti: let x: std::libc::c_char = 3; let y: u32 = x;
[17:12:07] -rusti- <anon>:7:52: 7:53 error: mismatched types: expected `u32` but found `i8` (expected u32 but found i8)
[17:12:07] -rusti- <anon>:7          let x: std::libc::c_char = 3; let y: u32 = x;
[17:12:07] -rusti-                                                              ^
[17:12:08] -rusti- error: aborting due to previous error
[17:12:08] -rusti- application terminated with error code 101
[17:12:09] <bstrie> the half-life of rust code is approximately six months
[17:12:18] <nejucomo> I liked the name "cargo".
[17:12:47] <bjz> yeah, was kinda nice. I liked core instead of std. but yeah, things change
[17:13:14] <elly> bstrie: hahaha, yes I did
[17:13:17] <elly> bjz: yep
[17:13:18] <bjz> it will probably make more sense when you can do `$ rust pkg build foo`
[17:13:29] <elly> the first three cargos, really :P a shell script, then a python script, then a rust program
[17:13:38] <bjz> elly: nice
[17:13:38] <elly> "but the first two never escaped the lab"
[17:13:45] <nejucomo> :-)
[17:13:48] <bjz> elly: were you here from the start?
[17:14:01] <elly> I don't know about that
[17:14:05] <elly> I just wanted to write one
[17:14:12] <elly> does anyone know what erickt_ wanted?
[17:14:28] <bjz> elly: pre 0.1...0.2..?
[17:14:50] <bjz> elly: just haven't seen you around all that much :)
[17:14:59] <elly> this was back in 0.1 times I think
[17:15:04] <elly> you'd have to ask someone older
[17:15:12] <bstrie> elly: no idea what erickt wanted
[17:15:23] <bstrie> bjz: cargo predates 0.1
[17:15:33] <bjz> elly: wow. yeah rust was much different back then
[17:15:43] <cmr> bstrie: old rustdoc lived for a year+ I think
[17:16:25] <bjz> we still have the vestigual 'crate' name hanging around
[17:16:40] <bstrie> cmr: a half-life is probabilistic :)
[17:16:43] <cmr> crate is really the best name for it
[17:16:54] <bjz> yeah?
[17:16:59] *** Quits: Jesin (Jessin_@moz-828D006F.cc.lehigh.edu) (Input/output error)
[17:17:06] <cmr> bstrie: touché
[17:17:08] <bjz> a crate of packages?
[17:17:15] <cmr> the only thing better is compiland
[17:17:24] <cmr> no, a crate is the unit of compilation, nothing to do with packages :p
[17:17:53] <bjz> we need a glossary x)
[17:18:00] <cmr> Yes, we really do, actually.
[17:18:05] <bjz> :P
[17:18:21] <bjz> a rustinary
[17:18:25] <engla> That's a good idea
[17:18:30] <bjz> or rusticon
[17:18:35] <bjz> :P
[17:18:51] <cmr> Rusticon, yes, I like this idea.
[17:18:56] <bjz> I might start a wiki
[17:19:02] <bjz> do you mind?
[17:19:04] <bstrie> <3 the word "rusticon"
[17:19:46] <cmr> no, go ahead!
[17:19:54] *** Joins: mdup (mdup@moz-2989B319.rev.numericable.fr)
[17:21:14] *** Joins: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de)
[17:22:23] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[17:23:54] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[17:24:24] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:27:19] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[17:27:32] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[17:28:39] *** Joins: eatkinson (eatkinson@moz-D86C5DB2.airbears2.berkeley.edu)
[17:28:51] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[17:29:15] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[17:29:47] <cmr> dbaupp: bach of 166 benches just set off
[17:30:22] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:31:14] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[17:31:50] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[17:32:13] *** Joins: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de)
[17:32:44] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:33:32] <pcwalton> wow, https://kidoman.com/programming/go-getter.html is extremely dishonest
[17:33:37] <pcwalton> please don't post this to the mailing list :(
[17:34:50] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[17:35:02] <sw17ch> pcwalton: having not read it, anything in particular?
[17:35:41] <sw17ch> perhaps I should just read it.
[17:35:47] <sfackler> looks like he optimized the go version and didn't touch the c++ version
[17:35:58] <engla> it doesn't mention Rust
[17:36:18] <pcwalton> sfackler: right
[17:36:39] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[17:36:39] *** Joins: slackito (slackito@moz-7779E4A6.dyn.user.ono.com)
[17:36:45] <pcwalton> it's surprising to me that it's not common knowledge that 6g/8g is not an optimizing compiler
[17:37:23] *** Quits: buptor (Mibbit@moz-DBB8B716.bootp.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[17:37:25] <engla> I don't see what's dishonest about it
[17:37:27] <Yurume> ha, flat line on C++...
[17:37:28] <bjz> hahaha
[17:37:36] <Eridius> btw it was already posted
[17:37:43] <sfackler> engla: the dishonest part is the graph at the end imo
[17:37:52] <bjz> pcwalton: that's so sad it's almost funny
[17:38:01] <pcwalton> it's dishonest to claim that Go is somehow 4x faster than C++
[17:38:18] <bjz> pcwalton: now, does his program fit on a bussiness card?
[17:38:20] <Yurume> engla, when benchmarking a particular program in two languages one should be careful not to benchmark the differently optimized version of the same program
[17:38:29] <pcwalton> "We are comparing C++ to a language which not only has garbage collection built into the statically compiled binary, it also has the ability to handle multiple cores / synchrony baked right into the language"
[17:38:36] <pcwalton> no, you didn't compare at all
[17:38:45] <Yurume> and the post manages not to optimize C++ program at all
[17:38:50] <nejucomo> bjz: +1 on a wiki.  Where will it live?
[17:39:02] <doomlord_> maybe you could be faster than C++ if you didn't collect the garbage :) do they state memory consumption
[17:39:10] <engla> there is no way to directly compare anyway. just write down what you did, plot the result, reader can judge that
[17:39:11] <nejucomo> I would appreciate a user section where I can dump various unrefined thoughts / experiments.
[17:39:28] <lkuper> completely irrelevant Grinnell plug: that business-card ray tracer was written by a fellow Grinnell alum and, I believe, classmate of dherman's
[17:39:32] *** Joins: tjc (tjc@4DBA3B45.81A2ADB4.284344F5.IP)
[17:39:32] *** ChanServ sets mode: +o tjc
[17:39:42] *** Joins: Jesin (Jessin_@moz-828D006F.cc.lehigh.edu)
[17:39:55] <dherman> lkuper: ian atha? not a classmate of mine, but I did meet him
[17:40:04] <lkuper> dherman: Andrew Kensler
[17:40:13] <dherman> oh yes
[17:40:16] <dherman> he was a classmate
[17:40:36] <lkuper> also, he wrote it in 2008 and HN didn't discover it until last month, not like that's anything new
[17:41:48] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[17:41:53] <lkuper> although to be fair, fabien sanglard's amazingly good explanation of how it works is from last month
[17:42:16] *** Quits: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de) (Quit: Lost terminal)
[17:42:40] *** Quits: nik_ (nik@moz-A75DDBCD.vpn.rwth-aachen.de) (Ping timeout)
[17:43:07] <bjz> pcwalton: https://kidoman.com/programming/go-getter.html#comment-1067653655
[17:43:40] <bjz> nejucomo: I'm adding a page to the wiki on github
[17:44:49] <bstrie> pcwalton: was that posted somewhere rust-related?
[17:44:58] <pcwalton> bstrie: on rust-dev
[17:45:07] <bstrie> ah I see
[17:46:03] <nejucomo> bjz: Ok.
[17:46:38] <Amaranth> pcwalton: Wha? Go's compiler does optimizations
[17:46:46] <pcwalton> it's not SSA form
[17:46:52] <Amaranth> Sure
[17:47:00] <pcwalton> so that closes off most optimizations
[17:47:05] <pcwalton> at least, doing them well
[17:47:15] <pcwalton> it doesn't even really have an IR as far as I know
[17:47:44] <Amaranth> Sure but it's not doing a literal translation of your code either, there is optimization work done there
[17:47:59] <pcwalton> there were a bunch of compilers that tried to get by without doing SSA form when GCC was up and coming
[17:48:01] <Amaranth> It's just optimization like a compiler from 20 years ago
[17:48:02] <pcwalton> GCC crushed them one by one
[17:48:05] <pcwalton> by like 2x and 3x
[17:48:08] <pcwalton> it wasn't even funny
[17:48:23] <Amaranth> MSVC doesn't have an IR and seems to do alright
[17:49:05] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Client exited)
[17:49:07] <pcwalton> it doesn't?
[17:49:09] <pcwalton> that's strange
[17:49:19] <cmr> no, it doesn't, it's quite puzzling.
[17:49:19] <lkuper> do we have any way of knowing whether it does?
[17:49:27] <Amaranth> Pretty sure at the last Going Native they said it was on their todo list to make it have one :P
[17:49:40] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[17:50:47] *** Quits: eatkinson (eatkinson@moz-D86C5DB2.airbears2.berkeley.edu) (Quit: eatkinson)
[17:50:56] <pcwalton> so "optimizing compiler" is a tough term to nail down
[17:51:58] *** flaper87 is now known as flaper87|afk
[17:52:31] <pcwalton> but at least for me you need a good register allocator, a pattern matching instruction selector, constant propagation, copy propagation, global value numbering, scalar replacement of aggregates, sparse conditional constant propagation, good inlining
[17:52:36] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[17:52:57] *** jorendorff is now known as jorendorff_away
[17:52:57] <pcwalton> LICM too
[17:53:03] <pcwalton> I'm sure there's stuff I'm forgetting
[17:53:24] *** Joins: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de)
[17:53:24] <pcwalton> anyway, I don't think they can add it to 6g/8g without severely regressing compile time performance
[17:53:31] <pcwalton> which is fine, it's not one of their goals
[17:53:39] <cmr> one of go's goals was fast compiles, I thought
[17:53:40] <pcwalton> I just take issue with the idea that those optimization passes are somehow unnecessary or useless
[17:53:44] <pcwalton> it is
[17:55:22] <pcwalton> oh, also you need alias analysis to do a lot of these well
[17:55:38] *** Quits: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de) (Ping timeout)
[17:56:51] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[17:57:11] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[17:57:13] *** Joins: nik_ (nik@moz-CC5E16D8.pool.mediaways.net)
[17:59:45] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[18:01:34] *** flaper87|afk is now known as flaper87
[18:03:00] *** Quits: mdup (mdup@moz-2989B319.rev.numericable.fr) (Quit: mdup)
[18:03:19] *** Parts: jdsanders (Adium@moz-F45527D6.hlrn.qwest.net) ()
[18:03:20] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[18:03:37] *** Joins: papalazarou (papalazaro@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[18:06:03] *** Joins: mdup (mdup@moz-2989B319.rev.numericable.fr)
[18:07:46] *** Quits: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de) (Quit: Lost terminal)
[18:07:59] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[18:08:45] <glyc> is there an atoi equivalent for rust str?
[18:09:22] <pcwalton> FromStr::from_str
[18:09:29] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[18:09:31] <glyc> pcwalter: thanks!
[18:09:43] <Eridius> which is in the prelude btw
[18:09:45] <glyc> pcwalton: ugh, can't type. sry
[18:09:49] <Eridius> rusti: let x: int = from_str("3"); x
[18:09:51] -rusti- pastebinned 7 lines of output: http://sprunge.us/TBSf
[18:10:07] <Eridius> well that would have worked if I remembered that it returned Option
[18:10:38] <glyc> Eridius: :-) thanks!
[18:11:52] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[18:12:18] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:14:06] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[18:16:07] *** Quits: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:17:58] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[18:18:15] *** Joins: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de)
[18:18:22] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[18:19:00] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[18:19:05] *** Quits: skade (skade@moz-3E9F18BB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:19:23] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:20:04] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[18:23:54] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:25:13] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[18:27:58] <bjz> cmr: https://github.com/mozilla/rust/wiki/The-Rusticon
[18:28:07] <bjz> :P
[18:28:30] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[18:28:31] <cmr> bjz: woo!
[18:28:44] <benh> Thought it was a pun on "rubicon" for a moment and was about to complain that the ruby crowd has it so easy ;)
[18:28:46] <bjz> Lots more to do
[18:29:17] <bjz> ofc 'bikeshed' is the top term
[18:29:28] <benh> 'where rust is developed'
[18:29:29] <bjz> x]
[18:29:49] <tjc> Heh, I thought "The Rusticon" would be the name for our first Rust conference
[18:30:07] <bjz> oh
[18:30:14] <bjz> tjc: sorry!
[18:30:26] <bjz> tjc: we can change the name
[18:30:35] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[18:30:37] <bstrie> rustonomicon
[18:30:44] <bjz> hahaha
[18:31:06] <bstrie> also note that technically you're all wrong since the rusticon is http://www.rust-lang.org/logos/rust-logo-blk.svg
[18:31:13] <SiegeLord> I thought it was going to deal with the Rust icon
[18:31:30] <cmr> I thought it was a play on lexicon
[18:31:40] <bjz> me too :[
[18:31:45] *** Joins: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:32:00] * bjz will just rename it 'glossary' then
[18:32:00] <bstrie> lexicrust
[18:32:17] <bjz> -_-#
[18:32:28] <nejucomo> We can resolve the name conflict by rendering the complete lexicon into the shape of the logo to make the Rusticon.
[18:32:50] <kimundi> rustary?
[18:33:16] <bstrie> how about "thesaurust"
[18:33:31] <bjz> HAH
[18:33:41] <bstrie> please do not use "thesaurust"
[18:34:00] <bjz> we need a thesaurus just so we can use that
[18:34:45] <nejucomo> One benefit of a "silly unique" name is searchability.
[18:35:00] <nejucomo> Right now, searches often hit non-proglang links.
[18:35:11] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[18:35:45] <bstrie> you can probably just leave it as The Rusticon
[18:35:55] <nejucomo> Hrm…  I just tried a few rust-lang topical searches and got all rust-lang hits…  I'm trying to remember the searches I've done that show other random shtuff.
[18:36:19] <bstrie> I've *already* organized rust conferences and standardized on a naming convention: RUSTCON $LOCATION '012
[18:36:22] <bjz> nejucomo: Google learns if you're logged in
[18:36:34] <bstrie> note the difference between Rusticon and RUSTCON
[18:36:35] <nejucomo> Yeah…  stupid filter bubble.  Closing off the world.
[18:37:01] <nejucomo> Oh, I remember that "rust garbage collection" on youtube had many amusing videos of … well… garbage trucks.
[18:37:06] <bjz> bstrie: yeah, I thought RustCon was for conferences, distinct from Rusticon x)
[18:37:08] <nejucomo> -and maybe some sorts of music videos.
[18:37:14] <bjz> hqha
[18:37:35] <luisbg> bors closed an issue that should remain open, since it is a generic issue that covers a big span of things
[18:37:40] *** Joins: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de)
[18:37:49] <bstrie> luisbg: which one?
[18:37:50] <luisbg> how can I reopen it, so I can do a pull request against it once I do an other related task
[18:37:52] <bstrie> this is always what I fear
[18:37:57] <luisbg> and keep it open afterwards
[18:38:03] <luisbg> bstrie, https://github.com/mozilla/rust/issues/2350
[18:38:05] <bstrie> that github's automatic close thing will keep closing issues accidentally
[18:38:18] <luisbg> just wrote support for 'W' and fixed the 'X' and 'x' types in my local branch
[18:38:30] <bstrie> luisbg: do *not* say "fixes #2350" in the commit message, and github won't close it
[18:38:30] <luisbg> compiling and testing before I push and PR
[18:38:53] <luisbg> bstrie, what should I say so the PR is linked to the issue but doesn't close it?
[18:39:07] <bstrie> luisbg: bascially anything but that :)
[18:39:15] <bstrie> try "working towards #2350"
[18:39:37] <luisbg> OK, will try that and see if github picks up as part of the issue but not a solver
[18:39:45] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[18:39:49] <luisbg> bstrie, thanks
[18:39:52] <tjc> bjz: I was just joshing :-)
[18:39:53] <bstrie> luisbg: just saying the number itself is enough to have github pick it up as part of the issue
[18:40:01] <luisbg> bstrie, ooh cool
[18:40:05] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[18:40:10] <cmr> Why is github's wiki so crap :(
[18:40:24] <Ms2ger> s/'s wiki//
[18:40:28] <luisbg> cmr, because github was never intend to have a wiki :P
[18:40:34] <luisbg> s/intended
[18:41:37] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[18:41:45] *** Quits: tjc (tjc@4DBA3B45.81A2ADB4.284344F5.IP) (Quit: zzzzzzzzzz)
[18:41:51] <SiegeLord> What's the exact syntax for this "fixes ##" feature? It has to be that phrase?
[18:42:20] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[18:42:20] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:42:24] <bstrie> SiegeLord: they specified it publicly somewhere...
[18:42:28] <dandy> If you can understand what I am trying to do, what is the proper way for me to write this: impl Add<Vector2<T>,Vector2<T>> for Vector2<T : Add<T,T>> {
[18:42:34] <dandy> I'm not sure how to define T
[18:42:42] <SiegeLord> Yeah, I think I found it... I didn't know it was so strict, heh
[18:42:44] <bstrie> SiegeLord: https://github.com/blog/831-issues-2-0-the-next-generation
[18:42:46] <SiegeLord> I guess that's a good thing
[18:43:09] <bstrie> I think it should be stricter, and only close on the variants of "close"
[18:43:26] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:43:26] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[18:43:28] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[18:43:39] <luisbg> I am getting...
[18:43:42] <luisbg> "error: internal compiler error: unexpected failure
[18:43:42] <luisbg> note: the compiler hit an unexpected failure path. this is a bug"
[18:43:46] <luisbg> when I try to build rust master
[18:43:54] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:44:00] <luisbg> is it compiling fine for everybody else?
[18:45:38] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[18:45:43] <bstrie> luisbg: master should never be failing like that, or else bors would never have pushed it
[18:45:54] <bstrie> so, no idea
[18:46:00] <bstrie> also yeah, github's wiki is crap
[18:46:00] <luisbg> bstrie, I thought the same
[18:46:11] <luisbg> but wanted to confirm, and well, see if anybody had ideas
[18:46:24] <dandy> I got it! impl<T : Add<T,T>> Add<Vector2<T>,Vector2<T>> for Vector2<T> {  beautiful!
[18:46:28] <luisbg> reseting to a known good commit, make clean, making
[18:46:34] <luisbg> and trying again with latest master
[18:46:59] <bstrie> dandy: doing vector math? are you perhaps interested in #rust-gamedev? :)
[18:47:02] *** Quits: mdup (mdup@moz-2989B319.rev.numericable.fr) (Quit: mdup)
[18:47:13] <dandy> I am, and I hang there sometimes
[18:47:33] <dandy> I am temporarily fired by congress so I am trying to motivate myself to do something productive
[18:47:49] <dandy> so the less IRC the better
[18:47:58] <SiegeLord> /o\
[18:48:04] *** Joins: valenting (Thunderbir@50075977.FDB3AFA7.FB866788.IP)
[18:48:41] <luisbg>  /o\
[18:48:49] <bstrie> dandy: do you work for nasa?
[18:48:53] <dandy> usgs
[18:48:58] <cmr> ahh, cool!
[18:49:14] <bstrie> usgs is basically nasa, in the other direction
[18:49:20] <luisbg> dandy, kudos for keeping productive and contributing to open source :)
[18:49:35] <luisbg> bstrie, down instead of up
[18:49:43] <cmr> haha
[18:49:46] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Quit: No Ping reply in 180 seconds.)
[18:50:32] <dandy> I don't see us using rust much at work
[18:50:46] <dandy> they already want to take my .NET stuff to Java after I leave the project I was on
[18:51:08] <bjz> bstrie: haha "usgs is basically nasa, in the other direction"
[18:51:10] <bjz> :P
[18:51:13] <dandy> rust is more of a me thing
[18:51:31] <kmc> yeah, it's not a competitor to Java and C# anyway
[18:51:39] <bstrie> dandy: wait... they want to rewrite from .net to java?
[18:51:59] <cmr> btw, I'm filling in the glossary the best I can.
[18:52:01] <dandy> for me personally it is a competitor to C#
[18:52:12] <cmr> but some ofit definitely needs review.
[18:52:13] <bjz> really?
[18:52:16] <dandy> bstrie, its a POS application that needs a rewrite anyway
[18:52:23] <bstrie> dandy: define POS here :)
[18:52:45] <bstrie> or is the usgs really making point-of-sale software
[18:53:00] <kmc> piece of... something ;)
[18:53:03] <dandy> hmmm... maybe a better descrition is its one of those "leverage existing infrastructure" descisions that always goes wrong
[18:53:10] <dandy> description*
[18:53:37] <dandy> I work on the nation map viewer, which is a totaly embarrassment
[18:53:49] <dandy> they want to do it in java mainly because I am leaving the project
[18:54:23] <dandy> its not that .NET is better than Java (I do think it is though) but that I am better at .NET than Java, and the project manager knows more about Java
[18:54:36] <dandy> the reality is that I am a contractor while he is a fed, so it makes sense when you think about it
[18:54:44] <dandy> I am temporary by design
[18:55:01] <luisbg> technical decisions based on what the project manager knows best... sounds like good design
[18:55:07] <dandy> he can code
[18:55:09] *** Joins: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net)
[18:55:10] <dandy> he just has no time to
[18:55:20] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:55:21] <dandy> I 50% agree with you though
[18:55:27] <luisbg> dandy, he reviews your code?
[18:55:35] <dandy> Favorably but yes
[18:55:40] <luisbg> ok
[18:55:49] <luisbg> dandy, what are you doing in/with Rust?
[18:55:59] <dandy> I hate ERSI with a passion
[18:56:02] <dandy> so I want to make my own GIS
[18:56:12] <dandy> and I have been trying for a very long time
[18:56:15] <dandy> but I am one person
[18:56:21] <dandy> and nobody gives a shit about the .NET ecosystem
[18:56:54] <dandy> When I ask people to help me with my .NET projects I get "meh" but when I ask them to help port my stuff to rust people get excited
[18:57:12] <dandy> This is my current baby: https://github.com/aarondandy/pigeoid
[18:57:20] <bjz> dandy: yeah, it isn't that inspiring from an OSS point of view
[18:57:27] <bjz> .Net that is
[18:57:30] <bjz> tbh
[18:57:37] <dandy> bjz, there is some positive stuff but its just not positive enough to keep going
[18:57:49] <dandy> things are getting better but I feel like they are a few years late
[18:58:16] <dandy> the bottom line for me though is that I feel pretty alone in that ecosystem
[18:58:25] <dandy> also, .NET OSS is horrible at marketing
[18:58:29] *** Joins: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net)
[18:58:29] *** ChanServ sets mode: +o tjc
[18:58:53] <dandy> but somehow the true 100% OSS ecosystemsjust sell themselves
[18:58:56] <bjz> dandy: it's a shame, because C# and F# seem like decent languages
[18:59:15] <dandy> I will forever <3 C# and the framework but I can't go alone anymore
[18:59:37] <rossm> I am primarily a C# dev, too.
[18:59:55] <bjz> from my perspective, I like things to be as open as possible from the ground up. makes me feel more secure
[19:00:03] <dandy> If I can compile a fn in rust at run time I have 0 techincal reason not to move
[19:00:19] <dandy> bjz, I want things to just work :)
[19:00:49] <rossm> I like C# a lot, but I do often feel the lack of certain things like first-class tuples and Option<T>, etc
[19:01:03] <kmc> it's cool that people are using Rust in place of Java / C# for applications programming, I don't want to discourage that... all the same I fear we won't stack up that well, because of the complexity inherent in manual memory management
[19:01:23] *** Joins: test_fxos (nodebot@moz-BBE3ABD.mv.mozilla.com)
[19:01:35] <dandy> Speaking of C# awesomeness I want in rust, I was planning to write an article about CodeContracts today. I would love somebody forever if we got static analysis at that level.
[19:01:56] <bjz> kmc++
[19:01:58] <luisbg> dandy, cool! GIS is very interesting
[19:02:13] *** Quits: test_fxos (nodebot@moz-BBE3ABD.mv.mozilla.com) (Input/output error)
[19:02:34] <pcwalton> kmc: the interesting thing, to me anyway, is that iOS has proven that manual memory management is something people will get over
[19:02:49] <kmc> hmm
[19:02:52] <pcwalton> Obj-C memory management is more annoying than Rust IMHO
[19:02:54] <kmc> interesting point
[19:02:55] <luisbg> pcwalton, how so?
[19:02:59] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:03:00] <dandy> kmc, I have not seen much manual memory managment in rust so far but I do see a lot of things that make me aware of it
[19:03:04] <luisbg> pcwalton, oooooh true
[19:03:17] <pcwalton> manual reference counting with no compiler enforcing that you do it right
[19:03:25] <pcwalton> so you end up spending a lot of time in the debugger
[19:03:28] <doomlord_> i've never tried C# , several things put me off. but i keep hearing its good.
[19:03:31] <pcwalton> I know they have ARC now
[19:03:37] <dandy> kmc, and while there is "no memory managment in C#" there is, especially when you consider for us working with ESRI tools we are actually doing COM
[19:03:38] <bjz> dandy: 'manual' in the sence of you have to be explicit about how things are stored
[19:03:39] <pcwalton> but it's still manual-ish and isn't foolproof
[19:03:42] <kmc> i like C#, it's like a better Java... that said I've never used it for anything big
[19:03:50] <bstrie> pcwalton: er, it's proven that they'll get over it if there's a gold rush of hundreds of millions of dollars of profit to be made :)
[19:03:53] <kmc> dandy: interesting
[19:03:53] <dandy> jbz, GOOD!
[19:04:02] <luisbg> pcwalton, iOS isn't that well designed, it it just very popular because of the money and hype
[19:04:04] <bstrie> if iOS had chosen brainfuck as its applications language, TIOBE would be a really weird place
[19:04:04] <dandy> because thats the crap that trips us up ALL THE TIME
[19:04:07] <bstrie> just saying
[19:04:10] <kmc> bstrie: true, and people also get over the awfulness of PHP when there's enough money to be made
[19:04:14] <rossm> C# as of .net 2.0 was a better java. These days it's really excellent
[19:04:16] <dandy> I would arguve that rust is better than C# for those tasks
[19:04:21] <dandy> using(){} is optional
[19:04:28] <luisbg> kmc, +1
[19:04:36] <dandy> and the com objects don't implement IDisposable, that would make sense
[19:04:44] <luisbg> bbl
[19:04:52] <dandy> (I don't think they can, but they could wrap them for you at least)
[19:04:54] <pcwalton> bstrie: yeah, it's always hard to separate how much of a success of a platform is due to economics vs. intrinsic qualities
[19:04:55] <nejucomo> What is the type of x here?  let x = ["foo", "bar"];
[19:04:56] <nejucomo> ?
[19:05:05] <pcwalton> nejucomo: [&'static str, ..2]
[19:05:13] <doomlord_> its widely beleived apple make decent UI
[19:05:17] <kmc> anyway another direction would be to say that I want a really excellent GC in Rust so that I can use it for everything :)
[19:05:21] <kmc> and I know that's a goal
[19:05:26] <pcwalton> kmc: yes, agreed
[19:05:37] <dandy> I want GCed functions, please.
[19:05:40] <doomlord_> is this because of, or despite, objC ( i mean, objC going back SO far, and hence experience building UI)
[19:06:01] <nejucomo> pcwalton: Thanks.  I realized I can ask rusti for a type by writing a type error using the binding: let x = ["foo", "bar"]; x + 2
[19:06:10] <doomlord_> i dont want GC, but i would like rust to have decent GC so it can handle everything...
[19:06:10] <pcwalton> nejucomo: ah, the old ML trick
[19:06:17] <bstrie> pcwalton: I'm tempted to chalk up 90% of the popularity of a language to "having good marketing" :)
[19:06:40] <doomlord_> ... i would cite the way C++ gets used in conjunctin with a GC language sometimes. eg, in games unity is very popular, with C++ for the underlying engine and C# for application code
[19:06:41] <bstrie> better start pushing rust in the enterprise, post haste
[19:06:58] <pcwalton> the fundamental question is whether it's better to start from a non-GC'd system and evolve toward making GC easy to use or start with a GC'd system and evolve toward being able to avoid the garbage collector in some scenarios
[19:07:21] <kmc> everything I've seen suggests the former
[19:07:24] <pcwalton> rust, C++, obj-c choose the former; BitC, Go, C#, D choose the latter
[19:07:32] <bjz> kmc: why's that?
[19:07:36] <pcwalton> jonathan shapiro thinks that the latter is the only way to go but I'm not so sure
[19:07:52] <kmc> because once you have global GC, it's so convenient that many other parts of the design start to assume it
[19:08:19] <pcwalton> the rebooted BitC will really be interesting if it is not vaporware because I think it'll be the first system that I know of that will really try to use regions for systems programming with the latter design
[19:08:20] <bjz> kmc: yeah, D has fallen into that trap with Phobos
[19:08:41] <pcwalton> given my experience with Rust I'm skeptical but jonathan shapiro has a lot of experience so I'm really interested
[19:09:52] <bstrie> pcwalton: and at what point will shapiro start being interested in your own experience? :)
[19:10:06] <pcwalton> probably never, he seems pretty dismissive of rust
[19:10:14] * pcwalton shrugs
[19:10:26] <kmc> it seems really odd that he'd be designing a systems language with regions and yet be dismissive of Rust
[19:10:40] <pcwalton> I think he got burned by uniqueness being hard to use in Sing#
[19:10:40] <bjz> pcwalton: this is of concern to me: http://www.coyotos.org/pipermail/bitc-dev/2013-October/004245.html
[19:11:02] <bstrie> "a systems programming language with regions? I'm sure that has no lessons applicable to my forthcoming systems programming language with regions
[19:11:04] <pcwalton> bjz: we're working on a proof
[19:11:10] <bjz> pcwalton: awesome
[19:11:13] <pcwalton> we have so many other things to do but it is a priority
[19:11:35] <dandy> Also, I know this does not seem like much but coming from C# this is awesome: impl<T : Add<T,T>> Add<Vector2<T>,Vector2<T>> for Vector2<T> {
[19:11:54] <kmc> I think Rust could have an awesome GC but the task-isolation of @ boxes would still pressure us to make sure that ~ and & are really usable, which is good
[19:11:57] <dandy> And just the beginning, I really like how implementation works
[19:12:02] <eevee> hadn't heard of bitc.  last news being from nov 2010 is not encouraging though
[19:12:28] <pcwalton> bjz: last time I sent something to bitc-dev jonathan shapiro rejected the message
[19:12:36] <xentrac> pcwalton: because?
[19:12:38] <pcwalton> no idea
[19:12:43] <bjz> haha
[19:12:51] <bstrie> eevee: bitc had a big influence on the decision to adopt implementation coherence in rust
[19:12:59] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[19:13:31] <bstrie> dandy: I'm sure bjz knows a lot of other tricks in that vein
[19:13:32] <pcwalton> well, he also claimed that our revised approach would doom the language as well
[19:13:33] <pcwalton> *shrug*
[19:13:45] <pcwalton> I do think the revised approach is better just because it's the devil we know
[19:13:49] <pcwalton> (Haskell 98 typeclasses)
[19:13:51] <kmc> what's meant by implementation coherence
[19:13:54] <pcwalton> + some extensions
[19:14:00] <dandy> bstrie, I don't doubt it but just to do something as simple as add on generic types I started an entire library for it
[19:14:01] <pcwalton> kmc: only one implementation of a trait possible per type
[19:14:06] <kmc> ah right
[19:14:17] <eevee> hm interesting
[19:14:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:14:44] <kmc> Rust traits are enough different from Haskell 98 typeclasses (and GHC typeclasses) that I don't feel like they're the devil I know
[19:14:47] <kmc> that's just me
[19:15:01] <pcwalton> how are they different?
[19:15:03] <bjz> dandy: wassup?
[19:15:09] <pcwalton> dot notation is the major difference
[19:15:15] <pcwalton> and the lack of HKT
[19:15:28] <kmc> and the ability to have multiple parameters, but the last one is special
[19:15:40] <dandy> I was just talking about how doing generic arithmetic is so much nicer in rust than on the CLR
[19:15:40] <pcwalton> the first one, you mean?
[19:16:13] <dandy> generic addition on the CLR: the rabbit hole begins here: https://github.com/aarondandy/vertesaur/blob/master/src/Vertesaur.Generation/Vector2.cs#L221
[19:16:25] <benh> does `rustc --pretty normal` actually invoke the pretty printer or does it just reurgitate the token stream on its own?
[19:16:33] <bjz> dandy: oh really? It's more painful than in C++, in some aspects. no multiple overloading of operators
[19:16:35] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:16:36] <bstrie> bjz: dandy is doing bespoke vector math
[19:16:47] <kmc> is it the first one? it's not directly obvious in the syntax I guess
[19:16:55] <pcwalton> bjz: we have a draft WIP paper to fomalize a subset of Rust. jonathan shapiro won't like it because we're not done yet; same reason he bashes our documentation.
[19:16:58] <pcwalton> formalize*
[19:17:11] <SiegeLord> Isn't the fact that quite a large body of code exists in Rust proves that Rust's coherence model works?
[19:17:12] <kmc> if I do trait Foo<A,B> then I can impl Foo<SomeA,SomeB> for SomeC right
[19:17:14] <bjz> pcwalton: that's great, I think nmatsakis has mentioned it before.
[19:17:15] <pcwalton> we never claimed we were done though
[19:17:17] <bstrie> pcwalton: is that the same paper that you submitted for publication a while ago?
[19:17:19] <SiegeLord> Couldn't they not even do that in BitC?
[19:17:26] <pcwalton> bstrie: yes
[19:17:27] <kmc> but the relation of SomeC to Foo is different from SomeA and SomeB
[19:17:30] <kmc> that's what I mean
[19:17:45] <pcwalton> SiegeLord: I think Haskell is an even better example
[19:17:54] <pcwalton> but when someone brought it up he said "nobody has ever written large software in Haskell"
[19:18:10] <pcwalton> which is basically trolling the entire Haskell community, but *shrug*
[19:18:13] <kmc> lol
[19:18:16] <SiegeLord> I thought Haskell didn't have the link-time guarantee that Rust provides? Or am I confused?
[19:18:27] <pcwalton> GHC has the link time guarantee in warning form
[19:18:27] <bjz> pcwalton: the evolutionary dev approach sometimes worries me, the fact that ugly things might creep in
[19:18:40] <pcwalton> bjz: I think it's unavoidable if you want to ship something, honestly
[19:18:52] <pcwalton> there *will* be parts of Rust that are ugly and we wish we could take back
[19:19:00] <pcwalton> dherman tells me this all the time and it's true :)
[19:19:15] <pcwalton> we just hope they're as small as possible and not glaring issues
[19:19:30] <pcwalton> by "hope" I mean "do our best to make sure"
[19:19:47] <bstrie> pcwalton: don't worry, just go directly to Rust3k once the language is *actually* complete
[19:19:51] <pcwalton> SiegeLord: if you're writing a library that could violate the link safety you get an "orphan instance" warning
[19:19:52] <bjz> pcwalton: yep. respect the tenacity of Bjarne Stroustrup
[19:20:10] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[19:20:12] <pcwalton> or TC-39 (JavaScript) in dherman's case :)
[19:20:21] <bjz> yep :)
[19:20:58] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[19:21:01] *** Quits: Diamond (dick@moz-FEA87A60.ks.ks.cox.net) (Connection reset by peer)
[19:21:21] <bstrie> pcwalton: don't worry, we'll just introduce a #[strict] attribute one day
[19:21:28] <bjz> you really do set yourself up for a lifetime of pain if you decide to design programming languages x)
[19:21:32] *** Joins: mib_0goi1d (Mibbit@moz-7B8B3641.premierinc.com)
[19:21:34] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[19:21:41] *** Quits: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net) (Quit: zzzzzzzzzz)
[19:21:42] <pcwalton> yup
[19:21:45] <Ke> haskell is sort of nice wrt. standards while newest standard is too obsolete to be supported by ghc
[19:22:08] <pcwalton> I think one of the strengths of Rust is that it's really designed with a project in mind (not that it should *only* be for Servo but it's the reason why I work on it)
[19:22:17] <dherman> bjz, pcwalton: yeah, fear of imperfection will prevent you from ever shipping
[19:22:17] <Ke> there is no point in making a standard, if no one is going to support it
[19:22:17] <bstrie> bjz: correction: you really do set yourself up for a lifetime of pain if you decide to ever create a piece of software that you intend to maintain
[19:22:27] <bjz> bstrie ++
[19:22:28] <pcwalton> we don't just make languages for fun, we make it because we need it to make a secure fast browser
[19:22:39] <bjz> yep
[19:22:40] <nejucomo> I just made my first SO post and it's about rust (for loops / iterators).  If anyone has edits or comments, I'd appreciate it: http://stackoverflow.com/questions/9271970/how-do-you-make-a-range-in-rust/19145081#19145081
[19:23:08] <bjz> pcwalton: reminds me of how erlang was designed
[19:23:18] <cmr> Woo, is this the first SO post in a while?
[19:23:26] <bstrie> ughhhhhhhhhhhhhhhhhh
[19:23:28] <nejucomo> Ke: Are you sure?  I thought GHC would strictly follow the recent standard if you ask.
[19:23:36] <bstrie> does the tutorial *really* tell someone to use `std::io::println`
[19:23:41] <pcwalton> oops
[19:23:50] <nejucomo> Uh oh.  I didn't realize that's deprecated.
[19:23:53] <bstrie> pcwalton: I don't know if it does, that's what this SO question is saying
[19:24:03] <bstrie> allegedly copying from the tutorial
[19:24:07] <nejucomo> Also, in the SO post, I was trying to mimic the existing outdated examples closely for clarity.
[19:24:12] *** Quits: mib_0goi1d (Mibbit@moz-7B8B3641.premierinc.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:24:20] <Ke> IIRC haskell 2010 has not been supported since ghc-7.4
[19:24:31] <Ke> especially standard exceptions
[19:24:39] <Ke> but there was also something else
[19:24:40] <nejucomo> bstrie: No, sorry, I didn't read std::io::println from a tutorial, I copied an old example and updated it to compile / run with 0.8.
[19:24:40] <rossm> the question and other answers are from feb 2012
[19:24:43] <kmc> also they removed the Eq and Show superclass on Num
[19:24:46] <kmc> which can break existing code
[19:24:49] <rossm> only the linked answer is new
[19:25:01] <bstrie> nejucomo: change it to just `println` :)
[19:25:14] <benh> Did they do the Functor-superclass-for-Monad thing yet?
[19:25:15] <bstrie> nejucomo: I intend to go over SO with a fine-toothed comb once we get to backwards-compatibility
[19:25:32] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[19:26:19] <kmc> benh: don't know... but I think adding a superclass is actually safer
[19:26:20] <pcwalton> speaking of servo, I'm pretty excited about its performance lately
[19:26:28] <pcwalton> it's getting blazing fast
[19:26:37] <kmc> if you add a superclass you just need to make sure all the requisite instances exist... if you remove them then any function anywhere can stop working
[19:26:41] <cmr> Eugh
[19:26:43] *** Joins: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net)
[19:26:43] *** ChanServ sets mode: +o tjc
[19:26:45] <cmr> Memory usage regressed again.
[19:26:45] <kmc> e.g. f :: (Num a) => a -> String, f = show
[19:26:45] <pcwalton> 30% faster than the versions of Gecko and WebKit I have installed here on some benchmarks
[19:26:51] <cmr> http://huonw.github.io/isrustfastyet/mem/
[19:26:55] <kmc> valid in Haskell 98 iirc
[19:26:59] <doomlord_> does servo deliver on scalability witrh cores
[19:27:13] <bstrie> pcwalton: do you expect that to get slower once we're standards-compliant?
[19:27:14] *** Joins: tdc (santegoeds@moz-ADD1F5DF.range86-135.btcentralplus.com)
[19:27:16] <kmc> and they can't fix this by having a separate haskell98 version of Prelude because then libraries have to choose between that Num and the other one
[19:27:16] *** Quits: huseby (huseby@moz-4E8C421A.husebyhome.com) (Quit: Leaving)
[19:27:18] <pcwalton> doomlord_: we haven't even started parallelizing it except at a high level
[19:27:19] * kmc -> lunch
[19:27:25] <dandy> My gut feeling is that Rust's success with respect to the opinion of the masses is directly tied to servo, so thats really good news
[19:27:38] <pcwalton> bstrie: I'm going to try to make sure it doesn't, but it may be hard of course
[19:27:46] <pcwalton> still keep in mind that is with no parallelism
[19:27:52] <pcwalton> that's just by looking at the asm and optimizing it
[19:27:54] <doomlord_> i'm hearing that from a troll
[19:27:59] *** Quits: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net) (Input/output error)
[19:28:09] <pcwalton> the honest answer is we don't know yet
[19:28:10] <doomlord_> ("forget rust because chrome beats firefox")
[19:28:12] <SiegeLord> Any big project will be good for people's opinion of Rust... and Servo's a nice big project ;)
[19:28:20] <Ke> I don't think I'm the only one wanting to see Rust running on standard llvm
[19:28:25] <eevee> doomlord_: haha what?  firefox doesn't have any rust in it yet
[19:28:28] <cmr> Ke: No, you definitely aren't.
[19:28:30] <pcwalton> well, Servo beats both ;)
[19:28:30] <doomlord_> i know
[19:28:33] <Ke> distro packagers would definitely like it
[19:28:36] <pcwalton> at least, if you're just reflowing blocks
[19:29:02] <Ke> which can be a prerequisite of wide adoption
[19:29:08] <nejucomo> bstrie: That's why I signed up for an SO account, to update outdates answers.  What is the preferred replacement for std::io::println?
[19:29:10] <kimundi> pff, I switched back from chrome to firefox two days ago ;)
[19:29:17] * nejucomo edits post.
[19:29:28] <cmr> nejucomo: println
[19:29:32] <cmr> no need to say std::io
[19:29:45] <dandy> chrome still launches faster on windows for me :) IE10 even faster but I just cant use it for psycological reasons
[19:29:52] <benh> Ke: I'm pretty sure the plan is to run on standard llvm once we know just what changes we'll need in llvm and manage to get them upstream'd
[19:30:00] <Ke> =o)
[19:30:04] <benh> but I think it's reasonable not to worry about it too much before a 1.0 release either
[19:30:06] <kimundi> dandy: haha :)
[19:30:23] <bstrie> nejucomo: I definitely appreciate the effort, just understand that any answers that you update now will eventually be outdated!
[19:30:38] <benh> I guess rebuilding llvm is bad for cycle time if you keep adding and deleting workdirs like I am :(
[19:30:50] <nejucomo> I understand.  I partially also want to clarify my understanding.
[19:31:02] <dandy> bstrie, nejucomo, how about putting a Rust version somewhere on the answers/comments?
[19:31:22] <nejucomo> It would be nice to have a catalog of outdated SO posts tracked somewhere...
[19:31:28] <bstrie> dandy: that would be ideal, yes
[19:31:32] <bstrie> and not just on SO
[19:31:39] <nejucomo> dandy: My post is very explicit that it's for 0.8.
[19:31:41] <bstrie> **ALL** rust code, on any web page, should mention a version
[19:31:45] <bstrie> without exception
[19:31:56] <bstrie> please keep this in mind, folks
[19:32:01] <bstrie> it will save us so much trouble in the future
[19:32:06] <nejucomo> What if the syntax required a version identifier: rust 0.8;
[19:32:12] <Ms2ger> + a changeset hash
[19:33:01] <kimundi> on every line, just to be sure
[19:33:12] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[19:33:22] <cmr> heh
[19:34:55] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[19:35:00] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[19:35:18] <bstrie> that will appease the no-semicolon crowd
[19:35:36] <bstrie> RUST 0.9 CHANGELOG: semicolons are no longer required to end a line
[19:36:07] <bstrie> RUST 0.9 CHANGELOG: the SHA-256 hash of the version of rust used to compile the code is now required to end a line
[19:36:35] <bstrie> on the plus side, a decent IDE could probably auto-insert those!
[19:37:13] <xentrac> :)
[19:37:40] <nejucomo> hehe…
[19:37:59] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[19:38:15] <nejucomo> I just created a SO account and I didn't realize I would not be able to comment/edit existing posts, so I made a separate answer: http://stackoverflow.com/questions/9271970/how-do-you-make-a-range-in-rust/19145081#19145081
[19:38:31] <nejucomo> If people upvote that, I promise to use my comment/edit abilities for great justice.  ;-)
[19:38:42] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[19:39:06] <bstrie> nejucomo: asking for SO karma is against SO's TOS. I'm gonna have to report you
[19:39:13] *** Joins: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[19:39:16] <nejucomo> Doh!
[19:39:16] *** Quits: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se) (Quit: threecreepio)
[19:39:33] *** Quits: timot_ (timot@moz-E599A11C.in-addr.nilings.se) (Quit: Konversation terminated!)
[19:39:34] <dandy> (I apologize for not commenting/editing the other post, but this is a new account and I have no reputation.)
[19:40:28] <dandy> due to my habit of clicking links without reading the text I saw no such TOS violation
[19:42:31] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[19:43:03] <bjz> dandy: bstrie is very strict about these things
[19:43:54] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[19:44:38] <dandy> On a related topic I thought it was interesting how ServiceStack used SO as a self construction documentation site
[19:44:57] <dandy> constructing*
[19:45:26] <kimundi> I asked yesterday already, but does anyone here know what the memory layout of the vtable in a trait object is?
[19:45:51] <cmr> pcwalton: ^
[19:46:58] <kimundi> He, pcwalton already gave me a hint yesterday with which I was unable to find the answer :(
[19:47:11] <cmr> ah
[19:47:53] *** Joins: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com)
[19:49:27] <tjc> kimundi: What was the hint?
[19:49:50] <kimundi> "somewhere in trans ... get_vtable or so"
[19:49:58] <kimundi> middle/trans/meth.rs contains a lot of vtable stuff... But I'm unable to understand it
[19:50:08] <nejucomo> I guess I should remove that disclaimer?  I figured SO readers might be annoyed that there is a separate answer instead of comments on an existing answer.
[19:50:24] <tjc> kimundi: Yeah, I was just looking at that. I thought there was a big comment somewhere with ASCII art that explained the layout, but maybe I dreamed that
[19:50:24] <kimundi> Also, I keep seeing stuff that point to the llvm binding, so I'm not sure if I'm even looking at the right kind of vtables
[19:50:28] <dandy> its not an explicit request
[19:50:28] <benh> Someone have a shorter way to write this?
[19:50:30] <benh> rusti: let mut a = Some(1); let b = Some(2); match (0, a, b) { (x, None, Some(y)) | (_, Some(x), Some(y)) if x < y => { a = b; } _ => {} }; a
[19:50:31] -rusti- Some(2)
[19:51:47] <tjc> kimundi: Well, this certainly needs better documentation; I don't find it very easy to understand either
[19:51:52] *** Joins: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se)
[19:52:02] <kimundi> haha
[19:52:12] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[19:52:43] *** Quits: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se) (Quit: threecreepio)
[19:52:54] *** Quits: nik_ (nik@moz-CC5E16D8.pool.mediaways.net) (Ping timeout)
[19:53:11] <benh> that's not actually right, is it :(
[19:54:40] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[19:55:07] <dandy> is it bad rust style to put tests immediately after an impl or should they all be at the bottom?
[19:55:39] <cmr> dandy: the current style is to put them all at the bottom, but I don't think anyone would fault you from deviating from it
[19:55:40] <bstrie> dandy: often people create a `mod` just for tests at the bottom of the file, and put all tests in there
[19:56:00] <dandy> bstrie, I kind of like that
[19:56:05] <bstrie> so, folks. how about some anecdotes from the annals of language design
[19:56:18] <bstrie> using the antediluvian language RPG today
[19:56:21] <kimundi> benh: 'not actually right' ?
[19:56:27] <bstrie> it contains no facility for generating random numbers
[19:56:31] *** Joins: timot (timot@moz-3896B0B8.cust.tele2.se)
[19:56:37] <bstrie> and even if it did, it contains no facility for seeding them
[19:56:43] <benh> I thought pattern1 | pattern2 if cond would could like | (pattern2 if cond) but it doesn't :(
[19:56:44] <tjc> bstrie: does it have FFI? can you call into a C library for RNG?
[19:56:58] <kimundi> benh: ah, no it applies to them all
[19:57:12] <bstrie> tjc: I *think* it might, but I don't think we have a C compiler installed on this iSeries mainframe
[19:57:18] <tjc> bstrie: heh
[19:57:21] <bstrie> it's an IBM product!!! the horror!!!
[19:57:24] <SiegeLord> Make your own RNG!
[19:57:26] <SiegeLord> *PRNG
[19:57:30] <bstrie> SiegeLord: we did!
[19:57:34] <SiegeLord> Yesss
[19:57:45] <bstrie> and we seeded it with values taken from SQL
[19:57:59] <bstrie> how hilarious
[19:58:16] *** Joins: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se)
[19:58:28] <benh> I think match probably isn't the way to go here :v
[19:58:55] <kimundi> benh: is the semantic of the match correct if the guard should only apply to the second case?
[19:59:29] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[19:59:39] <kimundi> benh: In any case, I'd recommend looking at Options methods, it can reduce matches quite a bit
[19:59:43] <benh> The intention was that `a` should be updated to `b` unless `a` already holds a value greater than `b`'s
[19:59:58] <dandy> are there any `assert`s in rust?
[20:00:00] <benh> I'm starting to think I should just use integers and add 1 to all my numbers
[20:00:26] <Ms2ger> assert!()?
[20:00:35] * Ms2ger doesn't remember if that still exists
[20:00:48] <cmr> Euuuugh
[20:00:49] <dandy> do extensions/macros not show in the docs?
[20:01:05] <cmr> I don't see any way to include closures inline ine github markdown :(
[20:01:09] <kimundi> dandy: nope
[20:01:10] <cmr> At least in a table.
[20:01:22] <kimundi> dandy: not yet anyway
[20:01:35] <kimundi> dandy: they'Re kinda invisble for these kinds
[20:01:49] <cmr> I know, I'll use some unicode character that looks like a |
[20:02:08] <mcpherrin> http://www.reddit.com/r/IAmA/comments/1nl9at/i_am_a_member_of_facebooks_hhvm_team_a_c_and_d/  Andrei Alexandrescu talks C++/D, mentions his thoughts on Rust
[20:02:09] <kimundi> cmr: haha
[20:02:12] *** Quits: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net) (Ping timeout)
[20:02:20] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[20:02:21] <cmr> kimundi: I'm not kidding
[20:02:28] *** Joins: tjc (tjc@151DA674.5B95CD0.284344F5.IP)
[20:02:28] *** ChanServ sets mode: +o tjc
[20:02:38] <kimundi> cmr: That just makes it funnier
[20:02:52] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[20:02:56] <luisbg> task '<unnamed>' failed at 'failure in fork: Cannot allocate memory', /home/rustbuild/src/rust-buildbot/slave/snap3-linux/build/src/libstd/run.rs:672error: internal compiler error: unexpected failure
[20:02:58] <cmr> https://github.com/mozilla/rust/wiki/The-Rusticon
[20:03:05] <luisbg> running make RUST_LOG=rustc=1
[20:03:24] <luisbg> cannot allocate memory? wow
[20:03:33] <cmr> luisbg: http://huonw.github.io/isrustfastyet/mem/
[20:03:37] <luisbg> I have 8gb
[20:03:38] *** Quits: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:03:44] <luisbg> cmr, looking
[20:03:54] <cmr> We peak around 2.2GiB
[20:04:01] *** Quits: Jesin (Jessin_@moz-828D006F.cc.lehigh.edu) (Quit: Leaving)
[20:04:02] <cmr> And we fork the process to spawn the linker.
[20:04:11] <luisbg> cmr, what am I looking at?
[20:04:12] <cmr> If you don't have overcommit turned on, or swap, the kernel complains.
[20:04:22] <cmr> luisbg: rustc's memory usage
[20:04:42] *** Joins: jensnock_ (jensnocker@moz-63C022A1.mobileonline.telia.com)
[20:05:34] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[20:05:40] <kimundi> benh: Is the 0 in that match relevant?
[20:05:45] <luisbg> cmr, interesting how it was OK until today
[20:06:13] <benh> kimundi: I'm using "a = cmp::max(a, b)" now :)
[20:06:40] <kimundi> But... that'S not using any options!
[20:07:05] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[20:07:12] <kimundi> Don't change the requirements under my feet! ;)
[20:07:26] *** Joins: nik_ (nik@moz-DD600810.vpn.rwth-aachen.de)
[20:07:30] <luisbg> cmr, any tricks to avoid this memory usage problem?
[20:07:35] <cmr> luisbg: check your process monitor to make sure you actually *have* 4.5 gigs of free memory.
[20:07:35] <luisbg> cmr, I don't have swap, my laptop is SSD
[20:07:56] <benh> kimundi: I decided to encode None as 0 and Some(n) as n+1 and it made my terrible code a bunch shorter!
[20:07:56] <SiegeLord> rusti: match 0i32 { potato => 1, _ => 2 }
[20:07:56] -rusti- <anon>:7:35: 7:36 error: unreachable pattern
[20:07:57] -rusti- <anon>:7          match 0i32 { potato => 1, _ => 2 }
[20:07:57] -rusti-                                             ^
[20:07:57] -rusti- error: aborting due to previous error
[20:07:57] -rusti- application terminated with error code 101
[20:08:08] <luisbg> cmr, oh wow, emacs using 12.5% of my memory
[20:08:19] <luisbg> actually no, 12.5% * 3
[20:08:20] <kimundi> benh: But maybe there is a better way :)
[20:08:26] <cmr> ._.
[20:09:04] <kimundi> benh: I got as far as a.or(Some(0)).and_then(|x| b.map_move(|y| if x < y {} else {})) until I realized that I still had not enough information about what the code should actually do xD
[20:09:39] <benh> kimundi: the whole thing is counting sequences of # after a " in a string so it can choose the shortest way to represent a string as a string literal :)
[20:09:59] <Ms2ger> Potato? No potato in Latvia
[20:10:04] <Ms2ger> Only war
[20:10:28] <kimundi> benh: Ouh, that sounds like a case for iterator chains too xD
[20:10:58] <dandy> mcpherrin, sounds like those thoughts could be summed up as "not as good as D"
[20:11:36] <cmr> dandy: and I'd actually agree with that, if your yardstick is features. But they're solving different problems, and D is a lot older of a project.
[20:11:58] <bstrie> Ms2ger: no memes! you are banned from /r/rust
[20:12:00] *** Joins: mdup (mdup@moz-2989B319.rev.numericable.fr)
[20:12:04] <benh> kimundi: something like https://github.com/ben0x539/rust/compare/raw-str2?expand=1#diff-c82811a081b5fb219ba68dd88b49d0b1R2199
[20:12:15] <Ms2ger> bstrie, I quit reddit a while back :)
[20:12:42] <bstrie> Ms2ger: ok then you're banned from the rest of reddit too!
[20:13:01] <bstrie> in fact you're banned from the entire /16 block that reddit's IP address is on
[20:13:03] <bstrie> how about that?!?
[20:13:05] <tjc> excellent, can I get banned from all of Reddit too?
[20:13:09] <tjc> this would improve my life
[20:13:12] <bstrie> tjc: done
[20:13:34] <tjc> bstrie: excellent, this favor will come back to repay you in spades in the future :-)
[20:14:06] <SiegeLord> Does one really expect the mouthpiece of the D propaganda machine to say anything else? :P
[20:14:06] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:14:24] <bstrie> tjc: if you have choice of suit, please note that I prefer payment in diamonds
[20:14:24] <dandy> static if looks neat but thats not a problem I have really struggled with
[20:14:36] <tjc> bstrie: oops actually I can only pay in bitcoins
[20:14:41] <bstrie> bah
[20:14:46] <bstrie> useless mathematical currency!
[20:14:59] <bstrie> I don't need to buy any more triangles, thank you very much
[20:15:12] <Ms2ger> If you wanted useless mathematical currency, I could pay you in proofs?
[20:15:30] <tjc> realtalk
[20:16:07] *** Quits: aeqwa (aeqwa@moz-C23293C9.dsl.tropolys.de) (Quit: Lost terminal)
[20:16:09] <Luqman> Ms2ger: i'd like a proof to the riemann hypothesis please
[20:16:31] <Ms2ger> Luqman, no, no, *I* get to pick the proofs :)
[20:16:34] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[20:17:03] <bstrie> Ms2ger: please prove that 2+2=4, but without resorting to any axioms
[20:17:08] <dandy> what file defines assert!( ?
[20:17:13] <Ms2ger> bstrie, ha!
[20:17:23] <bstrie> axioms are for the weak
[20:17:29] <mcpherrin> bstrie: what does it even mean to prove things without axioms
[20:17:30] <bstrie> we have STRONG MATHEMATICAL BRAINS
[20:17:31] <Ms2ger> bstrie, if I can't use axioms, I'll use pebbles
[20:17:38] * Ms2ger gives bstrie two pebbles
[20:17:39] * Ms2ger gives bstrie two pebbles
[20:17:43] <bstrie> mcpherrin: think outside the box
[20:17:43] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[20:17:44] <Ms2ger> Now you've got four pebbles
[20:18:17] <tjc> dandy: libsyntax/ext/expand.rs
[20:18:18] <bstrie> Ms2ger: I don't believe in natural numbers!!! *scatters pebbles to the ground*
[20:18:22] <cmr> dandy: It's part of the compiler.
[20:18:25] <kimundi> benh: Hm, reading that code once again reminds me that I'm unable to understand other peoples code unless I keep staring at it :P
[20:18:28] <bstrie> is assert! really a syntax extension?
[20:18:32] <bstrie> and not just a macro?
[20:18:42] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[20:18:42] <kimundi> bstrie: yes
[20:18:48] <bstrie> sad
[20:19:00] <dandy> thanks
[20:19:01] <kimundi> as in:I maintain that a macro is also a syntax extension
[20:19:08] <dandy> bstrie, why sad?
[20:19:22] <bstrie> because we need to actually use macros
[20:19:23] <cmr> syntax is a macro_rules! syntax extension.
[20:19:28] <kimundi> assert! itself is an libsyntax injected macro though, which doesn't really make a difference :P
[20:19:31] <cmr> erm, assert is
[20:19:33] <bstrie> like, macros as defined by macro_rules!
[20:19:39] <bstrie> and not by arbitrary code
[20:19:48] <bstrie> otherwise we have proved only that macros are entirely useless
[20:19:58] <dandy> macro_rules! assert(
[20:20:00] <benh> kimundi: It's pretty much going through the string and counting characters, once escaped to consider the "regular old string with \" \n \x " option and once one-for-one while keeping track of the necessary #s to escape all embedded "#s
[20:20:14] <kimundi> bstrie: assert! is defined by a macro_rules block... in a stringin libsyntax ;)
[20:20:21] <benh> kimundi: Probably says more about my lack of ability that it's hard to follow :(
[20:20:29] <bstrie> that makes it a macro, then
[20:20:31] <bstrie> so good
[20:20:38] <cmr> bstrie: but macros are syntax extensions.
[20:21:04] <dandy> kimundi, oh... that expalins why the syntax highlighting is yellow for everything :(
[20:21:13] <kimundi> benh: Yeah, that's actually pretty clever. Just compare both lenght and choose the shorter :)
[20:21:23] <bstrie> cmr: we have to take a semantic stand somewhere
[20:21:29] <Luqman> the reason why assert and friends are in libsyntax is because we can't exports macros from libstd, so they just get injected at compile time afaik
[20:21:38] <cmr> bstrie: we do. macros are a strict subset of syntax extensions
[20:21:40] <bstrie> "I'd be interested in Rust if it was as good as (or better than) D at everything D is good at, plus better that D at things D is not good at. Far as I can tell Rust fails that litmus test."
[20:21:45] <kimundi> benh: Though I have the feeling it will choose raw syntax literals in 80% of the cases then :)
[20:21:52] <benh> probably
[20:22:01] <benh> I'm not really happy that the pretty printer emits multi-line string literals that don't respect indentation, but what can you do
[20:22:10] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[20:22:15] <bstrie> cmr: it's more useful to think of them as disjoint. when I say "implement foo! as a syntax extension" I do not mean "implement foo! using macro_rules!"
[20:22:20] <kimundi> dandy: haha, yeah
[20:22:43] <kimundi> OH!, That macro containing string would be an first choice for using a raw string literal!
[20:22:55] <benh> kimundi:  http://ix.io/8jy here's some example output, ignore the macro crud
[20:23:00] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[20:23:02] <kimundi> bstrie: We just need to clean up the terminology
[20:23:22] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[20:23:26] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:23:37] <bstrie> kimundi: that's what I'm saying :)
[20:23:42] <kimundi> bstrie: declarative macros: macro_rules. procedural macros: the thing we call syntax extension right now. syntax extension: both.
[20:23:57] <kimundi> + attributes
[20:24:20] <benh> wow, pretty-printing commented files is pretty useless
[20:24:31] <bstrie> benh: yeah the pretty printer is terribad right now
[20:24:36] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:24:58] <tjc> benh: Is it because of https://github.com/mozilla/rust/issues/751 ?
[20:25:22] <cmr> kimundi: We should really really adopt that terminology. Someone bring it up at the meeting!
[20:25:24] <benh> http://ix.io/8jz i tried prettyprinting lexer.r
[20:25:27] <benh> lexer.rs*
[20:25:37] <benh> and all the comments floated to the top :(
[20:25:48] <dandy> rusti: (1,2) == (1,3)
[20:25:49] -rusti- false
[20:25:54] <dandy> NEAT!
[20:25:55] <kimundi> "Rust offers three kinds of syntax extensions: You can write declarative macros with the macro_rules! macro, you can define procedural macros with <NOT YET IMPLEMENTED>, and you can define custom attributes and attribute handles with <NOT YET IMPLEMENTED>"
[20:26:53] *** Joins: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de)
[20:27:17] <SiegeLord> Why is the explanation yelling at me ._.
[20:27:57] <kimundi> SiegeLord: Because lowercase is reserved for stuff that actually exists. ;)
[20:28:50] <sfackler> dandy: Eq is implemented up to 12-tuples! http://static.rust-lang.org/doc/master/std/cmp/trait.Eq.html
[20:29:10] <bstrie> barffff
[20:29:21] <bstrie> 12-tuples is the reign of madness
[20:29:42] <cmr> s/reign/realm/
[20:29:46] <bstrie> nope
[20:29:49] <bstrie> I mean what I say
[20:30:14] <dandy> why can my mod tests {} not see other stuff in the file?
[20:30:46] <cmr> dandy: `use super::*`
[20:30:47] <sfackler> dandy: try "use super::*;"
[20:30:49] <kimundi> rusti: ('u', ' ', 'm', 'a', 'd', ' ', 'b', 's', 't', 'r', 'i', 'e')
[20:30:50] <sfackler> efb
[20:30:50] -rusti- ('u', ' ', 'm', 'a', 'd', ' ', 'b', 's', 't', 'r', 'i', 'e')
[20:31:14] <dandy> cmr, sfackler, felt dirty but it worked
[20:32:17] <luisbg> hahahaa
[20:32:17] <kimundi> bstrie: (please don't change my reddit flair to a tuple of chars)
[20:32:18] <sfackler> yeah, test modules are the only place I'm okay with using use asdf::*
[20:32:33] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[20:32:58] <benh> I'm kinda concerned that the pretty printer tests passed after I changed the pretty printer. :}
[20:33:37] <kimundi> benh: haha :) Maybe they are mostly ignored?
[20:34:17] <bstrie> kimundi: that will have to wait until CSS standardizes the "between" pseudo-element
[20:34:20] <benh> Maybe there's no silly string literals in the tests :)
[20:34:24] <dandy> dumb question: how do I run tests?
[20:34:35] <bstrie> kimundi: or maybe it doesn't... hm...
[20:34:36] <cmr> dandy: `rustc --test` generates a test executable which you can then run.
[20:34:45] <dandy> rustc --test --lib does not
[20:34:55] <cmr> Yes
[20:35:04] <cmr> Notice the *executable* part.
[20:35:08] <cmr> Libraries are not executables.
[20:35:09] <kimundi> dandy: or just call 'rust test foo.rs', which will compile with rustc --test, and then run that executable
[20:35:11] *** Joins: jbaldwin (Mibbit@EF784383.FC9BECD6.A8DE49A2.IP)
[20:35:25] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:35:30] <kimundi> that is, it runs it itself
[20:35:41] <dandy> kimundi, perfect, thanks
[20:35:44] <benh> kimundi: It seems '--pretty normal' doesn't call the bits that I changed
[20:36:07] <benh> and just reproduces the token stream or something?
[20:36:18] <benh> I'm a bit afraid of the driver :(
[20:37:18] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[20:39:00] <engla> acrichto: did you try to fix the lint memory use?
[20:39:05] <acrichto> engla: just did
[20:40:49] <engla> great!
[20:40:59] <cmr> https://github.com/mozilla/rust/wiki/The-Rusticon
[20:41:05] <cmr> I filled in everything.
[20:41:08] <engla> I have great timing
[20:41:30] <acrichto> engla: also tkae a look at http://huonw.github.io/isrustfastyet/mem/#0fd8cb0,5011bbf
[20:41:41] <acrichto> no more 1.2GB spike at the beginning
[20:41:54] *** Joins: steveklabnik (steveklabn@moz-A4CD1DAE.static.wiline.com)
[20:42:24] <engla> that's nice
[20:42:32] <engla> that's your change too right
[20:42:35] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[20:42:35] <acrichto> yeah
[20:42:37] <acrichto> different change
[20:42:40] <flaper87> cmr: +1
[20:42:49] <engla> I don't think the @mut Block change has any impact at all
[20:43:07] *** Quits: jensnock_ (jensnocker@moz-63C022A1.mobileonline.telia.com) (Input/output error)
[20:43:09] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:43:28] *** Quits: tdc (santegoeds@moz-ADD1F5DF.range86-135.btcentralplus.com) (Ping timeout)
[20:43:30] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:43:35] *** Joins: jensnockert (jensnocker@moz-63C022A1.mobileonline.telia.com)
[20:44:05] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[20:44:05] *** Quits: jensnockert (jensnocker@moz-63C022A1.mobileonline.telia.com) (Connection reset by peer)
[20:44:24] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[20:45:00] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[20:45:00] *** Quits: steveklabnik (steveklabn@moz-A4CD1DAE.static.wiline.com) (Ping timeout)
[20:46:04] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[20:46:37] *** Joins: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP)
[20:47:06] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[20:47:16] <engla> lint was clearly using 1 MB of memory per line. That's how it works
[20:47:22] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:47:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:47:31] *** Joins: alk (alk@moz-32A9FF6A.fbxo.proxad.net)
[20:47:34] <steffenomak> Hello ther #rust, I just started out with rust and want to do some stuff with sfml and opengl but I have a issue that I can't solv with error at link time. Could someone help me?
[20:47:43] <cmr> steffenomak: Sure, what's the error?
[20:48:00] <steffenomak> got a note: ./lib/libgl-29ac5673dba3f5dc-0.1.so: undefined reference to `sys::FailWithCause$__extensions__::fail_with::hdb4c44d01ce4116HaaM::v0.9$x2dpre'
[20:48:14] <steffenomak> i think thats the important part
[20:48:26] <cmr> steffenomak: Just a hunch, but your libgl is out of date, recompile it.
[20:48:42] <steffenomak> ok, gonna try that
[20:49:12] <bstrie> note to self: start referring opengl questions to cmr rather than bjz
[20:50:34] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[20:50:46] <jbaldwin> hello, I have an existing 0.7 project I'm upgrading to 0.8, it has fail! used in a few places and I'm getting an error "fail_str(x)" is unresolved, is there any documentation on the changes to fail! as I don't see any in the release notes?
[20:50:49] <steffenomak> ... ok so that solved my problem. thanx cmr
[20:50:52] <benh> petition to just delete the pretty printer :(
[20:51:20] <tjc> benh: file an RFC :-)
[20:51:20] <bstrie> benh: honestly that might be accepted
[20:51:32] <bstrie> jbaldwin: what did fail_str do?
[20:51:37] <cmr> jbaldwin: fail! hasn't been changed, what is fail_str?
[20:51:38] <Luqman> bstrie: haha, amassing a list of point people?
[20:52:01] <cmr> bstrie: no no no, I know almost nothing about opengl.
[20:52:01] <benh> --pretty normal apparently uses a function in syntax::parse::comment to re-tokenize the source instead of working from the ast, it's kinda scary
[20:52:04] <bstrie> Luqman: have you not been paying attention? basically all I ever do in this channel is tell people with questions who they should be asking :)
[20:52:08] <bstrie> I'm a glorified receptionist
[20:52:39] *** Joins: ahal (ahal@7F85AFB3.F7EBA23.C3C3A9D0.IP)
[20:52:58] <kimundi> jbaldwin: fail_str... That from getopts, right?
[20:53:07] <jbaldwin> ah
[20:53:11] <jbaldwin> I think you are correct
[20:53:15] <cmr> steffenomak: np. whenever you get an error like that, recompile all of your libraries.
[20:53:19] <jbaldwin> so it would be matches.fail_str()
[20:53:25] <jbaldwin> since getopts changed
[20:53:47] <kimundi> jbaldwin: A bunch of getopts functions got converted to methods, and fail_str is now to_err_msg I think
[20:54:02] * kimundi should rember better, he made the change
[20:54:07] <tikue_> rusti: ' '.is_whitespace()
[20:54:08] -rusti- true
[20:54:11] <steffenomak> cmr: Going to do that from now on.
[20:54:33] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[20:54:53] <tikue_> ?
[20:54:55] <tikue_> rusti: 1
[20:54:56] -rusti- 1
[20:55:14] <kimundi> benh: I remember "rewrite pretty printer" as being a long term goal that some devs throw around every so often
[20:55:31] *** Quits: heftig (heftig@moz-17396EBB.dip0.t-ipconnect.de) (Quit: Quitting)
[20:55:33] <jbaldwin> ok, but its used like this -> let matches = match getopts(args.tail(), opts) { Ok(m) => { m }  Err(f) => { fail!(opt_matches.to_err_string(f)); } } // oops opt_matches isn't created yet, is this static?
[20:55:55] <jbaldwin> sorry 'matches'
[20:55:58] <bstrie> cmr: can you respond to https://news.ycombinator.com/item?id=6481063 ? I'm curious to read the answer myself
[20:56:28] <cmr> bstrie: sure
[20:56:28] <bstrie> cmr: specifically I thought we did allocate string slices on the stack
[20:56:32] <cmr> thanks for pointing it out.
[20:56:36] <bstrie> rusti: &"sdf"
[20:56:36] -rusti- "sdf"
[20:56:41] <jbaldwin> nevermind, it is in the new documents ->  Err(f) => { fail!(f.to_err_msg()) }
[20:56:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:56:48] <tjc> yay, "assigned to but never used" actually found a bug in my code :-D
[20:56:51] <benh> Why'd those go on the stack?
[20:56:51] <kimundi> jbaldwin: Sorry, I don't understand the problem :(. Can you paste the code that makes problems on some only pastebin, with the full error message?
[20:56:51] <jbaldwin> thanks for the help
[20:56:59] <benh> They're immutable, just store them in the image once
[20:57:02] <cmr> bstrie: string literals are in the readonly part of the binary.
[20:57:06] <cmr> benh: they are.
[20:57:11] <kimundi> jbaldwin: Ah, okay
[20:57:12] *** Joins: heftig (heftig@moz-17396EBB.dip0.t-ipconnect.de)
[20:57:21] <cmr> bstrie: *slices* are a pointer + length can be stack allocated, but those aren't their own things.
[20:57:22] <bstrie> cmr: ah right, I keep forgetting that &"sdf" is static :P
[20:57:53] <benh> I might have read a comment to that effect while making sure that &r"sdf" works ;)
[20:58:08] <kimundi> fun fact: "foo" == &"foo" != & &"foo"
[20:58:51] <kimundi> rusti: ("foo", &"foo", & &"foo")
[20:58:53] -rusti- pastebinned 16 lines of output: http://sprunge.us/RJKe
[20:59:21] <kimundi> rusti: println!("{:?}", ("foo", &"foo", & &"foo"));
[20:59:21] -rusti- ("foo", "foo", &"foo")
[20:59:22] -rusti- ()
[20:59:50] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Quit: msingle)
[20:59:52] <engla> yeah, and that repr output is confusing too
[21:00:04] <engla> & &"foo" is &("foo") though
[21:00:11] <kimundi> right
[21:00:23] *** Quits: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se) (Quit: threecreepio)
[21:00:35] <kimundi> It' &'static str, &'static str and & &'static str
[21:00:47] <benh> I keep saying we're too loose with automagicaly adjusting the level of indirection ;)
[21:01:19] <engla> don't you think that it can maybe be changed, so that &"foo" parses as &("foo")?
[21:01:55] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[21:02:05] <kimundi> engla: Then &"foo" and ~"foo" would have different amounts of indirection though
[21:02:20] *** Quits: qr42 (qr42@moz-A112B358.oc.oc.cox.net) (Ping timeout)
[21:02:21] <benh> Seems easier to have &'static str print as &'static "foo" in the first place
[21:03:25] <engla> kimundi: yes of course. I think that's a consequence of having "foo" being &'static "foo"
[21:03:27] <SiegeLord> Is doing bytes!("blahblah").from_utf8_slice() not count as a stack allocated string?
[21:03:40] *** Quits: nik_ (nik@moz-DD600810.vpn.rwth-aachen.de) (Ping timeout)
[21:04:07] <SiegeLord> *Does
[21:05:22] *** Joins: qr42 (qr42@moz-A112B358.oc.oc.cox.net)
[21:05:23] <kmc> bytes! expands to a vector literal?
[21:05:53] <cmr> kmc: no
[21:05:56] <cmr> wait
[21:06:02] *** Quits: rbancroft (rumble@99CB1D09.5825E03B.F97ED6F2.IP) (Ping timeout)
[21:06:05] <engla> yes it's a macro for creating &[u8]
[21:06:07] <cmr> slice literal I think
[21:06:13] *** Joins: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net)
[21:06:40] <kmc> is a slice literal sugar for a local var + borrowing it, like other borrowed rvalues?
[21:07:03] *** jorendorff_away is now known as jorendorff
[21:07:55] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[21:08:27] <SiegeLord> I don't quite see the point behind needing a stack allocated string though... aside from wasting stack?
[21:09:38] <kmc> maybe faster allocation of local string buffers you're mutating
[21:09:42] <kmc> but they wouldn't be able to grow arbitrarily
[21:09:46] <benh> Can't mutate strings
[21:09:48] <jason_> taking a guess, but malloc is slow would be my guess
[21:10:08] <benh> You'd have to allocate a local u8 buffer and from_utf8_slice it
[21:10:17] <kmc> benh: you can, if their root owner is "mut" (like anything else in Rust)
[21:10:37] <kmc> rusti: let mut buf = ~"testing"; buf.push_str("123"); buf
[21:10:38] -rusti- ~"testing123"
[21:11:00] <engla> there is no mutable string slice. but you can mutate ~str
[21:11:40] <kmc> you could imagine allowing that code without the ~
[21:11:52] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:12:00] *** Quits: heftig (heftig@moz-17396EBB.dip0.t-ipconnect.de) (Ping timeout)
[21:12:07] <kmc> but it's not clear entirely how it would work
[21:12:18] <kimundi> kmc: I can't imagine it? Whatwould it do?
[21:12:24] <kmc> if buf ends up with a type like [u8, ..7] then you wouldn't be able to .push_str() anyway
[21:12:32] <engla> it would need some kind of function to call to grow the string
[21:12:52] <kimundi> Can't grow, can't shrink, mutating characters in place would be useless because that too can cause the length to change...
[21:12:54] <benh> I guess you could do something like [u8, BUF_SIZE] on the stack wrapped as a zero-length str slice with higher capacity and then allow push_str() and just have it fail when it needs to allocate
[21:13:02] <kmc> yep
[21:13:08] <kmc> it's pretty nasty though, I don't think we actually want this
[21:13:20] <engla> you could implement that in a custom type if you need it
[21:13:20] <kimundi> THAT would be a smallvector
[21:13:25] <kmc> but this is a common thing to do in C, anyway
[21:13:25] *** Joins: heftig (heftig@moz-40F6E3CD.dip0.t-ipconnect.de)
[21:13:28] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[21:13:29] <kimundi> One could imagine a SmallStr type
[21:13:31] <benh> I can see wanting it since it's kind of a thing you can do in C and we want to steal C programmers
[21:13:39] <kmc> eh let's just make malloc faster ;)
[21:13:40] <pcwalton> we used to have all vectors be SmallVectors
[21:13:44] <pcwalton> the code bloat was legendary
[21:13:44] <pcwalton> '
[21:13:50] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:13:55] <pcwalton> the SmallVector optimization is poison in that concentration
[21:14:20] <kmc> btw do I follow one pointer or two to get to the payload of a ~str? and if one, how do we deal with cases where realloc involves moving?
[21:14:29] <kimundi> pcwalton: I have no experience with them, but I can image how that would be something you'd have to choose on a an case-to-case basis
[21:14:30] <pcwalton> 1
[21:14:40] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:14:42] <benh> kmc: realloc is ok because a ~str is the only pointer to that payload
[21:14:45] <pcwalton> kmc: you can only push onto a ~str and if you do it may change the pointer
[21:14:50] <benh> unless it's borrowed in which case you can't mutate it
[21:14:52] <kmc> ah right
[21:14:58] <kmc> so this is another reason that &mut str can't work
[21:15:14] <kimundi> kmc If it whhere two, we wouldn't have the hassle with ~str and ~[T] being special
[21:15:23] <jason_> speaking of vectors, i've been meaning to ask what the growth factor is for owned vectors
[21:15:24] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[21:15:44] <pcwalton> kmc: it can, I guess, but only if you mutate only characters to other characters that take up the exact same amount of space...
[21:15:46] *** Joins: donuts (Mibbit@moz-15FB2963.hfc.comcastbusiness.net)
[21:15:48] <pcwalton> or shrink the string I guess
[21:16:13] <donuts> Q: how do I match on x such that x < 0 ?
[21:16:15] <kimundi> jason_: Don't know off-hand, but that is probably visible somewhere in std::vec::raw....push...
[21:16:16] <pcwalton> oh wait, you can't shrink the string, you don't have the length handy
[21:16:20] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[21:16:30] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:16:33] <pcwalton> donuts: match foo { x if x < 0 => ... }
[21:16:41] <donuts> thx!
[21:16:48] <kimundi> donuts: match foo { x if x < 0 => ... }
[21:16:51] <spott> stupid question:  what does the "'" mean (as in <'self> statements etc.)?
[21:16:58] <pcwalton> lifetime
[21:16:58] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[21:17:01] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[21:17:03] <kimundi> spott: those arenamed lifetimes
[21:17:09] <kimundi> named*
[21:17:18] <kmc> ah, and push_char takes an &mut ~str, so it can rewrite the pointer in the caller's stack frame (e.g.)
[21:17:33] <kimundi> spott: The ' itself is just to signify that their something idfferent than a type parameter
[21:17:40] <kmc> spott: http://static.rust-lang.org/doc/master/tutorial-borrowed-ptr.html#returning-borrowed-pointers
[21:17:43] <kimundi> kmc: correct
[21:18:08] <spott> awesome.  I was having a really hard time finding them in the language spec/tutorial
[21:18:17] <engla> spott: 'self is a specially named lifetime parameter; 'static is the lifetime of an immortal value; and other names of the lifetime parameter are chosen where they are declared (just like type parameters in generics)
[21:18:52] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[21:19:07] <kmc> spott: yeah it's hidden away in a link from the very end of the main tutorial
[21:19:26] <kmc> along with the FFI tutorial, the macros tutorial, ...
[21:19:34] <kmc> we should make those easier to find because they're quite useful
[21:20:00] <cmr> yeah
[21:20:03] <spott> I'm not sure if it is a bug, but it isn't listed in the 'symbols' table of the language spec
[21:20:09] <spott> which is where I figured it would be
[21:20:35] <SimonSapin> \o/ my Rust talk proposal for PyConFR has been accepted
[21:20:36] <benh> Don't overestimate the spec :(
[21:20:36] <jason_> kimundi: it looks like it would be in vec::raw::reserve_raw but i can't find where that is implemented
[21:20:58] <benh> For example, raw string literals aren't in the spec either :(
[21:21:42] <benh> oh dear the spec still says &lifetime/type
[21:22:06] *** Joins: nik_ (nik@moz-CC5E16D8.pool.mediaways.net)
[21:22:14] <spott> so, it is a bug? :)
[21:22:28] <Eridius> we have a spec?
[21:22:39] <benh> I'm not sure they'd go under Symbols
[21:22:47] <kimundi> jason_: Hum, look for "fn push", I was thinking o the string implementation. for vectos, the logic is directly in the push function
[21:22:54] <benh> Eridius: https://github.com/mozilla/rust/blob/master/doc/rust.md calls itself reference manual, close enough
[21:23:14] <kimundi> jason_: But from what I'm seeing at first glance... It seems it always allocates only space for one additional element? That can't be right...
[21:23:42] <jason_> kimundi: you're right, i was misreading (bad terminal colors for rust syntax highlighting)
[21:23:42] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[21:23:59] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[21:24:21] <cmr> kimundi: it reserves at *least* enough space for one element.
[21:24:23] <kimundi> benh: Heh, the reference manual is actually second furthest away from current rust 
[21:24:33] <cmr> kimundi: It doubles the allocation in practice.
[21:24:47] <cmr> fn reserve_at_least(&mut self, n: uint) {                     
[21:24:49] <cmr>     self.reserve(uint::next_power_of_two_opt(n).unwrap_or(n));
[21:24:51] <cmr> }                                                             
[21:24:56] <sfackler> there's a bug somewhere to investigate changing that to a 1.5x realloc
[21:25:12] <jason_> kimundi: self.reserve(uint::next_power_of_two_opt(n).unwrap_or(n));
[21:25:14] <kimundi> ah, reserve_at_least - next_power_of_two
[21:25:14] <jason_> oh
[21:25:18] <jason_> ^^
[21:25:24] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:25:35] <donuts> Q: how would I run all the tests on rustc?
[21:25:44] <kimundi> donuts: make check
[21:25:44] <cmr> donuts: A: `make check`
[21:25:54] <donuts> thx!
[21:25:56] <jason_> power of two is what libstdc++ does and facebook has done of research to the effect that 2x is the *worst* factor
[21:26:18] <cmr> jason_: yeah
[21:26:24] <jason_> https://github.com/facebook/folly/blob/master/folly/docs/FBVector.md
[21:26:26] <kimundi> donuts: Or for a specific stage/rustc only: make check-stage1-rustc
[21:26:28] <cmr> https://github.com/mozilla/rust/issues/4961
[21:26:38] *** Joins: sinma (sinma@moz-6A11C47C.fbx.proxad.net)
[21:26:39] <kimundi> or make check-stage2-rustc
[21:26:44] <donuts> cool
[21:27:05] <benh> I would really appreciate a short blog post or something to the effect of "useful make targets for your standard rustc development workflow" :)
[21:27:19] <donuts> nice
[21:27:42] <cmr> benh: so would I!
[21:28:11] <kimundi> benh: They are documented on the wiki somewhere.... which brings me to place 1 of "most outdated official rust documentation"
[21:28:18] <sinma> hi, why «let x = 1e-14; let y: f32 = x;» and «let x = 1e-14; let y: f64 = x;» works?
[21:28:22] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[21:28:26] <Luqman> benh: https://github.com/mozilla/rust/wiki/Note-testsuite has info on test targets
[21:28:30] <sinma> x must be f32 OR f64, no?
[21:28:47] <tjc> sinma: in the first case, the type checker infers that x should have type f32
[21:28:53] <kimundi> sinma: If infers backwards from the latter usage
[21:28:53] <tjc> in the second case, it infers type f64 for x
[21:28:57] <tjc> float literals are overloaded
[21:29:19] <sinma> But if I put nothing, just «let x = 1e-14», what is the type of x?
[21:29:38] <kimundi> It defaults to f64 then (float before we removed float)
[21:29:49] <sinma> Ok, thx
[21:30:18] <engla> sinma: it should infer the type of x from later use of it, when nothing is apparent, it should be f64
[21:30:31] <engla> rusti: let x = 1.0; 1.0f32 + x
[21:30:32] -rusti- 2f32
[21:30:52] <engla> rusti: let x = 1.0; 1.0 + x
[21:30:53] -rusti- 2f64
[21:31:10] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[21:31:24] <spott> why doesn't it implicitly bump the 1.0f32 up to f64?
[21:31:25] <sinma> That’s a bit strange that rustc deduce the type with next use of the var, no?
[21:31:38] <engla> spott: it infers `x` should be of type f32
[21:31:46] <sinma> Because «explicite is better than implicit», no?
[21:31:53] <engla> it's a feature
[21:32:08] <engla> rusti: let mut v = ~[]; v.push(1i); v
[21:32:08] -rusti- ~[1]
[21:32:12] <sinma> Argh, damn french idioms that get back all the time in my english
[21:32:15] *** Quits: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca) (Quit: canhtak)
[21:32:16] <spott> engla: depends on who you ask... :)  I don't like my types changing after I declare them
[21:32:28] <engla> it's convenient to not have to specify the type of vectors and hashmaps etc
[21:32:34] <spott> rusti: let x : f64 = 1.0; 1.0f32 + x
[21:32:35] -rusti- <anon>:7:37: 7:38 error: mismatched types: expected `f32` but found `f64` (expected f64 but found f32)
[21:32:35] -rusti- <anon>:7          let x : f64 = 1.0; 1.0f32 + x
[21:32:35] -rusti-                                               ^
[21:32:35] -rusti- error: aborting due to previous error
[21:32:35] -rusti- application terminated with error code 101
[21:32:46] <engla> spott: the types definitely don't change.
[21:32:47] <spott> ok, that makes sense
[21:32:53] <tjc> Hey, could someone running Linux do a quick experiment for me?
[21:33:07] <spott> engla: does the compiler warn you when you do that?
[21:33:12] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[21:33:21] <kmc> tjc: sure
[21:33:29] <engla> spott: no, it's an intended feature
[21:33:34] <tjc> kmc: here it is: compile any file with rustc, creating an executable foo
[21:33:38] <tjc> then chmod foo so it's read-only
[21:33:39] *** Quits: qr42 (qr42@moz-A112B358.oc.oc.cox.net) (Ping timeout)
[21:33:42] <tjc> run the same compile command again
[21:33:51] <tjc> and see what happens -- does it overwrite the output file, or complain that it can't write to it?
[21:34:36] <kimundi> sinma: It doesn't do anything implicitly
[21:34:45] <kmc> overwrites
[21:34:59] <benh> it overwrites and the new file is writable again
[21:35:02] <kmc> https://pastebin.mozilla.org/3184582
[21:35:13] <tjc> kmc: thank you! that solves what I've been struggling with for the past 2 days or so :-D
[21:35:15] <kimundi> sinma: It doesn't cast a f64 to a f32 at runtime .... The variable just starts of as the infered f32 type to begin with
[21:35:22] <tjc> Next question is, should it?
[21:35:25] <sinma> kimundi: that just strange to have a type or another, depending of the next code lines
[21:35:35] <tjc> on Mac OS, it will fail saying that it can't write to the output file
[21:35:37] <sinma> *that’s
[21:35:44] <tjc> so it should at least be consistent across platforms (I think)
[21:35:50] <kimundi> sinma: However, there is the good argument that strcat likes to make that 1.0 should not default to f64, and 1 should not default to int if it can't infer
[21:36:18] <kimundi> sinma: Might be strange at first, but it works that way everywhere in a language with type inference
[21:36:32] <benh> I think it probably shouldn't overwrite a read-only file
[21:36:47] <ion> [pid  5174] chmod("foo", 0775)          = 0
[21:36:48] <kimundi> sinma: same think with let mut v = ~[]; v.push(12u); // v gets infered as ~[uint] here
[21:36:50] <ion> ld chmods it.
[21:36:50] <sinma> kimundi: what do you mean about that? 1.0 and 1 souhld default to what if not f64 and int? Nothing?
[21:37:00] *** Joins: qr42 (qr42@moz-A112B358.oc.oc.cox.net)
[21:37:03] <kimundi> sinma: Right, compile error
[21:37:04] <kimundi> like
[21:37:17] <kimundi> rusti: let v = ~[]; v
[21:37:18] <ion> I expected it to write to a new temporary file and rename it over the old one, but that doesn’t seem to be what happens
[21:37:19] -rusti- pastebinned 10 lines of output: http://sprunge.us/fPdb
[21:37:56] <sinma> kimundi: I rather like compilation error than type «unknow type» when reading the declaration line.
[21:38:22] *** Quits: victorporof (victorporo@A3643B25.1C233438.79933D60.IP) (Quit: victorporof)
[21:38:47] *** Quits: Ms2ger (Ms2ger@moz-2F2A356D.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:39:21] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[21:39:21] *** ChanServ sets mode: +ao dherman dherman
[21:39:25] <sinma> At least, Rust gives us the choice. I probably worry for nothing since declaration and first affectation are close in general.
[21:40:17] <sinma> I just think it can be misused, in some (rare) cases
[21:40:35] <kmc> which can?
[21:41:48] *** Parts: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Leaving)
[21:42:31] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Connection reset by peer)
[21:42:40] *** Quits: tjc (tjc@151DA674.5B95CD0.284344F5.IP) (Ping timeout)
[21:42:58] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[21:43:20] <kimundi> kmc: forcing an unsuffixed float and integer literal default value to an non-default type through inference
[21:44:00] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[21:44:15] <kimundi> like let f = 1.0 // expect this to be f64 ... 10kloc ... f = 5f32; // It's actually a f32!
[21:44:25] <kimundi> pretty unlikely though
[21:44:32] <kmc> what's meant by "non-default type"? I thought the proposal is that there *wouldn't* be a default
[21:44:36] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[21:44:54] <kmc> or is that the alternative which prevents this hazard
[21:45:00] <kimundi> mc: Right sinma, is talking about the current situation
[21:45:04] <kmc> ah ok
[21:45:09] <kmc> fwiw GHC warns about defaulting with -Wall
[21:45:24] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[21:45:25] <kmc> you can turn it off too (it's one of the few pragma-like things standardized in Haskell itself)
[21:45:35] *** Joins: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net)
[21:45:35] *** ChanServ sets mode: +o tjc
[21:45:44] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[21:45:53] <flaper87> https://github.com/mozilla/rust/pull/9688 r?
[21:46:40] <kmc> to my knowledge, by far the #1 case where defaulting happens in Haskell is something like  x^3
[21:46:51] <kmc> (and with ^^ as well)
[21:47:02] <kmc> because the exponent is allowed to have a different type from the base
[21:47:09] *** Quits: donuts (Mibbit@moz-15FB2963.hfc.comcastbusiness.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:47:29] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[21:47:34] <kmc> which I don't think is the case in Rust
[21:48:43] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[21:49:16] <engla> cmr: proposal (boldly added) to add a table of what syntax is called.. https://github.com/mozilla/rust/wiki/The-Rusticon#syntaxicon  what do you think?
[21:50:52] <benh> this is a pretty great wiki page
[21:50:53] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[21:51:12] <cmr> engla: I think "owned vector" should just be "vector"
[21:51:15] *** Joins: canhtak (jeremy@moz-414CC428.wl.t.ulaval.ca)
[21:51:19] <benh> ::<int>?
[21:51:26] <engla> benh: I have no idea what it's called!
[21:51:28] <cmr> We don't have borrowed vectors, and managed vectors are going the way of the dinosaur.
[21:51:29] <engla> cmr: ok
[21:51:53] <benh> engla: "f::<int>() - calling the function f<T>() with T = int"?
[21:51:59] <cmr> benh: correct.
[21:52:03] <cmr> Type hint, I think they're called.
[21:52:07] * cmr adds it.
[21:52:30] <sfackler> ~str should be in there since str isn't a type
[21:52:31] <benh> The type parameters can also be explicitly supplied in a trailing path component after the function name. This might be necessary if there is not sufficient context to determine the type parameters. For example, sys::size_of::<u32>() == 4.
[21:52:40] <benh> says the reference doc, i might have written that
[21:53:02] <kmc> I want to switch from "owned pointer" to "owning pointer" but this might not be the place
[21:53:09] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[21:53:14] <kmc> an owning pointer owns an owned box
[21:53:18] <cmr> kmc: I agree with that switch. The Rusticon should be brought up at the meeting.
[21:53:23] <kmc> ok
[21:53:50] <benh> ownish poiner/box :)
[21:53:52] <benh> pointer*
[21:54:17] <cmr> Also, whoever edited the bikeshed entry to be sarcastic, that wasn't the original intent. "Bikesheds" as Rust uses the term are actually really important to the shape and feel of the language, as well as quality of the libraries.
[21:54:38] <tjc> heh
[21:54:48] <tikue_> cmr, where?
[21:54:52] <tjc> I'm not sure we have an agreed-upon meaning of "bikeshed", tbh
[21:54:59] <tjc> I only use it to refer to discussions that I don't think are productive
[21:55:01] <kmc> if you're going to show bounds on trait objects, you could show them on fn as well
[21:55:05] <tjc> but I don't think everyone else uses it that way
[21:55:09] *** Quits: sinma (sinma@moz-6A11C47C.fbx.proxad.net) (Ping timeout)
[21:55:20] <cmr> tikue_: https://github.com/mozilla/rust/wiki/The-Rusticon
[21:55:31] <cmr> tjc: yeah. I think we should deprecate the term.
[21:55:39] <kmc> let's bikeshed about what "bikeshed" means :D
[21:55:40] <benh> imo bikeshedding is arguments about non-technical maybe-ergonomical probably-personal aspects
[21:55:44] <tjc> cmr: Heh, well, I think it's useful to have a shorthand for "this discussion is going nowhere"
[21:55:50] <benh> ("individual?")
[21:56:11] <kmc> it's definitely bad if it's used to label all ergonomics discussions as unimportant
[21:56:12] <tjc> subjective
[21:56:30] <tjc> based on gut feelings rather than evidence
[21:56:36] <tjc> that to me is what characterizes a bikeshed
[21:56:37] <engla> bikeshed has a negative connotation to me, so I was very confused by the rust mailing list at first
[21:56:44] <tikue_> i use bikeshed to mean "something whose various outcomes are functionally equivalent but aesthetically different and easy enough to understand such that everyone has a subjective opinion on the best outcome"
[21:56:50] <tjc> yeah
[21:56:58] <kmc> "functionally equivalent" is tricky though
[21:57:05] <tikue_> nah
[21:57:11] <kmc> does that include the function of making programmers happy or not
[21:57:15] <benh> kmc: I think it's okay to invoke the term just to signify that one is putting forward a bikesheddy opinion rather than making a claim about objective fact/merits
[21:57:16] <tikue_> kmc, no
[21:57:23] <tikue_> benh, agreed
[21:57:43] <tikue_> i think there's nothing wrong with bikeshedding as long as it's not a bikeshed in disguise as something else
[21:57:46] <tjc> we should all know by now that what characterizes a programmer is the quality of never being happy :-)
[21:57:50] <kmc> one may point out that a convo is getting bikesheddy in order to refocus it, rather than to kill it
[21:58:00] <tikue_> true
[21:58:07] <cmr> tjc: I'm quite happy when I'm doing non-programming activities :p
[21:58:11] <tjc> cmr: me too!
[21:58:14] <benh> this convo is getting really meta :)
[21:58:14] <tjc> funny how that works :-)
[21:58:21] <tikue_> i like programming ._.
[21:58:22] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:58:31] * kmc too
[21:58:50] * tikue_ also enjoys late night espresso and long walks on the beach
[21:59:43] <jason_> but do you like music?
[22:00:15] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[22:01:19] *** Quits: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net) (Quit: zzzzzzzzzz)
[22:01:24] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:02:43] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[22:02:48] *** Joins: orshem (orshem@F0A9EA9.588A166C.E3D28531.IP)
[22:04:22] *** Joins: quaddle (Mibbit@moz-936B6A91.ias.bredband.telia.com)
[22:05:08] *** Quits: jviereck (Adium@moz-4C9C4638.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:06:38] *** Quits: orshem (orshem@F0A9EA9.588A166C.E3D28531.IP) (Quit: Leaving)
[22:07:17] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[22:07:37] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:08:25] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[22:08:45] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[22:11:48] *** Joins: sinma (sinma@moz-6A11C47C.fbx.proxad.net)
[22:12:52] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[22:14:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:15:46] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:18:59] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[22:19:21] *** Quits: sinma (sinma@moz-6A11C47C.fbx.proxad.net) (Quit: Konversation terminated!)
[22:19:53] *** Joins: tjc (tjc@moz-6C584174.ipnetworksinc.net)
[22:19:53] *** ChanServ sets mode: +o tjc
[22:19:53] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[22:20:05] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[22:20:16] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:21:46] *** Quits: tjc (tjc@moz-6C584174.ipnetworksinc.net) (Ping timeout)
[22:21:48] *** Quits: jbaldwin (Mibbit@EF784383.FC9BECD6.A8DE49A2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:22:30] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:23:40] *** flaper87 is now known as flaper87|afk
[22:23:49] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[22:25:42] *** Quits: valenting (Thunderbir@50075977.FDB3AFA7.FB866788.IP) (Ping timeout)
[22:25:42] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:25:57] *** Joins: valenting (Thunderbir@moz-9CED7364.residential.rdsnet.ro)
[22:26:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:30:40] *** Quits: fyolnish (fyolnish@moz-2DDC835D.uqwimax.jp) (Client exited)
[22:31:37] *** Joins: jdm (jdm@moz-5D18647C.com)
[22:31:37] *** ChanServ sets mode: +o jdm
[22:34:09] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[22:35:54] <cmr> The float removal exposed a bug in rustsqlite
[22:37:08] *** Quits: ahal (ahal@7F85AFB3.F7EBA23.C3C3A9D0.IP) (Ping timeout)
[22:38:09] <aatch> cmr, good. The way it should be.
[22:38:31] <cmr> Yup
[22:38:47] <cmr> I'm just a bit surprised that the first code I touched that was using float was wrong :)
[22:38:50] *** Quits: fmtq (fmt@moz-5769BD38.static.tpgi.com.au) (Connection reset by peer)
[22:38:56] <benh> What was the bug?
[22:39:03] *** Joins: fmt (fmt@moz-5769BD38.static.tpgi.com.au)
[22:39:25] <cmr> Well, potential bug.
[22:39:36] <cmr> It would have used a 32-bit float where sqlite expects an f64
[22:39:40] <cmr> *could
[22:39:54] <cmr> But I consider incorrectness to be a bug.
[22:40:21] <jason_> i'm rarely surprised when code i've touched is wrong
[22:40:34] <aatch> jason_, especially when it's my code
[22:40:35] <benh> I'm surprised when it turns out it was wrong before I touched it ;)
[22:40:44] <cmr> Heh
[22:42:39] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[22:43:11] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[22:44:35] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[22:44:51] *** Joins: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net)
[22:47:26] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[22:48:15] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:53:17] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Connection reset by peer)
[22:53:21] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[22:53:47] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Quit: Leaving)
[22:54:09] *** Quits: nik_ (nik@moz-CC5E16D8.pool.mediaways.net) (Ping timeout)
[22:54:12] *** Joins: tjc (tjc@47C8A6B2.A033706C.284344F5.IP)
[22:54:12] *** ChanServ sets mode: +o tjc
[22:54:16] *** Quits: alk (alk@moz-32A9FF6A.fbxo.proxad.net) (Ping timeout)
[22:55:17] *** Quits: valenting (Thunderbir@moz-9CED7364.residential.rdsnet.ro) (Ping timeout)
[22:55:25] *** Joins: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro)
[22:55:41] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[22:55:55] *** Joins: judder (maradukewa@1BB87CE.111872A8.950D3BB5.IP)
[22:57:16] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[22:57:45] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:59:15] *** Quits: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net) (Input/output error)
[22:59:27] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:59:42] *** Joins: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net)
[22:59:49] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[23:00:05] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:00:52] *** Joins: fyolnish (fyolnish@moz-F1A94AD1.uqwimax.jp)
[23:01:07] *** Quits: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net) (Connection reset by peer)
[23:01:22] *** Joins: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net)
[23:01:37] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:02:06] *** Quits: timot (timot@moz-3896B0B8.cust.tele2.se) (Ping timeout)
[23:03:36] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[23:03:54] *** Quits: quaddle (Mibbit@moz-936B6A91.ias.bredband.telia.com) (Quit: http://www.mibbit.com ajax IRC Client)
[23:04:47] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[23:04:48] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[23:07:50] *** Quits: mdup (mdup@moz-2989B319.rev.numericable.fr) (Ping timeout)
[23:07:50] *** Quits: fyolnish (fyolnish@moz-F1A94AD1.uqwimax.jp) (Ping timeout)
[23:07:55] *** Quits: tjc (tjc@47C8A6B2.A033706C.284344F5.IP) (Quit: zzzzzzzzzz)
[23:07:56] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[23:08:01] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[23:08:33] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:08:43] *** Joins: nik_ (nik@moz-C85727A1.vpn.rwth-aachen.de)
[23:13:26] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[23:13:59] *** Joins: tjc (tjc@47C8A6B2.A033706C.284344F5.IP)
[23:13:59] *** ChanServ sets mode: +o tjc
[23:14:14] <kimundi> Ha! Finally found out what the memory layout of a trait object is
[23:16:38] *** Joins: mdup (mdup@moz-2989B319.rev.numericable.fr)
[23:16:40] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:17:01] *** Quits: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net) (Input/output error)
[23:17:11] *** Quits: nik_ (nik@moz-C85727A1.vpn.rwth-aachen.de) (Ping timeout)
[23:17:30] *** Joins: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net)
[23:18:22] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:18:32] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:18:55] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[23:19:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:19:12] *** Quits: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net) (Ping timeout)
[23:19:13] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:20:42] *** Joins: ofeldt- (ofeldt@moz-A62E52DA.dip0.t-ipconnect.de)
[23:21:08] *** Quits: tjc (tjc@47C8A6B2.A033706C.284344F5.IP) (Quit: zzzzzzzzzz)
[23:21:33] *** Quits: ofeldt (ofeldt@moz-AF6C4EDF.dip0.t-ipconnect.de) (Ping timeout)
[23:22:06] *** Joins: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net)
[23:22:39] *** Joins: buptor (Mibbit@B898500A.BCCBF0DD.DDE5D3F6.IP)
[23:22:41] *** Quits: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro) (Ping timeout)
[23:23:11] <buptor> Hi all, is there any example for using RWLock in Rust 0.8?
[23:24:05] *** Quits: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net) (Input/output error)
[23:24:32] *** Joins: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net)
[23:24:54] *** Quits: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net) (Connection reset by peer)
[23:25:15] *** Joins: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net)
[23:26:42] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[23:26:46] <pcwalton> what did printfln!() change to?
[23:27:05] *** Quits: jonathanmarvens (jonathanma@moz-BDCCF091.hfc.comcastbusiness.net) (Ping timeout)
[23:27:25] <dbaupp> pcwalton: printfln!(x) -> println!("{:?}", x)
[23:27:26] *** Joins: Sodel_the_V (user@moz-3E9A83E7.eng.wind.ca)
[23:27:39] <pcwalton> thanks
[23:27:40] *** Quits: mdup (mdup@moz-2989B319.rev.numericable.fr) (Quit: mdup)
[23:27:53] <dbaupp> (and printfln!("foo %s %d", s, n) -> println!("foo {} {}", s, n))
[23:27:59] <Eridius> I wonder if there's value in having println!(x) be equivalent to println!("{:?}", x)
[23:28:33] <jason_> i certainly tried do to that
[23:29:25] <dbaupp> Eridius: it makes println!("foo") weird, but could obviously argue that calling that (rather than non-macro println) is weird anyway
[23:29:45] <Eridius> dbaupp: calling println!("foo") I think is an error
[23:31:59] <engla> dbaupp: I thought we agreed to make println! the main frontend for output, replacing most uses of io::println as well
[23:32:16] <engla> I think it's a bad idea to have both println!() and println() in the default namespace
[23:32:25] * dbaupp is confused by the conflicting opinions
[23:32:48] *** Joins: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net)
[23:32:58] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[23:33:11] *** Joins: haxney (dan@moz-424CB7EB.cs.brown.edu)
[23:33:47] * engla has an opinion too much sometimes
[23:34:30] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[23:34:41] <dbaupp> Eridius: do you mean "is currently an error" or "is normally an error on the programmer's part"?
[23:35:07] <engla> rusti: println!("the trivial format string")
[23:35:07] <SiegeLord> It makes no sense to coopt println! for implicit debugging output
[23:35:08] <Eridius> dbaupp: yes, an error on the programmer's part
[23:35:08] -rusti- the trivial format string
[23:35:08] -rusti- ()
[23:35:28] *** Joins: tjc (tjc@47C8A6B2.A033706C.284344F5.IP)
[23:35:29] *** ChanServ sets mode: +o tjc
[23:35:47] *** Joins: nik_ (nik@moz-CC5E16D8.pool.mediaways.net)
[23:35:50] <dbaupp> SiegeLord++
[23:36:14] <kimundi> It works!
[23:36:26] <kimundi> I just implemented dynamic typing as a library :P
[23:36:44] *** Parts: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) ()
[23:36:55] <dbaupp> python for loops, python formatting, python typesystem
[23:37:04] *** Joins: fyolnish (fyolnish@moz-B0DB3C38.uqwimax.jp)
[23:38:01] *** Quits: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:38:45] *** Quits: fyolnish (fyolnish@moz-B0DB3C38.uqwimax.jp) (Ping timeout)
[23:38:58] *** Quits: tjc (tjc@47C8A6B2.A033706C.284344F5.IP) (Quit: zzzzzzzzzz)
[23:40:29] *** Joins: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de)
[23:41:17] *** Joins: jdm_ (jdm@moz-3AA477DF.dsl.bell.ca)
[23:41:53] *** Quits: jdm (jdm@moz-5D18647C.com) (Ping timeout)
[23:42:10] <kimundi> dbaupp: https://gist.github.com/Kimundi/6802198
[23:43:44] <dbaupp> kimundi: you're a bad person :P
[23:43:55] <kimundi> Why? :O
[23:43:57] <engla> wow, cool
[23:44:12] <dbaupp> kimundi: string equality of tydesc :P
[23:44:39] <kimundi> dbaupp: Nothing else to work with! :P
[23:44:55] <kimundi> Blame strcat for not adding an globally uniqe identifier there
[23:45:00] <dbaupp> kimundi: yup. cool hack! :D
[23:46:34] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[23:47:15] <aatch> Wouldn't pointer equality work?
[23:47:17] <jdm_> can you not break out of a match block?
[23:47:45] *** Quits: buptor (Mibbit@B898500A.BCCBF0DD.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:47:52] <kmc> believe you can
[23:48:03] <kimundi> aatch: Not sure. One is the typedescriptor of a T, the other a typedescriptor of a ~T, @T or &T
[23:48:09] <jdm_> /home/jdm/sdb/servo/src/components/script/dom/document.rs:289:20: 289:26 error: `break` outside of loop
[23:48:14] <jdm_>             _ => {
[23:48:16] <jdm_> break
[23:48:19] <jdm_> bleah
[23:48:20] * kimundi submits his gist to r/rust
[23:48:33] <jdm_> rusti: match 5 { _ => { break; } }
[23:48:34] -rusti- pastebinned 13 lines of output: http://sprunge.us/PUZB
[23:48:36] <kmc> oh, I mean, what would it mean to break out of a match other than in a loop?  only one branch of a match executes right
[23:48:42] <kimundi> jdm_: You can't break the match itself
[23:48:45] <jdm_> whyyyy
[23:48:48] <aatch> kimundi, hmm, I can't quite remember how pointer type-descs work.
[23:49:07] <aatch> jdm_, what are you trying to do?
[23:49:10] <engla> jdm_: what's wrong with just _ => ()  ?
[23:49:11] *** Parts: haxney (dan@moz-424CB7EB.cs.brown.edu) (ERC Version 5.3 (IRC client for Emacs))
[23:49:25] <jdm_> engla: because there's a lot more other statements in the real code
[23:49:33] <engla> jdm_: you can break if it's inside a for, loop or while
[23:49:35] <jdm_> aatch: I'm trying to short circuit a match block
[23:49:50] <aatch> jdm_, but a match block is just an expression.
[23:50:02] <jdm_> yeah
[23:50:04] <jdm_> you are correct
[23:50:07] <aatch> there's nothing special about it.
[23:50:15] <dbaupp> rusti: 'label: loop { match 5 { _ => { break 'label; } } }
[23:50:16] -rusti- ()
[23:50:42] <aatch> dbaupp, and then you forget a break and infinite loop :P
[23:50:52] *** Quits: smvv (smvv@moz-A397289C.xlshosting.net) (Ping timeout)
[23:51:08] <dbaupp> aatch: if matching once is good, matching again is better \o/
[23:51:10] <dbaupp> :P
[23:51:33] <aatch> dbaupp, then by extension matching infinite times is the best. It's so obvious now
[23:51:34] <engla> kimundi: default method in the trait any could be used to get the inner type tydesc?
[23:51:45] <engla> kimundi: a fn tydesc(&self) method?
[23:51:52] *** Quits: Sodel_the_V (user@moz-3E9A83E7.eng.wind.ca) (Ping timeout)
[23:52:01] *** Quits: maik (maik@moz-BFFECFF4.dip0.t-ipconnect.de) (Ping timeout)
[23:53:10] <kimundi> engla: Yeah, need to propely encapsulate the functionality. Was just glad that I finally solved the mystery of the memory layout of a trait object
[23:53:33] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:54:15] <kimundi> Probably gonna add this stuff to libstd
[23:54:29] <kimundi> std::unstable::raw etc
[23:54:42] <dbaupp> which? getting the tydesc out of a trait object?
[23:55:02] * dbaupp doesn't think you can be generic over traits yet
[23:55:08] <kimundi> yeah, and a repr for the trait object itself
[23:55:30] <kimundi> right, that might be a problem... 
[23:55:42] <kimundi> Altogh, not really
[23:56:01] <kimundi> ... No wait, it is a problem
[23:56:36] <dbaupp> make up your mind! :P
[23:56:49] <engla> a tydesc method on Any should fix the issue and let you get the tydesc of T, not ~T
[23:56:53] <kimundi> I did! And then I did again!
[23:56:56] <kimundi> ;)
[23:57:06] <kimundi> engla: Sure
[23:57:20] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[23:57:45] <engla> cool, I just want to you to bring this on firm ground so it can be a real feature :)
[23:58:27] *** Quits: jdm_ (jdm@moz-3AA477DF.dsl.bell.ca) (Quit: Lost terminal)
[23:59:19] <dbaupp> acrichto: "That being said, I've got a fairly large side project which has been compiling just fine (without modifications)" is it public? (and is it awesome? :P )
[23:59:50] <acrichto> sadly no :(, it's my compiler from one of my courses at CMU, and open-sourcing it would be bad
