[00:02:08] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[00:04:41] <Gankro> mcpherrin: PRs welcome :)
[00:05:01] <Gankro> (it's supposed to link to the reference section on that)
[00:07:44] *** Joins: koobs (koobs@moz-lu0tvm.internode.on.net)
[00:13:02] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[00:15:49] <eddyb> huon: ping
[00:17:08] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Client exited)
[00:18:01] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[00:20:49] *** Joins: fmcauley (fmcauley@moz-f4hren.res.rr.com)
[00:22:09] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[00:23:02] *** Joins: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com)
[00:32:11] *** Quits: fmcauley (fmcauley@moz-f4hren.res.rr.com) (Client exited)
[00:39:31] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:39:35] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[00:41:47] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:44:59] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[00:45:47] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0/20150630154324])
[00:47:50] *** Joins: napoleon (Mibbit@moz-hu6.nja.252.72.IP)
[00:49:24] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[00:52:15] *** Quits: napoleon (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:54:49] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:56:18] *** Quits: Rym (uid91135@moz-l7h36v.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[01:03:39] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[01:04:07] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[01:04:41] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: )
[01:04:46] *** Joins: scott (uid25790@moz-gkpu6a.charlton.irccloud.com)
[01:06:33] *** Quits: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP) (Ping timeout: 121 seconds)
[01:06:48] *** Quits: jvns (sid26231@moz-p7mvuh.brockwell.irccloud.com) (Quit: )
[01:06:50] *** Joins: jvns (sid26231@moz-u8j0ns.charlton.irccloud.com)
[01:09:16] *** Joins: Peach (Fancy3D@moz-500.6lb.246.96.IP)
[01:12:23] *** Quits: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com) (Quit: )
[01:12:28] *** Joins: spastorino (sid27384@moz-sbv1td.charlton.irccloud.com)
[01:15:13] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[01:18:37] *** Joins: Havvy[Hex] (Havvy@moz-h6avch.m707.nviq.01c2.2601.IP)
[01:22:02] *** Quits: Havvy (Havvy@moz-epv20b.wa.comcast.net) (Ping timeout: 121 seconds)
[01:26:17] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[01:26:57] *** Joins: bernard (Mibbit@moz-hu6.nja.252.72.IP)
[01:27:27] *** Quits: bernard (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:31:52] *** Joins: summerlight (summerlight@moz-lb3.6do.193.175.IP)
[01:37:39] *** Quits: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:39:35] *** Quits: bluss (bluss@moz-dc3fi4.customer.cdi.no) (Ping timeout: 121 seconds)
[01:42:35] *** Quits: Skyler (Skyler@moz-7ds39s.sd.cox.net) (Client exited)
[01:44:34] *** Joins: woboats (tatterdemal@moz-fef.k92.228.169.IP)
[01:49:39] *** Joins: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP)
[01:53:14] *** Joins: mrx_ (mrx@moz-jpl.2ko.181.87.IP)
[01:54:28] *** Quits: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[01:55:16] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:56:28] *** Quits: mrx (mrx@moz-i56t3v.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:10:31] *** Joins: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net)
[02:10:48] *** Joins: Skyler (Skyler@moz-7ds39s.sd.cox.net)
[02:12:08] <Skyler> did the mem layout of Vec/String recently change (nightly)?
[02:19:04] <swgillespie> Skyler: https://github.com/rust-lang/rust/commit/bfa0e1f58acf1c28d500c34ed258f09ae021893e ?
[02:19:07] <swgillespie> all I can find
[02:19:35] <swgillespie> but that did change the layout of Vec 16 days ago
[02:20:27] <Skyler> ahh swapped capacity and len :(
[02:20:31] <Skyler> thanks swgillespie
[02:23:19] *** Quits: summerlight (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[02:29:55] *** Joins: summerlight (summerlight@moz-lb3.6do.193.175.IP)
[02:35:53] <jdm> the dangers of transmute?
[02:37:50] <Skyler> jdm :'(
[02:37:55] <Skyler> yes
[02:38:04] * jdm has been there
[02:38:07] <jdm> dark days
[02:38:15] *** Joins: Rym (uid91135@moz-l7h36v.ealing.irccloud.com)
[02:39:12] <Skyler> eddyb tried to talk me out of it a month ago
[02:41:50] *** Quits: kimundi (kimundi@moz-vb8u90.k94d.nekl.57bc.2002.IP) (Ping timeout: 121 seconds)
[02:42:06] *** Joins: summerlight_ (summerlight@moz-lb3.6do.193.175.IP)
[02:42:55] *** mcpherrin is now known as C_Y_B_E_
[02:42:58] *** C_Y_B_E_ is now known as C_Y_B_E_R
[02:43:11] *** C_Y_B_E_R is now known as mcpherrin
[02:44:34] *** Quits: summerlight (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[02:45:56] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[02:48:20] *** Joins: kimundi (kimundi@moz-2r8k4e.l723.d4mv.57bc.2002.IP)
[02:50:18] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[03:00:54] *** Joins: waffles (wafflespean@moz-vjb.43b.136.123.IP)
[03:12:16] *** Quits: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com) (Quit: )
[03:12:19] *** Joins: carllerche (sid50851@moz-l50env.charlton.irccloud.com)
[03:18:02] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[03:18:18] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:33:22] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:35:10] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[03:38:51] *** Quits: summerlight_ (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[03:39:59] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[03:43:04] *** Joins: Quxxy (chatzilla@moz-efh10q.internode.on.net)
[03:46:12] <Mutabah> Can anyone tell bors to retry?
[03:53:15] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:57:09] *** Quits: zxq9 (ceverett@moz-fe3mfn.mesh.ad.jp) (Quit: Konversation terminated!)
[04:17:53] *** Quits: Peach (Fancy3D@moz-500.6lb.246.96.IP) (Quit: Boot_different)
[04:31:09] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[04:37:39] *** Quits: Diggsey (diggsey@moz-m64oa2.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:39:49] *** Quits: genbattle (genbattle@moz-v5t52g.xtra.co.nz) (Ping timeout: 121 seconds)
[04:44:47] <bkoropoff> acrichto: ping
[04:46:19] *** Quits: Rym (uid91135@moz-l7h36v.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[04:47:09] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[04:51:32] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[04:52:34] *** Quits: reem (sid78397@moz-octfcu.brockwell.irccloud.com) (Quit: )
[04:52:39] *** Joins: reem (sid78397@moz-fjt2tg.charlton.irccloud.com)
[04:53:11] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Connection closed)
[04:53:36] <huon> Mutabah: which PR?
[04:54:21] <Mutabah> huon: 27278
[04:54:29] <Mutabah> huon: The mac builder ran out of disk space
[04:54:30] <huon> gh27278
[04:54:31] <[o__o]> Reference issue #27277 on Result::expect: https://github.com/rust-lang/rust/pull/27278
[04:54:43] <Mutabah> (sorry, should have done the gh myself)
[04:54:50] <huon> np :)
[04:54:52] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[04:54:54] <huon> retried, thanks for the PR
[04:55:10] <Mutabah> Let's hope it works
[04:55:42] <Mutabah> And yeah, it's been niggling me for a while. That feature seems like a prime candidate for stability... but maybe I'm biased
[05:02:41] <Manishearth> eddyb: there was some talk of linked lists on proggit
[05:02:50] <Mutabah> huon: Out of disk again
[05:03:05] *** Quits: Jesin (Jesin@moz-sak2gd.cc.lehigh.edu) (Quit: Leaving)
[05:03:25] <huon> Mutabah: ah, well, out of my control
[05:03:57] <huon> AFAIK, brson and acrichto are the people with the power over the mac builders
[05:04:34] *** Quits: waffles (wafflespean@moz-vjb.43b.136.123.IP) (Ping timeout: 121 seconds)
[05:05:39] <bkoropoff> It seems like we ought to be able to regenerate machine code in an rlib from the bytecode if needed (e.g. you change codegen options).  Can anyone think of why this wouldn't work?
[05:20:08] *** Quits: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com) (Quit: )
[05:20:22] *** Joins: frewsxcv (sid86219@moz-99o8eo.charlton.irccloud.com)
[05:24:15] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:24:15] *** ChanServ sets mode: +ao erickt erickt
[05:31:33] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[05:35:59] <jroesch> huon: just got type macros working now that the RFC was accepted, did you ever do the prefix type parameters? was thinking about maybe hacking them up too
[05:44:22] *** Quits: woboats (tatterdemal@moz-fef.k92.228.169.IP) (Ping timeout: 121 seconds)
[05:50:25] *** Joins: waffles (wafflespean@moz-0l5.kbj.23.1.IP)
[05:51:00] *** Quits: waffles (wafflespean@moz-0l5.kbj.23.1.IP) (Quit: C'yall later...)
[05:51:08] *** Joins: waffles (wafflespean@moz-0l5.kbj.23.1.IP)
[05:54:35] <Gankro> nmatsakis: someone just showed me how to implement IterMut safely on a singly linked list and now I don't know what to believe anymore
[05:55:00] *** Joins: woboats (tatterdemal@moz-fef.k92.228.169.IP)
[06:01:50] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:07:36] <Quxxy> /msg Gankro That said, the one thing I did like about what I was doing were some diagrams to try and visualise how different kinds of pointers, re-borrowing and RefCells interact, so feel free to steal if you want: https://dl.dropboxusercontent.com/u/7049460/rds/index.html
[06:07:40] *** Joins: zxq9 (ceverett@moz-fe3mfn.mesh.ad.jp)
[06:07:44] <Quxxy> :S
[06:08:01] <Quxxy> I don't even know how I did that
[06:08:22] * Quxxy walks away, whistling
[06:15:06] *** Quits: waffles (wafflespean@moz-0l5.kbj.23.1.IP) (Ping timeout: 121 seconds)
[06:36:38] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[06:38:09] *** Joins: Peach (Fancy3D@moz-500.6lb.246.96.IP)
[06:41:26] <blaenk> Quxxy: haha prolly pressed / twice
[06:41:37] <Quxxy> Nuh-uh!
[06:42:00] <Quxxy> Just tried it; it just says "/doesntwork" is not known to the server
[06:42:28] <nrc> Can anyone point me to the discussion on Send/Sync and why they are oibits? (In particular Sync). I assume there is an RFC, but I can't find it
[06:42:58] <Mutabah> Why they are?
[06:43:12] <Mutabah> As opposed to needing to be manually implemented?
[06:43:48] <Mutabah> nrc: https://github.com/rust-lang/rfcs/blob/master/text/0019-opt-in-builtin-traits.md ?
[06:44:07] <Mutabah> Quxxy: / /msg ?
[06:44:13] <Mutabah> E.g.
[06:44:17] <Mutabah> /msg Quxxy Hello
[06:44:26] <Quxxy> Nope
[06:44:29] <Mutabah> ("/ " on irssi ends up being /say)
[06:45:40] <mcpherrin> /well that seems silly
[06:46:10] <blaenk> /hax
[06:46:55] <nrc> Mutabah: that seems to not reflect the current behaviour, I assumed there was a more recent one?
[06:47:48] <Mutabah> nrc: https://github.com/rust-lang/rfcs/blob/master/text/0458-send-improvements.md covers Send
[06:48:03] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[06:48:10] <Mutabah> nrc: That said, I don't quite get what your question was about
[06:48:38] <Mutabah> nrc: You're wondering why they aren't manual traits? Or why the term oibit applies?
[06:49:28] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[06:49:30] <nrc> Well specifically I'm wondering why a struct is Sync if all its fields are (that is the behaviour I'm observing, It might be subtler than that). I get why Send has that behaviour, but not Sync
[06:49:52] <Mutabah> nrc: Well, it makes the traits pretty transparent
[06:50:26] <Mutabah> nrc: And since Sync means "it's safe for multiple threads to have &-ptrs", it makes sens for it to be automatic if you don't opt out
[06:50:43] <Mutabah> Because unless you're doing unsafe things, if all your fields are Sync, you are
[06:51:28] <nrc> I don't think that is true - e.g., atomicity does not compose
[06:51:53] <nrc> "I don't think" is maybe too strong - " I don't yet understand why" is probably more accurate
[06:52:01] <Mutabah> nrc: Atomicity in what sense?
[06:52:16] *** Quits: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net) (Ping timeout: 121 seconds)
[06:52:28] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[06:52:37] <Mutabah> Note - UnsafeCell is !Sync, so any interior mutable type is !Sync unless it explicitly opts-in
[07:00:08] <nrc> Say I have some kind of collection and I store the data with a pointer (Unique, which is sync) and its length (say, usize, Is that Sync? AtomicInt or whatever it takes), say those are the only fields. Both are sync, so the whole collection is Sync, but it seems relatively easy to construct a method which adds an item which would be racey if two threads
[07:00:08] <nrc> called it at the same time, thus making the whole collection not thread safe. I guess that requires multiple mutable aliases, not immutable ones
[07:01:26] <nrc> I feel like I'm getting at the answer - you need mutable aliases to cause problems, but I'd love to see that argument made formally, or at least better than my vague ideas
[07:10:08] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[07:10:28] *** Joins: genbattle (genbattle@moz-v5t52g.xtra.co.nz)
[07:13:56] <bkoropoff> nrc: `Sync` basically means "all access to aliasable, mutable state is synchronized", which is vacuosly true if your structure can't be mutated through aliasable references
[07:20:53] *** Joins: Kingsquee (kingsquee@moz-k72lip.bchsia.telus.net)
[07:22:06] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Client exited)
[07:22:08] *** Quits: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP) (Connection closed)
[07:24:16] *** Joins: bdero (bran@moz-nr0176.b90n.1kaj.018d.2601.IP)
[07:26:27] <nrc> ah, that is a nice way of putting it
[07:26:30] *** Quits: SiegeLord (sl@moz-s8hpnn.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[07:26:44] <reem> you can also think of it as T: Sync == &T: Send
[07:27:55] <reem> though bkoropoffs way is more standalone
[07:28:13] <eddyb> Manishearth: quite vague
[07:49:15] *** Joins: eljay (eljay@moz-fmte10.skybroadband.com)
[07:49:54] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[07:50:30] *** Joins: summerlight_ (summerlight@moz-lb3.6do.193.175.IP)
[07:58:14] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[08:02:08] <kimundi> I just needed default lifetime parameters :D
[08:02:13] <kimundi> 'a = 'static
[08:08:55] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[08:08:55] *** ChanServ sets mode: +o pcwalton
[08:10:10] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[08:10:11] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Connection closed)
[08:15:15] *** Quits: Peach (Fancy3D@moz-500.6lb.246.96.IP) (Client exited)
[08:24:37] *** Quits: mitaa (mitaa@moz-sge6l3.dyn.drei.com) (Connection closed)
[08:26:39] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[08:28:40] *** Joins: mitaa (mitaa@moz-8shhjr.dyn.drei.com)
[08:31:33] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[08:32:57] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[08:34:25] *** Quits: summerlight_ (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[08:34:27] *** Joins: waffles (wafflespean@moz-0l5.kbj.23.1.IP)
[08:37:53] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[08:49:02] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[08:53:11] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[08:59:39] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[09:01:21] *** Quits: waffles (wafflespean@moz-0l5.kbj.23.1.IP) (Ping timeout: 121 seconds)
[09:02:25] *** Joins: bluss (bluss@moz-dc3fi4.customer.cdi.no)
[09:11:30] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[09:13:32] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (A TLS packet with unexpected length was received.)
[09:13:45] *** Joins: Quxxy (chatzilla@moz-efh10q.internode.on.net)
[09:13:55] *** Quits: genbattle (genbattle@moz-v5t52g.xtra.co.nz) (Ping timeout: 121 seconds)
[09:17:55] <SimonSapin> TIL that Self in impls is a thing now. Thanks Gankro!
[09:26:40] *** Joins: James_ (quassel@moz-t0rko5.range86-163.btcentralplus.com)
[09:30:59] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[09:32:12] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[09:34:36] *** Joins: genbattle (genbattle@moz-v5t52g.xtra.co.nz)
[09:38:08] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[09:39:40] *** Quits: eljay (eljay@moz-fmte10.skybroadband.com) (Quit: Leaving)
[09:48:29] <zwarich> nrc: I guess the problem is that Sync doesn't guarantee sequential consistency or anything for all accesses to the data structure
[09:48:39] <zwarich> nrc: it just guarantees things about individual fields?
[09:51:31] *** Joins: dlight (dlight@moz-6c0.304.135.177.IP)
[09:53:52] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[09:54:23] <eddyb> hmm, it guarantees that all safe accesses preserve memory safety in a multi-threaded scenario
[09:55:16] <eddyb> you can opt into memory-safe races by using Relaxed ordering
[09:56:09] * eddyb reads backlog
[09:56:50] *** Joins: X67r (user@moz-tslo0q.mullvad.net)
[10:21:58] *** Quits: dlight (dlight@moz-6c0.304.135.177.IP) (A TLS packet with unexpected length was received.)
[10:26:00] *** Quits: genbattle (genbattle@moz-v5t52g.xtra.co.nz) (Ping timeout: 121 seconds)
[10:34:22] *** Joins: summerlight_ (summerlight@moz-lb3.6do.193.175.IP)
[10:34:37] *** Joins: arielb1 (Mibbit@moz-8tgjmd.tau.ac.il)
[10:39:25] *** Joins: dlight (dlight@moz-6c0.304.135.177.IP)
[10:39:54] *** Joins: fmcauley (fmcauley@moz-f4hren.res.rr.com)
[10:40:12] *** Joins: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP)
[10:41:57] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[10:42:46] *** Quxxy_ is now known as Quxxy
[10:49:56] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[10:52:44] *** Quits: dlight (dlight@moz-6c0.304.135.177.IP) (A TLS packet with unexpected length was received.)
[10:54:08] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[10:58:52] *** Joins: waffles (wafflespean@moz-0l5.kbj.23.1.IP)
[11:01:18] *** Joins: doener_ (bs@moz-c061a3.saltation.de)
[11:01:20] *** Quits: doener_ (bs@moz-c061a3.saltation.de) (Quit: leaving)
[11:01:35] *** Quits: Kingsquee (kingsquee@moz-k72lip.bchsia.telus.net) (Quit: Leaving)
[11:08:46] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[11:13:06] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[11:17:05] *** Quits: fmcauley (fmcauley@moz-f4hren.res.rr.com) (Client exited)
[11:19:56] *** Quits: mitaa (mitaa@moz-8shhjr.dyn.drei.com) (Connection closed)
[11:40:36] *** Quits: waffles (wafflespean@moz-0l5.kbj.23.1.IP) (Ping timeout: 121 seconds)
[11:50:26] *** Joins: mukilan (mukilan@moz-09d.fqo.164.122.IP)
[11:55:56] *** Joins: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP)
[11:57:30] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[11:57:31] *** Quxxy_ is now known as Quxxy
[12:02:06] *** Joins: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP)
[12:02:31] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[12:02:38] *** Quxxy_ is now known as Quxxy
[12:07:04] *** Joins: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de)
[12:08:30] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[12:12:32] *** Quits: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de) (Quit: Bye)
[12:27:47] *** Quits: mukilan (mukilan@moz-09d.fqo.164.122.IP) (Connection closed)
[12:30:38] *** Joins: mukilan (mukilan@moz-lv0.131.164.122.IP)
[12:30:49] *** Joins: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com)
[12:32:56] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[12:33:11] *** Joins: fmcauley (fmcauley@moz-f4hren.res.rr.com)
[12:35:05] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[12:36:50] *** Joins: eljay (eljay@moz-fmte10.skybroadband.com)
[12:42:52] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[12:50:53] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[12:55:15] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[12:57:14] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[13:01:21] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[13:02:34] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[13:18:18] *** Quits: ytain (ytain@moz-u0rb5h.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[13:19:03] <kimundi> eddyb: Hm, why y not in #rust-libs? :)
[13:20:05] <eddyb> because I'm not a library person
[13:20:11] <eddyb> I prefer ebooks
[13:20:16] <kimundi> haha
[13:30:40] *** Quits: mukilan (mukilan@moz-lv0.131.164.122.IP) (Ping timeout: 121 seconds)
[13:31:50] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Quit: Leaving)
[13:33:03] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:34:44] *** Joins: waffles (wafflespean@moz-0l5.kbj.23.1.IP)
[13:38:14] *** Quits: fmcauley (fmcauley@moz-f4hren.res.rr.com) (Client exited)
[13:39:08] *** Joins: Quxxy_ (chatzilla@moz-efh10q.internode.on.net)
[13:39:38] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[13:39:44] *** Quxxy_ is now known as Quxxy
[13:44:49] *** Joins: mitaa (mitaa@moz-8shhjr.dyn.drei.com)
[13:57:51] *** Quits: zmack (zmack@moz-16d0d5.fios.verizon.net) (Ping timeout: 121 seconds)
[14:10:58] *** Joins: Dinesh (Mibbit@moz-31r.cdi.196.112.IP)
[14:15:14] *** Joins: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de)
[14:17:46] *** Quits: Dinesh (Mibbit@moz-31r.cdi.196.112.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:27:58] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[14:29:41] *** Quits: eljay (eljay@moz-fmte10.skybroadband.com) (Quit: Leaving)
[14:30:38] *** Joins: eljay (eljay@moz-fmte10.skybroadband.com)
[14:32:06] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[14:42:07] *** Joins: Diggsey (diggsey@moz-d742vi.dsl.pipex.com)
[14:48:43] *** Quits: bluss (bluss@moz-dc3fi4.customer.cdi.no) (Ping timeout: 121 seconds)
[14:51:53] *** Joins: jensnock_ (jensnockert@moz-pvj.o2f.219.84.IP)
[14:52:32] *** Joins: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP)
[14:53:38] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[14:54:56] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[14:56:05] *** Quits: jensnock_ (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[14:57:13] *** Quits: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[15:03:56] *** Quits: eljay (eljay@moz-fmte10.skybroadband.com) (Quit: Leaving)
[15:10:08] *** Joins: eljay (eljay@moz-fmte10.skybroadband.com)
[15:11:31] *** Joins: skippydippy (Mibbit@moz-hu6.nja.252.72.IP)
[15:18:12] *** Joins: eddyb_ (eddyb@moz-41j.ntb.25.188.IP)
[15:18:35] *** Joins: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP)
[15:19:38] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[15:19:52] *** Quxxy_ is now known as Quxxy
[15:21:05] *** Quits: eddyb (eddyb@moz-vej.dmj.25.188.IP) (Ping timeout: 121 seconds)
[15:27:10] *** Quits: skippydippy (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:28:40] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Ping timeout: 121 seconds)
[15:28:42] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[15:30:42] *** Joins: mib_svj774 (Mibbit@moz-hu6.nja.252.72.IP)
[15:31:58] *** Quits: arielb1 (Mibbit@moz-8tgjmd.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[15:32:49] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[15:34:53] *** Quits: mib_svj774 (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:35:01] *** eddyb_ is now known as eddyb
[15:37:26] *** Quits: waffles (wafflespean@moz-0l5.kbj.23.1.IP) (Quit: C'yall later...)
[15:38:33] *** Quits: X67r (user@moz-tslo0q.mullvad.net) (Quit: leaving)
[15:41:36] *** Joins: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP)
[15:41:39] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Quit: )
[15:43:00] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[15:43:09] *** Quxxy_ is now known as Quxxy
[15:43:22] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[15:43:37] *** Joins: waffles (wafflespean@moz-0l5.kbj.23.1.IP)
[15:43:43] *** Quits: waffles (wafflespean@moz-0l5.kbj.23.1.IP) (Connection closed)
[15:43:54] *** wcosta|afk is now known as wcosta
[15:44:56] *** Joins: larsberg (sid89@moz-1a60qu.0j4i.jtu0.0101.2620.IP)
[15:45:34] *** Joins: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP)
[15:47:38] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[15:47:39] *** Quxxy_ is now known as Quxxy
[15:52:38] *** Joins: Quxxy_ (chatzilla@moz-0nv.jkp.167.59.IP)
[15:53:38] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[15:53:42] *** Quxxy_ is now known as Quxxy
[15:53:57] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[15:53:57] *** ChanServ sets mode: +ao erickt erickt
[15:58:11] *** Quits: James_ (quassel@moz-t0rko5.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[15:59:38] *** Quits: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP) (Ping timeout: 121 seconds)
[16:11:23] *** Quits: untitaker (untitaker@moz-4mj5ta.highway.telekom.at) (Ping timeout: 121 seconds)
[16:12:46] *** Joins: untitaker (untitaker@moz-3b5n29.highway.telekom.at)
[16:14:12] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[16:30:43] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[16:39:01] *** Joins: tamird (tamird@moz-lat.dkr.14.50.IP)
[16:44:48] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[16:48:50] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[16:52:07] *** Joins: chc4 (chc4@moz-shngd8.b7dg.tcqd.0189.2601.IP)
[17:02:03] *** Joins: SiegeLord (sl@moz-s8hpnn.ca.comcast.net)
[17:06:29] *** Joins: eddyb_ (eddyb@moz-4eq.0ja.26.188.IP)
[17:07:23] *** Quits: eddyb (eddyb@moz-41j.ntb.25.188.IP) (Connection closed)
[17:11:14] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Quit: WeeChat 1.2)
[17:13:49] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[17:13:49] *** ChanServ sets mode: +o pcwalton
[17:13:54] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[17:24:47] *** Joins: dinfuehr (dinfuehr@moz-74jlsb.dhcp.embarqhsd.net)
[17:35:57] *** Quits: summerlight_ (summerlight@moz-lb3.6do.193.175.IP) (Ping timeout: 121 seconds)
[17:50:30] *** Quits: dinfuehr (dinfuehr@moz-74jlsb.dhcp.embarqhsd.net) (Connection closed)
[17:52:01] *** Quits: SiegeLord (sl@moz-s8hpnn.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[17:52:10] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[17:58:33] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[18:02:21] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[18:05:20] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[18:06:37] *** Joins: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr)
[18:12:14] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:14:00] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[18:14:19] <bkoropoff> acrichto: greetings
[18:15:27] *** Joins: eerie (eerie@moz-n022l2.red.bezeqint.net)
[18:15:49] <acrichto> bkoropoff: hello!
[18:16:00] *** Quits: doener (doener@moz-fnh.n4j.147.5.IP) (Quit: leaving)
[18:16:38] *** Joins: bkearns (Adium@moz-2l9j31.ca.comcast.net)
[18:17:23] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[18:17:23] *** ChanServ sets mode: +ao erickt erickt
[18:17:55] <bkoropoff> acrichto: can you check if I have the r+ bit on bors?  I didn't have any luck last I tried it
[18:17:55] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Connection closed)
[18:18:06] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[18:18:34] <acrichto> bkoropoff: I don't see it, but I think that's a mistake?
[18:19:13] <acrichto> bkoropoff: ok you're added now
[18:19:17] <bkoropoff> thanks!
[18:19:50] *** Quits: eerie (eerie@moz-n022l2.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:20:01] <bkoropoff> acrichto: also, do you have a sec to chat regarding https://github.com/rust-lang/rfcs/pull/1184 ?
[18:20:15] <acrichto> sure!
[18:20:22] <acrichto> well, ~10mins
[18:20:25] <bkoropoff> I probably didn't explain my thinking clearly enough
[18:21:41] <bkoropoff> In practice, to actually use libcore in the kernel or an embedded environment, you have to rebuild it with custom codegen options.  Since libcore requires gated features, it can't be built using stable rust
[18:22:41] <bkoropoff> Therefore, I can't identify an interim period where lang_items_panic will actually help you deploy Rust in these environments before libcore is entirely stabilized
[18:23:30] <acrichto> bkoropoff: yeah that makes sense
[18:23:43] <acrichto> but kernels aren't the only use case of no_std
[18:24:04] <acrichto> and even if you have to recompile libcore it doesn't mean you want to expand the set of nightly features you're using
[18:27:24] <bkoropoff> What sort of scenario are you thinking of?
[18:29:25] <acrichto> bkoropoff: embedding rust (without std) into other runtimes is a big one
[18:33:02] <bkoropoff> Like, of another programming language?  That might work depending on the language.
[18:33:55] <acrichto> bkoropoff: yeah
[18:34:02] <acrichto> bkoropoff: ah gotta go now
[18:34:05] <bkoropoff> The stack check could be a problem in e.g. Go or Haskell.  You'd probably be fine with Python or Ruby
[18:34:11] *** Quits: chc4 (chc4@moz-shngd8.b7dg.tcqd.0189.2601.IP) (Ping timeout: 121 seconds)
[18:34:31] <bkoropoff> Alright, I'll follow up with any further thoughts on the RFC.  Thanks for chatting!
[18:50:11] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Client exited)
[18:52:21] *** eddyb_ is now known as eddyb
[18:52:26] <eddyb> Gankro: good morning :P
[18:52:34] <Gankro> eddyb: yo
[18:53:36] <eddyb> Gankro: love the linked list funtrain^W book :D
[18:53:56] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[18:54:05] <Gankro> So many lists
[18:54:12] <Gankro> I think I'm crashing
[18:54:32] <Gankro> Also SGDQ started so I just want to lay back and enjoy
[18:54:36] <eddyb> Gankro: btw, I made that comment about a snapshot and ended up starting one because nobody was around. but it takes ages :(
[18:54:41] <Elaine> Gankro++
[18:54:48] <Gankro> eddyb: Awesome, thanks!
[18:56:47] <eddyb> hopefully everything works at stage0
[18:57:41] <eddyb> Gankro: what do you think about moving collections::hash_map *without* providing a default for the hasher in libcollections?
[18:57:56] <Gankro> eddyb: Sounds fine; seems kinda annoying
[18:58:00] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[18:58:05] <Gankro> Backcompat to add a default later
[18:58:12] <eddyb> but using H: Default for HashMap::new and other such things to make it possible for rustc to use an alias
[18:58:30] <Gankro> eddyb: that is entirely the plan
[18:58:35] <Gankro> regardless of a default
[18:59:00] <eddyb> I'm saying this because I'm not sure we want to stick with FNV
[18:59:26] <Gankro> eddyb: Well Fnv will be exposed as "DeterministicState" so it can be changed whenver
[18:59:39] <eddyb> it seems to work fine for rustc, but really, someone tried noop-ish hashing of IDs, didn't work, asked this channel, FNV was a suggestion, and it stuck
[19:00:00] <eddyb> it's not like a dozen different hash algorithms and parameters have been benchmarked :P
[19:01:04] <Gankro> eddyb: it would be nice for libcollections to still "just work"
[19:01:14] <eddyb> it never worked! :P
[19:01:27] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[19:01:31] <Gankro> Everything in libcollections does
[19:01:52] <eddyb> as in collections::hash_map never existed
[19:01:52] *** Joins: chc4 (chc4@moz-rsira7.ma.comcast.net)
[19:01:58] <Gankro> yes
[19:02:41] <eddyb> I wonder if there are any old threads with benchmark results (outside of rustc)
[19:03:00] <eddyb> the speed vs safety kind of thing (but you also have to account for collisions)
[19:03:02] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[19:05:29] <eddyb> I was trying to find the hash function that I remember as being somewhat popular, before I knew about Rust, maybe it was MurmurHash
[19:06:23] <gleb> Gankro: one more nit about the linked lists treatise
[19:06:39] <gleb> that clone is "like a copy constructor in C++, but it's never implicitly invoked"
[19:06:44] <eddyb> CityHash and xxHash also come up (and the later has seen a few Rust implementations)
[19:06:53] <Gankro> gleb: What about it?
[19:07:08] <Gankro> eddyb: CityHash is worst of both worlds to my knowledge
[19:07:12] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Ping timeout: 121 seconds)
[19:07:17] <eddyb> heh
[19:07:29] <eddyb> https://code.google.com/p/xxhash/
[19:07:33] <gleb> isn't it a bit too strong considering, there seem to be cases where functions take T: Clone and may perform implicit cloning
[19:07:38] <Gankro> eddyb: It was written to solve the problem SipHash does... but it's broken for that usecase
[19:08:04] <eddyb> ah yeah, MurmurHash 3a. and xxHash might have not been around when I was looking into this (for whatever reason)
[19:08:24] <Gankro> gleb: the language itself won't invoke it implicitly. You have to write `clone` somewhere.
[19:08:26] <eddyb> guess this is the official "page" now https://github.com/Cyan4973/xxHash
[19:09:02] <Gankro> gleb: You're not wrong, but I didn't want to get too in the weeds on it
[19:09:15] <gleb> Gankro: sure but if it's not you who wrote it... and this being aimed for beginners
[19:09:29] <eddyb> wait, what, xxHash is about an order of magnitude faster than FNV and we're not using it in the compiler?
[19:09:42] <Gankro> eddyb: For bulk hashing or small hashing?
[19:09:50] <Gankro> they have different scaling curves
[19:09:50] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[19:09:51] <eddyb> I don't know!
[19:09:55] *** Joins: eerie (eerie@moz-n022l2.red.bezeqint.net)
[19:09:56] <eddyb> yeah, I want some graphs :(
[19:10:27] <Gankro> Someone linked me a really great one
[19:10:31] <Gankro> Can't find it atm
[19:11:53] <eddyb> hmm, libsyntax is using SipHash for the string interners, that's kinda bad
[19:12:06] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[19:12:26] <eddyb> Gankro: fwiw, rustc's workload is mostly 4 or 8 bytes. sometimes can go up to about 128 (interning types)
[19:12:47] <eddyb> in case you find some relevant info
[19:12:48] <Gankro> eddyb: Yeah, these sort of things are usually talking at least several K
[19:13:04] <Gankro> e.g. file hashing
[19:13:18] <eddyb> having pczarn around would be great!
[19:13:39] <eddyb> didn't he experiment with a hybrid Sip/xxHash solution?
[19:13:48] <rkruppe> FINALLY
[19:13:56] <rkruppe> Decimal to floating point conversion PR incoming!
[19:13:58] *** Quits: eerie (eerie@moz-n022l2.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:14:03] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[19:14:31] <Gankro> rkruppe: nice!
[19:14:48] <eddyb> oops, I didn't look at the line count before opening the diff
[19:15:03] <rkruppe> I did not expect it to get this big
[19:15:09] <rkruppe> It snowballed out of control =/
[19:16:02] <eddyb> about a third of it seems to be that auto-generated table
[19:16:25] <rkruppe> 1200 or so. That still leaves 2500 lines or so of mostly complicated code
[19:16:34] <Gankro> eddyb: https://lonewolfer.wordpress.com/2015/01/05/benchmarking-hash-functions/
[19:16:38] <eddyb> so you extended flt2dec?
[19:16:57] * eddyb was trying to find the modified lines
[19:17:16] <rkruppe> No, I used the Bignum type and the Fp type, but nothing more
[19:17:38] <rkruppe> I extended Bignum quite a bit but the algorithms are completely separate
[19:17:43] <eddyb> https://lonewolfer.files.wordpress.com/2015/01/hash-function-benchmark.png mkay
[19:18:11] <Gankro> eddyb: sadly no fnv
[19:18:14] <eddyb> Gankro: FNV is missing, so I have no clue
[19:18:16] <eddyb> heh, yeah
[19:18:28] <eddyb> CityHash looks best, though
[19:19:05] <Gankro> eddyb: aha https://github.com/shepmaster/twox-hash/blob/master/README.md
[19:19:13] <Gankro> That's the one I was thinking of, I think
[19:19:19] <eddyb> niiice
[19:19:48] <eddyb> https://github.com/servo/rust-fnv/blob/master/lib.rs#L8-L9 thieves :P
[19:20:44] <Gankro> eddyb: so yeah, optimal hasher depends a lot on the scale
[19:21:26] <eddyb> could use xxHash for the type interner and keep FNV for Node/DefId maps
[19:21:40] <Gankro> eddyb: might make sense, yeah
[19:22:07] <Gankro> Also you know, usual caveats about microbenches apply
[19:22:28] <eddyb> at least we have a bit more data now
[19:31:17] *** Joins: SiegeLord (sl@moz-s8hpnn.ca.comcast.net)
[19:35:52] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[19:37:04] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[19:41:22] *** Joins: eerie (eerie@moz-n022l2.red.bezeqint.net)
[19:41:35] *** Quits: eerie (eerie@moz-n022l2.red.bezeqint.net) (Connection closed)
[19:41:40] *** Joins: eerie (eerie@moz-n022l2.red.bezeqint.net)
[19:41:42] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[19:42:12] *** Quits: eerie (eerie@moz-n022l2.red.bezeqint.net) (Connection closed)
[19:47:54] *** Quits: chc4 (chc4@moz-rsira7.ma.comcast.net) (Ping timeout: 121 seconds)
[19:50:07] *** Joins: dp (dp@moz-jbmop1.gb4f.8ao9.0e35.2a01.IP)
[19:51:02] *** Joins: eerie (eerie@moz-n022l2.red.bezeqint.net)
[20:00:17] *** Quits: bkearns (Adium@moz-2l9j31.ca.comcast.net) (Quit: Leaving.)
[20:00:44] *** Quits: dp (dp@moz-jbmop1.gb4f.8ao9.0e35.2a01.IP) (Ping timeout: 121 seconds)
[20:03:51] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[20:04:13] *** Joins: bletchrexx (Mibbit@moz-hu6.nja.252.72.IP)
[20:11:42] *** Joins: eerie_ (eerie@moz-n022l2.red.bezeqint.net)
[20:11:42] *** Quits: eerie (eerie@moz-n022l2.red.bezeqint.net) (NickServ (RECOVER command used by eerie_))
[20:11:42] *** eerie_ is now known as eerie
[20:13:32] *** Joins: dlight (dlight@moz-jg0ud2.gvt.net.br)
[20:13:35] *** Quits: filsmick (filsmick@moz-92lhf0.abo.wanadoo.fr) (Quit: )
[20:23:08] *** Quits: bletchrexx (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:29:07] *** Joins: vadimcn (uid46608@moz-9ioufh.tooting.irccloud.com)
[20:33:56] *** Joins: fmcauley (fmcauley@moz-f4hren.res.rr.com)
[20:35:54] *** Quits: eerie (eerie@moz-n022l2.red.bezeqint.net) (Connection closed)
[20:43:49] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[20:51:13] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[20:51:21] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[20:52:34] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[20:54:25] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[20:54:38] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[20:54:38] *** Joins: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP)
[20:54:45] *** Joins: yjv (yjv@moz-ll38tk.pa.comcast.net)
[20:58:59] *** Quits: jensnockert (jensnockert@moz-pvj.o2f.219.84.IP) (Ping timeout: 121 seconds)
[21:00:22] *** Joins: bkearns (Adium@moz-2l9j31.ca.comcast.net)
[21:05:08] *** Joins: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net)
[21:05:25] *** Quits: AlisdairO (anonymous@moz-ntsaoe.cable.virginm.net) (Client exited)
[21:07:39] *** Quits: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de) (Quit: Bye)
[21:09:29] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[21:10:07] *** Quits: MatrixBridge (matrixirc@moz-905bpb.openmarket.com) (Connection closed)
[21:10:18] *** Joins: MatrixBridge (matrixirc@moz-905bpb.openmarket.com)
[21:13:06] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[21:13:07] *** ChanServ sets mode: +o pcwalton
[21:14:24] *** Joins: swgillespie (swgillespie@moz-dfcoea.tukw.qwest.net)
[21:14:47] *** Quits: swgillespie (swgillespie@moz-dfcoea.tukw.qwest.net) (Quit: Textual IRC Client: www.textualapp.com)
[21:16:23] *** Quits: fmcauley (fmcauley@moz-f4hren.res.rr.com) (Client exited)
[21:27:16] *** Joins: bluss (bluss@moz-rip51k.cust.bredbandsbolaget.se)
[21:27:22] *** Joins: kxlzz (kxlzz@moz-a3bguo.vc.shawcable.net)
[21:36:13] *** Joins: arielb1 (Ariel@moz-1hdjvc.cablep.bezeqint.net)
[21:36:31] <arielb1> Gankro: stop spreading FUD about the borrow checker
[21:36:43] <Gankro> arielb1: wat
[21:36:48] <arielb1> you can *totally* have safe iterators
[21:36:56] <arielb1> for everything that doesn't involve slices
[21:37:04] <arielb1> e.g. http://is.gd/oz4gu8 for binary trees
[21:37:07] <Gankro> arielb1: double ended?
[21:37:44] <arielb1> Gankro: that might be harder
[21:37:56] <arielb1> but the single-ended part is easy
[21:38:12] <arielb1> how do you do a double-ended BinaryTree iterator anyway?
[21:38:45] <Gankro> arielb1: parent pointers or no?
[21:38:51] <arielb1> without parent pointers
[21:38:53] <Gankro> I guess parent pointers imply unsafe
[21:38:57] <arielb1> of course parent pointers = instant unsafe
[21:39:08] <arielb1> or Rc/Weak
[21:39:14] <arielb1> which means no IterMut
[21:40:40] <Gankro> arielb1: my gut on it is to write a node iterator and then maintain a deque of them
[21:40:53] <arielb1> a deque of?
[21:41:07] <Gankro> Deque<NodeIterMut>
[21:41:22] <Gankro> When one side recurses it pushes that node on
[21:41:26] *** Joins: fmcauley (fmcauley@moz-f4hren.res.rr.com)
[21:41:31] <Gankro> When it goes up it pops
[21:41:44] <Gankro> And then the node iterator is double ended
[21:41:49] <arielb1> that's Deque<&mut Node>
[21:41:50] <arielb1> rather
[21:42:04] <Gankro> It yields Left | Elem | Right | Up
[21:42:18] <arielb1> I mean, Deque<&mut Either<Node<T>, T>>
[21:42:21] <arielb1> that could totally work
[21:42:27] <arielb1> no unsafe code
[21:42:36] <Gankro> Yeah it might
[21:42:52] <Gankro> I've obviously spent way too much time with array-based things, though
[21:43:02] <Gankro> And raw pointer-based collections
[21:43:12] <Eridius_> oh geeze, a Rust language tutorial done entirely by implementing linked lists 7 different times: http://cglab.ca/~abeinges/blah/too-many-lists/book/
[21:43:22] <Gankro> Eridius_: Yeah I wrote it :P
[21:43:23] <arielb1> the only reason you can't do safe iterators with arrays is that we don't have slice_patterns
[21:43:25] <Eridius_> hahaha
[21:43:35] *** Eridius_ is now known as Eridius
[21:43:46] <nagisa> has anybody figured out how to deal with `fatal runtime error: Could not unwind stack, error = 5` when running make make check-stage1?
[21:43:55] <arielb1> nagisa: someone broke check-stage1
[21:43:56] <Eridius> Gankro: believe it or not, I checked the URL to see if the author was recognizable before saying anything :P
[21:44:05] <arielb1> I blame Windows
[21:44:15] <Eridius> I suppose I should have checked the GitHub link
[21:44:27] <nagisa> arielb1: ookay
[21:44:32] <nagisa> so check-stage2 works?
[21:44:48] <Gankro> arielb1: I remember having trouble having trouble using split_at_mut for it
[21:45:01] <arielb1> Gankro: trouble?
[21:45:20] <arielb1> nagisa: gh27176
[21:45:21] <Gankro> arielb1: It wouldn't let you store one and return the other; but maybe I did something wrong
[21:45:21] <[o__o]> trans: Move rust_try into the compiler: https://github.com/rust-lang/rust/pull/27176
[21:45:45] <arielb1> Gankro: that should like totally work
[21:45:50] <Gankro> I agree
[21:45:58] <arielb1> there are some subtleties
[21:46:12] <arielb1> I think there are some problems with deref-coercion and cross-borrowing
[21:46:22] <arielb1> I guess I should make a bug report
[21:46:42] <arielb1> I mean, there are cases when &mut v causes a borrowck error
[21:46:45] <arielb1> and &mut *v doesn't
[21:46:55] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[21:47:04] <arielb1> seems like lvalue information is being lost
[21:47:16] <nagisa> arielb1: oh, that’s where I saw it, yeah
[21:47:23] * nagisa builds stage2
[21:47:41] <nagisa> would be nice to get a quick snapshot, acrichto
[21:50:14] <Gankro> arielb1: http://is.gd/An5aIB
[21:53:27] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:55:19] <Gankro> arielb1: ugh *this* works: http://is.gd/Wmtde2
[21:55:31] <arielb1> Gankro: I guess
[21:55:34] <arielb1> that's it
[21:55:36] <arielb1> you have to take
[21:55:39] <arielb1> otherwise it won't wont
[21:55:48] <arielb1> you can also replace with an empty slice
[21:56:02] <arielb1> I think you can get an empty &'static [T]
[21:56:34] <arielb1> Gankro: that's something you may want to talk about
[21:57:01] <arielb1> the compiler is afraid that split_at_mut stashes a reference
[21:57:07] <arielb1> somewhere code can access after an unwinding
[21:57:09] <arielb1> or something
[21:57:22] <bluss> replace with &mut [] works fine
[21:57:33] <Gankro> yep
[21:57:42] <arielb1> that's a bit subtle through
[21:58:42] <bluss> there's a new method called split_first_mut
[21:58:45] <bluss> it's perfect for this
[21:58:54] <Eridius> oh has that been implemented?
[21:58:58] <arielb1> bluss: right
[21:59:00] *** Quits: fmcauley (fmcauley@moz-f4hren.res.rr.com) (Client exited)
[21:59:00] <Eridius> I still have it on my list to go resurrect my old PR for it
[21:59:04] <arielb1> you still need the replace-and-replace-again trick
[21:59:13] <bluss> Eridius: then you're too late, it's in the docs now (unstable)
[21:59:18] <Eridius> heh
[21:59:27] <Eridius> the RFC was accepted recently
[21:59:44] <Eridius> and I commented saying I'd resurrect my PR when I had time but anyone else was free to go ahead and implement it first if they wanted
[22:00:01] <Eridius> funnily enough, after going through Gankro's linked-list thing, I was planning on working on that
[22:00:54] <Eridius> hrm, I don't see any PR in my mail that references split_first
[22:01:07] <arielb1> Gankro: I guess you should include a comment somewhere
[22:01:12] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:01:18] <arielb1> about the take subtlety
[22:01:24] <Gankro> arielb1: Yeah I need to rework this a bit
[22:01:31] <arielb1> we should have a "why the borrow checker hates me FAQ"
[22:01:40] <arielb1> which should include
[22:01:43] <Eridius> oh, the PR just said "Implement RFC 1058". Very descriptive
[22:01:44] <Gankro> I'm not really convinced the take is necessary... it feels like unwinding should matter
[22:01:45] <arielb1> at least that
[22:01:51] <bluss> the split_first_mut version http://is.gd/QA7PHx
[22:01:52] <Gankro> *shouldn't
[22:02:03] <arielb1> Gankro: you have a &'s mut Self
[22:02:10] <arielb1> which is ~ &'s mut &'a mut [T]
[22:02:21] <arielb1> that does not make a &'a mut [T]
[22:02:46] <Gankro> Yeah, I guess
[22:02:55] <Gankro> It's rare for reborrowing to not Just Work
[22:02:56] <arielb1> we don't allow &mut to be invalid
[22:03:23] <arielb1> as a rule, in safe code there is always a safe value behind an &mut
[22:03:29] <arielb1> even if it is borrowed
[22:03:38] *** Havvy[Hex] is now known as Havvy
[22:04:51] <bluss> arielb1: there must be (?) since the borrow can be squirreled away without a chance of restoring (the mem forget issue)
[22:05:21] <arielb1> bluss: that's because of unwinding
[22:05:28] <arielb1> (the "safe value")
[22:05:35] <arielb1> but there also need to be no untracked references
[22:05:38] <arielb1> to the borrowed value
[22:06:03] <arielb1> I mean, the &'a mut [T] is untracked
[22:06:18] <arielb1> you could have written it somewhere and then panicked
[22:06:53] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[22:07:11] <arielb1> we *could* try to actually track reborrowed values
[22:07:20] <arielb1> that would be very different from our current system through
[22:07:56] <arielb1> (currently the borrowck does not see past reassignments)
[22:10:43] *** Quits: arielb1 (Ariel@moz-1hdjvc.cablep.bezeqint.net) (Quit: Ex-Chat)
[22:12:46] *** Joins: dp (dp@moz-lv2uf0.gb4f.8ao9.0e35.2a01.IP)
[22:14:39] <Gankro> Yeah
[22:19:46] *** Joins: fmcauley (fmcauley@moz-f4hren.res.rr.com)
[22:21:18] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[22:22:53] *** Joins: mohawk (Mibbit@moz-hu6.nja.252.72.IP)
[22:23:09] *** Joins: James_ (quassel@moz-t0rko5.range86-163.btcentralplus.com)
[22:26:10] *** Quits: mohawk (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:34:31] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:34:44] *** Joins: frogaincia (Mibbit@moz-hu6.nja.252.72.IP)
[22:35:18] *** Quits: frogaincia (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:38:51] *** Quits: yjv (yjv@moz-ll38tk.pa.comcast.net) (Connection closed)
[22:51:09] *** Joins: Kingsquee (kingsley@moz-k72lip.bchsia.telus.net)
[23:03:03] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:03:12] *** Joins: mib_iphshf (Mibbit@moz-hu6.nja.252.72.IP)
[23:03:42] *** Quits: mib_iphshf (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:04:12] *** Quits: James_ (quassel@moz-t0rko5.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[23:04:42] <jroesch> steveklabnik: Gankro: do you know if default type parameter fallback is documented? if not I should open an issue
[23:04:51] <jroesch> I would assume not
[23:04:57] <Gankro> jroesch: No it's not
[23:05:08] <Gankro> cc steveklabnik 
[23:05:42] <jroesch> The algorithm has a subtle priority, and may be tweaked during the beta cycle 
[23:07:21] *** Quits: eljay (eljay@moz-fmte10.skybroadband.com) (Quit: Leaving)
[23:07:40] <eddyb> jroesch, Gankro: https://github.com/rust-lang/rust/pull/27309 btw
[23:07:59] <eddyb> that will get default type parameter fallback into stage0
[23:08:08] <Gankro> eddyb: 👍
[23:09:02] <Gankro> (will defer to Alex on this)
[23:09:18] <jroesch> Gankro: gh27312
[23:09:18] <[o__o]> Document Default Type Parameter Fallback: https://github.com/rust-lang/rust/issues/27312
[23:09:46] <eddyb> acrichto: check-stage1-cfail still doesn't work. I can only assume -Z no-landing-pads affects the try intrinsic as well. any chance we could put some indirection around it to prevent it from being pruned?
[23:10:53] <jroesch> eddyb: +1
[23:10:55] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[23:10:55] *** ChanServ sets mode: +o pcwalton
[23:11:14] <jroesch> also I was able to compile the example posted on my PR
[23:11:33] <jroesch> updated with a comment
[23:11:42] *** Joins: chc4 (chc4@moz-shngd8.b7dg.tcqd.0189.2601.IP)
[23:13:25] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:15:29] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Connection closed)
[23:16:35] <nagisa> do we have an error pattern in tests that looks like `A.*B`?
[23:16:37] *** Quits: chc4 (chc4@moz-shngd8.b7dg.tcqd.0189.2601.IP) (Ping timeout: 121 seconds)
[23:17:27] *** Quits: fmcauley (fmcauley@moz-f4hren.res.rr.com) (Client exited)
[23:22:26] *** Joins: njn (chatzilla@moz-t4cso4.iinet.net.au)
[23:25:51] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[23:29:51] *** Quits: bluss (bluss@moz-rip51k.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:30:24] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:31:49] *** Joins: bluss (bluss@moz-rip51k.cust.bredbandsbolaget.se)
[23:34:35] <Gankro> It's... so beautiful https://gist.github.com/Gankro/a6f8ff84906219107efc
[23:43:38] *** Joins: chc4 (chc4@moz-shngd8.b7dg.tcqd.0189.2601.IP)
[23:44:00] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Quit: Leaving)
[23:48:38] *** Quits: chc4 (chc4@moz-shngd8.b7dg.tcqd.0189.2601.IP) (Ping timeout: 121 seconds)
[23:55:41] *** Joins: frogaincia (Mibbit@moz-hu6.nja.252.72.IP)
[23:55:55] *** Quits: dp (dp@moz-lv2uf0.gb4f.8ao9.0e35.2a01.IP) (Ping timeout: 121 seconds)
[23:59:29] <Gankro> jroesch: will this work? fn collect<B = Vec<Self::Item>>(self) -> B where B: FromIterator<Self::Item>
