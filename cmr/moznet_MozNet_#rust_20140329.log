[00:00:35] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[00:01:29] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[00:01:44] *** Joins: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP)
[00:01:55] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:01:57] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:02:15] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[00:02:37] *** Quits: ramitos (ramitos@moz-7B19BD4D.rev.vodafone.pt) (Ping timeout)
[00:02:53] <bstrie> rustaceans, a request
[00:03:04] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[00:03:08] <bstrie> give me an example of where rust can infer a type that you can't with C++ auto
[00:03:42] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[00:03:58] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[00:04:21] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:04:52] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[00:05:38] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[00:06:03] *** Quits: IanCormac84 (User@5302DE.2A8D8854.67DFF8B4.IP) (Ping timeout)
[00:06:06] <sfackler> bstrie: auto only infers from the rhs, right?
[00:06:41] <sfackler> then it'd just be let mut v: Vec::new(); /* Vec<i8> is inferred */ v.push(1i8);
[00:06:56] *** Joins: IanCormac84 (User@E1064C54.2A8D8854.67DFF8B4.IP)
[00:07:07] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[00:07:30] *** Joins: ramitos (ramitos@moz-DC1BC21E.rev.vodafone.pt)
[00:08:37] <sfackler> er, let mut v = Vec::new(); /* Vec<i8> is inferred */ v.push(1i8);
[00:10:36] *** Joins: sw17ch (sw17ch@moz-4AF0345C.hfc.comcastbusiness.net)
[00:11:10] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[00:12:38] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[00:13:14] *** Quits: nszceta (nszceta@moz-BD0004B6.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:13:43] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[00:13:57] *** Quits: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP) (Quit: Leaving.)
[00:14:00] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[00:14:20] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[00:14:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:16:28] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:17:10] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:17:26] <bstrie> sfackler: thanks
[00:19:21] *** Quits: twi (Adium@moz-429185BE.cust.vodafonedsl.it) (Quit: Leaving.)
[00:19:53] *** flaper87 is now known as flaper87|afk
[00:25:04] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[00:25:28] *** Joins: patpat (patpat@moz-BF0E1ABD.as13285.net)
[00:25:49] <they> I find it funny how hard it is to word google searches about Rust sometimes.
[00:25:54] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[00:25:55] <they> Without hearing about that game, or iron oxide.
[00:26:32] *** Joins: cschneid (cschneid@moz-B4C5922D.hlrn.qwest.net)
[00:29:43] *** Quits: dpc (Mibbit@moz-88B014CD.nvidia.com) (Quit: http://www.mibbit.com ajax IRC Client)
[00:32:02] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Ping timeout)
[00:32:30] *** Joins: cschneid_ (cschneid@moz-543D2FE4.hlrn.qwest.net)
[00:32:49] *** Quits: cschneid (cschneid@moz-B4C5922D.hlrn.qwest.net) (Ping timeout)
[00:33:37] *** Quits: azakai (alon@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[00:34:27] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[00:35:01] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:35:17] <blehtm> "rustc" insert search here
[00:35:49] <bstrie> they: what are you trying to search for?
[00:35:54] <SiegeLord> It's just our luck that another thing named Rust became popular around the same time XD
[00:36:23] <dsrx> they: rustlang works too
[00:36:30] <they> bstrie: Oh, I found it easily in the tutorial. I got a bunch of WD40 ads first, and I was like "Oh yeah, rust."
[00:36:32] <SiegeLord> Don't really see the point in searching for anything however... it's all outdated :P
[00:36:34] <bjz> why does the `pat` thingy in macros not parse `_`
[00:36:34] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[00:36:44] <they> Apparently "rust guard" wasn't the most googlegenic term.
[00:36:49] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:36:49] *** Joins: azakai (alon@moz-62518563.mtv2.mozilla.com)
[00:36:58] <bjz> I thought `_` was a valid pattern?
[00:36:59] *** Quits: patpat (patpat@moz-BF0E1ABD.as13285.net) (Ping timeout)
[00:37:06] <SiegeLord> Even the links to rust_lang.org are outdated
[00:37:06] <bstrie> they: well I was actually curious what you were having a hard time finding :P
[00:37:10] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[00:37:16] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (No route to host)
[00:37:23] *** Joins: patpat (patpat@moz-21619C28.as13285.net)
[00:37:26] <bstrie> they: gotta think about SEO
[00:37:36] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[00:38:24] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[00:39:04] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[00:41:09] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[00:43:14] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[00:43:59] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:45:18] *** Joins: anomie (anomie@moz-3213C615.wavecable.com)
[00:46:35] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:50:13] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[00:50:14] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[00:50:45] *** Quits: leowoe (Leo@moz-52508FC9.dip0.t-ipconnect.de) (Quit: Leaving.)
[00:51:44] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[00:52:15] *** Joins: ChrisOei (ChrisOei@moz-129A8835.mycingular.net)
[00:53:50] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[00:56:45] *** Quits: ChrisOei (ChrisOei@moz-129A8835.mycingular.net) (Ping timeout)
[00:58:24] *** Joins: ChrisOei (ChrisOei@moz-129A8835.mycingular.net)
[00:59:30] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[01:01:27] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:02:09] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[01:02:33] *** Quits: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP) (Input/output error)
[01:02:55] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[01:03:04] *** Quits: ChrisOei (ChrisOei@moz-129A8835.mycingular.net) (Ping timeout)
[01:03:53] *** Joins: ChrisOei (ChrisOei@moz-129A8835.mycingular.net)
[01:04:34] *** Joins: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP)
[01:05:31] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[01:05:47] *** Quits: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP) (Input/output error)
[01:06:07] *** Joins: andrew-d_w (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP)
[01:07:28] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[01:10:18] *** Joins: Loudergood (quassel@moz-78A0CE2E.hsd1.vt.comcast.net)
[01:11:28] *** Quits: andrew-d_w (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP) (Ping timeout)
[01:12:26] *** Quits: philix (felipe@moz-C93EBCC.user.veloxzone.com.br) (Ping timeout)
[01:12:37] <hoverbear> bstrie: I didn't initially find the awesome docs like http://static.rust-lang.org/doc/master/guide-lifetimes.html
[01:12:43] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[01:12:43] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:13:00] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[01:13:31] *** Quits: ChrisOei (ChrisOei@moz-129A8835.mycingular.net) (Ping timeout)
[01:14:26] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[01:15:26] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:16:11] *** Joins: ChrisOei (ChrisOei@moz-129A8835.mycingular.net)
[01:16:23] *** Quits: ChrisOei (ChrisOei@moz-129A8835.mycingular.net) (Client exited)
[01:17:13] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:17:30] *** Quits: paraze (paraze@moz-96380A71.w86-209.abo.wanadoo.fr) (Quit: Piano is the best, <censored> the rest :D)
[01:17:51] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[01:17:51] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:18:24] <pcwalton> the comments here are actually really excellent http://www.reddit.com/r/golang/comments/21m6jq/rust_vs_go_my_experience/
[01:18:25] <pcwalton> hat tip to the Go folks :)
[01:21:41] *** Quits: gimpf (gimpf@moz-B34F13A9.adsl.highway.telekom.at) (Quit: Leaving.)
[01:21:44] <cgaebel> I've always been under the impression they're two different languages for two very different things
[01:21:45] *** Quits: azakai (alon@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[01:21:53] <pcwalton> exactly
[01:21:53] <cgaebel> it seems odd to compare them
[01:21:57] <cgaebel> like "python vs java"
[01:22:27] <cgaebel> or like "cars vs. suits"
[01:22:43] <cgaebel> idk ignore me it's late
[01:23:10] <richo1> It kinda starts off, in my experience the go community is trying to distance itself from being an actual systems language
[01:23:22] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:23:27] <richo1> since they're now well and truly tending toward making it difficult if not impossible to actually implement systems consturcts :(
[01:24:33] <brson> pcwalton: i'm heartened that the message that go and rust are very different seems to be sinking in
[01:24:40] <pcwalton> brson: yup!
[01:25:51] *** Joins: philix (felipe@moz-C93EBCC.user.veloxzone.com.br)
[01:26:13] *** jorendorff_away is now known as jorendorff
[01:27:25] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[01:28:46] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[01:32:33] <cgaebel> is there an easy way to get peak memory usage of compiling librustc?
[01:32:52] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[01:33:44] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:34:08] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[01:34:27] *** Joins: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net)
[01:34:29] <strcat> cgaebel: on linux, yes
[01:34:38] <cgaebel> strcat: yeah I'm on linux.
[01:34:51] <strcat> cgaebel: which distro?
[01:34:54] <cgaebel> ubuntu
[01:35:19] <strcat> cgaebel: do you have /sys/fs/cgroup/ + /sys/fs/cgroup/memory/ ?
[01:35:29] <blehtm> doing anything on windows seems to be a nightmare, or maybe i just have no idea what i'm doing
[01:35:45] <seanmonstar> blehtm: its certainly no fun
[01:35:46] <cgaebel> strcat: only the first one
[01:36:12] <cgaebel> Also, unrelated question: where's the implementation of managed boxes?
[01:36:21] <cgaebel> the data structure itself
[01:36:50] <strcat> cgaebel: I think you need to boot with cgroup_enable=memory due to ubuntu/debian patching the kernel
[01:36:50] <seanmonstar> i'd been trying to find that too. i feel like its somewhere in rustc
[01:37:01] *** Quits: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au) (Ping timeout)
[01:37:03] <strcat> cgaebel: on the kernel line (so in your bootloader cfg)
[01:37:31] *** Joins: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au)
[01:38:48] <cgaebel> strcat: found it. had to install cgroup-bin
[01:38:56] <cgaebel> I now have /sys/fs/cgroup/memory
[01:39:15] <strcat> cgaebel: alright so as root, mkdir /sys/fs/cgroup/memory/foobar
[01:39:29] <cgaebel> k
[01:39:52] *** Quits: ramitos (ramitos@moz-DC1BC21E.rev.vodafone.pt) (Ping timeout)
[01:40:06] <strcat> cgaebel: then open a shell, figure out the pid, and echo it to /sys/fs/cgroup/memory/foobar/cgroup.procs
[01:40:26] <cgaebel> I have to do it to an already-running build?
[01:40:30] <strcat> cgaebel: no
[01:40:39] <strcat> cgaebel: you'll run make from this shell
[01:40:53] <cgaebel> oh the pid of the shell
[01:40:55] <strcat> cgroups include the process + any processes it spawns (they can't escape)
[01:40:56] *** Joins: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr)
[01:41:24] <strcat> and then you can read /sys/fs/cgroup/memory/foobar/memory.usage_in_bytes for the current usage (of all processes in the group) or /sys/fs/cgroup/memory/memory.max_usage_in_bytes for the peak
[01:41:32] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Ping timeout)
[01:41:34] <strcat> it's the only truly accurate way to measure mem usage
[01:41:45] <strcat> also includes stuff like a private tmpfs mount, etc.
[01:42:20] <strcat> can also measure I/O, CPU time, and so on
[01:42:37] <strcat> rusti uses a memory cgroup to implement an 128MiB memory cap
[01:42:41] <hoverbear> strcat: Didn't know you could do that.
[01:43:11] <cgaebel> very nice. thanks!
[01:43:38] <Tobba> uhhh
[01:43:48] <Tobba> I think the unreachable pattern detector is getting overly aggressive
[01:44:13] <strcat> technically using /sys/fs/cgroup/ directly is 'deprecated', but you need systemd for the new way (and ubuntu only says they'll be switching by 2016 ;p)
[01:44:30] <Tobba> it seems to be denying a few arms on my match because the function never actually gets called
[01:44:41] *** Joins: ramitos (ramitos@moz-A4CCEC21.rev.vodafone.pt)
[01:45:00] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:45:54] <strcat> cgaebel: if you're curious, the new way involves doing something like this http://ix.io/7lx where your processes get an ephemeral 'scope unit' and the cgroup is automatically cleaned up
[01:46:09] <strcat> the kernel devs want the cgroups to be single-writer (only one process fiddling with them)
[01:46:11] <hoverbear> strcat: Same procedure in Arch? Or can we use the "new way"?
[01:46:17] <strcat> hoverbear: either works
[01:46:19] *** Quits: cschneid_ (cschneid@moz-543D2FE4.hlrn.qwest.net) (Client exited)
[01:46:30] <cgaebel> strcat: man. the original way you gave me was so much nicer than this script.
[01:46:35] <strcat> I'm waiting for kdbus to land to port playpen to the new way
[01:46:43] <strcat> because libdbus/gdbus are truly awful
[01:46:46] <strcat> cgaebel: well it also does more ;)
[01:46:47] *** Joins: cschneid (cschneid@moz-543D2FE4.hlrn.qwest.net)
[01:47:07] <strcat> cgaebel: in the old way, there's no reliable way to clean up the cgroup after
[01:47:13] <strcat> since something has to rmdir it when it's empty
[01:47:34] <seanmonstar> Tobba: code?
[01:47:36] <strcat> this just looks bad because glib is awful ;)
[01:47:41] <cgaebel> lol fair enough
[01:47:46] <Tobba> seanmonstar: a crapload of it
[01:47:47] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[01:47:59] <Tobba> theres another crate that uses the same file and it works fine
[01:48:05] <strcat> cgaebel: it's certainly really bad with glib though, that's why I'm waiting for the new dbus client API ;p
[01:48:08] <Tobba> but in this other crate it declares the pattern arms unreachable
[01:48:25] <seanmonstar> Tobba: gist.github.com? the match and perhaps the enum?
[01:48:27] <strcat> I'd rather just leave it as a mess of mkdir/fopen/fwrite until it can be half as long + saner
[01:48:27] <cgaebel> strcat: seems smart ;)
[01:48:35] <Tobba> seanmonstar: again
[01:48:37] <Tobba> its waaaay too much
[01:48:38] *** Quits: cschneid (cschneid@moz-543D2FE4.hlrn.qwest.net) (Ping timeout)
[01:48:42] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[01:48:46] <strcat> cgaebel: that's why this is python and not C :P
[01:48:48] <strcat> too painful
[01:48:55] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[01:48:55] * strcat was just fiddling with it
[01:48:59] <cgaebel> strcat: might you know where the managed box data structure lives?
[01:48:59] <Tobba> just wondering what the heck its doing
[01:49:17] <strcat> cgaebel: well it's part of the compiler but there's std::unstable::raw::Box or something with the repr
[01:49:23] <seanmonstar> yea, i wanted to see Rc vs Gc, and see that Gc just uses @T internally
[01:49:28] <seanmonstar> but couldn't find @T
[01:49:40] *** Quits: patpat (patpat@moz-21619C28.as13285.net) (Ping timeout)
[01:49:42] <strcat> cgaebel: ah just std::raw::Box now
[01:49:57] <strcat> it's ptr -> { ref_count, drop_glue, prev, next, data }
[01:50:03] <cgaebel> any reason why it isn't just Rc now?
[01:50:04] <seanmonstar> strcat: so @T is essentially Box<T>?
[01:50:11] <strcat> cgaebel: because Rc is different
[01:50:16] <strcat> seanmonstar: it's *Box<T>
[01:50:26] <cgaebel> I'm confused. I thought people were trying to move to using Rc?
[01:50:31] <strcat> cgaebel: Rc has move semantics, @ refcounts implicitly
[01:50:33] <strcat> cgaebel: yes
[01:50:39] <strcat> cgaebel: you shouldn't use @, or Gc yet
[01:50:46] <strcat> but they aren't exactly the same
[01:50:49] *** Joins: jxv (jxv@moz-D1F0EBC3.socal.res.rr.com)
[01:50:53] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[01:50:56] <cgaebel> ok
[01:50:57] <strcat> because @ does an implicit refcount any time you assign/pass it
[01:51:15] <strcat> and at the end of the task, it runs a cleanup thing to free @ cycles
[01:51:21] *** Quits: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au) (Ping timeout)
[01:51:31] *** Joins: patpat (patpat@moz-21619C28.as13285.net)
[01:52:19] <cgaebel> huh
[01:52:33] <strcat> cgaebel: it builds a doubly-linked list through the @
[01:52:45] <strcat> then walks it a few times at the end of the task to free them
[01:52:48] <seanmonstar> strcat: ah, but logic of Box isn't in that module
[01:53:00] <strcat> seanmonstar: yes it's just showing what the compiler uses internally
[01:53:03] <cgaebel> strcat: yeah I'm seeing that. That's a lot of memory overhead :(
[01:53:07] <strcat> @ is entirely a compiler feature beyond std::cleanup
[01:53:11] <seanmonstar> strcat: logic is in rustc?
[01:53:16] <strcat> seanmonstar: yes
[01:54:05] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[01:54:07] *** Joins: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au)
[01:55:34] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[01:56:29] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[01:57:26] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[01:58:05] <p1start> With DST, will it be possible to have a type ~[unsized T]?
[01:59:40] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[02:00:06] *** Joins: xtc (xtc@moz-40BAAD63.tampfl.fios.verizon.net)
[02:00:17] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:00:31] <kvanb> vadimcn: ping
[02:00:32] <seanmonstar> will type inference be able to infer this? `match Decodable::decode(d).unwrap() { Foo => ... }`?
[02:00:53] <vadimcn> kvanb: pong
[02:00:59] <seanmonstar> or does it require `let f: Foo = Decodable::decode(d).unwrap()` before the match?
[02:03:11] <hoverbear> There and Rust IRC clients? Or maintained libs?
[02:03:52] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:04:07] <apollow> Alright
[02:04:34] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:04:46] <apollow> i've been spending a good 2 days trying to recompile rust and having problems on this statement "leaving directory" and I am at my wits end
[02:05:08] <hoverbear> apollow: Do you have a build log or fork we can look at?
[02:05:31] <apollow> any steps to make a build log in way you'd want?
[02:05:43] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:07:05] <apollow> here's the pastebin for it, http://pastebin.com/LNiBa3iR, it hung at the last statement for 3 hours
[02:07:19] *** Quits: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au) (Ping timeout)
[02:08:28] <hoverbear> apollow: That's interesting. Has this happened multiple times? I'm about to step out, back later. Maybe someone else has advice. :)
[02:09:57] <apollow> It has happened multiple times since I last attempted to recompile, going to do a make uninstall -> make again, maybe that will work
[02:10:24] <mcpherrin> apollow: I think -j is broken on windows
[02:10:55] <mcpherrin> apollow: so try without the -j8
[02:11:10] <apollow> alright
[02:11:14] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:11:14] <mcpherrin> Alternatively, use a nightly build instead of compiling yourself
[02:11:20] <mcpherrin> unless you're hacking on the compiler itself
[02:12:38] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[02:13:54] <apollow> I just might, thanks
[02:14:25] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[02:16:19] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[02:16:28] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:16:45] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:17:36] *** Quits: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com) (Quit: Leaving)
[02:18:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:18:28] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:20:47] *** Quits: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net) (Quit: WeeChat 0.4.3)
[02:21:43] *** Joins: richo1 (richo@5031078A.AC7D0C83.AD6E0A4D.IP)
[02:22:55] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Quit: Jesse)
[02:24:08] <seanmonstar> return inside a closure just returns the closure, or the whole function?
[02:25:10] <seanmonstar> Vec::from_fn(num, |i| try!(thing(i)))?
[02:25:40] <strcat> from the closure
[02:25:44] <strcat> not possible to return from the function
[02:26:08] <seanmonstar> so in that instance, i cant really use try inside the closure like that
[02:26:24] *** Quits: richo1 (richo@5031078A.AC7D0C83.AD6E0A4D.IP) (Ping timeout)
[02:30:40] <seanmonstar> the docs don't really explain, so why does collections::List use @List?
[02:31:16] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Ping timeout)
[02:31:54] <strcat> seanmonstar: it's likely going to be removed
[02:32:04] <strcat> there's no point of it if it's not a persistent list
[02:32:13] <seanmonstar> strcat: i saw an issue about refactoring it, but little explanation
[02:32:24] <strcat> it's not useful if it uses ~
[02:33:00] <seanmonstar> right, as it becomes a static linked-list, which a vector does just fine
[02:33:28] <seanmonstar> but i also couldn't think of why i'd need the nodes managed
[02:34:42] <strcat> because it's a persistent list, it shares sub-structures
[02:37:51] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[02:37:58] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[02:38:55] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[02:39:49] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[02:40:43] <kvanb> oh hi vadimcn 
[02:40:48] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[02:40:50] <kvanb> still not tracked down that segfault
[02:42:03] <kvanb> it's something to do with HashMap
[02:42:29] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:43:05] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[02:43:58] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:44:19] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:46:13] *** Quits: brendan (brendaneic@5B9493BE.68EECDA4.4EA770CF.IP) (Quit: brendan)
[02:57:03] *** Quits: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net) (Quit: Leaving)
[02:58:11] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[02:58:44] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[03:00:27] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[03:05:13] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:05:31] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[03:08:47] <comex> so... there is no easy way to have structs with default values, right? like, a lot of fields, typically created specifying only some subset of them?
[03:09:02] <comex> i guess i could have a static default instance and then have code copy it and set the new fields
[03:09:27] <comex> but it seems relatively ugly compared to the normal struct creation syntax
[03:10:48] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:12:09] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[03:12:42] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[03:13:07] *** Joins: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net)
[03:13:34] <SiegeLord> You can do the functional record update... like so: MyStruct{ field: foo, ..STATIC_INSTANCE}
[03:13:42] <SiegeLord> If I recall the syntax right
[03:13:51] <doomlord_> i was just trying to remember that aswell
[03:13:53] <SiegeLord> Need to set at least one field too
[03:14:03] <comex> huh, does that exist?
[03:14:17] <doomlord_> comex they dont seem so crazy about default values; they prefer to be explicit
[03:14:25] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[03:14:43] <dsrx> am I right that the rust test runner swallows anything printed to stdout? is there a way to print something while running a test?
[03:14:51] <SiegeLord> Well, it's not done yet... there's disagreement on what the default values would constitute
[03:14:55] <doomlord_> you can do some really interesting things with macros, i've made something to declare a struct with a scala style construtor :)
[03:15:44] <doomlord_> def_struct{  struct Foo(args..) { fields with initializer expressions using args }..   I think you could make a macro to declare a'static instance' with default values in it.
[03:15:52] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:16:58] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:17:13] *** Quits: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr) (Ping timeout)
[03:17:45] <doomlord_> i wish you could invoke a macro like this ... macro_name! ident (...) { .... }    .. then your custom syntax forms would look a lot more like regular syntax (eg optional preceeding ident, at least one of () {} but optionally both.. )
[03:18:23] <doomlord_> my_def_struct! StructName(...) { ... }  etc etc
[03:18:43] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:24:31] *** Quits: voxpopuli (fanservice@AE8088FD.7254D4BA.689607DE.IP) (Ping timeout)
[03:24:37] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[03:24:43] *** Joins: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com)
[03:25:46] *** Quits: Earnestea (earnest@moz-6CD1AB70.dyn.plus.net) (Ping timeout)
[03:28:24] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:28:46] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:28:46] <patpat> hello, maybe a silly question but with the Rust nightly builds do I just need to run the install.sh to automatically update to the latest nightly build?
[03:32:32] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:34:03] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[03:34:03] *** Quits: toshok (toshok@moz-43741342.cat) (Connection reset by peer)
[03:34:32] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:35:14] *** Quits: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net) (Ping timeout)
[03:35:21] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:35:46] *** jorendorff is now known as jorendorff_away
[03:35:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:36:12] <maxiepoo> how can I copy a borrowed str? I
[03:36:29] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:36:37] <maxiepoo> 'm looping through the words of a file and I need to keep a reference to the previous word as I step through
[03:37:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:38:00] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:38:29] *** Joins: toshok (toshok@moz-43741342.cat)
[03:39:15] *** jorendorff_away is now known as jorendorff
[03:40:38] *** Quits: mindcat (mindcat@4D1573F2.51411C19.D6E1F3C4.IP) (Ping timeout)
[03:41:58] *** Quits: toshok (toshok@moz-43741342.cat) (Connection reset by peer)
[03:42:29] <comex> huh. so if i want to declare an external module and bring one of its symbols into scope, i need to do 'use x::X; pub mod x;'
[03:42:33] <comex> seem backwards
[03:43:03] <strcat> rusti: fn bar() { foo() } fn foo() {} bar()
[03:43:03] -rusti- ()
[03:43:05] <strcat> that works too
[03:43:11] <strcat> declaration order doesn't matter
[03:43:18] <comex> yes, but i *have* to do it that way, because use has to be first
[03:43:44] <strcat> sure, there's an arbitrary rule saying you have to put use first
[03:43:52] <strcat> but declaration order doesn't matter
[03:44:34] <comex> vaguely relevant to what i'm doing, is there a standard library function of type &T -> &[T]?
[03:44:40] <comex> that would return a slice of one element
[03:44:43] <comex> i don't see one
[03:45:11] *** Quits: zz_kimundi (kimundi@moz-F76B25A2.dip0.t-ipconnect.de) (Ping timeout)
[03:45:13] <strcat> I don't think so
[03:45:15] <strcat> you can make one
[03:46:13] *** Joins: mindcat (mindcat@E528EFBC.7B4F697F.F21FCE99.IP)
[03:46:30] *** Joins: toshok (toshok@moz-43741342.cat)
[03:46:30] * comex also wants &[A] -> &[B] provided that A and B are POD and have no holes, but doesn't think rustc can test for that?
[03:46:45] <comex> for reading binary formats
[03:46:50] <strcat> doesn't sound safe
[03:47:00] <strcat> comex: that's undefined behaviour in C, doesn't sound like a good thing to rely on in rust
[03:47:11] <strcat> although it would work now
[03:47:13] <strcat> since we don't do TBAA
[03:47:18] <comex> mm
[03:47:48] *** Joins: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net)
[03:48:31] <comex> it just seems ugly to use a Reader or something if i just want to read a struct stored in a file into an identical struct in memory
[03:48:33] <comex> modulo endian
[03:48:38] *** Joins: zz_kimundi (kimundi@moz-C9206138.dip0.t-ipconnect.de)
[03:48:55] *** zz_kimundi is now known as kimundi
[03:49:04] *** Quits: toshok (toshok@moz-43741342.cat) (Connection reset by peer)
[03:49:13] <comex> plus, i'm getting structs from rust-bindgen, so i think i will just write that function for now
[03:49:29] *** Joins: toshok (toshok@moz-43741342.cat)
[03:52:11] *** Quits: anomie (anomie@moz-3213C615.wavecable.com) (Ping timeout)
[03:52:21] <strcat> comex: sure, but it's UB in C/C++
[03:52:26] <strcat> and it may be in rust too
[03:52:48] *** Joins: cschneid (cschneid@moz-2EF64966.hlrn.qwest.net)
[03:52:51] <strcat> (I would say it's undefined right now, simply because it's not well-defined)
[03:52:59] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[03:53:18] <comex> (not if the first type is char... not that i expect rustc to get a similar rule)
[03:53:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:53:37] <comex> wait, that's not right, is it
[03:53:44] <strcat> comex: afaik it's valid to cast anything to char
[03:53:46] <comex> maybe i shouldn't be playing with this stuff if i can't remember the rule :P
[03:53:50] <strcat> but I don't think it's valid to upcast
[03:53:55] <strcat> rust doesn't encode any of this for LLVM though
[03:54:07] <strcat> so it would work in rust, but that's an implementation detail - we haven't decided on this stuff
[03:54:10] <comex> yes, that's it.  but you can also malloc something and cast it to anything, except for implementation defined alignment
[03:54:35] <strcat> comex: yeah, malloc is aligned correctly for 'all types' (the x86_64 ABI says the highest alignment that's not optional is 16)
[03:54:56] <strcat> it's not aligned right for __m256 but that's optional :), as __m512 will be when they make it standard (don't think it's there yet)
[03:56:07] <comex> but you can't declare a static char buffer and cast pointers into it, which is actually annoying, since the result can be using malloc for no reason
[03:56:17] <comex> anyway. maybe i should just write a wrapper for the reader thing
[03:56:41] <comex> or, even easier, a function that memcpys rather than returning an alias
[03:57:08] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[04:01:29] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[04:01:40] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[04:02:19] *** Joins: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[04:02:22] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[04:03:17] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[04:04:40] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[04:05:48] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[04:06:21] *** Quits: cschneid (cschneid@moz-2EF64966.hlrn.qwest.net) (Client exited)
[04:06:34] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:06:48] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:07:00] *** Joins: siavashserver (siavash@EE3A6868.9F3105B5.82A25C10.IP)
[04:08:17] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[04:09:50] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[04:11:44] *** Quits: siavashserver (siavash@EE3A6868.9F3105B5.82A25C10.IP) (Quit: Konversation terminated!)
[04:12:34] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[04:12:42] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[04:14:24] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[04:14:52] <blehtm> YES I finally got gl-rs working
[04:15:08] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[04:15:16] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[04:17:41] *** Joins: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au)
[04:17:42] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:19:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:19:24] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Ping timeout)
[04:19:42] *** Joins: toshok (toshok@moz-43741342.cat)
[04:19:45] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:20:14] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[04:21:11] *** jorendorff is now known as jorendorff_away
[04:21:41] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[04:24:16] *** Quits: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com) (Quit: Leaving.)
[04:25:57] *** Quits: untitaker (untitaker@moz-9EB87587.adsl.highway.telekom.at) (Ping timeout)
[04:30:09] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[04:30:38] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:30:49] *** Quits: Rym (y@87B8C6B4.BF8845BF.51C6DE68.IP) (Ping timeout)
[04:31:00] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[04:31:06] *** Joins: Rym (y@87B8C6B4.BF8845BF.51C6DE68.IP)
[04:31:20] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[04:33:40] *** Quits: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net) (Ping timeout)
[04:34:20] <csherratt> blehtm: yay~
[04:34:36] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[04:39:12] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:39:43] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:40:16] *** Joins: guacamole (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[04:40:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Connection reset by peer)
[04:40:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:41:30] *** Joins: brendan (brendaneic@5B9493BE.68EECDA4.4EA770CF.IP)
[04:41:42] *** Quits: guacamole (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:44:59] *** Quits: philix (felipe@moz-C93EBCC.user.veloxzone.com.br) (Ping timeout)
[04:46:34] *** Joins: jrick (jrick@moz-75D96D9D.us)
[04:51:08] *** Quits: sw17ch (sw17ch@moz-4AF0345C.hfc.comcastbusiness.net) (Quit: sw17ch)
[04:51:44] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[04:56:14] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[04:56:27] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:56:36] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[04:57:39] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[05:01:06] *** Joins: vadimc (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net)
[05:01:46] *** vadimc is now known as vadimcn2
[05:03:22] *** Quits: heftig (heftig@moz-AFBCCE51.dip0.t-ipconnect.de) (Ping timeout)
[05:04:13] *** Quits: vadimcn2 (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 28.0/20140314220517])
[05:05:36] *** Joins: heftig (heftig@moz-6B4FBFAD.dip0.t-ipconnect.de)
[05:10:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:10:30] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Broken pipe)
[05:10:35] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[05:11:00] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:12:30] *** Quits: richo1 (richo@moz-5A240538.pa.vic.optusnet.com.au) (Ping timeout)
[05:12:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:12:42] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[05:14:25] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[05:16:44] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Quit: Leaving)
[05:18:26] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:20:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:20:14] *** Quits: jxv (jxv@moz-D1F0EBC3.socal.res.rr.com) (Quit: QUIT)
[05:20:37] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[05:20:42] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:20:54] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: Textual IRC Client: www.textualapp.com)
[05:22:04] *** Quits: brendan (brendaneic@5B9493BE.68EECDA4.4EA770CF.IP) (Ping timeout)
[05:22:43] *** Joins: richo1 (richo@4C18573D.DBCE439C.6F50E8A8.IP)
[05:23:10] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:25:30] *** Joins: rootnode_ (rootnode@moz-47B9C34C.pools.arcor-ip.net)
[05:26:11] *** Quits: rootnode (rootnode@moz-47B9C34C.pools.arcor-ip.net) (Ping timeout)
[05:27:08] *** Quits: khodzha (khodzha@D687A185.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:27:22] *** Joins: rootnode (rootnode@moz-47B9C34C.pools.arcor-ip.net)
[05:27:41] *** Quits: rootnode_ (rootnode@moz-47B9C34C.pools.arcor-ip.net) (Ping timeout)
[05:28:02] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[05:28:18] *** Quits: rootnode (rootnode@moz-47B9C34C.pools.arcor-ip.net) (Connection reset by peer)
[05:28:29] *** Joins: rootnode (rootnode@moz-47B9C34C.pools.arcor-ip.net)
[05:31:28] *** Quits: richo1 (richo@4C18573D.DBCE439C.6F50E8A8.IP) (Ping timeout)
[05:32:21] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[05:32:49] *** Joins: khodzha (khodzha@D687A185.A859D9FD.CA6E2165.IP)
[05:38:10] *** Joins: dranov (dranov@D7856B16.470B7AFF.FCAAE698.IP)
[05:40:19] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[05:42:15] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[05:44:08] *** Quits: thesnowdog (doug@E8B162D2.CDB23781.6F17036B.IP) (Ping timeout)
[05:44:44] *** Joins: thesnowdog (doug@E8B162D2.CDB23781.6F17036B.IP)
[05:48:37] <JustAPerson> Hiya guys, could anyone help me structure this? I'm trying to split parts of a module into different files and reexport the contents of those files. My desired structure is something like this: https://gist.github.com/JustAPerson/d5586cfd199453265ecd
[05:48:44] <JustAPerson> Doesn't actually work, but any suggestions?
[05:49:37] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[05:51:21] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[05:53:16] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[05:55:07] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[05:56:38] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Quit: leaving)
[06:00:15] *** Joins: anomie (anomie@moz-3213C615.wavecable.com)
[06:00:30] *** Quits: pepper_chico (pepper_chi@EB1D9484.8A9E5939.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[06:00:38] <acrichto> JustAPerson: ebml/mod.rs should have "pub use self::encode::encode;"
[06:01:15] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[06:05:28] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:05:45] <JustAPerson> acrichto: does any change need to be made to main.rs? That's where I'm now getting an error https://gist.github.com/JustAPerson/c3ae68e370f3ccd016aa
[06:07:19] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:07:33] <apollow> Anyone a master with compilation of rust? Finally got into a ?successful? make install, but im givin this "could not find crate std". I had rustc compiled before but a make install screwed with it so I have to recompiled it again. I have the rust git repo in different folder different from the rustc install. http://pastebin.com/UyM2fX8g is the output...
[06:07:58] *** Joins: derek_c (derek@moz-1578B046.cit.cornell.edu)
[06:08:52] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[06:09:03] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[06:09:14] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[06:09:15] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:09:39] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:09:57] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[06:12:36] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[06:14:26] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[06:14:37] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:15:02] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[06:17:01] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[06:17:36] <p1start> JustAPerson: I think it's just a typo — surely you mean "ebml::encode" instead of "embl::encode"?
[06:17:41] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[06:18:08] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:18:33] <mindcat> rusti: fn b<'a>(s : &'a str) -> ~str {let mut a = s.chars(); let result = {let mut count : u8 = 0; let mut v = ~[]; let mut c : u8 = 0; for i in a {; if i == '1' {c = c | 1 << 7 - count % 8; } count += 1; if count % 8 == 0 {v.push(std::str::from_byte(c)); c = 0} } v.concat().to_owned() };result}; s("0110110101101001011011100110010001100011011000010111010000111010001000000110100001100101011011000110110001101111")
[06:18:33] -rusti- pastebinned 5 lines of output: http://sprunge.us/UJag
[06:19:00] <mindcat> rusti: fn b<'a>(s : &'a str) -> ~str {let mut a = s.chars(); let result = {let mut count : u8 = 0; let mut v = ~[]; let mut c : u8 = 0; for i in a {; if i == '1' {c = c | 1 << 7 - count % 8; } count += 1; if count % 8 == 0 {v.push(std::str::from_byte(c)); c = 0} } v.concat().to_owned() };result}; b("0110110101101001011011100110010001100011011000010111010000111010001000000110100001100101011011000110110001101111")
[06:19:01] -rusti- mindcat: hello
[06:19:08] <JustAPerson> p1start: oh my, yes. It works otherwise. Sorry about that. Thank you both, acrichto, p1start.
[06:19:17] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:19:38] <p1start> JustAPerson: no problem
[06:21:01] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:22:56] <mindcat> rusti: fn b<'a>(s : &'a str) -> ~str {let mut a = s.chars(); let result = {let mut count : u8 = 0; let mut v = ~""; let mut c : u8 = 0; for i in a {; if i == '1' {c = c | 1 << 7 - count % 8; } count += 1; if count % 8 == 0 {v = v + std::str::from_byte(c); c = 0} } v };result}; b("0110110101101001011011100110010001100011011000010111010000111010001000000110100001100101011011000110110001101111")
[06:22:57] -rusti- mindcat: hello
[06:23:40] <vadimcn> kvanb: u r there?
[06:24:28] <Jesse> mindcat: rusti accepts private messages too ;)
[06:25:07] <mindcat> rusti: fn b<'a>(s : &'a str) -> ~str {let mut a = s.chars(); let result = {let mut count : u8 = 0; let mut v = ~""; let mut c : u8 = 0; for i in a {; if i == '1' {c = c | 1 << 7 - count % 8; } count += 1; if count % 8 == 0 {v = v + std::str::from_byte(c); c = 0} } v };result}; b("01101101011010010110111001100100011000110110000101110100001110100010000001111001011001010110000100101100001000000100100100100000011010110110111001101111011101110010000
[06:25:07] -rusti- <anon>:12:17: 13:3 error: unterminated double quote string
[06:25:07] -rusti- <anon>:12     println!("{}", r)
[06:25:07] -rusti- <anon>:13 }
[06:25:07] -rusti- application terminated with error code 101
[06:25:24] <mindcat> oops
[06:25:32] <mindcat> Jesse: yea, I know
[06:25:39] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[06:26:12] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[06:29:11] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[06:29:15] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[06:29:37] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Ping timeout)
[06:30:16] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:31:09] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:32:04] *** Quits: Rym (y@87B8C6B4.BF8845BF.51C6DE68.IP) (Ping timeout)
[06:32:05] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:32:55] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[06:34:14] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[06:36:39] *** Joins: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP)
[06:37:38] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[06:37:39] *** Joins: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net)
[06:38:51] *** Quits: dranov (dranov@D7856B16.470B7AFF.FCAAE698.IP) (Ping timeout)
[06:40:01] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[06:40:09] *** Joins: dranov (dranov@D7856B16.470B7AFF.FCAAE698.IP)
[06:41:32] *** Joins: ofeldt- (ofeldt@moz-6D9F21A5.dip0.t-ipconnect.de)
[06:42:30] *** Quits: ofeldt (ofeldt@moz-C5B025BB.dip0.t-ipconnect.de) (Ping timeout)
[06:43:53] *** Joins: philix (felipe@moz-C93EBCC.user.veloxzone.com.br)
[06:45:54] *** Quits: philix (felipe@moz-C93EBCC.user.veloxzone.com.br) (Ping timeout)
[06:46:21] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:47:32] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[06:47:32] *** ChanServ sets mode: +ao brson brson
[06:48:44] *** Quits: glandium (glandium@moz-40F0B000.aichi.ocn.ne.jp) (Quit: Coyote finally caught me)
[06:50:22] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[06:50:53] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[06:51:14] *** Joins: edwardw (Mibbit@8E77A3F9.7FC992B3.B3B412E5.IP)
[06:52:52] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[06:53:16] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[06:54:40] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:55:38] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:55:49] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[06:55:59] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:56:02] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[06:57:45] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:59:58] *** Joins: nkoep (nik@moz-20720A4.pool.mediaways.net)
[07:00:52] *** Joins: glandium (glandium@moz-40F0B000.aichi.ocn.ne.jp)
[07:03:19] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:04:51] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[07:06:58] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:06:59] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[07:07:08] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[07:07:55] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:08:29] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[07:09:51] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[07:10:44] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:11:27] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[07:12:37] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[07:14:30] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[07:14:31] *** Quits: khodzha (khodzha@D687A185.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:15:49] *** Joins: devbug_ (quassel@moz-8C40558B.bchsia.telus.net)
[07:15:51] *** Quits: devbug_ (quassel@moz-8C40558B.bchsia.telus.net) (Client exited)
[07:17:09] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[07:18:23] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[07:18:45] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[07:18:50] *** Quits: ruzu (quassel@moz-2AAEC710.austin.res.rr.com) (Connection reset by peer)
[07:19:01] *** Joins: ruzu (quassel@moz-2AAEC710.austin.res.rr.com)
[07:20:13] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:20:15] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[07:21:23] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[07:21:37] *** Joins: khodzha (khodzha@D687A185.A859D9FD.CA6E2165.IP)
[07:21:56] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:22:37] *** Quits: edwardw (Mibbit@8E77A3F9.7FC992B3.B3B412E5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:27:17] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[07:28:01] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[07:29:25] *** Joins: mmmonk (mmmonk@moz-F145F0FF.xlshosting.net)
[07:32:12] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[07:36:29] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[07:37:04] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:37:45] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[07:38:04] *** Joins: Earnestea (earnest@moz-6CD1AB70.dyn.plus.net)
[07:39:05] *** Quits: intuxicated (intuxicate@3AEA5E5.FBDFAF77.BD3E1BB3.IP) (Client exited)
[07:41:11] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[07:43:57] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[07:44:09] *** Quits: Earnestea (earnest@moz-6CD1AB70.dyn.plus.net) (Quit: WeeChat 0.4.4-dev)
[07:44:16] *** Joins: Earnestly (earnest@moz-6CD1AB70.dyn.plus.net)
[07:44:23] *** Quits: oxum (anonymous@C28A3971.1F20C5D9.520CDC98.IP) (Quit: Bye..)
[07:44:48] *** Joins: oxum (anonymous@C28A3971.1F20C5D9.520CDC98.IP)
[07:47:22] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[07:48:36] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[07:50:10] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[07:50:11] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[07:50:28] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[07:50:44] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[07:50:45] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[07:51:12] *** Quits: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Ping timeout)
[07:51:33] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[07:51:33] *** Quits: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net) (Ping timeout)
[07:51:33] *** Quits: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Ping timeout)
[07:51:33] *** Quits: cremes (cremes@moz-79335496.hsd1.il.comcast.net) (Ping timeout)
[07:51:41] *** Quits: vadimcn (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net) (Connection reset by peer)
[07:51:43] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Ping timeout)
[07:51:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Connection reset by peer)
[07:51:54] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[07:52:01] *** Quits: Loudergood (quassel@moz-78A0CE2E.hsd1.vt.comcast.net) (Ping timeout)
[07:52:01] *** Quits: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Ping timeout)
[07:52:01] *** Quits: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net) (Ping timeout)
[07:52:01] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[07:52:01] *** Quits: goffrie_ (goffrie@moz-25251DC3.dsl.ncf.ca) (Ping timeout)
[07:52:01] *** Quits: tfogal (tfogal@349C7098.B9F5E6C9.F7261B00.IP) (Ping timeout)
[07:52:02] *** Joins: vadimcn (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net)
[07:52:03] *** Quits: tristram (tristram@moz-C498CC41.eu) (Ping timeout)
[07:52:06] *** Joins: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[07:52:08] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Ping timeout)
[07:52:08] *** Quits: yorhel (Ayo@moz-B79AC08A.adsl.xs4all.nl) (Ping timeout)
[07:52:09] <bjz> can you use these new osx nightlies with brew?
[07:52:10] *** Quits: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net) (Connection reset by peer)
[07:52:12] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[07:52:12] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[07:52:12] *** Quits: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net) (Ping timeout)
[07:52:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:52:21] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[07:52:21] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[07:52:21] *** Quits: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net) (Ping timeout)
[07:52:23] *** Quits: stephenmac7 (quassel@moz-C42B1C24.hsd1.fl.comcast.net) (Ping timeout)
[07:52:27] *** Quits: Khady (Khady@moz-31F9D77E.khady.info) (Ping timeout)
[07:52:35] *** Quits: homa_rano (edre@moz-9BE50501.hsd1.ma.comcast.net) (Ping timeout)
[07:52:36] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[07:52:38] *** Quits: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net) (Ping timeout)
[07:52:44] *** Quits: geal (geal@moz-615D228A.unhandledexpression.com) (Ping timeout)
[07:52:44] *** Quits: Tari (tari@moz-A009139E.net) (Ping timeout)
[07:52:46] *** Quits: ktos (ktos@moz-91C103D0.swidnica.mm.pl) (Ping timeout)
[07:52:51] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout)
[07:52:58] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Ping timeout)
[07:53:04] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[07:53:25] *** Joins: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net)
[07:53:30] *** Joins: tristram (tristram@moz-C498CC41.eu)
[07:53:32] *** Joins: tfogal (tfogal@349C7098.B9F5E6C9.F7261B00.IP)
[07:53:34] *** Joins: Loudergood (quassel@moz-78A0CE2E.hsd1.vt.comcast.net)
[07:53:36] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[07:53:50] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[07:53:54] *** Joins: stephenmac7 (quassel@moz-C42B1C24.hsd1.fl.comcast.net)
[07:54:02] *** Joins: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net)
[07:54:07] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[07:54:39] *** Joins: ktos (ktos@moz-91C103D0.swidnica.mm.pl)
[07:54:48] *** Joins: cremes (cremes@moz-79335496.hsd1.il.comcast.net)
[07:55:03] *** Joins: goffrie (goffrie@moz-25251DC3.dsl.ncf.ca)
[07:55:04] *** Joins: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net)
[07:55:09] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[07:55:10] *** Joins: homa_rano (edre@moz-9BE50501.hsd1.ma.comcast.net)
[07:55:11] *** Joins: Tari (tari@moz-A009139E.net)
[07:55:13] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[07:55:17] *** Joins: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[07:55:19] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[07:55:28] *** Joins: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net)
[07:55:30] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[07:55:32] *** Joins: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[07:55:38] *** Joins: lahwran (lahwran@lahwran.net)
[07:55:42] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[07:55:55] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[07:56:12] *** Joins: geal (geal@moz-615D228A.unhandledexpression.com)
[07:56:27] *** Quits: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[07:57:10] *** Quits: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:57:32] *** Joins: darkf (darkf@moz-F9058B8A.net)
[07:57:57] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[07:58:25] <kvanb> vadimcn: yes
[07:58:41] *** Joins: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net)
[07:58:44] <kvanb> intermittently. The machine I run IRC on is different from my development machine, so I dont always pay attention,
[07:58:56] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[07:59:57] <kvanb> I think the next stage is to build a 64-bit rustc with -g for a better stack trace
[08:00:46] <kvanb> a problem indeed that you cannot use -O1 and -g at the same time :|
[08:01:08] <huon> you can't? (or it just isn't as helpful as plain -g?)
[08:01:20] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[08:01:43] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[08:02:11] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[08:02:19] *** Joins: untitaker (untitaker@moz-9EB87587.adsl.highway.telekom.at)
[08:02:40] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:03:01] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:03:26] <kvanb> Im pretty sure that with llvm using -g and -On at the same time causes the debug information to be virtually destroyed/useless
[08:03:37] <kvanb> due to inlining and the line numbers being completely inaccurate due to reordering
[08:03:54] <huon> yeah, I was just wondering if rustc crashed/errored with -O1 + -g
[08:03:56] <kvanb> might get the function names, even then, sometimes not (because inlining)
[08:03:59] <strcat> LLVM doesn't support debug info with optimizations on
[08:04:14] <kvanb> I suspect the method throwing the segfault is HashMap::new
[08:04:22] <kvanb> which is problematic, because I think it gets inlined
[08:04:23] <strcat> gcc does but LLVM isn't gcc ;)
[08:04:26] <huon> if it's just the standard debug + opts problem, then I'm not interested :P
[08:04:26] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Connection reset by peer)
[08:04:39] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:04:52] <strcat> if you turn on optimizations then you can assume the debug info is worthless with LLVM
[08:04:52] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[08:04:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:05:05] <kvanb> :/
[08:05:13] <kvanb> one other way for me to do it is to inspect the llvm ir
[08:05:14] <strcat> with gcc, it might not be as good, but it won't be incorrect - and it supports tracking the variables through optimization passes, etc.
[08:06:16] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:06:56] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[08:07:03] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:07:35] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[08:07:54] *** Joins: abustany (abustany@moz-C0C970CD.org)
[08:08:06] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:08:18] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[08:08:52] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[08:09:12] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[08:09:19] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[08:09:43] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[08:11:25] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[08:12:22] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Input/output error)
[08:12:43] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[08:14:31] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[08:15:03] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[08:16:10] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[08:18:22] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[08:20:10] *** Joins: Ms2ger (Ms2ger@moz-4CB19774.adsl-dyn.isp.belgacom.be)
[08:20:45] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:22:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:22:47] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[08:23:38] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[08:23:54] *** Quits: rootnode (rootnode@moz-47B9C34C.pools.arcor-ip.net) (Ping timeout)
[08:24:44] *** Joins: andor (andor@moz-708868D.neferty.me)
[08:26:44] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Client exited)
[08:28:05] *** Quits: derek_c (derek@moz-1578B046.cit.cornell.edu) (Quit: Leaving)
[08:28:12] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[08:29:29] <brson> what i've learned about disco this week: https://gist.github.com/brson/da5abd746ec67fcdb049
[08:32:28] *** Quits: Nekit1234007_ (Nekit12340@4005741D.E0484215.4707F662.IP) (Ping timeout)
[08:33:45] <mcpherrin> brson: hmm I wasn't *planning* on staying up longer listening to Disco and writing regex code but I guess I have to now
[08:34:33] <Yurume> brson: 1878? 8)
[08:34:48] <mcpherrin> why is the latency on my keyboard higher than my ping across the continent :(
[08:41:01] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[08:41:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:41:12] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:42:19] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:43:34] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[08:44:28] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:44:45] *** Joins: philix (felipe@moz-C93EBCC.user.veloxzone.com.br)
[08:46:43] *** Quits: philix (felipe@moz-C93EBCC.user.veloxzone.com.br) (Ping timeout)
[08:47:13] *** Joins: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[08:47:26] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:47:27] *** Joins: Nekit1234007_ (Nekit12340@moz-409F3D76.dyn.broadband.iskratelecom.ru)
[08:47:30] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:48:52] <richo1> So, failed to find an implementation of trait std::fmt::Show for std::c_str::CString. This seems really odd. Is this oversight, or am I missing something obvious?
[08:49:18] <strcat> it doesn't know what encoding it is
[08:49:55] <brson> Yurume: KC had an extensive career
[08:49:56] *** Joins: abustany (abustany@moz-C0C970CD.org)
[08:50:52] <richo1> Oh, that makes sense.
[08:51:26] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:51:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:52:34] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[08:52:53] <doomlord_> just curious, would [T..N] work in the langauge grammar for the fixed size array type, was it considered
[08:53:43] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:54:36] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[08:55:59] <mcpherrin> doomlord_: dropping the comma, you mean?
[08:57:26] <richo1> Does Option<T> do reasonable things with attempts to call in? eg, can I just drop this match statement and assume that calls to the method will still return None ? https://gist.github.com/richo/9851011
[08:58:34] *** Joins: pczarn_ (pczarn@moz-69A55FA.izacom.pl)
[08:58:38] *** Quits: pczarn_ (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[08:58:56] *** Joins: jackneill (jackneill@moz-ACF46BD7.pool.digikabel.hu)
[08:59:08] <mcpherrin> richo1: there are various helper methods on Option but they'll all boil down to the match like you've written
[08:59:10] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[09:00:28] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[09:00:43] <mcpherrin> CString::new(path, true).as_str().map(|s| s.to_owned())
[09:00:43] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[09:01:03] *** Joins: abustany (abustany@moz-C0C970CD.org)
[09:01:55] *** Joins: twi (Adium@moz-429185BE.cust.vodafonedsl.it)
[09:02:01] <richo1> mcpherrin: awesome, thankyou. Also, have I understood how the string copy should work there right? I'm fairly sure that doesn't leak memory
[09:02:28] <Ms2ger> richo1, do you need the unsafe {} block?
[09:02:35] <richo1> that should return the ~str, and afaik the CString I've created will free the underlying buffer when it goes out of scope, because of the true arg
[09:02:48] <richo1> Ms2ger: I'm calling into ffi, so as I understand it everything has to be unsafe, right?
[09:03:03] <Ms2ger> No, only the actual ffi calls
[09:03:24] <mcpherrin> let path = unsafe { git...() } ;
[09:03:28] <richo1> ah, I see what you're saying now.
[09:03:28] <richo1> yeah
[09:03:32] <richo1> good catch, thanks :)
[09:04:30] <mcpherrin> and yes, if you go look at drop(), it'll libc::free the buffer
[09:04:32] <Ms2ger> Oh, and apparently CString::new too
[09:05:08] <mcpherrin> if self.owns_buffer_ { unsafe { libc::free(self.buf as *mut libc::c_void) } } 
[09:05:09] <richo1> I looked at the impl of Drop for CString, but I basically wanted to make sure I actually understood how it pieced together
[09:05:24] <mcpherrin> right
[09:05:33] <richo1> eg, I got *how* it freed it, but I wasn't sure if I actually understood Drop correctly
[09:06:15] <mcpherrin> Right, drop() will get called basically as soon as to_owned returns.
[09:09:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:10:12] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[09:10:48] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[09:11:13] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[09:11:50] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[09:12:12] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[09:12:35] <richo1> It seems that actually moving any of this code outside the unsafe block is going to be impossible to actually respect lifetime
[09:12:37] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[09:13:53] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[09:14:08] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[09:14:19] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[09:14:20] *** jorendorff_away is now known as jorendorff
[09:18:24] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:18:44] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:19:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:19:06] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:21:31] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:22:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:23:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:24:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:27:15] *** Joins: doomlord__ (servitor@moz-88D9A890.range86-184.btcentralplus.com)
[09:27:21] *** Quits: doomlord__ (servitor@moz-88D9A890.range86-184.btcentralplus.com) (Connection reset by peer)
[09:27:23] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[09:27:33] *** Quits: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[09:33:11] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Client exited)
[09:33:27] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[09:33:43] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[09:38:08] *** Joins: Ferreus (ferreus@moz-55214CDB.lsn.wtnet.de)
[09:39:30] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:41:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:43:46] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[09:44:29] *** jorendorff is now known as jorendorff_away
[09:45:22] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[09:45:41] <mindcat> lifetime let me crazy
[09:46:42] <mindcat> code: https://gist.github.com/mindcat/9851575 error: http://paste.ubuntu.com/7173182/
[09:47:51] <huon> mindcat: remove the <'a> on new
[09:48:07] <huon> (that probably won't fix it, but it's not necessary.)
[09:48:48] <mindcat> well, I should be view how did double linked list.
[09:48:53] <huon> also, you need `top: Option<&'b ~KNode<'a, 'b>>`
[09:48:53] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[09:48:58] <huon> i.e. the 'b on the &
[09:49:18] <mindcat> huon: ohhh
[09:49:30] <huon> if you're trying to do parent pointers they will not work with & and ~
[09:49:32] *** Joins: farcaller_ (Mibbit@588BB99D.CCDC71F0.52991848.IP)
[09:49:42] <huon> need Rc + Weak, or unsafe
[09:50:10] <mindcat> huon: ok..
[09:51:40] <farcaller_> hi all, got a mutability problem here. Given static Timer1 : *mut Timer = 0x... as *mut Timer, how do I access &Timer1.field as mut? &(*Timer1).field is &u32
[09:52:16] <huon> (specifically, borrowing a & to the parent will not allow for modifying that parent to insert the child; and if you insert the child first, then borrowing the parent will disallow modifying the child.)
[09:52:23] *** Joins: yorhel (Ayo@moz-B79AC08A.adsl.xs4all.nl)
[09:52:42] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[09:52:47] <huon> farcaller_: `&mut (*Timer1).field`
[09:52:50] *** Joins: Khady (Khady@moz-31F9D77E.khady.info)
[09:52:53] <huon> & is an immutable reference
[09:52:59] <huon> &mut is a mutable reference
[09:53:01] <huon> (different operators/types)
[09:53:28] <huon> (similar-ish to `const T` vs just plain `T`, but made far more explicit)
[09:53:33] <doomlord_> out of curiosity is has anyone done an image library *written natively in rust* (i seem to remember someone saying they had a png encoder)
[09:53:39] *** Quits: richard|s_ (mindginati@moz-3F00AA22.dyn.cust.vf.net.nz) (Ping timeout)
[09:54:01] <farcaller_> huon: thanks, makes sense now
[09:54:12] <Ms2ger> doomlord_, eddyb has a PNG decoder
[09:56:25] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[09:57:27] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[09:59:22] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[09:59:22] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:59:35] *** Joins: richard|s_ (mindginati@moz-3F00AA22.dyn.cust.vf.net.nz)
[10:01:14] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[10:03:14] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[10:03:32] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[10:04:07] *** Quits: anomie (anomie@moz-3213C615.wavecable.com) (Client exited)
[10:07:01] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:08:04] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[10:08:49] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:10:18] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[10:10:22] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[10:10:41] *** Joins: ManishProxy (Mibbit@48B97AED.52172DF3.1C37C358.IP)
[10:11:22] *** Joins: tgkokk (user@moz-88CCC929.home.otenet.gr)
[10:12:38] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[10:12:45] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[10:13:00] <huon> what happened to hashmap .mangle?
[10:13:35] *** Quits: devbug (quassel@moz-8C40558B.bchsia.telus.net) (Connection reset by peer)
[10:14:22] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Ping timeout)
[10:14:33] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[10:14:34] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[10:14:44] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[10:17:32] *** Joins: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[10:21:16] *** Joins: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr)
[10:22:18] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[10:22:58] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[10:23:58] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[10:23:58] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[10:24:44] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[10:24:48] *** Parts: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) ()
[10:24:51] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[10:25:38] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[10:27:23] *** Quits: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[10:27:43] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[10:28:24] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[10:29:01] *** Quits: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP) (Quit: mno2)
[10:30:14] *** Quits: Siosm (quassel@moz-9911B053.fr) (Ping timeout)
[10:31:29] <Ms2ger> huon, it was removed in the robinhood changes
[10:31:35] <Ms2ger> Much to my annoyance
[10:32:13] *** Joins: Siosm (quassel@moz-9911B053.fr)
[10:32:16] <huon> Ms2ger: i filed https://github.com/mozilla/rust/issues/13195
[10:32:45] <huon> (fortunately the place I was updating right then could be expressed in terms of find_or_insert_with... but I have other places that can't :( )
[10:32:48] * huon goes to bed
[10:33:20] *** Joins: alkino_ (alkino@moz-B4A66306.w92-151.abo.wanadoo.fr)
[10:33:54] *** Joins: Florob (Florob@moz-39532932.de)
[10:33:56] *** Quits: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr) (Ping timeout)
[10:34:02] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[10:34:16] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[10:34:33] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[10:34:47] *** Joins: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[10:35:20] *** Joins: mye (mye@moz-AEF04E78.dip0.t-ipconnect.de)
[10:36:04] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[10:36:05] *** Quits: farcaller_ (Mibbit@588BB99D.CCDC71F0.52991848.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:38:49] <richo1> Can I pass a closure across the C ABI boundary? Where would I find the docs for that? Can't find anything in the ffi guide or the links it has
[10:39:35] <richo1> specifically, I want to pass a closure in as an int (*cb)(oid*, void*)
[10:40:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:40:56] <strcat> richo1: not really
[10:41:17] <strcat> you can pass a reference to a closure/proc (or trait object) as the data parameter
[10:41:24] <strcat> and call it via a stub extern "C" function
[10:42:08] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:42:48] <richo1> Oh, I see what you're driving at.
[10:42:50] <richo1> clever :)
[10:45:38] *** Joins: philix (felipe@moz-C93EBCC.user.veloxzone.com.br)
[10:46:33] <strcat> richo1: I've had to do that countless times in C++ ;)
[10:46:55] *** jorendorff_away is now known as jorendorff
[10:47:41] *** Quits: philix (felipe@moz-C93EBCC.user.veloxzone.com.br) (Ping timeout)
[10:49:07] <richo1> it's mainly amusing because I just spent a while obsessing over how to "nicely" create a null pointer for that param in rust
[10:49:17] <richo1> (I'm assuming there's something in std::libc but it was an interesting aside)
[10:52:04] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[10:53:50] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[10:55:23] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[10:57:16] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[10:59:01] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[11:01:45] *** Quits: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[11:02:02] *** Joins: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[11:04:45] *** Quits: kvanb (kvanb@moz-BA670ED4.lnse2.win.bigpond.net.au) (Quit: kvanb)
[11:05:34] <richo1> How often does the issue tracker get pruned? I'm looking through everything tagged easy looking for stuff to dip my toes into, but a great deal of it looks like it's already been done
[11:08:08] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Ping timeout)
[11:08:22] *** Quits: Zuchto (chat@moz-1FF744E2.members.linode.com) (Ping timeout)
[11:08:43] *** Quits: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[11:10:08] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[11:10:17] *** Joins: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[11:10:35] <richo1> Urgh. Bad connection is bad. Did my last message make it?
[11:11:19] <zxcdw> About issue tracker pruning? Yes
[11:12:10] *** Joins: mib_1f5uk7 (Mibbit@moz-F69B8202.hsi13.kabel-badenwuerttemberg.de)
[11:12:12] <richo1> I'm looking at #6870 and #6085 and thinking they look plausible
[11:12:18] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[11:13:29] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[11:13:42] *** Quits: mib_1f5uk7 (Mibbit@moz-F69B8202.hsi13.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:15:15] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[11:15:45] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[11:16:29] *** Quits: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com) (Ping timeout)
[11:18:08] *** Joins: darkf (darkf@moz-F9058B8A.net)
[11:18:56] *** Quits: Earnestly (earnest@moz-6CD1AB70.dyn.plus.net) (Input/output error)
[11:18:58] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[11:19:00] *** Joins: Earnestly (earnest@moz-6CD1AB70.dyn.plus.net)
[11:19:06] *** Joins: kermi (Mibbit@moz-F69B8202.hsi13.kabel-badenwuerttemberg.de)
[11:20:48] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[11:23:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[11:24:35] *** Joins: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de)
[11:24:44] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[11:26:48] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[11:27:55] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[11:28:34] <mindcat> rusti: main
[11:28:39] <mindcat> rusti: main
[11:32:13] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[11:32:16] <mindcat> rusti: use std::rc::Rc; struct b { a: u8 } let a = Rc::new(b {a: 2 }); *a
[11:32:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:32:45] <mindcat> rusti is dead?
[11:32:49] <strcat> rusti: 2
[11:32:49] -rusti- 2
[11:33:12] <strcat> rusti: use std::rc::Rc; struct b { a: u8 } let a = Rc::new(b {a: 2 }); *a
[11:33:20] <strcat> ah
[11:33:31] <strcat> the pastebin site it uses is down
[11:33:34] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[11:33:43] <mindcat> :S
[11:33:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:33:54] <strcat> rusti: use std::rc::Rc; struct b { a: u8 } let a = Rc::new(b {a: 2 }); *a
[11:33:58] -rusti- pastebinned 8 lines of output: http://ix.io/bjW
[11:34:11] <mindcat> rusti: main
[11:34:14] -rusti- pastebinned 8 lines of output: http://ix.io/bjX
[11:34:18] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[11:34:46] <mindcat> rusti: use std::rc::Rc; struct b { a: u8 } let a = Rc::new(b {a: 2 }); println("{:?}", *a)
[11:34:47] -rusti- <anon>:10:73: 10:80 error: unresolved name `println`.
[11:34:47] -rusti- <anon>:10         use std::rc::Rc; struct b { a: u8 } let a = Rc::new(b {a: 2 }); println("{:?}", *a)
[11:34:47] -rusti-                                                                                   ^~~~~~~
[11:34:47] -rusti- error: aborting due to previous error
[11:34:47] -rusti- playpen: application terminated with error code 101
[11:34:57] <Havvy> :/ Dealing with World-like objects across tasks is annoying.
[11:35:14] <strcat> Havvy: why?
[11:35:22] <strcat> Arc works well
[11:35:36] <Havvy> Isn't Arc only dealing with immutable structures?
[11:35:39] <strcat> no
[11:36:05] <strcat> you can use Arc<Mutex<T>>
[11:36:26] <strcat> or Arc<RWLock<T>>
[11:36:35] <strcat> and soon we'll have a concurrent hash table with fine-grained locking
[11:36:46] <strcat> rust also has atomics (you can use those in fields of something in an Arc)
[11:37:07] *** Joins: paraze (paraze@moz-9E32EAAD.w90-27.abo.wanadoo.fr)
[11:37:35] <strcat> rust certainly has shared memory and it's not discouraged - use it when it's better suited to the task than message passing or moving into procs
[11:37:41] *** Joins: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP)
[11:37:41] <Havvy> Is there a way for a task to get a write-only lock and never give it up while letting other tasks read from it?
[11:38:05] <strcat> no, that would be unsafe
[11:38:25] <strcat> you can use Mutex or RWLock, which allow an exclusive writer at any point in time
[11:38:52] <strcat> you would only be locking it when you need to write, not constantly
[11:39:11] <Havvy> Is there a way to prevent all tasks but one task from writing to it?
[11:39:11] <strcat> writing to data while reading from it is undefined in any language
[11:39:25] <strcat> you can build an API doing that
[11:39:51] <strcat> use an Arc internally, return FooWriter and FooReader
[11:39:55] <strcat> where FooWriter can't be cloned
[11:41:00] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:41:00] <strcat> struct FooWriter { priv x: Arc<Mutex<...>> } #[deriving(Clone)] struct FooReader { priv x: ... /* same */ }
[11:41:17] <strcat> and new() -> (FooWriter, FooReader)
[11:41:29] <Havvy> Hmm, guess I'll need to do quite a lot of research.
[11:41:58] * strcat shrugs
[11:42:13] <strcat> that's basically all the code you need (beyond a clone call in new())
[11:42:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:43:05] <Havvy> I've not done anything with mutexes in other languages. ;)
[11:43:17] <strcat> it works like RefCell
[11:43:49] <strcat> but blocks until it can obtain exclusive access (mutual exclusion -> mutex)
[11:43:57] *** Quits: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[11:44:09] *** Joins: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP)
[11:44:14] <strcat> and RWLock is the same thing but allows multiple readers
[11:45:54] <Havvy> Okay, doing a bit of research, it doesn't look like too much of a burden.
[11:47:10] <Havvy> I have one function where the outside tasks can request a change in the world, so I can put the mutex lock there.
[11:47:28] *** Joins: chridou (chatzilla@moz-FE12FC96.dip0.t-ipconnect.de)
[11:48:55] <kermi> how can I compile the rust library with debugging information?
[11:49:21] <kermi> from the git repository
[11:49:27] <Havvy> -g flag
[11:49:49] <Havvy> If you mean rustc itself, I'm not sure.
[11:49:49] <kermi> make RUSTFALGS="-g"?
[11:50:05] <kermi> no only the libs not the compiler
[11:50:44] *** Joins: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[11:50:50] <Havvy> Try it and see, if it only takes a couple seconds to compile.
[11:51:25] <kermi> ok tanks!
[11:52:34] *** Quits: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[11:54:12] *** jorendorff is now known as jorendorff_away
[11:56:47] *** Quits: ManishProxy (Mibbit@48B97AED.52172DF3.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:58:58] *** Joins: kvanb (kvanb@moz-BA670ED4.lnse2.win.bigpond.net.au)
[12:00:03] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[12:00:09] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:00:16] *** Joins: eibwen (kvirc@moz-7F361249.dip0.t-ipconnect.de)
[12:00:49] *** Joins: Rym (y@51E8B582.AE72489A.8772DA20.IP)
[12:00:57] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:02:14] *** Joins: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com)
[12:03:40] *** Quits: tgkokk (user@moz-88CCC929.home.otenet.gr) (Ping timeout)
[12:03:40] *** Joins: gimpf (gimpf@moz-C29624BE.adsl.highway.telekom.at)
[12:05:16] *** Quits: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com) (Quit: Leaving)
[12:05:20] *** Joins: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[12:05:21] *** Joins: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com)
[12:05:27] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:06:27] <richo1> I might be missing something really obvious. How on earth do I actually import modules from libcollections?
[12:06:44] <strcat> richo1: you don't need to import stuff to use it
[12:06:54] <strcat> extern crate collections; collections::foo::bar()
[12:07:06] <richo1> ok, sorry. I asked how to do the thing I was trying, instead of what I wanted to actually do
[12:07:06] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:07:18] <strcat> use statements are optional for functions/modules/types
[12:07:23] <richo1> Hrmk. Do I need to tell the build system about that somehow? I'm thinking that the libcollections crate isn't actually getting build first
[12:07:29] <strcat> they just make a shortcut for a path in the current scope
[12:07:43] <richo1> (Also, do I take that to mean that I can't use anything in libcollections in libstd?)
[12:07:43] <strcat> richo1: ah, are you working on rust itself?
[12:07:49] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[12:07:51] <strcat> yeah you can't use libcollections in libstd
[12:07:56] <richo1> Yeah, I found something plausible to dig into in the issue tracker :)
[12:07:59] <richo1> Ah, right
[12:08:03] <strcat> libcollections depends on libstd, and crate deps need to be an acyclic graph
[12:08:11] <strcat> richo1: which thing do you need? a HashMap?
[12:08:17] <richo1> EnumSet
[12:08:25] <richo1> I'm looking at this: https://github.com/mozilla/rust/issues/6085
[12:08:36] <strcat> ah, EnumSet isn't really a collection anyway
[12:08:40] <strcat> imo it makes sense to move it to libstd
[12:08:50] <richo1> I can gut a very minimal implementation of EnumSet that just does the stuff it actually needs for filepermissions
[12:09:01] <richo1> since honestly it basically just needs the | and & operator and a to_uint method
[12:09:04] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:09:35] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:10:29] <strcat> richo1: well, just move the whole thing imo
[12:10:37] <strcat> it's not a collection anyway, it's the wrong place for it
[12:10:51] <richo1> ok, cool. I'll do that, make everything build and check, then open a PR
[12:11:03] <richo1> thanks for feedback btw, makes it a hell of a lot easier to get involved
[12:12:12] <richo1> Where should it actually live in libstd? just std::enum_set ?
[12:12:45] *** Quits: kermi (Mibbit@moz-F69B8202.hsi13.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[12:12:46] <strcat> yeah, something like that
[12:12:52] *** Joins: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com)
[12:13:14] <strcat> I really don't consider that a collection since there's no type of value that it stores inside
[12:13:18] *** Quits: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com) (Quit: Leaving)
[12:13:28] *** Joins: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com)
[12:13:28] <strcat> if we needed something like HashMap in libstd, I'd be for re-exporting it in libcollections (but not EnumSet)
[12:14:12] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[12:14:25] <richo1> Is there a guideline for commit messages? How verbose do I need to be about the literal "Shuffle this thing to that place" ?
[12:15:13] <strcat> richo1: the standard git way is 50 characters for the summary line, then if necessary a blank newline + N paragraphs
[12:15:15] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:15:25] <strcat> richo1: moving enum_set would be fine without any more description
[12:15:48] <richo1> awesome, thanks
[12:15:50] <strcat> if you fix a bug, adding a line like 'Closes #13253' in the extended description part will automatically close the bug when it lands
[12:15:52] <strcat> so that's nice too
[12:15:57] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[12:16:50] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[12:17:05] <richo1> One sec, better go find a power supply before this laptop sounds like a jet taking off
[12:21:00] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Input/output error)
[12:24:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[12:25:36] *** flaper87|afk is now known as flaper87
[12:25:48] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[12:26:36] *** Joins: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP)
[12:27:58] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[12:28:20] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[12:31:13] *** Quits: mye (mye@moz-AEF04E78.dip0.t-ipconnect.de) (Quit: sleep message)
[12:31:57] *** Joins: mye (mye@moz-AEF04E78.dip0.t-ipconnect.de)
[12:34:27] <Boreeas> What happened to IterBytes?
[12:34:33] *** Joins: andor (andor@moz-708868D.neferty.me)
[12:34:48] <strcat> Boreeas: removed, it was only used for hashing
[12:34:53] <strcat> and that changed
[12:35:14] <strcat> for example, on strings it would just iterate over the bytes and then place an invalid UTF-8 byte at the end
[12:35:23] <strcat> on slices it would add a length
[12:35:31] <strcat> just arbitrary stuff to make hashing work properly
[12:35:45] <richo1> strcat: https://github.com/mozilla/rust/pull/13196 I'm running make check now, but it'll be a while on this machine, and I'm assuming that if it can build stage1 it's probably ok since I just moved things around
[12:35:59] <strcat> richo1: make check-stage1 will save time
[12:36:05] <Boreeas> Damn, I used that to convert enums to ~[u8]s
[12:36:08] <richo1> good to know, thanks
[12:37:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[12:37:38] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:37:40] <strcat> rusti: 2
[12:37:41] -rusti- 2
[12:37:59] <strcat> rusti: 2
[12:38:01] -rusti- pastebinned 7 lines of output: http://ix.io/bjZ
[12:38:08] <strcat> there we go
[12:38:25] <strcat> rusti: 2
[12:38:25] -rusti- 2
[12:38:49] <eibwen> strcat: fail on '2'?
[12:39:00] <strcat> I'm improving playpen
[12:39:28] <strcat> porting it to the new cgroup api, just had to get device whitelisting working again (that's what happens when rust can't read /dev/urandom)
[12:39:35] <Boreeas> rusti: enum X { X }; (X as u8)
[12:39:35] -rusti- 0
[12:39:45] <Boreeas> rusti: enum X { X, Y }; (Y as u8)
[12:39:45] -rusti- 1
[12:41:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:43:28] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:45:28] *** Quits: ramitos (ramitos@moz-A4CCEC21.rev.vodafone.pt) (Quit: Computer has gone to sleep.)
[12:46:31] *** Joins: philix (felipe@moz-C93EBCC.user.veloxzone.com.br)
[12:47:12] <eibwen> hm funny
[12:47:19] <eibwen> rust needs /dev/urandom to work?
[12:47:33] <strcat> eibwen: yes
[12:47:33] <kimundi> hashing, random seeds
[12:47:41] <strcat> eibwen: it seeds the task-local RNG with it
[12:47:51] <strcat> and then hash tables each get a random 128-bit seed from that
[12:47:57] <strcat> for the keyed SipHash
[12:47:57] *** Quits: gimpf (gimpf@moz-C29624BE.adsl.highway.telekom.at) (Ping timeout)
[12:48:27] *** Quits: philix (felipe@moz-C93EBCC.user.veloxzone.com.br) (Ping timeout)
[12:48:28] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[12:49:34] <Boreeas> So how do I do this the best way now that IterBytes is removed: I have an enum OpCode where invariants can have different numbers of parameters, and I want to convert them to byte arrays (i.e. NOP would just be ~[0], BIPUSH(u8) would be ~[16, val]), etc.)
[12:49:51] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[12:50:10] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[12:50:43] *** Quits: IanCormac84 (User@E1064C54.2A8D8854.67DFF8B4.IP) (Ping timeout)
[12:51:17] *** Joins: IanCormac84 (User@53356E88.64D641E5.67DFF8B4.IP)
[12:53:20] <NiccosSystem> How do I cast a str to a vector of bytes? I feel so bad for not figuring it out on my own..
[12:53:38] <strcat> as_bytes()
[12:53:45] <strcat> gives &[u8]
[12:53:57] <NiccosSystem> ah.. thanks.
[12:54:21] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Client exited)
[12:55:12] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[12:55:35] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[12:55:57] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[12:58:28] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:58:30] <pha> you are one smart cookie strcat.
[12:58:35] *** Quits: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[12:58:41] * strcat eats himself
[12:58:47] <pha> heh
[12:59:39] *** jorendorff_away is now known as jorendorff
[13:00:20] *** Joins: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[13:01:37] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[13:02:00] *** Quits: richo1 (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[13:02:52] *** Joins: zq (p@moz-4C4640FD.com)
[13:03:03] <zq> what is this oxidize thing that is dragging out my rustc build times
[13:03:41] <kimundi> zq: Its just the compile and link thing itself.
[13:04:10] <zq> meh, maybe i just need --disable-docs
[13:04:55] <strcat> rusti: 2
[13:04:56] -rusti- 2
[13:06:30] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[13:06:43] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[13:06:53] <strcat> rusti: 2
[13:06:57] -rusti- pastebinned 7 lines of output: http://ix.io/bjZ
[13:07:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:07:14] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:07:44] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:07:46] <strcat> rusti: 2
[13:07:46] -rusti- playpen: GDBus.Error:org.freedesktop.DBus.Error.InvalidArgs: DeviceAllow= requires combination of rwm flags
[13:07:49] <strcat> heh
[13:07:52] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:09:14] *** Quits: StarLight (StarLight@moz-47AE1822.dynamic.avangarddsl.ru) (Ping timeout)
[13:10:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:10:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:11:32] <eibwen> strcat: what's that? :)
[13:12:00] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:12:26] <strcat> eibwen: me leaving off a comma in the python script that runs playpen
[13:12:48] <strcat> "--devices=/dev/random:r" "--" (on two lines) instead of ", "--"
[13:12:55] <strcat> so it concatenated them and screwed it up.
[13:13:03] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[13:13:04] <strcat> rusti: 2
[13:13:05] -rusti- 2
[13:13:25] *** Joins: StarLight (StarLight@moz-CD42802C.dynamic.avangarddsl.ru)
[13:13:42] <strcat> eibwen: https://github.com/thestinger/playpen/commit/72a5fa27afb77f8c91df0e7cc56af60086695a1d
[13:14:11] <strcat> had to do it soon because the linux kernel is changing the API soon...
[13:14:30] *** Joins: richo (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[13:14:33] <strcat> anyway playpen will be more robust than before and gains a few features
[13:15:00] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[13:15:00] <richo> Urgh. This connection sucks. Any ideas why I'm only seeing this error after I move enum_set to std? I just tried it on master and it works fine there.
[13:15:25] <richo> https://gist.github.com/9854311
[13:15:28] <richo> Error, if it helps
[13:16:44] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[13:16:55] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Ping timeout)
[13:17:37] <strcat> eibwen: http://sprunge.us/TjZN shiny ;p
[13:19:29] *** Joins: asmyers (quassel@moz-558DA12F.hrbgpa.fios.verizon.net)
[13:19:38] <kimundi> richo: In std, you need to import iter::Iterator
[13:19:53] <kimundi> richo: In other crates, that is in the prelude.
[13:20:14] <strcat> I think all but the timeout works properly now
[13:20:19] <strcat> rusti: fn foo() { loop {} } foo()
[13:20:24] -rusti- playpen: timeout triggered!
[13:20:33] <strcat> meh that wors
[13:20:35] <strcat> works*
[13:20:49] *** Quits: Ferreus (ferreus@moz-55214CDB.lsn.wtnet.de) (Ping timeout)
[13:20:49] <richo> kimundi: I have brought it in
[13:20:55] *** Quits: mye (mye@moz-AEF04E78.dip0.t-ipconnect.de) (Quit: sleep message)
[13:21:20] *** Joins: Ferreus (ferreus@moz-55214CDB.lsn.wtnet.de)
[13:21:20] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:21:21] <kimundi> richo: Then it should work.
[13:21:27] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[13:21:27] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Client exited)
[13:22:21] <richo> it's not that it can't find Iterator, it's that it doesn't seem to see all the implemented traits; I think
[13:23:18] <richo> could it be because I'm referencing it as super::iter::Iterator instead of just iter::Iterator?
[13:23:52] *** Joins: mye (mye@moz-AEF04E78.dip0.t-ipconnect.de)
[13:23:56] <kimundi> richo: collect() is a method defined on Iterator. The Iterator trait needs to be in scope in oprder to call its methods.
[13:24:06] <kimundi> so, you need to add a "use iter::Iterator"
[13:24:13] <richo> well, that's already there
[13:24:16] <richo> and Iterator resolves
[13:24:22] <richo> https://github.com/mozilla/rust/pull/13196/files
[13:24:24] <richo> That's the code in question
[13:24:40] <richo> and it tests fine when the same module was in libcollections
[13:24:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:24:49] <richo> oh, wait maybe I see
[13:24:56] <richo> yeah. Sorry, I didn't understand you
[13:25:25] <kimundi> richo: collect() is only used in the test module. YOu need to import it there too
[13:25:34] <richo> yeah, I just worked that out
[13:25:40] <richo> sorry for being a bit thick :)
[13:26:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[13:29:28] *** Joins: cschneid (cschneid@moz-2EF64966.hlrn.qwest.net)
[13:30:26] *** jorendorff is now known as jorendorff_away
[13:30:31] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[13:30:36] *** Quits: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[13:30:48] *** Joins: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net)
[13:31:39] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[13:31:44] *** Quits: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com) (Ping timeout)
[13:33:55] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[13:35:14] *** Joins: Ferreus_ (ferreus@moz-55214CDB.lsn.wtnet.de)
[13:36:08] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[13:36:43] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[13:41:04] *** Quits: alkino_ (alkino@moz-B4A66306.w92-151.abo.wanadoo.fr) (Ping timeout)
[13:41:52] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[13:41:52] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[13:42:17] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[13:42:20] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[13:42:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:43:26] *** Joins: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net)
[13:44:18] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:45:06] *** Quits: Ferreus (ferreus@moz-55214CDB.lsn.wtnet.de) (Ping timeout)
[13:47:19] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:47:28] *** Joins: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net)
[13:47:51] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[13:49:27] *** Joins: fyolnish (fyolnish@moz-7267EEB4.uqwimax.jp)
[13:49:54] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[13:50:31] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[13:50:42] *** Quits: cschneid (cschneid@moz-2EF64966.hlrn.qwest.net) (Client exited)
[13:54:53] *** Quits: Ferreus_ (ferreus@moz-55214CDB.lsn.wtnet.de) (Ping timeout)
[13:55:12] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[13:57:26] <mgax> is there something similar to `println!` that writes to stderr?
[13:57:32] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[13:58:04] *** Joins: Jesin (Jesin@moz-3DB1649E.dc.dc.cox.net)
[13:58:13] *** Quits: Jesin (Jesin@moz-3DB1649E.dc.dc.cox.net) (Quit: Leaving)
[13:58:30] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[13:59:51] *** Quits: Rym (y@51E8B582.AE72489A.8772DA20.IP) (Ping timeout)
[14:00:20] <kimundi> mgax: There is write!, which takes a writers as first argument, and can probably be used in combination with stderr
[14:01:26] *** Joins: bytbox (s@460BF35B.10A53EE3.77834EAA.IP)
[14:02:00] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[14:02:26] *** Quits: richo (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[14:02:29] *** Quits: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de) (Quit: Leaving.)
[14:02:51] *** Joins: mib_l9zntr (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[14:03:50] *** Joins: alkino_ (alkino@moz-B4A66306.w92-151.abo.wanadoo.fr)
[14:04:20] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[14:05:23] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Quit: WeeChat 0.4.3)
[14:05:35] *** Joins: richo (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[14:06:58] *** Quits: mib_l9zntr (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:08:38] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[14:10:25] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:10:45] *** Joins: xiongmao86 (xiongmao86@8362EC2D.7E209C46.F44582AE.IP)
[14:10:51] *** Joins: Boscop (me@moz-97944EEF.stw.stud.uni-saarland.de)
[14:11:33] *** Joins: philix (felipe@moz-C93EBCC.user.veloxzone.com.br)
[14:12:08] *** Quits: xiongmao86 (xiongmao86@8362EC2D.7E209C46.F44582AE.IP) (Quit: )
[14:12:11] *** Joins: WalrusPony (retep998@moz-530D0BB2.dhcp.oxfr.ma.charter.com)
[14:12:58] *** Quits: WalrusPony1 (retep998@moz-9F58AA44.bstnma.east.verizon.net) (Ping timeout)
[14:13:52] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[14:13:58] *** Quits: richo (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[14:15:43] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[14:16:28] *** Quits: philix (felipe@moz-C93EBCC.user.veloxzone.com.br) (Ping timeout)
[14:17:19] <mgax> kimundi, what do i pass in as first argument? std::io::stdio::stderr() or stderr_raw() seem to return the wrong type
[14:17:27] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[14:18:02] <NiccosSystem> Is there a way to have '{'s in a format string?
[14:18:19] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[14:18:19] <strcat> NiccosSystem: \\{
[14:18:25] <NiccosSystem> Ah, thanks
[14:18:27] <strcat> or use a raw string and \{
[14:18:40] <strcat> rusti: 2
[14:18:41] -rusti- 2
[14:19:17] <kaeso> can I split the impl a for b {} block for the same struct and trait across several files?
[14:19:24] <NiccosSystem> \\{ nor \{ works it seems?
[14:19:39] <strcat> rusti: format!("\\{")
[14:19:39] -rusti- {
[14:19:46] <strcat> rusti: format!(r"\{")
[14:19:47] -rusti- {
[14:19:53] <NiccosSystem> hm
[14:20:02] <strcat> rusti: version
[14:20:03] -rusti- rustc 0.10-pre (6bf3fca 2014-03-24 18:11:51 -0700)
[14:20:13] *** Joins: Ferreus (ferreus@moz-55214CDB.lsn.wtnet.de)
[14:21:57] <Tobba> interesting
[14:22:09] <Tobba> using BufferedWriter on stdio brought my application down from 43 seconds to 8 seconds
[14:22:11] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[14:22:28] *** Quits: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net) (Quit: )
[14:23:46] <kimundi> mgax: Apparently at least the first one ought to work.
[14:24:34] <kimundi> mgax: Maybe you need to cast it to a trait object first: `as &mut ::std::io::Writer`
[14:24:45] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:25:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[14:25:42] <Tobba> either I'm doing something wrong or BufferedWriter is messed up though
[14:25:45] *** Joins: richo (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[14:25:52] <Tobba> lines in the output are getting out of order
[14:25:53] <mgax> kimundi, now it complains like so: error: can only cast an &-pointer to an &-object, not a struct std::io::buffered::LineBufferedWriter
[14:26:10] <kimundi> mgax: Ah, need to make a &mut to that first
[14:26:30] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[14:26:31] <kimundi> `&mut ::std::io::stderr() as &mut ::std::io::Writer`
[14:27:01] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[14:27:08] *** Joins: philix (felipe@moz-CAD46691.user.veloxzone.com.br)
[14:27:14] <kimundi> (If that works, we can work on making it shorter :P)
[14:27:19] <mgax> kimundi, it does
[14:27:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[14:28:06] <mgax> but it doesn't accept arguments like `format!`, does it?
[14:28:19] <kimundi> mgax: It does work exactly the same
[14:28:38] <kimundi> writeln!(writer, "foo {} {}", "bar", 56);
[14:28:40] *** Quits: pha (pha@moz-7394714F.uddi.cable.virginm.net) (Quit: Rod error: Errection reset by queer)
[14:28:41] <mgax> oh, my bad
[14:28:44] <mgax> i had mistyped
[14:28:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:28:53] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:29:01] <strcat> rusti: version
[14:29:02] -rusti- rustc 0.10-pre (6bf3fca 2014-03-24 18:11:51 -0700)
[14:29:05] *** Joins: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net)
[14:29:41] <kimundi> rusti: writeln!(&mut std::io::stdout() as &mut Writer, "test");
[14:29:44] -rusti- pastebinned 9 lines of output: http://ix.io/bk7
[14:32:43] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[14:33:49] <mgax> kimundi, thanks a bunch :)
[14:35:55] <richo> Is there some way to lookup enum variants by value?
[14:35:59] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[14:36:31] <richo> basically, I'm trying to write a reasonable implementation for from_uint in here https://gist.github.com/richo/9855613
[14:36:56] <richo> That doesn't just have the whole enum body copypasted into a match expression. ( I guess I coud write a macro, but that seems icky)
[14:37:44] <dwrensha> #[deriving(FromPrimitive)]
[14:38:21] <dwrensha> richo: put this ^ in front of your enum def
[14:38:38] <richo> Will that actually satisfy the constraint? I think Hash on EnumSet wants me to implement CLike
[14:39:06] <richo> actually, can I just #[deriving(CLike)] and then magic happens?
[14:39:56] <richo> lol. Ok, the error messages are getting very C++ on me. Should I just open issues on the tracker for insane things that rustc emits?
[14:42:02] <dwrensha> richo: I added a comment to the gist
[14:42:31] <richo> Ah, thanks!
[14:42:43] <richo> my comments were more about rustc doing absurd things when num isn't in the prelude
[14:43:06] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[14:43:06] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[14:43:15] <richo> basically the error messsage was "num isn't in scope, and that's an error, but this file doesn't actually mention num, so I can't tell you what you're doing wrong"
[14:43:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:43:36] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[14:43:43] <richo> actually, even if I use num::FromPrimitive; it still barfs
[14:43:44] <richo> heh
[14:43:56] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[14:44:18] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Client exited)
[14:44:45] <dwrensha> what about std::num::FromPrimitive?
[14:45:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:45:26] <richo> Can't even resolve the import then
[14:45:37] <dwrensha> then add "use std;"
[14:45:59] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[14:46:03] *** Quits: alkino_ (alkino@moz-B4A66306.w92-151.abo.wanadoo.fr) (Ping timeout)
[14:46:30] <richo> Oh, I think I know what the issue is
[14:46:32] <kimundi> Are you inside our outside std? And are we talking about a "use" import line or usage in code here?
[14:46:32] <richo> sorry, my bad
[14:46:45] <richo> oh, narp
[14:46:52] <richo> and yeah, sorry I forgot to mention I'm working on std
[14:47:19] <richo> so basically, rustc doesn't seem to like the look of #[deriving(num::FromPrimitive)]
[14:47:32] <richo> so I'm trying to use num::FromPrimitive to pull FromPrimitive into local scope
[14:47:39] <richo> (the error message references the :: specifically)
[14:47:41] <kimundi> richo: Yeah, deriving is hardcoded to fixed paths and names
[14:47:50] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[14:47:55] <kimundi> #[deriving(FromPrimitive)] is the only valid way
[14:48:21] <richo> but also, I think I may have gone too far trying to use this hammer
[14:48:25] <kimundi> And if it barfs that the generated code doesn't find it, you need to add something to the reexport "std" module inside of std.
[14:48:46] <richo> are enums basically the rust version of haskell's data types?
[14:48:49] *** Joins: darkf (darkf@moz-F9058B8A.net)
[14:49:02] <richo> I think even if I make this work, it won't work with the implementation I had in mind because the EnumSet's are not constant
[14:49:15] <kimundi> richo: Well both are algebraic data types, so yes in a sense.
[14:49:43] <richo> hang on, let me gist this
[14:49:48] <richo> because it'll be easier than trying to explain
[14:50:30] <richo> argh, damn gist-vim
[14:50:34] <richo> anyway
[14:50:38] <richo> https://gist.github.com/richo/9855613 now points to new data
[14:51:01] <richo> (I originally did it all inline, but after some other enum-related fiddling I did the other day with bounded vectors, I thought it might let me get away with this)
[14:51:34] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[14:52:29] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[14:52:31] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[14:53:21] <kimundi> richo: Well, you can't call functions for initializing statics.
[14:54:28] <richo> Ah, ok. I can fix that pretty easy I think
[14:54:33] <kimundi> I think you'd need to write this using integer constants, maybe with a nice macro to make it more DRY
[14:54:41] *** Quits: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP) (Quit: mno2)
[14:55:01] <richo> Well the idea behind these changes are to hide the integer constants to some degree
[14:55:09] <kimundi> Of course, if you can just construct a EnumSet literal there, that would work too.
[14:55:13] <richo> but data constructors are valid for statics right?
[14:55:18] <richo> yeah, exactly.
[14:55:31] <richo> which is better anyway because I think then I can make them properly immutable
[14:55:31] <kimundi> Yes, if they don't contain things like heap allocations or so.
[14:55:48] <richo> right now you could UserWrite.add(OtherWrite)
[14:56:00] <richo> and then have everything that program created be writable by everyone :/
[14:56:17] <richo> (Which you know. Lols, but probably not ideal)
[14:56:24] <kimundi> Not really, if this would work, the static would still only allow you to call &self methods.
[14:56:41] <kimundi> would need a static mut to actually change the constants.
[14:56:47] <richo> yeah, but add is defined on EnumSet so it'd let you, right?
[14:56:49] <richo> oh, I see
[14:56:52] <richo> not &mut self methods
[14:57:10] <kimundi> correct
[14:57:15] <richo> Sorry, while I've been keeping an eye on rust for a while now, I only really picked it up in earnest tonight
[14:57:28] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[14:57:29] <kimundi> You are forgiven then ;)
[14:59:04] *** Joins: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP)
[14:59:39] *** Joins: Ferreus_ (ferreus@moz-55214CDB.lsn.wtnet.de)
[15:01:06] *** Quits: blehtm (chatzilla@moz-4D8177E2.rochester.res.rr.com) (Ping timeout)
[15:01:11] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[15:01:25] *** Quits: Ferreus_ (ferreus@moz-55214CDB.lsn.wtnet.de) (Ping timeout)
[15:03:56] <richo> Hrm. It still seems upset about the literal. I'm assuming that by "EnumSet literal" you meant something like enum FilePermissionFlag {
[15:03:58] <richo>     UserRead     = EnumSet { bits: 0x100 },
[15:04:58] *** Quits: Ferreus (ferreus@moz-55214CDB.lsn.wtnet.de) (Ping timeout)
[15:05:03] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:05:46] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[15:06:01] <kimundi> Yeah, assuming that's actually how EnumSet is defined, that ought to work.
[15:06:16] <kimundi> wait
[15:06:23] *** Joins: blehtm (chatzilla@moz-4D8177E2.rochester.res.rr.com)
[15:06:41] <kimundi> enum variant initialization with = only works for integers
[15:06:47] <richo> Doesn't care for it, but I think this is similar to what I ran into the other night as far as contexts that enums are valid/what you can put in them.
[15:06:54] <richo> There's another way to init variants?
[15:07:17] <kimundi> richo: Could you paste the full code where that line is from?
[15:07:21] <richo> Sure
[15:07:38] <richo> I think this will just update that same gist again
[15:07:59] <richo> Scroll right to the bottom
[15:08:45] <richo> And for the definition of EnumSet you can have a look at https://github.com/mozilla/rust/pull/13196/files but I didn't change any implementation details, just the location
[15:08:50] *** Quits: philix (felipe@moz-CAD46691.user.veloxzone.com.br) (Ping timeout)
[15:09:36] <kimundi> thx
[15:10:35] <kimundi> Okay, so, this doesn'T work because the bits field is private, which means outside of the EnumSet module you can't construct it like this. which means you can not construct a static of it in general.
[15:10:56] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:10:56] *** ChanServ sets mode: +o jdm
[15:11:01] *** Quits: goffrie (goffrie@moz-25251DC3.dsl.ncf.ca) (Ping timeout)
[15:11:04] <richo> ah, ok
[15:11:05] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:11:13] *** Quits: richo (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Input/output error)
[15:11:17] *** Joins: goffrie (goffrie@moz-A7232E8.dsl.ncf.ca)
[15:11:28] *** Joins: richo (richo@moz-6FF069D0.pa.vic.optusnet.com.au)
[15:11:34] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[15:11:38] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[15:11:45] <richo> It'd be nice if the compiler mentioned that >.<
[15:11:53] *** Joins: dylanb (dylanb@88FAD3E8.E28B471B.BEB97BB0.IP)
[15:11:53] <richo> Also, it throws the same error if bits isn't private
[15:12:00] <richo> (or do I need to make it explicitly pub? )
[15:12:22] <kimundi> which error?
[15:12:37] <richo> /Users/richo/code/ext/rust/src/libstd/io/mod.rs:1472:20: 1472:43 error: mismatched types: expected `<generic integer #0>` but found `enum_set::EnumSet<<generic #0>>` (expected integral variable but found struct enum_set::EnumSet)
[15:12:50] <richo> It seems pretty hellbent on getting an integral variable as the initializer
[15:13:06] *** Joins: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP)
[15:13:20] <richo> I guess I could get right down in the dirt and just use phantom types as the enum variants
[15:13:30] <kimundi> Ah, didn't look at the code a 1470, only below
[15:13:35] <kimundi> That won'T work in general
[15:13:38] <richo> and then convert them into the uint modes when they're actually used
[15:13:41] <richo> I might have a stab at that
[15:13:54] <richo> orly? I got the impression from the FAQ that it would
[15:14:07] *** Quits: mye (mye@moz-AEF04E78.dip0.t-ipconnect.de) (Quit: So long, and thanks for all the fish!)
[15:14:10] <richo> insofar as using Tuple types as variants
[15:14:33] <nightpool> Where did the things that used to be in std::vec go? Specifically, I'm looking for std::vec::build()
[15:14:36] <richo> It does seem rather unsavoury though
[15:14:54] <kimundi> You can not set variant discriminants of a c-like enum with arbitrary types, you can only specify the discriminant with a integer literal.
[15:15:03] *** Joins: vvde (user@A43B0C.55F69189.FD99A9CE.IP)
[15:15:18] <kimundi> richo: tuple variants are something different than what you wrote there
[15:15:24] *** Joins: gimpf (gimpf@moz-3924DB42.adsl.highway.telekom.at)
[15:15:49] <richo> Oh, yeah I see what you mean now
[15:15:56] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:16:00] <richo> I feel like I could probably make this work with enough type system abuse
[15:16:07] <richo> but I agree that it's not a Good Idea
[15:16:27] <richo> eg, create a bunch of phantom types to use as the innards of tuple variants
[15:16:28] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:16:32] <richo> then match on the tuple variants
[15:16:34] <richo> but, ew.
[15:17:49] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[15:18:03] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:18:14] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[15:18:20] <kimundi> richo: You can just set the variants of FilePermissionFlag directly to those values, and then turn `pub static UserRWX` into `pub fn userRWX() -> EnumSet<FilePErmissionFlag>`
[15:19:00] <kimundi> richo: If you put a #[inline] on it, it wouldn't make a difference in practice, except that you can't use a it as a single constant.
[15:19:02] <richo> the values themselves should be indiviually usable though
[15:19:25] <richo> the idea being tha tyou can io::mkdir(~"path", UserRead | UserWrite)
[15:19:42] <kimundi> Hm...
[15:19:45] <richo> (Which you can currently do, but the fact that they're all uints under the hood leaks through and gets C all over everything)
[15:19:51] *** Quits: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP) (Quit: Leaving...)
[15:19:54] *** Quits: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net) (Ping timeout)
[15:20:25] <richo> Actually, I might go back to the other thing I wanted to implement in core
[15:20:29] *** Joins: Rym (y@D6017974.57AE353C.8772DA20.IP)
[15:20:30] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[15:20:41] <richo> (Being able to get the cardinality of an enum at compile time)
[15:20:48] <kimundi> The only option I can see is turning EnumSet into a trait, and have a custom implementation of it for this. Then you could write a static literal.
[15:21:33] <richo> That would also work. This not being very generic isn't really an issue, since a bit part of this is basically making sure that FilePermissions are a single well contained type
[15:21:46] <richo> so that you can only pass sane permissions to functions that want them, instead of random, potentially meaningless uints
[15:21:56] <richo> s/bit/big/
[15:22:40] <kimundi> yeah
[15:22:42] *** Joins: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de)
[15:24:40] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[15:24:50] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[15:24:55] <kimundi> If you give up on file permissions using EnumSet, it probably becomes easier.
[15:25:07] <richo> I was basically going off some feedback in the issue tracker
[15:25:16] <richo> but yeah, I'm going to do some misc fiddling to see what works
[15:26:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[15:26:17] <dylanb> Is freestanding code supposed to have references __morestack?
[15:26:24] <dylanb> *references to
[15:26:53] *** Joins: abustany (abustany@moz-C0C970CD.org)
[15:27:22] <strcat> dylanb: you can't yet use rustc's backend if you want to avoid it
[15:27:35] <strcat> https://github.com/thestinger/rust-core there's documentation on how to avoid it there
[15:27:36] <richo> kimundi: Thanks for all your help. I should probably sleep and pack, flight in 36 hours.
[15:27:45] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[15:27:45] <richo> I'm sure I'll be back with more questions though at some point soon :)
[15:27:50] <strcat> + other problems you will run into with memcpy, etc.
[15:27:59] <kimundi> heh, sure :)
[15:28:16] *** Joins: philix (felipe@moz-CAD46691.user.veloxzone.com.br)
[15:28:19] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:28:27] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[15:29:35] *** Joins: sw17ch (sw17ch@moz-4AF0345C.hfc.comcastbusiness.net)
[15:29:52] <dylanb> ah, ok. Thanks
[15:30:05] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:30:30] *** Quits: patpat (patpat@moz-21619C28.as13285.net) (Ping timeout)
[15:30:53] *** Joins: rootnode (rootnode@moz-1E070367.pools.arcor-ip.net)
[15:31:08] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[15:33:10] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[15:33:40] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[15:34:37] *** Quits: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP) (Ping timeout)
[15:34:51] *** Quits: rootnode (rootnode@moz-1E070367.pools.arcor-ip.net) (Ping timeout)
[15:35:30] *** Joins: rootnode (rootnode@moz-7F192013.pools.arcor-ip.net)
[15:35:58] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:36:25] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[15:36:47] *** Joins: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com)
[15:37:24] *** Quits: philix (felipe@moz-CAD46691.user.veloxzone.com.br) (Ping timeout)
[15:37:49] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[15:37:59] *** Joins: patpat (patpat@moz-21619C28.as13285.net)
[15:38:34] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[15:39:30] *** Joins: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP)
[15:39:32] *** Joins: abustany (abustany@moz-C0C970CD.org)
[15:40:36] <dylanb> did --emit-llvm change?
[15:42:06] <kimundi> Yes afaik, but I don'T know to what
[15:42:07] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[15:42:21] <jdm> --emit=something, I believe
[15:43:04] *** Quits: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP) (Ping timeout)
[15:43:34] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[15:44:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:44:17] <dylanb> oh, "--emit=[asm,ir,bc,obj,link]" bc/ir I guess
[15:45:51] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:46:58] *** Joins: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP)
[15:47:43] *** Joins: andor (andor@moz-708868D.neferty.me)
[15:48:20] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[15:49:55] *** Quits: untitaker (untitaker@moz-9EB87587.adsl.highway.telekom.at) (Ping timeout)
[15:50:06] *** Quits: richo (richo@moz-6FF069D0.pa.vic.optusnet.com.au) (Ping timeout)
[15:51:26] *** Joins: philix (felipe@moz-CAD46691.user.veloxzone.com.br)
[15:53:08] *** Quits: asmyers (quassel@moz-558DA12F.hrbgpa.fios.verizon.net) (Ping timeout)
[15:54:23] *** Joins: fyolnish_ (fyolnish@moz-5F64052D.panda-world.ne.jp)
[15:54:43] *** Quits: fyolnish (fyolnish@moz-7267EEB4.uqwimax.jp) (Ping timeout)
[15:55:26] *** Quits: philix (felipe@moz-CAD46691.user.veloxzone.com.br) (Ping timeout)
[15:55:58] *** Quits: gimpf (gimpf@moz-3924DB42.adsl.highway.telekom.at) (Quit: Leaving.)
[15:57:38] *** Joins: untitaker (untitaker@moz-39172873.adsl.highway.telekom.at)
[15:59:30] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[15:59:51] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[16:00:03] *** Joins: tavoe (tavoe@moz-8143E949.cable.mindspring.com)
[16:00:42] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[16:00:56] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[16:01:17] *** Joins: andrezs (andrezs@moz-D75B94E4.carolina.res.rr.com)
[16:01:31] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[16:05:34] <dylanb> is there pointer arithmatic for unsafe pointers, or will it just add however many bytes onto the pointer?
[16:06:55] <kimundi> dylanb: There are intrinsics for pointer arithmetic.
[16:08:13] *** Joins: gamakichi (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[16:08:33] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[16:09:24] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[16:09:36] <dylanb> but if I have 'mut a : *int = 0x12345;', a+5 wont be 0x12345+sizeof(int)*5?
[16:10:16] <kimundi> dylanb: + is not implmented for raw pointers
[16:10:35] <dylanb> do I just cast them to ints then?
[16:10:46] *** Joins: cschneid (cschneid@moz-2EF64966.hlrn.qwest.net)
[16:10:49] <dylanb> *uint
[16:11:14] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:11:26] <kimundi> dylanb: You can cast a raw pointer to a int, but that will be more imperformant and unsafe than using the proper intrinsics.
[16:11:45] <kimundi> (well, its not unsafe unless you cast back)
[16:13:52] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[16:14:03] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[16:14:21] *** Quits: gamakichi (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:15:02] <strcat> dylanb: use the offset method
[16:15:22] *** Quits: tavoe (tavoe@moz-8143E949.cable.mindspring.com) (Quit: Leaving)
[16:15:36] <bvssvni> wycats: ping
[16:16:57] <dylanb> Yeh, I'm just reading through the docs for it now. Will it just offset it by the number of bytes passed in, or offset*sizeof(T) ?
[16:17:18] <strcat> dylanb: the latter
[16:17:40] <dylanb> ok, thanks
[16:17:44] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[16:17:56] <strcat> copy_memory, copy_nonoverlapping_memory and set_memory work the same way
[16:22:27] *** Joins: tgkokk (user@moz-88CCC929.home.otenet.gr)
[16:23:17] *** Joins: khodzha1 (khodzha@8D462FD7.EF9FA30D.CA6E2165.IP)
[16:23:39] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:24:12] *** Quits: khodzha (khodzha@D687A185.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:25:22] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[16:25:49] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[16:25:49] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[16:25:54] *** Joins: fyolnish (fyolnish@moz-803A835C.uqwimax.jp)
[16:26:42] <bvssvni> have somebody tried to upgrade Cargo to master?
[16:26:43] *** Quits: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de) (Quit: Leaving.)
[16:26:48] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[16:27:03] *** Quits: fyolnish_ (fyolnish@moz-5F64052D.panda-world.ne.jp) (Ping timeout)
[16:28:10] <bvssvni> since I can't compile it, it is hard to test it and give feedback
[16:28:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[16:28:39] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[16:28:44] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[16:28:59] <japaric> could someone confirm that the layout of the constant `UserDir` looks wrong compared to others (e.g. `UserFile`) in the http://static.rust-lang.org/doc/master/std/io/index.html docs? I see this: http://i.imgur.com/Pt2SZyV.png
[16:30:48] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[16:31:01] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:31:16] <bvssvni> I've opened an issue on Cargo
[16:31:52] *** Joins: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl)
[16:31:55] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[16:32:27] *** Joins: mr_wibble (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[16:33:23] *** Quits: mr_wibble (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:33:44] <bvssvni> japaric: confirmed
[16:35:20] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:35:35] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:36:10] <japaric> bvssvni: thanks, I think I know the reason, I'll report the issue
[16:37:14] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:37:36] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[16:39:03] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[16:39:34] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:40:30] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Ping timeout)
[16:41:38] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[16:41:57] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:42:15] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[16:42:16] <bvssvni> is the target/ directory in Cargo like the build/ directory under rustpkg?
[16:42:21] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[16:42:33] <o11c> bvssvni: pretty much
[16:43:06] <o11c> I never used rustpkg so I don't know if it's exactly the same or has a different internal structure
[16:43:09] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[16:43:38] <bvssvni> it looks pretty much the same, except for the extra lib/ directory it seems
[16:43:40] *** Joins: shubhaml (shubham@102712D1.C15BC1FD.249488B6.IP)
[16:44:15] <bvssvni> some things that confused me:
[16:44:30] <bvssvni> bin/<app>.rs for executables
[16:44:51] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:44:54] <bvssvni> the bin/ directory is often used for the built binaries for that specific platform
[16:45:06] <bvssvni> this is used under rustpkg and Visual Studio
[16:45:27] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[16:45:48] <bvssvni> I know it is bad to have the same src folder for both library and executable
[16:46:06] <bvssvni> but still...
[16:46:17] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[16:46:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:47:37] <bvssvni> I wonder if a workspace structure with submodules would be better
[16:47:49] <bvssvni> to avoid recursive depth among dependencies
[16:48:35] <bvssvni> if project A depends on project B and both A and B depends on C, will there be two copies of C?
[16:50:00] <bvssvni> Visual Studio solves this by having a flat structure
[16:50:02] <eddyb> bvssvni: well, it depends
[16:50:28] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:50:51] <eddyb> I've seen npm.js (which generally has a recursive structure) use the same directory for C when both A and B depend on the same version
[16:51:12] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:51:34] <eddyb> bvssvni: this is actually very important in that JS monkeypatch land when both A and B extend C's functionality
[16:51:53] *** Joins: rcxdude (rcxdude@moz-C1B0669A.range109-145.btcentralplus.com)
[16:52:01] <eddyb> bvssvni: you could argue something similar in Rust, wrt binary duplication
[16:52:03] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:53:01] <bvssvni> well I am trying to picture things that work, not suggesting I know better than the Cargo devs
[16:53:43] <bvssvni> but right now Cargo breaks, and there are no build instructions in the README
[16:54:04] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[16:54:15] *** Joins: darkf (darkf@moz-F9058B8A.net)
[16:54:20] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Quit: leaving)
[16:54:44] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[16:55:24] *** Joins: AncientPC (AncientPC@moz-B19BCE71.austin.res.rr.com)
[16:56:58] <AncientPC> Quick question, what goes in ___ for this code (or is it even possible?): fn foo() -> ___ { if flag { return Bar() } else { return Baz() } }
[16:57:18] <AncientPC> In an OOP language it'd have to be a parent class of Bar and Baz. In Haskell it'd be a typeclass.
[16:57:39] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[16:57:47] <bvssvni> AncientPC: return Bar() as ~Parent, return Baz() as ~Parent ?
[16:58:19] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[16:58:42] <bvssvni> I opened two issues on Cargo and hope this gets fixed soon
[16:58:56] <AncientPC> bvssvni: ahh I forgot that Rust added subclassing recently.
[16:59:28] <eddyb> AncientPC: nope
[16:59:37] <kimundi> AncientPC: I hasn't. :P
[16:59:41] <bvssvni> haha
[16:59:50] <eddyb> AncientPC: bvssvni's example is about a trait object
[16:59:59] <eddyb> AncientPC: Bar and Baz sound like enum variants to me
[17:00:30] <bvssvni> AncientPC: if you can, use enums, because it will be cloneable
[17:00:39] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[17:00:58] <kimundi> Use a enum if its a closed set of possible values, use a trait object if its a open set of possible values.
[17:01:10] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[17:01:10] *** Quits: tgkokk (user@moz-88CCC929.home.otenet.gr) (Ping timeout)
[17:01:31] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[17:01:55] <eddyb> bvssvni: that's one of the wrongest reasons I heard for using enums XD
[17:02:07] *** Joins: fyolnish_ (fyolnish@moz-803A835C.uqwimax.jp)
[17:02:26] <bvssvni> eddyb: ok, explain :P
[17:02:33] *** Quits: fyolnish_ (fyolnish@moz-803A835C.uqwimax.jp) (No route to host)
[17:02:37] *** Joins: fyolnish_ (fyolnish@moz-803A835C.uqwimax.jp)
[17:02:37] <AncientPC> alright thanks guys
[17:02:40] <o11c> still, use enums ... but because it has better memory behavior
[17:02:41] *** Quits: fyolnish (fyolnish@moz-803A835C.uqwimax.jp) (Ping timeout)
[17:02:45] <o11c> also, matchable
[17:03:19] *** Quits: jaredly (Mibbit@moz-77F5D920.byu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[17:03:29] <bvssvni> eddyb: it's true, isn't it?
[17:04:10] <kimundi> bvssvni: Neither true or false
[17:04:19] <bvssvni> how so?
[17:04:31] *** Quits: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[17:04:45] <o11c> bvssvni: it's FileNotFound obviously ...
[17:04:53] <kimundi> You can implement clone for a trait object, and you can not-implement clone for a enum
[17:05:19] <bvssvni> kimundi: and how would you implement clone for a trait object that actually works?
[17:05:49] <bvssvni> :D
[17:05:51] *** Joins: asmyers (quassel@moz-9C9C7CA5.hrbgpa.east.verizon.net)
[17:05:57] <kimundi> Whether the trait object provides enough methods to usefully write a clone impl is another story, but its certainly not true in general.
[17:07:05] <bvssvni> kimundi: yeah, it's not true in general
[17:07:12] <bvssvni> but it's not obvious
[17:07:43] *** Quits: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com) (Ping timeout)
[17:07:46] *** Quits: Kxepal (Miranda@moz-E12B707E.pppoe.mtu-net.ru) (Ping timeout)
[17:08:07] *** Joins: philix (felipe@moz-CAD46691.user.veloxzone.com.br)
[17:08:44] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[17:09:01] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:11:28] *** Joins: Kxepal (Miranda@moz-6DDBE711.pppoe.mtu-net.ru)
[17:11:40] *** Joins: bpicolo (Mibbit@moz-17A9D4D3.dsl.snfc21.pacbell.net)
[17:11:44] <bpicolo> Hi rust
[17:12:16] <bpicolo> So, I'm having a little trouble with something simple, can't really find the right answer.
[17:12:22] <Armavica> Hi bpicolo
[17:12:27] *** Joins: tobytailor (tobytailor@moz-2C803B2F.tmodns.net)
[17:12:34] <bpicolo> say I have file1.rs and main.rs in one directory. How do I "include" structs from file1.rs?
[17:12:47] <bpicolo> And does it require additional compilation flags?
[17:13:11] <JustAPerson> bpicolo: add "mod file1" to top of main.rs
[17:13:33] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[17:13:35] <JustAPerson> the structs in file1.rs must have the "pub" modifier I believe
[17:13:55] <bpicolo> the mod must be what I'm missing
[17:14:24] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[17:14:52] <bpicolo> Do crates somehow generate mods by themselves? I'm looking at a external crate I'm using and it doesn't really appear to use mod anywhere
[17:15:39] <eddyb> bpicolo: where exactly are you looking?
[17:15:51] <bpicolo> rust-postgres
[17:16:02] <eddyb> bpicolo: I mean, binaries, source, what kind of files?
[17:16:03] <bpicolo> https://github.com/sfackler/rust-postgres
[17:16:06] <bpicolo> Source
[17:16:07] <bpicolo> yeah
[17:16:29] *** Joins: robhobbes (robert@moz-9B3FF613.slc.googlefiber.net)
[17:16:32] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:16:54] <dylanb> bpicolo, there are mod statements in lib.rs
[17:16:57] <eddyb> bpicolo: https://github.com/sfackler/rust-postgres/tree/master/src
[17:17:05] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:18:36] <robhobbes> So I read "The only way to access the contents of an enum instance is the destructuring of a match." Is there some way to match each enum if you want to do the same thing with each type under certain circumstances (e.g. match { Any(x) => // do something with x })?
[17:18:38] <o11c> bpicolo: if you are confused by 'mod', you're not alone
[17:18:51] <bpicolo> Aha, they were hiding from me eddyb, thanks
[17:18:51] <o11c> robhobbes: |
[17:18:59] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[17:19:06] <bpicolo> o11c: Rust has a lot of getting used to so far. 
[17:19:09] <robhobbes> o11c: What?
[17:19:11] <bpicolo> But I'm excited to try it
[17:19:15] *** Quits: philix (felipe@moz-CAD46691.user.veloxzone.com.br) (Ping timeout)
[17:19:32] <bpicolo> Just to clarify, as a quick google seemed to confirm, method chaining is supported in rust yes?
[17:19:52] <o11c> robhobbes: you can match x { y | z => {} } 
[17:20:04] <kimundi> robhobbes: match { Variant1(x) | Variant2(x) => // do something with x })
[17:20:20] <robhobbes> Oh! that makes total sense. Thanks guys!
[17:20:27] <jdm> as long as x is the same type in each variant
[17:20:31] <kimundi> bpicolo: http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[17:20:36] <robhobbes> jdm: yeah
[17:21:25] <eddyb> bpicolo: method chaining is nothing specific :/
[17:21:46] <eddyb> bpicolo: I mean, you'd have to go out of your way to not support it
[17:21:51] <kimundi> bpicolo: define chaining. if you mean foo.bar().baz() in general, that works, if you meant sugar for foo.bar(); foo.baz();, that is not supported (but can be hacked in as a macro)
[17:21:54] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[17:21:55] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[17:22:03] <eddyb> bpicolo: unless you're referring to some magic sugar which Rust doesn't support
[17:22:10] <bpicolo> eddyb: kimundi  Thanks!
[17:22:11] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[17:22:15] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[17:22:16] <bpicolo> I thought c++ didn't support it for some reason
[17:22:22] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[17:22:26] <o11c> eh? C++ can do that just fine
[17:22:32] <bpicolo> Yep
[17:22:35] <bpicolo> So I guess it's just universal : )
[17:22:38] <o11c> but C++ doesn't have explicit lifetime support
[17:22:50] *** Joins: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com)
[17:22:56] *** Joins: detrino (chris@moz-EAECB432.lv.lv.cox.net)
[17:22:57] <bpicolo> What do you guys mean when referring to "sugar"? Never heard the terminology
[17:23:05] <o11c> (still, the lifetimes in C++ usually do what you want for that case)
[17:23:07] <kimundi> bpicolo: "syntatic sugar"
[17:23:13] <bpicolo> Gotcha
[17:23:18] <detrino> Are rust lambdas type erasing/heap allocating?
[17:23:42] <kimundi> bpicolo: It means syntax that is just there to ease certain use cases, and is not neccessary for expressing the functionality
[17:23:59] <bvssvni> detrino: procs are, closures || are not (they only work in the same task)
[17:24:00] <bpicolo> kimundi:  Right, I know it in that context : ) thanks!
[17:24:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[17:24:05] <kimundi> detrino: Right now we have two different closure types, both are type erasing liek trait objects.
[17:24:33] <detrino> 2 different answers, who do I beleive? :)
[17:24:47] *** Joins: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com)
[17:24:54] <kimundi> detrino: Both are true
[17:24:57] <bvssvni> detrino: I meant heap allocating :)
[17:25:41] <bvssvni> what is type erasing?
[17:25:54] <kimundi> rusti: let p: proc(uint, uint) = proc(x, y) x + y; p(10, 100) // only callable once, allocates the environment on the heap.
[17:25:55] -rusti- <anon>:10:46: 10:51 error: mismatched types: expected `()` but found `uint` (expected () but found uint)
[17:25:55] -rusti- <anon>:10         let p: proc(uint, uint) = proc(x, y) x + y; p(10, 100) // only callable once, allocates the environment on the heap.
[17:25:55] -rusti-                                                        ^~~~~
[17:25:56] -rusti- error: aborting due to previous error
[17:25:56] -rusti- playpen: application terminated with error code 101
[17:25:59] <bpicolo> So mod is still giving me trouble. I have grammar.rs and conn.rs in one directory. grammar.rs contains pub struct Grammar. conn.rs has mod grammer; But I get error: unresolved import (maybe you meant `Grammar::*`?) for use {Grammaer}
[17:26:06] <bpicolo> use Grammar* rather
[17:26:09] <kimundi> rusti: let p: proc(uint, uint) -> uint = proc(x, y) x + y; p(10, 100) // only callable once, allocates the environment on the heap.
[17:26:10] -rusti- 110
[17:26:49] <kimundi> rusti: let p: |uint, uint| -> uint = |x, y| x + y; p(10, 100) // callable multiple times, does not allocate but use a environment on the stack.-
[17:26:49] -rusti- 110
[17:27:18] <kimundi> bpicolo: The trick is not to think about it as files, but as a module tree that you need to define.
[17:27:24] <bpicolo> Right.
[17:27:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[17:27:38] <dylanb> bpicolo, do you have 'use grammar::Grammar;'?
[17:27:50] <dylanb> in conn.rs
[17:27:51] <detrino> kimundi, does that mean both types have a type that reflects its return value/argument but not the environment or that it has an unknown type like C++ lambda ?
[17:28:09] <eddyb> detrino: the former
[17:28:12] <kimundi> detrino: former
[17:28:31] <eddyb> detrino: we actually want the latter in the future, but there's some prerequisites for that
[17:28:41] <detrino> eddyb, thats good to hear
[17:28:51] <eddyb> (anonymous return types and - likely - VG - which itself is unlikely :/)
[17:29:00] <kimundi> bvssvni: type erasure is to remove part of a type and store it as a value.
[17:29:23] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[17:29:36] <bpicolo> dylanb: That seemed to work, how do I make it such that syntax use {Grammar, Query} would work?
[17:29:36] <kimundi> bvssvni: For example, for a trait object you remove the information about what type exactly it is, and store it as a vtable.
[17:29:48] <bpicolo> (where query is also in grammar.rs)
[17:30:01] <detrino> Does the Rust team have an answer to variadic arguments, have you considered nested pairs instead of tupling ?
[17:30:10] <dylanb> bpicolo, just 'use grammar::{Grammar, Query};'
[17:30:15] <detrino> sorry, variadic templates
[17:30:18] *** Joins: edwardw (edwardw@4660DACB.EE06708D.4BFBD933.IP)
[17:30:18] <bpicolo> hmmm
[17:30:30] <kimundi> bvssvni: Other example, with DST you can erase part of the type of a &[T, ..N] to get a &[T] -  the erased part is the length and gets stored as part of the fatpointer for the slice.
[17:30:36] <bpicolo> dylanb: Ahhh, would I have to use a crate somehow to support the former?
[17:30:46] *** Joins: jxv (jxv@moz-D1F0EBC3.socal.res.rr.com)
[17:31:20] <kimundi> detrino: eddyb wants to implement them, but first a rfc needs to be written ;)
[17:31:21] <bvssvni> kimundi: hmm
[17:31:37] <eddyb> kimundi: I just know that I'll write that RFC
[17:31:38] <kimundi> (and discussed, accepted)
[17:31:41] <eddyb> kimundi: and it won't happen
[17:31:44] <dylanb> by former do you mean {Grammar, Query} without the 'grammar::'?
[17:31:51] <bpicolo> dylanb : Yessir
[17:32:13] <detrino> eddyb, have you considered that making comma a nested pair operator gives you variadic templates for free?
[17:32:18] <kimundi> eddyb: Eh, would still be worth it. 
[17:32:29] <dylanb> I think Grammar and Query would both have to be seperate crates for that
[17:32:35] *** Joins: philix (felipe@moz-CAD46691.user.veloxzone.com.br)
[17:32:36] <bpicolo> Gotcha : )
[17:32:58] <eddyb> detrino: let's move this to #rust-internals
[17:33:08] <bvssvni> I just discovered you can define a module tree with all files in same folder :S
[17:33:31] <dylanb> you can also just 'use grammar;' and then specify grammar::Grammar or grammar::Query whenever you use them bpicolo 
[17:33:41] <kimundi> bvssvni: Heh. Yeah thats definitely supported.
[17:33:54] <bpicolo> dylanb: Thanks a bunch!
[17:33:58] *** Joins: willingc (willingc@moz-F095E013.san.res.rr.com)
[17:34:04] *** Quits: willingc (willingc@moz-F095E013.san.res.rr.com) (Quit: willingc)
[17:34:23] <bpicolo> Is it possible to create a struct with no fields initialized?
[17:34:57] <dylanb> I don't think so, that would be unsafe
[17:35:07] <kimundi> bvssvni: The "mod foo == mod foo { content of foo.rs or foo/mod.rs }" rule means you can vary the source layout anywhere between a flat list and a deep directory structure, without it becoming completely wild or restricted to either extreme.
[17:35:07] <bpicolo> Do I have to initialize some or all?
[17:35:17] <kimundi> bpicolo: all
[17:35:21] <bpicolo> Hmmm
[17:35:29] <bpicolo> Interesting, okay.
[17:35:29] <dylanb> you could use Option
[17:35:33] <kimundi> bpicolo: If it has useful default, you can implement the Default trait for it
[17:35:40] *** Joins: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[17:35:53] <bpicolo> kimundi:  Aha!
[17:36:21] <bvssvni> kimundi: I like to create a folder with a 'mod.rs' if I need to declare new submodules
[17:36:25] <Veld> in a function "fn foo(&self) {}", is it possible to destructure self when it is a tuple?
[17:36:33] <kimundi> bpicolo: But that still means manually calling the default method.
[17:36:47] <Veld> destructure right in the place of self
[17:36:57] <kimundi> Veld: Not sure if the patch for that ever landed, but you can just destructure it in the body
[17:37:06] <bvssvni> kimundi: that way the file structure is somewhat similar to the module tree
[17:37:15] <bpicolo> kimundi: Makes sense. I'm just trying to test calling conventions without building the struct out mostly, haha
[17:37:17] <jdavis__> The example at https://github.com/sfackler/rust-postgres uses unwrap() in several places. It seems like it's a pretty common pattern, but it's also fairly ugly/verbose. Are there any alternatives?
[17:37:22] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[17:37:25] <kimundi> bvssvni: Sure, you'Re free to do that.
[17:39:31] *** Joins: xarcus (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[17:39:31] <bvssvni> jdavis__: it it fails! if it can't unwrap
[17:39:53] <bvssvni> jdavis__: at least it is better than null pointers
[17:40:17] <dylanb> is there reason that none of the containers/Vec implement ops::Index?
[17:40:21] <bpicolo> [] is the empty vec, yeah?
[17:40:28] <kimundi> jdavis__: unwrap() makes sense if the return value might be None for arbitrary calls, but will not be None for the specific input. If a None is possible, and you can useful handle it, then it should not use unwrap()
[17:40:31] *** Quits: xarcus (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:40:35] <bvssvni> dylanb: it will soon
[17:40:47] <kimundi> dylanb: Index will be removed and replaced by a btter one
[17:40:59] <dylanb> ah
[17:41:02] <bvssvni> a bitter one?
[17:41:04] <bvssvni> haha
[17:41:06] <kimundi> ... unless someone implements the old one temporary in the meantime :P
[17:41:20] <jdavis__> bvssvni: agreed. I just thought there might be a better approach. Haskell has some tricks here, right?
[17:42:00] <bvssvni> jdavis__: there are .and_then() etc.
[17:42:05] *** Quits: fyolnish_ (fyolnish@moz-803A835C.uqwimax.jp) (Client exited)
[17:42:12] <kimundi> bpicolo: [] as a literal gives you a zero sized array, [T, ..0]. In combination with a ~, it gives you an empty owned slice ~[T].
[17:42:17] <jdavis__> kimundi: That's a useful rule.
[17:42:21] *** Quits: edwardw (edwardw@4660DACB.EE06708D.4BFBD933.IP) (Ping timeout)
[17:42:37] *** Joins: fyolnish (fyolnish@moz-803A835C.uqwimax.jp)
[17:42:49] <dylanb> bpicolo is Vec::default() maybe what you want?
[17:42:51] <jdavis__> bvssvni: where can I find the docs for and_then()?
[17:43:02] <bpicolo> dylanb: I want to declare a struct field as a vec of str
[17:43:11] <bpicolo> kimundi: gotcha
[17:43:15] <bvssvni> jdavis__: http://static.rust-lang.org/doc/master/std/option/enum.Option.html
[17:43:29] *** Joins: alkino_ (alkino@moz-B4A66306.w92-151.abo.wanadoo.fr)
[17:43:36] <bvssvni> jdavis__: http://static.rust-lang.org/doc/master/std/result/enum.Result.html
[17:43:40] <kimundi> jdavis__: For things like IoErrors, we have the IoResult<T> type, which is a typedef for Result<T, IoError>. With results, you can use the try!() macro to bubble up an error to the caller of you function if you want.
[17:43:42] <bvssvni> those are the most commonly used
[17:44:29] *** Quits: fyolnish (fyolnish@moz-803A835C.uqwimax.jp) (Ping timeout)
[17:44:52] *** Joins: edwardw (edwardw@4112974A.B4358688.30F15291.IP)
[17:45:06] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[17:45:06] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[17:45:14] <bpicolo> dylanb: It is proving harder than I expected to get the syntax right, heh
[17:45:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:45:36] <bvssvni> bpicolor: can you post some code at gist.github.com?
[17:45:40] <kimundi> bpicolo: Not that the [...] vector syntax and types in general will have a big semantic change in the future, so at the moment it's best if you only use Vec<T> and &[T]
[17:45:43] <kimundi> Note*
[17:45:46] <bvssvni> bpicolo: ^
[17:45:56] <bpicolo> kimundi: That's exactly what I need
[17:46:31] <kimundi> rusti: let v: Vec<uint> = vec!(1, 2, 3); v
[17:46:31] <bpicolo> thanks
[17:46:31] -rusti- [1, 2, 3]
[17:46:54] <kimundi> rusti: let v: Vec<uint> = vec!(1, 2, 3); println!("{:?}", v.as_slice());
[17:46:55] -rusti- &[1u, 2u, 3u]
[17:46:55] -rusti- ()
[17:47:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:47:24] <bpicolo> I think my sublime text rust highlighting needs update, might explain why I think things are types when they aren't haha
[17:47:32] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[17:47:45] <bvssvni> bpicolo: Rust has changed a lot recently
[17:47:50] <jdavis__> kimundi, bvssvni, thank you.
[17:47:55] <bpicolo> Yep : )
[17:48:05] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[17:50:14] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[17:50:54] *** Joins: compmstr (Mibbit@moz-24DB0F25.dyn.optonline.net)
[17:51:39] <bpicolo> Where can I read about lifetime specifiers?
[17:51:46] <bpicolo> google is failing me
[17:51:46] <compmstr> Is there a way to check what type a generic is in a function (I'm trying to do some special handling if <T> is an Option)
[17:51:59] <kimundi> bpicolo: http://static.rust-lang.org/doc/master/index.html
[17:52:04] <kimundi> second guide
[17:52:16] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[17:52:39] <kimundi> compmstr: Its possible with std::any::Any
[17:53:12] <kimundi> compmstr: But in general should only be used for very special situations and hacks, not as a general solution :)
[17:54:13] <bpicolo> kimundi: Hate to be so much of a bother, but I'm being told &[~str] doesn't have a valid lifetime specifier. What am I looking for here?
[17:54:27] <bpicolo> I'm trying to have a struct field as a vector of strings, basically
[17:54:28] <kimundi> bpicolo: Depends on the context
[17:54:29] <compmstr> I'm attempting to modify the json decoder to Handle options as struct fields as optional, and I've got it to work by passing Null, but I would like to provide a better error message if the field is actually missing :)
[17:54:29] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:55:08] <bvssvni> bpicolo: struct Foo<'a> { bar: &'a [~str] }
[17:55:16] <bpicolo> ~'&@ are all still pretty intimidating
[17:55:17] <bpicolo> haha
[17:55:18] <bpicolo> ahh
[17:55:25] <jdavis__> When using Result<T, E>, is there a conventional trait that E should implement? For instance, a to_str or something?
[17:55:34] <kimundi> bpicolo: A reference is basically a generic type that uses one lifetime parameter and one type parameter. So the full form is &'a T, and in a struct you need to write it like this, and make the struct generic over the 'a 
[17:55:49] <kimundi> bpicolo: Don't worry, @ dies atm :)
[17:55:52] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[17:55:55] <bpicolo> Oh good : )
[17:55:59] <bpicolo> thanks kimundi  and bvssvni  
[17:56:11] *** Quits: sw17ch (sw17ch@moz-4AF0345C.hfc.comcastbusiness.net) (Quit: sw17ch)
[17:56:14] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:56:14] <bvssvni> jdavis__: no
[17:56:31] <kimundi> bpicolo: In the future, you use Rc<T> of Gc<T> for what @T used to do.
[17:56:42] <kimundi> Eg, its a library type then.
[17:56:44] <pongad> jdavis__: Though it should be non-trivial; if it is you generally want to use Option instead
[17:56:48] <bvssvni> jdavis__: &'static str is common, though
[17:56:58] *** Joins: mye (mye@moz-42C4971D.vpn.ipredator.se)
[17:57:10] <bpicolo> bvssvni:   &'a [~str] gives  use of undeclared lifetime name `'a`. I'm on master if it helps
[17:57:43] <bpicolo> static appears to be valid though
[17:57:53] <bvssvni> bpicolo: remember <'a> a after struct Foo
[17:58:04] <bpicolo> ahhh
[17:58:16] <bpicolo> what does 'a refer to?
[17:58:37] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:58:43] <bvssvni> bpicolo: it gives the lifetime to the struct, by interference from the members
[17:58:54] *** Joins: awidegreen (awidegreen@8543F1FD.A03A67DC.4329AE1A.IP)
[17:58:57] <bvssvni> bpicolo: a struct can never outlive any of it's members
[17:59:11] <jdavis__> bvssvni: It seems like effective use of try!() requires that the callers up the stack can get some rudimentary understanding of the Err raised down the stack. 
[17:59:13] <bpicolo> So when all it's members are no longer in a scope, so to speak, the struct will disappear
[17:59:22] <bvssvni> bpicolo: or else it would be a dangling pointer
[17:59:29] <bvssvni> bpicolo: no
[17:59:35] *** Quits: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP) (Ping timeout)
[17:59:39] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[17:59:44] *** Joins: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP)
[17:59:46] <bvssvni> bpicolo: the struct needs to run out of scope before or at the same time as the members
[17:59:56] <bpicolo> Gotcha
[18:00:00] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[18:00:30] <kimundi> bpicolo: More like: You can only construct and use the struct as long as all members are valid. Yo'll never reach the point where the members would become invalid before the struct itself.
[18:00:32] <bpicolo> bvssvni:  So impl Struct is upset for both impl Struct <'a>{ and impl Struct {. How do lifetime parameters differ for impl?
[18:01:02] <Ms2ger> impl<'a> Struct<'a> {, maybe?
[18:01:05] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[18:01:10] <bpicolo> 0.o
[18:01:16] <dylanb> yep
[18:01:17] <bvssvni> jdavis__: yeah, if you need to create an IoError you can use the InvalidInput flag
[18:01:26] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[18:01:32] <bpicolo> Yep Ms2ger, thanks
[18:01:33] *** Quits: Ms2ger (Ms2ger@moz-4CB19774.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[18:01:36] <kimundi> bpicolo: For a impl, you need to generically implement it for all 'a
[18:01:37] *** Joins: philix_ (felipe@moz-AAB39811.user.veloxzone.com.br)
[18:01:40] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[18:01:59] *** Quits: philix (felipe@moz-CAD46691.user.veloxzone.com.br) (Ping timeout)
[18:02:26] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Ping timeout)
[18:02:28] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[18:02:34] <bpicolo> I just need to sprinkle these things everywhere. Heh
[18:02:48] <bvssvni> bpicolo: yup
[18:03:04] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[18:03:06] <bpicolo> ><
[18:03:20] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[18:03:36] <bpicolo> ><
[18:03:38] <bpicolo> oops
[18:03:45] <bvssvni> bpicolo: but the mess will stay out of the code itself for the most part
[18:03:56] <bpicolo> Right
[18:04:39] <bvssvni> bpicolo: if you are stuck with lifetimes, it helps removing them all and add them back one by one
[18:04:49] <bpicolo> I'm slowly getting there.
[18:04:50] <bvssvni> bpicolo: the compiler tells you where it expects lifetimes
[18:04:55] <bpicolo> It's just not very well documented
[18:04:55] <bpicolo> yeah
[18:05:16] <bpicolo> It's upset about it inside an enum now for
[18:05:17] <bpicolo> Qr(~str, ~Query),
[18:05:26] <bpicolo> can't quite find the placement...
[18:05:46] <bvssvni> bpicolo: Qr(~str, ~Query<'a>)?
[18:05:52] *** Quits: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP) (Ping timeout)
[18:06:00] <bpicolo> That gives " use of undeclared lifetime name `'a`"
[18:06:01] *** Joins: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP)
[18:06:07] <bpicolo> so probably somewhere in enum declaration..
[18:06:08] <dylanb> enum<'a>{...
[18:06:10] <bvssvni> bpicolo: add it after the enum
[18:06:24] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[18:06:25] <bvssvni> bpicolo: keep doing this until it compiles :)
[18:06:31] <bpicolo> lol
[18:06:58] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[18:07:00] <bpicolo> That is brutal man
[18:07:01] <bpicolo> haha
[18:07:32] <dylanb> its better than "keep moving the pointers about untill it stops segfaulting" though
[18:07:43] <bvssvni> definitely
[18:07:48] <bpicolo> Can I have separate lifetimes for uhh
[18:07:53] <bpicolo> struct fields and struct itself?
[18:08:20] <compmstr> Are you able to specify the type for a generic function without passing something of that type to it?
[18:08:22] *** Joins: ganitsu (ganitsu@moz-BD63915F.dialup.adsl.anteldata.net.uy)
[18:08:27] <bvssvni> bpicolo: it is not that useful, since the lifetime or the struct is always equivalent or smaller than the members
[18:08:58] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:09:04] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[18:09:04] <bvssvni> bpicolo: I rarely see more than one lifetime parameter per struct
[18:09:11] <bpicolo> well, I have [&'static str, .. 16]
[18:09:14] <bpicolo> as a return value
[18:09:22] <bpicolo> is 'static a separate thing / compatible with 'a?
[18:09:35] <bpicolo> Because my field declaration is &'a [~str]
[18:09:37] <bvssvni> bpicolo: 'static is an infinite lifetime
[18:09:43] <bpicolo> Woooo
[18:09:51] <Yurume> bpicolo, 'static fits on every 'a
[18:09:52] <bvssvni> bpicolo: that is = program life time
[18:09:54] *** Joins: ChrisOei (ChrisOei@moz-CCD898EA.mycingular.net)
[18:09:58] <bpicolo> Great
[18:10:12] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[18:10:16] *** Joins: sw17ch (sw17ch@moz-4AF0345C.hfc.comcastbusiness.net)
[18:10:48] <bpicolo> it appears they are, in fact, incompatible though
[18:10:49] <bpicolo> in this case
[18:10:50] <bpicolo> : P
[18:11:10] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[18:11:45] <bpicolo> Got to admit this is the hardest time I've had declaring a struct with an array of strings, but I'm sure I'll get used to it >.>
[18:11:59] *** Quits: sw17ch (sw17ch@moz-4AF0345C.hfc.comcastbusiness.net) (Ping timeout)
[18:11:59] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:12:09] <dylanb> in what way are you trying to have tha &'a and &'static interact?
[18:12:23] <dylanb> *the
[18:12:50] <Eridius> bpicolo: if you want it to be as easy as other languages, just use ~str everywhere
[18:13:07] <bpicolo> I didn't come for easy, I came to do it right. Will just take time : )
[18:13:13] <Eridius> hehe
[18:13:19] <Eridius> yeah I don't like using ~str when I don't have to
[18:13:26] <Eridius> Rust really makes it obvious where your unnecessary allocations are
[18:13:29] <bpicolo> I still have ~str along with the lifetimes
[18:13:31] <bpicolo> to be fair
[18:13:35] <bpicolo> > <
[18:13:42] <bpicolo> Hold on, making a gist of what I'm attempting...
[18:13:56] *** Joins: sw17ch (sw17ch@moz-4AF0345C.hfc.comcastbusiness.net)
[18:13:56] *** Quits: sw17ch (sw17ch@moz-4AF0345C.hfc.comcastbusiness.net) (Quit: sw17ch)
[18:15:11] *** Quits: alkino_ (alkino@moz-B4A66306.w92-151.abo.wanadoo.fr) (Ping timeout)
[18:15:12] <bpicolo> https://gist.github.com/bpicolo/0d2288901ef150392e79
[18:15:13] <bpicolo> here we go
[18:16:00] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:16:34] <bvssvni> bpicolo: the <'a> on getOperators should be removed
[18:16:46] <bpicolo> It's upset with that too
[18:16:46] <bpicolo> lol
[18:16:46] <Eridius> bpicolo: getOperators() can't return a &'a if there's no 'a in the parameters
[18:16:54] <Eridius> it can only return a &'static
[18:17:04] <bvssvni> bpicolo: instead you should return Vec<~str>
[18:17:10] <bpicolo> But static will be valid to set the struct field ewual to?
[18:17:18] <Eridius> bpicolo: yes
[18:17:20] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:17:22] <bvssvni> or static
[18:17:35] *** Quits: ChrisOei (ChrisOei@moz-CCD898EA.mycingular.net) (Ping timeout)
[18:17:35] <Eridius> 'static is compatible with all lifetimes
[18:17:36] <bpicolo> what's the equivalent of Vec<~str> with [ ] syntax?
[18:17:41] <bpicolo> or is there not one
[18:17:44] <Eridius> also your new() will need to say -> Grammar<'a>
[18:17:51] <bvssvni> bpicolo: &'static [&'static str]
[18:17:55] <Eridius> bpicolo: you don't need Vec for this
[18:17:59] <dylanb> bpicolo, vec!(...)
[18:18:04] <Eridius> bvssvni: using &'static str will restrict Grammar though
[18:18:05] <bvssvni> bpicolo: &'static [&'static str, ..16] ?
[18:18:16] <Eridius> although honestly, if Grammar contains a &'a [] instead of a Vec<> then it's also kind of restricted
[18:18:19] <bpicolo> What will it restrict?
[18:18:42] <Eridius> you can't dynamically construct the strings for a &'static [&'static str]
[18:18:54] <bvssvni> bpicolo: you can replace &'a [~str] in Grammar with ^
[18:19:14] <Eridius> bpicolo: is Grammar going to need to be able to be modified, or will it only contain lists of operators that were determined at compile-time?
[18:19:15] <bpicolo> So the best way might be Vec<~str> all over?
[18:19:28] <bpicolo> compile time
[18:19:29] <bpicolo> yes
[18:19:41] <bvssvni> bipicolo: if you want it to be flexible, then yes
[18:19:48] <Eridius> if it's all compile-time then &'static [&'static str] may work for you
[18:19:57] <Eridius> if you need flexibility you may want to change to Vec<~str>
[18:20:04] <bpicolo> which is a static vector of static strings?
[18:20:07] <Eridius> nope
[18:20:18] <Eridius> Vec<~str> is a vector of owned strings
[18:20:32] <Eridius> not static vector, but one that contains its own allocation and, if the slot is mutable, can be modified
[18:20:35] <Eridius> including pushed to
[18:20:43] *** Quits: chridou (chatzilla@moz-FE12FC96.dip0.t-ipconnect.de) (Ping timeout)
[18:21:12] <bvssvni> bpicolo: Vec is growable at runtime
[18:21:15] <bpicolo> And what's the right way to think of &'static [&'static str]
[18:21:18] <bvssvni> bpicolor:  &'static [&'static str, ..16]
[18:21:30] <bpicolo> Because the docs seem to use the terminology for that as vector as well
[18:21:35] <Eridius> bpicolo: consider it a compile-time slice of compile-time strings
[18:21:42] <Eridius> &[] is a slice, not a vector
[18:22:06] <bvssvni> bpicolo: you can use &'static [&'static str] as a slice
[18:22:13] <Eridius> &'static [&'static str] is basically equivalent to C's `static const char * const strings[4] = { "one", "two", "three", "four" }
[18:22:17] <bpicolo> http://static.rust-lang.org/doc/0.9/std/vec/index.html were they different in .9?
[18:22:30] <bpicolo> it seems [] is a vector there, sort of
[18:22:32] <bvssvni> bpicolo: are you using 0.9?
[18:22:38] <Eridius> although I'm not sure if that C array is const-enough to prevent modifying the array itself
[18:22:38] <bpicolo> no master now
[18:22:39] <bpicolo> : )
[18:22:46] <Eridius> bpicolo: ~[] was a vector
[18:22:52] <bpicolo> But it might explain my confusion is all haha
[18:22:52] *** Joins: nszceta (nszceta@846F205A.518454BE.689607DE.IP)
[18:22:56] <Eridius> in current master we're moving from ~[] to Vec<>
[18:23:06] <Eridius> because DST will change the meaning of ~[]
[18:23:11] <bpicolo> gotcha
[18:23:13] <bpicolo> mismatched types: expected `&'static [&'static str, .. 16]` but found `[&'static str, .. 16]`
[18:23:15] <bvssvni> bpicolo: 0.10 will be released next thursday
[18:23:23] <bpicolo> do I need &'static before my slice?
[18:23:33] <bvssvni> bpicolo: no
[18:23:39] <bvssvni> bpicolo: just remove it
[18:23:46] *** Joins: jroweboy (Mibbit@moz-B0B6A670.provo.static.broadweavenetworks.net)
[18:23:46] <bpicolo> Ah
[18:23:47] <bvssvni> bpicolo: the compiler is right :)
[18:23:51] <bpicolo> What's the difference?
[18:23:57] *** Quits: nszceta (nszceta@846F205A.518454BE.689607DE.IP) (Connection reset by peer)
[18:24:05] <bpicolo> or is one jsut invalid right now hah
[18:24:09] <bvssvni> bpicolo: [&'static str, ..16] allocates on the stack
[18:24:11] <Eridius> bpicolo: &'static [T, ..16] is not useful
[18:24:17] <Eridius> specifically the ..16 bit
[18:24:36] <bvssvni> bpicolo: &[&'static str] is a slice
[18:25:06] <bpicolo>  [&'static str, ..16] isn't?
[18:25:18] <bvssvni> bpicolo: it is a type
[18:25:37] <bpicolo> ah
[18:25:40] <bvssvni> bpicolo: [&'static str, ..15] is another type
[18:26:02] <bpicolo> I tried turning it into a slice
[18:26:03] <bpicolo> mismatched types: expected `&[&'static str]` but found `&[&'static str]`
[18:26:10] *** Joins: EpicDavi (EpicDavi@99C056DD.2748939C.6AA1FED7.IP)
[18:26:12] <bpicolo> ...that's a unhelpful error
[18:26:31] <bvssvni> bpicolor: update the gist
[18:26:37] <bvssvni> sorry bpicolo
[18:26:45] <jroweboy> Hey everyone! Just two short questions. Are generators planned to be added to Rust as some point? Is there something on master that I can use to kinda act like a generator?
[18:26:59] <bpicolo> bvssvni: No worries man : )
[18:27:31] <jdavis__> I just got the following error which I don't understand: (expected trait std::any::Any but found enum postgres::error::PostgresError)
[18:27:50] <jdavis__> Shouldn't anything implement the Any trait?
[18:28:03] <bpicolo> bvssvni:  Updated : )
[18:28:06] <bvssvni> jroweboy: as Any
[18:28:14] <bpicolo> I
[18:28:16] <bvssvni> jdavis__: as Any
[18:28:18] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[18:28:23] <jdavis__> Oh, yeah
[18:28:26] <jdavis__> Thank you
[18:28:29] <bpicolo> I'm totally keen on understanding what's going on, haha. Don't just think I'm being lazy : )
[18:29:06] <bvssvni> bpicolo: replace operators: &'static[&'static str] with operators: &'a [&'static str] in the struct
[18:29:09] <bpicolo> I'm much more used to high level programming, need to get better
[18:29:34] <bpicolo> bvssvni:  Doesn
[18:29:38] <bpicolo> 't solve the mismatched types issue
[18:29:48] <bvssvni> bpicolo: no, but we are getting closer :)
[18:29:55] <bpicolo> : )
[18:29:57] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[18:29:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[18:30:01] <bpicolo> or any of the compiler errors, granted
[18:30:02] <bvssvni> bpicolo: can you post the error in the gist?
[18:30:06] <bpicolo> I did
[18:30:12] <bpicolo> It's all at the bottom of gist
[18:30:16] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[18:30:34] *** Joins: fyolnish (fyolnish@moz-803A835C.uqwimax.jp)
[18:30:43] <bvssvni> bpicolor: pub fn getOperators() -> &[&'static str] { => pub fn getOperators() -> [&'static str, ..16] {
[18:30:52] <bvssvni> bpicolo: ^
[18:31:02] <bpicolo> Right, but that's a type instead of a slice, though?
[18:31:05] <bpicolo> What if I want a slice
[18:31:19] <bvssvni> bpicolo: you call .as_slice() aftwards
[18:31:29] <bvssvni> bpicolo: but as return value, you can return the type
[18:31:37] <bpicolo> so it would be
[18:31:43] <bpicolo> [].as_slice() to do that?
[18:31:53] <bpicolo> or something like that
[18:31:55] <bvssvni> bpicolo: if you call ~getOperator() it allocates on the stack
[18:32:03] *** Quits: fyolnish (fyolnish@moz-803A835C.uqwimax.jp) (No route to host)
[18:32:06] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[18:32:14] *** Joins: fyolnish (fyolnish@moz-803A835C.uqwimax.jp)
[18:32:15] <bpicolo> what if I just call getOperator()
[18:32:17] <bpicolo> static memory?
[18:32:19] <bvssvni> bpicolo: if you call getOperators().as_slice() you get a slice
[18:32:24] <eddyb> bvssvni: on the heap not on the stack
[18:32:25] <bpicolo> ahh
[18:32:42] <bvssvni> I meant the heap :P
[18:32:57] <bpicolo> so just getOperators() is stack then?
[18:33:05] <bpicolo> is static memory still a concept in rust?
[18:33:15] <bvssvni> bpicolo: yes & yes
[18:33:21] <bpicolo> Great, thanks : )
[18:34:02] *** Quits: fyolnish (fyolnish@moz-803A835C.uqwimax.jp) (Ping timeout)
[18:34:55] <bvssvni> bpicolo: usually pub fn new() -> Grammar<'a> { would take a parameter operator: &'a [&'static str]
[18:35:16] <bvssvni> bpicolo: you still get compiler error, right?
[18:35:33] <bpicolo> I'l getting there
[18:35:56] <bpicolo> i'm > <
[18:36:37] <bvssvni> bpicolo: remove the & return &[
[18:36:46] <bpicolo> I guess I do need this on the heap or lifetime will be invalid huh
[18:37:27] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[18:37:33] <bvssvni> bpicolo: in getOperators, you should remove the '&' before the [
[18:37:40] <kimundi> bvssvni: You know, using "&" as a shortform for "and" is really confusing in this context ;)
[18:37:46] <bpicolo> Ah yeah I did
[18:38:13] <bvssvni> bpicolo: update the gist :)
[18:38:34] *** Quits: astroch (astroch@moz-46285397.dhcp.embarqhsd.net) (Connection reset by peer)
[18:38:38] <dylanb> aarrgh. When I make my code more than a few lines long, it seems to stop doing anything
[18:38:59] <bpicolo> bvssvni:  Did. I THINK what I'm doing is valid here now
[18:39:02] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[18:39:17] *** Joins: astroch (astroch@moz-46285397.dhcp.embarqhsd.net)
[18:39:20] <bvssvni> bpicolo: yup
[18:39:30] <bpicolo> Now on to the next bit
[18:39:30] <bpicolo> : P
[18:39:34] <bollu> how do I call mutable methods on a View after accessing the view using fn get_view(&self) -> Rc<RefCell<View>> ?
[18:39:57] <bollu> this does not work: render_window.get_view().get().rotate(2.);
[18:40:11] <bvssvni> bpicolo: you no longer need the <'a> after the struct
[18:40:18] <bollu> ../src/engine/rendering.rs:126:3: 126:33 error: failed to find an implementation of trait std::clone::Clone for rsfml::graphics::view::View
[18:40:47] <bpicolo> wooo
[18:40:53] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[18:40:54] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[18:41:10] <bpicolo> I believe I'm making things harder than they need be
[18:41:10] <bpicolo> haha
[18:41:39] <bvssvni> bpicolo: in general, types that borrow (&'a) is different from owners (~)
[18:41:45] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[18:41:49] <bvssvni> bpicolo: owners are much easier to work with
[18:42:08] *** Parts: tOkeshu (tOkeshu@moz-BC063B9E.me) ()
[18:42:10] <bpicolo> Does a nil-able value require an enum?
[18:42:18] <o11c> (but borrowing is often "better")
[18:42:21] *** Joins: tOkeshu (tOkeshu@moz-BC063B9E.me)
[18:42:21] <o11c> bpicolo: right
[18:42:25] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[18:42:26] <o11c> Option<T>
[18:42:28] <bvssvni> bpicolo: Opiton<T>
[18:42:38] <bvssvni> *Option
[18:42:41] <bollu>  Rc<RefCell<View>> <- how do I call a method on the View that mutates it's state?
[18:42:59] <bpicolo> Also, that was the most confusing part of the tutorial.
[18:43:01] <bpicolo> "An enum is a natural fit for describing a linked list"
[18:43:01] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[18:43:01] <bvssvni> bollu: I believe you can't
[18:43:06] <bpicolo> is a big wat coming from other languages
[18:43:26] <bvssvni> bollu: it is reference counted, therefore not safe as mutable
[18:43:39] <bollu> bvssvni: ... what? O_O then this makes this /completely/ pointless http://rust-sfml.org/doc/rsfml/graphics/struct.RenderWindow.html#method.get_view
[18:43:49] <bvssvni> bollu: I might be wrong
[18:43:52] <whitequark> bpicolo: I wish they just called enums "sum types"
[18:43:58] *** Quits: tobytailor (tobytailor@moz-2C803B2F.tmodns.net) (Quit: tobytailor)
[18:44:08] <whitequark> I mean, they're not really enums anyway, what's the harm.
[18:44:15] <bpicolo> whitequark: Well I think the problem is that enums are both standard enums and also enumerate types
[18:44:20] *** Joins: tobytailor (tobytailor@moz-2C803B2F.tmodns.net)
[18:44:25] <bpicolo> Two very different things
[18:44:36] <bollu> whitequark: yeah, agreed. bpioclo: enums are a subset of what sum types can express AFAIK
[18:44:48] <bpicolo> Ahh
[18:44:50] <whitequark> well... no, that's not a problem. sum types work like that in any language that has them
[18:44:54] <sfackler> bollu: foo.borrow_mut().some_method_that_mutates()
[18:44:59] <whitequark> bollu: rust enums = sum types. C++ enums are a subset
[18:45:23] <bollu> sfackler: ah, thanks :) whitequark : yeah, I meant, other languge = enum are a subset of sum types
[18:46:08] <bollu> sfackler: what happeened to the .get() on the Rc ? that seems to have magically disappeared
[18:46:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:46:22] <sfackler> bollu: it implements Deref now
[18:46:33] <sfackler> so it'll automatically forward method calls to the thing it wraps
[18:46:35] <eddyb> it was borrow() and yeah
[18:46:55] <bpicolo> Can a named tuple be in an Option<T>
[18:46:56] <bpicolo> ?
[18:46:59] <bpicolo> So like
[18:47:05] <bpicolo> Option < Tupname(stuff) >
[18:47:28] <bvssvni> bpicolo: it is called a struct tuple, or 'newtype'
[18:47:33] <bollu> ah, nice! 
[18:47:35] <bpicolo> right
[18:47:37] <bpicolo> that's what I meant : )
[18:47:42] <eddyb> bpicolo: struct Foo(T); Foo is the type, Foo(x) constructs a new value
[18:47:52] *** Quits: EpicDavi (EpicDavi@99C056DD.2748939C.6AA1FED7.IP) (Quit: Leaving)
[18:47:56] <eddyb> so Some(Foo(x)) is Option<Foo>
[18:48:04] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[18:48:26] <bvssvni> bpicolo: you can do match x { Some(Foo(x)) => ... , => {} }
[18:48:30] <bpicolo> hmm
[18:48:34] <bpicolo> will gist my new fun
[18:48:34] <bvssvni> bpicolo: you can do match x { Some(Foo(x)) => ... , _ => {} }
[18:48:37] <bvssvni> ops
[18:48:37] <bollu> eddyb: I've understood as constructing a one member tuple. am I right or wrong?
[18:48:55] <bvssvni> bollu: you are right
[18:49:08] <eddyb> huh?
[18:49:11] <bvssvni> ops
[18:49:13] <eddyb> (x,) is the 1-tuple
[18:49:15] <bvssvni> haha
[18:49:19] <eddyb> (T,) the type
[18:49:21] <bollu> eddyb: like, Foo(T) = tuple with one member T
[18:49:23] <kimundi> bpicolo: Option<T> is just a normal generic type, you can put any T in there.
[18:49:53] <bollu> eddyb: what?
[18:49:53] <bpicolo> https://gist.github.com/bpicolo/0d2288901ef150392e79
[18:49:57] <bpicolo> So here's what I've got
[18:50:02] <eddyb> rusti: (1,)
[18:50:03] -rusti- (1,)
[18:50:14] <eddyb> bollu: Foo is not a "tuple"
[18:50:24] *** Quits: dylanb (dylanb@88FAD3E8.E28B471B.BEB97BB0.IP) (Ping timeout)
[18:50:36] <eddyb> bollu: the struct definition of Foo is indeed called a "tuple struct" but as in "tuple-like struct"
[18:50:48] <kimundi> bpicolo: Need a custom enum for taht
[18:51:01] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[18:51:06] <bpicolo> kimundi : That's what I had before. Darn = (
[18:51:19] <bollu> eddyb: ah. 
[18:51:47] <kimundi> bpicolo: Something like "enum QueryOrigin<'a> { String(~str), Query(~Query<'a>), None }"
[18:52:07] <eddyb> not None, because that will shadow Option's None
[18:52:11] <bpicolo> ^
[18:52:15] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:52:20] <bpicolo> did notice eddyb's part
[18:52:20] <bpicolo> haha
[18:52:38] <kimundi> right, might need different names
[18:52:48] <eddyb> NoOrigin is a good name
[18:52:53] <bpicolo> Will every enum need a different null value?
[18:52:56] <eddyb> bpicolo: no
[18:53:10] <eddyb> you only need it if you have a "null" case
[18:53:19] <bpicolo> Well yeah, assuming that part
[18:53:24] <bpicolo> Seems like yes
[18:53:29] <eddyb> rarely need null cases IME
[18:53:43] <eddyb> you can still do enum QueryOrigin<'a> { String(~str), Query(~Query<'a>) } ... Option<QueryOrigin<'a>>
[18:53:57] <eddyb> but we currently don't flatten enums, so that would be 8 bytes bigger on x64
[18:54:23] <kimundi> bpicolo: You don't need a different name for the none case for every enum, because we can namespace them. but you should at least not collide with Options None, or elese you'll run into it far too often :)
[18:54:39] <bpicolo> Right
[18:54:47] <bpicolo> Okay thanks!
[18:54:49] <bvssvni> bpicolo: it is common to put the enum in its own module
[18:54:59] <bollu> Question about Rc<RefCell>> https://gist.github.com/bollu/54b83cdc275615d00cbb
[18:55:04] <bpicolo> Rust takes some good getting used to, huh : )
[18:55:05] <bpicolo> hehe
[18:55:07] <eddyb> (not each enum, though, that would be crazy)
[18:55:33] <eddyb> bollu: look at the source
[18:55:48] <bollu> eddyb: as in? the source must be doing something funky?
[18:55:54] <bollu> eddyb: ideally it should work right?
[18:56:10] <eddyb> hmm, it doesn't seem to do anything crazy
[18:56:13] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[18:56:36] <eddyb> bollu: you're probably misusing rsfml in some other way
[18:57:08] <bollu> eddyb: doubt it? I've used sfml heavily for my C++ projects so I'm familiar with the API...
[18:57:24] <bollu> eddyb: although, maybe. I'm not sure. I'll take a look
[18:57:52] <eddyb> I mean, maybe rotate doesn't do what you think
[18:57:56] <eddyb> maybe you're not redrawing
[18:58:15] <bollu> eddyb: nope, it rotates. I rewrote it to use set_view and get_view separately and it works
[18:58:29] <bollu> if I chain it as get_view().borrow_mut().rotate(theta) it doesn't work
[18:58:38] *** Joins: dylanb (dylanb@88FAD3E8.E28B471B.BEB97BB0.IP)
[18:59:05] <eddyb> huh
[18:59:14] <bvssvni> bollu: does it fail?
[18:59:16] <eddyb> bollu: keep in mind that set_view does something
[18:59:22] <eddyb> bvssvni: no, it doesn't rotate
[18:59:27] <eddyb> he had this problem like two weeks ago
[18:59:39] <bollu> bvssvni: no, it just does not rotate. eddyb: set_view seems like it's just.. setting the changed view
[18:59:50] <bollu> eddyb: yep. had my exams since then so have not programmed...
[19:00:04] <eddyb> bollu: it calls sfRenderWindow_setView
[19:00:29] <eddyb> bollu: try something like {let view = w.get_view(); w.set_view(view);}
[19:00:33] <eddyb> bollu: to see if it flushes
[19:00:52] <bvssvni> bollu: you remember to call set_view I guess?
[19:01:19] <bollu> bvssvni: yep
[19:01:26] <Veld> I'm getting various errors related to fmt if I omit #[test] before a function that makes use of assert_eq!. should I open an issue?
[19:01:41] <eddyb> Veld: without more context, no
[19:01:43] <bollu> eddyb: that's what I'm doing now. let mut view = render_window.get_view(); view.borrow_mut().rotate(1.); render_window.set_view(view);
[19:01:46] <geal> is there a way to have a trait depend on a type that mst implement that trait? Specifically, I'd like "impl<T:FromStr> MyTrait"
[19:01:51] <eddyb> bollu: try changing the order
[19:01:59] <bollu> eddyb: it works now
[19:02:01] <bpicolo> https://gist.github.com/bpicolo/0d2288901ef150392e79
[19:02:04] <bpicolo> lifetimes are tricky man
[19:02:07] <eddyb> bollu: no, I mean
[19:02:10] <bollu> eddyb: it works as a separate set_view and get_view call
[19:02:19] <bvssvni> bollu: w.set_view(w.get_view().borrow_mut().rotate(theta)) doesn't work?
[19:02:21] <bollu> eddyb:  it does *not* work when I write it like this - render_window.get_view().borrow_mut().rotate(1.);
[19:02:32] <bollu> bvssvni: nope. that's what's puzzling
[19:02:44] <bvssvni> bollu: that's weird
[19:02:49] <eddyb> ...
[19:02:58] <eddyb> bollu: render_window.get_view().borrow_mut().rotate(1.); {let view = render_window.get_view(); render_window.set_view(view);}
[19:03:04] <eddyb> bollu: that's what I want you to try
[19:03:15] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:03:16] <bollu> eddyb: ah
[19:03:42] <bollu> eddyb: whoa...
[19:03:45] <bollu> eddyb: yeah, that works
[19:03:49] *** Quits: Dessimat0r (Dessimat0r@moz-E3008B7A.me) (Quit: ZNC - http://znc.in)
[19:04:05] <bpicolo> Anyone know why it thinks my lifetime is bad up there? ^
[19:04:09] <eddyb> bollu: told you it was a flushing issue
[19:04:24] *** Quits: tobytailor (tobytailor@moz-2C803B2F.tmodns.net) (Quit: tobytailor)
[19:04:26] <kimundi> bpicolo: I assume query takes a &[] ?
[19:04:27] <eddyb> bollu: much much more likely than Rc/RefCell not working ;)
[19:04:51] <bpicolo> kimundi:  yep
[19:05:02] <bpicolo> Will add def to gist
[19:05:11] *** Joins: Dessimat0r (Dessimat0r@moz-E3008B7A.me)
[19:05:18] <bpicolo> done
[19:05:23] <eddyb> bollu: {let view = render_window.get_view(); render_window.set_view(view);} render_window.get_view().borrow_mut().rotate(1.);
[19:05:26] <bollu> eddyb: yeah xD should I file a bug on rust-sfml?
[19:05:33] <eddyb> bollu: also try that
[19:06:00] <bollu> eddyb: yep. works.
[19:06:08] <eddyb> bollu: it's your fault then
[19:06:13] <eddyb> you were never setting the view
[19:06:15] <bvssvni> bpicolo: change &str to &'a str
[19:06:18] <bollu> wait, mine? 
[19:06:22] <kimundi> bpicolo: Okay, the problem is that [] creates a [T, ..0] on the stack, which then gets coerced to a &[T],. The problem is then you end the function by returning from select, so the stack created array you have a reference to gets destroyed, which means the lifetime ends.
[19:06:42] <bollu> eddyb: but why should I ? doesn't Rc<RefCell<>> act like a pointer?
[19:06:51] <eddyb> bollu: has nothing to do with Rc or RefCell
[19:06:59] <kimundi> bpicolo: (Unless thats not the problem)
[19:07:01] <bvssvni> bpicolo: sorry, I look at the wrong place
[19:07:01] <bpicolo> bvssvni:  Don't want to redefine the library : P
[19:07:04] *** Quits: dylanb (dylanb@88FAD3E8.E28B471B.BEB97BB0.IP) (Ping timeout)
[19:07:11] <eddyb> bollu: you weren't telling it to tell the C library to change the view
[19:07:29] <eddyb> bollu: ever
[19:07:39] <bpicolo> kimundi:  I have no problem with it getting destroyed once select returns though?
[19:07:47] *** Quits: shubhaml (shubham@102712D1.C15BC1FD.249488B6.IP) (Quit: leaving)
[19:07:53] <eddyb> bollu: mmmaybe it's an API issue, but I'm not sure how sfml is supposed to be used
[19:08:28] <kimundi> bpicolo: Depends on wether that function does what I think it does or not. If it doesn'T store the &[], then ist fine.
[19:08:39] <bvssvni> bpicolo: maybe you can add a .clone()
[19:08:40] <bollu> eddyb: ah.
[19:08:47] <bpicolo> Clone to what?
[19:09:03] <bpicolo> the empty slice?
[19:09:08] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:09:16] <bvssvni> bpicolo: return stmt.query([]).clone();
[19:09:20] <edwardw> bpicolo: try `self.conn.prepare(...).query(...)`, i.e. no intermediate `stmt`
[19:09:34] <bvssvni> bpicolo: but I am not sure if I understand what happens here
[19:09:36] <bpicolo> edwardw:  that's the same error
[19:09:41] <kimundi> bvssvni: That won't change anything here
[19:10:13] <bpicolo> This strategy basically works when called from main
[19:10:15] <bpicolo> just not here
[19:10:46] <bpicolo> not with the return
[19:10:54] <bollu> eddyb: yeah, you're right. was combing through my code - https://github.com/bollu/proGenY/blob/f1aa85fba408243001cb3704d617187a5a09cf63/src/core/Rendering/viewProcess.cpp#L24. I call setView every frame
[19:11:01] <bollu> eddyb: and C++ looks ugly now :(
[19:11:17] <eddyb> that's a good sign
[19:11:22] <eddyb> keep ya' bones rusting
[19:12:04] <kimundi> bpicolo: I think the problem is that .query() returns a value that is only valid as long as the value it has been called on. YOu call it on stmt, which is only valid for the function bodies lifetime, so you can't return it
[19:12:35] *** Joins: tobytailor (tobytailor@moz-2C803B2F.tmodns.net)
[19:12:43] <bpicolo> How do I make it valid longer, though?
[19:12:44] <bollu> kimundi: question - can't bpicolo use std::Vec ? like, return an std::Vec or fill a &mut std::Vec ?
[19:13:01] <bpicolo> Clone results to somewhere useful?
[19:13:04] <bpicolo> and return that?
[19:13:09] <bvssvni> bpicolo: you can return a tuple
[19:13:17] *** Joins: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de)
[19:13:19] <kimundi> bollu: It has nothing todo with vectors as far as I can see, it was a wrong guess from me earlier.
[19:13:40] *** Quits: tobytailor (tobytailor@moz-2C803B2F.tmodns.net) (Quit: tobytailor)
[19:13:56] <bvssvni> bpicolo: or just return stmt and call .query on it later
[19:13:57] <kimundi> bpicolo: clone will give you exactly the same value, which will have exactly the same problem.
[19:14:04] <bpicolo> ah
[19:14:08] <bollu> kimundi: a [] can only be ~[] or &[] but a vector can be on the stack (Vec v), so that should allow you to return without a lifetime error shouldn't it?
[19:14:09] <bpicolo> is there no way to uhh
[19:14:14] <bpicolo> extend the lifetime
[19:14:19] *** Joins: tobytailor (tobytailor@moz-2C803B2F.tmodns.net)
[19:14:36] <kimundi> bpicolo: You either need to return stmt itself, or return a custom struct that wraps stmt and offers the functionality you want.
[19:14:47] <bpicolo> that's weird.
[19:14:49] <bpicolo> = |
[19:14:50] <kimundi> bpicolo: No, because that would lead to dengling pointers :)
[19:15:07] <bpicolo> So I would never be able to return the result without wrapping it?
[19:15:16] <bvssvni> bpicolo: it is not that weird, since when it returns stmt is removed from the stack
[19:15:28] <bollu> kimundi: nvm, I'm an idiot >_>
[19:15:28] <bpicolo> right but I don't want stmt
[19:15:31] <bpicolo> I want the RESULT of stmt
[19:15:34] <bpicolo> .query
[19:15:46] <bpicolo> to be returned
[19:15:49] <edwardw> bpicolo: what's `self.conn`?
[19:15:53] <bpicolo> postgres connection
[19:15:57] <edwardw> what is its lifetime?
[19:16:07] <bpicolo> Wish I knew
[19:16:09] <bpicolo> >.>
[19:16:12] <bvssvni> bpicolo: why not just return stmt and then call .query?
[19:16:13] <bollu>  pub fn select<'a>(&'a self, &'a mut result_store) would work?
[19:16:33] <bpicolo> bvssvni:  Because getting rid of abstraction in an ORM would ruin the point ; )
[19:16:56] <bpicolo> I will need to return it somewhere
[19:16:58] <bpicolo> eventually
[19:16:59] <bpicolo> heh
[19:17:14] <kimundi> bpicolo: The problem is that that result has a dependency on an existing stmt
[19:17:37] <kimundi> like, an internal pointer or so.
[19:17:54] <bpicolo> just somewhere in the PostgresResult?
[19:17:56] <bvssvni> is it possible to do let stmt: PostgresStatement<'a>
[19:18:15] <bpicolo> Kimundi: You are totally correct
[19:18:28] <kimundi> yay
[19:18:31] <bpicolo> pub struct PostgresResult<'stmt> {     priv stmt: &'stmt PostgresStatement<'stmt>,
[19:18:35] <edwardw> bpicolo: the reason I suggested `self.conn.prepare(...).query(...)` is because `stmt` is only a stack local, but the result needs 'a
[19:19:03] <bpicolo> However I COULD make a new struct that removes that part
[19:19:04] <bpicolo> I guess
[19:19:09] <edwardw> since `self` is already 'a, I figure it may work
[19:19:17] *** Quits: Rym (y@D6017974.57AE353C.8772DA20.IP) (Ping timeout)
[19:19:31] *** Joins: Rym (y@D6017974.57AE353C.8772DA20.IP)
[19:19:32] <bvssvni> bpicolo: will this work: let stmt: PostgresResult<'a> = self.conn.prepare("SELECT id, name, time_created, data FROM person");
[19:19:44] *** Joins: mib_r6ngsi (Mibbit@moz-7AD9232F.rev.numericable.fr)
[19:20:09] <kimundi> bvssvni, edwardw: I doubt it would work, but lets bpicolo try it I guess :)
[19:20:42] <bpicolo> bvssvni:  No dice
[19:21:00] <bpicolo> I can't tell if this is my flaw or a library flaw
[19:21:00] <bpicolo> lol
[19:21:01] <bollu> how expensive is cloning an Rc<RefCell<T>> ?
[19:21:12] <kimundi> bollu: x += 1
[19:21:19] <bollu> kimundi: really? 
[19:21:20] <edwardw> bollu: only a refcount
[19:21:23] <kimundi> well, *x += 1
[19:21:52] <kimundi> bollu: Yes, thats what reference counting is all about :)
[19:21:55] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[19:22:13] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[19:22:17] <bollu> kimundi: :) 
[19:22:34] <bollu> kimundi: so it implements Clone to implement refcount?
[19:22:38] <kimundi> yes
[19:22:50] <bollu> kimundi: ah, good to know.
[19:23:00] <kimundi> Clone is defined that way
[19:23:03] <bollu> kimundi: where you use RefCell<T> without the Rc ?
[19:23:08] *** Quits: awidegreen (awidegreen@8543F1FD.A03A67DC.4329AE1A.IP) (Ping timeout)
[19:23:18] <kimundi> "minimum work necessary to get a T from a &T"
[19:23:25] <edwardw> bollu: check out libstd/rc.rs, it is not that complicated :)
[19:23:36] <bollu> edwardw: ty. will do. 
[19:23:44] <kimundi> bollu: I don't understand the last question.
[19:23:59] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[19:24:07] <bollu> kimundi: is there a usecase for Rc<T> ? 
[19:24:16] <bollu> other than Rc<Refcell<T>> ?
[19:24:31] <kimundi> bollu: Yes, for immutable data
[19:24:45] <edwardw> RefCell is for interior mutability (for NonCopy type), Rc is for refcount
[19:24:58] <bollu> kimundi: ah. so, to garbage collect stuff like textures this could come in handy.
[19:25:04] <kimundi> yeah
[19:25:28] <bollu> kimundi: what's transmute?
[19:25:43] <bollu> pub unsafe fn transmute<L, G>(thing: L) -> G 
[19:25:52] <bollu> so, like, reinterpret_cast?
[19:26:03] <edwardw> exactly
[19:26:08] <kimundi> bollu: yes
[19:26:37] <bollu> *mut RcBox<T> <- what's * ?
[19:26:43] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[19:26:43] <kimundi> bollu:  raw pointer
[19:26:47] <kimundi> bollu: like C
[19:26:54] <edwardw> that's raw pointer
[19:26:54] <kimundi> just... different#
[19:27:10] <kimundi> rusti: &5u as *_
[19:27:10] -rusti- 0x7fff26240098
[19:27:17] *** Joins: p1start (rewi@moz-E7F3D014.org)
[19:27:22] <bollu> kimundi: ah. and it differs from & cause it doesn't lifetime check?
[19:27:28] <kimundi> yes
[19:27:28] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[19:27:36] <kimundi> bollu: Hence dereferencing it is unsafe
[19:27:43] <bollu> hm, what about pointer arithmetic? :D
[19:27:48] <kimundi> bollu: also unsafe
[19:27:57] *** Joins: sw17ch (sw17ch@moz-4AF0345C.hfc.comcastbusiness.net)
[19:28:00] <kimundi> bollu: There are methods and functions for it
[19:28:03] <edwardw> bollu: there's std::ptr::RawPtr::offset
[19:28:04] *** Quits: akhosrav (akhosrav@moz-75023AE8.tukw.qwest.net) (Quit: WeeChat 0.4.2)
[19:28:14] <bollu> that's neat
[19:28:32] <bpicolo> Allllright
[19:28:34] <bollu> and rust stdlib is /readable/ unlike C++... 
[19:28:39] <bpicolo> Think I know how do do this but it will be complicated
[19:28:40] <bpicolo> : )
[19:28:41] <edwardw> hopefully it won't be needed that often
[19:28:43] <bpicolo> Good.
[19:29:06] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:29:14] <edwardw> bollu: told u :P
[19:29:23] <bollu> #[unsafe_destructor] <- what's the use? edwardw: yeah, I'm impressed.
[19:29:38] <bpicolo> What's bad about the declaration "let s = Vec<Option<~[u8]>>;"
[19:29:46] *** Joins: alkino_ (alkino@moz-B4A66306.w92-151.abo.wanadoo.fr)
[19:30:01] <bpicolo> oh
[19:30:01] <bpicolo> duh
[19:30:03] *** Joins: fyolnish (fyolnish@moz-AE0B8053.uqwimax.jp)
[19:30:08] *** Quits: bytbox (s@460BF35B.10A53EE3.77834EAA.IP) (Client exited)
[19:30:17] *** Quits: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de) (Quit: Leaving.)
[19:30:31] <bpicolo> needs value = |
[19:30:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[19:30:55] *** Joins: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de)
[19:31:10] <kimundi> bollu: It removes the drop flag that all types that contain destructors currently get, and instead requires the Drop implementor to check for it differently
[19:31:45] *** Quits: fyolnish (fyolnish@moz-AE0B8053.uqwimax.jp) (Ping timeout)
[19:31:53] <bollu>  fn eq(&self, other: &Rc<T>) -> bool { **self == **other } <- this is expensive no? can't you compare memory locations?. kimundi : different as in?
[19:31:54] <kimundi> bollu: Currently, rustc doesn't know statically where a struct gets dropped and where moved, so it needs a boolean flag to check it an runtime
[19:32:10] *** Joins: EastByte_ (EastByte@moz-C164E01D.ewe-ip-backbone.de)
[19:32:15] *** Joins: fyolnish (fyolnish@moz-AE0B8053.uqwimax.jp)
[19:32:42] <bollu> kimundi: ah. 
[19:32:45] *** Quits: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de) (Ping timeout)
[19:32:45] *** Quits: EastByte (EastByte@moz-29960729.ewe-ip-backbone.de) (Ping timeout)
[19:33:05] <bollu> kimundi: C++ does it at compile with the ugly std::move right? 
[19:33:17] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[19:33:27] <kimundi> bollu: No idea how expensive that is, but I guess less expensive than trying to compare memory locations first. Remember that a lot of pointer indirection overhead gets optimized away, that one probably specializes to a .eq() call on T directly
[19:33:47] <kimundi> bollu: No idea how the semantic of C++ are
[19:33:58] *** Quits: fyolnish (fyolnish@moz-AE0B8053.uqwimax.jp) (Ping timeout)
[19:34:01] *** Joins: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de)
[19:34:59] <bollu> kimundi: AFAIK until C++11 it didn't even /have/ proper move semantics. then they introduced some crazy stuff into the stdlib that lets you annotate moves. it's a mess imo
[19:35:10] *** Quits: itdaniher (it@moz-7FAAAB8D.bstnma.fios.verizon.net) (Ping timeout)
[19:35:25] *** Joins: Guest_ (textual@333EC5A2.D8252BC.9532F1CE.IP)
[19:35:27] *** Joins: lkuper (lkuper@52686EB2.654CD82F.51B6877.IP)
[19:36:46] <bollu> https://github.com/mozilla/rust/blob/master/src/libstd/num/f32.rs#L26-L46 <- what does that macro do? 
[19:37:08] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:37:26] <edwardw> bollu: it is used right away under the declaration
[19:37:33] <bpicolo> Heyyyyyy we're compiled
[19:37:35] <bpicolo> Boom
[19:37:46] <bpicolo> Thanks for helping me guys : )
[19:38:01] <bollu> edwardw: but that doesn't tel me what it does :)
[19:38:26] <bollu> I think it covers the function with an unsafe {} but I'm not sure
[19:38:33] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Connection reset by peer)
[19:38:37] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[19:38:38] *** Joins: itdaniher (it@moz-7FAAAB8D.bstnma.fios.verizon.net)
[19:38:44] <edwardw> bollu: oh, it just uses intrinsics to implements e.g. `fn sqrt(n: f32)`
[19:38:56] <edwardw> a straightforward wrapper
[19:39:05] <bpicolo> Time to increase complexity by tenfold to make sense.
[19:39:06] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[19:39:26] <bollu> edwardw: ah. why is it divided that way?
[19:39:32] *** Quits: Dessimat0r (Dessimat0r@moz-E3008B7A.me) (Quit: ZNC - http://znc.in)
[19:39:44] <jroweboy> Hello everyone! Is there a way to kind emulate generators in rust currently?
[19:40:07] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[19:40:12] <edwardw> bollu: no need to duplicate code, macro does that for us
[19:40:12] <eddyb> jroweboy: you can have your own state machines
[19:40:24] <eddyb> jroweboy: nothing fancy, like a procedural macro, *yet*
[19:40:28] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[19:40:33] *** Joins: Dessimat0r (Dessimat0r@moz-E3008B7A.me)
[19:40:38] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[19:40:43] *** Joins: akhosrav (akhosrav@moz-75023AE8.tukw.qwest.net)
[19:40:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:40:54] <bollu> edwardw: gotcha. Where's intrinsics located
[19:40:55] <bollu> ?
[19:41:28] <edwardw> bollu: https://github.com/mozilla/rust/blob/master/src/libstd/intrinsics.rs
[19:41:38] <bollu> edwardw: ty
[19:41:51] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[19:42:05] *** Joins: lunaryorn (lunaryorn@moz-976A0A49.dynamic.mnet-online.de)
[19:42:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:42:22] <jroweboy> eddyb I learned about a framework called durian where middleware is implmented as a generator so everything that should be done before the controller receives the request is done, then the middleware function calls yield and the framework calls the next middleware/controller function. 
[19:42:49] <jroweboy> eddyb I'm not sure I can use a state machine for something like that :(
[19:42:55] <bollu> where's all of that implemented?
[19:43:00] <eddyb> jroweboy: all generators are state machines ;)
[19:43:05] <alan_andrade> Guys, does this section need documentation or is somewhere else and I'm looking in the wrong place. http://static.rust-lang.org/doc/master/std/io/struct.TempDir.html
[19:43:05] <eddyb> jroweboy: and can be implemented as such
[19:43:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[19:44:11] *** Quits: bpicolo (Mibbit@moz-17A9D4D3.dsl.snfc21.pacbell.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:44:18] <bollu> eddyb: what generators are you guys talking about? edwardw : where is intrinsics implemented?
[19:44:28] <jroweboy> eddyb: I've never really thought about it that way. I'll go look into how generators are implemented then :D
[19:44:35] <bollu> eddyb: this - http://en.wikipedia.org/wiki/Generator_(computer_programming) ?
[19:45:22] <eddyb> jroweboy: traceur-compiler's state machine transform beats v8's native reification
[19:45:23] <jroweboy> bollu: yeah that one. Like in python the yield keyword makes a generator
[19:45:47] <eddyb> jroweboy: so they're not only possible, but even better for optimizations
[19:45:55] <bollu> jroweboy: ah. 
[19:46:49] <eddyb> jroweboy: the only thing that you can't encode with Iterator is yield giving you a value back
[19:46:53] <eddyb> jroweboy: like let x = yield y;
[19:47:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[19:47:11] <eddyb> jroweboy: yield y is just "return Some(y);" after changing the state
[19:48:18] <jroweboy> Looks like I have lots to learn about generators then :D Thanks for the info. I really like the idea behind durian and how it works.
[19:48:36] <bollu> eddyb: aren't python's generators kind of like one-shot iterables?
[19:48:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[19:48:47] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[19:48:56] <edwardw> bollu: intrinsics are provided by rustc directly
[19:49:21] <edwardw> hence the name :P
[19:49:33] <bollu> edwardw: good to know :)
[19:49:47] <eddyb> bollu: calling the generator returns a state which is iterable
[19:50:18] *** Quits: lunaryorn (lunaryorn@moz-976A0A49.dynamic.mnet-online.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:50:54] <bollu> eddyb: hm, but the generator would "die" after iterating once fully wouldn't it?
[19:51:07] <eddyb> bollu: the generator is a function which returns the iterator
[19:51:08] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[19:51:17] *** Joins: lunaryorn (lunaryorn@moz-976A0A49.dynamic.mnet-online.de)
[19:51:20] <sw17ch> Is the Unique Vector wording in the tutorial still accurate? http://static.rust-lang.org/doc/master/tutorial.html#vectors-and-strings
[19:51:23] <eddyb> also, all iterators can be exhausted only once
[19:51:33] *** Quits: lunaryorn (lunaryorn@moz-976A0A49.dynamic.mnet-online.de) (Quit: Textual IRC Client: www.textualapp.com)
[19:51:44] <bollu> eddyb: nope, generator is an object in python
[19:51:44] <eddyb> (unless they implement Clone and you clone them)
[19:51:51] <eddyb> bollu: *sigh*
[19:51:56] <bollu> eddyb: nvm, we're talking about different languages xD
[19:52:05] <bollu> eddyb: continue :)
[19:52:21] <eddyb> in python, a function with yield in it (the generator) returns an iterable
[19:52:43] <eddyb> are you calling the function, or the iterable it returns "generator"?
[19:53:54] <bollu> eddyb: the generator "function" returns an object which implements the iterable interface which is the generator "object" is my view of it.
[19:54:06] <bollu> that sentence is a mess
[19:54:14] <eddyb> bollu: yeah, but then you have to use "generator function" and "generator object"
[19:54:31] <eddyb> fn foo() {yield 1; yield 2;} is fn foo() => Iterator<int> {Some(1).move_iter().chain(Some(2).move_iter())}
[19:54:33] <bollu> eddyb: true. 
[19:54:39] *** Joins: devbug (quassel@moz-8C40558B.bchsia.telus.net)
[19:54:44] <eddyb> the => Trait syntax is hypothetical
[19:55:41] <bollu> eddyb: hm, gotcha,
[19:55:41] *** Quits: murph (murph@moz-F07B75BF.oracle.com) (Broken pipe)
[19:55:50] *** Quits: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com) (Ping timeout)
[19:55:53] *** Joins: murph (murph@moz-F07B75BF.oracle.com)
[19:55:59] *** Joins: dmillerw (Dylan@moz-6CB07AF.eugn.qwest.net)
[19:56:03] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[19:56:09] <eddyb> jroweboy: ^^ also check out that example
[19:56:13] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[19:56:18] *** Parts: Guest_ (textual@333EC5A2.D8252BC.9532F1CE.IP) (Textual IRC Client: www.textualapp.com)
[19:56:37] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[19:56:54] <bollu> eddyb: is Rust's range(a, b) a generator?
[19:57:09] <eddyb> range could be a generator function
[19:57:16] <eddyb> with the Range iterator a generator object
[19:57:34] <doomlord_> what would that => do..
[19:58:12] <bollu> doomlord_: specify a trait? that the yielded value has to obey? :)
[19:58:14] <kimundi> doomlord_: Some notation for "anonymouse type that implements Iterator"
[19:58:32] <kimundi> doomlord_: Same notation a unboxed closure would probably have.
[19:58:53] <kimundi> And different from trait objects
[19:59:31] <doomlord_> and that can't be expressed by just a typeparam thats bounded by the trait?
[20:00:23] <doomlord_> fn foo<X:Iterator<int> >   foo()->X { ..... <<<< its not that, right?
[20:00:38] <bollu> eddyb: why is there a Filter, FilterMap and Range? (aren't they all somewhat related? )
[20:00:39] <doomlord_> scrub the second foo
[20:01:00] <eddyb> bollu: how is Filter related to Range?
[20:01:10] <doomlord_> damn you people , now i need a C++ to rust converter
[20:01:20] <eddyb> doomlord_: no, it's not that
[20:01:31] <bollu> eddyb: wait, Range was not supposed to be in the list >_> I meant to compare Range and RangeInclusive
[20:01:39] <eddyb> bollu: different semantics
[20:02:18] <kimundi> doomlord_: Exactly, thats different.
[20:02:34] <bollu> eddyb: ah. 
[20:02:56] <kimundi> doomlord_: That generic function would mean "caller gets to choose the type", eddyb's syntax would mean "type is known, but doesn't have a name we can give you"
[20:03:12] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[20:03:28] *** Quits: dmillerw (Dylan@moz-6CB07AF.eugn.qwest.net) (Quit: Leaving)
[20:03:53] <doomlord_> ok more forward type inference, and rules on what types are generated
[20:04:27] <bollu> kimundi: I'm not sure what you mean by 'doesn't have a name we can give you' 
[20:05:26] *** Quits: andrezs (andrezs@moz-D75B94E4.carolina.res.rr.com) (Ping timeout)
[20:05:34] <kimundi> bollu: Imagine a function that returns a type "Foo". "Foo" is defined somewhere, you can look it up in the docs, it implement traits, so you can call methods on it etc.
[20:05:51] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[20:05:54] <bollu> okay.
[20:06:22] *** Quits: TinFox (TinFox@78EB628F.31EFBBCD.49448EDE.IP) (Input/output error)
[20:06:41] <kimundi> bollu: Now imagine all that, except Foo is nowehere written down. And because its not written down, it doesn't have name, no docs, and explicit trait impls.
[20:06:52] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[20:07:03] <kimundi> But its still a single, to the compiler known type
[20:07:21] <doomlord_> its just a type that drops out of the type system propogating whatever down the call graph?
[20:07:41] <bollu> kimundi: in eddyb's example, where was the annonymous type?
[20:07:53] <eddyb> bollu: the chained iterator
[20:08:03] <kimundi> bollu:  "=> Iterator<int>"
[20:08:05] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[20:08:08] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[20:08:19] <eddyb> bollu: it's something like Chain<OptionIter, OptionIter>
[20:08:27] <kimundi> doomlord_: I'm not sure how to parse that question :)
[20:08:31] <alan_andrade> When you compile rust, it reads "oxidize: ..."
[20:08:35] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[20:08:36] <alan_andrade> what's that about ?
[20:08:38] <bollu> okay, but, chain<U: Iterator<A>>(self, other: U) -> Chain<Self, U>
[20:08:53] <kimundi> alan_andrade: its just a funny way to give the "I'm compiling this lib" message
[20:08:56] <bollu> the type is known right? 
[20:09:03] <alan_andrade> ahhhh gotcha
[20:09:07] <sw17ch> Is there anything discussing the state of ~[] right now? I’ve been out of Rust since about 0.8. Trying t ocatch up.
[20:09:16] <alan_andrade> sometimes it read "compile: ... "
[20:09:30] <alan_andrade> is that C compiling rust
[20:09:34] <alan_andrade> C/C++
[20:09:35] <kimundi> alan_andrade: Thats other stuff, like llvm or auxiliary C libs
[20:09:44] <mcpherrin> sw17ch: ~[] is currently the same as 0.8, but will be changing soonish
[20:10:00] <alan_andrade> oxidize. I like it  : )
[20:10:12] <sw17ch> mcpherrin: I’m looking over std::Vec. That’s where things are going, yes?
[20:10:25] <mcpherrin> sw17ch: that's the new resizable vector, yes
[20:10:42] <kimundi> sw17ch: Everything [] related will have a huge semantic change in the near future with DST, currently you should use Vec<T> for owned vectors and &[T] for non-onwing slices.
[20:10:59] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[20:11:01] <sw17ch> kimundi: DST -> dynamically-sized-types?
[20:11:06] <kimundi> yes
[20:11:09] <kimundi> :)
[20:11:40] <sw17ch> kimundi: so, http://static.rust-lang.org/doc/master/tutorial.html#vectors-and-strings, isn’t quite up to date then with the current “best practice”, right?
[20:11:48] <sw17ch> just to make sure i’m not confusing myself unneccisarily
[20:12:00] <kimundi> sw17ch: Correct
[20:12:02] <sw17ch> unneccesarily*
[20:12:18] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[20:12:27] <sw17ch> kimundi, mcpherrin: great, thanks to you both :)
[20:12:43] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[20:12:45] <sw17ch> oh, did anything interesting ever happen with struct-like-enums?
[20:13:04] <kimundi> sw17ch: Technically, you can continue using ~[T] right now, but just using Vec<T> until the change happend will give you less trouble :)
[20:13:35] <kimundi> sw17ch: Nothing interesting, still feature gated until someone fixes all the bugs or so
[20:13:48] <sw17ch> kimundi: i like Vec<T> a lot more than ~[] any way.
[20:13:57] <sw17ch> kimundi: are there strong feelings on it being in 1.0?
[20:14:40] <kimundi> sw17ch: No idea
[20:14:45] <doomlord_> i like the new use of ~[T] aswell , I always liked having the equivalent of that in my own c++ libs in addition to growable vectors
[20:15:08] <bollu> doomlord_: what's the new use?
[20:15:12] <sw17ch> oh, missed that part of the conversation: what *is* the new use of ~[T]
[20:15:19] <kimundi> bollu: owned slice, a fixed sized allocation
[20:15:23] <sw17ch> bollu: ^_^
[20:15:29] <doomlord_> as far as i know ~[T] is going to be (T*,size)  
[20:15:37] <kimundi> correct
[20:15:44] <doomlord_> distinct from Vec<T> which is T*, size, capacity  or equivalent
[20:15:46] <bollu> kimundi: ah, yes. I remember you telling me that before :)
[20:15:47] <sw17ch> kimundi: so, fixed sized array on the heap?
[20:15:56] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[20:16:06] <kimundi> sw17ch: yeah, but not type-system level fixed sized
[20:16:16] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[20:16:18] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[20:16:19] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[20:16:26] <kimundi> ~[T] will be a ~[T, ..N] with the N part erased and stored as part of the fatpointer
[20:16:43] *** Quits: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[20:16:48] <sw17ch> kimundi: so, length-checked, but not in the type system
[20:16:54] <kimundi> yep
[20:16:56] *** Quits: koderok (Thunderbir@1E163266.8E954A20.85BF2EFC.IP) (Quit: koderok)
[20:17:12] <sw17ch> kimundi: huh, i hadn’t thought much about this. is there much overhead in indexing then?
[20:17:17] <kimundi> O(n) push/pop, which is why we probably wouldn't support push/pop
[20:17:22] <sw17ch> (sorry if i’m getting off topic or eating too much channel time)
[20:17:27] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[20:17:32] <mcpherrin> That's what this channel is for :)
[20:17:41] <kimundi> sw17ch: Not really any overhead
[20:17:48] <sw17ch> :)
[20:17:58] <kimundi> sw17ch: But I'm not sure I understand the question :)
[20:18:03] <bollu> night guys!
[20:18:14] <mcpherrin> bollu: good morning to you too :)
[20:18:35] <bollu> mcpherrin: xD
[20:19:06] *** Joins: Savago (Savago@202BED95.35A5082B.B8C5454C.IP)
[20:19:19] <sw17ch> bool index_array(int * arr, size_t arr_size, unsigned int index, int * result) { if (index < arr_size) { *result = arr_size[index]; return true; } else { return false; } }
[20:19:54] <edwardw> Option<int> probably more idiomatic
[20:19:56] <sw17ch> basically, is each index inside of the owned slice — does it have to do any special checking in the length of the fat pointer?
[20:20:12] <sw17ch> or does the user have to do said checking?
[20:20:31] <rchar> so theres no safe way for a struct that contains borrowed pointers to be Sendable?
[20:20:39] <kimundi> sw17ch: All indexing remains bound checked per default, if thats what you'Re asking
[20:20:56] <sw17ch> kimundi: i think that’s what i’m asking.
[20:21:07] <sw17ch> still O(1)
[20:21:14] <kimundi> sw17ch: No change in semantic there, this is just about where the size is stored
[20:21:27] <sw17ch> got it. thank you. :)
[20:21:29] <kimundi> O(1) still,y eah
[20:22:15] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[20:22:16] *** Joins: mib_6uzs1m (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[20:22:28] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[20:23:16] <edwardw> https://github.com/mozilla/rust/issues/12723 I genuinely LOLed
[20:23:50] <kimundi> Is that the grenate one?
[20:24:02] *** Quits: tobytailor (tobytailor@moz-2C803B2F.tmodns.net) (Quit: tobytailor)
[20:24:05] <edwardw> yes it is
[20:24:07] <mcpherrin> When I saw the title, I thought "grenade stack" was going to be about the totalitarian hair salon thread
[20:24:31] <edwardw> I thought the same!
[20:25:09] <alan_andrade> I'm running rustdoc against src/libstd/io/tempfile.rs and I get "unresolved imports". Do I need to pass libraries for rustdoc to include them ?
[20:25:24] <alan_andrade> https://gist.github.com/anonymous/4a6c82dffe43a3e638f4
[20:26:03] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[20:27:47] *** Joins: IanCormac841 (User@79627EAB.64D641E5.67DFF8B4.IP)
[20:27:55] *** Quits: IanCormac84 (User@53356E88.64D641E5.67DFF8B4.IP) (Ping timeout)
[20:28:14] <edwardw> alan_andrade: never use rustdoc like that. but `rustdoc src/libstd/lib.rs` will do
[20:28:28] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[20:28:38] <edwardw> I mean I never use rustdoc like that
[20:29:31] *** Quits: mib_6uzs1m (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:29:58] <alan_andrade> I worked running it against lib.rs. Thnks
[20:31:26] *** Joins: fyolnish (fyolnish@moz-A40216D7.uqwimax.jp)
[20:31:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[20:31:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[20:33:09] *** Quits: fyolnish (fyolnish@moz-A40216D7.uqwimax.jp) (Ping timeout)
[20:33:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[20:33:49] <fredy> Hello, is there any better way to implement this http://pastebin.mozilla.org/4724052 ...
[20:33:51] <fredy> What I am trying to do is to have a struct with a field that can get all types which implements a trait. Then I want to implement functions for that struct and do pattern matching on the types which implement the trait.
[20:35:22] <cmr> Any announcements for TWiR?
[20:35:35] *** Joins: IanCormac84 (User@846AF5FC.64D641E5.67DFF8B4.IP)
[20:35:50] *** Quits: IanCormac841 (User@79627EAB.64D641E5.67DFF8B4.IP) (Ping timeout)
[20:36:03] *** Quits: edwardw (edwardw@4112974A.B4358688.30F15291.IP) (Quit: Leaving...)
[20:36:29] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[20:36:29] <cmr> fredy: you might look at http://static.rust-lang.org/doc/master/std/any/index.html
[20:36:44] *** Quits: heftig (heftig@moz-6B4FBFAD.dip0.t-ipconnect.de) (Quit: Quitting)
[20:39:07] <fredy> thx cmr I'll take a look :)
[20:39:55] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[20:40:16] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[20:41:59] *** Joins: bletch (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[20:42:21] *** Joins: heftig (heftig@moz-6B4FBFAD.dip0.t-ipconnect.de)
[20:42:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:43:50] *** Quits: bletch (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:44:39] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:45:45] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[20:47:37] *** Joins: det (chris@moz-EAECB432.lv.lv.cox.net)
[20:47:42] *** Joins: tgkokk (user@moz-88CCC929.home.otenet.gr)
[20:51:41] *** Quits: Savago (Savago@202BED95.35A5082B.B8C5454C.IP) (Ping timeout)
[20:52:11] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:52:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:52:23] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[20:52:25] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:55:23] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[20:56:41] *** Joins: Nekit1234007 (Nekit12340@7B4CA0FD.CDD224AA.4707F662.IP)
[20:57:21] *** Quits: Nekit1234007_ (Nekit12340@moz-409F3D76.dyn.broadband.iskratelecom.ru) (Ping timeout)
[20:58:49] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:00:35] *** Quits: jackneill (jackneill@moz-ACF46BD7.pool.digikabel.hu) (Input/output error)
[21:00:54] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[21:01:09] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[21:04:22] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[21:04:33] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[21:05:03] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[21:06:12] <sw17ch> can some one else confirm for me that the example in this page is wrong because it doesn’t inspect the IoResult? 
[21:06:13] <sw17ch> http://static.rust-lang.org/doc/master/std/io/net/tcp/struct.TcpListener.html
[21:07:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[21:07:42] *** Joins: derek_c (derek@moz-767CE985.nys.biz.rr.com)
[21:08:20] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[21:08:28] <kimundi> sw17ch: That looks wrong indeed, but I'm confused. I though we are testing these code examples these days
[21:08:43] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[21:08:50] <sw17ch> kimundi: i just happen to be making a TCP echo server for re-learning this
[21:08:57] <sw17ch> is this something i can fix? i’m running on master and have the code locally.
[21:09:05] <sw17ch> i don’t know how to contribute or what the “right thing” to do here would be
[21:09:57] <kimundi> sw17ch: If you know that is wrong, you can just make a pull request fixing it with an explanation why its wrong :)
[21:10:04] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[21:10:09] <kimundi> If you need help with that, just say so.
[21:10:24] *** Quits: mye (mye@moz-42C4971D.vpn.ipredator.se) (Ping timeout)
[21:10:28] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[21:10:30] <Tari> it looks like there's trickiness in there making that example not really be tested
[21:10:39] *** Joins: mgottschlag (quassel@moz-AEA0F6B0.hsi6.kabel-badenwuerttemberg.de)
[21:10:52] <Tari> the visible example code is wrapped in a dead function
[21:11:17] <kimundi> right, but it still should typecheck, which it wouldn't afaik
[21:11:22] <Tari> with #[allow(unused_must_use, dead_code)] to boot
[21:11:36] <Valloric> I have a really tricky lifetimes issue, advice welcome: https://gist.github.com/Valloric/a943241bcad2e65cb52b
[21:11:38] <Tari> yeah, it doesn't look like it should typecheck
[21:12:35] <Tari> Valloric: 'a in apply is not the same as 'a in WrapEx
[21:12:48] <kimundi> type Rule<'a> = fn<'a>( &'a ParseState<'a> ) -> Option< ParseResult<'a> >;
[21:12:48] <Tari> remove the lifetime parameter from apply
[21:12:52] <kimundi> Valloric: ^
[21:13:06] <kimundi> Or...
[21:13:09] <Valloric> Tari, kimundi: I know it’s not the same lifetime
[21:13:12] * kimundi should read more
[21:13:16] <Valloric> and I can’t remove the lifetime on apply
[21:13:24] <Valloric> I need to specify that the stored func
[21:13:32] <Valloric> the param and the return value of it
[21:13:36] <Valloric> have the same lifetime
[21:13:48] <Tari> but you do that on the type itself
[21:13:50] *** Quits: tyoverby (tyoverby@73D4AA0F.5BB0586B.11F8506F.IP) (Connection reset by peer)
[21:14:24] <Valloric> Tari: I’m not sure I follow
[21:14:30] <Tari> impl<'a> Expression for WrapEx<'a> { fn apply(&self, parse_state: &ParseState<'a>) -> Option<ParseResult<'a>> { }
[21:14:39] <Tari> should be okay I think
[21:14:51] <Valloric> tried that, doesn’t work
[21:15:03] <Valloric> because it doesn’t match the declaration on Expression
[21:15:07] <sfackler> sw17ch: it's not technically wrong since there's an impl of Listener for IoResult<Listener> that should really be removed
[21:15:09] <Valloric> which has lifetime on apply
[21:15:20] <Valloric> and that’s an API I have to implement
[21:15:30] <sw17ch> sfackler: i just noticed that
[21:15:30] <Tari> then I think kimundi had the right idea
[21:15:47] <Tari> declare Rule as a fn<'a>()
[21:15:51] <sw17ch> sfackler: and that sorta seams wrong
[21:15:54] <sw17ch> and scary
[21:15:56] <Valloric> Tari: I’ll try that
[21:15:59] <kimundi> Try "type Rule<'a, 'b> = fn<'b>( &'b ParseState<'a> ) -> Option< ParseResult<'a> >;" and then see if you can reduce it.
[21:16:38] <Valloric> kimundi, Tari: this worked type Rule<'a> = fn<'a>( &ParseState<'a> ) -> Option< ParseResult<'a> >;
[21:16:52] <Valloric> basically I needed <‘a> after fn
[21:16:54] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[21:16:56] <Valloric> thank you both!
[21:18:22] <sw17ch> sfackler, kimundi: so i guess that example is fine because of the impl for IoResult<Listener>
[21:18:31] <sw17ch> “fine” if not a little surprising
[21:18:44] <kimundi> yeah
[21:18:53] <Valloric> just for the record, here’s the final working version: https://gist.github.com/Valloric/a943241bcad2e65cb52b
[21:19:11] <Valloric> there was no need for a lifetime on Rule (and thus WrapEx) at all
[21:19:21] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Connection reset by peer)
[21:19:37] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[21:19:40] *** Joins: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net)
[21:19:51] <kimundi> intersting
[21:19:51] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[21:20:05] <sfackler> sw17ch: all of the examples in the docs are compiled and executed by the test infrastructure so they all *should* work
[21:20:35] <kimundi> sfackler: I knew that, and still didn't believe that code to be correct :P
[21:20:46] <sfackler> haha
[21:21:25] <sw17ch> are there good reasons to magically pass through impls like that around IoResult?
[21:21:46] <Tari> it can be useful at times
[21:21:47] <sw17ch> i suppose you could have the Err branches go to fail!
[21:22:00] <sfackler> that's what it does
[21:22:11] <sfackler> IIRC it's a holdover from the old condition-backed IO system
[21:22:36] <sfackler> where an Option<TcpStream> or whatever was actually always Some(stream) since no-one actually handled conditions
[21:23:27] <sw17ch> i never groked the condition-backed IO stuff. i saw it referenced, never knew what it was
[21:23:53] *** Joins: wzsk (wzsk@4F7252F2.CEBBE496.E48CFF63.IP)
[21:24:42] <AncientPC> It looks like there was an experimental JIT compiler added 2 years ago to Rust, does anybody know the status of it? https://mail.mozilla.org/pipermail/rust-commits/2012-August/005438.html
[21:25:27] <Tari> probably removed about the same time rusti was
[21:25:48] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[21:25:54] <Tari> since it was rather flaky and nobody was maintaining it
[21:26:06] <AncientPC> thx, is rusti a separate tool now?
[21:26:19] <Tari> rusti is no longer a thing (for the same reason)
[21:27:08] <kimundi> rusti: "I'm just rustc in disguise"
[21:27:08] -rusti- I'm just rustc in disguise
[21:29:10] <radford> When editing libstd, is there a short circuiting make command that will build just libstd, and nothing else?  Same for quickly running the benchmarks contained in a given file in libstd?
[21:29:17] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[21:29:27] <AncientPC> It looks like JIT support was removed? https://mail.mozilla.org/pipermail/rust-dev/2013-May/004234.html
[21:29:32] <mcpherrin> AncientPC: it never really worked right
[21:29:41] <kimundi> radford: There are various make targets
[21:29:47] <sfackler> radford: make-check-stage1-std NO_REBUILD=1 TESTNAME=my_bench will do it
[21:30:02] <kimundi> radford: For example make check-stage1-std will build the minimum neccessary to test std
[21:30:02] <radford> sfackler, thanks!
[21:30:30] *** Quits: alkino_ (alkino@moz-B4A66306.w92-151.abo.wanadoo.fr) (Ping timeout)
[21:31:14] <sfackler> er, make check-stage1-std ...
[21:31:27] *** Joins: fyolnish (fyolnish@moz-91988338.uqwimax.jp)
[21:32:26] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[21:32:32] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Ping timeout)
[21:32:32] *** Joins: pepper_chico (pepper_chi@EB1D9484.8A9E5939.F546FA5F.IP)
[21:32:49] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[21:33:10] *** Quits: fyolnish (fyolnish@moz-91988338.uqwimax.jp) (Ping timeout)
[21:33:54] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Client exited)
[21:33:55] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[21:33:58] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[21:34:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[21:34:40] *** Quits: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se) (Ping timeout)
[21:34:43] *** Joins: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se)
[21:35:20] *** Joins: alkino_ (alkino@moz-B4A66306.w92-151.abo.wanadoo.fr)
[21:35:55] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[21:36:17] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:36:34] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Ping timeout)
[21:37:07] *** Quits: o11c (ben@moz-23AECAB8.customer.t3.se) (Ping timeout)
[21:37:37] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[21:37:51] *** Quits: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl) (Client exited)
[21:38:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:38:22] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:38:33] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Client exited)
[21:39:13] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[21:39:28] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[21:40:20] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[21:40:53] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Ping timeout)
[21:41:03] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[21:43:50] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Client exited)
[21:44:31] *** Quits: thesnowdog (doug@E8B162D2.CDB23781.6F17036B.IP) (Ping timeout)
[21:44:54] <sw17ch> what exactly happens when i declare a borrowed string on the stack?
[21:44:58] <sw17ch> &”hello #rust”;
[21:45:06] <sw17ch> what is that, exactly?
[21:45:42] *** Quits: IanCormac84 (User@846AF5FC.64D641E5.67DFF8B4.IP) (Ping timeout)
[21:45:45] <sfackler> sw17ch: in general, doing "let f = &whatever; is the same as doing "let _something_internal = whatever; let f = &_something_internal"
[21:45:54] *** Joins: thesnowdog (doug@E8B162D2.CDB23781.6F17036B.IP)
[21:46:07] <sw17ch> so it’s still in a slot on the stack, but it’s original owner is hidden
[21:46:08] *** Joins: IanCormac84 (User@BC8245A0.2A8D8854.67DFF8B4.IP)
[21:46:12] <mcpherrin> &"foo" gives you a &'static does it not?
[21:46:16] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[21:46:21] <sfackler> but in the case of strings, for reasons that will hopefully go away soon, "foo" is exactly the same as &"foo"
[21:46:24] <sw17ch> ah, okay, so i’m also not great at lifetimes yet either
[21:46:33] *** Quits: wzsk (wzsk@4F7252F2.CEBBE496.E48CFF63.IP) (Quit: WeeChat 0.4.3)
[21:46:44] * sw17ch leaves lifetimes for later
[21:46:48] <sw17ch> i almost have my echo server done
[21:48:05] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[21:49:28] *** Quits: jroweboy (Mibbit@moz-B0B6A670.provo.static.broadweavenetworks.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:50:05] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[21:50:12] *** Joins: wzsk (wzsk@4F7252F2.CEBBE496.E48CFF63.IP)
[21:50:58] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[21:51:05] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:51:48] *** Quits: rootnode (rootnode@moz-7F192013.pools.arcor-ip.net) (Ping timeout)
[21:52:15] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[21:53:54] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[21:54:22] *** Quits: tgkokk (user@moz-88CCC929.home.otenet.gr) (Ping timeout)
[21:57:15] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[21:57:18] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[21:58:49] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[21:59:34] *** Joins: rootnode (rootnode@moz-F8C353DD.pools.arcor-ip.net)
[22:00:01] *** Joins: gwty (gwtypc@6E785434.59BCA205.137C914F.IP)
[22:00:01] *** Quits: ganitsu (ganitsu@moz-BD63915F.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.3)
[22:00:33] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:01:10] *** Joins: lfox (lfox@E8DE57A0.A6ED1BA6.ECED8BE3.IP)
[22:02:26] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[22:03:38] *** Joins: blank_na1e (blank_name@61CFCA5D.9285D4F9.93A5C78C.IP)
[22:03:51] *** Quits: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP) (Ping timeout)
[22:04:14] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Ping timeout)
[22:05:16] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[22:05:36] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[22:06:09] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[22:06:13] <seanmonstar> did usage of brackets with macros land yet? like vec![2, 4, 6] ?
[22:06:20] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[22:06:39] *** Joins: o11c (ben@moz-23AECAB8.customer.t3.se)
[22:06:42] <kimundi> rusti: vec![1, 2, 3]
[22:06:42] <seanmonstar> failing to find the issue
[22:06:42] -rusti- <anon>:10:13: 10:14 error: expected ident, found `[`
[22:06:42] -rusti- <anon>:10         vec![1, 2, 3]
[22:06:42] -rusti-                       ^
[22:06:42] -rusti- playpen: application terminated with error code 101
[22:07:05] <sfackler> doesn't look like it
[22:07:11] <seanmonstar> kimundi: is rusti always using master?
[22:07:44] <sfackler> rusti: version
[22:07:45] -rusti- rustc 0.10-pre (6bf3fca 2014-03-24 18:11:51 -0700)
[22:07:53] *** Joins: mortisha (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[22:08:04] <seanmonstar> that's a week ago
[22:08:08] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[22:08:11] <seanmonstar> ish
[22:08:13] <sfackler> I think it used the arch nightlies which haven't updated for a bit
[22:08:22] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[22:08:51] <seanmonstar> do you which issue number is for brackets? trying to find it to subscribe
[22:08:55] <seanmonstar> do you know*
[22:09:45] <sfackler> https://github.com/mozilla/rust/pull/12947
[22:10:03] *** Quits: IanCormac84 (User@BC8245A0.2A8D8854.67DFF8B4.IP) (Ping timeout)
[22:10:03] *** Joins: IanCormac841 (User@711FF974.2A8D8854.67DFF8B4.IP)
[22:10:10] <seanmonstar> thanks!
[22:10:24] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[22:10:25] *** Quits: gwty (gwtypc@6E785434.59BCA205.137C914F.IP) (Connection reset by peer)
[22:10:53] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:11:29] *** Quits: rootnode (rootnode@moz-F8C353DD.pools.arcor-ip.net) (Connection reset by peer)
[22:11:31] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:11:59] <p1start> rusti: range(0, 5).flat_map(|y| range(0, 5).map(|x| x * y))
[22:12:02] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[22:12:02] -rusti- pastebinned 8 lines of output: http://ix.io/bkC
[22:12:15] *** Quits: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se) (Ping timeout)
[22:12:20] <p1start> rusti: format!("{:?}", range(0, 5).flat_map(|y| range(0, 5).map(|x| x * y)))
[22:12:24] -rusti- pastebinned 37 lines of output: http://ix.io/bkD
[22:12:32] <kimundi> rusti: range(0, 5).flat_map(|y| range(0, 5).map(|x| x * y)).collect::<Vec<uint>>()
[22:12:33] <p1start> #lifetimeproblems
[22:12:35] -rusti- pastebinned 14 lines of output: http://ix.io/bkE
[22:12:49] <kimundi> rusti: range(0, 5).flat_map(|y| range(0, 5).map(|x| x * y)).collect::<Vec<int>>()
[22:12:52] -rusti- pastebinned 17 lines of output: http://ix.io/bkF
[22:13:08] <kimundi> Ah, right
[22:13:12] <kimundi> _that_ issue
[22:13:29] <kimundi> rusti: let r = range(0, 5); range(0, 5).flat_map(|y| .map(|x| x * y)).collect::<Vec<int>>()
[22:13:30] -rusti- <anon>:10:55: 10:56 error: unexpected token: `.`
[22:13:30] -rusti- <anon>:10         let r = range(0, 5); range(0, 5).flat_map(|y| .map(|x| x * y)).collect::<Vec<int>>()
[22:13:30] -rusti-                                                                 ^
[22:13:30] -rusti- playpen: application terminated with error code 101
[22:13:41] <kimundi> rusti: let r = range(0, 5); range(0, 5).flat_map(|y| r.map(|x| x * y)).collect::<Vec<int>>()
[22:13:42] *** Joins: gwty (gwtypc@D17752E3.C4444A44.137C914F.IP)
[22:13:44] -rusti- pastebinned 17 lines of output: http://ix.io/bkG
[22:13:49] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[22:13:53] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[22:13:54] <kimundi> wait thats stupid
[22:14:26] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[22:14:53] <p1start> I'm trying to make an iterator-comprehension macro, and this is the main problem
[22:15:36] *** Joins: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se)
[22:15:46] *** Quits: mortisha (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:15:46] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[22:15:56] <kimundi> The problem is that you can't store a iterator in a closure, because stack closures only reference values.
[22:16:22] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[22:16:24] <kimundi> so the new range(0, 5) inside the flatmap  can't be returned as part of the map()
[22:16:24] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[22:17:23] <kimundi> rusti: range(0, 5).flat_map(|y| range(0, 5)).collect::<Vec<int>>()
[22:17:24] -rusti- <anon>:10:31: 10:32 warning: unused variable: `y`, #[warn(unused_variable)] on by default
[22:17:24] -rusti- <anon>:10         range(0, 5).flat_map(|y| range(0, 5)).collect::<Vec<int>>()
[22:17:24] -rusti-                                         ^
[22:17:24] -rusti- [0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4]
[22:17:53] <kimundi> rusti: range(0, 5).flat_map(|y| range(y, y+5)).collect::<Vec<int>>()
[22:17:54] -rusti- [0, 1, 2, 3, 4, 1, 2, 3, 4, 5, 2, 3, 4, 5, 6, 3, 4, 5, 6, 7, 4, 5, 6, 7, 8]
[22:17:56] *** Quits: IanCormac841 (User@711FF974.2A8D8854.67DFF8B4.IP) (Ping timeout)
[22:18:09] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[22:18:10] *** Joins: IanCormac84 (User@51895C4E.64D641E5.67DFF8B4.IP)
[22:18:31] <kimundi> Only unboxed closures will solve that nicely
[22:19:28] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[22:19:51] <p1start> :(
[22:20:26] <p1start> Could I make my own reference-counted closure type (something like struct<T,U> {x: Rc<T>, y: fn(T) -> U})?
[22:20:37] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[22:21:02] <kimundi> p1start: No need for refcount, you can just make your own by value closure
[22:21:12] <Tobba> hm
[22:21:22] <Tobba> I think I've decided that I'm just gonna code a desktop client for this
[22:21:26] <Tobba> then port that to the browser with emscripten
[22:21:52] <Tobba> I think I'm going to have to manually gut std to be able to get it to work with emscripten in any form though
[22:22:41] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Ping timeout)
[22:22:51] <cmr> last I tested, we emit IR that emscripten simply cannot handle.
[22:22:58] *** Quits: gwty (gwtypc@D17752E3.C4444A44.137C914F.IP) (Ping timeout)
[22:23:00] *** Joins: gwty (gwtypc@D17752E3.C4444A44.137C914F.IP)
[22:23:09] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[22:23:20] <kimundi> struct BiClosure<T, A, B, R> { env: T, f: fn(&mut T, A, B) -> R } or so
[22:24:00] <p1start> kimundi: What are A and B?
[22:24:02] <kimundi> Or just trait BiFn<A, B, R> { fn call(A, B) -> R } and implement for a custom struct
[22:24:35] <Jesse> if you reorder the type parameters you can spell BART
[22:25:05] <kimundi> p1start: sorry, confusing a bit the goals here. Those where meant as two arguments, but thats wrong there.
[22:25:30] *** Quits: Rym (y@D6017974.57AE353C.8772DA20.IP) (Connection reset by peer)
[22:25:39] <hoverbear> Can I parallelize an iterator .filter() command?
[22:25:43] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[22:26:01] <kimundi> hoverbear: Iterators are inherently serial
[22:26:46] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[22:26:48] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: Textual IRC Client: www.textualapp.com)
[22:26:53] <hoverbear> kimundi: Hm, okay. If I did it across a Vector?
[22:27:42] *** Joins: ventos (ventos@moz-9693B721.dip0.t-ipconnect.de)
[22:28:04] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:28:06] <kimundi> hoverbear: More feasible
[22:28:12] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[22:29:04] *** Quits: ventos (ventos@moz-9693B721.dip0.t-ipconnect.de) (Quit: WeeChat 0.4.3)
[22:29:15] <o11c> even iterator filter is *theoretically* parallelizable
[22:29:31] <sw17ch> Any one have feedback on this? https://gist.github.com/sw17ch/9864071
[22:29:34] <o11c> just read N items off, them send them all to worker threads ...
[22:29:46] <p1start> kimundi: sorry, but I still don't really understand how I'd pass a custom closure type to a function which takes a |T| -> U
[22:29:51] <sw17ch> It doesn’t have any warnings, but i’m guessing there are some better patterns i could be using.
[22:30:01] <cmr> p1start: you can't, its type would need to change.
[22:30:01] <kimundi> p1start: Oh, thats not possible
[22:30:05] <hoverbear> o11c, kimundi: Thanks. That's a good starting point. :)
[22:30:17] *** Joins: ventos (ventos@moz-9693B721.dip0.t-ipconnect.de)
[22:31:26] *** Quits: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net) (Ping timeout)
[22:31:29] *** Joins: fyolnish (fyolnish@moz-AB5E8230.uqwimax.jp)
[22:31:49] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[22:32:34] <kimundi> sw17ch: Can you try changing as much "{:s}", e.to_str() into "{}", e as possible?
[22:32:54] <sw17ch> kimundi: oh, i didn’t realize that was an option! :D
[22:33:00] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[22:33:13] *** Quits: fyolnish (fyolnish@moz-AB5E8230.uqwimax.jp) (Ping timeout)
[22:33:25] <kimundi> Also, the & on line 43 is unnecessary :) FOr arcane reasons, a "foo" literal is identical to a &"foo"
[22:33:28] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[22:34:47] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[22:35:22] <sw17ch> kimundi: oh cool. is there anything wrong about the nesty-matches i’m doing?
[22:35:34] <kimundi> sw17ch: In general, I think you can remove all the explicit Err() by changing the functions themself to return IoResult<T> and using the try!() macro to propagate a error upwards. Only need a single Err checker in main then.
[22:36:18] <kimundi> Of course, then the failure location doesn't correspond to the place where a error happend anymore
[22:36:30] <kimundi> but the code gets more readable
[22:36:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:36:39] <hoverbear> Why aren't the Rust docs hosted by github pages?
[22:36:41] <sw17ch> kimundi: interesting.
[22:36:58] <sw17ch> kimundi: error locality is important, but being able to elide over a lot of it is nice to at times
[22:37:49] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Client exited)
[22:37:59] <sw17ch> kimundi: is there a way i could make a version of try! that carried along the location of the failure?
[22:38:15] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:38:57] <kimundi> sw17ch: well try! carries along the original IOError type, which contains some information. But it won't contain a backtrace, which we only recently got for failure
[22:39:15] <sfackler> sw17ch: you can write your own version that uses the line!() and file!() macros to grab the location
[22:39:27] <kimundi> oh, thats a nice idea
[22:39:34] <sfackler> and make some ErrInfo { file: &'static str, line: uint, err: IoError } struct
[22:39:37] *** Quits: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com) (Ping timeout)
[22:39:37] <kimundi> try! works for any Result<T, E> btw
[22:39:39] <sw17ch> sfackler: that’s precisely what i was hoping for
[22:40:06] <sw17ch> augh, gotta run. this has been fun. thanks for everyone’s help.
[22:40:29] <sw17ch> ah, one more quick question
[22:40:35] <sfackler> sw17ch: it'd basically be "macro_rules! try_loc (($e:expr) => (match $e { Ok(ok) => ok, Err(err) => return ErrInfo { file: file!(), line: line!(), err: err } })
[22:40:45] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:40:48] <sw17ch> does reading into a slice do anything to the slice’s size?
[22:40:54] <sfackler> nope
[22:41:00] <sfackler> read returns the number of bytes read
[22:41:06] <sfackler> and everything past that point is unchanged
[22:41:08] *** Quits: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net) (Ping timeout)
[22:41:13] <sw17ch> so, when i stream.write(buf.slice(0,len))
[22:41:15] <sw17ch> i’m doing the right thing?
[22:41:18] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:41:33] <sw17ch> https://gist.github.com/sw17ch/9864071#file-tcp_echo-rs-L55 <— here
[22:41:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:41:39] <sfackler> yeah, write always writes everything in the slice
[22:41:43] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[22:41:58] <sw17ch> excellent. thanks
[22:43:11] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[22:43:20] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:43:54] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[22:44:01] *** Quits: asmyers (quassel@moz-9C9C7CA5.hrbgpa.east.verizon.net) (Ping timeout)
[22:44:47] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:45:18] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[22:46:31] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[22:48:38] *** Joins: asmyers (quassel@moz-9C9C7CA5.hrbgpa.east.verizon.net)
[22:49:07] *** Joins: mye (mye@moz-E692908D.vpn.ipredator.se)
[22:49:34] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[22:52:22] *** Joins: rylev (rylev@moz-2DA871B7.cust.telecolumbus.net)
[22:52:33] *** Quits: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de) (Ping timeout)
[22:52:57] *** Quits: asmyers (quassel@moz-9C9C7CA5.hrbgpa.east.verizon.net) (Ping timeout)
[22:53:15] *** Joins: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de)
[22:54:23] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[22:55:19] *** Joins: leowoe1 (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de)
[22:55:58] *** Quits: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de) (Ping timeout)
[22:56:26] *** Joins: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com)
[22:57:33] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[22:59:13] *** Joins: rootnode (rootnode@moz-F8C353DD.pools.arcor-ip.net)
[22:59:22] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Ping timeout)
[23:00:39] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[23:00:44] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[23:01:45] *** Joins: ganitsu (ganitsu@moz-BD63915F.dialup.adsl.anteldata.net.uy)
[23:02:35] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:03:34] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[23:04:26] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Ping timeout)
[23:05:16] *** Joins: TeXitoi (sihem@moz-D37F3D03.eu)
[23:05:36] <TeXitoi> rusti:     Some("foo").unwrap_or(fail!("bad input")).to_str();
[23:05:39] -rusti- pastebinned 9 lines of output: http://ix.io/bkN
[23:06:53] <sfackler> that's an interesting errorr
[23:07:02] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:07:11] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[23:07:32] *** Quits: leowoe1 (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de) (Ping timeout)
[23:07:54] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[23:08:17] *** Joins: leowoe (Leo@moz-EFCFC1AA.dip0.t-ipconnect.de)
[23:09:21] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:09:22] <cmr> it is
[23:09:32] <cmr> what you really want is .expect("bad input") though
[23:10:41] <TeXitoi> cmr: thanks. Bug report ?
[23:11:02] <sfackler> please, with a backtrace as well
[23:11:04] <cmr> TeXitoi: yeah you should file one.
[23:11:09] <cmr> it's super weird though
[23:11:27] <sfackler> yeah, I can't understand how it's even getting to RefMut at all
[23:12:46] *** Joins: derek_ (derek@moz-767CE985.nys.biz.rr.com)
[23:13:33] <sfackler> maybe it's some autoderef logic going crazy?
[23:13:48] *** Quits: Earnestly (earnest@moz-6CD1AB70.dyn.plus.net) (Ping timeout)
[23:14:05] *** Quits: derek_ (derek@moz-767CE985.nys.biz.rr.com) (Quit: Leaving)
[23:14:13] *** Joins: ctangent (textual@moz-67DD0115.hsd1.wa.comcast.net)
[23:14:18] *** flaper87 is now known as flaper87|afk
[23:14:36] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[23:14:38] *** Joins: nszceta (nszceta@846F205A.518454BE.689607DE.IP)
[23:16:09] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[23:17:59] <TeXitoi> https://github.com/mozilla/rust/issues/13202
[23:24:29] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[23:24:54] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[23:25:16] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[23:26:26] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[23:26:56] *** Joins: jadbaires (jadrian@789756EE.68CD5565.6119BA41.IP)
[23:27:25] *** Joins: Saj (Saj@moz-840D0658.netvisao.pt)
[23:28:35] *** Joins: MinZ (minzh@8EBAD0D5.16D11093.8DE9D37C.IP)
[23:31:24] *** Joins: fyolnish (fyolnish@moz-6EBE7F67.uqwimax.jp)
[23:31:33] *** Quits: mitchty (mitchty@moz-9F527C8F.net) (Ping timeout)
[23:32:55] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:32:55] *** ChanServ sets mode: +ao dherman dherman
[23:33:07] *** Quits: fyolnish (fyolnish@moz-6EBE7F67.uqwimax.jp) (Ping timeout)
[23:34:33] *** Quits: lkuper (lkuper@52686EB2.654CD82F.51B6877.IP) (Quit: lkuper)
[23:35:12] <hoverbear> collections::HashMap seems great, by the way!
[23:37:41] *** Quits: mye (mye@moz-E692908D.vpn.ipredator.se) (Ping timeout)
[23:37:42] <Tobba> uhhhhh
[23:37:48] <Tobba> what the hell is wrong with the unreachable pattern detector
[23:38:13] <kimundi> Tobba: Usually nothing, and you just forgot to import the enum variants ;)
[23:38:18] <sfackler> Tobba: are you importing your variants?
[23:38:27] <Tobba> where do I need to import them
[23:38:31] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[23:38:34] <kimundi> (turning matches into always binding bindings)
[23:38:54] <kimundi> Tobba: With use
[23:38:59] <Tobba> in what module
[23:39:07] <Tobba> they're reachable in everything else that uses this file
[23:39:16] <kimundi> Tobba: So that the match can seethem
[23:39:22] <Tobba> except in one I had to throw in a bullshit seek() to stop that from happening
[23:39:36] <kimundi> If it doesn't look like this is the error, post the error message :)
[23:39:36] <Tobba> it works fine in all other crates (which use the exact same file)
[23:39:52] <kimundi> err, what do you mean with that?
[23:40:10] <Tobba> there are a few other crates that have the same "mod x" statement
[23:40:14] <Tobba> and they all work fine
[23:40:19] <Tobba> but in new crates that do this it craps out
[23:40:19] <kimundi> well..
[23:40:27] <Tobba> (and yes I'm gonna put this into a library at some point)
[23:40:36] <kimundi> There should only be _one_ module containing a "mod x;" statement
[23:40:46] <Tobba> different independent CRATES
[23:40:48] <Tobba> not modules
[23:40:51] <Tobba> basicaly
[23:40:53] *** Joins: Bewilderforce (Bewilderfo@moz-EA5D4D40.ed.shawcable.net)
[23:40:57] <Tobba> the exact same file works absolutely fine in some crates
[23:41:07] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:41:11] <Tobba> but it gives pretty nonsensical errors in others
[23:41:19] <kimundi> are you mixing them between crates?
[23:41:37] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:41:47] <Tobba> ah for fucks sake
[23:41:50] <Tobba> you were right the first time
[23:41:51] <kimundi> as in, one crate includes the same "mod x" as the other, and you try to access one as the other?
[23:41:54] <Tobba> the module wasent importing them
[23:41:58] <Tobba> but it worked anyways for no explicable reason
[23:42:07] <Tobba> and SOME of the arms that werent imported worked for no explicable reason
[23:42:18] <kimundi> The first one?
[23:42:20] <Tobba> and if I made the code reachable from somewhere that imported it it would work
[23:42:21] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:42:21] <Tobba> what the hell
[23:42:50] *** Joins: richo (richo@moz-8032A9CB.pa.vic.optusnet.com.au)
[23:43:14] <Tobba> basicaly
[23:43:16] <Tobba> the code was incorrect
[23:43:24] <Tobba> but parts of it worked for no explicable reason, but only in certain crates
[23:43:42] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Client exited)
[23:44:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:44:15] *** Joins: Doppp (Doppp@moz-CE720357.hfc.comcastbusiness.net)
[23:44:15] <kimundi> well the fact that you are reusing the same source file in different crates makes this enough of a special case that I can only imagine what exactly is going wrong without actual error message :)
[23:44:34] <Tobba> "unreachable pattern"
[23:44:43] <Tobba> which is also a completely nonsensical error for what was wrong
[23:44:46] <Tobba> I'll try to replicate it later
[23:44:56] <kimundi> I meant the part where stuff works in some crates, and not in others
[23:45:12] <Tobba> I have no idea
[23:45:26] <Tobba> basicaly, the match arms were trying to use enum variants that didnt exist
[23:45:37] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:45:44] <kimundi> which creates a local variable instead
[23:45:48] <Tobba> but it never complained about one of them, and it would not care at all if those were defined in a scope that used the method
[23:45:57] <Tobba> ...
[23:45:59] <kimundi> rusti: match 5u { x => x }
[23:45:59] <Tobba> oh god
[23:46:00] -rusti- 5
[23:46:04] <Tobba> yeah
[23:46:06] <kimundi> rusti: match 5u { Foo => Foo }
[23:46:06] -rusti- <anon>:10:20: 10:23 warning: variable names should start with a lowercase character, #[warn(uppercase_variables)] on by default
[23:46:06] -rusti- <anon>:10         match 5u { Foo => Foo }
[23:46:06] -rusti-                              ^~~
[23:46:06] -rusti- 5
[23:46:12] <Tobba> this actually explains a lot
[23:46:18] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:46:24] <Tobba> except why it would automagically work sometimes
[23:46:58] <kimundi> Accidentally restricted enough arms?
[23:47:04] <kimundi> with guards maybe?
[23:47:17] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Client exited)
[23:47:17] *** Quits: ventos (ventos@moz-9693B721.dip0.t-ipconnect.de) (Quit: WeeChat 0.4.3)
[23:47:19] <kimundi> rusti: match 5u { Foo if false => Foo, Bar => Bar + 1 }
[23:47:22] -rusti- pastebinned 7 lines of output: http://ix.io/bkO
[23:47:24] <Tobba> I have no clue, I'll mess with it later
[23:47:31] *** Quits: IanCormac84 (User@51895C4E.64D641E5.67DFF8B4.IP) (Ping timeout)
[23:47:37] <Tobba> hm, nope
[23:47:41] *** Joins: ventos (ventos@moz-9693B721.dip0.t-ipconnect.de)
[23:47:45] *** Quits: ventos (ventos@moz-9693B721.dip0.t-ipconnect.de) (Quit: ventos)
[23:47:54] <Tobba> rusti: match 5u { Foo => Foo, Bar => Bar }
[23:47:54] -rusti- <anon>:10:32: 10:35 error: unreachable pattern
[23:47:55] -rusti- <anon>:10         match 5u { Foo => Foo, Bar => Bar }
[23:47:55] -rusti-                                          ^~~
[23:47:55] -rusti- error: aborting due to previous error
[23:47:55] -rusti- playpen: application terminated with error code 101
[23:47:59] <Tobba> that would basicaly compile
[23:48:10] <Tobba> if Bar existed in some other scope
[23:48:17] *** Joins: IanCormac84 (User@164E80FB.2A8D8854.67DFF8B4.IP)
[23:49:26] <kimundi> Hm
[23:49:34] <kimundi> If Bar is a static I could understand that
[23:50:09] <kimundi> "match" in Rust is basically the place where the most different meanings of a identifier come together, which makes the error cases interesting case-by-case situations, and also shows why naming conventions are important in Rust to have any clue whats going on :)
[23:50:56] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Quit: synackse)
[23:51:05] <o11c> it's a pity that enum elements are considered types, not constants ...
[23:52:27] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[23:52:36] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[23:52:36] <kimundi> o11c: Well they aren't types, thats true.
[23:53:30] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[23:53:30] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[23:53:30] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Quit: Leaving.)
[23:53:37] <kimundi> But applying naming conventions for constants, functions and structs would lead to enum Foo {BAR, baz(uint), Froob { data: uint}}, which I think is worse
[23:55:53] *** Quits: MinZ (minzh@8EBAD0D5.16D11093.8DE9D37C.IP) (Input/output error)
[23:56:03] <o11c> true
[23:56:08] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[23:56:15] <o11c> I don't mind Some(T) and None
[23:56:21] <o11c> but for pure C enums it's a pain
[23:56:51] *** Quits: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net) (Client exited)
[23:56:54] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Input/output error)
[23:56:56] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:56:59] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: ...take irc away, what are you? genius, billionaire, playboy, philanthropist)
[23:57:11] *** Joins: hacker_sam (hacker_sam@moz-F624512F.hsd1.pa.comcast.net)
[23:57:21] *** Quits: IanCormac84 (User@164E80FB.2A8D8854.67DFF8B4.IP) (Ping timeout)
[23:57:31] *** Quits: compmstr (Mibbit@moz-24DB0F25.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:57:52] *** Quits: twi (Adium@moz-429185BE.cust.vodafonedsl.it) (Quit: Leaving.)
[23:57:55] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Client exited)
[23:58:32] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[23:59:23] *** Quits: mgottschlag (quassel@moz-AEA0F6B0.hsi6.kabel-badenwuerttemberg.de) (Ping timeout)
[23:59:29] *** Joins: IanCormac84 (User@AB5E7670.2A8D8854.67DFF8B4.IP)
