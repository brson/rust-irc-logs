[00:42:34] <huon> doener: ping
[00:43:38] <huon> doener: unping
[01:09:21] *** Joins: reem (reem@moz-di7pfv.coob.q2h1.0009.2601.IP)
[01:13:42] *** Quits: reem (reem@moz-di7pfv.coob.q2h1.0009.2601.IP) (Connection closed)
[01:34:51] *** kimundi is now known as zz_kimundi
[01:42:47] *** zz_kimundi is now known as kimundi
[02:03:41] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:10:13] *** kimundi is now known as zz_kimundi
[02:10:32] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[02:12:25] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:18:27] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[02:18:51] *** zz_kimundi is now known as kimundi
[02:32:41] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:38:33] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:55:11] *** Joins: bombless (bombless@moz-ovk.piv.41.59.IP)
[03:00:00] *** Quits: bombless (bombless@moz-ovk.piv.41.59.IP) (Quit: Leaving)
[03:37:02] *** Quits: kimundi (kimundi@moz-2itb6k.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:38:20] *** Joins: kimundi (kimundi@moz-vchv39.dip0.t-ipconnect.de)
[03:42:31] *** kimundi is now known as zz_kimundi
[03:51:15] *** zz_kimundi is now known as kimundi
[04:14:25] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[04:19:50] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[04:43:03] *** kimundi is now known as zz_kimundi
[04:43:47] *** zz_kimundi is now known as kimundi
[04:54:36] *** kimundi is now known as zz_kimundi
[05:11:05] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[05:24:43] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[05:38:58] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[05:43:26] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[07:45:10] *** Joins: reem (reem@moz-i4oevu.coob.q2h1.0009.2601.IP)
[07:49:29] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[07:53:50] *** zz_kimundi is now known as kimundi
[07:57:17] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[08:04:37] *** Quits: reem (reem@moz-i4oevu.coob.q2h1.0009.2601.IP) (Connection closed)
[08:06:00] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (Client exited)
[08:14:18] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[08:16:20] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[08:28:34] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[08:44:42] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[08:47:00] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:27:26] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[09:29:57] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[09:35:03] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:53:28] *** Joins: laumann (thomas@moz-vj4.hq0.225.130.IP)
[10:04:32] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[10:18:54] *** Joins: rustical (dida@moz-55rvi2.dclient.hispeed.ch)
[10:33:30] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[11:13:25] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[11:17:37] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[11:18:56] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[11:56:00] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[12:01:21] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[12:07:37] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[12:11:53] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[12:52:54] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Client exited)
[13:01:46] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[13:06:03] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[13:07:24] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[13:12:45] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Client exited)
[13:15:02] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[13:16:19] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[13:32:21] *** Joins: joel2 (joel@moz-6ampnk.gtri.gatech.edu)
[13:38:35] *** Quits: laumann (thomas@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[13:51:32] *** Quits: rustical (dida@moz-55rvi2.dclient.hispeed.ch) (A TLS packet with unexpected length was received.)
[13:55:54] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[14:00:12] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[14:02:53] *** Joins: arielb1 (Mibbit@moz-jv8mdr.checkpoint.com)
[14:03:11] <arielb1> nmatsakis: ping
[14:04:02] <nmatsakis> arielb1: pong
[14:04:45] <arielb1> nmatsakis: what do you think about https://github.com/rust-lang/rust/issues/23336
[14:05:58] <arielb1> Should we prefer ProjectionCandidate over ImplCandidate (always)?
[14:06:21] <nmatsakis> arielb1: I hadn't seen it yet, let me look
[14:19:19] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[14:20:33] <arielb1> nmatsakis: I think it should be okay, because ProjectionCandidate should hold unconditionally
[14:20:47] <arielb1> I mean, should not add obligations
[14:21:41] <nmatsakis> arielb1: just finished reading the issue
[14:22:16] <nmatsakis> I'm inclined to agree. in general, dealing with the ambig of ImplCandidate/whereCandidate/ProjectionCandidate is kind of a pain, but ftm we've been preferring "where" (and similarly "projection") over impl
[14:22:48] <arielb1> I'm not sure about that
[14:22:59] <arielb1> because we could have a type T: MyTrait<'a>
[14:23:09] <arielb1> and impl<'a, T> MyTrait<'a> for T
[14:23:28] <arielb1> but I don't think we don't do the right thing in this case anyway
[14:23:41] <arielb1> I mean, we do the wrong thing in that case
[14:23:43] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[14:38:38] <eddyb> nmatsakis: any news on DST coercions? I recall chatting with nrc a couple weeks back
[14:39:19] *** Quits: arielb1 (Mibbit@moz-jv8mdr.checkpoint.com) (Quit: http://www.mibbit.com ajax IRC Client)
[14:39:20] *** Joins: nrc|afk (nrc|afk@moz-4bhi2i.xtra.co.nz)
[14:39:22] *** nrc|afk is now known as nrc
[14:40:02] <eddyb> nmatsakis: also, I did this and Servo needs it (coincidentally): https://github.com/rust-lang/rust/pull/23376 - not sure if you agree with what I did there
[14:40:04] <nmatsakis> eddyb: last time I talked to nrc, we had sketched out a plan that was roughly what I sketched out in DST5, but with an "opt-in" trait that you would implement if you want these coercions
[14:40:32] <nmatsakis> I'll check out that PR now
[14:41:35] <eddyb> there's also more cleanup do be done starting from there, and the 3 intrinsics that arrrrrrr mentioned ({size,min_align}_of_val and drop_in_place) that should be implemented sooner than later
[14:41:54] <eddyb> nmatsakis: yeah, the opt-in trait is a compromise I am okay with, as long as it's unstable and it doesn't involve a method
[14:44:17] *** Quits: nrc (nrc|afk@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[14:50:05] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[14:50:34] <nmatsakis> eddyb: r+ on that PR, happy to see it 
[14:51:27] <nmatsakis> eddyb: although, I ahdn't read over the arena changes in detail, those seem a bit surprising to me
[14:52:02] <nmatsakis> eddyb: I think what I imagined is that we would add an intrisic `drop<T>` operation that takes a `*mut T` 
[14:52:34] <nmatsakis> I guess for Arena that doesn't quite work
[14:52:43] <nmatsakis> TypedArena it would be fine
[14:53:08] <nmatsakis> i'm not sure where Arena is as an API we want to support long term or what, though it is clearly handy sometimes
[14:54:19] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[14:55:12] <eddyb> nmatsakis: that intrinsic would be drop_in_place
[14:55:57] <eddyb> nmatsakis: I could do it if I construct a *mut Trait... maybe I should add the 3 intrinsics and do that instead
[14:56:52] <eddyb> nmatsakis: oh yeah, drop_in_place would be great ptr::read replacement
[14:58:02] <eddyb> ptr::read's return value is ignored most of the time. we should make it #[must_use] if we add a proper way to drop (cc huon)
[14:59:26] <eddyb> nmatsakis: haha okay, I just saw you actually did r+ that, I'll go work on a new PR for the rest ;)
[14:59:39] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[15:00:02] <eddyb> nmatsakis: there's also https://github.com/rust-lang/rust/pull/23331
[15:03:07] <nmatsakis> eddyb: yes, drop_in_place sounds like the same thing, and yes most of the ptr::read's I've seen want to be drop-in-place
[15:14:17] <eddyb> nmatsakis: I have two new ideas related to that opt-in trait, e.g. `impl<T: ?Sized> CoerceUnsized for Rc<T> { type Pointee = RcBox<T>; }`
[15:15:15] <eddyb> nmatsakis: 1. restrict to same-impl 2. make the trait unsafe so the compiler doesn't even have to check the type is a (possibly deeply nested) newtype of a pointer
[15:15:20] <eddyb> (at least initially)
[15:17:05] <eddyb> nmatsakis: the same-impl rule would replace same-structure-but-different-substs and feels... less arbitrary. it's pretty much a HKT hack
[15:44:12] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[15:48:30] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[16:02:33] <eddyb> nmatsakis: this is odd. someone changed MethodCall to use an enum but didn't remove the hack of using 1 + autoderef_index to distinguish the base expression (0) from the autoderefs (1..)
[16:04:24] <eddyb> nmatsakis: this is silly... AutoObject is never used :|
[16:07:37] <eddyb> it predates the split, whoa
[16:09:44] <eddyb> nmatsakis: did the middle::traits work and vtable2 invalidate https://github.com/rust-lang/rust/pull/14830?
[16:18:16] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:18:16] *** ChanServ sets mode: +qo brson brson
[16:38:20] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[16:42:38] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[16:43:21] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[16:43:21] *** ChanServ sets mode: +qo nrc nrc
[16:44:33] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[16:46:09] * eddyb pokes nmatsakis about https://github.com/rust-lang/rust/pull/23331
[16:47:31] <eddyb> nrc: check this out https://botbot.me/mozilla/rustc/2015-03-16/?msg=34269924&page=1
[16:48:16] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[16:54:16] *** Joins: arielb1 (Ariel@moz-fvcu0s.red.bezeqint.net)
[17:35:45] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:53:12] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[17:53:12] *** ChanServ sets mode: +qo nrc nrc
[18:01:59] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[18:27:42] *** Joins: osa1 (omer@moz-002.lrp.160.149.IP)
[18:27:49] <osa1> how are these comments used in testing: https://github.com/rust-lang/rust/blob/master/src/test/debuginfo/borrowed-enum.rs#L18 can anyone point me the driver code that parses those commands and runs tests?
[18:29:16] <nrc> osa1: you should ask mw, he's in Europe, time-zone wise
[18:36:31] <osa1> nrc: thanks. is this his IRC nickname?
[18:40:28] <eddyb> nrc: did you get to look at https://botbot.me/mozilla/rustc/2015-03-16/?msg=34269924&page=1?
[18:45:52] <nrc> osa1: yes
[18:46:04] <nrc> eddyb: I had not seen (just before I logged on, by the looks)
[18:46:37] <nrc> eddyb: I have also been thinking about it
[18:46:52] <nrc> what do you mean by "same impl"?
[18:47:00] <eddyb> nrc: same impl *item*
[18:47:03] <eddyb> like, DefId
[18:47:28] <nrc> same as what?
[18:48:30] <nrc> my current plan is to separate newtype coercions from custom DST coercions
[18:49:10] <nrc> s/custom DST/custom smart pointer
[18:49:34] <eddyb> nrc: X -> Y where X: CoerceUnsized, Y: CoerceUnsized, &X::Pointee has builtin unsizing coercion to &Y::Pointee
[18:49:42] <nrc> they are fundamentally different in that smart pointers are not themselves unsized, but the newtypes are
[18:49:55] <eddyb> *and* the X and Y CoerceUnsized impls are the same AST item
[18:50:16] <nrc> oh, I see what you mean
[18:50:27] <nrc> interesting
[18:50:44] <nrc> in that your trait represents a coercible type rather than the coercion itself
[18:58:57] <eddyb> nrc: I'm pretty much faking HKT with the same-impl rule. or I think I am
[18:59:38] <brson> osa1: here is the code https://github.com/rust-lang/rust/blob/master/src/compiletest/runtest.rs#L764
[19:00:16] <osa1> brson: thanks
[19:30:10] *** Joins: reem (reem@moz-4ilvor.coob.q2h1.0009.2601.IP)
[19:43:59] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[19:53:45] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[20:24:56] *** Quits: reem (reem@moz-4ilvor.coob.q2h1.0009.2601.IP) (Connection closed)
[20:28:40] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[20:41:43] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:30:36] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[21:30:46] *** Joins: Rym (y@moz-859.d1r.39.217.IP)
[21:33:04] *** Quits: Rym (y@moz-859.d1r.39.217.IP) (Connection closed)
[21:33:18] *** Quits: joel2 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[21:33:24] *** Joins: Rym (y@moz-859.d1r.39.217.IP)
[21:36:14] <arielb1> nmatsakis: r? 23424
[21:56:55] *** Quits: Rym (y@moz-859.d1r.39.217.IP) (Connection closed)
[21:57:30] *** Joins: Rym (y@moz-859.d1r.39.217.IP)
[22:01:49] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Connection closed)
[22:02:23] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[22:08:26] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[22:20:41] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[22:37:17] *** Quits: WindowsBunny (Peter@moz-gv8vtu.east.verizon.net) (Connection closed)
[22:37:54] *** Joins: WindowsBunny (Peter@moz-gv8vtu.east.verizon.net)
[23:02:24] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[23:04:07] *** Quits: osa1 (omer@moz-002.lrp.160.149.IP) (Quit: Konversation terminated!)
[23:04:07] *** Joins: osa1_ (omer@moz-002.lrp.160.149.IP)
[23:12:16] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[23:18:10] *** Quits: osa1_ (omer@moz-002.lrp.160.149.IP) (Ping timeout: 121 seconds)
[23:50:16] *** Joins: osa1_ (omer@moz-o4q.6no.54.68.IP)
