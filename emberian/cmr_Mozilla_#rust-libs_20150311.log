[00:24:49] *** Quits: brson (brson@moz-obm.e0n.56.172.IP) (Quit: leaving)
[00:50:34] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:02:40] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:05:16] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:05:23] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:09:19] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[01:55:03] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[02:03:17] *** Joins: p1start (p1start@moz-nftjhe.org)
[02:04:15] *** Joins: japaric_ (japaric@moz-hvi.8pc.42.190.IP)
[02:06:57] *** Quits: japaric (japaric@moz-h53.6gb.236.190.IP) (Ping timeout: 121 seconds)
[02:15:16] *** Joins: acharles (acharles@moz-ulbdcn.ca.comcast.net)
[02:22:11] *** Quits: japaric_ (japaric@moz-hvi.8pc.42.190.IP) (Ping timeout: 121 seconds)
[02:23:33] *** Joins: japaric (japaric@moz-hvi.8pc.42.190.IP)
[02:29:42] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:30:03] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:30:05] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:30:06] *** Joins: reem (reem@moz-rpuemk.coob.q2h1.0009.2601.IP)
[02:34:27] *** Quits: reem (reem@moz-rpuemk.coob.q2h1.0009.2601.IP) (Connection closed)
[02:34:48] *** Joins: reem (reem@moz-rpuemk.coob.q2h1.0009.2601.IP)
[02:36:55] *** Joins: reem_ (reem@moz-2icmmi.ca.comcast.net)
[02:39:00] *** Quits: reem (reem@moz-rpuemk.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[02:39:33] *** Quits: reem_ (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:52:42] *** Joins: reem (reem@moz-dhk9um.coob.q2h1.0009.2601.IP)
[03:11:10] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[03:42:30] *** Quits: zz_kimundi (kimundi@moz-j326j4.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:43:59] *** Joins: zz_kimundi (kimundi@moz-sbftss.dip0.t-ipconnect.de)
[03:44:01] *** zz_kimundi is now known as kimundi
[03:45:50] *** Quits: japaric (japaric@moz-hvi.8pc.42.190.IP) (Connection closed)
[03:46:17] *** Joins: japaric (japaric@moz-ml2.qmr.240.201.IP)
[03:53:21] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[03:56:55] *** Quits: arrrrrrr1 (arrrrrrrrs@moz-c0r0b0.dynamic.qsc.de) (Ping timeout: 121 seconds)
[03:57:31] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[04:39:11] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (Client exited)
[04:42:12] *** Joins: acharles (acharles@moz-ulbdcn.ca.comcast.net)
[04:47:29] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[04:51:43] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[05:39:24] *** Quits: japaric (japaric@moz-ml2.qmr.240.201.IP) (Ping timeout: 121 seconds)
[05:41:38] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[05:44:26] *** Quits: reem (reem@moz-dhk9um.coob.q2h1.0009.2601.IP) (Connection closed)
[05:45:51] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[05:56:49] *** Joins: japaric (japaric@moz-gdm.bsv.236.190.IP)
[06:05:11] *** Joins: reem (reem@moz-49b1rn.coob.q2h1.0009.2601.IP)
[06:22:29] *** Quits: reem (reem@moz-49b1rn.coob.q2h1.0009.2601.IP) (Connection closed)
[06:24:30] *** Joins: reem (reem@moz-gu93u2.coob.q2h1.0009.2601.IP)
[06:34:15] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[06:35:47] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[06:40:03] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[06:42:02] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:03:19] *** Quits: reem (reem@moz-gu93u2.coob.q2h1.0009.2601.IP) (Connection closed)
[07:15:08] *** Joins: reem (reem@moz-7vt6pf.coob.q2h1.0009.2601.IP)
[07:22:35] *** Quits: reem (reem@moz-7vt6pf.coob.q2h1.0009.2601.IP) (Connection closed)
[07:29:57] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[07:32:33] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:34:13] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[07:35:31] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:37:00] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:42:54] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:43:50] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:49:45] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:50:06] *** Joins: reem (reem@moz-2btb4f.coob.q2h1.0009.2601.IP)
[07:51:50] *** Joins: reem_ (reem@moz-2icmmi.ca.comcast.net)
[07:54:18] *** Quits: reem (reem@moz-2btb4f.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[08:14:00] *** Quits: WindowsBunny (Peter@moz-gv8vtu.east.verizon.net) (*.net *.split)
[08:14:00] *** Quits: blank_name (blank_name@moz-mteiba.mi.frontiernet.net) (*.net *.split)
[08:14:00] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (*.net *.split)
[08:14:00] *** Quits: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP) (*.net *.split)
[08:14:00] *** Quits: freebroccolo (sid51271@moz-ealde0.ealing.irccloud.com) (*.net *.split)
[08:14:00] *** Quits: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com) (*.net *.split)
[08:14:00] *** Quits: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com) (*.net *.split)
[08:14:00] *** Quits: Fenhl (sid30770@moz-oh0hem.charlton.irccloud.com) (*.net *.split)
[08:14:00] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (*.net *.split)
[08:14:00] *** Quits: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com) (*.net *.split)
[08:14:00] *** Quits: seanmonstar (seanmonstar@moz-jd3i0j.fkdv.ulf6.3c01.2600.IP) (*.net *.split)
[08:14:00] *** Quits: Eridius (kevin@moz-6opvqs.us) (*.net *.split)
[08:14:00] *** Quits: nmatsakis (nmatsakis@moz-dkjr1g.scl3.mozilla.com) (*.net *.split)
[08:14:00] *** Quits: sfackler (sfackler@moz-ko8uu1.com) (*.net *.split)
[08:14:00] *** Quits: reem_ (reem@moz-2icmmi.ca.comcast.net) (*.net *.split)
[08:14:00] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (*.net *.split)
[08:14:00] *** Quits: JustAPerson (JustAPerson@moz-un628q.moe) (*.net *.split)
[08:14:00] *** Quits: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com) (*.net *.split)
[08:14:01] *** Quits: flaper87 (flaper87@moz-fnn.1e9.132.209.IP) (*.net *.split)
[08:14:01] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (*.net *.split)
[08:14:01] *** Quits: japaric (japaric@moz-gdm.bsv.236.190.IP) (*.net *.split)
[08:14:01] *** Quits: Asandari (Asandari@moz-emp96u.cable.teksavvy.com) (*.net *.split)
[08:14:29] *** Joins: JustAPerson (JustAPerson@moz-un628q.moe)
[08:14:29] *** Joins: seanmonstar (seanmonstar@moz-jd3i0j.fkdv.ulf6.3c01.2600.IP)
[08:14:29] *** Joins: Asandari (Asandari@moz-emp96u.cable.teksavvy.com)
[08:14:29] *** Joins: freebroccolo (sid51271@moz-ealde0.ealing.irccloud.com)
[08:14:29] *** Joins: Fenhl (sid30770@moz-oh0hem.charlton.irccloud.com)
[08:14:29] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[08:14:29] *** Joins: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com)
[08:14:29] *** Joins: nmatsakis (nmatsakis@moz-dkjr1g.scl3.mozilla.com)
[08:14:29] *** Joins: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP)
[08:14:29] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[08:14:29] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[08:14:29] *** Joins: Eridius (kevin@moz-6opvqs.us)
[08:14:29] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[08:14:29] *** Joins: reem_ (reem@moz-2icmmi.ca.comcast.net)
[08:14:29] *** Joins: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com)
[08:14:29] *** Joins: japaric (japaric@moz-gdm.bsv.236.190.IP)
[08:14:29] *** Joins: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com)
[08:14:29] *** Joins: WindowsBunny (Peter@moz-gv8vtu.east.verizon.net)
[08:14:29] *** Joins: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com)
[08:14:29] *** Joins: flaper87 (flaper87@moz-fnn.1e9.132.209.IP)
[08:14:29] *** Joins: acharles (acharles@moz-ulbdcn.ca.comcast.net)
[08:14:29] *** Joins: blank_name (blank_name@moz-mteiba.mi.frontiernet.net)
[08:14:29] *** belew.mozilla.org sets mode: +qoqooo huon huon acrichto acrichto nmatsakis aturon
[08:19:50] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[08:19:50] *** ChanServ sets mode: +o pnkfelix
[08:19:54] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[08:22:27] *** reem_ is now known as reem
[08:24:09] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[08:27:40] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[08:27:47] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[08:28:22] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[08:31:11] *** Parts: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) ("Bye")
[09:05:24] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:06:46] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:07:01] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:11:33] *** Joins: reem (reem@moz-3eef3r.coob.q2h1.0009.2601.IP)
[09:18:20] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[09:22:33] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[09:33:42] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[09:44:32] *** Quits: reem (reem@moz-3eef3r.coob.q2h1.0009.2601.IP) (Connection closed)
[09:47:00] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:10:18] *** Joins: arrrrrrr1 (arrrrrrrrs@moz-c0r0b0.dynamic.qsc.de)
[10:12:29] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[10:16:43] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[10:23:15] *** Quits: arrrrrrr1 (arrrrrrrrs@moz-c0r0b0.dynamic.qsc.de) (Ping timeout: 121 seconds)
[10:46:19] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[10:50:58] *** Joins: arrrrrrr1 (arrrrrrrrs@moz-c0r0b0.dynamic.qsc.de)
[11:06:38] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[11:10:05] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:10:52] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[11:24:18] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[11:24:49] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[11:24:49] *** ChanServ sets mode: +qo nrc nrc
[11:29:57] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[11:49:43] *** Joins: japaric_ (japaric@moz-t17.t9l.232.190.IP)
[11:51:45] *** Quits: japaric (japaric@moz-gdm.bsv.236.190.IP) (Ping timeout: 121 seconds)
[12:00:48] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[12:05:03] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[12:41:20] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[12:54:58] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[12:59:12] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[13:17:37] *** Parts: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) ("Bye")
[13:32:48] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[13:32:48] *** ChanServ sets mode: +o pnkfelix
[13:39:30] *** Joins: dudel (dud@moz-55rvi2.dclient.hispeed.ch)
[13:49:07] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[13:53:20] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[14:15:35] *** Joins: AndChat|35156 (AndChat3515@moz-cdr.65n.117.134.IP)
[14:15:49] <AndChat|35156> aturon: ping
[14:17:00] *** AndChat|35156 is now known as Gankro_
[14:25:55] *** Joins: japaric (japaric@moz-663.3tp.232.190.IP)
[14:28:39] *** Quits: japaric_ (japaric@moz-t17.t9l.232.190.IP) (Ping timeout: 121 seconds)
[14:43:16] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[14:47:30] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[14:47:57] *** Quits: Gankro_ (AndChat3515@moz-cdr.65n.117.134.IP) (A TLS packet with unexpected length was received.)
[15:18:40] *** Joins: WindowsBunny1 (Peter@moz-gv8vtu.east.verizon.net)
[15:20:11] *** Quits: WindowsBunny (Peter@moz-gv8vtu.east.verizon.net) (Ping timeout: 121 seconds)
[15:20:29] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[15:29:51] *** Quits: japaric (japaric@moz-663.3tp.232.190.IP) (Ping timeout: 121 seconds)
[15:37:18] *** Joins: japaric (japaric@moz-663.3tp.232.190.IP)
[15:37:27] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[15:41:41] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[16:16:53] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:16:53] *** ChanServ sets mode: +qo brson brson
[16:20:23] <Gankro> What's the logic for the new cursor::seek API taking an enum instead of having three seperate methods?
[16:21:07] <Gankro> Err not Cursor, Seek::seek
[16:31:38] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[16:34:15] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[16:35:52] *** Quits: Rym_ (y@moz-232.ad4.144.109.IP) (Ping timeout: 121 seconds)
[16:48:03] *** Joins: Rym_ (y@moz-232.ad4.144.109.IP)
[16:48:43] <simukis> Gankro: why not?
[16:48:50] <simukis> it corresponds to native API well.
[16:49:26] <Gankro> simukis: Just makes using it more awkward IMHO
[16:49:40] <Gankro> You need to pull in some enum just to call it
[16:50:00] <simukis> you also need to pull in some trait just to call it as well
[16:50:04] <Gankro> And it ends up being more verbose and nesty
[16:50:19] <Gankro> simukis: That would be resolved by inherent trait impls, though
[16:50:41] <simukis> well, just think: what if we invented associated enums and structs?!
[16:50:55] <simukis> (doesn’t solve nestiness issue)
[16:51:33] <Gankro> simukis: Uh, that would still be more verbose/complex than just doing `seek_from_cur(1)` or whatever
[16:51:35] <simukis> re verbose: I don’t believe that to be a case. seek_start(100) vs seek(Start(100)) is almost the same when considering character count
[16:52:02] <Gankro> I don't think character count is necessarily the right measure here
[16:52:30] <Gankro> It's more like there's an *incantation* to using the API
[16:53:16] <Gankro> Similar to why I don't like `entry(key).get().unwrap_or_else(|entry| entry.insert(default))`
[16:53:36] <Gankro> It's not necessarily that it's *long*, but rather that it's an incantation that you just know
[16:53:46] <simukis> hmm, well, again, the intention of our stdlib APIs are to be as close to native APIs while being cross platform as well, AFAIK.
[16:54:01] <Gankro> simukis: Windows and Unix have the same API here?
[16:54:02] <simukis> (your example doesn’t work on me, maybe because I come from haskell…?)
[16:54:52] <simukis> Gankro: yes, they take where to seek from as a separate argument
[16:56:03] <Gankro> simukis: Ok, but it's not like going to 3 seperate methods really diverges from the OS APIs. It's just encoding them in a different manner.
[17:02:51] <Gankro> simukis: Basically I'm seeing this API and it looks a lot like a trap I was falling into a lot in the past few months. "Oh I can unify all these combinatoric APIs into a single method by taking an enum". "Oh wait that just makes calls shittier and is only shuffling the combinatorics around".
[17:07:56] <Gankro> aturon: would be interested in any thoughts you have on the matter
[17:22:28] *** Joins: c0a8 (joel@moz-6ampnk.gtri.gatech.edu)
[17:25:59] <aturon> Gankro: i think you're making some very legit points
[17:26:01] <aturon> cc acrichto ^
[17:26:28] <aturon> Gankro: however, it's definitely better than the previous version: http://static.rust-lang.org/doc/master/std/old_io/trait.Seek.html
[17:27:03] <aturon> re: imports, there's always the io prelude
[17:27:27] <aturon> hm, though it doesn't include the variants :-/
[17:27:32] <aturon> or even the enum, at the moment
[17:27:44] <aturon> but i suspect that's an oversight
[17:28:05] <acrichto> Gankro: this wasn't really designed to reduce the number of methods, it's largely just following suit with C
[17:28:06] <Gankro> Custom preludes aren't a thing yet, yeah?
[17:28:14] <acrichto> and from an implementation perspective I'd much prefer to implement one method instead of 3
[17:28:14] <aturon> Gankro: http://static.rust-lang.org/doc/master/std/io/prelude/index.html
[17:28:16] <acrichto> (just a data point)
[17:28:21] <aturon> Gankro: there's still the "prelude pattern"
[17:28:35] <aturon> (of defining a prelude module intended for glob importing)
[17:28:49] <Gankro> Ye-olde std-facade hack
[17:29:17] <aturon> so, in general, it's better to make user's, rather than implementor's, lives better
[17:29:24] <aturon> (re: implementation perspective)
[17:29:42] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[17:29:57] <aturon> (just because using is vastly more common than implementing)
[17:29:57] <Gankro> acrichto: But are you *really* implementing 1 method? Or are you just implementing 3 wrapped in a match?
[17:30:40] <acrichto> Gankro: a 3-line match is much more concise than 3 methods though
[17:31:07] <acrichto> but to be clear I do see where you're coming from in how this is somewhat sticking out
[17:31:16] <Gankro> acrichto: I suppose in this case because of the way the OS APIs look it's a proper single method
[17:31:26] <aturon> it's pretty unusual from a conventions perspective
[17:31:35] <aturon> this is enum-based overloading
[17:31:39] <aturon> rather than trait-based overloading
[17:31:43] <acrichto> true
[17:31:44] <aturon> (or just plain multiple methods)
[17:31:52] <acrichto> logically they are all seeking somewhere in the file in a sense
[17:31:55] <acrichto> and the enum is just where to go
[17:32:06] <acrichto> so in terms of "a method does one logical thing" it somewhat makes sense
[17:32:10] <acrichto> but that's also a weird train of logic
[17:32:21] <aturon> oh, it definitely makes sense,
[17:32:31] <aturon> i think it's largely a question of ergonomics, both in terms of what you type but also what you have to know/import
[17:32:34] <aturon> as a user
[17:32:45] <acrichto> yeah I'm not a fan of importing SeekFrom 
[17:32:46] <aturon> acrichto: do you agree that separate methods would be more ergonomic in those senses for users?
[17:32:51] <acrichto> indeed
[17:33:03] <aturon> and do you agree that user ergonomics > implementor ergonomics?
[17:33:25] <acrichto> not 100%
[17:33:35] <acrichto> but that is the trend we've been going towards
[17:33:42] <acrichto> e.g. vec.rs is thousands of lines
[17:33:45] <aturon> interesting, what's the counter argument?
[17:33:53] <acrichto> well everyone's an implementor at some point
[17:34:15] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[17:34:16] <acrichto> and if you require a huge implementation to make something ergonomic to use, that doesn't bode well for libs in general
[17:34:22] <acrichto> it means that to write my own lib I have to make a huge investment
[17:34:31] <acrichto> if I want it to be a nice lib at least
[17:34:33] <aturon> hm, so i guess i'm imagining IMPL_COUNT * IMPL_PAIN versus USER_COUNT * USER_PAIN
[17:34:40] <acrichto> lol
[17:34:59] <aturon> in this case, i think IMPL_PAIN and USER_PAIN are at about the same scale
[17:34:59] <acrichto> in this specific case it may be worth it
[17:35:04] <acrichto> hmm
[17:35:25] <aturon> though i could buy that IMPL_PAIN is slightly larger
[17:35:26] <acrichto> well for Seek I'd say the impl pain is much higher than the user pain
[17:35:35] <aturon> hm, interesting!
[17:35:37] <acrichto> b/c as a user I have to import one thing
[17:35:43] <aturon> and:
[17:35:43] <acrichto> as an implementor I have to have 3 separate function bodies
[17:35:54] <aturon> you have to learn the enum variants, use a nested form to make the call
[17:35:58] <aturon> it's harder to remember
[17:36:11] <aturon> (to me, ease of memory is part of ergonomics)
[17:36:19] <acrichto> hm, I wouldn't think it'd be harder than remembering the method names though
[17:36:27] <aturon> :) maybe so
[17:36:33] <Gankro> I think the story of Rust is *largely* about IMPL_PAIN for libraries
[17:36:44] <aturon> OTOH, USER_COUNT >> IMPL_COUNT
[17:36:58] <Gankro> e.g. "unsafe" is something a library will probably use at some point, but not something an application would really need
[17:37:02] <acrichto> for some traits, yes, but not necessarily for all
[17:37:27] <aturon> acrichto: to be clear, this is a claim about seek only
[17:37:36] <Gankro> The whole idea of safety is that libraries are smarter than applications, basically
[17:37:56] <aturon> Gankro: yep! and it's remarkable how well that works out
[17:37:58] <acrichto> yes for seek specifically I would expect very few impls
[17:38:03] <acrichto> I think I've written one outside the stdlib...
[17:38:10] <aturon> acrichto: ok. so, for me, that's a pretty clear-cut case
[17:38:35] <aturon> so i'd suggest we incorporate this in the final std::io stabilization PR
[17:38:35] * acrichto wants to stop changing things
[17:38:42] <aturon> yep, but
[17:38:43] <acrichto> I personally don't see this as being worth the change
[17:38:45] <aturon> this is why we have alpha2
[17:38:49] <acrichto> even still
[17:38:52] <acrichto> this is so, so minor
[17:38:55] <aturon> acrichto: i will change
[17:39:05] <aturon> would you object if i do it?
[17:39:05] <acrichto> this is borderline requiring an RFC
[17:39:11] <acrichto> I wouldn't be super comfortable doing it in a stabilization PR
[17:39:21] <aturon> hm interesting
[17:39:23] <acrichto> b/c it's clearly bucking the trend of everyone else
[17:39:36] <aturon> ok, i will file an amendment -- unless Gankro would be willing to?
[17:39:56] <Gankro> aturon: I'm a bit swamped
[17:40:03] <aturon> Gankro: ok, np
[17:40:19] <aturon> acrichto: are you against the change other than the work needed on our part?
[17:41:05] <acrichto> aturon: hm, I don't think so I guess
[17:41:13] <aturon> ok
[17:41:58] <Gankro> yay I made a minor contribution to the OS apis
[17:42:02] <Gankro> I am system programmer now
[17:43:29] *** WindowsBunny1 is now known as WindowsBunny
[17:50:55] <nmatsakis> aturon: hmm, hit an obstalce with my Fn patch related to this Pattern / Searcher code
[17:51:04] <nmatsakis> is that part of the work kimundi did I think?
[17:51:32] <nmatsakis> in particular, there is an impl of Pattern for any type F : FnMut,
[17:51:41] <nmatsakis> and an impl of Pattern for &P where P : Pattern,
[17:52:12] <nmatsakis> so if I add an impl of Fn+FnMut+FnOnce for any type &F whre F : Fn,
[17:52:24] <kimundi> nmatsakis: Ah, the latter one is the the impl that makes generic code autoderef
[17:52:28] <nmatsakis> coherence considers this an overlap
[17:52:34] <nmatsakis> I guess the first imnpl isn't really the problem necessarily
[17:52:38] <sfackler> acrichto: speaking of OS apis: https://github.com/rust-lang/rust/issues/23280
[17:52:52] <nmatsakis> let me think about this a sec ;)
[17:53:19] <nmatsakis> ah, yes, you need all three
[17:53:28] <nmatsakis> (coherence is not wrong)
[17:54:06] <acrichto> sfackler: you can use OsStr::from_bytes
[17:54:14] <acrichto> sfackler: (eddyb implemented that sugar recently I believe)
[17:54:16] <kimundi> nmatsakis: The &P: Pattern impl is not strictly neccessary for the API, but without it you would not get deref coercions and such. Eg, "foo".starts_with(&"foo".to_string()) would no longer work, and require manual intervention to cause a slice/coercion to a &str
[17:54:26] <nmatsakis> kimundi: right. I remember
[17:54:38] <acrichto> sfackler: e.g. https://github.com/rust-lang/rust/issues/22417
[17:54:42] <nmatsakis> kimundi: well, I can land the work I was doing without the impl of Fn for &F for now, and we can think about this
[17:54:46] <sfackler> ah!
[17:55:05] <kimundi> nmatsakis: Its a hack with 10 minutes of thought put into it, so I'm not surprised it causes issues :)
[17:58:06] <kimundi> nmatsakis: I'm wondering if it would be possible to have generics try deref coercions - as in keep potential deref types in mind while searching for a impl that fulfills the trait bounds, and fall back to them if nothing gets found the regular way
[17:58:27] <nmatsakis> kimundi: yes, i've discussed it with aturon, I think it's possible though I'd want to formulate the rules with a touch of care
[17:58:34] <kimundi> of course
[17:58:37] <nmatsakis> kimundi: I guess that would address this problem
[17:58:48] <kimundi> yeah
[18:05:18] <kimundi> Seems like it would be strictly a rule that allows more programs to compile
[18:08:02] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.3.92.1)
[18:22:40] <nmatsakis> do we not have a way to convert a `Result<T,E>` into a `Result<E,T>`?
[18:23:20] <nmatsakis> seems like an obvious way to address the "`try!` for Err" idea:
[18:23:23] <nmatsakis> try!(result.swap())
[18:23:29] <aturon> sfackler: btw, would you be at all interested in doing the Seek changes Gankro  mentioned (small RFC amendment)? acrichto and i are pretty swamped
[18:23:39] <nmatsakis> ah, well, I guess it doesn't quite do what you'd want
[18:23:40] <nmatsakis> nm
[18:23:50] <sfackler> aturon: what are they?
[18:24:05] <aturon> sfackler: basically, nixing the SeekFrom enum in favor of separate methods
[18:24:10] <aturon> it's in the backscroll here
[18:24:27] <aturon> reasoning being: the enum is not very ergonomic or helpful for clients of the trait
[18:24:36] <aturon> it's an unusual way to do a kind of overloading
[18:25:23] <sfackler> otoh, all seek apis I'm aware of take an "enum"
[18:25:56] <sfackler> not sure if anyone actually takes advantage of that fact though
[18:27:01] <aturon> sfackler: yeah, i don't particularly see the benefit
[18:27:04] <aturon> it's a minor thing though
[18:27:21] <aturon> (if you don't think it's worthwhile, dont' worry about it, i'll get to it eventually)
[18:27:44] <sfackler> i think changing the seek api a bit is probably worthwhile
[18:27:57] <sfackler> i'll think about it and talk to Gankro tonight
[18:28:14] <sfackler> acrichto: btw, I got the unstable derive thing working again if you're still trying to do it for Eq
[18:28:32] <acrichto> sfackler: oh nice! is it on the debug PR?
[18:28:35] <aturon> sfackler: thanks!
[18:28:36] <sfackler> yeah
[18:28:44] <sfackler> acrichto: just needed a tweak to the codemap logic
[18:29:24] <acrichto> sfackler: cool
[18:30:05] <sfackler> basically, you change the expn_id of the attribute's span, and unstable calls with that span skip the lint :https://github.com/rust-lang/rust/pull/23162/files#diff-36794c9346e307066bc1c092ace95b5cR71
[18:30:19] <sfackler> arguments and things like that can use other spans
[18:30:35] <sfackler> so you still get nice error spans when e.g. fields don't implement the right trait
[18:30:49] <sfackler> you need to make this tweak to get it to work: https://github.com/rust-lang/rust/pull/23162/files#diff-c5bde8c46eebaa8f5890c6f3700793b3R851
[18:31:19] <sfackler> I think it broke because the derive desugaring thing made the span passed to the expansion function the entire attribute's span instead of a part of it
[18:31:26] <sfackler> so the off by one in the check made it break
[18:33:11] <acrichto> hm interesting
[18:33:17] <acrichto> building with that and praying it works
[18:33:27] <acrichto> Eq is a little different b/c it's implementing an unstable method instead of just calling it
[18:33:34] <acrichto> but I pray it's basically the same :P
[18:37:03] <sfackler> it really comes down to what part of the ast the stability checking pass grabs the span from
[18:37:38] <sfackler> but if you just set all spans to the tweaked one except for things that are actually from the struct itself it should probably work?
[18:43:20] *** Joins: acharles_ (acharles@moz-ulbdcn.ca.comcast.net)
[18:44:13] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (Ping timeout: 121 seconds)
[18:44:13] *** acharles_ is now known as acharles
[19:01:09] <acrichto> hm that didn't quite do the trick, I'm still getting one warning, although I don't quite know where...
[19:02:13] *** Quits: dudel (dud@moz-55rvi2.dclient.hispeed.ch) (Quit: Leaving)
[19:19:26] *** Joins: reem (reem@moz-m3r0uh.coob.q2h1.0009.2601.IP)
[19:33:09] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[19:33:10] *** ChanServ sets mode: +qo nrc nrc
[19:34:46] *** Quits: c0a8 (joel@moz-6ampnk.gtri.gatech.edu) (Quit: WeeChat 0.4.2)
[19:36:24] <Gankro> japaric: Just saw your ping on the crazy collections migration
[19:37:25] <Gankro> Ringbuf is gonna be nasty to migrate for sure; we're using direct access to set up specific states to ensure we're running over every possible configuration the collection can be in.
[19:38:12] *** Quits: japaric (japaric@moz-663.3tp.232.190.IP) (Ping timeout: 121 seconds)
[19:38:27] <Gankro> :( everyone leaves me
[19:40:07] <Gankro> Hmm, you can't have cfg(test) methods for a *different* crate, right? Like expose the internals to code that's testing the crate?
[19:49:40] <reem> I don't think so
[19:49:52] <reem> Are you trying to write privacy-violating tests in a different crate?
[19:49:55] <reem> Why?
[19:53:31] <sfackler> acrichto: turning on debug logging on syntax::codemap might help
[19:57:14] <Gankro> reem: japaric is trying to kill primitive-extending traits. But that makes lang items exist in libcollections, which means you need a libcoretest-style split
[19:57:48] <Gankro> Best I can think of is doc(hidden) privates as a general solution
[19:59:11] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[20:00:25] <sfackler> how important are the tests that look at private stuff?
[20:00:50] <Gankro> sfackler: All of VecDeque uses it to ensure particular states are being tested
[20:00:51] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[20:00:57] *** Joins: c0a8 (joel@moz-6ampnk.gtri.gatech.edu)
[20:01:18] <Gankro> LinkedList just uses it to do an integrity check, but I don't think that's necessary; just iterate in both directions and you should be good.
[20:02:11] <Gankro> And some random test in Vec checks a private field on the permutations iterator to make sure the right number of iters occured or something
[20:02:52] <Gankro> So VecDeque is the problem-child. In theory you can seed the state by making a new Deque and pushing-and-popping the head forward
[20:03:13] <Gankro> Or just clearing it and being Very Careful
[20:03:38] <sfackler> i'd just do that
[20:03:52] <sfackler> or just doing a bunch or randomized testing if the only important thing is that the various cases get hit
[20:04:45] <Gankro> Right now we have the nice property that we exhaustively test every possible state of a ringbuf with 0-17 elements or something
[20:05:15] <Gankro> (0-7 wasn't enough)
[20:07:30] <reem> Gankro: Why does libcollections have lang items?
[20:07:50] <Gankro> reem: the impls for [T] are in there, at very least
[20:07:55] <reem> Ah, I see
[20:08:07] <Gankro> Perhaps the best course is to just move that to libcore
[20:08:15] <reem> SliceExt has allocating methods
[20:08:20] <Gankro> Ah
[20:08:38] <reem> there already exists (iirc) a version of SliceExt in core that doesn't allocate
[20:15:56] <Gankro> aturon: Actually I've got a bit of free time to waste. How exactly does an amendment RFC work?
[20:54:46] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[20:58:42] *** Quits: reem (reem@moz-m3r0uh.coob.q2h1.0009.2601.IP) (Connection closed)
[20:59:58] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:03:04] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:03:53] *** Quits: c0a8 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[21:10:40] *** Joins: sigma (sigma@moz-a5u.m43.48.37.IP)
[21:12:02] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:13:50] *** Quits: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP) (*.net *.split)
[21:13:50] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (*.net *.split)
[21:13:50] *** Quits: blank_name (blank_name@moz-mteiba.mi.frontiernet.net) (*.net *.split)
[21:13:50] *** Quits: WindowsBunny (Peter@moz-gv8vtu.east.verizon.net) (*.net *.split)
[21:14:22] *** Joins: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP)
[21:14:22] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[21:14:22] *** Joins: WindowsBunny (Peter@moz-gv8vtu.east.verizon.net)
[21:14:22] *** Joins: blank_name (blank_name@moz-mteiba.mi.frontiernet.net)
[21:50:46] <kimundi> sfackler: Can't you just cfg(not(test)) the lang items?
[22:02:05] *** Quits: sigma (sigma@moz-a5u.m43.48.37.IP) (Connection closed)
[22:06:59] <sfackler> you can sometimes get stuff like that to work
[22:07:34] <sfackler> the reason I did the split for libcore was that I added a method to a lang item trait that referenced Option
[22:07:53] <sfackler> which meant that basically all uses of <, > etc in libcore tests broke for bizzaro reasons
[22:08:07] <sfackler> if you're just adding a random new lang item you can probably cfg it
[22:28:45] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[22:28:45] *** ChanServ sets mode: +o pnkfelix
[23:06:46] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:27:26] <Gankro> sfackler: Willing to take a look at https://github.com/rust-lang/rust/pull/23104 ?
[23:42:37] *** nrc is now known as nrc|afk
[23:53:13] *** Joins: arrrrrrrrr (arrrrrrrrs@moz-6p13k2.dynamic.qsc.de)
[23:55:57] *** Quits: arrrrrrr1 (arrrrrrrrs@moz-c0r0b0.dynamic.qsc.de) (Ping timeout: 121 seconds)
[23:57:26] *** Joins: japaric (japaric@moz-663.3tp.232.190.IP)
[23:58:54] <sfackler> will do
[23:59:07] <sfackler> aaaaaah +13,326 −9,026
[23:59:15] <sfackler> japaric pls
