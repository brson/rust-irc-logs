[00:01:20] *** Quits: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP) (Ping timeout)
[00:01:32] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:01:43] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:03:51] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:06:11] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[00:06:11] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142e1e212 to 14a7453ad: 02http://git.io/N3iJvQ
[00:06:11] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[00:06:14] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[00:06:15] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/XpPB3A
[00:06:15] <ghrust> 13rust/06auto 14d83c5f7 15Michael Letterle: Minor grammatical fixes and removed section on 'rust' tool
[00:06:15] <ghrust> 13rust/06auto 1422a5ebd 15bors: auto merge of #10020 : mletterle/rust/documentation-fixes, r=thestinger...
[00:06:15] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:09:49] *** Joins: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP)
[00:10:54] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: Places to go, people to annoy)
[00:11:10] *** Parts: bdash (bdash@moz-62B9DA8A.bdash.net.nz) ()
[00:14:48] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[00:18:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:20:50] *** Joins: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP)
[00:28:32] <Luqman> brson: was there any talk of mut on ident patterns in the meeting? ( https://github.com/mozilla/rust/issues/9792 )
[00:30:21] <brson> Luqman: yes, I believe we want it
[00:30:26] <brson> pcwalton: can you confirm?
[00:31:04] <Luqman> sweet, once i clean up my branch later i'll send a pull
[00:39:29] <pcwalton> brson: we didn't really talk about it at the meeting but I'm totally in favor and I think everyone is
[00:58:04] *** Quits: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP) (Ping timeout)
[01:01:24] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:01:38] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:01:51] *** Joins: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[01:03:32] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:11:10] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[01:11:10] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/XpPB3A
[01:11:11] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:15:59] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:16:00] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:16:09] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:16:09] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/HkZdPg
[01:16:09] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:16:14] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:16:14] <ghrust> 01[13rust01] 15bors pushed 24 new commits to 06auto: 02http://git.io/KmcfwQ
[01:16:14] <ghrust> 13rust/06auto 1478f4488 15Alex Crichton: Implement io::net::unix
[01:16:14] <ghrust> 13rust/06auto 140a6db9c 15Alex Crichton: Finish implementing io::net::addrinfo...
[01:16:14] <ghrust> 13rust/06auto 146e5ec02 15Alex Crichton: Address a few XXX comments throughout the runtime...
[01:16:16] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:19:36] *** Quits: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP) (Ping timeout)
[01:42:00] <Luqman> r? https://github.com/mozilla/rust/pull/9989
[01:43:39] *** Joins: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP)
[01:45:13] <Eridius> ok, the inability to compile rust on 10.9 is a bit of an issue for me :/
[01:46:10] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:46:10] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a7b7ae6 to 1422a5ebd: 02http://git.io/N3iJvQ
[01:46:10] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:46:16] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:46:16] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/yah40A
[01:46:16] <ghrust> 13rust/06auto 14b217fbc 15Tim Chevalier: rustpkg: Support arbitrary dependencies in the install API...
[01:46:16] <ghrust> 13rust/06auto 14ada9731 15bors: auto merge of #9654 : catamorphism/rust/rustpkg-c-dependencies, r=brson...
[01:46:17] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:57:02] *** Quits: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP) (Ping timeout)
[01:58:51] *** Joins: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP)
[02:01:16] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:01:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:01:43] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:01:47] *** strcat1 is now known as strcat
[02:02:13] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:06:11] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[02:06:11] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ada9731 to 1422a5ebd: 02http://git.io/N3iJvQ
[02:06:11] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[02:06:18] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[02:06:18] <ghrust> 01[13rust01] 15bors pushed 24 new commits to 06auto: 02http://git.io/rK6HBA
[02:06:18] <ghrust> 13rust/06auto 1478f4488 15Alex Crichton: Implement io::net::unix
[02:06:18] <ghrust> 13rust/06auto 140a6db9c 15Alex Crichton: Finish implementing io::net::addrinfo...
[02:06:18] <ghrust> 13rust/06auto 146e5ec02 15Alex Crichton: Address a few XXX comments throughout the runtime...
[02:06:20] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[02:12:52] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: .)
[02:17:41] *** Quits: zz_kimundi (kimundi@moz-CF2827B0.dip0.t-ipconnect.de) (Ping timeout)
[02:21:20] *** Joins: zz_kimundi (kimundi@moz-DBB29B3E.dip0.t-ipconnect.de)
[02:21:22] *** zz_kimundi is now known as kimundi
[02:46:10] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[02:46:11] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14eafaf4a to 1422a5ebd: 02http://git.io/N3iJvQ
[02:46:11] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[02:46:15] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[02:46:15] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/Hb05Aw
[02:46:15] <ghrust> 13rust/06auto 145754848 15Luqman Aden: libsyntax/librustc: Allow specifying mut on by-value self.
[02:46:15] <ghrust> 13rust/06auto 14af16357 15Luqman Aden: libsyntax/librustc: Allow specifying mut on ~self.
[02:46:15] <ghrust> 13rust/06auto 1403111fb 15Luqman Aden: Add tests for uniq & by-value self in mut slot.
[02:46:17] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[03:00:52] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[03:01:02] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[03:02:28] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:02:35] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:06:50] * Luqman grumbles about remenants of old syntax handling in the parser
[03:08:24] *** Joins: tjc (tjc@moz-390C33E4.hsd1.ca.comcast.net)
[03:08:24] *** ChanServ sets mode: +o tjc
[03:08:37] *** Quits: tjc (tjc@moz-390C33E4.hsd1.ca.comcast.net) (Quit: Places to go, people to annoy)
[03:23:38] *** Joins: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP)
[03:37:45] *** Quits: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP) (Ping timeout)
[03:44:18] *** Joins: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP)
[03:51:08] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[03:51:09] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/Hb05Aw
[03:51:09] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[03:56:06] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[03:56:06] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/ymTClA
[03:56:06] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[03:56:07] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[03:56:07] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/DVwFtA
[03:56:07] <ghrust> 13rust/06auto 14c979575 15Tim Chevalier: rustpkg: Support arbitrary dependencies in the install API...
[03:56:07] <ghrust> 13rust/06auto 144cbc8ad 15bors: auto merge of #9654 : catamorphism/rust/rustpkg-c-dependencies, r=brson...
[03:56:08] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[03:59:29] *** Quits: dbaupp (Thunderbir@7B3DE86F.D5A1DCF.37681C44.IP) (Ping timeout)
[04:01:10] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[04:01:10] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[04:10:08] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[04:17:10] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:17:15] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:27:53] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[05:00:51] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:00:51] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:01:16] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[05:01:16] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/DVwFtA
[05:01:16] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[05:06:10] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[05:06:10] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/0coM_g
[05:06:10] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[05:06:15] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[05:06:15] <ghrust> 01[13rust01] 15bors pushed 24 new commits to 06auto: 02http://git.io/-idqbQ
[05:06:15] <ghrust> 13rust/06auto 1478f4488 15Alex Crichton: Implement io::net::unix
[05:06:15] <ghrust> 13rust/06auto 140a6db9c 15Alex Crichton: Finish implementing io::net::addrinfo...
[05:06:16] <ghrust> 13rust/06auto 146e5ec02 15Alex Crichton: Address a few XXX comments throughout the runtime...
[05:06:18] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[05:06:23] *** Joins: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net)
[05:16:32] *** Quits: Kxepal (Miranda@moz-65DA6C76.pppoe.mtu-net.ru) (Ping timeout)
[05:17:01] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:17:43] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:19:47] *** Joins: Kxepal (Miranda@moz-C38F0777.pppoe.mtu-net.ru)
[05:25:02] <dbaupp> nmatsakis: did you see your cc on https://github.com/mozilla/rust/pull/9841 ?
[05:25:07] *** kimundi is now known as zz_kimundi
[05:32:32] <dbaupp> Luqman: ping
[05:32:40] <Luqman> dbaupp: pong
[05:33:05] <dbaupp> Luqman: your mut patch doesn't allow `mut ref x` does it?
[05:33:21] <dbaupp> (i.e. same as `let mut x = &whatever`)
[05:34:43] <dbaupp> not that it matters if it's not allowed... I imagine that that is a very rare edge case for which someone can just write `(ref x) => { let mut x = x;`
[05:35:14] <Luqman> yea, it doesn't right now
[05:39:57] <Luqman> dbaupp: also, my patch doesn't allow `let mut ref mut x = ...;` anymore :P
[05:40:12] <dbaupp> that was legal?
[05:40:19] <dbaupp> rusti: let mut ref mut _x = 1;
[05:40:22] -rusti- <anon>:9:17: 9:27 warning: variable does not need to be mutable, #[warn(unused_mut)] on by default
[05:40:22] -rusti- <anon>:9          let mut ref mut _x = 1;
[05:40:22] -rusti-                           ^~~~~~~~~~
[05:40:22] -rusti- ()
[05:40:32] <dbaupp> yuck
[05:40:49] <Luqman> yep, since the syntax was: let mut? pat = ...
[05:41:03] <Luqman> and pat could be: ref mut foo
[05:41:04] <dbaupp> ah, right
[05:42:24] <dbaupp> I guess the most general grammar for ident patterns would be `mut? [ref mut?]? <ident>` rather than `ref? mut? <ident>`, but I'd hope that `mut ref mut` doesn't need to be used much...
[05:43:50] <Luqman> well, it built and passed the tests, so no one was using it in the compiler at least
[05:44:01] <dbaupp> good!
[05:45:12] <Luqman> though i did run into a broken test because there was some part of the parser that still thought mutable fields in a struct were still a thing :/
[05:46:19] <dbaupp> as in struct Foo { mut x: int }?
[05:47:24] <Luqman> yea
[05:48:23] <dbaupp> since you've been fiddling in the pattern-parsing area, do you reckon https://github.com/mozilla/rust/issues/6137 is easy to solve?
[05:48:31] <acrichto> Luqman: does your patch allow something like "let Struct { mut field, other: mut binding } = ..." ?
[05:48:54] <Luqman> acrichto: no
[05:49:12] <dbaupp> acrichto: see 6137 :P
[05:49:37] <acrichto> ah ok
[05:49:47] <dbaupp> (well, not quite, since that was from before mut was even proposed to be valid in patterns, but close enough)
[05:50:09] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:50:34] <Luqman> acrichto: actually, never mind. it does allow: let Foo { x: mut x } = Foo { x: 32 };
[05:50:42] <Luqman> just not the shortcut way
[05:51:11] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[05:51:12] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/DNsmrQ
[05:51:12] <ghrust> 13rust/06auto 1414a6a62 15Huon Wilson: std::rand: simplify/safe-ify the default Rng.fill_bytes....
[05:51:12] <ghrust> 13rust/06auto 14b8932c6 15Huon Wilson: std::rand: use "nothing up your sleeve numbers" for ISAAC tests....
[05:51:12] <ghrust> 13rust/06auto 146e7bbda 15Huon Wilson: std::rand: seed ISAAC with no transmutes....
[05:51:14] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[05:51:32] <acrichto> Luqman: yay!
[05:54:03] <sfackler> acrichto: having a hard time merging the io changes? :P
[05:54:13] <acrichto> sfackler: this is awful
[05:54:25] <acrichto> windows hates pipes for some reason, and I have no idea why
[05:55:42] <sfackler> haha, and windows's run pass setup gives no context at all for failures
[06:01:30] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:01:30] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:06:50] *** Quits: tikue_ (tikue_star@E3EE1DAD.3B4A6B80.689607DE.IP) (Client exited)
[06:07:34] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:18:13] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:19:02] <Luqman> :| i don't understand, this compile-fail test is failing, as it should!
[06:29:17] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Ping timeout)
[06:31:40] *** Joins: nrc (nrc@moz-BAE8D951.pck.nerim.net)
[06:33:14] *** Quits: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net) (Ping timeout)
[06:35:18] *** Joins: dbaupp (Thunderbir@moz-F00696E.lns20.syd6.internode.on.net)
[06:37:16] *** Joins: doomlord__ (servitor@moz-3F3192E5.range86-184.btcentralplus.com)
[06:37:25] *** Quits: doomlord__ (servitor@moz-3F3192E5.range86-184.btcentralplus.com) (Client exited)
[06:40:14] *** Quits: Kxepal (Miranda@moz-C38F0777.pppoe.mtu-net.ru) (Quit: Kxepal)
[06:40:36] *** Joins: Kxepal (Miranda@moz-C38F0777.pppoe.mtu-net.ru)
[06:42:47] *** Quits: nrc (nrc@moz-BAE8D951.pck.nerim.net) (Ping timeout)
[06:54:51] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[06:56:10] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[06:56:11] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/DNsmrQ
[06:56:11] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[06:57:02] *** Joins: geoffhill (geoffhill@moz-2785B672.hsd1.wa.comcast.net)
[06:57:45] *** Quits: dbaupp (Thunderbir@moz-F00696E.lns20.syd6.internode.on.net) (Ping timeout)
[06:58:22] <acrichto> omfg
[06:58:25] <acrichto> windows
[06:58:37] <acrichto> STD_INPUT_HANDLE != STDIN_FILENO
[06:58:42] <acrichto> wheeeeeeee
[06:58:55] <cmr>    heh
[07:01:19] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:01:25] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[07:01:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/ynjggw
[07:01:25] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[07:01:26] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:01:28] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[07:01:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/LsHtZQ
[07:01:28] <ghrust> 13rust/06auto 14e6d8f06 15Alex Crichton: Tidy up asm! usage in libstd
[07:01:28] <ghrust> 13rust/06auto 148c97c5e 15bors: auto merge of #10021 : alexcrichton/rust/asm-now-analyzed-correctly, r=luqmana...
[07:01:28] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[07:01:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:01:42] *** Joins: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net)
[07:03:56] *** Quits: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffdb)
[07:05:26] <Luqman> hmm what exactly does the compile-fail test runner want?
[07:06:03] <Luqman> https://gist.github.com/luqmana/4835410f4fe7b3373a58
[07:06:31] <dbaupp> at a guess, there shouldn't be a colon after ERROR
[07:07:03] <Luqman> i copied that a line the presumably previously worked
[07:07:09] <Luqman> besides, doesn't make a difference
[07:07:16] <dbaupp> ah, weird
[07:12:37] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:21:52] <Luqman> i don't understand why this doesn't work
[07:22:02] <Luqman> acrichto: do you have any idea?
[07:22:38] <acrichto> Luqman: do you have trailing whitespace on the comment?
[07:22:53] <Luqman> nope
[07:23:03] <dbaupp> https://github.com/mozilla/rust/pull/10029 r?
[07:23:15] <dbaupp> also, acrichto, any progress on https://github.com/mozilla/rust/pull/9810 ?
[07:23:41] <acrichto> dbaupp: I'll take a look at those tmw
[07:24:00] <dbaupp> acrichto: ok, thanks :)
[07:24:05] <acrichto> Luqman: that's weird...
[07:24:50] <Luqman> looking the debug output for compiletest, it seems like it should work
[07:25:55] <acrichto> try matching on just a substring
[07:26:00] <acrichto> not sure why that would work...
[07:26:14] *** Joins: ash_136 (ashvini@65AFF8FC.D5329915.422D491.IP)
[07:26:55] <Luqman> derp, it's because the error is outputted twice :/
[07:27:55] <acrichto> oh wow that should have been glaringly obvious to me too haha
[07:40:17] *** Joins: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[07:58:47] <ash_136> hello
[07:58:59] <ash_136> I want to make changes to the code
[07:59:03] <ash_136> using my test cases
[07:59:07] <ash_136> for this issue :
[07:59:33] <ash_136> https://github.com/mozilla/rust/issues/8005
[07:59:45] <ash_136> Can anyone help me with it?
[08:00:41] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:01:02] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:01:07] *** strcat1 is now known as strcat
[08:01:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:01:22] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:01:22] <ash_136> anybody ?
[08:01:53] <Luqman> ash_136: what do you need help with exactly?
[08:03:33] *** zz_kimundi is now known as kimundi
[08:06:19] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[08:06:19] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/LsHtZQ
[08:06:19] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[08:11:25] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[08:11:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/gYEBqA
[08:11:25] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[08:11:29] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[08:11:29] <ghrust> 01[13rust01] 15bors pushed 24 new commits to 06auto: 02http://git.io/71OxsQ
[08:11:29] <ghrust> 13rust/06auto 1478f4488 15Alex Crichton: Implement io::net::unix
[08:11:29] <ghrust> 13rust/06auto 140a6db9c 15Alex Crichton: Finish implementing io::net::addrinfo...
[08:11:30] <ghrust> 13rust/06auto 146e5ec02 15Alex Crichton: Address a few XXX comments throughout the runtime...
[08:11:32] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[08:11:44] <cmr> That PR was 17 commits last I checked..
[08:14:57] <ash_136> Luqman:I made the test cases
[08:15:03] <ash_136> How do I now change the code
[08:15:14] <ash_136> without affecting the rest of the cases
[08:15:18] <ash_136> for this issue?
[08:15:54] <Luqman> ash_136: my approach for something like that is to usually find out where exactly the error is coming from
[08:16:03] <Luqman> using grep or something
[08:16:25] <ash_136> I found out 
[08:16:37] <ash_136> I mean lbergstrom told me about it
[08:16:40] *** Joins: jensnockert (jensnocker@moz-2B476444.wireless.lu.se)
[08:16:42] <ash_136> before I wrote the test case
[08:16:53] <ash_136>  it is in liveness.rs
[08:17:51] <ash_136> btw I tried running my test case like this :
[08:17:52] <ash_136>  make check-stage1-cfail TESTNAME=s1
[08:18:02] <ash_136> s1 is name of my test case
[08:18:15] <ash_136> and its taking a very long time . is this usual ?
[08:19:32] <Luqman> it will first build the stage1 compiler & libs so that will take some time
[08:19:58] <ash_136> Luqman: okay and the error code is here src/librustc/middle/liveness.rs
[08:21:00] <Luqman> ash_136: yep, so for this bug what you want i think is to check if the last statement in the function has a trailing semi-colon
[08:21:15] <Luqman> and if it does, you can try to output a more helpful error message
[08:21:27] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[08:22:06] <ash_136> Luqman:
[08:22:18] <ash_136> I wrote test cases for two types of errors:
[08:22:42] <ash_136> one for case like this :
[08:22:42] <ash_136> fn bar() -> int {}
[08:22:43] <ash_136> fn foo() -> int {
[08:22:43] <ash_136>   bar();
[08:22:43] <ash_136> }
[08:22:55] <ash_136> and one for this
[08:22:57] <ash_136> fn bar() {}
[08:22:57] <ash_136> fn foo() -> int {
[08:22:57] <ash_136>   bar();
[08:22:57] <ash_136> }
[08:23:19] <ash_136> for first the error message is try removing semicolon 
[08:23:23] <ash_136> and second is the same
[08:23:30] <ash_136> not all control paths return a value
[08:23:41] <ash_136> So now how do I implement it in the code ?
[08:23:48] <Luqman> cool
[08:24:16] <Luqman> you need to check the last statement in the function
[08:24:47] <Luqman> and if it has a trailing semi-colon you check what the type of the expr is
[08:25:34] <ash_136> yeah
[08:25:39] <ash_136> In liveness.rs
[08:25:54] <ash_136>  if ty::type_is_nil(t_ret) {
[08:25:55] <ash_136>                 // for nil return types, it is ok to not return a value expl.
[08:25:55] <ash_136>             } else if ty::type_is_bot(t_ret) {
[08:25:55] <ash_136>                 // for bot return types, not ok.  Function should fail.
[08:25:55] <ash_136>                 self.tcx.sess.span_err(
[08:25:55] <ash_136>                     sp, "some control paths may return");
[08:25:57] <ash_136>             } else {
[08:25:59] <ash_136>                 self.tcx.sess.span_err(
[08:26:01] <ash_136>                     sp, "not all control paths return a value");
[08:26:14] <Luqman> you can modify the `check_ret` method so that it takes the `body` block when it's called
[08:26:16] <ash_136> I need to add another case for mine  right?
[08:26:51] <ash_136> Luqman:How do I do that?
[08:27:02] <Luqman> and if you look in libsyntax/ast.rs for the `Block` struct you;ll see it has a field called stmts
[08:27:23] <Luqman> ash_136: try finding where check_ret is called
[08:29:57] *** Quits: ash_136 (ashvini@65AFF8FC.D5329915.422D491.IP) (Ping timeout)
[08:31:33] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:36:44] *** Quits: StarLight (StarLight@moz-ED9027EE.pppoe.avangarddsl.ru) (Ping timeout)
[08:41:06] *** Joins: StarLight (StarLight@moz-2CB27D18.dynamic.avangarddsl.ru)
[08:45:36] *** Joins: ash_136 (ashvini@88890FB4.767E090D.1FAF9555.IP)
[08:45:48] <ash_136> Luqman:did you get my messages?
[08:45:50] <ash_136> Hello
[08:46:00] <ash_136> I got disconnected srry
[08:46:08] <ash_136> Luqman : I found stmts
[08:46:15] <cmr> ash_136: https://botbot.me/mozilla/rust-internals/msg/7159982/
[08:47:06] <ash_136> thanks cmr
[08:47:11] <ash_136> I found the stmts
[08:47:22] <ash_136> Is it used for finding terminators?
[08:47:26] <ash_136> Luqman:?
[08:48:37] <Luqman> ash_136: oh sorry, you're back now
[08:48:47] <ash_136> Luqman:Yes
[08:49:03] <ash_136> is stmts used to get the terminator of the block?
[08:49:28] <ash_136> so that I can check if its a ; ?
[08:49:37] <Luqman> ash_136: so, the stmts field of a Block struct is of the type ~[@Stmt]
[08:49:46] <ash_136> yes
[08:50:24] <Luqman> and Stmt is an enum that has different variants
[08:50:39] <Luqman> the comments in libsyntax/ast.rs describe the each one
[08:51:38] <ash_136> okay yes
[08:51:41] <ash_136> found that
[08:51:50] <ash_136> so I can use the
[08:52:03] <ash_136> check_ret function to get the body of the function
[08:52:19] <ash_136> and use this stmts to check if its a semicolon or not
[08:52:26] <KokaKiwi> Hoy, hmm, is there a way in libsyntax, to get a function declaration from an ast::Expr (more precisely, in ext::expand module) ?
[08:52:28] <ash_136> and then accordingly print the message
[08:52:42] <Luqman> ash_136: yea, i think that's roughly how it should go
[08:52:58] <KokaKiwi> (I mean, the expr in question is "extracted" from an ExprCall)
[08:53:34] <ash_136> Luqman:ok I need it to be better than rough work :P so first step is to tell the check_ret function to get the body of the fuunction right?
[08:53:57] <Luqman> KokaKiwi: i don't think so, that seems to be in the realm of librustc
[08:54:29] <Luqman> ash_136: yes, you can modify check_ret such that it gets the body Block
[08:55:08] <KokaKiwi> Luqman: I think too, but as the ext::expand is called from librustc, maybe there is a way :/
[08:56:11] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[08:56:12] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14651d89e to 148c97c5e: 02http://git.io/N3iJvQ
[08:56:12] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[08:56:12] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[08:56:12] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/m4w6zg
[08:56:12] <ghrust> 13rust/06auto 1460245b9 15Ziad Hatahet: Remove thread-blocking call to `libc::stat` in `Path::stat`...
[08:56:12] <ghrust> 13rust/06auto 14f2d842e 15bors: auto merge of #10022 : hatahet/rust/master, r=alexcrichton...
[08:56:13] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[09:00:22] <ash_136> Luqman:
[09:00:27] <ash_136> is this right?
[09:00:46] <ash_136> in the check_ret function
[09:00:47] <ash_136> pub fn check_ret(&self,$
[09:00:48] <ash_136>                      id: NodeId,$
[09:00:48] <ash_136>                      sp: Span,$
[09:00:48] <ash_136>                      _fk: &visit::fn_kind,$
[09:00:48] <ash_136>                      entry_ln: LiveNode,$
[09:00:51] <ash_136>                      fn_body: &Block) {$
[09:00:53] <ash_136> I added the last line
[09:01:09] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:01:10] <ash_136> and in the function call
[09:01:11] <ash_136> lsets.check_ret(id, sp, fk, entry_ln,fn_body);$
[09:01:29] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:01:42] <Luqman> the first bit is fine, but does fn_body exist when you're making the call?
[09:02:08] <ash_136> Luqman:In the sense
[09:02:15] <ash_136> function body will exist right?
[09:02:22] <Luqman> i think you want just body. the line right before has: `lsets.visit_block(body, ());`
[09:02:30] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:02:39] <Luqman> but i mean the variable needs to be in scope
[09:02:42] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:03:12] <ash_136> Luqman: Dint get you 
[09:03:46] <Luqman> i mean, the variable you want to use `fn_body` isn't defined anywhere
[09:04:07] <ash_136> Oh you meant the variable
[09:04:17] <ash_136> I was thinking about the function where it has to check
[09:04:18] <ash_136> okay 
[09:04:30] <ash_136> so I have to define it somewhere
[09:04:56] <Luqman> no, what you want is already there, just the name is different: 'body'
[09:05:05] <Luqman> so: lsets.check_ret(id, sp, fk, entry_ln, body);
[09:06:13] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[09:06:13] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14f2d842e to 148c97c5e: 02http://git.io/N3iJvQ
[09:06:13] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[09:06:17] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[09:06:17] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/TWTSBg
[09:06:17] <ghrust> 13rust/06auto 14567a03d 15Tim Chevalier: testsuite: Test cases, all except issue-5216 xfailed
[09:06:17] <ghrust> 13rust/06auto 145de50a3 15bors: auto merge of #10027 : catamorphism/rust/testcases-2013-10-22, r=catamorphism
[09:06:18] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[09:06:37] <ash_136> Luqman:Okay so in the check_ret function definition
[09:06:47] <ash_136> instead of fn_body
[09:06:49] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:06:52] <ash_136> I should name it as body?
[09:06:53] <ash_136> right?
[09:07:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:07:43] <Luqman> ash_136: oh, it doesn't really matter what you name it there
[09:08:06] <ash_136> cos they are just formal parameters?
[09:09:28] <Luqman> yes, it only mattered in the other case because the variable needs to exists before you can pass it to the method
[09:10:20] <ash_136> Luqman: okay now
[09:10:44] <ash_136> I should access body.stmts 
[09:10:50] <ash_136> to check for semicolon
[09:10:54] <ash_136> ?
[09:13:26] <ash_136> let st_ = body.stmts?
[09:13:34] <Luqman> yes, you would check if the last statement is of the variant StmtSemi
[09:14:29] <ash_136> How will I know the last statement?
[09:14:52] <ash_136> is there any pointer to be used
[09:14:58] <ash_136> or anyhting to indicate last statement?
[09:15:09] <dbaupp> body.stmts.last()
[09:15:13] <Luqman> i would suggest using the last_opt() method
[09:15:40] * dbaupp agrees
[09:15:40] <Luqman> dbaupp: that will fail if it's an empty vector
[09:15:59] <dbaupp> Luqman: yep
[09:16:44] <ash_136> Luqman so body.last_opt().stms?
[09:16:55] <ash_136> how to pass it so stmssemi
[09:16:57] <ash_136> okay
[09:17:09] <Luqman> ash_136: no, body.stmts.last_opt()
[09:17:10] <ash_136> if( stmssemi(body.last_opt().stms
[09:17:18] <Luqman> since body.stmts is the vector
[09:17:48] <ash_136> if(stmssemi(body.stms.last_opt()) 
[09:17:51] <ash_136> then print the error 
[09:18:04] <ash_136> something like this ?
[09:18:06] <Luqman> ash_136: no, sadly a bit more work than that :P
[09:18:11] <dbaupp> `match body.stmts.last_opt() { Some(StmtSemi(*)) => { /* print new error */ } _ => { /* print old error */ } }``
[09:18:17] * dbaupp is guessing
[09:18:30] <dbaupp> (that may require modifications to get it exactly correct)
[09:18:41] <ash_136> Wait
[09:19:03] <ash_136>  StmtSemi(@Expr, NodeId),
[09:19:15] <ash_136> so Something should be passed to StmtSemi right?
[09:19:27] <ash_136> the last statemnt of the body should be passsed to StmtSemi
[09:19:31] <ash_136> right?
[09:19:35] <Luqman> no, you're not passing anything to StmtSemi
[09:19:49] <nmatsakis> dbaupp: I did not see that (hmm am I that behind on github notifications?) -- anyway, thanks
[09:20:24] <Luqman> ash_136: each item in the vector can be one of StmtDecl, StmtExpr, StmtSemi or StmtMac
[09:20:34] <ash_136> Yes Got that
[09:20:34] <ash_136> but 
[09:20:36] <ash_136> StmtSemi(@Expr, NodeId)
[09:20:49] <ash_136> ^ made me think I should pas an expression to it
[09:20:51] <ash_136> sorry
[09:20:56] <cmr> ash_136: that just means that the StmtSemi variant contains two data fields. It's not a function or anything like that.
[09:21:01] <Luqman> ash_136: no need to apologize
[09:21:16] <ash_136> thanks
[09:21:17] <cmr> When matching against it, the contents don't matter for this error, so you can use the * wildcard
[09:21:17] <ash_136> so
[09:21:31] <dbaupp> ash_136: the goal is to check whether the last statement *is* a StmtSemi, which is performed by pattern matching
[09:21:40] <ash_136> right
[09:21:41] <ash_136> so
[09:21:41] <dbaupp> that is what the `match` statement I gave above is doing
[09:21:56] <Luqman> you want something like: match body.stmts.last_opt() { Some(stmt) => match stmt.node { StmtSemi(e, _) => { ... }, _ => { ... } }, None => { ... } }
[09:22:16] <ash_136> match body.stmts.last_opt() ---this is the last body statment
[09:22:24] <ash_136> should match'
[09:22:28] <ash_136> StmtSemi
[09:22:46] <kimundi> No, this a Option containing the last statement :)
[09:23:01] <ash_136> Huh :(
[09:23:07] <Luqman> ash_136: yes, since we don't know if the list is empty or not, we use .last_opt() which will give use either None if the vector is empty or Some(stmt) where stmt is the last one
[09:23:09] <kimundi> last_opt() will give you a Option<Stmt>
[09:24:30] <Luqman> so in the None case, you can just output an error saying it's an empty function but it expects a return value
[09:24:56] <Luqman> and in the Some(stmt) case, you have to do another match to figure out if it's a StmtSemi
[09:25:02] <ash_136> stmt.node is ?
[09:25:28] <Luqman> that's just a detail of how libsyntax does things
[09:25:35] <ash_136> a node is the type of stmt?
[09:25:48] <ash_136> i meant used to represt the type?
[09:26:09] <kimundi> Stmt doesn't have a node field, it's an enum, right?
[09:26:18] * kimundi didn't look at the actual definition
[09:26:18] <Luqman> so yea, it wraps a bit more information, like stmt.id and stmt.span
[09:26:30] <ash_136> okay
[09:26:33] <Luqman> kimundi: no, type Stmt = Spanned<Stmt_>
[09:26:43] <Luqman> Stmt_ is the enum
[09:26:44] <ash_136> stmt
[09:26:50] <kimundi> Ah, those confusing type definition :P
[09:26:56] * kimundi hates those
[09:27:00] <ash_136> okay
[09:27:02] <ash_136> now
[09:27:23] <ash_136> match body.stmts.last_opt() - will use either none or the last statement
[09:27:28] <ash_136> and match it with
[09:27:29] <ash_136> {
[09:27:45] <Luqman> ash_136: yep, so pretty much what i said earlier
[09:28:28] <ash_136> Some(stmt) => match stmt.mode 
[09:28:56] <ash_136> after stmt.node is it a ( or {
[09:29:05] <Luqman>  {
[09:29:20] <ash_136> {...} is the error message?
[09:29:33] <Luqman> well, for the last 2 ... yes
[09:29:34] <kimundi> match body.stmts.last_opt() { Some(stmt) => match stmt.node { StmtSemi => /* ... */, /* ... */ }, None => /* empty function  */ }
[09:29:59] <Luqman> ash_136: for the first one, you want to do a bit more
[09:30:07] <kimundi> ^ Is that the right stub?
[09:30:43] <Luqman> ash_136: that is check if the return type of the function and the type of the last expr are the same, in that case the user might have accidentally put an extra ;
[09:31:23] <ash_136> exactly
[09:31:45] <ash_136> can you give me the match syntax?
[09:33:38] <ash_136> got it 
[09:35:45] *** Joins: pnkfelix (pnkfelix@moz-B906FD97.bstnma.fios.verizon.net)
[09:35:45] *** ChanServ sets mode: +o pnkfelix
[09:37:27] <ash_136> Luqman: So can we do it two different match statements or in the same one ?
[09:38:05] <Luqman> ash_136: 2 it seems like
[09:38:23] <ash_136> so first will find the return type
[09:38:24] <kimundi> One could work in theory, but would probably look more confusing
[09:38:44] <ash_136> and the other one will match the return type and choose the error message?
[09:38:51] <Luqman> ash_136: oh, you mean for comparing the types?
[09:39:01] <Luqman> you don't need an additional match for that
[09:39:23] <Luqman> so, if you look a bit up, you'll see the line: let t_ret = ty::ty_fn_ret(ty::node_id_to_type(self.tcx, id));
[09:39:37] <kimundi> the first match matches the Option on Some and None, the second one matches the stmt in the Some case of the first one
[09:39:37] <ash_136> Luqman: yes
[09:39:46] <Luqman> you're gonna want to do a similar thing to get the type of the expression, something like:
[09:40:09] <Luqman> tty::node_id_to_type(self.tcx, expr.id)
[09:40:35] <Luqman> you can actually add that to the second match
[09:41:39] <Luqman> match stmt.node { StmtSemi(expr, _) if ty::node_id_to_type(self.tcx, expr.id) == t_ret => { specific error } _ => { old error } }
[09:42:26] *** Quits: jensnockert (jensnocker@moz-2B476444.wireless.lu.se) (Connection reset by peer)
[09:42:46] *** Joins: jensnockert (jensnocker@moz-2B476444.wireless.lu.se)
[09:42:52] <ash_136> okay what does => do ?
[09:43:10] *** Quits: jensnockert (jensnocker@moz-2B476444.wireless.lu.se) (Connection reset by peer)
[09:43:14] <Luqman> that's just the syntax for match
[09:43:26] *** Joins: jensnockert (jensnocker@moz-2B476444.wireless.lu.se)
[09:43:31] <ash_136> match_expr : "match" expr '{' match_arm [ '|' match_arm ] * '}' ;
[09:43:31] <ash_136> match_arm : match_pat '=>' [ expr "," | '{' block '}' ] ;
[09:43:31] <ash_136> match_pat : pat [ ".." pat ] ? [ "if" expr ] ;
[09:43:38] <Luqman> match <what you want to match> { <case 1> => { handle case 1 } ... }
[09:43:47] <ash_136> I dint quite understand this syntax which i put
[09:44:03] <ash_136> Luqman: That was way better thanks :)
[09:44:08] <Luqman> so the whole thing is a match_expr
[09:44:25] <Luqman> what you want to match is some expr (expression)
[09:44:34] <ash_136> Luqman so here
[09:44:43] <ash_136> you want to match stmt.node
[09:44:51] <Luqman> yep
[09:44:54] <ash_136> if its is StmtSemi
[09:44:59] <Luqman> yep
[09:45:03] <ash_136> then you go to if
[09:45:15] <Luqman> ah, that's called a pattern guard
[09:45:30] <Luqman> so, it lets us be a bit more specific about the case we want to match
[09:45:34] <ash_136> check if the return type of the function is tret
[09:45:55] <ash_136> wait
[09:46:01] <ash_136> is  this right?
[09:46:12] <ash_136> if stmt.node is StmtSemi
[09:46:16] <ash_136> then it goes to if
[09:46:26] <Luqman> for example in: fn foo() -> int { 3; }  it would check the type of 3 (which would be int) and compares against the functions return type (which is also int)
[09:46:52] <ash_136> t_ret is 3?
[09:47:15] <ash_136> functions return type is t_ret which is int
[09:47:20] <Luqman> no, t_ret is the return type of the function
[09:47:28] <Luqman> which in my example is int, yes
[09:47:42] <ash_136> and 
[09:47:44] <ash_136> ty::node_id_to_type(self.tcx, expr.id) 
[09:47:51] <ash_136> is the type
[09:47:57] <ash_136> of last statement in the body 
[09:48:13] * pnkfelix comes late the conversation
[09:48:14] <ash_136> (ie if body is not empty)
[09:48:25] <ash_136> which here is type of 3 which is int
[09:48:35] <ash_136> Is my understanding right?
[09:48:37] <pnkfelix> ash_136: are you trying to learn the semantics of rust by reading the source code to libsyntax/librustc ?
[09:48:50] <Luqman> pnkfelix: trying to tackle https://github.com/mozilla/rust/issues/8005
[09:49:03] <pnkfelix> Luqman: ah
[09:49:55] <ash_136> Luqman: is that right ? what I told?
[09:49:57] <Luqman> ash_136: so yes, in the case where the type of the two are the same, we can output a more helpful message
[09:50:37] <ash_136> { specific error } _ => { old error }
[09:50:52] <ash_136> here specific error  _ is ?
[09:50:59] <ash_136> the error message ??
[09:51:22] <Luqman> no, the _ just acts as a catch all
[09:52:05] <ash_136> in the sense
[09:52:14] <ash_136> { specific error } _ => { old error }
[09:52:19] <ash_136> what is this doing ?
[09:53:38] <jdm> { specific error } is one branch
[09:53:45] <jdm> _ => { old error } is another branch
[09:54:10] <jdm> note that the first one should really be more like this: <something> => { specific error }
[09:54:56] <ash_136> that something is if the return types are same 
[09:55:04] <ash_136> right?
[09:55:26] <jdm> that depends what you mean by return types
[09:55:33] <jdm> ash_136: see #rust for a little bit
[09:55:54] <Luqman> ash_136: it might be more clear a bit more formatted: https://gist.github.com/luqmana/7115726
[09:58:19] <Luqman> ash_136: anyways, sorry i must go now. it's getting late and i should go to bed
[09:58:36] <cmr> jdm: rusti is in here.
[09:59:12] *** Quits: jensnockert (jensnocker@moz-2B476444.wireless.lu.se) (Input/output error)
[09:59:53] <ash_136> jdm:Thanks :)
[09:59:55] <ash_136> Luqman:
[09:59:59] <ash_136> I think I got it now
[10:00:16] <ash_136> the  _ is for all other cases other than the one mentioned before it
[10:00:23] <ash_136> something like default case types?
[10:00:59] <cmr> ash_136: correct
[10:01:06] <cmr> It's a wildcard that matches anything
[10:01:10] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:01:32] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:02:33] <ash_136> okay awesome \o/
[10:02:34] <ash_136> !!
[10:02:37] <ash_136> so now 
[10:03:26] <ash_136> I should include  this statement in check_ret function right?
[10:03:47] <ash_136> but it should be in a if case like others shouldnt it ?
[10:03:55] <ash_136> Luqman:cmr?
[10:06:38] <jdm> ash_136: you can make the match return a boolean and check that with the other if statements
[10:07:58] <ash_136> jdm: Cant I use StmtMac(mac, bool),
[10:08:10] <ash_136> since it says it checks for a trailing semicolon
[10:08:26] <ash_136> it will check if the body ends with a semicolon right?
[10:08:40] <jdm> ash_136: that's only for macro statements
[10:08:47] <ash_136> ohh sorry
[10:09:01] <ash_136> and where do my test cases come into pplay?~
[10:10:05] <cmr> ash_136: did you run the test suite and they failed?
[10:11:17] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[10:11:17] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/TWTSBg
[10:11:17] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[10:12:05] <ash_136> yes
[10:12:10] <ash_136> cmr: I ran them
[10:12:32] <ash_136> now how can I make this statement return boolean??
[10:13:26] <jdm> match <something> { <some case> => true, _ => false }
[10:14:12] <ash_136> jdm:but the true or false itself depends on the matching statement
[10:14:25] <jdm> I'm not sure what you mean
[10:14:39] <ash_136> see the code :https://gist.github.com/luqmana/7115726
[10:15:33] <jdm> oh, that looks like you don't need a boolean thing
[10:15:39] <ash_136> exactly
[10:15:42] <jdm> that match could just go inside the else
[10:15:54] <ash_136> yes thats what I thought
[10:16:05] <ash_136> but then that would again cause the same issue
[10:16:07] <ash_136> since
[10:16:34] <ash_136> else if ty::type_is_bot(t_ret) {
[10:16:34] <ash_136>                 // for bot return types, not ok.  Function should fail.
[10:16:34] <ash_136>                 self.tcx.sess.span_err(
[10:16:34] <ash_136>                     sp, "some control paths may return");
[10:16:42] <ash_136> this else if will be execute before the else
[10:16:52] <ash_136> and so it will print tis message 
[10:17:08] <jdm> oh
[10:17:12] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:17:36] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:18:08] <ash_136> So we should include a bool return somewhere right?
[10:18:14] <ash_136> orrr
[10:18:20] <jdm> ash_136: you can just run the match statement before any of the if statements and do something like |let ends_with_semi = match ...|
[10:18:31] <jdm> then use ends_with_semi in the rest of the code
[10:18:59] <ash_136> ends with semi will contain what?
[10:19:31] <ash_136> match returns a boolean or what ?
[10:19:47] <jdm> ash_136: match returns whatever you want
[10:19:57] <jdm> you can make it return a boolean like I showed up above
[10:22:24] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[10:23:30] <ash_136> jdm:should you use the statement return ?
[10:23:44] <ash_136> =>{ return true} ?
[10:23:51] <jdm> ash_136: no. that will try to return from check_ret
[10:24:41] <ash_136> okay
[10:27:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[10:29:01] <ash_136> https://gist.github.com/ash13/7116200
[10:29:06] <ash_136> jdm:this makes sense?
[10:29:18] <ash_136> I can put this before all this if statements
[10:29:34] <ash_136> and only if this is false go to other ifs 
[10:29:35] <ash_136> else
[10:29:38] <ash_136> do the printing
[10:29:39] <ash_136> ?
[10:30:02] <jdm> something like that
[10:30:16] <jdm> give it a try
[10:30:41] <ash_136> jdm : how does test cases even come here?
[10:30:49] <ash_136> I mean where and how  are they even used?
[10:31:25] <jdm> ash_136: https://github.com/mozilla/rust/wiki/Note-testsuite
[10:31:46] *** kimundi is now known as zz_kimundi
[10:31:59] <jdm> so in particular, something like make check-stage1-rpass
[10:32:05] <jdm> will run any run-pass tests
[10:32:43] <jdm> I guess if you're checking error messages you'll want make check-stage1-cfail
[10:32:51] <jdm> since I would expect the tests in compile-fail
[10:35:36] <ash_136> jdm: I mean how are the test cases used?????
[10:36:02] <ash_136> Like are the linked in the program like if so and so thing happens call the file in compile-fail ?
[10:36:06] <ash_136> or how ?
[10:36:47] <pnkfelix> ash_136: `make check` compiles and runs the tests
[10:36:59] <pnkfelix> ash_136: or rather, it attempts to compile all of them.
[10:37:27] <ash_136> pnkfelix:okay fine say the compiler compiles it
[10:37:42] <pnkfelix> ash_136: and checks that ones in compile-fail actually fail to compile.  (and it attempts to run the ones in run-pass, etc)
[10:37:43] <ash_136> so how is it useful when a similar error occurs in a real program?
[10:38:14] <ash_136> pnkfelix: I still dint get it
[10:38:23] <ash_136> and what is run pass
[10:38:53] <ash_136> so it fails to compile so whats the use?
[10:39:08] <ash_136> How is it useful? 
[10:39:12] <cmr> ash_136: The tests are used to verify the correctness of the compiler.
[10:39:16] <pnkfelix> ash_136: because you want to double-check that some inputs are actually caught by the static check
[10:39:31] <cmr> It checks the output when it fails so you can verify that the error messages that happen are what you expect.
[10:39:33] <pnkfelix> ash_136: rather than producing outputs that shouldn't have gotten passed the type-checker
[10:39:48] <pnkfelix> ash_136: (or parser, etc).  And also to double-check the error messages.
[10:39:52] <pnkfelix> ash_136: as cmr noted
[10:40:11] <dbaupp> cmr: it's really neat how fast /mem updates now :)
[10:40:24] <ash_136> okay 
[10:40:36] <ash_136> so the compiler fails to compile these test cases
[10:40:40] <pnkfelix> ash_136: let me find an example in there
[10:40:43] <pnkfelix> ash_136: to show yoiu
[10:40:45] <ash_136> and produces  a error message
[10:40:51] <cmr> dbaupp: I run rsync hourly
[10:41:09] <ash_136> this error message should be the one you specified in your test case?
[10:41:15] <pnkfelix> ash_136: so like here: https://github.com/mozilla/rust/blob/master/src/test/compile-fail/ambig-default-method.rs
[10:41:33] <pnkfelix> ash_136: the annotation "//~ ERROR multiple applicable methods in scope"
[10:42:09] <ash_136> yes
[10:42:11] <pnkfelix> ash_136: is telling the test suite: "When this test fails to compile, make sure the start of the error message matches the text 'multiple applicable methods in scope' "
[10:42:23] <ash_136> okay
[10:42:28] <ash_136> so when you do 
[10:42:36] <ash_136> rustc example.rs
[10:42:38] <dbaupp> pnkfelix: (I think it's a substring match, not just prefix)
[10:42:52] <ash_136> it will fail giving this message first?
[10:43:07] <pnkfelix> ash_136: maybe.  Give it a shot, find out.
[10:43:16] <ash_136> what?!
[10:43:30] <dbaupp> try it
[10:43:32] <ash_136> pnkfelix:So wait
[10:43:56] <pnkfelix> ash_136: just make a copy of the contents of e.g. https://github.com/mozilla/rust/blob/master/src/test/compile-fail/ambig-default-method.rs, and try to compile it yourself.
[10:44:06] <pnkfelix> ash_136: (via, as you said, `rustc example.rs`)
[10:44:14] <ash_136> no wait
[10:44:18] <ash_136> pnkfelix:
[10:44:24] <ash_136> this is my first test case
[10:44:25] <ash_136> fn number() -> int {
[10:44:25] <ash_136>   return 6;
[10:44:25] <ash_136> }
[10:44:25] <ash_136> fn foo() -> int {
[10:44:25] <ash_136>    number(); //~ ERROR foo is returning (), but should have returned int.
[10:44:28] <ash_136>              //~^ ERROR Try removing semicolon.    
[10:44:30] <ash_136> }
[10:44:31] <pnkfelix> ash_136: Ahh!
[10:44:32] <ash_136> fn main() {}
[10:44:40] <pnkfelix> ash_136: gist in future please
[10:44:44] <ash_136> fn number() { }
[10:44:45] <ash_136> fn foo() -> int {
[10:44:45] <ash_136>    number(); //~ ERROR not all control paths return a value
[10:44:45] <ash_136> }
[10:44:45] <ash_136> fn main() { }
[10:44:50] <ash_136> second test case ^
[10:44:52] *** Joins: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:44:55] <ash_136> okay sorry!:/
[10:44:55] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[10:44:59] <pnkfelix> ash_136: https://gist.github.com/
[10:45:05] <ash_136> and the code I want to implement is 
[10:45:08] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[10:45:13] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:45:22] <ash_136> this is the code https://gist.github.com/ash13/7116200
[10:45:29] <ash_136> i want to place the code in liveness.rs
[10:45:36] *** Quits: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[10:45:37] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:45:47] <ash_136> So how are these three related: my two test cases and the code in the program?!!!
[10:45:58] <ash_136> pnkfelix:??
[10:46:13] <pnkfelix> ash_136: you would put the two test cases into files in compile-fail
[10:46:38] <dbaupp> ash_136: you modify the compiler so that when it runs on the test cases, the errors match the `//~ ERROR` directives
[10:47:19] <pnkfelix> ash_136: have you seen other examples of how error messages are generated in the code?
[10:47:26] <pnkfelix> ash_136: if not, I'll find one for you
[10:47:39] <ash_136> but while running my program in real it wont use these test cases will it ??
[10:47:45] <ash_136> pnkfeli
[10:47:54] <ash_136> pnkfelix: I have seen the errror messages
[10:47:59] <ash_136> okay wait
[10:48:09] <ash_136> to compile the test case
[10:48:35] <pnkfelix> ash_136: If you have not yet run `make check` and observed what it does, I recommend you start there.  It might help you understand how all this flows.
[10:49:00] <pnkfelix> ash_136: (as in, I recommend you do this on a clean checkout of rust, one without the changes you've experimentally added so far.)
[10:49:28] <ash_136> where is the clean checkout?
[10:49:36] <ash_136> How do i use that?
[10:49:44] <ash_136> i have done make check
[10:49:44] <pnkfelix> ash_136: by "clean checkout", I just meant
[10:50:19] <pnkfelix> ash_136: a copy of the source code that doesn't have your changes.  (I infer you have been playing with making changes to librustc while talking to people in the channel.)
[10:50:29] <ash_136> okay 
[10:50:38] <ash_136> how can I do that?
[10:50:42] <pnkfelix> ash_136: e.g. you could do `git clone rust/ rust-clean/`
[10:50:50] <pnkfelix> ash_136: in the parent directory of `rust/`
[10:51:04] <ash_136> I should clone rust again!!!?
[10:51:10] <pnkfelix> ash_136: (its one among many possible options for getting a clean checkout)
[10:51:21] <ash_136> btw i ran the test cases
[10:51:23] <ash_136> already
[10:51:30] <pnkfelix> ash_136: You don't *have* to clone rust again.  Its just one possible workflow.
[10:51:41] <ash_136> http://pastebin.com/7kXQQzGA
[10:51:41] <ash_136> http://pastebin.com/yiyi2QVa
[10:51:56] <ash_136> I am just not understanding how it is related to the code work I am changing
[10:52:29] <pnkfelix> ash_136: there is a difference between running `rustc` directly on your tests
[10:52:37] <pnkfelix> ash_136: and running `make check`
[10:53:04] <ash_136> which am I supposed to do?
[10:53:26] <pnkfelix> ash_136: I was recommending that you run `make check` because I was inferring that you do not yet see how everything will hang together
[10:53:51] <pnkfelix> ash_136: you can do either one.  Our autobuild system will be running `make check`
[10:54:57] <ash_136> make check-stage1-cfail TESTNAME=s1
[10:54:59] <ash_136> I did this
[10:55:09] <ash_136> and there was hugee code
[10:55:13] <ash_136> compiling
[10:55:14] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[10:55:15] <pnkfelix> ash_136: okay, that's a subset of what `make check` will do
[10:55:18] <ash_136> tou mean that?
[10:56:30] <ash_136> and I got this
[10:56:31] <ash_136> ailures:
[10:56:31] <ash_136>     [compile-fail] compile-fail/s1.rs
[10:56:31] <ash_136> test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured
[10:56:31] <ash_136> task '<unnamed>' failed at 'Some tests failed', /home/ashvini/rust/src/compiletest/compiletest.rs:229
[10:56:32] <ash_136> make: *** [tmp/check-stage1-T-x86_64-unknown-linux-gnu-H-x86_64-unknown-linux-gnu-cfail.ok] Error 101
[10:56:33] <pnkfelix> ash_136: well, I meant that you could literally run `make check` (not one of the more specific variants).  But again, I'm still trying to figure out how much of the infrastructure you need to learn about
[10:56:53] <ash_136> okay fine
[10:57:15] <ash_136> so far I know that test cases are written to identify certain type of errors you want the compiler to identify
[10:57:19] <ash_136> is that right?
[10:57:20] <pnkfelix> ash_136: Okay, good: you have successfully made a test that caught some failure.
[10:57:45] <pnkfelix> ash_136: (whether its the failure you want to catch, and whether that failure should be happening, I do not yet know.)
[10:57:52] <pnkfelix> ash_136: (but I'm optimistic)
[10:58:05] <ash_136> I showed you my test case
[10:58:11] <ash_136> the first one is what i ran
[10:58:57] <pnkfelix> ash_136: Right, and my assumption is that the test is listed as a failure
[10:59:04] <pnkfelix> ash_136: because you have not yet put in the new error message
[10:59:21] <pnkfelix> ash_136: but i do not know if that assumption is correct
[11:00:50] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:01:02] <pnkfelix> ash_136: e.g. the invocation of rustc in http://pastebin.com/7kXQQzGA
[11:01:18] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:01:24] <pnkfelix> ash_136: you can see what the actual error message was, it was: "error: not all control paths return a value"
[11:01:29] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:01:54] *** strcat1 is now known as strcat
[11:03:46] <strcat> dbaupp: https://github.com/mozilla/rust/pull/10032 r?
[11:04:39] <dbaupp> strcat: ick, all those tests
[11:04:48] <dbaupp> (r+)
[11:05:00] <strcat> yeah I just made a vim macro and opened 500 buffers
[11:05:01] <strcat> ;p
[11:05:26] <strcat> I hope they don't need to be xfail-fast
[11:05:32] <dbaupp> they will
[11:06:08] <dbaupp> just sed #[feature(...)] to // xfail-fast feature doesn't work with check-fast\n#[feature(...)] or whatever
[11:06:10] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[11:06:10] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/cf-ecA
[11:06:10] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[11:06:12] <ash_136> pnkfelix:So I should make changes to the test cases?
[11:06:14] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[11:06:14] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/u1z_DQ
[11:06:14] <ghrust> 13rust/06auto 141c81d04 15Daniel Micay: register snapshots
[11:06:14] <ghrust> 13rust/06auto 1418e4c5c 15bors: auto merge of #10032 : thestinger/rust/snapshot, r=huonw
[11:06:15] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[11:06:21] <ash_136> or you mean I havent yet introduced the code?
[11:06:31] <pnkfelix> ash_136: I meant you have not yet introduced the code
[11:06:40] <ash_136> yes!now that makes sense!:D
[11:07:04] <ash_136> pnkfelix: were you there when Lukman was telling about match case 
[11:07:16] <ash_136> used in solving this ?
[11:07:24] <pnkfelix> ash_136: I saw part of that conversation
[11:07:46] <ash_136> okay I want to know if this will work
[11:07:57] <ash_136> https://gist.github.com/luqmana/7115726#file-foo-rs-L18
[11:08:03] <ash_136> I changed it a little to 
[11:08:13] <ash_136> https://gist.github.com/ash13/7116200
[11:08:35] <ash_136> I want to use this code before  all the if statements as jdm told
[11:10:52] <pnkfelix> ash_136: okay.  You haven't yet actually bound that to a variable
[11:11:31] <ash_136> pnkfelix:okat let ans : match ..
[11:11:33] <ash_136> fine ?
[11:11:38] <ash_136> will this work ?
[11:12:20] <pnkfelix> ash_136: I think `let ans = match ` is what you want.
[11:14:00] <ash_136> so ans will be boolean right
[11:14:04] *** Joins: jensnockert (jensnocker@moz-2B476444.wireless.lu.se)
[11:14:16] <ash_136> I can use if(ans) {}
[11:14:18] <ash_136> ?
[11:14:22] <pnkfelix> ash_136: I need to focus on another task for a while, so I won't be able to answer them all, at least not quickly; I recommend you do some independent experimentation, try some things out on your own.
[11:15:15] <pnkfelix> ash_136: I will say up front that you might want to try making some small programs on their own, to learn what syntax will/won't work
[11:15:24] <ash_136> pnkfelix: One doubt
[11:15:32] <ash_136> how do I compile this program?
[11:15:37] <ash_136> after I change the code?
[11:15:43] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[11:15:46] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:16:28] <pnkfelix> ash_136: which program?  You already know how to write small test cases.  Are you asking about rebuilding `rustc` itself?
[11:17:24] *** Quits: jensnockert (jensnocker@moz-2B476444.wireless.lu.se) (Input/output error)
[11:18:09] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:18:42] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[11:19:56] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:21:21] <ash_136> pnkfelix: yes I modified liveness.rs
[11:21:28] <ash_136> so that how to check if it compiles?
[11:21:42] <pnkfelix> ash_136: the same way you built rustc at the outset?
[11:22:00] <dbaupp> 'make'
[11:22:04] <pnkfelix> ash_136: i.e. `make`
[11:23:22] <ash_136> in the build directory
[11:23:24] <ash_136> ?
[11:23:44] <pnkfelix> ash_136: I don't know, try it out and see.
[11:24:07] <pnkfelix> ash_136: I dont think we have any rules in the makefile that say "delete the file system"
[11:24:16] <pnkfelix> ash_136: so you should feel free to try things out
[11:24:18] <ash_136> Warning: removing previous 'libsyntax-*.so' libraries: x86_64-unknown-linux-gnu/stage0/lib/rustc/x86_64-unknown-linux-gnu/lib//libsyntax-64629f7f0c6a9bc-0.9-pre.so
[11:24:24] <ash_136> why this ^?
[11:24:40] <pnkfelix> ash_136: its just a notice that its removing a previous build product
[11:24:50] <ash_136> okayy
[11:24:57] <pnkfelix> ash_136: its an unfortunate artifact of the fact that we put
[11:25:06] <pnkfelix> ash_136: hash-codes into our library filenames
[11:25:41] <pnkfelix> ash_136: and I debated about whether such deletions should happen silently or not
[11:26:04] * pnkfelix is the one who put in the code to remove previous build products during the build
[11:27:06] <pnkfelix> (in ticket #3225 )
[11:29:05] <pnkfelix> but maybe at this point it should just delete the files without announcing it.
[11:29:53] <ash_136> pnkfelix: okay it gave few errors
[11:29:57] <ash_136> I corrected them
[11:30:00] <ash_136> its compiling 
[11:30:16] <ash_136> and it doesnt take much time as for the test case make:D
[11:30:36] <ash_136> oh no now its waiting for a long  time doing nothing why ?
[11:30:47] <ash_136> ashvini@Ashvini:~/rust/build$ make
[11:30:47] <ash_136> cfg: build triple x86_64-unknown-linux-gnu
[11:30:47] <ash_136> cfg: host triples x86_64-unknown-linux-gnu
[11:30:47] <ash_136> cfg: target triples x86_64-unknown-linux-gnu
[11:30:47] <ash_136> cfg: enabling more debugging (CFG_ENABLE_DEBUG)
[11:30:47] <ash_136> cfg: host for x86_64-unknown-linux-gnu is x86_64
[11:30:49] <ash_136> cfg: os for x86_64-unknown-linux-gnu is unknown-linux-gnu
[11:30:51] <ash_136> cfg: using gcc
[11:30:53] <ash_136> cfg: no pandoc found, omitting docs
[11:30:55] <ash_136> cfg: no node found, omitting docs
[11:30:57] <ash_136> cfg: no llnextgen found, omitting grammar-verification
[11:30:59] <ash_136> compile_and_link: x86_64-unknown-linux-gnu/stage0/lib/rustc/x86_64-unknown-linux-gnu/lib/librustc.so
[11:31:04] <ash_136> its just blinking aafter this line
[11:31:17] <eddyb> ash_136: only that last line is important :P
[11:31:19] <pnkfelix> ash_136:  please don't cut-and-paste long snippets into the channel
[11:31:28] <eddyb> it's just being slow, librustc is big
[11:31:40] <ash_136> pnkfelix: okay sorry agian wont do it :O
[11:31:56] <ash_136> eddyb :But the last time i did make it gave me withing seconds the errors :P
[11:32:23] <pnkfelix> ash_136: well, 1. some errors the compiler can find really fast
[11:32:24] <eddyb> ash_136: errors show up early. full compilation is slower
[11:32:43] <ash_136> oh okay will wait :D
[11:33:16] <pnkfelix> ash_136: and also, if you just did `make` with no args, you'll have to wait for the compiler to rebuild itself
[11:33:26] <pnkfelix> ash_136: there's a note somewhere about this ...
[11:34:34] <eddyb> how was it, make rustc-stage1? you can rebuild just stage1 and halve the build time
[11:35:13] <pnkfelix> yeah I know.  At this point I'm more shocked that I cannot find a Note on the wiki explaining *why* the compiler has stage{0,1,2}
[11:35:33] <eddyb> pnkfelix: it's in a page about snapshots
[11:36:26] <pnkfelix> eddyb: ah.  mmm.  not where I would have put that info, but whatever.
[11:37:15] <eddyb> stage1 can build with new changes, but doesn't contain new changes. like, if you change the codegen to add a prelude, for example, stage1's own code won't have it, but stage2 will
[11:37:50] <eddyb> it's actually rare that you need to build stage2, and those cases require cycling a snapshot anyway
[11:38:18] <ash_136> make -j4 will work ?
[11:38:25] <pnkfelix> ash_136: yeah, so if you do `make rustc-stage1`, then you'll get a rustc binary a bit faster.  (it  will be in the stage1 directory instead of stage2 ...)
[11:38:47] <dbaupp> eddyb: (occasionally the stage1 testsuite breaks "upstream")
[11:38:52] <pnkfelix> ash_136: `make -j4` doesn't really help for building librustc
[11:39:00] <ash_136>  ohkay
[11:39:06] <ash_136> should I stop this make and do that?
[11:39:07] <pnkfelix> ash_136: because we build the whole library in one invocation of `rustc`
[11:39:10] <ash_136> or is it fine ?
[11:39:20] <ash_136> okay :)
[11:39:31] <eddyb> ash_136: you can stop it immediately after it starts doing a new thing (i.e. it outputs a new line)
[11:39:45] <eddyb> right now it's wasteful to stop it in the middle of a job, it will have to start again
[11:39:49] <dbaupp> having an extra -j4 won't break anything though.
[11:39:54] <ash_136> okay
[11:39:59] <ash_136> its giving warnings
[11:40:10] <ash_136> remvoing previos
[11:40:12] <ash_136> rustc
[11:40:14] <ash_136> lib
[11:40:15] <ash_136> etc
[11:40:30] <eddyb> dbaupp: does it apply when it's building LLVM?
[11:40:51] <pnkfelix> eddyb: yeah I think the `-jN` flag gets passed through to subtargets
[11:40:54] <ash_136> will be back in some time 
[11:40:58] <ash_136> brb
[11:40:59] <pnkfelix> eddyb: so that's the main reason to use it.
[11:41:38] <pnkfelix> eddyb: Plus `-jN` will actually attempt to build LLVM and libuv and librustc in parallel
[11:41:48] <pnkfelix> eddyb: since they are independent targets
[11:41:59] <dbaupp> and tools like rustdoc and rustpkg
[11:42:20] <pnkfelix> eddyb: or, wait, maybe that was a lie.  (I cannot remember if you can build librustc without LLVM.  Maybe I meant libsyntax.)
[11:42:22] <dbaupp> (and actually building the docs themselves)
[11:57:45] <ash_136> Hey it compiled
[11:57:51] <ash_136> and no Errors!!:O
[11:58:02] <ash_136> does that mean the code I added is working :O
[11:58:05] <ash_136> !!!!
[11:58:11] <ash_136> pnkfelix:??
[11:58:13] <pnkfelix> ash_136: maybe, try it and see
[11:58:31] <ash_136> you mean I make the mistake expected and see ?
[11:58:36] <pnkfelix> ash_136: (I probably would not jump straight to running `make check`)
[11:58:47] <pnkfelix> ash_136: yes, try running rustc on the examples of interest
[11:58:53] <ash_136> okay 
[11:59:08] <ash_136> how about
[11:59:23] <pnkfelix> ash_136: I suspect it may not work, in which case you'll need to do some more debugging
[11:59:40] <pnkfelix> ash_136:  do you know about how to use RUST_LOG yet?
[12:00:47] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:01:26] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:02:10] <ash_136> nope
[12:02:12] <ash_136> fn value() { return 8; }
[12:02:13] <ash_136> fn foo() -> int {
[12:02:13] <ash_136>    number();
[12:02:13] <ash_136> } 
[12:02:13] <ash_136> fn main() {
[12:02:13] <ash_136> let mut i = 0;
[12:02:15] <ash_136> while i < foo() {
[12:02:17] <ash_136>     println("hello\n");
[12:02:19] <ash_136>     i = i + 1;
[12:02:21] <ash_136> }
[12:02:23] <ash_136> }
[12:02:25] <ash_136> is this valid program?
[12:02:37] <pnkfelix> ash_136: okay, now I'm going to officially say: Stop pasting long snippets into the channe;l
[12:02:53] <ash_136> Oh no!
[12:02:58] <ash_136> was excited!
[12:03:00] <ash_136> sosrryy
[12:03:14] <pnkfelix> ash_136: Its okay, I just want to cut the bad habit off at the start
[12:03:36] <ash_136> http://pastebin.com/PJxpLRmD
[12:03:44] <ash_136> :)
[12:03:46] <ash_136> is this fine ?
[12:04:16] <pnkfelix> ash_136: that program should fail to compile, e.g. because foo()'s body does not return an `int`
[12:04:50] <pnkfelix> ash_136: what is happening in your own local build of `rustc` on that program?
[12:05:16] <ash_136> pnkfelix:is it not the issue?
[12:05:31] <ash_136> we wrote the code for this case right?
[12:05:44] <ash_136> the used by mistake uses a semicolon
[12:05:52] <pnkfelix> ash_136: I don't know, I suspect you still have work to do. 
[12:06:10] <ash_136> okay should I include any headers ?
[12:06:18] <dbaupp> ash_136: if that's your testcase, then yes, it is testing the issue you want to.
[12:06:47] <dbaupp> (Although: making it as simple as possible is useful; that is, just have `fn main() {}` leaving foo and value as they are.)
[12:07:31] <pnkfelix> ash_136: yes, dbaupp's advice is good.  Especially since you will probably want to use RUST_LOG at some point to get debug! statements from rustc
[12:09:02] <ash_136> ashvini@Ashvini:~/rust$ rustc /home/ashvini/r1.rs
[12:09:02] <ash_136> /home/ashvini/r1.rs:3:0: 5:1 error: not all control paths return a value
[12:09:02] <ash_136> /home/ashvini/r1.rs:3 fn foo() -> int {
[12:09:02] <ash_136> /home/ashvini/r1.rs:4    value();
[12:09:02] <ash_136> /home/ashvini/r1.rs:5 } 
[12:09:18] <dbaupp> (remember about pasting)
[12:09:26] <pnkfelix> ash_136: okay, so that tells us that you have not added code to change how the error message is emitted
[12:09:36] <pnkfelix> ash_136: or rather, change *what* error message is emitted
[12:09:39] <ash_136> (oh)
[12:09:54] <ash_136> I havent given any error message in that case
[12:10:02] <ash_136> so it shouldnt print anything
[12:10:48] <pnkfelix> ash_136: it *should* print something, right?  That's part of the point of Issue #8005 ?
[12:10:53] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[12:10:55] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:11:46] <pnkfelix> ash_136: but I assume/infer that you are saying that your changes to rustc are not yet complete.
[12:12:39] <ash_136> yes 
[12:12:46] <ash_136> I just left that if part empty
[12:12:52] <ash_136> okay I inttroduced a statement
[12:12:56] <ash_136> should I make it again
[12:13:06] <ash_136> ?
[12:13:54] <pnkfelix> ash_136: well
[12:14:00] <pnkfelix> ash_136: you could
[12:14:03] <pnkfelix> ash_136: but
[12:14:16] <pnkfelix> ash_136: I suspect you are going to get frustrated by how long the rebuilds are taking
[12:14:46] <pnkfelix> ash_136: so, you may want to also put in
[12:14:56] <pnkfelix> ash_136: some `debug!` statements, if there are not some there already
[12:15:02] <pnkfelix> ash_136: and then learn how to use RUST_LOG
[12:15:25] <pnkfelix> ash_136: so that you can get feedback as `rustc` runs to see where it is going in the code
[12:15:48] <ash_136> okay where can I read about it ??
[12:16:36] <pnkfelix> ash_136: (one sec)
[12:16:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:17:07] <pnkfelix> ash_136: https://github.com/mozilla/rust/wiki/Doc-usage-FAQ
[12:18:10] <pnkfelix> ash_136: (though I think it might no longer be true that you have to use enable-debug when building rustc to see its debug! statements)
[12:25:55] *** zz_kimundi is now known as kimundi
[12:45:09] *** kimundi is now known as zz_kimundi
[12:50:04] *** Joins: jensnockert (jensnocker@moz-F4150BAB.wireless.lu.se)
[13:01:24] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:17:19] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:18:10] *** zz_kimundi is now known as kimundi
[13:25:07] *** Quits: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[13:33:39] *** Joins: dbaupp1 (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net)
[13:34:02] *** Quits: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net) (Ping timeout)
[13:34:09] *** dbaupp1 is now known as dbaupp
[13:42:25] *** Quits: jensnockert (jensnocker@moz-F4150BAB.wireless.lu.se) (Input/output error)
[13:50:47] <ash_136> pnkfelix:http://pastebin.com/BX2Wqw7A
[13:50:50] <ash_136> Error
[13:50:59] <ash_136> tooo many :D
[13:51:18] <ash_136> how do I clean rust ?
[13:51:24] <ash_136> like remove the changes I made?
[13:51:38] <pnkfelix> ash_136: You can do `git stash`
[13:51:47] <pnkfelix> ash_136: to stash away your local changes
[13:51:59] <pnkfelix> ash_136: (and that way they are still recoverable later, if you want them.)
[13:52:17] <pnkfelix> ash_136: https://www.kernel.org/pub/software/scm/git/docs/git-stash.html
[13:53:05] <ash_136> oh yes!:)
[13:53:14] <ash_136> but that wont remove the test case files
[13:53:18] <ash_136> added right?
[13:53:26] <pnkfelix> ash_136: well, I think it might
[13:53:30] <ash_136> :O
[13:53:56] <eddyb> ash_136: you can use git diff to find your changes
[13:54:16] <eddyb> ash_136: or git gui, you might like that better :D
[13:55:06] <pnkfelix> ash_136: So, you could either use `git diff > mychanges.patch` to keep a local record, as a sort of old-school way of doing things
[13:55:23] <pnkfelix> ash_136: or you could use git more directly, by making a branch to keep your work on
[13:55:27] <eddyb> ash_136: to get rid of all your changes on a file, and leave everything else intact, run: git checkout src/path/to/file.rs
[13:55:36] <pnkfelix> ash_136: you'll almost certainly need to learn how to make a branch anyway
[13:55:46] <pnkfelix> ash_136: since that's what any pull request you make would have to be done in
[13:56:05] <pnkfelix> ash_136: so I'd suggest you learn how to make a branch, then make a branch, and then save your test files in that branch
[13:56:46] <ash_136> I have submitted pull rquests
[13:56:48] <pnkfelix> ash_136: and then after you've commited the test files to the branch, running `git stash` will only revert the uncommitted changes (i.e. the remaining changes to rustc that were not part of the commit o the test files)
[13:56:49] <ash_136> once :D
[13:56:54] <eddyb> ash_136: oh, and I highly suggest having an editor with undo/redo capabilities, open the entire time :P. that way, it's easy to revert a small change
[13:57:41] <ash_136> okay so now I move the files else where
[13:57:42] <ash_136> and remove them
[13:58:14] <pnkfelix> ash_136: See also: http://git-scm.com/book/en/Git-Branching-Basic-Branching-and-Merging
[14:01:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[14:02:22] <ash_136> cool
[14:02:33] <ash_136> so I can creaate a new branch and work on it :)
[14:02:42] <ash_136> okay I removed the files
[14:02:45] <ash_136> and i did git stash
[14:02:46] <ash_136> now
[14:03:20] <ash_136> git checkout -b myrust 
[14:03:34] <ash_136> pnkfelix: where do I run this command ?
[14:04:01] <pnkfelix> ash_136: I usually run it from the base of my checkout, e.g. rust/
[14:04:32] <ash_136> that is where you built rust?
[14:04:37] <ash_136> make and make install?
[14:04:56] <pnkfelix> ash_136: I think you can run in from subdirectories within there.  The only problem I can foresee would be if you ran it within one of the subrepositories (like rust/src/llvm/  or rust/src/libuv/ )
[14:04:59] <ash_136> I created a new dir build and in that i did ./configure and make & make install
[14:05:17] <pnkfelix> ash_136: I personally do not build rust within rust/
[14:05:20] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[14:05:35] <ash_136> okay i was asked to do so in rust channel
[14:05:36] <ash_136> anywayas 
[14:05:40] <pnkfelix> ash_136: (or rather, I make a subdirectory within rust/, )
[14:05:42] <ash_136> Can I do it in build dir
[14:05:42] <ash_136> ?
[14:06:09] <ash_136> okay you mean you create a dir just for running checkout ?
[14:06:22] <pnkfelix> ash_136: no, for doing builds
[14:06:36] <pnkfelix> ash_136: look, hold on here
[14:06:51] <ash_136> exactl
[14:06:55] <ash_136> that is what I did
[14:07:02] <ash_136> i did mkdir build
[14:07:04] <ash_136> cd build
[14:07:09] <ash_136> ./configure
[14:07:11] <pnkfelix> ash_136: I'm trying to answer your question
[14:07:14] <ash_136> make & make install
[14:07:20] <pnkfelix> ash_136: but you are asking so many more questions
[14:07:21] <ash_136> ohh sorry
[14:07:31] <pnkfelix> ash_136: that it makes it impossible for me to give succinct answers
[14:07:37] <pnkfelix> ash_136: without them becoming ambiguous
[14:07:44] <pnkfelix> ash_136: as to which question I am answering
[14:07:46] <pnkfelix> ash_136: so
[14:07:56] <ash_136> sorry :|
[14:08:01] <pnkfelix> ash_136: no prob
[14:08:08] <pnkfelix> ash_136: my *point* was merely
[14:08:33] <pnkfelix> ash_136: that I think you should be fine running `git checkout -b mybranch-or-whatever` within your build directory
[14:08:49] <pnkfelix> ash_136: as long as your build directory is beneath the rust/ directory that you originally cloned from github
[14:09:02] <pnkfelix> ash_136: (or cloned from somewhere else,whatever)
[14:09:04] <ash_136> it is
[14:09:07] <ash_136> :)
[14:09:11] <pnkfelix> ash_136: the main points are
[14:09:36] <pnkfelix> ash_136: 1. The build/ directory need not reside underneath rust/, so I didn't want to claim that was always the place to run `git checkout -b whatever`
[14:09:42] <pnkfelix> ash_136: and
[14:09:53] <pnkfelix> ash_136: 2. There are *some* subdirectories underneath rust/
[14:10:23] <pnkfelix> ash_136: where running `git checkout -b whatever` will create a branch of some third-party library that Rust uses, but not of rust itself.  Such as LLVM or libUV
[14:10:42] <ash_136> ohh
[14:10:58] <pnkfelix> ash_136: But for your use case, you should be fine running `git checkout -b whatever` within the build/ directory that you have underneath rust/
[14:11:18] <ash_136> done :) thanks got the point :)
[14:11:29] <ash_136> now I am in the new branch
[14:12:08] <ash_136> how can I be back to m y master branch ?
[14:12:46] <ash_136> pnkfelix:?
[14:12:59] <pnkfelix> ash_136: http://git-scm.com/book/en/Git-Branching-Basic-Branching-and-Merging
[14:13:28] <pnkfelix> ash_136: I suspect `git checkout my-master` is what you want
[14:13:40] <pnkfelix> ash_136: but you should really read through some of those examples
[14:13:48] <pnkfelix> ash_136: since they have illustrative pictures
[14:13:50] <ash_136> my-master is the default name?
[14:13:58] <pnkfelix> ash_136: no, its one I made up
[14:14:05] <pnkfelix> ash_136: you said "my master branch"
[14:14:07] <ash_136> by default its master?
[14:14:21] <pnkfelix> ash_136: and I did not know what you meant, so I decided to make something up
[14:14:36] <ash_136> no I meant If i have to switch back to master what should I use :D
[14:14:43] <pnkfelix> ash_136: `git checkout master`
[14:14:44] <pnkfelix> ash_136: but
[14:14:48] <ash_136> master Is the answer I suppose:
[14:14:50] <pnkfelix> ash_136: please please please go read that web page
[14:14:51] <ash_136> yes :)
[14:15:02] <ash_136> Yes I did
[14:15:09] <ash_136> almost halway
[14:15:12] <ash_136> that page
[14:15:24] <ash_136> btw 
[14:15:37] <ash_136> What do you think is the problem with the code
[14:15:42] <ash_136> how to fix it ?
[14:16:04] <pnkfelix> ash_136: I suspect that you made too broad of a fishing net
[14:16:52] <pnkfelix> ash_136: and you'll need to narrow it down to more specifically describe the error case you are trying to match.  Beyond that, I do not know.
[14:17:53] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:19:34] <ash_136> okay in detail I shall explain
[14:19:49] <ash_136> pnkfelix:I am trying to fix this issue :
[14:20:57] <pnkfelix> ash_136: I am well aware of what issue you are trying to solve
[14:21:37] <ash_136> okay
[14:21:40] <ash_136> I showed the two
[14:21:44] <ash_136> test cases I wrote
[14:21:58] <ash_136> and then Lukman was tellin the matchcase
[14:22:19] <ash_136> And i made it return true or false to use it in the if case for error messages
[14:23:23] <ash_136> thats it so far
[14:25:14] *** Joins: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[14:29:21] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[14:29:39] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[14:32:46] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[14:33:16] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[14:49:31] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[15:01:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:10:42] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[15:12:13] *** Quits: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[15:12:23] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:12:56] *** Joins: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[15:13:20] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:16:24] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:19:05] *** Quits: ash_136 (ashvini@88890FB4.767E090D.1FAF9555.IP) (Quit: Leaving)
[15:28:11] *** Quits: pnkfelix (pnkfelix@moz-B906FD97.bstnma.fios.verizon.net) (Quit: Leaving.)
[15:31:22] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[15:31:22] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1418e4c5c to 145de50a3: 02http://git.io/N3iJvQ
[15:31:22] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[15:31:29] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[15:31:29] <ghrust> 01[13rust01] 15bors pushed 9 new commits to 06auto: 02http://git.io/vgNZIQ
[15:31:29] <ghrust> 13rust/06auto 142cd772b 15Huon Wilson: std::rand: add the Sample and IndependentSample traits....
[15:31:29] <ghrust> 13rust/06auto 145aaef13 15Huon Wilson: std::rand: Add RandSample for Sample-ing Rand types directly.
[15:31:30] <ghrust> 13rust/06auto 141420272 15Huon Wilson: std::rand: full exponential & normal distributions...
[15:31:32] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[15:39:14] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[15:40:54] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:42:29] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[15:42:35] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[15:53:02] <cmr> dbaupp: woo!
[15:55:43] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:58:54] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[15:58:54] *** ChanServ sets mode: +o pnkfelix
[16:01:23] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[16:03:16] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[16:08:41] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[16:11:58] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[16:13:40] *** Quits: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:15:24] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[16:15:24] *** ChanServ sets mode: +o pnkfelix
[16:25:57] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[16:36:14] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[16:36:14] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/vgNZIQ
[16:36:14] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[16:41:15] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[16:41:15] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/xAMQpA
[16:41:15] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[16:41:20] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:41:20] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/SIZdAw
[16:41:20] <ghrust> 13rust/06auto 14870f3bc 15Steven Fackler: Re-make time struct fields public...
[16:41:20] <ghrust> 13rust/06auto 14f099593 15bors: auto merge of #10034 : sfackler/rust/time, r=alexcrichton...
[16:41:21] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[17:11:16] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Lost terminal)
[17:14:14] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[17:14:50] *** Joins: jeffdb (jeff@9782ABE9.E8A0C4C2.E25FE9C.IP)
[17:16:02] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[17:16:02] *** ChanServ sets mode: +o pnkfelix
[17:30:57] <pnkfelix> acrichto: ping
[17:31:47] <pnkfelix> acrichto: nm
[17:32:17] <pnkfelix> acrichto: or  re-ping.  (sigh)
[17:33:53] <acrichto> pnkfelix: pong
[17:34:09] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:34:13] <pnkfelix> acrichto: there's this infinite loop during a debug! printout
[17:34:20] <pnkfelix> acrichto: https://gist.github.com/pnkfelix/7123079
[17:34:22] <acrichto> oh that's not good
[17:34:35] <acrichto> pnkfelix: #9901
[17:34:40] <pnkfelix> acrichto: so, I don't actually know for sure what the origination is
[17:34:42] <acrichto> we don't handle error codes on native writes
[17:34:53] <acrichto> or at least we're real bad about handling error codes
[17:35:04] *** Quits: jeffdb (jeff@9782ABE9.E8A0C4C2.E25FE9C.IP) (Ping timeout)
[17:35:07] <acrichto> 9901 moves to using libuv which actually handles these correctly
[17:35:18] <pnkfelix> okay
[17:35:19] <pnkfelix> but 
[17:35:21] <pnkfelix> in the meantime
[17:35:21] <acrichto> also oh man rust_stack_exhausted was useful!
[17:35:27] <pnkfelix> I figured I'd ask
[17:35:36] <acrichto> 9901 needs to land :(
[17:35:44] <pnkfelix> acrichto: in SHA a8ba31db
[17:36:03] <pnkfelix> acrichto: there was a change to fn raise() in condition.rs
[17:36:26] <acrichto> how so?
[17:36:31] <pnkfelix> acrichto: give me a sec
[17:37:10] <pnkfelix> acrichto: https://gist.github.com/pnkfelix/7123134
[17:37:36] <acrichto> pnkfelix: I didn't mean to change behavior if I did
[17:37:37] <pnkfelix> acrichto: I noticed there that this change injects a use of format! within the actual arguments to fail!
[17:37:56] <acrichto> oh that should just be fixed
[17:38:00] <pnkfelix> acrichto: (since it replaced a fail! with a single argument with a fail of two arguments)
[17:38:12] <acrichto> it could probably get inlined directly
[17:38:24] <pnkfelix> acrichto: I don't know if this change actually matters all that much, but I wanted to check if it was intentional
[17:38:48] <acrichto> not realy intentional one way or another, it could get changed though
[17:39:49] <pnkfelix> acrichto: Okay I'll assume for now that the change was an accident.  But it also might not have anything to do with the problem I'm seeing.  thanks.
[17:40:11] <acrichto> pnkfelix: yeah sorry about that :(
[17:40:20] *** Quits: geoffhill (geoffhill@moz-2785B672.hsd1.wa.comcast.net) (Quit: geoffhill)
[17:40:31] <pnkfelix> acrichto: its not a problem.  Like I said, it might be unrelated.
[17:41:58] *** Joins: bugweiser (Mibbit@AD2BFB6A.1D01375D.D609CF0D.IP)
[17:46:11] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[17:46:11] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/SIZdAw
[17:46:12] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[17:49:43] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Quit: Leaving.)
[17:51:19] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:51:20] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/jJWTFw
[17:51:20] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:51:23] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[17:51:23] <ghrust> 01[13rust01] 15bors pushed 24 new commits to 06auto: 02http://git.io/rWvR0Q
[17:51:23] <ghrust> 13rust/06auto 1478f4488 15Alex Crichton: Implement io::net::unix
[17:51:23] <ghrust> 13rust/06auto 140a6db9c 15Alex Crichton: Finish implementing io::net::addrinfo...
[17:51:23] <ghrust> 13rust/06auto 146e5ec02 15Alex Crichton: Address a few XXX comments throughout the runtime...
[17:51:25] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[17:55:37] <acrichto> round 32, fight!
[18:00:06] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:00:06] *** ChanServ sets mode: +qo brson brson
[18:12:10] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[18:15:34] *** Quits: bugweiser (Mibbit@AD2BFB6A.1D01375D.D609CF0D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:21:12] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[18:36:13] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[18:36:14] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14dda6af2 to 14f099593: 02http://git.io/N3iJvQ
[18:36:14] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[18:36:15] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[18:36:15] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/A7Lphg
[18:36:15] <ghrust> 13rust/06auto 1460245b9 15Ziad Hatahet: Remove thread-blocking call to `libc::stat` in `Path::stat`...
[18:36:15] <ghrust> 13rust/06auto 147d69837 15Ziad Hatahet: Merge remote-tracking branch 'upstream/master'
[18:36:15] <ghrust> 13rust/06auto 14dabf377 15Ziad Hatahet: Made uv_stat_t.{st_dev, st_ino} public, #9958
[18:36:17] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[18:36:32] <cmr> Who r+'d something with a merge commit :\
[18:36:42] <cmr> acrichto: you!
[18:40:16] *** Joins: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net)
[18:40:16] *** ChanServ sets mode: +o pnkfelix
[19:17:50] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Quit: Konversation terminated!)
[19:17:59] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[19:20:06] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[19:33:45] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[19:41:19] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[19:41:20] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/A7Lphg
[19:41:20] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[19:57:35] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:09:04] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:10:40] *** Quits: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[20:22:38] <kimundi> brson: If you have a few minutes, I posted a writeup asking about how to proceed next under the `~Any` PR (https://github.com/mozilla/rust/pull/9967)
[20:34:11] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:34:11] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:36:08] <cmr> kimundi: add benchmarks
[20:36:15] <cmr> ;)
[20:36:55] <kimundi> cmr: For what?
[20:37:04] <cmr> Any
[20:37:33] <kimundi> I'm not sur what ther is to bench specifically
[20:39:23] <kimundi> the implementation with type descriptors is a temporary hack anyway, and the rest is either bog standard trait objects, or complicated runtime details that I have no idea about how to quantify :)
[20:39:38] <cmr> heh
[20:39:40] <cmr> fair enough
[20:39:44] <cmr> open an issue about benching them though
[20:40:10] *** Joins: steveklabnik (steveklabn@moz-A4503A72.socal.res.rr.com)
[20:40:22] <kimundi> (It also doesn't help that I've never written rust benchmarks before)
[20:40:28] <cmr> mmm
[20:40:32] <cmr> it's quite difficult
[20:40:44] <cmr> LLVM will optimize your entire benchmark out because of dead stores :\
[20:41:12] <brson> kimundi: yes, sorry. it's on my *priority* todo list. today :(
[20:41:26] <kimundi> Ah, no worries
[20:42:01] <kimundi> It'S just with timezones etc that I'm not always sure if I missed stuff, or if bad timing is happening :)
[20:49:01] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:50:10] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[20:51:03] <strcat> kimundi: well, code size
[20:51:26] <strcat> probably want to make sure that call sites using failure right now don't get slower
[20:51:44] <strcat> performance *of a failure* is extremely unimportant, just the performance of the fast path
[21:06:32] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[21:06:32] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/cSidHQ
[21:06:32] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[21:06:36] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[21:06:36] <ghrust> 01[13rust01] 15bors pushed 24 new commits to 06auto: 02http://git.io/An6lrw
[21:06:36] <ghrust> 13rust/06auto 14fd6e48d 15Alex Crichton: Implement io::net::unix
[21:06:36] <ghrust> 13rust/06auto 1496c0cf2 15Alex Crichton: Finish implementing io::net::addrinfo...
[21:06:37] <ghrust> 13rust/06auto 14a74d949 15Alex Crichton: Address a few XXX comments throughout the runtime...
[21:06:39] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[21:11:44] <pcmattman> Is there a way to determine visibility of an AST node in trans?
[21:13:09] <pcmattman> or determine visibility through a ast_map::path_elt
[21:17:02] *** Quits: steveklabnik (steveklabn@moz-A4503A72.socal.res.rr.com) (Connection reset by peer)
[21:17:37] *** Joins: steveklabnik (steveklabn@moz-A4503A72.socal.res.rr.com)
[21:22:56] <cmr> pcmattman: the privacy/visibility pass should have run already.
[21:22:59] <cmr> acrichto: ^
[21:23:28] <acrichto> pcmattman: you'd want to look in the expoted_items set
[21:23:37] <acrichto> keyed of the id of what you're querying on
[21:23:41] <pcmattman> on the CrateContext?
[21:23:48] <acrichto> it should be somewhere, let me check
[21:23:55] <cmr> So now that we have #[feature(macro_rules)], can we reintroduce the cond! macro?
[21:24:00] <cmr> Or wait, nevermind.
[21:24:04] <cmr> I just really liked cond :\
[21:24:25] <acrichto> pcmattman: looks like it's not making its way all the way through to trans right now
[21:24:58] <acrichto> it's a field on the CrateAnalysis structure from phase 2, but it's not threaded through to trans (phase 3)
[21:25:03] <acrichto> feel free to make it do so though
[21:25:26] <pcmattman> okay, cool
[21:26:15] <pcmattman> cheers, I'll see what's involved in that
[21:46:14] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:46:14] *** ChanServ sets mode: +qo brson brson
[21:48:54] *** Joins: nrc (nrc@moz-BAE8D951.pck.nerim.net)
[22:02:56] *** Quits: nrc (nrc@moz-BAE8D951.pck.nerim.net) (Ping timeout)
[22:04:35] <strcat> brson: do you know where the check-fast test harness is? the stub it builds from
[22:04:41] * strcat can't find it
[22:04:56] <strcat> I guess it's somewhere in compiletest
[22:05:09] <dbaupp> src/etc/<something>.py
[22:05:28] <strcat> combine-tests?
[22:05:35] <dbaupp> iirc, yes
[22:05:40] <strcat> there we go
[22:10:01] *** Joins: tikue_ (tikue_star@5D962672.CD72397.689607DE.IP)
[22:11:08] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[22:11:08] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14f45b324 to 14860cb81: 02http://git.io/N3iJvQ
[22:11:08] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[22:11:08] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:11:08] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ma-hZQ
[22:11:08] <ghrust> 13rust/06auto 14142672d 15Daniel Micay: register snapshots
[22:11:08] <ghrust> 13rust/06auto 14e2428b7 15bors: auto merge of #10032 : thestinger/rust/snapshot, r=huonw
[22:11:09] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:29:16] *** kimundi is now known as zz_kimundi
[22:35:38] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[22:35:46] <cmr> http://stackoverflow.com/questions/4257659/c-sharp-versus-c-performance/19505716#19505716
[22:39:38] <dbaupp> cmr: any particular thing you're highlighting?
[22:39:48] <cmr> Just thought it was a good read.
[22:43:50] <steveklabnik> it was, thanks :)
[22:45:01] <benh> We're all just biting out fingers until rust is production ready so we can drop into those threads and shill it ;)
[22:45:15] <benh> our*
[22:45:17] *** Quits: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net) (Ping timeout)
[22:51:02] *** Quits: steveklabnik (steveklabn@moz-A4503A72.socal.res.rr.com) (Ping timeout)
[22:52:14] *** Joins: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net)
[22:55:15] *** Quits: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net) (Input/output error)
[23:01:38] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[23:04:35] *** Joins: quibbit (Mibbit@AD2BFB6A.1D01375D.D609CF0D.IP)
[23:16:03] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[23:16:03] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/ma-hZQ
[23:16:03] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[23:21:33] *** Quits: quibbit (Mibbit@AD2BFB6A.1D01375D.D609CF0D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:24:19] <pcmattman> okay, that wasn't so great, it would appear I just made my PR commit-free by accident
[23:34:49] <pcmattman> fixed, yay
[23:43:58] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[23:45:47] <cmr> acrichto: if you want to be my hero, work with tjc to get rustpkg crate name detection with rustdoc :)
[23:47:04] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[23:49:34] *** Joins: dbaupp (Thunderbir@moz-CB11E887.lns20.syd6.internode.on.net)
[23:50:09] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:51:50] *** Joins: mib_ca4r38 (Mibbit@EA81A8AA.1D01375D.D609CF0D.IP)
[23:53:04] *** Quits: mib_ca4r38 (Mibbit@EA81A8AA.1D01375D.D609CF0D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:56:37] <acrichto> cmr: that reminds me that I need to go nominate that bug
