[00:01:19] <vadimcn> brson:  Not sure.  It uses gcc 4.5
[00:02:42] <benh> acrichto: I expect it requires just a few "| lit_str_raw(...)", but I'm hesitant because it's easier to add than to remove again :)
[00:03:10] <brson> vadimcn: I don't know yet how to figure out what source our mingw bins came frome
[00:03:28] <vadimcn> Mingw version is a fuzzy concept.   You can use its' package manager to install whatever versions of individual components you want.
[00:03:33] <acrichto> benh: eh, I don't think it's something that's too neessary, although I'm just one opinion
[00:06:29] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[00:06:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14df246e3 to 14fe4e747: 02http://git.io/N3iJvQ
[00:06:29] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:06:33] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[00:06:33] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/C01JFA
[00:06:33] <ghrust> 13rust/06auto 1402cbfce 15Alex Crichton: Move the rt::io::process tests to run-pass...
[00:06:33] <ghrust> 13rust/06auto 149b1ccb1 15bors: auto merge of #9578 : alexcrichton/rust/un-ignore-libuv-process-tests, r=brson...
[00:06:33] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:08:17] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[00:10:25] <vadimcn> brson: I don't think Mingw itself bothers to point to specific versions
[00:13:51] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[00:16:27] <dbaupp> benh: could we "just" extend lit_str to have an Option<uint> field that counts the number of hashes (None for non-raw strings), rather than adding a new lit type?
[00:16:53] <dbaupp> benh: since once they're passed the tokeniser, only the pretty printer needs to know the difference (right?)
[00:16:56] <benh> I was going to do that but with a custom enum instead of Option
[00:16:56] <Eridius> I haven't been paying attention. why does lit_str need modification?
[00:17:04] <cmr> Eridius: Raw string literals.
[00:17:05] <dbaupp> Eridius: pretty printer
[00:17:23] <Eridius> dbaupp: hrm. Seems a shame to muck up the token struct just for that
[00:17:29] <Eridius> maybe it should just calculate an appropriate number of hashes to use!
[00:17:38] <Eridius> although I guess it does have to know that it should be raw in the first place
[00:21:22] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[00:21:26] <cmr> acrichto: holy poop
[00:21:45] <cmr> acrichto: you're gunna love this
[00:21:58] <cmr> http://i.imgur.com/Hi1Oc8e.png
[00:22:28] <Eridius> cmr: whoa what happened?
[00:22:42] <dbaupp> cmr, acrichto: \o/
[00:22:43] <cmr> Eridius: see the title
[00:22:48] <Eridius> oh just disabled lints? huh
[00:23:23] <acrichto> cmr: nice!
[00:23:31] <acrichto> ok now I just need to figure out how to fix linting
[00:23:52] <cmr> good luck
[00:25:40] <acrichto> yeah :(
[00:25:51] <acrichto> I want @mut Visitor to just die
[00:25:55] <acrichto> no one ever liked it anyway
[00:26:04] <dbaupp> rusti: format!("{:#<count}", count=10)
[00:26:04] -rusti- pastebinned 8 lines of output: http://sprunge.us/cJiQ
[00:26:07] <acrichto> although I think that's the 500MB memory regression dbaupp found
[00:26:16] <dbaupp> acrichto: is that possibly able to work? ^
[00:26:26] <acrichto> rusti: format!("{count:#<}", count=10)
[00:26:27] -rusti- ~"10"
[00:26:30] <dbaupp> lint needs to be completely redone for the new visitor structure anway
[00:26:35] <acrichto> oh I see
[00:26:35] <dbaupp> acrichto: it's meant to make 10 hashes
[00:26:55] <acrichto> rusti: format!("{:#<10s}", "")
[00:26:56] -rusti- ~"##########"
[00:27:02] <acrichto> rusti: format!("{:#<10s}", "").len()
[00:27:03] -rusti- <anon>:7:32: 7:33 error: unexpected token: `.`
[00:27:03] -rusti- <anon>:7          format!("{:#<10s}", "").len()
[00:27:03] -rusti-                                          ^
[00:27:03] -rusti- application terminated with error code 101
[00:27:08] <acrichto> rusti: (format!("{:#<10s}", "")).len()
[00:27:09] -rusti- 10u
[00:27:14] <acrichto> dbaupp: like that?
[00:27:19] <dbaupp> format!("{:#<1}", "", 10)
[00:27:26] <dbaupp> rusti: format!("{:#<1}", "", 10)
[00:27:27] -rusti- <anon>:7:31: 7:33 error: argument never used
[00:27:27] -rusti- <anon>:7          format!("{:#<1}", "", 10)
[00:27:27] -rusti-                                         ^~
[00:27:27] -rusti- error: aborting due to previous error
[00:27:27] -rusti- application terminated with error code 101
[00:27:34] <acrichto> rusti: format!("{:#<.*s}", 10, "")
[00:27:35] -rusti- ~""
[00:27:44] <acrichto> rusti: format!("{1:#<0$s}", 10, "")
[00:27:44] -rusti- <anon>:7:17: 7:28 error: unterminated format string
[00:27:44] -rusti- <anon>:7          format!("{1:#<0$s}", 10, "")
[00:27:44] -rusti-                           ^~~~~~~~~~~
[00:27:44] -rusti- error: aborting due to previous error
[00:27:44] -rusti- application terminated with error code 101
[00:27:55] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:27:56] * acrichto totally knows the format syntax
[00:28:31] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[00:28:31] *** ChanServ sets mode: +qo brson brson
[00:28:39] <dbaupp> rusti: format!("{0:#<1$}", "", 10) 
[00:28:39] -rusti- ~"##########"
[00:28:48] <dbaupp> acrichto: ^ but with named arguments
[00:29:02] <acrichto> dbaupp: 1$ can't be a named argument right now
[00:29:15] <acrichto> rusti: format!("{0:#<name$}", "", name=10)
[00:29:16] -rusti- <anon>:7:17: 7:30 error: unterminated format string
[00:29:16] -rusti- <anon>:7          format!("{0:#<name$}", "", name=10)
[00:29:16] -rusti-                           ^~~~~~~~~~~~~
[00:29:16] -rusti- error: aborting due to previous error
[00:29:16] -rusti- application terminated with error code 101
[00:30:03] <acrichto> dbaupp: also that's not good, you should be able to have a format specifier after the $
[00:30:16] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:30:34] * acrichto opens an issue
[00:32:12] <benh> It's a bit eager to say "unterminated format string" instead of poining out what is wrong with the format string ;)
[00:32:22] <engla> acrichto: I guess your git question was answered? --reset-author?
[00:32:32] <acrichto> engla: ah I need to write that down somewhere
[00:32:35] <benh> But that changes the author!
[00:32:40] <benh> (doesn't it?)
[00:32:45] <engla> for sure
[00:32:51] <acrichto> benh: sadly the spans are difficult to put in the middle of the string (the span system doesn't do that currently)
[00:33:00] <engla> but the question was asking about which option I had already mentioned once
[00:33:05] <benh> ok :)
[00:33:07] <engla> and so that answer must be correct
[00:33:44] <acrichto> dbaupp: weird, format!("{1:#<0$s}", 10, "") is rejected but format!("{0:#<1$s}", 10, "") is accepted
[00:35:21] <dbaupp> acrichto: maybe you should track down whoever wrote it to ask them to fix it :P
[00:35:32] <acrichto> :(
[00:36:35] <acrichto> dbaupp: https://github.com/mozilla/rust/issues/9669
[00:37:48] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[00:37:56] <dbaupp> benh: that issue is tangentially related to what you're doing^
[00:38:05] <benh> rusti: format!("{0:#<1$s}", 10, "")
[00:38:05] -rusti- pastebinned 15 lines of output: http://sprunge.us/WaXc
[00:38:56] <acrichto> dbaupp: oh I see
[00:39:01] <benh> err.
[00:39:02] <acrichto> rusti: format!("{1:#<00$s}", 10, "")
[00:39:03] -rusti- ~"##########"
[00:39:05] <benh> yes
[00:39:14] <acrichto> hmm that's unfortunate
[00:39:17] <benh> but.
[00:39:55] <benh> ah, sign-awareness
[00:40:03] <acrichto> that's unfortunate
[00:40:11] <benh> I suppose 0000-1 isn't quite the same thing as -00001
[00:40:58] <acrichto> rusti: format!("{:010d}", -1)
[00:40:59] -rusti- ~"-000000001"
[00:41:02] <acrichto> rusti: format!("{:10d}", -1)
[00:41:03] -rusti- ~"        -1"
[00:41:08] <acrichto> rusti: format!("{: 10d}", -1)
[00:41:08] -rusti- <anon>:7:17: 7:26 error: unterminated format string
[00:41:08] -rusti- <anon>:7          format!("{: 10d}", -1)
[00:41:08] -rusti-                           ^~~~~~~~~
[00:41:08] -rusti- error: aborting due to previous error
[00:41:08] -rusti- application terminated with error code 101
[00:41:12] <acrichto> rusti: format!("{: >10d}", -1)
[00:41:13] -rusti- ~"        -1"
[00:41:15] <acrichto> rusti: format!("{: <10d}", -1)
[00:41:16] -rusti- ~"-1        "
[00:41:30] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[00:41:30] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 149b1ccb1 to 14fe4e747: 02http://git.io/N3iJvQ
[00:41:30] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[00:41:31] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[00:41:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/7v2c_w
[00:41:31] <ghrust> 13rust/06auto 1402cbfce 15Alex Crichton: Move the rt::io::process tests to run-pass...
[00:41:31] <ghrust> 13rust/06auto 1488b0b51 15bors: auto merge of #9578 : alexcrichton/rust/un-ignore-libuv-process-tests, r=brson...
[00:41:31] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[00:43:58] *** Quits: zz_kimundi (kimundi@moz-F02A6FA4.dip0.t-ipconnect.de) (Ping timeout)
[00:47:40] <acrichto> cmr: I'm still really surprised that we have 600MB of things after trans looks like it's done
[00:47:53] <acrichto> that seems like a lot
[00:48:18] *** Joins: zz_kimundi (kimundi@moz-27245F78.dip0.t-ipconnect.de)
[00:48:21] *** zz_kimundi is now known as kimundi
[00:49:42] *** Quits: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[00:55:06] <benh> Is there a clever way to check what libstd looked like as of the last snapshot?
[00:55:52] <strcat> benh: check out the commit
[00:56:07] <dbaupp> benh: git log -- src/snapshots.txt, git checkout <hash>
[00:56:17] <benh> ah
[01:02:28] *** Quits: kimundi (kimundi@moz-27245F78.dip0.t-ipconnect.de) (Ping timeout)
[01:02:39] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[01:03:49] *** Joins: zz_kimundi (kimundi@moz-27245F78.dip0.t-ipconnect.de)
[01:04:02] *** zz_kimundi is now known as kimundi
[01:06:42] <aatch> acrichto, we duplicate a lot of information inside LLVM
[01:06:56] <aatch> As in, rustc has a copy and LLVM has a copy.
[01:07:51] <acrichto> 600MB seems like a lot
[01:38:48] *** Joins: steveklabnik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP)
[01:41:43] *** Joins: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP)
[01:41:55] *** Quits: steveklabnik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP) (Ping timeout)
[01:44:02] *** Joins: tjc (tjc@95247703.870F2FA5.2370DFC3.IP)
[01:44:02] *** ChanServ sets mode: +o tjc
[01:46:30] *** Quits: tjc (tjc@95247703.870F2FA5.2370DFC3.IP) (Quit: Places to go, people to annoy)
[01:47:06] *** Quits: bytewise (bytewise@moz-4A801D04.unitymediagroup.de) (Quit: Leaving)
[01:47:36] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[01:49:02] <engla> acrichto: I see you've found something, that's exciting
[01:49:04] <engla> !
[01:51:28] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[01:51:28] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/7v2c_w
[01:51:28] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:54:43] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[01:56:28] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[01:56:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/6uT0Hg
[01:56:28] <ghrust> 13rust/06auto 145d24a1a 15Micah Chalmer: Fix single-line-style paragraph fills with code immediately before or after
[01:56:28] <ghrust> 13rust/06auto 141d6c011 15bors: auto merge of #9600 : MicahChalmer/rust/fill-with-code-around, r=catamorphism...
[01:56:29] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[02:03:08] *** Joins: steveklabnik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP)
[02:04:34] *** Joins: stevekla1nik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP)
[02:07:06] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[02:10:18] <dbaupp> does anyone have an opinion about https://github.com/mozilla/rust/pull/9668  ? (I imagine it's hard to jump into the discussion halfway through, but basically it is adding a func!() macro that will expand to the full path of the function + file/line/column information.)
[02:10:40] <dbaupp> (I'm suggesting that it should *just* expand to the name of the function: the other information is available via mod_path!() and file!()/line!()/column!()
[02:10:41] <dbaupp> )
[02:11:18] *** Quits: steveklabnik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP) (Ping timeout)
[02:11:48] *** Quits: stevekla1nik (steveklabn@817E9B7E.C3D4F2AA.56F40276.IP) (Ping timeout)
[02:15:55] <sfackler> I agree
[02:16:33] <klutzy> +1 on names only
[02:17:54] <dbaupp> could you comment? :)
[02:21:39] <klutzy> yep :)
[02:29:48] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[02:41:19] *** Quits: kimundi (kimundi@moz-27245F78.dip0.t-ipconnect.de) (Ping timeout)
[02:44:52] *** Joins: zz_kimundi (kimundi@moz-2C65B47D.dip0.t-ipconnect.de)
[02:44:53] *** zz_kimundi is now known as kimundi
[02:46:31] <benh> what's the "foo" called in mod foo = "foo";?
[02:46:51] <dbaupp> benh: `extern mod foo = "foo"` you mean?
[02:47:01] <benh> uh, yeah, sorry
[02:47:03] <dbaupp> package id, iirc
[02:47:08] <benh> "crate path"?
[02:47:11] <benh> ah
[02:48:44] <benh> I want to ban them from being raw strings because otherwise I'd need to thread the string style through the AST just so the pretty-printer gets it right again...
[02:50:13] <dbaupp> is it that hard to thread it through?
[02:50:55] <dbaupp> (or are they not a lit_str?)
[02:51:11] <benh> They're not a lit_str, they apparently get parsed separately
[02:52:25] <benh> I'm also not certain what to do about some syntax extensions that consume string literals, adding five new fields to the inline asm struct feels kinda weird
[02:53:39] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[02:54:52] <benh> Maybe I've bitten off too much here :)
[02:57:05] <benh> is syntax::parse::parser::parse_view_item unused?
[02:57:24] <benh> parse_item_foreign_mod seems to duplicate it somewhat and I can't find a caller
[02:59:41] <dbaupp> benh: looks like it
[03:02:12] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[03:04:34] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:04:34] <ghrust> 01[13rust01] 15erickt 04force-pushed 06try from 149028adb to 14f0b2279: 02http://git.io/k471pw
[03:04:34] <ghrust> 13rust/06try 14f0b2279 15Erick Tryzelaar: wip
[03:04:34] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:06:30] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[03:06:30] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/6uT0Hg
[03:06:30] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[03:07:38] *** Quits: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP) (Quit: Lost terminal)
[03:11:25] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[03:11:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/_uvxGg
[03:11:25] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[03:11:32] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[03:11:32] <ghrust> 01[13rust01] 15bors pushed 10 new commits to 06auto: 02http://git.io/HmH-vg
[03:11:32] <ghrust> 13rust/06auto 14a076fef 15Felix S. Klock II: Add new lint: non_uppercase_pattern_statics, for #7526....
[03:11:32] <ghrust> 13rust/06auto 149246742 15Felix S. Klock II: Throwing in another interesting test case: There is no need to warn...
[03:11:33] <ghrust> 13rust/06auto 14c0599b1 15Felix S. Klock II: Fix typo in comment.
[03:11:35] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[03:14:01] <sfackler> should the missing-doc lint check for docs on enum variants?
[03:14:20] <sfackler> it doesn't seem to be currently
[03:16:50] <dbaupp> sfackler: probably
[03:19:18] <sfackler> woah, it doesn't check enums at all
[03:20:22] <dbaupp> o_O
[03:20:24] <engla> hashmap has an interersting attribute. it says  #[mutable_doc];
[03:20:30] <dbaupp> sfackler: oops
[03:20:44] <dbaupp> engla: <3 unchecked attributes: the ultimate in cargo-culting
[03:21:48] <engla> that's neat. I should use some in my own code to make it seem smarter
[03:22:01] <engla> #[allow_homozygotic_instances]
[03:22:44] <sfackler> #[enable(quantum_hypermorphism_pass)]
[03:36:38] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[03:40:05] <dbaupp> \o/ I have a bootstrapping compiler than will complain about dropped things in a macro invocation
[03:41:06] <dbaupp> surprisingly, only 1 macro in {std,extra,syntax,rustc} needed adjusting, and that was just a single trailing `,`
[03:42:15] <engla> nice
[03:44:14] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[03:47:43] <Eridius> dbaupp: \o/
[03:47:56] <benh> Hi Eridius 
[03:48:05] <benh> I'm still chipping away at raw string literals :))
[03:50:34] <Eridius> hi benh. I'm kind of surprised it's taking so long. Is this because lit_str needed to be changed?
[03:51:54] <benh> For one thing I'm not a very programmer. It's also because I want the pretty printer to get the style of string right as much as possible so I'm also concerned about places like the asm! macro and other bits inspecting the ast or tokens that aren't about string literals in expression positions.
[03:52:52] <Eridius> I see
[03:53:03] <Eridius> well, when you're done, I'd be happy to review it (though I don't have r+ powers)
[03:54:19] <benh> Right now I'm trying to thread through the kind of string literal for extern mod blah = r"blah" and for asm!(r"blah", ...), but just forbidding raw strings in the extern r"Rust" fn() position and further asm!() parameters, mostly because it wasn't immediately obvious where to adjust the ast node types
[03:54:22] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[03:54:36] <benh> if that actually works I'll probably ask for some reviewing :)
[03:57:50] <SiegeLord> How does the pretty-printer handle string literals these days? It doesn't seem to preserve the original text of it...
[03:58:28] <SiegeLord> I figured the raw-stringness of a raw-string would be lost upon parsing, and therefore not preserved during pretty printing
[03:58:59] <benh> I'm adding a flag to the ast::lit_str() enum variant that says which kind of string literal it was
[03:59:20] <benh> So it can re-escape regular string literals or reproduce the raw string literal otherwise
[04:10:42] <benh> Hm, we don't use or test the inline "asm!" syntax extension anywhere in rustc?
[04:11:16] <benh> I was gonna steal some test to test passing the assembly via raw string literals, but I can't find any ;)
[04:12:59] <benh> sb end
[04:13:02] <benh> whoops
[04:18:57] <aatch> benh, we don't have any tests for asm stuff as far as I know.
[04:19:36] <aatch> However, the string is just passed directly to LLVM, so it shouldn't matter if it's raw or not.
[04:19:47] <aatch> as long as it can still get at the text.
[04:20:40] * dbaupp doesn't understand how asm! isn't entirely broken, given there are literally no tests for it
[04:20:54] <aatch> dbaupp, it's very very simple
[04:21:11] <aatch> and nobody touches it.
[04:21:19] <aatch> so no chance to break it.
[04:21:21] <benh> I just touched it, oh dear!!
[04:22:08] <Luqman> dbaupp: who says it isn't broken? :P
[04:22:28] <dbaupp> Luqman: well maybe :P
[04:22:30] <aatch> Luqman, *entirely* broken
[04:22:31] <dbaupp> aatch: true
[04:22:45] <aatch> it still works, it's just a little... eccentric.
[04:23:10] <dbaupp> is your platform-handling stuff going anywhere, aatch?
[04:23:35] <aatch> dbaupp, nah. I'm not sure how to do it properly and lost interest.
[04:25:36] <aatch> Or more, accurately, doing it properly was a much bigger task than I intended.
[04:26:11] <aatch> (Since it needed to hook into several places, including parts of trans, to work properly)
[04:26:26] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[04:26:27] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b7df2e0 to 141d6c011: 02http://git.io/N3iJvQ
[04:26:27] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[04:26:28] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[04:26:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/fv3sAA
[04:26:28] <ghrust> 13rust/06auto 140306923 15Tim Chevalier: rustpkg: Support arbitrary dependencies in the install API...
[04:26:28] <ghrust> 13rust/06auto 14452ca08 15bors: auto merge of #9654 : catamorphism/rust/rustpkg-c-dependencies, r=brson...
[04:26:28] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[04:31:46] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[04:31:46] <ghrust> 01[13rust01] 15erickt 04force-pushed 06try from 14f0b2279 to 14d16b746: 02http://git.io/k471pw
[04:31:46] <ghrust> 13rust/06try 14d16b746 15Erick Tryzelaar: wip
[04:31:46] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[04:51:15] <dbaupp> https://github.com/mozilla/rust/pull/9673 r?
[04:52:30] <dbaupp> pauls: ^
[04:56:28] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[04:56:28] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14452ca08 to 141d6c011: 02http://git.io/N3iJvQ
[04:56:28] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[04:56:32] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[04:56:32] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ieDGcw
[04:56:32] <ghrust> 13rust/06auto 145e4ae4f 15Daniel Micay: make small (<= size_of::<int>()) tuples immediate...
[04:56:32] <ghrust> 13rust/06auto 1433a5928 15bors: auto merge of #9656 : thestinger/rust/immediate, r=alexcrichton...
[04:56:32] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[05:04:29] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[05:09:52] <Eridius> is # a special character in a format string? Outside of {} ?
[05:10:13] <Eridius> because I'm seeing one instance of fmt!("%s#testbranch", ...) that was turned into format!("{}\\#testbranch", ...)
[05:10:27] <dbaupp> Eridius: yes, I asked the same thing of acrichto
[05:10:32] <Eridius> did he answer?
[05:10:44] <dbaupp> it's to refer back to the matchee in select/plural statements
[05:10:59] <dbaupp> and he didn't want to make it change meaning, so it's a special character everywhere
[05:11:10] <Eridius> huh
[05:11:53] <Eridius> btw dbaupp, all my `do foo.as_display_str |s| { debug!("...", s) }` are turning back into one line \o/
[05:12:10] <benh> oh, so # is a special character in format strings and part of the raw string literal syntax, surely this won't come back to haunt us
[05:12:53] <Eridius> benh: I don't think it will
[05:13:10] <dbaupp> rusti: for x in range(0u, 4) { println!("{0, plural, =0{#} =1{##} other{###}}", x) }
[05:13:11] -rusti- 0
[05:13:11] -rusti- 11
[05:13:11] -rusti- 222
[05:13:11] -rusti- 333
[05:13:13] -rusti- ()
[05:13:37] <dbaupp> Eridius: how are they one line now?
[05:14:24] <dbaupp> (also, isn't that pattern really expensive: since the .as_display_str is evaluated even if debug! isn't on?)
[05:14:25] <Eridius> dbaupp: because I now have a method .display() that returns a struct Display(&Path) that implements fmt::Default
[05:14:35] <dbaupp> oh! fancy
[05:14:47] <dbaupp> (and that resolves my concern)
[05:14:52] <Eridius> and yeah, I didn't like the pattern, but I didn't have a better alternative with the old fmt!() strings that didn't involve extra allocation
[05:15:14] <dbaupp> lucky old fmt!'s dying
[05:15:22] <Eridius> yep, I'm dealing with the merge conflict now
[05:15:48] <dbaupp> it looks tasty, from all the %'s I saw when I "reviewed" it :P
[05:16:43] <Eridius> heh
[05:17:20] <benh> Is that a nethack joke?
[05:18:35] <dbaupp> rusti: for i in range(0, 3u) { print!("{0, plural, =1{a cat}, other{# cats}}! ", i) }
[05:18:35] -rusti- <anon>:7:40: 7:81 error: unexpected plural selector ``
[05:18:35] -rusti- <anon>:7          for i in range(0, 3u) { print!("{0, plural, =1{a cat}, other{# cats}}! ", i) }
[05:18:35] -rusti-                                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[05:18:35] -rusti- error: aborting due to previous error
[05:18:36] -rusti- application terminated with error code 101
[05:18:43] <dbaupp> rusti: for i in range(0, 3u) { print!("{0, plural, =1{a cat} other{# cats}}! ", i) }
[05:18:44] -rusti- 0 cats! a cat! 2 cats! ()
[05:19:00] * dbaupp just realised how nice that pattern is now
[05:19:12] <Eridius> nice
[05:19:35] <dbaupp> none of this `"%d cat%s", n, n == 1? "" : "s"` business
[05:19:39] <dbaupp> benh: (no)
[05:19:42] <benh> :(
[05:19:51] <engla> :(
[05:20:04] <dbaupp> finnneeee, it was, if that makes you happier.
[05:20:06] <engla> Rust monster will rust your stuff
[05:20:12] <klutzy> yes, % is generally not tasty in netack :p
[05:20:20] * dbaupp doesn't like disappointing people :'(
[05:23:45] <sfackler> dbaupp: fixing the lint bug. 100 or so lint failures in libstd :(
[05:23:53] <Eridius> what lint bug?
[05:24:10] <sfackler> missing_doc doesn't check enums
[05:24:25] <Eridius> :/
[05:24:27] <acrichto> sfackler: sorry about that :(
[05:24:47] <dbaupp> sfackler: :( feel free to just throw allow(missing_doc) on 'em
[05:25:02] <sfackler> it's all good :)
[05:25:12] <acrichto> sfackler: if you wouldn't mind also updating src/test/compile-fail/lint-missing-doc.rs as well
[05:25:29] <sfackler> already done
[05:25:33] <acrichto> sweet
[05:25:50] <sfackler>  //#[deny(missing_doc)]; #yolo
[05:26:17] <acrichto> r+ p=1000
[05:26:37] <dbaupp> heh, when we get un-[]'d attributes, we can have all the #hashtags we want
[05:26:51] <acrichto> is that the plan on those?
[05:26:53] <dbaupp> #Rustafarians will be the best at #twitter
[05:26:57] <sfackler> has continue been snapshotted?
[05:26:59] <dbaupp> acrichto: I think so
[05:27:00] <dbaupp> sfackler: yes
[05:27:08] <acrichto> sfackler: i'ts in the queue
[05:27:16] <dbaupp> sfackler: https://github.com/mozilla/rust/pull/9665
[05:27:32] <acrichto> although if you use loop you'll hit a compiler error if that goes first
[05:28:12] <dbaupp> will we change the infinite loop 'loop' to continue too? :P
[05:28:23] <acrichto> continue { continue }
[05:28:31] <acrichto> rusti: continue { continue 
[05:28:32] -rusti- <anon>:10:0: 10:1 error: file ended with unbalanced delimiters
[05:28:32] -rusti- <anon>:10 }
[05:28:32] -rusti-           ^
[05:28:32] -rusti- application terminated with error code 101
[05:28:35] <acrichto> rusti: continue { continue  }
[05:28:36] -rusti- <anon>:7:18: 7:19 error: expected one of `; }` but found `{`
[05:28:36] -rusti- <anon>:7          continue { continue  }
[05:28:36] -rusti-                            ^
[05:28:36] -rusti- application terminated with error code 101
[05:28:38] <dbaupp> (we could allow suffixes and have `continually { continue }`)
[05:28:38] <acrichto> aww
[05:28:54] <acrichto> continually { continue; while { continue } }
[05:28:54] <dbaupp> oh, hm, -ally isn't a strict suffix :'(
[05:37:25] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[05:38:58] <Eridius> I'm surprised there's no fmt::Default impl for <T:Default>&[T]
[05:39:50] <acrichto> rusti: type T<'self> = Iterator<&'self int>;
[05:39:51] -rusti- pastebinned 5 lines of output: http://sprunge.us/WJbR
[05:40:08] <acrichto> rusti: type T<'self> = ~Iterator<&'self int>;
[05:40:09] -rusti- ()
[05:41:42] <acrichto> rusti: fn f<'self, T: Iterator<&'self int>>() {}
[05:41:42] -rusti- error: internal compiler error: unexpected failure
[05:41:43] -rusti- note: the compiler hit an unexpected failure path. this is a bug
[05:41:43] -rusti- note: try running with RUST_LOG=rustc=1 to get further details and report the results to github.com/mozilla/rust/issues
[05:41:43] -rusti- application terminated with error code 101
[05:41:50] <acrichto> rust why you hate me
[05:42:37] <dbaupp> acrichto: 'self don't work there :P
[05:43:00] <acrichto> rusti: fn f<'a, T: Iterator<&'a int>>() {}
[05:43:01] -rusti- <anon>:7:34: 7:37 error: Illegal lifetime 'a: only 'self is allowed as part of a type declaration
[05:43:01] -rusti- <anon>:7          fn f<'a, T: Iterator<&'a int>>() {}
[05:43:01] -rusti-                                            ^~~
[05:43:01] -rusti- error: aborting due to previous error
[05:43:01] -rusti- application terminated with error code 101
[05:43:06] <acrichto> but it says it has to work there lol
[05:43:09] <engla> I think rust hates 'self
[05:43:11] <dbaupp> \o/ impossible statements
[05:43:20] <dbaupp> it has low self-esteem
[05:43:24] <klutzy> too 'selfish
[05:43:46] <acrichto> noo I really want to remove @ from lint
[05:49:28] <Eridius> whew. finished the rebase on top of acrichto format changes
[05:49:31] * Eridius hopes it compiles
[05:51:15] <acrichto> muahaha
[05:51:39] <Eridius> acrichto: on the one hand I hate you for making me do that. On the other, `path.display()` is _far_ nicer than `do path.with_display_str |s| { ... s ... }`
[05:51:51] <acrichto> <3
[05:52:05] <Eridius> :D
[05:54:10] <Eridius> wooo ICE
[05:54:17] <dbaupp> benh: I want RoastedStr and StewedStr and BBQedStr. none of this generic CookedStr stuff.
[05:54:53] <acrichto> would you like a MediumRareStr or a WellDoneStr
[05:55:03] <Eridius> hrmmmmm
[05:55:10] * jensnockert hugs randomly.
[05:55:10] <Eridius> ICE when compiling libextra. This kinda sucks
[05:55:16] <benh> strfry'd clearly
[05:55:23] <Eridius> at librustc/middle/trans/callee.rs:385
[05:55:42] <engla> strfry the only 6-char function you can eat.
[05:56:57] <dbaupp> Eridius: what's the error message?
[05:57:15] <dbaupp> oh
[05:57:16] <Eridius> dbaupp: assertion failure, left is 1u, right is 0u
[05:57:19] <Eridius> has to do with monomorphizing
[05:57:22] <dbaupp> yeah
[05:57:25] * dbaupp opened the source
[05:58:21] <dbaupp> Eridius: https://github.com/mozilla/rust/issues/9155
[05:58:46] <Eridius> crap
[05:58:57] <Eridius> so what, I have to switch to a struct with a named field?
[05:59:16] <dbaupp> yup
[05:59:18] <engla> isn't pcwalton's fix merging now?
[05:59:27] <Eridius> dbaupp: thanks for finding that
[05:59:39] <dbaupp> engla: strcat's?
[05:59:53] <engla> pcwalton was fixing the issue you linked I thought
[06:00:10] <Eridius> I don't see anything by pcwalton in bors's queue
[06:00:15] <dbaupp> oh, there's nothing in the queue from him yet, so I guess it's not ready yet
[06:00:40] <engla> this one? https://github.com/mozilla/rust/pull/9560?source=cc
[06:00:48] <engla> it's merged recently
[06:01:44] <engla> Eridius: so for the data point, does your build include that PR?
[06:01:46] <Eridius> well the ICE is in the snapshot compiler
[06:01:47] <dbaupp> isn't that just to make the construction faster, because it was making servo slow?
[06:01:58] <Eridius> engla: so if that fixes it, that wouldn't help without a new snapshot
[06:02:05] <engla> Eridius: oh ok
[06:02:32] <dbaupp> 5 prs to go for the snap to land
[06:04:17] <engla> dbaupp: I don't think so
[06:05:11] <dbaupp> engla: http://buildbot.rust-lang.org/bors/bors.html ?
[06:06:00] <dbaupp> engla: oh, about pcwalton's pr?
[06:06:23] <engla> yes
[06:07:02] <dbaupp> looking at the code, it looks like it's purely inlining stuff.
[06:07:11] <dbaupp> nothing to do with monomorphisation
[06:07:15] * dbaupp doesn't really know
[06:07:36] <engla> well it does have to be inlined for a generic newtype to even work
[06:07:36] <dbaupp> in any case... have you tested cross-crate generic structs with that PR?
[06:07:43] <engla> no
[06:08:19] <engla> but pcw said he wanted to fix the generic newtype bug
[06:09:09] <dbaupp> yeah, it'd be nice
[06:09:25] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:11:29] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[06:11:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/ieDGcw
[06:11:29] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[06:16:28] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[06:16:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/2ADz1Q
[06:16:28] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[06:16:29] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[06:16:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/O4kfBg
[06:16:29] <ghrust> 13rust/06auto 142e484d8 15Tim Chevalier: rustpkg: Support arbitrary dependencies in the install API...
[06:16:29] <ghrust> 13rust/06auto 140360a24 15bors: auto merge of #9654 : catamorphism/rust/rustpkg-c-dependencies, r=brson...
[06:16:29] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[06:25:51] * jensnockert sniffs: Did I hear cross-crate generic newtype?
[06:26:29] <engla> I'm building it so I can try if it really works
[06:27:08] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[06:27:55] <Eridius> jensnockert: yes, I had one. It ICE'd :(
[06:28:08] * jensnockert hugs Eridius.
[06:28:20] <jensnockert> I hope that gets fixed soon, I want to implement SIMD.
[06:28:20] <Eridius> :D
[06:28:50] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[06:29:17] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[06:29:59] <sfackler> r? https://github.com/mozilla/rust/pull/9675
[06:32:38] <Eridius> error: aborting due to 2407 previous errors
[06:32:59] *** Quits: tikue_ (tikue_star@ABF748F2.CD72397.689607DE.IP) (Ping timeout)
[06:33:21] <Eridius> turns out that's due to having assert!() in the standard library
[06:33:28] <Eridius> I assume there's an assert2!()?
[06:33:37] <Eridius> Also, that's not quite the error I was expecting. They're all "error: argument never used"
[06:34:51] <Eridius> ahhh, interesting. assert!() was actually converted over to format!() directly
[06:34:55] <Eridius> this surprises me
[06:41:59] <acrichto> Eridius: the next snapshot should have assert! as format!-syntax in stage0
[06:42:30] <Eridius> acrichto: hm, I think all my asserts are in tests, thankfully, so that shouldn't be an issue
[06:44:34] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:47:02] <engla> jensnockert: x-crate generic newtype seems to work with the new build
[06:47:19] <engla> I made a simple testcase that ICE'd and it now compiles and runs
[06:47:45] <engla> ICE on 08b510c, works on 33a5928
[06:48:56] <engla> hmm
[06:49:50] <engla> using the generic newtype is now ok, using its constructor is not
[06:50:36] <dbaupp> engla: strcat fixed some ICEs with newtype structs that are immediate
[06:50:38] <jensnockert> Isn't that essentially the same error as before?
[06:50:46] <dbaupp> engla: (which may be what you're seeing?)
[06:51:03] *** Quits: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu) (Ping timeout)
[06:51:32] <jensnockert> But awesome that people are working on it <3
[06:51:33] <engla> no. The ICE on using functions that return a generic newtype value is fixed
[06:51:41] <jensnockert> \o/
[06:52:11] <engla> but trying to use the newtype constructor directly yields a curious compiler error diagnostic  mismatched types: expected `BUG[0u]` but found `<VI2>` (expected type parameter but found integral variable)
[06:52:29] <engla> dbaupp: no idea
[06:53:41] <cmr> Eridius, nothing like some CTCP banter, eh? :P
[06:54:03] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[06:54:06] <Eridius> haha
[06:54:12] <Eridius> stop spying on your CTCP requests
[06:54:33] <cmr> I have no idea why, but hexchat decides that CTCP requests should go in the current channel :|
[06:54:44] <Eridius> seriously? Wow that's nasty
[06:56:15] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Connection reset by peer)
[06:56:29] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[06:56:30] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 140360a24 to 1433a5928: 02http://git.io/N3iJvQ
[06:56:30] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[06:56:31] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[06:56:31] <ghrust> 01[13rust01] 15bors pushed 14 new commits to 06auto: 02http://git.io/V7tRdw
[06:56:31] <ghrust> 13rust/06auto 140a8ee93 15Erick Tryzelaar: std: Replace num::IntConvertible with {To,From}Primitive
[06:56:31] <ghrust> 13rust/06auto 140536322 15Erick Tryzelaar: syntax: Add #[deriving(FromPrimitive)] syntax extension...
[06:56:32] <ghrust> 13rust/06auto 14cd78bf2 15Erick Tryzelaar: syntax: swap from .span_fatal to .span_err in #[deriving(FromPrimitive)]
[06:56:34] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[06:56:47] *** Joins: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu)
[06:57:17] <Eridius> oh run-pass tests. Why must you use up every last bit of CPU?
[06:58:29] <dbaupp> `nice make check` works kinda nicely for me
[06:59:15] <Eridius> oh crud. after the run-pass are done, _now_ it gives me a borrowck error in the libstd test
[07:01:14] <Eridius> ok, this is a weird one. It wants my &str value in assert_eq!() to have static lifetime
[07:01:46] <dbaupp> `make check-stage2-{std,extra,syntax,rustc,rusti,rustpkg,bench}` lets you skip rpass etc
[07:02:03] *** Joins: tikue_ (tikue_star@ABF748F2.CD72397.689607DE.IP)
[07:02:19] *** Quits: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP) (Ping timeout)
[07:02:25] <Eridius> is there something about fail2!() that requires static lifetimes on &str's now? Because that would be kinda nuts
[07:02:50] <dbaupp> rusti: fail2!(~"foo")
[07:02:50] -rusti- <anon>:7:16: 7:22 error: format argument must be a string literal.
[07:02:50] -rusti- <anon>:7          fail2!(~"foo")
[07:02:51] -rusti-                          ^~~~~~
[07:02:51] -rusti- application terminated with error code 101
[07:02:58] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[07:02:58] *** ChanServ sets mode: +o pnkfelix
[07:02:59] <dbaupp> rusti: fail2!("{}", ~"foo")
[07:03:00] -rusti- pastebinned 13 lines of output: http://sprunge.us/NhNV
[07:03:22] <Eridius> rusti: let f = ~"foo"; fail2("{:?}", f); 3
[07:03:23] -rusti- <anon>:7:25: 7:30 error: unresolved name `fail2`. Did you mean `f`?
[07:03:23] -rusti- <anon>:7          let f = ~"foo"; fail2("{:?}", f); 3
[07:03:23] -rusti-                                   ^~~~~
[07:03:23] -rusti- error: aborting due to previous error
[07:03:23] -rusti- application terminated with error code 101
[07:03:27] <Eridius> rusti: let f = ~"foo"; fail2!("{:?}", f); 3
[07:03:28] -rusti- pastebinned 16 lines of output: http://sprunge.us/OTje
[07:03:49] <Eridius> rusti: let f = ~"foo"; if true { fail2!("{:?}", f); }
[07:03:50] -rusti- task '<unnamed>' failed at '~"foo"', <anon>:7
[07:03:50] -rusti- application terminated with error code 101
[07:04:05] <Eridius> rusti: let f = ~"foo"; assert_eq!(f.as_slice(), "bar");
[07:04:07] -rusti- task '<unnamed>' failed at 'assertion failed: `(left == right) && (right == left)` (left: `"foo"`, right: `"bar"`)', <anon>:7
[07:04:07] -rusti- application terminated with error code 101
[07:04:17] <Eridius> ok, so what the heck
[07:07:33] *** Quits: tikue_ (tikue_star@ABF748F2.CD72397.689607DE.IP) (Ping timeout)
[07:10:09] <Eridius> rusti: let stat = "static string"; let f = ~"foo"; assert_eq!(f.as_slice(), stat);
[07:10:10] -rusti- task '<unnamed>' failed at 'assertion failed: `(left == right) && (right == left)` (left: `"foo"`, right: `"static string"`)', <anon>:7
[07:10:10] -rusti- application terminated with error code 101
[07:11:06] <Eridius> rusti: let stat = "static string"; let f = bytes!("static string"); assert_eq!(std::str::from_utf8_slice_opt(f).unwrap(), stat)
[07:11:07] -rusti- ()
[07:11:14] <Eridius> ok so why does borrowck not like my code?
[07:11:19] <dbaupp> gist?
[07:11:33] <Eridius> https://gist.github.com/kballard/6790046
[07:11:52] <Eridius> it complains about line 8, that the borrowed value 'path' doesn't live long enough
[07:12:17] <dbaupp> what happens if you move it outside the assert_eq?
[07:12:36] * dbaupp wonders if assert_eq evals its args twice
[07:12:39] <Eridius> this is code that used to work too, so something must have changed recently (I'm assuming the format change)
[07:12:47] <Eridius> no, assert_eq grabs borrowed pointers to each arg
[07:12:51] <Eridius> let left = &($left); etc
[07:12:53] <dbaupp> rusti: assert_eq!(println("hi"), ())
[07:12:54] -rusti- hi
[07:12:54] -rusti- ()
[07:12:58] <dbaupp> ok, cool
[07:13:02] * dbaupp wasn't sure
[07:15:09] <Eridius> boy it takes a while to compile stdtest
[07:16:15] <Eridius> dbaupp: using `input.as_slice()` fixes the borrowck error
[07:16:24] <Eridius> so I have absolutely no clue why it doesn't like it otherwise
[07:16:54] <benh> (I'm still surprised it took me so long to write what little code I did today, not sure I can blame it all on compile times :)
[07:17:17] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[07:17:17] <Eridius> ok, lets try `make check` again
[07:17:39] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[07:20:21] *** flaper87|afk is now known as flaper87
[07:26:32] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[07:26:32] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145a55e9b to 1433a5928: 02http://git.io/N3iJvQ
[07:26:32] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[07:26:36] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[07:26:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/-KXqBQ
[07:26:36] <ghrust> 13rust/06auto 14875b331 15Tim Chevalier: rustpkg: Support arbitrary dependencies in the install API...
[07:26:36] <ghrust> 13rust/06auto 14e0e5ec8 15bors: auto merge of #9654 : catamorphism/rust/rustpkg-c-dependencies, r=brson...
[07:26:37] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[07:37:24] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:40:36] *** flaper87 is now known as flaper87|afk
[07:42:39] <Eridius> argggg I hate when make check errors out so late in the process
[07:46:04] *** Joins: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP)
[07:47:08] <Eridius> well crud. 2 rustpkg tests failed
[07:47:35] *** Quits: StarLight (StarLight@moz-3A24043E.pppoe.avangarddsl.ru) (Ping timeout)
[07:59:12] *** flaper87|afk is now known as flaper87
[08:16:32] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[08:16:32] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e0e5ec8 to 1433a5928: 02http://git.io/N3iJvQ
[08:16:32] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[08:16:34] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[08:16:34] <ghrust> 01[13rust01] 15bors pushed 10 new commits to 06auto: 02http://git.io/U_q17w
[08:16:34] <ghrust> 13rust/06auto 14a076fef 15Felix S. Klock II: Add new lint: non_uppercase_pattern_statics, for #7526....
[08:16:34] <ghrust> 13rust/06auto 149246742 15Felix S. Klock II: Throwing in another interesting test case: There is no need to warn...
[08:16:34] <ghrust> 13rust/06auto 14c0599b1 15Felix S. Klock II: Fix typo in comment.
[08:16:36] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[08:20:21] *** Joins: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se)
[08:20:22] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[08:23:38] *** Quits: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[08:24:00] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[08:26:40] *** flaper87 is now known as flaper87|afk
[08:31:52] *** flaper87|afk is now known as flaper87
[08:45:10] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[09:08:01] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:12:42] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[09:13:31] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[09:13:38] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:26:25] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:26:29] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[09:26:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/U_q17w
[09:26:29] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[09:31:31] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[09:31:31] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/jSNFqA
[09:31:31] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[09:31:34] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[09:31:34] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/__wWrg
[09:31:34] <ghrust> 13rust/06auto 147f9b918 15Alex Crichton: Register new snapshots
[09:31:34] <ghrust> 13rust/06auto 144af849b 15Alex Crichton: Obsolete parsing 'loop' as 'continue'
[09:31:35] <ghrust> 13rust/06auto 144f67dcb 15Alex Crichton: Migrate users of 'loop' to 'continue'...
[09:31:37] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[09:32:33] *** flaper87 is now known as flaper87|afk
[09:40:34] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:42:42] *** flaper87|afk is now known as flaper87
[09:49:58] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[09:50:25] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:52:08] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[09:56:59] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:58:44] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[09:58:54] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:12:09] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[10:15:04] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:41:27] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[10:41:27] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/__wWrg
[10:41:27] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[10:46:26] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[10:46:26] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/PZtmnQ
[10:46:26] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[10:46:27] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[10:46:27] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/at_69Q
[10:46:27] <ghrust> 13rust/06auto 14c463772 15Luis de Bethencourt: extra: %U support in time::strftime...
[10:46:27] <ghrust> 13rust/06auto 14a0c2a4e 15Luis de Bethencourt: extra: %G, %g and %V support in time::strftime...
[10:46:28] <ghrust> 13rust/06auto 14ba6b702 15bors: auto merge of #9670 : luisbg/rust/strftime, r=catamorphism
[10:46:30] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[10:48:42] *** Joins: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se)
[10:48:42] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[10:49:11] *** flaper87 is now known as flaper87|afk
[10:49:23] *** Quits: jensnock_ (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[10:49:32] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:51:18] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[10:57:49] *** flaper87|afk is now known as flaper87
[11:00:28] *** Joins: bytewise (bytewise@moz-4A801D04.unitymediagroup.de)
[11:04:01] *** kimundi is now known as zz_kimundi
[11:08:21] *** zz_kimundi is now known as kimundi
[11:12:02] <pnkfelix> does anyone know why resolve.rs makes so many of its items `pub` ?
[11:15:56] <dbaupp> pnkfelix: the reason they're all individually pub is https://github.com/mozilla/rust/commit/5fb254695b4db9af3d8e33577fae28ae9f7006c5#diff-32 "Remove all uses of `pub impl`."
[11:16:07] <dbaupp> that doesn't explain the pub impl's though
[11:16:10] * dbaupp continues digging
[11:16:39] <pnkfelix> I see.  I could imagine it just being the most direct way to refactor the code 
[11:17:25] <dbaupp> https://github.com/mozilla/rust/commit/ae50912875ea784edac821c290dbbdfbf44b38e7 is the next one (removing export lists)
[11:18:39] <pnkfelix> hmm, does `pub use` not act like what export lists previously did ?
[11:19:08] <dbaupp> maybe?
[11:19:27] * dbaupp never actually used a rustc that recognised export lists
[11:19:55] <pnkfelix> I'm just surprised by the choice to pepper the code with `pub's` rather than replacing each export list block with some `pub use`.s  But maybe I misunderstand something.
[11:20:08] <pnkfelix> I'm going to de-pub resolve.rs then
[11:21:25] <dbaupp> yeah, a lot of them seem to be only used in resolve
[11:21:27] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[11:21:27] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ba6b702 to 14d00c926: 02http://git.io/N3iJvQ
[11:21:27] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[11:21:28] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[11:21:29] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/_38qIA
[11:21:29] <ghrust> 13rust/06auto 14bbbafc4 15Huon Wilson: syntax: remove some dead code.
[11:21:29] <ghrust> 13rust/06auto 148284df9 15Huon Wilson: syntax: indicate an error when a macro ignores trailing tokens....
[11:21:29] <ghrust> 13rust/06auto 14d616603 15bors: auto merge of #9673 : huonw/rust/macros, r=catamorphism...
[11:21:31] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[11:21:36] <dbaupp> and a few aren't even used there
[11:21:49] <dbaupp> e.g. git grep implies `TraitGenerics` is dead
[11:22:12] <dbaupp> declared but not used
[11:22:35] <pnkfelix> dbaupp: I'll just set my sites low, to de-pub'ing.  We'll go from there.
[11:23:27] <dbaupp> yeah, killing dead code can wait until we get a lint that tells us everything that can be removed
[11:23:56] * dbaupp isn't very keen on implementing it with the current transitionary state of lint however
[11:31:15] <pnkfelix> hmm, I guess one cannot use `pub use` as a replacement for export lists.  At least not for the current module; maybe it is solely for re-exporting from modules other than the current one...
[11:32:20] <kimundi> pnkfelix: I'm unfamiliar with what export lists did. What do you want to do?
[11:33:08] <pnkfelix> kimundi: I'm *assuming* that they allowed you to say "all of these identifiers in this list, make them pub for this module, regardless of whether their item declarations have pub or not."
[11:34:19] <kimundi> well, as I understood it a pub use still allows you to export either pub or priv things
[11:34:37] <kimundi> you just get name clashes if you have both in the same module
[11:34:51] <pnkfelix> kimundi: but I am not able to do e.g. `pub use ExportMap2;` and `pub use self::ExportMap2;` in resolve.rs
[11:35:09] <pnkfelix> kimundi: (after removing the `pub` from the ExportMap2 item in resolve.rs)
[11:35:31] <dbaupp> pnkfelix: ah, I remember that it creating weird error messages, whenever I've tried to use it
[11:35:34] <dbaupp> ?
[11:36:05] <kimundi> pnkfelix: what is the error?
[11:36:27] <pnkfelix> dbaupp: eh, I don't know if the error messages are *weird*  its things like "Unresolved import: there is no `ExportMap2` in `???`"
[11:36:56] <kimundi> taht sounds like the 'use' part failed, not the 'pub' part :P
[11:37:01] <dbaupp> pnkfelix: that looks pretty weird to me :)
[11:37:41] <dbaupp> (at least, it's not saying "error: use-ing something from this module", which would be a helpful error.)
[11:37:45] <kimundi> pnkfelix: do you still get the error if you try to change it to just a 'use ExportMap2' ?
[11:38:07] <dbaupp> rusti: mod foo { use self::bar; fn bar() {} }
[11:38:07] -rusti- <anon>:7:23: 7:32 error: unresolved import
[11:38:07] -rusti- <anon>:7          mod foo { use self::bar; fn bar() {} }
[11:38:07] -rusti-                                 ^~~~~~~~~
[11:38:07] -rusti- error: aborting due to previous error
[11:38:08] -rusti- application terminated with error code 101
[11:38:10] <pnkfelix> kimundi: I'm going to try to make an isolated test case rather than continuing to dissect this issuein the context of resolve.rs
[11:39:10] <kimundi> dbaupp: modules in function bodies have more issues I think
[11:39:24] <dbaupp> kimundi: self should work still (in theory)
[11:39:34] <kimundi> yeah
[11:39:36] <dbaupp> rusti: mod foo { pub use self::baz::bar; mod baz { pub fn bar() {} } }
[11:39:37] -rusti- ()
[11:39:59] <dbaupp> (fwiw, the code that fails, fails with the same error with any combination of pub use/pub fn)
[11:47:27] <pnkfelix> ah, interesting; at least with type declarations (within a mod named `o` in this case), I get a semi-useful error from `pub use s = self::tau`: unresolved import: found `tau` in `o` but it is private
[11:55:34] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[11:56:22] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[11:56:45] *** flaper87 is now known as flaper87|afk
[11:57:24] <pnkfelix> oh, maybe the poor quality of the error messages I was seeing earlier on resolve.rs was because I was working with the snapshot compiler.  Its not so bad with the current rustc...
[12:00:48] <pnkfelix> (and in hindsight, of *course* `pub use ExportMap2` was not going to work, since use declarations are resolved relative to the crate root...)
[12:17:18] *** flaper87|afk is now known as flaper87
[12:31:31] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[12:31:31] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/_38qIA
[12:31:31] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[12:36:29] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[12:36:29] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/RIZ6Mg
[12:36:29] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[12:36:30] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[12:36:30] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/fp7WZA
[12:36:30] <ghrust> 13rust/06auto 149ed8652 15Steven Fackler: Check enums in missing_doc lint...
[12:36:30] <ghrust> 13rust/06auto 14adef367 15bors: auto merge of #9675 : sfackler/rust/lint, r=alexcrichton...
[12:36:31] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[12:37:17] *** Joins: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP)
[12:51:31] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[12:51:32] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14adef367 to 14d616603: 02http://git.io/N3iJvQ
[12:51:32] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[12:51:36] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[12:51:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/nH-4tA
[12:51:36] <ghrust> 13rust/06auto 14da3a89e 15Daniel Micay: make small (<= size_of::<int>()) enums immediate...
[12:51:36] <ghrust> 13rust/06auto 145f64ea6 15bors: auto merge of #9677 : thestinger/rust/immediate, r=huonw...
[12:51:36] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[13:14:07] *** Quits: nrc (nrc@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[13:15:01] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[13:15:01] <ghrust> 01[13rust01] 15huonw 04force-pushed 06try from 14d16b746 to 14c40022d: 02http://git.io/k471pw
[13:15:01] <ghrust> 13rust/06try 141193280 15Huon Wilson: std::rand: move the Isaac implementation to its own file.
[13:15:01] <ghrust> 13rust/06try 148f8c98f 15Huon Wilson: std::rand: Add an implementation of ISAAC64....
[13:15:01] <ghrust> 13rust/06try 14421faed 15Huon Wilson: std::rand: Add OSRng, ReaderRng wrappers around the OS RNG & generic Readers respectively....
[13:15:03] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[13:16:42] <strcat> dbaupp: https://github.com/mozilla/rust/pull/9680 r?
[13:20:38] *** Joins: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP)
[13:21:21] <dbaupp> strcat: does that make them optimise better?
[13:21:37] <strcat> dbaupp: doubt it, just cleaner
[13:21:51] *** flaper87 is now known as flaper87|afk
[13:23:04] <strcat> dbaupp: LLVM optimizes it to that in the end anyways
[13:23:12] *** flaper87|afk is now known as flaper87
[13:23:27] <strcat> insertvalue + extractvalue are awesome, if you can avoid allocas/getelementptr
[13:24:05] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[13:35:04] <strcat> dbaupp: ugh, it broke a test.
[13:35:41] <strcat> debug-info
[13:36:31] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[13:36:31] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145f64ea6 to 14d616603: 02http://git.io/N3iJvQ
[13:36:31] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:36:36] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[13:36:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/aXhNdw
[13:36:36] <ghrust> 13rust/06auto 1455da145 15Felix S. Klock II: De-pub resolve.rs
[13:36:36] <ghrust> 13rust/06auto 141754837 15bors: auto merge of #9679 : pnkfelix/rust/de-pub-resolve-code, r=huonw...
[13:36:37] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[13:40:57] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[13:40:57] <ghrust> 01[13rust01] 15huonw pushed 1 new commit to 06try: 02http://git.io/u2KZwA
[13:40:57] <ghrust> 13rust/06try 140e031fc 15Huon Wilson: Fixes for non-linux OSes.
[13:40:57] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:48:26] <strcat> rusti: enum A {} let evil: A = unsafe { std::cast::transmute(()) };
[13:48:29] -rusti- <anon>:7:23: 7:27 warning: unused variable: `evil` [-W unused-variable (default)]
[13:48:29] -rusti- <anon>:7          enum A {} let evil: A = unsafe { std::cast::transmute(()) };
[13:48:30] -rusti-                                 ^~~~
[13:48:30] -rusti- ()
[13:48:36] <strcat> rusti: enum A {} let evil: A = unsafe { std::cast::transmute(()) }; evil as int
[13:48:37] -rusti- <anon>:7:70: 7:81 error: non-scalar cast: `main::A` as `int`
[13:48:37] -rusti- <anon>:7          enum A {} let evil: A = unsafe { std::cast::transmute(()) }; evil as int
[13:48:37] -rusti-                                                                                ^~~~~~~~~~~
[13:48:37] -rusti- error: aborting due to previous error
[13:48:38] -rusti- application terminated with error code 101
[13:52:18] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:54:39] <dbaupp> dammit windows :'(
[14:03:22] <strcat> dbaupp: https://github.com/mozilla/rust/pull/9677 r? github has the commits in the wrong order btw
[14:03:27] <strcat> I put the voidish one first
[14:06:28] <dbaupp> strcat: so r on the immediacy one?
[14:06:33] <strcat> yeah
[14:07:00] <strcat> I think that test is bogus since it invokes undefined behaviour but this might as well not make an LLVM assert
[14:07:06] <strcat> easy enough to fix ;p
[14:16:00] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:21:52] *** Joins: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[14:28:07] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[14:28:07] <ghrust> 01[13rust01] 15huonw pushed 1 new commit to 06try: 02http://git.io/-WnRKQ
[14:28:07] <ghrust> 13rust/06try 145b88a26 15Huon Wilson: More little fixes.
[14:28:07] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[14:30:48] *** flaper87 is now known as flaper87|afk
[14:34:24] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[14:34:55] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:40:08] *** flaper87|afk is now known as flaper87
[14:51:41] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[14:51:41] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/aXhNdw
[14:51:41] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[14:56:36] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[14:56:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/m2FwCA
[14:56:36] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[14:56:41] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[14:56:41] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/2VVyNA
[14:56:41] <ghrust> 13rust/06auto 14abe648d 15Daniel Micay: treat uninhabited enums as voidish
[14:56:41] <ghrust> 13rust/06auto 14f2932e4 15Daniel Micay: make small (<= size_of::<int>()) enums immediate...
[14:56:41] <ghrust> 13rust/06auto 14c44826f 15bors: auto merge of #9677 : thestinger/rust/immediate, r=huonw...
[14:56:43] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[14:58:57] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Ping timeout)
[14:59:54] *** Quits: isenmann (isenmann@moz-B656BA79.science-computing.de) (Quit: Leaving.)
[15:08:59] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[15:09:27] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:10:49] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[15:18:33] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[15:19:29] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:24:05] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:26:05] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[15:30:34] *** Joins: jdm_ (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[15:31:06] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Ping timeout)
[15:31:25] *** jdm_ is now known as jdm
[15:31:40] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[15:32:08] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:32:08] *** flaper87 is now known as flaper87|afk
[15:33:53] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[15:39:36] *** Quits: bytewise (bytewise@moz-4A801D04.unitymediagroup.de) (Quit: Leaving)
[15:43:02] *** flaper87|afk is now known as flaper87
[15:47:20] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[15:49:34] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[16:04:57] *** jdm is now known as jdm|f00d
[16:17:46] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Input/output error)
[16:21:08] <strcat> dbaupp: maybe I'll do tuple structs next
[16:21:27] <strcat> I think there must be an incorrect ffi thing going on
[16:26:38] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[16:26:38] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/2VVyNA
[16:26:38] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[16:27:45] <engla> strcat: slices could be immediate too, right?
[16:27:55] <strcat> engla: not yet
[16:28:06] <strcat> the current limit I used is 1 word
[16:28:11] <engla> aha ok
[16:28:14] <strcat> I think for larger you have to query the target
[16:29:59] <cmr> Tuple structs use the same code as enums iirc
[16:31:06] <pnkfelix> acrichto: ping
[16:31:12] <strcat> cmr: not in terms of whether they're immediate
[16:31:15] <acrichto> pnkfelix: pong
[16:31:42] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[16:31:42] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/LnFNSg
[16:31:42] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[16:31:43] <pnkfelix> acrichto: do you have a pointer to a typical example invocation on the session value that ends up emitting a NOTE  ?
[16:31:44] <strcat> I fixed non-primitive immediates with destructors, and then made tuples and non-C-like enums immediate when they are <= size_of::<int>()
[16:31:46] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:31:46] <ghrust> 01[13rust01] 15bors pushed 14 new commits to 06auto: 02http://git.io/VvjHVg
[16:31:46] <ghrust> 13rust/06auto 14d9d1dfc 15Erick Tryzelaar: std: Replace num::IntConvertible with {To,From}Primitive
[16:31:46] <ghrust> 13rust/06auto 140feaccf 15Erick Tryzelaar: syntax: Add #[deriving(FromPrimitive)] syntax extension...
[16:31:46] <ghrust> 13rust/06auto 148f8cc06 15Erick Tryzelaar: syntax: swap from .span_fatal to .span_err in #[deriving(FromPrimitive)]
[16:31:48] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[16:31:55] <strcat> want to make it essentially entirely size based
[16:31:59] <strcat> except SIMD + newtypes
[16:32:08] <cmr> Ah
[16:32:08] <acrichto> pnkfelix: it should just be sess.span_note(span, msg) after you call span_err
[16:32:13] <pnkfelix> acrichto: (i.e. just some code for me to look at; something dbaupp or someone else said recently made me worry whether looking for it on a lint would be a wild goose chase.)
[16:32:33] <acrichto> sadly it's not possible with lint right now
[16:32:36] <pnkfelix> acrichto: okay, I'll give that shot.  I think I've figured out how to get a reference to the span of the static itself in here.
[16:32:43] <acrichto> pnkfelix: nice
[16:33:02] <pnkfelix> acrichto: this is what I do not understand: If its not possible with lint  but this is itself a lint that I have here (that is calling out to the session value...)
[16:33:12] <pnkfelix> acrichto: then what does it mean to say "it's not possible with lint" ?
[16:33:32] <acrichto> pnkfelix: oh well the problem is that when you say `add_lint` you may not actually end up emitting the message (depending on lint levels)
[16:33:56] <acrichto> pnkfelix: in theory the `add_lint` method could get extended to support NOTEs as well, something like `add_lint_note(id, span, errmsg, note_span, note_msg)
[16:33:58] <pnkfelix> acrichto: ah, so when you say "its not possible with lint", you mean the `add_lint` interface ?
[16:34:12] <acrichto> yes, just the current way it's implemented
[16:34:18] <acrichto> it's not like it's totally impossible
[16:35:22] <pnkfelix> acrichto: okay, I'll see what I come up with and throw it onto the same PR in a bit
[16:35:28] <acrichto> cool
[16:37:09] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[16:37:21] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[16:49:21] <acrichto> engla: do you have an example that fails on #9155 ?
[16:52:10] <engla> acrichto: my testcase works now
[16:52:20] <acrichto> engla: although you mentioned that some things still fail?
[16:52:38] <engla> yes, I didn't know that jensnockert had an issue open for that
[16:52:47] <acrichto> oh which one?
[16:53:08] <engla> I'm trying to find it
[16:55:44] <engla> I can reproduce this issue still https://github.com/mozilla/rust/issues/7899
[16:55:55] <engla> so returning generic newtypes from functions doesn't ICE anymore.
[16:56:25] <acrichto> engla: sweet, flagging that as needstest
[16:58:47] <engla> acrichto: oh some misunderstanding
[16:58:57] <acrichto> how so?
[16:59:05] <engla> this is fixed https://github.com/mozilla/rust/issues/9155
[16:59:10] <engla> the jensnockert issue is not
[17:02:53] *** jdm|f00d is now known as jdm
[17:08:25] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:11:38] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[17:11:39] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14f7ba18b to 14c44826f: 02http://git.io/N3iJvQ
[17:11:39] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[17:11:43] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[17:11:43] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/lugKCw
[17:11:43] <ghrust> 13rust/06auto 14c463772 15Luis de Bethencourt: extra: %U support in time::strftime...
[17:11:43] <ghrust> 13rust/06auto 141005b79 15Luis de Bethencourt: extra: %G, %g and %V support in time::strftime...
[17:11:43] <ghrust> 13rust/06auto 14aaeb760 15bors: auto merge of #9670 : luisbg/rust/strftime, r=alexcrichton
[17:11:45] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[17:24:24] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:32:44] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:39:32] *** Joins: tjc (tjc@4DBA3B45.81A2ADB4.284344F5.IP)
[17:39:32] *** ChanServ sets mode: +o tjc
[17:51:58] *** flaper87 is now known as flaper87|afk
[18:01:34] *** flaper87|afk is now known as flaper87
[18:21:52] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[18:21:52] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/lugKCw
[18:21:52] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[18:26:36] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[18:26:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/uNFzfQ
[18:26:36] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[18:26:38] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[18:26:38] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/TrIL3w
[18:26:38] <ghrust> 13rust/06auto 14b7fe83d 15Steven Fackler: Check enums in missing_doc lint...
[18:26:38] <ghrust> 13rust/06auto 14d01198a 15bors: auto merge of #9675 : sfackler/rust/lint, r=alexcrichton...
[18:26:39] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[18:41:45] *** Quits: tjc (tjc@4DBA3B45.81A2ADB4.284344F5.IP) (Quit: zzzzzzzzzz)
[18:43:26] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[18:58:29] *** Joins: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net)
[18:58:29] *** ChanServ sets mode: +o tjc
[19:01:47] <nmatsakis> olsonjeffery: ping
[19:11:40] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[19:11:40] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d01198a to 14aaeb760: 02http://git.io/N3iJvQ
[19:11:40] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[19:11:42] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:11:42] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/iEEBJQ
[19:11:42] <ghrust> 13rust/06auto 14ee114b6 15Daniel Micay: avoid alloca in with_overflow intrinsics...
[19:11:42] <ghrust> 13rust/06auto 14353578a 15bors: auto merge of #9680 : thestinger/rust/overflow, r=huonw...
[19:11:42] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:12:59] *** Quits: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Quit: Leaving.)
[19:12:59] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[19:21:41] *** Quits: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net) (Quit: zzzzzzzzzz)
[19:26:43] *** Joins: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net)
[19:26:43] *** ChanServ sets mode: +o tjc
[19:52:12] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[19:59:29] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:00:22] <tjc> another day, another wifi network that blocks SSH
[20:02:12] *** Quits: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net) (Ping timeout)
[20:02:23] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[20:02:23] <ghrust> 01[13rust01] 15catamorphism 04force-pushed 06try from 145b88a26 to 1480fa3a9: 02http://git.io/k471pw
[20:02:23] <ghrust> 13rust/06try 1480fa3a9 15Tim Chevalier: rustpkg: Make rustpkg tests stop comparing dates...
[20:02:23] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:02:28] *** Joins: tjc (tjc@151DA674.5B95CD0.284344F5.IP)
[20:02:28] *** ChanServ sets mode: +o tjc
[20:03:38] *** Quits: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:04:42] *** Joins: jensnock_ (jensnocker@moz-63C022A1.mobileonline.telia.com)
[20:05:34] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[20:11:39] <kmc> tjc: :/  running a sshd on port 443 can be useful in these situations
[20:11:58] <tjc> kmc: heh. I just pull out my phone and enable tethering, though :-)
[20:12:03] <kmc> :)
[20:12:08] <tjc> IDEK why networks block SSH
[20:12:14] <tjc> it's probably the safest thing they could leave enabled
[20:14:06] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:18:42] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[20:21:41] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:21:41] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/iEEBJQ
[20:21:41] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:24:36] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:26:38] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:26:38] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/VHjAnA
[20:26:38] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:26:41] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:26:41] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/-TmB3Q
[20:26:41] <ghrust> 13rust/06auto 14b7fe83d 15Steven Fackler: Check enums in missing_doc lint...
[20:26:41] <ghrust> 13rust/06auto 14371a7ec 15bors: auto merge of #9675 : sfackler/rust/lint, r=alexcrichton...
[20:26:42] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:28:47] <olsonjeffery> nmatsakis: pong
[20:36:39] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[20:41:54] *** Joins: steveklabnik (steveklabn@moz-A4CD1DAE.static.wiline.com)
[20:42:38] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:42:38] <ghrust> 01[13rust01] 15catamorphism 04force-pushed 06try from 1480fa3a9 to 1424d6a0b: 02http://git.io/k471pw
[20:42:38] <ghrust> 13rust/06try 1424d6a0b 15Tim Chevalier: rustpkg: Make rustpkg tests stop comparing dates...
[20:42:38] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:43:07] *** Quits: jensnock_ (jensnocker@moz-63C022A1.mobileonline.telia.com) (Input/output error)
[20:43:35] *** Joins: jensnockert (jensnocker@moz-63C022A1.mobileonline.telia.com)
[20:44:05] *** Quits: jensnockert (jensnocker@moz-63C022A1.mobileonline.telia.com) (Connection reset by peer)
[20:45:00] *** Quits: steveklabnik (steveklabn@moz-A4CD1DAE.static.wiline.com) (Ping timeout)
[20:46:38] *** Joins: nrc (nrc@13F2CEC5.7672369.D8E68FF6.IP)
[21:01:55] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[21:16:30] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:16:58] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[21:17:01] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[21:18:52] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[21:42:40] *** Quits: tjc (tjc@151DA674.5B95CD0.284344F5.IP) (Ping timeout)
[21:42:58] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[21:43:56] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[21:45:35] *** Joins: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net)
[21:45:35] *** ChanServ sets mode: +o tjc
[22:01:19] *** Quits: tjc (tjc@moz-A7F450FF.sfba.hfc.comcastbusiness.net) (Quit: zzzzzzzzzz)
[22:08:25] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[22:08:45] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[22:12:48] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[22:16:38] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:16:38] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/-TmB3Q
[22:16:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:19:53] *** Joins: tjc (tjc@moz-6C584174.ipnetworksinc.net)
[22:19:53] *** ChanServ sets mode: +o tjc
[22:21:33] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[22:21:33] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/4WKFgg
[22:21:33] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[22:21:36] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[22:21:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ChT28w
[22:21:36] <ghrust> 13rust/06auto 144dc3ff9 15Florian Gilcher: Add an implementation of FromStr for ~str and @str...
[22:21:36] <ghrust> 13rust/06auto 14a6c9f56 15bors: auto merge of #9681 : skade/rust/str-from-str, r=huonw...
[22:21:36] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[22:21:46] *** Quits: tjc (tjc@moz-6C584174.ipnetworksinc.net) (Ping timeout)
[22:23:40] *** flaper87 is now known as flaper87|afk
[22:31:37] *** Joins: jdm (jdm@moz-5D18647C.com)
[22:41:18] <Luqman> well linking with lld and #[no_std]; seems to work once you figure out the right incantations
[22:41:41] <Luqman> but the resulting binary segfaults if i try linking with libstd
[22:42:21] <cmr> Aw :(
[22:43:09] <aatch> Luqman, any information about the segfault? Or is it just mysterious?
[22:44:15] <Luqman> i think it's segfaulting somewhere in the dynamic loader
[22:44:35] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[22:44:35] <Luqman> gdb isn't much help
[22:44:36] <Luqman> #0  0x00007ffff77d932f in ?? ()
[22:44:37] <Luqman> #1  0x0000000000000000 in ?? ()
[22:44:39] <cmr> Heh
[22:44:59] <aatch> Luqman, well I guess that makes sense. strcat did mention that lld's dynamic linking is still a bit wobbly.
[22:45:03] <Luqman> hmm, maybe LD_DEBUG would be interesting
[22:45:10] <cmr> Can you try linking to a smaller library, too?
[22:45:38] <cmr> libstd is quite unusual in a number of ways.
[22:47:06] <Luqman> well, with no_std it links to the same set of libraries - libstd
[22:47:24] <cmr> Whu?
[22:47:35] <cmr> That seems quite counterintuitive to what no_std implies
[22:48:15] <Luqman> as in lib{rt,stdc++,c,pthread,rustrt,dl,m,gcc_s}
[22:49:05] <cmr> oh is - a minus sign, not a dash?
[22:49:21] <Luqman> yea :P
[22:53:31] <aatch> Luqman, well what about linking to a different rust library.
[22:53:50] <aatch> To see if that might be it?
[22:54:11] <cmr> Or even linking trivial C programs
[22:54:12] *** Joins: tjc (tjc@47C8A6B2.A033706C.284344F5.IP)
[22:54:12] *** ChanServ sets mode: +o tjc
[22:54:22] <cmr> Luqman: or you could share this knowledge of how to set it up :P
[22:55:23] <aatch> cmr, well it looks like linking to C libraries work, all of those are C/C++ as far as I know. The only think special about libstd is that it's a rust crate.
[22:56:34] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[22:56:34] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a6c9f56 to 14371a7ec: 02http://git.io/N3iJvQ
[22:56:34] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[22:56:35] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[22:56:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Kg6sDg
[22:56:35] <ghrust> 13rust/06auto 145409983 15Florian Gilcher: Clearer error message for external trait and type...
[22:56:35] <ghrust> 13rust/06auto 14158515e 15bors: auto merge of #9682 : skade/rust/clearer-error-message-for-external-type-and-trait, r=alexcrichton...
[22:56:35] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:58:14] <Luqman> cmr: these are the flags that worked for me on debian jessie https://gist.github.com/luqmana/d9dcf84580d25ddad542
[22:58:25] <Luqman> i just built lld from svn
[22:59:07] <tjc> is it just me or do we have significantly more rust-dev / github traffic in the past few days than usual?
[22:59:09] <tjc> it's definitely a good thing if so
[22:59:22] <aatch> tjc, rust-dev seems more active.
[22:59:25] <tjc> I'm just looking at my "forums" tab and going, "an email every 2 minutes?" :-)
[23:05:14] <Luqman> cmr: hmm, gdb's `info proc mapping` seems to indicate it's segfaulting somewhere in libstd
[23:07:55] *** Quits: tjc (tjc@47C8A6B2.A033706C.284344F5.IP) (Quit: zzzzzzzzzz)
[23:13:23] *** Joins: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP)
[23:13:59] *** Joins: tjc (tjc@47C8A6B2.A033706C.284344F5.IP)
[23:13:59] *** ChanServ sets mode: +o tjc
[23:15:12] <dbaupp> acrichto: are you rewriting lint atm?
[23:15:17] <acrichto> dbaupp: yes
[23:15:20] <acrichto> already done
[23:15:30] <acrichto> needs a rebase after sfacklers thing recently though I imagine
[23:16:34] <dbaupp> https://github.com/mozilla/rust/pull/9686 ? (it does need one)
[23:16:47] <acrichto> yep that's it
[23:18:55] *** Quits: tikue_ (tikue_star@86B7C416.EB08480C.689607DE.IP) (Ping timeout)
[23:21:08] *** Quits: tjc (tjc@47C8A6B2.A033706C.284344F5.IP) (Quit: zzzzzzzzzz)
[23:21:15] <olsonjeffery> nmatsakis: pong again
[23:25:48] <acrichto> dbaupp: rebased, currently building/testing
[23:26:13] <dbaupp> acrichto: did you notice that "rustdoc improvements" caused a 50MB mem regression? (I assume that it's actually the format changes a few commits before, which don't appear to be benched yet)
[23:26:19] <dbaupp> acrichto: ok
[23:26:33] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[23:26:33] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14158515e to 14371a7ec: 02http://git.io/N3iJvQ
[23:26:33] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[23:26:33] <acrichto> dbaupp: yeah there's no way that it caused the regression because I didn't even touch rustc code
[23:27:02] <dbaupp> acrichto: (btw, I'm not up to reviewing the lint stuff just yet.. maybe after i've had breakfast.)
[23:27:08] <acrichto> no worries :)
[23:29:40] <acrichto> error: declaration of `provided` shadows an enum variant or unit-like struct in scope
[23:29:45] <acrichto> now that's an error I've never seen before
[23:30:40] <dbaupp> rusti: struct Foo; static Foo: uint = 1;
[23:30:42] -rusti- pastebinned 8 lines of output: http://sprunge.us/iXOQ
[23:31:06] <acrichto> rusti: enum foo { bar, baz }; let bar = 3;
[23:31:07] -rusti- <anon>:7:36: 7:39 error: declaration of `bar` shadows an enum variant or unit-like struct in scope
[23:31:07] -rusti- <anon>:7          enum foo { bar, baz }; let bar = 3;
[23:31:07] -rusti-                                              ^~~
[23:31:07] -rusti- error: aborting due to previous error
[23:31:08] -rusti- application terminated with error code 101
[23:32:04] <dbaupp> acrichto: hvae you got a mem-bench for https://github.com/mozilla/rust/pull/9686 btw?
[23:32:37] <acrichto> dbaupp: not officially, just http://i.imgur.com/Hi1Oc8e.png for when cmr didn't run lint at all
[23:32:53] <acrichto> cmr: could you generate a graph for 9686 when you get a chance?
[23:33:25] * dbaupp should really get around to making `@isrustfastyet: bench` work
[23:33:39] <acrichto> that would be so awesome
[23:35:28] *** Joins: tjc (tjc@47C8A6B2.A033706C.284344F5.IP)
[23:35:29] *** ChanServ sets mode: +o tjc
[23:36:09] <benh> any more comments on https://github.com/mozilla/rust/pull/9674 (raw string literals)?
[23:36:15] <benh> Still not sure what I should do about pretty-printing
[23:38:58] *** Quits: tjc (tjc@47C8A6B2.A033706C.284344F5.IP) (Quit: zzzzzzzzzz)
[23:41:17] *** Joins: jdm_ (jdm@moz-3AA477DF.dsl.bell.ca)
[23:41:53] *** Quits: jdm (jdm@moz-5D18647C.com) (Ping timeout)
[23:43:35] <Eridius> benh: I think you should go with your final suggested thing
[23:43:41] <Eridius> i.e. leave ast::lit_str alone
[23:43:58] <benh> That's the current state of the PR, yeah.
[23:44:37] <benh> http://ix.io/8jy is some string literals as pretty-printed by it
[23:45:27] <Eridius> benh: you said it prints whichever is shorter. Does that include going raw if I have a bunch of \n\n\n?
[23:45:33] <benh> yes
[23:45:38] <Eridius> :/
[23:45:52] <Eridius> if possible you should only consider \\ and \" escapes for raw, because that's all that really matters
[23:46:09] <Eridius> after all you can embed a literal newline in a regular string too. It's just ugly
[23:47:53] <benh> I implemented the current metric because it's fairly unambiguous, but I agree that literal newlines are rather ugly, yeah.
[23:53:34] <acrichto> benh: I think it's probably mergeable as-is
[23:53:45] <acrichto> the pretty printer is nice to have, but no one considers it working
[23:53:56] <acrichto> it's in a state where it's easy-ish to get it working for raw strings though
[23:54:23] <acrichto> benh: although could you add a few more colorful tests?
[23:54:37] <acrichto> things like strings with unicode characters, newlines, tab characters, etc.
[23:54:46] <acrichto> just to make sure that everything is slurped up
[23:54:54] <benh> sure
[23:55:22] <acrichto> benh: nice job with this btw
[23:55:35] <benh> thank you :)
[23:55:56] <acrichto> benh: also you can do "//~^ ERROR:" to reference an error on the line above
[23:56:04] <acrichto> and //~^^^^ ERROR to reference 4 lines above
[23:56:13] <benh> won't help, if it's the line below it's part of the unterminated string literal, no?
[23:56:24] <benh> I'd need //~v ERROR:
[23:56:33] <acrichto> you have a semicolon on the last line though?
[23:56:41] <benh> That's not strictly functional
[23:56:52] <acrichto> couldn't the last line be "; //~^ ERROR"
[23:57:04] <acrichto> or does that change the error?
[23:57:09] <benh> that would be slurped up
[23:57:20] <benh> the semicolon is also just part of the string literal
[23:57:20] <acrichto> ok, then disregard me
[23:57:33] <benh> maybe I should remove the " ; for clarity
[23:58:20] <acrichto> oh I see
[23:58:27] *** Quits: jdm_ (jdm@moz-3AA477DF.dsl.bell.ca) (Quit: Lost terminal)
