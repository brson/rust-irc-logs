[00:00:56] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[00:01:11] *** Quits: Gabriel_7 (Gabriel@moz-2utsta.mtgr.92aj.0e35.2a01.IP) (Quit: Quitte)
[00:01:23] <mbrubeck> casual_llama: Marking dot_plot as #[inline(always)] makes your "slow" version run fast.
[00:02:22] <acrichto> naerbnic: you may be able to send a PR or fork it yourself to depend on it
[00:02:36] <acrichto> naerbnic: but if you have upstream deps depending on it then it'll be tougher (they'll also need to update)
[00:03:01] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[00:03:37] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[00:03:38] <mbrubeck> (on my test input)
[00:04:08] <casual_llama> mbrubeck: Trying it. :)
[00:04:25] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:04:28] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[00:04:50] *** Quits: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net) (Ping timeout: 121 seconds)
[00:05:29] *** Quits: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de) (Connection closed)
[00:06:07] *** Joins: DemonOne (Avi@moz-bhsph0.red.bezeqint.net)
[00:06:21] <naerbnic> Right
[00:06:34] <naerbnic> acrichto: And naturally crates.io will still point to the old one
[00:06:38] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[00:06:38] *** Joins: mechaxl (Adium@moz-bur2si.mn.comcast.net)
[00:06:53] <naerbnic> acrichto: Unless thereâ€™s some way to take over a project name under some circumstances
[00:07:09] *** Quits: ^BR (^BR___@moz-dpgokb.npub.i6d0.0e34.2a01.IP) (Connection closed)
[00:07:29] <acrichto> naerbnic: nah you'll need the previous owner to explicitly add you as an owner
[00:07:35] <mbrubeck> casual_llama: On your input however, the different is just noise. :/
[00:07:42] <acrichto> naerbnic: after that though you can just start publishing new versions
[00:07:46] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Quit: )
[00:07:56] <naerbnic> acrichto: It slightly worries me, given that project desertion is a concrete possibility
[00:07:58] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[00:08:16] <acrichto> naerbnic: in extenuating circumstances if no one can be reached I can manually transfer ownership
[00:08:40] <naerbnic> acrichto: Okay, so there is a big hammer which can (hopefully rarely) be used
[00:08:45] *** Quits: abaez (abaez@moz-pqg1ef.fios.verizon.net) (A TLS packet with unexpected length was received.)
[00:09:04] <acrichto> indeed!
[00:09:28] *** Quits: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be) (Ping timeout: 121 seconds)
[00:10:02] <naerbnic> acrichto: Okay. I have no need for this now (or hopefully ever), but it makes me a little less worried about the fragility of crates.io
[00:10:54] <acrichto> naerbnic: :)
[00:11:04] <casual_llama> mbrubeck: I get 18s for the version that reads in window_size and threshold from docopt and 11s for the version that hard-codes 10 and 7 into the function arguments. :/
[00:11:11] *** Quits: kkimdev (kkimdev@moz-54q.uh9.135.104.IP) (Ping timeout: 121 seconds)
[00:11:18] <casual_llama> When running on the input I linked.
[00:12:08] <mbrubeck> casual_llama: Interesting. I wonder if LLVM is doing loop unrolling or something in the constant case.
[00:13:13] *** Joins: dawehner (quassel@moz-ogb4dr.mullvad.net)
[00:13:14] *** Joins: rmdashrf (rmdashrf@moz-n1r.cr0.54.128.IP)
[00:13:21] <steveklabnik> okay, so i have a weird issue
[00:13:25] <casual_llama> 11s is as fast as my C++ version, so Rust can reach that speed in theory, but I'm not sure why it's freaking out about those two variables not being hard-coded.
[00:13:30] <steveklabnik> playpen works, but my code doesn't
[00:13:33] <steveklabnik> the type `collections::vec::Vec<std::sync::mutex::Mutex<bool>>` cannot be indexed by `isize`
[00:13:44] <steveklabnik> that's the error. but why can't a Vec be indexed? that makes no sense
[00:13:57] <panicbit> Hm. It took me quite some fiddeling in C++ to get the smart pointers right while implementing an immutable list. 'twas way too easy to do in Rust :P
[00:14:53] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[00:15:04] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[00:15:05] *** Quits: mechaxl (Adium@moz-bur2si.mn.comcast.net) (Quit: Leaving.)
[00:15:31] <mbrubeck> steveklabnik: need to `as usize` your index?
[00:15:35] <aatch> mbrubeck, it likely is unrolling the loop if it can see that the loop has a constant number of iterations and the loop itself isn't too big.
[00:15:35] <steveklabnik> oh
[00:15:36] <steveklabnik> usize
[00:15:37] <steveklabnik> not isize
[00:15:39] <steveklabnik> uuuugh
[00:15:55] *** Joins: Guest__ (textual@moz-6jfu02.dynamic.fusionbroadband.com)
[00:16:06] *** Joins: mechaxl (Adium@moz-bur2si.mn.comcast.net)
[00:16:07] <thelink2012> steveklabnik: I've asked for everyone before but no one answered, anyway the issue is yours... just trying to understand the workflow. The PR that fixes this issue https://github.com/rust-lang/rust/issues/24570 has been merged but the issue hasn't been closed? Is that intentional?
[00:16:12] <FreeFull> Negative indices don't make sense with how Index is implemented on Vec
[00:16:14] <steveklabnik> thanks mbrubeck 
[00:16:14] *** Quits: dawehner-afk (quassel@moz-hc7vub.mullvad.net) (Ping timeout: 121 seconds)
[00:16:18] *** Quits: mgottschlag (quassel@moz-a2d1qa.scc.kit.edu) (Ping timeout: 121 seconds)
[00:16:34] <steveklabnik> thelink2012: well, it didn't say it closes it, it just says cc
[00:16:40] <FreeFull> I wonder why it wasn't implemented so negative indices index from the right side
[00:16:44] <steveklabnik> you'd have to read the whole thing to see if it actually fixes it or is just a part
[00:17:08] *** Quits: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net) (Quit: Leaving.)
[00:17:16] *** Quits: dawehner (quassel@moz-ogb4dr.mullvad.net) (Ping timeout: 121 seconds)
[00:17:41] <thelink2012> steveklabnik: Ah ok, i.e. things could be improved?
[00:17:45] <aatch> mbrubeck, I've got a base conversion function for multiple-precision numbers, I have a branch where `base == 10`, but the code is actually the same as all the other cases, but it unrolls the inner loop.
[00:17:49] <steveklabnik> maybe. i haven't read the full issue, thelink2012 
[00:17:54] <steveklabnik> too busy at the moment
[00:18:03] <steveklabnik> usually people say 'fixes' and github closes automatically
[00:18:13] <steveklabnik> it's possible that it does and they just didn't write the magic word right
[00:18:25] *** Joins: kkimdev (kkimdev@moz-dj5rvn.59gh.vk5s.0000.2620.IP)
[00:19:09] <carlcolglazier> Hey steveklabnik, don't mean to bother you, but is there an ETA on when this section is going to be completed? http://doc.rust-lang.org/1.0.0-beta.4/book/deref-coercions.html I really want to read it. :)
[00:19:19] <steveklabnik> carlcolglazier: read nightly, it's there
[00:19:30] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[00:19:31] <steveklabnik> carlcolglazier: in general, i avhent' backported the book to beta yet
[00:19:36] <steveklabnik> that will happen late tuesday night
[00:19:50] <carlcolglazier> So it is! Thanks for the head's up.
[00:20:35] <steveklabnik> np
[00:20:36] <aatch> steveklabnik, oh, that reminds me, have you got any inline-assembly doc stuff done? I've been working with it recently and might attack the current docs.
[00:20:55] <steveklabnik> aatch: http://doc.rust-lang.org/nightly/book/inline-assembly.html is all there is, i'd love an updated doc
[00:21:36] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[00:21:51] <aatch> steveklabnik, cool. It'd been a while since I'd worked with it, so I was frustrated with the lack of information there. I've been reading the LLVM source for docs instead.
[00:21:55] <steveklabnik> :)
[00:22:08] *** Joins: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be)
[00:22:18] <aatch> (since there's even *less* documentation on the LLVM docs...)
[00:24:04] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[00:25:22] <aatch> There are some weird operand constraints though. Like "constant integer with value between 0-31"
[00:28:24] *** Quits: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP) (Client exited)
[00:28:27] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:29:14] *** chmanchester is now known as chmanchester|afk
[00:29:30] *** Quits: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be) (Ping timeout: 121 seconds)
[00:29:48] *** Quits: mkpankov (mkpankov@moz-afa.n6u.23.84.IP) (Ping timeout: 121 seconds)
[00:30:00] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[00:30:09] <Florob> aatch: Rather that, than explaining why `5u32 << 32` is 5 ;)
[00:30:17] *** Joins: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP)
[00:30:19] *** Quits: Brochacho (alberto@moz-b2ovno.cable.rcn.com) (Ping timeout: 121 seconds)
[00:30:37] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[00:31:12] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[00:31:37] *** Parts: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP) ()
[00:32:09] <woboats> Is there a way to get a flat list of all traits defined in std and marked stable?
[00:32:18] <aatch> playbot: 5u32 << 32 //probably panics...
[00:32:19] -playbot- <anon>:9:9: 9:19 error: bitshift exceeds the type's number of bits, #[deny(exceeding_bitshifts)] on by default
[00:32:20] -playbot- <anon>:9         5u32 << 32 //probably panics...
[00:32:20] -playbot- output truncated; full output at: http://bit.ly/1PD7XlJ
[00:32:25] <woboats> without grepping the source code, i mean
[00:32:30] <aatch> playbot: 5u32 << (30 + 2) //probably panics...
[00:32:31] -playbot- <anon>:9:9: 9:25 error: bitshift exceeds the type's number of bits, #[deny(exceeding_bitshifts)] on by default
[00:32:32] -playbot- <anon>:9         5u32 << (30 + 2) //probably panics...
[00:32:32] -playbot- output truncated; full output at: http://bit.ly/1IuVAJB
[00:32:38] <aatch> Bah, too clever!
[00:32:55] <niconii> playbot: let a = 2; 5u32 << (30 + a)
[00:32:57] -playbot- 5
[00:33:00] <niconii> oops.
[00:33:01] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[00:33:38] <niconii> guess there's no runtime checks then
[00:34:08] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[00:34:09] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:34:21] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[00:34:27] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[00:34:29] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[00:34:42] <niconii> playbot: let a = 2; 5u32 << (3000000 + a)
[00:34:43] -playbot- 20
[00:35:52] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[00:36:02] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[00:39:05] <aatch> Just double-checked the x86 reference, the count is masked to 5 or 6 bits. Interestingly I think this means that `(2u8 << 8) == 0`.
[00:39:34] <aatch> playbot, let a = 6; 2u8 << a+2
[00:39:35] -playbot- 2
[00:40:35] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[00:41:33] <aatch> Hmm, either LLVM is masking it or the manual is leaving out information for the byte and word versions of the instruction.
[00:41:40] <Florob> aatch: C makes any shift > the bit-width of an integer undefined. I would not be surprised if LLVM inherits that semantics and optimizes based on it (completely random guess)
[00:41:53] *** Joins: mkpankov (mkpankov@moz-i0b.3mh.23.84.IP)
[00:42:07] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[00:42:21] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[00:43:26] <aatch> Florob, good point.
[00:43:51] <Florob> aatch: also good guess. The LLVM LangRef says it's undefined
[00:44:10] *** Joins: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be)
[00:44:53] *** Quits: mechaxl (Adium@moz-bur2si.mn.comcast.net) (Quit: Leaving.)
[00:45:12] *** Joins: peacememories_ (peacememori@moz-03ni57.dynamic.surfer.at)
[00:45:54] *** Quits: spider-mario (spidermario@moz-kri.mrk.162.37.IP) (Ping timeout: 121 seconds)
[00:45:58] *** Quits: peacememories (peacememori@moz-03ni57.dynamic.surfer.at) (Connection closed)
[00:46:32] *** Joins: xificurC_ (xificurC@moz-3u7gmd.chello.sk)
[00:46:39] *** Quits: xificurC (xificurC@moz-3u7gmd.chello.sk) (Ping timeout: 121 seconds)
[00:47:20] *** Quits: jfredett1 (Adium@moz-a9ilmn.fios.verizon.net) (Quit: Leaving.)
[00:47:56] <jgallagher> is it possible to get something that acts like a thread ID?
[00:49:24] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:49:29] <panicbit> Ugh. Does #[derive(Clone)] automatically constrain struct type parameters to Clone?
[00:49:34] <panicbit> Even when not needed?
[00:49:40] <steveklabnik> it is needed
[00:49:41] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[00:49:41] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:49:42] <steveklabnik> but yes
[00:50:02] <niconii> aatch: it looks like the IR output by rust does the masking explicitly
[00:50:12] <panicbit> steveklabnik: Is it really? If my only struct member is something like Rc<T>, why does T need a Clone constraint?
[00:50:18] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:50:34] <aatch> steveklabnik, it's not always needed. There was talk about improving derive to be smarter about that kind of thing.
[00:50:40] <aatch> Not sure what came of it though.
[00:50:44] <XMPPwocky> +1 to it being obnoxious
[00:51:06] <steveklabnik> maybe it isn't, i thought it was
[00:51:13] <panicbit> e.g.: http://is.gd/ZmiS8A
[00:51:45] <steveklabnik> hm, so _that_ seems different
[00:51:59] <steveklabnik> Rc<T> should be clone, but i'm not sure why T needs to be clone, on the basis of deriving
[00:52:09] <steveklabnik> i thought you meant Rc itself
[00:52:11] <steveklabnik> not the inner T
[00:52:17] <steveklabnik> anyway, back to tutorials
[00:52:21] <panicbit> :P
[00:52:23] <steveklabnik> i just finished dining philosopher, gotta writ it up
[00:52:25] <steveklabnik> write :)
[00:52:32] <niconii> aatch: also, it looks like overlong bitshifts do panic, but only with no optimizations (a la arithmetic overflow)
[00:53:03] *** Quits: }ls{ (uhelp@moz-hfv9aa.dip0.t-ipconnect.de) (Quit: User terminated by real life interrupt)
[00:53:23] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Quit: )
[00:55:27] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[00:55:41] *** Joins: vegai (vegai@moz-uj3bb6.dhcp.inet.fi)
[00:57:33] <bstrie> panicbit: derive(Clone) works by calling .clone recursively on all struct members
[00:58:20] <panicbit> bstrie: Sure. But that still doesn't require T implementing Clone in all cases
[00:58:37] <reem> panicbit: right, but derive doesnâ€™t know that (and itâ€™s non-trivial in some cases)
[00:58:41] *** Joins: insaneinside (user@moz-dgv9mb.customer.broadstripe.net)
[00:58:45] <panicbit> Ok
[00:58:48] <reem> you have to inspect the Clone impl for all your fields
[00:58:50] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[00:58:51] <reem> and see what those bounds are
[00:58:53] <reem> and try to replicate them
[00:59:15] <reem> e.g. see that itâ€™s impl<T> Clone for Rc<T> not impl<T: Clone> Clone for Rc<T> 
[00:59:18] *** Joins: Church (hatter@moz-e031bf.dyn.optonline.net)
[01:00:01] <insaneinside> Is there a way to move out of `self` in a Drop impl?
[01:00:02] *** Quits: Ralith (ralith@moz-miv.lne.251.63.IP) (Ping timeout: 121 seconds)
[01:00:07] *** Quits: thelink2012 (Mibbit@moz-4ob.ov3.214.186.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:00:09] <XMPPwocky> insaneinside: safely?
[01:00:13] <XMPPwocky> std::mem::swap, kinda
[01:00:14] <reem> insaneinside: use an Option
[01:00:39] <reem> either mem::{swap, replace} or Option with Option::take (which is a mem::replace)
[01:00:53] *** Joins: spider-mario (spidermario@moz-ls3.trt.160.37.IP)
[01:03:12] *** Joins: basicdays (basicdays@moz-f3e.15a.49.72.IP)
[01:04:20] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[01:04:22] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:04:46] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:04:59] *** Joins: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP)
[01:05:13] *** Quits: mcoffee (mcoffee@moz-a1c74g.vc.shawcable.net) (A TLS packet with unexpected length was received.)
[01:05:37] *** Quits: lukes386 (uid17144@moz-uaqtm6.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[01:05:51] <panicbit> reem, bstrie: Then how about not adding the Copy constraint at all? Just let the developer add it.
[01:05:58] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:06:16] <reem> panicbit: because then derive would not be useful for nearly any generic structs
[01:06:22] <reem> most of the time T: Clone is correct
[01:06:30] <reem> itâ€™s just in some cases you have to be smarter than derive
[01:07:06] <reem> (and it really isnâ€™t very hard to just delete the derive and write your own more general impl, itâ€™s even backwards compatible if it really is more general)
[01:07:24] <panicbit> :/
[01:07:31] *** Joins: zzmp (zzmp@moz-6s3om4.12ul.lrlq.5500.2604.IP)
[01:07:48] <FreeFull> Rc's clone has to be smarter anyway, since it updates a counter
[01:07:52] *** Quits: santiago (santiago@moz-8th.j2e.167.12.IP) (Quit: Computer has gone to sleep.)
[01:07:55] <reem> e.g. here is a place where we are smarter: https://github.com/reem/rust-typemap/blob/master/src/lib.rs#L32-L37
[01:08:04] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[01:08:11] <reem> FreeFull: theyâ€™ve got a struct with an Rc in it, and derive is adding a Clone bound to the generic in the Rc, even though itâ€™s not necessary
[01:08:47] <panicbit> I don't see how having to add the Clone constraint manually would hamper the usefullness of deriving…
[01:09:00] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:09:00] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[01:09:58] *** Joins: GGist (Mibbit@moz-st7v59.wa.comcast.net)
[01:09:59] <panicbit> You just have to add another 7 characters. And in cases like mine you can ommit a whole trivial impl.
[01:10:58] <insaneinside> Style question:  contrary to what I would have expected, the Cargo-built test suite for my lib seems to work fine without any of the test (sub)modules being public;  should I take this as a hint and not use `public` on test modules, or should they be public anyway?
[01:11:03] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[01:11:07] *** Quits: zzmp (zzmp@moz-6s3om4.12ul.lrlq.5500.2604.IP) (A TLS packet with unexpected length was received.)
[01:11:26] <FreeFull> reem: Yeah, I see
[01:11:44] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[01:11:47] <reem> panicbit: well, how would you annotate them (warning: I have to run off soon, so I just abruptly stop responding thatâ€™s what happened)
[01:12:01] *** Joins: nstoddard_ (nstoddard@moz-ce50ao.dhcp.embarqhsd.net)
[01:12:08] <huon> insaneinside: private is fine/normal
[01:12:13] *** Quits: lov2cod (Adium@moz-u5q1mr.o38v.k60l.0119.2620.IP) (Ping timeout: 121 seconds)
[01:12:17] *** Quits: nstoddard (nstoddard@moz-ce50ao.dhcp.embarqhsd.net) (Connection closed)
[01:12:23] <panicbit> Huh? #[derive(Clone) struct MyClonable<T: Clone> {…}
[01:12:25] <panicbit> @reem
[01:12:27] *** nstoddard_ is now known as nstoddard
[01:12:39] <reem> panicbit: well I donâ€™t want T: Clone all the time
[01:12:52] <panicbit> reem: Wellt that's the point!
[01:12:54] <reem> panicbit: in the case I linked, I very much do not want Box<A>: Clone to be a bound on the type itself
[01:12:55] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[01:13:04] <reem> panicbit: I only want it *on the Clone impl*
[01:13:12] <panicbit> Oh
[01:13:15] <panicbit> Yeah I see
[01:13:27] <panicbit> reem: Thanks, that makes sense
[01:13:44] <reem> I actually usually avoid bounds on struct definitions unless Iâ€™m doing unsafe
[01:13:48] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[01:13:54] <aatch> deriving exists to avoid boilerplate. Sometimes that isn't possible.
[01:14:06] <reem> since itâ€™s just strictly less flexible then adding the specific bounds needed on impl blocks
[01:14:08] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[01:14:13] <XMPPwocky> i always put bounds on struct definitions, then i'm like "wait, i also have to put it on the impls, this is silly"
[01:14:20] *** Quits: Church (hatter@moz-e031bf.dyn.optonline.net) (Ping timeout: 121 seconds)
[01:14:36] <XMPPwocky> reem: although you *do* avoid the bad error messages when a bound isn't met
[01:15:02] <bstrie> I didn't even know that rust allowed you to put bounds on struct definitions
[01:15:04] <reem> true, but Iâ€™ve gotten pretty good at interpreting rustc errors so I rarely hit a genuinely confusing case anyway
[01:15:16] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[01:15:31] *** Joins: v21 (vee@moz-nsd.kug.204.223.IP)
[01:15:44] <XMPPwocky> bstrie: it's semi-recent
[01:15:46] <huon> bstrie: it's actually now required, to work with destructors and dropck
[01:15:47] <aatch> Well you need to be able to put bounds on to to `T: ?Sized`
[01:15:51] <XMPPwocky> like, i think it happened around alpha
[01:16:19] <bstrie> huon: I know we used to allow it but ignored the bounds entirely, or something... do we actually enforce those bounds now?
[01:16:42] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[01:16:43] <reem> they are enforced
[01:16:45] <insaneinside> you know what's confusing?  ...this: "error: internal compiler error: Encountered early bound region when generalizing: ReEarlyBound(4148, TypeSpace, 0, 'a)"
[01:17:03] <XMPPwocky> an early bound region was encountered while generalizing, what's to confuse?
[01:17:05] <XMPPwocky> /s
[01:17:05] <reem> insaneinside: hehe, well thatâ€™s actually a bug in the compiler, not just a compiler error
[01:17:16] <casual_llama> Is it possible to check for overlap with match ranges?
[01:17:21] <insaneinside> reem: yeah, i've been around here a few months. ;)
[01:17:22] *** Joins: Church (hatter@moz-e031bf.dyn.optonline.net)
[01:17:37] <aatch> insaneinside, that's not likely to make sense to anybody that hasn't worked on the compiler.
[01:17:43] <bstrie> casual_llama: what kind of overlap?
[01:18:10] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Ping timeout: 121 seconds)
[01:18:24] <casual_llama> bstrie: For instance, 0...10 coming before a case handing 3.
[01:18:41] <insaneinside> aatch: I'd actually love to try doing that, but my workstation is such a POS that it takes 2+ hours to compile rustc + libraries from source. :D
[01:18:53] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:19:24] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:20:05] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:20:28] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[01:20:57] <bstrie> casual_llama: match will always take the first arm that matches, I think what you're asking for is fallthrough :) can you just put the 0...10 arm first?
[01:21:09] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[01:21:42] <casual_llama> bstrie: Actually I meant something like 0...10 and 3...12. There's overlap in the ranges there, and I'm actually matching on an opcode, so my ranges aren't always pretty.
[01:21:58] <casual_llama> So sometimes overlap isn't obvious but it would be nice to know when there's overlap.
[01:22:13] <casual_llama> E.g. 0b01000000...0b01101101 | 0b01111111
[01:22:39] *** Joins: kline (Mibbit@moz-qgr.80e.26.199.IP)
[01:22:51] <bstrie> casual_llama: is it that you want to execute both arms if they would both match?
[01:22:59] *** Joins: xificurC (xificurC@moz-3u7gmd.chello.sk)
[01:22:59] *** Quits: xificurC_ (xificurC@moz-3u7gmd.chello.sk) (Connection closed)
[01:23:01] *** Joins: kanetkarster (Mibbit@moz-ave.plf.133.75.IP)
[01:23:05] *** Quits: peacememories_ (peacememori@moz-03ni57.dynamic.surfer.at) (Connection closed)
[01:23:12] <insaneinside> casual_llama: ...there's overlap there?
[01:23:13] *** Joins: peacememories (peacememori@moz-03ni57.dynamic.surfer.at)
[01:23:24] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:23:59] *** Quits: kanetkarster (Mibbit@moz-ave.plf.133.75.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:24:03] <casual_llama> bstrie: My issue is that I made a few errors when implementing some of the instructions I'm working on, and knowing that there was overlap there would've led me to find the bugs much faster.
[01:24:07] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:24:34] <casual_llama> I'm just wondering about existence rather than what I want it to execute because I'm expecting all ranges to be disjoint; the problem originates only from some of my mistakes. :)
[01:25:07] *** Joins: mechaxl (Adium@moz-bur2si.mn.comcast.net)
[01:25:11] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Ping timeout: 121 seconds)
[01:25:20] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:25:46] <casual_llama> insaneinside: Excerpt from some of the code http://is.gd/V3V30d
[01:25:49] *** Joins: KDr2_ (KDr2@moz-qoc.38e.144.219.IP)
[01:25:58] *** Quits: eat_multi (daniel@moz-j2sp1t.cable.virginm.net) (Quit: leaving)
[01:26:45] <insaneinside> but
[01:26:49] <insaneinside> playbot: (0b01000000..0b01101101, 0b01111111)
[01:26:50] -playbot- (64..109, 127)
[01:27:21] <insaneinside> casual_llama: but you're talking about the *separate* arms of the match statement.
[01:27:27] <casual_llama> It was an example of what some of my ranges looked like so as to show that visual inspection is not sufficient.
[01:27:37] <kline> Hey, I
[01:27:43] <insaneinside> kline: me too!
[01:27:45] <insaneinside> :)
[01:27:51] <kline> haha, oops
[01:28:12] *** Quits: peacememories (peacememori@moz-03ni57.dynamic.surfer.at) (Connection closed)
[01:28:24] *** Quits: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[01:28:35] <aatch> playbot, match 0 { 1..5 => { } 4 => { } _ => { } }
[01:28:35] -playbot- <anon>:9:20: 9:22 error: expected one of `...`, `=>`, `if`, or `|`, found `..`
[01:28:36] -playbot- <anon>:9         match 0 { 1..5 => { } 4 => { } _ => { } }
[01:28:36] -playbot- output truncated; full output at: http://bit.ly/1GZUZd7
[01:28:39] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[01:28:51] <aatch> playbot, match 0 { 1...5 => { } 4 => { } _ => { } }
[01:28:53] -playbot- <anon>:9:32: 9:33 error: unreachable pattern [E0001]
[01:28:53] -playbot- <anon>:9         match 0 { 1...5 => { } 4 => { } _ => { } }
[01:28:53] -playbot- output truncated; full output at: http://bit.ly/1J7AsIk
[01:29:00] <bstrie> it might make sense to have a lint for overlapping ranges
[01:29:03] <kline> I'm interested in using Rust for embedded development. I was wondering whether there's a way to use rust without indirect calls (vtables) and whether, having done so, you'd still have a lot of the functionality left.
[01:29:07] <aatch> casual_llama, so it'll catch cases like that ^^
[01:29:08] *** Joins: m_kato (m_kato@moz-86b4bs.bitcat.net)
[01:29:10] *** Quits: mechaxl (Adium@moz-bur2si.mn.comcast.net) (Quit: Leaving.)
[01:29:27] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[01:29:30] *** Joins: mechaxl (Adium@moz-bur2si.mn.comcast.net)
[01:29:31] <insaneinside> casual_llama: if *I* were you, I'd consider using named constants instead of binary literals there -- the binary literals contribute quite a bit of visual noise.
[01:29:35] <casual_llama> aatch: Yeah, I corrected my simple example. :P The reason I found out about some of my overlaps at all is that I got errors about unreachable patterns.
[01:29:36] <bstrie> kline: the vast majority of rust libraries don't use virtual dispatch
[01:29:46] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[01:29:46] *** Joins: senderista (tdbaker@moz-6nsjqs.wa.comcast.net)
[01:30:12] <Havvy> kline:  The only way you get a vTable is to use a trait as a type directly.
[01:30:24] <aatch> casual_llama, well currently the check is only for redundant patterns, not too-broad ones.
[01:30:51] <bstrie> kline: that said, why is it important to forbid virtual dispatch entirely on an embedded platform?
[01:30:52] <Havvy> e.g. `fn foo (myTrait: Box<MyTrait>)`
[01:30:53] <aatch> kline, virtual dispatch is actually a small part of Rust's functionality.
[01:30:57] *** Quits: mechaxl (Adium@moz-bur2si.mn.comcast.net) (Quit: Leaving.)
[01:31:05] *** Joins: mechaxl (Adium@moz-bur2si.mn.comcast.net)
[01:31:22] <aatch> kline, we didn't even really have a good implementation of it until relatively recently.
[01:31:22] <Havvy> This does *not* use a vTable:  `fn foo<T: MyTrait>(myTrait: T)`
[01:31:25] <bstrie> kline: see http://blog.rust-lang.org/2015/05/11/traits.html
[01:31:36] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[01:31:40] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:31:44] <casual_llama> insaneinside: I can't think of a naming scheme for a CPU instruction set that would be any better than having binary literals. That's why I was hoping for some sort of overlap check to save on debug time.
[01:31:54] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:32:03] <kkimdev> Q: in rust, how can I express a function that "takes two int arrays by borrowing that has the same length" in the signature?
[01:32:07] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[01:32:11] <XMPPwocky> kkimdev: you don't :( :( :(
[01:32:16] <kkimdev> XMPPwocky, :(
[01:32:21] <XMPPwocky> you'd need a runtime check
[01:32:21] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:32:37] <XMPPwocky> that'll probably get optimized out, but still
[01:32:50] <kkimdev> or duplicate by macro for all the possible fixed size?
[01:33:01] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:33:04] <Havvy> Duplicate via Macro would work.
[01:33:12] <insaneinside> XMPPwocky: wouldn't this be possible if rustc supported generics over integer-ish things?
[01:33:22] <Havvy> insaneinside:  It's on the todo list.
[01:33:33] <Kurufu> So im trying to compile a little wrapper of a C library, and the rust wrapper comes out to a whopping 175MB. Everything says that this cant really be reduced unless I use #![no_std], is this still the case?
[01:33:41] <kkimdev> Havvy, nice
[01:33:44] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[01:34:04] <aatch> Kurufu, what's the output file? .so or .rlib?
[01:34:08] <Kurufu> rlib
[01:34:16] <aatch> Kurufu, yeah, so that's statically linked.
[01:34:40] <XMPPwocky> LTO reduces that, iirc
[01:34:50] <Kurufu> Is there an option to dynamically link to the rust libraries?
[01:34:59] <kline> bstrie, Havvy, aatch: awesome, thanks! I want to avoid spending those cycles reading from the vtable :) and breaking pipelining/branch prediction/whatever my dsp supports. And the person at my company who I'm considering pitching it to is concerned about that in particular.
[01:35:02] <aatch> Kurufu, yep, just set the crate_type to dylib
[01:35:03] * insaneinside looks forward to the day when Rust can optimize to the equivalent of his clever C++ combinations of templates and `constexpr` data.
[01:35:27] <kline> I probably should have looked up "monomorphization" one of the last 1,000 times I saw it mentioned ;)
[01:35:42] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[01:35:45] *** Joins: scemin (scemin@moz-fb4rie.securitycompass.com)
[01:35:53] <XMPPwocky> kline: well, we also should have done a butter job explaining it
[01:35:55] <XMPPwocky> better job, even
[01:35:58] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[01:35:58] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:36:10] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[01:36:11] <insaneinside> Quote of the week! ^^^
[01:36:31] <aatch> kline, yeah, it's pretty hard to accidentally have virtual calls in Rust.
[01:36:32] <Kurufu> aatch: I guess I will have to compile the C library as a dynamic library as well correcT?
[01:36:34] *** Joins: Lee1092 (uid13277@moz-p2e1ii.brockwell.irccloud.com)
[01:36:53] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[01:36:59] <aatch> Kurufu, well normally the C library is already available as a dynamic library.
[01:37:24] <kline> I haven't been paying close attention to rust for a couple of months ... hope my knowledge isn't totally obsolete now
[01:37:34] <Kurufu> This is an unfortunate little library that wants to be statically linked by default.
[01:37:41] <insaneinside> hrm.  rustdoc: does it support numbered lists?
[01:37:41] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:37:42] <XMPPwocky> kline: the language hasn't changed much
[01:37:47] <steveklabnik> insaneinside: yeah, it's just markdonw
[01:37:50] <steveklabnik> markdown
[01:37:51] <XMPPwocky> kline: the libraries are nigh unrecognizable
[01:37:51] <tmtwd> http://pastebin.com/3SeG5rjz can someone see why line 10 doesn't work in this program?
[01:37:52] <Kurufu> Ill go ahead and recompile it since ther is really no reason for it to be staticly linked.
[01:38:08] <insaneinside> steveklabnik: cool, thanks
[01:38:09] <XMPPwocky> Kurufu: also, enable LTO if you can, iirc that reduces the size of a staticlib dramatically
[01:38:20] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:38:25] <aatch> Kurufu, I'm surprised it's so bit though. I've got a debug-built .rlib here that comes to ~0.5M
[01:38:30] <aatch> so big*
[01:38:41] <kline> aatch: cool, that was the biggest concern. I really, really do not want to use the hardware vendor's limited version of C
[01:38:42] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[01:38:50] <XMPPwocky> tmtwd: origin.next is an Option<Box<Node>>
[01:38:59] <Kurufu> Well the C library is 14MB but yea 175MB was a bit much for me.
[01:39:00] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[01:39:24] *** Quits: mechaxl (Adium@moz-bur2si.mn.comcast.net) (Quit: Leaving.)
[01:39:53] <Kurufu> and I have libc as an extern crate so that is probably getting compiled in as well.
[01:40:09] <XMPPwocky> well libc is just *bindings* to the actual libc
[01:40:17] <XMPPwocky> basically a glorified header file
[01:40:46] <kline> separate question ... is anyone working on a computer vision / image processing library?
[01:41:00] <aatch> So an optimised build of my lib comes to ~190KB`
[01:41:12] <Kurufu> Also im not finding info on LTO, can you point me in the right direction?
[01:41:16] *** Joins: mahdi (mahdi@moz-hbu.u27.244.151.IP)
[01:41:23] <aatch> That said, I'm using pretty much nothing from the standard libraries.
[01:41:28] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[01:41:33] *** Joins: qard (qard@moz-nekdha.vc.shawcable.net)
[01:41:47] *** Joins: mechaxl (Adium@moz-bur2si.mn.comcast.net)
[01:42:00] <kline> i'm looking to do some image processing on a dsp in about 128KB
[01:42:15] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[01:42:17] <bstrie> kline: no idea about computer vision, what kind of image processing?
[01:42:26] <XMPPwocky> does llvm target that DSP?
[01:42:44] *** Quits: scemin (scemin@moz-fb4rie.securitycompass.com) (Client exited)
[01:42:59] <bstrie> kline: you can try a search at https://crates.io/search?q=image
[01:43:06] <aatch> Just a little bit of I/O for error messages, the heap-allocation functions and intrinsics (which aren't technically anywhere).
[01:43:09] <XMPPwocky> one issue with Rust on memory-constrained platforms is it doesn't handle the "big global pre-allocated chunks of memory" thing very well
[01:43:14] <XMPPwocky> because of aliasing rules
[01:43:21] <XMPPwocky> so you probably end up needing to put everything on the stack
[01:43:40] <aatch> XMPPwocky, it handles it fine, just not in safe code.
[01:43:46] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[01:43:46] <XMPPwocky> sure
[01:43:51] <aatch> Aliasing rules don't apply to raw pointers.
[01:44:11] <XMPPwocky> basic ergonomic tools don't work with raw pointers
[01:44:14] <XMPPwocky> autoderef, for example
[01:44:44] <XMPPwocky> (*(*(*INTERFACES).globals).core).timefix = 0.0;
[01:45:15] <XMPPwocky> ^ actual code from something that used raw pointers heavily
[01:45:18] *** Quits: mahdi (mahdi@moz-hbu.u27.244.151.IP) (Ping timeout: 121 seconds)
[01:45:33] *** Quits: dmac (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[01:45:42] <kline> bstrie: not sure yet how much can go on the dsp... but, feature finding and correlation, certainly, ideally a visual odometry system, depth sensor / point cloud processing, ...
[01:45:48] *** Quits: nowhere_man (pierre@moz-3dsouk.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[01:45:59] *** Joins: nowhere_man (pierre@moz-onc9gn.abo.wanadoo.fr)
[01:46:43] <insaneinside> kline's definitely building the next generation of new robotic overlords.
[01:46:45] * insaneinside wants in.
[01:47:02] <kline> bstrie: minimum would be something like SIFT
[01:47:11] *** Parts: krzysz00 (krzys@moz-959vup.dorm.utexas.edu) ()
[01:47:46] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[01:48:10] <kline> insaneinside: no robots in this project, unfortunately
[01:48:44] *** Joins: JagaJaga (JagaJaga@moz-gd9.blu.205.109.IP)
[01:48:49] <bstrie> kline: even if libraries for those exist, they sound sufficiently complex that I wouldn't think they'd be very mature yet. are there C libraries that you can link to?
[01:48:57] *** Joins: chromatome (chromatome@moz-2eks30.mc.videotron.ca)
[01:49:09] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[01:49:19] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[01:49:28] <kline> bstrie: for some of it, but they're all way too malloc-heavy
[01:50:17] <kline> bstrie: e.g., opencv, pcl, and things based on those libs
[01:50:44] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[01:51:34] <Kurufu> XMPPwocky: LTO doesnt work for anything but staticlib, and binary. I tried it out and produced an even larger library than just building the rlib lol.
[01:52:11] <XMPPwocky> lol
[01:52:38] *** Joins: lurk_ (chatzilla@moz-qm19cj.in.comcast.net)
[01:52:53] <bstrie> kline: are you aware that rust has a mode that prohibits dynamic allocation entirely?
[01:53:38] <kline> i was thinking of something like a main function that has all of the program's major structs as local variables that are then passed to subroutines as references, with lots of inlining
[01:54:01] <kline> bstrie: nope!
[01:54:06] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[01:54:15] <XMPPwocky> rust has a mode that prohibits dynamic allocation entirely?
[01:54:35] <aatch> Well, a lint. And I don't think it catches use of allocation functions
[01:54:53] *** Quits: Guest__ (textual@moz-6jfu02.dynamic.fusionbroadband.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:55:02] *** Joins: mcoffee (mcoffee@moz-vkd.1ov.245.207.IP)
[01:55:15] <bstrie> aatch: it's more than a lint, if you go no_std and don't implement the allocation lang items :P
[01:55:35] <bstrie> kline: see http://doc.rust-lang.org/nightly/book/no-stdlib.html
[01:55:36] *** Quits: Outlander (Mr@moz-tiv139.internode.on.net) (Quit: leaving)
[01:55:51] <aatch> bstrie, true. The compiler will yell at you for not having the language items.
[01:55:55] <bstrie> kline: the lower half has information on using the `core` crate, which is defined as the subset of the stdlib which can exist without dynamic allocatin
[01:56:16] <aatch> Hell, the actual allocations don't even live in core.
[01:56:24] <aatch> They live in liballoc
[01:56:31] <aatch> allocation functions*
[01:56:38] <bstrie> along with Rc, weirdly
[01:56:55] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:57:04] <XMPPwocky> Rc allocates
[01:57:27] <bstrie> right, but does that doesn't make its location intuitive...
[01:57:46] <XMPPwocky> mm
[01:58:12] <aatch> I guess it's because Box lives there too?
[01:59:08] *** Quits: lurk_ (chatzilla@moz-qm19cj.in.comcast.net) (Quit: ChatZilla 0.9.91-rdmsoft [XULRunner 32.0.3/20140923175406])
[01:59:21] <aatch> And Arc. So all the smart pointers are in the same place.
[01:59:54] *** Quits: capcar (mathieu@moz-mi55kn.mc.videotron.ca) (Ping timeout: 121 seconds)
[02:01:26] *** Quits: jacwodjo (jacwodjo@moz-mikldi.static-ro.twistednetworks.net) (Connection closed)
[02:01:28] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[02:01:40] *** Joins: irobevjod (irobevjod@moz-mikldi.static-ro.twistednetworks.net)
[02:04:14] *** Joins: mkpankov` (mkpankov@moz-qu8.0jj.23.84.IP)
[02:05:42] *** Quits: mkpankov (mkpankov@moz-i0b.3mh.23.84.IP) (Ping timeout: 121 seconds)
[02:07:11] *** Quits: qrlpx_ (smuxi@moz-n7t.3nb.211.95.IP) (Ping timeout: 121 seconds)
[02:07:13] *** Quits: qrlpx (quassel@moz-n7t.3nb.211.95.IP) (Ping timeout: 121 seconds)
[02:07:26] *** Joins: narann (narann@moz-j49beg.dsl.netrevolution.com)
[02:07:46] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[02:07:59] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[02:08:30] *** Quits: senderista (tdbaker@moz-6nsjqs.wa.comcast.net) (Client exited)
[02:09:02] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[02:09:16] *** Joins: senderista (tdbaker@moz-6nsjqs.wa.comcast.net)
[02:09:25] *** Joins: raph (raph@moz-bdbdrf.3v27.vk5s.0000.2620.IP)
[02:09:59] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[02:10:03] *** Quits: mcoffee (mcoffee@moz-vkd.1ov.245.207.IP) (Ping timeout: 121 seconds)
[02:10:59] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[02:11:50] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[02:12:06] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:12:44] *** Joins: calatalee (Mibbit@moz-qgr.80e.26.199.IP)
[02:12:44] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[02:12:46] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[02:13:25] *** Quits: kline (Mibbit@moz-qgr.80e.26.199.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:13:43] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[02:13:50] <noustuff> Maybe a dumb question, but is the guessing game at http://doc.rust-lang.org/book/guessing-game.html supposed to work with rustc 1.0.0-beta.4 ? Output I'm seeing is at http://is.gd/g4ghwJ
[02:14:05] *** calatalee is now known as kline
[02:14:24] *** Quits: zz_kimundi (kimundi@moz-krnn6s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:14:42] <steveklabnik> noustuff: hmm, it's supposed to. are you using rand from crates.io like it describes?
[02:14:44] *** Quits: choplin (choplin@moz-rveo2m.t6mc.g9m6.001a.240d.IP) (Connection closed)
[02:14:49] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Connection closed)
[02:15:09] <noustuff> @steveklabnik yes but version `0.3.8`
[02:15:11] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[02:15:20] <steveklabnik> yeah, makes sense
[02:15:26] <steveklabnik> that's the latest version
[02:15:30] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[02:15:30] <steveklabnik> it hasn't changed in almost a month though
[02:15:33] <steveklabnik> so that's... odd
[02:15:41] *** Joins: zz_kimundi (kimundi@moz-ocelec.dip0.t-ipconnect.de)
[02:15:43] *** Quits: JagaJaga (JagaJaga@moz-gd9.blu.205.109.IP) (Ping timeout: 121 seconds)
[02:15:43] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[02:16:01] <aatch> Oh, I think its an issue with coercions
[02:16:02] *** Quits: casual_llama (cl@moz-grk6nt.swbr.surewest.net) (Quit: Bai.)
[02:16:05] *** zz_kimundi is now known as kimundi
[02:16:09] <bstrie> steveklabnik: just have them implement their own RNG so they don't need to rely on rand :) xorshift is like three lines of code!
[02:16:21] <steveklabnik> http://rust-lang.github.io/rand/rand/fn.thread_rng.html
[02:16:27] <steveklabnik> bstrie: :p
[02:16:37] <steveklabnik> aatch: oh yeah?
[02:16:41] *** Quits: Guest44 (textual@moz-to0.eos.163.209.IP) (Ping timeout: 121 seconds)
[02:17:18] <noustuff> @steveklabnik but isn't the error I'm facing because of types rather than the rand lib?
[02:17:23] <aatch> steveklabnik, oh, maybe not. It looked like an issue where parameter bounds prevent deref coercion.
[02:17:26] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[02:17:33] <aatch> steveklabnik, but that doesn't seem to apply here.
[02:17:37] <steveklabnik> noustuff: it says 'unresolved name' here
[02:18:00] <noustuff> @steveklabnik oh I see `mismatched types`
[02:18:16] <steveklabnik> <anon>:10:25: 10:41 error: unresolved name `rand::thread_rng`
[02:18:17] <steveklabnik> <anon>:10     let secret_number = rand::thread_rng().gen_range(1, 101);
[02:18:20] <steveklabnik> is what i get in playpen
[02:18:32] <aatch> replacing the random number with '4' makes it all work.
[02:18:47] <aatch> noustuff, are you absoultely sure that what you posted is what you're trying to compile?
[02:18:54] *** Quits: raph (raph@moz-bdbdrf.3v27.vk5s.0000.2620.IP) (Quit: Leaving.)
[02:18:59] <aatch> noustuff, did you forget to save? I do that all the time,
[02:19:00] *** Joins: lyc (lyc@moz-ern.uqu.186.118.IP)
[02:19:45] <noustuff> @aatch will double check in 5 min
[02:19:54] *** Joins: raph (raph@moz-pg74nd.3v27.vk5s.0000.2620.IP)
[02:19:58] *** Joins: playjax (chatzilla@moz-m7rn0n.optusnet.com.au)
[02:21:21] *** Quits: irobevjod (irobevjod@moz-mikldi.static-ro.twistednetworks.net) (Connection closed)
[02:21:27] *** Joins: irobevjod (irobevjod@moz-mikldi.static-ro.twistednetworks.net)
[02:21:28] <Mutabah> Does autoderef still have issues with privacy? (E.g. with smart pointers, do you need to do name magling)
[02:22:00] <aatch> Mutabah, not sure. It's been a while since I poked around that code. I think it still does though.
[02:22:39] <Kurufu> Well, after getting my other library to compiled a .so I got rust to compile a dynamic library of only 3MB. whewh.
[02:23:03] *** Quits: lyc (lyc@moz-ern.uqu.186.118.IP) (Ping timeout: 121 seconds)
[02:23:16] <aatch> Mutabah, well the fixme is still there
[02:23:26] <FreeFull> What issues are those, exactly?
[02:23:55] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[02:23:56] *** Quits: raph (raph@moz-pg74nd.3v27.vk5s.0000.2620.IP) (Ping timeout: 121 seconds)
[02:24:05] <Mutabah> FreeFull: Private fields on inside a smart pointer (e.g. Rc) will override fields of the contained type
[02:24:17] *** Quits: mechaxl (Adium@moz-bur2si.mn.comcast.net) (Quit: Leaving.)
[02:24:19] <FreeFull> Ah
[02:25:24] *** Joins: santiago (santiago@moz-ro2mm9.res.rr.com)
[02:26:52] *** Joins: eric_lagergren (barsonme@moz-e0h.6s0.39.134.IP)
[02:27:14] *** Joins: rmgk (ragnar@moz-rtklpb.dyn.telefonica.de)
[02:27:26] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[02:27:55] <bstrie> Kurufu: is 3MB small?
[02:28:22] <Kurufu> Its smaller than 175MB.
[02:28:34] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[02:28:35] *** Quits: rmgk_ (ragnar@moz-u1cj71.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:28:54] *** Quits: irobevjod (irobevjod@moz-mikldi.static-ro.twistednetworks.net) (Client exited)
[02:29:10] <bstrie> Kurufu: is that the static linking size?
[02:30:13] *** Joins: mcoffee (mcoffee@moz-s7b.1ov.245.207.IP)
[02:30:16] <Kurufu> 175MB was the static linking size, 3MB as a dylib.
[02:30:20] *** Quits: kkimdev (kkimdev@moz-dj5rvn.59gh.vk5s.0000.2620.IP) (Ping timeout: 121 seconds)
[02:30:33] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[02:31:02] *** Joins: det (chris@moz-9klsea.lv.cox.net)
[02:31:28] <Yurume> Kurufu: wait, you *do* have 175MB executable?
[02:31:41] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[02:31:41] *** ChanServ sets mode: +o jdm
[02:31:43] <Yurume> (just to be sure... is it google.rs?)
[02:31:44] *** Quits: jfredett (Adium@moz-a9ilmn.fios.verizon.net) (Quit: Leaving.)
[02:31:56] <bstrie> Kurufu: hopefully the new Drop optimization will reduce that a bit
[02:32:39] <aatch> Kurufu, is the code up on github or something? I'm curious as to why it was so big to start with.
[02:32:42] <Kurufu> I have no executables, just a simple rust-binding library that came out to 175MB. lol
[02:33:04] <Yurume> Kurufu: what are you binding?
[02:33:27] <Kurufu> A physics engine called ODE http://ode-wiki.org/wiki/index.php?title=Main_Page
[02:33:38] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[02:33:57] *** Quits: senderista (tdbaker@moz-6nsjqs.wa.comcast.net) (Client exited)
[02:34:14] <Yurume> hmm.
[02:34:55] <Yurume> I've briefly skimmed the manual, but that sounds very strange. probably you would have to look at the generated source code to find the problem out.
[02:35:14] *** Joins: choplin (choplin@moz-q517gi.u-tokyo.ac.jp)
[02:35:30] <Yurume> Kurufu: is the generated source code big? i.e. sort of ten thousand lines or so?
[02:35:40] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[02:35:41] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:36:00] <Kurufu> I've no clue how many lines of code is but its 14M as a static library and 6MB as a shared library.
[02:36:13] <Kurufu> probably on the order of 10k lines of code.
[02:36:47] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[02:37:02] *** Quits: grantdefayette (grantdefaye@moz-c2phg3.ct.charter.com) (Quit: This computer has gone to sleep)
[02:37:12] <noustuff> @aatch you were right, false alarm, fixed my local copy now #duh /cc @steveklabnik 
[02:37:25] <steveklabnik> noustuff: whew! thanks for reporting though
[02:37:29] <Kurufu> https://github.com/kkartaltepe/ode-rust-binding this is the source for the bindings. Its a bit of a mix of bindgen stuff and my own fiddling.
[02:37:32] <Yurume> I want to assume that that includes ODE itself, but it probably shouldn't (since rust rlib stores the link flags and not the linked library itself)
[02:37:53] <Kurufu> I didnt make in cargo etc, just as a "rustc ode.rs"
[02:38:31] *** Joins: frewsxcv_ (uid86219@moz-dneii9.brockwell.irccloud.com)
[02:38:37] <Yurume> it's just some kilo lines of code, that shouldn't be that big
[02:38:40] <Kurufu> this is after changing it to dynamic linking. Previously to get the massive library I had all the links as kind="static".
[02:38:47] <Yurume> ah
[02:38:54] <Yurume> ah, that explains everything
[02:38:57] *** Joins: zeebo (zeebo@moz-6rqv1a.ut.comcast.net)
[02:39:05] <Yurume> so rlib *does* include ODE
[02:39:16] <Kurufu> Yea it *did*
[02:39:21] <Yurume> 14MB is not that big in that case
[02:39:26] *** Quits: meh (meh@moz-2vi7cf.42-151.net24.it) (Ping timeout: 121 seconds)
[02:39:31] <Yurume> so, what was for 175MB?
[02:39:41] <Kurufu> err you are mis understanding. the rlib was 175MB. The C library itself is 14MB.
[02:39:48] <Yurume> woah.
[02:39:53] <Yurume> hmm...
[02:39:55] <insaneinside> Is there a way to test that a particular Drop::drop impl. is run?  I'm thinking that testing for side-effects (e.g. print a string) would be easiest, but it's not immediately clear how to do that.  Custom `Write` type?
[02:40:04] <insaneinside> (in unit tests)
[02:40:18] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:40:25] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[02:40:42] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[02:41:05] *** Quits: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP) (Quit: ZNC - http://znc.in)
[02:41:06] *** frewsxcv_ is now known as frewsxcv
[02:41:15] *** Quits: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com) (Quit: )
[02:41:24] *** Joins: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com)
[02:41:26] *** Joins: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net)
[02:41:28] <Yurume> Kurufu: can you try `ar tv path/to/your/ode.rlib`?
[02:41:52] *** Quits: psy (psy@moz-93g.ntd.6.103.IP) (Connection closed)
[02:41:59] <aatch> Kurufu, O
[02:42:07] <Kurufu> Sure, but give me a couple minutes to go get the same static linking I had.
[02:42:15] <Kurufu> what aatch ?
[02:42:45] <aatch> Kurufu, I'm not sure what's going on on your computer, but I just built an unoptimised static library of your code and got 325kB
[02:43:30] <Kurufu> All of my links dont specify the kind. It was when I specified kind=static that I got the massive library.
[02:43:34] *** Quits: khades (Thunderbird@moz-s8b.3vk.74.212.IP) (Ping timeout: 121 seconds)
[02:43:46] *** Quits: zeebo (zeebo@moz-6rqv1a.ut.comcast.net) (Quit: Lost terminal)
[02:44:11] <aatch> Kurufu, oooo. I think I know what happened.
[02:44:11] <nyx> I was using std::old_io::MemReader and std::old_io::Timer, not sure what to use instead now
[02:44:34] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:44:42] <aatch> Kurufu, I think it was linking to ODE statically for each link attribute you had
[02:44:43] *** Joins: psy (psy@moz-93g.ntd.6.103.IP)
[02:44:44] <Kurufu> ooh, did it link the library statically for each set of extern functions lol...? That would probably do it
[02:44:49] <Yurume> aatch: ah!
[02:44:59] *** Quits: mcoffee (mcoffee@moz-s7b.1ov.245.207.IP) (A TLS packet with unexpected length was received.)
[02:45:06] <Yurume> wait, does the linker tolerate that?
[02:45:14] <XMPPwocky> w/in 19
[02:45:15] <Yurume> hmm
[02:45:21] <Yurume> XMPPwocky: irssi fail
[02:45:28] *** Quits: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net) (Ping timeout: 121 seconds)
[02:45:30] <Kurufu> I think so, the gcc command had --whole-library and then like -lode -lode -lode -lode, so its probably what happened.
[02:45:44] <Yurume> ugh.
[02:45:53] <XMPPwocky> Yurume: :P
[02:46:19] <Kurufu> I was actually about to try and see if i could just specify what to link in a single place and remove my links from the individual extern blocks, but i guess ill just leave it without specifying the linking "kind"
[02:46:41] <Kurufu> anyway thanks for figuring this out aatch!
[02:46:47] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:46:50] <Yurume> it still sounds like a (design) bug, interesting catch aatch
[02:46:56] <Yurume> but interesting catch*
[02:47:20] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:47:22] *** Joins: zeebo (zeebo@moz-6rqv1a.ut.comcast.net)
[02:47:34] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[02:48:09] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[02:48:15] <soma> hello!
[02:48:17] <soma> http://is.gd/lb234g
[02:48:18] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[02:48:56] <Yurume> soma: missing body in impl ToSql :)
[02:49:13] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[02:49:24] <Yurume> not sure what is ToSql, but if it does not have any methods, you still need `{}`
[02:50:10] <soma> Yurume: thanks, it's just a snippet
[02:50:15] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:50:21] <soma> Yurume:http://is.gd/SecIrE
[02:50:29] <soma> I pasted my error
[02:50:45] <jgallagher> iâ€™m surprised this compiles: http://is.gd/dDxmbX specifically, why is it okay that the impl MyCaller for Foo includes a more restrictive bound on F than the definition of the MyCaller trait?
[02:50:48] <insaneinside> Yurume: and yet --
[02:50:49] <insaneinside> playbot: struct Foo
[02:50:49] -playbot- <anon>:10:5: 10:6 error: expected `where`, `{`, `(`, or `;` after struct name, found `}`
[02:50:49] -playbot- <anon>:10     });
[02:50:49] -playbot- output truncated; full output at: http://bit.ly/1dYuQo5
[02:50:51] *** Joins: irobevjod (irobevjod@moz-mikldi.static-ro.twistednetworks.net)
[02:51:13] <insaneinside> Why can't we be consistent?  Is there a method to our madness?
[02:51:20] <soma> Those impl exist in crate postgres-rust so it won't be compilable in playgen
[02:51:22] <insaneinside> erp
[02:51:33] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[02:51:33] <insaneinside> playbot: struct Foo {}
[02:51:34] -playbot- <anon>:9:21: 9:22 error: unit-like struct definition should be written as `struct Foo;`
[02:51:34] -playbot- <anon>:9         struct Foo {}
[02:51:34] -playbot- output truncated; full output at: http://bit.ly/1crsvRn
[02:51:39] <insaneinside> ^^ that.
[02:52:19] <Yurume> insaneinside: I think that's because of the confusion between a singleton constructor and tuple/struct-like constructor
[02:52:27] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[02:52:36] <Yurume> struct names act as a constructor function *or* value as well
[02:53:02] <soma> http://is.gd/mZbLfF, this is clearer
[02:53:07] <insaneinside> yes, but constructors aren't preceded by `struct`.
[02:55:40] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:56:52] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[02:57:32] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[02:58:00] <Yurume> playbot: fn foo<'a>(s: &'a str) -> Option<&'a std::fmt::Display + 'a> { panic!() }
[02:58:01] -playbot- <anon>:9:42: 9:63 error: expected a path on the left-hand side of `+`, not `&'a std::fmt::Display` [E0178]
[02:58:01] -playbot- <anon>:9         fn foo<'a>(s: &'a str) -> Option<&'a std::fmt::Display + 'a> { panic!() }
[02:58:01] -playbot- output truncated; full output at: http://bit.ly/1dYvjXs
[02:58:05] *** Joins: kkimdev (kkimdev@moz-q8ps02.6cjs.vk5s.0000.2620.IP)
[02:58:29] <Yurume> soma: I assume your code was actually `Option<&'a (ToSql + 'a)>` as well, right?
[02:59:16] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[03:00:54] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[03:02:04] <soma> Yurume: yes. I think I may need to explictly construct the trait object
[03:03:02] * ChrisMorgan realised while writing about it today that the â€œimplied ()â€ that people sometimes speak of in a block that ends with a semicolon isnâ€™t actually true
[03:03:09] *** Joins: rachbach (Mibbit@moz-u8jhfc.eastlink.ca)
[03:03:16] *** Joins: kvark (Mibbit@moz-8egann.cpe.pppoe.ca)
[03:03:30] *** Joins: GBGamer (npm@moz-92sbjt.wa.comcast.net)
[03:03:41] <GBGamer> is reddit down for anyone else?
[03:03:44] <XMPPwocky> yes
[03:03:45] <steveklabnik> GBGamer: yup
[03:03:57] <GBGamer> I'm trying to find the video for steveklabnik's story of rust
[03:04:02] <steveklabnik> not up yet
[03:04:05] <GBGamer> ah okay
[03:04:10] <steveklabnik> hopefully it will be someday
[03:04:10] <GBGamer> I really want to watch it :P
[03:04:16] <insaneinside> reddit's back.
[03:04:16] <steveklabnik> they had some video issues
[03:04:28] <GBGamer> :/
[03:04:35] <sam113101> insaneinside: not here (Â Â ;____;)
[03:04:45] <GBGamer> still not up for me either
[03:05:26] <insaneinside> Try using https if you aren't?
[03:05:36] *** Quits: Jesse (jruderman@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[03:05:49] <GBGamer> neither work :/
[03:05:57] <niconii> it takes a bit to load, but it's up for me
[03:06:06] <FreeFull> Reddit's not working yet for me
[03:06:20] <FreeFull> Refreshing still gives the "Ow!" page
[03:06:34] <GBGamer> ^ FreeFull 
[03:06:42] <steveklabnik> yeah
[03:06:45] <steveklabnik> they're 500ing
[03:06:46] *** Joins: tunnuz (tunnuz@moz-meb4uj.net)
[03:06:49] *** Quits: npm (npm@moz-uqe.mg6.56.172.IP) (Ping timeout: 121 seconds)
[03:07:07] <soma> Hello! is there an into_split method?
[03:07:18] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[03:07:35] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:08:28] <bstrie> soma: what would it do?
[03:08:42] * insaneinside hopes not.  "into_<verb>" is grammatically offensive. ;)
[03:09:17] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[03:09:17] *** ChanServ sets mode: +o jdm
[03:09:18] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[03:09:27] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:10:01] <FreeFull> There is a method that takes a Vec<T> and produces two Vec<T>s, I think
[03:10:05] <tmtwd> http://pastebin.com/xkTjuENc why can't I do this like it were C?
[03:10:24] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[03:10:27] <insaneinside> tmtwd: because it's *not* C.
[03:10:33] <tmtwd> FreeFull, i think reddit is down
[03:10:42] *** Parts: kvark (Mibbit@moz-8egann.cpe.pppoe.ca) ()
[03:10:49] <GBGamer> tmtwd: I've seen you in r/C_Programming
[03:11:04] <FreeFull> Ok, it allocates the second Vec
[03:11:05] <GBGamer> it's probably not super helpful to learn two languages at the same time
[03:11:18] <GBGamer> maybe learn one, use it for a while, then learn the other
[03:11:22] <insaneinside> tmtwd: Rust supports only a single owner for each object.
[03:11:39] <soma> bstrie: like the into_iter method 
[03:11:43] <tmtwd> okay
[03:11:58] <FreeFull> I don't think it makes sense usually for an iterator to own a String
[03:12:08] *** Joins: mattico (matt@moz-36dl7o.bff5.ebih.ea00.2607.IP)
[03:12:13] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[03:12:18] *** Quits: EsBe__ (EsBe@moz-tr2dkp.res.rr.com) (Ping timeout: 121 seconds)
[03:12:47] *** Parts: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) ("Leaving")
[03:12:54] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:13:19] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[03:13:26] <GBGamer> agh, steveklabnik, you forgot us C programmers :'(
[03:13:28] <GBGamer> :P
[03:13:33] <steveklabnik> :p
[03:14:10] *** Joins: Yeti (Mibbit@moz-cb9mg6.ST.HMC.Edu)
[03:14:10] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[03:14:18] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[03:14:26] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[03:14:34] *** Joins: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP)
[03:14:39] <FreeFull> tmtwd: An ownership loop like that doesn't make sense conceptually
[03:15:40] <niconii> insaneinside, tmtwd: "supports" might not be the right word here, it's more that rust *does not allow* multiple owners for memory safety purposes
[03:15:51] <Yeti> Hey, I'm trying to append two vectors, but it's giving me a weird error. The code is here http://is.gd/C8opRy and the error is that rust expects a Box<traits::renderable::Renderable> and finds exactly that. Is there someone I'm missing? Or a better way to append vectors?
[03:16:03] <insaneinside> niconii: well, if we're going to be all correct.. :P
[03:16:07] <tmtwd> niconii, i see
[03:16:12] <niconii> it's not that rust lacks some feature that c has
[03:16:26] <GBGamer> It's not that C has that feature either
[03:16:30] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[03:16:34] <niconii> rust's borrow checking *is* the feature
[03:16:48] <GBGamer> It's just that C would allow you to copy it without explicitly making the type copy
[03:16:54] <soma> Hello! I got error: illegal cast; cast to or from fat pointer: `Box<&str>` as `&postgres::types::ToSql` involving incompatible type   while  there is an  impl<'a> ToSql for &'a str exist. Why
[03:16:55] <insaneinside> niconii, tmtwd: If I wanted to sound like a CS grad student, I'd say that in graph-theoretical terms Rust's borrow-checker requires that it be possible to describe value ownership as a directed acyclic graph.
[03:16:58] <FreeFull> One approach that could work is a vector of indices
[03:17:11] <tmtwd> insaneinside, okay
[03:17:19] <niconii> insaneinside: gross
[03:17:29] <GBGamer> soma: s.to_sql(), probably
[03:17:41] <tmtwd> FreeFull,  approach to what?
[03:17:43] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[03:17:44] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[03:18:09] <insaneinside> niconii: should I start talking about residues of complex functions instead? :P
[03:18:12] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[03:18:15] <GBGamer> insaneinside: so, a tree-type thing?
[03:18:23] <FreeFull> tmtwd: Making a singly-linked graph structure
[03:18:23] <insaneinside> GBGamer: yeeeep!
[03:19:00] <niconii> insaneinside: gotcha, rust's borrow-checker requires that value ownerships are tree thingies
[03:19:03] <GBGamer> insaneinside: you're pretty cool, you know that?
[03:19:19] <tmtwd> FreeFull,  ah okay
[03:19:26] <soma> Hello! How can I explicitly construct a trait object and return it from a function?
[03:19:27] <insaneinside> GBGamer: complement accepted! :)
[03:19:34] <aatch> insaneinside, I actually that a DAG isn't allowed either. Since that would allow for multiple owners.
[03:19:53] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[03:19:54] <insaneinside> aatch: hmmm, i suppose it would.
[03:19:58] <new_one> might depend on how you define the vertex and edge
[03:20:24] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:20:24] *** ChanServ sets mode: +o erickt
[03:20:38] <FreeFull> It'd be an interesting challenge to implement part of git in Rust
[03:20:44] <aatch> insaneinside, you need Rc for shared ownership.
[03:20:47] <pyon> Why does rustdoc delete all lifetimes from impl documentation?
[03:21:16] <GBGamer> pyon: probably because it's not super useful for documentation?
[03:21:20] <GBGamer> maybe?
[03:21:24] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[03:21:28] <pyon> GBGamer: Oh, it's useful!
[03:21:36] <GBGamer> well then, I dunno
[03:21:42] *** Quits: profan (profan@moz-m3n72s.prfn.se) (Ping timeout: 121 seconds)
[03:21:51] <bstrie> pyon: drill down to the source to see the lifetimes, I guess :P
[03:22:08] <GBGamer> aatch: but is an Rc truly "ownership"?
[03:22:10] <insaneinside> aatch called my bluff.  I'm not actually a grad student. :)
[03:22:18] <pyon> For example, `impl<T> Deref for Vec<T>`, `type Target = [T]`, `fn deref(&self) -> &[T]` -- is this even correct?
[03:22:31] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Ping timeout: 121 seconds)
[03:23:00] <niconii> soma: pretty sure all you have to do is put something that implements the trait in a box and return it (and set the return type of the function to Box<Trait>)
[03:23:04] <pyon> bstrie: It's just that I'm trying to use the documentation to know what types I should give my own iterators.
[03:23:06] <GBGamer> pyon: yep
[03:23:14] <GBGamer> https://github.com/rust-lang/rust/blob/master/src/libcollections/vec.rs#L1442
[03:23:48] *** Quits: kkimdev (kkimdev@moz-q8ps02.6cjs.vk5s.0000.2620.IP) (Ping timeout: 121 seconds)
[03:23:54] *** Quits: new_one (new_one@moz-suj.lcf.15.50.IP) (Quit: WeeChat 1.1.1)
[03:24:04] <pyon> Ah, so rustc automatically infers that the argument and the result should be bound by the same lifetime specified in the trait?
[03:24:06] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:24:17] <GBGamer> I assume
[03:24:29] <GBGamer> I think there was a big thing about that a few months ago
[03:24:41] <soma> niconii: Ok. Is it possible to return a &trait?
[03:24:51] <swgillespie> pyon: yep! https://github.com/rust-lang/rfcs/blob/master/text/0141-lifetime-elision.md
[03:24:59] <pyon> Checking.
[03:25:04] <niconii> soma: the problem is that something needs to own it
[03:25:14] <GBGamer> soma: so you'd need to pass an &'a something
[03:25:22] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:25:27] <GBGamer> and then it could convert it to an &'a Trait
[03:25:30] <GBGamer> I guess?
[03:25:48] <swgillespie> pyon: the upshot is that you generally don't have to do your own lifetimes unless it's unclear which reference's lifetime to use
[03:26:06] <swgillespie> or unless you want to be explicit
[03:26:08] <pyon> Mmm.
[03:26:10] <GBGamer> is &Trait is a fat pointer?
[03:26:17] <niconii> GBGamer: yep
[03:26:19] <GBGamer> (random question)
[03:26:22] <GBGamer> danke
[03:26:28] <pyon> GBGamer: It should be - you need two pointers: to the object and to the vtable.
[03:26:40] <pyon> swgillespie: Ah!
[03:26:54] <GBGamer> what about C++?
[03:27:04] *** Joins: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP)
[03:27:06] *** Quits: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[03:27:08] <pyon> GBGamer: vtable pointers are embedded in the object itself.
[03:27:12] *** Joins: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP)
[03:27:12] <pyon> (In C++)
[03:27:18] <GBGamer> got it, makes sense
[03:27:36] <GBGamer> (although, you know, unfortunate)
[03:27:49] <pyon> Yeah, what Rust does makes a lot more sense.
[03:28:00] *** Quits: carlcolglazier (uid64399@moz-118bsh.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[03:28:01] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[03:28:18] <GBGamer> C++ shows off it's history as a hack-y language built upon C :P
[03:28:19] <pyon> As in, I only want to pay the price of vtable pointers when I'm actually doing virtual dispatch.
[03:28:36] <GBGamer> (not that C++ is a great language in it's own rite)
[03:28:38] *** Quits: ConnorDo_ (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[03:28:42] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:28:42] *** ChanServ sets mode: +o erickt
[03:28:53] <GBGamer> s/is/isn't/
[03:29:20] <GBGamer> s/it's/its/
[03:29:36] <bstrie> GBGamer: s/rite/right :P
[03:29:46] <swgillespie> I really like Rust's virtual dispatch
[03:30:09] <GBGamer> ah yes
[03:30:23] <GBGamer> man that was just a terribly messed up sentence wasn't it?
[03:32:22] <sam113101> lel
[03:32:48] <soma> Hello! I'am exhausted:(... Has anyone used the postgres-rust crate's CopyIn feature? 
[03:34:13] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[03:35:26] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[03:35:42] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[03:35:47] *** Joins: ray (ray@moz-8fn.a58.92.182.IP)
[03:35:49] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[03:36:26] *** Quits: Yeti (Mibbit@moz-cb9mg6.ST.HMC.Edu) (Quit: http://www.mibbit.com ajax IRC Client)
[03:36:37] <GGist> Has anyone had problems with UdpSocket multicasting, specifically when trying to receive multicast messages from multiple NICs?
[03:37:14] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[03:37:32] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Ping timeout: 121 seconds)
[03:37:48] *** blaenk_ is now known as blaenk
[03:39:43] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:40:17] <GGist> I am trying to receive multicast messages from a specific address on two different interfaces but at any time during the execution of the program, I can only receive from one interface.
[03:40:50] <GGist> I coded up a working C++ solution and from that I think there may be a problem with this line of the rust standard library https://github.com/rust-lang/rust/blob/master/src/libstd/sys/common/net.rs#L448
[03:41:09] *** Joins: JFlash (textual@moz-eimsel.fios.verizon.net)
[03:41:38] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[03:42:09] *** Joins: mcanders (carter@moz-321.g9o.171.216.IP)
[03:42:46] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[03:44:04] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:44:49] *** Quits: ray (ray@moz-8fn.a58.92.182.IP) (Ping timeout: 121 seconds)
[03:45:02] *** Joins: ray (ray@moz-8fn.a58.92.182.IP)
[03:45:12] <mcanders> any idea why http://is.gd/dglG6S doesn't work? Removing E from EventLoop<T,E> results in an error saying use of undeclared type name 'E'"
[03:45:28] <mcanders> so it is obviously being used
[03:46:03] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:46:03] *** ChanServ sets mode: +o erickt
[03:46:04] <blaenk> http://is.gd/a3eDd5
[03:46:38] <swgillespie> blaenk: shouldn't the where bound count as a use, though?
[03:46:43] * swgillespie shrug
[03:46:59] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[03:47:09] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:47:28] *** Quits: orangeshark (erik@moz-2b7bqd.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[03:47:31] <mindtree> it's a bit disappointing PhantomData is needed there
[03:47:32] <towler1> why must add lifetime for a struct with borrowed item? 
[03:47:32] <aatch> swgillespie, it's to do with variance inference.
[03:48:02] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Ping timeout: 121 seconds)
[03:48:46] <mcanders> ill take it.  it does seem a little silly that it cant infer that, but i wont pretend to understand
[03:48:54] <mcanders> thanks for your help!
[03:49:10] <swgillespie> aatch: inferring the variance of E?
[03:49:10] <blaenk> https://github.com/rust-lang/rfcs/blob/master/text/1023-rebalancing-coherence.md if you want to understand
[03:49:13] <blaenk> mcanders
[03:49:23] <aatch> swgillespie, bounds on struct type parameters can be completely removed (except for ?Sized), and only have the bounds on impls
[03:49:25] <blaenk> good luck
[03:49:32] *** Joins: sp0 (seth@moz-i3f9r5.internode.on.net)
[03:49:37] <swgillespie> aatch: ah, I see.
[03:49:41] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:49:43] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[03:50:03] *** Quits: ray (ray@moz-8fn.a58.92.182.IP) (Ping timeout: 121 seconds)
[03:50:36] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:51:14] <mcanders> blaenk: thanks that does make sense
[03:51:48] *** Quits: nyx (nyx@moz-ivelpd.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[03:54:59] <GBGamer> yay, we have cargo rustc now!
[03:55:32] <niconii> towler1: to make sure the struct doesn't outlive the borrowed item
[03:55:38] <sp0> I need to get an absoulute path from a relative path. There is std::fs::canonicalize which is unstable. IS there any way to do this in stable?
[03:56:11] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[03:56:28] <Murarth> /quit Hey, look at me! I have a Macbook Pro!
[03:57:06] <GBGamer> Murarth: I don't think that worked :P
[03:57:41] <sam113101> must be a default quit message, because I see it a lot
[03:57:57] <GBGamer> yeah, I wonder what went wrong?
[03:58:22] <sam113101> I think he was just trying to make fun of nyx, lol
[03:58:26] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Connection closed)
[03:59:04] <GBGamer> mayhaps
[03:59:32] *** Joins: djcb (user@moz-nqdj21.elisa-laajakaista.fi)
[04:00:08] *** Joins: alex_ (alex@moz-por.p4v.4.12.IP)
[04:00:51] <alex_> For some reason the line -> let mut f = try!(File::create("secret.txt")); 
[04:00:58] <alex_> Throws an error at compile time of mismatched types? Am I missing something here?
[04:00:59] <alex_> ?
[04:01:31] <talchas> the return value of the function try! is in needs to be Result<something, Error>
[04:01:37] <Mutabah> alex_: What is the exactl error? What's expecte, and what's found
[04:01:37] <talchas> (I think it's Error anyway)
[04:01:49] *** Quits: JFlash (textual@moz-eimsel.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[04:02:03] <alex_> expected '()', found 'core::result::Result<_, _>'
[04:02:22] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:02:34] <alex_> talchas: Isn't the result of create a Result<_, _>?
[04:02:46] <talchas> yes, but try! works by returning
[04:02:53] <Mutabah> aah, yes
[04:02:56] <talchas> so your main function or whatever is calling create needs to return a Result
[04:03:04] <Mutabah> alex_: You can onyl use try! within a function retunring Result
[04:03:14] <alex_> Oh, okay. Thanks! :D
[04:03:19] *** Joins: dawehner (quassel@moz-ovj.uga.249.209.IP)
[04:03:51] *** Joins: dawehner-afk (quassel@moz-kpq.uga.249.209.IP)
[04:05:37] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[04:05:41] *** Joins: dawehner-afk_ (quassel@moz-6a2pbf.mullvad.net)
[04:05:50] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[04:05:54] *** Quits: alex_ (alex@moz-por.p4v.4.12.IP) (Quit: leaving)
[04:06:27] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[04:06:45] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[04:07:21] *** Quits: dawehner (quassel@moz-ovj.uga.249.209.IP) (Ping timeout: 121 seconds)
[04:07:40] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:07:48] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[04:07:55] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[04:08:53] *** Quits: dawehner-afk (quassel@moz-kpq.uga.249.209.IP) (Ping timeout: 121 seconds)
[04:10:08] *** Quits: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[04:10:49] *** Joins: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it)
[04:11:17] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[04:11:23] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[04:14:52] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[04:15:39] *** Joins: fkaa_ (tundmatu@moz-501od2.business.telia.com)
[04:16:17] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[04:17:18] *** Joins: ray (ray@moz-8fn.a58.92.182.IP)
[04:18:08] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[04:18:34] <sp0> I need to get an absoulute path from a relative path. There is std::fs::canonicalize which is unstable. IS there any way to do this in stable?
[04:20:03] <blaenk> prolly use realpath()
[04:20:16] <blaenk> but you'd have to do that for each platform, which is what canonicalize does afaik
[04:20:25] <blaenk> just copy canonicalize' implementation into your code and you're done
[04:20:26] <blaenk> probably
[04:21:10] *** Quits: basicdays (basicdays@moz-f3e.15a.49.72.IP) (Ping timeout: 121 seconds)
[04:21:20] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[04:21:33] <sp0> blaenk: I'll give it a shot. thanks
[04:21:41] <blaenk> sure thing
[04:23:11] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[04:24:06] *** Quits: rachbach (Mibbit@moz-u8jhfc.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[04:24:11] <oceanwhit> What is self.0?
[04:24:38] <geofft> The first element of self, where self is a tuple (or tuple struct) 
[04:24:51] <oceanwhit> okay ty
[04:25:59] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[04:26:06] <benbangert> how do I make a str that repeats a char N times?
[04:26:30] <blaenk> repeat('c').take(N).collect::<String>()
[04:26:39] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[04:27:01] <blaenk> or let s: String = repeat('c').take(N).collect();
[04:27:09] *** Joins: fabiand (fabiand@moz-b61li4.dip0.t-ipconnect.de)
[04:27:58] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[04:28:14] <benbangert> blaenk: I import that out of std::iter?
[04:28:19] <blaenk> sure
[04:28:23] <blaenk> or ::std::iter::repeat('c')
[04:28:27] <blaenk> same as anything else
[04:28:32] <GBGamer> you could also do let s = std::str::from_utf8(&['c'; n]);
[04:28:43] <blaenk> that's certainly shorter :D
[04:28:45] <GBGamer> if you want an &str, not a String
[04:28:51] <reem> itâ€™s more efficient too, since you can get a str
[04:28:53] <reem> (no allocation)
[04:29:04] <blaenk> if you need a String, wrap it in String::from
[04:29:06] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[04:29:06] <GBGamer> (although I would suggest the unsafe from_utf8_unchecked())
[04:29:06] *** Quits: eric_lagergren (barsonme@moz-e0h.6s0.39.134.IP) (Connection closed)
[04:29:08] <Mutabah> However, n needs to be cosntant
[04:29:16] <blaenk> ooo yeah that's the kicker
[04:29:25] <Murarth> Also, that assumes that the char fits within u8. It would need to be b'c'.
[04:29:26] <blaenk> else you can probably do something similar with vec![]
[04:29:29] <reem> you can even get an &â€™static str if you store the [u8] part in a static
[04:29:58] <GBGamer> oh yeah ^ Murarth 
[04:30:03] *** Quits: narann (narann@moz-j49beg.dsl.netrevolution.com) (Quit: Leaving)
[04:30:41] <benbangert> ok, maybe I should explain, I'm doing formatting math manually cause the string formatting has no way to do space padding when printing a value
[04:30:44] <reem> I would strongly suggest that you do not use the unsafe from_utf8_unchecked in this case, since this is not likely to be a performance hurdle, and use of unsafe makes checking rust code much harder
[04:30:50] <reem> much much harder
[04:30:54] <benbangert> so I'm repeating space characters to indent a value far enough
[04:31:03] <blaenk> yeah just do what I asid lol
[04:31:05] <benbangert> ok
[04:31:06] <blaenk> these fools micro optimizing
[04:31:09] <benbangert> :)
[04:31:39] *** Joins: jedireza (jedireza@moz-allpoi.ca.comcast.net)
[04:31:51] <GBGamer> I think there should be a format thing that allows you to indent values
[04:32:03] <blaenk> yeah, I figured there was, guess not
[04:32:09] <reem> you could write a type and implement Debug for it
[04:32:18] <reem> Indenter(u64) or whatever
[04:32:20] <blaenk> yeah, think he means like one of those format specifiers though
[04:32:28] <reem> right, but you donâ€™t need one
[04:32:50] <blaenk> don't need anything with that line of thinking though, everything just a convenience
[04:32:51] <GBGamer> reem: when does unsafe { from_utf8_unchecked() } add to difficulties checking rust code, especially in this case?
[04:33:04] <Murarth> Yes, u64. Just in case you need more than 4 billion spaces.
[04:33:11] <Murarth> You can never be sure.
[04:33:15] <benbangert> blaenk: I can't track down what repeat I want
[04:33:19] <blaenk> this doesn't apply? http://doc.rust-lang.org/std/fmt/index.html#fill/alignment
[04:33:30] <blaenk> benbangert: ^, also std::iter::repeat should be it
[04:33:32] <reem> GBGamer: any use of unsafe means I have to slow down a lot and look carefully when reviewing
[04:33:41] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[04:33:45] <reem> GBGamer: if there is no unsafe I can be much more cavalier
[04:34:00] <benbangert> blaenk: yup, that did it, cool
[04:34:07] <reem> GBGamer: in this extremely specific case itâ€™s probably fine, but I just strongly, strongly caution against using unsafe for micro optimizations that almost certainly wonâ€™t matter
[04:34:07] <blaenk> http://is.gd/bebp7D
[04:34:08] <blaenk> ah ok
[04:34:09] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[04:34:10] <GBGamer> maybe coming from C gives a different mindset
[04:34:21] <reem> GBGamer: it undermines the whole point of rust if thereâ€™s unsafe all over the place
[04:34:31] <GBGamer> no it doesn't, imo
[04:34:31] <benbangert> blaenk: ahhhhhh, I looked through the fmt page and didn't see that, I think I was searching too specifically for 'padding'. doh
[04:34:40] <blaenk> ahh no worries
[04:34:49] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[04:34:49] <GBGamer> my personal use requires a ton of unsafe
[04:34:49] <reem> GBGamer: Iâ€™m not saying at the â€œbottom levelâ€ or within strong abstractions, but unsafe in application code is a serious code smell imo
[04:34:54] <blaenk> there are indeed a bunch of 'repeat's though, if you search. that's why I said std::iter::repeat
[04:35:18] <reem> GBGamer: There are definitely places where a lot of unsafe is necessary and correct, no question.
[04:35:34] <reem> but converting a [u8] to a str is not one of them ;)
[04:35:35] <benbangert> blaenk: yea, I noticed that
[04:35:47] <reem> (in most cases)
[04:36:02] <GBGamer> well, at least in my personal case, I use Rust as a replacement for C, so unsafe isn't a very big deal to me
[04:36:05] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[04:36:06] *** Joins: aneeshm (aneeshm@moz-9gmm42.ca.comcast.net)
[04:36:20] *** Joins: bkircher (bkircher@moz-geki0l.dip0.t-ipconnect.de)
[04:36:22] <GBGamer> as long as I'm not dealing with ptrs, I'm fairly cavalier about my use
[04:36:58] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[04:37:03] <GBGamer> At least in my inner libraries
[04:37:23] <GBGamer> then, of course, I write safe wrappers around that and use those in actual application code
[04:37:23] <reem> I try to avoid unsafe unless it is necessary, or in very performance sensitive code
[04:37:32] <reem> yes, that seems like a fine approach
[04:37:54] <reem> using unsafe in code that contains â€œbusiness logicâ€ is the code smell
[04:38:06] <GBGamer> oh, well, yeah
[04:38:06] <GBGamer> okay
[04:38:14] <GBGamer> agreed :D
[04:38:52] *** Quits: gingermusketeer (gingermuske@moz-4u5e89.compute.amazonaws.com) (Connection closed)
[04:38:59] *** Joins: gingermusketeer (gingermuske@moz-8et0q0.compute.amazonaws.com)
[04:39:17] <benbangert> blaenk: welp, got the fill working, so its all good, thanks :)
[04:39:24] <blaenk> you're welcome
[04:39:37] <benbangert> I prolly have been using too many languages, the various ways to say the same thing is hitting some upper limit in my head
[04:39:46] <GBGamer> you shouldn't be afraid of unsafe, but write a safe wrapper around it
[04:39:56] <GBGamer> and then use that in application code
[04:40:23] <benbangert> GBGamer: I am still sad I can't use this char for it though..... https://github.com/rust-lang/rust/issues/666
[04:41:25] <ChrisMorgan> Would &T and &mut T be considered primitive types?
[04:41:33] <GBGamer> benbangert: :P
[04:42:17] *** Joins: brianm (brianm@moz-06r8f4.hfc.comcastbusiness.net)
[04:42:20] *** AutomatedTester|AFK is now known as AutomatedTester
[04:42:39] <brianm> is 1.0 still planned for Friday?
[04:42:46] <blaenk> nah
[04:42:49] <blaenk> postponed till HKT is done
[04:43:01] <blaenk> wait nvm you're not a regular. yes it's still planned for friday
[04:43:09] <brianm> LOL
[04:43:32] <GBGamer> also, postponed for TCE
[04:43:39] <brianm> used ot be a regular, but $work switched from irc and now I forget to open client most days
[04:43:42] <GBGamer> gotta get those tail calls eliminated!
[04:43:49] <blaenk> aw
[04:43:52] <brianm> yeah
[04:43:54] <brianm> I suck :-)
[04:44:10] <FreeFull> Postponed till 2030
[04:44:10] <brianm> postpone for TCE I'd at least believe ;-)
[04:44:23] *** Quits: jedireza (jedireza@moz-allpoi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[04:45:07] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[04:45:13] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:45:16] *** Joins: jedireza (jedireza@moz-s2v.juj.177.166.IP)
[04:45:46] *** Quits: psy (psy@moz-93g.ntd.6.103.IP) (Connection closed)
[04:45:47] <brianm> thanks!
[04:45:50] <niconii> postponed until we undo all those awful changes since 0.1.0
[04:45:51] <ChrisMorgan> FreeFull: postponed till 2038-01-19T03:14:08Z just so that we can be *sure* we donâ€™t have any year 2038 problem.
[04:45:55] <niconii> who needs all that crap
[04:46:05] <brianm> I do miss ~
[04:46:34] <GBGamer> yeah, we need to get become up and running
[04:46:39] <GBGamer> at least behind a feature gate :/
[04:46:52] <FreeFull> ChrisMorgan: Ah, good point
[04:46:52] *** Quits: playjax (chatzilla@moz-m7rn0n.optusnet.com.au) (Ping timeout: 121 seconds)
[04:46:59] <FreeFull> ChrisMorgan: Maybe 2040 to be *really* sure
[04:47:31] <niconii> postponed until we can retrofit rust onto c's syntax
[04:47:43] <niconii> c++ had the right idea when it decided to be compatible with c code
[04:47:51] <niconii> every language should be compatible with c code
[04:47:52] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[04:47:58] <ChrisMorgan> Especially LISP.
[04:48:14] <GBGamer> I would love to see a Lispy C
[04:48:14] <brianm> every implementation of lisp has a buggy c compiler, or something
[04:48:16] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[04:48:20] <XMPPwocky> no, LISP is compatible with See code.
[04:48:59] <GBGamer> I personally think we should retrofit everything into Lisp syntax
[04:49:16] <GBGamer> Our parentheses aren't used quite enough
[04:49:24] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[04:49:25] *** Quits: derek_c (derek@moz-eg2lms.cit.cornell.edu) (Ping timeout: 121 seconds)
[04:49:29] <gsingh93> are there any examples of how to call Rust functions that return Strings from python?
[04:51:19] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:51:22] <GBGamer> gsingh93: you would have to convert from Rust Strings to Python strings
[04:51:25] <reem> gsingh93: you probably need to return a python string
[04:52:35] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[04:52:36] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[04:52:37] <gsingh93> GBGamer: reem: do I need to change the return type of the Rust function? to what?
[04:52:40] *** Joins: dinfuehr (dinfuehr@moz-rf6tdk.highway.telekom.at)
[04:52:51] *** Joins: ytain (ytain@moz-01dgko.cpe.pppoe.ca)
[04:53:04] <reem> gsingh93: youâ€™ll need to bind to cpython or whatever and construct a python string
[04:53:21] <reem> gsingh93: python knows nothing about rust types, it only knows about python types
[04:53:29] <GBGamer> gsingh93: basically, do what you would do to connect to C
[04:53:45] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[04:54:53] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[04:55:54] *** Joins: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net)
[04:56:41] <bkircher> Hi, is there a place where I can get the Rust logos for embedding them in a presentation?
[04:57:06] *** Quits: brianm (brianm@moz-06r8f4.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:58:06] *** Quits: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[04:58:24] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[04:59:56] *** Quits: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net) (Ping timeout: 121 seconds)
[05:01:43] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[05:01:48] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[05:03:17] <GBGamer> bkircher: http://en.wikipedia.org/wiki/File:Rust_programming_language_black_logo.svg ?
[05:03:33] <GBGamer> https://github.com/rust-lang/rust/issues/11562
[05:04:21] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[05:06:21] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[05:06:22] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:06:32] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[05:07:08] <Dabo> bkircher, https://github.com/rust-lang/rust/issues/11562#issuecomment-32700278 in particular
[05:07:31] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[05:07:40] *** Quits: Feyn (Feyn@moz-r04.5ro.115.42.IP) (Ping timeout: 121 seconds)
[05:07:56] *** Joins: Feyn (Feyn@moz-r04.5ro.115.42.IP)
[05:08:40] *** Joins: dawehner (quassel@moz-p2b.vds.170.166.IP)
[05:10:06] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Quit: p)
[05:10:34] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[05:10:34] *** Quits: srjek (srjek@moz-gg7i72.ece.uic.edu) (Connection closed)
[05:10:40] *** Joins: srjek (srjek@moz-gg7i72.ece.uic.edu)
[05:10:45] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[05:11:14] <gsingh93> so I can return strings from a Rust function to python if I use a *const c_char
[05:11:33] <gsingh93> the problem is if I wrap it in a struct, I get None when I print it in python
[05:11:43] *** Quits: dawehner-afk_ (quassel@moz-6a2pbf.mullvad.net) (Ping timeout: 121 seconds)
[05:12:30] *** Joins: mk (mk@moz-j1n774.nodes.uplink.io)
[05:13:09] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Ping timeout: 121 seconds)
[05:13:19] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[05:13:57] <GBGamer> gsingh93: what do you mean?
[05:14:08] <GBGamer> what's the fn signature in Rust?
[05:14:27] <gsingh93> GBGamer: pub fn foo() -> Foo
[05:14:42] <gsingh93> it returns a Foo which is an i32 and *const c_char
[05:14:43] <GBGamer> and what's the .h signature?
[05:14:55] <GBGamer> (for cpython)
[05:14:57] *** Joins: dstrbad_ (dstrbad@moz-nril2i.cable.xnet.hr)
[05:15:21] <GBGamer> also, it should be pub extern fn foo() -> Foo
[05:15:31] <GBGamer> (because it should use the C calling convention)
[05:15:46] <gsingh93> http://pastebin.com/5Xni6HtX
[05:15:57] <gsingh93> I'm loading the library with CDLL("libfoo.so")
[05:16:13] <gsingh93> that's the signature i've defined in python
[05:16:16] <gsingh93> i don't have a .h file
[05:16:23] <GBGamer> ah okay
[05:16:28] <gsingh93> i'm following this guide: https://avacariu.me/articles/calling-rust-from-python.html
[05:17:00] *** Joins: uqbar (hrishi@moz-k31.ocr.38.69.IP)
[05:17:01] *** Quits: dstrbad_ (dstrbad@moz-nril2i.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[05:17:20] <GBGamer> do you have a git repo that I could check out?
[05:17:25] <GBGamer> I need to see all of the code
[05:17:38] *** Parts: insaneinside (user@moz-dgv9mb.customer.broadstripe.net) ("dorf fortess time")
[05:17:43] <gsingh93> GBGamer: i was about to make a simple example, but using extern in the function signature fixed the problem
[05:17:47] <gsingh93> thanks
[05:17:52] <GBGamer> oh, yeah, np :)
[05:19:02] *** Joins: indefini (indefini@moz-4p4v25.ucom.ne.jp)
[05:20:42] *** Joins: iiixtiii (ixti@moz-21k.dae.119.188.IP)
[05:21:52] *** Joins: dstrbad (dstrbad@moz-7hckgl.net.t-com.hr)
[05:21:56] <bkircher> GBGamer, Dabo: thanks for the links
[05:22:08] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[05:22:29] *** Joins: andresv (textual@moz-rq7fak.cable.starman.ee)
[05:23:29] *** Quits: __ixti__ (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[05:23:31] *** Quits: dstrbad (dstrbad@moz-7hckgl.net.t-com.hr) (A TLS packet with unexpected length was received.)
[05:23:39] *** Quits: dawehner (quassel@moz-p2b.vds.170.166.IP) (Ping timeout: 121 seconds)
[05:24:21] *** Joins: dawehner (quassel@moz-al1.uga.249.209.IP)
[05:25:22] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[05:26:03] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[05:26:15] *** Quits: Diggsey (diggsey@moz-c3no8o.dsl.pipex.com) (Ping timeout: 121 seconds)
[05:26:52] *** Joins: dr4yyee (dr4yyee@moz-d8fm30.dip0.t-ipconnect.de)
[05:26:54] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[05:27:05] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Client exited)
[05:27:09] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[05:27:13] *** Quits: uqbar (hrishi@moz-k31.ocr.38.69.IP) (Ping timeout: 121 seconds)
[05:27:16] *** Quits: O01eg (o01eg@moz-cn8.4u9.194.109.IP) (Client exited)
[05:29:23] *** Quits: andresv (textual@moz-rq7fak.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[05:30:05] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[05:31:14] *** Joins: derek_c (derek@moz-eg2lms.cit.cornell.edu)
[05:31:56] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[05:31:56] *** ChanServ sets mode: +ao pcwalton pcwalton
[05:32:01] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[05:33:02] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[05:33:41] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[05:34:03] <mk> is the enum_primitive crate still the way to go about casting primitives to enums?
[05:34:32] *** Joins: kkimdev (kkimdev@moz-q8ps02.6cjs.vk5s.0000.2620.IP)
[05:35:34] <GBGamer> mk: can you not do literal as enum?
[05:36:33] <FreeFull> playbot: enum Foo { Foo = 1 } let x = 1 as Foo;
[05:36:34] -playbot- <anon>:9:38: 9:46 error: non-scalar cast: `i32` as `main::Foo`
[05:36:34] -playbot- <anon>:9         enum Foo { Foo = 1 } let x = 1 as Foo;
[05:36:34] -playbot- output truncated; full output at: http://bit.ly/1cLKsuM
[05:36:40] <FreeFull> GBGamer: Nope
[05:36:49] <GBGamer> ah, annoying
[05:37:24] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[05:37:30] <pyon> Why can't I do `static FOO: usize = BAR | BAZ;` ?
[05:37:51] <mk> derive(FromPrimitive) appears to be the (better) way to go about it, but that's been deprecated :<
[05:37:56] <FreeFull> pyon: Hm, I'd expect that to work
[05:38:00] <FreeFull> What are BAR and BAZ?
[05:38:08] <Mutabah> pyon: Are BAR and BAZ static or const?
[05:38:12] <pyon> static
[05:38:21] <eddyb_> static is for mutable data
[05:38:25] <pyon> Oh.
[05:38:28] <FreeFull> playbot: static BAR: usize = 3; static BAZ: usize = 5; static FOO: usize = BAR | BAZ;
[05:38:28] <pyon> My bad.
[05:38:29] -playbot- <anon>:9:75: 9:78 error: cannot refer to other statics by value, use the address-of operator or a constant instead
[05:38:29] -playbot- <anon>:9         static BAR: usize = 3; static BAZ: usize = 5; static FOO: usize = BAR | BAZ;
[05:38:29] -playbot- output truncated; full output at: http://bit.ly/1PDFJHm
[05:38:31] <pyon> These are meant to be constants.
[05:38:33] <eddyb_> (inner mutability)
[05:38:36] <eddyb_> pyon: then use const
[05:38:43] <pyon> All's good, then!
[05:38:47] <pyon> :-) ty
[05:38:50] <FreeFull> playbot: const BAR: usize = 3; const BAZ: usize = 5; const FOO: usize = BAR | BAZ;
[05:38:51] -playbot- ()
[05:39:13] <GBGamer> playbot: const BAR: usize = 3; const BAZ: usize = 5; const FOO: usize = BAR | BAZ; FOO
[05:39:14] -playbot- 7
[05:40:21] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (A TLS packet with unexpected length was received.)
[05:40:22] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[05:40:57] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[05:41:50] <AngelOfSol> How complex is the borrow checker?  (ie if I wanted to implement something similar in a pet language would it take a lot of work?)
[05:42:14] <GBGamer> AngelOfSol: pretty complex, afaik
[05:42:39] <GBGamer> check out https://github.com/rust-lang/rust/tree/master/src/librustc_borrowck
[05:43:15] <GBGamer> especially https://github.com/rust-lang/rust/blob/master/src/librustc_borrowck/borrowck/README.md
[05:43:17] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[05:43:37] <AngelOfSol> thanks for the links
[05:43:54] <GBGamer> thank you, I'm now actually reading it :P
[05:45:19] *** Quits: bkircher (bkircher@moz-geki0l.dip0.t-ipconnect.de) (Quit: )
[05:47:47] *** Joins: mdinger (mdinger@moz-2v3a3l.9bf5.ppaa.0306.2602.IP)
[05:48:09] *** Quits: mdinger (mdinger@moz-2v3a3l.9bf5.ppaa.0306.2602.IP) (Quit: Leaving)
[05:48:17] *** Joins: mdinger (mdinger@moz-2v3a3l.9bf5.ppaa.0306.2602.IP)
[05:48:18] *** Quits: c0170 (c0170@moz-dev.ffi.127.79.IP) (Ping timeout: 121 seconds)
[05:48:23] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[05:49:32] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[05:51:22] *** Quits: mcanders (carter@moz-321.g9o.171.216.IP) (Quit: Lost terminal)
[05:52:56] *** Quits: aneeshm (aneeshm@moz-9gmm42.ca.comcast.net) (Quit: leaving)
[05:54:23] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[05:55:25] *** Joins: bmaxa (bmaxa@moz-0r8.5a9.250.87.IP)
[05:55:57] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[05:56:31] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[05:56:34] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[05:57:31] *** Quits: derek_c (derek@moz-eg2lms.cit.cornell.edu) (A TLS packet with unexpected length was received.)
[05:58:34] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[05:59:09] *** Joins: areski (areski@moz-adq529.user.ono.com)
[05:59:39] *** Joins: }ls{ (uhelp@moz-hfv9aa.dip0.t-ipconnect.de)
[06:00:31] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:01:11] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[06:01:11] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[06:01:19] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[06:02:46] <GBGamer> argh we really need to make better llvm output
[06:02:52] <GBGamer> so slow :'(
[06:03:35] *** Quits: maugzoide (maugzoide@moz-ua3.1qv.43.177.IP) (Ping timeout: 121 seconds)
[06:03:39] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[06:03:59] *** Joins: andresv (textual@moz-m48tte.sta.estpak.ee)
[06:04:12] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[06:04:13] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Connection closed)
[06:04:18] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[06:04:30] *** Joins: drewm1980 (drewm1980@moz-a0vr2j.hujf.dasj.1812.2a02.IP)
[06:06:00] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[06:06:21] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[06:08:06] *** Joins: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[06:08:06] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Connection closed)
[06:08:16] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[06:08:34] *** Joins: JudasStud (Kyle@moz-i3f9r5.internode.on.net)
[06:08:54] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[06:09:05] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[06:09:22] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[06:09:43] *** Joins: Guest63 (textual@moz-k0bi5k.dip0.t-ipconnect.de)
[06:10:40] *** Quits: eddyb_ (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[06:10:44] *** Quits: Guest63 (textual@moz-k0bi5k.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[06:12:12] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (A TLS packet with unexpected length was received.)
[06:12:43] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[06:12:54] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[06:14:48] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:15:42] *** Quits: v21 (vee@moz-nsd.kug.204.223.IP) (Ping timeout: 121 seconds)
[06:16:19] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[06:17:41] *** Quits: }ls{ (uhelp@moz-hfv9aa.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[06:20:07] *** Joins: dstrbad (dstrbad@moz-7hckgl.net.t-com.hr)
[06:21:46] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[06:21:52] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Connection closed)
[06:24:40] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[06:24:46] *** Joins: yota (sdouche@moz-4hhr1h.3iqc.r856.0e35.2a01.IP)
[06:27:45] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[06:28:06] *** Quits: Takronix (Takronix@moz-nm15k0.hr.cox.net) (Ping timeout: 121 seconds)
[06:28:27] *** Joins: v21 (vee@moz-2gv.oe1.4.171.IP)
[06:31:56] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[06:33:06] <Mutabah> *grumble* borrowck
[06:33:42] *** Joins: }ls{ (uhelp@moz-98eld5.dip0.t-ipconnect.de)
[06:33:47] <Mutabah> 'if let Some(mut_ref) = item.mut_ref() { return mut_ref; } else { return item.other_mut_ref(); }
[06:35:59] *** Joins: ixti (ixti@moz-21k.dae.119.188.IP)
[06:36:04] *** Joins: trigen (MSX@moz-2vj6gq.tweaknet.net)
[06:36:44] *** Quits: GBGamer (npm@moz-92sbjt.wa.comcast.net) (Quit: process::exit(0))
[06:37:44] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:38:10] <seanmonstar> anyone set up racer in vim to hook in multirust?
[06:38:32] <seanmonstar> such that it uses the right rust_src depending on the override?
[06:38:47] *** Quits: iiixtiii (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[06:40:22] *** Joins: debuuu (debu@moz-thlvnr.dyn.telefonica.de)
[06:40:58] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[06:41:24] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[06:41:35] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[06:42:16] *** Quits: zeebo (zeebo@moz-6rqv1a.ut.comcast.net) (Ping timeout: 121 seconds)
[06:43:06] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[06:43:29] *** Joins: mr_fribble (Mibbit@moz-juv.9o3.252.72.IP)
[06:43:40] *** Quits: kkimdev (kkimdev@moz-q8ps02.6cjs.vk5s.0000.2620.IP) (Ping timeout: 121 seconds)
[06:44:18] *** Joins: pavelpenev (quassel@moz-8vs4j7.btc-net.bg)
[06:44:46] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[06:44:58] *** Joins: arBmind (Andreas@moz-3frsvh.dyn.telefonica.de)
[06:45:00] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (Ping timeout: 121 seconds)
[06:45:14] *** Quits: mr_fribble (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:45:38] <posix4e> This must be a stupid question but why does LookupHost next() return a socketaddr shouldn't it just be an ip?
[06:45:56] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:45:57] *** Joins: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se)
[06:46:02] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[06:46:32] *** Quits: drewm1980 (drewm1980@moz-a0vr2j.hujf.dasj.1812.2a02.IP) (Ping timeout: 121 seconds)
[06:46:50] <Mutabah> posix4e: Internal reasons probably
[06:47:03] *** Quits: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be) (Ping timeout: 121 seconds)
[06:47:08] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[06:47:17] <Mutabah> IMO, it should look up a host/service pair (so DNS SRV records can be used)
[06:47:33] *** Quits: areski (areski@moz-adq529.user.ono.com) (Ping timeout: 121 seconds)
[06:48:19] *** Quits: JudasStud (Kyle@moz-i3f9r5.internode.on.net) (Connection closed)
[06:48:50] <posix4e> Ah I see lookuphost vs lookupaddr
[06:48:59] <rustyrazorblade> iâ€™m trying to figure out how to fix this â€œcannot move out of borrowed contentâ€ issue iâ€™m having here: https://github.com/rustyrazorblade/thunderdome/blob/map_improvements/src/traversal.rs#L51  i want to create a bunch of Vecs from a single vec (so I know i need to clone()) but Iâ€™m not sure if/how that works with an enum.. help?
[06:49:09] <posix4e> wait no
[06:49:10] <posix4e> hmm
[06:49:18] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[06:49:32] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:49:40] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[06:50:03] <mdinger> I've got a trait at http://is.gd/Vx6ypU and the associated types RFC stated there is a long and short form for bounds on associated types
[06:50:08] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[06:50:25] <Mutabah> rustyrazorblade: Well, you can'y move out of a borrow
[06:50:38] <Mutabah> rustyrazorblade: Do you instead intend to pass an owned Vec to that function?
[06:50:42] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[06:50:43] <mdinger> I tried to do the short form but it doesn't work. Is it just not ready yet or did I do it wrong?
[06:50:59] <mdinger> look at function `printer_compact()`
[06:51:40] <datalus> ugh
[06:51:50] <datalus> i picked the wrong time to care about figuring out a file's modified time :D
[06:51:52] <Mutabah> mdinger: "A=T, T: Display"?
[06:52:01] <datalus> seems like that part of libstd is really new
[06:52:16] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Quit: Leaving.)
[06:52:21] <Mutabah> mdinger: This method may perform a DNS query to resolve host and may also inspect system configuration to resolve the specified hostname.
[06:52:24] <Mutabah> ... sorry
[06:52:38] *** Joins: slomo (slomo@moz-p8m0g2.net)
[06:52:42] <Mutabah> mdinger: fn printer_compact<C: Contains<A=T>,T:Display>(c: C)
[06:52:50] <rustyrazorblade> Mutabah: iâ€™m not really sure what that means, unfortunately.  iâ€™m trying to add the element im iterating over into a vector.  iâ€™d be fine with copying it, but not sure how that works w/ an enumâ€¦
[06:53:17] <Mutabah> rustyrazorblade: element.clone() is how you make a copy
[06:53:42] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Ping timeout: 121 seconds)
[06:53:45] <mdinger> hmm
[06:53:53] *** Joins: csherratt (colin@moz-357qdq.cable.teksavvy.com)
[06:53:53] <Mutabah> rustyrazorblade: A point of note- The &Vec in the argument list of permute should be &[GraphElement]
[06:54:04] <Mutabah> rustyrazorblade: (&Vec is a near-useless anti-pattern)
[06:54:25] *** Joins: kgrandon (Adium@moz-ilv.ukc.122.2.IP)
[06:54:37] <mdinger> Mutabah: Thanks. That works
[06:54:42] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:55:32] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:55:34] <rustyrazorblade> Mutabah: GraphElement is an enumâ€¦ can it be cloned?  i get a compiler error
[06:55:47] <Mutabah> rustyrazorblade: You can derive clone on it
[06:56:16] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[06:56:17] *** Quits: GGist (Mibbit@moz-st7v59.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:56:38] <Mutabah> rustyrazorblade: put #[derive(Clone)] before the enum definition, it'll also require VertexProxy etc to be Clone
[06:56:40] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Quit: Leaving)
[06:56:45] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[06:56:57] <rustyrazorblade> Mutabah: ok, iâ€™ll try that.  thank you!
[06:57:14] <oceanwhit> did something happen to std::rand?
[06:57:30] <Mutabah> oceanwhit: It's now an external crate
[06:57:38] <Mutabah> (has been for a while actually)
[06:57:41] <oceanwhit> mutabah, how come?
[06:57:51] <Mutabah> oceanwhit: It's not ready for stabilisation
[06:58:05] *** Joins: Guest63 (textual@moz-hncaom.web.vodafone.de)
[06:58:10] <mdinger> mutabah: why is `<A=T>` needed? just a bug?
[06:58:28] *** Quits: dinfuehr (dinfuehr@moz-rf6tdk.highway.telekom.at) (Connection closed)
[06:58:40] <Mutabah> mdinger: No, not a bug. What's going on is that that syntax is <Assoc=Type>, so you need to define a type for it
[06:58:48] <tmtwd> what is the best data structure for representing graphs in rust?
[06:58:52] <oceanwhit> mutabah, are you talking about the unstable rand in the api docs?
[06:59:00] <Mutabah> oceanwhit: Yes
[06:59:01] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:59:26] <rustyrazorblade> Mutabah: that works.  thanks again
[06:59:48] <mdinger> mutabah: oh, okay
[06:59:50] *** Joins: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net)
[07:00:02] <oceanwhit> mutabah, In that case, what is the best way generate randomness right now?
[07:00:07] *** Quits: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se) (Client exited)
[07:00:12] <Mutabah> oceanwhit: use the rand crate on crates.io
[07:00:20] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:00:21] <oceanwhit> k
[07:01:46] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:02:43] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:03:09] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[07:03:41] *** Joins: twipeD (wipeD@moz-mesdod.dip0.t-ipconnect.de)
[07:03:50] *** Joins: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP)
[07:03:52] *** Quits: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net) (Ping timeout: 121 seconds)
[07:07:17] <ChrisMorgan> Would anyone be willing to review my article before I remove the â€œdraftâ€ watermark and publish it abroad? http://chrismorgan.info/blog/rust-ownership-the-hard-way.html
[07:07:36] <bstrie> I shall
[07:07:39] <ChrisMorgan> Thanks.
[07:07:48] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[07:08:20] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Connection closed)
[07:08:51] <blaenk> and my hax
[07:09:45] <bstrie> ChrisMorgan: "it does explain all the rules that go to make" <-- missing a word in "go to make"?
[07:10:12] <ChrisMorgan> bstrie: no
[07:10:33] <ChrisMorgan> (In en_AU, at least, my wording in that sentence is legit.)
[07:11:10] *** AutomatedTester is now known as AutomatedTester|AFK
[07:11:17] <ChrisMorgan> The word â€œgoâ€ could read â€œcombineâ€ with the same meaning.
[07:11:23] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[07:11:27] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[07:11:31] <bstrie> ChrisMorgan: the sentence "It is moved at such a time to the new location and is no longer usable in the old." is a little hard to parse
[07:11:50] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[07:12:39] <ctjhoa> ChrisMorgan I add this article in https://github.com/ctjhoa/rust-learning/
[07:12:57] <ChrisMorgan> ctjhoa: when I publish it, feel free.
[07:13:52] *** Quits: andschwa (andschwa@moz-v32.q66.42.104.IP) (Ping timeout: 121 seconds)
[07:13:55] <ChrisMorgan> bstrie: how does this read: â€œEach object can be used exactly once. When you use an object it is moved to the new location and is no longer usable in the old.â€
[07:14:02] *** Joins: Takronix (Takronix@moz-nm15k0.hr.cox.net)
[07:14:18] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Quit: Leaving)
[07:14:29] *** Quits: dstrbad (dstrbad@moz-7hckgl.net.t-com.hr) (A TLS packet with unexpected length was received.)
[07:14:35] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[07:15:24] *** Joins: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP)
[07:15:27] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Quit: My laptop has gone to sleep. ZZZzzzâ€¦)
[07:15:41] <bstrie> ChrisMorgan: clearer
[07:15:45] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[07:16:03] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:16:53] *** Joins: kkimdev (kkimdev@moz-jq0.6h8.135.104.IP)
[07:16:53] *** Joins: andschwa (andschwa@moz-v32.q66.42.104.IP)
[07:17:25] <bstrie> ChrisMorgan: the line "If it was just an implied () as is commonly explained" doesn't necessarily make sense for someone new to rust, and hasn't seen the "common explanation" before
[07:18:06] <ChrisMorgan> bstrie: good point, Iâ€™ll alter it.
[07:18:27] *** Quits: Guest63 (textual@moz-hncaom.web.vodafone.de) (Ping timeout: 121 seconds)
[07:19:17] <andresv> How to cast 0x3F80000 to f32 which should be 1.00 as float? Here are some rust examples that did not work and C code that works: http://is.gd/bzYCDf
[07:19:19] <bstrie> ChrisMorgan: "Rust also has the return keyword for convenienceâ€™s sake, but it isnâ€™t strictly necessary." might want to say that it's used to enable early returns, rather than implying that it's a redundant feature
[07:19:25] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Connection closed)
[07:19:37] *** Joins: dstrbad (dstrbad@moz-nril2i.cable.xnet.hr)
[07:19:40] *** Joins: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP)
[07:20:03] <Mutabah> Yeah
[07:20:15] *** Joins: hebz0rl (hebz0rl@moz-cfcrtj.static.qsc.de)
[07:20:15] <Mutabah> andresv: Such a cast would be a transmute
[07:20:19] *** Joins: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be)
[07:21:15] <Mutabah> playbot: unsafe { ::std::mem::transmute::<u32,f32>(0x3F800000) }
[07:21:16] -playbot- 1
[07:21:23] <Mutabah> andresv: (you forgot a zero)
[07:21:28] <ChrisMorgan> bstrie: I *think* that in a pre-SEME world `return` does not increase expressiveness at all, which would fit my definition of â€œnot strictly necessaryâ€. Youâ€™re right that I should alter the wording, though.
[07:21:48] *** Quits: slashus2 (slashus2___@moz-dj7anc.res.rr.com) (Quit: Leaving)
[07:22:38] <bstrie> ChrisMorgan: it's true that you can refactor any code that uses early returns to just be nested ifs instead, but perhaps it's better not to suggest to readers that rust has a TIMTOWTDI philosophy :)
[07:23:18] *** Quits: Takronix (Takronix@moz-nm15k0.hr.cox.net) (Quit: Nettalk6 - www.ntalk.de)
[07:23:28] <ChrisMorgan> I believe that when SEME lands, `return` will increase expressiveness.
[07:23:41] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[07:23:42] <}ls{> What's TIMTOWTDI?
[07:24:01] <ChrisMorgan> }ls{: search!
[07:24:03] <bstrie> }ls{: http://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it
[07:24:09] <huon> ChrisMorgan: I suspect return may increase expressiveness with loops
[07:24:23] <ChrisMorgan> huon: ooh, yes, good point.
[07:24:24] *** Quits: spider-mario (spidermario@moz-ls3.trt.160.37.IP) (Connection closed)
[07:24:27] <andresv> Mutabah: thanks a lot
[07:24:28] <huon> although I guess careful `break` would work too
[07:24:41] <bstrie> ChrisMorgan: this ligature for "etc" is hilarious
[07:24:53] *** Joins: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net)
[07:24:53] <ChrisMorgan> bstrie: itâ€™s just an italic &c.
[07:24:54] *** Quits: dawehner (quassel@moz-al1.uga.249.209.IP) (Ping timeout: 121 seconds)
[07:24:54] <bstrie> how did you even get my browser to do that
[07:25:01] <bstrie> oh I see
[07:25:36] *** Quits: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be) (Ping timeout: 121 seconds)
[07:25:54] * ChrisMorgan prefers &c. to etc., and it shows up especially well in the font Crimson.
[07:25:58] *** Joins: Takronix (Takronix@moz-nm15k0.hr.cox.net)
[07:26:23] <ChrisMorgan> The history of the ampersand is rather fascinating.
[07:26:33] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:26:48] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[07:27:42] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Quit: Leaving)
[07:27:48] *** Quits: jedireza (jedireza@moz-s2v.juj.177.166.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[07:27:48] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[07:27:54] *** Joins: jedireza (jedireza@moz-allpoi.ca.comcast.net)
[07:27:55] *** Joins: kamilc__ (kamil@moz-u843uu.play-internet.pl)
[07:27:59] *** Quits: chromatome (chromatome@moz-2eks30.mc.videotron.ca) (Connection closed)
[07:28:16] <Ms2ger> SEME?
[07:28:22] <mdinger> for a sorta intro document, you define define traits recursively. "Trait objects ... satisfy a trait" ...
[07:28:35] <Ms2ger> Link?
[07:29:19] <ChrisMorgan> !SEME
[07:29:19] <rustbot> Non-lexical borrow scopes https://github.com/rust-lang/rfcs/issues/811
[07:29:42] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[07:30:46] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[07:30:56] *** Joins: slomo_ (slomo@moz-p8m0g2.net)
[07:31:16] *** Quits: slomo (slomo@moz-p8m0g2.net) (A TLS packet with unexpected length was received.)
[07:31:21] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[07:31:23] <bstrie> !INHTWAMA
[07:31:59] <bstrie> ChrisMorgan: your "which it isn't" link isn't opening for me
[07:31:59] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[07:33:15] <ChrisMorgan> bstrie: hmm, so I see. It worked on Firefox after unescaping various of the things but doesnâ€™t in Chrome.
[07:33:23] *** Joins: Guest63 (textual@moz-hncaom.web.vodafone.de)
[07:33:57] <bstrie> ChrisMorgan: using firefox here
[07:33:58] <ChrisMorgan> I suspect it could be the XSS protection.
[07:34:04] <ChrisMorgan> Oh? WFM on Firefox.
[07:34:55] <bstrie> ChrisMorgan: is it just loading the code from the cookie?
[07:35:06] *** Quits: freefall (ff@moz-i72.nhl.10.176.IP) (A TLS packet with unexpected length was received.)
[07:35:10] *** Joins: freefall (ff@moz-4lmh4m.privacyfoundation.ch)
[07:35:18] <ChrisMorgan> No, that occurred to me and itâ€™s not doing that.
[07:35:22] <bstrie> for me when I click that link it just shows what I had in the playpen last
[07:35:28] *** Quits: kkimdev (kkimdev@moz-jq0.6h8.135.104.IP) (Quit: Leaving)
[07:35:40] *** Joins: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de)
[07:35:53] *** Joins: mkpankov (mkpankov@moz-7h8.jvq.149.83.IP)
[07:36:07] <ChrisMorgan> Argh, it could be something particularly devious in the cookie stuff, I need to check in more depthâ€¦
[07:36:10] <bstrie> ChrisMorgan: I also don't understand that example in general... why are you doing .to_string, then turning it back into a reference with & before boxing it? and why the [..]?
[07:37:18] <ChrisMorgan> bstrie: itâ€™s a demonstration of the concept of the thing. I could just as easily have done it on i32 and &i32 instead of String and &str if I had wanted to.
[07:37:41] *** Quits: mdinger (mdinger@moz-2v3a3l.9bf5.ppaa.0306.2602.IP) (Quit: Leaving)
[07:37:46] *** Quits: mkpankov` (mkpankov@moz-qu8.0jj.23.84.IP) (Ping timeout: 121 seconds)
[07:38:26] <ChrisMorgan> OK, s/=/%3D/ and it works.
[07:38:40] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[07:39:55] *** Quits: kgrandon (Adium@moz-ilv.ukc.122.2.IP) (Quit: Leaving.)
[07:40:15] *** Joins: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be)
[07:40:24] *** Joins: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com)
[07:41:00] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[07:41:01] *** Quits: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net) (Ping timeout: 121 seconds)
[07:41:07] *** Quits: xificurC (xificurC@moz-3u7gmd.chello.sk) (Quit: WeeChat 1.1.1)
[07:41:15] *** Joins: xificurC (xificurC@moz-3u7gmd.chello.sk)
[07:41:54] <bstrie> ChrisMorgan: also, `println` never frees anything, so the line "string has been freed by the println! statement" doesn't make sense to me
[07:42:30] <ChrisMorgan> bstrie: yeah, itâ€™s ambiguous. I meant â€œby the time you get to the println! statementâ€.
[07:42:31] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[07:43:33] <bstrie> ChrisMorgan: I would insert some guiding comments on that inner block to emphasize what the reader should be looking at, so they don't get the impression that they need to scrutinize the impl
[07:44:16] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[07:44:26] <ChrisMorgan> To mdinger comment (though mdinger is gone): I donâ€™t attempt to define traits; and defining trait objects as I do is the only way to do itâ€”a trait object is a heterogeneous container of a single value of a type implementing a certain trait.
[07:44:58] *** Joins: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net)
[07:45:26] *** Quits: debuuu (debu@moz-thlvnr.dyn.telefonica.de) (Ping timeout: 121 seconds)
[07:45:44] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[07:46:38] *** Quits: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be) (Ping timeout: 121 seconds)
[07:47:30] *** Quits: csherratt (colin@moz-357qdq.cable.teksavvy.com) (Quit: Konversation terminated!)
[07:47:59] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Connection closed)
[07:48:01] <bstrie> ChrisMorgan: at "In the first code exampleâ€™s error" I would add a link to the first code example, for reader convenience
[07:48:01] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[07:48:15] <ChrisMorgan> bstrie: I went with strings rather than integers as references to integers are a little hard to justify in non-generic interfaces, while strings canâ€™t be used without references.
[07:48:27] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[07:48:36] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:48:50] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[07:49:00] *** Quits: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net) (Ping timeout: 121 seconds)
[07:49:00] *** Quits: mkpankov (mkpankov@moz-7h8.jvq.149.83.IP) (Quit: Bye)
[07:49:16] *** Joins: mkpankov (user@moz-nleeis.partnertech.ru)
[07:49:37] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:49:55] <bstrie> ChrisMorgan: it's already a contrived example, making it more contrived isn't a sin :)
[07:49:56] <ChrisMorgan> bstrie: good idea
[07:50:57] *** Joins: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net)
[07:51:10] <bstrie> ChrisMorgan: the treatment of Clone there kind of raises more questions than it answers, might want to just leave it out entirely
[07:51:17] <ChrisMorgan> bstrie: when I first wrote it I tossed up whether to put in a trait at allâ€”AsStr.as_str could just as easily be AsRef<str>.as_ref
[07:51:26] <bstrie> oh right, you can't because Copy implies Clone now :P
[07:51:38] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Ping timeout: 121 seconds)
[07:51:54] <ChrisMorgan> Yep, which is a Good Thingâ„¢.
[07:53:13] <ChrisMorgan> bstrie: what do you think, should I go for AsRef<str> instead of writing out a new trait?
[07:53:45] *** Joins: zacts (user@moz-qrtjuh.nm.comcast.net)
[07:53:50] <bstrie> ChrisMorgan: I dunno, let me see the full modified example
[07:53:57] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[07:54:04] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[07:54:06] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[07:54:27] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[07:54:31] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[07:54:33] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:54:35] <ChrisMorgan> Drop the trait and impl, s/AsStr/AsRef<str>/, s/as_str/as_ref/
[07:55:20] *** Quits: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP) (Ping timeout: 121 seconds)
[07:58:41] <bstrie> ChrisMorgan: either way you don't need the `[..]` on &string
[07:59:05] *** Quits: dstrbad (dstrbad@moz-nril2i.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[07:59:26] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[07:59:34] <ChrisMorgan> Hmm, I think Iâ€™ll go with AsRef<i32>.
[07:59:48] <ChrisMorgan> Then the question isâ€”what number shall I use?
[08:00:07] <bstrie> ChrisMorgan: 42, clearly
[08:00:07] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[08:00:27] <ChrisMorgan> bstrie: justify your choice.
[08:00:41] * ChrisMorgan refuses to admit that that was the first number he typed in
[08:00:53] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[08:00:53] * ChrisMorgan chooses 51
[08:01:24] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:01:29] *** Quits: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP) (A TLS packet with unexpected length was received.)
[08:01:35] *** Joins: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP)
[08:01:43] <bstrie> I don't like AsRef either, don't we have some prettier trait to use as a trait object that takes a type parameter
[08:02:00] *** Joins: kushal (kdas@moz-jdm.801.63.123.IP)
[08:02:01] *** Quits: kushal (kdas@moz-jdm.801.63.123.IP) (Quit: Leaving)
[08:02:06] <bstrie> ChrisMorgan: you can also get rid of the box and just do `let trait_object: &AsRef<str> = {`
[08:02:08] *** Joins: dstrbad (dstrbad@moz-nril2i.cable.xnet.hr)
[08:02:26] <bstrie> ChrisMorgan: you can also get rid of the println bit and do `let foo = trait_object;` to mirror the first example
[08:03:49] <bstrie> ChrisMorgan: I'm still unsatisfied with the treatment of Clone, if you don't want to give it a full explanation then something along the lines of "hey don't worry about this bit" might suffice, with a link to the book or something
[08:04:09] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Ping timeout: 121 seconds)
[08:05:40] <ChrisMorgan> Actually, I need AsRef<str>, I forgot that AsRef<T> isnâ€™t implemented for &T.
[08:06:23] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:06:43] <bstrie> ChrisMorgan: in the part on lifetimes in generics where you have `'decoded: 'buf` it might be worth reinforcing how rarely this is needed
[08:06:51] <bstrie> ChrisMorgan: other than that, I have no comments
[08:06:53] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[08:07:13] * bstrie headache, goes to pass out
[08:07:23] <ChrisMorgan> bstrie: thanks.
[08:07:43] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[08:07:51] *** Joins: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP)
[08:07:53] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[08:08:00] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:08:20] *** Quits: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP) (A TLS packet with unexpected length was received.)
[08:08:43] *** Joins: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP)
[08:08:44] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[08:09:00] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[08:10:06] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[08:10:17] <ChrisMorgan> Hmm, removing the trait removes the convenient location in which to reference lifetime elision. Ah well.
[08:11:00] *** Joins: Marvin (Marvin@moz-n9a.5ji.183.188.IP)
[08:11:22] <Marvin> Can you guys help me understand borrowing/ownership?
[08:11:29] <Marvin> Or is this the wrong channel
[08:11:47] <ChrisMorgan> Marvin: itâ€™s the right channel.
[08:11:48] *** Joins: JFlash (textual@moz-eimsel.fios.verizon.net)
[08:11:54] <Marvin> Okay, thanks
[08:12:11] <ChrisMorgan> As a matter of fact, weâ€™ve just been reviewing an article of mine on the subject which Iâ€™m about to publish: http://chrismorgan.info/blog/rust-ownership-the-hard-way.html
[08:12:13] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[08:12:27] <ChrisMorgan> Iâ€™d say more, but I need to dash off right now, sorry.
[08:12:36] <bstrie> Marvin: read that article that ChrisMorgan just sent you, and if you think it's rubbish say so because it is intended exactly for people like you
[08:12:37] <ChrisMorgan> Ask questions and other people will respond.
[08:12:51] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[08:13:04] <ChrisMorgan> Leave a message even after I disappear, Iâ€™ll check the public logs a bit later.
[08:13:11] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[08:13:23] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[08:13:33] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[08:13:46] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[08:13:47] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[08:14:10] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[08:14:22] <Marvin> Yeah, all of this I knew already, what I'm having trouble with is real-world usage. If I have this Python code: http://hastebin.com/uzutoyocak.py how would I best write that in Rust?
[08:14:28] *** Quits: choplin (choplin@moz-q517gi.u-tokyo.ac.jp) (Connection closed)
[08:14:38] <Marvin> I tried doing the obvious but "line" does not live long enough
[08:16:09] *** Quits: DemonOne (Avi@moz-bhsph0.red.bezeqint.net) (Ping timeout: 121 seconds)
[08:16:36] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[08:17:23] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:17:25] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (Ping timeout: 121 seconds)
[08:17:28] <bstrie> Marvin: what are you using to replace the `input` call?
[08:17:40] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:17:41] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:17:44] <Marvin> bstrie, io::stdin().read_line(&mut line).unwrap();
[08:18:24] <Ms2ger> I don't see the issue
[08:18:30] <Ms2ger> lines is Vec<String>, right?
[08:18:50] <Marvin> no, Vec<&str>
[08:18:59] <Marvin> lines.push(line.as_str())
[08:19:02] <Ms2ger> Make it Vec<String>, then :)
[08:19:08] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[08:19:13] *** Joins: dhole_ (dhole@moz-6muubn.dynamic.jazztel.es)
[08:19:21] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[08:19:27] <bstrie> Marvin: you have `let line = io::stdin().read_line(&mut line).unwrap();` ?
[08:19:33] <Marvin> no
[08:19:42] <Ms2ger> bstrie, that doesn't make sense :)
[08:19:46] <bstrie> exactly :P
[08:19:56] <Ms2ger> let line = String::new(); io::stdin().read_line(&mut line).unwrap(); lines.push(line.as_str());
[08:19:59] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[08:20:18] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[08:20:37] <bstrie> Ms2ger: does read_line blow away the input buffer each time?
[08:20:51] <bstrie> wondering if we can declare `line` outside the loop
[08:20:54] *** Quits: dhole (dhole@moz-47n32q.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[08:21:05] <Ms2ger> That wouldn't exactly help
[08:21:15] *** Joins: choplin (choplin@moz-hqa.ohm.51.192.IP)
[08:21:17] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[08:21:26] <bstrie> it would make it less wasteful :P
[08:21:42] <Ms2ger> You'd end up with a vec with ten times the last line if the borrow checker didn't stop you
[08:22:09] <bstrie> I don't see why, you're still pushing inside the loop
[08:22:29] <bstrie> oh wait we're not copying
[08:22:31] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[08:22:32] <Ms2ger> No
[08:23:08] <bstrie> somebody just give me a complete frigging code example, I have a splitting migraine and I'm too tired for this :P
[08:23:26] *** Quits: JFlash (textual@moz-eimsel.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[08:23:30] *** Joins: JFlash (textual@moz-eimsel.fios.verizon.net)
[08:23:39] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:24:13] <Ms2ger> bstrie, http://is.gd/IvxXSb
[08:24:21] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[08:24:27] <Ms2ger> Well, let mut lines
[08:24:49] <Ms2ger> Working version: http://is.gd/2rOlYm
[08:24:53] *** Joins: fyolnish (fyolnish@moz-mlicum.panda-world.ne.jp)
[08:24:58] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[08:25:34] *** Quits: JFlash (textual@moz-eimsel.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[08:25:41] *** Quits: james4k_ (james@moz-e6no8q.consolidated.net) (Ping timeout: 121 seconds)
[08:25:47] *** Joins: abique (abique@moz-alq0r9.ko9f.54u1.0e35.2a01.IP)
[08:27:11] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[08:27:56] <bstrie> Marvin: ^
[08:28:07] <Marvin> oh, thanks
[08:29:27] *** Joins: tomaka_ (Pierre@moz-8lbrro.abo.wanadoo.fr)
[08:29:29] <bstrie> Marvin: without seeing your code, the problem was likely that you were creating "line" inside the scope of the loop, then trying to store a reference to it within the vector, and rust didn't like that your vector lived longer than the loop
[08:29:47] *** Quits: twipeD (wipeD@moz-mesdod.dip0.t-ipconnect.de) (Quit: G'bye)
[08:29:55] <bstrie> Marvin: because your vector could have contained references to freed memory
[08:30:02] <bstrie> *would have
[08:30:26] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Client exited)
[08:30:30] <Marvin> I'm not sure how your code doesn't do that, but (somehow) it compiles
[08:30:31] *** Quits: choplin (choplin@moz-hqa.ohm.51.192.IP) (Connection closed)
[08:30:37] *** Quits: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[08:30:41] *** Joins: choplin (choplin@moz-hqa.ohm.51.192.IP)
[08:31:04] <Ms2ger> How well do you understand ownership? :)
[08:31:26] *** Joins: alonlevy (alon@moz-kfavec.red.bezeqint.net)
[08:31:28] <Marvin> Somewhat
[08:32:14] <Ms2ger> The difference is that pushing the String makes the Vec own the memory, rather than the `line` variable in the loop
[08:32:25] <bstrie> Marvin: the difference with Ms2ger's example is that there's no references involved, when `lines.push(line)` happens it's moving ownership entirely out of the scope
[08:32:58] <bstrie> after that call the vector owns the memory
[08:33:21] <bstrie> if you tried to reference `line` again after that call, you'd get a compiler error
[08:34:24] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[08:34:27] *** Quits: trigen (MSX@moz-2vj6gq.tweaknet.net) (Ping timeout: 121 seconds)
[08:36:27] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[08:38:25] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[08:38:35] *** Joins: kgrandon (Adium@moz-ao9tac.nemh.1887.0450.2001.IP)
[08:38:55] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[08:40:35] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[08:42:47] *** Joins: wei2912 (wei2912@moz-phb.h8v.156.175.IP)
[08:43:01] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[08:45:54] *** Joins: ehiggs (ehiggs@moz-pob5cp.ugent.be)
[08:46:36] *** tomaka_ is now known as tomaka
[08:46:40] *** Quits: qard (qard@moz-nekdha.vc.shawcable.net) (Quit: leaving)
[08:47:21] <Ms2ger> "`&T`, which is `Copy` when `T` is `Copy`"
[08:47:26] <Ms2ger> That's not true, is it?
[08:47:49] <tomaka> &T is always Copy
[08:48:15] <Marvin> So now what if I want to trim it? String.trim() returns an &str, and if I change the vector to be &str, "line" doesn't live long enough, wut? http://is.gd/0e9Ywp
[08:48:18] <tomaka> rusti: fn foo<T: Copy>(_: T) {}   let a: String = format!("hello");  foo(&a);
[08:48:20] -playbot- ()
[08:49:09] *** Joins: degorov (Mibbit@moz-vgj.itt.14.176.IP)
[08:49:21] *** Joins: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be)
[08:49:54] <tomaka> Marvin: the &str returned by .trim() is a substring of "line"
[08:50:12] <Marvin> what would I do then?
[08:50:14] *** Joins: mkoskar (mkoskar@moz-kvs6fc.torservers.net)
[08:50:20] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[08:50:22] <tomaka> The simple solution is to add .to_string()
[08:50:25] <tomaka> .trim().to_string()
[08:50:33] *** Joins: espadrine (tyl@moz-qfr4fg.abo.wanadoo.fr)
[08:50:39] <tomaka> The complex solution is moving "line" out of the loop
[08:50:45] <Marvin> thanks
[08:50:51] <Marvin> rust is hard >.>
[08:51:28] *** Quits: arBmind (Andreas@moz-3frsvh.dyn.telefonica.de) (Quit: Leaving.)
[08:51:48] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Client exited)
[08:52:04] *** Joins: Gabriel_7 (Gabriel@moz-po3t0n.loria.fr)
[08:52:08] *** Joins: trigen (MSX@moz-2vj6gq.tweaknet.net)
[08:52:25] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[08:52:36] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:52:37] <jpg> Marvin: feels that way sometimes. :)
[08:52:57] <Marvin> I guess it'll get easier as I go
[08:53:05] <Marvin> Java was confusing as all hell when I first learned it
[08:53:13] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[08:53:13] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[08:53:31] *** Quits: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be) (Ping timeout: 121 seconds)
[08:53:32] <degorov> Hey, all
[08:53:42] <jpg> It does, Rust is the second coming of C for me. Your first enlightment is pointers, the second enlightment is ownership.
[08:53:52] <Ms2ger> steveklabnik, r? https://github.com/rust-lang/rust/pull/25327
[08:54:06] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[08:54:41] <degorov> I've been thinking recently of default access to structs in Rust, and it seems to me that it should be public readonly by default, not private
[08:54:51] *** Joins: martinhath (martin@moz-rqo6fk.wlan.ntnu.no)
[08:55:09] <degorov> Or there should be an easy way to provide such an access instead of manually writing readonly getters
[08:55:30] *** Quits: trigen (MSX@moz-2vj6gq.tweaknet.net) (Quit: )
[08:55:38] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[08:55:58] *** Joins: laumann (thomas@moz-1i4.hq0.225.130.IP)
[08:56:06] <degorov> Am I correct to assume that Rust enables you to make deep readonly access to you structs?
[08:56:35] <degorov> I mean that if you give immutable ref to a field the user can't change any nested fields in it without using unsafe?
[08:56:53] *** Joins: areski (areski@moz-erfa2b.dynamicIP.rima-tde.net)
[08:57:19] <Ms2ger> Definitely not :)
[08:57:34] <tomaka> depends if they have interior mutability
[08:57:43] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[08:57:47] <tomaka> if you have a Cell, you can
[08:57:53] <degorov> Hmm
[08:57:56] *** Joins: CarpNet_ (Alasdair@moz-44bvmo.kimsufi.com)
[08:57:57] *** Quits: CarpNet (Alasdair@moz-44bvmo.kimsufi.com) (Connection closed)
[08:57:57] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[08:58:00] *** Quits: dumbbell (dumbbell@moz-tfn004.made4.biz) (Connection closed)
[08:58:12] *** Joins: dumbbell (dumbbell@moz-tfn004.made4.biz)
[08:58:16] <degorov> Don't know what the Cell is:)
[08:58:35] <degorov> But if we take vector for example
[08:58:52] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[08:58:55] *** CarpNet_ is now known as CarpNet
[08:59:22] <degorov> It returns a slice and there's no way I can turn it into a mutable vector, right?
[08:59:29] *** Joins: shellac (pldms@moz-c7026f.bris.ac.uk)
[09:00:07] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[09:01:21] <degorov> ok, so if there is a way to mutate the state by immutable reference, the default readonly access is out of the question...
[09:01:25] *** Quits: andresv (textual@moz-m48tte.sta.estpak.ee) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[09:01:35] *** Joins: moa (Cedric@moz-ltq9j8.rev.numericable.fr)
[09:02:05] *** Quits: csoriano (csoriano@moz-vs8vb1.redhat.com) (Client exited)
[09:02:13] *** Joins: csoriano (csoriano@moz-16g.ma8.175.213.IP)
[09:02:35] <degorov> But making readonly access to structs field without manual getters would still be good:)
[09:03:22] *** Joins: mpk (mpk@moz-4d8.67q.47.195.IP)
[09:03:30] *** Quits: mpk (mpk@moz-4d8.67q.47.195.IP) (Client exited)
[09:03:41] <jpg> How do I get a mutable slice of an array from an offset? I figured it would be pretty common but I canâ€™t find how to do it.
[09:03:53] <degorov> I'm an functional programming fan and write most of my code in immutable fashion:)
[09:03:54] <Ms2ger> &mut x[5..]
[09:03:59] *** Joins: arBmind (Andreas@moz-6vslbj.adsl.alicedsl.de)
[09:04:22] <jpg> Ms2ger: Cheers, any tips on what to search for in the docs to find that sort of stuff?
[09:06:08] <mkpankov> aren't slices unstable?
[09:06:12] *** Joins: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be)
[09:06:24] *** Joins: Nextra (Nextra@moz-99g9a5.ewe-ip-backbone.de)
[09:06:51] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[09:07:05] <tomaka> I don't really see how rust would be usable without slices
[09:07:19] *** Quits: hiberno (flume@moz-bio9kd.io) (Quit: WeeChat 1.1.1)
[09:07:46] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[09:08:06] <bstrie> Marvin: rust exposes how hard strings really are, most languages tend to gloss over the details :)
[09:08:10] <bstrie> for good reason...
[09:08:17] <Marvin> hah
[09:08:29] <Marvin> another question, how would I have recursive types?
[09:08:29] <mkpankov> oh, they aren't
[09:08:35] *** Quits: dstrbad (dstrbad@moz-nril2i.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[09:08:43] <Marvin> HashMap<String, HashMap<String, HashMap<String, ...>>>
[09:09:19] <mkpankov> Marvin: box them
[09:09:25] <bstrie> Marvin: you need to make sure your types don't have infinite size, or else rust will yell at you because infinity memory is too much memory
[09:09:25] <Marvin> what?
[09:09:25] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[09:09:30] *** Quits: fyolnish (fyolnish@moz-mlicum.panda-world.ne.jp) (Connection closed)
[09:09:50] <bstrie> Marvin: what mkpankov is saying is that you need to introduce a layer of indirection so that your types do not take up infinite size on disk
[09:09:58] <bstrie> Marvin: often this is done by a Box
[09:10:03] <mkpankov> ^ on stack ? :)
[09:10:08] <Marvin> how would I do that in the type?
[09:10:09] <bstrie> anywhere :P
[09:10:26] <VShell> Marvin: type T = HashMap<String, Box<T>>
[09:10:29] <VShell> I think.
[09:10:38] <jpg> Box, Box all the things.
[09:10:40] <Ms2ger> jpg, read the book, I guess, or ask here :)
[09:10:55] <Marvin> "unsupported cyclic reference between types/traits detected"
[09:11:04] <Ms2ger> struct T(HashMap<String, Box<T>>);?
[09:11:16] <Marvin> is T a type thing or is it just a placeholder name?
[09:11:19] <mkpankov> where the hell did it take a trait there?
[09:11:26] <mkpankov> Marvin: placeholder
[09:12:09] <nerdopoly> Is there anywhere I can get a list of targets for the --target option?
[09:12:33] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[09:12:40] * VShell wonders why her thing isn't allowed. is there a reason or is it just not implemented? it's the first thing I'd try.
[09:12:43] <Marvin> or am I going about this in the wrong way? Just trying to make a basic tree
[09:12:55] <mkpankov> nerdopoly: (see chapter 3.4 of http://www.sourceware.org/autobook/ for details) ?
[09:13:33] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[09:14:07] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:14:10] <mkpankov> Marvin: well, no, in general you'll have something like Ms2ger suggested
[09:14:29] <Marvin> that compiles, yeah, but how would I make one of those types?
[09:14:46] *** Joins: lucian (lucian@moz-iuo.htl.74.194.IP)
[09:14:54] <mkpankov> oh, that I don't know. never built anything like that in Rust :)
[09:14:56] <VShell> create a HashMap, then do let t = T(map)
[09:15:15] <mkpankov> you may have more luck asking about specific errors as you go :o
[09:15:18] <mkpankov> ^ :p
[09:15:29] <bstrie> Marvin: an example of a recursive type using a Box is http://is.gd/Z75oyc
[09:16:07] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[09:16:13] <mkpankov> bstrie: he-he, in my mind the hard part is when not all elements are constructed at once
[09:16:17] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[09:16:25] <degorov> One more question. Does this compiles to rewrite stack? fn update(foo: Foo) -> Foo { Foo { bar: 1, ..foo } }
[09:16:28] <bstrie> mkpankov: then you need options :P
[09:16:44] <degorov> rewrite on stack*
[09:16:45] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:16:45] <bstrie> degorov: rust guarantees return-value optimization, yes
[09:16:58] <bstrie> if that's what you're asking
[09:17:09] <degorov> bstrie: yes, thank you:)
[09:17:12] <mkpankov> bstrie: really? like, guarantees the same way Lisp guarantees TCO?
[09:17:20] *** Quits: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP) (Ping timeout: 121 seconds)
[09:17:28] <bstrie> mkpankov: yes, it's a language-level guarantee
[09:17:34] <mkpankov> that's cool
[09:17:36] <bstrie> mkpankov: it's embedded in the rust calling convention
[09:17:58] <mkpankov> so it won't work across FFI?
[09:18:11] <bstrie> mkpankov: also I think it's scheme that guarantees TCO, I don't think lisp actually guarantees it :P
[09:18:13] <mkpankov> (what I'm asking, how would it)
[09:18:21] *** Joins: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP)
[09:18:30] <bstrie> mkpankov: you would need to pass in an outptr explicitly to get it to work across FFI
[09:18:30] <simias> scheme does
[09:18:33] <simias> not common lisp
[09:20:07] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[09:20:35] *** Joins: mkpankov` (mkpankov@moz-7h8.jvq.149.83.IP)
[09:20:36] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[09:20:59] *** AutomatedTester|AFK is now known as AutomatedTester
[09:21:00] <degorov> bstrie: To clarify, in my example will it only rewrite bar field or the whole Foo class?
[09:21:46] *** Joins: kaeluka (kaeluka@moz-7s4nm3.eduroam.uu.se)
[09:21:48] <bstrie> degorov: LLVM should be smart enough to only rewrite the one field, but you'd need to look at the generated assembly code to be sure
[09:21:55] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:21:58] *** Joins: dstrbad (dstrbad@moz-nvaep7.dsl.iskon.hr)
[09:22:13] *** Quits: ray (ray@moz-8fn.a58.92.182.IP) (Ping timeout: 121 seconds)
[09:22:24] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[09:22:32] <degorov> bstrie: ok, thank you again, very helpful:)
[09:22:36] *** Quits: tunnuz (tunnuz@moz-meb4uj.net) (Quit: Leaving)
[09:22:39] *** Joins: LukasKa (lukas@moz-rihejv.funky.uni-osnabrueck.de)
[09:26:15] *** Quits: mkpankov` (mkpankov@moz-7h8.jvq.149.83.IP) (Quit: Bye)
[09:27:10] *** Quits: mme (mme@moz-osl5of.de) (Quit: ZNC - http://znc.in)
[09:27:21] *** Joins: mme (mme@moz-osl5of.de)
[09:27:40] <talchas> yeah, if it inlines it will likely be in-place, if not it probably can't be
[09:28:00] <Marvin> How do I turn a string into a char array
[09:28:08] *** Quits: ixti (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[09:28:29] <bstrie> Marvin: be careful, what do you mean by "char" :) remember when I said that strings are hard?
[09:28:38] <Ms2ger> char().collect::<Vec<char>>()?
[09:28:40] <Marvin> unicode character
[09:28:41] <Ms2ger> chars()
[09:28:54] <bstrie> Marvin: unicode does not have any concept of a character, sadly
[09:29:02] <bstrie> Marvin: do you want codepoints or grapheme clusters, basically
[09:29:06] <LukasKa> Hi guys, why does this happen? http://is.gd/hnhVni u32 is `Copy` so why does it try to borrow it?
[09:29:10] <Marvin> probably code points 
[09:29:32] <Marvin> .chars() gives me an iterator, doesn't it?
[09:29:34] <Marvin> I need an array
[09:29:43] <bstrie> Ms2ger: http://doc.rust-lang.org/std/primitive.str.html#method.chars
[09:29:54] <bstrie> Marvin: you can collect any iterator into an array with .collect
[09:29:58] <Ms2ger> bstrie, eh?
[09:30:05] <bstrie> er, Marvin: http://doc.rust-lang.org/std/primitive.str.html#method.chars
[09:30:07] <mkpankov> LukasKa: the method itself borrows your struct, not the field
[09:30:12] <Marvin> is it just .collect()?
[09:30:14] <Marvin> that's simple
[09:30:23] <Ms2ger> Yep
[09:30:26] <bstrie> Marvin: as long as the surrounding code has enough context to infer the type
[09:30:35] <bstrie> Marvin: it might yell at you if it needs more type info
[09:30:54] <bstrie> Marvin: also note that .collect is going to give you a Vec
[09:31:09] <Marvin> "the trait core::iter::FromIterator<char> is not implemented for the type &[char]
[09:31:25] *** Quits: mme (mme@moz-osl5of.de) (Ping timeout: 121 seconds)
[09:32:20] <mkpankov> I wonder what does one do with situation like Lukaska has
[09:32:28] <bstrie> Marvin: http://is.gd/wpR0tE
[09:32:36] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[09:32:37] <mkpankov> not being able to call methods from methods seems silly
[09:32:44] <Marvin> how do I get that into &[char]?
[09:32:49] *** Joins: mme (mme@moz-osl5of.de)
[09:33:27] <LukasKa> mkpankov, Yes the method call `funcb` borrows self mutable. But I thought that `self.foo` is evaluated earlier. Yes what should I do? :P
[09:33:30] *** Joins: jauhien (jauhien@moz-5d7eof.95.16clouds.com)
[09:33:45] <LukasKa> I mean I could just assign self.foo to a local variable... but that isn't nice
[09:34:00] <mkpankov> LukasKa: self.foo?
[09:34:05] <kimundi> Marvin: A &[T] is a reference to some slice of memroy, but you can not create such a type directly without that memo0ry existing somewhere. SO basically in this case you have the choice where to collect the chars into to _then_ get a &[char] to it. Usually its a Vec<char>
[09:34:07] <mkpankov> you mean bar?
[09:34:25] <LukasKa> mkpankov, `self.bar`, sorry.
[09:35:05] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[09:35:20] <mkpankov> oh, I don't understand this error now, either
[09:35:35] <mkpankov> function arguments do evaluate before the call
[09:35:50] <bstrie> Marvin: yikes, yeah, that's a really bad error message
[09:36:36] <mkpankov> I'd think the problem is you try to reborrow mutably the `self`, but it compiles if I replace self.bar with `10`, for example
[09:36:40] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[09:37:09] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:37:11] *** Quits: mme (mme@moz-osl5of.de) (Quit: ZNC - http://znc.in)
[09:37:25] <mkpankov> LukasKa: hehe, http://is.gd/USW6io
[09:37:37] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[09:37:52] *** Quits: firemole (Thunderbird@moz-ok750a.thorcom.com) (Client exited)
[09:37:55] <mkpankov> so it looks like lifetimes intersect in some strange way when calling a method?
[09:39:04] <bstrie> mkpankov: what's happening there is that u32 is a Copy type, so you're getting a copy of the value into b
[09:39:29] <mkpankov> bstrie: and why it gets pissed about borrowed self then?
[09:40:17] <mkpankov> bstrie: I don't move self.bar there, so I don't care if self is mutably borrowed already
[09:40:32] *** Joins: ray (ray@moz-8fn.a58.92.182.IP)
[09:40:47] <mkpankov> (don't move because it's Copy)
[09:41:19] <bstrie> LukasKa: mkpankov: I believe that's because of https://github.com/rust-lang/rust/issues/6393
[09:41:39] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[09:42:01] <mkpankov> oh..
[09:42:01] <bstrie> i.e. the current borrow checker has a hard time with nested borrows
[09:42:01] <mkpankov> postponed, eh
[09:42:07] <bstrie> mkpankov: high-ish priority for post-1.0
[09:42:11] <mkpankov> well, this is easy to work-around
[09:42:16] <bstrie> mkpankov: it's a bit of an open research problem...
[09:42:30] *** Joins: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de)
[09:42:42] *** Joins: daschl (Adium@moz-cob.lbn.16.81.IP)
[09:42:42] <mkpankov> yeah, seems it's more general than just what LukasKa experienced
[09:44:10] <Marvin> so how would I turn a Vec<char> into a &[char]?
[09:44:32] *** Quits: LukasKa (lukas@moz-rihejv.funky.uni-osnabrueck.de) (Ping timeout: 121 seconds)
[09:44:44] <mkpankov> Marvin: I imagine just & would suffice
[09:45:12] <mkpankov> hm, at the same time, even for Copy types, this doesn't work: http://is.gd/z5eZVs
[09:45:20] <Marvin> "the trait core::marker::Sized is not implemented for the type [char]
[09:45:37] <huon> Marvin: writing &vec often works
[09:45:45] <huon> Marvin: although the explicit form is &*vec
[09:46:49] <mkpankov> ah, of course it doesn't, it would allow data races
[09:47:15] <kimundi> Marvin: Vec<T> implements Deref<[T]>, so you can get a [T] value from a Vec<T> value by doing *vec. However, because [T] is a "unsized" type you may not sore that directly in a varibel, you instead need to take a reference to it like so: &*vec
[09:47:22] *** Joins: qrlpx (smuxi@moz-n7t.3nb.211.95.IP)
[09:48:20] <kimundi> Marvin: Rust also has sugar for those deref-operators in the sense that &vec would try &vec, &*vec, &**vec etc until one fits your code.
[09:49:00] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[09:49:37] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:50:14] *** Joins: emilk_ (emilk@moz-56r.d93.8.185.IP)
[09:50:23] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[09:51:23] *** Quits: choplin (choplin@moz-hqa.ohm.51.192.IP) (Connection closed)
[09:51:51] <emilk_> anybody familiar with the Rustful crate? I'm struggeling with reading the contents of a POST
[09:52:35] <emilk_> oh wait... never mind me
[09:52:35] <emilk_> :)
[09:52:44] *** Joins: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl)
[09:52:44] *** Joins: JagaJaga (JagaJaga@moz-gd9.blu.205.109.IP)
[09:53:48] *** Joins: proc|mob (proctrap@moz-onhpju.customers.d1-online.com)
[09:53:56] *** Joins: vmx (vmx@moz-3oko5l.dip0.t-ipconnect.de)
[09:56:08] *** Quits: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[09:56:39] *** Quits: degorov (Mibbit@moz-vgj.itt.14.176.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:57:33] <bstrie> Marvin: I'd like to see the code where you're getting that error, because it seems like a bug to me
[09:57:55] *** Joins: Kirth (Kirth@moz-b1hk4b.k4vt.f0b6.06a8.2001.IP)
[09:59:23] <kagami> Hi. Is it possible to do the same, but without vector? http://is.gd/B032Qp
[10:00:16] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:00:34] <kagami> Rust iterators drives me crazy..
[10:01:33] *** Quits: KDr2_ (KDr2@moz-qoc.38e.144.219.IP) (Connection closed)
[10:02:00] <kimundi> kagami: NOw, ideally that would just be [i, i*2], but RUsts arrays are still unusable for egnerics, so something like this would be a good replacement: http://is.gd/gH2yFO
[10:02:27] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[10:02:53] *** Joins: twipeD (wipeD@moz-mesdod.dip0.t-ipconnect.de)
[10:03:09] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[10:03:53] *** Quits: wei2912 (wei2912@moz-phb.h8v.156.175.IP) (Quit: leaving)
[10:03:57] *** Joins: wei2912 (wei2912@moz-phb.h8v.156.175.IP)
[10:04:01] <kagami> kimundi: whoa, that looks too complex. but thanks. I think I would rather go with just loop & extend :/
[10:04:06] <proc|mob> when can I send over a sender for threads more then 1 thing, before the thread reads again ?
[10:04:20] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:04:20] <proc|mob> *ign the when
[10:04:40] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[10:04:44] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[10:04:46] *** Quits: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca) (Ping timeout: 121 seconds)
[10:04:52] *** Joins: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca)
[10:05:03] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Quit: Bye bye)
[10:05:08] <kimundi> proc|mob: Not sure what you are asking , afaik you can send arbitrary many things with a sender
[10:05:18] *** Quits: tav (tav@moz-ivrq8h.range31-52.btcentralplus.com) (Connection closed)
[10:05:32] <kimundi> its a unbounded queue
[10:05:55] <proc|mob> kimundi my thread is not guaranteed to be able to read before my main wants to send more things
[10:06:13] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:06:17] *** Quits: vmx (vmx@moz-3oko5l.dip0.t-ipconnect.de) (Quit: Leaving)
[10:06:19] <bstrie> kagami: yeah, that seems like a great place to just use a loop :P
[10:06:38] <kimundi> in that case the queue would grow over time, and you'd need a synchronization mechanism 
[10:07:07] *** Quits: Reinhart (wizard@moz-om0204.student.utwente.nl) (Ping timeout: 121 seconds)
[10:07:37] *** Quits: indefini (indefini@moz-4p4v25.ucom.ne.jp) (Connection closed)
[10:07:39] *** Joins: vmx (vmx@moz-3oko5l.dip0.t-ipconnect.de)
[10:08:00] <proc|mob> kimundi damn, I thought about smth like a buffer I'm writing to, only with object
[10:08:01] *** Quits: optimusbrine (optimusbri@moz-j3ipro.fios.verizon.net) (Ping timeout: 121 seconds)
[10:08:20] <kimundi> Um, still not sure what you are asking
[10:08:25] <proc|mob> bec. the reads 1 every run (it's a daemon )
[10:08:35] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:08:38] <reem> proc|mob: just send a Vec<Message>
[10:08:44] <reem> proc|mob: all at once
[10:09:04] <reem> (or use a struct/tuple/array if you know the size and donâ€™t want to allocate)
[10:09:14] *** Quits: kaeluka (kaeluka@moz-7s4nm3.eduroam.uu.se) (Client exited)
[10:09:37] *** Joins: mme (mme@moz-osl5of.de)
[10:09:44] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[10:09:44] <proc|mob> reem kimundi my thread is a daemon reading every run 1 of the sendet thing
[10:09:58] <proc|mob> like to-do list he's iterating
[10:10:03] <reem> ok sure
[10:10:30] *** Quits: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be) (Ping timeout: 121 seconds)
[10:11:01] <proc|mob> but I'm simply adding thing to this list
[10:11:20] <proc|mob> multiple times, while he's still in a run
[10:11:41] *** Quits: m_kato (m_kato@moz-86b4bs.bitcat.net) (Quit: Leaving...)
[10:12:11] *** Quits: JagaJaga (JagaJaga@moz-gd9.blu.205.109.IP) (Connection closed)
[10:12:18] *** Joins: kkimdev (kkimdev@moz-54q.uh9.135.104.IP)
[10:12:58] <proc|mob> But I can't send while it hasn't read the new entry from before
[10:13:06] <kkimdev> Q: can RefCell::borrow_mut's ref counting be optimized out in some cases?
[10:13:36] <kimundi> proc|mob: "can't" as in the compiler does not let you, or "mustn't" as in you don't want backlog of more than one message?
[10:14:14] <proc|mob> can't, when I'm right
[10:14:15] <reem> kkimdev: well, in theory, if you never break the rules and cause a panic, it can be removed entirely, but in practice, no.
[10:14:17] *** Joins: firemole (Thunderbird@moz-ok750a.thorcom.com)
[10:14:32] <reem> itâ€™s very cheap though
[10:14:36] <reem> that said, you can avoid RefCell most of the time
[10:14:36] <kimundi> proc|mob: Sorry, I don't understand what you are saying
[10:14:50] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[10:14:59] <kkimdev> reem, could you explain avoiding RefCell in practice?
[10:15:16] <reem> kkimdev: most things can fit into the ownership system without the need for RefCell
[10:15:22] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[10:15:24] <proc|mob> I'm sorry, I'll write up an example when I'm home
[10:15:29] <kimundi> kkimdev: OR by using Cell where possible
[10:17:15] <mkpankov> Cell/RefCell stuff is the most "what?" stuff for me
[10:17:19] <mkpankov> I don't even what are these things
[10:17:34] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[10:17:36] *** Joins: mermi (Mibbit@moz-br4kuu.lv.cox.net)
[10:17:41] <kkimdev> mkpankov, maybe naming could be better?
[10:17:53] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:18:19] <mkpankov> how accurate is it to say that RefCell is kinda like Rc, but doesn't count owners, but borrowers instead?
[10:18:35] <mkpankov> like, it's a runtime entity, at least
[10:19:22] *** Quits: daschl (Adium@moz-cob.lbn.16.81.IP) (Ping timeout: 121 seconds)
[10:19:37] <kimundi> mkpankov: Rusts borrowchecking system is based on fundamental rules like "no mutation through a &T directly" and "There may only be one &mut T active at a time". However, sometimes thats too restrictive, and there are safe use cases prevented by these rules, so there exist official safe abstraction for mutating through a & reference. Cell and RefCell are two such types, as are MUtex and RWLock.
[10:19:42] <forgottenone> what is the correct way to write this? struct Button{ f: Box<ClickCallBack+Clone>,}
[10:19:51] <kimundi> mkpankov: Thats accurate
[10:19:58] *** Quits: mermi (Mibbit@moz-br4kuu.lv.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:20:20] <mkpankov> kimundi: oh good. now I only have to understand the distinction between Cell and RefCell
[10:20:32] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:20:43] *** Quits: Nextra (Nextra@moz-99g9a5.ewe-ip-backbone.de) (Connection closed)
[10:20:54] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[10:21:47] <mkpankov> Cell is for Copy-only primitive types, and RefCell is for everything else?
[10:21:55] <kimundi> mkpankov: &Cell<T> allows direct unechecked mutation of the T with a setter/Getter combo, and is made safe because it prevents you from actually getting a reference to the T on the inside.
[10:22:31] <mkpankov> kimundi: so it's prone to data races, for example?
[10:22:37] <kimundi> mkpankov: The Copy-only restriction is actually just because Clone would also have to receive a reference to the inner T, which would break the gurantee
[10:22:59] <kimundi> mkpankov: Well logical ones, just like every other piece of Rust code.
[10:23:01] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[10:23:02] <forgottenone> what is the solution for dynamically dispatching multiple traits?
[10:23:08] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:23:18] <kimundi> mkpankov: However, Cell is not Sync, so you can not get multithreading data races.
[10:23:40] *** Quits: irobevjod (irobevjod@moz-mikldi.static-ro.twistednetworks.net) (Ping timeout: 121 seconds)
[10:23:40] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:23:56] <mkpankov> kimundi: ok. so I should try things roughly in following order: static borrowing -> Cell -> RefCell
[10:24:11] <kimundi> mkpankov: ANyway, as you correctly identified, RefCell instead tracks the currently active borrows at runtime instead of preventing them outright - this also allows it to store non-Copy types
[10:24:16] <kimundi> Yep
[10:24:17] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:24:48] <mkpankov> wow, kimundi, thanks! you're good teacher :)
[10:24:56] *** Joins: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be)
[10:24:56] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[10:25:42] <kimundi> mkpankov: Also interesting to observe is that all Rust types that want to provide threadsafe parallel mutation have to inherently work like Cell or RefCell
[10:26:15] <kimundi> mkpankov: Since in multi threaded code you can _never_ be sure to have the only &mut active at compiletime, only via runtime checking
[10:26:44] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[10:26:44] <kimundi> So things like AtomicI32, or Mutex<T> all take &self
[10:27:03] <mkpankov> kimundi: mhm, ok, sure
[10:27:18] <mkpankov> I just don't use multi-threading casually
[10:27:38] <mkpankov> had to encounter it like, maybe once or twice :)
[10:27:49] <kimundi> Try it, its hard to get wrong in Rust :)
[10:27:57] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[10:28:06] <kimundi> But yeah, _actual_ usecase don't just crop up every piece of code
[10:28:19] <mkpankov> well, for me it was "why?" most of the time
[10:28:30] <mkpankov> especially, in compilers or systems programming
[10:28:36] <mkpankov> especially in C :p
[10:29:01] *** Joins: sighol (Mibbit@moz-cbrm2n.customer.cdi.no)
[10:29:34] *** Quits: proc|mob (proctrap@moz-onhpju.customers.d1-online.com) (Ping timeout: 121 seconds)
[10:30:07] *** Joins: proc|mob (proctrap@moz-onhpju.customers.d1-online.com)
[10:30:12] <sighol> Hi =) How do I sort a HashMap<String, String>? I've read that I should use a BTreeMap, but I can't find a sort function. 
[10:30:25] *** Quits: forgottenone (forgottenon@moz-j3l.lq5.40.176.IP) (Quit: Konversation terminated!)
[10:31:20] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[10:31:46] <martinhath> maps aren't usually sortable, afaik
[10:31:49] <kimundi> sighol: A BTreeMap inherently stores the elements in sorted order.
[10:32:26] *** Joins: Nextra (Nextra@moz-99g9a5.ewe-ip-backbone.de)
[10:32:55] *** Quits: Nextra (Nextra@moz-99g9a5.ewe-ip-backbone.de) (Connection closed)
[10:32:58] <kimundi> sighol: If you want a custom sort order, then you either need to look at changing the order the BTreeMap uses, eg by a wrapper for the keys, or just use a plain vector and use a sort method on that
[10:33:40] *** Quits: dr4yyee (dr4yyee@moz-d8fm30.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:33:42] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[10:35:34] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[10:36:06] *** Joins: psy (psy@moz-93g.ntd.6.103.IP)
[10:36:17] <aji> subtraction overflows
[10:36:33] <aji> is there a way to allow overflows?
[10:36:44] *** Joins: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP)
[10:36:46] <aji> so u8 0 - 1 would be 255, for example
[10:36:49] <sighol> Thank you! I will try to convert it to a vector and sort it there
[10:36:59] <kkimdev> Q: let's say there is an observer pattern, and observer wants to mutate itself on an event. I guess in this case RefCell is a common solution? As the observable object should have reference to the observer.
[10:37:05] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[10:37:12] <mkpankov> aji: overflows are defined as wrapping, at least for unsigned types
[10:37:28] *** Quits: stl (stl@moz-fg4.kee.15.176.IP) (Ping timeout: 121 seconds)
[10:38:20] <tilpner> playbot: 0u8.wrapping_sub(1) # aji
[10:38:21] -playbot- <anon>:9:29: 9:30 error: expected one of `.`, `;`, `}`, or an operator, found `#`
[10:38:21] -playbot- <anon>:9         0u8.wrapping_sub(1) # aji
[10:38:21] -playbot- output truncated; full output at: http://bit.ly/1IvFek2
[10:38:24] <tilpner> playbot: 0u8.wrapping_sub(1) // aji
[10:38:25] -playbot- 255
[10:38:37] <aji> ah, awesome, thank you
[10:38:46] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[10:39:13] <mkpankov> playbot: 0u8 - 1
[10:39:13] *** Joins: nonsensickle_ (nonsensickl@moz-4v0.gkd.16.182.IP)
[10:39:14] -playbot- <anon>:9:9: 9:16 error: attempted to sub with overflow
[10:39:14] -playbot- <anon>:9         0u8 - 1
[10:39:14] -playbot- output truncated; full output at: http://bit.ly/1QEXRDp
[10:39:19] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:39:29] <mkpankov> playbot: 1u8 - 1
[10:39:30] -playbot- 0
[10:39:31] *** Joins: agjacome (agjacome@moz-acoq63.dynamic.jazztel.es)
[10:39:35] *** Quits: jedireza (jedireza@moz-allpoi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[10:39:36] <kimundi> mkpankov: No they are not
[10:39:44] <mkpankov> kimundi: they were?
[10:39:50] <kimundi> mkpankov: integer over/underflow is now considered a bug
[10:39:51] <mkpankov> where am I getting this? :)
[10:39:58] *** Joins: khades (Thunderbird@moz-s8b.3vk.74.212.IP)
[10:39:58] <kimundi> they where at some point, yeah
[10:40:02] <mkpankov> ah
[10:40:04] *** Quits: agjacome (agjacome@moz-acoq63.dynamic.jazztel.es) (Quit: leaving)
[10:40:28] <kimundi> aji: There are explicit methods/wrapper types for overflowing arithmetic, you need to use those
[10:40:35] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[10:40:36] <mkpankov> so how does compiler knows to yell at me? is it static evaluation of the expression?
[10:40:50] <tilpner> It's a runtime check.
[10:40:58] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:41:02] <tilpner> But it's not done in release mode, so that's fine.
[10:41:09] <kimundi> mkpankov: runtime checking, but only in debug builds due to performance impacts
[10:41:19] <martinhath> playbot: let n:u8 = 0; println!({}", n-1);
[10:41:20] -playbot- <anon>:9:34: 11:3 error: unterminated double quote string
[10:41:20] -playbot- <anon>:9         let n:u8 = 0; println!({}", n-1);
[10:41:20] -playbot- output truncated; full output at: http://bit.ly/1IvFpM0
[10:41:24] <martinhath> playbot: let n:u8 = 0; println!("{}", n-1);
[10:41:26] -playbot- 255
[10:41:26] -playbot- ()
[10:41:26] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[10:41:30] <kimundi> mkpankov: Ah, and in addition to that _Also_ checking of constants at compiletime
[10:41:36] *** Quits: sighol (Mibbit@moz-cbrm2n.customer.cdi.no) (Quit: http://www.mibbit.com ajax IRC Client)
[10:41:41] *** Quits: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[10:41:45] <martinhath> wat - i'm getting a panic 
[10:41:47] <mkpankov> kimundi: doesn't quite look like the case
[10:42:04] *** Quits: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[10:42:04] <kimundi> playbot might be the relase build
[10:42:10] <kimundi> without the checks
[10:42:23] <mkpankov> kimundi: actually it did the runtime check
[10:42:28] <mkpankov> just not the compile-time one
[10:42:30] <kimundi> and martinhath probably tests it with debug builds locally
[10:42:38] <mkpankov> playbot: 0u8 - 1
[10:42:39] -playbot- <anon>:9:9: 9:16 error: attempted to sub with overflow
[10:42:39] -playbot- <anon>:9         0u8 - 1
[10:42:39] -playbot- output truncated; full output at: http://bit.ly/1QEXRDp
[10:42:52] <mkpankov> that one is runtime one
[10:42:56] <mkpankov> ^
[10:43:06] <kimundi> Okay
[10:43:18] <mkpankov> so I don't see where are we getting at
[10:43:25] <mkpankov> is it just the old beta there?
[10:44:21] <martinhath> ah, with -O I'm getting 255 as well
[10:44:36] *** Quits: Guest63 (textual@moz-hncaom.web.vodafone.de) (Ping timeout: 121 seconds)
[10:44:42] <mkpankov> also, the optimization setting is -O2 at playpen, are overflow checks enabled separately?
[10:44:44] *** Joins: eligreen (eli@moz-l60e55.dynamic.jazztel.es)
[10:44:45] *** Joins: Guest63 (textual@moz-9ct.il3.161.192.IP)
[10:44:46] <mkpankov> *disabled
[10:45:01] *** Quits: eligreen (eli@moz-l60e55.dynamic.jazztel.es) (Quit: Konversation terminated!)
[10:45:18] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[10:45:30] <kimundi> they are
[10:45:44] <kimundi> its the same setting that also enables debug_asserts
[10:45:58] <mkpankov> hm, so at playpen we have optimized debug build?
[10:46:17] *** Joins: bombless (bombless@moz-arr.puq.21.116.IP)
[10:46:42] *** Joins: jshs (jshs@moz-3bkmt1.dip0.t-ipconnect.de)
[10:47:23] <kimundi> mkpankov: Seems like its not a debug build at all
[10:47:31] *** Quits: proc|mob (proctrap@moz-onhpju.customers.d1-online.com) (Quit: meh)
[10:47:35] <kimundi> which seems kinda troublesome
[10:48:09] <kimundi> playbot: let x = 5u8; x - 10
[10:48:10] -playbot- 251
[10:48:19] <mkpankov> well simple call of rustc doesn't invoke the debug build, right?
[10:48:22] <kimundi> That should panic in a debug build
[10:48:24] <mkpankov> you have to pass -g
[10:48:33] <kimundi> thats yet another thing afaik#
[10:48:40] *** AutomatedTester is now known as AutomatedTester|AFK
[10:48:41] <mkpankov> and I guess playpen simply invokes rustc and adds -O2
[10:48:42] <kimundi> but yes
[10:49:20] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[10:49:21] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:50:22] *** Quits: Church (hatter@moz-e031bf.dyn.optonline.net) (Ping timeout: 121 seconds)
[10:51:55] <kimundi> mkpankov: Well, I opened an issue about this on https://github.com/rust-lang/rust-playpen
[10:52:03] <mkpankov> still, compiler is silent debug build or not
[10:52:18] <mkpankov> I mean, no constant expression evaluation is done
[10:52:26] <mkpankov> (both beta.4 and nightly)
[10:52:37] <kimundi> right, in this case there is no constant evaluation
[10:52:46] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[10:53:56] *** Joins: stl (stl@moz-h0r.qae.15.176.IP)
[10:54:17] <martinhath> wait, without any flags, just rustc lel.rs, im getting both const ecpr eval, and panic
[10:54:22] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:54:27] <kimundi> ah, good
[10:54:32] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Quit: Leaving.)
[10:54:51] *** Joins: jonathan (Mibbit@moz-l7r.98l.59.108.IP)
[10:54:53] <martinhath> (beta.4)
[10:55:38] *** Joins: playjax (chatzilla@moz-n2cpfl.optusnet.com.au)
[10:55:40] <kimundi> Ah yeah, testing it on playpen it panics with -O0, but not at -O1 and higher
[10:56:08] <mkpankov> what
[10:56:12] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[10:56:15] <mkpankov> hm, let me recheck my beta
[10:57:04] <mkpankov> hehe
[10:57:18] <mkpankov> constant evaluation is not omnipresent, it seems
[10:57:23] *** Joins: ChrisMorgan (ChrisMorgan@moz-mpe2k5.tpgi.com.au)
[10:57:27] <kimundi> IT isn't
[10:57:35] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[10:57:41] <mkpankov> this errors:
[10:57:41] <mkpankov> fn main() {
[10:57:41] <mkpankov>     let a = 5u8 - 10;
[10:57:41] <mkpankov>     println!("{}", a);
[10:57:44] *** mkpankov was kicked by fripp.mozilla.org (Channel flood triggered (limit is 5 lines in 3 secs))
[10:57:53] <martinhath> lol
[10:58:16] *** Joins: mkpankov (user@moz-nleeis.partnertech.ru)
[10:58:34] <mkpankov> damn, I'm stupid enough to post code and trigger autokick :)
[10:58:46] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:58:50] *** Joins: Ven (Ven@moz-vrb.ddg.5.163.IP)
[10:59:10] <mkpankov> this doesn't give a compile error: http://is.gd/X5m2E7
[10:59:40] <mkpankov> this does: http://is.gd/pA3wmq
[10:59:48] <mkpankov> so, initialization only, then?
[10:59:51] <kimundi> mkpankov: That errors because the 5 - 10 is one expression that gets constant folded to the final value first, but something like x - 10 with x = 5 does not because its not one expression
[11:00:06] *** Quits: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu) (Connection closed)
[11:00:10] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[11:00:23] <mkpankov> I thought it should propagate x first
[11:00:27] <mkpankov> and then fold it
[11:00:35] <mkpankov> just optimization passes issue?
[11:00:40] <mkpankov> *passes order
[11:00:59] <kimundi> Rusts doesn't do that sophisticated things in the frontend where these checks are.
[11:01:00] *** Quits: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP) (Ping timeout: 121 seconds)
[11:01:23] <kimundi> THats llvm stuff, which is not responsible for catching overflows and turning them into compile errors
[11:01:23] *** Quits: v21 (vee@moz-2gv.oe1.4.171.IP) (Connection closed)
[11:01:25] <mkpankov> never thought about where constant propagation happens
[11:01:46] <kimundi> Me neither, but current behavior makes sense
[11:01:47] <mkpankov> seems like just another LLVM pass to me
[11:02:06] *** Joins: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de)
[11:02:07] <kimundi> this kind of constexpr is all pre-llvm
[11:02:21] *** Quits: ray (ray@moz-8fn.a58.92.182.IP) (Ping timeout: 121 seconds)
[11:02:24] <mkpankov> strange
[11:02:28] *** Joins: nyx (nyx@moz-ivelpd.res.rr.com)
[11:02:29] <mkpankov> I wonder as to why
[11:03:06] <mkpankov> to be able to properly program the semantics of such evaluation?
[11:03:33] <mkpankov> and not get into LLVM IR types and instructions...
[11:03:36] *** AutomatedTester|AFK is now known as AutomatedTester
[11:03:41] *** Quits: alonlevy (alon@moz-kfavec.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:03:45] *** Joins: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP)
[11:03:56] *** Quits: jonathan (Mibbit@moz-l7r.98l.59.108.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:04:03] <kimundi> see it as the "logical, language defined" kind of constant expression. Once compilation reaches the llvm passes, it has nothing todo with the original language semantic anymore, you just get a optimized soup of assembly :P
[11:04:39] *** Joins: invoker (Mibbit@moz-d41.8ei.52.122.IP)
[11:04:49] <mkpankov> yeah, but we do have "back-feed" of errors discovered by LLVM only, don't we?
[11:05:11] <kimundi> Though you are right, in theory Rust could constant fold further than just the one expression in certian cases.
[11:05:17] <mkpankov> I mean in C there are warnings that only happen when optimization is enabled
[11:05:17] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:05:19] <kimundi> not really
[11:05:28] <mkpankov> thought this should be similar
[11:05:43] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:05:56] <kimundi> the compiler prints llvm asserts, but afaik there is no hughe back-and-forth going on
[11:05:56] *** Joins: yuja (yuja@moz-kvchbl.so-net.ne.jp)
[11:05:57] *** Quits: psy (psy@moz-93g.ntd.6.103.IP) (Ping timeout: 121 seconds)
[11:06:00] *** Quits: emilk_ (emilk@moz-56r.d93.8.185.IP) (Quit: Lost terminal)
[11:06:19] <mkpankov> huh, this compiler stuff is complicated :p
[11:06:26] <kimundi> mkpankov: I'm not aware of a similar effect as the one you describe from C happeingin in RUst
[11:06:39] *** Joins: mkpankov` (mkpankov@moz-7h8.jvq.149.83.IP)
[11:06:46] <mkpankov> kimundi: well that would actually be a good thing
[11:06:56] <kimundi> warning are either always there or never, independent from optimization strategy
[11:07:06] <mkpankov> don't need to build all configurations to make sure all the builds are clean
[11:08:06] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:08:18] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[11:08:23] *** Joins: lordblackfox (lordblackfo@moz-nificn.ulb.ac.be)
[11:08:56] *** Quits: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be) (Ping timeout: 121 seconds)
[11:09:52] *** Quits: slomo_ (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[11:09:56] *** Joins: kaeluka (kaeluka@moz-1nj2ld.eduroam.uu.se)
[11:10:20] *** Quits: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP) (Ping timeout: 121 seconds)
[11:10:43] *** Quits: mkpankov` (mkpankov@moz-7h8.jvq.149.83.IP) (Ping timeout: 121 seconds)
[11:10:47] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[11:11:37] *** Joins: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP)
[11:14:05] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[11:14:18] *** Joins: mkpankov` (mkpankov@moz-7h8.jvq.149.83.IP)
[11:14:26] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[11:14:44] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[11:14:53] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[11:15:01] *** Joins: jviereck (Adium@moz-que7q6.ethz.ch)
[11:15:47] *** Joins: Porkepix_ (Porkepix@moz-6v7.qtj.138.157.IP)
[11:16:05] *** Joins: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com)
[11:18:29] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[11:19:06] *** Joins: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu)
[11:19:30] *** Quits: kaeluka (kaeluka@moz-1nj2ld.eduroam.uu.se) (Client exited)
[11:20:05] *** Joins: popow1 (Thunderbird@moz-03f.kd0.252.223.IP)
[11:20:39] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[11:20:53] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[11:20:57] *** Joins: ray (ray@moz-8fn.a58.92.182.IP)
[11:22:14] *** Joins: AndChat-17289 (mkpankov@moz-8i5.4ms.23.84.IP)
[11:22:28] *** Quits: playjax (chatzilla@moz-n2cpfl.optusnet.com.au) (Connection closed)
[11:23:07] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[11:23:23] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[11:23:24] *** ChanServ sets mode: +o pnkfelix
[11:24:14] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[11:24:35] *** Joins: emilk_ (emilk@moz-56r.d93.8.185.IP)
[11:24:47] *** Joins: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net)
[11:25:01] <emilk_> What is the current (nightly) way of reading/writing json files?
[11:25:13] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[11:25:29] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[11:25:34] *** Quits: mkpankov` (mkpankov@moz-7h8.jvq.149.83.IP) (Ping timeout: 121 seconds)
[11:25:54] *** Quits: jshs (jshs@moz-3bkmt1.dip0.t-ipconnect.de) (Client exited)
[11:26:53] *** Joins: Syneh (quassel@moz-948.gp8.139.37.IP)
[11:27:45] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[11:28:08] <eddyb_> emilk_: I would suggest serde
[11:28:17] *** Joins: andre_ (andre@moz-rnd.3qv.76.201.IP)
[11:28:48] *** eddyb_ is now known as eddyb
[11:29:05] <emilk_> eddyb: thanks!
[11:29:56] *** Quits: JanC (janc@moz-kp9cpe.dsl.scarlet.be) (Ping timeout: 121 seconds)
[11:30:07] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[11:30:29] *** Joins: meh (meh@moz-2vi7cf.42-151.net24.it)
[11:30:41] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[11:32:39] *** Quits: Porkepix_ (Porkepix@moz-6v7.qtj.138.157.IP) (Quit: My laptop has gone to sleep. ZZZzzzâ€¦)
[11:32:53] *** Quits: kkimdev (kkimdev@moz-54q.uh9.135.104.IP) (Quit: Leaving)
[11:33:07] *** Joins: LukasKa (lukas@moz-rihejv.funky.uni-osnabrueck.de)
[11:33:11] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[11:33:35] <LukasKa> mkpankov, bstrie Anything new on my problem?
[11:33:42] *** Joins: IanCormac841 (Nathan@moz-p3n.mia.214.206.IP)
[11:34:17] *** Quits: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP) (Ping timeout: 121 seconds)
[11:34:18] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[11:35:09] *** Joins: alexb5 (Mibbit@moz-jl9m5a.obit.ru)
[11:35:09] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[11:36:02] <LukasKa> For anyone interested: http://is.gd/hnhVni  (This shouldn't happen I think. How to do it correctly?)
[11:36:20] *** Joins: lyc (lyc@moz-u9r.d1s.38.106.IP)
[11:36:40] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:37:23] <SneakySnake> Is there something like try! for option? If it's some, yield the value, if it's None, return None
[11:38:38] *** Quits: alexb5 (Mibbit@moz-jl9m5a.obit.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[11:39:07] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:39:44] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:40:26] *** Quits: lyc (lyc@moz-u9r.d1s.38.106.IP) (Ping timeout: 121 seconds)
[11:40:53] <SneakySnake> It's trivial to write one up, but wondering why isn't it in the standard library
[11:41:20] *** Quits: mindtree (Mitch@moz-3cabkn.iprimus.net.au) (Ping timeout: 121 seconds)
[11:41:28] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[11:41:58] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[11:42:01] <duncan> LukasKa: http://is.gd/USW6io
[11:42:03] *** Joins: mindtree (Mitch@moz-5rf8bv.iprimus.net.au)
[11:43:09] *** Joins: JanC (janc@moz-dg42uv.dsl.scarlet.be)
[11:43:46] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Quit: WeeChat 1.2-dev)
[11:45:01] <LukasKa> duncan, Yes, I know that assigning it to a local variable solves it. But I think it's ugly. `self.funcb(self.bar.clone())` does not work either. I think the borrow of self.bar should end after evaluation of function argument.
[11:45:05] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[11:45:41] <LukasKa> Is there a good reason that this doesn't work? As I said... the function argument should be evaluated first. And after evaluating this the borrow should end, and you can borrow self for funcb again
[11:45:57] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[11:46:21] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[11:46:38] *** Joins: irobevjod (irobevjod@moz-3vi4l0.static-ro.twistednetworks.net)
[11:47:40] *** Joins: mkpankov` (mkpankov@moz-sc3.dee.149.83.IP)
[11:47:55] *** Joins: kaeluka (kaeluka@moz-1nj2ld.eduroam.uu.se)
[11:49:27] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[11:49:42] *** Quits: AndChat-17289 (mkpankov@moz-8i5.4ms.23.84.IP) (Ping timeout: 121 seconds)
[11:50:19] <bombless> old question... struct cannot be partly borrowed
[11:50:24] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[11:50:29] <bombless> ...through method
[11:50:53] <SneakySnake> I use helper functions a lot because of that
[11:51:37] <LukasKa> bombless, But even if I'd borrow it completely ... I would assume the borrow to end after evaluation of function arguments. => Before borrowing it again for the function call
[11:52:34] *** Quits: dstrbad (dstrbad@moz-nvaep7.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[11:55:01] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[11:55:48] *** Joins: slomo (slomo@moz-p8m0g2.net)
[11:56:52] *** Quits: jviereck (Adium@moz-que7q6.ethz.ch) (Quit: Leaving.)
[11:57:37] *** Joins: jviereck (Adium@moz-siekha.bmup.g469.067c.2001.IP)
[11:57:48] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[11:58:04] *** Quits: LukasKa (lukas@moz-rihejv.funky.uni-osnabrueck.de) (Ping timeout: 121 seconds)
[11:58:58] *** Quits: pavelpenev (quassel@moz-8vs4j7.btc-net.bg) (Ping timeout: 121 seconds)
[11:58:58] *** Quits: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi) (Connection closed)
[11:59:08] <bombless> LukasKa: I think this is why http://is.gd/GxdIcz
[11:59:42] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (A TLS packet with unexpected length was received.)
[12:01:11] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[12:01:15] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[12:01:37] *** Joins: pavelpenev (quassel@moz-8vs4j7.btc-net.bg)
[12:01:41] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[12:01:42] *** Quits: ray (ray@moz-8fn.a58.92.182.IP) (Quit: WeeChat 1.1.1)
[12:02:19] <nerdopoly> How can I get rustc to ouput a .o file?
[12:02:29] <eddyb> --emit=obj
[12:03:06] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[12:03:15] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[12:03:23] <bombless> yeah with -Z
[12:03:44] <eddyb> -Z?
[12:03:53] *** Quits: jviereck (Adium@moz-siekha.bmup.g469.067c.2001.IP) (Quit: Leaving.)
[12:04:29] <bombless> hmm so I remembered wrong, I thought --emit cannot be used alone
[12:04:38] <bombless> nvm
[12:05:29] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[12:06:42] *** Joins: choplin (choplin@moz-341qgj.t6mc.g9m6.001a.240d.IP)
[12:06:46] *** Quits: pavelpenev (quassel@moz-8vs4j7.btc-net.bg) (Connection closed)
[12:07:22] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[12:09:55] *** Quits: kamilc__ (kamil@moz-u843uu.play-internet.pl) (Quit: Leaving...)
[12:10:13] *** Joins: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi)
[12:10:32] *** Quits: invoker (Mibbit@moz-d41.8ei.52.122.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:11:31] <nerdopoly> Is there a rust equivalent of gcc's -ffreestanding?
[12:13:22] <qmx> is there any easy way of getting the first N codepoints of a string?
[12:13:51] <qmx> kinda like a slice of a string
[12:14:06] *** Joins: Azer (Mibbit@moz-ro5v86.cable.virginm.net)
[12:14:10] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[12:14:11] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:14:11] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[12:14:11] *** ChanServ sets mode: +o jdm
[12:14:44] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[12:14:53] *** Joins: dstrbad (dstrbad@moz-nril2i.cable.xnet.hr)
[12:15:04] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[12:15:30] *** Quits: choplin (choplin@moz-341qgj.t6mc.g9m6.001a.240d.IP) (Connection closed)
[12:15:41] *** Joins: Kirth_ (Kirth@moz-b1hk4b.k4vt.f0b6.06a8.2001.IP)
[12:15:48] *** Quits: mkpankov` (mkpankov@moz-sc3.dee.149.83.IP) (Quit: Bye)
[12:16:01] <Azer> Could someone please explain to me why this http://is.gd/Lh8zhh is not working, I am definitely missing something obvious here :-)
[12:16:57] <Ms2ger> *self.to_string() doesn't do what you think it does
[12:17:13] <bombless> playbot: "abc".chars().take(2).collect<Vec<_>>()
[12:17:14] -playbot- <anon>:9:38: 9:43 error: chained comparison operators require parentheses
[12:17:14] -playbot- <anon>:9         "abc".chars().take(2).collect<Vec<_>>()
[12:17:14] -playbot- output truncated; full output at: http://bit.ly/1KErKQh
[12:17:16] <Ms2ger> In particular, the precedence of those operators isn't what you expected
[12:17:28] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[12:17:29] <Ms2ger> bombless, collect::<...>
[12:17:34] <bombless> playbot: "abc".chars().take(2).collect::<Vec<_>>()
[12:17:35] -playbot- ['a', 'b']
[12:17:37] <bombless> right..
[12:18:40] *** Quits: Kirth (Kirth@moz-b1hk4b.k4vt.f0b6.06a8.2001.IP) (Ping timeout: 121 seconds)
[12:19:05] *** Quits: Ven (Ven@moz-vrb.ddg.5.163.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[12:19:10] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[12:19:25] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[12:19:26] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[12:19:39] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[12:19:51] *** Quits: mkoskar (mkoskar@moz-kvs6fc.torservers.net) (Ping timeout: 121 seconds)
[12:21:04] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[12:21:25] *** Joins: jviereck (Adium@moz-ggirh3.97ug.g469.067c.2001.IP)
[12:21:32] *** Joins: yati (yati@moz-phu.79g.169.122.IP)
[12:21:42] <Azer> Could someone please explain to me why this http://is.gd/Lh8zhh is not working? Appreciate it.
[12:21:52] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[12:22:06] <Ms2ger> Azer, see what I said earlier
[12:22:12] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[12:22:24] *** Quits: ChrisMorgan (ChrisMorgan@moz-mpe2k5.tpgi.com.au) (Ping timeout: 121 seconds)
[12:22:47] *** Joins: sluggo (Mibbit@moz-d6t.bif.5.101.IP)
[12:22:56] <duncan> Azer: &self indicates that self is borrowed, it does not mean you need to do *self to call methods on it
[12:23:20] *** Joins: Ven (Ven@moz-vrb.ddg.5.163.IP)
[12:23:49] <duncan> what Ms2ger is getting at, is that you seem to be trying to do this: (*self).to_string(), but not only is the precedence wrong (meaning you were actually doing *(self.to_string())), but it is unecessary, as self.to_string() works
[12:23:57] *** Quits: alexherbo2 (alex@moz-m1s.bcu.100.89.IP) (Quit: WeeChat 1.1.1)
[12:24:28] <duncan> after that, you have a couple more problems
[12:24:32] *** Joins: alexherbo2 (alex@moz-m1s.bcu.100.89.IP)
[12:25:08] <duncan> mainly, that `output_text` borrows it's argument, but you were trying to pass it by value. you need to call output_text like this: `output_text(&someinput)`
[12:25:56] <bombless> yes &self is about how you borrow it, or just `self` to consume it
[12:26:29] <yati> Hi. Is there a Rust equivalent of the Unix mkstemp?
[12:26:41] <duncan> also, the println!() call is unecessary, as output_text returns unit
[12:27:05] <yati> In other words, I need a tempfile name I can feed to a process, but not a handle to it.
[12:27:34] *** Quits: wei2912 (wei2912@moz-phb.h8v.156.175.IP) (Quit: Lost terminal)
[12:27:45] *** Joins: wei2912 (wei2912@moz-phb.h8v.156.175.IP)
[12:28:00] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[12:28:07] <duncan> yati: maybe this will work for you? https://crates.io/crates/tempfile
[12:29:30] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[12:30:45] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[12:30:52] <yati> duncan, I saw that, but "This variant is NOT secure/reliable in the presence of a pathological temporary file cleaner." on its doc page makes me vary. Plus, I can't pass a template for the tmpfile name like I can in mkstemp.
[12:31:05] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:31:12] *** Quits: bombless (bombless@moz-arr.puq.21.116.IP) (Quit: Leaving)
[12:31:12] *** Joins: alonlevy (alon@moz-35sfau.red.bezeqint.net)
[12:31:27] <yati> But I think I'll live with it for now.
[12:33:12] *** Quits: csoriano (csoriano@moz-16g.ma8.175.213.IP) (Ping timeout: 121 seconds)
[12:33:26] *** Joins: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca)
[12:34:01] *** Joins: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP)
[12:34:46] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[12:35:39] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[12:36:38] <yati> duncan, Ha, tempfile is not usable in the release channel it seems :\
[12:36:47] *** Joins: panicbit (panicbit@moz-78m9qi.itmc.tu-dortmund.de)
[12:37:36] <duncan> :(
[12:39:46] *** Joins: NameNotFound (NameNotFoun@moz-gnh0a0.hg7c.bsbc.1a50.2001.IP)
[12:39:59] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[12:40:37] <NameNotFound> hello, can you help me? i installed rust via brew on my mac and i canÂ´t figure out where my rust_src_path is
[12:41:21] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:42:36] *** Joins: gree7 (bzlandfill@moz-h2k4s3.felk.cvut.cz)
[12:43:02] *** Parts: NameNotFound (NameNotFoun@moz-gnh0a0.hg7c.bsbc.1a50.2001.IP) ("Leaving...")
[12:43:30] *** AutomatedTester is now known as AutomatedTester|AFK
[12:43:41] *** Joins: NameNotFound (NameNotFoun@moz-gnh0a0.hg7c.bsbc.1a50.2001.IP)
[12:43:51] <NameNotFound> hello, can you help me? i installed rust via brew on my mac and i canÂ´t figure out where my rust_src_path is
[12:44:07] <NameNotFound> sry my client disconnected me
[12:44:22] <mkpankov> NameNotFound: that's ok, nobody answered yet
[12:44:42] <gree7> hello, I am trying to get around "unsupported cyclic reference between types/traits detected", code like this: type EventQueue = BTreeMap<u32, Box<Fn(&mut EventQueue)>>;
[12:45:28] <gree7> the idea is to have a map of events (closures), which can add another closures to the same event map
[12:46:20] <gree7> and I am not sure I understand, why the cyclic type is forbidden even if it is in a Box
[12:46:35] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[12:46:39] <mkpankov> gree7: the EventQueue isn't in a box, Fn is
[12:46:46] *** Quits: Azer (Mibbit@moz-ro5v86.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:46:57] <gree7> I tried pudding the EventQueue into a Box as well
[12:47:01] <gree7> and the problem was the same
[12:47:09] <gree7> (or to be precise, similar)
[12:47:18] <gree7> *putting
[12:47:28] <mkpankov> gree7: can you post the code?
[12:47:35] <gree7> sure
[12:47:50] <NameNotFound> i already tried to google my problem but i didnÂ´t found anything useful
[12:48:11] <ChrisMorgan> gree7: youâ€™re constructing an infinitely long type.
[12:48:32] <ChrisMorgan> gree7: `type` makes a type alias, which is expanded everywhere.
[12:48:39] <gree7> http://pastebin.com/UY4GKmyr
[12:48:49] <gree7> hmm, I see
[12:48:59] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[12:49:06] *** Joins: choplin (choplin@moz-341qgj.t6mc.g9m6.001a.240d.IP)
[12:49:14] *** Quits: fabiand (fabiand@moz-b61li4.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:49:24] <ChrisMorgan> So your type is actually BTreeMap<u32, Box<Fn(&mut BTreeMap<u32, Box<Fn(&mut BTreeMap<u32, Box<Fn(&mut â€¦ uh oh â€¦)>>)>>)>>.
[12:49:46] <gree7> yeah, I understand that
[12:49:50] <ChrisMorgan> The way around this is to make a concrete type somewhere along the way which stops the recursion.
[12:50:22] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[12:50:23] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[12:50:24] <mkpankov> gree7: well, the cycle problem is gone this way: http://is.gd/XZR9AK
[12:50:40] <VShell> ChrisMorgan: I don't understand why struct EventQueue(BTreeMap<u32, Box<Fn(&mut EventQueue)>>) is allowed when that's not. shouldn't the compiler be able to deal with recursive types the exact same way?
[12:50:42] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[12:50:58] <gree7> oh, cool
[12:51:01] <gree7> that was easy
[12:51:02] *** NameNotFound is now known as zz_NameNotFound
[12:51:04] <mkpankov> doesn't compile, still, I guess you'll have to fix the way you're accessing your type
[12:51:14] <ChrisMorgan> VShell: `type` is purely an alias which is expanded everywhere.
[12:51:23] <gree7> I was thinking about struct
[12:51:30] <gree7> thanks a lot
[12:51:43] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:51:51] *** Quits: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP) (Client exited)
[12:52:08] *** Joins: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP)
[12:52:16] <VShell> ChrisMorgan: I'd like to argue that it shouldn't be quite so naively, but I don't know type systems well enough to know the downside.
[12:52:17] <ChrisMorgan> gree7: making EventQueue a struct also allows you to select your own set of methods to expose rather than being stuck with the ones provided by BTreeMap.
[12:52:29] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[12:52:55] <gree7> ChrisMorgan: I see
[12:53:03] <soma> Hello! what does this " + 'a" mean in Box<Iterator<Item=Box<[Identifier]>> + 'a> ?
[12:53:10] <ChrisMorgan> VShell: as long as type is purely an alias (which many things that exist depend on), there is no way around its being an infinite type.
[12:53:36] *** Joins: psy (psy@moz-93g.ntd.6.103.IP)
[12:53:49] *** zz_NameNotFound is now known as NameNotFound
[12:53:59] *** Joins: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP)
[12:54:17] <ChrisMorgan> soma: the boxed iteratorâ€™s lifetime is 'a; viz. the contained objectâ€™s lifetime is 'a.
[12:54:53] <VShell> ChrisMorgan: and yet struct Foo(x : Option<Box<Foo>>) is recursive. why can't the compiler deal with infinitely recursive types without that struct there in the same way?
[12:55:12] <ChrisMorgan> VShell: itâ€™s not recursive because Foo is a concrete type, not an alias.
[12:55:27] <ChrisMorgan> I mean, itâ€™s recursive, but not infinite.
[12:55:51] <ChrisMorgan> There, I have published my article â€œRust ownership, the hard wayâ€: http://chrismorgan.info/blog/rust-ownership-the-hard-way.html
[12:56:14] <ChrisMorgan> soma: you might find section four of that article helpful in your current question.
[12:56:52] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[12:56:53] <NameNotFound> anybody who can help me?
[12:57:19] <mkpankov> NameNotFound: well, is there a reason you want to use brew for this?
[12:57:20] <ChrisMorgan> NameNotFound: sorry, Iâ€™m not a Mac user.
[12:57:26] *** Quits: mindtree (Mitch@moz-5rf8bv.iprimus.net.au) (Ping timeout: 121 seconds)
[12:57:33] *** Joins: plietar (Mibbit@moz-1bv0l3.ic.ac.uk)
[12:58:00] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Connection closed)
[12:58:06] <NameNotFound> mkpankov: i used homebrew because it is a package manager for osx
[12:58:09] <meh> does the type of a ref in a PhantomData matter when I just want the lifetime?
[12:58:29] *** Joins: mindtree (Mitch@moz-sl76id.iprimus.net.au)
[12:58:57] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[12:59:04] <soma> ChrisMorgan: Thanks
[12:59:22] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:59:37] <ChrisMorgan> meh: no
[12:59:43] <meh> ChrisMorgan, cool, thanks
[12:59:46] <ChrisMorgan> Iâ€™d tend to use &'a ()
[12:59:51] <mkpankov> NameNotFound: well if you're willing to abandon that and use a weird shell script instead...
[12:59:55] <ctjhoa> ChrisMorgan thanks !
[13:00:04] <meh> ChrisMorgan, that's actually a better idea than using i32 :P
[13:00:11] <mkpankov> NameNotFound: meaning there's rustup, or better yet, multirust
[13:00:16] <ChrisMorgan> ctjhoa: youâ€™re welcome!
[13:00:27] <mkpankov> I bet homebrew's version is not very up-do-date anyway :p
[13:00:57] <NameNotFound> mkpankov: the brew version is rustc 1.0.0-beta.4 (built 2015-05-07)
[13:01:02] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[13:01:21] *** Joins: fabiand (fabiand@moz-g76b8c.dip0.t-ipconnect.de)
[13:01:47] <mkpankov> NameNotFound: so it's up-to-date. well, I'm not a mac user either, just suggesting some alternatives
[13:02:09] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Quit: )
[13:02:21] <NameNotFound> mkpankov: whats multirust and what are the advantages?
[13:02:21] *** Quits: gree7 (bzlandfill@moz-h2k4s3.felk.cvut.cz) (Quit: CGI:IRC)
[13:02:42] <mkpankov> NameNotFound: basically a script that manages multiple rust versions
[13:02:47] <ChrisMorgan> NameNotFound: search the internets!
[13:02:57] <mkpankov> like you can have beta and nightly side by side
[13:03:04] <mkpankov> (and stable later)
[13:03:25] *** Quits: choplin (choplin@moz-341qgj.t6mc.g9m6.001a.240d.IP) (Connection closed)
[13:03:51] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:03:54] <NameNotFound> mkpankov: okay thanks
[13:04:49] *** Quits: rkruppe (chatzilla@moz-ri7msa.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[13:06:31] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[13:06:43] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:07:30] *** Quits: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP) (Client exited)
[13:07:38] *** Quits: nyx (nyx@moz-ivelpd.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[13:08:20] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[13:08:30] *** Joins: tadh (quassel@moz-iq6hhs.biz.rr.com)
[13:08:50] *** Quits: mindtree (Mitch@moz-sl76id.iprimus.net.au) (Ping timeout: 121 seconds)
[13:09:13] *** Joins: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP)
[13:09:14] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[13:09:30] *** Joins: Kirth__ (Kirth@moz-b1hk4b.k4vt.f0b6.06a8.2001.IP)
[13:11:13] *** Joins: LukasKa (lukas@moz-rihejv.funky.uni-osnabrueck.de)
[13:11:55] *** Joins: mechaxl (Adium@moz-on4hbe.cray.com)
[13:12:24] *** Quits: Kirth_ (Kirth@moz-b1hk4b.k4vt.f0b6.06a8.2001.IP) (Ping timeout: 121 seconds)
[13:12:24] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[13:13:16] *** Quits: sluggo (Mibbit@moz-d6t.bif.5.101.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:13:48] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[13:13:54] *** Quits: yati (yati@moz-phu.79g.169.122.IP) (A TLS packet with unexpected length was received.)
[13:15:02] *** Joins: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP)
[13:15:21] *** Quits: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP) (Client exited)
[13:16:18] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[13:16:18] *** Joins: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP)
[13:16:41] *** Joins: kamilc__ (kamil@moz-u843uu.play-internet.pl)
[13:16:41] <jalcine> iset
[13:17:58] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[13:18:20] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[13:18:48] *** Quits: martinhath (martin@moz-rqo6fk.wlan.ntnu.no) (Quit: WeeChat 1.1.1)
[13:19:01] <plietar> What's the difference between the lifetime declared in the struct's type parameters and the one in the function's parameters ?
[13:19:18] *** Joins: nyx (nyx@moz-7o34ff.albyny.csvoip.net)
[13:19:31] *** Joins: martinhath (martin@moz-rqo6fk.wlan.ntnu.no)
[13:19:37] <plietar> It's been confusing me for a while
[13:20:07] <ChrisMorgan> plietar: by the latter do you mean tha 'a in &'a self?
[13:20:07] *** Quits: nyx (nyx@moz-7o34ff.albyny.csvoip.net) (Connection closed)
[13:20:22] <plietar> ChrisMorgan: yes
[13:20:32] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[13:20:41] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[13:20:51] <ChrisMorgan> plietar: the one in the structâ€™s type parameters declares how long the *object* lasts for. The one on &self declares how long you are borrowing the object for as part of this method call.
[13:20:56] *** Quits: popow1 (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[13:21:02] *** Joins: capcar (mathieu@moz-mi55kn.mc.videotron.ca)
[13:21:57] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:22:00] <plietar> So if my have MyStruct<'a> and fn f(&'b self), 'a outlives 'b right ?
[13:22:05] <ChrisMorgan> plietar: suppose you have Foo<'a>. `&'b self` is then sugar for `self: &'b Foo<'a>`.
[13:22:17] <ChrisMorgan> Correct.
[13:22:23] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[13:22:53] <ChrisMorgan> Or rather to be more precise (though common terminology accepts what you wrote), 'b cannot outlive 'a. 'a and 'b can be equal.
[13:23:29] <plietar> Thanks. Basically my problem is I'm trying to implement Deref, but my target depends on the lifetime of the borrow
[13:23:58] <plietar> But because the Target type is defined outside the function, I can't use the correct lifetime
[13:24:14] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Client exited)
[13:24:27] <ChrisMorgan> Correct. It sounds like youâ€™re probably trying to do something that youâ€™re not supposed to with Deref.
[13:25:00] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[13:25:16] *** Joins: csoriano (csoriano@moz-vs8vb1.redhat.com)
[13:25:18] <plietar> I'm trying to do a sort of cell::Ref proxy. Here is my current working code : http://pastebin.com/y16SXtN8
[13:25:29] <ChrisMorgan> A similar case occurs with iterators; people often try to yield objects that are tied to the iterator object, but thatâ€™s not possible for the same reasons; any references are designed to be attached to an object that the iterator is iterating over.
[13:26:04] <plietar> It works fine, except I'd like to move the .as_ref() inside the deref function
[13:26:08] *** Joins: eibwen (eibwen@moz-8ev814.dip0.t-ipconnect.de)
[13:26:36] <plietar> So is there a common work around ?
[13:27:38] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[13:28:20] <ChrisMorgan> plietar: you mean you want deref to return Option<&Inner> rather than &Option<Inner>?
[13:28:26] <ChrisMorgan> No, you definitely canâ€™t do that.
[13:28:39] *** Quits: kline (Mibbit@moz-qgr.80e.26.199.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:29:19] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[13:30:08] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[13:30:18] <plietar> I was thinking more of a &Option<&Inner>
[13:30:27] <plietar> but I just realize it doesn't make sense
[13:30:28] <soma> Hello! How many types of trait object does rust have?
[13:30:46] <plietar> since the option goe out of scope
[13:30:49] <plietar> *goes
[13:30:50] <ChrisMorgan> soma: what do you mean?
[13:30:54] <ChrisMorgan> plietar: quite so
[13:31:07] <soma> ChrisMorgan: like &T Box<T> Ref<T> so on
[13:31:39] <tilpner> soma - Rust == the standard library here?
[13:31:57] *** Joins: bjz_ (bjz@moz-puppgq.tpgi.com.au)
[13:32:02] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[13:32:17] <ChrisMorgan> soma: an unsized trait object is an unsized type, so any place where an unsized type is accepted (&T and Box<T> are two good examples) will accept a trait object.
[13:32:17] <soma> tilpner: Isn't it a language feature?
[13:32:30] <Ms2ger> soma, &T, *T and Box<T>, the rest is libraries
[13:32:38] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[13:32:49] <tilpner> soma - Ref<T> should be implementable in a third-party crate, no?
[13:33:02] *** Parts: IanCormac841 (Nathan@moz-p3n.mia.214.206.IP) ("http://pidgin.renatosilva.me - Pidgin++")
[13:33:07] <tilpner> If you mean std::cell::Ref
[13:33:17] <ChrisMorgan> Ms2ger: even Box<T> is kinda mostly not magic if you squint hard enough.
[13:33:35] <Ms2ger> But mostly magic still :)
[13:33:39] <ChrisMorgan> I mean, the T in Box<T> is just a generic type parameter.
[13:33:58] <ChrisMorgan> So for all practical porpoises itâ€™s not magic. So long as you squint properly.
[13:33:59] *** Joins: dschatzberg (dschatz@moz-nk1clf.bu.edu)
[13:34:17] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[13:35:06] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[13:35:07] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[13:35:29] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[13:35:36] <soma> ChrisMorgan: are all structs that contains unsized generic type a trait object?
[13:35:42] *** fkaa_ is now known as fkaa
[13:35:52] *** Joins: c0a8 (joel@moz-6ampnk.gtri.gatech.edu)
[13:35:54] <ChrisMorgan> soma: no
[13:35:58] <ChrisMorgan> None of them are..
[13:36:08] <ChrisMorgan> Trait objects are trait objects. Structs are not trait objects.
[13:36:35] <ChrisMorgan> soma: so as far as the Trait + 'lifetime is concerned, thatâ€™s all contained inside your struct definition and does not leak out.
[13:37:03] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[13:37:13] *** Joins: pdgendt (pdgendt@moz-3q0nfd.access.telenet.be)
[13:37:16] <ChrisMorgan> So you can have `struct Foo { trait_object: Box<Trait> }` and the Trait is Trait + 'static, according to the default lifetime bounds.
[13:37:19] <soma> why  are these  trait objects std::cell::Ref<'a, SomeTrait+'a> and Rc<SomeTrait+'static>
[13:37:39] *** Quits: csoriano (csoriano@moz-vs8vb1.redhat.com) (Client exited)
[13:37:47] *** Joins: csoriano (csoriano@moz-vs8vb1.redhat.com)
[13:37:50] <ChrisMorgan> You can also have `struct Foo<'a> { trait_object: Box<Trait + 'a> }` and the lifetime of the trait object is exposed.
[13:38:03] <dschatzberg> Is there a way to build rustc with a target spec file?
[13:38:19] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[13:38:32] <ChrisMorgan> soma: ah, now I get what youâ€™re getting at. Sorry, I was being sloppy in my terminology.
[13:38:49] *** Quits: kaeluka (kaeluka@moz-1nj2ld.eduroam.uu.se) (Client exited)
[13:38:56] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[13:39:03] *** Joins: agjacome (agjacome@moz-acoq63.dynamic.jazztel.es)
[13:39:09] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[13:39:16] *** Joins: grantdefayette (grantdefaye@moz-c2phg3.ct.charter.com)
[13:39:19] <soma> ChrisMorgan: Oh. I think I understand now. Trait object is the object of Trait type, not the ref right?
[13:39:25] <ChrisMorgan> Hmm. The question does actually become quite a bit trickier and vaguer. I guess â€œtrait objectâ€ is more a label of convenience than anything.
[13:39:28] <wca> Hi, is there a way to build rust from scratch without downloading a snapshot?  seems like a chicken-before-the-egg problem?
[13:39:39] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[13:39:45] *** Joins: ytain (ytain@moz-01dgko.cpe.pppoe.ca)
[13:39:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:40:11] <ChrisMorgan> So `Trait` is truly the trait object (an unsized type), but types like `&Trait` and `Box<Trait>` are also called trait objects. Muddies the water a bit, indeed.
[13:40:12] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[13:40:37] *** Joins: rkruppe_ (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de)
[13:40:46] <ChrisMorgan> wca: no. Rust is bootstrapped and so needs an earlier build of Rust in order to build a new build of Rust.
[13:41:06] <soma> ChrisMorgan: just like a few days ago I was confused about slices.
[13:41:28] <ChrisMorgan> soma: I guess what you call a trait object and what you donâ€™t is mostly about intent, actually.
[13:41:54] <ChrisMorgan> Sorry, the term is rather a sloppy one when you stop and think about it.
[13:42:15] <mitsuhiko> can you guys retweet me this? https://twitter.com/mitsuhiko/status/598110537822674944
[13:42:28] <steveklabnik> mitsuhiko: yeah, gimme one second
[13:42:52] *** Quits: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[13:42:57] *** rkruppe_ is now known as rkruppe
[13:43:13] <mitsuhiko> \o/
[13:43:19] <ChrisMorgan> If we go in for that sort of thing, I tweeted about my â€œRust ownership, the hard wayâ€ article at https://twitter.com/__chrismorgan/status/598110041955172354â€¦
[13:43:38] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[13:43:56] *** Quits: jviereck (Adium@moz-ggirh3.97ug.g469.067c.2001.IP) (Quit: Leaving.)
[13:44:13] *** Joins: alexggordon (alexggordon@moz-em9tm4.mo.charter.com)
[13:44:27] <soma> ChrisMorgan: I think it's quite confusing.  would you adjust your blog to distinguish these usages? It will be very helpful:)
[13:44:33] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[13:44:42] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[13:45:27] *** Quits: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[13:45:36] *** Joins: mnemnion (mnemnion@moz-a4b3ok.0r24.tle7.0009.2601.IP)
[13:46:01] <ChrisMorgan> soma: in that article I think I only use â€œtrait objectâ€ to refer to Trait, not Box<Trait> or &Trait.
[13:46:16] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[13:46:20] <Lilly> I've written my first thing in Rust! And it works! Yay!
[13:46:24] <ChrisMorgan> I use terms like â€œboxed trait objectâ€ to refer to Box<Trait>.
[13:46:33] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[13:46:41] <steveklabnik> ChrisMorgan: i haven't read your blog post yet, but thanks for writing it. i've been hoping other people start writing stuff like this :)
[13:46:44] <Ms2ger> Lilly, congratulations!
[13:46:45] <steveklabnik> Lilly: wooo congrats
[13:47:25] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[13:47:28] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[13:47:29] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[13:47:42] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (Ping timeout: 121 seconds)
[13:47:57] <Lilly> It checks what channels I follow in Twitch are online, and returns a list of them, and then you select one of them and it starts livestreamer which in turn starts VLC running the selected stream
[13:47:59] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Quit: Leaving.)
[13:48:00] <tomaka> Lilly: huh, weren't you rendering a cube one week ago?
[13:48:14] <Lilly> tomaka: I change plans every day lol
[13:48:27] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[13:48:30] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[13:48:35] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (Ping timeout: 121 seconds)
[13:48:57] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[13:49:37] <Lilly> I get a panic from an unwrap somewhere *sometimes* and idk why
[13:49:38] *** Quits: mnemnion (mnemnion@moz-a4b3ok.0r24.tle7.0009.2601.IP) (Ping timeout: 121 seconds)
[13:49:57] <Lilly> Probably something with the http querying stuff
[13:50:00] *** Joins: mnemnion (mnemnion@moz-ma756t.0r24.tle7.0009.2601.IP)
[13:50:01] <tilpner> Lilly - Run in debug mode and with RUST_BACKTRACE=1?
[13:50:18] <Lilly> Note to self: Try to use expect over unwrap
[13:50:26] <tomaka> You can also add `std::env::set_var("RUST_BACKTRACE", "1");` at the start of the code, which I find useful
[13:50:49] <tomaka> when developping I don't see the point of not having stack traces
[13:51:01] <Lilly> The annoying part is I don't know what triggers it, and it has only happened like twice
[13:51:07] *** Quits: wei2912 (wei2912@moz-phb.h8v.156.175.IP) (Quit: Lost terminal)
[13:51:32] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[13:51:39] <Ms2ger> Lilly, or don't use either :)
[13:51:43] <Lilly> It would be nice if unwrap panics could say what line panicked, is that possible?
[13:51:49] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[13:51:55] <Ms2ger> RUST_BACKTRACE=1 :)
[13:52:00] <Lilly> What does that do?
[13:52:09] <tomaka> Prints a stack trace on panic
[13:52:16] <Lilly> ooh
[13:52:22] <tomaka> You can also add `std::env::set_var("RUST_BACKTRACE", "1");` at the start of the code, which I find useful
[13:52:34] <Ms2ger> tomaka, mm, clever
[13:52:38] <ChrisMorgan> Lilly: try to avoid using unwrap or unwrap-like things at all.
[13:52:39] <Lilly> I'll try that!
[13:52:41] *** Quits: yuja (yuja@moz-kvchbl.so-net.ne.jp) (Ping timeout: 121 seconds)
[13:52:47] <soma> ChrisMorgan: In the blog you mentioned: Most of the primitive types (i32, bool, str, [T], &c.) are static;  Does `1i32` in {let a = 1i32;}  static? I think a is not.
[13:53:00] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[13:53:01] <Lilly> ChrisMorgan: let streams = Json::from_str(&body).unwrap();
[13:53:01] <Lilly>         let streams = streams.as_object().unwrap().get("streams").unwrap().as_array().unwrap();
[13:53:09] <Lilly> unwrap()unwrap()unwrap()
[13:53:10] <ChrisMorgan> soma: 1i32 produces an i32, which is a 'static type.
[13:53:23] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Ping timeout: 121 seconds)
[13:53:27] *** Quits: mnemnion (mnemnion@moz-ma756t.0r24.tle7.0009.2601.IP) (Connection closed)
[13:53:36] <ChrisMorgan> soma: however, a reference to it cannot outlive `a`, and so the reference will not be 'static.
[13:53:37] <Lilly> ChrisMorgan: What should I do instead of that?
[13:53:45] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[13:53:49] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[13:54:08] *** suvash_away is now known as suvash
[13:54:14] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[13:54:30] <ChrisMorgan> Lilly: OK, in things like that where you really do want to just give up if the JSON doesnâ€™t line up panicking is probably reasonable.
[13:54:32] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:54:41] <soma> ChrisMorgan: I am thinking only values have lifetimes, not types.
[13:54:42] <ChrisMorgan> Lilly: when writing things like library code, panicking is practically never acceptable.
[13:54:54] <Lilly> ChrisMorgan: Gotcha :)
[13:55:17] <wca> ChrisMorgan: ok, so how can one bootstrap a os/arch triple that doesn't have a stage0 bootstrap yet?
[13:55:42] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[13:55:51] <Lilly> ChrisMorgan: when doing stuff like http queries and json parsing panicking is ok? or like, less bad at least
[13:56:05] <Lilly> I should probably do proper error handling and retry if something fails or something
[13:56:12] *** Quits: kini (kini@moz-c0fl5n.members.linode.com) (Quit: No Ping reply in 180 seconds.)
[13:56:20] *** Joins: demilich (Demilich@moz-obk.k9a.189.46.IP)
[13:56:25] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[13:56:27] <ChrisMorgan> wca: you need LLVM for the target triple and then to cross-compile rustc for the desired triple.
[13:56:27] <tomaka> wca: you can theoretically compile rust with `configure --target=triplet --build=triplet`
[13:56:30] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[13:56:38] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[13:56:43] <kimundi> soma: Well, a lifetime is neither a property of a value nor of a type, its really a property of the owner, which is a local variable itself
[13:56:49] <ChrisMorgan> Yeah, sometimes you can take shortcuts, it depends on what it is.
[13:56:50] <tomaka> wca: but I don't know the detail and didn't succeed in my only attempt
[13:56:57] <ChrisMorgan> wca: what is the triple?
[13:57:00] <wca> okay.
[13:57:18] *** Joins: ixti (ixti@moz-21k.dae.119.188.IP)
[13:57:20] *** Joins: kaeluka (kaeluka@moz-1nj2ld.eduroam.uu.se)
[13:57:40] <kimundi> soma: That is, for let x = ...; let y = &x;, the lifetime of the reference in y will be that of the the variable x, independent of its value or type
[13:57:47] <wca> x86-unknown-freebsd (there is x86_64, but I'd like to know how to port it to other architectures anyway)
[13:57:56] <ChrisMorgan> soma: types have lifetimes, but when it comes to taking references, they care about the scope of the value too.
[13:58:29] *** Joins: kini (kini@moz-c0fl5n.members.linode.com)
[13:59:32] *** Joins: dstrbad_ (dstrbad@moz-a6pr9i.cable.xnet.hr)
[14:00:04] <kimundi> ChrisMorgan: I'm wondering if there is a more precise way to differentiate between the actual "lifetime" of variables, and the "lifetime bounds" you can put on types...
[14:00:40] <ChrisMorgan> kimundi: it is a bit of a tricky thing that I probably didnâ€™t put enough effort into in my article.
[14:01:01] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[14:01:10] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[14:01:11] <kimundi> ChrisMorgan: Article? I should have read more backscrol... :P
[14:01:20] <ChrisMorgan> kimundi: http://chrismorgan.info/blog/rust-ownership-the-hard-way.html
[14:01:36] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:01:36] *** ChanServ sets mode: +o erickt
[14:01:39] *** Joins: proc (proc@moz-a7bc7e.dip0.t-ipconnect.de)
[14:01:55] *** Quits: dstrbad (dstrbad@moz-nril2i.cable.xnet.hr) (Ping timeout: 121 seconds)
[14:02:30] <kimundi> ChrisMorgan: thx, will give it a read
[14:03:17] *** Joins: logan_e (logan_e@moz-mpr4r7.lsrhs.net)
[14:03:30] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[14:03:42] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[14:04:18] <Lilly> No panics at all, this is disappointing
[14:04:21] <NameNotFound> mkpankov: i installed multirust, but i canÂ´t figure out where the src dir is
[14:05:27] <ChrisMorgan> Lilly: on your earlier question of whether panicking is OK on HTTP queries and JSON parsing and such, itâ€™s up to you; if youâ€™re making a small script, adding fancy error handling might not be worth it, but if youâ€™re making a library then you should not panic.
[14:05:53] <mkpankov> NameNotFound: did you do 'multirust update' after that?
[14:05:55] <Lilly> ChrisMorgan: Yeah, basically nothing someone other than me will use shouldn't panic?
[14:06:04] <NameNotFound> mkpankov: yes i did
[14:06:08] <ChrisMorgan> Lilly: pretty much.
[14:06:21] <NameNotFound> mkpankov: whats the default path?
[14:06:36] <tomaka> Lilly: ...except in critical situations, like if there's something wrong with the logic of the program
[14:06:45] <Lilly> tomaka: true!
[14:06:58] <Lilly> when you are really panicking
[14:07:01] *** Quits: dstrbad_ (dstrbad@moz-a6pr9i.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[14:07:06] *** Joins: CustosLimen (CustosLimen@moz-43o.etd.160.41.IP)
[14:07:15] <tomaka> when the sysadmin should be panicking :)
[14:07:23] <Lilly> i love that since panic is a macro it has the ! so it is panic!
[14:07:37] <Lilly> Best change was when fail! was renamed to panic!
[14:07:38] <mkpankov> NameNotFound: oh, sorry, you meant the src dir the whole time! :(
[14:07:40] <mkpankov> duh
[14:08:01] <mkpankov> NameNotFound: for source, you just need to clone rust-lang/rust repo from GitHub
[14:08:02] *** Quits: arBmind (Andreas@moz-6vslbj.adsl.alicedsl.de) (Quit: Leaving.)
[14:08:14] *** Joins: arBmind (Andreas@moz-6vslbj.adsl.alicedsl.de)
[14:08:20] *** Joins: jviereck (Adium@moz-ggirh3.97ug.g469.067c.2001.IP)
[14:08:30] *** Joins: rkruppe_ (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP)
[14:08:31] <mkpankov> panic time! :D
[14:08:35] <NameNotFound> mkpankov: then iÂ´ll do that
[14:08:53] <NameNotFound> mkpankov: why panic?
[14:09:21] <demilich> I have a question regarding the multi-paradigm approach Rust offers: As I understand one may use Rust in a pure-functional style. However there is also explicit support for imperative (statement-oriented) style. What is the intended way to combine those paradigms? Is it 'choose the best solution for a given problem' or more of a 'per project' thing?
[14:09:26] <kimundi> ChrisMorgan: Hm, you describe something like {{{x}}} as doing nothing, which is kinda true, but only (((x))) truly does "nothing". The {} form would actually move the trailing expression (a block expression evaluates to a rvalue, while a parens expression evaluates to a lvalue). Might be a interesting thing to not in regard to the ownership stuff
[14:09:31] <demilich> I know that the language allows to combine both styles arbitrarily, but are there any best pratices regarding that?
[14:09:52] *** Quits: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[14:09:57] *** rkruppe_ is now known as rkruppe
[14:10:20] <mkpankov> NameNotFound: replying to what Lilly said, nevermind :)
[14:10:21] <ChrisMorgan> kimundi: eek, that hadnâ€™t occurred to me. I didnâ€™t touch rvalues and lvalues and I think I wonâ€™t for this article!
[14:10:41] <kimundi> ChrisMorgan: Fair enough :)
[14:10:46] <ChrisMorgan> I might add an HTML comment for the fun of it, thoughâ€¦
[14:10:56] <soma> ChrisMorgan: I think the example you gave (let trait_object: &AsRef<str> = { .... } ) is not wrong about "trait object need a lifetime".  I think it's just a " variable does not live long" error. I don't see the difference when using concrete type:  http://is.gd/6t2yIL
[14:11:06] <tomaka> demilich: I think the good practice is simply to write the code that is as easy to read as possible
[14:11:14] *** Quits: panicbit (panicbit@moz-78m9qi.itmc.tu-dortmund.de) (Ping timeout: 121 seconds)
[14:11:15] <tomaka> demilich: apart from this, there's no guideline
[14:11:51] *** Quits: arBmind (Andreas@moz-6vslbj.adsl.alicedsl.de) (Quit: Leaving.)
[14:12:05] <mitsuhiko> would be really nice if you could mark macros to not expand by default for --expanded=pretty
[14:12:12] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[14:12:22] <mitsuhiko> if you have seen println expand once you no longer care about it for instance
[14:13:44] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[14:14:01] *** Joins: housl (housl@moz-qnjt4k.ut.comcast.net)
[14:14:33] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[14:14:38] *** Joins: Porkepix (Porkepix@moz-q59.m4a.208.91.IP)
[14:14:43] <kimundi> demilich: As a very loose rule of thumb, Rust code tends to be more imperative due to mutation being a big part of the core semantic. But if a solution works better in a functional style, then that would be fine as well. Generally you should try to optimize in the direction of understandability and maintainability anyway, so map()ing a datastructure would be fine because it is nice and concise, but using something like a State Monad instead 
[14:14:43] <kimundi> of just a mutable variable would likely result in strange looks.
[14:15:10] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[14:15:37] <demilich> tomaka, kimundi: Thank you
[14:15:38] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:16:32] *** Joins: Porkepix_ (Porkepix@moz-6v7.qtj.138.157.IP)
[14:17:06] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[14:17:10] *** Joins: Kirth_ (Kirth@moz-b1hk4b.k4vt.f0b6.06a8.2001.IP)
[14:17:19] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[14:18:44] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[14:19:12] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[14:19:17] *** Quits: Porkepix (Porkepix@moz-q59.m4a.208.91.IP) (Ping timeout: 121 seconds)
[14:20:02] *** Quits: Kirth__ (Kirth@moz-b1hk4b.k4vt.f0b6.06a8.2001.IP) (Ping timeout: 121 seconds)
[14:20:22] *** Quits: Ven (Ven@moz-vrb.ddg.5.163.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[14:20:23] <kimundi> ChrisMorgan: Hm now I'm at the lifetime part. It's a bit weird that you introduce lifetimes as type bounds first, and define only a named lifetime as a lifetime. What is the intended audience of this blog post?
[14:21:01] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[14:21:58] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:22:28] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[14:22:48] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[14:23:20] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:24:22] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[14:25:46] *** Joins: lyc (lyc@moz-50o.q2e.4.49.IP)
[14:25:57] *** Quits: kvsari (kvsari@moz-fgsnv9.bbtec.net) (Ping timeout: 121 seconds)
[14:26:11] *** Joins: kvsari (kvsari@moz-fgsnv9.bbtec.net)
[14:26:35] *** Quits: logan_e (logan_e@moz-mpr4r7.lsrhs.net) (Client exited)
[14:28:31] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[14:29:25] *** Quits: lordblackfox (lordblackfo@moz-nificn.ulb.ac.be) (Ping timeout: 121 seconds)
[14:29:55] *** Quits: lyc (lyc@moz-50o.q2e.4.49.IP) (Ping timeout: 121 seconds)
[14:30:04] *** Joins: logan_e (logan_e@moz-mpr4r7.lsrhs.net)
[14:30:18] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[14:30:59] *** Joins: arBmind (Andreas@moz-ou3n1a.dip0.t-ipconnect.de)
[14:31:49] *** Quits: logan_e (logan_e@moz-mpr4r7.lsrhs.net) (Client exited)
[14:32:02] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Quit: Ex-Chat)
[14:32:57] *** bvssvni_ is now known as bvssvni
[14:33:24] *** Quits: Kirth_ (Kirth@moz-b1hk4b.k4vt.f0b6.06a8.2001.IP) (Connection closed)
[14:33:25] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:33:51] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[14:33:56] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[14:34:30] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[14:35:41] *** Joins: jtdowney_ (jtdowney@moz-34f.r8n.113.216.IP)
[14:36:04] *** Joins: Ven (Ven@moz-vrb.ddg.5.163.IP)
[14:36:44] *** Joins: Eleeleth (sid43850@moz-alakde.charlton.irccloud.com)
[14:38:05] *** Quits: Ven (Ven@moz-vrb.ddg.5.163.IP) (Connection closed)
[14:38:14] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Ping timeout: 121 seconds)
[14:38:27] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[14:38:30] *** Quits: arBmind (Andreas@moz-ou3n1a.dip0.t-ipconnect.de) (Quit: Leaving.)
[14:38:34] *** Quits: Feyn (Feyn@moz-r04.5ro.115.42.IP) (Quit: Leaving)
[14:39:20] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[14:39:30] *** Joins: panicbit (panicbit@moz-78m9qi.itmc.tu-dortmund.de)
[14:39:36] *** Joins: rkruppe_ (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de)
[14:40:51] *** Joins: lov2cod (Adium@moz-u5q1mr.o38v.k60l.0119.2620.IP)
[14:41:08] *** Quits: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[14:41:21] *** rkruppe_ is now known as rkruppe
[14:41:58] *** Quits: jtdowney_ (jtdowney@moz-34f.r8n.113.216.IP) (Ping timeout: 121 seconds)
[14:42:34] *** Quits: Porkepix_ (Porkepix@moz-6v7.qtj.138.157.IP) (Ping timeout: 121 seconds)
[14:43:03] *** Joins: jtdowney_ (jtdowney@moz-34f.r8n.113.216.IP)
[14:43:19] *** Joins: dstrbad (dstrbad@moz-a6pr9i.cable.xnet.hr)
[14:43:21] *** Joins: logan_e (logan_e@moz-mpr4r7.lsrhs.net)
[14:43:30] *** Joins: Reinhart (wizard@moz-om0204.student.utwente.nl)
[14:44:17] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[14:44:39] *** Joins: mib_k1yia5 (Mibbit@moz-5ag.bi0.83.213.IP)
[14:44:54] *** Quits: mib_k1yia5 (Mibbit@moz-5ag.bi0.83.213.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:45:18] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Ping timeout: 121 seconds)
[14:45:58] *** Joins: JKWright (JKWright@moz-sed6c9.biz.rr.com)
[14:47:01] *** Quits: jviereck (Adium@moz-ggirh3.97ug.g469.067c.2001.IP) (Quit: Leaving.)
[14:47:45] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[14:48:17] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[14:49:30] *** Joins: colinsurprenant (colin@moz-naf.t5p.222.192.IP)
[14:49:31] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:49:59] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[14:50:04] <mitsuhiko> does someone have a good example for Cow and IntoCow?
[14:54:10] *** Joins: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com)
[14:54:26] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[14:55:04] *** Parts: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com) ("")
[14:55:44] <ChrisMorgan> mitsuhiko: http://chrismorgan.info/blog/rust-fizzbuzz.html
[14:56:56] *** Quits: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net) (Quit: Leaving)
[14:57:18] *** Joins: ConnorDo_ (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[14:57:19] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[14:58:11] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[14:58:12] *** Joins: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net)
[14:58:30] <mkpankov> ChrisMorgan: wow, that's solid overengineering :P
[14:58:40] <ChrisMorgan> mkpankov: the best sort â˜º
[14:58:53] *** Joins: RantingDude (arch@moz-bgc.0sh.37.195.IP)
[14:59:08] *** Quits: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[15:00:05] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (Ping timeout: 121 seconds)
[15:00:51] *** Quits: ConnorDo_ (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[15:01:15] *** Joins: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP)
[15:01:52] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Connection closed)
[15:01:56] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[15:02:05] *** Quits: Guest63 (textual@moz-9ct.il3.161.192.IP) (Ping timeout: 121 seconds)
[15:02:25] *** Quits: moa (Cedric@moz-ltq9j8.rev.numericable.fr) (Ping timeout: 121 seconds)
[15:02:31] *** Joins: Guest63 (textual@moz-mcpchc.web.vodafone.de)
[15:03:19] *** Joins: tno (tomas@moz-d4qohc.7pm2.so41.08a0.2001.IP)
[15:03:29] *** Quits: logan_e (logan_e@moz-mpr4r7.lsrhs.net) (Client exited)
[15:03:31] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[15:04:29] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Client exited)
[15:04:47] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[15:05:00] *** Quits: Gabriel_7 (Gabriel@moz-po3t0n.loria.fr) (Connection closed)
[15:05:06] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[15:05:34] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[15:06:02] *** Quits: homa_rano (edre@moz-6pigob.cable.rcn.com) (Ping timeout: 121 seconds)
[15:06:40] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[15:07:54] *** Quits: jtdowney_ (jtdowney@moz-34f.r8n.113.216.IP) (Ping timeout: 121 seconds)
[15:07:59] <WindowsBunny> eh, it's not quite as overengineered as https://github.com/EnterpriseQualityCoding/FizzBuzzEnterpriseEdition
[15:08:00] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[15:08:37] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[15:08:50] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[15:09:29] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[15:09:43] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[15:10:45] <mitsuhiko> ChrisMorgan: hmm. that *is* overengineering
[15:10:47] <ChrisMorgan> WindowsBunny: that one is just silly, and deliberately so. Of mine, only the asm one is silly.
[15:11:11] <ChrisMorgan> Mine demonstrates a variety of useful techniques for data representation, all of which firmly have a useful place.
[15:11:15] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[15:11:16] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[15:11:29] <mitsuhiko> WindowsBunny: oh my god
[15:11:32] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[15:13:47] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[15:13:58] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[15:14:26] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[15:15:01] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (A TLS packet with unexpected length was received.)
[15:15:01] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[15:15:52] *** Joins: ekidd (ekidd@moz-6t81cn.nh.comcast.net)
[15:16:00] <mitsuhiko> WindowsBunny: i'm honestly impressed people keep submitting pull requests
[15:16:10] <mitsuhiko> this is already impossible to comprehend as it stands
[15:17:29] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:17:47] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[15:17:53] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:18:09] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[15:18:25] <meh> let's say I have a struct A, a struct B and an iterator I, and I want the items B yielded by I to not outlive A, how do I do that?
[15:18:53] <meh> as in, they can outlive I, but not A
[15:19:59] *** Joins: Guest_ (textual@moz-6um9co.ca.comcast.net)
[15:20:16] <kimundi> meh: Well would have to borrow A in some way
[15:20:23] <kimundi> B would have*
[15:20:52] *** Quits: Guest_ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[15:21:09] <meh> no way to do it with some lifetime annotation and PhantomData magic?
[15:21:17] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[15:21:25] <duesenfranz_> meh: your iterator should have an associated lifetime 'a. A.to_iter should borrow self for 'a and yield an iterator with lifetime 'a... the iterator will yield items with lifetime 'a
[15:21:30] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[15:21:37] <kimundi> meh: Err, thats exactly what I meant
[15:21:42] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[15:21:45] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:22:01] <kimundi> meh: Borrowing does not mean that there is actually a reference, just that there is the lifetime-borrowing-dependency
[15:22:12] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[15:22:31] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:22:34] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:23:04] <kimundi> meh: IN addition to what duesenfranz_ said, B can contain something like PhantomData<&'a A> for the borrowing relation to work
[15:23:50] *** Joins: Guest_ (textual@moz-6um9co.ca.comcast.net)
[15:23:53] *** Joins: jxv (jxv@moz-2celrt.res.rr.com)
[15:23:54] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[15:24:13] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[15:24:27] *** Quits: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net) (Quit: Leaving)
[15:24:32] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[15:24:44] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[15:25:01] <duesenfranz_> is there a way to get the path to the current source file? file! seems to only yield a name and module_path! seems to be something else.... 
[15:25:40] <meh> kimundi, duesenfranz_, http://sprunge.us/dVcF?rust this is what I have, I'm just not sure it does what I think it does
[15:26:10] * ChrisMorgan decides that, it being 1:26am, he should go to bed rather than continue restyling play.rust-lang.org. There is still time before Friday.
[15:26:19] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[15:26:31] *** Joins: GyrosOfWar (user@moz-fc2nbj.vie.surfer.at)
[15:26:35] *** Joins: tokenshift (Mibbit@moz-kjc1qg.raytheon.com)
[15:26:42] <ekidd> Hello. How do I implement a trait for a function?
[15:26:43] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:26:50] *** Quits: turtil (turtil@moz-98pgrn.orcon.net.nz) (Ping timeout: 121 seconds)
[15:26:54] <duesenfranz_> meh: seems fine for me... you can put the lifetime parameter to the function for the `impl<'a> Subtitle`
[15:27:04] *** Quits: sp0 (seth@moz-i3f9r5.internode.on.net) (Quit: Lost terminal)
[15:27:09] <duesenfranz_> sorry, you cannot :)
[15:27:16] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Connection closed)
[15:27:16] <meh> heh
[15:27:18] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[15:27:24] <posix4e> Wonder what people think about http://www.viva64.com/en/b/0324/
[15:27:42] <meh> I also have a similar question about Deref and that lifetime
[15:28:09] *** Quits: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[15:28:10] <meh> http://sprunge.us/IAcE?rust
[15:28:12] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[15:28:25] *** Quits: laumann (thomas@moz-1i4.hq0.225.130.IP) (Quit: leaving)
[15:28:33] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[15:28:35] *** Joins: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr)
[15:28:40] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[15:28:46] <meh> that sounds like a redundant <'a>
[15:28:57] *** Joins: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com)
[15:29:07] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[15:29:31] <meh> http://sprunge.us/MMZb?rust but I do use it in Bitmap<'a>, can I omit it in the other fields?
[15:29:35] <kimundi> meh: You probably don't want the 'a to be the same in pub fn rects(&'a self) -> RectIter<'a> {
[15:29:35] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[15:29:59] <meh> kimundi, yeah, I'm unsure about that, what should I do?
[15:30:12] <meh> I'm a bit confused about what the lifetime in &self refers to
[15:30:19] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[15:30:23] <kimundi> meh: Since as written that demands self (the Subtitle<'a> struct) has the same lifetime as the thing it borrows with lifetime 'A
[15:30:25] <meh> as in, to the duration of the call? or the lifetime of self?
[15:30:53] *** Quits: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP) (Ping timeout: 121 seconds)
[15:31:10] <meh> kimundi, what I want is for the RectIter<'a> and Rect<'a> yielded by the iter to at least live as long as Subtitle<'a>
[15:31:20] <kimundi> meh: &'a self == a reference to Self valid for lifetime 'a, where Self in this case Subtitle<'b> with some lifetime 'b
[15:31:23] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[15:31:38] <meh> as in, I don't want them to outlive Subtitle
[15:31:44] <meh> how do I do that?
[15:31:52] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[15:32:00] <kimundi> meh: Does Subtitle have something it does not want to outlive?
[15:32:24] *** Joins: GBGamer_ (Mibbit@moz-92sbjt.wa.comcast.net)
[15:32:25] <meh> kimundi, how do you mean?
[15:32:32] <GBGamer_> quick question
[15:32:42] *** Joins: rkruppe_ (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de)
[15:32:47] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[15:32:48] *** Quits: ptx (ptx@moz-s2r.jnl.143.78.IP) (Quit: ZNC - http://znc.in)
[15:32:56] <GBGamer_> Why use *const c_void instead of *const ()
[15:32:58] <GBGamer_> ?
[15:33:20] <kimundi> meh: Right now you want Rect<'a> to borrow a Subtitle, right? Is SUbtitle itself supposed to be a borrow of something?
[15:33:32] <GBGamer_> they should both hold the same amount of information
[15:33:51] *** Joins: tokenshift1 (Adium@moz-kjc1qg.raytheon.com)
[15:33:54] *** Quits: rkruppe (chatzilla@moz-lovhmd.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[15:34:00] <meh> kimundi, from what I've seen, no
[15:34:04] *** rkruppe_ is now known as rkruppe
[15:34:10] <meh> kimundi, but I don't know yet, ffmpeg is pretty big
[15:34:20] <kimundi> GBGamer_: A c_void is actually a u8, which is different from a (), which is different from the actual unconstructable enum Void {}
[15:34:37] <kimundi> meh: Then remove all the lifetime stuff from Subtitle for now
[15:34:43] <GBGamer_> so... why use a c_void?
[15:34:58] <GBGamer_> it seems like a () is actually closer to a C void
[15:35:00] <kimundi> meh: And just keep pub fn rects<'a>(&'a self) -> RectIter<'a> { with the 'a lifetime declared on the method
[15:35:08] <meh> kimundi, cool, thanks
[15:35:24] <kimundi> GBGamer_: A C void as used for a void pointer is a c_void
[15:35:32] *** Quits: tokenshift (Mibbit@moz-kjc1qg.raytheon.com) (Quit: http://www.mibbit.com ajax IRC Client)
[15:35:41] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[15:35:44] <kimundi> GBGamer_: () does not exist in C, because C does have nod efine concept of zero-sized types
[15:35:48] <meh> kimundi, just to clear up my mind, I need a lifetime parameter only when I'm supposed to "cascade down" a lifetime?
[15:35:57] *** Joins: davebettin__ (davebettin@moz-ip635p.or.comcast.net)
[15:36:05] <kimundi> GBGamer_: C does not have a defined concept*
[15:36:15] <GBGamer_> kimundi: yeah it does
[15:36:16] <GBGamer_> void
[15:36:29] <GBGamer_> (or it's not exactly a 0 sized type)
[15:36:32] <kimundi> GBGamer_: Thats not zero sized, its not even a real type
[15:36:40] <GBGamer_> (but it's a type without object information)
[15:36:43] <kimundi> you can not have a variable of type void
[15:36:57] <kimundi> its a placeholder basically
[15:37:16] <GBGamer_> yeah, but we just added a little bit to void and called it ()
[15:37:43] <kimundi> meh: Yes, though in this case due to lifetime elision you can write that method as `pub fn rects(&self) -> RectIter {` even, which will have the same meaning as with the explicit 'a
[15:37:47] <GBGamer_> I mean, we even do the same thing as C, where a fn doesn't_return() actually returns ()
[15:38:05] <GBGamer_> where `fn foo() -> ()` is the same as `fn foo()`
[15:38:07] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[15:38:07] <kimundi> GBGamer_: That little bit makes all the difference though :)
[15:38:07] *** Joins: ugglan (ugglan@moz-rjubsq.priv.bahnhof.se)
[15:38:20] <duesenfranz_> posix4e: that seems ill-informed and/or bad intention?
[15:38:24] *** Quits: LukasKa (lukas@moz-rihejv.funky.uni-osnabrueck.de) (Ping timeout: 121 seconds)
[15:38:32] <GBGamer_> so semantically, a C void and a () are the same
[15:38:49] <kimundi> GBGamer_: THe real answer here is that there is no 1:! mapping between C's use of void as a return value, C's use of void in a void pointer, and Rust's use of () for either
[15:38:55] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[15:39:01] <kimundi> GBGamer_: No
[15:39:19] <GBGamer_> I still don't see why
[15:39:22] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[15:39:23] <kimundi> GBGamer_: Semantically, you can copy of a () from a &() in Rust, for C that not even a concept that makes sense.
[15:39:29] <kimundi> copy out*
[15:39:42] *** Joins: ptx (ptx@moz-s2r.jnl.143.78.IP)
[15:39:47] <GBGamer_> well yeah, but you can also copy out a c_void
[15:39:51] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[15:39:55] <GBGamer_> (which doesn't make sense in C)
[15:40:12] <kimundi> yes, thats true
[15:40:20] <ekidd> Hello. I'm working on getting jit.rs to run under the latest Rust, so I can send the author a pull request. I think that I'm stuck on one final issue: I want to implement a trait for a function type, and I don't know how to do it.
[15:40:27] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:40:30] <GBGamer_> that might be a little weird, but I don't think that it actually matters
[15:40:40] <meh> kimundi, cool, thanks!
[15:40:58] <GBGamer_> for the two things that C uses it for (pointers to unkown types, and return values of functions that don't return), it works
[15:40:58] *** Joins: slomo_ (slomo@moz-p8m0g2.net)
[15:41:08] <ekidd> duesenfranz_: Did you respond to me earlier re: fn traits, or to somebody else? 
[15:41:35] *** Joins: tomprogrammer (thomas@moz-ipl678.tr5r.qept.4dd0.2001.IP)
[15:41:35] <GBGamer_> a *const () is the same as a void *
[15:41:56] *** Joins: ^BR (^BR___@moz-eb5hln.npub.i6d0.0e34.2a01.IP)
[15:42:04] <duesenfranz_> ekidd: sorry, to somebody else :)
[15:42:08] <GBGamer_> And `void foo()` is the same as `extern fn foo() -> ()` is the same as `extern fn foo()`
[15:42:10] *** Joins: logan_e (logan_e@moz-mpr4r7.lsrhs.net)
[15:42:35] *** Quits: slomo (slomo@moz-p8m0g2.net) (Ping timeout: 121 seconds)
[15:42:35] <ekidd> Anyway, here's a short example problem that I _think_ illustrates my actual problem: https://gist.github.com/emk/a05bdbfe9b71582a39f6
[15:42:46] *** Quits: Guest_ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[15:42:54] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[15:43:13] <GBGamer_> we even use *const () the same way, in TraitObject
[15:43:16] <GBGamer_> http://doc.rust-lang.org/nightly/std/raw/struct.TraitObject.html
[15:43:21] <kimundi> GBGamer_: I don't know enough about C to explain it properly, but the reason is something about undefined behavior if you use anything than a C char for a pointer to a unknown type
[15:43:35] <ekidd> If I can fix this, I should be able to get jit.rs working again, and use Rust to generate native code at runtime. :-)
[15:43:47] <GBGamer_> kimundi: that's actually not true
[15:43:58] <GBGamer_> you can use a byte sized type, and you can use a void
[15:44:02] *** Quits: kvsari (kvsari@moz-fgsnv9.bbtec.net) (Connection closed)
[15:44:17] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[15:44:21] <kimundi> GBGamer_: I said "char", which is the one byte sized type where that all reduces to :)
[15:44:33] <ekidd> It's weird that I can write `impl Foo for fn() {}` and get the error: the trait `Foo` is not implemented for the type `fn()`...
[15:44:36] <GBGamer_> it's just that gcc has a weird thing where if you offset a void pointer, it offsets by one
[15:44:42] <GBGamer_> I've read the standard :P
[15:45:00] <duesenfranz_> ekidd:  http:/is.gd/8TFSH6
[15:45:03] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[15:45:13] <nerdopoly> What is the rustc equivalent of gcc's `-ffreestanding`?
[15:45:23] <GBGamer_> that's undefined behavior (offsetting a void pointer)
[15:45:41] <ekidd> duesenfranz_: Unfortunately, that's too broad.
[15:45:48] <Mutabah> nerdopoly: #[no_std]
[15:45:48] <ekidd> But thank you. :-)
[15:46:07] <GBGamer_> nerdopoly: -C relocation-model=dynamic-no-pic
[15:46:30] <GBGamer_> oh wait, yeah, I got confused
[15:46:34] <GBGamer_> ^ Mutabah
[15:46:49] <GBGamer_> that's the replacement for -fPIC
[15:46:59] <nerdopoly> I'm using no_std and I'm still getting errors when trying to link.
[15:47:11] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[15:47:11] <GBGamer_> what are you attempting to link?
[15:47:17] <Mutabah> nerdopoly: What errors? There are some functions that are assumed
[15:47:27] <Mutabah> both by the language, and by libcore
[15:47:33] *** Joins: jarrednicholls (uid19542@moz-s0evcl.uxbridge.irccloud.com)
[15:47:54] <GBGamer_> Mutabah: I don't think the language assumes any functions, in case of kernel work
[15:47:55] *** Quits: rkruppe (chatzilla@moz-nsu6i9.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[15:47:58] <GBGamer_> just libcore
[15:48:06] <Mutabah> GBGamer_: memcpy etc
[15:48:17] <aphistic> i'm just learning rust and i'm reading over the book and have a question on the chaining on http://doc.rust-lang.org/nightly/book/method-syntax.html when returning a new Circle in grow() how does that affect memory usage? would it grow exponentially with each chained call?
[15:48:30] <GBGamer_> Mutabah: ah right, forgot about that :/
[15:48:31] *** Joins: leaper (Mibbit@moz-iqk.qi0.228.209.IP)
[15:48:35] <jarrednicholls> hey all, any advice to make the following semantics work? http://is.gd/852rgH  Or do I need to bind the result of build() to a variable first and then do the fluent API?
[15:48:37] <GBGamer_> very annoying, that one
[15:48:52] <nerdopoly> I just realised, I forgot to write the the more stack function.
[15:49:19] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[15:49:24] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Ping timeout: 121 seconds)
[15:49:29] <kimundi> GBGamer_: Anyway, I remember that there _was_ a discussion about whether c_void should be defined as (), c_char, or enum Void {}, and it ended up as a c_char alias for good reasons, though I can't recite them anymore. Something about the type aliasing stuff, and something about llvm codegen only working as defined or being performant for char* pointers.
[15:49:51] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Connection closed)
[15:50:01] *** Joins: niconii (nicole@moz-5gqgia.frgo.qwest.net)
[15:50:10] <GBGamer_> might be that clang does the same thing as gcc, and defines a void* as a char* :/
[15:50:10] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[15:50:20] <ekidd> duesenfranz_: The real code is here: https://gist.github.com/emk/a05bdbfe9b71582a39f6
[15:50:29] <mbrubeck> jarrednicholls: Yes, that would work, or you could make the fluent functions take and return `self` by value.  (The latter could involve more copying, depending on how smart the optimizer is.)
[15:50:35] <posix4e> duesenfranz_: certainly poorly informed
[15:50:49] <posix4e> I agree that Dev tools are important though
[15:50:55] <jarrednicholls> mbrubeck: yeah that's a good alternative, thanks.
[15:51:04] <posix4e> That's at least useful
[15:51:20] *** Joins: sr-ix (textual@moz-lpiloj.static.grandenetworks.net)
[15:51:30] *** Joins: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar)
[15:51:46] <leaper> Hi all.. can someone explain why this doesnt work, please? http://is.gd/35vKfk 
[15:51:57] *** Joins: mkoskar (mkoskar@moz-4gk6rj.torservers.net)
[15:52:03] *** Quits: kamilc__ (kamil@moz-u843uu.play-internet.pl) (Quit: Leaving...)
[15:52:08] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (Connection closed)
[15:52:11] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:52:11] *** ChanServ sets mode: +o erickt
[15:52:28] <kimundi> aphistic: Not sure what you mean - many calls of `x.grow(2.0)` are equivalent to many calls of `x + 2.0` on a float variable.
[15:52:30] <leaper> i can see that the cfg!() macro works, but i would like to tell rust to add SomeFeature to the enum (or not) depending on the selected features
[15:52:39] <GBGamer_> kimundi: ah yep, For LLVM to recognize the void pointer type and by extension functions like malloc(), we need to have it represented as i8* in LLVM bitcode. The enum used here ensures this and prevents misuse of the "raw" type by only having private variants
[15:52:41] *** Joins: O01eg (o01eg@moz-ail.kf2.112.37.IP)
[15:52:42] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Connection closed)
[15:52:43] <kimundi> aphistic: As in, there would only be a constant factor difference between those two operations
[15:53:11] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[15:53:11] *** Joins: gunther (Mibbit@moz-qsutuq.nathan7.eu)
[15:53:12] <aphistic> kimundi: ok, that's what i was wondering. if doing a Circle{} would increase the memory usage by another Circle{}
[15:53:21] <aphistic> (inside the grow())
[15:53:34] <benh> did we ever figure out why c_void can't be a struct with a private i8 inside?
[15:53:46] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[15:53:53] *** Quits: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com) (Client exited)
[15:54:14] *** Quits: martinhath (martin@moz-rqo6fk.wlan.ntnu.no) (Ping timeout: 121 seconds)
[15:54:23] <kimundi> aphistic: technically it would, but its all plain on the stack and you don't use the original circle anymore, so all unnecessary copies should dissapear during optimization
[15:54:42] <aphistic> ah, gotcha. thanks!
[15:55:51] *** Quits: gunther (Mibbit@moz-qsutuq.nathan7.eu) (Quit: http://www.mibbit.com ajax IRC Client)
[15:55:57] <kimundi> aphistic: Its like let a = 5; let b = a; let c = a;. Technically those are 3 variables each one i32 big, but you can bet thats not what ends up in the machine code
[15:56:02] <nathan7> I'm curious why the Mibbit client defaults my nick to 'gunther'
[15:56:12] <kimundi> haha
[15:56:27] *** Quits: kgrandon (Adium@moz-ao9tac.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[15:56:35] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Connection closed)
[15:56:47] <kimundi> benh: My guess it because structs end up as , well, structs in llvm, and a llvm {i8} is treated differently than a i8
[15:56:50] *** Joins: det (chris@moz-9klsea.lv.cox.net)
[15:56:59] *** Quits: demilich (Demilich@moz-obk.k9a.189.46.IP) (Quit: )
[15:57:08] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Quit: Leaving)
[15:57:11] *** Joins: det (chris@moz-9klsea.lv.cox.net)
[15:57:39] <kimundi> benh: (I still don't know why it would make sense to keep them seperate like this to begin with, but it seems to be the case and causes funky missed optimization opportunities and calling convention differences)
[15:58:01] <GBGamer_> anyone have clang on their computers?
[15:58:10] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[15:58:12] <GBGamer_> I'm on a chromebook
[15:58:24] <kimundi> For example, you'd expect that returning a [u8; 4] would be as efficient as returning a u32, but nope...
[15:58:26] <GBGamer_> could they do a test and see what a void* is turned into?
[15:58:33] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[15:58:43] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[15:58:44] <GBGamer_> (in llvm ir)
[15:58:44] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[15:58:49] <benh> kimundi: enum tag fields aren't represented like structs? D:
[15:59:07] <GBGamer_> I need to go, I'll be back in a few minutes
[15:59:30] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[15:59:41] *** Joins: profan (profan@moz-m3n72s.prfn.se)
[16:00:01] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[16:00:01] *** Joins: ascarter_ (ascarter@moz-705hf8.wa.comcast.net)
[16:00:14] *** Quits: dstrbad (dstrbad@moz-a6pr9i.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[16:01:25] *** Quits: NatureLiang (NatureLiang@moz-hui.usj.72.118.IP) (Client exited)
[16:02:05] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[16:02:27] <ekidd> What's a good place to look for docs on implementing traits for function types? It seems like the rules have changed in the last month or two.
[16:02:32] <mitsuhiko> is there a way to use a Mutex without an Arc somehow?
[16:02:59] *** Quits: det (chris@moz-9klsea.lv.cox.net) (Quit: Leaving)
[16:03:00] <kimundi> mitsuhiko: Yes, eg by putting the MUtex on the stack and sharing access to it with scoped threads
[16:03:01] *** Joins: det (chris@moz-9klsea.lv.cox.net)
[16:03:18] <mitsuhiko> ah yes, i did not want to do that because ... scoped threads
[16:03:36] <kimundi> And you can theoretically put a Mutex into a static variable
[16:03:51] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[16:03:57] <mitsuhiko> theoretically?
[16:04:12] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Ping timeout: 121 seconds)
[16:04:23] *** Joins: wheals (wheals@moz-63jqlj.fios.verizon.net)
[16:04:34] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[16:04:36] *** Quits: logan_e (logan_e@moz-mpr4r7.lsrhs.net) (Client exited)
[16:04:39] <mitsuhiko> ah, i see why
[16:04:43] <kimundi> As in: "I don't know if its actually allowed, but it would be fine for the multithreaded-access-aspects of the problem"
[16:04:53] *** Joins: rbranson (rbranson@moz-m40.8gk.177.166.IP)
[16:05:17] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[16:05:26] <mitsuhiko> well, there is no way to initialize the mutex i guess
[16:05:35] <mitsuhiko> (as a static var)
[16:05:39] <kimundi> Ah, you could put it in a lazy_static
[16:05:55] <mitsuhiko> will 1.0 ship with a form of thread::scoped?
[16:05:59] *** Quits: davebettin__ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[16:06:06] *** Quits: leaper (Mibbit@moz-iqk.qi0.228.209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:06:10] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[16:06:31] *** Quits: GyrosOfWar (user@moz-fc2nbj.vie.surfer.at) (Connection closed)
[16:06:37] <kimundi> mitsuhiko: IF there isn't a stable implementation of it _right now_, then unlikely :P
[16:07:16] <mitsuhiko> :(((
[16:07:36] <kimundi> That said, there will probably be external cargo libraries
[16:07:52] *** Quits: profan (profan@moz-m3n72s.prfn.se) (Ping timeout: 121 seconds)
[16:07:53] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[16:08:35] *** Joins: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de)
[16:08:50] *** Joins: kgrandon (Adium@moz-akbe16.nemh.1887.0450.2001.IP)
[16:08:54] *** Quits: rbranson (rbranson@moz-m40.8gk.177.166.IP) (Ping timeout: 121 seconds)
[16:09:11] *** Joins: lyc (lyc@moz-50o.q2e.4.49.IP)
[16:09:56] *** Joins: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com)
[16:10:16] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[16:10:43] <mitsuhiko> not good enough for an example in a presentation
[16:11:55] *** Joins: rbranson (rbranson@moz-ga0.9o0.201.199.IP)
[16:12:05] *** Quits: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de) (Connection closed)
[16:12:31] *** Joins: profan (profan@moz-m3n72s.prfn.se)
[16:12:58] <kimundi> yeah
[16:13:12] *** Quits: ascarter_ (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[16:13:14] *** Quits: lyc (lyc@moz-50o.q2e.4.49.IP) (Ping timeout: 121 seconds)
[16:13:23] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:13:28] *** Joins: durka42 (Adium@moz-8p7g1d.o2oh.k96e.f470.2607.IP)
[16:13:57] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[16:14:09] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[16:14:19] <mitsuhiko> i wonder if that is a good example: https://gist.github.com/mitsuhiko/5e9ec46492706dceaa6f
[16:14:45] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[16:15:33] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[16:15:43] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[16:16:43] <kimundi> mitsuhiko: Hm, that doesn't look like it would make sense to even use multithreading for that problem, since you just end up with code that serially locks the HashMap all the time
[16:16:56] *** Parts: RantingDude (arch@moz-bgc.0sh.37.195.IP) ()
[16:17:03] *** Joins: RantingDude (arch@moz-bgc.0sh.37.195.IP)
[16:17:04] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[16:17:05] <mitsuhiko> kimundi: hah, good point
[16:17:06] *** Parts: RantingDude (arch@moz-bgc.0sh.37.195.IP) ()
[16:17:29] <mitsuhiko> lock held too long
[16:17:51] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (Connection closed)
[16:18:37] <kimundi> AH, is the idea that N threads calculate increasingly longer values of fact and then store it in HashMap?
[16:18:38] <mitsuhiko> i find the mutex api jarring :(
[16:18:48] <mitsuhiko> kimundi: yeah
[16:18:56] *** Quits: ehiggs (ehiggs@moz-pob5cp.ugent.be) (Ping timeout: 121 seconds)
[16:19:05] <GBGamer_>  ah okay, so a c_void is an i8, a () is an empty struct
[16:19:08] <GBGamer_> that's how it's defined
[16:19:16] <GBGamer_> welp, I gotta go
[16:19:24] *** Quits: GBGamer_ (Mibbit@moz-92sbjt.wa.comcast.net) (Quit: process::exit(1))
[16:19:34] <mitsuhiko> it's disappointing that mutexes poison :(
[16:19:42] <mitsuhiko> .oO( mutices? )
[16:19:43] <kimundi> mitsuhiko: Well, calculate fact() in a local variable first, and then do locked_results.lock().insert(i, tmp);
[16:19:48] <XMPPwocky> muteeses
[16:19:49] <mitsuhiko> kimundi: yeah, did that now
[16:20:10] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:20:14] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[16:20:17] *** Joins: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr)
[16:20:26] *** Joins: babhishek21 (Mibbit@moz-9d5.cb7.178.59.IP)
[16:20:48] *** Quits: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net) (Ping timeout: 121 seconds)
[16:20:48] <babhishek21> hello
[16:20:53] *** Quits: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[16:21:06] <babhishek21> I was wondering if there were any portable versions of the rust binaries for Windows
[16:21:20] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[16:21:20] <babhishek21> or any build instructions to build from source
[16:21:22] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[16:21:27] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[16:21:29] <babhishek21> can't find it in the book
[16:22:56] *** Joins: LukasKa (lukas@moz-2vafti.ewe-ip-backbone.de)
[16:23:05] *** Quits: alonlevy (alon@moz-35sfau.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:23:10] *** Joins: piotr (larroy@moz-deo.511.226.188.IP)
[16:23:15] <rillian> what's the plan for the release 'rustc --version' output?
[16:23:24] <rillian> 1.0.0? 1.0.0-release?
[16:23:42] <piotr> hi, I'm trying to initialize a multidimiensional vector, which is the best way?
[16:23:48] <piotr> let mut result = Vec::new<Vec<BigUint>>();   doesnt work
[16:24:40] <rillian> babhishek21: what do you mean by portable binaries. How to build rust code which runs on windows, or how to get the rust compiler and runtime itself?
[16:25:13] <durka42> babhishek21: https://github.com/rust-lang/rust#building-on-windows
[16:25:20] *** ahal is now known as ahal|lunch
[16:25:23] <babhishek21> well, the portable would refer to prebuilt runtime binaries in a portable package, which make no changes to my Registry or ENV Vars
[16:25:43] <durka42> oh, missed the word portable, sorry
[16:25:56] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[16:26:20] <babhishek21> I don't think there are any portable packages
[16:26:26] <babhishek21> I think I'll just get the msi
[16:26:37] <kimundi> piotr: let mut result = Vec::new(); is enough if the compiler can infer the remaining type from the function. otherwise, use Vec::<Vec<BigUint>>::new() or let mut result: Vec<Vec<BigUint>> = Vec::new();
[16:27:53] *** Joins: shmibs (shmibs@moz-qllcm4.ph.cox.net)
[16:28:14] <babhishek21> http://stackoverflow.com/questions/25151890/how-do-i-do-a-2d-vec-in-rust
[16:28:24] <babhishek21> this might help @kimundi
[16:29:21] *** Joins: martinhath (martin@moz-tqe.r95.191.81.IP)
[16:29:26] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[16:29:36] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[16:29:39] <piotr>     let mut result:Vec<Vec<BigUint>> = Vec::new();
[16:29:40] <FreeFull> You might also want to have a Vec<BigUint> and then calculate the indices from the 2D coordinates. Should be faster than all those allocations
[16:29:43] <piotr> this seems to work, thanks
[16:29:47] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[16:29:54] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:30:23] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[16:31:15] *** Quits: gyng (faux@moz-67fidm.singnet.com.sg) (Ping timeout: 121 seconds)
[16:31:48] <mbrubeck> rillian: Looks like it'll be "1.0.0": https://github.com/rust-lang/rust/blob/master/mk/main.mk#L25-L27
[16:32:06] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[16:32:30] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[16:32:41] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[16:32:42] *** eddyb_ is now known as eddyb
[16:32:47] <rillian> mbrubeck: ta
[16:32:54] <duesenfranz_> is there a way to get the path to the current source file? file! seems to only yield a name and module_path! seems to be something else.... 
[16:33:02] <babhishek21> thanks
[16:33:08] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[16:33:08] *** Parts: babhishek21 (Mibbit@moz-9d5.cb7.178.59.IP) ()
[16:33:12] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[16:33:30] *** Joins: chronoslynx (chronoslynx@moz-6ampnk.gtri.gatech.edu)
[16:34:24] *** Joins: tav_ (tav@moz-ivrq8h.range31-52.btcentralplus.com)
[16:34:38] *** Quits: rovar_ (rovar@moz-96effg.dyn.optonline.net) (Ping timeout: 121 seconds)
[16:35:23] <tilpner> duesenfranz_ - On Linux... concat!(env!("PWD"), file!()) or something...
[16:35:35] <jmesmon> Anyone know a way to have a Read+Seek be limited to a subset (offset and length) of the original Read+Seek?
[16:35:43] <tilpner> But, that looks like it would explode any second. :/
[16:35:44] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[16:35:47] *** Joins: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr)
[16:35:58] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[16:36:26] <jmesmon> for doing just the length limit, it appears .take() would work
[16:36:27] *** Quits: slomo_ (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[16:36:28] <rillian> mbrubeck: didn't realize semver defined the -beta.4 suffix format
[16:37:54] *** Joins: eric_lagergren (barsonme@moz-hshokg.q6t2.2174.0008.2601.IP)
[16:38:24] *** Joins: sfaxon (sfaxon@moz-pbc.b7m.46.174.IP)
[16:38:27] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:38:30] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[16:38:34] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[16:39:16] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[16:39:25] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[16:41:15] <durka42> tilpner: needs a "/" in the middle there
[16:42:08] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[16:42:34] *** Quits: Guest63 (textual@moz-mcpchc.web.vodafone.de) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[16:43:18] *** Joins: ekiwi (kevin@moz-2jm.ajr.130.134.IP)
[16:43:38] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[16:44:22] *** Quits: mkpankov (user@moz-nleeis.partnertech.ru) (Ping timeout: 121 seconds)
[16:44:59] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[16:45:04] *** Joins: mkpankov (mkpankov@moz-sc3.dee.149.83.IP)
[16:45:09] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[16:45:33] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[16:45:33] <mitsuhiko> is there a neat way to join all threads in a vec?
[16:45:43] <Mutabah> mitsuhiko: .map?
[16:45:54] <mitsuhiko> map is lazy
[16:46:03] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[16:46:04] <Mutabah> and collect
[16:46:08] <Mutabah> or fold
[16:46:14] <mitsuhiko> that's not neat :P
[16:46:21] <mitsuhiko> that's worse than a loop
[16:46:44] <Mutabah> mitsuhiko: Depends what you want to do I guess
[16:46:53] *** Joins: Diggsey (diggsey@moz-5pbaa0.dsl.pipex.com)
[16:46:56] <piotr> reading csv in rust is extremely slow :-(
[16:47:01] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[16:47:01] <Mutabah> for th in threads { th.join(); } is pretty succincy
[16:47:10] <mitsuhiko> except you need to unwrap
[16:47:20] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[16:47:24] <tilpner> piotr - Do you compile with optimizations?
[16:47:38] <mbrubeck> You could have an RAII guard that joins when you drop it...  ;)
[16:47:41] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[16:48:10] <mitsuhiko> rub it in :P
[16:48:32] <mbrubeck> mitsuhiko: `use itertools::Itertools; threads.foreach(JoinHandle::join);`
[16:48:34] <piotr> I'm just doing cargo run
[16:48:37] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[16:48:45] <mitsuhiko> Ever since that thread::scoped incident i consider Rc the root of all evil
[16:48:52] <tilpner> piotr - Try 3`$ cargo run --release`
[16:49:13] <mbrubeck> I mean `threads.into_iter().foreach(JoinHandle::join);`
[16:49:17] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[16:49:47] <piotr> tilpner: it's faster thanks
[16:50:12] <mitsuhiko> is there a discussion somewhere about why mutex poisoning is a thing?
[16:50:36] *** Quits: LukasKa (lukas@moz-2vafti.ewe-ip-backbone.de) (Quit: Leaving)
[16:50:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[16:50:40] <XMPPwocky> mitsuhiko: panic hygiene. if you panic, everything you could have touched must be destroyed
[16:51:19] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[16:51:22] *** Quits: CustosLimen (CustosLimen@moz-43o.etd.160.41.IP) (Ping timeout: 121 seconds)
[16:51:25] <mitsuhiko> :(
[16:51:43] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[16:51:45] *** Quits: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[16:52:06] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[16:52:30] *** chmanchester|afk is now known as chmanchester
[16:52:46] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[16:53:34] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[16:53:35] <harrisonclarke> on the standard int types, are the arithmetic operators always wrapping? or is that undefined? (i'll use wrapping_add if it's undefined)
[16:53:52] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[16:54:11] *** Quits: kaeluka (kaeluka@moz-1nj2ld.eduroam.uu.se) (Client exited)
[16:54:20] <rkruppe> harrisonclarke: Not undefined in the C/C++ sense, but overflows cause panics in debug code so you can't rely on it either
[16:54:24] *** Quits: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[16:54:32] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[16:54:39] <rkruppe> If you want wrapping, use wrapping_add etc. or Wrapping* types (do those exist yet?)
[16:54:45] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[16:54:59] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:55:09] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[16:55:12] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[16:55:28] <pyon> Is there any way to tell rustc to just typecheck my code, without generating any executable or library?
[16:55:32] <harrisonclarke> right. so, it won't launch nethack, but it might fail.
[16:55:44] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:55:54] *** Quits: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk) (Quit: YourBNC - (https://yourbnc.co.uk))
[16:56:11] <durka42> demons may fly out of your nose
[16:56:30] <XMPPwocky> pyon: yes, let's see
[16:56:46] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Quit: )
[16:57:38] <XMPPwocky> pyon: -Z no-trans
[16:57:45] <pyon> XMPPwocky: Thanks!
[16:57:50] *** Joins: new_one (new_one@moz-quq.9e1.42.128.IP)
[16:58:11] *** Quits: atomic (atomic@moz-n4lvbv.enn.lu) (Connection closed)
[16:58:16] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[16:58:16] *** ChanServ sets mode: +ao pcwalton pcwalton
[16:58:17] *** Joins: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk)
[16:58:25] *** Joins: atomic (atomic@moz-72353b.exit.babylon.network)
[16:58:53] *** Joins: lucian_ (lucian@moz-ijm.htl.74.194.IP)
[17:00:14] <posix4e> We should put a bot in #rust freenode to tell people to come to this channel
[17:00:21] <posix4e> like 4 people asked questions and got silence yesterday
[17:00:24] <posix4e> it looks bad for rtust
[17:00:26] <posix4e> *rust
[17:00:33] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[17:00:48] *** Joins: lucian__ (lucian@moz-iuo.htl.74.194.IP)
[17:00:56] *** Joins: Douman (Douman@moz-p257s5.dynamic.mts-nn.ru)
[17:00:59] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[17:01:04] *** Quits: espadrine (tyl@moz-qfr4fg.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[17:01:28] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[17:01:45] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[17:01:47] <mitsuhiko> a put that constantly spams :D
[17:01:49] *** Quits: lucian (lucian@moz-iuo.htl.74.194.IP) (Ping timeout: 121 seconds)
[17:01:51] <durka42> it's already in the topic there...
[17:02:16] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[17:02:38] <AeroNotix> Can anyone comment on Mezzo? http://gallium.inria.fr/blog/introduction-to-mezzo/
[17:02:47] <AeroNotix> Seems they have some similar ideas
[17:02:49] *** Joins: insaneinside (user@moz-dgv9mb.customer.broadstripe.net)
[17:02:56] *** Quits: lucian_ (lucian@moz-ijm.htl.74.194.IP) (Ping timeout: 121 seconds)
[17:02:58] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[17:03:19] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:03:21] <posix4e> durka42: I am aware it's in the topic. It doesn't seem to help. Unfortunately we need to do what works not what is right if we want to have a postive community. Currently what we are doing objectively does not work.
[17:03:51] <durka42> true enough :)
[17:03:55] <posix4e> In fact we should probably just block the channel
[17:04:01] <mitsuhiko> AeroNotix: no traction
[17:04:02] *** Quits: kgrandon (Adium@moz-akbe16.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[17:04:35] <AeroNotix> mitsuhiko: sorry I should've mentioned I wanted no snark.
[17:04:39] *** Joins: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com)
[17:04:48] <mitsuhiko> not sure i understand
[17:05:10] <AeroNotix> having no traction doesn't really implicate the ownership system in any way
[17:05:21] *** Quits: areski (areski@moz-erfa2b.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[17:05:34] *** Quits: JKWright (JKWright@moz-sed6c9.biz.rr.com) (Quit: Lingo: www.lingoirc.com)
[17:06:15] *** Joins: Porkepix (Porkepix@moz-71m.3nd.202.89.IP)
[17:06:22] *** Quits: rbranson (rbranson@moz-ga0.9o0.201.199.IP) (Ping timeout: 121 seconds)
[17:06:41] <mitsuhiko> AeroNotix: you asked for comment on mezzo and i gave one. it has no traction as such it's not particularly interesting
[17:07:13] <AeroNotix> mitsuhiko: good to know. Thanks.
[17:07:34] *** Quits: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[17:07:35] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[17:07:39] *** Joins: DerisiveLogic (smuxi@moz-0nf.7ki.56.172.IP)
[17:07:45] <mbrubeck> AeroNotix: The ownership system does indeed seem incredibly similar to Rust.
[17:08:02] <AeroNotix> mbrubeck: it does, doesn't it.
[17:08:03] <mbrubeck> Though I didn't get a great sense of how it works in practice from that introduction.
[17:08:12] <mbrubeck> The concepts are the same, though.
[17:08:49] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[17:08:49] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:08:53] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[17:08:58] <mbrubeck> The next post in the blog gets into more interesting detail...
[17:09:10] <AeroNotix> oh cool, will peep.
[17:09:23] <mitsuhiko> there was a discussion about this on /r/rust a year ago
[17:09:36] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[17:09:40] *** Joins: lucian (lucian@moz-ijm.htl.74.194.IP)
[17:09:57] <mitsuhiko> also mezzo uses a gc
[17:10:13] *** Quits: sfaxon (sfaxon@moz-pbc.b7m.46.174.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[17:10:21] <mbrubeck> AeroNotix: "Each mutable object has a hidden field; the hidden field contains the address of the adopter if the object is currently adopted, null otherwise." -- sounds like their ownership system is much more dynamic (less static) than Rusts.
[17:10:37] <mbrubeck> https://www.reddit.com/r/rust/comments/25upy5/mezzo_a_research_programming_language_with_a/
[17:10:40] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[17:10:54] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[17:11:04] *** Joins: Guest__ (textual@moz-6jfu02.dynamic.fusionbroadband.com)
[17:11:08] <AeroNotix> cool
[17:12:01] *** Quits: lucian__ (lucian@moz-iuo.htl.74.194.IP) (Ping timeout: 121 seconds)
[17:12:28] *** Joins: molokdot1 (molokdotc@moz-kjf.mdl.255.187.IP)
[17:12:41] *** Quits: Guest__ (textual@moz-6jfu02.dynamic.fusionbroadband.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:13:06] <mitsuhiko> anyone some ideas for how to make this look nicer for a presentation slide? https://gist.github.com/mitsuhiko/a01d4dbd051ce4d4ab00
[17:13:17] <mitsuhiko> nicer in this case probably means shorter
[17:13:20] *** Joins: akiss (akiss@moz-1n9mfc.lnk.telstra.net)
[17:13:33] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[17:13:35] *** Joins: Guest__ (textual@moz-6jfu02.dynamic.fusionbroadband.com)
[17:13:56] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[17:14:01] *** Joins: dmac_ (dmac@moz-4kcd1c.ca.comcast.net)
[17:14:26] *** Quits: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[17:15:02] <pyon> AeroNotix: Looks interesting, but the type annotations are a little bit too heavy. :-|
[17:15:44] <molokdot1> hey guys, i'm from brazil and began my studies about Rust
[17:15:52] <mbrubeck> mitsuhiko: `if num < 2 { 1 }`
[17:16:10] *** Joins: spider-mario (spidermario@moz-3im.baq.163.37.IP)
[17:16:16] <molokdot1> what can i do for helping the rust-community?
[17:16:38] *** Joins: daheise (Mibbit@moz-2ff.gbk.219.128.IP)
[17:16:53] <mbrubeck> Welcome, molokdot1!
[17:17:00] <molokdot1> o/
[17:18:03] <daheise> Hello. I'm trying to write a rust wrapper around a C library. The public API of the library returns primarily c strings. I've been having trouble getting `char *` into a Rust `String`, does anyone here know of a guide on this topic?
[17:18:04] <mbrubeck> molokdot1: Just writing code and asking questions is a good start... but if you want to jump into contributing to the language and libraries, you can look at the "easy" bugs here: https://github.com/rust-lang/rust/issues?q=is%3Aopen+is%3Aissue+label%3AE-easy
[17:18:40] <XMPPwocky> daheise: the std::ffi module is for this
[17:18:44] *** Joins: kgrandon (Adium@moz-5u7qml.nemh.1887.0450.2001.IP)
[17:19:11] <molokdot1> mbrubeck: i started a little project here  check it out: http://rustontherocks.org
[17:19:13] <daheise> XMPPwocky: I was looking into that. I successfully created a Cstr, but can't get to String
[17:19:26] *** ahal|lunch is now known as ahal
[17:19:42] <mbrubeck> pyon: I think the type annotations are all optional, like in ML.  See some of the code examples in the second post without annotations.  Also, some of those are just comments.
[17:20:16] <rkruppe> daheise: The problem is that String is UTF-8 while char*/CString may be anything at all. If you /know/ it represents text, you can turn cstr.as_bytes() into a String (or even a &str if that's enough)
[17:20:26] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[17:20:47] <mbrubeck> daheise: You can use str::from_utf8 or String::from_utf8, assuming the original string is UTF-8.
[17:20:49] *** Quits: Guest__ (textual@moz-6jfu02.dynamic.fusionbroadband.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:20:55] <daheise> daheise: Right, I know in this case it will be a UTF-8 string
[17:21:00] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[17:21:13] <molokdot1> for people here in brazil who dont understanding english and want to became a rust-developer
[17:21:22] <daheise> rkruppe: ^^
[17:21:32] <mbrubeck> molokdot1: Cool!
[17:21:57] <daheise> I don't have the code on my or I'd show it, but I tried from_utf8 but kept getting a i8 vs u8 type error iirc
[17:22:13] <mbrubeck> molokdot1: You should share that on https://www.reddit.com/r/rust/ too.
[17:22:17] *** Quits: lucian (lucian@moz-ijm.htl.74.194.IP) (A TLS packet with unexpected length was received.)
[17:22:18] <mbrubeck> if you have a Reddit account
[17:22:38] *** Joins: lucian (lucian@moz-ijm.htl.74.194.IP)
[17:23:03] <mbrubeck> daheise: String::from_utf8(cstring.as_bytes())
[17:23:05] *** Joins: arielb1 (Mibbit@moz-qqq0k1.tau.ac.il)
[17:23:07] <steveklabnik> molokdot1: you should check out https://twitter.com/sourustbr too
[17:23:07] <daheise> I may have to come back this evening with the code on me
[17:23:24] *** Parts: arielb1 (Mibbit@moz-qqq0k1.tau.ac.il) ()
[17:23:33] *** Quits: abique (abique@moz-alq0r9.ko9f.54u1.0e35.2a01.IP) (Quit: Leaving)
[17:23:33] *** Joins: lucian_ (lucian@moz-iuo.htl.74.194.IP)
[17:23:48] <daheise> mbrubeck: I thought I tried that and still got a type error, but I'm running off of memory right now and I was frustrated last night so I may be remembering wrong.
[17:24:13] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[17:24:20] <daheise> I'll come back this evening if I'm still having the same issue, but it sounds like I'm at least on the right track.
[17:24:30] <rkruppe> daheise: CString also derefs to [c_char] and c_char is i8. So if you did str::from_utf8(&cstr) that might be the cause of that error. cstr.as_bytes() gives you &[u8]
[17:24:58] <daheise> rkruppe: ok, that looks like it may be what I was encoutnering
[17:25:03] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[17:25:25] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[17:25:31] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[17:25:46] <daheise> oh, I had another issue.
[17:26:15] *** Joins: jedireza (jedireza@moz-allpoi.ca.comcast.net)
[17:26:16] <daheise> I tried calling libc::free() and got a type error that is expected a void pointer. Can a pointer be cast to void for this purpose?
[17:26:40] *** Quits: lucian (lucian@moz-ijm.htl.74.194.IP) (Ping timeout: 121 seconds)
[17:26:48] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[17:27:08] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[17:27:21] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[17:27:27] *** Quits: panicbit (panicbit@moz-78m9qi.itmc.tu-dortmund.de) (Ping timeout: 121 seconds)
[17:27:54] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[17:27:59] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[17:28:10] *** Joins: molokdot2 (molokdotc@moz-kjf.mdl.255.187.IP)
[17:28:32] <talchas> daheise: if you allocated it with libc::malloc() (or probably C malloc via ffi)
[17:28:56] <daheise> talchas: It was allocated inside the library with malloc, not in rust
[17:29:29] <mbrubeck> daheise: Yes, like this: `libc::free(ptr as *mut c_void)`
[17:29:48] *** Joins: Guest__ (textual@moz-6jfu02.dynamic.fusionbroadband.com)
[17:30:37] <daheise> mbrubeck: ok, that's a new one. Thanks.
[17:30:46] *** suvash is now known as suvash_away
[17:30:59] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[17:31:11] <daheise> Is there an explanation of `as` anywhere?
[17:31:14] *** Quits: kgrandon (Adium@moz-5u7qml.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[17:32:23] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[17:32:32] <davebettin> daheise: http://doc.rust-lang.org/nightly/book/casting-between-types.html
[17:32:56] <daheise> davebettin: thanks!
[17:33:22] *** Joins: kgrandon (Adium@moz-4rf8mu.nemh.1887.0450.2001.IP)
[17:34:17] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[17:34:53] <insaneinside> Is it possible to specify a macro argument as a bound in a `where` clause?
[17:34:57] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[17:35:41] <insaneinside> All I'm getting is "error: each predicate in a `where` clause must have at least one bound in it" followed by "error: expected one of `,`, `?`, or `{`, found `fmt::Debug`".
[17:36:21] *** Joins: Twinklebear (Twinklebear@moz-jqm.nvh.110.128.IP)
[17:36:32] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[17:36:43] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[17:36:53] *** Joins: basicdays (basicdays@moz-f3e.15a.49.72.IP)
[17:37:34] <Twinklebear> hey all, is it planned to allow user traits to be specified as bounds? eg. so you could write something like this: http://is.gd/W72aL5 ?
[17:37:48] <mitsuhiko> I'm an idiot. I can map my threads on creation.
[17:38:24] <insaneinside> Twinklebear: I'm pretty sure that's not how you use traits.
[17:38:35] <insaneinside> Twinklebear: one moment, I'll fix it for you
[17:38:36] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[17:39:17] <insaneinside> Twinklebear: here you go: http://is.gd/cbvshz
[17:39:19] <Twinklebear> well, I'm aware of the combination trait thing to do like trait Combination: ThingA + ThingB
[17:39:22] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[17:39:36] <Twinklebear> ah i see
[17:39:36] <insaneinside> Twinklebear: the problem is that `A + B` is not a trait.
[17:40:08] <talchas> and I suspect that among other possible issues, "A+B" doesn't have a single vtable
[17:40:15] <insaneinside> You could also create a third trait `trait ThingC: ThingA + ThingB {}`, and use the box directly with that.
[17:40:33] <insaneinside> ...which is probably more what you were going for.
[17:40:48] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[17:41:08] <niconii> Twinklebear: yeah, it seems like you wanted ThingA + ThingB to function as a trait object?
[17:41:10] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:41:13] *** Joins: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it)
[17:41:14] <Twinklebear> yea that's what I have at the moment insaneinside, I was curious why ThingA + ThingB wasn't supported, the vtable thing makes sense though talchas 
[17:41:31] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[17:41:32] <Twinklebear> niconii, right, the vtable issue makes sense though
[17:41:35] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[17:42:08] <Twinklebear> I guess along with potentially conflicting functions implemented in the traits
[17:42:11] *** Joins: JKWright (JKWright@moz-sed6c9.biz.rr.com)
[17:42:43] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:42:48] *** rkruppe_ is now known as rkruppe
[17:43:01] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[17:43:03] <Twinklebear> thanks folks :D
[17:43:09] *** Quits: chronoslynx (chronoslynx@moz-6ampnk.gtri.gatech.edu) (Quit: Textual IRC Client: www.textualapp.com)
[17:43:52] *** Quits: new_one (new_one@moz-quq.9e1.42.128.IP) (Ping timeout: 121 seconds)
[17:43:59] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[17:44:05] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[17:44:14] *** Parts: tokenshift1 (Adium@moz-kjc1qg.raytheon.com) ()
[17:44:29] *** Joins: areski (areski@moz-adq529.user.ono.com)
[17:44:40] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[17:44:50] *** Joins: mcoffin (mcoffin@moz-8l6.usq.54.128.IP)
[17:45:00] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[17:45:33] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[17:45:35] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[17:46:08] <nstoddard> Is crates.io down for anyone else right now?
[17:46:42] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[17:46:45] *** Quits: molokdot1 (molokdotc@moz-kjf.mdl.255.187.IP) (Quit: Lost terminal)
[17:46:53] <daheise> nstoddard: works for me
[17:47:18] *** Joins: Guest___ (textual@moz-fvqc2v.dynamic.fusionbroadband.com)
[17:47:40] *** Joins: umit (umit@moz-51i.nqs.45.92.IP)
[17:47:47] *** Joins: jechochamber (Mibbit@moz-785.qpd.115.17.IP)
[17:48:02] <nstoddard> Okay, it looks like it's back up for me too
[17:48:04] *** Joins: ascarter_ (ascarter@moz-705hf8.wa.comcast.net)
[17:48:34] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[17:48:41] *** Joins: mib_l7g2dv (Mibbit@moz-tm4.3q2.142.88.IP)
[17:48:47] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[17:49:03] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[17:49:39] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[17:49:58] *** Quits: Guest__ (textual@moz-6jfu02.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[17:50:17] <jmesmon> insaneinside: Twinklebear: rust could just create the "vtable" without requiring an explicit combo-trait
[17:50:38] <mcoffin> Hey all. I'm trying to use cargo to get (at least most of the way) to building some basic code to run on the arduino. I can compile manually with rustc, emitting obj files and linking manually with gcc, but when I build a staticlib with cargo, then try to read the resulting archive with 'readelf', it appears that none of the contained .o's are valid elf files. 'nm' can however list the symbols contained in t
[17:50:44] <mcoffin> he .a. Current demo I'm using can be found here: http://github.com/mcoffin/blink-arduino-rs.git
[17:51:04] *** Joins: qard (qard@moz-nekdha.vc.shawcable.net)
[17:51:26] <mbrubeck> mcoffin: You can use `cargo -v` to see the exact rustc commands that Cargo is running...
[17:51:31] <mbrubeck> `cargo build -v` that is
[17:51:32] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[17:51:41] *** Quits: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[17:51:52] <jechochamber> I guess this might be more of a C++ question, but I was wondering, if a move constructor steals the pointer its passed, how does it make sure that if the pointer was to stack memory, not to deallocate that memory when the scope it was allocated in is exited?
[17:51:54] *** Parts: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net) ()
[17:52:18] *** Joins: duncan1 (paul@moz-tqmn0g.j2ha.udjj.0306.2602.IP)
[17:52:23] *** Quits: mib_l7g2dv (Mibbit@moz-tm4.3q2.142.88.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:52:30] <jechochamber> I'm learning move semantics in C++ to improve my understanding of ownership in rust :)
[17:52:53] <Ms2ger> jechochamber, I believe the standard C++ answer is "good luck"
[17:53:04] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:53:26] <jechochamber> Ms2ger: In rust, the compiler protects us from this, correct?
[17:53:34] <Ms2ger> Yep
[17:53:40] <mcoffin> mbrubeck: Yea thanks. I guess I wasn't clear. When I use rustc OR cargo (i.e. allow rustc to link the .o files together rather than do a "--emit=obj" and link manually) I get what APPEARS to be an invalid archive
[17:53:45] <jechochamber> Ms2ger: Cool, thanks!
[17:54:09] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[17:54:11] <Ms2ger> Np
[17:54:19] <insaneinside> C++ move semantics are basically "here have an object the previous user isn't going to touch again.  Play nice, 'k?"
[17:54:34] <Hannibal_Smith> insaneinside, not really
[17:55:01] <Hannibal_Smith> C++ move leave the object in a valid state
[17:55:02] <insaneinside> Hannibal_Smith: I'm *paraphrasing*!  :)
[17:55:15] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[17:55:16] *** Joins: joehillen_ (joehillen@moz-236d99.fkdv.ulf6.3c01.2600.IP)
[17:55:21] <steveklabnik> Hannibal_Smith: not always, like, if you std::move a uniq_ptr, it becomes null
[17:55:25] <insaneinside> Hannibal_Smith: like I said, it's up to the receiver to de-initialize the received object.
[17:55:26] <steveklabnik> which i guess you can argue is valid
[17:55:28] *** Quits: akiss (akiss@moz-1n9mfc.lnk.telstra.net) (Ping timeout: 121 seconds)
[17:55:29] <steveklabnik> but still
[17:55:41] <jechochamber> Hannibal_Smith: "C++ move leave the object in a valid state" You're referring to std::move?
[17:55:47] <Hannibal_Smith> steveklabnik, it's valid state, you can call the destructor of it, or assign another pointer
[17:56:08] <mkomitee> I'm trying to clean up a function I wrote to be cleaner / simpler. The objective is to return an environment variable parsed as an integer, or a default value if the environment variable is unset or not parseable as an integer: https://gist.github.com/mkomitee/6a04a75c4d54a3368aa2
[17:56:09] *** Quits: kgrandon (Adium@moz-4rf8mu.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[17:56:33] <insaneinside> Hannibal_Smith: so... uh.. What, kind of state, exactly, does C or C++ define as *not* valid? ;)
[17:56:35] <Hannibal_Smith> jechochamber, how a move constructor must be implementated
[17:56:36] <steveklabnik> i guess it's technically valid, but still, null pointers :/
[17:56:47] *** Joins: tomaka (Pierre@moz-6lc2ai.abo.wanadoo.fr)
[17:56:53] <Ms2ger> mkomitee, it is ugly indeed :)
[17:57:06] <Hannibal_Smith> insaneinside, a moved object has to be able to be destructed, for example
[17:57:14] *** Joins: new_one (new_one@moz-quq.9e1.42.128.IP)
[17:57:18] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Ping timeout: 121 seconds)
[17:57:19] <Hannibal_Smith> So you must design your destructor to handle a moved instance of it
[17:57:20] <steveklabnik> mkomitee: you can unse some methods like unwrap_or_defualt to clean that up, i'd bet
[17:57:56] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:57:59] <mkomitee> steveklabnik: that's what I tried to do there, but the problem is that std::env::var and parse return different error types.
[17:58:03] *** Joins: anomico (anhedonia@moz-4g790f.cpe.netcabo.pt)
[17:58:16] <pyon> playbot: 256 as u8
[17:58:18] -playbot- <anon>:9:9: 9:12 warning: literal out of range for u8, #[warn(overflowing_literals)] on by default
[17:58:18] -playbot- <anon>:9         256 as u8
[17:58:18] -playbot- output truncated; full output at: http://bit.ly/1cOzWmF
[17:58:22] *** Quits: untitaker (untitaker@moz-i9ab1o.highway.telekom.at) (Ping timeout: 121 seconds)
[17:58:34] <insaneinside> pyon: hope you don't want a range from 0 to 255. ;)
[17:58:36] *** Quits: ascarter_ (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[17:58:40] <pyon> I do.
[17:58:44] <insaneinside> (...inclusive, that is)
[17:58:49] <Ms2ger> mkomitee, std::env::var(env).ok().and_then(|v| v.parse::<u32>().ok()).unwrap_or(default) works
[17:58:55] <steveklabnik> mkomitee: i don't have a moment to hack on it myself, but you're right that it's ugly, and I _think_ we can mkae it nicer
[17:58:56] <pyon> insaneinside: [0,256)
[17:59:05] <pyon> Life is much better with half-open ranges. :-=
[17:59:07] <pyon> :-) *
[17:59:10] * Ms2ger checks up on something
[17:59:12] <insaneinside> pyon: welcome to my side of the range bikeshed.
[17:59:49] <mkomitee> Ms2ger: that doesn't help either, because then the closure no longer returns a Result, it returns an Option.
[17:59:52] <Hannibal_Smith> steveklabnik, "
[17:59:53] <Hannibal_Smith>         Objects of types defined in the C++ standard library may be moved from (12.8). Move operations may be explicitly specified or implicitly generated. Unless otherwise specified, such moved-from objects shall be placed in a valid but unspecified state."
[18:00:03] *** Joins: jevin_ (jevin@moz-sra.ovp.12.72.IP)
[18:00:06] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[18:00:08] <Ms2ger> mkomitee, I added two ok() calls, note
[18:00:08] <ekiwi> mcoffin: if you want to have a look at different rust project for microcontrollers, I just started a list yesterday: https://github.com/ekiwi/utest-rs/blob/master/doc/CompilingRustForMicrocontrollers.md
[18:00:37] <brson> anybody want to write a new front page example?
[18:00:49] <mkomitee> aha. That works. 
[18:00:57] *** Quits: durka42 (Adium@moz-8p7g1d.o2oh.k96e.f470.2607.IP) (Quit: Leaving.)
[18:01:06] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[18:01:09] *** Quits: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca) (Ping timeout: 121 seconds)
[18:01:11] <Ms2ger> Kinda sucks, but Result::and_then can't really be more general
[18:01:14] <insaneinside> brson: what, does laundry-eating work now?
[18:01:17] *** Joins: untitaker (untitaker@moz-q9sn3v.highway.telekom.at)
[18:01:20] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Quit: )
[18:01:25] <Ms2ger> I guess it could FromError
[18:01:43] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[18:01:44] <talchas> yeah, or there could be some .standarize_error() ala try!
[18:01:51] <mkomitee> Ms2ger:  That works and is clearly better than what I initially had, but it's still kinda kludgey.
[18:02:04] *** Joins: senderista (tdbaker@moz-76rvlu.cs.washington.edu)
[18:02:12] <insaneinside> brson: why do we need a new example?
[18:02:19] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[18:02:40] *** Joins: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca)
[18:02:41] *** Joins: jawzi (jawzi@moz-9o5r4v.mn.charter.com)
[18:02:44] <talchas> mkomitee: given that you don't want the error info because you're defaulting, Result->Option seems like the correct fit
[18:02:51] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[18:03:48] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[18:04:08] <mkomitee> Yep.
[18:04:08] <Ms2ger> mkomitee, something like http://is.gd/w6eP6z would be a nicer version of your first code
[18:04:39] *** Joins: mib_zi0iac (Mibbit@moz-i7cb3r.fios.verizon.net)
[18:04:56] *** Quits: mib_zi0iac (Mibbit@moz-i7cb3r.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:04:58] <mkomitee> It would be great if std::env had a version of var that just returned an Option<String>. It has a version that returns an Option<OsString>.
[18:05:12] <brson> insaneinside: the existing one just isn't that enticing
[18:05:15] *** Quits: lucian_ (lucian@moz-iuo.htl.74.194.IP) (Ping timeout: 121 seconds)
[18:05:45] <mkomitee> btw, I updated the gist w/ the new solution. Thanks everyone for the help!
[18:06:03] <Ms2ger> Huh, I wonder why var_os doesn't return Result
[18:06:07] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[18:06:33] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[18:07:16] *** Joins: durka42 (Adium@moz-fu0pss.wireless-pennnet.upenn.edu)
[18:07:18] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[18:07:41] <talchas> Ms2ger: probably because it can't actually fail, only be missing
[18:07:59] <XMPPwocky> std::env::var(foo).map(std::ffi::OsString::to_str)
[18:08:00] <talchas> unlike the utf-8 version, which can be missing or can fail utf-8 validation
[18:08:05] <XMPPwocky> sort of awk, though
[18:08:05] *** Quits: new_one (new_one@moz-quq.9e1.42.128.IP) (Quit: WeeChat 1.1.1)
[18:08:23] *** Quits: JKWright (JKWright@moz-sed6c9.biz.rr.com) (Quit: Be back later ...)
[18:08:25] <insaneinside> brson: maybe I'll browse Project Euler or Rosetta Code for inspiration.
[18:08:35] <jmesmon> âˆš
[18:09:01] <XMPPwocky> â˜ƒ
[18:09:04] <brson> insaneinside: good idea
[18:09:15] *** Joins: fenster (Mibbit@moz-i7cb3r.fios.verizon.net)
[18:09:16] *** Quits: mechaxl (Adium@moz-on4hbe.cray.com) (Quit: Leaving.)
[18:09:17] <mcoffin> ekiwi: Nice list. Looking through a few right now to see what's up with staticlib linking. If you want, you can add http://github.com/jensnockert/dueboot which aims to get rust running in an arduino environment on the arduino due. A hacked updated fork of it I built is at github.com/mcoffin/dueboot... but these were both created before rust had custom target files so they actually force emission of llvm-ir t
[18:09:17] <Ms2ger> talchas, I guess that makes sense
[18:09:23] <mcoffin> hen manually compile the IR with LLC, which I guess might be interesting to some people.
[18:09:30] *** Quits: daheise (Mibbit@moz-2ff.gbk.219.128.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:09:33] *** Quits: anomico (anhedonia@moz-4g790f.cpe.netcabo.pt) (Quit: leaving)
[18:09:39] <Hannibal_Smith> (it would be really nice to see more Rust in Rosetta Code)
[18:10:22] <niconii> Hannibal_Smith: https://github.com/Hoverbear/rust-rosetta
[18:10:39] *** Joins: mechaxl (Adium@moz-on4hbe.cray.com)
[18:10:49] *** Quits: durka42 (Adium@moz-fu0pss.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[18:10:50] <Hannibal_Smith> I didn't know, thank you
[18:10:51] <niconii> Hannibal_Smith: it's not actually going on rosetta code until 1.0
[18:10:55] *** Quits: mechaxl (Adium@moz-on4hbe.cray.com) (Quit: Leaving.)
[18:11:22] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[18:11:41] <niconii> Hannibal_Smith: since otherwise they'd end up being rewritten constantly on the site as rust changes
[18:12:11] <insaneinside> ehh, now that I look at it Project Euler looks like some mathematicians got reeeeeally bored.  I appreciate higher math, but ... well, if something like that bores me, it'll very likely bore people looking at http://rust-lang.org/.
[18:12:50] *** Joins: vosen (vosen@moz-mtm1g4.dynamic.chello.pl)
[18:12:50] <Hannibal_Smith> niconii, I was thinking about Rosetta also because http://blog.wolfram.com/2012/11/14/code-length-measured-in-14-languages/
[18:12:52] *** Joins: GGist (Mibbit@moz-ijla36.seattleu.edu)
[18:14:08] <mcoffin> ekiwi: What I find strange, is that if I have a simple crate, which I compile with rustc, and --emit=obj, then create an archive with my gcc toolchain, everything works fine, but if I use rustc to emit the staticlib, then magically the object file doesn't appear to be an elf file anymore to 'readlib' from the toolchain
[18:14:15] *** Joins: durka42 (Adium@moz-fu0pss.wireless-pennnet.upenn.edu)
[18:14:35] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[18:15:33] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[18:15:54] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[18:15:55] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Connection closed)
[18:16:01] *** Joins: vosen (vosen@moz-mtm1g4.dynamic.chello.pl)
[18:16:20] *** Joins: vosen_ (vosen@moz-mtm1g4.dynamic.chello.pl)
[18:16:20] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Connection closed)
[18:16:21] *** Quits: joehillen_ (joehillen@moz-236d99.fkdv.ulf6.3c01.2600.IP) (Quit: quit)
[18:16:22] *** Joins: joehillen (joehillen_@moz-236d99.fkdv.ulf6.3c01.2600.IP)
[18:17:00] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[18:18:04] *** vosen_ is now known as vosen
[18:18:09] <shmibs> is there any reason why something defined struct Thing { a: f32, b: f32, } requires later instantiations that look like Thing { a:1., b:5. } rather than just Thing{1,5} ? i'm trying to pick this language up, but it feels like there's a lot of duplicated information everywhere
[18:19:36] <FreeFull> shmibs: Maybe you'd like   struct Thing(f32, f32); which is initialised with  Thing(1.0,5.0)
[18:21:13] *** Quits: jedireza (jedireza@moz-allpoi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[18:21:23] <Hannibal_Smith> shmibs, I think that is a good think that Rust is more a language that tend to force people to write code that is easy to read, than easy to write
[18:21:31] <Hannibal_Smith> *good thing
[18:21:40] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[18:23:07] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[18:23:44] *** Joins: kkimdev (kkimdev@moz-54q.uh9.135.104.IP)
[18:24:12] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[18:24:33] *** Quits: Twinklebear (Twinklebear@moz-jqm.nvh.110.128.IP) (Quit: Leaving)
[18:24:43] *** Joins: mib_5ke5d2 (Mibbit@moz-i2a.mej.202.74.IP)
[18:24:49] *** Quits: mib_5ke5d2 (Mibbit@moz-i2a.mej.202.74.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:24:51] <shmibs> Hannibal_Smith, shouldn't somebody know what a Thing is before trying to use one?
[18:25:03] <kkimdev> Q: Is it possible to make an example that referencing another thread's stack variable without using  std::thread::scoped?
[18:25:09] *** Joins: jimb (user@moz-09a.i8g.126.207.IP)
[18:25:18] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[18:25:18] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[18:25:35] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[18:25:42] <Ms2ger> kkimdev, no
[18:25:53] <kkimdev> Ms2ger, :(.. thanks
[18:25:55] <insaneinside> shmibs: sure, but if you've got a big structure with lots of fields, you're not always going to remember the exact order of all those fields.
[18:26:03] <Hannibal_Smith> shmibs, it's easy to mess up the order for certain things
[18:26:29] <Hannibal_Smith> And also refactoring become harder
[18:27:26] *** Joins: gyng (faux@moz-67fidm.singnet.com.sg)
[18:27:27] <shmibs> in a big structure, sure, it's easier to specify. with something as trivial as two or three fields, or with something that has a standardised order, though, it feels like being held captive
[18:27:27] *** Joins: jyeo (uid12229@moz-hv3ndn.charlton.irccloud.com)
[18:27:57] <shmibs> and isn't it more difficult to have to go around removing that period everywhere if i want to change my struct from using f32 to i32 for some reason?
[18:28:14] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[18:28:30] *** Quits: DerisiveLogic (smuxi@moz-0nf.7ki.56.172.IP) (A TLS packet with unexpected length was received.)
[18:28:41] <insaneinside> shmibs: regular expressions are quite easy to use. ;)
[18:30:01] *** Quits: Porkepix (Porkepix@moz-71m.3nd.202.89.IP) (Quit: My laptop has gone to sleep. ZZZzzzâ€¦)
[18:30:13] <jyeo> how do i convert a string of space delimited numbers into a vector containing the numbers parsed as integers?
[18:30:18] <jyeo> let y: Vec<u32> = "1 2 3".split(" ").map(|x| from_str(x)); doesn't work
[18:30:24] <XMPPwocky> why not?
[18:30:31] <Murarth> jyeo: x.parse()
[18:30:31] <shmibs> i know. it's doable. all i'm talking about is easy. when i'm writing a program, having to add more characters than necessary and remembering to apply operations to my entire project rather than just one line in one file both get in the way of saying what i want to say
[18:30:46] <Murarth> jyeo: Also, .collect() on the end.
[18:30:47] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[18:30:55] *** Parts: qard (qard@moz-nekdha.vc.shawcable.net) ()
[18:31:14] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[18:31:35] *** Quits: vmx (vmx@moz-3oko5l.dip0.t-ipconnect.de) (Quit: Leaving)
[18:31:37] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[18:32:06] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:32:06] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:32:15] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[18:32:17] <shmibs> and "type definitions in the right buffer, usage on the left" makes all that extra information redundant to the point of obfuscation
[18:32:28] <insaneinside> shmibs: Rust isn't an end-all be-all language -- it does certain things -- but not *all* things -- very well.
[18:32:59] <shmibs> insaneinside, i like lots of things it does. i was just puzzled why something this small wasn't handled
[18:33:11] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[18:33:48] <rillian>  0:04.51 ld: targeted OS version does not support use of thread local variables in __ZN6thread7current20hc3091d32c7758c33VxbE for architecture x86_64
[18:33:51] <rillian>  0:04.51 clang: error: linker command failed with exit code 1 (use -v to see invocation)
[18:34:16] *** Joins: mkpankov` (user@moz-dhr.u5t.23.84.IP)
[18:34:27] <rillian> I get that linking rust code into gecko on mac, but https://github.com/rillian/rust-ffi works fine
[18:34:30] <insaneinside> shmibs: I try not to stress out over that kind of thing once I've committed to using a language.  Stress is bad for my complexion. :)
[18:35:33] <shmibs> i s'pose :P
[18:35:58] <rillian> is there something I can pass to rustc to disable tls, or something I need to pass to the linker to enable tls support?
[18:36:37] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[18:36:38] *** ChanServ sets mode: +o pnkfelix
[18:36:42] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[18:37:49] *** Joins: JagaJaga (JagaJaga@moz-gd9.blu.205.109.IP)
[18:37:54] *** Quits: basicdays (basicdays@moz-f3e.15a.49.72.IP) (Ping timeout: 121 seconds)
[18:38:00] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[18:38:08] <insaneinside> rillian: try `rustc -C help`
[18:38:13] <insaneinside> ?
[18:38:28] *** Joins: ahal_ (ahal@moz-b8e0a0.cpe.pppoe.ca)
[18:38:31] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[18:38:45] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (Connection closed)
[18:39:35] *** ahal_ is now known as ahal
[18:40:28] *** Quits: alexggordon (alexggordon@moz-em9tm4.mo.charter.com) (Quit: Lost terminal)
[18:40:36] *** Joins: fizzbooze (bp@moz-no6phj.sm5k.54kg.0101.2620.IP)
[18:40:36] <jyeo> Murarth: got it! Thanks!
[18:40:46] *** Joins: Nextra (Nextra@moz-99g9a5.ewe-ip-backbone.de)
[18:41:05] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[18:41:07] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[18:42:00] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[18:42:08] *** Joins: debuuu (debu@moz-thlvnr.dyn.telefonica.de)
[18:42:22] *** Joins: andresv (textual@moz-rq7fak.cable.starman.ee)
[18:42:24] *** Joins: kamilc__ (kamil@moz-mu6116.play-internet.pl)
[18:42:42] *** Quits: shmibs (shmibs@moz-qllcm4.ph.cox.net) (Quit: latezors)
[18:42:49] *** Joins: SerialVelocity_ (SerialVeloc@moz-attia0.cable.virginm.net)
[18:43:58] <andresv> how to deal with moved enum value? sample code here: http://is.gd/x55lSx
[18:44:13] *** Joins: mechaxl (Adium@moz-on4hbe.cray.com)
[18:44:44] *** Joins: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP)
[18:44:49] *** Joins: fmendez (fmendez@moz-mgk.i1r.167.190.IP)
[18:44:50] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Ping timeout: 121 seconds)
[18:45:03] <XMPPwocky> andresv: just match on intype?
[18:45:04] *** Joins: simukis1 (nagisa@moz-8t068g.static.zebra.lt)
[18:45:09] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[18:45:10] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[18:45:16] <XMPPwocky> you could also derive Copy and Clone for InputType
[18:45:19] *** Quits: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP) (Quit: Textual IRC Client: www.textualapp.com)
[18:45:27] *** Quits: fmendez (fmendez@moz-mgk.i1r.167.190.IP) (Quit: )
[18:45:33] <FreeFull> andresv: deriving Copy and Clone probably is the best thing to do in this case
[18:45:38] <andresv> XMPPwocky: my example is little bit out of contex
[18:45:56] *** Quits: sr-ix (textual@moz-lpiloj.static.grandenetworks.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[18:45:56] *** Joins: kakefabrikken (Mibbit@moz-9m21i0.studby.ntnu.no)
[18:46:13] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[18:46:15] *** Quits: mechaxl (Adium@moz-on4hbe.cray.com) (Quit: Leaving.)
[18:46:34] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[18:46:38] *** Quits: fizzbooze (bp@moz-no6phj.sm5k.54kg.0101.2620.IP) (Ping timeout: 121 seconds)
[18:46:38] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[18:47:02] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[18:47:10] *** Quits: spider-mario (spidermario@moz-3im.baq.163.37.IP) (Connection closed)
[18:48:01] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[18:48:05] <andresv> FreeFull: duh, i tried earlier with #[derive(Clone)] and then with #[derive(Copy)] however not with both which solved the problem
[18:48:14] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[18:48:37] *** Joins: spider-mario (spidermario@moz-3im.baq.163.37.IP)
[18:48:42] <FreeFull> andresv: Yeah, Copy requires Clone now
[18:49:22] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[18:50:40] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Ping timeout: 121 seconds)
[18:51:09] *** Quits: Lee1092 (uid13277@moz-p2e1ii.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[18:51:46] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (A TLS packet with unexpected length was received.)
[18:52:35] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[18:52:50] *** Quits: duncan1 (paul@moz-tqmn0g.j2ha.udjj.0306.2602.IP) (Ping timeout: 121 seconds)
[18:53:04] *** Quits: ^BR (^BR___@moz-eb5hln.npub.i6d0.0e34.2a01.IP) (Ping timeout: 121 seconds)
[18:53:34] *** Quits: ixjf`bnc (ixjf@moz-a3o4db.pl) (Quit: Aw yeah, baby!)
[18:53:34] *** Quits: Deltanic (Deltanic@moz-a3o4db.pl) (Quit: ayy)
[18:53:53] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[18:54:00] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[18:54:22] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[18:54:25] *** Joins: Deltanic (Deltanic@moz-h5m.4ii.62.178.IP)
[18:54:35] <insaneinside> I'm getting a bunch of "cannot relate bound region" ICEs lately, esp. for e.g. `<Self as SomeTrait>::some_method(...)`.  Anyone else?
[18:55:22] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[18:55:45] *** Joins: dawehner-afk (quassel@moz-pee3l9.mullvad.net)
[18:56:21] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[18:56:45] *** Quits: ayonix (quassel@moz-4i0eh6.xyz) (Quit: No Ping reply in 60 seconds.)
[18:57:06] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Connection closed)
[18:57:24] <rillian> insaneinside: thanks. didn't know about that one
[18:58:18] <insaneinside> rillian: np
[18:58:39] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[18:59:03] *** Joins: ayonix (quassel@moz-4i0eh6.xyz)
[18:59:24] *** Joins: mou (donwilliam@moz-lq9kg8.cpe.webspeed.dk)
[19:00:00] *** Joins: qrlpx_ (smuxi@moz-n7t.3nb.211.95.IP)
[19:00:35] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[19:00:46] *** Quits: dawehner-afk (quassel@moz-pee3l9.mullvad.net) (Ping timeout: 121 seconds)
[19:01:20] <ekiwi> mcoffin: with my own projects I havn't gotten past the missing librt so I have never managed to create a static lib with cargo (I found out about https://github.com/rust-lang/rlibc yesterday))
[19:02:07] *** Joins: mechaxl (Adium@moz-on4hbe.cray.com)
[19:02:09] *** Joins: jshs (jshs@moz-3bkmt1.dip0.t-ipconnect.de)
[19:02:35] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[19:03:20] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[19:04:44] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[19:05:00] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[19:05:45] *** Quits: mechaxl (Adium@moz-on4hbe.cray.com) (Quit: Leaving.)
[19:05:54] *** Joins: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com)
[19:06:05] *** Quits: Deltanic (Deltanic@moz-h5m.4ii.62.178.IP) (Quit: ayy)
[19:06:53] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[19:07:11] *** Joins: mechaxl (Adium@moz-on4hbe.cray.com)
[19:07:18] *** Quits: wheals (wheals@moz-63jqlj.fios.verizon.net) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[19:07:23] *** Joins: Deltanic (Deltanic@moz-h5m.4ii.62.178.IP)
[19:08:35] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Ping timeout: 121 seconds)
[19:09:04] *** Joins: debu (debu@moz-thlvnr.dyn.telefonica.de)
[19:09:16] *** Quits: colinsurprenant (colin@moz-naf.t5p.222.192.IP) (Client exited)
[19:09:17] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[19:10:20] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[19:11:15] *** Joins: mib_zohfeo (Mibbit@moz-cu2.a02.137.142.IP)
[19:11:17] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[19:11:17] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[19:11:21] *** Joins: duncan (paul@moz-8aodfa.j2ha.udjj.0306.2602.IP)
[19:11:34] *** Quits: debuuu (debu@moz-thlvnr.dyn.telefonica.de) (Ping timeout: 121 seconds)
[19:12:09] *** Joins: JKWright (JKWright@moz-k04m95.res.rr.com)
[19:12:24] <frewsxcv> is setting a path with rustc-serialize not possible in Cargo.toml? https://gist.github.com/frewsxcv/12fa7b68daa950a5d26f
[19:12:53] <mib_zohfeo> For rust version 1.0, should I read beta or the nightly book?
[19:13:03] <steveklabnik> mib_zohfeo: for now, read nightly
[19:13:09] <steveklabnik> tonight, i'm backporting everything to beta
[19:13:18] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[19:13:21] <mib_zohfeo> steveklabnik: Thanks!
[19:13:21] <steveklabnik> so it won't be until tomorrow or maybe the day after that beta is actually up-to-date
[19:13:35] <steveklabnik> np :)
[19:14:17] <rillian> no love though
[19:14:33] *** Quits: mib_zohfeo (Mibbit@moz-cu2.a02.137.142.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:14:42] <rillian> the offending symbol is part of the runtime, added to the staticlib.a output by rustc in both cased
[19:14:57] <rillian> but c++ doesn't complain, while the gecko build does
[19:16:08] <rillian> what's objdump called on macos?
[19:16:38] <XMPPwocky> i think it's still objdump?
[19:17:15] <rillian> otool, I guess
[19:17:50] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[19:18:39] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[19:18:49] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[19:19:52] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[19:20:07] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[19:20:13] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[19:20:18] *** Quits: kkimdev (kkimdev@moz-54q.uh9.135.104.IP) (Ping timeout: 121 seconds)
[19:21:45] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[19:21:45] *** ChanServ sets mode: +o jdm
[19:22:28] <rillian> 'otool -tV' more specifically
[19:22:40] <talchas> rillian: the relevant issue looks like https://doc.rust-lang.org/src/std/thread/local.rs.html#153-189 which doesn't have any options for "please no tls even if you think it's ok"
[19:23:11] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[19:23:17] <rillian> talchas: ok, so adding that would be one path?
[19:23:38] <rillian> I'd still like to understand why clang++ can link the code, but gecko's build system can't
[19:23:56] <tmtwd> what is the best data structure for representing graphs in rust?
[19:24:13] <steveklabnik> tmtwd: check out http://smallcultfollowing.com/babysteps/blog/2015/04/06/modeling-graphs-in-rust-using-vector-indices/ and the post it links to
[19:25:00] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[19:25:01] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[19:25:10] <rillian> talchas: and also, what in the object code tells the linker it needs tls?
[19:25:19] *** Joins: babhishek21 (Mibbit@moz-0ml.fdi.178.59.IP)
[19:25:26] <babhishek21> hello
[19:25:36] <babhishek21> I tried building rust on windows
[19:25:42] <babhishek21> I believe I have all the tools
[19:25:50] <mbrubeck> I started make a list of the most common questions in this  channel, plus brief answers.  Not sure yet how best to make it useful: https://etherpad.mozilla.org/rust-irc-faq
[19:25:53] *** Joins: Guest_ (textual@moz-6jfu02.dynamic.fusionbroadband.com)
[19:25:58] <babhishek21> the configure script fails at CFG_PYTHON 
[19:26:12] <babhishek21> it always detects python3
[19:26:34] *** Quits: Guest___ (textual@moz-fvqc2v.dynamic.fusionbroadband.com) (Connection closed)
[19:26:36] <babhishek21> I tried a lot of things (aliases, py -2, etc). Doesn't work
[19:26:44] <GaryOak_> how does main accept args from the command line?
[19:26:47] *** Joins: Guest__ (textual@moz-fvqc2v.dynamic.fusionbroadband.com)
[19:27:07] <babhishek21> is there a way for it to detect the python2 installation in my system
[19:27:30] *** Quits: mechaxl (Adium@moz-on4hbe.cray.com) (Quit: Leaving.)
[19:27:30] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[19:27:38] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[19:27:49] <rillian> GaryOak_: try std::env::args() ? https://doc.rust-lang.org/nightly/std/env/fn.args.html
[19:28:04] *** Joins: fleabay (Mibbit@moz-kr7nid.ip.windstream.net)
[19:28:11] <andresv> had some more issues with moved values, therefore I changed my function definition from : String to : &String however now == does not work with strings: error with sample code here: http://is.gd/ifA12l
[19:28:26] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[19:28:56] *** Quits: jarrednicholls (uid19542@moz-s0evcl.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[19:29:04] *** Quits: kamilc__ (kamil@moz-mu6116.play-internet.pl) (Quit: Linkinus - http://linkinus.com)
[19:29:09] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[19:29:25] *** Quits: jechochamber (Mibbit@moz-785.qpd.115.17.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:29:39] <mbrubeck> babhishek21: Do you have "python2" or "python27" or "python26" in the PATH of the shell where you are running configure?
[19:29:49] <talchas> rillian: I don't know what flags on the symbol or reloc mark it as tls
[19:29:55] *** Quits: Guest_ (textual@moz-6jfu02.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[19:30:30] *** Joins: jtdowney_ (jtdowney@moz-34f.r8n.113.216.IP)
[19:30:35] <mbrubeck> babhishek21: Try adding one of those to a directory in your PATH, or make sure PATH lists your python2 installation before your python3 installation.
[19:30:48] <talchas> given that the platform should support tls, I'd get clang to output what flags it passes to the linker
[19:30:49] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[19:31:49] *** Joins: kkimdev (kkimdev@moz-dj5rvn.59gh.vk5s.0000.2620.IP)
[19:32:24] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Ping timeout: 121 seconds)
[19:33:34] *** Joins: mechaxl (Adium@moz-on4hbe.cray.com)
[19:33:39] *** Joins: cyborgsphinx (cyborgsphin@moz-5ma8c0.bchsia.telus.net)
[19:33:41] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (A TLS packet with unexpected length was received.)
[19:33:45] *** Joins: _ixti_ (ixti@moz-21k.dae.119.188.IP)
[19:34:05] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[19:34:39] <mkomitee> Can you implement a Trait for a type you use from another crate or the stdlib?
[19:34:46] <rillian> talchas: does cargo just pass -O for release builds?
[19:35:10] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[19:35:20] <steveklabnik> rillian: you can cargo build --release -v to find out exactly :)
[19:35:21] *** Joins: futile (felix@moz-59gb53.pools.vodafone-ip.de)
[19:35:43] *** Quits: bren2010 (bren2010@moz-356.o3d.198.71.IP) (Quit: )
[19:35:50] *** Quits: mechaxl (Adium@moz-on4hbe.cray.com) (Quit: Leaving.)
[19:36:16] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[19:36:21] *** Quits: cyborgsphinx (cyborgsphin@moz-5ma8c0.bchsia.telus.net) (Quit: Leaving)
[19:36:32] *** Quits: ixti (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[19:36:44] *** Quits: rmdashrf (rmdashrf@moz-n1r.cr0.54.128.IP) (Quit: WeeChat 0.4.2)
[19:37:01] <rillian> steveklabnik: thanks!
[19:37:20] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[19:37:38] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[19:38:10] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[19:38:11] *** Quits: senderista (tdbaker@moz-76rvlu.cs.washington.edu) (Client exited)
[19:38:22] <steveklabnik> np. you can control the exact settings in your cargo.toml if you want something that it's not doing
[19:38:48] <andresv> here is runnable example about my problem with String1 == String2: http://is.gd/CAMAGh //func(&name); // does not work with "pub fn func(name: &String)"
[19:38:53] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[19:39:04] *** Joins: bren2010 (bren2010@moz-356.o3d.198.71.IP)
[19:39:46] *** Quits: jtdowney_ (jtdowney@moz-34f.r8n.113.216.IP) (Ping timeout: 121 seconds)
[19:40:08] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[19:40:17] <benji> Does anyone know why num::FromPrimitive doesn't work on nightly, but does on beta?
[19:40:35] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[19:40:37] <benji> By doesn't work, sorry, I mean #[derive(FromPrimitive)]
[19:40:42] <GaryOak_> is there a shorthand for matching on some none and just returning what's in the Some, or handling the error on None?
[19:40:43] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[19:40:46] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[19:40:47] <rillian> steveklabnik: thanks. I just wondered if debug defaults were pulling in the offending code
[19:40:51] *** Quits: bren2010 (bren2010@moz-356.o3d.198.71.IP) (Quit: )
[19:40:52] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[19:40:56] <SneakySnake> This is probably not the right place, but I am using a regex crate, and want to match a "range" that has a "from" part and an optional "to" part. e.g. "TWO THOUSAND", or "TWO THOUSAND TO THREE THOUSAND"., and capture the values. I tried "([a-z ]+)( to ([a-z ]+))?", but the first capture is too greedy, it captures the "to" part too. Can I solve this with regex or do I have to parse it manually?
[19:40:58] <talchas> andresv: l == *name would work, but you should never take &String
[19:41:00] <andresv> aa, i got it, it should be: if l == *name not just if l == name in that case
[19:41:09] <SneakySnake> s/a regex crate/the regex crate/
[19:41:11] *** Joins: jonatin (jonatin@moz-jl9ua2.ca.comcast.net)
[19:41:20] <talchas> &str is more general and provides you with just as much
[19:41:24] <SneakySnake> Sorry if I'm incoherent, I have been at this for hours and I am very frustrated
[19:41:35] <benji> GaryOak_: look for 'unwrap' here: https://doc.rust-lang.org/std/option/enum.Option.html
[19:41:49] <andresv> talchas why &String is not good practice?
[19:42:09] *** Quits: jshs (jshs@moz-3bkmt1.dip0.t-ipconnect.de) (Client exited)
[19:42:09] <GaryOak_> benji: thanks :)
[19:42:18] <talchas> SneakySnake: try [a-z ]+?
[19:42:27] <talchas> (that's literally "[a-z ]+?"
[19:42:28] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[19:42:42] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[19:42:56] <SneakySnake> talchas: I want to capture the from part and the to part separately. e.g. (TWO THOUSAND) TO (THREE THOUSAND)
[19:43:29] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[19:43:41] <talchas> andresv: String is only useful over &str if you can mutate it, but &String means you can't
[19:44:14] *** Joins: bren2010 (bren2010@moz-356.o3d.198.71.IP)
[19:44:28] <talchas> and String has to be the entire string as allocated, while &str can just be part of it
[19:44:28] *** Joins: Azdle (Azdle@moz-738.tg8.232.50.IP)
[19:44:37] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[19:44:51] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[19:45:00] <talchas> SneakySnake: yeah +? instead of +: "([a-z ]+?)( to ([a-z ]+?))?"
[19:45:14] <tilpner> "but the trait 3`core::ops::FnOnce<([type error],)>` is required" <-- Is that a bug?
[19:45:21] <talchas> which makes it take as little as possible while still allowing the entire match to succeed
[19:45:35] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[19:45:39] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[19:45:44] <talchas> (so you'll need to match against the entire string, not just the beginning and rely on the greedy behavior)
[19:45:50] <niconii> tilpner: sure looks like one
[19:46:08] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[19:46:12] *** Joins: mjewkes (mjewkes@moz-6v8.jf9.227.142.IP)
[19:46:20] *** Parts: CMCDragonkai (nobody@moz-v01.321.218.216.IP) ()
[19:46:21] <insaneinside> tilpner: it's telling you to put an error in your code.  YES!  YOU WIN.
[19:46:26] * insaneinside hands tilpner a cookie.
[19:46:54] *** Joins: CMCDragonkai (nobody@moz-v01.321.218.216.IP)
[19:46:55] *** Joins: JanC_ (janc@moz-fp4nu2.dsl.scarlet.be)
[19:47:01] <mjewkes> What's the most idiomatic way to fill an array literal from a slice? 
[19:47:02] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Quit: Leaving)
[19:47:30] <talchas> if you have other errors in your code it might be trying to tell you more than one error at once, if say it doesn't match FnOnce at all
[19:47:31] *** Joins: mechaxl (Adium@moz-on4hbe.cray.com)
[19:47:36] <pyon> Is there any way to make rustup beep the moment it finishes downloading Rust?
[19:47:36] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[19:47:38] *** Quits: JanC (janc@moz-dg42uv.dsl.scarlet.be) (Ping timeout: 121 seconds)
[19:47:46] <talchas> (but it can't tell what argument it /should/ take because that is broken too)
[19:48:18] <niconii> pyon: finishes downloading or finishes installing
[19:48:23] <pyon> niconii: Downloading.
[19:48:30] <pyon> So that I can enter my sudo password to install it.
[19:49:13] <XMPPwocky> [sudo] password for pyon:
[19:49:15] <SneakySnake> talchas: "([a-z ]+?)( to ([a-z ]+?))?" only captures "o" in "one"
[19:49:28] <maurer> I'm trying to update the nix rust beta definition file to point at beta.4 instead of beta.2, and found that it uses a stage0 snapshot to do this. I figure I should be updating that as well, but I can't find any index of these
[19:49:41] <pyon> XMPPwocky: That's the very moment when I want rustup to beep.
[19:49:49] <talchas> SneakySnake: yeah, if there isn't a match_entire or something (I forget the details of the regex crate), "([a-z ]+?)( to ([a-z ]+?))?$" to make it
[19:49:56] *** Joins: eerie_ (eerie@moz-9ml73n.red.bezeqint.net)
[19:50:00] <pyon> XMPPwocky: So that I can remember to enter my password. (I might be doing something else at the moment.)
[19:50:08] <insaneinside> pyon: you know that you don't *actually* need to install Rust outside your home directory?  e.g. <https://github.com/insaneinside/bashconf/blob/master/rc.d/02-rust-paths>
[19:50:09] <tilpner> insaneinside - Nah, I'll just use another function to do this... :/
[19:50:41] <insaneinside> tilpner: cat-on-keyboard will probably get a similar effect. :)
[19:50:42] <rillian> pyon: rustup && echo -en "\a"
[19:50:55] <pyon> rillian: Ah, thanks!
[19:51:03] <benji> SneakySnake: SneakySnake "([a-zA-Z ]+?) TO ([a-zA-Z ]+)" should also work
[19:51:04] <SneakySnake> talchas: Finally, it seems to be working. Thank you very much! Man, I hate regex...
[19:51:06] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[19:51:06] <pyon> insaneinside: Yeah, but adding yet another directory to my $PATH doesn't seem like a good idea.
[19:51:09] <niconii> rillian: wouldn't that only beep after installation though?
[19:51:21] <niconii> rillian: pyon needs it to beep after download but before installation
[19:51:26] <tilpner> Is there a way to iterate a Range<f64>, stepwise? Non-std code is fine.
[19:51:34] <benji> SneakySnake: if you're having trouble with regular expressions, there's a very nice interactive regex REPL online somewhere, let me find it for you..
[19:51:46] <benji> SneakySnake: https://regex101.com/
[19:51:47] <rillian> niconii: oh, good point. sorry, I read too quickly
[19:51:48] <pyon> niconii: Actually, I have a one-liner shell script that downloads rustup and then runs it.
[19:51:55] <rillian> you'd have to edit the rustup script, I'd think
[19:51:58] <pyon> niconii: So I can insert the echo as an intermediate step between then.
[19:52:01] <tilpner> SneakySnake, benji - regexr.com is neat.
[19:52:03] <pyon> NO, wait.
[19:52:06] <pyon> Wrong.
[19:52:07] <insaneinside> pyon: as far as I'm concerned, it's no worse than having a gajillion binaries in /usr/bin...
[19:52:09] <rkruppe> tilpner: Are you aware in how many ways stepping (non-integer) floats can go wrong?
[19:52:11] <rillian> (on a mac you can also do 'rustup && say done')
[19:52:23] <pyon> insaneinside: My /usr/local/bin is much smaller, fortunately.
[19:52:34] <niconii> pyon: looks like you do need to edit rustup then
[19:52:35] <tilpner> rkruppe - I don't have an exact number, but I'm aware that's usually a rather stupid idea. :)
[19:52:37] <SneakySnake> Thanks for the tips, benji, tilpner
[19:52:38] <benji> tilpner: cool, I hadn't seen regexr.com before
[19:52:39] *** Quits: babhishek21 (Mibbit@moz-0ml.fdi.178.59.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:52:55] <SneakySnake> Although the regex crate states it has its own regex dialect based on re2
[19:52:57] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:53:01] <SneakySnake> Not sure how compatible it is with those sites
[19:53:20] *** Quits: mechaxl (Adium@moz-on4hbe.cray.com) (Quit: Leaving.)
[19:53:49] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[19:53:56] <Azdle> I have a borrow checker question (big supprise, right?). See https://gist.github.com/Azdle/254d37004f2475478000#file-dolos-rs-L84-L101 (and the rustc output at the top). How do I deal with a situation like this? I want to add an entry to a HashMap in the case that it doesn't exist, but to check if it exists I have to borrow it, but then I can't make a mutable borrow inside a match on that because I've already borrowed it. The only solution that I've 
[19:53:56] <Azdle> come up with was a flag variable that I uses to tell a different section of code if that element exists outside of where the original borrow has ended, but that method seems unclean to me.
[19:54:02] *** Quits: jwatt (roslea@jwatt.irc.users.mozilla.org) (Ping timeout: 121 seconds)
[19:54:37] <dwrensha> Hm. Is there any particular reason that AsRef<[T]> is implemented for Vec<T>, but AsMut<[T]> is not?
[19:54:46] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[19:54:47] <rkruppe> tilpner: Good, that saves me a lot of typing. For these reasons, I don't think there is a solution in std. You can use a manual loop, or maybe fold().take_while()
[19:54:48] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:55:12] <insaneinside> Azdle: doesn't HashMap have an "entry" API?
[19:55:21] <tilpner> rkruppe - Yes, I'm already using a while loop, but that's of course not iterating a Range<f64>. :)
[19:55:49] <Azdle> It does, does that help me? I started there, but thought using get was better for some reason...
[19:55:52] <rkruppe> tilpner: Iterator is not in your crate, and neither are Range and f64, so you can't implement Iterator for it
[19:56:10] <mitsuhiko> i feel like that if poisoned mutexes are here to stay, then mutex.lock().unwrap() should get an alias
[19:56:12] <mitsuhiko> it's so ugly :-/
[19:56:22] <mitsuhiko> especially because .unwrap() produces terrible errors
[19:56:25] <panicbit> insaneinside, Azdle: Also, how about get_mut?
[19:56:34] <insaneinside> Azdle: it might, but my brain isn't doing critical thinking right now.
[19:56:39] *** Joins: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP)
[19:56:41] <Azdle> Oh, I can add the entry using the VacantEntry.
[19:56:45] <talchas> Azdle: entry() is generally what you should use here
[19:56:59] <rkruppe> tilpner: You could use a newtype, but it's probably easier to just use fold().take_while() if you just need something that implements Iterator
[19:57:02] <Azdle> So obvious now that I've been told.
[19:57:09] <talchas> you can even use the or_insert_with thing
[19:57:31] * insaneinside wishes *his* problems didn't all end up being ICEs. :(
[19:57:46] *** Quits: JagaJaga (JagaJaga@moz-gd9.blu.205.109.IP) (Ping timeout: 121 seconds)
[19:57:52] *** Quits: hugod (user@moz-885.jmo.24.70.IP) (Connection closed)
[19:58:22] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[19:58:59] <insaneinside> ...it's absolutely ridiculous how I just can't seem to get anything done -- I'm tempted to just download the nightly from two/three weeks ago, which *didn't* have this problem with "cannot relate bound region".
[19:59:01] <tilpner> rkruppe - I see. I didn't think of using fold here, thanks.
[19:59:10] <Azdle> talchas, but that requires me to know what *should* be in that entry before requesting it doesn't it?
[19:59:29] <insaneinside> Azdle: only the key.
[20:00:03] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[20:00:47] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[20:01:07] *** Quits: duncan (paul@moz-8aodfa.j2ha.udjj.0306.2602.IP) (Connection closed)
[20:01:27] *** Joins: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr)
[20:01:37] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[20:02:05] <rkruppe> tilpner: Now that I look closer, it's not really obvious how to use fold(), maybe even not sensible at all.
[20:02:06] *** Quits: futile (felix@moz-59gb53.pools.vodafone-ip.de) (Quit: WeeChat 1.2-rc1)
[20:02:36] <rkruppe> tilpner: Sorry, but I mislead you :( There is no nice and simple iterator-fu to do what you want :(
[20:02:39] <tilpner> rkruppe - Yeah, I kinda noticed that. Will use iter::iterate instead.
[20:02:55] <rkruppe> Oh, that exists? Nevermind, then it's rather easy
[20:03:05] <tilpner> Well, it's unstable. :(
[20:03:05] <rkruppe> just s/fold/iterate/
[20:03:09] <rkruppe> Oh my
[20:03:16] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[20:03:20] <rkruppe> Maybe a newtype is simpler after all
[20:03:31] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[20:03:46] <bluss> tilpner: itertools has linspace. It's not using ranges though
[20:03:51] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:03:57] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[20:04:08] *** Quits: chris2 (chris@moz-4g533a.org) (Ping timeout: 121 seconds)
[20:04:09] <bluss> it's linspace(start, end, n) which makes n points from [start, end]
[20:04:21] *** Joins: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com)
[20:04:49] *** Quits: andresv (textual@moz-rq7fak.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[20:05:02] <tilpner> bluss - Thanks, I'll try that.
[20:05:37] *** Joins: new_one (new_one@moz-suj.lcf.15.50.IP)
[20:05:45] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[20:05:46] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:06:04] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[20:06:07] *** Quits: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr) (Ping timeout: 121 seconds)
[20:06:09] *** chmanchester is now known as chmanchester|afk
[20:06:10] <SneakySnake> Can I move capture only certain values in a thread closure?
[20:06:11] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[20:06:21] <SneakySnake> instead of everything?
[20:06:23] *** Quits: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com) (Client exited)
[20:06:38] <tilpner> And again... we should have anonymous return types (the impl Iterator stuff). :/
[20:07:08] <maurer> is there something like --pretty expanded for cargo? I've got a build.rs file that needs to be followed to generate the crate, but I want to debug some macro stuff
[20:07:16] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:07:40] <SneakySnake> I don't even understand what the hell is going on. The borrow checker tells my values don't live long enough, even though they are just plain i64
[20:07:41] <rkruppe> SneakySnake: You can capture references by value, which is essentially identical to the "normal" by-ref captures except that you need to create a variable for the reference yourself
[20:07:43] <pyon> tilpner: Might as well infer all types in impl method signatures.
[20:07:57] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[20:08:02] <SneakySnake> I want to capture those i64 primitives by value if possible
[20:08:10] <pyon> Actually, when there are any associated types involved, impl method signatures can get *VERY* long.
[20:08:25] <rkruppe> +1 for anonymous return types
[20:08:31] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[20:08:35] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[20:08:49] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[20:08:50] <insaneinside> maurer: can't you just rustc --pretty=expanded on build.rs?
[20:09:11] <GaryOak_> Can someone help with why std::fs::read_dir(&path).iter() is returning an iterator of ReadDirs?
[20:10:07] <maurer> insaneinside: no, build.rs is not part of the crate
[20:10:16] <maurer> insaneinside: it just includes some scripting to generate file used in the crate
[20:10:37] <insaneinside> maurer: but you want to expand it, correct?
[20:10:47] <insaneinside> maurer: it's a Rust source file, AFAIK.
[20:10:53] *** Joins: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr)
[20:10:57] <rkruppe> GaryOak_: read_dir returns a Result and Result::iter() yields nothing if the result is Err and only x when the result is Ok(x)
[20:11:01] *** Quits: eerie_ (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[20:11:04] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Quit: Bye)
[20:11:19] <rkruppe> GaryOak_: You probably want read_dir(..).unwrap() or try!(read_dir(..))
[20:11:29] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[20:11:29] *** Joins: joel1 (joel@moz-6ampnk.gtri.gatech.edu)
[20:11:34] *** Joins: frangio (frangio@moz-arj429.dc.uba.ar)
[20:11:38] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:11:42] *** Quits: fabiand (fabiand@moz-g76b8c.dip0.t-ipconnect.de) (Quit: Verlassend)
[20:11:47] <maurer> insaneinside: I mean, I tried what you suggested, and it just expands build.rs
[20:11:49] *** Joins: mechaxl (Adium@moz-on4hbe.cray.com)
[20:11:54] <maurer> insaneinside: not the actual crate
[20:11:56] <GaryOak_> rkruppe: thanks I try that
[20:12:22] <insaneinside> maurer: you might need `rustc -Z unstable-options --pretty=expanded`?
[20:12:33] <pylos> l
[20:12:40] <tilpner> maurer - You can get the rustc commands from 3`$ cargo -v`, and then just append 3`--pretty=expanded` to them.
[20:12:42] * insaneinside is mostly just thinking aloud here, maurer. ;)
[20:12:56] <maurer> insaneinside: that is what I did
[20:12:59] <maurer> tilpner: Oh, thanks
[20:13:06] <tilpner> (3`cargo build -v`)
[20:13:35] *** Quits: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[20:13:35] *** Parts: mechaxl (Adium@moz-on4hbe.cray.com) ()
[20:13:49] <SneakySnake> I can't believe this
[20:13:52] <SneakySnake> Why is it doing this to me?
[20:13:58] *** Quits: c0a8 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[20:14:03] <SneakySnake> Why doesn't an i64 live long enough? It's not even a reference
[20:14:07] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[20:14:28] <tilpner> Isn't it obvious? You didn't sacrifice enough lifetimes.
[20:14:31] <insaneinside> SneakySnake: cancer?
[20:14:36] <SneakySnake> Even if I put it up at the top of main, it still doesn't live long enough
[20:14:44] <SneakySnake> I am going crazy
[20:14:44] <tilpner> SneakySnake - Have a playpen/link?
[20:14:53] <SneakySnake> Have to make a test case first
[20:15:14] *** Joins: hugod (user@moz-885.jmo.24.70.IP)
[20:16:14] <pyon> I just installed the latest rustc nightly. No matter what I try to compile, I always get the same error: "unexpected end of macro invocation".
[20:16:21] <pyon> Even when the code in question contains no macros!
[20:16:25] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[20:16:34] *** Quits: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP) (A TLS packet with unexpected length was received.)
[20:16:47] *** Joins: chris2 (chris@moz-4g533a.org)
[20:16:51] <eddyb> tilpner: the `foo` highlighting is cool :D
[20:16:54] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[20:16:57] <pylos> ls
[20:17:00] <eddyb> I believe I can make my client do it
[20:17:08] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[20:17:12] <pylos> my bad on that spam
[20:17:13] *** Joins: basicdays (basicdays@moz-f3e.15a.49.72.IP)
[20:17:15] <eddyb> (but I would very much like proper highlighting and that's harder)
[20:17:24] <tilpner> eddyb - It's not mine. One day, I tried to get actual highlighting, but...
[20:17:27] <maurer> Is there any way to convert an ident into a string in a macro? (i'm trying to use a macro to provide a pseudo-dsl where the variable names are actually referencing variables in a remote store)
[20:17:46] *** Quits: kamer (alewkowicz@moz-ie6.mg5.5.163.IP) (Ping timeout: 121 seconds)
[20:17:51] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[20:17:58] *** Joins: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP)
[20:18:04] <kimundi> maurer: stringify!()
[20:18:12] <kimundi> playbot: stringifiy!(foo)
[20:18:13] -playbot- <anon>:9:9: 9:19 error: macro undefined: 'stringifiy!'
[20:18:13] -playbot- <anon>:9         stringifiy!(foo)
[20:18:13] -playbot- output truncated; full output at: http://bit.ly/1Hfmvc6
[20:18:16] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[20:18:22] <kimundi> playbot: stringify!(foo)
[20:18:24] -playbot- "foo"
[20:18:38] <maurer> kimundi: OK, I'll use that, but is the source somewhere so I can see what they did?
[20:18:49] <maurer> (if you don't know where that's fine too, I can go look myself)
[20:18:50] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[20:19:15] <kimundi> its a compiler build-in, I don't think there is any source apart from the libsyntax library
[20:19:18] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[20:19:38] <maurer> Ah, OK.
[20:19:44] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[20:19:44] *** ChanServ sets mode: +o nrc
[20:19:46] <maurer> Maybe it's builtin because you can't do it otherwise :P
[20:19:52] <kimundi> yeah :)
[20:19:57] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[20:20:47] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Ping timeout: 121 seconds)
[20:20:55] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[20:20:58] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[20:21:34] <Binero> What are the most popular GTK bindings here? 
[20:22:01] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[20:22:03] <benji> Trying to use `some_reader.take(num_bytes)`, I've noticed that the take() call moves 'some_reader', which sounds contrary to the documentation here: https://doc.rust-lang.org/std/io/trait.Read.html#method.take
[20:22:05] <insaneinside> ...there *are* GTK+ bindings?
[20:22:15] <Dabo> Question: is there any difference between `fn do_thing<T: Thing>(&T)` and `fn do_thing(&Thing)`?
[20:22:25] <benji> What's the suggested way to continue to `take()` from a reader that implements the Take trait?
[20:22:26] <XMPPwocky> Dabo: yes. the latter is a triat object.
[20:22:34] <bluss> benji: that's correct but you can easily use .by_ref().take()
[20:22:35] <XMPPwocky> benji: that gives you a *new* reader
[20:22:36] <geofft> there exists https://github.com/gi-rust/grust but I haven't actually tried it 
[20:22:42] <Binero> insaneinside: I hve found a few
[20:22:45] <XMPPwocky> and yes, .by_ref too
[20:22:45] <Dabo> XMPPwocky, so they will generate different runtime code?
[20:23:00] *** Joins: albertofem (textual@moz-03pmou.staticIP.rima-tde.net)
[20:23:04] <XMPPwocky> Dabo: yes. the generic version generates one implementation for every type T passed in
[20:23:07] <bluss> benji: by value semantics are the most general
[20:23:08] <Binero> https://github.com/rust-gnome/gtk for example
[20:23:10] <Dabo> ah, ok
[20:23:12] <benji> XMPPwocky: yeah, so you'd expect that after I've done something like `reader.take(x).read_to_end(&some_vec);`, I could do the same thing again
[20:23:16] <albertofem> hi everyone
[20:23:16] <XMPPwocky> the triat object version uses a vtable and dynamic dispath
[20:23:17] <benji> As it's making a *new* reader
[20:23:18] <benji> right?
[20:23:26] <Dabo> Binero, afaik https://github.com/rust-gnome is the most known/popular one
[20:23:29] <XMPPwocky> benji: but it's moving the *old* reader
[20:23:36] <XMPPwocky> it wraps the old reader up in a wrapper
[20:23:45] <albertofem> is it possible to convert a String to a &str? I believe the as_slice() was removed, not sure
[20:23:47] <Binero> Dabo: Found that one as well. Severe lack of documentation though :/
[20:24:00] <benji> XMPPwocky: right, yeah I can tell that's happening but that isn't obvious to me from the documentation
[20:24:01] *** Quits: passcod (passcod@moz-p68.ijk.131.104.IP) (A TLS packet with unexpected length was received.)
[20:24:09] <rkruppe> albertofem: Almost always, &the_string coerces to &str. If that fails, &*the_string
[20:24:13] <benji> XMPPwocky: i'd have expected it to read at most N bytes and provide a new reader with that as it's internal buffer
[20:24:14] <XMPPwocky> benji: so the key trick is "fn take(self"
[20:24:27] <benji> *a copy of that
[20:24:29] <XMPPwocky> benji: that'd require allocating.
[20:24:37] <mkomitee> Does anyone have an example of using std::process::Command, redirecting output to a File?
[20:24:42] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[20:24:45] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[20:24:55] <XMPPwocky> benji: this way, .take is free, besides the actual counting of bytes
[20:24:56] *** Joins: passcod (passcod@moz-p68.ijk.131.104.IP)
[20:24:59] *** Quits: proc (proc@moz-a7bc7e.dip0.t-ipconnect.de) (Quit: Gotta eat my pizza)
[20:25:03] <Dabo> Binero, true, but I don't think there are any better gtk bindings at the moment
[20:25:09] <benji> XMPPwocky: Hmm, okay, that makes sense
[20:25:24] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[20:25:43] <albertofem> rkruppe worked, thanks!!
[20:26:02] *** Joins: jwilm (jwilm@moz-1rin99.hfc.comcastbusiness.net)
[20:26:11] <Dabo> Binero, from http://rust-ci.org/jeremyletang/rgtk/doc/rgtk/gtk/index.html would it be hard to find the equivalent types in the gtk documentation do you think? 
[20:26:22] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[20:26:34] *** Quits: durka42 (Adium@moz-fu0pss.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[20:26:40] <Azdle> Thanks talchas (and others), I have that working great now: https://github.com/Azdle/dolos/blob/0ac89401cd76243f6f3683f15d0dfce71e8e42b0/src/main.rs#L82-L94
[20:26:43] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Connection closed)
[20:26:46] <Binero> Dabo: I'll get there :)
[20:27:06] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:27:09] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[20:28:08] <albertofem> rkruppe I'm curious, why it's "almost always" and not always? Any interesting articles on this matter out there?
[20:28:10] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:28:11] *** Quits: frangio (frangio@moz-arj429.dc.uba.ar) (Client exited)
[20:28:31] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[20:28:56] *** Joins: frangio (frangio@moz-arj429.dc.uba.ar)
[20:29:03] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[20:29:25] *** Quits: dschatzberg (dschatz@moz-nk1clf.bu.edu) (Quit: Leaving)
[20:30:03] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[20:30:10] *** Joins: __ixti__ (ixti@moz-21k.dae.119.188.IP)
[20:30:19] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[20:31:11] <pylos> For structs that have a name that is an initialism, such as ROM or CPU
[20:31:18] <pylos> What is the proper case for the struct name?
[20:31:24] *** Quits: _ixti_ (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[20:31:26] <rkruppe> albertofem: the &String -> &str step is a so-called Deref coercion, and coercions only happen in selected places, like function arguments. Usually it still works out (e.g. if you do let s: &String = &string; and use s somewhere were coercions happen), but I added weasel words because I think there are some corner cases where you'll have to be explicit
[20:31:30] <pylos> struct Cpu ? struct CPU ?
[20:31:41] *** Joins: Pieter (Mibbit@moz-7bjs3j.ftth.telfortglasvezel.nl)
[20:31:51] *** Joins: jechochamber (Mibbit@moz-785.qpd.115.17.IP)
[20:31:51] *** Joins: durka42 (Adium@moz-fu0pss.wireless-pennnet.upenn.edu)
[20:32:04] <rkruppe> pylos: Copy On Write is spelled Cow in the standard library
[20:32:08] *** Quits: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[20:32:09] *** Quits: frangio (frangio@moz-arj429.dc.uba.ar) (Client exited)
[20:32:32] *** Quits: andre_ (andre@moz-rnd.3qv.76.201.IP) (Quit: leaving)
[20:32:36] <Binero> Isn't the convention in English that acronyms have to be capitalised if they aren't pronouncable?
[20:32:39] *** Quits: Marvin (Marvin@moz-n9a.5ji.183.188.IP) (Connection closed)
[20:32:42] <steveklabnik> well
[20:32:46] <Binero> Would make sense if Rust just followed that
[20:32:48] *** chmanchester|afk is now known as chmanchester
[20:32:51] <steveklabnik> technically acronyms need to be pronouncable
[20:32:53] <rkruppe> Yes, in English. Rust is not English.
[20:32:54] <steveklabnik> otherwise, they're initialism
[20:32:55] <steveklabnik> s
[20:33:00] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[20:33:00] <Binero> sorry initialism :p
[20:33:06] <steveklabnik> nobody knows that though
[20:33:14] <steveklabnik> both are always capitalized
[20:33:26] <steveklabnik> however, generally, in programming languages with these kinds of conventions, it's not done
[20:33:29] <steveklabnik> CPU is Cpu
[20:33:33] <mbrubeck> but acronyms can use small caps!  depending on your style guide.
[20:33:39] <mbrubeck> Clearly we need smallcaps for identifiers.
[20:33:40] *** Joins: frangio (frangio@moz-arj429.dc.uba.ar)
[20:33:50] *** Quits: frangio (frangio@moz-arj429.dc.uba.ar) (Client exited)
[20:33:54] <Binero> struct CpU seems best option here
[20:33:59] <mbrubeck> And then there's XMLHttpRequest
[20:34:00] <Binero> bit of both 
[20:34:02] <pylos> https://github.com/golang/go/wiki/CodeReviewComments#initialisms
[20:34:10] *** Joins: Gabriel_7 (Gabriel@moz-evm75k.mtgr.92aj.0e35.2a01.IP)
[20:34:14] <pylos> seems golang has them all caps
[20:34:17] <mbrubeck> For people who pronounce HTTP as "hatatap"
[20:34:45] <Binero> My personal preferece is Xml and Cpu
[20:34:49] <JustAPerson> "hatatap" wow lol
[20:34:50] <Binero> *preference
[20:34:58] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:35:08] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:35:08] *** ChanServ sets mode: +o erickt
[20:35:38] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[20:35:50] <insaneinside> the clear solution is to disallow abbreviations and acronyms entirely. eXtensibleMetaLangeHyperTextTransportProtocolRequest.
[20:35:52] <rkruppe> All caps for initialisms makes sense in English, where you have spaces, but XMLHTTPRequest is unreadable without space in between. If you use capitals to separate words, use them only for that.
[20:36:10] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:36:12] <mbrubeck> insaneinside++
[20:36:13] <Binero> insaneinside: agreed
[20:36:26] *** Joins: fizzbooze (bp@moz-lt3.k7f.113.208.IP)
[20:36:46] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[20:36:48] <insaneinside> ...wait -- could we lint that? :>
[20:36:59] *** Joins: senderista (tdbaker@moz-tn7.a3v.133.216.IP)
[20:37:08] <Binero> someone should redo OpenGL in Rust I can enjoy my safe types :p
[20:37:10] <rkruppe> insaneinside: Hard compiler error on consecutive capitals. I'm all for it
[20:37:18] <rkruppe> Binero: glium
[20:37:30] <Binero> rkruppe: What if you have a word of one character
[20:37:50] *** Joins: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net)
[20:37:54] <Binero> struct JustATest
[20:37:55] <bluss> Binero: we have BTreeMap
[20:37:57] *** Joins: blank_na1e (blank_name@moz-9koqv8.mi.frontiernet.net)
[20:37:59] <Binero> silly, I know
[20:38:07] <Binero> bluss: Probably a better example yeah
[20:38:08] <rkruppe> Clearly these names are wrong and must be changed
[20:38:23] *** Quits: twipeD (wipeD@moz-mesdod.dip0.t-ipconnect.de) (Connection closed)
[20:38:25] <insaneinside> bluss: but the T is followed by a non-upper-case letter, so it's clearly unconnected to the B.
[20:38:28] <Binero> We should have rust ship with a dictionary and error if a word doesn't exist
[20:38:31] * insaneinside hopes no one is into recursive acronyms.
[20:38:46] * rkruppe like BeeTreeMap to go with Cow
[20:38:51] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[20:39:30] *** Quits: ekiwi (kevin@moz-2jm.ajr.130.134.IP) (Client exited)
[20:39:33] <Binero> rkruppe: I love you
[20:39:36] <Binero> safe opengl <3
[20:39:40] <bluss> and DAWG too (in Rust it would be Dawg)
[20:39:41] <SneakySnake> Okay, here is my test case: http://is.gd/KG7ekZ  - What can I do here?
[20:39:49] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[20:40:05] <dwrensha> Nice, I just learned that `struct Foo<T> where T : Bar { ... }` causes the `where T: Bar` constraint to automatically be included in any function signature that mentions Foo<T>. That's convenient!
[20:40:16] *** Quits: blank_name (blank_name@moz-th6.t75.79.172.IP) (Ping timeout: 121 seconds)
[20:40:28] *** Quits: senderista (tdbaker@moz-tn7.a3v.133.216.IP) (Client exited)
[20:40:35] <maurer> Is there any notion of macro closures? e.g. if I have a macro A which I want to export, and it calls a macro B which I want to be private, is it possible to export A without exporting B?
[20:40:46] <mbrubeck> SneakySnake: move || ?
[20:40:49] <maurer> Also, if someone declares a new macro named the same thing as B, will it work right?
[20:40:56] <mbrubeck> http://is.gd/hcfAdq
[20:40:57] <Dabo> dwrensha, yeah, the T type is the same throughout the struct where you mention it
[20:41:03] <bluss> SneakySnake: you're clearly borrowing from in the thread
[20:41:10] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[20:41:11] <SneakySnake> mbrubeck: That would move everyhting, including other things I'm borrowing
[20:41:18] *** Joins: mindtree (Mitch@moz-2hr.aae.240.116.IP)
[20:41:19] *** Quits: Pieter (Mibbit@moz-7bjs3j.ftth.telfortglasvezel.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[20:41:24] <Binero> SneakySnake: It's a loop so I guess your second loop would be trying to assign to something that's been borrowed
[20:41:26] <rkruppe> maurer: I don't think so. Macro expansion is stupid and macros aren't very hygenic about anything except identifiers
[20:41:52] <bluss> SneakySnake: write out references explicitly and capture them by move
[20:42:06] <SneakySnake> bluss: How do I do that?
[20:42:18] <bluss> let xref = &x; and use xref in the closure
[20:42:19] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[20:42:29] <SneakySnake> Let me try that
[20:43:20] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[20:43:33] <Binero> bluss: How would that work? 
[20:43:37] <Binero> Doesn't that borrow x? 
[20:44:00] <SneakySnake> bluss: That worked, thank you. I tried &borrowing the moved stuff inside the closure, I guess that didn't work
[20:44:02] <mbrubeck> Binero: You'd do a `move` closure, so it would borrow x but it would move `from` and `to`
[20:44:03] <SneakySnake> But your method did
[20:44:20] <SneakySnake> Finally
[20:44:33] <SneakySnake> The nightmare is over.
[20:44:38] <Binero> ah well
[20:44:40] <bluss> hehe
[20:44:42] <Binero> I'm getting tired
[20:44:44] <Binero> So I'm off
[20:44:46] <Binero> Bye
[20:44:48] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[20:44:57] <bluss> SneakySnake: so this is why the `move` mode is the most general
[20:45:33] <bluss> SneakySnake: we'll see how rust evolves, maybe we'll get smarter inference or capture clauses
[20:45:47] <SneakySnake> Would be nice
[20:46:52] <SneakySnake> At least my program won't crash, which does quite often in C++ when dealing with multithreading
[20:47:31] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[20:48:50] *** Joins: mvyskocil (mvyskocil@moz-tmeimb.net.upcbroadband.cz)
[20:49:15] *** Joins: lov2cod1 (Adium@moz-6non61.eodv.k60l.0119.2620.IP)
[20:49:50] *** Parts: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP) ()
[20:50:00] *** Quits: lov2cod (Adium@moz-u5q1mr.o38v.k60l.0119.2620.IP) (Ping timeout: 121 seconds)
[20:50:10] *** Joins: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP)
[20:51:02] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[20:51:18] *** Quits: mdbooth (mdbooth@moz-ffp6sk.range86-150.btcentralplus.com) (Ping timeout: 121 seconds)
[20:51:35] <insaneinside> Trying to figure out some Deref coercions. [This](http://is.gd/EWkqZ8) won't work because I haven't dereferenced enough, apparently, but [this](https://play.rust-lang.org/) doesn't either because "single-field tuple-structs can no longer be dereferenced".
[20:51:43] *** Quits: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP) (Client exited)
[20:51:51] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[20:52:35] *** Joins: senderista (tdbaker@moz-tn7.a3v.133.216.IP)
[20:52:47] <Azdle> If I clone a udp socket and then recv_from on two different threads at the same time, what happens? Do both threads receive the datagram or are they round-robin'd through?
[20:53:01] <insaneinside> If that's so, why is Box allowed to dereference itself?! <http://doc.rust-lang.org/src/alloc/boxed.rs.html#298>
[20:53:08] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[20:54:04] <bluss> Box has a bit of special magic
[20:54:19] *** Quits: lov2cod1 (Adium@moz-6non61.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[20:54:23] <bluss> #[lang = "owned_box"]  // something is up
[20:55:23] <insaneinside> bluss: so how can I get my example to work?
[20:56:01] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[20:56:31] <maurer> https://bpaste.net/show/ee4017d60a2e # Macro trouble
[20:56:42] <bluss> insaneinside: the first works using (*self).fmt(formatter)  I think
[20:56:56] <maurer> So, I tried to make a macro to make an edsl kind of thing, and based on the expansion from --pretty=expanded, it looks like it works
[20:57:08] <maurer> but despite generating the same code as a function that compiles, the macro doesn't compile
[20:57:11] <maurer> what's going on?
[20:57:12] <bluss> insaneinside: oops, no that's wrong
[20:57:45] <insaneinside> bluss: and using the Deref impl by calling `self.deref()` just seems to get me another `Ref`.
[20:57:54] *** Joins: mdbooth (mdbooth@moz-cdarnv.range86-161.btcentralplus.com)
[20:58:11] <insaneinside> which is ...Wrong?
[20:58:13] <bluss> insaneinside: oh I see. Your deref is not impl for ?Sized
[20:58:22] <talchas> insaneinside: http://is.gd/hySlBi works among other options
[20:58:24] <bluss> insaneinside: it's confusing
[20:58:36] <talchas> (x.0 is the new way to deref newtype-style structs)
[20:58:39] <bluss> insaneinside: it's a confusing fact of method resolution
[20:58:44] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:58:49] <talchas> (which unfortunately leads to issues in gdb)
[20:58:50] *** Joins: DemonOne (Avi@moz-b6r7nm.cablep.bezeqint.net)
[20:59:12] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:59:12] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:59:27] <bluss> insaneinside: with T: ?Sized in Deref, (**self).fmt(formatter)  works
[20:59:31] <bluss> now it's correct
[20:59:32] <insaneinside> but I don't want to "dereference" by fetching the inner value... hrm.
[20:59:59] <talchas> just self.0.fmt(formatter) works though, so, that's probably best
[21:00:01] <bluss> insaneinside: the Deref wasn't available in your Debug impl
[21:00:45] <mbrubeck> maurer: Is that the whole error output?
[21:01:02] <insaneinside> bluss, talchas: thanks for the help
[21:01:14] <maurer> mbrubeck: https://bpaste.net/show/5076d1e88d95 is the whole output
[21:01:25] *** Quits: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[21:01:53] *** Joins: lov2cod (Adium@moz-6non61.eodv.k60l.0119.2620.IP)
[21:02:16] *** Quits: albertofem (textual@moz-03pmou.staticIP.rima-tde.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[21:02:22] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[21:02:37] *** Quits: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[21:02:44] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[21:03:04] <maurer> mbrubeck: http://data.matthewmaurer.org/out.rs is the whole pretty=expanded output, macro_predicate_basic is the relevant function
[21:03:32] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Quit: Leaving.)
[21:03:49] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[21:04:15] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[21:04:23] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[21:04:36] <frewsxcv> yay, just received Rust shirts for the NYC meetup on friday!
[21:04:40] *** Joins: jeffdb1 (Adium@moz-26e30a.efi.com)
[21:05:22] <maurer> mbrubeck: Hm. I'm running beta.4 atm, I guess I should swap to nightly before remaining confused just in case
[21:05:41] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[21:05:51] *** Quits: durka42 (Adium@moz-fu0pss.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[21:06:04] *** Joins: Delimiter (Mibbit@moz-3369d1.unity-media.net)
[21:06:24] *** Joins: saiko-chriskun (saiko-chris@moz-e9nv1h.res.rr.com)
[21:06:36] <jeffdb1> acrichto: Hey! Anybody know if there is a json api for crates.io?
[21:06:37] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:06:37] *** ChanServ sets mode: +o pnkfelix
[21:06:53] <Delimiter> hey, what's the evaluation order of "if a && b {...}"? is 'a' first evaluated or  'b'?
[21:07:02] <Ms2ger> a
[21:07:13] <acrichto> jeffdb1: there is indeed! right now there's not a lot of doumentation though and it's mainly the API used by the ember.js app frontend anyway
[21:07:14] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[21:07:15] <Delimiter> that was quick! thanks, Ms2ger!
[21:07:19] <Ms2ger> Np
[21:07:29] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[21:07:39] <acrichto> jeffdb1: you can see a sketch of the API here: https://github.com/rust-lang/crates.io/blob/master/src/lib.rs#L71-L93
[21:07:54] <acrichto> jeffdb1: and then you'll probably just want to follow the functions around to see what JSON is coming back
[21:07:58] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Ping timeout: 121 seconds)
[21:08:03] <jeffdb1> acritchto: awesome, thanks alex
[21:08:41] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[21:08:44] *** rkruppe_ is now known as rkruppe
[21:08:51] *** Quits: lov2cod (Adium@moz-6non61.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[21:09:47] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[21:10:01] *** Joins: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com)
[21:10:08] <insaneinside> ...interesting:  just turned a perfectly good compile into an ICE by replacing `<SomeType as Foo>::foo(...)` with the (equivalent!) `<Self as Foo>::foo(...)`.
[21:10:08] <FreeFull> Delimiter: And if a is false, b isn't evaluated
[21:10:18] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[21:10:23] *** Quits: JKWright (JKWright@moz-k04m95.res.rr.com) (Quit: Lingo: www.lingoirc.com)
[21:10:47] <Dabo> insaneinside, reporting it?
[21:11:06] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[21:11:08] <insaneinside> Dabo: I will once I git a nice clean example.
[21:11:52] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[21:12:02] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[21:12:06] *** Joins: james4k_ (james@moz-e6no8q.consolidated.net)
[21:12:16] <mbrubeck> maurer: I stared at the code for a while but still have no idea what the problem is, sorry.
[21:12:48] <maurer> mbrubeck: Do you have any steps I could take to try to figure out more, or?
[21:12:53] *** Quits: mvyskocil (mvyskocil@moz-tmeimb.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[21:13:26] <maurer> mbrubeck: my best suspicion is that for some reason the borrow checker is running on pre-expanded code, but I have no clue how rustc works so this is mostly just fancy
[21:13:32] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Quit: Leaving.)
[21:14:00] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[21:14:18] <mbrubeck> maurer: Yeah, I was wondering along the same lines. I also tried to come up with a small repro case but failed. http://is.gd/uPavYA was one of my attempts.
[21:14:45] <mbrubeck> maurer: Either that or the pretty-printer is not totally accurate.
[21:15:19] *** Quits: Delimiter (Mibbit@moz-3369d1.unity-media.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:15:42] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:15:59] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[21:16:10] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[21:17:30] *** Joins: moa (Cedric@moz-d23h55.abo.wanadoo.fr)
[21:17:30] <insaneinside> Dabo: here's what I've got -- it seems awfully contrived, though: http://is.gd/P6vCL2 .  Do you see a way to make it cleaner?
[21:18:12] <insaneinside> well, I can get rid of the DerefMut impl, for one...
[21:18:18] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[21:18:26] *** Parts: jeffdb1 (Adium@moz-26e30a.efi.com) ()
[21:18:36] *** Quits: Douman (Douman@moz-p257s5.dynamic.mts-nn.ru) (Quit: )
[21:19:40] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[21:19:50] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:20:00] *** Quits: pyon (pyon@moz-v9d.mdl.7.179.IP) (Ping timeout: 121 seconds)
[21:20:03] <bluss> insaneinside: note that T::fmt(self, formatter) compiles too
[21:20:25] *** Quits: commandoline (commandolin@moz-s9gqj7.marten-de-vries.nl) (Ping timeout: 121 seconds)
[21:21:00] *** Quits: khades (Thunderbird@moz-s8b.3vk.74.212.IP) (Client exited)
[21:21:23] <Dabo> insaneinside, I think removing the derefmut and also the Option would work
[21:21:30] *** Quits: joel1 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[21:21:44] *** Quits: debu (debu@moz-thlvnr.dyn.telefonica.de) (Ping timeout: 121 seconds)
[21:22:34] *** Quits: fizzbooze (bp@moz-lt3.k7f.113.208.IP) (Ping timeout: 121 seconds)
[21:23:02] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[21:23:17] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[21:24:56] *** Quits: jjthrash (jjthrash@moz-gsigbq.res.rr.com) (Quit: Leaving...)
[21:26:32] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[21:26:33] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[21:26:38] <insaneinside> bluss, Dabo: this actually looks like https://github.com/rust-lang/rust/issues/25279
[21:27:09] <Dabo> http://is.gd/hnH4nc is the simplest I could get your example
[21:27:10] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[21:27:14] <Dabo> insaneinside, ah
[21:27:14] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[21:28:30] <maurer> mbrubeck: I've figured out some of the error, but not how to properly fix it
[21:28:46] <maurer> mbrubeck: if I remove .unwrap() from the predicate! version, it builds and runs
[21:28:49] *** Joins: pyon (pyon@moz-v9d.mdl.7.179.IP)
[21:29:03] <maurer> mbrubeck: the problem appears to be that the .unwrap() is considered to _borrow_ stuff from inside the macro invocation
[21:29:03] <GaryOak_> How does the Deref trait work as far as syntax?
[21:29:14] <maurer> mbrubeck: but I don't know how to say "This should belong to the surrounding scope"
[21:29:27] <mbrubeck> maurer: I assumed that the unwrap was moving stuff, and the macro was borrowing it.
[21:29:34] <Ms2ger> GaryOak_, *foo
[21:29:35] <mbrubeck> maurer: What if you move the unwrap inside the macro?
[21:29:44] *** Quits: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net) (Ping timeout: 121 seconds)
[21:29:54] *** Quits: jyeo (uid12229@moz-hv3ndn.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[21:29:56] <maurer> mbrubeck: I'll try that, but it doesn't fit with my end use case (I may actually want the value sometimes, to try! other times, etc)
[21:30:10] <Ms2ger> GaryOak_, that is, if Foo implements Deref<Bar>, *foo is an lvalue Bar, &*foo is an &Bar
[21:30:27] <insaneinside> actually... there are a dozen issues that seem to match the relevant keywords. https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+bound+region+Self
[21:30:49] <GaryOak_> Ms2ger: ok can you also use the .deref() function?
[21:30:53] <FreeFull> It's not possible to go from Box<Error + Send + Sync> to Box<Error>, is it?
[21:31:33] <Ms2ger> GaryOak_, yes, that would yield &Bar as well, but isn't idiomatic
[21:31:43] * Ms2ger poofs
[21:31:46] *** Quits: Ms2ger (Ms2ger@moz-t9m.9ho.190.193.IP) (Quit: nn)
[21:31:55] <Dabo> GaryOak_, &thing also works if rust knows what type you are wanting to end up as
[21:32:00] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[21:32:00] *** Quits: jechochamber (Mibbit@moz-785.qpd.115.17.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:32:06] <GaryOak_> I'm trying to println a PathBuf
[21:32:10] <maurer> mbrubeck: moving .unwrap() into the macro works
[21:32:12] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[21:32:19] <maurer> mbrubeck: it looks like the macro is doing some kind of implicit scope creation
[21:32:21] <Dabo> GaryOak_, you should be able to use .display() on it afaik
[21:32:27] <maurer> mbrubeck: which isn't reflected in the pretty printer, nor is it what I want
[21:32:54] <mbrubeck> maurer: Yeah. By the way, does anything change if you remove the leading & from the macro?
[21:33:01] <Dabo> like println!("{}", buf.display()) afaik
[21:33:41] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[21:34:01] <mbrubeck> maurer: Probably related to the hygiene system - http://doc.rust-lang.org/book/macros.html#hygiene
[21:34:04] <insaneinside> I'm having trouble with the alleged behavior of types with Deref impls.
[21:34:26] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.2/20150415140819])
[21:34:29] <insaneinside> which is why I was using all that strange <Self as Deref>::deref(self) stuff to begin with.
[21:35:02] *** Joins: jws (jsalter@moz-q98cl6.cable.virginm.net)
[21:35:43] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[21:35:44] <insaneinside> e.g. "expected `&T`,a found `util::flex_box::Ref<'a, T>`" for `*self`, where `self` is a `Ref<'a,T>` that has a `Deref<Target=&'a T>` impl.
[21:36:06] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[21:36:07] <insaneinside> Why does `*self` NOT deref to a `&'a T`??
[21:36:11] <maurer> mbrubeck: removing the & solves it, which is odd, because I could have sowrn that at some point I needed that in the non-macro code
[21:36:14] <maurer> but evidently I don't know
[21:36:27] <maurer> I probably wrote this when autoderef was less powerful or something
[21:36:49] <insaneinside> (sorry, `Deref<Target=T>`)
[21:37:23] <duesenfranz_> does `read_dir` read a directory in any particular order?
[21:37:44] <bluss> insaneinside: Ref<T> doesn't deref coerce to &T. Only &Ref<T> does.
[21:38:00] <bluss> insaneinside: deref coercion translates &'s to &'s.
[21:38:16] *** Quits: cptroot (Mibbit@moz-n169l8.caltech.edu) (Ping timeout: 121 seconds)
[21:38:27] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:38:35] *** Quits: plietar (Mibbit@moz-1bv0l3.ic.ac.uk) (Ping timeout: 121 seconds)
[21:38:46] <insaneinside> bluss: this makes sense, but actually in some `fn(&self)`, isn't `self` of type `&Ref<'a,T>`?
[21:38:54] *** Quits: solreaper (Mibbit@moz-mfpu5o.wa.comcast.net) (Ping timeout: 121 seconds)
[21:39:13] <insaneinside> duesenfranz_: if it uses the underlying OS mechanism, yes:  probably the order in which the entries were first created.
[21:39:33] <Dabo> insaneinside, have you tried using &*self?
[21:39:49] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[21:39:57] <duesenfranz_> insaneinside: thanks!  ...so nothing guaranteed/defined?
[21:40:12] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:40:19] <Dabo> &*self does work in the example you gave for the Self as Deref error, not sure if it would work where you need it but it should dereference
[21:40:31] <insaneinside> duesenfranz_: that's my understanding, but it's nothing Rust-specific.
[21:40:49] <insaneinside> Dabo: thought I'd tried it, let's see.
[21:40:56] *** Quits: santiago (santiago@moz-ro2mm9.res.rr.com) (Quit: Computer has gone to sleep.)
[21:41:01] <duesenfranz_> insaneinside: well, I'm just gonna sort myself.. thanks! :)
[21:41:06] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[21:41:16] <Dabo> insaneinside, ok - just saying that because you mentioned *self, which would only dereference to T, not &T
[21:41:29] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[21:41:31] <insaneinside> Dabo: huh, that's odd.  Things compile now. :D
[21:41:33] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Quit: )
[21:41:47] <Dabo> awesome! :D
[21:41:55] *** Quits: mattico (matt@moz-36dl7o.bff5.ebih.ea00.2607.IP) (Ping timeout: 121 seconds)
[21:42:08] <insaneinside> thanks!
[21:42:10] <GaryOak_> http://is.gd/HaWnw1 How come try! isn't working?
[21:42:11] <Dabo> insaneinside, yeah, *thing isn't that useful by itself, &* will give you the reference you want
[21:42:12] <Dabo> no problem
[21:42:29] <Dabo> GaryOak_, try!() needs to be used inside a function which returns a Result itself
[21:42:51] <Dabo> the way try!() works is by just inserting a `return Err(...)` if the thing would be an error
[21:43:22] *** Joins: jesse99 (jjones@moz-iu7.is7.137.67.IP)
[21:43:25] *** Joins: rmdashrf (rmdashrf@moz-n1r.cr0.54.128.IP)
[21:43:33] <GaryOak_> fs::read_dir returns a Result
[21:43:42] <GaryOak_> That example is from the documentation
[21:43:45] <Dabo> yes, but main() doesn't GaryOak_ 
[21:43:56] <Dabo> the function you use try!() inside needs to also return a result
[21:44:17] <GaryOak_> Dabo: Oh ok, I understand, is there another way to unwrap a result then?
[21:44:38] *** Joins: eddyb (eddyb@moz-egg.q07.26.188.IP)
[21:45:50] <Dabo> GaryOak_, You can do it like this http://is.gd/HnwEao, that's how the majority of code I write does it
[21:45:56] *** Joins: sprang_ (sprang@moz-mvr.7vl.56.172.IP)
[21:46:05] <Dabo> have a function which main() calls which returns a result, then deal with the result in main()!
[21:46:12] <pyon> Is there any function in the standard library for getting the i-th bit of an integer as a bool?
[21:46:26] <pyon> Using bitwise operators all over the place in my code is getting a little tad unreadable. :-|
[21:46:40] <GaryOak_> Dabo: alright thanks
[21:46:47] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[21:47:04] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[21:47:47] <Dabo> GaryOak_, no problem! the result thing in main is an issue a lot of people run into xD
[21:47:48] <GaryOak_> Dabo: Using unwrap is dangerous for an actual program, because it can panic and not be handled?
[21:48:02] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[21:48:04] <Dabo> GaryOak_, well, it depends on what you want to do in case of an error
[21:48:09] <GaryOak_> Oh ok
[21:48:13] <GaryOak_> That makes sense
[21:48:14] *** Quits: Kxepal (Miranda@moz-c6jro4.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[21:48:15] <Dabo> If exiting the program when an error occurs is OK with you, .unwrap() is fine
[21:48:21] <GaryOak_> Sure
[21:48:34] *** Quits: fenster (Mibbit@moz-i7cb3r.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:48:39] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[21:48:48] <Dabo> GaryOak_, mainly libraries which would be used by other programs don't want to do that, so that the programs can determine how to behave themselves
[21:49:15] <Dabo> If you are making a binary program, there isn't any problem with using .unwrap() where you are ok with panicking
[21:49:24] *** Joins: zzing (textual@moz-9pdebi.commercial1.cgocable.net)
[21:49:38] <GaryOak_> Yeah I can understand how that would be bad. Is that why some people didn't want panics in Rust, so that programmers would have to handle the errors?
[21:50:11] *** Joins: tyrick (tyrick@moz-jjhv1a.ar.comcast.net)
[21:50:18] *** Joins: Kxepal (Miranda@moz-9hpqdo.pppoe.mtu-net.ru)
[21:50:27] <mjewkes> Heya folks - what is the most idiomatic way to fill/create an array from a slice?
[21:50:38] *** Quits: mindtree (Mitch@moz-2hr.aae.240.116.IP) (Ping timeout: 121 seconds)
[21:50:48] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[21:50:49] <pyon> Can I return an unboxed closure from a function?
[21:50:58] *** Joins: mindtree (Mitch@moz-2hr.aae.240.116.IP)
[21:51:03] <mbrubeck> GaryOak_: I think most arguments against panics were more about the cost/complexity of supporting stack unwinding.
[21:51:09] <tyrick> if I have two vectors, v1 and v2, how should I add them so that v1 and v2 are available after the operation?
[21:51:18] <Dabo> GaryOak_, I think most of the people who want to do away with panics are just worried about libraries which would panic where the program itself can't afford to exit
[21:51:26] <mbrubeck> pyon: No, since there's no way to write the return type.
[21:51:33] <Dabo> like when doing embedded work, panicking isn't really an option
[21:51:41] *** Quits: djcb (user@moz-nqdj21.elisa-laajakaista.fi) (Connection closed)
[21:52:04] <bluss> tyrick: what types are the vectors, are you using a particular crate?
[21:52:06] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (Ping timeout: 121 seconds)
[21:52:21] <mbrubeck> pyon: There have been various proposals to fix this, and I believe the Rust team considers it a high-priority issue post-1.0. https://github.com/rust-lang/rfcs/pull/105
[21:52:22] <tyrick> bluss, vec![]
[21:52:28] <GaryOak_> mbrubeck: so the compiler has to handle all the allocated memory when the program panics?
[21:52:32] <pyon> Checking.
[21:52:37] <tyrick> <i32> perhaps
[21:52:38] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[21:52:58] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[21:53:00] *** Quits: kakefabrikken (Mibbit@moz-9m21i0.studby.ntnu.no) (Quit: http://www.mibbit.com ajax IRC Client)
[21:53:44] <mbrubeck> GaryOak_: Sort of. Panicking causes the program to unwind the stack, making a best effort to run destructors for all in-scope values. I don't really know the implementation details or exactly what the concerns were about this.
[21:53:48] *** Quits: senderista (tdbaker@moz-tn7.a3v.133.216.IP) (Client exited)
[21:54:08] <Dabo> tyrick, let v3 = v1.clone(); v3.extend(v2.clone())
[21:54:20] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[21:54:27] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[21:54:28] <pyon> What I really want to do is return a Map iterator. The function's body looks nice, but the type would be scary. :-|
[21:54:37] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[21:54:42] <mbrubeck> tyrick: By "add" do you mean in the linear algebra sense, where v3[i] = v1[i] + v2[i]?  Or something else?
[21:54:43] <bluss> tyrick: maybe you can actually do [&v1, &v2].concat()
[21:54:43] <benh> cloning v2 seems excessive
[21:54:53] <tyrick> mbrubeck, yes
[21:54:57] <pyon> I guess I could return a Boxed trait object. :-|
[21:55:01] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[21:55:04] <tyrick> so maybe v3 = v1.clone() + v2.clone()
[21:55:05] <tyrick> ?
[21:55:35] <mbrubeck> tyrick: `+` on vectors will concatenate them, not add them element-wise.
[21:55:36] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:55:37] <Dabo> pyon, if it has closures in it, it does need to be boxed to return
[21:55:47] *** Joins: senderista (tdbaker@moz-tn7.a3v.133.216.IP)
[21:55:50] <tyrick> mbrubeck, ahh I see
[21:56:15] <Dabo> tyrick, ah, is that what you are trying to do?
[21:56:25] <steveklabnik> pyon: for now, yeah, you have to box
[21:56:27] <Dabo> what I had will concatenate them
[21:56:30] <tyrick> Dabo, yes! Sorry, I didn't realize the difference.
[21:56:33] <steveklabnik> till we get abstract return types
[21:56:59] <bluss> tyrick: Vec are not for numerical operations like that. Despite their name!
[21:57:11] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[21:57:13] <bluss> tyrick: I have to recommend something like nalgebra for linear algebra
[21:57:39] *** Joins: durka42 (Adium@moz-flso92.o2oh.k96e.f470.2607.IP)
[21:58:08] <GaryOak_> Dabo mbrubeck: Thanks, I'm learning so much, just from a small program
[21:58:10] <mbrubeck> tyrick: Something like this would work - `let v3 = v1.iter().zip(&v2).map(|a, b| a + b).collect();`
[21:58:13] <tyrick> bluss, thanks =)
[21:58:14] *** Quits: irobevjod (irobevjod@moz-3vi4l0.static-ro.twistednetworks.net) (Ping timeout: 121 seconds)
[21:58:16] <bluss> Dabo: I'll champion my .concat() solution because it allocates the correct amount up front so haves no extra reallocations
[21:58:19] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[21:58:38] <Dabo> bluss, yeah, that does look better
[21:58:51] <insaneinside> Is there an easy way to test that drop glue is run?  I'm implementing something like a cross between `alloc::Arena` and a reusable version of `Box`, and need to verify that my solution works properly with types that have Drop implementations.  Ideas?
[21:59:07] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[21:59:21] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Quit: Leaving.)
[21:59:34] *** Quits: eibwen (eibwen@moz-8ev814.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:59:37] <bluss> insaneinside: put println! inside the Drop of a dummy type
[21:59:55] <bluss> well.. it works for simple cases.
[22:00:29] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[22:01:06] <Dabo> GaryOak_, no problem, any time!
[22:01:07] <insaneinside> bluss: I was hoping for a solution that could panic if the drop glue *isn't* run..
[22:01:10] *** Quits: zzing (textual@moz-9pdebi.commercial1.cgocable.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:01:42] <Dabo> insaneinside, that'd be a bit harder to do, as who would check that it isn't run?
[22:01:46] <insaneinside> hmm.  Static guard variable?
[22:01:52] <Dabo> that would probably work
[22:01:52] <bluss> insaneinside: increment an atomic in drop, yeah
[22:01:53] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[22:01:55] <bluss> and check the value
[22:02:18] <insaneinside> This is just for the unit tests, so that should be fine.
[22:03:08] <bluss> I have a test that does exactly that actually
[22:03:28] *** Joins: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr)
[22:03:41] *** Quits: tomprogrammer (thomas@moz-ipl678.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[22:04:13] <reem> insaneinside: create a dummy Canary type embedding an Arc<AtomicUsize> that increments it on drop, and then when youâ€™ve expected it to run just compare it to the expected number
[22:04:39] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[22:05:06] *** Joins: commandoline (commandolin@moz-s9gqj7.marten-de-vries.nl)
[22:05:06] <bluss> insaneinside: http://is.gd/c8hfWt
[22:05:15] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[22:05:16] *** Parts: durka42 (Adium@moz-flso92.o2oh.k96e.f470.2607.IP) ()
[22:06:02] <insaneinside> bluss: oh, you can define impls inside functions, too?  Usefule.
[22:06:15] *** Joins: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP)
[22:06:22] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[22:07:19] <insaneinside> What's the reasoning being using atomic types here, assuming my test function doesn't use threads?
[22:07:32] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[22:07:42] *** Quits: dstrbad (dstrbad@moz-onm6r9.dsl.iskon.hr) (Ping timeout: 121 seconds)
[22:07:57] <bluss> they can be modified in a static
[22:08:03] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:08:23] <bluss> I can't use Cell so this was the simplest
[22:08:42] <bluss> using static mut is really simpler to type out but requires unsafe
[22:08:43] *** Quits: fleabay (Mibbit@moz-kr7nid.ip.windstream.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:08:54] *** Quits: jbcurtin_ (jbcurtin@moz-sj1.bur.30.4.IP) (Ping timeout: 121 seconds)
[22:09:17] <Savago> Humâ€¦ nasty article beating Rust featured on Slashdot.
[22:09:17] <bluss> you can use reem's way instead. Without the static it can just be Rc<Cell<i32>>
[22:09:38] <bluss> Savago: it's featured on /r/rust as well, I think?
[22:09:56] <FreeFull> bluss: Yes, and r/programming and r/cpp and hackernews
[22:09:58] <Savago> bluss: http://www.viva64.com/en/b/0324/
[22:10:04] <reem> insaneinside: I would use a type which holds an Rc<Cell<i32>> or a Arc<AtomicUsize> rather than using a global.
[22:10:13] <reem> itâ€™s more flexible really
[22:10:31] <Savago> bluss, FreeFull reading ATM.
[22:10:41] *** Quits: jawzi (jawzi@moz-9o5r4v.mn.charter.com) (Connection closed)
[22:10:47] <bluss> Savago: it didn't seem nasty to me. I'm fine with discussing it
[22:11:06] *** Joins: kgrandon (Adium@moz-ilv.ukc.122.2.IP)
[22:11:09] <Savago> :-)
[22:11:42] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[22:11:51] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:11:59] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Quit: Leaving)
[22:12:12] * insaneinside is just learning Rust for the challenge.  For now. :)
[22:12:16] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[22:12:25] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[22:13:31] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:13:56] *** Joins: kamer (alewkowicz@moz-ie6.mg5.5.163.IP)
[22:14:16] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[22:14:19] <mbrubeck> Savago: Rust-centric discussion at https://www.reddit.com/r/rust/comments/35pn5a/criticizing_the_rust_language_and_why_cc_will/
[22:14:44] <mbrubeck> (oh, already mentioned above)
[22:15:03] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[22:15:25] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[22:15:31] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[22:15:35] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[22:15:48] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[22:16:22] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:16:25] <insaneinside> see this comment, re: COBOL:  https://www.reddit.com/r/rust/comments/35pn5a/criticizing_the_rust_language_and_why_cc_will/cr6otw2
[22:16:30] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[22:16:32] <Savago> mbrubeck: this seems like a meme (Modern C++11 with compilers flags + static analysers + strict coding style + review + valgrind + something else == Rust). :-P
[22:16:59] <zeiris> The only offensive thing about that article is calling Erlang's rebar Rabar.
[22:17:07] *** Joins: lov2cod1 (Adium@moz-6non61.eodv.k60l.0119.2620.IP)
[22:17:07] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Connection closed)
[22:17:15] <Hannibal_Smith> Savago, it also necessary for Rust, because unsafe code has to be tested at some point
[22:17:16] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[22:17:31] <Hannibal_Smith> But I agree that the linked article is not reallt fair
[22:17:35] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Ping timeout: 121 seconds)
[22:17:55] <insaneinside> My father works at the #1 U.S. logistics firm.  He's 68, retired a couple of years ago, and was hired again a year later.  He writes COBOL.
[22:17:57] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[22:18:39] <Savago> insaneinside: I liked this part â€œAnd you'll still have lots of memory errors and get pwned just as hard. They are obviously biased on this point.â€
[22:18:40] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[22:20:45] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[22:20:49] *** Quits: sprang_ (sprang@moz-mvr.7vl.56.172.IP) (Ping timeout: 121 seconds)
[22:21:32] <Hannibal_Smith> I think that the point that the person is trying to make is that C++ typical usage requires unsafe code, the langauge is complex but thanks to that complexity leave the developer a lot of space, and people who are interested in a "safe C++" are likely people who are already writing C#/Java code
[22:21:45] <Hannibal_Smith> And such in the end, they will find Rust not really interesting
[22:22:13] *** Quits: mjewkes (mjewkes@moz-6v8.jf9.227.142.IP) (Connection closed)
[22:22:27] <insaneinside> hell, to be honest I like Rust because it gives me headaches -- which means I'm learning something.
[22:22:30] <Hannibal_Smith> But it's clear that there are people who are searching for a safe(r) C++, and these are not only people who are today writing Java/C#
[22:22:30] <Savago> C++ is so complex that you can never have C++ in a nutshell. It would have to be C++ in a watermelon.
[22:23:37] <steveklabnik> the comments on this /. article are much nicer towards rust than previous ones
[22:23:56] *** Quits: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP) (Client exited)
[22:24:11] *** Quits: senderista (tdbaker@moz-tn7.a3v.133.216.IP) (Client exited)
[22:24:46] <Hannibal_Smith> I remember Stroustrup in a panel with also Niko, Andrei, Pike...
[22:25:10] <Hannibal_Smith> Saying that he would like something like Rust ability to catch such bugs into C++ type system
[22:25:18] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[22:25:21] <Hannibal_Smith> But as is normal, no idea on how
[22:26:15] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[22:26:24] <insaneinside> the problem in languages with traditional compilation models like C and C++ is with *other code*: you can't analyse what you can't see.
[22:28:50] <Hannibal_Smith> Not everyone is going to like Rust. That's totally okay. <-Ahaha I really like your typical response steveklabnik 
[22:29:13] *** Joins: orangeshark (erik@moz-ck11uv.44tj.56ot.0306.2602.IP)
[22:29:23] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:29:37] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:30:03] <steveklabnik> thanks :)
[22:30:15] *** Quits: Azdle (Azdle@moz-738.tg8.232.50.IP) (Ping timeout: 121 seconds)
[22:30:25] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[22:30:28] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[22:30:44] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[22:31:25] <Savago> https://xkcd.com/1497/
[22:31:40] *** Joins: acharles (acharles@moz-dvfnah.static.qwest.net)
[22:32:06] <Savago> if they say â€œit doesnt do anything newâ€ -> â€œthe product will be a gigantic successâ€
[22:32:15] <acharles> Anyone know why this doesnâ€™t work? https://gist.github.com/ahmedcharles/3ec9559a4887ab18ce8a
[22:32:43] *** Parts: acharles (acharles@moz-dvfnah.static.qwest.net) ()
[22:33:22] <davebettin> As I read various Rust code, I see the following pop-up now and then: pub struct <T = Sometype>. Is this a default type parameter?
[22:33:36] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[22:33:45] *** Joins: acharles (acharles@moz-dvfnah.static.qwest.net)
[22:33:57] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[22:34:10] <davebettin> here is a specific example: https://github.com/hyperium/hyper/blob/master/src/server/mod.rs#L62
[22:34:19] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[22:34:52] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[22:35:29] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[22:35:34] <reem> davebettin: yes, it is a default for that parameter
[22:36:51] *** Joins: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net)
[22:36:54] <davebettin> reem: thanks.  Is there default function parameter support or is it only possible for generics?
[22:37:15] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:37:16] <Hannibal_Smith> https://www.reddit.com/r/rust/comments/35pn5a/criticizing_the_rust_language_and_why_cc_will/cr6mspj <-I would really hope to see this approach embraced....
[22:37:25] <reem> davebettin: only for types
[22:38:00] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:38:17] <steveklabnik> Hannibal_Smith: thanks. me too. 
[22:38:18] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[22:38:25] <steveklabnik> given the upvotes, seems we're in agreement
[22:38:52] *** Quits: SerialVelocity_ (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:40:21] *** Joins: yuja (yuja@moz-kvchbl.so-net.ne.jp)
[22:41:08] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[22:42:08] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[22:42:44] *** Joins: EsBe (EsBe@moz-tr2dkp.res.rr.com)
[22:42:48] *** Quits: Nextra (Nextra@moz-99g9a5.ewe-ip-backbone.de) (Connection closed)
[22:43:25] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[22:44:30] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[22:44:44] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[22:44:46] *** Quits: zxq9 (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[22:46:00] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[22:46:19] *** Joins: GBGamer (npm@moz-dlv.mg6.56.172.IP)
[22:46:31] *** Joins: santiago (santiago@moz-8th.j2e.167.12.IP)
[22:46:41] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[22:47:30] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[22:47:44] *** Quits: tadh (quassel@moz-iq6hhs.biz.rr.com) (Connection closed)
[22:48:34] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[22:48:41] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[22:48:52] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:49:22] <davebettin> reem: thx
[22:49:27] *** Quits: jn (nope@moz-f7bqt1.hsi08.unitymediagroup.de) (Ping timeout: 121 seconds)
[22:51:55] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[22:52:04] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[22:52:11] *** Quits: nstoddard (nstoddard@moz-ce50ao.dhcp.embarqhsd.net) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.2/20150415140819])
[22:53:55] <niconii> hmm, how would i read and write single chars from stdin/stdout a la getchar and putchar
[22:54:01] <niconii> or single bytes really
[22:54:23] *** Joins: njn (chatzilla@moz-6gdjm4.iinet.net.au)
[22:55:04] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Ping timeout: 121 seconds)
[22:55:52] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[22:56:04] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[22:56:30] *** Joins: jn (nope@moz-f7bqt1.hsi08.unitymediagroup.de)
[22:58:04] *** Quits: areski (areski@moz-adq529.user.ono.com) (Ping timeout: 121 seconds)
[22:58:22] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[22:58:35] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: Leaving)
[23:00:08] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:00:38] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[23:00:39] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[23:01:02] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[23:01:58] *** Quits: mindtree (Mitch@moz-2hr.aae.240.116.IP) (Quit: leaving)
[23:02:22] *** Quits: q66 (q66@moz-mcbr82.slrh.t9i4.0430.2a01.IP) (Connection closed)
[23:02:33] *** Quits: james4k_ (james@moz-e6no8q.consolidated.net) (Connection closed)
[23:02:37] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[23:03:19] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[23:05:18] *** Joins: mindtree (Mitch@moz-2hr.aae.240.116.IP)
[23:05:30] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[23:05:43] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[23:06:00] *** Quits: bjz_ (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[23:06:03] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[23:06:13] *** Quits: minot2 (kkus@moz-fj2.o46.234.165.IP) (Ping timeout: 121 seconds)
[23:06:23] *** Quits: yuja (yuja@moz-kvchbl.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:06:30] *** Quits: martinhath (martin@moz-tqe.r95.191.81.IP) (Ping timeout: 121 seconds)
[23:06:36] *** Joins: james4k_ (james@moz-e6no8q.consolidated.net)
[23:06:45] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[23:07:02] <tyrick> Does rust have null?
[23:07:25] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[23:07:31] <reem> tyrick: in many senses no, but technically yes, you can construct null raw pointers (mostly for FFI)
[23:07:45] <reem> tyrick: &T, Box<T> and &mut T can never be null, same with most other smart pointer types
[23:07:54] <tyrick> How do we normal handle return values?
[23:07:57] <reem> tyrick: instead, rust has an Option<T> type
[23:07:57] <tyrick> normally
[23:08:07] <reem> tyrick: usually you just return the value :P
[23:08:09] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Connection closed)
[23:08:43] <tyrick> reem, what if an initial check fails?
[23:09:02] <reem> tyrick: say more, I donâ€™t really understand the question
[23:09:27] <Hannibal_Smith> tyrick, you are forced to check if optional has something inside before accessing to it, instead of a pointer
[23:09:34] *** Quits: jws (jsalter@moz-q98cl6.cable.virginm.net) (Client exited)
[23:09:48] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:10:18] <tyrick> reem, add(structA, structB) -> struct { if(structA.size() != structB.size()) NULL else ....
[23:10:25] *** Joins: greggawatt (Adium@moz-c99204.s3c1.k774.5500.2604.IP)
[23:10:36] <Dabo> tyrick, a function like that in rust would return Option<struct>
[23:10:37] <reem> tyrick: you use Option<T>
[23:10:43] <tyrick> I see
[23:10:44] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[23:11:03] <mindtree> tyrick: if struct_a.size() != struct_b.size() { None } else { Some(asfd) }
[23:11:06] <tyrick> For for most function ret values, we first define Option<T>, then use that as the ret type
[23:11:09] <reem> tyrick: you make â€œnullabilityâ€ explicit, so the type system forces you to check for that case
[23:11:16] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:12:02] <reem> tyrick: You use Option<T> for operations which might not actually get a T, e.g. looking something up in a map. For things which may not succeed for more complex reasons, you usually use Result<T, E> which allows you to return an error, not just â€œno thing hereâ€
[23:12:05] *** Joins: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[23:12:07] <mbrubeck> tyrick: You don't need to define Option<T>; it's part of the standard library.
[23:12:09] *** Joins: senderista (tdbaker@moz-p3m.839.208.128.IP)
[23:12:18] <mbrubeck> tyrick: http://doc.rust-lang.org/std/option/
[23:12:25] <tyrick> mbrubeck, thanks
[23:13:43] *** Quits: lov2cod1 (Adium@moz-6non61.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[23:14:08] <aji> what's going to happen to all the things marked 'unstable' in 1.0?
[23:14:16] *** Quits: kgrandon (Adium@moz-ilv.ukc.122.2.IP) (Quit: Leaving.)
[23:14:34] <geofft> they're not available in the 1.0 stable release. they're available in nightly builds, and maybe in a future 1.x 
[23:14:44] <geofft> just like they're currently not available in 1.0 betas 
[23:16:38] *** Quits: bug (bug@moz-iev31u.xen.prgmr.com) (Quit: ahh don't fix me !)
[23:16:58] *** Quits: tyrick (tyrick@moz-jjhv1a.ar.comcast.net) (Quit: Leaving)
[23:17:12] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[23:17:50] *** Joins: q66 (q66@moz-mcbr82.slrh.t9i4.0430.2a01.IP)
[23:18:01] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[23:19:00] *** Quits: senderista (tdbaker@moz-p3m.839.208.128.IP) (Client exited)
[23:19:34] <pyon> Can I make my own custom DSTs?
[23:19:54] *** Joins: lov2cod (Adium@moz-40l.ob1.22.8.IP)
[23:20:35] <mbrubeck> pyon: No, I don't think so.
[23:20:53] <pyon> Mmm...
[23:20:56] <maurer> I'm getting tests/common.rs:30:67: 30:99 help: this function's return type contains a borrowed value, but the signature does not say which one of `f`'s 2 elided lifetimes it is borrowed from
[23:21:07] <maurer> I thought rust Fn's only had one lifetime though
[23:21:09] <maurer> what's going on?
[23:21:23] *** Joins: wolfviking0_ (wolfviking0@moz-8hd.3b6.246.162.IP)
[23:21:26] <mbrubeck> maurer: What's the function signature?
[23:21:29] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[23:21:34] <maurer> pub fn flip_result<A, B>(f : &Fn(&mut Client) -> Result<A, B>) -> &Fn(&mut Client) -> Result<B, A> {
[23:22:13] <mbrubeck> maurer: You'll need to do something like this: flip_result<'x, 'y, A, B>(f : &'x Fn(&'y mut Client)
[23:22:26] <mbrubeck> maurer: And then put either 'x or 'y next to each "&" in the return type.
[23:22:31] <benji> Could someone help me out with this: http://is.gd/yugyUj
[23:22:50] <benji> In the main() function I'd like to unpack the value of the variant, but I'm not sure how to do it
[23:22:52] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Ping timeout: 121 seconds)
[23:22:52] *** wolfviking0_ is now known as wolfviking0
[23:22:53] <mbrubeck> (Or maybe just next to the outer &?(
[23:22:54] <mbrubeck> )
[23:23:22] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[23:23:33] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[23:24:17] *** Joins: npm (npm@moz-92sbjt.wa.comcast.net)
[23:24:17] <XMPPwocky> benji: you don't have to specify the generic type
[23:24:34] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[23:24:34] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:25:00] <pingveno> I'm trying to figure out why this won't compile without uncommenting .map(Borrow::borrow): https://gist.github.com/adevore/b4a114a7ccd30722774f
[23:25:16] *** Quits: npm (npm@moz-92sbjt.wa.comcast.net) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[23:25:18] <benji> XMPPwocky: in the match expression in fn new() ?
[23:25:28] <mbrubeck> benji: like this? http://is.gd/YheNqT
[23:25:57] <pingveno> I'm under the impression that Option<&String> would automatically be converted to an Option<&str>
[23:26:07] <XMPPwocky> pingveno: no
[23:26:11] <XMPPwocky> &String becomes &str
[23:26:15] *** Quits: mkpankov` (user@moz-dhr.u5t.23.84.IP) (Ping timeout: 121 seconds)
[23:26:16] *** Joins: Jesin (Jesin@moz-oo8drm.eecs.lehigh.edu)
[23:26:21] <XMPPwocky> but it can't convert between arbitrary types like that
[23:26:26] <pingveno> :(
[23:26:29] <XMPPwocky> it couldn't convert from Vec<&String> to Vec<&str>
[23:26:47] <pingveno> Oh, that makes sense.
[23:27:01] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Ping timeout: 121 seconds)
[23:27:03] <pingveno> .map it is!
[23:27:09] *** Quits: GBGamer (npm@moz-dlv.mg6.56.172.IP) (NickServ (RECOVER command used by GBGamer_))
[23:27:09] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[23:27:12] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[23:27:23] <benji> XMPPwocky, mbrubeck: I get the same problem: 'x' is unresolved
[23:27:27] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Connection closed)
[23:27:35] <benji> (during the match expression in main() )
[23:27:40] <benji> oh wait
[23:27:47] <benji> i did it wrong, okay i understand
[23:28:04] <benji> mbrubeck, XMPPwocky, thanks!
[23:28:29] <benji> mbrubeck: actually wait, no..
[23:28:42] <benji> I don't want to unpack fields of the struct, rather I want to unpack the struct from the enum
[23:28:56] <benji> so if I remove the { } maybe it will work
[23:29:18] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[23:29:37] <mbrubeck> benji: Then just do `FOOType::F1(foo) => { /* do stuff with foo */ }`
[23:30:11] <benji> mbrubeck: I'd like to return foo, but foo (in your example) is an enum type
[23:30:14] <mbrubeck> http://is.gd/NT8G3k
[23:30:33] <mbrubeck> benji: Note that `foo` has a different type depending on which of your patterns matches
[23:30:37] <mbrubeck> so you can't return it in every case.
[23:30:58] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[23:31:04] <benji> mbrubeck: ah, that's right; i wanted to avoid masses of code inside a match statement so I guess I can dispatch to a generic function from here
[23:31:05] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[23:31:10] <benji> okay that makes sense, thanks again!
[23:31:11] <aji> geofft: that's unfortunate because there's a lot of good stuff in there
[23:31:12] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:31:21] <seanmonstar> VecDequeue.insert is unstable because a stability marker was forgotten?
[23:31:34] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[23:31:41] <seanmonstar> VecDeque*
[23:31:46] *** Joins: futile (felix@moz-t06qtr.pools.vodafone-ip.de)
[23:31:46] <mbrubeck> seanmonstar: d'oh
[23:32:02] <seanmonstar> mbrubeck: is that correct? i don't see an #unstable attribute
[23:32:38] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[23:33:26] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[23:33:26] <mbrubeck> seanmonstar: Certainly looks that way, but your guess is as good as mine.
[23:33:31] *** Joins: senderista (tdbaker@moz-ptgngd.dhcp4.washington.edu)
[23:34:04] *** Joins: jwatt (roslea@jwatt.irc.users.mozilla.org)
[23:34:09] *** Quits: lov2cod (Adium@moz-40l.ob1.22.8.IP) (Quit: Leaving.)
[23:34:29] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[23:35:19] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[23:35:27] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:35:28] *** Quits: q66 (q66@moz-mcbr82.slrh.t9i4.0430.2a01.IP) (Quit: ZNC - http://znc.in)
[23:35:40] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[23:36:33] *** Joins: q66 (q66@moz-mcbr82.slrh.t9i4.0430.2a01.IP)
[23:36:34] <davebettin> steveklabnik: congrats on completing the docs for 1.0!
[23:36:46] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:37:17] <reem> seanmonstar: itâ€™s probably just uncertainty as to what we want the very precise behavior in shifting elements to be
[23:37:36] <reem> {pop, push}_{front, back} should all be stable though
[23:37:52] <seanmonstar> reem: yea, though usually unstable methods have an attribute
[23:38:12] <reem> it is strange there is no reason given
[23:38:22] <seanmonstar> also seemed odd, since its counterpart, remove(), is stable
[23:39:27] <GaryOak_> did rust decide to keep integer overflow handling?
[23:39:29] *** Joins: NatureLiang (NatureLiang@moz-0aj.tc3.126.171.IP)
[23:39:41] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[23:39:47] <seanmonstar> GaryOak_: it uses debug_asserts
[23:39:49] *** Quits: q66 (q66@moz-mcbr82.slrh.t9i4.0430.2a01.IP) (Quit: ZNC - http://znc.in)
[23:40:07] <steveklabnik> davebettin: thanks! we've had so much help from tons of other people too
[23:41:05] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[23:41:49] *** Joins: q66 (q66@moz-mcbr82.slrh.t9i4.0430.2a01.IP)
[23:41:59] <steveklabnik> and there's tons more work to do. but this is enough for the release
[23:42:03] <steveklabnik> now, for food
[23:42:07] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[23:42:19] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:42:26] *** Quits: GGist (Mibbit@moz-ijla36.seattleu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[23:42:48] <GaryOak_> Gonna document your food?
[23:43:18] <datalus> Is it fair to say a lot of parts of libstd that deal with file systems are unstable for 1.0?
[23:43:36] <datalus> I'm struggling to find a stable way in 1.0 to determine the modified time of a file :)
[23:43:59] <reem> datalus: https://crates.io/crates/filetime
[23:44:03] <reem> should help
[23:44:15] <seanmonstar> datalus: http://doc.rust-lang.org/1.0.0-beta.4/std/fs/struct.Metadata.html#method.modified looks unstable
[23:44:16] <reem> yay platform differences!
[23:44:54] <reem> oh, actually that crate isnâ€™t stable
[23:44:59] *** Quits: agjacome (agjacome@moz-acoq63.dynamic.jazztel.es) (Quit: leaving)
[23:45:00] <reem> it isnâ€™t on stable*
[23:45:51] <seanmonstar> heh, that method in nightly says deprecated, use std::os::$platform::fs
[23:46:02] *** Joins: irobevjod (irobevjod@moz-5bq.k90.254.5.IP)
[23:46:14] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[23:46:29] <mitsuhiko> steveklabnik: i really want to see an example for once of how HKTs would look like in rust and what the use of them it
[23:46:34] <mitsuhiko> i find them quite scary :P
[23:46:36] <datalus> Yeah, I kind of hacked my way into a modified function using libc & the stat *nix function
[23:47:01] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[23:47:04] <datalus> On Windows no less :)
[23:47:06] <steveklabnik> mitsuhiko: yeah, i'm running out the door, but my inner haskell-er is like 'duh HKT', but i can see how reasponable people might not think such :)
[23:47:10] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[23:47:12] <datalus> MinGW :D
[23:47:12] *** Quits: james4k_ (james@moz-e6no8q.consolidated.net) (Connection closed)
[23:47:19] <reem> mitsuhiko: a big one is a Pointer trait, so you could easily abstract over &/&mut/Box/Rc/Arc/etc.
[23:47:39] <mitsuhiko> reem: yeah, and that's the one that freakes me out the most
[23:47:47] <mitsuhiko> it's already hard enough to understand those
[23:48:15] <reem> mitsuhiko: youâ€™d only use it if you needed to be generic
[23:48:29] <mitsuhiko> but you need to *understand* it as well
[23:48:39] <mitsuhiko> I already find Deref absolutely terrible from an understanding code point of view
[23:48:51] <reem> I imagine Pointer would be just a library trait
[23:49:04] <reem> so unlike Deref it wouldnâ€™t be tied to * and other deref sugar
[23:49:15] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[23:49:23] <maurer> https://bpaste.net/show/509c62d096cd hm, adding lifetimes didn't really help
[23:49:23] <reem> but regardless youâ€™re right - thereâ€™s certainly a complexity tradeoff when adding HKT
[23:49:45] <mitsuhiko> what's a simple trait that makes sense to put into a presentation?
[23:49:47] <reem> (HKT is complex, and enables seriously complex patterns)
[23:50:04] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:50:17] <reem> mitsuhiko: Clone is good and simple
[23:50:27] <mindtree> mitsuhiko: Iterator :D
[23:50:41] <shep-home> burntsushi: I have some magic internet points waiting for you... http://stackoverflow.com/q/30203277/155423
[23:50:56] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[23:51:47] <woboats> Is Sized the only trait that is impl'd automatically for type parameters?
[23:51:55] <shep-home> mitsuhiko: Debug :-)
[23:52:49] *** Joins: sambotron (sambotron@moz-lgc.bdf.247.173.IP)
[23:52:50] *** Quits: sambotron (sambotron@moz-lgc.bdf.247.173.IP) (Quit: )
[23:53:16] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[23:53:16] *** ChanServ sets mode: +o jdm
[23:53:57] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:54:40] *** Joins: Guest_ (textual@moz-6jfu02.dynamic.fusionbroadband.com)
[23:55:02] *** kimundi is now known as zz_kimundi
[23:57:01] *** Quits: Guest__ (textual@moz-fvqc2v.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[23:57:21] *** Quits: Gabriel_7 (Gabriel@moz-evm75k.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[23:57:47] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[23:58:19] *** Quits: umit (umit@moz-51i.nqs.45.92.IP) (Ping timeout: 121 seconds)
[23:58:35] <rillian> omg. include_bytes! you guys rule.
