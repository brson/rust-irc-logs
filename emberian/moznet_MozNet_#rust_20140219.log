[00:01:40] *** Quits: alkino (alkino@moz-5158FCA3.w92-151.abo.wanadoo.fr) (Ping timeout)
[00:03:03] *** Quits: josh (josh@moz-76F75B70.mpls.qwest.net) (Quit: josh)
[00:03:14] <mk12> Is it normal for a Rust hello world binary to be 2.6 MB? on OS X.
[00:03:41] *** Quits: alexherbo2 (alexherbo2@moz-FC10E83F.de) (Quit: WeeChat 0.4.2)
[00:03:46] <cmr> mk12: yes.
[00:03:50] <cmr> -C prefer-dynamic
[00:03:53] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[00:03:56] <cmr> (-Z on 0.9)
[00:04:12] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[00:04:26] <eibwen> how can I enable a crate feature?
[00:04:55] <cmr> eibwen: #[feature(foo)];
[00:04:57] <cmr> in the crate root
[00:05:02] <cmr> (the file you pass to rustc)
[00:05:49] <eibwen> mhh #[feature(macro_rules)] doesn't seem to do it
[00:06:00] <cmr> semicolon.
[00:06:04] <cmr> needs to apply to the root module.
[00:06:50] *** Quits: tundor (lundor@moz-31A25D96.rondie.nl) (Quit: Verlassend)
[00:07:27] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:07:41] <eibwen> yea, works!
[00:08:42] <mk12> cmr: ok that brought it down to 83K. I'm guessing that dynamically links the rust runtime? Is there anything I should be aware about when using this (since its not default)
[00:09:06] <mk12> *aware of
[00:09:13] <cmr> mk12: nope, not really.
[00:09:25] <cmr> mk12: passing -O should bring it down more.
[00:09:53] *** Quits: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net) (Client exited)
[00:10:08] <mk12> cmr: yup, cut it in half. Thanks
[00:10:15] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:10:23] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[00:11:17] *** Joins: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net)
[00:11:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:13:55] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[00:14:08] *** jorendorff_away is now known as jorendorff
[00:16:36] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[00:17:44] *** Quits: new_one (new_one@ECFBFAA9.328FFDD8.B3C0173E.IP) (Client exited)
[00:17:56] *** Quits: mk12 (mk12@moz-392A6695.cpe.net.cable.rogers.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:18:05] *** Quits: chromatic (chromatic@moz-AD5202B6.static.nextweb.net) (Ping timeout)
[00:18:32] *** Quits: dybt (dybt@C8DE79E3.83E03BA6.E0D175A1.IP) (Quit: Leaving)
[00:18:33] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[00:19:14] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[00:19:15] *** Quits: nif (nif@moz-84FF761D.oberlin.net) (Quit: Konversation terminated!)
[00:19:26] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[00:20:11] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:20:26] *** Joins: chromatic (chromatic@moz-AD5202B6.static.nextweb.net)
[00:20:37] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[00:20:55] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[00:22:02] *** Joins: nif (nif@moz-84FF761D.oberlin.net)
[00:22:18] *** Joins: Bewilderforce (Bewilderfo@moz-EA5D4D40.ed.shawcable.net)
[00:24:58] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[00:25:01] *** Quits: chromatic (chromatic@moz-AD5202B6.static.nextweb.net) (Ping timeout)
[00:26:39] *** mhenretty_ is now known as mhenretty
[00:28:11] *** Joins: chromatic (chromatic@moz-AD5202B6.static.nextweb.net)
[00:28:11] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[00:28:42] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[00:28:48] <ChrisMorgan> Is there a valid case for implementing a trait for &mut T (for a non-trait T)?
[00:29:11] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:29:51] *** Quits: chromatic (chromatic@moz-AD5202B6.static.nextweb.net) (Ping timeout)
[00:29:52] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:30:27] *** Joins: chromatic (chromatic@moz-AD5202B6.static.nextweb.net)
[00:31:18] <sfackler> I can't think of one
[00:31:40] *** Quits: thinkingpad (Mibbit@moz-82E5EE96.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:31:41] <sfackler> unless it's some pointer-related trait that's being implemented for all T
[00:31:55] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[00:32:25] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[00:32:49] *** Joins: hoverbear (hoverbear@moz-2CC4D54.wireless.uvic.ca)
[00:33:11] <SiegeLord> I used to have such things before I switched to Cell
[00:33:13] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:33:25] <SiegeLord> Now it's just for &T
[00:33:39] *** Quits: chromatic (chromatic@moz-AD5202B6.static.nextweb.net) (Ping timeout)
[00:33:40] *** Quits: steveklabnik (steev@B1BA5385.27F34CF7.5670445F.IP) (Quit: leaving)
[00:34:45] <ChrisMorgan> SiegeLord: why &T rather than &mut T?
[00:34:50] <ChrisMorgan> Sorry, rather than T?
[00:36:02] <ChrisMorgan> eibwen: just filed https://github.com/mozilla/rust/issues/12381 about this surprising mutability issue
[00:36:38] * ChrisMorgan needs more words ending in "s" in that title
[00:36:42] <SiegeLord> It's complicated...
[00:36:53] *** Joins: steveklabnik (steev@B1BA5385.27F34CF7.5670445F.IP)
[00:36:55] <SiegeLord> It has to do with overloading operators
[00:37:04] *** Joins: chromatic (chromatic@moz-AD5202B6.static.nextweb.net)
[00:37:43] <ChrisMorgan> SiegeLord: I'd like to understand it
[00:37:46] <eibwen> ah nice
[00:38:07] <hoverbear> Yay I got my laptop back!
[00:38:44] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:39:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:39:53] *** Joins: rpappalardo (Adium@moz-AE51951C.hsd1.ca.comcast.net)
[00:39:53] *** Quits: twi (Adium@moz-A5517D42.sta.onestream.net.au) (Ping timeout)
[00:40:26] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:40:30] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:40:36] <SiegeLord> ChrisMorgan: E.g. this: https://github.com/SiegeLord/RustAlgebloat/blob/master/src/vector/un_ops.rs#L154
[00:40:42] <arrrrrrrrr> Is it custom to return by value?
[00:40:48] <arrrrrrrrr> Even large structs?
[00:40:48] <cmr> arrrrrrrrr: yes.
[00:40:53] <cmr> especially large structs.
[00:41:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:41:07] <SiegeLord> Essentially, I can't implement it for T, because I can't give a lifetime to &self
[00:41:09] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[00:41:10] <cmr> our ABI actually uses an implicit out pointer.
[00:41:10] *** Joins: twi (Adium@moz-A5517D42.sta.onestream.net.au)
[00:41:23] *** Joins: fyolnish (fyolnish@moz-2B1FB41A.uqwimax.jp)
[00:41:28] <cmr> so it's written directly into the stack where it needs to go
[00:41:28] <SiegeLord> I think that's the crux of it, but I may be mis-remembering
[00:41:29] <arrrrrrrrr> cmr: Are functions specialized to handle the case when the rv is put on the heap?
[00:41:30] <cmr> or into a box.
[00:41:48] <cmr> arrrrrrrrr: no, it's just part of the ABI
[00:41:52] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[00:41:52] <cmr> `box foo()`
[00:41:59] <cmr> foo's out pointer is the heap allocation.
[00:42:06] <ChrisMorgan> SiegeLord: so it's because of slight deficiencies in other areas of the language/ops traits.
[00:42:21] <SiegeLord> Maybe
[00:42:37] <ChrisMorgan> SiegeLord: "{" on its own line? ☹
[00:42:45] <cmr> (note that `box` is the future-compatible expression form of `~foo()`)
[00:42:45] <SiegeLord> It's been very convenient to use by value-self, implemented for &T
[00:43:02] *** Joins: michaeljdennis (michaeljde@moz-72A64986.socal.res.rr.com)
[00:43:03] *** Quits: fyolnish (fyolnish@moz-2B1FB41A.uqwimax.jp) (Ping timeout)
[00:43:28] <tiffany> is there anywhere you can see servo's acid2 status easily?
[00:43:39] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:43:52] <SiegeLord> ChrisMorgan: It's a pretty good style ;)
[00:43:59] <cmr> tiffany: no I don't think so.
[00:45:17] <tiffany> I don't hear about it like I heard about acid1, is that because complete support is still far off?
[00:45:19] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:47:31] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:47:33] <ChrisMorgan> tiffany: you're probably better to ask in #servo
[00:48:37] <arrrrrrrrr> cmr: And this is aggressively optimized? So that all local variables that correspond to struct fields are eliminated?
[00:51:17] <cmr> arrrrrrrrr: not yet, unfortunately.
[00:51:18] <chromatic> Anyone seeing test failures against latest trunk?
[00:51:27] <cmr> arrrrrrrrr: it'd be a relatively simple optimization for us to do.
[00:51:40] *** Joins: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com)
[00:51:55] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:52:12] <cmr> intermediates are often eliminated, but not 100% yet.
[00:52:12] *** Joins: jdsanders1 (Adium@D073F53D.C41F93F.96556A09.IP)
[00:53:41] <herrwolfe45> hi - Im trying to implement a transpose function similar to map head x in haskell or map(None, *the_list) from python, but I'm having trouble coming up with how to chain the iterators to get the head of each subsequent vector. 
[00:53:41] <arrrrrrrrr> how are the manpages?
[00:53:56] <jdsanders1> is there an easy way I can browse the docs for the various libraries that have been extracted from libextra?
[00:54:50] <hoverbear> Ahhhh darn it was so close! :( https://travis-ci.org/Hoverbear/rust-rosetta
[00:55:00] *** Quits: Bewilderforce (Bewilderfo@moz-EA5D4D40.ed.shawcable.net) (Ping timeout)
[00:55:12] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:55:30] <sfackler> jdsanders1: they're all listed here: http://static.rust-lang.org/doc/master/index.html
[00:55:36] <sfackler> there isn't a universal search yet, unfortunately
[00:55:47] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[00:56:04] <ChrisMorgan> herrwolfe45: http://static.rust-lang.org/doc/0.8/std/iter/trait.Iterator.html#fn.zip
[00:56:13] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[00:56:42] <herrwolfe45> ChrisMorgan: thanks - I didn't think about using zip for this
[00:56:48] <ChrisMorgan> herrwolfe45: in Python, map(None, *args) is equivalent to the more commonly used zip(*args)
[00:56:57] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:57:13] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[00:57:19] <herrwolfe45> that is good to know, i'm not really used to using map in python either
[00:57:21] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:57:26] <herrwolfe45> or zip for that matter
[00:57:38] *** Joins: eholk (eholk@331B61A5.7EDA02CF.51B6877.IP)
[00:57:39] * ChrisMorgan didn't actually know that beforehand, not having used map(None, *args) before
[00:57:43] <jdsanders1> sfackler: ah, thanks! need to change my bookmarks I guess
[00:58:05] * ChrisMorgan thinks that allowing map to have None instead of a function doesn't make sense
[00:58:43] <ChrisMorgan> It's equivalent to `lambda *args: args`.
[00:58:45] *** Joins: fyolnish (fyolnish@moz-2B1FB41A.uqwimax.jp)
[00:58:54] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[01:00:01] <herrwolfe45> I'd like to feign having a reason for what I've done, but I just ripped the map(..) from stack overflow.
[01:00:25] *** Quits: fyolnish (fyolnish@moz-2B1FB41A.uqwimax.jp) (Ping timeout)
[01:00:26] *** Joins: Bewilderforce (Bewilderfo@moz-EA5D4D40.ed.shawcable.net)
[01:01:07] *** Joins: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net)
[01:01:45] <ChrisMorgan> herrwolfe45: happens to the best of us :P
[01:02:28] <herrwolfe45> i am off - thanks for your help!
[01:02:38] *** Parts: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com) (ERC Version 5.3 (IRC client for Emacs))
[01:03:15] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:03:19] <nif> I ruined everything. is there a good way to uninstall rust entirely and start over?
[01:04:50] <jdsanders1> was bigint::RandBigInt purposefully de-publicized at some point relatively recently (maybe with the move to libnum?) or was it a bug that I had access to it to begin with?
[01:05:43] <steveklabnik> ChrisMorgan: does rust-http not support https on clients, too?
[01:06:06] <steveklabnik> that's a weirdly phrased question
[01:06:13] <steveklabnik> i need to make an https request
[01:06:27] <steveklabnik> and i just noticed ssl is on your to-do
[01:06:36] <steveklabnik> just making sure that's true ;)
[01:06:41] <ChrisMorgan> steveklabnik: with https://github.com/chris-morgan/rust-http/pull/31, it does support SSL.
[01:06:56] <steveklabnik> gotcha
[01:07:04] <tjc> nif: If you pull a fresh copy of the tree in another directory, and `make install`, that should overwrite everything that was installed before
[01:07:09] <steveklabnik> thanks
[01:07:17] <nif> tjc: oh great, thanks
[01:07:59] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[01:08:03] *** Quits: nif (nif@moz-84FF761D.oberlin.net) (Quit: Konversation terminated!)
[01:08:12] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[01:08:12] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:11:24] *** Quits: victorporof (victorporo@125EF623.B2666F0E.66399531.IP) (Quit: victorporof)
[01:11:47] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[01:11:47] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[01:12:10] *** Quits: q66 (q66@moz-82FBFD08.dab.02.net) (Quit: Leaving)
[01:12:12] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[01:12:39] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[01:13:14] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:13:27] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:15:34] *** Joins: uva_student (Mibbit@FB03AD8C.387BC77F.DDE5D3F6.IP)
[01:16:38] <uva_student> Hi all, I have a question about rust pointers. I'm getting the error "expected '&str' but found '~str'". I'm not even sure why that's a problem? More importantly, I don't know how to fix it...
[01:17:11] *** Parts: Earnestly (earnest@moz-2440EE8A.dyn.plus.net) (WeeChat 0.4.4-dev)
[01:17:20] *** Quits: twi (Adium@moz-A5517D42.sta.onestream.net.au) (Quit: Leaving.)
[01:17:35] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:17:39] <uva_student> I have a variable file, decalred as "let mut file = ..."; and later I say "file = (string1 + string2 + string3);" where I believe the three strings are all owned.
[01:18:15] <uva_student> i left out the part of what file is declared as because I dont think it matters... As well as the actual strings I'm using. If that does matter I can post the real code
[01:19:24] <aatch> uva_student, in your `let mut file = ...` do you have `"string"` or `~"string"`?
[01:19:31] <tjc> uva_student: see http://static.rust-lang.org/doc/master/guide-pointers.html
[01:19:48] <tjc> It talks about the difference between owned pointers (~str) and references (&str) -- strings are analogous to pointers
[01:20:29] <uva_student> aatch: The line is "let mut file = str::from_utf8(read);". The previous line is "let read = staticFile.read_to_end();" where staticFile is a File object
[01:20:37] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[01:20:54] <uva_student> tjc: I've looked there and studied the differences between owned pointers and references... I just have never seen this error (expecting borrowed found owned) and can't find anything googling it.
[01:21:33] <uva_student> Also I've checked multiple tutorials including that one but I haven't been able to find anything that helps me here...
[01:21:35] <aatch> uva_student, ok, so from_utf8 returns an Option<&str>
[01:21:45] <aatch> What version of rust are you using?
[01:21:53] <uva_student> 0.9
[01:22:05] <aatch> Ok, in that version, it returns a &str.
[01:22:14] <aatch> That means the type of `file` is a &str
[01:22:52] *** Joins: twi (Adium@moz-4B419C76.static.tpgi.com.au)
[01:23:14] <aatch> So you need to copy into an owned string (~str) in order for the types to match up
[01:23:30] <aatch> You can use the `to_owned` method to accomplish this
[01:23:37] <uva_student> OK, I think we tried that but got a different error. We'll try again and hopefully the other error is easier to fix haha
[01:24:15] *** Quits: skade (skade@moz-E06DCF0B.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:24:33] *** Quits: twi (Adium@moz-4B419C76.static.tpgi.com.au) (Ping timeout)
[01:24:59] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[01:25:26] <uva_student> so our other error is that file is later borrowed (we using slice_to and slice_from on it to pull out some info), so it doesn't let us reassign to file later because it's currently being borrowed.
[01:26:07] <aatch> uva_student, then you need to manage the lifetimes to make sure those borrows end before you do the re-assignment
[01:26:10] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[01:26:20] <aatch> Since the re-assignment will free the original data.
[01:26:41] <aatch> And thus invalidate the slices you take.
[01:27:40] <uva_student> Alright, we'll work on that. Thanks!
[01:27:43] *** Quits: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[01:28:39] *** Quits: eibwen (kvirc@moz-960503D8.dip0.t-ipconnect.de) (Ping timeout)
[01:29:11] *** Joins: twi (Adium@moz-4B419C76.static.tpgi.com.au)
[01:30:19] <uva_student> got it to work! thanks!
[01:31:19] <jdsanders1> sorry to harp on, but does anybody know if num::bigint::RandBigInt is meant to be private, and if so, why?
[01:31:43] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[01:31:53] <jdsanders1> I see it in the documentation, and I was able to use it until recently, but now I get "error: trait `RandBigInt` is private"
[01:32:51] <sfackler> it's probably accidentally private
[01:32:53] <jdsanders1> I'm not sure what version I successfully used it, but I think it was about 2 weeks ago
[01:33:00] <sfackler> and showing up in the docs by accident
[01:33:05] *** Quits: Bewilderforce (Bewilderfo@moz-EA5D4D40.ed.shawcable.net) (Quit: Leaving)
[01:33:22] <jdsanders1> did something change with trait visibility somewhat recently, or maybe things are different now that it is no longer in libextra?
[01:33:26] <sfackler> and the compiler became better about not allowing access to private traits
[01:33:35] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[01:33:52] <jdsanders1> ok good enough for me
[01:34:59] *** Joins: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net)
[01:35:15] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[01:35:50] *** Quits: jdsanders1 (Adium@D073F53D.C41F93F.96556A09.IP) (Quit: Leaving.)
[01:38:31] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:38:43] *** Quits: michaeljdennis (michaeljde@moz-72A64986.socal.res.rr.com) (Quit: )
[01:39:19] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:39:28] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:39:38] <darnuria> In https://github.com/mozilla/rust/issues/11755 we should reference "improvement suggestions" or fixes etc?
[01:41:01] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:41:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:43:00] <erickt> acrichto: ping
[01:43:05] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:44:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:45:39] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:46:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:46:07] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131205075310])
[01:47:11] *** Quits: rpappalardo (Adium@moz-AE51951C.hsd1.ca.comcast.net) (Quit: Leaving.)
[01:47:28] <marc_> Why does the gitignore file ignore the .ll files?
[01:47:36] <marc_> You can't build the project without them..
[01:48:38] *** Joins: TheHydroImpulse (TheHydroIm@moz-F618A026.ed.shawcable.net)
[01:48:41] <marc_> https://github.com/mozilla/rust/blob/master/.gitignore#L24
[01:49:55] <marc_> e.g. https://github.com/mozilla/rust/blob/master/src/rt/rust_try.ll
[01:50:22] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[01:50:31] *** Quits: TheHydroImpulse (TheHydroIm@moz-F618A026.ed.shawcable.net) (Ping timeout)
[01:50:32] *** Quits: uva_student (Mibbit@FB03AD8C.387BC77F.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:51:08] <o11c> ooh, looks like an overzealous ignore rule
[01:51:22] *** Quits: hoverbear (hoverbear@moz-2CC4D54.wireless.uvic.ca) (Quit: Taking a nap.)
[01:53:00] <o11c> looks like !src/rt/rust_try.ll will cancel the ignore
[01:54:20] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:57:04] <marc_> o11c: in theory, or is there something actually doing that? (I don't see it)
[01:59:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:59:23] *** Joins: fyolnish (fyolnish@moz-5B1C2586.uqwimax.jp)
[01:59:48] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[01:59:49] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:00:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:00:49] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[02:01:04] *** Quits: fyolnish (fyolnish@moz-5B1C2586.uqwimax.jp) (Ping timeout)
[02:01:17] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[02:01:20] *** Quits: onelson (onelson@moz-DD666EC5.laika.com) (Quit: Leaving.)
[02:02:10] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:03:08] *** Joins: TheHydroImpulse (TheHydroIm@C5B919E6.1A25AF6D.E9467022.IP)
[02:03:32] <o11c> marc_: in theory - someone needs to submit a patch
[02:05:03] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:05:24] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:07:04] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:08:52] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[02:09:10] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[02:10:07] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[02:11:06] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[02:12:01] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:12:18] *** Quits: TheHydroImpulse (TheHydroIm@C5B919E6.1A25AF6D.E9467022.IP) (Quit: TheHydroImpulse)
[02:12:25] <darnuria> I have a question about the libterm.rs
[02:12:31] <cmr> darnuria: sure, what's up?
[02:12:36] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:12:41] <darnuria> on the Terminal impl.
[02:12:46] <darnuria> in the new method
[02:13:08] <darnuria> we return an error if there is no $TERM
[02:13:22] <cmr> correct.
[02:13:46] <darnuria> but with every shells you have a "hidden" value "dumb" who provide a termcaps awkward shell.
[02:14:08] <darnuria> Like in bash if you start bash like this $> env -i bash
[02:14:09] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[02:14:18] <darnuria> and print $TERM you get "dumb"
[02:14:35] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:14:41] <darnuria> And if you use it with termcaps stuff in C you get a "really basic shell not an error.
[02:14:55] <cmr> ok
[02:15:06] <darnuria> (by really basic I mean a shell who is unable to handle programs like htop, tmux etc...)
[02:15:08] <cmr> so... the shell is setting the environment variable itself I presume.
[02:15:19] <darnuria> I sseems to be appropriate for a bug?
[02:15:20] <cmr> (yes `dumb` is just a line printer)
[02:15:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:15:31] <darnuria> Yep. "dumb"
[02:15:44] <cmr> term needs a bit of an API redesign...
[02:15:46] <darnuria> is a posix standart for "dumb" env
[02:15:59] <darnuria> like in kernel panic I presume
[02:16:08] <darnuria> (busybox etc)\
[02:16:17] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:16:21] *** Joins: barosl (barosl@34F62860.E551553C.7544CABF.IP)
[02:16:26] <cmr> (it was one of the first things I wrote in rust)
[02:16:28] <darnuria> Making a bug does makes sens?
[02:16:36] <darnuria> sense sorry*
[02:16:53] <cmr> so really it should have a Terminal::for_term(&str)
[02:17:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:17:41] <cmr> then if TERM is undefined (which you can check) you set "dumb" yourself.
[02:18:10] <darnuria> Yep like in C code with low lvl termcaps stuff.
[02:18:33] <cmr> but really you should just be exporting TERM yourself on startup if it's undefined.
[02:18:37] <darnuria> But with nice rust errors.
[02:19:15] <darnuria> Nop the probleme is that, if you run without environnement you may have problems with exporting if my memory is good.
[02:19:36] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:19:38] <darnuria> (I have to makes test with C code I am not sure)
[02:19:38] <cmr> you aren't running POSIX if your process doesn't have an environment.
[02:19:58] <cmr> *every* *single* *process* has an environment.
[02:19:59] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:20:22] <darnuria> hmmm... bash and Zsh does... that quiet funny. yep I know I learn it actually ;)
[02:20:49] <darnuria> (I am writting a basic shell in C for programming assignment)
[02:20:50] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[02:21:37] <darnuria> and you pass env with execve-like command etc...
[02:21:40] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:21:46] *** Quits: chromatic (chromatic@moz-AD5202B6.static.nextweb.net) (Ping timeout)
[02:24:21] *** Joins: Bewilderforce (Bewilderfo@442904D0.6D160A56.18DC1FC6.IP)
[02:24:25] *** Joins: chromatic (chromatic@moz-AD5202B6.static.nextweb.net)
[02:24:48] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[02:24:48] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:25:05] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[02:25:38] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[02:26:26] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Quit: Leaving.)
[02:28:18] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[02:28:49] <darnuria> cmr: my bad I misinterpreted your reply you are absolutely right. :)
[02:28:57] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:29:48] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[02:33:13] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[02:33:40] *** Joins: rpappalardo (Adium@moz-AE51951C.hsd1.ca.comcast.net)
[02:34:32] <ChrisMorgan> Are macros items?
[02:35:05] *** Joins: speckle2 (speckle@moz-AD109A29.hsd1.md.comcast.net)
[02:35:49] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[02:35:51] *** Quits: speckle (speckle@moz-AD109A29.hsd1.md.comcast.net) (Ping timeout)
[02:37:45] *** speckle2 is now known as speckle
[02:38:05] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[02:38:26] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[02:40:06] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:42:50] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[02:44:14] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[02:45:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:45:57] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[02:46:18] *** Joins: mib_rpm63i (Mibbit@2E5539B4.C1DAD4DA.971A23E0.IP)
[02:46:45] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:46:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:48:24] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:51:44] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:52:09] *** Joins: sellout (Adium@moz-2081FE17.hsd1.co.comcast.net)
[02:52:25] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[02:53:40] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Ping timeout)
[02:54:05] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:54:22] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[02:56:02] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:56:25] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[02:56:48] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[02:56:58] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[02:57:22] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:57:27] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:57:27] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[02:57:48] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:57:53] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[02:58:14] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[02:58:17] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[02:59:28] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[02:59:54] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[03:00:10] <cmr> ChrisMorgan: nope.
[03:00:22] <cmr> ... not really, at least.
[03:00:29] <cmr> They exist in the AST as items, ItemMac
[03:00:32] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[03:00:43] <cmr> But this is simply a macro which will expand into a macro
[03:00:44] <cmr> erm
[03:00:47] <cmr> expand into an item.
[03:01:23] <ChrisMorgan> Just thinking about it because of brson's stability post—I think macros need more official support; documentation, stability attributes, etc.
[03:01:24] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[03:01:56] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:02:12] <cmr> Yes.
[03:02:25] <cmr> Exported macros are part of the AST that rustdoc sees.
[03:02:56] <cmr> I believe they will be able to receive full support.
[03:04:16] *** Joins: new_one (new_one@B720B8AC.381E905C.B3C0173E.IP)
[03:04:44] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[03:06:05] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[03:07:01] *** jorendorff is now known as jorendorff_away
[03:07:45] *** Quits: rpappalardo (Adium@moz-AE51951C.hsd1.ca.comcast.net) (Quit: Leaving.)
[03:09:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:09:58] *** Joins: joone_ (joone@E10A1781.2160464A.A34EC3BB.IP)
[03:10:13] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[03:10:32] <bollu> What are exported macros? scoped macros?
[03:10:52] *** Quits: joone (joone@moz-8E88FB0F.jf.intel.com) (Ping timeout)
[03:11:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:12:02] <cmr> #[macro_export]
[03:12:06] <cmr> Other crates can use them.
[03:13:02] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[03:13:23] *** Quits: oxum (anonymous@4C8DEB3C.A649DFF7.C28326FD.IP) (Quit: ...)
[03:13:57] <bollu> are rust's macros text substitution based?
[03:13:59] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[03:14:18] <cmr> no, not at all.
[03:14:27] <cmr> they're hygenic operations from token tree to syntax tree.
[03:15:49] *** Quits: eholk (eholk@331B61A5.7EDA02CF.51B6877.IP) (Quit: eholk)
[03:16:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:16:23] *** Joins: DAddYE_ (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:16:23] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Connection reset by peer)
[03:16:32] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:18:57] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:18:57] *** ChanServ sets mode: +ao dherman dherman
[03:19:10] *** Quits: rootnode (rootnode@moz-BDB7023C.pools.arcor-ip.net) (Ping timeout)
[03:19:12] *** Joins: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[03:19:43] *** Joins: cy (user@moz-6964FF68.airbears2.berkeley.edu)
[03:19:55] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[03:22:39] <bollu> thanks for the info cmr!
[03:23:03] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:23:38] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[03:24:47] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[03:25:21] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:25:49] <cmr> np
[03:27:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:27:39] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Quit: Leaving.)
[03:28:02] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[03:28:04] *** Joins: herrwolfe45 (herrwolfe4@moz-3F0F09A7.cm.sunflower.com)
[03:29:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:29:09] <bstrie> I like this reddit post that asks, hey what is this subreddit for?!
[03:29:29] <bstrie> meanwhile, everywhere else on the page: THE RUST PROGRAMMING LANGUAGE THE RUST PROGRAMMING LANGUAGE THE RUST PROGRAMMING LANGUAGE THE RUST PROGRAMMING LANGUAGE
[03:29:35] <cmr> yeah I know
[03:29:37] <cmr> seriously
[03:29:43] <cmr> are people incapable of reading?
[03:29:49] <cmr> reddit has a pretty damn standard sidebar.
[03:29:57] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[03:29:57] <ryeguy> i'm going to make a game called The Rust Programming Language and ruin everything for you
[03:30:08] *** Quits: jadbaires (jadrian@F5483711.DC337B28.6119BA41.IP) (Quit: Konversation terminated!)
[03:30:09] <bstrie> ryeguy: joke's on you, we've already stolen the name
[03:30:13] *** Joins: jadbaires (jadrian@F5483711.DC337B28.6119BA41.IP)
[03:30:16] <ryeguy> damn
[03:31:08] *** Quits: jadbaires (jadrian@F5483711.DC337B28.6119BA41.IP) (Quit: Konversation terminated!)
[03:31:13] *** Joins: jadbaires (jadrian@F5483711.DC337B28.6119BA41.IP)
[03:32:17] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[03:36:02] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[03:36:12] <tjc> bstrie: I enjoyed the comment saying "read the sidebar" (from jdm, I think)
[03:36:35] <tjc> and yes, people are incapable of reading, as anyone who has ever tried posting a roommate ad knows
[03:37:12] <strcat> tjc: a illiterate roommate is unable to go through your crap though
[03:37:16] <strcat> seems like a major plus
[03:37:24] <tjc> strcat: well, they can't steal my identity, but they might still steal my bike
[03:37:36] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[03:39:17] <strcat> meh, software.
[03:40:11] <tjc> heh, somebody else tried to explain programming from first principles
[03:40:15] <tjc> (on that reddit post)
[03:40:29] * strcat has to abandon firefox :(
[03:41:11] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[03:41:56] <cmr> "computer, just show me Bieber's pictures"
[03:42:04] * cmr types that into wolframalpha
[03:42:20] <cmr> nope
[03:42:23] <cmr> shame
[03:42:50] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[03:43:31] <bstrie> strcat: become servo
[03:43:37] <bstrie> 's first full-time user
[03:43:40] <bstrie> is what I meant to say
[03:43:52] <bstrie> what I actually said ended up more profound
[03:43:59] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[03:44:25] <tjc> I am become servo, the destroyer of sequential web browsers
[03:44:32] <strcat> I've kept using firefox because of vimperator/pentadactyl but they've become so buggy
[03:45:04] <strcat> + I am really sick of having flash 11.2 and web pages freezing the entire event loop...
[03:45:06] * strcat shrugs
[03:45:37] <strcat> make servo work well and give it pepper api support and I'll use it ;P
[03:45:38] <tjc> I still haven't installed the Flash plugin on the computer I use most of the time
[03:45:43] <tjc> I don't feel like I'm missing much :-)
[03:45:47] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: leaving)
[03:45:49] <mcpherrin> if servo had vimperator i would use it
[03:45:54] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:45:58] <strcat> vimperator is so broken now ;s
[03:46:04] <mcpherrin> yeah :/
[03:46:08] <strcat> vimium/vrome/vichrome are actually an upgrade now
[03:46:12] <strcat> despite being crippled
[03:46:13] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[03:46:29] <mcpherrin> i find vimperator mostly works
[03:46:38] <strcat> search broke quite a bit in ffx 27
[03:46:48] <mcpherrin> yeah thats the biggest thing
[03:46:52] <strcat> the tab group stuff I used broke pretty hard too
[03:46:59] <mcpherrin> but it still kinda works though
[03:47:17] *** Quits: Bewilderforce (Bewilderfo@442904D0.6D160A56.18DC1FC6.IP) (Quit: Leaving)
[03:47:33] <mcpherrin> I use vimperator+ nightly full time
[03:47:34] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:47:36] <cmr> the first time I encountered broken pentadactyl I just started using uzbl.
[03:47:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:47:50] <cmr> now I just use firefox because I don't care anymore...
[03:48:00] <strcat> cmr: well, dwb is way nicer than uzbl
[03:48:23] <strcat> but the vanilla webkit if missing a lot of stuff you get in chromium/firefox
[03:48:27] <strcat> is missing*
[03:48:37] <strcat> + you're still stuck with ancient flash on linux
[03:48:40] <cmr> Created
[03:48:42] <cmr>     2013-04-08
[03:48:58] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[03:49:03] <cmr> didn't exist then...
[03:49:14] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[03:49:25] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:49:28] <olsonjeffery> ive never used uzbl
[03:49:39] <olsonjeffery> did use pentadactyl/vimperator for some time
[03:49:47] <cmr> but yeah it's crippled.
[03:49:52] <strcat> dwb is a much more robust vimperator with a more responsive/capable UX
[03:49:58] <olsonjeffery> ive just given up on it.. i have 85% of the keyboard based stuff i really want
[03:50:06] <olsonjeffery> and just suck it up and use the mouse like a peasant for the rest
[03:50:12] <cmr> cool
[03:50:12] <olsonjeffery> trackpad, i should say
[03:50:21] <strcat> cmr: but vanilla webkit ;s
[03:50:26] <strcat> crappy devtools, etc.
[03:50:38] *** Joins: oxum (anonymous@30503CF7.72340B2B.520CDC98.IP)
[03:50:38] *** Quits: zz_kimundi (kimundi@moz-3A1FA64A.dip0.t-ipconnect.de) (Ping timeout)
[03:50:39] <olsonjeffery> there was that one emacs-like browser that was user some embeddable gecko
[03:50:43] <olsonjeffery> what was its name?
[03:50:46] <Yurumechan> tjc : my ELI5 attempt?
[03:50:48] <strcat> conkeror
[03:50:50] <olsonjeffery> yeah.
[03:50:56] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:51:03] <strcat> olsonjeffery: dwb is by far the nicest attempt at this kind of thing imo.
[03:51:13] <olsonjeffery> until servo matures! heh.
[03:51:21] <strcat> it even has built-in adblock
[03:51:22] <tjc> Yurumechan: ah, that was you? well-done :-)
[03:51:24] <olsonjeffery> SOON
[03:51:27] <herrwolfe45> how can one (if one should) build/chain an arbitrary set of zip iterators?  I'm trying to build transpose function that can take an arbitrary number of lists.
[03:51:50] <Yurumechan> tjc: I thought s/he doesn't know about programming and still is curious about that
[03:51:56] <olsonjeffery> no osx build :/
[03:52:01] <olsonjeffery> i should switch back to linux
[03:52:03] * strcat wants a sane mail client too :(
[03:52:08] <Yurumechan> so I tried to give some general context
[03:52:16] <tjc> Yurumechan: you never know!
[03:52:19] <olsonjeffery> GTK3?!?! TREASON!!!!!!
[03:52:28] <strcat> olsonjeffery: what else? ;p
[03:52:31] <olsonjeffery> j/k. i actually like gnome3, heh. pretty sure im the only one.
[03:52:39] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:52:56] <strcat> olsonjeffery: gnome3 is nice but not my thing ;p
[03:52:59] <olsonjeffery> gnome3 hate has reached fever pitch on HN. prety amazing.
[03:53:10] <cmr> s/gnome3 //
[03:53:11] <strcat> qt is undeniably a much better toolkit than gtk though ;P
[03:53:14] <strcat> and that gobject stuff is insane
[03:53:18] <olsonjeffery> i really enjoyed it. i drank the kool-ade i guess
[03:53:26] <strcat> olsonjeffery: well, I like where they took their applications
[03:53:32] <olsonjeffery> yeah gobject is madness
[03:53:32] <mcpherrin> moc is insane
[03:53:39] <strcat> imo their new nautilus, gedit, evince, etc. is beautifully elegant - just not my thing.
[03:53:39] <olsonjeffery> but at least rust has a shot at using it
[03:53:48] *** Quits: oxum (anonymous@30503CF7.72340B2B.520CDC98.IP) (Quit: Bye..)
[03:53:51] <olsonjeffery> is there a mature qt c api?
[03:54:00] *** Joins: oxum (anonymous@30503CF7.72340B2B.520CDC98.IP)
[03:54:05] <strcat> I don't like gnome-shell, no window manager should start at 120MiB of memory and climb to 300-500MiB
[03:54:06] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[03:54:07] <olsonjeffery> i haven't used it since 3.8
[03:54:07] <strcat> olsonjeffery: no
[03:54:14] *** Joins: zz_kimundi (kimundi@moz-73713BC5.dip0.t-ipconnect.de)
[03:54:33] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:54:41] *** zz_kimundi is now known as kimundi
[03:54:41] <cmr> olsonjeffery: there isn't one at all.
[03:54:50] <cmr> ... for the most part
[03:54:50] <strcat> qt basically locks you into a choice between C++11 or python
[03:54:51] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:55:06] <olsonjeffery> its the right choice them, i guess
[03:55:07] *** Joins: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu)
[03:55:08] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[03:55:15] <olsonjeffery> we can hope to have c++ abi support post-1.0, i guess
[03:55:18] <olsonjeffery> D did it.
[03:55:31] <cmr> D doesn't support the C++ Qt uses.
[03:55:33] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[03:55:46] <olsonjeffery> C++ doesn't support the C++ Qt uses.
[03:55:56] <strcat> olsonjeffery: they'll get there, it's a legacy thing
[03:56:09] <strcat> C++ pretty much supports what they need now, but it didn't exist when they needed it
[03:56:40] * strcat looks around for a nice mail client
[03:56:46] <speckle> ideally, it would be nice to just port Qt to Rust, but I guess the effort involved is unrealistic.
[03:56:56] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[03:57:28] <strcat> all I want is gpg, imap, nice threading, support for horrific html mail and ideally a keyboard-centric UI...
[03:57:29] <speckle> also, I thought that Qt had some Common Lisp bindings?
[03:57:33] <strcat> apparently that's asking too much
[03:57:39] <strcat> speckle: well there are probably bindings
[03:57:46] <rweir> does recent qt still use moc?
[03:57:59] <speckle> also, IIRC, Qt seems to give you a recent choice of JS with QML
[03:58:00] <strcat> but the only truly good qt bindings are the standard C++ APIs and the python ones
[03:58:10] <strcat> rweir: yes
[03:58:17] <cmr> speckle: the common lisp bindings use smoke.
[03:58:18] <speckle> Ah, so the Qt Python bindings have outstanding quality.  Interesting.
[03:58:21] <strcat> speckle: they replaced the xml with js
[03:58:46] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[03:58:47] <speckle> I never knew which languages had better or worse bindings to Qt, apart from the obvious C++ choice.  Thank you!
[03:58:48] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:59:11] <strcat> pyqt5 is the easiest choice if you have to write a GUI for something
[03:59:20] <strcat> get a beautiful cross-platform UI
[03:59:26] <strcat> endless widgets
[03:59:27] <speckle> It seems like SDL or GLFW seems like the best choice if we want to make a Rust-only GUI toolkit
[03:59:35] <olsonjeffery> pretty much.
[03:59:41] *** Quits: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) (Quit: calvinmetcalf)
[03:59:53] <cmr> speckle: neither of those have anything to do with having a GUI though.
[03:59:53] <speckle> for PyQt, do you use QtCreator? sorry for getting a little off topic
[04:00:04] <strcat> speckle: you can, but I wouldn't
[04:00:10] <cmr> windowing, input, and gl context management.
[04:00:11] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:00:12] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:00:17] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[04:00:24] <cmr> you still need layout and accessibility and everything else.
[04:00:26] <strcat> speckle: qt creator used to make the xml definitions, I guess it makes qml now
[04:00:33] <strcat> haven't looked at it for a long time
[04:00:33] <speckle> SDL/GLFW windowing and input provides you with a cross-platform compatibility layer that you can build a GUI toolkit on top of.
[04:00:37] <strcat> easy enough to just do it yourself
[04:00:37] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:00:38] <cmr> that's what qt and gtk do that nothing else does: accessibility, which is imo the harder problem...
[04:00:52] <strcat> if you make GUIs for a living, I can see why qt creator would save a lot of time
[04:01:02] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[04:01:06] <strcat> more trouble than it's worth if you just want some simple UI with a few dozen widgets
[04:01:15] *** Quits: gmjosack (gary@F91A859E.75E3DBFA.7AB8439E.IP) (Ping timeout)
[04:01:43] <strcat> cmr: qt also provides a whole bunch of wonderful widgets + APIs for random other things
[04:01:46] <speckle> wait, a cross-platform compatibility layer is *easy*?
[04:02:22] <cmr> speckle: no, it's the hardest problem.
[04:02:28] <cmr> oh, compatibility.
[04:02:33] <cmr> sure, they already exist.
[04:02:41] <strcat> qt makes it easy *for* you ;p
[04:02:55] <strcat> even has nice android/ios support...
[04:03:05] *** Joins: lpy|afk (lpy@7360AA58.F09091A8.1348A864.IP)
[04:03:14] <speckle> Well, I guess Wayland/X11 is nice for non-mainstream languages since you can just write a server, instead of having to interface with a C ABI
[04:03:21] <strcat> although I assume you'd have little reuse (if any) of frontend code on android/ios
[04:03:33] <speckle> But wait, I can imagine trying to do Windows OS calls might be a little hard in Rust....
[04:03:48] <cmr> speckle: not really, they're all C or COM.
[04:03:59] <strcat> speckle: X11 and wayland require you to use a C ABI...
[04:04:02] <cmr> COM we'll get easily with structural inheritance, C we already do.
[04:04:04] <strcat> xlib/xcb or wayland's API
[04:04:11] <strcat> but only toolkits are meant to use wayland's API
[04:04:11] <speckle> Ah, I heard rumors that some Windows calls might be C++.  Maybe I misunderstood.
[04:04:12] <new_one> what's the standard way to document a function/method? (comment before or after header?)
[04:04:21] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[04:04:31] <cmr> new_one: doc comment before, three slashes and it will get picked up by rustdoc.
[04:04:41] <cmr> new_one: http://static.rust-lang.org/doc/master/rustdoc.html
[04:04:51] <strcat> speckle: wayland makes you do all the drawing yourself, it just provides stuff like a shared buffer to write pixels into
[04:04:57] <strcat> so you really do need a toolkit
[04:04:59] <strcat> at least sdl2
[04:05:28] <strcat> unless you want to wire up opengles to it yourself
[04:05:37] <speckle> Hehe, but you can write it in Rust, right? Since the wayland protocol is server-client, it should be language-agnostic at some point in the stack
[04:05:46] <cmr> xcb is too.
[04:06:00] <new_one> cmr: thanks, so when defining the function we use //!?
[04:06:01] <cmr> aatch had a generator that made rust from the x11 xml definitions.
[04:06:05] <strcat> speckle: well there's a compositor you talk to... but you talk to it via libwayland
[04:06:16] <strcat> speckle: the IPC is *not* via networking
[04:06:24] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[04:06:24] <speckle> Oh...
[04:06:25] <strcat> the main form of IPC is via shared memory (dri3)
[04:06:31] <cmr> the wayland protocol is well-defined...
[04:06:34] <strcat> it minimizes context switches
[04:06:38] * pcwalton wishes the wayland API had buffer sharing so he didn't have to use DRI directly in servo
[04:06:58] <speckle> I thought you just used GLFW in Servo?
[04:07:03] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[04:07:13] <cmr> speckle: again, GLFW is windowing, input, and gl context management.
[04:07:14] <pcwalton> well… when we want to go multiprocess we'll need some solution for GL buffer sharing
[04:07:20] <pcwalton> and it's nice on every OS but linux :(
[04:07:23] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[04:07:34] <speckle> Ah!
[04:07:43] <speckle> I'm guessing SDL2 doesn't really help with that either
[04:07:48] <strcat> pcwalton: is it really secure anywhere though?
[04:07:56] *** Joins: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net)
[04:07:58] <pcwalton> chromium's solution is to proxy all GL calls to the trusted process but that's high overhead for something the OS should be doing (and I think they're moving away from it for chrome OS)
[04:08:08] <pcwalton> it's secure enough for Safari
[04:08:11] <strcat> I think they'll move to using dri3
[04:08:16] <speckle> Hey, if they have their own OS, they can do what they want. Heh.
[04:08:19] <strcat> pcwalton: but safari runs all the tabs in the same process :P
[04:08:32] <pcwalton> that doesn't make much of a difference from a security POV
[04:08:35] <strcat> chromium actually doesn't use process per tab anymore, it's something like process per domain
[04:08:42] <pcwalton> except for iframes
[04:08:47] <pcwalton> so it ends up not being process per domain
[04:08:54] *** Quits: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[04:08:57] <strcat> because there were some bugs able to take advantage of processes being reused for another site via reusing the tab
[04:08:59] *** Joins: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net)
[04:09:07] <strcat> pcwalton: iframes are icky anyway ;p
[04:09:11] <pcwalton> Site Isolation will fix that…for google properties
[04:09:13] <sp3d> strcat: the Wayland dependence on libwayland /per se/ is pretty weird
[04:09:19] <speckle> They can design the OS in a rendering-friendly way if they want.  If someone made a Rust OS, I think it should be called Rustics (because that sounds kind of like Unix and POSIX)
[04:09:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:09:21] *** Parts: herrwolfe45 (herrwolfe4@moz-3F0F09A7.cm.sunflower.com) ()
[04:09:25] <strcat> sp3d: hm?
[04:09:27] <sp3d> I believe you can write a functioning client without libwayland at all
[04:09:35] <sp3d> but you need data structures from libwayland for EGL
[04:09:35] <strcat> sp3d: well yeah
[04:09:37] <pcwalton> yeah, but once you have the "iframe hole" you really don't have any cross site security at all
[04:09:44] <strcat> you could write an X11 client with xcb/xlib too
[04:09:46] <strcat> but you shouldn't
[04:09:58] <pcwalton> if you compromise the renderer for any site, just embed yourbank.com in an iframe
[04:09:59] <strcat> (and you should use xlib/xcb/libwayland directly unless you're writing a wm/compositor anyway)
[04:10:03] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[04:10:16] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[04:10:18] <sp3d> the Wayland protocol, outside of GL stuff, is a fine thing to use without a library
[04:10:41] <pcwalton> even with Site Isolation, it'll be turned on only for banks and google properties and stuff from what I've read
[04:10:54] <pcwalton> so you can still, say, make a botnet to spam web forums
[04:10:56] <strcat> pcwalton: if you can trick the user into using their bank site via an iframe, you can trick them into using a fake bank site ;p
[04:11:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:11:15] <pcwalton> that's not the point, the point of site isolation is to guard against renderer compromise
[04:11:25] <pcwalton> if you compromise the renderer you don't have to trick the user to do anything
[04:11:36] <pcwalton> just use your shell code to create an iframe
[04:13:00] <strcat> pcwalton: so can you actually get access to the bank site renderer process that way?
[04:13:08] <strcat> or does the iframe use the parent's renderer
[04:13:11] <pcwalton> you can embed the bank site inside your own renderer
[04:13:13] <pcwalton> yeah it does
[04:13:23] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[04:13:36] <pcwalton> Site Isolation is what's designed to fix that but process-per-iframe doesn't scale to huge numbers of frames so it
[04:13:44] <pcwalton> it'll only be turned on for "high value" sites
[04:13:57] <strcat> why don't they just use dri3 in chrome os? :s
[04:14:06] <pcwalton> I think they will
[04:14:12] <pcwalton> forget where I read that
[04:14:14] <strcat> they're only using arm gpus and intel gpus anyway, so no insane massive nvidia/amd binary blobs
[04:14:18] <pcwalton> right
[04:14:25] *** Quits: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net) (Ping timeout)
[04:14:31] <strcat> pcwalton: well, they're also using some prehistorical upstart in chrome os
[04:14:33] <strcat> so who knows!
[04:14:50] <cmr> hey, they never upgraded or migrated?
[04:15:00] <strcat> cmr: no, because upstart is pretty broken
[04:15:05] <cmr> *heh
[04:15:08] <strcat> so they're stuck on this ancient version, and they maintain it themselves
[04:15:10] <sp3d> pcwalton: re: buffer sharing, you've dismissed the 'subcompositor' route?
[04:15:17] <pcwalton> "subcompositor"?
[04:15:38] <sp3d> wayland is for sharing buffers between a compositor and clients
[04:15:52] <pcwalton> the problem is giving an untrusted process access to GL
[04:15:52] <sp3d> so the notion is that your browser can be a compositor/server for clients which render
[04:16:07] <pcwalton> yeah, you need secure buffers for that though
[04:16:21] <pcwalton> with DRI1/DRI2 the untrusted process can just ask for any buffer in the system
[04:16:25] <sp3d> ah, ok, I was just responding to "*pcwalton wishes the wayland API had buffer sharing so he didn't have to use DRI directly in servo*"
[04:16:36] <sp3d> yeah
[04:16:48] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[04:17:04] <pcwalton> last I looked there were problems with wayland where you had to use DRI directly if you didn't want to give a client full access to the wayland server
[04:17:31] <pcwalton> basically I want the renderer process to be totally locked down, all it can do is render using GL into one buffer and talk via IPC to the compositor process
[04:17:47] <strcat> dri3 directly can't be as bad as xlib :P
[04:18:45] <pcwalton> well, it's designed to be secure, that's a start :)
[04:18:55] <pcwalton> giving the renderer access to Xlib is a kind of a non-starter :\
[04:19:08] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[04:19:08] *** ChanServ sets mode: +o jdm
[04:19:09] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:19:14] <sp3d> pcwalton: "full access to the wayland server" meaning Wayland protocol access, or access to all the compositor's buffers?
[04:19:18] <pcwalton> better to just use DRI2 directly where available and proxy GL on nvidia
[04:19:35] <pcwalton> sp3d: I forget
[04:19:43] <sp3d> the subcompositor notion is that you sandbox renderers such that the only server they know is the browser itself
[04:19:45] <strcat> pcwalton: or just don't use gl on nvidia :P
[04:19:59] <pcwalton> I just remember seeing that full wayland clients were allowed to do things that untrusted renderers shouldn't be able to
[04:20:10] <sp3d> right
[04:20:46] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[04:20:53] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[04:21:32] <strcat> pcwalton: afaik they're working on support for that stuff anyway
[04:21:37] <strcat> they recently added opengles
[04:21:40] <pcwalton> yeah, I saw that
[04:21:45] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:22:00] <sp3d> it may be worthwhile to look at it a little more and poke at #wayland or the mailing list, but that approach is nothing like what you could do on other windowing systems
[04:22:23] <pcwalton> it'll be a while before I really dive into multiprocess servo again
[04:22:26] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:22:27] *** Quits: twi (Adium@moz-4B419C76.static.tpgi.com.au) (Quit: Leaving.)
[04:22:47] <pcwalton> last I tried I did it in a few days (though the approach involved full Xlib access for the renderer and didn't work on nvidia)
[04:23:21] <pcwalton> it shouldn't be hard to make servo multiprocess since all the high level logic is message passing already, so I'm happy with waiting
[04:23:27] <sp3d> relatedly
[04:23:43] *** Joins: twi (Adium@moz-4B419C76.static.tpgi.com.au)
[04:24:22] <sp3d> is there someone working on a rust runtime using independent processes instead of threads? or has that been precluded by any design decisions that have been made?
[04:24:27] <sp3d> or even independent machines
[04:25:25] <cmr> sp3d: I don't think the runtime is the right place to put that abstraction.
[04:25:43] <cmr> things are going to be *really* broken since code expects Arc etc to work.
[04:25:48] <sp3d> it seems like the same difference as there is between green and native threads
[04:25:59] <strcat> cmr: well you'd do message passing via some form of serialization to bytes
[04:26:00] <cmr> not at all, since green and native still have shared memory.
[04:26:01] <sp3d> mm, Arc is the kind of decision I'm curious about
[04:26:09] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[04:26:13] <cmr> strcat: not worried about message passing.
[04:26:16] <sp3d> from an API perspective, not an implementation one
[04:26:24] <cmr> if *all* you're using is std::io ... sure.
[04:26:26] <Yurume> sp3d: you cannot use a stock sync::arc, for example.
[04:26:47] <Yurume> it will be worth designing such library (a la Python's multiprocessing) but it won't be compatible to existing task models.
[04:26:59] <strcat> I don't really see a point in multi-processing if you're going to share memory for non-trivial things
[04:27:17] <sp3d> yeah, but is it feasible to "traitize" Arc over the runtime like we do IO and implement one for process- or machine-namespaced tasks?
[04:27:18] <Yurume> well, simple communication?
[04:27:38] <strcat> Yurume: if you're trusting the other processes to maintain the invariants of a data structure, what are you gaining?
[04:28:02] <Yurume> strcat: pluggable architecture.
[04:28:11] <strcat> why is it more pluggable than threads?
[04:28:44] <Yurume> could you change or customize threads in run time?
[04:28:56] <Yurume> (especially, when you are just a user of that program)
[04:29:25] *** Quits: twi (Adium@moz-4B419C76.static.tpgi.com.au) (Quit: Leaving.)
[04:30:35] <Yurume> of course, Python's multiprocessing is another story, since it works around Python's false-y multithreading.
[04:30:53] <Yurume> but to me multiprocessing in Rust would look like... a typed pipe.
[04:31:05] *** Quits: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[04:31:52] <cmr> we had those, they were called protocols.
[04:32:50] <Yurume> and it got removed by #8170.
[04:32:52] <sp3d> those were on their way out when I was familiarizing myself with Rust
[04:32:56] <cmr> yes.
[04:33:00] <pcwalton> i'd be ok with moving them into a library
[04:33:01] <Yurume> well, looking at the issue it can be made into a separate library
[04:33:03] <pcwalton> we have exportable macros now
[04:33:55] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[04:34:39] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:36:47] <sp3d> I guess I should read the arc impl and see what it promises
[04:38:22] <Yurume> sp3d: if you want to make a multiprocessing library, arc will be no use.
[04:38:49] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:38:55] <strcat> you *could* make an arc for multi-processing
[04:38:56] *** Quits: jadbaires (jadrian@F5483711.DC337B28.6119BA41.IP) (Quit: Konversation terminated!)
[04:38:56] <cmr> sp3d: safe, shared read-only data.
[04:39:01] <Yurume> strcat: shared memory?
[04:39:02] <cmr> the issue isn't what it does.
[04:39:05] <strcat> Yurume: yes
[04:39:12] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Ping timeout)
[04:39:15] <Yurume> possible... but meh :)
[04:39:15] <cmr> the issue is you can't *use Arc* as it is today for it.
[04:39:17] <strcat> it wouldn't fit into a secure process model though
[04:39:27] <cmr> sure, a Runtime could provide all the synchronization primitives...
[04:39:31] <cmr> that's really bloating the runtime though.
[04:39:39] <cmr> and is transparent multiprocessing really that important?
[04:39:44] <cmr> I don't think it is.
[04:39:57] <sp3d> it seems within reach, whereas it's simply out of reach for most languages
[04:41:13] <sp3d> and being able to distribute rust systems erlang-style would be an impressive feat and a way to address things like our OOM behavior for reliability-critical systems
[04:41:28] <strcat> it doesn't really address OOM
[04:41:29] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[04:42:06] <sp3d> it wouldn't be a silver bullet, but it seems like it gives you more room to maneuver
[04:42:20] <strcat> sp3d: you have no idea which process will get OOM though
[04:42:27] <sp3d> I mean machine isolation
[04:42:40] <strcat> then you have to deal with network failures, etc.
[04:42:42] <strcat> ;p
[04:42:43] <sp3d> process vs. thread isn't much different w/r/t OOM
[04:42:48] <sp3d> yeah D:
[04:42:56] <strcat> once you're dealing with a distributed system, it needs to handle all kinds of failures
[04:42:59] <sp3d> true
[04:43:54] * sp3d drawing-board I guess
[04:44:26] <Yurume> technically speaking, you *can* some the existing sync primitives (especially Chan/Port) if you run a coordinating task for that purpose.
[04:44:31] <Yurume> you *can* have*
[04:44:38] <Yurume> you *can* have some existing... whatever.
[04:44:47] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[04:45:01] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[04:46:49] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:48:30] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:49:13] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[04:49:34] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:49:55] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:50:15] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:50:27] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:50:36] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[04:54:55] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:54:59] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[04:57:28] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[04:58:11] *** Quits: chromatic (chromatic@moz-AD5202B6.static.nextweb.net) (Quit: Leaving)
[04:59:14] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[05:04:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[05:04:01] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[05:04:29] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:04:38] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:05:18] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Client exited)
[05:06:18] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[05:09:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[05:09:22] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:09:22] *** ChanServ sets mode: +ao dherman dherman
[05:09:47] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:11:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[05:11:24] *** Quits: mib_rpm63i (Mibbit@2E5539B4.C1DAD4DA.971A23E0.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:12:54] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Connection reset by peer)
[05:13:11] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:13:11] *** ChanServ sets mode: +ao dherman dherman
[05:19:21] *** Joins: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP)
[05:22:43] *** lpy|afk is now known as lpy
[05:25:39] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[05:27:31] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[05:28:47] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[05:31:33] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[05:31:37] *** Quits: KindOne (KindOne@591D6DC4.50CD9421.34F73994.IP) (Ping timeout)
[05:33:29] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Ping timeout)
[05:33:49] *** Joins: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP)
[05:34:34] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:35:01] *** Quits: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP) (Quit: victorporof)
[05:35:41] *** Joins: gowthamanb (Mibbit@D975DF62.F8D1376A.8B6C1D65.IP)
[05:35:44] *** Joins: KindOne (KindOne@moz-9898D145.dynamic.ip.windstream.net)
[05:36:03] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[05:36:22] *** Joins: al-maisan (al-maisan@moz-48CDD61A.cust.bluewin.ch)
[05:36:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:36:43] *** Joins: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP)
[05:38:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:38:22] *** Joins: froglegstew (Mibbit@A2E3AF1B.9B80AA7B.3464FAC3.IP)
[05:39:51] <froglegstew> Is there a way to have the standard libraries (librustc, libflate, etc) compiled for a specific CPU? Like -C target-cpu but when building rust itself?
[05:41:57] <WebeWizard> froglegstew, you mean like a gcc switch to compile for another architecture?
[05:42:40] *** Joins: sankha93 (sankha93@71F19D4F.49C43973.1C37C358.IP)
[05:42:43] <Yurume> ./configure --target=<triple>?
[05:42:47] <Yurume> or similar.
[05:43:54] <cmr> froglegstew: you can export the RUSTFLAGS env var but it's not going to help...
[05:44:11] <froglegstew> I don't think --target=<triple> actually selects a processor, and I don't think it allows disabling specific attributes
[05:44:40] <strcat> froglegstew: there's a way to pass switches to rustc
[05:44:45] *** Quits: al-maisan (al-maisan@moz-48CDD61A.cust.bluewin.ch) (Ping timeout)
[05:44:48] <Yurume> ah, so for example do you want to compile specifically for SSE3 support etc?
[05:44:56] <Yurume> with*
[05:45:06] <froglegstew> Yes. Or disable avx & avx2
[05:45:25] <strcat> avx/avx2 aren't on as part of the base x86_64 target anyway
[05:45:39] <strcat> you're most likely going to set the target CPU, not individual features
[05:46:27] <froglegstew> On ec2 instances, compiling rusts fails with illegal instruction because even avx is not supported (even though advertised in /proc/cpuinfo. It only works with HVM, not paravirtualization)
[05:46:47] <cmr> and you've determined that the insn is avx?
[05:46:55] <froglegstew> yes
[05:47:14] <strcat> froglegstew: it's still not enabled by default, only if you set the target CPU to core-avx2 or whatever
[05:47:21] <Yurume> hmm? sounds very strange. what rustc -v does say?
[05:47:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:47:27] *** Joins: gmjosack (gary@moz-CB7AA3B8.hsd1.ca.comcast.net)
[05:47:29] <froglegstew> It is.
[05:47:30] <Yurume> (it gives a host triple)
[05:47:35] <strcat> froglegstew: nope, it's not enabled by default
[05:47:49] <strcat> it's not part of the base x86_64 target and rust doesn't build CPU-specific code
[05:47:54] <froglegstew> The same issue was reported for the Julia language
[05:48:01] <strcat> in fact, rustc has no -march=native equivalent
[05:48:03] <froglegstew> It's apparently a bug that has been recently fixed in llvm
[05:48:09] <cmr> is the avx insn in llvm itself?
[05:48:22] <Yurume> strcat: -C target-cpu=<cpu>?
[05:48:29] <strcat> Yurume: there's no 'native'
[05:48:31] <Yurume> ah
[05:48:34] *** Quits: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[05:48:38] <strcat> it only ever builds for a target you specify, it never detects
[05:48:41] <froglegstew> If I use this patch to llvm, rust compiles just fine https://lists.fedoraproject.org/pipermail/scm-commits/2011-April/597138.html
[05:49:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:49:10] <froglegstew> If I don't apply this and just run ./configure && make install, I get an illegal instruction when oxydizing librustc
[05:49:33] <cmr> which stage
[05:49:47] <froglegstew> 2nd I think
[05:49:55] *** Joins: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP)
[05:50:26] <froglegstew> Also see https://github.com/JuliaLang/julia/issues/3263
[05:50:28] <froglegstew> same issue with Julia
[05:50:58] <froglegstew> Solved with llvm 3.3
[05:51:11] <cmr> we're using an llvm past 3.4
[05:51:51] <froglegstew> Found this too https://gist.github.com/jedisct1/8984243
[05:51:58] <froglegstew> this one is for rust apparently for the same issue
[05:52:48] <cmr> eugh you've got to be kidding.
[05:52:51] <cmr> it's checking for support at runtime?
[05:52:59] <strcat> I don't see why that would ever trigger
[05:53:03] <strcat> cmr: that's the only way it would hit it
[05:53:16] <cmr> it really should not be doing that.
[05:53:21] <cmr> but I'm looking at the patch
[05:53:21] <strcat> cmr: it can do that
[05:53:21] <froglegstew> Try it on an ec2 instance that doesn't support avx http://aws.amazon.com/ec2/instance-types/instance-details/
[05:53:24] <cmr> and it's right there.
[05:53:35] <strcat> cmr: it's incorrect to advertise avx if it's not there, so it's not a bug in rust/LLVM
[05:53:35] <Yurume> does llvm detect the host features on configure or make?
[05:53:37] <cmr> strcat: what about when cross compiling?
[05:53:49] <strcat> cmr: that's not what's happening.
[05:53:57] <strcat> cmr: it's not detecting and building a CPU-specific binary
[05:53:58] <cmr> ok it checks the SSE level
[05:54:00] <cmr> that's fine.
[05:54:02] <strcat> we don't do that, and LLVM doesn't do that
[05:54:24] <strcat> the only way to get rustc to build a CPU specific binary is passing target-cpu (or setting features yourself)
[05:54:37] <strcat> various things may automatically detect the CPU at runtime and dispatch to the right function
[05:54:42] <cmr> I don't think that's true, looking at the source.
[05:54:44] <strcat> i.e. they ship multiple versions
[05:54:52] <strcat> cmr: it is true.
[05:54:58] <strcat> cmr: we don't build CPU-specific binaries by default
[05:54:59] <froglegstew> cat /proc/cpuinfo returns avx
[05:55:02] <froglegstew> on these instances
[05:55:05] <froglegstew> but avx doesn't work
[05:55:22] <strcat> froglegstew: so they're buggy, we're going to have to perform this check ourselves for libgreen anyway
[05:55:35] <strcat> it needs to swap AVX/AVX-512 registers if they are there
[05:56:03] <froglegstew> The cpu itself supports avx, but xen doesn't (except in slow hvm emulation)
[05:56:15] *** Quits: sankha93 (sankha93@71F19D4F.49C43973.1C37C358.IP) (Ping timeout)
[05:56:25] * strcat shrugs
[05:56:50] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[05:57:07] <strcat> rust isn't going to disable AVX support in LLVM or other libraries it depends on
[05:57:13] <strcat> and we are *not* building CPU-specific code anyway
[05:57:23] <strcat> it may be dispatching to a CPU-specific function at runtime
[05:57:37] <strcat> but it *is* performing a check at runtime, not hard-wiring a binary for a specific CPU at compile-time
[05:57:53] <strcat> and rust is going to need to pick up support for swapping AVX registers
[05:57:56] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[05:58:04] <froglegstew> what check does it do?
[05:58:11] <froglegstew> checking cpuid?
[05:58:17] <strcat> it doesn't swap AVX registers yet, it's an unfixed bug
[05:58:28] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[05:58:51] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:00:32] *** Parts: gowthamanb (Mibbit@D975DF62.F8D1376A.8B6C1D65.IP) ()
[06:00:33] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:01:17] <cmr> strcat: in the constructor for X86Subtarget it's using cpuid to check for features if either target-cpu or target-features are not passed. Are we explicitly passing either?
[06:01:25] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[06:01:33] <strcat> cmr: we are not compiling platform specific code
[06:01:38] <strcat> dunno how many times I need to say it
[06:01:41] <strcat> look at the IR, look at the asm
[06:01:44] <strcat> turn on target-cpu
[06:01:49] <strcat> look at it start outputting AVX instructions
[06:01:54] <strcat> we don't do it by default, we don't do it in the build
[06:02:02] <strcat> rustc has no equivalent to -march=native
[06:02:05] *** Joins: espindola (espindola@moz-F0FBD3B4.dsl.teksavvy.com)
[06:02:21] <strcat> libraries rust uses might use GNU IFUNC or other methods to dispatch to platform-specific code
[06:02:35] <strcat> but rust itself *never* generates code specific to the CPU by default
[06:02:48] <strcat> you need to pass target-cpu (or enabled features by hand) or it just builds for the triple
[06:03:23] <froglegstew> How to pass target-cpu when building rust itself?
[06:03:46] <strcat> froglegstew: you only need to pass it to build code for something more specific than the target triple
[06:04:04] <strcat> the target triple doesn't include SSE3, SSE4, AVX, [...]
[06:04:12] <strcat> it only includes SSE2
[06:04:35] <strcat> rustc doesn't do detection of these features, it actually can't, there is no equivalent to march=native
[06:04:38] <strcat> the bug isn't what you think it is
[06:05:00] <cmr> ok, we're passing generic to target-cpu by default, as we should be.
[06:05:22] <cmr> which is why the patch you linked should do nothing.
[06:05:34] <cmr> if we weren't it'd be auto-detecting, but we are, so it isn't.
[06:05:55] <froglegstew> It definitely does something. rust doesn't compile without it. Try it on ec2.
[06:05:58] <strcat> cmr: LLVM is still allowed to generate code that's platform-specific as long as it includes a check
[06:06:03] <strcat> at runtime
[06:06:09] <strcat> as in the binary isn't platform specific
[06:06:15] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:06:16] <strcat> because it has the check included in it
[06:06:18] <cmr> sure.
[06:06:23] <strcat> I seriously doubt it knows how to do that though
[06:06:25] <cmr> I'm specifically refering to the patch.
[06:06:36] <cmr> the patch doesn't touch any code that could possibly do that.
[06:07:02] <strcat> cmr: rust uses libraries that do this though
[06:07:05] <strcat> libc certainly does it
[06:07:10] <cmr> perhaps
[06:07:15] <cmr> froglegstew: what's the stackframe when it dies.
[06:07:28] <strcat> compiler-rt might do it
[06:07:44] <strcat> but that patch wouldn't change it
[06:07:59] <cmr> yup
[06:08:22] <froglegstew> I am going to recompile it to send you the stack frame. But it's very slow on a small instance.
[06:08:23] <cmr> froglegstew: RUSTFLAGS="-C target-feature=-avx" to test that, fwiw.
[06:08:36] <froglegstew> oh, good to know
[06:08:37] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[06:08:49] <cmr> the snapshot should be exhibiting the behavior too though, we've snapshotted compiler-rt...
[06:09:02] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:09:18] <cmr> and there hasn't been an llvm change.
[06:09:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:09:44] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[06:09:48] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:11:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:11:51] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[06:13:56] *** Quits: cy (user@moz-6964FF68.airbears2.berkeley.edu) (Ping timeout)
[06:15:50] *** Joins: cy (user@moz-6964FF68.airbears2.berkeley.edu)
[06:16:43] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:17:30] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[06:17:44] *** Quits: cy (user@moz-6964FF68.airbears2.berkeley.edu) (Ping timeout)
[06:20:14] *** Joins: benjamin_ (benjamin@moz-B22EF703.dip0.t-ipconnect.de)
[06:21:17] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:21:32] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:21:33] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:21:47] *** Joins: victorporof_ (victorporo@71D2639B.1208AAEA.91651C13.IP)
[06:22:22] *** Quits: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP) (Ping timeout)
[06:22:57] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[06:23:13] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:26:31] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Quit: Leaving)
[06:28:02] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:29:15] *** Quits: heftig (heftig@moz-C77A3C8E.dip0.t-ipconnect.de) (Quit: Quitting)
[06:29:53] <arrrrrrrrr> What's with all that failing in the stdlib? Why fail whene there are product types?
[06:30:27] <Yurume> what do you mean?
[06:30:41] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:31:03] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[06:31:03] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[06:31:08] <arrrrrrrrr> *sum types
[06:31:20] <arrrrrrrrr> Yurume: Functions calling fail
[06:31:22] *** Quits: victorporof_ (victorporo@71D2639B.1208AAEA.91651C13.IP) (Ping timeout)
[06:31:43] <Yurume> uh... specificially what function?
[06:31:49] <arrrrrrrrr> CString
[06:31:55] <arrrrrrrrr> lots of them
[06:31:57] *** Joins: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP)
[06:32:21] <Yurume> ah, indeed
[06:32:41] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:32:55] <Yurume> I guess a null CString is comparable to unwrap() everywhere
[06:33:45] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[06:34:10] <Yurume> and CString is not for the casual uses anyway, so the user should check for is_null if he/she is not sure if it's non-null
[06:34:23] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:34:55] <arrrrrrrrr> as long as there are no libraries the casual user will have to use c libraries
[06:37:15] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:37:17] <cmr> Yurume: the prevailing style for a long time was to just fail.
[06:37:23] <cmr> erm
[06:37:25] <cmr> @ arrrrrrrrr
[06:37:36] <arrrrrrrrr> and in the future?
[06:37:48] <cmr> result + option
[06:37:56] <arrrrrrrrr> that's better
[06:38:16] <Yurume> cmr: Result is now the preferred style, but for CString I guess somewhat different
[06:38:22] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[06:38:31] <Yurume> like *-ptrs
[06:38:45] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[06:39:07] <Yurume> actually, could we just ensure CString being non-null and change all possible nullable CString return types to Option<CString>?
[06:39:44] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:39:47] <eddyb> need NonNullPtr<T> or NonZero<*T>
[06:40:00] <Yurume> all implementors of ToCStr are non-nullable references or structures
[06:40:02] <Yurume> rightnow
[06:40:03] <Yurume> right now*
[06:40:08] <cmr> eddyb: why would that help for CString
[06:40:11] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:40:38] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[06:40:48] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:40:49] <eddyb> cmr: actually, nevermind
[06:40:50] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:41:00] <eddyb> I thought Option<CString> would've been a nullable pointer
[06:41:01] *** Joins: victorporof_ (victorporo@71D2639B.1208AAEA.91651C13.IP)
[06:41:11] *** Joins: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP)
[06:41:28] <cmr> nah
[06:41:48] <Yurume> > Fails the task if the receiver has an interior null.
[06:41:49] *** Joins: cy (user@moz-6964FF68.airbears2.berkeley.edu)
[06:41:52] *** Quits: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP) (Ping timeout)
[06:41:52] <Yurume> interior '\0'?
[06:41:59] <cmr> yes.
[06:42:05] <cmr> otherwise the CString would be truncated.
[06:42:12] <cmr> C's view of it at least.
[06:42:25] <cmr> it should also say NUL
[06:42:27] <cmr> not null.
[06:42:40] <Yurume> I thought it can return a null CString for a second
[06:43:04] <cmr> but I can't think of a situation when you could recover from getting None from CString::new ...
[06:45:03] *** Quits: cy (user@moz-6964FF68.airbears2.berkeley.edu) (Ping timeout)
[06:45:55] *** Joins: cy (user@moz-6964FF68.airbears2.berkeley.edu)
[06:46:39] *** Quits: espindola (espindola@moz-F0FBD3B4.dsl.teksavvy.com) (Quit: Leaving...)
[06:47:52] *** Quits: victorporof_ (victorporo@71D2639B.1208AAEA.91651C13.IP) (Ping timeout)
[06:48:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:48:14] *** Joins: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP)
[06:48:16] <arrrrrrrrr> cmr: Are you still working on man pages?
[06:48:28] <cmr> arrrrrrrrr: I haven't touched it in a while.
[06:49:48] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:51:33] *** Quits: cy (user@moz-6964FF68.airbears2.berkeley.edu) (Ping timeout)
[06:52:41] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[06:53:48] *** Joins: Ferreus (ferreus@moz-2916377C.dip0.t-ipconnect.de)
[06:56:23] *** Joins: fabiand (fabiand@moz-B6EE27B1.adsl.alicedsl.de)
[06:56:32] <sfackler> wow, the Rust example in highlight.js
[06:56:39] <sfackler> 's docs is incredibly out of date: http://highlightjs.org/static/test.html
[06:57:03] <cmr> wow
[06:57:05] <cmr> export lists.
[06:57:20] <eddyb> do I even want to click?
[06:57:34] <cmr> it's honestly not that bad.
[06:58:05] *** Quits: darthdeu (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Connection reset by peer)
[06:58:06] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[06:58:09] <eddyb> pure, lack of pointers for str...
[06:58:14] *** Joins: darthdeu (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[06:58:14] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[06:58:16] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Connection reset by peer)
[06:58:33] <eddyb> cmr: one of the most annoying things there is the lowercase, actually
[06:58:59] *** Joins: victorporof_ (victorporo@71D2639B.1208AAEA.91651C13.IP)
[06:59:50] *** Quits: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP) (Ping timeout)
[07:00:08] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[07:01:24] <jdm> map::hashtbl
[07:01:27] <jdm> those were the days
[07:01:37] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[07:01:47] <jdm> mnmlsm ftw
[07:02:18] <sfackler> tbl pls
[07:02:58] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Client exited)
[07:03:06] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[07:06:59] *** Joins: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP)
[07:08:20] *** Quits: victorporof_ (victorporo@71D2639B.1208AAEA.91651C13.IP) (Ping timeout)
[07:09:15] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:09:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:11:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:15:10] *** Quits: new_one (new_one@B720B8AC.381E905C.B3C0173E.IP) (Client exited)
[07:24:38] *** Joins: squiggy (Mibbit@7CED018D.3C6B607.6609B4CE.IP)
[07:25:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:25:15] <squiggy> hi
[07:25:40] *** Quits: darthdeu (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[07:26:15] *** Quits: squiggy (Mibbit@7CED018D.3C6B607.6609B4CE.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:26:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:27:32] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[07:30:15] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[07:30:51] *** Joins: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[07:30:51] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Connection reset by peer)
[07:32:46] *** Quits: dmac1 (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[07:37:40] *** Quits: StarLight (StarLight@moz-938A5C9C.dynamic.avangarddsl.ru) (Ping timeout)
[07:38:16] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:41:51] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[07:42:06] *** Joins: StarLight (StarLight@moz-E706041E.dynamic.avangarddsl.ru)
[07:43:32] *** Joins: marianoguerra (marianogue@moz-AB0F337D.dip0.t-ipconnect.de)
[07:48:13] *** Quits: GeneralMaximus (ankur@A804DE4B.7D84F5AD.260B031E.IP) (Ping timeout)
[07:48:53] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:50:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:59:07] *** Joins: cy (user@moz-83728A1C.hsd1.ca.comcast.net)
[07:59:59] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[08:01:23] *** Quits: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP) (Ping timeout)
[08:01:29] *** Joins: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net)
[08:01:33] *** Quits: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP) (Quit: Leaving...)
[08:01:34] *** Joins: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP)
[08:02:22] *** Joins: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl)
[08:04:40] *** Quits: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP) (Quit: Bye)
[08:04:43] *** Joins: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP)
[08:04:54] *** Quits: dmac (dmac@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[08:05:20] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:05:28] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:05:30] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[08:05:45] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[08:05:46] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:05:47] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[08:05:50] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[08:05:50] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[08:06:16] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[08:06:59] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[08:08:19] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[08:08:28] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Quit: Leaving.)
[08:09:03] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:09:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:10:09] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[08:10:49] *** Quits: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP) (Ping timeout)
[08:11:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:11:18] *** Joins: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de)
[08:12:25] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[08:14:05] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:15:39] *** Joins: GeneralMaximus (ankur@A804DE4B.7D84F5AD.260B031E.IP)
[08:18:25] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[08:19:12] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:19:52] *** Joins: agarnier (agarnier@B49B97BC.DF317A48.8108A302.IP)
[08:20:05] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[08:20:15] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:20:16] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[08:20:17] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:21:02] *** Joins: skade (skade@moz-2D3A2BB4.dip0.t-ipconnect.de)
[08:21:21] *** Joins: Ms2ger (Ms2ger@2D9CC218.4F18F1F3.F15B0BB3.IP)
[08:22:20] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:22:39] *** Joins: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za)
[08:22:55] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[08:23:20] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[08:24:00] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:24:27] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[08:25:28] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[08:26:06] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:27:35] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[08:29:46] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:31:32] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[08:32:45] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[08:34:32] *** Quits: dignan (dignan@37A38C73.9CE91D06.839F6EC0.IP) (Ping timeout)
[08:34:40] *** Quits: oldmanstan (glesica@moz-CA910636.net) (Ping timeout)
[08:36:37] *** Joins: arturo (Thunderbir@moz-49DB8384.pool.mediaways.net)
[08:37:05] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140216030203])
[08:37:44] *** Joins: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP)
[08:38:31] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Quit: Bye)
[08:43:02] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[08:43:06] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[08:43:14] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[08:44:36] *** Joins: dignan (dignan@37A38C73.9CE91D06.839F6EC0.IP)
[08:44:43] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[08:45:25] *** Joins: oldmanstan (glesica@moz-CA910636.net)
[08:48:52] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[08:48:56] *** Quits: froglegstew (Mibbit@A2E3AF1B.9B80AA7B.3464FAC3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:49:37] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:49:59] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:51:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:53:34] *** Quits: oxum (anonymous@30503CF7.72340B2B.520CDC98.IP) (Quit: ...)
[08:54:05] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[08:54:41] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:57:08] *** Joins: alexherbo2 (alexherbo2@moz-18DB4357.w83-199.abo.wanadoo.fr)
[08:57:33] *** Quits: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP) (Quit: victorporof)
[08:58:20] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-35BCD87E.dynamic.qsc.de) (Quit: arrrrrrrrr)
[08:58:56] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:00:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:00:34] *** Joins: alkino (alkino@moz-5158FCA3.w92-151.abo.wanadoo.fr)
[09:01:08] *** Quits: arturo (Thunderbir@moz-49DB8384.pool.mediaways.net) (Ping timeout)
[09:03:12] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:05:25] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[09:09:36] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[09:11:16] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[09:12:18] *** Joins: eibwen (kvirc@moz-4A816755.dip0.t-ipconnect.de)
[09:12:21] *** Joins: nooblit (Mibbit@moz-CBA73F0A.dhcp.ftwo.tx.charter.com)
[09:13:30] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[09:13:55] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[09:16:36] *** flaper87|afk is now known as flaper87
[09:16:39] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:17:33] *** Joins: lpy (lpy@9A6870A6.F09091A8.1348A864.IP)
[09:19:41] *** Joins: twi (Adium@moz-4B419C76.static.tpgi.com.au)
[09:21:10] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Quit: Bye)
[09:22:31] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:24:52] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[09:25:15] *** Quits: alkino (alkino@moz-5158FCA3.w92-151.abo.wanadoo.fr) (Ping timeout)
[09:25:40] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[09:27:00] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:27:28] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:28:48] *** Joins: rca (rcatolino@moz-D6F89A8C.adsl.proxad.net)
[09:29:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:30:59] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:31:13] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:32:38] *** Quits: Ms2ger (Ms2ger@2D9CC218.4F18F1F3.F15B0BB3.IP) (Quit: bbl)
[09:34:10] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[09:36:20] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:37:09] *** Joins: _k0rn_ (Mibbit@moz-B2001ED9.lightspeed.rcsntx.sbcglobal.net)
[09:37:40] <_k0rn_> i know this chat about rust but anyone in here know c++ to help me with a stupid error 
[09:38:51] <_k0rn_> http://pastebin.com/jK64tMYd   the link to my issue if anyone kind enough to help a fellow out
[09:39:48] <eddyb> _k0rn_: ##c++ on freenode should be able to help you faster, fwiw
[09:39:55] <eddyb> _k0rn_: ah, lol, I see the problem
[09:40:08] <nooblit> lol
[09:40:09] <eddyb> you say you're using "console application" - check that again
[09:40:18] <nooblit> hey jermy
[09:40:24] <nooblit> jer
[09:41:03] <eddyb> it's not about classes, most of the code is irrelevant. possibly all of it is irrelevant
[09:41:33] <nooblit> Is it the header or compiler?
[09:41:41] *** Quits: DAddYE_ (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:41:58] <_k0rn_> header is fine lol
[09:42:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:42:19] <eddyb> nooblit: the error is what I would expect to see when giving it a normal C++ program when in "window application" mode
[09:42:30] <Ralith> eddyb: ##c++ won't appreciate non-standards-relevant questions being directed their way
[09:42:53] <eddyb> then ##workingset?
[09:43:05] <Ralith> they're POSIX, aren't they?
[09:43:12] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[09:43:16] <eddyb> idk
[09:43:17] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[09:43:23] <Ralith> pretty sure they are
[09:43:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:44:32] <nooblit> You're irrelevant, you hear that _k0rn_ lol
[09:44:40] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[09:44:51] <_k0rn_> and u think i care lol 
[09:45:46] <nooblit> Did you check the version?
[09:45:50] <eibwen> can I somehow take a pointer to a slice so I can modify  some slice in a function?
[09:46:07] <huon> eibwen: &mut your_slice?
[09:46:16] <eibwen> just &mut &[T]?
[09:46:38] <nooblit> undefined reference to `WinMain@16
[09:46:42] <_k0rn_> working on it dan lol
[09:46:43] <Yurume> _k0rn_: check the compiler configuration very, very carefully.
[09:46:46] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:47:07] <Yurume> if there is a custom compiler options field, check if it contains `-mwindows`.
[09:47:10] <eibwen> nooblit: your compiler is expecting a WinMain function, so something with your compiler configuration isn't correct
[09:47:12] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[09:48:06] <nooblit> eibwen sorry, that was for _K0ron_ , yeah I thought it was something with his compiler.
[09:48:15] <huon> eibwen: are you trying to modify which data a slice points to, or actually modify the elements?
[09:48:41] <eibwen> huon: the former
[09:49:37] <huon> eibwen: yes, &mut &[T]
[09:49:45] <huon> you may need lifetimes to make it work properly
[09:49:55] <nooblit> ah
[09:50:09] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:50:18] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:50:23] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:50:59] *** Joins: al-maisan (al-maisan@64FB5EA9.7E16DAE8.FD9D6DD1.IP)
[09:51:08] <_k0rn_> ty ty ty ty i got it :| 
[09:51:14] <_k0rn_> damn i feel like a idiot lmao
[09:51:29] <nooblit> what was it?
[09:52:06] <nooblit> i see, why are you texting my phone?
[09:52:09] <_k0rn_> some how when i made a class it set my compiler to something different lol
[09:52:39] <eddyb> gg
[09:52:42] <_k0rn_> cause u call my ass and i didn't know haha
[09:52:55] <_k0rn_> ty eddy and everyone else lol
[09:53:00] <nooblit> Ah, I thought it might have been the compiler, that why I was thinking it was the version incompatibility or something 
[09:53:32] <_k0rn_> going to be hard to re train my self back in to this haha
[09:54:10] *** Joins: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net)
[09:54:24] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[09:54:30] *** Quits: alexherbo2 (alexherbo2@moz-18DB4357.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[09:54:52] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Quit: Bye)
[09:55:03] *** Joins: alexherbo2 (alexherbo2@moz-18DB4357.w83-199.abo.wanadoo.fr)
[09:56:28] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[09:57:02] <Kroisse> Can I use rust to make iOS or Android applications?
[09:57:21] <eddyb> I think someone managed to make it work on iOS
[09:58:01] *** Joins: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net)
[09:58:06] <eddyb> and android is supported, but I don't know if anyone has written bindings for NDK
[09:58:13] <WebeWizard> Wiizzaaarrrd
[09:58:36] *** pmoore|away is now known as pmoore
[09:58:48] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[09:59:04] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:59:39] <Kroisse> that is, this could be a tough job
[09:59:47] <Kroisse> hmmm.....
[10:00:00] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-35BCD87E.dynamic.qsc.de)
[10:00:09] <WebeWizard> Anyone know if rust has a gzip stream yet?
[10:00:42] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[10:00:43] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[10:01:19] <eddyb> WebeWizard: there's rust-zlib, but it doesn't have any compression/decompression support, last I checked :/
[10:01:33] <eddyb> the name is a bit bad, since it's not actually a zlib binding
[10:01:41] <arrrrrrrrr> is C you often have the following kind of function:
[10:01:43] <arrrrrrrrr> https://gist.github.com/anonymous/b859cfdf9224abe96dc7
[10:01:48] <arrrrrrrrr> how would you wrap that in rust?
[10:01:54] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:02:14] *** Quits: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl) (Ping timeout)
[10:03:30] <eddyb> arrrrrrrrr: well, in "user_data", you could have a closure env ptr or a trait data ptr...
[10:03:46] *** Joins: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl)
[10:04:13] <eddyb> too bad user_data is not the first argument, this style makes it a bit harder to wrap
[10:04:17] <eddyb> but ~~Trait is possible
[10:04:53] <arrrrrrrrr> I don't think I understand. Example?
[10:04:56] *** Quits: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Ping timeout)
[10:04:58] *** Joins: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se)
[10:05:23] <eddyb> arrrrrrrrr: the easiest solution is to pass a ~~Trait as the user_data
[10:05:53] <eddyb> and have the callback call a method on the trait
[10:06:18] <arrrrrrrrr> What's ~~?
[10:06:23] <eddyb> two ~?
[10:06:26] <arrrrrrrrr> yes
[10:06:29] <diverse> double allocation
[10:06:30] <eddyb> that's what it is
[10:06:49] <eddyb> it doesn't mean anything special, it's just two unique pointers
[10:07:13] <eddyb> where's rusti when you need to make a silly demo?
[10:07:15] *** Quits: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:07:30] <eddyb> arrrrrrrrr: actually, you don't need ~~Trait, you can monomorphize the callback
[10:07:48] <eddyb> and then you only need to pass ~T as user_data
[10:08:28] *** Quits: _k0rn_ (Mibbit@moz-B2001ED9.lightspeed.rcsntx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:08:29] <arrrrrrrrr> who owns the object after that?
[10:08:41] <eddyb> C
[10:08:42] <Yurume> arrrrrrrrr: what do you want to pass through cb?
[10:08:50] <Yurume> ah
[10:09:13] <arrrrrrrrr> Yurume: Whatever the user wants.
[10:09:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:09:22] <Yurume> so the callback can be called whenever possible?
[10:09:27] <arrrrrrrrr> multiple times
[10:09:42] <eddyb> Yurume: I would think that's implied
[10:10:07] <eddyb> arrrrrrrrr: you have to recover the object before destroying whatever context holds the callback and user_data
[10:10:09] <Yurume> eddyb: no, my point here is that C technically owns the callback but the API may have a well-defined lifetime.
[10:10:35] <eddyb> for one-shots?
[10:10:58] <arrrrrrrrr> does rust support extern "C" functions with type parameters?
[10:11:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[10:11:03] *** Joins: _danielsucks_ (Mibbit@moz-B2001ED9.lightspeed.rcsntx.sbcglobal.net)
[10:11:07] <Yurume> well, if it were a decompression API (for example), callbacks are no longer called when the decompression finishes.
[10:11:08] <nooblit> ;)
[10:11:13] <_danielsucks_> lol
[10:11:14] <eddyb> arrrrrrrrr: I would be surprised if it didn't
[10:11:29] <arrrrrrrrr> eddyb: It didn't some time ago (compiler bug)
[10:12:04] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:12:06] <eddyb> meant to fix extern "C" rust functions and I think I know how... it's just some messy trans code to deal with
[10:12:12] <_danielsucks_> ty daniel as well
[10:12:37] <Yurume> uh, could anyone with an op change the link to conduct so that it ends with #wiki-conduct and not #conduct?
[10:12:37] <eddyb> strcat: do you have IRC powers?
[10:12:54] <Yurume> (the fragment has been changed, silly Github)
[10:13:07] *** Quits: _danielsucks_ (Mibbit@moz-B2001ED9.lightspeed.rcsntx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:13:20] *** Quits: kvanb (kvanb@moz-DC8F8BBC.lns1.lon.bigpond.net.au) (Quit: kvanb)
[10:13:45] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[10:15:05] <Yurume> eddyb: ah, so "daniel" in that nick referred to him?
[10:15:09] <Yurume> I never knew.
[10:15:22] *** Quits: arpd (ben@moz-991ADA30.ripe.li) (Ping timeout)
[10:15:24] *** Joins: arpd (ben@moz-991ADA30.ripe.li)
[10:15:26] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[10:15:26] <eddyb> I didn't actually get that :/
[10:15:26] *** Joins: canhtak (canhtak@moz-3C5DEB35.wl.t.ulaval.ca)
[10:15:43] *** Joins: _k0rn_ (Mibbit@moz-B2001ED9.lightspeed.rcsntx.sbcglobal.net)
[10:15:52] <eddyb> http://admixturemap.paintmychromosomes.com/ interesting...
[10:15:53] <_k0rn_> i was _danielsucks_ lol
[10:16:00] <nooblit> Yurume "daniel" is me, he is just joking
[10:16:03] <Yurume> ah?
[10:16:08] <_k0rn_> yeah friends in real life lo
[10:16:13] <_k0rn_> lol*
[10:16:20] <nooblit> He is kinda slow..
[10:16:20] <Yurume> that *was* a surprise :p
[10:16:22] * eddyb slaps _k0rn_ around a bit with a trout
[10:16:40] <nooblit> He's young.
[10:16:50] *** Joins: Polder (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[10:17:00] <_k0rn_> 26 not young 
[10:17:05] <Yurume> but yeah, please refrain from excessive joking as we (or at least I) cannot figure out what's going on
[10:17:12] *** Joins: novabyte (novabyte@65CB01.7EE6203.B8D52E29.IP)
[10:17:27] <_k0rn_> lol i try
[10:17:35] *** Quits: canhtak (canhtak@moz-3C5DEB35.wl.t.ulaval.ca) (Ping timeout)
[10:17:46] <eddyb> jokes are fine. acting like you're 13 isn't fine
[10:17:53] <nooblit> Yurume, Sure, thanks for the help as well :)
[10:18:06] <_k0rn_> :p :)
[10:18:08] <arrrrrrrrr> what's the point behind struct T {} not being allowed?
[10:18:17] <eddyb> arrrrrrrrr: it's struct T;
[10:18:25] <arrrrrrrrr> yeah, why?
[10:18:35] <eddyb> because it doesn't have contents
[10:18:53] <Polder> the manual says that the syntax for supertraits is "trait Circle : Shape Eq { }" but that doesn't compile.
[10:19:05] <eddyb> Polder: you're missing a +
[10:19:07] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[10:19:13] <eddyb> it's trait Circle: Shape + Eq
[10:19:17] <Polder> that doesn't compile either
[10:19:22] <eddyb> arrrrrrrrr: you don't construct it as T {}, but rather T is a value of type T
[10:19:28] <eddyb> Polder: what's the error?
[10:20:02] <Polder> with pluses it's "wrong number of type arguments, expected 2 but found 0"
[10:20:21] <eddyb> Polder: what's it highlighting?
[10:20:22] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[10:20:34] <eddyb> cmr, huon: we should put "errors or it didn't happen" or something to that effect in the topic
[10:21:02] <Polder> I'm actually trying to do this, rather than the manual example: trait Vector : Add + Sub + Mul + Div {  }
[10:21:07] <eddyb> ......
[10:21:15] <eddyb> Polder: those two are not the same things
[10:21:31] <eddyb> all of those 4 operation traits have two type parameters
[10:21:39] <Polder> and it gives the aforementioned error, highlighting the Add
[10:21:56] <eddyb> you most likely want Add<Self, Self> + Sub<Self, Self> + Mul<Self, Self> + Div<Self, Self>
[10:22:17] <eddyb> the binary operator traits have two type parameters, the RHS type and the return type
[10:23:03] <Polder> yes that works
[10:23:07] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[10:23:58] *** Quits: marianoguerra (marianogue@moz-AB0F337D.dip0.t-ipconnect.de) (Ping timeout)
[10:24:43] *** Joins: lunaryorn (lunaryorn@moz-15820805.dynamic.mnet-online.de)
[10:24:47] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:26:50] <huon> eddyb: ?
[10:26:56] *** Joins: marianoguerra (marianogue@moz-7D7611BE.dip0.t-ipconnect.de)
[10:26:58] *** Quits: _k0rn_ (Mibbit@moz-B2001ED9.lightspeed.rcsntx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:27:18] <eddyb> huon: we need to advertise the importance of error messages
[10:28:00] <huon> eddyb: oh, right, for people asking for help?
[10:28:44] <diverse> "errors or it didn't happen" I like that
[10:28:45] *** Joins: ksev_ (DrunkenPan@moz-DCB95627.autodesk.com)
[10:28:46] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Connection reset by peer)
[10:29:07] <Zr40> "hi my code fails with an error, what could be wrong?"
[10:29:17] <eddyb> huon: yeah, it's much easier and newcomers should try to read errors, even if they don't make much sense at first
[10:30:20] *** Joins: vmx (vmx@moz-6C0BA5A0.dip0.t-ipconnect.de)
[10:30:25] *** Quits: ksev_ (DrunkenPan@moz-DCB95627.autodesk.com) (Ping timeout)
[10:31:27] <eddyb> error messages are so important, to the point where you end up using them to propagate rustc changes
[10:31:36] <eddyb> grep works up to a point
[10:31:45] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[10:31:49] <Zr40> I can't believe people actually dismiss clang for having _better_ error messages
[10:31:57] <eddyb> Zr40: what?
[10:32:22] *** Joins: Ms2ger (Ms2ger@moz-7019B2EE.ugent.be)
[10:32:34] *** Quits: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se) (Ping timeout)
[10:32:57] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[10:33:26] <Zr40> eddyb: I recall having read about that. Can't recall the specifics I'm afraid :(
[10:33:46] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[10:34:10] <Zr40> but it was several years ago
[10:35:55] <arrrrrrrrr> how do I specify the lifetime of a ||
[10:36:43] *** Quits: Ms2ger (Ms2ger@moz-7019B2EE.ugent.be) (Ping timeout)
[10:36:44] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:36:55] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:38:36] *** Joins: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk)
[10:38:38] *** flaper87 is now known as flaper87|afk
[10:38:41] <eddyb> arrrrrrrrr: 'a ||
[10:38:52] <eddyb> http://sta.li/ I want this, but with Rust LTO
[10:39:18] <arrrrrrrrr> eddyb: syntax error
[10:39:25] <huon> arrrrrrrrr: code?
[10:39:26] <eddyb> what context?
[10:39:30] <arrrrrrrrr>  cb: Option<'a ||>,
[10:39:36] <eddyb> yeah, that doesn't work right yet
[10:40:04] <eddyb> try ('a ||) or if that doesn't work, type Callback<'a> = 'a ||; and use Callback<'a>
[10:41:26] *** Joins: Ms2ger (Ms2ger@moz-FD571AB5.ugent.be)
[10:42:01] <arrrrrrrrr> how do I cast &mut self to *c_void?
[10:42:28] *** flaper87|afk is now known as flaper87
[10:42:37] <Yurume> transmute? 
[10:43:20] <Yurume> rusti: let x: *int = &3; let y: *f32 = x; (x, y)
[10:43:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:43:41] <Yurume> yeah, that doesn't work
[10:43:51] <Yurume> so you are left with transmute
[10:44:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:44:32] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:45:14] *** Quits: nooblit (Mibbit@moz-CBA73F0A.dhcp.ftwo.tx.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[10:45:18] *** Joins: kris (kris@moz-79891788.dk.customer.tdc.net)
[10:45:56] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[10:46:01] <Ms2ger> rusti: let x: *int = &3; let y: *f32 = x as *f32; (x, y)
[10:46:03] -rusti- ((0x7f9c7b31bdb8 as *()), (0x7f9c7b31bdb8 as *()))
[10:46:38] <Yurume> huh, `as` did work...
[10:46:54] <Ms2ger> It's unsafe pointers
[10:47:24] <Yurume> rusti: let x = &3u32 as *f32; unsafe{*x}
[10:47:24] -rusti- <anon>:10:17: 10:22 error: mismatched types: expected `*f32` but found `&u32` (expected f32 but found u32)
[10:47:24] -rusti- <anon>:10         let x = &3u32 as *f32; unsafe{*x}
[10:47:25] -rusti-                           ^~~~~
[10:47:25] -rusti- error: aborting due to previous error
[10:47:25] -rusti- application terminated with error code 101
[10:47:42] <Yurume> rusti: let x = (&3u32 as *u32) as *f32; unsafe{*x}
[10:47:44] -rusti- 0f32
[10:48:00] <Yurume> rusti: let v = 3u32; let x = (&v as *u32) as *f32; unsafe{*x}
[10:48:02] -rusti- 0f32
[10:48:07] <Yurume> hmm
[10:48:10] *** Quits: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[10:48:42] <Ms2ger> Heh
[10:49:09] <Ms2ger> Yay floats
[10:49:40] <arrrrrrrrr> this won't work, right: https://gist.github.com/anonymous/8f0b6587a38fcea528cf
[10:49:48] <arrrrrrrrr> I can't call cb and pass the type
[10:49:48] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[10:49:53] <Yurume> rusti: let v = 3u32; let x = (&v as *u32) as *f32; format!("{:.20}", unsafe{*x})
[10:49:55] -rusti- ~"0.00000000000000000000"
[10:49:59] <Yurume> wait, what?
[10:50:01] <Yurume> ah
[10:50:03] <Yurume> :(
[10:50:10] <Yurume> rusti: let v = 3u32; let x = (&v as *u32) as *f32; format!("{:.80}", unsafe{*x})
[10:50:12] -rusti- ~"0.00000000000000000000000000000000000000000000420389461517333984375000000000000000"
[10:50:14] <Yurume> that *should* work. yes.
[10:50:17] *** flaper87 is now known as flaper87|afk
[10:50:25] <Yurume> damn subnormals
[10:50:34] *** flaper87|afk is now known as flaper87
[10:50:35] *** Quits: trobertson (quassel@moz-A4AC319.sd.sd.cox.net) (Ping timeout)
[10:50:53] <Yurume> there is a reason that I want to implement Grisu (working in progress).
[10:50:57] <arrrrrrrrr> how do I make that work?
[10:51:20] <Yurume> "won't work"?
[10:51:30] <Yurume> it compiles but crashes? or?
[10:51:33] *** Joins: trobertson (quassel@moz-A4AC319.sd.sd.cox.net)
[10:51:33] <Yurume> or else*
[10:52:05] <arrrrrrrrr> can't move out of dereference of & pointer
[10:53:13] <Yurume> I actually cannot understand your use case: why does Type have such many things?
[10:53:39] <arrrrrrrrr> https://gist.github.com/anonymous/a5a0c3b404acda22d8ad
[10:53:42] <Yurume> can you post larger context (e.g. how the C API works)?
[10:54:26] <Yurume> arrrrrrrrr: what is `ty` received by `set_callback`? and what type of `cb` is?
[10:54:36] <eddyb> http://arauhala.github.io/libtoys/
[10:54:53] <Yurume> eddyb: awwwww!
[10:55:00] <eddyb> does anyone think all the "auto" would much look much better as "let"?
[10:55:24] <arrrrrrrrr> Yurume: ty is the same thing new() returns. cb is such that it matches cb_int.
[10:55:29] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[10:55:59] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:56:23] *** Quits: lpy (lpy@9A6870A6.F09091A8.1348A864.IP) (Client exited)
[10:56:37] <Yurume> arrrrrrrrr: uh, I still don't understand that. if you have all context inside `Type`, why do you receive a separate Option<&T> (`user_data`)?
[10:56:54] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[10:57:04] <eddyb> https://github.com/arauhala/libtoys/blob/master/src/toys/toys.h
[10:57:08] <Yurume> I guess you meant `ty` field inside `Type` for the former
[10:57:21] <eddyb> with all the cruft, it's hard to see what's going on
[10:57:38] <arrrrrrrrr> ty is an opaque type. dont think about it
[10:57:41] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[10:57:58] <Yurume> arrrrrrrrr: yes, my question is about `data` field in `Type`.
[10:58:04] <Yurume> ah
[10:58:32] <Yurume> so you want to have that data alive throughout the lifetime of callback
[10:58:59] *** Joins: nkoep (nik@moz-D161B8F2.pool.mediaways.net)
[10:59:00] <arrrrrrrrr> yeah
[10:59:19] <arrrrrrrrr> eddyb: you've got it the wrong way around. I've removed all the cruft and this is minimal
[10:59:21] <diverse> eddyb: are you thinking of porting that lib?
[11:00:20] <eddyb> arrrrrrrrr: are you the author of libtoys?
[11:00:38] <arrrrrrrrr> eddyb: my bad, I thought you were talking about my gist
[11:01:00] <eddyb> diverse: I'm tempted
[11:02:58] <diverse> it does look like a fun lib to play with
[11:03:15] <diverse> if ported for Rust
[11:03:34] <Yurume> arrrrrrrrr: barring the obvious borrowing problems (i.e. cooked.cb.unwrap() - > cooked.cb.as_ref().unwrap(), Some(~data) -> Some(~ref data)), it seems it has a fundamental problem with double borrowing
[11:03:49] <Yurume> since both cooked and cb (inside cooked) has to be borrowed at once
[11:04:22] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Quit: Konversation terminated!)
[11:04:24] *** Joins: mitra_ (mitra@8E712A0.54C21BA0.9F317420.IP)
[11:05:46] *** Quits: Ms2ger (Ms2ger@moz-FD571AB5.ugent.be) (Ping timeout)
[11:05:54] <arrrrrrrrr> aaaand compiler bug
[11:06:15] <arrrrrrrrr> this compiles kind of https://gist.github.com/anonymous/e65c570c4ce9ab8579d5
[11:06:25] <arrrrrrrrr> but the compiler error
[11:06:28] <arrrrrrrrr> *then
[11:07:05] <arrrrrrrrr> assertion failed: !ty::type_has_params(t)
[11:07:12] <Yurume> arrrrrrrrr: there are some possible workarounds. you want the callback unable to access the cb/data field, but compiler cannot ensure it. so you can temporarily move them out of cooked, call the callback and then move them back to cooked.
[11:07:16] *** Joins: Ms2ger (Ms2ger@moz-43CA80DE.ugent.be)
[11:07:28] <Yurume> std::mem::replace is handy for this purpose.
[11:07:56] <eddyb> what type is cb?
[11:08:03] <eddyb> a closure?
[11:08:07] <arrrrrrrrr> yep
[11:08:24] <Yurume> other workarounds include the separation of Type and callback data, or having callback data in a separate Rc box.
[11:09:01] <eddyb> arrrrrrrrr: my idea was to have the callback as a method on a trait that T implements
[11:09:13] <Yurume> having Rc means cooked itself does not uniquely own the callback and associated data, so cb_int can safely clone it and refer to its contents  (at expense of refcount manipulation).
[11:10:21] <arrrrrrrrr> This is all academic until the compiler accepts extern "C" functions with type parameters
[11:10:24] <eddyb> arrrrrrrrr: then the callback call would be direct, unlike a closure
[11:10:35] <Yurume> eddyb: it is ultimately the lifetime problem, so whatever the type of callback is, that callback has to be kept til the next set_callback call or the destruction of Type itself (whichever is first)
[11:10:35] <eddyb> yeah, it seems it's still broken :(
[11:11:03] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[11:11:49] <arrrrrrrrr> there is a workaround but it's ugly
[11:13:47] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[11:14:30] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[11:15:18] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:16:10] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:18:57] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:19:50] *** Quits: kris (kris@moz-79891788.dk.customer.tdc.net) (Ping timeout)
[11:20:09] *** Joins: sk (sk@35CFDE22.E993C7C3.78DD174B.IP)
[11:20:50] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[11:23:04] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[11:23:49] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[11:24:30] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[11:24:53] <arturo> is there anyway to ensure that a variable won't be moved in memory? i'm trying to pass a *comm::Chan to a c callback but after sometime it moves and the app crashes, i'm declaring it inside a spawn
[11:25:07] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[11:25:10] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[11:25:29] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[11:26:30] <huon> arturo: put it on the heap via ~
[11:26:37] <huon> (e.g. ~comm::Chan)
[11:27:10] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[11:27:12] <arturo> and how do i convert it to a *?
[11:27:19] <arrrrrrrrr> behold the compiling generic extern "C": https://gist.github.com/anonymous/a81f3dde51e5e629b160
[11:28:05] <huon> arturo: &*x will explicitly borrow it to a &Chan
[11:28:09] *** Quits: benjamin_ (benjamin@moz-B22EF703.dip0.t-ipconnect.de) (Ping timeout)
[11:29:15] *** Quits: JanC (janc@moz-61D1713F.dsl.scarlet.be) (Ping timeout)
[11:30:02] <arrrrrrrrr> transmute_copy doesn't actually copy anything, does it?
[11:31:42] *** Quits: rca (rcatolino@moz-D6F89A8C.adsl.proxad.net) (Ping timeout)
[11:33:25] <arturo> huon, and to create the channel as ~:  let (p,c)=comm::Channel::new();  let chan = ~c; ?
[11:33:49] <huon> arturo: yeah
[11:34:15] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:34:17] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:35:25] <arturo> weird, it still crashes, the memory locations are now the same in the c callback and the original call all the time but i get an assert !ptr.is_null() when trying to send on the channel from the c callback
[11:35:52] <arturo> after sometime, it works for a while
[11:37:02] <arturo> it used to work until i updated to latest rust and had to change SharedChan -> Chan
[11:37:20] <huon> what's the code?
[11:40:54] <arturo> huon, something like: https://gist.github.com/arturoc/9090369
[11:41:29] *** Quits: Ferreus (ferreus@moz-2916377C.dip0.t-ipconnect.de) (Ping timeout)
[11:43:30] <arrrrrrrrr> I can't move a pointer into a closure, right?
[11:43:52] <NiccosSystem> networking is still bugged in Rust, right
[11:44:01] <eddyb> arrrrrrrrr: you can't move/copy things into a closure
[11:44:10] <eddyb> NiccosSystem: depends, look on the issue tracker
[11:44:18] <eddyb> arrrrrrrrr: only into a proc
[11:44:38] *** Joins: JanC (janc@moz-72D90F76.dsl.scarlet.be)
[11:44:51] <arrrrrrrrr> then there is no way around generic callbacks, hmm
[11:45:08] <eddyb> a trait is the most elegant solution
[11:45:36] <eddyb> I bet you could even craft slots, signals and connect with them
[11:45:47] <eddyb> (with the help of macros, that is)
[11:45:53] <arrrrrrrrr> Sounds complicated for the user
[11:45:59] *** Joins: rca (rcatolino@moz-D6F89A8C.adsl.proxad.net)
[11:46:05] <eddyb> arrrrrrrrr: what is the context, even?
[11:46:34] <arrrrrrrrr> I'm wrapping set_callback
[11:46:48] <eddyb> that tell me precisely nothing
[11:46:51] <arrrrrrrrr> I want the user to be able to do obj.set_callback(closure here, object here)
[11:47:41] <arrrrrrrrr> what more do you want to know? That's a fairly generic problem
[11:47:44] <huon> arrrrrrrrr: ah, so you want to be able to call the call back after than spawn'd proc exits?
[11:47:46] *** Quits: Ms2ger (Ms2ger@moz-43CA80DE.ugent.be) (Ping timeout)
[11:47:59] <eddyb> that's almost useless, you'd need unboxed closures (and then you wouldn't need the object at all)
[11:48:16] <eddyb> arrrrrrrrr: it's a generic problem that you can solve better when you stop generalizing it
[11:48:17] <huon> arrrrrrrrr: just transmute(chan) should do it (move the ownership of the Chan into the set_c_callback call)
[11:48:29] <huon> (sorry for misleading you with the &* before)
[11:48:42] <eddyb> huon: are you meaning to talk to arturo?
[11:48:54] <huon> whooops
[11:48:56] <huon> yes
[11:49:08] <huon> sorry for misleading you with random text arrrrrrrrr
[11:49:13] <huon> arturo: ^
[11:49:32] <arturo> huon yes actually the spawn has a loop after that so it never exits really
[11:49:32] <arrrrrrrrr> eddyb: I don't know what an unboxed closure is. 
[11:49:46] <eddyb> an anonymous type implementing a Fn trait
[11:50:50] <huon> arturo: ah (I'm thinking the problem is the ~Chan is getting deallocated, so moving it into the call will stop the setup rust code running its destructor)
[11:50:53] <eddyb> you could have an owned closure that can be called more than once, unlike proc
[11:50:55] <arrrrrrrrr> eddyb: so obj.set_callback(|a: &Type, b: &UserData| { do something nice }, user_data) wouldn't work?
[11:51:02] <eddyb> and a few other things
[11:51:07] <eddyb> arrrrrrrrr: that's unidiomatic
[11:51:30] <huon> eddyb: not totally :P
[11:51:46] <arrrrrrrrr> eddyb: that wasn't the question. the question was if it works
[11:51:46] <huon> eddyb: it's a pretty reasonable substitute for a lack of unboxed closures
[11:52:03] <arturo> so: set_c_callback(c_callback, cast::transmute(chan)) 
[11:52:18] <eddyb> you can't really capture anything in the closure, so you're using it as a function
[11:52:29] <eddyb> you have to stick everything you need in UserData
[11:53:08] <arrrrrrrrr> that's the plan
[11:53:13] <eddyb> arrrrrrrrr: what C API are you actually wrapping?
[11:53:32] <huon> arturo: yeah
[11:53:33] <eddyb> I asked you once and you evaded the question, which makes me even more curious
[11:53:38] <arrrrrrrrr> anyway: can you show me how your idea would be used? obj.set_callback(???)
[11:53:49] <eddyb> my idea? which one?
[11:54:04] <arrrrrrrrr> eddyb: with a trait
[11:54:24] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Connection reset by peer)
[11:54:31] <arturo> huon: then i get cannot move out of captured outer variable
[11:54:51] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[11:55:36] <eddyb> arrrrrrrrr: obj.set_callback(MyCallback {this: this, that: that, etc.}) impl Callback for MyCallback {fn callback(&self) {self.this.do(self.that);}}
[11:55:37] <arrrrrrrrr> eddyb: Wayland does it. libdbus does it.
[11:55:38] <arturo> mmh, that was something else...
[11:55:50] *** Quits: lunaryorn (lunaryorn@moz-15820805.dynamic.mnet-online.de) (Quit: Textual IRC Client: www.textualapp.com)
[11:56:08] <arrrrrrrrr> eddyb: that's what I expected. Much more work for the user.
[11:56:32] <eddyb> arrrrrrrrr: I asked you what you're wrapping
[11:56:40] <eddyb> not what uses the pattern
[11:56:46] <eddyb> you could name 30 different libraries
[11:57:09] <arturo> huon: no still crashes, before updating to latest master, SharedChan worked but Chan crashed like this
[11:57:14] <arrrrrrrrr> I've tried wrapping both wayland and libdbus. that's where I encountered it. 
[11:57:23] <eddyb> I cannot get a feel for usability if I don't have a context
[11:57:35] <eddyb> arrrrrrrrr: ok, what's the wayland API?
[11:57:47] <eddyb> some docs you have handy, perhaps?
[11:57:56] <arrrrrrrrr> one sec
[11:58:04] <huon> arturo: :(
[11:58:11] <huon> arturo: I've got no idea, sorry.
[11:58:18] <arturo> :) no problem thanks!
[11:58:22] *** Joins: Ferreus (ferreus@moz-F084DFA7.dip0.t-ipconnect.de)
[11:58:33] <huon> hm, which assertion is failing? (have you checked the bug tracker?)
[11:59:00] <arrrrrrrrr> eddyb: I don't know if the complete api is online (it probably is) the most basic stuff is here http://wayland.freedesktop.org/docs/html/chap-Library.html
[12:00:14] <eddyb> arrrrrrrrr: what's the event part of it that you wanted to wrap?
[12:00:27] <eddyb> hmm, there's things like void wl_log_set_handler_client(wl_log_func_t handler)
[12:01:03] <arturo> huon assertion failed: !ptr.is_null()
[12:01:15] <arturo> going to search the bug tracker
[12:01:33] <huon> arturo: the interesting part is the file and line number after that :)
[12:01:50] <eddyb> arrrrrrrrr: the wl_proxy API, I'm guessing?
[12:02:01] <eddyb> "With the exception of function wl_proxy_set_queue(), functions accessing a wl_proxy are not normally used by client code. Clients should normally use the higher level interface generated by the scanner to interact with compositor objects."
[12:02:01] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[12:02:13] <arrrrrrrrr> like I said, that's the basic stuff
[12:02:25] <arrrrrrrrr> libwayland implements higher level functions
[12:02:46] <arturo> huon: i just get the lovecraft text :) and that assertion, no line numbers. if i debug with gdb:
[12:03:40] <eddyb> arrrrrrrrr: so what were you trying to wrap, exactly, that has callbacks?
[12:03:45] <arturo> https://gist.github.com/arturoc/9090629
[12:03:59] <arrrrrrrrr> eddyb: let me take a look at the source. it's been some time
[12:04:47] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[12:05:41] <eddyb> http://wayland.freedesktop.org/docs/html/index.html
[12:06:04] <huon> arturo: hm, is the C function running in a different thread?
[12:06:33] <arrrrrrrrr> I uploaded the header file: https://gist.github.com/anonymous/749381054640c2c94970
[12:06:36] <arturo> yes, it's gstreamer which creates a ton of threads
[12:06:42] <arrrrrrrrr> it's generated at compile time so it's not in the repo
[12:06:46] <huon> arturo: that's probably it
[12:07:08] <huon> it seems the current Chan implementation requires a task which is stored in thread local storage
[12:07:09] <arturo> is there a way to sync with externally created threads?
[12:07:37] <huon> I think it used to be possible to communicate seemlessly without a runtime, maybe acrichto just overlooked it in the rewrite
[12:07:53] <arrrrrrrrr> eddyb: if you search for void * you can see that many functions follow this pattern
[12:08:10] <huon> arturo: this seems like something to file a bug about
[12:08:30] <huon> (using Chans outside a runtime context, since the old implementation had that ability)
[12:08:46] <arturo> yes sharedchan seemed to work without problem, will file a bug report, thanks!
[12:09:14] <eddyb> arrrrrrrrr: all the wl_*_listener structs map well to traits
[12:09:40] *** Joins: rca_ (rcatolino@moz-59EB1693.adsl.proxad.net)
[12:10:15] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[12:10:16] *** Quits: rca (rcatolino@moz-D6F89A8C.adsl.proxad.net) (Ping timeout)
[12:10:56] <eddyb> arrrrrrrrr: and all the wl_*_add_listener functions call wl_proxy_add_listener, interesting
[12:12:29] <eddyb> arrrrrrrrr: when you have things like these, how would you do them with closures, instead of traits? https://gist.github.com/anonymous/749381054640c2c94970#file-file-c-L2166
[12:13:06] *** Quits: Polder (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[12:13:25] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[12:13:27] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[12:13:42] *** vfetwnuncszu is now known as dcrewi
[12:14:59] <arrrrrrrrr> I wouldn't and I wasn't thinking of libwayland in particular when I brought this up. I don't know how much C programming you do but sending user data with callbacks is quite modern C and I don't understand why you're so dismissive of the idea to make allow the users to use a closure if they want to.
[12:15:16] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[12:15:48] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Ping timeout)
[12:16:00] <eddyb> it's not "modern" C, there's nothing "mordern" about C >_>
[12:16:26] <eddyb> it's just that we don't have unboxed closures, and so you can only use 'static ||
[12:16:56] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[12:17:56] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[12:17:59] <eddyb> arrrrrrrrr: actually, it should be possible to implement the simple listener traits (i.e. those that don't have more than one callback) for closures
[12:18:39] <al-maisan> Hello there! What's the story with managed boxes? Are they deprecated and slated for removal at some point?
[12:18:42] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[12:18:52] <al-maisan> Or is it fine to use them?
[12:19:07] <eddyb> al-maisan: you have to assume they don't exist
[12:19:43] <al-maisan> like, they are already gone?
[12:19:56] <eddyb> they will be removed as soon as technically possible to rip out from libsyntax and librustc
[12:20:02] <huon> eddyb: C11 is modern :P
[12:20:08] <eddyb> huon: ykwim
[12:20:14] <al-maisan> OK, thanks for the info eddyb !
[12:20:32] <huon> eddyb: maaaaybe
[12:20:50] <meTaAU> Managed boxes are becoming Gc? https://github.com/mozilla/rust/blob/master/src/libstd/gc.rs
[12:21:07] <Kroisse> or Rc?
[12:21:07] <eddyb> Gc's current "implementation" is a placeholder
[12:21:12] <huon> eddyb: btw, graph updated
[12:21:26] *** Joins: Ms2ger (Ms2ger@moz-43A42590.ugent.be)
[12:21:32] <eddyb> arrrrrrrrr: hmm, you might have to use ~~Trait after all, the wayland API doesn't seem to support anything nice for proper cleanup of the user data
[12:22:26] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[12:23:53] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[12:24:08] <silven> What was the reasoning for removing @? I thought that was quite nice shorthand for refcounting
[12:24:17] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:24:19] <kimundi> silven: To specific a type
[12:24:33] <Ms2ger> Too
[12:24:43] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:24:46] <kimundi> silven: For shared ownership, you might want to either use Rc<T>, Gc<T>, Arc<T> etc
[12:24:50] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Connection reset by peer)
[12:25:11] <silven> kimundi: yeah but wasn't it the same as Rc?
[12:25:34] <huon> silven: a poor implementation of Rc
[12:25:34] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:25:49] <silven> huon: poor?
[12:25:51] <huon> e.g. every assignment a = b would bump the reference count, even if b was never used again
[12:26:00] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[12:26:00] <huon> while Rc moves ownership
[12:26:10] <silven> Aha
[12:26:14] <huon> (so Rc is similar to a dereferred reference counting scheme)
[12:26:18] <silven> So you have to be specific about .clone() ?
[12:26:48] <huon> and @ is *actually* meant to be a replacement for Gc and has a pile of GC header junk which is almost all unused
[12:26:58] <huon> (and the current plan for Gc doesn't use inline headers at all anyway)
[12:27:00] <huon> silven: yes
[12:27:14] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[12:27:19] <kimundi> silven: yeah, which is a plus point actually. if you only refcount when you need it, and otherwise move around, its much less overhead that always refcounting
[12:27:30] <silven> true
[12:27:32] *** Joins: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net)
[12:28:36] <silven> I was just thinking that @T was quite nice syntax
[12:28:52] <kimundi> Wll, people keep dismissing Rust for having to many pointer sigils
[12:29:09] <silven> I was like that at first :P In 0.3 or something
[12:29:14] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:30:01] * pnkfelix has been toying with putting the choice of whether to use sigils or not in the hand of the programmer.  i.e. user-defined sigil desugaring.
[12:30:01] *** Joins: fyolnish (fyolnish@moz-659B8088.uqwimax.jp)
[12:30:09] <kimundi> Short syntax is always then a problem if it means people use it because its easier to type that more suitable alternatives
[12:30:31] <eddyb> pnkfelix: I did say type @T = Rc<T>; a few times, I think
[12:30:33] *** Parts: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net) ()
[12:30:46] <pnkfelix> eddyb: but its more than that
[12:30:48] *** Joins: edwardw (Mibbit@D286B842.1B2F6624.7F41E82D.IP)
[12:31:05] <pnkfelix> eddyb: you really want the sugar to apply in both type- and expression- contexts
[12:31:05] <eddyb> and `mut T` as an alias for `RefCell<T>`
[12:31:18] <pnkfelix> eddyb: in a context-dependent fashion, that is
[12:31:28] <eddyb> well, ~expr might be completely replaced with box expr
[12:31:38] <eddyb> and we can make box infer, so you only need the type
[12:31:39] <huon> in patterns?
[12:31:42] *** Quits: fyolnish (fyolnish@moz-659B8088.uqwimax.jp) (Ping timeout)
[12:31:52] <eddyb> huon: ahh, patterns are tricky
[12:31:56] <kimundi> eddyb: urg, even if that would be unambiguous, I don't think we want to go down that route :P
[12:31:59] <pnkfelix> huon: patterns were the spot that I got blocked on
[12:32:13] <pnkfelix> huon: but maybe I should try to work on an RFC that ignores patterns
[12:32:28] <kimundi> let mut ref mut m: &mut mut T
[12:32:55] *** Joins: fyolnish (fyolnish@moz-659B8088.uqwimax.jp)
[12:33:04] <eddyb> lol
[12:33:20] <Ms2ger> mmmmmm
[12:33:41] <eddyb> mut mut mut T
[12:34:12] <kimundi> let x = box mut mut mut & T
[12:34:27] <eddyb> it scares me a bit, because it makes me think Vec Vec Vec T and then Haskell
[12:34:44] <kimundi> hah
[12:34:45] <huon> pnkfelix: one possibility I thought of for patterns was basically only attempting to support `struct P<T> { ..., data: *T, ... }`: having an attribute that basically says "I'm a thin smart pointer and you can pattern match on my inner type T through `.data`"
[12:34:45] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:35:00] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[12:35:14] <huon> pnkfelix: that would support ~/Uniq, (headerless) Gc and our current Rc
[12:35:22] <huon> (and Arc.)
[12:35:31] <eddyb> Rc needs an offset
[12:35:40] <huon> not the current one
[12:35:45] <huon> unless that changed recently
[12:35:45] <eddyb> its pointer is *RcBox<T>
[12:35:51] <huon> {T, uint, uint}
[12:35:54] <huon> is RcBox
[12:35:55] <eddyb> wat?
[12:36:04] <eddyb> who thought that was a good idea and when did it change?
[12:36:19] <huon> it *is* a good idea
[12:36:22] <kimundi> eddyb: Afaik something something pointer derefe optimization
[12:36:23] <huon> and it's been like that forever
[12:36:26] <eddyb> :(
[12:36:30] <huon> it makes borrowing a noop
[12:36:33] <kimundi> but it would need to change for DST
[12:36:40] <eddyb> yeah, that's what I was thinking
[12:37:09] <eddyb> huon: I must've never read it carefully then
[12:37:16] *** Quits: vmx (vmx@moz-6C0BA5A0.dip0.t-ipconnect.de) (Ping timeout)
[12:38:09] <nfroidure> any chance to get rust compiled to ASM.js ?
[12:38:24] <Ms2ger> Sure
[12:38:42] <Ms2ger> Compile rust to llvm bytecode, compile that to asm.js
[12:38:46] *** Joins: vmx (vmx@moz-6C0BA5A0.dip0.t-ipconnect.de)
[12:38:50] <eddyb> s/arm.js/emscripten/
[12:38:51] *** Joins: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se)
[12:38:53] <eddyb> s/arm/asm
[12:38:59] <eddyb> (oops)
[12:39:06] <Ms2ger> leg.js?
[12:39:11] <Ms2ger> Or aarch64.js?
[12:39:15] *** Joins: kris (kris@moz-65C16DA6.dk.customer.tdc.net)
[12:39:42] *** Quits: kris (kris@moz-65C16DA6.dk.customer.tdc.net) (Connection reset by peer)
[12:39:51] <eddyb> asm.js is a mozilla-specific optimization for a subset of JS that is produced by emscripten
[12:40:02] <pnkfelix> huon: regarding Rc<T> layout, were negative offsets considered instead?  Its already using `*mut` so I would think it would be okay to use an interior pointer to the `value: T`
[12:40:25] *** Joins: kris (kris@moz-65C16DA6.dk.customer.tdc.net)
[12:40:50] <Ms2ger> I'm aware
[12:40:52] <huon> pnkfelix: I think strcat just did what was easiest in the constrains at the time (i.e. no DST)
[12:40:58] <pnkfelix> maybe our transmute machinery doesn't give us a great way to express converting from the interior pointer up to the `*mut RcBox<T>`
[12:41:12] *** Quits: kris (kris@moz-65C16DA6.dk.customer.tdc.net) (Connection reset by peer)
[12:41:40] <pnkfelix> I'll have to look into that at some point.
[12:42:32] *** Quits: vmx (vmx@moz-6C0BA5A0.dip0.t-ipconnect.de) (Ping timeout)
[12:42:35] <pnkfelix> I wonder if people would barf if we extended the type-expression syntax to support interior pointers
[12:42:45] <pnkfelix> e.g. `ptr: *mut T RcBox<T>.value`
[12:42:57] <eddyb> X_X
[12:43:04] <pnkfelix> so that the type would be self-documenting
[12:43:04] <huon> <3
[12:43:28] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:43:28] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-35BCD87E.dynamic.qsc.de) (Ping timeout)
[12:43:39] <huon> (of course, since it's all `priv` we can just store a *mut T with a pair of careful wrappers to go <-> *mut RcBox)
[12:43:41] <eddyb> negative field offsets in structs would be more interesting IMO
[12:44:01] <pnkfelix> eddyb: that's another option, maybe a smarter path
[12:44:09] <pnkfelix> huon: Yeah that was my initial thinking
[12:44:28] *** Joins: vmx (vmx@moz-6C0BA5A0.dip0.t-ipconnect.de)
[12:44:30] <pnkfelix> huon: but then I started to wonder if we could make it less "magic" with an appropriate set of language features
[12:44:40] <eddyb> I have reversed engineered something made out of C++, Delphi and black magic, at one point
[12:44:43] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[12:45:28] <eddyb> and the Delphi stuff was storing a length and a refcount before the contents of a char*. the lowest bit of the pointer indicated whether it was a constant, IIRC
[12:45:46] <eddyb> pretty nasty stuff and IDA/HexRays is obviously not prepared to deal with it
[12:46:07] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:46:13] <eddyb> s/char/wchar_t/ actually, more fun!
[12:46:24] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:46:28] <huon> pnkfelix: how often does one want interior pointers? (i.e. is it worth the additional complexity?)
[12:46:31] <pnkfelix> eddyb: maybe a negate sign could separate fields to be stored at a negative offset.  e.g. `struct RcBox<T> { weak: uint, strong: uint -- value: T }
[12:46:43] <huon> (it would certainly make these cases type safe, though.)
[12:47:27] <eddyb> pnkfelix: how about struct RcBox<T> { weak: uint @ - 2, strong: uint @ -1, value: T }
[12:47:34] <pnkfelix> huon: yeah its not clear.  but I've enjoyed playing games with storign stuff at negative offsets in the past; it would be nice to have proper linguistic support for it.
[12:47:39] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:47:43] <huon> eddyb: manual numbers? :(
[12:47:49] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Quit: pilf)
[12:48:04] <huon> prefix negative-offset fields with @
[12:48:09] <huon> (or with -)
[12:48:11] <pnkfelix> eddyb: I considered annotations on each field, but I couldn't justify it.
[12:48:19] <eddyb> -weak and -strong seem fine
[12:48:26] <pnkfelix> though it sounds like the tide here is turning against that
[12:48:48] <pnkfelix> e.g. with a `--` marker in the middle
[12:48:48] <huon> however the problem with subtle syntax like that is it's subtle and very hard to google
[12:48:57] <pnkfelix> you maintain the property that the fields appear in C struct layout order
[12:49:06] <huon> I like the -- marker too
[12:49:24] <huon> (but that's also hard to google :( )
[12:49:29] <pnkfelix> if you annotate each field, then either you have to require that all the `-` prefixes occur in a group, *or* you have to deal with the semantics of mixing `-` and non-`-` fields.
[12:49:45] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[12:49:46] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[12:49:47] <eddyb> hmm, ok
[12:50:05] <pnkfelix> hmm.  `--` is hard to google.  Wow, what a shame if that's a big reason to not put something like that in.
[12:50:20] <pnkfelix> though hey, I'd be fine with `==`.  :)
[12:50:28] <eddyb> pnkfelix: what about marking the start of a pointer to the structure with an attribute?
[12:50:48] <pnkfelix> eddyb: that's a nice idea
[12:50:49] <eddyb> struct RcBox<T> { weak: uint, strong: uint, #[ptr_base] value: T }
[12:51:10] *** Joins: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP)
[12:51:24] <pnkfelix> eddyb: yeah that seems more rustic than the other ideas 
[12:51:35] *** Joins: heftig (heftig@D7D8A2AF.8DA28364.172227A7.IP)
[12:51:59] <eddyb> the @ notation is what I thought of using for fixed offset fields in traits
[12:52:06] <pnkfelix> so, heh, when these things are nested
[12:52:26] *** Quits: vmx (vmx@moz-6C0BA5A0.dip0.t-ipconnect.de) (Ping timeout)
[12:52:29] <pnkfelix> struct Foo { blah: int, box: RcBox<int> }
[12:52:30] *** Joins: vgeddes (vincent.ge@moz-E5B12DD4.dsl.mweb.co.za)
[12:52:41] *** Joins: vmx (vmx@moz-6C0BA5A0.dip0.t-ipconnect.de)
[12:52:45] <pnkfelix> the semantics of &foo.box are probably funny, or at least semi-unexpected
[12:52:59] <huon> yeah, that's weird
[12:53:05] <eddyb> you'd get a pointer to foo.box.value
[12:53:06] <pnkfelix> (or rather, the semantics of `&foo.box as *int as int`
[12:53:17] <pnkfelix> but maybe that's all a good thing
[12:53:29] <eddyb> instead of foo.offset(size_of::<int>())
[12:53:30] <huon> it makes generic unsafe code harder to write
[12:53:41] *** Quits: pilf (pilf@8FA95888.1A994CBC.4B228AD7.IP) (Ping timeout)
[12:53:41] <huon> (but maybe generic unsafe code is bad anyway.)
[12:53:53] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:53:56] <eddyb> huon: only if it does field access
[12:54:09] <eddyb> and you can't currently do field access without a specific structure
[12:54:27] <huon> eddyb: ok, not completely generic, but say Foo<T> with { x: int, val: T }
[12:54:29] <pnkfelix> eddyb: right.  So I guess we'd only start seeing badness if we eventually do put in struct-bounds for traits
[12:54:38] <huon> then T = RcBox<int> might act weirdly
[12:54:40] <eddyb> (the trait&field thing: foo: Bar @ 0 to indicate the first field, bar: Baz @ 1 the second, etc.)
[12:55:03] <eddyb> huon: ah, taking a reference to val. heh
[12:55:26] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[12:55:32] <eddyb> you could deny placing these structs within other data types
[12:55:39] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[12:55:52] <eddyb> this one case is private to the implementation of Rc
[12:55:53] <pnkfelix> or maybe I should go back to drawing board
[12:56:13] <eddyb> what did this start from, even?
[12:56:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[12:56:49] <pnkfelix> the fact that we'll probably want to reorganize RcBox once we have DST ?
[12:57:11] <eddyb> no, user-definable sigils
[12:57:29] <pnkfelix> eddyb: Oh I saw this later topic as orthogonal
[12:57:35] *** Parts: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se) ()
[12:59:07] <eddyb> you don't need to specify a pointer field to the data for pattern matching... it's enough to have ImmDeref implemented for the smart pointer
[12:59:49] <eddyb> I was thinking of this when considering a helper trait for {:?} that would overload the default behavior when implemented
[13:00:04] <eddyb> to allow meaningful outputs for smart pointers and whatnot
[13:00:42] <eddyb> s/thinking of this//
[13:01:12] *** Quits: speckle (speckle@moz-AD109A29.hsd1.md.comcast.net) (Ping timeout)
[13:01:52] <huon> pnkfelix: are you going to open an issue?
[13:02:13] *** Joins: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP)
[13:03:21] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:04:27] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[13:05:01] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:05:14] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[13:05:36] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:05:36] *** ChanServ sets mode: +o jdm
[13:06:52] <pnkfelix> huon: for which?
[13:07:27] <pnkfelix> huon: I don't feel like I have enough fleshed out for user-defined sigils
[13:07:36] <pnkfelix> huon: and I'm going back to the drawing board for interior pointer support
[13:07:47] *** Quits: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk) (Ping timeout)
[13:07:59] *** Joins: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk)
[13:08:42] <pnkfelix> huon: neither needs to happen for 1.0, AFAICT
[13:09:17] *** kimundi is now known as zz_kimundi
[13:10:50] <huon> pnkfelix: I meant for negative offsets/interior pointers, yeah.
[13:12:56] <pnkfelix> one advantage of my original idea, of putting the info in the type expression
[13:13:08] <pnkfelix> is that it totally sidesteps all of these issues that arise with generics
[13:14:34] *** Joins: speckle (speckle@moz-AD109A29.hsd1.md.comcast.net)
[13:14:37] <pnkfelix> huon: maybe I should post something just to get people talking.  We'll see.
[13:15:06] <pnkfelix> huon: feel free to write something up if the mood strikes you; I've got to spend some time on other stuff for now
[13:15:23] *** Quits: vgeddes (vincent.ge@moz-E5B12DD4.dsl.mweb.co.za) (Ping timeout)
[13:16:30] <huon> pnkfelix: I don't think I've thought about it enough for it to be worth me writing an issue, and, yeah, as it does seem that it would be backward compatible
[13:17:03] *** Joins: ElfEn (Mibbit@moz-D3C7C2C0.net-82-216-44.nice.rev.numericable.fr)
[13:17:11] <ElfEn> hi at all
[13:17:21] *** Joins: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[13:17:54] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[13:17:56] *** Parts: edwardw (Mibbit@D286B842.1B2F6624.7F41E82D.IP) ()
[13:18:06] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[13:19:35] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[13:21:54] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[13:21:54] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:25:23] *** Parts: ElfEn (Mibbit@moz-D3C7C2C0.net-82-216-44.nice.rev.numericable.fr) ()
[13:25:26] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[13:25:48] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:27:28] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[13:36:37] <Tobba> ugh
[13:36:42] <Tobba> this rust/playrust confusion is getting ridiclous
[13:37:10] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:37:35] <eddyb> Tobba: maybe we need a notice for that on the submit screen?
[13:37:43] <eddyb> bstrie: ^^ do you have the powers?
[13:37:49] <Tobba> apparently, you can submit without actually going to the subreddit
[13:38:01] <Tobba> and with the avarage intelligence of a rust player, I dont think it'll help
[13:38:06] <Boreeas> I have a trait implementation like this: 'impl Token for IntLiteral { fn nud(&self) -> &Token { self } }', but it fails with 'error: mismatched types: expected `&Token<no-bounds>` but found `&IntLiteral` (expected trait Token but found &-ptr)'
[13:38:21] *** Quits: ecl3ctic (ecl3ctic@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Client exited)
[13:38:29] <eddyb> Tobba: would that still show the subreddit's submit screen customizations?
[13:38:35] <Boreeas> Could someone explain to me the correct way to return self in that way?
[13:38:36] <huon> eddyb: no
[13:38:43] <huon> http://reddit.com/submit
[13:39:09] <Tobba> and if you're curious about what we're dealing with, just take any thread in here http://facepunch.com/forumdisplay.php?f=415
[13:39:15] <eddyb> Boreeas: you're returning &IntLiteral (the actual type) and not &Token (the trait object) - do you really want the trait object?
[13:39:16] *** Joins: jherms (jherms@moz-4CAD1990.dyn.cust.vf.net.nz)
[13:39:17] <huon> Tobba: just report the posts and the mods will kill them
[13:39:43] *** Quits: jherms (jherms@moz-4CAD1990.dyn.cust.vf.net.nz) (Quit: jherms)
[13:39:46] <eddyb> Boreeas: if you do (want the trait object, that is), cast it to &Token manually (self as &Token)
[13:39:56] <huon> Tobba: (you don't even need to bother directing them to /r/playrust unless you're feeling *really* nice)
[13:40:01] <Boreeas> eddyb: I might be confused by how it works in Java, but essentially, I want to be able to return anything implementing Trait from the function
[13:40:15] <Tobba> I think the scarier bit is that people seem to not realize that it isnt the right subreddit
[13:40:19] <Tobba> as people are actually replying to the threads
[13:40:35] <eddyb> Boreeas: yeah, you can do that, even if it working with the trait object is slower
[13:40:55] <huon> Tobba: those ones were probably either sock-puppets of the submitter, or friends who were given a direct link
[13:41:02] <eddyb> Boreeas: why "nud" of all things?
[13:41:18] <Tobba> actually good point
[13:41:27] <Tobba> considering how awful it is, they're definitely sockpuppets
[13:41:42] <eddyb> Boreeas: and you can have a default method on the trait that casts self to &Token, btw
[13:41:43] <Boreeas> eddyb: Stands for "null denotation", apparently that's the standard name
[13:41:48] <eddyb> wat
[13:41:49] <huon> Tobba: (since they both had only ~4 comments, all on the same posts)
[13:41:58] <eddyb> Boreeas: by which cursed standards?
[13:41:58] <Tobba> heh
[13:42:32] <Boreeas> eddyb: The paper and the tutorial I read :P http://dl.acm.org/citation.cfm?doid=512927.512931 http://effbot.org/zone/simple-top-down-parsing.htm
[13:43:25] <eddyb> that paper is from '73
[13:43:29] <eddyb> we are in 2014
[13:43:34] <eddyb> (just fyi)
[13:43:37] <Boreeas> :P
[13:43:51] <huon> eddyb: there's no time like the past
[13:43:59] <Boreeas> I was planning to refactor a bit later, but for now I was trying to stay as close to the tutorial as possible
[13:44:01] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[13:44:34] <Boreeas> So, regarding defaul methods - instead of having 
[13:44:38] <Boreeas> oops
[13:44:59] <Boreeas> So, regarding defaul methods - instead of having 'fn nud(&self) -> &Token;' in the trait definition, I can actually give it a method body?
[13:45:04] <eddyb> yes
[13:45:30] <eddyb> but what I said doesn't work, it's not erasing self for all implementations, in the tutorial
[13:45:34] <Boreeas> Awesome, thanks
[13:45:47] <eddyb> wait, no, read it wrong again
[13:47:15] <eddyb> (Pratt calls this function “parse”, but we’ll use the name from Crockford’s article instead.)
[13:47:26] <eddyb> that's just the author being a jerk
[13:48:04] <eddyb> instead of being helpful and calling the parse function "parse", they go for "expression"
[13:48:35] <eddyb> which I mistook for an AST constructor >_>
[13:48:51] <Boreeas> The author later actually builds an AST that way
[13:49:18] <eddyb> yeah, but `expression` doesn't create an expression AST or anything like that, it parses an expression
[13:50:02] <eddyb> Boreeas: there's two options you have
[13:50:03] *** Joins: kgilden (kgilden@moz-2BAB43A3.dyn.internet.emt.ee)
[13:50:48] *** Joins: benjamin_ (benjamin@moz-B22EF703.dip0.t-ipconnect.de)
[13:50:55] <eddyb> either represent Token as an enum, in which case nud and led (such unfortunate names *sigh*) have only one implementation, with a big match statement
[13:51:13] <eddyb> (but you'd get pretty serious performance)
[13:51:32] <eddyb> or use trait objects, disregarding memory usage and performance
[13:53:18] <eddyb> Boreeas: I would call nud "unary" and led "binary"
[13:53:26] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:53:41] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Quit: Leaving...)
[13:54:31] <silven> eddyb: The enum implementation with pattern matching in the big functions would translate to a jump table or if else if else chain?
[13:54:49] <eddyb> jump table
[13:55:08] <eddyb> but an if else if else chain will also be optimized to a LLVM switch, if possible
[13:55:26] <eddyb> (and a switch can be lowered to a perfect hash function, if it's too sparse)
[13:55:37] <silven> sweet
[13:56:11] <eddyb> all part of LLVM optimizations, though trans::adt is new and probably tries to produce the most compact LLVM IR possible for matching
[13:56:28] *** Quits: sk (sk@35CFDE22.E993C7C3.78DD174B.IP) (Ping timeout)
[13:57:00] <Tobba> ugh
[13:57:04] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[13:57:09] <Tobba> I need to create some version of rust-core to use an std in my stuff
[13:57:19] <Boreeas> I guess I'll put it all in an enum then. Thanks for the help, eddyb 
[13:57:21] <Tobba> also eddyb, what prevents you from moving an Rc to another task
[13:57:24] <Tobba> since its not memory safe
[13:57:33] <eddyb> it's not Send
[13:57:40] <Diamond> can't move it either
[13:57:46] <Tobba> could still clone and move that I think though?
[13:57:55] <Diamond> not atomic
[13:58:05] <eddyb> Diamond: I don't think you're helping
[13:58:13] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[13:58:15] <Diamond> :(
[13:58:36] <Tobba> I'm trying to make my stuff mostly memory safe, hopefully without making sacrifices
[13:58:39] <eddyb> Tobba: Rc<T> is not Send, only Send types are allowed to go cross-task
[13:59:04] <Tobba> since theres a *lot* of state that naturally needs to be shared across task, but atm safe access for that is simply put a disaster waiting to happen
[13:59:28] <eddyb> you can use Arc<T> or RWArc<T>
[13:59:39] <Tobba> I should implement those
[14:00:17] <Tobba> its also just crap like, if you end up adding a process to say, both the global sleep queue and the wait queue for an event pipe, then you're really in the shit
[14:00:21] <eddyb> Boreeas: pffft, that tutorial is a disaster
[14:00:55] <Tobba> in theory it should end up getting double scheduled which gets detected and causes a panic, but when that happens the information on what actually went down is lost in the trainwreck
[14:01:36] *** Quits: skade (skade@moz-2D3A2BB4.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:02:17] <Boreeas> eddyb: Oh?
[14:03:04] *** Joins: sk (sk@35CFDE22.E993C7C3.78DD174B.IP)
[14:03:42] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:04:06] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Ping timeout)
[14:05:22] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:06:44] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:07:00] <Tobba> I wish it was possible to do
[14:07:03] <Tobba> extern crate a = b;
[14:07:07] <Tobba> like you can with use
[14:07:35] <eddyb> s/b/"b"/ I think
[14:07:43] <eddyb> Boreeas: half of the tutorial can be implemented in one clean Rust function
[14:09:29] <eddyb> define a Token enum and an Expr enum
[14:09:40] *** Joins: jackneill (jackneill@moz-D52B47AA.pool.digikabel.hu)
[14:10:20] <Tobba> the syntax doesnt need quotes for use
[14:10:54] <Tobba> hahaha oh wow it works with quotes
[14:11:09] <Tobba> holy inconsistency, when it told me it was expecting a literal I thought it was just the parser flipping its shit
[14:12:29] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[14:13:14] <SiegeLord> Imo it's not inconsistent with 'use', since it has nothing to do with use, but it is inconsistent with 'mod'
[14:13:34] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[14:13:40] *** Joins: lunaryorn (lunaryorn@moz-15820805.dynamic.mnet-online.de)
[14:14:07] <SiegeLord> To be consistent it could have been #[crate_id="b"] extern crate a;
[14:14:30] <SiegeLord> To mirror #[path="b.rs"] mod a;
[14:14:39] <Tobba> hm yeah
[14:14:42] <Tobba> it is inconsistent with use though
[14:14:53] <Tobba> since use has the exact same syntax except crate requires quotes
[14:15:16] <SiegeLord> Not quite, since use takes a path
[14:15:28] <SiegeLord> And it has those bracket thingies
[14:15:47] <Tobba> use doesnt have the bracket thingies
[14:15:52] <Tobba> its just use a = b;
[14:16:00] <Tobba> so it being extern crate a = "b"; feels inconsistent to me
[14:16:18] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[14:16:29] <SiegeLord> It has to have an option for that to be a string, but I suppose it could be special cased to accept an identifier too
[14:16:32] <pnkfelix> I assume the reasoning behind requiring the quotes is that we may in general be referring to a substring of a filename that requires spaces etc?
[14:16:42] <Tobba> well
[14:16:47] <Tobba> note that b is the crate name
[14:16:56] <Tobba> which is without quotes when not trying to "rename" it
[14:17:06] <Tobba> so I dont think that reasoning holds
[14:17:17] <pnkfelix> Tobba: true
[14:17:21] <Tobba> actually, it holds
[14:17:24] <SiegeLord> In general it could be extern crate a = "not an identifier\nyay#0.1";
[14:17:26] <Tobba> if there were spaces in the crate name
[14:17:27] *** jorendorff_away is now known as jorendorff
[14:17:28] <Tobba> you'd have to rename it
[14:17:33] <SiegeLord> With a literal newline in there
[14:17:47] <Tobba> but yeah crate_id would be way more consistent
[14:17:48] <pnkfelix> Tobba: ah.  true.  true is false, that is.
[14:18:10] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[14:18:34] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[14:18:59] <eddyb> Boreeas: impl Expr { fn parse<I: Iterator<Token>>(tokens: &I, rbp: uint) -> Option<Expr> {let token = match tokens.next() {Some(token) => token, None => return None}; let mut left = match token {...}; while rbp < token.rbp() {let token = match tokens.next() {Some(token) => token, None => break}; left = match token {...}} Some(left) } }
[14:19:15] <Tobba> ugh, now to make this dynamicaly link to one thing and staticaly to another
[14:19:28] <eddyb> Boreeas: I didn't intend to put that much work into it... the match cases are for nud/led
[14:20:59] *** Quits: sk (sk@35CFDE22.E993C7C3.78DD174B.IP) (Ping timeout)
[14:21:07] *** Quits: heftig (heftig@D7D8A2AF.8DA28364.172227A7.IP) (Quit: Quitting)
[14:21:49] <Boreeas> eddyb: Wow, thanks
[14:22:48] <eddyb> could put tokens iterator in a parser object and have methods on that, instead
[14:22:50] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[14:23:36] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:23:40] <eddyb> that is pretty much how the rust parser works
[14:24:23] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:24:30] <huon> eddyb: did you know about `std::vec::ref_slice`?
[14:24:40] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[14:24:43] <eddyb> huon: &T => &[T]?
[14:25:35] <huon> eddyb: yes
[14:25:59] <eddyb> hah, I didn't realize we actually had it already
[14:26:21] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:26:36] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[14:27:08] <eddyb> that allows us to have .as_slice() on SmallVec. I'm not sure exactly what I actually wanted
[14:27:16] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:27:47] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[14:28:17] <eddyb> huon: we can have a custom SmallVec<P<T>> that fits in two words
[14:28:39] *** Quits: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net) (Ping timeout)
[14:28:47] *** Quits: sellout (Adium@moz-2081FE17.hsd1.co.comcast.net) (Quit: Leaving.)
[14:29:36] <eddyb> (0, 0) for empty, (1, P<T>) for the one element case and the DST ~[P<T>] for all the other cases
[14:30:09] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[14:30:48] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:30:49] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[14:31:24] <eddyb> I wish we could just define weird things like #[repr(uint)] enum SmallVec<T> {Zero = 0, One(T) = 1, priv Indirect(*T) = 2..uint::MAX}
[14:32:08] <eddyb> huon: did you comment on the PR where I mentioned &T => &[T] for efficiency?
[14:32:35] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[14:33:04] <huon> eddyb: no, I just found it now
[14:35:06] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:35:46] *** Joins: sk (sk@35CFDE22.E993C7C3.78DD174B.IP)
[14:35:50] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[14:37:22] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[14:37:43] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:39:23] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[14:39:49] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[14:40:01] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:42:42] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[14:43:22] *** Joins: benjamin_____ (benjamin@moz-7E387E2B.dip0.t-ipconnect.de)
[14:43:25] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[14:43:32] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[14:43:41] *** vfetwnuncszu is now known as dcrewi
[14:43:46] *** Quits: benjamin_ (benjamin@moz-B22EF703.dip0.t-ipconnect.de) (Ping timeout)
[14:44:47] <Tobba> ugh
[14:44:54] <Tobba> trying to implement basicaly GObject in pure rust
[14:45:00] *** Quits: Ms2ger (Ms2ger@moz-43A42590.ugent.be) (Ping timeout)
[14:45:07] <Tobba> except attempting to make it less shit than gobject by orders of magnitude
[14:45:47] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[14:45:50] *** Quits: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net) (Input/output error)
[14:46:14] *** Quits: trobertson (quassel@moz-A4AC319.sd.sd.cox.net) (Ping timeout)
[14:47:00] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[14:47:01] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[14:47:04] *** Joins: trobertson (quassel@moz-A4AC319.sd.sd.cox.net)
[14:47:16] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[14:47:36] *** Joins: dschatzberg (dschatzber@moz-9384E83C.bu.edu)
[14:50:56] <Tobba> I think eddyb had some ideas, but I sadly cant use DSTs
[14:51:15] <Tobba> the interaction with the kernel for it has to be over pure calls to global functions, so yeah ugh
[14:55:47] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[14:57:47] <eibwen> what's GObject?
[14:58:36] *** Joins: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP)
[14:58:38] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[15:00:57] <eddyb> eibwen: you don't want to know
[15:04:03] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:04:13] <Kroisse> GObject is an object system of Gtk
[15:04:18] *** Quits: kgilden (kgilden@moz-2BAB43A3.dyn.internet.emt.ee) (Client exited)
[15:05:43] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:07:34] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[15:08:55] *** Joins: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP)
[15:09:05] <Tobba> its bad, very bad
[15:09:12] <olsonjeffery> eibwen: it's an API/set of patterns for getting OO-like functionality w/i C programs
[15:09:22] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:09:35] <olsonjeffery> and, as everyone says, it's pretty ... challenging.
[15:10:00] <olsonjeffery> Gtk+ is built atop it
[15:10:05] <olsonjeffery> hence most of the Gnome ecosystem
[15:13:35] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[15:15:49] <olsonjeffery> amusingly, it's probably the only mature, widely used GUI toolkit that rust has a shot at using currently (since most of the others are C++), unless you count xcb, heh.
[15:15:56] <olsonjeffery> which i don't think anyone wants to use
[15:17:27] <eddyb> there is a tk binding around
[15:17:34] <eddyb> or whatever its name is
[15:18:05] <eddyb> olsonjeffery: and we have at least two ways of autogenerating bindings for it
[15:19:14] <olsonjeffery> i don't know if i'd call tk "widely used". perhaps at one time, this was true.
[15:19:29] <olsonjeffery> it's certainly mature!
[15:19:43] <eddyb> ah, you did mention that
[15:20:26] <eibwen> in the end, c++ binding should be added I guess
[15:20:27] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[15:20:42] <eddyb> it's not something you "add"
[15:20:57] <SiegeLord> D managed to have Qt bindings... I'm sure Rust can too :P
[15:21:02] <SiegeLord> It's just hard work
[15:21:03] <eddyb> we'd probably need to wrap the C clang API
[15:21:16] <eddyb> and integrate it with the type system
[15:22:10] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[15:22:13] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:22:45] <eddyb> SiegeLord: the advantage is that once you bootstrap, you can throw away all LLVM and clang C bindings from rustc \o/
[15:23:43] <SiegeLord> I'll believe it when I see it... for now I'd rather somebody bite the bullet and do it via a C shim
[15:24:03] *** Quits: agarnier (agarnier@B49B97BC.DF317A48.8108A302.IP) (Quit: Quitte)
[15:24:11] <eddyb> we need to upstream all our LLVM patches first, though
[15:24:20] <eddyb> otherwise integrating libclang will be a nightmare
[15:24:20] <SiegeLord> Yeah, that's not happening
[15:24:36] <SiegeLord> Not anytime soon, at least, by what I'm observing
[15:24:44] <eddyb> do we even have any left?
[15:24:47] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[15:25:27] <eddyb> https://github.com/rust-lang/llvm/tree/f5f1ffea207b6b380127ff34f14015ae005d1413
[15:25:53] <eddyb> https://github.com/rust-lang/llvm/commits/f5f1ffea207b6b380127ff34f14015ae005d1413
[15:26:33] <eddyb> oh, that's quite a few... though we no longer use segmented stacks... 4 of the patches are about supporting segmented stacks
[15:26:54] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:27:17] <Tobba> lots of those really should be in LLVM main
[15:28:01] <eddyb> we might only need to upstream https://github.com/rust-lang/llvm/commit/f5f1ffea207b6b380127ff34f14015ae005d1413
[15:28:05] <Tobba> some are codegen fixes
[15:28:33] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Quit: )
[15:28:43] <Tobba> though mostly optimizations
[15:28:50] <eddyb> wat?
[15:28:59] <eddyb> Tobba: we don't use segmented stacks anymore
[15:29:14] <Tobba> I see a few ARM fixes for one
[15:29:43] <eddyb> where? there's only "Splitstack support for arm/linux." that has arm in it
[15:29:50] <Tobba> ugh
[15:29:58] <Tobba> I think I'm browsing the upstream commits then, goddamn git-svn importing
[15:30:12] <eddyb> Tobba: I gave you a good link
[15:30:13] <eddyb> https://github.com/rust-lang/llvm/commits/f5f1ffea207b6b380127ff34f14015ae005d1413
[15:30:33] <eddyb> rust patches start at "Add the "no-split-stack" attribute"
[15:30:55] <Tobba> ah, yes
[15:30:58] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[15:31:01] *** Quits: Ferreus (ferreus@moz-F084DFA7.dip0.t-ipconnect.de) (Ping timeout)
[15:31:16] <Tobba> so we should be able to abandon the rust specific llvm then?
[15:32:26] <eddyb> the patches still required should be easy to upstream
[15:32:59] <Tobba> think its basicaly only two commits
[15:33:09] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[15:33:11] <Tobba> although the rustc llvm does seem to do some really platform specific stuff I have no idea how to turn off
[15:33:16] <Tobba> I dont think --target helps
[15:34:38] <eddyb> https://github.com/rust-lang/compiler-rt/commits/f4b221571ce6f05714c1f1c6fa48f1393499989c *sigh*
[15:35:03] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[15:35:30] *** Quits: Kxepal (Miranda@moz-E72C39CC.pppoe.mtu-net.ru) (Ping timeout)
[15:35:31] *** Quits: KindOne (KindOne@moz-9898D145.dynamic.ip.windstream.net) (Ping timeout)
[15:38:21] *** Joins: jagtalon (sid24114@moz-E77DEB21.irccloud.com)
[15:39:09] *** Joins: KindOne (KindOne@moz-F8DFA596.dynamic.ip.windstream.net)
[15:39:13] *** Joins: Kxepal (Miranda@moz-ECC1F51A.pppoe.mtu-net.ru)
[15:43:58] *** Quits: twi (Adium@moz-4B419C76.static.tpgi.com.au) (Quit: Leaving.)
[15:46:30] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[15:46:58] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[15:47:02] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[15:48:45] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[15:49:26] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[15:49:45] <Anupkumar> when I am running the parallel hello world.rs file which is given in the link http://www.rustforrubyists.com/book/book.html I am getting the following error: http://pastebin.mozilla.org/4338076
[15:49:59] <Anupkumar> can any one help me out
[15:50:25] *** Joins: doomlord__ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[15:50:43] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[15:51:05] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Quit: Konversation terminated!)
[15:51:13] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[15:51:35] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:51:42] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:53:08] <eddyb> Tobba: http://clang.llvm.org/doxygen/group__CINDEX__TYPES.html
[15:53:16] *** Joins: josh (josh@moz-76F75B70.mpls.qwest.net)
[15:53:55] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:54:02] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[15:55:04] *** Joins: sellout (Adium@moz-CF497E97.hsd1.co.comcast.net)
[15:55:09] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[15:55:59] <eddyb> Tobba: but I can't seem to find anything to lower a C++ function reference or call to LLVM IR
[15:56:46] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[15:57:36] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[15:57:58] *** Quits: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de) (Ping timeout)
[15:58:38] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Ping timeout)
[15:58:39] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[15:59:45] *** Quits: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk) (Ping timeout)
[16:00:00] <al-maisan> hmm .. I am running rustdoc on my root crate and it creates the doc subdir but the latter contains just .js files and no index.html
[16:00:08] *** Joins: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP)
[16:00:10] <al-maisan> any ideas what I am doing wrong?
[16:00:40] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[16:01:25] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[16:01:51] *** Quits: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP) (Ping timeout)
[16:02:00] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[16:02:40] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[16:02:40] *** calvinmetcalf_ is now known as calvinmetcalf
[16:04:23] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:04:46] *** Joins: Erik_ (Erik_S@moz-EFEC8E5D.hlrn.qwest.net)
[16:04:55] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[16:05:12] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[16:05:38] *** Quits: barosl (barosl@34F62860.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[16:06:04] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:07:44] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[16:09:15] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:09:17] *** Joins: barosl (barosl@34F62860.E551553C.7544CABF.IP)
[16:09:27] *** Joins: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk)
[16:12:08] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Quit: Leaving.)
[16:13:34] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:14:29] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[16:14:47] <Tobba> eddyb: any idea about a generic function pointer that can now the arguments
[16:14:53] <Tobba> this is gonna get fucking ridiclous without that
[16:15:03] <Tobba> s/now/know
[16:15:19] <eddyb> "know"?
[16:15:32] <eddyb> can be more... specific?
[16:15:33] <Tobba> think basicaly remote procedure calls
[16:15:37] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[16:15:38] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:15:44] <Tobba> I literally need to be able to staticaly infer all the arguments of a function somehow
[16:15:50] <Tobba> their types
[16:15:56] <Tobba> basicaly
[16:15:58] <eddyb> I am not familiar with RPC :/
[16:16:04] <Tobba> its not really that anyways
[16:16:10] <eddyb> but Rust pseudosyntax is welcome
[16:16:20] <Tobba> I dont even know how it would look, I have an object
[16:16:29] <Tobba> then I need to somehow, some way, specify how to call functions on that
[16:16:48] <Tobba> in a way that can be done without involving anything other than global extern C functions when calling the kernel to tell it
[16:17:11] <eddyb> sounds hard
[16:17:36] <Tobba> yeah ugh
[16:17:39] <Tobba> this is going to suck
[16:17:51] <Tobba> then calling that I need to just be able to have something with
[16:18:05] <Tobba> call(<function number>, <variadic args>)
[16:18:49] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[16:19:18] <Tobba> so I basicaly need a bazillion features that arent implemented, then some more on that
[16:19:27] <eddyb> you can do typesafe virtual variadic calls with variadic generics and just storing the arguments in a tuple as ~Any or &Any
[16:19:45] <eddyb> would that work for you?
[16:19:47] <Tobba> oh god what
[16:19:57] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:20:01] <Tobba> I think so if I had any idea what you just said
[16:20:14] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[16:20:53] <eddyb> fn foo(args: &Any) {match args.as_ref::<(int, &str)> {Some((a, b)) => {...} None => {/*oops, wrong argument types*/}}}
[16:21:00] *** Joins: gunther (Mibbit@A98A2754.7BC6265B.A3D1B221.IP)
[16:21:01] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[16:21:17] <eddyb> I guess you don't really need variadic generics if you don't mind wrapping your arguments in a tuple
[16:21:23] *** Quits: Kxepal (Miranda@moz-ECC1F51A.pppoe.mtu-net.ru) (Quit: Kxepal)
[16:21:27] *** Quits: gunther (Mibbit@A98A2754.7BC6265B.A3D1B221.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:21:34] <Tobba> yeah wrapping them in a tuple would probably be fine
[16:21:40] *** Joins: Kxepal (Miranda@moz-ECC1F51A.pppoe.mtu-net.ru)
[16:21:55] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[16:22:06] <Tobba> I could force inline it
[16:22:16] <Tobba> and the optimizer will sort it out
[16:22:41] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:22:43] <eddyb> well, if you go over an opaque boundary, it won't be able to devirtualize anything
[16:22:58] <Tobba> it'll be fine with LTO
[16:23:10] <eddyb> then I don't understand what's going on
[16:23:24] <Tobba> I think at least
[16:23:30] <Tobba> not exactly sure how Any works
[16:23:37] <eddyb> it's a trait
[16:23:57] <Tobba> oh dear
[16:24:05] <Tobba> that means more lang_item's and that brings me right back to std hell
[16:24:18] <Tobba> (please separate OS dependant stuff out of std already goddamn)
[16:24:28] <eddyb> only one or two, for TypeId
[16:24:29] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[16:25:25] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:26:25] <Tobba> yeah
[16:26:31] <Tobba> god getting shit done in this situation is awful
[16:26:57] <Tobba> theres a billion things I need to fix, most of which are just massive bullshittery from within rust itself that i need to sort out
[16:27:06] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:27:41] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Ping timeout)
[16:27:41] <Tobba> its mostly std shit
[16:27:55] <Tobba> most of the OS dependant things inside of std doesnt even *apply* to my system
[16:28:33] <jensnockert> Why am I even writing a DSL for wrapping C libraries…
[16:28:54] * jensnockert needs a hug.
[16:29:01] <eddyb> jensnockert: we do what we must because we can \o/
[16:29:07] <jensnockert> \o/
[16:29:35] *** Quits: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP) (Ping timeout)
[16:29:41] *** Quits: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[16:29:43] *** Joins: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP)
[16:29:49] *** Quits: vmx (vmx@moz-6C0BA5A0.dip0.t-ipconnect.de) (Quit: Leaving)
[16:30:34] <Tobba> eddyb: also need to have a struct, which just contains an id, and it has a generic thing within it
[16:30:53] * eddyb stops thinking
[16:30:54] <Tobba> I need to somehow make it so any calls on that object go to the generic parameter, and that generic param needs a pointer to the param
[16:31:10] <eddyb> jensnockert: https://www.youtube.com/watch?v=Y6ljFaKRTrI
[16:31:11] <Tobba> actually thats a really badly formatted sentance but ugh
[16:31:35] <eddyb> probably lower quality than possible
[16:31:46] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Ping timeout)
[16:31:58] <Tobba> still, there was a way to "redirect" calls to something right?
[16:32:06] <Tobba> like C's operator->
[16:32:23] <eddyb> -> in C is sugar
[16:32:34] <eddyb> in C++, it's overridable
[16:32:37] <Tobba> I mean in C++
[16:32:46] <Tobba> the other option is to just have the structs implement the trait as a dummy thing
[16:32:47] <Tobba> so you have
[16:32:52] <eddyb> "You just keep on trying till you run out of cake"
[16:32:56] <Tobba> let something: Handle<File>;
[16:33:05] <Tobba> File::write(something, "asdf")
[16:33:08] <Tobba> but that'd be semi-awful
[16:33:38] <eddyb> why not something.write("asdf")?
[16:33:57] <eddyb> aaaah I think I see what you want to do
[16:34:04] <eddyb> this is a syscall gate, right?
[16:34:07] <Tobba> basicaly
[16:34:14] <Tobba> sort of
[16:34:20] <Tobba> the Handle implements a call() method
[16:34:25] <Tobba> which just does a syscall
[16:34:36] <Tobba> but thats the only way to call something on a handle, so write has to use call() on that handle
[16:34:57] *** Quits: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk) (Ping timeout)
[16:35:04] <eddyb> I came up with a cool design in C++11
[16:35:20] <Tobba> so that write method can do something like handle.call(1, (data))
[16:35:21] <eddyb> and had some ideas to improve it with Rust, let me try to remember
[16:36:02] <eddyb> Tobba: you can have a trait and implement it for Handle<File>
[16:36:05] *** Joins: Ferreus (ferreus@moz-A3EFFE5C.lsn.wtnet.de)
[16:36:27] *** Joins: sprog (Mibbit@B7D72BC.960BDC77.3A9B6B78.IP)
[16:36:37] <Tobba> oh shit thats a good idea
[16:36:40] *** Joins: Benvie1 (Thunderbir@125EF623.B2666F0E.66399531.IP)
[16:36:42] <Tobba> will do
[16:36:44] *** Quits: Benvie1 (Thunderbir@125EF623.B2666F0E.66399531.IP) (Input/output error)
[16:36:48] <Tobba> even though that results in a lot of dummy traits, yep this is gonna work
[16:36:50] *** Quits: lunaryorn (lunaryorn@moz-15820805.dynamic.mnet-online.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:36:53] <eddyb> but I would rather have something like struct File {priv handle: Handle<File>}
[16:36:57] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[16:36:57] <eddyb> so you just use File
[16:38:11] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[16:38:20] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[16:39:21] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:39:35] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[16:39:50] *** vfetwnuncszu is now known as dcrewi
[16:40:12] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[16:41:06] <jensnockert> Hm… how do I create a zero-filled copy of a struct in the easiest way inside of a code generator?
[16:41:36] <jensnockert> I want to pass it to a C init function.
[16:41:49] <eddyb> Tobba: a few problems I didn't know how to overcome: safe handles are sequential integers... but how do you map them to objects on the kernel side?
[16:43:03] <eddyb> unless... on x64 you can abuse the address space to give the userspace a pointer specific to its process/thread, but inaccessible from outside kernelspace
[16:43:06] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[16:44:10] *** Joins: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP)
[16:44:16] *** Joins: kbsletten (kyle@moz-D5513CBA.static.snlo.ca.charter.com)
[16:46:30] *** Joins: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk)
[16:46:44] <eibwen> jensnockert: I believe you're looking for unstable::intrinsics::init()
[16:46:57] <jensnockert> eibwen: I think so too.
[16:48:13] <Tobba> eddyb: when you call something thats in another process, it creates a new thread
[16:48:21] <Tobba> in a lightweight fashion
[16:48:31] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[16:49:31] *** Quits: cy (user@moz-83728A1C.hsd1.ca.comcast.net) (Ping timeout)
[16:49:31] *** Joins: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com)
[16:50:15] *** Quits: veeti (veeti@moz-D6414854.rojekti.fi) (Quit: Bye)
[16:51:44] <Tobba> I hope that will perform fast enough actually
[16:52:04] <Tobba> and in thoery it should be able to reuse the threads if stuff gets queued
[16:52:30] *** Joins: till (till@moz-E0853D96.superkabel.de)
[16:52:33] *** till is now known as flan3002
[16:54:01] <flan3002> If I want to add generic arguments, do I need <T: Add<T, T>>?
[16:54:07] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:55:00] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:55:36] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[16:55:46] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[16:56:01] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:56:15] *** Quits: Erik_ (Erik_S@moz-EFEC8E5D.hlrn.qwest.net) (Ping timeout)
[16:56:38] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[16:56:48] *** Quits: barosl (barosl@34F62860.E551553C.7544CABF.IP) (Ping timeout)
[16:58:30] *** Quits: sprog (Mibbit@B7D72BC.960BDC77.3A9B6B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:58:47] *** Joins: tholbrook (Mibbit@B7D72BC.960BDC77.3A9B6B78.IP)
[16:59:11] *** Joins: fabrice (fabrice@moz-BBE3ABD.mv.mozilla.com)
[16:59:12] <flan3002> Or, to word it differently: Why do I get "expected std::ops::Mul<f64,int>, but found std::ops::Mul<i
[16:59:28] <flan3002> nt,int> (expected f64 but found int)
[16:59:37] <flan3002> When T is an int?
[16:59:42] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:59:46] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:00:09] *** Quits: al-maisan (al-maisan@64FB5EA9.7E16DAE8.FD9D6DD1.IP) (Ping timeout)
[17:00:11] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:00:20] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:00:47] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[17:01:57] <mrmonday> if I have struct foo { int a; union { struct bar *b; struct car *c; }; }; in C, what's the best way to bind this in rust?
[17:02:08] <mrmonday> (specifically the union)
[17:03:30] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[17:04:45] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[17:04:45] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:05:31] *** Joins: cy (user@moz-6964FF68.airbears2.berkeley.edu)
[17:05:54] <Tobba> also, what happened to microsofts rust thing
[17:06:25] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:06:32] <Tari> mrmonday: with an enum, probably
[17:06:38] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[17:06:49] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:07:02] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[17:07:27] *** Quits: victorporof (victorporo@71D2639B.1208AAEA.91651C13.IP) (Quit: victorporof)
[17:08:12] <jdsanders> mrmonday: I think something like `struct { a: int, u: enum { b(bar), c(car) } }` would work
[17:08:17] <jdsanders> http://static.rust-lang.org/doc/master/tutorial.html#enums
[17:08:33] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:08:46] *** Joins: sunfish (chatzilla@moz-C06D9702.mtv1.mozilla.com)
[17:09:03] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[17:09:29] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[17:10:02] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[17:11:39] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Connection reset by peer)
[17:11:57] <Yurume> mrmonday, the "guaranteed" way is to define three structs and transmute as needed.
[17:12:34] <Yurume> i.e. struct foo_base { a: c_int, _dummy: *() } struct foo_b { a: c_int, b: *bar } struct foo_c { a: c_int, c: *bar }
[17:12:53] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[17:13:01] *** Joins: Papierkorb (papierkorb@moz-F2F3425C.unitymediagroup.de)
[17:13:07] <Yurume> you *can* use enums for similar effects, but it won't work for every case and you need to know about the exact representation of enums (#[repr(C)] etc.)
[17:16:04] <eddyb> #[repr(i32)] to be precise
[17:16:10] <eddyb> mrmonday: what are the possible tags?
[17:16:12] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[17:16:27] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[17:17:54] *** Quits: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP) (Quit: Leaving...)
[17:18:02] <cremes> i have a question about the online docs for stdlib. how can i pull up a list of *all* functions defined on a module like std::vec?
[17:18:03] <Yurume> eddyb, if that works, yes. I think #[repr(c_int)] does not work though?
[17:18:03] *** Quits: benjamin_____ (benjamin@moz-7E387E2B.dip0.t-ipconnect.de) (Ping timeout)
[17:18:21] <eddyb> Yurume: c_int is i32 on all supported architectures
[17:18:27] <cremes> stuff like #len() is hidden away inside of a Trait that it implements.
[17:18:31] *** Quits: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk) (Ping timeout)
[17:18:42] *** Joins: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk)
[17:18:54] <Yurume> functions? methods? methods from all traits that structs implement?
[17:18:56] *** Joins: al-maisan (al-maisan@3199BFA1.3C359606.3CA1F9DE.IP)
[17:19:00] <eddyb> cremes: you can't "expand all traits", sadly
[17:19:02] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:19:15] <cremes> Yurume: yes, all functions, methods, everything
[17:19:34] <Yurume> the third one is unfortunately not available
[17:19:35] <jensnockert> AMAZE!
[17:19:36] <cremes> eddyb: i wish it were so. 
[17:20:12] <hoverbear> jensnockert: wow    such amaze
[17:20:15] <jensnockert> From a simple JSON file I created https://gist.github.com/jensnockert/9096768
[17:20:17] <Yurume> and well, traits can live in other crates (for example you can implement your own trait for uint) so the full list is impossible
[17:20:22] <jensnockert> So much simple, very wrap!
[17:20:42] <Yurume> the partial list (limited to the current and dependent crates) would be possible, but not yet implemented.
[17:22:40] *** Joins: skade (skade@moz-949AD80B.web.vodafone.de)
[17:22:44] *** zz_kimundi is now known as kimundi
[17:23:18] <flan3002> Why doesn't int implement Add<f64, int>?
[17:23:23] <flan3002> Or does it?
[17:23:37] *** Quits: ricepuddin (graham@moz-36330298.wlan.ic.ac.uk) (Ping timeout)
[17:23:37] <cmr> flan3002: because you can't add ints and floats.
[17:23:41] <eddyb> flan3002: why would it?
[17:23:41] <Yurume> flan3002, in general the arithmetic conversion is explicit in Rust.
[17:23:47] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[17:23:53] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[17:24:10] <eddyb> well, derp, I decide to reply at the same time as everyone else
[17:24:17] *** Joins: victorporof (victorporo@125EF623.B2666F0E.66399531.IP)
[17:24:20] <jensnockert> And in a few seconds, I managed to wrap 7 more constructors \o/
[17:24:37] <eddyb> jensnockert: is this GIR?
[17:24:42] <jensnockert> eddyb: No.
[17:24:43] <eddyb> can you give us GTK?
[17:24:50] <Yurume> some think the upcasting (that does not lose the accuracy) is fine, others think not, but Rust is certainly not a language that allows for arbitrary implicit conversions.
[17:25:05] <jensnockert> eddyb: This is just a random JSON format I decided on 15 minutes ago, but it is easy to modify.
[17:25:23] <jensnockert> I tried parsing Vala vapi files first, but it was hard as ****.
[17:25:41] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:25:42] <eddyb> you're not supposed to parse vala
[17:25:48] <eddyb> you're supposed to use its API to parse it
[17:26:02] <jensnockert> I did, but it was still hard.
[17:26:19] <eddyb> have you tried working on top of valabind?
[17:26:27] <jensnockert> That's what I was trying.
[17:26:35] <eddyb> ohh?
[17:26:48] <jensnockert> The code is like… crazy?
[17:26:54] <eddyb> I guess you got to it before I had a chance
[17:27:07] <jensnockert> It felt like it was written by 7 different people.
[17:27:11] <jensnockert> Which it probably was.
[17:27:11] <eddyb> jensnockert: no kidding, and I refactored a big bunch of it
[17:27:18] *** Quits: rca_ (rcatolino@moz-59EB1693.adsl.proxad.net) (Quit: leaving)
[17:27:25] <eddyb> nodeffiwriter was the nicest one, at the time of the writing
[17:27:27] <flan3002> cmr: Okay, I want to multiply a type T with an f64. This type *could* be int, so how do I specify the correct trait bounds then?
[17:27:38] <eddyb> you can't
[17:27:42] <cmr> flan3002: there's a FromPrimitive and ToPrimitive
[17:27:52] <mrmonday> Yurume/eddyb: Thanks, I worked around it in the end :) (turns out both things in the union were the same type with different names... so I just picked a name :<)
[17:28:01] <eddyb> LOL
[17:28:11] <Yurume> awwwwwwwww! :)
[17:28:37] <eddyb> jensnockert: but it still has a bunch of nasty artifacts like dealing with types using strings and... eww
[17:29:22] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[17:29:27] <mrmonday> it's particularly funny, because it names the union, then #defines each of the fields in the union so you can access them without the name of the union... so they may as well just had one field in the first place with a #define :3
[17:29:31] <eddyb> jensnockert: I just didn't put more time into making it better. if you can work out a rudimentary implementation, you can then use it to bind the Vala APIs from Rust and rewrite valabind in Rust :P
[17:29:46] <eddyb> mrmonday: that's what I call idiots ;)
[17:30:10] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[17:30:16] <jensnockert> eddyb: That's a nice idea.
[17:30:50] <mrmonday> (less wordy... union { struct foo *a; struct foo *b; } c; #define a c.a #define b c.b)
[17:31:13] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[17:31:14] <flan3002> cmr: Well, but what if my type has a self implemented Mul?
[17:31:39] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[17:31:55] <eddyb> jensnockert: just like binding clang's C API and using it to replace the C bindings to LLVM in rustc with C++ ones :)
[17:32:22] <mrmonday> eddyb: man getifaddrs :)
[17:32:24] <eddyb> mrmonday: oh dear. no I won't
[17:32:28] <mrmonday> :D
[17:32:36] <flan3002> What if I can't convert it to an f64 to multiply it with one? Do I really need to impl Mul for all primitive types now to do the conversation?
[17:32:52] <eddyb> flan3002: you can't do that either
[17:33:10] *** Joins: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net)
[17:33:19] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Ping timeout)
[17:33:30] <mrmonday> eddyb: while poking around the header files for it I found "XXX - this should go away soon."... For a file last modified 21 years ago :)
[17:33:30] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[17:33:33] <eddyb> flan3002: you will have to implement your own MulWithFloat trait
[17:33:56] <mrmonday> beautiful stuff :<
[17:34:05] <eddyb> jensnockert: but that's wishful thinking when I can barely work on this small PR
[17:34:17] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[17:34:24] * jensnockert hugs eddyb.
[17:34:34] <flan3002> eddyb: Hm, thats annoying...
[17:34:38] <jensnockert> I wish I had more time too.
[17:36:15] <mrmonday> more time, that sounds awesome1
[17:36:17] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:36:19] *** Joins: eholk (eholk@A1D6EBC1.93E9F6F4.284344F5.IP)
[17:36:20] <mrmonday> where do I get it? :<
[17:36:32] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[17:36:32] *** ChanServ sets mode: +o jdm
[17:36:47] *** Quits: skade (skade@moz-949AD80B.web.vodafone.de) (Connection reset by peer)
[17:37:19] *** Quits: sk (sk@35CFDE22.E993C7C3.78DD174B.IP) (Ping timeout)
[17:37:38] <eddyb> jensnockert: eh, I have time, but time is just half the story
[17:37:50] <jensnockert> Aww :(
[17:37:55] * jensnockert hugs eddyb.
[17:38:27] <eddyb> you remind me of Dinnerbone :3
[17:41:11] *** Joins: skade (skade@moz-949AD80B.web.vodafone.de)
[17:41:45] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[17:42:12] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[17:43:37] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[17:43:37] *** Joins: lunaryorn (lunaryorn@moz-15820805.dynamic.mnet-online.de)
[17:43:47] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:43:47] *** ChanServ sets mode: +ao dherman dherman
[17:44:42] *** Quits: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Ping timeout)
[17:44:45] *** Joins: deepak (Mibbit@ED3C957F.8DA34948.2500E834.IP)
[17:45:01] *** Joins: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[17:45:17] <jensnockert> Err… I cannot have a StructName::m(something: int) and a StructName::m(&self, something: int) … :(
[17:45:26] <jensnockert> This is going to make things slightly more complicated.
[17:45:52] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[17:45:53] *** Quits: skade (skade@moz-949AD80B.web.vodafone.de) (Connection reset by peer)
[17:46:09] <eddyb> jensnockert: why?
[17:46:18] <jensnockert> Because rustc tells me so.
[17:46:33] <jensnockert> rustc is my god now :(
[17:46:36] <steveklabnik> lol
[17:46:56] <eddyb> jensnockert: why do you need two m's, that is
[17:47:50] <jensnockert> eddyb: One is Matrix::rotate(phi) and one is m.rotate(phi).
[17:48:14] <jensnockert> They do slightly different, but almost the same thing.
[17:48:18] <eddyb> jensnockert: can you have the output contain 4 spaces instead of tabs? it's kinda hard to read that stuff
[17:48:40] *** Quits: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[17:48:49] <jensnockert> Silly github and their 8-wide tabs…
[17:49:03] <eddyb> what does Matrix::rotate do?
[17:49:17] <cmr> creates a rotation matrix I imagine
[17:49:21] <jensnockert> eddyb: Create a Matrix that represents a rotation.
[17:49:30] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[17:49:36] <jensnockert> The second one multiplies the m with that matrix.
[17:49:39] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[17:49:39] <cmr> m.rotate(phi) being m * Matrix::rotate(phi)
[17:49:45] <jensnockert> ^
[17:49:48] <eddyb> rusti: struct Foo; impl Foo {fn bar(self) {}} mod Foo {fn bar(){}} 42
[17:49:50] -rusti- pastebinned 8 lines of output: http://ix.io/aC9
[17:49:57] <eddyb> cmr: right, I should've figured
[17:50:16] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[17:50:22] <eddyb> rusti: struct Foo; impl Foo {fn bar(self) {} fn bar(){}} 42
[17:50:25] -rusti- pastebinned 8 lines of output: http://ix.io/aCa
[17:50:30] <cmr> eddyb: http://linear.ups.edu/html/fcla.html :)
[17:50:43] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[17:50:59] <eddyb> don't be a silly cmr, I didn't quit highschool *that* soon :P
[17:51:12] <eddyb> wait, GNU doc license? heh
[17:51:17] <eddyb> at least it's not GPL
[17:52:12] <eddyb> jensnockert: I think this is an issue with possible upcoming UFCS, where you could use Foo::bar to also access the method
[17:52:23] <jensnockert> I think so.
[17:52:28] * jensnockert hugs steveklabnik.
[17:52:47] <eddyb> rusti: struct Foo; impl Foo {fn bar(self) {}} Foo::bar
[17:52:47] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:52:47] -rusti- pastebinned 8 lines of output: http://ix.io/aCb
[17:52:47] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[17:52:47] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:52:50] *** Parts: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) ()
[17:53:04] <cmr> it's just function overloading.
[17:53:13] *** Joins: skade (skade@moz-E104A737.web.vodafone.de)
[17:53:20] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[17:53:25] <eddyb> without UFCS, they don't interact in the same contexts
[17:53:36] <SiegeLord> I feel like Matrix::rotate is a strange name... why not ::rotation?
[17:53:47] <eddyb> good point
[17:54:22] <eddyb> I wouldn't even have asked what they meant if that were the case already :P
[17:54:46] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[17:55:49] *** Quits: skade (skade@moz-E104A737.web.vodafone.de) (Ping timeout)
[17:55:49] <eddyb> jensnockert: hmm, you could prefix the static functions returning the type of the impl with new_
[17:55:49] <alan_andrade> Guys, is there any Rust hack meetup or group? Not the mozilla monthly (most of the time) meetup.
[17:56:25] <jensnockert> eddyb: Yeah, that's how I'm solving it.
[17:56:25] <jensnockert> alan_andrade: Yes, there are multiple.
[17:56:25] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:56:25] <hoverbear> alan_andrade: I'd love to start on in Victoria BC if you're nearby
[17:56:25] <jensnockert> alan_andrade: Where do you live?
[17:56:25] <alan_andrade> Sf
[17:56:40] <jensnockert> No idea.
[17:56:49] *** pmoore is now known as pmoore|away
[17:57:14] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[17:57:28] *** Parts: deepak (Mibbit@ED3C957F.8DA34948.2500E834.IP) ()
[17:59:15] *** Quits: gmjosack (gary@moz-CB7AA3B8.hsd1.ca.comcast.net) (Ping timeout)
[18:02:54] *** jorendorff is now known as jorendorff_away
[18:03:39] *** Quits: astroch (astroch@moz-E8282F5F.dhcp.embarqhsd.net) (Ping timeout)
[18:04:12] *** Quits: sunfish (chatzilla@moz-C06D9702.mtv1.mozilla.com) (Ping timeout)
[18:04:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:05:12] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[18:05:50] <eddyb> jensnockert: want to share your input here? https://github.com/radare/valabind/issues/20
[18:05:54] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:06:11] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:06:13] *** Joins: q66 (q66@moz-49F29937.dab.02.net)
[18:06:16] <eddyb> ah, great, I forgot the entire github UI is broken for me, I can't de-assign myself
[18:06:45] <jensnockert> eddyb: No idea about the stability tbh.
[18:06:52] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[18:06:57] <eddyb> not that, but if you've played with it
[18:07:34] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:07:54] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[18:08:02] *** Quits: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP) (Ping timeout)
[18:08:34] *** Joins: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP)
[18:08:49] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[18:08:54] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[18:09:16] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[18:09:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:09:55] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[18:10:46] <mrmonday> error: mismatched types: expected `std::io::net::ip::IpAddr` but found `io::net::ip::IpAddr
[18:10:49] <mrmonday> oh dear
[18:11:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:11:06] *** Joins: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP)
[18:11:25] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[18:11:25] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:11:40] *** Joins: skade (skade@moz-E104A737.web.vodafone.de)
[18:13:28] *** Quits: skade (skade@moz-E104A737.web.vodafone.de) (Connection reset by peer)
[18:16:06] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:17:38] *** Joins: skade (skade@moz-E104A737.web.vodafone.de)
[18:18:04] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[18:19:26] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[18:19:28] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Ping timeout)
[18:19:35] *** Parts: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) ()
[18:19:36] *** Quits: skade (skade@moz-E104A737.web.vodafone.de) (Ping timeout)
[18:19:51] *** Quits: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP) (Quit: Leaving...)
[18:20:46] *** Joins: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[18:22:36] *** Joins: skade (skade@moz-E104A737.web.vodafone.de)
[18:22:36] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[18:22:36] *** jorendorff_away is now known as jorendorff
[18:23:24] <jensnockert> Ignore the fact that github hates tabs, but generating the bindings from the json file is pretty slick https://gist.github.com/jensnockert/9096768
[18:25:03] *** Quits: skade (skade@moz-E104A737.web.vodafone.de) (Ping timeout)
[18:26:14] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[18:27:35] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:27:55] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:28:42] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[18:28:52] *** Joins: skade (skade@moz-E104A737.web.vodafone.de)
[18:29:02] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:29:02] *** ChanServ sets mode: +ao brson brson
[18:29:09] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:29:10] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:29:57] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:30:14] *** Joins: teosz (teosz@99460ACD.CE49C615.3EA6AAD8.IP)
[18:30:22] <teosz> hello 
[18:30:48] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[18:30:51] *** Quits: skade (skade@moz-E104A737.web.vodafone.de) (Ping timeout)
[18:30:56] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[18:31:04] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[18:32:25] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:32:36] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:33:03] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[18:33:24] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:33:29] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:34:37] *** Quits: lunaryorn (lunaryorn@moz-15820805.dynamic.mnet-online.de) (Quit: Textual IRC Client: www.textualapp.com)
[18:34:59] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:36:17] *** Quits: fyolnish (fyolnish@moz-659B8088.uqwimax.jp) (Ping timeout)
[18:36:39] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[18:36:42] *** Joins: new_one (new_one@75512748.6D46D672.B3C0173E.IP)
[18:36:48] *** Joins: fyolnish (fyolnish@moz-659B8088.uqwimax.jp)
[18:37:58] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[18:38:05] *** Joins: gmjosack (gary@F91A859E.75E3DBFA.7AB8439E.IP)
[18:39:35] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:39:40] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[18:40:01] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:40:16] *** Quits: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se) (Ping timeout)
[18:41:17] *** Quits: teosz (teosz@99460ACD.CE49C615.3EA6AAD8.IP) (Ping timeout)
[18:42:28] *** Joins: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP)
[18:43:27] <jensnockert> Hurray, wrapped all of Cairo's matrix library \o/
[18:44:18] <steveklabnik> nice!
[18:44:53] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[18:44:57] *** Quits: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP) (Quit: Leaving...)
[18:45:03] *** Joins: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP)
[18:45:22] *** Joins: herrwolfe45 (herrwolfe4@moz-3F0F09A7.cm.sunflower.com)
[18:45:35] *** Joins: skade (skade@moz-E104A737.web.vodafone.de)
[18:46:24] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[18:47:17] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[18:47:37] *** Joins: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP)
[18:47:38] <jensnockert> Now I just need to wrap the rest!
[18:47:48] <jensnockert> If textmate didn't lock up :(
[18:47:55] *** Quits: skade (skade@moz-E104A737.web.vodafone.de) (Ping timeout)
[18:48:23] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[18:48:48] *** Parts: herrwolfe45 (herrwolfe4@moz-3F0F09A7.cm.sunflower.com) ()
[18:49:02] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[18:49:49] *** Quits: al-maisan (al-maisan@3199BFA1.3C359606.3CA1F9DE.IP) (Ping timeout)
[18:51:09] <jensnockert> Except it doesn't work…
[18:51:09] <teosz> know everyone a exemple of rust prevent error, namely a snnipet in C that compile and exectute with segfault , and snnipet code that have complile error in rust
[18:52:14] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:54:41] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[18:54:58] <steveklabnik> teosz: i do
[18:55:16] <sfackler> teosz: int *broken() { int i = 42; return &i; } fn broken() -> &int { let i = 42; &i }
[18:55:18] <steveklabnik> teosz: check out http://words.steveklabnik.com/a-30-minute-introduction-to-rust
[18:55:31] <steveklabnik> whic his basically what sfackler said ;)
[18:55:47] *** Joins: lkuper (lkuper@1E0BD410.CDD31A0A.51B6877.IP)
[18:56:23] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[18:56:29] <teosz> steveklabnik: thanks
[18:56:57] *** Joins: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com)
[18:57:09] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[18:57:11] *** Quits: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP) (Quit: Leaving...)
[18:58:15] <mcpherrin> hmmph I tried to demo a double-free error for teosz but the C version didn't crash!
[18:58:33] <mcpherrin> instead choosing to hide its incorrect behaviour :p
[18:59:01] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:59:15] <sfackler> mcpherrin: you can turn on debug mode on a lot of malloc implementations that'll make it better at detecting double frees
[18:59:19] <sfackler> or just run it in valgrind
[18:59:24] <mcpherrin> yeah :-)
[19:00:06] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Ping timeout)
[19:00:40] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[19:01:11] <teosz> sfackler: the gcc don't compile that exemple
[19:01:12] <teosz> test.c: In function ‘broken’:
[19:01:12] <teosz> test.c:6:5: warning: function returns address of local variable [-Wreturn-local-addr] return &a; ^
[19:01:28] <sfackler> it compiled it, it just warned you that you're doing something bad
[19:01:58] *** Quits: fyolnish (fyolnish@moz-659B8088.uqwimax.jp) (Client exited)
[19:02:26] *** Joins: fyolnish (fyolnish@moz-659B8088.uqwimax.jp)
[19:02:52] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[19:03:27] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:04:12] *** Quits: fyolnish (fyolnish@moz-659B8088.uqwimax.jp) (Ping timeout)
[19:04:38] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[19:05:03] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:05:27] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:05:43] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[19:05:51] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:07:54] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[19:08:03] *** Quits: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[19:08:09] *** Joins: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com)
[19:08:10] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[19:08:39] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[19:08:41] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[19:08:44] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[19:09:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:10:33] <jensnockert> Why u no work Cairo, *prods*
[19:11:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:11:15] <eddyb> jensnockert: drop a couple of pyramids and a sphinx on it, see what happens
[19:11:41] *** Joins: skade (skade@moz-28940D69.web.vodafone.de)
[19:11:43] *** Quits: skade (skade@moz-28940D69.web.vodafone.de) (Client exited)
[19:12:16] *** Quits: cy (user@moz-6964FF68.airbears2.berkeley.edu) (Ping timeout)
[19:12:31] <jensnockert> C-version works, Rust does not. https://gist.github.com/jensnockert/9099349
[19:12:51] <jensnockert> Compiles fine, just doesn't modify the struct :(
[19:13:15] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[19:13:53] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:14:20] <jensnockert> eddyb: Any tips?
[19:16:24] <eddyb> jensnockert: is that the correct shape for the struct?
[19:16:26] <jensnockert> Disregard me, I suck.
[19:16:33] <jensnockert> I added a random result thingy.
[19:16:46] <jensnockert> And it changed the ABI some way, so it returned in the wrong register.
[19:17:04] <jensnockert> Removing the -> Matrix fixes it.
[19:17:20] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Ping timeout)
[19:17:31] *** Quits: sigma (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Ping timeout)
[19:18:22] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[19:19:00] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:19:03] *** Joins: tundor (lundor@moz-9BFAFD03.swordarmor.fr)
[19:22:24] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[19:22:56] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[19:23:14] *** Joins: Savago (Savago@2BEBC716.E820043D.D4C04133.IP)
[19:23:36] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[19:25:00] *** Quits: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu) (Ping timeout)
[19:25:29] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[19:25:30] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:26:13] *** Joins: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP)
[19:26:18] *** Quits: jackneill (jackneill@moz-D52B47AA.pool.digikabel.hu) (Ping timeout)
[19:26:28] *** Joins: leafstorm (leafstorm@moz-F57A2464.rh.ncsu.edu)
[19:27:36] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[19:27:36] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:27:50] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[19:30:20] <flan3002> Okay once again: Does anyone have an idea how to make "*start + (*end - *start) * alpha" compile, with "start: &T, end: &T, alpha: f64" without implementing anything per type manually?
[19:30:40] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:31:04] <SiegeLord> Maybe convert alpha to T?
[19:31:07] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[19:31:16] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[19:31:56] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[19:32:12] <flan3002> SiegeLord: You mean changing "f64" to "T"? I can't do that, I need any floating point type there...
[19:32:19] <cremes> yesterday i received help in-channel for a simple sort program. i am now trying to get that program to use generics.
[19:32:50] <SiegeLord> flan3002: No, I don't mean that... I mean converting alpha to T inside the function
[19:33:05] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:33:11] <cremes> that pushed me to adding a closure to the sort() signature. i can't seem to get the compiler to let me pass and i'm not sure how to solve the error. pls take a look:  https://gist.github.com/chuckremes/9080237
[19:34:05] <flan3002> SiegeLord: But what if T is not a primitive type? What if T is e.g. a 3D Vector?
[19:34:12] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[19:34:43] *** Joins: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP)
[19:34:45] <SiegeLord> Oh, well, implement Mul for that vector and f64
[19:35:41] <SiegeLord> It'd be fn interp<T: Mul<f64, T> + ...>(start: &T, end: &T, alpha: f64)
[19:35:51] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[19:36:10] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[19:36:15] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Quit: teosz)
[19:36:32] <flan3002> But then I have to implement Mul<f64, T> for all primitive types as well... -.-
[19:36:57] <flan3002> Well, okay, I'll accept that ugly solution. :P
[19:37:12] <flan3002> I just hoped I could somehow get around it.
[19:37:26] <SiegeLord> Will that even work?
[19:37:57] <flan3002> I'll try.
[19:38:23] <SiegeLord> I don't think it will
[19:39:02] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[19:39:51] <flan3002> Well, it doesn't...
[19:40:08] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Ping timeout)
[19:40:13] *** Quits: eholk (eholk@A1D6EBC1.93E9F6F4.284344F5.IP) (Quit: eholk)
[19:40:26] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[19:41:25] <flan3002> SiegeLord: Is there a common trait all primitives implement?
[19:41:51] <flan3002> Never mind, found it... :)
[19:42:06] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[19:42:12] * flan3002 should search the documentation before bothering others...
[19:42:26] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[19:42:46] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.3)
[19:43:27] *** Joins: awidegreen (awidegreen@AC0351CD.7B7767E.3688B332.IP)
[19:43:35] *** Joins: mgottschlag (quassel@moz-7841FD83.cust.bluewin.ch)
[19:45:08] *** Quits: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP) (Quit: Leaving...)
[19:45:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[19:45:46] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[19:45:58] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:46:19] *** jorendorff is now known as jorendorff_away
[19:46:43] <SiegeLord> The cleanest solution that I can think of now is to introduce your own multiplication trait and call it
[19:46:50] <SiegeLord> *and implement it
[19:47:03] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[19:47:10] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[19:47:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[19:48:46] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[19:48:58] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[19:49:08] <Jemaclus> fwiw, threads like this are awesome: http://www.reddit.com/r/rust/comments/1y9al3/learning_rust/
[19:49:24] <SiegeLord> o_O
[19:49:28] <Jemaclus> i learn more from those kinds of things than I do messing about on my own. That was incredibly helpful to me
[19:49:44] <SiegeLord> Oh wow, did I just find a bug... does Rust just look for a method name when looking for operator overloads?
[19:49:46] *** Joins: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP)
[19:49:59] *** Quits: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP) (Quit: Linkinus - http://linkinus.com)
[19:50:32] <SiegeLord> https://gist.github.com/SiegeLord/9100171
[19:50:45] <SiegeLord> Well, needless to say that's not supposed to work... don't actually do this :P
[19:50:53] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[19:51:08] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[19:51:54] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[19:51:56] *** Joins: dherman (dherman@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:51:56] *** ChanServ sets mode: +ao dherman dherman
[19:52:03] <SiegeLord> (yes, changing the method name breaks that code)
[19:54:03] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Client exited)
[19:54:16] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[19:55:28] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:57:12] *** Quits: victorporof (victorporo@125EF623.B2666F0E.66399531.IP) (Quit: victorporof)
[19:57:20] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[19:59:01] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:59:05] *** Quits: kbsletten (kyle@moz-D5513CBA.static.snlo.ca.charter.com) (Ping timeout)
[19:59:45] *** Joins: tjc (tjc@moz-346C31FF.tmodns.net)
[19:59:45] *** ChanServ sets mode: +o tjc
[19:59:47] *** Joins: victorporof (victorporo@125EF623.B2666F0E.66399531.IP)
[19:59:58] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:00:09] <flan3002> SiegeLord: Hm, that's interesting... Though I guess I should not rely on it.
[20:01:07] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[20:01:07] *** Joins: fyolnish (fyolnish@moz-D0FF717.uqwimax.jp)
[20:01:31] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:01:48] <eddyb> SiegeLord: HAHAHAHA
[20:02:18] <eddyb> I've forgotten that operator overloads are not strongly resolved by trait
[20:02:46] *** Quits: santiago (santiago@moz-C0D6FDAD.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[20:02:47] <Tobba> someone should probably fix that
[20:02:49] *** Quits: fyolnish (fyolnish@moz-D0FF717.uqwimax.jp) (Ping timeout)
[20:02:55] *** Joins: fyolnish (fyolnish@moz-D0FF717.uqwimax.jp)
[20:03:11] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:03:53] <SiegeLord> I think it falls under https://github.com/mozilla/rust/issues/10337
[20:04:09] <SiegeLord> But it's not really backwards compatible, as that code will become illegal
[20:04:36] *** Quits: fyolnish (fyolnish@moz-D0FF717.uqwimax.jp) (Ping timeout)
[20:04:37] <eddyb> that issue talks about something else
[20:04:53] <eddyb> it doesn't even take into consideration that the method call is resolved by method name and not trait identity
[20:04:58] <SiegeLord> Huh, in that case there's no issue for it at all
[20:06:06] <eddyb> lol
[20:06:21] <eddyb> to the hub-mobile!
[20:06:33] <eddyb> (that's an awkward thing to say...)
[20:06:52] <Tobba> ugh
[20:07:00] <Tobba> I wish there was a way to get a pointer to the member function of something
[20:07:06] <Tobba> that would actually solve so much problems for me right now
[20:07:31] <kimundi> Tobba: you mean UFCS?
[20:07:34] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:07:48] <Tobba> kimundi: what are those?
[20:08:02] <kimundi> being able to call a method as a static function
[20:08:07] *** Quits: tjc (tjc@moz-346C31FF.tmodns.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:08:12] <Tobba> thats implemented?
[20:08:15] <Tobba> I dont need to call it though
[20:08:17] <kimundi> eg Clone::clone(thing) instead of thing.clone()
[20:08:18] <Tobba> just get a pointer
[20:08:24] <Tobba> then to super ABI specific crap to it
[20:08:27] <kimundi> Its not implemented yet
[20:08:46] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[20:08:52] <eddyb> it's trivial to, though
[20:08:57] <eddyb> there's nothing to implement :)
[20:09:04] <kimundi> but if it where, you'd get a function pointer that way
[20:09:12] <eddyb> \o/ negative diff features
[20:09:18] *** Joins: Earnestly (earnest@moz-2440EE8A.dyn.plus.net)
[20:09:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:09:26] <kimundi> eddyb: Well, trait method selection
[20:09:34] <kimundi> need <for T> syntax
[20:09:49] <kimundi> and support for importing them etc
[20:10:20] <eddyb> well, can you import static methods now?
[20:10:21] *** Joins: cy (user@moz-F8EBA8BA.airbears2.berkeley.edu)
[20:10:36] <eddyb> rusti: use std::rc::Rc::new; new(0)
[20:10:38] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:10:39] -rusti- pastebinned 8 lines of output: http://ix.io/aCk
[20:10:50] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:11:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:11:07] <eddyb> kimundi: those issues are orthogonal
[20:11:23] <kimundi> Yeah, I'm conflating them here, sorry.
[20:12:23] <kimundi> UFCS: easy -> actually being able to call associated functions easily: still needs work
[20:12:41] *** Joins: klzzvn (klzzvn@moz-1667E3F6.xnet.hr)
[20:13:12] *** Quits: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Quit: Leaving)
[20:13:40] <Tobba> I also wish there was some way to easily make wrapper functions
[20:13:50] <Tobba> variadics could possibly help I guess
[20:14:39] *** Joins: al-maisan (al-maisan@3199BFA1.3C359606.3CA1F9DE.IP)
[20:14:48] *** Joins: mkaufmann (Mibbit@moz-A7CC045.dynamic.cablesurf.de)
[20:15:04] *** Joins: hoverbear (hoverbear@moz-E19BC15E.wireless.uvic.ca)
[20:16:15] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[20:16:43] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[20:18:19] <mkaufmann> Hello, I have a problem understanding how vec::with_capacity works. It returns a 0 len vector for me? I have an example here: https://gist.github.com/mkaufmann/9100637
[20:18:28] <eddyb> mkaufmann: that's what it does
[20:18:30] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[20:18:39] <mkaufmann> I guess I am doing something wrong or have the wrong expectations
[20:18:41] <jdm> mkaufmann: capacity != length
[20:18:43] <eddyb> the capacity is the backing storage that it can grow into without having to reallocate memory
[20:18:51] *** Quits: novabyte (novabyte@65CB01.7EE6203.B8D52E29.IP) (Quit: Leaving.)
[20:19:01] <eddyb> so if you have a capacity of 100, you can cheaply push 100 elements
[20:19:07] <mkaufmann> ah ok, my goal is to get a buffer for use with BufWriter
[20:19:10] <eddyb> after that, it will have to reallocate
[20:19:10] *** Joins: tjc (tjc@moz-346C31FF.tmodns.net)
[20:19:10] *** ChanServ sets mode: +o tjc
[20:19:23] <eddyb> mkaufmann: why not MemWriter?
[20:19:40] <mkaufmann> BufWriter was the first thing I found ;)
[20:20:46] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:21:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:21:56] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:22:43] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:23:07] <mkaufmann> Thanks a lot, MemWriter works perfectly!
[20:23:43] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[20:25:46] *** Quits: hoverbear (hoverbear@moz-E19BC15E.wireless.uvic.ca) (Quit: Taking a nap.)
[20:26:44] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:27:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:27:21] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[20:27:29] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[20:28:02] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[20:29:07] *** Quits: tundor (lundor@moz-9BFAFD03.swordarmor.fr) (Z:lined (Your IP, 91.121.95.51, is listed in the EFnet RBL. For further information, visit http://rbl.efnetrbl.org/?i=91.121.95.51))
[20:29:24] *** Joins: tundor (lundor@F5F65CF.3EFEC9D9.209B798A.IP)
[20:31:17] *** Parts: al-maisan (al-maisan@3199BFA1.3C359606.3CA1F9DE.IP) (See ya later!)
[20:31:41] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:31:53] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:33:34] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:33:58] *** Quits: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP) (Quit: Leaving...)
[20:37:13] *** Quits: sellout (Adium@moz-CF497E97.hsd1.co.comcast.net) (Quit: Leaving.)
[20:38:33] *** Joins: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP)
[20:39:01] *** Quits: dmckeone (dmckeone@moz-7652413D.cg.shawcable.net) (Ping timeout)
[20:39:53] *** Joins: dmckeone (dmckeone@moz-7652413D.cg.shawcable.net)
[20:41:39] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[20:41:56] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[20:42:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:44:19] *** Joins: adwhit (Mibbit@87D98E32.4046EB22.428F94DD.IP)
[20:45:01] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:45:59] <adwhit> Hi, can I ask a question please - I'm getting compilation error: "expected fn but found extern fn" - what does it mean/how to i fix it?
[20:46:23] <cmr> adwhit: what's the code that gives the error?
[20:46:47] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[20:46:47] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:46:48] <adwhit> the full trace is:  "error: mismatched types: expected `&|&mut Cpu, u16, u16|` but found `&fn(&mut Cpu, u16, u16)` (expected fn but found extern fn)"
[20:47:03] <eddyb> ah, the explanation isn't helpful
[20:47:08] <adwhit> I'm trying to write an emulator
[20:47:12] *** Joins: eholk (eholk@A1D6EBC1.93E9F6F4.284344F5.IP)
[20:47:17] <eddyb> adwhit: you have a &fn which won't coerce to &||
[20:47:20] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:47:32] <eddyb> &fn is a reference to a function pointer
[20:48:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[20:48:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:48:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:48:58] <eddyb> adwhit: you should choose one of bare functions or closures and stick to that choice
[20:49:21] <adwhit> I don't think I really understand the distinction
[20:49:34] <eddyb> a bare fn() is a function pointer, as in C
[20:49:42] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:49:49] <eddyb> a closure contains an environment
[20:50:18] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[20:50:48] <eddyb> |Args| -> Ret is something like  (*env, fn(*env, Args) -> Ret) under the hood
[20:52:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:52:10] <adwhit> OK so I posted a snippet here: https://gist.github.com/adwhit/9101270
[20:52:11] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:52:30] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:52:32] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:52:39] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[20:52:54] <eddyb> adwhit: why do you take the address of a function pointer?
[20:53:20] *** Quits: eholk (eholk@A1D6EBC1.93E9F6F4.284344F5.IP) (Ping timeout)
[20:53:49] <eddyb> adwhit: in your case, it seems you don't need closures at all, you could just use bare functions everywhere
[20:54:02] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:54:04] *** Quits: jmbto (jmbto@moz-B2BEB013.net) (Quit: WeeChat 0.4.1)
[20:54:16] <mkaufmann> another API question, FileStat has size as u64, the seek trait has i64 as offset. Is there a reason for this inconsistency? I considered maybe for relative seeking, but the documentation says negative offset is an error.
[20:54:24] <adwhit> @eddyb without them I was getting "cannot coerce non-statically resolved bare fn"
[20:54:38] *** Quits: dherman (dherman@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: dherman)
[20:54:38] <o11c> mkaufmann: seek from end is negative
[20:54:43] <eddyb> adwhit: I should've made that error message better
[20:54:44] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:54:50] <o11c> mkaufmann: you're UB in a lot of ways after 2 ** 63
[20:55:22] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[20:55:27] *** Joins: eholk (eholk@A1D6EBC1.93E9F6F4.284344F5.IP)
[20:55:34] <eddyb> adwhit: that is not something you fix by doing &f. the problem is that you have a function pointer and it tries to coerce it after the point where it is statically known
[20:55:44] <cmr> https://gist.github.com/cmr/5996d025495db5dbb811 is there any way to express this?
[20:55:49] <Tobba> any idea what this thing actually means "error: trait bounds are not allowed in structure definitions"
[20:55:54] *** Joins: espindola (espindola@moz-9F530B29.com)
[20:55:58] <cmr> Tobba: you have struct Foo<T: Bar>
[20:55:59] <Tobba> pretty sure I should be able to do struct Handle<T: HandleInterface> {
[20:56:02] <cmr> Tobba: no : Bar allowed.
[20:56:03] <eddyb> nope
[20:56:06] <sfackler> Tobba: only on the impl
[20:56:09] <cmr> Tobba: nope, put the bounds in the impls.
[20:56:10] <Tobba> oh, huh
[20:56:19] <eddyb> adwhit: you can coerce JNE to a closure, but you can't coerce {JNE} or any other such dynamic value
[20:56:52] <eddyb> adwhit: the easiest thing to do is make your dispatch functions take a function pointer, that is: fn(Args) -> Ret
[20:57:25] <eddyb> adwhit: though, if you want effieciency, you should have your dispatch interior to the match
[20:57:47] <eddyb> that is, there is no need for an indirect call
[20:58:25] <eddyb> and you might as well use a macro to generate all the opcode handling logic
[20:58:44] *** Joins: sellout (Adium@moz-D50C2457.hfc.comcastbusiness.net)
[20:58:52] *** Quits: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP) (Quit: Ex-Chat)
[20:59:36] <mkaufmann> @o11c yes the range is certainly sufficent enough. I understood the documentation wrong, negativ pos argument != negativ offset. Thanks!
[20:59:46] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:59:46] *** ChanServ sets mode: +ao dherman dherman
[21:00:12] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:00:22] <adwhit> eddyb: macros are somewhere on my list of "things to learn"!
[21:00:30] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:00:58] <eddyb> adwhit: there isn't much to learn about them, just a bit annoying that you have to look up the syntax before using them each time :P
[21:01:07] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[21:01:43] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:01:59] *** Joins: fyolnish (fyolnish@moz-65CDE955.uqwimax.jp)
[21:02:23] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:02:23] *** ChanServ sets mode: +ao brson brson
[21:02:33] <adwhit> eddyb: so to be concrete: my dispatcher signatures look like : fn noarg_dispatch(&mut self, f: &|&mut Cpu| -> bool)
[21:03:05] <eddyb> adwhit: what is your own logic for having the & before the closure type?
[21:03:22] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[21:03:37] <eddyb> (I want to tell you how it's wrong, not just that it's wrong :P)
[21:03:40] *** Quits: fyolnish (fyolnish@moz-65CDE955.uqwimax.jp) (Ping timeout)
[21:03:47] <adwhit> eddyb: every & is there to squash some compiler complaint!
[21:03:47] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:04:12] <kimundi> haha
[21:04:24] <eddyb> adwhit: a closure is a pair of two pointers. slapping another pointer on it is a bad idea
[21:04:25] <kimundi> Usually that line of reasoning leads to more ~ though xD
[21:04:32] <adwhit> eddyb: obviously I don't really understand what I'm doing...
[21:04:50] <eddyb> adwhit: you don't need a closure, and you're passing it function pointers anyway
[21:05:01] <eddyb> adwhit: change f to fn(&mut Cpu) -> bool
[21:05:04] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[21:05:04] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[21:05:08] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-31A3FF12.dynamic.qsc.de)
[21:05:09] <adwhit> edddyb: haha OK
[21:05:32] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:05:37] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[21:05:47] *** Quits: mkaufmann (Mibbit@moz-A7CC045.dynamic.cablesurf.de) (Quit: http://www.mibbit.com ajax IRC Client)
[21:05:52] <adwhit> eddyb: right, think I get it
[21:05:56] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[21:05:56] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:06:09] *** Quits: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net) (Ping timeout)
[21:06:23] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[21:06:41] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:06:42] *** ChanServ sets mode: +ao brson brson
[21:07:44] <adwhit> eddyb: I didn't realise you could write functions in signatures, for some reason I thought you had to use closures
[21:08:14] *** Quits: GeorgeH__ (George@moz-FB5F2302.hsd1.nj.comcast.net) (Ping timeout)
[21:09:02] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[21:09:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:09:42] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[21:10:00] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:10:59] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[21:11:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:11:13] *** Joins: cris_h (cris_h@moz-F69B678E.thefacebook.com)
[21:13:22] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[21:13:30] <adwhit> eddyb: Woo, it compiles! Thank you very much. Now to learn macros...
[21:14:14] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:14:14] *** Quits: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl) (Quit: leaving)
[21:14:20] *** Joins: trecer (trecer@82771D61.C9080D5C.689607DE.IP)
[21:14:38] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:14:46] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[21:15:06] *** Quits: nkoep (nik@moz-D161B8F2.pool.mediaways.net) (Quit: Leaving)
[21:15:07] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Connection reset by peer)
[21:15:08] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[21:15:15] *** Quits: trecer (trecer@82771D61.C9080D5C.689607DE.IP) (Quit: Computer has gone to sleep.)
[21:15:53] *** Quits: tjc (tjc@moz-346C31FF.tmodns.net) (Ping timeout)
[21:16:18] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:16:27] *** Quits: flan3002 (till@moz-E0853D96.superkabel.de) (Ping timeout)
[21:16:28] *** Joins: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net)
[21:17:30] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[21:17:32] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[21:17:41] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[21:18:08] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Ping timeout)
[21:19:17] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[21:19:21] *** Joins: kris (kris@D954AD01.1D0A8692.683E4874.IP)
[21:20:28] <Jemaclus> adwhit: that's how I do it, too... "Error message complaining about ownership? I'll add a &..." heh
[21:20:45] * Jemaclus is a total noob
[21:21:15] *** Quits: fabiand (fabiand@moz-B6EE27B1.adsl.alicedsl.de) (Ping timeout)
[21:21:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:22:13] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[21:23:08] <adwhit> Jemaclus: Hey, that is pretty much official advice: http://words.steveklabnik.com/pointers-in-rust-a-guide
[21:23:18] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:23:26] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[21:23:33] <Jemaclus> haha
[21:24:08] <Jemaclus> half the time I show code in here, everyone's like, "WTF? Why did you do X?" and all I can really say is, "um... i dunno? compiler said to?" :P
[21:24:32] <Jemaclus> granted, 50% of the time is better than the 90% of the time it was when I first started with Rust...
[21:24:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:24:46] *** Joins: victorporof_ (victorporo@125EF623.B2666F0E.66399531.IP)
[21:25:34] *** Quits: victorporof (victorporo@125EF623.B2666F0E.66399531.IP) (Ping timeout)
[21:25:35] <adwhit> Jemaclus: Wonder how often the devs do that ;)
[21:26:24] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[21:26:38] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[21:27:23] <bjz> adwhit: you develop an intuition for it
[21:27:40] <eddyb> also, it helps to know the memory layout of things
[21:27:47] <bjz> adwhit: but advice on improving the error messages would be useful
[21:27:47] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[21:27:57] <eddyb> indirections are bad and allocations are worse
[21:27:57] *** Joins: ofeldt- (ofeldt@moz-302525B5.dip0.t-ipconnect.de)
[21:28:06] <bjz> adwhit: it tries its best, but it is still pretty crude
[21:28:10] <eddyb> (there are exceptions)
[21:28:23] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[21:28:37] <Jemaclus> adwhit: I think it's purely my inexperience with managing memory. If I could wrap my head around it a bit better, I think I'd have 100x fewer compiler errors.
[21:28:42] *** Quits: ofeldt (ofeldt@moz-B498EB40.dip0.t-ipconnect.de) (Ping timeout)
[21:28:58] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[21:29:04] <bjz> Jemaclus: the cool thing is that by getting the errors up front you learn
[21:29:10] <adwhit> Yeah most of my difficulties are with the memory layout
[21:29:14] <Jemaclus> yeah, most definitely.
[21:29:21] <bjz> Jemaclus: I know much more about memory management after doing rust
[21:30:04] <Jemaclus> The other thing I have difficulty with is that some methods expect & as params and others don't, and it confuses me a bit when I'm trying to do things... Especially if there's an .iter() going on.
[21:30:19] <eddyb> just be flexible :P
[21:30:22] <Jemaclus> for instance, sometimes I'll do:  for f in foo.iter() { someMethod(f); }
[21:30:29] <eddyb> also, .iter() is a sorry situation for Pods
[21:30:37] <adwhit> I think there is automatic coercion going on which hides some other memory operations?
[21:30:38] <Jemaclus> and then someMethod comes back and says "Expected &whatever but received ~whatever"
[21:30:39] <bjz> with GCed languages, almost everything is a reference, so it's hard to learn how memory management. With C everything's there is only one type pointer, so it's also hard to learn memory management.
[21:30:56] <eddyb> Jemaclus: no, that will work :P
[21:31:07] <Jemaclus> and so then I have to change it to &f.. but then sometimes the .iter() seems to come back with &f in the first place, and then I have to pass in *f... or something. I dunno.
[21:31:19] <eddyb> Jemaclus: expected whatever and received &whatever makes more sense
[21:31:20] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:31:32] <bjz> Jemaclus: it depends on how the iterator was implemented
[21:31:33] <eddyb> .iter() on vectors gives you references
[21:31:42] <Jemaclus> it's all rather confusing, so I just fix the compiler errors til it works, then once it works, try and figure out a better way to give those vars or whatever.
[21:31:45] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[21:31:57] <eddyb> Jemaclus: you should do it the other way around :P
[21:32:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:32:11] <Jemaclus> hehe
[21:32:38] <bjz> Jemaclus: here iter returns Items: http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html#tymethod.iter
[21:32:47] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:32:50] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:32:53] <bjz> Jemaclus: here is Items: http://static.rust-lang.org/doc/master/std/vec/struct.Items.html
[21:33:15] <bjz> Jemaclus: it has "impl<'a, T> Iterator<&'a T> for Items<'a, T>"
[21:33:41] <bjz> that means in `for x vec.iter()`, x will be a reference
[21:33:42] *** Quits: kris (kris@D954AD01.1D0A8692.683E4874.IP) (Ping timeout)
[21:33:58] <Jemaclus> right
[21:34:00] <eddyb> put an in in there somewhere :P
[21:34:13] <Jemaclus> :)
[21:34:16] <eddyb> I tend to do `for &x in v.iter()`
[21:34:25] <bjz> Jemaclus: to contras mov_iter returns the MoveItems iterator: http://static.rust-lang.org/doc/master/std/vec/trait.OwnedVector.html#tymethod.move_iter
[21:34:42] <bjz> Jemaclus: MoveItems has impl<T> Iterator<T> for MoveItems<T>
[21:34:46] *** Quits: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP) (Ping timeout)
[21:34:54] *** Joins: hashcat (hashcat@D0BB5779.2B1A3F47.B8412EC5.IP)
[21:34:57] <bjz> that means in `for x vec.iter()`, x will be by value
[21:35:05] <eddyb> move_iter
[21:35:07] <kimundi> I wonder if changining the names would improve the situation more
[21:35:08] <eddyb> not iter
[21:35:09] <eddyb> :)))
[21:35:13] <bjz> oh yea
[21:35:18] <eddyb> don't get the wrong impression, .clone().move_iter() just for the sake of getting values is BAD BAD BAD
[21:35:26] <bjz> in `for x vec.move_iter()`, x will be by value
[21:35:36] <eddyb> you forgot the 'in' again
[21:35:39] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[21:35:41] <bjz> eddyb: wut
[21:35:44] * eddyb throws some keywords at bjz
[21:35:44] <kimundi> iter, move_iter, mut_iter -> refs, values, mut_refs
[21:35:46] <bjz> why would you...
[21:36:05] <eddyb> kimundi: not move_iter
[21:36:09] <bjz> Jemaclus: does that help?
[21:36:14] <eddyb> maybe moved_values
[21:36:29] <eddyb> or move_values
[21:36:51] <kimundi> eddyb: Well, moved-anything is bad because technically that would exclude POD values :P
[21:37:06] <kimundi> by value though would cover all types
[21:37:28] *** Joins: mkirk (mkirk@moz-469DDC26.socal.res.rr.com)
[21:37:36] <eddyb> kimundi: strcat wants an universal values() adaptor for Iterable<&T, I>
[21:37:45] <kimundi> Or just name it what it is : into_iter() ;D
[21:37:46] *** Quits: dschatzberg (dschatzber@moz-9384E83C.bu.edu) (Input/output error)
[21:37:54] <eddyb> kimundi: into_values()?
[21:37:58] <kimundi> eddyb: Yeah, that too
[21:38:00] <Jemaclus> bjz: yeah, I guess. I'll have to play around with it... 
[21:38:03] <kimundi> eddyb: hm, sure
[21:38:31] <kimundi> would values() only working for POD and into_values() working for all be confusing?
[21:38:55] <eddyb> but pretty code!
[21:39:01] * kimundi thinks it would at least be better than the current situation
[21:39:13] <geomyidae_> So someone is working on a Rust clone in rust right?
[21:39:32] <eddyb> I doubt
[21:39:42] <Tobba> would be fucking funny tho
[21:40:13] <kimundi> geomyidae_: You mean a Rust clone in Rust? God no, any separation between the two we can build up is a blessing D:
[21:40:33] <geomyidae_> :)
[21:40:42] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:41:13] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[21:41:37] <bjz> Jemaclus: you will get there!
[21:42:40] <huon> geomyidae_: then if there's a redstone-equivalent in Rust's Rust, someone can implement a Rust in the Rust in Rust.
[21:42:50] <Tobba> dear god
[21:42:53] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[21:43:33] *** Joins: kvanb (kvanb@moz-5AEBA67F.lnse5.win.bigpond.net.au)
[21:44:03] <eddyb> huon: https://xkcd.com/505/ someone had a great interpretation of this in minecraft, but they deleted their channel :(
[21:44:53] <eddyb> https://www.youtube.com/user/teapoted/videos actually, seems to be back, let me see if I can find it
[21:45:02] *** Quits: awidegreen (awidegreen@AC0351CD.7B7767E.3688B332.IP) (Ping timeout)
[21:45:03] <Tobba> I've built part of a redstone CPU
[21:45:07] <Tobba> it was not a pleasant experience
[21:45:11] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[21:45:13] <Tobba> (the ROM was p cool though)
[21:45:20] <eddyb> Tobba: I've had plans for a full SoC using analog redstone
[21:45:20] *** Joins: hoverbear (hoverbear@moz-E19BC15E.wireless.uvic.ca)
[21:45:33] <Tobba> the problem was that it took like one second to access the highest address
[21:45:42] <eddyb> but Dinnerbone didn't grant me all the features
[21:45:47] <huon> (and once we have a Rust in Rust in Rust, we can compile the Rust in Rust inside to have `Rust (in Rust)*`. \o/ )
[21:46:08] <eddyb> huon: simulation theory doesn't allow recursion
[21:46:12] *** Quits: eholk (eholk@A1D6EBC1.93E9F6F4.284344F5.IP) (Quit: eholk)
[21:46:16] <Tobba> somoene change the r/rust theme to match that or /r/playrust
[21:46:19] <Tobba> the confusion would be brutal
[21:47:12] <huon> Tobba: you're a bad person :P
[21:47:29] <Tobba> I secretely named my kernel Oxide because theres a rust modding API with that name
[21:47:42] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:47:45] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Quit: No Ping reply in 180 seconds.)
[21:47:57] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[21:48:37] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:49:21] *** Quits: sigma (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[21:52:56] <Jemaclus> bjz: someday :)
[21:53:05] <hoverbear> huon: We should rewrite Rust in Rust.
[21:53:38] <bjz> hoverbear: well, we definitely have a case study
[21:53:47] <bjz> hoverbear: more like llvm in rust
[21:53:47] <hoverbear> bjz: I mean the other rust
[21:53:53] <bjz> ohhh
[21:53:56] <bjz> hah
[21:53:59] <bjz> the game
[21:54:02] <bjz> playrust
[21:54:08] <hoverbear> bjz: Yes exactly.
[21:54:09] *** Quits: Papierkorb (papierkorb@moz-F2F3425C.unitymediagroup.de) (Quit: Konversation terminated!)
[21:54:40] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[21:54:40] <hoverbear> You could have Rust compiling the Rust program Rust, in order to test Rust's feasbility.
[21:55:45] *** Quits: mgottschlag (quassel@moz-7841FD83.cust.bluewin.ch) (Ping timeout)
[21:56:30] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[21:59:31] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[22:00:03] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[22:00:34] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:01:27] *** Joins: fyolnish (fyolnish@moz-50B1AAB0.uqwimax.jp)
[22:01:42] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[22:01:45] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[22:01:57] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:02:24] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:02:48] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[22:03:08] *** Quits: fyolnish (fyolnish@moz-50B1AAB0.uqwimax.jp) (Ping timeout)
[22:04:31] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[22:05:09] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:05:41] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:06:05] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:06:50] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[22:06:50] *** ChanServ sets mode: +ao brson brson
[22:07:03] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Ping timeout)
[22:07:15] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:07:15] *** ChanServ sets mode: +o tjc
[22:08:13] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[22:08:23] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[22:08:52] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Connection reset by peer)
[22:08:52] *** Joins: tjc_ (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:10:51] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[22:11:45] * geomyidae_ looked at some playrust screenshots. apparently really crummy blurry nude mods are still a thing
[22:11:55] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[22:14:20] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[22:14:44] <steveklabnik> geomyidae_: wrong channel
[22:14:50] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[22:15:07] * geomyidae_ chuckles
[22:15:39] <steveklabnik> :p
[22:16:19] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[22:19:39] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[22:19:39] *** Joins: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[22:20:26] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:20:51] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[22:20:57] *** Quits: adwhit (Mibbit@87D98E32.4046EB22.428F94DD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:21:20] *** Quits: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[22:21:28] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[22:22:43] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[22:22:58] <alan_andrade> steveklabnik did you ever use spork or zeus with ruby ?
[22:23:13] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[22:23:42] <alan_andrade> spork I think is pure ruby, and zeus is a go implementation
[22:23:58] <alan_andrade> I wonder if I can do something similar with Rust
[22:26:20] <steveklabnik> alan_andrade: i am fundamentally against these kinds of tools
[22:26:36] <alan_andrade> what's the reason ?
[22:26:37] <steveklabnik> i was foreced to use spork by a client once...
[22:26:55] <steveklabnik> http://blog.steveklabnik.com/posts/2012-07-14-why-i-don-t-like-factory_girl
[22:27:01] <steveklabnik> is 85% the same thing
[22:27:16] <steveklabnik> these tools are a bandage, but the wound still gushes
[22:28:07] <alan_andrade> what 'wound' you're specifically talking about ?
[22:28:39] <steveklabnik> not writing unit tests
[22:28:43] <steveklabnik> and only writing integration tets
[22:28:58] <steveklabnik> we're shipping one with Rails as of 4.1, 'spring'
[22:29:10] <steveklabnik> the symptom is 'my tests are slow'
[22:29:16] <cris_h> is it possible to store closures as struct members or do only procs work for that?
[22:29:22] <steveklabnik> the disease is "i only write integration and acceptance tests"
[22:29:47] <steveklabnik> spork/etc tries to reduce test time, but rather than fix the root cause, adds complexity
[22:29:49] <alan_andrade> I see
[22:30:08] <Tobba> I always saw rails as some kind of practical joke
[22:30:22] <Tobba> after that whole
[22:30:30] <Tobba> "remote code execution within a scripting language" ordeal
[22:30:51] <alan_andrade> I'd like to continue the conversation but I don't believe this is the place
[22:31:06] <Tobba> rust-offoptic
[22:31:12] <Tobba> #rust-offtopic *
[22:31:13] <cmr> cris_h: http://static.rust-lang.org/doc/master/complement-cheatsheet.html#how-do-i-store-a-function-in-a-struct
[22:31:46] <alan_andrade> oh that's cool
[22:31:49] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[22:32:05] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[22:33:45] <kmc> woah I had no idea about this document
[22:33:48] <kmc> from where is it linked?
[22:35:05] <cris_h> thanks!
[22:35:18] <pnkfelix> kmc: It started life here I think: https://github.com/mozilla/rust/wiki/Doc-FAQ-Cheatsheet
[22:35:27] <hoverbear> cmr: Useful link!
[22:35:28] <pnkfelix> kmc: (I don't know from where else it is linked now)
[22:36:15] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[22:37:57] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:38:25] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[22:39:57] *** Quits: tjc_ (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:40:01] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[22:40:02] *** ChanServ sets mode: +o tjc
[22:41:45] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Ping timeout)
[22:43:11] *** Quits: josh (josh@moz-76F75B70.mpls.qwest.net) (Quit: josh)
[22:43:41] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:43:45] *** Joins: fyolnish (fyolnish@moz-B2FE0FF3.uqwimax.jp)
[22:44:44] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[22:45:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:45:27] *** Quits: fyolnish (fyolnish@moz-B2FE0FF3.uqwimax.jp) (Ping timeout)
[22:45:43] *** Joins: fyolnish (fyolnish@moz-B2FE0FF3.uqwimax.jp)
[22:46:02] *** Joins: alkino (alkino@moz-5158FCA3.w92-151.abo.wanadoo.fr)
[22:46:09] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[22:47:26] *** Quits: fyolnish (fyolnish@moz-B2FE0FF3.uqwimax.jp) (Ping timeout)
[22:48:32] *** jorendorff_away is now known as jorendorff
[22:49:23] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[22:50:33] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[22:52:02] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[22:52:02] *** ChanServ sets mode: +ao dherman dherman
[22:53:02] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[22:57:09] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:57:44] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Quit: out)
[22:58:40] *** Quits: cy (user@moz-F8EBA8BA.airbears2.berkeley.edu) (Ping timeout)
[23:00:32] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:01:35] *** Joins: fyolnish (fyolnish@moz-B2FE0FF3.uqwimax.jp)
[23:02:06] *** Quits: marianoguerra (marianogue@moz-7D7611BE.dip0.t-ipconnect.de) (Ping timeout)
[23:02:06] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:03:18] *** Quits: fyolnish (fyolnish@moz-B2FE0FF3.uqwimax.jp) (Ping timeout)
[23:06:18] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[23:07:44] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[23:07:51] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[23:07:55] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[23:08:00] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[23:08:33] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[23:09:10] *** Quits: klzzvn (klzzvn@moz-1667E3F6.xnet.hr) (Ping timeout)
[23:09:49] <leonvv> bjz: I get 'linking with cc failed' when trying to compile glfw-rs using Rust 0.10, any tips?
[23:10:04] *** Quits: q66 (q66@moz-49F29937.dab.02.net) (Quit: Leaving)
[23:10:17] <Jemaclus> Question about Huffman encoding (I think someone on here was working on that for Rust)... in order to determine the frequency of characters/bytes, that means you have to read the whole file first, right? And then go back and encode everything?
[23:11:15] *** Quits: sellout (Adium@moz-D50C2457.hfc.comcastbusiness.net) (Quit: Leaving.)
[23:11:28] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[23:11:31] <tjc> Jemaclus: I'm not working on it, but the usual approach to Huffman coding requires two passes, yeah
[23:11:32] <kmc> if you want optimal results yes
[23:11:40] <tjc> there's apparently a way to do it in one pass ("dynamic Huffman coding") as well
[23:11:41] <kmc> but you might be able to guess the distribution and do okay
[23:11:46] <tjc> cf. http://ww2.cs.mu.oz.au/~alistair/acmtalks/talk2.html
[23:11:47] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:11:51] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[23:11:52] <Jemaclus> And that's more efficient than LZW, which does it in one pass?
[23:11:53] <kmc> for example if you know the file is English text in ASCII
[23:12:22] <Jemaclus> I see.
[23:12:23] <Jemaclus> hmm
[23:12:27] *** Joins: cy (user@moz-7C8FD80A.airbears2.berkeley.edu)
[23:12:31] <Jemaclus> Ok, that answers my question. Thanks.
[23:14:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:14:20] *** Joins: twi (Adium@moz-44A8A106.pa.nsw.optusnet.com.au)
[23:15:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:16:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:17:18] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[23:17:29] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[23:17:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:18:33] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[23:18:33] *** ChanServ sets mode: +ao dherman dherman
[23:18:45] *** Quits: Ferreus (ferreus@moz-A3EFFE5C.lsn.wtnet.de) (Quit: WeeChat 0.4.3-dev)
[23:19:54] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[23:21:22] <Jemaclus> One more question about Huffman coding... If I assign "N" => 1100, "A" => 0, and "S" => 110, and my coded value is 1100, how does it know whether that's "N" or "SA"? The wiki page doesn't really address that...
[23:22:05] *** Joins: riddochc (riddochc@moz-36F47083.hlrn.qwest.net)
[23:22:33] *** Quits: doomlord__ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Quit: Leaving)
[23:23:07] *** flaper87 is now known as flaper87|afk
[23:23:16] <mcpherrin> Jemaclus: that's not a valid code
[23:23:24] *** Quits: cy (user@moz-7C8FD80A.airbears2.berkeley.edu) (Ping timeout)
[23:23:44] <mcpherrin> Jemaclus: Huffman codes are prefix-free, so you never have that ambiguity
[23:25:17] <Jemaclus> according to Wikipedia, you could have this:  a1 => 0, a2 => 10, a3 => 110, a4 => 111...
[23:25:17] *** Joins: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[23:26:09] <mcpherrin> Jemaclus: right, so that's prefix-free: None of the short symbols are prefixes of the longer ones
[23:26:18] <Jemaclus> oh.
[23:26:22] <mcpherrin> since you have a2 => 10, you can't have 100 or 101
[23:26:25] <Jemaclus> ohhhhh
[23:26:36] <Jemaclus> http://mindblown.jpg.to
[23:26:44] <Jemaclus> that explains it
[23:26:44] <Jemaclus> thanks
[23:26:49] <mcpherrin> great :-)
[23:26:58] *** Quits: honza_ (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[23:27:15] <mcpherrin> Prefix-free is the important property to sane decoding of multi-length symbols
[23:27:20] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[23:27:41] *** Joins: Sharp_ (Sharp@moz-3301C7AB.static-ip.telepacific.net)
[23:27:41] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:27:55] *** Joins: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP)
[23:28:02] *** Quits: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP) (Ping timeout)
[23:28:03] *** Sharp_ is now known as Sharp
[23:28:08] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[23:28:08] *** Joins: vadimcn_ (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[23:28:12] *** vadimcn_ is now known as vadimcn
[23:28:16] *** Quits: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net) (Ping timeout)
[23:28:27] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[23:28:33] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[23:28:37] *** Quits: gmjosack (gary@F91A859E.75E3DBFA.7AB8439E.IP) (Ping timeout)
[23:28:38] *** Joins: gmjosack (gary@F91A859E.75E3DBFA.7AB8439E.IP)
[23:29:13] *** Joins: jvoorhis_ (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[23:29:15] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Ping timeout)
[23:29:28] *** Quits: kvanb (kvanb@moz-5AEBA67F.lnse5.win.bigpond.net.au) (Quit: kvanb)
[23:29:34] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:29:34] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[23:29:53] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[23:29:56] <riddochc> Is there a description somewhere of what the various branches of rust's git repo are for?
[23:29:57] *** jorendorff is now known as jorendorff_away
[23:30:30] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Ping timeout)
[23:30:41] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[23:30:44] *** Joins: ecl3ctic (ecl3ctic@578C64B6.F0F44EFA.76AE55C1.IP)
[23:32:17] *** jorendorff_away is now known as jorendorff
[23:32:31] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[23:33:20] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[23:34:04] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[23:35:19] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[23:35:20] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[23:35:21] *** jorendorff is now known as jorendorff_away
[23:35:48] <leonvv> bjz: I think I sorted it by building glfw as a shared library, maybe you should put this in the readme?
[23:35:51] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:35:55] <alan_andrade> What are you looking specifically ? riddochc
[23:36:04] <alan_andrade> *looking for
[23:36:21] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[23:36:23] <riddochc> alan_andrade: nothing specific, just curious.
[23:36:35] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[23:37:07] <alan_andrade> I don't know any document that describe the info your asking for
[23:37:13] <alan_andrade> however, If I were you
[23:37:38] <bjz> leonvv: would you be able to send a PR?
[23:38:09] <alan_andrade> I would read the weekly meeting notes on the wiki, get an idea what's going on, and correlate with branches
[23:38:14] <alan_andrade> dunno
[23:38:24] <alan_andrade> checkout to that branch and read the commits ?
[23:38:26] <riddochc> I'll just stick to master.  Was just wondering.
[23:38:45] <riddochc> Also, is there a way to download recent builds from the buildbots?
[23:39:13] <riddochc> I have 0.9, but things are moving fast.
[23:39:38] <leonvv> bjz: Sure, but I am currently not able to run the examples, it talks about not being able to find libglfw.so.3 while it is in my /usr/local/lib directory?
[23:39:54] <hoverbear> riddochc: git pull && ./configure && make && make install ?
[23:40:04] *** Quits: KindOne (KindOne@moz-F8DFA596.dynamic.ip.windstream.net) (Ping timeout)
[23:40:04] <riddochc> In particular, I'm not seeing an obvious place on http://buildbot.rust-lang.org/builders/auto-linux-32-nopt-c
[23:40:21] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[23:40:59] <riddochc> hoverbear: for my poor little netbook?
[23:41:12] <alan_andrade> oh well
[23:41:20] <alan_andrade> that changes things
[23:41:25] <hoverbear> riddochc: My macbook air doesn't mind
[23:41:26] <alan_andrade> what os you're in?
[23:41:38] <alan_andrade> (in/on ?)
[23:41:39] <riddochc> opensuse.
[23:41:39] <hoverbear> riddochc: What's your ram like?
[23:41:44] <riddochc> 1G.
[23:41:47] <hoverbear> Nevermind lol
[23:41:50] <alan_andrade> hahaha
[23:41:51] <hoverbear> riddochc: Use a build bot.
[23:42:00] <riddochc> Exactly why I asked, yes. ;)
[23:42:00] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[23:42:02] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[23:42:07] <hoverbear> That would take for freaking ever to build
[23:42:08] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[23:42:12] <alan_andrade> There are builds for ubuntu that build nightly
[23:42:16] <riddochc> I can *use* rust, but not build it, on this system.
[23:42:29] <alan_andrade> suse uses yum ?
[23:42:32] <hoverbear> ya
[23:42:33] <alan_andrade> can't remember
[23:42:43] <hoverbear> alan_andrade: It's rpm format
[23:42:45] <riddochc> I've been reading up on open build service, which the suse folks have made...
[23:43:09] <riddochc> consider, if you have a sec: http://openbuildservice.org/
[23:43:19] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[23:43:40] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[23:43:45] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:43:46] <riddochc> I don't mind if it's just a tarball, honestly.
[23:43:57] *** Joins: KindOne (KindOne@moz-5F901433.dynamic.ip.windstream.net)
[23:44:14] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:44:58] <riddochc> I'm just missing a link to the right place for the buildbot results.
[23:45:11] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[23:46:31] <alan_andrade> This is the first time I hear fro OBS
[23:46:36] <alan_andrade> *about
[23:46:48] <alan_andrade> It's like travis but for builds ?
[23:47:08] <riddochc> yeah, it's way more obscure than it should be.  multi-distribution build and package management system with a shiny UI, pretty much.
[23:47:15] *** Quits: lkuper (lkuper@1E0BD410.CDD31A0A.51B6877.IP) (Quit: lkuper)
[23:48:00] <alan_andrade> Slick
[23:48:45] <hoverbear> \o/ 5 minute fix on latest production build crash whooop
[23:48:47] <riddochc> It's pretty cool.  And then there's this, which I've been using to make pre-configured system images: http://opensuse.github.io/kiwi/
[23:50:12] <riddochc> It's automation for system installation and configuration. Would be especially useful in combination with chef or ansible.
[23:51:27] <riddochc> Anyway. I don't want to sink too much time into these systems, since you already *have* a build system in place.
[23:54:13] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[23:54:36] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[23:54:40] *** Joins: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net)
[23:56:28] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:56:36] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:57:55] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:58:14] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:58:18] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:59:11] *** Parts: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP) ()
[23:59:28] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
