[00:04:17] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[00:04:27] *** Quits: g3xzh (g3xzh@moz-673268CF.red.bezeqint.net) (Client exited)
[00:05:20] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Ping timeout)
[00:07:27] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[00:10:43] *** Parts: raymondvargas (raymondvar@A4A9981F.2F87036F.DDE5D3F6.IP) ()
[00:10:47] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[00:10:48] *** Joins: raymondvargas (raymondvar@A4A9981F.2F87036F.DDE5D3F6.IP)
[00:10:51] *** Parts: raymondvargas (raymondvar@A4A9981F.2F87036F.DDE5D3F6.IP) ()
[00:11:05] *** Quits: eibwen (kvirc@moz-2C26CBA3.dip0.t-ipconnect.de) (Ping timeout)
[00:11:28] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[00:11:45] *** Quits: newguy (Mibbit@moz-1C68F6E0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:11:51] *** ganitsu1 is now known as ganitsu
[00:12:11] *** Quits: ganitsu (ganitsu@moz-A9487DE4.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.3)
[00:12:24] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:14:01] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[00:14:05] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:17:36] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[00:18:01] *** Joins: lpy (lpy@81B96B5C.F09091A8.1348A864.IP)
[00:18:58] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[00:19:18] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Ping timeout)
[00:19:31] *** Joins: twi (Adium@moz-70B6BC19.pa.nsw.optusnet.com.au)
[00:20:20] *** Parts: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP) (ERC Version 5.3 (IRC client for Emacs))
[00:20:38] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[00:20:44] *** Joins: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP)
[00:21:40] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Ping timeout)
[00:21:48] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:23:29] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:29:34] <jdsanders> Is there a way to avoid "use of possibly uninitialized variable" when passing a mutable pointer to an extern C function that initializes it?
[00:29:36] *** Quits: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net) (Ping timeout)
[00:30:10] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[00:30:12] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[00:30:51] <sfackler> jdsanders: you can either initialize it to a dummy value or use the uninit() intrinsic
[00:30:56] <ChrisMorgan> jdsanders: yes: `unafe { std::mem::uninit() }`
[00:31:11] <jdsanders> ah, thanks
[00:31:25] *** Joins: andreypopp (sid22726@moz-5F4AA75A.irccloud.com)
[00:31:52] <jdsanders> is there a difference between std::intrinsics::uninit and std::mem::uninit?
[00:32:00] <cmr> jdsanders: they are the same.
[00:32:03] <ChrisMorgan> jdsanders: yes: stability.
[00:32:09] <cmr> well, that
[00:32:22] <cmr> I was going to say: std::intrinsics is likely to be broken up or disappeared.
[00:32:23] <jdsanders> the one in mem is more stable?
[00:32:29] <jdsanders> gotcha
[00:32:38] <ChrisMorgan> Yes, it's part of a proper API, while intrinsics should "never" be called directly.
[00:32:47] *** Quits: lpy (lpy@81B96B5C.F09091A8.1348A864.IP) (Client exited)
[00:32:49] <jdsanders> good to know, thanks a lot
[00:33:13] *** Joins: lpy (lpy@81B96B5C.F09091A8.1348A864.IP)
[00:33:43] <ChrisMorgan> There's talk of std::intrinsics being made non-public, but at the very least it'll be marked with the lowest stability level available.
[00:34:36] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[00:34:48] *** Quits: nightpool (nightpool@moz-7CAAC068.wi.res.rr.com) (Client exited)
[00:34:57] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[00:35:08] *** Quits: lpy (lpy@81B96B5C.F09091A8.1348A864.IP) (Ping timeout)
[00:36:32] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[00:36:45] *** Quits: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[00:41:49] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Ping timeout)
[00:43:14] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:45:32] *** Joins: barosl (barosl@34F62860.E551553C.7544CABF.IP)
[00:47:47] *** Quits: Moogul (nick@moz-3E7AC75.range109-153.btcentralplus.com) (Input/output error)
[00:47:49] *** Quits: alkino (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr) (Ping timeout)
[00:49:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:51:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:51:38] *** Joins: fyolnish (fyolnish@moz-714B9C3B.uqwimax.jp)
[00:53:15] *** Quits: tedh (tedh@moz-6F8EC49.central.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:53:20] *** Quits: fyolnish (fyolnish@moz-714B9C3B.uqwimax.jp) (Ping timeout)
[00:57:09] *** Quits: oxum (anonymous@E5F9F49E.16DC8F8D.520CDC98.IP) (Ping timeout)
[00:59:26] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[01:01:36] *** Joins: oxum (anonymous@E9C77C8.8C5DFFF8.520CDC98.IP)
[01:04:23] *** Quits: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr) (Quit: Instantbird 1.5 -- http://www.instantbird.com)
[01:04:39] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[01:06:46] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:07:34] *** Quits: barosl (barosl@34F62860.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[01:08:27] *** Quits: klapaucius (klapaucius@E5AF674E.5692770D.BB41F968.IP) (Quit: klapaucius)
[01:13:06] <jdsanders> How does std::mem::uninit work for struct types? I tried to use it for a struct with two c_ints and a *c_void and ended up with "Bus Error: 10"
[01:13:21] <jdsanders> but it works if I initialize each field separately
[01:14:15] <huon> jdsanders: it doesn't initialise the memory at all
[01:14:45] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[01:15:10] <huon> i.e. it contains junk data; it's just to (unsafely) satisfy the assignment check in the compiler, if you, e.g., are immediately passing a pointer to the struct into a C function that initialises it
[01:16:30] *** Joins: apoelstra (username@moz-B7040E82.vs.shawcable.net)
[01:18:11] <jdsanders> ah, my problem was I was basically doing `let foo: *some_struct_type = uninit()`, and it needs to be `&uninit()`
[01:18:24] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[01:18:26] <jdsanders> doy
[01:19:15] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[01:19:50] <doy> hmmm?
[01:20:04] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Ping timeout)
[01:20:55] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[01:22:33] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:22:37] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:23:49] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[01:24:13] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:26:44] <ChrisMorgan> doy: I think he probably meant "doh"
[01:27:10] *** Joins: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net)
[01:28:04] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[01:28:57] *** Quits: twi (Adium@moz-70B6BC19.pa.nsw.optusnet.com.au) (Ping timeout)
[01:29:48] *** Joins: twi (Adium@moz-70B6BC19.pa.nsw.optusnet.com.au)
[01:32:04] <jensnockert> Amaze, I can generate some bindings for a subset of Gobject \o/
[01:33:21] *** Quits: twi (Adium@moz-70B6BC19.pa.nsw.optusnet.com.au) (Ping timeout)
[01:33:23] *** Joins: Guest_ (textual@16F167B.4C57D258.D8E8354F.IP)
[01:34:58] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[01:38:18] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:38:26] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[01:39:08] *** Joins: speckle (speckle@moz-AD109A29.hsd1.md.comcast.net)
[01:40:44] *** kimundi is now known as zz_kimundi
[01:41:11] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[01:41:19] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[01:41:21] *** Joins: saml (saml@moz-AFAADF83.nycmny.east.verizon.net)
[01:44:51] *** Joins: moop (Mibbit@moz-7607793D.hsd1.ca.comcast.net)
[01:47:25] *** Joins: lpy (lpy@81B96B5C.F09091A8.1348A864.IP)
[01:49:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:51:00] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:52:03] *** Joins: fyolnish (fyolnish@moz-827B7F32.uqwimax.jp)
[01:52:48] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[01:52:56] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[01:53:02] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[01:53:08] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[01:53:10] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[01:53:47] *** Quits: fyolnish (fyolnish@moz-827B7F32.uqwimax.jp) (Ping timeout)
[01:58:29] *** Joins: Guest__ (textual@moz-8D0BBB80.nyc.res.rr.com)
[01:59:48] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:02:24] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Ping timeout)
[02:02:33] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[02:06:31] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Ping timeout)
[02:08:23] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[02:13:35] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:16:30] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:18:51] <jdsanders> sorry doy, I did mean "doh"
[02:19:07] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[02:19:42] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[02:20:12] *** Quits: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net) (Quit: ziad)
[02:20:34] <Jarrett> you were almost a teen girl from the 80s, jdsanders 
[02:20:48] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Ping timeout)
[02:21:02] <jdsanders> ha, I thought that was the 90s
[02:21:16] <Jarrett> the 80s kinda barfed all over the early 90s ;)
[02:21:17] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[02:21:24] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[02:21:28] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Ping timeout)
[02:22:51] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[02:23:18] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:23:26] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[02:25:00] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:25:56] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[02:26:00] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[02:26:15] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[02:26:45] *** Joins: dradtke (Mibbit@moz-BC50DB24.c3-0.stk-ubr2.chi-stk.il.cable.rcn.com)
[02:27:07] <dradtke> Hey, how do I write a function to return an Iterator?
[02:27:58] <ryeguy> what do you want to iterate over?
[02:28:11] <ryeguy> just a vector's items?
[02:28:34] <dradtke> basically
[02:28:36] *** Joins: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net)
[02:29:24] *** Joins: espindola (espindola@moz-F0FBD3B4.dsl.teksavvy.com)
[02:29:24] *** Quits: Guest__ (textual@moz-8D0BBB80.nyc.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:30:22] <brandonson> dradtke: you *could* return ~iter::Iterator.  Not entirely sure that's what you're looking for though.
[02:31:01] <ryeguy> dradtke, a bare function, or is it a method that returns an iterator to a struct field's vec?
[02:32:17] <dradtke> I have a struct that contains a vector like ~[Weak<RefCell<Player<'p>>>], and I tried returning an ~Iterator<Weak<RefCell<Player<'p>>>>, but it didn't work
[02:33:03] <dradtke> "(expected trait std::iter::Iterator but found struct std::vec::Items)"
[02:33:15] <ryeguy> fn players_iter<'a>(&'a self) -> vec::Items<'a, Weak<RefCell<Player<'p>>>> {
[02:33:15] <ryeguy>     self.players.iter()
[02:33:15] <ryeguy> }
[02:33:37] <ryeguy> replace 'p with 'a i think
[02:33:57] <ryeguy> the problem is .iter() returns Items, not an Iterator
[02:34:05] <brandonson> hrm.  where does rustc actually look for extern crates?
[02:34:49] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[02:35:36] <dradtke> Looks like that works, but I also tried defining a generic type T based on Iterator, which didn't work and I don't really know why
[02:36:01] <dradtke> can functions return a generic type?
[02:36:45] <ryeguy> yes
[02:36:54] *** Joins: leslie (Adium@802083C6.67DB9176.67D29DD9.IP)
[02:37:06] <sfackler> dradtke: yes, but something like fn players_iter<T: Iterator<Foo>() -> T means that the *caller* gets to chose which iterator the function has to return
[02:37:23] *** Joins: ElLuchador (raymondvar@moz-434DF81C.hsd1.va.comcast.net)
[02:38:27] <sfackler> that definition says "for all types T that implement Iterator<Foo> define a function players_iter that returns a T"
[02:39:37] *** Joins: tedh (tedh@moz-6F8EC49.central.biz.rr.com)
[02:42:09] *** Quits: alexherbo2 (alexherbo2@moz-E399D52A.w90-3.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[02:46:50] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[02:47:54] *** Quits: lpy (lpy@81B96B5C.F09091A8.1348A864.IP) (Client exited)
[02:48:30] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Ping timeout)
[02:49:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:50:08] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[02:50:39] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[02:51:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:51:30] *** Quits: oxum (anonymous@E9C77C8.8C5DFFF8.520CDC98.IP) (Quit: ...)
[02:51:48] *** Quits: moop (Mibbit@moz-7607793D.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:55:42] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:56:11] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[02:57:54] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[02:58:03] *** Joins: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net)
[02:58:27] *** Quits: orospakr (orospakr@moz-A57EF4CD.cpe.net.cable.rogers.com) (Quit: Textual IRC Client: www.textualapp.com)
[03:01:10] *** Quits: jyasskin_w (jyasskin@DAF66858.C60FE7DC.4065847B.IP) (Ping timeout)
[03:01:44] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[03:01:46] *** Quits: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net) (Ping timeout)
[03:03:02] *** Joins: heftig (heftig@moz-DEE2FE9B.dip0.t-ipconnect.de)
[03:08:48] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:08:56] *** Quits: ElLuchador (raymondvar@moz-434DF81C.hsd1.va.comcast.net) (Quit: ElLuchador)
[03:09:38] *** Quits: zz_kimundi (kimundi@moz-B191E9F0.dip0.t-ipconnect.de) (Ping timeout)
[03:10:32] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[03:12:50] *** Joins: zz_kimundi (kimundi@moz-D90B8D7C.dip0.t-ipconnect.de)
[03:13:10] *** zz_kimundi is now known as kimundi
[03:14:22] *** Quits: joone_ (joone@E10A1781.2160464A.A34EC3BB.IP) (Quit: Ex-Chat)
[03:14:30] *** Joins: joone (joone@E10A1781.2160464A.A34EC3BB.IP)
[03:15:49] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[03:16:33] *** Joins: jyasskin_w (jyasskin@5CA6DC39.C60FE7DC.4065847B.IP)
[03:16:57] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[03:17:08] *** Quits: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net) (Ping timeout)
[03:18:39] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Ping timeout)
[03:19:49] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[03:19:49] *** ChanServ sets mode: +ao brson brson
[03:19:57] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[03:20:12] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:20:15] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[03:20:15] *** ChanServ sets mode: +ao brson brson
[03:20:31] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:21:07] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[03:21:24] *** Joins: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net)
[03:21:40] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[03:21:41] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[03:21:46] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Client exited)
[03:21:47] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[03:23:36] *** Joins: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com)
[03:24:05] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[03:24:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:26:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:26:33] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[03:29:07] *** Quits: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net) (Quit: Leaving.)
[03:29:18] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[03:29:22] *** Joins: epall_b (Mibbit@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net)
[03:29:27] *** Joins: epall (epall@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net)
[03:29:42] *** Quits: epall_b (Mibbit@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:30:11] *** Quits: jyasskin_w (jyasskin@5CA6DC39.C60FE7DC.4065847B.IP) (Ping timeout)
[03:30:24] <epall> hey guys, I'm a Rust newbie looking for some help with pointers and references. Where's a good place to look for explained examples?
[03:30:24] *** Joins: jyasskin_w (jyasskin@DAF66858.C60FE7DC.4065847B.IP)
[03:31:05] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[03:31:32] *** Quits: popinman322 (MagiSun@moz-DB516D62.twcny.res.rr.com) (Quit: Leaving.)
[03:31:48] <o11c> epall: http://static.rust-lang.org/doc/master/guide-pointers.html ?
[03:32:31] <epall> thanks!
[03:33:15] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[03:34:46] <epall> hm, I'm still stumped by this: mismatched types: expected `~str` but found `&str` (str storage differs: expected ~ but found &)
[03:35:00] <zslayton> achricto: ping
[03:35:08] <epall> https://gist.github.com/epall/b472221940ece3d1ffd9
[03:35:39] <epall> I'm sure I'm missing something simple here, but I can't figure out how to turn the reference returned from from_utf8 into an owned pointer
[03:36:05] <o11c> epall: why ~str ? why .clone() ?
[03:36:21] <epall> I'm trying to take the bytes and send them to the channel
[03:36:24] <epall> these are my attempts so far :)
[03:40:38] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[03:41:13] <epall> o11c: I'm trying to write a simple network chat server to help myself learn Rust. I figured I wanted to pass ~str objects over channels between the tasks, but maybe that's wrong?
[03:42:21] <WebeWizard> epall, there is a into_owned() function
[03:42:32] <WebeWizard> http://static.rust-lang.org/doc/master/std/str/trait.Str.html
[03:42:54] <epall> WebeWizard: thanks! I'll try that
[03:43:23] <epall> works!
[03:43:29] <WebeWizard> great :)
[03:43:46] <epall> what's going on when I call into_owned()?
[03:43:49] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[03:44:06] <sp3d> it allocates space and makes a copy of the data into it
[03:44:12] <epall> ah, awesome
[03:44:14] <epall> from what I'm reading here, from_utf8 tries to avoid a copy of the buffer it works from, and that's why it returns a reference
[03:44:26] <WebeWizard> sp3d, epall, it doesn't copy if it doesn't need to, but in your case, it probably is making a copy
[03:44:28] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[03:44:30] <sp3d> right
[03:44:35] <epall> so if I want to from_utf8 and then own it, the right thing to do is into_owned?
[03:45:13] <zslayton> epall: Yup.
[03:45:27] <epall> awesome!
[03:45:41] <epall> next question....how do I recv() on several Ports at once?
[03:46:25] *** Joins: oxum (anonymous@17D63D25.A588E5E2.520CDC98.IP)
[03:46:32] <WebeWizard> epall, you can clone a chan/port, and all copies will recieve at once
[03:46:47] <sp3d> http://static.rust-lang.org/doc/0.8/std/select/fn.select.html ?
[03:46:50] *** Quits: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net) (Input/output error)
[03:46:51] <sp3d> eep, 0.8
[03:47:00] <epall> yeah, select seems like what I'm looking for
[03:47:22] * sp3d hasn't used it, and doesn't know what it looks like currently
[03:47:25] <epall> ah, perfect
[03:47:26] <epall> http://static.rust-lang.org/doc/0.9/std/comm/select/index.html
[03:47:37] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[03:47:40] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (Input/output error)
[03:49:00] *** Joins: synackse (Adium@2D608993.77F880E0.D9401097.IP)
[03:49:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:49:46] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:50:12] *** synackse is now known as jordyd
[03:50:26] *** jordyd is now known as synackse
[03:50:27] *** Quits: oxum (anonymous@17D63D25.A588E5E2.520CDC98.IP) (Quit: Bye..)
[03:50:37] *** Quits: synackse (Adium@2D608993.77F880E0.D9401097.IP) (services.mozilla.org (Too many invalid passwords))
[03:50:43] *** Joins: synackse (Adium@2D608993.77F880E0.D9401097.IP)
[03:51:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:54:17] *** Parts: synackse (Adium@2D608993.77F880E0.D9401097.IP) ()
[03:55:00] *** Quits: meTaAU (admin@moz-BE9C5FBF.lns20.per2.internode.on.net) (Ping timeout)
[03:55:01] *** Joins: meTaAU_ (admin@moz-DABA500C.lns20.per2.internode.on.net)
[03:56:29] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[03:58:07] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[03:59:21] <bjz> epall: I think acrichto says the select! macro is incomplete as of yet
[03:59:36] <bjz> epall: it is definitely in the works though
[03:59:40] <bjz> just needs TLC
[03:59:48] <epall> bjz: I need something a bit more dynamic, anyway, so it looks like I may need to drop to low-level Select
[04:00:09] <bjz> the select! macro will make it much prettier
[04:00:21] <epall> hmm
[04:00:22] <epall> chat.rs:7:5: 7:31 error: struct `Select` is private
[04:00:23] <epall> chat.rs:7 use std::comm::select::Select;
[04:00:25] <epall> http://static.rust-lang.org/doc/0.9/src/std/home/rustbuild/scratch/rust/src/libstd/comm/select.rs.html#81-85
[04:00:31] <bjz> but it is not currently exported due to aafore mentioned issues
[04:00:37] <bjz> hmm
[04:00:49] <bjz> might be private because it is experimental
[04:00:52] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[04:01:08] <bjz> probably should just have an #[experimental] attribute on the module
[04:01:15] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[04:01:16] <epall> how can it be "pub" in the source but private according to my rustc?
[04:01:26] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Quit: This computer has gone to sleep)
[04:01:37] *** Parts: synackse (jordyd@2D608993.77F880E0.D9401097.IP) ()
[04:01:50] <bjz> epall: how are you constructing it?
[04:01:57] <epall>   let port_set = Select::new();
[04:02:06] <bjz> ah
[04:02:08] <bjz> hmm
[04:02:16] <bjz> is the module private?
[04:02:38] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[04:02:56] *** Joins: carrus85 (carrus85@CD83A7DD.7127D6FC.637467AC.IP)
[04:02:58] *** Joins: mindcat (mindcat@339D822D.7B4F697F.F21FCE99.IP)
[04:03:20] <bjz> ah yup: http://static.rust-lang.org/doc/0.9/src/std/home/rustbuild/scratch/rust/src/libstd/comm/mod.rs.html#273
[04:03:28] <bjz> that error message is bad then
[04:03:54] <epall> cool, I'll see if I can get a working rustc dev environment set up to submit a patch
[04:03:55] <mindcat> strcat: can I ask you for some example? I don't know how call rust code from c++ code.
[04:04:44] <mindcat> or can someone tell me how to do that?
[04:04:48] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[04:09:10] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[04:11:31] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Client exited)
[04:11:50] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[04:12:02] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[04:12:27] *** Quits: zslayton (Mibbit@moz-4806B979.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:13:42] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Ping timeout)
[04:13:59] <epall> bjz: is there a way to use std::comm:select, even though it's private?
[04:17:09] *** Quits: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP) (Ping timeout)
[04:18:16] <Eridius> epall: the macro is private, but the actual select functionality is public
[04:18:29] <epall> Eridius: in 0.9, or master?
[04:18:32] <Eridius> master
[04:18:37] <epall> compiling now :)
[04:18:44] <Eridius> :P
[04:18:52] * epall grabs his cardboard sword 
[04:19:01] <Eridius> don't forget your wheely chair!
[04:20:19] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[04:22:00] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[04:24:48] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:26:30] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:27:29] *** Joins: MarcWeber (marc@moz-21F1A67.dip0.t-ipconnect.de)
[04:27:56] *** Joins: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net)
[04:28:03] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[04:28:15] <iopq> just installed rust for windows
[04:28:35] <iopq> hello.rs:2:2: 2:9 error: unresolved name `println`.
[04:28:36] <iopq> hello.rs:2      println("Hello, world!");
[04:28:36] <iopq>                 ^~~~~~~
[04:28:36] <iopq> error: aborting due to previous error
[04:28:41] <Eridius> println!()
[04:28:42] <Yurume> println!
[04:28:46] <Eridius> println is no longer in the prelude
[04:28:55] *** Quits: MarcWebe1 (marc@moz-88215E32.dip0.t-ipconnect.de) (Ping timeout)
[04:29:05] <iopq> ah thanks
[04:29:14] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[04:29:17] <Yurume> iopq: just out of curiosity, what version of rustc are you using now?
[04:29:25] <Yurume> (in doubt, rustc -v)
[04:29:33] <mindcat> ok, how can I call rust code from c++ code?
[04:29:46] <iopq> 0.10-pre
[04:29:51] <Eridius> mindcat: declare your function with #[no_mangle] extern "C" fn foo() { ... }
[04:30:09] <mindcat> Eridius: and returns?
[04:30:23] <Eridius> add a return type to the fn foo() if you want one
[04:30:39] <Eridius> the key point is you need #[no_mangle] to make the symbol be named like a C function, and extern "C" to use the C ABI
[04:30:47] <Yurume> iopq: then you need to consult the docs for "master" (development version), starting from http://static.rust-lang.org/doc/master/index.html
[04:30:48] <Eridius> then you can just expose it to C++ as if it were a C function
[04:31:30] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:31:36] <mindcat> Eridius: ok...
[04:32:24] <iopq> Yurume: thanks, I just googled hello world in Rust, but things are not that simple ;)
[04:32:35] <Yurume> iopq: it changes over time! :)
[04:32:52] <Yurume> but I guess println! will stay here forever
[04:32:56] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:33:20] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:33:28] *** Quits: meTaAU_ (admin@moz-DABA500C.lns20.per2.internode.on.net) (Ping timeout)
[04:33:48] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[04:34:50] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[04:35:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:35:21] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[04:35:50] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:35:53] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[04:37:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[04:37:29] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[04:37:56] *** Joins: meTaAU (admin@moz-3CD66FF9.lns20.per1.internode.on.net)
[04:40:23] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[04:42:07] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[04:42:27] *** Joins: sdwilsh (sdwilsh@55513BD.95D3F462.59D8BB03.IP)
[04:42:37] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[04:43:44] <mindcat> Eridius: then I always get "/tmp/a-65ae81.o:a.cpp:function main: error: undefined reference to 'callback'" http://paste.ubuntu.com/6985264/
[04:44:53] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:44:54] <sdwilsh> I started playing with rust today to get a feel for the language.  I've got some code that I can't seem to manage to make the compiler happy with references instead of owned pointers: http://pastebin.mozilla.org/4376950
[04:45:29] <sdwilsh> specifically, getProperty and hasProperty in that implementation
[04:47:50] <bvssvni> sdwilsh: what is the compiler error?
[04:49:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:49:31] <sdwilsh> wait
[04:49:40] <sdwilsh> of course now that I've asked I may have figured this out
[04:50:10] <sdwilsh> yeah, I did
[04:50:25] <bvssvni> :)
[04:51:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:51:01] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[04:53:43] <Yurume> sdwilsh: you really don't need to receive ~str for get/hasProperty.
[04:53:56] <sdwilsh> Yurume: yeah, I got it working with &str now
[04:54:00] <Yurume> (setProperty requires ~str, but anyway)
[04:54:11] <Yurume> and you're already using find_equiv
[04:54:22] <Yurume> so you can just switch to &str and everything will work.
[04:54:37] <sdwilsh> Yurume: not quite, I still have to pass &name to find_equiv
[04:54:48] <sdwilsh> that appears to be what I was missing before
[04:57:15] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[04:57:42] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[04:57:45] *** Joins: sindork_ (sindork@ABFA98AB.DD47BB48.F7A44A1B.IP)
[04:58:26] *** Quits: sindork_ (sindork@ABFA98AB.DD47BB48.F7A44A1B.IP) (Client exited)
[04:58:56] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[04:59:05] *** Quits: heftig (heftig@moz-DEE2FE9B.dip0.t-ipconnect.de) (Quit: Quitting)
[04:59:08] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[04:59:48] <epall> alright, now I'm having namespacing troubles
[04:59:49] <epall> chat.rs:22:7: 22:11 error: unresolved enum variant, struct or const `Data`
[04:59:50] <epall> https://gist.github.com/epall/b472221940ece3d1ffd9#file-chat-rs-L22
[05:00:03] <epall> how do I match on an enum variant of TryReceiveResult?
[05:00:46] <epall> also, where do I get println from?
[05:01:05] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[05:02:05] <bvssvni> epall: use the println! macro
[05:02:09] <cmr> epall: println lives in std::io, but you should use the macro instead.
[05:02:25] <epall> cmr: ah, thanks!
[05:05:01] <bvssvni> epall: what is the problem with the match?
[05:05:15] <epall> bvssvni: I hadn't imported std::comm::Data. Fixed now
[05:05:28] <bvssvni> epall: all good then :)
[05:07:51] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:10:12] *** Quits: espindola (espindola@moz-F0FBD3B4.dsl.teksavvy.com) (Input/output error)
[05:12:28] <sdwilsh> is it possible to mark fields in a struct as being immutable regardless of the slot the struct is in?  I'm not seeing anything in the docs about this
[05:13:03] <epall> is there a stdlib method of wrapping a TcpStream in a Chan/Port pair so I can Select on it along with other Ports?
[05:13:52] <bvssvni> sdwilsh: you can make them private and control the changes through methods
[05:13:55] <cmr> sdwilsh: hm, I don't think so. it should be relatively easy to construct -- it'd look exactly like Arc, except it wouldn't be clonable.
[05:14:06] *** Joins: mib_zmlv6d (Mibbit@moz-39DB68C0.rmo.bellsouth.net)
[05:14:19] *** Quits: mib_zmlv6d (Mibbit@moz-39DB68C0.rmo.bellsouth.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:15:52] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[05:16:36] <sdwilsh> bvssvni: yeah, but I don't want to implement methods to read all those properties :)
[05:16:41] <sdwilsh> er, fields
[05:17:05] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:19:01] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[05:19:03] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[05:21:09] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Ping timeout)
[05:21:12] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[05:21:18] *** Joins: mib_ma9e5i (Mibbit@moz-2801788.perm.iinet.net.au)
[05:21:39] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[05:21:53] *** Quits: mib_ma9e5i (Mibbit@moz-2801788.perm.iinet.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[05:22:20] *** Joins: mindbound (AndChat399@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[05:22:22] *** Joins: Lovot (root@moz-64ED673A.knology.net)
[05:22:25] *** Joins: Capt_Redbeard (textual@moz-4998C3D0.ok.ok.cox.net)
[05:22:39] *** Quits: Capt_Redbeard (textual@moz-4998C3D0.ok.ok.cox.net) (Quit: Textual IRC Client: www.textualapp.com)
[05:23:36] *** Quits: mindbound (AndChat399@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: Bye)
[05:24:51] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[05:25:11] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[05:25:19] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[05:25:33] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:25:35] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[05:26:26] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[05:27:14] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:28:09] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[05:28:37] *** Quits: saml (saml@moz-AFAADF83.nycmny.east.verizon.net) (Quit: Leaving)
[05:35:29] <mindcat> No, I still didn't know how call rust code from c++ code.
[05:35:50] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[05:36:10] <cmr> mindcat: `#[no_mangle] pub extern "C" fn foo() { println!("hello from rust") }` you can now link to libfoo and call `foo` as if it were a C function.
[05:36:52] <mindcat> cmr: I try it
[05:37:02] <dougxxx> mindcat: did you read http://stackoverflow.com/questions/20967855/can-you-run-rust-code-from-a-c-library-being-called-from-rust ?
[05:37:20] <dougxxx> (has example~ :)
[05:37:27] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[05:38:00] <mindcat> oh, I did it! I just forgot "pub"
[05:38:06] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[05:38:48] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[05:38:53] *** Joins: vasac (vasac@FC3DDDFC.89B50D56.DF1CE89D.IP)
[05:39:24] *** Quits: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP) (Ping timeout)
[05:39:35] <mindcat> http://paste.ubuntu.com/6985394/
[05:40:14] <cmr> mindcat: by the way, you can say --crate-type=staticlib,dylib it will be faster since it doesn't need to compile twice.
[05:40:28] <mindcat> cmr: ok...
[05:40:49] *** Joins: lpy (lpy@81B96B5C.F09091A8.1348A864.IP)
[05:41:17] *** Joins: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP)
[05:41:27] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[05:41:32] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[05:41:33] *** Joins: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr)
[05:41:34] <ChrisMorgan> You can also do #[crate_type = "staticlib"]; #[crate_type = "dylib"];
[05:41:47] * ChrisMorgan finds it *so* hard to type crate rather than create
[05:41:49] <mindcat> ChrisMorgan: yea
[05:42:44] <mindcat> dougxxx: and your answer: I just read here http://static.rust-lang.org/doc/master/guide-ffi.html
[05:42:53] <mindcat> dougxxx: and didn't help
[05:43:02] *** Joins: edwardw (edwardw@ED48E813.BF27AFA4.B9C6B12A.IP)
[05:44:06] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[05:45:05] *** Quits: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:46:27] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[05:49:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[05:51:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[05:53:46] *** Quits: meTaAU (admin@moz-3CD66FF9.lns20.per1.internode.on.net) (Ping timeout)
[05:54:40] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:54:40] *** ChanServ sets mode: +ao dherman dherman
[05:54:57] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[05:55:31] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[05:56:27] *** Joins: meTaAU (admin@moz-622EADBC.lns20.per2.internode.on.net)
[05:56:28] *** Joins: r0dia (Mibbit@moz-79517B1B.hsd1.ca.comcast.net)
[05:56:56] *** Quits: Lovot (root@moz-64ED673A.knology.net) (Quit: Lost terminal)
[05:58:06] *** Quits: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[05:59:06] *** Quits: meTaAU (admin@moz-622EADBC.lns20.per2.internode.on.net) (Ping timeout)
[05:59:16] *** Joins: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:00:21] *** Quits: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net) (Connection reset by peer)
[06:01:26] *** Joins: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:01:47] *** Joins: meTaAU (admin@moz-98D3EC78.lns20.per2.internode.on.net)
[06:01:57] *** Quits: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net) (Connection reset by peer)
[06:02:25] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[06:03:11] *** Quits: r0dia (Mibbit@moz-79517B1B.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:04:35] *** Quits: epall (epall@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net) (Quit: epall)
[06:06:05] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:06:56] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:07:41] *** Quits: meTaAU (admin@moz-98D3EC78.lns20.per2.internode.on.net) (Ping timeout)
[06:08:07] *** Joins: meTaAU (admin@moz-F7E6E8A6.lns20.per1.internode.on.net)
[06:08:19] <mindcat> http://paste.ubuntu.com/6985466/
[06:08:29] <mindcat> that is interested XD
[06:08:35] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:08:44] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[06:09:56] *** Quits: meTaAU (admin@moz-F7E6E8A6.lns20.per1.internode.on.net) (Ping timeout)
[06:11:33] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:12:28] *** Quits: Guest_ (textual@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:13:08] *** Joins: meTaAU (admin@moz-FD55EDA4.lns20.per2.internode.on.net)
[06:14:39] *** Joins: benjamin_ (benjamin@moz-C6041EB7.dip0.t-ipconnect.de)
[06:16:44] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[06:18:00] *** Quits: meTaAU (admin@moz-FD55EDA4.lns20.per2.internode.on.net) (Ping timeout)
[06:20:21] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[06:20:24] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[06:20:49] *** Joins: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:21:26] *** Joins: meTaAU (admin@moz-F6D6436C.lns20.per2.internode.on.net)
[06:21:31] *** Quits: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net) (Connection reset by peer)
[06:22:28] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[06:23:17] *** Quits: meTaAU (admin@moz-F6D6436C.lns20.per2.internode.on.net) (Ping timeout)
[06:24:33] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[06:26:11] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[06:26:17] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:26:18] <geomyidae> hi all, where did std::unstable::intrinsics::uninit go?
[06:26:26] *** Joins: meTaAU (admin@moz-E3570D47.lns20.per1.internode.on.net)
[06:26:57] <cmr> geomyidae: intrinsics now live instd::intrinsics
[06:27:07] <cmr> geomyidae: but do use the functions in std::mem
[06:27:43] <Yurume> are they now considered "stable" (in some sense)?
[06:27:58] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:28:04] <cmr> Yurume: intrinsics? no, the modules are marked #[experimental]
[06:28:09] <Yurume> ah
[06:28:26] <Yurume> then are we ditching std::unstable in favor of attr-based stability indices?
[06:28:32] <cmr> yes.
[06:28:37] <Yurume> makes sense
[06:28:53] <cmr> Any announcements for TWiR?
[06:29:11] <huon> we need stability attributes need some improvement, btw
[06:29:20] <eddyb> needy
[06:29:23] <huon> bleh, sentences
[06:29:35] <huon> *we need to improve stability attributes, btw
[06:30:01] <eddyb> cmr: should've done more about https://github.com/eddyb/r3 - I hope to have something in there by next week :P
[06:30:06] <Yurume> we may keep #[unusable] for April fools' day pranks
[06:30:26] <Yurume> or #[does_not_compile]
[06:30:32] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:30:33] <cmr> #[mutable_doc]
[06:30:39] <cmr> that one still cracks me up
[06:30:58] <Yurume> indeed, what was that?
[06:31:01] <cmr> nothing.
[06:31:04] <cmr> I don't even know
[06:31:09] <eddyb> freezing and thawing docs. how long does the paper last?
[06:31:13] <cmr> I tried digging up how it got there.
[06:31:23] <cmr> pcwalton seems to have just randomly added it at some point.
[06:31:55] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:31:55] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[06:32:12] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:32:28] <eddyb> are we going to have bot alerts for changing anything in a #[stable] item?
[06:32:34] <cmr> drbawb: https://github.com/drbawb/rust-story is awesome!
[06:32:45] <cmr> eddyb: ideally
[06:32:48] *** Joins: meTaAU_ (admin@moz-15C621EA.lns20.per2.internode.on.net)
[06:33:02] <cmr> eddyb: ideally we'd have https://github.com/mozilla/rust/issues/9060
[06:33:08] *** Quits: meTaAU (admin@moz-E3570D47.lns20.per1.internode.on.net) (Ping timeout)
[06:33:21] <huon> Arc<RefCell<>> works??
[06:33:34] <eddyb> I wouldn't trust it even if it did
[06:33:38] *** Joins: mye (mye@moz-8FF56B69.dip0.t-ipconnect.de)
[06:33:44] <eddyb> needs RWLock
[06:33:56] <cmr> no it doesn't
[06:34:01] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[06:34:02] <huon> it needs atomics, right?
[06:34:12] <cmr> yes.
[06:34:19] <cmr> but it doesn't need a full reader-writer lock.
[06:34:48] <eddyb> Cell<T> => Atomic*, RefCell<T> => Mutex<T>/RWLock<T>
[06:34:57] <huon> (since it just fails on double lock, not blocking.)
[06:35:22] *** Joins: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:35:43] <cmr> of course on x86 all aligned reads/writes are atomic so it ends up being subtle.
[06:36:19] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[06:36:23] <eddyb> do we even have an AtomicRefCell?
[06:36:23] *** Quits: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net) (Connection reset by peer)
[06:36:25] *** Joins: arrrrrrr1 (arrrrrrrrr@moz-53AF4C1C.dynamic.qsc.de)
[06:36:34] <cmr> doubt it
[06:36:37] <huon> someone get an ARM computer and hammer on a Arc<RefCell<>> until something breaks
[06:36:41] <huon> and then file a bug
[06:36:43] <cmr> I have one
[06:36:50] <cmr> I've been slowly reading through the reference manual
[06:37:02] <huon> for rust?
[06:37:04] <cmr> Until I can get work up enough knowledge to write perhipheral drivers.
[06:37:12] <cmr> no, for the arm chip :P
[06:37:15] <zwarich> sadly, the ARM reference manuals do not have a great description of the ARM memory model
[06:37:24] <eddyb> cmr: you scared me there for a second :P
[06:37:41] *** Quits: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net) (Ping timeout)
[06:37:41] *** Quits: meTaAU_ (admin@moz-15C621EA.lns20.per2.internode.on.net) (Ping timeout)
[06:37:45] <cmr> I have a board with an stm32f405 on it
[06:37:46] *** Joins: meTaAU (admin@moz-6FB46C01.lns20.per2.internode.on.net)
[06:38:04] <cmr> meg flash, 192k ram
[06:38:21] <zwarich> ARM64 is so nice, with acquire/release instructions
[06:38:36] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:38:36] <cmr> zwarich: link to manuals?
[06:38:47] <cmr> (I find the ARM website difficult to navigate...)
[06:39:15] <mindcat> I have raspberry pi :D
[06:39:35] <edwardw> rusti: let mut x = 0i; 'x: for _ in range(0, 10) { if x > 5 { continue 'x; } x += 1; println!("{}", x);}; x
[06:39:38] <mindcat> or your android phone
[06:39:39] -rusti- pastebinned 7 lines of output: http://ix.io/aH4
[06:40:10] <edwardw> rusti: let mut x = 0i; 'x: for _ in range(0, 10) { if x > 1 { continue 'x; } x += 1; println!("{}", x);}; x
[06:40:11] -rusti- 1
[06:40:11] -rusti- 2
[06:40:11] -rusti- 2
[06:40:34] *** Quits: meTaAU (admin@moz-6FB46C01.lns20.per2.internode.on.net) (Ping timeout)
[06:40:47] <mindcat> rusti: let mut x = 0i; do 10.times { if x > 5 { continue 'x; } x += 1; println!("{}", x);}; x
[06:40:48] -rusti- <anon>:10:59: 10:62 error: use of undeclared label `x`
[06:40:48] -rusti- <anon>:10         let mut x = 0i; do 10.times { if x > 5 { continue 'x; } x += 1; println!("{}", x);}; x
[06:40:48] -rusti-                                                                     ^~~
[06:40:48] -rusti- error: aborting due to previous error
[06:40:48] -rusti- application terminated with error code 101
[06:40:58] <mindcat> rusti: let mut x = 0i; do 10.times { if x > 5 { continue x; } x += 1; println!("{}", x);}; x
[06:40:58] -rusti- <anon>:10:59: 10:60 error: expected one of `;`, `}` but found `x`
[06:40:58] -rusti- <anon>:10         let mut x = 0i; do 10.times { if x > 5 { continue x; } x += 1; println!("{}", x);}; x
[06:40:58] -rusti-                                                                     ^
[06:40:58] -rusti- application terminated with error code 101
[06:41:16] <huon> edwardw: rusti is not master
[06:41:17] <zwarich> cmr: I get all my copies from an internal site, but I found this on GitHub, https://github.com/lawliet89/pascal2arm/blob/master/Reference/ARM%20Stuff/ARMv8_ISA_Overview_PRD03-GENC-010197-15-0.pdf
[06:41:25] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[06:41:33] <cmr> zwarich: ah ok, thanks.
[06:41:34] <edwardw> huon: I tried locally, too. it worked
[06:41:58] <zwarich> no nontrivial subregisters is pretty cool for register allocators
[06:41:59] <huon> edwardw: weird. I guess we have to wait for sfackler to fill a bug
[06:42:15] <sfackler> huon: https://github.com/mozilla/rust/issues/12512
[06:42:15] <edwardw> huon: yep
[06:42:29] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[06:42:34] <huon> *file
[06:42:47] *** Joins: meTaAU (admin@moz-4F4868D0.lns20.per1.internode.on.net)
[06:43:34] <edwardw> sfackler: #12512 worked for me
[06:43:50] <huon> edwardw: oh, does the renaming of lifetimes only rename lifetimes
[06:43:55] <huon> or does it rename all idents?
[06:44:15] <huon> edwardw: does your local compiler include your lifetime patch?
[06:44:29] <edwardw> oh wait. I'm on another branch without the hygiene patch
[06:44:32] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[06:44:41] <edwardw> must be, so sad
[06:44:57] <huon> eh, it works for me too
[06:44:59] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[06:45:15] <sfackler> I'm on 329fcd4
[06:45:31] <edwardw> huon: with hygiene label patch?
[06:45:35] <huon> oh, might compiler doesn't include it either
[06:45:42] * huon thought he'd updated recently...
[06:46:26] <huon> *my
[06:46:29] <huon> gah
[06:46:36] * huon removes his keyboard
[06:46:48] * cmr removes huon's brain
[06:46:50] <cmr> all better
[06:47:56] *** Joins: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:48:06] * huon looks vacant, dribbling from the side of his mouth
[06:48:23] <cmr> do you happen to play percussion?
[06:48:24] <cmr> ;)
[06:48:40] <zwarich> wow, drummer jokes
[06:49:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:49:36] *** Quits: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[06:51:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:51:50] <cmr> http://cmr.github.io/blog/2014/02/23/this-week-in-rust/
[06:52:55] <huon> cmr: I don't think the lang items one is breaking
[06:53:03] <cmr> oops meant to move that one
[06:53:12] <huon> it just makes the compiler consider the things reachable, not forcing the user to make them so
[06:53:13] *** Quits: alonlevy (alon@2CD54432.57968636.E9C721AF.IP) (Ping timeout)
[06:54:17] <sfackler> cmr: s/changed/changes/ in bullet 2
[06:54:19] <huon> cmr: bah, you got the HN submission first! :'(
[06:54:25] <cmr> huon: hah!
[06:54:30] * huon couldn't steal the upvotes
[06:55:19] <cmr> looks like mt gox just self destructed.
[06:55:27] * cmr gets ready to buy some bitcoin
[06:55:55] <Yurume> it remains as a foundation member, it has just resigned from the board of directors.
[06:56:10] <huon> cmr: just earn them with rust commits
[06:56:27] <cmr> its tweets also disappeared, and haven't they been doing something with not sending out payments of some sort?
[06:56:27] * huon wonders if he's got more than 1c worth of BTC from that thing yet
[06:56:28] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[06:56:31] <zwarich> if only you could convert time spent building LLVM into bitcoins
[06:56:33] * cmr doesn't really pay attention
[06:57:14] *** Quits: benjamin_ (benjamin@moz-C6041EB7.dip0.t-ipconnect.de) (Ping timeout)
[06:57:59] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[06:59:25] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:59:41] * cmr -> sleep
[07:00:17] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[07:00:22] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[07:00:27] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[07:02:03] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:02:14] <geomyidae> where are the is_ok! macros documented?
[07:02:43] <Yurume> https://github.com/mozilla/rust/blob/master/src/libstd/macros.rs#L354
[07:02:47] <ChrisMorgan> geomyidae: it's try! now
[07:02:50] <sfackler> if_ok is now try
[07:02:51] <sfackler> efb
[07:02:52] <Yurume> but it currently does not show up in the generated docs.
[07:02:55] <huon> geomyidae: http://static.rust-lang.org/doc/master/std/macros/index.html
[07:03:04] <geomyidae> thanks all
[07:03:17] <ChrisMorgan> More specifically, http://static.rust-lang.org/doc/master/std/macros/macro.try.html
[07:03:33] <huon> when did we get unimplemented!()?
[07:03:46] <ChrisMorgan> Oh, a few weeks ago.
[07:03:47] <sfackler> a week or two ago iirc
[07:04:02] <huon> oh, and vec!(1,2,3)
[07:04:09] <huon> cool
[07:04:16] <ChrisMorgan> unimplemented! was https://github.com/mozilla/rust/pull/12090
[07:04:31] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:04:32] <ChrisMorgan> Fifteen days ago.
[07:04:46] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[07:05:16] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:06:05] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[07:06:33] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:07:10] *** Joins: derek_c (derek@moz-B76C562E.cit.cornell.edu)
[07:07:56] <derek_c> can someone take a look at this code and tell me what I should put at line 47?  http://upl.io/ucm685
[07:08:18] <derek_c> It's complaining about the lack of lifetime and type arguments
[07:08:27] <derek_c> but if I add them, it complains about undeclared type arguments
[07:08:52] <huon> <'a, X, T: StateMachine<'a, X>>
[07:09:13] <huon> Unless the state machine is meant to have a specific type
[07:09:33] <huon> also, it's good practice to have `state: T` not `state: ~T`
[07:10:17] *** Quits: huon (Thunderbir@B11C0778.D5A1DCF.37681C44.IP) (Quit: huon)
[07:10:53] *** Joins: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:11:50] *** Quits: notmatt_ (notmatt@moz-9FB2565E.vc.shawcable.net) (Connection reset by peer)
[07:12:12] *** Joins: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch)
[07:12:34] *** Joins: ofeldt- (ofeldt@moz-4DF18330.dip0.t-ipconnect.de)
[07:12:36] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:12:49] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[07:13:00] <derek_c> huon: I see
[07:13:13] <derek_c> thanks :)
[07:13:24] *** Quits: ofeldt (ofeldt@moz-A0F10D66.dip0.t-ipconnect.de) (Ping timeout)
[07:13:32] <eddyb> (unless there is a proven benefit from the indirection, but that's usually not the case unless you have a huge enum)
[07:15:50] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:17:51] *** Joins: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch)
[07:17:58] *** Quits: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch) (Client exited)
[07:20:10] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:20:38] *** Quits: FreeFull (freefull@moz-1883929A.as13285.net) (Quit: )
[07:24:11] *** Quits: carrus85 (carrus85@CD83A7DD.7127D6FC.637467AC.IP) (Quit: Leaving)
[07:25:34] *** Joins: fabiand (fabiand@moz-D8E5C9D5.adsl.alicedsl.de)
[07:25:45] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[07:26:56] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[07:27:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:28:45] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:28:50] *** Joins: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP)
[07:28:52] *** Quits: devbug_ (quassel@23AC5F12.9D950176.3655BBF5.IP) (Client exited)
[07:30:06] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[07:30:38] <derek_c> what's the proper way to have a generic enum?
[07:30:51] <derek_c> Trying to do something like: http://upl.io/rzb6lx
[07:31:05] <derek_c> but compiler says error: trait bounds are not allowed in enumeration definitions
[07:31:10] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[07:31:23] <eddyb> derek_c: you don't put trait bounds there
[07:31:40] <eddyb> but in generic functions and impls for that type
[07:31:46] <Yurume> derek_c: you put the trait bounds to generic fns and impls.
[07:32:02] <Yurume> this means you cannot control the mere construction of pub enum itself
[07:32:12] <Yurume> without desired trait bounds
[07:32:13] *** Joins: rsingla (Mibbit@moz-F8665654.eastlink.ca)
[07:32:44] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:32:52] <Yurume> of course, since methods are provided by impls the constructed enum itself would be unusable, but that might be a concern for you.
[07:33:40] <eddyb> a struct is easier to deal with, especially if it wraps something you want to hide
[07:34:02] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:34:04] <derek_c> hmm ok, I will think about this
[07:34:06] <derek_c> thanks guys
[07:34:08] <eddyb> you'll most likely have a Struct::new() static method that all constructions have to go through
[07:34:22] <Yurume> and priv fields.
[07:35:08] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[07:35:52] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[07:35:54] *** Quits: rsingla (Mibbit@moz-F8665654.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[07:36:01] <WebeWizard> Wiizzaaarrrrrd
[07:39:00] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Ping timeout)
[07:42:10] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[07:42:56] *** flaper87|afk is now known as flaper87
[07:43:16] *** Quits: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (Quit: ChatZilla 0.9.88-rdmsoft [XULRunner 1.9.0.17/2009122204])
[07:43:43] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[07:45:07] <bjz> cmr: \o/ TWiR is #3 on HN!
[07:45:54] <Yurume> that mtgox!
[07:47:38] *** Quits: derek_c (derek@moz-B76C562E.cit.cornell.edu) (Quit: Leaving)
[07:49:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:51:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:53:16] <bjz> #1
[07:53:18] <bjz> :)
[07:54:27] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[07:54:34] *** Joins: andersf (Mibbit@moz-5B0629B2.customers.ownit.se)
[07:55:43] *** Joins: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net)
[07:56:46] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[07:57:52] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[07:58:08] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[08:00:19] <jroweboy> Hello everyone! I'm trying to get a int from a string, so I'm calling from_str<u32>(str_var); and the error I'm getting is unresolved name u32. I didn't think that I would need to import u32 or anything. What am I misunderstanding?
[08:01:15] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:01:52] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[08:03:32] <sfackler> jroweboy: from_str::<u32>(str_var)
[08:04:38] <jroweboy> Oh thanks! what is the reasoning behind the :: though? I wanna know why they are needed in this case
[08:04:53] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[08:08:27] <sfackler> jroweboy: othersize parsing requires arbitrary lookahead to differentiate between generic parameters and the < operator
[08:10:07] *** Quits: lpy (lpy@81B96B5C.F09091A8.1348A864.IP) (Client exited)
[08:13:21] *** Quits: MX80 (MX80@moz-3B8A4BCD.dsl.g3telecom.net) (Input/output error)
[08:13:40] *** Joins: Ferreus (ferreus@moz-2B66C749.dip0.t-ipconnect.de)
[08:15:25] <eddyb> sfackler: not only lookahead, but it breaks the namespace model of Rust
[08:16:55] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[08:16:58] <eddyb> in C++, you can't have types and values with the same name, so foo<A>(b) can choose between being a templated call or a couple of comparisons, based on whether A is a type or a value
[08:17:07] *** Joins: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de)
[08:17:11] <eddyb> in Rust, A can be both a type *and* a value
[08:17:35] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[08:17:57] <eddyb> (and a module)
[08:18:24] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[08:18:26] *** Quits: edwardw (edwardw@ED48E813.BF27AFA4.B9C6B12A.IP) (Quit: Leaving...)
[08:18:45] <Zr40> a < b > (c) // is this two comparisons or a function with a generic parameter?
[08:18:46] *** Joins: edwardw (Mibbit@ED48E813.BF27AFA4.B9C6B12A.IP)
[08:19:08] *** Parts: edwardw (Mibbit@ED48E813.BF27AFA4.B9C6B12A.IP) ()
[08:19:56] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[08:20:01] <huon> Zr40: two comparisons
[08:20:12] <huon> a::<b>(c) is the function
[08:20:34] <Zr40> I know, just highlighting the ambiguity if :: wasn't required
[08:20:59] <huon> oh, maybe I should not respond the first question after joining without checking the logs for context...
[08:21:55] *** Joins: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[08:23:13] <andersf> Hello! Anyone know if there exists a VM image anywhere with pre a pre-configured Rust dev environment? E.g. a VirtualBox Linux img that you can fire up under windows?
[08:24:36] <Gordon> how would I write a node struct that can optional refer to several other node struct without owning them?
[08:25:04] <Yurume> andersf: I have no problem using Rust nightlies in Windows, but I think you can just grab an Ubuntu live CD and configure it to use the unofficial Rust PPA.
[08:25:48] <Yurume> Gordon: struct Foo<'a> { val: uint, next: Option<&'a Foo<'a>> }
[08:26:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:26:42] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[08:26:43] <Yurume> so your struct would have a lifetime parameter, which is used to refer the (optional) next node.
[08:26:44] <Gordon> yurume: I to reference the same struct multiple times from other structs
[08:26:58] <Yurume> well, what do you really want to do?
[08:27:22] <Gordon> a 2d grid of nodes that know about their northen, eastern, western southern neighbor, if it exists
[08:27:23] <Yurume> it sounds like your own tree struct (for example), which is a bit delicate in Rust.
[08:27:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:28:21] <Yurume> Gordon: why can't you use two-dimensional arrays?
[08:28:29] <huon> andersf: there's ubuntu packages ( https://launchpad.net/~hansjorg/+archive/rust ), so a ubuntu image requires only a little bit of work to add Rust
[08:28:41] <huon> (I don't know of one that comes entirely preconfigured.)
[08:28:54] <huon> (there's packages for a few other distros too: https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools )
[08:29:27] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:29:59] <Gordon> because the nodes represent a spanning tree
[08:31:03] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[08:31:54] <Yurume> Gordon: hmm? you can always make a spanning tree out of an array of vertices and edges with vertex indices.
[08:32:43] <andersf> Thanks. Quick env. poll: what OS/editor is the most used? ubuntu-ish distro + emacs?
[08:32:48] <Yurume> the ownership in Rust is one-directional in principle (it is called "linear" time for the reason), so your use case is not easy to encode to Rust's type system.
[08:32:55] <Yurume> linear type*
[08:33:55] <Yurume> fortunately, in this case, I don't think the direct reference to neighbor nodes is beneficial (no performance gain, for example).
[08:34:43] *** Joins: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP)
[08:34:49] <Yurume> if you are implementing a complex data structure though, then you may have to consider using unsafe elements (raw pointers and so on) for performance.
[08:34:53] *** Joins: aasmith (aasmith@moz-51A27BE9.hsd1.wa.comcast.net)
[08:35:26] <huon> andersf: linux + emacs or vim, I think
[08:35:27] <Yurume> andersf: I'm using a GNOME3 desktop and Vim in my laptop, though my preference is undoubtly biased.
[08:35:36] *** Joins: Guest (textual@16F167B.4C57D258.D8E8354F.IP)
[08:35:52] <huon> (not sure about the specifics of linux, but I guess Ubuntu is popular; Arch is popular too.)
[08:36:10] <Yurume> some programmers love emacs or vim, but if you don't know none of them, just use what your distro gives, e.g. gedit.
[08:36:19] <Gordon> i was just wondering if there was an alternative to unsafe pointers or storing the index of neighbors rather than referring to them directly
[08:36:42] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[08:36:56] <dougxxx> oh... is to_bytes gone for good now?
[08:37:10] <Yurume> Gordon: not easy. upcoming Gc<> smart pointer might be useful for this purpose, but it is not there yet.
[08:37:14] <huon> emacs, vim, gedit and kate all have editor support of some form or another in the standard distribution (src/etc)
[08:37:28] <huon> dougxxx: yes
[08:37:33] <Yurume> replaced by Hash
[08:39:04] <andersf> Wow, by editor support you mean e.g. syntax highlighting? That's impressive in that case, given how fast the grammar changes!
[08:39:31] <Yurume> the syntax files for these editors are included in the repository to get it updated quickly :)
[08:39:36] <Yurume> get them*
[08:39:47] <huon> andersf: syntax highlighting, and (for emacs and vim) things like indentation support
[08:40:55] <andersf> Thanks all.
[08:42:04] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:42:33] *** Quits: meTaAU (admin@moz-4F4868D0.lns20.per1.internode.on.net) (Ping timeout)
[08:43:02] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[08:43:58] *** Joins: meTaAU (admin@moz-561CEAA3.lns20.per1.internode.on.net)
[08:45:36] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[08:49:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:49:33] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[08:49:42] *** pmoore|away is now known as pmoore
[08:50:55] *** Joins: Ms2ger (Ms2ger@moz-A23E8DC1.ugent.be)
[08:51:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:53:03] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:53:08] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[08:53:48] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:56:28] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:57:28] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[08:58:21] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[08:59:31] *** Joins: sigma (sigma@152438A3.FF4E6273.B0C1FFA1.IP)
[08:59:51] *** Joins: p1start1 (rewi@moz-A082F561.adsl.xtra.co.nz)
[08:59:53] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Quit: Leaving.)
[09:00:23] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:01:12] *** Quits: sigma (sigma@152438A3.FF4E6273.B0C1FFA1.IP) (Ping timeout)
[09:01:39] *** Joins: marc_ (uid5324@moz-31ABA2C0.irccloud.com)
[09:02:01] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:02:08] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[09:03:40] <mindcat> any "deque" data structure in Rust? or it need write code by myself?
[09:04:03] <Yurume> http://static.rust-lang.org/doc/master/collections/deque/trait.Deque.html
[09:04:08] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[09:04:22] <mindcat> Yurume: oh I see
[09:04:35] <Yurume> note that it is a trait, there are two implementations available
[09:06:10] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[09:06:13] <ChrisMorgan> How is one supposed to choose between RingBuf and DList?
[09:06:32] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[09:07:05] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[09:07:15] <Zr40> I'd suppose someone who knows about deques knows about the properties of ring buffers and doubly-linked lists
[09:07:21] <ChrisMorgan> I recognise that one is based upon vectors and the other upon a linked list, but it's certainly not made the most clear thing, nor are the considerations between them clear.
[09:08:51] <ChrisMorgan> Zr40: I wouldn't be so sure of that, especially when it gets to the practical aspects of it. I know the characteristics of both, but I'd find it hard to select between the two of them when I just wanted a deque without wanting to worry about it further.
[09:10:01] <Yurume> ChrisMorgan: I wish the struct documentation has some more description about when to use this struct, but well, basically you'll decide what to use depending on your use case (e.g. if you want `append` method, you should use DList).
[09:10:03] <ChrisMorgan> Python has collections.deque—nice and easy, no choice needed. RingBuf? DList? Neither of them indicate that it's to do with deque, so it's only through the trait that you're likely to really find it. And then there is choice. And for normal uses, choice is *bad*. (Yes, I know that choice is more important for a language like Rust than it is for a higher level language.)
[09:10:07] *** Quits: meTaAU (admin@moz-561CEAA3.lns20.per1.internode.on.net) (Ping timeout)
[09:10:49] *** Joins: brendan (brendaneic@8E0E84EA.B2584F3D.F1C37E5F.IP)
[09:13:33] *** Joins: meTaAU (admin@moz-BEA4EBAA.lns20.per2.internode.on.net)
[09:13:42] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[09:14:17] <Yurume> ChrisMorgan: collections.deque is DList and consequently the user can't have an alternative with less memory usage (although for Python it might be negligible).
[09:15:03] <ChrisMorgan> Yurume: yes, that is true. My point is that there is exactly one obvious way to do things in Python.
[09:15:11] <Yurume> we already have both TreeMap and HashMap and it is not necessarily a bad thing if we can explain the difference in very simple words.
[09:16:16] <eddyb> http://en.cppreference.com/w/cpp/container
[09:16:48] <eddyb> look at that table - so many choices, they don't fit on my screen
[09:17:31] <eddyb> but the descriptions look good to me
[09:17:41] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[09:18:03] <eddyb> (I was actually looking for an operation complexity comparison table)
[09:18:47] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:18:53] <Yurume> eddyb: in fact, the set of C++11 containers is orthogonal enough to be acceptable: sequential? random-accessible? unordered? unique keys?
[09:19:06] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[09:19:46] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[09:20:56] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[09:21:01] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: Textual IRC Client: www.textualapp.com)
[09:21:28] *** Joins: nkoep (nik@moz-6F9C55D4.pool.mediaways.net)
[09:22:44] <mindcat> when receive char buffer[] from C++
[09:22:47] <mindcat> ...
[09:24:07] <mindcat> when receive char buffer[] from C/C++, can I directly use the buffer in Rust?
[09:24:17] <mindcat> without copy
[09:24:45] <Yurume> yes, char buffer[] is no different from char* buffer.
[09:24:51] <Yurume> (in function arguments)
[09:24:57] <pzol> finally decided to NOT to use ICU and generate Rust code from the unicode tables for case converstion etc... but how do I express a char like 1D6E2;MATHEMATICAL ITALIC CAPITAL ALPHA;Lu;0;L;<font> 0391;;;;N;;;;; ??? '\x1D6E2' doesn't work :(
[09:25:09] <Yurume> pzol: '\U0001D6E2'? I'm not sure.
[09:25:25] <Yurume> rusti: '\U00012345'
[09:25:27] -rusti- '\U00012345'
[09:25:33] <Yurume> here it is.
[09:25:58] <pzol> Yurume ok thx
[09:26:04] <Kroisse> rusti: println!("{}", '\U0001D6E2');
[09:26:08] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[09:26:19] <Yurume> ugh!
[09:26:21] <Kroisse> rusti: println!("{}", '\U0001D6E2')
[09:26:22] -rusti- 𝛢
[09:26:22] -rusti- ()
[09:26:31] <Yurume> eh, what?
[09:26:43] <Kroisse> it's rusti's bug
[09:26:47] <Kroisse> a
[09:26:50] <mindcat> Yurume: then can I use it like "MemReader"?
[09:26:51] <Yurume> 훢 = U+D6E2
[09:27:03] <mindcat> or BufferedReader?
[09:27:09] <Yurume> mindcat: BufReader.
[09:27:16] <Yurume> (the naming is a bit strange, and there is an issue to change that)
[09:27:38] <pzol> Yurume D6Ehmmm
[09:28:02] <Yurume> rusti: format!("{}", '\U0001D6E2')
[09:28:04] -rusti- ~"\U0001d6e2"
[09:28:23] *** Joins: glaebhoerl_ (glaebhoerl@moz-8E9FCD9A.pool.telenor.hu)
[09:28:30] <Yurume> heh, so why does rusti strip some bits?
[09:28:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:28:49] <Zr40> it does?
[09:28:58] <mindcat> Yurume: but BufReader need "rust type vector", I know vec::raw::from_buf_raw but it will do copy
[09:29:02] <Yurume> rusti: println!("{}", '\U0001D6E2')
[09:29:03] -rusti- 𝛢
[09:29:03] -rusti- ()
[09:29:08] <Yurume> Zr40: here it is. (훢 = U+D6E2)
[09:29:16] *** Quits: p1start1 (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:29:17] <Zr40> rusti's output looks like a capital A to me
[09:29:18] <Yurume> wait a min
[09:29:23] <klutzy> Yurume: not rusti's bug
[09:29:24] <Yurume> awww, is that a bug of irssi?
[09:29:25] <Yurume> :(
[09:29:32] <klutzy> it's putty bug
[09:29:32] <Zr40> I'm using irssi
[09:29:36] <Yurume> klutzy: what the heck
[09:30:13] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:30:20] <klutzy> only rendering is broken - copy the character and see it somewhere
[09:30:21] <Yurume> TIL: putty sometimes sucks.
[09:30:30] <Yurume> indeed...
[09:30:42] <Kroisse> it is a rusti's bug: [18:26:07] -rusti-	 pastebinned 7 lines of output: http://ix.io/a6T
[09:30:46] <pzol> rusti: println!("{}", '\U00000391)
[09:30:46] -rusti- <anon>:10:24: 10:35 error: unterminated character constant: '\U00000391
[09:30:46] -rusti- <anon>:10         println!("{}", '\U00000391)
[09:30:46] -rusti-                                  ^~~~~~~~~~~
[09:30:47] -rusti- application terminated with error code 101
[09:30:51] <pzol> rusti: println!("{}", '\U00000391')
[09:30:52] -rusti- Α
[09:30:52] -rusti- ()
[09:30:55] <Yurume> Kroisse: yeah, it is well known
[09:31:18] <Kroisse> I also can see an italic capital A
[09:31:31] <pzol> kool ;)
[09:31:38] <Kroisse> not 훢
[09:32:26] <Kroisse> (pronounced like f-word, ridiclousely)
[09:32:35] <Zr40> rusti: println!("{}", '\U0001F43C')
[09:32:36] -rusti- 🐼
[09:32:36] -rusti- ()
[09:32:37] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:32:38] <kimundi> rusti: "𝛢훢"
[09:32:41] -rusti- "\U0001d6e2\ud6e2"
[09:32:46] <Yurume> lol
[09:33:08] <Zr40> rusti: "🐼"
[09:33:09] -rusti- "\U0001f43c"
[09:33:49] <pzol> rusti: println!("{}", '\U0001D6E2')
[09:33:50] -rusti- 𝛢
[09:33:50] -rusti- ()
[09:34:26] <Kroisse> emoji seems useful to discover the corner case of unicode processing of the app
[09:34:36] <mindcat> rusti: 
[09:34:37] <pzol> sweet ;) going to add is_upper, is_lower, to_upper, to_lower stuff to rust :D
[09:34:39] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[09:35:21] <mindcat> lol unexpected failure
[09:35:26] *** Joins: meTaAU_ (admin@moz-F0649703.lns20.per1.internode.on.net)
[09:35:42] *** Quits: meTaAU (admin@moz-BEA4EBAA.lns20.per2.internode.on.net) (Ping timeout)
[09:36:32] <mindcat> so can someone answer my question?
[09:37:07] <Zr40> Kroisse: it's the pile of poo test. If your unicode-processing app keeps the poo intact, it will work for anything. http://intertwingly.net/blog/2013/10/22/The-Pile-of-Poo-Test
[09:37:17] *** Quits: meTaAU_ (admin@moz-F0649703.lns20.per1.internode.on.net) (Ping timeout)
[09:38:09] *** Quits: glaebhoerl_ (glaebhoerl@moz-8E9FCD9A.pool.telenor.hu) (Ping timeout)
[09:38:24] <Zr40> hm, the post itself seems to be gone at that link. :(
[09:38:36] <Zr40> ah. http://mathiasbynens.be/notes/javascript-unicode
[09:38:56] <Yurume> mindcat: use std::vec::raw::buf_as_slice.
[09:39:08] <Yurume> (or mut_buf_as_slice)
[09:39:37] *** Joins: glaebhoerl_ (glaebhoerl@moz-8E9FCD9A.pool.telenor.hu)
[09:39:48] <Kroisse> As a person in CJK area, it seems that's not enough to test every pitfalls.
[09:40:18] <Kroisse> but it'll cover the most cases, so it's ok :)
[09:40:25] <Zr40> what would it miss?
[09:40:29] <huon> pzol: have you seen things like http://www.unicode.org/faq/casemap_charprop.html ?
[09:40:29] <mindcat> Yurume: oh, let me check out
[09:40:31] <huon> btw
[09:40:53] <Kroisse> decomposition can be a good example
[09:40:59] <pzol> huon yep, unfortunately ;)
[09:41:03] <huon> Zr40: also, it doesn't check that it handles turkish correctly (specifically, the i)
[09:41:45] <pzol> huon did you see go's approach? https://code.google.com/p/go/source/browse/src/lib9/utf/runetypebody-6.2.0.h
[09:41:45] *** Joins: meTaAU (admin@moz-45C49E66.lns20.per2.internode.on.net)
[09:42:05] <Kroisse> Yurume has a better experience about unicode than me
[09:42:28] <Zr40> huon: ah yes. Though that depends on the locale rather than unicode, if I'm not mistaken
[09:42:29] <huon> pzol: is it correct? ;P
[09:42:48] <huon> Zr40: yeah (well, I guess it's the intersection of the two)
[09:43:06] <huon> pzol: (e.g. some codepoints map to two when they go lower -> upper)
[09:43:12] <pzol> huon it SEEMS to be ok, I'd rather have something that works 99% than nothing at all ;)
[09:43:46] <huon> pzol: yeah
[09:43:56] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[09:43:58] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[09:44:15] <pzol> huon yeah! that's beautiful, isn't it?  would rust's char support this? I mean how many bytes max is  a char?
[09:44:34] *** Quits: meTaAU (admin@moz-45C49E66.lns20.per2.internode.on.net) (Ping timeout)
[09:44:36] <pzol> 4?
[09:44:53] <huon> char is a unicode codepoint
[09:45:03] <Yurume> char is a semantic-attached version of u32.
[09:45:11] <huon> and it is undefined behaviour to store an out-of-range value in it
[09:45:24] <Yurume> (it differs from u32, so it cannot go larger than 0x10ffff in the safe way)
[09:45:48] <huon> (i.e. 21 bits: 0 to 0x10FFFF minus the surrogate range)
[09:45:59] <huon> but yeah, it's a u32 in memory
[09:46:25] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:46:26] <Yurume> 20.1 bits? :)
[09:46:46] *** Joins: meTaAU (admin@moz-D53C9AC.lns20.per2.internode.on.net)
[09:46:46] <huon> 0x10ffff is 21 bits?
[09:46:55] <Ms2ger> Yes?
[09:47:00] <Yurume> I'm slightly joking about log_2 0x110000
[09:47:13] * huon confused ;S
[09:47:21] *** Quits: glaebhoerl_ (glaebhoerl@moz-8E9FCD9A.pool.telenor.hu) (Ping timeout)
[09:47:38] <Yurume> anyway, locale dependent mappings require some additional tables, but it is not very large afaik: http://www.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt
[09:47:52] <Yurume> (search for "conditional mappings")
[09:47:54] <eddyb> huon: 0..0x1fffff would be 21 bits
[09:48:30] <huon> oh, right
[09:48:32] * huon dumb
[09:48:32] <pzol> would LETTER_UPPERCASE.contains(&c) be fast enough for a lookup?
[09:48:44] <huon> pzol: what is LETTER_UPPERCASE?
[09:48:52] <pzol> static LETTER_UPPERCASE: &'static [char] = &[
[09:48:53] <pzol>   '\U00000041',  // 0041;LATIN CAPITAL LETTER A;Lu;0;L;;;;;N;;;;0061;
[09:48:53] <pzol>   '\U00000042',  // 0042;LATIN CAPITAL LETTER B;Lu;0;L;;;;;N;;;;0062;
[09:48:53] <pzol>   '\U0001D6E2'//;MATHEMATICAL ITALIC CAPITAL ALPHA;Lu;0;L;<font> 0391;;;;N;;;;;'
[09:48:53] <pzol>   ];
[09:48:54] <Yurume> pzol: Go's mapping is something called the "simple" case mapping, which is limited to one codepoint.
[09:49:03] <huon> (btw, we have unicode tables in std::unicode, but it's a private module)
[09:49:06] <Yurume> I think Rust does have such simple mapping already
[09:49:10] <pzol> Yurume good enough for starters?
[09:49:21] <pzol> Yurume std::unicode is based on icu and is indeed private :D
[09:49:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[09:49:26] <huon> pzol: no, way too slow; there's hundreds of a codepoints :P
[09:49:35] <huon> *thousands
[09:49:43] <huon> binary search is what std::unicode uses
[09:49:47] <kimundi> unicode.rs uses binary search for that
[09:49:51] <eddyb> static hashmap pls
[09:49:57] *** Joins: glaebhoerl_ (glaebhoerl@moz-8E9FCD9A.pool.telenor.hu)
[09:49:57] <Yurume> binary search is recommended.
[09:50:17] <eddyb> but it would have to be in libunicode so it can use a procedural macro
[09:50:28] *** Joins: hashcat (hashcat@11D514FA.DDC0B016.BC2E6639.IP)
[09:50:29] *** Quits: meTaAU (admin@moz-D53C9AC.lns20.per2.internode.on.net) (Ping timeout)
[09:50:41] <eddyb> Yurume: we can generate perfect hash functions at compile-time
[09:50:43] *** Joins: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP)
[09:50:49] <Yurume> eddyb: even the minimal perfect hash requires all values to be stored. (0x110000 bytes are already over one meg)
[09:51:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[09:51:05] <pzol> ector.html#tymethod.bsearch ?
[09:51:05] <eddyb> oh, we're talking ranges?
[09:51:11] <pzol> http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html#tymethod.bsearch
[09:51:18] <Yurume> Unicode case mappings are known to compress a lot
[09:51:36] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[09:51:41] <pzol> eddyb for is_lower, is_upper ranges could be used, but for to_upper, to_lower not
[09:51:49] *** Joins: meTaAU (admin@moz-96E16F3B.lns20.per2.internode.on.net)
[09:52:00] <huon> pzol: yes
[09:52:16] <huon> pzol: look at the implementation of std::unicode for the specifics :)
[09:52:23] <eddyb> https://github.com/mozilla/rust/blob/master/src/libstd/unicode.rs
[09:52:46] <Yurume> pzol: you can't use bsearch since it really does not work for ranges...
[09:52:48] * pzol thanks 
[09:53:06] <Yurume> maybe you need to roll your own routine (not hard to do, but might cause some headaches)
[09:53:22] *** Quits: brendan (brendaneic@8E0E84EA.B2584F3D.F1C37E5F.IP) (Quit: brendan)
[09:53:39] *** Quits: glaebhoerl_ (glaebhoerl@moz-8E9FCD9A.pool.telenor.hu) (Ping timeout)
[09:53:49] *** Joins: barosl (barosl@AF5A7446.7BDB669F.8F036087.IP)
[09:53:58] <eddyb> Yurume: hmm, I wonder if we can use some sort of trie-like method to get very fast inside a range
[09:54:00] <pzol> hmmm so http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html#tymethod.bsearch already has the tables 
[09:54:09] <Yurume> so, the logic is like follows: I want to find the range that contains X. first I find the largest Y such that Y is a start of ranges and Y <= X.
[09:54:23] <pzol> so why is there no to_upper etc ?
[09:54:29] <huon> eddyb: std::trie does offer .upper_bound and .lower_bound
[09:54:36] <Yurume> Y is associated to the end point Z, so we need to check if [Y,Z] contains X.
[09:54:40] <huon> they're kinda really weird and strangely documented :S
[09:54:47] <huon> and I think they're incorrect
[09:54:58] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:55:00] <huon> pzol: bsearch doesn't have the tables?
[09:55:08] <eddyb> huon: using a regular trie for this will be most likely inefficient
[09:55:24] <huon> eddyb: yes
[09:55:25] <pzol> hmmm
[09:55:31] *** Parts: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP) ()
[09:55:53] <huon> eddyb: (I don't disagree, just pointing out that our current trie has support for "range searches", so any custom trie can probably copy that logic)
[09:56:05] <huon> pzol: the tables in std::unicode are just boolean property tables
[09:56:08] <pzol> aaa btw there is an extra::unicode that contains "stuff "
[09:56:23] <huon> it almost certainly doesn't type check
[09:56:34] <huon> I think it's just bindings to a library, anyway
[09:56:51] <pzol> huon in extra::unicode?? yes ... to ICU :D
[09:57:40] <huon> yeah, extra::unicode
[09:58:14] *** pmoore is now known as pmoore|away
[09:58:56] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[09:59:36] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:59:44] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:00:30] <eddyb> what is the distribution for those tables?
[10:00:37] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:00:53] *** Quits: diverse (diverse@moz-ED94B8D.oc.oc.cox.net) (Ping timeout)
[10:01:00] <eddyb> I guess we could even generate nested matches for lookup, based on densities
[10:01:38] *** Joins: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk)
[10:02:04] *** Joins: alkino (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr)
[10:02:06] *** pmoore|away is now known as pmoore
[10:03:22] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[10:03:37] *** Quits: meTaAU (admin@moz-96E16F3B.lns20.per2.internode.on.net) (Ping timeout)
[10:03:53] *** pmoore is now known as pmoore|airport
[10:04:16] <mindcat> I am going to write "PtrBuffer(Reader|Writer|Stream)"
[10:04:53] <jensnockert> \o/
[10:06:18] *** Joins: meTaAU (admin@moz-6E19A699.lns20.per2.internode.on.net)
[10:07:17] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Ping timeout)
[10:08:11] *** Quits: meTaAU (admin@moz-6E19A699.lns20.per2.internode.on.net) (Ping timeout)
[10:08:30] *** Joins: tiffnya (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[10:08:57] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[10:10:13] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[10:10:54] *** Joins: mib_k7qfgl (Mibbit@moz-8E104BB7.static.mundo-r.com)
[10:10:57] *** Quits: mib_k7qfgl (Mibbit@moz-8E104BB7.static.mundo-r.com) (Quit: mib_k7qfgl)
[10:12:59] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[10:15:00] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:15:53] *** Joins: jackneill (jackneill@moz-A47B9FF4.pool.digikabel.hu)
[10:16:05] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[10:16:30] *** Joins: meTaAU (admin@moz-C2CC8192.lns20.per2.internode.on.net)
[10:17:06] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[10:19:13] *** Joins: brendan (brendaneic@F252A568.B83C520E.FCF1B01C.IP)
[10:20:07] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[10:22:49] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Ping timeout)
[10:23:37] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[10:25:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[10:26:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[10:27:17] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Ping timeout)
[10:28:01] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[10:31:09] *** Quits: brendan (brendaneic@F252A568.B83C520E.FCF1B01C.IP) (Ping timeout)
[10:32:09] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[10:32:11] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[10:32:20] <Gordon> I would like to call rand::choose_option() so that the choice is made between all T in a ~[~[T]], but the function requires a vector slice. how do i do this?
[10:32:56] <Gordon> I have this: let choice = task_rng().choose_option(self.nodes.iter().flat_map(|v| v.as_slice().iter()));
[10:33:11] <huon> theoretically you don't need the .as_slice()
[10:33:13] <Gordon> where self.nodes is said ~[~[T]]
[10:33:26] <huon> and you'll need a .to_owned_vec() at the end
[10:33:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:33:38] <huon> (applied to the iterator)
[10:34:02] <huon> you could also use http://static.rust-lang.org/doc/master/std/rand/trait.Rng.html#method.sample method to avoid the .to_owned_vec() allocation
[10:34:48] <Gordon> yes but I only need one element
[10:35:10] <huon> can pass 1 for the last argument
[10:35:38] <huon> (then None == ~[] and Some(a) = ~[a], as compared to choose_option)
[10:38:41] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[10:40:32] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[10:41:49] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[10:41:52] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[10:42:27] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140222030204])
[10:42:40] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[10:42:47] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[10:43:22] <ChrisMorgan> I was playing with the colouring of this Rust syntax highlighting and decided quite quickly that the pastel colours don't work as well as the plain old colours like "blue", "darkred", "green", &c.
[10:44:24] <huon> ChrisMorgan: for rustdoc?
[10:44:29] <ChrisMorgan> Yep
[10:44:40] <huon> what about just bold and not bold?
[10:44:41] <ChrisMorgan> I'm a little disappointed that the punctuation characters such as ::, ., (, ), ; are not in spans of their own.
[10:45:08] <eddyb> huon: bold for keywords pls
[10:45:09] <huon> ChrisMorgan: it would be easy enought to add, if required
[10:45:14] *** Joins: benjamin_ (benjamin@moz-C6041EB7.dip0.t-ipconnect.de)
[10:45:18] <ChrisMorgan> huon: I tried that but didn't like it terribly much. But I'm certainly minimising the grotesqueness of the colouring.
[10:46:03] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[10:46:43] *** Quits: alkino (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr) (Ping timeout)
[10:46:45] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[10:46:52] <Gordon> I find this helpful for choosing colors that fit nicely together http://colorschemedesigner.com/
[10:47:14] *** Quits: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk) (Ping timeout)
[10:47:34] <huon> ChrisMorgan: acrichto will take umbridge with you for calling it grotesque :P
[10:48:10] <ChrisMorgan> Gordon: things you choose with that will tend to be too subtle or too garish. It's good for blocks of colour, but for small text it's typically not the best.
[10:48:42] <mmalecki> ChrisMorgan: Gordon maybe adobe's kuler?
[10:48:58] <Gordon> you can adjust the brighness and contrast as well
[10:49:01] <eddyb> huon: oh, how I love that I can get that reference now :D
[10:49:07] <Gordon> the default is too bright for text, i agree
[10:49:20] <eddyb> HP was a delight
[10:49:24] <ChrisMorgan> My current stylesheet is https://pastebin.mozilla.org/4378894 which I think looks tolerably good applied to http://static.rust-lang.org/doc/master/collections/hashmap/index.html
[10:50:00] <huon> http://i.imgur.com/n3GG8yB.png doesn't look so bad to me
[10:50:13] <huon> eddyb: hm?
[10:50:41] <huon> whoops, *umbrage
[10:50:53] <eddyb> huon: that was one weird coincidence
[10:51:09] <huon> eddyb: well, not really; they're pronounced similarly
[10:51:24] <ChrisMorgan> huon: it's not too bad, but I prefer it with a little more colour on the keywords. If you have colour, you might as well use it. Just-bolded keywords is for black and white printing.
[10:51:59] <huon> ChrisMorgan: multicoloured keywords ends up looking too garish for my tastes
[10:52:23] <ChrisMorgan> huon: tried mine?
[10:52:32] * eddyb can only handle a variety of colors if it has semantic value
[10:52:42] *** Joins: fyolnish (fyolnish@moz-1EA99A98.uqwimax.jp)
[10:52:46] <huon> ChrisMorgan: nope... a screenshot would've been more consumable :P
[10:52:50] <ChrisMorgan> (Note on my own one: the .prelude-val is probably a mistake.)
[10:52:51] <huon> trying it now
[10:53:09] <eddyb> kdevelop colors idents randomly, but two idents referring to the same thing has the same color
[10:53:13] <Gordon> I like the one huon posted
[10:53:43] <Gordon> too much color is distracting imo
[10:53:48] <huon> ChrisMorgan: the blue of keywords and black of idents look pretty similar on my screen
[10:53:49] <eddyb> we could do that by running rustc on the code up-to-and-including resolve
[10:54:01] <huon> but other than that, it's not so bad
[10:54:22] <eddyb> then the DefId's for each Path would point to the definition
[10:54:29] <ChrisMorgan> huon: yes, I would still prefer it just a *little* bolder, say 500 weight, but all the normal fonts just go straight from 400 to 700.
[10:54:42] <eddyb> and you could generate colors for all the definitions and it could look amazing
[10:54:53] *** kimundi is now known as zz_kimundi
[10:55:01] <huon> I kinda like having a reddish theme, though
[10:55:10] <huon> goes with the Rust :P
[10:55:29] <eddyb> need rusted paper for highlighting background :D
[10:55:32] <ChrisMorgan> eddyb: I've tried things like that. It's not nice. Have highlighting of the same thing in multiple places on hover, if you like, but not at all times.
[10:55:39] *** Quits: barosl (barosl@AF5A7446.7BDB669F.8F036087.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[10:55:43] <ChrisMorgan> huon: thought you might be going for that with the red string
[10:56:00] * ChrisMorgan wants the special characters inside the string to be in spans so that they can be highlighted differently
[10:56:13] <huon> ChrisMorgan: well, that was mostly just using what was there already
[10:56:17] <eddyb> ChrisMorgan: interactive would certainly work as well, but it requires JS shenanigans :/
[10:56:36] <ChrisMorgan> eddyb: or draft CSS features not yet implemented :P
[10:56:37] <huon> oh, but and I do like italicised comments
[10:56:45] <eddyb> ChrisMorgan: I was just going to ask about that :))
[10:57:23] <eddyb> .ident_foo:hover => .ident_foo {text-weight: bold}
[10:57:27] *** Quits: mawuli (mawuli@moz-36C70B7D.com.gh) (Client exited)
[10:57:49] <eddyb> (replace "=>" with whatever they use in the draft :P)
[10:58:00] <ChrisMorgan> It requires the ancestor selector plus the ability to select something beyond that, which I'm not aware of existing.
[10:58:01] <huon> eddyb: individual rules for every ident in the whole documentation?
[10:58:17] <ChrisMorgan> huon: how else do you avoid JS "just because you can"? :P
[10:58:17] <huon> just to avoid a snippet of JS? :P
[10:58:22] <huon> heh
[10:58:32] * ChrisMorgan has written pretty monstrous CSS before just because he can
[10:58:41] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[10:58:46] * ChrisMorgan loves writing monstrous CSS just because he can
[10:58:48] <huon> all CSS I write is monstrous
[10:59:07] <huon> because that's the *only* thing I can write :P
[10:59:20] * ChrisMorgan used some pretty monstrous CSS in http://chrismorgan.info/resume.html just because he could, especially so that the chroma switch checkbox can be monochromatic without JS
[10:59:49] * ChrisMorgan should find more useful things to do :P
[11:00:04] <eddyb> $('[def_id]').hover(function() {$(this).parent().children('[def_id=' + $(this).attr('def_id') + ']').css('text-weight', 'bold');})
[11:00:09] <huon> ChrisMorgan: "smatterings of coour enliven the page"
[11:00:13] <eddyb> oh I haven't written JS in ages
[11:00:17] <huon> yay for yellow on a light background :P
[11:01:02] <ChrisMorgan> huon: yeah, it happens.
[11:02:19] *** Joins: flan3002 (holoirc@moz-E0853D96.superkabel.de)
[11:02:34] <ChrisMorgan> huon: gonna ask GitHub for s/huonw/huon/?
[11:02:59] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[11:03:13] *** Quits: andersf (Mibbit@moz-5B0629B2.customers.ownit.se) (Quit: http://www.mibbit.com ajax IRC Client)
[11:03:18] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Client exited)
[11:05:18] <huon> ChrisMorgan: meh
[11:05:23] <huon> maaaaybe
[11:05:32] <ChrisMorgan> Probability of success is high.
[11:05:37] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[11:05:46] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[11:05:51] <huon> yeah, but don't really feel like yet another username change
[11:06:25] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[11:06:37] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[11:07:54] <arrrrrrr1> how do I join a &[~str]?
[11:07:56] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Quit: Leaving.)
[11:08:04] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[11:08:08] <ChrisMorgan> arrrrrrr1: .connect()
[11:08:09] *** arrrrrrr1 is now known as arrrrrrrrr
[11:08:28] <flan3002> Is there an elegant way to fake function overloading?
[11:08:44] <ChrisMorgan> flan3002: avoid the temptation!
[11:08:54] <ChrisMorgan> (Without more details, it's impossible to advise effectively.)
[11:08:55] <eddyb> flan3002: with variadic generics, yeah
[11:09:20] <eddyb> can even expand to macros generating pattern matches
[11:09:26] <flan3002> Of course I could mutate the function names based on the arguments but that seems ugly...
[11:10:10] <eddyb> ChrisMorgan: I wish we had .connect()/.concat() for Iterator<&str> or something more generic
[11:10:13] <ChrisMorgan> flan3002: it all depends on the situation. Often the desire for such things suggests the design could be done better in another way altogether, such as a FooOptions struct containing the possibilities.
[11:10:22] <eddyb> oh, I guess sum would work for concat
[11:10:39] <Ms2ger> flan3002, you can use traits!
[11:11:01] <arrrrrrrrr> 1. Searching for connect doesn't work in the docs. 2.: http://i.imgur.com/0tYBdEa.gif
[11:11:40] <huon> arrrrrrrrr: weird
[11:11:42] <flan3002> ChrisMorgan: I want to provide static methods that work on different types like Cell, *mut etc...
[11:11:50] <eddyb> Ms2ger: yeah, but you can't change a function's arity via traits, without variadic generics :(
[11:12:01] <eddyb> flan3002: Cell and *mut? sounds dangerous
[11:12:05] *** Joins: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy)
[11:12:06] <ChrisMorgan> arrrrrrrrr: I'm seeing search *completely* broken
[11:12:18] <huon> ChrisMorgan: JS was invalid for a while
[11:12:22] <huon> should be fixed now
[11:12:45] <huon> (search for, e.g. `abs`, works fine for me; but yeah, connect is dead.)
[11:13:15] *** Quits: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[11:13:18] <huon> flan3002: do you need to change arity of the function?
[11:13:39] <arrrrrrrrr> where is connect defined?
[11:13:51] <huon> StrVector
[11:13:55] <flan3002> eddyb: Yeah, I know... But when designing an API, convenience can be more important than the feeling of safety iff the API is actually safe (supposed it is).
[11:13:55] <huon> trait in std::str
[11:14:08] <ChrisMorgan> Typing "c" at the start leads to a JavaScript TypeError: myparent is undefined. Very weird.
[11:14:11] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[11:14:24] <flan3002> huon: No, only the type of the first argument.
[11:14:37] <eddyb> flan3002: I'm curious what you were doing with *mut T
[11:14:38] *** Joins: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy)
[11:14:42] <huon> arrrrrrrrr: (if you have a clone of mozilla/rust, `git grep 'fn connect'` works pretty well: Rust has reasonably nice syntax for grepping)
[11:14:42] <ChrisMorgan> Starting with "on" also yields a TypeError.
[11:14:44] <eddyb> ahh, then you can just use a trait
[11:14:47] <huon> flan3002: then traits are perfect!
[11:15:03] <eddyb> flan3002: make that first argument generic and bound it with a trait. implement the actual behavior inside the trait
[11:15:18] <ChrisMorgan> Plenty of letter combinations are yielding TypeErrors for me. The search is currently fairly broken.
[11:15:42] <huon> trait Foo { fn thing(&self, ...); } impl Foo for Cell<...> { fn thing(&self, ... ) { println!("Cell"); } } impl Foo for *mut T { fn thing(&self, ...) { println!("*mut") } }
[11:15:59] *** Joins: marianoguerra (marianogue@moz-7D7611BE.dip0.t-ipconnect.de)
[11:16:01] <huon> I thought the search was fixed a while a go
[11:16:04] <huon> might be a new bug... :S
[11:16:38] *** Quits: Ferreus (ferreus@moz-2B66C749.dip0.t-ipconnect.de) (Ping timeout)
[11:16:39] <flan3002> eddyb, huon: But it is for static methods, where I have no self...
[11:16:44] *** Joins: glaebhoerl_ (glaebhoerl@moz-3590251D.kabelnet.hu)
[11:17:00] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:17:15] <eddyb> flan3002: fn foo<T: Foo>(x: T, ...) {x.thing(...)}
[11:17:30] *** Quits: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[11:17:30] <eddyb> the trait is there to be used in the method you want to overload
[11:17:36] *** Joins: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy)
[11:17:48] <eddyb> s/method/function
[11:17:50] <flan3002> Ah, that might work...
[11:18:04] *** Joins: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP)
[11:18:17] <Zr40> ChrisMorgan, huon: looks like connect (and concat) point to parent '66266' which isn't defined anywhere in the search index
[11:18:59] <ChrisMorgan> And so any search including them breaks. Makes sense.
[11:19:11] <ChrisMorgan> Then the question is merely *why* that happens.
[11:19:51] <pzol> huon what do you think? https://gist.github.com/9186628
[11:19:52] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[11:20:20] *** Joins: drojf (drojf@moz-5A539129.static.tpgi.com.au)
[11:20:30] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[11:20:51] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[11:21:12] <huon> pzol: double R in LOWERRCASE :P
[11:21:19] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[11:21:23] <pzol> ooo
[11:21:42] <huon> pzol: seems reasonable
[11:22:10] <pzol> huon fixed ;) thanks! gr8... I'll write the script for converting the unicode tables then ;)
[11:22:57] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[11:23:10] *** Quits: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[11:23:10] <huon> pzol: (don't take my word as gospel, though... I don't know much about the nitty-gritty details of unicode case-mapping, etc.)
[11:23:24] *** Quits: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP) (Quit: frza)
[11:23:47] *** Parts: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Textual IRC Client: www.textualapp.com)
[11:24:02] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[11:24:29] <pzol> huon learning by doing... but from the Rust perspective seems ok to you?
[11:25:10] <huon> pzol: yeah
[11:25:18] <pzol> huon awesome ;)
[11:25:21] <pzol> thanks
[11:26:22] <ChrisMorgan> pzol: just in case you didn't know, src/etc/unicode.py
[11:27:52] <pzol> ChrisMorgan thanks for pointing that out :) I thought I saw it somewhere ....
[11:28:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[11:28:11] <huon> (random thoguht: maybe we should to the read-only trick some of the other scripts do, to stop people trying to modify unicode.rs directly)
[11:28:30] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:28:41] <ChrisMorgan> huon: generating it at compile time with macros is the only sound way to do that.
[11:30:00] <pzol> is that unicode.py run at build time?? can't find it in the makes
[11:30:00] <huon> ChrisMorgan: is there something glaringly unsound about https://github.com/mozilla/rust/blob/master/src/etc/generate-deriving-span-tests.py#L93-L101 ?
[11:30:11] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:30:13] <huon> pzol: no
[11:30:21] <pzol> huon manually?
[11:30:26] <huon> it's run manually when someone makes changes
[11:30:50] <huon> std::unicode is machine generated code that's checked into the repo, since it rarely changes
[11:30:54] *** zz_kimundi is now known as kimundi
[11:30:55] <pzol> btw geee, why python ;) 
[11:31:10] <ChrisMorgan> pzol: faster to write at the time, more stable.
[11:31:10] <pzol> huon sounds reasonable
[11:31:27] <ChrisMorgan> huon: it's unsound in that various tools will ignore read-only state.
[11:31:30] *** Quits: benjamin_ (benjamin@moz-C6041EB7.dip0.t-ipconnect.de) (Ping timeout)
[11:31:35] <pzol> ChrisMorgan yeah... it's just the "I would have preferred ruby" ;)
[11:31:39] <ChrisMorgan> !?
[11:32:11] <huon> ChrisMorgan: yeah, but it's a helpful hint for the common case of someone with a text editor (surely most text editors don't ignore read-only?)
[11:32:36] <huon> i.e. reviewers still have the final responsibility for ensuring things are sane
[11:33:26] <huon> pzol: https://github.com/mozilla/rust/pull/12489/files#diff-3 is a "script" I was going to write in Python, but then the Rust turned out to be not too much longer
[11:33:29] *** Joins: Ferreus (ferreus@moz-CF1AD48E.dip0.t-ipconnect.de)
[11:34:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[11:34:53] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:35:01] <ChrisMorgan> huon: Windows tools have a nasty habit of either (a) ignoring read only, or (b) absolutely falling apart on read only. It's pretty badly supported there.
[11:35:12] *** Quits: Guest (textual@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:35:38] <huon> :'(
[11:36:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[11:36:30] <strcat> ChrisMorgan: how can they 'ignore' read-only?
[11:36:42] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Ping timeout)
[11:36:46] <ChrisMorgan> strcat: Windows lets you, kinda.
[11:38:19] <huon> "read-only-(but-also-writeable)"
[11:38:53] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:39:30] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Quit: arturo)
[11:39:41] *** Joins: Guest (textual@16F167B.4C57D258.D8E8354F.IP)
[11:39:43] <ChrisMorgan> As far as I've seen (I've not worked at the low level much) it's mostly just an attribute that you have to pay attention to. But then some libraries *do* handle it but the code that uses *them* doesn't. e.g. it's not uncommon for Python scripts to not catch the WindowsError that is thrown if you try writing to a read-only file.
[11:39:56] <strcat> doesn't seem useful then
[11:40:30] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[11:41:18] *** Joins: richard|s (mindginati@moz-B92B7B15.dyn.cust.vf.net.nz)
[11:42:03] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[11:43:13] *** Joins: darkowlzz (sunny@4B411BD3.A29056F9.81E77A99.IP)
[11:48:06] *** Joins: doomlord (doomlod@moz-99BE89EC.range86-184.btcentralplus.com)
[11:48:28] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:48:48] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[11:50:09] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[11:50:31] *** Quits: Ms2ger (Ms2ger@moz-A23E8DC1.ugent.be) (Ping timeout)
[11:51:37] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[11:52:08] *** Quits: richard|s (mindginati@moz-B92B7B15.dyn.cust.vf.net.nz) (Quit: zzZZZ)
[11:53:00] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:57:17] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[11:57:31] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[11:57:33] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[11:57:34] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[11:57:56] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[11:58:17] *** Joins: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk)
[12:01:36] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:01:40] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-53AF4C1C.dynamic.qsc.de) (Quit: arrrrrrrrr)
[12:03:15] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[12:03:31] <flan3002> Can I safely own an object containing a &Cell?
[12:03:49] <eddyb> well, yeah
[12:04:06] <eddyb> Cell is not Freeze, and that will propagate upwards
[12:04:06] <flan3002> How?
[12:04:22] <eddyb> the relevant abstractions are guarded with Freeze
[12:04:43] <eddyb> i.e you can't construct Arc<Cell<T>>
[12:05:11] <eddyb> flan3002: not sure what exactly you mean by "own", though
[12:05:31] <flan3002> Have an owned pointer...
[12:06:09] *** Joins: mib_llkui5 (Mibbit@D0FD9163.9B34CD24.45F7887E.IP)
[12:06:58] <eddyb> flan3002: ah, sure, there's no problem with that
[12:07:00] *** Joins: gimpf (gimpf@moz-742D8834.adsl.highway.telekom.at)
[12:07:54] *** Quits: mib_llkui5 (Mibbit@D0FD9163.9B34CD24.45F7887E.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:10:02] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:10:23] <flan3002> eddyb: Okay, works now. Thank you so much for being awesome and helping me today and yesterday (You sure have patience...)!
[12:10:58] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:11:18] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[12:11:45] *** Joins: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP)
[12:12:19] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[12:13:53] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[12:14:05] *** Joins: a_m0d (a_m0d@moz-B069EE89.acanac.net)
[12:15:07] *** Joins: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP)
[12:15:44] *** Joins: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy)
[12:17:14] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[12:17:40] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:19:53] <eddyb> patience? heh, I have the smallest one around :P
[12:20:06] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[12:20:08] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[12:21:26] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Client exited)
[12:21:32] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[12:22:44] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Ping timeout)
[12:23:35] <flan3002> eddyb: Well, then you're good at hiding aggression, caused by my stupid questions... :P
[12:24:56] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[12:24:58] *** Quits: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Client exited)
[12:25:05] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[12:25:49] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:26:12] *** Quits: Guest (textual@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:28:38] *** Joins: espindola (espindola@moz-F0FBD3B4.dsl.teksavvy.com)
[12:30:20] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[12:31:43] *** Joins: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie)
[12:31:50] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:32:35] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[12:35:34] *** Joins: daschl (daschl@moz-DC6DE6E2.vie.surfer.at)
[12:35:58] <daschl> is anyone developing an intellij platform support for rust?
[12:37:30] <kimundi> daschl: not that I know of
[12:37:45] <flan3002> daschl: I'd be satisfied with vim autocompletion
[12:37:50] <daschl> hmm thanks, everyone using good old vi? :)
[12:38:57] <kimundi> daschl: people seem to use mostly vi, emacs, or texteditors with highlining
[12:39:15] <flan3002> The optimum would be to develop an executable outputting e
[12:39:23] <daschl> jeah me too. but its just nice when the IDE or so warns you when you use a function thats not imported and so on
[12:39:39] <flan3002> e.g. Json for autocompletion
[12:40:07] <flan3002> That would allow reuse in many tools.
[12:40:16] *** Quits: darkowlzz (sunny@4B411BD3.A29056F9.81E77A99.IP) (Quit: This computer has gone to sleep)
[12:40:16] <flan3002> The Haxe guys did that...
[12:40:26] *** Quits: a_m0d (a_m0d@moz-B069EE89.acanac.net) (Quit: Leaving.)
[12:42:53] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:45:25] *** Joins: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr)
[12:48:06] *** Joins: dranov (dranov@4D27A4F1.DCDEFE79.FB866788.IP)
[12:48:46] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:49:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[12:56:02] *** Quits: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:56:47] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:58:49] *** Quits: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk) (Ping timeout)
[12:59:42] *** Joins: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk)
[13:00:24] *** Quits: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP) (Ping timeout)
[13:01:11] *** Joins: benjamin_ (benjamin@moz-C6041EB7.dip0.t-ipconnect.de)
[13:03:34] *** Joins: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[13:03:36] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[13:04:44] *** Joins: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net)
[13:04:53] <TheHydroImpulse> Currently navigating through Rust's parser code, and I can't seem to peg what the INTERPOLATED token is. 
[13:05:38] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:05:38] *** ChanServ sets mode: +o jdm
[13:05:39] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[13:05:54] *** Joins: edwardw_ (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[13:06:52] <eddyb> TheHydroImpulse: from macros
[13:07:04] <eddyb> $foo:expr and later using $foo in the AST
[13:07:08] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[13:07:33] <TheHydroImpulse> eddyb ahh. Well, that makes so much sense. Thanks.
[13:07:39] <huon> TheHydroImpulse: are you fixing a bug? (or just wading through the parser for "fun"? :P )
[13:07:44] <huon> out of interest
[13:08:06] *** Joins: Guest (textual@moz-8D0BBB80.nyc.res.rr.com)
[13:08:32] <TheHydroImpulse> huon Just went through the 1.0 easy list and thought I might tackle #2569
[13:08:33] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[13:09:17] <eddyb> why do we consider attribute syntax easy?
[13:09:39] <eddyb> (it might be... but all the discussion that went into it wasn't. I'm not aware of any real consensus)
[13:10:39] <TheHydroImpulse> eddyb Yeah, I saw multiple people point to a single solution (within that thread and others), which appears to have been chosen, but I dunno.
[13:11:04] <huon> TheHydroImpulse: <3 fixing 1.0 issues
[13:11:55] <eddyb> I want non-trait impls for types covariant (is that the right term) with at least one type from the current crate
[13:12:08] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:12:44] <eddyb> SmallVec<T> is in libsyntax, AutoDeref in librustc and I want to impl SmallVec<AutoDeref> in librustc
[13:12:56] <eddyb> module-level free functions are ugly
[13:16:07] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:16:12] *** Quits: kvanb (kvanb@moz-74E74158.lnse2.lon.bigpond.net.au) (Quit: kvanb)
[13:17:02] *** pmoore|airport is now known as pmoore|away
[13:19:11] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[13:19:40] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[13:20:11] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[13:20:27] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[13:20:46] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[13:21:21] *** Quits: Guest (textual@moz-8D0BBB80.nyc.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:21:55] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[13:28:59] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[13:32:35] *** Joins: ashennell (ashennell@moz-AC7DAE00.cable.virginm.net)
[13:34:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[13:34:12] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[13:34:13] *** Joins: sirn (sid1007@moz-5F4AA75A.irccloud.com)
[13:35:00] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:36:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[13:39:38] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[13:40:14] *** Parts: ashennell (ashennell@moz-AC7DAE00.cable.virginm.net) (Leaving)
[13:40:30] *** Joins: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr)
[13:41:37] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[13:44:31] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[13:45:40] *** Quits: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:47:41] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:48:45] <bjz> 3000+ rustaceans on the reddit bstrie?
[13:49:22] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:49:36] <huon> what's the reddit bstrie?
[13:49:39] <huon> can I get one?
[13:49:56] <huon> is it different to the IRC bstrie?
[13:50:32] <huon> (also, with that many crabs on it, it'd be rather squashed... maybe I don't want one.)
[13:51:18] *** pmoore|away is now known as pmoore
[13:51:56] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:53:09] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[13:53:15] *** Joins: ashennell (ashennell@moz-AC7DAE00.cable.virginm.net)
[13:54:29] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:54:49] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[13:56:55] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[13:57:09] *** edwardw_ is now known as edwardw
[13:58:19] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[13:59:47] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[14:00:23] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[14:01:59] *** Joins: dschatzberg (dschatzber@moz-668DB0D9.bu.edu)
[14:02:08] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[14:02:16] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[14:02:58] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:07:57] *** Joins: Kruppe (user@moz-C5867C4A.dynamic.uwaterloo.ca)
[14:10:22] *** Quits: ashennell (ashennell@moz-AC7DAE00.cable.virginm.net) (Quit: Leaving)
[14:11:19] *** Joins: Guest (textual@16F167B.4C57D258.D8E8354F.IP)
[14:12:14] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[14:12:19] <bollu> ../src/WorldState/mod.rs:23:4: 23:10 error: cannot borrow immutable dereference of & pointer `*object` as mutable
[14:13:15] *** Joins: jviereck (Adium@moz-2A42986C.ethz.ch)
[14:13:17] <doomlord_> its much more strict about immutability propogating.. thats a good thing
[14:13:33] <doomlord_> immutable really does mean immutable :)
[14:13:48] <bollu> what exactly does the error mean?
[14:13:51] <bollu> and hellp again :)
[14:14:18] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:14:26] <doomlord_> i couldn't tell you without looking at the source, i dont always 100% get it myself, but usually can fix it
[14:14:39] <bollu> will do
[14:14:48] <doomlord_> sounds like you want to pass something as mutable, when it starts immutable- you definitely can't do that
[14:15:02] <eddyb> bollu: you're doing &mut *x with a &T x, instead of &mut T
[14:15:07] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[14:15:15] <eddyb> &mut *object to be precise
[14:15:32] <eddyb> the mutable borrow could also be from a &mut self method, I guess
[14:16:12] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:17:01] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[14:18:57] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:20:48] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[14:20:49] *** Quits: tiffnya (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[14:22:33] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[14:22:42] <bollu> @doomlord, @eddyb - https://gist.github.com/bollu/8b70ec5d5cd77cdc404a
[14:22:46] <bollu> code is in there
[14:23:14] *** Joins: paul_ (paul@15A17709.47300931.30F15291.IP)
[14:23:22] *** Quits: jviereck (Adium@moz-2A42986C.ethz.ch) (Ping timeout)
[14:23:49] <bollu> error is on line 23 (	object.step(self, newWorld, dt);
[14:23:55] <eddyb> I figured
[14:23:58] <bollu> ?
[14:24:10] <bollu> everything that I'm using is mutable right?
[14:24:17] *** Joins: jviereck (Adium@moz-96AC4C0A.ethz.ch)
[14:24:37] *** Joins: tca (sid17279@moz-A42E5B7B.irccloud.com)
[14:24:40] <eddyb> bollu: nope :P
[14:24:53] <eddyb> your iterator is immutable, object is &Object
[14:27:04] *** Joins: marten (Mibbit@moz-E1ABC59B.sshunet.nl)
[14:27:07] <bollu> wait, how does an immutable iterator even make sense? gah!
[14:28:10] <bollu> so, how do I change the object from immutable to mutable?
[14:28:10] <kimundi> bollu: iterators itself need to be mutable to advance them. however, you can define iterators that give you immutable references, mutable references, or values
[14:28:26] <kimundi> mut_iter() ?
[14:28:44] <bollu> ty!
[14:29:21] <bollu> ../src/WorldState/mod.rs:23:16: 23:20 error: cannot borrow `*self` as immutable because `self.objects` is also borrowed as mutable
[14:29:57] <bollu> because self.objects is getting mutated I can't borrow my World?
[14:30:21] <eddyb> bollu: your code isn't sane because you could modify the objects hashmap while you're iterating it
[14:30:58] <eddyb> bollu: you could use HashMap<int, RefCell<Object>>
[14:31:03] *** Quits: drojf (drojf@moz-5A539129.static.tpgi.com.au) (Connection reset by peer)
[14:31:34] <bollu> @eddyb - how does the hash care if the object is mutated? it shouldn't get invalidated - I'm not adding / deleting anything
[14:31:48] <bollu> and this is getting complex fast
[14:32:10] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:32:17] <eddyb> it cares because you're not supposed to be able to get a &mut reference to the same object in memory from different places
[14:32:29] <eddyb> (may I ask, what values do your integer keys take? a HashMap might be overkill in your case)
[14:32:53] <bollu> I was thinking of a bitmask + counter
[14:33:14] <eddyb> would a plain old vector work?
[14:33:26] <bollu> it would, but a hash is conceptually neater :]
[14:33:28] <eddyb> also, `for (_, object) in self.objects.iter()` is possible ;)
[14:33:41] <bollu> whoa, nice! didn't know that
[14:34:02] <eddyb> bollu: "conceptually neater" - and this is how minecraft is so inefficient :P
[14:34:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[14:34:13] <bollu> xD true, true. 
[14:35:14] <bollu> and why dont rust types overload common operators?
[14:35:17] <bollu> indexing for one?
[14:35:32] <bollu> also, why was the decision made that immutable is default? it seems dumb
[14:36:15] <eddyb> once you start writing better code, you'll see you don't need mutability that often :P
[14:36:22] <strcat> bollu: because immutability is more common than mutability
[14:36:25] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[14:36:30] <eddyb> but it depends on whatever you're doing and the containers you're using
[14:36:48] <strcat> bollu: there's currently not a proper way to overload indexing
[14:36:58] <eddyb> someone is working on better Index traits, I think
[14:37:06] <bollu> strcat: yeah, I agree. but in languages with immutability, you have stuff like lambdas which let you write nicer code *without* rebinding variables.
[14:37:23] <bollu> rust seems to be in a weird spot - neither purely functional nor purely OOP
[14:37:39] <eddyb> neither is sane
[14:37:45] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[14:37:50] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[14:37:53] <strcat> bollu: much like OCaml, C++, F#, [...]
[14:38:24] <strcat> immutability plays nicer with borrow checking too
[14:38:33] <strcat> you can have any number of & refs to the same thing
[14:38:45] <strcat> you can only have a single usable &mut ref at one time
[14:38:46] <bollu> strcat: why are they Traits? how can stuff that needs some level of compiler-level handholding be implemented as a trait?
[14:39:05] <eddyb> that's the entire point
[14:39:05] <strcat> bollu: they are traits with a compiler hook
[14:39:17] <bollu> and as for languages, I'd argue C++ is *very* close to pure OOP. x
[14:39:22] <eddyb> they're traits that the compiler knows about and they get used by overloads
[14:39:24] <strcat> C++ is *very* far from OOP
[14:39:27] <eddyb> bollu: haha no
[14:39:27] <bollu> strcat: why implement them that way?
[14:39:30] <bollu> how so?
[14:39:33] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:39:34] <pzol> from std::unicode.rs:
[14:39:35] <pzol> # The emitted code is "the minimum we think is necessary for libstd", that
[14:39:35] <pzol> # is, to support basic operations of the compiler and "most nontrivial rust
[14:39:35] <pzol> # programs". It is not meant to be a complete implementation of unicode.
[14:39:35] <pzol> # For that we recommend you use a proper binding to libicu.
[14:39:40] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[14:39:43] <bollu> ignoring C++11
[14:39:56] <doomlord_> Java is more like pure OOP,  C++ still has the option of procedural programming .. i say C++ is multiparadigm
[14:39:59] <strcat> bollu: C++11 doesn't make C++ more or less OOOP
[14:40:00] <strcat> OOP *
[14:40:05] <strcat> and I'm not sure why you'd ignore it
[14:40:07] <pzol> sorry. ... unicode.py...  erm... I think there is substantial resistance against using libicu
[14:40:17] <strcat> it's the current definition of C++ (old standards are retracted)
[14:40:18] <bollu> it makes it more functional though :) 
[14:40:23] <strcat> bollu: not really
[14:40:33] <strcat> it adds a *lot* of features
[14:40:39] <bollu> true, but even so. 
[14:41:09] <kimundi> pzol: just ignore that and do whatever your doing right now :) - even if it doesn't end up in libstd, proper Rust unicode libraries would be useful to have
[14:41:11] <strcat> anyway I don't really see how a language is 'pure OOP' when not everything is an object
[14:41:11] <doomlord_> bollu how are you finding rust so far
[14:41:16] <strcat> non-virtual methods are the default
[14:41:22] <strcat> the stdlib forbids inheriting from stdlib types
[14:41:27] <strcat> that's undefined behaviour
[14:41:33] <strcat> and the stdlib doesn't use inheritance - it uses generics
[14:41:44] <bollu> doomlord_: I'm liking it, but the transition from C / C++ is /slow/. It's nice how well thought out it is.
[14:41:50] <pzol> kimundi  sounds good, thanks ;)
[14:42:07] <bollu> It's like a lovechild of Ruby, Haskell and a lot of polish :P
[14:42:16] <strcat> ruby?
[14:42:28] <eddyb> not sure why people compare Rust with Ruby
[14:42:32] <eddyb> must be that book...
[14:42:32] <bollu> yeah, the Trait thing is very close to Ruby's mixin system :)
[14:42:36] <SiegeLord> |blah| {} :P
[14:42:41] <bollu> at least, that's my experience
[14:42:44] <pzol> 10.times {}
[14:42:48] <doomlord_> bollu i like rust a lot, it fixes most of my issues with C++ ... but am still tortured by the idea of marginalizing myself by veering too far from mainstream tools
[14:42:53] <eddyb> pzol: doesn't work anymore :D
[14:43:09] <pzol> eddyb I know... but that was a selling point for many rubiysts 
[14:43:32] * eddyb almost wants infix macros
[14:43:32] * Zr40 is a rubyist who doesn't see the appeal of 10.times {} or 10.hours.ago
[14:43:34] <bollu> doomlord_: yeah, I hope rust picks up traction. it'll be nice once we have some auto complete :)
[14:43:37] <eddyb> 10.times!{...}
[14:43:42] <doomlord_> chances of using rust in gainful employment ? low . Chances of starting an opensource project that will get other contributors ... still low
[14:43:47] <strcat> bollu: traits are primarily type classes though
[14:44:02] <strcat> doomlord_: the chance of starting an open-source project that will get other contributors is always low ;p
[14:44:05] <Zr40> doomlord_: I'm using rust at work for a new project
[14:44:07] <doomlord_> but if i was World Dictator, Rust would be the standard language already
[14:44:10] <bollu> strcat: yes I get the difference, but the /idea/ is the same : i.e, expose an interface
[14:44:10] <pzol> Zr40 in fact... I rarely use it, but I still find it apealing ;)
[14:44:12] *** Quits: espindola (espindola@moz-F0FBD3B4.dsl.teksavvy.com) (Quit: Leaving...)
[14:44:28] <eddyb> doomlord_: not sure why that makes me think of ALGOL
[14:44:50] <eddyb> bollu: then you can also compare them with OOP interfaces
[14:45:09] <eddyb> doesn't make them any more identical
[14:45:27] <doomlord_> whilst i'd been looking into rust , other ex-colleauges are getting products out
[14:45:30] <strcat> when used as trait objects they are like java interfaces afaik
[14:45:31] <doomlord_> starting new businesses
[14:45:42] <strcat> otherwise they work like type classes
[14:46:15] *** Joins: benjamin_____ (benjamin@moz-CA495B2E.dip0.t-ipconnect.de)
[14:46:17] <doomlord_> Zr40 intersting, what are you managing to use it for
[14:46:29] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Quit: Leaving...)
[14:46:35] *** Joins: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net)
[14:46:42] <bollu> eddyb: yeah, we had this discussion before :) but, idk, I feel it's quite ruby-ish the way things are done in Rust with reference to traits. OOP languages do not use interfaces the way Ruby and Rust use mixins and traits
[14:46:52] *** Quits: gimpf (gimpf@moz-742D8834.adsl.highway.telekom.at) (Quit: Leaving.)
[14:46:59] *** Quits: benjamin_ (benjamin@moz-C6041EB7.dip0.t-ipconnect.de) (Ping timeout)
[14:47:16] <doomlord_> I would like to approach sony and ask to sign up as a PS4 middleware developper and get rust onto the PS4, but I dont know if they have some fork of LLVM aswell or what, (isn't rusts' LLVM forked?)
[14:47:21] <bollu> has anyone done a performace comparison on rust? I'm curious as to how it performs v/s C++
[14:47:22] <Zr40> doomlord_: I needed to select a compiled language and found Rust to be the safest. In fact, it's how I got involved with Rust in the first place :)
[14:47:37] <eddyb> doomlord_: our LLVM patches are minimal
[14:47:45] <sp3d> bollu: it's on par
[14:47:47] <eddyb> bollu: depends what you're doing
[14:47:51] <sp3d> sometimes we win, sometimes C or C++ wins
[14:48:01] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:48:06] <bollu> on par with C? or c++?
[14:48:10] <sp3d> yes
[14:48:13] <bollu> :)
[14:48:17] <bollu> oh, you
[14:48:17] <doomlord_> bollu its ever only slower by virtue techniques that are 100% safe
[14:48:21] <doomlord_> i think
[14:48:35] <strcat> you can write the same code in rust with unsafe {}
[14:48:35] <doomlord_> and unsafe code is definitely the same as the equivalent C ?
[14:48:40] <bollu> yeah, I'd say C++ too degrades by a fair bit if you use shared_ptr and unique_ptr everywhere
[14:49:33] <bollu> how hard is it port from C/C++ to rust?
[14:49:42] <doomlord_> rust uses per task heaps by default right, and an 'exchange heap' for sharing ... whreas in C++ the default is a single heap shared between threads ?
[14:49:43] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:49:57] <doomlord_> i've not looked at tasks / threads in rust yet - its something i should do..
[14:50:06] <eddyb> doomlord_: the heap stuff is just smoke and mirrors
[14:50:17] <eddyb> there's only one true heap, the libc one
[14:50:17] <doomlord_> bollu you can interoperate C and Rust very closely, they can call eachother
[14:50:30] <doomlord_> bollu its hard to interface C++ templates and classes with rust
[14:50:42] *** Quits: flan3002 (holoirc@moz-E0853D96.superkabel.de) (Ping timeout)
[14:50:46] <doomlord_> bollu i had a crack at an automated tool to translate some subset of C++ into rust declarations
[14:50:53] <doomlord_> it doesn't work so well
[14:50:55] <bollu> how'd it go?
[14:51:00] <bollu> ah. sorry to hear that
[14:51:06] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:51:14] <doomlord_> well it spits stuff out which does compile, it might take some manual correctioin
[14:51:18] <eddyb> I wanted to use libclang and just make it output LLVM IR for calls and whatnot
[14:51:23] <doomlord_> it would be better to put rust support in swig
[14:51:32] <strcat> eddyb: there's not really any true heap ;p
[14:51:37] <doomlord_> bollu https://github.com/dobkeratops/cpp2rust
[14:51:40] <strcat> there's just a single address space per process
[14:51:46] <strcat> stacks come from the same place after all
[14:52:04] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[14:52:06] <bollu> why does vec_ng not expore .iter() ?
[14:52:42] <eddyb> doomlord_: but there's no trans equivalent exposed in the clang C API :(
[14:52:54] <eddyb> and I couldn't find anything relevant in the public C++ docs
[14:52:59] <doomlord_> eddyb - oh thats dissapointing to hear (heap = smoke and mirrors)
[14:53:14] *** Quits: MarcWeber (marc@moz-21F1A67.dip0.t-ipconnect.de) (Quit: leaving)
[14:53:23] <doomlord_> eddyb - per-thread allocations that dont interfere with eachother seem like a good idea to me..
[14:53:23] <eddyb> you can create a task-local heap, in theory
[14:53:23] <sp3d> it doesn't really have any observable effects afaik
[14:53:29] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[14:54:03] <eddyb> but how well is it going to perform, compared to a lock-free heap? I'm not sure you'd see the difference
[14:54:43] <eddyb> I guess jemalloc & tcmalloc make better use of thread locality
[14:54:58] <eddyb> but green tasks can switch threads, so that goes out the window
[14:55:09] <bollu> *sigh* stupid qustion, how do I iterate over a Vec? (std::vec_ng::Vec)
[14:55:17] <eddyb> .as_slice().iter()?
[14:55:26] <bollu> why the .as_slice()
[14:55:28] <doomlord_> the idea of memory fragmenting between cores scares me..
[14:55:37] <eddyb> because &[T] implements .iter() in the first place
[14:55:40] <strcat> bollu: because it's not abstracted yet
[14:55:43] <doomlord_> cache locality ..
[14:55:48] <strcat> that's why it's called vec_ng
[14:55:51] <strcat> and not vec
[14:55:57] <jdm> strcat: do you know if there are plans to add some kind of auto-slicing trait?
[14:56:03] <jdm> servo could use that for our DOMString type
[14:56:06] <eddyb> well...
[14:56:08] *** Joins: Ms2ger (Ms2ger@B30DC609.F9DEE48B.187A1082.IP)
[14:56:14] <bollu> oh, thanks!
[14:56:23] <bollu> can I do [~T] ?
[14:56:37] <bollu> can I do [~T] ?
[14:56:39] <bollu> nvm
[14:56:53] <bollu> error: bare `[]` is not a type
[14:56:57] <strcat> jdm: no, no plans to do that
[14:56:58] *** Quits: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP) (Quit: frza)
[14:57:01] <eddyb> jdm: I don't see that big of an issue with implementing DerefImm/DerefMut for DSTs
[14:57:02] <bollu> error: bare `[]` is not a type
[14:57:06] <bollu> whoops, my bad
[14:57:19] *** Joins: MarcWeber (marc@moz-FC10E83F.de)
[14:57:25] <eddyb> you would have to allow &*x but not *x
[14:57:38] <strcat> jdm: auto-slicing doesn't really solve the problem sanely
[14:57:51] <eddyb> jdm: but then, all the methods would work, I guess
[14:57:56] <MarcWeber> which llvm version to use for rust master? Can I use llvm from 0.9 distribution?
[14:57:56] <strcat> jdm: a good solution is making the slice methods get implemented for all vector types
[14:58:06] <eddyb> strcat: what about auto-slicing done as part of auto-deref?
[14:58:21] <strcat> eddyb: I'm against adding auto-slicing
[14:58:25] <bollu> does anyone else find it hard to read rust? (in terms of scanning function definitions and stuff)
[14:58:28] <strcat> and I want to remove the ~T -> &mut T coercion
[14:58:36] <strcat> bollu: no
[14:58:39] <bollu> I find the fact that I have to go right to left for type->name is odd
[14:58:39] <eddyb> treating Vec<T> and Rc<[T]> similarly
[14:58:44] <bollu> so I keep sig zagging
[14:58:48] <bollu> zig*
[14:58:51] <strcat> it was hard to read it when I was learning it as it was for every language I've learned
[14:59:00] <strcat> eddyb: it's not similar
[14:59:02] <strcat> ref != deref
[14:59:15] <strcat> foo(x) should pass x by-value
[14:59:40] <eddyb> I don't want & everywhere :S
[14:59:47] <eddyb> I understand making &mut explicit
[14:59:48] <strcat> T already doesn't coerce to &T
[14:59:49] <bollu> how do I function-pointer in rust?
[14:59:53] <strcat> eddyb: it's already explicit
[14:59:56] <strcat> T doesn't coerce to &T
[15:00:00] <eddyb> s/making/keeping
[15:00:07] *** Quits: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net) (Quit: ziad)
[15:00:40] *** Joins: mihneadb (mihneadb@5AECFFC5.DE0DFBD7.31DFFEC1.IP)
[15:00:46] <eddyb> bollu: fn(Args) -> Ret or (well, dammit, I forgot my pipe key is broken, I'll let someone else exemplify closures)
[15:01:00] *** Quits: benjamin_____ (benjamin@moz-CA495B2E.dip0.t-ipconnect.de) (Ping timeout)
[15:01:03] <bollu> xD gotta get that fixed eddyb :)
[15:01:30] <bollu> fn(Args) -> | | -> Return ?
[15:02:25] <bollu> g2g! have my chem practicals test tomorrow.
[15:02:49] <eddyb> don't mix rust with aluminum :P
[15:02:58] <bollu> :) 
[15:06:01] <mihneadb> hi, I'm going again through the tutorial (the list example) and I'm having some trouble with passing by reference & match blocks. Following the tutorial, I got to this - https://www.refheap.com/46427 which works. However, I was wondering why https://www.refheap.com/46428 doesn't work
[15:06:04] <SiegeLord> http://lparchive.org/Mines-of-Titan/Update%2004/95-capture_454_640x400_18092013_125356_240.png ehehe
[15:06:46] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[15:07:22] *** Quits: tedh (tedh@moz-6F8EC49.central.biz.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[15:08:09] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[15:09:35] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[15:11:30] *** Joins: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP)
[15:12:04] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[15:12:44] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[15:13:05] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:13:07] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[15:14:45] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:15:15] *** Joins: bakkdoor (bakkdoor@moz-E539175E.dip.osnanet.de)
[15:15:48] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[15:19:58] *** Joins: Clip (Mibbit@moz-F550A17F.fbx.proxad.net)
[15:20:18] <Clip> Quick question
[15:20:34] <Clip> Is libgreen the default scheduling library used by Rust?
[15:20:37] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[15:20:40] <eddyb> yupp
[15:20:41] *** Quits: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net) (Quit: Leaving.)
[15:20:59] <Clip> ok
[15:21:01] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:21:04] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[15:21:12] <Clip> What are the other strategies available?
[15:21:38] <eddyb> libnative, which is 1:1
[15:22:02] <Clip> ok thanks, that's very clear
[15:22:25] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[15:22:40] <Clip> and by default which SchedPool is used when I spawn tasks using Task::spawn?
[15:22:54] <Clip> Is there a default scheduler pool implicitely configured?
[15:23:41] *** Quits: jviereck (Adium@moz-96AC4C0A.ethz.ch) (Quit: Leaving.)
[15:24:25] <cmr> Clip: see he docs on http://static.rust-lang.org/doc/master/green/index.html
[15:25:05] <cmr> spawn uses the "current runtime", as determined from TLS
[15:25:37] *** Joins: timebomb (timebomb@70BE70A6.38B708BD.53C404A4.IP)
[15:25:54] <Clip> Yes I saw these docs thanks
[15:26:23] <Clip> I'm just wondering what is the default configuration when I don't psecify my own #[start] fn. How many threads, etc.
[15:26:51] <Clip> just found this one http://static.rust-lang.org/doc/master/guide-runtime.html
[15:27:01] <mihneadb> what's the correct prototype for the print_list function here https://www.refheap.com/46431 ?
[15:27:02] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:27:02] *** jorendorff_away is now known as jorendorff
[15:28:42] *** Joins: jviereck (Adium@moz-96AC4C0A.ethz.ch)
[15:29:19] <cmr> mihneadb: that looks right
[15:29:31] <cmr> mihneadb: what's the error?
[15:29:31] <mihneadb> cmr: experimenting I found out that I need print_list<T>(...)
[15:29:39] <cmr> oh, right.
[15:29:43] <mihneadb> list.rs:8:24: 8:25 error: use of undeclared type name `T`
[15:29:52] <cmr> of course, sorry.
[15:29:52] <mihneadb> and now I guess I have to say that T needs to implement Clone
[15:30:20] <cmr> you're not cloning anything in print_list so it should be fine?
[15:30:45] <mihneadb> right, sorry. the cloning in main errors out list.rs:20:24: 20:34 error: cannot determine a type for this bounded type parameter: unconstrained type
[15:30:59] <mihneadb> let l2 = Cons(12, ~l.clone());
[15:31:25] <cmr> mhm
[15:31:33] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[15:31:34] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:31:35] <cmr> let the first one be Cons(1i, ...)
[15:31:39] *** Quits: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net) (Ping timeout)
[15:31:53] <cmr> doesn't know which integer type to infer to
[15:32:16] <mihneadb> like this? https://www.refheap.com/46433
[15:32:18] <mihneadb> still the same error
[15:32:25] <cmr> only the first one should need it
[15:32:30] <cmr> hm
[15:32:39] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[15:32:50] <mindcat> how can I dedupe the code? https://gist.github.com/mindcat/3e452872762d8fef74c4
[15:32:50] <cmr> oh, you're not using T in List
[15:32:52] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[15:32:55] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[15:33:10] <cmr> it will never be infered because it's never used
[15:33:21] <cmr> should be Cons(T, ~List<T>) right?
[15:33:31] <mihneadb> oh right
[15:33:43] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[15:34:01] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:34:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[15:34:13] <cmr> mindcat: the usual way is to write a macro that generates the impls and invoke it once for each type.
[15:34:32] <mihneadb> so that works now but now I get "failed to find an implementation of trait std::fmt::Default for T" in     println!("{}", value);
[15:34:40] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[15:34:41] <mindcat> cmr: ok...
[15:34:41] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[15:34:44] <mihneadb> I guess T should be.. "printable" ?
[15:35:01] <eddyb> Default? your rust is a bit old :P
[15:35:03] <cmr> mindcat: that looks like BufReader and BufWriter from std, though.
[15:35:11] <mihneadb> eddyb: 0.9 :S
[15:35:31] <eddyb> mihneadb: please use master, especially if you're on one of the linux distros that has nightlies
[15:35:34] <mihneadb> (via homebrew)
[15:35:41] <eddyb> ahh. that complicates things
[15:35:49] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[15:35:51] <mihneadb> eddyb: it's ok I can build it myself, np
[15:35:57] <mihneadb> how will the current situation change?
[15:36:20] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[15:36:30] <cmr> the trait would change to Show instead of Default
[15:36:35] <cmr> same thing though
[15:36:48] <mindcat> any prebuilt rust compiler ver.master?
[15:36:51] <cmr> `print_list<T: std::fmt::Default>(...` btw
[15:37:03] <cmr> mindcat: https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[15:37:09] <eddyb> std::fmt::Default => Show, which is nicer to have in bounds
[15:37:10] <mihneadb> cmr: I was going to ask if the type restriction for T goes in print_list or in the enum declaration
[15:37:26] <eddyb> generic structs/enums can't have bounds
[15:37:29] <cmr> mihneadb: always in the functions and impls for the type, never in the data declaration.
[15:37:33] <mihneadb> ok
[15:37:39] <mindcat> cmr: oh I see
[15:37:54] *** Quits: Kxepal (Miranda@moz-31D2847C.pppoe.mtu-net.ru) (Ping timeout)
[15:38:08] <mihneadb> since I'm asking questions, here's one more -- why do I need to do "~something.clone()" ? I thought .clone() would return a "~" pointer anyway
[15:38:20] <jdsanders> is there a way to check console output in a test?
[15:38:21] *** Quits: Clip (Mibbit@moz-F550A17F.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:38:46] <eddyb> mihneadb: depends what you're calling .clone() on
[15:38:49] <mihneadb> or is .clone returning whatever type the object ha
[15:38:49] <mihneadb> d
[15:39:04] <eddyb> clone goes from &T to T
[15:39:14] <jdsanders> like: `println!("foo"); assert!(<something>, "foo\n")` 
[15:39:42] <mindcat> oh, and my new question is how implement something.clone() function?
[15:40:07] <mihneadb> eddyb: but if I have let x = Cons(1, ~Nil) and I do x.clone, is the return type "Cons" ?
[15:40:09] <Gordon> rusti: ~1.clone()
[15:40:41] <eddyb> mihneadb: well, Cons is not a type but a constructor
[15:40:50] <eddyb> the type would be List
[15:41:11] <mihneadb> eddyb: sorry. yes, List
[15:41:49] *** Joins: Guest_ (textual@78341F27.FB4DE631.66C78B76.IP)
[15:41:56] *** Quits: Guest_ (textual@78341F27.FB4DE631.66C78B76.IP) (Quit: Guest_)
[15:42:17] *** Joins: Kxepal (Miranda@moz-406769B7.pppoe.mtu-net.ru)
[15:42:55] <mihneadb> eddyb: if I do ~x.clone(), is it equivalent to (~x).clone() or to ~(x.clone()) ?
[15:43:06] <eddyb> the latter
[15:43:19] <mihneadb> ok
[15:43:19] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:43:54] <mihneadb> and in the x = Cons(1, ~Nil); x.clone(), clone goes from List to List, is that correct?
[15:44:10] <eddyb> well, &List (autoborrowed) -> List
[15:44:47] <mihneadb> oh.. magic
[15:44:59] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:45:06] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:45:34] <mihneadb> I'm trying to read about when autoborrowing happens?
[15:46:20] <eddyb> calling a method which takes &self, on a value of that type
[15:46:53] <mihneadb> ok, ty
[15:47:18] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:47:49] <mihneadb> fixing the std::fmt::Default bound, now I get error: cannot bind by-move and by-ref in the same pattern. But it worked before, when there were no generics involved
[15:47:57] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[15:47:58] <mihneadb> am I missing something, or is this inconsistent ?
[15:48:08] <cmr> it is a bit inconsistent
[15:48:16] <eddyb> a generic type is not considered to be Pod unless explicitly bounded so
[15:48:18] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:48:20] <cmr> since you were using int, which is Pod, it was very liberal about when it allowed moves.
[15:48:26] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:48:37] <eddyb> so it moves by default instead of copying
[15:49:01] <mihneadb> ok
[15:49:21] *** Quits: jviereck (Adium@moz-96AC4C0A.ethz.ch) (Quit: Leaving.)
[15:49:38] *** Joins: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net)
[15:49:43] <mihneadb> so I fixed it by saying ref value and then printing *value
[15:49:49] <mihneadb> is there an other idiomatic way/
[15:49:57] *** Quits: daschl (daschl@moz-DC6DE6E2.vie.surfer.at) (Quit: Textual IRC Client: www.textualapp.com)
[15:50:01] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[15:50:07] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:50:08] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[15:52:08] *** Quits: japaric (japaric@D3362D12.54A02F38.BFC118EE.IP) (Ping timeout)
[15:52:56] *** Joins: derek_c (derek@moz-FDC36371.cit.cornell.edu)
[15:53:13] <derek_c> how do you disable #[warn(dead_code)] for a whole crate?
[15:53:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:53:30] <cmr> #[warn(dead_code)];
[15:53:32] <cmr> in the crate root
[15:53:40] <strcat> seems odd to do it
[15:53:40] <cmr> or, #[allow(...)];
[15:53:59] <strcat> only warns about code that's totally unused and not exported
[15:54:09] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[15:54:46] <eddyb> i.e. the proper way to fix it is to use/export the relevant code
[15:54:58] <derek_c> cmr: thanks
[15:55:31] <derek_c> eddyb: yeah I know, just when developing it could be annoying to see a bunch of these warnings all the time
[15:56:15] <eddyb> export your stuff :P
[15:56:30] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[15:56:30] <drbawb> is there a way to silence warnings temporarily? I'm fixing up rust-sdl2 to refactor IterBytes -> Hash
[15:56:45] <cmr> drbawb: -A warnings
[15:57:06] <drbawb> thanks :)
[15:58:26] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[16:00:09] *** Quits: sigma (sigma@C91C7F36.70518F41.9D18269F.IP) (Quit: Leaving.)
[16:00:31] *** Quits: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk) (Ping timeout)
[16:02:02] *** Quits: derek_c (derek@moz-FDC36371.cit.cornell.edu) (Ping timeout)
[16:02:22] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[16:02:51] <bstrie> huon: reddit bstrie?
[16:02:56] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:03:36] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:04:17] <jdsanders> I'm sure there's someone "rustier" than me working on something more official already, but I ran into the performance wall of num::bigint on a project, so I'm working on a GMP version: https://github.com/jsanders/rust-bignum
[16:05:04] <Ms2ger> Oh crap, someone mentioned gmp
[16:05:05] <bjz> ooh nice
[16:05:08] <Ms2ger> Abandon ship
[16:05:30] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:05:40] *** Joins: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk)
[16:05:53] <bjz> jdsanders: yeah our bigints are very much *not* production ready
[16:06:13] <cmr> there are gmp bindings at https://github.com/thestinger/rust-gmp, though needs updating.
[16:06:35] <jdsanders> cmr: yeah, I definitely cribbed from that work a bit
[16:06:44] <cmr> heh :)
[16:06:50] *** Quits: mihneadb (mihneadb@5AECFFC5.DE0DFBD7.31DFFEC1.IP) (Quit: Computer gone to sleep - Zzzz...)
[16:06:54] <jdsanders> but decided it was easier to implement the few functions I needed piecemeal rather than update those bindings wholesale
[16:07:01] <strcat> they don't require much updating
[16:07:30] *** Quits: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de) (Quit: Leaving)
[16:07:34] <jdsanders> I'm hoping to go back and submit a PR based on what I've learned
[16:07:39] <Ms2ger> So what's the new hash stuff? An iterator?
[16:08:43] *** Quits: leslie (Adium@802083C6.67DB9176.67D29DD9.IP) (Ping timeout)
[16:09:26] *** Quits: pauls (pauls@moz-BFEF1F22.ccs.neu.edu) (Quit: Ignore me!!)
[16:10:40] <Gordon> is it currently possible to do something like this in Rust? http://pastebin.com/PykH61LV 
[16:11:06] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[16:11:06] *** Quits: mindcat (mindcat@339D822D.7B4F697F.F21FCE99.IP) (Quit: Lost terminal)
[16:11:11] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[16:11:17] *** Quits: Kruppe (user@moz-C5867C4A.dynamic.uwaterloo.ca) (Ping timeout)
[16:11:35] <cmr> Gordon: no, references cannot form cycles.
[16:11:47] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[16:11:50] <cmr> Gordon: use Rc
[16:11:55] <doomlord_> let foo = ~[1,2] will make :~[int] ... how do i write a literal ~[int,..2]   eg  foo=[1,2] where foo isa [int,..2]
[16:12:13] <cmr> doomlord_: ~([1, 2])
[16:12:41] <cmr> or you could make a smiley out of it: ~([0 , 0])
[16:12:41] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Ping timeout)
[16:12:41] *** Quits: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com) (Ping timeout)
[16:12:41] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Ping timeout)
[16:12:47] <doomlord_> thanks;   heh
[16:12:52] *** Quits: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Ping timeout)
[16:12:53] *** Joins: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com)
[16:13:00] *** Quits: skelly (hl@moz-55F978C0.org) (Ping timeout)
[16:13:02] *** Joins: skelly (hl@moz-55F978C0.org)
[16:13:03] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Ping timeout)
[16:13:09] *** Quits: nkoep (nik@moz-6F9C55D4.pool.mediaways.net) (Ping timeout)
[16:13:10] <doomlord_> how does that actually work - throwing brackets around something does something special in that instance?
[16:13:11] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[16:13:11] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[16:13:13] *** Quits: brianloveswords (brianloves@moz-CB223D1E.members.linode.com) (Ping timeout)
[16:13:27] *** Joins: brianloveswords (brianloves@moz-CB223D1E.members.linode.com)
[16:13:28] *** Joins: nkoep (nik@moz-6F9C55D4.pool.mediaways.net)
[16:13:28] <Ms2ger> ~[...] is magic
[16:13:30] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[16:13:31] <cmr> ~[ is taken specially as a vector constructor.
[16:13:39] *** Joins: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[16:14:01] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[16:14:03] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[16:14:14] *** Quits: marten (Mibbit@moz-E1ABC59B.sshunet.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[16:14:17] <Gordon> did you say anything refcells etc? I disconnected
[16:14:33] <cremes> using the latest github master, i want to run the src/libstd/vec.rs benchmarks. however, i can't even compile the file. i am using the stage2/bin/rustc from master but it can't even compile a file from libstd.
[16:14:34] <cmr> Gordon: https://botbot.me/mozilla/rust
[16:14:34] <cremes> https://gist.github.com/chuckremes/9191304
[16:14:42] *** Joins: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP)
[16:14:45] <cmr> cremes: files aren't compiled individually.
[16:14:48] <cremes> are there particular options i should be passing to rustc to get this to pass?
[16:14:51] <cmr> cremes: rustc --test lib.rs
[16:14:59] *** Parts: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP) ()
[16:15:01] <cmr> and then you can ./std --bench vec
[16:15:02] <cremes> let me try that...
[16:15:25] <bstrie> doomlord_: it's special-cased right now. [1,2] is fixed-length and ~[1,2] is dynamic length. the parens in ~([1,2]) just give it the precedence it needs to tell it that you want fixed-length on the heap
[16:15:31] *** Joins: g3xzh (g3xzh@moz-673268CF.red.bezeqint.net)
[16:15:39] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[16:15:41] <Gordon> but Rc only allows immutable references to whatever it contains
[16:15:42] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[16:15:43] <bstrie> doomlord_: I think this will be going away when growable vectors get moved to a library
[16:15:51] *** Quits: murph1 (murph@moz-B6DD0228.oracle.com) (Ping timeout)
[16:16:01] <cmr> Gordon: right, you can shove it in a RefCell etc if you need to.
[16:16:34] <alan_andrade> I have my main crate A.rs, it uses mod B, and module B uses module C. Module B is using a macro that lives in module C. The macro in module C is using a constant Z, that I defined in my root crate.
[16:16:43] <Gordon> so Rc<RefCell<&Node>> or something like this?
[16:16:58] <alan_andrade> This is not compiling because it doesn't find the contstant Z. I defined that in my root crate.
[16:17:41] <alan_andrade> Is there a way C is aware of the constant defined in the root crate even when is being used by mod B ?
[16:18:44] <g3xzh> rusti: Float::max_exp(None)
[16:18:45] -rusti- <anon>:10:9: 10:23 error: cannot determine a type for this bounded type parameter: unconstrained type
[16:18:45] -rusti- <anon>:10         Float::max_exp(None)
[16:18:45] -rusti-                   ^~~~~~~~~~~~~~
[16:18:45] -rusti- application terminated with error code 101
[16:19:01] <g3xzh> rusti: let myvar = Float::max_exp(None)
[16:19:02] -rusti- <anon>:11:5: 11:6 error: expected `;` but found `}`
[16:19:02] -rusti- <anon>:11     };
[16:19:02] -rusti-               ^
[16:19:02] -rusti- application terminated with error code 101
[16:19:07] <g3xzh> rusti: let myvar = Float::max_exp(None);
[16:19:07] -rusti- <anon>:10:21: 10:35 error: cannot determine a type for this bounded type parameter: unconstrained type
[16:19:07] -rusti- <anon>:10         let myvar = Float::max_exp(None);
[16:19:07] -rusti-                               ^~~~~~~~~~~~~~
[16:19:08] -rusti- application terminated with error code 101
[16:19:22] <g3xzh> bahhaa
[16:19:38] <cmr> you just did the same thing three times, what did you expect?
[16:19:55] <cmr> rusti: let myvar = Float::max_exp(None::<f32>);
[16:20:03] <cmr> rusti: Float::max_exp(None::<f32>)
[16:20:06] -rusti- pastebinned 10 lines of output: http://ix.io/aHo
[16:20:06] -rusti- 128
[16:20:33] <g3xzh> what if I don't want to specify the None "type"
[16:20:52] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[16:20:53] <cmr> rusti: let myvar: f32 = Float::max_exp(None);
[16:20:55] <cmr> rusti: let myvar: f32 = Float::max_exp(None); myvar
[16:20:58] -rusti- pastebinned 7 lines of output: http://ix.io/aHp
[16:20:59] -rusti- pastebinned 7 lines of output: http://ix.io/aHq
[16:21:07] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:21:11] *** Quits: bakkdoor (bakkdoor@moz-E539175E.dip.osnanet.de) (Quit: Linkinus - http://linkinus.com)
[16:21:11] <cmr> eugh
[16:21:20] <g3xzh> error: cannot determine a type for this bounded type parameter: unconstrained type
[16:21:24] <cmr> you don't get to, sorry.
[16:21:34] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[16:21:52] <g3xzh> Hmmm. OK. 
[16:21:55] <g3xzh> 10x cmr
[16:22:09] *** Quits: nkoep (nik@moz-6F9C55D4.pool.mediaways.net) (Ping timeout)
[16:22:27] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[16:22:27] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[16:22:55] <bstrie> ccccccccccmmmmmmmmmmrrrrrrrrrr
[16:23:01] <bstrie> ^ 10x
[16:23:14] <g3xzh> :D
[16:26:08] *** Joins: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net)
[16:26:09] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:27:06] *** Joins: nkoep (nik@moz-6F9C55D4.pool.mediaways.net)
[16:27:19] *** Joins: sigma (sigma@152438A3.FF4E6273.B0C1FFA1.IP)
[16:27:25] <doomlord_> i forget, was there a way to initialize a struct cloning all the fields from another and modifying a few   i seem to recall something like that
[16:27:46] *** Quits: vasac (vasac@FC3DDDFC.89B50D56.DF1CE89D.IP) (Quit: Leaving)
[16:27:49] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Client exited)
[16:27:51] *** darnuria is now known as darnuria|afk
[16:27:57] <doomlord_> i tried {blah blah, .. other_struct}
[16:28:12] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[16:28:20] *** Quits: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP) (Quit: frza)
[16:28:26] <cmr> doomlord_: StructName { ..other_struct }
[16:28:45] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[16:29:27] *** victorporof is now known as victorporof|away
[16:29:27] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[16:29:42] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[16:29:53] <doomlord_> ok that works, i was just missing a deref..
[16:29:53] *** Quits: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net) (Ping timeout)
[16:30:29] *** Joins: flan3002 (till@moz-E0853D96.superkabel.de)
[16:30:53] *** Joins: rocode (rocode@moz-398826F7.clsp.qwest.net)
[16:31:27] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[16:31:49] <flan3002> Another (hopefully) quick question: rustc fails with "cannot move out of dereference of & pointer" at "iter.map(|&a| create(a)).collect()". I am fine with "destroying" the vector (moving ownership)...
[16:32:07] <cmr> flan3002: then use move_iter
[16:32:14] <rgomes> cmr; by any chance, do you know what is the status of http://smallcultfollowing.com/babysteps/blog/2013/10/24/single-inheritance/ ?
[16:32:37] *** Quits: g3xzh (g3xzh@moz-673268CF.red.bezeqint.net) (Quit: Leaving)
[16:32:37] <cmr> rgomes: certainly not 1.0, it's backwards compat.
[16:32:53] *** Joins: murph1 (murph@moz-29F9DAC6.oracle.com)
[16:33:10] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Ping timeout)
[16:34:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:34:07] <flan3002> cmr: Works!
[16:34:50] <rgomes> cmr: thanks
[16:35:29] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[16:35:32] *** Joins: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP)
[16:35:52] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[16:36:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:37:01] *** Joins: mmwops (Mibbit@moz-A417CF88.upc-j.chello.nl)
[16:37:18] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[16:37:39] *** Quits: mmwops (Mibbit@moz-A417CF88.upc-j.chello.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[16:37:43] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:38:08] *** Joins: robitex (Mibbit@moz-85B75DF6.libero.it)
[16:39:11] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[16:39:15] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:39:15] *** ChanServ sets mode: +ao dherman dherman
[16:39:53] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[16:41:17] <robitex> Hello folks. I see that the <int>.times() is no longer available in std in Rust 0.10, is there a substitute?
[16:41:36] <cmr> robitex: `for _ in range(0i, 10) { ... }`
[16:42:00] <robitex> thanks
[16:42:18] <flan3002> Where do I need to add 'static? "error: value may contain references; add `'static` bound" at "FromTo(acc, start, end, ease, duration) => ~Single::new(acc.create_access(), start, end, ease, duration) as ~Tween:,"
[16:42:25] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[16:43:21] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:43:24] <cmr> flan3002: `~Tween:'static` perhaps?
[16:44:48] <flan3002> cmr: What exactly does it mean?
[16:44:50] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:45:58] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[16:46:29] <cmr> flan3002: it means the trait object can't contain any non-'static references
[16:46:46] *** Joins: Jwashton (Mibbit@moz-FE3308CF.apiolt2.epbfi.com)
[16:46:51] *** Quits: fyolnish (fyolnish@moz-1EA99A98.uqwimax.jp) (Client exited)
[16:47:20] *** Joins: fyolnish (fyolnish@moz-1EA99A98.uqwimax.jp)
[16:47:41] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[16:48:03] <flan3002> cmr: What if I don't want that? There must be another way to make it compile. :D
[16:48:23] * flan3002 recognizes how stupid that sentence sounds...
[16:48:27] <cmr> flan3002: nope.
[16:48:37] <cmr> flan3002: owned trait objects can't contain references.
[16:48:43] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[16:48:46] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:49:02] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[16:49:03] *** Quits: fyolnish (fyolnish@moz-1EA99A98.uqwimax.jp) (Ping timeout)
[16:49:06] *** Quits: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:49:07] <eddyb> not even ~Trait:?
[16:49:24] <eddyb> I thought the problem was that you didn't get Send if you had borrowed references
[16:49:30] <cmr> they don't have a lifetime.
[16:49:32] <cmr> I thought
[16:49:51] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[16:50:27] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:51:13] *** Joins: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl)
[16:51:35] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[16:51:56] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:53:04] <Gordon> how do I make a raw pointer in Rust?
[16:53:21] <cmr> rusti: 42 as *int
[16:53:22] -rusti- (0x2a as *())
[16:53:33] <Gordon> thanks
[16:53:37] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:54:54] <mrmonday> error: cannot move out of captured outer variable <= how do I get around this with an enum? I found a FAQ about this, which said to use Cell, but that errored because enums don't derive Pod (can I safely just #[deriving] it?)
[16:55:28] <cmr> mrmonday: Pod is a kind, it's not something that is derived, your type fulfills it if it meets the requirements.
[16:56:22] <mrmonday> do enums not count as Pod? Do they do something magical which makes them more than just data?
[16:56:30] *** Quits: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP) (Ping timeout)
[16:56:36] <cmr> they are Pod if their contained types are Pod.
[16:56:36] <eddyb> they are Pod if they contain only Pod types
[16:56:40] <doomlord_> heh missing do notation for passing a block to some custom visitor
[16:56:42] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:56:46] *** Quits: hashcat (hashcat@11D514FA.DDC0B016.BC2E6639.IP) (Ping timeout)
[16:56:51] <eddyb> doomlord_: this is not Objective-C :P
[16:56:56] <Ms2ger> There's still a do notation?
[16:57:01] <cmr> Ms2ger: no
[16:57:09] <doomlord_> block/closure whatever you call it :)
[16:57:13] *** Joins: hashcat (hashcat@11D514FA.DDC0B016.BC2E6639.IP)
[16:57:20] <doomlord_> point taken its not a blcok
[16:57:41] <Gordon> and how do I make a raw pointer to a struct? the compiler complains about a non-scalar cast when trying to do it
[16:57:54] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:58:01] <cmr> Gordon: &foo as *Struct
[16:58:09] <Ms2ger> &foo magically decays into *Struct
[16:58:12] <Ms2ger> Or as, yes
[16:58:55] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:59:10] <flan3002> Why is there no ternary operator in Rust (?:)?
[16:59:13] *** Quits: Ferreus (ferreus@moz-CF1AD48E.dip0.t-ipconnect.de) (Ping timeout)
[16:59:16] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[16:59:31] <cmr> flan3002: because if is already an expression.
[16:59:35] <kimundi> flan3002: uneccessary if  if {} else {} is a expression
[16:59:41] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[16:59:44] <flan3002> Yes, but that's longer... :P
[16:59:57] <cmr> but doesn't introduce needless language complexity.
[16:59:59] *** Quits: Jwashton (Mibbit@moz-FE3308CF.apiolt2.epbfi.com) (Quit: http://www.mibbit.com ajax IRC Client)
[17:00:01] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:00:05] <cmr> you can easily write a macro for it.
[17:00:17] <cmr> t!{foo ? bar : baz }
[17:00:24] <flan3002> If I could write a macro...
[17:00:39] <eddyb> you say that like it's hard or something
[17:00:58] <flan3002> No, but I never did. I know Lisp macros though...
[17:02:01] <mrmonday> ah, ~str catching me out
[17:02:04] <flan3002> Anyways, I'll probably bug you in two hours again. :) Bye!
[17:02:08] *** Joins: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch)
[17:02:10] <mrmonday> I hate ~str, I've had nothing but problems with it :<
[17:02:12] *** Quits: flan3002 (till@moz-E0853D96.superkabel.de) (Quit: leaving)
[17:02:19] <cmr> aren't strings awful?
[17:02:22] <cmr> I hate strings too.
[17:02:41] * eddyb throws some surrogates at cmr
[17:02:47] * cmr lights them on fire
[17:02:48] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:02:58] * eddyb watches UTF-16 burn :)
[17:03:06] <mrmonday> not sure if you're being serious or not :<
[17:03:09] <cmr> I am.
[17:03:10] <cmr> dead serious.
[17:03:17] <eddyb> especially dead
[17:03:28] <eddyb> cmr: is the bencher running again?
[17:03:30] <mrmonday> I like strings, I just think they're awful in Rust
[17:03:37] <mrmonday> they seem to make everything really difficult
[17:03:46] <Ms2ger> How so?
[17:04:16] <eddyb> I think DST will make some generic operations easier to use with strings/vectors
[17:05:04] *** Quits: marc_ (uid5324@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[17:05:09] <eddyb> but we need fancy trait hackery to make Rc::new("foo") work at all
[17:05:27] <eddyb> because it's not like a fixed-len vector, but rather &'static str
[17:05:30] <mrmonday> most recent example being that my nice POD struct isn't actually a POD struct any more :3
[17:05:53] <cmr> mrmonday: well it isn't, because you have an owning pointer, which is a heap allocation, which certainly isn't pod
[17:05:56] *** Parts: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) ()
[17:06:09] <kimundi> mrmonday: because it contains ~str? That has nothing to do with strings :P
[17:06:33] <mrmonday> well it was POD before I put the string in it :p
[17:06:44] <mrmonday> now none of my code works any more
[17:07:00] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:09:15] <Ms2ger> It was POD... You made it non-POD... And now it's not POD anymore?
[17:10:03] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[17:10:07] <mrmonday> I realise in retrospect that it was a poor example of why strings are bad :<
[17:11:06] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[17:11:07] <strcat> mrmonday: you shouldn't really need Pod for much
[17:11:09] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:11:11] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[17:11:12] <acrichto> pnkfelix: pong (belatedly)
[17:11:15] <strcat> the only thing using it is Cell afaik
[17:11:32] <mrmonday> cell was what I was trying to use :p
[17:11:39] <strcat> well, then you need RefCell
[17:11:49] <strcat> although you'd be better off not using either
[17:11:55] <strcat> in new code
[17:12:15] *** Quits: timebomb (timebomb@70BE70A6.38B708BD.53C404A4.IP) (Ping timeout)
[17:12:29] <mrmonday> I was only using it because I found a FAQ which said to use it
[17:12:40] <strcat> but where are you using it?
[17:13:02] *** Joins: timebomb (timebomb@70BE70A6.38B708BD.53C404A4.IP)
[17:13:07] <mrmonday> I might have another way around it, might be a non-issue
[17:13:11] <strcat> that FAQ is out-of-date
[17:13:20] *** Joins: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP)
[17:13:26] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:13:44] *** Joins: derek_c (derek@moz-5E77E51.cit.cornell.edu)
[17:14:01] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[17:14:04] *** Joins: HansH (Mibbit@moz-DF1681CA.ftth.ispfabriek.nl)
[17:15:04] <mrmonday> strcat: I'm trying to avoid "error: cannot move out of captured outer variable"
[17:15:12] <mrmonday> cell was the solution
[17:15:19] <mrmonday> according to that FAQ
[17:15:26] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:15:43] *** Quits: timebomb (timebomb@70BE70A6.38B708BD.53C404A4.IP) (Ping timeout)
[17:17:08] *** Quits: HansH (Mibbit@moz-DF1681CA.ftth.ispfabriek.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[17:17:13] *** Joins: epall (epall@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net)
[17:17:56] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[17:18:05] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[17:19:11] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:20:43] *** pmoore is now known as pmoore|away
[17:21:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:22:53] *** Quits: glaebhoerl_ (glaebhoerl@moz-3590251D.kabelnet.hu) (Ping timeout)
[17:23:32] *** Quits: epall (epall@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net) (Quit: epall)
[17:23:56] *** Joins: FreeFull (freefull@moz-1883929A.as13285.net)
[17:26:57] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[17:28:20] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[17:28:46] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:30:39] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[17:32:34] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[17:32:38] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:32:57] <Gordon> how do I access TrieMaps? I've tried "extern crate collections; use collections::trie::TrieMap;" and variations
[17:33:31] *** Quits: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch) (Quit: Leaving.)
[17:33:34] <cmr> it's exported as collections::TrieMap
[17:33:38] <cmr> and the docs are at http://static.rust-lang.org/doc/master/collections/trie/struct.TrieMap.html
[17:34:06] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[17:35:17] *** Quits: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk) (Ping timeout)
[17:35:26] *** Joins: eibwen (kvirc@moz-E066B98A.dip0.t-ipconnect.de)
[17:35:36] *** victorporof|away is now known as victorporof
[17:35:43] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[17:36:11] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[17:36:26] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[17:37:28] *** Quits: StarLight (StarLight@moz-D776B1A0.pppoe.avangarddsl.ru) (Ping timeout)
[17:37:52] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:39:45] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:39:48] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[17:39:49] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[17:40:56] *** Quits: derek_c (derek@moz-5E77E51.cit.cornell.edu) (Ping timeout)
[17:41:51] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:41:53] *** Joins: StarLight (StarLight@moz-40C68BBB.dynamic.avangarddsl.ru)
[17:42:06] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[17:42:36] *** Joins: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP)
[17:42:39] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:42:51] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:43:20] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[17:44:29] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[17:44:59] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[17:46:10] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:46:56] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:46:58] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Connection reset by peer)
[17:47:20] <cremes> cmr: i tried compiling lib.rs as you suggested earlier in channel. however, it blew up when linking. https://gist.github.com/chuckremes/9191304
[17:47:59] <cremes> the .rust dir doesn't exist at all, so i'm wondering if that's an artifact that make removed that i actually need to have stick around.
[17:48:06] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[17:48:13] <cmr> cremes: you need to -L the dir where rustrt is 
[17:48:31] <cmr> should be $target/rt
[17:48:36] *** Quits: gmjosack (gary@moz-CB7AA3B8.hsd1.ca.comcast.net) (Ping timeout)
[17:48:42] <cremes> let me look for it...
[17:48:48] *** Quits: sdwilsh (sdwilsh@55513BD.95D3F462.59D8BB03.IP) (Ping timeout)
[17:48:52] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[17:49:03] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:49:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:49:13] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[17:49:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:50:08] <cremes> find . -name "rustrt*" -print .................. ./doc/flate/rustrt
[17:50:25] <cmr> it's librustrt.a
[17:50:31] <cmr> it's in the build dir.
[17:50:46] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:50:49] <cmr> /private/tmp/rust/x86_64-apple-darwin/rt, according the the gist.
[17:51:40] <cremes> so this should do it:
[17:51:41] <cremes> x86_64-apple-darwin/stage2/bin/rustc -L./x86_64-apple-darwin/rt/ --test src/libstd/lib.rs 
[17:51:52] <cmr> I think so
[17:51:55] <cremes> (assuming i am in /private/tmp/rust)
[17:51:56] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[17:51:56] *** ChanServ sets mode: +ao dherman dherman
[17:52:04] <cremes> cool, let's see what happens. thanks for your patience
[17:52:11] <cmr> it might need -C link-args="-L./...." instead
[17:52:17] <cmr> I don't remember how that all fits together.
[17:52:25] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[17:52:28] <cremes> i'll look at the makefile for a hint
[17:52:31] <cremes> if it fails
[17:52:47] *** Quits: sigma (sigma@152438A3.FF4E6273.B0C1FFA1.IP) (Ping timeout)
[17:53:04] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:53:41] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:54:12] *** Quits: Guest (textual@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:54:48] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:54:48] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:56:31] *** Joins: mib_odv84w (Mibbit@D7250540.FBCC12EA.AE2C2D8A.IP)
[17:56:56] *** Quits: mib_odv84w (Mibbit@D7250540.FBCC12EA.AE2C2D8A.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:57:18] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[17:57:45] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[17:57:51] *** Joins: rylev (Mibbit@moz-BF3E8E09.cust.telecolumbus.net)
[17:57:59] *** Joins: epall (epall@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net)
[17:58:40] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:59:23] *** Joins: Ferreus (ferreus@moz-472B3F0C.lsn.wtnet.de)
[17:59:46] <pnkfelix> I was looking at some Haskell code over weekend
[18:00:01] <pnkfelix> what would people think of `use foo::bar::Baz as MyBaz;`
[18:00:12] <pnkfelix> instead of the current `use MyBaz = foo::bar::Baz` ?
[18:00:39] <eddyb> pnkfelix: Haskell and 20 other languages ;)
[18:00:40] <cmr> reasoning?
[18:00:50] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[18:01:08] <pnkfelix> cmr: With as, The name being introduced stays on the rIght hand side.
[18:01:10] <cmr> `pub use foo::bar::Baz as MyBaz`
[18:01:11] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[18:01:20] <edwardw> Does make check also run tests coming along with the source file in addition to standalone tests?
[18:01:23] *** Quits: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP) (Quit: Leaving.)
[18:01:26] <cmr> edwardw: yes.
[18:01:30] <pnkfelix> cmr: 1. the current syntax, you need to move your eyes back and forth between left and right sides
[18:01:34] <edwardw> ok
[18:01:43] *** Joins: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP)
[18:01:45] <cremes> ok, got it building correctly thanks to cmr. that syntax above works.
[18:01:55] <pnkfelix> cmr: 2. With `use path as Id`, the `use foo::bar` would form nice columns 
[18:02:19] *** Joins: rylev_ (rylev@moz-BF3E8E09.cust.telecolumbus.net)
[18:02:31] *** Quits: rylev (Mibbit@moz-BF3E8E09.cust.telecolumbus.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:02:35] <pnkfelix> cmr: I think that's all of the reasons I could come up with.
[18:02:35] *** Parts: rylev_ (rylev@moz-BF3E8E09.cust.telecolumbus.net) (Leaving...)
[18:02:37] *** Joins: rylev_ (rylev@moz-BF3E8E09.cust.telecolumbus.net)
[18:02:49] <cmr> pnkfelix: `pub use foo::bar::Baz as MyBaz` reads really poorly.
[18:02:52] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[18:02:54] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[18:02:55] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:02:55] <pnkfelix> cmr: You think so?
[18:02:58] <cmr> I do
[18:03:01] <pnkfelix> cmr: oh
[18:03:04] <pnkfelix> cmr: *pub* use
[18:03:06] <cmr> yes.
[18:03:12] <pnkfelix> cmr: yeah, I guess its not so good for that
[18:03:16] <cmr> now the meaning is reversed again.
[18:03:17] <eddyb> pub use is a weird way of saying "reexport"
[18:03:32] <pnkfelix> cmr: yeah I wasn't considering `pub use`
[18:03:52] <mrmonday> pub <anything> reads weird to me :p
[18:03:54] <cmr> I like using `as` for this.
[18:04:00] <pnkfelix> cmr: but i guess it would be even worse to have one syntax for renaming `use` and a different one for `pub use` ...
[18:04:05] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:04:20] *** Joins: vodik (simon@moz-452D1342.dynamic.uwaterloo.ca)
[18:04:47] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:05:17] *** Joins: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr)
[18:07:00] *** Joins: tjc (tjc@moz-791C24B0.phlapa.east.verizon.net)
[18:07:00] *** ChanServ sets mode: +o tjc
[18:07:24] <pnkfelix> cmr: were you going to follow "I like using `as` for this" with an example?
[18:07:30] <cmr> pnkfelix: no.
[18:07:37] <cmr> pnkfelix: I'm overall in favor of the change.
[18:07:44] <cmr> I prefer it, think it reads nicer.
[18:07:50] <cmr> Not sure if worth it, but I like it :)
[18:08:13] <pnkfelix> cmr: oh I see, I did not see the overall flow of your statements.
[18:08:24] <cmr> sorry
[18:08:25] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:08:25] *** ChanServ sets mode: +ao brson brson
[18:08:29] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[18:09:03] <pnkfelix> Maybe I could swallow the having distinct syntaxes
[18:09:17] <pnkfelix>  `pub use YourBaz = foo::bar::Baz` and `use foo::bar::Baz as MyBaz`.  Since they really are such different constructs...
[18:10:06] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[18:12:54] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:14:54] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Input/output error)
[18:16:35] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[18:16:39] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[18:17:28] *** Quits: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy) (Ping timeout)
[18:17:38] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Ping timeout)
[18:18:10] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[18:20:37] <drbawb> cmr: o.O just noticed I made "this week in rust", was quite a nice surprise while reading today's post.
[18:20:47] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[18:20:54] <cmr> drbawb: :)
[18:21:05] *** Joins: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy)
[18:21:27] *** Quits: ganitsu (ganitsu@moz-6C790E68.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[18:21:44] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:22:23] *** Quits: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net) (Ping timeout)
[18:22:30] <cmr> drbawb: cavestory is a great game, I hope you have success with your port of the series.
[18:22:56] *** Joins: gmjosack (gary@F91A859E.75E3DBFA.7AB8439E.IP)
[18:24:22] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[18:25:00] <drbawb> cmr: thanks. I've been having a blast writing it. It's a really rewarding project though; I've never drawn anything but text to the screen before. So seeing this little guy run and jump is just a great feeling.
[18:25:27] <cmr> :)
[18:25:41] <drbawb> and in my opinion: rust has been easier to pick up than C++11... it just seems like there's a lot of domain knowledge that goes along w/ C++ that makes it hard for a [systems programming] newbie to get into.
[18:25:59] <cmr> glad you're enjoying it!
[18:26:14] <strcat> C++ is really complicated
[18:26:32] <strcat> like, just implementing move construction, copy construction, and move/copy assignment correctly is hard
[18:26:37] <strcat> for low-level types
[18:27:37] <strcat> impl Drop for Foo { fn drop(&mut self) { ... } } vs.
[18:27:39] <o11c> but once you do it with low level types, you never have to worry about it for most types
[18:27:58] <strcat> o11c: you have to write a lot of low-level types because hardly any libs are C++11 ;)
[18:28:05] <strcat> you do in rust too
[18:28:08] <strcat> bindings
[18:28:28] <o11c> I still prefer C++ with move control, even if Rust's "free moves" is more efficient and more pure.
[18:28:41] <strcat> they aren't free yet
[18:29:12] <strcat> o11c: sure, you have more control in C++
[18:29:14] <kimundi> (what does free mean in this context?)
[18:29:17] <o11c> well, they're as free as memcpy ... which *is* definitely a win for a lot of things, like resizing a vector
[18:29:25] <strcat> o11c: they're not as free as memcpy yet
[18:29:31] *** Joins: untwisted (untwisted@moz-77EF8341.cse.ucsc.edu)
[18:29:49] <strcat> they set a drop flag in the source (but getting rid of that is still planned afaik)
[18:29:55] <o11c> of course, if C++ had a trait for "free move and destroy" ...
[18:29:59] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Ping timeout)
[18:30:29] <strcat> will in C++ you can use enable_if to do it both ways
[18:30:35] <strcat> rust doesn't have that ability
[18:30:57] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:31:03] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[18:31:05] <strcat> enable_if + CTFE is pretty powerful
[18:31:14] *** Joins: Kruppe (user@moz-8F107F80.dynamic.uwaterloo.ca)
[18:31:36] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[18:32:07] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[18:32:58] <pcwalton> we used to have explicit moves in Rust
[18:33:03] <pcwalton> they were a big problem because of their verbosity
[18:33:21] <pcwalton> actually I was talking to some Gecko people yesterday about C++11 and they have decided not to go with move semantics in some places because of the verbosity of .move()
[18:33:24] <pcwalton> it's just too much of a hassle
[18:33:49] <pcwalton> clutters up the code too much, it's easier to just use copy constructor hacks and avoid move semantics
[18:34:04] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[18:34:06] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[18:34:56] <pcwalton> specifically, this is for already_AddRefed<T> which is a move semantics-like thing
[18:35:06] <pcwalton> they decided against changing it to move semantics because .move() is too verbose
[18:35:09] <strcat> pcwalton: he means the ability to impl a custom move ctor
[18:35:16] <o11c> see, I'm actually a *fan* of moves
[18:35:21] <o11c> explicit moves I mean
[18:35:22] <strcat> rust's way will be a lot more efficient in most cases
[18:35:30] <pcwalton> o11c: we tried it, it was too verbose
[18:35:33] <zmike> hmmm I made some changes and am now getting "error: main function not found" compile errors in my library
[18:35:35] <o11c> calling std::move() is a sign "I'm killing the current context"
[18:35:39] <zmike> anyone have ideas what might cause this?
[18:35:46] <strcat> o11c: but it works differently
[18:35:57] <o11c> the real problem with C++ is that copy is automatic
[18:36:00] <strcat> because in C++ you can dynamically reuse that type via assignment
[18:36:03] <pnkfelix> zmike: did you stop compiling with `--crate-type=lib` ?
[18:36:07] <o11c> even explicit ctors don't solve everything
[18:36:13] <o11c> (but they help a lot)
[18:36:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[18:36:22] <pnkfelix> zmike: or remove the attributes in your code to indicate that your code is a library?
[18:36:34] <pcwalton> o11c: would you prefer it to be an error to say "let y = x;" with x being a unique pointer?
[18:36:40] *** Joins: Rusky (russell@moz-C0CD0CF0.slkc.qwest.net)
[18:36:47] <pnkfelix> zmike: (I assume when you say "I made some changes", you mean to your own code, and not e.g. to rustc's source code itself.)
[18:36:59] <zmike> ah, no, I am not that brave :)
[18:37:22] <o11c> pcwalton: yes
[18:37:33] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:37:35] <o11c> if I mean to invalidate x, I'd say let y = move(x)
[18:37:40] * strcat shrugs
[18:37:47] * pcwalton shrugs… all I can say is that it ended up being a big pain
[18:37:51] <bstrie> if .move() is too verbose, try .m()
[18:37:53] <strcat> I find rust's handling of moves and destructors to be a clear improvement over C++
[18:37:54] <o11c> pcwalton: the nice thing about this is: x can remain a *valid* variable
[18:38:03] <o11c> just you can't do anything except destroy it
[18:38:16] <pcwalton> why run the destructor at all on a moved value?
[18:38:17] <strcat> a significant improvement in making fast code the default + making it easy to use
[18:38:28] <pcwalton> it's just making more work for the compiler
[18:38:31] <strcat> o11c: well afaik you can also assign to it
[18:38:37] <strcat> I guess that counts as destroying
[18:38:44] <eddyb> pcwalton: well... we already do it anyway :P
[18:38:49] <o11c> pcwalton: it would solve all the problems Rust is facing right now about "I can't move out of a XXX"
[18:38:51] <eddyb> pcwalton: it's just silly and we want to get rid of it
[18:38:58] <bstrie> I wonder if `(╯°□°）╯︵ ┻━┻` would be a valid rust identifier, to alias to `fail!`
[18:39:00] <strcat> o11c: no it wouldn't
[18:39:08] <strcat> o11c: because it becomes unsafe to use it for anything
[18:39:09] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:39:30] <o11c> strcat: that's my point: with an explicit move, it's a big sign "it would be unsafe to use this again"
[18:39:34] <pcwalton> uhhh
[18:39:38] <pcwalton> Rust is about safety
[18:39:41] <strcat> o11c: rust is safe though
[18:39:44] <strcat> it can't do that
[18:39:50] <o11c> it's impossible for safety to be 100% enforced by a language
[18:40:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:40:02] <strcat> memory safety can be 100% enforced
[18:40:04] <pcwalton> yes, it is
[18:40:07] <o11c> at some point, you *have* to trust the programmer, if just a little bit
[18:40:08] <pcwalton> memory safety can be enforced
[18:40:22] <eddyb> o11c: did you hear about this awesome new language, Rust?
[18:40:25] <o11c> the important thing is don't trust the programmer unless you *have* to
[18:40:25] <Ms2ger> memory safety can enforced
[18:40:32] <pcwalton> we don't have to
[18:40:42] <strcat> rust even adds data races to 'memory safety'
[18:40:45] <strcat> unlike java
[18:41:01] *** Quits: huhlig (sid17687@moz-A42E5B7B.irccloud.com) (Ping timeout)
[18:41:13] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Ping timeout)
[18:41:14] <strcat> you don't strictly need to prevent data races to be 'safe', but it makes it a lot harder to accidentally expose unsafety via races in low-level types
[18:41:19] <strcat> since otherwise they all need locking
[18:41:27] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[18:41:48] <strcat> foo(x) calling into C would need a lock
[18:42:06] <strcat> because otherwise you could do it concurrently and it'd probably be memory unsafe
[18:43:01] *** Joins: huhlig (sid17687@moz-A42E5B7B.irccloud.com)
[18:43:02] <jensnock_> Urgh… lnkers.
[18:43:09] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:43:09] <pcwalton> yes, linkers
[18:43:21] *** Joins: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za)
[18:43:29] *** Joins: mgottschlag (quassel@moz-E60149F9.cust.bluewin.ch)
[18:43:42] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[18:44:37] * jensnock_ cries: ld, y u no find symbols /o\
[18:44:39] <strcat> the only thing more convenient than moves being the default would be having Clone as a language feature and doing implicit clones, but then there would be a lot of accidental clones
[18:44:53] <strcat> as in the old way
[18:44:55] <jensnock_> It finds the other symbols in that library!
[18:45:10] <strcat> that horrible last use stuff but without bugs and overloadable copying ;p
[18:45:12] <eddyb> strcat: I think we're doing too much clones already
[18:45:19] <strcat> well I like it how it is
[18:45:28] <strcat> just mentioning that a language caring less about performance could do that
[18:45:31] <eddyb> but the linear semantics are nice, yeah
[18:45:55] <strcat> like, foo(x); bar(x);
[18:45:59] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[18:46:00] <eddyb> last use magic would be nice for cheap wrappers, like Rc<T>
[18:46:01] <strcat> where `x` is a type that's not Pod
[18:46:23] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:46:25] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[18:46:25] *** Joins: jroweboy (Mibbit@moz-77F5D920.byu.edu)
[18:46:29] <strcat> eddyb: slippery slope ;P
[18:46:30] <o11c> I do think there are some types that deserve auto-clone
[18:46:37] <eddyb> but otherwise you can only clone, and that's a nono for accidents
[18:46:38] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:46:45] <pcwalton> fun fact: I learned that most of the optimizations around atomics and orderings and stuff in LLVM are there because of shared_ptr<>
[18:46:49] <pcwalton> and implicit copying
[18:46:49] <bstrie> o11c: we have tons of types that autoclone
[18:46:51] <jensnock_> Oh wait, it isn't the silly linker.
[18:47:03] <pcwalton> to eliminate atomic reference counts where possible
[18:47:06] <pcwalton> because they're so expensiev
[18:47:09] <pcwalton> expensive*
[18:47:10] <strcat> pcwalton: std::string in libstdc++ is the worst
[18:47:16] <strcat> pcwalton: it has a lock.
[18:47:32] <strcat> since they do COW
[18:47:36] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:47:59] <eddyb> strcat: C++ feels so silly now, with no thread-safety semantics
[18:48:05] <eddyb> then again, it's old
[18:48:12] <strcat> it didn't have threads until 2011
[18:48:18] <eddyb> Send <3
[18:48:18] <pcwalton> strcat: couldn't it use an atomic ref count and check if the ref count == 1?
[18:48:21] <strcat> there were only platform-specific threading APIs
[18:48:30] <pcwalton> that's what I did in CowArc
[18:48:36] <pcwalton> which is used for style sharing in servo
[18:48:44] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[18:48:47] <strcat> pcwalton: well, looking at it atm, it only falls back to a lock
[18:48:51] <kimundi> bstrie: uhm, which types do you mean?
[18:48:52] <bstrie> does C++ predate the idea of threads
[18:48:58] <strcat> pcwalton: on weird platforms
[18:49:02] <pcwalton> ok
[18:49:04] <strcat> so nvm ;)
[18:49:07] <bstrie> kimundi: everything that's implicitly copyable?
[18:49:14] <pcwalton> and because modern x86 is so awesome with optimizing atomics it ends up being faster than Blink's non-atomic ref counting
[18:49:24] <kimundi> bstrie: thats not automatically calling clone :P
[18:49:27] <pcwalton> (for other reasons though)
[18:49:31] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[18:49:40] <bstrie> kimundi: I don't see what the difference is!
[18:49:42] <pcwalton> (I hope ARM doesn't hurt us though)
[18:49:51] <strcat> pcwalton: haswell is really good at optimizing locks too...
[18:49:58] <pcwalton> well, we don't need locks
[18:49:59] <kimundi> bstrie: clone == calling library code
[18:50:02] <pcwalton> for just COW
[18:50:08] <eddyb> Pod == memcpy
[18:50:09] <bstrie> kimundi: who even does that
[18:50:13] <strcat> pcwalton: but for other things we will
[18:50:22] <strcat> MutexArc, a concurrent hash table, etc.
[18:50:23] <kimundi> bstrie: who even what?
[18:50:28] <pcwalton> sure, Servo uses a few
[18:50:30] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:50:31] <pcwalton> not in critical paths atm
[18:50:38] <pcwalton> well, it does for the concurrent hash table
[18:50:40] <pcwalton> but I'm removing that
[18:50:50] <pcwalton> probably for the interning table we'll use a few
[18:50:51] <doomlord_> let mut foo:~[int]=~[];  foo.append_one(1) ... should that work ? 
[18:50:58] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:50:58] *** ChanServ sets mode: +ao brson brson
[18:51:14] <eddyb> doomlord_: that's just push
[18:51:29] <doomlord_> thanks
[18:51:35] <doomlord_> damn i had the wrong doc.
[18:51:43] <eddyb> append/append_one are nasty wrappers
[18:51:48] *** Joins: Lovot (root@moz-64ED673A.knology.net)
[18:51:50] <eddyb> used in unidiomatic librustc code :P
[18:52:09] * pcwalton loves the rust version of cave story https://github.com/drbawb/rust-story
[18:52:19] <bstrie> pcwalton: !!!
[18:52:26] <doomlord_> 'push' doesn't say back because its' just 'at the place the container is efficicent to push to' i guess
[18:52:33] <pcwalton> wondering if we should come up with an alias for Rc<RefCell<>>
[18:52:34] <cmr> pcwalton: you own mimiga.net don't you?
[18:52:36] <pcwalton> yes
[18:52:44] <eddyb> doomlord_: and because push_back is too long to be rusty
[18:52:49] <pcwalton> originally I didn't want Rc<RefCell<>> to be used much but it seems that it's inevitable
[18:52:57] <pcwalton> RcCell<> I guess
[18:53:09] <eddyb> Rc<Cell<T>> is also something one can do
[18:53:10] *** Joins: glaebhoerl_ (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[18:53:16] <pcwalton> yeah
[18:53:24] <eddyb> so RcMut makes slightly more sense as a name
[18:53:39] <pcwalton> in general try to use Cells first, LLVM is good at optimizing out copies of fields you don't need
[18:53:57] <pcwalton> I switched Servo over to using Cells for all the POD data and IIRC there was a speed improvement due to no borrow flags
[18:54:03] <eddyb> 0-cost <3
[18:54:12] <strcat> pcwalton: RefCell can be cheaper
[18:54:16] <strcat> it has a needless inefficiency
[18:54:24] <strcat> it asserts in the dtors of the RAII objects
[18:54:28] <strcat> which makes a lot of code
[18:54:40] <pcwalton> we need to audit asserts
[18:54:50] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[18:54:56] <pcwalton> switch libstd asserts to off-by-default except for the ones needed for memory safety
[18:55:01] <pcwalton> same in servo
[18:55:14] <Ms2ger> What? Why?
[18:55:37] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:55:50] <bstrie> weren't "on by default" asserts going to be named `enforce!` or something?
[18:56:02] * strcat suggested that
[18:56:09] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:56:10] <bstrie> maybe... `ensure!` or `invariant!` :P
[18:56:10] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[18:56:10] <cmr> it's what makes sense to me.
[18:56:11] <strcat> it wasn't agreed upon
[18:56:16] <strcat> I just opened a request for it
[18:56:23] <strcat> I forget if anyone even replied
[18:56:24] <bstrie> it's a good term
[18:56:27] <bstrie> +1
[18:56:32] <cmr> strcat: it was discussed in the most recent meeting.
[18:56:56] <SiegeLord> You just shouldn't have too many asserts
[18:57:15] <cmr> I don't think that's the solution...
[18:57:17] *** Quits: jroweboy (Mibbit@moz-77F5D920.byu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[18:57:21] <SiegeLord> I'd rather there be a compiler switch to switch asserts to some lightweight failure vs the heavy failure it is now
[18:57:23] <pcwalton> it was in the most recent meeting, we agreed on enforce! iirc
[18:57:41] <strcat> SiegeLord: it still hurts a lot in some places
[18:57:46] <pcwalton> I think if there isn't a mode to make asserts zero-cost then people just won't write asserts
[18:57:52] <pcwalton> I know I don't write them in Servo
[18:57:53] <bstrie> agreed
[18:57:54] <pcwalton> just because I count every cycle
[18:58:02] <Ms2ger> pcwalton--
[18:58:02] <pcwalton> it's human nature :\
[18:58:38] <eddyb> Rust deserves an IDE in which you can select a piece of code to get algorithmic complexity
[18:58:43] <strcat> throwing hurts more than aborting but only in terms of code size (unused code that's not in the main path) and because it makes stuff impure
[18:58:46] <eddyb> *measured in CPU cycles for a certain architecture*
[18:58:53] <SiegeLord> I don't want people to suggest disabling asserts to get fast Rust code
[18:59:03] <SiegeLord> That defeats the whole story
[18:59:13] <strcat> they are debugging asserts
[18:59:15] <pcwalton> you just need multiple kinds of asserts
[18:59:21] <pcwalton> enforced-asserts, warning asserts, debug asserts
[18:59:39] <Ms2ger> You need a way to turn them off
[18:59:39] <pcwalton> roc's POV, which I tend to agree with, is that layout code in Servo, for example, should never really have enforced asserts
[18:59:40] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[18:59:45] <pcwalton> the worst that can happen is that a box is in the wrong place
[18:59:53] <pcwalton> people often don't even notice
[18:59:56] <pcwalton> compared to the tab crashing
[18:59:56] <Ms2ger> roc is a smart guy, but he's wrong on assertions
[19:00:19] <strcat> I can tell you that I just take out the asserts before I submit a PR
[19:00:19] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:00:22] <Ms2ger> An warning assert is a no-op
[19:00:28] <Ms2ger> A*
[19:00:34] <pcwalton> Ms2ger: well, they can crash in debug mode
[19:00:37] <pcwalton> and on the bots
[19:00:38] <strcat> if I write a data structure and use asserts, I'll strip them out
[19:00:40] <pcwalton> during layout tests
[19:00:51] <strcat> I would rather leave them in as debug asserts not on by default
[19:00:59] <strcat> but I won't leave them in if they're hurting perf by 20-30%...
[19:01:00] <Ms2ger> Then I'm not sure what you mean by debug asserts?
[19:01:10] <cmr> Ms2ger: debug asserts, disabled in release builds.
[19:01:11] <pcwalton> I just mean asserts that are always on, even in release
[19:01:22] <strcat> Ms2ger: debug assert as in they are useless if the code they're part of is correct
[19:01:26] <Ms2ger> No, that's warning asserts?
[19:01:31] <strcat> Ms2ger: an assert on a precondition is different
[19:01:49] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[19:01:54] <Ms2ger> I see two kinds of assertions:
[19:02:02] <pcwalton> I think of a warning assert as an assert that won't bounce your change on the bots, but just prints out a warning message
[19:02:02] <strcat> binary search could have an assert checking if the array is sorted for example, but there's *no way* you want that on in a release build or even a normal debug build
[19:02:06] <pcwalton> I don't like those
[19:02:09] <strcat> people use assert levels for this
[19:02:16] <Ms2ger> * checks that should always be on: always turn them on
[19:02:27] *** Joins: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP)
[19:02:31] *** Quits: robitex (Mibbit@moz-85B75DF6.libero.it) (Quit: http://www.mibbit.com ajax IRC Client)
[19:02:37] <Ms2ger> Actually, dunno if those exist
[19:02:39] <o11c> Ms2ger: IMO, should not be called assert
[19:02:44] <Ms2ger> Agreed
[19:02:46] <strcat> Ms2ger: they do, but assert isn't a good word
[19:02:48] <o11c> and I think that's the enforce! thing
[19:02:50] <Ms2ger> That's what we call MOZ_CRASH
[19:02:54] <Ms2ger> in Gecko
[19:03:07] <Ms2ger> And then there's assertions, which are on in debug builds
[19:03:31] *** Quits: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP) (Ping timeout)
[19:03:37] <Ms2ger> And should be task failures in rust, I guess
[19:03:42] <o11c> Ms2ger: which is of 2 types, expensive and cheap
[19:03:44] <strcat> I don't think they should be
[19:03:46] <strcat> but that's another story
[19:03:47] <o11c> or, safe and unsafe
[19:03:54] <strcat> task failure is something you can recover from
[19:03:57] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:04:05] <strcat> if the assert isn't there in a release build, it shouldn't be possible to recover in a debug build
[19:04:09] <strcat> that's a difference in behavior
[19:04:13] <o11c> the only time you should EVER recover from an assert is during unit tests
[19:04:13] <Ms2ger> I could probably be convinced of that
[19:04:26] <Ms2ger> You should never hit an assert in unit tests
[19:04:32] <o11c> and I actually think the fork model is the best tehre
[19:04:52] <o11c> Ms2ger: should never, but if you *do*, you want to keep going and produce a summary
[19:05:16] <cmr> Ms2ger: #[should_fail] ?
[19:05:17] *** Joins: manuels (Mibbit@moz-74DE4D28.unity-media.net)
[19:05:48] <manuels> hi, is it possible to use Select on a SyncPort instead of a "usual" Port?
[19:05:54] <Ms2ger> No, an assertion checks an invariant in your code
[19:06:03] *** Quits: rocode (rocode@moz-398826F7.clsp.qwest.net) (Quit: Leaving)
[19:06:05] <Ms2ger> If the invariant isn't invariant, it's a lie, not an assertion
[19:06:08] <cmr> and the test is ensuring failure when that happens.
[19:06:17] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:06:20] <cmr> surely you write negative tests?
[19:06:43] <Ms2ger> It can't happen, it's an invariant
[19:07:01] <cmr> that's a very idylistic view of software development!
[19:07:10] <Ms2ger> Well, sure
[19:07:10] *** Joins: SingingBoyo (brandon@moz-87AC389B.ubcsecure.wireless.ubc.ca)
[19:07:11] <cmr> I'm more thinking preconditions here though
[19:07:25] <cmr> when I feed invalid input, I want to make sure it actually dies...
[19:07:26] *** Joins: skade (skade@moz-C4F7242D.dip0.t-ipconnect.de)
[19:07:30] *** Quits: mye (mye@moz-8FF56B69.dip0.t-ipconnect.de) (Quit: mye)
[19:07:33] <Ms2ger> Mm, I guess
[19:07:53] *** Quits: Kruppe (user@moz-8F107F80.dynamic.uwaterloo.ca) (Ping timeout)
[19:07:54] <Ms2ger> Working on Servo, though, I need to handle all invalid input from the web page *without* dieing
[19:07:58] <Ms2ger> dying?
[19:08:03] * cmr doesn't know
[19:08:08] * cmr doesn't english
[19:08:13] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:08:31] <cmr> (I would think dying to be saturating a fiber with a colored fluid, but who knows)
[19:08:41] <Ms2ger> http://en.wiktionary.org/wiki/dieing
[19:09:04] *** Quits: SingingBoyo (brandon@moz-87AC389B.ubcsecure.wireless.ubc.ca) (Ping timeout)
[19:09:18] <Ms2ger> But xchat claimed to know it <.<
[19:09:32] *** Joins: alkino (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr)
[19:09:40] <strcat> Ms2ger: ugh, xchat! go replace it with hexchat, the non-dead project ;p
[19:10:02] <Ms2ger> To be fair, I don't think it does its own spelling
[19:10:12] <o11c> cmr: that's dyeing
[19:10:29] <o11c> English is weird
[19:10:34] <Ms2ger> No kidding
[19:10:55] <o11c> and yet, as much as we hate it, all that crazy stuff is the reason people use it
[19:10:57] *** Quits: vodik (simon@moz-452D1342.dynamic.uwaterloo.ca) (Quit: class)
[19:10:58] <Ms2ger> Did you ever see that poem with all the same-looking different-sounding words?
[19:11:04] <o11c> adaptability is what wins at the end
[19:11:07] *** Joins: Savago (Savago@C48DFEFF.E820043D.D4C04133.IP)
[19:11:38] *** Joins: jroweboy (Mibbit@moz-405814B3.byu.edu)
[19:11:39] <cmr> I know a Chris who sometimes writes his name as Sjrct, and claims it can be pronounces the same.
[19:11:54] *** Joins: heftig (heftig@moz-566B240C.dip0.t-ipconnect.de)
[19:12:39] <SiegeLord> Sounds ghotish
[19:12:40] <Ms2ger> ... How does he pronounce "Chris"?
[19:12:58] <SiegeLord> *ghotiy
[19:14:03] <Ms2ger> http://pauillac.inria.fr/~xleroy/stuff/english-pronunciation.html
[19:14:14] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[19:14:16] <jroweboy> Quick question (I hope!) How do I store a mutable struct A inside another struct B? Currently B has an owned A inside it, but Rust says its immutable and won't let me let mut x = &mut B.A
[19:14:56] <tjc> jroweboy: the inner struct is mutable if and only if the outer one is
[19:15:52] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[19:17:04] *** Joins: japaric (japaric@78791742.A23A5F6C.E5B504CC.IP)
[19:18:12] *** Quits: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:18:21] *** Joins: sinistersnare (Mibbit@moz-7E48AC93.washdc.fios.verizon.net)
[19:18:25] *** Joins: Florob (Florob@moz-39532932.de)
[19:18:43] <jroweboy> Ahh so I need to make the outer one mutable. How exactly do you make a struct mutable then?
[19:18:53] <sinistersnare> hey is it a thing to have strings with two ampersands? for example in this page? http://static.rust-lang.org/doc/master/collections/hashmap/index.html with the line """book_reviews.remove(& &"The Adventures of Sherlock Holmes");"""
[19:18:57] <Ms2ger> let mut foo = ...
[19:19:00] <sinistersnare> im new to rust
[19:19:06] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[19:19:14] <Ms2ger> sinistersnare, that makes it a pointer to a slice (& &str)
[19:19:31] <strcat> &"foo" is the same thing as "foo", I consider it a bug
[19:19:48] <sinistersnare> ok, becuase when i read it i thought it was a pointer to a pointer to a string
[19:19:55] <sinistersnare> so a &str is a special type?
[19:19:58] <strcat> yes
[19:20:06] <strcat> but &"foo" and "foo" have the same type
[19:20:22] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[19:20:28] <strcat> &("foo") and & &"foo" are the same thing
[19:20:30] <sinistersnare> so if the docs were edited to remove one of the ampersands nothing would change?
[19:20:34] <jroweboy> Ms2ger: hmm.. well thats what I thought, but how does that work in the case of my constructor where I return a B{a: A} can I set the return type to be &mut B or something?
[19:20:35] *** Joins: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr)
[19:20:37] *** Quits: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr) (Max SendQ exceeded)
[19:20:39] <sinistersnare> ummm
[19:20:45] <strcat> sinistersnare: &("foo") and & &"foo" are & &str
[19:20:51] <strcat> "foo" and &"foo" are &str
[19:20:54] <Ms2ger> jroweboy, no, the caller can do that
[19:20:59] *** Joins: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr)
[19:20:59] <strcat> again, I consider it a bug that &"foo" is &str and not & &str
[19:21:17] <sinistersnare> whats the point of & &"foo" (or &("foo))
[19:21:22] *** Quits: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr) (Quit: Textual IRC Client: www.textualapp.com)
[19:21:25] *** Quits: manuels (Mibbit@moz-74DE4D28.unity-media.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:21:25] <sinistersnare> oh ok
[19:21:27] *** Joins: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr)
[19:21:33] <sinistersnare> but whats the point of slices?
[19:21:47] <cmr> sinistersnare: non-owning views into memory.
[19:21:51] <strcat> they're a view of an array/string
[19:21:55] <jroweboy> Ms2ger I think I see what you mean! Thanks a bunch!
[19:22:02] <Ms2ger> Np
[19:22:14] *** Quits: jroweboy (Mibbit@moz-405814B3.byu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[19:22:17] <strcat> it's only using an extra & due to the signature of the hashmap method
[19:22:18] *** Quits: epdtry (stuart@moz-C31FC981.hsd1.wa.comcast.net) (Ping timeout)
[19:22:24] <sinistersnare> so you guys are just giving a reference to a type a special name?
[19:22:34] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[19:22:35] <strcat> sinistersnare: str isn't a type
[19:22:35] <eddyb> str is not a type (yet)
[19:22:43] <strcat> sinistersnare: &str is (ptr, len)
[19:22:47] <strcat> it's not a ptr
[19:23:06] <eddyb> (&[T] and &Trait are also "fat pointers")
[19:23:16] <sinistersnare> ok.... 
[19:23:34] <sinistersnare> so string is not a type
[19:23:44] <kmc> &str can represent any contiguous substring of a string as allocated
[19:23:45] <sinistersnare> so slices are used so that way we can have references to them?
[19:23:56] <strcat> &str is a string
[19:23:59] <kmc> sinistersnare: right, all types in Rust at the moment have a fixed size known at compile time
[19:24:04] <kmc> strings don't
[19:24:07] *** Quits: tgkokk (tgkokk@moz-5D7854D7.home.otenet.gr) (Quit: Textual IRC Client: www.textualapp.com)
[19:24:19] <sinistersnare> arent strings immutable?
[19:24:21] <strcat> there's no actual 'str' type atm, and if there was you'd need &str to use it anyway
[19:24:24] <sinistersnare> oh theyre not types
[19:24:28] <strcat> sinistersnare: &str is immutable, ~str isn't
[19:24:32] <kmc> so "reference to substring w/ length" is a type (&str), and "pointer to heap-allocated string" is a type (~str), but str itself isn't
[19:24:53] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[19:25:02] <strcat> sinistersnare: the only reason &mut str doesn't exist is because it wouldn't really be useful
[19:25:04] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[19:25:48] <strcat> mutating a unicode string can require resizing it
[19:26:03] <strcat> even to set one char
[19:26:09] <sinistersnare> it just seems weird because when you have arbitrary types, & is a borrowed reference, and ~ is an owned reference, but ~[] is an unsized array, and ~/&str mean diff things
[19:26:17] <sinistersnare> strcat: good point
[19:26:33] *** Joins: till (till@moz-E0853D96.superkabel.de)
[19:26:43] <strcat> sinistersnare: ~[T] is being replaced by Vec<T>
[19:26:57] <sinistersnare> i heard, so is it true that there are 'special cases' like this?
[19:27:05] <strcat> atm, yes
[19:27:06] <sinistersnare> or am i thinking about it wrong
[19:27:15] <sinistersnare> ok thats fine or whatever, just making sure
[19:27:19] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:27:24] <strcat> they are special cases in the parser
[19:27:36] <mindslight> speaking of vectors/slice, is a ~[u8] always (in the current implementation) just a transmuted raw::Vec and &[u8] always a transmuted raw::Slice ?
[19:27:37] <strcat> as in &, &mut and ~ are reused for something else
[19:27:47] <strcat> mindslight: no
[19:27:47] <sinistersnare> are yall trying to remove them?
[19:28:01] <strcat> mindslight: ~[T] and Vec<T> have a different representation
[19:28:16] <strcat> unless you mean a different Vec type
[19:28:22] <strcat> oh, you do
[19:28:23] <eddyb> raw::Vec
[19:28:24] <sinistersnare> so is ~[T] a thing now? or is it stlll a special case?
[19:28:32] <mindslight> hrm. does what i said at least apply to &[u8], since that's where i think i got the idea ?
[19:28:32] <eddyb> the representation stuff
[19:28:35] <strcat> sinistersnare: well, what do you mean by special case?
[19:28:42] <strcat> sinistersnare: [T] isn't a type, str isn't a type
[19:28:51] <sinistersnare> so ~[T] is a special case for an unsized array?
[19:29:01] <strcat> sinistersnare: I don't know what you mean by special case
[19:29:10] <sinistersnare> ok, maybe ive been thinking like Java, where [T] would be typed array of T
[19:29:28] <strcat> sinistersnare: [T, ..n] is an array
[19:29:33] <eddyb> Java only has GC pointers
[19:29:37] <eddyb> and a few primitives
[19:29:47] *** Quits: Rusky (russell@moz-C0CD0CF0.slkc.qwest.net) (Quit: Leaving.)
[19:29:50] <sinistersnare> in my mind, ~[T] is an owned box to an array of T. but ~[T] is unsized too
[19:29:50] <eddyb> Gc<[T]> would be an equivalent to what Java has :P
[19:29:50] <mindslight> sinistersnare: keep in mind that in java, [T] is a *reference* to a typed array of T
[19:30:00] <strcat> sinistersnare: it's not an owned box
[19:30:04] <sinistersnare> is ~T 'unsized'? or am i completely stupid..?
[19:30:09] *** Joins: epdtry (stuart@moz-C31FC981.hsd1.wa.comcast.net)
[19:30:14] <strcat> sinistersnare: you're missing that [T] isn't a type
[19:30:17] <strcat> ~[T] isn't ~T
[19:30:24] <sinistersnare> im hearing it, but it still sounds weird
[19:30:35] <strcat> ~T is pointer-size, no type in rust is unsized
[19:30:36] <sinistersnare> strcat: how can i read ~[T] out loud?
[19:30:42] <strcat> vector
[19:30:44] <eddyb> ~[T] isn't unsized, it's an owned pointer to something unsized (under DST, that is, where [T] is an unsized type. it currently isn't a type)
[19:31:14] <strcat> &[T] is a slice, ~[T] is a vector (being replaced by Vec<T>)
[19:31:30] <strcat> [T, ..n] is an array, or if you want to say something longer 'fixed-size array'
[19:31:45] *** Joins: Rusky (russell@moz-C0CD0CF0.slkc.qwest.net)
[19:31:52] * jensnock_ whistles the Final Fantasy victory tune: Got a semi-automagically wrapped version of clutter working on OS X.
[19:32:00] <sinistersnare> is [T] the same as [T, ..n]?
[19:32:09] <strcat> sinistersnare: [T] isn't a type
[19:32:11] <strcat> [T, ..n] is
[19:32:26] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[19:32:30] <sinistersnare> ok
[19:32:30] <eddyb> under DST, [T] is an "erased" version of [T, ..N], but the entire story is quite complicated
[19:32:32] <strcat> sinistersnare: [T] is not a 'thing' in rust, it's just part of the syntax for vectors/slices
[19:32:42] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[19:32:53] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[19:32:57] <eddyb> &[T, ..N] => &[T] (N gets stored as the dynamic length)
[19:32:59] <strcat> eddyb: it's not clear to newcomers what 'DST' is and that it doesn't exist yet ;p
[19:33:02] <sinistersnare> ok [T] is not a thing
[19:33:04] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[19:33:05] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[19:33:11] <till> Is there any working documentation (the examples actually compile) for macros?
[19:33:14] <sinistersnare> and yes, dont know what DST is
[19:33:14] <edwardw> The Periodic Table of Rust Types http://cosmic.mearie.org/2014/01/periodic-table-of-rust-types/
[19:33:21] *** till is now known as flan30032
[19:33:25] *** flan30032 is now known as flan3002
[19:34:15] <sinistersnare> ok another stupid question, whats the difference between &[T] and ~[T]? just the safety guarantees as in reference/owned? 
[19:34:53] <cmr> flan3002: does the macro guide not have working examples?
[19:34:58] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[19:35:22] <eddyb> strcat: one of my pet peeves is when people don't ask follow-up questions - like "what's this DST thing you keep talking about?" (no offense sinistersnare) - I can't read minds :P
[19:35:38] <sinistersnare> oh random comment: from the mibbit client: there is a link to the wiki after "conduct:" and it doesnt link correctly from there, becaus ethe #conduct fragment isnt read correctly
[19:35:41] <flan3002> cmr: There is a macro guide?
[19:35:48] <strcat> sinistersnare: ~[T] is a dynamic array, inheriting mutability
[19:35:51] <kimundi> sinistersnare: conceptually they are the same as reference/owned
[19:35:53] <cmr> flan3002: http://static.rust-lang.org/doc/master/index.html
[19:35:53] <strcat> sinistersnare: aka a vector
[19:35:53] *** Quits: skade (skade@moz-C4F7242D.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:35:55] <sinistersnare> eddyb: sorry, didnt want to ask a billion questions at once
[19:36:02] <strcat> kimundi: they're not actually, yet
[19:36:06] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[19:36:06] <eddyb> (it only bugs me because I become even worse of a teacher/helper without follow-up questions :P)
[19:36:10] <strcat> kimundi: the new ~[T] will be
[19:36:14] <strcat> but it's not around yet
[19:36:23] <strcat> the current ~[T] and &[T] are totally distinct types
[19:36:36] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[19:36:44] <kimundi> strcat: thats why I said 'conceptually' :) - a &[T] borrows exactly like a &T
[19:36:59] <sinistersnare> eddyb: understand, sorry!
[19:37:03] <strcat> well, conceptually, the new ~[T] will be a slice
[19:37:04] <eddyb> dw
[19:37:07] <strcat> but the current one is not
[19:37:22] <flan3002> cmr: Hm, I should have found that one myself... Sorry about that.
[19:37:24] <strcat> where 'slice' means view of memory, that you are unable to resize
[19:37:33] <strcat> (ptr, len)
[19:37:50] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:37:57] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Quit: esummers)
[19:38:02] *** Joins: esummers (textual@moz-3B015C90.wi.res.rr.com)
[19:38:05] <eddyb> sinistersnare: fyi, this is the latest post on DST (though it might be too technical to digest) http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[19:38:44] <eddyb> the most important part IMO is that it allows you have Rc<[T]>, Rc<str> etc. without an extra indirection
[19:39:01] <kimundi> strcat: yeah, sure, from an implementation and capability standpoint there are differences atm. But if you just reduce it to "ownership semantic", ~T/~[T] and &T/&[T] are already the same, or not?
[19:39:07] <sinistersnare> ok dynamically sized types. so, is ~[T] different than ~T other than the fact that the vector holds multiple T's?
[19:39:18] <strcat> kimundi: from an ownership semantic, T, ~T and ~[T] are the same, yes
[19:39:30] <kimundi> sinistersnare: ^ this the answer you wanted?
[19:39:32] <strcat> s/semantic/perspective/
[19:39:36] <sinistersnare> good timing
[19:39:44] *** Quits: dranov (dranov@4D27A4F1.DCDEFE79.FB866788.IP) (Ping timeout)
[19:39:49] <sinistersnare> so the ownership things are the same
[19:39:55] <kimundi> strcat: thanks :)
[19:40:12] <strcat> T, ~T, ~[T] -> you own the T
[19:40:19] <kimundi> yup
[19:40:19] <strcat> &T, &mut T -> you have a non-owning view
[19:40:28] <sinistersnare> it just didnt seem intuitive that adding the ~ to the [] makes it resizable
[19:40:31] <strcat> (and &mut [T], &[T] -> non-owning view)
[19:40:39] <sinistersnare> but it makes sense now that you said its parsed especially
[19:40:50] <strcat> sinistersnare: for example ~[1, 2, 3] is ~[T]
[19:40:54] <strcat> ~([1, 2, 3]) is not
[19:41:08] <strcat> it's [int, ..3] inside ~, so ~[int, ..3]
[19:41:15] * kimundi is glad that we finally started transitioning away from it
[19:41:18] <sinistersnare> yes makes sense
[19:41:31] <strcat> sinistersnare: ~[T] will be replaced by Vec<T> in the near future
[19:41:43] <strcat> atm it's std::vec_ng::Vec
[19:41:50] <sinistersnare> i thought that ~[1,2,3] was ~[int, ..3]
[19:41:52] <o11c> strcat: someone was asking how to get a ~[int, ..3] earlier ...
[19:42:10] <sinistersnare> is there some way to make it that in the future (like how java does it ;) )
[19:42:28] <cmr> ~([1, 2, 3])
[19:42:44] <sinistersnare> the parens just seem unneccessary, and the tilde for an unsized seems 
[19:42:46] <o11c> ......
[19:42:47] <sinistersnare> 'arbitrary'?
[19:43:31] <sinistersnare> unncessary in the sense that ~[1,2,3] seems like it should be ~([1,2,3]) not ~[T]
[19:43:40] <mcpherrin> The parens are notation to distinguish current ~[T] from future ~([T])
[19:43:49] <sinistersnare> completely understand
[19:44:05] <cmr> sinistersnare: vectors are far, far more useful than pointers to fixed-sized slices.
[19:44:14] <sinistersnare> but i think that the current syntax for an owned sized array should be the current syntax for a unsized array
[19:44:19] <sinistersnare> cmr: true ok
[19:44:36] <sinistersnare> but yall are making Vec<T> though right?
[19:44:41] <cmr> it already exists.
[19:44:47] <sinistersnare> i mean transitioning
[19:44:51] <cmr> yes
[19:45:09] <sinistersnare> so is it unliked to change the ~ syntax?
[19:45:38] <kimundi> sinistersnare: in the future, ~[1, 2, 3] will be of type ~[T, ..3] and be coercible to ~[T] - just like trait object today
[19:45:46] <sinistersnare> kimundi: thanks so much :)
[19:46:49] *** Quits: petantik (oz@moz-20EC2160.net) (Quit: WeeChat 0.4.3)
[19:47:31] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[19:47:36] <sinistersnare> another statement, https://github.com/mozilla/rust/issues/11811 how do yall feel about my proposed syntax for this?
[19:47:53] <sinistersnare> (ive been interested in rust for a while, but havent really ever involved myself or used it)
[19:47:54] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:48:35] *** Quits: rylev_ (rylev@moz-BF3E8E09.cust.telecolumbus.net) (Client exited)
[19:48:56] *** Joins: rylev (rylev@moz-BF3E8E09.cust.telecolumbus.net)
[19:49:10] <kimundi> sinistersnare: well, let me put it this way: bigger changes to syntax or semantic of the language itself will need to have a very good reason to go through
[19:49:21] *** Joins: petantik (oz@moz-20EC2160.net)
[19:49:35] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[19:49:40] <sinistersnare> good point, but i think this could remove a lot of unnecessary lines, a la java import problems...
[19:49:47] *** Joins: mye (mye@moz-8FF56B69.dip0.t-ipconnect.de)
[19:50:04] *** Joins: adwhit (Mibbit@87D98E32.4046EB22.428F94DD.IP)
[19:50:36] *** Quits: rylev (rylev@moz-BF3E8E09.cust.telecolumbus.net) (Ping timeout)
[19:50:56] <cmr> sinistersnare: I'm 100% for it.
[19:51:05] <cmr> we already do it with use, there's no reason not to for extern crate.
[19:51:18] <sfackler> what's going on with extern crate?
[19:51:19] <cmr> sinistersnare: you should open a separate issue for it.
[19:51:21] <sinistersnare> cmr: that was my exact thought
[19:51:24] <doomlord_> the linking only goes on in the project root, right
[19:51:26] * sfackler lost all his scrollback
[19:51:26] <cmr> sfackler: proposal: extern crate {foo, bar, baz};
[19:51:28] <sinistersnare> ok ill make sure to :)
[19:51:39] <sinistersnare> extern crate* not mod!
[19:51:48] <cmr> yeah syntax changed last week.
[19:51:49] *** Joins: aphistic (aphistic@moz-D08A46AA.erikd.org)
[19:52:12] *** Quits: esummers (textual@moz-3B015C90.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[19:52:18] <sfackler> how would it work with extern crate foo = "bar"? extern crate {foo = "bar", baz = "blah"}?
[19:52:21] <sinistersnare> how does "Allow multiple crates to be included in a single statment" as a title?
[19:52:33] <cmr> sinistersnare: it's fine
[19:52:43] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[19:52:46] <doomlord_> i wish Github allowed voting on  issues
[19:53:09] <kimundi> sinistersnare: Ah, I though you where the issue poster there - extern mod {A, B, C}; seems like a useful sugar to have, and doesn't change any of the module systems semantics
[19:53:30] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:53:53] *** Joins: rylev (rylev@moz-BF3E8E09.cust.telecolumbus.net)
[19:54:37] *** Joins: mawuli (mawuli@moz-36C70B7D.com.gh)
[19:54:48] <adwhit> Hi all, got a question: is it possible to swap two values like : (arr2, arr1) = (arr1, arr2)? Compiler is giving me "illegal left-hand side expression"
[19:55:08] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[19:55:14] <cmr> adwhit: `let (arr2, arr1) = (arr1, arr2);`
[19:55:18] <kimundi> adwhit: not with that syntax
[19:55:25] <kimundi> cmr: that doesn't swap, that rebinds
[19:55:26] <cmr> adwhit: all it does it change which names refer to what, though.
[19:55:27] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:55:33] *** Quits: rylev (rylev@moz-BF3E8E09.cust.telecolumbus.net) (Ping timeout)
[19:55:44] <eddyb> should fix LHS assignment patterns *sigh*
[19:55:52] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[19:55:57] <kimundi> adwhit:try mem::swap(&mut arr1, &mut arr2);
[19:56:02] *** Quits: Savago (Savago@C48DFEFF.E820043D.D4C04133.IP) (Quit: Savago)
[19:56:15] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[19:56:16] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:56:32] <sinistersnare> have to go for a few, will definitely open up issue, thanks kimundi and cmr and everyone <3 :)
[19:56:36] *** Parts: sinistersnare (Mibbit@moz-7E48AC93.washdc.fios.verizon.net) ()
[19:57:00] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[19:57:09] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[19:57:13] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[19:57:47] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[19:57:54] <adwhit> cmr: yeah I just want to rename them
[19:58:02] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[19:58:11] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[19:58:21] <flan3002> Is there a proposal/issue for syntactic sugar for anonymous functions? I do not mean closures, but functions declared inline like "|x| x*2". Those do not "close" over other variables.
[19:58:21] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[19:58:50] <eddyb> flan3002: there's two ways to fix that situation
[19:59:00] <eddyb> either produce fn instead of || when there's no captures
[19:59:27] <eddyb> or make it have a 'static ||:Send+Pod+Freeze type, and actually treat that like a Pod
[19:59:48] <kimundi> flan3002: there are plans for unboxed closures/fn traits which would shake up the situation enough for something like that to either fall out of the rules, or needing to be reevaluated with the new situation
[19:59:50] <strcat> unboxed closures will fix this
[19:59:57] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[20:00:02] *** Joins: esummers_ (textual@moz-3B015C90.wi.res.rr.com)
[20:00:15] <flan3002> It would need to be 'returnable' and callable multiple times...
[20:00:17] <adwhit> ok so the full problem is: I have a function which takes two mutable arrays, modifies them and then returns them. The signature I have is : fn step(arr1 : &mut[f64], arr2: &mut[f64]) -> (&mut[f64], &mut[f64])
[20:00:39] <Ms2ger> Why return them?
[20:00:48] *** Quits: esummers_ (textual@moz-3B015C90.wi.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[20:01:09] <adwhit> well I don't really need to return them
[20:01:19] <adwhit> but either way I get errors
[20:01:56] <Ms2ger> And you couldn't return them, because that would imply two mutable borrows of the same array, which isn't allowed :)
[20:02:23] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[20:02:42] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[20:03:10] <adwhit> right...
[20:03:27] *** Joins: aeqwa (aeqwa@moz-47514F47.dsl.tropolys.de)
[20:03:28] <Ms2ger> So what is the issue when you don't return them?
[20:03:36] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[20:03:53] <adwhit> If I try step(arr1, arr2);  let (arr1, arr2) = (arr2, arr1), I get..
[20:03:59] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:04:10] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[20:04:11] <adwhit> use of moved value
[20:04:29] <Ms2ger> Pastebin / gist your entire code and the error?
[20:04:30] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[20:05:03] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[20:05:34] <aeqwa> Hello is it possible to compile rust code for atmega32(avr) or other microcontroller ?
[20:05:49] <cmr> aeqwa: not for AVR, since LLVM doesn't support it yet.
[20:06:00] <cmr> there's a fork that adds AVR support but it's not complete.
[20:06:16] <cmr> aeqwa: we support everything LLVM does though.
[20:06:32] <aeqwa> cmr: thank you :)
[20:06:42] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[20:07:00] <synackse> What is the difference between `int` and `c_int`?
[20:07:23] <edwardw> cmr: mind suggest something about LLVM to read?
[20:07:23] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Quit: esummers)
[20:07:24] <strcat> int is pointer-size, c_int is whatever C's int is (C says it's at least 16-bit, nothing else)
[20:07:35] <cmr> edwardw: such as?
[20:07:36] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[20:07:37] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:07:49] <adwhit> Ms2ger: here you go    https://gist.github.com/adwhit/9195960
[20:08:00] <edwardw> cmr: that's waht I'm asking about :)
[20:08:09] <edwardw> cmr: anything you deem worthy
[20:08:10] <cmr> edwardw: well what do you want to learn?
[20:08:15] <Ms2ger> synackse, rust int is C intptr_t
[20:08:16] <cmr> edwardw: http://llvm.org/
[20:08:21] <MP2E> wikipedia page on it, I suppose and main page then
[20:08:27] <MP2E> has a lot of good info about llvm
[20:08:27] <cmr> edwardw: lots of docs.
[20:08:47] <edwardw> cmr: ok I'll start from there then
[20:08:53] <mindslight> aeqwa: look at ARM Cortex M.. There's some skeleton projects out there for STM32, and I personally got some simple code running on a STMF4DISCOVERY board
[20:09:06] <MP2E> ooh neat
[20:09:19] <mindslight> aeqwa: definitely bigger chips than avr/pic, but still uCs
[20:09:28] <aeqwa> mindslight: nice 
[20:09:57] * Ms2ger looks at adwhit's code
[20:10:44] <adwhit> every time I think I understand rust, something else comes up ^_^
[20:10:59] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:11:04] <Ms2ger> Can you try taking out the let (arr1, arr2) = (arr2, arr1); line?
[20:11:14] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[20:11:18] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[20:11:20] <MP2E> heh o.O
[20:11:25] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[20:11:39] <adwhit> Ms2ger: then it compiles
[20:11:59] <Ms2ger> Okay
[20:12:16] <Ms2ger> I think there's a swap somewhere in the stdlib
[20:12:23] * Ms2ger looks at http://static.rust-lang.org/doc/master/std/index.html
[20:12:50] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[20:12:56] <Ms2ger> std::mem::swap(&mut arr1, &mut arr2), I think
[20:13:48] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Quit: Leaving...)
[20:14:04] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[20:15:05] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:15:05] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:15:40] <adwhit> Ms2ger: bah! t213.rs:14:43: 14:47 error: mismatched types: expected `&mut <generic #1300>` but found `~[f64]` (expected &-ptr but found vector)
[20:15:48] * Ms2ger blinks
[20:16:02] <drbawb> could any rusticians tell me if this patch would make `rust-story` more idiomatic? https://github.com/drbawb/rust-story/compare/exp;no-refcell
[20:16:21] <drbawb> it replaces Rc<RefCell<T>> with RWArc<T>
[20:16:41] <cmr> drbawb: it'd make it more correct.
[20:16:47] <drbawb> though to please the `rustc` I had to add a :Freeze+Send bound to the end of the trait the Arc wraps.
[20:17:00] <Ms2ger> adwhit, I've got nothing on that. Maybe cmr?
[20:17:02] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:17:10] <cmr> Oh, if it's not concurrent, it's fine.
[20:17:30] <cmr> adwhit: try .as_mut_slice()
[20:17:31] <strcat> drbawb: RWArc/MutexArc are for mutable data shared between tasks
[20:17:34] <strcat> drbawb: they use a lock
[20:17:51] <strcat> so you don't want to be using them in place of Rc if you don't need to
[20:18:04] <strcat> (they also use atomic reference counting, which is what Arc stands for)
[20:18:17] <drbawb> strcat: Currently this isn't shared between tasks, but I can imagine it being moved to a separate task in the near future.
[20:18:23] *** Quits: mye (mye@moz-8FF56B69.dip0.t-ipconnect.de) (Quit: mye)
[20:18:57] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[20:19:12] *** Joins: rylev (rylev@moz-BF3E8E09.cust.telecolumbus.net)
[20:19:16] <adwhit> um so now I have          std::mem::swap(arr2.as_mut_slice(), arr1.as_mut_slice());   ? It's giving 213.rs:14:28: 14:47 error: mismatched types: expected `&mut <generic #1300>` but found `&mut [f64]` (expected &-ptr but found vector)
[20:19:22] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:20:12] <kimundi> adwhit: do you want to swap the contetents of both mutable slices?
[20:20:16] <kimundi> contents*
[20:20:20] *** Quits: aeqwa (aeqwa@moz-47514F47.dsl.tropolys.de) (Quit: WeeChat 0.4.3)
[20:20:37] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[20:20:53] *** Quits: rylev (rylev@moz-BF3E8E09.cust.telecolumbus.net) (Ping timeout)
[20:21:06] <adwhit> i have a loop calling swap(arr1, arr2) repeatedly. Except I want it to call (arr1, arr2) then (arr2, arr1) then...
[20:21:12] <adwhit> I could do it differently
[20:21:22] <adwhit> sorry not swap
[20:21:31] <adwhit> calling step(arr1, arr2) repeatedly
[20:21:59] <kimundi> adwhit: so, you just want to alternate the order of the two arguments with which step() is called?
[20:22:24] *** Joins: Saj (Sajuuk@moz-840D0658.netvisao.pt)
[20:22:31] <adwhit> yeah. There are other ways to do it, I just thought reassigning the variables would be easiest
[20:23:07] <flan3002> Can macros execute actual code, or "just" modify rustcs AST?
[20:23:29] <SiegeLord> Procedural macros can do anything (although as input they get AST)
[20:23:38] <cmr> flan3002: macro_rules!-style macros are only syntactic transformation
[20:23:41] <kimundi> lt mut arr1 = ...; let mut arr2 = ...; loop { step(arr1, arr2); swap(&mut arr1, &mut arr2) }
[20:23:45] <kimundi> adwhit: ^
[20:23:47] <cmr> SiegeLord: they get tokens as input, the *output* is AST
[20:23:51] <kimundi> something liek that
[20:24:04] <SiegeLord> cmr: Just a sequence of tokens?
[20:24:14] <flan3002> How does include! work then?
[20:24:15] <cmr> SiegeLord: a tree of tokens.
[20:24:23] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[20:24:41] <SiegeLord> Well, it's still about the same amount of information... but fair enough
[20:24:55] <flan3002> SiegeLord: Procedural macros?
[20:24:57] <cmr> sure, but it's more raw...
[20:25:06] <cmr> can do more with it
[20:25:14] <cmr> instead of having to unparse ast, or have the input be valid rust.
[20:25:16] <adwhit> kimundi: ah, that's done it!
[20:25:58] *** Quits: tjc (tjc@moz-791C24B0.phlapa.east.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:26:01] <adwhit> kimundi: although I confess I don't know why that worked
[20:26:40] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[20:26:50] <kimundi> flan3002: there are two kinds of macros: declarative macros, where you use a special pattern matching language to "declare" how the macro should transform code. And procedural macros, where you basically write Rust code that transforms and emits Rust code
[20:27:04] <kimundi> adwhit: which part confuses you?
[20:27:53] <flan3002> kimundi: Is there any example of a procedural macro?
[20:28:04] <flan3002> I guess include! is one?
[20:28:32] <cmr> flan3002: there are lots. see src/libsyntax/ext
[20:28:35] <kimundi> flan3002: a simple one is the bytes!() macro
[20:28:46] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:28:58] *** Joins: earlzlap (earlz@moz-624AA15F.lightspeed.tulsok.sbcglobal.net)
[20:29:03] <kimundi> flan3002: https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/bytes.rs
[20:29:14] <kimundi> source of the bytes! macro
[20:30:16] *** Joins: lunaryorn (lunaryorn@moz-CC0A5963.dynamic.mnet-online.de)
[20:30:17] <flan3002> And where is the name defined? It can't be implicit by the filename...
[20:31:23] <adwhit> kimundi: what is the difference between passing &mut arr and arr.as_mut_slice()?
[20:31:40] <Ms2ger> Former is &mut ~[T], latter is &mut [T]
[20:31:42] <sfackler> flan3002: https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/base.rs#L178
[20:31:51] <kimundi> flan3002: its hardcoded in a module somewhere - these are procedural macros from a time where they weren't user definable
[20:32:12] <strcat> adwhit: &mut ~[T] is a reference to a dynamic array you can call push/pop/etc. on
[20:32:31] <strcat> if the function doesn't need that, taking &mut [T] is a lot more generic
[20:32:49] <flan3002> sfackler, kimundi: So there is no way to define a procedural macro without modifying libsyntax?
[20:32:56] <kimundi> adwhit: what type are yours arr1 and arr2, and what function signature does step(9 have?
[20:32:57] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:32:58] <sfackler> nope, you can now
[20:33:07] <sfackler> flan3002: I'm going to be giving a talk tomorrow at the rust meetup on it
[20:33:21] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[20:33:25] <sfackler> there's an example of an externally defined procedural macro here: https://github.com/sfackler/rust-phf
[20:33:31] <kimundi> flan3002: until recently, you couldn't. but now you can
[20:34:38] *** Quits: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:35:28] <flan3002> sfackler: That talk will be online?
[20:35:31] <sfackler> yep
[20:35:48] <flan3002> Where?
[20:35:53] <eddyb> "recently" is ages ago :(
[20:36:12] <sfackler> somewhere on air.mozilla.org probably
[20:36:22] <sfackler> i'll have the slides on my github account
[20:36:32] *** Quits: earlzlap (earlz@moz-624AA15F.lightspeed.tulsok.sbcglobal.net) (Ping timeout)
[20:36:37] <mindslight> does rust currently have reflection where i can iterate through the fields of a struct ?
[20:36:48] <eddyb> there's the Encodable pattern
[20:37:04] <mindslight> yeah looked at that, was a bit messy
[20:37:12] *** Joins: gimpf (gimpf@moz-74F352A8.adsl.highway.telekom.at)
[20:37:41] <eddyb> we don't have anything better and you don't want to use the TyVisitor. maybe we could revamp that, but... not sure if it's worth the trouble
[20:37:49] <flan3002> sfackler: Okay, I'll look if I find your talk tomorrow. :)
[20:38:30] <mindslight> kk, was just checking to see if i could do this the best way now, or just continue manually setting up a struct
[20:38:31] <eddyb> (since it's a visitor pattern, unlike what people expect - which is probably ~[(&'static str, ~Any)] >_>)
[20:38:41] <eddyb> mindslight: what usecase do you have?
[20:38:43] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[20:38:55] <mindslight> trying to make a leveldb binding with typed tables
[20:39:33] <eddyb> so what do you need to enumerate fields for?
[20:39:42] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:39:47] <mindslight> i want to end up with a struct that has a member for every table
[20:40:02] <mindslight> probably the best way to polish that currently is a macro
[20:40:03] <adwhit> OK thanks everyone think I understand now!
[20:40:04] <eddyb> but structs are fixed-layout at compile-time
[20:40:17] <adwhit> (but then I always think that)
[20:40:26] <eddyb> unless you are talking about some other kind of "table list"
[20:40:35] <mindslight> yeah, the user defines the struct
[20:40:49] <mindslight> which represents the types expected to be in the database
[20:41:00] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:41:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:41:06] <eddyb> the Encodable/Decodable pattern is probably the best thing to use there
[20:41:33] <eddyb> but I'm not sure how lazy you could make it
[20:41:39] <mindslight> the problem i had there is the types of the fields aren't going to be encodeable themselves
[20:42:02] <mindslight> the actual data was going to be through explicit 'laziness' .get()
[20:42:07] <eddyb> hmpf
[20:42:07] *** Quits: Gordon (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[20:42:16] <cremes> cmr: thanks for your help earlier with figuring out how to compile & run the tests & benchmarks in 'vec'; i got my smoothsort implementation integrated and testing... now to figure out why it's so slow. :-)
[20:42:20] <eddyb> mindslight: you could offer a macro
[20:42:22] <mindslight> which of course would use Encodeable for serialization of the individuals
[20:42:33] *** Quits: hashcat (hashcat@11D514FA.DDC0B016.BC2E6639.IP) (Ping timeout)
[20:42:48] <eddyb> mindslight: that also wraps all the field types in the lazy getter
[20:42:53] <mindslight> eddyb: yeah that's the current path of least resistance, besides throwing my hands up and doing it manually for now
[20:43:01] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[20:43:20] *** Quits: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net) (Ping timeout)
[20:43:32] <mindslight> "the lazy getter" ? are you referring to what i said, or is there some rust-centric laziness type ?
[20:43:42] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Client exited)
[20:43:52] <eddyb> nah, just TableWrapper<field_types_or_w/e>
[20:44:21] <mindslight> kk just checking
[20:44:24] <eddyb> would be nice for the users to not need to wrap everything themselves, if you have a macro in your arsenal
[20:44:38] <mindslight> well the wrapping is kind of necessary, as it also defines the type of serialization
[20:44:51] <mindslight> foo: EBMLTable<int, int>
[20:45:21] <mindslight> .. or something
[20:45:39] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[20:45:39] *** Quits: lunaryorn (lunaryorn@moz-CC0A5963.dynamic.mnet-online.de) (Connection reset by peer)
[20:45:55] *** Joins: lunaryorn (lunaryorn@moz-CC0A5963.dynamic.mnet-online.de)
[20:46:19] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[20:46:23] <flan3002> So, this code currently does what it is supposed to (http://pastebin.com/F9PzP6pQ), but it looks kind of redundant having "as ~Tween:" behind everything. What is the best way to fix this? Macros or enums + build fn or entirely different?
[20:46:29] <mindslight> its then building the struct itself i was looking to cut down boilerplate, which wouldn't require a macro if there was reflection
[20:47:08] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:47:21] <flan3002> With enums it could look like this: http://pastebin.com/6G25RVWD
[20:51:35] <mindslight> flan, you could accomplish the same thing as the "enum" one with a function named FromTo that did the cast
[20:51:43] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-DD295EAA.dynamic.qsc.de)
[20:53:32] <arrrrrrrrr> & &mut T     <-- what's the mutable part here?
[20:53:54] <strcat> an & ptr to an &mut ptr to a T
[20:54:02] <Ms2ger> Does that even make sense?
[20:54:03] <strcat> but you can't mutate through it
[20:54:06] <strcat> it's valid
[20:54:10] <strcat> but you can't mutate through it
[20:54:10] *** Joins: hoverbear (hoverbear@moz-EEA034F3.wireless.uvic.ca)
[20:54:29] *** Joins: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch)
[20:55:56] *** Joins: jadbaires (jadrian@moz-44AEEC2E.dsl.telepac.pt)
[20:56:30] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[20:57:12] <arrrrrrrrr> i: &mut &mut int; **i = 1; **i = 1;   doesn't optimize the second assignment away. hasn't that been optimized yet or what's the issue here?
[20:57:44] *** Quits: untwisted (untwisted@moz-77EF8341.cse.ucsc.edu) (Ping timeout)
[20:57:55] <Ms2ger> I suspect too obscure a case to optimize
[20:57:59] <strcat> arrrrrrrrr: you're passing -O?
[20:58:03] <arrrrrrrrr> strcat: yes
[20:58:15] <strcat> and it's actually written that way?
[20:58:19] <strcat> there's nothing in between the assignments?
[20:58:27] <arrrrrrrrr> https://gist.github.com/anonymous/cf10dba79d40cd336e49
[20:58:42] <arrrrrrrrr> compiled as --crate-type=lib  
[20:58:53] <strcat> well I guess I know why
[20:59:01] <strcat> the pointer could point to itself
[20:59:23] <strcat> ptr_a -> ptr_b -> ptr_a
[20:59:31] <strcat> so the first assignment sets ptr_a to 1
[20:59:33] <Ms2ger> Yay aliasing
[20:59:43] <strcat> the 2nd assignment sets the word at address 1 to 1
[20:59:51] <arrrrrrrrr> strcat: yes, aliasing is the problem in C
[20:59:58] <arrrrrrrrr> but shouldn't that be impossible in rust?
[21:00:07] <strcat> arrrrrrrrr: rust doesn't communicate it to LLVM
[21:00:16] <strcat> arrrrrrrrr: it can't yet, the stdlib breaks these rules
[21:00:29] <cmr> flaper87 is working on it afaik
[21:00:39] <strcat> but yes, &mut in a parameter is noalias
[21:00:44] <strcat> trivial to mark it as such
[21:00:51] <strcat> harder to mark inner &mut as noalias
[21:00:56] <strcat> but in this case it's not necessary
[21:01:34] *** Joins: hashcat (hashcat@11D514FA.DDC0B016.BC2E6639.IP)
[21:04:07] <flan3002> mindslight: Well, I tried, but it doesn't work without explicitly casting to ~Tween:
[21:04:16] <cremes> google has failed to help me... is there a profiler for rust yet?
[21:04:27] <flan3002> mindslight: value may contain references; add `'static` bound
[21:04:31] * cremes assumes lack of hits on google means it hasn't been developed yet
[21:05:20] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[21:05:26] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:06:13] *** Joins: tjc (tjc@moz-791C24B0.phlapa.east.verizon.net)
[21:06:13] *** ChanServ sets mode: +o tjc
[21:06:21] <cmr> cremes: anything you'd use with C works with Rust.
[21:06:33] <mindslight> flan3002: you mean even with the function return type of ~Tween ?
[21:06:33] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[21:06:37] <cremes> most excellent.
[21:06:38] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[21:06:40] *** Parts: epall (epall@moz-FA29BBA2.lightspeed.sntcca.sbcglobal.net) ()
[21:06:52] <cmr> so gdb, perf, dtrace, etc.
[21:07:08] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:07:26] <flan3002> mindslight: -> ~Tween:
[21:07:38] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[21:08:49] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[21:08:53] *** Joins: arturo (Thunderbir@moz-4F69776.superkabel.de)
[21:09:40] *** Joins: dwrensha (chatzilla@moz-361AD14F.dsl.static.sonic.net)
[21:09:43] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:10:21] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:10:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:10:57] *** Quits: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch) (Quit: Leaving.)
[21:11:04] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Quit: leaving)
[21:11:37] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:11:48] <benh> rusti: let i: int; i += 2;
[21:11:51] -rusti- pastebinned 13 lines of output: http://ix.io/aI8
[21:11:54] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[21:12:28] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[21:13:41] <jensnock_> eddyb or anyone else: Do you have any experience with gobject signals?
[21:13:46] *** Quits: flan3002 (till@moz-E0853D96.superkabel.de) (Quit: Lost terminal)
[21:13:48] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:14:39] <strcat> jensnock_: yes, it's horrible
[21:14:48] <strcat> they rely heavily on C allowing passing extra parameters
[21:14:48] <arrrrrrrrr> is there a safe way to initialize an array or struct which contains Pod to 0?
[21:14:52] <jensnock_> strcat: Ever managed to invoke one from Rust?
[21:15:06] <jensnock_> I segfault all over the place.
[21:15:09] <strcat> jensnock_: no, I try to avoid using one of the worst APIs ever ;)
[21:15:24] <MP2E> hehehe
[21:15:25] <jensnock_> strcat: Lucky you :(
[21:15:26] <strcat> weak dynamic typing with raw pointers...
[21:16:12] <strcat> inheritance via non-fatal asserts guarding raw C casts
[21:17:05] <benh> What's += called? Compound assignment?
[21:17:12] * strcat hates gobject :(
[21:17:25] <mcpherrin> ew gobject
[21:17:34] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[21:17:41] <strcat> seriously the way it works...
[21:17:49] <strcat> you have a type A, it 'inherits' from B
[21:17:51] <arrrrrrrrr> type MyType = [u8, ..MY_MAGIC_NUMBER]; let x: MyType = ???;
[21:17:52] <jensnock_> Yes, but I can't change that now.
[21:17:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:17:54] <strcat> you want to call a B method
[21:18:02] <strcat> b_method(B(a))
[21:18:17] <jensnock_> strcat: But that is why we have Rust traits ;)
[21:18:19] <strcat> B(a) asserts that `a` inherits from `b`, if the assert fails it prints the stderr and casts it anyway
[21:18:29] <strcat> lets say b_method returns a length
[21:18:32] <strcat> as an int
[21:18:52] *** Joins: mib_5xi9ld (Mibbit@moz-91BC5E06.w2-6.abo.wanadoo.fr)
[21:18:54] <strcat> if `a` wasn't actually something inheriting from B, then b_method just returns 0 and prints an error to stderr
[21:18:58] *** Joins: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch)
[21:19:02] <strcat> that's how all of gtk is
[21:19:04] <strcat> I hate it so much
[21:19:21] <strcat> jensnock_: true
[21:19:25] <strcat> jensnock_: it maps well to trait objects
[21:19:31] <strcat> if inheritance worked with trait objects
[21:19:43] <mcpherrin> strcat: haha man so many gtk apps spewing shit from stderr
[21:19:45] <jensnock_> I have a Ruby script that generates the inheritance chains.
[21:19:47] *** Quits: dradtke (Mibbit@moz-BC50DB24.c3-0.stk-ubr2.chi-stk.il.cable.rcn.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:19:49] <mcpherrin> as a user it makes my skin crawl
[21:19:55] *** Joins: rylev (rylev@moz-F1974113.cust.telecolumbus.net)
[21:20:07] <strcat> jensnock_: but inheritance doesn't work with trait objects yet :(
[21:20:28] <strcat> jensnock_: the vtables don't have either the parent methods or a ptr to the parent vtable
[21:20:29] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[21:20:48] <jensnock_> strcat: I don't need no additional vtables. I have a silly work-around.
[21:20:56] <jensnock_> That happens to work for gobject.
[21:20:57] <strcat> mcpherrin: well look at the js errors firefox prints ;P
[21:21:10] <strcat> jensnock_: ah, true
[21:21:14] <mcpherrin> strcat: I prefer not to think about web browsers ;)
[21:21:29] <strcat> mcpherrin: well it's not the browser core itself but the UI ;)
[21:21:37] *** Quits: rylev (rylev@moz-F1974113.cust.telecolumbus.net) (Ping timeout)
[21:21:49] <mcpherrin> strcat: still part of a web browser ;)
[21:21:59] *** Quits: mib_5xi9ld (Mibbit@moz-91BC5E06.w2-6.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:22:02] <mcpherrin> I just wish more websites worked with w3m ;)
[21:22:03] <benh> How do I overload +=?
[21:22:13] <strcat> benh: can't yet
[21:22:20] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-DD295EAA.dynamic.qsc.de) (Quit: arrrrrrrrr)
[21:22:23] <benh> ah
[21:22:25] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[21:24:52] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[21:25:53] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:26:18] <jensnock_> Can someone check if I'm doing something insanely stupid or something, https://gist.github.com/jensnockert/ecd4a421dadacd88a00f
[21:26:47] <jensnock_> I tried using a extern fn for the c_handler, but that segfaulted in exactly the same way.
[21:27:04] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[21:27:20] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[21:29:10] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[21:29:33] *** Parts: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net) ()
[21:30:30] *** Joins: derek_c (derek@moz-F28B03A7.cit.cornell.edu)
[21:30:38] <Matthias247> jensnock_: the type for a string in a C FFI is *libc::c_char and not CString
[21:30:46] *** Joins: findow (Mibbit@moz-3AE5F90D.bredband.comhem.se)
[21:31:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:33:36] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[21:33:37] <SiegeLord> Gosh darn, saw that streaming Rust reddit posting and thought it was someone live-programming Rust >_<
[21:33:43] <SiegeLord> What a disappointment
[21:33:54] <mcpherrin> SiegeLord: Would live-programming rust be amusing?
[21:34:11] *** Quits: findow (Mibbit@moz-3AE5F90D.bredband.comhem.se) (Quit: http://www.mibbit.com ajax IRC Client)
[21:34:26] <jensnock_> Matthias247: Still crashes :(
[21:34:33] <SiegeLord> Depends on how much the coder hates borrow check errors
[21:34:47] <Matthias247> hmm, because on_draw() is called? ;)
[21:35:07] <mcpherrin> I am going to write a fairly nontrivial rust program in a week or two
[21:35:09] <SiegeLord> Or, alternatively, if they are very skilled, XD
[21:35:12] <mcpherrin> Maybe I'll livestream
[21:35:22] <SiegeLord> :D
[21:35:43] <mcpherrin> I want to write a network routing stack
[21:35:49] <SiegeLord> Like I'd enjoy watching, e.g., pcwalton replacing all ~[]'s by Vec's or something
[21:36:02] <SiegeLord> I guess I'd have to be a bit bored
[21:36:11] <SiegeLord> That's not a problem though
[21:36:15] <aatch> jensnock_, what if you don't use fail!?
[21:36:33] <jensnock_> Matthias247, aatch: Doesn't make a difference.
[21:36:46] <doomlord_> i guess having pronounceable syntax will be better when voice recognition improves :)
[21:36:47] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Connection reset by peer)
[21:36:55] *** Quits: fabiand (fabiand@moz-D8E5C9D5.adsl.alicedsl.de) (Quit: Verlassend)
[21:37:06] <cmr> doomlord_: what's better than "twiddle vec a, b, c" :P
[21:37:14] <huon> strcat: btw, people did reply to your assert -> enforce issue, just on an implementation of it: https://github.com/mozilla/rust/pull/12108 rather than the main issue
[21:37:34] <jensnock_> Oh wait, now it works.
[21:37:43] * jensnock_ hugs aatch and Matthias247.
[21:37:47] <strcat> huon: ah!
[21:37:52] <jensnock_> You're the bestest.
[21:38:09] <aatch> jensnock_, I'm guessing it's probably what Matthias247 suggested first
[21:38:16] <jensnock_> aatch: Probably.
[21:38:27] <jensnock_> aatch: Might be something that failed in my compilation or something.
[21:38:45] <Matthias247> jensnock_: thx. But I promise you some major headaches with trying to integrate the gobject callbacks/signals in Rust :)
[21:39:02] <jensnock_> Matthias247: I won't expect anything less, I promise you
[21:39:13] <Matthias247> fine :)
[21:39:20] <jensnock_> I also expect major pain with threads and shit *grr*
[21:39:38] <aatch> jensnock_, yeah, I sometimes end up accidentally putting the binary in a different place and then re-run the same, broken, binary.
[21:40:30] *** Joins: Moogul (nick@moz-3E7AC75.range109-153.btcentralplus.com)
[21:42:01] *** Joins: q66 (q66@EE12A33.D3F4A907.2F0EC0E9.IP)
[21:42:55] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[21:43:33] *** Quits: Ms2ger (Ms2ger@B30DC609.F9DEE48B.187A1082.IP) (Quit: nn)
[21:43:41] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[21:43:51] *** Joins: botond (botond@13F2CEC5.7672369.D8E68FF6.IP)
[21:43:53] <doomlord_> so you're trying to get gtk working from rust?
[21:44:06] <botond> jdm: are you aware of https://github.com/redbrain/gccrs?
[21:44:29] <jdm> botond: I am, but wrong nick?
[21:44:35] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[21:45:11] <jdm> botond: or am I just missing context?
[21:45:28] <botond> jdm: i just came across it and wanted to bring it to the attention of someone i knew was working on rust
[21:46:09] <jdm> yeah, it's come up on the mailing list a couple times
[21:46:36] *** Quits: hoverbear (hoverbear@moz-EEA034F3.wireless.uvic.ca) (Quit: Taking a nap.)
[21:48:55] *** Quits: mjrosenb (mjrosenb@moz-22104996.hsd1.pa.comcast.net) (Ping timeout)
[21:49:00] *** Joins: popinman322 (MagiSun@moz-DB516D62.twcny.res.rr.com)
[21:50:01] *** Quits: Tari (tari@moz-36ED7575.lug.mtu.edu) (Quit: Moving host.)
[21:53:36] *** Quits: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch) (Quit: Leaving.)
[21:54:34] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:55:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:56:04] <jensnock_> doomlord_: Nope, just clutter.
[21:56:51] <jensnock_> At least for now.
[21:57:15] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[21:58:50] *** Joins: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch)
[21:59:25] *** Quits: arturo (Thunderbir@moz-4F69776.superkabel.de) (Ping timeout)
[21:59:49] <derek_c> does anyone remember why we got rid of spawn_linked and the likes?
[22:00:09] <jensnock_> doomlord_: But the tools I do it with should be general enough for any C/gobject library.
[22:01:00] <huon> derek_c: because linked failure was removed (it was/is hard to implement correctly)
[22:01:35] *** Quits: lunaryorn (lunaryorn@moz-CC0A5963.dynamic.mnet-online.de) (Quit: Textual IRC Client: www.textualapp.com)
[22:02:44] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[22:03:10] <derek_c> huon: ok. so there is no way that you can forcefully kill a task, right?
[22:03:17] <derek_c> from outside
[22:03:25] <sfackler> nope
[22:03:27] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[22:03:48] *** Joins: maxli1 (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[22:03:48] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[22:04:10] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Ping timeout)
[22:04:46] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[22:05:20] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:05:41] <derek_c> :(
[22:05:53] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[22:06:56] *** Joins: derek_ (derek@moz-C0C85B2C.cit.cornell.edu)
[22:07:05] <derek_> the combination of not being able to kill a task from outside and not being able to select from both IO events and pipe events really hurts
[22:07:18] *** Quits: derek_ (derek@moz-C0C85B2C.cit.cornell.edu) (Quit: Leaving)
[22:07:21] *** Quits: derek_c (derek@moz-F28B03A7.cit.cornell.edu) (Ping timeout)
[22:07:28] *** Joins: derek_c (derek@moz-C0C85B2C.cit.cornell.edu)
[22:07:44] <derek_c> the combination of not being able to kill a task from outside and not being able to select from both IO events and pipe events really hurts
[22:07:46] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:07:50] <derek_c> sorry my network is buggy
[22:08:47] <jensnock_> Killing a task from outside would be extremely dangerous.
[22:09:19] *** Quits: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca) (Quit: leaving)
[22:09:51] <jensnock_> It could have unsafe shared state.
[22:10:15] *** Quits: glaebhoerl_ (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Ping timeout)
[22:10:49] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:10:50] *** Quits: nkoep (nik@moz-6F9C55D4.pool.mediaways.net) (Quit: Leaving)
[22:11:01] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[22:11:17] *** Joins: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca)
[22:12:13] <derek_c> jensnock_: true. the reason languages like Erlang can support it is there isn't shared state
[22:13:22] <derek_c> I would imagine though we could implement it such that the shutdown happens gracefully, i.e. destructors are called, etc.
[22:13:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:14:23] <Moogul> Is there a way to supply my own implementations of stdlib functions (e.g. malloc), if using no_std?
[22:14:50] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:16:32] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:17:02] <derek_c> Moogul: maybe look at how rust-core is done? https://github.com/thestinger/rust-core
[22:17:03] <jensnock_> derek_c: Yeah, but then all code needs to be written to support being killed in the middle.
[22:17:24] <jensnock_> derek_c: Taking a lock, doing something, unlocking. Would be an unsafe pattern.
[22:17:34] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[22:17:45] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:17:54] <strcat> not all code can support a failure in the middle
[22:17:59] <strcat> not possible
[22:18:23] <derek_c> not really, we would just need to have spawn_linked and spawn_unlinked like we did before, and choose accordingly
[22:18:29] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[22:18:31] <strcat> rust isn't going to have automatically inserted yield points so it's not going to have reliable linked failure
[22:18:46] <strcat> a loop could just keep running forever
[22:18:48] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:18:54] <strcat> you'd have to manually insert yields
[22:19:04] <derek_c> interesting
[22:19:21] <derek_c> how was it done before though?
[22:19:57] <sfackler> derek_c: Java allowed you to kill threads in 1.0, and *heavily* deprecated it in 1.1 in favor of cooperative interruption
[22:20:24] <sfackler> like, it's so deprecated there's a page telling you why calling Thread.destroy is such a bad idea
[22:20:32] <sfackler> http://docs.oracle.com/javase/7/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html
[22:20:40] *** Joins: rylev (rylev@A443DE7B.A2D6A7E.2DB0BBA1.IP)
[22:20:47] *** nrc is now known as nrc|afk
[22:20:54] <huon> strcat: you could have self-modifying code that finds where another thread is currently executing and injects the appropriate code to make it kill itself
[22:20:55] <strcat> derek_c: yield points were points where linked failure could happen
[22:20:58] * huon is full of bad ideas :P
[22:21:15] <strcat> derek_c: rust has never inserted yield points though
[22:21:24] <strcat> so it was never really a robust feature
[22:21:25] <jensnock_> That is the most horrible idea i have ever heard huon.
[22:21:32] <jensnock_> huon: Would work on x86 though, I think.
[22:21:42] <jensnock_> ARM would happily ignore it.
[22:21:47] <huon> derek_c: it used to just fail on synchronisation (like Chan/Port's, etc.) and IO, iirc
[22:21:49] *** Joins: mjrosenb (mjrosenb@moz-22104996.hsd1.pa.comcast.net)
[22:21:59] <huon> jensnock_: \o/ at least it works on something
[22:22:00] <Moogul> derek_c: Thanks, I will
[22:22:21] *** Quits: rylev (rylev@A443DE7B.A2D6A7E.2DB0BBA1.IP) (Ping timeout)
[22:22:21] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Ping timeout)
[22:22:35] <jensnock_> huon: x86 is surprisingly compatible with crazy ideas.
[22:22:40] *** Quits: mgottschlag (quassel@moz-E60149F9.cust.bluewin.ch) (Ping timeout)
[22:23:16] <derek_c> thanks guys
[22:23:41] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[22:24:31] <derek_c> does anyone care to look at the situation I describe here? https://github.com/mozilla/rust/issues/6842#issuecomment-35944425
[22:24:43] <derek_c> Not sure how to get around this
[22:25:16] *** Joins: jvoorhis (jvoorhis@moz-A90B9700.ptld.qwest.net)
[22:25:20] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[22:25:20] <mrmonday> just throwing this out there... does anyone else feel like borrowed pointers should have their lifetimes specified implicitly? I'm forever adding lifetime parameters, and they're always the exact same
[22:25:36] <mrmonday> I feel like they could just be infered most of the time
[22:25:42] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[22:25:53] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[22:26:13] <SiegeLord> I think there have been suggestions about exhaustively trying all lifetime combinations
[22:26:27] <huon> mrmonday: inference is really hard to get reliable, and to have sensible error messages
[22:26:42] <huon> (it used to be that there were inferred, and, aiui, it wasn't feasible.)
[22:26:44] <SiegeLord> What about the work done by... I forget who
[22:26:49] <huon> ktt3ja
[22:26:50] <sfackler> if it's done implicitely, you also can't tell how long the result will live for without looking at the implementation
[22:26:54] <kimundi> mrmonday: They are inferred everywhere where applicable, just like generic type parameters
[22:26:56] <SiegeLord> Yes, what about those eror messages?
[22:27:02] <huon> SiegeLord: that's just suggesting rewrites
[22:27:05] <huon> it's not perfect
[22:27:06] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:27:10] <SiegeLord> I see
[22:27:30] <mrmonday> I'm not ruling out doing it explicitly, just suggesting that it could be done implicitly for a lot of cases
[22:28:03] <sfackler> mrmonday: but if I'm looking at docs and I see "fn foo(&self) -> &str", I have no idea in what contexts I can use the result
[22:28:06] <huon> it makes it harder to reason about what a function is doing
[22:28:14] <sfackler> is the lifetime paired to "self"? is it 'static?
[22:28:24] <huon> `fn find(&self, k: &K) -> Option<&V>` from hashmap
[22:28:26] *** Quits: Ferreus (ferreus@moz-472B3F0C.lsn.wtnet.de) (Quit: WeeChat 0.4.3-dev)
[22:28:27] <mrmonday> eg struct Foo { f: &Bar } needs lifetimes adding
[22:28:33] <huon> is &V with &self or with &K?
[22:28:34] *** Quits: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch) (Quit: Leaving.)
[22:28:50] *** Joins: mauricioc (mauricioc@moz-5D49F2DE.impa.br)
[22:28:50] <SiegeLord> Oh, I wasn't suggestion that it'd be implicit... I was envisioning an interactive rust mode or something
[22:29:04] <huon> should `struct Foo { x: T }` have the generic T added?
[22:29:05] <SiegeLord> Or, alternatively, as some sort of IDE-bound service
[22:29:23] <SiegeLord> So it'd suggest rewrites, and you could try them
[22:29:28] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[22:29:42] <huon> SiegeLord: that's be neat; write a function/struct/whatever then C-c C-l to fill in a valid set of lifetimes (if one exists)
[22:29:46] <FreeFull> huon: Yeah, otherwise the T seemingly comes out of nowhere
[22:29:59] <huon> and same with lifetimes
[22:30:23] <huon> you don't want the lifetime of `f` to be erased by Foo
[22:30:24] <mcpherrin> I'd worry a bit about toosl like that
[22:31:07] <huon> mcpherrin: it'd just be a tool for filling in code, i.e. nothing implicit.
[22:31:08] <mcpherrin> eg, fn f(a: &A, b: &B) -> &C could be tooled into fn f(a: &'z A, b: &'z B) -> &'z C when you only mean one of the params to do so
[22:31:14] <mcpherrin> oh I see what you mean
[22:31:17] <mcpherrin> like a thing you run in your editor
[22:31:25] <huon> yeah
[22:32:45] <huon> mrmonday: I agree that lifetimes get a annoying to type out repeatedly, but I haven't seen a (partially) implicit solution that gives equal descriptiveness and power :)
[22:32:48] *** Quits: dschatzberg (dschatzber@moz-668DB0D9.bu.edu) (Input/output error)
[22:32:53] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[22:35:27] *** Quits: mawuli (mawuli@moz-36C70B7D.com.gh) (Broken pipe)
[22:36:26] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[22:36:33] <k4nar> can I compare two objects by address in Rust ?
[22:36:57] *** Joins: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu)
[22:37:05] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[22:37:08] <EKK> bjz: o/
[22:37:15] <bjz> EKK: yay!
[22:37:45] <kimundi> k4nar: I think there is std::mem::ref_eq
[22:37:56] *** Quits: gimpf (gimpf@moz-74F352A8.adsl.highway.telekom.at) (Quit: Leaving.)
[22:37:57] <bjz> EKK: http://rust-lang.org/
[22:38:09] <bjz> EKK: http://static.rust-lang.org/doc/master/tutorial.html
[22:38:27] <bjz> EKK: we also have #rust-gamedev. if that is your thing
[22:38:27] <k4nar> kimundi: I don't see it on master's documentation
[22:38:40] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:38:40] *** ChanServ sets mode: +ao dherman dherman
[22:38:49] <kimundi> k4nar: maybe its in std::ptr
[22:39:20] <bjz> EKK: no idea what kind of stuff you do
[22:39:41] <EKK> bjz: Gamedev is fun
[22:39:59] <bjz> EKK: I maintain lots of libs for it
[22:40:03] <k4nar> kimundi: hum, in Rust 0.9 there is a std::borrow::ref_eq
[22:40:05] <EKK> I'm a computer science student really, I act on this weird creative urge that makes me do stuff
[22:40:08] <k4nar> can't find it on master
[22:40:18] <bjz> EKK: not enough actual gamedev though
[22:40:51] <EKK> bjz: I like videogames, I like game theory, I just can't find the time to actually create a game too often :D
[22:41:14] <bjz> EKK: btw, if you are planning on playing around with rust, be sure to build from master
[22:41:26] <bjz> EKK: 0.9 is way behind
[22:41:57] <bjz> well, not as much semantics wise, maily abit of syntax and lots to do with library APIs
[22:42:05] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:42:28] *** Joins: mawuli (mawuli@moz-36C70B7D.com.gh)
[22:43:06] <k4nar> ok, found it -> a as *T == b as *T
[22:43:23] <EKK> bjz: gotchya
[22:43:34] <bjz> EKK: takes awhile to compile at first, but it's faster the next time, and the build process is super straitforward - it's all self contained
[22:43:44] <kimundi> k4nar: well thats certainly a way too :)
[22:44:07] <k4nar> kimundi: the actual function has been removed : https://github.com/mozilla/rust/pull/11895/files
[22:44:13] <kimundi> huh
[22:44:26] <bjz> EKK: alternaitvely some distros have unofficial nightlies, but I don't have experience with those (I'm on osx)
[22:44:45] <EKK> mine won't :P
[22:44:45] <kimundi> ubuntu and arch have working nightlies
[22:44:51] <EKK> whoa :o
[22:44:53] <EKK> I take that back
[22:45:04] *** Joins: rylev (rylev@A443DE7B.A2D6A7E.2DB0BBA1.IP)
[22:45:19] <bjz> EKK: we use the nightlies for our continuous integration
[22:45:31] *** Quits: synackse (jordyd@moz-E7A9AB16.seg59.ucf.edu) (Ping timeout)
[22:45:31] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[22:45:37] <bjz> EKK: http://rust-ci.org/
[22:45:54] <EKK> bjz: Thanks for inducting me :> but I need to go to bed now (Ruby on Rails exam tomorrow, criiiinge)
[22:45:59] <strcat> the arch nightly are not far from official...
[22:45:59] <bjz> np!
[22:46:05] <bjz> night!
[22:46:05] *** Quits: marianoguerra (marianogue@moz-7D7611BE.dip0.t-ipconnect.de) (Ping timeout)
[22:46:13] <strcat> they're hosted on arch's build server, by an arch packager who has rust commit access ;p
[22:46:16] <EKK> o/
[22:46:22] <bjz> strcat: yeah, it's pretty much blessed by the devs
[22:46:25] <strcat> arch just doesn't have non-stable pkgs in the official repos
[22:46:45] *** Quits: rylev (rylev@A443DE7B.A2D6A7E.2DB0BBA1.IP) (Ping timeout)
[22:46:59] <strcat> well, sometimes there are exceptions to that - LLVM/rust don't have supported stables so they'd qualify...
[22:47:10] *** Quits: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[22:47:13] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[22:47:50] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[22:47:55] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[22:48:10] <strcat> I think there are also windows nightlies
[22:48:16] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[22:48:43] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[22:49:06] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[22:49:08] <Jarrett> ahah ... I'm sure it's been linked, but http://www.ktap.org/
[22:49:17] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:49:18] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[22:49:40] <abinader> how to make my newly added functions to collections::list bypass the #[warn(dead_code)] error?
[22:49:51] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:50:08] *** Quits: derek_c (derek@moz-C0C85B2C.cit.cornell.edu) (Ping timeout)
[22:50:25] <kimundi> abinader: mark them public
[22:50:44] <abinader> kimundi: hmmm
[22:50:49] <abinader> got it :-)
[22:50:53] <abinader> thanks kimundi!
[22:50:55] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:50:58] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:52:36] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:53:19] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[22:53:37] <drbawb> strcat: hmm the arch nightlies would be much faster; but I feel like it'd be violating some sacred morning ritual.
[22:53:44] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:54:10] <drbawb> strcat: I build rust @ ~6AM and then by the time I get to work I'm ready to fix up any breakages in `rust-story` over a nice cup of coffee :p
[22:54:52] <strcat> I like having the nightly installed even though I often build rust
[22:55:02] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[22:55:18] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[22:55:18] <mcpherrin> I have a cronjob that runs at 3am that does a clean rust build
[22:55:26] <mcpherrin> I used to just git pull && make but that would break all the time
[22:55:53] <strcat> well arch packages are built in a clean chroot + container so it has to build LLVM every time
[22:56:00] *** Joins: fyolnish (fyolnish@moz-678ADD7B.uqwimax.jp)
[22:56:00] <strcat> it does reuse the same git pull
[22:56:06] <strcat> but it reclones LLVM/libuv
[22:56:07] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:56:28] <strcat> I'd like to use the system LLVM... one day
[22:56:34] <kmc> can i force rustc to output colorized error messages even when it's writing to a pipe?
[22:56:56] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[22:57:20] <strcat> kmc: unbuffer from expect
[22:57:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:57:36] *** Joins: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net)
[22:57:56] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[22:59:22] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[22:59:22] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:01:59] <kmc> strcat: thanks
[23:02:11] *** Quits: jackneill (jackneill@moz-A47B9FF4.pool.digikabel.hu) (Ping timeout)
[23:02:22] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[23:02:40] * strcat uses a lot of weird utilities like sponge, pv and unbuffer
[23:03:01] <mcpherrin> sponge is pretty awesome
[23:03:09] <Luqman> pv's not weird :P quite useful
[23:03:15] <mcpherrin> though most the time I just pipe shit to temp files
[23:03:18] *** Joins: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net)
[23:03:26] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[23:03:26] *** Joins: rylev (rylev@A443DE7B.A2D6A7E.2DB0BBA1.IP)
[23:03:44] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[23:04:07] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:04:14] <vadimcn> Hi!    Is rust inline asm syntax documented anywhere ?
[23:04:26] <strcat> vadimcn: doubt it - it's just what LLVM supports
[23:04:27] *** jld is now known as jld|commute
[23:04:46] <strcat> essentially the same as gcc inline asm afaik
[23:04:47] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:04:59] *** Joins: kvanb (kvanb@moz-74E74158.lnse2.lon.bigpond.net.au)
[23:06:10] <vadimcn> what about in/out parameters, volatility etc?   Or is that also defined by LLVM?
[23:06:27] <strcat> vadimcn: it supports constraints and stuff
[23:06:33] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[23:06:38] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:06:38] <strcat> afaik it's a very thin wrapper around the LLVM support
[23:06:59] <strcat> you can probably hit a lot of LLVM asserts with it because it's not actually doing the checks it should be at this point
[23:07:07] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[23:07:48] <strcat> Luqman: does reptyr count as weird at least?
[23:07:50] <strcat> ;)
[23:07:54] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Quit: valenting)
[23:08:38] <mcpherrin> strcat: I think reptyr is pretty mainstream :P
[23:08:45] <mcpherrin> At least among my coworkers
[23:08:59] <mcpherrin> (also, its author, nelhage, interviewed me for a job last year! :P)
[23:09:54] <vadimcn> strcat: I'm just trying to figure out syntax for constraints.   So it's all derived from GCC inline asm syntax?
[23:10:24] <strcat> vadimcn: yes
[23:10:35] <vadimcn> cool, thx!
[23:11:42] *** Quits: q66 (q66@EE12A33.D3F4A907.2F0EC0E9.IP) (Connection reset by peer)
[23:15:47] <Luqman> vadimcn: there were some differences from gcc. $$2 instead $2 for constants. $n instead of %n for operands
[23:16:04] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[23:16:42] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:17:16] <vadimcn> Luqman: except for '$0' ?
[23:18:00] <Luqman> vadimcn: with rust/llvm that means the 0-th operand
[23:18:07] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[23:18:50] <vadimcn> I see
[23:20:14] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:20:18] *** Joins: q66 (q66@2554DBB4.281B9A6E.2F0EC0E9.IP)
[23:23:21] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[23:24:00] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[23:26:23] *** jorendorff is now known as jorendorff_away
[23:27:47] *** Joins: derek_c (derek@moz-B76C562E.cit.cornell.edu)
[23:29:33] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:31:38] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Ping timeout)
[23:32:34] *** Quits: derek_c (derek@moz-B76C562E.cit.cornell.edu) (Ping timeout)
[23:37:26] *** Quits: rylev (rylev@A443DE7B.A2D6A7E.2DB0BBA1.IP) (Client exited)
[23:37:47] *** Joins: rylev (rylev@A443DE7B.A2D6A7E.2DB0BBA1.IP)
[23:38:49] *** Joins: a_m0d (a_m0d@moz-B069EE89.acanac.net)
[23:39:28] *** Quits: rylev (rylev@A443DE7B.A2D6A7E.2DB0BBA1.IP) (Ping timeout)
[23:39:32] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:40:03] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[23:41:10] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Ping timeout)
[23:41:46] *** Quits: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP) (Ping timeout)
[23:43:17] *** Quits: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[23:43:54] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[23:44:05] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:44:08] <doomlord> make make uninstall ;  make install ... should update  the libraries? i've just put .10 on a new laptop, for some strange reason its giving errors like its got the old libs
[23:44:27] *** jld|commute is now known as jld
[23:44:34] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:44:54] <doomlord> rustc  -b  : rustc 0.10-pre
[23:44:55] *** Quits: Moogul (nick@moz-3E7AC75.range109-153.btcentralplus.com) (Quit: Leaving)
[23:45:34] *** Joins: barosl (barosl@AF5A7446.7BDB669F.8F036087.IP)
[23:46:20] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[23:46:32] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:47:11] *** Joins: timebomb (timebomb@moz-B3EF0C59.adsl.alicedsl.de)
[23:47:31] <brson> doomlord: 'make uninstall' may not successfully remove older installations
[23:47:36] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:47:37] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[23:47:38] <brson> it's not that smart
[23:47:50] <brson> so it could be leaving some stuff laying around
[23:48:08] <doomlord> any hints of what to manually delete
[23:48:58] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:49:00] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:49:04] <mcpherrin> This is why I ./configure --prefix ~/rust/ so I can just rm -rf the whole dir ;)
[23:49:20] <cmr> This is why I use packages :P
[23:49:59] <cmr> doomlord: http://ix.io/aIq
[23:50:07] <cmr> is what is in the rust-git package right now...
[23:50:42] <strcat> the pkg also symlinks stuff for you to remove redundancy and adds it to the mime db ;p
[23:51:15] <strcat> it runs an install/post-install hook to deal with the mime db cache
[23:51:17] *** Quits: maxli1 (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[23:52:01] *** Quits: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net) (Quit: Leaving.)
[23:53:07] *** Quits: mauricioc (mauricioc@moz-5D49F2DE.impa.br) (Quit: leaving)
[23:53:33] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Ping timeout)
[23:54:07] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[23:54:20] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[23:54:24] *** Joins: derek_c (derek@moz-5E77E51.cit.cornell.edu)
[23:55:14] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[23:55:22] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[23:55:50] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:55:58] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[23:57:42] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:58:19] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[23:58:25] <doomlord> ok it seems i have everything in'/usr/local/lib/rustc' so ii can delete that
[23:58:48] *** Joins: noam_ (noam@F6B530A7.720527A7.416762B.IP)
[23:58:53] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
