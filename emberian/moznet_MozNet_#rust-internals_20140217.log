[00:01:47] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[00:01:47] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/zcj2Pw
[00:01:47] <ghrust> 13rust/06auto 14b1924c8 15Geoffroy Couprie: Implement Unix domain sockets in libnative
[00:01:47] <ghrust> 13rust/06auto 14799935e 15Alex Crichton: Move unix pipes implementation to pipe_unix.rs...
[00:01:47] <ghrust> 13rust/06auto 149712d0d 15Alex Crichton: Implement named pipes for windows, touch up unix...
[00:01:49] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[00:02:32] <flaper87> acrichto: do you group small commits manually?
[00:02:38] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[00:02:41] <acrichto> flaper87: how so?
[00:03:01] <flaper87> It would be nice to have that process done automagically.
[00:03:07] <acrichto> for rollups?
[00:03:12] <flaper87> acrichto: yeah
[00:03:22] <acrichto> yeah I have a small script locally
[00:03:40] <acrichto> git remote add $1 git://github.com/$1/rust
[00:03:40] <acrichto> git fetch $1
[00:03:40] <acrichto> git cherry-pick $2
[00:03:41] <acrichto> git remote rm $1
[00:03:49] <acrichto> sh doit <author> <sha>
[00:04:50] <ChrisMorgan> acrichto: how about +refs/pull/12345?
[00:04:51] <flaper87> I was thinking that maybe bors could rollup a set of approved PR together.
[00:05:07] * ChrisMorgan has been suggesting that for a while but has not implemented it
[00:05:24] <acrichto> dunno, I'm not that much of a git guru
[00:05:30] <flaper87> ChrisMorgan: ah, didn't know that! +1 then
[00:06:05] *** Joins: lpy|afk (lpy@527E9448.E262279B.65042015.IP)
[00:06:53] <ChrisMorgan> flaper87: more specifically, I was desiring an optimism flag.
[00:07:37] <ChrisMorgan> flaper87: https://botbot.me/mozilla/rust-internals/msg/10373869/
[00:07:50] * flaper87 clicks
[00:07:57] *** Quits: lpy|afk (lpy@527E9448.E262279B.65042015.IP) (Ping timeout)
[00:09:03] *** Joins: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[00:09:42] <flaper87> ChrisMorgan: ah that sounds like a neat, explicit idea
[00:10:22] <flaper87> it's still possible that some patches will fail to merge so bors would have to bee smart enough to discard one of them from the rollup
[00:11:32] <Eridius> if this is ever done, I would recommend bors still merge each PR individually, with merge commit, just do it onto a local branch that itself is then merged into master
[00:11:40] <Eridius> to preserve any information in the PR descriptions
[00:11:44] <Eridius> (which is currently lost on manual rollups)
[00:12:28] <ChrisMorgan> Eridius: certainly. And no octopus merges.
[00:13:17] <Eridius> absolutely
[00:13:25] <Eridius> octopus merges are frightening
[00:17:17] *** Quits: brson (brson@E02A6CDD.75598729.B6A3AE99.IP) (Ping timeout)
[00:29:46] *** Quits: gimpf (gimpf@moz-5A4B5CA4.adsl.highway.telekom.at) (Quit: Leaving.)
[00:31:39] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:36:47] *** flaper87 is now known as flaper87|afk
[00:37:51] *** Quits: jensnockert (jensnocker@moz-B6129BAF.mobileonline.telia.com) (Input/output error)
[00:38:21] *** Joins: jensnockert (jensnocker@moz-B6129BAF.mobileonline.telia.com)
[00:38:30] *** Quits: jensnockert (jensnocker@moz-B6129BAF.mobileonline.telia.com) (Connection reset by peer)
[00:43:17] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:45:59] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[00:46:41] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[00:46:41] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/F1eUCA
[00:46:41] <ghrust> 13rust/06auto 14553b7e6 15Alex Crichton: Allow configuration of uid/gid/detach on processes...
[00:46:41] <ghrust> 13rust/06auto 1474b42c6 15Alex Crichton: Upgrade libuv...
[00:46:41] <ghrust> 13rust/06auto 14c848906 15bors: auto merge of #12085 : alexcrichton/rust/issue-12082, r=brson...
[00:46:43] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[00:50:53] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Ping timeout)
[00:56:57] *** Quits: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Quit: Leaving.)
[00:58:49] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[00:58:50] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[00:58:50] *** ChanServ sets mode: +qo brson brson
[01:05:23] *** Quits: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net) (Ping timeout)
[01:06:42] *** Joins: lpy|afk (lpy@527E9448.E262279B.65042015.IP)
[01:07:01] *** Joins: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net)
[01:08:43] *** Quits: lpy|afk (lpy@527E9448.E262279B.65042015.IP) (Ping timeout)
[01:09:21] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:09:30] *** Joins: blank_na1e (blank_name@973FA96D.E6D3F868.537E532E.IP)
[01:09:38] *** Quits: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP) (Connection reset by peer)
[01:10:18] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[01:11:12] *** Quits: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net) (Ping timeout)
[01:15:42] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:17:17] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[01:33:48] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:35:30] *** Joins: lpy|afk (lpy@527E9448.E262279B.65042015.IP)
[01:36:38] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:36:57] *** Joins: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net)
[01:37:01] *** Joins: brson (brson@C91C7F36.70518F41.9D18269F.IP)
[01:37:01] *** ChanServ sets mode: +qo brson brson
[01:45:08] *** Quits: eibwen (kvirc@moz-A8A6C70C.dip0.t-ipconnect.de) (Ping timeout)
[01:56:43] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[01:56:43] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/F1eUCA
[01:56:43] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[01:59:33] <Diamond> \o/
[02:00:04] <Diamond> I have successfully built a non-freestanding hello, world program for pnacl
[02:01:43] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[02:01:43] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/Hh_EDw
[02:01:43] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[02:04:19] <brson> Diamond: cool!
[02:06:40] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[02:06:40] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/dSfp1Q
[02:06:40] <ghrust> 13rust/06auto 14b94daee 15Kevin Ballard: Clean up std::task docs, make TaskBuilder a real builder...
[02:06:40] <ghrust> 13rust/06auto 1401b31af 15Kevin Ballard: Update clients of the TaskBuilder API
[02:06:41] <ghrust> 13rust/06auto 14f77d419 15bors: auto merge of #12232 : kballard/rust/taskbuilder-is-a-builder, r=alexcrichton...
[02:06:43] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[02:26:19] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[02:28:11] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:45:17] *** Joins: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com)
[03:20:26] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Ping timeout)
[03:38:39] *** Quits: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca) (Quit: canhtak)
[03:39:36] *** Quits: lpy|afk (lpy@527E9448.E262279B.65042015.IP) (Client exited)
[03:39:57] *** Joins: lpy|afk (lpy@527E9448.E262279B.65042015.IP)
[03:41:18] *** Joins: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca)
[03:42:03] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:42:10] *** Quits: lpy|afk (lpy@527E9448.E262279B.65042015.IP) (Client exited)
[03:44:34] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:45:53] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:46:23] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:46:31] <Eridius> sigh, "command timed out: 3600 seconds without output, attempting to kill"
[03:46:36] <Eridius> transient buildbot issue?
[03:46:41] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[03:46:41] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14f77d419 to 14c848906: 02http://git.io/N3iJvQ
[03:46:41] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[03:46:42] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[03:46:42] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/MKaMJQ
[03:46:42] <ghrust> 13rust/06auto 14a226f56 15Geoffroy Couprie: Implement Unix domain sockets in libnative
[03:46:42] <ghrust> 13rust/06auto 1494b2d9d 15Alex Crichton: Move unix pipes implementation to pipe_unix.rs...
[03:46:43] <ghrust> 13rust/06auto 14a526aa1 15Alex Crichton: Implement named pipes for windows, touch up unix...
[03:46:45] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[03:53:25] *** Quits: zz_kimundi (kimundi@moz-914F75A4.dip0.t-ipconnect.de) (Ping timeout)
[03:57:11] *** Joins: zz_kimundi (kimundi@moz-B3D6A22F.dip0.t-ipconnect.de)
[03:57:13] *** zz_kimundi is now known as kimundi
[04:00:16] *** Quits: blank_na1e (blank_name@973FA96D.E6D3F868.537E532E.IP) (Ping timeout)
[04:05:08] *** Joins: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP)
[04:06:13] <brson> Eridius: was it android?
[04:09:03] <Eridius> brson: linux-64-nopt
[04:09:18] * Eridius already marked retry, hopes it will work
[04:10:33] <sfackler> acrichto: is the select! macro in std::comm::select intentionally not exported?
[04:11:13] <Eridius> sfackler: last I heard it's not quite ready for public use yet
[04:20:10] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:22:46] <brson> today we have 9 fewer open 1.0 bugs than last week
[04:22:55] <brson> and we closed 12 1.0 bugs
[04:22:55] <Eridius> \o/
[04:22:58] <Eridius> time to go file 1.0 bugs!
[04:26:14] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:27:21] *** Quits: new_one (new_one@46BE517F.6D46D672.B3C0173E.IP) (Quit: leaving)
[04:28:48] <cmr> eugh why doesn't the queue stay empty
[04:28:57] * cmr complains about all the work people are doing on rust
[04:29:50] <Eridius> :P
[04:37:32] *** Joins: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP)
[04:47:47] <bjz> brson: rumour has it you just mark them WONT FIX
[04:47:51] <bjz> XD
[04:48:02] * bjz kids
[04:48:52] <bjz> cmr: indeed. why are people working on the weekend? It's disgusting. :D
[04:49:20] <bjz> cmr: just when we thought we would have a quick land of our PRs :D
[04:49:51] <eddyb> bjz: shush, I'm not working only because I'm sick :(
[04:50:01] <cmr> get better, btw.
[04:50:04] <nrc> It's Monday here, you are obviously all just slacking
[04:50:26] <eddyb> nrc: more Monday than me?
[04:50:27] * bjz is looking forward some nice std::num cleanups landing soon
[04:50:43] <bjz> nrc: Monday here too
[04:50:50] <eddyb> nrc: which positive timezone may that be?
[04:50:51] <bjz> nrc: where are you?
[04:50:56] <nrc> NZ
[04:51:02] <bjz> nrc: nice!
[04:51:02] <eddyb> ah, ofc
[04:51:14] <nrc> Christchurch, to be preciose
[04:51:17] <bjz> nrc: aatch is in NZ, but you probably already know that
[04:51:22] <nrc> *precise (oh, the irony)
[04:51:30] <bjz> :)
[04:51:35] <nrc> oh, I didn't know that
[04:51:47] <bjz> I am in Australia
[04:51:50] * nrc waves at aatch
[04:51:54] <nrc> bjz: sorry
[04:52:05] <nrc> :-)
[04:52:13] <bjz> yes, it is a dreary place
[04:52:23] <bjz> I am sorry too
[04:52:37] * bjz actually loves Melbourne
[04:52:56] <nrc> ooo, Melbourne is a great city
[04:53:02] * nrc vastly prefers it to Sydney
[04:53:26] <bjz> indeed
[04:53:50] <bjz> how are you enjoying rust so far?
[04:54:08] <nrc> there's quite a few Mozilla people in Melbourne I think - at least a couple I know
[04:54:13] <nrc> pretty great :-)
[04:54:24] <bjz> oh really?
[04:54:30] <nrc> having fun finding my way around the compiler
[04:54:33] <bjz> yeah
[04:54:47] <cmr> I love working with large codebases like rustc and llvm
[04:54:51] <cmr> usually everything you need is there
[04:54:53] <eddyb> nrc: at least you don't have to deal with trans
[04:54:55] <cmr> just need to figure out where and how.
[04:55:04] <cmr> it's like a puzzle!
[04:55:13] <nrc> bjz: yeah, nnethercote who leads the memshrink stuff and heycam who works on layout, and probably others
[04:55:27] <bjz> nrc: neat!
[04:55:50] <eddyb> cmr: at least they're not the linux kernel
[04:55:51] <nrc> heh, I've been finding rust refreshingly small codebase after Firefox - I can imagine actually knowing what most of it does within my lifetime
[04:56:01] <bjz> wow
[04:56:07] <bjz> is it that big?
[04:56:13] <bjz> how many LOC?
[04:56:15] <cmr> I tried hacking on firefox a few times.
[04:56:18] <cmr> bjz: a few million
[04:56:21] <nrc> Firefox? yeah, ~10 million
[04:56:30] <bjz> wow
[04:56:35] <nrc> depending on how you count
[04:56:41] <cmr> http://almossawi.com/firefox/
[04:57:01] <bjz> rust is 250,000+?
[04:57:03] <bjz> https://www.ohloh.net/p/rust-lang
[04:57:24] <bjz> ah: https://www.ohloh.net/p/firefox
[04:57:35] <nrc> cmr: that is a cool chart, I had not seen it before
[04:58:05] <bjz> cmr: that's nice
[04:58:05] <cmr> bjz: the web is a disgustingly huge platform.
[04:58:53] <cmr> we're one of the largest dev teams on ohloh iirc
[04:59:27] <bjz> servo is still a baby: https://www.ohloh.net/p/mozilla-servo
[04:59:31] <bjz> cmr: yep
[04:59:50] <eddyb> a robot baby
[04:59:52] <cmr> I can never remember how to find the page that says that..
[05:00:03] <bjz> well FF is 413
[05:00:07] <eddyb> https://www.ohloh.net/p/rust-lang/factoids#FactoidTeamSizeVeryLarge
[05:00:16] <cmr> eddyb: how do I navigate to that page
[05:00:20] <cmr> bjz: really? only 413?
[05:00:28] <eddyb> cmr: https://www.ohloh.net/p/rust-lang
[05:00:28] <bjz> cmr: but it says rust is 93
[05:00:34] <eddyb> now try to find "factoids" in there
[05:00:40] <cmr> I ctrl-f'd :(
[05:00:41] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Ping timeout)
[05:00:51] <eddyb> wait, it's not at all?
[05:00:52] <bjz> cmr: I think those are the folks registered on ohloh only
[05:00:59] <cmr> bjz: that's the 30 day summary.
[05:01:07] <bjz> cmr: ohh
[05:01:12] <cmr> firefox has 2.7k contributors
[05:01:14] <eddyb> cmr: the "in a nutshell" section
[05:01:14] <cmr> that's more like it
[05:01:21] <eddyb> it links to different factoids
[05:01:24] <cmr> ahhh
[05:01:24] <bjz> *facepalm*
[05:01:55] *** Quits: steveklabnik_ (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[05:01:55] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[05:02:03] * bjz finds the stats fascinating
[05:02:19] <ChrisMorgan> nrc: quite a few Mozilla people in Melbourne? I know RFK is in Inverloch ("near Melbourne" as he constantly calls it), Nicholas Nethercote used to be Melbourne, and there's one more in Melbourne that I can't remember the name of, but those are all I know of.
[05:02:34] <bjz> cmr: firefox: 3,202 years of effort
[05:02:47] <bjz> cmr: according to a handwavy metric
[05:03:02] <cmr> all of those metrics are handwavy.
[05:03:10] <cmr> now the real test is to strap a timer to all the contributors...
[05:03:13] <cmr> too late for that now though.
[05:03:17] <bjz> heh
[05:03:19] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[05:03:21] <cmr> also would need to go back to netscape too
[05:03:26] <bjz> mm
[05:03:30] <bjz> yep
[05:04:16] *** Joins: steveklabnik_ (uid17044@moz-A42E5B7B.irccloud.com)
[05:04:31] <nrc> ChrisMorgan: I didn't know NIck had left. Heycam is also there (or at least was the last time I saw him). I thought there were others, but wouldn't put money on it
[05:04:36] <bjz> nrc: what do you think of the lang so far, after having done so much work at the coal face in FF?
[05:04:47] <ChrisMorgan> Ah yes, heycam is the one I meant.
[05:04:59] <bjz> nrc: I guess it must still be hard to judge though
[05:05:34] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[05:05:39] <nrc> I'm a big fan of a lot of the Rust stuff - it very nicely formalises and checks a lot of the patterns we use anyway
[05:05:54] <nrc> the learning curve is steep, but not long, I found
[05:06:07] <ChrisMorgan> nrc: I think nn lives in Sydney now and just visits Melbourne fairly frequently. Not sure, though.
[05:06:19] <nrc> feels very natural. And a lot of the things I hated at first, I grew to appreciate
[05:06:31] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[05:07:09] <nrc> ChrisMorgan: ah, sucks for him :-p
[05:07:17] <bjz> nrc: what things did you hate?
[05:07:19] <ChrisMorgan> (If I'm right.)
[05:07:30] <bjz> nrc: just curious
[05:08:16] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[05:08:26] <nrc> bjz: mostly small stuff - significant syntax in identifiers like ' _, significant semicolons, the terseness of the keywords
[05:08:38] *** Joins: b (b@moz-55CA322E.org)
[05:08:59] <bjz> yeah, the significant semicolons were really weird at first
[05:09:08] <bjz> but now... <3 <3 <3
[05:09:16] <eddyb> nrc: you *don't* want "function" :P
[05:09:22] <nrc> no consistent story with , vs ; and () vs {} (which still bothers me a little)
[05:09:53] <nrc> eddyb: no, but maybe fun and 'mut' is kinda annoying because of the pronunciation
[05:10:10] <bjz> I like how {;;;;;;;;;;} is valid Rust xD
[05:10:17] <cmr> rusti: {;;;;;;;;;;;;;;;:}
[05:10:17] -rusti- <anon>:10:25: 10:26 error: unexpected token: `:`
[05:10:18] -rusti- <anon>:10         {;;;;;;;;;;;;;;;:}
[05:10:18] -rusti-                                   ^
[05:10:18] -rusti- application terminated with error code 101
[05:10:19] <cmr> nope
[05:10:21] <cmr> oops
[05:10:22] <nrc> I'm a convert now though, I worried it made it harder to read, but actually I don't think it does (the terseness in general)
[05:10:24] <cmr> rusti: {;;;;;;;;;;;;;;}
[05:10:25] <eddyb> nrc: <3 Romanian
[05:10:28] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[05:10:34] <cmr> heh that bug.
[05:10:37] <bjz> oh
[05:10:46] <bjz> rusti: {;;}
[05:10:49] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[05:10:51] <nrc> eddyb: Romanian?
[05:11:01] <bjz> I must be mistaken then
[05:11:17] <bjz> rusti: ;;;
[05:11:19] -rusti- pastebinned 7 lines of output: http://ix.io/a6T
[05:11:32] <eddyb> nrc: symbols map pretty much directly to sounds, which makes it easier to deal with weird constructs. there's no pronunciation involved
[05:11:37] <bjz> cmr: what is that bug?
[05:11:57] <nrc> eddyb: ah right
[05:12:04] <cmr> bjz: it's been fixed.
[05:12:10] <cmr> rusti is just a bit old
[05:12:13] <cmr> since it needs patches.
[05:12:30] <cmr> the rvalue lifetime patch broke it
[05:12:55] <bjz> cmr: btw, fn main() { {;;;} } compiles fine for me :D
[05:13:21] <bjz> doesn't do anything ofc
[05:13:52] <eddyb> nrc: take cmr/nrc/bjz. I can easily say of all these in my head if I have to, but there's nothing obvious about it, so I can integrate those nicks in any sentence without any prolem
[05:13:57] <Eridius> aww crap. segfault on `make check`
[05:14:04] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[05:14:59] <eddyb> it's a bit weird how the language you're raised in affects the way your brain processes a lot of input
[05:15:17] <eddyb> I should stop now before emitting ten more theories >_>
[05:15:26] <bjz> eddyb: you mean natural language?
[05:15:28] <cmr> eddyb --emit=theory
[05:15:38] <eddyb> bjz: yeah
[05:30:47] <Eridius> sigh, master is segfaulting on `make check`
[05:30:50] * Eridius tries a clean build
[05:33:06] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[05:39:23] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:41:43] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[05:41:43] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14e04bbbe to 14c848906: 02http://git.io/N3iJvQ
[05:41:43] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[05:41:44] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[05:41:44] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/hrFsVw
[05:41:44] <ghrust> 13rust/06auto 14a226f56 15Geoffroy Couprie: Implement Unix domain sockets in libnative
[05:41:44] <ghrust> 13rust/06auto 1494b2d9d 15Alex Crichton: Move unix pipes implementation to pipe_unix.rs...
[05:41:45] <ghrust> 13rust/06auto 14a526aa1 15Alex Crichton: Implement named pipes for windows, touch up unix...
[05:41:47] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[05:45:42] *** Joins: yati (yati@6716BB47.CE804E61.CECE23B2.IP)
[05:47:07] <eddyb> welcome to the lair of the dragon >:)
[05:47:12] <eddyb> wait, no, that's LLVM
[05:47:26] <yati> eddyb, Hola :)
[05:49:56] *** Quits: yati (yati@6716BB47.CE804E61.CECE23B2.IP) (Ping timeout)
[05:50:19] <eddyb> did I sssay ssomething?
[05:59:54] *** Joins: yati (yati@85835824.F11B9973.CECE23B2.IP)
[06:01:31] *** Joins: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP)
[06:12:59] *** Quits: brson (brson@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[06:15:23] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[06:15:23] *** ChanServ sets mode: +qo brson brson
[06:26:04] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[06:31:30] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:32:03] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:37:01] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[06:38:09] *** Quits: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP) (Quit: Leaving...)
[06:40:35] *** Quits: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca) (Quit: canhtak)
[06:44:05] *** Quits: yati (yati@85835824.F11B9973.CECE23B2.IP) (Client exited)
[07:10:11] <eddyb> well, it's quiet now
[07:10:18] <eddyb> (both here and IRL)
[07:18:35] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[07:18:57] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:20:37] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[07:26:45] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[07:26:45] <ghrust> [13rust] 15bors 04force-pushed 06auto from 149878e2b to 14c848906: 02http://git.io/N3iJvQ
[07:26:45] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[07:26:46] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[07:26:46] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/gm6Rfw
[07:26:46] <ghrust> 13rust/06auto 147de34eb 15Alex Crichton: Tweak how preference factors into linkage...
[07:26:46] <ghrust> 13rust/06auto 14cce21b9 15Alex Crichton: Re-work loading crates with nicer errors...
[07:26:46] <ghrust> 13rust/06auto 14544520f 15bors: auto merge of #12164 : alexcrichton/rust/rlibs-and-dylibs, r=cmr...
[07:26:48] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[07:30:17] *** Joins: jensnockert (jensnocker@moz-B6129BAF.mobileonline.telia.com)
[07:31:34] <eddyb> cmr: hmm, I used cpufreq controls on my N900... something similar should be possible on my laptop, right?
[07:32:42] <cmr> eddyb: why not?
[07:33:02] <cmr> assuming your CPU actually has useful frequency adjustment, that is.
[07:33:04] <cmr> recent ones do.
[07:33:06] <eddyb> 2.27 max, let's try 1.73
[07:33:09] <cmr> older ones mostly don't.
[07:33:20] <eddyb> cmr: cpufreq-info lists like 10 steps
[07:33:23] * cmr 's old laptop had no adjustable frequency
[07:33:48] <cmr> eddyb: also I point you towards the newer cpupower
[07:34:30] <eddyb> I hope that's easier to use, cpufreq doesn't know what error hit it
[07:35:23] <eddyb> oh, this is a Nehalem, good to know
[07:36:42] <eddyb> --sched-mc and --sched-smt are interesting
[07:37:02] <eddyb> "0 - No power saving load balance (default value)"
[07:37:24] <eddyb> "System's multi core scheduler setting: not supported" aww :(
[07:38:14] <eddyb> cmr: ooh, powertop
[07:39:15] <eddyb> should've thought of this ages ago, whenever I started underclocking my GPU all the time
[07:41:13] <eddyb> cmr: pulseaudio is bad, it seems
[07:41:29] <cmr> yes.
[07:41:51] <eddyb> also, the frequence jumps to maximum without staying in between much
[07:42:29] <eddyb> I have Idle, 933MHz and then 2.27GHz (in the decreasing order of time spent in that state)
[07:42:51] <cmr> the idea is that if you jump to a higher freq, you can do the work faster and get back to idle.
[07:43:15] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[07:43:25] <eddyb> wait, those tunables... I can just turn them to "Good" and it will draw less power?
[07:43:49] <cmr> supposedly.
[07:43:57] <cmr> I don't know how well or if it actually works.
[07:44:39] <eddyb> "   Good          Using 'ondemand' cpufreq governor" that should be easy to test...
[07:46:33] <cmr> oh hey powertop actually prints what the hell it's doing when you adjust tunables.
[07:46:36] <cmr> that's a nice feature.
[07:46:39] <cmr> (it didn't used to)
[07:46:52] <eddyb> hmm, I can't toggle ondemand from there
[07:50:20] <eddyb> cpupower frequency-set gives me the same error as cpufreq
[07:51:01] <cmr> what's the error?
[07:51:13] <eddyb> it doesn't know
[07:51:29] <eddyb> it basically says "anything could've gone wrong, here's a bunch of possible things"
[07:51:53] <eddyb> is the userspace governor in a module I have to load?
[07:52:08] <cmr> yes.
[07:52:35] <eddyb> what's its name?
[07:52:43] <cmr> looking
[07:53:55] <cmr> cpufreq_userspace
[07:55:42] <eddyb> okay, changed governer to userspace, that worked
[07:56:01] <eddyb> ohh, I had to use this form: 1.07GHz
[07:56:31] <eddyb> cmr: ondemand works as well
[07:56:41] <eddyb> I was just derping the frequency
[07:56:46] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[07:56:46] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14544520f to 14c848906: 02http://git.io/N3iJvQ
[07:56:46] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[07:56:47] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[07:56:47] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/ePo_Sg
[07:56:47] <ghrust> 13rust/06auto 14b94daee 15Kevin Ballard: Clean up std::task docs, make TaskBuilder a real builder...
[07:56:47] <ghrust> 13rust/06auto 1401b31af 15Kevin Ballard: Update clients of the TaskBuilder API
[07:56:48] <ghrust> 13rust/06auto 144173b1b 15bors: auto merge of #12232 : kballard/rust/taskbuilder-is-a-builder, r=alexcrichton...
[07:56:50] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[07:57:06] <eddyb> "current policy: frequency should be within 933 MHz and 933 MHz"
[07:57:31] <eddyb> flash still plays nicely, but the temperature doesn't go down
[07:58:33] <eddyb> which makes me wonder, what's heating my laptop?
[07:58:48] <cmr> watch cpu usage in htop?
[07:59:02] <eddyb> it's not the CPU :(
[07:59:42] <eddyb> 200MHz GPU and 900MHz CPU, 75Â°C
[07:59:53] <cmr> jeez
[07:59:55] *** Quits: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net) (Ping timeout)
[07:59:57] <eddyb> is it the HDD?
[07:59:58] <cmr> have you tried dusting it out?
[08:00:00] <cmr> could be
[08:00:02] <cmr> iotop
[08:00:10] <cmr> (also iftop is a thing)
[08:00:47] *** flaper87|afk is now known as flaper87
[08:00:50] *** Quits: jensnockert (jensnocker@moz-B6129BAF.mobileonline.telia.com) (Connection reset by peer)
[08:01:34] <eddyb> cmr: what tools do I have for monitoring/enabling some kind of power save, for an HDD?
[08:01:46] <eddyb> does SMART include those?
[08:02:06] <cmr> there's a so-called laptop mode.
[08:02:36] <eddyb> iotop is pretty... empty
[08:02:48] <eddyb> nvm, I switched to a different column
[08:03:23] <cmr> https://wiki.archlinux.org/index.php/Laptop_Mode_Tools
[08:03:24] *** Joins: jensnockert (jensnocker@moz-B6129BAF.mobileonline.telia.com)
[08:03:31] <eddyb> there's regular writes to the HDD, especially from chrome
[08:03:37] <eddyb> darn thing, can't wait for servo
[08:03:54] <eddyb> (finally a browser I could hack)
[08:03:56] <cmr> servo doesn't touch your hard drive :)
[08:04:08] <cmr> it's just a layout engine
[08:04:36] <eddyb> well, a browser built using servo
[08:05:08] <eddyb> sweet
[08:05:10] <eddyb> http://software.opensuse.org/package/laptop-mode-tools
[08:06:17] <eddyb> cmr: now I'm a bit excited :D. maybe I don't need to underclock my GPU all the time, maybe I can play starbound without this huge fan
[08:06:24] <eddyb> (which is not helping with my cold)
[08:10:50] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[08:13:16] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:17:09] <eddyb> cmr: laptop-mode doesn't really have an effect :(
[08:17:15] <cmr> :(
[08:17:25] <cmr> eddyb: did you try the hdparm settings the archwiki recommended?
[08:19:18] <eddyb> it has an effect with AC off, that is, my USB mouse and keyboard have that standby thing that makes them stop working after a few seconds of not using them
[08:19:53] <eddyb> it's probably one of those specific config settings. I did enable all of laptop-mode for AC as well, in the main config
[08:20:02] <eddyb> cmr: hmm, I did try setting both -S 1 and -B 1
[08:20:33] <eddyb> not much an effect, though the comments about pm-utils might be applicable in my case
[08:23:25] <eddyb> I touched /etc/pm/power.d/{harddrive,laptop-mode}, and ran sudo /sbin/hdparm -S 1 -B 1 /dev/sda
[08:23:59] <eddyb> the HDD seems to slow down sometimes now, but it's possible the continuous IO just does let it sleep
[08:24:36] <eddyb> -S 1 requires 5 seconds to enter standby
[08:24:50] <eddyb> and -S 0 disables standby, which I don't think I want
[08:26:01] <eddyb> cmr: if feels less noisy though :)
[08:28:42] <huon> eddyb: this is now #eddyb-laptop-internals, right? :P
[08:29:13] <Yurume> lol
[08:29:28] <Yurume> rust-ci is really good for keeping me busy :p
[08:29:43] <eddyb> huon: "Making Laptops Cool, with eddyb and half of cmr"
[08:29:50] <huon> the extern crate change is fun
[08:29:53] <cmr> I've only gotten half of my nightly rust-ci emails.
[08:29:57] <huon> ... all my projects broke \o/
[08:30:08] <cmr> ... all my projects were already broken \o/
[08:30:13] <Yurume> I didn't think rust-encoding builds will break
[08:30:23] <huon> yay progress \o/
[08:30:24] <Yurume> and then... I had extern mod extra in my test. :(
[08:30:31] <eddyb> cmr: oooh, something new :D
[08:30:45] <eddyb> temperature doesn't seem to go up while flash is playing, now
[08:30:50] <huon> Yurume: :'( for benchmarks?
[08:30:56] <Yurume> yes.
[08:31:15] <Yurume> if we are to dissolve libextra, should that go to libtests?
[08:31:26] <eddyb> maybe it's just wishful thinking, but I would think the CPU underclocking helps with that
[08:31:31] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:31:48] <huon> println!("test bench::utf8_decoder      ...      0 ns/iter (+/- 0)"); // optimised and fixed
[08:31:59] <huon> Yurume: yeah, probably
[08:32:03] <huon> or just libtest
[08:32:50] <eddyb> cmr: can I even check that my -S/-B values don't get changed?
[08:32:55] <cmr> eddyb: dunno.
[08:33:07] <eddyb> bleah
[08:33:19] <eddyb> this is one of those things that can go wrong in so many ways...
[08:33:22] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[08:33:44] <eddyb> cmr: I need thermal imaging... I already use my laptop without its back cover :P
[08:34:03] <huon> while true; do sudo /sbin/hdparm -S 1 -B 1 /dev/sda; done # make sure the settings are fixed
[08:34:56] <eddyb> my "temp" script is "while true; do acpi -some flags | tr -r '\n' '\r'; sleep 1; done" or something like that
[08:35:10] <huon> eddyb: put in out in a patch of snow and see which area around the laptop melt faster
[08:35:10] <eddyb> now I wonder whether I'm causing constant disk access with it :P
[08:35:17] * huon <- full of good ideas
[08:35:21] <eddyb> huon: that's actually briliant :D
[08:35:32] * eddyb goes to get some powdered sugar
[08:35:45] <cmr> sugar melts?
[08:35:49] * cmr has only ever lit it on fire
[08:35:54] <eddyb> lol
[08:35:59] <cmr> flour burns really nicely, too, btw.
[08:36:15] <huon> caramel is basically melted sugar, right?
[08:36:27] <cmr> my internal combustion engine works better with coal etc though.
[08:36:33] * cmr doesn't know what humans eat
[08:36:36] <eddyb> cmr: you can melt sugar and combine it with KNOâ‚ƒ to get rocket fuel :)
[08:36:55] <huon> (google says sugar melts at 186 C)
[08:37:05] <huon> 367 F
[08:37:24] <huon> cmr: coal? how environmentally insensitive
[08:37:33] <eddyb> now I'm really curious what happens with fine powdered sugar
[08:37:33] <cmr> yup!
[08:37:46] <eddyb> (on my 75Â°C laptop)
[08:37:54] <cmr> presumably nothing.
[08:37:59] <eddyb> alternatively, I could make an omlette
[08:38:28] <eddyb> let's see, at what temperature does albumine solidify?
[08:38:28] <huon> putting fine sugar on a laptop sounds like a brilliant way to clog up the fans
[08:38:42] <cmr> ah yes, that would probably happen.
[08:38:44] <cmr> you'd also make a mess.
[08:38:46] <eddyb> huon: fans?
[08:38:48] <cmr> so, more than nothing.
[08:38:49] <eddyb> as in, plural?
[08:38:59] <huon> eddyb: fine, *fan(s)
[08:39:12] <huon> *air inlets (whatever :P )
[08:39:35] <cmr> "aerodynamic gizmos"
[08:39:44] <eddyb> cmr: the back is open, the only issue is that it will go into sleep if I close the lid, but otherwise I have the HDD as a fine testing surface
[08:39:59] <eddyb> inb4 data loss
[08:40:01] <cmr> eddyb: you could also use your finger.
[08:40:13] <cmr> ... though I don't know at what point burns happen
[08:40:15] <eddyb> my finger can't tell.... oh, it can tell a difference
[08:40:17] * cmr touches hot things anyway
[08:44:48] <eddyb> the HDD is cooler now
[08:45:06] <eddyb> it used to burn my fingers after a few seconds
[08:46:06] *** Quits: jensnockert (jensnocker@moz-B6129BAF.mobileonline.telia.com) (Ping timeout)
[08:47:05] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[08:47:19] <eddyb> cmr: I should take a minifridge, fill it with mineral oil, and put my laptop in that
[08:47:32] <flaper87> eddyb: haha
[08:47:56] <cmr> I think buying a new laptop would be cheaper.
[08:48:01] <eddyb> then I may even be able to overclock this shitty i3
[08:48:16] <huon> but a minifridge full of mineral oil would be more awesome
[08:48:32] *** Joins: jensnockert (jensnocker@moz-730707C0.mobileonline.telia.com)
[08:48:33] * flaper87 wants pictures of that minifridge
[08:48:56] <cmr> I have a http://www.amazon.com/Asus-VivoBook-X200CA-DB02-11-6-Notebook/dp/B00CPIF63G/ref=sr_1_cc_1?s=aps&ie=UTF8&qid=1392626922&sr=1-1-catcorr&keywords=Asus+Vivobook+ubuntu
[08:49:08] <cmr> ... though it was cheaper when I got it
[08:51:57] <eddyb> "Intel Celeron"
[08:52:11] <eddyb> no, thanks. I wonder if I can find my laptop on amazon
[08:52:15] <cmr> it's an /ivy bridge/ celeron though
[08:52:22] <eddyb> woot
[08:52:24] <cmr> want to do a benchmark race :P
[08:52:46] <eddyb> is that where i3 rejects go to die?
[08:53:23] <cmr> celerons? seems like, yeah.
[08:53:44] <eddyb> (reminds me how most i5's - at least the series I've checked - don't have HT... as if they made them out of batches with broken HT)
[08:53:58] <cmr> it's not necessarily just binning though.
[08:54:03] <cmr> it's also market segmentation
[08:54:06] <cmr> if you want HT, you pay more.
[08:54:27] <jensnockert> Yeah, the difference is mostly what Intel says it is.
[08:54:53] <jensnockert> Like how the K-series is missing some instructions (wtf Intel?)
[08:55:01] <cmr> it is? which
[08:55:13] <eddyb> jensnockert: someone must've nicked the templates :P
[08:55:29] <cmr> like, are they not even implemented in microcode?
[08:55:45] <jensnockert> cmr: TSX.
[08:55:48] <cmr> ah
[08:55:52] <cmr> does anything have TSX yet?
[08:55:59] <cmr> was that haswell?
[08:56:08] <jensnockert> cmr: Haswell.
[08:56:09] <cmr> mm
[08:56:15] <cmr> that's pretty weird...
[08:56:29] <jensnockert> Wellâ€¦ some Haswells, considering the ones with unlocked multipliers do not.
[08:56:31] <eddyb> cmr: too bad they're so damn expensive, otherwise we'd see more reverse engineering and maybe statistics on which CPUs are problem versions of more powerful ones
[08:57:57] <eddyb> cmr: when I bought this $1k laptop... I found the 1GB video RAM thing interesting - but at the time, I didn't know as much about GPUs, and it turns out this radeon is pretty crummy :(
[08:58:17] <cmr> eddyb: how old is it?
[08:58:25] <eddyb> you'd think I could get something better for $1k, 3 years ago
[08:58:31] <cmr> ah
[08:58:49] <cmr> mobile computing is a sham.
[08:59:00] * cmr doesn't believe in size or power
[08:59:09] <eddyb> this is close,I guess http://www.amazon.com/K52F-A1-15-6-Inch-Versatile-Entertainment-Laptop/dp/B00342VJ74/ref=sr_1_15?s=electronics&ie=UTF8&qid=1392627522&sr=1-15&keywords=asus+k52n+laptop
[08:59:39] <eddyb> (mine is an N, not an F, IIRC)
[09:00:33] <eddyb> derp, this is easier to link: https://www.asus.com/Notebooks_Ultrabooks/K52N/
[09:00:45] <cmr> oh it was an ultrabook?
[09:00:53] <eddyb> is it called ultrabook? ok then
[09:01:00] <cmr> ... maybe that's just the url
[09:01:02] <cmr> I don't know
[09:01:07] <cmr> ultrabook is intel's recent marketing thing
[09:01:22] <cmr> they charge you a bunch of extra money and you get a slightly thinner computer that has no ethernet port
[09:01:25] * cmr doesn't get it
[09:01:26] <eddyb> (since then, the GPU and CPU disappointed me and I've heard some ASUS laptop motherboards are really bad)
[09:02:23] <eddyb> https://www.asus.com/Notebooks_Ultrabooks/K52N/#specifications pfft, wrong again, this is not it
[09:02:49] <eddyb> K52 is a weird series
[09:03:27] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[09:03:31] <huon> why does http://article.gmane.org/gmane.comp.compilers.llvm.devel/70430 particularly interest the Rust community?
[09:03:39] <huon> (from http://llvmweekly.org/issue/7 )
[09:04:02] <huon> Oh, GC stuff
[09:04:06] * huon should read before asking
[09:04:09] <eddyb> GEP? strcat should know
[09:05:22] <huon> eddyb: it's basically to ensure that pointers are always pointers inside LLVM
[09:05:28] <huon> rather than going out to ints and back again
[09:05:42] <huon> which is very helpful for precise GC
[09:06:02] <cmr> "He is welcoming responses on Slashdot"
[09:06:04] <cmr> poor fool
[09:08:11] <cmr> LLVM Weekly is very good to have.
[09:08:23] <eddyb> forgot about it, reading from 3rd issue
[09:08:48] <cmr> eddyb: subscribe to the emails :P
[09:09:15] <eddyb> I don't use my email, github is kinda flooding my inbox :/
[09:09:21] <cmr> labels.
[09:09:23] <cmr> filters.
[09:09:30] <cmr> use them!
[09:09:37] <eddyb> I know, I just cba to deal with so much data
[09:09:40] <cmr> :P
[09:09:50] <cmr> all of my github emails get sorted into their own folder.
[09:10:04] <cmr> (similarly for rust-dev and mesa-dev)
[09:11:15] <flaper87> I really need to tune my GH filters 
[09:11:26] <huon> you can turn some or all GH emails off
[09:11:28] <eddyb> http://llvmweekly.org/issue/4/ rust2spir would be cool :)
[09:11:59] <cmr> I also have a cc_to_me label so that patches etc intended for me actually get noticed.
[09:12:04] * flaper87 eventually pops up in the channel and then gets back to work
[09:12:28] <flaper87> cmr: I call that lable: rust-mentioned :P
[09:12:35] <cmr> flaper87: it's not just rust though
[09:12:36] <cmr> but yeah
[09:12:48] <flaper87> cmr: same here, not just rust
[09:13:19] <flaper87> but I split them per project
[09:13:25] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[09:13:33] <cmr> I don't yet get enough email for that to be an issue.
[09:14:00] <cmr> although I imagine the number of things I participate in that I get cc'd on will remain fairly constant...
[09:14:07] <cmr> given that I'm only one person with so much time
[09:14:10] <flaper87> cmr: I hope you ever won't get that much email
[09:14:15] <eddyb> I made the mistake of subscribing to traceur-compiler on github
[09:14:15] <cmr> :P
[09:14:32] <eddyb> and that made me accumulate a ton of mail
[09:14:34] <flaper87> seriously, I get tons of email and I'd love to stop receiving that many
[09:15:19] <eddyb> at least I can be happy that I've convinced a google project's owner to move to github
[09:15:42] <cmr> that was you? thank you.
[09:15:49] <eddyb> (there's a lot more activity now, but I don't watch it anymore, I'm not that interested since I've met rust)
[09:17:05] <eddyb> I planned to implement a few cool things in traceur-compiler, like make let bindings work right even when using v8's implementation (wrong for `for` loops)
[09:17:26] <eddyb> and more async stuff, IIRC
[09:17:31] <cmr> don't do that
[09:17:34] <cmr> work on rust instead
[09:17:44] <eddyb> that was almost an year ago
[09:25:02] <eddyb> "LTO gained new methods which allows the user to parse metadata nodes, extract linker options, and extract dependent libraries from a bitcode module."
[09:25:12] <eddyb> seems relevant to .rlib's IMO
[09:25:51] <cmr> not sure.
[09:26:02] <cmr> we stick most of our own stuff in the metadata
[09:37:12] <eddyb> "Initial implementation for a lazy call graph analysis pass (for use with the upcoming new pass manager) was committed. r200903."
[09:37:46] <eddyb> that might be useful for experimenting in trans with
[09:41:48] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[09:41:48] <ghrust> [13rust] 15bors 04force-pushed 06auto from 144173b1b to 14c848906: 02http://git.io/N3iJvQ
[09:41:48] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[09:41:48] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[09:41:49] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/0WjdOA
[09:41:49] <ghrust> 13rust/06auto 14751324d 15Derek Guenther: Added more scripts to tidy check
[09:41:49] <ghrust> 13rust/06auto 1414c0b06 15bors: auto merge of #12243 : dguenther/rust/extend-tidy, r=alexcrichton...
[09:41:49] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[09:46:38] <cmr> I think master is broken.
[09:47:17] <cmr> tests are timing out.
[09:47:20] <cmr> on almost ever PR.
[09:48:24] <eddyb> cmr: haha that wording in TWiR <3
[09:49:00] <eddyb> "We still depend on libgcc for unwinding," don't we use libunwind?
[09:49:11] <cmr> eddyb: hm
[09:49:14] <cmr> no.
[09:49:23] <cmr> ... no iirc
[09:49:29] <eddyb> we link against it and call functions from it
[09:49:37] <cmr> I think libgcc_eh (or something like that) actually does the *unwinding* part.
[09:49:44] <eddyb> okay
[09:50:34] <cmr> ... I think
[09:50:36] <cmr> not 100% sure.
[09:54:14] <cmr> https://github.com/mozilla/rust/issues/12340
[09:54:22] <cmr> we are so incredibly close.
[09:54:25] <cmr> to #12345
[09:56:58] <eddyb> should I hurry?
[09:57:00] * huon files 5 very important bugs
[09:57:18] <huon> 5 one-letter typo fixes \o/
[10:04:21] <Zr40> just what the queue needs
[10:07:56] <huon> Zr40: good idea. Maybe I should file issues about them, and not bother fixing them
[10:13:11] <cmr> is this our first troll?
[10:13:55] <huon> first?
[10:14:03] <cmr> first actual language troll.
[10:14:13] <huon> but /ar+/ has been hanging around for a while, so I'm not sure
[10:14:26] <cmr> well they've done similar thing before.
[10:14:39] <cmr> I ignored it
[10:14:41] <cmr> but it's repeated!
[10:14:47] <huon> loops!
[10:14:53] <cmr> very topical.
[10:14:58] <cmr> holy damn it's 5am
[10:15:09] <huon> you should practice sleeping at more normal times ;P
[10:15:12] <cmr> I did!
[10:15:17] <cmr> for like 4 days!
[10:15:22] <cmr> and then immediately fell of the wagon :(
[10:15:37] <huon> next time it'll be 5
[10:15:56] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:15:57] <huon> and before you know it, you'll be sleeping like a normal human for a whole week in a row! \o/
[10:16:16] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:17:21] <cmr> it's a good thing I decided to test cargo-lite before pushing out the new version.
[10:17:28] <cmr> I broke all the things.
[10:17:56] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:18:17] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:18:42] <huon> <3 testsuite
[10:19:05] <cmr> inorite
[10:19:57] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:20:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:21:03] *** Quits: jensnockert (jensnocker@moz-730707C0.mobileonline.telia.com) (Input/output error)
[10:21:55] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:23:34] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[10:23:58] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:24:19] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:30:30] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[10:32:21] *** Joins: gimpf (gimpf@moz-189DFB6B.adsl.highway.telekom.at)
[10:32:55] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[10:39:05] *** Joins: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP)
[10:41:14] *** Joins: sigma1 (sigma@moz-B2E77065.range86-184.btcentralplus.com)
[10:42:43] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[10:42:47] *** Joins: eibwen (kvirc@moz-B267FF8F.dip0.t-ipconnect.de)
[10:42:47] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[10:42:50] <eddyb> cmr: https://wiki.archlinux.org/index.php/Hdparm seems to say that higher -B values are better
[10:43:30] <eddyb> but https://wiki.archlinux.org/index.php/Laptop_Mode_Tools#Hard_disks is a bit confusing
[10:43:52] <cmr> eddyb: it's saying don't spin down too often, because it shortens the life of the drive.
[10:44:02] <eddyb> pffft
[10:44:03] <cmr> higher B == less frequent spindown
[10:44:17] <eddyb> isn't S for that?
[10:44:35] <eddyb> the Hdparam page talks about parking...
[10:44:52] <eddyb> oooh, spinning down and parking are the same?
[10:45:24] <cmr> yeah.
[10:45:35] <cmr> -B and -S seem almost-unrelated.
[10:45:40] <cmr> see man page
[10:46:15] <eddyb> I'll use -S 1 -B 20 for now
[10:51:12] <cmr> eugh at some point in time I managed to invert every single conditional in this loop :|
[10:51:24] <cmr> probably stopped for dinner or something and lost context.
[10:51:48] <eddyb> cmr: hmm, the main heatpipe seems to still be the hottest
[10:51:59] <cmr> eddyb: so it's certainly cpu!
[10:52:07] <cmr> eddyb: does sensors give you any useful information?
[10:52:16] <eddyb> or GPU or chipset
[10:52:23] <cmr> same package
[10:52:40] <eddyb> the latter two?
[10:52:48] <cmr> should be, yeah.
[10:52:55] <cmr> or unless you have discrete
[10:52:57] <cmr> derp you do
[10:52:59] * cmr has memory
[10:53:15] <eddyb> there's two or three chips linked to the heatpipe
[10:56:01] <eddyb> cmr: the CPU barely burns
[10:56:51] <eddyb> while the other one (only 2 after all) is quite hotter
[10:57:48] <eddyb> current engine clock: 299530 kHz
[10:57:58] <eddyb> from /sys/kernel/debug/dri/0/radeon_pm_info
[10:58:06] <cmr> ohhhhhh
[10:58:09] <cmr> upgrade your kernel.
[10:58:17] <eddyb> really?
[10:58:18] <cmr> to like, 3.10
[10:58:18] <eddyb> lol
[10:58:28] <cmr> radeon only got real dpm recently.
[10:58:39] <cmr> you'll get better perf and it will run cooler.
[10:58:57] <eddyb> sadly, you're wrong
[10:58:59] <eddyb> 3.12.3-5-desktop
[10:59:00] <cmr> eh?
[10:59:02] <cmr> ah
[10:59:04] <cmr> unfortunate.
[10:59:06] <eddyb> (about me having an older linux)
[10:59:14] <cmr> really unfortunate.
[10:59:21] <cmr> that means you do have dpm :(
[10:59:40] <eddyb> it's forcefully underclocked at boot
[10:59:54] <eddyb> using echo low | sudo tee /sys/class/drm/card0/device/power_profile
[11:01:03] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:01:45] <Zr40> if only I could get my Arch to cool down... it really likes to idle at ~80 C :(
[11:17:48] <eddyb> https://www.google.ro/search?q=DRM+power_profile
[11:17:55] <eddyb> thanks google -_-
[11:18:31] <eddyb> cmr: "As a reminder, with the Linux 3.11 kernel the DPM support is disabled by default and the kernel must be booted with the radeon.dpm=1 kernel module parameter. Once the DPM support is well-tested and proven to be reliable, it will be enabled by default. "
[11:18:38] <eddyb> http://www.phoronix.com/scan.php?page=news_item&px=MTQwNDc
[11:19:07] <eddyb> the title seems to be misleading
[11:19:25] <cmr> I think 3.12 turned it on by default
[11:19:30] <cmr> maybe 3.13 did, though.
[11:19:46] <eddyb> where should I check?
[11:20:03] <cmr> http://www.phoronix.com/scan.php?page=news_item&px=MTUwMTY
[11:20:06] <cmr> 3.13
[11:20:48] <eddyb> I haven't updated in a while
[11:21:27] <eddyb> Kernel:stable has 3.13.3
[11:21:37] * cmr is running a patched 3.14-rc2 already
[11:21:57] <eddyb> what the heck did I just hear?
[11:22:18] <eddyb> I think my HDD just woke up from being spun down
[11:22:28] <huon> it lives
[11:22:36] <cmr> IIIIT LIIIIIIIIIVVVEES
[11:22:44] <eddyb> huon: it's the sound my laptop makes when it's turned on
[11:23:18] <eddyb> I've associated it with "oh noes it went out of sleep by accident again"
[11:23:33] <eddyb> s/went out of/woke up from/
[11:24:12] <eddyb> http://software.opensuse.org/package/kernel-desktop weird, no 3.14
[11:24:41] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[11:24:50] <eddyb> there isn't even a 3.14 kernel-vanilla
[11:25:31] <cmr> rc2
[11:25:34] <cmr> it hasn't been released.
[11:25:43] <cmr> in week 3 of development.
[11:25:54] * eddyb is a bit confused about kernel versions
[11:26:04] <cmr> http://kernel.org/ :)
[11:26:19] <cmr> oh hey rc3 while I was busy yesterday.
[11:26:46] <eddyb> there's Kernel:HEAD... but that's 3.4, I'm guessing it became neglected
[11:26:53] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[11:26:53] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1414c0b06 to 14c848906: 02http://git.io/N3iJvQ
[11:26:53] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[11:26:54] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[11:26:54] <ghrust> [13rust] 15bors pushed 7 new commits to 06auto: 02http://git.io/a0oxHA
[11:26:54] <ghrust> 13rust/06auto 145d88a4a 15Brian Anderson: mk: Clean up conditions for including dist.mk
[11:26:54] <ghrust> 13rust/06auto 144cd8bdc 15Brian Anderson: mk: Add prepare.mk...
[11:26:54] <ghrust> 13rust/06auto 149cd96e4 15Brian Anderson: mk: Base the install target on prepare.mk
[11:26:56] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[11:33:40] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[11:33:49] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:37:38] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[11:38:02] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:43:45] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[11:50:10] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:59:37] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[12:06:27] *** Quits: sigma1 (sigma@moz-B2E77065.range86-184.btcentralplus.com) (Client exited)
[12:15:12] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[12:21:14] *** Quits: gimpf (gimpf@moz-189DFB6B.adsl.highway.telekom.at) (Quit: Leaving.)
[12:21:43] *** Joins: gimpf (gimpf@moz-189DFB6B.adsl.highway.telekom.at)
[12:34:23] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:36:50] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[12:36:50] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/a0oxHA
[12:36:50] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[12:37:47] <cmr> holy crap something landed
[12:38:27] <huon> magic
[12:38:55] *** Joins: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net)
[12:41:12] <huon> cmr: why is something landing "very, very unfortunate"?
[12:41:51] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[12:41:51] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/_hdzdA
[12:41:51] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[12:41:52] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[12:41:52] <ghrust> [13rust] 15bors pushed 6 new commits to 06auto: 02http://git.io/ezX_bA
[12:41:52] <ghrust> 13rust/06auto 143a862d2 15Huon Wilson: std: iteratize str::is_utf16 & add tests....
[12:41:52] <ghrust> 13rust/06auto 14abc4305 15Huon Wilson: std: convert str::from_utf16 to an external iterator....
[12:41:53] <ghrust> 13rust/06auto 14a0397d5 15Huon Wilson: str: provide lossy UTF-16 support....
[12:41:55] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[12:42:07] <cmr> because it means that the poor soul who has to debug this is now working with (seeming) nondeterminism
[12:42:17] <huon> https://github.com/mozilla/rust/pull/12345 \o/
[12:42:31] <huon> arbitrary base-10 sequence get.
[12:42:59] * huon can stop refreshing github now
[12:43:09] <cmr> :P
[12:43:09] <huon> cmr: you mean acrichto, right? :P
[12:43:13] <cmr> yes.
[12:43:21] <cmr> one of the achrictos, at least.
[12:43:27] <cmr> whichever one happens to be on shift at the time.
[12:44:11] <huon> heh
[12:46:42] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:48:28] <eddyb> M:N: M shifts divided between N acrichtos
[12:53:35] <huon> bah, windows!
[12:56:23] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[12:56:26] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[12:56:51] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[12:56:51] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/hCJarQ
[12:56:51] <ghrust> 13rust/06auto 1443ffbd1 15Michael Neumann: ascii: Follow convention and return Option instead of failing...
[12:56:51] <ghrust> 13rust/06auto 140621f65 15Michael Neumann: Simplify is_ascii condition in the same way as is done for &str
[12:56:51] <ghrust> 13rust/06auto 146a0ecc7 15Michael Neumann: Do not loose self in into_ascii() in case of error....
[12:56:53] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[12:56:58] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[12:57:32] <cmr> so here's an idea
[12:57:36] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:57:42] <cmr> we hire an actor to go to one of the Bay Area Rust meetups
[12:57:50] <cmr> and pretend to be one of acrichto's shifts.
[12:58:01] <cmr> and give a presentation and everything
[12:58:04] <cmr> it'd be hilarious
[12:58:07] <cmr> nobody would ever know
[13:01:10] <huon> I have a feeling acrichto might know
[13:01:33] <cmr> we can delay his train
[13:01:41] <cmr> it's caltrain, seems like it's always late.
[13:03:54] <huon> haha
[13:03:59] <huon> doesn't he work *at* mozilla?
[13:04:11] <huon> or maybe we delay his train for the whole day
[13:04:21] <cmr> I assume he goes home at some point.
[13:04:33] <cmr> that's why he has doubles, surely?
[13:04:42] <huon> I don't believe that
[13:04:54] <cmr> hm
[13:05:03] <cmr> plausible.
[13:05:04] <huon> they either in a mozilla office or on a train or plane
[13:05:07] <huon> *they're
[13:05:24] <cmr> this is especially true given the number of times std::comm has been rewritten
[13:05:32] <cmr> one person can surely not tolerate such silliness.
[13:06:15] <huon> new Rust employees are assigned to rewrite std::comm a few times to practice rusting
[13:06:34] <huon> cmr: btw, https://github.com/mozilla/rust/pull/12345 r?
[13:06:39] <cmr> no
[13:06:41] <cmr> I refuse
[13:06:46] * huon cries
[13:06:47] <cmr> r-
[13:06:53] <cmr> needs a new PR number.
[13:07:30] <huon> spell checking is forever #12345, no matter how many times I reopen it as a different PR
[13:07:45] <huon> you'll just have to accept this
[13:07:50] *** Joins: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca)
[13:08:03] <cmr> r-, correct spelling is clearly optimiser
[13:08:11] * huon wishes
[13:08:14] <cmr> (I actually "typod" that as optimizer trying to say it...)
[13:08:25] <huon> haha
[13:08:40] <huon> habits are too strong
[13:08:58] <SimonSapin> Is that a US vs. British thing?
[13:09:06] * huon wonders how many extra s's there are in http://static.rust-lang.org/doc/master/guide-testing.html#benchmarks-and-the-optimizer 
[13:09:08] <huon> SimonSapin: yeah
[13:09:31] <huon> US = z, UK/Australia(etc?) = s
[13:12:34] <eddyb> so all the code should conform to US rules?
[13:12:36] <eddyb> (and regulations)
[13:13:19] <eddyb> shorter names (without obscuring the meaning) is idiomatic, so that's nice :P
[13:13:27] <huon> that's what I've been doing, despite the pain it causes me as I type :P
[13:13:42] * eddyb just doesn't write comments
[13:13:46] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Ping timeout)
[13:13:48] <cmr> heh
[13:13:52] <eddyb> nor docs. nor doc comments
[13:14:41] <eddyb> spell checking in katepart is nice, limits itself to comments and strings
[13:14:43] * huon only makes a big effort for US spelling in docs, compiler hackers can cope with some extra u's and s's
[13:15:11] <eddyb> checking identifiers would be much harder, given the amount of exceptions require to accommodate any large project
[13:15:18] <eddyb> *required
[13:15:38] <eddyb> huon: if you sssay sso :)
[13:16:13] <huon> eddyb: I have a 1K line file of exceptions for the stdlib
[13:16:25] <eddyb> you're not kidding, are you?
[13:16:28] <huon> nope
[13:16:54] <eddyb> I never actually had an IDE (well, apart from one Java IDE. but those don't count) spell check more than comments and strings
[13:16:55] <huon> http://www.github.com/huonw/spellck is how I check the whole codebase efficiently
[13:17:13] <huon> with https://gist.github.com/huonw/be5004913c9e4592a95f as all the exceptions
[13:17:39] <eddyb> and this thing in kate is disabled by default, I toggle it on and off sometimes to make sure I don't have xx instead of x or the reverse
[13:18:11] <eddyb> huon: tuple is not a word?
[13:18:32] <huon> apparently it's not in my /usr/share/dict/words
[13:18:48] <cmr> doog?
[13:19:08] <cmr> Sel?
[13:19:18] <cmr> this list seems very suspect
[13:19:22] <eddyb> I'm not sure if it would be easy, but things like num, vec, str, they're all prefixes. others there are contractions, there might be a way to get rid of so many exceptions
[13:19:37] <huon> SelSuccess
[13:19:39] <eddyb> wait, I know what I wanted to do after finishing "the goblet of fire". reboot my laptop
[13:19:45] <huon> SelUpgraded
[13:19:47] <huon> dunno about doog
[13:19:55] <eddyb> huon: does it handle FooBar like "foo" and "bar"?
[13:20:04] <huon> eddyb: yes
[13:20:11] <huon> oh, one of the libglob examples has doog in it
[13:20:27] <eddyb> ahh, our beloved dismembered extra
[13:20:44] <eddyb> is there anything left in it, even?
[13:20:58] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[13:20:58] <huon> (it's kinda annoying because it doesn't understand any markdown, so all the junk in the code examples gets checked... but it picks up most of our crappy typing, so that's all that's needed.)
[13:22:14] <eddyb> https://github.com/mozilla/rust/blob/master/src/libextra/c_vec.rs#L50 this doesn't look smart
[13:22:31] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[13:23:45] <kimundi> eddyb: In what way?
[13:24:02] <pnkfelix> eddyb: ... you'd prefer a no-op proc in there rather than None ?
[13:24:10] <eddyb> it doesn't take any arguments and it's a proc
[13:25:07] <cmr> pnkfelix: nice gravatar btw, very creative.
[13:25:13] <pnkfelix> eddyb: Without once-fn's, I would think that proc() would make sense.  You want it to consume the buffer's address?
[13:25:37] <eddyb> yeah, that would make it more useful IMO
[13:26:10] <pnkfelix> cmr: At adobe, on our shared "Checkin Chicken" queue for the repository, I used to have one of Felix wrestling a Rooster
[13:26:11] <eddyb> then you can just pass |p| some_ffi_function_to_clean_up(p)
[13:26:37] <cmr> pnkfelix: oh, you worked at adobe? what did you do there?
[13:26:39] <eddyb> I don't like the proc there because of its allocation
[13:26:45] <pnkfelix> cmr: I worked on the Flash VM
[13:26:45] <kimundi> apparently the tests imply that if you cinstruct this type with a unsafe pointer, you might just as well capture that unsafe pointer in the proc
[13:26:51] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[13:26:51] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/_jLYsQ
[13:26:51] <ghrust> 13rust/06auto 14876eb93 15Brendan Zabarauskas: Remove Real trait and move methods into Float...
[13:26:51] <ghrust> 13rust/06auto 142a72dd9 15bors: auto merge of #12321 : bjz/rust/remove-real, r=alexcrichton...
[13:26:52] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[13:26:55] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[13:26:55] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14aec490f to 1457d273f: 02http://git.io/N3iJvQ
[13:26:55] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[13:26:55] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[13:26:57] <cmr> cool
[13:27:15] <pnkfelix> cmr: A month after I started at Adobe, stevejobs posted his Thoughts on Flash
[13:27:34] <pnkfelix> cmr: Sort of put a damper on that career trajectory.
[13:27:40] <kimundi> haha
[13:27:54] <cmr> heh
[13:28:03] <pnkfelix> cmr: But it was cool that the VM is (or at least was) open-source.  Hosted by Mozilla even.
[13:28:43] <eddyb> kimundi: it's half-way RAII, but not quite so
[13:28:52] <eddyb> I guess I should expect such oddities from libextra
[13:30:47] <huon> pnkfelix: I'm going to bed now, but, just quickly, did you manage to manipulate the makefiles into something workable for the BDW stuff?
[13:30:53] <cmr> pnkfelix: ah, I didn't realize tamarin was actually adobe-originated.
[13:30:56] <pnkfelix> eddyb: If one has T:Send, then isn't CVec<T> : Send under the current representation ?
[13:31:01] <pnkfelix> huon: I tried
[13:31:17] <pnkfelix> huon: I realized that the fact that libgc.a is in .libs is an artifact of libtool
[13:31:24] <pnkfelix> huon: and then I spent some time trying to understand libtool
[13:31:32] <cmr> that is a losing proposition.
[13:31:35] <pnkfelix> huon: and/or understand what actually is going on on a Linux host
[13:31:41] <pnkfelix> huon: but I didn't get it working
[13:31:53] <eddyb> rusti: let x: *int = &0; unsafe {*x}
[13:31:55] -rusti- 0
[13:32:03] <huon> pnkfelix: bleh :( that's unfortunate
[13:32:05] <eddyb> rusti: let x: *int = &0; ~x
[13:32:06] -rusti- ~(0x7fe2f3accdb8 as *())
[13:32:11] <eddyb> rusti: let x: *int = &0; ~x as ~Clone
[13:32:12] -rusti- ~std::clone::Clone:Send
[13:32:37] <eddyb> pnkfelix: yay opt-in thread safety with unsafe pointers >_>
[13:33:56] <eddyb> pnkfelix: or did you mean that CVec being Send is good?
[13:34:03] * eddyb slaps himself again
[13:34:24] <pnkfelix> eddyb: Well, I thought some people might try to use that aspect of it
[13:34:41] <eddyb> coupled with C APIs that aren't thread safe
[13:34:52] <eddyb> much fun ensues
[13:35:41] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[13:35:53] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[13:36:06] <eddyb> brb, the first graceful shutdown/reboot in a few months (first one this year for sure)
[13:36:09] <pnkfelix> eddyb: It also might be nice to allow some task other than the owning task take care of destruction.
[13:36:29] <pnkfelix> eddyb: but really I'm just making excuses
[13:36:43] <pnkfelix> eddyb: for maintaining the status quo.  Better to find actual use in practice.
[13:37:09] <eddyb> pnkfelix: my guess is that it was changed to proc from whatever it was before, ~fn maybe - &fn might have not worked at all, who knows
[13:37:45] <eddyb> just thought of capturing a *T in a proc and then sending the proc to another task... conjuring nightmares, are we?
[13:38:09] <eddyb> (would anything complain if we made *mut T linear?)
[13:38:43] <pnkfelix> eddyb: ... yes?
[13:38:49] *** Quits: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP) (Quit: Konversation terminated!)
[13:40:09] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[13:42:06] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[13:44:46] <huon> cmr: why'd you post #12345 to reddit? now we're gonna have to bikeshed over s vs. z
[13:44:48] <huon> :P
[13:48:29] *** Joins: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP)
[13:48:56] <eddyb> cmr: back, new kernel
[13:49:05] <eddyb> it feels... worse
[13:51:09] <eddyb> well, not really after I've put back the CPU underclocking and HDD spin-down values
[13:51:18] <eddyb> cmr: the information in sudo cat /sys/kernel/debug/dri/0/radeon_pm_info changed
[13:51:32] <eddyb> power level 0    sclk: 30000 mclk: 75000 vddc: 1200
[13:51:52] <cmr> your numbers are higher than my *desktops* at power level 0
[13:52:01] <eddyb> that's 1.2V, while previously it was 1.0V (with my underclocking)
[13:53:02] <eddyb> tee: /sys/class/drm/card0/device/power_profile: Invalid argument
[13:53:13] <eddyb> ahh, that's why, it's not underclocked
[13:54:02] <eddyb> power_dpm_state=balanced
[13:54:32] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[13:54:54] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:55:58] <eddyb> echo low | sudo tee /sys/class/drm/card0/device/power_dpm_force_performance_level
[13:56:06] <eddyb> doesn't error, but the numbers don't change
[13:56:35] <cmr> then your card is at the lowest state its bios advertises.
[13:56:35] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[13:56:56] <eddyb> cmr: but it was previously running with less voltage
[13:57:28] <eddyb> are those clock values multiples of 1kHz or 10kHz?
[13:57:34] * cmr does not know
[13:58:28] <eddyb> cmr: do you have a radeon you could get those numbers from?
[13:58:52] <cmr> I do.
[13:59:14] <eddyb> if you have x000 then it's *10kHz for sure
[13:59:33] <cmr> uvd    vclk: 0 dclk: 0
[13:59:35] <cmr> power level 0    sclk: 10000 mclk: 15000 vddc: 950 vddci: 950
[14:00:37] <eddyb> even 100MHz feels low. mine was 200-300MHz when underclocked, previously
[14:00:57] <cmr> I don't even know if I'm running X on my desktop right now.
[14:01:07] <eddyb> cheater!
[14:01:09] * cmr primarily interacts with it through ssh when not gaming
[14:01:34] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[14:01:46] <eddyb> that explains the lower voltage
[14:02:02] <cmr> it's an hd 6850
[14:02:41] <eddyb> anyways, thanks :)
[14:02:55] <eddyb> I might as well start chrome again and see if I can dig some information on dpm
[14:04:15] * eddyb is playing "kill all the tabs before you enter swap hell" again
[14:08:58] * edwardw would rather have some more RAM
[14:09:17] <eddyb> cmr: okay, the new underclocking method is echo battery | sudo tee /sys/class/drm/card0/device/power_dpm_state
[14:09:31] <eddyb> power level 0    sclk: 30000 mclk: 40000 vddc: 1000
[14:10:45] <eddyb> but that's not better than before
[14:11:48] <eddyb> great, https://wiki.archlinux.org/index.php/ATI isn't loading :(
[14:11:52] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[14:11:52] <ghrust> [13rust] 15bors 04force-pushed 06auto from 142a72dd9 to 1457d273f: 02http://git.io/N3iJvQ
[14:11:52] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[14:11:54] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[14:11:54] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/gXnU_g
[14:11:54] <ghrust> 13rust/06auto 14a699558 15Sterling Greene: Minor documentation fixes in std::fmt...
[14:11:54] <ghrust> 13rust/06auto 148802869 15bors: auto merge of #12325 : big-guy/rust/doc-fixes, r=alexcrichton...
[14:11:54] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[14:16:04] *** Quits: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca) (Quit: canhtak)
[14:25:49] <bjz> hmm: http://buildbot.rust-lang.org/builders/auto-linux-32-nopt-t/builds/3392/steps/test/logs/stdio
[14:26:02] <bjz> should I @bors retry?
[14:26:21] <bjz> has nothing to do with my commit
[14:26:34] <cmr> I don't think that will help.
[14:26:42] <bjz> https://github.com/mozilla/rust/pull/12321
[14:26:47] <cmr> https://github.com/mozilla/rust/issues/12340
[14:27:09] <bjz> yeek
[14:29:18] <bjz> hey! do we have commit #12345 yet?
[14:29:33] <cmr> of course we do.
[14:29:35] <cmr> it's on reddit!
[14:31:04] <bjz> it has to go in TWiR ofc
[14:31:13] <cmr> yes.
[14:31:15] *** Joins: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca)
[14:32:02] <edwardw> the thing is the branch #12345 lives in is spelled as speeling LOL
[14:38:14] <cmr> bjz: you got #12321
[14:38:20] <cmr> palindromes are much cooler than runs
[14:38:25] <bjz> :D
[14:39:06] <bjz> lol: http://www.reddit.com/r/rust/comments/1y56b3/issue_12345/cfhgpak?context=3
[14:39:08] <Zr40> #14159 is where it's at
[14:40:12] <cmr> 14159?
[14:40:37] <Zr40> pi, with 3. being shift-3
[14:40:44] <cmr> oh
[14:40:46] <cmr> yes
[14:40:48] <cmr> I see now
[14:40:51] <bjz> of course
[15:00:04] *** Parts: kimundi (kimundi@moz-B3D6A22F.dip0.t-ipconnect.de) (leaving)
[15:00:33] *** Joins: kimundi (kimundi@moz-B3D6A22F.dip0.t-ipconnect.de)
[15:00:48] *** Joins: aepsil0n (eduard@moz-15CB80F2.hsi8.kabel-badenwuerttemberg.de)
[15:00:56] *** Joins: rca (rcatolino@C2A12410.F8976B18.2CE09D78.IP)
[15:06:10] *** Joins: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[15:07:28] <aepsil0n> rusti: let eps: f64 = Float::epsilon(); eps
[15:07:30] -rusti- 0f64
[15:07:50] <aepsil0n> that's weird...
[15:07:55] <cmr> rusti: let eps: f64 = Float::epsilon(); eps * 10000
[15:07:56] -rusti- <anon>:10:48: 10:53 error: mismatched types: expected `f64` but found `<generic integer #0>` (expected f64 but found integral variable)
[15:07:56] -rusti- <anon>:10         let eps: f64 = Float::epsilon(); eps * 10000
[15:07:56] -rusti-                                                          ^~~~~
[15:07:56] -rusti- error: aborting due to previous error
[15:07:56] -rusti- application terminated with error code 101
[15:08:00] <cmr> rusti: let eps: f64 = Float::epsilon(); eps * 10000.0
[15:08:02] -rusti- 0f64
[15:09:19] <aepsil0n> in the code it says "fn epsilon() -> f64 { 2.2204460492503131e-16 }"
[15:09:33] <cmr> rusti: let eps: f64 = Float::epsilon(); eps * 1e16
[15:09:35] -rusti- 2.22044605f64
[15:09:36] <aepsil0n> rusti: let eps: f32 = Float::epsilon(); eps
[15:09:38] -rusti- 0.00000012f32
[15:09:51] <aepsil0n> oh...
[15:10:14] <cmr> aepsil0n: float printing is crazy right now.
[15:10:29] <aepsil0n> i see
[15:12:07] <Yurume> rusti: let eps: f64 = Float::epsilon(); format!("{:.16f}", eps)
[15:12:09] -rusti- ~"0.0000000000000002"
[15:12:38] <Yurume> cmr, Grisu algorithm FTW? :)
[15:13:56] <Yurume> hmm, implementing Grisu would be a good exercise.
[15:13:58] <Yurume> let's try!
[15:17:44] <aepsil0n> ^^
[15:19:50] <aepsil0n> already began to suspect that epsilon was really zero from that output
[15:20:55] <kimundi> Rule one of working with floats: Mistrust the decimal string conversion to/from them, because implementing it is _HARD_
[15:20:56] *** Joins: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[15:21:13] <pnkfelix> Yurume: you'll still need to make a backup algorithm for the 0.5% of the inputs where Grisu fails...
[15:21:26] <pnkfelix> Yurume: might be better to start by implementing the backup algorithm
[15:21:55] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[15:21:55] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/gXnU_g
[15:21:55] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[15:22:07] <Yurume> pnkfelix, Dragon4 or similar?
[15:22:33] <pnkfelix> Yurume: (or maybe I misunderstand the situation with Grisu; I cannot immediately tell from the paper whether it is just Grisu3 that fails, or if all three variants fail...)
[15:23:13] <Yurume> Grisu and Grisu2 are inexact, Grisu3 gives an ability to detect the inaccuracy.
[15:24:59] <pnkfelix> Yurume: I guess use either Dragon4 (Steele and White) or Burger and Dybvig (http://www.cs.indiana.edu/~dyb/pubs/FP-Printing-PLDI96.pdf), whichever is easier to implement
[15:25:34] <pnkfelix> Yurume: I guess the reliance on high precision arithmetic could make this difficult, since you probably do not want to inject a dependence on libnum::bigint
[15:25:58] <pnkfelix> Yurume: (which of course is a most attractive aspect of Grisu in the first place...)
[15:26:46] <Yurume> I had already implemented Burger and Dybvig myself years ago (in D, though) so I think that's fine
[15:26:51] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[15:26:51] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/s3KrNw
[15:26:51] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[15:28:42] <pnkfelix> Yurume: if the codesize for Steele and White has a chance of being significantly smaller, don't rule it out immediately... :)
[15:29:24] <Yurume> yeah, I'm not very familiar to Dragon and others though, so I tried to implement Grisu3 first
[15:29:51] <Yurume> (since I don't need bignums for that and it will detect the corner case anyway)
[15:31:45] <pnkfelix> Yurume: right; my point was about which option you would choose for the *fallback* algorithm.
[15:32:02] <pnkfelix> Yurume: and since it is a fallback, it may be more important to optimize for codesize rather than running time.
[15:32:52] <Yurume> fallback does affect the worst time performance, so if optimizing for codesize significantly worsen the performance I think I could not afford it.
[15:32:58] <Yurume> but anyway...
[15:33:30] <pnkfelix> Yurume: in any case the primary goal for now should be correctness, not speed, no?
[15:33:59] <Yurume> actually I can try implement all possible algorithms and randomly test the equivalence :p
[15:34:02] *** Quits: Kxepal (Miranda@moz-C4CEC9D8.pppoe.mtu-net.ru) (Ping timeout)
[15:34:08] <pnkfelix> Yurume: (since we'd like to improve on examples like the ones you and cmr showed above.)
[15:34:22] <Yurume> for now, just an experiment.
[15:34:43] <Yurume> pnkfelix, is any specialized fp formatting algorithm implemented by std::fmt right now?
[15:34:58] <pnkfelix> Yurume: i don't know off hand
[15:35:23] <cmr> Yurume: no
[15:35:32] <cmr> I think it might even be ad-hoc...
[15:36:14] <Yurume> https://github.com/mozilla/rust/blob/master/src/libstd/num/strconv.rs#L202
[15:36:33] *** Joins: Kxepal (Miranda@moz-EB6B0A42.pppoe.mtu-net.ru)
[15:36:41] <Yurume> yes, it's repeated division and truncation...
[15:38:38] *** Quits: Kxepal (Miranda@moz-EB6B0A42.pppoe.mtu-net.ru) (Connection reset by peer)
[15:40:49] *** Joins: Kxepal (Miranda@moz-EB6B0A42.pppoe.mtu-net.ru)
[15:45:08] *** Quits: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca) (Quit: canhtak)
[15:46:18] *** Quits: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Quit: Leaving.)
[15:48:42] *** Joins: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca)
[15:49:02] *** Joins: rca_ (rcatolino@moz-E288507D.adsl.proxad.net)
[15:49:39] *** Quits: rca (rcatolino@C2A12410.F8976B18.2CE09D78.IP) (Ping timeout)
[15:52:07] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[15:56:35] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[16:02:36] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[16:03:06] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:04:15] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:06:52] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[16:06:52] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14aa3f095 to 148802869: 02http://git.io/N3iJvQ
[16:06:52] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[16:06:53] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[16:06:53] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/Blo71g
[16:06:53] <ghrust> 13rust/06auto 1479f52cf 15Brendan Zabarauskas: Rename Bitwise::population_count to Bitwise::count_ones and add Bitwise::count_zeros...
[16:06:53] <ghrust> 13rust/06auto 142bba723 15bors: auto merge of #12331 : bjz/rust/count-ones, r=alexcrichton...
[16:06:54] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[16:10:06] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[16:13:17] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[16:16:18] *** Joins: lpy (lpy@665181D6.D58093C6.8C13C571.IP)
[16:18:29] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[16:34:17] *** Quits: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca) (Quit: canhtak)
[16:38:26] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[16:39:28] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[16:39:49] *** Joins: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca)
[16:40:40] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[16:49:11] *** lpy is now known as lpy|afk
[16:49:26] *** Quits: lpy|afk (lpy@665181D6.D58093C6.8C13C571.IP) (Client exited)
[16:49:53] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[16:52:59] *** Joins: jdm_ (jdm@79C8D2C7.D347D9D.30E7AE68.IP)
[16:53:13] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[16:56:55] *** Quits: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca) (Quit: canhtak)
[17:03:21] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[17:04:52] *** Quits: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net) (Ping timeout)
[17:18:08] *** Quits: jdm (jdm@moz-DB4A9C19.scl3.mozilla.com) (Quit: leaving)
[17:20:21] *** Joins: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca)
[17:21:02] *** Quits: jdm_ (jdm@79C8D2C7.D347D9D.30E7AE68.IP) (Quit: Lost terminal)
[17:21:52] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[17:21:52] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/Blo71g
[17:21:52] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[17:26:24] <pnkfelix> huon: mystery partly solved: On Linux at least, the recursive `make` invoke for bdw is passing LDFLAGS=" -shared ..." and that is causing the .libs/libgc.a target to not be built.
[17:26:49] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[17:26:49] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/DqxcXg
[17:26:49] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[17:35:31] *** Quits: canhtak (canhtak@moz-D6541034.wl.t.ulaval.ca) (Quit: canhtak)
[17:41:19] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[17:47:42] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Ping timeout)
[17:49:58] *** Quits: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP) (Ping timeout)
[17:53:29] *** Joins: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP)
[18:00:03] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[18:15:28] *** Joins: _eddyb_ (eddy@BE3A717B.921A1753.FCAAE698.IP)
[18:15:41] *** Quits: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP) (Ping timeout)
[18:17:25] <_eddyb_> rusti: "ping"
[18:17:26] -rusti- "ping"
[18:18:18] <steveklabnik> lol
[18:18:51] <edwardw> it would be fantastic if rusti says pong instead
[18:19:12] *** Quits: _eddyb_ (eddy@BE3A717B.921A1753.FCAAE698.IP) (Ping timeout)
[18:23:13] <Eridius> sigh, I think makefile dependencies are pretty busted right now
[18:23:22] <Eridius> `make clean; make -j4` failed awfully fast
[18:24:41] <sfackler> make -j4's always been super busted for me
[18:24:45] *** Joins: _eddyb_ (eddy@moz-41DB10DA.residential.rdsnet.ro)
[18:25:49] <_eddyb_> my internet is terrible this evening
[18:29:20] <Eridius> sigh, I just got the makefile failure again, this time with just `make`
[18:29:29] <Eridius> make[1]: *** No targets specified and no makefile found.  Stop.
[18:29:30] <Eridius> make: *** [x86_64-apple-darwin/rt/libuv/Release/libuv.a] Error 2
[18:32:27] * Eridius re-configures
[18:32:33] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Quit: Leaving)
[18:32:49] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[18:33:21] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:37:18] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[18:37:18] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/_1Wuqg
[18:37:18] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[18:39:08] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: ì „ ì´ë§Œ ê°‘ë‹ˆë‹¤.)
[18:40:24] *** Quits: _eddyb_ (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[18:41:53] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[18:41:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/Q_wjsg
[18:41:53] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[18:41:54] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[18:41:54] <ghrust> [13rust] 15bors pushed 5 new commits to 06auto: 02http://git.io/tRzjzw
[18:41:54] <ghrust> 13rust/06auto 1443ffbd1 15Michael Neumann: ascii: Follow convention and return Option instead of failing...
[18:41:54] <ghrust> 13rust/06auto 140621f65 15Michael Neumann: Simplify is_ascii condition in the same way as is done for &str
[18:41:55] <ghrust> 13rust/06auto 146a0ecc7 15Michael Neumann: Do not loose self in into_ascii() in case of error....
[18:41:57] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[18:42:08] *** Joins: _eddyb_ (eddy@moz-41DB10DA.residential.rdsnet.ro)
[18:42:59] *** _eddyb_ is now known as eddyb
[18:43:48] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[18:49:00] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[18:49:26] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[18:53:51] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Client exited)
[18:54:29] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:16:49] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[19:16:49] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/CE6-dg
[19:16:49] <ghrust> 13rust/06auto 14b94daee 15Kevin Ballard: Clean up std::task docs, make TaskBuilder a real builder...
[19:16:49] <ghrust> 13rust/06auto 1401b31af 15Kevin Ballard: Update clients of the TaskBuilder API
[19:16:49] <ghrust> 13rust/06auto 14d1dd351 15bors: auto merge of #12232 : kballard/rust/taskbuilder-is-a-builder, r=alexcrichton...
[19:16:51] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[19:20:56] <mrmonday> can anyone verify this bug for me? find a trait in libstd which is defined in a mod.rs file, then try deriving it somewhere else in libstd - I'm getting errors with FromPrimitive, I have a hunch it'll happen for anything that's in a mod.rs though
[19:21:13] <eddyb> shouldn't affect it
[19:21:21] <eddyb> was it moved recently? might be a bootstrap issue
[19:21:42] <mrmonday> not afaik, and I've tried a clean build which should rule that out
[19:22:23] <eddyb> it wouldn't rule out #[cfg(stage0)] or #[cfg(not(stage0))] still in place
[19:22:33] <sfackler> mrmonday: there are some weird bootstrapping issues when using deriving in std
[19:22:47] <sfackler> since the internal implementation does "use std::foo::Foo"
[19:23:01] <sfackler> but since it's in libstd already it should be "use foo::Foo"
[19:23:18] <sfackler> I think there's a secret "std" module that contains a bunch of reexprts for that purpose
[19:25:12] <mrmonday> ooh, that sorted it!
[19:25:25] <mrmonday> std::std wasn't pub use
[19:25:28] <mrmonday> 'ing num
[19:25:36] <eddyb> lol
[19:26:43] <mrmonday> thanks
[19:26:48] <mrmonday> weird issue :3
[19:28:01] <eddyb> I thought std::std reexported everything, which made the failure with std::std::prelude::drop feel weird
[19:28:55] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[19:29:06] <doener> eddyb: turns out that I got the EH stuff all wrong :-/
[19:29:44] <eddyb> sheesh
[19:51:03] <edwardw> r? https://github.com/mozilla/rust/pull/12349
[19:58:41] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:00:35] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:03:01] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Quit: Leaving...)
[20:03:40] *** Joins: geoffhill (geoffhill@moz-95FF7399.members.linode.com)
[20:04:10] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[20:16:21] *** Quits: sully (sully@moz-45967CBE.emarhavil.com) (Ping timeout)
[20:16:46] *** Joins: new_one (new_one@B85DDA1D.B02DD7B7.B3C0173E.IP)
[20:19:44] *** Joins: sully (sully@moz-45967CBE.emarhavil.com)
[20:24:40] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[20:30:11] <new_one> I'm having an issue with spans for lifetimes being reported incorrectly
[20:30:24] <new_one> lifetime declaration on line 52: http://54.200.139.70/target/trees/code/main.rs.html#52
[20:30:36] <new_one> thinks it's on line 103: http://54.200.139.70/target/trees/code/dxr-temp/test.csv.html#68
[20:30:59] <new_one> anyone know what the cause is?
[20:32:23] <eddyb> new_one: parsing using the wrong span bounds
[20:32:31] <eddyb> it's pretty ad-hoc
[20:32:46] <eddyb> quite easy to get wrong when adding something new to the parser
[20:33:28] <new_one> I see.. any idea where I should look to understand more?
[20:33:55] <eddyb> src/libsyntax/parse/parser.rs where all the parsing happens
[20:46:05] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[20:46:47] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[20:46:51] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[20:46:51] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14d1dd351 to 1447c3183: 02http://git.io/N3iJvQ
[20:46:51] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[20:46:53] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[20:46:54] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/8vK-fQ
[20:46:54] <ghrust> 13rust/06auto 14e76ed1d 15Huon Wilson: std::str: safen and optimize is_utf8....
[20:46:54] <ghrust> 13rust/06auto 14386b4f7 15Huon Wilson: std: convert first_non_utf8_byte to use the iterator....
[20:46:54] <ghrust> 13rust/06auto 14205e0bb 15bors: auto merge of #12314 : huonw/rust/is_utf8_iter, r=kballard...
[20:46:55] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[21:04:02] <huon> Yurume: btw: https://github.com/mozilla/rust/issues/6220#issuecomment-21306047
[21:06:39] <huon> Eridius: thanks for running those benchmarks for me
[21:14:36] <bjz> acrichto: o/
[21:14:44] <acrichto> bjz: hello!
[21:15:04] <Eridius> huon: no problem, thanks for your PR
[21:15:20] <Eridius> also, good luck getting it past bors. Buildbots keep screwing up on my taskbuilder PR :/
[21:15:48] *** Joins: rca (rcatolino@moz-451C5110.adsl.proxad.net)
[21:15:55] <bjz> acrichto: working on the integer formatting: https://gist.github.com/bjz/9059305
[21:15:56] <huon> it seems something broke with acrichto's guid patch :(
[21:16:10] <bjz> acrichto: need to do padding
[21:16:15] <acrichto> huon: nah it's a deadlock in channels
[21:16:17] <acrichto> debugging it now
[21:16:24] *** Quits: rca_ (rcatolino@moz-E288507D.adsl.proxad.net) (Ping timeout)
[21:16:29] <huon> oh
[21:16:32] <huon> cool
[21:16:48] <acrichto> bjz: whoa that's intense
[21:16:50] <huon> hopefully we'll get up to 100 things in the queue this time \o/
[21:17:20] <acrichto> bjz: might I entice you to these two helper methods? http://static.rust-lang.org/doc/master/std/fmt/struct.Formatter.html
[21:17:45] <bjz> acrichto: the _: Option<$T> are due to language limitations
[21:18:01] <bjz> acrichto: which makes it look worse than it actually is
[21:18:14] <bjz> acrichto: yeah I want to do it all in one function
[21:18:51] <bjz> acrichto: I found the logic pretty convoluted
[21:20:03] <acrichto> bjz: this is formatting generic things that implement numeric traits?
[21:20:17] <bjz> acrichto: I've also been looking into the Dragon4 and Grisu algorithms for printing floats
[21:20:45] <bjz> acrichto: generic for the base integer types
[21:21:22] <bjz> acrichto: the float and integer logic will be separate
[21:21:41] <bjz> acrichto: the aim is to remove the need for std::num::strconv
[21:22:11] <bjz> by making it centered around the fmt API instead
[21:22:11] <acrichto> oh man that would be awesome
[21:22:36] <bjz> but yeah, I might just do the integers for now
[21:22:49] <acrichto> for formatting, you should take the same approach as now though
[21:23:02] <acrichto> format the integer into a stack buffer and then pass that to pad_integral
[21:23:04] <bjz> floats are really tricky - at least Guy Steele has done the work before
[21:23:06] <huon> bjz: fwiw, there seems to be 3 people (including you) who are possibly working on strconv, so you should comment on #6220 that you're working on it :)
[21:23:19] <bjz> oh wow
[21:23:21] <bjz> :P
[21:24:16] <bjz> acrichto: wouldn't it be faster not to put it into a &[u8] and print it directly?
[21:24:55] <acrichto> bjz: I don't think that's possible if you want to take into account padding
[21:25:09] <acrichto> you need to know how wide the representation is before you start padding
[21:25:28] <acrichto> if there's no extra formatting you can probably emit directly, but I think it's easiest to format to a stack buffer
[21:25:56] <bjz> acrichto: the issue is that for integers, you build up a buffer in reverse order: https://gist.github.com/bjz/9059305#file-fmt_int-rs-L66
[21:26:15] <bjz> acrichto: so I would have to reverse it in order to pass it on
[21:26:23] <bjz> I know the width at that stage
[21:26:36] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[21:26:36] *** Quits: larsberg (sid16141@moz-A42E5B7B.irccloud.com) (Ping timeout)
[21:27:11] <bjz> acrichto: if that makes sense
[21:27:34] <acrichto> bjz: indeed
[21:27:42] <acrichto> you don't do this to a ~[u8] though
[21:27:51] <acrichto> I found out the maximum width and allocated a stack buffer of that size
[21:28:00] <acrichto> and then you fill in the buffer left-to-right instead of right-to-left
[21:28:06] <acrichto> or mabye right-to-left instead of left-to-right
[21:28:13] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[21:28:13] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[21:28:14] <acrichto> argh select
[21:28:17] <acrichto> another select!() bug
[21:29:01] <Eridius> acrichto: noooo
[21:29:33] <acrichto> ugh, at least it's a one line change
[21:29:41] <acrichto> this is just super indicative of select() being incredibly broken
[21:32:48] <Eridius> :/
[21:32:51] <Eridius> but it's so important
[21:35:41] <nrc> what should I use instead of path_ident_to_str now that it has disappeared?
[21:37:32] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:37:32] *** ChanServ sets mode: +qo brson brson
[21:38:20] <brson> acrichto: how is bors?
[21:38:29] <acrichto> brson: deadlocking on channels
[21:39:13] <brson> bummer
[21:39:40] <acrichto> testing a fix now, but appeard to not quite get it...
[21:39:51] <cmr> I gave a 20 minute presentation today to my OS class about rust's synchronization prims etc.
[21:40:15] <acrichto> HAHAHA
[21:40:19] <acrichto> whoops caps lock
[21:40:35] <huon> cmr: how'd it go?
[21:40:37] <cmr> great!
[21:40:45] <cmr> slides: https://drive.google.com/file/d/0B7jzeYh7LqL2WVBIVWJnX3lUSDg/edit?usp=sharing
[21:41:16] <cmr> (mostly just code)
[21:41:50] <acrichto> oh dear, questioning atomics
[21:42:05] <huon> cmr: woah! dump the whole implementation of unsafearc on them!
[21:42:10] <cmr> huon: :)
[21:42:34] <acrichto> cmr: I think you know more about libsync than I do at this point
[21:42:37] <sfackler> Corey (Rust) Richardson c.c
[21:42:43] <cmr> I kinda tucked away Condvar and mutex::Mutex and the impl of std::comm
[21:42:48] <cmr> but, it was good enough.
[21:42:53] <cmr> sfackler: hahah, yeah that's my nickname here
[21:43:10] <cmr> more people know me by that than my real name.
[21:43:30] <huon> cmr: are our mutexes really on top of semaphores?
[21:43:38] <cmr> huon: std::sync::Mutex is, yes.
[21:43:43] <cmr> but not std::sync::mutex::Mutex
[21:43:47] <acrichto> they have... room for improvement
[21:43:50] <cmr> that's the really scary mutex that acrichto recently wrote.
[21:44:03] <acrichto> sync::Mutex should be built on top of mutex::Mutex
[21:44:07] * nrc rages at GitHub
[21:44:20] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[21:44:34] <cmr> acrichto: it played nicely into the curriculum because the professor was just talking about how every sync prim can be constructed out of any other..
[21:45:02] <nrc> Could we have a policy to always put an issue number in a commit message please? Github is so bad at doing this and it is really frustrating not to be able to find the discussion for a commit
[21:45:05] <acrichto> it's true, I think one of the first assignments in the distributed class at CMU is to build a mutex on top of go's channels
[21:45:14] <cmr> heh
[21:45:21] * cmr really hopes to attend CMU
[21:45:35] <sfackler> acrichto: I remember that being a really dumb assignment
[21:45:59] <sfackler> especially since the tests that bryant made were literally unachievable perf wise :(
[21:46:07] <cmr> anyway I just find it ultra-hilarious that the one day I chose to evangelize our sync + task model, things explode.
[21:46:08] <acrichto> :(
[21:46:14] <acrichto> cmr: :(
[21:46:23] <acrichto> at least the model works
[21:46:26] <huon> cmr: maybe you broke it! >:(
[21:46:27] <acrichto> if the implementation isn't quite there just yet
[21:46:35] <cmr> yeah.
[21:47:03] <huon> all the discussion made it embarrassed and gave it performance anxiety
[21:47:14] * cmr plans on rewriting some of the docs
[21:47:21] <cmr> they're ... existent but not the best.
[21:47:57] <sfackler> acrichto: then onto some way of checking if a Reader has data?
[21:48:09] <sfackler> all of the networking projects I want to do are blocked on that :(
[21:48:20] <sfackler> and some way of forcing a stream to close I guess
[21:48:42] <acrichto> sfackler: ? how so?
[21:48:51] <acrichto> like read_nonblock?
[21:48:58] <sfackler> or just peek_for_data()
[21:49:07] <sfackler> basically, "If I call read, will I block?"
[21:49:16] <acrichto> I liked wycat's suggestion of set_nonblock(true)
[21:49:33] <acrichto> not sure what a libuv implementation would look like...
[21:49:34] <sfackler> and it'd return 0 byte reads? that'd work too
[21:49:51] <acrichto> dunno bout 0 byte reads though
[21:49:56] *** Quits: new_one (new_one@B85DDA1D.B02DD7B7.B3C0173E.IP) (Client exited)
[21:49:59] <Luqman> sfackler: you may be able to work around that by reading in a different task and putting a channel in between?
[21:50:03] <sfackler> or an error
[21:50:35] <sfackler> Luqman: I think you end up leaking the task if you need to throw away that stream and make a new one
[21:50:41] <sfackler> since you'll end up being stuck in read forever
[21:50:51] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[21:50:51] <sfackler> which is where the forcing a stream closed comes in
[21:51:14] <sfackler> but it'd also be nice to avoid forcing an extra task, especially if the program is using libnative
[21:51:47] <cmr> acrichto: are there any issues open for improving libsync?
[21:52:20] <acrichto> cmr: not currently that I know of
[21:52:59] <Luqman> sfackler: true. what kind of networking projects did you have in mind if you don't mind my asking?
[21:53:00] <cmr> acrichto: do you know of any specific issues?
[21:53:02] *** Quits: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Quit: Leaving)
[21:53:31] <sfackler> Luqman: updating the notifications iterator in rust-postgres to check for new messages before returning None
[21:53:37] <acrichto> cmr: everything should use RAII instead of closures, the performance of sync::Mutex should be the same as sync::mutex::Mutex are the two big ones that I can think of
[21:53:46] <sfackler> maybe also an APNS client
[21:53:46] <cmr> acrichto: ok.
[21:54:00] <cmr> I'll see what I can do
[21:54:14] <aatch> cmr, I disagree with your order of design goals in Rust
[21:54:25] <cmr> aatch: I wrote that 5-6 months ago.
[21:54:26] <aatch> Specifically, I think memory safety should be above concurrency
[21:54:41] <cmr> Concurrency is enabled by the memory safety.
[21:54:58] <cmr> Isn't concurrency the ultimate goal, using our semantics as leverage?
[21:55:18] <cmr> not that you need concurrency to expose memory unsafety.
[21:55:22] <cmr> but IMO it's a huge selling point.
[21:55:44] <cmr> and it certainly impresses the crap out of my fellow undergrads.
[21:55:56] <aatch> cmr, not really, since it makes people expect too much.
[21:56:12] <aatch> It's how we end up with people wanting Rust to be more like Erlang...
[21:57:29] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Connection reset by peer)
[21:57:47] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[21:57:55] <cmr> aatch: maybe.
[21:58:02] <cmr> I'll shuffle it around for my next presentation.
[21:58:12] <cmr> ohh I should really include the trifecta haiku.l
[21:58:28] <aatch> Concurrency isn't actually that interesting. We have some language semantics that makes it a little nicer to work with, but ultimately it's no different to how C++ or other languages deal with it.
[21:58:49] <cmr> sure.
[21:59:10] <aatch> Message passing is probably the only major difference, but it's not like those libraries don't exist elsewhere
[21:59:22] <aatch> we just *happen* to have it in the standard library.
[21:59:29] <steveklabnik> well
[21:59:33] <steveklabnik> language enforcement is a big deal
[21:59:39] <steveklabnik> libraries help you do it right
[21:59:45] <steveklabnik> rust _prevents you from doing it wrong_
[22:00:26] <aatch> steveklabnik, but, as far as I know, that's not the actual goal.
[22:00:52] <aatch> Ownership, regions, all that stuff makes it much nicer, but it's not done *for* concurrency.
[22:00:57] <steveklabnik> sure
[22:00:58] <steveklabnik> well
[22:01:04] <steveklabnik> i mean, memory safety is also useful in and of itself
[22:01:30] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[22:01:36] <aatch> I guess I'm against the marketing of Rust as a "concurrency language" because I don't think it's true.
[22:01:42] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:02:05] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[22:02:24] <aatch> I believe it's the source of a lot of the misunderstandings people have about Rust in relation to other languages.
[22:02:37] <steveklabnik> that's a really interesting product question
[22:02:42] <steveklabnik> i think i might agree with you
[22:02:45] <steveklabnik> gonna think about that
[22:03:01] <aatch> People compare us to Go because we have the same bullet points on our "brochure"
[22:03:29] <acrichto> brson: r? https://github.com/mozilla/rust/pull/12352
[22:03:40] <aatch> (to pull out a logical fallacy, apparently dherman agrees with me on this)
[22:05:12] <cmr> well then we should change the homepage slogan asap
[22:05:30] *** Quits: rca (rcatolino@moz-451C5110.adsl.proxad.net) (Ping timeout)
[22:05:41] <acrichto> sfackler: https://github.com/mozilla/rust/issues/12353
[22:05:53] <bjz> cmr: awesome presentation
[22:06:48] <bjz> cmr: I was talking to huon about this last night. the fundamental semantics of rust is something like: regions, linear types, destructors and unsafe code
[22:07:18] <aatch> From my perspective, zero-cost memory safety is Rust's killer feature. With emphasis on zero-cost. Because memory safety *has* been solved, by garbage collection.
[22:07:58] <sfackler> acrichto: thanks
[22:08:07] <bjz> Rust: High level abstractions. Low level control. Compile time safety.
[22:08:31] <acrichto> sfackler: hm that's an interesting question, for libuv you can't cancel a write
[22:08:46] <acrichto> sfackler: but for libnative, I think putting a file descriptor in nonblocking mode affects writes as well
[22:08:53] *** Joins: rca (rcatolino@moz-61BF891E.adsl.proxad.net)
[22:10:31] <bjz> aatch: I think the core semantics of the language and what we market to users can be a little different
[22:10:41] <sfackler> acrichto: would it be easier to make a peek() method that determines if there's data queued up? it might require a 1-byte buffer internally, I guess
[22:11:10] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[22:11:20] <acrichto> sfackler: hm maybe this isn't a great solution, perhaps I/O polling is just what this really wants
[22:12:00] <sfackler> acrichto: a select would work too, but may not be reasonable abstraction-wise
[22:13:08] <bjz> aatch: small unsafe {} blocks wrapped in trusted APIs seem fundamentally 'Rustic' to me, but the majority of users probably don't have to worry about that
[22:14:05] <sfackler> acrichto: though separate selects for readers and chans could be confusing and I bet having a unified one would be a nighmare implementation wise
[22:14:42] <aatch> bjz, sure, but marketing concurrency as a major point is asking for trouble, since Rust doesn't make it easier to actually write concurrent code, just to write *safe* concurrent code.
[22:15:03] <bjz> aatch: yeah, I think I agree
[22:15:10] <aatch> But since Rust makes it easier to write safe code overall, that's obviously going to carry over.
[22:15:22] <bjz> aatch: concurrency is a part of a biger thing
[22:15:39] <steveklabnik> aatch: right, I think your argument is compelling
[22:15:41] <steveklabnik> the more i think of it
[22:16:00] <aatch> If anything, Rust makes it *harder* to write concurrent code
[22:16:08] <aatch> because of the restrictions we place
[22:16:08] <bjz> safe concurrency is a result of the semantics that rust gives
[22:16:25] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:16:28] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Input/output error)
[22:16:41] <acrichto> sfackler: I agree
[22:16:55] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[22:16:56] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/6nKDZA
[22:16:56] <ghrust> 13rust/06auto 149c05c1c 15Alex Crichton: Fix a deadlock in channels, again....
[22:16:56] <ghrust> 13rust/06auto 145736deb 15bors: auto merge of #12352 : alexcrichton/rust/fix-master, r=brson...
[22:16:56] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[22:16:57] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[22:16:57] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14205e0bb to 1447c3183: 02http://git.io/N3iJvQ
[22:16:57] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:17:16] <bjz> aatch: it 'falls out' of the semantics that Rust provides, rather than being central to it
[22:17:37] <aatch> I don't think we should *ignore* that feature, it's a great one, but, yeah, present it as a consequence.
[22:17:55] <bjz> aatch: even though those semantics were chosen with concurrency in mind :)
[22:17:59] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:18:20] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:18:20] <aatch> That'd probably help give the impression that *other* cool features come out of the language like that.
[22:18:29] <bjz> aatch: the big draw that rust has is its abstractive power. it is much more powerful than Go in that respect
[22:18:31] <aatch> Though now I'm just speculating.
[22:18:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[22:19:03] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[22:19:12] <bjz> aatch: the features/semantics allow for folks to build their own safe abstractions, rather than them being built into the language
[22:19:40] <bjz> aatch: so yeah, I'm agreeing with you :)
[22:19:48] <aatch> bjz, yay!
[22:19:56] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:20:02] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:20:17] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:20:50] <bjz> aatch: we need to market a coherent core set of values/ideas, reather than going scattergun with lots of different 'nice' features
[22:21:33] <cmr> acrichto: can you add comments to the stuff you fixed in channels...
[22:21:40] <cmr> (can be later ofc)
[22:21:53] <acrichto> cmr: it's one of those things I should have remembered to do the first time around
[22:22:03] <cmr> well, you forgot, it deserves a comment
[22:22:05] <cmr> imo
[22:22:16] <acrichto> it's true, but I don't think the comments would help much
[22:22:23] <acrichto> fetch_add => bump is something that can't really be commented
[22:22:25] <steveklabnik> bjz: +1
[22:22:30] <acrichto> you have to remember to not call fetch_add and call bump instead
[22:22:30] <steveklabnik> core values > features
[22:22:33] <steveklabnik> features fall out of values
[22:22:48] <acrichto> cmr: the +1 after the MAX_STEALS block could probably be commented though
[22:23:06] <bjz> steveklabnik: it's all about communicating that Rust is beginning to crystalize into a coherent design
[22:23:38] <aatch> Maybe it'd stop well-meaning newcomers posting "here's what I think you should change: <list of changes that go against Rust ideas>"
[22:23:39] <bjz> steveklabnik: it was pretty crazy back in 0.3, but now it is beginning to make a ton more sense
[22:23:54] <bjz> aatch: it would also help us
[22:24:17] <bjz> aatch: "should we add <feature>"
[22:24:28] <cmr> there's an issue open for having a design FAQ
[22:24:34] <cmr> we should actually start filling it in.
[22:24:40] <cmr> there's a ton of content in the issue discussion too
[22:26:03] <bjz> cmr: by the way, documentation on how to build safe abstractions over unsafe code would be incredibly awesome. your slides are great. would be an excellent case study
[22:26:33] <bjz> cmr: and also: http://www.reddit.com/r/programming/comments/1uygbh/the_rust_language_memory_ownership_and_lifetimes/cennvm8
[22:26:59] <brson> acrichto: did you see http://www.reddit.com/r/rust/comments/1y6dc1/are_println_macro_disabled_during_testing/
[22:27:36] <acrichto> brson: hm, perhaps we shouldn't capture output during testing
[22:27:45] <steveklabnik> bjz: right, i agree
[22:27:50] <cmr> I really think we should...
[22:27:59] <cmr> it's much nicer for output of the test runner.
[22:28:15] <cmr> I think output in tests should be forbidden besides stderr on legitimate failure...
[22:28:18] <cmr> maybe that's just me.
[22:28:20] <brson> this even prevents logging, right?
[22:28:21] <acrichto> maybe we could print output if it's not empty
[22:28:29] <acrichto> brson: logging will still print during test runs
[22:28:31] <sfackler> I'd just add a flag to disable output capture
[22:28:44] <huon> sfackler++
[22:28:44] <brson> acrichto: because we don't capture stderr?
[22:28:57] <acrichto> brson: logging is a different handle from stdout/stderr
[22:28:57] <bjz> steveklabnik: I have lots of thoughts it's just hard to put them together into something written
[22:29:03] <cmr> I also think we should have a sync test output logger so we can have color again :>
[22:29:06] <acrichto> stdout/stderr are captured right now during testing
[22:29:17] <acrichto> cmr: we still have the difficulty of spawned task I/O that we're not capturing
[22:29:21] <bjz> steveklabnik: as in, formally documented
[22:29:34] * steveklabnik nods
[22:29:39] <brson> it might be ok to ask people to use debug! for this sort of println testing
[22:30:02] <acrichto> that's what my original intent was
[22:32:10] *** Quits: aepsil0n (eduard@moz-15CB80F2.hsi8.kabel-badenwuerttemberg.de) (Ping timeout)
[22:32:34] <cmr> is anyone opposed to an E-tedious label
[22:32:48] <steveklabnik> lolol
[22:32:55] <steveklabnik> isn't that E-Easy? ;)
[22:32:58] <cmr> no.
[22:33:00] <cmr> it shouldn't be
[22:33:02] <cmr> is my point
[22:33:12] <bjz> cmr: +1
[22:33:21] <bjz> :)
[22:35:49] <cmr> I mean
[22:36:02] <cmr> there's a difference between hard, easy, and takes a lot of mostly-straightforward work
[22:36:46] <nrc> that's not really selling the bug
[22:36:53] <cmr> I'm not trying to.
[22:37:06] <nrc> E-good-for-a-long-plane-ride?
[22:37:37] <nrc> E-can-be-done-whilst-watching-a-movie?
[22:38:19] <nrc> E-cmr-will-buy-you-a-beer-if-you-take-this?
[22:38:43] * nrc will stop now
[22:41:03] <rcxdude> beer would be a good motivator :)
[22:42:40] <acrichto> bjz: found your segfault https://github.com/mozilla/rust/pull/12354
[22:42:50] <ChrisMorgan> Sounds good for a badge. "Fixed an E-tedious issue."
[22:45:51] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[22:46:51] <rcxdude> is there any reason for the pattern of expand_ function expanding to one of their arguments on error?
[22:47:15] <rcxdude> it seems to be responsible for most of what's going on here: https://github.com/mozilla/rust/pull/12197
[22:48:26] *** Quits: rca (rcatolino@moz-61BF891E.adsl.proxad.net) (Ping timeout)
[22:49:35] *** Joins: aepsil0n (eduard@moz-7D5ED05F.mullvad.net)
[22:50:41] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Ping timeout)
[22:56:26] <flaper87> cmr: +1
[22:56:32] <flaper87> for E-tedious :D
[22:58:50] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[23:00:11] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:01:36] <sfackler> rcxdude: I would think that expand_foo should expand to a bogus foo on error, or fail
[23:01:44] <sfackler> or E-boring
[23:02:16] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[23:02:35] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[23:02:39] <sfackler> rcxdude: returning the input seems pretty wrong
[23:06:47] <steveklabnik> E-booooooooooring
[23:07:31] <sfackler> E-mind-numbingly-dull
[23:07:48] <cmr> it's not *that* bad.
[23:09:07] <nrc> in seriousness, how about E-mechanical  - I would prefer something that does not have negative connotations - after all, some people really enjoy this kind of bug
[23:09:49] <nrc> And those people are special, we should encourage them as contributors :-)
[23:10:00] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[23:11:59] <kimundi> E-mechanica - sounds like the kinds of PRs I've been making
[23:13:45] * kimundi siad that, while chipping away at removing ImmutableVector::map
[23:23:14] <mrmonday> I just pushed a load of new raw socket stuff if any of you could give it a quick flick through - it's not complete and there's lots of missing bits so don't do a full review
[23:23:34] <mrmonday> just wanna make sure I'm heading in the right direction
[23:25:23] *** kimundi is now known as zz_kimundi
[23:26:55] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[23:26:55] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/6nKDZA
[23:26:55] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[23:31:18] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[23:31:58] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[23:31:59] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/isqG5Q
[23:31:59] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[23:40:42] <ChrisMorgan> A lot of the "mechanical" class of changes simply shouldn't be done manually. They'll often be more correct if done with a tool, and such a tool is then useful for various other thingsâ€”compound interest.
[23:42:25] <ChrisMorgan> Also in certain cases such a tool may be able to operate upon other people's code to do the same thing, Ã  la `go fix` (but don't think that that's the only case for such a tool).
[23:43:36] <bjz> acrichto: https://gist.github.com/bjz/9059305
[23:44:38] <acrichto> bjz: if you're writing into a local `buffer`, why not use pad_integral?
[23:45:03] <bjz> acrichto: because do we actually need pad_integral?
[23:45:16] <acrichto> bjz: well it's doing exactly what you're doing
[23:45:25] <acrichto> and in theory it should be available to everyone who's formatting integral-like things
[23:45:31] <acrichto> not just the std::fmt module
[23:48:12] <bjz> acrichto: hmm
[23:48:40] <bjz> acrichto: let me think
[23:48:54] <acrichto> bjz: doesn't matter too much where it is, it's basically the correct logic
[23:49:45] <bjz> acrichto: I can see what you're saying though
[23:52:03] <bjz> acrichto: I do like this implementation because a great deal of it is statically resolved. plus it removes the delegation to to strconv, which makes it really hard to understand
[23:53:06] <acrichto> bjz: I like less dependence on strconv
[23:53:18] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:53:28] <bjz> acrichto: I do understand that you want to provide formatting for integer-like things
[23:53:39] <bjz> so I will have to think about that
[23:54:50] <cmr> ChrisMorgan: if we had a pretty printer that worked, such a tool would be relatively easy.
[23:56:47] <nrc> how broken is out pretty printer?
[23:56:50] <nrc> *our
[23:56:59] <bjz> acrichto: I ultimately would like the float formatting to be done in a similar way, directly using a formatter
[23:57:02] <cmr> it's pretty broken.
[23:57:08] <cmr> it likes to reorder comments
[23:57:18] <cmr> like, for example, collapsing them all at the start of a file.
[23:57:27] <cmr> and it does really nasty things with indentation.
[23:57:48] <bjz> acrichto: that way it would remove the allocation, and also make things easier to understand
[23:58:13] <cmr> nrc: it works, for the most part, for simple things, but asking it to format a whole program is a losing proposition.
[23:58:17] <bjz> acrichto: I can see floats us pad_integral too :P
[23:58:23] <bjz> *use
[23:58:23] <acrichto> bjz: indeed! and you'd still have a non-allocating way to format a float by using a BufWriter
[23:58:26] <cmr> around 0.5-0.6 it used to be able to cope, at the very least.
[23:58:38] <bjz> acrichto: yep
[23:58:45] <cmr> it's probably not too much to bring it back to working.
[23:59:01] <cmr> but I've looked at it one or two times, and the code is pretty incomprehensible to me...
[23:59:14] * acrichto -> dinner
[23:59:49] <bjz> acrichto: what did you mean by:
[23:59:51] <bjz> / If you expected tests to be here, look instead at the run-pass/ifmt.rs test,
[23:59:51] <bjz> / it's a lot easier than creating all of the rt::Piece structures here.
