[00:00:03] *** Quits: fabrice (fabrice@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[00:01:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:01:32] *** Joins: fyolnish (fyolnish@moz-5491B736.uqwimax.jp)
[00:01:50] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:02:22] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:03:13] *** Quits: fyolnish (fyolnish@moz-5491B736.uqwimax.jp) (Ping timeout)
[00:03:28] *** kimundi is now known as zz_kimundi
[00:03:47] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[00:04:04] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:04:20] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:04:35] *** Quits: alkino (alkino@moz-5158FCA3.w92-151.abo.wanadoo.fr) (Ping timeout)
[00:05:20] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:05:50] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[00:08:59] *** Quits: twi (Adium@moz-44A8A106.pa.nsw.optusnet.com.au) (Quit: Leaving.)
[00:10:48] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[00:11:06] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[00:11:49] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[00:15:46] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:16:36] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[00:19:14] *** Joins: Erik_ (Erik_S@moz-EFEC8E5D.hlrn.qwest.net)
[00:19:37] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[00:20:16] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[00:21:40] *** Quits: hoverbear (hoverbear@moz-E19BC15E.wireless.uvic.ca) (Quit: Taking a nap.)
[00:22:59] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:23:18] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Quit: Leaving)
[00:23:34] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[00:24:23] *** Joins: cy (user@moz-6964FF68.airbears2.berkeley.edu)
[00:27:14] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:28:32] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[00:30:36] *** Joins: fyolnish (fyolnish@moz-BC740323.uqwimax.jp)
[00:31:41] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:32:18] *** Quits: fyolnish (fyolnish@moz-BC740323.uqwimax.jp) (Ping timeout)
[00:32:39] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[00:32:56] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[00:32:56] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[00:34:21] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[00:35:21] *** Joins: we (Mibbit@6153D4EB.BDAAB148.43362C16.IP)
[00:37:31] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:37:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[00:45:04] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[00:47:26] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[00:47:58] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[00:47:58] *** ChanServ sets mode: +o tjc
[00:52:10] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[00:53:12] <cmr> Is there a way to make https://gist.github.com/cmr/5996d025495db5dbb811 type check?
[00:53:30] <cmr> I think I may have goofed with lifetimes...
[00:53:34] <cmr> but not really sure.
[00:53:39] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[00:53:40] *** Parts: riddochc (riddochc@moz-36F47083.hlrn.qwest.net) ()
[00:54:04] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[00:54:12] <kmc> filter_map() returns an iterator right? and that iterator needs to hold on to the function
[00:54:31] <cmr> yeah
[00:54:53] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[00:55:28] <FreeFull> You don't need the environment
[00:55:47] <cmr> where would self come from?
[00:55:52] <FreeFull> So maybe you could use a named function inside the function
[00:56:00] <FreeFull> Oh, nevermind
[00:56:03] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:56:03] <FreeFull> You do need self
[00:56:10] <cmr> (and besides, it only takes a closure, a bare fn would be coerced to it)
[00:56:37] <FreeFull> I don't really have enough experience with Rust myself to help, I think
[00:56:48] <kmc> i feel like there should be an iterators library which takes owned functions instead
[00:56:53] <kmc> except those are all once fns now, aren't they :/
[00:56:58] <cmr> yup.
[00:57:32] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[00:57:37] <kmc> high level declarative programming with explicit memory management is a pain :(
[00:57:42] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[00:58:00] * cmr gives up and returns a vector
[00:58:05] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[00:58:18] *** Quits: we (Mibbit@6153D4EB.BDAAB148.43362C16.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:58:50] *** Joins: jadbaires (jadrian@F5483711.DC337B28.6119BA41.IP)
[00:58:53] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[00:59:12] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[00:59:20] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:59:36] *** Quits: Erik_ (Erik_S@moz-EFEC8E5D.hlrn.qwest.net) (Ping timeout)
[00:59:45] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[01:00:01] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:00:04] *** Quits: Savago (Savago@2BEBC716.E820043D.D4C04133.IP) (Quit: Savago)
[01:00:05] <kmc> in this case it seems like the language could support it, by allowing to explicitly name the type of the function's environment, allocate it within the FilterMap struct, and move into it from the lambda (which would hopefully result in just constructing it there to begin with)
[01:00:14] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[01:00:30] <kmc> that would make iterators a lot less painful
[01:01:25] *** Joins: fyolnish (fyolnish@moz-EBB3257E.uqwimax.jp)
[01:02:41] *** Quits: eibwen (kvirc@moz-4A816755.dip0.t-ipconnect.de) (Ping timeout)
[01:03:01] <kmc> approximated by:  struct FilterMap<A, B, Env, It> { f: extern "Rust" fn(&Env, A) -> Option<B>, env: Env, ... }
[01:03:06] *** Quits: fyolnish (fyolnish@moz-EBB3257E.uqwimax.jp) (Ping timeout)
[01:05:08] <FreeFull> kmc: Propose it
[01:05:15] <kmc> C++ has us beat here
[01:05:54] <FreeFull> I'm not sure how C++ handles its closures
[01:05:56] <kmc> lambdas evaluate to instances of an automatically-generated type, which has a size and you can allocate it wherever you like
[01:06:49] <kmc> when you want erasure of the environment type, you up-cast to std::function<...> which has a virtual operator()
[01:07:27] <strcat> kmc: there are plans for better closures
[01:07:34] <strcat> kmc: you don't need std::function in C++ anyway
[01:07:41] <strcat> kmc: lambdas have value semantics
[01:07:46] <strcat> can pass them around, return them, etc.
[01:07:53] <kmc> i know
[01:08:08] <strcat> anyway atm rust has really crappy closures ;s
[01:08:14] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[01:08:20] <strcat> really need an equivalent to unboxed closures like C++11 lambdas
[01:08:24] <kmc> you often don't need std::function but sometimes you do, for the same reasons that you generally need virtual methods / trait objects / etc.
[01:08:25] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:08:53] <kmc> dynamic vs. static polymorphism
[01:09:06] <FreeFull> Storing in a data structure and such?
[01:09:19] <kmc> but yeah you can go really surprisingly far in C++ with only static polymorphism... CRTP anyone?
[01:09:45] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:10:10] <kmc> FreeFull: yeah
[01:12:06] <ChrisMorgan> Is there any way to squeeze a block in where an expr is desired? e.g. macro_rules! x((if $b1:block else $b2:block)=>(if {let x = $b1; …}…)), which won't work because where I'm using $b1 it wants expr, not block.
[01:12:33] <ChrisMorgan> Oh, just got it. `if true $b1` will work.
[01:16:09] *** Joins: hoverbear (hoverbear@moz-55CA9771.wireless.uvic.ca)
[01:19:11] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[01:19:23] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:20:42] *** Quits: John-Galt (kris@moz-882434A3.hsd1.or.comcast.net) (Quit: Reconnecting)
[01:20:50] *** Joins: John-Galt (kris@moz-882434A3.hsd1.or.comcast.net)
[01:21:33] * hoverbear crosses paws, hoping the new build will work.
[01:21:51] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: Leaving...)
[01:22:23] <cmr> http://www.hoverbear.org/
[01:22:24] *** Quits: victorporof_ (victorporo@125EF623.B2666F0E.66399531.IP) (Quit: victorporof_)
[01:22:26] <cmr> this is incredibly amusing.
[01:22:38] <cmr> now to decide itf it's a sidechannel for communication.
[01:22:56] <hoverbear> cmr: Haha. :) I haven't had the time to make something useful for it
[01:23:06] <hoverbear> cmr: Frankly it's as rejected as my poor blog.hoverbear.org
[01:23:15] *** Joins: victorporof (victorporo@125EF623.B2666F0E.66399531.IP)
[01:25:16] <hoverbear> Wooooo cmr: It works! https://travis-ci.org/Hoverbear/rust-rosetta/builds/19228415
[01:25:25] <cmr> \o/
[01:27:13] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[01:27:39] <ChrisMorgan> Bah, `if true $b1` is no good because then $b1 can only result in (). Any other possibilities?
[01:28:12] <hoverbear> cmr: Try running the "recursion_depth.rs" file
[01:30:07] *** Joins: fyolnish (fyolnish@moz-BB450B2B.uqwimax.jp)
[01:31:49] *** Quits: fyolnish (fyolnish@moz-BB450B2B.uqwimax.jp) (Ping timeout)
[01:32:51] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[01:33:09] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:34:33] <hoverbear> bstrie: You're a BC feller?
[01:35:25] *** Joins: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[01:35:38] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[01:36:36] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Ping timeout)
[01:36:49] *** Quits: cy (user@moz-6964FF68.airbears2.berkeley.edu) (Ping timeout)
[01:39:25] *** Joins: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net)
[01:39:49] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:40:01] *** Quits: victorporof (victorporo@125EF623.B2666F0E.66399531.IP) (Quit: victorporof)
[01:40:45] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[01:41:01] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:41:22] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[01:41:22] *** ChanServ sets mode: +o tjc
[01:41:30] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:42:33] *** Quits: jvoorhis_ (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[01:42:40] *** Joins: cy (user@moz-6964FF68.airbears2.berkeley.edu)
[01:42:46] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[01:42:53] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[01:43:11] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:44:27] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[01:44:35] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[01:45:50] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Quit: Leaving...)
[01:45:56] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:46:18] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[01:47:22] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[01:47:28] *** Joins: jesse99 (jesse99@moz-D8DE13A5.hsd1.wa.comcast.net)
[01:47:49] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[01:47:49] *** ChanServ sets mode: +o tjc
[01:48:41] *** Quits: hoverbear (hoverbear@moz-55CA9771.wireless.uvic.ca) (Quit: Taking a nap.)
[01:48:43] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[01:49:22] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[01:49:24] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[01:51:18] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[01:54:30] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:54:56] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[01:56:26] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[01:56:43] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[01:57:14] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[01:57:35] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[01:59:15] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[02:00:32] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[02:01:09] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:02:22] *** Quits: cy (user@moz-6964FF68.airbears2.berkeley.edu) (Input/output error)
[02:02:39] <brson> erickt: do you have enough presenters for next week?
[02:03:13] <erickt> good evening :)
[02:03:45] <erickt> brson: I think so, but I'll confirm the times everyone is planning on speaking
[02:05:05] *** Quits: onelson (onelson@moz-DD666EC5.laika.com) (Quit: Leaving.)
[02:05:07] *** Joins: brendan (brendaneic@moz-966364AA.public.wayport.net)
[02:05:09] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:05:18] *** Joins: santiago (santiago@moz-C0D6FDAD.socal.res.rr.com)
[02:05:34] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:06:38] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[02:06:48] *** Joins: hoverbear (hoverbear@moz-E19BC15E.wireless.uvic.ca)
[02:07:15] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:07:23] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:08:09] *** Joins: kvanb (kvanb@moz-5AEBA67F.lnse5.win.bigpond.net.au)
[02:08:42] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-31A3FF12.dynamic.qsc.de) (Ping timeout)
[02:08:55] *** Quits: jadbaires (jadrian@F5483711.DC337B28.6119BA41.IP) (Connection reset by peer)
[02:09:01] *** Joins: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt)
[02:10:06] *** Quits: Earnestly (earnest@moz-2440EE8A.dyn.plus.net) (Ping timeout)
[02:10:07] *** Joins: eholk (eholk@moz-E48030DD.public.wayport.net)
[02:11:19] <cmr> hoverbear: no, graydon was.
[02:15:57] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:16:24] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[02:17:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:18:31] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[02:19:28] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:20:11] *** Quits: tabraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[02:20:12] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[02:20:15] <ChrisMorgan> I'm just about done with a `for x in y { ... } else |err| { ... }` Result-based Iterator demo; any comments before I post it to the mailing list? https://gist.github.com/chris-morgan/9105842
[02:20:59] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[02:21:33] <ChrisMorgan> (No bikeshedding on the "else" keyword, please. It's taken straight from Python; it's only the semantics that I'm concerned about at present.)
[02:21:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:22:01] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[02:22:02] <ChrisMorgan> It's a proposal that I actually *like*. Most proposals I come up with I'm not terribly fond of, but with this one the only downside I can see is that Result<T, ()> is longer to type than Option<T>.
[02:22:21] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:22:58] *** Joins: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net)
[02:23:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:23:42] <cmr> ChrisMorgan: that says nothing about the problems it's supposed to solve.
[02:24:12] <cmr> and why it's worth the extra complexity.
[02:24:16] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[02:24:16] *** ChanServ sets mode: +o tjc
[02:25:39] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-33A2B3A4.wlan.uni-bonn.de)
[02:28:05] <ChrisMorgan> cmr: I'll provide details of that with the mailing list post.
[02:28:24] <ChrisMorgan> The first problem it handles is this lines()-is-consuming-errors business.
[02:29:11] <ChrisMorgan> I can think of various other situations where it would be useful too. for..else is useful in Python and this is a supercharged version of that.
[02:29:22] <cmr> Why is Option<IoResult<T>> undesirable, which is fused to None after returning an Err, possibility with the ability to query what Err it was?
[02:29:43] *** Joins: valloric (Mibbit@moz-288722BA.hsd1.ca.comcast.net)
[02:30:57] <cmr> Is it necessary to affect every single iterator for this seemingly corner case? What other problems does it solve?
[02:30:58] <ChrisMorgan> cmr: then you've got to handle it inside the for loop. Much uglier.
[02:30:59] <cmr> etc
[02:31:25] <cmr> ChrisMorgan: granted, but worth it?
[02:31:48] <ChrisMorgan> I (having used for..else in Python not uncommonly) believe it is.
[02:31:58] *** Quits: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:32:05] <cmr> I think I've used for..else once or twice.
[02:32:27] <strcat> for else in python doesn't change the iterator protocol
[02:32:29] <ChrisMorgan> Setting a boolean flag for when you break is a common pattern; with this, you wouldn't need it.
[02:32:40] *** Quits: valloric (Mibbit@moz-288722BA.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:32:45] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:33:14] <ChrisMorgan> strcat: you could implement for..else without changing the iterator protocol, but combining it with the iterator protocol yields an even more useful result in that you can then take an Err value in the else part.
[02:33:57] <strcat> and it stops being a simple abstraction
[02:33:58] *** Quits: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt) (Connection reset by peer)
[02:34:06] *** Joins: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt)
[02:34:08] <strcat> all of the adaptors need to worry about it
[02:34:16] <strcat> and what type should the result be?
[02:34:21] <strcat> pretending IoResult is special is wrong
[02:34:26] <strcat> it's not the only kind of error
[02:34:29] <ChrisMorgan> Yeah, the adapters are my biggest concern.
[02:34:41] <ChrisMorgan> I'm not saying IoResult is special, am I?
[02:34:43] <strcat> if_ok! already makes rust look bad
[02:34:50] *** Quits: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[02:36:24] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[02:36:24] *** ChanServ sets mode: +o tjc
[02:37:19] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:38:54] <WebeWizard> i don't mind if_ok
[02:39:16] <strcat> so what about other kinds of errors?
[02:39:19] *** Quits: eholk (eholk@moz-E48030DD.public.wayport.net) (Quit: eholk)
[02:39:26] *** Joins: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP)
[02:39:50] <strcat> atm rust needs to know about every kind of error for it to be convenient
[02:40:04] *** Quits: brendan (brendaneic@moz-966364AA.public.wayport.net) (Quit: brendan)
[02:40:05] <strcat> as soon as you have an extra error case that's not part of it, you can't use those convenience features
[02:40:26] <strcat> which starts being the case when it's not just a toy program anymore
[02:40:28] <ChrisMorgan> That's a little related to #8277 and an extension of that idea that I'm writing up.
[02:40:29] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:40:31] <cmr> if_ok just returns any error.
[02:40:39] <cmr> it's not hardcoded to IoResult
[02:40:50] <cmr> it's using IoResult itself that's not composable.
[02:40:56] <WebeWizard> str, isn't that true for all convenience features?
[02:40:58] <strcat> it bubbles up the same error
[02:40:58] <ChrisMorgan> cmr: called a thing which had E = IoError. Now *I* want to return IoError | json::Error | ApiError. Uh oh, can't use if_ok!.
[02:41:15] <cmr> yes.
[02:41:17] <cmr> I know.
[02:41:18] <strcat> WebeWizard: no, plenty of convenience features don't encourage bad practices
[02:41:22] <cmr> I've raised the same thing..
[02:41:30] <cmr> that's my point
[02:41:31] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[02:42:08] <strcat> atm you basically have to pick an error enum and reuse it for everything
[02:42:25] <strcat> so you're not actually saying 'this function can return errors A, B and C' in the signature
[02:42:48] <strcat> you're saying it can return A, B, C, .. P
[02:42:56] <dwrensha> strcat: do you think an `exn` type like in SML would help here?
[02:42:57] <strcat> because otherwise it's too inconvenient
[02:42:59] * ChrisMorgan remembers there being an issue along the lines of letting you select which enum variants were possible. That would be *really* nice.
[02:43:02] <dwrensha> an extensible union
[02:43:16] <cmr> ChrisMorgan: datasort refinements.
[02:43:18] <strcat> ChrisMorgan: still end up having another error case that's not I/O
[02:43:21] <ChrisMorgan> Yep, that was it.
[02:43:24] <strcat> and now IoResult, etc. aren't enough
[02:43:25] <cmr> not useful for io though.
[02:43:28] <WebeWizard> ChrisMorgan, similar to defining what errors to 'catch' in java?
[02:43:34] <strcat> so do you make another enum that's a superset?
[02:43:35] <cmr> (not particularly useful, that is)
[02:43:49] <ChrisMorgan> strcat: something vaguely similar to #8277
[02:44:01] *** Joins: sellout (Adium@moz-2081FE17.hsd1.co.comcast.net)
[02:44:10] * ChrisMorgan is going to need to go suddenly in a few minutes
[02:45:22] <strcat> dunno, it's just too inconvenient atm
[02:45:33] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[02:45:46] <dwrensha> "The type exn may be thought of as a kind of built-in datatype, except that the constructors of this type are not determined once and for all (as they are with a datatype declaration), but rather are incrementally introduced as needed in a program.  For this reason the type exn is sometimes called an extensible datatype."
[02:45:52] <dwrensha> http://www.cs.cmu.edu/~rwh/introsml/core/exceptions.htm
[02:46:00] <ChrisMorgan> strcat: yeah, the proposal contained in #8277 is *very* clumsy.
[02:46:23] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[02:46:23] *** ChanServ sets mode: +o jdm
[02:46:57] <cmr> dwrensha: are they statically determined?
[02:47:08] <dwrensha> no
[02:47:13] <dwrensha> that's the point
[02:47:14] <cmr> didn't think so.
[02:49:45] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[02:49:54] <dwrensha> In ML, it can be useful that the variants of `exn` are dynamically determined, because then you know that nobody can 'intercept' your exception
[02:50:27] <dwrensha> That reasoning seems to apply less in Rust in this situation
[02:51:01] <ChrisMorgan> strcat: what do you think of https://github.com/mozilla/rust/issues/8277#issuecomment-35581566 ?
[02:51:09] <dwrensha> But exn still strikes me as a reasonable solution to the IOError problem
[02:51:37] <strcat> ChrisMorgan: that looks good
[02:52:24] <ChrisMorgan> dwrensha: how about https://github.com/mozilla/rust/issues/8277#issuecomment-35581566
[02:52:25] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[02:53:54] <dwrensha> I'm wary about the implicit conversions
[02:55:33] <ChrisMorgan> The type checker is there to take care of that.
[02:55:40] <dwrensha> Is the problem just that you don't want to have to declare the enums?
[02:55:46] *** Quits: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com) (Ping timeout)
[02:55:46] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[02:56:06] <dwrensha> It seems to me that you could make if_ok! fancier
[02:56:56] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[02:57:12] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[02:57:14] <dwrensha> so that it would automatically inject E1 into E2, where `enum E2 { e1 : E1, e3: E3}`
[02:57:37] <dwrensha> but I haven't thought about this very much...
[02:57:57] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[02:58:05] <strcat> declaring the enums is too complicated
[02:58:16] <strcat> and pattern matching is an enormous pain when there are layers and layers of them
[02:58:25] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[02:58:54] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[02:58:56] *** Parts: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (later gator)
[03:00:48] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:02:47] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[03:06:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:06:57] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:07:24] *** Quits: kvanb (kvanb@moz-5AEBA67F.lnse5.win.bigpond.net.au) (Quit: kvanb)
[03:07:29] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[03:07:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:07:48] *** Joins: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com)
[03:08:25] *** Quits: calvinmetcalf (cmetcalf@moz-468348D6.hsd1.ma.comcast.net) (Quit: calvinmetcalf)
[03:08:26] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-33A2B3A4.wlan.uni-bonn.de) (Connection reset by peer)
[03:09:10] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:09:42] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[03:10:11] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:10:19] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[03:10:30] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[03:10:38] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:10:59] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[03:11:34] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:11:52] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:12:39] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:14:39] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[03:15:21] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:16:13] *** Quits: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP) (Quit: Linkinus - http://linkinus.com)
[03:16:50] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:17:39] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[03:17:44] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:17:57] *** Joins: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net)
[03:18:15] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:18:31] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:19:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:22:25] *** Quits: hoverbear (hoverbear@moz-E19BC15E.wireless.uvic.ca) (Quit: Taking a nap.)
[03:22:44] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[03:22:45] *** Quits: alexherbo2 (alexherbo2@moz-18DB4357.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[03:23:06] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[03:24:03] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[03:25:03] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:27:57] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Ping timeout)
[03:28:59] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[03:29:15] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-31A3FF12.dynamic.qsc.de)
[03:31:02] *** Joins: derek_c (derek@moz-1EAA5B58.cit.cornell.edu)
[03:31:13] <derek_c> cmr: you here?
[03:31:18] <cmr> derek_c: what's up?
[03:31:28] <derek_c> cmr: where is nanosleep?
[03:31:55] *** Quits: canndrew (irssi@A21734A3.5EA6E22A.7260E5E5.IP) (Ping timeout)
[03:32:30] <cmr> derek_c: we might not have bindings for it yet.
[03:32:34] <cmr> derek_c: but it's in time.h ...
[03:33:08] *** Quits: derek_c (derek@moz-1EAA5B58.cit.cornell.edu) (Ping timeout)
[03:33:22] *** Joins: derek_c (derek@moz-1EAA5B58.cit.cornell.edu)
[03:33:51] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[03:35:17] <derek_c> cmr: indeed
[03:35:51] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[03:35:54] *** Quits: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net) (Quit: Leaving.)
[03:36:04] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[03:37:33] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:37:35] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[03:37:50] <derek_c> acrichto: Hi alex
[03:38:17] <derek_c> acrichto: oh never mind, I see what you mean
[03:40:48] <derek_c> so you commented that we could create a wrapper around AtomicBool that hides the unsafety.  By that, did you mean I do something like: create a function that takes a UnsafeArc<AtomicBool> and do unsafe thing with it, but have the function itself be safe?
[03:40:52] <derek_c> acrichto: ^
[03:40:57] *** Joins: canndrew (irssi@A21734A3.5EA6E22A.7260E5E5.IP)
[03:41:11] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:41:33] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[03:41:40] *** Quits: relrod (relrod@moz-AABB5D31.redhat.com) (Ping timeout)
[03:42:58] *** Quits: KindOne (KindOne@moz-5F901433.dynamic.ip.windstream.net) (Ping timeout)
[03:43:13] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[03:43:33] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[03:43:56] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[03:45:16] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[03:45:18] *** Joins: relrod (relrod@moz-AABB5D31.redhat.com)
[03:45:19] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[03:45:45] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:45:47] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:47:16] *** Joins: KindOne (KindOne@D9E88B9D.9C5C45A3.EC6A1518.IP)
[03:47:26] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:49:52] *** Quits: zz_kimundi (kimundi@moz-73713BC5.dip0.t-ipconnect.de) (Ping timeout)
[03:50:15] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[03:51:46] *** Quits: gmjosack (gary@F91A859E.75E3DBFA.7AB8439E.IP) (Ping timeout)
[03:52:24] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[03:53:09] *** Joins: zz_kimundi (kimundi@moz-767272DB.dip0.t-ipconnect.de)
[03:53:37] *** zz_kimundi is now known as kimundi
[03:54:55] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:55:07] *** Quits: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt) (Quit: Konversation terminated!)
[03:55:15] *** Joins: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt)
[03:56:08] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[03:56:08] *** ChanServ sets mode: +o jdm
[03:57:25] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[03:57:28] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:57:53] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[03:58:07] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Quit: Leaving)
[03:58:38] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[04:00:40] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Client exited)
[04:01:02] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[04:01:02] *** ChanServ sets mode: +o tjc
[04:02:53] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[04:07:26] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[04:08:46] *** Joins: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net)
[04:09:40] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[04:10:07] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[04:10:23] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:11:55] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[04:12:04] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:12:20] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Ping timeout)
[04:12:29] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[04:12:47] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[04:12:49] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[04:13:00] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:13:01] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[04:13:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[04:13:20] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Quit: Leaving...)
[04:13:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:13:48] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:13:50] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:15:43] *** Quits: trobertson (quassel@moz-A4AC319.sd.sd.cox.net) (Ping timeout)
[04:16:36] *** Joins: trobertson (quassel@moz-A4AC319.sd.sd.cox.net)
[04:17:31] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:17:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:18:12] *** kanru is now known as kanru|lunch
[04:18:31] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[04:18:47] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[04:18:55] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[04:19:14] *** Quits: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[04:19:19] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:20:03] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[04:20:10] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[04:20:18] *** Joins: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[04:20:32] *** Quits: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Input/output error)
[04:21:18] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[04:24:32] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[04:25:57] *** Joins: gmjosack (gary@moz-CB7AA3B8.hsd1.ca.comcast.net)
[04:27:59] <acrichto> derek_c: either that or 'struct SleepFlag { priv inner: UnsafeArc<AtomicBool> }
[04:28:03] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[04:28:28] <derek_c> acrichto: that makes sense. thanks!
[04:32:18] *** Joins: kvanb (kvanb@moz-5AEBA67F.lnse5.win.bigpond.net.au)
[04:45:28] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[04:47:10] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:50:42] *** Quits: ecl3ctic (ecl3ctic@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: Leaving)
[04:51:49] *** Quits: espindola (espindola@moz-9F530B29.com) (Quit: Leaving...)
[04:54:18] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:55:26] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:55:41] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:56:09] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:56:10] *** Joins: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[04:58:00] <derek_c> acrichto: https://github.com/mozilla/rust/pull/12254#discussion_r9858606  I was wondering that since this code only gets run when SHUTDOWN is received, what's the problem of simply getting rid of everyone's neighbor, i.e. what's the point of forming new neighbor-ship since everybody is to be removed anyway?
[04:58:21] *** Joins: watch_watch (Mibbit@moz-DB06A900.stat.centurytel.net)
[04:58:50] *** Quits: watch_watch (Mibbit@moz-DB06A900.stat.centurytel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:01:42] *** Joins: duncan (duncan@moz-DB06A900.stat.centurytel.net)
[05:02:24] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:02:31] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[05:03:07] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[05:05:13] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[05:05:30] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[05:05:37] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:07:13] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:07:15] *** Joins: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk)
[05:08:31] *** Quits: duncan (duncan@moz-DB06A900.stat.centurytel.net) (Quit: )
[05:08:40] *** Joins: duncan (duncan@moz-DB06A900.stat.centurytel.net)
[05:12:22] *** nrc is now known as nrc|afk
[05:12:29] *** Quits: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net) (Quit: Sharp)
[05:12:50] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:14:16] *** Joins: bitofabother (Aria@moz-ABB60BA0.austin.res.rr.com)
[05:14:29] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Ping timeout)
[05:17:23] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:17:54] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:18:11] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:19:01] *** Quits: new_one (new_one@75512748.6D46D672.B3C0173E.IP) (Quit: leaving)
[05:19:52] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:22:22] *** Quits: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt) (Quit: Konversation terminated!)
[05:23:22] *** Joins: an0nymous (Jacob@moz-F04BA440.tx.res.rr.com)
[05:24:43] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[05:25:24] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[05:25:35] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[05:26:10] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[05:26:34] *** Quits: diverse (diverse@moz-ED94B8D.oc.oc.cox.net) (Ping timeout)
[05:26:38] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Ping timeout)
[05:26:44] *** Quits: _achin (achin@moz-193F7FAD.ri.ri.cox.net) (Ping timeout)
[05:27:01] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[05:31:31] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:34:44] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:36:25] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[05:36:58] <gmjosack> are there any argument parsing libraries for rust?
[05:37:10] <cmr> gmjosack: review the list at http://static.rust-lang.org/doc/master/index.html
[05:37:32] <gmjosack> ah cool thanks
[05:37:37] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[05:39:18] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:39:43] * ChrisMorgan wants a turn at being infallible
[05:39:46] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Quit: ZNC - http://znc.in)
[05:41:08] <cmr> wait
[05:41:10] <cmr> wut
[05:41:15] <cmr> why am I there :S
[05:41:46] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[05:41:49] <Luqman> cmr: where?
[05:42:00] *** Joins: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP)
[05:42:08] <cmr> sidebar on www.reddit.com/r/rust/
[05:42:38] <steveklabnik> ahahahaha
[05:42:39] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[05:43:09] <Luqman> cmr: haha awesome
[05:43:14] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[05:44:20] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[05:45:26] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[05:45:40] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[05:45:40] *** ChanServ sets mode: +o tjc
[05:46:02] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[05:46:31] *** nrc|afk is now known as nrc
[05:50:19] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[05:50:19] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[05:53:36] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Quit: ZNC - http://znc.in)
[05:54:08] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[05:54:55] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[05:54:55] *** ChanServ sets mode: +ao pcwalton pcwalton
[05:56:54] *** Quits: derek_c (derek@moz-1EAA5B58.cit.cornell.edu) (Quit: Leaving)
[05:59:03] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:59:42] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[06:00:45] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:03:23] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:03:54] <Kroisse> what's the purpose of rule #6: "cmrx64 is infallible"?
[06:04:14] <cmr> well it used to say bstrie is infallible...
[06:04:18] <cmr> then it said dbaup...
[06:04:24] <cmr> it possibly had different people
[06:04:27] <cmr> and now it has me.
[06:04:29] <mcpherrin> I want to be infallible :p
[06:04:37] <Kroisse> is it some kind of a moderator?
[06:04:39] <mcpherrin> (n.b. I am not infallible)
[06:04:44] <cmr> the purpose, clearly, is humor
[06:04:45] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:04:47] <cmr> no, I am not :P
[06:05:11] <Kroisse> oh is that just a kind a joke? lol
[06:05:54] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[06:06:00] *** Quits: pybot (py@C3406AEB.F09091A8.1348A864.IP) (Connection reset by peer)
[06:06:42] *** Joins: pybot (py@C3406AEB.F09091A8.1348A864.IP)
[06:07:00] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:09:32] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[06:10:08] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[06:11:46] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[06:18:39] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[06:19:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:20:42] *** Joins: lucian_ (lucian@moz-8408FDFA.cable.virginm.net)
[06:20:45] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[06:21:35] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[06:22:23] *** Quits: lucian_ (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:23:12] *** Quits: duncan (duncan@moz-DB06A900.stat.centurytel.net) (Quit: )
[06:24:39] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Connection reset by peer)
[06:25:14] *** Quits: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP) (Input/output error)
[06:25:27] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[06:25:56] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:28:55] *** Joins: joichiro (Mibbit@moz-736BD788.lsanca.fios.verizon.net)
[06:29:39] *** Quits: GeneralMaximus (ankur@A804DE4B.7D84F5AD.260B031E.IP) (Ping timeout)
[06:29:42] *** Quits: joichiro (Mibbit@moz-736BD788.lsanca.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:29:45] *** Joins: victorporof (victorporo@moz-D6E84091.public.wayport.net)
[06:29:50] <gmjosack> [] is literal for vector correct?
[06:29:55] *** Joins: edwardw_ (edwardw@ECB36E22.A26CCAD9.99A56FDE.IP)
[06:30:00] <ChrisMorgan> Yes.
[06:30:31] <gmjosack> So i know vectors have a tail method (is method the correct term?) but i can't find reference to it on http://static.rust-lang.org/doc/0.9/std/vec/index.html
[06:30:40] <gmjosack> is that a doc bug or me not understanding the docs
[06:31:00] <ChrisMorgan> It's an unfortunate fact about the documentation at present.
[06:31:00] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:31:29] <ChrisMorgan> Tail is on ImmutableVector: http://static.rust-lang.org/doc/0.9/std/vec/trait.ImmutableVector.html#tymethod.tail
[06:32:02] <gmjosack> ah cool, so I just have to check all the traits it's part of
[06:32:33] <ChrisMorgan> ImmutableVector is implemented (effectively) by &[T], &mut [T] and ~[T].
[06:32:44] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[06:32:47] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[06:33:02] <ChrisMorgan> MutableVector is implemented (effectively) by &mut [T] and, provided it is in a mutable slot (e.g. `let mut x` rather than `let x`), ~[T].
[06:33:20] <ChrisMorgan> OwnedVector by only ~[T].
[06:33:35] *** Quits: victorporof (victorporo@moz-D6E84091.public.wayport.net) (Ping timeout)
[06:33:44] <gmjosack> are there plans to have the docs follow implemented traits?
[06:34:02] <ChrisMorgan> (See at the end of the pages the "Implementors" (sic.) heading, containing e.g. "impl<T> OwnedVector<T> for ~[T]".)
[06:34:46] <gmjosack> that's super helpful. thanks :)
[06:35:10] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[06:36:53] <ChrisMorgan> Methods can't be implemented directly on the built-in types (strings, vectors, i8 et al., bool, ()); they must be trait implementations. That way everyone can implement things for them! Yay!
[06:37:53] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:38:39] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:43:43] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[06:44:16] <zq> man
[06:44:21] <zq> the indentation
[06:44:40] <zq> is it idiomatic for rust code to march off to the right side of the screen?
[06:45:20] <mcpherrin> zq: Not really
[06:46:13] <mcpherrin> At least I haven't found myself indenting much higher than c++
[06:46:23] <mcpherrin> and keeping code in 80 columns hasn't been a challenge
[06:46:31] <mcpherrin> not like Java where I struggle with 120 sometimes
[06:46:51] <zq> cpp within 80 is hard, especially with allt hose init lists
[06:46:51] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[06:47:01] <arrrrrrrrr> y'all need eight space tabs
[06:47:06] <zq> or const std::vector::iterator
[06:47:08] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[06:47:17] <arrrrrrrrr> to learn some discipline
[06:48:03] <zq> i remember seeing someone here say that excessive scope nesting is characteristic of functional/-esque langauges
[06:49:01] <mcpherrin> Lisps especially
[06:50:03] *** Quits: KindOne (KindOne@moz-448CF7C6.dynamic.ip.windstream.net) (Ping timeout)
[06:51:11] *** Joins: alkino (alkino@moz-5158FCA3.w92-151.abo.wanadoo.fr)
[06:51:19] <zq> is it possible to make rustc stop after N errors?
[06:51:39] *** kanru|lunch is now known as kanru
[06:51:42] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:51:50] *** Quits: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[06:52:27] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[06:53:51] *** Joins: KindOne (KindOne@5C3CC612.7E8839F4.34F73994.IP)
[06:53:53] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[06:53:53] *** ChanServ sets mode: +o tjc
[06:54:39] <o11c> zq: I rarely have a problem with 80 in C++ ...
[06:54:42] <sfackler> I stick to 80 character columns without a ton of trouble in Rust
[06:55:08] *** edwardw_ is now known as edwardw
[06:55:16] <mcpherrin> `auto` in c++ makes 80 cols a lot easier
[06:55:29] <Yurume> I typically use 100
[06:55:37] <o11c> pretty much the only thing that puts me over 80 in C++ is <type_traits>
[06:56:09] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Client exited)
[06:56:56] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:58:27] *** Joins: victorporof (victorporo@moz-D6E84091.public.wayport.net)
[06:58:47] *** Quits: KindOne (KindOne@5C3CC612.7E8839F4.34F73994.IP) (Ping timeout)
[07:00:13] <zq> so
[07:00:18] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Connection reset by peer)
[07:00:20] <zq> about that rustc question...
[07:00:39] <arrrrrrrrr> didn't exist last time I asked
[07:00:43] *** Joins: KindOne (KindOne@5C3CC612.7E8839F4.34F73994.IP)
[07:01:23] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:01:23] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[07:05:40] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[07:05:52] *** Joins: bjz (bjz@moz-38D46E1C.perm.iinet.net.au)
[07:10:36] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[07:10:46] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:14:53] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:14:57] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[07:16:00] *** Joins: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[07:17:28] *** Quits: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[07:19:46] *** Joins: GeneralMaximus (ankur@A804DE4B.7D84F5AD.260B031E.IP)
[07:19:49] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[07:19:58] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[07:20:00] *** Quits: KindOne (KindOne@5C3CC612.7E8839F4.34F73994.IP) (Ping timeout)
[07:21:28] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:21:45] <mcpherrin> cb
[07:21:48] <mcpherrin> oops
[07:23:08] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:24:32] *** Joins: KindOne (KindOne@95407017.9C5C45A3.EC6A1518.IP)
[07:25:57] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[07:26:32] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[07:26:57] *** Joins: _achin (achin@moz-193F7FAD.ri.ri.cox.net)
[07:30:02] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:31:50] <geomyidae> I appreciate rust-ci's enthusiasm but it keeps telling me I've fixed my projects after I've already fixed them. It keeps telling me every night even after they've passed.
[07:32:27] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Ping timeout)
[07:32:54] *** Joins: oxum (anonymous@ED4BF525.CC3A5F2F.520CDC98.IP)
[07:34:04] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[07:35:21] *** Quits: oxum (anonymous@ED4BF525.CC3A5F2F.520CDC98.IP) (Quit: ...)
[07:35:35] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:36:07] *** Joins: Ferreus (ferreus@moz-F084DFA7.dip0.t-ipconnect.de)
[07:36:08] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[07:36:16] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:36:25] *** Quits: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (Ping timeout)
[07:37:22] *** Quits: victorporof (victorporo@moz-D6E84091.public.wayport.net) (Quit: victorporof)
[07:37:22] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[07:37:33] *** Quits: StarLight (StarLight@moz-E706041E.dynamic.avangarddsl.ru) (Ping timeout)
[07:37:42] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:40:46] *** Joins: marianoguerra (marianogue@moz-7D7611BE.dip0.t-ipconnect.de)
[07:41:56] <Eridius> geomyidae: I too am annoyed by it. Apparently it's a Travis-CI issue
[07:41:56] *** Joins: StarLight (StarLight@moz-AC9979A.dynamic.avangarddsl.ru)
[07:42:05] <Eridius> rust-ci can only trigger a rebuild of an existing build
[07:42:12] <Eridius> it can't submit a brand new build via the API
[07:42:24] <geomyidae> Long as it's known. It doesn't really bother me as long as it's not an unknown bug
[07:42:34] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:42:51] *** Joins: kgilden (kgilden@moz-2BAB43A3.dyn.internet.emt.ee)
[07:43:04] <Yurume> geomyidae, Eridius: I think you can tweak .travis.yml to reduce redundant emails.
[07:43:27] <Yurume> http://docs.travis-ci.com/user/notifications/
[07:43:41] <Yurume> yes, it's notifications: email: on_success: I guess.
[07:43:56] <geomyidae> Er, I'm not sure that's what we want.
[07:44:05] <geomyidae> I want to know when I've transitioned from broken -> fixed.
[07:44:24] <geomyidae> But only the first time. It keeps emailing me each night as if it's making that transition to fixed for the "first time" since it was last broken.
[07:44:30] <geomyidae> Sounds like it's a travis-ci issue though
[07:44:34] <Eridius> Yurume: but I want a notification if it fails when rebuilding a previous success
[07:44:39] <Yurume> ah!
[07:44:43] <geomyidae> That case as well, yes.
[07:44:55] <Eridius> I only want an email when the state changes. travis-ci unfortunately always diffs the state against the original from the submitted build, rather than from the last build
[07:45:07] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[07:45:33] <geomyidae> Eridius: oh
[07:45:40] <Yurume> so even while one uses `on_success: change` by default, when the prior build failed and the current build passed, one get notified whenever the current build is re-triggered by rust-ci?
[07:46:31] <Eridius> Yurume: I assume it's already doing 'change', because if it was 'always' I'd expect an email every night
[07:46:41] <Eridius> and I don't get it every night if the last submitted build worked the first time (and continues to work)
[07:46:49] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[07:47:00] *** flaper87|afk is now known as flaper87
[07:47:19] <geomyidae> ?
[07:47:21] <geomyidae> I am.
[07:47:22] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:47:38] <Eridius> geomyidae: if you push a change to your repo, and it builds the first time, you don't get an email every subsequent day
[07:47:41] <geomyidae> I've gotten [FIXED] project emails for the last three nights in a row with a streak of successful builds
[07:47:44] <Yurume> Eridius: hmm? I think I get it as well.
[07:47:46] <geomyidae> I am though.
[07:47:47] <geomyidae> haha
[07:47:57] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:48:19] <Eridius> geomyidae: when I have your problem, it's because I submitted a change that was broken, because it relied on a change that was in rust master but not in the latest nightly
[07:48:30] <Eridius> then when that was rebuilt by rust-ci and it transitioned from failing to passed, I get an email
[07:48:31] *** Joins: nkoep (nik@moz-E2B8D148.pool.mediaways.net)
[07:48:37] <geomyidae> :p
[07:48:40] <Eridius> and get a new one every day on until I push a new change (and therefore trigger a new build)
[07:48:44] <geomyidae> let me just show you a screenshot to prove I'm not crazy
[07:49:07] <geomyidae> I've both manually triggered this build and had it build successfully, AND have had rust-ci submit it and transition to fixed.
[07:49:16] <geomyidae> and then it happened again tonight, with no breakage in between
[07:49:33] <Eridius> push a new commit, to create a brand new build instead of just rebuilding the current one
[07:49:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:49:43] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[07:50:03] <geomyidae> Oi vey, I need to shut up and read.
[07:50:06] <geomyidae> Thank you Eridius
[07:50:11] <Eridius> :D
[07:50:18] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:52:38] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[07:53:00] *** Joins: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net)
[07:53:06] *** Quits: andrew-d_w (andrew-d_w@moz-17320F4E.hsd1.ca.comcast.net) (Input/output error)
[07:53:30] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[07:56:08] *** Quits: bitofabother (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[07:56:50] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[07:57:49] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[07:59:59] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[08:00:24] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[08:02:30] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:03:00] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[08:03:00] <henrikhodne> geomyidae: This is indeed a known issue on our (Travis CI's) end, we don't handle restarts very well when it comes to notifications.
[08:03:01] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[08:04:04] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[08:04:04] *** ChanServ sets mode: +o jdm
[08:04:19] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:04:30] *** Quits: edwardw (edwardw@ECB36E22.A26CCAD9.99A56FDE.IP) (Quit: Leaving...)
[08:06:53] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[08:09:40] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:11:13] *** Joins: nlminhtl|home (ignotus@moz-4CB8A1D.site.volia.net)
[08:11:31] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Quit: Konversation terminated!)
[08:12:53] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[08:15:24] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Ping timeout)
[08:15:40] *** pmoore|away is now known as pmoore
[08:15:56] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:16:19] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[08:17:35] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:17:41] *** Joins: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net)
[08:17:41] *** Joins: tulloch_ (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[08:18:13] *** Quits: tulloch (tulloch@moz-99B7EB8.nat.csx.cam.ac.uk) (Ping timeout)
[08:21:22] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[08:22:13] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:23:10] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Client exited)
[08:23:53] *** Joins: fabiand (fabiand@moz-A302B384.adsl.alicedsl.de)
[08:23:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:24:18] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[08:26:20] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:26:20] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:26:29] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:26:33] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[08:26:38] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:26:44] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:27:48] *** Joins: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP)
[08:28:36] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[08:29:33] *** Quits: nlminhtl|home (ignotus@moz-4CB8A1D.site.volia.net) (Quit: Konversation terminated!)
[08:30:37] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-31A3FF12.dynamic.qsc.de) (Ping timeout)
[08:31:29] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[08:31:47] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[08:31:52] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:32:29] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[08:32:44] *** Quits: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net) (Ping timeout)
[08:32:44] *** Quits: tulloch_ (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[08:33:00] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[08:33:38] *** Joins: eholk (eholk@F3583441.A033706C.284344F5.IP)
[08:33:47] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[08:36:30] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[08:37:10] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[08:37:33] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[08:39:19] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[08:39:42] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[08:41:52] *** Quits: alkino (alkino@moz-5158FCA3.w92-151.abo.wanadoo.fr) (Ping timeout)
[08:42:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:42:30] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:43:48] *** Joins: vasac (vasac@FC3DDDFC.89B50D56.DF1CE89D.IP)
[08:44:11] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:44:28] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[08:44:48] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[08:45:32] *** Quits: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[08:45:36] *** Joins: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP)
[08:45:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:46:32] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[08:47:22] *** Joins: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za)
[08:48:44] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[08:51:48] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[08:52:05] *** Quits: bjz (bjz@moz-38D46E1C.perm.iinet.net.au) (Ping timeout)
[08:52:49] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:52:51] *** Quits: eholk (eholk@F3583441.A033706C.284344F5.IP) (Quit: eholk)
[08:53:07] *** Joins: eholk (eholk@F3583441.A033706C.284344F5.IP)
[08:53:35] *** Joins: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP)
[08:54:17] *** Quits: eholk (eholk@F3583441.A033706C.284344F5.IP) (Quit: eholk)
[08:54:51] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[08:55:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:56:41] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:57:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:59:33] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[09:01:11] *** Joins: foo (Mibbit@7053DE60.D0D050CA.D216A595.IP)
[09:02:46] *** Quits: foo (Mibbit@7053DE60.D0D050CA.D216A595.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:06:22] *** pmoore is now known as pmoore|away
[09:07:16] *** pmoore|away is now known as pmoore
[09:07:40] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[09:07:46] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[09:08:06] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:08:10] *** Quits: santiago (santiago@moz-C0D6FDAD.socal.res.rr.com) (Ping timeout)
[09:08:48] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[09:08:57] *** Joins: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk)
[09:09:19] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[09:09:26] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:13:51] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[09:17:57] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[09:18:34] <nrc> oh macros
[09:18:40] <nrc> what have I done wrong here:
[09:18:41] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[09:18:44] <nrc> macro_rules! variable_str(() => ("..."))
[09:19:18] <eddyb> that doesn't work?
[09:19:47] <Yurume> nrc: where do you invoke that macro?
[09:21:06] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:21:07] *** Joins: bjz (bjz@moz-38D46E1C.perm.iinet.net.au)
[09:21:37] <nrc> rec.record(format!(variable_str!(),...);
[09:21:57] <eddyb> nrc: macros don't expand inner-first
[09:22:19] <nrc> oh :-(
[09:22:23] <Yurume> nrc: macros are expanded on demand
[09:22:34] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:23:01] <Yurume> procedural macros, afaik, can avoid the expansion of inner macros
[09:23:40] <Yurume> though that behavior seems a bit surprising for format!() and friends
[09:23:47] <nrc> so if I want to share strings around and use them in format! - I can't use variables and I can't use macros - is that correct?
[09:23:54] <nrc> Is there anything I can use?
[09:23:54] <Yurume> rusti: format!(concat!("hello ", "{}"), 42)
[09:23:56] -rusti- ~"hello 42"
[09:23:59] <Yurume> wait, hmm?
[09:24:00] *** Quits: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[09:24:19] <nrc> that looks like it works?
[09:24:20] *** Quits: bjz (bjz@moz-38D46E1C.perm.iinet.net.au) (Ping timeout)
[09:24:23] <Yurume> rusti: macro_rules! aaa(() => ("aaa")) format!(aaa!())
[09:24:23] -rusti- more than 10000 lines of output, bailing out
[09:24:26] *** Joins: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[09:24:27] <Yurume> wow!
[09:24:29] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[09:24:46] <nrc> any idea why e difference?
[09:24:50] <nrc> *the
[09:25:04] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[09:25:26] <Yurume> I don't know, that is certainly a bug...
[09:25:39] *** Quits: blaenk (blaenk@moz-D046F6D6.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[09:25:55] *** Quits: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[09:26:06] *** Quits: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[09:26:28] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:27:01] <Yurume> aaand that's https://github.com/mozilla/rust/issues/11692
[09:28:11] *** Joins: sebcrozet (sebcrozet@moz-70920872.fbx.proxad.net)
[09:28:24] <nrc> ho-hum
[09:29:06] <nrc> thanks Yurume!
[09:29:17] <Yurume> :)
[09:30:24] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:31:36] <Ms2ger> error: variable `ProcessingInstructionNodeTypeId` from pattern #3 is not bound in pattern #1
[09:31:38] <Ms2ger> Eh?
[09:32:22] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:33:08] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[09:33:57] <eddyb> Ms2ger: what kind of error is that?
[09:34:17] <Ms2ger> Missing import
[09:34:24] <eddyb> ahh, lovely
[09:34:44] *** Joins: eibwen (kvirc@moz-544A7ACB.dip0.t-ipconnect.de)
[09:34:50] <Ms2ger> match { Foo(Bar1) | Foo(Bar2) | Foo(Bar3) => ...
[09:34:59] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[09:35:01] <Yurume> is it something like: match ... { ... | ... | Foo(ProcessingInstructionNodeTypeId) => ... }?
[09:35:04] <Yurume> yeah
[09:35:05] <Ms2ger> With Bar1 and Bar2 imported, but not Bar3
[09:35:26] *** Joins: gimpf (gimpf@moz-78FAE2E6.adsl.highway.telekom.at)
[09:35:56] *** Quits: gimpf (gimpf@moz-78FAE2E6.adsl.highway.telekom.at) (Quit: Leaving.)
[09:36:29] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Client exited)
[09:45:54] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[09:46:41] *** Joins: bjz (bjz@moz-38D46E1C.perm.iinet.net.au)
[09:47:10] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[09:47:34] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[09:48:08] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:48:14] *** Quits: sebcrozet (sebcrozet@moz-70920872.fbx.proxad.net) (Quit: Gone)
[09:49:28] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[09:52:49] *** Joins: novabyte (novabyte@65CB01.7EE6203.B8D52E29.IP)
[09:57:45] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[09:59:55] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:04:41] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[10:05:24] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[10:08:34] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[10:13:31] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Connection reset by peer)
[10:17:07] *** Quits: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP) (Ping timeout)
[10:17:48] *** Joins: blank_name (blank_name@973FA96D.E6D3F868.537E532E.IP)
[10:21:40] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Ping timeout)
[10:24:44] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[10:25:41] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[10:27:31] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[10:27:34] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Ping timeout)
[10:28:04] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:28:48] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:29:11] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:30:35] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[10:34:12] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[10:35:20] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[10:36:19] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[10:38:02] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Ping timeout)
[10:38:05] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[10:38:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:39:15] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[10:39:39] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[10:39:53] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[10:40:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:43:16] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[10:45:20] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[10:45:41] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[10:47:23] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[10:47:35] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[10:48:04] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[10:50:18] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[10:50:45] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[10:52:23] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:53:32] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[10:54:32] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:58:30] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[10:58:59] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[10:59:15] *** Quits: trobertson (quassel@moz-A4AC319.sd.sd.cox.net) (Ping timeout)
[10:59:20] *** Quits: tulloch (tulloch@moz-BC895BC5.damtp.cam.ac.uk) (Ping timeout)
[10:59:43] *** Joins: trobertson (quassel@moz-A4AC319.sd.sd.cox.net)
[11:00:29] *** Joins: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se)
[11:01:03] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:04:20] *** Joins: RagtagPsyche (sid24923@moz-31ABA2C0.irccloud.com)
[11:05:20] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[11:06:45] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:07:47] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[11:08:14] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:10:34] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[11:13:10] *** Joins: oxum (anonymous@E5F9F49E.16DC8F8D.520CDC98.IP)
[11:13:41] *** Parts: DrewRWx (DrewRWx@moz-EC0023EB.whatbox.ca) (Textual IRC Client: www.textualapp.com)
[11:13:44] *** Joins: DrewRWx (DrewRWx@moz-EC0023EB.whatbox.ca)
[11:13:49] *** Parts: DrewRWx (DrewRWx@moz-EC0023EB.whatbox.ca) (Textual IRC Client: www.textualapp.com)
[11:13:52] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[11:15:57] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[11:16:31] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[11:16:59] *** Joins: fyolnish (fyolnish@moz-5655AFED.uqwimax.jp)
[11:17:03] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[11:17:09] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[11:17:14] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[11:17:38] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:18:17] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-31A3FF12.dynamic.qsc.de)
[11:18:43] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:19:25] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[11:22:39] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[11:23:22] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[11:25:56] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[11:27:37] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[11:31:13] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[11:31:13] *** Joins: vmx (vmx@moz-7C0AC71F.pools.arcor-ip.net)
[11:31:25] *** Quits: benjamin_____ (benjamin@moz-7E387E2B.dip0.t-ipconnect.de) (Ping timeout)
[11:31:25] *** Quits: bjz (bjz@moz-38D46E1C.perm.iinet.net.au) (Ping timeout)
[11:32:43] *** Joins: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de)
[11:33:32] *** Quits: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de) (Quit: Leaving)
[11:33:48] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[11:35:24] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[11:36:07] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[11:38:06] *** Joins: dybt (dybt@1C6E12CD.34AF3F94.A0A451B2.IP)
[11:38:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:40:38] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:42:46] *** Quits: Ferreus (ferreus@moz-F084DFA7.dip0.t-ipconnect.de) (Ping timeout)
[11:45:38] *** Quits: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP) (Ping timeout)
[11:46:41] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[11:47:14] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[11:47:41] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[11:48:21] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:48:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[11:49:25] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[11:50:20] *** Quits: KindOne (KindOne@95407017.9C5C45A3.EC6A1518.IP) (Ping timeout)
[11:50:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[11:54:12] *** Joins: KindOne (KindOne@moz-4E58D19C.dynamic.ip.windstream.net)
[11:54:55] *** Joins: mrshankly (mrshankly_@moz-A56896CA.rev.vodafone.pt)
[11:55:02] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[11:57:48] *** Joins: Ferreus (ferreus@moz-28EF4879.dip0.t-ipconnect.de)
[11:58:10] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:59:22] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[11:59:56] *** Joins: santiago (santiago@moz-69361A64.socal.res.rr.com)
[12:06:50] <arrrrrrrrr> what is ~Trait:Send ?
[12:07:20] *** Joins: Earnestly (earnest@moz-2440EE8A.dyn.plus.net)
[12:07:22] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:08:13] <arrrrrrrrr>  type `~TypeCallbacks:Send` does not implement any method in scope named `callback1`
[12:11:35] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[12:11:56] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[12:12:12] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[12:12:23] <arrrrrrrrr> my bad, I forgot &mut self
[12:12:52] <kimundi> arrrrrrrrr: ~Trait is a trait object, and the :Send part is called a kind bound
[12:13:05] <kimundi> basically, ~Trait:Send is a sendable trait object
[12:13:37] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[12:13:40] <kimundi> and you can not cast not sendable ~Type as a ~Trait:Send, even if it implements the trait
[12:14:00] <arrrrrrrrr> regarding transmute_copy: that's exactly the same as transmute except that it doesn't move anything, right? It doesn't actually copy anything?
[12:14:15] <kimundi> Otherway round, if you don't care about sendability, ~Trait: is a trait objects without any bounds
[12:14:16] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[12:14:52] <kimundi> arrrrrrrrr: well, depends on what you mean with copy
[12:14:55] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[12:14:58] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[12:15:05] <arrrrrrrrr> more than a pointer
[12:15:23] <kimundi> again, that can also mean multible things
[12:15:39] * kimundi looks at the transmute_copy source
[12:17:32] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[12:19:31] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[12:19:36] <kimundi> arrrrrrrrr: transmute takes a type by value and returns it casted as different type by value - which means shallow copy into the function, and then a return of that value casted
[12:20:08] *** Joins: sk (sk@35CFDE22.E993C7C3.78DD174B.IP)
[12:20:15] <kimundi> transmute_copy takes a type by immutable reference, creates a shallow copy from that, and then casts that as a different type
[12:20:50] <arrrrrrrrr> hmmm
[12:20:51] <kimundi> so, both functions make a shallow copy of the input (because almost everything makes a shallow copy), but transmute_copy will not move a type into it
[12:21:24] *** Quits: kvanb (kvanb@moz-5AEBA67F.lnse5.win.bigpond.net.au) (Ping timeout)
[12:21:35] <eddyb> transmute_copy is equivalent to a dereference + transmute, except it works even for types that move
[12:22:00] <arrrrrrrrr> So transmute_copy(&bla) copys 8 bytes?
[12:22:07] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[12:22:07] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[12:22:12] <eddyb> if bla is 8 bytes long, yes
[12:22:30] <kimundi> So, for moving types transmute_copy will make a shallow copy of the type without invalidating the source, something which is normally impossible with moving types
[12:23:12] <eddyb> and very dangerous unless you know what you're doing
[12:23:23] <arrrrrrrrr> let bla: &Type = ...; let blub: *c_void = transmute_copy(bla);
[12:23:24] <kimundi> yup
[12:23:51] <arrrrrrrrr> yes, no?
[12:23:52] <eddyb> arrrrrrrrr: do you want to cast the &Type pointer?
[12:24:07] <arrrrrrrrr> I guess.
[12:24:14] <eddyb> then don't touch transmute_copy
[12:24:26] <kimundi> rusti: &5u as *uint as *()
[12:24:28] -rusti- (0x7f0e70c12dc0 as *())
[12:24:39] <kimundi> replace the () with c_void at the end and you have it
[12:24:43] <eddyb> arrrrrrrrr: transmute_copy(bla) is equivalent to transmute(*bla)
[12:24:55] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[12:25:07] <arrrrrrrrr> mismatched types: expected `*std::libc::types::common::c95::c_void` but found `&mut Type` (values differ in mutability)
[12:25:16] <eddyb> and don't abuse transmute for pointer casts
[12:25:29] <kimundi> rusti: &mut 5u as *mut uint as *mut ()
[12:25:30] -rusti- (0x7f2f73ffedc0 as *mut ())
[12:25:38] <arrrrrrrrr>  mismatched types: expected `*mut std::libc::types::common::c95::c_void` but found `&mut Type` (expected enum std::libc::types::common::c95::c_void but found struct Type)
[12:25:54] <eddyb> are you doing the cast?
[12:26:02] <arrrrrrrrr> self as *mut c_void
[12:26:11] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[12:26:23] <eddyb> arrrrrrrrr: self as *mut Type as *mut c_void
[12:26:28] <arrrrrrrrr> hoho
[12:26:30] <arrrrrrrrr> I'll try
[12:26:59] <kimundi> otherwise try borrowing the &mut self to a & first
[12:27:14] <arrrrrrrrr> It works!
[12:27:35] <eddyb> arrrrrrrrr: keep in mind you should annotate your C APIs very carefully wrt mutability
[12:27:52] <eddyb> arrrrrrrrr: void* is NOT *c_void
[12:27:58] <eddyb> but rather *mut c_void
[12:28:13] <eddyb> you don't see const, you have to put mut
[12:29:17] <arrrrrrrrr>  38     let mut cb = cooked.callbacks.as_ref(); 
[12:29:20] <arrrrrrrrr>  39     cb.as_mut().unwrap().callback1(cooked); 
[12:29:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:29:33] <arrrrrrrrr> where callbacks is Option<~MyTrait>
[12:29:40] <arrrrrrrrr> I just don't know anymore
[12:29:47] <arrrrrrrrr>  cannot borrow immutable dereference of ~ pointer as mutable
[12:30:00] <eddyb> that's &mut&~Trait :P
[12:30:21] <eddyb> cooked.callbacks.as_mut().unwrap().callback1(cooked); 
[12:30:33] *** Joins: ricepuddin (graham@moz-2276DB2F.wlan.ic.ac.uk)
[12:31:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:31:30] <arrrrrrrrr> cannot borrow immutable field `cooked.callbacks` as mutable
[12:31:52] <kimundi> where is cooked stored?
[12:32:12] <arrrrrrrrr> in a &Type. So I'll add mut there
[12:32:23] <kimundi> needs to be a &mut Type, yeah
[12:32:33] <arrrrrrrrr>  cannot borrow `*cooked` as immutable because `cooked.callbacks` is also borrowed as mutable
[12:32:49] <eddyb> arrrrrrrrr: what else do you have in "cooked"?
[12:33:05] <arrrrrrrrr>  14 struct Type { 
[12:33:06] <eddyb> that you need the user to access?
[12:33:07] <arrrrrrrrr>  15     ty: *c_void, 
[12:33:09] <arrrrrrrrr>  16     callbacks: Option<~TypeCallbacks>, 
[12:33:11] <arrrrrrrrr>  17 }
[12:33:18] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[12:33:18] <eddyb> put it on one line if you want to paste in IRC, please
[12:33:39] <kimundi> okay, you are trying to borrow two different fields in cooked mutabily at the same time. This is possible, but only if you create both mutable borrows at the same time with a destructuring pattern
[12:33:51] <eddyb> arrrrrrrrr: you can pass the ty separately, if you want
[12:33:54] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:34:10] <arrrrrrrrr> no, ty won't be public
[12:34:17] <eddyb> then don't pass anything :)
[12:34:24] <arrrrrrrrr> yeah, right now it makes no sense
[12:34:31] <arrrrrrrrr> but in the future Type will have more fields
[12:34:36] <eddyb> like?
[12:35:00] <eddyb> also, what kind of type is "Type"? is this intended for a macro template of sorts?
[12:35:05] <arrrrrrrrr> here is the whole thing: https://gist.github.com/anonymous/f8cefcc26dd4f2d52f16
[12:35:20] <kimundi> let Cooked { ref mut ty, ref mut callbacks } = cooked; // now you have both a ty: &mut *c_void and a callbacks: &mut Option<~TypeCallbacks>
[12:35:37] <eddyb> kimundi: arrrrrrrrr doesn't need to send the ty
[12:35:39] <arrrrrrrrr> eddyb: I'm just trying to get a working example going
[12:35:45] <eddyb> it doesn't need to be mutable at all
[12:35:48] <eddyb> it feels like you're building an abstraction for the sake of on abstraction
[12:35:57] <eddyb> which tends to blow up in your face
[12:36:17] <eddyb> I would suggest rather focusing on a real example
[12:36:24] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[12:36:37] <arrrrrrrrr> eddyb: Think libwaylawvd
[12:36:42] <arrrrrrrrr> *libwayland
[12:36:44] <eddyb> lawd
[12:36:45] <kimundi> Hm, then I have no idea what this code is doing. I should eat breakfast before starting to think, it seems :P
[12:36:57] <eddyb> arrrrrrrrr: you could have all the other fields in Type in one structure
[12:37:08] <eddyb> and then you could pass mutable or immutable references to it
[12:37:39] <eddyb> arrrrrrrrr: problem is, the problem you're trying to solve could be very well different from the actual one
[12:37:59] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Client exited)
[12:38:09] <eddyb> you might have to scrap this completely, you won't know until you have a skeleton for an actual implementation
[12:38:34] <arrrrrrrrr> let me make up a concrete example
[12:39:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[12:41:29] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Ping timeout)
[12:42:04] *** Joins: twi (Adium@moz-86D1266E.lnse1.cht.bigpond.net.au)
[12:44:34] *** Quits: mrshankly (mrshankly_@moz-A56896CA.rev.vodafone.pt) (Quit: leaving)
[12:44:45] *** Joins: mrshankly (mrshankly_@moz-A56896CA.rev.vodafone.pt)
[12:45:27] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[12:45:59] *** Joins: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP)
[12:46:05] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[12:47:09] <arrrrrrrrr> this is what we want to wrap: https://gist.github.com/anonymous/a5c87ce6b7285805192a
[12:47:34] <arrrrrrrrr> in a nice rust struct with get_path, and get_status methods
[12:48:18] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[12:51:37] *** Joins: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[12:52:16] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[12:52:40] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:54:27] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[12:55:05] *** Quits: vgeddes (vincent.ge@moz-D8D4FE4D.dsl.mweb.co.za) (Ping timeout)
[12:55:46] *** Joins: AvianFlu (AvianFlu@moz-EB3CE09B.dyn.optonline.net)
[12:56:16] *** Quits: ricepuddin (graham@moz-2276DB2F.wlan.ic.ac.uk) (Ping timeout)
[12:56:22] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[12:57:05] *** Joins: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[12:57:13] <arrrrrrrrr> any idea
[12:57:55] <eddyb> sorry, I had lunch
[12:58:38] <kimundi> arrrrrrrrr: Do you have to set the callback for file_mon_set_callback once, or everytime after a change?
[12:58:46] *** Quits: alan_andrade_ (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[12:58:51] <arrrrrrrrr> once
[12:58:55] <eddyb> arrrrrrrrr: so Type becomes FileMon?
[12:59:01] <arrrrrrrrr> yeah
[12:59:14] <eddyb> holding an opaque_file_mon pointer
[12:59:22] <arrrrrrrrr> and ty: *c_void is the c pointer
[12:59:35] *** Joins: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net)
[12:59:45] *** Quits: GeneralMaximus (ankur@A804DE4B.7D84F5AD.260B031E.IP) (Ping timeout)
[12:59:56] <eddyb> arrrrrrrrr: there is a bit of a problem
[13:00:16] <eddyb> how do you guarantee that the location of FileMon remains constant?
[13:00:34] <kimundi> eddyb: hm?
[13:00:35] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[13:00:35] <arrrrrrrrr> what do you mean?
[13:01:20] <eddyb> in your Type thing, you pass &mut Type as userdata
[13:01:49] <eddyb> you can't enforce the address to remain indefinitely valid
[13:02:04] <arrrrrrrrr> that sound right
[13:02:13] <arrrrrrrrr> so I'll have to put another wrapper around it
[13:02:19] <arrrrrrrrr> something that contains FileMone
[13:02:34] <arrrrrrrrr> *something that contains a ~FileMon
[13:02:38] <kimundi> eddyb: Could you explain more in detail? I dont understand the problem atm
[13:02:45] <kimundi> ah, thats what you mean
[13:02:50] <eddyb> well, here's how I think it could work:
[13:03:01] <kimundi> *filemon needs a wrappertype with a destructor, right?
[13:03:24] <eddyb> not just that, but the callback trait object
[13:04:20] <eddyb> actually, hmm...
[13:04:32] <eddyb> arrrrrrrrr: is there any way to retrieve the callback or userdata?
[13:04:40] <eddyb> from the file_mon API
[13:05:03] <arrrrrrrrr> lets assume that there isn't
[13:05:13] <eddyb> because then there isn't an issue and the userdata can be a ~~Trait
[13:05:15] <eddyb> arrrrrrrrr: bleah
[13:05:30] <eddyb> can you check whether there's already a callback in place?
[13:05:42] <arrrrrrrrr> nope
[13:05:57] <arrrrrrrrr> It's a rather minimal api
[13:05:59] <eddyb> then you'll need two structures
[13:06:01] <kimundi> how about this: two wrappertypes arounf a *filemon, one owns it, the other is a reference to it. then write a wrapper around the callback api that works with the filemon reference wrapper
[13:06:19] <eddyb> yeah, that's what I was thinking a few minutes ago, then hoped to remove the need for
[13:06:27] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[13:06:41] <kimundi> (I think you could even use unsafe magic to make the api accept regular rust closures)
[13:06:59] <eddyb> nope
[13:07:05] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:07:15] <eddyb> the data pointer is at the end, and we don't really ensure cross-ABI compat
[13:07:33] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[13:07:33] *** calvinmetcalf_ is now known as calvinmetcalf
[13:07:58] <kimundi> nope? Isn't this the c way of doing a closure? initial env a *data, function pointer that gives *data and additional informations as callback?
[13:08:03] *** Joins: jadbaires (jadrian@F5483711.DC337B28.6119BA41.IP)
[13:08:17] <eddyb> kimundi: look at the gist
[13:09:16] <kimundi> I did - I don't know much C, but isn't that just fn foo(... fn(*filemon, int, *Data), *Data) ?
[13:09:25] <eddyb> yes
[13:09:48] <eddyb> our env ptr comes first
[13:10:30] <kimundi> ah, now I see the problem - needs a wrapper 
[13:10:34] <arrrrrrrrr> let me try to write a wrapper for that api and I'll come back to you later
[13:10:34] <eddyb> arrrrrrrrr: you need double allocation anyway (~~Trait), so you could have ~FileMon {ptr: *file_mon, callback: Option<~Trait>}, construct ~FileMon and pass &FileMon.... << can you just scratch that?
[13:10:49] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[13:10:57] <eddyb> do generic extern "C" fn's work?
[13:11:02] <arrrrrrrrr> no
[13:11:18] <eddyb> dammit, I have to fix them
[13:11:37] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[13:11:38] <kimundi> well, the closure could be stored in *Data, then the wrapper could be defined similar to your double indirection closure adapter thing that did not get implemented.
[13:11:57] <arrrrrrrrr> there is an old issue on github. I'll try to find it
[13:11:58] <eddyb> a closure is two words
[13:12:15] <eddyb> wait, I forgot about the damn destructor again *sigh*
[13:12:45] <kimundi> I need to stop talking before thinking something through though :U
[13:13:01] <arrrrrrrrr> is there a way to find issues I've posted in?
[13:13:23] <kimundi> arrrrrrrrr: If there is, tell me ;)
[13:13:40] <eddyb> arrrrrrrrr: mkay, so what you can do, to give &Type to the callback, without having your previous issues, is to do an option dance
[13:13:48] *** Quits: jadbaires (jadrian@F5483711.DC337B28.6119BA41.IP) (Quit: Konversation terminated!)
[13:13:55] *** Joins: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt)
[13:14:11] <arrrrrrrrr> https://github.com/mozilla/rust/issues/10954
[13:14:33] *** Quits: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt) (Quit: Konversation terminated!)
[13:14:38] *** Joins: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt)
[13:14:41] <eddyb> arrrrrrrrr: let callback = cooked.callback.take(); match callback {Some(ref cb) => cb.callback(cooked), None => {}} cooked.callback = callback;
[13:15:23] <silven> How can I make a fixed size array of enums? ~[None, ..32] doesn't work
[13:15:45] <eddyb> silven: the type probably isn't Pod
[13:16:06] <arrrrrrrrr> eddyb: So take() replaces the field by None?
[13:16:10] <eddyb> arrrrrrrrr: yes
[13:16:26] <eddyb> that has the nice advantage of preventing recursion
[13:17:15] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[13:17:32] <eddyb> you could even only put it back if a new callback hasn't been set
[13:18:10] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[13:18:13] <kimundi> silven: Try ~([None, ..32])
[13:18:30] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[13:18:33] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:18:51] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:18:52] <eddyb> oh, right, I didn't ask silven for "what kind of doesn't work"
[13:19:39] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[13:19:43] <silven> I've got a struct Foo<T> { a: u8, b: ~[Option<Foo<T>>, ..32] }
[13:20:19] <silven> Maybe Foo<T> { a: u8, b: [Option<~Foo<T>>, ..32] } is better
[13:20:24] *** Joins: fabiand_ (fabiand@moz-A302B384.adsl.alicedsl.de)
[13:20:28] <silven> I'm mainly playing around
[13:20:31] *** Quits: fabiand_ (fabiand@moz-A302B384.adsl.alicedsl.de) (Quit: fabiand_)
[13:20:33] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[13:20:34] *** Joins: Ms2ger (Ms2ger@moz-83203FE6.ugent.be)
[13:20:55] <kimundi> silven: We need the error message
[13:20:58] *** Quits: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt) (Connection reset by peer)
[13:21:06] *** Joins: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt)
[13:21:35] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[13:21:37] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:22:47] <silven> kimundi the data wasn't copyable
[13:23:11] *** Joins: GeneralMaximus (ankur@A804DE4B.7D84F5AD.260B031E.IP)
[13:23:17] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:23:19] <kimundi> okay, then I'm actually not sure if you can construct the type without unsafe code
[13:23:52] *** jorendorff_away is now known as jorendorff
[13:24:31] *** Quits: Ms2ger (Ms2ger@moz-83203FE6.ugent.be) (Ping timeout)
[13:24:38] <silven> Well, I can write it like [None, None, None] etc
[13:25:01] <silven> but I want 32 of them, and None (of type Option<~Foo>) isn't copyable
[13:25:32] *** Joins: Ms2ger (Ms2ger@moz-83203FE6.ugent.be)
[13:25:33] <kimundi> In that case: write [, followed by 32 Nones :P
[13:25:53] <kimundi> [T, ..N] are rather painful to use atm
[13:27:33] <silven> :(
[13:28:12] <pnkfelix> silven: there's vec::from_fn
[13:28:24] <kimundi> thats for dynamic vectors
[13:28:31] <kimundi> not for fixed sized arrays
[13:28:40] <pnkfelix> kimundi: ah right
[13:28:50] <eddyb> I think we discussed the idea of allowing such constructs, with copyable values of non-copyable types
[13:28:53] <kimundi> of course, you could just use a dynamic vector with a capacity of 32, and never grow or shrink it
[13:29:18] *** Joins: benjamin_____ (benjamin@moz-7E387E2B.dip0.t-ipconnect.de)
[13:29:30] <huon> (can also use unsafe and `std::unstable::intrinsics::init::<[Option<...>, .. 32]>()`, abusing the fact that `None` is 0'd)
[13:29:33] <pnkfelix> eddyb: yeah I think a recent mtg pcwalton said he wanted it; it was part of discussion of how to extend const-expr's for static constants
[13:29:44] <kimundi> eddyb: That would certainly solve such a situation, but I'm not sure if the additional complexity of it is worth it
[13:30:02] <eddyb> kimundi: we are doing it for statics
[13:30:04] *** Quits: Ms2ger (Ms2ger@moz-83203FE6.ugent.be) (Ping timeout)
[13:30:07] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:30:15] <eddyb> so there shouldn't *additional* complexity involved
[13:30:21] <kimundi> eddyb: hum, didn't know that
[13:30:23] <kimundi> example?
[13:30:28] <eddyb> not sure if it landed yet
[13:30:40] <eddyb> I think flaper87 is/was working on that PR
[13:31:00] * flaper87 reads the backlog
[13:31:05] <arrrrrrrrr> is there a maximal int type? something like i∞
[13:31:18] <eddyb> int::MAX
[13:31:27] <eddyb> that is, std::int::MAX
[13:31:32] <arrrrrrrrr> that's a type?
[13:31:40] <eddyb> a value
[13:31:44] <kimundi> arrrrrrrrr: Your question is confusing :P
[13:31:46] <eddyb> of type int
[13:31:47] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:31:51] <eddyb> kimundi: to say the least :)
[13:31:53] <arrrrrrrrr> I'm looking for the largest integer type
[13:31:59] <eddyb> ahhh
[13:32:03] <eddyb> arrrrrrrrr: i64
[13:32:03] <myname> i64?
[13:32:05] <eddyb> and u64
[13:32:17] <flaper87> ah yeah, the static items restrictions, I've a PR for that: https://github.com/mozilla/rust/pull/11979
[13:32:18] <eddyb> if you want bigger, BigInt
[13:32:23] <kimundi> arrrrrrrrr: do you mean a integer type that can grow infinitly (bigint), or the greates fixed sized integrer type (i64)?
[13:32:25] <dybt> All the examples of named lifetimes I've seen have been local to a function, can lifetimes be specified at a struct or impl scope?
[13:32:37] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:32:37] <eddyb> dybt: yes
[13:32:53] <eddyb> (and have to, in certain situations)
[13:32:57] <arrrrrrrrr> kimundi: No. I want to cast c_int in a reliable way
[13:33:11] <eddyb> arrrrrrrrr: c_int is defined
[13:33:21] <kimundi> dybt: Example: struct Ref<'a, T> { private data: &'a T }
[13:33:22] <arrrrrrrrr> sure, but I don't want to use it in the rust facing api
[13:33:22] <eddyb> i32 on all supported architectures
[13:33:36] <arrrrrrrrr> right now
[13:33:38] <eddyb> it will always be smaller than int
[13:33:45] <eddyb> (or equal)
[13:33:51] <kimundi> arrrrrrrrr: You seem to run into the X Y problem a lot ;)
[13:34:01] <dybt> ok thanks, that makes sense
[13:34:10] <arrrrrrrrr> there are systems where int is 64 bit so I want to be careful
[13:34:27] <eddyb> C int?
[13:34:29] <arrrrrrrrr> yes
[13:34:36] <eddyb> wait, what?
[13:34:57] <eddyb> I guess the standard doesn't put a hard cap on it
[13:35:12] <eddyb> arrrrrrrrr: in that case, the Rust int will most likely be 128 bits :P
[13:35:20] <eddyb> or at least 64 bits, anyway
[13:35:28] <arrrrrrrrr> ILP64
[13:35:33] <kimundi> Hm, something that just occured to me
[13:35:40] <eddyb> arrrrrrrrr: what is that?
[13:35:49] <arrrrrrrrr> int, long, and pointer are 64 bit
[13:35:52] <arrrrrrrrr> is a model
[13:36:01] <arrrrrrrrr> windows uses LLP64
[13:36:06] <arrrrrrrrr> unix uses LP64
[13:36:18] <arrrrrrrrr> (long is 32 bit on windows)
[13:36:23] <arrrrrrrrr> (long long is 64 bit)
[13:36:32] <kimundi> with associated types, we could give the users a direct API for choosing the right c/Rust integer type
[13:36:48] <eddyb> "HAL Computer Systems port of Solaris to SPARC64"
[13:37:11] <eddyb> arrrrrrrrr: Rust int is the safest choice, then
[13:37:23] <kimundi> (Something like let x: Integer::<for int>::CType = ...; )
[13:37:59] *** Joins: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk)
[13:38:02] <arrrrrrrrr> k
[13:42:39] *** Joins: vikraman (vh4x0r@moz-CEC30B75.org)
[13:43:02] <dybt> fn get_data(&self) -> &mut'a T
[13:43:04] <dybt> error: expected `|`, found `T`
[13:43:13] <eddyb> 'a after & not mut
[13:43:19] <dybt> oh
[13:43:34] <dybt> so it would be `&'a mut T`?
[13:44:57] <jensnockert> I didn't think I would say this, but I just replaced a shit-tonne of JSON with a reasonable amount of XML.
[13:45:12] <jensnockert> I feel clean, and like I'm wearing fancy clothes without being drunk.
[13:45:14] <eddyb> jensnockert: so you're reinventing GIR :P?
[13:45:20] <jensnockert> eddyb: Yes!
[13:45:23] <jensnockert> Or no.
[13:45:36] <jensnockert> This is a very high-level wrap-o-matic.
[13:45:44] <jensnockert> Maybe!
[13:46:05] <myname> i suppose, this is not about GIR from invade zim
[13:46:23] *** Joins: jackneill (jackneill@moz-5728BD7.pool.digikabel.hu)
[13:46:30] <jensnockert> No, GObject Introspection.
[13:47:05] *** Quits: twi (Adium@moz-86D1266E.lnse1.cht.bigpond.net.au) (Quit: Leaving.)
[13:47:31] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[13:48:11] <vikraman> hi, is there a traditional cons list in rust ?
[13:49:12] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[13:49:15] *** Quits: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt) (Connection reset by peer)
[13:49:22] *** Joins: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt)
[13:49:26] <dybt> vikraman, like this http://static.rust-lang.org/doc/master/collections/list/enum.List.html ?
[13:49:40] <eddyb> vikraman: do you actually need a list?
[13:50:16] <pzol> Can  I have a trait methods which returns a lambda??
[13:50:22] <vikraman> I'm coming from a haskell background, so this is the first thing I'm looking for ;p 
[13:50:38] <eddyb> vikraman: vectors are more idiomatic Rust
[13:50:49] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[13:50:53] <eddyb> and more efficient for 99% of uses
[13:50:58] *** Quits: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt) (Quit: Konversation terminated!)
[13:51:05] *** Joins: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt)
[13:51:22] <eddyb> pzol: the trait method part is irrelevant
[13:51:42] <eddyb> pzol: I'm guessing you want to ask "can I have a function which returns a closure?"
[13:51:47] *** pmoore is now known as pmoore|away
[13:51:50] <pzol> eddyb yep
[13:51:56] <eddyb> and the answer is "depends on the context"
[13:52:17] *** Joins: Ms2ger (Ms2ger@moz-51D90F76.ugent.be)
[13:53:47] <pzol> hmmm
[13:54:07] *** Quits: AvianFlu (AvianFlu@moz-EB3CE09B.dyn.optonline.net) (Input/output error)
[13:54:08] *** Quits: ricepuddin (graham@moz-3B525929.wlan.ic.ac.uk) (Ping timeout)
[13:54:18] <Kroisse> i think there is no restrictions to return a proc()
[13:54:39] <eddyb> or a 'static ||
[13:54:43] <dybt> I notice some functions still return @pointers. I thought they were supposed to have been removed in favour of Gc<T>. Is this just a case of the libraries not being completely updated yet?
[13:55:07] <Kroisse> to return a ||, hmm... maybe you need deep knowledges about lifetimes
[13:55:15] <eddyb> Kroisse: it's not about knowledge
[13:55:30] <eddyb> you can't outlive captures. that's it
[13:55:54] <eddyb> so fn foo(x: int) -> || -> int {|| x} is strictly illegal
[13:56:05] <eddyb> dybt: yeah, we need to remove a lot of old cruft
[13:56:17] <eddyb> dybt: libraries shouldn't use Gc anyway, even when it will actually do GC
[13:56:20] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[13:56:24] <Kroisse> how about 'a ||?
[13:56:37] <eddyb> Kroisse: you simply cannot outlive your captures
[13:56:49] <eddyb> the closure points to the stack space holding "x"
[13:57:12] <drbawb> i'm having an issue w/ calling methods [which implement trates] on a set of tuple-structs across the module boundary
[13:57:14] <eddyb> the closure cannot outlive the stack frame containing x
[13:57:36] <drbawb> https://gist.github.com/drbawb/9114052 the main.rs up top does not compile, but the main() inside units.rs compiles just fine.
[13:57:37] <eddyb> s/trates/traits/ thought methods can't implement traits :/
[13:57:41] <Kroisse> oh, i understood
[13:58:00] <eddyb> drbawb: you need to import traits to call methods on them
[13:58:32] <drbawb> ah, thanks. do I need to box it up, e.g: &Trait or ~Trait?
[13:58:44] <eddyb> no
[13:58:49] <eddyb> you need to import the trait
[13:59:07] <eddyb> use units::AsPixels; and whatnot
[13:59:18] <Kroisse> eddyb: how about a closure that capturing arguments of the outer function?
[13:59:43] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[13:59:45] <Kroisse> still there's no way to capture?
[13:59:47] <eddyb> Kroisse: you can't capture something you can't see
[13:59:56] <drbawb> awesome, that works, thanks eddyb!
[14:00:00] <eddyb> you need to capture lvalues
[14:00:27] <vikraman> um, how do I import collections::list::List ?
[14:00:27] <arrrrrrrrr>  non-scalar cast: `~FileMonInt` as `*mut FileMonInt`     <---    how do I get the address of the box
[14:00:30] <drbawb> I managed to get it to work by boxing them up last night (&(whatever) as &Trait) but it was a really ugly way of using it so I knew I was doing something wrong.
[14:00:56] <Kroisse> well, in that case, only proc() can be returnable, right?
[14:01:04] <Kroisse> and 'static ||
[14:01:08] <dybt> https://github.com/AngryLawyer/rust-sdl2/blob/master/src/demo/main.rs is the use of native here something that necessary for calling c libraries?
[14:01:11] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[14:01:17] <dybt> *that's
[14:01:24] <eddyb> arrrrrrrrr: you can borrow it
[14:01:54] <eddyb> let p: &mut FileMonInt = uniq; p as *mut FileMonInt
[14:02:39] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[14:02:39] *** calvinmetcalf_ is now known as calvinmetcalf
[14:03:25] <arrrrrrrrr> &mut *self as *mut FileMonInt as *mut c_void      <-- ?
[14:03:37] <arrrrrrrrr> self is already &mut so that looks a bit ridiculous
[14:03:44] <arrrrrrrrr> (and doesn't work)
[14:03:51] <eddyb> what's the type of self?
[14:03:58] <arrrrrrrrr> ~FileMonInt
[14:04:20] <eddyb> what's the impl type and the method declaration?
[14:04:41] <kimundi> dybt: No, libnative is the Rust runtime that does not use libuv. Depending on how you want to interface with a c library you might decide to use it, but its not directly connected
[14:04:42] <arrrrrrrrr> fn set_callback(&mut self, cb: ~TypeCallbacks) {
[14:04:52] <arrrrrrrrr>  impl FileMon for ~FileMonInt {
[14:05:00] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[14:05:11] <eddyb> hmm
[14:05:19] <kimundi> vikraman: extern crate collections; use collections::list::List;
[14:05:30] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[14:05:49] <eddyb> arrrrrrrrr:  let p: &mut FileMonInt = *self;
[14:05:52] <vikraman> I'm on 0.9 so I had to use extern mod 
[14:06:03] <kimundi> vikraman: On 0.9 there is also no libcollections :P
[14:06:11] <eddyb> arrrrrrrrr: you can't do it the way you tried, I don't think
[14:06:13] <vikraman> yes, I just realised that 
[14:06:14] <kimundi> (At least, I tdon't think there was?)
[14:06:19] <arrrrrrrrr> works
[14:06:37] <eddyb> vikraman: switch to master pls :)
[14:07:12] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[14:07:26] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[14:07:58] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[14:09:05] *** Quits: Ms2ger (Ms2ger@moz-51D90F76.ugent.be) (Ping timeout)
[14:09:06] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Ping timeout)
[14:09:28] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[14:10:11] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[14:10:12] *** calvinmetcalf_ is now known as calvinmetcalf
[14:10:46] <arrrrrrrrr> how do I go back from *mut FileMonInt to &mut FileMonInt?
[14:10:54] <eddyb> a transmute
[14:11:07] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[14:12:06] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[14:14:05] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[14:16:18] <arrrrrrrrr>  expected `~FileMon:Send` but found `~FileMonInt`
[14:16:21] <Tobba> raw pointers are kinda nasty
[14:16:31] <arrrrrrrrr>  impl<'a> FileMon for &'a mut FileMonInt {
[14:16:51] <kimundi> arrrrrrrrr: wait, when did a Trait come into play here?
[14:17:05] <arrrrrrrrr> kimundi: I'm being clever again
[14:17:05] * kimundi is confused
[14:17:24] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:17:29] <kimundi> arrrrrrrrr: Well, stop that or you'll never make progress ;D
[14:17:40] <arrrrrrrrr> either way
[14:17:44] <arrrrrrrrr> what's with that error?
[14:17:58] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[14:18:00] <kimundi> a trait object is not the same as a owned pointer to a type
[14:18:23] <eddyb> GAAAH
[14:18:33] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:18:48] <eddyb> CAPS LOCK seems to be ON, but I have no way of pressing it >_>
[14:19:16] <Tobba> then you'll be angry for the rest of the day
[14:19:25] <arrrrrrrrr> kimundi: How do I fix the code?
[14:19:28] <eddyb> Tobba: SHUT UP!
[14:19:30] <Zr40> eddyb: what os?
[14:19:58] <kimundi> arrrrrrrrr: The answer to that question I can only give once you showed me what your code actually is at this point :)
[14:19:58] <Tobba> eddyb: and this kids, is why even though capslock is a shit key, you shouldent remap it
[14:20:02] *** Quits: sellout (Adium@moz-2081FE17.hsd1.co.comcast.net) (Quit: Leaving.)
[14:20:03] <eddyb> linux. don't worry, I'll re-enable CAPSLOCK temporarily
[14:20:37] <arrrrrrrrr> kimundi: https://gist.github.com/anonymous/593a9068975631ffedfc
[14:20:38] <kimundi> I semi regulary have the problem that my capslock state and cpslock keyboard led get out of sync after a hibernate
[14:20:44] <arrrrrrrrr> kimundi: https://gist.github.com/anonymous/0d68675bbfd5d7a8307c
[14:21:41] <Kroisse> and impl FileMon for ~FileMonInt ?
[14:21:44] <eddyb> pffftt, SIGSTOP on rustc doesn't help....
[14:21:48] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:21:55] <kimundi> arrrrrrrrr: What I don't see there is the reason why you are using a trait object to begin with :)
[14:22:16] <arrrrrrrrr> Kroisse: But I also need it for &. Can't I do both at once?
[14:22:41] <arrrrrrrrr> kimundi: Just imagine that I want to return a type implementing a trait as a trait
[14:22:52] <Tobba> http://thequickword.wordpress.com/2014/02/16/james-irys-history-of-programming-languages-illustrated-with-pictures-and-large-fonts/
[14:23:07] <Kroisse> is there a reason that not to be impl FileMon for FileMonInt?
[14:23:24] <kimundi> arrrrrrrrr: But why? Is there a reason why you need to do that, instead of just returning the type implementing a trait?
[14:23:27] <eddyb> arrrrrrrrr: just impl the methods on FileMonInt directly
[14:23:28] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:23:29] <Kroisse> not for ~FileMonInt
[14:23:30] <dybt> I can't seem to find a function for the length of a vector. Is there none?
[14:23:38] <arrrrrrrrr> eddyb: But how do I get the box address?
[14:23:50] <Kroisse> dybt: maybe it's .length()
[14:23:59] <eddyb> hmm, I forgot about that nonsense
[14:24:06] <eddyb> Kroisse: come on>>>>
[14:24:11] <Kroisse> or .len()? or similar
[14:24:13] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[14:24:16] <eddyb> err, that was ....
[14:24:27] <eddyb> it's .len() >_>
[14:24:31] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:24:32] *** Joins: Ms2ger (Ms2ger@moz-6EC90DB1.ugent.be)
[14:24:47] * Zr40 hands eddyb a once fn capslock()
[14:24:57] <dybt> Ah, what trait is that declared in?
[14:24:59] <kimundi> Why not just rename FileMonInt to FileMon and remove the FileMon trait completely? eddyb is there something I'm missing?
[14:25:18] <eddyb> MY LAPTOP USABILITY
[14:25:19] <arrrrrrrrr> this is hard :(
[14:25:24] <eddyb> consider me MIA
[14:25:50] <arrrrrrrrr> kimundi: The struct mustn't be moved
[14:26:01] <arrrrrrrrr> to I'm returning a trait instead
[14:26:31] <kimundi> what do you mean with "mustn't be moved" - its address needs to be constant?
[14:26:37] <arrrrrrrrr> yes
[14:26:49] <kimundi> no need for a trait object then anyway
[14:26:59] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[14:27:11] <kimundi> struct Foo { priv data: ~ThingThatNeedsAConstantAddress }
[14:27:24] *** Quits: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[14:27:25] <arrrrrrrrr> that won't work
[14:27:29] <kimundi> why not?
[14:27:34] <arrrrrrrrr> It has to be transparent for the user
[14:27:41] <arrrrrrrrr> he only deals with one object
[14:27:43] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[14:27:43] *** calvinmetcalf_ is now known as calvinmetcalf
[14:27:44] <arrrrrrrrr> (type)
[14:28:05] <kimundi> Are we talking about the filemon wrapper here or about the userdefined data?
[14:28:07] <arrrrrrrrr> So I'd have to wrap the both in a trait either way
[14:28:34] <arrrrrrrrr> https://gist.github.com/anonymous/c7b0004bc7882d0a6675
[14:28:35] <eddyb> victory!
[14:28:55] <arrrrrrrrr> (it compiles without the `new()` function)
[14:29:28] <vikraman> my first rust program: http://bpaste.net/show/181135/
[14:29:35] <vikraman> time to read the tutorial now!
[14:29:39] *** Joins: rootnode (rootnode@moz-9086E118.pools.arcor-ip.net)
[14:30:31] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[14:30:42] <eddyb> vikraman: don't you think you've got your order wrong? :P
[14:30:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:30:54] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:30:55] <vikraman> yes, how do I fix that?
[14:31:07] <eddyb> I mean... the tutorial
[14:31:13] <kimundi> arrrrrrrrr: I looked over your code, and I still don'T see why you'd need the FIleMOn trait
[14:31:17] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[14:31:29] *** Joins: barosl (barosl@34F62860.E551553C.7544CABF.IP)
[14:31:43] <arrrrrrrrr> Because the user gets a callback with the same type
[14:31:55] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:31:58] <arrrrrrrrr> so I have to have the address of the user facing type fixed
[14:32:00] <kimundi> The TypeCallback trait I can understand, but you only ever wrap up one type as as a FilemOn trait
[14:32:19] <arrrrrrrrr> kimundi: to prevent the user from moving my stuff around
[14:32:31] <eddyb> arrrrrrrrr: you can impl FileMon for FileMonInt and return a ~FileMonInt as ~FileMon
[14:32:33] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:32:37] <kimundi> You don't need a trait object for controlling that
[14:32:40] <eddyb> that cannot be dereferenced
[14:33:03] <arrrrrrrrr> eddyb: But how do I get the box addr inside the implementation?
[14:33:04] <eddyb> while still allowing to be used as &FileMon and &mut FileMon
[14:33:10] <eddyb> arrrrrrrrr: self
[14:33:26] <kimundi> eddyb: Is using a FileMon trait here really the best way? I don't see the point...
[14:33:33] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[14:33:37] <eddyb> kimundi: it's just for UX
[14:33:41] <kimundi> UX?
[14:33:53] <eddyb> user experience, IIRC
[14:34:14] <kimundi> ... I don't understand
[14:34:20] *** Parts: GeneralMaximus (ankur@A804DE4B.7D84F5AD.260B031E.IP) (Textual IRC Client: www.textualapp.com)
[14:34:25] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[14:34:25] *** calvinmetcalf_ is now known as calvinmetcalf
[14:34:32] <arrrrrrrrr> impl FileMon for FileMonInt { [....] ~FileMonInt{ ty: ty, callbacks: None }
[14:34:37] <arrrrrrrrr> I still get an error
[14:34:40] <eddyb> cast it
[14:34:43] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[14:34:50] <eddyb> as ~FileMon
[14:35:01] <dybt> how do I define an owned vector with mutable contents?
[14:35:05] <eddyb> kimundi: using ~Foo and &Foo instead of Foo and FooRef
[14:35:06] <arrrrrrrrr> wow, it works
[14:35:15] <eddyb> dybt: you don't :)
[14:35:23] <eddyb> dybt: mutability is inherited
[14:35:28] <kimundi> eddyb: Ah.
[14:35:31] <arrrrrrrrr> here is the final code: https://gist.github.com/anonymous/e31528972e3747d5c52f
[14:35:34] <arrrrrrrrr> of our toy wrapper
[14:35:46] *** jorendorff is now known as jorendorff_away
[14:35:50] <kimundi> eddyb: Doesn't seem like the right traitof to me though :P
[14:36:07] <eddyb> tradeof?
[14:36:15] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[14:36:28] <arrrrrrrrr> kimundi: I don't see the tradeof. This code is both shorter to implement and nicer for the sure
[14:36:32] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[14:36:33] <eddyb> arrrrrrrrr: it would be somewhat simpler with get_userdata :(
[14:36:35] <arrrrrrrrr> s/sure/user/
[14:36:38] <kimundi> usability vs required heap allocation and dynamic dispatch
[14:36:44] <eddyb> (which libwayland has)
[14:37:05] <eddyb> arrrrrrrrr: this was a bad idea of my part
[14:37:25] <dybt> eddyb, I have a struct with a vector in it, and a function that I wanted to return a &mut to an element of the vector. Whats the best way to do that?
[14:37:28] <eddyb> but a bit unavoidable with such an idiotic C API to say the least
[14:37:46] <eddyb> dybt: take that struct by &mut instead of &
[14:38:03] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[14:38:11] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[14:38:21] <dybt> aaah. Thanks
[14:38:36] <arrrrrrrrr> Well, I don't think performance will suffer too much. The good stuff is in the opaque c pointer which is on the heap either way
[14:38:50] <eddyb> vikraman: 0.9 is outdated, vec::append_one is deprecated, appending recursively like that is probably inefficient etc.
[14:38:58] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[14:38:59] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[14:39:03] <eddyb> arrrrrrrrr: it's just... meh
[14:39:34] *** Joins: skade (skade@541D1605.505237C9.CAE22B62.IP)
[14:39:49] <eddyb> with a FileMon<Callback> and get_userdata, you would have 0 virtual dispatch and no double allocation indirection shennanigans
[14:40:35] <eddyb> you need extern "C" generics, but the libwayland API almost looks like could work directly with the Rust vtable
[14:40:57] <vikraman> I'm building master, it will take about 2 hours, meanwhile I'll read the docs 
[14:41:36] <kimundi> vikraman: What OS are you using? There are nightlys for arch and ubuntu at least
[14:42:12] <arrrrrrrrr> that feeling when you accidentally type "make" instead of "make check"
[14:42:13] <vikraman> gentoo, but if there are any kind of binaries available that would be fine too 
[14:43:18] <eddyb>  time: 1727.488 s       translation
[14:43:29] <eddyb> something's wrong...
[14:43:50] <eddyb> (well, apart from that including the time I paused the process)
[14:43:55] *** Joins: benjamin_ (benjamin@moz-FC6265FF.dip0.t-ipconnect.de)
[14:44:25] *** Quits: benjamin_____ (benjamin@moz-7E387E2B.dip0.t-ipconnect.de) (Ping timeout)
[14:45:22] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[14:45:59] *** jorendorff_away is now known as jorendorff
[14:48:05] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[14:48:48] *** Joins: halleck (a@moz-62D47532.dynamic.mnet-online.de)
[14:49:13] *** Joins: Erik_ (Erik_S@moz-EFEC8E5D.hlrn.qwest.net)
[14:49:18] *** jorendorff is now known as jorendorff_away
[14:50:49] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[14:51:36] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[14:52:25] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[14:52:29] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:53:12] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[14:53:30] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[14:54:31] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:54:43] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:56:00] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[14:56:03] <Earnestly> vikraman: Perhaps you can work with http://pkgbuild.com/~thestinger/repo/x86_64/
[14:56:56] <vikraman> ah thanks 
[14:57:18] *** Quits: thesnowdog (doug@6BB4FF85.9D0B7490.6F17036B.IP) (Ping timeout)
[14:57:47] <arrrrrrrrr> It hurts to live: https://gist.github.com/anonymous/eab5b18dfccefcba118b
[14:57:51] <arrrrrrrrr> https://gist.github.com/anonymous/4959dba26c63812897d2
[14:57:59] <dybt> Why are destructors for structures with type parameters unsafe?
[14:58:11] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[14:58:16] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[14:58:28] <eddyb> dybt: because they can be non-Send
[14:59:58] *** Joins: thesnowdog (doug@6BB4FF85.9D0B7490.6F17036B.IP)
[15:00:11] <dybt> ah, what about `impl<T: Send> Drop...`?
[15:00:18] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[15:00:25] *** Parts: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) ()
[15:00:46] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[15:00:56] <eddyb> dybt: that would be safe, yes, but the code doesn't check for bounds like that yet
[15:01:07] <dybt> ok
[15:01:09] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[15:01:09] *** calvinmetcalf_ is now known as calvinmetcalf
[15:01:12] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[15:01:43] *** Joins: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net)
[15:01:59] *** jorendorff_away is now known as jorendorff
[15:02:17] *** pmoore|away is now known as pmoore
[15:03:13] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:03:46] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:07:51] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[15:10:50] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[15:11:04] *** Joins: lunaryorn (lunaryorn@moz-5C435FE7.dynamic.mnet-online.de)
[15:11:19] *** Quits: an0nymous (Jacob@moz-F04BA440.tx.res.rr.com) (Ping timeout)
[15:11:39] *** Quits: alexherbo2 (alexherbo2@moz-FC10E83F.de) (Quit: WeeChat 0.4.2)
[15:13:11] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[15:15:23] *** Joins: dranov (dranov@AB17581B.DE411CAD.FB866788.IP)
[15:16:37] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:16:38] *** Quits: Ms2ger (Ms2ger@moz-6EC90DB1.ugent.be) (Ping timeout)
[15:16:40] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[15:17:02] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:17:54] *** Joins: dschatzberg (dschatzber@moz-9384E83C.bu.edu)
[15:19:34] <silven> What's the proper solution to when you're trying to use/modify values you're pattern matching over? I get "cannot move out of dereference of &mut pointer", if I add the ref keyword and * I get "cannot move out of dereference of & pointer", I also get cannot modify value because it is borrowed
[15:19:37] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[15:20:08] <eddyb> ref mut
[15:20:09] <silven> I'm basically trying to implement a Tree with a Leaf/SubTree enum, but I can't update the enum
[15:20:52] <silven> No that doesn't help the cannot assign to problem
[15:21:14] <eddyb> are you trying to assign to something other than the ref mut binding?
[15:21:28] <eddyb> or the dereference thereof, rather
[15:21:31] <silven> Yes, the thing I'm matching over
[15:21:40] <eddyb> you can't touch that
[15:22:03] <silven> But it gets borrowed in the Some(...) => bit
[15:22:11] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:22:28] <silven> So, what's the proper way?
[15:22:53] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[15:23:01] <silven> The case for the empty leaf works great mutating the thing I'm matching over
[15:23:06] <eddyb> there's a few workarounds
[15:23:18] <eddyb> silven: what operation is this?
[15:23:52] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:24:03] <silven> It's inserting into the tree, I've got a hashing scheme and I try to match self.data[hash], if it's a leaf I want to replace it with a subtree
[15:24:34] <eddyb> a hash tree? interesting
[15:25:00] <eddyb> silven: you can hoist the assignment out of the match
[15:25:05] <silven> inspired by the log32 tree used in Clojure
[15:27:39] <silven> eddyb: not really, there is some manipulation that needs to be done
[15:27:49] *** Joins: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net)
[15:28:05] *** Joins: trecer (trecer@moz-36BEFC79.hsd1.pa.comcast.net)
[15:29:11] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[15:29:30] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[15:29:49] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[15:30:38] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[15:31:37] <pnkfelix> silven: typically I've worked around this problem by separating the match itself from the update action
[15:31:37] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:31:39] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[15:31:58] <pnkfelix> silven: e.g. by making an enum representing the action I want to take
[15:32:06] <pnkfelix> silven: and returning that from the match expression itself
[15:32:32] <pnkfelix> silven: I'm usually internally torn about whether this change makes the code cleaner or not
[15:32:53] *** Joins: duncan (duncan@moz-DB06A900.stat.centurytel.net)
[15:33:18] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:33:24] <pnkfelix> silven: (this may be what eddyb meant by "hoist the assignment up out of the match")
[15:33:27] <eddyb> rusti: let mut ref x = 0; *x
[15:33:31] <eddyb> pnkfelix: yeah
[15:33:33] -rusti- pastebinned 7 lines of output: http://ix.io/aD3
[15:34:02] <eddyb> so there is no mutable ByRef binding?
[15:34:02] <pnkfelix> silven: but of course the enum can represent a more complex set of transactions than just a single assignment.
[15:34:21] <silven> pnkfelix eddyb: I'm trying to fo that, but it's not just an enum, It's moving the old value and construction what's going to be inside the enum, which is a slighty more complex Option type
[15:34:33] <eddyb> BindByRef(Mutability)
[15:34:34] <eddyb> hmm
[15:34:55] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[15:35:00] <Anupkumar> what is the best text editor which supports indentation for Rust language?
[15:35:00] <silven> enum Branch<T> { None, One(T), Many(~Tree<T>) }
[15:35:34] <pnkfelix> silven: In case it was not clear, by "of course the enum can represent ...", the enum I was referring to was the representation of the action to take
[15:35:35] <dschatzberg> Anupkumar: how do you define best?
[15:35:43] <pnkfelix> silven: (not the enum you are doing the match on)
[15:36:04] <eddyb> silven: you probably want to dance around a bit, with swap and/or replace
[15:36:08] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:36:15] *** Joins: alonlevy (alon@1B5D1F70.31F49B3D.AB64B967.IP)
[15:36:22] *** Joins: Ms2ger (Ms2ger@moz-1B7AA9BA.ugent.be)
[15:36:29] *** jorendorff is now known as jorendorff_away
[15:36:31] *** Quits: Kxepal (Miranda@moz-ECC1F51A.pppoe.mtu-net.ru) (Ping timeout)
[15:36:32] <eddyb> the None (an unfortunate name, conflicts with option::None) variant will prove useful as a placeholder
[15:37:25] <eddyb> ah, the ref mutability is the inner one. good
[15:38:01] *** Joins: Kxepal (Miranda@moz-D1BCA7F1.pppoe.mtu-net.ru)
[15:39:58] <Anupkumar> dschatzberg: otherwise a text editor which supports indentation for Rust language
[15:40:21] <dschatzberg> Anupkumar: emacs does
[15:40:42] <cmr> Anupkumar: https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[15:40:51] <pnkfelix> Anupkumar: (once you load the rust-mode.el support that comes with the rust.git checkout)
[15:41:27] *** Quits: Ferreus (ferreus@moz-28EF4879.dip0.t-ipconnect.de) (Ping timeout)
[15:41:47] <Anupkumar> cmr: thanks, will check it out
[15:43:28] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[15:45:48] *** Quits: kgilden (kgilden@moz-2BAB43A3.dyn.internet.emt.ee) (Quit: Leaving)
[15:46:31] <silven> eddyb: what I (feel that I) would like to do it forcefully move the values out of the pattern matching clauses, that's what it complains about
[15:46:44] *** Quits: Erik_ (Erik_S@moz-EFEC8E5D.hlrn.qwest.net) (Ping timeout)
[15:47:12] *** Quits: Ms2ger (Ms2ger@moz-1B7AA9BA.ugent.be) (Ping timeout)
[15:47:21] <eddyb> silven: if you have a &mut T you can swap in a placeholder T and get the value, that you can do anything with
[15:47:39] <eddyb> it's not safe to leave "move out" without putting something harmless in
[15:47:48] <eddyb> s/leave//
[15:48:14] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[15:48:15] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[15:48:58] *** Quits: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net) (Input/output error)
[15:49:12] <silven> That's not a very compositable way, since it's supposed to be a generic data structure I can't just create T values willy-nilly
[15:49:25] *** Quits: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP) (Ping timeout)
[15:49:41] <eddyb> silven: aren't you working with nodes?
[15:49:56] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[15:50:06] <kimundi> silven: The idea is to use a Option<T> or something different that wraps the value and has a None value
[15:50:19] <silven> eddyb: it's the values inside the One node I'm trying to move out into the Many node
[15:50:31] <eddyb> silven: swap the One node with a None
[15:50:46] <eddyb> and then you can extract its contents
[15:50:49] <kimundi> eddyb: swap One with None, create new Many, move from One into Many, swap None with Many
[15:50:56] <kimundi> er, silven 
[15:51:08] <cmr> (the so-called option dance)
[15:51:09] <Yurume> can `std::io::Buffer::fill` be used to populate the partially read buffer?
[15:51:55] <Yurume> i.e. consume has been called but it hasn't consumed the whole buffer yet
[15:52:01] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[15:52:19] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[15:52:31] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[15:52:41] *** Quits: lunaryorn (lunaryorn@moz-5C435FE7.dynamic.mnet-online.de) (Quit: Textual IRC Client: www.textualapp.com)
[15:52:50] <Yurume> and is `fill` guaranteed to return a non-empty buffer eventually (while it can sometimes return an empty buffer)?
[15:55:55] *** flaper87 is now known as flaper87|afk
[15:55:59] <jensnockert> Sometimes I wonder why I am even trying to use JSON, then I remember CouchDB…
[15:56:24] <cmr> heh
[15:56:46] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[15:56:52] *** Joins: Ms2ger (Ms2ger@moz-6EC90DB1.ugent.be)
[15:58:05] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:58:35] *** Quits: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net) (Ping timeout)
[15:59:22] *** Joins: Rusky (russell@moz-B7E6EE4E.slkc.qwest.net)
[15:59:25] <jensnockert> CouchDB is amazing.
[15:59:59] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:00:01] <AutomatedTester> orly?
[16:00:08] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[16:00:14] * AutomatedTester has only ever had sad times with CouchDB
[16:00:19] *** Joins: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP)
[16:01:02] <edwardw> fiddling with some code inside rustc which still uses @. how to match against a @? rustc says "obsolete syntax: managed pointer pattern" if I do "match x { @Pattern => ... }"
[16:01:03] *** Joins: aeqwa (aeqwa@moz-3C898B31.dsl.tropolys.de)
[16:01:13] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[16:01:13] *** calvinmetcalf_ is now known as calvinmetcalf
[16:01:42] <Ms2ger> Try &Pattern
[16:01:53] <edwardw> ok
[16:02:05] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[16:02:22] <cmr> You can't match against it.
[16:02:38] <jensnockert> AutomatedTester: How?! It is so amazing it not only stores my data, but also gives me a massage for me while doing it.
[16:02:41] <cmr> but do try &Pattern and perhaps &*x
[16:02:44] <edwardw> Ms2ger: mismatched types :(
[16:04:25] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Ping timeout)
[16:05:06] *** Joins: calvinmetcalf_ (cmetcalf@F7C10225.5A8698B7.38E31EF.IP)
[16:05:23] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[16:05:38] *** Joins: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[16:06:30] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:06:35] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-31A3FF12.dynamic.qsc.de) (Ping timeout)
[16:06:45] *** Quits: calvinmetcalf_ (cmetcalf@F7C10225.5A8698B7.38E31EF.IP) (Ping timeout)
[16:08:13] *** Joins: edwardw_ (edwardw@FE274C20.C036752E.F5B522C5.IP)
[16:08:43] <edwardw_> match *x { ref Pattern => ... } seems to work
[16:11:24] *** edwardw_ is now known as edwardw
[16:13:39] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:13:43] *** Quits: vasac (vasac@FC3DDDFC.89B50D56.DF1CE89D.IP) (Quit: Leaving)
[16:14:12] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[16:16:00] *** Quits: Ms2ger (Ms2ger@moz-6EC90DB1.ugent.be) (Quit: bbl)
[16:16:43] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[16:16:43] *** ChanServ sets mode: +o jdm
[16:16:59] *** Quits: sellout (Adium@moz-968E9A09.hsd1.co.comcast.net) (Quit: Leaving.)
[16:17:14] *** Joins: sebcrozet (sebcrozet@moz-70920872.fbx.proxad.net)
[16:17:46] *** Quits: sebcrozet (sebcrozet@moz-70920872.fbx.proxad.net) (Quit: Gone)
[16:18:16] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:18:17] <jensnockert> Hurray, my wrap-o-matic works again.
[16:19:28] <silven> std::util is where exactly?
[16:19:39] <eddyb> silven: nowhere
[16:19:52] <silven> I get unresolved when trying to use it
[16:19:58] <eddyb> it doesn't exist
[16:20:00] <cmr> it doesn't exist.
[16:20:18] <eddyb> the fact that it did in the past shouldn't affect you
[16:20:32] <silven> where is the swap you mentioned then?
[16:20:41] <eddyb> std::mem
[16:20:43] <cmr> http://static.rust-lang.org/doc/master/std/mem/fn.swap.html
[16:20:47] <cmr> silven: the docs have a search.
[16:21:01] <silven> Someone gave me docs to 0.9
[16:21:14] *** Joins: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP)
[16:21:28] <eddyb> treat anything different than master as antiquities
[16:21:35] *** Joins: calvinmetcalf_ (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net)
[16:21:39] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[16:22:20] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[16:22:20] *** calvinmetcalf_ is now known as calvinmetcalf
[16:22:25] *** Quits: duncan (duncan@moz-DB06A900.stat.centurytel.net) (Input/output error)
[16:22:34] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:24:15] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:27:45] <cmr> tok_test!(string "\"foobar\" call" is [String(~"foobar"), Call])
[16:27:47] <cmr> <3 macros
[16:28:39] <eddyb> wat?
[16:28:55] <cmr> $testname $str is $expected
[16:29:03] <eddyb> right
[16:30:04] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Ping timeout)
[16:30:42] *** Quits: calvinmetcalf (cmetcalf@moz-7BEE0DCC.hfc.comcastbusiness.net) (Ping timeout)
[16:32:09] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[16:32:22] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[16:32:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:32:41] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:34:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:34:37] *** Joins: andrew-d_w (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[16:35:01] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:35:29] *** Quits: andrew-d_w (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Input/output error)
[16:35:40] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[16:36:51] *** Joins: flan3002 (till@moz-E0853D96.superkabel.de)
[16:37:28] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[16:37:49] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:39:19] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[16:39:22] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:39:29] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:39:49] *** Joins: Ferreus (ferreus@moz-DF1C0D52.lsn.wtnet.de)
[16:41:00] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:43:01] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[16:44:01] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[16:44:02] *** Quits: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com) (Ping timeout)
[16:44:11] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[16:44:31] *** Joins: duncan (duncan@6C86F6DC.79CEEFC5.6AA3100C.IP)
[16:44:34] *** Joins: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com)
[16:44:42] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[16:48:45] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[16:49:33] *** Joins: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[16:50:41] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[16:51:33] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:52:36] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[16:52:49] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Quit: Leaving)
[16:52:49] *** Quits: andrew-__ (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Connection reset by peer)
[16:53:08] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[16:53:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:53:24] *** Quits: barosl (barosl@34F62860.E551553C.7544CABF.IP) (Ping timeout)
[16:53:55] *** Quits: alonlevy (alon@1B5D1F70.31F49B3D.AB64B967.IP) (Ping timeout)
[16:54:39] *** Quits: pepper_chico (pepper_chi@A74000A7.5E0E644F.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[16:56:59] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[16:57:12] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[16:57:23] *** Quits: duncan (duncan@6C86F6DC.79CEEFC5.6AA3100C.IP) (Input/output error)
[16:59:15] *** jorendorff_away is now known as jorendorff
[16:59:40] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[16:59:54] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:00:29] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:00:38] <hoverbear> cmr: Graydon was what!? :o
[17:00:39] *** Joins: Db (Db@E2B73832.DEC99B2B.20F09BA6.IP)
[17:01:09] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[17:01:40] <cmr> hoverbear: "a BC feller"
[17:01:48] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[17:02:22] <hoverbear> cmr: Seriously? *Loves rust even more*
[17:03:12] <flan3002> Can I *typedef* trait bounds? Like "type Test = Add<Test, Test> + Sub<Test, Test> + CustomTrait;"?
[17:03:26] <cmr> flan3002: no.
[17:03:53] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:04:07] <eddyb> you can make a dummy trait that inherits all of those
[17:04:16] *** Quits: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP) (Ping timeout)
[17:04:16] <cmr> flan3002: but you can say trait Test : Add<Test, Test> + Sub<Test, Test> + CustomTrait {} impl <T: ...> Test for T {}
[17:05:05] <eddyb> CustomTrait can be that trait itself
[17:05:24] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[17:05:38] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Ping timeout)
[17:05:48] <flan3002> cmr: But thats wet!
[17:06:19] <flan3002> Oh, no it isn't...
[17:06:20] *** Joins: Ms2ger (Ms2ger@4AC75EDC.61B1BDDC.F15B0BB3.IP)
[17:06:36] <eddyb> wet?
[17:07:09] <flan3002> Opposite of DRY...
[17:07:16] <flan3002> Don't repeat yourself.
[17:07:23] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:07:24] *** ChanServ sets mode: +ao brson brson
[17:07:40] <Ms2ger> "Do repeat yourself"?
[17:07:53] *** Quits: mitra_ (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[17:07:58] <eddyb> I have never seen it like "wet"
[17:08:16] *** Joins: duncan (duncan@793D337.79CEEFC5.6AA3100C.IP)
[17:08:25] <cmr> it's pretty common
[17:08:29] * flan3002 should never say wet again if it needs explanation...
[17:08:44] <Ms2ger> Maybe a little too clever
[17:08:52] <eddyb> Ms2ger: for me? yeah
[17:09:12] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[17:09:25] *** Quits: Db (Db@E2B73832.DEC99B2B.20F09BA6.IP) (Client exited)
[17:09:33] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[17:09:41] *** Quits: benjamin_ (benjamin@moz-FC6265FF.dip0.t-ipconnect.de) (Ping timeout)
[17:10:22] *** Joins: an0nymous (Jacob@moz-F04BA440.tx.res.rr.com)
[17:10:29] *** Joins: mitra_ (mitra@8E712A0.54C21BA0.9F317420.IP)
[17:11:07] *** Quits: sk (sk@35CFDE22.E993C7C3.78DD174B.IP) (Quit: Leaving)
[17:11:22] *** Joins: onelson (onelson@moz-DD666EC5.laika.com)
[17:12:31] *** Joins: eternaleye (eternaleye@D55ECA0A.3FAF8C6D.B8C1C2E1.IP)
[17:12:59] *** Quits: duncan (duncan@793D337.79CEEFC5.6AA3100C.IP) (Input/output error)
[17:14:07] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:15:34] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:15:48] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:15:54] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:16:54] *** Joins: mouse (mouse@moz-99D795CC.broadband.corbina.ru)
[17:17:34] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:17:34] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:17:41] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:17:55] *** Joins: Db (Db@moz-6F9AA8AA.me)
[17:18:02] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[17:18:07] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:18:10] *** Joins: duncan (duncan@793D337.79CEEFC5.6AA3100C.IP)
[17:18:17] *** Quits: aklt (aklt@83B8238.6BE5A349.B330AC0A.IP) (Quit: leaving)
[17:18:40] *** Quits: duncan (duncan@793D337.79CEEFC5.6AA3100C.IP) (Input/output error)
[17:18:58] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[17:19:21] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:19:33] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:19:35] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:22:07] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:22:18] <edwardw> "brew install --HEAD rust" failed now?
[17:24:10] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:25:12] <hoverbear> eddyb: I gave up on homebrew and have just been pulling from git
[17:25:19] <flan3002> Say, why doesn't this work? "self.items.iter().skip(self.current - 1).fold(0f64, |a, &b| a + b.remaining())" fails with "error: cannot move out of dereference of & pointer"...
[17:25:40] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[17:25:44] <eddyb> flan3002: remove the & before b
[17:25:54] *** Quits: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net) (Ping timeout)
[17:26:06] <flan3002> Does that copy b every time?
[17:26:19] *** Quits: trecer (trecer@moz-36BEFC79.hsd1.pa.comcast.net) (Quit: Computer has gone to sleep.)
[17:26:22] <cmr> &b is copying b.
[17:26:58] <flan3002> cmr: Why that?
[17:27:35] <flan3002> Isn't is unintuitive to abuse the reference sigil "&" for pass by value?
[17:27:37] <cmr> flan3002: you're matching on a &T. b would take the &T directly but &b will dereference.
[17:27:50] <cmr> flan3002: it's not signifying pass by anything
[17:27:50] <flan3002> Okay, that makes sense...
[17:27:52] <cmr> flan3002: it's a pattern.
[17:28:06] *** Quits: edwardw (edwardw@FE274C20.C036752E.F5B522C5.IP) (Quit: Leaving...)
[17:28:08] <cmr> in a pattern every symbol means its opposite, because you're destructuring.
[17:28:33] <hoverbear> steveklabnik: Thanks for that
[17:28:46] <dybt> how do I construct a struct with an empty array? I would have thought MyStruct{ my_array : ~[]} would have worked, but it doesnt.
[17:29:04] <kimundi> dybt: that should work
[17:29:07] <Ms2ger> That works
[17:29:07] <steveklabnik> hoverbear: any time
[17:29:15] <cmr> dybt: that's not an array, that's a vector. https://github.com/mozilla/rust/wiki/The-Rusticon
[17:29:17] <hoverbear> steveklabnik: I saw it months ago but forgot
[17:29:19] <kimundi> dybt: unless you try to inhitialize a static with it
[17:30:49] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[17:30:52] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[17:30:52] *** ChanServ sets mode: +ao dherman dherman
[17:31:32] <dybt> sorry I meant vector, and no I'm not initialising anything, its in a constructor.
[17:31:45] *** Joins: edwardw (Mibbit@655F78EA.BF27AFA4.B9C6B12A.IP)
[17:31:49] <cmr> What is your exact code, and what's the error?
[17:32:08] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Ping timeout)
[17:32:36] *** Joins: victorporof (victorporo@125EF623.B2666F0E.66399531.IP)
[17:33:17] <Jarrett> steveklabnik: you're a butt
[17:34:07] <dybt> http://pastebin.com/0NgtK7kb I have vim set to show |s at each tab and I just copied it from the terminal, but they're obviously not in the actual file.
[17:34:38] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[17:34:38] *** Joins: duncan (duncan@D0DBA26F.79CEEFC5.6AA3100C.IP)
[17:34:43] <cmr> just say CompStore { ... }
[17:34:47] <cmr> not CompStore<T> { ... }
[17:35:05] <cmr> CompStore<T> is only valid as a type.
[17:35:28] <cmr> that's an extraordinarily poor error message though
[17:35:31] <cmr> mind opening an issue?
[17:36:14] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[17:36:26] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:36:26] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:36:32] <dybt> sure
[17:38:42] *** Quits: duncan (duncan@D0DBA26F.79CEEFC5.6AA3100C.IP) (Input/output error)
[17:38:46] *** pmoore is now known as pmoore|away
[17:39:42] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[17:41:22] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[17:46:17] *** jorendorff is now known as jorendorff_away
[17:47:48] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:48:15] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[17:49:05] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[17:49:07] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[17:49:12] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[17:49:20] <Jemaclus> Do any of the rust-mysql drivers actually work? :)
[17:50:10] <Jemaclus> I haven't tried any, I've just seen a few of them around
[17:50:45] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[17:51:47] *** Quits: fyolnish (fyolnish@moz-5655AFED.uqwimax.jp) (Client exited)
[17:51:52] *** Joins: fyolnish (fyolnish@moz-5655AFED.uqwimax.jp)
[17:53:58] *** Quits: gmjosack (gary@moz-CB7AA3B8.hsd1.ca.comcast.net) (Ping timeout)
[17:54:19] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[17:55:39] *** Joins: tedh (tedh@moz-6F8EC49.central.biz.rr.com)
[17:56:32] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[18:00:33] *** Joins: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP)
[18:01:07] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[18:01:15] *** Joins: cceckman (cceckman@2EC0C204.6925E1D4.DDE5D3F6.IP)
[18:01:51] <seanmonstar> is there a definition of what each of the designators represent for macro_rules?
[18:01:52] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[18:03:13] *** Joins: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP)
[18:03:14] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[18:03:40] <kimundi> seanmonstar: There should be a almost complete list in the macro guide
[18:04:02] <kimundi> seanmonstar: However, what exactly do you mean with "desginator" ?
[18:04:16] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:04:33] <seanmonstar> kimundi: i mean that the manual lists them out, but otherwise doesn't say what exactly they match. many you can guess, but others i'd like to know better: http://static.rust-lang.org/doc/master/rust.html#syntax-extensions
[18:04:42] <seanmonstar> worth adding a link from there to the macro guide?
[18:05:25] *** Quits: cceckman (cceckman@2EC0C204.6925E1D4.DDE5D3F6.IP) (Ping timeout)
[18:05:27] <kimundi> I guess for the manual it would make more sense to list them all and state what they match
[18:05:47] <kimundi> our manual is among the most out to date docs though :/
[18:05:48] *** Quits: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (Connection reset by peer)
[18:05:59] *** jorendorff_away is now known as jorendorff
[18:06:05] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:06:10] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[18:06:21] <seanmonstar> i didn't realise there was a macro guide, that solves my immediate question :)
[18:07:05] *** Joins: cceckman (cceckman@2EC0C204.6925E1D4.DDE5D3F6.IP)
[18:08:33] <seanmonstar> kimundi: seems to be missing definitions of tt
[18:09:34] <sfackler> it's missing definitions for a bunch of them
[18:09:53] *** Quits: KindOne (KindOne@moz-4E58D19C.dynamic.ip.windstream.net) (Ping timeout)
[18:09:55] <sfackler> tt stands for token-tree, a mostly-arbitrary sequence of tokens
[18:09:56] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[18:10:04] <sfackler> it's only really useful to pass to another macro
[18:10:08] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[18:10:20] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:10:21] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[18:11:22] <seanmonstar> is the use of a macro matched by expr? such as `bytes!("hi")`?
[18:11:51] <seanmonstar> rather, my_macro!(bytes!("hi"))?
[18:11:56] *** Joins: q66 (q66@moz-84AFB477.dab.02.net)
[18:12:12] *** Quits: fyolnish (fyolnish@moz-5655AFED.uqwimax.jp) (Client exited)
[18:12:14] *** Joins: fyolnish (fyolnish@moz-5655AFED.uqwimax.jp)
[18:12:24] *** Quits: fyolnish (fyolnish@moz-5655AFED.uqwimax.jp) (Quit: Bye)
[18:12:28] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:12:35] *** Joins: quibbit (Mibbit@moz-BB56F7AF.rezometz.org)
[18:12:47] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[18:13:01] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[18:13:06] <sfackler> I think it can be
[18:14:13] *** Joins: KindOne (KindOne@5733E191.E114B4AE.EC6A1518.IP)
[18:14:19] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[18:14:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:16:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:17:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[18:18:07] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[18:20:01] *** Joins: dradtke (dradtke@moz-77578067.hfc.comcastbusiness.net)
[18:20:07] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:20:08] <dradtke> what's the syntax in Rust 0.9 for loop labels?
[18:20:18] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[18:20:31] <sfackler> 'a: for foo in blah { .. break 'a; .. }
[18:20:33] <pauls> seanmonstar: yes, it's a valid expression.
[18:20:52] <seanmonstar> pauls: thanks
[18:21:48] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:22:04] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[18:22:55] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[18:24:56] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[18:25:10] *** Joins: gmjosack (gary@F91A859E.75E3DBFA.7AB8439E.IP)
[18:25:14] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[18:25:20] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[18:25:27] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[18:25:45] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[18:26:28] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[18:26:42] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[18:26:57] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[18:27:06] *** Quits: vmx (vmx@moz-7C0AC71F.pools.arcor-ip.net) (Ping timeout)
[18:27:09] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[18:27:40] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[18:27:51] *** Joins: vmx (vmx@moz-7C0AC71F.pools.arcor-ip.net)
[18:28:10] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[18:28:33] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[18:28:33] *** ChanServ sets mode: +ao dherman dherman
[18:28:39] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:29:02] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[18:32:16] *** Parts: edwardw (Mibbit@655F78EA.BF27AFA4.B9C6B12A.IP) ()
[18:32:56] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[18:33:10] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:33:21] *** Joins: dmac (Adium@moz-DBF6FF2C.hfc.comcastbusiness.net)
[18:33:33] *** Quits: cceckman (cceckman@2EC0C204.6925E1D4.DDE5D3F6.IP) (Client exited)
[18:33:59] <dradtke> sfackler: thanks
[18:34:01] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[18:34:27] <jensnockert> Hm… what is the nicest way to cast a * pointer to a ~ pointer?
[18:34:41] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[18:34:54] <kimundi> jensnockert: transmute :P
[18:35:03] <jensnockert> Ok, there's no other way :(
[18:35:20] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[18:35:40] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Quit: by!)
[18:35:55] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[18:36:44] <leonvv> What are .rlib files?
[18:36:51] *** Joins: eholk (eholk@3FB91176.87E1C677.D74CC41D.IP)
[18:37:42] <Matthias247> wasn't there a ptr::to_unsafe?
[18:38:07] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[18:38:14] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[18:38:39] <jensnockert> Matthias247: That's the other direction.
[18:38:57] <kimundi> leonvv: static library + Rust metadata
[18:39:01] <Matthias247> oops, too fast reading :)
[18:39:25] <kimundi> leonvv: basically, a rlib is all you need to compile library together with static linking
[18:39:59] <jensnockert> Wait, is a ~ just a * with a promise that it is unique?
[18:40:08] *** Joins: claudiuc (claudiuc@CB447DD5.6B10AC3.E2F59BBC.IP)
[18:40:12] <jensnockert> Or is there more magic behind the scenes? I can't remember anymore…
[18:40:16] <jensnockert> ./o\
[18:40:19] <kimundi> jensnockert: you could write a little wrapper and add explicit type annotations to get a cast function that only does *T -> ~T, but that might not be worth it
[18:40:51] <leonvv> kimundi: Thanks
[18:41:24] <sfackler> jensnockert: a ~ will be free-d when it falls out of scope
[18:41:40] <kimundi> jensnockert: it is just a  *T - however ~ which contain managed conetent apparently have a header first - however as managed content is being removed I don'T think you need to care about that
[18:42:23] <jensnockert> I think that silly me needs to avoid that free:ing, just overriding drop didn't really do it.
[18:42:23] <kimundi> err, what I mean is ~T which contain @T or Gc<T> have a header
[18:42:26] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[18:42:28] <jensnockert> I might have to do a wrapper.
[18:42:52] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[18:42:58] <kimundi> jensnockert: there is a intrinsic for dropping a value without running its destructor
[18:43:18] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Ping timeout)
[18:43:19] <kimundi> "forget" or "ignore" I think
[18:43:26] <jensnockert> kimundi: As in, I can in the drop function make sure it doesn't get free:d?!
[18:43:28] <jensnockert> Amaze
[18:43:29] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[18:43:30] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[18:43:35] <quibbit> hi, i would like to write a small OS in rust and i read that rust-core can be used in a freestanding way, does anyone know how ?
[18:44:18] *** Quits: claudiuc (claudiuc@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[18:44:42] <kimundi> jensnockert: Not sure what you mean, but it is basically a function that takes one argument by value and then forgets about it without running the destructor
[18:44:50] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Ping timeout)
[18:45:15] <dybt> quibbit, have a look at https://github.com/charliesome/rustboot maybe?
[18:45:21] <jensnockert> kimundi: I want to convert a value from a C function into a ~-pointer, but want to do a custom dealloc in the Drop.
[18:45:24] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[18:46:34] <Tobba> rustboot is outdated
[18:46:41] <quibbit> dybt: thank you but it doesn't seem to use rust-core :/
[18:46:50] <Tobba> quibbit: compile rust-core without --cfg libc
[18:46:54] <veddan> sfackler: is a ~ guaranteed to be libc free()'d, or just "cleaned up when dropped, somehow"?
[18:47:00] <Tobba> also you'll need the full llvm toolset
[18:47:10] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[18:47:16] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Quit: Lost terminal)
[18:47:21] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[18:47:22] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[18:47:33] <Tobba> stupidely enough, you cant prevent rustc from doing stupidely ABI specific stuff, so just use the bitcode output and shove it through llc yourself
[18:48:22] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[18:48:24] <kimundi> jensnockert: that sounds like you should not cast it to ~ at all
[18:48:27] <sfackler> veddan: whatever free is hooked up to some Rust intrinsic
[18:48:31] <quibbit> ok and can rust be used to write an os without rust-core ?
[18:48:33] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[18:48:35] <jensnockert> kimundi: I know!
[18:48:37] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:48:47] <kimundi> jensnockert: just keep it as a private *T
[18:48:52] *** Joins: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net)
[18:48:54] <jensnockert> It just would make me feel better :S
[18:48:57] *** Joins: Kambfhase (quassel@moz-88236CC.travedsl.de)
[18:48:59] <kimundi> why?
[18:49:01] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Ping timeout)
[18:49:10] <kimundi> It makes me feel worse :D
[18:49:21] *** Quits: skade (skade@541D1605.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:49:59] <jensnockert> Because then all C pointers in the wrapped library would be pointers in the Rust version too.
[18:49:59] <Tobba> quibbit: of course
[18:50:10] <jensnockert> Now there is a slight mismatch.
[18:50:12] <kimundi> having a wrapper struct around a private raw pointer with a drop impl for calling the correct free function is the correct way to implement this
[18:50:20] <Tobba> but rust-core without libc just does the simple stuff like Option anyways, no reason not to use it
[18:50:25] <Tobba> I didnt use it and its already a mess
[18:50:26] <jensnockert> Yeah, I'll do that.
[18:50:28] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[18:50:45] <kimundi> jensnockert: just call the type FooPtr or so :P
[18:51:10] *** Joins: klzzvn (klzzvn@moz-1667E3F6.xnet.hr)
[18:51:28] *** Joins: brendan (brendaneic@46B5412F.3597C859.3AF705F3.IP)
[18:51:30] <kimundi> Rc<T> is a pointer too - ~ and & are just sigils for convenience
[18:51:55] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[18:51:56] <quibbit> Tobba: ty i will try rust-core then :)
[18:52:23] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[18:52:41] <Tobba> llvm will also try to generate some libc stuff like memcpy, memset, etc
[18:52:46] <Tobba> but implementing those is trivial
[18:53:28] <quibbit> ok so I just have to rewrite some basic functions
[18:54:01] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[18:54:03] <Tobba> p much
[18:54:18] <Tobba> oh and theres a slight issue due to some stupidity in how rustc handles extern "C" functions
[18:54:29] <quibbit> ?
[18:54:31] <Tobba> which makes compiling libc slightly awkward
[18:54:52] <Tobba> optimize it with llvm's opt manually and pass -disable-simplify-libcalls
[18:54:55] <Tobba> otherwise it screws it up
[18:55:47] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[18:55:56] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[18:56:03] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:56:21] <Tobba> eddyb should know how to fix that one actually, apparently its due to some wrapper rustc generates which causes it to shoot itself in the foot
[18:57:18] <quibbit> ok, i may try without rust-core as it is done in this project: https://github.com/LeoTestard/Quasar
[18:57:19] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Ping timeout)
[18:57:30] <quibbit> at least at first
[18:58:05] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[18:58:14] <Tobba> should also work I guess
[18:58:38] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[18:59:11] *** Joins: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[18:59:52] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:00:37] *** Joins: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net)
[19:00:50] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[19:00:52] *** Quits: lucian_ (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:01:19] *** Quits: brendan (brendaneic@46B5412F.3597C859.3AF705F3.IP) (Quit: brendan)
[19:01:33] *** Joins: Lovot (root@moz-64ED673A.knology.net)
[19:01:45] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:01:45] *** ChanServ sets mode: +ao brson brson
[19:04:54] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[19:06:42] *** Joins: astroch (astroch@moz-A3E2177C.dhcp.embarqhsd.net)
[19:07:17] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[19:09:23] *** Joins: duncan (duncan@BF34757C.79CEEFC5.6AA3100C.IP)
[19:10:14] *** jorendorff is now known as jorendorff_away
[19:10:20] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Ping timeout)
[19:10:32] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[19:11:28] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[19:12:26] *** Quits: eholk (eholk@3FB91176.87E1C677.D74CC41D.IP) (Quit: eholk)
[19:12:28] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (Input/output error)
[19:12:36] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[19:12:52] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[19:13:04] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:13:26] <steveklabnik> Jarrett: <3 <3 <3
[19:13:37] <Jarrett> ;o
[19:14:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:14:37] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:15:05] *** Joins: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP)
[19:15:12] *** Quits: catilac (catilac@26D4CE9A.F9DF2FD8.E9463AEB.IP) (Quit: catilac)
[19:15:48] *** Quits: dranov (dranov@AB17581B.DE411CAD.FB866788.IP) (Ping timeout)
[19:16:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:17:41] *** Joins: azakai_ (alon@moz-BBE3ABD.mv.mozilla.com)
[19:20:46] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[19:21:03] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[19:21:21] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Ping timeout)
[19:21:59] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[19:24:54] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[19:25:19] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[19:26:20] *** jorendorff_away is now known as jorendorff
[19:26:52] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Ping timeout)
[19:27:02] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[19:27:10] *** Joins: eholk (eholk@C1F45BD6.D1A51013.B4C748B5.IP)
[19:27:14] <jdsanders> Does stdout get redirected somewhere else for test runs?
[19:27:23] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[19:28:14] <jdsanders> I'm not seeing any of my output go anywhere during tests and I don't see anything about it in the testing guide
[19:28:27] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[19:28:57] <jensnockert> Amaze, my Cairo wrapper actually doesn't crash when drawing stuff(tm) \o/
[19:29:07] <Ralith> \o/
[19:29:15] <jensnockert> Now I just need to wrap all of it and then release it and get kudos from interwebs \o/
[19:29:17] <Ralith> does it successfully draw stuff too?
[19:29:24] <jensnockert> Ralith: Yes.
[19:29:27] <Ralith> that helps!
[19:29:31] <jensnockert> As long as you draw to a SVG.
[19:29:36] <jensnockert> I haven't wrapped anything else.
[19:29:43] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[19:29:52] <Ralith> presumably binding additional backends is straightforward
[19:29:58] <jensnockert> Probably.
[19:30:08] <jensnockert> But I can't test if they work right now :S
[19:30:10] <jensnockert> \o/
[19:30:27] <jensnockert> Should just be adding a few lines to an xml file to wrap additional backends.
[19:30:34] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[19:30:53] *** Quits: thesnowdog (doug@6BB4FF85.9D0B7490.6F17036B.IP) (Ping timeout)
[19:32:09] *** Joins: mib_on3fwo (Mibbit@moz-6E0D559A.ip195.fastwebnet.it)
[19:32:32] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[19:33:58] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[19:34:52] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Ping timeout)
[19:35:01] <Jemaclus> :)
[19:36:58] *** Joins: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net)
[19:37:10] *** Quits: gmjosack (gary@F91A859E.75E3DBFA.7AB8439E.IP) (Ping timeout)
[19:37:40] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[19:39:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:40:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:41:23] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[19:41:28] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[19:43:02] <doomlord_> trait Algebraic still exists in the docs, but i have an error message with <T:Num+Algebraic> "attempt to bound a type parameter with a nonexistent trait"
[19:43:13] *** Quits: tundor (lundor@F5F65CF.3EFEC9D9.209B798A.IP) (Input/output error)
[19:43:18] <doomlord_> just picked up the latest version after a LONG time away
[19:44:08] *** Quits: duncan (duncan@BF34757C.79CEEFC5.6AA3100C.IP) (Input/output error)
[19:44:12] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:44:34] <doomlord_> http://static.rust-lang.org/doc/0.9/std/num/trait.Algebraic.html
[19:44:40] *** Joins: duncan (duncan@BF34757C.79CEEFC5.6AA3100C.IP)
[19:45:10] <kmc> those are the 0.9 docs; are you using Rust 0.9?
[19:45:54] <doomlord_> pretty sure i compiled and installed, let me check again but i've been correcting other update issues
[19:47:06] <doomlord_> i grabbed the source a couple of days ago and rebuilt; it did install
[19:47:26] <doomlord_> rustc -v says "0.10-pre .... " , er  should that say 0.9 ..
[19:47:47] <doomlord_> but its been telling things like closure syntax changed from fn , format! etc
[19:48:03] <xales> doomlord_: it should only say 0.9 if you want to use 0.9 (you probably don't)
[19:48:14] <doomlord_> ah,
[19:48:40] <doomlord_> i figured jumping back into rust after a long period away i should update etc..
[19:48:47] <leonvv> How can you cast a ~[u8] to a *mut i8? I'm now getting an 'non-scalar cast' error
[19:48:55] <xales> doomlord_: the docs for 0.10 are at http://static.rust-lang.org/doc/master/index.html
[19:49:11] <xales> (link may be wrong, I can't check right now)
[19:49:30] *** Quits: duncan (duncan@BF34757C.79CEEFC5.6AA3100C.IP) (Quit: )
[19:49:46] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[19:49:51] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[19:50:01] <kmc> leonvv: do you want the .as_ptr() method?
[19:50:05] <doomlord_> i'm pretty certain i was using something a lot more recent than '0.1' a last time
[19:50:17] <xales> doomlord_: it's not 0.1
[19:50:21] <doomlord_> but i see new style docs for it, whats the deal with this
[19:50:21] <xales> doomlord_: it's 0.10
[19:50:30] <xales> 10 > 1
[19:50:33] <doomlord_> hah
[19:50:53] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[19:50:54] <kmc> or rather .as_mut_ptr()
[19:51:01] <leonvv> kmc: Thanks, that did the trick
[19:51:07] <doomlord_> ok
[19:51:12] *** Quits: eholk (eholk@C1F45BD6.D1A51013.B4C748B5.IP) (Quit: eholk)
[19:51:16] <kmc> leonvv: how did you go from *mut u8 to *mut i8 though?
[19:51:26] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[19:51:37] <kmc> i don't remember if there's a better way than cast::transmute
[19:51:40] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:51:42] <doomlord_> thanks
[19:52:20] <kmc> seems like there should be a function for casting pointers without accidentally casting to something else pointer-sized
[19:52:34] <doomlord_> ok anyone know where 'Algebraic' , "Trigonometric' etc went in 0.10
[19:52:52] <xales> doomlord_: probably libnum
[19:53:17] <sfackler> doomlord_: bjz's been tearing all of the numeric traits apart
[19:53:21] <doomlord_> ok
[19:53:31] <doomlord_> i do have some catching up to do lol.
[19:53:37] *** Joins: kud1ing (Mibbit@moz-29C6FBAF.pools.arcor-ip.net)
[19:53:54] <kud1ing> how do you enable debug output again for rustc?
[19:54:04] *** Quits: halleck (a@moz-62D47532.dynamic.mnet-online.de) (Client exited)
[19:54:10] <kud1ing> something with DEBUG=xyz
[19:54:22] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[19:54:43] <kud1ing> Ok(task 'rustc' failed at 'lookup_item: id not found: 122870', src/librustc/metadata/decoder.rs:92
[19:54:54] <Ms2ger> RUST_LOG=xxx?
[19:54:56] <xales> kud1ing: do you mean emitting debugging (DWARF) for things it compiles?
[19:55:21] <kud1ing> i want to know what is going on, that ICE wasn't there yesterday
[19:55:40] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[19:57:26] <kud1ing> Ms2ger: yes maybe, while xxx could be what?
[19:57:48] <sfackler> kud1ing: you're probably linking to a library that was built on an old version of the compiler
[19:57:49] <Ms2ger> Crate name
[19:58:30] <kud1ing> sfackler: hm, ok
[19:58:45] <kud1ing> oh, yes it is
[19:59:19] <kud1ing> didn't expect the ABI to break within a day
[19:59:47] <xales> this wifi is intolerable, 10s packet loss to WAP :|
[19:59:50] <leonvv> How can you copy a &str, so you have an ~str instead? I need the string to be 'Send'able
[19:59:58] <Ms2ger> to_owned()
[20:00:06] <xales> cmr: turn the tx power up :(
[20:00:28] <kud1ing> sfackler: that fixed it, thanks
[20:00:34] <cmr> xales: query!
[20:00:47] <xales> cmr: but that requires redrawing the screen, and lag
[20:00:49] <xales> >_>
[20:00:54] <leonvv> Ms2ger, thanks, that worked!
[20:01:06] <cmr> xales: no it doesn't, /msg cmr
[20:01:09] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:01:16] <kud1ing> if i may ask, what is the future of borrowing out of something borrowed?
[20:01:25] <kud1ing> will it ever be possible?
[20:01:36] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Quit: Leaving)
[20:01:51] <sfackler> immutable or mutable borrows?
[20:02:01] <kud1ing> immutable
[20:02:20] <sfackler> you should be able to immutably borrow out of immutable borrows all you want
[20:02:38] <kmc> you mean going from a reference-to-struct to a reference to one of its fields?
[20:02:57] <flan3002> "value may contain references; add `'static` bound": How do I add a static bound to an owned pointer? "~'static" doesn't seem to work...
[20:03:07] <kmc> what kind of value is it?
[20:03:07] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[20:03:16] <kmc> if it's a closure or a trait object there is syntax for bounds
[20:03:19] <cmr> ~Foo:'static
[20:03:28] <cmr> flan3002: https://github.com/mozilla/rust/wiki/The-Rusticon
[20:03:37] <cmr> see trait object syntax.
[20:04:42] <Jemaclus> I don't suppose there's a key-value data structure that's sortable, eh?
[20:04:56] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[20:05:01] <kud1ing> i had something like "fn x(foo: &[Foo] ) { for &bar in foo.iter() ... "
[20:05:05] <Jemaclus> i went with hashmap, and then remembered halfway through that it's not sortable. doh. :)
[20:05:15] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[20:05:16] <kud1ing> and rustc said: sorry Dave, i am afraid i can't let you do this
[20:05:31] <flan3002> cmr: Hm, how to combine that with generics?
[20:05:44] <kud1ing> it works with "for bar in foo.iter()"
[20:06:00] <flan3002> SomeStruct:'static::<what?>
[20:06:10] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:06:10] *** ChanServ sets mode: +o tjc
[20:06:15] <kmc> kud1ing: dereferencing the &Foo will try to move a Foo out of the vector
[20:06:25] <sfackler> kud1ing: doing &bar tries to dereference and move the Foo
[20:06:26] <kud1ing> kmc: a borrow moves?
[20:06:26] <sfackler> efb
[20:06:27] <kmc> kud1ing: and you can't do that because you don't own the vector in the first place
[20:06:37] <sfackler> kud1ing: it's not a borrow
[20:06:40] <kmc> kud1ing: dereferencing a borrow does
[20:06:42] <kud1ing> it is not?
[20:06:52] <sfackler> for &bar in blah {..} is the same as for bar in blah { let bar = *bar; ... }
[20:06:55] <sfackler> (ish)
[20:07:16] <chromatic> brson, here's that cohort spreadsheet work in progress we talked about: https://docs.google.com/spreadsheet/pub?key=0AlPh7P7LyPwpdHZNNXQwUEpxUjd4aERXN1dxcFNsMEE&output=html
[20:07:27] <kud1ing> sfackler: hm
[20:07:46] <kud1ing> sfackler: but isn't "for bar in blah" going to copy stuff?
[20:07:51] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Ping timeout)
[20:08:07] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:08:07] *** ChanServ sets mode: +o tjc
[20:08:20] <kud1ing> my intention is to iterate over something, use it, not copy it and not move it
[20:08:27] <sfackler> kud1ing: bar is a reference there
[20:08:35] <sfackler> it's a pointer into something in blah
[20:08:52] <sfackler> &bar is dereferencing that pointer
[20:08:59] <cmr> chromatic: what's this?
[20:09:17] <kmc> kud1ing: just use "for bar in foo.iter()"; that will give you bar as a &Foo
[20:09:24] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Connection reset by peer)
[20:09:30] <kud1ing> ok, thanks
[20:09:32] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:09:32] *** ChanServ sets mode: +o tjc
[20:09:59] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:10:06] <kmc> kud1ing: when you write "for &bar ..." that's *removing* a layer of indirection, because &bar is a pattern that matches against a borrowed pointer and binds the thing inside to bar
[20:10:25] <kud1ing> kmc: makes sense
[20:10:42] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[20:11:14] <kud1ing> i got it mixed with C++ references ... ampersand and all
[20:11:24] <kmc> it can be confusing though... especially because &self has the opposite meaning :/
[20:11:35] <kud1ing> hm
[20:11:39] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:11:43] <kmc> kud1ing: yeah.. we have actually officially renamed "borrowed pointers" to "references" but that will probalby only add to confusing
[20:11:45] <chromatic> cmr, brson and I were talking about various user cohorts who might adopt Rust in the near future and what they want from a library ecosystem.
[20:12:37] *** Quits: mib_on3fwo (Mibbit@moz-6E0D559A.ip195.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[20:13:09] <kud1ing> so "&self" does indeed mean, that "self" is a borrowed reference?
[20:13:15] <kmc> yes
[20:13:25] <kmc> it allows a method to take self by reference (usually what you want) instead of by value
[20:13:48] <kud1ing> why does vec::iter() use self and not &self?
[20:14:08] <cmr> because it's implemented on slices, and slices are already references and Pod
[20:14:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:14:30] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[20:14:58] <kud1ing> fair enough
[20:15:04] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:15:07] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[20:15:21] <doomlord_> i have something doing this ... impl<T:Eq+Zero> Zero for Vec2<T>  { ... }  - its telling me 'failed to find implementation of trait std::ops::Add<....> for ..Vec2<T>
[20:15:27] <chromatic> (Pod is not in the Rusticon)
[20:15:43] *** Quits: tiernjo (quassel@moz-21A5F23D.ks.ks.cox.net) (Client exited)
[20:15:57] <cmr> chromatic: it's a wiki, you can add it :)
[20:16:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:16:05] <cmr> doomlord_: you're trying to use + on it?
[20:16:25] <doomlord_> not that i can see, its just implementation of zero test and zero constructor
[20:16:47] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:16:50] <doomlord_> let me see what the docs say about Eq, Zero these days..
[20:16:50] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:18:09] <doomlord_> let me see if its confusing error messages - because i did jut have some other clash elsewhere relating to 'Add' ... i had my own trait with '.add' methods
[20:18:41] <doomlord_> and it was telling me those conflicted with std stuf
[20:18:44] <cmr> yeah if your custom trait isn't in scope it's going to taking std::ops::Add and .add from the prelude.
[20:18:55] *** Parts: dradtke (dradtke@moz-77578067.hfc.comcastbusiness.net) ()
[20:19:13] <doomlord_> i can probably change that to implement std::ops::Add .. later
[20:19:44] *** Joins: Savago (Savago@2BEBC716.E820043D.D4C04133.IP)
[20:20:29] *** Quits: kud1ing (Mibbit@moz-29C6FBAF.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:21:14] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[20:23:19] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:23:54] <doomlord_> its coming in from somewhere else it seems
[20:24:17] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[20:24:53] <doomlord_> my 'Vec2<T>' needs 'Add' ; previously that didn't seem to matter
[20:25:24] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[20:25:29] <doomlord_> but now when i just do this    "impl<T:Eq+Zero+Add> Zero for Vec2<T> {"    it says r3d/vecmath.rs:135:16: 135:19 error: wrong number of type arguments: expected 2 but found 0
[20:25:29] <doomlord_> r3d/vecmath.rs:135 impl<T:Eq+Zero+Add> Zero for Vec2<T> {
[20:25:52] <doomlord_> ahhh Add itself ..
[20:26:12] <doomlord_> Add<RHS,Result>
[20:26:26] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[20:26:32] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[20:28:13] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[20:28:25] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:29:04] *** Joins: tq (tq@moz-9FE9CCF4.a251.priv.bahnhof.se)
[20:30:46] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[20:32:10] *** Quits: santiago (santiago@moz-69361A64.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[20:33:38] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[20:34:59] *** Quits: skade (skade@moz-F3F67608.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:35:07] *** Joins: arturo (Thunderbir@moz-4F69776.superkabel.de)
[20:35:53] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:36:21] *** Joins: skade (skade@moz-F3F67608.pools.arcor-ip.net)
[20:36:29] *** Joins: iammerrick (iammerrick@655A4678.4106D740.249281D5.IP)
[20:36:38] <iammerrick> wycats: I sorta stalked you in here...
[20:37:09] <flan3002> cmr: It seems 'static isn't what I want, if that means that instance would never be freed, is there a way to avoid it?
[20:37:54] <cmr> flan3002: no, it means it can't contain anything with a lifetime that isn't static.
[20:38:20] *** Quits: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[20:38:54] <dybt> hm, every time I comment on an issue I submitted, the comment disappears shortly after
[20:39:10] <flan3002> cmr: That means no borrowing, because most borrowed pointers have non-static lifetimes?
[20:40:46] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[20:41:08] *** Joins: new_one (new_one@F2527D37.1DF5627.B3C0173E.IP)
[20:41:17] *** Quits: fabiand (fabiand@moz-A302B384.adsl.alicedsl.de) (Quit: Verlassend)
[20:41:26] <kimundi> flan3002: It means no storing of borrowed pointers inside it that are not 'static, yeah
[20:42:08] *** Quits: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (Ping timeout)
[20:43:34] <kmc> using the same name for the 'static lifetime and the 'static bound is pretty confusing
[20:44:05] <flan3002> Yeah, kind of...
[20:44:54] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[20:45:06] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[20:45:14] <kimundi> well, apparently nmatsakis plans to allow to define arbitrary lifetimes as bounds, not just 'static
[20:45:30] <Ms2ger> Git wizards!
[20:46:00] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[20:46:01] <Ms2ger> I've rebased a branch locally, but I'm wondering if there's a way to backup the original branch somehow
[20:46:39] *** Quits: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP) (Ping timeout)
[20:46:44] <kimundi> You mean recover the overridden history?
[20:46:53] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[20:46:55] <Ms2ger> Yes
[20:47:09] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[20:47:13] <Ms2ger> Turns out I don't trust myself :)
[20:47:13] <kimundi> I'm no expert, but afaik everything should be in the reflog
[20:47:35] <kimundi> try googling for that, I guess :)
[20:47:36] * Ms2ger stares blankly
[20:47:41] <Ms2ger> Heh
[20:48:01] *** Joins: hoverbear (hoverbear@moz-4B7160A1.wireless.uvic.ca)
[20:48:11] <cmr> `git reflog`
[20:48:11] <kimundi> "git reflog" : all commits that happenedn in the last 3 months or so
[20:48:29] <tjc> Ms2ger: I guess it might be too late now, but the way I usually do this is: git checkout my_branch -b new_branch
[20:48:35] <kimundi> in theory you can then just find the unrebased head commit, check it out, and create a backup branch from tehre
[20:48:35] <tjc> and then rebase new_branch
[20:48:38] <tjc> leaving my_branch untouched
[20:48:48] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[20:48:49] <tjc> but I guess you can also do that now using the reflog as kimundi  suggested
[20:48:49] <Ms2ger> Mm
[20:48:54] *** Quits: iammerrick (iammerrick@655A4678.4106D740.249281D5.IP) (Client exited)
[20:49:08] <Ms2ger> Maybe I can do the opposite in a clean tree
[20:49:28] <kimundi> that would also work, if the original still lives somewhere
[20:49:39] <Ms2ger> Yeah, I haven't pushed yet
[20:49:42] <Armavica> wow, this is meta-git
[20:49:52] <kimundi> or whatever you meant with that :P
[20:50:03] <flan3002> Given "Single::new(~PtrProperty::new(val), start, end, ease, duration)", why do I need a 'static lifetime for PtrProperty?
[20:50:24] *** Quits: wycats (sid79@moz-5F4AA75A.irccloud.com) (Ping timeout)
[20:50:37] *** Quits: aeqwa (aeqwa@moz-3C898B31.dsl.tropolys.de) (Quit: WeeChat 0.4.3)
[20:50:48] *** Joins: wycats (sid79@moz-5F4AA75A.irccloud.com)
[20:50:53] *** Joins: Kruppe (user@moz-EE1E894A.home3.cgocable.net)
[20:52:30] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[20:54:01] <flan3002> Okay, I understand my questions are kinda stupid, but up-to-date documentation for rust is still quite rare. :( They always refer to this channel.
[20:54:26] <Ms2ger> Thanks folks
[20:56:01] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:56:19] *** Quits: arturo (Thunderbir@moz-4F69776.superkabel.de) (Ping timeout)
[20:56:37] *** Joins: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP)
[20:58:18] *** Joins: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP)
[20:58:59] *** Quits: novabyte (novabyte@65CB01.7EE6203.B8D52E29.IP) (Quit: Leaving.)
[20:59:20] *** Joins: iammerrick (iammerrick@655A4678.4106D740.249281D5.IP)
[20:59:47] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[21:00:52] <doomlord_> tuple structs seem to have changed; i had something which did this...     pub struct Array2<T>([T,..2]);        impl.... for Array2<T> { ...  self[0]...) which used to work, but it seems operators aren't getting at the contained value now
[21:01:23] <doomlord_> was that a special case for a single element tuple-struct which has changed now or something
[21:01:31] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:01:32] <cmr> doomlord_: yes, previously unary tuple structs could be dereferenced, they can no longer.
[21:01:46] <doomlord_> .n0() or something like that ?
[21:01:49] <cmr> let Array2(ref mut inner) = self; to get a reference to the inner value.
[21:02:38] *** Quits: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP) (Quit: zwarich)
[21:02:48] <doomlord_> ok
[21:03:26] *** Quits: quibbit (Mibbit@moz-BB56F7AF.rezometz.org) (Quit: http://www.mibbit.com ajax IRC Client)
[21:03:44] *** Joins: dogurness (dogurness@moz-8BA06332.nyc.res.rr.com)
[21:04:01] *** Parts: dogurness (dogurness@moz-8BA06332.nyc.res.rr.com) ()
[21:04:02] *** Parts: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP) ()
[21:05:10] *** Quits: jackneill (jackneill@moz-5728BD7.pool.digikabel.hu) (Ping timeout)
[21:06:12] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Ping timeout)
[21:06:46] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[21:07:06] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[21:08:47] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[21:09:09] *** Joins: dredozubov (dredozubov@EC6EC1F6.27163FAA.806C54C8.IP)
[21:09:25] *** Quits: dybt (dybt@1C6E12CD.34AF3F94.A0A451B2.IP) (Quit: Leaving)
[21:11:32] <wycats> iammerrick: such stalking
[21:12:05] <brson> chromatic: thanks
[21:12:21] *** Quits: Kruppe (user@moz-EE1E894A.home3.cgocable.net) (Ping timeout)
[21:12:24] <iammerrick> wycats: It's my thirst for learning!
[21:12:34] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[21:13:02] <chromatic> brson, the only really non-obvious thing that came up for me in there is the importance of SDKs. If I'm right....
[21:13:10] <brson> chromatic: this is interesting
[21:13:14] *** Quits: tholbrook (Mibbit@B7D72BC.960BDC77.3A9B6B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:13:35] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[21:13:39] *** Quits: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP) (Ping timeout)
[21:13:42] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[21:13:51] *** Quits: japaric (japaric@8465B6C3.31BF4ADA.BFC118EE.IP) (Ping timeout)
[21:14:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:14:23] <chromatic> Maybe the question is "How can we be a good upstream for all of these different downstreams?"
[21:16:02] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:16:18] *** Quits: flan3002 (till@moz-E0853D96.superkabel.de) (Ping timeout)
[21:16:57] *** Joins: japaric (japaric@5A3C0563.4F37C8B4.BFC118EE.IP)
[21:17:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:17:06] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:17:10] <brson> chromatic: what is the distinction between "Self" and "SDK"
[21:17:13] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:17:14] *** Quits: dredozubov (dredozubov@EC6EC1F6.27163FAA.806C54C8.IP) (Input/output error)
[21:17:53] * o11c has never understood the point of an SDK
[21:18:10] <o11c> SDK just seems like the term for people who don't have a package manager
[21:18:38] *** Joins: gmjosack (gary@F91A859E.75E3DBFA.7AB8439E.IP)
[21:18:58] <chromatic> brson, depends on the organization who packages it
[21:19:10] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[21:19:36] <chromatic> Maybe they work with a vendor such as SAP or maybe they do their own bundling. Probably a function of org size, complexity, and relationship with any vendors in the form of support contracts or frameworks.
[21:19:39] <Jemaclus> man, when I find someone else's solution to an algorithm that makes mine look like a 3 year-old wrote it, it's really discouraging. sigh.
[21:19:49] <chromatic> I haven't yet found the right axis on which to distinguish those organizations.
[21:19:57] <cmr> Jemaclus: isn't it?
[21:20:13] <chromatic> "Strong in-house development center" versus "Simple OTS customization"
[21:20:15] <cmr> Jemaclus: thankfully 3 year olds are probably at the primest learning period of their life :)
[21:20:34] <chromatic> 3 year olds never borrow things though. They always take and they always, always, always mutate.
[21:21:47] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[21:21:57] <cmr> heh
[21:22:07] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[21:22:16] <Jemaclus> I kinda wanna take my version and improve it til it's as good as the one I found, but the version I found is so far over my head, I don't even know where to start
[21:22:18] <Jemaclus> frustrating
[21:22:35] * Ms2ger wonders which algorithm
[21:22:45] <Jemaclus> huffman coding
[21:22:51] <Ms2ger> Ah
[21:23:05] * Ms2ger has a vague memory of that
[21:23:22] <Jemaclus> :)
[21:23:48] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[21:23:50] *** Joins: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP)
[21:24:36] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[21:24:54] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:24:57] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:25:02] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:25:05] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:27:47] *** Joins: ofeldt (ofeldt@moz-CFEC97CF.dip0.t-ipconnect.de)
[21:28:33] *** Quits: ofeldt- (ofeldt@moz-302525B5.dip0.t-ipconnect.de) (Ping timeout)
[21:28:35] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:30:24] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:32:37] *** Joins: Denommus (user@79485229.20CA00E6.AD91B79.IP)
[21:32:46] <Denommus> hello
[21:35:03] *** Joins: zwarich (zwarich@A89ECEB1.A86FC3A7.DE9B45B6.IP)
[21:36:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:36:42] *** Quits: iammerrick (iammerrick@655A4678.4106D740.249281D5.IP) (Client exited)
[21:39:08] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[21:39:20] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[21:39:39] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[21:39:41] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:39:47] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[21:40:46] <Denommus> I didn't understand the next change on ~[T] semantics. Anyone to give me an insight?
[21:41:19] <kimundi> Denommus: What do you mean? Switch to Vec<T> and DST?
[21:41:33] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[21:42:48] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[21:43:21] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[21:43:21] *** ChanServ sets mode: +ao dherman dherman
[21:43:45] *** Quits: dschatzberg (dschatzber@moz-9384E83C.bu.edu) (Input/output error)
[21:44:29] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[21:50:38] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[21:51:03] *** Joins: eholk (eholk@C1F45BD6.D1A51013.B4C748B5.IP)
[21:51:12] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[21:51:57] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[21:52:15] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[21:52:20] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[21:52:52] *** Joins: mrhmouse (jordan.bro@moz-5A589EDD.photobooks.com)
[21:53:06] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[21:53:37] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:53:57] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[21:54:13] <mrhmouse> I'm new to Rust; is there an unbounded integer type in the standard library? I checked documentation for the Integer and Num traits, but they are only defined for primitives.
[21:54:35] <cmr> mrhmouse: http://static.rust-lang.org/doc/master/index.html
[21:54:39] <cmr> `num`
[21:54:55] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Ping timeout)
[21:55:05] <mrhmouse> cmr: thanks, I feel stupid now ;P
[21:55:17] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[21:55:36] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[21:55:38] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[21:56:27] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[21:56:37] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:56:51] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:56:56] <veddan> mrhmouse: are you looking for bigints?
[21:57:06] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[21:57:54] <mrhmouse> veddan: biguints, really
[21:58:55] *** Joins: alonlevy (alon@moz-944C9098.red.bezeqint.net)
[21:58:57] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:01:15] <veddan> num::BigUint then
[22:01:48] <mrhmouse> sorry if I seem a bit dense, but could you point me to a tutorial or something on loading external modules?
[22:01:53] <veddan> but if you need really fast bignums, you update rust-gmp so it compiles with master
[22:02:08] <mrhmouse> I seem to be a bit confused between "extern crate" and "extern mod"
[22:02:30] <mrhmouse> veddan: I'm not looking for speed; this is just to get accustomed to Rust
[22:03:35] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[22:03:48] <veddan> extern crate num; use num::bigint::BigUint;
[22:04:50] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[22:05:17] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:05:31] <mrhmouse> veddan: that's what I was using, but I get the following error: http://ix.io/aDc
[22:05:40] <mrhmouse> I'm using Rust v0.9, if it helps.
[22:05:48] <veddan> Oh
[22:05:58] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[22:06:02] <veddan> you should upgrade to master if at all possible
[22:06:40] <Ms2ger> Also if not at all possible
[22:06:49] <doomlord_> if you have foo:&|...| ->...   , to call 'foo' you need to dereference it now like this?   (*foo)(args...)   ... thats what i've been doing to get my old code compiling
[22:07:07] <veddan> on 0.9 I think it would be `extern mod extra; use extra::bigint::BigUint;`
[22:07:17] *** Joins: trecer (trecer@moz-36BEFC79.hsd1.pa.comcast.net)
[22:07:36] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:08:24] *** Joins: mib_g2moc4 (Mibbit@moz-E111B397.home.otenet.gr)
[22:09:25] *** Quits: mib_g2moc4 (Mibbit@moz-E111B397.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[22:09:58] *** Joins: mib_6556t5 (Mibbit@62662996.63B79338.DDE5D3F6.IP)
[22:09:58] *** Joins: kvanb (kvanb@moz-5AEBA67F.lnse5.win.bigpond.net.au)
[22:10:22] *** kimundi is now known as zz_kimundi
[22:10:23] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[22:11:09] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:11:28] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:11:51] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:12:02] <mib_6556t5> I've got an error: binary operation + cannot be applied to type '&mut uint' within a mutexArc.access
[22:12:20] *** Quits: Ferreus (ferreus@moz-DF1C0D52.lsn.wtnet.de) (Quit: WeeChat 0.4.3-dev)
[22:13:14] <doomlord_> i take it the changes in |f| ,m fn etc are to allow better use of stack closures or something
[22:15:18] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[22:15:36] <Tari> mib_6556t5: looks to me like your issue stems from the requirement that T be Send
[22:15:49] <mib_6556t5> Send?
[22:16:05] <mrhmouse> veddan: yeah, that's what the 0.9 docs say. my own fault for reading docs out of master and compiling with 0.9 ;)
[22:16:17] <Tari> but maybe I'm misreading this (I've not dealt with concurrency much in my work)
[22:16:29] <veddan> mrhmouse: generally it's better to always try to follow master
[22:16:48] <veddan> mrhmouse: you'll get better help on IRC, and a (hopefully) better compiler
[22:17:25] <Tari> yeah, I misread that
[22:17:39] <Tari> uint is decidedly Send
[22:18:25] <mib_6556t5> ... ok I follow that. Frankly just the fact that I can't increment an unsigned integer is beyond me
[22:18:30] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[22:18:48] <mrhmouse> veddan: aye, I'm building master now. I just used my distro's package for Rust, previously, to avoid waiting for it to build
[22:18:51] <strcat> mib_6556t5: you're not trying to increment an integer
[22:18:55] <strcat> you're trying to increment an &mut
[22:19:01] <strcat> you need to do *x += 2
[22:19:20] <strcat> binary operation + cannot be applied to type '&mut uint' within a mutexArc.access
[22:19:33] <strcat> it's saying + cannot be applied to &mut uint, because &mut doesn't implement Add
[22:20:18] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[22:20:23] <mib_6556t5> ok, that was definitely that error. Only now I have a new one.
[22:20:43] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:21:02] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[22:21:04] <veddan> let's say I have a bignum type
[22:21:13] <veddan> it allocates for non-zero values
[22:21:34] <veddan> let's also say the AddAssign & Co traits have landed
[22:22:03] <veddan> I want to add a long sequence of i32's to a bigint (which I can do efficiently, without allocating for each number)
[22:22:13] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:22:17] <veddan> I'm guessing I won't be able to use the '+=' notation for this
[22:22:17] <doomlord_> does the stdlib have something like a 'trace' macro dumping file:line  (i had a debuging macro like that, i wonder if its common..)
[22:22:22] <strcat> veddan: well, first of all, you wouldn't be using the bigints in the stdlib if you cared about performance
[22:22:30] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[22:22:34] <strcat> that won't change
[22:22:49] <strcat> you can reserve memory
[22:23:05] <o11c> veddan: use an i64
[22:23:22] <mib_6556t5> So, here's my new issue. Within MutexArc::new(x), it's claiming I need an unsafe block around that, so I'm not getting safe concurrency it seems
[22:23:28] <o11c> veddan: an i64 can contain the intermediate sum of as many i32's as you need
[22:23:52] <veddan> yeah, but it's a type problem, right? I can't have a AddAssign<i32, MyBigInt> and AddAssign<i64, MyBigInt> at the same time.
[22:24:13] <veddan> Sorry, <i32, MyBigInt> and <MyBigInt, MyBigInt>
[22:25:16] <veddan> o11c: say I have many i64's instead
[22:25:26] *** Quits: klzzvn (klzzvn@moz-1667E3F6.xnet.hr) (Ping timeout)
[22:25:31] <strcat> veddan: for writing efficient code, the overloaded operators will never really be enough
[22:25:31] <veddan> but I guess that'd be argument dependent lookup?
[22:25:33] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[22:25:46] <strcat> the efficient C libraries have an API signature like operator(output, input, input)
[22:25:53] <strcat> so you can reuse a temporary many times
[22:26:25] <strcat> mpz_t tmp; loop { ... mpz_add(tmp, x, y); do_something(tmp) }
[22:27:52] <veddan> strcat: the question about incrementing bignums by primitves came to mind while I was wrapping the bsdnt library
[22:28:37] <strcat> bsdnt isn't really worth wrapping
[22:28:42] <veddan> where I have zz_add(dst, a, b) and zz_addi(dst, a, i)
[22:28:55] <veddan> strcat: I sort of realized
[22:28:56] <strcat> an hour of work on rust's bigints could make them a faster implementation
[22:29:22] <veddan> it has rounding bugs on division
[22:29:32] <veddan> bsdnt
[22:30:07] <strcat> rust's bigints likely have plenty of bugs too...
[22:30:22] <veddan> strcat: but not (reasonable) amount of effort would make it as fast as gmp
[22:30:37] <strcat> veddan: sure, put a few years of work into it and you could ;p
[22:30:56] <veddan> "reasonable" :P
[22:31:02] <strcat> atm it has inferior time complexities across the board, and the constant factor is probably 20x or 30x worse
[22:31:18] <veddan> doesn't haskell have a '--use-slow-integers' flag or something?
[22:31:28] <strcat> could make the constant factor only ~5x slower without using asm
[22:31:53] <strcat> veddan: haskell's gmp usage is problematic though
[22:31:57] <strcat> because it replaces the allocator with gc
[22:32:06] <strcat> so you can't use normal gmp in the same process
[22:32:15] <strcat> but yeah, they have an alternate lib
[22:32:24] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Quit: Lost terminal)
[22:32:26] <strcat> it's reasonably fast for relatively small big integers
[22:33:53] <veddan> a rust wrapper for gmp would presumably just let gmp use malloc/realloc/free
[22:34:40] <veddan> is there some issue standing in the way of including gmp as bigints, and allowing users to opt-out?
[22:35:44] <strcat> veddan: there's already an incomplete rust-gmp library
[22:36:02] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[22:36:03] <strcat> big integers just shouldn't be provided by the official repo if they're a sub-par implementation
[22:36:43] <strcat> including something in the official repo should involve considering whether it is or can be a best of breed implementation
[22:36:54] <strcat> if it's not expected that it will be, then it's just going to encourage using sub-par libs
[22:37:00] *** Joins: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk)
[22:37:10] <strcat> in the case of bigints, it's both buggy and slow
[22:37:44] <cremes> newbie here... want to make sure i'm not breaking best practices by marking a parameter as "mut". see here:  https://gist.github.com/chuckremes/9124725
[22:38:07] <cremes> i'm hoping this is copied by value so i can modify it in that method and not have the calling method see the mutation.
[22:38:10] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[22:38:10] *** ChanServ sets mode: +o jdm
[22:38:11] <cremes> am i right?
[22:38:27] <strcat> cremes: the mut is not part of the API signature
[22:38:37] <strcat> it's just marking the local variable as mutable
[22:38:54] <cremes> strcat: ah! okay, thank you. that answers it for me.
[22:39:21] *** Joins: kris (kris@moz-37D7DBB5.dk.customer.tdc.net)
[22:39:24] <strcat> cremes: technically the signature is just 'pattern: type' and patterns can include mut
[22:39:29] * cremes is learning more every hour that i plow ahead on my rust spike
[22:39:34] <strcat> like (x, y, mut z)
[22:39:51] <strcat> fn foo((mut x, y): (int, int))
[22:40:06] <cremes> yes
[22:40:09] *** Quits: eholk (eholk@C1F45BD6.D1A51013.B4C748B5.IP) (Quit: eholk)
[22:40:23] *** Joins: Hildar (Hildar@moz-7F4621B6.cable.virginm.net)
[22:40:28] <cremes> it doesn't change the calling convention of that function at all
[22:40:52] <cremes> however, using '&' does change the calling convention
[22:40:59] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[22:41:04] <strcat> cremes: in the type, yeah, because it changes the type
[22:41:09] <strcat> in the pattern, using & doesn't change it
[22:41:18] <cremes> right. it's starting to click for me.
[22:41:21] <strcat> fn foo(&x: &int) has the same external signature as fn foo(x: &int)
[22:41:27] <strcat> but it derefs it locally
[22:41:34] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[22:41:44] <cremes> oh? that's new information... i'll have to ponder that.
[22:41:49] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[22:42:10] <cremes> rust is a pretty big language. lot's of corners...
[22:42:17] *** Quits: robertknight (robertknig@moz-DF72422D.members.linode.com) (Ping timeout)
[22:42:25] *** Quits: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com) (Ping timeout)
[22:42:26] <mcpherrin> That's a pattern, same as any other place a pattern can occur
[22:42:33] *** Quits: raze (raze@moz-EAF6E9D.members.linode.com) (Ping timeout)
[22:42:42] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[22:42:47] <strcat> cremes: the pattern syntax is shared between let/match/parameters
[22:42:52] <strcat> let pattern = expr;
[22:43:10] <mcpherrin> They're most obvious in their use in `match`
[22:43:18] *** Quits: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org) (Ping timeout)
[22:43:22] *** Quits: Reisen (m@moz-A0F67AD4.org) (Ping timeout)
[22:43:27] *** Quits: h3r3tic (heretic@moz-8BC3B3DB.se) (Ping timeout)
[22:43:29] <strcat> rusti: let x = 5; let t = (&x, 10); let (a, _) = t; *a
[22:43:33] <cremes> okay. i haven't really touched on 'match' yet... the whole idea of destructuring is new to me
[22:43:34] -rusti- 5
[22:43:43] <strcat> rusti: let x = 5; let t = (&x, 10); let (&a, _) = t; a
[22:43:45] -rusti- 5
[22:43:49] *** Quits: tgummerer (tgummerer@moz-582025B2.members.linode.com) (Ping timeout)
[22:43:53] <mcpherrin> Rust in my mind is C + sum types + pattern matching :P
[22:44:25] <strcat> mcpherrin: no love for generics/dtors? :P
[22:44:39] <mcpherrin> strcat: okay those too :-)
[22:44:48] <cremes> i'm coming from ruby. i last really programmed in C back in the early 90s. :)
[22:44:52] <mcpherrin> dtors allowing RAII is pretty important now that I think of it
[22:44:55] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[22:45:08] <cremes> i have a few things to relearn
[22:45:08] <strcat> it is quite similar to C though
[22:45:17] <strcat> in some ways more similar to C than C++
[22:45:30] <strcat> for example, passing/assigning/returning always being equivalent to what C does
[22:45:31] <benh> C + the temptation to use higher-order functions in a javascript-like way only to get burned by the borrow checker every time
[22:45:42] <cremes> yes, agreed. i am not totally lost but it's still an uphill battle.
[22:45:42] *** Quits: honza (honza@2F4A0D37.D725B7F3.2BF60B34.IP) (Ping timeout)
[22:45:45] <strcat> rust's closures aren't a strong point of the language yet
[22:45:51] <strcat> so I wouldn't include them in a summary ;p
[22:46:05] <Hildar> strcat: At least it has them!
[22:46:12] <Hildar> strcat: Kinda
[22:46:22] <benh> Stack closures are really neat for a lot of patterns, but they're always not quite as powerful as I'd hope
[22:46:30] <strcat> Hildar: not really saying much though... C++ has closures, and they're nicer
[22:46:34] <strcat> benh: rust doesn't have stack closures
[22:46:45] <strcat> yes, borrowed closures are implemented as stack closures
[22:46:46] <mcpherrin> C without headerse
[22:46:50] <strcat> but there's no value closure in the type systems
[22:46:53] <strcat> system*
[22:47:04] <Hildar> strcat: I never really tried C++ closures, I'll have to go take a look some time.
[22:47:06] <benh> I thought we called ||-closures stack closures, sorry
[22:47:08] *** Joins: brendan (brendaneic@7D275E5E.369AB919.1C1BA5F7.IP)
[22:47:12] <strcat> benh: well, some docs might
[22:47:17] *** Joins: Zuchto (chat@moz-1FF744E2.members.linode.com)
[22:47:31] <strcat> I'd call them borrowed closures
[22:47:36] *** Joins: h3r3tic (heretic@moz-8BC3B3DB.se)
[22:47:42] *** Joins: robertknight (robertknig@moz-DF72422D.members.linode.com)
[22:47:54] <strcat> (the old syntax was &fn after all!)
[22:47:56] *** Joins: Reisen (m@moz-A0F67AD4.org)
[22:48:04] *** Joins: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com)
[22:48:04] <strcat> Hildar: pretty simple really
[22:48:31] <benh> Anyway, I just meant that some_opt.and_then(|| ...) is neat but return some_iter.map(|...| ...) always ends in tears as far as I know ;)
[22:48:32] <strcat> auto f = [](int x, int y) { return x + y; };
[22:48:43] <strcat> they get a unique type, and they have value semantics
[22:48:44] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:48:47] *** Joins: tgummerer (tgummerer@moz-582025B2.members.linode.com)
[22:48:59] *** Quits: Ms2ger (Ms2ger@4AC75EDC.61B1BDDC.F15B0BB3.IP) (Quit: nn)
[22:49:10] <strcat> benh: if rust's closures were on par with C++11, you could return a map iterator
[22:49:14] <Hildar> strcat: Last time I used c++ I was still a newbie who thought C++ was the best thing since sliced bread (I had only used C up till then).
[22:49:35] <strcat> although
[22:49:39] <doomlord_> strcat, so if you pass a &|...| {  } ... is that going on the stack?
[22:49:50] <mib_6556t5> So I'm back with more problems. I'm trying to get my mutexarc to wrap around a mutable static yet it still wants an unsafe block
[22:50:02] <mcpherrin> disciplined c++ is still a pretty good language
[22:50:09] <strcat> doomlord_: rust's closures are placed on the stack but they're borrowed *immediately*
[22:50:16] <mcpherrin> I wouldn't call it easy or elegant, but it gets shit done.
[22:50:22] <strcat> doomlord_: there's no representation for a closure as a value in rust's type system
[22:50:39] <doomlord_> - so you can't pass one by value , is that what you're saying
[22:50:45] <benh> mhmm
[22:50:47] <strcat> doomlord_: yes, and you can't return one
[22:50:52] <doomlord_> ahhhh. ok
[22:50:55] <strcat> doomlord_: you can't make it outlive the stack frame you declare it on
[22:50:57] <benh> i thought we were passing them by value but that value also happened to be borrowing the stack
[22:51:09] *** Joins: raze (raze@moz-EAF6E9D.members.linode.com)
[22:51:21] <strcat> benh: they're boxed, just like trait objects
[22:51:26] <doomlord_> updating after being ouit of rust for a while, i had to change some closure passing syntax, i wondered if that was helping or making way for "stack closures"
[22:51:32] <benh> they're (fn-ptr, env-ptr) pairs, aren't they?
[22:51:36] <strcat> benh: with a by-value closure, you know the environment type from the closure type
[22:51:42] <strcat> benh: yes, that's the representation
[22:51:50] <benh> where the env-ptr effectively borrows whatever variables are closed over?
[22:51:57] <strcat> benh: yes
[22:52:02] *** Joins: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org)
[22:52:08] <strcat> benh: it's like &Trait
[22:52:21] <benh> and the c++ value closure situation would be (fn-ptr, variably-sized-env)?
[22:52:27] <strcat> benh: no function ptr
[22:52:28] <strcat> static dispatch
[22:52:33] <benh> ah
[22:52:34] <doomlord_> i think i've only ever wanted to use closures in cases where making them on the stack and borrowing them is ok. I haven't used a language with closures alot. Most of the C++ i've written is pre 11
[22:52:38] <benh> i see!
[22:52:43] <strcat> benh: C++ lambdas are boxed, they get a unique type
[22:52:49] <strcat> benh: and from the unique type, it knows the function body
[22:53:01] <strcat> benh: you *can* box them via std::function, which is equivalent to rust's old ~fn
[22:53:11] <strcat> or you can use them generically
[22:53:24] <strcat> benh: er, C++ lambdas are *not* boxed*
[22:53:26] <doomlord_> i was finding myself having to dereference function arguments before calling where before i ddidn't ... (*func)(args...)
[22:53:26] * strcat sighs
[22:53:27] <benh> yeah
[22:53:32] <benh> i think i get it now :))
[22:53:38] <doomlord_> so i take it the function call operator used to auto-deref and it doesn't now
[22:53:39] <strcat> rust desperately needs that feature
[22:54:09] <benh> did we make the change yet where ~fn and &fn refer to pointers to function pointers?
[22:54:12] <doomlord_> are the borrowed "closures" efficient for passing into high order functions
[22:54:21] <strcat> benh: so for example, in C++ you can do `return iter.map([z](int x) { return x * z; });`
[22:54:33] <strcat> but you'd have to declare the return type as being inferred
[22:54:36] <benh> strcat: but it'd have a weird return-- yeah
[22:54:40] <strcat> which requires C++14 (clang -std=c++1y)
[22:54:47] <benh> strcat: is that ever happening in rust?
[22:54:50] *** Parts: mrhmouse (jordan.bro@moz-5A589EDD.photobooks.com) ()
[22:54:51] <strcat> benh: dunno
[22:55:02] <doomlord_> rust is better at type inference for closures , right?
[22:55:17] <strcat> rust closures are boxed like trait objects
[22:55:47] <strcat> if you wanted to return a value closure in rust, you'd need some way of declaring an inferred return type
[22:55:57] <strcat> atm rust explicitly forbids inferring function signatures
[22:56:18] <strcat> you could return a value closure from another closure in rust (since they have inference), but *not* a function
[22:56:34] <benh> I'd already like inferring function signatures for returning weird iterator combinations that I don't like spelling out entirely
[22:56:34] *** Quits: kris (kris@moz-37D7DBB5.dk.customer.tdc.net) (Ping timeout)
[22:57:04] *** Quits: mouse (mouse@moz-99D795CC.broadband.corbina.ru) (Ping timeout)
[22:57:23] <doomlord_> i remember hearing talk about ~[T] becoming Vec<T> or something.. is that still being considered
[22:57:27] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Ping timeout)
[22:57:30] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Ping timeout)
[22:57:30] <strcat> doomlord_: yes
[22:57:37] *** Quits: brendan (brendaneic@7D275E5E.369AB919.1C1BA5F7.IP) (Quit: brendan)
[22:57:39] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[22:58:27] <Hildar> Is there a way to pass arbitrary linker arguments via rustc? (I need a shared (non-rust) lib to get linked last, or at least later than it is being)
[22:58:31] <doomlord_> 'do sugar' is only useable with 'procs' now, is that the case?
[22:58:40] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[22:58:49] <benh> I heard do-sugar went away entirely
[22:59:01] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:59:03] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[22:59:24] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[22:59:41] *** Joins: klzzvn (klzzvn@moz-7A3DCFCE.xnet.hr)
[22:59:43] <veddan> do is gone
[23:00:04] <doomlord_> it was interesting but i can certainly live without it
[23:00:10] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[23:00:13] *** Quits: mrshankly (mrshankly_@moz-A56896CA.rev.vodafone.pt) (Quit: leaving)
[23:00:21] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:00:38] <strcat> benh: http://ix.io/aDf like that
[23:00:41] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:00:45] <strcat> strcat@thinktank i ~ master % clang++ -std=c++1y foo.cc -stdlib=libc++ -lc++abi
[23:00:46] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[23:00:47] <strcat> strcat@thinktank i ~ master % ./a.out
[23:00:49] <strcat> 11.200000
[23:01:03] *** Quits: mib_6556t5 (Mibbit@62662996.63B79338.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:01:07] <doomlord_> is that c++14, with auto infering return type
[23:01:36] <strcat> doomlord_: yes
[23:02:05] <strcat> the type of the lambda is basically 'struct some_unique_internal_type { int foo; int bar; double baz; }' with an operator() overload
[23:02:30] <benh> Looks like my C++ situation isn't good :(
[23:02:33] <strcat> I think the way it'd be added to rust is changing lambda exprs to making unboxed lambdas
[23:02:35] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[23:02:45] <strcat> and then making them coerce to the borrowed closure type
[23:02:52] <strcat> but you could also use them generically
[23:02:57] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[23:03:13] <strcat> benh: well you know rust so you basically know the good part of C++...
[23:03:16] <strcat> just not the syntax ;p
[23:03:29] *** Quits: nkoep (nik@moz-E2B8D148.pool.mediaways.net) (Client exited)
[23:03:59] <benh> No, I mean my setup is that clang is using stdlib headers that don't compile with -std=c++1y
[23:04:16] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[23:04:23] <benh> and i'm just throwing my hands in the air and hoping it magically stops doing that if i try updating my packages in a week o so
[23:04:23] *** Quits: klzzvn (klzzvn@moz-7A3DCFCE.xnet.hr) (Ping timeout)
[23:04:45] <strcat> benh: ah, well you need libc++
[23:05:09] <strcat> libstdc++ is a pile of crap, even though gcc itself is good ;\
[23:05:22] <strcat> (gcc can actually use libc++ too, it's just a bit harder to invoke it that way)
[23:05:27] *** Quits: sellout (Adium@2917A62E.8B65BA63.1D2A2C57.IP) (Quit: Leaving.)
[23:07:25] *** Quits: victorporof (victorporo@125EF623.B2666F0E.66399531.IP) (Ping timeout)
[23:07:49] <veddan> libstdc++'s sso string __versa_string seems to have been there forever, but std::string is still refcounted
[23:08:04] <strcat> veddan: they can't switch it because it'd break the ABI
[23:08:14] <strcat> they've kept ABI compatibility for something like 7 years
[23:08:16] *** Quits: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Quit: Leaving)
[23:08:28] <o11c> if they break ABI for gcc 5, they'll probably switch
[23:08:35] <strcat> they have bigger problems than that though ;p
[23:08:46] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[23:08:50] <strcat> o11c: well the gcc ABI wouldn't break, they follow the itanium C++ ABI (even on x86/x86_64)
[23:08:53] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:09:12] <strcat> I guess you mean libgcc?
[23:09:30] <o11c> libstdc++ abi would break, but mostly I mean the fact that gcc has bugs in its ABI implementation that it can't fix without a break
[23:09:44] <veddan> what does c++11 and beyond say on refcounted strings?
[23:09:51] <o11c> if you're changing GCC ABI, might as well change libstdc++ also
[23:10:01] <o11c> veddan: it's pretty much forbidden
[23:10:22] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[23:10:28] <strcat> anyway libstdc++ is pretty bad all around
[23:10:30] <o11c> (technically, I think it *could* happen on the first call to *any* getter function - that would be CoR)
[23:10:33] <strcat> libc++ was written *as* a C++11 stdlib
[23:10:47] *** Quits: jadbaires (jadrian@moz-4DC2B114.dsl.telepac.pt) (Quit: Konversation terminated!)
[23:11:14] <strcat> so they didn't have to worry about an old ABI or old code
[23:11:35] *** Joins: victorporof (victorporo@125EF623.B2666F0E.66399531.IP)
[23:12:09] <benh> fwiw it's pretty much the existence of rust that got me to stop keeping up with new C++ developments while not actually using it for anything
[23:12:32] <o11c> see, for me it's the opposite
[23:12:44] <o11c> C++11 made me get up-to-date with Rust even though I'm not actually using it for anything
[23:12:44] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[23:13:46] <Denommus> I can't wait for Rust to be stable so I can convince my bosses to start a project on it
[23:15:52] *** Quits: drbawb (drbawb@moz-444F91EA.wi.res.rr.com) (Ping timeout)
[23:15:52] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[23:16:37] *** Quits: eibwen (kvirc@moz-544A7ACB.dip0.t-ipconnect.de) (Ping timeout)
[23:17:05] *** Joins: alkino (alkino@moz-5158FCA3.w92-151.abo.wanadoo.fr)
[23:17:24] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:17:59] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Ping timeout)
[23:18:22] <Matthias247> Denommus: for what kind of application?
[23:18:37] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[23:18:54] <Denommus> Matthias247: a game engine
[23:19:09] *** Quits: vmx (vmx@moz-7C0AC71F.pools.arcor-ip.net) (Quit: Leaving)
[23:19:26] <Denommus> I gotta go home
[23:19:33] *** Quits: Denommus (user@79485229.20CA00E6.AD91B79.IP) (Quit: going home)
[23:19:44] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:20:06] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:21:47] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:22:17] *** Quits: Kambfhase (quassel@moz-88236CC.travedsl.de) (Client exited)
[23:22:26] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Ping timeout)
[23:23:44] *** jorendorff is now known as jorendorff_away
[23:24:20] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[23:24:41] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[23:25:21] <Jemaclus> That escalated quickly.
[23:26:54] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[23:27:10] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[23:28:31] *** Quits: JanC (janc@moz-72D90F76.dsl.scarlet.be) (Connection reset by peer)
[23:29:07] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[23:30:11] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[23:30:59] *** Quits: hoverbear (hoverbear@moz-4B7160A1.wireless.uvic.ca) (Ping timeout)
[23:31:31] *** Joins: hoverbear (hoverbear@moz-18618393.cs.uvic.ca)
[23:31:48] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[23:38:27] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:38:37] *** Quits: astroch (astroch@moz-A3E2177C.dhcp.embarqhsd.net) (Ping timeout)
[23:39:03] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:39:07] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[23:39:13] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:40:07] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:40:20] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[23:40:53] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:41:07] *** Joins: twi (Adium@moz-86D1266E.lnse1.cht.bigpond.net.au)
[23:41:22] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[23:41:33] *** Joins: brendan (brendaneic@7D275E5E.369AB919.1C1BA5F7.IP)
[23:41:38] <speckle> Hmm, this is kind of a theoretical question, but I feel that it will be very relevant when Rust programs start getting complex enough.  You know how the OOP factory pattern is really just faking currying?  I'm wondering if Rust is functional enough to use currying, or will just end up using factories.
[23:42:17] <speckle> From a bit of googling, I read that currying can kind of be faked with macros, but I'm not sure if that's the way to go in this case.
[23:42:24] *** Quits: victorporof (victorporo@125EF623.B2666F0E.66399531.IP) (Ping timeout)
[23:42:35] <strcat> isn't the factory pattern more general than currying?
[23:42:56] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:43:00] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Ping timeout)
[23:43:14] <speckle> Ah, you have a point there.
[23:43:17] *** Quits: hoverbear (hoverbear@moz-18618393.cs.uvic.ca) (Quit: Taking a nap.)
[23:43:36] <speckle> I guess it'll be a mix, then.
[23:43:43] <strcat> speckle: atm rust is missing solid closures
[23:43:51] <speckle> Sorry, what's a solid closure?
[23:43:52] <strcat> so a lot of things you'd want to use closures for can't be done that way
[23:43:56] *** Quits: brendan (brendaneic@7D275E5E.369AB919.1C1BA5F7.IP) (Quit: brendan)
[23:44:01] <strcat> speckle: I mean 'solid' as in a great implementation
[23:44:04] <speckle> Ah
[23:44:11] <speckle> Well, is it worse than Java's closures?
[23:44:39] <strcat> the problems are different
[23:44:41] *** Joins: JanC (janc@moz-C91200FA.dsl.scarlet.be)
[23:44:43] <speckle> Good point
[23:44:50] <strcat> they aren't problems that exist in java because they're related to ownership
[23:44:57] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[23:45:03] <strcat> speckle: atm, rust has 2 kinds of closures
[23:45:10] <speckle> Ooh, interesting
[23:45:23] <strcat> borrowed closures (which can't outlive the declaration scope)
[23:45:31] <strcat> and procs (which are heap allocated and can only be called once)
[23:45:59] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[23:46:23] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Connection reset by peer)
[23:46:28] <speckle> Only called once? That's surprising but I guess it makes sense
[23:46:45] <speckle> That should create some very interesting patterns down the road, I imagine
[23:47:33] <speckle> Design patterns, that is
[23:48:15] <strcat> speckle: only allowing it to be called once means you can move out of the environment
[23:48:21] <speckle> Well, I guess that's one reason to use a factory in Rust - we'll have ProcFactories, hehe.
[23:49:00] <strcat> rust is missing a value-type closure that you can return, etc.
[23:49:24] <strcat> and I think if you started doing functional stuff like partial application, you'd need it
[23:49:26] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[23:49:50] <strcat> unless you stick with procs (which will be both inefficient from the allocation and restrictive due to the call once restriction)
[23:50:45] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:51:02] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[23:51:05] <speckle> I'm guessing procs will eventually be optimized, if they catch on in popularity.
[23:51:17] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Ping timeout)
[23:51:19] *** Joins: mib_q4d8c9 (Mibbit@moz-BB56F7AF.rezometz.org)
[23:51:22] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[23:51:22] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:51:24] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[23:51:29] <strcat> speckle: well they're already optimized
[23:51:31] *** Quits: twi (Adium@moz-86D1266E.lnse1.cht.bigpond.net.au) (Quit: Leaving.)
[23:51:32] <speckle> Oh.
[23:51:43] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[23:51:46] <dwrensha> strcat: can you explain what all the buzz is about "unboxed" closures?
[23:51:56] <speckle> But basically, Rust will need factories because memory management issues will prevent it from being as powerful as a traditional functional language.
[23:52:20] <strcat> speckle: well, at least until we get better closures
[23:52:23] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[23:52:27] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:52:42] <strcat> dwrensha: http://ix.io/aDf well, that was my C++14 example
[23:52:56] <strcat> dwrensha: [captures](parameters) { body } is a C++ closure
[23:53:01] <strcat> each one has a unique type
[23:53:02] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[23:53:05] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:53:22] <strcat> calling it uses static dispatch based on the type, it's basically just a unique struct overloading the () operator
[23:53:33] <strcat> so you can return them and pass them around by-value
[23:53:41] *** Quits: marianoguerra (marianogue@moz-7D7611BE.dip0.t-ipconnect.de) (Ping timeout)
[23:53:51] <speckle> Honestly, the combination of safety and manual memory management is already amazing.  I'm wary of complicating it too much with "better" closures, though I'm probably not skilled enough to judge how good of a decision it is.
[23:53:57] <strcat> for example in rust, you can call .map(closure) on an iterator
[23:54:13] <strcat> speckle: it will most likely get better closures
[23:54:15] <strcat> it's an open issue
[23:54:27] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:54:35] <strcat> dwrensha: but rust's closures are borrowed, so that map iterator is now tied to the stack frame where the closure was declared
[23:54:43] <ryeguy> are traits not aware of their own type? https://gist.github.com/rlepidi/de8f14f9477a95624aca
[23:54:52] <strcat> so you can't do something like 'return iter.map(|x| x * y);'
[23:55:25] <speckle> I'd prefer to err on the side of fewer features, but maybe I'm wrong...
[23:55:56] <strcat> speckle: it's a very visibly missing feature....
[23:56:06] <strcat> speckle: rust doesn't have a closure type you can call more than once and return from a function
[23:56:23] *** Quits: mib_q4d8c9 (Mibbit@moz-BB56F7AF.rezometz.org) (Quit: http://www.mibbit.com ajax IRC Client)
[23:56:39] <strcat> keeping the language small is nice, but not when there's a massive inconvenience caused by it
[23:56:44] <speckle> I guess...
[23:56:57] <strcat> speckle: it's certainly more important than many features rust already has
[23:57:03] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[23:57:14] <strcat> more important than default type parameters, more important than vector patterns, etc.
[23:57:23] *** Joins: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP)
[23:57:48] <strcat> if you can't return closures (since they can't outlive the declaration scope), then you can barely do functional programming
[23:58:17] *** Quits: cgaebel (clark@ADA4DDE2.290DF317.EE6E63A5.IP) (Input/output error)
[23:58:27] <speckle> I guess pattern matching isn't really functional programming, it's just a nice feature that they coincidentally happen to have
[23:59:21] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[23:59:25] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[23:59:59] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
