[00:02:32] <brson> edunham: done
[00:02:43] <edunham> brson: thanks
[00:05:03] <edunham> oh, and you updated the slave list with the new windows ami too -- thanks!
[01:14:31] <edunham> whoa the centos's motd is pretty impressive
[01:14:59] <edunham> it's like "here, have some ascii art!"
[01:18:50] <edunham> alrighty, "The buildmaster appears to have (re)started correctly.
[01:18:52] <edunham> "
[01:20:39] <edunham> I updated the generic linux, android, and ancient centos AMIs with the new cert. brson updated the Windows ami and Mac builders with it. Dave updated the bitrig and freebsd builders. I restarted Buildbot on the prod buildmaster.
[01:20:52] <edunham> acrichto: hypothetically, if you kick that PR again it might actually work this time.
[01:24:47] <acrichto> edunham: ok!
[01:25:47] * edunham carefully refrains from making overly confident claims about aything right now
[01:27:23] <edunham> acrichto: https://github.com/rust-lang/rust/pull/27066#issuecomment-122143522
[01:35:14] <acrichto> edunham: looks liek stunnel is still failng to start
[01:52:32] <edunham> new hypothesis: stunnel isn't starting because, the default security group cannot route to the buildmaster because... well, i do not know why
[01:52:51] <edunham> once I get sensible logging set up, I'll be able to see what buildmaster's old IP was...
[01:52:54] * edunham double checks
[01:53:13] <edunham> ok so the security group for rust-non-vpc-slave can talk only to 54.215.17.149/32
[01:53:45] <edunham> and our friend the buildmaster is over at 54.241.248.193
[01:56:11] * edunham adds rules to tell the slaves' group it's allowed to talk to the buildmaster, to see what happens
[01:56:42] <edunham> I guess to make Buildbot restart the slaves, I'll have to stop it then start it again. 
[01:56:59] <edunham> more usefully, stopping Buildbot will not actually make anything worse than it was before.
[01:59:01] <brson> edunham: buildslaves talk to buildmaster over the public internet so the security settings don't apply there (i think)
[01:59:14] <brson> edunham: yes, stop then restart buildbot to restart slaves
[01:59:33] <brson> edunham: buildbot will sometimes fail to shutdown slaves (especially if they haven't finished starting up yet)
[01:59:38] <brson> in those cases you just have to kill buildbot
[02:00:10] <edunham> so just killall-ing 'buildbot' won't cause any lasting damage?
[02:00:28] <brson> edunham: heh. not *usually*. especially if it's just sitting there waiting on i/o to shut down
[02:00:37] <brson> i've definitely corrupted its db before though
[02:00:41] <edunham> that'll nuke a pile of stunnels, too
[02:01:11] * edunham gives it a minute or two more to shut down "gracefully"
[02:02:46] <edunham> err... dare i ask when buildmaster was last rebooted, or what would happen if that occurred?
[02:02:50] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:03:01] * edunham noticed some processes from 2014, and its uptime is 291 days
[02:04:05] <brson> edunham: idk when it was rebooted, nor what would happen if it was... probably somebody would have to manually start stunnel, buildbot and homu
[02:04:47] <brson> edunham: some of the startup may be set as cronjobs for either rustbuildo or ubuntu user
[02:04:50] <edunham> ok, but nothing too crucial lives in ram?
[02:04:58] <brson> no, it is all recoverable
[02:05:08] <edunham> that makes things less terrifying
[02:06:19] <brson> you might make a snapshot ami first if you do reboot
[02:08:17] <edunham> yes, i'll do that -- shouldn't need a reboot, though
[02:08:23] <edunham> and the stunnel start stuff is in the crontab
[02:08:27] <edunham> set to run on reboot
[02:08:39] <edunham> so we might be ok-ish if aws does things to it (though that seems unlikely given the uptime)
[02:09:02] <brson> mac6 is connected after restarting stunnel and buildslave
[02:11:36] <brson> i restarted stunnel+buildslave on all the macs
[02:12:35] <brson> i'm going home now. don't worry if you don't get it resolved tonight
[02:12:38] <brson> gl
[02:12:39] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:13:00] <edunham> thanks
[02:13:16] * edunham resets mac again to get more wifi
[02:18:59] <edunham> okay I'm about to hop on next plane. the mac builders are playing nice with Buildbot right now, which strongly suggests that the certs are right. if the EC2 builders are still screwy when i get home, I'll try more troubleshooting, but I suspect it may just take some github interaction to remind bors he's supposed to start them.
[08:06:11] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:27:31] *** Quits: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com) (Quit: Connection closed for inactivity)
[08:59:06] *** Quits: aji (alex@prickle.ajitek.net) (Quit: Segmentation fault (aji dumped))
[08:59:22] *** Joins: aji (alex@prickle.ajitek.net)
[09:24:21] *** Joins: Elaine (Elaine@moz-35s2fm.members.linode.com)
[11:05:55] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:13:03] *** Joins: gleb_ (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[11:13:27] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[12:19:50] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[13:01:39] *** Quits: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com) (Ping timeout: 121 seconds)
[13:03:18] *** Joins: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com)
[16:30:33] *** Joins: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com)
[16:30:33] *** ChanServ sets mode: +ao vadimcn vadimcn
[17:03:28] <edunham> Manishearth: thanks for kicking Bors and keeping an eye on stuff overnight :)
[17:16:00] <Manishearth> edunham: np :)
[18:06:03] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[18:06:03] *** ChanServ sets mode: +ao brson brson
[19:46:25] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[20:28:53] <vadimcn> acrichto: ping
[20:28:57] <acrichto> vadimcn: pong
[20:29:26] <vadimcn> Regarding override of _Unwind_Resume: the names of libcalls live an Subtarget class, which seems to be per-function.
[20:29:43] <acrichto> oh eew
[20:29:50] <vadimcn> I guess one way to override it is to place override code in new_fn_ctxt()
[20:30:04] <vadimcn> would that be ok?
[20:30:39] <acrichto> I think?
[20:30:48] <acrichto> I may not be the best to know though
[20:30:53] <acrichto> from my perspective if it works it works :P
[20:31:26] <vadimcn> well, that makes code uglier :)
[20:32:17] <vadimcn> the other option is to keep _Unwind_Resume name, but then we have to be very careful during linking so that we don't pick that symbol from libgcc
[20:33:04] <acrichto> yeah :(
[20:55:44] <acrichto> restarting buildbot
[21:40:28] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[21:43:57] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[22:56:09] *** Quits: gleb_ (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:28:45] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
