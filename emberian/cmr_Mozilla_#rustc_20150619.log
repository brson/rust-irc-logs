[00:18:37] *** Joins: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP)
[01:10:39] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Server shutdown)
[01:10:39] *** Quits: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com) (Server shutdown)
[01:10:39] *** Quits: Eridius (kevin@moz-6opvqs.us) (Server shutdown)
[01:10:39] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Server shutdown)
[01:10:40] *** Quits: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca) (Server shutdown)
[01:10:40] *** Quits: Dabo (dabo@znc.dabo.guru) (Server shutdown)
[01:10:40] *** Quits: mystor (sid79584@moz-761b3h.charlton.irccloud.com) (*.net *.split)
[01:10:40] *** Quits: nmatsakis (sid381@moz-32a8b5.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[01:10:40] *** Quits: tekacs (tekacs@moz-q64vt8.com) (*.net *.split)
[01:10:40] *** Quits: aturon (sid379@moz-hhfc8n.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[01:10:40] *** Quits: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP) (*.net *.split)
[01:10:40] *** Quits: richo (richo@moz-slrmp8.fs1g.619c.a880.2604.IP) (*.net *.split)
[01:10:40] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (*.net *.split)
[01:10:40] *** Quits: pnkfelix (sid344@moz-nnnecs.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[01:10:40] *** Quits: reem (sid78397@moz-octfcu.brockwell.irccloud.com) (*.net *.split)
[01:10:40] *** Quits: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com) (*.net *.split)
[01:10:40] *** Quits: nrc (sid365@moz-3taf2s.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[01:10:40] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (*.net *.split)
[01:10:40] *** Quits: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net) (*.net *.split)
[01:10:40] *** Quits: JustAPerson (JustAPerson@moz-un628q.moe) (*.net *.split)
[01:10:40] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (*.net *.split)
[01:10:40] *** Quits: kmehall (quassel@moz-i98f9d.kevinmehall.com) (*.net *.split)
[01:10:40] *** Quits: geofft (geofft@moz-i01917.mit.edu) (*.net *.split)
[01:10:40] *** Quits: Sergio (Sergio@moz-23roph.bz) (*.net *.split)
[01:10:40] *** Quits: lahwran (lahwran@lahwran.net) (*.net *.split)
[01:10:40] *** Quits: sfackler (sfackler@moz-23t.qf9.243.162.IP) (*.net *.split)
[01:10:40] *** Quits: whipsch (whipsch@moz-bl4i0b.from.irc.camp) (*.net *.split)
[01:10:42] *** Joins: Eridius (kevin@moz-6opvqs.us)
[01:10:46] *** Quits: Eridius (kevin@moz-6opvqs.us) (Server shutdown)
[01:10:46] *** Quits: doener (doener@moz-eku96m.hsi08.unitymediagroup.de) (Server shutdown)
[01:10:46] *** Quits: Manishearth (manishearth@moz-uc30rq.anapnea.net) (Server shutdown)
[01:10:46] *** Quits: globin (globin@moz-isrgf8.de) (Server shutdown)
[01:10:46] *** Quits: kimundi (kimundi@moz-or1.1hh.188.87.IP) (Server shutdown)
[01:10:46] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Server shutdown)
[01:10:46] *** Quits: eddyb (eddyb@moz-4q5.hlc.26.188.IP) (Server shutdown)
[01:10:46] *** Quits: klutzy (not@moz-0t8.piq.68.115.IP) (Server shutdown)
[01:10:46] *** Quits: stl (stl@moz-sa1.66b.15.176.IP) (Server shutdown)
[01:11:22] *** Joins: cmr (cmr@moz-35s2fm.members.linode.com)
[01:11:23] *** Joins: Dabo (dabo@znc.dabo.guru)
[01:11:23] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[01:11:23] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[01:11:23] *** Joins: whipsch (whipsch@moz-bl4i0b.from.irc.camp)
[01:11:25] *** Joins: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP)
[01:11:25] *** Joins: richo (richo@moz-slrmp8.fs1g.619c.a880.2604.IP)
[01:11:25] *** Joins: kimundi (kimundi@moz-or1.1hh.188.87.IP)
[01:11:39] *** Joins: JustAPerson (JustAPerson@moz-un628q.moe)
[01:11:44] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[01:11:44] *** Joins: lahwran (lahwran@lahwran.net)
[01:11:48] *** Joins: Sergio (Sergio@moz-g1j.0qd.199.198.IP)
[01:11:54] *** fripp.mozilla.org sets mode: -no doener
[01:11:54] *** fripp.mozilla.org sets mode: -t 
[01:11:54] *** ircservices.mozilla.org sets mode: +nrst 
[01:11:54] *** ChanServ changes topic to 'discussion of rust compiler internals | Logs https://botbot.me/mozilla/rustc/'
[01:12:17] *** Joins: kmehall (quassel@moz-i98f9d.kevinmehall.com)
[01:12:19] *** ChanServ sets mode: +qo huon huon
[01:12:48] *** Joins: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com)
[01:13:10] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[01:13:27] *** Joins: reem (sid78397@moz-octfcu.brockwell.irccloud.com)
[01:14:21] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[01:14:28] *** Joins: mystor (sid79584@moz-761b3h.charlton.irccloud.com)
[01:15:43] *** Joins: Eridius (kevin@moz-6opvqs.us)
[01:15:43] *** Joins: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com)
[01:15:43] *** ChanServ sets mode: +qo acrichto acrichto
[01:15:45] *** Joins: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca)
[01:15:47] *** Joins: Manishearth (manishearth@moz-uc30rq.anapnea.net)
[01:15:47] *** ChanServ sets mode: +ao Manishearth Manishearth
[01:15:47] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[01:15:48] *** ChanServ sets mode: +qo brson brson
[01:15:49] *** Joins: globin (globin@moz-isrgf8.de)
[01:15:51] *** Joins: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net)
[01:18:47] *** Joins: stl (stl@moz-sa1.66b.15.176.IP)
[01:19:00] *** Joins: nmatsakis (sid381@moz-32a8b5.0j4i.jtu0.0101.2620.IP)
[01:20:04] *** Joins: pnkfelix (sid344@moz-nnnecs.0j4i.jtu0.0101.2620.IP)
[01:20:04] *** ChanServ sets mode: +ao pnkfelix pnkfelix
[01:20:57] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[01:21:10] *** Joins: aturon (sid379@moz-hhfc8n.0j4i.jtu0.0101.2620.IP)
[01:21:11] *** ChanServ sets mode: +o aturon
[01:21:16] *** Joins: nrc (sid365@moz-3taf2s.0j4i.jtu0.0101.2620.IP)
[01:21:17] *** ChanServ sets mode: +qo nrc nrc
[01:52:04] *** kimundi is now known as zz_kimundi
[01:53:49] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[02:04:53] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:05:59] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[02:05:59] *** ChanServ sets mode: +qo brson brson
[02:09:16] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:15:49] *** Joins: geofft (geofft@moz-i01917.mit.edu)
[02:25:17] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[02:27:37] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[02:40:36] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:47:01] *** Quits: zz_kimundi (kimundi@moz-or1.1hh.188.87.IP) (Ping timeout: 121 seconds)
[02:48:27] *** Joins: zz_kimundi (kimundi@moz-qkt.503.188.87.IP)
[02:48:33] *** zz_kimundi is now known as kimundi
[03:22:38] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:42:32] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Connection closed)
[06:07:24] *** Quits: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP) (Connection closed)
[07:16:56] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[07:17:16] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[07:41:19] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[07:46:13] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Quit: leaving)
[07:47:50] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[08:03:46] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[09:39:28] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[09:59:11] *** Joins: doener_ (doener@moz-fnh.n4j.147.5.IP)
[10:02:10] *** Quits: doener (doener@moz-eku96m.hsi08.unitymediagroup.de) (Ping timeout: 121 seconds)
[10:51:08] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Quit: leaving)
[10:51:45] *** Joins: arielb1 (Ariel@moz-1uf694.red.bezeqint.net)
[10:54:49] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[11:16:59] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:54:55] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[12:35:44] <doener_> aatch: any idea about this? https://github.com/rust-lang/rust/pull/26411#issuecomment-113501222
[12:35:58] *** doener_ is now known as doener
[12:39:13] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[12:40:29] <aatch> doener, is it possible to disable optimisations for the test?
[12:41:31] <doener> aatch: only thing I know of would be -Cno-prepopulate-passes, but that kills inlining as well, and setting up the whole pipeline myself seems wrong
[12:42:52] <aatch> doener, yeah. removing the second call is probably fine then.
[12:43:41] <doener> hm, or... let me check how much trouble it would be to support ignore-optimized for tests...
[12:47:54] <doener> too much :-)
[12:57:09] <aatch> doener, I finally got my likely/unlikely stuff done: https://github.com/rust-lang/rust/pull/26429
[12:57:48] <aatch> doener, amusingly, only the first commit is actually implementing the intrinsics, the other 7 are making it so that actually have an effect.
[12:58:16] <doener> aatch: yay! Will have a look later!
[12:59:03] <aatch> doener, I'm quite proud of myself that I got `if unsafe { likely(foo } { ... }` working properly.
[13:00:23] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[13:18:01] <doener> aatch: what was hard about that? (sorry, I'm really clueless)
[13:18:28] <aatch> doener, blocks are classified as RvalueDpsExpr
[13:18:54] <aatch> doener, which means the result of the final expr always has to go through a stack slot.
[13:19:03] <aatch> (or some other destination, I guess).
[13:19:19] <aatch> doener, but LLVM is really picky about the expect intrinsic.
[13:19:42] <doener> ah, dps for immediate values, my old arch enemy
[13:19:45] <aatch> doener, basically you have to put the return value from the intrinsic straight into the branch for it to actually work.
[13:20:10] * doener still loathes the store/load pair you get for immediate return values for function calls
[13:20:24] <aatch> doener, that's less common with my patch!
[13:20:25] <doener> or wait... did you by chance kill that as well?
[13:20:33] <doener> \o/
[13:21:17] <aatch> doener, it still happens if the return type has a destructor, but if you're just returning an int or something, it'll pick up that case.
[13:23:21] <aatch> doener, I have some tweaks to do to intrinsic translation, since 90% of the intrinsics don't actually need a stack slot, but I figured I'd leave it out of this PR.
[13:24:42] <aatch> doener, amusingly, this means that right now we'll often have stores to a stack slot that is then never read from.
[13:31:02] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[14:40:56] *** ChanServ sets mode: +o nmatsakis
[15:24:39] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[15:59:21] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[15:59:25] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[16:06:34] *** Quits: eddyb (eddyb@moz-4q5.hlc.26.188.IP) (Connection closed)
[16:09:45] *** Joins: eddyb (eddyb@moz-t5d.8f9.121.86.IP)
[16:29:21] *** Joins: eddyb_ (eddyb@moz-m7g.8f9.121.86.IP)
[16:30:47] *** Quits: eddyb (eddyb@moz-t5d.8f9.121.86.IP) (Ping timeout: 121 seconds)
[16:31:53] *** Joins: eddyb__ (eddyb@moz-2pq.pug.25.188.IP)
[16:34:01] *** Quits: eddyb_ (eddyb@moz-m7g.8f9.121.86.IP) (Ping timeout: 121 seconds)
[16:34:31] *** Joins: eddyb (eddyb@moz-f1f.r26.26.188.IP)
[16:35:34] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[16:35:37] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[16:36:05] *** Quits: eddyb__ (eddyb@moz-2pq.pug.25.188.IP) (Ping timeout: 121 seconds)
[16:37:32] *** simukis is now known as nagisa
[16:38:05] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[16:41:11] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[16:41:41] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[16:44:54] *** Quits: eddyb (eddyb@moz-f1f.r26.26.188.IP) (Ping timeout: 121 seconds)
[16:49:46] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[16:50:35] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[17:04:15] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:13:53] *** Joins: eddyb (eddyb@moz-5ad.8f9.121.86.IP)
[17:15:46] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:15:46] *** ChanServ sets mode: +qo brson brson
[17:41:59] <brson> i can't join #rust-libs because ssl
[17:59:27] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[18:35:49] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[19:02:40] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[20:10:49] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[21:38:30] <nmatsakis> so I'd like to find somebody to review https://github.com/rust-lang/rust/pull/26370 -- I asked pnkfelix but he's pretty overloaded...
[22:07:39] <cmr> nmatsakis: I've read the patch as closely as I can, and it looks good to me based on my understanding of that area, but my understanding of that area was quite small to begin with. The tests look good.
[22:28:07] *** Joins: eddyb_ (eddyb@moz-5ad.8f9.121.86.IP)
[22:32:41] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:33:17] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:33:30] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[22:36:22] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:05:37] *** Quits: arielb1 (Ariel@moz-1uf694.red.bezeqint.net) (Quit: Ex-Chat)
[23:16:05] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
