[00:01:38] <brandonson> dpc: something similar to C++'s placement new was being implemented, but using the box keyword.  Was wondering if it's actually implemented now because it wasn't last time I checked.
[00:02:17] <benh> I don't think so, at least I've not seen anyone use it
[00:02:22] <dpc> I don't know what placement new is, so can't help you.
[00:02:24] <benh> it compiles but...
[00:02:25] *** Joins: chc4 (chc4@moz-29F9F3F1.hsd1.ma.comcast.net)
[00:02:37] <benh> rusti: &box 42 == &~42
[00:02:38] -rusti- true
[00:02:45] <benh> rusti: &box(Rc) 42 == &Rc::new(42)
[00:02:48] -rusti- pastebinned 14 lines of output: http://ix.io/bwO
[00:02:53] *** Joins: sp3d (sp3d@6361F3B1.19CD1E54.8354FB35.IP)
[00:02:59] <benh> how was that supposed to work
[00:03:00] <dpc> Guys, seriously, how do I match nexted enums...
[00:03:01] <benh> hi sp3d
[00:03:07] <dpc> I get weird behavior out of the blue.
[00:03:35] <dpc> https://github.com/dpc/rustyhex/blob/master/src/creature.rs#L263
[00:03:47] <nieksand> dpc: at least in c++ land.... a normal call to new does both memory allocation and invokes the ctor.  With placement new, you allocate the memory separately and the placement new operator creates the instance at the memory address specified
[00:03:52] <dpc> rustc is so easy to confuse inner Variant with just variable name.
[00:03:57] <brandonson> rusti: &box(std::rc::Rc) 42 == &std::rc::Rc::new(42)
[00:03:58] -rusti- <anon>:11:14: 11:25 error: unresolved name `std::rc::Rc`.
[00:03:58] -rusti- <anon>:11         &box(std::rc::Rc) 42 == &std::rc::Rc::new(42)
[00:03:58] -rusti-                        ^~~~~~~~~~~
[00:03:58] -rusti- error: aborting due to previous error
[00:03:58] -rusti- playpen: application terminated with error code 101
[00:04:33] <benh> dpc: if that plain ends up not working, you could use Move(x) if x == Forward etc...
[00:04:35] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:04:35] *** ChanServ sets mode: +ao dherman dherman
[00:04:36] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:04:42] <dpc> nieksand: I see. I'm not aware of anything like this in Rust. But I'm a noob.
[00:04:44] <benh> but it should work!
[00:04:48] <brandonson> rusti: &box(std::rc::Rc::<int>) 42 == &std::rc::Rc::new(42)
[00:04:49] -rusti- <anon>:11:14: 11:32 error: unresolved name `std::rc::Rc`.
[00:04:49] -rusti- <anon>:11         &box(std::rc::Rc::<int>) 42 == &std::rc::Rc::new(42)
[00:04:50] -rusti-                        ^~~~~~~~~~~~~~~~~~
[00:04:50] -rusti- error: aborting due to previous error
[00:04:50] -rusti- playpen: application terminated with error code 101
[00:04:57] <dpc> benh: But it too easy to get wrong.
[00:05:02] <dpc> One typo and your cooked.
[00:05:06] <benh> yeah.
[00:05:07] <dpc> you're*
[00:05:15] <dpc> Even if you
[00:05:31] <benh> haskell makes you spell variants capitalized
[00:05:32] <dpc> don't import the Variant into current namespace you're cooked.
[00:05:39] <benh> but that wasn't very popular here ;)
[00:06:04] <benh> dpc: maybe always use variant names qualified in patterns?
[00:06:32] <dpc> That is some idea, but well.. I imported these names for a reason.
[00:07:17] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[00:07:22] *** Quits: brandonson (SingingBoy@moz-39C19C5F.bchsia.telus.net) (Connection reset by peer)
[00:08:16] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[00:09:03] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[00:09:36] <nieksand> embarrassingly easy question... but poking through std::slice docs hasn't given me love yet....  How can I accomplish something like: 
[00:09:39] <nieksand>     let b : [u32, ..5] = [10,20,30,40,50];     let c = b[2:4];
[00:09:47] <nieksand> (copy a specified range sans for loop)
[00:09:57] *** Quits: rootnode (rootnode@moz-AB0656DE.pools.arcor-ip.net) (Ping timeout)
[00:10:21] <kimundi> nieksand: b.slice(2,4) to get a &[u32]
[00:10:33] <nieksand> does that give a deep copy?
[00:10:41] <kimundi> no, its just a reference
[00:11:04] <kimundi> for a copy you'd need code generic over fixed sized arrays, which we can't currently epxress in Rust
[00:11:20] <kimundi> (That is, to get a [u32, ..2])
[00:11:41] <nieksand> hmm.
[00:11:43] <kimundi> You can get a allocated ~[u32] though, which would be a copy
[00:11:45] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[00:11:50] <dpc> Are matches resovled in order?
[00:12:19] <nieksand> kimundi: thanks.  I'll ponder it a bit.  
[00:12:28] <kimundi> dpc: resolve like import, or resolve like "in which order do the match arms run" ?
[00:12:39] <dpc> latter
[00:12:51] <kimundi> top to botton
[00:14:03] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:14:03] *** ChanServ sets mode: +ao dherman dherman
[00:14:51] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Input/output error)
[00:14:52] *** Joins: brandonson (SingingBoy@moz-39C19C5F.bchsia.telus.net)
[00:15:26] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[00:18:30] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Ping timeout)
[00:19:40] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[00:20:32] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[00:22:14] *** Quits: willingc (willingc@moz-F095E013.san.res.rr.com) (Quit: Leaving...)
[00:24:03] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:25:59] *** Joins: cschneid (cschneid@moz-E05EFA25.hlrn.qwest.net)
[00:26:23] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:27:53] *** Joins: patpat (patpat@moz-21619C28.as13285.net)
[00:29:06] *** Joins: mr_boo (Mibbit@830906D4.BAC5B367.CC1A2609.IP)
[00:29:25] <ChrisMorgan> Working in Python. And suddenly I hit a problem where I say, "Oh! for Rust enums!"
[00:29:33] <benh> I miss Either
[00:29:47] *** Quits: nieksand (Mibbit@75E220EA.D4AB3A26.7E041973.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:30:56] * ChrisMorgan needs to write a formal RFC for https://github.com/mozilla/rust/issues/8277#issuecomment-35581566
[00:31:08] <ChrisMorgan> If we had something like that, no one would miss Either ever again.
[00:31:21] <benh> true
[00:31:43] <sp3d> that would be super handy
[00:31:44] *** Quits: mr_boo (Mibbit@830906D4.BAC5B367.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:32:40] *** Joins: cloudpirate (Mibbit@moz-862B8CAD.dsl.teksavvy.com)
[00:33:14] <ChrisMorgan> But just at present I'm busy debugging a Django signals issue with lots of gnarly metaclass code that I wrote and richly deserve to have to fix :P.
[00:33:19] *** Joins: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com)
[00:33:57] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[00:34:06] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[00:34:33] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[00:34:33] *** ChanServ sets mode: +ao brson brson
[00:36:25] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[00:36:52] *** Joins: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net)
[00:38:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:38:03] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Connection reset by peer)
[00:38:42] *** Joins: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com)
[00:39:05] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:39:06] *** Quits: rylev (rylev@2445D334.A72DA0A8.2DB0BBA1.IP) (Client exited)
[00:39:27] *** Joins: rylev (rylev@2445D334.A72DA0A8.2DB0BBA1.IP)
[00:39:44] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:40:00] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[00:40:00] *** ChanServ sets mode: +ao brson brson
[00:41:07] *** Quits: rylev (rylev@2445D334.A72DA0A8.2DB0BBA1.IP) (Ping timeout)
[00:41:40] *** Quits: ksf (ksf@moz-7E36C1D7.adsl.hansenet.de) (Ping timeout)
[00:41:42] *** Joins: ksf (ksf@moz-42E0D8E.adsl.hansenet.de)
[00:44:44] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[00:45:15] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[00:45:45] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:46:18] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:47:03] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140405030204])
[00:47:57] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[00:48:10] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[00:48:47] *** Joins: EA (EA@D9160654.9EA65473.DDE5D3F6.IP)
[00:51:05] *** Quits: chc4 (chc4@moz-29F9F3F1.hsd1.ma.comcast.net) (Ping timeout)
[00:52:07] *** Quits: radford (Adium@moz-AC76BE6B.dhcp.mtpk.ca.charter.com) (Ping timeout)
[00:54:27] *** Quits: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:55:42] <meyer> rusti: None == None
[00:55:42] -rusti- <anon>:11:9: 11:21 error: cannot determine a type for this bounded type parameter: unconstrained type
[00:55:42] -rusti- <anon>:11         None == None
[00:55:42] -rusti-                   ^~~~~~~~~~~~
[00:55:43] -rusti- playpen: application terminated with error code 101
[00:56:29] *** Joins: chc4 (chc4@moz-29F9F3F1.hsd1.ma.comcast.net)
[00:58:37] <tyoverby> :q
[00:58:42] *** Quits: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com) (Ping timeout)
[00:58:42] *** Quits: tyoverby (tyoverby@73D4AA0F.5BB0586B.11F8506F.IP) (Quit: leaving)
[00:58:45] *** Quits: cloudpirate (Mibbit@moz-862B8CAD.dsl.teksavvy.com) (Quit: http://www.mibbit.com ajax IRC Client)
[00:59:07] *** kimundi is now known as zz_kimundi
[01:00:01] *** Quits: dwsarber (Mibbit@moz-FB4175B2.ptld.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:01:56] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[01:02:19] <strcat> rusti: 2
[01:02:19] -rusti- 2
[01:02:22] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[01:03:01] *** Joins: netoarmando (textual@2588BEE5.83420AC4.C7EA744A.IP)
[01:04:49] *** Joins: andelf (fledna@3AF7F96C.2D1119B6.1CD28F1D.IP)
[01:04:53] <strcat> ugh, I really hate POSIX-style error handling
[01:05:05] <strcat> if only everything had used the linux conventions ;s
[01:05:29] <strcat> checking for -1 and then errno is such a PITA and stupid TLS errno everywhere is wasteful
[01:05:42] *** Quits: q66 (q66@moz-7B0E449B.range81-129.btcentralplus.com) (Quit: Leaving)
[01:05:46] *** Joins: herro (Mibbit@AB5E77A5.80BB6BFD.DDE5D3F6.IP)
[01:06:03] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[01:06:13] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[01:06:19] *** Parts: EA (EA@D9160654.9EA65473.DDE5D3F6.IP) ()
[01:07:37] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[01:07:39] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[01:09:19] *** Joins: aperos (appos@moz-1689688F.dyn.optonline.net)
[01:10:38] *** Quits: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:10:54] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[01:11:42] *** Quits: judder (maradukewa@BD9E6B94.126EFFE1.78E362FE.IP) (Ping timeout)
[01:14:44] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:15:03] <meyer> I want a function like subslice_offset (a method of StrSlice), but for generic slices. I'd like to take a reference to an element (returned by get() or just indexing), and find the offset of it into a slice. I can't find anything like this so far. Should I go ahead and write this myself?
[01:15:23] <meyer> And, if so, I should be using http://static.rust-lang.org/doc/master/rustc/lib/llvm/llvm/ffi.LLVMABISizeOfType.html , correct?
[01:15:47] <meyer> Or is there a nicer wrappeR?
[01:15:50] <meyer> *wrapper
[01:16:25] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[01:17:53] *** Quits: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net) (Client exited)
[01:19:03] *** Joins: derek_c (derek@moz-3AE0B005.cit.cornell.edu)
[01:19:16] <meyer> Or can I do arithmetic on raw pointers?
[01:19:26] <derek_c> how do you get a C string from a byte array?
[01:19:30] <derek_c> &[u8]
[01:19:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:19:51] <meyer> to_c_str ?
[01:19:53] <meyer> http://static.rust-lang.org/doc/master/std/c_str/trait.ToCStr.html
[01:19:59] <meyer> "impl<'a> ToCStr for &'a [u8]"
[01:20:05] <derek_c> ah, I see
[01:20:08] <derek_c> thanks!
[01:20:11] <meyer> No problem.
[01:20:17] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:20:43] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:21:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:22:34] *** Joins: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com)
[01:24:34] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:25:50] *** Quits: leowoe (Leo@moz-8E46B918.dip0.t-ipconnect.de) (Quit: Leaving.)
[01:27:51] *** Joins: andrew-d_w (andrew-d_w@moz-C25EA15A.hsd1.ca.comcast.net)
[01:29:41] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:30:22] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:30:55] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[01:31:41] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[01:33:27] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:34:20] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[01:35:00] *** Parts: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) ()
[01:36:35] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[01:36:38] *** Joins: RustyNails (Mibbit@575CB6ED.87CA334A.DDE5D3F6.IP)
[01:38:58] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:39:49] <Eridius> benh: glob("foo/bar/.?") should in fact match ..
[01:40:00] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:40:39] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:41:07] *** Parts: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) ()
[01:41:16] *** Quits: andrew-d_w (andrew-d_w@moz-C25EA15A.hsd1.ca.comcast.net) (Input/output error)
[01:41:52] *** Quits: jadbaires (jadrian@moz-6CEE8AB4.dsl.telepac.pt) (Quit: Konversation terminated!)
[01:44:20] *** Joins: cdleary (cdleary@moz-66F32CDF.hsd1.ca.comcast.net)
[01:45:09] *** Joins: Nekit1234007_ (Nekit12340@D393484.75672F1E.4707F662.IP)
[01:45:21] <aperos> I'm getting compile errors for compiling the coreutils repo from github (still...)....."error: unresolved import: could not find `libc` in `std`. error: unresolved import: could not find `libc` in `std`."  they're attempting to call libc within a macro. Their travis-cl doesn't run into this and I have nightly installed. Any clues?
[01:45:30] *** Joins: jga9je (Mibbit@A4A9981F.2F87036F.DDE5D3F6.IP)
[01:45:43] *** Quits: Nekit1234007 (Nekit12340@F5C8AC37.75672F1E.4707F662.IP) (Ping timeout)
[01:46:02] <strcat> aperos: libc became a crate
[01:46:02] <aperos> copied the error a little incorrectly ...."unsafe { ::std::libc::exit($exitcode as ::std::libc::c_int); }"
[01:46:25] <cdleary> hey all, I’m kind of trailing on the version bumps — if I used to have a managed-box-self method, where in the body I return a value that takes another reference to the managed box, how do I do that kind of thing now that managed-box-self has been removed? break it into an external function, or some other fanciness?
[01:47:24] <derek_c> how do you get a byte array from a c_char pointer and a size (of the C string)?
[01:47:49] <derek_c> I found from_c_char, but it doesn't consider size
[01:48:13] <strcat> derek_c: is it a C string (null terminated) or do you have a size?
[01:48:50] <strcat> there's buf_as_slice/mut_buf_as_slice
[01:48:53] <strcat> if you don't want to copy
[01:50:30] <derek_c> strcat: yes, I have a size. it's not necessarily null-terminated
[01:50:59] <ruzu> so, who would i have to pay, and how much would they want, to put hyphenated identifiers in rust (and a few other symbols such as for lispy earmuffing)?
[01:51:10] <ruzu> i can maybe put a tenner on it
[01:51:10] <derek_c> buf_as_slice seems to work. thanks!
[01:51:14] *** Quits: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com) (Ping timeout)
[01:51:21] <aperos> strcat: so i should add a "extern crate libc" in there
[01:51:39] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:51:44] *** Joins: __eric__87755 (eric@moz-81F7C18C.lightspeed.clmasc.sbcglobal.net)
[01:51:44] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:51:53] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[01:52:54] <strcat> ruzu: bit too late for that ;P, x-y is a valid expression doing x - y
[01:55:31] *** Joins: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net)
[01:58:31] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[02:01:47] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:04:40] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[02:06:21] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Ping timeout)
[02:07:52] *** Quits: Earnestly (earnest@moz-2C691159.dyn.plus.net) (Ping timeout)
[02:08:05] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:08:21] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[02:08:30] *** Quits: jga9je (Mibbit@A4A9981F.2F87036F.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:09:51] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:09:51] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Connection reset by peer)
[02:10:02] *** Quits: nightpool|away (nightpool@moz-7CAAC068.wi.res.rr.com) (Ping timeout)
[02:10:25] <ruzu> https://www.youtube.com/watch?v=wagkBedzwI8
[02:10:27] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[02:11:35] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:12:23] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[02:13:18] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[02:13:46] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[02:14:24] *** Joins: nightpool|away (nightpool@moz-7CAAC068.wi.res.rr.com)
[02:15:09] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[02:15:25] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:15:35] <carllerche> Are there any differences in terms of copying / moving in the two cases (lines 36 and 37) here: https://gist.github.com/carllerche/1199507e23d7067a6863
[02:16:20] *** Quits: cschneid (cschneid@moz-E05EFA25.hlrn.qwest.net) (Client exited)
[02:16:44] *** Joins: cschneid (cschneid@moz-E05EFA25.hlrn.qwest.net)
[02:17:05] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:17:11] <strcat> carllerche: not really, both are large so they're returned via the caller passing an out pointer and the callee writing to it
[02:17:16] <strcat> moves == shallow copies
[02:17:38] <strcat> nothing has a destructor (or contained &mut/closure) here so there's no move of ownership
[02:17:43] <carllerche> strcat: how large does it have to be for that to happen?
[02:17:59] <strcat> well in C it depends on the ABI
[02:18:09] <carllerche> also, does the match on line 28 end up doing any real work?
[02:18:23] <carllerche> basically I'm unsure what happens on line 28 in terms of memory / pointers
[02:18:24] *** Quits: cschneid (cschneid@moz-E05EFA25.hlrn.qwest.net) (Ping timeout)
[02:18:25] <strcat> carllerche: compile with rustc -O --emit=ir -o - and see
[02:18:54] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[02:18:55] <strcat> carllerche: there is no dynamic memory allocation and no pointers here (beyond the ones used to pass/return large parameters)
[02:19:33] <strcat> it's just going to inline those functions though
[02:19:38] <strcat> so the calling conventions don't really matter
[02:21:00] *** Quits: Doppp (Doppp@moz-CE720357.hfc.comcastbusiness.net) (Ping timeout)
[02:21:41] <carllerche> yeah, I'm not very familiar w/ LLVM ir :P i probably should get into that at some point
[02:23:45] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[02:24:36] *** Quits: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net) (Quit: WeeChat 0.4.3)
[02:25:00] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[02:25:31] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:27:14] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:27:40] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[02:28:24] *** Quits: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net) (Quit: Valloric)
[02:29:46] *** Quits: zz_kimundi (kimundi@moz-6DDBA147.dip0.t-ipconnect.de) (Ping timeout)
[02:30:37] *** Quits: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:30:40] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[02:31:38] *** Quits: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net) (Ping timeout)
[02:32:43] *** Joins: zz_kimundi (kimundi@moz-5680B20B.dip0.t-ipconnect.de)
[02:32:51] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:33:09] *** zz_kimundi is now known as kimundi
[02:36:06] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[02:37:19] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[02:38:19] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:38:56] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[02:39:08] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[02:39:29] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:39:56] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[02:40:06] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:40:12] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[02:40:30] <ruzu> part of me wishes the idiomatic file extension was .rus
[02:41:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:41:23] *** Quits: derek_c (derek@moz-3AE0B005.cit.cornell.edu) (Quit: Leaving)
[02:41:33] <johnwatson> .rust would also be fine. it's not like we're running on dos anymore.
[02:41:35] <ChrisMorgan> ruzu: if it wasn't .rs, it'd be .rust.
[02:43:02] *** Quits: kard (kard@moz-9757A042.dip0.t-ipconnect.de) (Ping timeout)
[02:43:15] <ruzu> just pictured people wondering if .rus has something to do with russia, and thought it amusing... imagination's on overdrive atm :P
[02:44:11] <bjz> .feoh2 ?
[02:44:58] * bjz thinks that should be used in place of .rlib
[02:46:01] *** Joins: cschneid (cschneid@moz-20C37083.hlrn.qwest.net)
[02:46:11] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:46:28] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[02:50:04] <hoverbear> Has anyone got some quality autocompletion or parameter hinting working for Rust? (In any editor really.)
[02:50:14] <dsrx> hm, not .RUS?
[02:50:26] <ruzu> i think someone's working on something for emacs
[02:50:41] <dsrx> MYOOLC~1.RUS
[02:50:55] <ruzu> moscow.rus
[02:51:00] <ruzu> hoverbear: https://github.com/phildawes/racer
[02:51:19] <dsrx> right, that one won't necessarily be limited to emacs
[02:51:58] <ruzu> yea i just noticed "for editors and ides"
[02:52:02] <hoverbear> ruzu: That's neat. I haven't tried emacs yet.
[02:52:03] <ruzu> i guess it's a daemon or something
[02:52:20] *** nightpool|away is now known as nightpool
[02:52:30] <dsrx> ruzu: that's becoming more and more common, e.g. the completion middleware in nREPL for clojure, "typescript-tools" for typescript, ensime, etc
[02:53:00] <ruzu> i like this trend
[02:53:01] <dsrx> editor-agnostic tooling is great
[02:53:01] <hoverbear> ruzu: I think it's a great idea.
[02:53:03] <dsrx> i agree
[02:54:46] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 28.0/20140317233501])
[02:56:19] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[02:57:09] <hoverbear> I'm still trying to decide if I'm excited about Atom or not.
[02:57:41] <o11c> hoverbear: don't be
[02:58:08] <ruzu> (if you mean the editor) it's for-pay, so i guess if you're going that route i guess the question is if it's better than sublime
[02:58:17] <hoverbear> It doesn't offer anything compelling or useful.
[02:59:46] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:01:55] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:03:14] <grund> Atom doesn't seem to differ all that much from lighttable
[03:04:04] *** Joins: showyoumuck (Mibbit@9D62B2C6.79B5E685.5AF46F6D.IP)
[03:06:14] *** Quits: cdleary (cdleary@moz-66F32CDF.hsd1.ca.comcast.net) (Quit: cdleary)
[03:06:28] *** Quits: Nekit1234007_ (Nekit12340@D393484.75672F1E.4707F662.IP) (Ping timeout)
[03:08:08] *** Quits: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net) (Client exited)
[03:08:19] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[03:08:29] *** Joins: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net)
[03:10:17] *** Quits: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net) (Ping timeout)
[03:10:17] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[03:13:24] *** Joins: p1start (rewi@moz-E7F3D014.org)
[03:14:42] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[03:14:55] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:16:02] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[03:16:15] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:17:49] *** Joins: cdleary (cdleary@moz-66F32CDF.hsd1.ca.comcast.net)
[03:17:58] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:18:39] *** Joins: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net)
[03:19:53] *** Quits: cdleary (cdleary@moz-66F32CDF.hsd1.ca.comcast.net) (Quit: cdleary)
[03:20:22] <hoverbear> Reminds me of brackets to be honest.
[03:20:24] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:20:55] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[03:21:25] *** Joins: Nekit1234007_ (Nekit12340@4DA8296C.FA3E1B27.4707F662.IP)
[03:22:05] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:24:45] *** Quits: __eric__87755 (eric@moz-81F7C18C.lightspeed.clmasc.sbcglobal.net) (Quit: Leaving)
[03:26:43] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[03:27:03] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:27:24] *** Joins: adu (ajr@moz-FF5D4001.washdc.fios.verizon.net)
[03:28:04] *** Quits: quux00 (uid24415@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[03:30:05] *** Quits: showyoumuck (Mibbit@9D62B2C6.79B5E685.5AF46F6D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:32:10] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:32:41] *** Quits: intuxicated (intuxicate@D028818A.A6A1F366.DA0107E2.IP) (Client exited)
[03:35:35] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[03:35:35] *** Joins: eddyb (eddy@717B0165.D51DAF03.FB866788.IP)
[03:36:52] *** Quits: nszceta (nszceta@moz-E6CA8D6.hsd1.pa.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:39:34] *** Quits: netoarmando (textual@2588BEE5.83420AC4.C7EA744A.IP) (Quit: )
[03:39:57] *** Quits: chc4 (chc4@moz-29F9F3F1.hsd1.ma.comcast.net) (Quit: AHHHHHH BEES)
[03:40:11] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[03:40:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:41:02] *** Quits: andelf (fledna@3AF7F96C.2D1119B6.1CD28F1D.IP) (Ping timeout)
[03:41:52] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:43:34] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:46:00] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[03:46:27] <dsrx> grund: it seems quite a bit different than light table
[03:46:35] <dsrx> light table seems much more in the same spirit as emacs
[03:48:07] <hoverbear> Light table is interesting.
[03:48:53] *** Joins: mib_41y43h (Mibbit@moz-59F7153E.cpe.imoncommunications.net)
[03:49:05] *** Quits: mib_41y43h (Mibbit@moz-59F7153E.cpe.imoncommunications.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:50:50] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[03:51:09] *** Quits: Sorella (queen@BD3C138B.B46B7936.54BCAB54.IP) (Quit: It is tiem!)
[03:51:11] <adu> emacs? lighttable?
[03:52:19] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[03:52:39] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[03:53:02] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[03:54:17] *** Quits: RustyNails (Mibbit@575CB6ED.87CA334A.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:54:42] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[03:55:01] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:55:03] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[03:57:06] *** Joins: cdleary (cdleary@moz-66F32CDF.hsd1.ca.comcast.net)
[04:01:12] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[04:02:43] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[04:03:03] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[04:08:30] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[04:08:51] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[04:08:58] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:10:18] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[04:10:38] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:10:44] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[04:11:19] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[04:11:20] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:12:08] <lukem> is there a way to avoid polluting a namespace with enum values? do people put enums in separate modules for this? or is this just not something that people mind? 
[04:12:38] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[04:13:02] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[04:13:21] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[04:13:21] *** Quits: cdleary (cdleary@moz-66F32CDF.hsd1.ca.comcast.net) (Quit: cdleary)
[04:15:08] <sp3d> lukem: http://www.reddit.com/r/rust/comments/1vm5ts/any_reason_why_the_enum_arent_scoped/ discusses that topic
[04:15:40] *** Quits: philix (felipe@moz-602EFB0F.user.veloxzone.com.br) (Ping timeout)
[04:16:16] <lukem> sp3d, ah, cool , thanks for that! at least i don't feel alone now
[04:16:34] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[04:16:45] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:17:30] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[04:18:31] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:19:19] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[04:20:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[04:20:50] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[04:22:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[04:23:29] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:23:47] *** Quits: ktt3ja (ktt3ja@moz-8D2A07E1.hsd1.va.comcast.net) (Quit: Leaving)
[04:24:06] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[04:24:06] *** Joins: derek_c (derek@moz-A43430DA.cit.cornell.edu)
[04:25:34] <derek_c> when I define function A inside function B, function A is created on runtime on stack, right?  Then, when function B exits, any reference to A will be invalid, right?
[04:25:46] *** Quits: lukem (Mibbit@7F64772F.63E6F0B5.217FF3D2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:25:48] *** Joins: lukem (lukem@7F64772F.63E6F0B5.217FF3D2.IP)
[04:26:18] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:28:00] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:28:03] <sfackler> derek_c: like fn a() { fn b() {} }?
[04:28:09] <derek_c> sfackler: yeah
[04:28:09] <sfackler> b is just a normal function
[04:28:15] <sfackler> like any other
[04:28:41] <derek_c> sfackler: yeah, but I mean, say I created a (unsafe) pointer to b
[04:28:55] <derek_c> will the pointer be invalid after a exits?
[04:28:58] <sfackler> no
[04:29:33] <sfackler> b lives somewhere inside of .TEXT just like a
[04:30:08] *** Quits: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com) (Quit: Leaving.)
[04:30:36] <derek_c> sfackler: I see, thanks.  How about closures?
[04:31:00] <sfackler> closures consist of 2 pointers, a pointer to the actual functilon and a pointer to the environment
[04:31:21] <sfackler> the environment can expire but the function pointer always points to a "real" function
[04:32:04] <derek_c> sfackler: I see. thanks!
[04:32:37] <derek_c> how come I println! doesn't work in tests?
[04:32:53] <derek_c> how come println! doesn't work in tests
[04:33:11] <derek_c> trying to print something in a test and nothing gets printed
[04:33:53] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[04:33:56] <o11c> derek_c: tests run with stdio redirected
[04:34:03] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[04:34:07] <o11c> it gets printed if the test fail!()s
[04:34:13] <derek_c> o11c: oh. how do I get the outputs then?
[04:34:24] <derek_c> can I redirected it?
[04:35:41] <derek_c> my tests are segfaulting, so the log outputs are not printed even though the test did not succeed
[04:37:08] *** Joins: subhashb (Adium@BE8E0B31.DF3ED0FB.1B69A185.IP)
[04:37:13] <o11c> does ./test --help give an option? I don't have a working rustc right now ...
[04:37:32] * o11c curses at whoever made the ubuntu nightlies dependent on an exact libc version
[04:38:24] *** Joins: richo (richo@moz-E6FCD5A0.hsd1.ca.comcast.net)
[04:39:02] *** Quits: GeneralMaximus (textual@FCE8EAE7.24AECFC8.8037CBEF.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:39:18] <derek_c> o11c: there is a --logfile option, but seems like it still only writes anything only if the test fails normally (as opposed to segfaulting)
[04:40:38] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[04:40:58] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:41:20] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[04:41:38] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[04:42:12] *** Joins: nieksand (Mibbit@moz-90AF4E6E.tukw.qwest.net)
[04:42:40] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:44:42] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[04:45:29] <nieksand> I have a [u8, ..128] var and I want to yank out a 64 byte range to pass to a func requiring &[u8, ..64] as an arg.  
[04:45:40] <nieksand> I tried slice(), but I get the compile error: mismatched types: expected `&[u8, .. 64]` but found `&[u8]` (expected &-ptr but found vector)
[04:45:49] <nieksand> any ideas?
[04:47:44] <o11c> I don't think you can do that
[04:47:58] <o11c> though you might be able to transmute() something ...
[04:48:00] *** Quits: ndt (ndt@FEACE86F.DD5772EA.88820282.IP) (Ping timeout)
[04:48:24] <nieksand> hmm.  I'll give transmute a whirl
[04:49:22] <nieksand> o11c: it compiles with transmute!  thanks much
[04:49:33] <o11c> ...
[04:49:46] <o11c> just because it *compiles*, doesn't mean it's *right*
[04:50:02] <nieksand> ;)
[04:50:19] <o11c> the very fact that your code contains the word transmute implies that there is someone waiting outside your door with a chainsaw, hungry for your blood
[04:52:11] <nieksand> spoke to soon.  error: transmute called on types with different sizes: &[u8] (128 bits) to &[u8, .. 64] (64 bits)
[04:52:14] <ChrisMorgan> cmr: thanks for rust-lang/rfcs#37, I *love* it
[04:53:09] <cmr> ChrisMorgan: mhm
[04:53:17] <sp3d> nieksand: you want to get the raw pointer from the slice; a slice is a (pointer, length) tuple
[04:53:31] <cmr> I'm starting to feel somewhat ambivalent, I think it will make method lookup harder to reason about
[04:53:39] <cmr> but I think it's worth it.
[04:53:45] <sp3d> but an &[T, ..N] is a regular reference to the value type [T, ..N] so it's just the pointer
[04:54:01] <cmr> o11c: that's an amazing quote
[04:54:15] <o11c> I try
[04:54:39] <o11c> I don't often succeed ... I really need to start keeping a list
[04:54:39] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[04:55:06] <nieksand> cmr: so unsafe_ref() ?
[04:56:03] *** Quits: tikue (tikue@A7ECB14D.ADD881BB.D5A9E6FD.IP) (Ping timeout)
[04:56:03] *** tikue_ is now known as tikue
[04:56:03] <cmr> nieksand: slices have an .as_ptr() method which you can use to get a raw pointer to their data.
[04:56:43] <o11c> it *would* be nice if fixed size arrays could slice to smaller fixed size arrays
[04:56:52] <o11c> I've had a need to do that in C++ sometimes too
[04:57:27] <cmr> I think DST's coercion rules could cover that.
[04:57:57] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:57:59] <derek_c> say I have defined a function type "type Fn = fn ...".  How do I use this type to define a function?
[04:58:09] <cmr> derek_c: you cannot.
[04:58:12] <derek_c> I could certainly retype the real definition, but can I just use Fn somehow?
[04:58:15] <derek_c> no? oh well
[04:58:18] <cmr> that type alias is to a function pointer.
[04:58:34] <o11c> reinterpret_cast<timestamp_seconds_buffer *>(str + sizeof(str))[-1]
[04:58:36] <cmr> can't actually change the fn definition grammar
[04:59:07] <o11c> (though that code is actually obsolete now ... I just haven't replaced the last caller)
[04:59:18] <derek_c> cmr: kk. thanks!
[04:59:32] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:00:37] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[05:00:40] <araujo> talking about transmute() ... I have been checking it recently .. what would be the safest to translate a ~[~str] to **u8 ?.. would transmute() properly help there?
[05:01:04] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[05:01:27] *** Quits: brandonson (SingingBoy@moz-39C19C5F.bchsia.telus.net) (Connection reset by peer)
[05:01:46] *** Quits: herro (Mibbit@AB5E77A5.80BB6BFD.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:01:51] <o11c> no
[05:01:54] <Eridius> araujo: no, because ~str is not just a bucket of bits
[05:02:07] <Eridius> you can't convert ~[~str] to **u8 without creating a new vector and converting to that
[05:02:07] <araujo> I have been thinking to iterate and convert ~str to *u8 , and then use as_ptr() ...
[05:02:07] <o11c> you need to construct a ~[*u8] at some point in the process
[05:02:17] <araujo> aah right, I see
[05:02:40] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[05:02:40] *** Joins: philix (felipe@moz-602EFB0F.user.veloxzone.com.br)
[05:03:01] <araujo> I was thinking to build a ~[*u8] and then use as_ptr() ? .. 
[05:03:19] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[05:06:19] *** Quits: derek_c (derek@moz-A43430DA.cit.cornell.edu) (Ping timeout)
[05:08:28] *** Quits: aperos (appos@moz-1689688F.dyn.optonline.net) (Ping timeout)
[05:08:30] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[05:08:53] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[05:09:53] *** Quits: ctangent (textual@moz-67DD0115.hsd1.wa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:12:19] *** Joins: ctangent (textual@moz-67DD0115.hsd1.wa.comcast.net)
[05:12:41] *** Joins: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net)
[05:13:13] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[05:13:33] *** Joins: benjamin_____ (benjamin@moz-CD46A5D9.dip0.t-ipconnect.de)
[05:14:26] *** Quits: adu (ajr@moz-FF5D4001.washdc.fios.verizon.net) (Quit: adu)
[05:14:27] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[05:15:02] <bstrie> cmr: I have made some tweaks to the reddit title ornamentation to hopefully make it more to your liking
[05:15:28] * cmr dreads what he will see
[05:15:54] <cmr> nothing changed?
[05:15:59] *** Quits: nieksand (Mibbit@moz-90AF4E6E.tukw.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:16:37] <bstrie> cmr: you're not looking close enough
[05:16:54] <bstrie> cmr: as for your username ornamentation, consider it removed. even though you asked for it in the first place :P
[05:17:09] <cmr> british spelling? :p
[05:17:14] <cmr> bstrie: thank you <3
[05:18:01] <JustAPerson> so is std::libc::funcs::c95::stdlib::exit() the preferred way to exit a Rust program early?
[05:18:04] <bstrie> cmr: the title ornamentation is only around for as long as it amuses me. and getting mad at it only amuses me further, so don't do that :P
[05:18:21] <cmr> JustAPerson: god no.
[05:18:27] <cmr> JustAPerson: just std::libc::exit()
[05:18:30] <Yurume> (and it is equivalent to std::libc::exit().)
[05:18:39] <cmr> JustAPerson: everything in libc is reexported at its root.
[05:18:54] <cmr> but yes, libc's exit is really the only way to terminate early.
[05:19:11] <Yurume> well, why on the earth is the hierarchy of extra modules at the first place?
[05:19:24] <cmr> I really do not know
[05:19:56] <bstrie> Yurume: a design decision of graydon's, from way back in the day
[05:20:09] <JustAPerson> cmr: all righty, thanks
[05:20:19] <ChrisMorgan> And std::libc::exit() is EVIL and UNSAFE.
[05:20:20] <bstrie> isn't there also abort() as an alternative to exit(). or something
[05:20:39] <cmr> ChrisMorgan: it's not considered unsafe to terminate early, according to the manual.
[05:20:41] <bstrie> ChrisMorgan: why is it unsafe
[05:20:49] <ChrisMorgan> Doesn't call destructors.
[05:20:58] <bstrie> but the program ends, isn't that basically the same thing?
[05:21:05] <bstrie> in terms of freeing resouces
[05:21:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[05:21:06] <ChrisMorgan> bstrie: not if the destructor has side-effects.
[05:21:26] *** Joins: dranov (dranov@EAA03027.F39E9F97.FCAAE698.IP)
[05:21:31] <bstrie> making network calls in your destructor
[05:21:35] <cmr> bstrie: do you know of a wiki page or some ancient email that lays out some language design guidelines or philosophy?
[05:21:45] <JustAPerson> bstrie: there's std::intrinsics::abort() but it causes an error "illegal instruction" where as std::libc::exit() is quiet
[05:21:51] <bstrie> cmr: with regard to the C hierarchy in particular?
[05:21:59] <cmr> bstrie: no, just Rust in general.
[05:21:59] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[05:22:04] <cmr> a "zen of rust", if you will
[05:22:26] <ChrisMorgan> In particular, if you simply exit a program that has bound TCP sockets, you may end up with a port that you can't bind to until a timeout (typically a minute, I believe) expires
[05:22:43] <Yurume> bstrie: I actually don't see much benefit in i) separating consts, types and funcs to each module and ii) separating items as per the first available standard (c*, posix*) or OS version (bsd*) or whatever (extra)
[05:22:47] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[05:22:52] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[05:23:15] <bstrie> cmr: specifically, no, the overriding design guideline for early rust was mostly "graydon hates c++ enough that he'd rather write a new language than continue using c++, here are a bunch of features that look cool"
[05:23:16] <ChrisMorgan> This may not be a problem with how libnative or libgreen arrange their sockets; I only speak from experience in a C web server that I wrote 2½ years ago while in Uni.
[05:23:42] <bstrie> cmr: but in general the philosophy has never changed: "let's be as fast and efficient as c++, but safe"
[05:23:53] <ChrisMorgan> I do not believe that we should ever be advising anyone to use std::libc::exit().
[05:23:57] <Yurume> bstrie: since Rust does not have, say, _GNU_SOURCE or similar, and gives all the available items in the target platform anyway.
[05:23:57] <bstrie> "now figure out how to do that"
[05:24:31] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[05:24:53] <JustAPerson> ChrisMorgan: suggestions?
[05:25:21] <ChrisMorgan> JustAPerson: there is no proper way of doing it. With how we've constructed the language, it genuinely cannot be done.
[05:25:51] <ChrisMorgan> You cannot safely exit a program because you cannot safely tell a task to unwind and exit, because it may be blocked.
[05:26:07] <bstrie> cmr: hahahahaha, I just read that dlang thing
[05:26:08] <bstrie> <3
[05:26:09] *** Joins: paraze (paraze@moz-9E76094B.w90-27.abo.wanadoo.fr)
[05:26:12] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[05:26:27] <Yurume> JustAPerson: spawn a new task right after the program starts, make it fail!() with some special type indicating the early exit (so that it can be checked with `Any` casting), and catch that error in the main task to distinguish intentional early exit from abnormal exits.
[05:26:44] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[05:26:55] <Yurume> (it won't work for multitask situations, which is very intentional)
[05:30:16] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[05:30:25] *** Joins: adu (ajr@moz-FF5D4001.washdc.fios.verizon.net)
[05:30:34] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[05:30:41] *** Joins: Rym (y@162AAE17.9DB74299.51C6DE68.IP)
[05:31:23] <Eridius> I've used libc::exit() as the last line in main() when I had a task that could not be killed (because it was blocked in I/O that would never terminate). I think libc::exit() was an appropriate course of action there. But in most cases I wouldn't recommend it
[05:32:36] <bstrie> bjz: upvoted for introducing me to this emoticon: ◔ᴗ◔
[05:33:40] *** Joins: GeneralMaximus (textual@7211776A.18BB8029.650F25DA.IP)
[05:34:41] *** Joins: derek_c (derek@moz-3AE0B005.cit.cornell.edu)
[05:35:37] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[05:36:46] *** Joins: exoticorn (exoticorn@moz-9E985E10.adsl.alicedsl.de)
[05:37:07] *** Quits: canhtak (canhtak@moz-641FE58F.wl.t.ulaval.ca) (Quit: canhtak)
[05:37:51] *** Quits: exoticorn (exoticorn@moz-9E985E10.adsl.alicedsl.de) (Client exited)
[05:38:17] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Ping timeout)
[05:38:19] *** Joins: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi)
[05:38:36] *** Joins: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP)
[05:39:58] *** Joins: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net)
[05:41:45] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:42:12] <bstrie> cmr: "Falco Hirschenberger" wins the weekly Coolest New Contributor Name award
[05:42:20] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:42:25] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[05:42:26] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[05:42:27] <cmr> bstrie: I announced that name to the CS labs when I saw it
[05:42:32] <cmr> there was general approvement.
[05:42:39] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[05:43:25] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:43:54] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[05:44:04] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[05:45:40] *** Joins: mr_sticky (Mibbit@moz-4058A5B9.ge-0-2-0-712.arcnqu2.dk.customer.tdc.net)
[05:45:53] *** Quits: enand (erik@67F9F6F9.5AF75EBF.841A3ED3.IP) (Quit: WeeChat 0.4.2)
[05:45:55] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[05:47:00] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[05:50:09] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[05:54:21] <bjz> bstrie: (☞ﾟヮﾟ)☞
[05:55:46] *** Quits: GeneralMaximus (textual@7211776A.18BB8029.650F25DA.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:55:52] *** Joins: gimpf (gimpf@moz-81AEB0B7.adsl.highway.telekom.at)
[05:56:31] *** Quits: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net) (Quit: Leaving.)
[05:56:50] *** Joins: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net)
[05:59:27] <adu> bstrie: LOL
[06:00:24] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[06:01:01] *** Quits: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP) (Quit: Leaving.)
[06:01:30] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[06:02:02] <derek_c> what could be the reason that invoking a function through a function pointer results in segfault?
[06:02:28] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[06:02:30] <derek_c> the segfault happens on invocation; the function was not actually entered
[06:02:33] <Yurume> let f: fn(...) -> ... = ...; f()?
[06:02:34] <o11c> function is null, function is of the wrong abi
[06:02:37] *** Joins: mye (mye@moz-130CE194.swh.uni-giessen.de)
[06:02:50] <Yurume> invalid function pointer is likely
[06:02:53] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[06:03:15] <derek_c> Yurume: what do you mean by invalid? null?
[06:03:22] <Yurume> either null or corrupted.
[06:03:24] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:03:37] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:03:42] <Yurume> wrong ABI may be possible, but more likely it will result in the segfault *after the invocation*.
[06:03:54] <derek_c> after the invocation?
[06:03:58] <derek_c> what does that mean
[06:04:01] <Yurume> that is, due to the corrupted stack
[06:04:27] <derek_c> and how could a Rust function be "corrupted"?
[06:04:37] *** Joins: Ferreus (ferreus@moz-59CD052A.dip0.t-ipconnect.de)
[06:04:48] <Yurume> derek_c: with unsafe blocks... but do you have them?
[06:04:54] <Yurume> or FFIs?
[06:05:09] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[06:05:12] <derek_c> it's sort of complicated. so I have a Rust function
[06:05:25] <derek_c> which I give it to a C library (the C API takes a function pointer)
[06:05:29] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[06:05:43] <derek_c> and the C library calls it back
[06:06:09] <derek_c> the Rust function is safe though
[06:06:17] <Yurume> derek_c: make sure you've declared your Rust function with: extern "C" fn foo() { ... }
[06:06:18] <klutzy> is the callback function using `extern "C"`?
[06:06:24] <klutzy> rust uses `extern "Rust"` implicitly
[06:06:28] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[06:06:34] <Yurume> klutzy: I think it is now explicit, no?
[06:06:38] <derek_c> yes, it's extern C.
[06:06:52] <Yurume> hmm, do you have any sample code?
[06:06:53] <derek_c> actually, it's more complicated then that... maybe I should just post my code, 1 sec
[06:07:08] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[06:07:12] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[06:07:29] *** Joins: chris_ (chrido@moz-EFE921CE.informatik.tu-muenchen.de)
[06:08:09] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[06:08:24] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[06:08:36] <bstrie> what's the runtime representation of `Some(4)`?
[06:08:46] <bstrie> i.e. an Option where the value is not a pointer
[06:09:16] <Yurume> struct { discriminator: u8, value: T }
[06:09:30] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[06:09:32] <Yurume> the total size depends on the alignment of T.
[06:09:37] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:09:48] *** Quits: Rym (y@162AAE17.9DB74299.51C6DE68.IP) (Ping timeout)
[06:10:10] <bstrie> Yurume: and the discriminator is what is checked to determine if it's None or Some?
[06:10:26] *** Joins: eibwen (kvirc@moz-CB454DA4.dip0.t-ipconnect.de)
[06:10:26] *** Quits: klaus (koz@moz-4486E876.hsd1.wa.comcast.net) (Quit: klaus)
[06:10:36] <derek_c> ok, so the magic happens here: https://github.com/derekchiang/rust-busybee/blob/master/src/busybee/lib.rs#L71-L88
[06:10:51] <Yurume> bstrie: yeah
[06:10:52] <derek_c> it's failing on line 75
[06:10:57] <bstrie> Yurume: thank you very much
[06:11:26] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:11:53] <derek_c> the `busybee_mapper_create` function takes a function pointer
[06:12:18] <Yurume> derek_c: hmm! I'm not sure Option<extern "C" fn(...) -> ...> works as intended.
[06:12:44] *** Quits: eevee (eevee@moz-A8156E13.lv.lv.cox.net) (Quit: kernel upgrade)
[06:12:51] <Yurume> (which is the type of the callback argument to busybee_mapper_create
[06:12:52] <Yurume> )
[06:13:00] <derek_c> Yurume: really? apparently the c_lookup function was successfully invoked though
[06:13:09] <derek_c> as I said, the segfault happens on line 75
[06:13:13] <Yurume> ah?
[06:13:15] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:13:29] <derek_c> which is when the user-defined Rust function gets invoked
[06:13:34] <Yurume> ah, I thought it were line 74 (the start of the callback)
[06:13:35] <Yurume> hmm
[06:13:50] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:14:05] <Yurume> ah
[06:14:06] <klutzy> what's user_data type before *mut c_void?
[06:14:21] <derek_c> the actual user-defined function is here: https://github.com/derekchiang/rust-busybee/blob/master/src/busybee/test.rs#L25-L33
[06:14:26] <Yurume> derek_c: I see the problem: &mut lookup *won't be* available once `BusybeeMapper::new` is returned
[06:14:37] <Yurume> since it is basically taking an address to the local stack
[06:15:04] <derek_c> huh?
[06:15:08] <Yurume> I think you can simply transmute lookup (bare Rust function) to *c_void and back in the c_lookup callback
[06:15:28] <Yurume> derek_c: &mut lookup is no different from &mut 42
[06:15:41] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[06:15:45] <Yurume> (both allocates to the local stack)
[06:15:46] <derek_c> Yurume: oh, so, `lookup` is a pointer to a function
[06:15:52] <derek_c> and it's on stack
[06:15:54] <Yurume> yeah
[06:15:59] <derek_c> so we are taking a pointer to a pointer to a function
[06:16:05] <Yurume> uh, no
[06:16:08] <Yurume> ah
[06:16:19] <Yurume> yeah, you are correct
[06:16:23] <Yurume> hmm
[06:16:25] <derek_c> I mean, &mut lookup, is a pointer to a (on-stack) pointer to a function
[06:16:29] <Yurume> right
[06:16:34] <derek_c> kk, that makes sense
[06:16:41] <Yurume> well, to be exact, the function is not on the stack (obviously)
[06:16:42] <derek_c> missed a level of indirection haha
[06:16:43] *** Tomcat|afk is now known as Tomcat|sheriffduty
[06:16:45] <derek_c> yeah
[06:16:58] <Yurume> unsafe {} is unsafe for the reason XD
[06:17:26] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[06:17:30] <derek_c> Yurume: so what was your solution again?  I didn't understand
[06:17:56] *** Quits: adu (ajr@moz-FF5D4001.washdc.fios.verizon.net) (Quit: adu)
[06:18:03] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[06:18:08] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[06:18:16] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[06:18:37] <Yurume> derek_c: remove one level of indirection: the pointer to the function is also a pointer (though Rust doesn't call it a pointer), so simply transmute that value to *c_void.
[06:19:03] *** Joins: apollow (mike@moz-52F6097D.dhcp.trlk.ca.charter.com)
[06:19:05] *** Joins: apollow2 (mike@moz-52F6097D.dhcp.trlk.ca.charter.com)
[06:19:10] *** Quits: dranov (dranov@EAA03027.F39E9F97.FCAAE698.IP) (Ping timeout)
[06:19:12] *** Quits: apollow2 (mike@moz-52F6097D.dhcp.trlk.ca.charter.com) (Quit: Leaving)
[06:19:18] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[06:19:45] <Yurume> that is: change line 84 to `busybee_mapper_create(transmute(lookup), Some(c_lookup))`, change line 74 to `let lookup: LookupFn = unsafe { transmute(user_data) };` and line 75 to `let addr = lookup(sid);`.
[06:20:04] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[06:20:10] *** Joins: enand (erik@67F9F6F9.5AF75EBF.841A3ED3.IP)
[06:20:36] <derek_c> Yurume: waha, that's amazing
[06:20:38] <derek_c> it worked
[06:20:49] <derek_c> thanks a lot!
[06:21:06] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:21:12] <Yurume> (I'm not sure if this is maximally portable, since in principle the function pointer and the data pointer can differ in size, but AFAIK there is no such platform to which Rust has been ported)
[06:21:22] <Yurume> derek_c: ;)
[06:21:35] <derek_c> I see what you mean
[06:21:59] <sfackler> I believe rust assumes/requires that function pointers and data pointers are always the same size
[06:22:02] <Yurume> the maximally portable approach would be keeping ~LookupFn somewhere and transmute that ~LookupFn
[06:22:03] *** Joins: eevee (eevee@moz-A8156E13.lv.lv.cox.net)
[06:22:11] <derek_c> yeah I see what you are doing. since the first argument to the C function is a opaque pointer, we can make it point to whatever we want
[06:22:12] <Yurume> but well, who cares.
[06:22:31] <Yurume> sfackler: is there an explicit statement about that?
[06:23:31] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:24:08] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[06:24:29] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[06:24:35] *** Quits: gregburd (uid3997@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[06:25:11] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140406030203])
[06:25:24] *** Joins: p1start (rewi@moz-E7F3D014.org)
[06:26:09] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[06:26:11] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[06:26:23] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[06:26:57] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:27:27] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[06:28:49] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:30:00] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[06:30:03] <sfackler> Yurume: not that I'm aware of, but I'm almost positive that we cast a function pointer to a *void or uint *somewhere*
[06:31:01] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[06:31:25] <derek_c> what happened to IterBytes?
[06:31:30] *** Joins: doctor (ARealName@moz-1BCE629A.hsd1.ca.comcast.net)
[06:31:50] <derek_c> anyway, what's the trait now that says "I can be converted to bytes"
[06:32:02] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[06:32:12] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[06:32:12] <bjz> so in a C header, I have:
[06:32:14] <bjz> / Assign the pointer to your print handler to this variable.
[06:32:14] <bjz> EXTERN t_libpd_printhook libpd_concatenated_printhook;
[06:32:22] <bjz> how do I wrap that? :/
[06:32:31] <bjz> a global mutable variable
[06:33:12] <Yurume> derek_c: replaced with Hash (unobviously).
[06:33:14] <derek_c> bjz: have you tried rust-bindgen?
[06:33:22] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:33:29] <bjz> derek_c: hmm, no
[06:33:30] <Yurume> bjz: static mut items? I think.
[06:33:48] <derek_c> bjz: it might do it for you, and then you can see how it wraps it
[06:33:52] <derek_c> https://github.com/crabtw/rust-bindgen
[06:34:20] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[06:34:21] <sfackler> I think you can declare extern variables
[06:34:22] <Yurume> derek_c: so, IterBytes was a means to hash arbitrary values (by converting them into bytes), but it turned out that converting every value to a stream of bytes is less performant.
[06:35:22] <Yurume> (for example, you have a shortcut for u32, as many hashing algorithms operate on a group of 4 or 8 bytes to speed things up)
[06:36:05] <bjz> derek_c: HAH: TODO: ... *global variable
[06:36:12] <bjz> (in the bindgen readme)
[06:36:41] *** jorendorff_away is now known as jorendorff
[06:37:04] <derek_c> Yurume: ok. I guess what I was looking for was Encodable
[06:37:13] <derek_c> bjz: lol
[06:37:14] <Yurume> derek_c: what are you doing exactly?
[06:37:43] <derek_c> Yurume: oh, just trying to write a function that takes any parameter that's encodable
[06:38:02] <Yurume> for what?
[06:38:04] <derek_c> and encode it and send it through the network. writing a networking library
[06:38:16] <bjz> derek_c: here it is: https://github.com/libpd/libpd/blob/master/libpd_wrapper/util/z_print_util.h#L25-L26
[06:38:28] *** Joins: jackneill (jackneill@moz-88937885.pool.digikabel.hu)
[06:38:44] <Yurume> derek_c: some kind of flat pipes, I guess
[06:38:46] *** Joins: GeneralMaximus (textual@7211776A.18BB8029.650F25DA.IP)
[06:38:56] * bjz wonders if he will need to create a wrapper with getter and setter functions :/
[06:38:57] <Yurume> (there was one in the standard library)
[06:39:00] <carllerche> cast::transmute is the correct way to convert ~T -> *T? The memory won't be freed?
[06:39:09] <derek_c> Yurume: what's a flat pipe?
[06:39:26] *** Joins: p1start (rewi@moz-E7F3D014.org)
[06:39:32] *** Joins: koonchun (matti@moz-3BF68246.dhcp.inet.fi)
[06:39:32] <bjz> carllerche: the memory won't be freed, no
[06:39:46] <derek_c> is transmute() consuming?
[06:39:59] <Yurume> derek_c: sending and receiving arbitrary values as their serialized form.
[06:40:26] <derek_c> I mean, does it consume ownership?
[06:40:28] <bjz> carllerche: you with have to re-transmute the pointer back to a ~T somewhere, like `let _ = transmute(...)`
[06:40:34] <bjz> woops
[06:40:41] <bjz> `let _: ~T = transmute(...)`
[06:40:48] <Yurume> derek_c: oh, 0.8 had them: http://static.rust-lang.org/doc/0.8/extra/flatpipes/index.html
[06:40:49] *** Quits: koonchun (matti@moz-3BF68246.dhcp.inet.fi) (Connection reset by peer)
[06:41:19] <carllerche> bjz: not quite sure I understand, if I don't do that it will be freed at the end of the fn that called transmute?
[06:41:20] *** pmoore|away is now known as pmoore
[06:41:28] <Yurume> (and removed in 0.9 due to the bitrotting)
[06:41:37] *** Joins: vhbit (vhbit@8BB49AD.FA5504CB.888F138E.IP)
[06:41:39] <carllerche> I am attempting to return an Option<~T> -> a C caller by converting it to *T
[06:41:49] *** Joins: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl)
[06:41:51] <bjz> carllerche: when you transmute ~T -> *T, then rust will forget about it
[06:42:01] <Yurume> transmuting is consuming. yes.
[06:42:11] <carllerche> bjz: why do I have to re-transmute it?
[06:42:30] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:42:35] <bjz> carllerche: to make rust find it again, so it can free
[06:42:39] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[06:42:51] <carllerche> bjz: ah, i don't want it to free it, i want to pass ownership to the C caller
[06:43:04] <bjz> you have just broken the type system using transmute, so you need to fix it again somewhere
[06:43:07] <Yurume> carllerche: does the C caller have its own malloc and free?
[06:43:11] *** Joins: ofeldt- (ofeldt@moz-B5AA97BC.dip0.t-ipconnect.de)
[06:43:26] <derek_c> Yurume: what's bitrotting?
[06:43:36] <Yurume> derek_c: no one maintains them. :S
[06:43:43] <carllerche> Yurume: ah, i have also exposed a T_free() fn that takes ~T and does nothing with it
[06:43:47] <derek_c> :S
[06:44:04] <bjz> carllerche: here is an example in real code: https://github.com/bjz/glfw-rs/blob/master/src/lib/lib.rs#L1520-L1522
[06:44:05] *** Quits: ofeldt (ofeldt@moz-C0C8BFC5.dip0.t-ipconnect.de) (Ping timeout)
[06:44:11] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:44:18] *** sankha93 is now known as sankha93|bored
[06:44:30] <Yurume> carllerche: ah, so it basically works like std::unique_ptr with a destructor?
[06:44:55] <bjz> carllerche: when you transmute anything with a destructor to a *, you need to bring it back somewhere
[06:45:04] <Yurume> a pair of (allocated memory, a function pointer that deallocates the memory)
[06:45:24] <bjz> carllerche: here is where it was initially set: https://github.com/bjz/glfw-rs/blob/master/src/lib/lib.rs#L615
[06:45:25] <carllerche> bjz: Right, my rust lib is exposing T_new() and T_free(~T) to C
[06:45:35] <carllerche> the C caller is responsible for passing the ptr back to T_free
[06:45:46] <carllerche> i just don't do a transmute in T_free, it's just an empty fn
[06:45:59] <bjz> hmmk
[06:46:05] <Yurume> then you should i) transmute from ~T to *T when giving the ownership to the C function
[06:46:20] <Yurume> and ii) transmute back from *T to ~T in your destructor function
[06:46:43] <Yurume> assuming T_free is of the type `extern "C" fn (*T)`.
[06:46:51] *** Joins: whidgle (Mibbit@830906D4.BAC5B367.CC1A2609.IP)
[06:46:56] *** Joins: cdleary (cdleary@moz-66F32CDF.hsd1.ca.comcast.net)
[06:47:32] <carllerche> Yurume: Isn't extern "C" fn (*T) the same ABI wise as extern "C" fn (~T)
[06:47:33] <Yurume> once transmuted back, you can safely discard the resulting ~T as bjz said, i.e. let _: ~T = unsafe { transmute(ptr) };
[06:47:39] <carllerche> I guess, i am doing an implicit transmute :P
[06:47:48] <carllerche> by just defining the fn arg w/ ~T
[06:48:06] <Yurume> I'm not confident that ~T is well defined or recommended for C ABI. :p
[06:48:43] *** Quits: whidgle (Mibbit@830906D4.BAC5B367.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:48:50] <apollow> does anyone know how to borrow a mutable struct being passed around more than once?
[06:49:40] *** Joins: koonchun (matti@moz-3BF68246.dhcp.inet.fi)
[06:49:48] *** Joins: edwardw (Mibbit@4660DACB.EE06708D.4BFBD933.IP)
[06:50:01] *** Quits: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi) (Client exited)
[06:50:05] <Yurume> apollow: simultaneously?
[06:50:42] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[06:50:52] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[06:51:23] <sfackler> apollow: RefCell?
[06:52:15] *** Joins: Ms2ger (Ms2ger@moz-F38ED2FA.adsl-dyn.isp.belgacom.be)
[06:52:16] <apollow> its more a simpler situation, i would create a mutable object, pass it in as mutable in a fn where it gets modified (init fn of the sorts)
[06:52:46] <apollow> then i will pass it in to another processing-esque fn as mutable multiple times
[06:53:36] *** Quits: cdleary (cdleary@moz-66F32CDF.hsd1.ca.comcast.net) (Quit: cdleary)
[06:53:56] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[06:53:57] <apollow> the rustc compile yells at me for "cannot borrow ... as mutable more than once at a time"
[06:54:11] *** Joins: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi)
[06:54:12] <Yurume> you can pass the mutable *reference* to the struct multiple times, provided that the functions give back (or gives up with) that reference before the next time you use it.
[06:54:15] <Yurume> well
[06:54:24] <apollow> so, how would one give back the reference?
[06:54:47] <Yurume> I think it would be easier to post your code (use pastebin or similar) and your error message first.
[06:55:07] <apollow> ill make a quick foo example then
[06:55:43] *** Quits: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi) (Client exited)
[06:57:08] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[07:04:33] *** flaper87|afk is now known as flaper87
[07:04:41] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[07:04:42] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[07:05:35] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:07:23] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[07:07:25] *** Quits: koonchun (matti@moz-3BF68246.dhcp.inet.fi) (Connection reset by peer)
[07:08:28] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:08:40] <apollow> Alright, i managed to reconstruct the problem, I was having a state object contain the borrowed reference
[07:08:49] <apollow> that's why it was yelling at me
[07:09:03] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[07:09:15] <Yurume> a-ha. yeah, that might be a problem.
[07:09:28] <Yurume> so essentially it does not give the reference back ;)
[07:09:31] <apollow> yes
[07:09:43] <apollow> Actually, this means I've got a better question then
[07:09:49] <Yurume> (and it shows why Rust is good at prohibiting such errors)
[07:10:09] <apollow> if i were to say have a linked list or tree of sorts, and I want to have a curNode and a headNode
[07:10:53] <apollow> what would be a good way of handling that? (I have curNode point to head and hopefully have head stay the same-ish)
[07:11:15] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[07:12:12] *** Joins: fabiand (fabiand@moz-C4B1E1E7.adsl.alicedsl.de)
[07:13:07] *** Quits: taliriktug (Mibbit@5ACC7636.C3AC81A2.906273CD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:13:08] *** jorendorff is now known as jorendorff_away
[07:13:18] *** Quits: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Ping timeout)
[07:14:02] <Yurume> apollow: there are several ways to do that, but if you don't mind the performance or memory usage (which you shouldn't mind until you really need them anyway :) using Rc is easiest.
[07:15:06] <Yurume> technically you can point to the node inside the linked list with a lifetime, but such lifetime is quite hard to use
[07:15:28] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[07:15:46] <Yurume> since, for example, it is impossible to define a struct like this: struct Foo { headNode: ~Node, curNode: &'a Node /* ewww, what should 'a be? */ }
[07:16:07] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[07:16:20] <apollow> Yeah, I figured that one out the hard way a couple days back
[07:17:00] <apollow> Can you elaborate/point to right direction on Rc?
[07:17:03] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[07:17:18] *** Joins: osa1 (omer@37F18D0F.FFCF2264.A967356F.IP)
[07:17:38] <Yurume> apollow: http://static.rust-lang.org/doc/master/std/rc/struct.Rc.html
[07:18:05] <Yurume> note that you don't need to call `deref` yourself, the compiler does it for you (called "auto-deref").
[07:18:22] <Yurume> and you are most likely to use Rc with RefCell: http://static.rust-lang.org/doc/master/std/cell/struct.RefCell.html
[07:18:44] <apollow> Alright, i'll take a look at that! thanks
[07:19:01] <Yurume> so that the struct using them would look like this: struct Foo { headNode: Rc<RefCell<Node>>, curNode: Rc<RefCell<Node>> }
[07:19:34] *** Quits: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net) (Ping timeout)
[07:21:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[07:23:02] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[07:23:05] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Connection reset by peer)
[07:23:07] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[07:23:22] *** Joins: echristo (echristo@4BCF0721.E96923BF.37EDBBD4.IP)
[07:23:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[07:23:46] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[07:25:00] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:25:48] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[07:28:22] *** Quits: devbug (quassel@moz-8C40558B.bchsia.telus.net) (Connection reset by peer)
[07:28:34] *** Joins: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi)
[07:28:45] *** Quits: apollow (mike@moz-52F6097D.dhcp.trlk.ca.charter.com) (Ping timeout)
[07:29:02] *** Quits: erik (erik@moz-E73505F3.us-west-2.compute.amazonaws.com) (Ping timeout)
[07:29:16] *** Quits: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net) (Ping timeout)
[07:29:56] *** Quits: YourBestFriend (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com) (Ping timeout)
[07:30:00] *** Quits: apoelstra (username@moz-B7040E82.vs.shawcable.net) (Ping timeout)
[07:30:19] *** Joins: YourBestFriend (sam113101@moz-83612DFD.us-west-2.compute.amazonaws.com)
[07:30:56] *** Quits: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP) (Ping timeout)
[07:32:26] *** Joins: erik (erik@moz-E73505F3.us-west-2.compute.amazonaws.com)
[07:32:29] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[07:32:51] *** Quits: japaric_ (japaric@F2279727.A347E168.F4D5766F.IP) (Ping timeout)
[07:32:53] *** Joins: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net)
[07:32:56] *** Joins: apoelstra (username@moz-B7040E82.vs.shawcable.net)
[07:33:17] *** Quits: Ferreus (ferreus@moz-59CD052A.dip0.t-ipconnect.de) (Ping timeout)
[07:33:17] *** Quits: bitemyapp (callen@95EE74F7.F6EF2525.EE6E63A5.IP) (Ping timeout)
[07:33:20] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[07:33:22] *** Quits: mvian (bacon@moz-9F046088.members.linode.com) (Ping timeout)
[07:33:22] *** Quits: monk (monk@moz-17CD0811.sunion.warwick.ac.uk) (Ping timeout)
[07:33:22] *** Quits: workbean (tunnel@4854BD0.B14CD10C.9510F13D.IP) (Ping timeout)
[07:33:22] *** Quits: nomme (nomme@moz-272A4570.na.cust.bahnhof.se) (Ping timeout)
[07:33:29] *** Quits: kimundi (kimundi@moz-5680B20B.dip0.t-ipconnect.de) (Ping timeout)
[07:33:29] *** Quits: wting (wting@E31B3884.E538DA90.20F09BA6.IP) (Ping timeout)
[07:33:29] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[07:33:29] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[07:33:29] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[07:33:29] *** Quits: aphistic (aphistic@moz-D08A46AA.erikd.org) (Ping timeout)
[07:33:34] *** Quits: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi) (Ping timeout)
[07:33:34] *** Quits: eibwen (kvirc@moz-CB454DA4.dip0.t-ipconnect.de) (Ping timeout)
[07:33:34] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[07:33:36] *** Quits: derek_c (derek@moz-3AE0B005.cit.cornell.edu) (Ping timeout)
[07:33:38] *** Quits: sindork (sindork@ABFA98AB.DD47BB48.F7A44A1B.IP) (Ping timeout)
[07:33:38] *** Quits: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP) (Ping timeout)
[07:33:40] *** Quits: seubert (etc@moz-A474784E.members.linode.com) (Ping timeout)
[07:33:40] *** Quits: Dylan16807 (dylan@moz-4FD5B5C1.lightspeed.cntmoh.sbcglobal.net) (Ping timeout)
[07:33:41] *** Quits: cyndis (cyndis@moz-C4357EA7.kapsi.fi) (Ping timeout)
[07:33:43] *** Joins: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP)
[07:33:50] *** Quits: dg (dg@moz-AF6F3E94.com) (Ping timeout)
[07:33:50] *** Quits: skelly (hl@moz-55F978C0.org) (Ping timeout)
[07:33:50] *** Quits: Cork (Cork@456A2672.BA574D4D.BB9C2183.IP) (Ping timeout)
[07:33:50] *** Quits: alyx (alyx@moz-806A0FC7.vmkit.net) (Ping timeout)
[07:33:50] *** Quits: olle (olleolleol@moz-E36F802C.se) (Ping timeout)
[07:33:50] *** Quits: wilson (wilson@moz-5531C57F.wb78.net) (Ping timeout)
[07:33:50] *** Quits: thiagopnts (thiago@BA7F842.3EA4B0F8.5670445F.IP) (Ping timeout)
[07:33:50] *** Quits: jaysonsantos (Jayson@E9FEA4A0.4427088B.20F09BA6.IP) (Ping timeout)
[07:33:55] *** Quits: nonehaxor (nonehaxor@BA9CBAE.4C3B0355.EE6E63A5.IP) (Ping timeout)
[07:33:55] *** Quits: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP) (Ping timeout)
[07:33:55] *** Quits: grund (empoz@moz-7E0B5623.a303.priv.bahnhof.se) (Ping timeout)
[07:33:55] *** Quits: brianloveswords (brianloves@moz-CB223D1E.members.linode.com) (Ping timeout)
[07:33:55] *** Quits: xales (xales@moz-7DEA692E.forevernothing.com) (Ping timeout)
[07:33:55] *** Quits: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP) (Ping timeout)
[07:33:55] *** Quits: Crandom (Crandom__@moz-56264BBC.sx) (Ping timeout)
[07:33:55] *** Quits: erick (erick@E1304535.2A7189BF.BE19388.IP) (Ping timeout)
[07:33:55] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[07:33:55] *** Quits: benjamin_____ (benjamin@moz-CD46A5D9.dip0.t-ipconnect.de) (Ping timeout)
[07:33:55] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Ping timeout)
[07:33:55] *** Quits: WalrusPony (retep998@moz-530D0BB2.dhcp.oxfr.ma.charter.com) (Ping timeout)
[07:33:55] *** Quits: Dessimat0r (Dessimat0r@moz-E3008B7A.me) (Ping timeout)
[07:33:55] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[07:33:55] *** Quits: Rufflewind (rf@moz-4556AD29.lightspeed.lnngmi.sbcglobal.net) (Ping timeout)
[07:33:55] *** Quits: Seicht (seich@moz-3D9F5ED0.webfaction.com) (Ping timeout)
[07:33:55] *** Quits: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk) (Ping timeout)
[07:33:55] *** Quits: Ke (jkarlson@moz-785A3407.org.aalto.fi) (Ping timeout)
[07:33:55] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Ping timeout)
[07:33:55] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[07:33:55] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[07:33:55] *** Quits: jroesch (jared@moz-CCF21286.whatbox.ca) (Ping timeout)
[07:33:56] <dpc> Anyone here?
[07:33:57] *** Quits: XgF (quassel@moz-86690AAD.london1.uk.e43.eu) (Ping timeout)
[07:33:57] *** Quits: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP) (Ping timeout)
[07:33:57] *** Quits: jix (jix@moz-D969BFFC.de) (Ping timeout)
[07:33:57] *** Quits: farcaller (quassel@moz-5B5FA763.customer.teliacarrier.com) (Ping timeout)
[07:33:57] *** Quits: Boreeas (Boreeas@moz-F35C832D.boreeas.net) (Ping timeout)
[07:33:57] *** Quits: dju (dju@moz-83BD5EC.dmz.me) (Ping timeout)
[07:33:57] *** Quits: snowp (snowp@4DE2260B.6E91F788.2CFD4520.IP) (Ping timeout)
[07:33:57] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[07:33:58] *** Joins: Liam` (quassel@6265EFB3.B1CCF5AA.217C7FCC.IP)
[07:34:02] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[07:34:02] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[07:34:02] *** Quits: doy (doy@moz-8F23663C.net) (Ping timeout)
[07:34:02] *** Quits: halosghost (halosghost@moz-A41005D9.org) (Ping timeout)
[07:34:02] *** Quits: km (quassel@moz-777F24DE.kevinmehall.com) (Ping timeout)
[07:34:02] *** Quits: paraze (paraze@moz-9E76094B.w90-27.abo.wanadoo.fr) (Ping timeout)
[07:34:02] *** Quits: stevekla1nik (steev@B1BA5385.27F34CF7.5670445F.IP) (Ping timeout)
[07:34:02] *** Quits: zen|merge (quassel@91FECF97.C92E06F3.D74AE493.IP) (Ping timeout)
[07:34:02] *** Quits: edwardw (Mibbit@4660DACB.EE06708D.4BFBD933.IP) (Ping timeout)
[07:34:02] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[07:34:02] *** Quits: Preyer (orasimus@moz-FA10A1CD.fi) (Ping timeout)
[07:34:02] *** Quits: ofeldt- (ofeldt@moz-B5AA97BC.dip0.t-ipconnect.de) (Ping timeout)
[07:34:02] *** Quits: vic (vic@moz-A4DD04C2.blinkenshell.org) (Ping timeout)
[07:34:04] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Ping timeout)
[07:34:04] *** Quits: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se) (Ping timeout)
[07:34:04] *** Quits: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP) (Ping timeout)
[07:34:04] *** Quits: rntz (rntz@moz-E7065CE4.cmdnnj.fios.verizon.net) (Ping timeout)
[07:34:04] *** Quits: reyre (reyre@6A6344CE.2BBBD1AD.5670445F.IP) (Ping timeout)
[07:34:04] *** Quits: Frippe (Frippe@8CFC6FA4.DDEDB70D.F3459CEF.IP) (Ping timeout)
[07:34:04] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[07:34:04] *** Quits: they (BlackHunte@moz-CD0C30EF.cmdnnj.fios.verizon.net) (Ping timeout)
[07:34:09] *** Quits: gimpf (gimpf@moz-81AEB0B7.adsl.highway.telekom.at) (Ping timeout)
[07:34:11] <dpc> So many ping timeouts ...
[07:34:19] *** Joins: vic (vic@moz-A4DD04C2.blinkenshell.org)
[07:34:19] *** Quits: busylizzy (lisa@270089DC.4EF5D73F.4E00FFE9.IP) (Ping timeout)
[07:34:25] *** Joins: wilson (wilson@moz-5531C57F.wb78.net)
[07:34:26] *** Joins: seubert (etc@moz-A474784E.members.linode.com)
[07:34:34] *** Joins: aphistic (aphistic@moz-D08A46AA.erikd.org)
[07:34:42] <Eridius> perhaps a netsplit? Does Mozilla IRC not do netsplit detection?
[07:34:44] *** Quits: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP) (Ping timeout)
[07:34:44] *** Quits: katis (katis@40C8AF65.EFDC2270.EE6E63A5.IP) (Ping timeout)
[07:34:44] *** Quits: oal (oal@26029749.1D466084.2CFD4520.IP) (Ping timeout)
[07:34:48] *** Quits: veeti (veeti@moz-D6414854.rojekti.fi) (Ping timeout)
[07:34:59] <dpc> https://github.com/dpc/rustyhex/blob/broken3/src/ui/sdl.rs#L191
[07:35:01] *** Quits: jackneill (jackneill@moz-88937885.pool.digikabel.hu) (Ping timeout)
[07:35:08] <dpc> I'm trying to get this line working.
[07:35:08] <mcpherrin> Eridius: Could be a network outage 
[07:35:14] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[07:35:14] *** Joins: devbug (quassel@moz-8C40558B.bchsia.telus.net)
[07:35:29] <dpc> I don't want to repeat whole line every time I want to use player...
[07:35:30] *** Joins: mvian (bacon@moz-9F046088.members.linode.com)
[07:35:33] *** Joins: doy (doy@moz-8F23663C.net)
[07:35:39] *** Joins: skelly (hl@moz-55F978C0.org)
[07:35:43] *** Joins: brianloveswords (brianloves@moz-CB223D1E.members.linode.com)
[07:35:51] *** Quits: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi) (Client exited)
[07:35:52] *** Quits: Kxepal (Miranda@moz-FD970928.pppoe.mtu-net.ru) (Quit: Kxepal)
[07:35:53] <dpc> So I'm looking for something that would give me if player.is_some() & player.unwrap().use_this_reference() 
[07:35:59] *** Joins: japaric_ (japaric@F2279727.A347E168.F4D5766F.IP)
[07:36:02] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[07:36:06] *** Joins: petantik (oz@moz-20EC2160.net)
[07:36:18] *** Joins: zen|merge (quassel@91FECF97.C92E06F3.D74AE493.IP)
[07:36:33] *** Joins: edwardw (Mibbit@4660DACB.EE06708D.4BFBD933.IP)
[07:37:12] *** Joins: jackneill (jackneill@moz-88937885.pool.digikabel.hu)
[07:37:30] <dpc> 5600 users here now?
[07:37:42] *** Joins: twi (Adium@moz-38B0FA24.cust.vodafonedsl.it)
[07:37:50] *** Joins: busylizzy (lisa@270089DC.4EF5D73F.4E00FFE9.IP)
[07:37:52] <dpc> No, I guess it's on mozzila irc server.
[07:37:55] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[07:37:55] *** Joins: Dessimat0r (Dessimat0r@moz-E3008B7A.me)
[07:37:55] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[07:37:56] *** Joins: Dylan16807 (dylan@moz-4FD5B5C1.lightspeed.cntmoh.sbcglobal.net)
[07:37:58] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[07:38:00] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[07:38:01] *** Joins: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP)
[07:38:03] *** Joins: Crandom (Crandom__@moz-56264BBC.sx)
[07:38:03] -concrete.mozilla.org- *** Channel joinflood detected (limit is 7 per 10 seconds), setting mode +R
[07:38:03] *** concrete.mozilla.org sets mode: +R 
[07:38:18] *** Joins: dju (dju@moz-83BD5EC.dmz.me)
[07:38:23] *** Joins: derek_c (derek@moz-3AE0B005.cit.cornell.edu)
[07:38:30] *** Joins: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi)
[07:38:41] *** Joins: erick (erick@E1304535.2A7189BF.BE19388.IP)
[07:38:48] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[07:38:52] *** Quits: frozendevil (Adium@moz-A9D8109F.hsd1.wa.comcast.net) (Quit: Leaving.)
[07:39:04] *** Joins: Zor (alexrp@moz-B01F40E3.rev.stofanet.dk)
[07:39:28] <dpc> Something is weird here.
[07:39:39] <dpc> Brb.
[07:40:01] *** Joins: km (quassel@moz-777F24DE.kevinmehall.com)
[07:40:16] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[07:40:26] *** Quits: subhashb (Adium@BE8E0B31.DF3ED0FB.1B69A185.IP) (Ping timeout)
[07:40:47] *** Joins: WalrusPony (retep998@moz-530D0BB2.dhcp.oxfr.ma.charter.com)
[07:41:04] *** Joins: heftig (heftig@moz-33D186ED.unitymedia.biz)
[07:42:18] *** Quits: cremes (cremes@5E71A5D9.E87CA987.A892B6C0.IP) (Ping timeout)
[07:43:05] *** Joins: Cork (Cork@456A2672.BA574D4D.BB9C2183.IP)
[07:43:06] *** concrete.mozilla.org sets mode: -R 
[07:43:06] *** Joins: nomme (nomme@moz-272A4570.na.cust.bahnhof.se)
[07:43:08] *** Joins: sindork (sindork@ABFA98AB.DD47BB48.F7A44A1B.IP)
[07:43:08] *** Joins: jroesch (jared@moz-CCF21286.whatbox.ca)
[07:43:11] *** Joins: benh (ben@moz-4A0366D2.org)
[07:43:12] *** Joins: kimundi (kimundi@moz-5680B20B.dip0.t-ipconnect.de)
[07:43:13] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[07:43:14] *** Joins: reyre (reyre@6A6344CE.2BBBD1AD.5670445F.IP)
[07:43:14] -concrete.mozilla.org- *** Channel joinflood detected (limit is 7 per 10 seconds), setting mode +R
[07:43:14] *** concrete.mozilla.org sets mode: +R 
[07:43:35] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[07:44:35] *** Joins: Ke (jkarlson@moz-785A3407.org.aalto.fi)
[07:44:50] *** Joins: subhashb (Adium@CE2BFF8F.2F2D4F61.1B69A185.IP)
[07:46:04] <TeXitoi> rusti: let player = Some(~"foo"); player.filtered(|p| p.len() != 0).is_some()
[07:46:08] -rusti- true
[07:46:34] <TeXitoi> dpc: that's what you are looking for?
[07:46:46] <Ke> what do people have irssi autoconnect commands in order to automatically be able to join #rust?
[07:47:08] <Eridius> Ke: /channel add -auto -network Mozilla #rust
[07:47:14] <Eridius> (or whatever the way to indicate network is)
[07:47:26] <Eridius> Ke: apparently it's `/channel add -auto #rust Mozilla`
[07:47:30] *** Joins: pastry (pastry@moz-3C63EA93.ip44.fastwebnet.it)
[07:47:56] <Ke> Eridius: this channel requires nickserv identify, which doesn't work quite like in freenode
[07:48:04] <Ke> there is some race condition or something
[07:48:16] *** concrete.mozilla.org sets mode: -R 
[07:48:16] *** Joins: ofeldt (ofeldt@moz-B5AA97BC.dip0.t-ipconnect.de)
[07:48:23] *** Joins: halosghost (halosghost@moz-A41005D9.org)
[07:48:34] *** Joins: Seicht (seich@moz-3D9F5ED0.webfaction.com)
[07:48:36] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[07:48:46] <Ke> mozilla: autosendcmd: ^msg NickServ identify myserv doesn't work
[07:48:51] *** Quits: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:49:11] <Ke> where myserv would be the password
[07:49:28] <dpc> TeXitoi: I'm looking for a way to make this code compile and look sane.
[07:49:49] <Ke> ie. I get the identify reply from nickserver, but I am never able to join this channel
[07:50:14] *** Quits: EarlGray (mitra@8E712A0.54C21BA0.9F317420.IP) (Quit: Konversation terminated!)
[07:50:31] <dpc> http://pastebin.com/2X2bgWKX this is what I'm getting ATM.
[07:50:49] <Ke> perhaps I'll just add wait 2000
[07:51:07] *** Joins: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi)
[07:51:42] <Eridius> Ke: odd, I just have an autosendcmd for Mozilla and I haven't noticed a problem. But I rarely disconnect
[07:52:48] *** Quits: derek_c (derek@moz-3AE0B005.cit.cornell.edu) (Ping timeout)
[07:53:00] *** Joins: cremes (cremes@5E71A5D9.E87CA987.A892B6C0.IP)
[07:53:17] *** Joins: EarlGray (mitra@8E712A0.54C21BA0.9F317420.IP)
[07:54:16] <TeXitoi> rusti: let player = Some(~"foo"); if player.filtered(|p| p.len() != 0).is_some() { println!("great") }
[07:54:17] -rusti- great
[07:54:17] -rusti- ()
[07:54:23] *** Quits: pastry (pastry@moz-3C63EA93.ip44.fastwebnet.it) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:54:29] <TeXitoi> dpc: not like that?
[07:54:47] *** Quits: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net) (Client exited)
[07:55:08] <dpc> TeXitoi: I'm using Weak<RefCell<Creature>>
[07:55:16] <dpc> That's the problem.
[07:55:24] <TeXitoi> rusti: let player = Some(~"foo"); if player.map_or(false, |p| p.len() != 0) { println!("great") }
[07:55:25] *** Joins: pastry (pastry@moz-3C63EA93.ip44.fastwebnet.it)
[07:55:25] -rusti- great
[07:55:25] -rusti- ()
[07:56:12] *** Joins: rylev (rylev@2445D334.A72DA0A8.2DB0BBA1.IP)
[07:56:54] *** Quits: rylev (rylev@2445D334.A72DA0A8.2DB0BBA1.IP) (Client exited)
[07:57:00] <TeXitoi> dpc: I need more context, an ugly working code for example, or a non working code that look like what you want
[07:57:04] *** Quits: devbug (quassel@moz-8C40558B.bchsia.telus.net) (Client exited)
[07:57:09] <Zr40> Ke: irssi?
[07:57:14] <dpc> :|
[07:57:15] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[07:57:36] <Ke> yes
[07:57:47] <dpc> The problem is Option::unwrap() is consuming the value.
[07:57:47] <Zr40> Ke: try /^msg
[07:57:56] <Ke> it'ds not that
[07:58:01] <Ke> works for freenode
[07:58:01] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[07:58:15] <Ke> and also I am able to identify, just not join #rust
[07:58:26] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[07:58:32] <Ke> or more precisely join #rust automatically
[07:58:39] <Zr40> odd, I can join #rust automatically without identifying
[07:58:52] <Ke> are you sure?
[07:59:15] <Zr40> it worked 50 minutes ago
[07:59:22] <Zr40> er, 70
[07:59:53] *** Joins: oberstet (quassel@moz-11D2B784.dynamic.mnet-online.de)
[08:00:06] *** Joins: jkarlson (jkarlson@moz-785A3407.org.aalto.fi)
[08:00:15] <jkarlson> hmm, true
[08:00:17] *** Parts: jkarlson (jkarlson@moz-785A3407.org.aalto.fi) ()
[08:01:02] <dpc> Got it!
[08:01:10] <dpc> I need to use get_ref instead of unwrap.
[08:01:15] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[08:01:44] *** Quits: echristo (echristo@4BCF0721.E96923BF.37EDBBD4.IP) (Quit: echristo)
[08:01:49] <TeXitoi> dpc: let background_color = if player.map_or(false, |p| p.borrow().hit_recently(game.tick_get()) { player_hit_background_color} else { normal_background_color }
[08:02:20] <dpc> No, no. It's solved.
[08:02:38] *** Quits: tikue (tkuehn@A7ECB14D.ADD881BB.D5A9E6FD.IP) (Quit: tikue)
[08:03:21] <TeXitoi> must do the same, just style (p.is_some() && p.get_ref()... is quite ugly as get_ref() may fail)
[08:06:00] <Ms2ger> So how do I match an Option<~str>?
[08:06:38] <Zr40> Ms2ger: Some(ref x) if "foo" == *x
[08:06:49] <Ms2ger> Ugh
[08:07:14] *** Joins: stack (urb@moz-8CCD40DD.retail.telecomitalia.it)
[08:07:19] <mcpherrin> personally I'd just use two matches
[08:08:09] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[08:08:26] *** Quits: edwardw (Mibbit@4660DACB.EE06708D.4BFBD933.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:08:50] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:09:53] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[08:10:23] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:10:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:12:14] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:12:59] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[08:13:38] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:15:33] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[08:16:36] <Shrike>   
[08:19:22] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[08:19:46] *** Joins: brandonson (SingingBoy@moz-39C19C5F.bchsia.telus.net)
[08:21:07] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:21:50] <brandonson> what happened to priv in structs?  are fields private-by-default now?
[08:22:07] <Zr40> yes
[08:22:23] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:22:49] <dpc> Is there do { } while loop ?
[08:22:53] <Ms2ger> No
[08:23:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:23:04] <dpc> Anything close to it?
[08:23:10] <Ms2ger> A while loop? :)
[08:23:26] <dpc> :/
[08:23:31] <Zr40> loop{} and break?
[08:24:00] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[08:24:02] *** Joins: benh (ben@moz-4A0366D2.org)
[08:25:00] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[08:25:24] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[08:26:10] *** Quits: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi) (Client exited)
[08:26:14] *** Joins: aepsil0n (ebopp@moz-DFDD087A.ita.uni-heidelberg.de)
[08:26:36] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[08:27:54] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:29:01] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[08:29:14] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[08:29:42] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:30:16] *** Quits: oberstet (quassel@moz-11D2B784.dynamic.mnet-online.de) (Connection reset by peer)
[08:30:17] *** Joins: oberstet (quassel@moz-11D2B784.dynamic.mnet-online.de)
[08:30:27] *** Quits: twi (Adium@moz-38B0FA24.cust.vodafonedsl.it) (Quit: Leaving.)
[08:31:06] *** Joins: mib_97um89 (Mibbit@moz-C4708075.hsd1.ca.comcast.net)
[08:31:28] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[08:32:05] *** Quits: ctangent (textual@moz-67DD0115.hsd1.wa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:32:32] *** Joins: aochagvia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[08:32:42] <aochagvia> I am looking now at iterators and have a couple of questions
[08:32:55] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Client exited)
[08:33:16] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[08:33:23] <aochagvia> count() is implemented this way: fn count(&mut self, predicate: |A| -> bool) -> uint { ... }
[08:33:41] <aochagvia> but filer() this way: fn filter<'r>(self, predicate: 'r |&A| -> bool) -> Filter<'r, A, Self> { ... }
[08:33:55] <aochagvia> it uses &A in the predicate, instead of A
[08:34:25] <aochagvia> hmmmm...
[08:34:26] <aochagvia> nevermind
[08:34:57] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[08:35:38] <dpc> :D
[08:35:41] <dpc> Rubber duck helped.
[08:38:14] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:38:15] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:38:29] *** Joins: atomit (textual@moz-C4708075.hsd1.ca.comcast.net)
[08:38:46] <dpc> In case huon is here: Rustyhex just got a lot of improvements and now hunting goblins is really fun. They fight back, chase from behind and the movement mechanics makes it possible to run etc.
[08:38:53] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[08:39:54] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[08:41:35] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[08:42:13] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:42:17] *** Parts: mib_97um89 (Mibbit@moz-C4708075.hsd1.ca.comcast.net) ()
[08:42:58] *** Joins: twi (Adium@moz-38B0FA24.cust.vodafonedsl.it)
[08:43:46] *** Joins: W0rmDr1nk (wormdrink@moz-CEAF0263.access.mtnbusiness.co.za)
[08:45:56] *** Joins: Boreeas (Boreeas@moz-F35C832D.boreeas.net)
[08:48:13] *** Joins: nkoep (nik@moz-D21960A0.pool.mediaways.net)
[08:48:33] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[08:48:47] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[08:48:48] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[08:49:02] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[08:49:30] <huon> dpc: nooooo
[08:49:32] <huon> I have work to do
[08:49:34] <huon> :'(
[08:49:34] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:50:01] <huon> dpc: stop making distracting things :P
[08:50:46] *** Quits: W0rmDr1nk (wormdrink@moz-CEAF0263.access.mtnbusiness.co.za) (Ping timeout)
[08:51:51] <huon> I died :'(
[08:52:41] *** Quits: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP) (Client exited)
[08:53:24] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[08:55:26] <aochagvia> I think I have found a bug
[08:55:30] <aochagvia> https://gist.github.com/aochagavia/e971f24a769d01d454e0
[08:56:11] <huon> dpc: that's cool :)
[08:56:28] <huon> aochagvia: what output do you expect?
[08:56:34] <aochagvia> I expect a type error
[08:56:41] <aochagvia> because uint - uint should be int
[08:56:43] <aochagvia> or something like that
[08:56:50] <aochagvia> but maybe I am missing something
[08:56:52] <huon> it wraps
[08:57:04] <huon> i.e. it's addition modulo 2^64
[08:57:15] <huon> (or 2^32 on 32 bit platforms, like you appear to be)
[08:57:17] <ion> aochagvia: That’s not how integers (unsigned or otherwise) are expected to work in programming languages in general.
[08:57:40] <huon> so 0 - 1 == 2^32 - 1 == <that number>
[08:57:51] *** Quits: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:57:53] <aochagvia> huon: I understand that
[08:58:09] <huon> unsigned types are designed to wrap
[08:58:10] <ion> One could implement a natural number type with specific behavior that doesn’t allow wrapping, but standard integers implement a modulo-2^n algebra or something like that.
[08:58:22] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[08:58:39] <aochagvia> What if I don't want it to wrap?
[08:58:50] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[08:58:50] <aochagvia> Is there a standard natural number type?
[08:58:52] <huon> (and uint - uint -> int wouldn't work, e.g. (2^64 - 1) as uint - 0 wouldn't be a "sensible" int answer)
[08:59:01] <huon> use .checked_add if you want to detect wrapping
[08:59:03] <atomit> is this issue 9469? https://github.com/mozilla/rust/issues/9469
[08:59:13] <huon> and a standard N type would be a bigint
[08:59:40] <huon> we have a (slow) bigint type in libnum http://static.rust-lang.org/doc/master/num/bigint/index.html
[09:00:04] <aochagvia> ok
[09:00:07] <aochagvia> thanks
[09:00:08] <huon> ( http://static.rust-lang.org/doc/master/std/num/trait.CheckedAdd.html )
[09:00:41] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[09:02:59] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Ping timeout)
[09:03:02] *** Quits: dsrx (tom@moz-691F2A52.crystae.net) (Ping timeout)
[09:03:02] *** Quits: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[09:03:02] *** Quits: sodaplayer (sodaplayer@B751F89E.92DA27D1.9510F13D.IP) (Ping timeout)
[09:03:02] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[09:03:02] *** Quits: sfackler (sfackler@moz-AEECCEBA.com) (Ping timeout)
[09:03:02] *** Quits: btipling (btipling@B47CA6CD.BE070C1E.5670445F.IP) (Ping timeout)
[09:03:20] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[09:03:20] *** Quits: photex (photex@399640B9.24E301D6.9510F13D.IP) (Ping timeout)
[09:03:32] *** Quits: phil (phil@684D2576.37BA1B1C.20F09BA6.IP) (Ping timeout)
[09:03:34] *** Quits: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[09:03:38] *** Joins: xoip (trevor@moz-4D8177E2.rochester.res.rr.com)
[09:03:39] *** Quits: jfhall (jfhall@moz-B3D0D48E.dhcp.snlo.ca.charter.com) (Ping timeout)
[09:03:41] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[09:03:41] *** Quits: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) (Ping timeout)
[09:03:42] <xoip> Hello
[09:03:49] <aochagvia> hi
[09:03:52] *** Quits: nicksome (nicksome@EB6CE212.38C653A8.5670445F.IP) (Ping timeout)
[09:04:27] *** Joins: Yurume (Yurume@A826BD81.8A0DEF81.38747683.IP)
[09:04:43] *** Quits: dforsyth (dforsyth@A677A619.1C765EF.EE6E63A5.IP) (Ping timeout)
[09:04:43] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[09:05:04] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[09:05:10] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[09:05:29] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[09:05:33] *** Joins: Guest (textual@moz-77D0F250.nebulazone.fi)
[09:05:58] *** Joins: nicksome (nicksome@EB6CE212.38C653A8.5670445F.IP)
[09:05:58] *** Joins: phil (phil@684D2576.37BA1B1C.20F09BA6.IP)
[09:06:33] *** Joins: dsrx (tom@moz-691F2A52.crystae.net)
[09:06:37] *** Joins: sodaplayer (sodaplayer@B751F89E.92DA27D1.9510F13D.IP)
[09:06:42] *** Joins: sfackler (sfackler@moz-AEECCEBA.com)
[09:06:48] *** Joins: photex (photex@399640B9.24E301D6.9510F13D.IP)
[09:06:50] *** Joins: btipling (btipling@B47CA6CD.BE070C1E.5670445F.IP)
[09:06:54] *** Joins: dforsyth (dforsyth@A677A619.1C765EF.EE6E63A5.IP)
[09:08:37] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[09:08:44] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[09:08:53] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[09:09:17] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[09:09:18] *** Joins: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com)
[09:09:55] *** Joins: jfhall (jfhall@moz-B3D0D48E.dhcp.snlo.ca.charter.com)
[09:10:36] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[09:11:30] *** pmoore is now known as pmoore|away
[09:12:08] *** Joins: oberstet_ (quassel@moz-11D2B784.dynamic.mnet-online.de)
[09:12:17] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[09:12:22] *** Quits: osa1 (omer@37F18D0F.FFCF2264.A967356F.IP) (Ping timeout)
[09:12:29] *** Quits: oberstet (quassel@moz-11D2B784.dynamic.mnet-online.de) (Ping timeout)
[09:13:23] *** Joins: osa1 (omer@37F18D0F.FFCF2264.A967356F.IP)
[09:13:55] *** Joins: W0rmDr1nk (wormdrink@moz-CEAF0263.access.mtnbusiness.co.za)
[09:14:47] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:14:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[09:17:26] *** Quits: StarLight (StarLight@moz-A41213D5.dynamic.avangarddsl.ru) (Ping timeout)
[09:18:36] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[09:19:20] *** pmoore|away is now known as pmoore
[09:19:35] *** Quits: atomit (textual@moz-C4708075.hsd1.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[09:20:07] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:20:16] *** Quits: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch) (Ping timeout)
[09:21:32] *** Joins: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch)
[09:21:37] *** Joins: StarLight (StarLight@moz-9A95A79D.dynamic.avangarddsl.ru)
[09:23:35] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[09:26:05] *** Quits: aepsil0n (ebopp@moz-DFDD087A.ita.uni-heidelberg.de) (Ping timeout)
[09:26:45] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:29:45] *** Quits: mye (mye@moz-130CE194.swh.uni-giessen.de) (Quit: sleep message)
[09:30:06] *** Quits: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net) (Ping timeout)
[09:34:56] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[09:35:47] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[09:37:37] *** kimundi is now known as zz_kimundi
[09:41:50] *** Quits: fazal (fazal@E43CDEC2.DD69F2BB.E8916D75.IP) (Ping timeout)
[09:42:55] *** Joins: libfud (libfud@moz-73F272E4.res-cmts.eph2.ptd.net)
[09:43:21] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[09:43:34] *** sankha93|bored is now known as sankha93
[09:43:46] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[09:45:40] *** Joins: kvanb (kvanb@moz-92189489.lnse2.win.bigpond.net.au)
[09:46:16] *** Joins: aepsil0n (ebopp@moz-9AAF7E4D.ita.uni-heidelberg.de)
[09:49:07] *** Quits: kvanb (kvanb@moz-92189489.lnse2.win.bigpond.net.au) (Ping timeout)
[09:49:45] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[09:50:45] *** Quits: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch) (Ping timeout)
[09:50:50] *** Joins: kvanb (kvanb@moz-2108D6E2.lnse4.win.bigpond.net.au)
[09:50:55] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[09:51:42] *** Quits: mr_sticky (Mibbit@moz-4058A5B9.ge-0-2-0-712.arcnqu2.dk.customer.tdc.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:51:56] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[09:53:44] <kvanb> hi
[09:55:31] *** Joins: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[09:56:29] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: Textual IRC Client: www.textualapp.com)
[09:56:35] *** Quits: mawuli (mawuli@2760A9B5.4882C7ED.DE15C958.IP) (Connection reset by peer)
[09:57:32] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[09:58:08] <bjz> kvanb: hurro!
[09:58:19] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[09:58:47] *** Joins: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch)
[09:59:29] *** Joins: cyndis (cyndis@moz-C4357EA7.kapsi.fi)
[10:00:23] <lurk_> What do I use for a dynamically allocated fixed-size vector (with all values initialized to 0)? 
[10:01:34] *** Quits: GeneralMaximus (textual@7211776A.18BB8029.650F25DA.IP) (Ping timeout)
[10:02:29] <ChrisMorgan> rusti: [0, ..5]
[10:02:35] -rusti- pastebinned 8 lines of output: http://ix.io/bxm
[10:02:58] *** Joins: elfenlaid (elfenlaid@46447242.24FD34AF.F2EC20BB.IP)
[10:03:29] <ChrisMorgan> Anyway, [0, ..5] will produce a five-element vector.
[10:04:00] <Yurume> rusti: [0u, ..5]
[10:04:04] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[10:04:08] -rusti- pastebinned 8 lines of output: http://ix.io/bxn
[10:04:14] <Yurume> aww.
[10:04:43] <lurk_> The length is only known at run time. It doesn't need to be growable.
[10:05:40] *** Joins: GeneralMaximus (textual@7211776A.18BB8029.650F25DA.IP)
[10:06:54] <lurk_> Would you use a slice?
[10:07:16] <Yurume> lurk_: ~[0, ..5] is your best bet. (which type is ~[uint, ..5], not obviously)
[10:07:39] <Ms2ger> rusti: let n = 7u; std::slice::from_elem(n, None)
[10:07:40] -rusti- <anon>:11:21: 11:42 error: cannot determine a type for this bounded type parameter: unconstrained type
[10:07:40] -rusti- <anon>:11         let n = 7u; std::slice::from_elem(n, None)
[10:07:40] -rusti-                               ^~~~~~~~~~~~~~~~~~~~~
[10:07:40] -rusti- playpen: application terminated with error code 101
[10:07:44] <Ms2ger> Bah
[10:07:45] <Yurume> currently the fixed-size vector is a strange exception to the whole vector business, though
[10:07:47] <Ms2ger> rusti: let n = 7u; std::slice::from_elem(n, 42u)
[10:07:48] -rusti- [42, 42, 42, 42, 42, 42, 42]
[10:08:04] <Yurume> Ms2ger: it creates ~[T] unfortunately.
[10:08:08] <lurk_> I want to do something like this: ~[0, ..length];
[10:08:23] <Ms2ger> No, you don't
[10:08:24] <Yurume> lurk_: ah, ~([0, ..length]). sorry for mistake.
[10:08:46] <Yurume> but I think it would make no measurable difference if you don't grow the vector
[10:09:04] <lurk_> oikay
[10:09:25] <Ms2ger> How is [0, ..length] ever going to work?
[10:09:25] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:09:49] <Yurume> ah?
[10:10:24] <Ms2ger> "The length is only known at run time."
[10:10:24] <Yurume> Ms2ger: I thought `length` is not a variable but a syntactic placeholder (for the explanation)?
[10:10:34] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Client exited)
[10:10:34] <Yurume> ah
[10:10:52] <Yurume> lurk_: well, in that case, you *should* use the growable vector, no exception.
[10:11:09] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:11:21] <Ms2ger> Are we back to "no ~[T] ever"?
[10:11:22] <Yurume> there is an active proposal about the non-growable dynamic vector, but using a growable vector does no harm.
[10:12:12] <lurk_> I wasn't sure if using growable vector would have any consequences
[10:12:16] * Yurume has a bad habit to misread or ignore some lines completely
[10:12:32] <lurk_> Thanks.
[10:12:40] <Ms2ger> lurk_, it does have a consequence... You can now grow it ;)
[10:12:47] <Yurume> lurk_: growable vector means that you have a capacity in addition to the actual length.
[10:12:59] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:13:03] <Yurume> (capacity, i.e. the allocated length)
[10:13:57] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[10:14:01] <Yurume> but the allocated length equals to the actual length when you construct a growable vector with the definite size, so it hardly makes a difference
[10:14:34] <Yurume> the only difference would be, then, you can change both the allocated/actual size later ;)
[10:14:38] *** Quits: iamstef (sid12605@moz-31ABA2C0.irccloud.com) (Ping timeout)
[10:14:38] *** Quits: zil (sid23500@moz-31ABA2C0.irccloud.com) (Ping timeout)
[10:15:05] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[10:15:13] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Client exited)
[10:15:28] <Yurume> (note that vec!() currently constructs a vector with larger allocated size than the actual size due to its use of Vec::new(), but it will change)
[10:15:34] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[10:15:45] *** Joins: zil (sid23500@moz-31ABA2C0.irccloud.com)
[10:15:46] *** Joins: iamstef (sid12605@moz-31ABA2C0.irccloud.com)
[10:15:48] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:15:48] *** ChanServ sets mode: +o pnkfelix
[10:16:34] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Ping timeout)
[10:16:56] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[10:17:07] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[10:18:09] <lurk_> So whats the difference between std::vec::Vec and std::slice?
[10:18:37] *** Joins: kard (kard@moz-9757A042.dip0.t-ipconnect.de)
[10:19:24] <lurk_> Besides one is Vec<T> and other ~[T]
[10:19:46] <huon> std::slice defines functionality for all &[T] slices
[10:19:57] <huon> std::vec is just the Vec type
[10:20:00] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[10:20:02] <huon> (is this what you're asking?)
[10:20:37] <pnkfelix> I suspect some of the stuff in std::slice will also go away with DST
[10:20:55] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[10:21:03] <pnkfelix> at least, right now it has impls for e.g. a push method on ~[T]
[10:21:13] <pnkfelix> (via the OwnedVector trait)
[10:21:22] <huon> yeah, all the resizing stuff for ~[T] will probably disappear
[10:21:24] *** Quits: W0rmDr1nk (wormdrink@moz-CEAF0263.access.mtnbusiness.co.za) (Ping timeout)
[10:21:25] <pnkfelix> I wonder if we should try to mark some of that stuff as deprecated
[10:21:41] <huon> s/probably/hopefully/ (if it doesn't disappear then it'll be frightfully slow)
[10:21:59] <huon> pnkfelix: there's still a few too many public uses of ~[T] for it to be feasible
[10:22:02] * huon tried
[10:22:02] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:22:16] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:22:45] <huon> but a de ~[]-ing of std::io recently landed, and I need to update my de ~[]-ing of libcollections and then std::path will be the last major user of ~[]
[10:22:46] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[10:22:56] *** Joins: Earnestly (earnest@moz-2C691159.dyn.plus.net)
[10:23:20] <huon> oh, and ~str (pending pcwalton's StrBuf patch)
[10:24:48] <kvanb> hi bjz !
[10:24:50] <kvanb> hi vadimcn 
[10:24:56] <bjz> :P
[10:25:06] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[10:26:08] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[10:26:29] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[10:28:12] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[10:28:40] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:29:23] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[10:29:43] *** Quits: ehsanul (harish@moz-24DD2596.hsd1.ca.comcast.net) (Ping timeout)
[10:29:52] *** Joins: ehsanul (harish@moz-24DD2596.hsd1.ca.comcast.net)
[10:30:24] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:31:08] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Input/output error)
[10:31:14] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Client exited)
[10:31:38] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[10:32:44] *** Quits: GeneralMaximus (textual@7211776A.18BB8029.650F25DA.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:33:19] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Ping timeout)
[10:33:41] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[10:34:00] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[10:34:34] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[10:36:54] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[10:37:15] *** Joins: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP)
[10:40:31] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[10:43:14] *** Quits: santiago (santiago@moz-69361A64.socal.res.rr.com) (Ping timeout)
[10:44:37] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[10:44:40] *** Joins: rootnode (rootnode@moz-B6060A8D.pools.arcor-ip.net)
[10:45:24] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[10:46:49] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[10:49:43] *** Joins: mib_24s6g1 (Mibbit@moz-150F5176.dhcp.ftwo.tx.charter.com)
[10:50:14] *** Quits: mib_24s6g1 (Mibbit@moz-150F5176.dhcp.ftwo.tx.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[10:51:08] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[10:59:29] *** Quits: aochagvia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[10:59:30] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:00:20] *** Joins: GeneralMaximus (textual@FCE8EAE7.24AECFC8.8037CBEF.IP)
[11:02:17] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[11:04:06] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Ping timeout)
[11:04:56] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:05:01] * ChrisMorgan is feeling happy because he has (a) ordered a new laptop, (b) made a better solder joint for his power adapter this time, and (c) is currently rebuilding rust so that he can build rust-openssl so that he can finish testing SSL and merge it into rust-http 
[11:06:37] *** Joins: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de)
[11:06:43] <flaper87> ChrisMorgan: \o/
[11:06:50] *** Quits: [squiddy] (squiddy@moz-7B493F09.dip0.t-ipconnect.de) (Quit: Leaving)
[11:07:17] * ChrisMorgan wants to finish off the first of his articles on Teepee—specifically, its error handling mechanism—tonight, also
[11:07:28] <ChrisMorgan> (HTTP header error handling, that is.)
[11:09:10] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[11:10:52] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[11:11:13] <flaper87> ChrisMorgan: btw, any news on that API rewrite you were planning for rust-http ?
[11:11:22] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[11:11:27] <ChrisMorgan> flaper87: that's Teepee
[11:11:32] <flaper87> ChrisMorgan: ah, ok! 
[11:11:33] <flaper87> :D
[11:11:44] *** Joins: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com)
[11:11:55] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:12:39] *** Quits: nkoep (nik@moz-D21960A0.pool.mediaways.net) (Client exited)
[11:12:45] <ChrisMorgan> Well, I guess https://travis-ci.org/chris-morgan/rust-http/builds/22435380 means I don't need to wait for my own Rust to finish building. ☺
[11:13:02] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Ping timeout)
[11:13:02] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:14:44] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:14:44] *** ChanServ sets mode: +o pnkfelix
[11:15:12] <ChrisMorgan> There, rust-http officially has SSL client support with rust-openssl.
[11:15:37] <flaper87> ChrisMorgan: \o/ great! :)
[11:15:41] <ChrisMorgan> (I see no rush on the server side—it's safer not doing it itself, for the moment.)
[11:16:02] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[11:17:02] <Ms2ger> OpenSSL is the one with the horribly unsafe defaults, right?
[11:17:10] * ChrisMorgan doesn't know
[11:17:18] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140406030203])
[11:17:28] * ChrisMorgan has not made any particularly great effort to understand SSL yet
[11:17:37] <Ms2ger> You scare me :)
[11:17:41] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:18:20] <ChrisMorgan> Ms2ger: there's a reason I didn't implement SSL myself.
[11:18:34] <ChrisMorgan> If no one else had, I would have made sure I learned enough about it, eventually.
[11:18:48] <ChrisMorgan> But fortunately, people came along and gave me their SSL codez ☺
[11:18:52] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[11:19:10] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: ...take irc away, what are you? genius, billionaire, playboy, philanthropist)
[11:19:39] *** Quits: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net) (Quit: meyer)
[11:21:47] *** Quits: nfroidure (nfroidure@moz-E753E331.w90-18.abo.wanadoo.fr) (Ping timeout)
[11:21:52] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[11:22:13] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:23:34] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[11:24:01] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Quit: Konversation terminated!)
[11:24:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[11:24:09] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[11:26:55] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Quit: Konversation terminated!)
[11:27:02] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[11:28:57] <libfud> I just realized that I wasted a lot of time when I could have searched the rust documentation
[11:29:01] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:29:09] <libfud> at least I learned about hashmaps
[11:29:27] <libfud> http://sprunge.us/YRAB
[11:29:38] * libfud didn't think to search for opt or getopt
[11:31:01] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[11:33:38] <vadimcn> kvanb: hi
[11:36:19] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[11:37:02] <kvanb> hi vadimcn !
[11:37:06] <kvanb> I tracked down info about the segfault
[11:37:50] <kvanb> its really strange
[11:37:57] <kvanb> its kind of like the pointer size is set incorrectly or something(?)
[11:38:04] <kvanb> segfaults in the middle of setting some member of a struct
[11:38:36] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:38:37] *** pmoore is now known as pmoore|lunch
[11:39:59] *** Joins: blaphmat (Mibbit@4E7221DC.59C28C02.BBC9C0CF.IP)
[11:40:16] <kvanb> https://gist.github.com/kvanberendonck/10018725
[11:40:40] *** Joins: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP)
[11:41:36] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:41:36] *** Quits: blaphmat (Mibbit@4E7221DC.59C28C02.BBC9C0CF.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:43:16] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Write error: Connection reset by peer)
[11:43:19] *** Joins: _eddyb_ (eddy@9C8921DE.97C485DB.D608C900.IP)
[11:44:44] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[11:49:53] *** Parts: aepsil0n (ebopp@moz-9AAF7E4D.ita.uni-heidelberg.de) ()
[11:53:09] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:53:14] *** _eddyb_ is now known as eddyb
[11:54:12] *** Joins: ganitsu (ganitsu@moz-F6749E2C.dialup.adsl.anteldata.net.uy)
[11:54:41] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:57:10] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[11:58:05] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[11:59:16] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[12:00:00] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[12:00:03] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Client exited)
[12:00:25] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[12:01:03] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[12:01:06] *** pmoore|lunch is now known as pmoore
[12:01:22] *** Joins: rylev_ (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[12:01:50] *** Joins: phild (Mibbit@moz-A832471B.fbx.proxad.net)
[12:02:08] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[12:02:08] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Ping timeout)
[12:02:53] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[12:03:31] *** Joins: workbean (tunnel@4854BD0.B14CD10C.9510F13D.IP)
[12:04:05] <workbean> I'm trying to understand this piece of code - http://pastebin.com/GKEdeUKG - how is decode() aware of the structure of MyStruct?
[12:04:22] *** zz_kimundi is now known as kimundi
[12:04:37] *** Joins: asmyers (quassel@2D30C89C.A07F7734.FAA4474F.IP)
[12:04:46] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Ping timeout)
[12:05:37] *** Quits: rootnode (rootnode@moz-B6060A8D.pools.arcor-ip.net) (Connection reset by peer)
[12:05:50] *** Joins: rootnode (rootnode@moz-B6060A8D.pools.arcor-ip.net)
[12:06:08] <eddyb> workbean: do you have #[deriving(Decodable)] on the struct?
[12:07:39] <workbean> eddyb: yes
[12:08:05] <Ms2ger> That's how
[12:08:20] <workbean> okay I get it now - pub trait Decodable<D: Decoder<E>, E> 
[12:08:33] <workbean> I missed that Decoder<E> part, I thought Rust was doing very magical there
[12:08:54] <workbean> something*
[12:09:08] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[12:11:11] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[12:11:50] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[12:11:55] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[12:12:00] <workbean> actually no, decoder isn't aware of MyStruct either 
[12:12:52] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[12:13:03] *** Joins: _eddyb_ (eddy@9C8921DE.97C485DB.D608C900.IP)
[12:13:10] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Quit: Konversation terminated!)
[12:13:42] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:14:15] <huon> workbean: the trick is the `impl Decodable<...> for MyStruct { ... }` that deriving creates
[12:14:44] <huon> i.e. implementing the trait tells rustc "this is how you decode a mystruct"
[12:15:35] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[12:16:27] <workbean> I understand that part, but maybe I don't get generics that well, because I don't get how decode() knows that you want a MyStruct 
[12:16:37] *** Joins: echristo (echristo@moz-A359269F.wlan.net.ed.ac.uk)
[12:16:51] <huon> oh, your paste is gone?
[12:16:55] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[12:17:23] <huon> but you had something like `let foo: MyStruct = match Decode::decode(...) { Ok(a) => a, Err(e) => fail!() }` right?
[12:17:37] <workbean> yeah that's right
[12:17:55] <huon> it's the `MyStruct` type annotation on `foo`. Type inference unifies the type of `foo` with the type of `a` (i.e. they have to be the same)
[12:18:20] <huon> which then dictates the type of the return value of decode
[12:18:24] <workbean> my god, that is amazing 
[12:18:37] <workbean> that's two levels right
[12:18:39] <huon> which then dictates the impl chosen internal to decode
[12:18:55] <huon> I guess so
[12:19:04] <huon> theoretically you won't need any type hints
[12:19:35] <huon> e.g. if later you called a function `fn bar(x: &MyStruct) { ... }` then `let foo = match ...; bar(&foo)` would infer the type for foo from the `bar` call
[12:20:37] <huon> s/won't/might not/
[12:21:02] <workbean> yeah that's quite amazing
[12:21:02] <huon> (there are many instances where some type hint somewhere is required, but also many where they are not)
[12:21:26] <huon> wait until you get to Haskell, which can normally infer the types of every value in the entire program :P
[12:21:51] *** Joins: Ferreus (ferreus@moz-ACA2B0CA.dip0.t-ipconnect.de)
[12:21:52] <workbean> I wasn't expecting type inference to work across pattern matching 
[12:22:01] <workbean> that's why I didn't get that code at first, thanks huon 
[12:22:24] <huon> np :)
[12:22:25] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[12:23:59] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[12:24:08] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[12:24:46] <Earnestly> workbean: The cool thing is it can infer types in basically constant time
[12:25:12] <Ms2ger> Fortunately... It's not like rustc isn't slow enough :)
[12:25:16] *** _eddyb_ is now known as eddyb
[12:25:26] <Earnestly> workbean: https://en.wikipedia.org/wiki/Hindley-Milner (fwiw)
[12:27:51] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[12:28:19] <benh> rusti: match 42 { 42 | x if x < 42 => (), _ => () }
[12:28:20] -rusti- <anon>:11:25: 11:26 error: variable `x` from pattern #2 is not bound in pattern #1
[12:28:20] -rusti- <anon>:11         match 42 { 42 | x if x < 42 => (), _ => () }
[12:28:20] -rusti-                                   ^
[12:28:21] -rusti- error: aborting due to previous error
[12:28:21] -rusti- playpen: application terminated with error code 101
[12:28:23] *** Joins: canhtak (canhtak@moz-7FC55BCE.wl.t.ulaval.ca)
[12:28:25] <benh> aww :(
[12:28:45] *** Quits: alonlevy (alon@moz-B6210BD6.red.bezeqint.net) (Ping timeout)
[12:28:59] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[12:29:22] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Client exited)
[12:29:54] <benh> rusti: let s = ~"welp"; welp == "welp"
[12:29:55] -rusti- <anon>:11:26: 11:30 error: unresolved name `welp`. Did you mean `s`?
[12:29:55] -rusti- <anon>:11         let s = ~"welp"; welp == "welp"
[12:29:55] -rusti-                                    ^~~~
[12:29:55] -rusti- error: aborting due to previous error
[12:29:55] -rusti- playpen: application terminated with error code 101
[12:29:58] <benh> err
[12:30:01] <benh> rusti: let s = ~"welp"; s == "welp"
[12:30:04] -rusti- <anon>:11:31: 11:37 error: mismatched types: expected `~str` but found `&'static str` (str storage differs: expected `~` but found `&'static `)
[12:30:07] -rusti- <anon>:11         let s = ~"welp"; s == "welp"
[12:30:09] -rusti-                                         ^~~~~~
[12:30:11] -rusti- error: aborting due to previous error
[12:30:13] -rusti- playpen: application terminated with error code 101
[12:30:13] <benh> What's the proper way to compare a ~str against a string literal?
[12:30:20] <huon> rusti: match 42 { std::int::MIN .. 42 => (), _ => () }
[12:30:21] -rusti- <anon>:11:34: 11:36 error: expected `=>` but found `..`
[12:30:21] -rusti- <anon>:11         match 42 { std::int::MIN .. 42 => (), _ => () }
[12:30:21] -rusti-                                            ^~
[12:30:22] -rusti- playpen: application terminated with error code 101
[12:30:25] <huon> :'(
[12:30:26] <Ms2ger> benh, "foo" == s
[12:30:31] <benh> augh
[12:30:44] <Ms2ger> benh, or s.as_slice() == "foo"
[12:30:49] <huon> rusti: let s = ~"welp"; (s.as_slice() == "welp", "welp" == s)
[12:30:49] -rusti- (true, true)
[12:30:53] <huon> dammit Ms2ger
[12:31:00] <huon> stole my thunder :'(
[12:31:09] <Ms2ger> huon, :)
[12:31:24] <benh> I wanted to use "." | ".." | x if path.join(x).exists() as a pattern
[12:31:41] <benh> but I guess it's gonna have to be an if-statement
[12:32:01] <huon> or a separate pattern with fall through
[12:32:09] <Ms2ger> Fall through?
[12:32:10] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Ping timeout)
[12:32:13] <huon> ... if we had fall through
[12:34:04] <Ms2ger> http://cdn.memegenerator.net/instances/500x/48229649.jpg
[12:34:23] <huon> hah
[12:34:54] <bstrie> Ms2ger: I understand now why you were sad last week, you were upgrading servo to an obsolete version of rust just as we were all celebrating 0.10 :P
[12:35:06] <benh> I feel bad because I'm using -1 as a magical value instead of using Option<uint>
[12:35:10] <flaper87> Ms2ger: LOL
[12:35:13] <huon> benh: you should field bad
[12:35:19] <Ms2ger> Dammit huon
[12:35:20] <huon> erm
[12:35:25] <Ms2ger> stole my thunder :'(
[12:35:32] <benh> but otoh I'm pretty sure -1 as uint isn't gonna be a valid index for a Vec<> anyway
[12:35:46] <huon> Ms2ger, :)
[12:35:57] <Ms2ger> benh, but with option.unwrap(), you'd be sure :)
[12:36:08] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[12:36:08] <flaper87> huon: Ms2ger why don't you 2 get your own thunders instead of stealing each other's ?
[12:36:09] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[12:36:15] <benh> with assert(blah.len() < -1 as uint) too ;)
[12:36:16] <huon> benh: it might be, for a very large vector on a system with literally no other memory used
[12:36:24] <flaper87> well, that wouldn't be as fun, though
[12:36:28] * Ms2ger throws thunder at flaper87 
[12:36:33] <benh> huon: yeah, but it's a vector that's created from splitting a string etc
[12:36:36] <huon> flaper87: there's only enough thunder for one person
[12:36:48] <huon> benh: drat
[12:36:51] <huon> you win this round
[12:36:57] <flaper87> huon: and now I have it since Ms2ger threw it to me :P
[12:37:31] <benh> I just can't bring myself to put an Option<uint> into this other vector, where the uint is gonna be <16 in probably just about all cases and very likely <PATH_MAX or whatever
[12:37:42] <benh> so many bytes wasted... dozens of them!!
[12:38:04] *** Joins: Sorella (queen@BD3C138B.B46B7936.54BCAB54.IP)
[12:38:09] <huon> use Option<u8>
[12:38:19] <huon> :P
[12:38:38] <Ms2ger> huon, what size is that? u8 + uint tag? :)
[12:38:46] <benh> the tag is gonna be u8 too
[12:38:49] <huon> 2 bytes
[12:38:51] * ChrisMorgan dashes in and nabs the thunder
[12:38:52] <benh> it shrinks to fit
[12:39:17] <benh> ... i'm still fiddling with libglob, and the uint is the index into the vector of the glob split by slashes
[12:39:25] <huon> the discriminant/tag is (by default) the smallest size that fits the number of variants (i.e. u8 almost always)
[12:39:46] <benh> I'm pretty sure no one is gonna pass in a glob that takes up all of addressable memory, but someone might try to match a glob bigger than 256 bytes, sometimes
[12:39:53] <huon> but alignment/padding means it ends up taking a whole uint/word for any non-trivial types
[12:40:11] <huon> benh: that's crazy talk
[12:40:21] <huon> 256 bytes is enough for anyway
[12:40:23] <huon> *anyone
[12:41:09] *** pmoore is now known as pmoore|mtg
[12:41:15] * huon is very strict about keeping his structs and vectors less than 256 bytes, always.
[12:41:34] <benh> i wonder how long the deepest paths in the rust build dir are
[12:41:40] *** Joins: ndt (ndt@FEACE86F.DD5772EA.88820282.IP)
[12:42:07] <huon> something in src/rt I'd guess
[12:42:14] <huon> (unless you count the llvm submodule...)
[12:42:30] <huon> oh, build dir? not source dir?
[12:42:41] <benh> i figured all these x86_64-unknown-linux-gnu would add up
[12:43:57] <benh> something like x86_64-unknown-linux-gnu/test/run-pass-fulldeps/macro-crate-outlive-expansion-phase.stage2-x86_64-unknown-linux-gnu.libaux/libmacro_crate_outlive_expansion_phase-5f509cfb-0.0.so
[12:44:59] <Ms2ger> You must like Servo
[12:45:01] <Ms2ger> obj-servo/x86_64-unknown-linux-gnu/src/compiler/rust/x86_64-unknown-linux-gnu/stage2/lib/rustc/x86_64-unknown-linux-gnu/bin
[12:45:15] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[12:45:29] * ChrisMorgan waits for a Windows developer to have maximum path length issues
[12:46:14] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[12:46:32] <huon> exactly! it will be consistent across cross-platforms if we only support up to 256 bytes
[12:46:37] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[12:46:50] <ChrisMorgan> Actually, 254.
[12:47:12] <huon> my plans are foiled for a second time in half an hour!
[12:47:20] * huon is a horrible evil mastermind
[12:47:43] <Yoric> Apparently, just a henchman so far.
[12:47:57] <Yoric> To be a mastermind, you need your plans to last at least until the end of the episode.
[12:48:10] <ChrisMorgan> huon: I have vacancies open for internships if you want to be a henchman.
[12:48:46] <Yoric> Twice in 1/2h could be a middle manager of evil.
[12:48:59] <Yoric> That depends on how long the episodes last.
[12:49:07] * ChrisMorgan spares huon from the indignity of being a middle manager
[12:49:11] <Tobba> libc was moved out of std at last?
[12:49:14] <Ms2ger> Yes
[12:49:15] <Tobba> ding dong the witch is dead
[12:49:17] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[12:49:22] *** Quits: subhashb (Adium@CE2BFF8F.2F2D4F61.1B69A185.IP) (Quit: Leaving.)
[12:49:23] <huon> Tobba: libstd still depends on libc
[12:49:30] <Tobba> still
[12:49:36] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[12:49:40] <huon> there's little change other than it being in a separate crate, rather than separate module
[12:49:50] <Yoric> huon: Ahah, there is an opening for a position of evil witch, if you are interested.
[12:49:54] <huon> and also discovering windows bugs in the process
[12:50:03] <huon> Yoric: hm, I'd consider it
[12:50:12] <Yoric> Qualification required: not allergic to silver slippers.
[12:50:23] *** Quits: rylev_ (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Client exited)
[12:50:27] <huon> let me check my medical records
[12:50:28] *** Joins: erickt (erickt@B91004E7.345B955C.2321E71E.IP)
[12:50:35] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:50:42] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[12:51:01] <huon> Oh no... silver slippers are my one weakness.
[12:51:50] <Tobba> I wonder if eddybs inflate thing will ever become stable enough to put in libflate
[12:52:16] * ChrisMorgan imagines `C:\Documents and Settings\Christopher Morgan second profile\My Documents\Software Development\Mozilla\Rust\Servo\Development\servo\obj-servo\i646-pc-mingw32\src\compiler\rust\i646-pc-mingw32\stage2\lib\rustc\i646-pc-mingw32\lib\libsyntax-deadbeef-0.11-pre.dll`
[12:52:16] <Tobba> actually, I should make a PR to make libflate not fail upon invalid data
[12:52:18] *** Quits: erickt (erickt@B91004E7.345B955C.2321E71E.IP) (Ping timeout)
[12:52:21] <Tobba> because thats horribly annoying and shit
[12:52:41] <huon> yes, please do
[12:53:08] <huon> ChrisMorgan: i646?
[12:53:42] <Tobba> the change to libflate is simple
[12:53:46] <ChrisMorgan> huon: sure
[12:53:50] <Tobba> not sure how I would deal with the fallout of things that use it however
[12:53:57] <huon> there's very few users
[12:54:00] <ChrisMorgan> Actually, I guess i686 is more common :-/
[12:54:03] <Tobba> rustc is the only one I know really
[12:54:05] <huon> the compiler uses it in like two places
[12:54:08] <huon> and the tests
[12:54:12] <huon> and that's pretty much it
[12:54:17] <Tobba> doesnt rustc get built with an older version
[12:54:22] <huon> nope
[12:54:26] <huon> ChrisMorgan: yep
[12:55:32] *** Joins: judder (maradukewa@BD9E6B94.126EFFE1.78E362FE.IP)
[12:55:37] *** Parts: judder (maradukewa@BD9E6B94.126EFFE1.78E362FE.IP) ()
[12:55:48] <ChrisMorgan> At least in Vista they freed up 17 bytes by using C:\Users rather than C:\Documents and Settings. And often another three by Documents instead of My Documents.
[12:56:01] <huon> Tobba: in the bootstrap, everything from std through to rustc is built using the snapshot, but each thing links against the just-compiled version of the dependencies
[12:56:07] <huon> not the version that's in the snapshot
[12:56:26] <Tobba> oh
[12:56:26] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[12:56:31] <huon> and then the built-with-snapshot rustc is used to compile the next stage
[12:56:33] <huon> etc.
[12:56:51] <huon> ChrisMorgan: and got rid of the horrible horrible spaces in file paths
[12:57:08] <Ms2ger> C:\Program Files (x64)?
[12:57:17] <Tobba> nope
[12:57:26] <ChrisMorgan> huon: you know what? I actually *prefer*, from time to time, to have spaces in my path just so that I catch things that were written badly.
[12:57:35] <Tobba> heh
[12:57:43] <benh> just rename your 'C' drive to the ' ' drive
[12:57:54] * huon has an executable ' '
[12:57:54] <ChrisMorgan> benh: [A-Z] only
[12:57:58] <huon> and '\n\n\n\n'
[12:58:20] <huon> they're highly useful for anything other than "ooh, look what linux can do with paths", definitely. ;P
[12:58:37] <ChrisMorgan> Maybe huon is more than just apprentice material.
[12:58:45] * benh has a file named -i to catch badly written 'rm' commandlines
[12:59:02] <ChrisMorgan> When working with PortableApps.com, I saw more than my fair share of path length issues. C:\Documents and Settings\Quite long username\My Documents\Programs\Portable apps\PortableApps\PortableApps\LibreOfficePortable\App\soffice\[libreoffice then had the longest internal paths of any of our apps and was the most common path length crasher]
[12:59:05] <Tobba> I prefer -rf .. files
[12:59:15] <Tobba> -rf --no-preserve-root ..
[12:59:24] <benh> alas it won't split that :(
[12:59:27] <ChrisMorgan> benh: yeah, done that too
[12:59:41] <gavinb> So the TotalOrd trait is not defined for f32/f64, presumably because equality is ill-defined without an epsilon tolerance. But this not only prevents you from using all the useful iter() functions, it also means you can’t define your own since it isn’t in the same crate as the trait. So - what is the recommended solution here?
[13:00:02] <huon> gavinb: it's actually not defined because of NaN
[13:00:03] <Ms2ger> gavinb, actually because of NaN
[13:00:05] <ChrisMorgan> gavinb: NaN and -0.0 are the problems with TotalOrd.
[13:00:09] <huon> and...
[13:00:12] <Ms2ger> Dammit again, huon
[13:00:14] <Ms2ger> !
[13:00:16] <Ms2ger> !!
[13:00:20] <Tobba> uh
[13:00:22] * huon was thunder-thefted by ChrisMorgan
[13:00:31] <Tobba> I hope I can import libstd from libflate
[13:00:33] <gavinb> oh - ok that makes sense
[13:00:35] <Tobba> otherwise I cant use option
[13:00:45] <Ms2ger> Who needs Option anyway
[13:00:48] <Tobba> oh, it already does
[13:00:49] <huon> Tobba: yes
[13:00:53] * ChrisMorgan looks smug and walks off with his nose in the air to wash some dishes
[13:00:53] <huon> libstd is nearly first
[13:01:10] * Ms2ger thunders ChrisMorgan's dishes
[13:01:12] <huon> (everything depends on libstd, except liblibc)
[13:01:25] <ChrisMorgan> No stealing my thunder while I'm gone, OK?
[13:01:27] <gavinb> So - with a vector of f32 values, you just have to reimplement whatever iterator functions you want?
[13:01:34] <huon> gavinb: the recommended thing is either a newtype wrapper `struct IKnowWhatImDoing(f32);`
[13:01:39] <huon> and implement TotalOrd for that
[13:01:55] <huon> (being careful to make sure NaN doesn't break things)
[13:01:56] <Tobba> rust uses space indentation?
[13:01:57] <Tobba> ewwwwww
[13:02:08] *** Quits: cschneid (cschneid@moz-20C37083.hlrn.qwest.net) (Client exited)
[13:02:08] <huon> gavinb: or just redefine them
[13:02:09] * Ms2ger dumps Tobba in a lake
[13:02:10] <gavinb> huon: I had thought of that, but it seemed kinda funky. But - ok.
[13:02:11] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[13:02:22] <Tobba> spaces suck
[13:02:28] <Tobba> tabs4ever
[13:02:35] <huon> Tobba: -> #rust-flames
[13:02:39] <gavinb> huon: yeah I can make sure NaNs are kept at bay.
[13:02:47] <huon> gavinb: cool
[13:02:56] *** Quits: kvanb (kvanb@moz-2108D6E2.lnse4.win.bigpond.net.au) (Quit: kvanb)
[13:03:17] <huon> gavinb: btw, which iter functions use TotalOrd?
[13:03:26] * huon doesn't remember any...
[13:03:27] <gavinb> huon: min/max
[13:03:38] <huon> oh, dur
[13:03:47] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[13:03:49] <benh> those requiring totalord rather than regularord seems really pedantic :|
[13:03:51] * Ms2ger pats huon on the back
[13:04:09] <huon> benh: NaN gives stupid results
[13:04:33] <benh> better than no results!
[13:04:37] <huon> likely to be unpredictable, too
[13:04:48] <Tobba> space indentation with the indentation sizes on acid
[13:04:50] <Tobba> please kill me
[13:05:03] <huon> Tobba: size == 4
[13:05:10] <huon> anything else is just outdated
[13:05:19] <Tobba> oh, good
[13:05:25] <Tobba> (then theres no reason to not indent with tabs!)
[13:05:26] <Ms2ger> Fibonacci indentation, dammit
[13:05:33] <Ms2ger> Tobba, sanity
[13:05:39] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Ping timeout)
[13:06:00] <huon> benh: I have a feeling that a NaN in a stream wouldn't guarantee that the output was NaN (or guarantee that it wasn't NaN)
[13:06:04] <huon> depending on where it occurs
[13:06:08] <benh> mhm
[13:06:10] <huon> which seems just bad all around :P
[13:06:21] <Ms2ger> [Infinity, NaN].iter().max()?
[13:06:33] <huon> would presumably be Infinity
[13:06:50] <huon> I was thinking `[NaN, 1].max()` vs. `[1, NaN].max()`
[13:07:09] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[13:07:21] *** Quits: ndt (ndt@FEACE86F.DD5772EA.88820282.IP) (Ping timeout)
[13:07:28] <Ms2ger> That could be safe if implemented carefully
[13:07:36] <benh> I guess you can always do my_floats.map(|x| { if x.is_nan() { fail!() }; TotalOrdFloat(x) }).max()
[13:07:37] <huon> since the former chooses as the max NaN without any comparison initially (and it gets stuck there), but the later compares NaN > 1, leaving 1 as the max
[13:07:39] <Ms2ger> If
[13:07:50] <huon> *NaN as the max
[13:08:09] <huon> of course the exact behaviour will be really implementation-detail-y
[13:08:15] <benh> (does -0.0 vs 0.0 cause problems too?) 
[13:08:17] *** Joins: fazal (fazal@10205674.DD69F2BB.E8916D75.IP)
[13:08:37] <huon> benh: theoretically maybe
[13:08:38] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:08:49] <huon> but it still satisfies `a < b || a == b || a > b`
[13:08:58] <huon> (unlike NaN)
[13:09:33] <fazal> How would I write a generic first(&[T]) for a ~[T] 
[13:09:34] <fazal> I want to return Option<T> so if it's an empty list it should return None else Some(a)
[13:09:36] <fazal> Right now I have  let el = match xs { [] => None, [a, ..] => Some(a) }
[13:09:38] <fazal> I'm getting a error: cannot move out of dereference of & pointer
[13:09:40] <fazal> Y
[13:09:42] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:10:03] <huon> match xs { [] => None, [ref a, ..] => Some(a) }
[13:10:07] <Tobba> looks like there are a total of 4 uses of this thing
[13:10:08] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:10:10] <huon> you'll need to be returning a Option<&T>
[13:10:58] <huon> which leads you onto lifetimes: `fn first<'a>(xs: &'a [T]) -> Option<&'a T>`, connecting the period-of-validity of the slice with that of the return value (since it is just take from the slice)
[13:10:58] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:11:02] *** Joins: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:11:03] <benh> Did anyone ever write an RFC for let RefutablePattern(x) = y else z;?
[13:11:18] <huon> fazal: that's the fix... but the reason:
[13:11:45] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[13:11:46] *** Quits: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:11:54] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[13:11:55] <benh> Also is there something like matches!(pattern, value) that just returns bool?
[13:11:59] <Tobba> how is error reporting meant to happen inside of rustc
[13:12:08] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:12:15] <huon> fazal: &T (and &[T]) are borrowed, i.e. they don't have ownership of the data, and so one is not allowed to take ownership of a value behind a &; that would be stealing.
[13:12:19] <Tobba> sess.fatal?
[13:12:38] <Ms2ger> sass.fatal?
[13:12:46] <huon> suss.fatal?
[13:13:06] <Tobba> not sure about the style either because some people insist on having the source readable over 40 year old terminals
[13:13:25] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:13:30] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Client exited)
[13:13:38] <Tobba> I have never ever understood the 80 chars thing
[13:13:43] <huon> the limit is 100
[13:13:55] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[13:13:55] <benh> it's so I can have multiple source files open next to each other!
[13:14:01] <Ms2ger> And side-by-side diffs
[13:14:03] <Tobba> multiple screens!
[13:14:11] <benh> Tobba: Can I send you the bill!
[13:14:12] *** Joins: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:14:15] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:14:19] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[13:14:22] <huon> fazal: the [a, ..] is trying to the value `a` by value out from behind the vector, which requires taking ownership
[13:14:29] <benh> also it's not really "next to each other" if there's almost a screen full of mostly white space either direction
[13:14:31] <Ms2ger> Tobba, to fit in my backpack with my laptop? I don't think so
[13:14:51] <Tobba> solution: smaller font
[13:14:53] *** Quits: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:14:54] <benh> can't wait for oculus rift IDEs for full immersion into your source files
[13:15:04] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[13:15:07] <huon> fazal: one gets around this by using the `ref` keyword, which takes a & reference into the actual thing  being matched upon
[13:15:08] <Tobba> that would either be really bad
[13:15:10] <Tobba> or really rad
[13:15:11] <dsrx> this is a UNIX system... I know this
[13:15:15] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:15:22] <fazal> huon: So doing [a, ..] => Some(a) moves its ownersihp too? right?
[13:15:37] * huon can fit 2 100 char files next to each other
[13:15:42] * huon loves it
[13:15:49] <Ms2ger> huon, I can't :(
[13:15:59] <huon> (perfectly, i.e. 102 columns wraps the line)
[13:15:59] <dsrx> i can just barely on my laptop
[13:16:11] <Ms2ger> Tobba, not everyone here is a 20-something with 20/20 eyesight
[13:16:14] <benh> gotta have space for your irc client on the side too
[13:16:23] <Tobba> my eyesight is shit but I'm short sighted
[13:16:24] <huon> Ms2ger: I have no respect for you any more, I'm sorry.
[13:16:25] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:16:26] <Tobba> near sighted*
[13:16:27] <Tobba> gotta love that
[13:16:30] *** Joins: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:16:34] <Tobba> except when it comes to signs
[13:16:47] <huon> fazal: yeah, it's (trying to) take the the `a` out of the borrowed slice and put it into the Option.
[13:17:08] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:17:08] *** Quits: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:17:09] <fazal> huon: What's <'a> syntax
[13:17:10] <Ms2ger> huon, no, I hate *you* :(
[13:17:12] <huon> Ms2ger: clearly the only people worth of my esteem are those with sufficiently wide laptop screens
[13:17:28] <huon> fazal: lifetimes, the magical part of rust
[13:17:32] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:17:33] <huon> http://static.rust-lang.org/doc/master/guide-lifetimes.html
[13:17:49] <huon> http://static.rust-lang.org/doc/master/guide-lifetimes.html#named-lifetimes
[13:17:57] <gavinb> I’m wondering why sometimes rustc prints the message: “error: aborting due to 2 previous errors” after a compile fails, and sometimes no summary of error count at all.  Seems like diagnostic::abort_if_errors() isn’t always called, depending on which pass has completed.
[13:18:04] <huon> (and https://github.com/mozilla/rust/wiki/The-Rusticon#syntaxicon )
[13:18:14] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:18:29] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:18:39] <Tobba> this would be so much easier if I didnt have to follow the style guide
[13:18:43] <Tobba> its like 100 chars just from the indentation in this block
[13:18:51] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[13:19:01] <benh> :(
[13:19:13] <Ms2ger> (The one thing we should fix is match taking up two levels of indentation)
[13:19:25] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:19:28] <fazal> huon: Thanks, I love this channel.
[13:19:30] *** Joins: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:19:41] <eddyb> gavinb: fatal errors bypass it AFAIK
[13:20:48] <gavinb> eddyb: I’ll have to look again at the exact nature of the errors when the summary isn’t printed, but they just seem like regular errors at a different phase of compilation.
[13:20:56] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:21:03] *** Quits: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:21:21] <eddyb> gavinb: fatal errors look like normal errors
[13:21:26] <gavinb> Syntax errors and obvious stuff get picked up first, and get reported with a count. But other stuff that appears to need resolving of types and more complex stuff doesnt.
[13:21:40] <eddyb> gavinb: but they bypass error collection and end up killing the process
[13:21:43] <gavinb> What’s “fatal” during compilation though? An undefined trait?
[13:21:51] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:21:52] <huon> syntax error
[13:21:58] <eddyb> I know of nothing requiring fatal errors
[13:21:59] <huon> (not sure if it calls fatal though)
[13:22:00] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:22:08] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:22:08] <SiegeLord> Hmm... is rustdoc supposed to run during make install?
[13:22:11] <huon> eddyb: that's a different question to the one gavinb asked ;P
[13:22:24] <eddyb> *but* not everyone wants to write a very complicated error collection mechanism
[13:22:31] <eddyb> huon: I'm trying to not call people lazy
[13:22:43] *** Joins: olegon (olegon@983906B1.65275AB6.D093A5AA.IP)
[13:22:44] <eddyb> huon: otherwise it would be simple to explain this
[13:22:52] <huon> eddyb: I think gavinb was effectively asking "what things call .span_fatal"
[13:22:53] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:23:07] <huon> not "what things are compulsorily fatal even with an optimal compiler"
[13:23:15] <huon> although I may have misinterpreted
[13:23:16] <eddyb> it sounded like the latter to me
[13:23:19] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:23:31] <huon> either way, not implementing a full-on error recovery collection scheme != lazy
[13:23:33] <eddyb> gavinb: nothing should be fatal, some things are for simplicity of code
[13:23:56] <gavinb> eddyb: ok I see
[13:24:12] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:24:22] <eddyb> vtable checking (the "couldn't find implementation of trait for" error) is the one that bugs me the most
[13:24:24] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:24:27] <huon> the output file not being openable seems fatal to me ;P
[13:24:27] <gavinb> So under certain conditions, it just calls fail!() rather than propagate an error up the call chain?
[13:24:48] <eddyb> gavinb: fatal/span_fatal
[13:24:48] <Tobba> krate: &ast::Crate
[13:24:49] <Tobba> heh
[13:24:56] <Tobba> do we still not have context sensitive keywords or something
[13:25:04] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:25:06] <Tobba> or is the code just old
[13:25:07] <huon> yes, we don't have any contextual keywords
[13:25:21] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:26:07] <huon> gavinb: (fatal/span_fatal do call fail!() internally, iirc)
[13:26:07] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:26:24] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:27:15] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:27:29] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:28:15] <huon> johnpclaus: your client seems to be timing out a lot, could you look into it? :)
[13:29:11] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[13:29:55] *** Joins: t4nk596 (bzlandfill@moz-B4F89E9D.rev.sfr.net)
[13:30:13] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:30:24] *** Quits: t4nk596 (bzlandfill@moz-B4F89E9D.rev.sfr.net) (Quit: CGI:IRC (EOF))
[13:31:05] *** Joins: edwardw (Mibbit@E9739E5B.EE06708D.4BFBD933.IP)
[13:31:05] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:31:28] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[13:31:29] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:32:27] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:32:32] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:32:36] *** Quits: Loudergood (quassel@moz-78A0CE2E.hsd1.vt.comcast.net) (Client exited)
[13:33:15] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:33:29] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:33:51] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[13:34:25] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:34:40] *** Joins: Loudergood (quassel@moz-78A0CE2E.hsd1.vt.comcast.net)
[13:36:05] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[13:36:55] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:36:57] *** Quits: twi (Adium@moz-38B0FA24.cust.vodafonedsl.it) (Ping timeout)
[13:37:04] *** Joins: twi (Adium@moz-38B0FA24.cust.vodafonedsl.it)
[13:37:38] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[13:38:11] *** Quits: edwardw (Mibbit@E9739E5B.EE06708D.4BFBD933.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:38:20] *** Joins: Titof (Titof@moz-939A8CA2.w92-160.abo.wanadoo.fr)
[13:38:31] <Titof> hi
[13:38:37] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[13:38:43] *** Joins: twi1 (Adium@moz-3236E26C.cust.vodafonedsl.it)
[13:38:44] *** Joins: edwardw (Mibbit@E9739E5B.EE06708D.4BFBD933.IP)
[13:38:51] *** Quits: twi (Adium@moz-38B0FA24.cust.vodafonedsl.it) (Ping timeout)
[13:38:54] <benh> a I missing soething or is Option::and_then identical to ::map, except for the formatting?
[13:39:05] <Titof> Can we make a GUI with 0.10 ?
[13:39:12] <benh> oh, another layer of option :(
[13:39:15] <kimundi> benh: missing something
[13:39:19] <benh> yeah
[13:39:40] <benh> should I just match myself if I don't wanna return anything...
[13:39:58] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[13:40:08] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[13:42:02] <kimundi> benh: What exactly do you want to do?
[13:42:32] <kimundi> benh: You can still use map() because a function that doesn't return something still returns ()
[13:42:42] <Titof> what’s the library for make a GUI ?
[13:43:01] <kimundi> rusti: fn foo(_: uint) {  } Some(5).map(foo)
[13:43:02] -rusti- Some(())
[13:43:29] <benh> kimundi: but then it's misleading! ;)
[13:43:37] <kimundi> benh: yeah
[13:43:47] <ChrisMorgan> benh: no one has written a refutable-pattern-let RFC.
[13:44:08] <benh> kimundi: I just want to do something with x if I have Some(x), do nothing if I have None, and not return anything in either case
[13:44:24] <benh> map feels wrong, for x in my_option.iter() { } feels abusive... ;)
[13:44:30] <huon> Titof: maybe https://github.com/kenz-gelsoft/wxRust/
[13:44:30] <kimundi> benh: Well, map or manual match it is then
[13:44:46] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[13:44:55] <kimundi> benh: Heh, the for one doesn't sound that wrong actually
[13:45:21] <kimundi> benh: You are looping over a container that either contains one or zero elements
[13:45:29] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:45:36] <ChrisMorgan> Titof: wxRust and ncurses-rs are your only two real options at present
[13:45:46] <ChrisMorgan> Titof: it's an area of significant immaturity in the language.
[13:46:04] *** pmoore|mtg is now known as pmoore
[13:46:45] *** Joins: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[13:46:47] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Connection reset by peer)
[13:46:56] <Titof> ok thx
[13:47:54] *** Joins: johnpclaus (johnpclaus@moz-FE86C538.hsd1.co.comcast.net)
[13:48:26] *** Quits: johnpcla_ (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[13:50:18] *** Quits: edwardw (Mibbit@E9739E5B.EE06708D.4BFBD933.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:51:02] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[13:52:26] *** Quits: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com) (Ping timeout)
[13:53:31] *** Joins: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[13:53:36] *** Joins: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com)
[13:53:54] *** Quits: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[13:54:04] <benh> rusti: if if true { true } else { false } { "ok" } else { "welp" }
[13:54:05] -rusti- ok
[13:56:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:56:13] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[13:57:07] *** Havvy is now known as Havvy|shower
[13:57:46] *** Joins: farcaller (quassel@moz-5B5FA763.customer.teliacarrier.com)
[14:00:54] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:01:45] <Tobba> liblibc
[14:01:54] <Tobba> didnt everyone agree on "extern crate c"
[14:02:13] <huon> nope
[14:02:28] <huon> as evidenced by it being called 'libc'
[14:02:50] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[14:03:57] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[14:04:04] <Ms2ger> https://twitter.com/erikcorry/status/453138389060296704
[14:04:05] <Ms2ger> https://twitter.com/erikcorry/status/453148703277453312
[14:04:09] * Ms2ger giggled
[14:04:25] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[14:04:29] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[14:05:02] <huon> do we have a single step debugger for lifetime errors?
[14:05:54] <huon> (I guess a macro debugger might actually be useful...)
[14:06:17] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Ping timeout)
[14:07:58] *** Tomcat|sheriffduty is now known as Tomcat
[14:10:45] *** Quits: bgamari (ben@moz-115D21F6.spfdma.east.verizon.net) (Ping timeout)
[14:10:55] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:12:25] <Yurume> huon, for macros, trace_macros!(true)?
[14:12:44] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[14:13:01] *** Quits: echristo (echristo@moz-A359269F.wlan.net.ed.ac.uk) (Ping timeout)
[14:13:18] *** jorendorff_away is now known as jorendorff
[14:13:36] <huon> Yurume: yeah, that's very helpful (as is `log_syntax!()`) but it's just printf debugging, not a "real" debugger
[14:14:02] <Yurume> hmm indeed.
[14:14:33] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:16:36] *** kimundi is now known as zz_kimundi
[14:16:48] *** Quits: Guest (textual@moz-77D0F250.nebulazone.fi) (Ping timeout)
[14:17:04] <Earnestly> Hey, printf statements placed judiciously are great debuggers! ;p
[14:17:16] *** Quits: johnpclaus (johnpclaus@moz-FE86C538.hsd1.co.comcast.net) (Ping timeout)
[14:17:25] *** Joins: veeti (veeti@moz-D6414854.rojekti.fi)
[14:17:29] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[14:17:43] *** Joins: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net)
[14:18:23] *** Havvy|shower is now known as Havvy
[14:18:30] <huon> Earnestly: of course :)
[14:18:51] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[14:19:22] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[14:19:26] *** Quits: johnpclaus (johnpclaus@moz-CC2AC917.hsd1.co.comcast.net) (Ping timeout)
[14:19:36] *** Joins: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[14:25:57] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[14:26:18] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:26:33] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[14:28:57] <pnkfelix> hmm Rust called out by name for ML workshop http://okmij.org/ftp/ML/ML14.html yum
[14:29:04] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[14:29:04] *** ChanServ sets mode: +o jdm
[14:29:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:29:55] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Input/output error)
[14:30:14] *** Joins: gimpf (gimpf@moz-81AEB0B7.adsl.highway.telekom.at)
[14:30:16] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[14:30:25] <aochagavia> I am trying to implement a FromFn trait for all structs that implement Extendable
[14:30:40] <aochagavia> but I don't really know how to do it
[14:31:05] <aochagavia> does anybody know how it could be done?
[14:31:38] <Ms2ger> impl<T: Extendable> FromFn for T {...}
[14:31:57] <aochagavia> and how do you declare the FromFn trait?
[14:32:00] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:32:00] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[14:32:27] *** Quits: Ferreus (ferreus@moz-ACA2B0CA.dip0.t-ipconnect.de) (Ping timeout)
[14:32:31] <Ms2ger> trait FromFn {...}
[14:32:54] <aochagavia> I need a from_fn function that will return T<A>
[14:33:18] <aochagavia> so I was trying to use trait FromFn<T<A>>
[14:33:25] <aochagavia> but that doesn't work
[14:33:59] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[14:34:11] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[14:36:47] *** Joins: dranov (dranov@379C3F75.857BF9F5.A5830293.IP)
[14:37:09] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[14:37:09] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[14:37:47] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[14:38:30] <aochagavia> this is what I have now: https://gist.github.com/aochagavia/fcf952298064ac7064c9
[14:38:46] <aochagavia> I don't know how to define the trait
[14:39:09] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Quit: Ex-Chat)
[14:39:47] <Ms2ger> What is T, what is A?
[14:40:48] <aochagavia> T is the type that implements extendable
[14:40:48] <Ms2ger> Try impl<A, T: Extendable<A>>
[14:40:54] <aochagavia> for example vector
[14:41:14] <aochagavia> lets see
[14:41:25] *** Quits: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com) (Ping timeout)
[14:42:03] <bstrie> why is it impossible to install the rust nightly build on my vps
[14:42:33] <bstrie> install.sh yields "/home/ben/rust-install//bin/rustc: not found"
[14:42:39] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[14:42:44] <bstrie> but bin/rustc totally exists
[14:42:47] <bstrie> I see it there
[14:42:51] <bstrie> but trying to run it manually doesn't work
[14:42:58] <bstrie> I've never encountered anything like this
[14:44:34] <bstrie> $ ls
[14:44:37] <bstrie> rustc  rustdoc
[14:44:41] <bstrie> $ ./rustc
[14:44:48] <cmr> bstrie: wrong architecture?
[14:44:50] <bstrie> -bash: ./rustc: No such file or directory
[14:45:16] <cmr> the kernel gives that error when it can't find the ELF interpreter for the executable
[14:45:24] <cmr> ie, it says it wants 64bit, you're on 32bit
[14:45:30] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Client exited)
[14:45:37] <bstrie> there's no way this vps is 64-bit
[14:45:47] <bstrie> god damn it
[14:45:50] <bstrie> this vps is 64-bit
[14:45:50] *** Joins: Shrike (leo@moz-E5DBC6C1.elisa-laajakaista.fi)
[14:45:53] <bstrie> when did that happen
[14:45:56] <cmr> lol
[14:45:58] <aochagavia> hahaha
[14:45:58] <bstrie> how did I not notice??
[14:46:06] <bstrie> world's worst sysadmin
[14:46:29] <aochagavia> I am trying to implement a trait for types which implement the Default trait and have some problems...
[14:46:30] *** Joins: bgamari (ben@moz-6ACB8CB8.wireless.umass.edu)
[14:46:39] *** Joins: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP)
[14:46:44] <aochagavia> I begin with this impl<T: Default>
[14:46:52] <aochagavia> but I can't use T::default() as a function
[14:46:53] <bstrie> cmr: thanks
[14:47:00] <cmr> aochagavia: it's Default::default()
[14:47:26] <aochagavia> Default::default<T>()?
[14:47:37] <Ms2ger> let x: T = Default::default()
[14:47:38] <cmr> just Default::default()
[14:48:32] <Shrike> exit
[14:48:35] *** Quits: Shrike (leo@moz-E5DBC6C1.elisa-laajakaista.fi) (Quit: leaving)
[14:49:08] *** Joins: echristo (echristo@moz-A359269F.wlan.net.ed.ac.uk)
[14:49:32] *** Joins: Shrike (leo@moz-E5DBC6C1.elisa-laajakaista.fi)
[14:50:03] <Shrike> Sorry, my key 7 is in a bad shape
[14:50:24] *** Joins: ndt (ndt@FEACE86F.DD5772EA.88820282.IP)
[14:50:50] *** Quits: echristo (echristo@moz-A359269F.wlan.net.ed.ac.uk) (Ping timeout)
[14:53:37] *** Quits: Shrike (leo@moz-E5DBC6C1.elisa-laajakaista.fi) (Ping timeout)
[14:54:05] *** Joins: lolwat (nano@moz-ED77243C.superkabel.de)
[14:54:41] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Ping timeout)
[14:56:02] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[14:57:27] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:58:50] *** Joins: EastByte (EastByte@moz-3050E31E.ewe-ip-backbone.de)
[14:59:18] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[14:59:22] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[15:00:03] *** Quits: EastByte_ (EastByte@moz-7E8984DF.ewe-ip-backbone.de) (Ping timeout)
[15:00:55] *** Quits: heftig (heftig@moz-33D186ED.unitymedia.biz) (Quit: Quitting)
[15:01:30] *** Tomcat is now known as Tomcat|mtg
[15:01:31] *** Joins: mye (mye@moz-19CF9299.swh.uni-giessen.de)
[15:01:54] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[15:02:30] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[15:04:31] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[15:04:36] <Yurume> src\format\bms\parse.rs:861:21: 861:94 note: ...so that traits are compatible (expected `std::iter::Iterator<format::bms::parse::Parsed<>>` but found `std::iter::Iterator<format::bms::parse::Parsed<>>`)
[15:04:41] <Yurume> huh, what?
[15:04:51] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[15:05:00] <Yurume> (I'm converting every use of ~[T] into Vec<T> right now, and this seems to be quite hard to work around)
[15:05:18] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[15:05:32] *** Quits: dranov (dranov@379C3F75.857BF9F5.A5830293.IP) (Client exited)
[15:06:06] <aochagavia> Can somebody take a short look at this code? https://gist.github.com/aochagavia/fcf952298064ac7064c9
[15:06:32] <Ms2ger> Yeah, it can't tell what T is
[15:07:00] *** Quits: kard (kard@moz-9757A042.dip0.t-ipconnect.de) (Ping timeout)
[15:07:00] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Ping timeout)
[15:07:18] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[15:07:25] <Tari> `trait Something: Default` seems more appropriate for that
[15:07:32] *** Quits: bgamari (ben@moz-6ACB8CB8.wireless.umass.edu) (Ping timeout)
[15:07:36] <Yurume> but it wouldn't make differences
[15:07:49] <Yurume> using a generic function is better
[15:08:03] <Yurume> i.e. fn something<T:Default>() -> ~str { ... }
[15:08:58] <aochagavia> How can I fix it without using a loose function?
[15:09:01] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[15:09:58] *** Quits: ndt (ndt@FEACE86F.DD5772EA.88820282.IP) (Ping timeout)
[15:10:10] <skade> hm, looking at it closely, liburl doesn't seem terribly safe nor RFC compliant
[15:10:31] <aochagavia> Ms2ger: do you know how I can fix it?
[15:10:44] <Yurume> aochagavia, right now, you can't. the proposed syntax `Something::<for T>::something()` might be used to explicitly state `T` though.
[15:11:13] <aochagavia>  I will try that
[15:11:21] <Yurume> no, it is a proposed syntax
[15:11:26] <Yurume> you can't use it yet
[15:11:31] <aochagavia> aaah
[15:11:32] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[15:11:32] <aochagavia> sorry
[15:11:41] <Yurume> you *should* use a function to get it working today :)
[15:11:51] <aochagavia> It is just an experiment
[15:12:09] <Yurume> (and there are some instances of this issue in the standard library either...)
[15:12:13] <aochagavia> I was trying to make a FromFn trait which would be implemented by every trait that also implements Extendable
[15:12:20] <aochagavia> and Default
[15:12:39] <Yurume> uh, how does FromFn require Default?
[15:12:44] <Yurume> ah
[15:12:51] <Yurume> Default for the container, right?
[15:12:53] <aochagavia> yes
[15:12:56] *** Joins: ndt (ndt@FEACE86F.DD5772EA.88820282.IP)
[15:13:01] <aochagavia> you need to begin with something
[15:13:27] *** Tomcat|mtg is now known as Tomcat|afk
[15:13:32] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[15:14:11] <aochagavia> I have been working with HashSets and I missed from_fn
[15:14:21] <aochagavia> so I thought this would be a good idea
[15:14:31] <Yurume> aochagavia, how about FromIterator?
[15:14:33] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[15:14:50] <aochagavia> that would be nice...
[15:14:58] <aochagavia> I wouldn't need Default
[15:15:02] <Yurume> yeah
[15:15:08] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[15:15:38] <aochagavia> but that is impossible at this moment...
[15:16:48] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Ping timeout)
[15:17:11] <Yurume> impl<A,T:FromIterator<A>> FromFn for T { fn from_fn(l:uint, op:|uint|->A) -> T { FromIterator::from_iter(range(0,l).map(op)) } }
[15:17:15] *** pmoore is now known as pmoore|biab
[15:17:19] <Yurume> I think this would work (never tested)
[15:17:30] <aochagavia> how would you define the trait?
[15:18:01] <Ms2ger> FromFn<A> for T, I guess
[15:18:02] <Yurume> trait FromFn<A> { fn from_fn(uint, |uint|->A) -> T; }
[15:18:19] <Yurume> well, yeah it would need <A>, but otherwise simple
[15:20:51] *** Joins: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi)
[15:21:12] <Yurume> src\format\bms\parse.rs:873:21: 873:105 error: mismatched traits: expected `std::iter::Iterator<format::bms::parse::Parsed<'static>>` but found `std::iter::Iterator<format::bms::parse::Parsed<'static>>` (lifetime mismatch)
[15:21:16] <Yurume> aaaaargh!!!
[15:21:16] <Yurume> ;_;
[15:21:24] <Yurume> how is that possible?
[15:21:37] *** Quits: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi) (Client exited)
[15:21:46] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:21:53] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[15:21:54] <aochagavia> hahaha
[15:22:08] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[15:22:21] *** Joins: kard (kard@moz-A3F54AA.dip0.t-ipconnect.de)
[15:22:27] *** Parts: Pursuit (josh@moz-11DE1CB6.dhcp.insightbb.com) (WeeChat 0.4.3)
[15:27:43] *** Quits: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[15:27:56] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[15:28:52] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[15:28:52] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:28:52] *** ChanServ sets mode: +ao dherman dherman
[15:29:22] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[15:29:29] *** Joins: bpicolo (Adium@moz-B475EB64.static-ip.telepacific.net)
[15:30:06] *** Joins: Ferreus (ferreus@moz-5B88FD0C.lsn.wtnet.de)
[15:30:17] *** Quits: mindcat (mindcat@7CB300B6.BDFDA69D.857BDFA9.IP) (Quit: Lost terminal)
[15:30:19] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:30:38] *** Quits: lolwat (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[15:31:55] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Input/output error)
[15:32:48] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:32:52] <farcaller> can I consider re-exporting as a valid "implementation" of static dispatch?
[15:32:55] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[15:33:29] <strcat> farcaller: hm?
[15:34:53] *** Joins: sunfish (chatzilla@moz-62518563.mtv2.mozilla.com)
[15:34:59] <Yurume> farcaller, like extern templates in C++?
[15:35:39] <farcaller> strcat: I have a struct LCD that requires an OutGPIO thing to operate. OutGPIO is extremely platform-specific, so a reasonable way to implement that would be to make it into trait. I'm not sure if I can have &T trait as a field in struct, and I'm prettusy sure if the answer is yes, then it uses dynamic dispatch (and flipping a GPIO is like 4-5 asm lines, so it's a perfect thing to inline)
[15:36:16] <strcat> I'm not sure why you would why to use a trait at all
[15:36:23] <farcaller> so what I did now is a hal/<mcu>/gpio.rs for both two MCUs I support and hal/gpio.rs that does pub use of one of them via #[cfg]
[15:36:31] <strcat> if you only have one per platform, a trait seems pretty pointless
[15:36:43] <farcaller> right
[15:36:54] <strcat> farcaller: how about just using #[path] on the module to select the right one?
[15:37:30] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[15:37:33] <strcat> #[cfg(...)] #[path = "platform/foo.rs] pub mod foo;
[15:37:37] <farcaller> oh. that makes even more sense
[15:37:41] <strcat> #[cfg(...)] #[path = "other_platform/foo.rs] pub mod foo;
[15:37:48] *** Joins: hhhhhhhhhh (mike@moz-8F76C72D.as43234.net)
[15:38:40] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[15:39:10] *** Joins: eibwen (kvirc@moz-CB454DA4.dip0.t-ipconnect.de)
[15:39:11] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Input/output error)
[15:39:31] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: ...take irc away, what are you? genius, billionaire, playboy, philanthropist)
[15:39:31] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[15:39:56] <farcaller> strcat: rust has so many options of doing similar things that sometimes it's hard to pick the best one :)
[15:40:30] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[15:41:27] *** Quits: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com) (Quit: Leaving.)
[15:42:16] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Ping timeout)
[15:42:44] <farcaller> strcat: is there any reason why using #path with pub mod prevents fn inlining even with #[inline(always)] set?
[15:43:41] <strcat> it doesn't
[15:44:14] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[15:44:30] <farcaller> hm.
[15:44:45] <strcat> I think you're attributing the problem to the wrong thing
[15:44:50] <strcat> #[inline(always)] doesn't mean rust won't output a function
[15:44:52] <farcaller> that's totally possible
[15:45:03] <strcat> it means it will output a function with the LLVM attribute making it always get inlined when it can be
[15:45:21] <strcat> it won't *always* be inlined - you could take a function pointer to it in a way that LLVM can't see a static call
[15:45:28] <strcat> it will always get inlined to the static call sites
[15:45:47] *** Quits: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net) (Ping timeout)
[15:45:49] <strcat> farcaller: a fully public path is exported as a symbol
[15:45:53] *** Joins: EcoGiko (EcoGiko@4A3CB82B.E75E5955.BD570C00.IP)
[15:45:56] <strcat> if you don't want that, don't make the path fully public
[15:45:58] <farcaller> ah, I see
[15:46:15] <strcat> no reason for the top level to be public if you're not using it externally
[15:46:23] *** Joins: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net)
[15:46:34] <strcat> rusti: mod foo { pub fn bar() {} } foo::bar()
[15:46:35] -rusti- ()
[15:46:48] <strcat> the 'pub' only applies to whether it is exported from the current module
[15:46:56] <strcat> so the top-level should only be pub if you want that
[15:48:40] <farcaller> thanks for clarifying
[15:48:52] <farcaller> I guess I need to toss a few files around then
[15:48:54] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:48:59] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[15:49:06] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[15:49:16] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:49:43] *** Joins: voxpopuli (fanservice@5B39F0AC.3E3BE3A7.689607DE.IP)
[15:50:34] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Input/output error)
[15:50:53] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[15:51:16] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[15:51:19] <hhhhhhhhhh> i updated to 0.10 (and updated my libraries) and now i am getting: error: can't find crate for `std` which `glfw` depends on
[15:51:29] *** jorendorff is now known as jorendorff_away
[15:51:47] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Connection reset by peer)
[15:51:51] *** Quits: untitaker (untitaker@moz-B8CEC22D.adsl.highway.telekom.at) (Ping timeout)
[15:52:11] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[15:52:48] *** Joins: grund (aduwad@45968B6A.9DED2B18.25E6621C.IP)
[15:53:09] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[15:53:27] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[15:53:54] *** Joins: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP)
[15:54:01] <strcat> hhhhhhhhhh: you need to rebuild any libraries
[15:54:19] <strcat> you might also have left around outdated stuff
[15:54:41] <hhhhhhhhhh> strcat: the problem was that glfw-rs renamed to glfw. but thanks
[15:55:01] *** Joins: osa1_ (omer@7E57B38B.53EDA631.7DA6A6F6.IP)
[15:55:05] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[15:55:06] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:55:13] *** Quits: osa1 (omer@37F18D0F.FFCF2264.A967356F.IP) (Ping timeout)
[15:55:13] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[15:55:19] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[15:56:34] *** Joins: ctangent (textual@moz-67DD0115.hsd1.wa.comcast.net)
[15:57:44] *** Quits: osa1_ (omer@7E57B38B.53EDA631.7DA6A6F6.IP) (Ping timeout)
[15:57:46] *** pmoore|biab is now known as pmoore
[15:58:22] *** Joins: osa1_ (omer@4950FC24.768FF880.4CEB6735.IP)
[15:58:47] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:59:39] *** Joins: untitaker (untitaker@moz-D0E42D21.adsl.highway.telekom.at)
[16:00:34] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[16:00:34] <farcaller> strcat: one question on the "pub all way to the top": if some function is not pub all way to the top, it's inaccessible ouside of crate's rlib, right? OTOH, if it's pub, I'll get the explicit symbol even if all the implementations were inlined, right?
[16:01:13] <strcat> there is no way to make all the calls inlined
[16:01:21] <strcat> function pointers, etc. exist
[16:01:35] <strcat> but yes, if the path is fully public it's exported
[16:01:40] <farcaller> ok
[16:03:15] *** Quits: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net) (Ping timeout)
[16:03:20] <Yurume> awwww, it seems that my program suffers from the unexpected lifetime variance inference
[16:03:30] <Yurume> but I can't really figure why
[16:05:05] *** Quits: osa1_ (omer@4950FC24.768FF880.4CEB6735.IP) (Ping timeout)
[16:05:17] *** Joins: Frippe (Frippe@8CFC6FA4.DDEDB70D.F3459CEF.IP)
[16:05:27] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:06:03] *** Joins: osa1_ (omer@BF33010F.F20E9A4A.123437C4.IP)
[16:06:20] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[16:06:25] *** Joins: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net)
[16:06:42] <hhhhhhhhhh> how come f64 doesn't come with an implementation of TotalOrd
[16:06:57] <hhhhhhhhhh> NaN?
[16:06:58] <Yurume> due to the NaN.
[16:06:59] <Yurume> yes
[16:07:00] <strcat> because it doesn't provide a total ordering
[16:07:01] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Connection reset by peer)
[16:07:02] <strcat> not just NaN
[16:07:09] *** Joins: subhashb (Adium@90D49AF0.33D2B648.E5F05D4F.IP)
[16:07:13] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[16:07:24] <strcat> well
[16:07:44] <strcat> -0.0 and 0.0
[16:08:08] <strcat> hhhhhhhhhh: there is an IEEE754 total ordering, but it's not what f32/f64 use
[16:08:11] *** Quits: ctangent (textual@moz-67DD0115.hsd1.wa.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:08:12] <strcat> it would require a separate type
[16:09:46] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[16:10:18] *** Quits: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP) (Ping timeout)
[16:10:18] *** Quits: chris_ (chrido@moz-EFE921CE.informatik.tu-muenchen.de) (Ping timeout)
[16:10:19] *** Quits: pastry (pastry@moz-3C63EA93.ip44.fastwebnet.it) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:10:33] *** Joins: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi)
[16:10:41] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[16:10:45] *** Quits: osa1_ (omer@BF33010F.F20E9A4A.123437C4.IP) (Ping timeout)
[16:10:46] *** Joins: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net)
[16:11:13] *** Quits: Shrike (Shrike@moz-40A06244.nat.bb.dnainternet.fi) (Client exited)
[16:11:50] *** Quits: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net) (Ping timeout)
[16:12:02] *** Joins: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net)
[16:12:12] <hhhhhhhhhh> is there a way to use std::num::Float::max that isn't `a.max( b )`
[16:12:27] <bjz> not yet
[16:12:39] <bjz> the wrpper functions were removed :(
[16:12:49] <bjz> so you have to do it the ugly way
[16:12:51] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Ping timeout)
[16:12:57] *** Joins: dranov (dranov@379C3F75.857BF9F5.A5830293.IP)
[16:13:01] *** Joins: osa1_ (omer@E3C584D0.A0AFFA2F.E9B01DC7.IP)
[16:13:07] <strcat> hhhhhhhhhh: there will be support for using methods as functions in the future
[16:13:10] <bjz> uniform function calls should fix that though
[16:13:13] <bjz> yep ^
[16:13:21] <hhhhhhhhhh> doh
[16:13:25] <strcat> so Float::max(a, b) will work, and if the way primitives work is fixed f32::max(a, b) will work
[16:13:32] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[16:13:47] <strcat> until then rust isn't going to provide duplicate free functions, because that's a backwards compatibility hazard - they will have to be removed in the future
[16:13:47] <bjz> strcat: will you be able to do: use Float::max; ?
[16:13:51] <strcat> yes
[16:13:53] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[16:13:56] <bjz> awesome
[16:14:09] <strcat> doing f32::max(a, b) requires fixing primitives though
[16:14:10] *** Quits: gimpf (gimpf@moz-81AEB0B7.adsl.highway.telekom.at) (Ping timeout)
[16:14:12] <strcat> for other types it would work
[16:14:17] <strcat> afaik
[16:14:27] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Quit: nano)
[16:14:32] <strcat> I guess it depends on whether T::static_trait_method is allowed
[16:14:35] <bjz> strcat: yeah, sort term pain for something better in the future (re. removing the warpper fns)
[16:14:35] <strcat> but I expect it will be...
[16:14:45] <strcat> imo the methods are nicer anyway
[16:14:47] * strcat shrugs
[16:15:21] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:15:32] <bjz> max and min have no obvious self, hance x.min(y) looks odd
[16:15:46] <bjz> same with x.add(y)
[16:16:03] *** Joins: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl)
[16:16:18] *** Joins: gimpf (gimpf@moz-81AEB0B7.adsl.highway.telekom.at)
[16:16:50] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:17:58] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Input/output error)
[16:18:29] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[16:19:31] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:19:41] <doomlord_> ufcs 
[16:20:15] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Ping timeout)
[16:20:17] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[16:20:18] <doomlord_> asymetry between functions and methods has always bugged me a little. its better in rust because you can at least extend things
[16:20:56] *** Quits: philix (felipe@moz-602EFB0F.user.veloxzone.com.br) (Ping timeout)
[16:24:59] *** Joins: johnrkd (Mibbit@moz-766F4660.dynamic.adsl.gvt.net.br)
[16:26:11] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:26:50] *** Quits: osa1_ (omer@E3C584D0.A0AFFA2F.E9B01DC7.IP) (Ping timeout)
[16:27:53] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:28:32] *** Joins: osa1_ (omer@7E5B5F3.486ECACA.123437C4.IP)
[16:28:37] *** Quits: japaric_ (japaric@F2279727.A347E168.F4D5766F.IP) (Ping timeout)
[16:29:19] *** Joins: japaric_ (japaric@F5AA40C.E00EBC6F.F29ED47E.IP)
[16:30:06] *** Joins: claudiu_ (claudiu@moz-FB94486E.thefacebook.com)
[16:30:12] *** Joins: klaus (koz@moz-4486E876.hsd1.wa.comcast.net)
[16:30:31] <hhhhhhhhhh> "error: type `~[~[uint]]` does not implement any method in scope named `map`" - is this all the business about ~[] becoming Vec
[16:30:32] *** Quits: mye (mye@moz-19CF9299.swh.uni-giessen.de) (Ping timeout)
[16:30:35] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Ping timeout)
[16:31:20] <Ms2ger> hhhhhhhhhh, .iter().map().collect()
[16:31:20] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:31:27] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[16:32:36] *** Joins: mye (mye@moz-19CF9299.swh.uni-giessen.de)
[16:33:26] *** Joins: Rym (y@1F811F8A.7136637D.51C6DE68.IP)
[16:33:35] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Connection reset by peer)
[16:33:53] *** Joins: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com)
[16:34:28] *** Joins: CookieShade (Mibbit@moz-4C2B72AD.hud.sth.bostream.se)
[16:34:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:35:26] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[16:36:24] *** Quits: phild (Mibbit@moz-A832471B.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:36:46] <hhhhhhhhhh> Ms2ger: i don't understand. https://dpaste.de/hrNP is the loop i have, when i try to add .iter/.collect it starts throwing gnarly errors
[16:36:52] *** Joins: osa1__ (omer@5B7A0B60.170418B7.18CB064.IP)
[16:37:07] <hhhhhhhhhh> and the example at http://static.rust-lang.org/doc/0.10/std/result/fn.collect.html does collect( .iter().map() )
[16:37:23] *** Quits: osa1__ (omer@5B7A0B60.170418B7.18CB064.IP) (Quit: Konversation terminated!)
[16:37:23] *** Quits: osa1_ (omer@7E5B5F3.486ECACA.123437C4.IP) (Ping timeout)
[16:38:01] <benh> rusti: "ßßß".char_at_reverse(0)
[16:38:02] -rusti- ß
[16:38:07] <benh> rusti: "äöü".char_at_reverse(0)
[16:38:08] -rusti- ä
[16:38:42] *** zz_kimundi is now known as kimundi
[16:38:42] <benh> rusti: "äöü".chars().last()
[16:38:43] -rusti- Some(ü)
[16:38:55] <araujo> is there a special reason why a library wouldn't be linked using #[link ...] ? .. all libraries are linked fine except one of them, but can't find the reason why
[16:39:24] <araujo> and I do have the library and it islocated in the correct path like the rest
[16:39:26] <benh> rusti: "äöü".chars().next_back()
[16:39:27] *** kimundi is now known as zz_kimundi
[16:39:27] -rusti- Some(ü)
[16:39:35] *** Quits: CookieShade (Mibbit@moz-4C2B72AD.hud.sth.bostream.se) (Quit: http://www.mibbit.com ajax IRC Client)
[16:39:52] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:39:59] <pnkfelix> araujo: are you on master?
[16:40:15] <benh> Getting the last char of a string sure is awkward, as befitting its unicode nature.
[16:40:17] <pnkfelix> araujo: (or 0.10, that's also a reasonable choice right now)
[16:40:25] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[16:40:51] <pnkfelix> benh: chars().rev().next() should work too, I think
[16:41:04] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[16:41:10] <araujo> pnkfelix: yes, correct, using master 
[16:41:10] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:41:11] *** Joins: frozendevil (Adium@moz-62FB197F.com)
[16:41:26] *** Quits: claudiu_ (claudiu@moz-FB94486E.thefacebook.com) (Connection reset by peer)
[16:41:27] <pnkfelix> araujo: okay, never mind then.  (My random guess only applied to older versions)
[16:41:32] <araujo> pnkfelix: using two days ago master
[16:42:19] <araujo> pnkfelix: do you know if there exist any flag I can pass to rust for debug?, it compiles the program fine and it just complaines about not finding the lib when trying to execute (ldd shows it wasn't linked to it)
[16:42:21] *** Quits: Rym (y@1F811F8A.7136637D.51C6DE68.IP) (Ping timeout)
[16:42:38] <araujo> s/complaines/complains/
[16:42:42] <benh> pnkfelix: which one is O(1)? :(
[16:43:11] <eddyb> benh: iterators are cheap
[16:43:24] <pnkfelix> benh: I believe they both are
[16:43:29] <pnkfelix> benh: it doesn't need to read the whole string
[16:43:34] <eddyb> .last() is O(N)
[16:43:37] <pnkfelix> benh: just a fixed number of bytes from the end
[16:43:40] <benh> ok
[16:43:51] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[16:43:58] <araujo> pnkfelix: never mind, my lib install was messed (ldconfig magic fixed it)
[16:43:59] <araujo> thanks
[16:44:00] <Earnestly> eddyb: Hm.  Does it have to be O(n)?
[16:44:01] <pnkfelix> eddyb: but .last() wasn't one of the ones discussed
[16:44:12] <benh> I tried .last() first when talking to rusti
[16:44:16] <Earnestly> idk, pascal strings, blegh
[16:44:30] <eddyb> Earnestly: it could be overwritten
[16:44:31] <pnkfelix> oh okay
[16:44:59] *** Joins: osa1 (omer@moz-3056938F.swissinet.com)
[16:45:15] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[16:45:40] *** Joins: claudiu_ (claudiu@moz-FB94486E.thefacebook.com)
[16:45:59] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Connection reset by peer)
[16:46:29] *** Quits: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net) (Quit: ziad)
[16:46:48] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[16:46:58] <hhhhhhhhhh> can anyone explain why this gives the error it does: https://dpaste.de/3UrD
[16:47:05] <hhhhhhhhhh> (rust 0.10)
[16:47:24] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[16:49:25] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[16:50:06] *** Joins: azakai (alon@moz-62518563.mtv2.mozilla.com)
[16:50:39] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[16:51:19] *** zz_kimundi is now known as kimundi
[16:51:55] *** kimundi is now known as zz_kimundi
[16:52:35] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:52:44] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:52:50] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[16:52:57] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:53:26] *** Joins: ozkriff (Mibbit@D803906A.389F1DB8.D5F347E6.IP)
[16:53:34] <benh> Submitting pull requests sure makes me feel self-conscious
[16:54:05] *** Joins: steveklabnik (steev@B1BA5385.27F34CF7.5670445F.IP)
[16:54:06] <benh> here's a tiny tiny bugfix - but what if it's all wrong and i am revealed as a fraud??
[16:54:19] <steveklabnik> huon: thanks! they did seem pretty trollish
[16:55:20] <pnkfelix> benh: its like asking someone out on a date.  Sometimes you just need to take the plunge and see what comes of it.  :)
[16:55:36] <pnkfelix> benh: but that doesn't help lower the amount of stress that can go with the leadup to it.
[16:55:55] *** Quits: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net) (Ping timeout)
[16:56:12] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[16:56:18] <benh> heh :)
[16:56:50] <benh> I've been on the submit-pull-request page like three times and then went "oh wait" and found another thing to amend :(
[16:57:02] *** Joins: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net)
[16:57:21] <benh> It's just not a clever solution for a simple problem and making code more complicated makes me feel bad...
[16:57:24] <Ms2ger> benh, shows that you're good enough to find bugs, excellent :)
[16:57:26] <Eridius> benh: I don't have time to review the PR right now but your second commit message is missing a word
[16:57:29] *** Joins: nkoep (nik@moz-D21960A0.pool.mediaways.net)
[16:57:32] <benh> oh, thank you
[16:58:01] *** Joins: gregburd (uid3997@moz-E77DEB21.irccloud.com)
[16:58:07] *** Quits: rylev (rylev@2B2A255D.2EF83B5B.BB1701D8.IP) (Ping timeout)
[16:58:10] *** Joins: santiago (santiago@moz-69361A64.socal.res.rr.com)
[16:58:21] <benh> which word?
[16:58:41] <benh> ah, the important one
[16:58:44] <Eridius> :D
[16:59:02] *** Quits: ehsanul (harish@moz-24DD2596.hsd1.ca.comcast.net) (Ping timeout)
[16:59:16] <benh> thanks :D
[16:59:41] <Eridius> yeah I read that and I was like "_what_?!?"
[16:59:45] <gregburd> how would I go about building c "union" in rust, with an enum?
[16:59:59] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:59:59] <Eridius> gregburd: yes
[17:00:17] <gregburd> thx
[17:00:23] *** Quits: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net) (Ping timeout)
[17:00:42] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[17:01:25] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[17:01:35] <o11c> gregburd: you can't make something actually ABI compatible with a C enum though
[17:01:35] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Connection reset by peer)
[17:01:37] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[17:01:39] *** Parts: bpicolo (Adium@moz-B475EB64.static-ip.telepacific.net) ()
[17:01:46] <gregburd> ok, that's not necessary
[17:01:51] <gregburd> (and I guess that's a good thing!)
[17:01:56] *** Joins: Rym (y@1F811F8A.7136637D.51C6DE68.IP)
[17:02:01] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[17:04:53] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[17:05:00] *** Joins: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it)
[17:05:27] *** Joins: taliriktug (Mibbit@5ACC7636.C3AC81A2.906273CD.IP)
[17:06:00] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[17:06:26] *** Joins: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net)
[17:06:31] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:06:53] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Connection reset by peer)
[17:07:05] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[17:07:55] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:08:03] *** Joins: philix (felipe@moz-602EFB0F.user.veloxzone.com.br)
[17:09:08] *** Joins: HansiHE (HansiHE@moz-7DF634EA.com)
[17:10:07] *** Joins: q66 (q66@moz-7B0E449B.range81-129.btcentralplus.com)
[17:11:03] *** Joins: bgamari (ben@moz-69156C49.physics.umass.edu)
[17:11:18] * araujo runs the first EFL window from rust \o/
[17:11:35] <araujo> just a plain elementary window, but a start :P
[17:12:37] <benh> neat
[17:13:52] <taliriktug> hey
[17:14:09] <taliriktug> how to fix messed rebase? https://github.com/mozilla/rust/pull/13378
[17:14:54] <benh> Maybe with git rebase -i HEAD^^ and then deleting the line with the spurious commit?
[17:15:48] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:16:08] <taliriktug> I am thinking about it. The problem is I can't find this commit below in git log. Is it fine?
[17:16:42] <benh> you could also try making a new branch from master and cherry-picking just your commit from this branch
[17:17:01] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[17:17:14] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[17:17:15] *** ChanServ sets mode: +ao dherman dherman
[17:17:37] *** Quits: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com) (Ping timeout)
[17:17:37] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[17:17:55] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[17:20:20] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:20:54] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[17:22:16] *** Quits: Earnestly (earnest@moz-2C691159.dyn.plus.net) (Quit: WeeChat 0.4.4-dev)
[17:22:22] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:22:22] *** Joins: Earnestly (earnest@moz-2C691159.dyn.plus.net)
[17:23:44] <o11c> taliriktug: git reflog?
[17:24:48] *** Joins: ashley (ashley@moz-9DF7CE0.skybroadband.com)
[17:25:22] *** Quits: claudiu_ (claudiu@moz-FB94486E.thefacebook.com) (Ping timeout)
[17:25:33] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:25:50] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[17:27:07] <SiegeLord> Hmm... what is Nullable and why is it breaking my code
[17:27:28] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[17:28:02] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[17:28:03] *** ChanServ sets mode: +ao dherman dherman
[17:28:03] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Connection reset by peer)
[17:28:08] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[17:28:42] <ashley> Hey, am i right in thinking that rust isn't a suitable choice right now for a websocket service due to blocking I/O?
[17:29:25] <SiegeLord> Why does Nullable use Some as one of its variants?
[17:30:04] <sfackler> ashley: "blocking" IO using libgreen is actually nonblocking IO with green threads under the hood
[17:30:16] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[17:30:24] *** Joins: claudiu_ (claudiu@moz-FB94486E.thefacebook.com)
[17:30:26] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[17:30:31] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Connection reset by peer)
[17:30:32] *** Joins: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP)
[17:30:41] <sfackler> but if you need to do something more advanced than "read on this socket until I get sent something" you'd probably want to wait for some kind of async API
[17:30:47] <benh> It's probably not too appealing, but you can always do C-style IO via FFI calls to libc/posix stuff etc
[17:31:08] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:31:17] *** Quits: claudiu_ (claudiu@moz-FB94486E.thefacebook.com) (Connection reset by peer)
[17:31:35] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[17:31:47] *** Quits: Rym (y@1F811F8A.7136637D.51C6DE68.IP) (Ping timeout)
[17:31:47] <pnkfelix> SiegeLord: it appears like quite a deliberate pun
[17:32:05] *** Joins: Rym (y@1F811F8A.7136637D.51C6DE68.IP)
[17:32:52] <pnkfelix> SiegeLord: (I am guessing to let you write code that looks like it is using std::option::Option, but in fact has no dependence on libstd ?)
[17:32:54] *** zz_kimundi is now known as kimundi
[17:33:00] <ashley> yeah i'll probably wait for some async API and/or websocket library in that case, thanks!
[17:33:02] <SiegeLord> You mean it was deliberately chosen so that it breaks code? :P
[17:33:05] *** Quits: Rym (y@1F811F8A.7136637D.51C6DE68.IP) (Connection reset by peer)
[17:33:25] *** Quits: vhbit (vhbit@8BB49AD.FA5504CB.888F138E.IP) (Quit: My Mac Pro has gone to sleep. ZZZzzz…)
[17:33:40] *** Joins: Rym (y@1F811F8A.7136637D.51C6DE68.IP)
[17:33:53] <SiegeLord> This just calls for variant overloading
[17:34:05] *** Joins: astroch (astroch@moz-2B2F564F.bootp.virginia.edu)
[17:34:14] *** Quits: elfenlaid (elfenlaid@46447242.24FD34AF.F2EC20BB.IP) (Quit: elfenlaid)
[17:34:41] <SiegeLord> Rust should be able to disambiguate which variant to use when the enum type is known
[17:35:14] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[17:35:47] <taliriktug> o11c: thanks, git reflog works like a charm
[17:36:13] *** Joins: claudiu_ (claudiu@moz-FB94486E.thefacebook.com)
[17:36:16] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Connection reset by peer)
[17:36:30] *** Quits: ashley (ashley@moz-9DF7CE0.skybroadband.com) (Quit: ashley)
[17:36:39] <pnkfelix> SiegeLord: but resolve runs before type inference
[17:37:00] <pnkfelix> SiegeLord: i mean, anything is possible, but I'm not sure if its an easy change to put in
[17:37:17] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:37:34] *** Quits: luzie (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[17:37:39] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[17:37:45] <pnkfelix> SiegeLord: anyway, you'd have to ask Corey about what prompted the design.  See PR 12526.
[17:37:55] <SiegeLord> Why was Nullable added anyway... it seems to have crept in an unrelated commit
[17:38:02] <SiegeLord> Let's check that PR out
[17:39:34] <pnkfelix> seems easy enough to do libc::Some(...), but maybe I am overlooking some detail here.
[17:40:15] <SiegeLord> I'm using use std::libc::*;
[17:40:26] <SiegeLord> And it clobbers the std namespace
[17:40:31] <SiegeLord> Oh, I guess I could try std::Some
[17:40:34] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[17:40:36] *** Quits: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:41:03] <Ms2ger> Tuttut, don't use glob imports
[17:41:06] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[17:41:34] <pnkfelix> SiegeLord: but `std::libc` doesn't exist anymore ... did you meant to write `libc::*` above?
[17:41:51] <SiegeLord> Yeah, that works
[17:41:53] <benh> Let's add syntax for "use libc::* except Some;"
[17:42:01] <SiegeLord> pnkfelix: Yes, of course
[17:42:08] <pnkfelix> SiegeLord: the clobbering of the std namespace when using a glob import does seem troubling
[17:42:17] <SiegeLord> ::std::option::Some works fine for now
[17:42:22] <o11c> benh: doesn't an explicit import of Some afterwards do that?
[17:42:31] <SiegeLord> Let me shortern in up a bit
[17:42:34] *** Joins: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP)
[17:42:39] <benh> does it?
[17:42:42] <pnkfelix> oh I see now what SiegeLord meant
[17:42:54] *** Quits: osa1 (omer@moz-3056938F.swissinet.com) (Quit: Konversation terminated!)
[17:43:00] <SiegeLord> Exactly how o11c suggested
[17:43:12] <SiegeLord> Just add use std::option::Some; in the same block
[17:43:35] *** Joins: intuxicated (intuxicate@D028818A.A6A1F366.DA0107E2.IP)
[17:44:19] *** Joins: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP)
[17:44:24] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[17:45:08] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[17:45:27] *** Joins: Savago (Savago@504D6CF1.5315C0D2.4C2245EF.IP)
[17:46:26] <SiegeLord> Or rather just after use libc::*;
[17:46:29] <SiegeLord> Yay for shadowing
[17:48:08] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:48:31] *** Quits: Rym (y@1F811F8A.7136637D.51C6DE68.IP) (Ping timeout)
[17:48:31] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[17:49:41] *** Joins: rylev (rylev@moz-19FF278F.cust.telecolumbus.net)
[17:49:51] *** Quits: astroch (astroch@moz-2B2F564F.bootp.virginia.edu) (Ping timeout)
[17:50:16] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[17:50:29] *** Quits: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[17:50:30] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:51:56] *** Joins: Rym (y@1F811F8A.7136637D.51C6DE68.IP)
[17:52:09] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:52:31] *** Joins: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net)
[17:53:09] <SiegeLord> What happened to all the free functions in std::f32?
[17:53:36] <det> Does the promise that None is represented as a null pointer extend to all similar enums, ie, enum Blah { Bar, Baz(~int) }
[17:53:37] *** Quits: canhtak (canhtak@moz-7FC55BCE.wl.t.ulaval.ca) (Quit: canhtak)
[17:53:45] *** Quits: eibwen (kvirc@moz-CB454DA4.dip0.t-ipconnect.de) (Ping timeout)
[17:54:02] *** Quits: eddyb (eddy@9C8921DE.97C485DB.D608C900.IP) (Ping timeout)
[17:54:06] <Ms2ger> det, yes
[17:54:10] <det> thanks
[17:54:15] <Ms2ger> Np
[17:54:39] *** Quits: ndt (ndt@FEACE86F.DD5772EA.88820282.IP) (Ping timeout)
[17:56:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:56:14] *** Joins: plaindocs (Mibbit@moz-4B6D6711.pool.digikabel.hu)
[17:56:41] *** Joins: johnpclaus (johnpclaus@moz-A8D0D60B.hlrn.qwest.net)
[17:56:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:56:52] <SiegeLord> I see... free functions were removed before UFCS was implemented
[17:57:29] <SiegeLord> or the method resolution bugs solved
[17:58:35] *** Quits: claudiu_ (claudiu@moz-FB94486E.thefacebook.com) (Connection reset by peer)
[17:58:35] *** Joins: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi)
[17:58:47] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[17:58:47] *** ChanServ sets mode: +ao brson brson
[17:58:52] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[17:59:06] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[17:59:06] *** ChanServ sets mode: +o tjc
[17:59:25] *** Quits: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[17:59:42] *** Quits: oberstet_ (quassel@moz-11D2B784.dynamic.mnet-online.de) (Connection reset by peer)
[18:00:52] *** Joins: heftig (heftig@moz-4CCD7C78.dip0.t-ipconnect.de)
[18:00:59] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:01:05] *** Joins: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net)
[18:01:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:01:53] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[18:02:11] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[18:02:58] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:03:24] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[18:03:24] *** ChanServ sets mode: +o tjc
[18:06:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:06:44] *** Quits: Rym (y@1F811F8A.7136637D.51C6DE68.IP) (Ping timeout)
[18:06:45] *** Joins: canhtak (canhtak@moz-7FC55BCE.wl.t.ulaval.ca)
[18:07:06] *** Joins: Rym (y@1F811F8A.7136637D.51C6DE68.IP)
[18:08:19] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[18:10:45] *** Joins: ndt (ndt@FEACE86F.DD5772EA.88820282.IP)
[18:10:54] *** Joins: bpicolo (Adium@moz-B475EB64.static-ip.telepacific.net)
[18:12:49] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[18:12:50] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[18:13:09] *** Quits: benvie (bbenvie@5FD20F9A.53D07D95.EFF8B7BF.IP) (Ping timeout)
[18:13:10] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[18:14:00] <farcaller> how do I use lifetimes correctly if I need to store &Trait in another struct?
[18:14:06] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[18:14:15] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[18:14:20] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[18:14:48] <o11c> farcaller: struct Contains<'a> { trait: &'a Trait }
[18:16:11] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:16:16] <farcaller> o11c: how do I write impl for that? impl C12332<'a> { ... } doesn't seem to work
[18:16:42] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:17:13] <sfackler> impl<'a> C12234<'a> {...}
[18:17:27] *** Joins: astroch (astroch@moz-DF5C3CE6.dhcp.embarqhsd.net)
[18:17:36] *** Quits: abaez (a__@moz-49B96D6C.nycmny.fios.verizon.net) (Client exited)
[18:17:38] <SiegeLord> Managed to work around by re-creating the free functions, ehehe
[18:18:12] <farcaller> o11c: thanks
[18:18:13] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:20:03] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[18:21:11] <strcat> SiegeLord: what method resolve bug?
[18:21:32] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:21:34] <SiegeLord> https://github.com/mozilla/rust/issues/12091
[18:21:40] *** Quits: Titof (Titof@moz-939A8CA2.w92-160.abo.wanadoo.fr) (Quit: Ash nazg durbatulûk, ash nazg gimbatul, ash nazg thrakatulûk agh burzum-ishi krimpatul.)
[18:22:01] *** Joins: radford (Adium@moz-9E6BD4E4.static.mtpk.ca.charter.com)
[18:23:01] *** Joins: silven (quassel@835652F4.C5105641.B3DDC20A.IP)
[18:23:07] *** Quits: silven (quassel@835652F4.C5105641.B3DDC20A.IP) (Quit: http://quassel-irc.org - Chatta smidigt. verallt.)
[18:23:09] *** Joins: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se)
[18:25:40] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[18:25:52] *** Quits: ganitsu (ganitsu@moz-F6749E2C.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[18:29:33] *** Joins: W0rmDr1nk (wormdrink@moz-CEAF0263.access.mtnbusiness.co.za)
[18:29:39] *** Joins: chrismills (chrismills@moz-D5CF88B.dyn.plus.net)
[18:29:41] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:29:41] *** ChanServ sets mode: +o pnkfelix
[18:30:14] <chrismills> brson, nmatsakis : hi! when’s the Rust docs meet?
[18:30:20] <chrismills> Now, or in an hour?
[18:31:09] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[18:31:09] *** ChanServ sets mode: +ao dherman dherman
[18:32:13] *** Quits: yusukesuzuki-off (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Ping timeout)
[18:32:29] *** Joins: yusukesuzuki-off (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[18:34:42] <brson> chrismills: in an hour
[18:34:51] <brson> chrismills: time zone changes have been confusing us
[18:34:56] *** Quits: Rym (y@1F811F8A.7136637D.51C6DE68.IP) (Ping timeout)
[18:35:14] <brson> chrismills: to make it worse, an hour from now is a bad time for sam, so from *next week* we're rescheduling for an hour earlier
[18:36:33] *** Joins: Rym (y@1F811F8A.7136637D.51C6DE68.IP)
[18:38:11] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[18:41:03] <plaindocs> No sweat - I cleared it up with Brian already. With my past form I tend to double check these days. 
[18:41:40] *** Quits: hhhhhhhhhh (mike@moz-8F76C72D.as43234.net) (Quit: WeeChat 0.4.3)
[18:41:49] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:43:09] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[18:43:29] *** Quits: bpicolo (Adium@moz-B475EB64.static-ip.telepacific.net) (Quit: Leaving.)
[18:43:35] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:43:54] *** Joins: eddyb (eddy@717B0165.D51DAF03.FB866788.IP)
[18:44:52] *** Joins: bpicolo (Adium@moz-B475EB64.static-ip.telepacific.net)
[18:45:00] *** Joins: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net)
[18:45:57] *** Quits: ozkriff (Mibbit@D803906A.389F1DB8.D5F347E6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:46:13] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[18:46:14] *** Quits: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi) (Ping timeout)
[18:46:40] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[18:49:02] *** Joins: cloudpirate (Mibbit@moz-862B8CAD.dsl.teksavvy.com)
[18:49:14] <bvssvni> would it be a great idea to have a repository with rlibs compiled for different platforms?
[18:50:47] <bvssvni> things like glfw-rs and other multimedia libraries
[18:51:03] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[18:51:21] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:51:21] *** ChanServ sets mode: +ao brson brson
[18:51:39] *** Joins: osa1 (omer@moz-3056938F.swissinet.com)
[18:52:09] *** Joins: claudiu_ (claudiu@moz-7D1F0258.thefacebook.com)
[18:52:28] *** Joins: abaez (a__@moz-49B96D6C.nycmny.fios.verizon.net)
[18:52:36] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Connection reset by peer)
[18:54:36] *** Quits: q66 (q66@moz-7B0E449B.range81-129.btcentralplus.com) (Ping timeout)
[18:54:36] *** Quits: cloudpirate (Mibbit@moz-862B8CAD.dsl.teksavvy.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:55:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[18:55:58] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[18:55:58] *** Quits: japaric_ (japaric@F5AA40C.E00EBC6F.F29ED47E.IP) (Ping timeout)
[18:56:05] <bvssvni> also, could build docs in the same repo
[18:56:11] *** Joins: japaric_ (japaric@7B88D349.60305011.BFC118EE.IP)
[18:56:54] <bstrie> so, we have these optional type parameters, right? does that mean that collections can be parameterized over allocators?
[18:57:12] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:57:12] *** ChanServ sets mode: +ao brson brson
[18:57:58] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[18:58:28] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[18:58:44] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[18:58:53] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:59:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:59:32] *** Quits: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[19:00:29] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[19:00:41] *** Joins: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com)
[19:00:42] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[19:00:58] *** Quits: subhashb (Adium@90D49AF0.33D2B648.E5F05D4F.IP) (Quit: Leaving.)
[19:01:02] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:01:06] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:01:53] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[19:02:20] *** Quits: Nmorrison72 (Nmorrison7@moz-1E495036.dhcp.nwtn.ct.charter.com) (Client exited)
[19:02:29] *** Quits: ndt (ndt@FEACE86F.DD5772EA.88820282.IP) (Ping timeout)
[19:04:58] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[19:05:19] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:05:52] <seanmonstar> why would i be getting `s[..] doesn't live long enough` https://gist.github.com/seanmonstar/3e1df321b090fb7ab95f
[19:06:27] *** Joins: edwardw (edwardw@A5AE6C81.2264CD20.339614B0.IP)
[19:06:59] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[19:07:13] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[19:07:36] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[19:09:14] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[19:09:34] *** Joins: Matthias247 (Miranda@moz-FBCD6EF1.hsi2.kabelbw.de)
[19:09:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:10:10] *** Joins: elfenlaid (elfenlaid@3E4E3762.5C0221D0.698B4E08.IP)
[19:10:53] *** Joins: q66 (q66@moz-8E42852F.range81-132.btcentralplus.com)
[19:10:58] *** Joins: derek_c (derek@moz-A2DDCEA3.cit.cornell.edu)
[19:11:01] *** Joins: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net)
[19:11:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[19:11:36] *** Quits: kard (kard@moz-A3F54AA.dip0.t-ipconnect.de) (Ping timeout)
[19:12:26] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[19:13:08] *** Joins: p1start (rewi@moz-E7F3D014.org)
[19:14:02] *** Quits: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[19:14:13] <bstrie> seanmonstar: not sure, but what happens if you rewrite that function like this: 
[19:14:17] <bstrie> https://gist.github.com/bstrie/094920224d11ebaf0ab1
[19:14:25] *** Joins: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net)
[19:14:51] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[19:15:25] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:15:39] <bvssvni> seanmonstar: try with a  ~str instead of &'a str
[19:17:10] <seanmonstar> bstrie: same deal. s doesn't live long enough
[19:17:30] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:17:54] <seanmonstar> bvssvni: the error moves into `from_str`, claiming s still doesn't live long enough
[19:18:04] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[19:18:04] *** ChanServ sets mode: +o tjc
[19:19:18] <bvssvni> seanmonstar: decoder is put on the stack, and when you return it runs out of scope
[19:20:01] *** Joins: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP)
[19:20:04] <seanmonstar> bvssvni: mhm. the decoder is tossed, and i'd expect to receive back Ok(T)
[19:20:34] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:21:05] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Quit: Konversation terminated!)
[19:21:14] *** Joins: eddyb (eddy@717B0165.D51DAF03.FB866788.IP)
[19:21:26] <bvssvni> seanmonstar: Decodable::decode takes a borrowed pointer, which points to decoder
[19:21:42] <seanmonstar> yes
[19:21:45] <bvssvni> seanmonstar: when decoder runs out of stack, you would have a dangling pointer
[19:21:50] <bvssvni> *scope
[19:22:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:22:34] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:22:41] <strcat> rusti: 2
[19:22:42] -rusti- 2
[19:22:57] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[19:22:58] <strcat> rusti: 2
[19:22:58] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:22:58] -rusti- 2
[19:22:59] <seanmonstar> Decodable::decode doesn't hold onto the decoder. after decode() finishes, it lets go of the pointer, which should happen before from_str runs out, no?
[19:23:46] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:23:47] *** Quits: astroch (astroch@moz-DF5C3CE6.dhcp.embarqhsd.net) (Ping timeout)
[19:23:47] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:23:53] *** Joins: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it)
[19:24:35] *** Quits: gregburd (uid3997@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[19:24:37] *** Quits: edwardw (edwardw@A5AE6C81.2264CD20.339614B0.IP) (Quit: Leaving...)
[19:24:41] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:24:54] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:24:59] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:25:53] *** Joins: edwardw (edwardw@586492D3.E4C8743.30C05AB6.IP)
[19:26:26] <bvssvni> seanmonstar: you're right
[19:28:26] *** Joins: nfroidure (nfroidure@moz-E753E331.w90-18.abo.wanadoo.fr)
[19:29:11] *** Joins: andrew-d_w (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net)
[19:29:14] *** Joins: gw (gw___@moz-9C44DACD.lns20.bne4.internode.on.net)
[19:31:07] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[19:31:08] <jdsanders> what is the best way to allocate memory of a known (at runtime) length, and pass it to a C library which uses it?
[19:31:16] <jdsanders> it looks like CVec is designed for going the other direction
[19:31:18] *** Joins: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[19:31:32] <strcat> jdsanders: depends on what you mean by pass it to C
[19:31:40] <strcat> does it just want a mutable/immutable reference to a buffer?
[19:31:45] <strcat> as in, it's not going to take ownership
[19:31:50] *** Quits: andrew-d_w (andrew-d_w@moz-5A92CAFF.dsl.static.sonic.net) (Ping timeout)
[19:32:09] *** Quits: q66 (q66@moz-8E42852F.range81-132.btcentralplus.com) (Ping timeout)
[19:32:16] <jdsanders> yeah
[19:32:22] <strcat> just use Vec then
[19:32:27] <bvssvni> seanmonstar: have you tried assigning str::from_utf8_owned(contents) to a variable before matching?
[19:32:34] *** Quits: chrismills (chrismills@moz-D5CF88B.dyn.plus.net) (Ping timeout)
[19:33:25] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[19:33:34] <seanmonstar> bvssvni: yea, and i've tried referncing s after from_str(). like `let r = from_str(s); println!("{}", s); r`
[19:33:40] <jdsanders> strcat: and pass through a reference to its data, I assume?
[19:33:49] <strcat> jdsanders: yes
[19:33:52] *** Joins: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi)
[19:33:54] <strcat> depends on exactly what you need...
[19:34:02] <jdsanders> yeah, that sounds like what I need
[19:34:11] <strcat> for example if it tells you a buffer size dynamically
[19:34:17] <strcat> and then expects that buffer to write into
[19:34:41] <strcat> use Vec::with_capacity(n), pass a mutable reference to C, then use set_len to mark it as having that much length
[19:34:59] *** Quits: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:35:32] *** Joins: chrismills (chrismills@moz-D5CF88B.dyn.plus.net)
[19:35:33] <jdsanders> yeah, I think that's exactly what I want
[19:35:36] *** Quits: chrismills (chrismills@moz-D5CF88B.dyn.plus.net) (Quit: Off to find beer and rock and roll...)
[19:35:38] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:35:47] <jdsanders> thanks a lot
[19:37:10] <bvssvni> seanmonstar: why does the compiler says 's[..]' instea of just 's'?
[19:37:18] <bvssvni> *instead
[19:37:28] <seanmonstar> no clue
[19:37:29] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[19:39:16] *** Joins: aperos (appos@moz-1689688F.dyn.optonline.net)
[19:39:44] <eddyb> bvssvni: s[..] is presumably what &*s will be under DST
[19:39:56] *** Joins: chrismills (chrismills@moz-D5CF88B.dyn.plus.net)
[19:40:13] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:40:25] <seanmonstar> eddyb: maybe you'd understand. its lifetime fun for everyone https://gist.github.com/bstrie/094920224d11ebaf0ab1
[19:40:41] <seanmonstar> er
[19:40:49] <seanmonstar> that wasn't mine, https://gist.github.com/seanmonstar/3e1df321b090fb7ab95f
[19:41:15] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:41:23] *** Joins: robhobbes (robert@moz-9B3FF613.slc.googlefiber.net)
[19:41:46] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[19:41:56] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[19:42:00] *** Joins: benvie (bbenvie@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:42:03] <bvssvni> seanmonstar: one thing that is special is 'a not being bind to any arguments or return value, only as a generic constraint
[19:42:48] <seanmonstar> bvssvni: for from_reader? yea... but it complains at me if i don't have it. from_str is using it
[19:42:48] *** Quits: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi) (Ping timeout)
[19:42:48] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Ping timeout)
[19:43:11] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[19:43:11] *** Joins: eddyb (eddy@717B0165.D51DAF03.FB866788.IP)
[19:43:39] *** Joins: ndt (ndt@FEACE86F.DD5772EA.88820282.IP)
[19:44:24] <bvssvni> seanmonstar: I wonder since any lifetime created in that function, must be invalid when the function returns
[19:44:28] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:44:28] *** ChanServ sets mode: +o pnkfelix
[19:44:57] <bvssvni> seanmonstar: seen from a epistemological perspective :P
[19:45:30] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[19:46:12] <bvssvni> seanmonstar: the string slice you pass to from_str is invalid when returning from from_reader
[19:46:26] *** Quits: dranov (dranov@379C3F75.857BF9F5.A5830293.IP) (Ping timeout)
[19:46:46] <bvssvni> seanmonstar: since the life time is bound to that string slice, the Chars iterator becomes invalid too
[19:47:51] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:47:59] *** Quits: jackneill (jackneill@moz-88937885.pool.digikabel.hu) (Ping timeout)
[19:48:15] <seanmonstar> bvssvni: i don't want to deal with these lifetimes, and just say that Decoder<R: Iterator>, but then it complains that it got a str::Chars, but expected <R>
[19:49:14] *** Quits: gw (gw___@moz-9C44DACD.lns20.bne4.internode.on.net) (Quit: Leaving)
[19:50:28] <csherratt> How do I tell the compiler that an object type impliments two traits? like X and Send?
[19:50:30] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:50:46] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:50:47] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:50:50] <bvssvni> seanmonstar: I think the problem is changing the ~str to a &str and then construct the return value based on the lifetime of the &str
[19:51:00] <bstrie> csherratt: using trait objects?
[19:51:29] <bvssvni> seanmonstar: is it possible to take a ~str in from_str with a lifetime 'a?
[19:53:49] <bvssvni> seanmonstar: so this is why it says s[...] and not s!
[19:53:58] <csherratt> hmm.. maybe I should back up. I have a trait that I have multiple implementers of. When updating to the latest rust the compiler has decided that they are no longer have the Send type, meaning I can’t send them between tasks.
[19:54:02] <bvssvni> seanmonstar: it is the lifetime of the slice
[19:54:17] <lukem> hey all, really simple question.. if a C function gives me a pointer to a u8 array and an array length, how do i access the array values from rust?
[19:54:30] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[19:55:06] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[19:55:16] <csherratt> I use to be able to just do ~Foo, but now it thinks it does not fulfill `Send`. 
[19:55:40] *** Joins: meyer (meyermagic@moz-BBF7E95F.cruznet.ucsc.edu)
[19:56:18] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:56:54] *** Joins: Jesse_ (jruderman@moz-62518563.mtv2.mozilla.com)
[19:56:59] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Connection reset by peer)
[19:57:14] <bvssvni> seanmonstar: what if you change to &'a must rdr and use a let s: &'a str = s.as_slice() before from_str?
[19:57:42] <bvssvni> seanmonstar: then you can use the return value until rdr runs out of scope
[19:58:25] <bvssvni> seanmonstar: even if that is just a hack
[19:59:07] *** Quits: meyer (meyermagic@moz-BBF7E95F.cruznet.ucsc.edu) (Quit: Bye)
[20:00:39] *** kimundi is now known as zz_kimundi
[20:00:41] <bvssvni> lukem: http://static.rust-lang.org/doc/master/std/ptr/trait.RawPtr.html#tymethod.offset
[20:00:43] *** Joins: jroweboy (Mibbit@moz-B0B6A670.provo.static.broadweavenetworks.net)
[20:00:51] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[20:01:58] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[20:02:03] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[20:02:08] *** Quits: rootnode (rootnode@moz-B6060A8D.pools.arcor-ip.net) (Ping timeout)
[20:02:32] <jroweboy> with the latest updates to rust, I am getting an error "expected ~str but found ~ box pattern" when I try to return a ~"string" like that. Does that mean that I can't just make a ~"string" and return that now? If so how do I need to change it?
[20:02:39] *** Parts: bpicolo (Adium@moz-B475EB64.static-ip.telepacific.net) ()
[20:02:59] *** Quits: edwardw (edwardw@586492D3.E4C8743.30C05AB6.IP) (Ping timeout)
[20:03:02] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[20:03:53] *** Joins: edwardw (edwardw@C5A98CE5.177282A3.FAED9FFC.IP)
[20:04:29] *** Quits: Jesse_ (jruderman@moz-62518563.mtv2.mozilla.com) (Quit: Jesse_)
[20:04:30] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Ping timeout)
[20:04:33] <sp3d> jroweboy: can you pastebin the relevant code?
[20:04:35] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[20:05:05] <jroweboy> https://github.com/jroweboy/oxidize/blob/static_routing/src/mimetype.rs#L14
[20:05:06] *** Joins: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP)
[20:05:28] <Ms2ger> jroweboy, it's the match
[20:05:30] <sp3d> ^
[20:05:37] *** Quits: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net) (Client exited)
[20:05:53] <sp3d> match on extension.as_slice() or just accept an &str instead of an ~str as the argument, and then remove ~ from the patterns
[20:05:53] <Ms2ger> You need match extension.as_slice() { "eot"...
[20:06:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:07:06] *** Quits: Ferreus (ferreus@moz-5B88FD0C.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[20:07:13] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:07:19] <jroweboy> sp3d: Ms2ger: oh that makes sense then! Thanks
[20:07:26] <lukem> bvssvni: thanks, that works! is there a perf hit from the repeated offset and to_options and unwrappings? or is that considered ok?
[20:07:32] *** Joins: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net)
[20:08:03] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:08:04] *** Quits: jroweboy (Mibbit@moz-B0B6A670.provo.static.broadweavenetworks.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:08:05] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: QUIT)
[20:08:49] *** Joins: rootnode (rootnode@moz-34DE55BB.pools.arcor-ip.net)
[20:09:32] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[20:09:50] <bvssvni> lukem: it is inlined, but I have not done benchmarks on this
[20:09:55] *** Joins: pastry (pastry@moz-B44D98B.ip59.fastwebnet.it)
[20:11:11] *** Parts: robhobbes (robert@moz-9B3FF613.slc.googlefiber.net) ()
[20:11:40] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:12:02] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:13:12] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[20:13:22] *** Quits: asmyers (quassel@2D30C89C.A07F7734.FAA4474F.IP) (Ping timeout)
[20:13:23] <jdsanders> so I want to create a Vec<T> with Vec::with_capacity from std::vec, but I want to access its data field, which it looks like I need to use std::raw::Vec for (but then I don't have Vec::with_capacity...) - what am I missing?
[20:13:30] <jdsanders> cc: strcat
[20:14:24] <sfackler> std::vec::Vec and std::raw::Vec are unrelated
[20:14:49] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:15:07] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[20:15:07] <sfackler> you probably want as_ptr or as_mut_ptr
[20:15:32] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[20:15:32] *** ChanServ sets mode: +ao dherman dherman
[20:15:37] *** Joins: ksf_ (ksf@moz-5BA59D6F.adsl.hansenet.de)
[20:15:49] <bvssvni> is the .dylib file extension platform agnostic?
[20:15:53] <jdsanders> ah, thanks, indeed i do!
[20:16:11] <bvssvni> or is .dylib just for osx?
[20:16:18] <o11c> just for osx
[20:16:36] *** Quits: ksf (ksf@moz-42E0D8E.adsl.hansenet.de) (Ping timeout)
[20:16:54] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[20:16:58] *** Joins: dg (dg@8753212F.58B71505.20F09BA6.IP)
[20:17:15] <sfackler> it's dll for windows and so for linux
[20:17:16] *** Quits: dg (dg@8753212F.58B71505.20F09BA6.IP) (Input/output error)
[20:17:27] *** Joins: dg (dg@8753212F.58B71505.20F09BA6.IP)
[20:17:28] <bvssvni> thanks
[20:17:39] *** Quits: chrismills (chrismills@moz-D5CF88B.dyn.plus.net) (Quit: Off to find beer and rock and roll...)
[20:17:49] *** Quits: tikue (tkuehn@CB7FC854.FAD414BA.D74CC41D.IP) (Quit: tikue)
[20:18:35] <pastry> "trait functions inherit the visibility of the trait itself" -- so if the trait is pub, everything in it is strictly pub?
[20:18:35] <o11c> though arguably, it's .so.[0-9]+
[20:18:44] <sfackler> pastry: yep
[20:19:01] <o11c> or rather, .so[.0-9]*
[20:19:09] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[20:19:10] <o11c> except that I should exclude .. ...
[20:19:36] <pastry> sfackler, can this be alleviated when implementing the trait? If I make a (pub trait method) priv?
[20:19:52] <o11c> \.so(\.[0-9]+)*
[20:20:08] <SiegeLord> If you need a private method, you can use a parent-trait
[20:20:29] <SiegeLord> trait Private; pub trait Public : Private;
[20:20:30] <pastry> SiegeLord, a priv parent trait with priv methods, extending it with a smaller, pub trait?
[20:20:37] <SiegeLord> Yep
[20:20:59] <pastry> SiegeLord: nice solution, thanks. Is this considered idiomatic usually?
[20:21:04] <pastry> does it make noses twitch?
[20:21:19] <SiegeLord> Not sure... but I've used it once or twice
[20:21:20] <sfackler> I've used that
[20:21:28] <SiegeLord> It's not really a common situation to find yourself in
[20:23:09] <derek_c> How would you update this line for the latest Rust?  https://github.com/mneumann/rust-msgpack/blob/master/src/msgpack/rpc.rs#L11
[20:23:32] <derek_c> Apparently Encodable and Decodable now take two type arguments
[20:23:53] <bvssvni> o11c: so version number is following the .so?
[20:23:55] <sfackler> I think the second is the error type
[20:24:23] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:24:29] *** Joins: Nekit1234007 (Nekit12340@D5978FA3.A1E24777.4707F662.IP)
[20:25:06] *** Quits: Nekit1234007_ (Nekit12340@4DA8296C.FA3E1B27.4707F662.IP) (Ping timeout)
[20:25:15] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[20:25:25] *** Quits: derek_c (derek@moz-A2DDCEA3.cit.cornell.edu) (Quit: Leaving)
[20:25:33] *** Joins: derek_c (derek@moz-A2DDCEA3.cit.cornell.edu)
[20:25:55] <derek_c> did anybody answer my question?  Might have dropped offline
[20:26:29] *** Quits: voxpopuli (fanservice@5B39F0AC.3E3BE3A7.689607DE.IP) (Ping timeout)
[20:26:31] <sfackler> derek_c: I think the second parameter is the error type
[20:26:54] <sfackler> the various methods on Encodable and Decodable return a Result<whatever, E> instead of failing
[20:27:09] <derek_c> oh!
[20:27:22] <Amaranth> I'm guessing https://github.com/mozilla/rust/commit/f1739b14a1346419a4598339aee32aab07e0d12e is the relevant commit, perhaps looking at the json diff there would help
[20:27:31] *** Quits: jmbto (jmbto@moz-B2BEB013.net) (Quit: good night everyone)
[20:27:42] <derek_c> I see. thanks guys
[20:27:51] <taliriktug> So, astrologers proclaim month of the Linux. Linuxoid population doubles.
[20:28:06] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[20:28:06] <taliriktug> today is end of support for WinXP :)
[20:28:21] *** Quits: ndt (ndt@FEACE86F.DD5772EA.88820282.IP) (Ping timeout)
[20:28:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[20:28:43] <o11c> bvssvni: yes. The first number after the .so is the major version (which is what it actually looks it up with at runtime). Any further numbers are minor/point releases, and don't affect the ABI (though they may *add* functions, but the loader will never check that).
[20:28:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:29:00] <o11c> bvssvni: typically, there is NO relation between the .so version and the official package version
[20:29:21] *** Parts: oldmanstan (glesica@moz-CA910636.net) ()
[20:29:27] <bvssvni> o11c: is --create-type dylib used on all platforms?
[20:29:39] <o11c> --crate-type dylib, yes
[20:29:55] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:30:09] <pastry> SiegeLord, well, so you say that balancing complexity, I could just make the internal impl pub and forget about it
[20:30:32] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[20:30:55] <o11c> (equivalently: #[crate_type="dylib"]; ) (also equivalently, whatever the new contained attribute syntax is)
[20:31:09] <bjz> Hmm, I have this function:
[20:31:11] <bjz> pub fn send(message: ::Message) {
[20:31:11] <bjz>     local_data::get(::MESSAGE_SENDER, |sender| {
[20:31:11] <bjz>         sender.map(|s| s.send(message));
[20:31:11] <bjz>     })
[20:31:11] <bjz> }
[20:31:20] <SiegeLord> pastry: It all depends on what kind of public API you want, I suppose...
[20:31:23] <bjz> I get:
[20:31:25] <bjz> src/pd/callbacks.rs:25:31: 25:38 error: cannot move out of captured outer variable
[20:31:26] <bjz> src/pd/callbacks.rs:25         sender.map(|s| s.send(message));
[20:31:47] <bjz> is there any way of fixing that without copying it?
[20:32:37] <pastry> SiegeLord: of course, thanks. I think now I've got the feel for how lean it should be.
[20:33:43] *** Quits: EcoGiko (EcoGiko@4A3CB82B.E75E5955.BD570C00.IP) (Client exited)
[20:34:39] <bstrie> so, this is baffling to me https://gist.github.com/bstrie/10047102 since when are two type parameters required to *not* be the same type?
[20:34:55] <bjz> ugh, wel this is ugly:
[20:34:57] <bjz> pub fn send(message: ::Message) {
[20:34:57] <bjz>     let mut sender = None;
[20:34:58] <bjz>     local_data::get(::MESSAGE_SENDER, |s| sender = s.map(|s| s.clone()));
[20:34:58] <bjz>     match sender {
[20:34:58] <bjz>         Some(s) => s.send(message), _ => {},
[20:34:58] <bjz>     }
[20:34:59] <bjz> }
[20:35:08] <Eridius> bstrie: what do you mean?
[20:35:15] <bstrie> Eridius: can you explain that error?
[20:35:17] <Eridius> bstrie: I don't see how that fn foo() could ever compile
[20:35:20] * bjz should probably be gisting
[20:35:23] *** Parts: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP) ()
[20:35:29] <Eridius> bstrie: the return value of foo() is U. You were returning x, which was typed as T
[20:35:34] <Eridius> bstrie: that's what the error is saying
[20:35:39] <bstrie> Eridius: but why can't T and U be the same type?
[20:35:41] <kmc> is there something in the stdlib to a string holding get n copies of a character?
[20:35:42] <bstrie> i.e. uint and uint?
[20:35:50] <Eridius> bstrie: they can, but the function is compiled before it's used
[20:35:57] *** Quits: eddyb (eddy@717B0165.D51DAF03.FB866788.IP) (Ping timeout)
[20:36:00] <Eridius> bstrie: this isn't C++ templates, where errors occur based on how the template is instantiated
[20:36:10] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[20:36:13] <bstrie> Eridius: I have no idea what you're talking about
[20:36:27] *** Quits: Rym (y@1F811F8A.7136637D.51C6DE68.IP) (Ping timeout)
[20:36:37] <Eridius> bstrie: when rustc compiles that fn foo() it has no idea what concrete types T and U will have. It can't assume that they're the same, because they might not be
[20:36:45] <Eridius> it has to compile the function with only the knowledge that the type parameters give it
[20:36:53] <bstrie> Eridius: but they *might* be. and in this case, they are
[20:36:57] <bstrie> how do I express that?
[20:37:03] <Eridius> bstrie: by not using two type parameters.
[20:37:31] <Eridius> a generic function is not supposed to throw a compilation error during instantiation with concrete types
[20:37:36] <bstrie> Eridius: how do we define a generic "map" function then, if map can either return a collection of the same type or of a different type?
[20:37:49] <Eridius> right now it's actually possible because of cast::transmute(), but without using transmute() I don't believe it's possible
[20:38:02] *** Quits: edwardw (edwardw@C5A98CE5.177282A3.FAED9FFC.IP) (Quit: Leaving...)
[20:38:15] <bstrie> you can't be serious
[20:38:16] <Eridius> bstrie: not sure what you mean. Map takes a closure, and that closure is responsible for doing the transformation
[20:38:20] <Eridius> bstrie: why not?
[20:38:21] <bjz> ok here it is in gist form: https://gist.github.com/bjz/7598767434c1bc850c94
[20:38:29] *** Quits: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl) (Quit: Leaving)
[20:38:35] <bstrie> Eridius: I still don't understand why the compiler *must* assume they are different types
[20:38:38] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[20:38:38] *** Joins: exoticorn (exoticorn@moz-9E985E10.adsl.alicedsl.de)
[20:38:46] <Eridius> bstrie: transmute() only causes a problem because it will throw a compilation error if the type parameters have different sizes. But it can only know that during instantiation
[20:38:48] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:38:55] *** Joins: Rym (y@1F811F8A.7136637D.51C6DE68.IP)
[20:39:00] <Eridius> bstrie: it doesn't assume they must be different. It assumes they *may* be different
[20:39:03] <Eridius> and if they are different, compilation fails
[20:39:21] <bstrie> Eridius: can you write me a generic map function to show me how it can be done?
[20:39:25] <Eridius> bstrie: basically, when compiling a generic function, it must succeed for all possible concrete types that match the type parameter bounds
[20:39:28] <bstrie> because I really don't understand this limitation
[20:39:42] <bstrie> Eridius: yes, and <uint, uint> should succeed
[20:39:46] <bstrie> and I don't understand why it doesn't
[20:39:51] <Eridius> bstrie: what do you mean by generic map function? fn map<T, U>(x: T, f: |T| -> U) -> U { f(x) } works
[20:40:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:40:12] <Eridius> bstrie: the compilation of foo() happens before you even try to instantiate it as foo<uint, uint>
[20:40:41] <Eridius> bstrie: this fails for the same reason that `fn foo<T>(x: T) -> uint { x + 1 }` fails
[20:40:46] <Eridius> that function would certainly be ok if it knew T was a uint
[20:40:53] <Eridius> but T might be other things, so it can't possibly compile
[20:41:22] <bjz> bstrie: erm. there is no way of somebody externally looking at the type signature of  `foo` and knowing that T and U are of the same type
[20:41:32] <bstrie> does that matter?
[20:41:34] <Eridius> yes
[20:41:41] <bjz> which they would have to be to satisfy your definition
[20:41:42] <bstrie> I give up
[20:41:47] <bstrie> nothing makes sense
[20:41:57] <Eridius> bstrie: are you coming from C++?
[20:42:00] <bstrie> no
[20:42:05] <bstrie> javascript
[20:42:12] <Eridius> in that case I'm mystified as to why you have the wrong mental model here
[20:42:16] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[20:42:19] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Connection reset by peer)
[20:42:20] <bjz> hmm
[20:42:43] <Eridius> bstrie: `fn foo<T>(x: T) -> uint { x + 1 }` <-- would you expect this to compile?
[20:42:44] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[20:42:55] <bjz> bstrie: if you had a `cast<T, U>(x: T) -> U` in there it would work
[20:43:05] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:43:11] *** Quits: rylev (rylev@moz-19FF278F.cust.telecolumbus.net) (Client exited)
[20:43:11] <bjz> Eridius: good one
[20:43:19] <Eridius> bstrie: I think the problem is you're assuming that the implementation of a generic function can put constraints on the type parameters. So in the case of your map() it would constrain T and U to be the same
[20:43:23] <Eridius> but that can't happen.
[20:43:24] * exoticorn just noticed !ptr.is_null(), so much nicer than (ptr as size_t) != 0... ;)
[20:43:25] <bstrie> Eridius: I don't see why that's relevant, we're not assuming anything here of the sort that "x must define addition with integers"
[20:43:32] *** Joins: rylev (rylev@moz-4B626C18.client.dyn.strong-in106.as13926.net)
[20:43:41] <bstrie> we're just saying that foo returns a value
[20:43:42] <Eridius> bstrie: it is relevant because my function would compile if you use it as foo<uint>(), but wouldn't compile otherwise
[20:43:44] <bstrie> and foo takes a value
[20:43:54] <bstrie> and the value that it takes is what it returns
[20:44:20] *** Quits: elfenlaid (elfenlaid@3E4E3762.5C0221D0.698B4E08.IP) (Ping timeout)
[20:44:22] *** Joins: ndt (ndt@FEACE86F.DD5772EA.88820282.IP)
[20:44:26] <Eridius> bstrie: you can certainly declare a function in a trait fn foo<T, U>(x: T) -> U if you want. The problem is you can't actually implement it without some oracle function like the one bjz suggested that converts all Ts to Us
[20:44:51] <Eridius> bstrie: what is the concrete problem you're trying to solve here?
[20:45:04] <bjz> bstrie: but the types to match. If I knew more about type systems I might be able to explain it more formally
[20:45:29] *** Joins: elfenlaid (elfenlaid@D6EA0C43.44CB42CD.698B4E08.IP)
[20:45:38] <bstrie> Eridius: are you trying to say that rust just doesn't want to let you specify type parameters that make no sense?
[20:45:40] <bjz> bstrie: would foo<int, ~str> work?
[20:46:09] *** Joins: rylev_ (rylev@moz-19FF278F.cust.telecolumbus.net)
[20:46:11] <bstrie> bjz: I expect rust to throw an error only once I've tried to do that
[20:46:13] <Eridius> bstrie: no. It's not that it's trying to say "this makes no sense", it's that inside your implementation you simply do not have enough information to write anything that works
[20:46:14] <bjz> bstrie: try plaing in random concrete types in place of T and U and see if your definition makes sense
[20:46:20] <bvssvni> bstrie: in javascript the type of an object is detected at runtime, in Rust it is done at compile time
[20:46:28] <bjz> bstrie: you are thinking of generics like C++ templates
[20:46:36] <Eridius> bstrie: why do you expect the error to be thrown when you say foo<int, ~str>()? And not when foo<T,U>() is compiled?
[20:46:39] <bstrie> bjz: if I replace "T" with "uint" and "U" with "uint" then it does make sense
[20:46:42] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:46:43] <bjz> bstrie: https://gist.github.com/bjz/9220415
[20:46:59] <Eridius> bstrie: Rust generics are not a token substitution system. The generic function is compiled all by itself, without even looking at who uses it
[20:47:00] <NiccosSystem> why use two generics if they're going to be the same type, that makes no sense
[20:47:01] *** Quits: rylev (rylev@moz-4B626C18.client.dyn.strong-in106.as13926.net) (Ping timeout)
[20:47:12] <bjz> bstrie: in Rust, the types are checked up front, not during expansion
[20:47:35] <bjz> bstrie: generics are not duck typed, like in C++
[20:47:40] <Eridius> bstrie: if you're trying to create some generic interface to mapping, you could do `trait Mapper<T,U> { fn map(x: T) -> U; }` and then instantiate it for concrete types
[20:47:44] <bstrie> I don't see how this is any different from saying `fn foo<T: Bar>(x: T)` and then later on trying to call foo with a type that doesn't implement Bar
[20:47:50] <Eridius> e.g. `impl Mapper<uint, uint> { fn map(x: uint) -> uint { x } }`
[20:47:54] *** Joins: krdln (krdln@moz-C271714F.dynamic.chello.pl)
[20:48:02] <Eridius> bstrie: it's precisely because of the Bar bound
[20:48:10] <bjz> bstrie: try to read through my gist - I've tried to work through the semantics
[20:48:20] <Eridius> bstrie: the compilation of your foo<T: Bar> can assume T conforms to Bar because you explicitly declared that
[20:48:35] *** Quits: plaindocs (Mibbit@moz-4B6D6711.pool.digikabel.hu) (Quit: http://www.mibbit.com ajax IRC Client)
[20:48:52] *** Quits: elfenlaid (elfenlaid@D6EA0C43.44CB42CD.698B4E08.IP) (Ping timeout)
[20:49:10] <bstrie> bjz: reading
[20:49:23] <bjz> bstrie: when you declare some type parameters, then the types *must* check for all possible types that you can put into those parameters.
[20:49:54] <bjz> bstrie: it won't accept a subset of them, it must prove that it works for them all
[20:50:05] <bstrie> bjz: that explanation doesn't make sense to me, because the set of possible types is infinite
[20:50:10] *** Joins: elfenlaid (elfenlaid@AB8239F8.85358C6E.698B4E08.IP)
[20:50:17] <bjz> bstrie: it's an inductive definition
[20:51:02] <SiegeLord> The Rust way leads to better error messages (you don't get a failure deep inside your generic function) and you don't need to (as a library writer) explicitly test that there is a set of types that can satisfy the function
[20:51:07] *** Quits: fabiand (fabiand@moz-C4B1E1E7.adsl.alicedsl.de) (Quit: Verlassend)
[20:51:20] <bjz> bstrie: just like you don't have to check that every natural number has a successor to know that there are infinitely many of them
[20:51:27] <SiegeLord> In C++ you can write templates that can never compile if instatiated
[20:51:34] <SiegeLord> Somewhat of a pain
[20:52:10] <bvssvni> well you can write code in Rust don't compile if used, by some phantom type hack
[20:52:17] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:52:27] <bvssvni> *that
[20:52:32] <SiegeLord> Still a nicer error :P
[20:52:32] *** Parts: krdln (krdln@moz-C271714F.dynamic.chello.pl) ()
[20:52:39] <bvssvni> yeah
[20:52:42] <SiegeLord> Unless it's a bug, heh
[20:52:49] <bjz> bstrie: you can think of the type checker as providing an inductive proof that your types work in all possible combinations (I probably messed some of that wording but whatever)
[20:52:58] <SiegeLord> Then it's a bit of a headscratcher... but the theory is sound
[20:53:22] <bjz> bstrie: the really useful thing is when you start *constraining* the type parameters with traits
[20:53:41] <bjz> bstrie: that way you can carve out sections of 'all possibe types'
[20:53:51] <Eridius> bstrie: generic functions cannot assume anything about their type parameter that is not explicitly declared with a bound. This is actually really powerful
[20:54:08] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:54:08] <Eridius> it means that a function `foo<T>(x: T) -> T` _must_ be equivalent to the old util::id()
[20:54:13] <Eridius> in that it returns its input unmodified
[20:54:34] <Eridius> (cast::transmute actually throws a wrench in this, but if we ignore that, then this statement is true)
[20:54:37] *** aperos is now known as pj
[20:54:53] *** Quits: japaric_ (japaric@7B88D349.60305011.BFC118EE.IP) (Ping timeout)
[20:55:09] <bvssvni> also, cast::transmute is NOT what a dynamic type language does
[20:55:38] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:55:53] <Eridius> yeah, cast::transmute is very special. I only mention it because it is an oracle that is defined for all type parameter pairs <T,U> but dynamically throws a compilation error if it's instantiated with a pair that has different sizes
[20:55:53] <bjz> bstrie: you might actually find C++ templates more intuative, shockingly enough. but coming from a dynamic language - C++ templates are duck typed. as in, you only get errors deep in the expansions. Rust gives you the errors up front. That can reduce the expressiveness of or generics compared to C++, but it makes reasoning about your types much easier
[20:56:06] *** Joins: anomie (anomie@moz-3213C615.wavecable.com)
[20:56:10] <bstrie> bjz Eridius: thanks for the explanations. I'm still pissed off that it doesn't conform to my expectations though :P
[20:56:20] <anomie> Does building master fail for anyone else right now?
[20:56:23] <Eridius> bstrie: give it time, you'll come to appreciate it :)
[20:56:26] <bjz> bstrie: no worries - just a learning curve is all
[20:56:50] <bjz> bstrie: there are tradeoffs to on both sides
[20:56:55] <NiccosSystem> thanks bjz, gist was a nice read
[20:57:03] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Input/output error)
[20:57:04] <bjz> NiccosSystem: hope it helped
[20:57:15] *** Joins: japaric_ (japaric@512780FB.24F5F38.A936879B.IP)
[20:57:19] <bjz> NiccosSystem: have you got experience with templates?
[20:57:21] <bstrie> how do we go from Vec to ~[] nowadays
[20:57:21] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Ping timeout)
[20:57:35] *** Quits: ksf_ (ksf@moz-5BA59D6F.adsl.hansenet.de) (Quit: Leaving)
[20:57:41] <Eridius> bstrie: right now? I think it's just v.move_iter().collect()
[20:57:42] <NiccosSystem> I made it partway into a C++ book before I got a little bored.. I should force myself through it sometime
[20:57:51] <bvssvni> bjz: today I wrote a complete tutorial for building glfw-rs on OSX
[20:57:53] *** Quits: olegon (olegon@983906B1.65275AB6.D093A5AA.IP) (Ping timeout)
[20:57:54] <bvssvni> bjz: https://github.com/bvssvni/rust-empty/issues/48
[20:57:57] <NiccosSystem> Rust's generic types make more sense to me though, coming from Java
[20:58:12] <Eridius> Rust's generic types make a lot of sense to me after I learned Haskell
[20:58:21] <Eridius> C++'s always seemed weird to me
[20:58:30] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[20:58:58] <bvssvni> Rust's generic types is similar, but not equivalent to C#
[20:59:04] <bjz> Eridius: indeed. thinking of C++ template expansion as a 'purely functional, duck typed language' helped a ton for me
[20:59:05] *** Quits: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP) (Quit: Leaving.)
[20:59:08] <NiccosSystem> give me a sec here, internet is going off in a minute
[20:59:26] <SiegeLord> I disliked having my library code in D (which has a similar instantiation strategy to C++) compile just fine until I tried to instantiate it
[20:59:36] <Eridius> bjz: yeah, though it seems odd to think about duck typing in C++ at all
[20:59:43] * Eridius idles to get back to wokr
[20:59:45] <Eridius> *work
[20:59:47] *** Joins: olegon (olegon@B3AC9D16.A3B4CA34.EBCD9D32.IP)
[20:59:50] <bjz> Eridius: yeah - only at compile time though
[20:59:50] *** Joins: NiccosSystem` (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[20:59:53] <SiegeLord> I had to write tests just to make sure I didn't make an error somewhere that isn't detected at instantiation time :P
[21:00:05] <bjz> Eridius: the type errors are the stack traces
[21:00:18] <bjz> Eridius: it is actually core to C++
[21:00:20] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:00:31] <bjz> Eridius: the dynamic nature of templates
[21:00:42] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:00:43] <Eridius> bjz: yeah, it's just still kind of funny
[21:00:50] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[21:00:57] <bjz> NiccosSystem: Rust's genrrics are far more efficient than Java's
[21:00:57] <Eridius> also, reading C++ template "stack traces" are a PITA
[21:01:09] <bjz> Eridius: indeed - concepts!
[21:01:21] <bjz> can't come soon enough
[21:01:28] <strcat> they aren't the same concept as java's generics
[21:02:00] <bjz> NiccosSystem`: to use Java's generics you need you types to be boxed 
[21:02:28] <NiccosSystem`> Ah yeah, didn't think of that
[21:02:45] <bjz> NiccosSystem`: no need for that in Rust. Plus everything is 'monomorphised'
[21:02:50] <NiccosSystem`> That's Java for you though :P
[21:03:11] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[21:03:31] <bjz> NiccosSystem`: which means that at compile time it generates a different function definition for each type combination
[21:03:57] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:03:57] <bjz> NiccosSystem`: which can lead to code bloat, but is really good for fast code
[21:04:03] <NiccosSystem`> yeah I reckon
[21:04:24] <bjz> bvssvni: nice!
[21:04:46] <bjz> bvssvni: could you make the bullet points heading 3s instead?
[21:04:49] *** Joins: Nekit1234007_ (Nekit12340@E757D5FA.7796E3F4.4707F662.IP)
[21:05:15] <bjz> bvssvni: might make it easier to understand
[21:05:18] <bvssvni> bjz: how do I do that in comments?
[21:05:22] *** Quits: Nekit1234007 (Nekit12340@D5978FA3.A1E24777.4707F662.IP) (Ping timeout)
[21:05:26] <bjz> ### Heading
[21:05:28] <bvssvni> bjz: I tried #, but it didn't work
[21:05:40] <bjz> eh, it doesn't work?
[21:05:42] *** pmoore is now known as pmoore|away
[21:05:42] <bjz> weird
[21:05:57] <bjz> you could try just doing *heading*
[21:06:08] <bvssvni> bjz: ah, ### works!
[21:06:31] <comex> hmm, I think there should be a method like &'a mut Rc<T> -> Option<&'a mut T>, which works if there is only one reference
[21:06:33] *** Joins: johnwatson (johnwatson@moz-D7EA0A26.hsd1.ca.comcast.net)
[21:06:38] <comex> for optimization purposes
[21:06:40] <comex> thoughts?
[21:06:53] <bvssvni> bjz: updated
[21:07:36] <bvssvni> bjz: I figured out by adding issues tagged as 'Information' they become searchable from the repo search bar
[21:07:40] *** Quits: exoticorn (exoticorn@moz-9E985E10.adsl.alicedsl.de) (Client exited)
[21:07:41] <bjz> bvssvni: - Building glfw-rs
[21:08:25] <bvssvni> bjz: fixed
[21:08:41] *** Joins: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP)
[21:09:35] <bvssvni> bjz: Github does not allow searching in the wiki :(
[21:10:35] <bjz> bvssvni: can't you just say, "on osx run `brew install cmake pkg-config` or `sudo port install cmake pkg-config`"
[21:10:51] <bjz> bvssvni: word cut down a ton of the song and dance about it
[21:11:09] <bvssvni> bjz: I actually did it without brew or port :)
[21:11:12] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Quit: Leaving...)
[21:11:39] <bjz> bvssvni: you could also suggest getting glfw from brew
[21:12:09] <bvssvni> bjz: yeah, and I should write how to get brew and port too
[21:12:17] <bjz> bvssvni: `brew install glfw3` is all you need
[21:12:25] <bjz> dunno about macports
[21:12:40] *** Quits: elfenlaid (elfenlaid@AB8239F8.85358C6E.698B4E08.IP) (Ping timeout)
[21:12:42] <bvssvni> bjz: does 'brew install glfw3' come with shared libraries?
[21:12:53] *** Joins: eibwen (kvirc@moz-CB454DA4.dip0.t-ipconnect.de)
[21:13:04] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[21:13:05] *** Joins: elfenlaid (elfenlaid@5F017C0.5B10BC15.6648BB0F.IP)
[21:15:31] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[21:16:50] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[21:18:57] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[21:19:55] *** Quits: Savago (Savago@504D6CF1.5315C0D2.4C2245EF.IP) (Quit: Savago)
[21:20:42] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[21:20:57] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[21:22:06] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[21:22:21] *** Quits: fazal (fazal@10205674.DD69F2BB.E8916D75.IP) (Ping timeout)
[21:22:44] *** Joins: fazal (fazal@10205674.DD69F2BB.E8916D75.IP)
[21:23:53] *** Quits: japaric_ (japaric@512780FB.24F5F38.A936879B.IP) (Ping timeout)
[21:24:00] <bjz> bvssvni: yes, by default
[21:24:17] <bvssvni> bjz: nice
[21:24:29] *** Joins: mib_mh0r3d (Mibbit@moz-F69B8202.hsi13.kabel-badenwuerttemberg.de)
[21:24:37] *** Quits: mib_mh0r3d (Mibbit@moz-F69B8202.hsi13.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[21:24:38] <bstrie> bjz: so let's say that I have https://gist.github.com/bstrie/10059739 , but instead of ~[T] I want to be able to use it on anything that implements Iterator. how do I do that? do we not have a trait for `move_iter`?
[21:24:49] *** Quits: derek_c (derek@moz-A2DDCEA3.cit.cornell.edu) (Ping timeout)
[21:25:09] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[21:25:29] *** Quits: fazal (fazal@10205674.DD69F2BB.E8916D75.IP) (Ping timeout)
[21:26:09] *** Joins: japaric (japaric@7A559B69.743D7231.BFC118EE.IP)
[21:26:43] <bstrie> bjz: assuming, of course, that we live in a world where iterators don't already implement map
[21:26:45] <bjz> bstrie: move iterator would be `Iterator<T>`
[21:27:22] <bstrie> bjz: I'm looking at the Iterator trait in iter.rs and there's no move_iter in here
[21:28:01] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[21:28:14] *** Joins: fazal (fazal@10205674.DD69F2BB.E8916D75.IP)
[21:28:22] *** Quits: Ms2ger (Ms2ger@moz-F38ED2FA.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:28:30] <bjz> you would have to do map<T, TT: Iterator<T>, U, UU: FromIterator<U>>(fun: |T|->U, coll: TT) -> UU { ... }
[21:28:33] <bjz> I think
[21:28:50] <bjz> horrendous type signature I know
[21:28:52] <bjz> :)
[21:29:30] <bstrie> bjz: ah, that's what I had, but I had Iterator instead of FromIterator
[21:30:42] <bstrie> let me try
[21:30:57] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[21:30:58] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[21:31:07] <bjz> Or I think you could have: map<T, TT: Iterator<T>, U, UU: Iterator<U>>(fun: |T|->U, coll: TT) -> UU { ... }
[21:31:15] <bjz> then remove the collect at the end
[21:31:22] <bjz> that would maintain the laziness
[21:31:31] <bjz> I think
[21:32:06] <bstrie> bjz: error: type `TT` does not implement any method in scope named `move_iter`
[21:32:07] <bstrie> :(
[21:32:16] <bjz> so: let ys = map(f, xs.mov_iter()).collect();
[21:32:19] <bstrie> I have the traits imported
[21:32:26] *** Quits: osa1 (omer@moz-3056938F.swissinet.com) (Ping timeout)
[21:32:32] <bjz> you need to crate an iterator first
[21:32:55] *** Joins: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi)
[21:33:13] <bjz> might be more clear with: map<T, IT: Iterator<T>, U, IU: FromIterator<U>>(fun: |T|->U, iter: IT) -> IU { ... }
[21:33:13] *** Quits: olegon (olegon@B3AC9D16.A3B4CA34.EBCD9D32.IP) (Client exited)
[21:33:21] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[21:33:32] <bstrie> bjz: not sure what you mean by "create an iterator first"
[21:33:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[21:33:38] *** Quits: koonchun (matti@moz-EE8B4D5A.bb.dnainternet.fi) (Quit: leaving)
[21:34:02] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:34:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:34:15] <bjz> well, if you want it to be generic over iterable things, then you need you get an iterator
[21:34:54] <bjz> an iterator is normally a struct that has a reference to a collection and keeps track of the current state of the iteration
[21:35:18] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Ping timeout)
[21:35:27] <bjz> you normally get an iterator by calling a function like .iter() or .move_it()
[21:35:31] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[21:35:37] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[21:35:47] <bjz> vectors themselves don't implement Iterator
[21:35:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:35:58] <bjz> hence: let ys = map(f, xs.mov_iter()).collect();
[21:36:14] <bjz> see I'm passing in an iterator of xs
[21:36:26] <bjz> and collecting it at the end
[21:36:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:37:05] <bjz> rust might require a type annotation though: let ys: Vec<U> = map(f, xs.mov_iter()).collect(); or something
[21:37:12] <bstrie> bjz: but, vectors have to implement move_iter, I was just calling this function with coll.move_iter() and coll of type ~[uint]
[21:37:12] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Connection reset by peer)
[21:37:14] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: QUIT)
[21:37:34] <bjz> well, you said you wanted it generic over itrable things
[21:37:54] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:37:58] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[21:38:04] <bjz> you need to take an iterator for that
[21:38:51] <bstrie> bjz: you mean at the call site? `map(|x| x+2, ~[1u,2,3].iter());` gives the same error
[21:39:35] <bstrie> bjz: I haven't slept in three weeks. just point to the line number on https://gist.github.com/bstrie/10062436 and I will randomly permute it until it works
[21:40:44] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[21:40:44] *** Joins: derek_c (derek@moz-A457C6FA.cit.cornell.edu)
[21:41:47] <Tobba> at last I managed to squash that commit
[21:41:57] <Tobba> I somehow accidently only squashed a single commit and broke everything
[21:42:05] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[21:42:52] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:43:00] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:43:04] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:43:38] *** Joins: leowoe (Leo@moz-42402C93.dip0.t-ipconnect.de)
[21:43:43] *** Joins: q66 (q66@moz-8E42852F.range81-132.btcentralplus.com)
[21:48:19] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:49:23] *** Joins: skade (skade@moz-6444221B.dip0.t-ipconnect.de)
[21:49:58] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[21:50:48] *** Quits: derek_c (derek@moz-A457C6FA.cit.cornell.edu) (Ping timeout)
[21:51:11] *** Quits: skade (skade@moz-6444221B.dip0.t-ipconnect.de) (Ping timeout)
[21:52:17] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[21:52:20] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[21:53:08] <pj> how would you call libc in a macro, so correcting a line such as this "macro_rules!...unsafe { ::std::libc::exit($exitcode as ::std::libc::c_int); }..." I was already told yesterday that libc has been moved to its own crate but I'm not actually sure how to fix it
[21:53:18] *** Quits: pupoque (Adium@297D6F99.EF706C30.C0C64AB3.IP) (Quit: Leaving.)
[21:53:30] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[21:53:48] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[21:54:07] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[21:55:27] <o11c> pj: add 'crate libc;' and replace all ::std::libc:: with ::libc::
[21:55:39] <carllerche> does ~[T].into_vec copy?
[21:56:48] <o11c> carllerche: IAUI, the point of .into_* is to never copy
[21:57:08] <carllerche> ah, good to know
[21:57:15] <bjz> bstrie: https://gist.github.com/bjz/10065372
[21:57:19] <bjz> bstrie: SLEEP
[21:58:51] <carllerche> o11c: i am getting type `~[u8]` does not implement any method in scope named `into_vec`, but isn't ~[u8] an OwnedSlice (http://static.rust-lang.org/doc/master/syntax/owned_slice/struct.OwnedSlice.html#method.into_vec)
[21:58:52] <sfackler> carllerche: it'll memcpy, but it won't clone the values
[21:59:06] <bjz> bstrie: did some cleanups - refresh?
[21:59:12] <carllerche> hmm… i might have a multi MB ~[u8]...
[21:59:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:59:33] <carllerche> is there an "easy" migration path to convert a ~[u8] -> Vec<u8> w/o copying?
[21:59:46] <sfackler> oh, wait, nevermind
[21:59:52] <sfackler> into_vec is cheap
[21:59:55] * araujo gets some callbacks working for the EFL bindings .. (\o/ now can at least close the window)
[22:00:05] *** Quits: ndt (ndt@FEACE86F.DD5772EA.88820282.IP) (Ping timeout)
[22:00:06] <sfackler> http://static.rust-lang.org/doc/master/src/syntax/home/rustbuild/src/rust-buildbot/slave/nightly-linux/build/src/libsyntax/owned_slice.rs.html#58
[22:00:29] <jdm> araujo++
[22:00:29] *** Quits: NiccosSystem` (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[22:00:30] <carllerche> sfackler: is libsyntax something that has to be used, or is it available by default?
[22:00:36] *** Joins: Etzos (quassel@moz-5931901A.public.southern.edu)
[22:00:36] <bjz> bstrie: also net that .iter() works just as fine
[22:00:41] <bjz> *note
[22:00:50] <sfackler> carllerche: used?
[22:00:53] <araujo> jdm: slowly but here we go! :D /me needs more caffeine, brb
[22:01:01] <sfackler> libstd is the only crate that's imported by default
[22:01:06] <carllerche> use syntax::owned_slice::OwnedSlice;
[22:01:18] <sfackler> oh, that's inside of libsyntax
[22:01:27] <sfackler> you probably don't want to link against libstd
[22:01:29] <sfackler> it's enormous
[22:01:37] <brson> araujo: excited about your efl bindings. link?
[22:02:01] <strcat> hm, I thought someone else was also looking into doing safe efl bindings
[22:02:03] <sfackler> I'd think that that method should really be implemented in libstd's OwnedVector
[22:02:12] <araujo> brson: not yet, maybe soon, still working around many details before publishing /me will upload it in github and send a mail maybe to the list
[22:02:19] <araujo> :)
[22:02:44] <araujo> actually it is very early stage, just few functions working
[22:03:51] <strcat> I think it will be a challenge to make a safe API for EFL
[22:04:10] <strcat> although less of a hassle than gtk/qt
[22:04:20] <araujo> strcat: I am just starting here (mainly learning along the way)
[22:04:37] <pj> o11c: I'm getting an "error: expected item but found `crate`" This is where I've been stuck, how to import it correctly
[22:04:57] <araujo> strcat: just can get a canvas at the moment, but well... hehe
[22:05:25] <sfackler> pj: did you mean to use "extern crate foo" instead of "crate foo"?
[22:06:40] <pj> sfackler: then I just get the unresolved import again ..."error: unresolved import. maybe a missing `extern crate libc`?...unsafe { ::libc::exit($exitcode as ::libc::c_int); }
[22:07:09] *** Quits: Zr40 (zr40@moz-CCFEAB92.adsl.xs4all.nl) (Quit: leaving)
[22:07:30] <sfackler> the import should happen at your crate root if you're using it like ::libc::exit
[22:08:13] <pj> got it, i'll check that out
[22:08:30] <araujo> also wanted to ask around here, what is a good convention for function names, in this case, bindings, to wrap safely the C functions?.. I am using camel case, though I have been thinking to use some prefix_ to avoid such a ugliness .. suggestions? :)
[22:09:41] <pj> sfackler: that was my problem... thanks so much!
[22:10:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:11:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:13:16] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[22:15:54] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[22:16:03] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[22:16:12] *** Quits: mye (mye@moz-19CF9299.swh.uni-giessen.de) (Ping timeout)
[22:16:14] *** Joins: mye (mye@moz-4064D8D2.vpn.ipredator.se)
[22:16:33] *** zz_kimundi is now known as kimundi
[22:17:52] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[22:18:08] *** Joins: joebobjoe (mckin_000@1EEF8F2.50A2C647.5A42B74E.IP)
[22:18:53] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:19:05] <joebobjoe> How do I compile IR code generated by the Rust compiler?
[22:19:10] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[22:23:26] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[22:23:39] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[22:24:38] <strcat> joebobjoe: clang or llc, but why are you generating IR?
[22:24:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:25:18] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[22:25:39] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[22:27:26] *** Quits: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP) (Ping timeout)
[22:27:26] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[22:27:45] <joebobjoe> strcat: I'm just trying to learn how the compiling process works
[22:27:53] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: ...take irc away, what are you? genius, billionaire, playboy, philanthropist)
[22:28:26] <strcat> joebobjoe: the usual compilation process doesn't generate any of the textual IR
[22:28:49] <strcat> it builds the in-memory IR with LLVM's API, and LLVM outputs machine code
[22:28:57] *** Quits: goffrie (goffrie@moz-786E7F9C.dsl.ncf.ca) (Ping timeout)
[22:29:17] <joebobjoe> strcat: Okay. I'll keep playing around. I'm trying to use lld or link.exe on Windows, too :D
[22:29:35] <joebobjoe> Doesn't seem like LLVM comes with llc on Windows
[22:30:00] *** Joins: Gamecubic (cubic@moz-80241A3A.mc.videotron.ca)
[22:30:36] <strcat> LLVM does
[22:30:44] <strcat> rust won't install LLVM as a whole
[22:31:30] <strcat> all it comes with is a library contained some rust-specific code with the minimum set of LLVM libs statically linked inside
[22:31:35] <strcat> containing*
[22:31:50] <joebobjoe> strcat: No I installed LLVM on Windows, the latest build
[22:32:09] <strcat> LLVM certainly comes with llc, etc.
[22:32:11] *** Joins: cschneid_ (cschneid@moz-CA025D57.ip.mcleodusa.net)
[22:32:19] *** Joins: goffrie (goffrie@moz-786E7F9C.dsl.ncf.ca)
[22:32:32] *** Quits: elfenlaid (elfenlaid@5F017C0.5B10BC15.6648BB0F.IP) (Quit: elfenlaid)
[22:32:39] <joebobjoe> strcat: Would it be in the bin folder?
[22:32:44] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[22:32:58] <strcat> yes
[22:33:56] *** Quits: cschneid_ (cschneid@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[22:34:21] <joebobjoe> strcat: Well it's not http://imgur.com/tYIxRGF
[22:34:26] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[22:34:38] <benh> how does rust pronounce #? hash?
[22:34:52] <strcat> joebobjoe: not sure where you got that LLVM
[22:35:00] <strcat> not a normal full LLVM build
[22:35:09] <strcat> with llc, llvm-link, and all the other utilities
[22:35:09] <joebobjoe> strcat: http://llvm.org/builds/
[22:35:42] <strcat> looks like it's a build of clang and the tools clang needs
[22:35:47] <strcat> not a usable independent LLVM
[22:36:06] <joebobjoe> strcat: So I still need mingw?
[22:36:24] <mcpherrin> benh: octothorpe!  (In reality, I basically have never spoken rust syntax, so I don't have a verbalization for it)
[22:36:29] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:36:39] <strcat> joebobjoe: well I'm not sure what you're getting at with that question
[22:36:45] <strcat> yes, rust needs mingw or mingw-w64
[22:36:59] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:37:04] <strcat> no, you don't need mingw to use LLVM on windows - you don't have to use that build (which is just for using clang)
[22:37:08] <joebobjoe> strcat: Then what is this about https://github.com/mozilla/rust/issues/9367
[22:37:35] <strcat> most of it is complete
[22:37:49] <strcat> the remaining bit was using lld instead of the mingw port of the binutils ld
[22:37:57] <strcat> mingw-w64 would still be required
[22:38:11] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:38:25] <Ralith> is lld usable yet?
[22:38:31] <Tobba> turns out making rustc PRs is a real pain in the ass
[22:38:34] <strcat> usable but only for static linking afaik
[22:38:53] <Tobba> it would be mostly fine if my editor didnt convert spaces into tabs (i.e into sensible indentation)
[22:40:07] <joebobjoe> strcat: But when LLVM releases its entire build chain on Windows,MinGW will not longer be needed for Rust, right?
[22:40:16] <strcat> joebobjoe: will still be needed
[22:40:37] <strcat> microsoft doesn't provide a c99/c11 libc
[22:40:40] <strcat> and rust expects it
[22:40:45] <strcat> at least bits of it
[22:40:52] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Quit: WeeChat 0.4.3)
[22:40:55] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[22:40:56] <joebobjoe> strcat: LLVM doesn't provide one?
[22:41:01] <strcat> no, and it won't
[22:41:01] <carllerche> Is there a way to guarantee that structs like Vec are moved vs. copied and generate a compiler error if a move is not possible?
[22:41:15] <strcat> carllerche: rust never does implicit heap allocations or refcounts
[22:41:21] <strcat> passing/assigning/returning is always a memcpy
[22:41:24] <joebobjoe> strcat: How do I learn about all this lower-level stuff. I am clueless.
[22:41:31] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:41:31] *** ChanServ sets mode: +ao dherman dherman
[22:41:44] <strcat> joebobjoe: dunno, but you're probably not going to have fun learning it on windows :P
[22:41:59] <joebobjoe> strcat: I thought MS did provide a libc
[22:43:02] <strcat> yes, they provide an almost c89 libc
[22:43:10] <strcat> rust expects c99 support to be there
[22:43:25] <joebobjoe> strcat: That's weird that they don't have the time to provide a c99 or c11 lib
[22:43:36] <strcat> they haven't even implemented C++11
[22:44:11] *** Quits: alisdair (textual@moz-7E6FA9C4.bchsia.telus.net) (Ping timeout)
[22:44:40] <joebobjoe> Hm. I remember their implementation progress being comparable to gcc's a year ago
[22:44:44] <strcat> https://wiki.apache.org/stdcxx/C++0xCompilerSupport look at all the missing features there
[22:44:47] <strcat> joebobjoe: no, it was never comparable
[22:44:56] <strcat> gcc/clang are complete C++11 implementations now too
[22:45:25] <joebobjoe> strcat: But they've had since 1999 to provide a c99 libc
[22:45:40] <joebobjoe> Windows will probably die
[22:45:47] <strcat> they didn't care about c99
[22:45:57] <strcat> they wanted people to use C++, and then they wanted people to use C# instead of C++
[22:46:08] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Ping timeout)
[22:46:25] <joebobjoe> strcat: Well at least they helped out the libgit2 project D
[22:46:36] <joebobjoe> I don't understand why they don't want to help bring LLVM to Windows
[22:46:42] <joebobjoe> Since it seems the hot thing these days
[22:46:56] <strcat> C++11 requires a fair bit of C99 so they will implement some eventually, but not enough of it
[22:47:06] <strcat> the big missing piece of the c99 math support
[22:47:22] <strcat> we're probably going to want to just ship our own math library
[22:47:29] <joebobjoe> strcat: Does the Intel compiler come with a c99 lib?
[22:47:53] *** Joins: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com)
[22:48:06] <strcat> dunno
[22:48:23] *** Joins: ndt (ndt@A98DCFD7.F8D674A5.88820282.IP)
[22:48:28] <johnwatson> ohhhh yeah, intel makes a compiler too... :)
[22:48:49] <strcat> they also contribute to gcc and llvm
[22:49:06] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Ping timeout)
[22:49:13] <joebobjoe> strcat: Oh...
[22:49:22] <joebobjoe> So it's just the c99/11 lib
[22:49:23] <johnwatson> it makes sense. it's within their interests.
[22:49:24] <joebobjoe> They don't do
[22:49:37] *** Quits: ndt (ndt@A98DCFD7.F8D674A5.88820282.IP) (Quit: WeeChat 0.4.3)
[22:49:38] *** Quits: thesnowdog (doug@D34500FC.8E46834.6F17036B.IP) (Connection reset by peer)
[22:49:40] <strcat> joebobjoe: they don't have a c99 compiler either, or a complete C++11 compiler
[22:50:43] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[22:51:10] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[22:51:24] <strcat> all we care about is the library though
[22:51:44] <joebobjoe> http://software.intel.com/en-us/articles/c99-support-in-intel-c-compiler
[22:51:56] <joebobjoe> Bet it's not free
[22:52:49] <joebobjoe> strcat: So clang on Windows is only c89 compatible?
[22:52:54] *** Joins: magg (magg@71D3D0F0.D102AF5D.3D0AE249.IP)
[22:53:06] <magg> hi, just upgraded to .10
[22:53:23] <strcat> joebobjoe: don't know, clang on windows is in a pretty early state
[22:53:37] <strcat> it would support c99 as a *language*
[22:53:40] <strcat> just not the libraries
[22:53:55] <magg> i won’t be able to do this: let v: ~[[int] = std::vec::from_elem(n,val); right?
[22:54:23] <strcat> not sure what you mean
[22:54:31] <sfackler> magg: if you want a ~[int], you'll want so use std::slice::from_elem
[22:54:42] <sfackler> otherwise, you can get a Vec<int> from std::vec::Vec::from_elem
[22:55:21] *** Quits: rootnode (rootnode@moz-34DE55BB.pools.arcor-ip.net) (Ping timeout)
[22:55:26] <benh> is there a clever way to print Vec<T> for debugging purposes that looks similar to {:?} applied to ~[T]?
[22:55:36] <sfackler> {}
[22:55:39] *** Joins: rootnode (rootnode@moz-D7926DB0.pools.arcor-ip.net)
[22:55:48] <strcat> rusti: vec!(1, 2, 3)
[22:55:48] <benh> That doesn't sound nearly as debuggy as {:?}
[22:55:49] <magg> with Vec<int> i need to i use .get(index) to access the value?
[22:55:49] -rusti- [1, 2, 3]
[22:55:57] <strcat> benh: it uses Show, which is sane
[22:56:00] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[22:56:02] <sfackler> magg: currently, yes :(
[22:56:05] <benh> what if the elements don't implement Show?
[22:56:08] <strcat> imo std::repr/std::reflect should be ripped out
[22:56:08] <magg> :(
[22:56:10] <strcat> benh: doesn't work
[22:56:19] <sfackler> index override isn't currently in a place that's powerful enough to work with vec
[22:56:19] <benh> :(
[22:56:22] <strcat> benh: the whole point of {:?} is that it only understands primitives
[22:56:28] <strcat> it does work with vectors, does what it usually does
[22:56:29] <magg> i’ll check out std::slice::from_elem then
[22:56:36] <magg> thanks sfackler
[22:56:40] <strcat> rusti: [vec!(1), vec!(), vec!(1, 2, 3)]
[22:56:42] <sfackler> np
[22:56:44] -rusti- pastebinned 8 lines of output: http://ix.io/by7
[22:56:53] <strcat> rusti: println("{:?}", [vec!(1), vec!(), vec!(1, 2, 3)])
[22:56:54] -rusti- <anon>:11:9: 11:16 error: unresolved name `println`.
[22:56:54] -rusti- <anon>:11         println("{:?}", [vec!(1), vec!(), vec!(1, 2, 3)])
[22:56:54] -rusti-                   ^~~~~~~
[22:56:54] -rusti- error: aborting due to previous error
[22:56:54] -rusti- playpen: application terminated with error code 101
[22:56:59] <strcat> rusti: println!("{:?}", [vec!(1), vec!(), vec!(1, 2, 3)])
[22:57:02] -rusti- pastebinned 2 lines of output: http://ix.io/by8
[22:57:10] <benh> :(
[22:57:30] <strcat> thanks chromium 'This page is in Slovak. Would you like to translate it?'
[22:57:50] <strcat> [Std :: Case :: Case <int> {only 1U, cap: 4u, ptr: (0x1123360 as * mut ())}, std :: Case :: Case <int> {only: 0u, cap: 0u , ptr: (0x0 with * mut ())}, std :: Case :: Case <int> {only: 3U cap: 4u, ptr: (0x1123390 as * mut ())}]
[22:57:53] <strcat> there's the translation
[22:58:00] <benh> :D
[22:58:20] <steveklabnik> lol
[22:59:04] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[22:59:04] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Quit: )
[22:59:20] *** Joins: atomit (textual@moz-C4708075.hsd1.ca.comcast.net)
[22:59:38] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[23:00:02] <carllerche> is grow_set the right way to update an index in a vec or should I use my_vec.as_mut_slice()[idx] = 123
[23:00:06] *** Quits: Matthias247 (Miranda@moz-FBCD6EF1.hsi2.kabelbw.de) (Quit: Matthias247)
[23:00:16] <huon> carllerche: *my_vec.get_mut(idx) = 123
[23:01:23] <carllerche> huon: ah, i did not know that worked :P
[23:01:41] <strcat> they are temporary
[23:01:50] <strcat> before indexing is sanely overloadable
[23:01:58] *** Quits: silotis (quassel@moz-4B8C4631.oc.oc.cox.net) (Client exited)
[23:02:00] *** Joins: silotis (quassel@moz-4B8C4631.oc.oc.cox.net)
[23:02:31] <carllerche> huon: I am getting "error: illegal left-hand side expression"
[23:02:39] <benh> Did you omit the *?
[23:02:41] <carllerche> oh, wait, didn't see the *
[23:02:46] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Connection reset by peer)
[23:03:12] <carllerche> that makes more sense now :P
[23:03:48] *** Quits: joebobjoe (mckin_000@1EEF8F2.50A2C647.5A42B74E.IP) (Ping timeout)
[23:04:01] *** Quits: magg (magg@71D3D0F0.D102AF5D.3D0AE249.IP) (Quit: magg)
[23:04:23] *** Joins: joebobjoe (mckin_000@1EEF8F2.50A2C647.5A42B74E.IP)
[23:05:54] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[23:06:14] <joebobjoe> strcat: Can you explain again why this issue https://github.com/mozilla/rust/issues/9367 will not result in independence from MinGW? The issue makes it look like all that's left is gcc/ld -> lld
[23:06:37] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:07:41] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[23:07:58] <strcat> joebobjoe: because windows doesn't provide a c99 libc
[23:08:11] <strcat> we would also need to ship our own math library
[23:08:29] <strcat> and there's likely a lot of code we'd need to update to use kernel32 or the crippled crt
[23:10:53] <joebobjoe> strcat: What is used now instead of kernel32?
[23:12:03] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[23:12:59] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[23:14:17] *** Quits: bgamari (ben@moz-69156C49.physics.umass.edu) (Ping timeout)
[23:15:19] *** Joins: bgamari (ben@moz-69156C49.physics.umass.edu)
[23:15:43] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:17:11] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:18:07] *** Quits: bgamari (ben@moz-69156C49.physics.umass.edu) (Ping timeout)
[23:18:26] *** Joins: devbug (quassel@moz-8C40558B.bchsia.telus.net)
[23:18:51] *** Quits: fazal (fazal@10205674.DD69F2BB.E8916D75.IP) (Ping timeout)
[23:19:05] *** Joins: fledna (Mibbit@3AF7F96C.2D1119B6.1CD28F1D.IP)
[23:24:07] *** Quits: fledna (Mibbit@3AF7F96C.2D1119B6.1CD28F1D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:24:08] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[23:24:27] *** Joins: andelf (nobody@3AF7F96C.2D1119B6.1CD28F1D.IP)
[23:28:00] *** Joins: bpicolo (Adium@moz-B475EB64.static-ip.telepacific.net)
[23:29:48] *** Quits: nkoep (nik@moz-D21960A0.pool.mediaways.net) (Client exited)
[23:30:31] *** Quits: bpicolo (Adium@moz-B475EB64.static-ip.telepacific.net) (Quit: Leaving.)
[23:31:34] *** Quits: andelf (nobody@3AF7F96C.2D1119B6.1CD28F1D.IP) (Quit: Mango IRC for iOS and OS X, http://mediaware.sk/mango)
[23:33:25] *** Parts: joebobjoe (mckin_000@1EEF8F2.50A2C647.5A42B74E.IP) ()
[23:33:30] *** flaper87 is now known as flaper87|afk
[23:33:46] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:34:37] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140406030203])
[23:35:32] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[23:35:59] *** Joins: bgamari (ben@moz-115D21F6.spfdma.east.verizon.net)
[23:36:32] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:37:09] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:37:35] *** Joins: Jesse_ (jruderman@moz-62518563.mtv2.mozilla.com)
[23:37:41] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Connection reset by peer)
[23:38:05] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[23:38:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:39:50] *** kimundi is now known as zz_kimundi
[23:40:14] *** Quits: twi1 (Adium@moz-3236E26C.cust.vodafonedsl.it) (Quit: Leaving.)
[23:40:24] * ChrisMorgan just heard a complaint about our "variables are immutable by default"—that the name "variable" is no longer true if it's immutable
[23:40:59] <benh> they're called variables, not mutables
[23:41:07] <strcat> variables in math are immutable...
[23:41:23] <strcat> variable means it varies during runtime
[23:41:29] <strcat> not that you can mutate it after you get it
[23:41:30] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:41:40] <strcat> let x = y + 5; // it's variable at runtime
[23:43:19] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:45:52] <doomlord_> immutable default is one of the nice things about rust
[23:45:57] <ChrisMorgan> We get mutable/immutable by the slot it's in, which is delightful to work with. Python, on the other hand, has immutable str so it can be used as a key, tuple which is just an immutable list, frozenset which is an immutable set, and almost had a frozendict two years ago (PEP 416, rejected).
[23:46:15] <doomlord_> (inputs) -> (outputs) .. and mark the rare cases that are mutable
[23:47:29] <strcat> ChrisMorgan: python does all that to prevent mutating something after you put it in a dict though
[23:47:38] *** Joins: doomlord__ (servitor@moz-56F8DA57.range86-148.btcentralplus.com)
[23:47:41] <strcat> otherwise I doubt it would have immutable classes like that
[23:47:48] *** Quits: doomlord__ (servitor@moz-56F8DA57.range86-148.btcentralplus.com) (Client exited)
[23:47:48] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Ping timeout)
[23:47:55] <ChrisMorgan> Indeed, something that our immutability gets us for free ☺
[23:48:17] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[23:48:19] <strcat> ChrisMorgan: we don't prevent mutating Rc<RefCell<T>> after putting it in a hash set/map though
[23:48:19] *** Joins: fazal (fazal@10205674.DD69F2BB.E8916D75.IP)
[23:48:25] <strcat> although that's not a common type in rust
[23:48:40] *** Quits: atomit (textual@moz-C4708075.hsd1.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:48:46] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[23:48:56] <strcat> although Cell/RefCell doesn't implement Hash
[23:49:02] <ChrisMorgan> Similarly, in Python you can mutate the keys of a dictionary as much as you like, if you define __hash__.
[23:51:10] *** Joins: derek_c (derek@moz-A43430DA.cit.cornell.edu)
[23:51:52] <kmc> what should I use for a high-resolution, low overhead time source in Rust
[23:52:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:53:04] <benh> webcam pointed at wall clock
[23:53:12] <benh> they have pretty high resolutions these days
[23:53:23] <strcat> kmc: there isn't a sane one
[23:53:24] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[23:53:27] <strcat> libtime is pretty bad
[23:54:07] <mcpherrin> asm!("rdtsc")
[23:54:10] <mcpherrin> :/
[23:54:25] <kmc> ok
[23:54:31] <strcat> kmc: do you want monotonic or real time though?
[23:54:36] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:54:46] <strcat> if you want monotonic time, there's precise_time_ns in libtime
[23:54:51] <kmc> monotonic I suppose
[23:54:51] *** Joins: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP)
[23:54:53] <strcat> but there's no precise real time clock in there
[23:55:23] *** Joins: celm (celm@28EA790F.C8D2EDAC.4E808C72.IP)
[23:55:30] <kmc> oh, I see that's what Servo's profiler uses
[23:55:31] <sfackler> precise_time_ns/precice_time_s seems to work decently well
[23:55:33] <mcpherrin> not that rdtsc is easier to use either
[23:55:53] <kmc> suits me then
[23:55:55] <strcat> kmc: ah nvm it looks like it's only not precise on windows and os x
[23:56:04] <strcat> on linux and freebsd it does use a precise clock
[23:56:08] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[23:57:01] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: brb)
[23:57:07] * alan_andrade learns a ton by reading conversations here
[23:57:07] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[23:57:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[23:57:29] *** Quits: fazal (fazal@10205674.DD69F2BB.E8916D75.IP) (Ping timeout)
[23:58:14] *** Quits: edk (edk@mark2.io) (Quit: edk)
[23:59:00] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:59:02] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:59:18] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:59:35] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Ping timeout)
[23:59:43] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
