[00:00:35] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[00:01:57] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:03:08] <brson> acrichto: can .pkg be installed via command line?
[00:04:21] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:05:38] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[00:06:09] <acrichto> brson: probably, I'd have to google to figure out how though
[00:07:31] <flaper87> erickt: https://github.com/mozilla/rust/pull/13188 there were TONS of unwrap_
[00:07:49] <flaper87> acrichto: ^ that has the TotalEq stage0 thing too
[00:08:01] <flaper87> IIRC you needed that
[00:09:01] <acrichto> cool
[00:09:10] <brson> looks like `sudo installer -pkg rust-nightly-x86_64-apple-darwin.pkg -target /`
[00:09:40] <flaper87> acrichto: erickt (I would wait on travis if I were you)
[00:10:18] <acrichto> brson: I would believe that
[00:10:24] <acrichto> flaper87: lol -5k lines
[00:10:37] <flaper87> acrichto: yeah :P
[00:10:48] <flaper87> Thanks to `unwrap_`
[00:11:18] <acrichto> flaper87: you accidentally changed the previous snapshot in src/snapshots.txt
[00:11:29] <acrichto> just the hash
[00:12:01] <flaper87> oooooooooooopssss
[00:12:06] <flaper87> lemme fix that right away
[00:13:08] <flaper87> acrichto: done and pushed
[00:14:00] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[00:14:57] <acrichto> if it doesn't pass, feel free to tell anyone to r=me
[00:15:39] <flaper87> acrichto: ok cool! Thanks :)
[00:16:36] * flaper87 is reading the 0.10 release notes draft.
[00:16:43] <flaper87> damn, so many things happened
[00:16:49] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[00:16:49] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/UU1V1w
[00:16:49] <ghrust> 13rust/06auto 14c6bbb95 15Alex Crichton: syntax: Accept meta matchers in macros...
[00:16:49] <ghrust> 13rust/06auto 14451e8c1 15Brian Anderson: Convert most code to new inner attribute syntax....
[00:16:50] <ghrust> 13rust/06auto 14ff733c7 15bors: auto merge of #13162 : alexcrichton/rust/attr-syntax, r=brson...
[00:16:52] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[00:19:21] <flaper87> have a great w/e everyone! 
[00:19:52] <brson> flaper87: o/
[00:19:53] *** flaper87 is now known as flaper87|afk
[00:24:51] <larsberg> acrichto: with your recent changes (~4 days ago), the crate maps are now gone entirely?
[00:25:54] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[00:26:34] <acrichto> larsberg: they are indeed
[00:26:42] <acrichto> purged from the runtime
[00:27:03] <larsberg> so logging will now work without them and there's nothing I need to horribly shim to patch up dynamic symbols on android? :-)
[00:27:27] <acrichto> yes :)
[00:28:31] <larsberg> fantastic - that will be nice! one less set of dlopen/dlsyms for servo startup...
[00:28:44] <brson> acrichto++
[00:29:02] <brson> new install instrs: http://brson.github.io/rust-www/install.html
[00:31:31] <tedh> hi brson, small nit on install target: make; sudo make install leaves config.tmp and tmp/dist owned by root in the build dir
[00:35:01] <brson> tedh: i've seen that a few times too, yeah
[00:35:10] <brson> though not always
[00:35:41] <brson> tedh: can you file a bug? i'll try to suss it out over the wkend
[00:36:32] <tedh> sure
[00:36:53] <brson> thanks
[00:37:16] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (No route to host)
[00:37:20] <brson> also thanks for testing
[00:37:36] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[00:38:15] <SiegeLord> I should try it and see if it works with my bizarre mingw installation >_<
[00:38:24] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[00:40:50] <tedh>  https://github.com/mozilla/rust/issues/13190
[00:41:30] <tedh> that was on a cleaned build dir, let me try it on a fresh one as well
[00:50:13] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[00:50:34] <bjz> huon: why does the `pat` thingy in macros not parse `_`?
[00:50:49] <cgaebel> BAM, it's a new RFC! https://github.com/rust-lang/rfcs/pull/23
[00:50:49] <bjz> huon: I thought `_` was a valid pattern?
[00:51:57] <bjz> huon:
[00:51:59] <bjz> glfw macros>:3:39: 3:40 error: unexpected token: `_`
[00:51:59] <bjz> <glfw macros>:3         fail_on_glfw_error!($errors, (_, _, description) => "{}", description)
[00:52:24] <bjz> huon: ($errors:expr, $err_pat:pat => $fmt:expr, $($arg:tt)*) => ({
[00:53:50] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[01:02:09] <brson> SiegeLord: yeah, `make install` at least is *supposed* to work on mingw
[01:02:29] <SiegeLord> Where does it install to?
[01:02:33] *** Quits: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP) (Input/output error)
[01:02:55] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[01:04:34] *** Joins: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP)
[01:05:31] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[01:05:47] *** Quits: andrew-__ (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP) (Input/output error)
[01:06:07] *** Joins: andrew-d_w (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP)
[01:09:38] <brson> SiegeLord: /usr/local
[01:09:47] <brson> whatever that maps to
[01:11:28] *** Quits: andrew-d_w (andrew-d_w@F68B2AC.7A62F771.CC0301A2.IP) (Ping timeout)
[01:12:43] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:13:00] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[01:17:51] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[01:17:51] *** ChanServ sets mode: +ao pcwalton pcwalton
[01:19:50] <larsberg> what is the difference between #[link(name = "stdc++")] and #[link_args="-lstdc++"] in practice? I'm finding the former (on android) results in tons of missing symbols and no ELF header pointing at libstdc++.so, whereas the latter does have a entry for it...
[01:21:41] *** Quits: gimpf (gimpf@moz-B34F13A9.adsl.highway.telekom.at) (Quit: Leaving.)
[01:23:07] <acrichto> larsberg: #[link] is understood by the compiler and is propagated upstream, #[link_args] is a deprecated and purely local decision
[01:23:22] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:23:25] <acrichto> #[link_args] also doesn't propagate to other crates
[01:23:54] <acrichto> the problem is that if you have a generic function which calls an FFI function, the code for that is actually instantiated in an upstream crate, so you need to link the upstream crate to the native library as well as the downstream crate
[01:24:02] <acrichto> or maybe I have my ups and downs backwards
[01:24:37] <acrichto> they should be equivalent for most use cases though, and I'm surprised at those errors you're seeing with #[link]
[01:24:41] <larsberg> aha, I think I see. And so normally I should get some sort of warning if I'm not doing that at the up-stream-most crate, right?
[01:24:53] <acrichto> yeah
[01:25:03] <acrichto> you may want to pass -Z print-link-args to see what's getting passed to the linker 
[01:25:07] <acrichto> -lstdc++ should be passed in both cases
[01:25:17] <acrichto> perhaps in a different order/location though
[01:26:36] <larsberg> We must be doing something weird. This mainly comes up with some of the random .so files we build (many of servo's submodules produce those instead of .rlibs and linking in directly). In those .so files, when we go to dlopen them (because libservo has a dependency on them), we run into the problem
[01:26:48] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[01:26:48] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/UU1V1w
[01:26:48] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[01:27:10] <larsberg> but maybe we're doing something stupid like naming something a .so that isn't really... Hrm.
[01:27:13] <larsberg> thanks for the tips!
[01:31:53] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[01:31:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02https://github.com/mozilla/rust/compare/ff733c767a2a...ff733c767a2a
[01:31:53] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[01:31:55] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[01:31:55] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/bYEKeA
[01:31:55] <ghrust> 13rust/06auto 14f4518cd 15gentlefolk: Initial support for emitting DWARF for static vars....
[01:31:55] <ghrust> 13rust/06auto 144f86de5 15bors: auto merge of #13143 : gentlefolk/rust/issue-9227, r=michaelwoerister...
[01:31:55] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[01:33:44] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:42:16] *** Joins: JustAPerson (JustAPerso@EAC6AADA.C1481309.D9401097.IP)
[01:48:55] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[01:50:53] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[01:54:05] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[01:56:22] <strcat> brson: hm, the build has been broken for the past few days
[01:56:29] <strcat> just make install
[01:57:33] <strcat> seems it tries to install to / even though DESTDIR is set
[01:59:04] <brson> strcat: i'll look into it. haven't tested destdir
[02:00:17] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[02:01:49] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[02:01:49] <ghrust> [13rust] 15bors 04force-pushed 06auto from 144f86de5 to 14ff733c7: 02http://git.io/N3iJvQ
[02:01:49] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[02:04:34] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[02:17:04] <brson> acrichto: ok, i've vastly simplified this install page, punting most of the details to the wiki
[02:17:17] <brson> haven't published it yet
[02:18:56] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Ping timeout)
[02:22:55] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Quit: Jesse)
[02:24:45] <brson> drastically simplified: http://brson.github.io/rust-www/install.html
[02:39:49] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[02:55:19] *** Joins: zimbabao (rajaram@3530B3A0.699B57E7.BE4CF869.IP)
[02:58:28] *** Quits: zimbabao (rajaram@3530B3A0.699B57E7.BE4CF869.IP) (Ping timeout)
[03:05:13] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:05:31] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[03:11:09] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:12:09] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[03:13:14] *** Joins: zimbabao (rajaram@61AF0799.FE5CBA2C.BE4CF869.IP)
[03:16:45] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[03:16:45] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/Ent5Fg
[03:16:45] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[03:18:58] *** Quits: zimbabao (rajaram@61AF0799.FE5CBA2C.BE4CF869.IP) (Ping timeout)
[03:21:49] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[03:21:49] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/9s9SMA
[03:21:49] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[03:21:50] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[03:21:50] <ghrust> [13rust] 15bors pushed 6 new commits to 06auto: 02http://git.io/q7hcUQ
[03:21:50] <ghrust> 13rust/06auto 147cf4d8b 15Eduard Burtescu: Used inherited mutability in lexer::Reader.
[03:21:50] <ghrust> 13rust/06auto 148f226e5 15Eduard Burtescu: De-@ TokenTree.
[03:21:50] <ghrust> 13rust/06auto 1483c4e25 15Eduard Burtescu: De-@ NamedMatch.
[03:21:52] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[03:24:53] <cmr> strcat: loads from pointers marked noalias can safely be cached right?
[03:25:06] <cmr> (in a register or w/e)
[03:25:08] <strcat> yes
[03:25:13] <cmr> alright
[03:25:22] <cmr> and we'll never mark * or *mut as noalias?
[03:26:59] <strcat> can't do that without adding something like C's restrict
[03:27:26] <cmr> yeah
[03:38:07] *** Joins: zimbabao (rajaram@E128F2CA.D52C6A6.BE4CF869.IP)
[03:45:11] *** Quits: zz_kimundi (kimundi@moz-F76B25A2.dip0.t-ipconnect.de) (Ping timeout)
[03:48:54] *** Joins: zz_kimundi (kimundi@moz-C9206138.dip0.t-ipconnect.de)
[03:48:55] *** zz_kimundi is now known as kimundi
[03:56:15] <brson> strcat: DESTDIR fix is here https://github.com/mozilla/rust/pull/13187
[03:56:34] <strcat> \o/
[03:57:16] <strcat> I guess I'll need to pass --disable-verify too
[03:57:37] <brson> configure --disable-verify-install will do it
[03:57:49] * strcat is debugging a really fun race atm ;|
[03:57:52] <strcat> not in rust...
[04:02:22] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[04:05:48] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[04:06:48] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:19:24] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Ping timeout)
[04:19:45] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:20:14] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[04:34:36] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[04:36:46] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[04:36:46] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/q7hcUQ
[04:36:46] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[04:41:47] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[04:41:47] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/q6fAXw
[04:41:47] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[04:41:49] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[04:41:50] <ghrust> [13rust] 15bors pushed 7 new commits to 06auto: 02http://git.io/B1i3GA
[04:41:50] <ghrust> 13rust/06auto 1401d823b 15Brian Anderson: install: Verify that installed compiler runs...
[04:41:50] <ghrust> 13rust/06auto 142205c48 15Brian Anderson: install: Explicitly delete the manifest during uninstall. Misc cleanup
[04:41:50] <ghrust> 13rust/06auto 14766a7c2 15Brian Anderson: install: Fix string formatting in an error
[04:41:51] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[04:48:49] *** Joins: jrick (jrick@moz-75D96D9D.us)
[05:01:22] *** Joins: vadimc (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net)
[05:01:46] *** vadimc is now known as vadimcn2
[05:04:13] *** Quits: vadimcn2 (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 28.0/20140314220517])
[05:16:44] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Quit: Leaving)
[05:20:42] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:20:54] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: Textual IRC Client: www.textualapp.com)
[05:24:31] <strcat> beautiful!
[05:24:34] <strcat> ported playpen to scope units
[05:24:36] <strcat> it's so great ;)
[05:24:54] <strcat>     sleep(3); // XXX: broken racy hack
[05:24:55] <strcat> except for that
[05:25:13] * strcat will just poll there for now
[05:31:30] <acrichto> brson: that page is beautiful
[05:32:03] <acrichto> brson: I wonder if there could be more emphasis on which table is which?
[05:36:31] <brson> acrichto: do you have an idea?
[05:36:45] <brson> i've also started on index.html too: file:///home/brian/dev/rust-www/index.html
[05:37:21] <acrichto> brson: hm, maybe just a <hr/> between them
[05:37:42] <acrichto> I'm thinking a little more emphasis on the version itself
[05:37:47] <acrichto> nightly vs 0.10-pre
[05:38:13] <acrichto> as a small nit, could you make the entire table cells clickable? (instead of just the text)
[05:38:37] <strcat> imo it should use the git describe version instead of 0.10-pre anyway
[05:38:42] <acrichto> I wonder if anyone will do a double take at node's version...
[05:40:19] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[05:40:33] <brson> acrichto: i tried to make the table cells clickable but had problems. i'll take another stab at it
[05:40:57] <acrichto> brson: try putting the padding on the a elements instead of the table cells, I think you may have to make them "display: inline-block" as well
[05:41:34] <brson> ok
[05:42:10] <brson> acrichto: more emphasis on the version on index.html?
[05:42:21] <brson> or no
[05:42:24] <acrichto> you gave a file:// url
[05:42:31] <acrichto> I don't think that exists for me :P
[05:42:41] <brson> on install.html, emphasize the two sections
[05:42:55] <brson> added an hr http://brson.github.io/rust-www/install.html
[05:43:01] <brson> http://brson.github.io/rust-www/index.html
[05:43:30] <acrichto> whoa
[05:43:39] <acrichto> I see no <hr> on install.html
[05:43:44] <acrichto> maybe some caching is wrong for me
[05:43:52] <brson> prolly
[05:44:00] <acrichto> "
[05:44:00] <acrichto> A very small taste of what it looks like
[05:44:01] <acrichto> "
[05:44:02] <brson> I can make the version font a little bigger
[05:44:06] <acrichto> those words may not need to exist
[05:44:22] <brson> possibly, no. i haven't gotten that far yet :p
[05:44:28] <brson> also going to rewrite the elevator pitch
[05:44:29] <acrichto> hehe
[05:44:34] <acrichto> i like that button
[05:44:39] <acrichto> I wanted to click it
[05:44:40] <acrichto> and I didn't know why
[05:44:42] <acrichto> then I read it
[05:45:15] <acrichto> you have it linking to source, I presume that will be appropriate binary installer X ?
[05:45:46] <brson> yes. haven't added the detection yet
[05:46:27] <acrichto> I like it though
[05:46:30] <acrichto> it's a god structure
[05:46:32] <acrichto> good*
[05:46:48] <brson> thanks
[05:46:53] <acrichto> I wonder if the rust game will get confused
[05:47:00] <acrichto> it doesn't say "programming language" anywhere on the page :P
[05:47:00] <strcat> lol
[05:47:12] <strcat> 1 race down
[05:47:14] <strcat> 1 to go
[05:47:21] <strcat> new rusti soon ;p, not that anyone will notice
[05:48:16] <brson> acrichto: lol, i'll add it back to the elevator pitch
[05:48:53] <acrichto> you should be sure to mention that our grenade stacks are usable
[05:48:55] <acrichto> https://github.com/mozilla/rust/issues/12723
[05:49:10] <brson> wow!
[05:49:14] <brson> that's hilarious
[05:49:23] <acrichto> jack had an excellent response
[05:49:28] <brson> for real
[05:49:41] <strcat> brson: bstrie/huon remove endless posts like that from /r/rust
[05:49:50] <strcat> I've reported a dozen to them
[05:50:10] <brson> 'grenade stack' is just an amazingly serendipitous term
[05:50:32] <brson> we've got to find a way to make that real
[05:50:48] <strcat> heh
[05:50:57] <acrichto> I'm sure there's some internal type in libgreen that would suffice
[05:51:20] <acrichto> then we can arm ourselves with our HomingMissiles and our GrenadeStacks
[05:51:21] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[05:51:33] <jrick> hey all, considering a cross compile but gauging the work, I see that rust has its own llvm patches and was wondering how crucial they are (probably a lot but just checking)
[05:51:53] <strcat> this is starting to get to the point where it would be sane to write it in rust
[05:52:08] <strcat> since enough is abstracted away from awful posix data structures and manual BPF
[05:52:22] <acrichto> jrick: if you're cross compiling for arm, the patches are necessary (they have arm support for segmented stacks)
[05:52:26] <strcat> rusti: 2
[05:52:26] -rusti- 2
[05:52:44] <jrick> acrichto: bitrig in my case
[05:53:05] <acrichto> jrick: as long as it's x86/x86_64 you shouldn't need the LLVM patches
[05:53:11] <brson> jrick: ha! good luck with your port :)
[05:53:14] <acrichto> our travis builds run on stock LLVM 3.3 and 3.4
[05:53:16] <jrick> brson: :)
[05:53:16] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[05:53:23] <jrick> acrichto: ah thanks
[05:53:36] <acrichto> if you have any trouble though, let me know!
[05:53:41] <jrick> will do
[05:53:44] <acrichto> the more ports the merrier
[05:53:48] <brson> jrick: are you going to cross from freebsd?
[05:54:09] <jrick> haven't decided yet, the only install I have right now that rust supports is windows
[05:54:18] <brson> ok. don't cross from windows!
[05:55:07] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[05:55:15] <brson> jrick: Luqman is a good person to ask questions about porting. he's done a few
[05:55:43] <jrick> sweet, this would be my first one so no promises :p
[05:56:37] <brson> bbl
[05:56:38] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Quit: leaving)
[05:56:46] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[05:56:46] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/B1i3GA
[05:56:46] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[05:56:56] <jrick> I did get all the native libs building (sans llvm), installer tried to download the linux rustc though :)
[06:01:44] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[06:01:44] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/dBDz6g
[06:01:44] <ghrust> 13rust/06auto 14e91115f 15Jan Kobler: verify-grammar path to rust.md...
[06:01:44] <ghrust> 13rust/06auto 142b05263 15Jan Kobler: verify-grammar keyword crate...
[06:01:45] <ghrust> 13rust/06auto 14fdfb9eb 15Jan Kobler: verify-grammar llnextgen...
[06:01:47] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[06:01:48] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[06:01:49] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/27qDLQ
[06:01:49] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[06:02:37] * strcat is unsure how to fix this race ;(
[06:05:03] * huon wants to compliment brson on his install page, but he's not here
[06:05:06] <huon> :(
[06:06:30] <strcat> huon: https://github.com/thestinger/playpen/blob/systemd/playpen.c#L109 fix this instead
[06:06:42] * strcat porting to the new cgroup API
[06:07:47] * strcat sighs
[06:07:57] <strcat> I hate glib soooo much
[06:09:00] <huon> strcat: I have no idea how to write C anymore :P
[06:09:15] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:09:22] <huon> why do you need the sleep? something else takes a while to start up?
[06:09:23] <strcat> it's not C anymore, it's gobject goo
[06:09:39] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:09:41] <strcat> huon: sending the StartTransientUnit command to systemd starts an asynchronous job
[06:09:46] <strcat> and I need to wait until the job is done
[06:09:59] <strcat> for StopUnit I don't care, since it doesn't matter when it stops
[06:10:09] <huon> and there's no completion callback/indicator/whatever?
[06:10:15] <strcat> for starting it, if I continue on before it's started, then the cgroups won't necessarily be set up
[06:10:17] <strcat> which is bad
[06:10:20] <strcat> huon: there is
[06:10:28] <strcat> the problem is that I need to write more gobject goo to use it
[06:10:30] * strcat cries
[06:10:33] <huon> ah
[06:10:35] <huon> bleh :(
[06:10:40] <strcat> I wanted to use sd-bus.h
[06:10:45] <strcat> it's 1000x saner than the glib client library
[06:10:56] <strcat> but it's private without --enable-kdbus and I can't get kdbus to work 100% yet
[06:11:04] <huon> oh, that's annoyin
[06:11:05] <huon> g
[06:11:21] <huon> is there a projected date for kdbus to be the default?
[06:11:28] <strcat> dunno
[06:11:38] <strcat> it's not in the upstream kernel yet but you can use it as an out-of-tree module
[06:12:10] <strcat> huon: the kernel part doesn't really do anything though, you need system with --enable-kdbus to provide the userspace components
[06:12:24] <strcat> for example, technically kdbus doesn't implement the old 'dbus' protocol
[06:12:30] <strcat> it just provides IPC infrastructure
[06:12:30] <huon> (s/system/systemd/?)
[06:12:33] <strcat> yes ;p
[06:13:06] <strcat> anyway systemd provides a bus-driverd + bus-proxyd
[06:13:14] <strcat> which are a compatibility layer providing the old dbus protocol
[06:13:16] <strcat> over kdbus
[06:13:30] <strcat> so when something decides to talk to dbus via the old API, a dbus-proxyd starts for it
[06:13:38] <strcat> (when it registers a service or w/e)
[06:13:41] <strcat> anyway
[06:13:46] <strcat> the problem is that bus-proxyd is buggy atm
[06:13:53] <strcat> kdbus *itself* works great
[06:13:56] <strcat> all the tests pass for me
[06:14:24] <strcat> when it finally works for me I'll write rust-dbus with sd-bus.h
[06:14:31] <huon> awesome
[06:14:37] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:14:38] <huon> and it will be slightly sane
[06:14:44] <strcat> quite sane :)
[06:14:48] <huon> rather than completely insane
[06:14:49] <strcat> zero-copy message passing!
[06:15:00] <huon> that's very nice
[06:15:11] <strcat> and no insane dbus serialization protocol
[06:15:27] <strcat> and best of all, no using these horrible existing dbus client libs except for compatibility
[06:15:44] <strcat> although they'll get ported to kdbus themselves... but they'll still be a pain to use
[06:15:56] <strcat> glib/gobject is a huge pain to use as a whole
[06:16:06] <huon> you can use them for nostalgia
[06:16:08] <huon> :P
[06:16:25] <strcat> huon: if you want to know why gobject is so bad... http://sprunge.us/GJKE that's my prototype in python first
[06:16:38] <strcat> did someone actually write glib2/gtk3 python bindings? nope. it's all autogenerated
[06:16:48] <huon> I already know why gobject is horrible to use :P
[06:16:57] <strcat> so the API design is entirely based on providing 100% ABI backwards compatibility + autogenerated bindings
[06:17:01] <strcat> huon: yeah, it sucks though
[06:17:02] * huon has seen strcat complaining about it for ages :)
[06:17:06] <strcat> ;)
[06:17:27] <strcat> sometimes I wonder why something isn't an iterator in python and wants me to call foo_next(x)
[06:17:33] <strcat> then realize it's gobject introspected
[06:17:39] <huon> hah
[06:18:08] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:18:12] <strcat> same API in every language, zero taking advantage of language/library features beyond the lowest common denominator portable types
[06:18:17] * strcat shrugs
[06:18:32] <strcat> that's probably how you'd do the rust bindings though, it's too much work to do anything else
[06:18:32] <jrick> I hate that gobject introspection stuff, seems super lazy
[06:18:46] <strcat> gtkmm (gtk C++ bindings) are done manually
[06:18:52] <strcat> and they are an *incredible* API
[06:19:02] <jrick> I'm writing gotk3 by hand (go bindings)
[06:19:10] <strcat> out of every gui toolkit, that's the nicest API (although Qt is a way better toolkit - but has a cruftier C++ API)
[06:19:18] <huon> write a C wrapper for gtkmm so you can use it from Rust Ã–P
[06:19:21] <huon> :P
[06:19:22] <strcat> huon: lol
[06:19:26] * huon loves indirection
[06:19:29] <strcat> won't exactly work that way
[06:19:31] <strcat> ;)
[06:19:33] <strcat> it's very modern C++
[06:19:39] <huon> yeah, of course
[06:19:40] <strcat> no manual memory management or manual refcounting
[06:19:45] <huon> but that wrecks the joke :P
[06:19:52] <strcat> uses templates, turns gobject into static C++ inheritance, etc.
[06:19:58] <huon> jrick: how's it going?
[06:20:06] <strcat> even wraps stuff like the glib strings with templated C++ types
[06:20:08] <strcat> it's great.
[06:20:21] <jrick> huon: me? that project?
[06:20:30] <huon> jrick: gotk3
[06:20:32] <strcat> huon: it's a 9MiB *binding* ;)
[06:20:36] <huon> (and you, if you want :) )
[06:20:40] <strcat> but then again
[06:20:51] <strcat> haskell-gtk is 185MiB and manages to fail at abstracting it well
[06:20:51] <jrick> it's nowhere near feature complete but that's because it's by hand and I don't have infinite time
[06:21:06] <jrick> and gtk 3.12 was just released so I need to get my hands on that and update the bindings
[06:21:22] <jrick> but we (conformal) use it in production code
[06:21:29] <strcat> gtk got some fancy new stuff
[06:21:39] <jrick> yeah I'm loving the new stuff in 3.10
[06:21:56] <huon> jrick: ah, cool (I wish I had infinite time...)
[06:22:01] <strcat> the 3.12 gedit was done by adding the widgets they needed to the gtk3 core
[06:22:40] <strcat> oh and full hidpi support, finally ;p
[06:22:50] <jrick> that is awesome
[06:23:24] <strcat> also all runs in wayland now
[06:23:29] <strcat> basically all of gnome
[06:24:25] <huon> <3 progress
[06:24:35] <strcat> missing a few things - startup notification, proper clipboard, and some input quirks
[06:24:38] <jrick> openbsd has 3.12 in ports now so I'm just waiting for the next bitrig sync
[06:24:40] <strcat> does have working multi-touch and everything
[06:25:14] * huon idly wonders if his computer will have working multitouch when he upgrades
[06:25:23] <strcat> well it should work now ;p
[06:25:25] <strcat> on X11
[06:25:32] <huon> I don't even know how I got single touch to work on linux... it just happened one day :/
[06:25:43] <strcat> huon: you have a touchscreen laptop?
[06:25:46] <huon> with no input from me, except a reboot or an upgrade 
[06:26:06] <huon> strcat: yeah, the touchscreen was the only way to get the good cpu and ram... so I had to go with it :(
[06:26:08] <strcat> which distro is it? *shrug*
[06:26:20] <strcat> huon: intel is requiring touchscreens in new ultrabooks
[06:26:24] <strcat> so everything will have a touchscreen
[06:26:25] * huon never uses the touch for anything
[06:26:31] <huon> debian unstable
[06:26:40] <strcat> http://shop.lenovo.com/ca/en/laptops/thinkpad/x-series/x1-carbon/
[06:26:45] <huon> yup, I think this was at the start of that generation
[06:26:46] <strcat> 14.0" WQHD (2560x1440), 260nit, IPS with 10-point multitouch
[06:26:53] * strcat wants
[06:26:56] <huon> every finger
[06:27:06] <strcat> huon: well, debian unstable is the problem ;p
[06:27:06] <huon> (... for the average human)
[06:27:16] <huon> strcat: yeah, but I don't use the touch anyway, so I don't care :P
[06:27:31] <strcat> it'd probably work in debian sid, but debian sid is *really* unstable
[06:28:14] * strcat is happier with his vanilla software all at the latest stable release ;p
[06:28:31] * huon has considered switching to arch
[06:28:48] <jrick> strcat: I wish more users were like you, it's so incredibly annoying to have to target year old libraries
[06:29:06] <strcat> imo it's way less hassle to use a rolling release with the latest stable of everything (+ the nice AUR)
[06:29:15] <strcat> yes, you get to find some bugs in newly released software
[06:29:24] <strcat> but you know exactly which upgrade caused it in most cases
[06:29:27] <cmr> I like finding bugs because then sometimes I can fix them
[06:29:29] <strcat> downgrade -> report bug -> be happy
[06:29:37] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Ping timeout)
[06:29:38] <strcat> with releases, you install a new release
[06:29:44] <strcat> doesn't work, no idea why, you're screwed
[06:29:57] <strcat> 20+ things will break and you won't know why ;p
[06:30:03] * strcat shrugs
[06:30:16] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:30:23] <jrick> man I kinda wish I could run a vm
[06:30:30] <jrick> don't have any hardware for freebsd or linux
[06:31:05] <cmr> strcat: that's a big reason why I don't use fedora anymore :|
[06:31:09] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:31:49] <strcat> I love getting systemd, etc. an hour to a day after it's released upstream ;p
[06:31:59] <strcat> some things lag more (maybe a week)
[06:32:05] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:32:27] <huon> cmr: how's benching?
[06:32:57] <strcat> huon: http://sprunge.us/PRjS ;)
[06:33:03] <cmr> huon: builder has been running healthily for slightly over 24 hours.
[06:33:14] <huon> strcat: fancy
[06:33:23] <huon> strcat: (sleep 100?)
[06:33:30] <huon> cmr: nice
[06:33:31] <strcat> huon: that's just the process inside it
[06:33:34] <strcat> it shows the cgroup
[06:34:56] <strcat> huon: http://sprunge.us/dMiV it's nice ;)
[06:36:14] <huon> oh, that listing includes everything inside the scope?
[06:36:29] <strcat> huon: that's systemd-cgtop, which is top for cgroups
[06:37:04] <huon> makes sense that it works like that, then :)
[06:37:24] <strcat> most fields are - since you have to actually opt-in to using memory/cpu cgroups
[06:37:33] <strcat> has non-zero overhead
[06:37:53] <strcat> it always tracks units with the light cgroups though
[06:37:57] <strcat> so it can reliably kill them
[06:38:06] <strcat> all I do to implement the timeout now is ask it to stop the scope unit
[06:38:20] <strcat> no horrible manual looping + killing until they are all dead, someone else does it for me! ;p
[06:38:56] <huon> magic
[06:38:58] * strcat expects /sys/fs/cgroup/ to become read-only for non-pid1 soon
[06:39:02] <strcat> so I have to migrate
[06:39:30] <strcat> the kernel devs decided that filesystem is insane, reveals too many private details etc. + racy
[06:39:41] <huon> migrate to running as pid1, right :P
[06:39:48] <strcat> heh
[06:40:02] <strcat> since debian/ubuntu are migrating to systemd, it doesn't seem like there will be other cgroup managers
[06:40:07] <strcat> maybe google will make one... dunno
[06:40:25] * strcat doesn't care and will just depend on systemd
[06:40:47] <huon> it seems it will be king of the hill for a few years at least
[06:41:07] <huon> can hop on to the next trait when one appears
[06:41:09] <huon> *train
[06:41:17] * huon rusts
[06:41:23] <strcat> most likely won't be a next one ;p
[06:41:39] <strcat> they'll just evolve it
[06:43:19] <strcat> huon: considering that udev/dbus are part of the systemd project now
[06:43:27] <strcat> well, the userspace parts
[06:44:41] <strcat> imo freebsd will probably implement the dbus apis
[06:44:49] <strcat> (logind, etc.)
[06:44:54] <strcat> I really doubt anyone else will bother ;p
[06:45:21] <strcat> logind actually works well, unlike consolekit
[06:45:31] <strcat> plug two monitors, keyboards, mice into the same computer -> multiseat
[06:46:03] <strcat> rusti: 2 + 2
[06:46:03] -rusti- 4
[06:46:21] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:47:32] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[06:47:32] *** ChanServ sets mode: +qo brson brson
[06:50:22] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[06:51:28] *** Joins: edwardw (Mibbit@8E77A3F9.7FC992B3.B3B412E5.IP)
[06:52:52] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[06:53:16] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[06:54:40] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:55:49] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[07:22:37] *** Quits: edwardw (Mibbit@8E77A3F9.7FC992B3.B3B412E5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:23:32] <bjz> huon: is there a deriving(Deref, DerefMut) for one element structs?
[07:23:50] <bjz> huon: do you think it might be worth while?
[07:25:20] <huon> bjz: there's not one
[07:25:30] <huon> I think it might be nice, but I'm not sure
[07:25:49] <huon> bjz: btw, did you get the pattern thing to work?
[07:26:00] <bjz> pattern?
[07:26:04] <bjz> no
[07:26:08] <bjz> :(
[07:26:56] <huon> rusti: macro_rules! foo { ($p: pat, $e: expr) => { { let $p = $e; } } } foo!((_, _), (1, 2))
[07:26:56] -rusti- ()
[07:27:06] <huon> bjz: that was basically your example, right?
[07:27:20] <bjz> yep
[07:28:01] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[07:28:20] <bjz> huon: https://gist.github.com/bjz/bdef9588c143c441c716
[07:28:24] <bjz> :/
[07:29:03] <bjz> are the other rules annoying it?
[07:29:19] <bjz> the error comes on line 4: https://gist.github.com/bjz/bdef9588c143c441c716#file-macro_oops-rs-L4
[07:29:54] <huon> I'd guess the $msg:expr rule is annoying it, yeah
[07:30:00] <bjz> :(
[07:32:12] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[07:33:07] <huon> bjz: you could convert the pattern one to `$errors: expr: $err_pat ...` so that you wrtie fail_on_glfw_errors!($errors: (_ ...)` rather than the comma, which gets confused with the next one.
[07:37:44] <bjz> huon: I just did this for now: https://github.com/bjz/glfw-rs/commit/d530977e50ed1f06f3a4c8204d69ce3fcc469a07#diff-d6ba20cde9895514fcc14e7a3564c83eR356
[07:37:53] <bjz> :P
[07:38:05] <bjz> I doubt the middle one would be used all that much
[07:39:05] *** Quits: intuxicated (intuxicate@3AEA5E5.FBDFAF77.BD3E1BB3.IP) (Client exited)
[07:39:10] <huon> bjz: I haven't seen this '//' macro separator before :P
[07:39:17] <bjz> hahaha
[07:39:33] <bjz> I wish we had a thing that matched doc comments
[07:39:50] <bjz> btw
[07:40:15] <bjz> https://github.com/mozilla/rust/pull/13072/#issuecomment-38960738
[07:41:47] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[07:41:47] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/dBDz6g
[07:41:47] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[07:46:44] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[07:46:44] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/672fCQ
[07:46:44] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[07:46:46] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[07:46:46] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/81h72Q
[07:46:46] <ghrust> 13rust/06auto 14a47d52c 15Erick Tryzelaar: collections: remove List...
[07:46:46] <ghrust> 13rust/06auto 14e0e8e95 15Erick Tryzelaar: test: remove pure test, which is now redundant with inline tests
[07:46:47] <ghrust> 13rust/06auto 1463b233c 15Erick Tryzelaar: std and green: fix some warnings
[07:46:49] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[07:48:54] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[07:51:41] *** Quits: vadimcn (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net) (Connection reset by peer)
[07:52:04] *** Joins: vadimcn (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net)
[07:52:21] *** Quits: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net) (Ping timeout)
[07:55:30] *** Joins: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net)
[07:57:38] *** Joins: darkf (darkf@moz-F9058B8A.net)
[07:58:28] <huon> the realstd thing gives confusing error messages for stdtest :(
[07:58:55] <cmr> stdtest is just confusing in general
[07:59:21] <huon> "Vec does not implement a method called clone" even after importing `clone::Clone`
[07:59:40] <huon> ... all because it was realstd's Vec
[08:01:43] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[08:02:11] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[08:04:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:07:03] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:08:18] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[08:08:52] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[08:09:12] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[08:22:30] * strcat is not sure if it's right
[08:22:32] <strcat> w/e
[08:23:07] <strcat> ah, beautiful
[08:23:09] <strcat> it works
[08:23:38] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[08:24:15] <huon> strcat: with races?
[08:24:20] <strcat> without races
[08:24:24] <cmr> strcat: wrangling with cgroups stuff?
[08:24:34] <strcat> cmr: well, scope units
[08:24:36] <strcat> the new cgroup API
[08:24:39] <strcat> but it's more than that I guess
[08:24:42] * cmr looks
[08:24:55] <strcat> I have it in a branch for playpen
[08:25:01] <strcat> anyway I haven't pushed the fixed version
[08:25:08] <strcat> it's a busy loop fix though
[08:25:19] <strcat> I am too lazy to set up the proper async callback for the 'it started dammit' signal
[08:25:31] <cmr> eeeeugh dbus
[08:25:39] <strcat> cmr: yeah, gdbus sucks
[08:25:47] <strcat> I'll happily switch to sd-bus.h when kdbus works for me
[08:26:10] <strcat> cmr: also I wrote a whole GetUnit dbus call thing and then realized I can call sd_pid_get_unit
[08:26:12] * strcat sighs
[08:26:30] <cmr> I might take this opportunity to write some pure-Rust dbus stuff and rewrite my shitty python script.
[08:26:42] <strcat> cmr: well, once sd-bus.h is there
[08:26:46] <strcat> I am going to make rust-dbus
[08:26:54] <cmr> good, less work for me!
[08:26:57] <strcat> it's private without --enable-kdbus
[08:26:59] <cmr> :p
[08:27:08] <strcat> which breaks NetworkManager/netctl/connman for me
[08:27:33] <strcat> because the compatibility layer (bus-proxyd) for pre-kdbus stuff (everything except systemd programs) is buggy
[08:27:38] * strcat shrugs
[08:28:12] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[08:29:08] <strcat> huon: http://sprunge.us/EZPe that works ;)
[08:29:10] <strcat> no more race
[08:29:19] <strcat> huon: http://sprunge.us/QYEc
[08:30:11] <cmr> strcat: 3.15 is bringing the cgroup api changes right?
[08:30:20] <strcat> cmr: well the api changes are 'here'
[08:30:25] <strcat> in that you're supposed to use systemd now
[08:30:30] <cmr> well sure
[08:30:35] <cmr> bt it still allows multiple writers yeah?
[08:30:42] <strcat> cmr: yes
[08:32:06] <strcat> cmr: https://github.com/thestinger/playpen/blob/systemd/playpen.c#L44 with the race fixed
[08:32:28] *** Quits: Nekit1234007_ (Nekit12340@4005741D.E0484215.4707F662.IP) (Ping timeout)
[08:33:10] <strcat> cmr: it's easier if you can get by with ExecStart
[08:33:20] <strcat> then you don't use PIDs, just set ExecStart=/usr/bin/foo
[08:33:26] <strcat> and no need to wait
[08:33:37] <strcat> I could split playpen into two binaries.... or have it take --inner
[08:33:39] <strcat> but meh
[08:38:38] <cmr> scopes look pretty nice.
[08:38:49] <strcat> if only I didn't have to use this gdbus crap
[08:38:55] <cmr> yeah
[08:38:59] * cmr is just reading the docs ;p
[08:39:11] <strcat> http://www.freedesktop.org/wiki/Software/systemd/dbus/
[08:39:14] <strcat> the api is pretty reasonable
[08:39:21] <strcat> the problem is the existing dbus implementations ;p
[08:39:30] <strcat> dbus would be *wonderful* with rust
[08:39:33] <strcat> since it would use an enum
[08:41:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:41:12] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:41:22] <strcat> rusti: 2 + 2
[08:41:23] -rusti- 4
[08:41:40] <strcat> rusti: fn foo() -> { loop {} } foo()
[08:41:40] -rusti- <anon>:10:21: 10:22 error: expected type, found token LBRACE
[08:41:41] -rusti- <anon>:10         fn foo() -> { loop {} } foo()
[08:41:41] -rusti-                               ^
[08:41:41] -rusti- application terminated with error code 101
[08:41:45] <strcat> rusti: fn foo() { loop {} } foo()
[08:41:46] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[08:41:46] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/yGY4QA
[08:41:46] <ghrust> 13rust/06auto 14bec333c 15Alex Crichton: dist: Tweak the OSX pkg installer...
[08:41:47] <ghrust> 13rust/06auto 1402d186a 15bors: auto merge of #13185 : alexcrichton/rust/osx-pkg, r=brson...
[08:41:47] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[08:41:50] -rusti- timeout triggered!
[08:42:05] <strcat> rusti: fn foo() { loop {} } foo()
[08:42:10] -rusti- timeout triggered!
[08:42:19] <strcat> rusti: fn foo() { loop {} } foo()
[08:42:19] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:42:24] -rusti- timeout triggered!
[08:42:25] <strcat> hm
[08:42:56] <strcat> rusti: fn foo() { loop {} } foo()
[08:43:01] -rusti- timeout triggered!
[08:43:06] * strcat shrugs
[08:44:28] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:46:13] <strcat> cmr: http://sprunge.us/MjLQ I got one! ;p
[08:46:22] <strcat> (I mean, I managed to get the status before it went away)
[08:47:26] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:47:27] *** Joins: Nekit1234007_ (Nekit12340@moz-409F3D76.dyn.broadband.iskratelecom.ru)
[08:47:30] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:50:36] <strcat> cmr: hm, it might be easier than I thought to do this
[08:50:44] <strcat> sd-login.h has async monitoring stuff
[08:59:10] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[09:00:28] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[09:09:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:11:47] <doener> strcat: do you remember what the remaining problem with enable mergefunc is?
[09:11:54] <doener> s/enable/enabling/
[09:12:00] <strcat> doener: it casts aggregates wrong
[09:12:05] <strcat> don't think the fix has landed... not sure
[09:13:03] <doener> strcat: is there an llvm bug for that? I suck at searching in bugzillas :-/
[09:14:03] <doener> strcat: guess I found it: http://llvm.org/bugs/show_bug.cgi?id=17326
[09:14:08] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[09:14:45] <strcat> doener: if you want it fixed, I assume taking the patch and fixing any issues with it would be the quickest way ;\
[09:18:24] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:18:44] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:18:49] <strcat> rusti: 2
[09:18:49] -rusti- playpen: a file descriptor has been leaked
[09:18:52] <strcat> hm
[09:18:55] <strcat> stupid python.
[09:19:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:19:07] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:27:15] *** Joins: doomlord__ (servitor@moz-88D9A890.range86-184.btcentralplus.com)
[09:27:21] *** Quits: doomlord__ (servitor@moz-88D9A890.range86-184.btcentralplus.com) (Connection reset by peer)
[09:33:11] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Client exited)
[09:33:27] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[09:34:43] <doener> strcat: I can't even figure out how to trigger the problem with the testcase from the bugreport :-/
[09:37:44] <eddyb> acrichto: https://github.com/joyent/libuv/pull/1214#issuecomment-38990961
[09:37:57] <eddyb> acrichto: I don't even have access to an OSX box
[09:41:03] <doener> strcat: ok, the testcase was just too small for the merge to be considered profitable
[09:45:22] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[09:51:44] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[09:51:44] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/yGY4QA
[09:51:44] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[09:56:40] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[09:56:40] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/v6lo5w
[09:56:40] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[09:56:41] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[09:56:41] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/tv3wRw
[09:56:41] <ghrust> 13rust/06auto 14a9c6061 15Flavio Percoco: Register new snapshot
[09:56:41] <ghrust> 13rust/06auto 14df9cf18 15bors: auto merge of #13188 : FlaPer87/rust/master, r=alexcrichton
[09:56:41] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[09:59:22] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[10:01:14] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[10:14:34] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[10:24:47] *** Parts: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) ()
[10:25:38] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[10:52:04] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[10:53:50] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:18:14] *** Joins: darkf (darkf@moz-F9058B8A.net)
[11:18:58] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[11:20:47] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[11:32:13] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[11:32:34] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:33:34] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[11:33:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:34:18] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[11:46:44] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[11:46:44] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/tv3wRw
[11:46:44] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[11:51:42] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[11:51:42] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/kRTfmg
[11:51:42] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[11:51:43] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[11:51:43] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/tsMSgw
[11:51:43] <ghrust> 13rust/06auto 14092eefc 15Michael Darakananda: configure uses `command -v` instead of `which` #13147
[11:51:43] <ghrust> 13rust/06auto 14363198b 15bors: auto merge of #13193 : pongad/rust/fixconfig, r=thestinger...
[11:51:43] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[12:00:03] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[12:00:16] *** Joins: eibwen (kvirc@moz-7F361249.dip0.t-ipconnect.de)
[12:03:40] *** Joins: gimpf (gimpf@moz-C29624BE.adsl.highway.telekom.at)
[12:25:36] *** flaper87|afk is now known as flaper87
[12:26:36] *** Joins: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP)
[12:27:58] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[12:28:20] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[12:37:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[12:37:38] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:47:57] *** Quits: gimpf (gimpf@moz-C29624BE.adsl.highway.telekom.at) (Ping timeout)
[12:50:10] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[12:54:21] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Client exited)
[13:06:44] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[13:06:44] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/tsMSgw
[13:06:44] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[13:07:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:07:14] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:07:44] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:07:52] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:10:28] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:10:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:12:00] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:36:08] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[13:41:52] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[13:47:19] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:49:54] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[13:57:32] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[14:01:26] *** Joins: bytbox (s@460BF35B.10A53EE3.77834EAA.IP)
[14:04:20] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[14:10:51] *** Joins: Boscop (me@moz-97944EEF.stw.stud.uni-saarland.de)
[14:18:19] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[14:27:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[14:28:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:28:53] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:44:18] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Client exited)
[14:45:59] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[14:47:50] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[14:48:55] *** Joins: darkf (darkf@moz-F9058B8A.net)
[14:51:34] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[14:52:29] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[14:52:31] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[14:57:28] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[15:01:11] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[15:05:03] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:06:45] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[15:10:56] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:11:38] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[15:13:08] *** Joins: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP)
[15:15:24] *** Joins: gimpf (gimpf@moz-3924DB42.adsl.highway.telekom.at)
[15:19:51] *** Quits: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP) (Quit: Leaving...)
[15:36:25] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[15:38:34] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[15:49:27] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[15:51:08] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[15:55:58] *** Quits: gimpf (gimpf@moz-3924DB42.adsl.highway.telekom.at) (Quit: Leaving.)
[15:59:30] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[15:59:51] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[16:08:33] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[16:16:50] <flaper87> strcat: around? Do you know if we've support for `llvm.global_ctors` and `llvm.global_dtors` ?
[16:17:08] <strcat> we don't
[16:17:11] <flaper87> there doesn't seem to be but it shouldn't be difficult to add it
[16:17:13] <flaper87> strcat: kk
[16:17:33] <flaper87> thanks
[16:20:15] *** Quits: zimbabao (rajaram@E128F2CA.D52C6A6.BE4CF869.IP) (Ping timeout)
[16:25:22] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[16:29:48] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[16:31:01] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:37:36] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[16:42:21] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[16:51:39] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[16:51:39] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/pnobnw
[16:51:39] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[16:51:40] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[16:51:40] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/pP_LCA
[16:51:40] <ghrust> 13rust/06auto 14f4518cd 15gentlefolk: Initial support for emitting DWARF for static vars....
[16:51:40] <ghrust> 13rust/06auto 142a9eddb 15bors: auto merge of #13143 : gentlefolk/rust/issue-9227, r=michaelwoerister...
[16:51:41] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[16:51:53] *** Joins: rcxdude (rcxdude@moz-C1B0669A.range109-145.btcentralplus.com)
[16:54:20] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Quit: leaving)
[16:54:21] *** Joins: darkf (darkf@moz-F9058B8A.net)
[16:58:19] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[17:00:39] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[17:07:43] *** Quits: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com) (Ping timeout)
[17:07:46] *** Quits: Kxepal (Miranda@moz-E12B707E.pppoe.mtu-net.ru) (Ping timeout)
[17:11:28] *** Joins: Kxepal (Miranda@moz-6DDBE711.pppoe.mtu-net.ru)
[17:21:41] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[17:21:41] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/qLhwkA
[17:21:41] <ghrust> 13rust/06auto 14f4518cd 15gentlefolk: Initial support for emitting DWARF for static vars....
[17:21:41] <ghrust> 13rust/06auto 143eb3a02 15bors: auto merge of #13143 : gentlefolk/rust/issue-9227, r=michaelwoerister...
[17:21:41] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[17:21:43] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[17:21:43] <ghrust> [13rust] 15bors 04force-pushed 06auto from 142a9eddb to 14363198b: 02http://git.io/N3iJvQ
[17:21:43] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[17:21:54] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[17:22:15] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[17:22:50] *** Joins: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com)
[17:24:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[17:30:19] *** Joins: edwardw (edwardw@4660DACB.EE06708D.4BFBD933.IP)
[17:33:09] *** Joins: detrino (chris@moz-EAECB432.lv.lv.cox.net)
[17:33:31] <eddyb> detrino: what I have written down is this https://github.com/mozilla/rust/issues/10124
[17:33:53] <eddyb> so you mean a,b would be (a, ..b)? kinda confusing IMO
[17:34:23] <eddyb> detrino: please ignore my atrocious "technical writing" style
[17:34:27] <detrino> I mean there would be no such thing as a tuple
[17:34:35] <detrino> just pairs
[17:34:45] <detrino> this is possible with value semantics
[17:35:03] <eddyb> it's a step back IMO
[17:35:04] <detrino> a,b,c is really (a, (b, c))
[17:35:38] <detrino> Why do you say? I see it as being strictly more powerful.
[17:36:10] <detrino> you can combine it with overloading to get things like print(...) taking an arbitrary number of arguments
[17:36:11] <eddyb> detrino: keep in mind that per C ABI nonsense (a, b, c) and (a, (b, c)) are not equivalent
[17:36:25] <eddyb> detrino: Rust doesn't have overloading
[17:36:34] <detrino> I was not aware
[17:37:11] <detrino> I just assumed it would have it, being a C++ competitor.
[17:37:22] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[17:37:37] <eddyb> detrino: how can you even express the (hypothetical) (.., x) pattern in your scheme?
[17:38:19] <detrino> I can express it in C++ (but with awful syntax, since , is not a pair there, and there is no pattern matching)
[17:38:33] <eddyb> it's not harder to support that under VG, than (x, ..)
[17:38:52] <eddyb> detrino: C++ doesn't have patterns
[17:39:51] <detrino> Rust doesnt allow things like print(int); and print(int, int); both existing ?
[17:40:00] <eddyb> no
[17:40:19] <detrino> Well, without overloading this is all for nothing :)
[17:41:00] <eddyb> note that VG would allow you to have both of those
[17:41:33] *** Joins: montezuma (Mibbit@17C39DD.FA4CF353.CC1A2609.IP)
[17:42:04] <eddyb> detrino: maybe I sound too harsh, but I'd suggest you first understand *current* Rust semantics (you don't seem to be aware of traits) before proposing new ones ;)
[17:42:05] <detrino> Ill read your paper, but I suspect ill see it as a band-aid much like I see C++ variadics
[17:42:20] <detrino> No, not harsh at all.
[17:42:21] *** Quits: edwardw (edwardw@4660DACB.EE06708D.4BFBD933.IP) (Ping timeout)
[17:44:54] *** Joins: edwardw (edwardw@4112974A.B4358688.30F15291.IP)
[17:49:43] <detrino> This expresses why variadics are unnecessary when comma is a pair operator and you have overloading: http://ideone.com/WWvs8H
[17:50:16] <detrino> Ill read up on the state of rust before bothering you more :)
[17:51:36] <eddyb> detrino: ugh
[17:52:03] <eddyb> you can get nicer things with type-level cons lists
[17:52:16] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[17:52:20] <detrino> of course, its just a demonstration of a concept
[17:52:24] <eddyb> detrino: again, think how you're going to support (.., x)
[17:52:39] *** Quits: montezuma (Mibbit@17C39DD.FA4CF353.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:52:49] <eddyb> cons lists are silly in that respect
[17:53:08] <detrino> What do you mean by (.., x)
[17:53:22] <detrino> peel off the last argument first ?
[17:53:28] <eddyb> ignore all elements but the last one
[17:53:37] <detrino> easily
[17:53:46] <eddyb> *within a pattern*
[17:54:01] <eddyb> (I hope you know what I'm referring to)
[17:54:09] <detrino> you mean pattern matching ?
[17:54:14] <eddyb> yupp
[17:55:52] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[17:56:12] <detrino> You cannot do this without extending the language, but you are already doing that
[17:56:42] <detrino> Its not incompatible with nested pairs, but nested pairs alone are not sufficient
[17:56:53] <eddyb> detrino: and as such, your proposal complicates the semantics without much in return ;)
[17:58:37] <detrino> maybe im misremembering, rust functions have arity or take 1 argument which can be a tuple ?
[17:58:37] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:58:46] <eddyb> detrino: they have arity
[17:59:19] <detrino> I see, then this would be quite the complication, yes :)
[17:59:39] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[18:00:00] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[18:01:40] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[18:08:58] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:21:23] <eddyb> huon: this is so painful, iteratorifying deriving/generic
[18:22:04] <eddyb> huon: but now it should be cloning shallow AST nodes instead of vectors :P
[18:22:28] <eddyb> (well, ExprPath could be better :/)
[18:24:33] <Eridius> ugh, current master refuses to build
[18:24:35] <Eridius> make[2]: *** No rule to make target `/Users/kevin/Dev/rust/rust/src/llvm/Users/kevin/Dev/Rust/rust/x86_64-apple-darwin/llvm/Makefile', needed by `Makefile'.  Stop.
[18:24:41] <Eridius> this is after a `make clean` and a fresh ./configure
[18:25:30] <eddyb> Eridius: if you have ccache, you can nuke the llvm submodule and/or the build directories
[18:25:54] <Eridius> I do indeed have ccache
[18:26:02] <Eridius> tempted to `git clean -xfd` to reset back to a fresh checkout state
[18:26:26] <Eridius> hrm `make clean` in src/llvm complains about the lack of Makefile.config and Makefile.rules
[18:26:42] <eddyb> Eridius: just nuke the build dirs then
[18:26:49] <Eridius> eh I ran git clean
[18:26:52] <Eridius> let's see what happens now
[18:27:22] <Eridius> make[2]: *** No rule to make target `/Users/kevin/Dev/rust/rust/src/llvm/Users/kevin/Dev/Rust/rust/x86_64-apple-darwin/llvm/Makefile', needed by `Makefile'.  Stop.
[18:27:45] <Eridius> this is rather problematic
[18:27:47] <eddyb> Eridius: did you ran ./configure?
[18:27:49] <Eridius> yes
[18:27:54] <eddyb> s/ran/re-run
[18:27:56] <Eridius> ./configure --enable-clang --enable-ccache --enable-debug --disable-llvm-assertions
[18:28:02] <Eridius> same invocation i've been using since forever
[18:28:06] <Eridius> not sure if I need all those flags anymore
[18:28:15] <Eridius> (and honestly I should probably leave llvm assertions on, I just wanted to speed things up)
[18:28:37] <eddyb> I've seen --enable-clang break a lot of things
[18:28:46] <Eridius> it should auto-detect clang these days
[18:28:52] <Eridius> but that should be equivalent to --enable-clang
[18:28:55] * Eridius is on OS X so he has no choice
[18:29:00] <eddyb> Eridius: try a plain ./configure, one of those flags might be broken
[18:29:19] <eddyb> I don't know any other possible reason
[18:29:52] <Eridius> make[2]: *** No rule to make target `/Users/kevin/Dev/rust/rust/src/llvm/Users/kevin/Dev/Rust/rust/x86_64-apple-darwin/llvm/Makefile', needed by `Makefile'.  Stop.
[18:30:38] <Eridius> the heck? === configuring in projects/sample (/Users/kevin/Dev/Rust/rust/x86_64-apple-darwin/llvm/projects/sample)
[18:30:51] <Eridius> why would it configure that?
[18:31:24] <eddyb> Eridius: at that point I'd gist env
[18:31:31] <Eridius> whoooa, check out that path agani
[18:31:33] <Eridius> *again
[18:31:38] <eddyb> hahaha
[18:31:40] <Eridius> it's re-adding the absolute path on top of the relative one
[18:31:51] <eddyb> Eridius: are you doing out-of-tree?
[18:31:53] <Eridius> my env looks normal
[18:31:54] <Eridius> nope
[18:31:57] <eddyb> :|
[18:32:04] <eddyb> what's "projects/sample" then?
[18:32:06] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[18:32:13] <Eridius> somethign inside of llvm
[18:32:21] <Eridius> I think that's just being unncessarily configured by llvm's configure script
[18:36:39] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[18:36:39] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/qLhwkA
[18:36:39] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[18:41:39] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[18:41:39] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/b-v5Ow
[18:41:39] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[18:49:29] <Eridius> oh dear. Found the problem
[18:49:37] <Eridius> PROJ_OBJ_DIR is in Dev/Rust but PROJ_OBJ_ROOT is Dev/rust
[18:49:51] <Eridius> which, um, doesn't make any sense
[18:50:01] <doener> hrm, InstCombine is weird
[18:50:20] <Eridius> Make's $(call realpath, .) is producing Dev/Rust and then $(call realpath, ../Dev/Rust/.../.) is producing Dev/rust
[19:09:03] <eddyb> kimundi: can you handle #rust?
[19:16:15] * eddyb gives a cookie to edwardw
[19:16:46] <edwardw> eddyb: ?
[19:17:01] <eddyb> edwardw: for helping out in #rust
[19:17:09] <edwardw> :P
[19:17:24] <eddyb> we may need to multiplex across multiple channels
[19:17:33] <eddyb> it's too hectic
[19:17:59] <eddyb> I wish we were using one of those fancy new chats
[19:18:09] <eddyb> with inline code blocks
[19:18:34] <mcpherrin> constantly linked pastebins does suck a bit
[19:18:42] <cmr> flaper87: why do you want to add global_ctors and global_dtors? We explicitly do not want life before or after main.
[19:19:36] <flaper87> cmr: I know, I'm playing with it now but I don't think I'll submit a PR or anything
[19:19:37] <cmr> eddyb: fleep is pretty cool
[19:19:41] <cmr> flaper87: ok
[19:19:51] <flaper87> cmr: th reason is that I'm writing a module for asterisk in Rust
[19:19:56] <eddyb> cmr: "monologue with myself"
[19:20:05] <flaper87> and asterisk module system depends on __attribute__((constructor))
[19:20:07] <flaper87> to register modules
[19:20:19] <flaper87> but we don't have that
[19:20:24] <cmr> yuck
[19:20:25] <eddyb> cmr: does it have any kind of code highlighting thing?
[19:20:39] <cmr> eddyb: dunno
[19:20:44] <flaper87> I'm thinking that we could probably add it and mark as unsafe or undefined behavior
[19:20:52] <eddyb> hmm
[19:20:57] <flaper87> I mean, warn people that uses it
[19:20:57] <cmr> well it wouldn't be UB :p
[19:20:57] <eddyb> flaper87: I'd rather have something more generic
[19:21:06] <flaper87> eddyb: shoot, I'm all ears
[19:21:09] <eddyb> flaper87: like, lower-level
[19:21:11] <cmr> flaper87: why don't you link to a C stub that call into Rust?
[19:21:23] <flaper87> cmr: yeah, that was the second option
[19:21:25] <eddyb> flaper87: what does [[constructor]] do?
[19:21:36] <flaper87> I just took this as a chance to dig into Rust's llvm code
[19:21:38] <flaper87> and trans
[19:21:51] <flaper87> eddyb: basically it's called on lib load
[19:21:51] <eddyb> adds the function in a zero-terminated static array in its own section?
[19:21:58] <eddyb> flaper87: not high level, low level
[19:22:04] <flaper87> eddyb: ah, erm, no idea
[19:22:33] <flaper87> for the final thing, I think I'll go with the second option
[19:22:52] <cmr> eddyb: that's not usable with llvm.global_ctors
[19:23:00] <eddyb> I'm thinking #[section=".ctors"] static CTORS: [Option<fn()>, ..3] = [Some(a), Some(b), None];
[19:23:05] <eddyb> cmr: oh?
[19:23:29] <cmr> eddyb: and now you're dependant on linker
[19:23:36] <cmr> and ctor implementation.
[19:23:39] <eddyb> :/
[19:24:46] <flaper87> TBH, I don't think it'd be really bad to have it and consider its usage as undefined behavior but then we'll go back to "why don't we add a flag that disable bound checking" :P
[19:24:54] <flaper87> which I don't want to discuss any longer
[19:24:58] <eddyb> cmr: I want it to not need *very* special support
[19:25:07] <flaper87> so, lets keep our rules alive and avoid adding stuff we explicitly don't want
[19:25:15] <eddyb> a top-level llvm! {...} macro would probably work here
[19:25:37] <eddyb> oh, I was thinking about something
[19:25:47] <eddyb> any immediate objections to removing statements?
[19:25:48] * kimundi only now realizes ping in here, ignores #rust to read backlog, facepalms
[19:26:54] <eddyb> let wouldn't be that problematic as an expression
[19:27:26] <eddyb> items, on the other hand... you end up with items as values
[19:28:15] <cmr> eddyb: uh yes, that's crazy, please don't.
[19:28:28] <eddyb> maybe not worth it. I guess I'll just flatten Stmt to not have that extra word
[19:28:34] <flaper87> brb guys
[19:28:49] <eddyb> (StmtDecl with DeclItem or DeclLocal)
[19:30:08] *** Quits: bytbox (s@460BF35B.10A53EE3.77834EAA.IP) (Client exited)
[19:35:27] *** Joins: lkuper (lkuper@52686EB2.654CD82F.51B6877.IP)
[19:36:56] <doener> eddyb: FYI http://lists.cs.uiuc.edu/pipermail/llvm-commits/Week-of-Mon-20140324/210903.html -- fix for the weird shift/and/or thing
[19:38:33] <eddyb> nice
[19:38:33] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Connection reset by peer)
[19:38:46] <eddyb> doener: it sounds like a potential huge speedup
[19:38:59] <doener> eddyb: happens only under rare circumstances AFAICT
[19:39:05] <eddyb> ah, right :/
[19:39:06] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[19:40:38] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[19:44:12] <cmr> doener: you're probably going to need to add a testcase to that before they accept?
[19:44:23] <cmr> aiui they are pretty strict about optimization fixes
[19:44:25] <cmr> but dunno
[19:45:59] <doener> cmr: I'll risk it ;-) Won't do anything to it this evening, and given my track record I won't get a review anytime soon anyway ;-)
[19:46:26] <cmr> yeah, they seem to be really really slow at review :\
[19:46:31] <doener> plus, the SROA regression I sent a patch for last week was broken by an optimization fix that didn't add a test :-p
[19:46:55] <cmr> heh
[19:56:42] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[19:56:42] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/4vIxqw
[19:56:42] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[19:57:26] <doener> woah, 332 comments on the Rust vs. Go thing in r/programming... is it a flame war yet?
[19:57:48] <eddyb> that slightly misinformed article?
[19:58:12] <eddyb> before I pointed out certain issues with it, I should've mentioned how it's tabu :P
[19:58:34] <eddyb> didn't realize they were going to post it in /r/programming
[19:58:41] <eddyb> hang on, steveklabnik? traitor!
[19:58:53] <edwardw> wow, the same blog made it to r/programming?
[19:58:53] <doener> *lol*
[19:59:36] <edwardw> it's steveklabnik1, techinically :P
[20:02:47] <eddyb> steveklabnik: look what you've done http://www.reddit.com/r/programming/comments/21mn1e/rust_vs_go/cgethh8?context=10
[20:05:25] <cmr> wow what a shitshow
[20:05:51] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[20:07:29] <eddyb> cmr: "I hear that Rust promises not only the kitchen sink but the toilet bowl too." quote of the week
[20:08:08] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[20:08:11] <cmr> I've discontinued qotw
[20:08:30] <doener> my personal quote of the week is from a comment in the LLVM sources: Change was made, I is still valid, I may be dead though
[20:08:59] <eddyb> doener: aww thy C++
[20:15:56] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[20:31:37] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[20:31:37] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/adzz0w
[20:31:37] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[20:31:37] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[20:31:37] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/UTMNGA
[20:31:37] <ghrust> 13rust/06auto 14d9d197d 15klutzy: configure: Add MINGW64 OS type...
[20:31:37] <ghrust> 13rust/06auto 14a708594 15bors: auto merge of #13199 : klutzy/rust/msys2, r=cmr...
[20:31:38] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[20:36:03] *** Quits: edwardw (edwardw@4112974A.B4358688.30F15291.IP) (Quit: Leaving...)
[20:40:39] <cmr> eddyb: all aggregates go through trans::adt right?
[20:40:52] <eddyb> cmr: I certainly hope so!
[20:40:55] <eddyb> what do you want to do?
[20:41:04] <cmr> tbaa.struct
[20:41:26] <cmr> which is a really miserable name for what it does.
[20:41:28] <cmr> but alas.
[20:42:05] <eddyb> ah, go ahead then
[20:45:05] <doener> cmr: IIRC some ticket says that tbaa.struct would help LLVM regarding rust's ADT/union types. Do you know how that would work? The docs suggest that the metadata is used be memcpy, and we usually only perform memcpys on the "base" type for which it is unknown which parts are used and which are padding
[20:46:03] <doener> also, do we have tbaa now? Or do you add everything at once?
[20:46:05] <cmr> doener: tbaa.struct lets you mark the offset and length of fields which are used, and that field's tbaa data.
[20:46:31] <cmr> I'm going to add first-pass "everything aliases" tbaa for this
[20:46:55] <cmr> and then make it more selective as I work on eliminating our undefined behavior
[20:47:26] <doener> cmr: yeah, but for e.g. Result<i64, i8>, the memcpy (IIRC) operates on { i8, [
[20:47:30] <doener> oops
[20:47:39] <doener> { i8, [7 x i8], [1 x i64] }
[20:47:41] *** Joins: det (chris@moz-EAECB432.lv.lv.cox.net)
[20:47:45] <doener> how would you annotate that?
[20:48:16] <cmr> the first and last fields would have tbaa.struct metadata.
[20:48:31] <cmr> I think
[20:48:32] <doener> but the second field is also used
[20:48:33] <cmr> not suree
[20:48:35] <cmr> will investigate
[20:48:43] <eddyb> doener: isn't second field padding?
[20:48:53] <doener> eddyb: no, the i8 would be in there
[20:49:31] <eddyb> doener: [7 x i8]
[20:49:45] <doener> OK is basically { i8, 64 } and Err is { i8, i8 }
[20:50:07] <doener> so the second i8 of Err is placed into the first byte of [7 x i8]
[20:50:24] <eddyb> doener: oh, right
[20:50:29] <eddyb> I forgot
[20:50:49] <doener> :-)
[20:51:07] <cmr> %"enum.std::result::Result<i64,i8>[#1]" = type { i8, [7 x i8], [1 x i64] }
[20:52:11] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:53:32] <doener> cmr: right. And since the memcpy that we generate usually (always?) operates on that type (also from rustc's view), I wonder what the tbaa.struct would look like.
[20:55:21] <cmr> doener: I will have an answer for that, in a while
[20:55:23] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[20:55:51] <doener> cmr: good :-) (I'm really curious, because I tried to wrap my head around that before and utterly failed)
[20:56:41] *** Joins: Nekit1234007 (Nekit12340@7B4CA0FD.CDD224AA.4707F662.IP)
[20:57:21] *** Quits: Nekit1234007_ (Nekit12340@moz-409F3D76.dyn.broadband.iskratelecom.ru) (Ping timeout)
[20:59:01] <cmr> doener: I suspect that emitting precise tbaa.struct metadata for enums is going to be the hardest part of this.
[20:59:10] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:00:54] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[21:01:07] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[21:04:33] *** Joins: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP)
[21:07:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[21:08:18] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[21:08:43] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[21:10:04] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[21:16:54] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[21:17:01] <sfackler> src/test.rs:1:1: 1:1 warning: this inner attribute syntax is deprecated. The new syntax is `#![foo]`, with a bang and no semicolon.
[21:17:04] <sfackler> src/test.rs:1 #![feature(phase)]
[21:17:05] <sfackler> acrichto: ^ wat?
[21:17:25] <sfackler> oh, wait
[21:17:28] <sfackler> it's probably the test harness
[21:17:45] <sfackler> yep
[21:19:56] <cmr> `1:1: 1:1` is always suspect.
[21:20:18] <sfackler> yeah
[21:20:29] <sfackler> better handling of bogus spans would be nice
[21:27:54] <sfackler> when did this happen?  error: cannot implement a destructor on a structure that does not satisfy Send
[21:27:58] <cmr> always
[21:29:06] <sfackler> oh, right, this is the trait object bound change
[21:29:17] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[21:31:33] <kimundi> wheew, finally got trough rustc with removing {vec, slice}::{map, flat_map}
[21:32:27] <cmr> oh good
[21:32:32] <cmr> I was about to do that change too
[21:32:49] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[21:34:44] * kimundi needs to start announcing such removals if he knows more than one person is likely to do it too.
[21:36:44] <cmr> https://etherpad.mozilla.org/O7HIOOo25R
[21:36:51] <cmr> good idea / bad idea? :)
[21:37:47] <kimundi> heh, might be a good idea, but I'm notoriously bad with such lists ;)
[21:41:03] *** Quits: gwty (gwtypc@F9627C20.1DDDF56.7CD022A3.IP) (Ping timeout)
[21:43:50] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Client exited)
[21:46:41] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[21:46:41] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/UTMNGA
[21:46:41] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[21:53:54] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[22:00:01] *** Joins: gwty (gwtypc@6E785434.59BCA205.137C914F.IP)
[22:03:38] *** Joins: blank_na1e (blank_name@61CFCA5D.9285D4F9.93A5C78C.IP)
[22:04:14] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Ping timeout)
[22:05:36] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[22:10:25] *** Quits: gwty (gwtypc@6E785434.59BCA205.137C914F.IP) (Connection reset by peer)
[22:11:21] <sfackler> r? https://github.com/mozilla/rust/pull/13200
[22:13:42] *** Joins: gwty (gwtypc@D17752E3.C4444A44.137C914F.IP)
[22:14:13] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[22:15:59] *** Joins: compmstr (Mibbit@moz-24DB0F25.dyn.optonline.net)
[22:16:24] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[22:16:40] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[22:16:40] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/1_8Ugw
[22:16:40] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[22:16:41] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[22:16:41] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/SV1_sw
[22:16:41] <ghrust> 13rust/06auto 144494854 15Steven Fackler: Use new inner attribute syntax in test framework...
[22:16:41] <ghrust> 13rust/06auto 140d76e36 15bors: auto merge of #13200 : sfackler/rust/test-attr, r=cmr
[22:16:42] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[22:18:00] <cmr> oh this is going to be absolutely miserable.
[22:18:09] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[22:22:58] *** Quits: gwty (gwtypc@D17752E3.C4444A44.137C914F.IP) (Ping timeout)
[22:23:00] *** Joins: gwty (gwtypc@D17752E3.C4444A44.137C914F.IP)
[22:28:04] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:33:28] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[22:39:37] *** Quits: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com) (Ping timeout)
[22:40:45] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:47:12] <compmstr> Does anyone know how to go from a SubStructure type_id to a Type name (I'm trying to check if it's an Option)
[22:47:49] <cmr> compmstr: what is a SubStructure? In which context?
[22:48:53] <compmstr> syntax::ext::deriving::generic::Substructure, I'm working in the deriving Decodable expansion
[22:49:16] <cmr> ah
[22:49:35] <compmstr> The context is available in the function, I'm just not sure how to go from the type_id to a type name
[22:50:39] <strcat> cmr: https://github.com/thestinger/playpen/blob/master/playpen.c finished porting it btw
[22:50:49] <strcat> rusti uses it now ;)
[22:56:26] *** Joins: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com)
[22:57:43] <cmr> Does anyone know how to attach metadata to calls in LLVM? I can't find *anything* in their C API that looks like it does this.
[22:57:59] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[23:00:39] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[23:07:02] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:09:21] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:10:35] <cmr> LLVMSetMetadata
[23:10:42] <cmr> why that isn't in the Metadata page I will never know
[23:11:38] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[23:11:38] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/xwQAGQ
[23:11:38] <ghrust> 13rust/06auto 149ed33c0 15Steven Fackler: Use new inner attribute syntax in test framework
[23:11:38] <ghrust> 13rust/06auto 1486890b9 15bors: auto merge of #13200 : sfackler/rust/test-attr, r=cmr
[23:11:38] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[23:11:40] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[23:11:40] <ghrust> [13rust] 15bors 04force-pushed 06auto from 140d76e36 to 14a708594: 02http://git.io/N3iJvQ
[23:11:40] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[23:14:18] *** flaper87 is now known as flaper87|afk
[23:14:36] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[23:32:57] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:32:57] *** ChanServ sets mode: +ao dherman dherman
[23:34:33] *** Quits: lkuper (lkuper@52686EB2.654CD82F.51B6877.IP) (Quit: lkuper)
[23:41:07] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:57:31] *** Quits: compmstr (Mibbit@moz-24DB0F25.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
