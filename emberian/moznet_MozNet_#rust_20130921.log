[00:00:35] <pcwalton> did it segfault during the tests, I wonder?
[00:00:42] <pcwalton> we could just stop running the tests
[00:01:32] <acrichto> lol
[00:01:34] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[00:01:50] <pcwalton> I mean, if we're just going to throw it out I don't see any reason to keep it around
[00:01:52] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[00:02:00] <pcwalton> I admit I'm biased because I want to land my 8KLOC patch
[00:02:12] <cmr> I agree
[00:02:14] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:02:28] <cmr> I admit I'm biased too, though: nothing would please me more than to see the old being replaced with my new ;p
[00:02:57] *** Quits: jdm (jdm@92FB48CA.8B5E9DF.9A8C35B4.IP) (Quit: Lost terminal)
[00:06:41] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[00:08:46] <pcwalton> acrichto: does your const fix also fix newtype struct constructors not being inlined?
[00:09:01] <acrichto> pcwalton: I doubt it
[00:09:06] <pcwalton> hmm, ok :(
[00:09:08] <acrichto> I've never done much with those
[00:09:28] *** Joins: ercxx__ (ercan@moz-7CFF3469.dyn.optonline.net)
[00:09:52] <cmr> Is it just newtype struct constructors? IIRC it shares all that code with enums.
[00:09:57] <cmr> It might be all enum constructors?
[00:10:16] <pcwalton> I don't think so, or I'd notice calls to option::Some showing up :)
[00:10:26] <pcwalton> in the profiles
[00:11:02] <cmr> Hm, weird
[00:11:16] <pcwalton> I want to write an LLVM pass to optimize a case that appears a lot in Servo and rust code
[00:11:20] *** Joins: BuckD (BuckD@moz-39F2E9EC.cpe.cableone.net)
[00:11:21] <BuckD> Learn about the top Google sniper http://7bb194y1y16u1o685klghnfu8u.hop.clickbank.net/
[00:11:23] *** Parts: BuckD (BuckD@moz-39F2E9EC.cpe.cableone.net) ()
[00:11:25] <acrichto> pcwalton: I wonder if they're just not #[inline] or whatever the equivalent is...
[00:11:38] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Client exited)
[00:11:46] <strcat> pcwalton: which case?
[00:11:58] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[00:12:01] *** Joins: radarsat1 (uid2860@moz-31ABA2C0.irccloud.com)
[00:12:03] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:12:08] <pcwalton> enum Foo { W, X, Y, Z } enum Bar { A, B, C, D } ... match something { W => A, X => B, Y => C, Z => D }
[00:12:16] <pcwalton> this should be turned into a lookup in a table
[00:12:21] <radarsat1> hello, i came up with an encapsulated implementation of coroutines using task and comm, is this of any use to anyone? https://github.com/radarsat1/rustaudio/blob/master/coroutine.rs
[00:12:30] <pcwalton> actually, *that* one could be changed to a bitcast
[00:12:40] <pcwalton> but in general you want to turn that into a lookup into a table
[00:12:47] <pcwalton> today LLVM compiles this to a jump table
[00:12:48] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[00:12:54] <pcwalton> which hurts layout a lot (we're 10x slower than gecko)
[00:13:03] *** Quits: SingingBoyo (singingboy@moz-15629474.ubcsecure.wireless.ubc.ca) (Ping timeout)
[00:13:13] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[00:13:26] <cmr> radarsat1: Lua-style coroutines?
[00:13:31] <radarsat1> dunno
[00:13:33] <radarsat1> i don't use lua
[00:13:39] <radarsat1> sort of like python generators maybe
[00:13:42] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:14:14] <ercxx__> Hi noob here, I'm playing with macros and I want to print whatever is given to the macro it only prints the first item http://pastebin.mozilla.org/3108063
[00:14:32] <radarsat1> cmr: basically the function is provided a "yield" function which it can call to communicate with the caller and wait for a response
[00:14:44] <radarsat1> maybe it would be better to post it to the mailing list
[00:15:07] <radarsat1> oh i'll just post it to reddit ;)
[00:15:08] <cmr> ercxx__: you can look at `rustc --pretty=expanded` to see the macro-expanded source.
[00:15:13] <cmr> ercxx__: super useful for debugging macros.
[00:15:17] <kmc> ercxx__: could be https://github.com/mozilla/rust/issues/8012
[00:15:20] <strcat> heh, github turned labels to smallcaps
[00:15:20] <ercxx__> thanks
[00:15:37] <kmc> the fix is to insert those extra braces (commented out in that example)
[00:16:01] *** Quits: jpf (jan@moz-A8C26A15.org) (Ping timeout)
[00:16:26] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[00:17:42] <pcwalton> strcat: there are other reasons for layout being slow though, there's a problem with guessing widths and we're limping along without an optimized, pure-Rust CSS implementation
[00:18:05] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[00:18:25] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:18:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:18:56] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: brb)
[00:19:04] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[00:19:04] *** Joins: jgilbert (jgilbert@moz-7B0110AD.mv.mozilla.com)
[00:19:21] <ercxx__> kmc: That totally worked, thank you.
[00:19:25] *** Joins: jpf (jan@moz-A8C26A15.org)
[00:19:48] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[00:20:01] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:20:09] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:20:34] *** Parts: radarsat1 (uid2860@moz-31ABA2C0.irccloud.com) ()
[00:20:39] <kmc> yay :)
[00:20:41] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:21:41] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[00:24:33] <kimundi> r? https://github.com/mozilla/rust/pull/9375
[00:28:51] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:29:09] *** Quits: jesseray (Mibbit@moz-EE907FB2.dhcp.insightbb.com) (Ping timeout)
[00:30:01] <engla> check your clock kimundi, that commit is from the future   "Kimundi - authored in an hour"
[00:30:18] <cmr> straw poll: is_ascii in std::ascii ? It's useful for eg network protocols which define strings as ascii-only, and using str is more convenient than using ~[Ascii]
[00:30:22] <hoverbear> engla: It's ok, he's from the future.
[00:30:50] <kimundi> engla: I'm fully aware that my clock is malfunctioning :P - But it only now occured to me that that's leaving traces in commits - my bad
[00:31:00] <engla> kimundi: it's not important
[00:31:46] <kimundi> cmr: What do you mean?
[00:31:57] <brson> I'd like to purge some of our policies that haven't worked out so well - in order to clear the way for new ones!
[00:32:04] <kimundi> cmr: There are is_ascii() methods there?
[00:32:05] <brson> Anybody object to deleting 'bug janitors'?
[00:33:45] <brson> probably not. bug janitoring seems to have died in favor of the triage emails
[00:33:47] *** Quits: quibbit (Mibbit@359B34A6.695DE54A.1951548C.IP) (Ping timeout)
[00:34:39] *** Joins: MauricioC (mauricioc@moz-2CFCD404.impa.br)
[00:34:49] *** Joins: maik (maik@moz-A79D08D1.dip0.t-ipconnect.de)
[00:37:00] *** Joins: Jesin (Jessin_@moz-C8BB4444.cc.lehigh.edu)
[00:37:52] * cmr doesn't even know what bug janitoring was
[00:38:13] <cmr> kimundi: I'm asking if one would be useful
[00:38:31] <cmr> It looks like it exists as AsciiCast though
[00:39:40] *** Quits: Diamond (dick@moz-63AD8970.ks.ok.cox.net) (Connection reset by peer)
[00:40:11] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:41:58] <kimundi> rusti: 'a'.is_ascii()
[00:42:02] -rusti- true
[00:42:03] <kimundi> rusti: 'Ã¤'.is_ascii()
[00:42:04] -rusti- false
[00:43:24] <zxcdw> Ã„Ã„Ã„Ã„Ã„Ã„Ã„Ã„Ã„Ã„Ã„Ã„Ã„Ã„Ã„!
[00:49:22] *** Joins: mib_wwmbsm (Mibbit@359B34A6.695DE54A.1951548C.IP)
[00:51:03] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[00:51:39] *** Quits: mib_wwmbsm (Mibbit@359B34A6.695DE54A.1951548C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:53:06] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[00:53:09] <ercxx__> I looked at the reflect stuff but couldn't find it. How do I call a function using it's name from a string?
[00:53:48] <ercxx__> I want to play around rust-http and would like to mess with a url router/dispatcher.
[00:54:14] *** Parts: ercxx__ (ercan@moz-7CFF3469.dyn.optonline.net) (WeeChat 0.4.1)
[00:54:17] <cmr> ercxx__: you don't, actually. that's not what reflection does, in rust.
[00:54:22] <cmr> dammit
[00:54:39] *** Joins: ercax (ercan@moz-7CFF3469.dyn.optonline.net)
[00:54:52] *** Quits: RMF (RMF@43899495.D5A48DF4.11F731AB.IP) (Quit: Textual IRC Client: www.textualapp.com)
[00:54:58] <cmr> ercax: you don't, actually. that's not what reflection does, in rust.
[00:55:27] <ercax> Which direction should I be going?
[00:56:05] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[00:56:05] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/IQCaEw
[00:56:05] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[00:56:29] <cmr> Not really sure.
[00:56:38] <cmr> You want to be using tries for efficient routing.
[00:56:45] <ercax> hmm
[00:56:48] <acrichto> sfackler: what was the reason that BufferedWriter didn't flush on drop again?
[00:56:57] <acrichto> sfackler: just asking b/c that bit me a few times
[00:56:58] <cmr> But you need to dispatch on more than just the URL, the various headers and HTTP methods play into it too
[00:58:11] <ercax> I wanted to do something simple-ish: I get /blah/blah and call blah("blah") kinda.
[00:58:17] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: pcwalton)
[00:58:33] *** Joins: bent (chatzilla@C36F5748.8CE62E0F.A36C57B9.IP)
[00:58:41] <SiegeLord> Hmm... writing "return" in other languages kind of getting old after Rust...
[00:58:48] <cmr> Yeah. You're going to want trait objects and hash tables, probably, at least for simplicity.
[00:59:01] <brson> do most repls operate by serializing and deserializing their state between commands?
[00:59:02] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:59:25] <cmr> brson: the lua and python ones certainly don't.
[00:59:42] <brson> it's kind of not what I would expect
[00:59:48] <SiegeLord> Do matches have optimisations for strings?
[01:00:09] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[01:00:26] <engla> lua basically keeps the same interpreter vm alive, and runs each line inside an error catch block
[01:00:29] *** Quits: maik (maik@moz-A79D08D1.dip0.t-ipconnect.de) (Ping timeout)
[01:00:38] <engla> but not everyone can have lua's genius
[01:00:42] <cmr> ercax: I wrote a toy framework in lua, https://github.com/cmr/tweed. It gave me a lot of insight into what I'd want in a framework.
[01:01:06] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:01:06] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/GqJeQA
[01:01:06] <ghrust> 13rust/06auto 14e2e1061 15Brian Anderson: Fix spelling and phrasing in 0.8 release notes
[01:01:06] <ghrust> 13rust/06auto 145a0f7aa 15Brian Anderson: Add a note about improved rustc perf to 0.8 relnotes
[01:01:06] <ghrust> 13rust/06auto 1458424eb 15bors: auto merge of #9349 : brson/rust/relnotes, r=thestinger
[01:01:08] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:01:14] <acrichto> brson: serialization is nowhere near the bottleneck for rusti though
[01:01:31] <acrichto> small crate compilation is the killer
[01:01:50] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[01:02:32] <brson> acrichto: performance isn't really my concern. more the statelessness. you'll only be able to repl things that are serializable
[01:02:46] <brson> which I guess is the reason he's saying 'no tasks'
[01:03:04] <acrichto> yeah that part is unfortunate :(
[01:03:23] <cmr> How does cling work?
[01:03:51] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[01:03:59] <brson> i'm not going to complain though if somebody wants to improve the repl
[01:05:36] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[01:05:49] *** Joins: brendan (brendaneic@moz-1BC0C4E6.sub-70-197-1.myvzw.com)
[01:05:56] *** Parts: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) ()
[01:08:59] <acrichto> nooooooooooo the snapshot doesn't haev debug output enabled
[01:09:03] * acrichto triggers a snapshot build
[01:09:06] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:09:06] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[01:09:10] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:09:28] <strcat> cmr: tries are important because they are O(1) worst-case
[01:09:38] <strcat> so there is never latency fluctuation
[01:09:40] *** Quits: jgilbert (jgilbert@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[01:10:03] <strcat> + you can compress them heavily, if you don't do inserts after creation
[01:10:06] *** Joins: Ralith (ralith@moz-36466B9F.customer.broadstripe.net)
[01:10:08] <strcat> for routing tables
[01:10:23] *** jorendorff_away is now known as jorendorff
[01:10:56] *** Quits: brendan (brendaneic@moz-1BC0C4E6.sub-70-197-1.myvzw.com) (Quit: brendan)
[01:11:02] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:11:02] <ghrust> 01[13rust01] 15alexcrichton merged 06master into 06snap-stage3: 02http://git.io/HuXiMQ
[01:11:02] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:11:34] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[01:12:02] <acrichto> brson: can you change the bots to configure with --disable-debug ?
[01:12:12] <acrichto> brson: they're all building debug!() right now
[01:12:30] <acrichto> which doesn't appear to have caused a regression, but there's also some noise right now
[01:13:17] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[01:13:25] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[01:16:10] <brson> acrichto: but not the snapshot bot?
[01:17:20] <brson> acrichto: why is it a problem to build debug!?
[01:18:00] <brson> i can't tell from irfy what is going on
[01:22:26] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[01:23:45] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[01:23:47] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[01:24:31] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:24:32] *** Quits: spud (spud@moz-8F8D4E52.lightspeed.bcvloh.sbcglobal.net) (Ping timeout)
[01:24:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:26:59] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[01:30:50] *** Joins: maik (maik@moz-A79D08D1.dip0.t-ipconnect.de)
[01:32:18] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[01:35:58] <ktt3ja> in Rust 0.7, how do I create an std::run::Process that writes to the file "/foo/bar" instead of stdout?
[01:36:40] <acrichto> brson: I remember that the original reason we disabled debug! by default was that it was less codegen for LLVM and got a nice speed boost, that may no longer be the case though
[01:36:58] <acrichto> brson: the snapshot having debug on is very nice because it helps debug possible issues with the snapshot
[01:37:52] <acrichto> strcat: how can you use the same instance of pandoc to render multiple fragments?
[01:39:39] *** Joins: mib_x14nfd (Mibbit@moz-EE907FB2.dhcp.insightbb.com)
[01:41:53] *** Quits: MauricioC (mauricioc@moz-2CFCD404.impa.br) (Ping timeout)
[01:42:39] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[01:43:07] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:44:05] *** jorendorff is now known as jorendorff_away
[01:45:38] *** jorendorff_away is now known as jorendorff
[01:46:43] *** Quits: maik (maik@moz-A79D08D1.dip0.t-ipconnect.de) (Ping timeout)
[01:48:00] *** jorendorff is now known as jorendorff_away
[01:51:23] <brson> re-r? https://github.com/mozilla/rust/pull/9353
[01:52:53] <cmr> brson: what is the Local::take() thing everywhere in rt, exactly?
[01:53:15] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[01:54:42] <brson> cmr: for aquiring thread-local state
[01:55:16] <brson> Scheduler's and Tasks particularly are often thread
[01:55:17] *** Joins: wakandan (Mibbit@5B9B91CA.8FF05F7.4605F140.IP)
[01:55:17] <brson> -local
[01:55:32] *** Quits: nkoep (nik@moz-77021FC6.pool.mediaways.net) (Client exited)
[01:56:41] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[01:57:16] <acrichto>  // Back to business
[01:57:57] *** Joins: RMF (RMF@moz-CAFECE81.dsl.telepac.pt)
[01:58:25] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[01:59:56] *** kimundi is now known as zz_kimundi
[02:03:24] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[02:04:57] *** Quits: six600110 (six600110@moz-2FA48202.neo.res.rr.com) (Ping timeout)
[02:10:15] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[02:10:45] <tikue_> what does "cannot borrow an `&mut` in a `&` pointer; try an `&mut` instead" mean?
[02:11:18] <cmr> good question
[02:11:30] <cmr> I imagine you're trying to do like &mut x.y, where x is a &T ?
[02:12:37] <tikue_> i don't think i am heh
[02:12:58] <tikue_> the line in question is `do child.frame_tree.with_borrow |frame_tree| {`
[02:13:03] <brson> tikue_: I think it means you can't create `&&mut Foo` because an immutable pointer to a mutable pointer is no good
[02:13:13] <tikue_> brson: ahâ€¦yes. that must be it
[02:13:41] <cmr> ah
[02:14:10] <engla> if you have a struct member that's  &mut X, you can't access it in a &self method
[02:14:45] <tikue_> i don't think i have any &muts
[02:15:05] <tikue_> i don't know. i'm trying to do stuff with RcMut and it's more complicated than I expected
[02:15:15] <engla> I can imagine
[02:15:48] <engla> the Mut<T> proposal should make it a tad easier
[02:16:09] <wakandan> why is pointers in rust called "borrowed"?
[02:16:28] <Luqman> brson: so the my crate_map patch won't work on because windows doesn't let you play tricks with the linker such as runtime symbol resolution
[02:16:29] <cmr> wakandan: http://cmr.github.io/blog/2013/08/13/rust-by-concept/
[02:16:33] <cmr> wakandan: because they don't take ownership.
[02:18:25] <tikue_> wait...
[02:18:37] <tikue_> in RcMut<T>, can T contain RcMuts?
[02:19:00] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[02:19:04] <tikue_> e.g. can you create a singly linked list with RcMt
[02:19:06] <tikue_> RcMut*
[02:19:36] <brson> Luqman: aw. i was afraid of that. damn windows
[02:19:43] *** Quits: gareth0 (gareth0@7C428FA9.3FD5F917.1A294DCF.IP) (Quit: Leaving)
[02:20:33] <cmr> Luqman: Really? :\
[02:20:40] <engla> tikue_: I don't think so
[02:20:41] *** Joins: six600110 (six600110@moz-2FA48202.neo.res.rr.com)
[02:20:58] <tikue_> engla: do you know what the problem is here?
[02:21:38] <engla> the required bounds Send or Freeze are there to statically avoid cycles
[02:21:51] <tikue_> but isn't that overly restrictive?
[02:21:51] <engla> if you could create a mutable linked list, you could also create a cycle
[02:22:23] <tikue_> couldn't it detect if you tried to create a cycle though?
[02:22:42] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:23:05] <brson> cmr: do you still have your lz4 branch anywhere? i don't see it on github
[02:23:23] <cmr> brson: uhh
[02:23:34] <cmr> brson: no
[02:23:54] <cmr> My repo was probably FUBAR and I reforked.
[02:24:15] <brson> does anybody know how to fetch by sha1?
[02:24:26] <brson> github hasn't gc'd the commits
[02:24:44] <cmr> I don't think that's possible
[02:24:50] <cmr> not positive though
[02:25:18] <engla> git in general doesn't allow fetching by commit id, so that deleted stuff can't slip out
[02:25:25] <tikue_> engla: ~ statically prevents cycles, but you can still have struct Foo { foo: Option<~Foo> }
[02:25:40] <brson> oh well
[02:25:52] <cmr> it wasn't a very big patch
[02:26:00] <cmr> the hardest part was getting the lz4 code into rt
[02:26:57] * brson dinner
[02:27:07] <mark_edward_> \j
[02:27:33] <Luqman> brson: cmr yea, so i guess we'll have to go with a different approach
[02:28:26] <engla> tikue_: RcMut is different though since pointers have shared ownership
[02:28:58] <tikue_> engla: what about Foo { foo: Option<~RcMut<Foo>> }
[02:29:12] <cmr> Luqman: can we export the symbol at a certain location with a linker script? hacky as hell :\
[02:30:00] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Quit: Leaving)
[02:30:27] *** Quits: Ferreus (daniel@moz-E450C4F9.dyn.telefonica.de) (Quit: WeeChat 0.4.1)
[02:30:29] <ercax> Hi, I'm trying to store a lambda in a HashMap and having problems retrieving it. I get this when I call it: expected function but found `&~fn:Send() 
[02:31:00] <cmr> ercax: how are you trying to call it?
[02:31:18] <Luqman> cmr: that seems too fragile and i'm not sure it'll even work
[02:31:40] <ercax> let f = mapname.get(~"key"); f();
[02:32:17] *** Joins: dio (dio@moz-9A172511.retail.telecomitalia.it)
[02:33:08] <dio> i like footjob
[02:33:27] <ercax> cmr: this is how I thought of handling the routing urls.
[02:33:58] *** Quits: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu) (Quit: eatkinson)
[02:34:06] *** Quits: bent (chatzilla@C36F5748.8CE62E0F.A36C57B9.IP) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[02:34:10] <dio> i like lick feet nylon
[02:34:13] <cmr> ercax: get returns a reference.
[02:34:26] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[02:34:30] <ercax> cmr: actually it's map.get(&~"key"); but same
[02:34:45] <ercax> Ok, how do I call it?
[02:34:54] <cmr> (*f)() I think
[02:34:55] <dio> ok
[02:35:28] <ercax> cmr: That worked.
[02:35:35] <ercax> Thanks.
[02:35:43] <dio> diego.miano@gmail.com yhis is my email
[02:35:46] <cmr> ercax: I would use trait objects rather than closures though
[02:36:05] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[02:36:05] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/GqJeQA
[02:36:05] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[02:36:25] <ercax> Where are the docs for that? I'm not that smart.
[02:36:27] <ercax> :)
[02:36:44] <cmr> so trait RequestHandler { pub fn handle(&mut self, req: &Request, res: &mut Response ); }, or something.
[02:36:57] <ercax> ok
[02:37:21] <engla> tikue_: I don't think that's different
[02:37:33] <cmr> ercax: static.rust-lang.org/doc/master/tutorial.html section 16.4
[02:38:12] <wakandan>  this declaration rusti: let on_the_stack2: &Point = &Point {x: 3.0, y: 4.0};
[02:38:22] <ercax> cmr: Thanks again.
[02:38:34] <wakandan> means that's i'm declaring a pointer to Point structure?
[02:38:50] <cmr> wakandan: yes
[02:39:03] <wakandan> something similar to Point *on_the_stack2 = &Point.... right?
[02:39:08] <wakandan> (in c)
[02:39:44] <cmr> well, I think you need to take the address of an already-existing local.
[02:39:46] <cmr> but yes.
[02:41:04] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[02:41:04] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/IwuZVA
[02:41:04] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[02:41:05] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[02:41:05] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/wICIuQ
[02:41:05] <ghrust> 13rust/06auto 1442b7734 15Patrick Walton: librustc: Change fold to use traits instead of `@fn`.
[02:41:05] <ghrust> 13rust/06auto 146c887e5 15Patrick Walton: librustc: Remove garbage collected functions from front/{config,test} and metadata/{tydecode,tyencode}
[02:41:05] <ghrust> 13rust/06auto 14484cc62 15Patrick Walton: librutsc: Port the pretty printer annotation infrastructure to use traits instead of garbage collected functions.
[02:41:07] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[02:41:17] <engla> struct Pointer *P = &(struct Pointer){3, 4};
[02:41:23] *** Quits: zz_kimundi (kimundi@moz-C673AE05.dip0.t-ipconnect.de) (Ping timeout)
[02:41:31] <engla> I think that's practically the same thing
[02:41:33] <wakandan> ah, right
[02:43:16] <wakandan> let rect_stack   = &Rectangle {origin: Point {x: 1f, y: 2f}, size: Size {w: 3f, h: 4f}};
[02:43:41] <wakandan> is it required to do let rect_stack : &Rectangle = &Rectangle or something?
[02:44:00] <cmr> wakandan: no, you don't need the type annotation if it can be infered.
[02:44:11] <wakandan> oh 
[02:44:27] <wakandan> compute_distance(&rect_stack.origin, &rect_managed.origin);
[02:44:44] *** Joins: zz_kimundi (kimundi@moz-1DFEA97A.dip0.t-ipconnect.de)
[02:45:12] *** zz_kimundi is now known as kimundi
[02:45:25] <wakandan> I guess &rect_stack.origin ~~ (&((*rect_stack).origin))) in C right?
[02:45:40] <wakandan> hi kimundi :D
[02:46:00] *** Joins: spud (spud@moz-8F8D4E52.lightspeed.bcvloh.sbcglobal.net)
[02:46:52] <cmr> wakandan: that looks about right
[02:47:21] <wakandan> how does rust infer these information?
[02:47:31] <wakandan> what if I want to pass the struct directly?
[02:47:43] <wakandan> *(&rect_stack).origin?
[02:47:55] <wakandan> I mean the struct "origin"
[02:47:58] <cmr> We use an algorithm called Hindley-Milner(http://en.wikipedia.org/wiki/Hindley%E2%80%93Milner)
[02:48:12] <cmr> wakandan: just rect_stack.origin
[02:49:08] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[02:49:45] <wakandan> oh right, from &rect_stack.origin is a pointer to it...
[02:49:55] <wakandan> is there any rule help identify that?
[02:50:09] <wakandan> if I'm supposed to read a code without looking at the declaration it might be hard right?
[02:50:10] <cmr> & is the address-of operator, just like C
[02:51:03] <wakandan> in the ex above, the rect_stack is a pointer, so to get the origin structure I might have to do rect_stack->origin
[02:51:16] <wakandan> in here it's more consice 
[02:52:03] <wakandan> so let's say in my "origin" has another struct
[02:52:05] <cmr> I don't really understand the question :(
[02:52:34] <wakandan> ah i'm just trying to wrap my head around this :P
[02:52:44] <wakandan> so let's say in my "origin" has another struct
[02:52:51] <mcpherrin> wakandan: Could you provide code in another language that does what you want? It might be easier for us to help
[02:55:02] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Ping timeout)
[02:55:57] <wakandan> mcpherrin: i'm reading the "rust borrowed pointer" tutorial 
[02:55:57] <wakandan> yeah sorry i'm bad at conveying what's i'm saying
[02:55:59] <wakandan> struct Rectangle {origin: Point, size: Size}, struct Point {x: float, y: float, color: Color}, struct 
[02:55:59] <wakandan> struct Rectangle {origin: Point, size: Size}, struct Point {x: float, y: float, color: Color}, struct Color{x: float}
[02:55:59] <wakandan> let rect_stack = &Rectangle{..}
[02:55:59] <wakandan> to get the pointer to "color", I have to do &rect_stack.origin.color?
[02:55:59] <wakandan> is my example clear? :(
[02:56:54] <mcpherrin> yes
[02:58:40] *** Joins: Kelet (Kelet@C253143A.824EB7CA.8245F614.IP)
[02:59:16] <strcat> acrichto: pandoc is like rustc in that it's really a library with a frontend shim
[02:59:43] <mcpherrin> rusti: struct C{q: f32}; struct P{x:f32, y:f32, c: C}; struct R{o: P, sz: P}; let rect = R{o: P{1., 1.}, sz: P{2., 2.}}; 
[02:59:43] -rusti- <anon>:7:97: 7:98 error: expected one of `, }` but found `{`
[02:59:43] -rusti- <anon>:7          struct C{q: f32}; struct P{x:f32, y:f32, c: C}; struct R{o: P, sz: P}; let rect = R{o: P{1., 1.}, sz: P{2., 2.}}; 
[02:59:43] -rusti-                                                                                                           ^
[02:59:43] -rusti- application terminated with error code 101
[02:59:46] <strcat> although I don't think you'd actually have any luck calling it *from rust*, but you could have it not require spawning new processes
[02:59:58] *** Quits: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP) (Ping timeout)
[03:00:02] <wakandan> so the above way is correct?
[03:00:02] <wakandan> and to get my color struct, I should do rect_stack.origin.color and that's all?
[03:00:13] <strcat> acrichto: problem with markdown is that it's super fragmented
[03:00:25] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:00:25] *** Joins: moot (Mibbit@moz-5256162B.hsd1.ca.comcast.net)
[03:00:35] <strcat> a specific implementation will change how nested things work, or features like tables which we do need
[03:00:59] * strcat shrugs
[03:01:19] <acrichto> strcat: does pandoc have like a C api?
[03:01:22] <acrichto> b/c that's all we need...
[03:01:30] <strcat> acrichto: no, a haskell one :s
[03:01:39] <acrichto> :(
[03:03:07] <ion> Well, one can always make a C wrapper that calls Haskell code. :-P
[03:03:11] <strcat> acrichto: https://github.com/ShabbyX/libpandoc/tree/master
[03:03:20] <wakandan> hi acrichto :D
[03:03:27] <strcat> acrichto: it's slightly out-of-date though :P
[03:03:40] <acrichto> strcat: yeah and sadly doesn't come with pandoc by default
[03:03:42] <acrichto> wakandan: hi :)
[03:03:50] <strcat> acrichto: well, pandoc has a tree of like 40 deps
[03:03:58] <strcat> it's a real pain
[03:04:15] <strcat> I was maintaining it for arch linux but gave up with 1.12 for now...
[03:04:19] <acrichto> brson mentioned a library called sundown....
[03:04:28] <strcat> it's a different markup format though
[03:04:32] <strcat> markdown isn't standardized at all
[03:04:42] <acrichto> yeah
[03:04:50] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[03:04:50] *** ChanServ sets mode: +ao brson brson
[03:05:27] <strcat> acrichto: but yeah, maybe using sundown makes sense
[03:05:38] <acrichto> 3 c files + headers is kinda appealing
[03:05:51] <acrichto> aww looks like they have 4 now :P
[03:06:29] <strcat> acrichto: it's missing syntax highlighting, ofc
[03:06:55] <acrichto> strcat: actually it looks like sundown is deprecated as of 10 months ago
[03:06:59] <acrichto> https://github.com/vmg/sundown/blob/master/CONTRIBUTING.md
[03:06:59] *** Joins: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP)
[03:07:19] <strcat> acrichto: well, lets hold off on doing anything then ;p
[03:07:25] <acrichto> yeah...
[03:07:35] <strcat> it would be really good if they made a "standard markdown"
[03:07:43] <strcat> *with* nested lists, tables, etc...
[03:07:53] <olsonjeffery> LaTeX
[03:08:03] <acrichto> dox in latex would be awful
[03:08:05] <strcat> it needs to be very readable as text
[03:08:09] <strcat> rst and markdown both excel at that
[03:08:20] * olsonjeffery wasn't being serious
[03:08:23] <strcat> olsonjeffery: ;p
[03:09:08] <strcat> acrichto: anyway pandoc is becoming harder to deal with
[03:09:21] <olsonjeffery> the walls are closing in
[03:09:22] <strcat> 1.12 added embedded yaml/json metadata so it picked up 10 deps, yay
[03:09:36] <olsonjeffery> rustdown is the future
[03:09:41] <strcat> so I honestly just gave up on packaging it because it takes too long for my computer to build it
[03:09:44] <strcat> it's worse than rust
[03:10:03] <olsonjeffery> no im saying we can write our own markdown parser
[03:10:09] <olsonjeffery> and html generator
[03:10:13] <strcat> olsonjeffery: ah
[03:10:14] <olsonjeffery> let's just reinvent the whole wheel
[03:10:17] <acrichto> we can write the world!
[03:10:25] <olsonjeffery> reinvent all the wheels
[03:10:33] <olsonjeffery> wheels for everyone
[03:10:35] <strcat> lets just wait and see what happens with sundown and move to whatever they "standardize" across github/reddit/stackoverflow
[03:10:44] <strcat> it'll be before rust 1.0, I'm sure ;p
[03:10:50] <acrichto> :(
[03:11:17] *** Quits: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP) (Ping timeout)
[03:11:25] <SiegeLord> Do we need the fancy pandoc extensions?
[03:11:34] <cmr> olsonjeffery: Are you doing your pretalk thingy?
[03:11:41] <strcat> SiegeLord: yes, standard markdown isn't enough to write docs
[03:11:43] <cmr> strcat: Some degenerate GFM I imagine.
[03:11:47] <olsonjeffery> cmr: i am so not ready :(
[03:11:51] <olsonjeffery> probably early next week
[03:11:55] <cmr> ok
[03:11:56] <strcat> http://docs.python.org/3.3/library/array.html people expect docs to look like this
[03:12:02] <olsonjeffery> drop dead i *have* to do a pre-talk before the 28th
[03:12:07] <strcat> http://docs.python.org/3.3/_sources/library/array.txt and have a readable plain-text version
[03:12:14] <olsonjeffery> i just am not ready, yet :/
[03:12:29] <olsonjeffery> there's too much in the corpus of "essential" rust knowledge
[03:12:29] <cmr> Using rst would be really great.
[03:12:36] <cmr> Just need somebody to make another implementation.
[03:12:37] <olsonjeffery> i can't communicate it in a 70 min presentation
[03:12:56] <strcat> cmr: pandoc! 
[03:12:56] <olsonjeffery> so im trying to figure out what to keep, what to keep, while keeping it code-centric
[03:12:58] * strcat runs
[03:13:03] <SiegeLord> That's a very long presentation >_<
[03:13:06] <cmr> strcat: do they have a full implementation?
[03:13:13] <strcat> cmr: complete enough
[03:13:16] <cmr> cool
[03:13:20] <strcat> pandoc markdown > rst though
[03:13:24] <strcat> rst is annoying in some ways
[03:13:25] <olsonjeffery> SiegeLord: it's usually 45-60 minutes w/ questions
[03:13:28] <SiegeLord> I like my talks ~20 minutes
[03:13:30] <strcat> like you can't have text that's both italic + bold without hacks
[03:13:38] <strcat> weird things like that drive people insane
[03:13:40] <olsonjeffery> SiegeLord: well then you won't have to tune in.
[03:13:45] <SiegeLord> How are you possibly going to keep people interested for an hour
[03:14:10] <SiegeLord> I'm just speaking as a presenter...
[03:14:20] <strcat> cmr: if github/stackoverflow/reddit seriously agree on what markdown is, then I'd love to just use that
[03:14:28] <strcat> but I don't want to use one of the 10000 variants
[03:14:29] <SiegeLord> Actually, I did give a few 45+ minute talks... everybody was dosing off towards the end
[03:14:29] <olsonjeffery> it's the format. if i run short, that's fine. id be happy if i can go 40 minutes.
[03:14:45] <olsonjeffery> 10-15 minutes of questions.. have some down time before the next slot
[03:14:47] *** jorendorff_away is now known as jorendorff
[03:15:15] <olsonjeffery> https://seattle.codecamp.us/Schedule
[03:15:18] <olsonjeffery> that's the schedule
[03:16:26] <olsonjeffery> SiegeLord: these are valid points, though. i don't have an answer beyond "give it my best"
[03:17:25] <SiegeLord> At least I think you have a good time slot... people should still be energized in the morning
[03:17:48] <cmr> olsonjeffery: I'd give an overview of the problems Rust solves, then go into some common rust patterns.
[03:17:53] *** Joins: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP)
[03:18:15] <cmr> From my experience giving Rust presentations to small (10-20) groups of people is: go slow, show lots of code.
[03:18:59] *** Quits: GeneralMaximus (ankur@26BD2F6D.6DB2D147.BE90E62C.IP) (Ping timeout)
[03:21:51] *** Joins: mib_ljjx8d (Mibbit@moz-EF3BB687.a1.protectedgroup.com)
[03:21:58] *** Quits: mib_ljjx8d (Mibbit@moz-EF3BB687.a1.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[03:22:28] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[03:22:51] <strcat> acrichto: https://github.com/mozilla/rust/issues/9377 made that into an issue
[03:23:23] <strcat> I think we can probably all agree it'd be a good idea, but it needs to actually be published before we can use it ;p
[03:25:23] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:25:44] <wakandan> olsonjeffery: so your presentation is at 9pm PDT?
[03:26:04] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:26:04] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 140b1cda5 to 1458424eb: 02http://git.io/N3iJvQ
[03:26:04] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:27:14] <olsonjeffery> wakandan: im not ready, sorry.
[03:27:35] <wakandan> olsonjeffery: it's ok :D
[03:28:04] <bytbox> Compiling rust from git seems to require libtinfo.so.5 (on some systems, a symlink to libncurses.so.5). For me, this breaks the build. Is there a workaround?
[03:28:05] <acrichto> strcat: COOL
[03:28:08] <acrichto> cool*
[03:28:10] <wakandan> olsonjeffery: if it was as pre-scheduled I should have had my lunch now
[03:28:21] <strcat> acrichto: good old caps lock? ;p
[03:28:28] * strcat 's caps lock key does ctrl
[03:28:52] <strcat> actual caps lock == press both shift keys and it toggles on
[03:28:59] <wakandan> strcat: how do you do that? "strcat 's caps lock key does ctrl"
[03:29:07] <bytbox> (other than the obvious "add the symlink")
[03:29:20] <strcat> setxkbmap -option ctrl:nocaps
[03:29:22] <strcat> setxkbmap -option shift:both_shiftlock
[03:29:27] <strcat> (on windows or OS X, I have no idea)
[03:29:38] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[03:29:39] <wakandan> strcat: I mean how to set the status thingy, 
[03:29:46] <wakandan> strcat: is that a status?
[03:29:53] *** Quits: slack1256 (slack@moz-7BE825C.baf.movistar.cl) (Quit: Konversation terminated!)
[03:29:58] <strcat> wakandan: you mean
[03:29:59] * strcat this?
[03:30:07] <wakandan> strcat: yup :D
[03:30:20] <strcat> wakandan: oh, your client probably assigns '/me foo' to it
[03:30:28] <wakandan> ooohhh
[03:30:30] <wakandan> cool 
[03:30:37] <strcat> good old CTCP ACTION
[03:30:41] * wakandan let's try this
[03:30:49] <wakandan> strcat: it works : ))
[03:31:22] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:31:45] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[03:31:46] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[03:37:20] *** Joins: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net)
[03:38:40] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[03:41:35] <tikue_> strcat: ping
[03:42:46] <strcat> tikue_: pong
[03:42:57] <tikue_> strcat: i'm looking at dlist for inspiration.
[03:43:04] <strcat> why?
[03:43:12] <strcat> :s
[03:43:22] <tikue_> strcat: i don't want to use @mut for servo's FrameTree construct
[03:43:31] <tikue_> the only reason it exists is to use iterators
[03:43:47] <tikue_> but I don't want to take out the iterators because they're so nice, so idk what to do :\
[03:43:56] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[03:44:14] <tikue_> and dlist looks like it doesn't use @mut, so I wanted to know how exactly that works
[03:44:24] <strcat> it uses unsafe code very carefully
[03:45:00] <strcat> it can't expose the nodes
[03:45:15] <strcat> *because* it uses unsafe code
[03:45:30] <tikue_> i see. i suppose that wouldn't work for my needs then
[03:45:51] <tikue_> actually maybe it would
[03:47:17] <tikue_> strcat: looking through the constellation code, any particular node's children are only accessed for two purposes: children.iter() and children.push()
[03:47:25] <tikue_> those could be exposed safely in a similar fashion to dlist, right?
[03:47:31] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[03:47:31] *** ChanServ sets mode: +ao brson brson
[03:47:40] <strcat> tikue_: doubt it
[03:47:47] <strcat> dlist can't expose the nodes with links to the others
[03:47:53] <strcat> I think it would quickly become unsafe
[03:48:01] * strcat shrugs
[03:48:19] <strcat> you really don't want to be writing unsafe code at a high level, it means you have to validate everything all the way down
[03:48:21] <tikue_> hmm
[03:48:22] <strcat> dlist is low-level
[03:48:37] <tikue_> strcat: any thoughts on how to do this? :\
[03:48:42] *** Quits: wakandan (Mibbit@5B9B91CA.8FF05F7.4605F140.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:48:50] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[03:49:18] <strcat> tikue_: not familiar with the code, so I don't know
[03:50:02] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[03:51:47] *** Quits: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP) (Ping timeout)
[03:52:13] *** jorendorff is now known as jorendorff_away
[03:52:48] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[03:53:39] *** jorendorff_away is now known as jorendorff
[03:57:42] *** Joins: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP)
[03:59:31] *** Quits: dio (dio@moz-9A172511.retail.telecomitalia.it) (Ping timeout)
[03:59:42] <moot> hopefully a stupid question: I'm trying to use rt::io::MemReader in a project, but I'm getting an unresolved import.  Is there a good way to see what path I should use for "use" in order to use a struct without namespace decoration?
[04:01:20] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[04:04:23] *** jorendorff is now known as jorendorff_away
[04:06:57] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[04:07:08] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[04:07:12] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[04:09:26] *** jorendorff_away is now known as jorendorff
[04:09:38] <brson> moot: MemReader is at rt::io::mem::MemReader. As to your question about figuring out the path idk, I just read the source
[04:11:01] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[04:12:21] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[04:13:32] <luisbg> hello fellow Rusters
[04:13:43] <luisbg> should the documentation of methods be in the trait or in the implementation
[04:13:52] <luisbg> cmr, does that sound right?
[04:14:03] <cmr> (yes)
[04:14:18] <luisbg> cmr believes it should be in the trait, since that is where rustdoc will get it from
[04:14:29] <strcat> there are separate docs
[04:14:38] <strcat> the implementation can tighten up the guarantees of the trait
[04:15:00] <strcat> and document specific things about the implementation (performance, failure cases)
[04:15:07] <cmr> this is StrSlice, which has exactly one implmentation, and very unlikely to have others.
[04:15:34] <luisbg> the current documentation is at the implementation, but then rustdoc doesn't see it
[04:15:37] <strcat> it existing is a bug ;p
[04:15:40] <cmr> yeah :(
[04:15:47] <luisbg> strcat, oooh wow
[04:15:50] <luisbg> I'm doing this...
[04:15:54] <luisbg> https://github.com/mozilla/rust/issues/9370
[04:15:58] <strcat> rustdoc should be able to see documentation in impls
[04:16:09] <luisbg> strcat, so you are suggesting it should be copied up to the trait, or moved up?
[04:16:17] <cmr> strcat: it does see them, but it won't list them on the trait page
[04:16:23] <strcat> cmr: right, makes sense
[04:16:27] <cmr> only on the type's page that implements them
[04:16:35] <cmr> which is a problem since &'self str doesn't *have* a type page
[04:16:39] <strcat> luisbg: I think it should be removed by fixing how we handle built-in types
[04:16:52] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[04:16:56] <strcat> it wouldn't be *that* hard
[04:17:08] <strcat> need an attribute for libstd to use to say "I am libstd"
[04:17:28] <luisbg> strcat, not following, sorry
[04:18:03] <strcat> #[lang = "slice"] struct Slice { ... } impl Slice { ... }
[04:18:40] <luisbg> strcat, I don't understand the relationship between the issue and what you are saying
[04:18:50] <strcat> StrSlice's existence is a bug
[04:19:00] <strcat> a normal trait requires separate docs on the trait and implementations of it
[04:19:01] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[04:19:06] *** jorendorff is now known as jorendorff_away
[04:19:09] <strcat> the trait needs to document what it requires/guarantees in the general case
[04:19:17] <strcat> an implementation only really needs docs if it differs
[04:19:21] *** Quits: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP) (Ping timeout)
[04:19:30] <strcat> as in, this trait *also* guarantees X and may fail if Y happens
[04:19:39] <strcat> this trait implementation*
[04:19:49] *** Joins: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP)
[04:19:57] <strcat> StrSlice is a workaround, not a real usage of traits
[04:20:07] <strcat> doesn't matter where the docs are, but there's no point in them being in both places
[04:20:29] <cmr> for the builtin types they aern't generated separately yet.
[04:20:43] <engla> strcat: if you generalize str, can you just allow any rust code to define new vector wrappers including slices? not sure if it's actually useful
[04:20:47] <luisbg> any point in moving them so rustdoc sees them? or fixing how StrSlice is implemented?
[04:21:08] <strcat> rustdoc does see them afaik
[04:21:18] <cmr> What we get right now is http://www.contrib.andrew.cmu.edu/~acrichto/doc/std/str/trait.StrSlice.html
[04:21:35] <strcat> cmr: doesn't it also list docs for the impl?
[04:21:35] <cmr> You'll notice the hyperlink to &'self str isn't clickable, because primitives don't have node ids, so they don't... really exist as types
[04:21:36] <luisbg> cmr, you beat me to it, was about hit enter
[04:21:44] <cmr> strcat: yes, but where would the impl go?
[04:21:54] <strcat> cmr: what do you mean where would it go?
[04:22:07] <cmr> strcat: like, would docs for the builtin types go in the libstd docs?
[04:22:12] <cmr> Under their own special section? Module?
[04:22:18] <cmr> Maybe a "phantom" crate?
[04:22:27] <cmr> They don't exist in any crate heirarchy.
[04:22:33] <strcat> cmr: or we could fix this bug, it's not even a big bug
[04:22:36] <cmr> yeah
[04:22:48] <strcat> I really doubt it would be very hard to fix
[04:23:17] <strcat> each built-in type gets a lang item, and you go find where method resolve happens and tie it to them
[04:24:44] <luisbg> strcat, why do traits have to specify allow(missing_doc) then?
[04:25:07] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[04:26:02] <strcat> I don't know what you mean
[04:26:18] <strcat> legitimate uses of traits should have documentation
[04:26:26] <strcat> StrSlice is not a legitimate use of a trait, it's a workaround for a bug
[04:26:36] <strcat> if someone writes docs for it, they are going to be deleted when the bug is fixed
[04:26:52] <engla> our lint requires that the pub trait declaration has documentation but not the impls
[04:26:59] <engla> for each method
[04:27:08] <luisbg> and that bug fix should remove the need to specify that some traits (work-arounds) will exist without docs
[04:27:21] <strcat> engla: that makes sense to me
[04:27:28] <strcat> the impl only needs docs if it varies from the trait
[04:27:38] <luisbg> yes, makes sense
[04:27:38] <strcat> talking about legitimate uses of traits here, not temporary hacks
[04:27:52] <luisbg> but reading a bunch of allow(missing_doc) for the traits that are like this isn't nice
[04:28:24] <engla> yeah ok.
[04:28:27] <strcat> so the bug needs to be fixed ;p
[04:28:46] <strcat> I haven't fixed it because there are more interesting things to work on
[04:29:09] <strcat> this is mostly not a user-visible thing
[04:29:12] <luisbg> I could do it with some guidance
[04:29:42] <luisbg> strcat, if it affects the documentation generation it is user-visible IMHO
[04:29:50] <luisbg> since users will use the documentation extensively
[04:30:04] <strcat> once we have usable documentation maybe
[04:30:14] <strcat> the old rustdoc is worse than the source code ;p
[04:30:18] <cmr> Yeah it really is
[04:30:38] <luisbg> hahahahaaaa
[04:30:55] * strcat just guesses at a few method names and then opens the .rs file
[04:31:27] <strcat> automatic rustdoc_ng generation on the doc bot can't land soon enough ;p
[04:31:30] <luisbg> this all started with cmr giving me a small issue to fix, "write the doc for this" and it has escalated to changing the language hahaha
[04:31:44] <cmr> I gave it a p=1, what happened to it..
[04:32:14] <cmr> acrichto: dammit you acn't rebase without re-r+ing it
[04:35:48] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[04:35:59] <engla> cmr: the docs look even better now
[04:36:12] <cmr> that would still be Seldaek doing CSS magick
[04:37:32] <engla> so everything that's shown even if it is non-pub, that just matches Rust's privacy bugs I guess
[04:37:35] <engla> in the docs
[04:38:08] <cmr> yes
[04:38:23] <acrichto> cmr: oh whoops, I totally didn't see the first one
[04:38:30] <acrichto> must have gotten lost in my inbox...
[04:40:06] <strcat> rusti: struct Foo: Send { }
[04:40:07] -rusti- pastebinned 8 lines of output: http://sprunge.us/LANP
[04:40:11] <strcat> er
[04:40:14] <strcat> rusti: trait Foo: Send { }
[04:40:15] -rusti- ()
[04:46:00] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[04:46:00] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/g5myAw
[04:46:00] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[04:49:10] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[04:49:33] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[04:50:58] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[04:50:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/XAvVBQ
[04:50:59] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[04:51:00] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[04:51:00] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/697NHg
[04:51:00] <ghrust> 13rust/06auto 1421bece2 15Alex Crichton: Implement a web backend for rustdoc_ng...
[04:51:00] <ghrust> 13rust/06auto 14457e067 15bors: auto merge of #9374 : alexcrichton/rust/rustdoc-web, r=cmr...
[04:51:00] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[04:51:04] <cmr> gogogo bors
[04:53:13] <engla> can Drop::drop be marked #[inline]?
[04:53:25] <engla> in a particular impl
[04:53:49] <engla> oh hello ICE. maybe not
[04:54:18] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:54:58] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:59:16] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:59:57] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[05:05:42] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[05:10:53] *** Quits: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net) (Quit: hoverbear)
[05:11:58] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:15:26] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Connection reset by peer)
[05:16:34] <ChrisMorgan> engla: always the best way to find out :-)
[05:17:00] *** Joins: SingingBoyo (singingboy@DA28FB90.A5D0D593.4F048BDC.IP)
[05:17:53] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:23:31] <engla> it seems like the empty destructor of std::util::NonCopyable adds overhead 
[05:23:36] <engla> :-|
[05:25:20] <strcat> custom destructors don't support inlining yet.
[05:25:28] <bytbox> is it not possible to return first-class trait values? i.e., trait A; fn new() -> @A. ?
[05:25:38] *** Yurume_ is now known as Yurume
[05:26:25] <cmr> rusti: trait A; struct Foo; impl A for Foo; fn new() -> ~A { ~Foo as ~A } new()
[05:26:26] -rusti- <anon>:7:16: 7:17 error: expected `{` but found `;`
[05:26:26] -rusti- <anon>:7          trait A; struct Foo; impl A for Foo; fn new() -> ~A { ~Foo as ~A } new()
[05:26:26] -rusti-                          ^
[05:26:26] -rusti- application terminated with error code 101
[05:26:32] <cmr> rusti: trait A {}; struct Foo; impl A for Foo; fn new() -> ~A { ~Foo as ~A } new()
[05:26:33] -rusti- ~main::A:Send
[05:26:45] <bytbox> oh
[05:26:47] <bytbox> "as"
[05:26:47] <bytbox> thanks
[05:28:27] *** Joins: mindcat (mindcat@C29E7178.DE7505BB.291A146C.IP)
[05:29:30] <luisbg> goodnight and thanks for all the help
[05:29:34] <luisbg> specially cmr :)
[05:30:42] *** Joins: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu)
[05:31:51] <bytbox> amen
[05:32:31] <tikue_> strcat: if `yield` existed, would you still need @mut to mutably iterate over a tree?
[05:32:43] <tikue_> or could the state machine do something funky to make it unnecessary
[05:34:17] <strcat> tikue_: no difference
[05:34:28] <tikue_> ok
[05:34:42] <strcat> you need @mut not because you're iterating over a tree but because you're making aliased mutale refs
[05:34:45] <strcat> mutable
[05:34:51] <tikue_> yeah :\
[05:36:03] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[05:36:04] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14457e067 to 14e268c7f: 02http://git.io/N3iJvQ
[05:36:04] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[05:36:04] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[05:36:05] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/cXNx5g
[05:36:05] <ghrust> 13rust/06auto 14c767643 15Brian Anderson: std::rt: Try stealing from all schedulers...
[05:36:05] <ghrust> 13rust/06auto 14450d91e 15Brian Anderson: std::rt: Implement task yielding. Fix a starvation problem
[05:36:05] <ghrust> 13rust/06auto 14988d91e 15bors: auto merge of #9353 : brson/rust/sched, r=cmr...
[05:36:07] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[05:37:21] *** Quits: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP) (Ping timeout)
[05:38:04] <cmr> noo
[05:38:13] *** Joins: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP)
[05:43:43] *** Quits: cdidd (cdidd@moz-D72A2CD5.broadband.corbina.ru) (Input/output error)
[05:51:39] *** Quits: Jesin (Jessin_@moz-C8BB4444.cc.lehigh.edu) (Quit: Leaving)
[05:56:00] <mark_edward_> tikue: what's wrong?
[05:56:27] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[05:57:13] <mark_edward_> oops, i mean cmr: what's wrong
[05:58:22] <moot> anyone working on rt::io::stdio?
[05:59:07] <mark_edward_> moot: all of  rt::io is worked on and subjec to change at anytime
[05:59:15] <mark_edward_> do you have a particular probkem?
[05:59:34] *** Quits: valenting (Thunderbir@C6866972.77435D89.FB866788.IP) (Ping timeout)
[05:59:58] *** Quits: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP) (Quit: tikue_)
[06:01:04] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:01:06] <moot> ah, I like how it's shaping up, but I didn't notice at first that StdReader isn't yet implemented
[06:04:33] <engla> yes stdio is unimplemented
[06:05:24] *** Quits: Liothen (liothen@moz-788EBAD0.spkn.qwest.net) (Quit: Textual IRC Client: www.textualapp.com)
[06:11:02] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:14:43] *** Quits: indirect (indirect_m@moz-22FDA25B.hsd1.ca.comcast.net) (Ping timeout)
[06:18:22] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[06:18:58] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[06:19:39] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[06:21:48] *** Quits: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[06:25:10] *** Quits: SingingBoyo (singingboy@DA28FB90.A5D0D593.4F048BDC.IP) (Client exited)
[06:29:23] *** Quits: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca) (Quit: canhtak)
[06:34:58] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[06:36:51] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Ping timeout)
[06:37:22] *** Joins: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net)
[06:39:38] *** Quits: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de) (Ping timeout)
[06:41:02] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[06:41:05] *** Joins: jstoja (julienbord@C5477ED6.490653D0.7B75DA8D.IP)
[06:43:44] *** Joins: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de)
[06:43:55] *** Joins: valenting (Thunderbir@moz-E75529B3.euroweb.ro)
[06:47:39] *** Quits: mib_x14nfd (Mibbit@moz-EE907FB2.dhcp.insightbb.com) (Quit: http://www.mibbit.com ajax IRC Client)
[06:48:23] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[06:49:20] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:49:55] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[06:50:47] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[06:51:01] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[06:51:03] *** Joins: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se)
[06:51:36] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[06:52:26] *** Joins: aeqwa (aeqwa@moz-99CE9D38.dsl.tropolys.de)
[07:01:25] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[07:02:46] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:11:06] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[07:13:04] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[07:13:26] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[07:13:43] *** Joins: cdidd (cdidd@moz-B700FC65.broadband.corbina.ru)
[07:14:39] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:16:06] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[07:16:06] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Z7ZGMw
[07:16:06] <ghrust> 13rust/06auto 144fd061c 15Alex Crichton: Implement a web backend for rustdoc_ng...
[07:16:06] <ghrust> 13rust/06auto 14db78fdc 15bors: auto merge of #9374 : alexcrichton/rust/rustdoc-web, r=cmr...
[07:16:06] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[07:16:28] *** Quits: jstoja (julienbord@C5477ED6.490653D0.7B75DA8D.IP) (Ping timeout)
[07:17:55] *** Joins: indirect (indirect_m@moz-22FDA25B.hsd1.ca.comcast.net)
[07:19:01] *** Joins: jstoja (julienbord@E270DEB4.423A6D82.21BDDF43.IP)
[07:22:51] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[07:24:20] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[07:25:56] *** Quits: jstoja (julienbord@E270DEB4.423A6D82.21BDDF43.IP) (Ping timeout)
[07:27:37] *** Quits: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: anri)
[07:27:47] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[07:28:38] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[07:28:55] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[07:31:16] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:33:10] *** Quits: zeuxcg (zeuxcg@moz-80D1F912.hsd1.ca.comcast.net) (Ping timeout)
[07:40:38] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[07:45:10] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[07:53:56] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[07:55:14] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[07:55:18] *** Joins: butique (Mibbit@5F50781C.CFE63DF8.8FB52CB8.IP)
[07:59:55] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[08:03:24] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[08:09:13] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[08:09:31] *** Joins: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl)
[08:14:28] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:14:31] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[08:16:58] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:17:21] *** Joins: wakandan (Mibbit@5B9B91CA.8FF05F7.4605F140.IP)
[08:17:59] *** Joins: Palmik (palmik@moz-11EA685D.pks.muni.cz)
[08:20:35] *** Quits: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca) (Ping timeout)
[08:21:04] *** Quits: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[08:21:38] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[08:21:40] *** Joins: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca)
[08:22:22] *** Quits: butique (Mibbit@5F50781C.CFE63DF8.8FB52CB8.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:24:27] *** Joins: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca)
[08:29:04] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[08:30:22] <mindcat> rusti: "very \"quiet\" now."
[08:30:41] <mindcat> hey! where is my rusti?
[08:30:43] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[08:31:02] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[08:31:02] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/Z7ZGMw
[08:31:02] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[08:31:26] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[08:32:06] <Peng> Even quieter than you thought. :P
[08:32:31] * mindcat :P
[08:32:38] *** Joins: jstoja (julienbord@E270DEB4.423A6D82.21BDDF43.IP)
[08:33:38] * mindcat updating himself rust version
[08:36:01] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[08:36:01] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Gbxr9Q
[08:36:01] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[08:36:02] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[08:36:02] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/J4x6Zg
[08:36:02] <ghrust> 13rust/06auto 14807725b 15Daniel Micay: util: remove unused `with` function
[08:36:02] <ghrust> 13rust/06auto 1455f528f 15bors: auto merge of #9354 : thestinger/rust/cleanup, r=alexcrichton...
[08:36:02] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[08:45:40] *** Quits: jstoja (julienbord@E270DEB4.423A6D82.21BDDF43.IP) (Ping timeout)
[08:46:52] *** Joins: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP)
[08:49:56] *** Joins: jstoja (julienbord@E270DEB4.423A6D82.21BDDF43.IP)
[08:52:46] <Palmik> Is there any special treatment of macros as far as "use" and "pub" goes?
[08:53:25] <Eridius> Palmik: macros currently aren't visible outside their module
[08:54:30] <Palmik> I thouht so, but was wondering whether I was doing something wrong.
[08:54:42] *** Joins: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP)
[08:54:56] *** Joins: TheDust (Stijn@moz-8C2076C2.upc-d.chello.nl)
[08:55:15] <Eridius> rusti: match (0,0 { (a,a) => true, _ => false }
[08:55:21] <Eridius> rusti: match (0,0) { (a,a) => true, _ => false }
[08:55:28] <Eridius> rusti where are you!
[08:55:54] <MrOrdinaire> Eridius: rusti is currently down because of missing libtinfo.so.5 dependency
[08:55:56] <Palmik> So how do the inbuilt macros work? Those that can be used by the users (like fmt! (in the past)).
[08:56:03] <Eridius> :(
[08:56:07] <Eridius> Palmik: they're in libsyntax
[08:56:14] <MrOrdinaire> Eridius: indeed :(
[08:56:18] <Eridius> Palmik: effectively, the compiler pretends that they're defined at the top of your crate
[08:56:28] <Palmik> I see, thanks. :)
[09:00:20] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[09:01:27] *** Quits: valenting (Thunderbir@moz-E75529B3.euroweb.ro) (Ping timeout)
[09:02:35] *** Joins: Liothen (liothen@moz-788EBAD0.spkn.qwest.net)
[09:10:43] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[09:11:27] <wakandan> I'm reading this piece of code
[09:11:38] <wakandan> struct Point {x: float, y: float} fn get_x_sh(p: @Point) -> &float {     &p.x // Error reported here }
[09:11:42] <Palmik> By the way, the fact that "mod" has to be placed _after_ "use" seems a bit awkward (add to it the fact that "extern mod" has to be _before_ "use")
[09:11:58] <wakandan> can't understand the explanation in the tutorial T_T
[09:12:02] <wakandan> can someone help?
[09:17:14] *** Quits: wakandan (Mibbit@5B9B91CA.8FF05F7.4605F140.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:21:07] *** Joins: wakandan (Mibbit@5B9B91CA.8FF05F7.4605F140.IP)
[09:21:28] *** Quits: max (maxime@moz-478B7011.fr) (Ping timeout)
[09:24:27] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[09:25:08] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[09:25:54] *** Joins: max (maxime@moz-478B7011.fr)
[09:27:35] <kimundi> wakandan: For that code snippet?
[09:29:32] *** Joins: nkoep (nik@moz-CDB1E2E3.pool.mediaways.net)
[09:31:18] <wakandan> yeah 
[09:31:33] <wakandan> can you see the code snippet just now?
[09:31:36] <wakandan> I just logged out
[09:31:40] <kimundi> sure
[09:31:47] <wakandan> struct Point {x: float, y: float} fn get_x_sh(p: @Point) -> &float {     &p.x // Error reported here }
[09:32:13] <wakandan> kimundi: "The presence of this expression implies that the compiler must guarantee that, so long as the resulting pointer is valid, the managed box will not be reclaimed by the garbage collector"
[09:32:26] <kimundi> wakandan: The error there is because you're trying to return a pointer to something that the compiler can not ensure will be alive after the function returns
[09:32:30] <wakandan> kimundi: I can understand this, thanks to your explanation yesterday
[09:32:45] <wakandan> kimundi: "But recall that get_x_sh() also promised to return a pointer that was valid for as long as the caller wanted it to be"
[09:32:52] <wakandan> kimundi: but this I can't understand
[09:32:56] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[09:33:24] *** Joins: mib_1ekeyj (Mibbit@3C9EB333.129138DC.F58D6954.IP)
[09:34:27] *** Parts: mib_1ekeyj (Mibbit@3C9EB333.129138DC.F58D6954.IP) ()
[09:34:31] <kimundi> okay, so basically 'fn foo() -> &something' is almost _always_ wrong. Functions that return a & can only work if they are passed an something with the appropiate lifetime to begin with: fn foo<'a>(x: &'a T) -> &'a U
[09:35:01] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[09:35:21] <kimundi> The only case where just returning an & is legal is if it's a &'static thing, which means it lifes as long as the process.
[09:36:03] <kimundi> Sadly, we currently allow to just write an return value of &T. Should really mark it always as an error if its not using an explicit lifetime
[09:36:24] <kimundi> So, the actual explanation why that snipet doesn't work:
[09:39:02] <kimundi> you pass in an @Point by value. While the function runs, the @Point will not go away because the function body keeps it alive with the @ it has to it. But once the function returns, it can no longer guarantee that the @Point still exists: If the @Point you passed in was the only @ to the Point, then it might be gone after the function returns, because nothing holds an @ to it anymore 
[09:40:00] <wakandan> kimundi: hmm...
[09:40:16] <kimundi> To write that function correctly, you can do something like this: fn get_x_sh<'a>(p: &'a Point) -> &'a float { &p.x }
[09:40:50] <MrOrdinaire> I'm passing a sendable variable to a ~fn within a ~fn. is there any way to avoid the second clone? http://mibpaste.com/DY4XkV 
[09:40:57] <kimundi> This is a lifetime annotated function. you can think of it as being an generic function that instead of an type parameter, is generic over a certain lifetime
[09:41:34] <kimundi> It basically reads as "If I'm passed an &Point that is alive for 'a, return an &float that is alive for 'a"
[09:41:58] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[09:43:21] <kimundi> And then, if the user calls get_x_sh(), he gets an reference to the float inside the &Point he passed. As long as he makes sure that the original &Point doesn't cease to exist, he can use the &float
[09:43:53] <wakandan> oh ok 
[09:44:46] <kimundi> MrOrdinaire: try moving the 'let c = chan.clone()' into the task body, and then remove the clone() part of it
[09:44:58] *** Quits: leonvv (leonvv@moz-7D83A5F1.ip.telfort.nl) (Client exited)
[09:45:11] <kimundi> do spawn { let c = chan; c.send(...) }
[09:46:04] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.1)
[09:46:30] <MrOrdinaire> kimundi: this is a bit counter-intuitive... thanks a bunch :D
[09:46:42] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[09:47:02] <MrOrdinaire> kimundi: I'll try it when it's done compiling.
[09:47:55] <kimundi> MrOrdinaire: Though thinking about it, it should be able to just move the original chan into the closure... hm...
[09:48:18] <kimundi> (that is, without the need to explicitly assign it to a local variable there)
[09:50:25] *** Quits: Ralith (ralith@moz-36466B9F.customer.broadstripe.net) (Ping timeout)
[09:50:30] <MrOrdinaire> kimundi: I don't quite follow. could you show me the code?
[09:51:03] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[09:51:03] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/J4x6Zg
[09:51:03] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[09:51:26] <kimundi> MrOrdinaire: Hm, give me a few minutes
[09:53:52] <MrOrdinaire> kimundi: It doesn't work: error: cannot move out of captured outer variable in a heap closure
[09:54:41] *** Joins: Ralith (ralith@moz-36466B9F.customer.broadstripe.net)
[09:55:50] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[09:56:02] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[09:56:02] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/ew5Lfw
[09:56:02] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[09:56:03] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[09:56:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/YjFaRw
[09:56:03] <ghrust> 13rust/06auto 1476a5391 15Huon Wilson: Uncomment a test. Fixes #4449.
[09:56:03] <ghrust> 13rust/06auto 14b094cf4 15bors: auto merge of #9360 : huonw/rust/4449, r=pnkfelix...
[09:56:03] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[09:56:56] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[09:57:31] <kimundi> MrOrdinaire: Could you paste more context around that code snippet?
[09:58:17] <kimundi> because this works: https://gist.github.com/Kimundi/6649052
[10:00:05] <tikue> MrOrdinaire: use spawn_with instead of spawn
[10:00:17] <tikue> MrOrdinaire: do spawn_with(chan) |chan| { ... }
[10:00:30] <tikue> you need to import spawn with -- use std::task::spawn_with
[10:00:54] *** Joins: vodik (simon@moz-CBE4BB13.cable.teksavvy.com)
[10:00:55] <kimundi> That doesn't seem to be neccessary though? I mean, that snippet of me works without that.
[10:01:12] <tikue> kimundi: sorry i didn't see the closure, but if he's trying to move the chan into a function call inside a task, it'd need that
[10:01:17] <tikue> s/closure/context
[10:03:44] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[10:03:56] <wakandan> I am trying out the code snippet in the front page 
[10:04:00] <wakandan> but it doesn't work T_T
[10:04:12] <wakandan> fn main() {     let nums = [0, 1, 2, 3];     let noms = ["Tim", "Eston", "Aaron", "Ben"];      let mut evens = nums.iter().filter(|&x| x % 2 == 0);      for evens.advance |&num| {         do spawn {             let msg = fmt!("%s says hello from a lightweight thread!",                            noms[num]);             println(msg);         }     } }
[10:04:17] <kimundi> that can happen xD
[10:04:28] <wakandan> the error is in "for evens.advance..."
[10:04:32] <wakandan> in the location of "."
[10:04:33] <kimundi> the snippet is for 0.7
[10:04:37] <wakandan> T_T
[10:04:54] <wakandan> what should I change it to?
[10:04:58] <kimundi> for master, you have to change the for loop syntax to the new one
[10:05:28] <kimundi> "for evens.advance |&num|" -> "for &num in evens"
[10:05:43] <wakandan> and then a closure?
[10:05:53] <kimundi> no, just literally replace that part
[10:06:02] <kimundi> new for odesn't use closures
[10:06:37] <MrOrdinaire> wakandan: there are a number of errors in that code. The correct code is at https://gist.github.com/mrordinaire/6649103
[10:07:03] *** Quits: jstoja (julienbord@E270DEB4.423A6D82.21BDDF43.IP) (Ping timeout)
[10:07:06] *** Joins: valenting (Thunderbir@C6866972.77435D89.FB866788.IP)
[10:07:08] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[10:07:08] *** ChanServ sets mode: +o pnkfelix
[10:07:56] <MrOrdinaire> kimundi, tikue: thanks a bunch
[10:08:20] <wakandan> why in "for" and "filter" we have to use &variable?
[10:08:27] <tikue> wakandan: i might have an updated version of that code lying around
[10:08:33] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Ping timeout)
[10:08:42] <kimundi> wakandan: That is a pattern
[10:08:50] <tikue> wakandan: because iter() yields borrowed pointers, and it's pattern matching away the pointer
[10:09:06] <kimundi> let &x = &foo(); is the same as let x = *(&foo());
[10:09:14] <kimundi> (let also uses patterns)
[10:09:25] <tikue> incidentally i was there when the most recent homepage code was written, so i got brson to use me and the other interns' names xD
[10:09:50] <wakandan> |&x| x % 2 == 0
[10:09:57] <wakandan> can I write *x then?
[10:10:04] <kimundi> if you remove the & yes
[10:10:21] <wakandan> hmm let me get this clear
[10:10:38] <wakandan> &x is a declaration to a borrowed pointer right?
[10:10:48] <tikue> wakandan: it's a pattern
[10:10:50] <kimundi> its a pattern match
[10:10:55] <wakandan> oh T_T
[10:11:00] <benh> it's the opposite really
[10:11:04] <benh> the for loop gives you a borrowed pointer
[10:11:10] <tikue> wakandan: it's destructuring the object via pattern matching
[10:11:13] <benh> and by matching it against &x you get the pointee out
[10:11:28] <kimundi>   let &x = &foo(); 
[10:11:34] <kimundi> =  let x = *(&foo());
[10:11:51] <wakandan> aaahhh
[10:11:56] <tikue> wakandan: you can also do stuff like ```struct Foo { a: int, b: ~str } let Foo { a, b } = Foo { a: 1, b: ~"wakandan" };
[10:12:32] <kimundi> let (a, _, b) = something_returnin_a_three_tuple();
[10:12:40] <kimundi> let (a, _, b) = something_returnin_a_three_tuple();
[10:12:43] <kimundi> whoops
[10:12:52] <wakandan> benh: the for loop gives you a borrowed pointer --> &x == &something ==> x=something
[10:12:55] <kimundi> anyway, it binds a and b to the contet of that tuple for example
[10:13:07] <tikue> wakandan: yep
[10:13:08] <wakandan> I'm feeling so stupid right now :)))
[10:13:19] <tikue> wakandan: if you haven't seen pattern matching before it takes a bit of getting used to
[10:13:24] <tikue> it's quite powerful
[10:13:41] <MrOrdinaire> tikue: still, it doesn't work: error: cannot move out of captured outer variable in a heap closure
[10:13:49] <kimundi> wakandan: Except it's not a property of the for loop. vector.iter() gives you an iterator over &T, and filter() keeps that type the same
[10:13:52] <tikue> MrOrdinaire: can you post your entire code?
[10:14:02] <tikue> using gist.github.com or something
[10:15:00] <wakandan> can I declare fn in fn?
[10:15:01] <MrOrdinaire> tikue: https://gist.github.com/mrordinaire/6649152
[10:15:08] <MrOrdinaire> wakandan: yes
[10:15:08] <tikue> wakandan: yes
[10:15:22] <wakandan> can I have variable outside main?
[10:15:27] <benh> please don't!
[10:15:37] <benh> well, in other functions, sure
[10:15:38] <kimundi> wakandan: Re function: Yes, but there are two different ways you could have meant that :)
[10:15:42] <wakandan> (i'm trying to write my *1st* proper rust program)
[10:15:57] <benh> but global variables go "static mut blah: type" and are unsafe to access in any wa
[10:15:58] <benh> y
[10:16:18] <wakandan> benh: I was thinking of a global variable
[10:16:23] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[10:16:23] <wakandan> probably a bad idea
[10:16:31] <kimundi> wakandan: You can declare normal static functions like "fn foo() { ... }", and you can create closures like "let f = |a, b| -> { }"
[10:16:41] <benh> They're only really there for interacting with C
[10:16:52] <kimundi> whoops, i meant "let f = |a, b| { ... };"
[10:18:11] <wakandan> how can I declare an empty array? 
[10:18:17] <tikue> MrOrdinaire: err that doesn't compile because of imports. what line is causing the error?
[10:18:24] <wakandan> like this? let mut stack: [int] = [];
[10:19:07] <MrOrdinaire> tikue: oh, sorry, this is in `src/libstd/rt/io/signal.rs`. I'm writing a wrapper for libuv's signal handling facility.
[10:19:22] *** Quits: Liothen (liothen@moz-788EBAD0.spkn.qwest.net) (Quit: Textual IRC Client: www.textualapp.com)
[10:19:29] <MrOrdinaire> tikue: I'm compiling it along with the compiler.
[10:19:34] <tikue> ah ok
[10:19:57] <tikue> yeah judging by the code that i'm looking at, you don't need spawn_with
[10:20:02] <tikue> the problem must be elsewhere
[10:20:53] <MrOrdinaire> tikue: the entire addition is here, if you want to check it out https://github.com/mozilla/rust/pull/9318
[10:20:58] <tikue> MrOrdinaire: nvm i see the problem
[10:21:37] <tikue> there are two closures there
[10:21:37] <MrOrdinaire> tikue: could you please tell me?
[10:21:43] <MrOrdinaire> yes
[10:21:44] <tikue> the first one captures chan
[10:21:51] <tikue> and then you move it into the inner task
[10:22:03] <tikue> you can do this without two clones though
[10:22:05] <kimundi> wakandan: Okay, arrays are a bit 'complicated' in rust ;)
[10:22:08] <tikue> using a cell is the easiest way
[10:22:35] <wakandan> kimundi: is this the one?
[10:22:37] <wakandan> kimundi: let mut stack: ~[int] = ~[];
[10:22:38] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[10:22:40] <pnkfelix> acrichto: ping
[10:22:44] <kimundi> wakandan: Our type system is designed in such a way that any pointer indirection is visible
[10:22:46] <MrOrdinaire> tikue: could you give me an example?
[10:22:51] <tikue> MrOrdinaire: you don't need spawn_with. instead replace the `let chan` line with `let chan = Cell::new(self.chan.clone());`
[10:22:57] <kimundi> wakandan: That one is correct. It'S not on the stack thogh
[10:23:10] <wakandan> kimundi: oh :|
[10:23:14] <kimundi> wakandan: basically, we don'T allow to have a bare [T]
[10:23:25] <wakandan> kimundi: reason?
[10:23:36] <kimundi> because that would mean "a number of T next to each other"
[10:23:46] <kimundi> where the number of T is unknow at compile time
[10:23:46] <tikue> then inside the inner spawn, do `let c = chan.take()` and use it. then do chan.put_back(c); when you're done
[10:23:54] <wakandan> kimundi: which could mean infinite storage?
[10:24:00] <kimundi> which means the compiler wouldn't know how much space to reserve
[10:24:03] <kimundi> yeah
[10:24:06] <wakandan> kimundi: right
[10:24:09] <MrOrdinaire> tikue: is put_back required?
[10:24:18] <kimundi> we have two ways to get around
[10:24:20] <tikue> MrOrdinaire: actually i wouldn't do what i just said, it'd be racey
[10:24:26] <kimundi> that*
[10:24:37] <kimundi> First one is a fiyed sized arrayy
[10:24:37] <tikue> MrOrdinaire: imo you should clone because otherwise you will have to block until the task puts back the channel
[10:24:38] <wakandan> kimundi: ...which declare an arary on the heap
[10:24:47] <wakandan> kimundi: right/
[10:24:51] <tikue> MrOrdinaire: you want to have multiple tasks sending stuff, so each task probably should have it's own channel anyway
[10:24:57] <tikue> imo cloning is your best bet
[10:25:00] <kimundi> [T, ..N] where N is any uint constant
[10:25:16] <kimundi> for every N that is a new type with exactly N elemnts
[10:25:19] <MrOrdinaire> tikue: but the thing is I've cloned it already
[10:25:29] <tikue> MrOrdinaire: right, but you're spawning a task and using the channel in it
[10:25:29] <MrOrdinaire> tikue: let chan = self.chan.clone();
[10:25:42] <wakandan> kimundi: yup, which is similar to the code in the front page
[10:25:42] <tikue> MrOrdinaire: but consider that if you called that code twice in succession, there might be two tasks trying to use chan
[10:25:53] <tikue> MrOrdinaire: it'd be a race
[10:25:56] <MrOrdinaire> tikue: oh
[10:26:00] <MrOrdinaire> tikue: I get it now
[10:26:03] <MrOrdinaire> tikue: thanks a bunch
[10:26:07] <kimundi> but you can'T change the size of it, and itS' currently very useless in gneric code because we can't express the as a type parameter
[10:26:07] <tikue> MrOrdinaire: no problem :)
[10:26:28] <tikue> MrOrdinaire:  you don't need the outer clone, I don't think
[10:26:29] <wakandan> kimundi: right
[10:26:34] <kimundi> The other option is to explicitly allocate a dynamic array: ~[T]
[10:26:37] <tikue> actually i might be wrong about that
[10:26:46] <tikue> yeah i can't test it but you probably will need both
[10:26:53] <kimundi> Or rather, vector how we call it.
[10:27:09] <wakandan> fn main() { 	let mut stack: ~[int] = ~[]; 	let mut index: int = 0; 	 	fn push(x: int) { 		stack[index] = x; 		index += 1; 	} }
[10:27:15] <wakandan> urrgh
[10:27:17] <kimundi> a ~[T] is a owned vector. It can change size and all.
[10:27:22] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[10:27:28] <wakandan> kimundi: yup
[10:27:48] <wakandan> ok so I'm trying to write a stack
[10:27:55] <wakandan> let mut stack: ~[int] = ~[]; 	let mut index: int = 0;
[10:28:05] <wakandan> in main I write a push function
[10:28:15] <MrOrdinaire> tikue: thanks for the explanation
[10:28:19] <wakandan> fn push(x: int) { stack[index] = x; index += 1; }
[10:28:26] <kimundi> wakandan: you can directly push to  the vector
[10:28:51] <wakandan> kimundi: oh I can?
[10:29:04] <wakandan> kimundi: let's try to create a stack from scratch for now then
[10:29:10] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[10:29:25] <wakandan> kimundi: the above code gives me this error
[10:29:27] <wakandan>  can't capture dynamic environment in a fn item; use the || { ... } closure form instead
[10:29:44] <wakandan> which seems to mean I can't access "stack" variable 
[10:30:07] <kimundi> (telephone...)
[10:30:48] <MrOrdinaire> tikue: is it true that callback executed by `extern "C" fn`s are executed in the scheduler context?
[10:31:18] <kimundi> wakandan: Okay, so
[10:31:35] <kimundi> let mut v: ~[uint] = ~[]; v.push(5);
[10:31:56] <kimundi> our owned vectors are basically already an stack
[10:32:10] <kimundi> O(1) insertion and removal at the end
[10:32:34] <wakandan> oh ok 
[10:32:48] <kimundi> wakandan: where are you using an closure?
[10:32:54] <wakandan> so basically my stack will be just an alias of vector's functions T_T
[10:33:00] <wakandan> kimundi:  no, not at all
[10:33:09] <wakandan> kimundi: above is all the code I've written
[10:33:18] <wakandan> stack.rs:5:2: 5:7 error: can't capture dynamic environment in a fn item; use the || { ... } closure form instead stack.rs:5 		stack[index] = x;            		^~~~~ stack.rs:5:2: 5:7 error: unresolved name `stack`. stack.rs:5 		stack[index] = x;            		^~~~~ stack.rs:5:8: 5:13 error: can't capture dynamic environment in a fn item; use the || { ... } closu
[10:33:26] <wakandan> is there a better way to show code?
[10:33:31] <wakandan> this seems bad
[10:33:31] <kimundi> ah, okay. AH that's what the error message meant, okay.
[10:33:40] <wakandan> http://mibpaste.com/j5VPjM 
[10:33:57] <wakandan> here's the error
[10:33:57] <kimundi> https://gist.github.com/
[10:34:05] <kimundi> wakandan: Okay, so
[10:34:05] <wakandan> http://mibpaste.com/q3Naam 
[10:34:14] <tikue> MrOrdinaire: I don't know
[10:34:28] <kimundi> wakandan: As I said earlier there are two way you could mean 'define a function inside a function'
[10:34:56] <tikue> MrOrdinaire: why do you spawn a task there anyway?
[10:35:08] <tikue> MrOrdinaire: channel sending is asynchronous, it wouldn't block
[10:35:18] <tikue> spawning a task will simply be extra work for no gain
[10:35:28] <kimundi> wakandan: If you define a function like 'fn foo() { ... }' then that's the same as a ordinary static function definition at the top level of your module. It's just only visible inside the function you've written it
[10:35:49] <kimundi> Those never capture any data from outside
[10:35:51] *** Joins: jstoja (julienbord@E270DEB4.423A6D82.21BDDF43.IP)
[10:35:57] <wakandan> oh!
[10:35:58] <tikue> kimundi: what about pub fn foo() { ... } inside a pub fn? can you then call outer_fn::inner_fn ?
[10:36:08] <wakandan> that explained it
[10:36:18] <wakandan> but then, there will be now sharing of variables?
[10:36:27] <MrOrdinaire> tikue: but in the code, it's required that channel be `send()`ing not in a sched_context
[10:36:30] <kimundi> For capturing data, which you would do in this case because you want to access the 'stack' variable, you need to use closures.
[10:36:36] <kimundi> tikue: I think that might even work
[10:36:37] <tikue> MrOrdinaire: ah! that explains it
[10:36:39] <MrOrdinaire> tikue: I don't know how to work around that
[10:36:43] <tikue> kimundi: : o
[10:36:49] <kimundi> tikue: Or not. Not sure really
[10:36:52] <tikue> MrOrdinaire: yeah neither do i, i haven't delved into that code at all
[10:36:58] <kimundi> tikue: It shouldn't work, imo0
[10:36:58] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[10:37:14] <tikue> kimundi: yeah functions shouldn't be used for scoping lol
[10:37:56] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[10:38:01] <kimundi> wakandan: So, what you can do is use a closure: let mut stack: ~[uint] = ~[]; let push = |e| { stack.push(e) }; push(e)
[10:38:22] <kimundi> tikue: No, they should be used for scoping. they just not be used as an module for the public api :P
[10:38:46] <tikue> kimundi: i've never used a function for scoping
[10:38:47] <kimundi> tikue: Nothing against defining an local function that you only need in this one function
[10:38:59] <tikue> kimundi: right but that's different
[10:39:07] <tikue> kimundi: sorry i didn't mean scoping :(
[10:39:11] <kimundi> okay :P
[10:39:17] <tikue> i meant whatcha call it
[10:39:23] <MrOrdinaire> tikue: I see. Thanks anyway.
[10:39:26] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[10:39:29] <wakandan> kimundi: ah ok it looks simple now 
[10:40:14] <wakandan> kimundi: what do you recommend for me to start writing some rust code with?
[10:40:36] <wakandan> kimundi: this stack example seems contrived, though it does introduce those nice concepts
[10:40:43] <kimundi> wakandan: Not that we also have different closure types. a &fn is a stack closure, and get's used by default like in that snippet of me. something like a ~fn get's used if you need to store the function somewhere and pass it around, for example for spawning a new task
[10:40:48] <kimundi> Note*
[10:41:26] <kimundi> wakandan: No idea what to write. :) I wish I had ideas for that
[10:42:16] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[10:42:39] <wakandan> kimundi: does rust have linked list yet?
[10:42:54] *** Joins: sinz (sinz@moz-36CA877B.adsl.highway.telekom.at)
[10:42:55] <MrOrdinaire> tikue: beside brson, is there anyone familiar with the internal of the rt?
[10:42:57] <kimundi> wakandan: There is an linked list in extra I think
[10:43:00] <sinz> hey guys
[10:43:11] <wakandan> kimundi: extra sounds good
[10:43:23] <wakandan> kimundi: probably I could try to code that
[10:43:27] <kimundi> wakandan: But you might just as well write a new one as a toy project :)
[10:43:28] *** sinz is now known as d3xter
[10:43:42] <wakandan> kimundi: yup I should try that
[10:44:11] <kimundi> wakandan: It's good for learning about enums, owned pointers and indirection, pattern matching, generic code etc
[10:44:48] <d3xter> i'm running current master and i got a function "changeInt(integer: &mut integer)", passing in a mutable owned pointer is working fine, but mutable managed pointer doesnt work
[10:45:19] <d3xter> "cannot borrow immutable dereference of @ pointer as mutable"
[10:45:22] <tikue> MrOrdinaire: ericr and toddaaro
[10:45:30] <tikue> MrOrdinaire: and bblum
[10:45:33] <tikue> at the least
[10:46:09] <MrOrdinaire> wakandan: after you're done with the basic architecturing, refer to http://static.rust-lang.org/doc/master/tutorial-container.html to make it extra awesome :D
[10:46:27] <MrOrdinaire> tikue: noted. Thanks a bunch!
[10:46:39] <kimundi> d3xter: let mut x = @foo(); is not a mutable manged pointer. A manged pointer starts it's own mutability and ownership chain, so you have to explicitly chooses your type between @ and @mut
[10:47:09] <kimundi> let x = @mut 5i; *x = 10;
[10:47:40] <kimundi> (This should work, I think. Never used manged pointers much, so I might be missing something there)
[10:47:51] <d3xter> kimundi: it works, thanks. but why do i have to do it with managed pointers and not with owned pointers?
[10:47:59] *** Quits: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:48:18] <kimundi> d3xter: because owned pointers are owned, they can inherit things like mutability form their owner
[10:48:50] <kimundi> d3xter: if a local variable is the owner, then a mutable local variable allows you to modify the the ~, and a immutable local variable prevents you from that
[10:49:54] <kimundi> let x = ~1; // x owns the ~int, and transitively through it the int;
[10:50:27] <kimundi> let x = @1; // x only ownes the @int, the int inside it is owned by the garbage collector
[10:51:34] <kimundi> On their basic level, are a ~T, @ and @mut T are just container for some data, with the semantic that they store the data on some heap.
[10:51:59] <kimundi> "a ~T, @T and @mut T"*
[10:52:50] <kimundi> they just have a lot of sugar to allow borring an &T and &mut T form them, or to dereference and copy/move out of them
[10:52:56] <kimundi> borrowing*
[10:53:05] <d3xter> kimundi: oh ok. now i get it
[10:53:28] *** Quits: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:53:54] <kimundi> great :)
[10:57:03] <d3xter> kimundi: with a "let @mut i = @5", i can change i, but not the value which it stores :)
[10:58:56] <kimundi> d3xter: right, except remove the first @ sigil :P
[10:59:22] <kimundi> let mut i = @5;
[10:59:51] <d3xter> kimundi: right :)
[11:00:03] <kimundi> :)
[11:00:33] <d3xter> let mut i : @int = @5 would be ok too ;)
[11:00:47] <d3xter> thats what i meant
[11:00:50] *** Joins: jviereck (Adium@moz-9FBBEEC6.dip0.t-ipconnect.de)
[11:01:41] <kimundi> correct
[11:01:53] *** Joins: dew (Instantbir@moz-D2FA52B6.static.stls.mo.charter.com)
[11:02:31] *** Quits: dew1 (Instantbir@moz-D2FA52B6.static.stls.mo.charter.com) (Ping timeout)
[11:02:47] <d3xter> its rather difficult with those different pointers when coming from java/c :)
[11:03:16] <tiffany> if you're coming from C then the multiple pointers should make sense
[11:03:26] <tiffany> I picked them up immediately
[11:03:27] <kimundi> Yeah. But once you understand them, you don't want to go back is my experience xD
[11:03:33] <tiffany> yeah
[11:03:54] <kimundi> java: everything has references to everything, hard to contain.
[11:04:03] <d3xter> kimundi, tiffany: hey, i mean i'm getting used to them and it feels nice, but that first it was difficult
[11:04:30] <d3xter> s/hey/yeah
[11:04:36] <kimundi> C: every pointer can be either a borrowed or an owned one, need to keep context of the code in mind.
[11:04:38] <d3xter> s/that/at/
[11:05:20] <kimundi> d3xter: It's certainly something you need to get used to at first ;)
[11:05:36] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[11:06:07] <kimundi> also, c/java: The damn null.
[11:06:19] *** Quits: Palmik (palmik@moz-11EA685D.pks.muni.cz) (Ping timeout)
[11:06:33] <d3xter> i think both java and c have their advantages,  but what i was looking for was a language like scala without a vm
[11:06:54] <d3xter> wow, my english is terrible at the moment xD
[11:06:55] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[11:07:06] <kimundi> d3xter: Oh, sure, not trying to bash them in general. 
[11:07:08] <d3xter> and there comes rust
[11:07:26] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[11:07:48] <d3xter> the only thing i'm missing now is more OOP and higher order functions ;)
[11:08:40] <mcpherrin> What higher order stuff do you miss?
[11:08:45] <kimundi> d3xter: Well, we are so OOP that we don't even need something like an 'Object', and higher order functions we have :)
[11:09:29] <kimundi> struct Foo; impl Foo { fn bar(&self) {} }; let x = Foo; x.bar() // OOP!
[11:09:54] <benh> Higher order functions just aren't the same with the borrow checker getting in the way all the time :(
[11:10:06] <mcpherrin> kimundi: As an Eiffel programmer, I'm offended by your java-notions of what OOP is!
[11:10:27] <kimundi> mcpherrin: :p
[11:10:39] * mcpherrin doesn't actually program in Eiffel.  
[11:10:48] <kimundi> D:
[11:10:58] * mcpherrin programs in rust!
[11:10:58] <kimundi> I've been deceived!
[11:12:01] *** Joins: Ferreus (daniel@moz-8FF953D.dyn.telefonica.de)
[11:13:04] <mcpherrin> Well except one time I implemented prolog in Eiffel...
[11:13:04] *** Quits: jviereck (Adium@moz-9FBBEEC6.dip0.t-ipconnect.de) (Quit: Leaving.)
[11:13:11] <kimundi> haha
[11:13:17] <mcpherrin> But that's just because I enjoy doing odd things.
[11:13:33] <myname> i implemented brainfuck in latex
[11:13:44] <kimundi> Oo
[11:13:55] <mcpherrin> myname: sweet, I love programming in typesetting languages
[11:14:00] <myname> not nearly as interesting as implementing prolog, i think
[11:14:09] <mcpherrin> I have a game of life in postscript somewhere
[11:14:13] <mcpherrin> each state is a new page :P
[11:14:13] <myname> :D
[11:14:34] * kimundi is reminded of that postscript script that causes an printer to calculate the mandelbrot set
[11:14:41] *** Quits: moot (Mibbit@moz-5256162B.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[11:15:06] <mcpherrin> kimundi: I had a friend doing topology who wrote all his graphs in postscript; he had trouble finding printers with enough RAM to print his thesis
[11:15:30] <kimundi> haha
[11:15:32] <mcpherrin> 3d computer graphics in postscript: not what printers were meant for
[11:16:00] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[11:16:00] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/YjFaRw
[11:16:00] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[11:16:42] <myname> arrays in latex are a tricky thing
[11:17:27] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[11:17:33] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Quit: Leaving)
[11:17:41] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[11:18:01] <mcpherrin> just found a blog post on turing machines in excel: http://www.felienne.com/?p=2974
[11:18:20] <d3xter> is it possible in rust to provide a default implementation of a trait-function?
[11:18:45] <mcpherrin> Default methods!  They even work now!
[11:19:43] *** Quits: olsonjeffery (pf@B8927AE1.CFEFA148.239A1A9E.IP) (Ping timeout)
[11:19:54] *** Joins: olsonjeffery (pf@B8927AE1.CFEFA148.239A1A9E.IP)
[11:20:08] <kimundi> trait Foo { fn bar(&self) { println("hello!"); } }; impl Foo for uint{}; 5u.bar() // hello!
[11:20:59] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[11:20:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/QRoYUA
[11:20:59] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[11:20:59] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[11:21:00] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/clxGvw
[11:21:00] <ghrust> 13rust/06auto 14598050b 15Huon Wilson: std: move rand.rs to rand/mod.rs.
[11:21:00] <ghrust> 13rust/06auto 14fcafb1e 15Huon Wilson: std: merge rand::{Rng,RngUtil} with default methods....
[11:21:00] <ghrust> 13rust/06auto 14a1f830f 15Huon Wilson: Remove the C(++) ISAAC Rng from the old rt.
[11:21:02] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[11:21:02] *** Quits: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP) (Ping timeout)
[11:23:19] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Quit: work)
[11:24:52] *** Joins: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP)
[11:27:00] *** Joins: miza (miza@moz-908EA8DE.home.otenet.gr)
[11:28:01] <d3xter> trait X: Y means that X contains all functions of Y too, right?
[11:28:31] <kimundi> Eeeh, kinda
[11:28:41] <kimundi> It'S trait inheritance
[11:29:03] <kimundi> But it's more "make sure everything that implemnts X implemnts Y too"
[11:29:24] <d3xter> kimundi: so i have to write 2 different impl-blocks for X and Y?
[11:29:39] <d3xter> for a single struct, when i want to implement X
[11:29:42] <kimundi> struct Foo; trait Bar: Clone {} impl Bar for Foo {} // Foo needs still an impl for Clone
[11:29:49] <kimundi> d3xter: yeah
[11:30:17] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[11:30:18] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[11:31:00] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[11:31:00] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/yu99oA
[11:31:00] <ghrust> 13rust/06auto 14a7f7d6c 15Jeff Olson: std: cleanup file::io rustdoc_ng output
[11:31:00] <ghrust> 13rust/06auto 14a603d7a 15bors: auto merge of #9366 : olsonjeffery/rust/file_io_doc_cleanup, r=alexcrichton...
[11:31:00] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[11:31:02] <d3xter> kimundi: ok, so its possible to do most the OOP stuff with more work ;)
[11:31:16] <d3xter> s/most the/most of the/
[11:31:32] <kimundi> yeah, you just don't get data inhertiance, need to encode that as delegation to struct fields or so
[11:32:15] *** Joins: senokay__ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[11:32:17] *** Quits: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[11:33:32] <kimundi> Ideally we have something like this in the future: #[delegate(Foo, to(x))] struct Bar { x: T }; // Bar implements Foo and delegates it to self.x
[11:34:17] <kimundi> And make it possible to write custom #[deriving] modes
[11:34:46] <kimundi> Like the currently possible  #[deriving(Clone)] struct Foo;
[11:34:55] <kimundi> which implements Clone for you
[11:35:56] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[11:36:01] *** Joins: squiddy (squiddy@moz-889DF263.adsl.alicedsl.de)
[11:36:17] *** Quits: senokay__ (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[11:36:27] *** Quits: squiddy (squiddy@moz-889DF263.adsl.alicedsl.de) (Quit: Leaving)
[11:36:34] <d3xter> that would help a lot
[11:37:36] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[11:43:22] *** Joins: canhtak (jeremy@moz-8E705AE1.wl.t.ulaval.ca)
[11:43:27] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[11:45:47] *** Quits: jstoja (julienbord@E270DEB4.423A6D82.21BDDF43.IP) (Ping timeout)
[11:45:57] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[11:45:58] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a603d7a to 14b094cf4: 02http://git.io/N3iJvQ
[11:45:58] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[11:45:58] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[11:45:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/PC23dw
[11:45:59] <ghrust> 13rust/06auto 14eb519b9 15Grigoriy: Fix example in std::Option
[11:45:59] <ghrust> 13rust/06auto 14030fffa 15bors: auto merge of #9368 : StrLght/rust/master, r=thestinger
[11:45:59] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[11:48:20] *** Quits: d3xter (sinz@moz-36CA877B.adsl.highway.telekom.at) (Quit: WeeChat 0.4.1)
[11:58:33] *** Joins: doomlord__ (servitor@moz-2BA2D1DA.range86-184.btcentralplus.com)
[11:59:22] *** Quits: doomlord__ (servitor@moz-2BA2D1DA.range86-184.btcentralplus.com) (Quit: Leaving)
[12:01:12] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[12:01:23] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:03:32] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[12:09:09] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[12:13:22] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[12:16:13] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[12:17:07] *** Joins: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de)
[12:17:36] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[12:20:21] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:20:41] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[12:21:10] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:21:28] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:24:51] <ChrisMorgan> Running Rust tests yields uncoloured output.
[12:25:00] <ChrisMorgan> Running Rust tests sequentially yields coloured output.
[12:26:18] <kimundi> ChrisMorgan: The color output got disabled in multithreading situations to prevent corrupted terminal control code that might color a bunch of unrelated text
[12:26:20] * ChrisMorgan wonders whether to be concerned or pleased that he now remembers the gdb "thread apply all bt" incantation
[12:26:35] <ChrisMorgan> kimundi: so long as it's all being written at once, what can possibly go wrong?
[12:26:47] <kimundi> ChrisMorgan: I'd also like to have a solution where you can still have color output in multithreading situations :)
[12:27:11] <kimundi> ChrisMorgan: Yeah, that's I've been wondering too
[12:27:36] <ChrisMorgan> I can't see what would go wrong. You're basically just writing "test foo... ^[[4mok^[[0m\n". So long as you do that in one go, you're perfectly safe, to the best of my knowledge and experience.
[12:27:53] <kimundi> ChrisMorgan: If everytest sends a message to the testrunner on completion, and the testrunner writes them out sequentially, then there really shouldn't be a problem with that
[12:28:00] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[12:28:21] <ChrisMorgan> However, that wouldn't necessarily be the case on Windows with its warped "make an API call instead" approachâ€”is colouring supported for Windows?
[12:28:29] <kimundi> And test that write their own color output corrupt the output anyway :P
[12:28:42] <kimundi> ChrisMorgan: Dunno
[12:28:53] <kimundi> Can allway disbale it per platform if necessary
[12:29:48] <kimundi> I think what we need is a way to 1) redirect stdin/stout/std err for tasks 2) make the testrunner coordinate all stdout/stderr outputs
[12:31:31] <ChrisMorgan> And now for something completely different: would it be possible to have arm-unknown-linux-gnueabi builds of rustc itself? (My cross compilation attempts a week or two ago failed.)
[12:32:18] <kimundi> Well, in theory you just need to have an arm box with more than 2GB ram, and a arm snapshot i think.
[12:32:36] <ChrisMorgan> Got an ARM snapshot handy?
[12:33:01] <kimundi> cross compile for arm and use that :P - That needs to work of course
[12:33:44] <ChrisMorgan> Cross compiling with rustc is said to work fine, but as for cross compiling rustc itself, which is what I want... I failed, though I'll probably try again in a couple of weeks.
[12:34:50] <kimundi> There might still bits and pieces in rustc that react allergic to being compiled on the wrong platform :P And it needs to handle stuff like calling the right linker etc
[12:35:34] <ChrisMorgan> I just want to be able to develop rust-http *properly* on my Asus Eee Pad Transformer TF101 (Android tablet with a real keyboard). I'm getting bored of making changes while on the road and then pushing to my laptop and fixing up all the mistakes I've made.
[12:36:02] <kimundi> If you can get it to work, that would be awesome!
[12:36:37] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[12:36:39] <kimundi> rust would need arm test builder though for making sure the support for that doesn't bitrot
[12:39:12] *** Quits: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net) (Ping timeout)
[12:40:43] <ChrisMorgan> When I say Android tablet, I'm actually running Ubuntu inside it, on a loop disk, though still with the Android kernel.
[12:41:27] <cyndis> I had real ubuntu/kde on my tf201 at one point. It was quite nice..
[12:42:32] <ChrisMorgan> I'm looking forward to Ubuntu Touch. But for the moment, I've figured it's a little safer to stay with Android, and 16GB isn't much to play with for dual booting. Having it in a terminal makes it close enough to a sane environment that I can use it usefully.
[12:44:41] *** Joins: io2 (io2@moz-A6202C16.home.otenet.gr)
[12:45:11] *** Joins: Palmik (palmik@moz-11EA685D.pks.muni.cz)
[12:45:16] <ChrisMorgan> It is rather slow, though. And with only 1GB of RAM I'm hardly going to be compiling rustc any time soon.
[12:46:29] <cyndis> the 1GB of RAM was the biggest bottleneck for me when having a normal linux on it
[12:47:53] <cyndis> there will be ARM devices with 4GB RAM soon though which will be good for build purposes
[12:49:32] <ChrisMorgan> When the TF701 (Transformer Infinity) came out, I simply *expected* it to have at least 2GB of RAM. And when it turned out to only have 1GB... in spite of things like a significantly higher screen resolution so that screen buffers use more memory... madness. Simply madness.
[12:50:50] <cyndis> is that the one with Tegra4?
[12:51:26] <ChrisMorgan> Think so.
[12:51:37] <cyndis> hmm, yeah
[12:52:11] *** Quits: Ferreus (daniel@moz-8FF953D.dyn.telefonica.de) (Quit: WeeChat 0.4.1)
[12:52:34] <cyndis> I guess at the moment the SHIELD might be a pretty good ARM testing machine; pretty good CPU and 2GB of RAM :p
[12:52:36] <ChrisMorgan> The storage on my TF101 is also *really* slow. Sequential write throughput peaks at under 3.5MB/s. Thus copying a 1GB loop image (for backup, when I realised I needed to extend it to 2GB) took just under five minutes.
[12:53:31] *** Joins: Ferreus (daniel@moz-8FF953D.dyn.telefonica.de)
[12:53:42] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[12:54:29] <cyndis> although I don't know the other companies latest offerings that well - I worked at one of NVIDIA's ARM kernel teams this summer so I'm a bit biased :P
[12:54:47] * ChrisMorgan hopes Rust can some day be compiled onto bare metal/Xen, skipping the OS altogether, Ã  la Erlang on Xen. Who couldn't use a Rust web server that could spawn on Xen entirely in a couple of hundred milliseconds?
[12:55:23] <cyndis> do you mean a runtime with bare metal support?
[12:55:39] <ChrisMorgan> It'd need to be thus.
[12:55:59] <cyndis> that'd be essentially a lightweight kernel just for rust.. sounds pretty nice
[12:56:10] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[12:56:16] <ChrisMorgan> Erlang on Xen's demos are very impressive.
[12:56:24] <cyndis> not that difficult either
[12:56:45] <ChrisMorgan> It'd be useful for more than just web servers, too. Web servers are just the main thing that I'd care about it for.
[12:57:11] <ChrisMorgan> A real dilemma: when filing an issue, should I spell it with my native "colour" or the en_US "color"?
[12:57:19] <cyndis> I guess you'd need to write a network card driver for whatever Xen emulates
[12:57:32] <cyndis> :)
[12:57:56] <cyndis> If I was in your position, I'd write "colour"
[12:58:00] <ChrisMorgan> 'Spect so.
[12:58:28] <kimundi> ChrisMorgan: I don't think anyone actually would care either way :P
[12:58:46] * ChrisMorgan doesn't know how good/bad GitHub's search is in that area
[12:59:05] <kimundi> ... okay, maybe spell it as color then :P
[12:59:44] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[13:00:03] <engla> ChrisMorgan: I hope it doesn't matter
[13:00:22] <myname> ChrisMorgan, cyndis: https://github.com/charliesome/rustboot
[13:00:26] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[13:00:56] <cyndis> myname: yep
[13:00:58] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[13:00:58] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/PC23dw
[13:00:58] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[13:01:03] <ChrisMorgan> I really don't like GitHub's issue management. It's a Bad Thingâ„¢. Maybe it's even bad enough to warrant Â® instead of â„¢.
[13:01:08] <cyndis> i was thinking of making one myself but i was too slow :)
[13:01:28] <ChrisMorgan> Most important bad thing: it ain't distributed, it's locked in instead.
[13:01:31] <myname> it doesn't do anything special
[13:01:43] <cyndis> yeah, but nice proof of concept
[13:02:13] <cyndis> a tiny kernel-mode runtime shouldn't require much either
[13:02:30] <ChrisMorgan> myname: I recall seeing that when you first wrote it. One of my thoughts at the time was "that ain't bright red!"
[13:05:57] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[13:05:57] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/qAiTRA
[13:05:57] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[13:05:57] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[13:05:58] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/iMxc4g
[13:05:58] <ghrust> 13rust/06auto 147cb0c63 15SÃ©bastien Crozet: std: add missing #[inline] annotation to the f64 neg method....
[13:05:58] <ghrust> 13rust/06auto 14650100d 15bors: auto merge of #9369 : sebcrozet/rust/f64_inline, r=thestinger...
[13:05:58] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[13:10:36] * ChrisMorgan wishes changes to issues were also reported by ghrust
[13:11:23] *** Quits: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de) (Quit: Leaving.)
[13:14:41] *** Joins: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de)
[13:16:06] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[13:16:11] *** Quits: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de) (Quit: Leaving.)
[13:16:46] *** Joins: drek (Mibbit@73C9C749.89674497.520CDC98.IP)
[13:17:07] <drek> hi! how do i view the output of rtdebug! ?
[13:20:18] *** Joins: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de)
[13:21:35] *** Quits: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de) (Quit: Leaving.)
[13:23:23] *** Quits: nkoep (nik@moz-CDB1E2E3.pool.mediaways.net) (Ping timeout)
[13:24:52] <ChrisMorgan> drek: compile with --cfg debug-info
[13:25:04] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[13:25:34] <ChrisMorgan> And then run with something like RUST_LOG=std=1, depending on the crate you wish to get debug info on.
[13:25:53] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[13:25:54] <ChrisMorgan> Hang on, --cfg debug, not --cfg debug-info. (Or is it? I'm getting myself confused.)
[13:26:01] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[13:26:19] <ChrisMorgan> debug-info gets you debug symbols and info and whatnot, can't remember the precise deal about debug! et al.
[13:26:21] <drek> ChrisMorgan: oh! i just wanted to print a single error value. do i have to rebuild rustc for this? or can i use debug! instead (i configured it with --enable-debug)
[13:26:28] <ChrisMorgan> And -Z rather than --cfg. *sigh*
[13:27:19] <ChrisMorgan> drek: the code will need to be compiled with that done; if you're wanting to debug stuff in libstd, I believe that will mean recompiling it with ./configure --enable-debug. Not certain about rtdebug! precisely, though.
[13:28:22] <drek> ChrisMorgan: i'm trying to log something in libstd. is it alright if i just use debug! instead of rtdebug!. if not, how will i pass it to rustc when building std using make check-tage1-std?
[13:28:27] <klutzy> for simple test, you can build rtdebug-enabled libstd-###.so by `rustc /path/to/std.rs --cfg rtdebug`
[13:28:42] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[13:28:43] <klutzy> but you have to build your test program with the lib, which is quite complicated
[13:29:04] * ChrisMorgan can't remember all the details of rtdebug :-(
[13:29:26] <klutzy> or you can build rust from scratch by `make SOME_FLAG="--cfg rtdebug"`, though I don't remember what was SOME_FLAG
[13:29:37] <klutzy> since I did it while drinking beer :p
[13:30:27] <klutzy> maybe RUST_ARGS or something..
[13:32:03] *** Joins: GeneralMaximus (ankur@D078668D.36DB1090.BE90E62C.IP)
[13:34:43] *** Parts: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (bye)
[13:36:24] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.1)
[13:37:59] *** Joins: nkoep (nik@moz-D3D342AE.vpn.rwth-aachen.de)
[13:39:05] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[13:41:38] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[13:42:23] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[13:43:50] <engla> kimundi: your CharRange issue, maybe the char_range_at methods could be replaced by methods that work like  fn slice_shift_char(&self) -> (char, &'self str)
[13:44:05] <engla> not sure
[13:45:05] <kimundi> hmm
[13:45:10] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:45:15] <kimundi> that's an idea
[13:45:34] *** Quits: drek (Mibbit@73C9C749.89674497.520CDC98.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:47:49] *** Joins: drek (Mibbit@45F48698.55C26E4C.520CDC98.IP)
[13:49:25] <drek> klutzy: is it RUSTFLAGS ? and can i pass it along with to make check-std-stage1 NO_REBUILD?
[13:49:49] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[13:50:44] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:51:01] <klutzy> drek: maybe? the flag has to be passed to rustc. it also means you have to rebuild the stage you use, but I don't know how NO_REBUILD works
[13:52:57] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[13:53:05] <klutzy> what i usually do is: 1) rustc /path/to/std.rs --cfg rtdebug -o /somewhere  2) rm /path/to/rust_build/<triple>/<target>/lib/<triple>/libstd-###.so  3) rustc my_code.rs -L /somewhere
[13:53:19] *** Joins: sankha94 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:54:33] <drek> kluzty: thanks! will try both 
[13:55:12] <klutzy> step2 is needed because rustc will be confused at step3 since there are libstd-###.so in paths
[13:58:22] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[14:00:08] <drek> klutzy: passing RUSTFLAGS="--cfg rtdebug" to make check-stage1-std NO_REBUILD=1 works like a charm!
[14:02:10] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[14:02:37] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[14:02:38] *** Joins: maik (maik@moz-A79D08D1.dip0.t-ipconnect.de)
[14:02:53] <klutzy> drek: great! I have to save the tip somewhere :D
[14:03:50] *** Quits: sankha94 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:04:15] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Ping timeout)
[14:04:18] <drek> klutzy: the wiki perhaps? on a related note, does github provide any way to search the wiki? 
[14:04:19] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[14:04:29] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:05:48] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:06:32] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:07:23] <klutzy> drek: I'm not aware of any place, so I usually save it in my local wiki.
[14:07:38] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[14:07:43] <klutzy> and afaik the only way to search github wiki is.. using google. :(
[14:07:47] *** Joins: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr)
[14:07:50] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:08:35] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:09:53] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:11:07] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:11:37] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Client exited)
[14:11:38] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:12:36] *** Quits: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr) (Ping timeout)
[14:13:01] *** Joins: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr)
[14:16:26] *** Joins: lkuper_ (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP)
[14:20:58] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[14:20:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/iMxc4g
[14:20:59] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[14:21:28] *** Quits: nkoep (nik@moz-D3D342AE.vpn.rwth-aachen.de) (Ping timeout)
[14:22:40] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[14:23:38] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[14:23:47] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:24:26] *** Joins: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de)
[14:24:27] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:25:45] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:25:56] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[14:25:56] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/VI2JBg
[14:25:56] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[14:25:58] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[14:25:58] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/0ouEXQ
[14:25:58] <ghrust> 13rust/06auto 14e753618 15Daniel Micay: drop `extra::par`...
[14:25:58] <ghrust> 13rust/06auto 147445ed7 15bors: auto merge of #9380 : thestinger/rust/par, r=alexcrichton...
[14:25:58] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[14:26:29] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:27:47] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:27:58] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:28:22] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:29:40] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:30:24] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:31:44] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:32:27] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:33:52] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[14:36:54] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Ping timeout)
[14:39:31] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:40:13] *** Joins: nkoep (nik@moz-CDB1E2E3.pool.mediaways.net)
[14:40:17] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[14:40:43] *** Quits: miza (miza@moz-908EA8DE.home.otenet.gr) (Input/output error)
[14:44:53] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[14:45:16] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[14:46:42] *** Quits: canhtak (jeremy@moz-8E705AE1.wl.t.ulaval.ca) (Quit: canhtak)
[14:49:01] *** Quits: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de) (Ping timeout)
[14:50:07] *** Joins: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de)
[14:50:25] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:54:07] <maik> is it possible to wrap c enums somehow? Afaik it is not possible atm
[14:54:28] *** Joins: canhtak (jeremy@moz-8E705AE1.wl.t.ulaval.ca)
[14:57:10] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[14:59:31] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[15:00:02] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[15:01:12] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[15:01:22] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[15:01:32] *** Quits: indirect (indirect_m@moz-22FDA25B.hsd1.ca.comcast.net) (Ping timeout)
[15:02:05] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[15:05:26] *** Joins: indirect (indirect_m@moz-22FDA25B.hsd1.ca.comcast.net)
[15:09:55] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[15:10:20] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[15:10:44] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[15:10:56] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[15:10:56] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147445ed7 to 14650100d: 02http://git.io/N3iJvQ
[15:10:56] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[15:10:56] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[15:10:57] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/bcT0Zw
[15:10:57] <ghrust> 13rust/06auto 14e98bd9b 15Luis de Bethencourt: Document a few undocumented methos in Vector...
[15:10:57] <ghrust> 13rust/06auto 14d3e6889 15bors: auto merge of #9381 : luisbg/rust/master, r=cmr...
[15:10:57] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[15:12:29] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:13:24] *** Quits: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de) (Quit: Leaving.)
[15:16:44] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[15:18:37] *** Quits: maik (maik@moz-A79D08D1.dip0.t-ipconnect.de) (Ping timeout)
[15:26:14] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[15:26:49] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[15:26:50] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[15:29:22] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[15:32:04] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:33:40] *** Quits: StarLight (StarLight@moz-4AA9DA20.dynamic.avangarddsl.ru) (Ping timeout)
[15:34:27] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Connection reset by peer)
[15:36:21] *** Quits: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr) (Ping timeout)
[15:37:32] *** Quits: petantik (oz@moz-20EC2160.net) (Quit: WeeChat 0.4.1)
[15:38:11] *** Joins: StarLight (StarLight@moz-9FE4F83C.dynamic.avangarddsl.ru)
[15:38:29] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[15:39:01] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:40:01] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[15:41:25] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[15:44:18] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[15:46:15] *** Joins: maik (maik@moz-A79D08D1.dip0.t-ipconnect.de)
[15:46:21] *** Joins: pnkfelix1 (pnkfelix@moz-43495417.fbx.proxad.net)
[15:46:22] *** Quits: pnkfelix1 (pnkfelix@moz-43495417.fbx.proxad.net) (Client exited)
[15:49:12] *** Joins: petantik (oz@moz-20EC2160.net)
[15:49:38] *** Quits: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu) (Ping timeout)
[15:49:43] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[15:56:25] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 23.0.1/20130814063812])
[15:57:51] *** Joins: sebcrozet (sebcrozet@moz-87D51607.w80-13.abo.wanadoo.fr)
[15:57:54] *** Joins: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu)
[15:59:09] <luisbg> oops... typo in my commit message :S
[16:00:31] *** Quits: maik (maik@moz-A79D08D1.dip0.t-ipconnect.de) (Ping timeout)
[16:01:12] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[16:03:03] *** Joins: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de)
[16:03:26] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:04:13] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[16:04:15] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[16:06:15] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[16:11:52] *** Joins: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net)
[16:12:15] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[16:12:36] *** Joins: cairsds (Mibbit@moz-7A1BC54C.host.de.colt.net)
[16:13:51] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[16:13:57] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[16:19:04] *** Quits: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net) (Client exited)
[16:19:21] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[16:20:11] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[16:20:53] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[16:21:33] *** Joins: bogen (dwight@moz-E33E93D8.tx.res.rr.com)
[16:23:01] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[16:24:32] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[16:25:31] *** Joins: maik (maik@moz-9C08F5A9.dip0.t-ipconnect.de)
[16:25:57] *** Joins: NiccosSystem (NiccosSyst@moz-CF331A7F.nextgentel.com)
[16:27:12] *** Joins: Guest99480 (guest@F8A0FDDC.3BF19DEE.B23EA3FD.IP)
[16:27:51] *** Parts: Guest99480 (guest@F8A0FDDC.3BF19DEE.B23EA3FD.IP) ()
[16:28:41] *** Quits: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de) (Ping timeout)
[16:29:11] *** Joins: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de)
[16:30:55] *** Quits: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de) (Ping timeout)
[16:30:56] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:30:56] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/bcT0Zw
[16:30:56] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[16:31:26] *** Joins: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de)
[16:36:57] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[16:38:02] *** Quits: NiccosSystem (NiccosSyst@moz-CF331A7F.nextgentel.com) (Quit: Leaving)
[16:42:01] * mindcat copying newest rust docs
[16:43:09] <mindcat> I will make a project with rust in future.
[16:43:25] <cmr> mindcat: rustdoc_ng is now in master, it should build docs with only pandoc.
[16:44:07] <hoverbear> cmr: Are comment commits encouraged in rust?
[16:44:19] <cmr> hoverbear: what do you mean?
[16:44:53] <hoverbear> cmr: Eg if I find some source code that's confusing and end up going through it and commenting it for myself, should I submit a PR back?
[16:44:59] *** Joins: NiccosSystem (NiccosSyst@moz-CF331A7F.nextgentel.com)
[16:45:01] <cmr> hoverbear: yes please!
[16:45:40] <hoverbear> cmr: Ok, cool. :) I'm planning to play with the UDP socket stuff tonight. Got distracted making fractals last night
[16:45:52] <cmr> hoverbear: fractals with rust?
[16:46:07] *** Joins: schnozzle (Mibbit@moz-5256162B.hsd1.ca.comcast.net)
[16:46:13] <hoverbear> cmr: I wish! I was using that junky Apophysis program
[16:46:18] <cmr> Ah
[16:46:23] <cmr> It's not that junky... it's quite fun
[16:46:23] <mindcat> cmr: it is "http://seld.be/rustdoc/master/" docs?
[16:46:36] <hoverbear> cmr: It's really fun, but the application is a bit buggy and unintutive
[16:46:44] <cmr> mindcat: it's like http://www.contrib.andrew.cmu.edu/~acrichto/doc/std/
[16:46:55] <hoverbear> cmr: FOr example I told it to render a set of sheep, but it rendered them into the wrong directory.
[16:46:59] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[16:48:16] <hoverbear> cmr: I still can't figure out why my proff wants us to make a UDP web server. :S
[16:50:21] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[16:50:41] <bogen> hmm... found printfln in an example, but when I went o use it got: error: macro undefined: 'printfln'   I did some searching, but have not found what to 'use' to resolve that.
[16:51:22] <cmr> bogen: what version of rust are you using?
[16:51:39] <bogen> rust 0.7 host: x86_64-unknown-linux-gnu
[16:51:50] <cmr> printfln didn't exist in 0.7
[16:51:50] <hoverbear> I got frustrated trying to print stuff in rust tooâ€¦ :S
[16:51:58] <cmr> you'll want to build from git master
[16:52:05] <bogen> ok, will do :)
[16:52:09] <hoverbear> bogen: I think the general consensus is to use the git version for now
[16:52:59] <cmr> (and you don't want to use printfln! either, you'll want to use the new hotness, println!)
[16:53:24] *** Joins: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net)
[16:53:35] <hoverbear> cmr: How can I just print out an arbitrary thing? Eg, it could be an int, or a string, or a struct, or whatever
[16:53:53] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[16:53:59] <cmr> println!("{:?}", anything)
[16:54:05] <cmr> :? does runtime reflection
[16:54:11] <hoverbear> Hot.
[16:54:18] <bogen> alright.... though I'm crazy I'm guess, attempting to use Rust (an evolving language) to create and evolving DSL.... ok, I assume println! does the same formatting as printfln!
[16:54:23] <engla> "{}" is for the default formatting for anything that implements that hoverbear 
[16:54:37] <cmr> bogen: no, different formating.
[16:54:38] <engla> and "{:?}" is the debug format for anything at all
[16:54:46] <hoverbear> engla: PImplements a to_str?
[16:54:57] <engla> hoverbear: std::fmt::Default I think.
[16:54:58] <cmr> hoverbear: no, the std::fmt::Default trait
[16:55:06] <hoverbear> Ok, interesting.
[16:58:53] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[16:59:23] <mindcat> rusti: "Are you still here?"
[16:59:59] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[17:02:10] *** Quits: wakandan (Mibbit@5B9B91CA.8FF05F7.4605F140.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:03:21] *** Quits: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net) (Ping timeout)
[17:04:07] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[17:04:28] *** Quits: GeneralMaximus (ankur@D078668D.36DB1090.BE90E62C.IP) (Ping timeout)
[17:04:50] *** Joins: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net)
[17:05:07] <cmr> maik: yes, it is possible. We discussed this already :\
[17:05:43] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:06:38] *** Quits: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net) (Ping timeout)
[17:08:08] <mindcat> cmr: well, where is the rustdoc-ng index? it seem need manually change web address to other crate names switch.
[17:08:32] <cmr> mindcat: correct. there is no crate index yet.
[17:08:38] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:09:16] <engla> the new docs have no official page yet I guess
[17:09:44] <mindcat> cmr: so it is not like "seld.be/rustdoc/master" yet?
[17:09:48] <engla> the new docs really are much better cmr 
[17:09:50] <cmr> mindcat: not yet, no.
[17:10:06] <engla> I guess you were convinced all along :)
[17:10:07] <mindcat> cmr: ok :)
[17:10:19] <hoverbear> I was reading about LLVM yesterday, damn that stuffs clever.
[17:10:49] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[17:10:57] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:10:57] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/IqGliA
[17:10:57] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:10:57] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[17:10:57] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/iRRvwg
[17:10:57] <ghrust> 13rust/06auto 14e753618 15Daniel Micay: drop `extra::par`...
[17:10:57] <ghrust> 13rust/06auto 1444dc3fb 15bors: auto merge of #9380 : thestinger/rust/par, r=alexcrichton...
[17:10:57] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[17:12:04] <mindcat> rusti: [10u8,20u8].from_bytes()
[17:12:12] <cmr> rusti isn't here
[17:12:33] <mindcat> I had to query right?
[17:12:38] <hoverbear> cmr: What'd you do to him?
[17:12:40] <hoverbear> her?
[17:13:04] <cmr> Nothing, he probably just disconnected.
[17:13:09] <cmr> It's hosted on strcat's laptop.
[17:13:17] <hoverbear> Huh
[17:13:43] <hoverbear> Can rust compile on a ARMv6? I'll offer up my Pi if so.
[17:14:01] <mindcat> I have a Pi too
[17:14:42] <hoverbear> mindcat: I've yet to do anything useful with it
[17:14:43] *** Quits: NiccosSystem (NiccosSyst@moz-CF331A7F.nextgentel.com) (Quit: Leaving)
[17:14:50] *** Joins: NiccosSystem (NiccosSyst@moz-CF331A7F.nextgentel.com)
[17:15:03] <mindcat> hoverbear: :)
[17:16:14] <hoverbear> Had it for python for awhile until I realized I had no reason to learn much python
[17:16:30] <mindcat> if rust can compile to ARMv7, oh I can run rust programs in my phone :D
[17:16:41] <bogen> https://github.com/neykov/armboot I plan to be targetting Cortex-M4  (ARMv7E-M architecture)
[17:16:51] <hoverbear> bogen: High five!
[17:16:53] <cmr> Rust does all these ARMs, but there's a bit of work to get a working corss compiler.
[17:16:57] <cmr> someone was working on it
[17:17:05] <hoverbear> mindcat: :)
[17:17:11] <mindcat> hoverbear: :D
[17:17:29] <bogen> hoverbear: Well, I stumbled on that this morning, and got pretty excited :)
[17:18:16] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[17:18:18] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Input/output error)
[17:18:24] *** Joins: GeneralMaximus (ankur@3D76FA68.B7FFA1.BE90E62C.IP)
[17:18:27] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[17:18:34] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[17:18:45] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[17:19:10] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[17:20:30] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[17:20:39] <mindcat> cmr: what about OpenWrt? can I run rust programs in router?
[17:20:52] <cmr> mindcat: no idea. nobody has tried, to my knowledge.
[17:21:04] <mindcat> cmr: ok..
[17:22:30] *** Quits: mindcat (mindcat@C29E7178.DE7505BB.291A146C.IP) (Quit: Lost terminal)
[17:24:34] <hoverbear> bogen: Yeah. I saw that when I was looking at rust to start with
[17:25:03] <hoverbear> I'm looking at making a rust shell (like bash) by end of term
[17:25:10] <schnozzle> whoever came up with the new docs, thankyouverymuch, it's awesome :D
[17:25:14] <hoverbear> Yush
[17:25:27] <hoverbear> cmr's doc site is much better
[17:25:32] <cmr> schnozzle: you're welcome :) (Seldaek and acrichto did all the frontend stuff)
[17:26:03] <hoverbear> +1 to both
[17:27:45] <SiegeLord> Can you already use it? I see the Rust web backend got merged...
[17:28:05] <cmr> SiegeLord: yup! the website isn't setup yet though
[17:28:17] <SiegeLord> I mean for your own projects
[17:28:22] <cmr> Yes
[17:28:28] <cmr> rustdoc_ng html path/to/crate.rs
[17:28:59] <SiegeLord> Sweet... will need to come up with a new CSS again
[17:29:54] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[17:30:18] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[17:36:20] <hoverbear> cmr: How's Rust's support for terminal interaction? Eg, what if I wanted it so when someone pushed a key (with the terminal the prof was running in focused) it would do foo()
[17:36:33] <hoverbear> Man how did your name get in front :S
[17:38:41] <cmr> hoverbear: We don't have anything like that yet. We have some simple ANSI terminal support in extra::term, and terminfo support in extra::terminfo, but we don't support raw-mode ttys yet.
[17:39:14] *** Quits: NiccosSystem (NiccosSyst@moz-CF331A7F.nextgentel.com) (Quit: Leaving)
[17:39:21] <hoverbear> cmr: Ok. It was a **huge** pain to do it in C too, really frustrating.
[17:39:49] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[17:44:22] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[17:45:31] *** Quits: maik (maik@moz-9C08F5A9.dip0.t-ipconnect.de) (Ping timeout)
[17:48:18] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[17:49:38] <ktt3ja> how do I do error handling in rust?
[17:51:01] *** Joins: cstrahan (cstrahan@moz-71FAC30.hsd1.va.comcast.net)
[17:53:02] <bjz> cmr: ping
[17:53:37] <bjz> ktt3ja: static.rust-lang.org/doc/tutorial-conditions.html
[17:54:24] <bjz> woops
[17:54:36] <bjz> link is broken
[17:55:08] <bjz> ktt3ja: http://static.rust-lang.org/doc/master/tutorial-conditions.html
[17:55:58] <ktt3ja> thanks :)
[17:56:07] <bjz> cmr: actually, can you pong me on rust-gamedev?
[17:56:39] <bjz> ktt3ja: np, let us know if you have any questions :)
[17:57:19] *** Quits: canhtak (jeremy@moz-8E705AE1.wl.t.ulaval.ca) (Quit: canhtak)
[17:58:04] *** Quits: zheng_li (zheng_li@moz-D6711E9E.xenplanet.org) (Ping timeout)
[17:58:56] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:59:28] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Quit: No Ping reply in 180 seconds.)
[17:59:52] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:01:45] *** Quits: lkuper_ (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP) (Quit: lkuper_)
[18:03:15] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:03:38] *** Joins: canhtak (jeremy@moz-8E705AE1.wl.t.ulaval.ca)
[18:03:44] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[18:04:12] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[18:04:13] *** Joins: zheng_li (zheng_li@moz-D6711E9E.xenplanet.org)
[18:05:14] *** Quits: Aetherspawn_BNC (uid6924@moz-31ABA2C0.irccloud.com) (Ping timeout)
[18:09:12] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[18:10:30] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:15:05] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[18:16:57] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:17:12] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[18:18:57] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:19:10] *** Joins: lkuper_ (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP)
[18:21:43] <LRN> how do i convert "foo" into ~[0x66, 0x6f, 0x6f]?
[18:21:52] <LRN> (that is, ~[u8])
[18:22:13] <kimundi> .to_bytes(false)
[18:22:47] <kimundi> no, wait
[18:22:50] *** Quits: lkuper_ (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP) (Ping timeout)
[18:22:55] <kimundi> .as_bytes().to_owned()
[18:23:25] *** Joins: lkuper_ (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP)
[18:23:38] <LRN> thanks, that worked
[18:23:48] <kimundi> Alternative: bytes!("foo") - only works with string literals though, but will give you an &'static [u8]
[18:24:38] *** Quits: lkuper_ (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP) (Quit: lkuper_)
[18:25:56] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[18:25:56] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/iRRvwg
[18:25:56] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[18:26:32] *** Joins: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[18:31:20] *** Quits: lkuper_ (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[18:32:17] <luisbg> LRN, you mean how you convert from characters to hexadecimal code?
[18:33:23] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[18:34:04] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:34:12] <tikue_> i need to find an element in a vector and then remove it, what is the best way to do that?
[18:34:37] <LRN> no, just to u8
[18:34:40] <tikue_> vec.iter().enumerate().find() ?
[18:34:43] <kimundi> tikue_: find the index, remove it?
[18:34:50] <tikue_> kimundi: how's ^ sound
[18:35:01] <kimundi> what's the return value of find?
[18:35:10] <tikue_> kimundi: the element that matches
[18:35:14] <tikue_> in this case the tuple (i, el)
[18:35:18] <kimundi> ah, hm
[18:35:26] <tikue_> (i need to use the element as well)
[18:35:40] <kimundi> enumerate  seems fine
[18:35:44] <tikue_> cool thanks
[18:37:47] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:42:18] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[18:47:36] *** Quits: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Quit: Leaving.)
[18:50:24] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[18:52:42] *** Joins: jmgrosen (jmgrosen@moz-AB5DF7A0.sb.sd.cox.net)
[18:57:42] *** Quits: jmgrosen (jmgrosen@moz-AB5DF7A0.sb.sd.cox.net) (Ping timeout)
[18:58:10] *** Joins: jmgrosen (jmgrosen@moz-AB5DF7A0.sb.sd.cox.net)
[18:59:55] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[18:59:58] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[19:03:40] *** Quits: drek (Mibbit@45F48698.55C26E4C.520CDC98.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:05:54] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[19:06:38] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:07:47] <schnozzle> looks like rt::io::ReaderUtil's read_bytes needs to be read_bytes_ until rt::io becomes std::io
[19:09:12] *** Quits: mark_edward_ (quassel@FA215F65.8CBA6D28.848BB095.IP) (Client exited)
[19:11:22] *** Joins: jmgrosen_ (jmgrosen@moz-AB5DF7A0.sb.sd.cox.net)
[19:11:24] *** Quits: jmgrosen (jmgrosen@moz-AB5DF7A0.sb.sd.cox.net) (Connection reset by peer)
[19:11:24] *** jmgrosen_ is now known as jmgrosen
[19:12:52] <hoverbear> If I have something like `    static USAGE: &'static str    ` what does the ' mean? I get that the & means it's stack allocated, and that static means I can't change it.
[19:14:13] <benh> the 'static is a special lifetime annotation that means that the thing that the pointer points to will stick around for as long as your program runs
[19:15:05] <hoverbear> Hum, interesting.
[19:15:55] *** Joins: lkuper_ (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP)
[19:16:21] <hoverbear> Does rust require that main() be the last function? Or can I put it at the top of my program and declare the others underneath?
[19:16:28] *** Quits: jmgrosen (jmgrosen@moz-AB5DF7A0.sb.sd.cox.net) (Ping timeout)
[19:16:33] <SiegeLord> The first static means that it's global... you can have a mutable static in principle
[19:16:35] *** Joins: jmgrosen (jmgrosen@moz-AB5DF7A0.sb.sd.cox.net)
[19:17:04] <hoverbear> Right, I could modify the pointer but not the string itself yeah?
[19:17:12] <myname> SiegeLord: o thought you an now?
[19:17:15] <myname> *can
[19:17:17] <kimundi> hoverbear: all definitions are mutually rekursive. You can order them anyway you want
[19:17:22] <hoverbear> Heck yes.
[19:17:51] <SiegeLord> myname: static foo  is immutable, static mut foo is mutable
[19:17:57] *** Quits: GeneralMaximus (ankur@3D76FA68.B7FFA1.BE90E62C.IP) (Ping timeout)
[19:17:59] <hoverbear> Also, is there any sort of tooling around autocompletion in Vim and such not that is any good?
[19:18:00] <SiegeLord> If I recall the syntax correctly...
[19:19:36] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[19:23:21] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:23:22] *** ChanServ sets mode: +ao brson brson
[19:25:06] <schnozzle> when I get these "does not implement" errors, I wonder if there's a way to make it print some helpful diagnostics - say, list the traits that only apply to pointers of a different type than is being used, or listing traits for the declared class that are not implemented in the current scope
[19:26:04] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[19:26:09] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:28:48] *** Joins: drake (Mibbit@45F48698.55C26E4C.520CDC98.IP)
[19:31:52] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: ëžœë¤ì€ ì‡ í‡´í–ˆìŠµë‹ˆë‹¤.)
[19:33:52] <drake> is issue #8815
[19:33:59] <drake> still open?
[19:38:06] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[19:41:03] <bogen> given this "let mut h: HashMap<~str, int> = HashMap::new ();" (which works correctly) is there any way to type infer that?   "let mut h = ..."  I've tried several variations to no avail.
[19:42:00] <kimundi> bogen: In principle, if you add an elemnt to h in a way that makes it obvious which type it si, it should infer backwards from there
[19:42:32] <kimundi> let mut h = HashMap::new(); h.insert(~"foo", 5);
[19:43:04] <dwrensha> bogen: you could do "HashMap::<~str, int>::new()"
[19:43:05] *** Joins: mib_v04dvu (Mibbit@6E76FC05.9EE2D4D.CA0E6801.IP)
[19:45:21] <bogen> dwrensha:  Hmmm, I thought I'd tried that, but apparanty not. It does work. (not template typing it works as kimundi suggested also works as well.
[19:46:12] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[19:47:03] <ktt3ja> how do I call something like C's "exit(0)" in Rust 0.7?
[19:47:32] <kimundi> ktt3ja: well the idiomatic way would be to just return from main
[19:48:10] <kimundi> but there's also the libc module which contains stuff like that I think
[19:48:29] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[19:49:14] *** Joins: guacamole (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[19:49:24] <ktt3ja> thanks, I'll look inside libc
[19:51:34] <mib_v04dvu> How would I go about passing a function as an argument?
[19:52:06] *** Parts: guacamole (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) ()
[19:52:16] *** Joins: M (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[19:52:17] <kimundi> mib_v04dvu: you can either pass a existing function with the right signature directly:
[19:52:33] <kimundi> fn foo(); fn bar(&fn()); bar(foo)
[19:52:47] <kimundi> Or you can pass a closure:
[19:53:58] <kimundi> fn bar(&fn()); bar( || baz() ); 
[19:54:22] <kimundi> fn bar(&fn()); bar(|| { ... });
[19:54:34] <kimundi> fn bar(&fn()); do bar() || { ... }; 
[19:54:37] <kimundi> fn bar(&fn()); do bar { ... }
[19:55:55] <mib_v04dvu> Thanks
[19:59:51] *** Quits: canhtak (jeremy@moz-8E705AE1.wl.t.ulaval.ca) (Quit: canhtak)
[20:01:27] <tefter> have anyone considered removing trait inheritance from language?
[20:01:32] *** Quits: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de) (Ping timeout)
[20:01:51] *** Joins: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de)
[20:02:05] <kimundi> why remove? We are barely getting it to work in recent times! :)
[20:02:06] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[20:02:26] <tefter> well it can be easily implemented with current language
[20:02:33] <kimundi> how?
[20:02:34] *** Joins: Aetherspawn_BNC (uid6924@moz-31ABA2C0.irccloud.com)
[20:02:38] <tefter> also it pretty much complicates vtable implementation
[20:03:05] <tefter> wait a minute just to paste code at pastebin
[20:03:46] *** Joins: jstevans1 (Instantbir@moz-4571E922.wireless.umnet.umich.edu)
[20:04:47] *** Quits: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu) (Ping timeout)
[20:04:54] <tefter> http://pastebin.com/zXeTv1Lu
[20:04:57] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[20:05:13] <tefter> by forwarding calls in trait implementations for trait
[20:07:13] <tefter> currently implementation is simple and ellegant
[20:07:38] <tefter> with inheritance there must be chase through vtables
[20:08:17] *** Quits: jstevans1 (Instantbir@moz-4571E922.wireless.umnet.umich.edu) (Ping timeout)
[20:08:18] <tefter> and that is not needed at all as currently same thing can be achieved with trait imaplementations/ forwarding
[20:08:31] <kimundi> tefter: I'm still trying to comprehense your code, but we don't use vtables much in regular rust code
[20:09:02] *** Quits: mib_v04dvu (Mibbit@6E76FC05.9EE2D4D.CA0E6801.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:09:11] <kimundi> The usual case to use traits is to use generics, which handle that completely statically.
[20:09:28] <kimundi> (that == trait inheritance)
[20:10:14] *** Joins: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu)
[20:10:33] <dwrensha> tefter: I don't see any trait inheritance in that code
[20:10:46] <tefter> it is simulated
[20:11:00] <tefter> same thing as inheritance
[20:11:03] <SiegeLord> You might be able to do the same thing for trait bounds too
[20:11:23] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[20:11:32] <SiegeLord> Instead of impl Derived for @TestTrait it'll be impl<T:TestTrait> Derived for T
[20:11:34] <SiegeLord> If that works...
[20:12:14] <tefter> well yeah it could be generic, less work ;)
[20:12:53] <brson> acrichto: is there a make target I can use to build the rustdoc_ng docs?
[20:13:07] <SiegeLord> tefter: It's an important point, because as kimundi said, trait objects are rare in Rust code
[20:13:46] <tefter> yes, currently inheritance is not implemented and as I see it requires significant changes
[20:13:53] <kimundi> impl<T:TestTrait> Derived for T has the current implementation problem though that it conflicts with a lot of other things
[20:15:20] *** Quits: jviereck (Adium@moz-D03659.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:15:53] <kimundi> tefter: we don't have data inheritance yet, and our trait inheritance works different than in other languages.
[20:17:00] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[20:17:03] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[20:18:13] <acrichto> brson: make docs
[20:18:17] *** Quits: drake (Mibbit@45F48698.55C26E4C.520CDC98.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:18:22] <acrichto> brson: it broke the doc builder for now
[20:19:07] <tefter> kimundi: trait inheritance does not work currently
[20:19:18] <tefter> and requires significant work
[20:19:20] <kimundi> tefter: It does
[20:19:47] <kimundi> There might still be bugs with kinds and trait objects though
[20:20:06] <tefter> I have tried and if you call method from base trait into derived trait pointer you will egt unexpected results
[20:20:12] <kimundi> But we're using trait inheritance in the stdlib
[20:20:30] <tefter> that is if type of pointer is not base type
[20:20:38] *** Joins: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net)
[20:20:58] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[20:21:09] <tefter> this is because vtable is different
[20:21:43] <tefter> currently derived pointer points to derived table which don't have base method pointers
[20:22:13] <kimundi> tefter: As I said, there are still bugs with trait objects
[20:22:16] <tefter> so if you call first method in table call will go to method in derived, not base table
[20:22:26] <kimundi> But in generics they work
[20:22:31] <tefter> this is not a bug
[20:22:41] <tefter> it is simply unimplemented feature
[20:22:54] <kimundi> tefter: I'm not sure our trait inheritance is intended to work for overloading methods
[20:23:53] <tefter> kimundi, try to derive trait from eg ToStr and try to call through derived pointer
[20:24:04] <tefter> you will get segfault probably
[20:24:17] <brson> acrichto: how did it break the doc builder?
[20:24:30] <tefter> as first method in derived table will be called not from base table
[20:25:11] <acrichto> brson: missing a target
[20:25:12] <brson> oh i can read the logs
[20:25:39] <brson> acrichto: the logs look odd http://buildbot.rust-lang.org/builders/doc/builds/954/steps/compile/logs/stdio
[20:26:10] <kimundi> tefter: I don't understand what you mean with derive there... Do you mean inherit?
[20:26:51] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:27:08] *** jorendorff_away is now known as jorendorff
[20:27:43] <acrichto> brson: https://github.com/mozilla/rust/pull/9393
[20:30:10] <tefter> kimundi: yes
[20:30:58] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[20:30:58] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/eEE31g
[20:30:58] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:30:59] <tefter> problem with inheritance is that methods from base table have to be embedded in derived trait table
[20:31:00] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[20:31:00] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/fbt-3Q
[20:31:00] <ghrust> 13rust/06auto 1402b27b2 15Alex Crichton: Fix the dependencies of rustdoc_ng doc generation...
[20:31:00] <ghrust> 13rust/06auto 145b3dfb0 15bors: auto merge of #9393 : alexcrichton/rust/fix-docs, r=brson...
[20:31:00] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[20:31:18] <tefter> and that is not in spirit of language currently as I see it
[20:31:39] <tefter> other way is to make linked list of tables and implement some sort of dynamic_cast
[20:32:04] <tefter> which imposes run time penalty
[20:34:21] <tefter> all in all this can be done in current language as I showed in example code
[20:34:53] <bytbox> Is there an inverse of char::from_u32 available? (Something equivalent to ord() in python?)
[20:35:07] <bytbox> I would have expected a NumCast instances, but I can't find one
[20:35:17] <bytbox> *instances -> implementation
[20:35:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:36:13] <strcat> bytbox: 'as' works for the reverse direction
[20:36:37] <strcat> from_u32 exists because not all u32 are valid char
[20:37:06] *** jorendorff is now known as jorendorff_away
[20:37:16] <bytbox> strcat: Ok, thanks.
[20:37:22] <bytbox> (I always forget to try 'as'.)
[20:43:59] *** Quits: bogen (dwight@moz-E33E93D8.tx.res.rr.com) (Ping timeout)
[20:45:26] *** Joins: Liothen (liothen@moz-788EBAD0.spkn.qwest.net)
[20:45:48] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: computer sleeping)
[20:45:50] *** Joins: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP)
[20:46:17] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[20:51:36] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[20:52:23] *** Quits: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu) (Ping timeout)
[20:52:23] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:58:36] <schnozzle> anyone using rt::io in an external crate, know how to impl both io::Reader and rt::io::Reader in the same crate?
[20:59:13] <kimundi> tefter: I still don't entirely understand what problem you're trying to describe. I played around with trait inheritance a bit and it seems to work as I expect it to. I found a bug with trait objects though: https://gist.github.com/Kimundi/6654097
[20:59:27] *** Quits: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de) (Ping timeout)
[20:59:31] *** Joins: bogen (dwight@moz-E33E93D8.tx.res.rr.com)
[20:59:49] *** Joins: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de)
[21:00:13] *** Joins: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu)
[21:05:17] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[21:05:50] *** Quits: lkuper_ (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP) (Quit: lkuper_)
[21:07:34] *** Joins: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net)
[21:10:59] *** Joins: maik (maik@moz-C09804C4.dip0.t-ipconnect.de)
[21:11:33] <tefter> kimundi, try this http://pastebin.com/KNhEFczV
[21:12:02] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: bb2m)
[21:12:22] <tefter> wrong function is called because there is no inheritance implemented currently
[21:12:32] <tefter> it simply sets vtable of particualr interface
[21:12:34] <brson> acrichto: the docs look great. amazing work getting that done
[21:13:41] <brson> acrichto: once that fix for the makefiles go in do you think we're ready to cut over to the new docs?
[21:14:00] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:14:18] *** Quits: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se) (Ping timeout)
[21:15:59] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[21:19:53] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:20:44] <kimundi> tefter: Yeah, thjat's the bug I noticed too
[21:22:25] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[21:23:14] *** Joins: bytewise (bytewise@moz-4A801D04.unitymediagroup.de)
[21:23:28] <tefter> kimundi, in order to correct that bug you have to implement inheritance of vtables ;)
[21:24:45] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Connection reset by peer)
[21:25:21] <kimundi> tefter: Seems that way
[21:27:10] <tefter> again one way would be to bring Base method into Super trait and change semantics of language
[21:27:30] <tefter> which means X has to implement additional method for Super not for Base
[21:28:01] <tefter> other way it to place pointer in vtable for Super which will point to Base table
[21:28:35] *** Quits: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de) (Ping timeout)
[21:28:39] <tefter> and that is problematic because you have to figure which Base table
[21:28:49] <kimundi> tefter: Can't Super simply be the combination of all vtables of itself and the traits it inherits from?
[21:28:50] <tefter> that is you have to implement dynamic cast
[21:28:52] *** Joins: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de)
[21:29:44] <tefter> kimundi, yes but then X has to implement additional methods 
[21:29:54] <tefter> not for Base but for Super
[21:30:08] *** Quits: M (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:30:16] <tefter> that is ok and it is how it works usually but question is if this is really wanted?
[21:31:03] <tefter> all in all linked list would preserve semantics what is now
[21:31:07] <kimundi> tefter: Why would X have to implement the additional methods?
[21:31:36] <tefter> well if you bring methods from Base into Super you have to populate vtable with something
[21:31:54] <kimundi> If a linked list is all that's needed, why not embed the list directly inplace?
[21:32:30] <tefter> yes linked list eg first pointer to vtable would point to appropriate base table
[21:32:39] <tefter> s/to/in
[21:32:49] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:32:55] <kimundi> why would it need pointer indirection there?
[21:33:19] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:33:30] <tefter> because pointer to Super have vtable pointer to it's own interface/vtable
[21:33:42] <tefter> that is why currently wrong function is called
[21:33:50] <tefter> method is simply index into vtable
[21:34:23] <tefter> and if we add another indirection we get to right vtable
[21:34:50] <tefter> that is hwo dynamic cast is eimplemented
[21:34:55] <kimundi> right, it's broken right now, I just don'tt understand why we would need to introduce indirection to fix it
[21:36:03] <tefter> because forming vtables from base traits changes how trait inheritance is used in language
[21:36:55] <kimundi> hwo/why does it change that?
[21:37:41] <tefter> because , currently concrete implementations have to implement traits separately
[21:37:50] *** Quits: KindOne (KindOne@moz-C94C4780.dynamic.ip.windstream.net) (Ping timeout)
[21:38:22] <tefter> but with inheritance you would have to implement methods from all inherited traits in single trait
[21:38:58] *** Joins: heftig_ (heftig@moz-9876B34B.dip0.t-ipconnect.de)
[21:39:08] *** Quits: heftig (heftig@moz-13C434C4.dip0.t-ipconnect.de) (Ping timeout)
[21:39:53] <tefter> now you implement methods separately and that would need to change if you want composite vtable
[21:40:25] *** Joins: kertap (kertap@moz-E2C367E7.b-ras3.mvw.galway.eircom.net)
[21:40:56] <kertap> What's the best way to define a 2d  vector
[21:41:47] *** Quits: maik (maik@moz-C09804C4.dip0.t-ipconnect.de) (Ping timeout)
[21:42:03] <strcat> kertap: a fixed-size one?
[21:42:04] *** Joins: KindOne (KindOne@moz-C94C4780.dynamic.ip.windstream.net)
[21:42:30] *** Quits: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu) (Connection reset by peer)
[21:42:37] *** Quits: six600110 (six600110@moz-2FA48202.neo.res.rr.com) (Connection timed out)
[21:42:55] *** Joins: six600110 (six600110@moz-2FA48202.neo.res.rr.com)
[21:43:04] <kimundi> tefter: I don't see why you can't have both separately implemented traits and composite vtables
[21:43:24] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[21:43:24] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[21:43:31] *** Joins: canhtak (jeremy@moz-8E705AE1.wl.t.ulaval.ca)
[21:45:16] <kertap> strcat: i think it can be fixed size. let me give more detail. I defined it as ~[~[u8]] but when I iterate over the top level i can't use iter.advance |v: &[u8]|
[21:45:40] <schnozzle> is there any way to impl both std::io::reader trait and std::rt::io::reader trait in the same crate?
[21:45:41] <tiffany> is it possible to box types using rust at all?
[21:45:56] <kimundi> tiffany: What do you mean with box?
[21:45:57] <strcat> kertap: a vector iterator over &[T] yields &T, so it will yield &~[T]
[21:45:58] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[21:45:58] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/fbt-3Q
[21:45:58] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[21:45:59] <tefter> kimundi, how would you find all methods for particular vtable
[21:46:33] <tiffany> a vector of multiple types that each implement a certain typeclass
[21:46:58] <kimundi> tefter: The trait defines what it inherits from. Transitively gather all those traits and put them into the vtable?
[21:47:01] <strcat> tiffany: an enum or a trait object
[21:47:15] <tiffany> enums have to be updated to add a new type
[21:47:21] <tiffany> trait objects?
[21:47:35] <tefter> kimundi, then there would not be problem to partialy implement trait in several implementations?
[21:47:48] <strcat> tiffany: you can use traits either for static or dynamic dispatch
[21:47:53] *** Quits: Palmik (palmik@moz-11EA685D.pks.muni.cz) (Quit: Lost terminal)
[21:48:07] <strcat> tiffany: have a vector of [~Trait] (or &Trait/@Trait)
[21:48:11] <tiffany> ohh
[21:48:13] <tiffany> that's nice
[21:48:21] <kimundi> tiffany: let (a, b) = (~5u8, ~4i32); let v: ~[~ToStr] = ~[]; v.push(a as ~ToStr, b as ~ToStr);
[21:48:51] <kimundi> err the last one should be two push calls. but you get the idea
[21:49:43] <kimundi> tefter: A trait impl for a type is only valid if all inherited traits are also implemented for it
[21:49:53] *** Quits: cdidd (cdidd@moz-B700FC65.broadband.corbina.ru) (Ping timeout)
[21:49:59] <strcat> you can't partially impl a trait
[21:50:23] <kimundi> compiler won't accept it otherwise
[21:50:27] <tefter> well, I guess so but one implementation currently forms vtable
[21:50:47] <kimundi> tefter: trait objects are a way to op
[21:50:59] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[21:50:59] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/IXVBDg
[21:50:59] <ghrust> 13rust/06auto 14c767643 15Brian Anderson: std::rt: Try stealing from all schedulers...
[21:50:59] <ghrust> 13rust/06auto 14450d91e 15Brian Anderson: std::rt: Implement task yielding. Fix a starvation problem
[21:51:00] <ghrust> 13rust/06auto 145d8235a 15bors: auto merge of #9353 : brson/rust/sched, r=cmr...
[21:51:02] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[21:51:03] <kimundi> tefter: trait objects are a way to _optionally_ use a trait witj a vtable for dynamic dispatch
[21:51:14] <strcat> usually they're used for static dispatch
[21:51:15] <kimundi> tefter: And they are still not completly bug free
[21:51:40] <kimundi> Filed that trait object bug btw: https://github.com/mozilla/rust/issues/9394
[21:51:49] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[21:53:00] <kertap> strcat: is it weird if I use  iter.advance |&v: ~[u8]|?
[21:53:02] <kimundi> tefter: In any case the same rules would apply to the trait object and the vtable it's implemented with: The compiler needs to know all base implementations.
[21:53:21] <tefter> kimundi, sure
[21:53:25] <strcat> kertap: it won't work
[21:53:30] *** Joins: EEKCA (K.o.S.t.A@85B87237.BE9F4953.114A0701.IP)
[21:53:35] <strcat> you're using old syntax though, that's not what rust currently looks like
[21:53:46] <strcat> I'm not sure if patterns were working properly back then 
[21:53:53] <strcat> so it might be letting you do something you shouldn't be able to
[21:54:26] <strcat> a unique vector has a destructor so you can't implicitly copy it out of a reference via dereferencing
[21:54:41] <strcat> if you could, you'd be able to cause double frees and other issues
[21:55:40] <strcat> you can go from &~[T] to &[T]
[21:55:45] *** Joins: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[21:55:54] <kertap> How do I do that?
[21:56:03] <EEKCA> [ EEKCA 's (Official) Television Commercial ** 100% Pure ,Organic and Unrefined ** African Shea Butter and African Black Soap that Treat Acne and Blemish removal,Dry skin, Dry hair,Dry scalp, help Prevent wrinkles and much much more.... ** Currently prescribed by Doctors at Florida's Children Hospitals *** ORDER NOW! *** Click Here: http://www.eekca.mobi ]
[21:57:18] <strcat> rusti: let xs = ~[1, 2, 3]; let y = &xs; let zs: &[int] = *y; for z in zs.iter() { println!("{}", *z) }
[21:57:19] -rusti- 1
[21:57:19] -rusti- 2
[21:57:19] -rusti- 3
[21:57:19] -rusti- ()
[21:57:30] <strcat> or
[21:57:40] <strcat> rusti: let xs = ~[1, 2, 3]; let y = &xs; let zs = y.as_slice(); for z in zs.iter() { println!("{}", *z) }
[21:57:41] -rusti- 1
[21:57:42] -rusti- 2
[21:57:42] -rusti- 3
[21:57:42] -rusti- ()
[21:58:03] <strcat> ~[T] will happily coerce to &[T]
[21:58:12] <kertap> ok cool. Thanks!
[22:02:40] *** Quits: kertap (kertap@moz-E2C367E7.b-ras3.mvw.galway.eircom.net) (Quit: kertap)
[22:02:43] *** Quits: aeqwa (aeqwa@moz-99CE9D38.dsl.tropolys.de) (Quit: Lost terminal)
[22:03:14] *** Joins: blinky (Mibbit@moz-D4743323.a2.protectedgroup.com)
[22:03:28] *** Quits: blinky (Mibbit@moz-D4743323.a2.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[22:09:11] *** Joins: maik (maik@moz-C09804C4.dip0.t-ipconnect.de)
[22:11:03] <EEKCA> [ EEKCA 's (Official) Television Commercial ** 100% Pure ,Organic and Unrefined ** African Shea Butter and African Black Soap that Treat Acne and Blemish removal,Dry skin, Dry hair,Dry scalp, help Prevent wrinkles and much much more.... ** Currently prescribed by Doctors at Florida's Children Hospitals *** ORDER NOW! *** Click Here: http://www.eekca.mobi ]
[22:11:12] *** Quits: heftig_ (heftig@moz-9876B34B.dip0.t-ipconnect.de) (Ping timeout)
[22:11:32] <myname> why isn't that thing banned?
[22:11:39] *** Joins: heftig_ (heftig@moz-9876B34B.dip0.t-ipconnect.de)
[22:11:59] <mcpherrin> myname: It should be; mozilla irc gets spammers every once in a while
[22:12:14] <myname> crazy people
[22:15:41] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[22:16:28] *** Quits: heftig_ (heftig@moz-9876B34B.dip0.t-ipconnect.de) (Ping timeout)
[22:16:34] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[22:16:54] *** Joins: heftig_ (heftig@moz-9876B34B.dip0.t-ipconnect.de)
[22:17:41] *** Quits: sebcrozet (sebcrozet@moz-87D51607.w80-13.abo.wanadoo.fr) (Ping timeout)
[22:17:54] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[22:19:37] <benh> Are we gonna rename rustdoc_ng to rustdoc?
[22:20:12] *** Quits: heftig_ (heftig@moz-9876B34B.dip0.t-ipconnect.de) (Ping timeout)
[22:20:20] <luisbg> benh, no idea
[22:20:29] <luisbg> but it would make sense if it eventually replaces it
[22:21:01] *** Parts: cmr (moznet@moz-EC676DFE.members.linode.com) (Leaving)
[22:21:03] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[22:21:09] <cmr> benh, after rustdoc is gone, yes.
[22:21:37] *** Joins: heftig (heftig@moz-9876B34B.dip0.t-ipconnect.de)
[22:23:07] *** Joins: paupau (posttext@moz-BFE94859.hfc.comcastbusiness.net)
[22:23:43] *** Quits: io2 (io2@moz-A6202C16.home.otenet.gr) (Quit: )
[22:24:18] *** brson sets mode: +b *!*K.o.S.t.A@*.BE9F4953.114A0701.IP
[22:24:18] *** EEKCA was kicked by brson (brson)
[22:24:52] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[22:24:53] <luisbg> brson, \o/
[22:25:08] *** Quits: heftig (heftig@moz-9876B34B.dip0.t-ipconnect.de) (Ping timeout)
[22:25:57] *** Joins: heftig (heftig@moz-9876B34B.dip0.t-ipconnect.de)
[22:26:40] *** Quits: maik (maik@moz-C09804C4.dip0.t-ipconnect.de) (Ping timeout)
[22:27:30] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[22:27:51] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Connection reset by peer)
[22:28:04] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[22:28:24] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[22:31:27] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[22:31:42] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:31:55] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:32:49] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[22:33:05] *** Joins: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu)
[22:34:31] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[22:36:17] <dcrewi> so what's the pattern for when you're wrapping a C library and need to initialize the library before it can be used?
[22:37:50] <hoverbear> Hmmm ok, I need some sort of JSON like Object for rust. Ah, yes, a struct. xD
[22:38:02] <cmr> dcrewi, I don't think there's an established pattern.
[22:38:34] <strcat> hoverbear: or a map, if you don't just want a fixed blob of data
[22:38:39] <cmr> dcrewi, The way I'd do it is you expose one function, which returns a struct. The methods on that struct call into the C library, and are the only way to call into the C library. It guarnatees initialization.
[22:39:03] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[22:39:11] <hoverbear> strcat: I just want like a structure of settings that I can make. Though I do want to play with graphs later.
[22:40:41] *** Joins: aeqwa (aeqwa@moz-99CE9D38.dsl.tropolys.de)
[22:40:55] *** Quits: MrByte (MrByte@moz-147070D0.chy-wy.client.bresnan.net) (Ping timeout)
[22:41:17] *** Joins: MrByte (MrByte@moz-147070D0.chy-wy.client.bresnan.net)
[22:41:38] *** Quits: KindOne (KindOne@moz-C94C4780.dynamic.ip.windstream.net) (Connection reset by peer)
[22:42:06] <tiffany> I'm really having a hard time implementing a generic FRP mechanism
[22:42:11] <dcrewi> cmr: I really should probably only initialize it once
[22:42:29] <strcat> dcrewi: which library is this?
[22:42:29] <tiffany> every time I go at it I end up stuck with infinitely recursive type parameters
[22:42:47] <dcrewi> strcat: libnss3
[22:43:23] <strcat> well, that's a convincing reason to not use nss for our crypto needs ;p
[22:43:43] <cmr> dcrewi, stash a bool in a static mut and check that before doing initialization?
[22:44:13] <strcat> I wonder how it handles multi-threaded without lots of locking if it truly has global state like that
[22:44:20] <strcat> multi-threading*
[22:44:23] <cmr> yeah :\
[22:45:02] <tiffany> how do you express a recursive data structure in which each level fundamentally must be able to express inputs and outputs of different types?
[22:45:21] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[22:45:38] <strcat> enums
[22:45:39] <tiffany> er, each node
[22:45:43] <hoverbear> Are there any reference sheets or anything available to help figure out what the &*~'@ symbols end up being?
[22:45:50] <tiffany> enums are a kind of cheap way of doing it
[22:46:01] <strcat> hoverbear: as in the runtime representation?
[22:46:01] <kimundi> hoverbear: define "end up being"
[22:46:03] <tiffany> I'd lose the type system
[22:46:03] <cmr> hoverbear, what do you mean "end up being"?
[22:46:24] <tiffany> and have to pattern match out the desired value or fail! otherwise
[22:46:24] <mcpherrin> I assume he means a sigil cheat sheet
[22:46:32] <mcpherrin> to match characters to words?
[22:46:33] <hoverbear> Something like this; http://www.cheatography.com/davechild/cheat-sheets/regular-expressions/
[22:46:56] <strcat> tiffany: if you require a specific type but it may be one of several, there's no way to get around that
[22:46:57] <dcrewi> cmr: I'm surprised static mut exists. how can it guarantee thread-safety?
[22:47:01] <hoverbear> tiffany: I'm no expert, but have a state machine?
[22:47:08] <mcpherrin> dcrewi: unsafe
[22:47:09] <strcat> dcrewi: it doesn't, it can't be used outside of unsafe blocks
[22:47:11] <cmr> dcrewi, it doesn't, it requires unsafe code to read or write.
[22:47:21] <kimundi> dcrewi: It can'T, that'S why it is unsafe to access it
[22:47:24] <strcat> you can build safe abstractions on it
[22:47:30] <strcat> using atomics or locking
[22:48:25] <tiffany> it's really awkward to try to express frp using rust
[22:49:01] <kimundi> hoverbear: Hm, I see how such a cheat sheet might be useful for a beginner, but I don't think that we have enough different sigils to still confuse them after a few days :P
[22:49:25] <kimundi> hoverbear: Especially if we might get rid of @
[22:49:28] <hoverbear> kimundi: It's more the fact that working with multiple languages sometimes makes it confusing.
[22:49:54] <hoverbear> kimundi: But yeah, I think it'll catch quickly.
[22:50:24] <mcpherrin> it's not like perl :P
[22:50:48] <schnozzle> why do you need different impls for trait, ~trait, @trait?
[22:51:07] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[22:51:26] <hoverbear> mcpherrin: I keep trying to do coffeescript/c/java/python stuff in terms of naming.
[22:52:38] <kimundi> schnozzle: Because a trait object can not do everything the underlying trait can do, and generics (for which the impls matter) work by assuming they can
[22:53:37] *** Joins: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr)
[22:53:37] <kimundi> schnozzle: For example, if you have a method that returns Self, that couldn't be called on a trait object.
[22:54:18] <mcpherrin> Maybe I'll make the start of a rust syntax cheat sheet
[22:55:05] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:55:07] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[22:55:09] <cmr> https://github.com/mozilla/rust/wiki/Sigil-reference
[22:55:40] <strcat> not entirely correct
[22:55:46] <strcat> ;p
[22:55:50] <cmr> well fix it then
[22:55:51] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[22:55:52] <strcat> &mut can alias @mut
[22:56:04] <hoverbear> cmr: !!!
[22:56:11] <hoverbear> cmr: Wicked.
[22:56:23] <mcpherrin> strcat: /me guestures towards "edit" button ;)
[22:56:29] <mcpherrin> gestures*
[22:56:37] *** Quits: RMF (RMF@moz-CAFECE81.dsl.telepac.pt) (Quit: Textual IRC Client: www.textualapp.com)
[22:56:44] *** Quits: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr) (Ping timeout)
[22:57:07] <strcat> cmr: do you want it to be about semantics, or ephemeral implementation details?
[22:57:16] <cmr> strcat, semantics
[22:57:23] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[22:58:21] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[22:58:46] * strcat really thinks 'reference' is a saner name than 'borrowed pointer'
[22:59:00] <cmr> so do I, but graydon rejected it when I brought it up
[22:59:05] <brson> I think we're likely to change terminology
[22:59:26] *** Joins: KindOne (KindOne@moz-C94C4780.dynamic.ip.windstream.net)
[22:59:26] <brson> again
[22:59:37] <mcpherrin> brson: yay!
[22:59:47] <mcpherrin> I was afraid rust was starting to get too stable ;)
[22:59:53] <brson> lol
[23:00:48] <cmr> speaking of stable, is there more stuff we should remove from std/extra before the release? I saw extra::par finally bit the dust
[23:01:55] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[23:02:24] <cmr> Can we drop at_vec? Are there any existing/legitimate uses of @[] ?
[23:02:27] * strcat likes value (int), reference (&int), box (~int), with Gc/Rc just being called garbage-collected/reference-counted boxes
[23:02:53] <strcat> cmr: there are legitimate use cases for it, but not as implemented
[23:03:30] *** Joins: ww (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net)
[23:03:31] <brson> I don't know if any decisions have been made about at_vec, but at one point we were intending to remove them
[23:03:38] *** Quits: ww (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:03:41] <brson> either can go. someone is working on that
[23:03:43] <strcat> it makes sense to have an Rc/Gc vector without indirection, but not as a language feature
[23:03:43] <jzelinskie> as someone coming from another language, i'm probably going to call it a reference anyway instead of borrowed pointer even if that is the proper term
[23:03:45] <brson> would be nice for cell not to exist
[23:03:49] *** Joins: ww (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net)
[23:04:22] <strcat> rust calls it a reference
[23:04:26] <strcat> 'ref' it a keyword ;p
[23:04:33] <strcat> people using rust call it a borrowed pointer, though :)
[23:04:56] <strcat> reference already won simply by being keyword-able
[23:05:20] <ww> is arithmetic right shift  >>> going to be supported in rust?  seems to be removed in newer releases
[23:05:43] <strcat> ww: isn't that just a plain old right shift?
[23:05:58] <strcat> we have unsigned integers
[23:06:06] <ww> >>> pads 0 on the right
[23:06:16] <ww> >> extends the sign
[23:06:17] *** Quits: paupau (posttext@moz-BFE94859.hfc.comcastbusiness.net) (Ping timeout)
[23:06:26] <strcat> unsigned integers don't have a sign
[23:06:32] <ww> so just use uint for it?
[23:06:36] <ww> ok
[23:07:02] <strcat> u32 >> u32 will compile to ashr on i32
[23:07:13] <strcat> i32 >> i32 will compile to lshr on i32
[23:07:25] <strcat> LLVM integers aren't signed/unsigned - it differentiates with the operations
[23:07:42] <strcat> rust exposes the difference with types
[23:07:42] <ww> ok sounds cool
[23:08:28] *** Quits: heftig (heftig@moz-9876B34B.dip0.t-ipconnect.de) (Ping timeout)
[23:08:28] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Ping timeout)
[23:09:10] <hoverbear> So string to integer would be "x as str"?
[23:09:21] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[23:09:22] <hoverbear> As int**
[23:09:25] <cmr> hoverbear, no
[23:09:35] <cmr> from_str::<int>(x)
[23:10:13] <strcat> 'as' is only for casts on the built-in numeric types which always succeed
[23:10:49] <strcat> mostly just so constant exprs can do basic casts.
[23:10:59] <strcat> (although it does also exist for trait objects)
[23:11:46] <kimundi> We should add a cast!() and remove as from the language :P
[23:12:09] <kimundi> static FOO: uint = cast!('x' as uint);
[23:12:11] *** Joins: nejucomo (Adium@moz-AC868E2D.hfc.comcastbusiness.net)
[23:12:12] <strcat> we don't need a syntax ext
[23:12:30] <strcat> kimundi: oh, you mean in const exprs? that won't work
[23:12:41] <kimundi> why not?
[23:12:47] *** Joins: heftig (heftig@moz-9876B34B.dip0.t-ipconnect.de)
[23:13:04] <strcat> syntax extensions have to expand to valid rust
[23:13:33] <strcat> they run long before type checking or resolve
[23:13:40] <kimundi> the syntax extension would evaluate the constexpression and evaluate to the correct value
[23:13:58] <strcat> only if there's no reference to other statics
[23:14:03] <strcat> in which case you could just write it without the cast
[23:14:14] <kimundi> yeah
[23:14:16] <nejucomo> What's the syntax for macro_escape?  My code snippet and error: http://sebsauvage.net/paste/?d3dd4d8390ecc1ef#sgxq3dZpo33zB35PlJ+TLNfTI/uqtb/4zqcWBEPIsts=
[23:14:18] <cmr> I'm pretty sure pcwalton has cooked up a full constant evaluation story.
[23:14:35] <cmr> nejucomo, #[macro_escape] goes on the containing module, not the macro.
[23:15:00] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:15:49] <nejucomo> If I have a.rc, a.rs, and c.rs, and I want the crate to export things in mod a, but not mod c, and I use mod c inside mod a, do I need to declare "mod c;" inside "a.rc"?
[23:16:08] <nejucomo> a.rs already has "mod c;"
[23:16:17] <cmr> that pattern currently isn't possible.
[23:16:21] <kimundi> nejucomo: If there is any mod c already, then no
[23:16:23] <cmr> well
[23:16:26] <cmr> that sounds weird
[23:16:30] <cmr> what's your crate root?
[23:16:32] <strcat> nejucomo: .rc is a dead convention, btw, we just use .rs now
[23:16:38] <nejucomo> a.rc
[23:16:41] <nejucomo> Ok.
[23:17:01] <benh> I kinda liked .rc :(
[23:17:03] <nejucomo> Anyway, if A is the root, and all the "public stuff" is in B, and B uses C, does A need to declare "mod C"?
[23:17:13] <benh> made it clear which file was the top of the crate 
[23:17:13] *** Joins: chat (chat@moz-1FF744E2.members.linode.com)
[23:17:22] <strcat> benh: file detection based on extensions didn't like it ;p
[23:17:25] <kimundi> nejucomo: Did you read http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system already?
[23:17:42] *** Quits: aeqwa (aeqwa@moz-99CE9D38.dsl.tropolys.de) (Quit: Lost terminal)
[23:17:43] <nejucomo> kimundi: yes.
[23:18:53] * nejucomo experiments.
[23:19:00] <kimundi> nejucomo: Well, as is explained there, you need one mod x; per source file, and need to build a module tree starzing from your crate root
[23:19:34] <kimundi> nejucomo: Once you decided where the modules end up at, you can then reference to them from other modules with use statements
[23:19:59] *** Joins: ofeldt (ofeldt@moz-585C498C.dip0.t-ipconnect.de)
[23:20:10] <nejucomo> Ohâ€¦  I had: "use C;" instead of "mod C;"
[23:20:39] *** Quits: ofeldt- (ofeldt@moz-2414816B.dip0.t-ipconnect.de) (Ping timeout)
[23:21:18] <kimundi> nejucomo: Whether you have ROOT { mod a; mod b; mod;c } or ROOT { mod a { mod b { mod c; }} } is your decision, you just need to get the privacy stuff and uses paths correct and both works
[23:21:59] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[23:23:47] <acrichto> brson: http://static.rust-lang.org/doc/master/ng/std/index.html
[23:23:52] <acrichto> (doc builder worked)
[23:24:20] *** Quits: jstevans (Instantbir@moz-4571E922.wireless.umnet.umich.edu) (Ping timeout)
[23:25:01] <strcat> does that mean you can kill off the old rustdoc now?
[23:25:40] <acrichto> perhaps, we may want both for awhile
[23:25:45] <nejucomo> Hmâ€¦  I'm still confused.  Currently I have ROOT.rc which has: "mod a; mod b;", then inside *both* a.rs and b.rs I have: "#[macro_escape] macroutils;"
[23:26:09] <brson> acrichto: nah, let's move the new docs up a level and kill old rustdoc now
[23:26:11] <nejucomo> This seems to work, even though from the tutorial I would have thought this implies paths of ./a/macroutils.rs and ./b/macroutils.rs.
[23:26:12] <brson> get 0.8 done
[23:26:18] <nejucomo> But there is only ./macroutils.rs
[23:26:32] <strcat> brson: there's still the issue with the linux snapshot
[23:26:38] <brson> strcat: what issue?
[23:26:41] <strcat> links to libtinfo.so which doesn't exist outside of debian
[23:26:57] <acrichto> brson: ok cool, I'll polish that off tonight
[23:26:57] <strcat> happened with the last snapshot
[23:27:17] <strcat> brson: https://github.com/mozilla/rust/issues/9334
[23:27:37] <kimundi> nejucomo: it only looks in sub directories if the mod foo; statements are in nested mod { ... } groups
[23:27:38] <brson> strcat: do we have any idea how to fix this?
[23:28:11] <nejucomo> So then: mod a; where a.rs has "mod b" is not the same as: mod a { mod b; } ?
[23:28:22] <kimundi> nejucomo: mod a { mod macroutils; }  mod b { mod macroutils; } would look in /a/macroutils and /b/macroutils
[23:28:34] <strcat> brson: well, I don't really know why it would have started happening unless the snapshot build env changed
[23:28:38] <kimundi> nejucomo: It is the same from the module hierachy
[23:28:48] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[23:28:50] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[23:28:51] <brson> strcat: or llvm took a new dependency?
[23:28:53] <nejucomo> So that sounds to contradict the tutorial, which says that "mod a;" is the same as: "mod a { â€¦ file contents of a.rs }"
[23:28:54] <kimundi> nejucomo: Just not the same from the way rustc looks for the source file
[23:28:54] <strcat> brson: but it means anyone using fedora, arch, opensuse, etc. who tries to build rust will hit a missing .so issue
[23:29:03] <strcat> brson: libtinfo is part of ncurses, but debian splits it out
[23:29:19] <nejucomo> -but the two cases are different because rustc searches for different paths.
[23:29:39] <brson> strcat: the snapshot builders are the same as they always were
[23:29:51] *** Quits: heftig (heftig@moz-9876B34B.dip0.t-ipconnect.de) (Ping timeout)
[23:29:53] <brson> I think they are running centos ...
[23:30:10] *** Joins: heftig (heftig@moz-9876B34B.dip0.t-ipconnect.de)
[23:30:13] <strcat> odd :s
[23:30:15] <kimundi> nejucomo: The only thing different between those two is the way rustc lloks for the path. From the logical hierachy of the module tree they are identical.
[23:31:33] <kimundi> nejucomo: I tried my best to explain that in http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system 17.4, but maybe it's just not clear enough yet. :P
[23:31:33] <nejucomo> Ok.  I think I understand the exception.  Still, it seems like an exception to the statement: "So, in short mod foo; is just syntactic sugar for mod foo { /* include content of foo.rs or foo/mod.rs here */ }."
[23:31:55] <nejucomo> That statement is in 17.4.
[23:32:07] <strcat> brson: I guess it means LLVM starting linking against ncurses, and it's not a portable dep due to the splitting
[23:32:07] <brson> strcat: so are the arch builds currently broken?
[23:32:10] <strcat> brson: yep
[23:32:21] <kimundi> nejucomo: You'll notice that that sentecne never talks about in which directory it looks for foo.rs or foo/mod.rs :P
[23:32:21] <strcat> rusti is several days old since the auto-builder doesn't work
[23:32:57] * nejucomo tries mentally editing the 17.4 to see if it can be made clearer...
[23:33:03] <strcat> brson: on my own machine I added a symlink, but it's a hack and will make other things I build link against libtinfo so it's not good
[23:33:31] <strcat> I think it's an ncurses configure option
[23:33:41] <strcat> or maybe it actually requires patches to split it out
[23:33:46] <kimundi> nejucomo: The exact explanation is two paragraphs below that#
[23:33:50] <geal> hi! I have a bug related to https://github.com/mozilla/rust/issues/5585 , which is in "production ready" milestone. I know this task can be large, but if there is a easy fix for my case, going in the right direction, can I submit a separate issue?
[23:35:34] <nejucomo> kimundi: Ah, I see.
[23:35:36] <kimundi> nejucomo: With a largish second example below that :P
[23:35:57] <nejucomo> Sure, but that example doesn't cover the case of transitive "mod" relationships across files.
[23:36:36] <kimundi> oh, true
[23:36:40] <nejucomo> In that example, animals/fish is a path, but if instead there were an animals mod file and it said mod fish, the same module hierarchy would exist, but animal and fish files would be siblings, rather than fish living inside an animal directory.
[23:36:40] <brson> ldd doesn't show my librustllvm linking to either ncurses or tinfo
[23:36:48] *** Quits: ww (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:09] <kimundi> nejucomo: right
[23:37:18] <strcat> brson: mine links to ncursesw.so
[23:37:23] <kimundi> nejucomo: I see how that can be misudnerstood
[23:37:58] <brson> strcat: hm, I don't have ncurses-dev installed so maybe my local configuration just turned the feature off
[23:37:59] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[23:37:59] <nejucomo> I think I'll make all variations of the mod a { mod b { â€¦ } } hierarchy in different directory structures to compare them.
[23:38:00] <strcat> and this is in the snapshot one
[23:38:03] <strcat> libtinfo.so.5 => /usr/lib/libtinfo.so.5 (0x00007f6c75971000)
[23:38:08] <strcat> brson: that's likely
[23:38:24] <nejucomo> However, the paragraph you mentioned two below the "include" statement that confused me is quite clear.
[23:39:19] <strcat> brson: and yeah I looked into it and it's a non-default ncurses configure option
[23:39:31] <nejucomo> Maybe those details should be moved up to immediately where it introduces the concept of looking at another file, the paragraph which says: "If you declare a module without its body, like mod foo;, the compiler will look for the files foo.rs and foo/mod.rs."  That paragraph could simply mention "foo.rs and foo/mod.rs are always relative to the source file where "mod foo;" appears."
[23:39:43] <strcat>   --with-termlib          generate separate terminfo library
[23:39:46] <strcat>   --with-ticlib           generate separate tic library
[23:39:59] <nejucomo> I might be too nitpicky because I often misread or skip over partsâ€¦
[23:40:23] <strcat> I could probably convince our ncurses maintainer to do it but it's not going to help people on other distros :)
[23:41:15] * strcat looks at LLVM's build sys
[23:41:48] <brson> llvm has --disable-terminfo that i'm going to try out on the bots
[23:41:54] <brson> per someone's suggestion in #llvm
[23:42:27] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:43:03] <tiffany> oh wow
[23:43:10] <tiffany> I sort of have this working
[23:43:18] <tiffany> using std::comm rather than a recursive data structure
[23:43:58] <zxcdw> For what it's worth, I too ran to the libtinfo problem today
[23:45:37] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:45:57] <hoverbear> cmr, strcat: Ok, makes sense.
[23:48:07] *** Quits: TheDust (Stijn@moz-8C2076C2.upc-d.chello.nl) (Quit: Leaving)
[23:49:26] *** Joins: berga (berga@moz-ABA84A4F.a288.priv.bahnhof.se)
[23:50:38] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[23:50:43] *** Quits: heftig (heftig@moz-9876B34B.dip0.t-ipconnect.de) (Ping timeout)
[23:51:54] *** Joins: heftig (heftig@moz-9876B34B.dip0.t-ipconnect.de)
[23:52:06] <tiffany> is it possible to make a SharedPort out of an &Port?
[23:53:07] *** Quits: nejucomo (Adium@moz-AC868E2D.hfc.comcastbusiness.net) (Quit: Leaving.)
[23:53:31] <tiffany> hm
[23:53:36] <strcat> brson: looks like a bad idea to link against ncurses anyway because they break their ABI with each release
[23:53:42] <tiffany> can you clone SharedPorts?
[23:53:56] <strcat> brson: so in a way it's good that the libtinfo problem alerted us to it... might have caused weird segfaults
[23:54:18] <brson> tiffany: SharedPorts are clonable, yes, but creating one consumes the Port, so you can't get one from &Port - you need a Port
[23:54:33] <tiffany> ah
[23:54:39] <tiffany> so I should be passing SharedPorts
[23:55:32] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:56:38] *** Joins: maik (maik@moz-C09804C4.dip0.t-ipconnect.de)
[23:59:58] *** Quits: tikue_ (tkuehn@E004E0C5.B9B3942C.689607DE.IP) (Ping timeout)
