[00:00:10] <jmgrosen> ChrisMorgan: x[y..z]
[00:00:13] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[00:00:31] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:00:50] <jmgrosen> (and x[..z], x[y..], x[..])
[00:01:08] <SiegeLord> How are you implementing it?
[00:01:44] <jmgrosen> SiegeLord: well, I've implemented the parsing already, which was fairly simple; I added a new ExprSlice
[00:01:52] <jmgrosen> now for the compiler part of it :P
[00:02:15] <SiegeLord> Are you adding a new overloadable operator? Or will it be sent to the indexing operator (if any)?
[00:02:18] <jmgrosen> I'll add a Slice trait with .slice(a, b), .slice_to(b), .slice_from(a), and .as_slice()
[00:02:29] <jmgrosen> https://github.com/mozilla/rust/issues/4160
[00:02:36] <SiegeLord> That seems reasonable I suppose
[00:03:16] <SiegeLord> Are you doing the mut one as well?
[00:03:30] <jmgrosen> not for the moment, at least
[00:03:36] <olsonjeffery> :'(
[00:03:42] <SiegeLord> I also note this'll conflict with ..Tuple
[00:04:09] <jmgrosen> SiegeLord: what syntax is that?
[00:04:19] <SiegeLord> It's not in existence yet, only proposed
[00:04:20] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[00:04:36] <jmgrosen> okay, but what is it?
[00:04:59] <SiegeLord> let a = (1,); let b = ..a;
[00:05:13] <SiegeLord> b will be 1, if I understand the proposal correctly
[00:05:36] <jmgrosen> does it take the last element, or first, or...?
[00:06:10] <SiegeLord> All of them. You could do... let a = (1, 2); let b = (..a); // b is now a 2 tuple
[00:06:27] <SiegeLord> I wonder if I can find the issue for it...
[00:06:51] <jmgrosen> I don't really understand -- how is it different from just `let b = a;`, then?
[00:07:59] <SiegeLord> https://github.com/mozilla/rust/issues/10124
[00:08:12] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:08:17] <kimundi> jmgrosen: The problem is that ..EXPR becomes a valid expression
[00:08:46] <SiegeLord> I don't necessarily think that's the best syntax for tuple expansion, mind you
[00:08:50] <TheHydroImpulse> What is the appropriate term for methods in Rust? I heard the term associative somewhere but can't find any references.
[00:08:59] <kimundi> TheHydroImpulse: method
[00:09:13] <kimundi> assoziated functions are non-methods :P
[00:09:21] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:09:26] <TheHydroImpulse> kimundi ahh, thanks.
[00:09:40] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[00:09:51] <kimundi> TheHydroImpulse: That is, assoziated methods are static functions that are assoziated with a type or a trait impl
[00:10:10] <SiegeLord> I wonder if a stride is out of the question for this...
[00:10:20] <SiegeLord> Or maybe one will do [..(1, 2)] or something
[00:10:49] <jmgrosen> ah, I get it now
[00:10:51] <SiegeLord> It's not useful for built-in vectors, but for a matrix library it'd be neat
[00:10:51] <jmgrosen> hm
[00:12:03] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[00:12:16] <strcat> SiegeLord: lazy C++ way is matrix(x, y, z) ;p
[00:12:31] <strcat> or do you mean something else?
[00:12:39] <SiegeLord> I mean slicing with a stride
[00:12:56] <strcat> hm, how would that be a slice though?
[00:13:14] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[00:13:23] <SiegeLord> It wouldn't really be a slice, sure
[00:13:31] <SiegeLord> It'd be a view
[00:13:45] <SiegeLord> But, e.g. MATLAB, doesn't make that distinction
[00:13:50] <TheHydroImpulse> kimundi Makes sense, thanks.
[00:14:00] <SiegeLord> Or Python either, iirc
[00:14:15] <Jemaclus> ok, i give up. I'll check Rust out some more when it gets to 1.0... hopefully these problems I'm having get resolved by then.
[00:15:41] <kimundi> Jemaclus: I'm curious why you have problems - the only platform Rust really makes trouble to build for is windows... :P
[00:15:54] <SiegeLord> Like you'd doing [0:5] [0:1:5] would do the same thing in MATLAB
[00:16:32] <SiegeLord> For now, I was planning on doing view!(M, 0..1..5) or something
[00:16:38] <Jemaclus> kimundi: I'm getting a handful of errors, and I haven't figured out the proper patches to resolve all of them
[00:16:47] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[00:16:58] <Jemaclus> I'm on Mac OS X 10.9.
[00:17:03] <kimundi> Jemaclus: You'Re using OsX, right?
[00:17:11] <Jemaclus> got the "ar s" error for awhile, but jack gave me a patch yesterday that seemed to resolve that one
[00:17:18] *** Quits: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net) (Quit: Leaving.)
[00:17:33] <Jemaclus> but now I alternate between ioErrors (permission denied) and errors like: mk/install.mk:151: *** Aborting install because more than one library matching libstd-*.dylib is present in build tree x86_64-apple-darwin/stage2/lib: .  Stop.
[00:17:44] <kimundi> hm... Sadly I have no experience with OS X :(
[00:18:03] <Jemaclus> I've updated xcode, command line tools, I've removed the build folders, run make clean, and so on
[00:18:07] <kimundi> Jemaclus: Those sound easyly fisable
[00:18:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[00:18:15] <Jemaclus> and none of them work
[00:18:16] <kimundi> the permission and libstd ones, anyway
[00:18:34] <Jemaclus> if you have fixes for those, i'm happy to give it a try
[00:18:55] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:19:02] <Jemaclus> but I've been messing with this for the last 3 days.. takes half an hour to build it, only to fail at some point
[00:19:14] <Jemaclus> allegedly, the issues I've mentioned have been fixed (the issues have been closed and pull requests merged)
[00:19:20] <Jemaclus> but i'm still having problems
[00:19:21] <Jemaclus> :(
[00:20:40] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:21:15] <kimundi> Jemaclus: The multiple std ones just mean that there are build artifacts of old versions in the build folder - cleaning them out and rebuilding should solve that one, afaik
[00:21:31] <Jemaclus> yeah
[00:21:44] <Jemaclus> shouldn't that be handled by make clean or something?
[00:21:48] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[00:21:57] <Jemaclus> I mean, I probably shouldn't have to manually clean them out myself, no?
[00:22:07] *** Joins: Cevn (sameer@moz-84053B42.hsd1.va.comcast.net)
[00:22:08] <Jemaclus> (I have been so far)
[00:22:20] <kimundi> our make clean targets are always a bit flaky - they don'T always cover everything
[00:22:29] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[00:23:03] <Jemaclus> ok, so I removed the build folder
[00:23:07] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:23:10] <Jemaclus> I'm gonna run ./configure
[00:23:16] <Jemaclus> then what? make clean? just make?
[00:23:25] <kimundi> just make
[00:23:26] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[00:23:38] <Jemaclus> ok, making
[00:24:00] *** Quits: Cevn (sameer@moz-84053B42.hsd1.va.comcast.net) (Ping timeout)
[00:24:30] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:25:06] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:26:25] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[00:26:26] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[00:26:46] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:26:59] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[00:27:27] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:28:17] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:29:01] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:29:17] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[00:30:19] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:31:01] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Ping timeout)
[00:32:05] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:32:43] <ziad> Jemaclus, kimundi: I think the better way to clean was "git clean -xdf", it was recommended by someone on here, forget who though
[00:32:43] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:34:27] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:34:40] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[00:34:58] <chromatic> Only works for a git checkout though. I didn't catch if Jemaclus was using a checkout or a tarball.
[00:35:31] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[00:39:41] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:39:50] <Jemaclus> ziad: i'll try that if this doesn't work. thanks.
[00:39:52] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:39:53] <Jemaclus> chromatic: checkout :)
[00:40:20] *** Quits: bytewise (bytewise@moz-175CA5D5.adsl.alicedsl.de) (Quit: Leaving)
[00:41:17] *** Joins: RagingDave (RagingDave@moz-8964F469.pools.arcor-ip.net)
[00:41:26] *** Quits: RagingDave (RagingDave@moz-8964F469.pools.arcor-ip.net) (Connection reset by peer)
[00:44:33] *** Joins: Cevn (sameer@moz-84053B42.hsd1.va.comcast.net)
[00:45:07] *** Quits: hays (quassel@moz-419EDB32.washdc.east.verizon.net) (Ping timeout)
[00:46:17] *** Quits: Cevn (sameer@moz-84053B42.hsd1.va.comcast.net) (Ping timeout)
[00:46:31] *** Joins: hays (quassel@moz-DFBD931B.washdc.east.verizon.net)
[00:50:20] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[00:51:03] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:51:10] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:51:25] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:51:41] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[00:51:50] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[00:52:19] <Yurume> brson, bvssvni: thanks, a bit unexpected though :)
[00:52:52] <Yurume> the context: http://cosmic.mearie.org/2014/01/periodic-table-of-rust-types/ (was published in #rust-internals as a draft, got redditted then)
[00:53:14] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:53:51] <bascule> needs more access capability in the URL ;)
[00:54:23] <Yurume> lol
[00:54:55] * bascule posts to Twitter! :O
[00:54:57] *** Joins: Savago (Savago@4C500BA5.40BDE760.18DDB669.IP)
[00:55:00] <Yurume> maybe I should make the URL something like /2014/01/super-secret-do-not-link-yet/periodic-table-of-rust-types/ :)
[00:55:04] <bascule> unless you think that's a bad idea ;)
[00:55:05] <bascule> hahaha
[00:55:43] <diverse> Yurume: love the table. Did you make this?
[00:55:51] <Yurume> yeah!
[00:56:00] <bascule> Yurume: can I tweet it? :O
[00:56:02] <diverse> Awesome work.
[00:56:06] <Yurume> sure!
[00:56:10] <bascule> wooo!
[00:56:12] <Yurume> it has been tweeted several times already
[00:56:30] <mcpherrin> Yeah, I saw it posted in some completely un-rust IRC channels a few hours ago :)
[00:56:53] <diverse> mcpherrin: which channels specifically? :P
[00:57:13] <mcpherrin> private ones, sorry ;)
[00:57:14] *** Joins: biardjd (kzzch@moz-BB97B490.washdc.fios.verizon.net)
[00:57:24] <mcpherrin> spreading all over the intertubenets
[00:57:24] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[00:57:45] <diverse> mcpherrin: at least it spreads like wild fire
[00:57:47] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[00:58:31] *** Joins: Jesin (Jesin@moz-A43618DF.res.lehigh.edu)
[00:58:31] <Yurume> at least I've managed to submit that link to /r/programming and HN myself. (since it will be submitted someone else anyway...)
[00:58:48] <mcpherrin> gotta get those internet points :-)
[00:59:25] *** Joins: steveno (steveno@moz-2B2BE86F.hsd1.pa.comcast.net)
[00:59:36] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[00:59:36] *** ChanServ sets mode: +ao brson brson
[00:59:52] *** Joins: hoverbear (hoverbear@moz-C2B3C905.wireless.uvic.ca)
[00:59:57] <bascule> Yurume: upboated!
[01:00:15] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[01:00:32] <hoverbear> https://github.com/Hoverbear/rust-rosetta/pull/2 <== +1! Cool!
[01:00:47] *** Joins: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au)
[01:00:47] *** Joins: anoxic (Mibbit@moz-B5C94A58.static.kgpt.tn.charter.com)
[01:00:51] <bascule> nice!
[01:01:11] <hoverbear> I never get pull requests. :3
[01:01:55] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[01:01:56] *** Quits: anoxic (Mibbit@moz-B5C94A58.static.kgpt.tn.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[01:02:19] <Jemaclus> hmm. so make worked that time.
[01:02:36] <Jemaclus> now.. make install, right?
[01:03:01] <kimundi> Jemaclus: yeah, or sudo make install - not sure how that works permission wise on OS X
[01:03:21] <Jemaclus> @#%^$^*U&$#@$
[01:03:27] <Jemaclus> mk/install.mk:128: *** Aborting install because more than one library matching libstd-*.rlib is present in build tree x86_64-apple-darwin/stage2/lib/rustlib/x86_64-apple-darwin/lib: .  Stop.
[01:03:29] <Jemaclus> fuuuu
[01:03:44] *** Quits: Savago (Savago@4C500BA5.40BDE760.18DDB669.IP) (Quit: Savago)
[01:04:05] <kimundi> heh, its a different error this time! :P
[01:04:25] <kimundi> this time, its complaining about rlib instead of dynlib :P
[01:04:35] <Jemaclus> lovely.
[01:04:54] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[01:05:03] <kimundi> can you try deleting all older rlib files in that folder too? - though in theory it really shouldn't have such problems
[01:05:38] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[01:06:24] <Jemaclus> there aren't any rlibs in that folder
[01:06:40] <Jemaclus> just a bunch of dylibs
[01:07:19] *** Quits: hays (quassel@moz-DFBD931B.washdc.east.verizon.net) (Ping timeout)
[01:07:26] <kimundi> uuh, okay :P - For what its worth, I remeber other people having exactly the same problem on OS X
[01:07:32] <Jemaclus> yeah
[01:07:36] <chromatic> Maybe it's a misleading error message then and it means there are *no* rlibs?
[01:07:49] <Jemaclus> heh
[01:07:50] <Jemaclus> well
[01:07:58] <Jemaclus> to get rid of the "ar s" error, someone said to not generate rlibs
[01:08:10] *** Joins: hays (quassel@moz-44FAC495.washdc.east.verizon.net)
[01:08:30] <Jemaclus> https://github.com/mozilla/rust/issues/11162
[01:08:42] <Jemaclus> there was another patch that jack provided me that disables that
[01:08:52] <Jemaclus> dunno if that screws up a whole lot of other stuff
[01:09:00] <Jemaclus> anyway, i'll tinker with it.
[01:09:23] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[01:10:23] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[01:11:29] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[01:11:29] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[01:13:23] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[01:13:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:14:18] *** jorendorff_away is now known as jorendorff
[01:14:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[01:15:04] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:15:35] *** Quits: dbaupp (Thunderbir@moz-6002BAEA.lns20.syd6.internode.on.net) (Ping timeout)
[01:16:03] <Jemaclus> any particular reason the .dylib files are 0 bytes?
[01:16:57] <Jemaclus> meh. i gotta run. 
[01:17:00] <Jemaclus> thanks for the help, guys.
[01:17:06] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:18:46] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:19:06] *** jorendorff is now known as jorendorff_away
[01:19:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[01:20:12] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:21:56] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:21:56] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[01:25:13] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:27:50] *** flaper87 is now known as flaper87|afk
[01:30:31] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:30:42] *** Joins: b1nd (b1nd@moz-5A306E04.lns17.ken.bigpond.net.au)
[01:31:27] <jmgrosen> anyone interested in a SoCal rust meetup? :P
[01:31:41] <b1nd> I'm interested, but live in Australia :(
[01:31:58] <diverse> jmgrosen: sure, where specifically?
[01:32:07] <biardjd> ditto, but i'm near D.C.
[01:32:15] <jmgrosen> nowhere yet, just an idea
[01:33:03] *** Quits: igork (Adium@9C577557.7893D71C.6E0EE79F.IP) (Quit: Leaving.)
[01:34:20] <aatch> b1nd, woo, another one...
[01:34:24] * aatch lives in NZ
[01:34:53] <b1nd> aatch, haha bloody sheep shagger :P
[01:35:10] <bjz>   b1nd : what city?
[01:35:13] <aatch> b1nd, I'm just kidding. I'm actually English anyway, just live here
[01:35:20] <diverse> jmgrosen: somewhere around LA or long beach would be perferable for me
[01:35:29] <b1nd> bjz, Newcastle (north of Sydney)
[01:35:40] <bjz> b1nd: ahh, neat
[01:35:55] <b1nd> bjz: aussie as well?
[01:35:56] <bjz> b1nd: I think dbaupp is from Sydney
[01:36:08] <bjz> me and ChrisMorgan are from Melbourne
[01:36:08] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[01:36:23] <diverse> b1nd: btw, nice catch on this: https://github.com/mozilla/rust/pull/11547
[01:36:47] <b1nd> diverse: haha, thanks
[01:36:48] <jmgrosen> diverse: yeah, that's probably where most people would be (although I'm a little farther north)
[01:37:10] <b1nd> bjz: Nice, yea as soon as I graduate, i'd like to Melbourne
[01:37:13] <b1nd> maybe sydney though
[01:37:19] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[01:37:26] <bjz> Meblourne is great
[01:37:34] <bjz> woah interesting spelling
[01:37:35] <ChrisMorgan> And Melbourne is even better.
[01:37:41] <b1nd> lol
[01:37:57] <b1nd> bjz: Is there a good developer community down there?
[01:37:58] *** Quits: jadbaires (jadrian@moz-EE1C894.dsl.telepac.pt) (Ping timeout)
[01:38:00] <bjz> but yeah - very cosmopolitan. 
[01:38:12] *** Joins: Savago (Savago@4C500BA5.40BDE760.18DDB669.IP)
[01:38:12] <aatch> Meblourne is the cheap knock-off
[01:38:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:38:32] <bjz> b1nd: I go to the local functional user group
[01:38:34] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:38:44] <bjz> b1nd: but tbh I'm not sure outside that
[01:38:55] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:39:05] <b1nd> bjz: Yea fair enough
[01:39:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[01:39:22] <bjz> b1nd: they have other meetups around it seems, but they don't really interest me all that much
[01:39:36] <b1nd> Rust is so beautiful, totally loving it. Can't wait to play around with some 3D stuff
[01:39:50] <bjz> b1nd: yeah, I do libs for that stuff
[01:39:58] <bjz> head to #rust-gamedev
[01:40:08] <b1nd> bjz: Yea I know what you're saying. Recently quit gaming (was competitive for a bit) and now I have all this spare time
[01:40:11] <bjz> that's where we do the cg chatting
[01:40:42] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:40:42] <b1nd> cool
[01:40:46] <b1nd> thanks
[01:40:47] *** Joins: jadbaires (jadrian@B338873B.2E7B5617.6119BA41.IP)
[01:40:51] <bjz> yeah, as much as I like playing games, it's good to be able to do the creating as well as the consuming
[01:41:01] <b1nd> haha yea def
[01:41:03] <_Vi> Why the code with format!("{:?}", ...) compiles much slower (0.6 seconds more) that with just format!("{}",...)?
[01:41:18] <b1nd> I'd love to do a doom port in rust
[01:41:20] <_Vi> s/that/than/
[01:41:59] <bjz> b1nd: chat on the gamedev channel?
[01:42:11] <ChrisMorgan> _Vi: :? needs reflection and is thus necessarily slower at both compile and run time. But 0.6 seconds more? That sounds odd.
[01:42:13] <bjz> _Vi: :? uses reflection
[01:42:22] <bjz> yeah ^
[01:42:35] <_Vi> ChrisMorgan, It's little program with only println and format!.
[01:42:37] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[01:42:48] <SiegeLord> Not surprising to me, that's about what I observed too
[01:42:53] *** Quits: hoverbear (hoverbear@moz-C2B3C905.wireless.uvic.ca) (Quit: Taking a nap.)
[01:43:05] *** Quits: gwty (gwtypc@C24C93D9.918BC1CC.137C914F.IP) (Connection reset by peer)
[01:43:50] <SiegeLord> Just re-measured, about 0.4 secs
[01:44:02] * ChrisMorgan is very surprised it's that great
[01:44:14] <SiegeLord> 0.58 -> 0.18
[01:44:32] <SiegeLord> One of the reasons why rusti is kind of slow
[01:44:57] *** Quits: nik_ (nik@moz-936786A3.pool.mediaways.net) (Quit: Leaving)
[01:45:27] <_Vi> BTW is there eval implementation for Rust (like for Haskell)? It is expected to build the supplied code as a library, load the library and execute function from it.
[01:45:47] <ChrisMorgan> _Vi: there's librustc
[01:45:47] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[01:46:08] *** Joins: gwty (gwtypc@C3EE6AF0.BB20A64A.49FF672.IP)
[01:46:10] <tjc> _Vi: If you mean eval like Lisp or JavaScript has, it would be extremely challenging to make that type-safe.
[01:46:21] <ChrisMorgan> Basically, the answer is no. If you're willing to work hard enough, then something like that can be done.
[01:46:49] <_Vi> tjc, Eval library for Haskell also does some trickery to ensure type safety at the boundary of your code and built code.
[01:47:13] <ChrisMorgan> You'd need to have it operating in a different process, though, as dynamic loading of crates (dlopen/dlclose) is not implemented yet (there's foundational work on it, though).
[01:48:10] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:48:14] <tjc> _Vi: I'm not too familiar with the one for Haskell, but I suppose if someone wanted to adapt it to Rust and it could be done as a library, it would potentially be considered
[01:48:25] <tjc> though as ChrisMorgan said, finishing dynamic loading would be a prerequisite
[01:48:47] <tjc> it wouldn't be a trivial project, but it could be fun for someone who wanted to sink their teeth into runtime stuff
[01:50:10] <bascule> librustc, eh?
[01:50:16] <bascule> I need to rewrite irust in Rust
[01:50:35] <mcpherrin> I'd love for somebody to finish dynamic loading so I could use it for text editor plugins
[01:51:30] * ChrisMorgan would like to write a Vim clone in Rust, black-box approach—one with a code base that would actually be reckoned maintainable, and for which new non-text features (e.g. large rich tooltips/autocompletion, graphical icons in places—I mean the ability; some of these might not be a good idea) could then *reasonably* be added.
[01:51:47] <bascule> ChrisMorgan: nice
[01:51:55] * ChrisMorgan very much doubts that he ever will
[01:51:59] <mcpherrin> ChrisMorgan: I was thinking of writing an Emacs clone in Rust >:D
[01:52:06] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:52:14] <bascule> lolol
[01:52:20] <bascule> may the best clone win!
[01:52:22] <mcpherrin> Editor wars: The Rust versions
[01:52:25] * ChrisMorgan would expect Vim to be a much more achievable target in that regards
[01:52:35] *** Joins: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP)
[01:52:42] <_Vi> Is dynamic Rust library loading considered a prerequisite for The Rust 1.0?
[01:52:42] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[01:52:44] <mcpherrin> ChrisMorgan: More the way Emacs core architecture is implemented than any actual features
[01:53:05] <aatch> ChrisMorgan, heh, I tend to think the same thing.
[01:53:07] <mcpherrin> _Vi: I'd hanker a guess "no" since dynamic loading shouldn't change the language
[01:53:27] *** Quits: kphelps (kyle@moz-8B098CA5.hsd1.ma.comcast.net) (Quit: leaving)
[01:53:28] <mcpherrin> I actually use Vi; I'd probably give it a vi-ish interface
[01:53:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:53:40] <ChrisMorgan> I do not expect dynamic crate loading to block 1.0.
[01:53:45] <aatch> *Technically* dynamic loading can be done via the OS apis already.
[01:53:47] <ChrisMorgan> mcpherrin: Vi? Not Vim?
[01:53:50] <mcpherrin> Writing a text editor is third on my list of Rust projects, unfortunately 1 and 2 are rather large
[01:54:00] <mcpherrin> ChrisMorgan: Oh I mean vim.
[01:54:29] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[01:54:36] <ChrisMorgan> mcpherrin: mine is probably (1) HTTP library; (2) full web framework; (3) Vim clone
[01:55:10] <mcpherrin> (1) Operating system (2) cscope/ctags style searcher (3) Text Editor
[01:55:15] *** Quits: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com) (Ping timeout)
[01:55:17] *** Joins: omegaga_ (omegaga_@DF47E728.25165A39.3F03179E.IP)
[01:55:47] <mcpherrin> (2) might end up being largely in python though, at least on the indexer side, for libclang's python bindings (and python's python bindings)
[01:56:02] <ChrisMorgan> Oh yeah, ctags emitter for Rust code. Forgot that. I'll probably put it before Vim clone. Anyone else want to do that first? It's a fairly easy project, really.
[01:56:20] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[01:56:26] * ChrisMorgan just noticed that https://www.ohloh.net/p/rust-lang now shows proper Rust statistics! Yay!
[01:56:46] <mcpherrin> ChrisMorgan: I was going to do that but I'm kinda unhappy with the ctags format so ... I'm reinventing everything :-)
[01:56:51] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[01:56:59] <mcpherrin> I'll write a ctags emmiter for whatever DB format I write though ;)
[01:57:01] <ChrisMorgan> mcpherrin: keep the ctags format so that it can be used in text editors.
[01:57:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:57:43] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[01:57:45] <mcpherrin> So I'm thinking (source) -> libclang/asteroid/librustc/etc tool -> (new format) -> converters -> ctags/cscope/id/gid/etc
[01:58:09] <ChrisMorgan> Looks like Ohloh finally finished adding Rust support in the last day, as rust-http isn't yet showing Rust code, last analysed 16 hours ago. (rust-lang last analysed 2 hours ago is showing Rust code.)
[01:58:54] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:59:07] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[01:59:13] <_Vi> BTW when IDEs for Rust with really good completion (complete "use ...", type-savvy complete of functions and variables) and documentation integration are expected to appear?
[01:59:45] <mcpherrin> _Vi: I am not aware of anybody immediately working on that problem.
[01:59:50] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[02:00:06] <tjc> _Vi: as far as I know, Mozilla doesn't have any medium-term plans to produce such a thing. It would depend on when a volunteer (or group of volunteers) stepped up to do it.
[02:00:17] <_Vi> Expecting something like "When Rust 1.0 comes out + 3 years" or "when about 2 major products implemented in Rust"...
[02:00:35] <mcpherrin> _Vi: When somebody is motivated enough to do it  ;)
[02:00:46] <ChrisMorgan> Oh, great. Rustdoc isn't working for emitting JSON ☹
[02:00:53] <diverse> mcpherrin: +1
[02:01:26] <mcpherrin> _Vi: I don't know of anybody who even has it on their radar.  Hard to give you an estimate without that.
[02:01:34] *** sam113101 is now known as sam113101_afk
[02:02:06] <SiegeLord> There isn't really an infrastructure for it
[02:02:06] <ChrisMorgan> $ echo '#[crate_id = "foo"];' | rustdoc -w json /dev/stdin
[02:02:07] <ChrisMorgan> task '<main>' failed at 'Rust generated JSON is invalid??', /home/chris/vc/rust/src/librustdoc/lib.rs:338
[02:02:27] <SiegeLord> I don't recall it ever working
[02:02:39] <tjc> _Vi: So far as I know, there isn't a plan going out beyond Rust 1.0.
[02:02:40] * ChrisMorgan throws up his hands in despair
[02:02:46] <tjc> I mean, an official schedule or something like that.
[02:02:49] <bascule> 449864
[02:02:50] * ChrisMorgan catches them and reattaches them
[02:03:07] *** sam113101_afk is now known as sam113101
[02:03:50] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:07:16] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:07:57] <ChrisMorgan> Oh dbaupp, you thief… I was just submitting Ohloh supporting Rust to /r/rust myself…
[02:10:27] *** Quits: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Quit: Leaving)
[02:12:06] <TheHydroImpulse> Does Rust have support for Variadic functions?
[02:12:23] <strcat> it doesn't have type-safe variadic functions
[02:12:32] <strcat> it just has support for unsafe foreign C varags
[02:12:52] <TheHydroImpulse> strcat ahh, ok. Thanks
[02:13:02] *** Joins: sehugg (sehugg@moz-42540923.res.bhn.net)
[02:14:27] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[02:14:59] *** Joins: maxiepoo_ (Max@moz-13F4F196.nuwlan.northwestern.edu)
[02:15:44] *** Joins: Jemaclus (Mibbit@moz-5A4BC30.hsd1.ca.comcast.net)
[02:16:35] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[02:16:46] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:17:13] <Jemaclus> new idea, run Rust in a VM :D
[02:17:44] *** Quits: jadbaires (jadrian@B338873B.2E7B5617.6119BA41.IP) (Ping timeout)
[02:17:46] <Jemaclus> or compile, rather.
[02:18:40] <kimundi> Jemaclus: That ought to work at least ;)
[02:18:42] <TheHydroImpulse> strcat Is there a way to define a foreign function within Rust itself. Seems like I'm only able to define it's prototype.
[02:18:58] <strcat> TheHydroImpulse: extern "C" fn foo() {}
[02:19:47] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Connection reset by peer)
[02:20:14] <TheHydroImpulse> mm, I guess it just doesn't work with variadic functions then. Not sure if that's a bug or not.
[02:20:27] *** Quits: Savago (Savago@4C500BA5.40BDE760.18DDB669.IP) (Quit: Savago)
[02:20:31] *** Joins: ktt3ja (ktt3ja@moz-515C1363.hsd1.va.comcast.net)
[02:20:33] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:20:40] <strcat> is there a use case for defining a variadic function from rust?
[02:20:48] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[02:20:50] <strcat> C varargs function
[02:21:21] <mcpherrin> strcat: passing a function pointer to C code, maybe?
[02:22:08] <TheHydroImpulse> strcat Basically having a JITed function. The function signature/type is dynamic, so it can't be premade.
[02:22:48] <strcat> TheHydroImpulse: are you interacting with an existing API?
[02:22:52] *** Quits: hugoo (hugo@moz-EBFAC749.net.upcbroadband.cz) (Connection reset by peer)
[02:23:11] <strcat> I don't really understand why you need varargs for that
[02:23:30] <strcat> LLVM's JIT just makes a function and exposes it to the linker afaik
[02:24:05] <TheHydroImpulse> strcat Nothing extern, just the C standard lib. Basically, having the ability to generate a dynamic function with variable arguments and return type.
[02:24:36] <strcat> TheHydroImpulse: take a slice param and use an output parameter?
[02:24:47] *** Quits: Earnestly (earnest@moz-E86D50FA.dyn.plus.net) (Ping timeout)
[02:25:58] <TheHydroImpulse> strcat ooo, that makes sense. I'll try it out.
[02:26:05] <TheHydroImpulse> Thanks
[02:27:07] <_Vi> For to write something like "for i in [1,2,4] { ... }"? The closest call is 'fn main() { let l = ~[1,2,3]; for i in l.iter() { println(format!("qq {}",*i)); }}', but it introduces extra variable. I already know about "map" (but can't use "do" syntax for it: https://github.com/mozilla/rust/issues/11554).
[02:27:17] <_Vi> s/^For/How/
[02:27:23] *** Joins: ptc1 (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP)
[02:27:44] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[02:27:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:28:15] <strcat> _Vi: you need the variable because of the rules around lifetimes of temporaries, not because of for loops
[02:28:28] <b1nd> ^
[02:28:36] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[02:29:30] *** kimundi is now known as zz_kimundi
[02:29:30] <_Vi> strcat, What is idiomatic way to do some code for a list of things? "for" or "map"? If "map", how to call it without ugly "});" in the end?
[02:29:32] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:29:43] <strcat> _Vi: a for loop
[02:29:45] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[02:29:51] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:29:56] <strcat> map is lazy, it doesn't do anything alone
[02:30:02] *** Joins: dbaupp (Thunderbir@DF3B07E7.D5A1DCF.37681C44.IP)
[02:30:05] *** Joins: jadbaires (jadrian@B338873B.2E7B5617.6119BA41.IP)
[02:30:37] <strcat> iter.filter(|x| *x < 2).map(|x| x * 2) creates another iterator wrapping the first
[02:30:42] *** Joins: Savago (Savago@4C500BA5.40BDE760.18DDB669.IP)
[02:30:43] <strcat> it doesn't actually iterate
[02:30:48] *** Quits: Savago (Savago@4C500BA5.40BDE760.18DDB669.IP) (Quit: Savago)
[02:31:26] <b1nd> that map, lazy asshole
[02:31:26] *** Quits: espindola (espindola@563D60BB.4B7A7726.A2E931B1.IP) (Connection reset by peer)
[02:31:38] *** Joins: espindola (espindola@563D60BB.4B7A7726.A2E931B1.IP)
[02:32:07] <_Vi> So how to make "for i in [1,2,3] { print i }" in a convenient way?
[02:32:39] <strcat> for i in &[1, 2, 3] { ... }
[02:32:43] <strcat> well
[02:32:50] <strcat> for i in (&[1, 2, 3]).iter() { ... }
[02:33:14] <strcat> anyway you need a variable for your example because [1, 2, 3] is a temporary value there
[02:33:19] <strcat> and the lifetime isn't extended atm
[02:33:36] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[02:34:13] <strcat> so for x in [1, 2, 3].iter() { } is considered memory-unsafe as [1, 2, 3] isn't considered to live long enough to do that iter call
[02:34:23] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:34:27] <Yurume> _Vi: is `.iter()` too much for you? :)
[02:34:35] <dbaupp> ChrisMorgan: sorry!
[02:34:48] <ChrisMorgan> dbaupp: I forgive you
[02:34:48] <dbaupp> ChrisMorgan: (don't you know that #rust is actually just a pipe straight to /r/rust? :P )
[02:35:05] <Yurume> dbaupp: straight to /r/rust or straight from /r/rust? :)
[02:35:05] * ChrisMorgan supposes dbaupp monitors the #rust logs?
[02:35:09] <_Vi> OK. "(&[1, 2, 3])" works. I was trying without parentheses... I expect "in (&" and ").iter()" boilerplate can be further reduced with macros in needed.
[02:35:10] <mcpherrin> dbaupp: hah, should write an IRC bot that does that (posts all links from #rust to /r/rust
[02:35:32] <strcat> _Vi: temporaries will likely work differently in the future
[02:35:38] <strcat> for x in [1, 2, 3].iter() { } will likely work
[02:35:39] <dbaupp> ChrisMorgan: yes
[02:35:46] <dbaupp> ChrisMorgan: trains are boring :P
[02:35:52] <strcat> _Vi: if all you're doing is looping over a range, you want range()
[02:35:54] <_Vi> Yurume, Probably not (if I can battle it my making my for loop with the power of macros).
[02:36:03] <mcpherrin> dbaupp: what if you drive the trains with Rust?!!!
[02:36:06] <strcat> for x in range(0, 4) { } already works
[02:36:08] <dbaupp> mcpherrin: it'll post *so* many github issue links
[02:36:11] * mcpherrin writes train control code sometimes for fun
[02:36:23] <dbaupp> mcpherrin: even better!
[02:36:24] <_Vi> strcat, I's hard to make a range for ["something", "other thing"]. 
[02:36:27] <jdsanders> hey, I also have an iterator question - it seems like `map` is actually defined on `~[T]`, but `filter` is not (requires `.iter()`) - what is the rationale for that?
[02:36:39] <strcat> jdsanders: that map is deprecated
[02:36:40] <Yurume> ah `<some temporary variable>.iter()`, that IS a problem (known and will be improved in the future)
[02:36:41] <dbaupp> but I'm rarely actually driving the commuter trains while I'm catching them
[02:36:53] <jdsanders> strcat: good enough for me :)
[02:36:55] <mcpherrin> dbaupp: hijack a train
[02:36:57] <jdsanders> thanks
[02:37:09] <dbaupp> strcat: we could actually mark it with #[deprecated] now that the attributes work on methods
[02:37:13] <ChrisMorgan> mcpherrin: that's not considered good etiquette in Australia
[02:37:17] <strcat> dbaupp: nope
[02:37:23] <strcat> dbaupp: you have to actually fix librustc, etc. anyway
[02:37:31] <strcat> it won't let you compile with deprecated lints
[02:37:33] <dbaupp> strcat: nah, just #[allow(deprecated)] :P
[02:37:33] <strcat> ;p
[02:37:41] <strcat> true
[02:37:54] <strcat> but then no one will fix it ;p
[02:37:54] <mcpherrin> or just remove the deprecated map :-)
[02:38:13] <strcat> spewing warnings is a nice way to offer someone a way of starting to contribute ;p
[02:38:35] <dbaupp> strcat: saying "remove this and fix the warnings" isn't that much worse
[02:38:43] <dbaupp> mcpherrin: nah, we never just remove things from the public API
[02:38:44] <dbaupp> never
[02:38:53] <strcat> who wants to look through the bug tracker for actual easy bugs? ;p
[02:38:56] <escalant3> I cannot compile the current master in darwin_64 :(
[02:38:57] <mcpherrin> Break all the things!
[02:39:25] <mcpherrin> escalant3: Sorry, do you mean OS X 64 bit or are you actually running Darwin?
[02:39:31] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:39:33] <diverse> ChrisMorgan: how about hijacking a plane?
[02:39:47] <escalant3> I mean OS X 64
[02:39:49] <ChrisMorgan> diverse: so long as you're polite and don't damage the paintwork
[02:39:53] <Jemaclus> escalant3: join the club...
[02:40:01] <escalant3> task '<main>' failed at 'explicit failure', /Users/rustbuild/src/rust-buildbot/slave/snap3-mac/build/src/librustc/lib.rs:453
[02:40:14] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[02:40:34] <dbaupp> escalant3: there will be more relevant errors just above that line
[02:40:46] <dbaupp> (the compiler prints that whenever it fails, unfortunately. :( )
[02:40:48] *** Joins: fabiand_ (fabiand@moz-2083A0D0.adsl.alicedsl.de)
[02:41:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:41:35] *** Quits: fabiand (fabiand@moz-7AA09989.adsl.alicedsl.de) (Ping timeout)
[02:41:42] *** Parts: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP) ()
[02:42:23] <diverse> ChrisMorgan: okay, but what if I did a terrible job landing and some of the paint got rubbed off due to the sliding friction?
[02:42:33] <escalant3> dbaupp: yes. But I don't see anything useful as an undefined symbol or similar http://pastebin.com/FKup4Q2R
[02:43:09] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[02:43:14] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[02:43:16] <aatch> diverse, execution
[02:43:41] <diverse> aatch: are you from Australia?
[02:44:00] <dbaupp> escalant3: weird; I can't see any bugs in the issue tracker with those messages
[02:44:01] <aatch> I am not. I am *from* England, I live in New Zealand
[02:44:17] <dbaupp> diverse: you just mortally insulted aatch
[02:44:20] <dbaupp> twice!
[02:44:21] *** Parts: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) ()
[02:44:35] <diverse> dbaupp: when was the first? :P
[02:45:00] <diverse> oh I see
[02:45:01] <dbaupp> diverse: being from england and living in NZ
[02:45:02] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:45:07] <diverse> dbaupp: gotcha
[02:45:23] *** Quits: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr) (Ping timeout)
[02:45:27] <aatch> The only course of action now is an honorable duel.
[02:45:38] <diverse> sweet, I killed two countr... I mean birds with 2 stones.
[02:45:45] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:45:47] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[02:46:50] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[02:46:54] <diverse> *1 stone
[02:47:26] <diverse> Anyway where did ChrisMorgan go?
[02:48:38] *** Joins: pnathan (Adium@moz-A8921E45.tukw.qwest.net)
[02:48:39] <diverse> I need to find out the consequences of my actions in Australia
[02:49:14] <escalant3> has a new requirement been added after 0.9? Last time I compiled was around December 20th and worked like a charm
[02:49:27] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[02:49:30] <diverse> also, note to self: don't land in NZ
[02:49:33] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[02:49:46] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[02:49:48] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:50:15] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[02:50:48] *** Quits: ptc1 (Adium@6C906E9F.9ECAA4DB.BCDD830B.IP) (Ping timeout)
[02:51:20] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[02:51:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:52:43] <diverse> aatch: I'll let the plane duel you, and it can, since it's programmed in Rust.
[02:53:43] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[02:54:02] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[02:54:07] <_Vi> How to make Rust print the inferred type of my expression or variable?
[02:54:30] <Yurume> make an intentional error: (expression).nonexistant()
[02:54:41] <diverse> Yurume: pft, rofl
[02:54:58] <Yurume> do not laugh, that works and I've used it much :)
[02:55:06] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[02:55:16] * dbaupp likes `let()= <expression>;`
[02:56:25] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:57:10] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[02:57:35] <_Vi> Maybe there should be something like print_type_at_compile_time!(myvariable); ?
[02:57:53] *** Joins: Denommus (user@moz-77CFEF2B.user.veloxzone.com.br)
[02:57:56] <Denommus> hi
[02:57:57] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[02:58:05] <mcpherrin> _Vi: not the worst idea ever :)
[02:58:15] <mcpherrin> _Vi: though the name could use work
[02:58:31] <diverse> Yurume: the laughter is not meant to be insulting.
[02:59:35] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[02:59:49] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[03:00:31] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[03:00:42] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:01:07] <Yurume> diverse: I know ;)
[03:01:07] *** Joins: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr)
[03:01:22] *** Quits: maxiepoo_ (Max@moz-13F4F196.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[03:01:42] <_Vi> Can it be also more general? print_at_compile_time!("The type of myvar is " + type_of!(myvar)); 
[03:01:42] <Yurume> I've meant that is actually a serious workaround since there is no built-in way to do so
[03:02:41] <Denommus> _Vi: printing at compile-time was something I was wishing for just today
[03:02:53] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:02:54] <diverse> Yurume: it's more of a "hey, I haven't thought of it and how awesome to utilize it like that" laughter
[03:03:06] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[03:03:16] <Yurume> aha
[03:03:28] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[03:03:28] *** ChanServ sets mode: +ao brson brson
[03:03:37] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[03:03:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:03:58] *** Joins: maxiepoo_ (Max@moz-13F4F196.nuwlan.northwestern.edu)
[03:04:03] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[03:04:05] <diverse> Yurume: okay, the key was the 'randomness' but it was 'awesome randomness'
[03:04:37] *** Joins: yutongzhao (yutongzhao@moz-325F8282.hsd1.ca.comcast.net)
[03:04:46] <dbaupp> _Vi: fwiw, type_of!() can't be a macro: macro expansion doesn't have access to type checking information
[03:04:53] <dbaupp> (at least, it can't *just* be a macro.)
[03:04:57] <diverse> ChrisMorgan: did you see my earlier comment before you pinged out?
[03:05:12] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:05:41] <_Vi> dbaupp, Then how various compiler-specific constructs are referred? "type_of?" "type_of@"?
[03:05:49] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[03:06:17] <ChrisMorgan> diverse: if the paintwork gets damaged, you're for it.
[03:06:31] *** Quits: gwty (gwtypc@C3EE6AF0.BB20A64A.49FF672.IP) (Ping timeout)
[03:07:09] <diverse> ChrisMorgan: in which way?
[03:07:25] <ChrisMorgan> Oh, at least 20 years.
[03:07:32] <dbaupp> _Vi: we don't currently have anything like type_of, so I don't think it's decided
[03:07:38] <diverse> rofl
[03:07:43] *** Quits: biardjd (kzzch@moz-BB97B490.washdc.fios.verizon.net) (Ping timeout)
[03:07:48] *** Joins: dogweather (dogweather@moz-4EC23EE5.hsd1.or.comcast.net)
[03:08:38] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[03:08:46] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[03:08:46] *** ChanServ sets mode: +ao brson brson
[03:08:58] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[03:09:03] <Jemaclus> escalant3: you ever get any error messages about "ar s" failing on an rlib file?
[03:09:13] <diverse> would be nice to have a `typeof(T).to_str()`
[03:09:34] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[03:10:35] <escalant3> Jemaclus: no. I just got "cc failed" :/
[03:11:01] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[03:11:06] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:11:35] <Jemaclus> Nuts. I'm not getting that one. Looks like I'm getting an error after yours. Have you upgraded to the latest XCode and command line tools?
[03:11:41] <escalant3> but it seems I forgot to "make clean" before compiling. It's compiling after that point now
[03:11:50] <a_m0d|home> What's the policy on making libstd structs public?  I just found a return type which has documentation in `libstd`, but doesn't show in the docs because it isn't marked as `pub`
[03:11:51] *** Quits: pnathan (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[03:12:08] <a_m0d|home> Should something like that be marked `pub` so that the docs are always visible?
[03:12:11] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:12:14] <dbaupp> a_m0d|home: it should be public if it's publically visible (is my opinion)
[03:12:23] <aatch> a_m0d|home, what's the function/method?
[03:12:26] <a_m0d|home> dbaupp: Thanks, I'll submit a PR for it then
[03:12:36] <a_m0d|home> It's `LineIterator` in `io/mod.rs`
[03:12:50] <a_m0d|home> it get's returned from `BufferedReader::lines()`
[03:12:53] <Jemaclus> escalant3: ah, gotcha. lemme know if you get any other errors... I've been trying to compile this for days...
[03:13:09] <aatch> a_m0d|home, yeah, looks like an oversight.
[03:13:10] <a_m0d|home> and I couldn't find the docs for it to see what `.next()` would return :(
[03:13:19] <a_m0d|home> Okay, I'll submit the PR then.
[03:13:22] <a_m0d|home> thanks
[03:13:30] * dbaupp wants it to be illegal to have private types in a public API
[03:13:30] <dbaupp> https://github.com/mozilla/rust/issues/10573
[03:14:12] <dbaupp> except for traits, I guess; to allow for "closed" generics.
[03:14:28] <a_m0d|home> dbaupp: sounds good to me!
[03:14:57] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[03:15:12] *** Quits: zz_kimundi (kimundi@moz-5CD33A8E.dip0.t-ipconnect.de) (Ping timeout)
[03:15:16] <dbaupp> but, private traits in public generics should have their docs generated; at least to show what implements them
[03:15:45] *** Joins: dmz (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[03:16:15] *** Joins: Cevn (sameer@moz-E29DDA25.hr.hr.cox.net)
[03:16:16] *** Quits: jadbaires (jadrian@B338873B.2E7B5617.6119BA41.IP) (Quit: Konversation terminated!)
[03:16:17] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:16:30] *** Joins: pnathan (Adium@moz-A8921E45.tukw.qwest.net)
[03:16:31] <dmz> how do I construct an iterator from a single value?
[03:16:45] <dmz> can't find it in API
[03:17:01] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:17:01] <dmz> pretty sure there was something like that, at least around 0.8
[03:17:08] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:17:38] <erickt> dmz: you can use an option iterator
[03:17:46] <erickt> dmz: try `Some(5).iter()`
[03:18:00] <dmz> that would work, I guess
[03:18:05] *** Joins: zz_kimundi (kimundi@moz-FAACE8A8.dip0.t-ipconnect.de)
[03:18:27] <erickt> dmz: I think there's an argument that we could have a better name for it though
[03:18:34] <dmz> erm
[03:18:35] *** zz_kimundi is now known as kimundi
[03:18:42] <dmz> there is a problem here
[03:18:42] <a_m0d|home> dbaupp: Thanks for the quick turnaround on that one!
[03:18:56] <dmz> Some(x) moves X, while I can't move my stuff
[03:19:13] *** Quits: steveno (steveno@moz-2B2BE86F.hsd1.pa.comcast.net) (Quit: Leaving)
[03:19:26] <erickt> dmz: try `Some(&x).iter()`
[03:19:45] <dmz> erickt: but that would yield me an iterator of a different type
[03:19:48] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: Textual IRC Client: www.textualapp.com)
[03:19:52] <dmz> I need exactly X type
[03:20:05] <strcat> dmz: can't return it from a function by-value if the function doesn't own it
[03:20:08] <dbaupp> a_m0d|home: thank you for your quick turnaround!
[03:20:16] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[03:20:21] <strcat> dmz: if you can't move it, the only way to get it by-value will be to clone
[03:20:24] <erickt> dmz: unless you could use `.clone()`
[03:20:45] <strcat> or swap, but you probably can't do that either and need something to replace it with
[03:21:59] <dmz> but.. shouldn't it be possible to just iterate over a local variable? It works for local arrays (in a sense that we don't clone them), so I'd expect something to work on a single value as well
[03:22:32] *** Joins: gkostyanikov (gkostyanik@9C64BDF9.3E410295.CA6E2165.IP)
[03:22:34] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[03:23:30] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[03:23:44] <strcat> dmz: iter() on slices is by-reference
[03:24:11] <dmz> strcat: so are you saying that Some(&x) would give me the same iterator?
[03:24:19] <strcat> I don't know what you mean by 'the same'
[03:24:35] <dmz> sorry, the same as in an interator to iterate over the same type
[03:25:14] <strcat> I'm not really sure what it is you need to do
[03:26:20] <strcat> let xs = [1, 2, 3]; xs.iter() is an iterator of &int - although you can copy int without moving ownership
[03:26:23] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[03:26:28] <dmz> https://gist.github.com/kvark/8430240
[03:26:49] *** a_m0d|home is now known as a_m0d
[03:26:56] <dmz> I need an iterator to first go through an array of values and then go through a couple of single values that I got, without moving them
[03:27:20] <dmz> in the gist I linked to these elements are uint, but in my case they are complex structures
[03:27:23] <strcat> dmz: need Option's move_iter
[03:27:30] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:27:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:27:37] <strcat> you have Option<A> where A is &int and need an iterator of &int
[03:27:47] <strcat> iter() on Option<A> is an iterator of &A
[03:27:49] <dmz> yep
[03:27:49] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[03:27:56] <dmz> move_iter() works, as it should
[03:27:57] <dmz> thanks!
[03:27:59] *** Quits: gkostyanikov (gkostyanik@9C64BDF9.3E410295.CA6E2165.IP) (Ping timeout)
[03:28:01] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:28:04] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (No route to host)
[03:28:23] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[03:28:34] *** Joins: gkostyanikov (gkostyanik@9C64BDF9.3E410295.CA6E2165.IP)
[03:28:36] <dmz> a little too wordy, I guess. We could have a single-value iterator constructor somewhere in std iter, if this use case gets more adoption
[03:28:37] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:29:01] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Quit: leaving)
[03:29:07] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[03:29:46] *** Quits: a_m0d (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[03:30:22] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:30:29] *** Joins: a_m0d1 (a_m0d@moz-322A4DE4.acanac.net)
[03:31:56] *** Parts: a_m0d1 (a_m0d@moz-322A4DE4.acanac.net) ()
[03:32:49] *** Quits: gkostyanikov (gkostyanik@9C64BDF9.3E410295.CA6E2165.IP) (Quit: My iMac has gone to sleep. ZZZzzz…)
[03:33:34] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Quit: leaving)
[03:33:38] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[03:33:46] <escalant3> Jemaclus: It compiled and installed for me after the 'make clean'
[03:34:03] <escalant3> rustc 0.10-pre (dd8b011 2014-01-14 15:11:30 -0800)
[03:38:08] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[03:38:49] <Jemaclus> argh
[03:38:53] <Jemaclus> is that the latest master?
[03:39:01] <Jemaclus> what os x version?
[03:39:53] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[03:40:17] <Jemaclus> think you could write up steps for what you did? because I keep running into errors I can't seem to resolve. :(
[03:40:32] <Jemaclus> escalant3: ^
[03:42:37] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:44:10] *** Quits: KindOne (KindOne@moz-714DC945.dynamic.ip.windstream.net) (Ping timeout)
[03:44:45] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:45:16] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:45:17] *** Joins: espindol_ (espindola@8EC99D26.4B7A7726.A2E931B1.IP)
[03:45:52] *** Quits: espindola (espindola@563D60BB.4B7A7726.A2E931B1.IP) (Ping timeout)
[03:46:12] *** Quits: pnathan (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[03:46:27] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[03:46:55] *** Quits: espindol_ (espindola@8EC99D26.4B7A7726.A2E931B1.IP) (Input/output error)
[03:47:12] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:47:29] <escalant3> Jemaclus: nothing special. -> git pull origin master ; make clean ; ./configure ; make ; sudo make install
[03:47:39] *** Joins: gwty (gwtypc@C3EE6AF0.BB20A64A.49FF672.IP)
[03:47:46] *** Joins: KindOne (KindOne@moz-C1511E4F.dynamic.ip.windstream.net)
[03:47:48] <Jemaclus> hmm
[03:47:52] <escalant3> I am using Mavericks
[03:47:59] <Jemaclus> hmm
[03:48:12] <Jemaclus> i'm baffled, then
[03:48:22] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[03:48:24] <escalant3> cc --version -> Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
[03:48:38] <Jemaclus> Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
[03:48:40] <Jemaclus> same here
[03:48:41] <Jemaclus> hmm
[03:49:33] *** Joins: blaenk (blaenk@moz-C270A5EA.lsanca.dsl-w.verizon.net)
[03:49:43] <Jemaclus> let's try again, i guess
[03:50:40] <Jemaclus> alright, running make again.
[03:50:52] <Jemaclus> I'll update you guys on the outcome. I know you're on the edge of your seats.
[03:50:54] <Jemaclus> ;)
[03:51:02] <_achin> cmeiklejohn: ohi from Warwick, RI
[03:51:18] <Jemaclus> got the ar s error again
[03:51:19] <Jemaclus> hmm
[03:51:28] <Jemaclus> i wonder why you don't get it
[03:51:33] <cmeiklejohn> hi
[03:52:07] <_achin> you said on the mailing list you were thinking of a rust meeting in providence?
[03:52:08] <escalant3> which make version do you have?
[03:52:13] <cmeiklejohn> yes
[03:52:14] <cmeiklejohn> i am
[03:52:26] <_achin> cool!
[03:52:30] <Jemaclus> GNU Make 3.81
[03:52:34] *** Quits: gwty (gwtypc@C3EE6AF0.BB20A64A.49FF672.IP) (Ping timeout)
[03:52:38] <cmeiklejohn> wanna speak?
[03:52:38] <cmeiklejohn> ahaha
[03:53:10] <_achin> no, but i want to listen :)
[03:53:17] <escalant3> no idea 
[03:53:21] <cmeiklejohn> hahahaha
[03:53:22] <cmeiklejohn> sounds good
[03:53:37] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:53:38] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[03:53:59] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:54:23] <_achin> cmeiklejohn: this is rather personal, but are you related to a sarah?
[03:54:25] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[03:54:33] <cmeiklejohn> haha
[03:54:36] <cmeiklejohn> we both go to brown
[03:54:38] <cmeiklejohn> but, no.
[03:54:39] <Jemaclus> make -v also shows this: This program built for i386-apple-darwin11.3.0
[03:54:39] *** Quits: Cevn (sameer@moz-E29DDA25.hr.hr.cox.net) (Ping timeout)
[03:54:42] <cmeiklejohn> we are also both from RI
[03:54:46] <Jemaclus> i wonder if that's wrong
[03:54:51] <cmeiklejohn> the only two meiklejohn families from RI
[03:54:56] <_achin> ha
[03:55:01] <cmeiklejohn> and brown university also has a building named after the Meiklejohn's
[03:55:04] <cmeiklejohn> but alas no
[03:55:06] <cmeiklejohn> not related as far as i know
[03:55:08] <_achin> sarah was a TA of mine in CS151
[03:55:12] <_Vi> How to fix this sample? https://gist.github.com/vi/8430486
[03:55:19] <cmeiklejohn> are you at brown?
[03:55:25] <cmeiklejohn> we might know each other then
[03:55:42] <_achin> i was brown comp sci, class of 2008
[03:55:43] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[03:55:46] <cmeiklejohn> ah ok
[03:55:54] <cmeiklejohn> i'm a grad student, started last year
[03:55:55] <cmeiklejohn> but from RI
[03:56:27] <_achin> i lived in providence until about 18 months ago (now in warwick)
[03:56:33] <cmeiklejohn> oh cool
[03:56:36] <cmeiklejohn> i'm originally from warwick
[03:56:38] <cmeiklejohn> i grew up in warwick
[03:56:41] <dmz> _Vi: fun stuff, never seen this error before :)
[03:56:59] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[03:57:10] <_achin> woah, small world.  i live just a little bit south of pawtuxet villege
[03:57:25] <_Vi> dmz, Is there a proper way to upcast from more concrete trait to the one it derives from?
[03:57:30] <cmeiklejohn> ah ok
[03:57:36] <cmeiklejohn> i lived over by the warwick public library
[03:57:44] <cmeiklejohn> that's where my parents still live
[03:57:45] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Quit: Reconnecting)
[03:57:46] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[03:57:50] <cmeiklejohn> im in cranston, but moving to providence in a month
[03:58:14] <_achin> i miss being on the east side
[03:58:24] <cmeiklejohn> ah 
[03:58:28] <cmeiklejohn> heh
[03:58:44] <dmz> _Vi: AFAIK, casting from a trait to an upper trait is not supported at the moment...
[03:58:48] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: Pogoapp - http://www.pogoapp.com)
[03:58:50] <cmeiklejohn> well anyway
[03:58:52] <dmz> _Vi: there is a bug on that
[03:58:53] <cmeiklejohn> I'm running a summer school
[03:58:54] <cmeiklejohn> and you should come
[03:59:02] <cmeiklejohn> http://learndistributed.com
[03:59:05] <_achin> what are you teaching?
[03:59:06] <cmeiklejohn> it's an offshoot of thinkdistributed.io
[03:59:11] <_Vi> dmz, So in future it is expected to be straightforward.
[03:59:13] <cmeiklejohn> which is the podcast i run
[03:59:36] <cmeiklejohn> i'm a dist sys guy working at basho
[03:59:44] <dmz> _Vi: casting - yes. It just requires rust devs to do some Vtable rearrangements. On your original issue - no idea (yet)
[04:00:12] <_achin> cool, i've not heard of basho
[04:00:56] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[04:00:59] * _achin has a bunch of new pages to bookmark and read
[04:01:03] <_Vi> What is "type that contains a self-type" BTW?
[04:01:14] *** Joins: pnathan (Adium@moz-A8921E45.tukw.qwest.net)
[04:01:29] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[04:01:33] <dmz> clone() returns the same type it's called for, which is a self-type
[04:01:57] <dmz> oh
[04:01:58] <dmz> I see
[04:02:12] <dmz> you are calling VeryDrawable::clone
[04:03:09] <dmz> but since your object is &VeryDrawable there, and VeryDrawable is a trait, it doesn't have all the info about the original object (i.e. the vtable contains only stuff needed for VeryDrawable)
[04:03:15] <dmz> hence, it can't be cloned
[04:03:40] <_Vi> What is mean "trait SomeTrait : Clone ..."?
[04:03:47] <_Vi> s/is mean/does mean/
[04:04:00] <dmz> means that SomeTrait requires Clone to be implemented
[04:04:14] <_Vi> But we can't actually clone...
[04:04:20] <_achin> cmeiklejohn: i added my name to http://learndistributed.com
[04:04:23] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[04:04:27] <cmeiklejohn> cool thanks
[04:04:41] <_Vi> "i.e. the vtable contains only stuff needed for VeryDrawable" -> And Clone is required for VeryDrawable, so vtable contains clone...
[04:04:42] *** Joins: mib_mnt4ee (Mibbit@moz-753FAD57.hsd1.ca.comcast.net)
[04:04:46] *** Quits: omegaga_ (omegaga_@DF47E728.25165A39.3F03179E.IP) (Client exited)
[04:04:58] <_achin> i'm heading offline now.  it was cool to meet a local, and perhaps we'll meet in person at a rust meetup
[04:05:09] <dmz> _Vi: hmm
[04:05:12] *** Joins: omegaga_ (omegaga_@DF47E728.25165A39.3F03179E.IP)
[04:06:03] * dmz calls for rust devs to rescue
[04:07:05] *** Quits: omegaga_ (omegaga_@DF47E728.25165A39.3F03179E.IP) (Ping timeout)
[04:07:14] <dmz> _Vi: I'd be happy to understand it better myself too, so I wonder what real devs will say on it (looking at cmr and dbaupp)
[04:07:38] <dbaupp> hm?
[04:07:46] <dmz> https://gist.github.com/vi/8430486
[04:07:57] *** Joins: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com)
[04:08:12] <dbaupp> Ah, .clone() return Self
[04:08:18] <dbaupp> i.e. int.clone() -> int
[04:08:25] <dbaupp> u8.clone() -> u8
[04:08:37] <dbaupp> so in trait object form, you have TraitObject.clone() -> ???
[04:08:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:08:52] <dbaupp> and you can't fill in `???` because the exact Self type is lost
[04:08:57] <dbaupp> ("erased")
[04:09:12] <_Vi> But this type is definitely implements Trait.
[04:09:19] <dbaupp> That's not the point
[04:09:35] <dbaupp> How does the compiler fill in ??? at compile time?
[04:09:41] <dbaupp> it needs to know the type
[04:10:12] <dbaupp> (because it needs to know the size to know how much stack space to reserve, and it needs to know if it has a destructor or not, etc.)
[04:10:53] <dmz> dbaupp: that's a good explanation (at least for me), thanks
[04:11:40] <_Vi> Is there any use in using something like "let list_of_clonables : &[&Clone] = ..."?
[04:11:46] *** Quits: Sharp (Sharp@moz-EEC85237.hsd1.ca.comcast.net) (Quit: Sharp)
[04:11:48] <dbaupp> no, still won't work
[04:11:50] <dbaupp> for the same reason
[04:12:00] <Jemaclus> I'm determined to figure this out.
[04:12:08] <dbaupp> (at least, you can't call .clone() on those objects)
[04:13:31] <_Vi> When I try to make ConvertVeryDrawableToDrawable workaround with "x: &VeryDrawable" instead of ~VeryDrawable, I get "missing lifetime specifier". What does it mean?
[04:14:35] *** Joins: jdm (jdm@moz-838161A9.dsl.teksavvy.com)
[04:14:35] *** ChanServ sets mode: +o jdm
[04:14:41] <dbaupp> _Vi: you need to write `struct LongName<'a> { x: &'a VeryDrawable }`
[04:15:11] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:15:13] *** Quits: FreeFull (freefull@moz-B3B7A46E.as13285.net) (Ping timeout)
[04:15:17] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:15:28] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Quit: leaving)
[04:15:40] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[04:15:41] <_Vi> Apostrophe-a?
[04:15:50] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[04:16:01] <dbaupp> named lifetimes
[04:16:11] *** Joins: FreeFull (freefull@moz-E7CA7ED2.as13285.net)
[04:16:26] <dbaupp> https://github.com/mozilla/rust/wiki/The-Rusticon#syntaxicon (fwiw)
[04:16:32] <_Vi> (maybe I haven't read Ruse 0.9 tutorial to the end...)
[04:16:39] <dbaupp> http://static.rust-lang.org/doc/master/guide-lifetimes.html
[04:16:58] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:17:52] <dmz> dbaupp's patience is outstanding, I wasn't able to break it so far :)
[04:18:08] <pcwalton> acrichto: want to review some servo code?
[04:18:12] <pcwalton> or brson
[04:18:17] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Quit: leaving)
[04:18:18] <pcwalton> acrichto: it's the parallel tree traversal
[04:18:20] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[04:18:25] <pcwalton> it's lock free fun
[04:19:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:19:18] <mib_mnt4ee> i have a basic memory management question
[04:19:39] <mib_mnt4ee> enum List { Cons(u32, ~List), Nil }
[04:19:42] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[04:19:46] <mib_mnt4ee> from the tutorial
[04:19:56] <Yurume> fine
[04:19:58] <ChrisMorgan> (mib_mnt4ee, general IRC hint: don't ask to ask, just ask.)
[04:20:03] <mib_mnt4ee> let list = Cons(1, ~Nil)
[04:20:19] <mib_mnt4ee> this should consume 2 elements right?
[04:20:42] <mib_mnt4ee> [Cons, 1, pointer] -> [Nil, ...]
[04:20:56] <Yurume> yes.
[04:21:02] <Yurume> ah
[04:21:03] <Yurume> no wait
[04:21:20] <Yurume> mib_mnt4ee: normally your reasoning is right, but enums have a special optimization for non-nullable pointers.
[04:21:24] <mib_mnt4ee> i've played with sizeof & there is optimization in implementation
[04:21:31] <ChrisMorgan> mib_mnt4ee: I don't know what to answer, given how you've worded your question.
[04:21:31] <mib_mnt4ee> ok that's what i thought
[04:21:33] <dbaupp> dmz: maybe I'm secretly 4 people, who switch over when one can't take it any more :P
[04:21:46] <Yurume> in that case null `pointer` cannot be safely constructed
[04:21:54] <Luqman> dbaupp: i wonder...
[04:21:58] <Yurume> so the compiler is free to use a null `pointer` to indicate `Nil` case
[04:22:20] <mib_mnt4ee> yeah, ok - that's what i guessed :) 
[04:22:24] <mib_mnt4ee> i played with sizeof
[04:22:26] <dmz> dbaupp: The Prestige (2006), but deeeper
[04:22:26] *** Quits: logicalparadox (logicalpar@7726D6BC.E47643E6.AF265B38.IP) (Client exited)
[04:22:38] <Yurume> so I think it is much more like this: [1, pointer] -> [<dummy>, NULL]
[04:22:53] <Yurume> it still uses two memory allocations but it's smaller
[04:22:57] <mib_mnt4ee> ok - so even with optimization it's two
[04:22:59] <Yurume> rusti: version
[04:23:00] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Quit: leaving)
[04:23:04] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[04:23:04] <mib_mnt4ee> not [1, NULL]
[04:23:06] <Yurume> ha, rusti, come back!
[04:23:16] <ChrisMorgan> Yurume: I'm not sure you're right about your reasoning there; that's for an enum X { Y(~T), Z }, while this is enum X { Y(U, ~T), Z }
[04:23:30] <dbaupp> Yurume: apparently https://github.com/mozilla/rust/pull/11431 fixes it
[04:23:35] <dbaupp> but it's not landing
[04:23:52] <Yurume> ChrisMorgan: afaik variant fields are eligible for non-nullable optimization even when there are multiple fields.
[04:23:59] <ChrisMorgan> It's certainly *possible* to implement such a thing in that way, but I'm not sure if that optimisation is actually done.
[04:24:10] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:24:10] <_Vi> The ConvertVeryDrawableToDrawable still does not work. Either "borrowed value does not live long enough" or (when using owned) "cannot pack type ... which does not fulfill `Send`, as a trait bounded by Send". Finished digging for today...
[04:24:11] <mib_mnt4ee> size_of enum List { Cons(u64, ~List), Nil }  is 16
[04:24:28] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[04:24:33] <aatch> ChrisMorgan, it is done
[04:24:36] <mib_mnt4ee> but size_of enum List { Cons(...), Foo(u64), Nil }  is 24
[04:24:44] <dmz> _Vi: post the code plz
[04:24:50] <ChrisMorgan> Good, I'm glad Yurume is right :-)
[04:24:55] <Yurume> ChrisMorgan: https://github.com/mozilla/rust/blob/423dd84300a7232f41b799ffdab7a1fc97ce59da/src/librustc/middle/trans/adt.rs#L86
[04:25:12] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[04:25:14] <Yurume> the problem with this approach is that Option<(U,~T)> does not get optimized ;)
[04:25:19] <aatch> If you have an enum with two variants, and one contains a non-nullable pointer, it will use it as a the discriminant.
[04:25:31] <mib_mnt4ee> cool!
[04:25:34] <Yurume> (since (U,~T) is not nullable...)
[04:25:50] <Yurume> i.e. https://github.com/mozilla/rust/issues/9378
[04:25:59] *** Joins: gverilla_ (gverilla@moz-BE02EED5.versanet.de)
[04:26:15] <mib_mnt4ee> ok - the tutorial has a diagram that shows it optimized away which I find a bit misleading
[04:26:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:26:36] <mib_mnt4ee> & without the discriminant
[04:26:50] *** Quits: gverilla (gverilla@moz-A576889C.versanet.de) (Ping timeout)
[04:26:51] <mib_mnt4ee> http://static.rust-lang.org/doc/0.9/tutorial.html#implementing-a-linked-list
[04:26:57] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[04:27:05] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Quit: leaving)
[04:27:07] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[04:27:18] <mib_mnt4ee> would love to submit a patch for that - i.e. NOT show the optimization in the diagram
[04:27:50] <_Vi> dmz, Updated the gist: https://gist.github.com/vi/8430486 . You can leave comments there is there will be some relevant discussion.
[04:27:51] *** Joins: Sharp (Sharp@moz-EEC85237.hsd1.ca.comcast.net)
[04:28:05] <aatch> mib_mnt4ee, steveklabnik would agree with you there.
[04:28:08] <mib_mnt4ee> wanted to check if that makes sense
[04:28:14] <Yurume> I don't know if the discriminant should be represented there
[04:28:36] <Yurume> but at least it should make sure that Nil is another box
[04:28:56] <steveklabnik> Yup
[04:28:56] <mib_mnt4ee> yes will do - i will also mention that implementation may optimize it away
[04:29:14] <steveklabnik> I'd like to submit a patch that optimizes the whole tutorial away ;)
[04:29:21] <mib_mnt4ee> haha
[04:29:39] <steveklabnik> Maybe bit away
[04:29:40] <mcpherrin> steveklabnik: precompute the tutorial; install it on each brain at time of its construction?
[04:29:40] <steveklabnik> Not
[04:29:57] <steveklabnik> But it certainly has a lot of room for optimization
[04:30:02] <Yurume> mib_mnt4ee: personally I think an exact representation of enums should be an advanced topic since it is explicitly designed to be optimized by compilers 
[04:30:32] <Yurume> i.e. there is no strong guarantee about enums' actual representation other than it should be consistent
[04:30:33] <aatch> Actually, reading it properly, I don't see a mention of the discriminant or anything at all.
[04:30:42] <Yurume> they should be*
[04:30:44] <aatch> It's just the logical structure of the list.
[04:30:47] <mcpherrin> There probably should be a "memory layout" document for the people who care, really.
[04:31:36] <mib_mnt4ee> well the mental model i had after reading the docs was [discriminant, union of structs]
[04:31:42] <mib_mnt4ee> "tagged union" is mentioned in the docs
[04:32:26] <aatch> mib_mnt4ee, in reference to the C idea.
[04:33:08] <Yurume> mib_mnt4ee: there are currently four different modes of enum representations.
[04:33:09] <aatch> I'm just saying that, actually, those diagrams should stay, since they *aren't* representing memory.
[04:33:39] <mib_mnt4ee> sure but i'm talking about mental model
[04:34:01] <Yurume> typical case: [discriminant, union of structs] / C-like enum: [discriminant] / newtype enum: [variant fields] / nullable: [field1, field2, field3_or_null_for_other_variant, field4, ...]
[04:34:07] *** Joins: espindola (espindola@3AA6F601.53AE8582.A535BD55.IP)
[04:34:08] <mib_mnt4ee> i dont understand how you dont have a "discriminant" ie enum tag
[04:34:45] <Yurume> mib_mnt4ee: it is there for allowing Option<~T> to be represented in one word.
[04:35:09] <Yurume> since Rust's ~T (owned box, in terms of C++, std::unique_ptr<T> with a compiler check) is not nullable.
[04:35:28] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[04:36:47] <mib_mnt4ee> Yurume: not sure but i think we're in "violent agreement"
[04:36:51] <mib_mnt4ee> :)
[04:37:03] <Yurume> ;)
[04:37:51] <mib_mnt4ee> ok - i'll have a go at the tutorial & see what people think of it :)
[04:37:54] <Yurume> I think Rust's enums are... a bit misnomer. it is a type-safe combination of C/C++ enums and unions.
[04:38:12] <Yurume> and not exactly identical to C/C++ enums and unions...
[04:38:23] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[04:38:40] <mib_mnt4ee> well it's a "new" hybrid/integration of the two
[04:38:40] *** Joins: int3_ (int3_@D6C7AF99.B82E4B8F.EC6C369A.IP)
[04:38:43] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[04:38:48] <Yurume> but the name is settled and it has some advantage since we can call C-like enums (discriminant only) as enums at least :p
[04:38:51] <Yurume> right
[04:38:53] <mib_mnt4ee> also, coming from scala, it's like "case classes"
[04:39:15] <mib_mnt4ee> sure i'm happy with the rust enum - it's very nice
[04:39:20] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[04:39:25] <Yurume> yeah, or an Algebraic Data Type in the PL jargon
[04:39:40] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:39:43] <mib_mnt4ee> ok it's not yet 9pm here - going to see if i can submit a PR for the doc :)
[04:39:59] <Yurume> great!
[04:40:53] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:42:36] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:44:17] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[04:44:26] *** Quits: Jemaclus (Mibbit@moz-5A4BC30.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:45:19] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[04:46:31] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[04:46:47] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:49:13] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:51:12] *** Quits: maxiepoo_ (Max@moz-13F4F196.nuwlan.northwestern.edu) (Quit: maxiepoo_)
[04:52:24] *** Quits: b1nd (b1nd@moz-5A306E04.lns17.ken.bigpond.net.au) (Ping timeout)
[04:53:49] *** Joins: b1nd (b1nd@E3D8A436.45A6FC61.475248F5.IP)
[04:55:10] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[04:55:33] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[04:55:52] *** Quits: pnathan (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[04:57:29] *** Quits: dmz (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:02:26] <mindcat> why I can't do `log! info "yea, I am logging";`
[05:02:46] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[05:03:12] *** Joins: pnathan (Adium@moz-A8921E45.tukw.qwest.net)
[05:03:16] <mindcat> and must be `log! (info "yea, I am not happy")`
[05:03:18] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[05:03:45] <dbaupp> mindcat: `info!("yeah, I am logging")`
[05:04:10] *** Quits: pnathan (Adium@moz-A8921E45.tukw.qwest.net) (Quit: Leaving.)
[05:04:11] <mindcat> dbaupp: I need a format
[05:04:28] <mindcat> dbaupp: format logger
[05:04:30] <dbaupp> info!("yeah, I am {}", "logging")
[05:05:37] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[05:05:44] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[05:05:59] <mindcat> dbaupp: then what about `[07:31:32 APPNAME] why doesn't have formatter`
[05:06:22] <dbaupp> oh, is log! a custom macro?
[05:06:30] <mindcat> dbaupp: yes
[05:06:46] <dbaupp> ah, then yes
[05:06:50] <dbaupp> you have no choice :P
[05:07:22] <mindcat> dbaupp: :( it is damn rules
[05:07:29] <mindcat> dbaupp:  for me
[05:08:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:09:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:10:40] *** nrc is now known as nrc|afk
[05:11:34] *** Joins: rotaryphone (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net)
[05:11:47] <rotaryphone> Greetings
[05:12:14] *** Quits: sehugg (sehugg@moz-42540923.res.bhn.net) (Client exited)
[05:12:45] <bvssvni> rotaryphone: \o
[05:13:36] *** Quits: Denommus (user@moz-77CFEF2B.user.veloxzone.com.br) (Quit: going to sleep)
[05:15:32] <rotaryphone> After spending some time beating macro_rules! into submission, I was able to get working monadic do notation.  With macros and closures, Rust is shaping up to be a very sugary language if you so desire
[05:15:50] <bjz> rotaryphone: pls gist sir
[05:16:01] <bvssvni> rotaryphone: code pls
[05:16:03] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:16:06] <bjz> or madame
[05:16:39] <bvssvni> bjz: do you have dual numbers in the game math lib?
[05:17:00] <bjz> bvssvni: not as of yet
[05:17:08] <rotaryphone> Ah, I don't have it with me, but I can probably recreate it.
[05:17:27] <bjz> bvssvni: you are welcome to write it though!
[05:17:34] <bvssvni> bjz: sure!
[05:17:39] <bjz> bvssvni: sorry
[05:17:44] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:18:13] <bjz> bvssvni: once I have this awesome algebra thing I'm doing done, I hope to get back to cgmath for a bit
[05:18:17] <bvssvni> bjz: then I should fork it first?
[05:18:21] <rotaryphone> The tricky part is recursive macros.  It would be nice if there were some way to non-greedily match the remaining tokens passed to the macro (like $foo:...) so you can pass them verbatim to a recursive invocation
[05:18:27] <mindcat> can I do `log! (info "why doesn't have {}" "formatter")` -> `info!("[07:31:32 APPNAME] why doesn't have", "formatter")`
[05:18:30] <bjz> bvssvni: yeah - then send me a PR
[05:18:44] <ChrisMorgan> rotaryphone: $( $foo:tt )*
[05:18:44] <bjz> bvssvni: make sure it's got unit tests
[05:18:56] <ChrisMorgan> That's the closest you get
[05:19:21] *** Quits: b1nd (b1nd@E3D8A436.45A6FC61.475248F5.IP) (Ping timeout)
[05:19:31] <rotaryphone> I remember trying that and not having any luck
[05:19:53] <ChrisMorgan> rotaryphone: it's the non-greediness aspect that you can't do with macro_rules
[05:19:54] <mindcat> I can't found a way do that
[05:20:11] * ChrisMorgan is looking forward to being able to write arbitrary procedural macros
[05:20:35] <bjz> this is where the macros are injected btw: https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/expand.rs#L671-L839
[05:20:41] <mindcat> and "info" can be "debug", "warning", "error"
[05:20:45] <bjz> if you want to see how they are defined
[05:21:27] <dbaupp> mindcat: `macro_rules! log { ($name:ident $string:e, ... ) => { $name!($string) }  }` might work
[05:23:00] <mindcat> dbaupp: marco has "if ... then ... else"?
[05:23:16] <bvssvni> bjz: how to run unit tests?
[05:23:45] <ChrisMorgan> `macro_rules! log { (info $...) => info!(...); (debug $...) => debug!(...) }`
[05:23:57] <bjz> rustc --test foo.rs && ./foo
[05:24:03] <bjz> or something
[05:24:04] <ChrisMorgan> (Incomplete and incorrect example, just getting the idea across.)
[05:24:18] <bvssvni> bjz: rust test tests (I got it)
[05:25:21] <bvssvni> bjz: how do I run benchmarks in cgmath?
[05:25:33] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[05:26:42] <ChrisMorgan> rustc --test foo.rs && ./foo --bench
[05:27:05] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[05:27:20] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[05:27:31] <bvssvni> ChrisMorgan: thanks
[05:28:08] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[05:28:30] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:28:43] <sfackler> how would I make a Path absolute? os::get_cwd().join(path)?
[05:29:13] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:30:14] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[05:30:52] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[05:31:02] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:32:00] <rotaryphone> brb
[05:32:05] *** Quits: rotaryphone (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:32:45] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[05:35:56] *** Joins: rotaryphone (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net)
[05:36:21] <rotaryphone> OK!  Got the gist
[05:36:40] <rotaryphone> https://gist.github.com/bkoropoff/b7b706ed03a921340215
[05:38:10] <rotaryphone> Primitive, but it works.
[05:39:05] <rotaryphone> Obviously you can't do it with monads that need to save the closure, but you could have another version that uses procs.  That version would be restricted to calling the closure only once, of course.
[05:39:13] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[05:39:33] <rotaryphone> But between the two there are probably plenty of useful monads that can be used with it
[05:40:19] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:40:29] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:41:06] *** Quits: prgrmr (eddey@moz-2C1DF1C5.dynamic.isadsl.co.za) (Quit: prgrmr)
[05:41:07] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[05:41:19] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[05:41:32] *** Quits: rgawdzik (chatzilla@moz-F91A93AF.net.uwaterloo.ca) (Client exited)
[05:42:39] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:42:45] <mindcat> yield.. where is the coroutine
[05:42:51] *** Joins: derek_c (derek@F51FC00E.E9B0596F.C34016C.IP)
[05:43:11] <rotaryphone> I had to have a keyword to prevent ambiguity
[05:46:07] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[05:46:59] <daschl> does anyone have a tutorial on how to read bytes of a tcpstream and send it back?
[05:47:09] <daschl> I saw it implements both reading and writing traits, so I hope this is easy
[05:47:10] <daschl> :)
[05:47:12] <rotaryphone> Macros are a bit finicky.  I'm happy I got it to work.
[05:48:23] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[05:49:28] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:49:40] <sfackler> daschl: the io::util::copy method will do that, and the source is here: https://github.com/mozilla/rust/blob/master/src/libstd/io/util.rs#L162
[05:49:59] <eddyb> Yurume: if you have the free time, it would be cool to have an infographic/cheatsheet on syntax - operator precedence (think "as") and macro rules are tricky for me
[05:50:26] <mindcat> daschl: https://gist.github.com/mindcat/8431462
[05:50:33] *** Joins: mib_4rwvsr (Mibbit@moz-C7EBCDDD.hsd1.or.comcast.net)
[05:51:40] *** Quits: mib_4rwvsr (Mibbit@moz-C7EBCDDD.hsd1.or.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:51:57] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[05:53:07] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:53:07] *** ChanServ sets mode: +ao dherman dherman
[05:54:27] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[05:55:12] <mib_mnt4ee> steveklabnik: Yurume: how's this: https://github.com/divtxt/rust/commit/cc95efdecbb76305adca4165c6c3891b7dad136e
[05:56:43] *** Joins: Jemaclus (Mibbit@moz-A0EB9A8E.hsd1.ca.comcast.net)
[05:57:11] <daschl> mindcat:  very kind of you :)
[05:58:45] *** Joins: bmats (bmats@moz-C7EBCDDD.hsd1.or.comcast.net)
[06:01:00] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:04:17] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[06:04:21] *** Joins: glaebhoerl (glaebhoerl@moz-3590251D.kabelnet.hu)
[06:04:38] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:04:46] *** Joins: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net)
[06:05:08] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[06:05:38] *** Quits: maxiepoo_ (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo_)
[06:05:54] *** Joins: WebeWizard_ (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[06:06:53] <WebeWizard_> hmmmm, i wonder why it gave me my clone name
[06:06:58] <WebeWizard_> instead of just WebeWizard
[06:07:43] <WebeWizard_> try this again
[06:07:44] *** Quits: WebeWizard_ (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[06:07:49] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[06:07:54] <WebeWizard> there we go
[06:07:57] <diverse> you did it!
[06:08:22] <diverse> WebeWizard: ^
[06:08:55] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:09:11] *** Quits: dew1 (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[06:09:14] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[06:09:56] * WebeWizard does a happy dance
[06:10:42] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:11:21] *** Joins: Ro (chatzilla@moz-6633D7CE.lightspeed.crchtx.sbcglobal.net)
[06:12:53] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:13:23] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:13:33] *** Quits: derek_c (derek@F51FC00E.E9B0596F.C34016C.IP) (Ping timeout)
[06:14:27] *** Joins: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net)
[06:14:28] *** Quits: heftig (heftig@moz-B5CF9419.dip0.t-ipconnect.de) (Ping timeout)
[06:14:56] <Jemaclus> escalant3: still no luck. :(
[06:16:03] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:16:11] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[06:16:18] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[06:17:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:18:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[06:18:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:19:57] *** Joins: benjamin_ (benjamin@moz-8D104FD6.dip0.t-ipconnect.de)
[06:20:06] *** Quits: mib_mnt4ee (Mibbit@moz-753FAD57.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:20:19] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:20:38] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[06:21:41] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[06:21:48] *** Joins: heftig (heftig@moz-3958C10A.dip0.t-ipconnect.de)
[06:22:09] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[06:22:09] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:23:48] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[06:24:53] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:25:52] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[06:26:55] *** Joins: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[06:27:03] <Havvy> So, how many years until Rust 1.0.0?
[06:27:36] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[06:27:49] <WebeWizard> they are estimating to have it out this year
[06:27:53] *** Quits: espindola (espindola@3AA6F601.53AE8582.A535BD55.IP) (Input/output error)
[06:27:56] <WebeWizard> unless something comes up
[06:27:57] *** Joins: espindola (espindola@3AA6F601.53AE8582.A535BD55.IP)
[06:28:00] <bvssvni> bjz: https://gist.github.com/bvssvni/8431723
[06:28:13] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[06:28:13] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:28:28] <bvssvni> bjz: https://gist.github.com/bvssvni/8431723
[06:28:37] <Havvy> Okay. So end of 2015.
[06:28:43] <WebeWizard> Havvy: http://cmr.github.io/blog/2014/01/12/the-state-of-rust-0-dot-9/
[06:28:44] <Havvy> ;)
[06:29:00] <WebeWizard> you want the Is Rust Ready Yet? section
[06:29:10] <bjz> bvssvni: hum :/
[06:29:42] <bjz> that's so werid
[06:30:10] *** Joins: alonlevy (alon@18881233.66334A3F.AB64B967.IP)
[06:30:29] <bjz> o_o
[06:30:49] <Havvy> Still, that estimate beats my estimates. :)
[06:30:59] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:31:08] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[06:31:18] *** Joins: daschl (daschl@moz-DC6DE6E2.vie.surfer.at)
[06:31:38] <bvssvni> bjz: if I remove the slice, it says 'not all trait methods implemented, missing: `as_slice`
[06:31:50] <bjz> bvssvni: have you imple Vector's supertraits?
[06:32:03] <bvssvni> bjz: explain
[06:32:18] <bjz> ie. Array, Neg, Zero and One
[06:32:40] *** Joins: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP)
[06:32:52] <bvssvni> bjz: just Zero, using deriving annotation
[06:33:03] <Jemaclus> this "ar s" error is driving me bonkers.
[06:33:04] <eddyb> many.rs:53:23: 53:24 error: local ambiguity: multiple parsing options: built-in NTs ty ('Trait') or 1 other options.
[06:33:06] *** Joins: v01px3 (sid18631@moz-5F4AA75A.irccloud.com)
[06:33:07] <Jemaclus> no idea why it's happening
[06:33:08] <eddyb> bleah
[06:33:30] <bvssvni> bjz: ah!
[06:33:42] <bvssvni> bjz: it inherits from those traits!
[06:34:00] <bjz> yep
[06:34:29] <bvssvni> bjz: sometimes generics traits in Rust really blows my mind
[06:34:33] <eddyb> how do I express a list using "+" as a separator?
[06:34:43] <eddyb> $(foo)++ or +* doesn't work
[06:34:56] <dbaupp> eddyb: possibly not possible
[06:35:00] *** Joins: jaen (jaen@moz-BB6C3F08.neoplus.adsl.tpnet.pl)
[06:35:02] <eddyb> eeeeh
[06:35:07] <dbaupp> you may have to do $foo_head + $(+ foo)*
[06:35:11] <dbaupp> erm
[06:35:17] <dbaupp> $foo_head $(+ foo)*
[06:35:27] *** Quits: Ro (chatzilla@moz-6633D7CE.lightspeed.crchtx.sbcglobal.net) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0.1/20131112160018])
[06:36:34] <eddyb> I can't use <A, B> in types :/
[06:36:57] <eddyb> and ::<A, B> also breaks
[06:37:18] <eddyb> this would just work if I had DST
[06:37:39] <tikue> does rust have weak references now? i thought i heard something about that
[06:38:00] <eddyb> tikue: in std, for Rc
[06:38:12] <eddyb> (that is, Rc always can have Weak references now)
[06:38:17] <bvssvni> bjz: I checked wikipedia, dual numbers can be used for Plücker coordinates (algebra on lines) in addition to automatic derivation
[06:38:39] <tikue> eddyb: that's pretty neat! so you can do, for instance, a doubly linked list with Rc?
[06:38:49] <eddyb> tikue: yes
[06:38:58] <tikue> that's just wonderful
[06:39:56] *** Quits: rattboi (bkanyid@moz-9A5A7AF8.org) (Ping timeout)
[06:39:57] <dbaupp> eddyb: what do you mean by "in types"?
[06:40:07] *** flaper87|afk is now known as flaper87
[06:40:39] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:40:39] <tikue> does anyone have an example of a doubly linked list with Rc that I could look at? 
[06:41:07] *** Joins: rattboi (bkanyid@moz-9A5A7AF8.org)
[06:41:41] *** Joins: mouse (mouse@moz-373942D2.dhcp.yndx.net)
[06:42:12] <eddyb> dbaupp: I have a macro, which I want to call like dyncast!(m as Add<uint, uint>)
[06:42:29] <eddyb> that expects a token after the second >
[06:42:33] <egghead> https://gist.github.com/eggsby/8428866 working through trying to learn rust as my first lang without garbage collection, would anyone mind reviewing some simple code?
[06:42:33] <dbaupp> eddyb: $t:ty doesn't work?
[06:42:36] <cmr> tikue: Weak is very new, I'm not sure if there are any examples. Want me to whip one up for you?
[06:42:41] *** Quits: jaen (jaen@moz-BB6C3F08.neoplus.adsl.tpnet.pl) (Ping timeout)
[06:42:45] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[06:42:47] <tikue> cmr: i'd love that, but you don't have to unless you want to :O)
[06:42:56] <eddyb> dbaupp: parsing the macro invocation fails, it doesn't get to expansion
[06:43:23] <dbaupp> eddyb: weird
[06:43:29] <dbaupp> eddyb: file bugs
[06:43:40] <eddyb> dbaupp: I'd wish this were easy to fix
[06:44:01] <eddyb> macro invocations are parsed without any knowledge of the macro rules
[06:44:17] <dbaupp> hm?
[06:44:31] <eddyb> dbaupp: it doesn't know I want a type when the token tree is parsed
[06:44:41] <cmr> egghead: welcome! anything specific you have questions about/want reviewed?
[06:45:03] <eddyb> maybe it should try to parse < and > as simple tokens
[06:45:19] <dbaupp> eddyb: errr... yes it does?
[06:45:30] <eddyb> hmpf, let me try again
[06:45:31] <WebeWizard> ello cmr.  Is there a good review on using the new Gc Rc objects yet?
[06:45:32] <cmr> egghead: the only comment I have is that print_list should take &List<T> so that it doesn't need to consume the list just to print it
[06:45:40] <bjz> bvssvni: I'm currently working on encoding algebraic structures using traits
[06:45:45] <cmr> WebeWizard: well they're not new, but no.
[06:46:10] *** Joins: oberstet (quassel@moz-24534B22.dynamic.mnet-online.de)
[06:46:19] <bjz> bvssvni: hopefully it might be included in something like extra::algebra, but if not I think it will be very useful
[06:46:25] <eddyb> dbaupp: lol, it was the "as" keyword I was using. must've been conflicting with something. NVM
[06:46:27] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:46:29] <dbaupp> eddyb: ah, I know the problem
[06:46:32] <bjz> bvssvni: as a standalone thing
[06:46:40] <egghead> cmr: does that mean that 'list' wont be "moved" and I can use it again after the call to print_list ?
[06:46:48] <cmr> egghead: exactly.
[06:46:55] <bvssvni> bjz: the combination of dual and vector algebra is powerful
[06:46:58] <dbaupp> eddyb: yeah, `$e: expr as $t: ty` will greedily consume the `as` into $e (since `x as int` is a valid expression)
[06:47:02] <eddyb> dbaupp: it was actually failing when expending the macro, my bad. I had an expression as the first element of the macro pattern. yeah, that
[06:47:25] <dbaupp> eddyb: so if you make it `$e: expr in $t: ty` or [$e: expr] as $t: ty it works
[06:48:20] <eddyb> I changed it to "to"
[06:49:01] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:49:16] <egghead> cmr: another thing I was wondering is how I would do it without blowing up the call stack for big enough Lists
[06:49:22] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:49:48] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[06:50:08] <cmr> egghead: lemme get to that after I'm done tikue's exampl
[06:50:10] <cmr> e
[06:50:20] <eddyb> error: instantiating a type parameter with an incompatible type `&'<empty> main::Foo<no-bounds>`, which does not fulfill `'static`
[06:50:23] <eddyb> :/
[06:50:26] * tikue <3s cmr
[06:50:37] <eddyb> and I can't add :'static in the macro
[06:51:02] <egghead> :)
[06:51:02] <bjz> bvssvni: do you think they have a place in a gamdev library, or would they make more sense in a more generalised math library?
[06:51:05] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[06:51:07] <bvssvni> bjz: how does the array! macro work?
[06:51:28] <bvssvni> bjz: I am not sure, it fits in geometry, physics etc
[06:51:31] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:51:41] <bvssvni> bjz: for example, testing for ray intersection with a triangle
[06:51:47] <egghead> it's really cool how so much of rust is implemented in rust
[06:51:52] <bjz> bvssvni: oh yeah?
[06:51:57] *** Parts: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Leaving)
[06:52:00] <egghead> learned a lot trying to read through the stdlib
[06:52:09] *** Quits: espindola (espindola@3AA6F601.53AE8582.A535BD55.IP) (Quit: Leaving...)
[06:52:16] <bvssvni> bjz: now I think it will be some overlap of ways of doing stuff
[06:52:24] <bjz> bvssvni: is it efficient though or more of a nice abstraction?
[06:52:34] <dbaupp> egghead: be careful, some is old (other parts are new and shiny though) :)
[06:52:55] <eddyb> oh, and : can't be part of a type
[06:52:57] <eddyb> genius.....
[06:52:57] <bjz> bvssvni: sorry, just checking <3
[06:53:18] <eddyb> is it Trait:'static or Trait+'static?
[06:53:26] <egghead> dbaupp: i was working through https://github.com/mozilla/rust/blob/master/src/libstd/vec.rs is that mostly modern?
[06:53:31] <eddyb> no, I remember ~Any:Send
[06:53:48] <bvssvni> bjz: not sure about efficiency
[06:54:06] <bvssvni> bjz: it doesn't seem less efficient though
[06:54:16] <sfackler> eddyb: Trait:'static
[06:54:53] <bvssvni> bjz: I still get the same error, possibly because 'as_slice' is not implemented correctly
[06:55:00] <eddyb> why can't I just add :'static in the macro?
[06:55:16] *** Joins: drjeats (drjeats@moz-91FB2F3C.dyn.optonline.net)
[06:55:40] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[06:55:49] *** Quits: heftig (heftig@moz-3958C10A.dip0.t-ipconnect.de) (Ping timeout)
[06:56:16] <eddyb> is TypeId::of::<&Any:'static>() valid syntax?
[06:56:30] <cmr> should be.
[06:56:43] <cmr> assuming you want that typaram on the `of` fn
[06:56:56] <eddyb> but not &(Any):'static
[06:57:02] <dbaupp> eddyb: if you pass the `ty` as $(:tt)* it'll work
[06:57:04] *** Quits: alonlevy (alon@18881233.66334A3F.AB64B967.IP) (Ping timeout)
[06:57:08] <dbaupp> well, with a hack
[06:57:09] *** Joins: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP)
[06:57:21] <eddyb> dbaupp: then it will eat my delimiters, wouldn't it?
[06:57:55] <dbaupp> which delimiters?
[06:57:57] <dbaupp> hack: https://github.com/mozilla/rust/blob/master/src/libstd/trie.rs#L152
[06:58:00] <flaper87> dbaupp: hey, thanks for the review
[06:58:06] <dbaupp> flaper87: :)
[06:58:18] <dbaupp> thanks for contributing code <3
[06:58:22] <flaper87> dbaupp: if we implement it with a single loop, I think we will need more iterations / allocations
[06:58:32] <eddyb> dbaupp: commas. hmm, tt doesn't eat <
[06:58:34] <bvssvni> bjz: it seems that dual gives basically the same math as the standard algorithms
[06:58:35] <flaper87> I'd rather keep it more complex
[06:58:39] <flaper87> but I could be wrong
[06:58:40] <flaper87> so...
[06:58:50] * ChrisMorgan isn't satisfied with Rc and Weak; he wants a weak reference to a parent in what is otherwise a DAG: struct Parent { children: ~[Child] } struct Child { parent: WeakRef<Parent> }
[06:58:56] <eddyb> dbaupp: wait, I think I know how to fix this
[06:58:59] <flaper87> erm: allocations AND iterations
[06:59:03] <dbaupp> flaper87: we may need 1 or so more allocations, but I don't think we'll need more iterations
[06:59:04] <ChrisMorgan> s/DAG/tree/
[06:59:16] <strcat> ChrisMorgan: hm? Rc/Weak lets you do that
[06:59:23] <dbaupp> flaper87: I'll have to play with it myself though
[06:59:30] <strcat> ChrisMorgan: I don't think it has overhead over the same thing without support for multiple owners
[06:59:32] <ChrisMorgan> strcat: no, that requires ~[Rc<Child>]
[06:59:42] <strcat> ChrisMorgan: how else? ;p
[06:59:57] <strcat> ChrisMorgan: you also need to be able to upgrade the weak ref with something
[07:00:01] <dbaupp> ChrisMorgan: btw, has there been any movement on your += branch?
[07:00:03] <strcat> because there's a failure case
[07:00:06] <flaper87> dbaupp: let me do it, I'll work on a single loop version... it should be pretty straightforward
[07:00:22] <strcat> ChrisMorgan: for example, lets say you have Owner<int> and Weak<int>
[07:00:29] <dbaupp> flaper87: sure :)
[07:00:34] <strcat> if you could get a borrowed ptr from weak... now move the Owner into ignore()
[07:00:35] <strcat> boom ;p
[07:00:37] <ChrisMorgan> There are various situations where you can be certain that the weak ref won't be accessible by the time it's invalid—that tree structure (managed carefully) may be one of them.
[07:00:52] <dbaupp> strcat: s/ignore/drop/, right?
[07:00:58] <strcat> ChrisMorgan: but what about moves/swaps?
[07:01:00] <strcat> dbaupp: yes
[07:01:04] <dbaupp> keep up with the stdlib changes, man! :P
[07:01:20] <ChrisMorgan> Yeah, when I think it through I realise that what I said isn't *quite* true.
[07:01:26] *** Joins: victorporof (victorporo@416E2802.271BFD43.9B1E38F4.IP)
[07:01:29] *** Quits: jdm (jdm@moz-838161A9.dsl.teksavvy.com) (Quit: Lost terminal)
[07:01:50] <ChrisMorgan> dbaupp: I was actually thinking about my augmented-assignment branch a couple of hours ago and recalling that I need to rebase it so that I can legitimately bug nmatsakis about it ☺.
[07:01:59] *** Joins: achim (achim@moz-D2AAF3C1.dip0.t-ipconnect.de)
[07:02:15] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:02:24] <eddyb> dbaupp: wait, what, why can't I invoke a macro from a another macro?
[07:02:43] <dbaupp> eddyb: because you can?
[07:02:52] <bjz> :P
[07:02:56] <eddyb> error: expected `)` but found `!`
[07:03:09] <bvssvni> bjz: I though the array! macro was in std
[07:03:10] <dbaupp> eddyb: um, you can use macros in place of types
[07:03:18] <dbaupp> eddyb: so you need to wrap the whole expression in a macro
[07:03:30] <bjz> bvssvni: no, no, I defined it in the library
[07:03:41] <ChrisMorgan> Realise that macro_rules is fairly flimsy; there are places where you can and places where you can't use the various different things.
[07:03:42] <dbaupp> ChrisMorgan: I guess I'll get an email when you rebase :P
[07:03:49] <ChrisMorgan> Yep, I guess so.
[07:04:29] <eddyb> error: expected type, found token INTERPOLATED(NtTT(@TTTok(codemap::Span{lo: codemap::BytePos(713u32), hi: codemap::BytePos(718u32), expn_info: None}, INTERPOLATED(NtTy(@ast::Ty{id: 4294967295u32, node: TyPath(ast::Path{span: codemap::Span{lo: codemap::BytePos(1560u32), hi: codemap::BytePos(1580u32), expn_info: None}, global: false, segments: ~[ast::PathSegment{identifier: ast::Ident{name: 87u32, ctxt: 23u32}, lifetimes: Empty, types: Empty}, ast::
[07:04:31] <eddyb> PathSegment{identifier: ast::Ident{name: 88u32, ctxt: 23u32}, lifetimes: Empty, types: Vec(~[@ast::Ty{id: 4294967295u32, node: TyPath(ast::
[07:04:47] <eddyb> there's 3x more from where that came
[07:05:01] <dbaupp> eddyb: yum
[07:05:11] <dbaupp> show me the macro?
[07:05:28] <eddyb> macro_rules! TypeId_of_trait(($t:tt) => (TypeId::of::<&$t:'static>()))
[07:05:33] * strcat wishes rusti worked
[07:05:37] <strcat> I guess I'll build cmr's branch
[07:05:58] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[07:06:37] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[07:07:35] <dbaupp> eddyb: macro_rules! expr( ($e:expr) => { $e } ) macro_rules! TypeId_of_trait(($t:tt) => (expr!(TypeId::of::<&$t:'static>())))
[07:07:49] <eddyb> ooh, I see
[07:07:52] <dbaupp> eddyb: tt can only be passed to other macro invocations, so you just have to make a lame one to substitute
[07:07:57] <dbaupp> it's lame
[07:08:49] <eddyb> many.rs:9:64: 9:65 error: expected `,` but found `:`
[07:08:51] <eddyb> nope :/
[07:09:14] <eddyb> dbaupp: wait, let me try something else
[07:09:38] *** Joins: twi (Adium@moz-C039D8D1.lnse7.lon.bigpond.net.au)
[07:09:40] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:09:56] <eddyb> dbaupp: nope, I can't convert the interpolated type to a token tree
[07:09:57] <dbaupp> eddyb: you could make t: ident too
[07:10:06] <eddyb> except it has to be a full type
[07:11:23] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:11:26] <eddyb> $($($name:ident)::+$(<$($param:ty),+>)*),+
[07:11:42] <bvssvni> bjz: I have given the use of dual more thought
[07:11:43] <eddyb> dbaupp: close enough ^^?
[07:11:55] <egghead> D:
[07:11:57] *** Joins: zelda (Mibbit@moz-343C52ED.pppoe-dynamic.high-speed.ns.bellaliant)
[07:12:07] <bvssvni> bjz: it should be used as a top container, for example containing two matrices
[07:12:10] <dbaupp> eddyb: yup! :D
[07:12:22] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[07:12:26] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[07:12:40] *** Quits: rotaryphone (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:12:41] <bvssvni> bjz: this will keep the generated code from generics smaller
[07:13:02] <bvssvni> bjz: with other words, it is little use of implementing all the vector operations on it
[07:13:57] <bvssvni> bjz: I will try and see how it goes
[07:14:05] *** Quits: Jemaclus (Mibbit@moz-A0EB9A8E.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:14:07] <eddyb> TypeId_of_trait!($($name)::*$(<$($param),*>)*)
[07:14:13] <eddyb> dbaupp: and it still doesn't work >_>
[07:14:17] <bjz> bvssvni: unfortunately I'm not entirely sure it would be suitable for cgmath. dbaupp - what do you think - would duals make sense in a graphics math lib?
[07:15:01] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Connection reset by peer)
[07:15:07] <eddyb> macro_rules! TypeId_of_trait(($($t:tt)+) => (expr!(TypeId::of::<&$($t)*:'static>())))
[07:15:14] <mindcat> rustc always generated 1MB+ binary file.
[07:15:14] <eddyb> many.rs:9:72: 9:73 error: expected `,` but found `:`
[07:15:22] <eddyb> dbaupp: I feel like I should give up
[07:16:04] <mindcat> even #[no_std]
[07:16:06] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[07:16:07] <dbaupp> eddyb: I'm sure it's possible
[07:16:14] <dbaupp> eddyb: I'll try when I get home
[07:16:15] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[07:16:18] <dbaupp> bjz: no idea
[07:16:23] *** Quits: twi (Adium@moz-C039D8D1.lnse7.lon.bigpond.net.au) (Quit: Leaving.)
[07:16:26] <bvssvni> bjz: dual numbers are generic commutative, you can have a Vec3 of dual numbers or a dual Vec3
[07:16:27] <dbaupp> bjz: I've done literally no CG
[07:16:42] <dbaupp> mindcat: even with -O ?
[07:17:17] <mindcat> dbaupp: yes, you can try it
[07:17:29] <bjz> bvssvni: maybe you could make an issue on the cgmath repo and ask - we'll get some feedback from the other contributors
[07:17:44] *** Joins: Ferreus (ferreus@moz-1D830DAE.dip0.t-ipconnect.de)
[07:17:52] <bvssvni> bjz: I will experiment a little first
[07:17:54] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[07:17:56] <bjz> bvssvni: you welcome to keep working on it though
[07:17:57] <eddyb> dbaupp: I have this great idea, but I'm stuck in darn macros https://gist.github.com/eddyb/f828f8ce819a5f00d42d
[07:18:00] <mindcat> dbaupp: ... the code is wrong http://paste.ubuntu.com/6754811/
[07:18:08] <bjz> bvssvni: and then send a PR
[07:18:13] <eddyb> dbaupp: the casts would be so clean with DST :-<
[07:18:15] <bvssvni> bjz: ok
[07:18:47] <acrichto> mindcat: if you're worried about binary size, I recommend dynamic linking
[07:18:48] <bjz> bvssvni: but bear in mind I can't be certain it will get merged
[07:18:52] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[07:19:05] <eddyb> mindcat: --opt-level=3 -Z lto
[07:19:17] <bjz> bvssvni: but I assure you, better algebraic traits are coming!
[07:19:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:19:37] <bjz> bvssvni: perfect for this kind of thing
[07:19:46] <bvssvni> bjz: it's kind of insane that dual is involved in derivation, 3D lines, screws etc.
[07:20:28] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[07:20:36] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[07:20:36] <bvssvni> bjz: I mean, the same simple rules, there is something called dual matrices
[07:20:38] <mindcat> source code: `fn main(){print("")}` rustc --opt-level=3 -Z lto main.rs 
[07:20:47] <mindcat> -rwxr-xr-x  1 mindcat mindcat 1282055 1月  15 15:19 main
[07:21:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:21:20] <acrichto> mindcat: static linking is not optimized for binary size, that's what dynaimc linking is for
[07:21:42] <dbaupp> mindcat: -Z prefer-dynamic
[07:21:52] <eddyb> mindcat: hmm, I thought it was supposed to be around 600KB
[07:22:00] <eddyb> maybe that's with libnative instead of libgreen
[07:22:00] <bjz> bvssvni: I think somebody told me about dual quaternions being useful a while ago
[07:22:02] <strcat> acrichto: static linking can give pretty small binaries with musl
[07:22:13] <mindcat> acrichto: oh
[07:22:20] <acrichto> strcat: when I say static linking I mean *rust's* static linking
[07:22:27] <strcat> rust's LTO works fine ;p
[07:22:33] <bvssvni> bjz: it was me :)
[07:22:35] <bjz> bvssvni: It might have been for soft body physics
[07:22:41] <bjz> iohh
[07:22:43] <bjz> haha
[07:22:44] <mindcat> acrichto: it is small now
[07:23:00] <strcat> acrichto:   Size: 3016      Blocks: 8          IO Block: 4096   regular file
[07:23:00] *** Joins: Matrixiumn (zack@26FCB504.DEC5C34C.42D1BD3B.IP)
[07:23:10] <strcat> acrichto: statically linked rust binary with musl ;p
[07:23:30] <Matrixiumn> Hai.
[07:23:42] <bvssvni> bjz: basicallly, if it can multiply, it can dual
[07:23:50] <strcat> acrichto: oh wait I did it wrong, it's smaller
[07:23:52] <strcat>   Size: 2816      Blocks: 8          IO Block: 4096   regular file
[07:23:56] <bjz> bvssvni: :)
[07:24:02] <Matrixiumn> checking for i686-unknown-linux-gnu-clang... gcc -m32checking for C compiler default output file name... configure: error: C compiler cannot create executables
[07:24:07] <strcat> acrichto: *shrug* ;p
[07:24:09] <Yurume> strcat: musl + rust-core + hello world?
[07:24:37] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[07:24:39] <strcat> Yurume: well, it's just an empty rust binary
[07:24:41] <cmr> strcat: is that size in bytes?
[07:24:42] <ChrisMorgan> Ooh, fun. Now the forecast for tomorrow is 44°C, and 42°C for Friday. Methinks I'll get a little bit hot.
[07:24:44] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[07:24:44] <strcat> with hello world it must be bigger
[07:24:46] <Yurume> fn main(){}, yeah.
[07:24:48] <strcat> cmr: yes
[07:24:49] <cmr> sexy
[07:24:52] <Heather> how to create boxed closure
[07:25:07] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[07:25:08] <cmr> Heather: all closures are boxed.
[07:25:16] *** Quits: dbaupp (Thunderbir@DF3B07E7.D5A1DCF.37681C44.IP) (Ping timeout)
[07:25:21] <strcat>   Size: 2792      Blocks: 8          IO Block: 4096   regular file
[07:25:23] <strcat> optimized ;p
[07:25:28] <Heather> cmr I mean this example https://github.com/alco/blog/blob/master/posts/2013-07-22-Rust-lambdas.md#boxed-closures
[07:25:29] * strcat wonders what optimizations actually do on this...
[07:25:43] <strcat> can't really understand why optimizations would do anything
[07:25:46] <Heather> cmr in modern syntax
[07:25:52] <Matrixiumn> Anyone? :/
[07:25:54] <strcat> it's just... whatever musl uses as the bootstrap code
[07:26:12] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[07:26:13] <cmr> Heather: that is 6 months old and disgustingly out of date.
[07:26:18] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[07:26:21] <cmr> @fn and ~fn don't exist anymore.
[07:26:53] <Heather> cmr well but how to make same now? )
[07:27:41] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[07:27:56] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[07:28:34] *** Joins: safiire (safiire@moz-A378BFE8.vc.shawcable.net)
[07:29:38] <Heather> cmr any ideas? :S
[07:30:02] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[07:30:15] <cmr> Heather: you need to use ~Trait objects, with a single method to "call" it
[07:30:17] <cmr> busy atm
[07:30:36] <drjeats> hey there #rust. im a mac os 10.6 user, so 0.9 is giving me problems (found the issue: https://github.com/mozilla/rust/issues/10842)
[07:30:44] <Heather> I see... sad but it's complex
[07:30:46] <drjeats> is there any word on whether or not 10.6 will still be supported?
[07:30:54] <Matrixiumn> /t/m
[07:30:55] *** Quits: lennart (lennart@moz-DE70D6F.stanford.edu) (Ping timeout)
[07:30:56] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[07:30:57] <safiire> Does anyone know of a tutorial or explaination of some kind on how to get started making an OpenGL application in Rust?
[07:31:01] <Matrixiumn> Umm
[07:31:18] <bjz> safiire: my gl-rs lib has some examples
[07:31:42] <safiire> I have been looking at your repos actually.
[07:31:48] <strcat> Yurume: really annoying to compile though
[07:31:48] <cmr> Matrixiumn: your C compiler is broken. Is that the right target triple?
[07:31:51] <strcat> Yurume: takes 3 stages
[07:31:56] *** Quits: Sharp (Sharp@moz-EEC85237.hsd1.ca.comcast.net) (Quit: Sharp)
[07:32:05] <strcat> Yurume: rustc --emit-llvm -O -Z lto -Z no-landing-pads
[07:32:13] <bjz> safiire: ^_^
[07:32:20] <bjz> https://github.com/bjz/gl-rs/tree/master/src/examples
[07:32:22] <safiire> bjz:  I will give that another shot, and then perhaps bug you if I run into troubles again.
[07:32:27] <strcat> Yurume: well, and then clang...
[07:32:33] <bjz> safiire: I still have so much to do -_-
[07:32:38] <strcat> but I don't have clang set up to use musl ;[
[07:32:47] <safiire> thanks bjz
[07:32:48] <bjz> safiire: lots of half finished things
[07:32:57] *** Joins: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP)
[07:33:10] <bjz> safiire: #rust-gamedev is preferred for graphics questions
[07:33:27] <safiire> Ok, will join that channel.
[07:34:32] <Matrixiumn> cmr: It is not, this is a 86_64x
[07:34:40] <Matrixiumn> System.
[07:34:59] <cmr> Matrixiumn: where did it even come from? what's your shell history up to that point
[07:35:16] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[07:35:25] <Matrixiumn> You mean the download?
[07:35:38] <cmr> the configure steps etc
[07:35:56] <Matrixiumn> Ah
[07:36:10] <Matrixiumn> tbh I just did ./xonfigure
[07:36:20] <Matrixiumn> S/x/c/
[07:36:27] <cmr> what system are you on
[07:36:35] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[07:36:53] *** Joins: yuriks (yuriks@7AF92294.96DC925E.3299D537.IP)
[07:36:58] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[07:37:29] <cmr> tikue: so I just realized that it's like super late.
[07:37:37] <tikue> yessir
[07:37:43] <tikue> i'm going to bed soon
[07:37:45] <cmr> https://gist.github.com/cmr/8432284
[07:37:46] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[07:37:50] <cmr> doesn't work.
[07:37:52] <cmr> *almost* works.
[07:37:54] <cmr> but doesn't.
[07:38:01] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:38:16] <cmr> not sure if ideal
[07:38:21] <cmr> but I'm off to bed :)
[07:38:25] <tikue> cmr: awesome, thanks, I'll check it out and see if I can't get it working!
[07:38:32] <tikue> (not tonight though :P)
[07:38:35] <Matrixiumn> Linux matrix 3.2.0-57-generic #87-Ubuntu SMP Tue Nov 12 21:35:10 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux
[07:38:38] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:39:21] <cmr> egghead: sorry, can't help you tonight :( but basically you need to do what I did in last() in the above gist, https://gist.github.com/cmr/8432284#file-dlist-rs-L37
[07:39:22] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:39:30] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[07:39:39] *** Quits: matthewbot (user@moz-C6814817.ga.at.cox.net) (Client exited)
[07:39:51] <cmr> egghead: that could easily be recursive, but instead updates a reference in a loop
[07:39:58] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[07:40:06] <Matrixiumn> Bye cmr! D:
[07:40:45] <cmr> Matrixiumn: try re-running configure. that looks super strange. also looks like things are running in parallel and clobbering stdout, which definitely shouldn't be happening with our configure script.
[07:41:00] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:41:08] *** Quits: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP) (Ping timeout)
[07:41:19] <Matrixiumn> I have, but, I'll try again. Thanks! :π
[07:41:23] <Matrixiumn> *:)
[07:41:40] <cmr> (it shouldn't be trying clang unless you gave --enable-clang ...)
[07:41:55] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[07:42:20] <eddyb> rusti: version
[07:42:21] -rusti- "rustc 0.10-pre (db7b9a3 2014-01-15 02:09:57 -0500)"
[07:42:38] <eddyb> \o/
[07:42:55] *** Joins: shilgapira (chatzilla@moz-703651C7.barak.net.il)
[07:42:58] <cmr> Matrixiumn: if that fails, --host=x86_64-unknown-linux-gnu --target=x86_64-unknown-linux-gnu to configure
[07:43:02] * cmr -> bed
[07:43:43] <Matrixiumn> :D
[07:44:00] <Matrixiumn> Works! Thanks kind sir. :—
[07:44:53] <safiire> bjz:  Ahh, I've got glfw-rs working this time.  This was where I had issues before, I just obliterated my rust install and reinstalled from master and all is working now.
[07:45:05] <bjz> safiire: awesome
[07:46:58] *** Joins: gkostyanikov (gkostyanik@3AD46947.A859D9FD.CA6E2165.IP)
[07:48:08] *** Joins: Ms2ger (Ms2ger@AA55AE55.592AEF45.F15B0BB3.IP)
[07:48:42] *** Joins: wilma (Mibbit@moz-70F9251D.thefacebook.com)
[07:48:48] <Matrixiumn> /bin/sh: 1: -assemble: not found
[07:48:56] *** Quits: wilma (Mibbit@moz-70F9251D.thefacebook.com) (Quit: http://www.mibbit.com ajax IRC Client)
[07:49:16] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[07:50:07] *** Quits: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP) (Ping timeout)
[07:50:38] <safiire> bjz:  These examples are super helpful, thank you a bunch :)
[07:50:50] <bjz> no worries
[07:50:57] <bjz> have you done gl before?
[07:50:59] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:51:05] <safiire> Yep, in C/C++
[07:51:28] *** Joins: claudiu (claudiu@moz-70F9251D.thefacebook.com)
[07:51:50] *** Joins: gwty (gwtypc@C3EE6AF0.BB20A64A.49FF672.IP)
[07:51:59] *** Joins: lenstr (lenstr@661AB8FA.9636F313.7A27613B.IP)
[07:54:17] *** Quits: lenstr (lenstr@661AB8FA.9636F313.7A27613B.IP) (Client exited)
[07:54:21] *** Joins: lenstr (lenstr@661AB8FA.9636F313.7A27613B.IP)
[07:54:35] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[07:54:59] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[07:55:52] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:55:56] <bjz> safiire: oh cool
[07:56:38] <safiire> So, your repo https://github.com/bjz/glcore-rs is gone, does that mean I should just use https://github.com/h3r2tic/glcore-rs?
[07:56:39] <bjz> safiire: how exciting! :)
[07:57:23] <bjz> safiire: no, use gl-rs
[07:57:27] <safiire> ah ok
[07:57:36] <bjz> I should get h3r3tic to delete that
[07:57:36] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:57:38] *** Quits: thesnowdog (doug@ADE066C5.CDB23781.6F17036B.IP) (Ping timeout)
[07:57:49] <mindcat> rusti: "OHHH YOU ARE ALIVE"
[07:57:50] -rusti- "OHHH YOU ARE ALIVE"
[07:58:17] <mindcat> so rusti alive again XD
[07:58:50] <mindcat> why not host rusti in server??
[07:59:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[07:59:32] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:59:35] *** Joins: derek_c (derek@EF16DCF1.117B7BA2.EB673A25.IP)
[07:59:46] <mindcat> rusti: loop {}
[07:59:49] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[07:59:54] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[08:00:00] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:00:00] *** Joins: noel (noel@moz-A96C42F7.as13285.net)
[08:00:08] <mcpherrin> rusti: loop{}; 1
[08:00:09] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[08:00:10] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[08:00:11] <mindcat> rusti: loop {};()
[08:00:13] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[08:00:33] <mcpherrin> that is the same url three times?
[08:00:34] <mindcat> rusti: 1;loop {};1
[08:00:36] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[08:00:55] <acrichto> rusti: 8
[08:00:56] -rusti- 8
[08:01:06] <mindcat> rusti: 8*/55
[08:01:08] -rusti- pastebinned 6 lines of output: http://ix.io/9S0
[08:01:34] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[08:01:40] *** Quits: gkostyanikov (gkostyanik@3AD46947.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:01:44] <mindcat> rusti: while (1) {}
[08:01:46] -rusti- pastebinned 7 lines of output: http://ix.io/9S1
[08:01:58] <Ycros> lol.
[08:02:02] <mindcat> rusti: while (true) {1}
[08:02:04] -rusti- pastebinned 7 lines of output: http://ix.io/9S2
[08:02:15] *** Joins: gkostyanikov (gkostyanik@3AD46947.A859D9FD.CA6E2165.IP)
[08:02:18] <mindcat> rusti: while (true) {};1
[08:02:24] -rusti- timeout triggered!
[08:02:29] <mindcat> done XD
[08:02:32] <eddyb> mindcat: it's not (true) but true
[08:02:51] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:02:55] <mindcat> eddyb: what?
[08:03:02] <eddyb> rust-buildbot: while true {}
[08:03:05] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:03:06] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[08:03:09] <eddyb> err damn bot
[08:03:15] <eddyb> rusti: while true {}
[08:03:20] -rusti- <anon>:10:9: 10:22 warning: denote infinite loops with loop { ... }, #[warn(while_true)] on by default
[08:03:20] -rusti- <anon>:10         while true {}
[08:03:21] -rusti-                   ^~~~~~~~~~~~~
[08:03:21] -rusti- timeout triggered!
[08:03:37] <eddyb> mindcat: rusti was recently resurrected from a libuv bug by cmr
[08:03:48] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:04:46] <mindcat> eddyb: oh
[08:05:06] <eddyb> hasn't been working since the middle of october
[08:05:11] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[08:05:34] <safiire> I haven't quite understood this yet, say I clone a repo and rustpkg build it.  It builds fine and then is located in /Users/safiire/Desktop/gl-rs/build/x86_64-apple-darwin/gl/libgl-dbe7b0eb-0.1.dylib, which is fine, but do I need to somehow install that systemwide into /usr/lib/rustlib/ or something, or do I copy it into my project?
[08:06:07] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:06:08] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[08:06:58] *** Quits: drjeats (drjeats@moz-91FB2F3C.dyn.optonline.net) (Quit: Textual IRC Client: www.textualapp.com)
[08:07:28] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[08:07:54] *** Quits: Ms2ger (Ms2ger@AA55AE55.592AEF45.F15B0BB3.IP) (Ping timeout)
[08:08:10] *** Joins: Ms2ger (Ms2ger@AA55AE55.592AEF45.F15B0BB3.IP)
[08:09:25] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[08:10:24] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:11:19] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[08:11:25] *** Joins: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com)
[08:12:11] <dmacvicar> Hi. Can anyone give me the equivalent 32bit link for this stage0 rust-stage0-2014-01-05-a6d3e57-linux-x86_64-aa8fbbacdb1d8a078f3a3fe3478dcbc506bd4090.tar.bz2 ?
[08:12:13] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:14:29] *** Quits: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net) (Quit: tikue)
[08:14:33] *** Quits: lenstr (lenstr@661AB8FA.9636F313.7A27613B.IP) (Client exited)
[08:15:07] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[08:15:56] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:16:07] *** Joins: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net)
[08:16:55] *** Quits: zelda (Mibbit@moz-343C52ED.pppoe-dynamic.high-speed.ns.bellaliant) (Quit: http://www.mibbit.com ajax IRC Client)
[08:17:27] *** Quits: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net) (Quit: tikue)
[08:19:44] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[08:19:50] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[08:20:06] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:20:55] <geomyidae> spawn(proc() { }); should return "immediately" right?
[08:21:02] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[08:21:14] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[08:21:21] *** Joins: mcweda (Mibbit@moz-2777BD3E.hsd1.ct.comcast.net)
[08:21:36] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[08:21:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:22:58] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[08:23:09] *** Joins: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:23:09] *** Quits: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:23:18] *** Joins: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:23:18] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[08:23:38] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[08:23:41] *** Quits: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:23:44] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:23:47] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[08:23:48] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[08:24:17] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:24:17] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[08:24:21] <strcat> geomyidae: well it probably context switches to the new task
[08:24:32] <strcat> but from the perspective of the parent task, yes
[08:24:59] <geomyidae> I have printlns around the spawn call and the post line isn't ever printled
[08:25:07] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:25:07] <geomyidae> the inner loop runs properly
[08:25:33] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[08:25:50] <geomyidae> I swear it worked last night for a while and either regressed upon a pacman update or a bug I introduced or something.
[08:26:33] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[08:26:53] *** Quits: shilgapira (chatzilla@moz-703651C7.barak.net.il) (Ping timeout)
[08:26:55] *** Joins: dbaupp (Thunderbir@moz-6002BAEA.lns20.syd6.internode.on.net)
[08:28:17] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[08:28:29] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[08:28:50] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:29:20] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:29:33] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:30:45] <mouse> is there any way to point en element in Enum to some value of this enum like in C? https://gist.github.com/ya-mouse/eb8e6cb7936bfd61983e
[08:31:53] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[08:32:39] *** Quits: derek_c (derek@EF16DCF1.117B7BA2.EB673A25.IP) (Ping timeout)
[08:33:05] <Yurume> mouse: make `MAX` a static item instead of enum variants. it differs from C enums since every discriminant (that comes after `=`) should be distinct.
[08:33:25] <Yurume> i.e. pub enum Type { FIRST = 1, SECOND, LAST } pub static MAX: Type = LAST;
[08:33:42] <mouse> ok, thanks
[08:37:02] <geomyidae> so if I have a loop { timer::sleep(); } it will return from the spawn
[08:37:23] <geomyidae> if I have a loop { match cfunc() { } } then it doesn't return from the spawn
[08:38:35] <strcat> geomyidae: because M:N threading requires manual yields
[08:38:59] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[08:39:00] <strcat> running a CPU bound loop without calls to yield will prevent other tasks from running (although another scheduler can steal them if they aren't homed by I/O)
[08:39:21] *** Joins: benjamin__ (benjamin@moz-29766E26.dip0.t-ipconnect.de)
[08:39:41] *** Quits: benjamin_ (benjamin@moz-8D104FD6.dip0.t-ipconnect.de) (Ping timeout)
[08:40:05] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[08:40:29] <geomyidae> strcat: I wondered about that and searched for yield in the docs, but wasn't sure which to use
[08:40:46] *** Joins: jt (quassel@moz-B994FA9E.cs.st-andrews.ac.uk)
[08:40:55] <bvssvni> bjz: I think I have a better solution than implementing dual as it's own type
[08:41:12] <bvssvni> bjz: just write static functions: cross(&a0, &a1, &b0, &b1)
[08:41:23] <dbaupp> geomyidae: you can just use libnative
[08:41:32] <dbaupp> which gives you OS threads instead of green tasks
[08:41:36] <bvssvni> bjz: it will return a tuple
[08:41:38] <dbaupp> (when you spawn())
[08:41:46] <dbaupp> geomyidae: http://static.rust-lang.org/doc/master/guide-runtime.html
[08:41:58] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:42:02] <dbaupp> geomyidae: in particular http://static.rust-lang.org/doc/master/guide-runtime.html#which-to-choose
[08:42:03] *** Quits: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca) (Ping timeout)
[08:42:04] *** Joins: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca)
[08:42:14] <dbaupp> but replace the `green` with `native` in that code sample
[08:42:59] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[08:43:27] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[08:44:02] <geomyidae> sweet :)
[08:45:30] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:46:38] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[08:48:28] *** Quits: mcweda (Mibbit@moz-2777BD3E.hsd1.ct.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:49:15] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[08:50:00] *** Quits: FreeFull (freefull@moz-E7CA7ED2.as13285.net) (Quit: )
[08:53:27] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:53:27] *** Joins: derek_c (derek@D57B0E9.204CE243.DD630FEE.IP)
[08:54:02] *** Joins: lucian_ (lucian@moz-8408FDFA.cable.virginm.net)
[08:54:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[08:56:14] *** Joins: Sharp (Sharp@moz-EEC85237.hsd1.ca.comcast.net)
[08:56:22] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[08:56:40] *** Quits: sigma (sigma@moz-9EAC972C.range86-184.btcentralplus.com) (Client exited)
[08:56:43] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[08:56:55] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[08:57:08] *** Joins: sigma (sigma@moz-9EAC972C.range86-184.btcentralplus.com)
[08:57:58] *** Joins: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP)
[08:57:58] *** Quits: Sharp (Sharp@moz-EEC85237.hsd1.ca.comcast.net) (Quit: Sharp)
[08:58:29] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[08:58:31] *** Quits: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca) (Ping timeout)
[08:58:33] *** Joins: brendanc (brendan@moz-CA4BEC19.cs.ubc.ca)
[08:59:22] *** Quits: yutongzhao (yutongzhao@moz-325F8282.hsd1.ca.comcast.net) (Quit: yutongzhao)
[08:59:56] *** Quits: dogweather (dogweather@moz-4EC23EE5.hsd1.or.comcast.net) (Quit: Leaving...)
[09:02:13] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[09:02:34] *** Joins: wtw (wtw@moz-D8FB7390.org)
[09:02:56] *** Joins: jackneill (jackneill@moz-1F46A32A.pool.digikabel.hu)
[09:05:22] *** Quits: claudiu (claudiu@moz-70F9251D.thefacebook.com) (Input/output error)
[09:05:24] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[09:05:43] *** Joins: claudiu (claudiu@moz-70F9251D.thefacebook.com)
[09:06:00] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:06:11] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:07:25] *** Quits: claudiu (claudiu@moz-70F9251D.thefacebook.com) (Ping timeout)
[09:07:30] *** Joins: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com)
[09:07:50] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[09:08:54] <ecl3ctic> dbaupp: is libgreen still the default? When is it going to switch over?
[09:09:46] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[09:10:01] <daschl> ecl3ctic do you think native threads are a better default?
[09:10:05] <dbaupp> ecl3ctic: it is the default, and I don't know
[09:10:12] <flaper87> Yurume: you're the one behind http://cosmic.mearie.org/2014/01/periodic-table-of-rust-types/ right ?
[09:10:14] <dbaupp> when native is more feature complete
[09:10:48] <dbaupp> daschl: not just ecl3ctic, some members of the core team do to (and some of the more prolific volunteers)
[09:10:55] <dbaupp> *too
[09:10:56] <ecl3ctic> daschi: well for my purposes I'd prefer native as the default
[09:11:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:11:12] <daschl> dbaupp interesting! I have no opinion, just wanted to get some reasoning :)
[09:11:39] <dbaupp> daschl: using native threads makes interacting with the OS and other (non-Rust) libraries more sensible
[09:11:44] <daschl> I'm a rust newbie coming from java, so I dont have issues with native threads being the default hehe
[09:12:12] <dbaupp> since things like syscalls are ok with native threads, and CPU-intensive loops get scheduled correctly
[09:12:14] <flaper87> daschl: lol
[09:12:32] <strcat> dbaupp: and memory-mapped I/O
[09:12:50] <daschl> makes sense... also I could imagine the interaction with C code is easier as well?
[09:12:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:12:56] <dbaupp> strcat: that's basically a syscall :P
[09:13:03] <dbaupp> daschl: yes, for the same reasons
[09:13:05] <strcat> dbaupp: mmap itself doesn't block though
[09:13:10] <dbaupp> (since C code will be doing all of that without caring)
[09:13:13] <strcat> dbaupp: accessing the pages does
[09:13:28] <strcat> technically, if your memory is swapped out, so can accessing any data
[09:15:04] <Yurume> flaper87: right. hi!
[09:15:08] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[09:15:29] <flaper87> Yurume: hey, just wanted to say Thanks :) Very useful
[09:15:30] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:15:35] <Yurume> good to hear that
[09:16:07] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[09:16:13] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[09:16:34] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[09:16:37] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[09:17:18] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[09:17:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[09:17:32] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[09:17:51] *** Quits: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net) (Quit: Leaving)
[09:18:18] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[09:18:44] *** Joins: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za)
[09:18:48] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Quit: Instantbird 1.5 -- http://www.instantbird.com)
[09:19:33] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[09:20:18] *** Joins: kevincantu (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP)
[09:21:03] *** Quits: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Ping timeout)
[09:21:37] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[09:21:46] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[09:23:21] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[09:24:12] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[09:24:41] *** Joins: chunyang (Thunderbir@7790093D.77AD8B55.C8ED823E.IP)
[09:25:23] *** Joins: igork (Adium@9C577557.7893D71C.6E0EE79F.IP)
[09:25:53] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[09:26:50] *** Quits: lucian_ (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:26:51] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[09:27:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:28:38] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[09:28:44] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:28:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:34:10] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[09:34:30] *** Quits: gwty (gwtypc@C3EE6AF0.BB20A64A.49FF672.IP) (Ping timeout)
[09:35:04] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:41:01] *** Quits: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com) (Quit: Leaving)
[09:41:06] *** Joins: adridu59 (Mibbit@moz-E7A273CD.ac-paris.fr)
[09:42:12] <flaper87> dbaupp: added a single loop version
[09:44:31] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[09:44:50] *** Joins: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net)
[09:45:31] <mouse> should I bitwise AND for u16 before treating as u8? e.g. "0x1515 as u8" or "(0x1515 & 0xff) as u8" ?
[09:46:28] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[09:49:35] <Ms2ger> as u8 truncates, I think
[09:49:44] *** Joins: autra_ (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[09:51:14] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: WeeChat 0.4.3-dev)
[09:52:04] *** Quits: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP) (Ping timeout)
[09:52:58] *** Joins: rca (rcatolino@moz-63C849F5.adsl.proxad.net)
[09:55:09] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[09:55:32] *** Quits: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:57:56] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:58:34] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Ping timeout)
[09:58:46] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[09:59:02] *** Quits: kevincantu (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Ping timeout)
[09:59:53] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[10:00:32] *** Quits: gkostyanikov (gkostyanik@3AD46947.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:00:58] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[10:01:19] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:01:49] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[10:01:55] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[10:01:57] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[10:02:21] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:02:32] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[10:02:55] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:02:56] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[10:03:03] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[10:03:15] *** Joins: daschl1 (Adium@moz-DC6DE6E2.vie.surfer.at)
[10:03:21] *** Quits: daschl1 (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: daschl1)
[10:03:23] <darkf> how can I get a ~[T] from a &[T]?
[10:04:07] *** Joins: gkostyanikov (gkostyanik@3AD46947.A859D9FD.CA6E2165.IP)
[10:04:22] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[10:04:23] <kimundi> darkf: .to_owned()
[10:04:33] <lucian> that's a copy, right?
[10:04:43] *** Joins: glaebhoerl_ (glaebhoerl@moz-3590251D.kabelnet.hu)
[10:04:46] <klutzy> yeah
[10:04:50] <kimundi> it clones every element, yeah
[10:05:14] *** Quits: glaebhoerl (glaebhoerl@moz-3590251D.kabelnet.hu) (Ping timeout)
[10:05:32] <lucian> and you can ensure that with Clone. i'm really liking rust's type system
[10:06:09] <darkf> bah, but if I bound T with Clone then everything else blows up :) great
[10:06:54] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[10:06:59] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: SingingBoyo)
[10:09:16] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[10:10:58] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[10:11:54] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:12:23] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[10:12:29] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: SingingBoyo)
[10:12:59] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Quit: Leaving.)
[10:13:06] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[10:13:13] *** Joins: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP)
[10:13:29] *** Joins: jarod_liu (Mibbit@38D4B852.DD5E2314.21B78128.IP)
[10:13:31] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: WeeChat 0.4.3-dev)
[10:13:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:13:53] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[10:13:54] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[10:14:14] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[10:14:16] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: SingingBoyo)
[10:14:35] *** Quits: StarLight (StarLight@moz-D67E58A4.dynamic.avangarddsl.ru) (Ping timeout)
[10:16:46] <darkf> so, is there a way to make this work? I guess I can't borrow procs multiple times. Rust doesn't have managed closures anymore does it? (errors on bottom; sorry for pastebin, not sure what you use around here): http://pastebin.com/watDgUak
[10:17:52] *** Joins: nkoep (nik@moz-6FBBB63B.pool.mediaways.net)
[10:18:52] *** Joins: StarLight (StarLight@moz-926759F6.dynamic.avangarddsl.ru)
[10:20:12] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[10:20:36] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[10:22:02] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:22:44] *** Quits: jarod_liu (Mibbit@38D4B852.DD5E2314.21B78128.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:24:19] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[10:24:33] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[10:25:31] <dbaupp> flaper87: looking
[10:26:06] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Ping timeout)
[10:26:22] <lucian> darkf: it looks to me like you probably want to move each chunk into a different task
[10:26:27] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[10:26:45] <flaper87> dbaupp: thnx
[10:27:02] <lucian> darkf: but you'd have to make `f` non-closure
[10:27:11] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[10:27:43] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:28:56] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[10:29:00] <darkf> lucian: hrm, so I'd have to pass each chunk into the closure instead of just closing over `chunks`? then make f a `fn()`?
[10:29:22] <lucian> darkf: yeah. or a |e| {}
[10:29:54] <lucian> so it would no longer be a closure, just function (either fn or lambda) that gets passed a chunk and returns the result
[10:30:02] <dbaupp> darkf: btw, there is the .chunks(chunksize) iterator for vectors
[10:30:31] <flaper87> dbaupp: removed the () :) thnx
[10:30:35] <lucian> darkf: and in fact you don't seem to be mutating the chunk, so you could probably send it over as &
[10:30:49] <darkf> dbaupp: huh, that would be really useful, thanks. fortunately this is letting me get back up to speed with Rust :)
[10:30:55] <dbaupp> darkf: so you can actually write compute the chunksize and write `vec.chunks(chunksize).collect()` as the return value :)
[10:30:57] <lucian> (but that would require putting it in an Arc or similar)
[10:31:21] *** Quits: sigma (sigma@moz-9EAC972C.range86-184.btcentralplus.com) (Client exited)
[10:32:43] <eddyb> shiny https://gist.github.com/eddyb/f828f8ce819a5f00d42d
[10:32:53] <dbaupp> flaper87: did you see my second comment?
[10:33:10] <flaper87> dbaupp: yup, that if is to avoid cloning self
[10:33:13] <flaper87> I replied there
[10:33:17] <eddyb> maaaaaaagic
[10:33:36] <dbaupp> flaper87: did you add a comment? ;)
[10:33:49] <flaper87> dbaupp: hehe, doing it as we speak
[10:34:09] <dbaupp> flaper87: also, you can write `impl<T: Clone + One + Mul<T, T>> Power for T {}` instead of writing out all those other impls
[10:34:26] <dbaupp> that said... I'm not super keen on this being a trait
[10:34:32] <dbaupp> it can just be a freestanding function
[10:34:49] *** Joins: mib_enzqa9 (Mibbit@75C6B73F.B49D8367.F743D60E.IP)
[10:34:53] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[10:35:08] <dbaupp> also, I do think that the power should be uint, rather than a generic, because with a generic we have to handle it being negative
[10:35:48] *** Quits: blaenk (blaenk@moz-C270A5EA.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[10:36:03] <flaper87> dbaupp: if it's a freestanding function, how can I make other traits implement the method?
[10:36:14] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[10:36:15] <flaper87> dbaupp: shouldn't it implement Neg to be negative?
[10:36:24] <darkf> lucian: hrm, yeah, when passing it with `map` I get `error: cannot capture variable of type `&[T]`, which does not fulfill `Send`, in a bounded closure`. does it need to be in an Arc anyway?
[10:36:50] *** kimundi is now known as zz_kimundi
[10:36:52] <dbaupp> flaper87: "other traits"?
[10:37:13] <dbaupp> flaper87: no, you can still pass an `int` with the bounds you've got there
[10:37:15] <dbaupp> I think
[10:37:23] *** Joins: tq (tq@moz-632DBD9.ad.umu.se)
[10:37:32] <lucian> darkf: if you want to keep it in the master task, you can make it an Arc and call .get (which returns a &) to the contents. Alternatively, you can make it ~[T] and send it into the executing tasks
[10:37:36] <flaper87> dbaupp: the original patch proposed it as part of Integer and it was recommended to move the impl to Mul
[10:37:51] <lucian> darkf: ~ route is probably simplest
[10:38:21] <flaper87> however, making it part of Mul is a bit more complex - or I just failed at doing it.
[10:38:53] <mib_enzqa9> Super noob question: how would one idomatically drop the last utf-8 character in a string?  This is flawed given that str is a vector of u8: let bob = ~"hi 武"; println!("{}", bob.slice_to(bob.len() - 1));
[10:39:33] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[10:39:48] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[10:39:51] <eddyb> mib_enzqa9: without mutating the string?
[10:39:53] <dbaupp> flaper87: yes, you need more bounds to get it to work on Mul
[10:40:09] <mib_enzqa9> Yes, no mutation
[10:40:14] <eddyb> mib_enzqa9: you have to find the length of the last codepoint
[10:40:19] <dbaupp> flaper87: I think https://gist.github.com/huonw/ebf13fe87474f4514efe should be enough
[10:40:35] <dbaupp> flaper87: I'm not keen on adding new traits, when we don't actually need it
[10:40:51] <dbaupp> (since it works perfectly as a freestanding function)
[10:40:53] <adridu59> a bit sad to have a `powf` for floats
[10:40:55] <eddyb> mib_enzqa9: there's a lot of methods on &str to make working with codepoints/bytes easier
[10:41:14] <adridu59> would be cool to have it all `pow` if that's possible
[10:41:16] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[10:41:19] <dbaupp> adridu59: no
[10:41:22] <dbaupp> pow is much faster
[10:41:32] <dbaupp> when you have a (small) uint exponent
[10:41:34] <flaper87> dbaupp: I agree, I just couldn't come up with a better solution, most likely because I still got tons of things to learn about rust :D 
[10:41:46] <dbaupp> Haskell has ^, ^^ and ** for different types of powers
[10:41:47] <flaper87> adridu59: also, powf uses llvm intrinsics
[10:41:56] <adridu59> you can't like define it differently for different kind of types?
[10:42:03] <dbaupp> that's not the problem
[10:42:05] <adridu59> well that's good then
[10:42:12] <dbaupp> sometimes you do want to use pow for floats
[10:42:12] <eddyb> why does Haskell even have 3?
[10:42:25] <dbaupp> e.g. pow(2.4, 4) will be faster than powf(2.4, 4)
[10:42:37] <mib_enzqa9> @eddyb Right, do I have to walk backwards from the end to find the start of the character?
[10:42:41] <adridu59> no what I meant is still naming is pow but having different implementations depending on the type
[10:42:43] <flaper87> dbaupp: I thought about having a Power trait because there's also one for Round ops
[10:42:53] <pyon> eddyb: When the exponent is an integer, Haskell uses exponentiation by squaring.
[10:42:54] <eddyb> mib_enzqa9: yeah, it should be just one method call or so
[10:42:55] <flaper87> I'm ok with getting rid of it
[10:43:02] <dbaupp> eddyb: number ^ positive integer, number that can be inverted ^^ arbitrary integer, float ** float
[10:43:12] <eddyb> pyon: that's what we should do, as an optimization
[10:43:15] <dbaupp> flaper87: the round ops actually depend on the type that is used
[10:43:27] <flaper87> dbaupp: fair enough
[10:43:50] <dbaupp> this has a single implementation for all types => plain old generic function is ok
[10:43:56] <flaper87> dbaupp: what trait do you think should define pow?
[10:44:00] <dbaupp> none
[10:44:04] <dbaupp> just a function
[10:44:07] <dbaupp> like in my gist
[10:44:08] <pyon> eddyb: When the exponent is a floating-point number, I think "a ^ b = e ^ (b * ln a)" is used.
[10:44:11] <mib_enzqa9> eddyb Thanks, one last question: is there a way to determine the character length of a utf8 str?
[10:44:28] <dbaupp> pyon, eddyb: that has to be explicitly chosen by using **
[10:44:28] <flaper87> dbaupp: would that allow to do: 2u.pow(..) or would it require num::pow(n, exp)
[10:44:30] <flaper87> ?
[10:44:36] <dbaupp> flaper87: yes, pow(n, exp)
[10:44:50] * flaper87 liked 2.pow(exp)
[10:44:51] <flaper87> :P
[10:45:04] <eddyb> mib_enzqa9: .char_len(), I think, O(N)
[10:45:07] <pyon> eddyb: Well, in general, you cannot do that optimization unless you distinguish between exponentiation to an integer power (Haskell's (^)) and to a floating-point power (Haskell's (**)) as distinct operations.
[10:45:08] <adridu59> .pow() is pretty cool
[10:45:20] <dbaupp> the problem is it adds a whole new trait
[10:45:28] <dbaupp> just to get method-call syntax
[10:45:29] * Ms2ger wonders about xor
[10:45:31] <flaper87> also, if we have it as a separat function it won't be consistent with 2f32.powf
[10:45:33] <dbaupp> traits are hard
[10:45:40] <dbaupp> (for documentation)
[10:46:06] <eddyb> Ms2ger: leave XOR alone!
[10:46:09] <adridu59> I wouldn't make code based on doc
[10:46:09] <adridu59> also this pattern is used already
[10:46:15] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Client exited)
[10:46:18] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[10:46:18] <adridu59> had a quick look at std::num yesterday
[10:46:23] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[10:46:31] <eddyb> ** would be a nice binop to have
[10:46:35] <pyon> Dang.
[10:46:35] <dbaupp> adridu59: which traits are *just* for the method call syntax?
[10:46:39] <strcat> eddyb: superscript!
[10:46:43] <strcat> ;p
[10:46:52] <eddyb> the problem is that x**y is parsed as x * (*y) now
[10:47:00] <eddyb> ^^ looks funny
[10:47:17] <adridu59> not sure
[10:47:20] <eddyb> (and might confuse people on IRC)
[10:47:30] <flaper87> dbaupp: I'll change U to be uint and keep the trait for now so we can discuss this a bit further
[10:47:37] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:47:53] *** Quits: adridu59 (Mibbit@moz-E7A273CD.ac-paris.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[10:47:59] <pyon> eddyb: But it makes sense - we need some mechanism for distinguishing when we can take negative powers ((^^), e.g., for rational bases) and when we cannot ((^), e.g., for integer bases).
[10:48:00] <dbaupp> adridu59: Times is the only one
[10:48:00] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:48:00] <dbaupp> oh
[10:48:11] <mib_enzqa9> eddyb There is is!  Thanks again for your time!
[10:48:32] <dbaupp> flaper87: :)
[10:48:35] <flaper87> mmh, actually, I'm not even sure about changing U to be honest. I understand the negative support issue but if we change it, users will have to cast ints to uints if they want
[10:48:37] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[10:48:41] <flaper87> ... want to use pow
[10:48:46] <eddyb> pyon: oh, interesting
[10:48:52] *** Quits: chunyang (Thunderbir@7790093D.77AD8B55.C8ED823E.IP) (Quit: chunyang)
[10:49:00] <strcat> eddyb: pfft, use x⁴
[10:49:15] <strcat> and if you want to raise something to a variable power, too bad
[10:49:28] <pyon> strcat: LaTeX to the rescue!
[10:49:30] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[10:49:38] <eddyb> pyon: is a branch on a negative power that bad?
[10:49:41] *** Parts: mib_enzqa9 (Mibbit@75C6B73F.B49D8367.F743D60E.IP) ()
[10:49:52] <dbaupp> flaper87: yes, and that is exactly as it should be
[10:50:09] <strcat> .ͣ..
[10:50:11] <eddyb> we might need specialization to have the right bounds
[10:50:15] <dbaupp> flaper87: this only supports positive powers, so if they're passing in a (possibly) negative number they need to think about it
[10:50:20] <pyon> eddyb: The problem is that negative powers are not even defined when the base is an integer.
[10:50:27] <strcat> 2ˣ
[10:50:38] <dbaupp> pyon: they are when the base is 1 :p
[10:50:41] <eddyb> 2ˣn
[10:50:51] <pyon> dbaupp: Yeah, but it would not be a total function.
[10:51:05] <dbaupp> pyon: psh, it's defined on one element of the domain
[10:51:07] <dbaupp> good enough
[10:51:11] <pyon> lol
[10:51:13] <dbaupp> (two, if you count -1!)
[10:51:19] <pyon> haha
[10:51:48] <flaper87> dbaupp: fair enough... changing it
[10:54:37] <eddyb> dbaupp: bah, I need to make my Many thing popular? reddit, maybe?
[10:54:52] <dbaupp> eddyb: you need more comments in the file to make it clear what's going on
[10:55:02] <dbaupp> eddyb: because it just looks like a mess of macros and unsafe on first glance :P
[10:55:12] <eddyb> dbaupp: it would be cleaner if I had DST :/
[10:55:16] <eddyb> maybe I'll wait
[10:55:33] *** Joins: Florob (Florob@moz-39532932.de)
[10:56:21] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:56:38] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:56:50] <eddyb> dbaupp: this can be completely safe if I return ~Any instead of just a vtable
[10:56:52] *** Joins: james (jdeng@moz-6548813B.blktn6.nsw.optusnet.com.au)
[10:57:00] * Ms2ger is starting to read distrust as dist-rust
[10:57:02] <Ms2ger> Dammit rust!
[10:57:19] <eddyb> Ms2ger: <T>rust
[10:57:34] <james> What's the recommended way to express do { } while loop?
[10:57:39] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[10:57:41] <eddyb> Ms2ger: now you'll never be able to read <T>rust normally
[10:57:50] <Ms2ger> Also, still can't write python without `let`s everywhere
[10:58:06] <eddyb> james: a loop with a break condition or transform to while (where possible)
[10:58:14] <lucian> i really wish python had let. in fact, i just really want something like sweet.js
[10:58:19] *** Joins: shilgapira (chatzilla@moz-A10B6291.cable.012.net.il)
[10:58:34] <eddyb> sweet.js works better in Rust than JS
[10:58:46] <eddyb> lucian: write ES6 instead :P
[10:58:57] <lucian> yes, but for JS/Python it has to be without ! because of existing syntax
[10:59:04] <strcat> on the other hand python can unpack sequences into lvalues ;p
[10:59:04] <lucian> ES6 isn't really enough either
[10:59:10] <eddyb> for(let x of [a, b, c])
[10:59:17] <lucian> strcat: i don't find that to be a feature, tbh
[10:59:26] <eddyb> lucian: oh, so you know your draft standards?
[10:59:32] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[10:59:33] <strcat> (x.y, foo, *rest) = xs; ?
[10:59:36] <dbaupp> eddyb: doesn't returning Any make Many pointless?
[10:59:37] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[10:59:38] * strcat loves that stuff
[10:59:42] <lucian> strcat: ah, yeah that is nice
[10:59:43] <strcat> well no ;
[11:00:06] <eddyb> dbaupp: no, you'd box a &Trait in ~Any or something like that
[11:00:10] <dbaupp> strcat: wait wait, `x.y, foo = xs` works in python?
[11:00:15] <lucian> strcat: i do wish it would always require you to have *rest if you were matching anything other than a tuple, but meh
[11:00:21] <james> dddyb: I c. That's the best I can think of, but not sure.
[11:00:34] <eddyb> strcat: we can do it too, it's not actually hard
[11:00:43] *** Joins: gwty (gwtypc@C3EE6AF0.BB20A64A.49FF672.IP)
[11:00:54] <dbaupp> woah
[11:00:55] <eddyb> the LHS of ExprAssign can hold all patterns you'd need
[11:00:58] * dbaupp mind blown
[11:01:14] <strcat> >>> xs = [1, 2, 3, 4]
[11:01:16] <strcat> >>> [xs[3], foo, *rest] = xs
[11:01:18] <strcat> >>> xs, foo, rest
[11:01:20] <strcat> ([1, 2, 3, 1], 2, [3, 4])
[11:01:23] <strcat> dbaupp: sure
[11:01:31] <dbaupp> yeah, I just tested
[11:01:46] <eddyb> strcat: ES6 has all that as well :D
[11:01:47] * dbaupp 's life just took a turn for the better
[11:01:57] <strcat> eddyb: and block scoping... but not by default, so pfft
[11:02:02] <lucian> strcat: it's sort of annoying that it requires mutation, though
[11:02:02] <eddyb> [xs[3], foo, ...rest] = xs
[11:02:09] <eddyb> strcat: what not by default?
[11:02:20] <strcat> eddyb: well you have to manually use 'let'...
[11:02:24] <eddyb> "manually"?
[11:02:34] <strcat> "use strict" at least forces you to use var to declare everything
[11:02:41] <eddyb> you have to use either var or let, and can you write anything other than let after Rust?
[11:02:59] <strcat> eddyb: you don't have to use var or let
[11:03:07] <eddyb> that's not sane ES3
[11:03:10] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[11:03:20] <strcat> but it happily works without "use strict";
[11:03:22] <dbaupp> eddyb: doesn't stop you making mistakes
[11:03:28] <strcat> anything that 'compiles' will happen in real programs
[11:03:31] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:03:35] <dbaupp> it's not "sane" C++ to have memory unsfaety
[11:03:38] <eddyb> strcat: certain ES6 context force strict mode
[11:03:42] <eddyb> like classes, I think
[11:03:52] <eddyb> *contexts
[11:04:03] <strcat> meh
[11:04:04] <eddyb> I'm surprised python doesn't make it clear that you have locals
[11:05:04] <strcat> does es6 have user-defined value types?
[11:05:10] <flaper87> dbaupp: it now uses uint and added a comment
[11:05:14] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[11:05:16] <eddyb> strcat: deferred to ES7, sadly
[11:05:28] <strcat> eddyb: python defines a local on assignment
[11:05:34] <strcat> x = 5 defines a local in a function scope
[11:05:39] <strcat> whether or not 'x' is in scope outside
[11:05:46] <strcat> unless you put 'global x' or 'nonlocal x'
[11:05:48] <strcat> it's messed up
[11:06:16] <strcat> and python does var hoisting stuff like js but it's a bit less noticeable since you just get a different exception
[11:06:29] * lucian , whose go-to language is Python, agrees
[11:06:38] <eddyb> even though I don't feel like using JS anyways, I'm glad that they want a C++14 deal for ES7
[11:07:12] <lucian> i'm pretty certain i never want to use actual JS, just things that compile to it. thus, i only care about new runtime features
[11:08:04] <eddyb> strcat: I have somewhere a test for emulating the proposed value types. doesn't optimize as well as I was hoping for, because it's a bit too dynamic
[11:08:27] <strcat> eddyb: well, semantically value types are nice
[11:08:51] <eddyb> strcat: that is, rewriting a+b as Function.ADD(a, b)
[11:08:55] <strcat> reference semantics on a type level are pretty awful
[11:09:15] <strcat> which functions mutate stuff? who knows
[11:09:56] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[11:09:59] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[11:10:59] <eddyb> strcat: well, only x for which typeof x === 'object' or 'function' can actually be mutated AFAIK
[11:11:05] *** Joins: TisButMe (Mibbit@moz-5233EFA9.w92-144.abo.wanadoo.fr)
[11:11:17] <strcat> eddyb: so user-defined objects ;p
[11:11:19] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:11:42] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[11:11:42] <strcat> which is why user-defined value types are a semantic feature too
[11:12:01] <strcat> C# has value types and specializes generics for them
[11:12:06] <strcat> huge advantage over java
[11:12:16] <strcat> for reference types I think it uses polymorphic code
[11:12:30] <eddyb> strcat: meh, we have Rust
[11:13:03] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[11:13:04] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[11:14:09] <TisButMe> Is there any way to do string pattern matching (à la scanf, I guess) ?
[11:14:34] <Florob> Possibly dumb question, but why is [a1, a2] a refutable pattern?
[11:14:35] <eddyb> nope
[11:14:36] <dbaupp> strcat is amazing at leaving discussions very promptly for sleep
[11:14:41] <TisButMe> Currently I use words.to_owned_vec() or related, but that's pretty verbose
[11:14:41] <dbaupp> Florob: because it could fail
[11:14:45] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[11:14:49] <dbaupp> Florob: e.g. for a vector of length 1
[11:14:56] <eddyb> TisButMe: why to_owned_vec()?
[11:15:16] <eddyb> "garden variety Haskell/ML" hah, HN
[11:15:19] <TisButMe> Because I don't know how to pattern match against an iterator
[11:15:31] <Florob> dbaupp, By that logic couldn't (a1, a2) fail to match to, for tuple of length 1?
[11:15:34] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[11:15:36] <TisButMe> but I do against a vector :)
[11:16:17] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[11:16:26] <Florob> *too, for a tuple
[11:16:26] <TisButMe> I guess I could match against (it.next(), it.next()) though
[11:16:35] *** Quits: james (jdeng@moz-6548813B.blktn6.nsw.optusnet.com.au) (Quit: james)
[11:16:43] <dbaupp> Florob: a tuple of length one is a different type to a tuple of length 2
[11:16:54] <eddyb> TisButMe: let v = [it.next().expect("missing name"), it.next().expect("missing age"), it.next().expect("missing address")];
[11:16:58] <dbaupp> but &[T] etc. can have many lengths, all as the same type
[11:17:10] <eddyb> TisButMe: what I've written above performs 0 allocations
[11:17:15] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:17:29] <dbaupp> TisButMe: I normally match against (it.next(), it.next(), ... ) as you write there
[11:17:32] <TisButMe> agreed, that's better
[11:17:36] <TisButMe> ok
[11:17:45] <eddyb> TisButMe: you can even call from_str if you expand directly into a typed local variable
[11:17:49] <Florob> dbaupp, The slice yes, but I as thinking [int] vs. [int, ..2]. Or is that pattern only defined in terms of slices
[11:17:49] <dbaupp> but if you're failing anyway, eddyb's .expect's are fine too
[11:18:06] <dbaupp> Florob: oh, yes, it's a bug that [a,b] is refutable for [T, .. 2]
[11:18:34] <eddyb> Florob: what happens is that [T, ..2] coerces to &[T] and only then it's matched
[11:18:44] <eddyb> TisButMe: let age: uint = from_str(it.next().expect("missing age")).expect("age is not a number");
[11:18:46] <dbaupp> Florob: (it actually works fine in `match`es: the compiler will complain for `match [1,2] { [a,b] => { ... } _ => { ... } }` because the _ arm will never be taken)
[11:19:09] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:19:13] <dbaupp> eddyb: the compiler knows the actual uncoerced type of the RHS at compile time
[11:19:24] <dbaupp> eddyb: so ti can verify that it'll always match
[11:19:35] <dbaupp> even if the runtime semantics are the same as &[T]
[11:19:58] <dbaupp> (although, I don't think they are, since you can move out of [, ..2] by patternmatching, iirc.)
[11:20:20] <eddyb> dbaupp: yeah, I'm not saying it should coerce, just that it does at the moment
[11:20:39] <eddyb> [T, ..2] is a value type while &[T] isn't, yeah
[11:20:57] <eddyb> well, value as in owned
[11:21:05] <eddyb> but without implying ~T i.e. heap
[11:21:44] <dbaupp> rusti: match [~1, ~2] { [a, b] => { (a,b) } }
[11:21:49] -rusti- timeout triggered!
[11:21:50] *** Quits: gkostyanikov (gkostyanik@3AD46947.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:21:59] <eddyb> dbaupp: what did you do!?
[11:22:02] <dbaupp> rusti: match [~1, ~2] { [a, b] => { (a,b) } }
[11:22:03] -rusti- (~1, ~2)
[11:22:13] <dbaupp> that shouldn't work if ti coerced to a slice
[11:22:28] <eddyb> yupp. we need to fix non-refutable patterns
[11:22:31] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[11:22:34] <johnsoft> that is the coolest irc bot i think i've seen
[11:22:52] <dbaupp> eddyb: (have you actually checked the compiler source about the coercing to the slice?)
[11:23:05] <eddyb> dbaupp: there's twenty places where this could happen
[11:23:20] <eddyb> I'll try, but I can't promise much
[11:23:30] <dbaupp> eddyb: my point with that example si that it works, and so it's not being coerced to a slice
[11:23:41] <dbaupp> otherwise there'd be a double free
[11:23:59] <eddyb> dbaupp: no, I don't mean match coerces it to a slice
[11:24:14] *** Joins: sigma (sigma@moz-9EAC972C.range86-184.btcentralplus.com)
[11:24:17] <eddyb> either a let pattern does, or the checker doesn't realize it's actually irrefutable
[11:24:24] <dbaupp> it's the latter
[11:24:37] <dbaupp> remember the compiler has full type info ;P
[11:24:37] <mouse> btw, is there any plan or cons to extend syntax for multiple use, e.g. "use std::io::{println,print,buffered::BufferedStream}" ?
[11:24:51] <mouse> with nested path
[11:25:25] <eddyb> dbaupp: it might try to coerce "out of habit"
[11:25:59] *** Joins: gkostyanikov (gkostyanik@5D5F7C00.3E410295.CA6E2165.IP)
[11:26:10] *** Quits: killerswan (kevin.cant@E9A7755D.F485DE6D.5604FD67.IP) (Connection reset by peer)
[11:26:36] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[11:26:46] <dbaupp> eddyb: I find that unlikely
[11:26:59] <flaper87> dbaupp: can I get your review on that patch again? :)
[11:27:11] <flaper87> I guess you're not willing to r+ right? :P
[11:27:13] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[11:27:16] <dbaupp> eddyb: since coercing to a slice would imply that the compiler thought that it was possible for a slice to match some `let` pattern
[11:27:21] <johnsoft>     let mut route = Route { predicates: ~[] };
[11:27:21] <johnsoft>     route.path(~"/");
[11:27:21] <johnsoft>     route.predicates[0].test();
[11:27:22] <dbaupp> (which is never possible)
[11:27:23] <johnsoft> }
[11:27:25] <TisButMe> So this (https://gist.github.com/TisButMe/f26cc8b30d603c8ef583) would be the rusty way of solving the A+B Rosetta Code ? (Ask for 2 ints on stdin, print their sum on stdout)
[11:27:25] <johnsoft> trait RoutePredicate {
[11:27:27] <johnsoft>     fn test(&self) -> bool;
[11:27:29] <johnsoft> }
[11:27:31] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[11:27:31] <johnsoft> struct Route {
[11:27:33] <johnsoft>     predicates: ~[~RoutePredicate],
[11:27:35] <johnsoft> }
[11:27:36] <eddyb> johnsoft: oops?
[11:27:37] <johnsoft> impl Route {
[11:27:41] <johnsoft>     fn add_predicate(&mut self, predicate: ~RoutePredicate) {
[11:27:43] <johnsoft>         self.predicates.push(predicate);
[11:27:45] <dbaupp> johnsoft: a pastebin would be better :)
[11:27:45] <johnsoft>     }
[11:27:47] <johnsoft>     fn path(&mut self, path: ~str) {
[11:27:49] <johnsoft>         self.add_predicate(~Path { path: path });
[11:27:51] <johnsoft>         // changing to this doesn't segfault:
[11:27:53] <johnsoft>         //self.add_predicate(~Path { path: path } as ~RoutePredicate);
[11:27:55] <johnsoft>     }
[11:27:57] <eddyb> smart clients stop you before pasting a bunch of code
[11:27:58] <johnsoft> }
[11:27:59] <johnsoft> struct Path {
[11:28:01] <johnsoft>     path: ~str,
[11:28:03] <johnsoft> }
[11:28:05] <johnsoft> impl RoutePredicate for Path {
[11:28:07] <johnsoft>     fn test(&self) -> bool {
[11:28:09] <eddyb> mine actually has the choice of removing all newlines
[11:28:11] <johnsoft>         self.path.len();  // Segmentation fault occurs here
[11:28:13] <johnsoft>         true
[11:28:15] <johnsoft>     }
[11:28:17] <johnsoft> }
[11:28:19] <johnsoft> sorry, thought i was in pm :I
[11:28:21] <eddyb> dbaupp: presumably, the coercion happens before checking the pattern
[11:28:43] <eddyb> though... I see what you mean
[11:28:47] <dbaupp> eddyb: either way, it'd be *super* dumb for the compiler to actually get in there and do a coercion
[11:28:55] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[11:28:57] <dbaupp> rather than just not having logic to consider it irrefutable
[11:28:59] *** Quits: rofrol (rofrol@moz-8C55345C.static.ptr.magnet.ie) (Quit: WeeChat 0.4.2)
[11:29:00] *** Joins: Florob (Florob@moz-39532932.de)
[11:29:12] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[11:29:41] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[11:30:02] <dbaupp> eddyb: https://github.com/mozilla/rust/blob/master/src/librustc/middle/check_match.rs#L835
[11:30:12] <dbaupp> eddyb: it's not using the type that it's matching against at all
[11:30:17] <dbaupp> no coercions ;)
[11:30:54] <eddyb> https://github.com/mozilla/rust/blob/master/src/librustc/middle/check_match.rs#L903
[11:30:55] <eddyb> sheesh
[11:31:07] <dbaupp> TisButMe: does it have to print an error message when the numbers are invalid?
[11:31:22] <dbaupp> eddyb: it's true, given the information is_refutable gets
[11:31:42] <dbaupp> (i.e. it just gets the pattern, not what the type of what it's matching against.)
[11:32:02] *** Quits: benjamin__ (benjamin@moz-29766E26.dip0.t-ipconnect.de) (Ping timeout)
[11:32:17] <eddyb> dbaupp: myeah, match is treated specially
[11:32:31] <dbaupp> TisButMe: actually, I'd write that as `match (words.next().and_then(from_str), words.next().and_then(from_str)) { ... }`
[11:32:32] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[11:32:40] <dbaupp> possibly with from_str::<int> on the first one
[11:32:49] <eddyb> oooh, that's cool
[11:32:57] <eddyb> is words fused?
[11:34:13] <dbaupp> as an iterator?
[11:34:16] <eddyb> yeah
[11:34:17] <dbaupp> I believe so
[11:34:17] *** Joins: ofeldt (ofeldt@moz-E24EE8AB.dip0.t-ipconnect.de)
[11:34:39] *** Quits: safiire (safiire@moz-A378BFE8.vc.shawcable.net) (Ping timeout)
[11:34:58] <Tobba> what are the rules for the size of an int?
[11:35:05] <eddyb> Tobba: it's intptr_t
[11:35:07] <Tobba> ah
[11:35:10] *** Quits: ofeldt- (ofeldt@moz-ABB0DE28.dip0.t-ipconnect.de) (Ping timeout)
[11:35:58] <dbaupp> rusti: let s = "word"; let mut w = s.words(); (w.next(), w.next(), w.next())
[11:36:02] -rusti- (Some("word"), None, None)
[11:37:46] <dbaupp> eddyb: ^
[11:37:59] <eddyb> lovely :D
[11:38:38] <TisButMe> I don't think error-checking is part of the challenge, no
[11:39:44] *** zz_kimundi is now known as kimundi
[11:39:48] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[11:40:51] <TisButMe> but I like the idea of showing Rust's error-handling via pattern matching
[11:42:00] *** Quits: bmats (bmats@moz-C7EBCDDD.hsd1.or.comcast.net) (Client exited)
[11:42:21] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[11:42:50] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[11:44:30] <dbaupp> \o/ ~Gc works
[11:44:30] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:44:35] *** Quits: epdtry (stuart@moz-6BEF78C1.hsd1.wa.comcast.net) (Ping timeout)
[11:44:45] <dbaupp> eddyb: do you happen to know where the free for ~ gets generated in the compiler?
[11:45:03] <eddyb> dbaupp: drop glue
[11:45:18] <dbaupp> eddyb: in trans/glue.rs ?
[11:45:30] <eddyb> yeah. actually, it's free glue, called from drop glue
[11:45:37] <dbaupp> ah, trans_exchange_free
[11:45:41] <dbaupp> at the very top of the file
[11:45:45] <dbaupp> that's kinda obvious
[11:45:57] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:47:03] <eddyb> oh, that, right
[11:49:04] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[11:50:36] *** Joins: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP)
[11:51:41] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[11:52:44] *** Joins: noy` (user@moz-44A5916A.a146.priv.bahnhof.se)
[11:53:20] *** Joins: mib_zlfkl2 (Mibbit@8FE47887.15EA8CAF.3BD9FE04.IP)
[11:53:31] *** Quits: noy (user@moz-44A5916A.a146.priv.bahnhof.se) (Ping timeout)
[11:54:11] *** Quits: shilgapira (chatzilla@moz-A10B6291.cable.012.net.il) (Client exited)
[11:55:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:57:01] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[11:57:21] *** Quits: dbaupp (Thunderbir@moz-6002BAEA.lns20.syd6.internode.on.net) (Ping timeout)
[11:57:23] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:59:04] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[12:00:04] *** Quits: Jesin (Jesin@moz-A43618DF.res.lehigh.edu) (Quit: Leaving)
[12:00:05] *** Joins: Sharp (Sharp@moz-EEC85237.hsd1.ca.comcast.net)
[12:00:20] *** Joins: epdtry (stuart@moz-C31FC981.hsd1.wa.comcast.net)
[12:01:44] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[12:01:52] *** Joins: dbaupp (Thunderbir@moz-F3F7375F.lns20.syd6.internode.on.net)
[12:03:56] *** Joins: pseudoku (quassel@967059DC.E5EFB142.520CDC98.IP)
[12:04:06] <mouse> dbaupp, how to transmute from specified offset of byte array? e.g. "bytes : ~[u8]"? I've tried ptr::offset, but got error " mismatched types: expected `*<V7>` but found `~[u8]` (expected *-ptr but found vector)"
[12:04:22] *** Joins: jadbaires (jadrian@7A056CD5.AF63E717.6119BA41.IP)
[12:05:14] <mouse> dbaupp, what actually do ".to_ptr()" with my "bytes" pointer? 
[12:06:13] <Ms2ger> What do you actually want to do?
[12:06:34] *** Quits: Ferreus (ferreus@moz-1D830DAE.dip0.t-ipconnect.de) (Ping timeout)
[12:07:36] <dbaupp> mouse: well, you can get a *u8 to the start of the vectors data with .as_ptr(), but, as Ms2ger says, what's your final goal?
[12:08:45] <mouse> I want to read data from stream and transmute it to structure containing header and type-specific data like union in C that is depends on a field in "header" struct.
[12:08:46] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:09:18] <dbaupp> ah, so you have a vector of bytes that contain this structure?
[12:09:56] <dbaupp> let header = *(v.as_ptr() as *StructureHeader);
[12:10:05] <dbaupp> but that's likely to be undefined behaviour
[12:10:16] * dbaupp doesn't actually know how to do this "safely"
[12:10:40] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[12:10:46] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[12:12:30] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[12:13:15] <mouse> I've already tried: let ~mut header : ~Header; header = unsafe { cast::transmute(bytes) };  that is fine. but now I need to move to other part of "bytes" to create typed struct for it. I have "struct BeginData", "struct EndData" and "struct UnknownData". The Header has "rectype" field that is "enum Type { BEGIN = 1, END, UNKNOWN }". So, I need to transmute "data" field to the specific "struct" above.
[12:13:29] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[12:14:18] <dbaupp> no! please don't use ~ there
[12:14:26] <mouse> ok :)
[12:14:35] <dbaupp> the destructor of ~ will cause it to attempt to free() that pointer
[12:14:44] <dbaupp> which will make weird weird things happen
[12:14:54] <mouse> I'm noob )
[12:15:01] <dbaupp> also, transmuting the bytes vector isn't what you want.
[12:15:03] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[12:15:12] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[12:15:15] <dbaupp> because it has a header before the data
[12:15:21] <dbaupp> (unfortunately)
[12:15:49] *** Parts: kvanb (kvanb@moz-2C33D4E6.lnse3.lon.bigpond.net.au) ()
[12:15:49] *** Quits: msch (msch@moz-DA0E34D4.clients.your-server.de) (Input/output error)
[12:15:51] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[12:15:52] <mouse> how can I solve my problem?
[12:16:07] <mouse> in C it's simple to do so :)
[12:16:12] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[12:16:15] <dbaupp> so, anyway, `let header: *Header = bytes.as_ptr();`
[12:16:19] *** Quits: mib_zlfkl2 (Mibbit@8FE47887.15EA8CAF.3BD9FE04.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:16:22] <mouse> got it
[12:16:27] <dbaupp> erm, `let header = bytes.as_ptr() as *Header;`
[12:16:36] <dbaupp> then you just use `header`
[12:17:11] <dbaupp> are BeginData, EndData and UnknownData all the same sizes?
[12:17:13] *** Quits: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com) (Ping timeout)
[12:17:54] <mouse> yes, the same size
[12:18:08] *** Joins: vadimg2 (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[12:18:17] *** Quits: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au) (Ping timeout)
[12:18:30] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[12:18:30] *** Quits: derek_c (derek@D57B0E9.204CE243.DD630FEE.IP) (Ping timeout)
[12:18:45] <mouse> I would like to avoid an overhead on bytes cloning to return resulting Record containing Header and Data
[12:19:27] <mouse> in general, Record is just a copy of original bytes read from stream (BufferedStream)
[12:20:17] <mouse> is there a way to profile memory (boxing) usage? to see when structs are actually copied / allocated on box?
[12:20:46] *** Quits: vadimg2 (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[12:21:04] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[12:21:09] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:21:13] <strcat> mouse: hm? you have full control over it
[12:21:25] <strcat> you can use C memory profiling tools like massif
[12:21:29] *** Joins: Ferreus (ferreus@moz-3013048A.dip0.t-ipconnect.de)
[12:24:07] <mindcat> any async tcp stream?
[12:24:14] <strcat> not in the stdlib
[12:25:23] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[12:25:23] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[12:25:33] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[12:26:04] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:26:29] *** Joins: thesnowdog (doug@2DF7F7AE.8E46834.6F17036B.IP)
[12:26:56] *** Joins: awhit (Mibbit@moz-54C61813.cable.virginm.net)
[12:27:43] *** Joins: Earnestly (earnest@moz-E86D50FA.dyn.plus.net)
[12:27:49] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[12:27:52] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[12:29:32] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[12:31:36] *** Joins: vmx (vmx@moz-5FF8C923.dip0.t-ipconnect.de)
[12:33:27] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[12:37:11] *** Quits: awhit (Mibbit@moz-54C61813.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:38:05] *** Joins: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP)
[12:38:11] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[12:39:56] *** Joins: awhit (alex@moz-54C61813.cable.virginm.net)
[12:43:58] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:44:42] <_Vi> As far as I understand, @managed @boxes are going to be removed from Rust. But is Rust's macro system powerful enough to re-introduce '@' convenience, converting them to std::Gc at compile-time?
[12:45:08] <strcat> _Vi: no
[12:45:19] <strcat> macros are explicit like foo!(tokens)
[12:45:47] <_Vi> Means please_convert_the_whole_module!(  fn xxx() { let q = @45; ...} )
[12:45:51] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[12:46:18] <_Vi> A macros that wraps the entire program to "change the rules", Lisp-style.
[12:46:45] <whitequark> not really, no
[12:46:59] <whitequark> but chances that @ would make a comeback in some form of another are pretty high, I think
[12:47:13] <whitequark> lots of people like it
[12:47:20] <_Vi> Or will '@something' syntax be user-definable to std::Gc or std::Rc or something else. Like pre-declare #[at-sign-means std::Gc] and then use '@'...
[12:47:41] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[12:48:02] <lexs> how do i specify an absolute path within my own crate? "use crate_name::module_name" doesn't work
[12:48:14] <strcat> whitequark: I don't think there's a very good chance of that
[12:48:51] <strcat> we'll get a trait for overloading the deref operator
[12:49:05] <strcat> *x, &*x and x.foo (auto-deref) will work with Rc/Gc
[12:49:18] <whitequark> there's still pattern matching issue, and verbosity issue
[12:49:41] <strcat> they're not meant to be common
[12:49:49] <whitequark> you need to be a masochist to like writing Rc<RefCell<x>>
[12:50:05] * whitequark shrugs
[12:50:15] <strcat> that's intended though
[12:50:23] <awhit> can someone help? I have a vector-of-vector-of BitvSets, and am getting a compile-tile error with a function call which needs to modify the data
[12:50:23] <strcat> it was decided that dynamic borrowck being implicit was *awful*
[12:50:34] <awhit> error: mismatched types: expected `&mut [&mut [extra::bitv::BitvSet]]` but found `~[~[extra::bitv::BitvSet]]` (values differ in mutability)
[12:50:41] <_Vi> Can '@' be just made a function with special call syntax? I.e. 'def @(&x) { std::Gc::new x }' or 'def @(&x) { x * x}; let x=@5; // 25' ?
[12:50:48] <strcat> _Vi: no
[12:50:52] <mouse> dbaupp, additional to my structs and enums I have a "enum Data { BeginData, EndData, UnknownData }". I've changed my Record struct : "enum Record { header : Header, data : Data }" and got problem with transmuting: "match arms have incompatible types: expected `mymod::BeginData` but found `mymod::EndData` (expected struct mymod::BeginData but found struct mymod::EndData)"
[12:50:57] <strcat> @ will likely be used for something completely different ;p
[12:51:06] <strcat> it's already used in match patterns
[12:51:06] <awhit> I thought owned pointers could coerce to &mut?
[12:51:32] <strcat> awhit: ~[T] isn't an owned pointer, although vectors do coerce to slices
[12:51:38] <strcat> awhit: but only at a top-level
[12:51:48] <strcat> awhit: ~[T] and &mut [T] don't have the same memory representation
[12:51:51] <strcat> it can't coerce that
[12:52:01] <mouse> in the following chunk of code: "    r.data = unsafe { cast::transmute(
[12:52:02] <mouse>       match r.header.recordType {
[12:52:02] <mouse>         BEGIN => *(ptr::offset(bytes.as_ptr(), 8) as *BeginData,
[12:52:02] <mouse>         END => *(ptr::offset(bytes.as_ptr(), 8) as *EndData,
[12:52:02] <mouse>  ... }
[12:52:21] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[12:52:24] <dbaupp> mouse: bytes.as_ptr().offset(8) btw
[12:52:40] <dbaupp> the arms have different types, which is not allowed
[12:52:48] <strcat> hurry up mac snapshot
[12:52:56] *** Quits: gwty (gwtypc@C3EE6AF0.BB20A64A.49FF672.IP) (Ping timeout)
[12:53:44] <Matrixiumn> Hmm
[12:53:46] <Matrixiumn> touch: cannot touch `/rustc': Permission denied
[12:53:48] <awhit> strcat: Ok, thanks, is there a solution?
[12:53:54] <mouse> I've tried to use template type instead of "enum Record", but no luck.
[12:53:58] <Matrixiumn> (This is during make, btw)
[12:54:09] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[12:54:17] <strcat> awhit: well, you can't coerce that - I'm sure there are other ways of doing what you want
[12:54:29] <strcat> iterators
[12:54:59] *** Quits: dmacvicar (dmacvicar@moz-663A7346.nue.novell.com) (Quit: Ex-Chat)
[12:56:35] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[12:57:09] <awhit> strcat: Ok, maybe I can modify it to be a flat data structure, would that help?
[12:57:27] <strcat> awhit: that would work but it's not necessary
[12:57:32] <strcat> you can have an iterator of &mut slices
[12:57:38] <strcat> or an iterator of iterators
[12:57:51] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[12:58:07] <strcat> you just can't use &mut [&mut [T] ] because there's no block of &mut [T] in memory
[12:59:28] <awhit> strcat: Right, thanks, I'll try something else
[12:59:52] *** Quits: Mathuin (matthias@62DC781C.87D2502A.F90A1032.IP) (Ping timeout)
[13:00:06] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[13:01:45] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[13:02:13] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:03:24] *** Joins: Mathuin (matthias@62DC781C.87D2502A.F90A1032.IP)
[13:03:36] *** Quits: pseudoku (quassel@967059DC.E5EFB142.520CDC98.IP) (Ping timeout)
[13:04:00] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:04:46] *** Joins: benjamin__ (benjamin@moz-29766E26.dip0.t-ipconnect.de)
[13:05:52] *** Quits: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr) (Ping timeout)
[13:06:00] *** Quits: vmx (vmx@moz-5FF8C923.dip0.t-ipconnect.de) (Ping timeout)
[13:06:31] *** Joins: vmx (vmx@moz-5FF8C923.dip0.t-ipconnect.de)
[13:07:43] *** Joins: flounder (Mibbit@moz-A06909E4.glbb.ne.jp)
[13:08:22] *** Quits: Mathuin (matthias@62DC781C.87D2502A.F90A1032.IP) (Ping timeout)
[13:08:26] <flounder> Is there another name for the constructors of an enum?  As in, fill in the blank: "The Result type has two ____, Ok and Err"
[13:09:09] <dbaupp> variants
[13:09:23] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[13:09:37] <flounder> Even if they are plain old enums with no fields?
[13:09:58] *** Joins: Mathuin (matthias@62DC781C.87D2502A.F90A1032.IP)
[13:10:40] <dbaupp> yes
[13:10:54] <flounder> dbaupp: Arigato gozaimasu!
[13:11:01] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[13:11:28] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[13:11:31] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[13:11:39] <dbaupp> flounder: ?
[13:11:44] * dbaupp isn't japanese
[13:12:14] <LinearInterpol> "thank you sir" I think.
[13:12:25] <dbaupp> oh, google implies the appropriate resonse would be "np :) "
[13:12:26] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[13:12:26] <dbaupp> yeah
[13:12:31] <LinearInterpol> hahaha.
[13:13:18] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[13:13:18] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:13:47] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[13:15:24] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:15:41] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[13:15:53] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[13:15:53] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[13:16:18] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:18:22] *** Joins: bakkdoor (bakkdoor@moz-FE4B2D6E.dip.osnanet.de)
[13:23:19] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Client exited)
[13:24:15] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:25:51] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:27:27] *** Quits: jadbaires (jadrian@7A056CD5.AF63E717.6119BA41.IP) (Quit: Konversation terminated!)
[13:27:34] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[13:28:11] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[13:29:30] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:29:49] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Ping timeout)
[13:29:51] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[13:29:54] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[13:31:04] *** Quits: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP) (Ping timeout)
[13:31:14] <mouse> dbaupp, if I explicitly set r.data inside each match, I've got something like: "mismatched types: expected `&mymod::Record` but found `&mymod::BeginData` (expected enum mymod::Record but found struct mymod::BeginData)"
[13:32:19] *** autra_ is now known as autra
[13:32:23] <flaper87> dbaupp: FWIW, I didn't mean to send that r?, I must have had it in the comment box.. Sorry about that. Thanks for the review. I just pushed a new patch addressing your comments
[13:32:39] <flaper87> I'll comment w.r.t the Trait concern
[13:32:48] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[13:34:07] <dbaupp> mouse: what type is r.data?
[13:34:48] <mouse> r.data is "enum Record { BeginData, EndData, UnknownData }" each enum is struct of the same size.
[13:34:56] <flaper87> dbaupp: what would `impl<T: One + Clone + Mul<T, T>> Power for T {}` do in std?
[13:36:14] <dbaupp> flaper87: make every type that satisfy One, Clone and Mul have an impl for Power
[13:36:48] <flaper87> dbaupp: oh, mmh, interesting. Thanks!
[13:36:53] <dbaupp> mouse: ah, so you're trying to have an enum of three structs?
[13:36:59] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[13:37:11] <dbaupp> mouse: what you have there is an enum of three constants that happen to have the same name as the 3 structs
[13:37:19] *** Quits: noel (noel@moz-A96C42F7.as13285.net) (Ping timeout)
[13:37:21] <dbaupp> they aren't actually the structs themselves
[13:37:22] <flaper87> dbaupp: so that means I could remove the impls from int_macros.rs uint_macros.rs etc
[13:38:05] <dbaupp> yes
[13:38:29] <mouse> dbaupp, how to get them became actually structs as desribed in tutorial with Shape and Circle/Rectangle?
[13:38:29] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Broken pipe)
[13:38:51] <flaper87> awesome!
[13:38:52] <eddyb> enum Record {BeginData {x: Foo}, ...}
[13:39:04] <eddyb> mouse: but it's behind a feature gate
[13:39:12] <dbaupp> enum Record { BeginData(BeginDataStruct), EndData(EndDataStruct), ... }
[13:39:20] <eddyb> dbaupp: come on...
[13:39:29] <eddyb> I like structural variants, they're.... natural
[13:39:50] <dbaupp> eddyb: not if you ever want to use the structs separately
[13:40:01] <eddyb> hmm, I see your point
[13:40:17] <dbaupp> mouse: where are you getting the data from, btw? another Rust program?
[13:40:45] <mouse> from the network stream
[13:41:01] *** Joins: noel (noel@moz-A96C42F7.as13285.net)
[13:41:19] <dbaupp> yes, but what is creating that network stream
[13:42:02] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[13:42:27] <mouse> let mut acceptor = match TcpListener::bind(addr).listen() { ... }; let mut stream = BufferedStream::new(acceptor.accept().unwrap());
[13:42:41] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[13:43:05] <mouse> then do stream.read(buf)
[13:43:42] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[13:45:03] *** Joins: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP)
[13:45:27] <mouse> dbaupp, regarding to "enum Record { BeginData(BeginDataStruct), EndData(EndDataStruct), ... }", how to create an instance of each kind of enum? Got: "mismatched types: expected `&mymod::Record` but found `&mymod::UnknownDataStruct` (expected enum mymod::Record but found struct mymod::UnknownDataStruct)"
[13:45:31] <dbaupp> No what is putting the data into the other end
[13:45:48] <dbaupp> you'll need to put the struct into the enum
[13:45:57] <dbaupp> so UnknownDataStruct(x)
[13:46:04] *** Joins: derek_c (derek@75E1C02C.204CE243.DD630FEE.IP)
[13:46:05] <dbaupp> (or *x based on the error message there)
[13:46:46] <mouse> "pub enum Record {
[13:46:46] <mouse>   Begin(BeginDataStruct),
[13:46:46] <mouse>   End(EndRequestStruct),
[13:46:46] <mouse>   Unknown(UnknownTypeStruct),
[13:46:46] <mouse> }
[13:46:46] <dbaupp> If a Rust program is creating the data at the *other* end of the network stream there is a better way to do this. (That's why I'm asking about that.)
[13:47:02] <dbaupp> erm, Unknown(x)
[13:47:19] <flaper87> dbaupp: requiring `use std::num::Power` is something I wanted to ask. Why is that needed?
[13:47:27] <flaper87> not sure I know the right answer of that
[13:47:30] <mouse> dbaupp,  it just a nginx with proxy passing
[13:47:55] <mouse> > erm, Unknown(x) -- don't get you
[13:48:15] <dbaupp> flaper87: you can only call methods from traits that are in scope
[13:48:16] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[13:48:32] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[13:48:54] <flaper87> dbaupp: ok, i did know the answer then. I thought there was another reason
[13:49:26] <dbaupp> mouse: sorry, I've got to go :(
[13:49:35] <mouse> ok
[13:49:54] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[13:50:04] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[13:50:22] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[13:50:31] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[13:52:42] *** Quits: awhit (alex@moz-54C61813.cable.virginm.net) (Ping timeout)
[13:57:27] <flaper87> dbaupp: thanks again
[14:01:19] *** Quits: rattboi (bkanyid@moz-9A5A7AF8.org) (Ping timeout)
[14:02:30] *** Joins: rattboi (bkanyid@moz-9A5A7AF8.org)
[14:02:58] <mouse> error: enum struct variants are experimental and possibly buggy
[14:02:58] <mouse> note: add #[feature(struct_variant)] to the crate attributes to enable
[14:02:58] <mouse> I've added "#[feature(struct_variant)]" to the main crate file and error still exists.
[14:04:38] <bjz> don't forget the semicolon
[14:05:04] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[14:06:36] <mouse> oh, thanks)
[14:06:47] <SiegeLord> Glad someone added a warning for it recently
[14:06:53] <SiegeLord> Probably post 0.9 though...
[14:07:40] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[14:08:38] <mouse> for separate structs I had impl, but now I've got error: "error: found value name used as a type: DefVariant(syntax::ast::DefId{crate: 0u32, node: 161u32}, syntax::ast::DefId{crate: 0u32, node: 176u32}, true)"
[14:09:09] <mouse> is there a way to write an impl for enum struct variants?
[14:09:44] *** Quits: gkostyanikov (gkostyanik@5D5F7C00.3E410295.CA6E2165.IP) (Ping timeout)
[14:10:07] *** Joins: gkostyanikov (gkostyanik@5D5F7C00.3E410295.CA6E2165.IP)
[14:11:57] <bstrie> mouse: I don't think that makes sense?
[14:12:03] <SiegeLord> You'd write an impl on the whole enum
[14:12:11] <SiegeLord> And match inside that method, if need be
[14:12:13] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[14:13:14] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[14:13:20] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[14:13:52] <mouse> how to transmute enum structs then? *(bytes.as_ptr().offset(8) as *BeginDataStruct) won't work anymore.
[14:13:56] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[14:14:06] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[14:14:14] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[14:14:21] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[14:14:34] <bstrie> mouse: transmuting enums sounds like a bad idea, we don't make any guarantees about the representation of an enum
[14:15:52] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[14:15:58] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[14:16:48] <mouse> in general, I need to read a fixed size buffer from stream. then split it to header and data. data has several types depending on header field representing typeid. In C I can use union. How I can solve this in Rust?
[14:17:45] <pyon> mouse: enum
[14:17:52] <benh> eh.
[14:18:07] <benh> You're probably going to need to do the disambiguation and transmuting manually.
[14:18:16] <mouse> how to initialize such enum with data?
[14:18:24] <bstrie> pyon: as we just said, transmuting things to enums runs the risk of silently breaking. we reserve the right to represent them any way we please at runtime
[14:18:44] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[14:19:05] <pyon> bstrie: Oh, I never said he should directly "reinterpret_cast" (for the lack of a better term) the raw binary data into the enum.
[14:19:14] <bstrie> but I think that's what mouse wants to do :P
[14:19:38] <benh> I'd probably have separate structs for the different kinds of data, transmuting a fixed size u8 vec into the right one, and then maybe have an enum on top of that that's just enum blah { Variant1(Struct1), Variant2(Struct2), ... }
[14:20:04] <benh> and initialise that by hand, not with transmute magic
[14:20:14] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[14:20:25] <pyon> match header { 0 => FirstCase(interpret_as_first(data), 1 => SecondCase(interpret_as_second(data), ... }
[14:20:27] *** Quits: luz (lucy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[14:20:40] <benh> yeah
[14:20:56] <mouse> pyon, I'll get a arms type mismatch then
[14:20:58] <pyon> dang, screwed up the parentheses
[14:21:09] <pyon> mouse: no
[14:21:10] <benh> FirstCase, SecondCase etc all ought to be variants of the same enum
[14:21:15] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[14:21:27] <pyon> mouse: pub enum AllCases { FirstCase(...), SecondCase(...) }
[14:21:40] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[14:21:59] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[14:22:03] <pyon> mouse: oh, and the match block should of course handle bad headers, so the last arm should be '_ => fail!("bad data u dummy")'
[14:22:16] <mouse> do you mean to fill all data manually without transmute?
[14:22:53] <bstrie> yes, avoid transmute where you can :)
[14:23:11] <bstrie> match statements are very efficient
[14:23:23] <pyon> Rust's enums are the right way to do tagged unions really
[14:23:56] <pyon> the old C/C++ way makes you risk using the wrong union member - nothing validates that your usage of union members is consistent with the tag
[14:24:04] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[14:24:04] *** ChanServ sets mode: +o jdm
[14:25:12] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[14:25:14] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[14:25:53] *** Joins: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[14:25:54] *** Quits: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) (Connection reset by peer)
[14:25:54] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[14:27:27] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[14:27:48] *** Quits: derek_c (derek@75E1C02C.204CE243.DD630FEE.IP) (Ping timeout)
[14:28:05] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[14:28:17] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[14:29:17] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[14:29:26] <mouse> match r.header.recordType {
[14:29:26] <mouse>    UNKNOWN_TYPE => &Unknown(UnknownData { bodyType : r.header.recordType, reserved : [ 0u8, ..7 ] })
[14:29:26] <mouse> }
[14:29:26] <mouse>  I've got " error: unreachable pattern" for "r.header.recordType" inside fields list.
[14:30:03] *** Quits: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP) (Ping timeout)
[14:31:37] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[14:32:49] <pyon> mouse: Post your types at least. (If it is too long, on a paste site.)
[14:32:50] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:34:07] <benh> I don't understand why it would take something in the fields list for a pattern
[14:38:09] <mouse> https://gist.github.com/ya-mouse/d135ac455d55e0eac458
[14:38:34] *** Quits: noel (noel@moz-A96C42F7.as13285.net) (Quit: noel)
[14:39:02] *** Quits: sigma (sigma@moz-9EAC972C.range86-184.btcentralplus.com) (Client exited)
[14:39:06] *** Joins: sigma (sigma@moz-9EAC972C.range86-184.btcentralplus.com)
[14:39:35] <benh> mouse: likely problem: UNKNOWN_TYPE is just being taken as a wildcard variable name to bind to
[14:43:16] <mouse> I've updated a gist. Now get other error.
[14:43:39] <mouse> because my Record structure with "body" field became larger then it should be.
[14:44:01] <mouse> enum acts as a number of structures but not union.
[14:44:54] <cmr> mouse: the enum will be the size of the largest variant plus space for the discriminant.
[14:45:27] <mouse> each struct in enum has the same size (4 bytes)
[14:45:44] <mouse> and Request struct must be 8 bytes
[14:45:44] *** Joins: Cevn (sameer@moz-F316C21E.hr.hr.cox.net)
[14:45:55] <mouse> oh, 6
[14:47:37] *** Quits: Cevn (sameer@moz-F316C21E.hr.hr.cox.net) (Ping timeout)
[14:47:47] <dbaupp> bstrie: oh yeah, just go and ruin the mystery
[14:47:51] <dbaupp> typical!
[14:47:53] *** Joins: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP)
[14:51:33] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[14:53:40] <mouse> how to get a sizeof of type? early, it was sys::size_of<T>(), now it's gone
[14:53:49] <cmr> moved to std::mem
[14:54:03] <cmr> the docs have a search, you can type in size_of and it shows up
[14:54:09] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[14:54:12] *** Joins: FreeFull (freefull@moz-4C3B39E9.as13285.net)
[14:54:37] *** Joins: jyeo (Adium@moz-6F715C5D.singnet.com.sg)
[14:56:30] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[14:58:37] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:59:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:59:20] <mouse> I have no idea why Record is one byte more than each enum structs of Record.
[14:59:35] <cmr> the byte is the discriminant
[14:59:41] <cmr> enums aren't unions
[14:59:44] <cmr> they're tagged unions
[15:00:00] <cmr> it's how it tells variants apart
[15:00:49] *** Quits: achim (achim@moz-D2AAF3C1.dip0.t-ipconnect.de) (Quit: ["Textual IRC Client: www.textualapp.com"])
[15:00:53] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[15:02:10] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:02:19] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:02:24] *** Joins: pnathan (Adium@moz-A8921E45.tukw.qwest.net)
[15:04:18] *** Joins: milz (Mibbit@moz-3ACB9755.netcologne.de)
[15:04:24] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:04:24] <milz> hi
[15:04:37] <milz> im coming from a c# background
[15:04:50] <milz> the one thing that i look for in every other language is a linq equivalent
[15:05:15] <milz> i would like to have an easy way to create, filter and map generic collections
[15:05:21] <milz> does rust offer something like this ?
[15:05:32] <milz> generic arrays, closures and the appropriate functions ?
[15:05:40] <cmr> well, it's not quite linq, but our iterator interface is really nice.
[15:06:00] <eddyb> generic as in ~[~Any]?
[15:06:03] <cmr> foo.iter().map(|x| ...).nth(3)
[15:06:05] <milz> cmr, sounds good. could you recommend a link to read up on this ?
[15:06:24] <eddyb> (or Many :D)
[15:06:37] <cmr> milz: http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html
[15:06:52] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[15:07:10] <cmr> milz: there have been attempts at providing a syntax extension which has nice linq-like stuff
[15:07:49] <milz> cmr, as long as the functions are present im happy
[15:07:57] <cmr> cool :)
[15:08:08] <eddyb> cmr: did you hear? we weren't devirtualizing in relatively simple cases because LLVM has a dumbly placed "if" in "call bitconst" simplification
[15:08:08] <milz> actually i have to admit that i often think they went too far with linqs syntax
[15:08:38] <cmr> I rarely use the linq syntax, I usually just use the methods.
[15:08:39] <eddyb> testing a fix (which is literally just moving if(retTy.isStruct()) return false; two lines down) right now
[15:08:52] <milz> cmr, me too
[15:09:00] <milz> in some cases its great to have that syntax
[15:09:12] <milz> but for anything more complex it soon becomes hard to read and harder to edit
[15:09:20] <milz> the functions are fantastic, though
[15:09:39] <milz> i often prefer c# to python for simple algorithms due to linq
[15:09:57] <cmr> eddyb: what is call bitconst? I don't see it in the langref
[15:10:12] <milz> ok, ive read that documentation.
[15:10:14] <milz> fantastic
[15:10:23] <milz> ill definitely keep an eye on rust
[15:10:33] <eddyb> cmr: a call to a bitconst from a pointer to a function pointer
[15:10:42] <eddyb> errr, bitcast
[15:10:44] *** Joins: omegaga_ (omegaga_@EDAA9C0D.C20DC479.BBAB25C2.IP)
[15:10:51] <eddyb> I botched that entire phrase, rewind:
[15:10:55] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[15:11:01] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[15:11:06] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:11:07] *** ChanServ sets mode: +ao dherman dherman
[15:11:12] <eddyb> cmr: a call to the result of bitcast from a pointer to a function pointer
[15:11:39] <eddyb> if the return type is structural, it ignores everything and bails, even if the return type is identical
[15:11:44] *** Quits: omegaga_ (omegaga_@EDAA9C0D.C20DC479.BBAB25C2.IP) (Client exited)
[15:11:55] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[15:12:10] <eddyb> (between the function pointer type it casts from and the one it casts to)
[15:12:13] <cmr> ah
[15:12:19] *** Joins: awhit (alex@moz-54C61813.cable.virginm.net)
[15:12:37] <eddyb> why does LLVM takes so long to build, I changed just one file :(
[15:12:41] <LinearInterpol> I'm getting an "unresolved name 'int'"
[15:12:56] <eddyb> LinearInterpol: context?
[15:13:00] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:13:03] <cmr> LinearInterpol: you're probably trying to use it as a variable name.
[15:13:04] <mouse> how to catch exceptions in Rust? "task '<unnamed>' failed at 'enum value matched no variant', /home/mouse/SW/rust/rust-master/src/libstd/repr.rs:553
[15:13:04] <mouse> " ?
[15:13:08] <LinearInterpol> let a = List<int>(10, ());
[15:13:08] <eddyb> did we screw up LLVM dependencies?
[15:13:13] *** Parts: awhit (alex@moz-54C61813.cable.virginm.net) (Leaving)
[15:13:15] <LinearInterpol> struct List<T>(T, ~List<T>);
[15:13:19] <cmr> LinearInterpol: List::<int>(10, ())
[15:13:20] <mouse> or catch unmatched varian?
[15:13:27] <LinearInterpol> oh!
[15:13:28] *** Joins: bheylin_ (brianheyli@moz-300B2629.vanguardgames.net)
[15:13:28] <eddyb> LinearInterpol: it tries to use int and List as variables
[15:13:34] <eddyb> s/variables/non-types
[15:13:37] <cmr> mouse: well that specifically is happening because your enum is invalid.
[15:13:41] <cmr> mouse: but std::task::try
[15:13:42] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:13:58] *** Joins: Cevn (sameer@moz-57F2D062.v4.wm.edu)
[15:14:06] <mouse> because I've cast a buffer with wrong data.
[15:14:16] *** Quits: tq (tq@moz-632DBD9.ad.umu.se) (Ping timeout)
[15:14:20] <eddyb> use Decoder/Encoder, not bitcasting
[15:14:26] <eddyb> (if you value safety)
[15:14:26] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[15:14:27] <LinearInterpol> What is Option<T>?
[15:14:34] <eddyb> s/bit/bytecasting
[15:14:43] <eddyb> LinearInterpol: enum Option<T> {Some(T), None}
[15:14:43] *** Joins: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP)
[15:14:47] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[15:14:54] <cmr> LinearInterpol: http://static.rust-lang.org/doc/master/std/option/enum.Option.html
[15:14:56] <LinearInterpol> Ahh, so I can make it Option::None.
[15:15:00] <LinearInterpol> For a sort of null.
[15:15:02] <eddyb> no, just None
[15:15:03] <cmr> just None
[15:15:04] <LinearInterpol> That's what the compiler is suggesting.
[15:15:07] <LinearInterpol> oh. awesome.
[15:15:08] *** Quits: bakkdoor (bakkdoor@moz-FE4B2D6E.dip.osnanet.de) (Quit: Leaving...)
[15:15:11] <LinearInterpol> Cool.
[15:15:15] <LinearInterpol> Thanks. :)
[15:15:19] <mouse> Is Decoder from JSON?
[15:15:44] *** Quits: gkostyanikov (gkostyanik@5D5F7C00.3E410295.CA6E2165.IP) (Ping timeout)
[15:16:07] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[15:16:23] <cmr> mouse: no, it's generic.
[15:16:26] *** Quits: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP) (Ping timeout)
[15:16:34] <cmr> for example there's a msgpack encoder/decoder
[15:16:41] <cmr> https://github.com/mneumann/rust-msgpack
[15:18:21] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[15:18:46] <LinearInterpol> I love replacing a complex datastructure with like, one line of rust.
[15:18:53] <LinearInterpol> also, I made it break! woo!
[15:19:15] <cmr> writing datastructures is without a doubt the hardest part of rust
[15:19:22] <cmr> the compiler is merciless :)
[15:19:36] <LinearInterpol> I'm slowly working with it.
[15:19:37] <LinearInterpol> It's lovely.
[15:19:59] <LinearInterpol> The more I use it, the more I love it.
[15:20:15] <mouse> BTW, contentLengthB0: 200u8 — 0x200 isn't a u8, it's just a 0x00.
[15:20:20] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:20:35] <cmr> what?
[15:21:00] <eddyb> 0x200 as u8 == 0x00, I think that's what mouse is saying
[15:21:15] <eddyb> mouse: it's decimal ;)
[15:21:32] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[15:21:37] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Ping timeout)
[15:21:47] <mouse> eddyb, oh )))
[15:23:33] <mouse> btw, the simplest way to catch wrong values in match is using integer values instead of enums in my case…
[15:23:35] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:24:06] <LinearInterpol> I broke the compiler somehow. How do I run it with RUST_LOG=rustc=1?
[15:24:13] <LinearInterpol> (Windows)
[15:24:17] <eddyb> cmr: wooo, optimizations :D
[15:24:28] <eddyb> that is, I've managed to compile LLVM, it has the desired effect
[15:24:42] <cmr> eddyb: send a patch! make sure to add a test
[15:25:22] <eddyb> I wish I knew how :)
[15:25:42] <cmr> me too!
[15:25:45] <eddyb> cmr: do you happen to know whether they have a contribution policy somewhere?
[15:25:48] <eddyb> nevermind then
[15:25:55] <eddyb> oh, it doesn't need to recompile rustc?
[15:26:20] <cmr> eddyb: http://llvm.org/docs/DeveloperPolicy.html
[15:26:26] <eddyb> nvm, it started from libstd-stage0
[15:26:44] <LinearInterpol> so, for shits and giggles.
[15:26:46] <LinearInterpol> http://pastebin.com/dvV2q4r6
[15:26:52] <LinearInterpol> I did that. Not sure if it was supposed to happen.
[15:27:01] <cmr> guh
[15:27:04] <cmr> open an issue please
[15:27:05] *** Joins: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP)
[15:28:07] *** Quits: Mathuin (matthias@62DC781C.87D2502A.F90A1032.IP) (Ping timeout)
[15:28:43] <LinearInterpol> seriously? I feel important now!
[15:28:49] *** Quits: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP) (Ping timeout)
[15:30:18] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[15:31:03] <geal> why is a rust program reading 8 times from /dev/urandom while starting? I think it is for scheduling, could someone confirm?
[15:31:24] *** Joins: Mathuin (matthias@62DC781C.87D2502A.F90A1032.IP)
[15:31:42] <bstrie> geal: good question, I wasn't aware of that
[15:31:55] <geal> strace it and you'll see :)
[15:31:59] <cmr> It's seeding the random numbe generator.
[15:32:07] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[15:32:13] <cmr> our rng is cryptographically secure.
[15:32:38] <geal> why seed the rng in a program that does not use it?
[15:32:40] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[15:32:52] <eddyb> geal: HashMap uses it
[15:33:02] <cmr> no way for the task initiailization to know that.
[15:33:22] <eddyb> if only tasks would be devirtualized
[15:33:37] <cmr> wut
[15:33:39] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[15:33:43] <cmr> what would that even mean
[15:33:47] <geal> hashmap uses a rng?
[15:34:11] <eddyb> cmr: Task is a virtual interface, initialized by libgreen/libnative
[15:34:14] <cmr> of course, the hash is randomly keyed, to avoid DoS attacks.
[15:34:21] <eddyb> geal: mhmm, SipHash
[15:34:31] <cmr> geal: I see only one read from urandom in a hello world.
[15:34:31] *** Joins: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[15:34:54] <geal> I thought siphash didn't need random numbers. the point was to use a hash algorithm with more difficult collisions
[15:35:04] <eddyb> that is actually how I've found out about CCC, the first talk I've watched from there was linked in #node.js - which was vulnerable (because v8 was)
[15:35:13] <geal> requiring a random number for every insert would reduce performance a lot
[15:35:17] <cmr> geal: oh I see it now
[15:35:20] <cmr> It's not every insert
[15:35:29] <cmr> it's just when it's rekeyed.
[15:35:30] <eddyb> cmr: remember 1MB for a hello world?
[15:35:35] <cmr> eddyb: it's 2.4
[15:35:44] <eddyb> cmr: it can become 1KB if Task is devirtualized
[15:35:51] <cmr> eddyb: you tested this?
[15:36:00] <eddyb> it's one barrier
[15:36:05] <geal> what happens when multiple tasks need to obtain random numbers? Are file readers ok from synchronization POV?
[15:36:21] <cmr> geal: each task has its own local rng
[15:36:23] *** Quits: milz (Mibbit@moz-3ACB9755.netcologne.de) (Quit: http://www.mibbit.com ajax IRC Client)
[15:36:35] <cmr> http://static.rust-lang.org/doc/master/std/rand/fn.task_rng.html
[15:37:11] <herrwolfe45> hi - question about a channels use case. I have set of 300 seperate stringsI'd like to decrypt. Would it make sense to create a new channel for each string and then run the decryption logic inside of each channel?
[15:37:32] <cmr> herrwolfe45: you mean task, not channel?
[15:37:44] <herrwolfe45> yes - sorry
[15:37:49] *** Parts: ptc1 (Adium@moz-8F01578B.z72-46-65.customer.algx.net) ()
[15:38:04] <cmr> if the decryption is relatively long-running that could make sense, yes.
[15:38:32] <cmr> it'd make more sense to spawn N workers and give them strings as they finish (where N is the number of cpu cores)
[15:38:34] <geal> cmr: what happens if multiple tasks start at the same time
[15:38:36] <geal> ?
[15:38:40] <cmr> geal: nothing?
[15:38:42] <herrwolfe45> cmr - thanks
[15:38:57] <Ms2ger> cmr, hopefully something happens!
[15:39:02] <cmr> well, yes.
[15:39:08] <cmr> but why would anything unusual happen?
[15:39:30] <geal> cmr: well, can multiple tasks starting at the same time reseed at the same time? Will they share some bytes sent by the urandom reader?
[15:40:03] *** Quits: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za) (Ping timeout)
[15:40:15] <cmr> geal: yes, they can, and no, they can't.
[15:40:32] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:41:17] <geal> alright
[15:42:01] *** Joins: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za)
[15:43:55] *** Joins: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP)
[15:44:58] *** Quits: bheylin_ (brianheyli@moz-300B2629.vanguardgames.net) (Quit: bheylin_)
[15:46:57] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:47:03] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[15:48:46] *** kimundi is now known as zz_kimundi
[15:50:26] *** Quits: Cevn (sameer@moz-57F2D062.v4.wm.edu) (Ping timeout)
[15:51:02] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[15:51:41] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:51:42] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[15:51:44] *** Joins: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr)
[15:51:59] <herrwolfe45> are there rust stickers available anywhere?
[15:52:12] *** Joins: yutongzhao (yutongzhao@moz-325F8282.hsd1.ca.comcast.net)
[15:52:53] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[15:53:14] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:53:25] <Ms2ger> Yep
[15:53:37] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:53:52] *** Quits: pyon (user@A16F2BE6.A9B419CB.1C8C8CE9.IP) (Quit: restart)
[15:54:16] <Ms2ger> Hmm, I thought I had some sitting in my desk, but I can't find them
[15:55:17] <herrwolfe45> Ms2ger: i thought i saw some pictures of some. I'll have to figure out a way to find one
[15:56:49] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[15:57:03] <bstrie> herrwolfe45: right now you can receive a package for free if you organize a rust meetup in your area :)
[15:57:14] <bstrie> or attend one, if the organizer remembered to do the same
[15:57:21] *** Joins: jaak (foo@moz-1ECD4429.cyber.ee)
[15:57:34] <herrwolfe45> bstrie: interesting. I'll see what i can do!
[15:58:06] <bstrie> herrwolfe45: or if you submit a big patch to the rust compiler I'll mail you one of mine :P
[15:58:15] * bstrie is rolling in stickers
[15:58:18] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[15:58:34] <cmr> I also have a bunch of stickers leftover.
[15:58:38] *** Quits: pzol (pzol@322A273C.DEB41A6D.AADC76B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:58:43] <Ms2ger> Next up: Servo stickers
[15:59:05] <steveklabnik> herrwolfe45: there's a post on the mailing list about this, email one of the mozilla devs
[15:59:54] <herrwolfe45> steveklabnik: i'll look for this - thanks
[16:00:28] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[16:06:22] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[16:09:11] *** Quits: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com) (Ping timeout)
[16:09:21] *** Joins: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com)
[16:11:12] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:11:15] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:12:29] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[16:13:12] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[16:13:22] *** Joins: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us)
[16:13:44] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[16:14:23] *** Quits: yutongzhao (yutongzhao@moz-325F8282.hsd1.ca.comcast.net) (Quit: yutongzhao)
[16:14:38] *** Parts: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP) (ERC Version 5.3 (IRC client for Emacs))
[16:14:58] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[16:15:28] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[16:15:38] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[16:15:38] *** ChanServ sets mode: +ao pcwalton pcwalton
[16:16:19] *** Joins: Cevn (sameer@moz-57F2D062.v4.wm.edu)
[16:16:44] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[16:17:10] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[16:21:26] *** zz_kimundi is now known as kimundi
[16:22:13] *** Quits: Cevn (sameer@moz-57F2D062.v4.wm.edu) (Ping timeout)
[16:25:43] *** Quits: jyeo (Adium@moz-6F715C5D.singnet.com.sg) (Quit: Leaving.)
[16:27:08] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[16:27:24] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:29:37] *** Joins: Cevn (sameer@moz-57F2D062.v4.wm.edu)
[16:30:06] *** Quits: sedman (sedman@E4D2F0A.47298EC7.57E8EAD3.IP) (Ping timeout)
[16:30:26] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Client exited)
[16:30:59] *** Quits: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za) (Ping timeout)
[16:31:14] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:31:27] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[16:31:38] *** Quits: Kxepal (Miranda@moz-C762CEEA.pppoe.mtu-net.ru) (Ping timeout)
[16:31:45] *** Joins: elux (peter@B6F21F4B.1F20BC31.2170E5F.IP)
[16:31:45] *** Joins: a_m0d1 (dschoof@moz-A861BB8.coyotecorp.com)
[16:31:50] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:32:20] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:33:32] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[16:33:38] *** Quits: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com) (Ping timeout)
[16:34:14] *** Joins: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com)
[16:34:17] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:35:07] *** Joins: Kxepal (Miranda@moz-EEB2B0E3.pppoe.mtu-net.ru)
[16:35:09] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[16:35:09] *** ChanServ sets mode: +o jdm
[16:35:38] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[16:35:52] *** Joins: sankha94 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[16:35:56] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[16:36:41] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:37:06] *** Quits: Ferreus (ferreus@moz-3013048A.dip0.t-ipconnect.de) (Ping timeout)
[16:38:39] *** Joins: espindola (espindola@563D60BB.4B7A7726.A2E931B1.IP)
[16:38:59] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[16:39:05] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[16:39:05] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[16:39:08] *** Quits: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr) (Ping timeout)
[16:39:18] <LinearInterpol> So, given this..
[16:39:18] <LinearInterpol> let a = List::<int>(10, ~None);
[16:39:30] <LinearInterpol> How would I get a value back from "a", like 10?
[16:40:57] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[16:40:58] *** Joins: sehugg (sehugg@moz-42540923.res.bhn.net)
[16:41:11] <Ms2ger> jdm, you should bring rust stickers
[16:41:18] <jdm> Ms2ger: ooh, good idea
[16:41:38] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:41:40] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:41:46] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:42:54] <Ms2ger> jdm, I realized I either don't have any or don't find them :)
[16:43:29] <SiegeLord> LinearInterpol: Are you using the List from extra?
[16:43:37] <LinearInterpol> No, the type is..
[16:43:40] <LinearInterpol> struct List<T>(T, ~Option<List<T>>);
[16:44:14] <LinearInterpol> Just getting a grasp on Rust.
[16:44:34] <pnkfelix> LinearInterpol: since you are using a tuple-like struct, you need to use pattern-binding (aka destructuring) to extract its components.
[16:44:49] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:44:52] <pnkfelix> LinearInterpol: give me a sec and I'll post a link to the relevant doc
[16:44:57] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Quit: Leaving...)
[16:44:57] <LinearInterpol> Thanks. :)
[16:45:06] <cmr> let List(val, next) = a;
[16:45:10] <cmr> (in short)
[16:45:14] <LinearInterpol> oh, wonderful.
[16:45:29] <nathan7> if I want to do TCP, where should I be looking?
[16:45:52] *** Quits: glaebhoerl_ (glaebhoerl@moz-3590251D.kabelnet.hu) (Ping timeout)
[16:45:56] <LinearInterpol> cmr: Awesome. so List() denotes that these variables are a tuple struct of List?
[16:46:12] <cmr> nathan7: std::io::net::tcp
[16:46:12] <pnkfelix> LinearInterpol: relevant section of tutorial: http://static.rust-lang.org/doc/master/tutorial.html#data-structures
[16:46:22] <LinearInterpol> Danke. :)
[16:46:25] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:46:30] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[16:46:44] *** Quits: vmx (vmx@moz-5FF8C923.dip0.t-ipconnect.de) (Connection timed out)
[16:46:52] <LinearInterpol> so Point { } == Point()
[16:47:24] *** Joins: vmx (vmx@moz-5FF8C923.dip0.t-ipconnect.de)
[16:47:34] <pnkfelix> (though for some reason the tutorial is using `match` to destructure the tuples, both struct and non-struct... while I'm sure that works, I'm surprised it doesn't point out the let syntax as a more succinct option.)
[16:47:52] <LinearInterpol> It's kind of why I'm asking.
[16:48:04] <LinearInterpol> Match is unintuitive.. and it's long.
[16:48:38] <LinearInterpol> let List(b, _) = a;
[16:48:41] <LinearInterpol> hehe, I love that.
[16:49:16] *** jorendorff_away is now known as jorendorff
[16:50:49] *** Quits: Cevn (sameer@moz-57F2D062.v4.wm.edu) (Ping timeout)
[16:50:52] *** Joins: prgrmr (eddey@moz-2C1DF1C5.dynamic.isadsl.co.za)
[16:52:04] *** Joins: gwty (gwtypc@3CBAFE29.10600D12.137C914F.IP)
[16:52:52] *** Joins: heftig (heftig@moz-3958C10A.dip0.t-ipconnect.de)
[16:52:54] *** Quits: atomical (atomical@moz-C92D67E2.library.northwestern.edu) (Ping timeout)
[16:54:55] *** Quits: derek_c (derek@D7935B85.18FB1C73.6CB35A18.IP) (Ping timeout)
[16:56:00] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[16:59:02] <SiegeLord> Err... how I call the function pi() on a Real? Is that one of those unimplemented things?
[16:59:07] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[16:59:08] *** ChanServ sets mode: +ao brson brson
[17:00:11] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[17:00:56] *** Joins: jensnockert (jensnocker@moz-272EFCE5.wireless.lu.se)
[17:01:19] <SiegeLord> I kind of wish it was addressed... as type inference is failing atm
[17:01:23] <nathan7> cmr: thanks
[17:01:38] <SiegeLord> I'm doing: let w: f64 = Real::pi() / 8.0;
[17:01:49] <SiegeLord> It works without the / 8.0... but that's kind of an important thing to be there :P
[17:02:13] *** Joins: Zerker (zerker@moz-B807DACD.lightspeed.irvnca.sbcglobal.net)
[17:02:40] *** Quits: jensnockert (jensnocker@moz-272EFCE5.wireless.lu.se) (Connection reset by peer)
[17:03:02] *** Joins: jensnockert (jensnocker@moz-272EFCE5.wireless.lu.se)
[17:03:07] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[17:06:03] *** Quits: mouse (mouse@moz-373942D2.dhcp.yndx.net) (Ping timeout)
[17:06:42] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:07:15] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[17:07:37] *** Joins: moostik (Icedove@moz-2E0A4DA6.minet.net)
[17:09:28] <a_m0d1> Anyone here able to give me some help building rust on Windows 8?
[17:09:48] *** Quits: prgrmr (eddey@moz-2C1DF1C5.dynamic.isadsl.co.za) (Ping timeout)
[17:09:58] <Tobba> if you get 0.9 working, all you really need to do is
[17:10:14] *** Joins: prgrmr (eddey@moz-4702BA0C.dynamic.isadsl.co.za)
[17:10:15] *** Joins: derek_c (derek@2B749379.8FCFF51F.AA745434.IP)
[17:10:19] <Tobba> install: python 2.7, msys git, mingw-perl, mingw-wget, theres something I'm forgetting here, uh
[17:10:23] <lucian> SiegeLord: what does it say?
[17:10:28] <Tobba> theres a rediclous amount of dependencies
[17:10:29] *** Quits: oberstet (quassel@moz-24534B22.dynamic.mnet-online.de) (Client exited)
[17:10:31] *** Joins: Savago (Savago@4C500BA5.40BDE760.18DDB669.IP)
[17:10:47] <a_m0d1> I went through the list on https://github.com/mozilla/rust/wiki/Note-getting-started-developing-Rust
[17:10:48] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:10:54] <Tobba> then just ./configure, make -j
[17:11:05] <Tobba> if it fails just make again, it usually gets further
[17:11:07] <a_m0d1> but when I run make, I get a whole lot of c header file errors
[17:11:21] <Tobba> try just running make again
[17:11:54] <a_m0d1> Same thing everytime - error: declaration for parameter '...' but no such paramater
[17:12:02] <a_m0d1> in all the win{...}.h files
[17:12:34] <a_m0d1> Seems like that error shows up for every declaration in every win{...}.h file
[17:12:46] *** Quits: daschl (daschl@moz-DC6DE6E2.vie.surfer.at) (Quit: Textual IRC Client: www.textualapp.com)
[17:12:50] <SiegeLord> lucian: error: the type of this value must be known in this context
[17:13:14] <Tobba> also, what is rt/miniz.c for 
[17:13:24] <Tobba> I was curious and searched but I cant find any place where its used
[17:13:32] <klutzy> a_m0d1: seems like you need to install w32api package
[17:13:53] <SiegeLord> Now ideally I shouldn't even need an :f64 there either... I thought HM type inference was magical :P
[17:14:07] *** Quits: Zerker (zerker@moz-B807DACD.lightspeed.irvnca.sbcglobal.net) (Quit: Colloquy for iPad - Timeout (10 minutes))
[17:14:07] <lucian> SiegeLord: i think the type of 8.0 isn't f64
[17:14:11] <SiegeLord> (I use w later on with f64 variables)
[17:14:32] <SiegeLord> Making it 8.0f64 does nothing
[17:14:40] <cmr> lucian: (it can be inferred to either float type)
[17:14:53] <a_m0d1> klutzy: mingw32-w32api is installed on the system
[17:14:59] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:15:01] <LinearInterpol> How do I use Option<T>?
[17:15:02] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: WeeChat 0.4.3-dev)
[17:15:11] *** Joins: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net)
[17:15:13] <LinearInterpol> So that I can generate a Some::<T> value.
[17:15:16] <lucian> cmr: ah. so unless there is something else to clarify, it can't be inferred yet?
[17:15:33] <klutzy> a_m0d1: could you paste error at http://pastebin.mozilla.org/ ?
[17:16:06] <SiegeLord> You can do inference in a vacuum
[17:16:08] <SiegeLord> *can't
[17:16:30] *** Parts: jaak (foo@moz-1ECD4429.cyber.ee) ()
[17:16:35] <cmr> LinearInterpol: in which context?
[17:16:37] <SiegeLord> Unless you want a probabilistic type system... and that's just too much fun
[17:16:48] <LinearInterpol> cmr: struct List<T>(T, ~Option<List<T>>);
[17:16:55] *** Quits: dmac (Adium@moz-94F55C3.hfc.comcastbusiness.net) (Ping timeout)
[17:16:57] <steveklabnik> LinearInterpol: http://static.rust-lang.org/doc/0.9/std/option/index.html has examples
[17:17:17] <cmr> yikes that example is a bit out of date.
[17:17:51] <cmr> oh no it's not
[17:17:53] <cmr> just on 0.9
[17:18:06] <a_m0d1> klutzy: errors are here: http://pastebin.mozilla.org/4021756
[17:18:08] <SiegeLord> That src link doesn't go to the right place...
[17:18:18] <SiegeLord> Or, rather, it doesn't go to the useful place
[17:18:29] <Tobba> cmr: wait, master made changes to options? or am I missing something?
[17:18:37] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:19:07] <egghead> hi #rust 
[17:19:14] <a_m0d1> klutzy: those errors are generated for the command compile: i686-pc-mingw32/rt/stage0/rust_builtin.o
[17:19:19] <egghead> in this code snippet here: http://static.rust-lang.org/doc/master/tutorial.html#references where it destructures the 'Cons'
[17:19:26] <egghead> &Cons(x, ~ref next_xs)
[17:19:32] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[17:19:38] <klutzy> a_m0d1: ugh, it looks like package downgrade went bad
[17:19:42] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[17:19:42] *** ChanServ sets mode: +ao dherman dherman
[17:19:44] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[17:19:52] <egghead> is that valid? when I try that I get something like 'cannot bind by-move and by-ref in the same pattern' 
[17:19:59] <a_m0d1> huh? what's that mean?
[17:20:04] <klutzy> a_m0d1: there's no need to downgrade packages now; wiki is too old
[17:20:10] <cmr> Tobba: to the docs.
[17:20:39] <a_m0d1> klutzy: is that the postinstall script?
[17:20:41] <Tobba> ah
[17:21:27] <klutzy> a_m0d1: ah nevermind. wiki seems not so old
[17:21:27] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:21:38] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[17:21:42] *** Quits: japaric (japaric@5F207A99.A347E168.F4D5766F.IP) (Quit: WeeChat 0.4.2)
[17:21:56] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:22:06] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[17:22:19] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[17:22:24] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Client exited)
[17:22:33] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[17:22:36] *** Joins: japaric (japaric@5F207A99.A347E168.F4D5766F.IP)
[17:22:50] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[17:22:54] <kimundi> eddyb: It may well be invalid - the docs are know to lack behind the implementation :P - However, maybe open a issue with that code snippet and ask if it should work or not
[17:22:59] <kimundi> err, egghead 
[17:23:03] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:23:08] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[17:23:43] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Connection reset by peer)
[17:23:47] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:24:02] <egghead> will do kimundi, thanks
[17:24:29] <egghead> I see the same thing later in the docs using &Cons(ref x..) 
[17:24:34] <egghead> so it might just be a typo
[17:24:35] <LinearInterpol> What exactly is the type of Some() ?
[17:24:45] <klutzy> a_m0d1: what's w32api version? it can be shown by `grep VERSION /mingw/include/_mingw.h`
[17:24:48] * LinearInterpol is still confused on Enumerations.
[17:25:18] <flaper87> acrichto: FYI, http://pastebin.mozilla.org/4021794
[17:25:46] <a_m0d1> klutzy: MINGW32_VERSION = 3.20
[17:25:56] <flaper87> acrichto: (not saying is better, just sharing) :D
[17:26:01] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[17:26:11] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:26:24] *** Joins: mleise (marco@moz-850E56A9.pools.arcor-ip.net)
[17:26:37] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:27:34] <Tobba> is libstd staticaly linked by default?
[17:27:37] <kimundi> LinearInterpol: Some(T) has type Option<T>
[17:27:46] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[17:27:47] <Tobba> when just compiling like rustc test.rs it produces massive binaries for simply a hello world
[17:27:50] <kimundi> LinearInterpol: Just as None has type Option<T>
[17:27:53] <klutzy> a_m0d1: I guess "function definition declared 'typedef'" is due to some missing macro definitions, but I have no idea why it occurs
[17:28:23] <kimundi> LinearInterpol: You can also view Some as a function fn Some<T>(T) -> Option<T>
[17:29:02] <eddyb> kimundi, LinearInterpol: that's exactly how it's implemented btw
[17:29:22] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:29:46] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[17:30:24] <bstrie> steveklabnik: I actually don't have anything to say, but at this point we'll have directly contacted via four different internets this morning and I think we should try for the record
[17:30:26] <SiegeLord> Tobba: Yes if you're only linking to other static crates, otherwise its dynamic
[17:30:34] <Tobba> ah
[17:30:38] <kimundi> LinearInterpol: What names are concerned, "Option" is the type, "Some" and "None" are variants, and "Some(T)" and "None" are constructor expressions for a value of type Option<T>
[17:30:48] <SiegeLord> Tobba: You can force it to be dynamic with -Z prefer-dynamic if you want
[17:30:52] <steveklabnik> bstrie: ahahaha
[17:31:09] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:31:18] <LinearInterpol> so Some(T) is a tuple or something?
[17:31:19] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[17:31:30] <LinearInterpol> just like Circle(whatever, whatever)?
[17:31:39] <Ms2ger> Some is a variant
[17:31:51] <LinearInterpol> alright.
[17:31:57] <bstrie> Ms2ger: I guess theoretically you could think of it as a one-tuple... but that's sort of useless
[17:32:04] <kimundi> LinearInterpol: yes and no - its a named tuple variant
[17:32:19] <LinearInterpol> What exactly is a variant? You're talking to a rather dumb C programmer.
[17:32:27] <LinearInterpol> Apologies.
[17:32:30] <Tobba> it also seems to produce dependencies on libgcc_s_dw2-1, ugh
[17:32:41] <bstrie> Ms2ger: er, sorry, LinearInterpol
[17:32:45] <steveklabnik> LinearInterpol: i ask REALLY dumb questions in here all the time, #rust is very friendly with them, no apologies needed ;)
[17:32:55] <LinearInterpol> Hehe. :)
[17:33:06] <LinearInterpol> All this terminology.. messin' with mah brian.
[17:33:08] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[17:33:08] <LinearInterpol> *brain.
[17:33:08] <bstrie> we tolerate steveklabnik's dumb questions because his tattoos and piercings intimidate us
[17:33:10] *** Joins: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net)
[17:33:17] <LinearInterpol> bahaha.
[17:33:24] <tOkeshu> bstrie: :D
[17:33:35] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[17:33:47] <kimundi> LinearInterpol: A tuple would be a type like "(A, B, C)". A tuple struct is a type like "Foo(A, B, C)". A tuple enum variant like Some(A) however is _not_ a type on its own - its just the _constructor_ for a type - here Option
[17:33:51] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:33:52] <bstrie> the man has a tattoo of a board game on his arm
[17:33:57] <bstrie> that's NOT a man you want to fuck with
[17:34:15] <LinearInterpol> kimundi: so effectively it's the constructor for that enumeration.
[17:34:19] <kimundi> yes
[17:34:26] <LinearInterpol> I see now. It's kind of like an "overloaded" constructor.
[17:34:32] <a_m0d1> klutzy: thanks for trying
[17:34:46] <LinearInterpol> I suppose.
[17:34:54] <LinearInterpol> multiple constructors for one type.
[17:34:59] <kimundi> LinearInterpol: You could see it like that, yeah.
[17:35:08] <LinearInterpol> so Some(T) is a constructor for Option<T>.
[17:35:12] <kimundi> yup
[17:35:16] <LinearInterpol> which contains one value, T.
[17:35:43] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[17:35:49] <steveklabnik> bstrie: i also have ruby and perl tattoos
[17:35:57] <kimundi> Well, it contains one value T if you constructed it with Some(T), and it contains no value if you constructed it with None
[17:35:59] <bstrie> steveklabnik: but no rust tattoo? :(
[17:36:05] <LinearInterpol> Aha!.
[17:36:07] <steveklabnik> ruby: http://i.imgur.com/4sf4xIQ.jpg
[17:36:11] <LinearInterpol> So how would I get a value from Some(1)?
[17:36:11] <steveklabnik> bstrie: not yet! hahah
[17:36:20] <LinearInterpol> The same way I'd get a value from a tuple or a tuple struct?
[17:36:22] <bstrie> steveklabnik: think of how much reddit karma you would get
[17:36:26] <LinearInterpol> Like..
[17:36:27] <steveklabnik> right?
[17:36:28] <LinearInterpol> let a = Some(1)
[17:36:32] <LinearInterpol> or whatever.
[17:36:35] <kimundi> LinearInterpol: Like a tagged enum where you only initialize the value if the tag is right
[17:36:37] *** Quits: prgrmr (eddey@moz-4702BA0C.dynamic.isadsl.co.za) (Ping timeout)
[17:36:44] <LinearInterpol> let Some(b) = a
[17:36:47] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:36:51] <LinearInterpol> then b == 1?
[17:36:54] <kimundi> LinearInterpol: In principle you have the right idea
[17:37:18] <LinearInterpol> Trying to. :)
[17:37:23] <bstrie> LinearInterpol: let me tell you about refutable patterns...
[17:37:27] *** Joins: prgrmr (eddey@moz-2C1DF1C5.dynamic.isadsl.co.za)
[17:37:29] <kimundi> LinearInterpol: However, in the case of enum it doesn'T work with _let_
[17:37:30] * LinearInterpol is scared.
[17:37:38] <LinearInterpol> You have to use match?
[17:37:47] <LinearInterpol> Because match scares the crap out of me.
[17:37:49] <bstrie> LinearInterpol: what do you think should happen in this case: `let a = None; let Some(b) = a;`
[17:37:57] <Matrixiumn> touch: cannot touch `/rustc': Permission denied 
[17:37:59] <Matrixiumn> :/
[17:38:02] <LinearInterpol> ...
[17:38:07] <kimundi> LinearInterpol: Yes, to have a code path for each possible enum variant the enum value could currently be
[17:38:08] <LinearInterpol> bstrie: ... um. abort?
[17:38:17] <LinearInterpol> retry? fail?
[17:38:17] <LinearInterpol> :D
[17:38:28] <bstrie> LinearInterpol: the answer is that there is no answer! and hence rust doesn't let you do that
[17:38:28] <LinearInterpol> Sorry, be right back, immediate thing.
[17:39:49] <kimundi> LinearInterpol: In Rust we currently try for "let" to always work - hence you are only allowed to destructure things that can be destructured with that pattern in 100% of all cases
[17:39:52] <bstrie> LinearInterpol: hence the idea that a pattern is either "refutable" or "irrefutable". the former can fail to match, and the latter can't
[17:40:19] <bstrie> LinearInterpol: so `let a = (1, 2); let (x, y) = a;` works because the pattern there can't ever fail to match
[17:41:13] <bstrie> LinearInterpol: the other place this comes up is that, when you write a match statement, at least one of your patterns has to be irrefutable. this ensures that the entire thing doesn't fail to match. and usually you use the `_` pattern for this
[17:41:26] <bstrie> LinearInterpol: since `_` matches everything and throws it away
[17:41:52] <kimundi> bstrie: Well, thats not entirely correct.
[17:42:38] <kimundi> match just needs to be _exhaustive_ - that is all possible values of the type you match on need to be covered in the match arms
[17:43:16] <bstrie> if the match is exhaustive then I consider that to be irrefutable in collective :P
[17:43:18] <kimundi> Example: match opt() { Some(a) => ..., None => ... } is valid
[17:44:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:44:07] <Tobba> building rust master again, locked up when extracing stage0
[17:44:10] <Tobba> goddamnit
[17:44:23] *** Quits: prgrmr (eddey@moz-2C1DF1C5.dynamic.isadsl.co.za) (Ping timeout)
[17:44:27] <Tobba> I cant even Ctrl+C out of make
[17:44:27] <SingingBoyo> why is rust suddenly complaining about "CFG_RELATIVE_LIBDIR is not defined"?
[17:44:42] <SingingBoyo> when building, I mean
[17:44:49] *** Joins: Ferreus (ferreus@moz-851A5578.pools.arcor-ip.net)
[17:44:53] <egghead> hmm, I feel like I'm thrashing
[17:44:54] *** Joins: prgrmr (eddey@moz-4702BA0C.dynamic.isadsl.co.za)
[17:44:58] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[17:45:22] <egghead> I'm trying to do simple linked list stuff, I have my list working and now I'm trying to implement 'head' and 'tail' operators without moving the original list
[17:45:37] <SingingBoyo> and CFG_LIBDIR_RELATIVE, not CFG_RELATIVE_LIBDIR.  hmmm
[17:45:46] <egghead> but no matter what, every time I call head or tail they 'move' ownership of the original list
[17:46:32] <egghead> it must be possible since vector slices do just that... hm
[17:46:38] <sehugg> any good examples of building and returning fixed-sized vectors from fns? or is -> ~[] generally the way to go?
[17:47:26] <SingingBoyo> sehugg: afaik there's numerous features for owned vectors and vector slices that just don't work with fixed-size vectors yet
[17:47:41] <SingingBoyo> sehugg: so ~[] is probably what you want
[17:48:13] <kimundi> egghead: So, the important question is - should head and tail remove the elment from the list or just give you a reference to it.
[17:48:38] <egghead> kimundi: I'm imagining it'd need be a reference in order to work, right?
[17:48:47] <egghead> https://gist.github.com/eggsby/8428866 is the code I have so far
[17:49:39] <kimundi> egghead: Well, its something you need to decide - both options would work. :)
[17:49:46] <derek_c> does anyone know what's the point of wrapping `main` in an option, only to take it out in a closure?  https://github.com/mozilla/rust/blob/master/src/libgreen/lib.rs#L90-L94
[17:50:25] <kimundi> derek_c: That, my dear derek_c is what we call an "Option dance"
[17:50:27] <sehugg> SingingBoyo: thx, what i figured after reading thru std::vec :)
[17:50:53] <derek_c> kimundi: could you please explain?
[17:51:20] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[17:51:38] <kimundi> derek_c: bascially, task().run() could run the closure 0, 1, or many times
[17:52:08] <kimundi> derek_c: however, for this code to work it needs to be either 0 or 1 times
[17:52:39] <kimundi> derek_c: because else things would get moved twice, which is impossible
[17:53:01] <kimundi> derek_c: So, two Options are used as an one-element container here
[17:53:22] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Quit: msingle)
[17:53:59] <kimundi> derek_c: if the code never runs, then main remains a Some, and ret a None. IF the code runs once, then main turns into a None, and the return value gets stored in ret as a SOme
[17:54:09] *** Quits: ssbr (~ssbr@46FE74EC.C60FE7DC.4065847B.IP) (Ping timeout)
[17:54:41] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[17:54:54] <pepper_chico> guys, was loop as expressions, as it's with if, match, discussed? I was trying it but I receive () from let x = while... instead of the value for the last executed statement without semi-colon
[17:55:17] <derek_c> kimundi: if the code runs for the second time?
[17:55:26] <kimundi> Its not a nice pattern, but it serves the purpose of enforcing this "at most once" restriction at runtime
[17:55:37] <adridu59> why do we say bookeeping in the runtime and not bookkeeping with two k? (this troubles me everytime I see it)
[17:56:06] *** Joins: abhaykadam (abhaykadam@AEE2EA1F.836F5B9C.6237D8DF.IP)
[17:56:19] <derek_c> adridu59: because some Rust developers are not native speakers?
[17:56:22] <kimundi> derek_c: If the code runs for the second time, then main is None, which means take_unwrap() will fail cleanly
[17:56:24] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[17:56:40] <derek_c> kimundi: that's very interesting
[17:56:43] <derek_c> kimundi: thanks!
[17:57:23] <kimundi> derek_c: However, because the implementation of run will make sure the closure gets run exactly once, neither the 0 or 2 case will actually happen - however the type system doesn'T know that
[17:58:06] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:58:23] *** Joins: Kruppe (user@F8BF0D24.9963B395.D02BABA9.IP)
[17:58:30] <kimundi> egghead: Still having trouble?
[17:58:55] <derek_c> kimundi: so why do we bother?  If we just use `main` directly, the type system wouldn't complain, would it?
[17:59:05] <pepper_chico> well, if without else also has some issues with compatibility of types I think, so, not sure how the rules about everything as expressions works
[17:59:08] <kimundi> derek_c: It would
[17:59:10] <Matrixiumn> Anyone? :/
[17:59:25] *** Joins: ssbr (~ssbr@4241698A.2E4FD3DD.225F4543.IP)
[17:59:55] <kimundi> derek_c: It would because main is a proc(), which is a moving type. - if you use it directly then the type system can not prove that proc gets only moved once
[18:00:00] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[18:00:36] <adridu59> flaper87: why did you close your PR?
[18:01:00] <flaper87> adridu59: mmh, I think I missunderstood your comment :/
[18:01:02] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[18:01:04] <kimundi> Matrixiumn: id you run make with sudo?
[18:01:10] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[18:01:15] *** Quits: benjamin__ (benjamin@moz-29766E26.dip0.t-ipconnect.de) (Ping timeout)
[18:01:25] <flaper87> adridu59: I thought you were saying there was no difference between % 2 and & 1 == 0
[18:01:38] <pepper_chico> can anyone explain what's behind let x = if true { 1 } and why it doesn't work so I can grasp this things as expressions?
[18:01:50] <adridu59> flaper87: no that was about "documentation shouldn't change"
[18:01:53] <kimundi> Matrixiumn: or "sudo make install" without building it with "make" first?
[18:02:04] <pepper_chico> s/this things/these things/
[18:02:07] <flaper87> adridu59: ah, ops! I failed!
[18:02:10] <Ms2ger> pepper_chico, how about let x = if some_condition() { 1 }?
[18:02:36] <FreeFull> > let x = if true { 1 } else { 2 }; x
[18:02:40] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Connection reset by peer)
[18:02:40] *** Quits: abhaykadam (abhaykadam@AEE2EA1F.836F5B9C.6237D8DF.IP) (Quit: Lingo - http://www.lingoirc.com)
[18:02:46] <pepper_chico> Ms2ger, whatever, the condition is not the important part
[18:02:46] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[18:02:48] <FreeFull> Ugh, I wish rusti was around
[18:02:49] <egghead> kimundi: ya, I just gotta figure out what it is i'm doing that is tranferring ownership
[18:02:54] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[18:02:54] <Ms2ger> pepper_chico, it is
[18:02:59] <kimundi> pepper_chico: bascially, The compiler doesn't judge those rules on a case by cases basis - the rule is set once for all if expessions
[18:03:00] <derek_c> kimundi: interesting... I need to think about that
[18:03:04] <FreeFull> pepper_chico: You need to have an else, in case the condition ends up being false
[18:03:07] <Ms2ger> pepper_chico, what happens if some_condition() is false?
[18:03:24] *** Quits: int3_ (int3_@D6C7AF99.B82E4B8F.EC6C369A.IP) (Ping timeout)
[18:03:28] <adridu59> flaper87: I mean, you can add an ote about how implementation works but it should retain that it's looking if the number is divisible by 2
[18:03:32] *** Joins: Cevn (sameer@moz-57F2D062.v4.wm.edu)
[18:03:51] <derek_c> adridu59: I'm in the process of cleaning up some docs. mind if I just /r/bookeeping/bookkeeping for the whole repo?
[18:04:02] <pepper_chico> Ms2ger, I mean, what's the condition is not important, but the lack of else part, so, true, or condition() doesn't matter for the discussion
[18:04:21] <adridu59> derek_c: that would have me :) thank you! (you will have to rename bookeeping.rs too)
[18:04:27] <Ms2ger> pepper_chico, let x = if true { 1 } could work, let x = if false { 1 } can never work
[18:04:36] <pepper_chico> Ms2ger, it doesn't
[18:04:37] <derek_c> adridu59: ah, good remainder
[18:04:51] <kimundi> egghead: Well, if your functions take ~List or List by value, then you transfer ownership into it - the same thing happens if you match on a Cons() and bind the name by value instead of by reference
[18:04:53] <Ms2ger> pepper_chico, could != does
[18:05:02] <pepper_chico> Ms2ger, hence I say it doesn't matter
[18:05:09] <Ms2ger> Anyway
[18:05:11] <pepper_chico> only the lack of else part
[18:05:15] <egghead> kimundi: can I turn a &ref into a ~ref ?
[18:05:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:05:51] <egghead> it seems like I'd want to take a borrowed ref and return a new unique ref, right?
[18:05:55] <kimundi> egghead: Well, can certainly - wether its the right and semantically valid thing to do I can'T say right now :P
[18:06:10] <FreeFull> pepper_chico: I think the rule is if isn't an expression unless you have a final else
[18:06:29] <kimundi> egghead: Basically, I want to know from you which of the two ways you want to implement, so that I can help you fix the errors :)
[18:06:33] <Matrixiumn> kimundi: No, and no.
[18:06:35] <pepper_chico> FreeFull, that's what I want to know
[18:06:37] <luz> `if condition() { 0 }` is equivalent to `if condition() { 0 } else { () }`, right?
[18:06:55] <pepper_chico> luz, it seems
[18:07:09] <egghead> kimundi: what I'm trying to do is something similar to vector slices, where I just return a view into the existing structure, ideally you'd be able to use this view to create new lists too
[18:07:10] <pepper_chico> because I get error about mismatch of types
[18:07:13] *** Joins: mouse (mouse@moz-32DFB3CF.broadband.corbina.ru)
[18:07:16] <pepper_chico> () and integer
[18:07:40] <FreeFull> Seems that's how the compiler treats it
[18:08:13] <pepper_chico> well, I'd like to find reference about that stuff....
[18:08:27] <pepper_chico> because I was trying to use loops as expressions
[18:08:32] <pepper_chico> but only get ()
[18:08:36] <pepper_chico> as resu;t
[18:08:46] <pepper_chico> s/resu;t/result/
[18:08:57] <kimundi> egghead: Okay, but you can't do it directly equivalent to a vector slice - you either need to return a single reference to one value in one of the cons, or return a reference to a sublist itself, like returning &~[T]
[18:08:58] *** Quits: derek_c (derek@2B749379.8FCFF51F.AA745434.IP) (Ping timeout)
[18:09:12] <luz> let x = if false { () }; works fine
[18:09:45] <pepper_chico> heh, is, there's no mismatch of types upon evaluation
[18:09:48] <kimundi> egghead: Err, with the last one I mean "analough to returning a &~[T] instead of &[T] for a vector"
[18:09:48] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Input/output error)
[18:10:00] <pepper_chico> with the hidden () from else
[18:10:02] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[18:10:08] <kimundi> analog*
[18:10:15] <pepper_chico> s/is/yes/
[18:11:35] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Ping timeout)
[18:11:51] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[18:11:52] <pepper_chico> ah... I think a loop just get () as its value because it stops and the termination condition, and it doesn't matter what's in the body....
[18:12:00] *** Quits: gwty (gwtypc@3CBAFE29.10600D12.137C914F.IP) (Connection reset by peer)
[18:12:07] <flaper87> jdm: adridu59 posted the full emit and restored the comment
[18:12:13] <pepper_chico> =/
[18:12:28] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[18:12:30] <pepper_chico> so loops are unusable as expressions I think
[18:13:01] <pepper_chico> s/and the/at the/
[18:13:57] *** Joins: dmac (Adium@moz-99EF2EE6.hfc.comcastbusiness.net)
[18:13:57] *** Quits: Mathuin (matthias@62DC781C.87D2502A.F90A1032.IP) (Ping timeout)
[18:14:40] <egghead> lol kimundi I can't seem to make the compiler happy :(
[18:14:47] *** Joins: gwty (gwtypc@77D2A3.3F98A9B1.CF29F6CE.IP)
[18:15:29] *** Joins: tikue (tkuehn@moz-A5B0D32.lightspeed.plalca.sbcglobal.net)
[18:16:06] <egghead> is this signature roughly correct: take in a borrowed reference to a list, return a borrowed reference to a unique reference of list?
[18:16:18] <egghead> fn cdr<T>(xs: &List<T>) -> &~List<T> {
[18:16:36] <Ms2ger> Dammit lisp
[18:16:37] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:16:38] <adridu59> how does Gc look at the moment?
[18:16:43] <egghead> lol Ms2ger :p
[18:16:49] <flaper87> jdm: tbh, I'm not sure what the best way to test that is. Any suggestions ?
[18:16:54] <pepper_chico> adridu59, ref count AFAIK
[18:17:00] * flaper87 needs to get better at "llvm"
[18:17:02] <flaper87> like for real
[18:17:03] <Ms2ger> What's next, cdadr?
[18:17:10] <jdm> flaper87: usually before and after IR when calling the method that's changing
[18:17:13] *** Joins: Mathuin (matthias@62DC781C.87D2502A.F90A1032.IP)
[18:17:14] <adridu59> pepper_chico: so it's like Rc right now?
[18:17:23] <pepper_chico> adridu59, yes
[18:17:33] <adridu59> I see
[18:18:00] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[18:19:16] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[18:19:29] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[18:19:45] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[18:20:25] *** Quits: yuriks (yuriks@7AF92294.96DC925E.3299D537.IP) (Connection reset by peer)
[18:20:37] *** Joins: yuriks (yuriks@50BCCB4D.6C9AD9C4.8E0C6B01.IP)
[18:21:03] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:21:39] <LinearInterpol> Whew. That was.. interesting.
[18:21:40] <LinearInterpol> Alright.
[18:23:27] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[18:24:26] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[18:25:09] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Ping timeout)
[18:25:58] *** Quits: Kroisse (Kroisse@7CF4064D.E3B51CAE.ECA1BB11.IP) (Ping timeout)
[18:26:31] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:26:39] *** Joins: \n (uid15310@moz-31ABA2C0.irccloud.com)
[18:26:45] <LinearInterpol> Time to play with matches.
[18:26:47] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[18:26:51] *** Quits: tikue (tkuehn@moz-A5B0D32.lightspeed.plalca.sbcglobal.net) (Quit: tikue)
[18:26:52] <\n> how do you run one test without running all of make check again?
[18:26:54] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[18:27:53] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Ping timeout)
[18:28:20] <eddyb> meeeeeh. can I run make check *for LLVM* from the rust build system?
[18:29:12] *** Quits: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt) (Quit: Konversation terminated!)
[18:29:18] *** Joins: jadbaires (jadrian@moz-E16F2010.dsl.telepac.pt)
[18:29:33] *** Joins: Kroisse (Kroisse@7CF4064D.E3B51CAE.ECA1BB11.IP)
[18:29:34] *** Quits: Savago (Savago@4C500BA5.40BDE760.18DDB669.IP) (Quit: Savago)
[18:29:38] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[18:32:35] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:32:47] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[18:32:53] <LinearInterpol> Using match, what would be the best way to get a value from "a", given the context..
[18:32:55] <LinearInterpol> let a = List::<int>(10, Some(~List::<int>(20, None)));
[18:33:54] *** Quits: vmx (vmx@moz-5FF8C923.dip0.t-ipconnect.de) (Quit: Leaving)
[18:33:54] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Connection reset by peer)
[18:35:02] <acrichto> flaper87: I think there's some IR missing from that, there's only lang_start, not necessarily main
[18:35:19] <acrichto> flaper87: also I was more interested in the optimized IR, unoptimized IR will definitely be faster with an & of course
[18:35:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[18:35:26] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:36:13] <flaper87> acrichto: my last comment has the full IR, let me run it optimized
[18:37:12] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[18:37:18] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[18:37:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[18:37:46] *** Quits: ssbr (~ssbr@4241698A.2E4FD3DD.225F4543.IP) (Ping timeout)
[18:39:48] *** Quits: Sharp (Sharp@moz-EEC85237.hsd1.ca.comcast.net) (Quit: Sharp)
[18:39:54] <flaper87> acrichto: posted both versions on the issue. thanks!
[18:39:57] <Tobba> oh god
[18:40:03] <Tobba> I accidently wrote lld instead of lldb
[18:40:07] <\n> for one of my patches, a test is failing, but I have no idea where.  `test io_5 ... Failed` any ideas where that file is?
[18:40:09] <acrichto> flaper87: thanks! will take a look soon
[18:40:18] <kimundi> egghead: I'm back, sorry was distracted a bit
[18:40:27] <Tobba> and cmake broke itself doing so, obviously
[18:40:44] <flaper87> acrichto: awesome, thanks! Most likely I'm wrong but hey, getting to know this stuff. :)
[18:41:19] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[18:42:13] <kimundi> "fn cdr<T>(xs: &List<T>) -> &~List<T>" looks correct, its only missing the explcit lifetime parameters to link the input list to the return value
[18:42:14] *** Quits: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) (Quit: zztr)
[18:42:42] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[18:43:07] *** Joins: vadimg2 (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[18:43:29] <pepper_chico> how do I iterate through the characters of a string? iter() doesn't work for strings
[18:43:32] <kimundi> LinearInterpol: Is "List" a enum variant?
[18:43:39] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[18:43:41] <kimundi> pepper_chico: .chars()
[18:43:42] <LinearInterpol> List is ..
[18:43:44] <LinearInterpol> struct List<T>(T, Option<~List<T>>);
[18:43:51] <kimundi> ah
[18:43:52] <Tobba> are there any plans to have rustc support DWARF debugging symbols?
[18:43:57] <pepper_chico> kimundi, ah thanks =)
[18:44:24] <kimundi> LinearInterpol: Well, don't even need match for the value then. ;) Only for the next link
[18:44:25] <\n> does anyone know where the tests are for `run doc-std`?
[18:44:57] *** Quits: Cevn (sameer@moz-57F2D062.v4.wm.edu) (Ping timeout)
[18:44:57] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[18:45:20] <LinearInterpol> kimundi: Alrghty.. so the next value would be..
[18:45:34] <LinearInterpol> let List(_, b) = a;
[18:45:43] <LinearInterpol> And then..
[18:45:53] <LinearInterpol> let List(c, _) = b; ?
[18:46:02] *** Joins: Cevn (sameer@moz-57F2D062.v4.wm.edu)
[18:46:08] *** Parts: prgrmr (eddey@moz-4702BA0C.dynamic.isadsl.co.za) ()
[18:46:38] <LinearInterpol> That gives me a bunch of failure.
[18:46:41] <Matthias247> is there something like RcMut?
[18:47:14] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:47:15] <kimundi> LinearInterpol: Well, no. :P b is of type Option<~List<T>>, not of type List<T>
[18:47:30] <LinearInterpol> Oh.. so how do I get a value back from Option?
[18:47:36] <kimundi> For b, you'd need the match
[18:47:39] <LinearInterpol> (Sorry, still grokking rust. This is my "first day".)
[18:47:47] <LinearInterpol> Ah. Alright. So! :)
[18:47:54] <LinearInterpol> Match. I need to learn how to use it.
[18:47:54] *** Quits: Cevn (sameer@moz-57F2D062.v4.wm.edu) (Ping timeout)
[18:48:45] <LinearInterpol> How would I extract it?
[18:48:46] <kimundi> LinearInterpol: It's basically just a more general switch 
[18:49:02] <LinearInterpol> Yeah, the general part is kind of what I'm trying to wrap my head around.
[18:49:19] <kimundi> LinearInterpol: match b { Some(list) = { ... code ... }, None => { ... code ... } }
[18:49:48] <kimundi> You can imagine each "arm" of the match to be a "let" if that helps :)
[18:50:04] <LinearInterpol> That does help. :)
[18:51:20] <LinearInterpol> What would I use on the "None" arm?
[18:51:41] <LinearInterpol> And can I use matches in a "let"?
[18:51:58] <LinearInterpol> like.. let c = match b { etc. }
[18:52:02] <kimundi> LinearInterpol: Well, whatever would be appropiate for the code flow - you could fail, you could initialize with a default value, you could return from the function, etc
[18:52:17] <kimundi> LinearInterpol: Sure, match is a expression, just like if
[18:52:23] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[18:52:34] <LinearInterpol> Can I have a null value somehow if I use None?
[18:52:40] <LinearInterpol> Like ()?
[18:52:45] <\n> how is code in the docs tested?  I believe I have a failing test there, but note sure where to go to edit and fix the test
[18:53:25] *** Joins: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[18:53:32] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Ping timeout)
[18:53:33] <kimundi> LinearInterpol: All match arms need to evaluate to the same type - and "None" _is_ our null replacement :P
[18:54:04] <LinearInterpol> so I can do..
[18:54:34] <LinearInterpol> let c = match b { Some(list) => { list } None => { None } } ?
[18:55:23] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[18:55:29] <kimundi> LinearInterpol: No, that wouldn't typecheck - what I meant is that "Option<T>" is our way to express a nullable type
[18:55:31] *** Joins: vgeddes (vincent.ge@moz-4C6314FC.dsl.mweb.co.za)
[18:55:36] <LinearInterpol> Oh.
[18:56:02] <LinearInterpol> Damn.. So I have to define some kind of behavior. There's not really anything I can put there. lol.
[18:56:03] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Quit: Leaving)
[18:56:17] <kimundi> LinearInterpol: In your code example, one match arm would return a ~List<T> and the other a Option<U> - those are not the same type
[18:56:36] <kimundi> LinearInterpol: Well, you could put the code that use c _into_ the match arm
[18:56:40] <LinearInterpol> So I'd just have to return a "null list".
[18:56:45] <kimundi> so that it only runs in case of a Some
[18:56:56] <LinearInterpol> Yeah.. true.
[18:57:00] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[18:57:10] <kimundi> Or you retunr a Option in general - letting the case that something might be missing bubble up the call chain
[18:57:42] <LinearInterpol> But then we're back to the match.
[18:58:05] <kimundi> LinearInterpol: yeah, except its no longer your problem, but the problem of your caller ;)
[18:58:13] <LinearInterpol> Haha. :)
[18:58:44] <LinearInterpol> So I could do None => { List::<int>(0, None) }
[18:58:49] <LinearInterpol> As a default case.
[18:58:53] <LinearInterpol> Sort of returning a "null" list.
[18:58:55] <LinearInterpol> In my case.
[18:59:14] <kimundi> LinearInterpol: For example we have the .get_opt(index: uint) method for vectors - it returns a Option<T> that is either Some(T) if the index is in bounds, or None if the index is out of bounds
[18:59:23] *** Joins: geoffhill (geoffhill@moz-738DC0DB.org)
[18:59:31] <LinearInterpol> But you have to match to get out of an Option, right?
[18:59:44] <kimundi> LinearInterpol: yeah - though that would more be a "one" list ;)
[18:59:49] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[18:59:49] *** ChanServ sets mode: +o tjc
[18:59:53] <LinearInterpol> Hehe.
[19:00:01] <kimundi> LinearInterpol: yes - though any function could do that for you
[19:00:21] <pcwalton> acrichto: r? https://github.com/mozilla/rust/pull/11575
[19:00:29] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[19:00:29] *** Joins: Cevn (sameer@moz-57F2D062.v4.wm.edu)
[19:00:36] <LinearInterpol> So..
[19:00:45] <kimundi> LinearInterpol: For example, Option<T> has the unwrap( method defined that returns T - it jsut internall does a match on self, and returns T in case of a Some, or fail!s the task in case of None
[19:00:48] <LinearInterpol> Within Some(list) => { }
[19:01:03] <LinearInterpol> I can have a "match list"
[19:01:14] <LinearInterpol> with the arms being List::<int>(x, y), right?
[19:01:43] <kimundi> LinearInterpol: Hm? I don'T understand the question :)
[19:01:49] <LinearInterpol> Sorry. X)
[19:01:54] <LinearInterpol> Hold on, I'll paste some code.
[19:02:56] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[19:03:00] <LinearInterpol> http://pastebin.com/DMVvnj8a
[19:03:09] <LinearInterpol> I'm getting freaky with matches, and enjoying it all to hell. :)
[19:03:46] <kimundi> haha :)
[19:03:50] <kimundi> Okay, lets take a look
[19:03:54] <LinearInterpol> I know it doesn't work.
[19:03:57] <LinearInterpol> Just wondering why.
[19:04:26] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[19:04:27] <LinearInterpol> Is _ even needed?
[19:05:01] <silven> Can anyone point me to an up2date resource on building Rust projects, with libraries in subfolders and such? Or is the preffered way to just "rustc yourmainfile.rs" and let the compiler do the rest? I'd like to build many smaller libraries (a la C++ objects) to manage larger projects.
[19:05:10] <kimundi> LinearInterpol: In this case no, because List(x, y) (need to remove the ::<int>) already covers all possible cases
[19:05:27] <LinearInterpol> (thanks, the compiler just bitched at me for it. :)
[19:05:31] *** Quits: mouse (mouse@moz-32DFB3CF.broadband.corbina.ru) (Ping timeout)
[19:05:32] <kimundi> LinearInterpol: So, correct would be "~List(x, y) => x"
[19:05:40] <LinearInterpol> Ahhhhhh. Okay.
[19:05:45] <LinearInterpol> No need for any of that other crap.
[19:06:01] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[19:06:11] <kimundi> And that you could also put in a let directly, _or_ put directly into the "Some(list)" pattern :)
[19:06:13] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[19:06:44] <LinearInterpol> hmmmmmmmm.
[19:06:53] <Matthias247> hmm, now I have Rc<RefCell>>. But working with that is really really verbose :(
[19:06:54] <kimundi> Some(~List(x, y)) => x, None => List::<int>(0, None)
[19:06:55] <LinearInterpol> test.rs:6:11: 13:3 error: match arms have incompatible types: expected `int` bu
[19:06:55] <LinearInterpol>  found `List<int>` (expected int but found struct List)
[19:07:06] <jmgrosen> what is `ty::type_is_bot`?
[19:07:24] <LinearInterpol> kimundi: woah, you can do that?
[19:07:30] <kimundi> LinearInterpol: Oh, right - you have mismatching arms again - the None arm returns a list, the Some arm a int
[19:07:40] <kimundi> LinearInterpol: yup, patterns nest
[19:07:46] <LinearInterpol> Jesus.
[19:07:52] <LinearInterpol> Wait, patterns
[19:07:53] <LinearInterpol> ?
[19:08:22] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:08:23] <kimundi> let c = match b { Some(~List(x, y)) => x, None => 0 } would for example return either x or 0
[19:08:31] <LinearInterpol> Yep.
[19:08:34] <LinearInterpol> (Just changed it. :)
[19:08:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:08:45] *** Joins: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net)
[19:08:58] <kimundi> LinearInterpol: "Wait, patterns?" ? :)
[19:09:00] <LinearInterpol> Haha, wow.. this is so crazy it's awesome.
[19:09:06] <LinearInterpol> And yeah, what do you mean by patterns?
[19:09:14] <kimundi> Ah, the name is unknow, okay :)
[19:10:21] <kimundi> So, what you write in case of a let or a match arm is called a _pattern_: let PATTERN = value; match foo { PATTERN1 => ..., PATTERN2 => ...+ }
[19:10:29] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:10:36] <LinearInterpol> Oooh.
[19:10:39] <LinearInterpol> That makes sense.
[19:10:51] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:11:02] <kimundi> patterns can be all sorts of things: constants, names to bind values to, constructors to match the structure of the value being matched on etc
[19:11:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:11:17] <LinearInterpol> Jesus.. this really is flexible.
[19:11:20] <LinearInterpol> Not used to that, in any way.
[19:11:36] <tjc> LinearInterpol: also see http://static.rust-lang.org/doc/master/tutorial.html , "4.2 Pattern matching"
[19:11:38] <tjc> in case that helps
[19:11:49] <kimundi> let s = Some("foo"); match s { Some("bar") => ..., Some("foo") => ..., None => ... }
[19:12:19] <LinearInterpol> jesus that's cool.
[19:12:32] <bascule> heh
[19:12:33] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:12:36] <bascule> <3 pattern matching
[19:12:42] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[19:12:46] <LinearInterpol> So.. question.
[19:13:02] <LinearInterpol> Why would Some(~List(x, _)) => { } work?
[19:13:04] <SingingBoyo> wait since when can arms be mismatched?  I don't even get how that would work.
[19:13:18] <LinearInterpol> SingingBoyo: All arms need to return the same type.
[19:13:22] *** Parts: ptc (Adium@moz-8F01578B.z72-46-65.customer.algx.net) ()
[19:13:26] <LinearInterpol> One was a list, one was an int.
[19:13:33] <SingingBoyo> oh wait
[19:13:35] <Ms2ger> Note that kimundi's example needs another case
[19:13:35] <SingingBoyo> misread that
[19:13:39] <kimundi> LinearInterpol: Why wouldn't it?
[19:13:47] <kimundi> Ms2ger: It does?
[19:13:49] <SingingBoyo> thought kimundi said 'oh wait you can have mismatching arms again'.  whoops
[19:13:52] <LinearInterpol> I.. don't know, I don't exactly know how the things between the parentheses work.
[19:13:52] <kimundi> oh right
[19:13:56] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[19:13:56] <LinearInterpol> Like..
[19:14:01] <kimundi> Some(_) or Some(othervalue)
[19:14:13] <LinearInterpol> ah yes, the "default".
[19:14:28] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:14:52] <LinearInterpol> So effectively with Some(~List(x, _))...
[19:14:56] <LinearInterpol> You're saying.
[19:14:56] <kimundi> LinearInterpol: Okay, bascially everything you can destructure (take apart) in a pattern looks like the the expression that constructed it to begin with
[19:15:09] <LinearInterpol> OH THANK YOU.
[19:15:13] <LinearInterpol> That makes A LOT more sense.
[19:15:25] <kimundi> simpler example: tuples. let (a, b) = (1, 2);
[19:15:29] <LinearInterpol> "Match a "Some" value which has a "List" in it."
[19:15:31] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Input/output error)
[19:15:41] <kimundi> yup - thats the idea ;)
[19:15:44] <LinearInterpol> Jeehehehesus, this is going to take some experimenting.
[19:15:47] *** Joins: ssbr (~ssbr@3246441A.D6CCE4AE.77834EAA.IP)
[19:15:57] <kimundi> :D
[19:16:04] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[19:16:17] <jmgrosen> hmmm
[19:16:33] * kimundi <3 such flexibility
[19:16:56] <LinearInterpol> I love this language. I'm not gonna lie, when you effectively translated a .c and a .h file into a few lines..
[19:17:03] <LinearInterpol> You won me over immediately.
[19:17:33] <kimundi> LinearInterpol: We did what to a .c and .h file? :)
[19:18:02] <LinearInterpol> I'm always re-implementing common datastructures in C.
[19:18:10] <LinearInterpol> And this did my job in less than 30 seconds.
[19:18:18] *** Joins: tikue (tkuehn@268C2DFE.FAD414BA.D74CC41D.IP)
[19:18:33] <kimundi> Ah, so you mean that implementing such a linked list in Rust ammounted to way less code? I can imagine that :)
[19:18:46] <tikue> in the docs for Cell, it says the Cell type "admits only `Pod` data." What is `Pod` data? I've never heard that term before
[19:18:49] <LinearInterpol> Are you kidding?! You saved me near 100 lines!
[19:18:56] <Matthias247> tikue: plain old data
[19:19:06] <tikue> Matthias247: what is plain old data?
[19:19:27] <Matthias247> tikue: basically everything that has a fixed size (int, short, bool, fixed arrays) and structures that only content such things
[19:19:35] <kimundi> LinearInterpol: So, one thing I want to remark is that a linked list becomes even easier to handle if you define it differently that you did :)
[19:19:47] <tikue> Matthias247: ah, ok. 
[19:19:48] <LinearInterpol> I'm scared and interested, tell me more.
[19:20:03] <Matthias247> tikue: so anything without pointers or references to somewhere else. So that you can copy it at once
[19:20:27] *** Quits: moostik (Icedove@moz-2E0A4DA6.minet.net) (Ping timeout)
[19:20:28] <tikue> Matthias247: ok, great. thanks!
[19:20:47] <LinearInterpol> kimundi: Let me guess.. without the option?
[19:20:49] <tikue> and when would you use `Ref` ?
[19:20:51] <kimundi> Instead of struct List<T>(T, Option<~List<T>>), you can define enum List<T>{ Empty, Cons(T, ~List<T>) }
[19:21:04] <LinearInterpol> Oh damn.
[19:21:13] <kimundi> which basically reshuffles the definition to something that combines the List struct and an Option :)
[19:21:15] <LinearInterpol> ..Wait.. let me wrap my head around that.
[19:21:24] <\n> acrichto: is it possible to run just one test instead of all of make check?
[19:21:24] <pzol> destructuring structs SHOULD work right?? https://gist.github.com/8442591
[19:21:36] <acrichto> \n: which component do you want to run
[19:21:52] <acrichto> \n: as in, make check-stage1-std TESTNAME=foo 
[19:22:10] <\n> acrichto: src/test/run-pass/kindck-implicit-close-over-mut-var.rs
[19:22:20] <kimundi> pzol: Well, you don't have a struct there, but a one-element enum. Which _ought_ to be handled the same, but isn't.
[19:22:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[19:22:39] <acrichto> \n: make check-stage1-rpass TESTNAME=kindck
[19:22:46] <\n> acrichto: I moved that test from compile-fail in my current patch.  thanks!
[19:22:52] <LinearInterpol> wooohohoa.
[19:22:57] <LinearInterpol> kimundi: you blew my mind.
[19:23:02] <LinearInterpol> I was _thinking_ of doing that.
[19:23:05] <LinearInterpol> like..
[19:23:06] <acrichto> \n: yeah ingeneral "make <testrule> TESTNAME=substring"
[19:23:13] <pzol> kimundi but besides the compiler error this genreats this ashould work?
[19:23:22] <\n> acrichto: how do you know that that test is in stage1?
[19:23:35] <kimundi> pzol: I don't see why not
[19:23:35] <LinearInterpol> enum List<t>{ Empty, Node(T, ~List<T>) }
[19:23:39] <acrichto> \n: oh that just specifies which compiler you use to build it, it could be any of {0,1,2}
[19:23:52] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Ping timeout)
[19:23:54] <pzol> kimundi thanks :)
[19:24:04] *** Joins: new_one (new_one@6CCB6A53.1DCBF251.B3C0173E.IP)
[19:24:10] <Amaranth> Is there a way to get more information out of rustpkg when it fails to build something?
[19:24:15] <LinearInterpol> So you can constantly do Node<int>(1, ~Node<int>(2, ~Empty))
[19:24:23] <LinearInterpol> Right?
[19:24:37] <\n> acrichto: ok thank you
[19:24:38] <kimundi> LinearInterpol: you mean, construct a constant of that value?
[19:24:40] <SingingBoyo> LinearInterpol: should work, yup
[19:24:45] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[19:24:46] <LinearInterpol> Wow.
[19:24:47] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:24:48] <LinearInterpol> Wow.
[19:24:50] <LinearInterpol> JESUS.
[19:25:01] *** Joins: danikar (danikar@moz-447DB2D6.pv.reshsg.uci.edu)
[19:25:13] <kimundi> LinearInterpol: Slow down a moment please :) what did you mean with "constantly"?
[19:25:19] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[19:25:22] <LinearInterpol> I mean, construct a list using that.
[19:25:35] <Amaranth> Actually nevermind, I forgot rust-sdl2 isn't actually fully rustpkg yet
[19:25:50] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[19:25:56] <kimundi> Ah, constructing works like that, yeah :) - you just can't define a constant of that value, because it involves heap allocations
[19:25:59] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[19:26:00] <danikar> not a rust specific question, in the pointer guide it talks about boxed types in java/ruby vs unboxed types in c, c++, and rust. What does boxed/unboxed mean?
[19:26:01] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[19:26:02] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[19:26:03] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[19:26:23] <kimundi> LinearInterpol: you could even write a macro like list!(1, 2, 3) that expands to that :P
[19:26:25] <Amaranth> danikar: A boxed type is an object while unboxed types are primitives with no overhead
[19:26:42] <LinearInterpol> kimundi: What do you mean, construct a constant of that value?
[19:26:46] <Matthias247> boxed type is allocated on the heap
[19:26:53] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[19:27:04] <kimundi> LinearInterpol: Like, compiletime constant, as opposed to a local variable in a function
[19:27:11] <LinearInterpol> Ohhh.
[19:27:24] <danikar> Amaranth, ah ok, i think i get it
[19:27:26] <LinearInterpol> How do you define a compile time constant?
[19:27:29] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:27:39] <kimundi> static FOO: int = 34;
[19:28:06] <LinearInterpol> Ahhhh.
[19:28:07] <LinearInterpol> static. :)
[19:28:10] <SingingBoyo> LinearInterpol: what kimundi said, they're fairly limited in what you can have though
[19:28:23] *** Joins: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP)
[19:28:27] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[19:28:29] <LinearInterpol> Thank you so much, guys. This has been a real eye-opening experience. I'll be back in a few hours, but you just converted a C programmer to Rust. :)
[19:28:33] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:29:02] * kvark wonders if we hit 500 by the end of this week...
[19:29:06] * kimundi adds another mark to the list
[19:29:23] <kimundi> kvark: at the rate we'Re going, it wouldn'T wonder me :)
[19:29:42] <LinearInterpol> Peace. :)
[19:29:46] <kvark> kimundi: does it scare you even a bit?
[19:30:40] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Ping timeout)
[19:30:52] <kvark> I mean, rust is not quite done yet, and preliminary exponential growth of attention may hurt
[19:31:01] <kimundi> kvark: Well, not directly scaring - having discussions here just becomes increasingly unwieldy ;)
[19:31:06] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[19:31:17] <kvark> yeah, that too... as a consequence
[19:31:26] *** Quits: LinearInterpol (RJones@moz-8A6454A9.ellsworth-hs.ellsworth.k12.me.us) (Ping timeout)
[19:32:09] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[19:32:23] *** Quits: FliPPeh (lukas@moz-DE237B6E.dip0.t-ipconnect.de) (Quit: leaving)
[19:32:27] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:32:46] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[19:33:14] *** Joins: sigma1 (sigma@moz-9EAC972C.range86-184.btcentralplus.com)
[19:33:52] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[19:33:55] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[19:34:06] <kimundi> I'm not sure if much attention hurts - we are upfront with Rust not being done after all
[19:34:27] <pzol> what does "refutable pattern in local binding" mean? for let Foo { b, c } = foo;
[19:34:30] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[19:34:36] *** Joins: FliPPeh (lukas@moz-DE237B6E.dip0.t-ipconnect.de)
[19:34:54] <kimundi> maybe at the point where we released some have drifted away again, but its hard to gauge if that could be considered a problem
[19:34:58] *** Quits: sigma1 (sigma@moz-9EAC972C.range86-184.btcentralplus.com) (Ping timeout)
[19:35:01] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Connection reset by peer)
[19:35:04] *** Quits: FliPPeh (lukas@moz-DE237B6E.dip0.t-ipconnect.de) (Quit: leaving)
[19:35:07] *** Joins: FliPPeh (lukas@moz-DE237B6E.dip0.t-ipconnect.de)
[19:35:11] <kimundi> pzol: Still the same one element enum?
[19:35:32] <pzol> kimundi two element enum now :)
[19:35:52] <SingingBoyo> pzol: it means the pattern on the left side (Foo{b,c}) doesn't match all possible values the right side could have
[19:36:24] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[19:37:01] <kimundi> pzol: Oh well, then the error even is justified :) - let is defined as always succeding - however if your enum is not Foo but the other variant, then it couldn't succedd - in other words the Foo { ... } pattern is _refutable_ as it might not match the value
[19:37:07] <Amaranth> So if I'm understanding the rustpkg manual correctly `rustpkg install github.com/amaranth/rust-sdl2#sdl2` should install the sdl2 package from that git repo into my workspace, right?
[19:37:12] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[19:38:20] <pzol> kimundi https://gist.github.com/pzol/8442591 - is there a way to make it work?
[19:41:34] <kimundi> pzol: not with let - you need to use match
[19:42:08] *** Joins: awidegre1n (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[19:42:26] <pzol> kimundi is that a bug or is that by design?
[19:42:32] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Connection reset by peer)
[19:43:17] <kimundi> pzol: By design
[19:43:25] <pzol> kimundi ok, thanks
[19:43:33] <kimundi> pzol: let would have to be able to fail otherwise
[19:43:44] <Amaranth> Hmm, seems that particular feature of rustpkg doesn't actually work, guess I should try to fix that
[19:44:46] <Tobba> why does use() have to count as a keyword
[19:44:53] <Tobba> the error is really missleading too
[19:45:13] *** Joins: mouse (mouse@moz-32DFB3CF.broadband.corbina.ru)
[19:45:33] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[19:45:59] <wting> Is there a way to mark a PR as ready to be reviewed / merged vs in progress?
[19:46:09] <bstrie> wting: which PR?
[19:46:27] <wting> bstrie: https://github.com/mozilla/rust/pull/11492
[19:46:29] <wting> but more of a general question
[19:46:45] <wting> as opposed to pinging someone everytime something's ready to review
[19:46:51] <mouse> is it possible to match simple enum (consists of u8 values) as u8 ? or what is the best practice to handle wrong input (int) to enum value? using std::task::try is complicated.
[19:47:38] <wting> e.g. `r?` to match `r+`
[19:47:46] <bstrie> wting: pinging someone when you're ready to review is probably the best policy, otherwise nobody remembers to look at your PR!
[19:47:53] <Amaranth> Shouldn't every open PR be in the ready for review state?
[19:48:08] <bstrie> Amaranth: some people like to get preliminary feedback on their PRs
[19:48:09] <wting> Amaranth: sometimes people provide comments / suggestions / fixes
[19:48:10] <bstrie> especially big ones
[19:48:30] <bstrie> Amaranth: e.g. https://github.com/mozilla/rust/pull/11399
[19:48:46] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[19:49:17] <Amaranth> I suppose so, I always figured PRs like that went along with mailing list and/or IRC discussions anyway so they were special
[19:49:50] <a_m0d1> klutzy: I got rust building on windows now.  Turns out I had conflicting versions of mingw stuff installed from an old install, so I did a clean install of it all, and its all good now.
[19:49:57] <a_m0d1> thanks for your help again
[19:50:15] <wting> Amaranth: what about responding to code comments? It's unrealistic to expect every PR will get merged in the first pass.
[19:50:26] <kimundi> mouse: Basically, you need to implement methods that allow safe casting from/to the enum without failure
[19:50:34] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[19:50:49] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[19:50:52] <Jemaclus> I'm determined to figure out this "ar s" thing.
[19:50:57] <kimundi> mouse: We have a derving mode for something like that, but I always forget what its called...
[19:50:59] <Jemaclus> i feel like a crazy person.
[19:51:09] <Amaranth> I forget if the submitter can reopen a PR the maintainer closed
[19:51:10] <mouse> kimundi,  do you have an example?
[19:51:22] <acrichto> Jemaclus: you're running on osx, right?
[19:51:24] *** Joins: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP)
[19:51:27] <Jemaclus> yeah
[19:51:34] <wting> Amaranth: pretty sure they can't, they have to resubmit a new PR which means you lose old PR comments.
[19:51:39] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[19:51:43] <acrichto> Jemaclus: you may want to try just not running "ar s"
[19:51:46] <kimundi> Jemaclus: I know that feel - nothing seems to make sense, then you ragequit, then you do exactly the same thing again and it works - or doesn't :P
[19:51:55] <acrichto> Jemaclus: if I remember right, I think that I only added it b/c of some test failures on linux
[19:52:56] <Jemaclus> acrichto: how do I go about skipping "ar s"?
[19:53:40] <Jemaclus> I tried commenting out the #[crate=rlib] thing that another pull request had, but that cause (revealed?) a whole 'nother mess of errors
[19:53:49] <acrichto> Jemaclus: Jemaclus take a look at Archive::update_symbols
[19:53:56] <acrichto> Jemaclus: or back::link::link_rlib
[19:54:12] <acrichto> that's where the "ar s" command is run
[19:54:20] <acrichto> and in theory you could just not do that if the target is OSX
[19:54:30] *** Quits: awidegre1n (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Connection reset by peer)
[19:54:53] <Jemaclus> all righty. I'll give it a shot.
[19:55:11] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[19:55:21] <kimundi> mouse: #[deriving(FromPrimitive)] enum Foo {A, B, C}; let x: Option<Foo> = FromPrimitive::from_primitive(45u8);
[19:55:42] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[19:55:51] <kimundi> (I hope that works)
[19:56:08] <mouse> thanks, I'll try
[19:56:16] <kimundi> Or: #[deriving(FromPrimitive)] enum Foo {A, B, C}; let x: Option<Foo> = FromPrimitive::from_u8(45u8);
[19:56:32] <kimundi> Not sure which one works
[19:56:38] <kimundi> Or if any at all
[19:57:35] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[19:59:31] *** Joins: ecr (Mibbit@moz-75629356.cs.washington.edu)
[20:00:22] *** Joins: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca)
[20:00:36] <kimundi> erickt: You wrote deriving FromPrimitive, right?
[20:00:43] <erickt> kimundi: yep
[20:00:53] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[20:01:05] <kimundi> erickt: Why is there no ToPrimitive?
[20:01:18] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[20:01:20] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[20:01:23] <erickt> uh... hrm.
[20:01:29] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:01:42] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:01:57] <kimundi> Is it because TOPrimitive is also possible with 'as' for enum variants, and hence there was no need for it?
[20:02:09] *** Joins: jel (jel@A88D090E.775B9CFA.A82F46A.IP)
[20:02:40] <erickt> kimundi: there is a std::num::ToPrimitive
[20:02:52] <kimundi> erickt: I mean a deriving mode for it
[20:03:56] <erickt> kimundi: that probably because I forgot to make it :)
[20:04:08] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[20:05:18] <kimundi> haha, okay - was just curious if there was a specific design reason for it
[20:05:26] *** Joins: Kjelle (karl@moz-58495553.static.spa.siw.siwnet.net)
[20:05:31] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:05:34] *** Quits: jensnockert (jensnocker@moz-272EFCE5.wireless.lu.se) (Input/output error)
[20:05:57] <erickt> kimundi: none that I can remember
[20:06:06] *** Joins: jensnockert (jensnocker@moz-272EFCE5.wireless.lu.se)
[20:06:43] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[20:06:44] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[20:07:09] <jel> Would someone mind looking at this code?  I don't know two things: a) how to get stream.read(buf) to work; and b) what I need for SomeArcType to make it share the stream over threads safely
[20:07:17] *** Joins: nrc|afk (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:07:19] <jel> http://kib2.free.fr/pastebin/view_paste.php?id=174
[20:07:47] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:07:51] *** Kjelle is now known as Zylinski
[20:07:54] *** Quits: jensnockert (jensnocker@moz-272EFCE5.wireless.lu.se) (Ping timeout)
[20:08:01] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[20:08:13] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[20:08:26] *** Quits: vadimg2 (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[20:08:38] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[20:09:11] <pepper_chico> is there a way for ranging over the elements of a vector using the for-in syntax? I'm trying to dereference the element &int but it's throwing "cannot assign to immutable dereference of & pointer"
[20:09:19] <pepper_chico> I mean
[20:09:26] <pepper_chico> ranging and mutating
[20:09:46] <Ms2ger> Nope
[20:09:48] *** Joins: pzol (pzol@moz-553BEE64.dynamic.chello.pl)
[20:09:51] *** Joins: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr)
[20:09:57] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:10:13] <kimundi> pepper_chico: yes
[20:10:22] <Ms2ger> There is?
[20:10:24] <pepper_chico> kimundi, sample?
[20:10:42] <kimundi> pepper_chico: if you iterate over it with a mutable iterator you get &mut references to each element
[20:10:55] <mouse> should I add round brackets for bitwise operations before "as u16" in expr: "(b[2] >> 8) | b[3] as u16" ?
[20:11:03] <pepper_chico> kimundi, I tried that too
[20:11:09] <pepper_chico> same error...
[20:11:16] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:11:18] <kimundi> for p in [1,2,3].mut_iter() { *p += 10; }
[20:11:29] <pepper_chico> aaaah
[20:11:55] <tikue> kimundi: does that work? i'd expect "value does not live long enough" because of rval issue
[20:11:59] <pepper_chico> I tried, let mut it = vec.iter()
[20:12:20] <pepper_chico> but I know that, it is what is mutable with that
[20:12:20] <geal> jel: that's weird. Since you imported std::io::*, you should have std::io::Reader, and TcpStream implements Reader
[20:12:25] <pepper_chico> not the elements
[20:12:33] <pepper_chico> thanks
[20:12:36] <tikue> pepper_chico: if you make an iterator, it always has to be mutable to be able to iterate
[20:12:52] <tikue> `let it = vec.iter(); for el in it { .. }` won't compile
[20:12:57] <kimundi> iter() returns a struct that implements Iterator<&T> - it iterates over immutable references. mut_iter() returns a struct that implements Iterator<&mut T> - it iterates over mutable references
[20:13:12] <pepper_chico> yeah, I checked that too tikue ;-)
[20:13:22] <jel> geal: that's how I thought it should work; that's what solved a similar problem for TcpListener.listen() (using Listener)
[20:13:27] <tikue> pepper_chico: because iterators' next() method mutates the iterator itself, so you can't ever iterate with an immutable iterator
[20:13:35] <mouse> kimundi, failed to find an implementation of trait std::num::FromPrimitive for std::option::Option<mymod::Type>
[20:13:36] <kvark> jel: might be the fact that read() has &self as a reference, but you have a bare *mut pointer
[20:13:48] * pepper_chico recalls c++ container.begin() and container.cbegin() now =)
[20:13:49] <kvark> jel: rust can't borrow a *mut pointer
[20:14:49] <kimundi> mouse: Did you put #[deriving(FromPrimitive)] on your enum?
[20:15:02] *** Quits: ecr (Mibbit@moz-75629356.cs.washington.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[20:15:07] <bstrie> hmm... is it possible to pass a closure by-ref
[20:15:08] <bstrie> ?
[20:15:45] <mouse> kimundi, yes
[20:16:06] <bstrie> I realize that they're already &mut effectively...
[20:16:19] <kvark> jel: What is SomeArcType? looking at extra-arc-Arc, I see that get() returns are reference, not bare pointer
[20:16:32] <jel> kvark: do you mean the mut acceptor?  If I remove the mut, it says "cannot borrow immutable local variable as mutable" on  "let mut stream = acceptor.accept().unwrap()"
[20:16:35] *** Joins: valenting (Thunderbir@moz-EA478749.residential.rdsnet.ro)
[20:16:42] <pepper_chico> so, I suppose strings are imutables and there isn't mut_chars()?
[20:16:53] <jel> kvark: it's a placeholder for whatever type I need to guard access to the stream.  I don't know what type to use yet :)
[20:17:01] <jel> Arc? Cell?
[20:17:28] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[20:17:45] <kvark> jel: my point is: Reader.read can be called on a &mut, but you have *mut, which doesn't fit
[20:18:07] <kvark> I don't know which Arc type you should use, didn't try them myself yet
[20:18:57] <pepper_chico> quick question, what I use for a buffered string?
[20:19:08] <pepper_chico> since strings are imutable
[20:19:09] *** Quits: sankha94 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[20:19:43] <jel> pepper_chico, [u8]?
[20:19:56] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:20:11] *** Joins: vadimg2 (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[20:20:24] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[20:20:29] <Matthias247> ~mut str should be mutable I think?
[20:20:36] *** Parts: \n (uid15310@moz-31ABA2C0.irccloud.com) ()
[20:20:38] *** Quits: Cevn (sameer@moz-57F2D062.v4.wm.edu) (Ping timeout)
[20:21:04] <pepper_chico> let's se
[20:21:04] <kvark> jel: if you use RWArc, you would do stream.write(|s| s.read()) or something, which is valid since the closure argument is &mut TcpStream
[20:21:17] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[20:21:23] *** jld is now known as jld|lunch
[20:21:24] <bstrie> Matthias247: that's not a sane type :P
[20:21:33] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:21:36] <bstrie> we haven't had ~mut for years!
[20:21:36] <Matthias247> bstrie: ok, thought so :)
[20:21:45] <bstrie> and if you meant &mut str
[20:21:53] <bstrie> then that's not a sane type *yet* :)
[20:21:54] <kvark> bstrie: for 1 year maybe, at most :)
[20:21:55] *** Quits: vadimg2 (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[20:22:02] <jel> kvark: ahh, thanks.
[20:22:37] <pepper_chico> Matthias247, there's no such thing as ~mut...
[20:22:46] <Matthias247> I generally find ~str somewhat strange. Because when str is immutable you could also make it a value type (like std::string)
[20:23:03] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[20:23:14] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:23:35] <pepper_chico> it's immutable like strings in a bunch of languages, not like c++ std::string
[20:23:54] <Matthias247> ok, bad sentence from my side :)
[20:24:29] <pepper_chico> [u8] may work but I'm not sure about the compatibilities with str
[20:24:31] <Matthias247> in C# string is immutable like in rust
[20:24:36] <pepper_chico> in arguments, etc
[20:25:02] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[20:25:46] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[20:26:12] *** Joins: Cevn (sameer@moz-57F2D062.v4.wm.edu)
[20:26:43] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[20:27:29] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[20:27:32] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[20:27:33] *** ChanServ sets mode: +ao brson brson
[20:28:30] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[20:29:15] *** Quits: sehugg (sehugg@moz-42540923.res.bhn.net) (Client exited)
[20:29:32] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:29:32] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[20:29:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:30:24] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:31:13] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[20:31:34] *** Quits: pzol (pzol@moz-553BEE64.dynamic.chello.pl) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:34:08] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[20:34:53] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[20:36:00] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Connection reset by peer)
[20:36:37] <Jemaclus> acrichto: somehow still got an "ar s" error, even though I commented out those lines you mentioned. 
[20:36:56] <acrichto> Jemaclus: how so?
[20:37:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:37:53] <Jemaclus> http://mibpaste.com/2NWQSh 
[20:38:04] <Jemaclus> that didn't work. hmm
[20:38:24] *** Joins: amanew (Mibbit@moz-ADF0D6BA.dhcp.inet.fi)
[20:38:55] <acrichto> invalid link?
[20:39:10] <Jemaclus> http://pastebin.com/SAFJ9T3w
[20:39:33] <acrichto> Jemaclus: oh that's stage0
[20:39:38] <acrichto> you didn't modify the compiler past stage0
[20:39:46] <acrichto> so it's still running it b/c it's using the snapshot's rustc
[20:39:51] <acrichto> that's unfortunate...
[20:40:35] <Tobba> is there any way to do something like Number_$t in a macro
[20:40:53] <Tobba> trying to implement a function on numbers that divides rounding up, but I need to implement a trait for each integer type for that
[20:41:01] <kimundi> Matthias247, pepper_chico: ~str is not immutable
[20:41:15] <pepper_chico> kimundi, no?
[20:41:15] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[20:41:59] <kimundi> pepper_chico: ~ inherits the mutability from its owner - so let s = ~"foo"; is a immutable, "frozen" string, while let mut s = ~"foo"; is a mutable, or "thawed" string
[20:42:06] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[20:42:08] <Jemaclus> acrichto: yeah. :(
[20:42:18] <Jemaclus> so what do I do? if anything?
[20:42:22] <Jemaclus> or am I just screwed?
[20:42:33] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[20:42:43] <kimundi> We have the str type as a seperate type to mainatin the "contains utf8" variant - if it where just a ~[u8] you could violate it
[20:42:45] <pepper_chico> ..., I need to take the boxes tutorial again
[20:42:57] <acrichto> Jemaclus: you could make a wrapper script called 'ar' that doesn't shell out to the real 'ar' if the second argument is 's'
[20:43:19] <mouse> doing wrong casting from u8 to u16 leads  to wrong value    let mmm : [u8,..2] = [ 0u8, 200u8 ];
[20:43:20] <Jemaclus> good idea.
[20:43:20] <mouse>       println(format!("prints 0 == ", ((mmm[0] >> 8) | 0) as u16));
[20:43:20] <mouse>       println(format!("prints 255u16 == {}", ((mmm[0] >> 8) | mmm[0]) as u16));
[20:43:23] <Jemaclus> i'll give it a shot.
[20:43:56] <Ms2ger> !
[20:45:10] <Ms2ger> prints 0 == 0
[20:45:10] <Ms2ger> prints 255u16 == 0
[20:45:13] <Ms2ger> mouse, ^
[20:45:22] *** Quits: ssbr (~ssbr@3246441A.D6CCE4AE.77834EAA.IP) (Ping timeout)
[20:45:31] <kimundi> pepper_chico: here isn'T mut_chars for a different reason that mutabilty: a arbitary char gets encoded as anywhere beteen 1 and 4 bytes in utf8 - in other words changing a char in a ~str would potentially require shifting around N-1 bytes of the allocation
[20:45:35] <flaper87> acrichto: thnx for the review
[20:45:37] <kimundi> there isn't *
[20:45:41] *** Joins: nemo (nemo@moz-57FDFA.hsd1.md.comcast.net)
[20:45:46] <nemo> So... in our channel
[20:45:53] <acrichto> flaper87: no problem! and thank you for the patch :)
[20:45:57] <nemo> 15:39 <@unC0Rr> I think port from haskell to rust would be pretty straightforward
[20:46:10] <nemo> which made me think I should look at the language a bit more from a "learning it" perspective
[20:46:15] <o11c> nemo: "our" = ?
[20:46:18] <nemo> I was curious, since the tutorial has warnings...
[20:46:21] <nemo> o11c: hedgewars
[20:46:32] <nemo> https://en.wikipedia.org/wiki/Hedgewars#Languages
[20:46:50] <nemo> is there a point where Rust will stop being "beta" and is it soon?
[20:47:03] <nemo> like, where features might vanish on us, or change syntax
[20:47:05] <kimundi> pepper_chico: Last one, ~str currently _is_ a buffered string - its implemented like ~[u8], that is its a growable vector with a capacity seperate from the length, that allows armortized O(1) append
[20:47:07] <o11c> the way I see it, Rust is kind of like Haskell, but relevant.
[20:47:12] <Ms2ger> nemo, at 1.0 :)
[20:47:13] <mouse> Ms2ger, second statement will output 255 instead of 0
[20:47:18] <kimundi> BUT that will probably change in the future
[20:47:18] <Ms2ger> mouse, not here
[20:47:19] <nemo> Ms2ger: ah. Hi Ms2ger 
[20:47:20] <o11c> nemo: there is no timeline for 1.0 yet
[20:47:25] <Ms2ger>   let mmm : [u8,..2] = [ 0u8, 200u8 ];
[20:47:25] <Ms2ger>   println!("prints 0 == {}", ((mmm[0] >> 8) | 0) as u16);
[20:47:25] <Ms2ger>   println!("prints 255u16 == {}", ((mmm[0] >> 8) | mmm[0]) as u16);
[20:47:25] <nemo> oh :-/
[20:47:30] <nemo> o11c: not even a guess?
[20:47:56] <o11c> nemo: the general idea is: you have auto-rebuilds running against master continuously, and fix the problems as they come up
[20:48:38] <nemo> o11c: that.. is not very friendly to the distros, at all
[20:48:45] <nemo> o11c: unless we bundle rust as well
[20:49:19] <Ms2ger> nemo, at this point, you'd probably have to
[20:49:29] <pepper_chico> kimundi, thanks!, do you work for mozilla, or is a contributor?
[20:49:35] <nemo> Ms2ger: and no rough ETA as to when that would stop?
[20:49:37] <o11c> nemo: oh, right, you're *shipped*. That changes stuff.
[20:49:38] <mouse> Ms2ger, is this macro included in Rust "master"?
[20:49:41] <nemo> o11c: ;)
[20:49:43] <pepper_chico> just curious =)
[20:49:55] <o11c> nemo: well, you could just have every *release* of hedgewars specify a particular rust release ...
[20:49:57] <Ms2ger> mouse, yeah... println as a function was removed
[20:50:01] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[20:50:15] <o11c> nemo: rust releases are fairly regular, about 3 months apart
[20:50:17] <nemo> o11c: bet the distros are still not a fan of that
[20:50:17] <kimundi> pepper_chico: Contributor, but I hung out in this channel way to much the past year ;)
[20:50:23] <nemo> o11c: unless rust packaging is pretty on the ball
[20:50:27] <pepper_chico> ah ok
[20:50:30] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[20:50:38] *** Quits: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[20:50:45] <o11c> nemo: the PPA allows co-installation of all rust versions
[20:50:54] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:50:57] <nemo> cool. ofc, that's just one distro ;)
[20:51:03] <o11c> and there are not enough libraries likely to be shipped yet ... you'll just bundle them.
[20:51:13] <nemo> well. 3 distros maybe
[20:51:35] <o11c> IIRC Arch also has it, but no RPM distro?
[20:51:38] <pepper_chico> kimundi, so I think the growable feature is used for thing like append operations
[20:51:59] <pepper_chico> so append won't create a new string altogether
[20:52:10] <pepper_chico> aways
[20:52:20] <pepper_chico> s/aways/always/
[20:52:26] <mouse> Ms2ger, you mean macro?
[20:52:39] <Ms2ger> mouse, no, the macro is still there
[20:52:49] <kimundi> pepper_chico: Not always - it will reallocate the string occasionally if the capacity fills up
[20:52:59] <pepper_chico> ok
[20:52:59] <o11c> nemo: but anyway ... if you're shipping something that deps on rust, it's the distro's reponsibility to ship it. And they *know* to version langauges.
[20:53:32] <nemo> o11c: well. it is just the server
[20:53:39] <nemo> o11c: some distros don't even bother building our server
[20:53:43] <nemo> using official one is not hard
[20:53:44] <pepper_chico> it's like c++ std::string, but you can't treat it like a vector, indexing chars etc
[20:53:46] <mouse> Ms2ger, but I'm able to use only println function from std::io instead of macro
[20:54:33] *** jld|lunch is now known as jld
[20:54:34] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Ping timeout)
[20:54:42] <geomyidae_> Just use Arch and then thestringer's repo is all you'll need :)
[20:56:24] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:56:44] <jel> So I'm doing "let stream_arc = RWArc::new(stream)", and getting "error: instantiating a type parameter with an incompatible type `&mut std::io::net::tcp::TcpStream`, which does not fulfill `Send+Freeze".  I've tried "use std::kinds::*".  Any other ideas?
[20:56:51] <mouse> Ms2ger, anyway, assert! macro able to track "0" and "255". that is not a println/format problem.
[20:57:28] <geomyidae_> jel: you trying to be able to send/receive on the tcp stream? You probably want the unsafearc instead
[20:58:09] <Ms2ger> mouse, are you on master?
[20:58:09] <geomyidae_> https://github.com/mozilla/rust/issues/11165#issuecomment-32116120
[20:58:22] <Amaranth> Hmm, what did vec::raw::to_mut_ptr() turn in to?
[20:58:39] <Eridius> I think just v.to_mut_ptr()
[20:58:52] <Eridius> ah no, it's v.as_mut_ptr()
[20:58:53] <nemo> o11c: ok. if you can't answer 1.0... since it is on 0.9 - that means the pace of loooong changelogs like here:
[20:58:56] <nemo> https://github.com/mozilla/rust/blob/0.9/RELEASES.txt
[20:58:59] <nemo> will slow right?
[20:59:00] <Eridius> Amaranth: http://static.rust-lang.org/doc/master/std/vec/trait.MutableVector.html#tymethod.as_mut_ptr
[20:59:03] <nemo> o11c: like, from now on is 0.9.1 ?
[20:59:08] <jel> geomyidae, yes.  What does the unsafe imply, exactly?  My goal is to create a stream shared between multiple read/write threads.
[20:59:17] <o11c> nemo: no, 0.10, 0.11, 0.12 at least
[20:59:23] <nemo> oh :-/
[20:59:33] <Amaranth> Thanks
[20:59:36] *** Quits: valenting (Thunderbir@moz-EA478749.residential.rdsnet.ro) (Ping timeout)
[20:59:48] <Eridius> geomyidae_: I'm not convinced that workaround is safe. TcpStream in libgreen is implemented on top of libuv, not the raw socket calls
[21:00:24] <nemo> o11c: hedgewars started at 0.9 'cause he considered it more stable and feature complete than wormux at the time.  It has been on 0.9.x for almost 9 years  :)
[21:00:29] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[21:00:31] <jel> Right, so that would only work if TcpStream didn't hold any data of its own?
[21:00:32] <mouse> Ms2ger, I'm on caf316a31e7de9536b6db834996c67c74c32f53b
[21:00:40] <jel> But just wrapped OS functions?
[21:00:53] <Eridius> jel: sure, if you're using the libnative implementation it's probably safe. But I have no idea what libuv does with it under the hood
[21:01:17] <Ms2ger> mouse, anyway, try writing a test case that fails on master and file an issue?
[21:01:18] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[21:01:25] <jel> Is there an up to date example of a multithreaded tcp server anywhere?
[21:02:03] <mouse> Ms2ger, it's take time to rebuild with one day ahead code, may I write a test-case for the my current?
[21:02:08] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[21:02:10] *** Joins: samx (sami@moz-77A1C177.pp.htv.fi)
[21:02:21] <Ms2ger> Sure
[21:03:05] <pepper_chico> kimundi, I tried to change a character from a let mut s:~str but it didn't work
[21:03:10] *** Quits: jackneill (jackneill@moz-1F46A32A.pool.digikabel.hu) (Ping timeout)
[21:03:10] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[21:03:10] *** ChanServ sets mode: +ao dherman dherman
[21:03:19] <pepper_chico> by using s[0] = [1]
[21:03:26] *** Joins: lennart (lennart@moz-DE70D6F.stanford.edu)
[21:03:34] <kimundi> pepper_chico: Well, that is not possible, for the same reasons I outlined above
[21:03:44] <pepper_chico> ah....
[21:04:00] <pepper_chico> well, so, append and stuff works?
[21:04:10] <kimundi> pepper_chico: That is, it is _implementable_ - but it would be horribly imperformant
[21:04:13] <pepper_chico> I still have to check how to do append
[21:04:16] <kimundi> pepper_chico: yup
[21:04:49] <kimundi> let mut s = ~""; s.push("hello"); or s.push_str("hello"), I forget which one
[21:05:04] <pepper_chico> s/s[0] = [1]/s[0] = s[1]
[21:05:16] <pepper_chico> ok
[21:05:21] <kimundi> (I plan to make push on strings generic so that push('a') and push("foo") would work all the same, but its currently blocked on a bug)
[21:05:38] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[21:05:39] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:05:49] <geomyidae_> jel, not that I'm aware of and at least partially because of the questions you're asking.
[21:06:27] <kimundi> pepper_chico: Look at http://static.rust-lang.org/doc/master/std/str/index.html to see what options you have, especiial the OwnedStr and StrSlice traits
[21:06:32] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:06:36] <pepper_chico> ok
[21:06:38] <jel> geomyidae, I'm asking the wrong questions?
[21:06:47] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[21:06:53] <jel> geomyidae, I mean, probably, but what exactly is wrong? :)
[21:07:06] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:07:57] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:08:01] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[21:08:05] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:08:05] *** ChanServ sets mode: +ao brson brson
[21:08:33] <geomyidae_> Jel sorry. You're asking fine questions, there isn't a good answer yet. I'll send you a link to prior discussion in just a sec when I'm at my desk
[21:09:00] <jel> geomyidae, OK, thanks; I appreciate it :)
[21:09:03] <jel> brb then
[21:10:40] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[21:10:49] *** nrc|afk is now known as nrc
[21:11:19] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[21:11:36] <hoverbear> Yay another rosetta solution! https://github.com/Hoverbear/rust-rosetta/pull/3
[21:14:35] <Eridius> hoverbear: that won't compile on current master ;)
[21:14:52] <hoverbear> Eridius: I'm fairly sure several of them wont compile on current master.
[21:15:00] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:15:41] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Ping timeout)
[21:16:07] <mcpherrin> hoverbear: oo you're collecting rosetta code solutions in Rust?  I'll send a few pulls ;)
[21:16:51] <hoverbear> mcpherrin: Yeah I am! :) I haven't had time to do many myself lately, for now we're not being picky about which version you use or anything. I plan on doing a cleaning and update when Rust 1.0 is released.
[21:17:20] <mcpherrin> hoverbear: I was thinking about doing sometehing similar so it was easy to use rust-ci or something similar to notice when they break
[21:17:37] <mcpherrin> Thus keeping the rosetta code versions up to date with at least the releases
[21:17:45] *** Quits: Kruppe (user@F8BF0D24.9963B395.D02BABA9.IP) (Ping timeout)
[21:17:59] <Eridius> mcpherrin: rust-ci keeps up with nightly, not just the releases
[21:18:06] <nemo> Ms2ger: The main surface difference to be aware of is that the condition at the head of control structures like if and while does not require parentheses
[21:18:24] <hoverbear> mcpherrin: cmr mentioned that too but I didn't look into what's required to set that up. I've been running into the problem that my laptop just despises compiling RUST, thankfully my desktop now runs the same OS so I might be able to make them share the job.
[21:18:24] <nemo> Ms2ger: heh. I was saying that wouldn't be a prob for me at all, pascal and lua have ruined me forever on that one. I keep screwing up my C code
[21:19:06] *** Joins: trinary (Adium@moz-D78CD0D5.hsd1.co.comcast.net)
[21:19:13] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:19:17] <cmr> hoverbear: http://rust-ci.org/help/
[21:19:19] <mcpherrin> Eridius: I was really thinking a cron job of git pull rust && (build rust) && git pull rosetta && (build rosetta)
[21:19:27] <mcpherrin> rather than literally rust-ci :)
[21:19:27] <hoverbear> mcpherrin: I'll probably be throwing up some Data mining algorithms soon. :)
[21:19:29] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[21:19:49] <Ms2ger> nemo, huh?
[21:20:04] <nemo> Ms2ger: I'm studying the tutorial
[21:20:05] <hoverbear> cmr: Looks easy enough. I'll make that a weekend project. :) Thanks!
[21:20:08] <nemo> http://static.rust-lang.org/doc/master/tutorial.html#syntax-basics
[21:20:12] <Ms2ger> Ah
[21:20:37] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:20:49] <nemo> " Floating-point numbers are written 0.0, 1e6, or 2.1e-4. Like integers, floating-point literals are inferred to the correct type."
[21:20:54] <nemo> pretty sure 0.9 removed that
[21:21:31] <Eridius> removed which part?
[21:21:49] <Eridius> because it certainly seems to work for me
[21:22:13] * Eridius misses rusti
[21:22:28] * FreeFull misses rusti too. So easy to test and demonstrate things
[21:22:30] <mcpherrin> rusti is gone again!? :-(
[21:22:33] <mcpherrin> it was back briefly!
[21:22:38] <nemo> Eridius: oh. maybe I misunderstood, but, I thought 0.9 removed float in preference of f32 and f64
[21:22:42] <nemo> Eridius: top bullet point
[21:22:50] <nemo> keep in mind, I only seriously started looking at rust minutes ago ;)
[21:23:00] <Eridius> nemo: float is gone, there's only r32 and r64, but your quoted bit says "Floating-point numbers"
[21:23:07] *** Quits: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca) (Quit: Taking a nap.)
[21:23:11] <FreeFull> You mean f32 and f64?
[21:23:14] <Eridius> ..yes
[21:23:16] <Eridius> stupid keyboard
[21:23:22] <nemo> Eridius: erm.  Floating-point numbers are written 0.0, 1e6, or 2.1e-4. Like integers, floating-point literals are inferred to the correct type. Suffixes f32, and f64 can be used to create literals of a specific type.
[21:23:31] <FreeFull> I don't see how you'd blame the keyboard for that
[21:23:36] <trinary> there's this by Tony Arcieri? https://github.com/tarcieri/irust
[21:23:37] <nemo> but. I guess I misunderstood
[21:23:39] <mcpherrin> I think I will run a backup rusti.  When I get home from work :)
[21:23:42] <Eridius> nemo: that's still true. Without a suffix it will be inferred to either f32 or f64 based on how it's used
[21:23:43] <nemo> I thought that meant always required, but I suppose not
[21:23:46] <Eridius> FreeFull: shush
[21:23:46] <nemo> aight
[21:23:51] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[21:24:58] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[21:24:58] <FreeFull> I like writing software basically in the REPL
[21:24:59] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:25:11] <FreeFull> Yay, rusti
[21:25:13] <Eridius> rust doesn't have a REPL
[21:25:22] <Eridius> the rusti here in the channel compiles each submitted line independently
[21:25:26] <FreeFull> I mean in general
[21:25:27] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[21:25:32] <FreeFull> For languages that have a REPL
[21:25:40] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[21:26:36] <nemo> Eridius: rusti is a commandline interpreter?
[21:26:48] <mcpherrin> nemo: An IRC bot that ran snippets of rust code
[21:26:50] <Eridius> nemo: it used to be, but it was terrible and was killed. It's also the name of an irc bot that normally hangs out here
[21:26:51] <nemo> ahh
[21:27:00] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:27:02] <nemo> Eridius: here's my C "commandline" :)
[21:27:02] <nemo> alias cstdin='gcc -pedantic -ansi -Wall -o ~/.stdin ~/.stdin.c -lm && ~/.stdin'
[21:27:08] *** Joins: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP)
[21:27:32] <FreeFull> rusti: 3+4
[21:27:32] <nemo> Eridius: http://m8y.org/tmp/stdin.c.txt
[21:27:33] <mcpherrin> http://csclub.uwaterloo.ca/~mimcpher/rusti is mine
[21:27:37] -rusti- 7
[21:27:43] <FreeFull> Ok, it did take 6 seconds
[21:27:45] *** Joins: mib_8xdrym (Mibbit@moz-E1FF077C.rev.numericable.fr)
[21:27:52] <nemo> rusti: 2**2**2**2**2**2
[21:27:57] -rusti- pastebinned 19 lines of output: http://ix.io/9SI
[21:28:02] <nemo> woah
[21:28:04] <nemo> hm
[21:28:06] <nemo> need more powers
[21:28:09] *** Quits: mib_8xdrym (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:28:12] *** Quits: samx (sami@moz-77A1C177.pp.htv.fi) (Quit: This computer has gone to sleep)
[21:28:12] <nemo> rusti: 2**2**2**2**2**2**2**2**2**2
[21:28:15] -rusti- pastebinned 31 lines of output: http://ix.io/9SJ
[21:28:18] <nemo> nice
[21:28:18] <FreeFull> That's not what powers look like in Rust
[21:28:21] <nemo> ohhh
[21:28:30] <nemo> hum
[21:28:31] <FreeFull> I think it's parsing it as multiplication + dereference
[21:28:34] * nemo checks syntax guide
[21:28:37] <aatch> We don't have a power operator
[21:28:44] <nemo> boo
[21:28:50] <FreeFull> rusti: pow(3,4)
[21:28:52] <mcpherrin> they're integers and you're using power of two
[21:28:54] -rusti- pastebinned 7 lines of output: http://ix.io/9SK
[21:28:55] <mcpherrin> rusti: 2 << 2
[21:28:57] -rusti- 8
[21:29:04] <FreeFull> rusti: 2 << 2 << 2 << 2
[21:29:05] -rusti- 128
[21:29:15] <FreeFull> Ok, grouped in that way then
[21:29:21] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[21:29:24] <nemo> rusti: pow(pow(pow(pow(pow(2,2),2),2,2,2,2)
[21:29:25] <FreeFull> rusti: 2 << (2 << (2 << 2))
[21:29:27] <mcpherrin> rusti: 1u64 << 63
[21:29:28] -rusti- pastebinned 9 lines of output: http://ix.io/9SL
[21:29:28] -rusti- 0
[21:29:28] -rusti- 9223372036854775808u64
[21:29:29] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[21:29:45] <WebeWizard> so guys. what text editors are you using?
[21:29:48] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[21:29:52] <mcpherrin> WebeWizard: `ed`
[21:29:53] <nemo> WebeWizard: gvim ♥
[21:30:02] <aatch> since it doesn't map to a simple instruction, it's not a simple expression
[21:30:04] <WebeWizard> i tried the rust plugin for eclipse, and found it nightmarish
[21:30:07] <aatch> WebeWizard, gvim
[21:30:14] <mcpherrin> Emaaaaaaaacs
[21:30:18] <nemo> oups
[21:30:22] <nemo> screwed that up
[21:30:23] <nemo> grrr
[21:30:24] <FreeFull> rusti: exp2(63) as u64
[21:30:27] -rusti- pastebinned 7 lines of output: http://ix.io/9SM
[21:30:27] <nemo> damn nesting
[21:30:40] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[21:30:43] <nemo> rusti: pow(pow(pow(pow(pow(pow(2,2),2),2),2),2),2)
[21:30:44] <FreeFull> rusti: std::num::exp2(63) as u64
[21:30:48] -rusti- pastebinned 22 lines of output: http://ix.io/9SN
[21:30:48] -rusti- pastebinned 6 lines of output: http://ix.io/9SO
[21:30:51] <FreeFull> nemo: There is no pow function
[21:31:03] <FreeFull> rusti: std::num::exp2(63) as f64
[21:31:05] <nemo> 16:28 < FreeFull> rusti: pow(3,4)
[21:31:06] -rusti- pastebinned 6 lines of output: http://ix.io/9SP
[21:31:13] <FreeFull> nemo: Yeah, and it produced an error
[21:31:16] <nemo> ahh
[21:31:19] <nemo> grr
[21:31:36] <FreeFull> rusti: std::num::exp2(63.0) as f64
[21:31:37] -rusti- 9223372036854776028f64
[21:31:48] <amanew> Hi. How can I map elements from a vector to an existing vector (to avoid unnecessary allocations)?
[21:31:51] <Jemaclus> acrichto: hurray, it got built! now lets see if make install works... :p
[21:32:15] <aatch> amanew, use move_iter if you don't need the original vector
[21:32:43] <kimundi> aatch: That will deallocate the vector
[21:32:45] <amanew> I do want to preserve the original
[21:33:01] <Jemaclus> holy crap, it worked
[21:33:02] <kimundi> amanew: Okay, then jsut call .map() on the vector
[21:33:02] <Jemaclus> :D
[21:33:03] <FreeFull> Is the existing vector mutable?
[21:33:05] <Jemaclus> acrichto: thank you!
[21:33:11] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[21:33:11] <amanew> both vectors are mutable
[21:33:14] <acrichto> Jemaclus: interesting! wanna make a PR?
[21:33:14] <kimundi> Jemaclus: Does Rust work now?
[21:33:27] *** Quits: nkoep (nik@moz-6FBBB63B.pool.mediaways.net) (Ping timeout)
[21:33:33] <kimundi> amanew: wait, _Both_? you mean you have the second vector already?
[21:33:38] <aatch> amanew, oh, an *existing* vector.
[21:33:38] <Jemaclus> acrichto: I would love to. I'll do it in a few :)
[21:33:43] <amanew> yes
[21:33:43] <Jemaclus> kimundi: yep, huzzah
[21:33:48] <acrichto> Jemaclus: thanks!
[21:33:56] <FreeFull> kimundi: Two vectors, one with the input data and one for the output
[21:34:04] <aatch> Then probably just using `.iter().enumerate()`
[21:34:09] <Jemaclus> acrichto: no, thank you. I've been working on this for 3 days straight. lol
[21:34:25] <aatch> there's no specific method for it, since it doesn't come up much
[21:34:28] <kimundi> amanew: targetvec.expand(sourcevec.iter().map(|refToElem| { ... }));
[21:34:44] *** Joins: nkoep (nik@moz-C88D09B8.pool.mediaways.net)
[21:34:53] <amanew> i'll look that up; thanks
[21:35:05] <kimundi> aatch: There is a specific method for expanding a container with an iterator
[21:35:43] <aatch> kimundi, so there is
[21:35:49] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[21:36:02] <nemo> FreeFull: I'd meant to do something like echo "2^2^2^2^2" | gp only larger to see what happened
[21:36:05] <nemo> but oh well
[21:36:08] <Eridius> kimundi: I was literally just looking for this 1 minute ago. I don't see .expand in the docs
[21:36:24] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:36:29] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[21:36:32] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:36:35] <kimundi> ... It might be extend
[21:36:40] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Connection reset by peer)
[21:36:40] <FreeFull> nemo: I don't think Rust has built-in bignums
[21:36:44] <nemo> ahhh
[21:36:48] <FreeFull> You'd probably have gotten 0 or something like that
[21:36:51] <nemo> aight
[21:36:54] <Eridius> ah hah, extend
[21:37:19] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Ping timeout)
[21:37:28] <nemo> rusti: std::num::exp2(std::num::exp2(std::num::exp2(std::num::exp2(std::num::exp2(std::num::exp2(2))))))
[21:37:29] <jel> nemo: extra has bigInt
[21:37:30] -rusti- pastebinned 6 lines of output: http://ix.io/9SQ
[21:37:37] <kimundi> rusti: version
[21:37:39] -rusti- "rustc 0.10-pre (db7b9a3 2014-01-15 02:09:57 -0500)"
[21:37:45] <FreeFull> Yeah, there is a bigint in extra, but not included by default
[21:38:03] *** Joins: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de)
[21:38:03] <nemo> fair 'nuff
[21:38:34] <FreeFull> rusti: extra::bigint::ToBigInt::to_bigint(3)
[21:38:37] -rusti- pastebinned 7 lines of output: http://ix.io/9SR
[21:38:52] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[21:38:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:39:05] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:39:14] <jel> I earlier noticed that you can do FromStr::from_str("255.255.255.255") and get an Ipv4Addr.
[21:39:16] <FreeFull> rusti: use extra; 3 as BigInt
[21:39:17] <jel> How does that work?
[21:39:18] -rusti- pastebinned 7 lines of output: http://ix.io/9SS
[21:39:27] <FreeFull> rusti: use extra; 3 as bigint
[21:39:29] -rusti- pastebinned 7 lines of output: http://ix.io/9ST
[21:39:32] <Eridius> jel: you can actually just say from_str(). It's in the prelude IIRC
[21:39:32] <FreeFull> Hmm
[21:39:39] <Eridius> jel: and it works because it's generic on the return type
[21:39:44] <FreeFull> rusti: use extra::bigint; 3 as BigInt
[21:39:46] -rusti- pastebinned 7 lines of output: http://ix.io/9SU
[21:39:47] <jel> Eridius: ahh.
[21:40:05] <Eridius> rusti: let x: i32 = from_str("54").unwrap(); println!("{}", x);
[21:40:06] -rusti- 54
[21:40:06] -rusti- ()
[21:40:35] <Eridius> rusti: let x: bool = from_str("true").unwrap(); x
[21:40:36] -rusti- true
[21:40:46] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Connection reset by peer)
[21:40:48] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[21:40:58] <Eridius> rusti: let x: Path = from_str("/foo/bar/baz"); x.display()
[21:41:00] -rusti- pastebinned 9 lines of output: http://ix.io/9SV
[21:41:02] <jel> Eridius: but does it actually parse the string and find a matching type, or does it just use FromStr for Ipv4Addr because you haven't included other FromStr impls, and so there's no need to disambiguate?
[21:41:08] *** Joins: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca)
[21:41:09] <Eridius> rusti: let x: Path = from_str("/foo/bar/baz").unwrap(); x.display()
[21:41:11] -rusti- pastebinned 18 lines of output: http://ix.io/9SW
[21:41:13] <jel> I'm guessing it's the latter, now that I think about it :)
[21:41:15] <Luqman> jel: https://github.com/mozilla/rust/blob/master/src/libstd/io/net/ip.rs#L325
[21:41:17] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:41:28] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:41:32] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:41:38] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[21:41:44] <Eridius> jel: it requires the return type to be constrained to some valid type that implements FromStr. Otherwise it will be ambiguous
[21:41:49] <Eridius> rusti: let x = from_str("ambiguity!"); x
[21:41:52] -rusti- pastebinned 6 lines of output: http://ix.io/9SX
[21:42:20] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[21:42:32] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[21:42:32] *** ChanServ sets mode: +o jdm
[21:42:32] <jel> It just worked for me, but I assume that's because I'd specifically used network packages, and not much else?
[21:42:43] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:43:16] <Luqman> jel: you can implement FromStr yourself and have it returned whatever structure
[21:43:30] <jel> Eridius, Rust doesn't do any kind of whole-function type determination, does it?  I mean, if I do let x = from_str(...) and later bind(x), that doesn't tell it that I must want something that impls bind() right?
[21:44:05] <nemo> minor site manual request.  add background-color: white;  to rust.css on line 15
[21:44:07] <strcat> rusti: let mut xs = ~[]; xs
[21:44:09] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[21:44:11] <strcat> rusti: let mut xs = ~[]; xs.push(5); xs
[21:44:12] -rusti- ~[5]
[21:44:20] <jel> Luqman, yep, I understand that part, but I'm trying to figure out when it chooses the structure if you don't specify.  x = from_str("a.b.c.d") worked for me.
[21:44:22] <nemo> Ms2ger? is that in your powers?
[21:44:27] <jel> Which is both nice, AND scary :)
[21:44:34] <strcat> jel: it certainly does HM type inference
[21:44:34] <aatch> jel, type inference is done at the function level.
[21:44:39] <Ms2ger> nemo, nope :)
[21:44:53] <strcat> jel: as shown by that little example with rusti above
[21:44:55] <jel> strcat, aatch: ahh, sweet :)
[21:44:56] *** Joins: kvanb (kvanb@moz-2C33D4E6.lnse3.lon.bigpond.net.au)
[21:45:03] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[21:45:17] <aatch> Which is simpler than Haskell's whole-program type inference
[21:45:22] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:45:38] <strcat> but rust has subtyping via lifetimes
[21:45:43] <strcat> and eventually subtyping via trait objects
[21:46:32] <nemo> strcat: does rusti have that?
[21:46:38] <SiegeLord> When something doesn't infer, is it a bug in the implementation of HM or a bug in HM itself?
[21:46:39] <strcat> hm?
[21:46:44] <nemo> strcat: subtyping via trait objects
[21:46:52] <strcat> rusti is just rust
[21:46:59] <nemo> strcat: ok. but latest build right
[21:47:00] * strcat confused
[21:47:04] <nemo> so newer than release features
[21:47:10] <jel> aatch, yeah, whole-program is nice, but I can't see how it would work with cross-language libs, API guarantees, etc.  I guess maybe encode types in libs and then the program being compiled has to conform to that type, but... well, I guess I prefer functions to have explicit types, so I know what I'm doing :)
[21:47:18] <strcat> nemo: well master is the only supported 'release' in all honestly ;p
[21:47:23] <strcat> honesty*
[21:47:25] <nemo> wheeee
[21:47:37] <strcat> trait objects don't yet coerce to supertraits
[21:47:39] <nemo> strcat: obv not an option for us if we wanted to use distro packages :)
[21:48:02] <strcat> nemo: well, I package rust 0.9 for the official arch repos and also have a nightly rust-git package
[21:48:04] <strcat> *shrug*
[21:48:30] <strcat> which rusti can't actually use anymore because it needs a patch applied
[21:48:38] <aatch> jel, well Rust encodes type info in the libs, but making type-checking local-only makes dealing with stuff like generics much, much easier.
[21:49:19] <aatch> jel, and also, like you said, understanding code is much easier with the type declarations.
[21:49:28] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[21:49:29] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Client exited)
[21:49:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:49:35] <strcat> jel: I think rust omits it because graydon considered it a Bad Thing and the Haskell convention is already to annotate all of the top-level type signatures
[21:49:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[21:50:15] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[21:50:16] <jel> aatch, yep.  I like explicitly typed code.  I just don't want to be repeating myself like I do in C++: Window* window = new Window(..).  Gahh.  ;)
[21:50:35] <strcat> jel: well... that's not really how you're write C++
[21:50:40] <strcat> Window foo(bar, baz);
[21:50:42] <aatch> Also, from my admittedly limite experience, Haskell type errors are confusing because they end up being non-local.
[21:50:47] <strcat> or `auto foo = get_window();`
[21:50:55] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[21:50:56] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[21:50:56] <aatch> limited*
[21:50:59] <jel> In c++11, sure
[21:51:06] <strcat> just doesn't do actual inference, only leaving out the type of the RHS expr
[21:51:22] <strcat> jel: C++11 is C++ ;p
[21:51:27] <aatch> I think Java is getting 'auto' at some point.
[21:51:42] <FreeFull> strcat: What about in c#?
[21:51:45] <strcat> clang and gcc are both complete C++11 compilers, in fact clang is a complete (draft) C++14 compiler
[21:51:49] <jel> Once everyone catches up :)  But I guess Rust has more catching up to do, so I'll shut up now :)
[21:51:54] <strcat> FreeFull: not type inference, just the same as C++ auto
[21:51:54] <aatch> FreeFull, `var foo = ...`
[21:52:15] <FreeFull> Well, ok
[21:52:16] <strcat> jel: but anywhere you'd use rust, you could use C++11 ;p
[21:52:23] <jel> My company is still on rhel 5.5 :/
[21:52:31] <strcat> C++14 is about as available as rust ;p
[21:52:37] <FreeFull> I'm not sure var is that popular though
[21:52:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[21:52:47] *** Quits: Cevn (sameer@moz-57F2D062.v4.wm.edu) (Ping timeout)
[21:52:57] <strcat> auto actually *had* to be added to C++
[21:53:00] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:53:04] <strcat> because unboxed closures have unspeakable types
[21:53:13] *** Quits: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr) (Ping timeout)
[21:53:26] *** Joins: Jesin (Jesin@moz-C1EBF9B4.dept.lehigh.edu)
[21:53:27] <nemo> aatch: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4459053
[21:53:31] <strcat> so whether or not you like it, you have to use it if you want to use closures without needless boxing ;p
[21:53:38] *** sam113101 is now known as sam113101_afk
[21:53:48] <strcat> and they added return type inference in C++14 with the same logic
[21:53:57] <strcat> it's required to return an unboxed closure ;p
[21:54:07] <nemo> aatch: auto is bad for you apparently
[21:54:18] <aatch> nemo, that was almost 13 years ago
[21:54:18] <jel> I actually do use C++11 and auto, for the reason I mentioned: hating declaring types, but I have a bit more leeway than most devs at work
[21:54:32] <nemo> aatch: wasn't reopened tho
[21:54:40] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:54:52] <nemo> jel: starbound uses C++11 and auto heavily :)
[21:54:58] <nemo> and gcc
[21:55:09] <Tobba> didnt starbound have a 600MB exe on windows too
[21:55:13] <Tobba> with "debugging info"
[21:55:16] <nemo> heh
[21:55:23] <nemo> Tobba: stripped, it is pretty tiny
[21:55:32] <strcat> auto foo = bar(); baz(foo);
[21:55:36] <Tobba> I have no idea how they managed to fuck that up, but theres no way they properly managed to put debug info into that
[21:55:36] <strcat> not really any more inference than...
[21:55:37] <nemo> Tobba: the opengl one was stripped
[21:55:40] <strcat> baz(bar())
[21:55:44] <SingingBoyo> is there any chance I can grab the rusti and set it up on my own vm or something?  seem to have wanted it a lot lately and it hasn't been here :(
[21:55:54] <nemo> Tobba: you can compare sizes of the 2 in the windows release
[21:55:58] <strcat> SingingBoyo: sure, but 99% of what it provides is sandboxing
[21:56:16] <strcat> SingingBoyo: https://github.com/thestinger/playpen underlying code, https://github.com/thestinger/rust-playpen frontend
[21:56:21] <nemo> Tobba: also, more like 350MB I think
[21:56:26] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:56:28] <strcat> https://github.com/thestinger/rust-playpen/blob/master/bin/irc.sh that's all it runs in the sandbox
[21:56:31] <Tobba> yeah something like that
[21:56:39] <strcat> if you don't care about the sandboxing it's the only relevant part ;p
[21:56:42] <SingingBoyo> sthttps://github.com/thestinger/playpenttps://github.com/thestinger/playpen 
[21:56:44] <SingingBoyo> whoops
[21:56:46] <SingingBoyo> hmm
[21:56:47] <nemo> Tobba: 10MB stripped
[21:56:48] <Tobba> thats like LLVM with debug info twice over though
[21:56:51] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[21:57:13] <Tobba> 10MB stripped also sounds kinda rediclous for what it is
[21:57:29] <FreeFull> 340MB debug info?
[21:58:50] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[21:58:53] <nemo> Tobba: not including server ofc
[21:58:56] *** Quits: mhoye (mhoye@moz-C14EAE67.vs.heavycomputing.ca) (Ping timeout)
[21:58:57] *** Quits: tikue (tkuehn@268C2DFE.FAD414BA.D74CC41D.IP) (Quit: tikue)
[21:59:33] *** Joins: tikue (tkuehn@268C2DFE.FAD414BA.D74CC41D.IP)
[21:59:37] <nemo> Tobba: 8MB for server, server unstripped just shy of 250MB, so I guess if you add the two together you get almost 600
[22:00:02] <Tobba> right
[22:00:02] <strcat> parts of LLVM are written in C++11 and LLVM itself will be soon ;p
[22:00:13] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:00:23] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[22:00:31] <Tobba> at some point I'll have to port rustc to my system
[22:00:34] <Tobba> thats gonna be interesting
[22:00:47] <mcpherrin> "your system"?
[22:00:54] <Tobba> building a kernel
[22:00:58] *** Quits: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP) (Client exited)
[22:01:03] <Tobba> in rust
[22:01:08] <nemo> Tobba: well. for one thing, the naming is really really verbose
[22:01:21] *** Joins: moostik (Icedove@moz-53E05E9C.w92-151.abo.wanadoo.fr)
[22:01:53] <nemo> Tobba: from strings...
[22:01:54] <nemo> _ZNSt10_HashtableIN4Star6StringESt4pairIKS1_jESaIS4_ENSt8__detail10_Select1stESt8equal_toIS1_ENS0_4hashIS1_vEENS6_18_Mod_range_hashingENS6_20_Default_ranged_hashENS6_20_Prime_rehash_policyENS6_17_Hashtable_traitsILb1ELb0ELb1EEEE21_M_insert_unique_nodeEmmPNS6_10_Hash_nodeIS4_Lb1EEE
[22:02:04] <Tobba> oh god what
[22:02:14] *** Joins: mhoye (mhoye@moz-C14EAE67.vs.heavycomputing.ca)
[22:02:20] <SingingBoyo> whoa
[22:02:27] <Zylinski> Pretty psyched about rust. Looked a bit at D as a replacement for my C++ needs, but it wasn't different/good enough to justify actually using it. Rust feels like right up my alley :)
[22:02:28] <Tobba> yeah uh
[22:02:32] <Tobba> that shouldent add up to that much
[22:02:34] <Tobba> but holy shit
[22:02:37] <trinary> ahhh, C++ symbol mangling.
[22:02:39] *** jorendorff is now known as jorendorff_away
[22:02:42] <mouse> how to get an actual number of read bytes by BufferedStream::read_bytes(len) function?
[22:02:55] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[22:03:02] <strcat> nemo: rust symbols are worse ;]
[22:03:06] <nemo> Tobba: true. hrm.  strings piped to wc is only one million characters
[22:03:08] <strcat> far worse.
[22:03:22] <strcat> as the rust ones can't always be turned back into some path to identify where it came from
[22:03:26] <Tobba> hah, thats really massive too
[22:03:28] <bstrie> transmute requires both types to be the same size, right?
[22:03:33] *** Quits: claudiu (claudiu@moz-D5BFAAB5.hsd1.ca.comcast.net) (Ping timeout)
[22:03:37] <kimundi> bstrie: yes
[22:03:48] <nemo> Tobba: most of it does seem to be functions
[22:03:57] <Tobba> interesting
[22:04:30] <nemo> Tobba: I take it you didn't buy the game, or you would have run strip and strings yourself :)
[22:04:40] <Tobba> I dont have it atm
[22:04:44] <Tobba> but yes
[22:04:59] <Tobba> + not on linux atm, so I'd have to do it through MinGW, eugh
[22:05:35] <nemo> ew
[22:05:43] <nemo> yeah, only have it on linux
[22:05:48] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[22:05:49] <nemo> the stripping of the opengl one is from hearsay
[22:06:23] <Tobba> only reason I remember the size is because someone posted about it on the FP programming thread then everyone was weirded out for two pages
[22:06:33] <dbaupp> strcat: __extensions__ is mostly gone now
[22:07:07] <nemo> Tobba: wonder how large the stack can get
[22:07:10] * nemo attaches gdb
[22:07:25] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:07:28] <Tobba> I think linux lets you go to a few MB
[22:07:29] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:07:52] <Tobba> iirc its a setting at kernel compile time
[22:07:53] *** Joins: kphelps (kphelps@858F33C0.15D9BE54.9510F13D.IP)
[22:08:00] <nemo> Tobba: I mean in starbound :)
[22:08:00] <trinary> the mac starbound executable is 16 meg, guess that one is properly stripped.
[22:08:11] <nemo> trinary: well. less useful from a dev perspective :)
[22:08:17] <Tobba> nemo: ah
[22:08:23] <trinary> it does have a lua interpreter embedded, that might account for some of the size.
[22:08:51] <Tobba> that would explain some things if it was LuaJIT
[22:09:05] <trinary> not sure, but I did spot some .lua in the assets directories.
[22:09:21] <nemo> trinary: yeah, AI seems to be mostly lua, although, clearly engine is doing a fair amount of heavy lifting
[22:09:33] *** Quits: amanew (Mibbit@moz-ADF0D6BA.dhcp.inet.fi) (Quit: http://www.mibbit.com ajax IRC Client)
[22:09:57] *** jorendorff_away is now known as jorendorff
[22:10:04] <nemo> Tobba: reading object DB on startup is 28 deep. that's kinda high for a game I'd say
[22:10:36] *** Joins: ssbr (~ssbr@2ABF3B40.D6CCE4AE.77834EAA.IP)
[22:10:38] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[22:10:46] <Tobba> 28 megs?
[22:11:00] <nemo> Tobba: just bt
[22:11:03] <Tobba> oh
[22:11:05] <nemo> Tobba: all the way down to libpng
[22:11:15] <nemo> interrupting it to see what it does
[22:11:15] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[22:13:29] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:13:39] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[22:17:23] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:20:26] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:21:39] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[22:21:45] <flaper87> rusti: for a in range(1, 2) {}
[22:21:46] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[22:21:47] -rusti- <anon>:10:13: 10:14 warning: unused variable: `a`, #[warn(unused_variable)] on by default
[22:21:47] -rusti- <anon>:10         for a in range(1, 2) {}
[22:21:47] -rusti-                       ^
[22:21:47] -rusti- ()
[22:21:59] <flaper87> what's the best way to do that when I don't need a ?
[22:22:14] <flaper87> just while? or is there a more rust-like way to do it?
[22:22:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:22:31] <FreeFull> I think you can use _ instead of a
[22:22:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[22:22:41] *** Joins: newbie (kvirc@moz-9FCEEC68.dip0.t-ipconnect.de)
[22:22:43] <FreeFull> rusti: for _ in range(1, 2) {}
[22:22:44] -rusti- ()
[22:22:48] <FreeFull> Yep
[22:22:48] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:23:02] <flaper87> FreeFull: ah right _! Thanks 
[22:23:05] *** Quits: simlay (name@moz-490DE04A.amandrai.net) (Quit: Lost terminal)
[22:23:13] <flaper87> cheers
[22:23:33] *** Joins: tjc (tjc@1C4BED8B.36F4E7CF.284344F5.IP)
[22:23:33] *** ChanServ sets mode: +o tjc
[22:23:42] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:24:34] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: computer sleeping)
[22:25:05] <nemo> "
[22:25:06] <nemo> To be 100% static, 100% safe, 100% reflective, or too dogmatic in any other sense. Trade-offs exist."
[22:25:09] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[22:25:10] <nemo> I assume there's a "not" missing
[22:25:11] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[22:25:31] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[22:25:47] *** Joins: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[22:25:54] <FreeFull> nemo: Where?
[22:26:02] *** Quits: Ferreus (ferreus@moz-851A5578.pools.arcor-ip.net) (Quit: WeeChat 0.4.3-dev)
[22:26:02] <FreeFull> What's the context?
[22:26:18] <nemo> http://static.rust-lang.org/doc/master/complement-project-faq.html
[22:26:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:26:23] <nemo> oh
[22:26:24] * nemo fails
[22:26:26] <nemo> non-goals
[22:26:27] * nemo blushes
[22:27:33] *** Quits: vadimg (vadimg@BCFFDE00.DF0A212.39C00A7A.IP) (Ping timeout)
[22:27:35] <FreeFull> "To cover the "systems language" part all the way down to "writing an OS kernel"." But it works fine for that
[22:28:19] <FreeFull> You could argue it'll be better than C for that
[22:28:28] <strcat> it's out-of-date
[22:28:38] <strcat> likely predates borrowed pointers and unique pointers
[22:29:08] *** Joins: logicalparadox (logicalpar@7726D6BC.E47643E6.AF265B38.IP)
[22:29:22] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[22:29:54] <newbie> what's out of date?
[22:30:03] <mcpherrin> the document nemo linked at 2:26
[22:31:21] *** Quits: Reisen (m@moz-A0F67AD4.org) (Connection reset by peer)
[22:31:34] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:31:35] <mcpherrin> that document really does look 0.3ish
[22:31:37] *** Joins: int3_ (int3_@B9C75F30.B8DE573D.EC6C369A.IP)
[22:32:27] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[22:32:28] *** ChanServ sets mode: +ao brson brson
[22:32:35] <mcpherrin> or more likely initial public release, but I'm not sure when that happened
[22:33:18] <jel> Anyone know how reliable the freebsd port is?
[22:33:35] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Ping timeout)
[22:33:38] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[22:33:39] <mcpherrin> jel: I don't even know if it works right now :-)
[22:33:46] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[22:33:47] <jel> And if linux rust works OK on kfreebsd?
[22:34:11] <jel> *builds ok
[22:34:14] <mcpherrin> jel: I don't think there are many if any current developers using freebsd so you're flapping in the wind a bit
[22:34:23] <jel> OK
[22:34:25] <jel> Thanks.
[22:34:44] <mcpherrin> It might work.  Pull requests are welcome :)
[22:34:59] <jel> I just get tempted to ditch linux when sound suddenly stops working etc. :)
[22:35:09] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:35:37] <FreeFull> I never had sound suddenly stop working
[22:36:10] <mcpherrin> Never? You must be new :)
[22:36:29] <aatch> I haven't had sound problems in years
[22:36:29] <FreeFull> Only started using linux in 2006/2007
[22:36:30] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[22:36:37] *** Joins: findow (Mibbit@moz-77C998AC.hsd1.ct.comcast.net)
[22:36:40] <aatch> Then again, I don't use pulse audio
[22:36:43] *** Quits: findow (Mibbit@moz-77C998AC.hsd1.ct.comcast.net) (Quit: findow)
[22:36:50] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[22:36:53] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[22:36:53] <aatch> ALSA all the way.
[22:36:57] <mcpherrin> ew alsa
[22:36:58] <jel> Hmm... "libuv patch for kfreebsd is done, not yet upstreamed"
[22:37:00] <mcpherrin> OSSv4 all the way
[22:37:01] <FreeFull> I keep pulseaudio off my system
[22:37:20] <jel> Yep, pulseaudio is the main bugbear for me too.
[22:37:24] *** Quits: rca (rcatolino@moz-63C849F5.adsl.proxad.net) (Ping timeout)
[22:37:26] <strcat> mcpherrin: OSSv4 is pretty awful now tbh, it's a dead project without proper modern hw support
[22:37:31] <strcat> without power management/saving features
[22:37:33] <mcpherrin> strcat: :p
[22:37:35] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[22:37:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:37:50] <jel> strcat: good to know, I was considering giving it a shot the other day.
[22:37:54] * strcat used to use it because he had an ancient desktop
[22:37:54] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Connection reset by peer)
[22:37:58] <mcpherrin> strcat: I had a job in ~2008? that involved Alsa internals so I have pent up rage
[22:38:19] <jel> mcpherrin, :)
[22:38:32] <mcpherrin> And tried to use Pulseaudio in 2009/2010, which obviously never really worked out
[22:38:45] <strcat> jel: it doesn't even support suspend! ;\
[22:39:04] <strcat> pulse is fine but I don't need the features, *shrug*
[22:39:08] <o11c> I'm trying to use PulseAudio right now, and it's giving me trouble. Which is sad, because it fills exactly the niche I want to see for audio ...
[22:39:19] <mcpherrin> Pulaseaudio's network transparency was pretty neat
[22:39:24] <jel> strcat: neither does my monitor, so it might be a perfectly integrated A/V solution ;)
[22:39:33] <mcpherrin> let me have my speakers hooked to a tinybox on the network instead of laptop
[22:39:47] <strcat> jel: well, other than being really buggy and dead ;p
[22:40:05] <jel> Yeah, it doesn't seem at all popular.
[22:40:23] <strcat> I think you'll be better off with alsa or alsa+pulse unless you have old hw never properly supported by alsa
[22:40:23] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:40:32] *** Joins: echristo (echristo@E55635C9.D6CCE4AE.77834EAA.IP)
[22:40:33] <jel> I do wonder how freebsd etc. do fine with /dev/dsp, and linux needs to wrestle with 4/5 different audio systems.
[22:40:41] <jel> Same with cdrom support etc.
[22:40:42] <strcat> jel: not really true
[22:40:52] <strcat> alsa is the only upstream audio support
[22:41:03] *** Joins: Reisen (m@moz-A0F67AD4.org)
[22:41:07] <strcat> ossv4 is out-of-tree, ossv3 is deprecated and not built by default
[22:41:31] <strcat> pulse runs fine on freebsd
[22:41:31] <mcpherrin> Pulse is a userspace thing you could run on freebsd if you want
[22:41:52] <strcat> and windows
[22:41:54] <jel> strcat: yep, but then jack, pulse, esd, something-net-something-or-other... :)
[22:42:03] <strcat> jel: jack, pulse, esd, etc. are portable
[22:42:09] <strcat> and they're userspace things
[22:42:15] <strcat> esd is also dead, anyway
[22:42:36] <o11c> I see only two high-level audio systems in use - jack for professionals, pulse for users
[22:42:36] <FreeFull> o11c: Tried Jack?
[22:42:44] *** Joins: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br)
[22:42:46] <FreeFull> Jack actually works
[22:42:50] <jel> Alsa + dmix is all I really need.  I'm hoping my current config will use that for hangouts etc., but haven't tried it yet.
[22:42:51] <o11c> but pulse still has issues, so some people still set their backend to alsa directly
[22:43:04] <o11c> never managed to get dmix to work properly in all circumstances
[22:43:07] <jel> I do like the per-application settings that pulse offers, though.
[22:43:13] <strcat> never encountered any problems with alsa/dmix or pulse
[22:43:15] <pepper_chico> how is a unicode escape sequence?
[22:43:26] <mcpherrin> I just kinda wish sound on linux worked as well as it does on Windows though.
[22:43:26] <Ms2ger> \uXXXX
[22:43:31] <mcpherrin> which is embarassing :P
[22:43:31] <strcat> alsa is really, really static though - quite annoying
[22:43:31] <pepper_chico> tks
[22:43:37] <strcat> mcpherrin: works fine here, never had issues
[22:43:42] <FreeFull> The only non-pulseaudio package that depends on pulseaudio in the distro I'm using is gnome-settings-daemon
[22:43:42] <strcat> what distro do you use?
[22:43:44] <FreeFull> And I don't use gnome
[22:43:45] <o11c> my only problem with pulse is that every time an Event sound plays, it resets the master volume (but not all the per-app volumes) to 100%
[22:43:56] <mcpherrin> strcat: One appliation playing sound to one soundcard works fine
[22:43:56] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[22:44:06] <jel> Anyone know if BSD has the latency issues that they're always trying to fix with linux audio rewrites?
[22:44:06] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[22:44:09] <strcat> mcpherrin: so do more complicated setups
[22:44:19] <jel> I should read up on this more.
[22:44:20] <strcat> you need to be using pulse/jack if you want dynamic configuration
[22:44:36] <mcpherrin> strcat: Yeah, I never quite got pulse working right.  Windows is easier ;)
[22:44:38] <FreeFull> jack is awesome for music production and such
[22:44:39] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:44:39] <o11c> mcpherrin: the days of "one application" being acceptable are long gone
[22:44:40] <strcat> jel: don't think they've ever rewritten anything for linux audio to deal with latency issues
[22:44:41] <Ke> pulseaudio has been pretty awesome lately
[22:44:54] <strcat> mcpherrin: never had any problems with pulse, honestly
[22:45:02] <strcat> can't see how you did
[22:45:03] <jel> strcat: I think that's basically what jack did, as well as other stuff, of course.
[22:45:13] <mcpherrin> strcat: I haven't really cared since like 2011 so I'm also a bit out of date :)
[22:45:19] <o11c> I've never had *major* problems, it's just that the minor problems are really annoying
[22:45:22] <FreeFull> Jack makes things pluggable
[22:45:41] <strcat> jel: jack is about making stuff pluggable/dynamic and so on without compromising latency
[22:45:43] <mcpherrin> I bought a mac and solved my linux-laptop woes the money way ;)
[22:45:44] <strcat> jel: it sits *on top* of alsa
[22:46:04] <strcat> jel: the *only* supported upstream linux audio backend is alsa
[22:46:19] <jel> Yeah, I understand.
[22:46:22] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[22:46:48] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:46:54] <jel> Will make a concerted effort (see what I did there? ;) ) to stick with ALSA and make everything use it.
[22:47:00] <strcat> alsa is really too static to do mixing with multiple outputs and control per-application stuff
[22:47:18] <strcat> jel: well, I think the alsa devs view it as sitting under a higher layer
[22:47:23] <strcat> so they don't really care about the userland part
[22:47:34] <strcat> it's not meant to be powerful/flexible or easy to use
[22:47:36] <jel> Can jack be that higher layer, for normal apps?
[22:47:44] <jel> Or does everything need to be written for it?
[22:48:07] <strcat> jack isn't really targeted at the use case of someone who doesn't work in the audio industry
[22:48:17] <jel> That's what I thought.
[22:48:23] <strcat> if applications use high-level sound libraries (most do), they'll support it
[22:48:50] <mcpherrin> What really needs to die is X11 :)
[22:49:02] <mcpherrin> Alsa I think I can live with :P
[22:49:02] *** Quits: tjc (tjc@1C4BED8B.36F4E7CF.284344F5.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:49:06] * strcat doesn't really think there are any big audio issues
[22:49:10] <strcat> maybe if you use a poorly done distro ;p
[22:49:12] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[22:49:14] <benh> :(
[22:49:16] <jel> X11 death seems to be progressing, at least :)
[22:49:26] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:49:28] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[22:49:31] <benh> The last time I tried pulseaudio in the dark gray past of like 2008 i guess, fiddling with the mixer settings inevitably made everything devolve into static
[22:49:43] <mcpherrin> Soon, Linux should be able to compete with Windows XP's graphics
[22:49:44] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[22:49:49] <mcpherrin> Only a decade behind ;)
[22:49:53] <strcat> benh: sure, 5-6 year old software didn't work well
[22:49:54] *** Quits: mouse (mouse@moz-32DFB3CF.broadband.corbina.ru) (Ping timeout)
[22:49:56] <strcat> talking about today
[22:50:02] <strcat> the audio stack is fine, *today*
[22:50:05] <strcat> 10 years ago, maybe it wasn't
[22:50:08] <jel> pa has a nice habit of making my bass sound like I'm trying to annoy everyone on the street ;)
[22:50:19] <mcpherrin> strcat: overcomplicated and fragile, but working.  Good enough.
[22:50:29] <strcat> mcpherrin: don't see how it's overcomplicated/fragile
[22:50:52] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:51:02] <mcpherrin> strcat: Alsa's API is big, weird, and hard to use.  Wrong abstractions.
[22:51:26] <strcat> mcpherrin: maybe, but the only people who have to use it are the devs of an audio library and pulseaudio
[22:51:41] <mcpherrin> strcat: right, so you need library/pulse to fix it
[22:51:50] <mcpherrin> hence adding complication.
[22:51:54] <strcat> mcpherrin: you need a library to write portable code
[22:52:02] <jack> oh. audio stuff. my computer has een beeping at me like crazy for the last 20 minutes :)
[22:52:06] <strcat> libraries reduce the complexity for you
[22:52:15] <strcat> if you're against libraries, I don't really understand why
[22:52:24] <mcpherrin> strcat: I care as a library author ;)
[22:52:32] <strcat> there are already good audio libraries
[22:52:36] *** Quits: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca) (Quit: Taking a nap.)
[22:52:37] *** Quits: ssbr (~ssbr@2ABF3B40.D6CCE4AE.77834EAA.IP) (Ping timeout)
[22:52:43] <strcat> sdl2 works fine, for example, and supports basically everything
[22:52:48] <jel> pulse/jack are more like alternative frameworks built on top, rather than just libraries.
[22:52:50] <strcat> if you need more power, there are more powerful sound libs
[22:52:54] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:53:01] <strcat> jel: they're not really built on top
[22:53:03] <strcat> they replace the alsa userland
[22:53:07] <strcat> they don't add a layer
[22:53:14] <strcat> application -> alsa userland -> alsa driver
[22:53:16] <strcat> vs.
[22:53:23] <strcat> application -> pulse/jack -> alsa driver
[22:53:23] *** Quits: AvianFlu (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[22:53:25] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[22:53:32] <strcat> keeping in mind that the alsa userland has *higher* latency even than pulse
[22:53:37] <jel> strcat: OK, that's interesting.
[22:53:44] <strcat> and it's overly static
[22:54:02] <strcat> you can switch dmix to using libsamplerate at least so it doesn't sound like crap ;p
[22:54:10] <strcat> really annoying that you need a static output rate and so on
[22:54:27] <jel> strcat: yeah, that always seemed strangely limited.
[22:54:29] <strcat> it will resample even if there's 1 thing playing at a rate supported by the audio output
[22:54:53] * strcat just uses alsa/dmix anyway
[22:54:55] <jel> lol, I never thought of that.  Yeah, silly.
[22:55:10] <SingingBoyo> format! is undefined.  hm. that doesn't seem right.
[22:55:18] <strcat> I'd use pulse in a heartbeat if I actually wanted per-app volume control or *cared* about resampling and so on ;p
[22:55:19] <jel> strcat: do you happen to know if hangouts work with that setup?
[22:55:25] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:55:25] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[22:55:37] <strcat> jel: well, google talk works fine (as in the gmail phone call/chat stuff)
[22:55:47] <strcat> so I assume hangouts work
[22:55:57] <jel> strcat: great, thanks :)
[22:55:59] *** Quits: tikue (tkuehn@268C2DFE.FAD414BA.D74CC41D.IP) (Quit: tikue)
[22:56:31] * strcat is happy with just alsa/dmix because he uses 1 audio output 99% of the time
[22:56:34] <jel> Speaking of format!(), and getting back to rust, is there a particular reason why macros use ! instead of just looking like functions?  Seems like it would be nice to write a macro OR function, without having to change code that uses it.
[22:56:39] <strcat> and when I do use hdmi audio output, I don't need mixing
[22:56:54] <strcat> if you want multiple outputs and mixing on each...
[22:56:57] <strcat> requires a lot of manual config
[22:57:00] <jel> But maybe they're not used in the same cases, like C macros would be
[22:57:07] <strcat> need to make new dmix outputs and name them and make apps use them
[22:57:09] <strcat> PITA
[22:57:17] <strcat> so at that point I'd switch to pulse ;p
[22:57:31] <jel> strcat: yeah, that sounds like no fun at all.
[22:57:38] *** Quits: psquid (psquid@moz-9DE65B9D.threembb.co.uk) (Ping timeout)
[22:57:50] <strcat> anyway there is one broken part of the alsa stack - the OSS compatibility
[22:57:58] <strcat> and distros loading it by default will often have broken audio
[22:58:04] <jel> strcat: I get my "hdmi" (to TV, if that's what you mean) via DLNA.  It's a nice solution.
[22:58:06] <strcat> cause some application will say 'oh look OSS' and use it 
[22:58:09] <strcat> and then dmix stops working
[22:58:16] <mcpherrin> jel: well macro calling doesn't have to look like a function call, so that doesn't work in general
[22:58:26] <strcat> but anyway, distro issue ;p, vanilla/unpatched kernel doesn't have that issue
[22:58:41] <jel> mcpherrin, OK :)
[22:58:49] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[22:59:14] *** Quits: Ms2ger (Ms2ger@AA55AE55.592AEF45.F15B0BB3.IP) (Quit: nn)
[22:59:16] *** flaper87 is now known as flaper87|afk
[22:59:19] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[22:59:38] <jel> Gotta go.  Catch you later guys.
[23:00:03] *** Parts: jel (jel@A88D090E.775B9CFA.A82F46A.IP) (Ex-Chat)
[23:00:49] *** Joins: psquid (psquid@moz-9DE65B9D.threembb.co.uk)
[23:01:26] *** Quits: rattboi (bkanyid@moz-9A5A7AF8.org) (Ping timeout)
[23:01:36] *** Joins: Fill (Fill@moz-1107002D.kimsufi.com)
[23:02:07] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:02:22] *** Joins: rattboi (bkanyid@moz-9A5A7AF8.org)
[23:03:54] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[23:04:18] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:04:38] <GrecKo> rusti: 5-7
[23:04:39] -rusti- -2
[23:04:49] *** Quits: new_one (new_one@6CCB6A53.1DCBF251.B3C0173E.IP) (Client exited)
[23:04:54] *** Joins: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au)
[23:05:03] *** Joins: mib_snr8oj (Mibbit@95879FC5.102D9800.D35A31DF.IP)
[23:05:27] *** Quits: pepper_chico (pepper_chi@moz-13107F6.dsl.telesp.net.br) (Quit: Ex-Chat)
[23:05:49] <GrecKo> same as in c++
[23:06:05] <FreeFull> Did you expect anything different?
[23:06:07] <busylizzy> wow
[23:06:10] <busylizzy> amazing
[23:06:17] <GrecKo> :>
[23:06:28] <FreeFull> Same as Haskell too
[23:06:32] <busylizzy> does anybody know what's now with nested types? do rust developers have any plans about this feature?
[23:07:11] <bjz> nested types?
[23:07:17] <mcpherrin> busylizzy: In terms of Rust, you'd mean defining a struct inside another struct?
[23:07:32] <mcpherrin> Not sure if there's something sensible you could do with nested Traits...
[23:07:38] <mib_snr8oj> hi
[23:07:38] <mib_snr8oj> can you define a macro in one crate, and use it in another?
[23:08:02] <dbaupp> mib_snr8oj: not yet
[23:08:11] <kimundi> mib_snr8oj: Not at the moment - but hopefully soon a patch lands to enable that
[23:08:39] <mib_snr8oj> e.g. via "extern mod my_macros"
[23:08:45] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:08:48] <dbaupp> (as in, we have a patch enabling it, and hopefully it will land soon)
[23:08:52] <busylizzy> mcpherrin: i want something like "trait A { type B; ... }" and then define B in each implementation of the trait
[23:09:03] <mib_snr8oj> hmm, I notice that std::comm::select's select! macro doesn't seem to be visible/exported
[23:09:09] <aatch> busylizzy, that's associated types and is sorta-planned
[23:09:14] <mib_snr8oj> is that intentional?
[23:09:21] <dbaupp> mib_snr8oj: yes
[23:09:26] <dbaupp> we can't export macros now
[23:09:48] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:09:51] <aatch> mib_snr8oj, the macros that appear to be "exported" at the moment are actually implemented in the compiler itself.
[23:10:02] <dbaupp> so we can't make it visible no matter how hard we try
[23:10:30] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[23:11:13] <busylizzy> aatch: probably planned for a far future? :)
[23:11:44] <aatch> busylizzy, no idea. It's tied to a lot of other things. It's not going to block a 1.0 release though.
[23:12:04] *** Quits: lennart (lennart@moz-DE70D6F.stanford.edu) (Quit: Lost terminal)
[23:12:14] <aatch> Unless it turns out not be able to be added in a backwards compatible way (which seems unlikely)
[23:12:54] <mib_snr8oj> okay, so I guess in the meantime we can copy/paste that macro into our own code, and just remove it when macro export works?
[23:13:16] <busylizzy> aatch: thanks for the clarification
[23:13:41] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Quit: This computer has gone to sleep)
[23:13:46] <dbaupp> mib_snr8oj: something like that
[23:14:13] * busylizzy will repeat the question after 1.0 release :)
[23:14:18] *** Quits: twi (Adium@moz-512229A7.lns9.lon.bigpond.net.au) (Quit: Leaving.)
[23:14:18] <dbaupp> acrichto: do you recommend copying the select macro out of libstd, or some other technique?
[23:14:56] <acrichto> dbaupp: for now, yeah, it seems such a shame to put in syntax/ext/expand
[23:15:03] <acrichto> it's also not a stable interface at all
[23:15:46] <dbaupp> mib_snr8oj: ^
[23:16:48] *** Quits: psquid (psquid@moz-9DE65B9D.threembb.co.uk) (Ping timeout)
[23:17:00] <mib_snr8oj> okay,  cheers
[23:17:24] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:17:30] *** Quits: mib_snr8oj (Mibbit@95879FC5.102D9800.D35A31DF.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:18:31] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:20:13] *** Joins: z0w0 (zack@moz-87AABEA0.lnse1.woo.bigpond.net.au)
[23:21:14] *** Joins: ssbr (~ssbr@3246441A.D6CCE4AE.77834EAA.IP)
[23:22:17] *** sam113101_afk is now known as sam113101
[23:25:25] *** Joins: psquid (psquid@moz-9DE65B9D.threembb.co.uk)
[23:25:28] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:26:06] *** Joins: sehugg (sehugg@moz-42540923.res.bhn.net)
[23:26:33] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[23:26:50] *** Quits: psquid (psquid@moz-9DE65B9D.threembb.co.uk) (Quit: WeeChat 0.4.2)
[23:26:54] *** Joins: Mordecai (psquid@moz-9DE65B9D.threembb.co.uk)
[23:27:11] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:27:15] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[23:27:52] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:28:10] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[23:28:13] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:28:33] *** Joins: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca)
[23:28:43] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[23:28:55] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[23:30:00] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:30:32] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[23:30:37] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[23:30:47] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[23:30:48] *** ChanServ sets mode: +o tjc
[23:30:48] *** Quits: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:31:07] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:33:32] *** Quits: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca) (Quit: Taking a nap.)
[23:34:10] *** Joins: tikue (tkuehn@268C2DFE.FAD414BA.D74CC41D.IP)
[23:35:33] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[23:35:43] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:35:44] *** Quits: jviereck (Adium@moz-56DDD13.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:36:01] *** Joins: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca)
[23:36:17] <olsonjeffery> is that json/serialize doc PR really dead in the water?
[23:36:36] *** Quits: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca) (Quit: Taking a nap.)
[23:36:45] <olsonjeffery> if it can be rebase.. i think it should be merge'd as-is.. there's zero documentation in-tree
[23:36:55] <olsonjeffery> and i lament having to go to a PR to figure out how to use a library.
[23:37:26] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:49] *** Joins: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca)
[23:37:50] *** Joins: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP)
[23:39:16] *** Quits: omegaga_ (omegaga_@B77BB5D5.F09091A8.1348A864.IP) (Connection reset by peer)
[23:39:45] *** sam113101 is now known as sam113101_afk
[23:39:58] <dbaupp> olsonjeffery: I'll r+ after they squash
[23:40:18] *** Quits: TisButMe (Mibbit@moz-5233EFA9.w92-144.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[23:40:23] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[23:40:45] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[23:41:52] *** Quits: newbie (kvirc@moz-9FCEEC68.dip0.t-ipconnect.de) (Ping timeout)
[23:42:21] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[23:42:50] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:43:20] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:43:20] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:44:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:44:42] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:45:34] *** Joins: skelly (hl@moz-55F978C0.org)
[23:46:56] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[23:47:08] *** Quits: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Ping timeout)
[23:47:29] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:48:10] *** Quits: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca) (Quit: Taking a nap.)
[23:48:11] *** Joins: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[23:49:38] *** Joins: samx (sami@moz-D9F3E0AE.pp.htv.fi)
[23:50:43] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[23:50:47] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[23:51:17] *** Joins: vmx (vmx@moz-8895A01C.pools.arcor-ip.net)
[23:51:34] *** Joins: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca)
[23:51:43] *** Quits: samx (sami@moz-D9F3E0AE.pp.htv.fi) (Ping timeout)
[23:52:38] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:53:29] *** Quits: hoverbear (hoverbear@moz-FC7C7381.wireless.uvic.ca) (Quit: Taking a nap.)
[23:53:39] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:54:26] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:54:29] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[23:54:58] <jmgrosen> can anyone tell me what ty::type_is_bot means?
[23:55:16] *** Joins: Jemaclus (Mibbit@4EEAB704.5843BA5A.D4E4C7A5.IP)
[23:56:11] <mcpherrin> jmgrosen: just a guess, but whether the type is "bottom"?
[23:56:12] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[23:56:31] <jmgrosen> well, what does a type being "bottom" mean, then? :P
[23:56:32] <mcpherrin> which I think is relevant in functions that don't return
[23:56:34] <cmr> bottom is !
[23:56:37] <cmr> well
[23:56:39] <cmr> kinda
[23:56:43] *** Joins: Sentor (kvirc@7C215BE5.7848DBDF.DBB01AA2.IP)
[23:56:44] <mcpherrin> the bottom type is a type with no values
[23:56:47] <cmr> fn foo() -> !
[23:56:55] <jmgrosen> hm, okay
[23:57:08] <jmgrosen> why is it called bottom?
[23:57:16] <olsonjeffery> how is that distinct from unit / () ?
[23:57:19] <cmr> the name is from type theory
[23:57:23] <jmgrosen> huh
[23:57:26] <cmr> olsonjeffery: that has one value :)
[23:57:28] <mcpherrin> olsonjeffery: unit has one type
[23:57:32] <mcpherrin> uh value
[23:57:47] <mcpherrin> jmgrosen: it's the "bottom" of the heirarcy of subtypes
[23:57:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[23:58:00] <jmgrosen> mcpherrin: that sounds right, thanks
[23:58:11] <jmgrosen> according to the little type theory I've studied
[23:58:12] <dbaupp> jmgrosen: http://en.wikipedia.org/wiki/Bottom_type http://www.haskell.org/haskellwiki/Bottom
[23:58:43] <mcpherrin> http://c2.com/cgi/wiki?BottomType
