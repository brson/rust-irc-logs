[00:00:38] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[00:16:27] *** Quits: jdm (jdm@A931292E.20A5B7E6.930FA32.IP) (Ping timeout)
[00:17:07] *** Joins: jdm (jdm@A931292E.20A5B7E6.930FA32.IP)
[00:17:07] *** ChanServ sets mode: +o jdm
[00:20:39] *** Quits: jdm (jdm@A931292E.20A5B7E6.930FA32.IP) (Quit: Lost terminal)
[00:28:38] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[00:29:39] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[00:34:27] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[00:34:27] *** ChanServ sets mode: +o brson
[00:36:10] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:37:48] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Client exited)
[00:38:09] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[00:39:53] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Ping timeout)
[00:39:54] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[00:39:54] *** ChanServ sets mode: +o brson
[00:40:00] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[00:56:48] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[00:58:41] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Ping timeout)
[01:28:39] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[01:41:13] *** Joins: tikue_ (tikue_star@9B9EFD68.B9B3942C.689607DE.IP)
[01:42:40] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[01:53:55] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[01:55:13] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[01:55:35] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[01:55:38] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Connection reset by peer)
[02:03:43] *** Quits: ToBeFree (tobefree@moz-EA367A59.de) (Ping timeout)
[02:07:20] *** Joins: ToBeFree (tobefree@moz-EA367A59.de)
[02:13:59] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Client exited)
[02:14:20] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[02:16:07] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Ping timeout)
[02:20:05] *** Quits: kimundi (kimundi@moz-F488EB60.dip0.t-ipconnect.de) (Ping timeout)
[02:22:04] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[02:22:25] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[02:22:37] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[02:23:30] *** Joins: kimundi (kimundi@moz-4D74261A.dip0.t-ipconnect.de)
[02:27:55] *** kimundi is now known as zz_kimundi
[02:34:48] *** zz_kimundi is now known as kimundi
[02:42:35] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[02:42:44] *** Quits: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP) (Input/output error)
[02:49:06] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[03:03:23] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Client exited)
[03:03:44] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[03:04:14] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Connection reset by peer)
[03:05:49] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[03:07:34] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Ping timeout)
[03:11:53] *** Joins: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP)
[03:12:20] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Client exited)
[03:14:57] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[03:19:32] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[03:21:20] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Ping timeout)
[04:08:30] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Client exited)
[04:08:50] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[04:10:41] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Ping timeout)
[04:16:13] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[04:22:14] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[04:35:05] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[04:36:56] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[05:10:49] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[05:12:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Connection reset by peer)
[05:12:23] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[05:14:40] *** Quits: canhtak (jeremy@moz-12EBB66A.wl.t.ulaval.ca) (Quit: canhtak)
[05:25:25] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[05:26:08] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[05:26:22] *** Quits: tikue_ (tikue_star@9B9EFD68.B9B3942C.689607DE.IP) (Ping timeout)
[05:30:52] *** Joins: lmandel (lmandel@moz-705E7FCC.static.twtelecom.net)
[05:51:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[05:52:13] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[05:52:33] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[05:57:29] *** joduinn-afk is now known as joduinn-home
[06:10:04] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Client exited)
[06:10:18] *** Joins: Jackneill (Jackneill@moz-344A6123.pool.digikabel.hu)
[06:19:14] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[06:23:34] *** Quits: madmoose (Hat@moz-E1973371.nerp.net) (Ping timeout)
[06:23:34] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Ping timeout)
[06:29:49] *** Joins: madmoose (Hat@moz-E1973371.nerp.net)
[06:38:09] *** Quits: myra (myra@9B9315E1.A6025CA.1C37C358.IP) (Ping timeout)
[06:38:25] *** Joins: myra (myra@9B9315E1.A6025CA.1C37C358.IP)
[06:39:22] *** Joins: Ms2ger (Ms2ger@moz-C96856.adsl-dyn.isp.belgacom.be)
[06:49:30] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[06:51:20] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Ping timeout)
[07:16:24] *** Joins: dbaron (dbaron@87C1F78E.1DE10CA8.D8E68FF6.IP)
[07:20:25] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[07:21:58] *** Quits: lmandel (lmandel@moz-705E7FCC.static.twtelecom.net) (Quit: lmandel)
[07:23:07] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Ping timeout)
[07:23:39] *** Joins: Kostic (marko@moz-397637CA.mbb.telenor.rs)
[07:24:00] *** kimundi is now known as zz_kimundi
[07:35:06] *** Quits: Kostic (marko@moz-397637CA.mbb.telenor.rs) (Ping timeout)
[07:35:23] *** Joins: Kostic (marko@moz-397637CA.mbb.telenor.rs)
[07:37:42] *** jack|plane is now known as jack
[07:39:52] * jack goes to check the buildbots.
[07:43:59] *** zz_kimundi is now known as kimundi
[07:52:08] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[07:52:08] <ghservo> [13servo] 15metajack closed pull request #1092: Add a headless mode for tests (06master...06headless)  02http://git.io/-l9uSQ
[07:52:08] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[07:55:00] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[07:55:00] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14238e214 to 145c725b3: 02http://git.io/c8GovQ
[07:55:00] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[07:55:07] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[07:55:07] <ghservo> 01[13servo01] 15bors-servo pushed 4 new commits to 06auto: 02http://git.io/2UbAOw
[07:55:07] <ghservo> 13servo/06auto 14b5c470a 15Jack Moffitt: Don't build package by default.
[07:55:07] <ghservo> 13servo/06auto 14b05fab6 15Jack Moffitt: Small bugfixes in sub.mk.
[07:55:07] <ghservo> 13servo/06auto 1453add11 15Jack Moffitt: Update to latest Rust.
[07:55:08] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[08:07:57] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[08:08:08] *** Joins: dissimile (dissimile@moz-141B07E7.static.as13285.net)
[08:08:26] *** Joins: tgummerer_ (tgummerer@moz-FAADA9F9.kthopen.kth.se)
[08:10:59] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[08:15:10] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[08:15:10] <ghservo> [13servo] 15metajack reopened pull request #1092: Add a headless mode for tests (06master...06headless)  02http://git.io/-l9uSQ
[08:15:10] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[08:17:48] *** Quits: Ms2ger (Ms2ger@moz-C96856.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[08:18:52] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[08:27:16] *** Quits: myra (myra@9B9315E1.A6025CA.1C37C358.IP) (Ping timeout)
[08:31:31] *** Joins: myra (myra@9B9315E1.A6025CA.1C37C358.IP)
[08:33:48] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[08:38:19] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[08:43:01] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[08:51:08] <jack> i did not intend bors to do my upgrade. sorry for all the rebases that is likely to cause.
[08:53:20] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:55:59] *** Joins: annevk (annevk@7F0CC393.4F390C2A.420B7681.IP)
[08:57:26] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[08:57:49] *** Quits: annevk (annevk@7F0CC393.4F390C2A.420B7681.IP) (Ping timeout)
[09:04:43] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[09:04:59] *** Joins: kanru` (kanru@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:07:17] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:07:17] *** ChanServ sets mode: +o jdm
[09:10:04] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[09:10:04] <ghservo> [13servo] 15jdm opened issue #1096: Use JS_GetGlobalForObject in _constructor method in generated bindings  02http://git.io/Ea9iMw
[09:10:04] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[09:11:43] *** Joins: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com)
[09:15:45] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[09:18:51] *** Joins: Ms2ger (Ms2ger@moz-2E8A2F53.ugent.be)
[09:23:32] <jdm> stage1
[09:23:43] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[09:25:23] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[09:25:27] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Ping timeout)
[09:26:34] <Ms2ger> jack, don't worry, it's not landing :)
[09:30:45] <jack> Yes, jdm and i are looking at that.
[09:31:28] <jdm> stage2
[09:33:53] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[09:34:07] <SimonSapin> rather than having traits in libutil with only one implementation, would it make sense to separate the data structures for the DOM from libscript and move them into a new crate?
[09:34:20] *** Joins: dbaupp (Thunderbir@moz-2B9A51FF.lns20.syd6.internode.on.net)
[09:36:22] <jack> I think we talked about that and there is some circular dependency we knew about but couldn't figure out how to break.
[09:36:29] <jack> Tought I can't remember what it was. jdm might.
[09:37:13] <jdm> that does ring a bell
[09:38:04] <jdm> SimonSapin: one annoyance is that we would need to create traits defining all of the dom methods
[09:38:51] <SimonSapin> jdm: I mean avoid traits altogether, if thatâ€™s possible
[09:39:10] *** Joins: bholley (anonymous@moz-46B9419C.adsl.alicedsl.de)
[09:39:31] <jdm> I think you're talking about your work, whereas I'm talking about the whole DOM
[09:42:51] <jdm> /home/jdm/sdb/servo/src/components/main/servo.rc:1:0: 1:0 error: can't find crate for `std`
[09:42:53] <jdm> wat :(
[09:43:00] * jdm tries a make clean
[09:47:28] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[09:47:42] *** Quits: myra (myra@9B9315E1.A6025CA.1C37C358.IP) (Ping timeout)
[09:47:45] <jdm> jack: I can reproduce it; it's not a hang, it's a task failure so the test page stops executing and shows the "i tried" star
[09:47:46] <jack> jdm: i ran into that a few times. di dyour rust build actually complete successfully? :)
[09:47:47] *** Joins: myra (myra@9B9315E1.A6025CA.1C37C358.IP)
[09:47:53] * jdm thinks he fixed this in another branch
[09:48:06] <jack> jdm: now that you mention it, i did see an itried star :)
[09:48:26] <jack> is it related to my upgrade changes or did i just uncover it?
[09:48:38] <Ms2ger> So the window never closes? Fun
[09:48:39] <jdm> not sure
[09:48:47] <jdm> [jdm@rosencrantz build]$ ./servo ../src/test/html/content/test_Event.html 
[09:48:48] <jdm> ALERT: TEST-PASS | function Event() {...
[09:48:48] <jdm> GLFW error: The GLFW library is not initialized
[09:48:49] <jdm> wat
[09:49:00] <Ms2ger> Oh, I see that often
[09:49:44] <jdm> right, test_global is the failure
[09:49:47] <jdm> I definitely fixed this
[09:50:32] <jdm> [jdm@rosencrantz build]$ ./servo ../src/test/html/content/test_Event.html 
[09:50:32] <jdm> ALERT: TEST-PASS | function Event() {...
[09:50:36] <jdm> whoops
[09:50:40] <jdm> task '<unnamed>' failed at 'borrowed', /home/jdm/sdb/servo/src/components/script/dom/bindings/codegen/NavigatorBinding.rs:617
[09:51:32] <Ms2ger> Lovely
[09:51:52] <jdm> hmm, I can't find a commit about it, nor any filed issue
[09:51:53] <jdm> so confusing
[09:52:59] <jdm> https://github.com/mozilla/servo/issues/1042
[09:53:02] *** Quits: tgummerer_ (tgummerer@moz-FAADA9F9.kthopen.kth.se) (Ping timeout)
[09:53:26] <jdm> jack: maybe the rust upgrade changed some failure behaviour
[09:53:40] <jdm> so now we catch it properly in lbergstrom's code
[09:54:03] <jack> there's no issue 1042
[09:54:25] <jack> nm. found it.
[09:54:47] <jack> is that easy to fix?
[09:54:54] <jack> also, why is this showing up now?
[09:57:00] <jack> my fedora image got corrupted or something. grabbing a new one now.
[09:57:13] *** kimundi is now known as zz_kimundi
[09:58:36] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Quit: DeTeam)
[09:59:49] <jdm> jack: yes, easy to fix. my theory is that the task failure is actually being caught in a way that doesn't trigger an abort now
[10:03:29] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[10:03:30] <ghservo> [13servo] 15mulander opened issue #1097: Error while trying to close the application window  02http://git.io/WhR_ig
[10:03:30] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[10:06:09] *** Joins: annevk (annevk@88F51059.F3BBB17D.144F44FA.IP)
[10:07:37] *** Quits: Kostic (marko@moz-397637CA.mbb.telenor.rs) (Ping timeout)
[10:08:58] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[10:08:59] <ghservo> [13servo] 15jdm opened pull request #1098: Eagerly reflect the navigator object. Fixes #1042. (06master...06borrow-fix)  02http://git.io/pvJCig
[10:08:59] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[10:10:17] <Ms2ger> jdm, might need to rebase that
[10:10:23] <jdm> lies!
[10:10:35] <jdm> Ms2ger: why? github says it will merge fine
[10:10:48] <Ms2ger> Okay then :)
[10:10:55] <Ms2ger> I saw a BindingObject reference
[10:11:02] <jdm> oh
[10:11:03] <jdm> yuck
[10:11:29] *** zz_kimundi is now known as kimundi
[10:11:41] <jdm> fixed
[10:12:03] <jdm> fff, need to rebuild rust again
[10:12:10] <jdm> and then once jack's upgrade lands I'll do it again
[10:12:27] <jdm> on the plus side, I wrote code to get make WindowProxy make more sense
[10:12:50] <Ms2ger> Sounds like fun
[10:12:53] <jdm> https://github.com/jdm/servo/tree/browsercontext
[10:13:13] <Ms2ger> Btw, a conversation relevant to your interests is going on in #content ;)
[10:13:47] <jdm> oh no, do I listen in, or go get lunch?
[10:14:11] *** Quits: dissimile (dissimile@moz-141B07E7.static.as13285.net) (Ping timeout)
[10:14:38] <Ms2ger> There's logs ;)
[10:15:33] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[10:20:05] *** Joins: dissimile (dissimile@moz-F3007ED4.static.as13285.net)
[10:24:12] *** Quits: dissimile (dissimile@moz-F3007ED4.static.as13285.net) (Quit: Either I put my laptop to sleep or my battery died)
[10:31:35] <jack> jdm: are we going to land your change first?
[10:39:17] *** Quits: Ms2ger (Ms2ger@moz-2E8A2F53.ugent.be) (Quit: bbl)
[10:46:34] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[10:52:44] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[10:55:51] <jdm> jack: that makes sense to me
[10:59:54] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[11:00:59] *** Quits: dbaupp (Thunderbir@moz-2B9A51FF.lns20.syd6.internode.on.net) (Ping timeout)
[11:02:01] *** Quits: myra (myra@9B9315E1.A6025CA.1C37C358.IP) (Ping timeout)
[11:02:09] *** Joins: myra (myra@9B9315E1.A6025CA.1C37C358.IP)
[11:04:36] *** Joins: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net)
[11:05:20] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[11:19:07] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[11:20:40] <jack> jdm: let me know when it's up and i'll review it quick
[11:20:48] <jdm> jack: it's up and waiting
[11:20:52] <jdm> jack: http://git.io/pvJCig
[11:21:37] *** Quits: bholley (anonymous@moz-46B9419C.adsl.alicedsl.de) (Ping timeout)
[11:22:17] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Ping timeout)
[11:23:47] *** Joins: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP)
[11:25:10] *** Joins: bholley (anonymous@moz-E592B27C.adsl.alicedsl.de)
[11:29:02] *** Joins: Ms2ger (Ms2ger@moz-DF0C9831.ugent.be)
[11:33:25] <Ms2ger> jdm, I had nothing to do yesterday evening, so I came up with https://pastebin.mozilla.org/3304734; does that look like the direction you wanted to go in?
[11:35:20] <jdm> Ms2ger: yep!
[11:35:24] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:36:58] <jdm> Ms2ger: while you're at it, if you could make AbstractNode store a *mut Box<Node<View>>, that would be nice
[11:37:02] <jdm> no transmute needed for the node case
[11:37:26] <Ms2ger> That's one of the things I was wondering
[11:37:44] <Ms2ger> Is there any way in which obj is a *mut Node<View>?
[11:38:12] <jdm> Ms2ger: nope.
[11:38:30] <jdm> I don't really know why patrick used that type originally
[11:38:31] *** Quits: deokjinkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:42:01] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[11:46:00] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:50:07] *** Quits: myra (myra@9B9315E1.A6025CA.1C37C358.IP) (Ping timeout)
[11:50:32] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[11:50:32] <ghservo> [13servo] 15metajack closed pull request #1067: Rust upgrade (06master...06rust-up-20131014)  02http://git.io/WbMT6Q
[11:50:32] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[11:50:38] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[11:50:38] <ghservo> [13servo] 15metajack closed pull request #1092: Add a headless mode for tests (06master...06headless)  02http://git.io/-l9uSQ
[11:50:38] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[11:51:03] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[11:52:02] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[11:52:02] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14ab33cd7 to 145c725b3: 02http://git.io/c8GovQ
[11:52:02] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[11:52:03] *** Quits: dolphinling (andrew@moz-80A1E448.uvm.edu) (Ping timeout)
[11:52:03] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[11:52:03] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/HtJWXA
[11:52:03] <ghservo> 13servo/06auto 14fda77aa 15Josh Matthews: Eagerly reflect the navigator object. Fixes #1042.
[11:52:03] <ghservo> 13servo/06auto 1448fe181 15bors-servo: auto merge of #1098 : jdm/servo/borrow-fix, r=metajack...
[11:52:04] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[11:52:56] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[11:53:15] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:55:20] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[11:55:56] *** Joins: dolphinling (andrew@moz-80A1E448.uvm.edu)
[11:56:49] *** Joins: Jayflux (Jason@moz-CE5AEEA5.as13285.net)
[12:00:30] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[12:03:08] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[12:03:19] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[12:03:21] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[12:05:21] *** Joins: canhtak (jeremy@moz-1684132F.wl.t.ulaval.ca)
[12:06:16] <jack> jdm: it failed in spidermonkey but only on linux.
[12:06:51] <Ms2ger> Bah
[12:07:00] <Ms2ger> Clearly we should drop linux support
[12:07:03] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[12:07:03] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 1448fe181 to 145c725b3: 02http://git.io/c8GovQ
[12:07:03] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[12:07:08] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[12:07:08] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/kSOzUw
[12:07:08] <ghservo> 13servo/06auto 149f84c90 15Ms2ger: Create FormData reflectors eagerly.
[12:07:08] <ghservo> 13servo/06auto 1416eb557 15bors-servo: auto merge of #1095 : Ms2ger/servo/FormData, r=metajack
[12:07:08] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[12:07:56] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[12:08:02] <jdm> jack: I don't think it failed in spidermonkey
[12:08:11] <Ms2ger> dun dun dun duuuuuuun
[12:08:19] * jdm hates commands lines that include -Werror
[12:09:12] <Ms2ger> 05:01:26     INFO -  rm: cannot remove `x86_64-unknown-linux-gnu/stage0/lib/': Is a directory
[12:09:25] <Ms2ger> jdm, ^
[12:09:32] <jdm> jack: ^
[12:09:49] <jack> wat
[12:09:52] <jdm> rustc is causing too many build problems recently
[12:09:53] <jdm> let's remove it
[12:10:02] <jdm> gcc is a tried and tested tool
[12:10:09] <Ms2ger> "Waiting for unfinished jobs" is a good thing to grep for, btw :)
[12:10:17] <jdm> that's a useful tip
[12:10:33] <Ms2ger>     pub fn node<'a>(&'a self) -> &'a Node<View> {
[12:10:33] <Ms2ger>         unsafe {
[12:10:33] <Ms2ger>             &(*self.obj).data
[12:10:33] <Ms2ger>         }
[12:10:33] <Ms2ger>     }
[12:10:34] <Ms2ger> \o/
[12:10:45] <jdm> dig it
[12:11:09] <jdm> the fog index in that snippet is high, but nobody needs to look at that ever again
[12:11:29] <Ms2ger> Except to remove it :)
[12:12:14] <jdm> it's rust bingo: unsafe block, unsafe pointer dereference, a lifetime, generic types, method implementation, and meaningless field names
[12:13:02] <Ms2ger> And a hidden return
[12:14:38] <Ms2ger> Oh, and mut_node has some mut keywords sprinkled on top
[12:15:34] <Ms2ger> So pub struct AbstractDocument { document: *Document }
[12:15:43] <Ms2ger> How likely would that be an actual *Document?
[12:15:47] <jdm> for that, I have no excuse except cargo culting
[12:16:21] <Ms2ger> *Box<Document>? *mut Box<Document>?
[12:16:27] <jdm> mut
[12:16:35] <Ms2ger> Okay
[12:16:37] <jdm> or else the mut_document one won't work without transmute
[12:16:46] <Ms2ger> Separate patch, probably
[12:16:53] <jdm> sure
[12:17:01] <Ms2ger> And I need to figure out how to strip commits in git
[12:18:00] <jdm> you could make a new branch and cherry pick the ones you want to keep
[12:18:15] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[12:18:23] <jdm> or not even branch, just reset to the last commit to retain and cherry pick the rest
[12:18:31] <jdm> last contiguous commit, that is
[12:20:07] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Ping timeout)
[12:24:43] *** Joins: dzbarsky (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[12:25:44] <Ms2ger> Looks like that might have worked
[12:25:49] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[12:26:36] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Quit: )
[12:37:24] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[12:40:43] <Ms2ger> jdm, I'll continue with this and then document
[12:40:46] * Ms2ger runs off to a train
[12:41:01] *** Quits: Ms2ger (Ms2ger@moz-DF0C9831.ugent.be) (Quit: bbl)
[12:46:31] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[12:55:00] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[12:55:00] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/kSOzUw
[12:55:00] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[12:55:01] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[12:55:01] <ghservo> [13servo] 15bors-servo closed pull request #1095: Create FormData reflectors eagerly. (06master...06FormData)  02http://git.io/8J2wuw
[12:55:01] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[12:56:43] *** bhearsum|afk is now known as bhearsum
[12:58:00] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[12:58:00] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/jiDiCg
[12:58:00] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[12:58:02] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[12:58:02] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/cgqg_A
[12:58:02] <ghservo> 13servo/06auto 14fda77aa 15Josh Matthews: Eagerly reflect the navigator object. Fixes #1042.
[12:58:02] <ghservo> 13servo/06auto 14accec9c 15bors-servo: auto merge of #1098 : jdm/servo/borrow-fix, r=metajack...
[12:58:02] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[12:59:17] *** Quits: dzbarsky (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[13:01:51] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[13:04:21] <jack> jdm: reftests are failing because of glfw is not initialized errors
[13:04:27] <jdm> aha
[13:04:42] <jdm> jack: is that the actual images failing or the harness freaking out?
[13:04:44] <jack> just runnign something with -o fails with that.
[13:04:53] <jack> ./servo -o foo.png something.html fails
[13:05:09] <jdm> so we need some initialization, presumably?
[13:05:13] <jack> i have no idea what caused this. probably the stuff that fixed how the scheduler thread is created
[13:12:38] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:14:54] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[13:15:12] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[13:15:47] <bjz_> jack: ack :[
[13:15:58] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[13:15:58] <ghservo> [13servo] 15jdm closed issue #1042: Borrow failure in test/html/content/test_global.html  02http://git.io/b0-JKQ
[13:15:58] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[13:15:58] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[13:15:59] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/cgqg_A
[13:15:59] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[13:16:00] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[13:16:00] <ghservo> [13servo] 15bors-servo closed pull request #1098: Eagerly reflect the navigator object. Fixes #1042. (06master...06borrow-fix)  02http://git.io/pvJCig
[13:16:00] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:16:22] <jdm> it's spooky how the bot says I did it
[13:21:31] <bhearsum> that's really surprising...it uses its own account
[13:22:00] <bhearsum> probably a github "feature"
[13:28:36] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[13:31:17] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[13:40:39] *** Joins: tgummerer_ (tgummerer@moz-1E343164.public.su.se)
[13:44:38] *** Joins: ahal (ahal@moz-94F07FF4.cable.teksavvy.com)
[13:49:28] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[13:49:50] <jack> bjz: ack is about right.
[13:49:55] <jack> lbergstrom: you up yet?
[13:51:48] *** Joins: dissimile (dissimile@moz-F3007ED4.static.as13285.net)
[13:51:52] <jdm> á´¡á´€á´‹á´‡ á´œá´˜
[13:52:36] *** Quits: tgummerer_ (tgummerer@moz-1E343164.public.su.se) (Ping timeout)
[13:53:10] <Yoric> jdm: Please stop screaming, you're going to give me a headache.
[13:53:31] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[13:53:31] <ghservo> [13servo] 15metajack reopened pull request #1067: Rust upgrade (06master...06rust-up-20131014)  02http://git.io/WbMT6Q
[13:53:31] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[13:53:32] <jdm> I wonder how those characters are reported to screenreaders
[13:54:15] <jack> what characters are those?
[13:54:57] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[13:54:57] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/V5IULw
[13:54:57] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[13:54:57] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[13:54:57] <ghservo> 01[13servo01] 15bors-servo pushed 4 new commits to 06auto: 02http://git.io/-ms3AA
[13:54:57] <ghservo> 13servo/06auto 14b5c470a 15Jack Moffitt: Don't build package by default.
[13:54:57] <ghservo> 13servo/06auto 14b05fab6 15Jack Moffitt: Small bugfixes in sub.mk.
[13:54:58] <ghservo> 13servo/06auto 1453add11 15Jack Moffitt: Update to latest Rust.
[13:54:59] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[13:55:10] *** Joins: jensnockert (jensnocker@moz-F903F162.homerun.telia.com)
[13:56:22] * jdm bounces in anticipation
[13:56:35] <Yoric> jdm: Be quiet, you.
[13:56:41] <Yoric> jdm: tssss
[13:58:20] <sanxiyn> Drumroll
[13:58:22] <sanxiyn> https://github.com/sanxiyn/servo/commits/new-style
[13:58:36] <sanxiyn> (obviously this needs rebase after Rust upgrade, but this version actually works)
[13:58:36] *** lbergstrom|away is now known as lbergstrom
[13:58:43] <jdm> SimonSapin: ^
[13:59:29] <sanxiyn> I'd appreciate comments. Obviously this needs a careful review.
[13:59:38] <lbergstrom> jack: I'm here. Sorry I missed you earlier - at the gym :-)
[14:00:11] <jdm> r- not enough tests
[14:00:14] <jdm> (kidding)
[14:03:32] <sanxiyn> (Credit goes to my colleagues. I did very little of this work except final merge.)
[14:05:04] <sanxiyn> SimonSapin: And you, of course :) Thanks a lot
[14:05:17] <lbergstrom> sanxiyn: that's very exciting work - I'm looking forward to seeing it land!
[14:05:33] <lbergstrom> And don't belittle the merge work, especially with the big incoming Rust upgrade rebase :-)
[14:05:34] <sanxiyn> lbergstrom: Stay tuned for parallel CSS matching! :)
[14:06:24] <sanxiyn> Some comments:
[14:06:24] <lbergstrom> sanxiyn: That will be great! I believe that brson's fix for the bad parallel behavior when using `start_on_main_thread` landed in time for the Rust upgrade that jack is pulling in
[14:06:28] *** Joins: myra (myra@9B9315E1.A6025CA.1C37C358.IP)
[14:06:33] <sanxiyn> Yup
[14:06:50] <sanxiyn> Regressions: didn't fix incremental layout
[14:06:53] <sanxiyn> :link doesn't work anymore
[14:07:57] *** Quits: jensnockert (jensnocker@moz-F903F162.homerun.telia.com) (Input/output error)
[14:08:25] <jack> we're calling some glfw func from off-main thread
[14:09:03] <lbergstrom> jack: we should be getting an error message via the callback when we do that, shouldn't we? Or does it just return an error code?
[14:09:18] <bjz_> jack: I've been working on a local branch trying to make a safer version of glfw-rs
[14:09:22] <lbergstrom> I can create a hideous check-all-the-things mode to validate the error codes.
[14:09:30] <lbergstrom> bjz_: you're one step ahead of me :-)
[14:09:44] *** Joins: dzbarsky (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[14:10:34] <jdm> lbergstrom: in fact, we are getting an error message via the callback
[14:11:16] <bjz_> lbergstrom: one of the things I'm having difficulty is 'glfwGet*' functions
[14:11:33] <bjz_> lbergstrom: when you want an immediate response
[14:12:41] <lbergstrom> jdm: if you're tracking down an error message we're spitting out, you can set a breakpoint on that callback pretty easily by doing "b glfw_windowing.rs 33" though you have to `cont` through the first time you hit it as it's when the callback is being set.
[14:13:07] <lbergstrom> the offender will be on the callstack
[14:13:13] <jdm> that's good to know, thanks
[14:14:00] <jdm> hmm, maybe line 33 is different in my revision?
[14:14:18] <lbergstrom> whatever line has the error! in it
[14:14:31] <lbergstrom>         do glfw::set_error_callback |_error_code, description| {
[14:14:32] <lbergstrom>             error!("GLFW error: %s", description);
[14:14:32] <lbergstrom>         };
[14:14:39] <lbergstrom> oh, you're on linux, aren't you?
[14:14:42] <jdm> yes
[14:14:50] <lbergstrom> nm, should be the same windowing system
[14:15:19] <jdm> so gdb didn't even break once
[14:16:24] <lbergstrom> That'sâ€¦ curious. Did the breakpoint get bound once you ran? On OSX, I get the breakpoint bound in 3 locations (due to inlining)
[14:16:40] <jdm> oh, /me is dumb
[14:16:43] <jdm> b foo.rs:33
[14:16:47] <jdm> not foo.rs 33
[14:17:15] <jdm> oh, this is fixed by that pull request you made
[14:17:17] <lbergstrom> Yup, I was just repro'ing and realized I left it out - my fault not yours :-)
[14:17:20] <jdm> alle ist klare
[14:17:32] <jdm> *alles ist klar
[14:18:19] <lbergstrom> Speaking of german I kept getting thrown off in brussels because I could understand like 70% of the flemish (?) because it was so close to german, but missed just enough to still be a stupid clueless american
[14:18:55] <jdm> I feel like that about quebecois french
[14:22:02] <lbergstrom> jdm,jack,kmc: should we do some brainstorming before the servo meeting about potential intern projects? I think azita & mike wanted numbers and projects soon
[14:22:11] <lbergstrom> We have the stuff at: https://github.com/mozilla/servo/wiki/Student-projects but those are smaller
[14:22:39] * jdm checks when zimbra says the meeting is
[14:22:51] <jdm> lbergstrom: mike?
[14:23:15] <lbergstrom> the shumway guy? I think that's his first name; sorry I don't know his nick...
[14:23:25] <lbergstrom> mbebenita
[14:23:32] <jdm> hmm, 7pm is when dinner is scheduled here, I think :/
[14:23:53] <jdm> jack and simon and I should figure out what to do about that
[14:23:57] <yury> lbergstrom: mbx
[14:24:32] <lbergstrom> jdm: yeah, you guys should definitely hit that instead since you're there. but we do need the servo intern project list thing by wednesday, I think they said
[14:24:35] <lbergstrom> yury: ty!
[14:24:47] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[14:33:53] <SimonSapin> sanxiyn: looks awesome, Iâ€™ll look at it in details
[14:34:28] <sanxiyn> SimonSapin: Mostly mechanical, except cssparse.rs and matching.rs
[14:34:36] <sanxiyn> cssparse.rs is your change
[14:34:52] *** Quits: bholley (anonymous@moz-E592B27C.adsl.alicedsl.de) (Ping timeout)
[14:35:09] <sanxiyn> matching.rs separates restyle_subtree with 4 pieces:
[14:35:18] <sanxiyn> match_node, match_subtree, cascade_node, cascade_subtree
[14:35:24] <sanxiyn> (so that *_node can be run in task in the future)
[14:35:36] <SimonSapin> sanxiyn, is this based on my WIP commit?
[14:35:41] <sanxiyn> yes
[14:35:49] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[14:36:09] <sanxiyn> You probably want to look at 2 changes to style crate
[14:36:20] <sanxiyn> One is that FontFamily enum variant needs to be public
[14:36:55] <sanxiyn> The other is that "h1, h2" actually doesn't parse... :( See changes for why.
[14:37:34] <SimonSapin> sanxiyn, Iâ€™ll do a pass on the whole style crate for visibility once rust-upgrade lands (with new visibility rules)
[14:37:42] <sanxiyn> Ah indeed
[14:40:31] *** Joins: bholley (anonymous@moz-29DB901D.adsl.alicedsl.de)
[14:41:37] *** Quits: myra (myra@9B9315E1.A6025CA.1C37C358.IP) (Ping timeout)
[14:42:07] *** Joins: myra (myra@9B9315E1.A6025CA.1C37C358.IP)
[14:44:12] *** Joins: jensnockert (jensnocker@moz-F903F162.homerun.telia.com)
[14:53:24] <jdm> jack: mystery solved. lars made a pull request that solved the problem over the weekend :)
[14:54:12] <jack> which myster?
[14:54:18] <jdm> the glfw one
[14:55:29] <jack> so if i merge his pull request, everything will work? :)
[14:55:51] <lbergstrom> "everything" is a broad statement :-)
[14:55:59] <jack> looksl ike the upgrade hang still happens :(
[14:56:01] <jdm> no, we're going to hold you to it
[14:56:04] *** Quits: bholley (anonymous@moz-29DB901D.adsl.alicedsl.de) (Quit: bholley)
[14:56:04] <jdm> we're big on accountability
[14:56:16] <jdm> waaaa :(
[14:56:27] * jdm supposes he should have actually tested that
[14:56:28] <jack> speaking of accountability, why is contesttest hanging jdm? :)
[14:56:36] <SimonSapin> sanxiyn: should I consider this a pull request?
[14:56:37] <lbergstrom> is there a pr I can help investigate for the freeze?
[14:57:04] <sanxiyn> SimonSapin: No :(
[14:57:09] <SimonSapin> sanxiyn: or do you want to change/fix stuff first?
[14:57:34] <sanxiyn> What do you mean?
[14:58:42] <SimonSapin> let me rephrase, is https://github.com/sanxiyn/servo/commits/new-style ready to be merged? If not, why not?
[14:59:02] <SimonSapin> (pending review)
[14:59:13] <sanxiyn> Well, for one, it would need to go after Rust upgrade
[14:59:54] <sanxiyn> For another, eh... formally, that URL does not exist and you are not supposed to have seen it :(
[15:00:05] <SimonSapin> rust upgrade: ok
[15:00:07] <sanxiyn> I guess I was a bit too happy to get it working...
[15:00:25] <SimonSapin> what do you mean?
[15:00:25] <sanxiyn> I need formal sign off inside the company, which I haven't got yet
[15:00:39] <SimonSapin> oh, ok
[15:00:49] <jdm> we'll knock simon out and he'll forget all about this
[15:00:56] <sanxiyn> :)
[15:01:09] <sanxiyn> Anyway, both formal sign off and Rust upgrade would be done tomorrow
[15:02:10] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[15:03:47] <sanxiyn> Yes, otherwise I consider it ready for merge
[15:03:55] *** Quits: jensnockert (jensnocker@moz-F903F162.homerun.telia.com) (Input/output error)
[15:03:59] <sanxiyn> Bah, it's already midnight :(
[15:04:55] <SimonSapin> sanxiyn: ok, please send a pull request when you have sign off
[15:05:04] <sanxiyn> Yup
[15:11:46] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[15:12:43] <Ms2ger> lbergstrom, you heard Dutch in Brussels? How'd that happen? :)
[15:14:46] *** Quits: dzbarsky (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[15:15:13] <lbergstrom> ms2ger, honestly, mainly the train announcements. Most everything else in shops seemed to be in french and it seemed like a lot of the other tourists were german, though I didn't get out much :-)
[15:16:15] <Ms2ger> That sounds about right :)
[15:17:00] *** kimundi is now known as zz_kimundi
[15:19:28] <Ms2ger> -        do self.with_mut_base |doc| {
[15:19:28] <Ms2ger> -            unsafe { cast::transmute(doc.reflector()) }
[15:19:29] <Ms2ger> -        }
[15:19:29] <Ms2ger> +        self.document().reflector()
[15:23:34] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[15:23:34] <ghservo> [13servo] 15Ms2ger opened pull request #1099: Remove {Node, Document}::{with_base, with_mut_base} (06master...06abstract-borrowed-pointers)  02http://git.io/LQrUBQ
[15:23:34] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[15:23:47] <Ms2ger> jdm, r?
[15:25:02] *** Joins: dzbarsky (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[15:27:32] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[15:27:32] <ghservo> [13servo] 15metajack closed pull request #1067: Rust upgrade (06master...06rust-up-20131014)  02http://git.io/WbMT6Q
[15:27:32] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[15:29:52] *** Quits: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP) (Ping timeout)
[15:30:08] *** Joins: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP)
[15:31:04] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[15:31:04] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14b5da99a to 14accec9c: 02http://git.io/c8GovQ
[15:31:04] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[15:31:04] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[15:31:05] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/TNgMdA
[15:31:05] <ghservo> 13servo/06auto 148e669a3 15Lars Bergstrom: We were removing the Window from TLS and thus destroying it after terminating the...
[15:31:05] <ghservo> 13servo/06auto 146d0066a 15bors-servo: auto merge of #1093 : larsbergstrom/servo/shutdown_window_destruction, r=metajack...
[15:31:05] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[15:32:13] *** Joins: dherman (dherman@moz-C6E36EE8.bltmmd.fios.verizon.net)
[15:32:13] *** ChanServ sets mode: +qo dherman dherman
[15:33:19] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[15:35:05] *** zz_kimundi is now known as kimundi
[15:37:23] *** Quits: dzbarsky (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[15:39:43] *** Joins: dzbarsky (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[15:39:51] *** Quits: dherman (dherman@moz-C6E36EE8.bltmmd.fios.verizon.net) (Quit: dherman)
[15:43:25] *** kimundi is now known as zz_kimundi
[15:44:23] *** Quits: kanru` (kanru@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[15:44:40] <jdm> jack: all content tests passed on your rebased pr for me :/
[15:45:48] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[15:46:02] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[15:46:02] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 146d0066a to 14accec9c: 02http://git.io/c8GovQ
[15:46:02] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[15:46:07] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[15:46:07] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/PkSM8g
[15:46:07] <ghservo> 13servo/06auto 148e669a3 15Lars Bergstrom: We were removing the Window from TLS and thus destroying it after terminating the...
[15:46:07] <ghservo> 13servo/06auto 14f274106 15bors-servo: auto merge of #1093 : larsbergstrom/servo/shutdown_window_destruction, r=metajack...
[15:46:07] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[15:47:25] <jack> jdm: i guess i'll retry it
[15:47:49] <jack> jdm: the first build after a rust upgrade failure is what goes wrong.
[15:48:02] <jack> i guess the auto-clean-target or something doesn't wait
[15:48:10] <jack> i thought i fixed htis :(
[15:48:10] <jdm> makes sense
[15:48:39] *** Quits: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP) (Quit: DeTeam)
[15:50:34] <Ms2ger> jdm, overlong line
[15:50:40] <jdm> yuck
[15:51:28] <jdm> Ms2ger: could you make an owner_doc variable to make a nicer line split?
[15:51:34] <Ms2ger> Sure
[15:56:37] *** Joins: bholley (anonymous@moz-F435A2D1.dip0.t-ipconnect.de)
[15:58:58] <Ms2ger> jdm, done
[15:59:01] * Ms2ger gets dinner
[15:59:36] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[16:01:57] *** Joins: lmandel (lmandel@125EF623.B2666F0E.66399531.IP)
[16:05:03] *** Joins: dzbarsky1 (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[16:05:08] *** Quits: dzbarsky (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Connection reset by peer)
[16:15:11] *** zz_kimundi is now known as kimundi
[16:22:52] *** joduinn-home is now known as joduinn-coffee
[16:28:40] *** dzbarsky1 is now known as dzbarsky
[16:30:51] <SimonSapin> Thatâ€™s new. /home/simon/projects/servo/src/components/main/servo.rc:1:0: 1:0 error: can't find crate for `std`
[16:31:01] <SimonSapin> jack: seen this before?
[16:31:07] <jack> SimonSapin: I think perhaps your rust didn't fully build?
[16:31:40] <jdm> SimonSapin: make clean, rebuild
[16:31:42] <jack> cd x86*/src/compiler/rust && make
[16:31:46] <jdm> I've seen that several taimes
[16:31:55] <SimonSapin> jack: 'make' in build/x86_64-unknown-linux-gnu/src/compiler/rust says 'nothing to do'
[16:32:40] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[16:32:41] <ghservo> [13servo] 15metajack reopened pull request #1067: Rust upgrade (06master...06rust-up-20131014)  02http://git.io/WbMT6Q
[16:32:41] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[16:32:52] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Ping timeout)
[16:33:06] <SimonSapin> trying 'make clean'
[16:33:08] <jack> can you use that rustc to compile a simple crate?
[16:34:02] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[16:34:02] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/PkSM8g
[16:34:02] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[16:34:02] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[16:34:02] <ghservo> [13servo] 15bors-servo closed pull request #1093: Fix error during shutdown on OSX (06master...06shutdown_window_destruction)  02http://git.io/F08qCw
[16:34:02] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[16:34:28] <SimonSapin> jack: yes, I think
[16:34:35] <SimonSapin> rust-cssparser builds
[16:35:22] *** Quits: dissimile (dissimile@moz-F3007ED4.static.as13285.net) (Quit: Either I put my laptop to sleep or my battery died)
[16:36:08] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Client exited)
[16:37:04] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[16:37:04] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/oyooIA
[16:37:04] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[16:37:08] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[16:37:08] <ghservo> 01[13servo01] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/YO1twQ
[16:37:08] <ghservo> 13servo/06auto 14364256e 15Ms2ger: Replace Node::{with_base, with_mut_base} by Node::{node, mut_node}.
[16:37:08] <ghservo> 13servo/06auto 14b907664 15Ms2ger: Replace Document::{with_base, with_mut_base} by Document::{document, mut_document}.
[16:37:09] <ghservo> 13servo/06auto 144d8f7fd 15bors-servo: auto merge of #1099 : Ms2ger/servo/abstract-borrowed-pointers, r=jdm
[16:37:11] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[16:38:45] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[16:39:11] <SimonSapin> make clean seems to have fixed it, somehow
[16:41:20] <SimonSapin> jack: 'make check' works for me on your rust-up-20131014 branch
[16:41:22] <SimonSapin> doesnâ€™t hang
[16:41:31] <SimonSapin> on Linux
[16:41:52] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[16:41:53] <ghservo> [13servo] 15jdm opened issue #1100: Print the test file that is about to be run  02http://git.io/5UIJ4g
[16:41:53] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[16:41:57] *** Joins: kanru` (kanru@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:43:06] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[16:43:12] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[16:43:18] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:44:57] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[16:45:27] <SimonSapin> jack, jdm: are we doing the weekly meeting?
[16:47:30] *** Quits: kanru` (kanru@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:47:48] <jack> SimonSapin: no.
[16:47:54] *** Quits: dbaron (dbaron@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:48:22] <jack> lbergstrom: can you guys chat about servo people? rust guys talked about 8 the idea being that if you split them around the year we could support more
[16:48:29] <jack> so bring it up and see what people say
[16:52:32] *** Quits: dzbarsky (Adium@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[16:52:34] <lbergstrom> jack: will do
[16:53:47] <lbergstrom> How do you want to do project brainstorming after we have a number? Should we create and send around a wiki page and try to bang on it over the next day or two?
[16:54:58] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[16:54:58] <ghservo> [13servo] 15bors-servo closed pull request #1099: Remove {Node, Document}::{with_base, with_mut_base} (06master...06abstract-borrowed-pointers)  02http://git.io/LQrUBQ
[16:54:58] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[16:55:00] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[16:55:01] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/YO1twQ
[16:55:01] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[16:57:53] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[16:57:53] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/VzVLRw
[16:57:53] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[16:58:57] *** Quits: myra (myra@9B9315E1.A6025CA.1C37C358.IP) (Quit: leaving)
[17:00:28] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[17:00:41] *** Quits: canhtak (jeremy@moz-1684132F.wl.t.ulaval.ca) (Quit: canhtak)
[17:00:54] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:02:14] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:06:56] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:06:56] *** ChanServ sets mode: +o brson
[17:07:09] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Lost terminal)
[17:17:10] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[17:17:10] <ghservo> [13servo] 15kmcallister reopened pull request #1092: Add a headless mode for tests (06master...06headless)  02http://git.io/-l9uSQ
[17:17:11] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[17:18:52] *** ahal is now known as ahal|lunch
[17:18:59] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[17:18:59] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/VzVLRw
[17:18:59] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[17:19:04] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[17:19:04] <ghservo> 01[13servo01] 15bors-servo pushed 5 new commits to 06auto: 02http://git.io/6cat8Q
[17:19:04] <ghservo> 13servo/06auto 144f1aa46 15Keegan McAllister: Split out the part of the compositor which makes OpenGL calls
[17:19:04] <ghservo> 13servo/06auto 14abe24d3 15Keegan McAllister: Remove unused imports
[17:19:05] <ghservo> 13servo/06auto 1451b9053 15Keegan McAllister: Add a headless null compositor...
[17:19:07] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[17:38:55] *** Joins: CaseyBec_ (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[17:39:15] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[17:45:57] *** Quits: bholley (anonymous@moz-F435A2D1.dip0.t-ipconnect.de) (Quit: bholley)
[17:48:53] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[17:50:35] *** Quits: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net) (Quit: Leaving...)
[17:50:39] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[17:50:57] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[17:50:59] *** ahal|lunch is now known as ahal
[17:51:14] <miketaylr> back
[17:55:15] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:55:15] *** ChanServ sets mode: +o pcwalton
[17:57:23] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Connection reset by peer)
[17:58:04] <brson> how much of servo is ported to rustpkg yet?
[17:58:59] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[18:03:46] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[18:05:02] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[18:06:08] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:15:46] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[18:16:33] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[18:16:46] <lbergstrom> brson: I do not believe that it has landed yet, but is in jack's repo
[18:16:50] <lbergstrom> https://github.com/metajack/servo/compare/start-rustpkg
[18:17:12] <lbergstrom> looks like he's got four of the submodules updated to it
[18:18:33] <lbergstrom> if this is something you'd like to see sooner, perhaps kmc or I could pick it up for him after the most recent rust update lands
[18:18:45] <lbergstrom> (since he's out in Paris for the week)
[18:19:32] <kmc> I don't know anything about rustpkg but I'm willing to jump in and learn :)
[18:22:16] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[18:23:02] <brson> building servo with rustpkg (not just 4 submodules) is our benchmark for rustpkg, so it's somewhat important for rust 1.0. we're talking like rustpkg is done, but I don't know how true that is
[18:23:25] <kmc> right
[18:24:45] <lbergstrom> kmc: unless there's something else major that you wanted to land in servo before the korea trip, the rustpkg work seems like a great candidate. Unless you hate build systems and wanted me to do it :-)
[18:25:19] <lbergstrom> there will probably be hideous autotools hacking...
[18:25:37] <lbergstrom> (I just don't want to get stabbed when you see me in Korea if it causes nightmares)
[18:27:33] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[18:27:33] *** ChanServ sets mode: +o tjc
[18:28:22] <kmc> haha
[18:28:33] <kmc> yeah I'm happy to work on that
[18:29:12] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Quit: Kostic)
[18:29:16] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[18:31:07] <pcwalton> I'm really not surprised that Servo master branch is so crashy on shutdown
[18:31:14] <pcwalton> the buffer memory management is totally messed up
[18:31:32] <pcwalton> it's taking a surprisingly large amount of work to fix it but I'm pretty confident I'm on the right track now
[18:34:31] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[18:34:43] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[18:34:56] <lbergstrom> pcwalton: I'm glad you've tracked it down! It seemed like something was off, since any time we didn't cache the buffers quite aggressively, we'd crash. But I couldn't track down where the mess-ups were
[18:35:33] <pcwalton> lbergstrom: I'm using the "destructor bomb" pattern
[18:35:42] <lbergstrom> kmc: jack's at a dinner for the conference thing right now in paris, so I don't know if he'll be on to chat about rustpkg stuff tonight or it'll be tomorrow eiffel-tower-time
[18:35:44] <pcwalton> I'm making us explicitly tear down buffers now
[18:35:57] <pcwalton> if you don't tear down the buffer, then the destructor will fire and cause a filure
[18:35:58] <pcwalton> failure
[18:36:09] <pcwalton> this ensures we get the memory management right
[18:36:15] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[18:36:33] <lbergstrom> pcwalton: aha, nice! So you basically add a Drop with a fail! in the body? 
[18:36:45] <pcwalton> yeah
[18:36:56] <pcwalton> brson independently used this technique in the libuv bindings
[18:37:02] <pcwalton> I named it the "destructor bomb" on Friday
[18:37:04] <pcwalton> ;)
[18:37:05] <lbergstrom> great idea - that would have made tracking those problems down much easier
[18:37:14] <pcwalton> you have to defuse the bomb with an explicit call to destroy()
[18:37:15] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[18:37:16] <lbergstrom> I was trying to debug the addref/releases and getting nowhere
[18:37:17] <pcwalton> or it blows up
[18:37:46] <pcwalton> I also made layerbuffers noncopyable
[18:37:51] <pcwalton> that helps a lot
[18:38:00] <pcwalton> reference counting doesn't really work cross process so we're going to have to do that anyhow
[18:38:18] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[18:39:14] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Client exited)
[18:54:33] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Quit: DeTeam)
[18:56:21] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[18:57:28] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:57:34] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[19:06:48] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:18:45] <pcwalton> heh, the buffer_map does nothing but leak on GPU rendering mode
[19:18:49] <pcwalton> it's not used correctly
[19:19:06] <pcwalton> in GPU rendering mode it really should be a DrawTargetMap, but I'm not fixing that now
[19:19:09] <pcwalton> I'll just disable it
[19:21:22] <kmc> I'm confused about what's going on with https://github.com/mozilla/servo/pull/1092
[19:21:32] <kmc> bors re-did the merge but isn't testing it?
[19:22:00] <kmc> oh, I see, the comments are just out of temporal order
[19:22:10] <kmc> it claims to be testing
[19:24:24] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[19:24:24] <ghservo> [13servo] 15Ms2ger opened pull request #1101: Wrap ValidityState eagerly. (06master...06vs-eager)  02http://git.io/leyN_A
[19:24:24] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:25:30] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[19:25:30] <ghservo> [13servo] 15Ms2ger opened pull request #1102: Remove no-op implementations from Document and HTMLDocument. (06master...06dead-document-code)  02http://git.io/v4DLsQ
[19:25:30] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:31:04] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[19:31:06] <SimonSapin> time zones againâ€¦
[19:32:41] *** Quits: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net) (Ping timeout)
[19:33:13] <SimonSapin> pcwalton: "destructor bomb", nice. Please write it up on the wiki!
[19:36:21] <bhearsum> jack: can you let me know if you continue to see long lead times for servo linux jobs?
[19:36:40] *** Joins: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net)
[19:40:10] *** Joins: canhtak (jeremy@moz-A67811CE.wl.t.ulaval.ca)
[19:42:41] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[19:47:15] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[19:47:46] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[19:49:34] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[19:51:27] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Ping timeout)
[19:56:09] <kmc> looks like it timed out again, http://servo-buildbot.pub.build.mozilla.org/builders/linux/builds/483
[19:56:17] <kmc> and bors didn't report it to github for some reason
[19:57:51] <kmc> I'm not sure what's going wrong; the tests always finish for me on linux
[19:58:26] <kmc> is there any way I can log into the buildbot, run the tests manually, and try to see where it's stuck?
[20:01:56] <SimonSapin> kmc: the rust upgrade hanged once in five 'make check' runs so far for me on Linux
[20:02:00] *** joduinn-coffee is now known as joduinn-mtg
[20:09:54] *** Joins: dherman (dherman@moz-C6E36EE8.bltmmd.fios.verizon.net)
[20:09:54] *** ChanServ sets mode: +qo dherman dherman
[20:13:35] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: class)
[20:15:35] *** Joins: eholk (eholk@moz-17BEA8A.bb.hrtc.net)
[20:21:02] <kmc> SimonSapin: well actually, yes, make check on master hangs for me because of the GUI hang-on-shutdown bugs, but I never saw that on the buildbot to my knowledge, and it shouldn't happen on this branch because I change the tests to run headless!
[20:23:23] *** Quits: dherman (dherman@moz-C6E36EE8.bltmmd.fios.verizon.net) (Quit: dherman)
[20:32:11] <bstrie> what are compile times for servo like, relative to compile times for rustc?
[20:33:01] <pcwalton> better
[20:33:04] <pcwalton> still not awesome but much better
[20:33:24] <bstrie> pcwalton: ballpark? like a third or so?
[20:33:29] <SimonSapin> (except when it involves rebuilding rust :])
[20:33:43] <pcwalton> I haven't measured, I can't really say
[20:33:51] <SimonSapin> bstrie: it really depends what you include
[20:34:19] <kmc> building just the servo crates (make clean-servo; make) takes only a few minutes
[20:34:43] <jgraham> Seems to take quite a few minutes on my machine
[20:34:57] <kmc> which is mostly time spent in rustc; a little bit in bindings generation (but that is fully parallelized whereas the rustc part isnt)
[20:35:01] <SimonSapin> we have many recursive dependencies, from llvm (through rust) to rust-cssparser
[20:35:08] <bstrie> someone asked a question on reddit regarding rust compile times vs c++ rust compile times, just wanted a rough estimate of the only other large rust program :)
[20:35:15] * jgraham would fear a full browser built with rust if the compiler couldn't get faster
[20:35:18] <bstrie> s/c++ rust/c++
[20:35:42] <kmc> "make clean-servo; make -j8" takes 48.87 seconds on my machine (Core i7-3840QM CPU @ 2.80GHz)
[20:36:23] <lbergstrom> the real killer is changes to gfx or script, as the incremental build isâ€¦ 48.87 seconds
[20:36:38] <lbergstrom> it's not too bad when you're just making a change in the main servo crate
[20:36:55] <kmc> as for the other stuff you build in a clean build, i think it's LLVM, rustc >> NSS, SpiderMonkey > everything else
[20:37:11] <kmc> yeah it would be good if our crate dep graph wasn't a line
[20:37:14] <kmc> pretty hard to manage though
[20:37:41] <kmc> (actually util and msg can build in parallel, I think)
[20:37:47] <kmc> (but they're both tiny)
[20:38:43] <kmc> bstrie: I think comparing Rust to C++ build times today is not fair for the long term because C++ compilers are mature and rustc isn't
[20:38:46] <kmc> u
[20:38:54] <kmc> (whoops mis-send)
[20:39:21] <bstrie> kk
[20:39:22] <kmc> our approach should allow much faster compiles once the engineering effort to make it so is put in
[20:39:41] <bstrie> kmc: define "our approach"... for servo or for all rust code?
[20:40:06] <bstrie> and is that approach to have a whole lot of little crates rather than a few huge ones like rustc?
[20:40:30] <SimonSapin> 'make clean-servo; make -j8', 1min56 on my laptop
[20:40:45] <kmc> bstrie: I mean the approach of the rust language in general
[20:40:55] <kmc> real module system vs. header files and lots of duplicated codegen
[20:41:21] <kmc> the latter is why compiling C++ is so slow, afaik, and it's a fundamental part of the design of C++
[20:41:37] <kmc> (that and the generally heinous complexity of C++ syntax and semantics)
[20:41:51] <bstrie> kmc: I thought I remembered hearing something about crates making it hard or impossible to implement incremental recompilation... but this was a long time ago
[20:42:25] <kmc> well your incremental unit is a crate
[20:42:37] <kmc> if you have lots of crates you still get good incremental recompilation
[20:43:02] <bstrie> right, but graydon was always adamantly against splitting up rustc into lots of little crates for the sake of speed :)
[20:43:06] *** Joins: tikue_ (tikue_star@26B1884B.3B4A6B80.689607DE.IP)
[20:43:29] <kmc> both Rust and C++ let you do scoping / visibility on a unit smaller than the compilation unit
[20:43:29] <bstrie> though that might have just been out of desire to not take the easy way out wrt perf
[20:43:36] *** joduinn-mtg is now known as joduinn-afk
[20:44:14] *** Quits: Jackneill (Jackneill@moz-344A6123.pool.digikabel.hu) (Input/output error)
[20:44:20] <kmc> well splitting up crates is painful because you have to avoid circular dependencies
[20:44:33] <kmc> but the same is true for splitting up C++ compilation units, kinda
[20:45:43] <kmc> in C++ you can have mutually recursive functions in different compilation units just by forward-declaring them
[20:45:47] <kmc> we don't have that option
[20:46:07] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[20:47:52] <SimonSapin> but because you can not have circular dependencies between crates, lots of small crates may be hard to do
[20:48:04] <SimonSapin> oh, thatâ€™s what kmc just said :)
[20:51:23] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: pcwalton)
[20:57:10] *** Quits: annevk (annevk@88F51059.F3BBB17D.144F44FA.IP) (Input/output error)
[21:00:27] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:00:27] *** ChanServ sets mode: +o pcwalton
[21:02:13] *** Joins: kanru` (kanru@moz-BAE8D951.pck.nerim.net)
[21:03:19] *** joduinn-afk is now known as joduinn
[21:11:52] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:19:58] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[21:19:58] <ghservo> [13servo] 15kmcallister opened pull request #1103: Eagerly reflect {,UI,Mouse}Event and clean up related duplicated code (06master...06eager-wrap)  02http://git.io/u5qrIg
[21:19:58] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[21:26:12] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[21:28:49] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:30:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:31:57] *** Quits: tikue_ (tikue_star@26B1884B.3B4A6B80.689607DE.IP) (Ping timeout)
[21:33:18] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[21:33:40] *** Joins: tikue_ (tikue_star@26B1884B.3B4A6B80.689607DE.IP)
[21:40:00] <kmc> ^ r? anyone with a free moment (pcwalton?)
[21:40:07] <pcwalton> on it
[21:40:10] <kmc> thanks
[21:42:17] *** kimundi is now known as zz_kimundi
[21:43:14] *** Quits: ahal (ahal@moz-94F07FF4.cable.teksavvy.com) (Quit: Leaving)
[21:46:56] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[21:47:48] *** Quits: eholk (eholk@moz-17BEA8A.bb.hrtc.net) (Quit: eholk)
[21:54:27] *** Quits: tikue_ (tikue_star@26B1884B.3B4A6B80.689607DE.IP) (Client exited)
[22:00:49] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:01:49] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[22:06:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:07:38] *** Joins: annevk (annevk@7F0CC393.4F390C2A.420B7681.IP)
[22:07:54] *** Quits: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com) (Quit: Leaving)
[22:08:40] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[22:09:21] *** Quits: annevk (annevk@7F0CC393.4F390C2A.420B7681.IP) (Ping timeout)
[22:10:26] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:20:08] *** Quits: CaseyBec_ (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[22:22:50] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[22:23:03] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:23:48] *** Joins: dbaron (dbaron@87C1F78E.1DE10CA8.D8E68FF6.IP)
[22:23:57] *** Quits: dbaron (dbaron@87C1F78E.1DE10CA8.D8E68FF6.IP) (Connection reset by peer)
[22:37:18] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[22:39:38] *** Joins: dzbarsky (Adium@moz-BAE8D951.pck.nerim.net)
[22:41:49] <kmc> can I push stuff to mozilla/servo's 'try' branch to test it on buildbot? will that just happen on push?
[22:47:35] <jack> i don't think we have any kind of try builder
[22:47:38] <jack> or does bors do that?
[22:48:14] *** lbergstrom is now known as lbergstrom|dinner
[22:48:34] *** Joins: eatkinson (eatkinson@E606E84C.772DB3ED.90B17E8F.IP)
[22:50:56] <kmc> yeah I don't know
[22:51:04] <kmc> kinda stuck on how to debug my mysteriously hanging test suite
[22:53:39] *** Joins: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com)
[23:00:42] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[23:06:40] <jack> I assume it doesn't hang for you?
[23:06:56] <jack> if it makes you feel better, my PR is stuck for a similar reason
[23:16:13] *** Quits: dzbarsky (Adium@moz-BAE8D951.pck.nerim.net) (No route to host)
[23:16:16] *** Joins: dzbarsky1 (Adium@moz-BAE8D951.pck.nerim.net)
[23:18:11] <kmc> it doesn't hang, no
[23:20:02] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[23:20:02] <ghservo> [13servo] 15ibnc opened pull request #1104: Implemented HTMLScriptElement.Src (06master...06script_dev)  02http://git.io/eL7_bw
[23:20:02] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[23:21:00] *** lbergstrom|dinner is now known as lbergstrom
[23:22:15] <kmc> been running it in a loop for a while
[23:22:23] <lbergstrom> awesome - our first OPW candidate PR :-)
[23:22:35] <lbergstrom> we're gonna need more E-Easy issues...
[23:22:50] <pcwalton> ok, I think I've finally gotten it working crash-free in both CPU and GPU rendering mode in linux
[23:22:56] <pcwalton> and leak-free, and shared-GL-context free
[23:22:56] <kmc> \o/
[23:22:58] <pcwalton> *deep breath*
[23:23:13] <pcwalton> time to rip out debug code and commit this to my branch, then switch back to mac
[23:23:46] <pcwalton> btw, I think it'll be easy to implement the equivalent of draw target caching soon after this, speeding up GPU rendering a lot
[23:24:37] <lbergstrom> that's fantastic!
[23:24:39] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[23:25:22] <jack> So some excellent news from Paris. Bas broke moz2d into it's own repo and fixed all the xpcom includes and maintains it that way.
[23:25:37] <jack> So we can just get it from upstream now
[23:26:19] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:26:41] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[23:27:14] <kmc> is that Azure?
[23:27:28] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:27:48] <pcwalton> jack: high five for Bas
[23:28:42] *** Quits: dzbarsky1 (Adium@moz-BAE8D951.pck.nerim.net) (Quit: Leaving.)
[23:28:56] <kmc> nice
[23:30:05] <jack> kmc: yes
[23:30:20] *** Joins: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:30:31] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[23:31:11] *** Quits: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt) (Input/output error)
[23:36:11] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Quit: )
[23:46:02] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[23:46:27] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[23:48:35] *** Quits: Jayflux (Jason@moz-CE5AEEA5.as13285.net) (Quit: Leaving)
[23:49:13] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[23:49:13] <ghservo> [13servo] 15metajack closed pull request #1092: Add a headless mode for tests (06master...06headless)  02http://git.io/-l9uSQ
[23:49:13] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[23:50:23] *** Quits: eatkinson (eatkinson@E606E84C.772DB3ED.90B17E8F.IP) (Quit: eatkinson)
[23:52:09] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[23:52:09] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 145c4582f to 144d8f7fd: 02http://git.io/c8GovQ
[23:52:09] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[23:52:14] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[23:52:14] <ghservo> 01[13servo01] 15bors-servo pushed 4 new commits to 06auto: 02https://github.com/mozilla/servo/compare/4d8f7fd056cc...ac0739616c66
[23:52:14] <ghservo> 13servo/06auto 145b131ef 15Jack Moffitt: Don't build package by default.
[23:52:14] <ghservo> 13servo/06auto 148b47221 15Jack Moffitt: Small bugfixes in sub.mk.
[23:52:14] <ghservo> 13servo/06auto 149420266 15Jack Moffitt: Update to latest Rust.
[23:52:15] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[23:54:45] <lbergstrom> kmc: for your pr, contenttests pass on repeated runs on OSX as well (though I expected that from the build logs)
[23:54:57] <lbergstrom> it's interesting that it seems to freeze at different points on different tests each time
[23:55:27] <kmc> yeah
[23:55:38] <kmc> we run contenttests in parallel so the output may not be very useful
[23:56:01] <jack> kmc: jdm was working on fixing that earlier.
[23:56:07] <kmc> which?
[23:56:13] <jack> making test output better
[23:56:15] <kmc> okay
[23:56:27] <kmc> what I want to do is just log in, run the tests by hand in GDB, and interrupt when it hangs to get a backtrace
[23:56:32] <jack> if you don't figure it out today we'll bang on it in the morning
[23:56:35] <kmc> but I don't know how to do that directly
[23:56:45] <kmc> and I could script it into make check on some try branch but it sounds really cumbersome
[23:57:02] *** Joins: marcosc (marcosc@moz-2A8960F4.dsl.telepac.pt)
[23:57:26] <lbergstrom> aha, the parallel thing might also explain why sometimes there is no ALERT: output from the passing tests, I guess
[23:58:10] <jack> it occurs to me it might be a memory issue
[23:58:21] <jack> it spins up N servo windows at once
[23:58:39] <kmc> oh interesting, do you think our memory consumption got much worse recently?
[23:58:52] <kmc> we don't have automatic graphs yet do we
[23:58:56] <jack> I don't know, but the linux vm might have less memory than our laptops
[23:59:00] <kmc> i can try bisecting that, it's something to try anyway
[23:59:26] <jack> i have to sleep now. already way late.
[23:59:31] <kmc> 'night jack
[23:59:32] *** jack is now known as jack|zzz
[23:59:56] *** Quits: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse_)
