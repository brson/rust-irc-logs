[00:01:21] <tautologico> bjz_: do you know if sublime-rust is compatible with ST3?
[00:01:30] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[00:01:31] <bjz_> yep, it is
[00:01:48] <earlz> So, this is what I made work. A way of specifying routes in a web application:
[00:01:49] <earlz> let mut blog = @mut router.controller(|c| BlogController::new(c));
[00:01:49] <earlz> blog.handles(~"/blog").with(|c| c.index());
[00:01:53] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:02:00] <maikeru> Nice.
[00:02:10] *** Joins: GGpin (hell@moz-B9EFFE2E.dyn.optonline.net)
[00:03:27] <ercxx> earlz: The problem I had was to find a suitable place for the router.
[00:03:36] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:03:39] <ercxx> rust-http likes cloning itself
[00:03:43] <ercxx> the server I mean
[00:03:56] <earlz> heh so you're a contributor to that? 
[00:04:20] <earlz> I saw it, but felt like hacking together stuff with /cgi-bin would be easier while I'm learning heh
[00:04:41] <ercxx> It's ChrisMorgan's baby.
[00:04:59] <tautologico> bjz_: that's great, will try to install it soon
[00:06:01] <ercxx> If that router could be a global object that would be nice.
[00:06:24] <earlz> I'm wanting to fill the sore lack of an MVC framework  in Rust(portable to different servers)... but first I have to learn the language enough to get it to work :) 
[00:06:24] <bjz_> tautologico: use the package manager :)
[00:06:38] <maikeru> Hey, I'm playing with rust-http too, we should hang out.
[00:06:43] <tautologico> bjz_: installing package control now
[00:06:46] <ercxx> earlz: same here
[00:06:53] <bjz_> earlz: nothing better than to have a project to learn a language
[00:07:16] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[00:07:30] <ercxx> You can get rust-http and rust-sqlite to throw something together.
[00:07:36] <bjz_> earlz: just dive in :) refactor lots as you learn how to do stuff ideomatically
[00:07:39] <earlz> yea, that's the only way I can really learn a language significantly. Especially one like Rust where the documentation is still a work in progress
[00:08:01] <maikeru> Are there ANY SSL implementations? Cause I need https client now...
[00:08:07] <ercxx> There's a mustache implementation in rust.
[00:08:13] <cmr> Amaranth: no
[00:08:13] <ercxx> SSL? I don't think so.
[00:08:16] <cmr> Erm, maikeru: no
[00:08:33] <cmr> Bind to openssl or nss or whatever pleases you
[00:08:37] <bjz_> earlz: and 'ideomatic', 'rustic' code is still something that we are all still working out how to write
[00:08:46] <bjz_> earlz: which is why its so exciting
[00:08:54] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[00:08:55] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[00:09:00] <earlz> See, how hard would it be to get something like a mod_rust for Apache going so that an HTTP server doesn't have to be written from scratch? 
[00:09:11] <earlz> Yes indeed Scary, but exciting :) 
[00:09:25] <bjz_> not scary :)
[00:09:43] <bjz_> (all that much)
[00:09:44] <earlz> It's only not scary if you're not afraid of writing code that'll break next week :) 
[00:10:01] <ercxx> earlz: here's an early attempt at a Sinatra inspired framework in rust : https://github.com/skade/widmann
[00:10:10] <bjz_> heh, just gotta keep up with the updates to master
[00:10:14] *** Joins: ChrisMorgan (chris@moz-6E17E753.its.monash.edu.au)
[00:10:24] <earlz> Personally, I like the idea of being able to contribute to help shape the future of the language and community :) 
[00:10:30] <bjz_> it's much easier than updating at the end of the release cycle
[00:10:35] <ercxx> Contribute to rust-http
[00:10:39] <bjz_> plus, you get all the new goodies
[00:10:42] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[00:10:56] <bjz_> earlz: you can be a rust expert before the pack!
[00:11:03] <ChrisMorgan> ercxx: how've you gone with the LWS stuff?
[00:11:09] *** Joins: Jessin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[00:11:15] <earlz> that sinatra clone is pretty cool looking
[00:11:36] <ChrisMorgan> earlz: then you get to sign up for the jobs that want 5 years of X experience when it's only been released for 3 years :P
[00:11:47] <ercxx> ChrisMorgan: I don't know. It was kinda brutal for me. Take a look : https://github.com/eerden/rust-http/tree/removeLWS
[00:12:09] <earlz> lol I was thinking exactly that! I wonder how long it'll be before Rust becomes somethign that HR drones know about 
[00:12:16] <ercxx> It only fails one test from the ones I enabled.
[00:12:26] * ChrisMorgan continues to wonder why links open in Opera rather than Firefox since switching from Unity to i3
[00:13:05] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[00:13:21] <ercxx> ChrisMorgan: xdg-open related probably.
[00:13:24] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[00:13:45] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[00:14:02] <ChrisMorgan> I know vaguely why such things happen, I'm just puzzled as to why switching window manager would have triggered it.
[00:14:18] *** Quits: GGpin (hell@moz-B9EFFE2E.dyn.optonline.net) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[00:14:21] <ChrisMorgan> ercxx: `::std::str::replace(header.header_value(), " ", "&nbsp")` is *not* what is wanted there!
[00:14:46] <earlz> rust-http looks quite promising, even if it is early.. Is there any plans to move away from the code generation you do with branchify? 
[00:14:54] <ktt3ja> where can I find the queue data structure in the library?
[00:15:00] <ercxx> :) The examples/info right. I just wanted to see it in the browser.
[00:15:11] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[00:15:18] <eddyb> aatch: progress, found my next point of interest: if !this.move_data.is_assignee(expr.id) {
[00:15:22] <ChrisMorgan> (a) it would be `&nbsp;`, not `&nbsp`; (b) it should represent it directly; if extra whitespace displaying is desired, you'd put something like <style>code{white-space: pre}</style> in the head
[00:15:38] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[00:16:26] <ChrisMorgan> earlz: I don't think so; the code generation is essentially producing a very long but very efficient state machine. It's quite a lot faster than the direct approach of "read the entire token and then compare it".
[00:17:06] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[00:17:12] *** Joins: aegeaner (Aegeaner@C8372C16.21B75AD6.FA28A497.IP)
[00:17:13] <ChrisMorgan> earlz: do you have a reason why you don't like it?
[00:17:41] <earlz> It's not that I don't like it, I was just curious as to if it was a workaround for the language or just part of business
[00:17:47] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[00:18:02] <earlz> I assume macros aren't powerful enough to handle it (I've barely looked at them)
[00:18:09] <ChrisMorgan> That's correct, at present at least.
[00:18:24] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:19:18] <ChrisMorgan> Long term, I don't want there to need to be any preprocessing-style code generation; custom syntax extensions should permit that, though probably not before Rust 1.0. But at present it's a trade-off which I've taken the other side of.
[00:19:29] <earlz> I'm a big fan of T4, a code generator thing for C#, so I'm not saying code generation is bad, but it's rather rare outside of things like parser generators
[00:19:46] <ChrisMorgan> Well, that's what this is.
[00:19:56] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[00:20:36] *** Parts: aegeaner (Aegeaner@C8372C16.21B75AD6.FA28A497.IP) ()
[00:20:46] *** Joins: aegeaner (Aegeaner@C8372C16.21B75AD6.FA28A497.IP)
[00:21:08] <maikeru> rust-http seems very server focused at the moment... figures I'd start out by using it as a client
[00:21:10] <earlz> ah. btw, when I do start learning crates and that kind of thing I'll probably be contributing or at least integrating with rust-http :) There aren't any other HTTP servers or interfaces out there yet are there? 
[00:21:35] <ChrisMorgan> Actually, the status module can be done in macros, but it requires, at present, specifying multiple forms of the name. Rather than just saying "I'm a teapot" and be done with it, the macro would need to be given both "I'm a teapot" and `ImATeapot`. I'm still leaning towards switching it to using macros.
[00:22:07] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:22:25] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[00:22:51] <ChrisMorgan> maikeru: I started it with server; client would have come later, but Servo wanted a client and I didn't like the idea of their using the Joyent parser (which is awful, even if used by nginx and node) so I implemented the client part immediately.
[00:23:19] <cmr> yeah, the joyent parser is quite terrible
[00:23:22] <cmr> I worked on it for a good bit
[00:23:35] <ChrisMorgan> earlz: no, rust-http was, to the best of my knowledge, the first serious attempt at an HTTP library, and it seems to have become the de facto standard.
[00:24:18] <maikeru> ah
[00:24:20] <ChrisMorgan> cmr: just goes to show that code being popular (you certainly see a great number of things derived from their parser, because it's very easy to embed) doesn't mean it's good!
[00:24:40] <maikeru> well, I'll probably be hacking on that a bit here...
[00:25:34] <eddyb> cmr: liveness analysis, removal of ExprAddrOf and now fixing borrowck to collect the outputs as assignemnts
[00:25:44] <Amaranth> I haven't looked but is it true that parser is an unreadable mess of async code?
[00:26:20] <ChrisMorgan> ercxx: I suggest you stop considering the CR at all: ignore it entirely in the parsing, just passing it through, and let it be considered LWS. Operate only on the LF for newline detection. That's simpler and is actually suggested in RFC 2616.
[00:26:30] <cmr> Amaranth: Joyent's? Yes.
[00:26:35] <Amaranth> Like, it works, it's fast, it's easy to embed in your program, but hope you don't have to modify it
[00:26:39] <cmr> Entirely unreadable.
[00:26:51] <cmr> I got 90% to implementing generic HTTP method parsing
[00:26:59] <ercxx> ChrisMorgan: ok
[00:27:13] <cmr> I'll probably come back to it for this years' 25 days of code
[00:27:20] <ChrisMorgan> ercxx: actually, hang on... "HTTP allows CRLF, bare CR, and bare LF to indicate a line break within text content when a message is transmitted over HTTP." :-/
[00:27:54] <ChrisMorgan> (That's RFC 2616, section 19.4.2)
[00:28:02] <ercxx> there's also something with CR inside quotes.
[00:28:28] <ChrisMorgan> Not sure how that fits with section 19.3, "The line terminator for message-header fields is the sequence CRLF. However, we recommend that applications, when parsing such headers, recognize a single LF as a line terminator and ignore the leading CR."
[00:28:33] <maikeru> ugh.. a bare CR seems stupid... how can I implement HTTP on my IBM Selectric?
[00:28:56] <Amaranth> maikeru: MacOS :)
[00:28:58] <tiffany> I was familiar with the 19.3 one
[00:29:03] <ercxx> ChrisMorgan: That makes sense.
[00:29:09] <maikeru> headers aren't considered a "message" I assume.
[00:29:10] <tiffany> crlf but some non-conforming paplications use bare cr/bare lf
[00:29:46] <ChrisMorgan> Yeah, that was all I'd remembered. The 19.4.2 one I had forgotten.
[00:30:01] <ChrisMorgan> messge-header is the "Foo: bar\r\n" part.
[00:30:14] <ChrisMorgan> Sorry, the "Foo: bar" part (sans \r\n)
[00:31:22] <Amaranth> Right so the headers can only use \r\n but they recommend just looking for the \n (bad programs in unix?) while the body can use whatever it wants?
[00:32:15] *** Joins: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de)
[00:32:16] <ercxx> ChrisMorgan: When in a quote the bytes after CR disappear, and can't be reached.
[00:32:17] <ChrisMorgan> I don't know. I really don't know. HTTP/1.1 is a bad spec that leaves quite a lot of ambiguous or unspecified behaviour.
[00:32:29] <ercxx> ChrisMorgan: Didn't look at that yet.
[00:32:44] <maikeru> And your mission is to implement it. Good job. *salute*
[00:32:57] <Amaranth> I'd go with the more restrictive definition until someone shows an example of where it breaks something
[00:33:04] <maikeru> ^^^
[00:33:16] <Amaranth> Better that than putting another too permissive implementation out that muddles what HTTP means even more
[00:33:46] <ercxx> I believe  headers::connection::test_connection_8 fails because of that. I'll look at it tonight.
[00:34:07] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:34:14] <aatch> eddyb, sorry, was out at lunch. also, I think you should move over to #rust-internals
[00:35:35] <ChrisMorgan> ercxx: CRLF is allowed in TEXT (thus in quoted-string) as LWS (e.g. CR LF SP). And it's "expected to be replaced with a single space before interpretation of the TEXT value" (that was part of the reason I had the LWS collapsing in the first place; it just eventually became evident that doing it like that made more problems)
[00:36:07] <ercxx> ChrisMorgan: I'll attack it after a coffee.
[00:37:30] <ChrisMorgan> I *think* that it might actually be reasonable to just drop CR altogether, but I don't understand 19.4.2's "bare CR" provision. Maybe consider it an error :-)
[00:37:38] *** Quits: Jessin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Quit: Leaving)
[00:39:24] <ercxx> ChrisMorgan: I'm reading it now.
[00:40:22] <maikeru> ooh.. this is fresh: https://github.com/sfackler/rust-ssl
[00:40:24] <ChrisMorgan> "within text content" probably suggests the entity-body, actually, which would absolve the headers from it.
[00:40:34] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Quit: Konversation terminated!)
[00:40:50] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[00:41:34] *** Joins: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[00:41:37] <ercxx> ChrisMorgan: that shouldn't apply to headers.
[00:41:47] <ChrisMorgan> Correct, I think.
[00:42:10] <ChrisMorgan> HTTP's MIME heritage is both a blessing and a curse.
[00:42:56] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[00:43:38] *** Quits: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de) (Ping timeout)
[00:44:21] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[00:44:30] *** Quits: fyolnish (fyolnish@moz-4DE2B71.uqwimax.jp) (Ping timeout)
[00:45:11] *** Joins: fyolnish (fyolnish@moz-4DE2B71.uqwimax.jp)
[00:46:09] <ercxx> ChrisMorgan: Just found this : Header fields can be
[00:46:10] <ercxx>    extended over multiple lines by preceding each extra line with at
[00:46:13] <ercxx>    least one SP or HT.
[00:46:18] <ercxx> oops
[00:47:02] <ChrisMorgan> ercxx: yep, that's the hardest part of LWS, supporting `CR LF SP` correctly. That's why at least one byte must be read ahead at the end of a header value.
[00:47:06] <sfackler> maikeru: :) be careful using that. it's in the _very_ early stages
[00:47:28] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[00:47:35] <maikeru> sfackler: I see that, but then again so is the language it's written in... 
[00:47:37] <ChrisMorgan> sfackler: how does it fit in with the "no crypto" advice we've received from security experts?
[00:47:46] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:47:51] * ChrisMorgan high-fives maikeru
[00:48:07] <cmr> ChrisMorgan: that advice was for the stdlib
[00:48:23] *** Quits: kurisumasu (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: G'night everynyan~!)
[00:48:52] <ChrisMorgan> cmr: I know, but it's still worth considering in other things for the same reasons.
[00:48:55] <cmr> Yes
[00:49:07] <sfackler> ChrisMorgan: it's just a wrapper around openssl
[00:49:21] <ChrisMorgan> Good, that's the sort of thing I wanted to hear :-)
[00:49:24] <sfackler> yeah
[00:49:38] <sfackler> there is no way I would get within a mile of implementing TLS myself :)
[00:49:38] <maikeru> oh.. oh god.. can you nest matches?
[00:49:44] <cmr> maikeru: of course
[00:49:53] <maikeru> That sounds like it could get hairy
[00:50:00] <maikeru> ah well *dives in*
[00:50:17] <cmr> not really, and I've written/maintained some decently sized state machines implemented using matches
[00:50:20] * ChrisMorgan also shudders at the notion of implementing SSL/TLS and will be content with HTTP for now
[00:50:38] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[00:51:17] <ercxx> ChrisMorgan: Did you try Awesome?
[00:52:09] <ChrisMorgan> Seriously, matches and blocks-as-expressions are *marvellous* for writing state machines. Rust has rubbed some of the gloss off Python for me with such things. There's certainly no way I'd even try writing anything like rust-http in Python (doing such a thing as the header scheme I've taken without good type checking would be folly)
[00:52:28] <ChrisMorgan> ercxx: not certain what you're referring to.
[00:52:40] <ercxx> ChrisMorgan: window manager.
[00:52:49] <ercxx> I saw you mentioned i3.
[00:53:06] <cmr> Awesome is not very good software
[00:53:11] <ChrisMorgan> Oh, that. I looked at it briefly and agreed with Chris Glass that i3 seemed to match my requirements better.
[00:53:32] <ChrisMorgan> (It was http://tribaal.org/using-i3.html that nudged me into actually getting round to trying a tiling window manager.)
[00:53:42] <tautologico> I don't understand why pattern matching is not more widespread
[00:53:55] <ChrisMorgan> What is that? A channel about Rust or a social channel? :P
[00:54:04] <tautologico> one of the huge wins of using ML/Haskell for me
[00:55:01] <SiegeLord> You kind of need algebraic datatypes for them to be compelling, no?
[00:55:33] <tautologico> more compelling, yes
[00:55:38] <ercxx> Are there any plans for replacing 'match' with a symbol/sigil?
[00:55:45] <cmr> ercxx: no
[00:55:53] <ercxx> cmr: that was quick
[00:55:53] *** Quits: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:55:53] <tautologico> ercxx: why?
[00:56:08] <ercxx> tautologico: I'm a very lazy man.
[00:56:09] <tautologico> you think there are too few sigils? :)
[00:56:16] <ercxx> I love sigils.
[00:57:02] <tautologico> that's how start, you're switching keywords to sigils and one day you look at it and it's perl
[00:57:12] <tautologico> how it starts
[00:57:19] <ChrisMorgan> Then you look again, and it's APL.
[00:57:28] <cmr> Then you look again, and all you see is the matrix
[00:57:29] <tautologico> APL is great
[00:57:31] <ercxx> That means rust can not have a version 6, ever!
[00:57:45] <ercxx> Look at this beauty: http://www.gnu.org/software/apl/APL_demo.html
[00:58:04] *** Joins: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net)
[00:58:06] <tautologico> ercxx: don't say that, a perl fanboy almost hit me because I said that once
[00:58:17] <ercxx> tautologico: hehe :)
[00:58:29] * ChrisMorgan is biased against APL on account of not being familiar with it. ercxx's cited example looks surprisingly legible—only illegible rather than utterly illegible.
[00:58:40] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[00:58:53] <tautologico> there's J, which is APL with ASCII characters
[00:59:14] *** Quits: q66__ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[00:59:17] <ercxx> Now if it only had colors
[00:59:18] <tautologico> from the same people behind APL
[01:00:07] <tautologico> http://www.jsoftware.com/jwiki/Studio/SimpleExamples
[01:01:23] <tautologico> J is also influenced by FP… sometimes I wish I had FP constructs while programming Haskell/ML
[01:02:55] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:02:56] *** Quits: ChrisMorgan (chris@moz-6E17E753.its.monash.edu.au) (Ping timeout)
[01:03:00] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[01:04:15] *** Joins: ChrisMorgan (chris@moz-6E17E753.its.monash.edu.au)
[01:04:56] <maikeru> MUHAHAHAHAHAHAHAHA IT COMPILES
[01:06:26] <maikeru> but didn't work >.<
[01:06:40] *** Joins: squiddy_ (squiddy@moz-FF47E765.adsl.alicedsl.de)
[01:07:48] *** Quits: [squiddy] (squiddy@moz-8A4A4B84.adsl.alicedsl.de) (Ping timeout)
[01:10:06] *** Quits: ksf_ (ksf@moz-5534317B.adsl.alicedsl.de) (Quit: Leaving)
[01:10:06] *** Quits: ChrisMorgan (chris@moz-6E17E753.its.monash.edu.au) (Connection reset by peer)
[01:11:26] *** Joins: weechat_user (weechat@moz-42C05DA2.members.linode.com)
[01:11:58] <weechat_user> hey all, I have rust installed and compiling test programs, but I'm unclear if I need to do anything to get any of the `extras` modules, such as url, etc?
[01:12:04] *** weechat_user is now known as baranaby
[01:12:24] <cmr> baranaby: `extern mod extra` links to libextra.
[01:14:35] *** Joins: MrByte (Dartakio@moz-147070D0.chy-wy.client.bresnan.net)
[01:15:03] *** Quits: tikue3 (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Client exited)
[01:15:43] <maikeru> MUAHAHAHAHA IT WORKS
[01:16:39] <maikeru> I HAVE IMPROVED rust-http IN AN EXTRMELY SLIGHT MANNER
[01:17:13] <ercxx> How so>
[01:17:15] <ercxx> ?
[01:17:58] *** Quits: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP) (Ping timeout)
[01:19:09] <maikeru> it determines port based on scheme
[01:19:26] <maikeru> it's really trivial, but having it compile and work is nice anyway
[01:21:09] <ercxx> cool, compile time's a little too long for my taste though.
[01:21:20] <cmr> of rust-http?
[01:21:50] <maikeru> compiling the main library seems speedy actually
[01:22:16] *** Joins: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP)
[01:22:22] <maikeru> well maybe not speedy, but it seems to spend longer on the examples and what not
[01:23:18] *** Joins: ChrisMorgan (Mibbit@moz-6E17E753.its.monash.edu.au)
[01:23:27] <ercxx> yeah, I have an i5 with 8g ram and : make  32.84s user 0.67s system 100% cpu 33.507 total
[01:23:42] <cmr> make builds the examples.
[01:24:17] <ercxx> I know
[01:24:19] <cmr> 13s for just the lib, for me.
[01:24:30] <cmr> which isn't short, but it's not all that long
[01:24:33] <baranaby> ok well I guess I have no idea how to use rust-http then... I have it cloned to my workspace/src directory but make is complaining about `url` references
[01:25:11] *** Joins: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP)
[01:25:27] *** Quits: ChrisMorgan (Mibbit@moz-6E17E753.its.monash.edu.au) (Quit: http://www.mibbit.com ajax IRC Client)
[01:25:31] <ercxx> baranaby: what do you mean?
[01:25:45] *** Joins: ChrisMorgan (Mibbit@moz-6E17E753.its.monash.edu.au)
[01:26:35] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[01:27:38] *** Joins: ChrisMorgan1 (chris@moz-6E17E753.its.monash.edu.au)
[01:28:12] *** Quits: ChrisMorgan (Mibbit@moz-6E17E753.its.monash.edu.au) (Quit: http://www.mibbit.com ajax IRC Client)
[01:28:43] <ChrisMorgan1> *Whew* connection has started working again. Now I can kill the Mibbit attempt which was really not working well (possibly something to do with the Disconnect extension, even when whitelisted).
[01:28:54] *** ChrisMorgan1 is now known as ChrisMorgan
[01:29:45] <maikeru> i'm in your libraries haxing yer codez
[01:29:51] <ChrisMorgan> Yep, sounds good :-)
[01:30:01] <ChrisMorgan> baranaby: modern Rust?
[01:30:08] <baranaby> ercxx: uhm, noob?
[01:30:31] * ChrisMorgan thinks `make` should probably not build the examples
[01:30:54] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:31:10] <maikeru> no the default target shouldn't IMHO, have a "make all" for that.
[01:31:12] <baranaby> ChrisMorgan: 0.8
[01:31:18] <klutzy> I like `make examples`
[01:31:26] <baranaby> ChrisMorgan: oh hey, thanks for the lib
[01:31:28] <baranaby> :D
[01:31:38] <ercxx> baranaby: we all are :)
[01:31:40] <maikeru> make, make all, make examples, make tests...
[01:31:46] <ChrisMorgan> `make` should make libhttp, `make examples` the examples and `make all` both plus the tests.
[01:32:12] <maikeru> shit... I forgot to make my own branch... oh well YOLO
[01:32:14] * ChrisMorgan will gladly accept a PR "fixing" the Makefile
[01:32:27] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[01:32:29] <maikeru> after I get SSL requests working
[01:32:34] <ercxx> ChrisMorgan: yeah make does all
[01:33:23] <baranaby> ChrisMorgan: I get 'src/libhttp/server/request.rs:1:4: 1:19 error: unresolved import: found `Url` in `extra::url` but it is private' :/
[01:33:35] <baranaby> and a few similar errors
[01:33:45] <baranaby> then it aborts
[01:33:49] <ercxx> baranaby: what is your version of rust?
[01:33:59] <ChrisMorgan> baranaby: OK, sounds like the privacy breakage happened just before 0.8 rather than just after as I had thought. You won't be able to use rust-http with Rust 0.8, then.
[01:34:23] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[01:34:38] <tautologico> I think privacy changes were post-0.8
[01:34:53] <eddyb9> very recent
[01:35:08] <eddyb9> check the last few "this week in rust"
[01:35:24] <baranaby> ercxx: 0.8
[01:35:27] <tautologico> but anyway if possible it's better to clone the repo and build head
[01:35:38] <tautologico> (the rust repo I mean)
[01:35:49] <ChrisMorgan> Some of the changes took place a week or two earlier. It wasn't all one big thing.
[01:35:54] *** Joins: lilybet (Mibbit@moz-C03F06B0.dc.dc.cox.net)
[01:35:58] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[01:35:59] <ercxx> baranaby: If you're on Ubuntu or Arch you can get dailies.
[01:36:05] <baranaby> ChrisMorgan: well... that's upsetting, I just grabbed what was on the top of www.rust-lang.org
[01:36:08] <ercxx> well nightlies :)
[01:36:18] <cmr> baranaby: you could use an older libhttp
[01:36:31] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[01:36:34] <tautologico> baranaby: the language is still changing
[01:36:43] <tautologico> the privacy rules were not well defined before
[01:36:52] <eddyb9> openSUSE should have a rust-git, hopefully I'll get it to build nightly and in an official repo soon
[01:37:03] *** Joins: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com)
[01:37:10] <ChrisMorgan> cmr: not if it's the Url privacy thing; it's depended on extra::url::Url right from the start
[01:38:06] <cmr> ChrisMorgan: Yeah, but rust-http worked before and after 0.8.
[01:38:08] <ChrisMorgan> baranaby: rust-http master doesn't work with Rust 0.8 anyway, as a matter of fact (the new ToPrimitive/FromPrimitive traits are implemented but don't exist in 0.8)
[01:38:37] <ChrisMorgan> cmr: there was a period of at least a few days where it wouldn't work about that time.
[01:38:42] <cmr> Ah
[01:39:35] <tautologico> this rust tutorial in french has lots of stuff indeed
[01:40:09] <baranaby> how disheartening :/
[01:42:00] <baranaby> what's the generally lib compatible version I should be running?
[01:42:10] *** Quits: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com) (Quit: WeeChat 0.4.2)
[01:42:13] *** Joins: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com)
[01:42:14] <cmr> baranaby: master
[01:43:22] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[01:44:00] *** Parts: mikefletcher (michaelfle@DA60130B.4474880.28B68B9E.IP) ()
[01:45:10] *** Joins: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au)
[01:45:19] <ChrisMorgan> It's a bit sad, but larger libraries will often break quite soon after a Rust release due to improvements in the language. Having all versions of the library itself unavoidably broken in 0.8 is still more unfortunate.
[01:45:33] <ChrisMorgan> If you want to be with the action, master's the place to be for everything.
[01:46:13] *** Quits: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com) (Quit: WeeChat 0.4.2)
[01:46:22] *** Joins: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com)
[01:47:20] <brson> hopefully things will get better with rust ci, and we can just keep everybody building with master, but it would also be nice if libraries could specify which version they worked with and maintainers could pin a library version to rust releases and rustpkg would just figure that out
[01:48:01] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Client exited)
[01:48:44] <ercxx> Does it make sense to have a library branch for the last stable compiler version?
[01:48:54] <cmr> Sure
[01:48:58] <cmr> As well as a tag per version
[01:49:56] <ercxx> It was very painful in the beginning.
[01:50:15] <cmr> But rust hasn't had a stable release yet.
[01:50:20] <cmr> So it's not really important ;)
[01:50:33] <ChrisMorgan> I was thinking something along those lines. I'm also thinking I should probably put a note at the top of the rust-http page to the effect that no version of rust-http will run on Rust 0.8.
[01:50:42] <ercxx> We also got nightlies on Arch.
[01:50:59] <sfackler> and ubuntu
[01:51:24] <ChrisMorgan> ... so much for Windows being a platform with first class support. :P
[01:51:40] <ercxx> ChrisMorgan: riiiight :)
[01:51:50] <cmr> I'm going to run a nightly windows build eventually.
[01:52:08] <maikeru> ChrisMorgan: you asked for it: https://github.com/chris-morgan/rust-http/pull/28
[01:52:14] <maikeru> literally one line though...
[01:52:47] <ChrisMorgan> I wonder whether the buildbots could be made to publish their builds publicly.
[01:52:48] <ercxx> Great line.
[01:54:22] <ChrisMorgan> maikeru: I think that actually shifting the $(libhttp_so) rule above all is what'
[01:54:34] <ChrisMorgan> s desired; either that or libhttp needs to be added to the .PHONY
[01:56:47] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[01:57:50] *** Quits: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com) (Quit: WeeChat 0.4.2)
[01:58:12] *** Quits: lilybet (Mibbit@moz-C03F06B0.dc.dc.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:58:53] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[01:59:15] <maikeru> doing both appears to work
[02:00:37] <ChrisMorgan> Either approach would work. Having `libhttp` in .PHONY means that it doesn't expect the rule `libhttp` to produce a file named `libhttp`.
[02:00:56] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[02:03:25] <sfackler> is it possible to conditionally #[ignore] a test based on a cfg?
[02:03:39] <cmr> #[cfg(...)] does it
[02:03:53] <sfackler> that'll remove the test entirely though
[02:04:26] <maikeru> added libhttp to phony and made $(libhttp_so) the top rule
[02:04:26] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[02:06:35] *** Joins: GeneralMaximus (ankur@5068025.6ABC3FEB.BE90E62C.IP)
[02:06:39] *** Quits: GeneralMaximus (ankur@5068025.6ABC3FEB.BE90E62C.IP) (Client exited)
[02:06:56] <ercxx> What's my best option for step by step debugging at the moment?
[02:07:10] <sfackler> gdb works decently well with debug info
[02:07:15] <cmr> ercxx: gdb, println
[02:07:17] <tautologico> ercxx: the powers of your mind
[02:07:29] <ercxx> tautologico: that's not goint to help
[02:07:34] <cmr> heh
[02:07:57] <ChrisMorgan> http://huonw.github.io/isrustfastyet/buildbot/ seems to be not receiving data again.
[02:08:18] <ercxx> can anybody point me to rust/gdb information
[02:08:26] <ercxx> not the gdb part
[02:08:40] <cmr> ChrisMorgan: It is, there's just been very few PRs merged.
[02:08:51] <ChrisMorgan> ercxx: compile with `-Z debug-info`.
[02:09:05] <ercxx> thanks
[02:09:05] <cmr> Hm, but not that few...
[02:09:11] <cmr> It's working on my end.
[02:10:15] <ChrisMorgan> cmr: I thought to myself: "which is more probable? No PRs merged for two days or data missing?" I checked and my expectation was right. PRs have been merged in the last two days.
[02:10:44] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:11:17] * cmr quietly kicks off his rsync job
[02:12:17] <maikeru> hrm... why isn't it importing this crate....
[02:13:31] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:13:37] *** Quits: tautologico (shung@E14878C0.75051ED3.7B974E06.IP) (Quit: tautologico)
[02:14:38] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[02:15:42] <maikeru> "maybe a missing extern mod?" NO IT'S RIGHT THERE YA GIT
[02:16:25] <cmr> maikeru: be kind to that suggestion, it's the best it can do
[02:16:43] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[02:16:52] *** Quits: ChrisMorgan (chris@moz-6E17E753.its.monash.edu.au) (Ping timeout)
[02:18:07] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[02:18:47] <maikeru> :/
[02:19:04] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[02:19:14] <cmr> or rather, it's the best /I/ could do at the time ;P
[02:21:11] <maikeru> I don't get why it's not resolving the imports :(
[02:21:56] <cmr> Probably because you're confused about how the module system works
[02:22:38] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[02:23:52] <maikeru> Perhaps, but I thought it was straight forward, it's finding the crate, these things are defined in it.
[02:24:35] <cmr> `use` is relative to the crate root.
[02:25:56] <cmr> (ie, it's like a ::path)
[02:27:45] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[02:27:55] *** Quits: zz_kimundi (kimundi@moz-5EF96D6C.dip0.t-ipconnect.de) (Ping timeout)
[02:28:02] <maikeru> Sure, I can compile the library's test crate successfully... 
[02:30:50] *** Joins: zz_kimundi (kimundi@moz-2FF9FB9A.dip0.t-ipconnect.de)
[02:31:16] *** zz_kimundi is now known as kimundi
[02:31:51] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[02:35:20] *** Quits: squiddy_ (squiddy@moz-FF47E765.adsl.alicedsl.de) (Ping timeout)
[02:37:07] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[02:37:11] *** Quits: fyolnish (fyolnish@moz-4DE2B71.uqwimax.jp) (Client exited)
[02:38:15] *** Joins: rlin-nb (rlin@moz-54E99D8F.dynamic.hinet.net)
[02:39:35] *** Joins: fyolnish (fyolnish@moz-4DE2B71.uqwimax.jp)
[02:41:58] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:44:55] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[02:46:21] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[02:50:06] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:53:20] *** Quits: JanC__ (janc@moz-3F1B05E9.dsl.scarlet.be) (Ping timeout)
[02:57:11] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:57:14] *** Joins: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net)
[02:57:29] *** Joins: eagen (eagen@moz-92A457CB.hsd1.mn.comcast.net)
[02:57:39] *** Quits: eagen (eagen@moz-92A457CB.hsd1.mn.comcast.net) (Client exited)
[02:58:34] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[02:59:35] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[02:59:45] *** Joins: ChrisMorgan (chris@moz-55BEDFE.its.monash.edu.au)
[03:00:12] *** Joins: ercxx (ercan@moz-7CFF3469.dyn.optonline.net)
[03:01:24] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[03:02:19] <ercxx> Note to self: Don't do OS updates if your code's using network, or anything at all.
[03:03:18] <baranaby> cmr: I would presume master was passed 0.8, right?
[03:06:59] *** Joins: dbaupp (Thunderbir@299A223E.D5A1DCF.37681C44.IP)
[03:07:44] *** Joins: JanC__ (janc@moz-FAAB1DB5.dsl.scarlet.be)
[03:07:56] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:11:14] <ercxx> What do you mean?
[03:11:35] <ercxx> baranaby: 0.8 is ~15 days old.
[03:11:44] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:12:18] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:15:27] *** Joins: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP)
[03:19:18] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[03:21:29] <engla> master is advancing every day. lots of exciting stuff was fixed after 0.8 already
[03:21:35] <engla> http://cmr.github.io/blog/2013/10/12/this-week-in-rust/
[03:22:17] <ChrisMorgan> In something like libhttp-20af9b1d3441fe5a-0.1-pre.so, what is the 20af9b1d3441fe5a derived from?
[03:22:31] <cmr> ChrisMorgan: A hash of the crate metadata
[03:22:35] <Amaranth> Interesting, I can only scroll using arrow keys on that page
[03:22:39] <cmr> Anything in #[link], and some other stuff
[03:22:42] <cmr> Amaranth: Really?
[03:23:00] <cmr> What device and browser?
[03:23:03] <Amaranth> Oh scrolling with two fingers broke in my browser entirely...
[03:24:00] *** Quits: abacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net) (Ping timeout)
[03:24:27] <mark_edward> how do i get rustdoc to link to crate where the crate root is not named after the crate, but lib.rs
[03:25:10] <sfackler> mark_edward: put #[link(name="foo")]; in it and then "rustdoc src/my_crate/lib.rs"
[03:25:21] *** Joins: [a]bacus (snoonan_mo@moz-F95B9243.hsd1.wa.comcast.net)
[03:25:22] *** [a]bacus is now known as abacus
[03:25:33] *** Quits: phddoom (Mibbit@moz-8D867055.res.bhn.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:26:19] <mark_edward> ok
[03:26:49] <mark_edward> sfackler: but like im building a thing that has submodules (kiss3d), and rustdoc needs to find the crate root for the sub,odules
[03:29:31] *** Joins: lex (lex@moz-22635C92.bootp.virginia.edu)
[03:29:58] <sfackler> I thought it inferred that based on the path of the crate root file you give to it?
[03:30:10] <cmr> rustdoc won't do any inference
[03:30:18] <cmr> but I don't understand why rustdoc needs the crate root of the submodules
[03:30:40] <lex> Hey, I've been building a Rust regex engine. It's not finished, but there's some basic functionality. I'd appreciate any feedback if anyone's interested.
[03:30:51] *** Parts: ChrisMorgan (chris@moz-55BEDFE.its.monash.edu.au) ()
[03:30:52] <cmr> lex: Cool! Where's the code?
[03:30:57] *** Joins: ChrisMorgan (chris@moz-55BEDFE.its.monash.edu.au)
[03:31:00] <cmr> Want me to feature it on TWiR next week?
[03:31:04] <lex> cmr: https://github.com/aml3/1171
[03:31:27] <mark_edward> cmr: it does. it gives an error on extern mod directives if i dont, it seems
[03:31:34] <lex> cmr: Sure! When next week? I can try to have it handing basic regular epxressions by the end of tomorrow.
[03:32:03] <cmr> mark_edward: Ah, that's because it can't find the libs. Pass it -L path/to/compiled/libs, like you would to rustc
[03:32:12] <ChrisMorgan> At present I have src/libhttp/lib.rs; should I rename the libhttp directory to http?
[03:32:13] <cmr> lex: I usually write it Saturday night EST
[03:32:19] <mark_edward> cmr: ah, thank you!
[03:32:26] <cmr> ChrisMorgan: yes, rustpkg will think that's liblibhttp
[03:32:31] <lex> cmr: Hopefully I'll have it handling basic regexes by then.
[03:32:35] <cmr> or, rustc will
[03:32:39] <cmr> rustpkg would be fine I think
[03:33:33] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[03:33:46] <ChrisMorgan> At present it's using rustc directly and that produces libhttp*.so
[03:34:52] *** Quits: lfox (lfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:40:00] <cmr> rustpkg would be used as `extern mod libhttp`, with that structure, which is probably wrong
[03:41:31] *** Quits: canhtak (jeremy@moz-EF57C296.wl.t.ulaval.ca) (Quit: canhtak)
[03:42:20] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[03:42:58] <anon_mg> theres no for loop right? just loop
[03:43:26] <SiegeLord> There is a for loop... it's right on the main page example :P
[03:45:47] <anon_mg> ahh thx
[03:45:55] <anon_mg> container/iterator tutorial here i come
[03:48:33] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Ping timeout)
[03:50:01] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:50:09] <cmr> dbaupp: ping
[03:50:28] <cmr> nvm
[03:50:31] <cmr> I blame github
[03:50:43] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:51:20] *** Quits: qrpth (andreas@moz-C54F6246.dyn.estpak.ee) (Ping timeout)
[03:51:42] <lex> cmr: initial thoughts?
[03:58:39] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[03:59:19] *** Quits: dbaupp (Thunderbir@299A223E.D5A1DCF.37681C44.IP) (Ping timeout)
[04:02:23] <anon_mg> walking dead is on if u're pacific time
[04:03:10] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[04:04:51] <jeaye> Oh shit.
[04:04:53] <jeaye> Thanks, anon_mg 
[04:05:06] * jeaye is waiting for GoT
[04:07:41] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:11:29] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[04:14:44] <mark_edward> does rustpkg work with github urls yet?
[04:15:18] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:15:48] *** Quits: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP) (Ping timeout)
[04:19:48] <sfackler> only if your working directory is on the same filesystem as /tmp iirc
[04:21:21] <ChrisMorgan> ... and /tmp is regularly a special tmpfs.
[04:21:33] *** Joins: GeneralMaximus (ankur@DA27B1B5.DBAF7F51.D1005D78.IP)
[04:21:44] <mark_edward> sfackler: okay, well i dont think it is for me... i just did a regular ubuntu install
[04:22:43] *** Joins: martndemus (martndemus@C709828D.E7BADBF1.B0C2132F.IP)
[04:22:54] <cmr> sfackler: if it *is* /tmp, not just the filesystem
[04:22:59] <cmr> Well
[04:23:03] <cmr> No, you're right.
[04:23:15] <mark_edward> sfackler: also, it keeps asking for my git username and password, when i normally use ssh auth... my password is basically untypable..
[04:24:13] *** Quits: GeneralMaximus (ankur@DA27B1B5.DBAF7F51.D1005D78.IP) (Ping timeout)
[04:24:28] <SiegeLord> Shouldn't you use the public URL?
[04:25:09] <cmr> lex: https://github.com/mozilla/rust/wiki/Note-style-guide
[04:25:26] <mark_edward> SiegeLord: i did
[04:25:49] <jeaye> If your password is untypable... you must have it stored in your browser... which makes me wonder what it's use is.
[04:25:57] <mark_edward> jeaye: i use lastpass
[04:26:21] <jeaye> Not familiar, but I'll take your word for it.
[04:26:54] <SiegeLord> I wonder what the heck it does to get it to require authentication for a pulic url, hah
[04:26:55] <lex> cmr: ew. i'm a tabs guy
[04:27:01] <jeaye> lex: EWW
[04:27:06] <cmr> lex: So am I!
[04:27:12] <jeaye> Wait, tabs vs spaces?
[04:27:16] <jeaye> Or tabs vs buffers?
[04:27:17] <SiegeLord> lex: Don't worry about it unless you want it accepted into the Rust codebase ;)
[04:27:30] <cmr> Spaces
[04:27:34] <jeaye> eww
[04:27:44] <ercxx> ewww
[04:27:45] <cmr> Tabs for indentation, spaces for alignment all the way
[04:28:10] <jeaye> I like uniform code all around.
[04:28:24] <McPherrin> tab is a key on your keyboard, not a byte that should appear in your source files :-)
[04:28:32] <jeaye> ^
[04:28:38] <cmr> Pft
[04:28:43] <jeaye> Ever seen ElasticTabs?
[04:28:49] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[04:28:53] <jeaye> tabstops*
[04:28:59] <jeaye> http://nickgravgaard.com/elastictabstops/
[04:29:00] <cmr> Yes, it's very cool
[04:30:04] <jeaye> How much to setup a home mocap studio...? hmm
[04:30:10] * jeaye has a brilliant game idea.
[04:30:36] <jeaye> (not relating to elastictabstops though)
[04:31:05] <McPherrin> jeaye: The basic hardware is a few thousand dollars, max.
[04:31:15] <jeaye> Sounds reasonable.
[04:31:17] <McPherrin> Unless you're content with like, webcams and LED tracking beacons
[04:31:22] <McPherrin> Depends on your needs
[04:31:32] <McPherrin> Dunno how much the software runs for
[04:31:34] <jeaye> I'd need solid gear.
[04:31:48] <cmr> For what?
[04:32:02] <jeaye> An awesome game.
[04:32:11] <cmr> Which one? :P
[04:32:22] <SiegeLord> solid gear metal
[04:32:25] <jeaye> I don't dare sad.
[04:32:29] <jeaye> say
[04:32:45] <cmr> Oh
[04:33:02] <jeaye> My ideas are like BSD licensed like my code.
[04:33:19] <jeaye> Though they might be if it could be enforced.
[04:33:36] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Connection reset by peer)
[04:33:37] <jeaye> Hard enough enforcing it with code.
[04:34:26] <jason_> is there a rust trait for POD typess?
[04:34:30] <cmr> jason_: No
[04:34:57] <jeaye> You can make a trait and implement it for each POD though, eh?
[04:35:01] <cmr> Not that I know of, at least. Freeze might qualify?
[04:35:02] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[04:36:00] *** Quits: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Quit: Leaving)
[04:37:06] *** Quits: rlin-nb (rlin@moz-54E99D8F.dynamic.hinet.net) (Quit: Leaving.)
[04:37:09] <sanxiyn> What defines POD?
[04:37:16] <cmr> Good question
[04:37:27] <sanxiyn> By the way, rustc does have a function called type_is_pod
[04:38:02] *** Quits: Qibbit (Qibbit@565C832A.9D76C378.3002A442.IP) (Ping timeout)
[04:38:13] <lex> SiegeLord: Contributing this to the Rust codebase is a possibility?
[04:38:27] <lex> jeaye: tabs in both cases :P
[04:38:34] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[04:39:07] <cmr> lex: definitely; the libextra conglomerate could use some pure-rust regex
[04:39:15] <SiegeLord> lex: Well, Rust needs a regex thing... so it's sort of first come, first served
[04:39:38] <lex> cmr, SiegeLord: I
[04:39:48] <McPherrin> mmm a regex library has been on my todo list for a while...
[04:39:49] <lex> cmr, SiegeLord: I'll clean up my code then when it's finished
[04:39:59] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[04:40:19] <McPherrin> I don't think I'll ever do it though :P
[04:41:13] <cmr> http://mathwithbaddrawings.com/2013/06/16/ultimate-tic-tac-toe/
[04:41:14] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:41:33] *** Joins: Qibbit (Qibbit@B7BFB858.FAB07856.1A968954.IP)
[04:42:19] *** Quits: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Ping timeout)
[04:42:57] <jeaye> Anyone seen: Unhandled condition: null_byte:
[04:43:01] <jeaye> o.O
[04:43:06] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Ping timeout)
[04:43:12] <cmr> jeaye: it means there was a null in a c string
[04:43:14] *** Joins: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP)
[04:43:23] <jeaye> hmm
[04:43:30] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[04:44:05] <jeaye> cmr: thanks
[04:44:10] <jeaye> That's a good lead
[04:44:31] <mark_edward> where do i need to add #[feature(globs)] to get older stuff to compile?
[04:44:43] <cmr> mark_edward: it's an attribute on the crate
[04:44:47] <cmr> so in your crate root, with a semicolon
[04:46:37] <mark_edward> ok, thanks
[04:48:02] <jeaye> mark_edward: Make sure there's a semicolon after it.
[04:48:08] <jeaye> Otherwise it won't work.
[04:48:11] <mark_edward> thank you!
[04:48:21] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Quit: Leaving)
[04:49:54] <jeaye> What's the function to break on in gdb for failing?
[04:50:01] <jeaye> begin_unwind or is that the old one/
[04:50:12] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Ping timeout)
[04:50:13] <cmr> rust_begin_unwind
[04:50:24] <jeaye> <3
[04:50:54] *** Joins: doomlord_ (servitor@moz-6732E9D4.range86-184.btcentralplus.com)
[04:51:10] *** Quits: martndemus (martndemus@C709828D.E7BADBF1.B0C2132F.IP) (Ping timeout)
[04:51:18] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[04:51:40] <sanxiyn> It seemed to be "catch throw" also works
[04:51:49] <sanxiyn> instead of breaking on specific function
[04:51:54] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[04:52:59] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[04:53:01] *** Quits: qmx (qmx@moz-B6DBCD05.qmx.me) (Quit: ZNC - http://znc.in)
[04:55:10] *** Parts: lex (lex@moz-22635C92.bootp.virginia.edu) ()
[04:56:00] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[04:56:14] *** Quits: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net) (Quit: jeff_)
[04:57:14] *** Joins: qmx (qmx@moz-B6DBCD05.qmx.me)
[04:57:46] *** Joins: isenmann (isenmann@moz-B656BA79.science-computing.de)
[04:58:45] <jeaye> Found it. >.<
[04:58:55] <sanxiyn> jeaye: null_byte problem?
[04:59:04] <jeaye> Yeah
[04:59:06] <jeaye> Odd one, too
[04:59:14] <sanxiyn> What was the problem?
[04:59:52] <jeaye> https://gist.github.com/jeaye/a2b5e6d7fbc1804ba868
[05:00:01] <jeaye> It's the match
[05:00:19] <jeaye> My guess would be the call to .take()
[05:00:33] <jeaye> Only happens when Q3_LOG *is* defined.
[05:01:42] <cmr> Yup, looks like it: http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/os.rs.html#233-247
[05:01:46] <cmr> The getenv, not take
[05:02:55] <jeaye> Not sure why it'd have null in it.
[05:03:26] <jeaye> (other than at the end)
[05:03:53] <cmr> It might be the one at the end.
[05:03:57] <cmr> Probably a bug in getenv
[05:04:07] <jeaye> It's a new one.
[05:04:14] <jeaye> This is old q3 code.
[05:05:08] <jeaye> You folks going to the meetup tomorrow?
[05:05:17] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[05:05:32] <cmr> Unless you got a teleporter, no :)
[05:05:36] <jeaye> aww
[05:05:53] *** Joins: sankha93 (Instantbir@C942773C.6074BD6D.EFB84E89.IP)
[05:06:13] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:07:14] *** Joins: martndemus (martndemus@C709828D.E7BADBF1.B0C2132F.IP)
[05:08:04] <McPherrin> jeaye: You'll be there?
[05:08:11] <jeaye> I will.
[05:08:15] <McPherrin> I will be, too.
[05:08:21] <jeaye> Well, I hope so, anyway.
[05:08:33] <jeaye> I just had surgery Wednesday. :|
[05:08:39] <jeaye> Missed a lot of work.
[05:08:49] <McPherrin> I almost booked a couch delivery during it
[05:08:59] <jeaye> McPherrin: Were you at the last one?
[05:09:13] <McPherrin> Nope, wasn't in town at the time.
[05:09:34] <jeaye> Ah, alright. You in the Mountain View area, or SF area?
[05:09:43] <McPherrin> MV, for now
[05:10:14] <jeaye> Ah, lucky.
[05:10:24] <jeaye> It's not too bad of a train ride from SF though.
[05:11:04] *** Joins: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP)
[05:11:05] <jeaye> Get there early or you'll be stuck at the end of the table. :P
[05:11:25] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:11:32] * jeaye was last time.
[05:12:01] <mark_edward> i can't build rust-sfml has anuyone had success there?
[05:12:14] *** Joins: skeet70 (skeet70@moz-DB50BE3F.bzm-mt.client.bresnan.net)
[05:12:22] <sanxiyn> mark_edward: http://hiho.io/rust-ci/ did
[05:12:36] <McPherrin> jeaye: I'll just make sure I'm there before the 7:07 caltrain crew shows up:P
[05:12:56] <jeaye> hehe
[05:13:01] *** Joins: dew1 (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com)
[05:13:42] *** Quits: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com) (Ping timeout)
[05:15:07] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[05:15:28] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[05:16:48] *** Quits: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Ping timeout)
[05:17:11] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[05:17:21] <mark_edward> sanxiyn: but how do i do it with rustpkg? i've yet to successfully build anything with rustpkg
[05:17:34] <sanxiyn> Sorry, no idea
[05:17:46] <cmr> mark_edward: rustpkg isn't really usable
[05:17:58] <sanxiyn> yet
[05:18:21] <mark_edward> but everything is saying to install with rustkph build blahblahblah. they must know how, somehow..
[05:18:33] <cmr> yet indeed
[05:22:27] *** Joins: rlin-nb (rlin@moz-54E99D8F.dynamic.hinet.net)
[05:22:49] *** Joins: qrpth (andreas@3E931BB5.590DF183.783D9E8C.IP)
[05:24:21] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[05:26:10] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[05:27:26] *** Joins: [squiddy] (squiddy@moz-FF47E765.adsl.alicedsl.de)
[05:32:18] *** Joins: vodik (simon@moz-26C1A9B8.home.cgocable.net)
[05:32:56] <cmr> ChrisMorgan: ping
[05:33:11] <ChrisMorgan> cmr: pong
[05:33:55] <cmr> ChrisMorgan: Could your link maintenance thing be of use in catching dangling links in Rust's documentation?
[05:34:08] <ChrisMorgan> Certainly could.
[05:38:52] *** Joins: etrepum (uid763@moz-5F4AA75A.irccloud.com)
[05:40:03] <jeaye> Why wouldn't this match work? https://gist.github.com/jeaye/1b559c9d391cd77868aa
[05:40:08] <jeaye> error: type `~listener::Listener:Send` does not implement any method in scope named `log`
[05:41:39] <jeaye> fuck
[05:42:13] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[05:42:57] <jeaye> &self
[05:43:03] <sanxiyn> yeah
[05:43:08] <jeaye> That's a cryptic message. :P
[05:43:10] <sanxiyn> Bad error message, I guess
[05:43:24] <jeaye> Though it does say 'method'
[05:43:34] <sanxiyn> I guess the logic is that since it is missing &self, it is not a method, so there is no method in scope named log...
[05:43:40] <jeaye> mmhmm
[05:43:47] <sanxiyn> Bad error message still
[05:43:48] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[05:45:14] <jeaye> How can I get it as mut there?
[05:45:59] <sanxiyn> jeaye: ref mut, I think
[05:46:05] <jeaye> Yeah, looks like it.
[05:48:06] *** Quits: vodik (simon@moz-26C1A9B8.home.cgocable.net) (Ping timeout)
[05:54:31] *** Quits: KindOne (KindOne@moz-B764F4D3.dynamic.ip.windstream.net) (Ping timeout)
[06:01:12] *** Joins: Ferreus (ferreus@moz-407DDF2F.dip0.t-ipconnect.de)
[06:03:50] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[06:04:11] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[06:04:53] *** Joins: KindOne (KindOne@moz-B764F4D3.dynamic.ip.windstream.net)
[06:05:09] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[06:05:33] *** Joins: Jackneill (Jackneill@moz-E68A1E18.pool.digikabel.hu)
[06:08:45] *** Joins: eddyb9 (eddy@AA266592.834833CE.4A6B528C.IP)
[06:09:59] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:10:57] *** Quits: skeet70 (skeet70@moz-DB50BE3F.bzm-mt.client.bresnan.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:12:00] <McPherrin> Has anybody written any rust code for colours?
[06:12:21] <cmr> color-rs
[06:12:25] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[06:12:27] <cmr> github.com/bjz/color-rs, specifically
[06:12:53] <eddyb9> related to ansi escape codes?
[06:13:10] <cmr> ah, for that look no further than extra::term and extra::terminfo
[06:13:12] <McPherrin> I don't care about escape codes.  Colour space conversion
[06:13:51] <McPherrin> color-rs seems to have things I want
[06:13:52] <eddyb9> cmr: thanks, I'll keep that in mind if I ever need it
[06:14:34] *** Quits: martndemus (martndemus@C709828D.E7BADBF1.B0C2132F.IP) (Ping timeout)
[06:15:42] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[06:17:41] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:20:56] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[06:21:43] *** Quits: qrpth (andreas@3E931BB5.590DF183.783D9E8C.IP) (Ping timeout)
[06:23:09] *** Quits: [squiddy] (squiddy@moz-FF47E765.adsl.alicedsl.de) (Ping timeout)
[06:23:57] *** Quits: eddyb9 (eddy@AA266592.834833CE.4A6B528C.IP) (Quit: Leaving)
[06:24:53] *** Quits: Kxepal (Miranda@moz-8B4910BA.pppoe.mtu-net.ru) (Ping timeout)
[06:26:52] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:27:05] *** Joins: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP)
[06:27:33] *** Quits: ChrisMorgan (chris@moz-55BEDFE.its.monash.edu.au) (Ping timeout)
[06:27:46] *** Joins: Kxepal (Miranda@moz-ABE04B8C.pppoe.mtu-net.ru)
[06:31:58] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:33:33] <mark_edward> how do i use --link-args? i can't pass it multiple -lblah directives
[06:34:38] *** Quits: FreeFull (freefull@31BCA4E6.5B0E29BE.159B5998.IP) (Quit: )
[06:35:05] *** Joins: steveklabnik (steveklabn@moz-1DC93A6C.wiera.hu)
[06:36:32] <sanxiyn> mark_edward: You can't?
[06:38:24] <sanxiyn> mark_edward: Try quoting. --link-args '-la -lb'
[06:38:34] <sanxiyn> Debug with -Z print-link-args
[06:38:49] <mark_edward> sanxiyn: i'll try it
[06:39:29] <mark_edward> thanks so much, it worked!
[06:41:01] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[06:43:07] *** Joins: sinma (yaaic@C2F0AA03.863F3E70.8154E413.IP)
[06:43:56] *** Joins: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP)
[06:49:00] *** Joins: alonlevy (alon@moz-F53E4C49.redhat.com)
[06:51:25] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:51:50] *** Quits: sinma (yaaic@C2F0AA03.863F3E70.8154E413.IP) (Quit: Yaaic - Yet another Android IRC client - http://www.yaaic.org)
[06:53:16] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:58:15] <mark_edward> is the author of rsfml on IRC at anytime? i need to ask him a question about linking to it...
[06:58:55] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[06:59:27] *** Quits: sankha93 (Instantbir@C942773C.6074BD6D.EFB84E89.IP) (Ping timeout)
[07:00:35] *** Joins: dbaupp (Thunderbir@moz-BFBD65B3.lns20.syd6.internode.on.net)
[07:01:08] *** Joins: sankha93 (Instantbir@C942773C.6074BD6D.EFB84E89.IP)
[07:01:16] <cmr> Maybe. Probably best to ask around in #rust-gamedev
[07:03:01] <mark_edward> i can build it, but if i try and link to it, then i get a whole bunch of link errors
[07:04:00] <mark_edward> from its dependencies.. doesnt make any sense to me
[07:07:45] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[07:08:20] *** Quits: fyolnish (fyolnish@moz-4DE2B71.uqwimax.jp) (Client exited)
[07:09:19] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[07:10:19] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[07:14:37] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[07:14:58] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[07:18:18] *** Joins: fabiand (fabiand@moz-A171E7D0.adsl.alicedsl.de)
[07:18:52] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[07:19:57] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Ping timeout)
[07:20:45] *** Quits: dbaupp (Thunderbir@moz-BFBD65B3.lns20.syd6.internode.on.net) (Quit: dbaupp)
[07:21:17] *** Joins: bdash (bdash@moz-62B9DA8A.bdash.net.nz)
[07:23:31] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[07:24:16] *** Joins: dbaupp (Thunderbir@moz-BFBD65B3.lns20.syd6.internode.on.net)
[07:25:29] *** Quits: jordyd (jordyd@moz-FAF29139.seg36.ucf.edu) (Ping timeout)
[07:26:29] *** Joins: qrpth (andreas@moz-9C921D25.ut.ee)
[07:28:57] *** Quits: sankha93 (Instantbir@C942773C.6074BD6D.EFB84E89.IP) (Ping timeout)
[07:30:13] <sanxiyn> mark_edward: Did you use --link-args?
[07:30:23] <mark_edward> yes
[07:30:47] <mark_edward> how do you build the examples, or eexa,ple?
[07:30:59] <sanxiyn> I think that may be a problem
[07:31:19] <sanxiyn> That is, if you build crate A with --link-args and crate B depends on crate A, you probably need to build crate B too with --link-args
[07:31:26] <sanxiyn> Or do it other way, using #[link_args]
[07:31:36] <sanxiyn> #[link_args] *is* transitively propagated, I think
[07:32:06] <sanxiyn> Does that make sense, or is this case something different?
[07:32:39] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[07:32:56] <sanxiyn> (Also, I think --link-args should be transitively propagated too, and the fact that it currently doesn't is probably a bug...)
[07:33:45] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Quit: victorporof)
[07:40:16] *** Quits: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP) (Quit: Computer has gone to sleep.)
[07:42:06] *** Quits: steveklabnik (steveklabn@moz-1DC93A6C.wiera.hu) (Ping timeout)
[07:43:40] <sanxiyn> Argh I updated to GCC 4.8 and was assaulted by tons of warnings
[07:43:47] <sanxiyn> GCC 4.8 warns about MOZ_STATIC_ASSERT...
[07:44:15] <cmr> For Rust?
[07:44:21] <cmr> I build with GCC 4.8 all the time...
[07:44:24] <sanxiyn> Oops
[07:44:28] <sanxiyn> That should have gone to #servo
[07:44:37] <sanxiyn> cmr: SpiderMonkey
[07:45:04] <sanxiyn> GCC 4.8 warns a lot about Servo's local copy of SpiderMonkey
[07:46:24] *** Joins: oberstet (quassel@moz-D1F813DD.dynamic.mnet-online.de)
[07:47:05] <dbaupp> cmr: you may've noticed irfy not updating... the bot decided to drop of the internet for a while :/ fixed now
[07:47:13] <cmr> Oh
[07:47:18] <cmr> Ok
[07:47:26] <cmr> Welcome back to the internet, bot!
[07:48:05] * dbaupp doesn't think it heard you
[07:48:50] <Ms2ger> Thank you!
[07:48:53] <Ms2ger> Oh, not me?
[07:49:01] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[07:49:48] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[07:49:57] *** Joins: mrshankly (mrshankly@3EE34383.CE0EEBAE.806C54C8.IP)
[07:50:31] *** Joins: fyolnish (fyolnish@moz-BD3E9D2E.uqwimax.jp)
[07:51:57] *** Joins: nkoep (nik@moz-FCDECDE8.pool.mediaways.net)
[07:51:58] *** Quits: fyolnish (fyolnish@moz-BD3E9D2E.uqwimax.jp) (No route to host)
[07:52:19] *** Joins: fyolnish (fyolnish@moz-BD3E9D2E.uqwimax.jp)
[07:54:04] *** Quits: fyolnish (fyolnish@moz-BD3E9D2E.uqwimax.jp) (Ping timeout)
[07:54:48] *** Quits: mrshankly (mrshankly@3EE34383.CE0EEBAE.806C54C8.IP) (Quit: leaving)
[07:55:17] *** Joins: mrshankly (mrshankly@3EE34383.CE0EEBAE.806C54C8.IP)
[07:55:51] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:57:08] *** Quits: mrshankly (mrshankly@3EE34383.CE0EEBAE.806C54C8.IP) (Quit: leaving)
[07:57:15] *** Quits: fabiand (fabiand@moz-A171E7D0.adsl.alicedsl.de) (Quit: Verlassend)
[07:57:15] *** Joins: mrshankly (mrshankly@3EE34383.CE0EEBAE.806C54C8.IP)
[07:57:36] *** Quits: mrshankly (mrshankly@3EE34383.CE0EEBAE.806C54C8.IP) (Quit: leaving)
[07:58:44] *** Joins: mrshankly (mrshankly@3EE34383.CE0EEBAE.806C54C8.IP)
[08:00:15] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[08:00:20] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Ping timeout)
[08:02:04] *** Joins: fabiand (fabiand@moz-A171E7D0.adsl.alicedsl.de)
[08:03:23] *** Quits: zheng_li (zheng_li@moz-D6711E9E.xenplanet.org) (Ping timeout)
[08:06:30] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[08:08:23] * Ms2ger wonders why debug!() ends up printing ~"\"created new node\""
[08:09:39] *** Joins: zheng_li (zheng_li@moz-D6711E9E.xenplanet.org)
[08:10:01] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[08:10:42] <cmr> http://cmr.github.io/blog/2013/10/14/rust-hiatus/
[08:10:43] <sanxiyn> Ms2ger: Because it's going away :(
[08:10:56] <sanxiyn> Ms2ger: Try debug2!
[08:11:09] <Ms2ger> cmr, :(
[08:11:21] <Ms2ger> sanxiyn, lovely
[08:11:22] <sanxiyn> That is, debug! will be removed and debug2! will be debug!, and in the mean time, debug! does something wrong which debug2! does right...
[08:11:53] <sanxiyn> Namely, debug! uses fmt! (which is going away too) and debug2! uses format!
[08:14:21] *** pmoore|away is now known as pmoore
[08:18:17] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[08:20:09] *** Quits: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP) (Ping timeout)
[08:25:42] *** Joins: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP)
[08:26:27] *** Joins: sammykim (sammykim@5AB4884B.FCC4549.14D5B978.IP)
[08:26:28] <sammykim> ls
[08:26:35] *** Quits: sammykim (sammykim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[08:27:11] <klutzy> The incident will be reported.
[08:27:35] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[08:31:03] <sanxiyn> klutzy: To whom?
[08:31:45] *** Quits: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP) (Ping timeout)
[08:32:12] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:32:47] <klutzy> sanxiyn: http://www.xkcd.com/838/
[08:32:52] *** Joins: eddyb9 (eddy@AA266592.834833CE.4A6B528C.IP)
[08:33:17] *** Quits: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP) (Quit: bbl)
[08:33:41] <sanxiyn> klutzy: Nice. Haven't seen that.
[08:33:55] *** Joins: sammykim (jaemin.moo@5AB4884B.FCC4549.14D5B978.IP)
[08:33:57] *** Quits: sammykim (jaemin.moo@5AB4884B.FCC4549.14D5B978.IP) (Quit: sammykim)
[08:36:16] *** Joins: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP)
[08:36:37] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:36:41] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[08:38:34] *** Joins: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP)
[08:40:30] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Client exited)
[08:40:37] *** Joins: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP)
[08:41:48] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[08:42:32] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[08:42:51] *** Quits: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Ping timeout)
[08:47:10] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[08:47:51] *** Quits: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP) (Ping timeout)
[08:48:57] *** Quits: qrpth (andreas@moz-9C921D25.ut.ee) (Ping timeout)
[08:50:16] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[08:51:42] *** Joins: fyolnish (fyolnish@moz-C09F0D3E.uqwimax.jp)
[08:53:27] *** Quits: fyolnish (fyolnish@moz-C09F0D3E.uqwimax.jp) (Ping timeout)
[08:53:43] <dbaupp> cmr: we'll be hanging out for your return :)
[08:54:24] *** Joins: sk (sk@moz-82E9BD64.dynamic.vega-ua.net)
[08:55:18] *** Parts: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) ()
[08:55:29] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[08:55:52] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Ping timeout)
[08:57:11] *** Joins: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP)
[08:57:47] *** Joins: qrpth (andreas@moz-9C921D25.ut.ee)
[08:57:50] *** Joins: [squiddy] (squiddy@moz-EEFC0334.dip.tu-dresden.de)
[08:58:03] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:58:26] *** Joins: sergi (textual@E0F7E15F.F9DEA6D6.FB6F0902.IP)
[08:58:30] *** Joins: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk)
[08:59:12] *** Quits: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk) (Input/output error)
[08:59:34] *** Joins: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:59:48] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:59:48] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[09:00:20] *** Joins: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP)
[09:00:20] *** Quits: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Connection reset by peer)
[09:00:32] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:02:16] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[09:02:16] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Connection reset by peer)
[09:02:25] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:02:52] *** Joins: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:02:52] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Connection reset by peer)
[09:04:22] *** Joins: lucian (lucian@moz-D82F7974.zone16.bethere.co.uk)
[09:04:37] *** Quits: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[09:05:54] *** Quits: qrpth (andreas@moz-9C921D25.ut.ee) (Quit: Lost terminal)
[09:06:44] *** Joins: ofeldt (ofeldt@moz-5823D589.dip0.t-ipconnect.de)
[09:07:25] *** Quits: ofeldt- (ofeldt@moz-DAC41220.dip0.t-ipconnect.de) (Ping timeout)
[09:11:17] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[09:11:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:11:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:13:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:14:24] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[09:14:47] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Ping timeout)
[09:15:33] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[09:15:52] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[09:16:45] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[09:17:16] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[09:17:16] *** ChanServ sets mode: +o jdm
[09:17:16] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Ping timeout)
[09:17:17] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[09:17:21] *** Quits: lucian (lucian@moz-D82F7974.zone16.bethere.co.uk) (Input/output error)
[09:17:28] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[09:17:36] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[09:17:42] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:18:37] *** Quits: eddyb9 (eddy@AA266592.834833CE.4A6B528C.IP) (Quit: Leaving)
[09:18:45] *** Joins: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk)
[09:19:29] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[09:21:28] *** Quits: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk) (Input/output error)
[09:21:50] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:22:00] *** Joins: skade (skade@moz-4D9CB8A6.sys11.net)
[09:23:28] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[09:23:44] <sanxiyn> bjz: Hi
[09:23:57] <sanxiyn> bjz: Would you add some of your projects to http://hiho.io/rust-ci/ ?
[09:26:30] * dbaupp votes that bjz does it
[09:27:06] * bjz looks
[09:27:18] *** Joins: Ms2ger (Ms2ger@moz-B7D808C8.ugent.be)
[09:29:25] <DeTeam> Hey! Is there some sort of central remote packages repository (like rubygems, npm, etc..)? :)
[09:31:01] <bjz> sanxiyn: I added a bunch
[09:32:16] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[09:32:23] <yota> hi
[09:32:36] <yota> A ml admin here?
[09:32:56] *** Joins: newer (Mibbit@5B9A1C8C.C40AC125.4EA770CF.IP)
[09:33:03] <yota> I can't subscribe to the rust-dev ml
[09:33:41] <yota> I waiting the approval since 3 days
[09:33:51] *** Quits: newer (Mibbit@5B9A1C8C.C40AC125.4EA770CF.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:35:42] <dbaupp> DeTeam: not yet
[09:36:14] *** Joins: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de)
[09:36:24] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[09:36:32] <DeTeam> dbaupp: is it on roadmap? :)
[09:37:01] <dbaupp> DeTeam: I believe so; but getting rustpkg to a solid state is first on the packaging roadmap
[09:37:06] <DeTeam> dbaupp: default remote packages repository is such a neat thing!
[09:37:19] <dbaupp> bjz: you need to add them to travis ci too (in case you missed that :) )
[09:37:45] <bjz> dbaupp: ?
[09:38:04] <dbaupp> DeTeam: I've heard the plan is for a central registry like "pkg.rust-lang.org/<packagename>" or something like that
[09:38:27] <dbaupp> bjz: "This webapp allows you to add your Travis CI enabled, GitHub hosted Rust project and have it built each time there's a new version of the rust-nightly Ubuntu package"
[09:38:33] <dbaupp> bjz: https://travis-ci.org/
[09:38:39] <DeTeam> dbuapp: thanks, going to stay tuned
[09:38:52] *** Quits: fabiand (fabiand@moz-A171E7D0.adsl.alicedsl.de) (Quit: Verlassend)
[09:38:59] <dbaupp> bjz: http://www.reddit.com/r/rust/comments/1ni84a/running_rust_tests_on_travis_ci/
[09:39:16] <bjz> dbaupp: ok, good, free for OSS
[09:39:50] *** Joins: fabiand (fabiand@moz-A171E7D0.adsl.alicedsl.de)
[09:42:12] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[09:42:46] <DeTeam> Wondering if there's a package for rust like this one in ruby: http://www.sinatrarb.com/ 
[09:42:56] *** Quits: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de) (Ping timeout)
[09:43:19] *** Quits: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP) (Ping timeout)
[09:43:47] *** Joins: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP)
[09:44:29] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[09:48:54] <bjz> sanxiyn: is there an example of a .travis.yml with rustpkg?
[09:49:52] <dbaupp> bjz: `rustpkg build` should work?
[09:50:11] <bjz> sanxiyn: it would be nice if there was a link to the github repos on there
[09:50:35] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Quit: victorporof)
[09:50:50] <dbaupp> bjz: yeah, in place of `rustc foo.rs` or `make` or whatever, `rustpkg build <name>` should be fine
[09:51:20] <bjz> before_install:
[09:51:21] <bjz>   - yes | sudo add-apt-repository ppa:hansjorg/rust
[09:51:21] <bjz>   - sudo apt-get update
[09:51:21] <bjz> install:
[09:51:21] <bjz>   - sudo apt-get install rust-nightly
[09:51:21] <bjz> script:
[09:51:21] <bjz>   - rustpkg build cgmath
[09:51:23] <bjz> ?
[09:51:32] *** Joins: fyolnish (fyolnish@moz-7EBA3120.uqwimax.jp)
[09:51:53] *** Joins: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de)
[09:52:01] <dbaupp> looks good
[09:53:20] *** Quits: fyolnish (fyolnish@moz-7EBA3120.uqwimax.jp) (Ping timeout)
[09:53:20] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[09:56:18] *** Quits: aegeaner (Aegeaner@C8372C16.21B75AD6.FA28A497.IP) (Connection reset by peer)
[09:57:39] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Input/output error)
[10:01:45] *** Quits: nkoep (nik@moz-FCDECDE8.pool.mediaways.net) (Ping timeout)
[10:03:01] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[10:03:57] <skade> DeTeam: not finished, but I am working on one: https://github.com/skade/widmann
[10:05:29] <skade> most importantly, it doesn't have rendering at the moment, because there are no templating libraries that run on rust master
[10:08:46] *** Quits: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net) (Ping timeout)
[10:09:58] <eddyb> rusti: println!("{}", 12)
[10:09:59] -rusti- 12
[10:10:00] -rusti- ()
[10:12:01] *** Quits: StarLight (StarLight@moz-879AB5FF.dynamic.avangarddsl.ru) (Ping timeout)
[10:12:20] <DeTeam> skade: nice! does it support middlewares?
[10:12:38] <auscompgeek> Ahhh! NOTICEs! D:
[10:12:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:13:49] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[10:13:52] <dbaupp> auscompgeek: ?
[10:14:02] <dbaupp> oh, rusti?
[10:14:22] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[10:14:49] <skade> DeTeam not officially (yet)
[10:15:34] <skade> It does use a similar #call interface to sinatra though, you could put something in front of it
[10:16:05] *** Joins: nkoep (nik@moz-FCDECDE8.pool.mediaways.net)
[10:16:12] *** Joins: StarLight (StarLight@moz-F2756DD7.pppoe.avangarddsl.ru)
[10:16:15] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:16:24] <DeTeam> skade: that'd be an awesome feature ;)
[10:16:25] <skade> my current goal is to get some way of templating working (so that I have the bare minimals) and then come up with an interface between server and framework. currently, it's tightly coupled to rust-http
[10:18:57] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[10:19:51] *** Quits: Ms2ger (Ms2ger@moz-B7D808C8.ugent.be) (Quit: bbl)
[10:24:07] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[10:24:44] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[10:28:19] *** Joins: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se)
[10:28:24] <auscompgeek> dbaupp: yeah
[10:30:56] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[10:34:27] *** Joins: steveklabnik (steveklabn@moz-1DC93A6C.wiera.hu)
[10:35:43] *** Quits: [squiddy] (squiddy@moz-EEFC0334.dip.tu-dresden.de) (Ping timeout)
[10:40:18] *** Joins: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[10:40:31] <eddyb9> this is stupid
[10:40:34] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:41:31] <eddyb9> I ran env RUST_LOG=rustc ..../rustc test.rs 2>| ix
[10:41:47] <eddyb9> basically piping the debug output to ix
[10:42:11] <eddyb9> I can't do anything with my laptop, last time I managed to get a SSH connection
[10:42:51] <eddyb9> I was stupid enough to not investigate why this is happening
[10:44:01] <eddyb9> what does it output for a sucessful compilation?
[10:47:11] *** Quits: nkoep (nik@moz-FCDECDE8.pool.mediaways.net) (Client exited)
[10:50:38] *** Quits: rlin-nb (rlin@moz-54E99D8F.dynamic.hinet.net) (Quit: Leaving.)
[10:51:10] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[10:51:13] *** Parts: sergi (textual@E0F7E15F.F9DEA6D6.FB6F0902.IP) (Textual IRC Client: www.textualapp.com)
[10:51:41] *** Joins: fyolnish (fyolnish@moz-A27A32FF.uqwimax.jp)
[10:52:02] *** pmoore is now known as pmoore|away
[10:53:26] *** Quits: fyolnish (fyolnish@moz-A27A32FF.uqwimax.jp) (Ping timeout)
[10:56:42] *** Quits: heftig (heftig@moz-17D40E43.dip0.t-ipconnect.de) (Ping timeout)
[11:01:53] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[11:05:29] *** Joins: heftig (heftig@moz-F554B92E.dip0.t-ipconnect.de)
[11:08:53] <eddyb> -rw-r--r--  1 eddy users 2,6G oct 14 14:08 test.log
[11:09:10] <eddyb> how the hell did rustc generate that much log output?
[11:09:16] <steveklabnik> whoh
[11:10:56] <eddyb> and I stopped it, it could've probably went further
[11:11:46] <eddyb> tail gives me a big line, something full of these: 146u8, 16u8, 0u8, 0u8, 10u8, 128u8, 136u8, 0u8, 0u8, 0u8, 0u8, 0u8,
[11:15:07] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (Ping timeout)
[11:15:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:16:54] *** Quits: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de) (Ping timeout)
[11:17:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:17:46] *** Joins: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de)
[11:17:49] *** Joins: [squiddy] (squiddy@moz-BDFE2D1F.dip.tu-dresden.de)
[11:19:26] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[11:19:32] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:20:36] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[11:21:04] <eddyb> steveklabnik: I was using println!
[11:25:01] *** Joins: ksf (ksf@moz-5534317B.adsl.alicedsl.de)
[11:30:16] *** jdm is now known as jdm|f00ding
[11:33:18] *** Joins: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP)
[11:34:01] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[11:34:38] *** Joins: fyolnish (fyolnish@moz-866D3860.uqwimax.jp)
[11:36:54] *** Quits: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se) (Ping timeout)
[11:36:54] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[11:43:39] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[11:52:03] *** Joins: aegeaner (Aegeaner@B81B2974.1EBC9917.4446104D.IP)
[11:52:59] *** Quits: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP) (Quit: Computer has gone to sleep.)
[11:54:54] *** Quits: [squiddy] (squiddy@moz-BDFE2D1F.dip.tu-dresden.de) (Ping timeout)
[11:56:22] *** Quits: maik (maik@moz-9C654BFC.dip0.t-ipconnect.de) (Ping timeout)
[11:58:54] *** Joins: sankha93 (Instantbir@10595AFD.7FCF9508.EFB84E89.IP)
[11:59:24] *** Quits: fran_ (fran@moz-D5B20FF3.telecom.net.ar) (Ping timeout)
[12:04:06] *** Joins: fran_ (fran@moz-4F644B6.telecom.net.ar)
[12:05:38] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[12:07:03] *** Joins: qrpth (andreas@moz-9C921D25.ut.ee)
[12:10:01] *** Quits: lerc (quassel@moz-95D8600C.telstraclear.net) (Ping timeout)
[12:11:22] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[12:12:00] <zokier`> it would be useful to have some summary performance characteristics in the maps and sets section of containers tutorial
[12:15:55] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:19:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:20:02] *** Quits: qrpth (andreas@moz-9C921D25.ut.ee) (Ping timeout)
[12:20:58] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[12:21:34] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[12:23:46] *** Joins: qrpth (andreas@moz-9C921D25.ut.ee)
[12:25:53] *** kimundi is now known as zz_kimundi
[12:27:12] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[12:27:29] *** jdm|f00ding is now known as jdm
[12:34:59] *** Quits: avsej (avsej@155B75FC.8283673E.5C5F5A39.IP) (Client exited)
[12:36:55] *** Quits: anon_mg (anon_mg@moz-A269735D.dhcp.mtpk.ca.charter.com) (Quit: )
[12:37:07] <eddyb> rusti: unsafe {let x : int = 0; asm!("add $0, $1" : "+r"(x) : "r"(5)); x}
[12:37:11] -rusti- pastebinned 7 lines of output: http://ix.io/8tc
[12:37:14] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[12:37:56] <eddyb> rusti: unsafe {let mut x : int = 0; asm!("add $0, $1" : "+r"(x) : "r"(5)); x}
[12:37:58] -rusti- pastebinned 3 lines of output: http://ix.io/8td
[12:38:15] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[12:40:27] *** Quits: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP) (Quit: Leaving)
[12:40:35] *** Joins: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP)
[12:47:32] <eddyb> dbaupp: ^^ there's that bug, I think I know how to fix it, but I won't mix it with this other stuff, okay?
[12:47:51] <eddyb> rusti: let x : int = 0; x += 5
[12:47:53] -rusti- pastebinned 8 lines of output: http://ix.io/8tf
[12:48:01] *** Quits: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au) (Quit: z0w0)
[12:48:34] *** pmoore|away is now known as pmoore
[12:48:50] *** Quits: qrpth (andreas@moz-9C921D25.ut.ee) (Ping timeout)
[12:49:04] *** Joins: qrpth (andreas@moz-9C921D25.ut.ee)
[12:50:42] <jdm> zokier`: feel free to file an issue about it; we track ones for documentation as well.
[12:52:18] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[12:53:03] *** Joins: Florob (Florob@moz-39532932.de)
[12:53:39] *** Quits: steveklabnik (steveklabn@moz-1DC93A6C.wiera.hu) (Ping timeout)
[12:53:40] *** Quits: heftig (heftig@moz-F554B92E.dip0.t-ipconnect.de) (Quit: Quitting)
[13:04:14] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[13:04:15] *** Joins: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net)
[13:05:52] *** Joins: canhtak (jeremy@moz-EF57C296.wl.t.ulaval.ca)
[13:05:53] *** Quits: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net) (Connection reset by peer)
[13:06:03] *** Joins: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net)
[13:08:49] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[13:14:17] <zokier`> done
[13:18:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:19:18] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[13:19:30] <msch> hi, does rust already have a postgres library floating around somewhere?
[13:19:48] <zokier`> rusti: struct A; impl A { fn a<'r>(self: &'r Self) { () } };
[13:19:49] -rusti- <anon>:9:41: 9:42 error: expected `,` or `)`, found `:`
[13:19:49] -rusti- <anon>:9          struct A; impl A { fn a<'r>(self: &'r Self) { () } };
[13:19:49] -rusti-                                                   ^
[13:19:49] -rusti- application terminated with error code 101
[13:20:18] <bstrie> msch: the only bindings that I've seen are for mongodb
[13:20:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:20:42] <msch> bstrie thanks. got a CPU bound postgres migration thingy and was looking for a fast and exciting language :)
[13:21:04] <bstrie> msch: well yeah, rust is fast and exciting, but also new enough that it doesn't have many production-ready libs :P
[13:21:22] <bjz> msch: Rust is really nice to make bindings for though
[13:21:26] <msch> bstrie yeah. And I'm certainly not gonna use Go so I guess I'm stuck with Ruby
[13:21:39] <dbaupp> msch: https://github.com/sfackler/rust-postgres
[13:22:01] <msch> dbaupp oh cool. Thanks!!!
[13:22:02] <bjz> ooh
[13:22:21] <zokier`> rusti: struct A { i: uint }; impl A { fn a<'r>(self: &'r Self) -> &'r uint { &self.i } };
[13:22:21] -rusti- <anon>:9:53: 9:54 error: expected `,` or `)`, found `:`
[13:22:21] -rusti- <anon>:9          struct A { i: uint }; impl A { fn a<'r>(self: &'r Self) -> &'r uint { &self.i } };
[13:22:21] -rusti-                                                               ^
[13:22:21] -rusti- application terminated with error code 101
[13:22:29] <bjz> dbaupp: oh were they the dudes who posted on the ML a while back?
[13:22:36] <dbaupp> bjz: "they"?
[13:22:57] <dbaupp> I believe that's one person's baby... sfackler.
[13:23:13] <bjz> oh ok
[13:23:32] <bjz> maybe I was thinking of another db thingy
[13:23:52] <bjz> it's a very nicely done readme I must say :)
[13:24:13] *** jorendorff_away is now known as jorendorff
[13:24:41] *** jorendorff is now known as jorendorff_away
[13:24:50] *** Quits: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net) (Quit: msingle)
[13:25:18] *** Joins: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net)
[13:26:18] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[13:27:10] *** jorendorff_away is now known as jorendorff
[13:29:57] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[13:31:41] <oberstet> dbaupp: are you the author of rust-postgres?
[13:32:14] <dbaupp> oberstet: nope, GH["sfackler"] == IRC["sfackler"] :)
[13:32:26] <oberstet> thx!
[13:32:39] *** Quits: alonlevy (alon@moz-F53E4C49.redhat.com) (Ping timeout)
[13:32:41] <oberstet> sfackler: ping?
[13:33:33] <bjz> :)
[13:33:35] *** Quits: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi) (Ping timeout)
[13:34:07] *** Joins: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi)
[13:35:45] <oberstet> dbaupp, msch, sfackler: very nice! in particular that it's pure Rust, not using PG C client lib. I am wondering if support for NOTIFY is on the map ..
[13:36:10] *** Quits: Dcoder (a@moz-F8BDC9E8.org) (Input/output error)
[13:38:38] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[13:40:57] *** Joins: GeneralMaximus (ankur@1F3E55FD.B0C3F0F8.274D17D6.IP)
[13:42:43] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[13:43:41] *** Joins: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP)
[13:44:55] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[13:45:18] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[13:47:53] *** Quits: qrpth (andreas@moz-9C921D25.ut.ee) (Ping timeout)
[13:50:43] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[13:51:27] *** Joins: alonlevy (alon@moz-87959726.redhat.com)
[13:51:39] *** Joins: qrpth (andreas@moz-9C921D25.ut.ee)
[13:54:54] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[13:55:29] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[13:57:54] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[13:58:18] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[13:59:15] *** Joins: mib_ncf289 (Mibbit@moz-7E21260.stosn.net)
[13:59:30] *** Quits: mib_ncf289 (Mibbit@moz-7E21260.stosn.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:02:47] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[14:04:32] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[14:07:48] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: bb2m)
[14:10:23] *** Quits: GeneralMaximus (ankur@1F3E55FD.B0C3F0F8.274D17D6.IP) (Quit: Computer has gone to sleep.)
[14:11:42] *** Joins: nuts (tii@822A8E7E.6AD15BF5.75D3BBDB.IP)
[14:11:48] <nuts> Hello
[14:12:04] <Ms2ger> G'day
[14:13:38] <nuts> I'm looking around rust-sfml
[14:13:53] <nuts> from this repo : https://github.com/JeremyLetang/rust-sfml
[14:14:27] <nuts> But, I've some problems when I run rustpkg build rsfml
[14:14:56] <nuts> Like that : http://pastealacon.com/33299
[14:15:28] <nuts> my operating systems is ~x86
[14:15:46] <nuts> So, I think this error is normal: "error: mismatched types: expected `i64` but found `i32` (expected i64 but found i32)"
[14:15:48] <nuts> No?
[14:15:54] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[14:16:13] <nuts> I try to fix this, with juste replace i64 to i32
[14:16:22] <nuts> After, building is OK
[14:17:04] <nuts> but I've a segfault when I call window.clear( (pong example from rsfml git repo)
[14:17:09] <nuts> any idea about my issue?
[14:19:28] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:21:32] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[14:22:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:24:16] *** Joins: lfox (lfox@moz-25ABC0FC.nyc.biz.rr.com)
[14:24:25] *** Joins: mib_zlwkdf (Mibbit@moz-C03F06B0.dc.dc.cox.net)
[14:28:41] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[14:30:32] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:30:39] <bstrie> nuts: let me take a peek
[14:31:51] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[14:32:48] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[14:33:00] <nuts> bstrie: yes
[14:33:30] <bstrie> nuts: which lines had the i64 errors?
[14:34:01] <bstrie> because if the code isn't building at all, then that "passing" travisCI badge in the readme is pretty useless :P
[14:34:15] <nuts> this one src/rsfml/system/time.rs:116:8
[14:34:31] <canhtak> hi
[14:34:37] <bstrie> canhtak: hello
[14:34:48] <canhtak> nuts, it's an error of mine, i use c_long 
[14:34:59] <canhtak> but it's c_longlong in the ffi
[14:35:09] <canhtak> for the time i64 error
[14:36:34] *** Joins: rlin-nb (rlin@moz-6425A2A2.hinet-ip.hinet.net)
[14:36:39] <bstrie> canhtak: is rust-sfml your project?
[14:36:44] <canhtak> yes
[14:36:58] <bstrie> well I'm happy you showed up then :)
[14:37:44] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:38:28] <eddyb> rusti: unsafe {let mut x : int = 0; asm!("add $0, $1" : "r"(x) : "r"(5)); x}
[14:39:01] <eddyb> uhm... is it alive?
[14:39:09] <bstrie> rusti: 2
[14:39:23] <nuts> canhtak: you replace all i64 by c_long ?
[14:39:46] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[14:39:46] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[14:39:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:39:50] <bstrie> haha
[14:39:55] *** Quits: mib_zlwkdf (Mibbit@moz-C03F06B0.dc.dc.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:39:58] <bstrie> eddyb, you killed rusti!
[14:40:09] <eddyb> who was running it, cmr?
[14:40:22] <bstrie> rusti just runs on strcat's laptop
[14:40:30] <bstrie> not like in a datacenter or anything :P
[14:40:40] <eddyb> right, I just forget who's who
[14:40:43] <bstrie> so in all likelihood strcat just put his laptop away
[14:40:54] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Ping timeout)
[14:41:06] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[14:41:07] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Quit: Leaving)
[14:41:14] <bstrie> I mean, assuming that you didn't find some sort of asm-related SUPERCRASH that was capable of taking down his whole computer through the sandbox
[14:41:21] <eddyb> dbaupp: LLVM doesn't have +, so I wasted a bunch on time on a feature that will never work. now to remove all the code that doesn't make sense
[14:41:51] <bstrie> eddyb: conversely you could waste even more time adding + to LLVM!
[14:42:05] * bstrie has no context for this conversation
[14:42:19] <eddyb> bstrie: http://gcc.gnu.org/onlinedocs/gcc/Modifiers.html
[14:42:34] <bstrie> ah I see
[14:42:40] *** Quits: alonlevy (alon@moz-87959726.redhat.com) (Ping timeout)
[14:42:48] <bstrie> do we have a standard for our asm syntax?
[14:43:10] <eddyb> nope. I'm at least adding some tests for the new stuff that handles =
[14:43:19] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[14:43:22] <canhtak> nuts: yes i just commit the change
[14:43:51] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[14:44:14] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[14:44:18] *** Quits: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net) (Ping timeout)
[14:44:28] *** Joins: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net)
[14:44:43] *** Joins: [squiddy] (squiddy@moz-FF47E765.adsl.alicedsl.de)
[14:44:52] <nuts> canhtak: ok, I look that
[14:45:58] <canhtak> nuts: have you always the segfault? with a minimal example too?
[14:46:43] <nuts> I've a segfault again
[14:46:56] <nuts> I make a minimal code for the segfault
[14:47:55] <eddyb> rusti: unsafe {let mut x : int = 0; asm!("add $0, $1" : "r"(x) : "r"(5)); x}
[14:48:02] -rusti- pastebinned 3 lines of output: http://ix.io/8td
[14:48:13] <eddyb> bstrie: you were right
[14:48:51] <bstrie> what was I right about? :)
[14:49:47] <bstrie> so is that at&t syntax? do we also support intel syntax?
[14:49:56] <bstrie> <-- not a asm guy
[14:50:15] <canhtak> nuts: i'm not on a 32bits os, so i can't test. but on 64bits i've no leak
[14:50:32] <nuts> this http://pastebin.com/b2GxeWUw perform a segfault
[14:52:15] <nuts> canhtak: I try in a VM (debian 64 bits) before and that works fine
[14:52:28] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:53:34] <nuts> canhtak: I've only the segfault when I use something related with time.rs
[14:54:28] *** Quits: rlin-nb (rlin@moz-6425A2A2.hinet-ip.hinet.net) (Quit: Leaving.)
[14:55:20] *** Joins: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net)
[14:57:04] *** flaper87|afk is now known as flaper87
[14:57:30] *** Joins: alonlevy (alon@moz-F53E4C49.redhat.com)
[14:57:36] <nuts> canhtak: I put some debug print
[14:58:05] <canhtak> nuts: what it said?
[14:58:21] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[14:58:43] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[14:58:46] <canhtak> nuts: segfault is when you call window.clear(); ?
[14:58:52] <nuts> canhtak: yep, exactly
[14:59:01] *** Quits: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP) (Quit: DeTeam)
[14:59:15] *** Quits: sankha93 (Instantbir@10595AFD.7FCF9508.EFB84E89.IP) (Quit: Gone to save the world!)
[15:00:12] *** Quits: aegeaner (Aegeaner@B81B2974.1EBC9917.4446104D.IP) (Connection reset by peer)
[15:00:53] *** Joins: sankha93 (Instantbir@10595AFD.7FCF9508.EFB84E89.IP)
[15:01:18] *** Joins: lmandel (lmandel@moz-D957E76.dsl.bell.ca)
[15:01:49] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[15:03:02] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:06:20] <canhtak> nuts: sorry i can't find where is the bug. you SFML lib is the 2.1?
[15:07:35] <nuts> Yes SFML and CSFML
[15:08:52] <canhtak> you're on windows or linux (i have not windows so i never test on this plateform).
[15:09:00] <nuts> I'm on linux
[15:09:05] <nuts> gentoo i686
[15:09:27] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:10:17] *** Quits: lmandel (lmandel@moz-D957E76.dsl.bell.ca) (Quit: lmandel)
[15:10:48] <canhtak> have you tried to pass valgrind on the bin? it's something helpful ?
[15:11:01] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[15:12:25] *** Quits: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP) (Ping timeout)
[15:12:40] *** Quits: sk (sk@moz-82E9BD64.dynamic.vega-ua.net) (Quit: Leaving)
[15:14:24] <nuts> nop, nothing help me, in the valgrind traceback
[15:14:25] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[15:14:31] <canhtak> arh
[15:14:46] <nuts> just that: "Syscall param read(buf) points to unaddressable byte(s)"
[15:16:10] <canhtak> it's normal, (i think it's the rust runtime).
[15:16:23] <canhtak> have you tried to remove : window.set_vertical_sync_enabled(true);
[15:19:07] *** Joins: jordyd (jordyd@moz-C3FF1ED7.seg46.ucf.edu)
[15:19:26] <nuts> Yes, same issue
[15:19:39] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[15:19:45] <nuts> It's really strange
[15:20:18] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:22:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:25:42] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[15:26:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:28:34] <canhtak> yes, and i see no problems in the binding for Colors or for RenderWindow::clear().
[15:28:58] <lteo> total rust noob here. just curious, how does one get a stage0 rustc to build rust on an unsupported platform (openbsd in this case)?
[15:29:47] <bstrie> lteo: cross-compiling, I believe
[15:30:37] <bstrie> lteo: it's a bit arcane, only a few people have ever done it (one person did it for freebsd, one person for android)
[15:30:51] *** Joins: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP)
[15:30:57] <lteo> bstrie: hmm wow thanks. sounds out of my league then ;)
[15:31:29] <bstrie> lteo: I don't know anything about the bsd world, so I'm not sure how hard it would be to repurpose the freebsd version of rust..
[15:32:04] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[15:32:24] *** Quits: alonlevy (alon@moz-F53E4C49.redhat.com) (Ping timeout)
[15:33:17] *** Quits: lfox (lfox@moz-25ABC0FC.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:33:28] <nuts> canhtak: I make a unit test for Color
[15:33:36] <nuts> and no problem with him
[15:33:43] <nuts> it's really window.clear
[15:34:06] <canhtak> the same code in c++ work in your os?
[15:34:10] <lteo> bstrie: it's really ironic but the bsd's don't have much binary compatibility with each other, but they do have binary compat with linux :p
[15:34:25] <canhtak> or directly with csfml ?
[15:35:03] <nuts> canhtak: I don't try in C++
[15:35:19] <canhtak> or in c with csfml?
[15:35:43] <nuts> I'm going o write the same things in c++
[15:36:13] *** Joins: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net)
[15:37:00] <bstrie> lteo: that's really weird :P
[15:37:47] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[15:38:40] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[15:39:06] *** Quits: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Quit: Leaving)
[15:40:33] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[15:42:42] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[15:43:05] <canhtak> nuts: hum try to replace         This :          *c_void, at line 79 in the file render_window.rs
[15:43:17] <canhtak> by This :          c_void
[15:44:52] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[15:45:31] <canhtak> argh no it's no this this have no sense.
[15:46:34] <nuts> oh?
[15:47:24] <canhtak> ?
[15:47:33] *** flaper87 is now known as flaper87|afk
[15:48:45] <canhtak> it works for me in 64 bits, so i think that the c render window struct and rust render window struct have not the same size, and its maybe that who made the segfault...
[15:49:11] *** Joins: squiddy (squiddy@moz-FF47E765.adsl.alicedsl.de)
[15:49:29] <nuts> I think, it's time for me to reinstall my linux in x86_64 ^^
[15:52:20] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[15:54:56] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[15:56:07] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[15:57:03] <Leo`> I'm encountering a compilation error : "constant containts unimplemented expression type" when compiling
[15:57:23] <Leo`> is this a problem in my code, or something not implemented in the compiler for now ?
[15:57:40] <bstrie> Leo`: you're just trying to compile the compiler?
[15:57:54] <Leo`> no
[15:58:14] <bstrie> Leo`: in general that message just means that what you're doing *should* work, eventually, but we haven't gotten around to it yet :)
[15:58:27] <bstrie> what specifically are you trying to do?
[15:58:47] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (Ping timeout)
[15:58:55] <Leo`> here is the snippet : http://placeholder.fr/show/467
[15:59:00] <Leo`> fu
[15:59:11] <Leo`> http://paste.placeholder.fr/show/467
[15:59:22] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[15:59:25] <Leo`> the error concerns the unsafe block
[15:59:27] <nuts> canhtak: I may be a track, I do other tests by adding events and removing window.clear
[15:59:33] <nuts> and that's work
[15:59:41] <nuts> I've a black window with event
[15:59:57] <Leo`> without it, it complains about the use of a mutable static (that must reside in a unsafe block)
[16:00:08] <nuts> But, when I try to use some Clock, I've a segfault
[16:00:18] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[16:00:19] <nuts> maybe clear use something in time.rs?
[16:00:29] <Leo`> and when I add the unsafe block, I got the "unimplemented" message
[16:00:42] <bstrie> Leo`: that's... actually pretty amusing :)
[16:01:00] <sfackler> oberset: pong
[16:01:00] <Leo`> using unsafe blocks in constant context isn't implemented ?
[16:01:10] <Leo`> bstrie: huh... yeah, why ? :P
[16:01:28] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[16:01:33] <sfackler> patches welcome for NOTIFY support :P I've never used that feature
[16:01:45] <canhtak> nuts : nope i don't think, and if it do it's in SFML internal code, so there should be no error
[16:01:47] *** zz_kimundi is now known as kimundi
[16:01:59] <bstrie> Leo`: Leo` because *technically* it's not unsafe to use static muts in that specific way, given that we can't mutate them in constant expressions
[16:02:11] <Leo`> yeah...
[16:02:17] <bstrie> I'll file a bug
[16:02:29] <Leo`> ok thanks bstrie 
[16:02:36] *** Quits: qrpth (andreas@moz-9C921D25.ut.ee) (Ping timeout)
[16:02:56] <Leo`> link me the bug report when you file it, so that i can follow it
[16:04:09] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[16:04:28] *** Joins: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net)
[16:04:29] *** ChanServ sets mode: +o pnkfelix
[16:04:31] <Leo`> bstrie: i can file the bug if you want...
[16:04:43] <bstrie> Leo`: I'm already halfway done filing it! :)
[16:05:11] <Leo`> okay :)
[16:07:44] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[16:08:59] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:11:03] <bstrie> Leo`: https://github.com/mozilla/rust/issues/9852
[16:11:26] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:12:52] <Leo`> thx bstrie 
[16:13:02] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[16:13:20] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[16:14:10] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[16:14:32] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[16:15:55] *** Quits: Ferreus (ferreus@moz-407DDF2F.dip0.t-ipconnect.de) (Ping timeout)
[16:20:14] *** Joins: themgt (themgt@moz-9C18EE8D.baf.movistar.cl)
[16:20:21] *** Joins: bent|away (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[16:20:38] *** bent|away is now known as bent
[16:22:26] <Leo`> btw, how can I avoid errors like "requires `fail_bounds_check` lang_item" when accessing an array ?
[16:23:51] <kimundi> Implement the fail_bounds_check langitem, or don't use no_std?
[16:24:20] <bstrie> Leo`: are you trying to go without the runtime?
[16:24:20] <Leo`> mhh
[16:24:22] <Leo`> seems legit
[16:24:28] <Leo`> bstrie: yep
[16:24:36] <Leo`> what is a "lang_item" ? 
[16:24:44] <kimundi> Or try unsafely accessing the elments of a vector, but if you use no_std you have to implemnt that manually first
[16:25:05] <Leo`> I see
[16:25:11] <kimundi> lang itmes are bits of code that the compiler uses for ceretain functionality#
[16:25:23] <Leo`> okay
[16:25:41] <Leo`> I will look for it in the std lib code to see if I can implement it myself easily
[16:25:49] *** Joins: nkoep (nik@moz-FCDECDE8.pool.mediaways.net)
[16:26:26] <Leo`> if not, i'll implement manually an unsafe function for accessing vector elements
[16:26:28] *** Joins: ercxx (ercan@moz-7CFF3469.dyn.optonline.net)
[16:26:57] <Leo`> doing thnigs without the runtime learns a lot about how Rust works :D
[16:27:00] <Leo`> things*
[16:27:50] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[16:28:13] <bstrie> Leo`: look in src/libstd/unstable/lang.rs for the thing marked with #[lang="fail_bounds_check"]
[16:29:00] <Leo`> okay
[16:29:36] *** Quits: sankha93 (Instantbir@10595AFD.7FCF9508.EFB84E89.IP) (Ping timeout)
[16:29:46] <Leo`> oh it's simple
[16:30:52] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[16:31:26] <Leo`> oh, i've got a question about the module system
[16:31:47] <Leo`> let's say i've got a crate, with a submodule A and a submodule B, both located at the crate root
[16:32:15] <Leo`> (in my main source for the crate, i've got for example a mod A; and a mod B; and both are implemented in their own files)
[16:32:26] <Leo`> how do I access functions of A inside B ?
[16:32:38] <Leo`> of course, ::A::function() works
[16:33:18] <Leo`> but is their a way to import them into the namespace, with use or something ? I've tried several things that didn't work
[16:33:35] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[16:33:56] <Leo`> and if I understood well, if I put a "mod A" declaration inside B, this will create a second module A located at ::B::A, right ?
[16:33:58] <SiegeLord> use A; or use A::function;
[16:34:46] <Leo`> mhh
[16:35:04] <kimundi> Leo: Did you read the module part of the tutorial?
[16:35:08] <tedh> is debugging supposed on mac?  i don't see an issue for it besides the warning about no debug symbols
[16:35:35] <kimundi> tedh: Did you enable the output of debug symbols in the executable?
[16:35:39] <Leo`> kimundi: yeah... several times.
[16:35:47] <bstrie> tedh: there's been a lot of work on debugging symbols lately, I'm not sure what the current status is
[16:35:51] <kimundi> Leo`: Okay, just wanted to make sure :)
[16:35:52] <Leo`> but maybe I understood it wrong :d
[16:36:09] <tedh> i added '-Z extra-debug-info'. is there something else?
[16:36:33] <SiegeLord> If ::A::B::C works then use A::B::C; C will also work
[16:37:03] <kimundi> Leo`: But anyway, for both A and B modules in the crate root use A:: function; ... function() works
[16:37:33] <kimundi> Leo`: And yeah a second mod A is not what you want
[16:37:36] <SiegeLord> It is a bit confusing that one is relative by default, and the other is absolute
[16:37:46] <SiegeLord> But I guess that's for convenience
[16:38:37] <Leo`> SiegeLord: an use is absolute by default, while acessing a value/function is relative by default ? is this what you say ?
[16:38:48] <SiegeLord> Right
[16:39:09] <Leo`> kimundi: yeah, I just wanted to make sure this is what happens when I put "mod A;" in my B source file
[16:39:13] <SiegeLord> Although, there is no such thing as a relative use, so it's better to say that use is always absolute
[16:39:15] <Leo`> s/when/if/
[16:39:27] <benh> Maybe we should just require that paths in `use` start with `::`...
[16:39:41] <Leo`> SiegeLord: okay.
[16:40:36] <kimundi> SiegeLord: Well, "use super::foo" works, so..
[16:40:48] * bstrie wonders if benh and tedh are related
[16:40:57] <kimundi> Leo`: And yeah, two mod A would duplicate
[16:41:03] <benh> nope
[16:41:07] <SiegeLord> That's not really relative, you're just substituting the path
[16:41:30] <SiegeLord> It's like the ~/path syntax... that's not a relative path, afaik
[16:41:33] *** Joins: qrpth (andreas@moz-BF31195A.campusnet.ee)
[16:41:43] <SiegeLord> Or `pwd`/path
[16:41:57] <kimundi> But... Isn't that exactly what relative is? :P
[16:43:19] <SiegeLord> If you have to explicitly specify a root that's not crate root, I don't think it counts :P
[16:44:14] <kimundi> As I see it, some kind of path notation is relative if it describes an path than can only be transformed in a correct global one by applying a global base path to it
[16:45:10] <kimundi> So, super::foo would be relative because it is relative to the parent module, and ~/foo is relative because it is relative to you home directory
[16:45:25] *** Quits: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net) (Ping timeout)
[16:45:38] *** Joins: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net)
[16:45:38] *** ChanServ sets mode: +o pnkfelix
[16:46:03] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:46:15] <Leo`> okay it works. I thought I had tried it but obviously I didn't. thx kimundi and silotis 
[16:46:17] <Leo`> fuck
[16:46:20] <Leo`> and SiegeLord
[16:46:23] <Leo`> (sorry silotis)
[16:46:51] *** Joins: autra (augustin@moz-2EA7A1DF.fullsix.com)
[16:47:09] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[16:47:51] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[16:48:36] *** Joins: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se)
[16:48:54] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:49:18] *** Quits: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net) (Ping timeout)
[16:49:28] *** Quits: qrpth (andreas@moz-BF31195A.campusnet.ee) (Ping timeout)
[16:49:59] *** Quits: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net) (Ping timeout)
[16:50:26] *** Joins: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net)
[16:50:26] *** ChanServ sets mode: +o pnkfelix
[16:50:30] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:52:21] *** Quits: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net) (Ping timeout)
[16:53:03] *** Quits: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[16:53:48] *** Joins: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net)
[16:55:35] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Ping timeout)
[16:55:39] *** Quits: autra (augustin@moz-2EA7A1DF.fullsix.com) (Ping timeout)
[16:56:30] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:57:20] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[16:57:49] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:58:25] *** Joins: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net)
[16:58:25] *** ChanServ sets mode: +o pnkfelix
[16:58:54] *** Joins: geoffhill (geoffhill@moz-2785B672.hsd1.wa.comcast.net)
[16:58:58] *** Quits: fabiand (fabiand@moz-A171E7D0.adsl.alicedsl.de) (Quit: Verlassend)
[16:59:28] *** Quits: noam_ (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[17:00:27] *** Joins: noam_ (noam@F6B530A7.720527A7.416762B.IP)
[17:00:55] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[17:01:28] *** Joins: efyx (efyx@moz-4206285E.adsl-dyn.isp.belgacom.be)
[17:02:31] *** Quits: pnkfelix (pnkfelix@moz-3E993C4C.public.wayport.net) (Ping timeout)
[17:04:17] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[17:04:24] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:05:19] *** Joins: barosl (barosl@moz-D4088DB4.us-west-1.compute.amazonaws.com)
[17:06:03] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[17:07:57] *** Joins: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk)
[17:08:08] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[17:08:40] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:09:41] *** Quits: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk) (Ping timeout)
[17:10:26] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:10:26] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:10:37] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:10:37] *** ChanServ sets mode: +ao brson brson
[17:12:25] *** Quits: skade (skade@moz-4D9CB8A6.sys11.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:13:07] *** Quits: jordyd (jordyd@moz-C3FF1ED7.seg46.ucf.edu) (Ping timeout)
[17:13:32] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[17:15:19] *** Joins: dschatzberg (dschatzber@moz-A3DA777F.bu.edu)
[17:15:57] *** Joins: jxv_ (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:16:53] <dschatzberg> Is there anyway to get owned boxes from a custom allocator?
[17:17:30] <cmr> dschatzberg: not while using libstd
[17:17:33] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[17:18:51] <dschatzberg> cmr: is there a reason for that:
[17:19:00] <bstrie> cmr: I see you couldn't resist the allure of answering questions on irc!
[17:19:05] * bstrie laughs maniacally
[17:19:11] <cmr> bstrie: yup!
[17:19:18] *** Quits: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:19:57] <cmr> dschatzberg: The allocator used for owned boxes is a language item, only one of which can be defined in a given program at a time. libstd provides all of the language items.
[17:21:00] <dschatzberg> cmr: I understand, but is there a reason for that decision vs allowing arbitrary allocators/deleters for owned boxes (such as c++11's unique_ptr)
[17:21:19] <cmr> dschatzberg: oh, parameterized allocators? complexity and dubious benefit.
[17:21:34] <eddyb> dschatzberg: more runtime cost
[17:21:45] <dschatzberg> eddyb: what runtime cost?
[17:21:46] <cmr> ~T isn't special, it can be written in pure Rust, minus the syntax.
[17:22:18] <brson> cmr: you're not hiatusing very well right now
[17:22:19] <eddyb> dschatzberg: AFAIK, storage. altho... nevermind
[17:22:32] <cmr> brson: it's lunchtime, lay off ;p
[17:22:35] <bstrie> brson: maybe you should ban him :P
[17:22:41] <bstrie> for his own good!!
[17:22:53] <eddyb> dschatzberg: well, yeah. if you want ~ to work in different ways depending on the object, it will require more space (e.g. for a vtable)
[17:23:11] <dschatzberg> eddyb: or it is embedded in the type like c++ does with unique_ptr
[17:24:30] <eddyb> dschatzberg: you can do the same thing in Rust with two types, let's call them unique1 and unique2, but to use them interchangeably, there's an extra cost
[17:24:32] <sfackler> better library support for smart pointer types is coming, iirc
[17:24:40] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[17:24:51] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[17:26:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:28:20] <kimundi> Yeah, with whatever smartpointer support is coming, writing an own ~T should be a piece of cake
[17:30:08] *** Quits: jxv_ (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[17:30:11] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[17:30:11] *** ChanServ sets mode: +o tjc
[17:30:38] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[17:31:30] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[17:32:28] <bstrie> kimundi: now I'm imagining what a "cake pointer" would entail
[17:32:32] <bstrie> and getting gradually hungrier
[17:33:26] <tjc> is a cake pointer like a cake pop?
[17:33:29] <bstrie> not sure
[17:33:31] *** Quits: dschatzberg (dschatzber@moz-A3DA777F.bu.edu) (Quit: Leaving)
[17:33:38] <bstrie> maybe a cake pointer is a pointer to something that you can slice up and hand out
[17:33:39] * tjc starts a food truck specifically to sell cake pops to linear logic specialists
[17:33:44] <tjc> it's kind of a niche market
[17:34:09] <tjc> If the pointer is dangling, does that mean the cake is a lie?
[17:34:14] <bstrie> tjc: need to scope out the hot spots for linear logic specialists to take their lunch
[17:34:22] <tjc> bstrie: Pittsburgh
[17:34:24] <bstrie> and maybe have an exam before allowing them to buy anything
[17:34:26] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[17:37:06] *** Joins: heftig (heftig@moz-F554B92E.dip0.t-ipconnect.de)
[17:37:27] *** Joins: gandi (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:37:57] <bstrie> maybe for the purposes of instruction we should rename "managed pointers" to "communist pointers" and "unique pointers" to "capitalist pointers"
[17:38:07] <bstrie> @MeansOfProduction
[17:39:12] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:39:42] <tjc> well, if we're talking about econ there could be an interesting analogy between excludable and non-excludable goods
[17:39:56] <tjc> By "interesting" I mean "someone with much more free time than me could write a funny blog post about it"
[17:41:54] <doomlord_> colllectivist pointers and libertarian pointers
[17:42:22] <tjc> we can just rename *T to Libertarian(T)
[17:42:32] <bstrie> now we're veering into monad-explanation territory... "imagine that an owned pointer is a burrito, and burritos are excludable goods..."
[17:42:42] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[17:42:44] <tjc> that should solve all those complains about the pointer sigils :-)
[17:42:46] <bstrie> "owned pointers are just affine types in the category of linear types"
[17:42:51] <doomlord_> fractional reserve borrowed pointers
[17:42:57] <tjc> "Imagine that an owned pointer is a burrito, and then the burrito decides to seize control over the means of production."
[17:43:07] <tjc> this conversation would be prime rust_ebooks material
[17:43:09] <tjc> if such a thing existed
[17:43:18] <bstrie> I think the quotedb serves that purpose
[17:43:23] *** Joins: vodik (simon@3FD4FA13.A8F6FAEF.4B2DF651.IP)
[17:43:24] <tjc> heh
[17:45:43] <doomlord_> hehe. "what pointer do i need?"
[17:45:55] <doomlord_> "answer this short survey to determine your position on the political compass"
[17:45:59] <tjc> haha
[17:46:13] <tjc> Coincidentally, we have four types of pointers and there are four corners on that "political compass" chart :-)
[17:46:20] <doomlord_> exactly :)
[17:46:35] <bstrie> I'm not sure that borrowed pointers correspond well to any political philosophy
[17:47:40] <bstrie> hm
[17:47:47] <doomlord_> some people draw it diagonally
[17:48:20] *** Quits: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se) (Client exited)
[17:48:24] <tjc> bstrie: socialism
[17:48:25] <doomlord_> * and ~ are economic right (ownership), but one is more libertarian (if you make a mistake, its your fault)
[17:48:30] <bstrie> but maybe you could find a religious philosophy that's all about borrowing your life from the cosmos and returning it at the end of your lifetime
[17:48:30] <tjc> letting your friends borrow from you
[17:48:33] *** Joins: jordyd (jordyd@moz-EE3351F.seg143.ucf.edu)
[17:48:35] *** Quits: geoffhill (geoffhill@moz-2785B672.hsd1.wa.comcast.net) (Quit: geoffhill)
[17:48:43] <tjc> bstrie: that's what reincarnation is, right?
[17:48:58] <doomlord_> & and @ are shared so they're collectivist, but one requires a supporting state .. the authority of the garbage collector
[17:49:01] <bstrie> tjc: no, I think reincarnation is reinterpret_cast
[17:49:05] <tjc> bstrie: heh
[17:49:37] <doomlord_> so its @ topleft,    ~ topright,   & bottom left, * bottom right on the political compass chart
[17:49:40] <bstrie> I love "transmute" as our name for that btw
[17:49:40] <tjc> doomlord_: it doesn't *require* a garbage collector -- it can be implemented with automatic reference-counting (as it is now!), which is decentralized :-)
[17:49:43] *** Joins: pnkfelix (pnkfelix@moz-813314A4.hsd1.ma.comcast.net)
[17:49:43] *** ChanServ sets mode: +o pnkfelix
[17:49:56] <doomlord_> tjc stop breaking my analogy :) 
[17:50:03] <bstrie> doomlord_: keep in mind that we removed managed pointers in 1989
[17:50:08] <tjc> doomlord_: I'm not breaking it, I'm complexifying it :-)
[17:50:27] *** Quits: msingle (Thunderbir@moz-1A29E89B.nrflva.fios.verizon.net) (Ping timeout)
[17:50:31] <bstrie> or rather, deprecated them
[17:50:50] <bstrie> there are still some countries that have yet to upgrade their compilers
[17:50:51] *** Joins: geoffhill (geoffhill@moz-2785B672.hsd1.wa.comcast.net)
[17:51:05] <bstrie> and some that have implemented shims that are secretly based on capitalist pointers
[17:51:21] *** Joins: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se)
[17:51:44] <tjc> that's why abstraction barriers are so important
[17:52:48] <bstrie> there is no political dilemma that cannot be solved by another layer of abstraction
[17:53:01] <bstrie> except for the dilemma of not enough layers of abstraction
[17:53:26] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[17:53:31] <bstrie> speaking of layers
[17:53:33] <bstrie> cake pointers
[17:53:38] <bstrie> cakes have layers
[17:53:43] <bstrie> Q.E.D.
[17:54:46] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:54:48] <myname> bstrie: may i use this for my future bachelor thesis?
[17:55:05] <mitchty> more layers of abstraction? sounds like 6a in the 10 truths of networking rfc http://tools.ietf.org/html/rfc1925
[17:55:26] *** Quits: joone_ (joone@3CCE8CB5.2160464A.A34EC3BB.IP) (Ping timeout)
[17:55:33] <mitchty> or 12 rather, my brains not on
[17:55:40] <kimundi> Cakes are made with Eggs -> Eggs are laid by Birds -> A duck is a bird -> Pointers are witchcraft
[17:55:57] <jeaye> A duck!
[17:56:11] <myname> what's the problem with ducks?
[17:56:22] *** pmoore is now known as pmoore|away
[17:56:27] <bstrie> myname: if you do, I demand attribution
[17:56:55] <bstrie> kimundi: that sounds like a good argument for implementing inheritance in rust
[17:57:18] <bstrie> we could completely model this intuitive system
[17:57:23] <tjc> you say "witchcraft" like it's a bad thing
[17:57:31] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[17:57:47] <ksf> does anyone know how I disable unicode sugaring in the vim syntax?
[17:57:53] <benh> bstrie: eggs are laid by chicken, chicken hatch from eggs, my type hierarchy is cyclic help
[17:57:57] <bstrie> ksf: ugh, is that on by default???
[17:58:02] <ksf> yep.
[17:58:09] <zokier`> what sugaring?
[17:58:12] <kimundi> tjc: It's not, unless you're living in the Middle Age
[17:58:12] <ksf> or at least on my box
[17:58:19] <ksf> replacing -> and => with unicode
[17:58:31] <myname> benh: no problem, you just have to point to the eggs
[17:58:35] <tjc> ksf: I think pcwalton knows stuff about the vim mode, he might know the answer
[17:58:36] <Earnestly> How about → no
[17:58:42] <zokier`> does not happen here, and i haven't explictly disabled it either
[17:58:58] <pcwalton> there's some g:var that lets you control it
[17:59:00] <Earnestly> ksf: let g:no_rust_conceal = 1
[17:59:01] <pcwalton> I forget what it's called
[17:59:04] <benh> in etc/vim/after/syntax/rust.vim it seems to finish early if g:rust_conceal doesn't exist
[17:59:05] <pcwalton> that ^
[17:59:20] <benh> but i'm not sure how that would come to be set by default
[17:59:30] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[17:59:32] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:59:32] <Earnestly> It is set by default and it is irritating :P
[17:59:36] <bstrie> pcwalton: is it also possible to just delete the after/syntax/rust.vim file? not sure it does anything except the conceal stuff
[17:59:49] <pcwalton> I like the conceals :(
[17:59:50] <tjc> I know nothing about vim, but maybe there are different versions of vim that treat these defaults differently?
[18:00:04] <pcwalton> but if it's gravely unpopular we can delete it
[18:00:10] <benh> bstrie: you won't lose anything else if you delete it for yourself 
[18:00:18] <myname> pcwalton: i like them, too
[18:00:19] <bstrie> pcwalton: it makes it a bit hard to reproduce pasted code if anyone has it on
[18:00:23] <Earnestly> Conseals are only fine when there is consent
[18:00:37] <pcwalton> copy and paste doesn't respect conceals
[18:00:43] <pcwalton> at least if you're copying and pasting the right way
[18:00:54] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[18:00:55] *** Joins: joone_ (joone@moz-C50DC051.jf.intel.com)
[18:01:01] <Earnestly> The conseal is purely visual
[18:01:03] <bstrie> pcwalton: honestly I don't know the right way to copy and paste out of vim :P
[18:01:04] <ksf> \o/
[18:01:10] <pcwalton> "+y, "+p
[18:01:20] <bstrie> but I have seen pastebinned code with the conceal chars in there
[18:01:23] <pcwalton> I'm happy to make them off by default -- I thought they actually were
[18:01:29] <pcwalton> probably that was people copy and pasting from their terminal
[18:01:31] <bstrie> possible that there exist plugins that do it wrong
[18:01:33] <pcwalton> they should use "+y, "+p
[18:01:34] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:01:40] <Earnestly> bstrie: That means they probably highlighted it straight from vim without using visual
[18:01:42] <ksf> pcwalton, I wouldn't even *really* mind if gvim didn't mess up displaying the double-with unicode stuff half of the time.
[18:01:47] <benh> or "*y!
[18:02:10] <Earnestly> set clipboard=unnamed \o/, --with-x=yes.  See :h clipboard
[18:02:34] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:03:59] <bstrie> oh well anyway I use vim over ssh about 50% of the time and figuring out how to get remote code into a local clipboard sounds like a nightmare :)
[18:04:23] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[18:04:35] <ercxx> bstrie: doesn't mouse or your terminal handle that?
[18:04:44] <ercxx> with mouse I meant X
[18:04:57] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[18:05:32] <bstrie> ercxx: we were talking about how if you copy code out of vim the proper way, it won't mutilate your code with conceal characters
[18:05:43] <bstrie> but if you just copy out of the terminal it won't
[18:06:45] *** Joins: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP)
[18:07:13] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[18:07:32] *** Quits: barosl (barosl@moz-D4088DB4.us-west-1.compute.amazonaws.com) (Ping timeout)
[18:07:59] <ercxx> bstrie: Oh, I see. Copying using urxvt's own thing grabs the arrows.
[18:08:07] *** Joins: sjmur (chatzilla@BA6AE206.87F910E.C2E02DEF.IP)
[18:08:22] <ercxx> annoying
[18:08:37] <ercxx> conceals are awesome though.
[18:08:52] *** Joins: lfox (lfox@moz-1D59E114.nycmny.fios.verizon.net)
[18:08:55] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[18:08:55] *** ChanServ sets mode: +o tjc
[18:09:22] <zokier`> I don't actually even know why I'm using terminal vim instead of gvim. Maybe I should try switching. At least it would make finding it on taskbar easier
[18:09:36] <bstrie> so, are static muts *actually* unsafe, or do we just try to discourage their use by hiding them behind the unsafe keyword?
[18:09:46] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[18:09:53] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:10:06] <bstrie> because I'm trying to mutate a static mut from 100 tasks concurrently and it all seems to work fine
[18:10:20] <bstrie> not sure if there's locking going on behind the scenes or what
[18:10:59] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[18:12:12] <bstrie> or if the unsafety only manifests in multithreaded or multiprocess code as opposed to just multitasking code
[18:12:56] *** Quits: tikue_ (tikue_star@3DC9855F.F3E8A984.689607DE.IP) (Ping timeout)
[18:13:21] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[18:13:51] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:15:02] <kimundi> bstrie: No locking or synchronization whatsover is happening. If two threads acces the same static mut at the same time, they will race
[18:15:29] <bstrie> kimundi: *threads* only, or can tasks do it too. or is rust free to map tasks to threads however it likes
[18:15:47] <kimundi> bstrie: Tasks might get "accidentally" synchronized though, depending on how they interact with each other.
[18:16:00] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[18:16:04] <kimundi> In principle rust is free to map however it likes
[18:16:16] <bstrie> ok
[18:17:13] <pcwalton> bstrie: if your static mut has pointers in it then it is actually wildly unsafe
[18:17:22] <kimundi> Per default I think rusts runtime starts with N schedulers on one thread per physical core, and every task you spawn could in theory get stolen by any of them to run on a different task
[18:17:27] <kimundi> different thread*
[18:17:28] <bstrie> cmr: are you still going to do weekly bug triage??? last I checked you were half of our triage team :P
[18:17:42] <pcwalton> if it doesn't have pointers in it, then I don't *think* it's memory unsafe, but it certainly ain't type safe
[18:17:58] <pcwalton> you can cast anything to any other thing with Dan's bug
[18:18:27] <kimundi> "Dan's bug" ?
[18:19:00] <bstrie> dan, the preeminent alchemist, master of transumtations
[18:19:01] <pcwalton> suppose you have Left(3) in Either<int,float> in a static mut
[18:19:08] <pcwalton> one thread takes a reference to that int
[18:19:13] <pcwalton> then another thread mutates it to Right(1.0)
[18:19:21] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:19:27] <pcwalton> now you have an &int in one thread that actually points to a float
[18:19:44] <kimundi> yeah
[18:19:54] <pcwalton> Dan is Dan Grossman, who wrote a paper on this
[18:20:02] <pcwalton> well, a talk
[18:20:09] <pcwalton> "Existential types for imperative languages"
[18:20:27] *** gandi is now known as gandalf
[18:20:57] <bstrie> pcwalton: so rust would catch that if you weren't static?
[18:21:08] <pcwalton> the borrowing rules are designed to prevent this
[18:21:16] <bstrie> or does it just not permit mutation if there's a borrow somewhere
[18:21:36] <kimundi> exactly that
[18:21:42] <pcwalton> remember that the rule is that if there's an &mut pointer the only way to mutate is through that pointer
[18:21:46] <pcwalton> this rule prevents Dan's bug
[18:21:47] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[18:22:05] <bstrie> pcwalton: but I wasn't even thinking of &mut, just &
[18:22:07] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[18:22:17] <pcwalton> how are you going to enforce the borrowing rules cross-thread?
[18:22:27] <pcwalton> oh, you mean not cross-thread
[18:22:33] <bstrie> yeah :)
[18:22:34] <pcwalton> well if you have an immutable borrow
[18:22:40] <pcwalton> it obviously forbids you from mutating
[18:22:43] <pcwalton> which also fixes the bug
[18:22:55] <bstrie> ok, just making sure
[18:23:11] <pcwalton> if you have an immutable borrow to any part of a structure you can't mutate the outer structure
[18:23:24] <pcwalton> it's actually implemented by taking out borrows on every element along the path
[18:23:34] <pcwalton> so a borrow of &foo.x takes out a loan on foo and a loan on x
[18:24:54] <bstrie> and a &mut borrow does the same sort of recursive borrowing?
[18:25:30] *** Quits: jordyd (jordyd@moz-EE3351F.seg143.ucf.edu) (Ping timeout)
[18:25:59] <pcwalton> yup
[18:26:07] <pcwalton> it takes out immutable borrows on the parents I think
[18:26:59] *** Quits: PGGB (PGGB@BD9E64E0.2702580D.85889BB1.IP) (Ping timeout)
[18:27:09] <pcwalton> the borrow checker is actually pretty simple nowadays
[18:27:11] <pcwalton> conceptually
[18:27:36] *** Joins: PGGB (PGGB@BD9E64E0.2702580D.85889BB1.IP)
[18:27:40] <pcwalton> it just has a list of loans and prevents you from violating the loan by mutating something you shouldn't or by taking out a conflicting loan (two mutables or mutable + immutable)
[18:28:19] <pcwalton> err, never mind, it doesn't take out immutable borrows on the parents, it takes out mutable borrows on the parents
[18:28:39] *** Quits: cdidd (cdidd@moz-1B77725B.broadband.corbina.ru) (Input/output error)
[18:28:58] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[18:29:21] *** Quits: canhtak (jeremy@moz-EF57C296.wl.t.ulaval.ca) (Quit: canhtak)
[18:30:03] <bstrie> now that I have to actually think about the size of my floats, I suddenly feel like a real systems programmer
[18:30:17] <kimundi> haha :)
[18:30:24] <bstrie> like, neo-level whoa
[18:30:31] <bstrie> *bit depths*
[18:31:05] <bstrie> how precise do I *really* want to be
[18:31:10] <bstrie> my hands are tingling with power
[18:31:28] <bstrie> I'm not sure I should be enstrusted with this much control
[18:31:56] * bstrie runs back to javascript, where numeric types are sane :P
[18:31:58] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[18:32:15] <pcwalton> until IBM succeeds in adding the decimal type to javascript
[18:32:34] *** Joins: DeTeam (DeTeam@moz-8CD651BE.dyn.broadband.iskratelecom.ru)
[18:32:48] <bstrie> well I wasn't really being serious about numerics in javascript being sane :)
[18:33:15] <bstrie> sanity is not a quality that is selected for among javascript programmers
[18:33:21] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:33:23] * pcwalton goes back to fighting Xlib
[18:33:33] <pcwalton> JS is far more sane than Xlib
[18:33:40] <bstrie> I've actually started doing rust-style objects in JS
[18:33:43] <bstrie> make a little struct
[18:33:45] <bstrie> add methods to it
[18:33:50] <bstrie> s/struct/object
[18:34:11] <bstrie> you'll laugh, but this never occurred to me before rust
[18:34:20] <eddyb> huh?
[18:34:46] *** Quits: DeTeam (DeTeam@moz-8CD651BE.dyn.broadband.iskratelecom.ru) (Quit: DeTeam)
[18:34:48] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:35:54] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[18:36:26] <bstrie> eddyb: I am not a smart man
[18:36:51] <benh> Is the borrow checker still being reworked or is it worth posting about if I can get away with seemingly memory-unsafe shenanigans right now?
[18:37:01] <zokier`> what's the difference between and let and static in statements like `static foo: &'static [int] = &[1];`
[18:37:13] <bstrie> benh: should be stable now, what are you getting away with?
[18:37:35] <bstrie> zokier`: static means a global variable, accessible from all scopes. it also gets put in the rodata section of the binary
[18:37:56] *** Quits: geoffhill (geoffhill@moz-2785B672.hsd1.wa.comcast.net) (Quit: geoffhill)
[18:37:56] <zokier`> even if it's declared inside a function?
[18:38:04] *** Joins: cdidd (cdidd@moz-74A778E3.broadband.corbina.ru)
[18:38:07] <bstrie> ...I didn't think that was possible :P
[18:38:22] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[18:38:53] <benh> ix.io isn't letting be paste, argh!
[18:39:09] *** Joins: tikue_ (tikue_star@E7B9D891.DF8FC23A.689607DE.IP)
[18:39:32] <zokier`> rusti: fn foo() -> &[int] { static v: &'static [int] = &[1]; return v; }; foo()
[18:39:36] -rusti- &[1]
[18:39:49] <benh> bstrie: http://sprunge.us/TGWe 
[18:39:54] <bstrie> zokier`: I've honestly never seen them used that way before
[18:40:06] *** Quits: oberstet (quassel@moz-D1F813DD.dynamic.mnet-online.de) (Client exited)
[18:40:10] <benh> the closure f can seemingly access an object that has been moved into the closure after the Option containing the closure has been set to None
[18:40:43] <bstrie> benh: oh, well when it comes to function types, those *are* being reworked at the moment :)
[18:41:08] <benh> I think the problem is that the fn call() checks out
[18:41:43] <bstrie> benh: nmatsakis could tell you whether that example is a known loophole
[18:42:09] * ksf wished the std library docs had links to source
[18:42:48] <ksf> (and if they looked like haddoc output that'd be great, too :)
[18:43:30] <bstrie> ksf: I think we recently landed that capability in rustdoc
[18:43:54] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[18:44:53] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[18:45:32] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[18:46:03] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:47:33] *** Quits: samx (sami@3EB32A7C.10A53EE3.77834EAA.IP) (Quit: This computer has gone to sleep)
[18:48:10] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[18:48:10] *** ChanServ sets mode: +o tjc
[18:48:28] *** Joins: lerc (quassel@moz-95D8600C.telstraclear.net)
[18:49:57] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[18:50:36] *** Joins: eholk (eholk@moz-DBDB4C06.hsd1.in.comcast.net)
[18:51:52] *** Quits: squiddy (squiddy@moz-FF47E765.adsl.alicedsl.de) (Quit: Leaving)
[18:52:43] <pcwalton> benh: please file these as issues
[18:52:52] <pcwalton> I think niko knows about that one but we should be sure
[18:53:04] *** Joins: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP)
[18:53:26] *** Joins: fabiand (fabiand@moz-A171E7D0.adsl.alicedsl.de)
[18:54:00] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[18:54:00] *** ChanServ sets mode: +o tjc
[18:54:02] <steven_is_false> Hello. What is the current function that is called when an exception is thrown? (It was something rust_fail in the old runtime right?)
[18:54:29] <benh> ok!
[18:54:53] <pcwalton> steven_is_false: rust_begin_unwind
[18:54:56] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[18:55:02] <benh> I was looking through borrowck bugs but wasn't sure what to search for :)
[18:55:11] *** Quits: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP) (Ping timeout)
[18:55:11] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[18:55:25] *** Joins: echristo (echristo@4EEA9249.D6CCE4AE.77834EAA.IP)
[18:55:27] <steven_is_false> pcwalton: Thanks.
[18:55:37] <steven_is_false> So it did change under the new runtime?
[18:55:40] <pcwalton> yeah
[18:55:44] <pcwalton> it was upcall_fail
[18:55:51] <pcwalton> or rust_task::fail
[18:56:14] <steven_is_false> Is rust_begin_unwind implemented in Rust, or as a C++ primitive?
[18:56:23] <pcwalton> not sure off the top of my head.
[18:56:34] <steven_is_false> Okay
[18:56:37] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[18:56:39] <pcwalton> off topic but is there some sort of tool I can use to look at a specific X Pixmap from the command line?
[18:56:51] <pcwalton> I know its XID
[18:57:44] <sfackler> steven_is_false: you can also just do "catch throw" in gdb
[18:58:44] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[18:59:08] <steven_is_false> sfackler: That would probable be better.
[19:00:18] *** Quits: ksf (ksf@moz-5534317B.adsl.alicedsl.de) (Ping timeout)
[19:00:18] *** Joins: ksf_ (ksf@moz-E8A93694.adsl.alicedsl.de)
[19:00:57] *** Quits: ircloggr (nodebot@moz-218B8E8E.compute-1.amazonaws.com) (Client exited)
[19:01:07] *** Joins: ircloggr (nodebot@moz-218B8E8E.compute-1.amazonaws.com)
[19:01:18] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[19:02:14] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[19:02:58] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[19:03:34] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:05:03] *** Joins: jordyd (jordyd@moz-C3FF1ED7.seg46.ucf.edu)
[19:05:05] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[19:05:21] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[19:05:34] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[19:06:50] *** Joins: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP)
[19:08:01] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[19:09:48] *** Quits: eholk (eholk@moz-DBDB4C06.hsd1.in.comcast.net) (Quit: eholk)
[19:10:15] *** Quits: [squiddy] (squiddy@moz-FF47E765.adsl.alicedsl.de) (Quit: Leaving)
[19:13:22] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[19:14:37] *** Joins: Pikkenstein (Pikkenstei@moz-A7B70028.static.ziggozakelijk.nl)
[19:15:28] *** Quits: Pikkenstein (Pikkenstei@moz-A7B70028.static.ziggozakelijk.nl) (Quit: Textual IRC Client: www.textualapp.com)
[19:18:15] *** Joins: canhtak (jeremy@moz-EF57C296.wl.t.ulaval.ca)
[19:19:23] *** Joins: linuxnewbie (ncage@moz-AF6DB33D.hsd1.il.comcast.net)
[19:19:45] *** Joins: autra (augustin@moz-590A3598.w90-2.abo.wanadoo.fr)
[19:20:22] <linuxnewbie> hi everyone. Just getting started with rust. I'm going through the tutorial. When i installed rust  i get the rust compiler (rustc) but i don't have the rust tool (rust) on my system. How do i get it?
[19:20:42] <Ms2ger> rust is dead
[19:20:46] *** Quits: fran_ (fran@moz-4F644B6.telecom.net.ar) (Ping timeout)
[19:21:28] *** Quits: Jackneill (Jackneill@moz-E68A1E18.pool.digikabel.hu) (Input/output error)
[19:21:28] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Connection reset by peer)
[19:21:51] <linuxnewbie> pretty active commit history for being dead :P
[19:21:52] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[19:22:11] <mikezaby> he means that the bin rust is dead
[19:22:14] <mikezaby> not the project
[19:22:24] <linuxnewbie> oh ok sorry :)
[19:22:36] <mikezaby> but i think that the bin rust should be exist
[19:22:40] *** Joins: tautologico (shung@9E237785.CE9D273A.AB599759.IP)
[19:22:46] <linuxnewbie> hmm i guess the tutorial then is kind of old at this point ?
[19:22:52] <mitchty> its just resting
[19:22:52] <Ms2ger> No, it's been removed
[19:22:53] <mikezaby> for me this is unexcpected behaivor
[19:23:02] <Ms2ger> Nobody was maintaining it
[19:23:50] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[19:24:26] <tautologico> I want to get a borrowed pointer, copy/clone it and return a changed copy in an owned pointer, can I do that?
[19:24:29] <mikezaby> is weird to install o programming language that has name rust and hasn't an executable with name rust
[19:24:47] <tautologico> in a function
[19:25:37] <kimundi> tautologico: Sure
[19:25:39] <tautologico> C does not have an executable called C
[19:25:44] <tautologico> neither does C++
[19:26:03] <Scriptor> or D
[19:26:13] <Scriptor> or Haskell
[19:26:20] <tautologico> fn f(o: &Obj) -> ~Obj { let res = o.clone(); res }  // but res is &Obj not ~Obj
[19:26:39] <kimundi> tautologico: fn clone_and_do_stuff(x: &T) -> T { let new_x = x.clone(); modify(x); x }
[19:26:43] <Scriptor> mikezaby: I think this is typical for most languages that generate binary executables
[19:26:56] <Scriptor> that aren't based on bytecode
[19:27:02] <ercxx> Go :)
[19:27:07] <zokier`> tautologico, well gcc is commonly aliased as c++, at least on both of my systems
[19:27:16] <zokier`> (debian and arch)
[19:27:18] <kimundi> tautologico: Is Obj a type or a trait?
[19:27:23] <tautologico> type
[19:27:27] <Scriptor> zokier`: yes, but he's asking about the default name
[19:27:33] <Scriptor> someone can also alias rustc
[19:27:48] *** Joins: fran_ (fran@F076C6CA.AEBCCCCB.87338559.IP)
[19:28:01] <kimundi> tautologico: okay, then first thing is that it's not idiomatic to return a ~Obj for no reason, if a Obj would do as well
[19:28:51] <tautologico> error: mismatched types: expected `~Dict` but found `&Dict`
[19:29:05] <kimundi> tautologico: But that said, let t: &Obj = ...; let x = t.clone(); // x should be of type Obj
[19:29:29] <tautologico> kimundi: what if it's a big object, won't Obj be put into the stack? 
[19:29:46] <kimundi> tautologico: The compiler will optimize that away
[19:30:07] <kimundi> tautologico: Just like a C/C++ compiler, big objects are passed with outpointers internally
[19:30:13] *** Quits: tikue_ (tikue_star@E7B9D891.DF8FC23A.689607DE.IP) (Ping timeout)
[19:30:26] <tautologico> error: mismatched types: expected `Dict` but found `&Dict`
[19:30:37] <kimundi> tautologico: So "let x = ~foo()" will place the return value of foo() directly in the ~ Box
[19:30:37] <tautologico> clone() is returning always a &Dict
[19:30:57] <kimundi> tautologico: Could you show your code?
[19:31:26] <tautologico> fn auxiliary_dict(dict: &Dict) -> Dict {
[19:31:26] <tautologico>     let res = dict.clone();
[19:31:27] <tautologico>     res
[19:31:27] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[19:31:28] <tautologico> }
[19:31:38] <kimundi> tautologico: clone has the signature &T -> T, if it gives you a &T then you might be passing in a & &T ?
[19:31:42] *** Quits: autra (augustin@moz-590A3598.w90-2.abo.wanadoo.fr) (Ping timeout)
[19:31:56] <kimundi> strange, that _should_ work
[19:31:59] <tautologico> I'm not even calling the function
[19:32:04] <kimundi> What is the definition of Dict?
[19:32:08] <tautologico> I'll try to recompile rustic soon
[19:32:27] <kimundi> Eh, no need to recompile for that :P
[19:32:42] <kimundi> No way that's an bug at this point
[19:32:43] <tautologico> rustc is also giving weird messages
[19:32:58] <tautologico> dict is a struct
[19:33:13] *** Joins: alonlevy (alon@moz-697DD27F.bb.netvision.net.il)
[19:33:16] <kimundi> OH, wait!
[19:33:25] <kimundi> Are you implementing Clone for Dict?
[19:33:27] <tautologico> it has lots of owned vectors inside
[19:33:40] <tautologico> no
[19:33:43] *** Joins: autra (augustin@moz-590A3598.w90-2.abo.wanadoo.fr)
[19:33:48] <kimundi> put a  #[deriving(Clone)] in front of the struct definition
[19:33:48] <tautologico> can I derive Clone?
[19:33:51] <tautologico> ok
[19:33:54] *** Joins: ecr (Thunderbir@moz-BEB13C3B.dhcp4.washington.edu)
[19:34:13] <tautologico> I didn't know if it was necessary so I waited to see an error
[19:34:15] *** Joins: FreeFull (freefull@31BCA4E6.5B0E29BE.159B5998.IP)
[19:34:41] <tautologico> yeah, that was it. thanks :)
[19:34:59] <tautologico> now to remove ~ from many functions that are returning owned boxes
[19:35:02] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[19:35:55] *** Joins: edorian (Mibbit@moz-BE6C503F.dynamic.qsc.de)
[19:36:04] <kimundi> This explains it: Because rustc did not find a Clone impl for Dict, it started to autoref/deref the pointer till it finds a matching impl. There is a generic Clone impl for &T, so it found that and used that to effiectivly borrow the &Dict you had to a & &Dict, and then called clone() on it giving you a &Dict
[19:37:05] *** Quits: lfox (lfox@moz-1D59E114.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:37:15] <tautologico> ah
[19:37:20] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[19:38:07] *** Quits: autra (augustin@moz-590A3598.w90-2.abo.wanadoo.fr) (Ping timeout)
[19:38:12] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[19:38:12] *** Quits: Ms2ger (Ms2ger@D2CDF20A.29977EA1.187A1082.IP) (Quit: nn)
[19:39:14] <FreeFull> kimundi: Would that work but be slow, or do the wrong thing?
[19:39:39] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[19:46:56] <kimundi> FreeFull: Would what work?
[19:47:15] *** Quits: linuxnewbie (ncage@moz-AF6DB33D.hsd1.il.comcast.net) (Quit: Leaving)
[19:47:27] <ercxx> what's the easiest char to str conversion? std::str::from_utf8(['a']) is annoying.
[19:47:34] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[19:47:35] <FreeFull> kimundi: Cloning a Dict like that
[19:48:31] <ercxx> to_str :)
[19:49:08] <ercxx> ok maybe not
[19:49:13] <kimundi> FreeFull: Like what? Cloning a type is as fast as it is. That other thing that happend had noting todo with cloning a Dict, but with cloning a reference, which is pretty much one of the fastest operations possible (just a copy of a machine word)
[19:49:25] <kimundi> rusti: 'a'.to_str()
[19:49:25] -rusti- ~"a"
[19:49:32] <kimundi> ercxx: ^
[19:49:33] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[19:49:41] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[19:49:56] <kimundi> Might've not been in 0.8, I forgot
[19:49:57] <ercxx> sorry it was an u8
[19:50:01] <kimundi> AH
[19:50:24] <kimundi> rusti: 97u8.to_ascii().to_char().to_str()
[19:50:25] -rusti- ~"a"
[19:50:33] <myname> lol
[19:50:48] <kimundi> HAHA I just typed in a random number, still got the 'a' value :P
[19:51:00] <ercxx> rusti: (97u8 as char).to_str()
[19:51:01] -rusti- ~"a"
[19:51:08] <ercxx> :)
[19:51:11] <myname> one does know 97 and 65!
[19:51:19] <myname> and 48 of course
[19:51:19] <ercxx> I feel dumb now
[19:51:25] <ercxx> rusti: (99u8 as char).to_str()
[19:51:26] -rusti- ~"c"
[19:51:58] <ercxx> omg, it's alphabetical
[19:52:07] <myname> omg it's ascii
[19:52:15] <Amaranth> rusti: (4000000000u32 as char).to_str()
[19:52:15] -rusti- <anon>:9:10: 9:31 error: only `u8` can be cast as `char`, not `u32`
[19:52:16] -rusti- <anon>:9          (4000000000u32 as char).to_str()
[19:52:16] -rusti-                    ^~~~~~~~~~~~~~~~~~~~~
[19:52:16] -rusti- error: aborting due to previous error
[19:52:16] -rusti- application terminated with error code 101
[19:52:36] <Amaranth> heh, I thought char was 4 bytes
[19:52:41] <kimundi> ercxx: Fun fact, the difference between uppercase and lowercase in ASCII is only one bit :)
[19:52:44] <myname> for u32 you have to make some magic and will get an Option<char>
[19:52:55] <myname> Amaranth: char is one unicode codepoint
[19:53:03] <Amaranth> Yeah I was trying to break it :P
[19:53:15] <kimundi> Amaranth: It is, but not all u16 or u32 values are valid codepoints
[19:53:16] <ercxx> kimundi: I remember that from somewhere.
[19:53:19] <Amaranth> myname: So "implementation defined size"?
[19:53:23] <mitchty> so question if i find old rust tutorials that say impl foo : bar, is that the old way to specify impl foo for bar?
[19:53:44] <kimundi> mitchty: Almost, but switch the foo and bar :P
[19:53:53] <myname> Amaranth: don't know, size of char didn't matter for me
[19:53:57] <kimundi> impl foo for bar == impl bar: foo
[19:54:03] <Jesse> maybe the error message should say something more helpful than "you can't do this"
[19:54:19] <mitchty> kimundi: heh, ah, k i get it 
[19:54:22] <kimundi> rusti: 'a' as u8
[19:54:23] -rusti- 97u8
[19:54:27] *** Quits: vodik (simon@3FD4FA13.A8F6FAEF.4B2DF651.IP) (Quit: WeeChat 0.4.3-dev)
[19:54:51] <Jesse> rusti: '☃' as u32 ///////
[19:54:52] -rusti- 9731u32
[19:54:56] <Jesse> rusti: '☃' as u8 ///////
[19:54:56] -rusti- 3u8
[19:55:21] *** Quits: fran_ (fran@F076C6CA.AEBCCCCB.87338559.IP) (Ping timeout)
[19:55:36] <kimundi> rusti: use std::to_str::ToStrRadix; (!(('a' as u8) & ('A' as u8))).to_str_radix(2)
[19:55:48] -rusti- failed to pastebin 8 lines of output
[19:55:52] <kimundi> :|
[19:56:02] *** Joins: fran_ (fran@moz-B43EF2C8.telecom.net.ar)
[19:56:05] <Jesse> failed at failing
[19:56:27] *** Quits: huseby (huseby@moz-4E8C421A.husebyhome.com) (Quit: Leaving)
[19:56:48] *** jld is now known as jld|train
[19:57:14] <bstrie> Jesse: success!
[20:00:46] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[20:04:28] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[20:05:18] *** jld|train is now known as jld|badatmath
[20:06:04] *** Joins: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net)
[20:06:49] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:07:19] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[20:08:13] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:08:29] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[20:09:52] *** Joins: benh (ben@moz-4A0366D2.org)
[20:09:59] <tautologico> clone() does a deep or shallow copy?
[20:12:22] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[20:12:39] <kmc> it copies a whole ownership tree
[20:12:42] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[20:13:00] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[20:13:00] *** ChanServ sets mode: +o tjc
[20:13:17] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:13:19] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:13:25] <kmc> so it will stop copying if it hits an @T or an Rc<T> or other such things that count as ownership roots
[20:13:46] <kmc> (it will copy the @T itself, which just bumps a refcount)
[20:13:57] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:14:31] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[20:14:51] <cmr> bstrie: no, my triage has been reasonable since summer break ended. but yes, I was doing 2/5 of the bugs triaged :p
[20:15:06] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[20:15:31] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[20:16:13] <tautologico> kmc: thanks
[20:17:01] *** Joins: mowhawk (Mibbit@9A40764C.83BCE10.DDE5D3F6.IP)
[20:20:08] *** Quits: ecr (Thunderbir@moz-BEB13C3B.dhcp4.washington.edu) (Ping timeout)
[20:22:53] *** Quits: fabiand (fabiand@moz-A171E7D0.adsl.alicedsl.de) (Ping timeout)
[20:26:35] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:27:26] *** Parts: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP) (ERC Version 5.3 (IRC client for Emacs))
[20:27:38] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[20:29:19] <ksf_> with 1.0 around the corner, will that mean that 2.0 will be an epic effort not done earlier than 2023, or is it just that the language splits into a stable and development branch, the development one progressing as fast as usual?
[20:29:37] *** jld|badatmath is now known as jld
[20:30:39] <cmr> ksf_: the idea is that we're doing as many backwards incompatible changes now, so that we won't have to release 2.0 very soon, but the 1.x branch can progress as fast as usual.
[20:31:42] <ksf_> ah, that makes sense
[20:33:06] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[20:33:33] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[20:36:56] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[20:37:32] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Ping timeout)
[20:38:02] <ercxx> how does TraitName::function() work when it's called directly not on an implementing object?
[20:38:23] <kmc> you mean like when it returns a value of the implementing type instead?
[20:38:38] <kmc> that's type inference
[20:39:50] <ercxx>     assert_invalid::<EntityTag>("\"\\\"");
[20:39:52] <ercxx>     assert_invalid::<EntityTag>("\"\"\"\"");
[20:39:54] <ercxx> sorry
[20:40:15] <ercxx> so this  HeaderConvertible::from_stream(&mut iter) is an actual call.
[20:40:27] <ercxx> and magically returns something.
[20:40:34] <sfackler> does it return Self?
[20:40:59] <ercxx> yeah : fn from_stream<T: Reader>(reader: &mut HeaderValueByteIterator<T>) -> Option<Self>;
[20:41:13] <ercxx> I don't understand.
[20:41:27] <sfackler> then you can force the type with "let foo: Option<Thingy> = HeaderConvertable::from_stream(it)"
[20:42:44] <kmc> the magic is type inference :)
[20:42:48] <Leo`> bstrie: ping
[20:42:58] *** Joins: vadimcn_ (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[20:42:59] <kmc> the compiler solves equations which come from both the caller and the callee
[20:43:00] <ercxx> So it's going to find the Thingy and try to call from_stream() ?
[20:43:01] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[20:43:01] *** vadimcn_ is now known as vadimcn
[20:43:14] <sfackler> yeah, it'll call the from_stream that's implemented for Thingy
[20:43:23] <kmc> this allows information to flow "backwards in time" wrt runtime control flow
[20:43:28] <kmc> because it's compile time equation solving
[20:43:54] <sfackler> iirc there are plans to allow you to also do "let foo = HeaderConvertable::<for Thingy>::from_stream(it)" but I don't know what the status of that is
[20:44:22] <ercxx> I am not a clever man.
[20:44:36] <kmc> I'd like a general type ascription syntax, e.g. «HeaderConvertible::from_stream(it) as Option<Thingy>»
[20:44:44] <kmc> right now 'as' does not work this way
[20:45:56] <ercxx> More sigils!
[20:47:19] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:47:23] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[20:48:17] *** Joins: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP)
[20:48:50] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:49:45] *** Quits: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se) (Ping timeout)
[20:50:11] <benh> Can we use the explicitly parametrized identity function as type ascription syntax 
[20:50:31] *** Quits: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP) (Ping timeout)
[20:50:34] <kimundi> kmc: That's planned as ':' afaik
[20:50:44] <kmc> kimundi: cool
[20:50:48] <kimundi> let x = foo(): T;
[20:51:07] <benh> heh
[20:51:29] *** Joins: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP)
[20:51:38] <kmc> benh: probably; also you could make a type ascription macro which expands to a 'let'
[20:52:17] <bstrie> Leo`: pong
[20:52:33] <Leo`> bstrie: I saw the replies on the bug report
[20:52:52] <Leo`> I'm wondering if, in my case, the workaround you are talkin about may work
[20:53:07] <Leo`> I doubt that it will, but i'm not sure
[20:53:30] <Leo`> the code that made me encounter this bug looked like :
[20:53:44] <Leo`> static mut array: [Struct, ..SIZE] = [Struct { ... }, ..SIZE];
[20:53:47] <Leo`> and then :
[20:54:12] <Leo`> static something that used array;
[20:54:27] *** Quits: dbaupp (Thunderbir@moz-BFBD65B3.lns20.syd6.internode.on.net) (Ping timeout)
[20:54:32] <Leo`> when I used array in this context, I got the error, since array was a static mut, ant thus required the unsafe block
[20:54:42] <ercxx> So this >>>> some_func<T: SomeTrait>(x: T)  <<< means x has to implement SomeTrait is that right?
[20:54:58] <bstrie> Leo`: the workaround looks like this https://gist.github.com/bstrie/6982023 and from your description it still seems like something you could do with that array?
[20:54:59] <kmc> ercxx: yes
[20:54:59] <Leo`> but if I remove the mutability on array, as suggested in the thread, I loose the mutability on the array elemnts
[20:55:01] <bstrie> I mean, it's ugly
[20:55:21] <kmc> ercxx: I mean we would usually say "T implements SomeTrait" not "x implements SomeTrait" but yes
[20:55:28] *** Quits: fran_ (fran@moz-B43EF2C8.telecom.net.ar) (Ping timeout)
[20:55:39] <Leo`> bstrie: but, if I declare as a static non mutable, and then, a second mutable static array
[20:55:46] <Leo`> the second will be a copy of the first, right ?
[20:55:55] <Leo`> and not the same array
[20:56:07] <ercxx> kmc: ok and what does this mean func_name<SomeStructName>(stuff) ?
[20:56:14] <Leo`> I wand to be able to modify the array, the same array that my static struct will refer to 
[20:56:16] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[20:56:22] <bstrie> Leo`: can you try it out? :) if it doesn't work for you, then it's an argument against leaving things as they are
[20:56:25] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:56:32] <bstrie> if the workaround truly doesn't work around
[20:56:40] <Leo`> bstrie: ok, I will try
[20:57:35] *** Joins: fran_ (fran@moz-1A9852E3.telecom.net.ar)
[20:57:43] <kmc> ercxx: as function call syntax? it's explicitly filling in the type parameter, rather than letting it be inferred
[20:57:56] <kmc> but I think the syntax is func_name::<SomeStructName>(stuff) although maybe both are supported now
[20:58:18] <ercxx> kmc: you're right it had '::'
[20:58:22] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[20:59:43] *** Joins: reedlepee (Mibbit@moz-FF5A7635.igt.com)
[20:59:49] <ercxx> I didn't understand it though. Where's the documentation for that? I was looking at the tutorial and couldn't find it.
[21:00:10] <kmc> http://static.rust-lang.org/doc/master/rust.html#generic-functions "The type parameters can also be explicitly supplied in a trailing path component after the function name. This might be necessary if there is not sufficient context to determine the type parameters. For example, sys::size_of::<u32>() == 4."
[21:00:18] <kmc> rusti: sys::size_of::<u32>()
[21:00:21] <earlz2> If you had a dynamic list of keys and values (as strings), is there anything available to deserialize that into a structure to match up to field names? 
[21:00:36] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[21:00:37] -rusti- failed to pastebin 11 lines of output
[21:00:45] <kmc> in the case of size_of there's no alternative, because none of the (non-existent) arguments nor the return type mention the type parameter
[21:00:49] <tjc> earlz2: extra::json might be useful
[21:00:49] <erickt> earlz2: try the serialize.rs library
[21:00:51] <kmc> so there is no way to constrain it through inference
[21:00:54] <tjc> combined with serialize.rs
[21:01:10] *** Quits: reedlepee (Mibbit@moz-FF5A7635.igt.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:01:10] <earlz2> ok
[21:01:15] <bstrie> Leo`: I'm leaving now, but if you find anything out please comment on that bug
[21:02:01] <Leo`> bstrie: i'm realising it's more complicated that what i thought
[21:02:04] <erickt> All: anyone else want to come to the meetup tonight? still have a couple seats free at the Tied House: http://www.meetup.com/Rust-Bay-Area/events/143328072/
[21:02:07] <Leo`> my code is in fact using unsafe * pointers
[21:02:18] <Leo`> i've got a struct that refers to an array using such pointers
[21:04:02] *** Quits: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:07:15] *** Quits: mowhawk (Mibbit@9A40764C.83BCE10.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:07:24] <jld> erickt: I thought I was on that list, but the Meetup UI is confusing so I might not be.
[21:07:39] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[21:07:57] *** Joins: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr)
[21:08:25] * erickt checks...
[21:09:36] <erickt> jld: I don't see you.
[21:09:58] <erickt> rsvp-ing was temporarily closed, but I opened it back up
[21:10:57] <jld> erickt: Done; thanks!
[21:11:02] <erickt> woot
[21:11:53] <jld> It'd be nice if, when you're logged in and looking at something, there was an obvious indication (or any!) whether you specifically are going.
[21:12:58] <erickt> jld: if you click on this: http://www.meetup.com/Rust-Bay-Area/events/143328072/, so you see a "Your RSVP: Yes" in green on the right hand side?
[21:13:08] <jld> erickt: I see that now.
[21:13:41] *** Quits: edorian (Mibbit@moz-BE6C503F.dynamic.qsc.de) (Quit: http://www.mibbit.com ajax IRC Client)
[21:13:45] <jld> erickt: However, before it was just "RSVP closed".  Not "RSVP closed and you didn't".
[21:14:22] <erickt> yeah that was my fault. Tied House told me I had until this morning to make the reservation bigger
[21:14:55] *** Joins: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net)
[21:15:16] <erickt> I wasn't sure how our turn out was going to be, so I didn't want to get people's hopes up if they tried to squeeze in at the last minute, but we got 6 seats still free so there's plenty of room :)
[21:15:42] <jld> I mean, it's confusing UI/UX/something on Meetup's part, it seems to me.
[21:16:25] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[21:16:29] <Jesse> yikes, i almost missed the meetup by thinking it was on tuesday
[21:17:29] <earlz2> Are there any examples out there of using json.rs or the extra::serialize? 
[21:17:41] <cmr> earlz2: librustc has some.
[21:18:05] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[21:18:23] <earlz2> I'm really just wondering if Rust has a runtime type system capable of automatic discovery of fields, or if a Decoder basically tells serialize what fields are actually in a struct
[21:18:27] <erickt> Jesse: eek
[21:19:18] <cmr> earlz2: serialize doesn't do any reflection like that. You need to write Encodable/Decodable implementations by hand, or use #[deriving(Encodable, Decodable)].
[21:19:25] <Jesse> erickt: meetup sends emails with the subject line "Tomorrow: ...", and meetup emails go to my Promotions box...
[21:19:30] <Luqman> earlz2: you would have to list out the fields yourself
[21:19:54] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[21:19:57] <erickt> Jesse: heh oh year. glad I chimed in then :)
[21:20:22] <earlz2> Is there any support/plans to add support for reflection like that? 
[21:21:14] *** Joins: voxpopuli (fanservice@moz-2B78EEF7.drp.cs.cmu.edu)
[21:21:27] <erickt> earlz2: we got a (unused?) libstd/reflect.rs library
[21:21:39] <erickt> or it might be in libextra...
[21:21:54] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[21:22:59] <kmc> what does it mean that "Small structs are immediate" now?
[21:23:00] *** Quits: zagabar (zagabar@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[21:23:09] *** Joins: zagabar (zagabar@BC4D85C9.B543C4DE.3933CC16.IP)
[21:24:01] *** kimundi is now known as zz_kimundi
[21:25:21] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[21:25:33] <erickt> kmc: I bet it's structs that are smaller than a machine word
[21:27:55] <Luqman> kmc: avoids the indirection and just passes it directly in a register
[21:28:10] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[21:28:11] <earlz2> erickt: I saw that, but there doesn't seem to actually be much in there :/ http://static.rust-lang.org/doc/master/std/reflect/index.html
[21:28:46] <jensnockert> erickt: How's the meetuping going btw?
[21:28:49] <erickt> earlz2: yeah, I don't know if it's gotten any use yet
[21:29:16] <bjz> tjc: beep
[21:29:17] <erickt> jensnockert: It's tonight, I'm really looking forward to it!
[21:29:21] <jensnockert> \o/
[21:29:29] <jensnockert> I'm preparing a presentation for our first one.
[21:29:58] <erickt> jensnockert: awesome!
[21:29:59] <tjc> bjz: what's up?
[21:30:03] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:30:24] <erickt> jensnockert: once we pick up speed, we should do a meetup exchange program :)
[21:30:36] <bjz> tjc: https://github.com/bjz/glfw-rs/issues/28#issuecomment-26207594
[21:30:38] <jensnockert> erickt: Totally.
[21:30:59] <bjz> tjc: https://github.com/bjz/glfw-rs/blob/master/src/glfw/ffi.rs#L287
[21:31:05] <jensnockert> erickt: I'm preparing a presentation on rust for beginners, but mostly stealing stuff from tjc.
[21:31:22] <bjz> tjc: I need it to be -lglf3 sometimes, but -lglfw others
[21:31:37] <bjz> tjc: depending on the setup
[21:31:50] <erickt> jensnockert: that's a good idea. pcwalton was suggesting starting out with tutorial presentations. I just need to get some folks to commit to presenting :)
[21:31:52] <bjz> jensnockert: nice
[21:31:58] <tjc> bjz: you could do that with a custom build script...
[21:32:15] <pcwalton> erickt: I'm not feeling too well today :(
[21:32:22] <pcwalton> I may not be able to make it
[21:32:28] <bjz> jensnockert: would be good to give some background on the semantics
[21:32:32] <erickt> pcwalton: no worries
[21:32:50] <erickt> pcwalton: I hope you feel better
[21:32:54] <pcwalton> thanks
[21:32:57] <bjz> jensnockert: I focused too much on syntax in my presentation a while back
[21:33:30] <jensnockert> erickt, bjz: My hope is that people will be comfortable to group-program a bit of Rust at the end.
[21:33:50] <bjz> tjc: ok. a pkg.rs?
[21:33:58] <tjc> bjz: Yeah
[21:34:02] <bjz> tjc: in src/glfw/?
[21:34:11] <jensnockert> If the compilation time wasn't so long, I would have forced people to fix bugs in the compiler :S
[21:34:16] <tjc> bjz: Nope, in the directory that's the parent of src
[21:34:23] <bjz> could you maybe give a quick example on that thread?
[21:34:51] <tjc> bjz: actually, one sec, I may be jumping ahead
[21:34:53] <tjc> let me check something
[21:34:58] <bjz> I also have to factor in the building of the examples
[21:35:08] <tjc> jensnockert: I don't think fixing compiler bugs as their first experience with Rust will make people want to keep using it :-)
[21:35:11] *** Quits: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) (Input/output error)
[21:35:13] <jensnockert> bjz: But yeah, I don't think I have slides for any syntax really.
[21:35:28] <bjz> jensnockert: great
[21:36:05] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[21:36:26] <jensnockert> tjc: I don't know, a Rust meetup is very different in the way that no one is going to use it for work.
[21:36:42] <tjc> jensnockert: I just mean in terms of ratio of delight and frustration :-)
[21:36:57] <tjc> bjz: Yeah, never mind -- my fault. I intend to make build scripts support changing the link flags, but there's no simple way to do that yet, except from the command line
[21:37:01] * jensnockert hugs tjc.
[21:37:20] <bjz> tjc: dang. so no fix yet?
[21:37:35] <tjc> bjz: for making progress right now, I'm wondering whether there's some combination of #[cfg(…)] attributes you could use...
[21:37:42] *** Joins: fanservice (fanservice@moz-FE161659.wv.cc.cmu.edu)
[21:38:14] <bjz> tjc rustpkg build --cfg homebrew glfw?
[21:38:40] <tjc> bjz: well, I was thinking of cfgs embedded in the source file, but...
[21:38:54] <tjc> rustpkg *should* be passing those around...
[21:38:58] *** jld is now known as jld|actualtrain
[21:39:08] <bjz> tjc: how would that work?
[21:39:37] <jensnockert> tjc: I think we'll end up doing Project Euler or something instead, which is cool too.
[21:39:43] <bjz> tjc: detect the existance of libglfw3, if not fall back to lglfw?
[21:40:44] <tjc> bjz: I was thinking more… if the naming depends on what OS you're running on, you can certainly have per-OS configs
[21:41:00] <tjc> Well, like you already do :-)
[21:41:25] *** Joins: skeet70 (skeet70@97AD5DC4.C24BC101.B6E96A0D.IP)
[21:41:27] <bjz> tjc: it's only homebrew that messes things up I think :(
[21:41:37] <tjc> bjz: if we had a target_os thing that was recognized that was more precise than just "linux"...
[21:41:47] <tjc> but I don't think we do (anyone know?)
[21:41:55] *** Joins: alisdair (textual@BD70E91E.603F78BB.4F048BDC.IP)
[21:41:58] <bjz> I'll use -lglfw3 for osx anyway
[21:42:06] <bjz> see if anybody complains :P
[21:42:16] <bjz> rust can link to .a?
[21:42:21] <tjc> "see if anybody complains" is one of my favorite strategies :-)
[21:42:29] <tjc> bjz: that would be static linking, which we still don't do in general
[21:42:34] <tjc> though acrichto said he was working on it
[21:42:37] <bjz> ah
[21:42:39] <cmr> We can link to static libs.
[21:42:45] <cmr> libstd statically links to librustrt.
[21:42:48] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[21:43:26] *** Quits: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP) (Ping timeout)
[21:43:28] *** Joins: ecr (Thunderbir@moz-CE637C05.dhcp4.washington.edu)
[21:44:24] <tjc> benh: ping
[21:44:35] <benh> hi
[21:44:42] <earlz2> I've heard some people say that @ syntax for managed pointers is deprecated, such as `let foo = @"meh";` or some such.. is that true, or is that a different thing? 
[21:44:58] <cmr> earlz2: it's not deprecated, but it's probably going to be removed.
[21:45:05] <tjc> benh: Hey! I noticed that one downside of your tempfile change is that (and I'm probably the only one affected by this) it makes debugging harder, since now the rustpkg tests don't leave their temp directories around
[21:45:10] <earlz2> what will replace it? 
[21:45:17] <cmr> earlz2: Gc<T>
[21:45:17] <tjc> so I was wondering if you would object if I added an extra boolean field to TempFiles
[21:45:25] <benh> tjc: hm
[21:45:26] <tjc> "delete_on_exit: bool" or whatever
[21:45:33] <tjc> The constructor could set it to true
[21:45:39] <tjc> but there could be a second constructor that sets it to false
[21:45:54] <tjc> that presumably only the rustpkg tests would use (and those, only locally, I wouldn't commit with that enabled)
[21:46:11] <earlz2> How would that work? You'd only have borrowed and owned pointers then? what would be indicated to own the pointer then? 
[21:46:11] <benh> I figured you'd call unwrap to extract the path if you don't want the wrapper to delete the directory
[21:46:25] <tjc> benh: Oh, hmm...
[21:46:28] <tjc> let me see how that would work
[21:46:35] <cmr> earlz2: Owning pointers aren't an important part of the language, they can be implemented by normal Rust code.
[21:46:47] <cmr> (Well, important semantically)
[21:46:59] <benh> I guess it's not as convenient for locally testing and then search/replacing
[21:47:27] <tjc> benh: well, I would just add a // NOTE: Don't commit like this comment anywhere I used it, so I think It would work either way
[21:47:28] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[21:47:28] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[21:47:33] <earlz2> I just mean how what would a garbage collected pointer look like in the future in theory
[21:47:38] *** Joins: kurisumasu (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[21:47:40] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[21:47:41] <tjc> but I think what you suggested is fine for my purposes, I just didn't realize that was the intention. thanks!
[21:47:57] <benh> ok, cool :)
[21:47:58] <cmr> earlz2: The type would be Gc<T>. You'd construct it like any other type.
[21:48:04] <cmr> Probably Gc::new(...)
[21:48:32] <bjz> tjc: if you didn't see, this is how glfw reccomends to use pkgconfig: http://www.glfw.org/docs/latest/build.html#build_link_pkgconfig
[21:48:44] *** Quits: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:48:45] <benh> tjc: I'm not sure it's the best way to handle it but it seemed to mirror what std::c_str::CStrings do
[21:49:02] <tjc> benh: I like it better than adding an extra field… in general I hate having to do that :-)
[21:49:20] <benh> Extra field, wrapping the path in Option, same difference :)
[21:49:34] <benh> discarding the RAII object in the same operation that hands you the Path object seemed elegant, anyway
[21:49:41] <tjc> Yeah, I think it is
[21:49:56] <tjc> this whole RAII thing is still kind of new to me, since I never did much C++
[21:50:32] <tjc> bjz: you could definitely write a pkg.rs file that shells out to call pkg-config and captures the output...
[21:50:47] <tjc> but what's missing right now is a function in rustpkg::api that allows changing the link args (or any command-line args, for that matter)
[21:50:50] <earlz2> ah.. so how would such a type be held within a field of a struct? The only way to hold pointers there that would be left is an owned pointer (since borrowed pointers aren't allowed, usually wthout lifetime stuff).
[21:50:54] <bjz> mmk
[21:50:54] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[21:50:59] <benh> I think it works a lot better in Rust than it did it C++, too, with being able to move objects instead of having to implement your own moves for every class
[21:51:15] <cmr> earlz2: struct Foo { x: Gc<Bar> }
[21:51:39] *** Joins: tikue_ (tikue_star@18C1ABA5.D038900B.689607DE.IP)
[21:51:44] <tjc> yeah, definitely! having move semantics built into the language is important
[21:51:48] <earlz2> hmm, and I guess Gc would be a struct that internally manages pointers and what not? So it'd be "by value", but it's value is a managed pointer? 
[21:52:07] <cmr> Correct.
[21:52:28] <earlz2> ah, that actually seems like it'd be more intuitive. Can I have it implemented now, please? :) 
[21:52:35] <bjz> benh: yeah, implenting your own moves adds a huge amount of complexity
[21:52:50] <cmr> earlz2: go for it :p
[21:53:15] <kmc> earlz2: we already have Rc<T> which works very much like this
[21:53:28] <kmc> it uses reference counting instead of garbage collection, but so does @ currently ;P
[21:54:02] *** Quits: tautologico (shung@9E237785.CE9D273A.AB599759.IP) (Ping timeout)
[21:54:14] <earlz2> So, if I want to future proof my code, I should use Rc when possible? 
[21:54:37] <cmr> Yes.
[21:54:37] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[21:54:40] <kmc> if you want reference counting rather than garbage collection, yes
[21:54:45] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[21:54:56] <kmc> if you want to switch to garbage collection in the future, less clear
[21:55:15] <kmc> you could always put «type Gc<T> = @T;» somewhere, but the implicit copyability of @T is still different and weird
[21:55:18] <cmr> brson: what's story with the GC right now, anyway?
[21:55:20] *** Quits: alisdair (textual@BD70E91E.603F78BB.4F048BDC.IP) (Ping timeout)
[21:55:37] <kmc> it's not really possible to future-proof Rust code at the moment :)
[21:55:51] <brson> cmr: either felix or tjc is probably going to pick up graydon's work soon
[21:55:51] <earlz2> are there plans to implement it before 1.0? 
[21:56:18] <cmr> brson: cool
[21:56:19] <brson> cmr: and either pcwalton or pnkfelix is going to start on DST's and @ -> GC<T> soon
[21:56:30] <jensnockert> erickt: Good luck with the meetup, I wish you awesome luck!
[21:56:31] <cmr> cooler
[21:56:57] <kmc> supporting Gc::new(Foo::new()) requires good return-value optimization, right?
[21:56:59] <ksf_> ahhh, feature creep.
[21:57:09] * ksf_ just discovered format!s plural handling.
[21:57:41] <ksf_> I fear that's not enough, we need to have full http://www.grammaticalframework.org/ integration to do i18n
[21:57:41] <tjc> kmc: say more?
[21:57:48] <tjc> ksf_: patches welcome
[21:57:49] <kmc> because that should generate code where Gc::new() allocates a managed box and then hands the pointer to Foo::new() which can initialize fields without later copying them
[21:57:59] <erickt> thanks jensnockert!
[21:58:07] <tjc> ah, yeah
[21:58:16] <tjc> do you think that's something we would get for free from LLVM?
[21:58:17] <kmc> I'm still not clear on how exactly returning big structs by value works
[21:58:19] <pnkfelix> kmc: I was under the impression that we already get that
[21:58:24] * benh wonders how well code can parametrize over Gc/Rc/~
[21:58:26] <kmc> probably, yes
[21:58:35] <kmc> I'm just checking my own understanding that this is a prerequisite
[21:58:40] *** Quits: jordyd (jordyd@moz-C3FF1ED7.seg46.ucf.edu) (Ping timeout)
[21:59:00] <pnkfelix> kmc: Oh wait, this is a little different
[21:59:02] <kmc> benh: we can't parametrize over type constructors at all :/
[21:59:04] <tikue_> rusti: Some(1).get()
[21:59:06] -rusti- <anon>:9:9: 10:5 error: type `std::option::Option<<VI0>>` does not implement any method in scope named `get`
[21:59:06] -rusti- <anon>:9          Some(1).get()
[21:59:06] -rusti- <anon>:10     };
[21:59:06] -rusti- error: aborting due to previous error
[21:59:06] -rusti- application terminated with error code 101
[21:59:12] <tikue_> what is get() now?
[21:59:15] <kmc> unwrap()
[21:59:19] <tikue_> oh thanks
[21:59:26] <tikue_> for some reason i thought that changed
[21:59:27] <kmc> or better, expect("useful error message")
[21:59:44] *** Quits: earlz2 (earlz@3BA8656D.F04AFED0.49B48A1E.IP) (Quit: Leaving.)
[21:59:48] <tjc> tikue_: We made the name longer to discourage people from using it :-)
[21:59:52] <tjc> (not really, though)
[21:59:55] <tikue_> lol
[22:00:04] <tikue_> in situations where it's provably never None it's silly to use expect 
[22:00:06] <pnkfelix> kmc: But in any case, I think the plan is to switch to some sort of placement new API
[22:00:07] <aatch> benh, most of the time you either need a specific one, or you can just take a `&`
[22:00:12] <tjc> tikue_: depends what you mean by "provably"
[22:00:36] <tjc> generally, when I believe I've proven something is impossible and I add a case like fail!("The impossible happened")...
[22:00:40] <benh> "provably" is just one letter from "probably"... ;)
[22:00:42] <tjc> …the impossible happens the first time I run the code
[22:00:46] <tikue_> get_ip(ip).expect() vs. ptr_to_parent.get()
[22:01:00] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[22:01:04] <benh> tjc: are you the one who added all the dramatic prose to the more elaborate rt failure modes? ;)
[22:01:07] <pnkfelix> kmc: So I think the address where you are storing the result might be exposed in the API itself.  Not sure about that yet, its just something we're still discussing.
[22:01:11] <cmr> ksf_: that's not feature creep, it's one of the reasons fmt! was replaced.
[22:01:11] <tikue_> tjc, sure but once you fix that is it worth the verbosity for time immemorial?
[22:01:13] *** Quits: fanservice (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[22:01:16] <tjc> benh: Oh, no, that wasn't me...
[22:01:21] <tjc> someone else deserves the credit for that!
[22:01:31] <tikue_> "bug that gets fixed once" vs "something that can always happen"
[22:01:37] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[22:01:40] <tikue_> i don't think the former deserves the use of expect
[22:01:40] <tjc> tikue_: it's worth writing a comment explaining how you satisfied the proof obligation that the value isn't None
[22:01:49] <tjc> we can't require those comments automatically :-)
[22:01:57] <tjc> but the expect message can be an approximation to it
[22:02:07] *** Joins: alisdair (textual@BD70E91E.603F78BB.4F048BDC.IP)
[22:02:30] <kmc> pnkfelix: ok, but would that be visible in plain user code? right now it's a common idiom to do e.g. ~Foo::new(...) or @Foo::new(...); would this need to become Foo::new_at(Gc::new::<Foo>(), ...) or something?
[22:02:37] <cmr> Fewer things are worse than a random unwrap in rustc, with no idea why it's failing or why it's now None.
[22:02:38] <kmc> would be massively disruptive imo
[22:03:00] <cmr> I feel like @ could be elegantly repurposed for placement new.
[22:03:05] <tikue_> cmr, it gives you a line number
[22:03:10] <tikue_> that's not so bad
[22:03:17] <kmc> and you can get a stack backtrace from gdb
[22:03:19] <kmc> still not great
[22:03:19] <tikue_> it's just like a null pointer in java
[22:03:23] <cmr> tikue_: it's not the error that's bad, it's fixing it that's bad.
[22:03:43] <tikue_> i'd almost always prefer unwrap() errors to something more insidious
[22:03:48] <tikue_> it's probably the least bad kind of error you can get
[22:03:50] <kmc> tikue_: yes, null pointer in Java, the "billion dollar mistake" :)
[22:03:56] <benh> Gc::new(|| Foo::new())...
[22:04:13] *** Parts: cuttle (uid3405@moz-E77DEB21.irccloud.com) ()
[22:04:13] *** Quits: msch (msch@moz-DA0E34D4.clients.your-server.de) (Input/output error)
[22:04:14] <tikue_> kmc, yes but there's a difference between ingraining null as the one true way to represent something that didn't succeed 
[22:04:15] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[22:04:17] <tikue_> and using it conservatively
[22:04:23] <kmc> yeah
[22:04:24] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[22:04:27] *** Quits: skeet70 (skeet70@97AD5DC4.C24BC101.B6E96A0D.IP) (Quit: Textual IRC Client: www.textualapp.com)
[22:04:30] <kmc> (but it's not the one true way in Java either)
[22:04:33] *** Quits: nkoep (nik@moz-FCDECDE8.pool.mediaways.net) (Client exited)
[22:04:34] *** Quits: sjmur (chatzilla@BA6AE206.87F910E.C2E02DEF.IP) (Ping timeout)
[22:04:41] <tikue_> i know
[22:04:45] <tikue_> i use optional in guava
[22:04:47] <tikue_> whenever possible
[22:05:17] * ksf_ had buggy j2me implementations throwing null pointer exceptions at him
[22:05:56] <pnkfelix> kmc: I don't know yet.  Its not clear to me whether the existing patterns will stick around (modulo mechanical rewrites), or if people will be expected to put distinct functions for `fn new() -> Value` and `fn new_gc() -> GC<Value>`
[22:06:19] <tikue_> yikes
[22:06:21] <kmc> that would be awful :(
[22:06:37] <tikue_> why can't you do GC::new(Foo::new())
[22:06:41] <tikue_> that would be more composable
[22:06:42] * ksf_ also came across byte arrays that, when indexed and written to an int, turned out to contain negative values or values >255, but that's another story ...
[22:06:47] <tikue_> and prevent lots of redundant code
[22:07:05] <cmr> ksf_: wat
[22:07:11] <ksf_> took me a week to find.
[22:07:29] <pnkfelix> tikue_: I'm sure that can be implemented.  The question then becomes if that ends up allocating an intermediate value on the stack and then copies it into the GC allocated storage.  This is why kmc was asking about return-value optimization.
[22:07:46] <ksf_> it was quite non-deterministic, too. not like the game would fail instantly, it'd fail on this one phone, after 30 mins of gameplay.
[22:08:40] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:08:45] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:08:47] <kmc> I guess this is a big difference between Foo::new() and C++-style constructors; the former returns a struct, the latter mutates an already allocated but uninitialized struct
[22:08:55] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[22:08:57] <tikue_> pnkfelix, i see. i must have missed the start of the conversation
[22:09:05] <ksf_> (so the debug time doesn't include me rejecting reports from testers as impossible)
[22:09:22] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[22:09:42] <pnkfelix> kmc: Right.  A switch to a placement new protocol might allow people to write a single intialization function that gets plugged into all the different contexts.
[22:09:53] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:10:37] <kmc> it would be tricky because «fn init(&mut self)» would have to be statically disallowed from reading any fields of 'self' before writing them
[22:11:16] <pnkfelix> Anyway, I'm not trying to claim that anything has been decided.  We need to get something in place and then play around with it.
[22:11:24] <kmc> yeah
[22:11:31] <kmc> I bet we can just get RVO working, if it's not already
[22:11:46] <kmc> even in C++ it is common to return structs by value
[22:12:22] <cmr> What is RVO and how is it different than our current hidden outparam?
[22:12:41] <pnkfelix> kmc: I guess I just worry about the genearalization to e.g. GC::new(foo(Bar::new()))
[22:13:21] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[22:13:45] <aatch> cmr, RVO *is* the current hidden outparam.
[22:14:10] <cmr> Oh
[22:14:13] <pnkfelix> aatch: but kmc is, I think, alluding to a generalizaiton of it
[22:14:14] <aatch> But for efficient placement-new we'd need it to be much better defined and efficient
[22:14:51] <aatch> right now, anything short of returning a struct-expression will require a copy anyway.
[22:16:38] *** pnkfelix is now known as pnkfelix|taqueria
[22:16:42] <aatch> so `Foo { a: 1 }` will construct straight into the out-ptr, whereas: `let a = Foo {a: 1}; a` will cause a copy from the stack frame into the given pointer.
[22:18:09] <aatch> The vast, vast majority of the time, we can elide the copies by tracking back from the return value, but we don't at the moment.
[22:19:19] <FreeFull> kmc: It could be done if there was a type for pointers that are writeable but not readable
[22:19:23] <acrichto> kmc: looks like the RVO works right now
[22:19:38] <FreeFull> And if you could cast from a normal read-write pointer to write-only
[22:19:39] <kmc> cool
[22:19:44] <acrichto> kmc: https://gist.github.com/alexcrichton/6983198 mallocs and passes the pointer into 'new'
[22:19:51] <FreeFull> Which should be safe
[22:19:58] <acrichto> kmc: I think strcat is to thank for all that :)
[22:20:27] <aatch> acrichto, that's been around for a while
[22:21:00] <aatch> acrichto, also, see my above comments about it still requiring a copy the moment you step outside that specific format.
[22:21:27] <acrichto> aww nvmd then :(
[22:21:46] <aatch> acrichto, it's good though, because the core is there, we just need to make it smarter.
[22:21:47] *** Quits: ecr (Thunderbir@moz-CE637C05.dhcp4.washington.edu) (Quit: ecr)
[22:22:15] <cmr> Shouldn't it be a fairly easy optimization for LLVM to make, given that it's SSA? It seems like it'd be easy to track the dataflow.
[22:22:47] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[22:23:02] <aatch> cmr, yep, there's an entire Use/User API for tracking dataflow
[22:24:34] *** Quits: voxpopuli (fanservice@moz-2B78EEF7.drp.cs.cmu.edu) (Quit: WeeChat 0.3.7)
[22:24:55] <aatch> I'm just assuming that LLVM has reasons for not doing it in it's own pass.
[22:25:52] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[22:28:48] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:28:49] <aatch> Hmm, it appears that I am wrong about LLVM not doing it's own RVO
[22:29:19] <aatch> I think we can thank strcat for *that*. Since I think he added the sret params to the out-ptr
[22:30:34] <tikue_> let a, b, c; a = 1u; b = 2u; c = 3u; a
[22:30:39] <tikue_> woops
[22:30:51] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[22:31:08] *** Quits: alisdair (textual@BD70E91E.603F78BB.4F048BDC.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:31:18] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[22:31:39] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[22:31:41] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[22:32:21] <aatch> acrichto, ok, I actually decided to test things (I was going off relatively old info) and it seem that RVO does work acceptably well
[22:32:37] <acrichto> aatch: oh awesome!
[22:33:00] <aatch> I imagine that there are still cases where it could do it and doesn't but at least moderately simple cases are fine now.
[22:33:12] *** Quits: pksu (pksu@moz-2051CC54.fi) (Quit: leaving)
[22:33:49] <acrichto> I suppose that's what we're going for anyway
[22:34:37] <aatch> acrichto, https://gist.github.com/Aatch/6983394
[22:35:53] <acrichto> aatch: go compilers
[22:35:59] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Client exited)
[22:37:46] <aatch> acrichto, yep, it even kills the dead-store in the second function. By the looks of it, it takes the llvm equivalent of "vec = [1,2,3....]" and does SROA to make it that list
[22:38:33] <acrichto> \o/
[22:38:50] <acrichto> I think we're actually producing pretty optimizable code
[22:38:56] <acrichto> just probably too much of it
[22:38:57] *** Quits: huseby (huseby@moz-4E8C421A.husebyhome.com) (Connection reset by peer)
[22:40:58] <aatch> acrichto, in some cases, yes. Hmm, also looks like it handles the case where the return value is dependent on an input value
[22:43:15] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[22:43:47] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:45:11] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[22:45:47] <aatch> acrichto, it completely eliminates 'f' in this function: https://gist.github.com/Aatch/6983394#file-test2-ll
[22:46:48] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[22:48:01] <acrichto> that's pretty impressive
[22:48:45] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[22:49:33] <benh> Does it require inlining?
[22:49:41] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[22:49:51] <aatch> benh, nope, if you notice, my function are marked as noinline
[22:50:13] <aatch> specifically so I could check the behaviour inside a single function
[22:50:27] <benh> Oh, sorry. I only glanced at the .ll bits and went "gee, that's above my head" :)
[22:51:06] *** Joins: jordyd (jordyd@moz-C3FF1ED7.seg46.ucf.edu)
[22:51:10] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[22:51:15] <aatch> benh, the important thing in the .ll files is that the test2 function doesn't contain a single 'alloca' instruction, which means no stack allocation inside the function
[22:51:31] *** jld|actualtrain is now known as jld|mv
[22:51:43] <aatch> despite the fact that I declare two variables.
[22:52:25] <benh> i see!
[22:52:28] <benh> hooray, compilers
[22:52:44] *** Quits: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: ZZZzzz…)
[22:52:45] <aatch> benh, hooray *optimizing* compilers
[22:53:27] <aatch> If you think that's clever though, you should see what happens with auto-vectorization.
[22:53:46] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[22:54:08] <benh> I'm not sure whether i want to burst my bubble of ignorance, discover that there's code the compiler won't optimize into the code I didn't write, and start writing ugly code just in case ;)
[22:54:42] <aatch> more often than not vectorization will produce 2 copies of your code.
[22:55:16] <aatch> to handle stuff like overlapping memory ranges
[22:55:54] *** Joins: skoizza (Mibbit@moz-5434CF7D.washdc.fios.verizon.net)
[22:56:09] *** Joins: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net)
[22:56:09] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[22:56:20] <aatch> benh, at any rate, you don't need to optimize for the compiler. Hell, I had to try to write code that LLVM wouldn't just optimize down to a single memset call.
[22:56:43] <skoizza> hey all, I had .7 working on osx and when i went to install .8 I got nothing. I tried removing all the folders/downloads with rust and reinstalling .8 but no dice, anyone else run into this?
[22:57:22] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:57:37] <skoizza> I got this after running make && make install: make: *** [x86_64-apple-darwin/rt/stage0/librustrt.dylib] Error 1
[22:57:55] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[22:58:15] <Jesse> aatch: i have a mental image of one driver controlling four 18-wheelers at once, occupying all lanes of a freeway
[22:58:46] <aatch> Jesse, yeah, that sounds about right
[22:58:58] <Jesse> "you didn't tell me to drive them one at a time. why would i do that?"
[23:00:17] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[23:01:07] <tikue_> is it frowned upon to not indent match arms?
[23:01:23] * tikue_ feels bad everytime he loses two indent levels to match
[23:05:26] *** Joins: dbaupp (Thunderbir@BEECE994.D5A1DCF.37681C44.IP)
[23:08:59] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:09:41] <bjz> tikue_: yeah, rust has a tendency to get indent heavy with matches
[23:10:33] <bjz> tikue_: ml and haskell get around it by having matches integrated into the function declarations
[23:12:10] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Connection reset by peer)
[23:12:31] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[23:14:00] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[23:14:49] <bblum> brson: props on the code of conduct additions
[23:15:14] *** Joins: dornyi (test@moz-EC11DA4D.members.linode.com)
[23:15:14] <maikeru> is there a way to reference that a type implements multiple traits?
[23:15:22] <tikue_> does anyone have a rust implementation of splay tree i could look at?
[23:15:45] <tikue_> having trouble sorting out the right way to do it, what with all the swaps that go on
[23:16:00] <dbaupp> tikue_: https://github.com/alexcrichton/rs-splay
[23:16:07] <tikue_> thx dbaupp 
[23:16:35] *** Quits: dbaupp (Thunderbir@BEECE994.D5A1DCF.37681C44.IP) (Quit: dbaupp)
[23:17:13] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[23:17:34] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Quit: anshin)
[23:17:53] <zenware> Wow this community moves so quickly
[23:18:08] *** Quits: wminor (wminor@moz-3CF7AB0B.org) (Ping timeout)
[23:18:24] *** Quits: skoizza (Mibbit@moz-5434CF7D.washdc.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:18:32] <zenware> I started toying with rust over the weekend and already the cli wrapper is gone
[23:19:08] <brson> bblum: thanks. tjc and dherman hashed out most of the details
[23:19:11] <bjz> heh
[23:19:34] <tikue_> jeez acrichto this splay tree code is impressive.
[23:19:43] <maikeru> zenware: https://github.com/mozilla/rust/commit/a9dddbacde8e204ee7485bc11b5c23a06d57430d ;)
[23:19:43] *** Joins: dbaupp (Thunderbir@BEECE994.D5A1DCF.37681C44.IP)
[23:19:50] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[23:19:57] <bjz> zenware; https://github.com/mozilla/rust/wiki/Meeting-weekly-2013-10-08#rust-tool
[23:20:52] <acrichto> tikue_: thanks :), sadly it's a lot slower than TreeMap on random inputs because moving out of a local variable still runs its destructor (but bails on the zero flag)
[23:21:08] <SiegeLord> It did leave the hashbang comments high and dry though... I'll try for a replacement for 'rust run' after I finish with Geany c-tags support
[23:21:27] <bblum> acrichto: yeah the flow-sensitive destructor codegen should help that though
[23:21:55] <acrichto> bblum: and I can't wait
[23:21:57] <acrichto> !
[23:22:38] <bblum> i was gonna do it as my closing project but niko pointed out that some flow analysis framework wasn't in place yet, and it would be a waste to do a rudimentary version without such that would just get ripped out later
[23:23:49] <acrichto> tikue_: there's a lot of calls to an unsafe 'forget' function, that was just me trying to speed it up but it never ended up helping
[23:25:09] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[23:25:19] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[23:26:08] <tikue_> acrichto, huh...that's surprising. damn
[23:26:24] <tikue_> acrichto, you mean the ~ destructor? 
[23:26:40] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[23:26:46] <acrichto> the highest thing in the profiles is the drop code of Option<~Node>, so I thought it was because it kept running on None (which it obviously doesn't need to), but it's b/c all the locals are Option<~None>
[23:26:49] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[23:27:10] <acrichto> basically it runs the destructor with or without the call to cast::forget
[23:27:27] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
[23:27:32] <acrichto> and that code is almost entirely based on movement of ownership, so it especially hurts a lot
[23:28:30] <acrichto> either llvm translated my inline assembly wrong, or I don't know how to write inline assembly
[23:28:38] *** Joins: wminor (wminor@moz-3CF7AB0B.org)
[23:30:23] *** Quits: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: ZZZzzz…)
[23:30:32] <aatch> acrichto, well LLVM doesn't interpret the actual assembly at all. Except for a little to manage passing in values
[23:30:52] <aatch> it's possible you have your contraints wrong
[23:30:57] <Luqman> acrichto: which one?
[23:31:07] *** Joins: fanservice (fanservice@moz-FE161659.wv.cc.cmu.edu)
[23:31:18] *** Quits: fanservice (fanservice@moz-FE161659.wv.cc.cmu.edu) (Quit: WeeChat 0.4.1)
[23:31:31] <acrichto> aatch Luqman: https://gist.github.com/alexcrichton/6984065
[23:31:37] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[23:32:14] *** Joins: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de)
[23:32:24] <aatch> acrichto, what's the "r" supposed to be again (I forget the constraints)
[23:32:31] <acrichto> I thought it was register
[23:32:35] <acrichto> according to http://gcc.gnu.org/onlinedocs/gcc/Simple-Constraints.html#Simple-Constraints
[23:33:09] <aatch> acrichto, yeah, those generally don't work.
[23:33:20] <aatch> Not how you expect anyway.
[23:33:26] *** Joins: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net)
[23:33:34] <Luqman> i think r kinda worked
[23:33:36] *** Quits: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: lfox)
[23:33:45] <aatch> Luqman, more by coincidence though.
[23:34:12] <acrichto> even a constraint of {rax} only zero's %eax/%eax
[23:34:27] <acrichto> time to update llvm, wheee!
[23:36:18] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[23:36:44] <zenware> Hmm, after I'm more familiar with the language I might be willing to maintain the rust tool
[23:36:59] *** jorendorff is now known as jorendorff_away
[23:37:28] <Luqman> acrichto: on that note, sadly hitting a bit of snag trying to upstream the no-split-stack attr http://lists.cs.uiuc.edu/pipermail/llvm-commits/Week-of-Mon-20131007/190984.html
[23:39:17] <acrichto> I was hoping to avoid assembly :(
[23:40:53] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[23:41:26] <acrichto> Luqman: although to be honest I haven't landed it yet, so it may have to end up being as such anyway
[23:43:40] <brson> Luqman: no_split_stack is implemented in gcc - this patch is just adding more of the gcc split stack implementation to llvm
[23:44:06] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[23:44:44] <brson> Luqman: maybe you should ping echristo and respindola on that code review - they're our llvm allies!
[23:44:52] <brson> but I can try to chime in too
[23:45:20] <Luqman> brson: yea i wasn't sure who to set as reviewer so i just left it empty
[23:45:22] <brson> I don't understand the comment in the ml thread you linked to though
[23:45:32] <brson> 'either case to be implemented in assembly'?
[23:45:57] <Luqman> i'm not exactly sure either
[23:46:30] <brson> oh, I can't respond because i'm not subscribed to that list
[23:46:52] *** Quits: wminor (wminor@moz-3CF7AB0B.org) (Ping timeout)
[23:47:02] <echristo> eh wha?
[23:47:06] <echristo> oh that.
[23:47:08] <echristo> hrm.
[23:47:40] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[23:48:14] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[23:48:54] *** Joins: mib_uxk5e7 (Mibbit@moz-D21B16F.dc.dc.cox.net)
[23:50:01] *** Joins: wminor (wminor@moz-3CF7AB0B.org)
[23:50:37] <mib_uxk5e7> Hello folks, installing Rust from git repo is giving following error : rustdoc: doc/std/index.html Couldn't create directory `doc`: unknown error task '<unnamed>' failed at 'explicit failure', /Users/gaurav/apps/rust/src/librustdoc/html/render.rs:329 make: *** [doc/std/index.html] Error 101
[23:51:10] *** Quits: maik (maik@moz-30A5AB81.dip0.t-ipconnect.de) (Ping timeout)
[23:51:28] <mib_uxk5e7> any idea what could be the issue , I also tried doing `sudo make` but still same error.
[23:51:34] <acrichto> mib_uxk5e7: can you create a folder called 'doc' in the same directory as the git repo?
[23:52:08] <mib_uxk5e7> there is one present in rust/ dir.
[23:53:09] <acrichto> hm, you can disable documentation generation via --disable-docs passed to ./configure, although that should just be a normal error saying that it's unable to create the folder to insert documentation into
[23:53:25] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[23:53:29] <acrichto> llvm segfaulted building itself :(
[23:53:30] *** Quits: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[23:53:42] <echristo> ?
[23:53:45] <mib_uxk5e7> ok. i will try that , thanks
[23:54:21] <acrichto> echristo: oh I just got a segfault in llvm-tblgen for the rule "Building X86.td disassembly tables with tblgen", probably just something wrong locally
[23:54:30] <echristo> *blink* weird.
[23:56:32] <acrichto> maybe this is just the world telling me that I *really* need to write this all in assembly 
[23:56:55] <brson> acrichto: jk?
[23:56:58] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:57:28] *** Joins: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP)
[23:57:38] <acrichto> I wish
[23:57:38] <aatch> acrichto, Luqman, Hmm, seems like "r" is a valid constraint for LLVM anyway. Though it's one of the few...
[23:57:52] <maikeru> So I have two types that both implement the same two traits... how can I referece both without being specific to which one?
[23:57:55] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[23:58:03] <acrichto> brson: my inline assembly stuff in the morestack patch looks like it's not getting codegen'd correctly, and upon updating llvm it segfaults during buliding itself
[23:58:29] <echristo> ...
[23:58:46] <Luqman> acrichto: oh yea, so one thing you should probably check for is the way you refer to operands with asm! is different than gcc/clang
[23:58:48] <acrichto> echristo: I was updating to see if this behavior had changed https://gist.github.com/alexcrichton/6984065
[23:58:48] <echristo> acrichto: what's going on here anyhow? 
[23:59:24] <acrichto> echristo: I have very little clue what I'm doing when using inline assembly, but I would expect the first instruction to be "xor %rax, %rax" instead of %eax
[23:59:35] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
