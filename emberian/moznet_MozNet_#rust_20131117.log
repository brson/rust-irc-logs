[00:03:52] *** Joins: prooftechnique (prooftechn@moz-65B7D4EE.hsd1.vt.comcast.net)
[00:04:02] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[00:04:44] *** Joins: spott (spott@D76D9638.B3FAD41.E7673F62.IP)
[00:07:22] <eholk> oh hmm, do extern rust functions still have the extra magic arguments?
[00:09:28] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:10:46] <strcat> eholk: not if you use 'extern "C"'
[00:12:00] <eholk> it seems like rust is just using the same calling convention for all of my extern functions
[00:13:17] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[00:13:24] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[00:13:25] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[00:13:53] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[00:16:07] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: Pogoapp - http://www.pogoapp.com)
[00:27:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:27:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[00:27:43] *** Joins: DAddYE_ (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:38:52] *** Joins: mib_b7ix8n (Mibbit@moz-D11CB33C.a1.protectedgroup.com)
[00:38:59] *** Quits: mib_b7ix8n (Mibbit@moz-D11CB33C.a1.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[00:41:55] *** Quits: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue)
[00:44:33] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[00:46:08] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Connection reset by peer)
[00:46:29] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[00:47:02] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[00:47:31] *** Quits: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP) (Ping timeout)
[00:47:44] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[00:48:12] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[00:48:15] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[00:53:28] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[00:54:33] *** Joins: cdidd (cdidd@moz-BD0F9CA8.broadband.corbina.ru)
[00:58:19] *** Joins: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[01:02:04] *** Quits: nkoep (nik@moz-8A42B13.pool.mediaways.net) (Client exited)
[01:02:37] *** Quits: spott (spott@D76D9638.B3FAD41.E7673F62.IP) (Ping timeout)
[01:04:32] *** Joins: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net)
[01:04:51] *** Joins: spott (spott@D76D9638.B3FAD41.E7673F62.IP)
[01:05:16] *** Quits: prooftechnique (prooftechn@moz-65B7D4EE.hsd1.vt.comcast.net) (Quit: )
[01:05:55] *** Quits: Ferreus (ferreus@moz-353F0A4F.pools.arcor-ip.net) (Ping timeout)
[01:06:07] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[01:06:36] *** kimundi is now known as zz_kimundi
[01:06:41] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[01:07:57] *** Quits: DAddYE_ (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[01:08:10] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:17:28] *** Joins: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[01:18:02] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[01:18:29] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Quit: Leaving...)
[01:18:34] *** Quits: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue)
[01:19:59] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[01:20:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:22:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[01:22:02] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Connection reset by peer)
[01:22:57] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:25:20] *** Joins: fyolnish (fyolnish@moz-D4951201.uqwimax.jp)
[01:26:06] *** Joins: Ferreus (ferreus@moz-353F0A4F.pools.arcor-ip.net)
[01:27:07] *** Quits: fyolnish (fyolnish@moz-D4951201.uqwimax.jp) (Ping timeout)
[01:27:27] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[01:28:17] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[01:29:42] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:31:14] *** Quits: Ferreus (ferreus@moz-353F0A4F.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[01:31:17] *** Quits: lteo (lteo@moz-6787793C.lteo.net) (Ping timeout)
[01:31:48] *** Quits: etrepum (sid763@moz-5F4AA75A.irccloud.com) (Ping timeout)
[01:31:48] *** Quits: wilfred (sid159@moz-5F4AA75A.irccloud.com) (Ping timeout)
[01:31:48] *** Quits: strmpnk (sid2261@moz-E77DEB21.irccloud.com) (Ping timeout)
[01:31:48] *** Quits: jaeholee (uid4856@moz-31ABA2C0.irccloud.com) (Ping timeout)
[01:32:22] *** Quits: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP) (Ping timeout)
[01:32:42] *** Quits: hongminhee (sid295@moz-5F4AA75A.irccloud.com) (Ping timeout)
[01:32:42] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[01:32:42] *** Quits: gazoombo (sid6629@moz-E77DEB21.irccloud.com) (Ping timeout)
[01:32:56] *** Joins: hongminhee (sid295@moz-5F4AA75A.irccloud.com)
[01:32:56] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[01:33:00] *** Quits: btm_away (btm@moz-2160AA7C.sakura.ne.jp) (Ping timeout)
[01:33:19] *** Quits: spott (spott@D76D9638.B3FAD41.E7673F62.IP) (Ping timeout)
[01:33:58] *** Joins: spott (spott@D76D9638.B3FAD41.E7673F62.IP)
[01:33:59] *** Joins: etrepum (sid763@moz-5F4AA75A.irccloud.com)
[01:34:02] *** Joins: jaeholee (uid4856@moz-31ABA2C0.irccloud.com)
[01:34:15] *** Joins: gazoombo (sid6629@moz-E77DEB21.irccloud.com)
[01:34:33] *** Joins: btm_away (btm@moz-2160AA7C.sakura.ne.jp)
[01:35:46] *** Joins: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP)
[01:35:50] *** Quits: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net) (Ping timeout)
[01:36:21] *** Joins: lteo (lteo@moz-6787793C.lteo.net)
[01:37:54] *** Parts: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) ()
[01:38:53] *** Quits: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP) (Ping timeout)
[01:39:26] <eholk> does rust have alloca?
[01:39:31] *** Quits: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP) (Ping timeout)
[01:40:02] *** Quits: lteo (lteo@moz-6787793C.lteo.net) (Ping timeout)
[01:40:42] *** Quits: spott (spott@D76D9638.B3FAD41.E7673F62.IP) (Client exited)
[01:41:33] <strcat> eholk: no
[01:41:42] <eholk> bummer
[01:47:31] *** Joins: wilfred (sid159@moz-5F4AA75A.irccloud.com)
[01:47:34] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[01:48:30] *** Joins: strmpnk (sid2261@moz-E77DEB21.irccloud.com)
[01:49:14] *** Joins: Ryan` (Rough@moz-865BB14D.dhcp.mdfd.or.charter.com)
[01:49:17] <Ryan`> Please donate to help pay for my Dad's surgery and heart transplant, if you would like to donate or read about my dad visit:http://www.gofundme.com/CharlesStoryFund
[01:49:17] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[01:49:22] <Ryan`> Hey guys
[01:49:24] *** Joins: z0w0 (zack@moz-5E840EF3.lns3.woo.bigpond.net.au)
[01:50:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:51:01] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[01:51:04] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[01:51:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:51:42] *** Quits: Ryan` (Rough@moz-865BB14D.dhcp.mdfd.or.charter.com) (Quit: Always remember you're unique, just like everyone else.)
[01:53:15] *** Joins: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[01:53:27] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[01:54:40] *** Quits: FrozenCow_ (FrozenCow@moz-B2DF4929.chello.nl) (Quit: Leaving)
[01:54:46] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[01:55:05] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[01:55:30] <tiffany> rustpkg is really bad at rebuilding packages when I ask it
[01:58:42] *** Quits: TeXitoi (texitoi@moz-EA958D66.texitoi.eu) (Ping timeout)
[01:58:45] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[02:05:42] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[02:08:48] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[02:10:07] *** Joins: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[02:12:06] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[02:12:22] *** Quits: Jesin (Jesin@moz-63C897DA.res.lehigh.edu) (Quit: Leaving)
[02:15:34] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:16:40] *** Joins: pnathan1 (Adium@moz-5EBBDD83.tukw.qwest.net)
[02:22:22] <enix> I can't get something to compile. Does anyone know how to make this work: https://gist.github.com/DaGenix/7508248
[02:23:21] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[02:24:22] *** jorendorff_away is now known as jorendorff
[02:25:50] *** Joins: fyolnish (fyolnish@moz-BEB68EA7.uqwimax.jp)
[02:27:38] *** Quits: fyolnish (fyolnish@moz-BEB68EA7.uqwimax.jp) (Ping timeout)
[02:27:41] <tikue> enix: the trait requires a lifetime that doesn't exist in Buff2
[02:28:14] <sfackler> enix: change the trait definition to "trait GetBuffer { fn get<'a>(&'a self) -> &'a [u8]; }"
[02:29:29] <tikue> sfackler: in what situations is it better to parameterize the trait by a lifetime rather than having each function individually parameterized?
[02:30:43] *** Joins: Benvie_ (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP)
[02:30:47] *** Quits: Benvie_ (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP) (Client exited)
[02:32:06] *** Quits: etw (john@moz-D871A25B.nyc.res.rr.com) (Ping timeout)
[02:33:24] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[02:35:02] <enix> thanks!
[02:36:31] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[02:42:12] <enix> tikue, sfackler: yup, that works for me! thanks for the help!
[02:46:04] <sfackler> tikue: I find that it's a lot more common to parameterize the &self in each method individually. 
[02:46:30] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[02:46:30] *** ChanServ sets mode: +ao brson brson
[02:48:08] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[02:49:49] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[02:52:57] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[03:04:41] *** Quits: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net) (Quit: freezerburnv)
[03:06:48] *** Joins: haberman (Mibbit@moz-D730FB90.hsd1.wa.comcast.net)
[03:08:28] <haberman> is there any way with Rust do to the equivalent of if __name__ == "__main__" in Python?
[03:08:36] <haberman> where a file can act as either a library or an executable?
[03:09:18] <haberman> for reference: http://effbot.org/pyfaq/tutor-what-is-if-name-main-for.htm
[03:09:23] <strcat> haberman: just compile them as a library when they have a main function
[03:09:27] <sfackler> haberman: you can compile a file with a main fn as a library
[03:09:38] <strcat> you don't need anything special
[03:10:05] <haberman> would you have to compile it twice then, once with --lib or something like that?
[03:10:10] <sfackler> yeah
[03:10:18] <sfackler> so you'd end up with a .so and an executable
[03:10:31] <haberman> perfect, just what I wanted, thanks.
[03:11:11] <strcat> you can make something that's a library *and* an executable too afaik
[03:11:20] *** Quits: futurehorizons (Mibbit@moz-61717F7A.bitstream.orcon.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[03:12:38] <sp3d> I'm not sure if it's exactly that scenario, but "/usr/lib/libSegFault.so" is a runnable shared object
[03:21:54] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[03:22:51] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[03:23:06] *** Quits: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net) (Ping timeout)
[03:23:43] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:25:45] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[03:26:29] <haberman> hmm, when I try to actually use a module that has a main function, I get "error: multiple 'main' functions"
[03:26:40] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Quit: leaving)
[03:26:52] *** Joins: fyolnish (fyolnish@moz-2246F703.uqwimax.jp)
[03:27:42] *** Quits: JanC (janc@moz-6E6020E3.dsl.scarlet.be) (Ping timeout)
[03:28:42] *** Quits: fyolnish (fyolnish@moz-2246F703.uqwimax.jp) (Ping timeout)
[03:29:03] <sfackler> you may be able to work around that by flagging the main fn off with a cfg attribute
[03:29:34] <sfackler> e.g. "#[cfg(with_main)] fn main() {...}"
[03:30:00] <sfackler> but it seems unfortunate that rustc will pick up a main in an external library
[03:30:27] <haberman> now I did this with "mod" and not "pub mod", maybe that is my problem
[03:30:51] *** Joins: indirect (indirect@moz-3589B90B.c.ircrelay.com)
[03:31:02] <sfackler> but not "extern mod"?
[03:31:12] <haberman> "mod" seems more like #include, whereas "pub mod" is linking against an .so, is that right?
[03:31:16] <sfackler> right
[03:31:56] <haberman> I see, "mod" is more convenient for what I'm trying to do at the moment, but maybe I can't get around the multiple "main" scenario with just "mod"
[03:31:56] <sfackler> Hopefully you wouldn't see the duplicate main definition error if you linked against the library
[03:32:06] <sfackler> you can do it with a compile flag
[03:32:21] <haberman> oh that would be perfect, the cfg(with_main) thing? I'll try that
[03:32:27] <sfackler> yeah
[03:32:42] <sfackler> and then if you don't pass "--cfg with_main" to rustc, that function will be removed
[03:34:44] <haberman> that works great except for one thing
[03:35:01] <haberman> if I have mod1.rs and mod2.rs, and mod2 includes mod1
[03:35:47] *** Quits: zz_kimundi (kimundi@moz-8E17C911.dip0.t-ipconnect.de) (Ping timeout)
[03:35:50] <haberman> any "extern mod" declarations in mod1 appear to be ignored
[03:35:56] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[03:36:09] <haberman> and I have to duplicate them in mod2, before I say "mod mod1"
[03:36:51] <haberman> actually, I should try this again with 0.8 before I say this for sure (I'm on 0.6, 0.8 has been compiling for the last hour or so)
[03:37:00] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:37:12] <myname> oh dear
[03:37:17] <myname> 0.6 is like ancient
[03:37:22] <haberman> sorry!
[03:37:35] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[03:37:41] <myname> what distro do you have?
[03:37:48] <haberman> I'm on OS X
[03:37:54] <myname> oh
[03:38:15] <haberman> I download and compile the releases from the website, since there doesn't appear to be a precompiled binary for OS X
[03:38:48] <haberman> wonder how much I'll have to change my code for 0.8 once it's done compiling
[03:39:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:39:15] <myname> i made a step from 0.5 to 0.8
[03:39:18] <myname> it was huge
[03:39:30] *** Joins: zz_kimundi (kimundi@moz-A47A651A.dip0.t-ipconnect.de)
[03:39:34] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:39:59] *** zz_kimundi is now known as kimundi
[03:41:19] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:43:07] *** Joins: JanC (janc@moz-1A34A6E4.dsl.scarlet.be)
[03:52:49] *** jorendorff is now known as jorendorff_away
[03:55:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:56:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[03:56:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:56:20] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[03:57:15] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[03:57:42] *** Joins: pcx (pcx@C81B818B.E5A6DB9C.AE26B834.IP)
[03:58:54] *** Joins: pcx_ (pcx@C81B818B.E5A6DB9C.AE26B834.IP)
[03:59:17] *** Quits: pcx_ (pcx@C81B818B.E5A6DB9C.AE26B834.IP) (Input/output error)
[03:59:17] *** Quits: pcx (pcx@C81B818B.E5A6DB9C.AE26B834.IP) (Input/output error)
[03:59:28] *** Joins: pcx (pcx@C81B818B.E5A6DB9C.AE26B834.IP)
[04:00:40] *** Quits: zxcdw (r-a@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[04:00:44] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[04:00:46] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[04:01:12] *** Quits: zagabar (zagabar@BC4D85C9.B543C4DE.3933CC16.IP) (Ping timeout)
[04:01:46] *** Joins: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[04:04:03] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:08:26] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[04:08:26] *** ChanServ sets mode: +ao brson brson
[04:08:29] *** Quits: reyre (reyre@moz-89E9865B.com) (Ping timeout)
[04:10:43] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[04:13:09] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[04:13:28] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[04:14:25] *** Joins: abnrngr (user@C31B7093.A9FCDC29.B3C843D.IP)
[04:14:42] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[04:16:01] *** Joins: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP)
[04:16:06] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[04:16:21] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[04:27:29] *** Joins: fyolnish (fyolnish@moz-11A357B.uqwimax.jp)
[04:29:19] *** Quits: fyolnish (fyolnish@moz-11A357B.uqwimax.jp) (Ping timeout)
[04:29:22] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[04:32:05] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[04:32:25] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[04:34:09] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[04:34:24] *** Quits: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue)
[04:36:55] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[04:37:36] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[04:37:52] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[04:43:47] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[04:45:31] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:46:03] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[05:04:31] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: gf)
[05:06:41] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:06:41] *** ChanServ sets mode: +ao dherman dherman
[05:11:39] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[05:11:50] *** Quits: pcx (pcx@C81B818B.E5A6DB9C.AE26B834.IP) (Quit: Leaving)
[05:11:59] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[05:13:07] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Connection reset by peer)
[05:13:17] *** Quits: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[05:13:37] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[05:15:21] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[05:15:53] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[05:15:58] *** Joins: fyolnish (fyolnish@moz-11A357B.uqwimax.jp)
[05:21:01] <mcpherrin> 0.8 is even pretty old; master is where it's at ;)
[05:21:37] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[05:21:47] <myname> but xy
[05:21:59] <myname> but you can actually write tuff in 0.8
[05:22:19] <myname> *stuff
[05:22:29] *** Joins: mib_7enhqw (Mibbit@moz-15966595.ppp-bb.dion.ne.jp)
[05:22:34] <strcat> atomics are hard :(
[05:22:55] <strcat> I should just look at boost's refcounted ptr instead of trying to figure out the minimum memory ordering myself...
[05:23:02] *** Quits: mib_7enhqw (Mibbit@moz-15966595.ppp-bb.dion.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[05:23:17] <strcat> the fetch_add on Clone can definitely be relaxed
[05:25:43] <dbaupp> strcat: for Rust's Arc?
[05:25:49] <strcat> for rust-core's Arc
[05:26:01] <strcat> rust's Arc has way stronger memory ordering than I need
[05:26:17] <strcat> looks like it's related to it supporting unwrap
[05:26:21] * strcat shrugs
[05:26:31] <strcat> http://www.boost.org/doc/libs/1_55_0/doc/html/atomic/usage_examples.html#boost_atomic.usage_examples.example_reference_counters
[05:26:34] <strcat> turns out they even have an example
[05:26:36] <strcat> but...
[05:26:40] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[05:26:43] <strcat> I don't quick understand why the acquire barrier is needed
[05:26:49] * strcat is trying to convince himself it is atm
[05:27:33] <strcat> release makes sure that it's not going to do clone + delete when another thread is still going to clone
[05:27:48] <strcat> by ordering the subtraction after any adds
[05:27:52] <strcat> but... what the hell does the fence do?
[05:27:55] <strcat> ;s
[05:27:58] <strcat> ah
[05:28:08] <strcat> I get it
[05:28:15] *** Joins: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP)
[05:28:37] <strcat> (or not!)
[05:28:47] <strcat> where's bblum when you need him
[05:30:56] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:31:43] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[05:32:39] *** Joins: lteo (lteo@moz-6787793C.lteo.net)
[05:34:08] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:36:24] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[05:37:11] <sfackler> strcat: maybe to prevent the delete from reordering before the sub to prevent a double free?
[05:37:45] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[05:37:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:38:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:39:47] <strcat> sfackler: how could it possibly reorder before the sub in the same thread though? :s
[05:39:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:40:30] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[05:40:45] <strcat> anyway I trust them so I'll copy it
[05:40:59] * strcat will put a link to that in a comment to justify it ;p
[05:43:54] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[05:44:39] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[05:45:34] <tiffany> howcome rustc doesn't like when I put an extern fn taking an & pointer inside of a structuer?
[05:45:41] <tiffany> it says I can't have an anonymous lifetime
[05:46:16] <dbaupp> rusti: struct Foo { f: extern fn(&int) }
[05:46:17] -rusti- ()
[05:46:25] <dbaupp> like that ^ ?
[05:46:47] <tiffany> /home/tiffany/Projects/frscript/src/frscript/parse.rs:4:11: 4:16 error: mismatched types: expected `extern "Rust" fn(&mut parse::ParseContext<,<V5305>>, &str, uint) -> std::result::Result<parse::Token<<V5305>>,parse::SyntaxError>` but found `extern "Rust" fn(&mut parse::ParseContext<,T>, &str, uint) -> std::result::Result<parse::Token<T>,parse::SyntaxError>` (expected concrete lifetime, but found bound lif
[05:46:47] <tiffany> etime parameter &)
[05:46:52] <tiffany> /home/tiffany/Projects/frscript/src/frscript/parse.rs:4 #[deriving(Clone)]
[05:47:21] <dbaupp> ah
[05:47:23] <tiffany> I should have mentioned that this derives Clone
[05:47:32] <dbaupp> I think someone else met this
[05:47:37] * dbaupp checks the bug tracker
[05:48:03] <dbaupp> https://github.com/mozilla/rust/issues/10501
[05:48:10] <tiffany> rusti: #[deriving(Clone)] struct Foo {f: extern fn(&int) }
[05:48:10] -rusti- ()
[05:48:40] <dbaupp> (rusti is 0.8, so it's probably caused by the lifetime handling changes in, e.g., 10153)
[05:49:40] *** Quits: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP) (Ping timeout)
[05:49:57] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[05:50:12] <bblum> strcat: i have always been here
[05:51:21] <strcat> bblum: http://www.boost.org/doc/libs/1_55_0/doc/html/atomic/usage_examples.html#boost_atomic.usage_examples.example_reference_counters do you know why this uses an acquire fence?
[05:51:24] <strcat> I don't really get it
[05:51:36] <tiffany> is there any workaround for this?
[05:51:39] <strcat> the release part makes perfect sense to me
[05:52:00] <strcat> otherwise the adds/subs would be totally unordered and you could do add + sub + delete in a thread even though another thread was going to add a ref
[05:52:06] <strcat> but... why the fence? :s
[05:52:17] <Amanieu> strcat: a release must synchronize with an acquire
[05:52:24] <bblum> strcat: hmmmm
[05:52:35] <Amanieu> the acquire prevents the delete from being reordered before the reference count check
[05:52:56] <bblum> strcat: i remember having to use a acqrel barrier in ARC's destructor before freeing but iirc that was because there was also an unwrap thing going on
[05:52:57] <strcat> but the delete is conditional on the value returned by the sub?
[05:53:33] <Amanieu> yes but you still need a fence
[05:53:53] <strcat> well I believe that it's needed but don't see why :)
[05:53:56] <Amanieu> because the CPU can do branch prediction
[05:54:18] <bblum> hmm
[05:54:19] <bblum> i see
[05:54:21] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:54:33] <bblum> we're not talking about compiler instruction-level reordering here
[05:54:46] <bblum> but the cpu will speculatively begin to delete stuff in its cache
[05:54:52] <bblum> and then if the refcount succeeds, it will flush the cache
[05:54:54] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:54:57] <strcat> Amanieu: ah so the CPU might decide to run the dtor because it doesn't see any memory dependencies
[05:55:12] <bblum> well
[05:55:13] <bblum> i mean
[05:55:18] <bblum> hmm
[05:55:36] <Amanieu> yes, but say the destructor is inlined
[05:55:49] <strcat> lets say it writes '5' to a global
[05:55:50] <Amanieu> the compiler is allowed to start reading data that might be needed for destruction
[05:55:56] <Amanieu> before the reference count check
[05:56:01] <Amanieu> if you don't have the barrier
[05:56:03] <strcat> Amanieu: ah, okay
[05:56:07] <strcat> that makes perfect sense
[05:56:19] <strcat> so lets say it increments a global
[05:56:28] <strcat> it might fetch the old value before doing the decrement
[05:56:34] <strcat> because it doesn't see a dependency
[05:57:09] * strcat will remember to never write a lock-free data structure that's not copied line-for-line from somewhere
[05:57:12] <strcat> ;p
[05:57:17] <Amanieu> :)
[05:59:06] <strcat> I can go back to the happy land of pthread mutexes and condition variables now
[06:00:14] <strcat> bblum: what exactly is unwrap needed for anyway?
[06:00:34] <bblum> 'needed for' is an awkward question to answer
[06:00:44] <strcat> well, what it is currently used for :)
[06:00:49] <bblum> it is currently used for the watched() spawn mode
[06:00:52] <bblum> to implement it
[06:01:13] <bblum> and it can also be used to concisely implement a fork/join parallelism interface
[06:01:34] <dbaupp> tiffany: don't know
[06:01:42] <strcat> bblum: hmmm, I guess I don't understand the issues the scheduler has to deal with
[06:02:04] <tiffany> the only thing I can think to try is using a trait object
[06:02:16] <strcat> for 1:1 threading you just need an atomic Rc box to stick your concurrent data structures in
[06:02:47] <strcat> but the communication primitives in the runtime are... different, since they yield to the scheduler instead of blocking on a mutex
[06:03:50] * strcat is used to something like recv waiting on a condition variable in a loop and send doing a notification
[06:05:47] *** Joins: lop (Mibbit@6ABC2E61.4671019F.DB2023DD.IP)
[06:06:03] *** Quits: lop (Mibbit@6ABC2E61.4671019F.DB2023DD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:06:32] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[06:11:48] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[06:12:01] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[06:16:23] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:21:13] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[06:23:50] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Quit: Leaving...)
[06:28:32] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[06:34:40] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Ping timeout)
[06:44:07] *** Quits: fyolnish (fyolnish@moz-11A357B.uqwimax.jp) (Ping timeout)
[06:46:24] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[06:46:52] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[06:47:09] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[06:47:33] *** Joins: fyolnish (fyolnish@moz-11A357B.uqwimax.jp)
[06:49:06] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Quit: Leaving...)
[06:56:40] *** Quits: haberman (Mibbit@moz-D730FB90.hsd1.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:57:19] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[06:57:39] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[06:57:57] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[07:00:37] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:11:48] *** Quits: GeneralMaximus (ankur@31487853.D2C5E8E0.D2D1FAF0.IP) (Ping timeout)
[07:15:11] *** Joins: GeneralMaximus (ankur@3D07C5F8.2F59B96B.D5D59AD9.IP)
[07:20:02] *** Joins: alonlevy (alon@189CE8FF.5A6A959A.AB64B967.IP)
[07:20:53] *** Quits: KindOne (KindOne@moz-317531E1.dynamic.ip.windstream.net) (Ping timeout)
[07:22:17] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[07:24:02] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[07:24:41] *** Joins: KindOne (KindOne@moz-C30E2214.dynamic.ip.windstream.net)
[07:26:19] *** Joins: Kevin (chatzilla@moz-98409CBD.phlapa.fios.verizon.net)
[07:26:49] *** Parts: Kevin (chatzilla@moz-98409CBD.phlapa.fios.verizon.net) ()
[07:30:19] *** Joins: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[07:31:20] *** Quits: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue)
[07:36:06] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:37:03] *** Joins: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP)
[07:37:45] *** Joins: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr)
[07:38:09] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[07:44:34] *** Joins: Jackneill (Jackneill@moz-957B2FD5.pool.digikabel.hu)
[07:45:06] *** Quits: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[07:48:15] *** Joins: Jesin (Jesin@moz-63C897DA.res.lehigh.edu)
[07:55:40] <sfackler> welp, that explains a lot
[07:56:37] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:56:39] <sfackler> openssl needs some extra setup to become threadsafe
[07:58:19] <strcat> as in passing a context object instead of null?
[07:58:49] <sfackler> you have to provide a callback that handles locking for whatever reason
[07:59:23] <sfackler> and a callback that tells it what thread you're on
[07:59:34] <sfackler> though that one apparently defaults to &errno
[08:00:14] <strcat> errno is thread-local
[08:00:59] <sfackler> right, so its address apparently works as a thread ID
[08:01:07] <strcat> ah
[08:02:05] <sfackler> which does seem a bit sketchy
[08:02:18] <strcat> well the standard way would be pthread_self
[08:02:23] <strcat> and use pthread_equal to compare ids
[08:02:49] <strcat> but I guess the addr of a thread-local would likely work...
[08:03:41] <sfackler> wee, more static mut state!
[08:03:59] <strcat> errno is really a macro expanding to a function call afaik, because thread locals were added in C11/C++11 and for whatever reason I guess they don't want to use the gcc ext
[08:04:34] <cmr> who is they?
[08:04:37] <cmr> glibc people?
[08:05:14] <Luqman> yea, errno is something like #define errno (*__errno_location())
[08:05:21] <Luqman> at least with glibc
[08:05:29] <strcat> cmr: yes
[08:05:41] <strcat> in modern C11/C++11 it could be thread_local int errno;
[08:05:51] <strcat> but they need to remain ABI compatible
[08:06:11] <eddyb> did newlib switch?
[08:06:24] <sfackler> my god, openssl's man pages are awful
[08:06:36] <cmr> sfackler: I dislike openssl quite a bit
[08:06:41] * eddyb takes another sip and enjoys the awfulness
[08:06:46] <cmr> but I've yet to find a good alternative, so *shrug*
[08:06:48] <sfackler> CRYPTO_set_locking_callback isn't even mentioned on the man page for CRYPTO_set_locking_callback
[08:06:51] <sfackler> are you kidding me
[08:07:20] <Luqman> do you mean in `man CRYPTO_set_locking_callback` ?
[08:07:26] <sfackler> yes
[08:07:31] <strcat> sfackler: openssl/nss apparently have awful codebases too
[08:07:48] <Luqman> sfackler: i see a blurb about it at the bottom
[08:08:05] <sfackler> yeah, but all I want is the freaking prototype
[08:08:09] * sfackler goes header diving
[08:08:21] <sfackler> nss has even worse documentation
[08:08:47] *** Joins: Ms2ger (Ms2ger@AB9469A5.3CF91143.187A1082.IP)
[08:08:51] <sfackler> every page on MDN a) hasn't been updated since 2004 b) has 90% broken links
[08:09:09] <Luqman> sfackler: void CRYPTO_set_locking_callback(void (*func)(int mode,int type, const char *file,int line));
[08:09:29] <sfackler> thanks
[08:10:07] <mcpherrin> sfackler: has NSS changed since 2004? :P
[08:10:14] <sfackler> it's being regularly updated
[08:10:17] <sfackler> but the docs aren't
[08:10:27] <eddyb> MDN can be bad in some parts
[08:10:29] <sfackler> there are also a bizzare set of functions to set the cypher set
[08:10:34] *** Quits: GeneralMaximus (ankur@3D07C5F8.2F59B96B.D5D59AD9.IP) (Ping timeout)
[08:10:40] <mcpherrin> NSS ... isn't the most user friendly library
[08:10:44] <eddyb> but it's the only documentation in some areas
[08:10:47] <sfackler> NSS_SetExportPolicy, NSS_SetDomesticPolicy and NSS_SetFrancePolicy
[08:10:49] <Luqman> hmmm, come to think of it, i don't think i bothered with any of the threadsafe things when i used openssl
[08:10:52] <sfackler> which seems funny to me
[08:11:03] <eddyb> sfackler: hahaha
[08:11:16] <sfackler> "hey, remember those encryption algorithms we illegally exported to you? call this function to not use them. kthx"
[08:11:16] <mcpherrin> eugh, the legacy curse
[08:11:32] <mcpherrin> fucking export crypto
[08:12:42] <cmr> I'm pretty sure there are also FIPS requirements
[08:12:52] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[08:14:33] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[08:14:56] *** Joins: GeneralMaximus (ankur@FE7A2CA3.93929670.BE90E62C.IP)
[08:18:33] <strcat> cmr: yeah, RHEL/fedora basically use NSS exclusively
[08:18:55] <strcat> they patched everything to use it
[08:20:15] <mcpherrin> That seems fairly sane
[08:20:23] <mcpherrin> GnuTLS is scary bad
[08:20:35] <mcpherrin> OpenSSL a little less but still
[08:20:41] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[08:22:00] <sp3d> GnuTLS is fairly terrifying
[08:22:50] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[08:23:24] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[08:24:09] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[08:24:18] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:24:38] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[08:25:59] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:29:39] *** Quits: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net) (Quit: ZQ)
[08:30:26] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:31:20] <eddyb> rusti: trait Any {} impl<T> Any for T {} ~() as ~Any
[08:31:21] -rusti- ~main::Any:Send
[08:31:32] <eddyb> rusti: trait Any {} impl<T> Any for T {} &() as &Any
[08:31:34] -rusti- pastebinned 16 lines of output: http://sprunge.us/YQCf
[08:32:38] *** Joins: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[08:37:59] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[08:40:12] *** Quits: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue)
[08:45:10] *** Quits: GeneralMaximus (ankur@FE7A2CA3.93929670.BE90E62C.IP) (Ping timeout)
[08:48:30] *** Quits: nlminhtl_ (ignotus@moz-BA3DE7EF.volia.net) (Quit: Konversation terminated!)
[08:49:59] *** Quits: jordyd (jordyd@moz-277E5A40.seg33.ucf.edu) (Ping timeout)
[08:50:43] *** Quits: alonlevy (alon@189CE8FF.5A6A959A.AB64B967.IP) (Ping timeout)
[08:50:58] *** Joins: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr)
[08:52:38] *** Quits: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[08:54:39] *** Joins: GeneralMaximus (ankur@EFE5A949.2AA9E06.BE90E62C.IP)
[08:59:37] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[09:06:56] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[09:08:37] *** Joins: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de)
[09:12:09] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[09:15:24] <eddyb> hi, brain, morning to you too
[09:15:28] *** Quits: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP) (Quit: ZNC - http://znc.in)
[09:15:32] <eddyb> you know, you didn't have to type "iisfsaasasadaasdfgasfsadasdfasfadfasdfsadfsad"
[09:16:28] *** Joins: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP)
[09:20:43] *** Quits: GeneralMaximus (ankur@EFE5A949.2AA9E06.BE90E62C.IP) (Ping timeout)
[09:25:37] *** Joins: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[09:25:42] *** Joins: GeneralMaximus (ankur@4CCDC58D.51408A53.D5D59AD9.IP)
[09:26:08] *** Joins: mib_5qqaig (Mibbit@moz-9B8221B3.rivrw1.nsw.optusnet.com.au)
[09:26:13] <mib_5qqaig> hi
[09:26:14] <Ms2ger> Maybe their cat did
[09:27:16] <mib_5qqaig> what's the current way to select on file descriptors?
[09:27:30] <mib_5qqaig> I see that I can select on Port's
[09:27:42] <mib_5qqaig> but ReaderPort doesn't seem to be implemented yet
[09:27:54] *** Quits: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru) (Ping timeout)
[09:30:56] *** Joins: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru)
[09:31:05] *** Quits: GeneralMaximus (ankur@4CCDC58D.51408A53.D5D59AD9.IP) (Ping timeout)
[09:31:50] *** Quits: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue)
[09:33:11] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[09:34:35] *** Joins: GeneralMaximus (ankur@7906D1FA.AF6B21DA.BE90E62C.IP)
[09:35:27] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:41:03] *** Joins: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net)
[09:42:31] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[09:43:58] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[09:44:43] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[09:48:12] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[09:49:12] *** Quits: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP) (Quit: ZNC - http://znc.in)
[09:50:11] *** Joins: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP)
[09:55:01] *** Quits: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net) (Ping timeout)
[10:04:31] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[10:05:06] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[10:05:19] *** Quits: mib_5qqaig (Mibbit@moz-9B8221B3.rivrw1.nsw.optusnet.com.au) (Quit: http://www.mibbit.com ajax IRC Client)
[10:06:06] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Input/output error)
[10:10:37] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[10:11:59] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[10:12:57] <eddyb> Ms2ger: my brain's cat? what?
[10:13:49] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[10:14:25] *** Quits: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de) (Ping timeout)
[10:15:36] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[10:16:14] <bjz> meow
[10:17:35] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[10:18:08] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[10:18:14] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[10:20:19] *** Quits: KindOne (KindOne@moz-C30E2214.dynamic.ip.windstream.net) (Ping timeout)
[10:20:37] *** Joins: Blei (philipp@moz-E5A7DC90.cust.bluewin.ch)
[10:23:21] *** Joins: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de)
[10:23:49] *** Joins: KindOne (KindOne@moz-C30E2214.dynamic.ip.windstream.net)
[10:27:32] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[10:27:51] *** Joins: nlminhtl (ignotus@moz-BA3DE7EF.volia.net)
[10:28:50] <eddyb> rusti: struct Foo {bar: int} let bar = 0; Foo {bar}
[10:28:50] -rusti- <anon>:9:48: 9:49 error: expected one of `; }` but found `{`
[10:28:51] -rusti- <anon>:9          struct Foo {bar: int} let bar = 0; Foo {bar}
[10:28:51] -rusti-                                                          ^
[10:28:51] -rusti- application terminated with error code 101
[10:29:02] <eddyb> rusti: struct Foo {bar: int}; let bar = 0; Foo {bar}
[10:29:02] -rusti- <anon>:9:49: 9:50 error: expected one of `; }` but found `{`
[10:29:03] -rusti- <anon>:9          struct Foo {bar: int}; let bar = 0; Foo {bar}
[10:29:03] -rusti-                                                           ^
[10:29:03] -rusti- application terminated with error code 101
[10:29:34] <nlminhtl> Why do I need a mutable iterator here? https://gist.github.com/Ignotus/de6cbad4a107268be2bc
[10:30:57] <kimundi> nlminhtl: Because the Iterator itself gets mutated while iterating
[10:30:59] <TeXitoi> rusti: struct Foo {bar: int}; let bar = 0; Foo {bar: bar}
[10:31:00] -rusti- main::Foo{bar: 0}
[10:31:42] <kimundi> nielsle: In this case, it keeps adding 1 to a struct field for rembering where in the vector it is
[10:32:47] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[10:32:51] <strcat> nlminhtl: you don't have to put it in a temporary
[10:35:10] *** Quits: abnrngr (user@C31B7093.A9FCDC29.B3C843D.IP) (Ping timeout)
[10:35:46] <eddyb> kimundi: no sugar for that case?
[10:36:24] <kimundi> eddyb: Hum? just put it in a mutable location, or not use a temporary at all...
[10:37:12] <strcat> for i in xs.iter().skip(1) { }
[10:37:29] <eddyb> kimundi: I mean bar being bar: bar
[10:37:49] <eddyb> kimundi: I think this works in patterns, but I'm not sure
[10:38:24] <TeXitoi> rusti: struct Foo {bar: int}; let foo = Foo {bar: bar};
[10:38:24] -rusti- <anon>:9:52: 9:55 error: unresolved name `bar`.
[10:38:24] -rusti- <anon>:9          struct Foo {bar: int}; let foo = Foo {bar: bar};
[10:38:25] -rusti-                                                              ^~~
[10:38:25] -rusti- error: aborting due to previous error
[10:38:25] -rusti- application terminated with error code 101
[10:38:25] <kimundi> eddyb: Right, that only works in pattern
[10:38:37] <kimundi> eddyb: A expression is not a pattern
[10:39:04] <TeXitoi> rusti: struct Foo {bar: int}; let foo = Foo {bar: 0}; let Foo {bar} = foo; bar
[10:39:04] -rusti- 0
[10:40:47] <eddyb> rusti: &'static ()
[10:40:49] -rusti- pastebinned 16 lines of output: http://sprunge.us/Oefb
[10:40:59] <eddyb> nooo :(
[10:41:22] <eddyb> I basically want a &'static Any for ()
[10:41:44] <eddyb> I know it's technically possible, I'm just not sure how to do it
[10:41:53] <eddyb> (it's empty so it doesn't need storage)
[10:42:06] <eddyb> nevermind, Option<&Any> it is
[10:42:22] <kimundi> rusti: trait Foo {} impl Foo for () {} static FOO: &'static Foo = &'static () as &Any; FOO
[10:42:22] -rusti- <anon>:9:84: 9:87 error: use of undeclared type name `Any`
[10:42:22] -rusti- <anon>:9          trait Foo {} impl Foo for () {} static FOO: &'static Foo = &'static () as &Any; FOO
[10:42:22] -rusti-                                                                                              ^~~
[10:42:22] -rusti- error: aborting due to previous error
[10:42:23] -rusti- application terminated with error code 101
[10:42:29] <kimundi> rusti: trait Foo {} impl Foo for () {} static FOO: &'static Foo = &'static () as &Foo; FOO
[10:42:30] -rusti- pastebinned 5 lines of output: http://sprunge.us/KfJO
[10:42:33] <eddyb> rusti: ::std::mem::size_of<Option<&Add>>()
[10:42:34] -rusti- pastebinned 17 lines of output: http://sprunge.us/NFgT
[10:42:46] <eddyb> rusti: ::std::sys::size_of<Option<&Add>>()
[10:42:47] -rusti- pastebinned 8 lines of output: http://sprunge.us/aTCA
[10:42:56] <eddyb> :/
[10:42:58] <kimundi> rusti: trait Foo {} impl Foo for () {} static FOO: &'static Foo = &'static () as &Foo:'static; FOO
[10:42:58] -rusti- <anon>:9:68: 9:95 error: can not cast to `&'static main::Foo:'static` in a constant expression
[10:42:58] -rusti- <anon>:9          trait Foo {} impl Foo for () {} static FOO: &'static Foo = &'static () as &Foo:'static; FOO
[10:42:58] -rusti-                                                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~
[10:42:58] -rusti- error: aborting due to previous error
[10:43:00] -rusti- application terminated with error code 101
[10:43:14] <kimundi> hum...
[10:43:18] <eddyb> kimundi: don't worry, I'll use an Option pointer
[10:44:08] <TeXitoi> I have a close problem
[10:44:22] <TeXitoi> I want a fake Writer
[10:45:21] <TeXitoi> rusti: struct DummyWriter {dummy: ()} impl Writer for DummyWriter {fn write(&mut self, _: &[u8]) {}} ~DummyWriter {dummy: ()} as ~Writer
[10:45:22] -rusti- <anon>:9:69: 9:101 error: method `write` has an incompatible type: values differ in mutability
[10:45:22] -rusti- <anon>:9          struct DummyWriter {dummy: ()} impl Writer for DummyWriter {fn write(&mut self, _: &[u8]) {}} ~DummyWriter {dummy: ()} as ~Writer
[10:45:22] -rusti-                                                                               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[10:45:22] -rusti- error: aborting due to previous error
[10:45:24] -rusti- application terminated with error code 101
[10:46:08] <strcat> rusti is out-of-date
[10:46:17] <TeXitoi> Mmm, it works here, but I suspect it's because of 0.8
[10:46:42] <TeXitoi> but I can't do that with "struct DummyWriter;"
[10:47:07] <TeXitoi> Is there a clever solution ?
[10:47:38] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Ping timeout)
[10:48:05] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[10:49:27] <strcat> TeXitoi: what do you mean you can't do that?
[10:49:34] <eddyb> TeXitoi: I may have seen an empty enum used instead
[10:49:47] <strcat> TeXitoi: do what?
[10:49:52] <strcat> you can have &mut self with a unit struct
[10:49:54] *** Quits: Blei (philipp@moz-E5A7DC90.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[10:51:33] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[10:53:09] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[10:54:55] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[10:55:00] <TeXitoi> With an empty struct, I can't have a method with &mut self because the empty struct is static
[10:55:19] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[10:55:47] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[10:56:24] <strcat> TeXitoi: yeah we should make the static mut checks more lenient
[10:57:25] <dbaupp> TeXitoi: you can use a temp, `let mut x = Foo; x.blah()`
[10:57:34] <dbaupp> (it's annoying, but it works.)
[10:59:36] *** Joins: nkoep (nik@moz-2FC9138A.pool.mediaways.net)
[11:00:44] <TeXitoi> but I need a ~DummyWriter as ~Writer
[11:01:21] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:02:02] <TeXitoi> Mmm, it works with ~DummyWriter
[11:02:06] <TeXitoi> thanks
[11:07:45] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[11:08:15] <dbaupp> TeXitoi: you could file a bug about &mut not working on unit structs, btw.
[11:10:03] <TeXitoi> resurect shootout-mandelbrot.rs: https://github.com/mozilla/rust/pull/10531
[11:10:06] <nlminhtl> Looks like a wrong example for the advance method http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.advance
[11:10:21] <TeXitoi> dbaupp: ok, I'll check if I find any similar thing before
[11:13:59] <dbaupp> TeXitoi: I couldn't find one there
[11:14:22] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[11:14:38] <dbaupp> nlminhtl: yes, that looks bad, do you want one? (Although, you shouldn't need to use it, `for` is perfectly fine.)
[11:14:39] *** Quits: StarLight (StarLight@moz-21FB6165.dynamic.avangarddsl.ru) (Ping timeout)
[11:15:30] *** Quits: GeneralMaximus (ankur@7906D1FA.AF6B21DA.BE90E62C.IP) (Ping timeout)
[11:15:40] <nlminhtl> dbaupp: anyway, please add an example :)
[11:15:53] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[11:16:04] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[11:16:14] <nlminhtl> dbaupp: can for loop return an iterator in each iteration?
[11:16:26] <dbaupp> iterator.advance(|x| { println!("{}", x); true })
[11:16:28] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[11:16:34] <dbaupp> I don't know what you mean by "return an iterator"?
[11:16:36] <nlminhtl> dbaupp: for arg in collection.iter()
[11:16:42] <nlminhtl> dbaupp: arg
[11:17:04] <dbaupp> (that advance example is the same as `for x in iterator { println!("{}", x); }`)
[11:17:05] <nlminhtl> dbaupp: I want an argument as a iterator type
[11:17:21] <kimundi> nlminhtl: It is possible to iterate over a sequence of iterators if that is what you're asking
[11:17:35] <dbaupp> nlminhtl: so you mean `arg` is an iterator type?
[11:17:45] <kimundi> In fact, flat_map uses that to flatten that list intp one sequence of values
[11:18:05] *** Joins: StarLight (StarLight@moz-A4C08CC0.dynamic.avangarddsl.ru)
[11:18:07] <nlminhtl> stop, it's an iterator.
[11:18:09] <nlminhtl> sorry :)
[11:18:58] *** Joins: GeneralMaximus (ankur@81CF6C90.FF693F8.274D17D6.IP)
[11:19:06] <kimundi> rusti: let mut v = ~[~[1, 2], ~[3, 4]]; v.iter().flat_map(|v| v.iter()).map(|&x| x).to_owned_vec()
[11:19:07] -rusti- <anon>:9:17: 9:18 warning: variable does not need to be mutable [-W unused-mut (default)]
[11:19:07] -rusti- <anon>:9          let mut v = ~[~[1, 2], ~[3, 4]]; v.iter().flat_map(|v| v.iter()).map(|&x| x).to_owned_vec()
[11:19:07] -rusti-                           ^
[11:19:07] -rusti- ~[1, 2, 3, 4]
[11:19:15] <kimundi> rusti: let v = ~[~[1, 2], ~[3, 4]]; v.iter().flat_map(|v| v.iter()).map(|&x| x).to_owned_vec()
[11:19:16] -rusti- ~[1, 2, 3, 4]
[11:19:19] <dbaupp> for arg in iterator { for x in arg { println!("{} came from a nested iterator", x) } }
[11:19:22] <kimundi> nlminhtl: ^
[11:20:38] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[11:22:59] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[11:23:46] <bjz> is there a mut equivalent to Vector::as_slice?
[11:24:00] <bjz> can't see one: http://static.rust-lang.org/doc/master/std/vec/trait.MutableVector.html
[11:24:02] <bjz> :(
[11:24:08] <nlminhtl> kimundi: is it your smile, or an arrow to the previous comment? :D
[11:24:22] <dbaupp> bjz: guess what it'd be called if there was one
[11:24:25] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[11:24:36] <dbaupp> bjz: (oh, wait, no there isn't one)
[11:24:42] <bjz> dbaupp: as_mut_slice
[11:24:43] <bjz> :P
[11:24:46] <dbaupp> bjz: mut_slice_from(0) would work
[11:24:51] <bjz> heh
[11:25:01] <bjz> oversight?
[11:25:04] <kimundi> nlminhtl: Arrow :P
[11:25:12] <dbaupp> bjz: maybe
[11:25:24] <bjz> dbaupp: I can make an issue
[11:25:36] <dbaupp> bjz: or just deemed not common enough (.as_slice() is a bit ugly itself.. :/ )
[11:25:54] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[11:25:58] <bjz> how do you normally do as_slice then?
[11:26:06] <dbaupp> let it coerce
[11:26:25] <bjz> ohh
[11:26:29] <bjz> it does?!
[11:26:34] <dbaupp> rusti: let foo = ~[1,2,3]; fn bar(_: &[int]) {} bar(foo)
[11:26:36] -rusti- ()
[11:26:54] <dbaupp> rusti: let mut foo = ~[1,2,3]; fn bar(_: &mut [int]) {} bar(foo)
[11:26:56] -rusti- ()
[11:27:34] <bjz> rusti: struct Silly<'a, T>(&'a [T]); let v = ~[1, 2, 3]; Silly(v)
[11:27:35] -rusti- <anon>:9:33: 9:34 error: Illegal lifetime 'a: only 'self is allowed as part of a type declaration
[11:27:35] -rusti- <anon>:9          struct Silly<'a, T>(&'a [T]); let v = ~[1, 2, 3]; Silly(v)
[11:27:35] -rusti-                                           ^
[11:27:35] -rusti- error: aborting due to previous error
[11:27:35] -rusti- application terminated with error code 101
[11:27:41] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[11:27:43] <bjz> oh
[11:27:47] <bjz> old rust?
[11:27:56] <bjz> rusti: struct Silly<'self, T>(&'self [T]); let v = ~[1, 2, 3]; Silly(v)
[11:27:57] -rusti- pastebinned 16 lines of output: http://sprunge.us/VEBJ
[11:28:42] <bjz> rusti: struct Silly<'self, T>(&'self [T]); let v = ~[1, 2, 3]; println!("{:?}", Silly(v));
[11:28:42] -rusti- main::Silly<,int>(&[1, 2, 3])
[11:28:43] -rusti- ()
[11:28:43] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[11:28:56] <bjz> rusti: struct Silly<'self, T>(&'self mut [T]); let mut v = ~[1, 2, 3]; println!("{:?}", Silly(v));
[11:28:56] -rusti- main::Silly<,int>(&mut [1, 2, 3])
[11:28:56] -rusti- ()
[11:33:08] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[11:34:49] <nlminhtl> kimundi: I meant this one https://gist.github.com/Ignotus/0b148baae4d4ae975a7f
[11:34:53] *** Quits: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP) (Ping timeout)
[11:36:42] <kimundi> nlminhtl: Well, yeah. That _isn't_ an Iterator :P
[11:37:07] <kimundi> nlminhtl: That's each element of the ZipIterator you're iterating over
[11:37:41] <eddyb> rusti: debug!("foobar")
[11:37:42] -rusti- ()
[11:37:45] <eddyb> rusti: error!("foobar")
[11:37:46] -rusti- "foobar"
[11:37:46] -rusti- ()
[11:37:49] <eddyb> wheee
[11:38:18] <nlminhtl> kimundi: sad :(
[11:38:27] <kimundi> nielsle: About what?
[11:38:37] <kimundi> nlminhtl: What are you trying to do?
[11:38:56] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[11:39:46] <nlminhtl> kimundi: implement this code more collection-independent https://github.com/Ignotus/rustcg/blob/master/src/self_intersection.rs#L7
[11:40:10] <nlminhtl> kimundi: at this time it will work only with array-like container :)
[11:40:15] <nlminhtl> containers*
[11:40:45] <dbaupp> nlminhtl: isn't that a fundamental limitation of indexing patterns like that?
[11:41:11] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:41:11] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[11:41:22] <kimundi> nlminhtl: Hm, that code there is a bit to dense to directly understand it :P. Could you discribe how you want to iterate over the values in what way?
[11:41:24] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:41:31] <dbaupp> you need to have the ability to peek ahead, and to wrap around
[11:42:05] <kimundi> dbaupp: Both are possible with Iterators
[11:42:13] <nlminhtl> kimundi: I have a container with polygon points, one by one...
[11:42:36] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[11:42:48] <eddyb> rusti: error!("foobar {:X}", 0xabc)
[11:42:48] -rusti- <anon>:9:9: 10:5 error: too many arguments to fmt!. found 2, expected 1
[11:42:49] -rusti- <anon>:9          error!("foobar {:X}", 0xabc)
[11:42:49] -rusti- <anon>:10     };
[11:42:49] -rusti- application terminated with error code 101
[11:42:54] <nlminhtl> kimundi: and then I must build a line from one point to the next point
[11:42:56] <eddyb> rusti: format!("foobar {:X}", 0xabc)
[11:42:57] -rusti- ~"foobar ABC"
[11:43:12] <nlminhtl> kimundi: and then check these lines for intersections
[11:43:21] <nlminhtl> with other
[11:43:25] <nlminhtl> s
[11:43:58] <nlminhtl> dbaupp: it's possible with iterators
[11:44:14] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[11:44:26] <nlminhtl> dbaupp: I don't need to look ahead for n(n > 1) elements
[11:44:48] <dbaupp> nlminhtl: the wraparound is what I'm "concerned" about
[11:44:52] <kimundi> nlminhtl: SOrry, that's not what I meant. :| In your gist, you made an iterator chain that goes (0, 1), (1, 2), (2, 3), ... , whatn do you want to do from there?
[11:45:24] <nlminhtl> kimundi: imagine that these numbers are my polygon points :)
[11:45:33] <dbaupp> nlminhtl: hm, it looks like the `% l` is pointless on the (i + 1), fwiw.
[11:45:48] <nlminhtl> kimundi: so every 2 points in my sequence create a polygon edge
[11:45:50] <kimundi> rusti: let a = ~[1, 2, 3, ,4]; a.iter().zip(a.iter().skip(1).chain(a.iter())).to_owned_vec()
[11:45:50] -rusti- <anon>:9:28: 9:29 error: unexpected token: `,`
[11:45:51] -rusti- <anon>:9          let a = ~[1, 2, 3, ,4]; a.iter().zip(a.iter().skip(1).chain(a.iter())).to_owned_vec()
[11:45:51] -rusti-                                      ^
[11:45:51] -rusti- application terminated with error code 101
[11:45:56] <kimundi> rusti: let a = ~[1, 2, 3, 4]; a.iter().zip(a.iter().skip(1).chain(a.iter())).to_owned_vec()
[11:45:58] -rusti- pastebinned 44 lines of output: http://sprunge.us/IeOa
[11:46:25] <kimundi> rusti: let a = ~[1, 2, 3, 4]; a.iter().zip(a.iter().skip(1).chain(a.iter())).map(|(&a, &b)| (a, b)).to_owned_vec()
[11:46:26] -rusti- ~[(1, 2), (2, 3), (3, 4), (4, 1)]
[11:47:44] *** Joins: quasisphere (btw@DC685DC2.94302614.1D0D91FF.IP)
[11:49:34] *** Joins: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net)
[11:50:08] <Ms2ger> Well, that's... readable? :)
[11:50:16] *** Joins: Ferreus (ferreus@moz-FCC56BFD.pools.arcor-ip.net)
[11:51:16] <kimundi> nlminhtl: Okay, after staring at the algorithm... You basically want to compare every element with every other one?
[11:51:16] <dbaupp> An iterator chain is just an monoid in the category of endofunctors
[11:51:20] <dbaupp> what's the problem? :P
[11:51:34] <kimundi> dbaupp: Hush, you! :)
[11:51:44] *** Joins: stomper (Mibbit@B7279E34.15EA8CAF.3BD9FE04.IP)
[11:51:46] <TeXitoi> is there a cycle() in Iterator ?
[11:51:49] <strcat> yes
[11:51:53] <strcat> it clones the iterator though
[11:52:04] <strcat> not all iterators can be cloned
[11:52:12] <strcat> so in that case you have to make a ~[], fill it, and cycle over it
[11:52:31] <strcat> (immutable vector iterators can be cloned, as can adaptors as long as you don't capture variables in the closures)
[11:52:31] <nlminhtl> kimundi: maybe something like this https://gist.github.com/Ignotus/41b7509e6138a8b05605/raw/1d045ebe2cade6ec2c58b73bcf751860c2902e5e/test.rs
[11:53:01] <TeXitoi> rusti: let a = ~[1, 2, 3, 4]; a.iter().zip(a.iter().skip(1).cycle().map(|(&a, &b)| (a, b)).to_owned_vec()
[11:53:01] -rusti- <anon>:10:4: 10:5 error: incorrect close delimiter: `}`
[11:53:01] -rusti- <anon>:10     };
[11:53:02] -rusti-               ^
[11:53:02] -rusti- application terminated with error code 101
[11:53:13] <TeXitoi> rusti: let a = ~[1, 2, 3, 4]; a.iter().zip(a.iter().skip(1).cycle()).map(|(&a, &b)| (a, b)).to_owned_vec()
[11:53:14] -rusti- ~[(1, 2), (2, 3), (3, 4), (4, 2)]
[11:53:52] <TeXitoi> rusti: let a = ~[1, 2, 3, 4]; a.iter().zip(a.iter().cycle().skip(1)).map(|(&a, &b)| (a, b)).to_owned_vec()
[11:53:53] -rusti- ~[(1, 2), (2, 3), (3, 4), (4, 1)]
[11:53:54] <kimundi> nlminhtl: No idea, as I said I need to understand what the Algorithm actually tries to do before I can think about how to express it with an Iterator :P
[11:54:08] <strcat> TeXitoi: it's prettier if you use a for loop and range() instead of allocating ;p
[11:54:31] <strcat>  rusti: let a = ~[1, 2, 3, 4]; for (&x, &y) in a.iter().zip(a.iter().skip(1).cycle()).map(|(&a, &b)| (a, b)) { println!("{} {}", x, y) }
[11:54:35] <strcat> er
[11:54:41] <strcat> rusti: let a = ~[1, 2, 3, 4]; for (&x, &y) in a.iter().zip(a.iter().skip(1).cycle()).map(|(&a, &b)| (a, b)) { println!("{} {}", x, y) }
[11:54:42] -rusti- pastebinned 16 lines of output: http://sprunge.us/BDAO
[11:54:52] * strcat sighs
[11:54:58] <strcat> rusti: let a = ~[1, 2, 3, 4]; for (&x, &y) in a.iter().zip(a.iter().skip(1).cycle()) { println!("{} {}", x, y) }
[11:54:59] -rusti- 1 2
[11:54:59] -rusti- 2 3
[11:54:59] -rusti- 3 4
[11:54:59] -rusti- 4 2
[11:54:59] -rusti- ()
[11:55:01] <nlminhtl> kimundi: http://en.wikipedia.org/wiki/Line_segment_intersection
[11:55:14] <TeXitoi> strcat: you have to flip skip and cycle
[11:55:29] <strcat> rusti: let a = range(1, 5); for (&x, &y) in a.iter().zip(a.iter().cycle().skip(1)) { println!("{} {}", x, y) }
[11:55:31] -rusti- pastebinned 10 lines of output: http://sprunge.us/ZGHd
[11:55:42] <strcat> rusti: let a = range(1, 5); for (&x, &y) in a.zip(a.cycle().skip(1)) { println!("{} {}", x, y) }
[11:55:44] -rusti- pastebinned 16 lines of output: http://sprunge.us/NNQD
[11:55:49] <strcat> rusti: let a = range(1, 5); for (x, y) in a.zip(a.cycle().skip(1)) { println!("{} {}", x, y) }
[11:55:50] -rusti- 1 2
[11:55:50] -rusti- 2 3
[11:55:51] -rusti- 3 4
[11:55:51] -rusti- 4 1
[11:55:51] -rusti- ()
[11:56:10] <strcat> more allocation == more ugliness :P
[11:58:09] *** Quits: stomper (Mibbit@B7279E34.15EA8CAF.3BD9FE04.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:59:04] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[11:59:31] <nlminhtl> can rust automatic interpret two element tuple as two arguments?
[11:59:38] <kimundi> no
[11:59:59] *** Quits: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de) (Ping timeout)
[12:01:29] <kimundi> rusti: let l = 5; for i in range(0, l - 1) { for j in range(i + 1, l) { println!("{} {}", i, j) } }
[12:01:31] -rusti- pastebinned 11 lines of output: http://sprunge.us/TGhC
[12:02:31] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[12:03:07] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[12:06:38] *** Joins: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP)
[12:07:40] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:08:49] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[12:12:26] *** Quits: z0w0 (zack@moz-5E840EF3.lns3.woo.bigpond.net.au) (Client exited)
[12:13:16] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[12:14:51] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[12:15:02] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[12:16:34] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[12:18:31] *** Joins: [squiddy] (squiddy@moz-1D673223.dynamic.cablesurf.de)
[12:21:10] <nlminhtl> hm, does flat_map return an iterator?
[12:21:23] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Quit: Leaving.)
[12:22:11] <kimundi> nlminhtl: yes
[12:23:44] <nlminhtl> kimundi: but why does it return this error? https://gist.github.com/Ignotus/9e3a6631691ff24b2add
[12:24:38] *** Joins: ofeldt- (ofeldt@moz-CFA3EF2D.dip0.t-ipconnect.de)
[12:25:47] *** Quits: ofeldt (ofeldt@moz-F3C5FC44.dip0.t-ipconnect.de) (Ping timeout)
[12:25:47] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[12:27:15] <dbaupp> nlminhtl: vec_it appears to have type Vector2d, which apparently doesn't implement Iterator?
[12:27:32] *** Joins: mizar99 (onur@A1DE5CDF.38EBB44D.1F67DEBC.IP)
[12:27:41] <kimundi> nlminhtl: Inside the flat_map call, it should evaluate to a Iterator, not to a Vector2D
[12:28:02] <dbaupp> nlminhtl: (wait, I misread the code)
[12:28:03] *** Quits: [squiddy] (squiddy@moz-1D673223.dynamic.cablesurf.de) (Connection reset by peer)
[12:29:58] *** Quits: mizar99 (onur@A1DE5CDF.38EBB44D.1F67DEBC.IP) (Quit: Leaving)
[12:30:32] *** Joins: mizar99 (onur@A1DE5CDF.38EBB44D.1F67DEBC.IP)
[12:31:12] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[12:32:45] <strcat> dbaupp: a mutex is already enormous so I guess it doesn't matter ;p
[12:34:11] <dbaupp> strcat: ... context?
[12:34:16] <strcat> drop flag
[12:34:24] <dbaupp> oh, right.
[12:34:41] <strcat> it's just annoying because...
[12:34:43] <strcat> they nest
[12:34:56] <strcat> end up with so many drop flags
[12:37:41] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[12:45:29] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[12:46:39] *** Parts: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) ()
[12:54:48] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[13:03:32] *** Quits: mixi (mixi@moz-DBD8904A.org) (Ping timeout)
[13:14:11] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[13:15:28] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[13:15:51] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[13:17:16] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[13:19:39] <w3lcome> Hello! I'm learning Rust and I'm trying to interface a C library.
[13:19:53] <w3lcome> I'm following the FFI tutorial https://github.com/mozilla/rust/blob/master/doc/tutorial-ffi.md
[13:20:12] <w3lcome> What should be the Rust type of a C function argument with type const char * const *
[13:20:31] *** Joins: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net)
[13:20:52] <kimundi> **c_char afaik
[13:21:12] <strcat> or just **u8 and don't worry about signed vs. unsigned chars, because it only matters for sign extension
[13:22:09] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[13:22:26] <w3lcome> Thanks that's what I thought. I'm sure that this is a stupid question but I don't remember anything like *u8 in the Rust tutorial.
[13:22:47] <w3lcome> Is this something used only for interfacing foreign code?
[13:23:37] <kimundi> *T is a unsafe pointer, it's mainly used for ffi and very low level stuff
[13:23:38] <strcat> w3lcome: yes, raw pointer
[13:24:00] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[13:24:21] <strcat> w3lcome: generally rust code tries to build safe abstractions with as little unsafe code as possible, and build on those
[13:24:31] <strcat> so you *shouldn't* see unsafe blocks, raw pointers, etc. much
[13:24:51] <strcat> just in low-level code like smart pointers, certain containers, and bindings
[13:26:41] *** Joins: fabiand (fabiand@moz-81D1518D.adsl.alicedsl.de)
[13:27:04] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[13:28:04] *** Quits: GeneralMaximus (ankur@81CF6C90.FF693F8.274D17D6.IP) (Ping timeout)
[13:28:48] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[13:29:40] <w3lcome> strcat: Ok. In src/librustc/lib/llvm.rs there's a pattern for the declaration of opaque pointer types (from LLVM).
[13:29:43] <w3lcome> For example:
[13:29:51] <w3lcome> pub enum Module_opaque {}
[13:29:57] <w3lcome> pub type ModuleRef = *Module_opaque;
[13:30:28] <w3lcome> What is going on with this code?
[13:31:19] <w3lcome> I guess that *Module_opaque has the type of an unsafe pointer to an empty enum?
[13:32:21] *** Joins: GeneralMaximus (ankur@81CF6C90.FF693F8.274D17D6.IP)
[13:33:15] <kimundi> yes
[13:33:55] *** Quits: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP) (Quit: ZNC - http://znc.in)
[13:34:55] *** Joins: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP)
[13:35:27] <strcat> w3lcome: an uninhabited enum (no variants) can never accidentally be created
[13:38:53] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Quit: No Ping reply in 180 seconds.)
[13:39:37] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[13:40:48] *** Quits: nlminhtl (ignotus@moz-BA3DE7EF.volia.net) (Ping timeout)
[13:43:04] *** Quits: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP) (Quit: ZNC - http://znc.in)
[13:44:00] *** Joins: Dessimat0r (Dessimat0r@E879B262.8D4FD984.4320F744.IP)
[13:44:22] *** Joins: g3orge (g3orge@moz-369F78A7.access.hol.gr)
[13:44:49] *** Quits: fabiand (fabiand@moz-81D1518D.adsl.alicedsl.de) (Client exited)
[13:47:41] *** Quits: msch (msch@moz-DA0E34D4.clients.your-server.de) (Ping timeout)
[13:50:02] *** Quits: decoder (quassel@moz-D7023D7D.own-hero.net) (Quit: No Ping reply in 180 seconds.)
[13:50:21] *** Joins: decoder (quassel@moz-D7023D7D.own-hero.net)
[13:51:09] *** Joins: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[13:51:26] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[13:51:27] *** Quits: mizar99 (onur@A1DE5CDF.38EBB44D.1F67DEBC.IP) (Ping timeout)
[13:52:37] *** Quits: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr) (Ping timeout)
[13:54:44] *** Joins: tulloch (tulloch@moz-1EFCD24D.nat.csx.cam.ac.uk)
[13:59:10] *** Quits: tulloch (tulloch@moz-1EFCD24D.nat.csx.cam.ac.uk) (Quit: leaving)
[13:59:16] *** Joins: tulloch (tulloch@moz-1EFCD24D.nat.csx.cam.ac.uk)
[14:01:02] *** Quits: tulloch (tulloch@moz-1EFCD24D.nat.csx.cam.ac.uk) (Quit: leaving)
[14:01:09] *** Joins: tulloch (tulloch@moz-1EFCD24D.nat.csx.cam.ac.uk)
[14:03:16] <kimundi> Hm, figures that nlminhtl quit before I found the solution :P
[14:07:43] *** Quits: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[14:07:51] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[14:07:53] *** Joins: mizar99 (onur@D56E96E7.67E63EB3.1F67DEBC.IP)
[14:07:57] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[14:08:12] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[14:09:10] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[14:09:39] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[14:10:15] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[14:12:12] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[14:13:23] *** Joins: jdm (jdm@moz-ED0C7AC7.hinet-ip.hinet.net)
[14:13:24] *** ChanServ sets mode: +o jdm
[14:13:43] *** Joins: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP)
[14:15:03] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[14:16:01] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[14:16:52] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[14:17:23] <eddyb> rusti: let mut a = &5; a = &5; *a
[14:17:24] -rusti- <anon>:9:17: 9:18 warning: value assigned to `a` is never read [-W dead-assignment (default)]
[14:17:25] -rusti- <anon>:9          let mut a = &5; a = &5; *a
[14:17:25] -rusti-                           ^
[14:17:25] -rusti- 5
[14:17:28] *** Quits: mizar99 (onur@D56E96E7.67E63EB3.1F67DEBC.IP) (Ping timeout)
[14:17:29] <eddyb> err wtf did I do there
[14:17:35] <eddyb> rusti: let mut a = &5; a = &6; *a
[14:17:35] -rusti- <anon>:9:17: 9:18 warning: value assigned to `a` is never read [-W dead-assignment (default)]
[14:17:35] -rusti- <anon>:9          let mut a = &5; a = &6; *a
[14:17:35] -rusti-                           ^
[14:17:36] -rusti- 6
[14:17:40] *** Joins: mizar99 (onur@D56E96E7.67E63EB3.1F67DEBC.IP)
[14:17:43] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[14:19:20] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[14:21:33] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[14:31:21] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[14:31:31] *** Joins: mihneadb (mihneadb@6CBB3868.3689173D.FCAAE698.IP)
[14:34:15] *** Quits: mihneadb (mihneadb@6CBB3868.3689173D.FCAAE698.IP) (Quit: Computer gone to sleep - Zzzz...)
[14:36:16] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[14:36:47] *** Joins: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr)
[14:36:54] *** Joins: duca (amorosi79@moz-F2B5D3A5.retail.telecomitalia.it)
[14:36:58] <duca> ciao
[14:37:04] <duca> !list
[14:37:09] <myname> duca: idiot
[14:37:16] <duca> soreta
[14:37:47] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[14:38:00] *** Quits: duca (amorosi79@moz-F2B5D3A5.retail.telecomitalia.it) (Quit: )
[14:38:39] *** Joins: mib_cfafmq (Mibbit@34B89D1F.D1AE8978.36AE428F.IP)
[14:40:08] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[14:42:05] *** Quits: tulloch (tulloch@moz-1EFCD24D.nat.csx.cam.ac.uk) (Quit: leaving)
[14:42:11] *** Joins: tulloch (tulloch@moz-1EFCD24D.nat.csx.cam.ac.uk)
[14:45:28] <kimundi> Uhm, why can I not bind by-move and by-ref in the same pattern?
[14:52:00] *** Quits: mizar99 (onur@D56E96E7.67E63EB3.1F67DEBC.IP) (Ping timeout)
[14:54:30] *** Quits: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru) (Quit: Kxepal)
[14:54:53] *** Joins: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru)
[14:56:09] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[14:57:41] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[14:57:54] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[14:59:32] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:02:31] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[15:03:50] *** Joins: mixi (mixi@moz-DBD8904A.org)
[15:04:14] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[15:06:26] *** Joins: duca (amorosi79@moz-F2B5D3A5.retail.telecomitalia.it)
[15:06:57] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[15:07:06] *** Quits: duca (amorosi79@moz-F2B5D3A5.retail.telecomitalia.it) (Quit: )
[15:13:44] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[15:15:57] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[15:16:34] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[15:17:40] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[15:18:16] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[15:21:29] *** Joins: mizar99 (onur@D56E96E7.67E63EB3.1F67DEBC.IP)
[15:23:15] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[15:25:33] *** Joins: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[15:28:14] *** Joins: flabbergaster (Mibbit@moz-B234C23B.rev.numericable.fr)
[15:31:14] *** Quits: mizar99 (onur@D56E96E7.67E63EB3.1F67DEBC.IP) (Quit: Leaving)
[15:38:54] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[15:42:13] <TeXitoi> rusti: let tuple = (~1, ~2); let (a, ref b) = tuple;
[15:42:15] -rusti- pastebinned 8 lines of output: http://sprunge.us/IPiX
[15:44:17] *** jorendorff_away is now known as jorendorff
[15:44:36] <eddyb> any chance https://github.com/ehostunreach is in here?
[15:45:10] <w3lcome> it's me
[15:45:31] <eddyb> w3lcome: I can see you watching me :P
[15:45:41] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[15:45:52] <w3lcome> well i'm a noob and I really want to learn Rust! :D
[15:47:30] <eddyb> w3lcome: don't get lost in ES6 code then
[15:48:28] *** jorendorff is now known as jorendorff_away
[15:48:35] <w3lcome> haha! one thing at a time. right now i'm trying to wrap my head around rust's concepts
[15:51:13] *** Quits: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: WeeChat 0.4.3-dev)
[15:52:01] <eddyb> w3lcome: well, wiREd isn't in Rust (yet), so I guess you were just clicking around :)
[15:53:23] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[15:56:44] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[16:01:12] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[16:03:18] *** Quits: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP) (Quit: Leaving)
[16:07:58] *** jorendorff_away is now known as jorendorff
[16:10:41] <kimundi> Does anyone know what macro variable to use for a lifetime name?
[16:10:50] *** Quits: g3orge (g3orge@moz-369F78A7.access.hol.gr) (Quit: leaving)
[16:10:59] <kimundi> type of a macro variable, that is
[16:15:52] *** Joins: reyre (reyre@moz-78892580.hsd1.ca.comcast.net)
[16:16:55] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[16:17:02] *** Quits: reyre (reyre@moz-78892580.hsd1.ca.comcast.net) (Client exited)
[16:17:03] *** Joins: tdc (santegoeds@moz-9E05C5A4.range86-159.btcentralplus.com)
[16:17:07] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[16:18:44] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[16:18:52] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[16:23:00] *** Joins: reyre (reyre@moz-78892580.hsd1.ca.comcast.net)
[16:24:21] <eddyb> http://robotgame.org/home we need to make this work with Rust
[16:24:38] *** Joins: doctor (ARealName@8E6CEFC3.973B116C.67659D25.IP)
[16:24:44] *** Quits: doctor (ARealName@8E6CEFC3.973B116C.67659D25.IP) (Input/output error)
[16:31:05] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:33:37] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[16:34:01] *** Joins: nomadic (nomadic@moz-E01D5C49.hsd1.ga.comcast.net)
[16:36:41] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[16:37:24] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[16:37:52] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[16:38:00] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[16:38:01] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[16:38:26] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[16:38:55] *** Quits: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:39:20] *** Joins: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr)
[16:39:52] *** Quits: reyre (reyre@moz-78892580.hsd1.ca.comcast.net) (Client exited)
[16:44:28] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[16:44:46] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[16:45:11] *** Quits: nomadic (nomadic@moz-E01D5C49.hsd1.ga.comcast.net) (Ping timeout)
[16:46:08] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[16:46:18] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[16:47:56] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[16:48:58] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[16:48:58] *** ChanServ sets mode: +ao brson brson
[16:49:59] *** Joins: haberman (Mibbit@moz-D730FB90.hsd1.wa.comcast.net)
[16:50:08] *** Joins: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP)
[16:51:21] <haberman> how can I iterate over a string 2 characters at a time?
[16:51:55] <haberman> previously I was using range_step() and then using string.substr(), but the latter appears to be gone in 0.8
[16:51:56] <Ms2ger> s.iter().zip(s.iter().skip(1)), perhaps?
[16:52:13] <haberman> and then I realized that in concept, substr() on UTF-8 is slow
[16:52:29] <Ms2ger> Or s.iter().zip(s.iter().skip(1)).map(|a, b| { a + b })
[16:53:04] <eddyb> Ms2ger: that doesn't seem right
[16:53:24] <Ms2ger> Which bit?
[16:53:28] <eddyb> you can probably take the next value when you're iterating or something
[16:53:35] <Ms2ger> The design? :)
[16:53:53] <eddyb> Ms2ger: you create two iterators and they both produce (almost) all the values
[16:54:07] <eddyb> Ms2ger: not only the odd/even ones
[16:54:14] <Ms2ger> Oh, of course
[16:54:53] <Ms2ger> .enumerate().skip(|(_, i)| i % 2 == 0)? :)
[16:54:59] <haberman> yeah I want to run the loop for str[0, 1], str[2, 3], etc. ie once for each pair
[16:55:15] <eddyb> Ms2ger: I would rather take from the iterator
[16:56:27] <eddyb> something like let iter = s.iter(); for c1 in iter {let c2 = iter.next();}
[16:56:35] <eddyb> although I'm not sure how iterators work
[16:56:39] <kimundi> rusti: let s = "abc"; s.iter().zip(s.iter().skip(1).chain(s.iter())).map(|(&a, &b)| (a, b)).to_owned_vec()
[16:56:41] -rusti- pastebinned 8 lines of output: http://sprunge.us/EAhY
[16:56:54] <eddyb> can't this be done without creating two iterators?
[16:56:58] <kimundi> rusti: let s = "abc"; s.iter().zip(s.iter().skip(1).chain(s.iter())).to_owned_vec()
[16:56:59] -rusti- ~[('a', 'b'), ('b', 'c'), ('c', 'a')]
[16:57:19] <eddyb> or fucking three
[16:57:41] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[16:57:49] <eddyb> rusti: "abc".iter().next()
[16:57:50] -rusti- Some('a')
[16:57:52] <sp3d> sure, e.g. use mutable state
[16:58:02] <haberman> looks like I might have to give up on elegance for this one and just find something that will work. :)
[16:58:13] <sp3d> the [1, 2], [3, 4] case doesn't need multiple iters though afaik
[16:58:15] <eddyb> an iterator has mutable state
[16:58:35] <tautologico> you have a complication at the end, if the string size is not even
[16:58:55] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[16:59:04] <sp3d> http://static.rust-lang.org/doc/0.8/std/vec/struct.ChunkIter.html
[16:59:05] <eddyb> rusti: let s = "qwertyuiopasdfghjkl"; let iter = s.iter(); for c1 in iter {let c2 = iter.next(); print!("{:?} ", (c1, c2)}
[16:59:05] -rusti- <anon>:9:123: 9:124 error: incorrect close delimiter: `}`
[16:59:05] -rusti- <anon>:9          let s = "qwertyuiopasdfghjkl"; let iter = s.iter(); for c1 in iter {let c2 = iter.next(); print!("{:?} ", (c1, c2)}
[16:59:05] -rusti-                                                                                                                                     ^
[16:59:05] -rusti- application terminated with error code 101
[16:59:10] <eddyb> rusti: let s = "qwertyuiopasdfghjkl"; let iter = s.iter(); for c1 in iter {let c2 = iter.next(); print!("{:?} ", (c1, c2))}
[16:59:11] -rusti- pastebinned 14 lines of output: http://sprunge.us/BLHD
[16:59:23] <Ms2ger> No, that's not going to work
[16:59:24] <eddyb> rusti: let s = "qwertyuiopasdfghjkl"; let mut iter = s.iter(); for c1 in iter {let c2 = iter.next(); print!("{:?} ", (c1, c2))}
[16:59:26] -rusti- pastebinned 8 lines of output: http://sprunge.us/KNFI
[16:59:35] <eddyb> dammit :(
[16:59:44] <Ms2ger> The for loop already has a mutable handle to it
[16:59:47] <kimundi> I'm pretty sure that llvm will optimize the three iterator approach...
[17:00:08] <haberman> tautologico: true. I would expect the iterator to give me a final short string if necessary.
[17:00:24] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[17:00:24] <eddyb> haberman: in my case, .next returns an option
[17:00:36] <eddyb> *Option<char>
[17:01:03] <eddyb> isn't there a map-like function that can get the iterator itself?
[17:02:13] <kimundi> rusti: "abc".as_bytes().window_iter(2).to_owned_vec()
[17:02:13] -rusti- ~[&[97u8, 98u8], &[98u8, 99u8]]
[17:03:07] <eddyb> no, that's not good
[17:03:25] <haberman> I've lost track, what's our best solution at this point?
[17:03:34] <sp3d> haberman: how much does efficiency matter?
[17:03:34] <eddyb> kimundi: he wants [('a', Some('b')), ('c', None)]
[17:03:47] <tautologico> haberman: did you look at the chunk iterator?
[17:04:02] <kimundi> eddyb: Well, slices would work too
[17:04:12] <eddyb> kimundi: except they're not char-based
[17:04:13] <sp3d> tautologico: that only works on vecs, so you'd have to convert the str to a ~[char]
[17:04:20] <kimundi> eddyb: But the vector windowed_itertor is the wrong approach because utf8
[17:04:46] <haberman> oh, the chunk iter looks great, I can't quite figure out how to use it though
[17:04:46] <sp3d> someone should submit a bug that str needs ChunkIter/WindowIter
[17:04:47] <kimundi> eddyb: So we need a window_iter impl for &str that aligns to chars :P
[17:04:56] <tautologico> sp3d: he can implement Chunk Iter for strings :)
[17:05:02] <sp3d> heh
[17:05:28] <kimundi> haberman: chunk iter will give you ab cd ef, not ab bc cd de ef
[17:05:41] <eddyb> kimundi: he wants ab cd ef
[17:05:44] <haberman> kimundi: that's what I want
[17:06:15] <kimundi> haberman: oh, sorry I misunderstood
[17:06:20] <eddyb> shouldn't ChunkIter be applicable for any Iterator?
[17:06:28] <tautologico> hm, it's a struct
[17:06:36] <tautologico> maybe it should be a trait?
[17:06:56] <kimundi> Where is ChunkIter defined?
[17:07:06] <tautologico> std::vec
[17:07:10] <eddyb> I would just call .next() N times and put it in a vector
[17:07:18] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[17:07:21] <eddyb> and move the entire thing in std::iter
[17:07:21] <haberman> for context, I'm trying to translate a hex string like 03ac4def... into raw bytes. That's why I want to iterate over the string 2 chars at a time, so I can convert each pair into a byte.
[17:07:28] <tautologico> pub struct ChunkIter<'self, T> {
[17:07:29] <tautologico>     priv v: &'self [T],
[17:07:30] <tautologico>     priv size: uint
[17:07:30] <tautologico> }
[17:07:41] <kimundi> You can't use vecs chunck iter
[17:07:44] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Ping timeout)
[17:07:49] <tautologico> yes
[17:08:04] <eddyb> tautologico: yeah, it should be a generic iterator adapter
[17:08:09] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[17:08:17] <tautologico> he can't, but the idea of iterating over N elements instead of N would be useful for other containers, not only vecs
[17:08:25] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[17:08:29] <tautologico> *instead of 1
[17:08:36] <kimundi> haberman: Well, if it'S an hex string then it'S all ascii, right?
[17:09:37] <haberman> kimundi: if it's correct, then yes, but I want to detect errors properly... part of this project is to learn more about Rust and iterating over bytes when logically I want to iterate over chars feels wrong
[17:09:38] <eddyb> maybe he doesn't want a failure when it's not ascii, as opposed to not being a hex string
[17:10:03] <eddyb> haberman: someone should make ChunkIter/WindowIter generic, no idea why they aren't already
[17:10:36] <haberman> gotcha, sounds good. what's my best option given what's in 0.8?
[17:10:47] <eddyb> 0.8? I wouldn't touch that
[17:11:00] <tautologico> 0.8 is old
[17:11:04] <Ms2ger> Ancient!
[17:11:20] <haberman> lol, I see. I guess I shouldn't mention that I was still on 0.6 until last night then.
[17:11:25] <haberman> the only way to Rust is on master then?
[17:11:28] <Ms2ger> Yep
[17:11:33] <tautologico> oof, 0.6!
[17:11:39] <tautologico> pre-historic
[17:11:46] *** Joins: Janko (chatzilla@D9AEFC3E.9E37BD61.9C3D12F2.IP)
[17:11:55] <eddyb> tautologico: definitely pre-me
[17:12:04] <eddyb> ummm... pre-me-um
[17:12:06] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[17:12:15] <haberman> how long does an incremental rebuild take if you're working from master? part of what dissuades me from updating too often is that a full compile takes like 1-2 hours for me.
[17:12:17] <tautologico> I remember checking rust the first time around, it was 0.6
[17:12:26] <tautologico> it's a completely different language now
[17:12:31] <kimundi> haberman: Well... I get what you mean, but you can also detect invalid data without explicitly using chars
[17:12:45] <Ms2ger> eddyb, me? Do you mean Windows ME?
[17:12:54] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[17:12:55] *** ChanServ sets mode: +ao brson brson
[17:13:49] <kimundi> eddyb: WIndowIter and ChunkIter are not generic because we need integers in the types system for that. So that you can Iterate over [T, ..N] elements. Making them allocate a ~[T] for every iteration would work today, but makes no sense performance-wise
[17:13:57] <tautologico> I spotted some bugs in the method docs, should I file an issue or just do a PR?
[17:14:14] <kimundi> tautologico: Yes :P
[17:14:27] <kimundi> tautologico: If you have the time for that, PR
[17:14:36] <tautologico> ok then
[17:14:50] <tautologico> I'm reading the source anyway, it's a bunch of small corrections
[17:15:00] <eddyb> kimundi: they can be generic over [T, ..N]
[17:15:12] <kimundi> eddyb: ... As I said that doesn't work today
[17:15:25] <eddyb> kimundi: that might not work well in the case of left-overs, but it should be fine otherwise
[17:15:45] <kimundi> It does not work at all at the moment...
[17:15:54] <eddyb> kimundi: ChunkIter<CharIter, [char, ..2]> would work ;)
[17:15:56] <sp3d> you can't put an N there; it has to be a literal at present
[17:16:05] *** Joins: abnrngr (user@C31B7093.A9FCDC29.B3C843D.IP)
[17:16:25] <eddyb> but there's some complications which can arise from this - and it's not fully checked :P
[17:16:39] <kimundi> eddyb: No it wouldn't, though it halfway there workaround-wise :P
[17:17:50] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[17:18:35] <kimundi> eddyb: [T, ..N] is completly useless if you don't work with a slice from it
[17:18:47] <kimundi> As long as we can'T express the N generically
[17:19:29] <eddyb> it works for allocating, (although you might need some default trait or uninit()), then you fill it with T values (the T from iterator) - that's where the compiler should help validate it's a [T, ..N], and then you return it, I guess
[17:19:37] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[17:19:40] <eddyb> if you're maping or iterating, you should get a slice
[17:20:28] <eddyb> (I'm all about pushing a language to its limits)
[17:20:42] <kimundi> eddyb: Please believe me if I tell you that that jsut doesn't work right now :( You simply are not able to write the Iterator impl in a way that works with more than one hardcoded window/chucnk size
[17:22:30] <kimundi> You can't yield [T, ..N]'s because it'S not expressible generically, you can't yield &[T] because there is no place to wedge the lifetime into, and yielding  ~[T] is to imperformant to be practicable
[17:23:24] <eddyb> you can't express [T, ..N] generically, but you can have it in a generic type arg
[17:24:10] <kimundi> Which would require enforcing thet T in fixed size vector == T in Iterator, which again means you need to express the N generically
[17:24:55] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[17:25:44] <eddyb> kimundi: why enforce?
[17:26:08] <kimundi> eddyb: Because the types need to match
[17:26:16] <eddyb> do they?
[17:26:20] <eddyb> :P
[17:26:29] <kimundi> yes, we are atypesafe, statically typed language :P
[17:26:53] <Ms2ger> Eh
[17:26:53] <kimundi> rust is*
[17:26:59] <Ms2ger> Javascript can do this! ;)
[17:27:04] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[17:27:17] <eddyb> rusti: fn foo<T, U>(x: T) -> U{x[0]} foo([1, 2])
[17:27:18] -rusti- pastebinned 10 lines of output: http://sprunge.us/YAic
[17:27:35] <eddyb> rusti: fn foo<T, U>(x: T) -> U{x[0]} foo([1u, 2u])
[17:27:36] -rusti- pastebinned 10 lines of output: http://sprunge.us/aYCS
[17:27:56] <eddyb> hmpf
[17:28:11] <eddyb> rusti: fn foo<T, U>(x: T) -> U{x[0]} let y: int = foo([1, 2]); y
[17:28:12] -rusti- <anon>:9:33: 9:36 error: cannot index a value of type `T`
[17:28:12] -rusti- <anon>:9          fn foo<T, U>(x: T) -> U{x[0]} let y: int = foo([1, 2]); y
[17:28:12] -rusti-                                           ^~~
[17:28:12] -rusti- error: aborting due to previous error
[17:28:12] -rusti- application terminated with error code 101
[17:28:45] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Ping timeout)
[17:28:46] <eddyb> this is amusing, since I have code like this which works
[17:28:58] * eddyb hopes he didn't use pointer arithmetic there
[17:29:11] <kimundi> eddyb: What code?
[17:29:19] <Ms2ger> C++ code
[17:29:56] <mletterle> what version of rust is rusti running these days anyway?
[17:30:06] <eddyb> dammit, it is pointer arithmetic :(
[17:30:08] <kimundi> 0.8 because of current git bug
[17:30:25] <mletterle> that's what I thought.
[17:30:47] <eddyb> I think it wasn't working with indexing because it was producing some weird values
[17:31:25] *** Joins: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net)
[17:31:33] <eddyb> i.e. &x[i] would be a pointer to a stack variable
[17:31:41] <eddyb> s/variable/temporary
[17:32:06] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[17:34:13] <eddyb> rusti: fn foo<T, N: Index<uint, T>>(x: N) -> T{x[0]} let y: int = foo([1, 2]); y
[17:34:13] -rusti- <anon>:9:68: 9:71 error: failed to find an implementation of trait std::ops::Index<uint,<V7>> for [int, .. 2]
[17:34:13] -rusti- <anon>:9          fn foo<T, N: Index<uint, T>>(x: N) -> T{x[0]} let y: int = foo([1, 2]); y
[17:34:14] -rusti-                                                                              ^~~
[17:34:14] -rusti- application terminated with error code 101
[17:34:34] <eddyb> now that's just not fair :P
[17:35:01] <eddyb> (can't the compiler automatically impl Index like that?)
[17:35:07] <eddyb> rusti: fn foo<T, N: Index<uint, T>>(x: N) -> T{x[0]} let y: int = foo(~[1, 2]); y
[17:35:07] -rusti- <anon>:9:68: 9:71 error: failed to find an implementation of trait std::ops::Index<uint,<V7>> for ~[int]
[17:35:08] -rusti- <anon>:9          fn foo<T, N: Index<uint, T>>(x: N) -> T{x[0]} let y: int = foo(~[1, 2]); y
[17:35:08] -rusti-                                                                              ^~~
[17:35:08] -rusti- application terminated with error code 101
[17:35:13] <eddyb> hmmm
[17:39:17] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[17:39:49] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[17:39:49] *** ChanServ sets mode: +o pnkfelix
[17:40:52] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[17:41:43] *** jorendorff is now known as jorendorff_away
[17:42:01] *** Quits: mib_cfafmq (Mibbit@34B89D1F.D1AE8978.36AE428F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:45:13] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:45:31] <eddyb> http://static.rust-lang.org/doc/master/std/reflect/index.html so empty
[17:46:23] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[17:50:49] *** Quits: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP) (Quit: tautologico)
[17:51:02] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Ping timeout)
[17:51:31] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[17:53:10] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:54:02] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[17:54:34] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[17:55:41] <eddyb9> I hate myself. one day and so little progress :(
[17:56:29] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[18:00:18] *** Quits: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net) (Quit: freezerburnv)
[18:00:28] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[18:06:40] *** Joins: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP)
[18:07:14] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[18:07:35] <eddyb> rusti: ~5u as ~Add
[18:07:35] -rusti- <anon>:9:17: 9:20 error: wrong number of type arguments: expected 2 but found 0
[18:07:35] -rusti- <anon>:9          ~5u as ~Add
[18:07:36] -rusti-                           ^~~
[18:07:36] -rusti- application terminated with error code 101
[18:07:45] <eddyb> rusti: ~5u as ~Add<uint, uint>
[18:07:46] -rusti- ~std::ops::Add<uint,uint>:Send
[18:08:22] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[18:10:24] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[18:12:51] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[18:14:10] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[18:17:06] <tautologico> for i in count(0, 10) {
[18:17:10] <tautologico> shouldn't that be range?
[18:17:53] <TeXitoi> rusti: for i in count(0, 10) {}
[18:17:53] -rusti- <anon>:9:18: 9:23 error: unresolved name `count`.
[18:17:54] -rusti- <anon>:9          for i in count(0, 10) {}
[18:17:54] -rusti-                            ^~~~~
[18:17:54] -rusti- error: aborting due to previous error
[18:17:54] -rusti- application terminated with error code 101
[18:18:01] <TeXitoi> rusti: for i in range(0, 10) {}
[18:18:01] -rusti- <anon>:9:13: 9:14 warning: unused variable: `i` [-W unused-variable (default)]
[18:18:01] -rusti- <anon>:9          for i in range(0, 10) {}
[18:18:02] -rusti-                       ^
[18:18:02] -rusti- ()
[18:18:14] <TeXitoi> tautologico: yes I suppose
[18:18:16] <SiegeLord> Well, it could be count... if there's a break in that loop
[18:18:19] <tautologico> the code actually compiles if you do use std::tier::count
[18:18:26] <tautologico> but it doesn't work as intended, I think
[18:18:38] <tautologico> std::iter::count
[18:18:55] <TeXitoi> [1,2,3].iter().count()
[18:18:59] <SiegeLord> It's for(int ii = 0;;ii += 10)
[18:19:01] <TeXitoi> rusti: [1,2,3].iter().count()
[18:19:02] -rusti- <anon>:9:9: 10:5 error: this function takes 1 parameter but 0 parameters were supplied
[18:19:02] -rusti- <anon>:9          [1,2,3].iter().count()
[18:19:02] -rusti- <anon>:10     };
[18:19:02] -rusti- error: aborting due to previous error
[18:19:02] -rusti- application terminated with error code 101
[18:19:20] <tautologico> count on an iterator counts how many items satisfy a predicate
[18:19:29] <TeXitoi> ha
[18:19:30] <tautologico> but somehow count(0, 10) compiles
[18:19:48] <SiegeLord> http://static.rust-lang.org/doc/master/std/iter/fn.count.html
[18:19:52] <TeXitoi> strange
[18:20:29] <TeXitoi> SiegeLord: thanks
[18:20:50] <tautologico> I can't see this definition in iter.rs 
[18:21:05] <TeXitoi> rusti: std::iter::count(0,10).take(3).to_owned_vec()
[18:21:06] -rusti- ~[0, 10, 20]
[18:21:22] <eddyb> it doesn't help that rustc takes 1GB of RAM to attempt to compile my file :(
[18:21:26] *** Quits: fyolnish (fyolnish@moz-11A357B.uqwimax.jp) (Client exited)
[18:21:28] <tautologico> oh right, found it
[18:21:37] <tautologico> was searching without the type parameter
[18:21:40] <eddyb> hey, you could use that one file as a benchmark in "are we small yet"
[18:21:57] <tautologico> but I think this code example I'm seeing should be range instead of count
[18:22:12] <eddyb> 1GB usage before "main function not found"
[18:23:41] *** Quits: flabbergaster (Mibbit@moz-B234C23B.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:23:43] <tautologico> I mean this: http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.advance
[18:24:05] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Input/output error)
[18:24:18] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[18:24:55] <SiegeLord> Huh... that example makes no sense
[18:24:56] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[18:25:01] <TeXitoi> tautologico: this exemple is simply completly wrong
[18:25:06] <tautologico> yeah
[18:25:16] <tautologico> it doesn't seem to have much to do with advance in the first place
[18:25:18] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[18:25:19] <TeXitoi> advance was for the old for loop
[18:25:46] <tautologico> ah
[18:26:05] <TeXitoi> range(0, 5).advance(|x| println!("{} ", x); true)
[18:26:10] <TeXitoi> rusti: range(0, 5).advance(|x| println!("{} ", x); true)
[18:26:10] -rusti- <anon>:9:51: 9:52 error: expected `,` but found `;`
[18:26:10] -rusti- <anon>:9          range(0, 5).advance(|x| println!("{} ", x); true)
[18:26:10] -rusti-                                                             ^
[18:26:11] -rusti- application terminated with error code 101
[18:26:29] <TeXitoi> rusti: range(0, 5).advance(|x| {println!("{} ", x); true})
[18:26:31] -rusti- pastebinned 6 lines of output: http://sprunge.us/aTbA
[18:26:54] <TeXitoi> rusti: range(0, 5).advance(|x| {print!("{} ", x); true})
[18:26:55] -rusti- 0 1 2 3 4 true
[18:27:00] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[18:27:47] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[18:29:43] <tautologico> so what should the doc say?
[18:29:56] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[18:30:16] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[18:30:51] <TeXitoi> apply the function to each element of the range or stop if the function return false
[18:31:10] <TeXitoi> but it's quite useless now
[18:31:53] <TeXitoi> rusti: range(0, 5).advance(|x| {print!("{} ", x); x % 3 == 0})
[18:31:54] -rusti- 0 1 false
[18:31:58] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[18:32:46] *** Quits: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP) (Ping timeout)
[18:32:55] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[18:32:55] *** Quits: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:33:55] <TeXitoi> modern rust will be
[18:34:42] <TeXitoi> rusti: for x in range(0, 5) {print!("{} ", x); if x % 3 != 0 {break}}
[18:34:43] -rusti- 0 1 ()
[18:36:12] <tautologico> so it should probably be removed?
[18:38:59] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[18:39:39] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[18:39:42] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[18:39:49] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[18:40:49] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[18:41:33] *** Quits: Janko (chatzilla@D9AEFC3E.9E37BD61.9C3D12F2.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 28.0a1/20131115102756])
[18:43:04] *** Quits: tulloch (tulloch@moz-1EFCD24D.nat.csx.cam.ac.uk) (Ping timeout)
[18:46:26] *** Quits: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP) (Ping timeout)
[18:46:55] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[18:47:24] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[18:47:53] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[18:52:12] *** Quits: meTaAU (admin@moz-B03C7707.lns20.per1.internode.on.net) (Ping timeout)
[18:52:14] *** Joins: fyolnish (fyolnish@moz-7EF29EE7.uqwimax.jp)
[18:52:43] *** Joins: meTaAU (admin@moz-994484A3.lns20.per1.internode.on.net)
[18:55:32] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[18:55:33] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[18:55:43] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[18:57:23] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[18:59:00] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:59:09] *** Quits: tdc (santegoeds@moz-9E05C5A4.range86-159.btcentralplus.com) (Ping timeout)
[18:59:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[18:59:18] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:59:26] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[19:00:28] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[19:00:55] *** Quits: heftig (heftig@moz-E8DF09AF.dip0.t-ipconnect.de) (Ping timeout)
[19:03:22] *** Joins: heftig (heftig@moz-97EC5A2C.dip0.t-ipconnect.de)
[19:03:34] *** Quits: fyolnish (fyolnish@moz-7EF29EE7.uqwimax.jp) (Ping timeout)
[19:05:36] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[19:08:00] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse_)
[19:08:17] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:08:53] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[19:12:54] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[19:17:37] <w3lcome> Is it possible to use the enumarators inside the declaration of a C-like enum in rust, in order to calculate the value of another enumerator?
[19:17:51] <w3lcome> I'm asking because the following produces an ICE
[19:17:53] <w3lcome> enum foo { a = 0x0, b = 0x1, c = (a as int) | (b as int) } 
[19:22:52] <TeXitoi> what's the prefered way to println!(...) in a Writer ?
[19:24:11] *** Joins: vmx (vmx@moz-141F1C3B.pools.arcor-ip.net)
[19:24:40] <mletterle> how do you link to modules with "-" in their name?
[19:25:29] <sfackler> Texitoi: there's write!(w, "{}"
[19:25:33] <sfackler> , ...)
[19:25:52] <sfackler> and maybe writeln?
[19:26:33] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[19:26:53] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[19:26:57] *** jorendorff_away is now known as jorendorff
[19:27:08] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[19:29:27] <mletterle> nvm
[19:29:36] <TeXitoi> sfackler: thanks
[19:30:54] <w3lcome> to answer my own question this is a known issue: https://github.com/mozilla/rust/issues/6474
[19:32:14] *** Joins: fyolnish (fyolnish@moz-84E2BFB1.uqwimax.jp)
[19:33:06] *** Quits: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca) (Quit: WeeChat 0.4.3-dev)
[19:33:49] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:33:58] *** Quits: fyolnish (fyolnish@moz-84E2BFB1.uqwimax.jp) (Ping timeout)
[19:34:29] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[19:34:32] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[19:35:25] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[19:36:06] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[19:36:41] *** Quits: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP) (Quit: tautologico)
[19:37:26] *** Joins: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP)
[19:37:58] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[19:38:52] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[19:43:35] *** Joins: tdc (santegoeds@moz-9E05C5A4.range86-159.btcentralplus.com)
[19:44:08] *** Joins: pnathan2 (Adium@moz-5EBBDD83.tukw.qwest.net)
[19:44:22] *** Quits: pnathan1 (Adium@moz-5EBBDD83.tukw.qwest.net) (Connection reset by peer)
[19:46:02] *** Quits: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP) (Quit: tautologico)
[19:47:00] *** Joins: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP)
[19:48:41] *** Quits: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP) (Quit: tautologico)
[19:48:45] *** Joins: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP)
[19:53:34] *** Quits: etrepum (sid763@moz-5F4AA75A.irccloud.com) (Ping timeout)
[19:53:48] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Ping timeout)
[19:53:48] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[19:54:45] *** Joins: elij (elij@E6C4342E.9D386EAF.AF7F4FE0.IP)
[19:55:12] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[19:56:05] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[19:56:29] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[19:57:31] *** Joins: etrepum (sid763@moz-5F4AA75A.irccloud.com)
[19:57:49] *** pmoore|away is now known as pmoore
[19:58:15] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[19:59:39] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[20:00:19] <eddyb> this is cool (maybe someone can find an use for it) http://gitter.im/
[20:00:24] *** Joins: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP)
[20:01:06] *** pmoore is now known as pmoore|away
[20:03:57] <mletterle> meh.. I'd rather see github integrate IRC...
[20:04:24] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[20:04:33] <Ms2ger> Then again, you're on IRC already :)
[20:05:22] <mletterle> well right.
[20:06:04] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[20:06:17] <vmx> am i reading the docs wrong? why doesn't this work: let f = 2.5f64; f.to_str_hex();
[20:07:08] <SiegeLord> It's a function, not a method
[20:07:18] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[20:07:59] *** Quits: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[20:08:14] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[20:10:43] <vmx> SiegeLord: thanks. i was confused as f.to_str() worked
[20:11:40] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[20:12:28] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[20:12:38] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[20:15:11] *** jorendorff is now known as jorendorff_away
[20:19:12] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[20:20:16] <HollyRain> when I use => let f = match result::Result(...)  I get => unresolved name `result::Result`
[20:20:19] <HollyRain> http://static.rust-lang.org/doc/master/std/result/index.html
[20:22:20] *** Quits: jdm (jdm@moz-ED0C7AC7.hinet-ip.hinet.net) (Ping timeout)
[20:22:26] *** Joins: fyolnish (fyolnish@moz-87CF9472.uqwimax.jp)
[20:22:46] <cmr> HollyRain: Result is a type, you can't call it.
[20:23:01] <cmr> It's also in the prelude, you'd need to `use std::result;` first.
[20:23:45] <HollyRain> I had that
[20:24:07] *** Quits: fyolnish (fyolnish@moz-87CF9472.uqwimax.jp) (Ping timeout)
[20:24:11] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:26:04] <HollyRain> cmr, instead, I had to use io::result
[20:27:19] <cmr> That's an entirely different result :)
[20:27:36] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[20:30:13] <HollyRain> does rustdoc can show the help from an API? i.e. for file::open
[20:30:32] <cmr> http://static.rust-lang.org/doc/master/std/io/fs/struct.File.html#method.open ?
[20:31:45] <HollyRain> I was looking for at http://static.rust-lang.org/doc/master/std/io/index.html but I couldn't
[20:33:02] <cmr> it has a search for a reason
[20:34:10] <HollyRain> yea, because it's hard to find
[20:35:36] <SiegeLord> You just click File and then scroll down to the open method?
[20:35:48] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[20:35:54] *** Quits: tdc (santegoeds@moz-9E05C5A4.range86-159.btcentralplus.com) (Ping timeout)
[20:38:42] *** Joins: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net)
[20:40:31] *** Quits: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (Quit: bye, bye)
[20:41:48] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[20:48:41] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Quit: Linkinus - http://linkinus.com)
[20:55:10] <jvshahid> clear
[20:57:24] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:59:08] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[20:59:29] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[21:00:47] *** Quits: Ferreus (ferreus@moz-FCC56BFD.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[21:03:20] *** Joins: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net)
[21:04:10] *** Quits: Jackneill (Jackneill@moz-957B2FD5.pool.digikabel.hu) (Input/output error)
[21:04:49] *** Parts: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) ()
[21:05:32] *** Joins: jordyd (jordyd@moz-A900587A.seg38.ucf.edu)
[21:06:45] *** Quits: Boreeas (Boreeas@moz-F35C832D.boreeas.net) (Ping timeout)
[21:09:32] *** Quits: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net) (Quit: freezerburnv)
[21:09:46] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[21:10:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:12:36] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[21:13:05] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[21:13:34] *** Quits: Ms2ger (Ms2ger@AB9469A5.3CF91143.187A1082.IP) (Quit: nn)
[21:13:42] *** Joins: Boreeas (Boreeas@moz-F35C832D.boreeas.net)
[21:14:04] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:14:13] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[21:14:52] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Ping timeout)
[21:18:16] *** Joins: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca)
[21:19:20] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[21:19:26] <eddyb9> is it unusual that I have a single file using 1GB during (presumably) parsing?
[21:19:38] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[21:19:54] <cmr> the peak is usually immediately before llvm
[21:20:40] <eddyb9> where is "missing main function" thrown from?
[21:21:16] <eddyb9> well, it's after resolve, which is what I think was giving me errors before
[21:22:22] <cmr> middle/entry.rs
[21:22:36] *** Joins: fyolnish (fyolnish@moz-41C8F6BF.uqwimax.jp)
[21:23:20] <eddyb9> and I was getting a SIGSEGV when I had many references to inexistent functions
[21:23:40] <cmr> how largeis this file?
[21:23:41] <eddyb9> while it was printing errors
[21:24:07] <eddyb9> eeeh, I think I put it on gist, I can't grab it from my laptop atm
[21:24:19] <cmr> df -hs :P
[21:24:20] <eddyb9> cmr: https://gist.github.com/eddyb/f37442c4ace4a1c17368
[21:24:23] <cmr> or, du
[21:24:45] <eddyb9> download as raw if you want to test, but I don't think it's close to compileable
[21:25:00] <eddyb9> might be at the SIGSEGV stage, though
[21:25:09] <cmr> 2.7M
[21:25:24] <eddyb9> and line count?
[21:25:38] <cmr> 9k
[21:25:43] <eddyb9> there's 2k of runtime, I think
[21:25:48] <cmr> 9.8k, exactly
[21:26:11] <eddyb9> almost every line apart from those first 2k or so is a "table" entry
[21:26:16] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[21:26:38] <cmr> I don't think the compiler has been tested with programs this large yet.
[21:26:45] <SiegeLord> That's nearly as all of librustc :P
[21:26:50] <SiegeLord> *as large
[21:27:06] <eddyb9> I should profile by stage, is there a -Z option for mem usage?
[21:27:13] <eddyb9> SiegeLord: well, fuck
[21:27:20] <cmr> eddyb9: no
[21:27:40] <cmr> later I can feed it through http://huonw.github.io/isrustfastyet/mem/
[21:27:49] <eddyb9> I might just stop it at an earlier stage
[21:27:58] <eddyb9> cmr: when I get it working, sure
[21:28:32] <cmr> SiegeLord: hm, you're right, librustc is 3.4M!
[21:28:35] <cmr> That surprises me
[21:29:01] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[21:29:35] *** Quits: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP) (Quit: WeeChat 0.4.2)
[21:29:36] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Quit: Leaving)
[21:29:43] <eddyb9> arguably, x86_16 is larger because of segments and the weird combinations that aren't linear acceses on vectors of registers
[21:29:51] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[21:30:19] <cmr> eddyb9: larger htan what?
[21:30:44] <eddyb9> cmr: than x86. I mean, larger than one could expect
[21:30:59] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[21:31:07] <eddyb9> arm also has some nasty multiplication problem because of the condition codes
[21:31:09] *** Quits: fyolnish (fyolnish@moz-41C8F6BF.uqwimax.jp) (Ping timeout)
[21:31:12] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[21:31:33] <sfackler> If I have some memory that's written once by one thread and then read after that by many threads, do I have to put the data in an AtomicFoo, write to it with Release and read it with Acquire?
[21:31:51] <sfackler> or is there some memory barrier for forcing a write to be propogated
[21:32:24] <eddyb9> cmr: imagine compiling all architectures at the same time. 3GB total
[21:32:29] <eddyb9> holy crap
[21:32:37] <sfackler> (the "and then" part is synchronized so it should actually be a happens-after thing)
[21:33:25] <eddyb9> cmr: I'm almost glad I have the runtime as part of each architecture's output, then I can have them as completely different crates
[21:33:33] *** Quits: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca) (Quit: WeeChat 0.4.3-dev)
[21:33:56] <eddyb9> or, I don't freaking know.... I don't know
[21:34:20] <eddyb9> cmr: this is auto-generated from relatively small files, it's a bit of a shock
[21:34:49] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[21:35:30] <eddyb9> even with errors, I still can't use my laptop while compiling
[21:36:18] <eddyb9> I think my right eye is hurting, it's been a looong day
[21:36:27] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[21:36:50] <eddyb9> and I've got a rustc memory benchmark to show for this weekend
[21:37:31] <eddyb9> pcmattman: I don't think you'd like needing 1GB to build rustic, just for VBE :P
[21:37:41] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[21:37:59] *** Quits: Jesin (Jesin@moz-63C897DA.res.lehigh.edu) (Connection reset by peer)
[21:38:51] *** Quits: garthk (garth@moz-B118B14A.static.internode.on.net) (Quit: garthk)
[21:39:13] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:41:38] <eddyb9> cmr: oh, here's an idea: I could test with regular x86 or even 8051 (much smaller)
[21:41:59] <eddyb9> well, too late now, I have to sleep
[21:42:32] *** Joins: toddaaro_ (toddaaro@moz-98F46974.us)
[21:42:48] *** Quits: toddaaro_ (toddaaro@moz-98F46974.us) (Quit: leaving)
[21:44:48] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[21:45:29] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[21:46:16] *** Joins: prooftechnique (prooftechn@moz-65B7D4EE.hsd1.vt.comcast.net)
[21:48:16] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[21:48:16] *** ChanServ sets mode: +ao dherman dherman
[21:49:34] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[21:49:52] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[21:49:58] *** Joins: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca)
[21:53:37] *** Quits: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:56:30] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[21:57:14] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[21:57:50] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[21:58:19] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:59:07] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[22:00:02] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[22:01:23] *** Joins: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net)
[22:04:10] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[22:05:49] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[22:08:04] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[22:08:51] *** Quits: huseby (huseby@moz-8F605F11.chrismail.de) (Quit: Leaving)
[22:09:13] *** Joins: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com)
[22:09:28] <HollyRain> how to run the tests?
[22:09:54] <HollyRain> functions marked as unit tests
[22:10:18] <cmr> rustc --test foo.rs
[22:10:20] <cmr> ./foo
[22:12:00] <HollyRain> thx
[22:12:27] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[22:13:23] *** Joins: balpert_ (uid15886@moz-A42E5B7B.irccloud.com)
[22:13:31] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:13:59] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[22:14:05] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:14:06] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:15:34] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[22:15:41] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Client exited)
[22:15:42] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[22:15:55] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:16:49] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[22:17:54] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[22:17:57] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[22:18:05] *** Quits: HollyRain (HollyRain@moz-50A83091.dyn.user.ono.com) (Quit: bye, bye)
[22:21:03] *** Joins: mr_trousers (Mibbit@moz-B234C23B.rev.numericable.fr)
[22:22:17] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[22:22:27] *** Joins: fyolnish (fyolnish@moz-55B00C79.uqwimax.jp)
[22:24:09] *** Quits: fyolnish (fyolnish@moz-55B00C79.uqwimax.jp) (Ping timeout)
[22:27:22] *** Quits: vmx (vmx@moz-141F1C3B.pools.arcor-ip.net) (Ping timeout)
[22:30:15] *** Joins: vmx (vmx@moz-141F1C3B.pools.arcor-ip.net)
[22:31:53] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:31:54] *** ChanServ sets mode: +ao dherman dherman
[22:32:38] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[22:34:24] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[22:36:29] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[22:37:37] *** Quits: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net) (Quit: freezerburnv)
[22:39:05] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[22:39:16] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[22:43:06] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[22:44:53] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[22:45:20] *** Joins: jdm (jdm@moz-ED0C7AC7.hinet-ip.hinet.net)
[22:45:20] *** ChanServ sets mode: +o jdm
[22:46:53] *** Quits: pnathan2 (Adium@moz-5EBBDD83.tukw.qwest.net) (Quit: Leaving.)
[22:49:03] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[22:51:17] *** Joins: moostik (Icedove@moz-4AD91EE4.w82-121.abo.wanadoo.fr)
[22:53:18] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:55:26] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:55:50] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[22:57:18] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[22:57:31] *** Joins: micahw (mwylde@moz-C0E38A24.dsl.static.sonic.net)
[22:57:44] *** Quits: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net) (Quit: Leaving)
[22:59:14] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[23:00:54] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[23:04:32] *** Joins: reyre (reyre@moz-22F2351B.core.archive.org)
[23:05:10] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Quit: Leaving.)
[23:05:27] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[23:07:03] *** Quits: reyre (reyre@moz-22F2351B.core.archive.org) (Client exited)
[23:08:20] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[23:08:30] *** Quits: mr_trousers (Mibbit@moz-B234C23B.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[23:13:31] *** Joins: reyre (reyre@moz-22F2351B.core.archive.org)
[23:14:13] *** Joins: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP)
[23:14:22] *** Quits: reyre (reyre@moz-22F2351B.core.archive.org) (Client exited)
[23:16:00] *** Joins: benh (ben@moz-4A0366D2.org)
[23:18:56] *** Joins: Jesin (Jesin@moz-63C897DA.res.lehigh.edu)
[23:19:17] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[23:20:09] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[23:20:19] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[23:21:40] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[23:21:42] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[23:22:18] *** jorendorff_away is now known as jorendorff
[23:22:22] *** Joins: fyolnish (fyolnish@moz-40B39461.uqwimax.jp)
[23:22:24] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[23:23:32] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[23:24:08] *** Quits: fyolnish (fyolnish@moz-40B39461.uqwimax.jp) (Ping timeout)
[23:34:16] *** Quits: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca) (Quit: WeeChat 0.4.3-dev)
[23:35:00] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[23:35:01] *** Quits: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP) (Ping timeout)
[23:36:37] *** Joins: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca)
[23:36:53] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[23:38:33] *** jorendorff is now known as jorendorff_away
[23:41:24] *** Joins: reyre (reyre@moz-22F2351B.core.archive.org)
[23:45:52] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[23:46:07] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[23:46:50] *** Quits: reyre (reyre@moz-22F2351B.core.archive.org) (Client exited)
[23:50:51] *** Quits: tautologico (iorek@4FCDF73C.2F29D054.7B974E06.IP) (Quit: tautologico)
[23:55:12] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
