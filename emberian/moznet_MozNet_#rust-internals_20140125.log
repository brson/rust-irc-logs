[00:02:31] *** tabraldes_ is now known as TimAbraldes
[00:06:36] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[00:06:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/0qhQcg
[00:06:36] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[00:07:04] *** flaper87 is now known as flaper87|afk
[00:11:33] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[00:11:33] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/0SsTgA
[00:11:33] <ghrust> 13rust/06auto 14e70ca23 15Brian Anderson: native: Don't use timerfd on Android...
[00:11:33] <ghrust> 13rust/06auto 14dc48adc 15bors: auto merge of #11748 : brson/rust/timerfdandroid, r=alexcrichton...
[00:11:33] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[00:11:35] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[00:11:35] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/bf-dFA
[00:11:35] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:17:59] *** Joins: dbaupp (Thunderbir@moz-68C83524.lns20.syd6.internode.on.net)
[00:38:22] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[00:40:14] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[00:40:59] *** kimundi is now known as zz_kimundi
[00:41:33] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[01:01:01] *** Joins: canhtak (canhtak@moz-94ED4C91.wl.t.ulaval.ca)
[01:24:27] <brson> i may turn on android gating this weekend to see what happens
[01:26:30] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[01:26:30] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/0SsTgA
[01:26:30] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[01:31:46] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:31:46] <ghrust> 01[13rust01] 15bors pushed 7 new commits to 06auto: 02http://git.io/WO3N_Q
[01:31:47] <ghrust> 13rust/06auto 145a4aaa2 15Corey Richardson: Add support for arbitrary flags to MemoryMap....
[01:31:47] <ghrust> 13rust/06auto 14326d57f 15Corey Richardson: Use `mmap` to map in task stacks and guard page...
[01:31:47] <ghrust> 13rust/06auto 14c78a5bd 15Corey Richardson: Update task-perf-one-million
[01:31:49] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:45:50] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:47:38] <pcwalton> nmatsakis: did you do any work on unboxed closures yet
[01:47:41] <pcwalton> or am I imagining things?
[01:47:42] <pcwalton> I thought you did
[01:51:32] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[01:51:32] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b2ad9d5 to 14dc48adc: 02http://git.io/N3iJvQ
[01:51:32] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[01:51:33] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[01:51:33] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/jh7xoQ
[01:51:33] <ghrust> 13rust/06auto 142c5b04c 15Virgile Andreani: Replace '*' by '..' in the doc of pattern matching
[01:51:33] <ghrust> 13rust/06auto 147b1d124 15Virgile Andreani: Add '@' subpattern binding and examples to manual and tutorial
[01:51:33] <ghrust> 13rust/06auto 1472e8889 15bors: auto merge of #11764 : Armavica/rust/doc_patmatch, r=pcwalton...
[01:51:35] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:56:15] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:03:15] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[02:03:47] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:05:30] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[02:14:44] <nmatsakis> pcwalton: no, I've been working on fixing up borrowck treatment of clsoures so it's soun d-- actually that branch builds now
[02:15:00] <nmatsakis> I just want to raise some interesting questions about how strict we ought to be
[02:16:05] <nmatsakis> pcwalton: what do we use reflection for right now? just `{:?}`?
[02:16:10] <pcwalton> pretty much yeah.
[02:16:20] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[02:16:44] <nmatsakis> I do wonder if it carries its weight. Of course it might be useful for GC tracing or something in the future.
[02:16:56] <nmatsakis> pcwalton: I saw some really interesting research about creating good error messages here
[02:17:05] <nmatsakis> it seems to be directly applicable to region inference
[02:17:21] <pcwalton> yeah, I'm not sure if it carries its weight.
[02:17:28] <nmatsakis> also I kind of hate it
[02:17:31] <nmatsakis> :)
[02:17:36] <nmatsakis> so I'm biased
[02:17:50] <pcwalton> yup
[02:17:55] <nmatsakis> but it seems like we could get 90% of `{:?}` with #[deriving(Format)]` or something
[02:20:28] <pcwalton> yeah
[02:20:35] <pcwalton> I'd be fine with talking about dropping it
[02:21:21] <dbaupp> Another point against {:?}: format!("{:?}", 1) is >10x slower to compile than "{}".
[02:21:57] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: leaving)
[02:23:23] * cmr would like to drop reflection..
[02:25:43] *** Quits: jdm (jdm@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: Lost terminal)
[02:58:28] *** Quits: gwty (gwtypc@223388BD.59B7E344.137C914F.IP) (Ping timeout)
[03:06:59] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[03:06:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/jh7xoQ
[03:06:59] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[03:11:43] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[03:11:43] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/3pel-Q
[03:11:43] <ghrust> 13rust/06auto 140f36438 15Seo Sanghyeon: Remove reexport field
[03:11:43] <ghrust> 13rust/06auto 147c028c9 15bors: auto merge of #11772 : sanxiyn/rust/reexport, r=cmr...
[03:11:43] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[03:11:44] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[03:11:44] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/VndwFA
[03:11:44] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[03:12:58] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:13:02] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:14:32] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[03:16:13] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[03:18:49] *** Joins: gwty (gwtypc@223388BD.59B7E344.137C914F.IP)
[03:21:31] *** Quits: gwty (gwtypc@223388BD.59B7E344.137C914F.IP) (Ping timeout)
[03:34:43] *** Quits: zz_kimundi (kimundi@moz-D234AB83.dip0.t-ipconnect.de) (Ping timeout)
[03:38:48] *** Joins: zz_kimundi (kimundi@moz-B18493E2.dip0.t-ipconnect.de)
[03:38:50] *** zz_kimundi is now known as kimundi
[03:44:37] <sfackler> pcwalton: ping
[03:46:15] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Ping timeout)
[03:47:08] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[04:08:54] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[04:11:09] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:26:33] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[04:26:33] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/3pel-Q
[04:26:33] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[04:31:39] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[04:31:39] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/Dv9C3w
[04:31:39] <ghrust> 13rust/06auto 1486a8b03 15Steven Fackler: Move macro_rules! macros to libstd...
[04:31:39] <ghrust> 13rust/06auto 143ba916d 15Steven Fackler: Delete ignore! macro...
[04:31:40] <ghrust> 13rust/06auto 14de57a22 15bors: auto merge of #11774 : sfackler/rust/move-macros, r=pcwalton...
[04:31:41] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[04:37:42] *** Joins: dherman (dherman@32D1164B.EE0ADED3.2C01E229.IP)
[04:37:43] *** ChanServ sets mode: +ao dherman dherman
[04:39:12] *** Quits: dherman (dherman@32D1164B.EE0ADED3.2C01E229.IP) (Quit: dherman)
[04:42:08] *** Joins: lkuper (lkuper@6FA5FA9.52E2F3EF.FBBA4BA2.IP)
[04:43:16] <acrichto> what should the first thing to move out of libextra be?
[04:43:20] <acrichto> I need something to test on
[04:43:43] <acrichto> maybe terminfo/term, it seems nice and meaty
[04:44:46] <nmatsakis> acrichto: moving into what?
[04:44:56] <acrichto> just in teh rust repo
[04:44:59] <acrichto> splitting off crates
[04:45:04] <acrichto> I rewrote the build system to make it easy to do that
[04:45:05] <nmatsakis> ah
[04:45:12] <nmatsakis> you the man
[04:45:21] <acrichto> 10 files changed, 522 insertions(+), 972 deletions(-)
[04:45:22] <acrichto> :D
[04:45:30] * nmatsakis ponders how ridiculous he sounds writing things like "you the man"
[04:45:36] <acrichto> lol
[04:45:52] <nmatsakis> I've just caught up on ~2 weeks of github issue mail
[04:46:03] <nmatsakis> what a busy project we have
[04:46:05] <acrichto> power mode!
[04:46:13] <nmatsakis> mostly I just held down the D button ;)
[04:46:18] <acrichto> hehe
[04:46:25] <acrichto> bors sends lots of mail
[04:46:31] <nmatsakis> yes, but I kind of appreciate it,
[04:46:33] <nmatsakis> bceause with all the bors mails,
[04:46:41] <nmatsakis> I can mostly scan the titles while holding down D
[04:46:46] <nmatsakis> and they stay on the screen *just* long enough
[04:46:50] <acrichto> hehe
[04:46:58] <acrichto> flate, I'm gonna make libflate
[04:47:14] <nmatsakis> so I found that Cell is unsound.
[04:47:17] <nmatsakis> just now.
[04:47:19] <nmatsakis> just a tiny thing 
[04:47:21] <acrichto> didn't you fix that?
[04:47:25] <acrichto> with the Invariant<T>?
[04:47:30] <nmatsakis> oh, yes, but I meant in another way
[04:47:35] <acrichto> oh dear
[04:47:41] <nmatsakis> so, we added this Pod type,
[04:47:42] <acrichto> sounds like interior mutability is hard...
[04:47:46] <nmatsakis> no no it's not that serious
[04:47:51] <nmatsakis> it's just that we added this Pod type,
[04:47:56] <nmatsakis> so as to avoid calling clone() in the get() method,
[04:48:07] <nmatsakis> because of the possibility
[04:48:11] <nmatsakis> of some evil type T using its clone method
[04:48:13] <nmatsakis> to mutate the cell
[04:48:18] <nmatsakis> anyway,
[04:48:28] <nmatsakis> then we went and added #[deriving(Clone)]
[04:48:32] <nmatsakis> which of course just calls clone()
[04:48:34] <nmatsakis> :
[04:48:35] <nmatsakis> :)
[04:48:38] <acrichto> oh lol
[04:48:53] <nmatsakis> I fixed it in my branch that adds the invariant tag
[04:49:53] * nmatsakis codes up a test 
[04:52:41] <nmatsakis> acrichto: so I saw this kind of neato research on error reporting
[04:52:58] <nmatsakis> I am hoping we can apply it to region errors
[04:53:31] <acrichto> was that setting everything to free variables that pcwalton was talking about?
[04:53:38] <nmatsakis> no
[04:53:39] <acrichto> and then attempting to solve?
[04:53:48] <nmatsakis> it's rather more sophisticated
[04:53:52] <acrichto> oh even more better errors!
[04:53:55] <nmatsakis> but very applicable to what we do
[04:54:00] <acrichto> what would it look like?
[04:54:12] <nmatsakis> well, there are a couple parts,
[04:54:20] <nmatsakis> one part was some heuristics for figuring out which constraints
[04:54:26] <nmatsakis> in the full set of constraints
[04:54:30] <nmatsakis> are most likely to be the source of the error
[04:54:48] <nmatsakis> this involves basically computing some probabilites using bayesian techniques,
[04:54:51] <nmatsakis> :)
[04:54:54] <nmatsakis> whatevre those are
[04:55:03] <acrichto> that sounds intense hehe
[04:55:08] <nmatsakis> they had an equation, so that's already 22x more sophisticated than what we do :)
[04:55:15] <acrichto> lol
[04:55:21] <acrichto> "we have math in the compiler!"
[04:55:23] <acrichto> *serious* math
[04:55:32] <nmatsakis> anyway I have to read the papers,
[04:55:33] <nmatsakis> I just saw the talk
[04:55:41] <nmatsakis> but bsaically it's some techniques to try and find the real source of the error
[04:55:55] <nmatsakis> more-or-less try to find the smallest set of constraints that can explain the problem
[04:56:18] <acrichto> if we can take our already-awesome errors and make them *even more* awesome, that'd be .... awesome
[04:56:19] <acrichto> !
[04:56:21] <nmatsakis> on top of this I think we can give more informative messages and so on
[04:56:33] <nmatsakis> there was another talk showing techniques for reporting specific suggestions
[04:56:33] <acrichto> that would make many people very happy
[04:56:57] <nmatsakis> but that sounded much more difficult
[05:02:06] *** Quits: lkuper (lkuper@6FA5FA9.52E2F3EF.FBBA4BA2.IP) (Quit: lkuper)
[05:06:30] *** Joins: lkuper (lkuper@6FA5FA9.52E2F3EF.FBBA4BA2.IP)
[05:12:03] *** Quits: Kxepal (Miranda@moz-98E14614.pppoe.mtu-net.ru) (Ping timeout)
[05:15:09] *** Joins: Kxepal (Miranda@moz-D046FA40.pppoe.mtu-net.ru)
[05:24:35] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[05:25:35] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:31:14] *** Quits: new_one (new_one@12F1C6D9.92B2BFC6.B3C0173E.IP) (Client exited)
[05:42:57] <sfackler> acrichto: do you have any idea why the expansion logic for item decorator extensions like deriving works like it does?
[05:43:27] <acrichto> dbaupp wrote large chunks of it, he may know
[05:43:52] <sfackler> dbaupp: ^?
[05:46:31] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[05:46:31] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/Dv9C3w
[05:46:31] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[05:51:31] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[05:51:32] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/15fJQw
[05:51:32] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[06:06:43] <nate> SimonSapin: are you planning to tackle https://github.com/mozilla/rust/issues/11733 ? I could probably do it if not.
[06:09:20] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[06:09:33] *** Quits: angdev (uid7041@moz-E77DEB21.irccloud.com) (Ping timeout)
[06:09:41] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[06:09:58] *** Joins: angdev (uid7041@moz-E77DEB21.irccloud.com)
[06:26:30] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[06:26:30] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/488jCQ
[06:26:30] <ghrust> 13rust/06auto 1435e26e9 15Alex Crichton: Fix a spuriously tripped assert in select()...
[06:26:30] <ghrust> 13rust/06auto 14327c4dc 15bors: auto merge of #11775 : alexcrichton/rust/select-fix, r=pcwalton...
[06:26:31] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[06:26:32] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[06:26:33] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147974fc8 to 14de57a22: 02http://git.io/N3iJvQ
[06:26:33] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[06:38:36] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:01:44] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[07:01:44] <ghrust> 01[13rust01] 15bors pushed 11 new commits to 06auto: 02http://git.io/tCItyg
[07:01:44] <ghrust> 13rust/06auto 14a24c871 15Alex Crichton: Add an AtomicU64 type to std::sync::atomics...
[07:01:44] <ghrust> 13rust/06auto 1490adeb0 15Alex Crichton: Enable the +v7 feature on Android by default...
[07:01:45] <ghrust> 13rust/06auto 14454ece1 15Alex Crichton: extra: Make room for more sync primitives
[07:01:46] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[07:09:41] *** Quits: canhtak (canhtak@moz-94ED4C91.wl.t.ulaval.ca) (Quit: canhtak)
[07:15:33] <dbaupp> sfackler: I only wrote #[deriving] not the item decorator expansion
[07:15:37] <dbaupp> *rewrote
[07:15:54] <dbaupp> I basically didn't touch anything outside of ext::deriving for that
[07:24:27] *** Quits: madmoose (Hat@moz-E1973371.nerp.net) (Ping timeout)
[07:24:35] *** Joins: madmoose (Hat@moz-E1973371.nerp.net)
[07:32:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[07:33:24] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:35:05] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[07:55:37] <dbaupp> sfackler: did you happen to write any docs for #[macro_export] and #[phase] etc.?
[07:56:24] <sfackler> nope
[07:56:49] <sfackler> I should do that at some point
[07:57:23] <sfackler> what I was wondering wrt item decorator expansion is why it does the weird thing of passing the expanding array of items through all of the decorators
[07:57:53] <sfackler> that seems weird and super fragile if any decorators actually depend on anything being in that array except for the item itself
[08:00:39] <dbaupp> maybe history?
[08:00:56] <dbaupp> (i.e. historically there was some restriction that required that construct)
[08:00:59] * dbaupp shrugs
[08:06:38] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[08:06:38] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/6V0BpQ
[08:06:38] <ghrust> 13rust/06auto 147866713 15Alex Crichton: Generate properly aligned atomic loads/stores
[08:06:38] <ghrust> 13rust/06auto 145281d21 15bors: auto merge of #11610 : alexcrichton/rust/atomic-u64, r=brson...
[08:06:38] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[08:08:43] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[08:10:13] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[08:11:57] *** Quits: lkuper (lkuper@6FA5FA9.52E2F3EF.FBBA4BA2.IP) (Quit: lkuper)
[08:12:51] <acrichto> dbaupp: got a sec to talk about #11773?
[08:18:08] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:18:22] <dbaupp> acrichto: yeah, a little
[08:19:13] <acrichto> I got the impression you could remove all the invasiveness by just providing a more generic error message?
[08:19:22] <acrichto> it seemed like all the wrappers were just to keep track of what context you were in
[08:19:35] <acrichto> was the context used for something else though?
[08:19:45] <dbaupp> not quite; they need to keep track of if they're in a context in which they should warn
[08:19:54] <dbaupp> i.e. whether they're in an exported thing or not
[08:20:00] <acrichto> recursing in a struct/enum should be done manually
[08:20:13] <acrichto> hm...
[08:20:13] <dbaupp> and fns & methods too?
[08:20:26] <acrichto> those just need a two line change to visit_fn though
[08:20:31] <acrichto> let old = ...;
[08:20:33] <acrichto> self.cur = ...;
[08:20:35] <acrichto> self.cur = old;
[08:20:41] <dbaupp> hm
[08:20:54] <acrichto> basically, I like the lint, but I'm worried about maintaining it when we add more lints
[08:21:01] <dbaupp> I guess this might not be as bad as I first thought
[08:21:03] <acrichto> if we could self-contain it as much as possible that'd be awesome
[08:21:19] <acrichto> wrappers around the whole visit_fn thing in Context is fine
[08:21:27] <acrichto> probably not with closures though
[08:21:30] <acrichto> just a small state
[08:21:31] <dbaupp> yeah, I didn't like having like 3 different higher-order-functions to handle different things :(
[08:21:49] <acrichto> this would sacrifice on the quality of the error message
[08:21:52] <acrichto> but I think it's ok
[08:22:17] <dbaupp> well, if we're manually recursing through struct fields and enum variants then it should be ok there.
[08:22:33] <acrichto> yeah that sort of manual recursion is fine, you know it's easy to do
[08:22:50] <acrichto> some visit method in middle::ty may even be able to do it for you
[08:22:52] <dbaupp> wait... why should we manually scan struct fields when there's visit_struct_field, which handles structs and struct-enum variants
[08:22:52] <acrichto> dunno though
[08:23:32] <acrichto> wait so using middle::ty
[08:23:39] <acrichto> we already have structural iteration to infer Send/Freeze
[08:23:48] <acrichto> this could piggy-back on that iteration, no?
[08:23:54] <acrichto> then you'd only start the iteration from an item level
[08:24:04] <acrichto> instead of carrying the state across the visitor
[08:24:09] *** Joins: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net)
[08:24:33] <dbaupp> well, iterating through a ty isn't the fundamental problem
[08:24:53] <dbaupp> wait
[08:25:18] <acrichto> if this does end up needing a pretty serious chunk of code, I'd rather it move to middle::privacy and just generate some results from in there
[08:25:21] <dbaupp> unless you were saying that it iterates through a struct/enum AST definition?
[08:25:33] <dbaupp> yeah, I may end up playing with that
[08:25:33] * acrichto looks
[08:26:11] <acrichto> a contained pass in the privacy module I would also be ok with
[08:26:17] <acrichto> with add_lint
[08:26:23] <dbaupp> this could take me a little while so I'll submit the non-controversial publicisations of std and extra as a separate PR and work on the actual lint separately
[08:26:25] <dbaupp> ok, that sounds good.
[08:26:35] <acrichto> cool
[08:26:37] <acrichto> thanks btw
[08:26:44] <acrichto> I love new lints
[08:26:44] <acrichto> !
[08:27:23] * dbaupp likes the plethora of lints we have too
[08:28:32] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:41] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:41] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:30:12] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:30:28] <strcat> acrichto: https://github.com/thestinger/packages/commit/15e9b32792c2652b6cf098f4fa69f97d5c35ff54 \o/
[08:30:49] <acrichto> nice!
[08:34:00] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[08:38:16] <bjz> acrichto: I see lots of `|x| x.clone()`, `|&x| x` and `|x| *x` - do you think we should have a free-standing clone fn?
[08:38:45] <bjz> eg. .map(clone)
[08:39:15] <bjz> fn clone<T: Clone>(x: &T) -> T
[08:39:53] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[08:41:35] <strcat> bjz: I think method reform will fix that.
[08:41:43] <strcat> use Clone::clone;
[08:41:45] <strcat> clone(x)
[08:41:45] <bjz> ok
[08:41:52] <bjz> neat
[08:42:58] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:45:27] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:46:32] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[08:46:32] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/YSrLBQ
[08:46:32] <ghrust> 13rust/06auto 14e8baed0 15Derek Chiang: Fix some docs about rt
[08:46:32] <ghrust> 13rust/06auto 14999b8b1 15bors: auto merge of #11570 : derekchiang/rust/fix-rt-docs, r=alexcrichton
[08:46:33] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[08:46:35] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[08:46:35] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145281d21 to 14de57a22: 02http://git.io/N3iJvQ
[08:46:35] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[08:52:00] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[08:53:13] *** Joins: rca (rcatolino@moz-5E0A44D2.adsl.proxad.net)
[09:08:49] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[09:16:08] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[09:18:37] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[09:21:30] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[09:21:30] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14999b8b1 to 14de57a22: 02http://git.io/N3iJvQ
[09:21:30] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[09:21:34] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[09:21:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/IqfSSw
[09:21:34] <ghrust> 13rust/06auto 1475c046c 15Alex Crichton: Generate properly aligned atomic loads/stores
[09:21:34] <ghrust> 13rust/06auto 14e49080a 15bors: auto merge of #11610 : alexcrichton/rust/atomic-u64, r=brson...
[09:21:34] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[09:33:48] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[09:49:48] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Connection reset by peer)
[09:51:07] *** Quits: Eridius (kevin@moz-533B0DB4.us) (Ping timeout)
[09:54:28] *** Joins: Eridius (kevin@moz-533B0DB4.us)
[09:56:10] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[09:59:12] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[10:12:23] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[10:15:51] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:21:35] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[10:21:35] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e49080a to 14de57a22: 02http://git.io/N3iJvQ
[10:21:35] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[10:22:51] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[10:26:28] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[10:38:33] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:59:06] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:59:30] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:59:36] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:59:42] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:59:55] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:00:00] *** Joins: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net)
[11:00:11] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:00:17] *** Quits: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net) (Quit: mankyKitty)
[11:01:18] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:01:48] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:01:53] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:02:49] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:02:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:04:29] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:04:31] *** Joins: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net)
[11:04:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:04:50] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:04:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:06:20] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:08:31] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:08:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:08:33] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:11:49] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[11:12:34] <mankyKitty> eddyb: g'day
[11:15:03] <eddyb> nmatsakis: thanks for the review :D. I'll try to address everything in a few hours
[11:22:23] <eddyb> nmatsakis: {:?} uses repr but it doesn't actually use the visit_glue through opaque object pointers (like traits or closures/procs)
[11:22:50] *** Quits: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net) (Quit: mankyKitty)
[11:23:22] <eddyb> nmatsakis: so the whole TyVisitor business can be completely statically resolved (no visit_glue in tydesc) and {:?} will still work for everything it used to work
[11:24:20] <eddyb> dbaupp, cmr: ^^ that can be optimized so {:?} isn't slower than {} even when it does the same thing
[11:26:09] <eddyb> bjz: hopefully my PR will be merged later today, then Clone::clone is just a matter of allowing it https://github.com/mozilla/rust/pull/11595#issuecomment-32689213
[11:26:21] <bjz> \o/
[11:28:33] <dbaupp> eddyb: the slowness of :? isn't the runtime slowness... but the compile time
[11:29:04] <dbaupp> it's 0.1s to compile fn main() { format!("{}", 1); } for me, and 0.5 for {:?}
[11:29:12] <dbaupp> (0.05 for just fn main() {})
[11:30:04] <eddyb> dbaupp: aaah, that
[11:30:48] * dbaupp is going to try to add -Z noop-reflection to see if that makes a difference to rustc binary size & compile time
[11:31:01] <eddyb> hehe
[11:31:08] <eddyb> and compile RAM usage
[11:41:29] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[11:41:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/PL691g
[11:41:29] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[11:41:42] <eddyb> https://github.com/mozilla/rust/issues/11425 &Trait with one method and no tydesc => that method instead of the vtable :D
[11:42:08] <eddyb> (thus preserving the current closure repr when moving to Fn traits)
[11:45:46] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[11:46:29] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[11:46:29] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[11:46:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/lvbO9A
[11:46:29] <ghrust> 13rust/06auto 14d0633a6 15Nick Desaulniers: can borrow mut in proc Fixes #10617
[11:46:29] <ghrust> 13rust/06auto 145423d77 15bors: auto merge of #11626 : nickdesaulniers/rust/issue10617, r=nikomatsakis...
[11:46:30] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[12:07:24] *** Joins: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net)
[12:13:31] *** Quits: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net) (Quit: tikue)
[12:15:20] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:21:32] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[12:21:32] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145423d77 to 146516b30: 02http://git.io/N3iJvQ
[12:21:32] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[12:21:34] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[12:21:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/HkqzIg
[12:21:34] <ghrust> 13rust/06auto 146331a14 15Derek Chiang: Implement barrier.
[12:21:34] <ghrust> 13rust/06auto 14cea6752 15bors: auto merge of #11725 : derekchiang/rust/add-barrier, r=alexcrichton
[12:21:34] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[12:23:51] *** Joins: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net)
[12:27:42] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:29:34] <eddyb> acrichto: do we really want to allow using both libgreen and libnative in a binary linked against only one of them?
[12:44:17] *** flaper87|afk is now known as flaper87
[12:51:33] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[12:51:33] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14cea6752 to 146516b30: 02http://git.io/N3iJvQ
[12:51:33] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[12:51:36] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[12:51:37] <ghrust> 01[13rust01] 15bors pushed 7 new commits to 06auto: 02http://git.io/uqYbvg
[12:51:37] <ghrust> 13rust/06auto 14462f09e 15Corey Richardson: Add support for arbitrary flags to MemoryMap....
[12:51:37] <ghrust> 13rust/06auto 14dee7fa5 15Corey Richardson: Use `mmap` to map in task stacks and guard page...
[12:51:37] <ghrust> 13rust/06auto 1469afce6 15Corey Richardson: Update task-perf-one-million
[12:51:39] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[12:55:44] *** Quits: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net) (Quit: mankyKitty)
[13:07:56] *** Quits: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net) (Quit: tikue)
[13:11:31] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[13:11:32] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14225fb8e to 146516b30: 02http://git.io/N3iJvQ
[13:11:32] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[13:11:32] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[13:11:32] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/sIRESA
[13:11:32] <ghrust> 13rust/06auto 1435e26e9 15Alex Crichton: Fix a spuriously tripped assert in select()...
[13:11:32] <ghrust> 13rust/06auto 14b0ef2d5 15bors: auto merge of #11775 : alexcrichton/rust/select-fix, r=pcwalton...
[13:11:33] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[13:22:42] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[13:46:21] *** Joins: new_one (new_one@297327D5.92B2BFC6.B3C0173E.IP)
[13:50:35] *** Joins: rca_ (rcatolino@moz-585FE07D.adsl.proxad.net)
[13:51:53] *** Quits: rca (rcatolino@moz-5E0A44D2.adsl.proxad.net) (Ping timeout)
[13:57:03] *** Joins: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net)
[14:12:07] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[14:12:55] <doener> acrichto: are you working on https://github.com/mozilla/rust/issues/11710?
[14:16:11] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:16:50] *** Quits: new_one (new_one@297327D5.92B2BFC6.B3C0173E.IP) (Client exited)
[14:21:16] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[14:24:54] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:26:30] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[14:26:30] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/sIRESA
[14:26:30] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[14:26:50] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:29:22] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:30:21] *** Joins: jensnock_ (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com)
[14:31:11] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[14:31:38] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[14:31:38] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/4bqv9Q
[14:31:38] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[14:35:05] *** Joins: new_one_ (new_one@8F21257C.4B0DC706.B3C0173E.IP)
[14:46:31] <dbaupp> 5% of libsyntax is visit glue (used only for :?)
[14:47:16] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[14:47:37] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[14:49:20] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[14:55:48] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:55:53] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:57:45] <SimonSapin> nate: feel free to take it :)
[15:00:04] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[15:00:05] <nate> SimonSapin: ok cool :)
[15:00:11] <dbaupp> strcat: what's a "real use"? just `{:?}`?
[15:00:15] <strcat> dbaupp: yes
[15:00:23] <strcat> s/real/explicit/
[15:00:51] <dbaupp> strcat: I know; I was taking the (likely incorrect) view that they are all for debugging
[15:01:19] <dbaupp> (and so should really only be activated when compiling a debug compiler.)
[15:01:21] <strcat> afaik some are in errors
[15:01:44] <strcat> I don't think it'd be that hard to replace the TyDesc with a dtor pointer for now
[15:02:03] <dbaupp> the ones in user facing errors are bugs
[15:02:16] <strcat> acrichto: hrm, I built with --disable-rpath but there are still rpaths ;\
[15:02:45] <dbaupp> yeah, it's maybe not so hard... but it's rather late so I'll consider that tomorrow
[15:03:38] <strcat> /usr/bin/rustc: RPATH=$ORIGIN/../lib:/build/rust-git/src/rust/x86_64-unknown-linux-gnu/stage1/lib/rustlib/x86_64-unknown-linux-gnu/lib:/usr/lib/rustlib/x86_64-unknown-linux-gnu/lib
[15:07:55] *** Joins: canhtak (canhtak@moz-94ED4C91.wl.t.ulaval.ca)
[15:25:35] *** Joins: gwty (gwtypc@1367F163.6A6162CC.8A00C703.IP)
[15:31:59] *** Joins: dherman (dherman@32D1164B.EE0ADED3.2C01E229.IP)
[15:31:59] *** ChanServ sets mode: +ao dherman dherman
[15:32:08] *** Quits: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net) (Quit: mankyKitty)
[15:41:51] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[15:42:03] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[15:43:29] *** Joins: mankyKitty (Instantbir@moz-21AD3B58.rev.sfr.net)
[15:49:44] *** Quits: dherman (dherman@32D1164B.EE0ADED3.2C01E229.IP) (Quit: dherman)
[15:51:36] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[15:51:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/bUbzlA
[15:51:36] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[15:56:29] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[15:56:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/_n59Yg
[15:56:29] <ghrust> 13rust/06auto 14988e4f0 15Chris Wong: Uppercase numeric constants...
[15:56:29] <ghrust> 13rust/06auto 140f637eb 15bors: auto merge of #11790 : lfairy/rust/rename-num-consts, r=alexcrichton...
[15:56:29] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[15:56:32] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[15:56:32] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/lXHb6Q
[15:56:32] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[16:01:23] *** Quits: new_one_ (new_one@8F21257C.4B0DC706.B3C0173E.IP) (Client exited)
[16:02:19] *** bstrie_pyro is now known as bstrie_goblin
[16:33:30] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[16:44:27] *** Quits: jensnock_ (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[16:44:55] *** Joins: jensnockert (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com)
[16:46:41] *** Quits: jensnockert (jensnocker@moz-988C9930.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[17:03:18] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:11:39] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:11:39] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/_n59Yg
[17:11:39] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:15:43] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[17:16:32] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[17:16:32] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/iSpArg
[17:16:32] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[17:16:33] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[17:16:33] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/rTyBtA
[17:16:33] <ghrust> 13rust/06auto 145d2ef31 15xales: Fix spacing in example comment.
[17:16:33] <ghrust> 13rust/06auto 1460260b6 15bors: auto merge of #11795 : xales/rust/master, r=cmr
[17:16:33] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[17:17:13] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[17:51:50] <acrichto> doener: you go right ahead!
[17:52:16] <acrichto> eddyb: servo does just that right now, as well as stdtest
[17:52:58] <eddyb> acrichto: dynamically loading one of libgreen/libnative?
[17:53:07] <acrichto> links to them at compile-time
[17:53:19] <eddyb> acrichto: oh, the opposite
[17:53:26] <acrichto> brb catching a train
[17:54:32] <eddyb> acrichto: I believe we could have some kind of contraption that works like weak static &Trait's when only one of libgreen/libnative is used, and has that hard-to-optimize-for dynamic Runtime behavior when both of them are linked in
[17:57:29] <cmr> r? https://github.com/mozilla/rust/pull/11797
[17:58:53] <mankyKitty> is there a way to write tests for things that are expected to be syntax/parse errors ?
[18:00:41] <eddyb> acrichto: though I'm not sure how much of it has to be a special case in rustc
[18:01:19] <cmr> mankyKitty: src/test/compile-fail
[18:01:36] <mankyKitty> cmr: WOO, thanks
[18:01:40] <cmr> mankyKitty: https://github.com/xales/rust/commit/c21d8b73cd8c8f64ed6d308efba05e58ef076b3c#diff-25157e611b72488319f1b3288707a158R11 like that :P
[18:02:48] <mankyKitty> Oh wow line length checks? o.O .. 
[18:11:24] <acrichto> eddyb: I would certainly believe that there's a way to fix the optimizations
[18:11:35] <acrichto> I'm a little unhappy with how the current design limits that
[18:31:39] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[18:31:39] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/rTyBtA
[18:31:39] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[18:33:46] <mankyKitty> I'm writing some compile-fail tests.. There are four situations I'm taking straight from the one issue, is it okay to have them all in one test file? 
[18:34:11] <cmr> yes.
[18:34:11] <doener> procs are the successor to once fns and capture by move, right?
[18:34:57] <cmr> doener: ye
[18:34:59] <cmr> s
[18:36:33] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[18:36:33] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/KResgQ
[18:36:33] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[18:36:35] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:36:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/bHyaTw
[18:36:35] <ghrust> 13rust/06auto 14d0633a6 15Nick Desaulniers: can borrow mut in proc Fixes #10617
[18:36:35] <ghrust> 13rust/06auto 14c333e14 15bors: auto merge of #11626 : nickdesaulniers/rust/issue10617, r=nikomatsakis...
[18:36:35] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[18:36:36] <mankyKitty> okey dokey
[18:45:42] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:47:39] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[19:16:33] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[19:16:33] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14c333e14 to 1460260b6: 02http://git.io/N3iJvQ
[19:16:33] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:16:34] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[19:16:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/NoXiXw
[19:16:34] <ghrust> 13rust/06auto 14a937d18 15Derek Chiang: Implement barrier.
[19:16:34] <ghrust> 13rust/06auto 14b85fe01 15bors: auto merge of #11725 : derekchiang/rust/add-barrier, r=alexcrichton
[19:16:34] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:21:33] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:29:07] <doener> which registers are used for the first and second function argument on x86_64? %rsi and %rdi or %rdi and %rsi?
[19:29:36] <mankyKitty> eeee tests passed 
[19:29:42] <Luqman> doener: for the system v abi: rdi & rsi
[19:29:42] <eddyb> doener: I think the latter
[19:29:49] * mankyKitty does a little dance, gets down tonight
[19:29:53] <doener> thanks
[19:29:55] <cmr> doener: http://www.x86-64.org/documentation/abi.pdf
[19:30:00] <Luqman> doener: for windows rcx & rdx
[19:36:18] <mankyKitty> working on an I-ICE issue, I believe i have fixed the issue, my test cases pass and I've added tests to the compile-fail section.. I'm assuming I leave the cx.sess.bug in there for future edge cases? (I had no reason to remove it as yet)
[19:42:49] <erickt> cmr / dbaupp: got a moment to comment on my std::hash rewrite? https://gist.github.com/erickt/8622289
[19:43:36] <cmr> erickt: not right now, sorry
[19:43:55] <erickt> cmr / dbaupp: it allows us to do away with IterBytes and allows for custom Hash impls
[19:43:58] <erickt> cmr: no problem
[19:49:40] <erickt> sfackler: ping
[19:56:30] <eddyb> erickt: you'd replace IterBytes with Hashable?
[19:56:49] <eddyb> oh, wait, I didn't read it right
[19:57:18] <erickt> eddyb: no you're right :)
[19:57:37] <eddyb> erickt: oh, there it is, it wasn't at the top
[19:58:29] <erickt> eddyb: I'd add a #[deriving(Hash)] that implements `impl<H: StreamHasher> Hashable<H> for Foo`
[19:58:41] <eddyb> erickt: that sounds good :D
[20:28:10] *** Joins: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net)
[20:34:05] <doener> { i64, %tydesc*, i8*, i8*, i8 }** == env pointer type. Correct?
[20:34:30] <eddyb> doener: soon, nothing, or i8*
[20:34:31] * doener has forgotten almost everything he knew about rust internals :-/
[20:35:28] <doener> eddyb: how would "nothing" work?
[20:35:30] <cmr> doener: yes.
[20:35:46] <eddyb> doener: bare functions won't have that argument
[20:35:57] <doener> eddyb: I'm dealing with a proc :-p
[20:36:20] <eddyb> doener: oh, cool, it's actually a rare legitimate occurrence
[20:36:30] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[20:36:30] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/NoXiXw
[20:36:30] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:36:33] <eddyb> though we should drop the tydesc and the other crap
[20:41:29] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[20:41:30] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/CJCc_g
[20:41:30] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[20:46:42] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:48:30] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[21:01:55] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[21:13:43] <sfackler> erickt: pong
[21:29:10] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[21:32:20] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[21:34:35] <sfackler> is there a solution to the FileNotFound condition running codegen tests?
[21:35:31] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[21:42:00] <mankyKitty> sfackler: I encountered that, I was using the homebrew install on OSX 10.8. I changed to an install direct from github/master. This fixed it so I assumed it was simply a "on my machine".
[21:46:43] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[21:52:13] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[21:53:18] *** Joins: JesseH (Jesse@moz-BD21A528.mc.at.cox.net)
[22:03:38] *** Quits: rca_ (rcatolino@moz-585FE07D.adsl.proxad.net) (Ping timeout)
[22:03:56] *** Quits: canhtak (canhtak@moz-94ED4C91.wl.t.ulaval.ca) (Quit: canhtak)
[22:04:18] *** Joins: canhtak (canhtak@moz-94ED4C91.wl.t.ulaval.ca)
[22:15:29] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[22:22:30] *** Joins: brson (brson@moz-7B0110AD.mv.mozilla.com)
[22:22:30] *** ChanServ sets mode: +qo brson brson
[22:37:59] <brson> android regressed again
[22:42:01] *** Joins: brson_ (brson@moz-BBE3ABD.mv.mozilla.com)
[22:43:12] *** Quits: brson (brson@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[22:43:51] *** Quits: brson_ (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[22:43:55] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[22:43:55] *** ChanServ sets mode: +qo brson brson
[22:47:50] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:49:30] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:57:07] *** Quits: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net) (Quit: tikue)
[22:58:48] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[22:58:53] *** flaper87 is now known as flaper87|afk
[23:02:41] *** Joins: wilma (Mibbit@moz-E215C3C3.hsd1.va.comcast.net)
[23:03:07] *** Joins: tikue (tkuehn@moz-879E86A9.hsd1.ca.comcast.net)
[23:03:24] <wilma> What's the best method to see if a string in rust contains a certain string? Is there a function for this?
[23:08:50] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[23:08:56] <sfackler> wilma: http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html#tymethod.contains
[23:09:35] <wilma> sfackler: ah thank god
[23:15:15] *** Joins: matthewbot (user@moz-C6814817.ga.at.cox.net)
[23:16:00] <wilma> wait, so if I'm looping through a string (split by the new line character), then how to I get it to the trait strslice?
[23:16:19] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[23:17:11] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:20:28] <sfackler> strings implement strslice. you don't have to do anything
[23:20:40] <sfackler> rusti: "foobar".contains("bar")
[23:20:41] -rusti- true
[23:24:48] <kimundi> rusti: "foo bar baz qux".words().map(|s| s.contains("ba")).to_owned_vec()
[23:24:55] -rusti- ~[false, true, true, false]
[23:25:53] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[23:27:12] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:36:10] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[23:41:37] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[23:41:37] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1426c2948 to 14b85fe01: 02http://git.io/N3iJvQ
[23:41:37] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[23:43:43] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[23:45:32] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[23:59:53] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
