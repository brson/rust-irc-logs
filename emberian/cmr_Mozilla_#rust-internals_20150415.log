[00:00:54] *** Quits: dyv (dyv@moz-nlblue.central.yale.edu) (Quit: )
[00:01:12] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[00:05:59] *** blaenk_ is now known as blaenk
[00:15:57] *** Quits: ytain (ytain@moz-bps1td.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:16:04] <seanmonstar> yea, any new features would be 1.1+
[00:18:39] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[00:18:41] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[00:31:58] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[00:38:51] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:39:16] *** Joins: unwound (bkoropoff@moz-kthi5c.wa.comcast.net)
[00:39:54] *** Joins: Unwound_ (bkoropoff@moz-kthi5c.wa.comcast.net)
[00:43:20] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[00:43:30] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[00:43:33] *** Joins: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net)
[00:45:21] *** Unwound_ is now known as unwound
[00:50:32] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:52:13] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[00:55:41] *** Quits: ineol (ineol@moz-pdkvmd.fbx.proxad.net) (Client exited)
[00:55:54] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[01:00:04] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[01:03:11] *** Joins: umbridge (Mibbit@moz-juv.9o3.252.72.IP)
[01:05:44] *** Quits: umbridge (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:13:55] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[01:17:02] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[01:17:36] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:18:28] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[01:25:31] *** Quits: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[01:27:00] *** Joins: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net)
[01:28:40] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[01:34:09] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[01:41:41] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[01:43:19] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[01:44:52] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[01:46:26] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Connection closed)
[01:46:28] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[01:47:10] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:47:30] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[01:49:52] *** Quits: joneshf-laptop (joneshf@moz-8re45u.ucdavis.edu) (Connection closed)
[01:51:08] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:55:41] *** Quits: nu11ptr (nu11ptr@moz-2qm.i94.236.24.IP) (Client exited)
[02:08:45] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[02:12:54] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:18:56] *** Joins: andars_ (andars@moz-bsldst.sntcca.sbcglobal.net)
[02:27:34] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:27:34] *** ChanServ sets mode: +o pcwalton
[02:30:32] *** andars_ is now known as anders
[02:31:26] *** Quits: marsel (user@moz-nu7.71o.180.94.IP) (Ping timeout: 121 seconds)
[02:32:13] *** Quits: ChrisMorgan (chris@moz-g6osuq.tpgi.com.au) (Quit: Leaving.)
[02:33:29] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[02:35:39] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[02:37:28] *** Quits: zz_kimundi (kimundi@moz-j9v5l3.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:39:44] *** Joins: zz_kimundi (kimundi@moz-nr28ki.dip0.t-ipconnect.de)
[02:39:45] *** zz_kimundi is now known as kimundi
[02:40:07] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[02:49:18] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[02:50:48] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[02:56:10] <Eridius> ow
[02:56:14] <Eridius> wrong window
[02:58:32] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[03:00:02] *** Quits: poorman (poorman@moz-ne2.2ic.131.12.IP) (Ping timeout: 121 seconds)
[03:08:18] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[03:13:23] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:14:13] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:19:37] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Quit: Ex-Chat)
[03:19:51] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[03:20:42] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Quit: Leaving.)
[03:22:39] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[03:26:31] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Quit: Leaving)
[03:27:26] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[03:27:35] *** Joins: semarie (semarie@moz-eugg57.redstation.co.uk)
[03:31:07] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:31:28] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[03:35:26] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[03:41:36] <nrc> *mut pointers should have copy semantics, right?
[03:43:07] <reem> yes
[03:45:01] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:46:23] *** Joins: pachucoxxr (Mibbit@moz-juv.9o3.252.72.IP)
[03:48:47] *** Quits: pachucoxxr (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:48:51] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[03:50:08] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[03:55:21] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[03:56:03] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[03:57:25] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:04:33] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Ping timeout: 121 seconds)
[04:06:36] *** Quits: blank_name (blank_name@moz-sct.ivp.36.50.IP) (Quit: leaving)
[04:06:43] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[04:09:45] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:10:44] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[04:11:31] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[04:13:18] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[04:13:19] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[04:14:20] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[04:14:41] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[04:15:58] *** Joins: mib_2j9nvq (Mibbit@moz-juv.9o3.252.72.IP)
[04:15:59] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[04:16:07] *** Joins: marsel (user@moz-nu7.71o.180.94.IP)
[04:17:40] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[04:18:03] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[04:19:41] *** Quits: mib_2j9nvq (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:20:10] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[04:20:14] <richo> Am I going crazy? Is there no rust native version of gettimeofday(3) ?
[04:20:30] <richo> (WIRTTD, I'm working on reproducable builds, and the timestamps all over rlibs are the lowest hanging fruit)
[04:20:38] <richo> i can't work out where they're coming from
[04:21:10] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[04:23:00] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[04:24:29] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[04:24:51] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[04:26:58] *** Quits: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[04:28:32] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[04:29:53] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[04:29:55] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[04:32:13] *** Quits: marsel (user@moz-nu7.71o.180.94.IP) (Ping timeout: 121 seconds)
[04:35:40] <bstrie> aturon: deprecating thread::scoped alone doesn't seem like enough for 1.0, isn't there a risk that we're going to need to tweak Rc to fix this? is that tweak going to break anything?
[04:35:56] <aturon> bstrie: so, couple things
[04:36:09] <aturon> bstrie: one, tweaking Rc is just one (somewhat heavy-handed) way to address the problem
[04:36:18] <aturon> (a much simpler approach is just to not use an RAII-based API here)
[04:36:31] <aturon> second, the proposed tweak to Rc is only going to work out if we make it back-compat regardless
[04:36:39] <aturon> basically it introduces the notion that a type is "OK to leak"
[04:36:52] <aturon> and we're going to need to ensure that's essentially always assumed to be the case
[04:36:57] <aturon> unless you explicitly opt out
[04:37:02] <aturon> a bit like the way we treat Sized
[04:38:08] <huon> doesn't a dropck-like rule work?
[04:38:11] <carllerche> richo: I think it has been moved to: https://github.com/rust-lang/time
[04:38:26] <bstrie> aturon: but at the moment the problem *is* with Rc, and so people can imaginably write code just like thread::scoped on their own that will be unsound
[04:38:28] <huon> (an Rc can only store lifetimes that strictly outlive itself?)
[04:38:43] <huon> bstrie: only if they have `unsafe` themselves
[04:39:06] <richo> carllerche: err, there's *some* implementation in rustc
[04:39:13] <aturon> huon: that's an additional route, yes, but that *would* be a breaking change to Rc
[04:39:14] <richo> I can find the ffi'd gettimeofday, but no call sites
[04:39:22] <huon> aturon: argh
[04:39:40] <aturon> huon: (and it's not clear that it would work out generally -- you're asking much more of type and borrow-checking)
[04:39:43] <carllerche> richo: sorry, misread what you said
[04:39:48] <huon> hm, right.
[04:40:06] <aturon> huon: incidentally, something like that might be able to help statically rule out deadlocks :)
[04:40:30] <aturon> well... ok that's a bit of a stretch
[04:40:43] <theme> huon, is there anything in rust that requires "strictly outlive"?
[04:40:46] <aturon> but there are various type systems that enforce lock ordering
[04:41:09] <huon> theme: yes
[04:41:14] <theme> huon, what is it?
[04:41:19] <huon> e.g. let x; let y = 1; x = &y;
[04:41:34] <theme> huon, what strictly outlives what?
[04:41:49] <huon> that code is invalid because y doesn't strictly outlive x
[04:42:04] <theme> huon, is `let x;` even valid?
[04:42:10] <huon> yes
[04:42:13] <theme> wtf
[04:42:40] <Mutabah> theme: I thought the same
[04:42:44] <theme> my mental model is wrong T_T
[04:42:48] <theme> completely wrong
[04:42:52] <Mutabah> It allows a single assignment on a later line
[04:43:08] <Mutabah> The only legit use I've seen is for output constraints in asm!
[04:43:19] <Mutabah> However, &out might make it more useful
[04:43:21] <huon> moving things out of scopes
[04:43:36] <huon> let x; { ... x = foo; }
[04:43:39] <theme> playbot, let x; let y = 1; x = &y;
[04:43:41] -playbot- <anon>:9:32: 9:33 error: `y` does not live long enough
[04:43:41] -playbot- <anon>:9         let x; let y = 1; x = &y;
[04:43:41] -playbot- output truncated; full output at: http://bit.ly/1yq751f
[04:43:44] <huon> and initialising things once in a loop
[04:44:01] <huon> let x; loop { ... if foo { x = bar; break } }
[04:44:02] <theme> huon, for that, I always use `let x = { ... foo };`
[04:44:12] <theme> huon, O_o
[04:44:27] <theme> playbot, let (x, y) = (&y, 1);
[04:44:28] -playbot- <anon>:9:24: 9:25 error: unresolved name `y`
[04:44:28] -playbot- <anon>:9         let (x, y) = (&y, 1);
[04:44:28] -playbot- output truncated; full output at: http://bit.ly/1CHWXNR
[04:44:28] <huon> theme: it doesn't always work, e.g.:
[04:45:41] <reem> aturon: So you think we will solve the scoped problem with a non-RAII-based alternative API?
[04:45:48] <huon> theme: http://is.gd/034T4v
[04:45:56] <reem> Are we targeting scoped for 1.0 at this point?
[04:46:01] <aturon> reem: probably, at least in the short term
[04:46:05] <aturon> no, not stable for 1.0
[04:46:15] <reem> that’s… unfortunate
[04:46:17] <aturon> note that the PR generalized spawn a bit
[04:46:20] <reem> but understandable
[04:46:28] <aturon> so that you can get out the return value from the spawned thread
[04:46:32] <reem> ya, I saw
[04:46:43] <aturon> (that was the main place `scoped` was used within the distro)
[04:47:45] <reem> I thought the Arena-like solution for Rc could work nicely
[04:47:52] *** blaenk_ is now known as blaenk
[04:47:54] <reem> since honestly this is more of a problem with Rc
[04:47:57] <bstrie> reem: I think that's what we used to have
[04:48:39] *** Joins: ineol (ineol@moz-pdkvmd.fbx.proxad.net)
[04:48:41] <reem> The current situation with Rc seems possibly untenable to me - as long as we consider `mem::forget` unsafe, then you can trivially cause an unsafe action with safe code using Rc right now.
[04:49:08] <blaenk> <aturon> note that the PR generalized spawn a bit
[04:49:10] <huon> reem: trivially?
[04:49:12] <blaenk> anyone have a link to that pr
[04:49:14] <blaenk> or #
[04:49:19] <huon> (other than scoped)
[04:49:23] <reem> huon: put it in a reference cycle
[04:49:25] *** Joins: kushal (kdas@moz-7op.go6.171.66.IP)
[04:49:27] <blaenk> or name
[04:49:32] <huon> reem: "it"?
[04:49:35] <reem> huon: the “unsafe action” being mem::forget
[04:49:48] <reem> if that makes things clearer
[04:50:17] <huon> reem: ah, I see: you're saying that since we call `mem::forget` unsafe, we're able to trigger than unsafety in safe code and so something's weird
[04:50:21] <reem> ^
[04:50:25] <bstrie> blaenk: https://github.com/rust-lang/rust/pull/24385
[04:50:31] <blaenk> thanks buddy
[04:50:32] <reem> exactly
[04:51:24] <reem> so either we mark mem::forget safe and design APIs with that in mind, or we keep it unsafe and prevent Rc from doing this, somehow
[04:51:27] <blaenk> hey aturon are the reflexive changes to convert planned soon/for 1.0? (no rush, just wondering!)
[04:51:35] <aturon> reem: i agree that there's an inconsistency there
[04:51:45] <aturon> blaenk: they should be working for Into
[04:51:49] <blaenk> sweet
[04:52:06] <aturon> (let me know if you run into problems)
[04:52:08] <blaenk> I have indeed been using Into<String> but I wasn't sure if that was still special cased
[04:52:17] <blaenk> or if it would also work for example with Into<PathBuf>
[04:52:21] <blaenk> I'll try it
[04:52:36] <aturon> blaenk: top impl of http://static.rust-lang.org/doc/master/std/convert/trait.From.html is the key :)
[04:52:59] <blaenk> impl<T> From<T> for T?
[04:53:20] <blaenk> dat impl
[04:53:33] <aturon> yep :)
[04:54:00] <aturon> the convert trait impls are, um, carefully constructed to squeeze maximal goodness from coherence
[04:54:22] <blaenk> squeezing lemonade out of lemons
[04:54:33] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Connection closed)
[04:54:43] <cmr> more like squeezing lemon juice into your eyes, as far as I'm concerned...
[04:54:49] <blaenk> hahaha
[04:54:49] <cmr> coherence is a harsh mistress.
[04:54:59] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[04:55:21] <bstrie> reem: I think the OIBIT plan would resolve this inconsistency
[04:55:57] <bstrie> but I'm somewhat concerned at doing it post-1.0
[04:56:22] *** Joins: yourabi (yourabi@moz-q8dqtg.ca.comcast.net)
[04:56:25] *** Quits: yourabi (yourabi@moz-q8dqtg.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:56:38] <aturon> bstrie: it would mean that `forget` could be marked safe, when taking a `Leak` value
[04:57:11] <bstrie> aturon: would we have two versions of the function, then?
[04:57:18] <bstrie> because I'd quite like that
[04:57:21] <aturon> we might want to, yeah
[04:57:25] <blaenk> http://is.gd/qtPhfg
[04:57:29] <bstrie> reduce needless unsafe blocks
[04:57:30] <blaenk> very nice
[04:57:31] <aturon> (unsafe version taking !Leak things)
[04:57:36] <blaenk> thanks aturon :D
[04:57:45] <aturon> blaenk: my pleasure :)
[04:59:11] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[04:59:25] <bstrie> aturon: is the assumption here that Leak would be opt-in like Copy instead of opt-out like Send?
[04:59:34] <bstrie> because that would make me very sad
[04:59:44] <aturon> bstrie: no, it would be opt-out
[04:59:50] <aturon> the vast, vast majority of types are safe to leak
[05:00:05] <aturon> and you can only cause problems if you use `unsafe`
[05:00:08] <bstrie> right, that's why I would be sad :)
[05:00:14] <aturon> hahahah
[05:00:27] <aturon> (that's also needed for back-compat reasons)
[05:00:51] <bstrie> aturon: but if we're adding a new default impl post-1.0, that means that any code written before then will get that impl, even if it's not safe
[05:01:14] <aturon> right, so until this gets added,
[05:01:26] <aturon> you are not allowed to rely on dtors being run for memory safety
[05:01:34] <aturon> i.e. the scoped API is considered broken
[05:01:54] <aturon> put differently,
[05:02:04] <aturon> any API currently relying on this is *already* unsound
[05:02:17] <bstrie> ok, I'll be putting that in my "why rust 1.0 sucks^H^H^H^H^H could be better" document :P
[05:02:21] <aturon> lol
[05:02:41] <aturon> i mean, bottom line, you still have to use `unsafe` to cause this problem
[05:02:46] <aturon> this is all about the "contract" for unsafe code
[05:02:59] <aturon> and in particular whether/when you can rely on dtors being run within a given lifetime
[05:03:12] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:03:34] <huon> acrichto: this seems like a pretty important rustdoc bug for 1.0, do you know if it's fixed? https://github.com/rust-lang/rust/issues/24417
[05:04:16] <acrichto> huon: hm no, I was not aware of that
[05:05:09] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[05:05:30] <bstrie> aturon: so correct me if I'm wrong, but isn't the extent of this fix just to stick `unsafe trait Leak {} unsafe impl Leak for .. {} impl<T> !Leak for Rc<T> {} impl<T> !Leak for JoinGuard<T> {}` in the stdlib?
[05:07:07] <aturon> bstrie: not quite
[05:07:18] <aturon> you also need all generics to assume Leak by default
[05:07:23] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[05:07:23] <aturon> the same way they assume Sized by default
[05:07:38] <aturon> not saying it's a huge amount of work or anything
[05:08:09] <aturon> but, it is more language-level complexity (adding to the pile of marker traits), and not something we should try to rush into 1.0 (which is basically already cut, modulo emergencies)
[05:08:42] <bstrie> it's not even two weeks into the six-week cycle, why can't we cram in just this one little thing :P
[05:08:51] * bstrie joking
[05:08:52] <aturon> hahaha
[05:09:13] <aturon> don't get me wrong, i <3 scoped
[05:09:18] <aturon> and the Leak idea is quite cool
[05:09:23] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[05:09:29] <aturon> though i'm not yet convinced it's worth the extra complexity
[05:09:50] <bstrie> aturon: you might want to add a disclaimer to your "Fearless Concurrency" post
[05:09:55] <bstrie> disaster averted indeed
[05:09:59] <aturon> hah
[05:10:03] <aturon> couldn't've asked for worse timing
[05:10:16] <aturon> but hey, that's what you get with beta software!
[05:11:14] <bstrie> aturon: at the very least, can we get an RFC that we can explicitly postpone to post-1.0?
[05:11:29] <bstrie> might as well have the discussion now
[05:11:31] <aturon> lol
[05:11:55] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[05:12:03] <aturon> i think, for Leak, we will need time to accumulate evidence that this is a widespread need
[05:12:14] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[05:12:16] <aturon> and that the workaround are so painful as to be worth the complexity cost
[05:13:14] <bstrie> aturon: what's the workaround for stack frame sharing via scoped?
[05:14:02] <aturon> bstrie: getting rid of reliance on RAII, in favor of working with an extra closure
[05:14:09] <bstrie> we definitely got lots of comments that that was one of the coolest things about rust's concurrency story, even if it turned out to be premature
[05:14:12] <bstrie> hm
[05:14:19] <aturon> oh yes, we definitely will get `scoped` back
[05:14:31] <aturon> but there are much less invasive ways to do it than `Leak`
[05:14:40] <aturon> i can write up a strawman API tomorrow
[05:14:47] <aturon> since i'm getting a lot of questions about it :)
[05:14:52] <bstrie> I think that alone would be worth an RFC
[05:16:00] <bstrie> aturon: I'm also ineffably worried that this isn't the last time that saying "memory leaks aren't unsafe" will come back to bite us :P
[05:16:19] <bstrie> just a gut thing
[05:16:24] <aturon> well, rather: it's unsafe to rely on memory not leaking
[05:16:25] <aturon> but yes
[05:16:30] <aturon> i... share your fears
[05:17:13] <bstrie> unsafe impl Sync for Fears {}
[05:19:12] *** Quits: ineol (ineol@moz-pdkvmd.fbx.proxad.net) (Client exited)
[05:20:46] <eternaleye> bstrie: I think that's going to end in tears, with us all living in this mad world :P
[05:23:46] *** Joins: unwound (bkoropoff@moz-kthi5c.wa.comcast.net)
[05:24:56] <Kingsquee> "memory leaks aren't unsafe"?
[05:25:18] <Kingsquee> I am curious as to what defines safe...
[05:25:45] <huon> memory safety problems, like heap corruption, segfaults
[05:25:58] <bstrie> Kingsquee: Saraswat made the rules, we just enforce them :P
[05:26:03] <huon> leaking memory in itself doesn't lead to any of those
[05:26:18] <Kingsquee> bstrie: just doin' his job since 201X
[05:26:54] <bstrie> eternaleye: something happens and our stack overflows, I never find out until SIGABRT
[05:27:10] <Kingsquee> huon: using up all the memory in the device isn't a memory safety problem? :P
[05:27:15] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[05:27:47] <cmr> http://doc.rust-lang.org/book/unsafe-code.html
[05:27:50] <Kingsquee> iirc that causes a segfault
[05:28:13] <cmr> It does not cause a segfault, it usually causes an OOM which turns into an abort if malloc returns 0
[05:28:13] *** Quits: kushal (kdas@moz-7op.go6.171.66.IP) (Quit: Leaving)
[05:28:20] <cmr> otherwise the OOM killer just kills the process outright
[05:28:31] <cmr> (well, *a* process, it's pretty indiscriminate)
[05:28:33] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[05:28:50] <bstrie> what if it kills the process responsible for memory safety? checkmate, rust devs
[05:29:05] <cmr> welp, better give up and make a new language.
[05:29:09] <cmr> gg rust
[05:29:21] <eternaleye> Or, you know, turn off overcommit.
[05:29:28] <eternaleye> Which you _can_ do.
[05:29:55] <eternaleye> Then you just get ENOMEM on allocation, which... wait...
[05:30:00] <eternaleye> Dangit, Rust! :P
[05:30:43] <eternaleye> (I do think exponential-backoff retry-until-success on ENOMEM is better than aborting, though)
[05:30:53] <eternaleye> (Since if something else frees up memory, we can progress)
[05:31:24] <cmr> that seems like the sort of behavior that if every process participated in would cause some undesirable oscilations.
[05:31:51] <huon> acrichto: ping
[05:31:59] <eternaleye> cmr: Sure, but some processes can handle ENOMEM by flushing internal caches (DBMS, etc)
[05:32:12] <eternaleye> cmr: If the system as a whole has no memory, _something_'s gotta give
[05:32:23] <eternaleye> cmr: ENOMEM is how the system tells processes that it's happening
[05:33:19] <acrichto> huon: pong
[05:33:22] <eternaleye> cmr: Yes, if everything on the system does it, the worst-case scenario is deadlock...
[05:33:47] <eternaleye> cmr: But the thing is that with the exponential backoff, at some point all processes are sleeping while all memory is taken
[05:34:14] <eternaleye> cmr: Which would be a perfect time for an OOM killer to say (unambiguously) "Okay, this isn't getting any better, time to intervene"
[05:34:15] <Kingsquee> cmr: I have a solution.
[05:34:40] <Kingsquee> have rust detect at runtime when it's about to run out of memory, and have it indiscriminately kill other processes as necessary
[05:34:47] <Kingsquee> survival of the safest
[05:34:55] <huon> acrichto: https://gist.github.com/huonw/abb9cd5245ab3d5b6d6f
[05:35:00] <eternaleye> (well, livelock, not deadlock)
[05:35:11] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[05:35:12] <huon> acrichto: known issue?
[05:35:19] <huon> acrichto: (or, expected behaviour?)
[05:35:47] <acrichto> huon: looks surprising
[05:36:01] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[05:36:24] <huon> specifically, it segfaults inside __cxa_thread_atexit_impl
[05:36:32] <huon> while registering the destructor
[05:37:00] <acrichto> it may be that dso_symbol thing
[05:37:07] <acrichto> it's NULL being passed in
[05:37:22] *** Joins: kushal (kdas@moz-7op.go6.171.66.IP)
[05:37:55] * huon doesn't know what dso_symbol si
[05:37:57] <huon> *is
[05:37:59] <acrichto> huon: I'd open an issue though, this looks suspicious
[05:38:03] <acrichto> huon: neither do I!
[05:38:22] <acrichto> huon: https://github.com/rust-lang/rust/blob/master/src/libstd/thread/local.rs#L367
[05:38:26] <acrichto> (not that that helps)
[05:38:32] <acrichto> it's just some thing we pass in
[05:38:36] <acrichto> not sure what it actually is
[05:40:48] <huon> "dynamic shared object" I'd guess, suggesting this PIE thing may be expected
[05:41:24] <acrichto> we probably shouldn't cause a segfault though...
[05:41:29] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:43:45] <huon> acrichto: https://github.com/rust-lang/rust/issues/24445
[05:44:19] <acrichto> huon: thanks!
[05:44:36] *** Quits: O01eg (o01eg@moz-ataqn9.ma9r.4n8f.2698.2a02.IP) (Client exited)
[05:46:57] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[05:53:02] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:55:36] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[05:56:09] *** Joins: fuogofgg (Mibbit@moz-juv.9o3.252.72.IP)
[05:59:47] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[05:59:52] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[06:00:41] *** Joins: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net)
[06:00:45] <bstrie> Kingsquee: hm, first we need a way to unambiguously determine which code was originally written in C++. I bet we could do it if we trained a neural net to recognize the patterns of machine code that STL templates compile into
[06:01:17] <Kingsquee> bstrie: brilliant, I'll get right on it.
[06:01:47] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[06:01:57] <eternaleye> bstrie: Or, check if they have DT_NEEDED for, and U symbols from, libstdc++ using /proc/pid/exe
[06:02:28] <eternaleye> bstrie: Of course, on OS X it needs to also check for libc++
[06:02:35] <bstrie> eternaleye: but my way would make for a more impressive graduate thesis
[06:03:06] <eternaleye> bstrie: I knew it! Rust is a sekrit plan by The Academic Cabal to take over systems programming! :P
[06:03:15] *** Quits: fuogofgg (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:03:36] <Kingsquee> rust...academic?
[06:03:47] <bstrie> eternaleye: joke's on you, it's actually a kansas-city shuffle by mozilla to embrace, extend, and extinguish systems programming
[06:04:04] <bstrie> the ivory tower was merely a misdirection
[06:04:16] <Kingsquee> everything I know is a lie
[06:04:20] <eternaleye> "You thought it was MIT, but it was really me, Dio!"
[06:05:50] <eternaleye> (JoJo's Bizarre Adventure goes with everything)
[06:06:05] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[06:07:47] <Kingsquee> now we just need to shove guile's theme in here somewhere
[06:08:38] <bstrie> I was trying to reference Clue, but I may have misremembered the quote
[06:08:49] <bstrie> in any case we have exceeded our pop culture references for tonight
[06:08:54] <Kingsquee> maybe to a shoop of alexcrichton dancing amongst the flames
[06:09:05] <bstrie> first we need some video of him dancing
[06:09:14] <bstrie> I'll be sure to have the camera ready at the release party
[06:09:21] * Kingsquee rubs hands
[06:15:01] *** Joins: gsingh931 (gulshan@moz-3fu4am.mi.comcast.net)
[06:16:14] *** Joins: James (quassel@moz-olnmts.range86-163.btcentralplus.com)
[06:17:20] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[06:17:24] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:21:33] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[06:35:03] *** Quits: gsingh931 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[06:35:06] *** Quits: kushal (kdas@moz-7op.go6.171.66.IP) (Quit: Leaving)
[06:35:10] <huon> acrichto: that was quick
[06:35:21] <acrichto> huon: :D
[06:35:39] *** Quits: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[06:38:00] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[06:39:09] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:43:35] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[06:44:02] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:46:51] <richo> sorry to ping again, but any hints on where the timestamp gets embedded in the rlib header?
[06:46:59] <richo> I'm struggling to find the actual place that the rlib is written
[06:48:35] *** Joins: gsingh931 (gulshan@moz-3fu4am.mi.comcast.net)
[06:49:57] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[06:51:05] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[06:51:16] *** Quits: James (quassel@moz-olnmts.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:52:37] *** Quits: gsingh931 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[06:54:29] <bstrie> richo: I think acrichto came up with rlibs, he's the one to ask
[06:55:48] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[06:59:24] <richo> cool, cheers. I feel like I'm getting closish now, but grepping through rustc_back with reasonable sounding things is probably not the most effective way to do this
[06:59:37] <richo> Very happy to contribute some docs once I get it worked out though!
[07:00:13] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:02:03] *** Joins: z_beeblebrox (ford_prefec@moz-55rvi2.dclient.hispeed.ch)
[07:03:26] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:03:57] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:10:50] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:17:38] *** Joins: Unwound_ (bkoropoff@moz-kthi5c.wa.comcast.net)
[07:18:40] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[07:18:45] <doener_> Aaron, Eridius: omitting the alignment on load/store means that the pointer fulfills ABI alignment requirements, which should currently always be the case, except for this case where a struct is passed as an integer to fit it into a single function argument / register. That was added in January by yours truly, i.e. my fault, testing a fix now.
[07:18:46] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[07:19:43] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:20:40] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[07:22:15] <ChrisMorgan> How come type Output on Add, Sub, Mul and Div has no default but on Rem it defaults to Self?
[07:23:32] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:28:15] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[07:31:28] <bstrie> ChrisMorgan: sounds like a possible oversight
[07:35:04] <bluss> ChrisMorgan: the default only matters when implementing, not using the trait ?
[07:36:01] <ChrisMorgan> bluss: correct.
[07:36:25] <bluss> thanks
[07:38:40] <ChrisMorgan> I only noticed because I was looking at the definition of one of them and noticed that page-wise scrolling in Vim was going just the right number of lines each time for those five, so the only textual changes were the operator and name… and this.
[07:42:11] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:49:52] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[07:54:21] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:55:14] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:57:20] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[08:01:28] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[08:03:19] *** Quits: hugod (user@moz-885.jmo.24.70.IP) (Connection closed)
[08:06:51] *** Quits: semarie (semarie@moz-eugg57.redstation.co.uk) (A TLS packet with unexpected length was received.)
[08:07:04] *** Joins: semarie (semarie@moz-md1mas.ipredator.se)
[08:09:34] <ChrisMorgan> Why both From and Into?
[08:10:20] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:12:32] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:14:54] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:16:23] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:20:33] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:27:10] *** Joins: proc (proc@moz-glfmoo.dip0.t-ipconnect.de)
[08:30:24] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[08:33:09] *** Quits: Unwound_ (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[08:33:23] *** Joins: bytewise (bytewise@moz-oce.qmk.61.134.IP)
[08:38:17] <reem> ChrisMorgan: default associated types do nothing now
[08:39:37] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:40:02] *** Joins: imperio (Mibbit@moz-tl0.mgj.88.79.IP)
[08:40:26] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:42:12] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[08:43:58] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[08:45:38] <ChrisMorgan> reem: then why is it still legal to write `type A = X;` in the trait?
[08:45:50] <reem> the parser will accept it, but it’s not used right now
[08:46:12] <ChrisMorgan> Is it something that is coming or going?
[08:46:15] <reem> it is a planned feature
[08:46:20] <reem> so it will come later
[08:47:28] * ChrisMorgan thinks it’s a bad idea to allow the parser to parse something that’s not being used and not at the least warn you it’s doing nothing
[08:48:01] <ChrisMorgan> Admittedly for such a case as this it won’t break any existing code when it is added, but the principle of the thing is not so good.
[08:48:21] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[08:48:30] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:51:11] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[08:52:51] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:53:55] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[08:54:12] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[08:54:18] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[08:55:12] <nrc> I don't think it's deliberate, probably an oversight
[08:55:17] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:55:24] <nrc> I'd r+ a patch to make it an error if you can be bothered
[08:56:03] <nrc> (assuming that doesn't break something, which it might - I'm surprised it has been left for so long if it is fine to fix it)
[08:56:58] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:57:13] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:57:51] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[08:57:56] <theme> nrc, I'd say that I'm much more surprised that the Rc/scoped soundness hole has been left for quite some time
[08:58:11] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[08:58:21] <nrc> aiui nobody realised that
[08:58:38] <nrc> default assoc types are known - I think there is even a comment about it in the ast
[08:59:04] * nrc might be wrong about the scoped thing
[08:59:43] <bluss> theme: nothing indicates it was known before it was reported 4 days ago
[08:59:52] <theme> erm... ok
[09:00:22] <theme> btw this reminds me of an issue I brought up a while back
[09:00:46] <theme> http://internals.rust-lang.org/t/are-memory-leaks-considered-to-violate-memory-safety/1674
[09:02:23] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[09:02:54] <bluss> for 'static data we can treat the uncollected cycle issue as just postponing drop forever
[09:03:30] <bluss> but with a lifetime it does truly escape that scope without being dropped, very bad. I think everyone said that circumventing drop is unsafe behavior
[09:03:38] <bluss> seems the connection wasn't made
[09:03:45] <theme> lol
[09:04:00] <theme> seems obvious in retrospect
[09:04:28] <bluss> “ mem::forget(guard); // This is marked unsafe for a reason”
[09:05:32] <theme> lol
[09:05:35] *** Quits: bytewise (bytewise@moz-oce.qmk.61.134.IP) (Ping timeout: 121 seconds)
[09:09:02] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[09:10:35] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[09:13:35] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[09:15:41] <reem> Can we have Rc require ‘static?
[09:16:15] <theme> reem, heh... interesting
[09:16:31] * theme wonders about what actually uses Rc
[09:16:37] <theme> reem, also, Arc
[09:17:25] <reem> I am having a really hard time coming up with a good use case for Rc on non-‘static stuff
[09:17:43] <reem> I’m sure there’s a place where it’s useful, but some library can provide an unsafe Rc for that
[09:18:06] <theme> reem, oh great
[09:18:39] <theme> reem, wait a sec, I think that Rc cycles does not require 'static
[09:19:38] <reem> theme: Rc cycles on ‘static generally speaking are “fine” - it can be viewed as just delaying the drop of ‘static data until the end of its lifetime.
[09:19:52] <reem> theme: The problem is delaying the drop of something with a lifetime of ‘a past the lifetime of ‘a
[09:19:55] <theme> oh
[09:20:41] <theme> reem, must be done before 1.0
[09:21:08] <WindowsBunny> reem: Similar to the issue with thread::scoped?
[09:21:17] <reem> the exact issue with thread::scoped
[09:21:18] <theme> reem, we are talking about scoped
[09:21:22] <WindowsBunny> neat
[09:21:22] <theme> WindowsBunny, ^
[09:21:56] <WindowsBunny> Rust is the only language to have such issues :P
[09:22:08] <theme> lol
[09:23:44] <reem> I have to think more about it
[09:23:49] <reem> but I think requiring ‘static could work
[09:24:36] <theme> we also have to specify that leaking memory that isn't static is unsafe
[09:24:44] <theme> 'static
[09:25:06] <bstrie> theme: propose it to aturon and nmatsakis 
[09:25:19] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[09:25:20] <SimonSapin> Should deprecating unstable methods go through the RFC process?
[09:25:22] * reem can do it
[09:25:28] <ChrisMorgan> reem: are you so thoroughly in the habit of typing curly quotes that you can’t type straight ones for the lifetime of you?
[09:25:34] <reem> SimonSapin: Please no…
[09:25:41] <SimonSapin> haha
[09:25:49] <reem> ChrisMorgan: Actually my IRC client does it for me
[09:26:04] <reem> ChrisMorgan: I just type ' 
[09:26:07] <ChrisMorgan> reem: … ick.
[09:26:21] <reem> Ya… It’s probably my least favorite thing about it
[09:26:23] * ChrisMorgan types all his curly quotes manually
[09:26:25] * theme sees an ellipsis auto-transform
[09:26:35] <reem> yup, that too
[09:26:44] * ChrisMorgan types all his ellipses manually too (Compose + . + .)
[09:26:50] <bluss> theme: needs updating here: http://doc.rust-lang.org/reference.html#behaviour-not-considered-unsafe
[09:26:56] * ChrisMorgan uses his Compose key a lot
[09:27:05] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[09:27:25] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[09:27:33] <WindowsBunny> I'd be okay with not being allowed to leak non 'static data
[09:27:46] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[09:28:22] <theme> reem, post it here https://github.com/rust-lang/rust/issues/24292
[09:28:39] <reem> (already typing a comment :P)
[09:29:05] <theme> probably biggest breaking change in rust beta -> 1.0
[09:29:11] <bluss> I would be sad to lose Rc<T> where T: has no bounds
[09:30:22] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[09:30:46] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[09:32:04] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[09:32:12] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[09:32:39] <nmatsakis> so...
[09:32:42] *** kimundi is now known as zz_kimundi
[09:32:52] <nmatsakis> I'm kidn of reading backscroll but I don't consider leaking memory unsafe, I consider scoped a bug. 
[09:32:57] <nmatsakis> that is, you can't rely on destructors to execute
[09:33:04] <nmatsakis> unless you setup special provision for it
[09:33:11] <nmatsakis> but is there a good example why this is inadequate?
[09:33:29] <theme> nmatsakis, thread::scoped()
[09:33:41] <nmatsakis> theme: right, as I said, I consider that a bug
[09:33:49] <nmatsakis> which we are fixing.
[09:33:54] <reem> nmatsakis: I’m mostly motivated to disagree with you just because the current API for thread::scoped is so good that I would be ok changing our approach to destructors for it.
[09:33:55] <theme> nmatsakis, well... it's outliving it's lifetime, after all
[09:34:08] <nmatsakis> theme: but it's not being *used* outside the lifetime
[09:34:18] <nmatsakis> so what I'm wondering is, is there a way to prompt it to be used that I am overlooking?
[09:34:28] <nmatsakis> reem: well, I think the current API for Rc is pretty good too :)
[09:34:40] <nmatsakis> reem: but also, I actually DON'T think the currnet scoped API is that great 
[09:34:43] <nmatsakis> in particular, if you write
[09:34:56] <nmatsakis> something like a quicksort, say
[09:35:01] <nmatsakis> let (left, right) = slice.split();
[09:35:04] <nmatsakis> scoped(|| process(left));
[09:35:09] <nmatsakis> scoped(|| process(right));
[09:35:17] <nmatsakis> it looks reasonable, but it doesn't do at all what you think it would
[09:35:31] <theme> nmatsakis, why?
[09:35:44] <nmatsakis> because the return value of scoped() is destructed immediately
[09:35:47] <nmatsakis> and hence the thread is joined
[09:35:49] <nmatsakis> but if we did something like:
[09:35:52] <nmatsakis> scoped(|| {
[09:35:52] <reem> theme: it does one thing, blocks until it is done, then does the second thing
[09:35:58] <theme> nmatsakis, there's a warning for that
[09:35:59] <nmatsakis>     let (left, right) = slice.split();
[09:36:06] <nmatsakis> er, 
[09:36:14] <nmatsakis> let me make a gist or something :)
[09:36:32] <reem> If you have an even better API than scoped I would be quite happy to see it :)
[09:37:02] <nmatsakis> https://gist.github.com/nikomatsakis/534c2fe18bd7ee7da558
[09:37:15] <nmatsakis> the advantage of this is
[09:37:21] <nmatsakis> (a) the place where join occurs is very clear but 
[09:37:36] <nmatsakis> (b) we can add grow this do do more things than simple spawn
[09:37:40] <nmatsakis> i.e., map over a vector etc
[09:37:43] <nmatsakis> all very easily
[09:37:47] <nmatsakis> ad the cost of (c) rightward drift, of course
[09:37:50] <theme> nmatsakis, one disadvantage is that you can't pass around JoinGuard
[09:37:50] <nmatsakis> *at the cost
[09:37:56] <nmatsakis> theme: yyes, you can
[09:37:57] <reem> nmatsakis: it’s more than this one rightward drift
[09:38:02] <nmatsakis> sorry, let me extend it
[09:38:10] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[09:38:10] <reem> nmatsakis: it means that any API which uses this has to also transform into a callback-taking style
[09:38:53] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[09:38:54] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[09:39:04] <theme> nmatsakis, there's a warning for an unused JoinGuard
[09:39:31] <nmatsakis> theme: I'm aware there's a warning. I'm also aware that this is a more general problem, hence the whole "must-use" infrastructure. I'm just saying it's not ideal.
[09:39:31] <reem> nmatsakis: It’s also much less close to the system API, in the sense that such an API must by necessity do stuff like allocating a Vec to store some form of guard or thread handle.
[09:40:01] <theme> reem, btw do you plan to have an Rc that allows leaking non-'statics?
[09:40:07] <theme> I mean, unsafe
[09:40:12] <nmatsakis> reem: can you elaborate a bit more on what you mean by "callback-taking" style? I think you can pass in the scope in which to fork your threads
[09:40:16] <reem> theme: Whatever, that’s a detail.
[09:40:40] <theme> nmatsakis, what does this scoped() function do? Does it return a join guard?
[09:40:55] <nmatsakis> theme: scoped() returns the result of the closure it is given
[09:41:13] <theme> nmatsakis, what happens if I want to pass around JoinGuard?
[09:41:34] <theme> nmatsakis, I mean, like a future or something
[09:41:46] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[09:41:57] <reem> nmatsakis: Consider this code from hyper: https://github.com/hyperium/hyper/blob/master/src/server/listener.rs#L20-L57
[09:41:58] <nmatsakis> theme: so I guess the question is what is "JoinGuard" here -- the idea is that when you spawn a thread (scope.spawn()) you get back a token representing that threa,d much like JoinGuard today. You can pass that around freely within the scope
[09:42:29] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[09:42:31] <theme> oh wait, I'm confounding JoinGuard and JoinHandle :(
[09:42:41] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:42:53] <nmatsakis> reem: yes, you would do it like this
[09:43:06] <theme> nmatsakis, what happens if I want to run 2 scoped threads, and then join only one of them, and then sleep for a while?
[09:43:25] <nmatsakis> pub fn accept<F>(self, scope: ThreadScope<'a>, work: F, threads: usize) ...
[09:43:39] <nmatsakis> then instead of calling thread::scoped(...)
[09:43:41] <nmatsakis> you would call
[09:43:43] <nmatsakis> scope.spawn(...)
[09:43:45] <nmatsakis> or whatever
[09:43:52] <nmatsakis> otherwise it would stay the same
[09:44:00] <reem> I see what you’re saying
[09:44:11] <nmatsakis> theme: you can do that, I updated the gist slightly: https://gist.github.com/nikomatsakis/534c2fe18bd7ee7da558
[09:44:25] <nmatsakis> reem: basically we've reified (made into a variable) the join scope that was implicit as 'a before
[09:44:32] <theme> nmatsakis, hmm
[09:44:44] <reem> OT: reified is a great word
[09:44:52] <theme> nmatsakis, what happens if I leak result1?
[09:45:05] <nmatsakis> theme: nothing, the whole point is that you can leak the result variables because they have no dtor
[09:45:11] <nmatsakis> the join occurs at the exit of the scope
[09:45:23] <nmatsakis> (if it hasn't already happened)
[09:45:36] <theme> nmatsakis, lemme think
[09:45:39] <nmatsakis> theme: well, by nothing I mean: it would get joined at exit from the scope
[09:45:55] <theme> nmatsakis, what is the function signature of scope.spawn()?
[09:45:57] <nmatsakis> reem: so I am of two minds, I see your point that adding 'static to Rc (and Arc) would solve the problem, but
[09:46:11] <nmatsakis> (a) I am concerned that there may be other ways to leak :)
[09:46:23] <nmatsakis> (b) I do think there are good uses for Rc/Arc over borrowed data
[09:46:34] <nmatsakis> (the compiler uses it, for example, to reference count things that contain Ty<'tcx>)
[09:46:48] <nmatsakis> (c) I think it'll break a lot of code :)
[09:47:05] <reem> I underestimated (b) so I figured (c) would only be a little code
[09:47:05] <bluss> I have a use case for a generic C-on-W container, which would be unable to use non-'static
[09:47:10] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[09:47:40] <nmatsakis> reem: yeah, but even beyond that, I think there's prob a fair amount of random code that does stuff like
[09:47:43] <nmatsakis> fn foo<T>(...) -> Rc<T>
[09:47:48] <reem> ah yes
[09:47:50] <nmatsakis> which even if T:'static always holds 
[09:47:51] <nmatsakis> would have to be changed
[09:48:07] <nmatsakis> now all that said maybe my scoped() proposal isn't the best thing, though I think it is sound and works today
[09:48:16] <nmatsakis> but we can iterate and discuss
[09:48:22] <theme> nmatsakis, I'm trying hard to break your soundness :P
[09:48:27] <nmatsakis> there is perhaps a lang feature lurking here...
[09:48:34] * theme likes finding soundness flaws in algorithms
[09:48:34] <nmatsakis> theme: well I'd love to know if I'm wrong!
[09:48:41] <nmatsakis> wouldn't be the first time...
[09:48:52] <bluss> nmatsakis: how JoinGuard intended to work seemed like a very potent language feature
[09:48:54] <nmatsakis> ...I had a nagging feeling about scoped() too but ah well
[09:49:04] <nmatsakis> bluss: yes, that's what I meant
[09:49:05] <bluss> nmatsakis: we would need the destructor to be guaranteed to run to use it
[09:49:11] <nmatsakis> right
[09:49:18] <nmatsakis> and I'm sure there are other use cases
[09:49:24] <nmatsakis> that would all have to be written (today) in this closure style
[09:49:30] <nmatsakis> one can imagine a generic facility for this too
[09:49:36] <nmatsakis> but I think it winds up being less ergonomic and less efficient
[09:49:49] <nmatsakis> that is, something like destructor_scope(|scope| ...) where you can call scope.at_exit(|| ...)
[09:49:58] <theme> nmatsakis, I'm thinking about nested spawns
[09:50:06] <theme> not sure what will happen
[09:50:33] <reem> I have this intuition that an awesome monad is buried here
[09:50:38] <theme> lol
[09:50:41] <theme> Cont?
[09:50:45] <reem> but I can’t put my finger on it
[09:50:47] <reem> possibly
[09:51:12] <nmatsakis> theme: I don't ... see a problem with nesting just now
[09:51:38] <theme> nmatsakis, can you specify the type signatures?
[09:51:51] <theme> It's so different from the current scoped() that I'm confused
[09:51:52] <nmatsakis> theme: yeah let me write out something a bit more specific
[09:51:54] <reem> I have high confidence that the closure solution is fine, since there’s absolutely no way to prevent the closure from exiting besides aborting
[09:52:36] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[09:52:44] <theme> reem, there are panics :P
[09:53:25] <reem> sure, but that’s controlled
[09:53:40] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[09:54:41] <reem> there are lots of pretty bog-standard ways to deal with panics in situations like this
[09:54:53] <reem> like just a guard or whatever within the implementation
[09:55:44] * theme continues to search for a soundness hole
[09:55:55] <nmatsakis> (right, it would have to be exception safe)
[09:56:32] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[09:56:53] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[09:57:01] <reem> nmatsakis: The way I see it the ‘static restriction is just a slightly more knee-jerk approach than the Arena solution
[09:57:37] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[09:57:38] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[09:57:39] <reem> e.g. it’s just the equivalent of the Arena solution where ’a == ‘static
[09:58:21] <theme> nmatsakis, I guess your approach is sound :/
[09:58:51] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[09:59:44] <nmatsakis> theme: well idk, but it'd be something like this https://gist.github.com/nikomatsakis/534c2fe18bd7ee7da558 <-- there are some details to work out, like whether we want &mut self. I fear mem::swap but we could guard against that too, at worst with a fresh lifetime parameter on the Scope
[10:00:03] <theme> nmatsakis, lemme see
[10:00:19] <nmatsakis> reem: I'm not sure what the Arena sol'n is
[10:00:39] <reem> nmatsakis: add a lifetime to Rc and require the contained data to have a lifetime strictly greater than it
[10:01:22] <reem> I actually haven’t worked it out specifically
[10:02:16] <reem> well, I should be off to bed
[10:02:18] <nmatsakis> reem: ah -- yes, I thouht about that, it's kind of what we do for dropck. I am not sure if we can make that work out though.
[10:02:29] <nmatsakis> yeah, I've got to go soon too
[10:02:33] <nmatsakis> though not to bed :)
[10:02:35] <theme> nmatsakis, why don't take `FnOnce(&mut ThreadScope<'a>)`
[10:02:37] *** Joins: eerie_ (eerie@moz-njefna.red.bezeqint.net)
[10:03:09] <nmatsakis> theme: that's what I was saying above about &mut self, I'm not sure what'd be best. 
[10:03:14] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[10:03:23] <nmatsakis> I'm a bit wary of mem::swap() if we pass in &mut, but we could fix that.
[10:03:24] <reem> theme: With &mut you can do shenanigans like swapping/replacing in a different guard or something
[10:03:38] <nmatsakis> but &ThreadScope is prob more convenient for users too
[10:03:50] <theme> hmm
[10:04:03] <nmatsakis> mem::swap is annoying.
[10:04:05] <nmatsakis> but handy.
[10:04:05] <theme> nmatsakis, then spawn() has to be thread-safe
[10:04:35] <nmatsakis> theme: it's not clear to me that you should be able to pass in a ThreadScope into another thread?
[10:04:51] <theme> nmatsakis, you can pass &ThreadScope to another scoped thread
[10:04:52] <nmatsakis> but if we wanted to permit it, then yes
[10:05:03] <nmatsakis> theme: how? you're assuming it's Send+Sync?
[10:05:15] <theme> oh...
[10:05:27] <nmatsakis> it's not really clear from my gist :)
[10:05:31] <nmatsakis> so it's not an unreasonable assumption
[10:05:39] <nmatsakis> but i'm not making it...I'll spell it out
[10:05:45] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[10:05:51] <reem> nmatsakis: Would you prefer this to the Leak solution?
[10:06:12] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[10:06:14] <reem> I guess that has the same problem as the ‘static solution, since it breaks fn foo<T>(..) -> Rc<T>
[10:06:33] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[10:07:04] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[10:07:48] *** zz_kimundi is now known as kimundi
[10:08:19] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:09:13] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[10:09:25] <theme> nmatsakis, here are my edits: https://gist.github.com/theemathas/debdb2cd58e7e4e7e409
[10:21:05] *** Joins: hugod (user@moz-885.jmo.24.70.IP)
[10:21:08] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:22:12] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[10:23:35] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:24:51] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[10:24:52] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[10:24:58] <bstrie> nmatsakis: there was another concern in the scrollback, which is that it doesn't make sense for mem::forget to be marked unsafe if you can achieve the same result by leaking Rc safely
[10:26:00] <reem> ^ this is the original impetus for me mucking around with changing Rc instead of changing scoped
[10:26:24] <reem> as long as Rc is the way it is, mem::forget might as well be safe
[10:26:36] <reem> (and we have to design APIs with that in mind)
[10:28:31] <bluss> since you can't un-safe it without a breaking change, might give that decision to remove unsafe plenty of time to mature
[10:31:26] <reem> bluss: fn forget<T>(val: T) { let x = Rc::new((val, RefCell::new(None))); *x.1.borrow_mut() = x.clone(); }
[10:31:26] <bstrie> bluss: why would un-unsafing mem::forget be a breaking change?
[10:31:45] <WindowsBunny> bstrie: Because code that uses mem::forget in safe code
[10:31:47] <WindowsBunny> would break
[10:31:52] <reem> bstrie: they mean making it unsafe again, not making it safe
[10:32:07] <bstrie> wait, is it marked safe today?
[10:32:10] <reem> no
[10:32:15] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[10:32:21] <bstrie> so where's the potential breakage?
[10:32:25] <WindowsBunny> they're saying it could be changed to safe
[10:32:27] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:32:30] <Mutabah> wait, forget is safe?
[10:32:32] <reem> I commented that it may as well be marked safe because of the above
[10:32:35] <reem> that’s it
[10:32:39] <reem> it’s still usnafe
[10:32:42] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[10:32:42] <reem> everyone chill :)
[10:33:05] <Mutabah> :)
[10:33:06] <bstrie> RFC: `ununsafe` keyword
[10:33:15] <WindowsBunny> Seems silly that mem::forget could be safely marked safe given the rest of rust
[10:33:25] <theme> bstrie, actually, I've been thinking of proposing an RFC with a `safe` keyword
[10:33:35] <theme> to reduce the amount of code in an unsafe fn
[10:33:39] <reem> WindowsBunny: Since you can emulate it with only safe code…
[10:33:40] <theme> s/code/unsafe code/
[10:33:57] <WindowsBunny> reem: Someone should write a safe version of mem::forget :P
[10:33:59] <bstrie> theme: you could just as well propose that unsafe functions no longer imply `unsafe` on the code contained within
[10:34:05] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Ping timeout: 121 seconds)
[10:34:16] <bstrie> I believe I have in the past, even
[10:34:21] <reem> WindowsBunny: fn forget<T>(val: T) { let x = Rc::new((val, RefCell::new(None))); *x.1.borrow_mut() = x.clone(); }
[10:34:45] <WindowsBunny> reem: yay
[10:34:49] *** Quits: jmesmon (ydoc@moz-naocu2.einic.org) (Ping timeout: 121 seconds)
[10:34:59] <WindowsBunny> a bit inefficient, but it works
[10:35:02] <reem> ^ that’s a hole in *something*
[10:35:06] <bstrie> reem: file a bug and I'll nominate it for 1.0 :P
[10:35:29] <reem> I will actually file an issue
[10:35:36] *** Quits: martin_ (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (A TLS packet with unexpected length was received.)
[10:35:42] <bstrie> reem: while we're at it let's literally just rename the function to mem::leak
[10:35:43] *** Quits: eerie_ (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[10:36:01] *** Joins: martin_ (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP)
[10:36:21] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:37:48] *** Joins: jmesmon (ydoc@moz-naocu2.einic.org)
[10:38:01] <reem> filed an issue
[10:38:11] <WindowsBunny> reem: link?
[10:38:25] <reem> https://github.com/rust-lang/rust/issues/24456
[10:43:36] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[10:43:39] *** Joins: marsel (user@moz-v6q.71o.180.94.IP)
[10:44:22] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[10:44:47] *** Quits: jmesmon (ydoc@moz-naocu2.einic.org) (Ping timeout: 121 seconds)
[10:49:38] *** Joins: jmesmon (ydoc@moz-naocu2.einic.org)
[10:52:11] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:52:57] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[10:55:01] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[10:57:20] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[10:57:41] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[10:59:42] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[11:00:19] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Client exited)
[11:01:43] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:03:56] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[11:05:01] <bluss> bstrie: don't make mem::forget safe too fast, I said
[11:07:32] *** Quits: untitaker (untitaker@moz-1ofpk1.highway.telekom.at) (Ping timeout: 121 seconds)
[11:10:22] <WindowsBunny> once you make it safe, you can't go back safely
[11:10:26] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[11:10:47] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[11:12:13] <bluss> is it possible to forbid cycles for only non-static Rc?
[11:12:47] <theme> bluss, how?
[11:13:06] <bluss> I don't know how, hence the question
[11:13:20] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[11:13:21] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[11:14:02] *** Joins: untitaker (untitaker@moz-0sc349.highway.telekom.at)
[11:15:24] <theme> bluss, someone proposed forbidding nested Rc's
[11:16:08] <bluss> that would forbid tree-like datastructures as well as basic composition
[11:16:08] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[11:16:29] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[11:20:24] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[11:25:16] *** Quits: z_beeblebrox (ford_prefec@moz-55rvi2.dclient.hispeed.ch) (Quit: Verlassend)
[11:26:48] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[11:30:58] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[11:34:02] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[11:35:31] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[11:35:32] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[11:35:32] *** kimundi is now known as zz_kimundi
[11:37:56] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[11:39:08] *** Joins: Diggsey (diggsey@moz-u5nc7k.dsl.pipex.com)
[11:40:59] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[11:41:25] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[11:41:26] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[11:41:27] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[11:42:13] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:42:41] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[11:44:03] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[11:44:25] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[11:48:25] *** Quits: Kxepal (Miranda@moz-6rfpaq.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[11:49:13] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[11:50:06] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[11:50:10] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Connection closed)
[11:50:12] *** Joins: Kxepal (Miranda@moz-vsh5q9.pppoe.mtu-net.ru)
[11:50:26] *** Joins: eerie_ (eerie@moz-njefna.red.bezeqint.net)
[11:53:31] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[11:53:35] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:58:19] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[12:00:18] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[12:04:32] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[12:11:25] *** Quits: sully (sully@moz-qhc979.emarhavil.com) (*.net *.split)
[12:11:25] *** Quits: shep-home (shep@moz-7pm0e0.fios.verizon.net) (*.net *.split)
[12:11:25] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (*.net *.split)
[12:11:25] *** Quits: WindowsBunny (Peter@moz-ubruqj.east.verizon.net) (*.net *.split)
[12:11:25] *** Quits: steveklabnik (root@moz-fft.uo8.55.45.IP) (*.net *.split)
[12:11:25] *** Quits: ctennis (ctennis@moz-vcpg3c.in.comcast.net) (*.net *.split)
[12:11:25] *** Quits: pjenvey (pjenvey@moz-ph7jic.org) (*.net *.split)
[12:11:25] *** Quits: comex (comex@moz-f48.n7p.17.50.IP) (*.net *.split)
[12:11:25] *** Quits: hugod (user@moz-885.jmo.24.70.IP) (*.net *.split)
[12:11:25] *** Quits: achernya_ (quassel@moz-i01917.mit.edu) (*.net *.split)
[12:11:25] *** Quits: kemurphy (kemurphy@moz-ke1.ea2.241.192.IP) (*.net *.split)
[12:11:25] *** Quits: cgaebel (cgaebel@moz-aq9.qj7.199.198.IP) (*.net *.split)
[12:11:25] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (*.net *.split)
[12:11:25] *** Quits: JustAPerson (JustAPerson@moz-un628q.moe) (*.net *.split)
[12:11:25] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (*.net *.split)
[12:11:25] *** Quits: jmorton (jmorton@moz-83s.irv.199.198.IP) (*.net *.split)
[12:11:25] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (*.net *.split)
[12:11:25] *** Quits: Aaron (aaron@moz-em79ik.aaronlindsay.com) (*.net *.split)
[12:11:25] *** Quits: Diamond (dick@moz-s67uin.ok.cox.net) (*.net *.split)
[12:11:25] *** Quits: kmehall (quassel@moz-i98f9d.kevinmehall.com) (*.net *.split)
[12:11:25] *** Quits: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU) (*.net *.split)
[12:11:25] *** Quits: whipsch (whipsch@moz-bl4i0b.from.irc.camp) (*.net *.split)
[12:11:25] *** Quits: tjakubow (tom@moz-ag87jj.fios.verizon.net) (*.net *.split)
[12:11:25] *** Quits: alfred (rndm@moz-fg3.o0i.131.104.IP) (*.net *.split)
[12:11:25] *** Quits: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca) (*.net *.split)
[12:11:25] *** Quits: geofft (geofft@moz-vfphq1.mit.edu) (*.net *.split)
[12:11:25] *** Quits: mmun (mmun@moz-iar.moo.170.107.IP) (*.net *.split)
[12:11:25] *** Quits: bitemyapp (callen@moz-s2l.6j9.199.198.IP) (*.net *.split)
[12:11:25] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (*.net *.split)
[12:11:25] *** Quits: rovar_ (rovar@moz-m2j7h0.dyn.optonline.net) (*.net *.split)
[12:11:25] *** Quits: dustinm (dustinm@moz-9ms.n6q.68.208.IP) (*.net *.split)
[12:11:25] *** Quits: Sergio (Sergio@moz-23roph.bz) (*.net *.split)
[12:11:25] *** Quits: lahwran (lahwran@lahwran.net) (*.net *.split)
[12:11:25] *** Quits: jmesmon (ydoc@moz-naocu2.einic.org) (*.net *.split)
[12:11:25] *** Quits: carter (carter@moz-0253uj.members.linode.com) (*.net *.split)
[12:11:25] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (*.net *.split)
[12:11:25] *** Quits: tdfischer (tdfischer@hackerbots.net) (*.net *.split)
[12:11:25] *** Quits: snow (snow@moz-ab9.t40.131.104.IP) (*.net *.split)
[12:11:25] *** Quits: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP) (*.net *.split)
[12:11:25] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (*.net *.split)
[12:11:25] *** Quits: dcrewi (david@moz-3u3d5k.gyrae.net) (*.net *.split)
[12:11:25] *** Quits: k1i (k1i@moz-cu3.cgm.243.162.IP) (*.net *.split)
[12:11:26] *** Quits: awe (awe@moz-vpr.va5.236.104.IP) (*.net *.split)
[12:11:26] *** Quits: etw (john@moz-2lpgmu.fios.verizon.net) (*.net *.split)
[12:11:26] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (*.net *.split)
[12:11:26] *** Quits: jamwt (jamwt@moz-noo6hc.jamwt.com) (*.net *.split)
[12:11:26] *** Quits: ndt (ndt@moz-t0t.9gv.241.192.IP) (*.net *.split)
[12:11:26] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (*.net *.split)
[12:11:26] *** Quits: bodie (bodie@moz-vs7.tk8.243.162.IP) (*.net *.split)
[12:11:26] *** Quits: BlakeWilliams (BW@moz-32q.80a.230.173.IP) (*.net *.split)
[12:11:26] *** Quits: bstrie (ben@moz-avu3ju.members.linode.com) (*.net *.split)
[12:11:32] *** Joins: alfred (rndm@moz-fg3.o0i.131.104.IP)
[12:11:32] *** Joins: kmehall (quassel@moz-i98f9d.kevinmehall.com)
[12:11:32] *** Joins: jamwt (jamwt@moz-noo6hc.jamwt.com)
[12:11:32] *** Joins: bstrie (ben@moz-avu3ju.members.linode.com)
[12:11:32] *** Joins: mmun (mmun@moz-iar.moo.170.107.IP)
[12:11:32] *** Joins: k1i (k1i@moz-cu3.cgm.243.162.IP)
[12:11:32] *** Joins: kemurphy (kemurphy@moz-ke1.ea2.241.192.IP)
[12:11:32] *** Joins: ndt (ndt@moz-t0t.9gv.241.192.IP)
[12:11:32] *** Joins: awe (awe@moz-vpr.va5.236.104.IP)
[12:11:32] *** Joins: Sergio (Sergio@moz-23roph.bz)
[12:11:32] *** Joins: carter (carter@moz-0253uj.members.linode.com)
[12:11:32] *** Joins: WindowsBunny (Peter@moz-ubruqj.east.verizon.net)
[12:11:32] *** Joins: sully (sully@moz-qhc979.emarhavil.com)
[12:11:32] *** Joins: hugod (user@moz-885.jmo.24.70.IP)
[12:11:32] *** Joins: Aaron (aaron@moz-em79ik.aaronlindsay.com)
[12:11:32] *** Joins: steveklabnik (root@moz-fft.uo8.55.45.IP)
[12:11:32] *** Joins: JustAPerson (JustAPerson@moz-un628q.moe)
[12:11:32] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[12:11:32] *** Joins: rovar_ (rovar@moz-m2j7h0.dyn.optonline.net)
[12:11:32] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[12:11:32] *** Joins: tdfischer (tdfischer@hackerbots.net)
[12:11:32] *** Joins: BlakeWilliams (BW@moz-32q.80a.230.173.IP)
[12:11:32] *** Joins: geofft (geofft@moz-vfphq1.mit.edu)
[12:11:32] *** Joins: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP)
[12:11:32] *** Joins: shep-home (shep@moz-7pm0e0.fios.verizon.net)
[12:11:32] *** Joins: bitemyapp (callen@moz-s2l.6j9.199.198.IP)
[12:11:32] *** Joins: achernya_ (quassel@moz-i01917.mit.edu)
[12:11:32] *** Joins: jmesmon (ydoc@moz-naocu2.einic.org)
[12:11:32] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[12:11:32] *** Joins: cgaebel (cgaebel@moz-aq9.qj7.199.198.IP)
[12:11:32] *** Joins: Diamond (dick@moz-s67uin.ok.cox.net)
[12:11:32] *** Joins: snow (snow@moz-ab9.t40.131.104.IP)
[12:11:32] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[12:11:32] *** Joins: lahwran (lahwran@lahwran.net)
[12:11:32] *** Joins: rovar (rovar@moz-6iq.47m.88.38.IP)
[12:11:32] *** Joins: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net)
[12:11:32] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[12:11:32] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[12:11:32] *** Joins: bodie (bodie@moz-vs7.tk8.243.162.IP)
[12:11:32] *** levin.mozilla.org sets mode: +oo bstrie steveklabnik
[12:11:32] *** Joins: jmorton (jmorton@moz-83s.irv.199.198.IP)
[12:11:32] *** Joins: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca)
[12:11:32] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[12:11:32] *** Joins: dustinm (dustinm@moz-9ms.n6q.68.208.IP)
[12:11:32] *** Joins: pjenvey (pjenvey@moz-ph7jic.org)
[12:11:32] *** Joins: tjakubow (tom@moz-ag87jj.fios.verizon.net)
[12:11:32] *** Joins: dcrewi (david@moz-3u3d5k.gyrae.net)
[12:11:32] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[12:11:32] *** Joins: whipsch (whipsch@moz-bl4i0b.from.irc.camp)
[12:11:32] *** Joins: ctennis (ctennis@moz-vcpg3c.in.comcast.net)
[12:11:32] *** Joins: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU)
[12:11:32] *** Joins: comex (comex@moz-f48.n7p.17.50.IP)
[12:12:56] *** Quits: Diamond (dick@moz-s67uin.ok.cox.net) (Ping timeout: 121 seconds)
[12:14:37] *** Quits: jmesmon (ydoc@moz-naocu2.einic.org) (Ping timeout: 121 seconds)
[12:14:45] *** Joins: larhat1 (Adium@moz-8v4.af0.232.213.IP)
[12:15:22] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Connection closed)
[12:16:43] *** Quits: carter (carter@moz-0253uj.members.linode.com) (Ping timeout: 121 seconds)
[12:18:42] *** Joins: Diamond (dick@moz-s67uin.ok.cox.net)
[12:20:28] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[12:20:45] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[12:22:05] *** Quits: sully (sully@moz-qhc979.emarhavil.com) (*.net *.split)
[12:22:05] *** Quits: shep-home (shep@moz-7pm0e0.fios.verizon.net) (*.net *.split)
[12:22:05] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (*.net *.split)
[12:22:05] *** Quits: WindowsBunny (Peter@moz-ubruqj.east.verizon.net) (*.net *.split)
[12:22:05] *** Quits: steveklabnik (root@moz-fft.uo8.55.45.IP) (*.net *.split)
[12:22:05] *** Quits: ctennis (ctennis@moz-vcpg3c.in.comcast.net) (*.net *.split)
[12:22:05] *** Quits: pjenvey (pjenvey@moz-ph7jic.org) (*.net *.split)
[12:22:05] *** Quits: comex (comex@moz-f48.n7p.17.50.IP) (*.net *.split)
[12:22:05] *** Quits: hugod (user@moz-885.jmo.24.70.IP) (*.net *.split)
[12:22:05] *** Quits: achernya_ (quassel@moz-i01917.mit.edu) (*.net *.split)
[12:22:05] *** Quits: kemurphy (kemurphy@moz-ke1.ea2.241.192.IP) (*.net *.split)
[12:22:05] *** Quits: cgaebel (cgaebel@moz-aq9.qj7.199.198.IP) (*.net *.split)
[12:22:05] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (*.net *.split)
[12:22:05] *** Quits: JustAPerson (JustAPerson@moz-un628q.moe) (*.net *.split)
[12:22:05] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (*.net *.split)
[12:22:05] *** Quits: jmorton (jmorton@moz-83s.irv.199.198.IP) (*.net *.split)
[12:22:05] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (*.net *.split)
[12:22:05] *** Quits: Aaron (aaron@moz-em79ik.aaronlindsay.com) (*.net *.split)
[12:22:05] *** Quits: kmehall (quassel@moz-i98f9d.kevinmehall.com) (*.net *.split)
[12:22:05] *** Quits: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU) (*.net *.split)
[12:22:05] *** Quits: whipsch (whipsch@moz-bl4i0b.from.irc.camp) (*.net *.split)
[12:22:05] *** Quits: tjakubow (tom@moz-ag87jj.fios.verizon.net) (*.net *.split)
[12:22:05] *** Quits: alfred (rndm@moz-fg3.o0i.131.104.IP) (*.net *.split)
[12:22:05] *** Quits: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca) (*.net *.split)
[12:22:05] *** Quits: geofft (geofft@moz-vfphq1.mit.edu) (*.net *.split)
[12:22:05] *** Quits: mmun (mmun@moz-iar.moo.170.107.IP) (*.net *.split)
[12:22:05] *** Quits: bitemyapp (callen@moz-s2l.6j9.199.198.IP) (*.net *.split)
[12:22:05] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (*.net *.split)
[12:22:05] *** Quits: rovar_ (rovar@moz-m2j7h0.dyn.optonline.net) (*.net *.split)
[12:22:05] *** Quits: dustinm (dustinm@moz-9ms.n6q.68.208.IP) (*.net *.split)
[12:22:05] *** Quits: Sergio (Sergio@moz-23roph.bz) (*.net *.split)
[12:22:05] *** Quits: lahwran (lahwran@lahwran.net) (*.net *.split)
[12:22:05] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (*.net *.split)
[12:22:05] *** Quits: tdfischer (tdfischer@hackerbots.net) (*.net *.split)
[12:22:05] *** Quits: snow (snow@moz-ab9.t40.131.104.IP) (*.net *.split)
[12:22:05] *** Quits: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP) (*.net *.split)
[12:22:05] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (*.net *.split)
[12:22:05] *** Quits: dcrewi (david@moz-3u3d5k.gyrae.net) (*.net *.split)
[12:22:05] *** Quits: k1i (k1i@moz-cu3.cgm.243.162.IP) (*.net *.split)
[12:22:05] *** Quits: awe (awe@moz-vpr.va5.236.104.IP) (*.net *.split)
[12:22:05] *** Quits: etw (john@moz-2lpgmu.fios.verizon.net) (*.net *.split)
[12:22:05] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (*.net *.split)
[12:22:05] *** Quits: jamwt (jamwt@moz-noo6hc.jamwt.com) (*.net *.split)
[12:22:05] *** Quits: ndt (ndt@moz-t0t.9gv.241.192.IP) (*.net *.split)
[12:22:05] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (*.net *.split)
[12:22:05] *** Quits: bodie (bodie@moz-vs7.tk8.243.162.IP) (*.net *.split)
[12:22:05] *** Quits: BlakeWilliams (BW@moz-32q.80a.230.173.IP) (*.net *.split)
[12:22:05] *** Quits: bstrie (ben@moz-avu3ju.members.linode.com) (*.net *.split)
[12:22:07] *** Joins: carter (carter@moz-aheg3i.ieqc.6fdm.3c03.2600.IP)
[12:22:32] *** Joins: alfred (rndm@moz-fg3.o0i.131.104.IP)
[12:22:32] *** Joins: kmehall (quassel@moz-i98f9d.kevinmehall.com)
[12:22:32] *** Joins: jamwt (jamwt@moz-noo6hc.jamwt.com)
[12:22:32] *** Joins: bstrie (ben@moz-avu3ju.members.linode.com)
[12:22:32] *** Joins: mmun (mmun@moz-iar.moo.170.107.IP)
[12:22:32] *** Joins: k1i (k1i@moz-cu3.cgm.243.162.IP)
[12:22:32] *** Joins: kemurphy (kemurphy@moz-ke1.ea2.241.192.IP)
[12:22:32] *** Joins: ndt (ndt@moz-t0t.9gv.241.192.IP)
[12:22:32] *** Joins: awe (awe@moz-vpr.va5.236.104.IP)
[12:22:32] *** Joins: Sergio (Sergio@moz-23roph.bz)
[12:22:32] *** Joins: WindowsBunny (Peter@moz-ubruqj.east.verizon.net)
[12:22:32] *** Joins: sully (sully@moz-qhc979.emarhavil.com)
[12:22:32] *** Joins: hugod (user@moz-885.jmo.24.70.IP)
[12:22:32] *** Joins: Aaron (aaron@moz-em79ik.aaronlindsay.com)
[12:22:32] *** Joins: steveklabnik (root@moz-fft.uo8.55.45.IP)
[12:22:32] *** Joins: JustAPerson (JustAPerson@moz-un628q.moe)
[12:22:32] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[12:22:32] *** Joins: rovar_ (rovar@moz-m2j7h0.dyn.optonline.net)
[12:22:32] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[12:22:32] *** Joins: tdfischer (tdfischer@hackerbots.net)
[12:22:32] *** Joins: BlakeWilliams (BW@moz-32q.80a.230.173.IP)
[12:22:32] *** Joins: geofft (geofft@moz-vfphq1.mit.edu)
[12:22:32] *** Joins: frewsxcv (frewsxcv@moz-lr4.h2r.241.192.IP)
[12:22:32] *** Joins: shep-home (shep@moz-7pm0e0.fios.verizon.net)
[12:22:32] *** Joins: bitemyapp (callen@moz-s2l.6j9.199.198.IP)
[12:22:32] *** Joins: achernya_ (quassel@moz-i01917.mit.edu)
[12:22:32] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[12:22:32] *** Joins: cgaebel (cgaebel@moz-aq9.qj7.199.198.IP)
[12:22:32] *** Joins: snow (snow@moz-ab9.t40.131.104.IP)
[12:22:32] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:22:32] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[12:22:32] *** Joins: lahwran (lahwran@lahwran.net)
[12:22:32] *** Joins: rovar (rovar@moz-6iq.47m.88.38.IP)
[12:22:32] *** Joins: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net)
[12:22:32] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[12:22:32] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[12:22:32] *** Joins: bodie (bodie@moz-vs7.tk8.243.162.IP)
[12:22:32] *** Joins: jmorton (jmorton@moz-83s.irv.199.198.IP)
[12:22:32] *** Joins: Luqman (laden@moz-qhp202.csclub.uwaterloo.ca)
[12:22:32] *** levin.mozilla.org sets mode: +oo bstrie steveklabnik
[12:22:32] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[12:22:32] *** Joins: dustinm (dustinm@moz-9ms.n6q.68.208.IP)
[12:22:32] *** Joins: pjenvey (pjenvey@moz-ph7jic.org)
[12:22:32] *** Joins: tjakubow (tom@moz-ag87jj.fios.verizon.net)
[12:22:32] *** Joins: dcrewi (david@moz-3u3d5k.gyrae.net)
[12:22:32] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[12:22:32] *** Joins: whipsch (whipsch@moz-bl4i0b.from.irc.camp)
[12:22:32] *** Joins: ctennis (ctennis@moz-vcpg3c.in.comcast.net)
[12:22:32] *** Joins: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU)
[12:22:32] *** Joins: comex (comex@moz-f48.n7p.17.50.IP)
[12:23:32] *** Quits: eerie_ (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[12:25:07] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[12:26:21] *** Joins: mgottschlag (quassel@moz-7nba78.h71g.nb65.1398.2a00.IP)
[12:27:26] *** Joins: jmesmon (ydoc@moz-naocu2.einic.org)
[12:28:20] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[12:29:04] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Quit: Leaving.)
[12:30:24] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:30:33] *** Joins: bytewise (bytewise@moz-oce.qmk.61.134.IP)
[12:32:45] *** Quits: marsel (user@moz-v6q.71o.180.94.IP) (Ping timeout: 121 seconds)
[12:35:37] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[12:38:37] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[12:41:33] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[12:41:34] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[12:44:39] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[12:45:56] *** Joins: ineol (ineol@moz-v40.60i.23.161.IP)
[12:46:35] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[12:46:38] *** Quits: bytewise (bytewise@moz-oce.qmk.61.134.IP) (Quit: Quit)
[12:47:56] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[12:49:22] *** Quits: mgottschlag (quassel@moz-7nba78.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[12:49:43] *** Quits: semarie (semarie@moz-md1mas.ipredator.se) (Quit: WeeChat 1.1)
[12:50:12] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Quit: )
[12:50:36] *** Quits: ineol (ineol@moz-v40.60i.23.161.IP) (Client exited)
[12:52:04] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[12:53:07] *** Joins: mgottschlag (quassel@moz-dd55qu.qiv1.bbcb.1398.2a00.IP)
[12:53:22] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[12:55:51] *** Joins: ineol (ineol@moz-v40.60i.23.161.IP)
[12:57:36] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[12:59:39] *** Quits: ineol (ineol@moz-v40.60i.23.161.IP) (Client exited)
[12:59:53] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[13:01:03] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[13:05:21] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[13:05:31] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[13:07:09] *** Joins: semarie (semarie@moz-4l4vbv.server7.tvdw.eu)
[13:13:59] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[13:14:44] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[13:15:13] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[13:19:17] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[13:20:37] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:25:44] *** Joins: poorman (poorman@moz-ne2.2ic.131.12.IP)
[13:27:09] *** Quits: alfred (rndm@moz-fg3.o0i.131.104.IP) (Quit: WeeChat 0.4.2)
[13:32:27] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[13:34:35] *** Quits: ctennis (ctennis@moz-vcpg3c.in.comcast.net) (Quit: Leaving...)
[13:35:37] *** Quits: mgottschlag (quassel@moz-dd55qu.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[13:37:12] *** Joins: ctennis (ctennis@moz-vcpg3c.in.comcast.net)
[13:43:46] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:44:46] *** Quits: ctennis (ctennis@moz-vcpg3c.in.comcast.net) (Quit: Leaving...)
[13:45:26] *** zz_kimundi is now known as kimundi
[13:45:33] *** Joins: eerie_ (eerie@moz-njefna.red.bezeqint.net)
[13:46:30] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[13:46:43] <nmatsakis> reem: 
[13:46:44] <nmatsakis> oops
[13:48:18] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[13:54:03] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:55:09] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[13:57:22] <Aaron> doener_: Thanks! Yeah, I looked more into it more last night and found arg_type_of, was going to experiment a bit but was having trouble getting my system to build rustc for some reason...
[13:59:21] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Connection closed)
[13:59:29] *** Joins: ytain (ytain@moz-bps1td.dsl.teksavvy.com)
[14:01:48] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[14:04:38] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[14:05:55] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[14:09:21] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[14:10:56] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[14:11:12] *** Joins: ctennis (ctennis@moz-f8q.e72.137.99.IP)
[14:13:26] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[14:14:08] *** Quits: eerie_ (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[14:14:30] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[14:19:03] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[14:20:19] *** Joins: Diggsey2 (diggsey@moz-19vkp5.dsl.pipex.com)
[14:20:28] *** Quits: Diggsey (diggsey@moz-u5nc7k.dsl.pipex.com) (Ping timeout: 121 seconds)
[14:23:06] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[14:26:27] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[14:29:32] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: Textual IRC Client: www.textualapp.com)
[14:35:05] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:35:55] *** Joins: eerie_ (eerie@moz-060j2q.red.bezeqint.net)
[14:35:56] <simukis> I think we should split liblibc off the rustc and bind what we use at the use locations e.g. sys::$platform
[14:38:10] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[14:38:14] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[14:38:15] *** ChanServ sets mode: +o pnkfelix
[14:40:40] <nmatsakis> aturon: so...
[14:40:44] <nmatsakis> you around?
[14:42:35] <eternaleye> ChrisMorgan: Compose = ♥
[14:45:41] <aturon> nmatsakis: sorry, going to be afk for a bit, feel free to msg and i'll get back to you
[14:46:33] <nmatsakis> aturon: ok, I wanted to talk about backwards compat and a few thorny cases :) but ping me later
[14:53:08] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[14:55:58] *** Quits: eerie_ (eerie@moz-060j2q.red.bezeqint.net) (Ping timeout: 121 seconds)
[14:59:57] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[15:00:04] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[15:00:08] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[15:00:29] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[15:02:05] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Connection closed)
[15:02:13] *** Joins: leaperex (Mibbit@moz-juv.9o3.252.72.IP)
[15:02:33] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[15:03:06] *** Quits: leaperex (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:04:00] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Ping timeout: 121 seconds)
[15:05:29] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[15:05:56] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[15:06:04] *** Quits: imperio (Mibbit@moz-tl0.mgj.88.79.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:06:38] <Manishearth> erickt: any updates on the github ban thingy?
[15:06:43] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[15:07:29] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[15:07:33] <erickt> Manishearth: I'll check if I missed an email from them...
[15:07:38] *** rkruppe_ is now known as rkruppe
[15:09:58] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:10:56] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[15:18:34] *** Joins: Unwound_ (bkoropoff@moz-kthi5c.wa.comcast.net)
[15:22:14] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Quit: Leaving)
[15:22:23] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[15:24:05] *** Joins: mgottschlag (quassel@moz-7nba78.h71g.nb65.1398.2a00.IP)
[15:24:58] *** Joins: mib_ck82gt (Mibbit@moz-juv.9o3.252.72.IP)
[15:25:42] *** Quits: mib_ck82gt (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:28:16] <erickt> Manishearth: moderation API is not on the roadmap, but they passed on the suggestion to the feature folks
[15:29:48] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[15:32:25] <proc> erickt: so you've the choice to add it to the CoC and request every ban explicitly ?
[15:32:27] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[15:34:50] <Manishearth> erickt: kay
[15:36:16] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[15:36:47] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:37:29] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Connection closed)
[15:37:30] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[15:37:44] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Connection closed)
[15:38:27] *** Joins: marsel (user@moz-v6q.71o.180.94.IP)
[15:38:55] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[15:39:32] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Connection closed)
[15:40:21] <erickt> proc: yeah, we need to request a ban from github support
[15:40:45] *** Quits: Unwound_ (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[15:40:49] <erickt> so I think what we can do for the short term timeouts is just lock the issue for an hour or so
[15:40:54] <erickt> it's possible that's scriptable
[15:41:04] <steveklabnik> yo who's an admin in cargo, we need a kick
[15:41:06] <erickt> certainly by way of scraping the web page
[15:41:08] <proc> erickt: write an auto-request bot, banning for some days & dann unbanning, indirectly (not a pun)
[15:41:08] <steveklabnik> #cargo
[15:41:14] <proc> *then
[15:41:27] <erickt> heh, I think github would get unhappy with us if we did that :)
[15:41:32] <proc> :D
[15:42:18] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:43:35] *** Quits: mgottschlag (quassel@moz-7nba78.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[15:44:16] *** Joins: mgottschlag (quassel@moz-dd55qu.qiv1.bbcb.1398.2a00.IP)
[15:44:55] *** Quits: poorman (poorman@moz-ne2.2ic.131.12.IP) (Ping timeout: 121 seconds)
[15:47:38] *** Joins: poorman (poorman@moz-ne2.2ic.131.12.IP)
[15:49:21] *** Joins: O01eg (o01eg@moz-6mt.6j7.212.176.IP)
[15:50:36] <aturon> nmatsakis: ok, i'm all ears
[15:52:44] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[15:52:53] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[15:53:35] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[15:57:30] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[15:57:30] *** ChanServ sets mode: +o brson
[16:00:20] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (A TLS packet with unexpected length was received.)
[16:01:55] <eternaleye> I think it's a pretty decent way of showing that we're pretty unhappy with the lack of a moderation API :P
[16:03:31] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[16:05:16] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[16:05:24] *** Joins: ineol (ineol@moz-akt.oi0.185.94.IP)
[16:07:24] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (A TLS packet with unexpected length was received.)
[16:07:34] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[16:07:38] *** Quits: johnz133 (johnz133@moz-tqd.4t0.72.208.IP) (Ping timeout: 121 seconds)
[16:08:05] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[16:08:27] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:09:16] <nmatsakis> aturon: well pnkfelix and I were looking at lifetime hygiene, though from two different angles
[16:11:28] <nmatsakis> basically, right now we don't do it :)
[16:11:33] <nmatsakis> or at least, not consistently
[16:12:44] <pnkfelix> the only place where we could even attempt to do it is loop-labels
[16:12:51] <pnkfelix> if I understand correctly
[16:12:56] <nmatsakis> right
[16:13:04] <nmatsakis> which is used for macros here and there: https://github.com/rust-lang/rust/blob/master/src/libcore/cmp_macros.rs#L22-L27
[16:13:04] *** Joins: arielb1 (Ariel@moz-r1gm7r.red.bezeqint.net)
[16:13:11] <acrichto> richo: rlibs are actually just .a archives, and they're primarily created by the `ar` utility in rustc_back::archive
[16:13:17] <aturon> nmatsakis: hmm, ok, i'm scared already :)
[16:13:21] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[16:13:23] <nmatsakis> anyway, this affects the fix for #22077, which is how I came to it
[16:13:49] <nmatsakis> for now I implemented a limited version
[16:14:00] <nmatsakis> https://github.com/rust-lang/rust/pull/24461
[16:14:10] <nmatsakis> I am going to attempt a slightly broader fix 
[16:14:15] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:14:24] <nmatsakis> that still permits that pattern of "pre-emptively" declaring lifetimes that might be needed
[16:14:25] <pnkfelix> nmatsakis: if we were to add lifetime hygiene, it seems like in many cases the breakage would be quite overt
[16:14:29] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[16:14:30] *** rkruppe_ is now known as rkruppe
[16:14:37] <pnkfelix> nmatsakis: e.g. the chance of *silent* breakage seems somewhat limited, do you think that is accurate?
[16:14:50] <nmatsakis> pnkfelix: I agree, I expect it would mostly manifest as resolution failures
[16:15:02] <pnkfelix> nmatsakis: (I'm basing that in part on the assumptiont that unused lifetimes would yield static errors)
[16:15:17] <nmatsakis> my feeling right now is it's probably ... not worth trying to do more
[16:15:25] <nmatsakis> but idk it feels yucky :)
[16:15:32] <aturon> nmatsakis: hm so, i'm having a hard time connecting the issues/PRs you've pointed out. in particular,
[16:15:41] <aturon> the PR is about assoc type definitions,
[16:15:43] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:15:43] *** ChanServ sets mode: +o pcwalton
[16:15:45] <pnkfelix> aturon: don't feel bad, so did i
[16:15:53] <aturon> but the example code is only using lifetimes in the impl header
[16:15:56] <aturon> (no assoc types)
[16:16:00] <aturon> pnkfelix: :)
[16:16:24] <aturon> nmatsakis: are you saying there are also example macros that do this for assoc type definitions?
[16:16:28] <nmatsakis> no, I am not
[16:16:30] <nmatsakis> I am saying that
[16:16:34] <nmatsakis> the most consistent rule imo
[16:16:47] <nmatsakis> would be to require that all lifetime parameters declared on impls follow same rules as types
[16:17:01] <nmatsakis> but if we did that, it breaks macros like the one  I linked to,
[16:17:07] <nmatsakis> which declare lifetimes like 'a that are only sometimes used
[16:17:20] <aturon> oh i see, by "all unconstrained lifetimes" you were generalizing beyond assoc types. got it
[16:17:28] <nmatsakis> the connection to hygiene of course is that
[16:17:34] <nmatsakis> the only reason that impls works
[16:17:35] <nmatsakis> is the lack of it
[16:17:41] <nmatsakis> er, that macro works
[16:17:42] <aturon> yes :)
[16:17:51] <aturon> ok, i understand
[16:18:13] <nmatsakis> I'm experimenting now with a slightly more aggressive version of that PR that enforces the rules only for lifetime parameters that are referenced *somewhere*
[16:18:17] <nmatsakis> whether or not that is within an assoc type
[16:18:18] <aturon> so, the lang change would be breaking either way, but the macro issue is what makes the breakage painful in practice
[16:18:31] <nmatsakis> right, well, I haven't run this acvross all crates or anything,
[16:18:36] <nmatsakis> but the other changes are clear soundness issues :)
[16:18:39] <aturon> i feel like this is possibly within the realm of "bug fix"
[16:18:40] <nmatsakis> vs the macro
[16:18:57] *** Joins: avikpal (avikpal@moz-7r5.imq.194.117.IP)
[16:19:22] <pnkfelix> aturon: would you be a good person to look at gh24420
[16:19:22] <[o__o]> Fill in missing parts of Integer overflow API : https://github.com/rust-lang/rust/pull/24420
[16:19:35] <pnkfelix> or should i leave it with achrichto (or give it to nmatsakis ?)
[16:19:37] <aturon> nmatsakis: yeah, so my instinct would be to see how this looks on crates.io
[16:19:58] *** Quits: avikpal (avikpal@moz-7r5.imq.194.117.IP) (Connection closed)
[16:20:18] <aturon> pnkfelix: i can r? it
[16:21:30] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[16:22:39] <nmatsakis> aturon: "this" refers to what exactly?
[16:23:04] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[16:23:59] <aturon> nmatsakis: sorry, so: you never actually asked me a question, but i assumed the implicit question was: should we consider making a more aggressive change? and i was saying: seems like something brson's tool could help with
[16:25:58] <nmatsakis> aturon: ok. yes, I was planning on pushing brson on that front, but it'll require a bit more work on my part, since I have to (at minimum) fix libstd :)
[16:26:27] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[16:26:37] <nmatsakis> in any case, the bigger question is I guess whether to fix lifetime hygiene overall, but it feels....kind of clearly out of scope (sadly)
[16:26:45] <nmatsakis> I guess I knew that it wasn't working
[16:26:49] <erickt> nmatsakis: to summarize, your patch will turn this into an error? `impl<'a> Foo for Bar { ... }`?
[16:27:03] <nmatsakis> erickt: well the patch I put up does not necessarily, but the most aggressive version would
[16:27:18] <nmatsakis> the patch I actually put up would turn *this* into an error
[16:27:24] <nmatsakis> impl<'a> Foo for Bar { type X = &'a i32 }
[16:27:57] <aturon> nmatsakis: agreed re: hygiene. the decision to ungate macros basically committed us to this road -- but that's what macros 2.0 are for :)
[16:28:07] <erickt> nmatsakis: I'm surprised that wasn't already an error
[16:28:39] <nmatsakis> erickt: yes, well, I probably should made it one. I didn't because ... I don't know, basically because of the example I gave before.
[16:28:44] <nmatsakis> this isn't really a *surprise* to me
[16:28:50] <nmatsakis> but what I didn't realize was the danger w/ associated types
[16:29:01] <nmatsakis> if we do any enforcement, it feels a bit funny to do it selectively
[16:29:20] <nmatsakis> but I'd also be happy with my in-between version
[16:29:33] <nmatsakis> that prevents 'a from being used anywhere if it's not constrained by the impl header
[16:29:36] <erickt> yeah. I'd certainly err on 1.0 being too restrictive on these things
[16:29:48] *** Joins: avikpal (avikpal@moz-7r5.imq.194.117.IP)
[16:29:59] <nmatsakis> since that basically means you can add dummy lifetimes but I think it's clear it won't be unsound 
[16:30:21] <nmatsakis> vs the assoc types one which requires mildly subtle (and possibly false) reasoning
[16:30:53] <erickt> although I did spend yesterday wishing I could somehow get `trait Foo { Type Item; type Bar<'a>: Iterator<&'a T; ... }` to work :)
[16:32:04] <brson> nmatsakis: what's the change? let me know when you've got a patch
[16:32:27] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Quit: Leaving)
[16:32:35] <brson> i've started the patch to forbid is/us. hopefully in today
[16:32:58] <nmatsakis> brson: ok, there are possibly a few variants I wouldn't mind testing :)
[16:32:58] <brson> are there any other last minute small things to get into the next beta?
[16:33:13] <Eridius> why are we forbidding is/us?
[16:33:35] <brson> today I have to move my crater installation to aws because my laptop is being reclaimed, but it should not take too much work
[16:33:38] <nmatsakis> Eridius: we changed to isize/usize as the suffixes, but when we killed the deprecated ones, we accidentally left `is` and `us`
[16:33:42] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:34:05] *** Joins: mib_869m79 (Mibbit@moz-7mn6vg.onetel.net.uk)
[16:34:16] <Eridius> also, regarding beta, aturon, I don't suppose anything has been determined about changing io::Error yet, right?
[16:35:05] <pnkfelix> nmatsakis: btw if you get the chance, i'd like feedback on whether you think gh24422 is a overall win or not
[16:35:06] <[o__o]> Typeck highlevel before bodies: https://github.com/rust-lang/rust/pull/24422
[16:35:10] <aturon> Eridius: not wrt Sync/Send, I will talk to folks today about it for a final decision. but we'll do at least one more merge to beta after this
[16:35:21] <Eridius> ok
[16:35:26] <erickt> nmatsakis: I don't claim to understand everything, but how does this impact late bound lifetimes, from https://github.com/rust-lang/rfcs/blob/master/text/0387-higher-ranked-trait-bounds.md#distinguishing-early-vs-late-bound-lifetimes-in-impls?
[16:35:34] <pnkfelix> nmatsakis: (i have to go afk for a few hours again now, though; so, ... no worries if you have distractions.)
[16:36:24] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[16:37:56] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Ping timeout: 121 seconds)
[16:37:57] <nmatsakis> pnkfelix: interesting, I've been thinking about doing that same thing
[16:38:35] <nmatsakis> erickt: it's orthogonal really, because of <grungy details>
[16:38:49] <erickt> nmatsakis: I'll accept that answer
[16:39:03] <nmatsakis> :) I can go into more detail if you want...
[16:39:58] *** Joins: johnz133 (johnz133@moz-tqd.4t0.72.208.IP)
[16:40:01] <pnkfelix> brson: I'm hoping to get actual checked-negation for integers into the next beta
[16:40:05] <erickt> naw it's okay, I really should be paying more attention to work / trying to come up with an argument to Gankro about adding all the relational methods to a contain-rs library / working on serde...
[16:40:10] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[16:40:35] <pnkfelix> brson: i think its the only arithmetic operation that is missing a dynamic check for the "overflowing" corner case of -(iN::MIN)
[16:40:43] <pnkfelix> brson: dealing with test fallout now
[16:41:02] <pnkfelix> brson: but I need to go afk, as mentioned above. I will be back later.
[16:42:33] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.3.92.1)
[16:44:13] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Ping timeout: 121 seconds)
[16:45:47] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[16:45:49] *** Joins: luk (Mibbit@moz-nd1gnn.dclient.hispeed.ch)
[16:47:16] *** Quits: mgottschlag (quassel@moz-dd55qu.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[16:51:31] *** Quits: avikpal (avikpal@moz-7r5.imq.194.117.IP) (Connection closed)
[16:53:49] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:56:38] *** Joins: mgottschlag (quassel@moz-7nba78.h71g.nb65.1398.2a00.IP)
[16:58:28] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[16:58:40] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[16:59:47] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Connection closed)
[17:00:01] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:00:09] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[17:00:29] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:00:29] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[17:00:30] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[17:00:31] *** rkruppe_ is now known as rkruppe
[17:00:45] *** Quits: mgottschlag (quassel@moz-7nba78.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[17:04:11] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:04:17] <Gankro> erickt: What's this?
[17:04:59] *** kimundi is now known as zz_kimundi
[17:06:29] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[17:07:49] <erickt> Gankro: :) I was taking a mini-vacation from serde the last two days and was futzing around with things like relational hash joins and partial sorts
[17:08:12] <erickt> Gankro: and then remebered about crates.io and saw others have already been playing in that space
[17:08:15] <Gankro> erickt: have you seen https://github.com/contain-rs/ordered_iter/ ?
[17:08:20] <eternaleye> Thinking about the Rc/scoped thing further, I'm wondering if it's actually a soundness hole - since while the Rc still holds the borrowed pointer, in any case where you've leaked, the Rc is unreachable by any *control flow*
[17:08:38] <erickt> yeah, I already posted an issue about trying to land hash joins there :)
[17:09:00] <erickt> but technically speaking hash joins are unordered, so I wasn't sure if that's the right place to put it
[17:09:22] <eternaleye> Mm, no, nvm
[17:09:43] <eternaleye> Wait, no - my nvm was based on a thinko
[17:09:43] <erickt> Gankro: or if it'd make sense to turn ordered_iter it into a relational iterator library :)
[17:10:12] <Gankro> erickt: Hmm I think a hash-join would have to be done at the HashMap level
[17:11:01] <erickt> Gankro: only one of the two iterators (perferrably the smaller one) needs to be converted into a hashmap
[17:11:25] <Gankro> erickt: Would you return a hashmap or an iterator?
[17:11:38] <erickt> iterator
[17:12:15] <erickt> it'd be a stream of Iterator<(lhs, rhs)>
[17:12:35] <erickt> or rather, a stream of (lhs, rhs) :)
[17:14:43] *** Joins: jdm_ (jdm@moz-ilbt2e.cable.teksavvy.com)
[17:14:47] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Connection closed)
[17:18:28] *** Joins: Astrum|Lap_ (Astrum|Lap@moz-7enfbr.co.comcast.net)
[17:20:05] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Ping timeout: 121 seconds)
[17:20:05] *** Astrum|Lap_ is now known as Astrum|Lap
[17:21:29] *** Joins: blank_name (blank_name@moz-sct.ivp.36.50.IP)
[17:22:11] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[17:22:12] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[17:23:43] *** Quits: larhat1 (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[17:23:51] <luk> I am a little puzzled by the current method lookup algorithm. What is the rationale behind the trump rules? It would feel more natural to me if ambiguity always results in an error.
[17:24:17] <Gankro> erickt: Seems like it could be a separate crate. The ordered stuff and unordered stuff doesn't seem to interoperate, and the cargo ecosystem seems to favour tons of tiny crates.
[17:25:45] <Gankro> luk: Your describing e.g. inherent methods trumping trait methods?
[17:26:21] <erickt> Gankro: fair enough. Do you think something like https://github.com/benashford/rust-lazysort would make sense in ordered_iter?
[17:26:47] <erickt> Gankro: it implements an iterator of partially sorted values
[17:26:55] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[17:27:26] *** Joins: eibwen (eibwen@moz-36qqtg.dip0.t-ipconnect.de)
[17:27:36] <erickt> Gankro: there can be nice wins if you only need a subset of the values in a sorted order
[17:28:19] <luk> Gankro: Not only inherent vs. traits. The algortihm also prefers T over &T over *T over &*T  ecetera.
[17:28:20] <Gankro> erickt: I'm pretty skittish about trying to "eat" other crates due to getting burned on collect-rs. What's the motivation for merging?
[17:29:09] *** Joins: Diggsey (diggsey@moz-laps0j.dsl.pipex.com)
[17:29:28] <erickt> Gankro: my main desire is that I saw some similarish things on crates.io, and thought there could be some syngergy trying to get everyone to collaborate on relational libraries
[17:29:52] <Gankro> erickt: Does serde or something actually use this stuff heavily?
[17:29:54] *** Quits: Diggsey2 (diggsey@moz-19vkp5.dsl.pipex.com) (Ping timeout: 121 seconds)
[17:30:13] <Gankro> I'd really like to be usecase motivated if possible (another frustration with collect-rs)
[17:30:50] <erickt> Gankro: not serde directly. really what I was playing with was trying to make a http://pandas.pydata.org/-esque library for rust
[17:30:53] <Gankro> luk: trump rules are basically trying to minimize the pain of spooky-action-at-a-distance breakage
[17:32:05] <Gankro> luk: e.g. I add a new method to a trait with a default impl, but some concrete implementor had a method with that name. Does they need to rename that method now? With the trump rules in a generic context the trait wins (so everything there still works) and in the concrete context the concrete type wins (so everything there still works).
[17:32:09] <erickt> Gankro: it presents an abstract table view of data (which could use serde underneath to parse data). It supports relational operators between tables, which is why i started going down this route
[17:33:04] <Gankro> luk: Same basic idea with deref; concrete type wins.
[17:33:26] <luk> Gankro: But they can also lead to the code silenty switching meaning if I relied on the deref.
[17:33:50] <erickt> Gankro: then I saw a couple folks doing LINQ macros, others doing other things that could be relational-y
[17:34:14] <Gankro> luk: Yes, but the odds of the program still type checking is pretty unlikely when that happens, and it's easy to "get back to" the deref through a manual coercion to the deref-y
[17:34:39] <Gankro> erickt: Wanna jump to rust-libs?
[17:36:15] <luk> Gankro: I agree that it is unlikely to still compile, but if it does the change will be hard to spot.
[17:36:33] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Connection closed)
[17:36:59] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[17:37:46] <sfackler> luk: IMO it's a bad idea in general to have both methods and Deref implemented on the same type unless you control the derefed-to object like Vec/[T] for this reason
[17:38:50] <sfackler> which is why most (but not all?) of the methods that operate on RC are actually free funcitons in the rc module: http://doc.rust-lang.org/1.0.0-beta/std/rc/index.html
[17:39:30] *** Joins: aepsil0n (eduard@moz-8h7njb.hsi8.kabel-badenwuerttemberg.de)
[17:39:31] <Gankro> sfackler: Clone is a tricky one that all the Smaht ptrs provide
[17:39:46] <sfackler> yeah, but like, the entire point of Rc is to do something special in Clone
[17:40:02] <sfackler> downgrade and make_unique should get moved out to the module though imo
[17:40:16] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:40:18] <Gankro> sfackler: Those are unstable right?
[17:40:22] <sfackler> yep
[17:40:26] <Gankro> ok cool
[17:40:29] <Gankro> Basically agree
[17:41:14] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[17:41:18] <eternaleye> nmatsakis: So - when I consider lifetimes as describing how long data is _allowed to exist_, Rc pretty clearly allows cycles to outlive their lifetimes, And That Sounds Bad
[17:41:19] <eternaleye> nmatsakis: But if I consider lifetimes in terms of how long data is _potentially reachable by control flow_, then so long as the "handles" of an Rc aren't reachable outside the lifetime, then the data of an Rc existing past the lifetime doesn't seem like an issue
[17:41:49] <eternaleye> nmatsakis: Since the lifetimes then still ensure that destructors go in the right order, albeit possibly by making it so the whole thing stays undestructed until the end of time (i.e. program exit)
[17:43:09] <luk> RFC 48 had a different lookup algorithm. It was impl type based instead of receiver type based. I wonder why it was changed.
[17:43:17] *** Joins: rumpler (Mibbit@moz-b30.tso.126.77.IP)
[17:43:25] *** Joins: gsingh931 (gulshan@moz-3fu4am.mi.comcast.net)
[17:43:55] <eternaleye> nmatsakis: Mm, well, not so much destructors go "in the right order" as that "control flow cannot access memory that has passed a lifetime,  even in a destructor"
[17:44:15] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[17:45:03] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[17:45:07] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[17:45:17] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Ping timeout: 121 seconds)
[17:45:29] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:45:39] *** rkruppe_ is now known as rkruppe
[17:57:45] *** Quits: Defaultti (Defaultti@moz-bmdn13.kapsi.fi) (Ping timeout: 121 seconds)
[17:58:06] *** Joins: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com)
[17:58:22] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[17:58:28] <doener_> Aaron: ping
[17:58:49] *** Joins: Defaultti (Defaultti@moz-bmdn13.kapsi.fi)
[17:59:43] <Aaron> doener_: a bit busy but pong
[18:01:14] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:01:14] *** ChanServ sets mode: +o pcwalton
[18:01:38] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:04:47] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[18:05:25] <doener_> Aaron: had an accident today and was going to ask if you wanted to finish the fix, but while preparing it for a push I noticed that there were just two small changes missing. So if this works, I'll submit a PR myself
[18:05:58] *** Joins: avikpal (avikpal@moz-7r5.imq.194.117.IP)
[18:06:03] *** Quits: avikpal (avikpal@moz-7r5.imq.194.117.IP) (Connection closed)
[18:06:13] *** Joins: avikpal (avikpal@moz-7r5.imq.194.117.IP)
[18:07:02] *** Joins: eerie_ (eerie@moz-060j2q.red.bezeqint.net)
[18:07:57] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Connection closed)
[18:11:42] <Aaron> doener_: ah, I'd be happy to take a look whatever state it's in. No worries if you're not able to work on it, I appreciate the help and info you've given me so far!
[18:13:02] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[18:13:22] <nmatsakis> luk: in practice those proposed rules were overly simplistic and broke a lot of code, is the short version. :) I'm trying to remember the details. But prefering inherent over traits was always part of the plan, and has some pretty clear rational. One big one was you can evolve code by moving inherent methods into traits without breaking existing code. (It's also true that in literally every language I've seen that has an analogous situation
[18:18:22] *** Quits: gsingh931 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[18:21:24] <luk> nmatsakis: Would it be feasible in practice to let the compiler generate a warning whenever it picks a method over another one?
[18:22:14] <doener_> Aaron: "%29 = load i48* %28, align 2" -- looking good :-) gh24472
[18:22:15] <[o__o]> Emit correct alignment information for loads/store of small aggregates: https://github.com/rust-lang/rust/pull/24472
[18:27:30] <carllerche> Gankro: re HashSet implementing Hash, it would not be technically impossible :) You could have the hash value return a constant no matter what the contents of the set are :P (https://github.com/rust-lang/rust/issues/21182)
[18:27:53] <carllerche> Gankro: you could also XOR the hash values of each entry, but i don't know how good that would end up in practice 
[18:28:37] <sfackler> yeah, there are totally order independent ways of combining values
[18:28:40] <Gankro> carllerche: That would be a security vuln, basically
[18:29:06] <carllerche> Gankro: sure, but not impossible!
[18:29:52] <carllerche> Gankro: you can XOR the hashcodes, sum them, etc...
[18:29:53] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[18:29:58] <carllerche> there are plenty of commutative functions :)
[18:30:13] <sfackler> guava just sums the bytes: https://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/hash/Hashing.java?name=refs/remotes/gcode-clone/cityhash#295
[18:30:14] <Gankro> carllerche: All would be vulns are far as I know
[18:30:53] <sfackler> vulnerable how?
[18:31:06] <Gankro> sfackler: Trivial to build hash collisions
[18:31:29] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[18:31:32] *** rkruppe_ is now known as rkruppe
[18:31:39] <Gankro> Enables a DDOS of the Hashmap<HashSet>
[18:32:17] <carllerche> Is there a CVE open for Java?
[18:32:25] <sfackler> i'm not sure if i see how it's all that different from the Hashmap<<vec of length 2>, thing>
[18:32:30] <carllerche> discussing the vulnerability? I would be interested in seeing the details
[18:32:50] <Aaron> doener_: thanks so much! Nice and simple solution.
[18:33:25] <Gankro> carllerche: I summarize the issue here: http://cglab.ca/~abeinges/blah/robinhood-part-1/#hashing
[18:33:36] <Gankro> sfackler: How do you build collisions on that?
[18:34:31] <sfackler> uh, maybe I'm misunderstanding sometihing, but how would you build collisions with the hashset?
[18:35:01] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[18:35:08] <sfackler> oh yeah, if you use the xor thing you'd be sad
[18:36:54] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[18:37:05] *** Quits: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:37:43] <Gankro> Basically the security of hashing e.g. a Vec is based on mixing values through the hasher, and not mixing the hashes. The hasher is necessarily order-dependent so that "cat" and "tac" don't hash to the same thing.
[18:38:33] *** Quits: mib_869m79 (Mibbit@moz-7mn6vg.onetel.net.uk) (Quit: http://www.mibbit.com ajax IRC Client)
[18:38:43] <Gankro> I mean you would probably have *trouble* building a decent collision family on HashSets but it wouldn't totally shock me if you could.
[18:39:07] <Gankro> Depends on if we reseed per HashSet instance or per thread or what
[18:39:15] <carllerche> Gankro: right, but order doesn't matter in the hashset... the issue would be entropy 
[18:39:55] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[18:40:10] *** Quits: eerie_ (eerie@moz-060j2q.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:40:27] <Gankro> carllerche: I'm not sure I follow
[18:40:29] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[18:41:18] <carllerche> Gankro: you don't want "cat" and "tac" to hash to the same thing given that they are separate elements. IIRC, the attack vector is hash collisions turning what should be a constant lookup structure -> O(n)
[18:41:35] <carllerche> disclaimer, i am not a security expert :P
[18:42:00] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[18:42:25] <Gankro> carllerche: So if you could come up with pairs of elements (x, y) such that mix(hash(x), hash(y)) == 0 you can build 2^pairs collisions
[18:42:29] <carllerche> the question is whether summing up the hash results for each element allows easily constructing sets w/ distinct elements that cause collisions 
[18:42:48] <carllerche> Gankro: this is true, however how is that not true for Vec?
[18:42:54] <carllerche> i should look at the fn impl
[18:42:59] <nathan7> So, I wonder
[18:43:15] <nathan7> Given that in debug mode, we now have overflow checking
[18:43:26] <nathan7> How about null-pointer checks for unsafe pointers?
[18:43:34] <nathan7> That'd actually be wickedly useful
[18:44:01] <Gankro> carllerche: No, it's not, because we mix the values in the hasher, not the hashes afterwards. If you add an extra character it should be effectively uncorellated (a claim of SipHash).
[18:44:27] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[18:45:13] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[18:45:22] *** Quits: aepsil0n (eduard@moz-8h7njb.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[18:45:34] <reem> aturon: So the change to thread::spawn is a breaking change between nightly and beta - this makes it impossible for us to support both for hyper.
[18:45:46] <reem> (specifically JoinHandle has a type parameter on nightly but not beta)
[18:46:04] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Ping timeout: 121 seconds)
[18:46:05] <seanmonstar> i assume that change will be uplifted to 1.0
[18:46:22] <aturon> seanmonstar: yes, brson is working on producing a new beta soon
[18:46:44] <aturon> reem: yes, it was a breaking change -- trivial to fix, but as you point out, does cause problems across channels
[18:46:46] <Gankro> carllerche: basically for a secure and useful hash function you need: order of mixing matters + canonical mixing order for equal elements
[18:46:52] <carllerche> Gankro: how vulnerable would HashMap be right now to a timing attack?
[18:47:04] <reem> aturon: A #[cfg] for nightly/beta/stable would help a lot
[18:47:07] *** Joins: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net)
[18:47:11] <seanmonstar> omgyespls
[18:47:33] <aturon> i'll bring that up at the core team meeting today
[18:47:34] <Gankro> carllerche: A timing attack to identify what properties?
[18:47:45] <aturon> (we've talked about it in the past, but there are some reservations)
[18:47:49] <Gankro> The secret key? Whether a collision occured?
[18:47:56] <carllerche> collision occured
[18:47:57] *** Joins: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com)
[18:48:17] <aturon> reem: seanmonstar: sorry about the breakage :-/ i should perhaps have made the type param default to ()
[18:48:18] <carllerche> assume that there is a global hash map used for a cache or something
[18:48:22] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[18:48:22] <seanmonstar> i'm literally at this moment hijacking cargos "features" to do this, adding a [feature] nightly = []
[18:48:50] <carllerche> it seems like it would be possible to try out various values detecting when a collision happens w/ chaining
[18:48:58] <aturon> seanmonstar: yeah, that seemed inevitable :)
[18:49:02] <carllerche> and then just keep adding values
[18:49:07] <reem> seanmonstar: I already have a full fix for the scoped stuff - can you add the feature setup in one PR and I will follow up with the fix for scoped?
[18:49:09] <seanmonstar> and now i have #[cfg(feature = "nightly")] everywhere
[18:49:19] <aturon> seanmonstar: reem: anyway, hopefully this disparity will last only for a very short time
[18:49:19] <carllerche> aturon: i have been requesting a rust channel cfg as well :)
[18:49:25] <aturon> carllerche: yep
[18:49:33] <seanmonstar> reem: sure, just finishing up adding it to each #[bench]
[18:49:34] <aturon> seanmonstar: everywhere? because JoinHandle shows up a lot?
[18:49:42] <seanmonstar> no, because benchmarks
[18:49:58] <Gankro> carllerche: I think most analysis assumes you can determine if a collision occured. The robinhood design makes it non-obvious how you would figure it out, though. Possibly a statistical argument on how long a true collision vs a fake collision took.
[18:50:01] *** Quits: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:50:10] <reem> aturon: the JoinHandle thing shows up in my local branch when porting from JoinGuard => JoinHandle, and only in one place.
[18:50:21] <aturon> ok good
[18:50:42] <seanmonstar> aturon: i want to be able to `cargo test` with a beta rustc, but couldn't so far, since i have a #[cfg_attr(test, feature(test))]
[18:50:44] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[18:50:57] <aturon> seanmonstar: gotcha
[18:51:14] <Gankro> carllerche: The last vulns I cite were against a randomized hash function. I'm not clear if the attack was online or offline, though.
[18:51:25] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[18:51:40] <Gankro> (e.g. if they found a family of collisions that works for arbitrary secret keys)
[18:51:50] <carllerche> Gankro: what do you mean randomized hash function? where the secret key was per hashmap instance?
[18:52:40] <Gankro> carllerche: Just that it's generated at runtime. Usually it's considered adequate to have a single key per-process or something.
[18:53:09] <carllerche> Gankro: yes, I assume per process secrets are safe since hashmaps can live for the life of a process
[18:53:49] <Gankro> We actually do per-map, though iirc acrichto was going to change that? Maybe?
[18:53:58] <carllerche> I think it was changed?
[18:54:12] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[18:54:47] <seanmonstar> i wonder if travis-ci yet has directives for picking rustc beta vs nightly
[18:55:34] <Gankro> carllerche: Looks like it's still per-map: http://doc.rust-lang.org/src/std/collections/hash/map.rs.html#1598-1606
[18:57:13] <acrichto> Gankro: security-wise we could change it, but implementation-wise it's actually easier to have per-map keys
[18:57:28] <Gankro> acrichto: Sure
[18:57:38] <Gankro> acrichto: What about perf-wise?
[18:57:50] <reem> seanmonstar: I believe the version attribute can be set to include nightly, beta, or both
[18:58:04] <reem> e.g. version:\n  - nightly\n  - beta
[18:58:06] <acrichto> Gankro: I don't think it matters either way perf-wise (I've never seen it in a profile)
[18:58:17] <acrichto> Gankro: getting two u64's from a TLS rng is quite speedy
[18:58:18] <seanmonstar> reem: orly
[18:58:18] <Gankro> acrichto: Sounds good to me
[18:59:02] <carllerche> acrichto: is there a risk of depleting entropy?
[18:59:18] <carllerche> not that I know anything :P but i have heard that it is a risk
[18:59:34] <acrichto> carllerche: perhaps!
[19:00:06] <seanmonstar> reem: https://github.com/hyperium/hyper/pull/456
[19:00:28] <carllerche> Does there happen to be a BTreeMap in crates.io that has a stable range APIs o_O
[19:01:23] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[19:04:59] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[19:06:04] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[19:06:05] *** ChanServ sets mode: +o nrc
[19:06:56] *** Joins: eerie_ (eerie@moz-060j2q.red.bezeqint.net)
[19:08:39] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[19:09:07] <Gankro> carllerche: Nah, sorry
[19:09:17] <carllerche> ah well
[19:09:19] * Gankro is not super happy with our solution to ranges
[19:09:30] <carllerche> Gankro: why not?
[19:09:57] <carllerche> hopefully for 1.1 :)
[19:10:04] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:10:38] <mssbrg> Hi all, I noticed that the process::Child struct doesn't export functionality to retrieve the child's process id. Is there a particular reason for this? If not, it seems fairly easy to add, based on my quick perusal of the sys/unix code (didn't look at windows) and I'd be willing to give it a shot
[19:11:46] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[19:11:54] <Gankro> carllerche: Two things: the combinatorics are *huge* (mut/not_mut/drain?)*(inclusive/exclusive/unbounded)^2, and we only expose iterators (which are way more expensive than grabbing just one elem).
[19:12:36] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[19:13:13] *** Joins: gsingh931 (gulshan@moz-3fu4am.mi.comcast.net)
[19:19:32] <carllerche> Gankro: is this something that would benefit from HKT?
[19:20:10] *** Joins: avikpal_ (avikpal@moz-4vg.j1u.227.117.IP)
[19:21:23] <aturon> mssbrg: i think it'd be great to add
[19:21:37] <aturon> mssbrg: there was initially some concern over how this fit into our cross-platform story
[19:22:13] <aturon> mssbrg: but this is a case where revealing the platform-level details doesn't really lead to accidentally platform-specific code, since (aiui) pids work pretty much the same way in windows
[19:22:19] <aturon> cc acrichto, WindowsBunny 
[19:22:23] <WindowsBunny> aturon: boop
[19:22:39] *** Joins: jshs (jshs@moz-tshe9u.dip0.t-ipconnect.de)
[19:22:53] <WindowsBunny> GetProcessId(handle)
[19:23:01] *** Quits: avikpal (avikpal@moz-7r5.imq.194.117.IP) (Ping timeout: 121 seconds)
[19:23:09] <WindowsBunny> so should be trivial on Windows
[19:33:07] <Gankro> carllerche: I... don't think so...?
[19:33:26] <Gankro> Oh also pred/succ is an extra combinatoric factor
[19:34:04] <Gankro> [pred|succ]_[inclusive|exclusive]_[mut?] if you want predecessor methods
[19:34:20] <Gankro> Tidy 8 methods
[19:36:16] <arielb1> I recovered my fix to #24363
[19:36:24] <arielb1> anyone r? gh24475?
[19:36:25] <[o__o]> Fix #24363: https://github.com/rust-lang/rust/pull/24475
[19:36:29] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[19:36:56] <mssbrg> aturon: cool, I will take a look
[19:37:04] <Gankro> carllerche: Maybe if HKT killed _mut? it would be ok. But honestly I'm not sure if that makes a more pleasant API
[19:37:08] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[19:37:50] <Gankro> carllerche: Oh I just realized this is #internals; willing to continue discussion in #rust-libs
[19:39:03] <reem> aturon: fwiw, using a cargo feature is not a great solution, since it forces consumers to specifically request the nightly feature, which forces them to have their own nightly feature, etc.
[19:39:57] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[19:39:59] *** Quits: eerie_ (eerie@moz-060j2q.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:40:05] <nmatsakis> reem: we do plan to reissue beta shortly 
[19:40:05] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Connection closed)
[19:40:06] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[19:40:15] <nmatsakis> (if that's what you're talking about)
[19:41:10] <reem> nmatsakis: I want a #[cfg] for nightly/beta/stable, it’s coming up now because of JoinHandle changes, but I doubt this will be the last time I want to do something different on nightlies
[19:41:50] <nmatsakis> c
[19:42:46] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[19:43:09] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[19:44:24] <seanmonstar> so does multirust --verbose actually work?
[19:44:44] <Gankro> aturon: nmatsakis: I'm confused why JoinHandle is getting the stick for the sins of RefCell<Rc>?
[19:45:01] *** Quits: semarie (semarie@moz-4l4vbv.server7.tvdw.eu) (A TLS packet with unexpected length was received.)
[19:45:06] <seanmonstar> its a newer api, so less libs will be using it?
[19:45:16] <bluss> because it's the only destructor we have that needs to run for soundness?
[19:45:16] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Connection closed)
[19:45:33] <bluss> maybe that's not true, but it seems pretty unique
[19:45:38] *** Joins: eerie (eerie@moz-060j2q.red.bezeqint.net)
[19:46:16] <reem> it’s not true, there are other desirable APIs, namely drain-like stuff, which are unsound if you can circumvent the destructor
[19:46:27] <bluss> reem: well but that doesn't exist right now!
[19:46:38] <bluss> I know this, but it's not in libstd
[19:46:39] <reem> That’s a poor reason, we know we would like it to exist.
[19:46:49] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Ping timeout: 121 seconds)
[19:46:53] <bluss> no, I mean I'm not talking justification or reason
[19:47:04] <bluss> simply answering Gankro's question
[19:47:21] <bluss> I'm not saying it's a bad idea.. range drain is a great idea
[19:47:25] <reem> well ideally there’s a good answer :P
[19:47:28] <bluss> but.. it's not implemented
[19:47:31] <bluss> right now
[19:47:41] <bluss> so I don't have any other example than JoinGuard
[19:47:46] <Gankro> bluss: Nothing prevents clients from writing it
[19:48:00] <nmatsakis> Gankro: part of it is the fact that Rc is pretty darn widespread and imp't, so we'd have to derail 1.0 to change it, but also -- it's not the only way to prevent a dtor from executing
[19:48:17] <arielb1> Gankro: Rc<not 'static> is important
[19:48:18] <bluss> Gankro: do you still see the argument that JoinGuard is unique in the rust distribution?
[19:48:19] <Gankro> nmatsakis: Prevent *and* end the borrow/
[19:48:25] <Gankro> ?
[19:48:27] <nmatsakis> (e.g., nested fail can cause problems)
[19:48:34] <nmatsakis> as acrichto pointed out
[19:48:37] <arielb1> I mean, librustc uses Rc<TraitRef<'tcx>>
[19:48:43] <nmatsakis> but also yes there is no easy fix to Rc
[19:48:48] <arielb1> you would break librustc
[19:49:00] *** Joins: mib_xewj2o (Mibbit@moz-juv.9o3.252.72.IP)
[19:49:17] <Gankro> arielb1: Just mark one unsafe?
[19:49:22] <bluss> nmatsakis: but does the nested fail lead to memory unsafety?
[19:49:27] <arielb1> mark what unsafe?
[19:49:34] <nmatsakis> bluss: it does if you're relying on the dtor running :)
[19:49:40] *** Quits: eerie (eerie@moz-060j2q.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:49:42] <Gankro> arielb1: Rc or RefCell
[19:49:49] <arielb1> but they are used a lot
[19:49:56] <Gankro> arielb1: Yes and they are unsound
[19:50:11] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[19:50:11] <nmatsakis> Gankro: we've always said that we are not guaranteeing leaks
[19:50:14] <arielb1> without RefCell, Rust isn't a systems language
[19:50:17] <nmatsakis> that makes scoped the mistake.
[19:50:20] <arielb1> without Rc, too
[19:50:21] <bluss> nmatsakis: nested fail leads to abort I thought, then it doesn't matter
[19:50:31] <sfackler> nope
[19:50:34] <nmatsakis> bluss: that is not always true.
[19:50:37] <nmatsakis> arguably it should be
[19:50:42] *** Joins: avikpal (avikpal@moz-7r5.imq.194.117.IP)
[19:50:51] <nmatsakis> (some of the semantics there are not settled, there's an open issue)
[19:50:57] <arielb1> Gankro: Rc/RefCell, and the possibility of creating reference cycles, are known
[19:51:06] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[19:51:09] <arielb1> I mean, this was known since forever
[19:51:13] <bluss> nmatsakis: so that one's filed as easy to solve then ;-)
[19:51:37] <Gankro> nmatsakis: I assumed that was wrt to failing to free or simply putting it in a place where it would never be dropped. Which is distinct from failing to drop it *and then claiming you did*.
[19:51:49] <Gankro> (leaking is a broad concept)
[19:51:54] <nmatsakis> Gankro: scoped is the one that is claiming it was dropped
[19:52:11] <nmatsakis> what i'm saying is, if we want guaranteed dtors,
[19:52:14] <nmatsakis> we should design them,
[19:52:22] <nmatsakis> but the lang was not designed with that as a guarantee 
[19:52:29] <nmatsakis> thus far
[19:52:33] <nmatsakis> we sort of forgot that, which was bad.
[19:52:52] <nmatsakis> but I think trying to destabilize Rc/REfCell would be a massive breaking change that would derail 1.0
[19:53:02] <Gankro> nmatsakis: So why is mem::forget marked unsafe?
[19:53:05] <nmatsakis> and I don't feel like it's worth it, esp considering that there are pretty pallatable alternatives for scoped
[19:53:30] <arielb1> Gankro: mem::forget is marked unsafe because it can lead to bugs
[19:53:35] <reem> Ya, my impression here is that this means we have to design APIs as if mem::forget was safe
[19:53:48] <nmatsakis> agreed
[19:53:59] *** Quits: avikpal_ (avikpal@moz-4vg.j1u.227.117.IP) (Ping timeout: 121 seconds)
[19:53:59] <nmatsakis> note that mem::forget predates e.g. my existence in the project
[19:54:30] <nmatsakis> by which I'm just saying that I'm pretty sure we've kept its signature unchanged in that time
[19:54:36] <reem> This... Is a pretty big deal
[19:54:37] <nmatsakis> in any case, I still think it's reasonable to keep it as unsafe
[19:55:12] <nmatsakis> in particular there are plausible future developments in which it would be the 'unsafe leak'
[19:55:12] <Gankro> :/
[19:55:23] <bluss> I assume mem::forget will be around later when/if we solve the Rc issue and disarm it for particular guard types
[19:55:25] <nmatsakis> butI guess we could always deprecate it
[19:55:41] <bluss> nmatsakis: why, it's very useful?
[19:55:45] <Gankro> mem::forget should continue to exist since it's useful
[19:55:48] <nmatsakis> no I mean -- if we marked it as safe
[19:55:57] <nmatsakis> we could deprecae it when there are types that are not safe to drop
[19:55:59] <nmatsakis> er, to forget
[19:56:08] <reem> It would be easy to deprecate and replace with another similar fn like mem::leak, if we *had* to
[19:56:14] <nmatsakis> right
[19:56:39] <bluss> It's pretty easy to just postpone any decision about its stability until another release
[19:56:51] * nmatsakis shrugs
[19:56:58] <nmatsakis> it's also a legal change to go from unsafe -> safe
[19:57:07] <nmatsakis> I don't think the sig of mem::forget is the major issue, personally
[19:57:16] <nmatsakis> I mean the bigger question is whether we would want to stall 1.0
[19:57:22] <nmatsakis> so that we can take the time to design guaranteed dtors.
[19:57:36] <reem> That's the alternative
[19:57:39] <nmatsakis> (I think that will probably take some iteration to get right)
[19:57:46] <arielb1> nmatsakis: I am afraid that guaranteed dtors won't be backwards-compatible
[19:57:55] <nmatsakis> we can plug the rc hole but that doesn't mean there arne't others ( Arc! :P )
[19:58:12] <arielb1> but trait selection is broken in probably non-backwards-compatible ways anyway
[19:58:27] <nmatsakis> arielb1: that would depend on the design; for example, we could add a new default trait a la Sized
[19:58:32] <nmatsakis> but you can also get guaranteed dtors
[19:58:39] <nmatsakis> via API design
[19:58:41] <nmatsakis> with some limitations
[19:58:42] <reem> Rc and Arc are the only non-bug, safe ways to write forget that I'm aware of
[19:58:45] <nmatsakis> so maybe we find that's just good enough
[19:59:24] <arielb1> reem: transitively safe Rust can't leak (up to unwinding)
[19:59:28] <arielb1> and containers shouldn't leak too
[19:59:36] <arielb1> and unwinding is evil (everywhere, no exceptions)
[19:59:51] <Gankro> nmatsakis: This is a pretty harsh blow to collections, to be honest. Being able to put things in transiently inconsistent states and guarantee the will be fixed before the collection is used again because of borrows was a pretty big deal.
[20:00:06] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[20:00:31] <reem> arielb1: I include safe APIs in the std library in "safe code" since this all very non practical otherwise
[20:00:47] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[20:01:08] <arielb1> Gankro: I guess you can use ST-style until this is fixed
[20:01:17] <nmatsakis> Gankro: a good reason, perhaps, to design a nice feature that supports them
[20:01:29] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[20:01:31] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:01:43] <Gankro> arielb1: What would that look like for drain_range?
[20:02:11] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:02:13] <reem> Gankro: it takes a closure which is passed the drained bit, then the collection is fixed up when the closure exits
[20:02:18] <arielb1> Gankro: fn drain_range_with<F, T>(&mut self, f: F) -> T where for<'a> FnOnce(DrainRange<'a>) -> T
[20:02:39] * Gankro sad
[20:02:43] <Amaranth> Reference cycles and mem::forget pretty much break anything that depends on RAII-style cleanup, that's pretty sad :(
[20:03:01] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:03:01] *** ChanServ sets mode: +o pcwalton
[20:03:24] <reem> Yes. Using RAII is a lot nicer than the ST/CPS style in my opinion.
[20:03:48] *** Joins: sprang (sprang@moz-noeh1l.static-ip.telepacific.net)
[20:03:53] <arielb1> Is there a Rust name for this pattern?
[20:04:15] <Gankro> arielb1: Which one?
[20:04:24] <arielb1> ST-style
[20:04:45] <reem> Not really, it's very uncommon because RAII has been nicer to work with
[20:05:12] <reem> Since it doesn't require transitively infecting all the calling APIs
[20:05:26] <reem> (To take closures)
[20:06:05] *** Quits: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[20:06:34] <Gankro> Note that drain_range was accepted as an RFC
[20:06:48] <Gankro> https://github.com/rust-lang/rfcs/pull/574
[20:07:03] <reem> Gankro: does drain suffer from the same problem?
[20:08:00] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[20:08:31] *** Quits: mib_xewj2o (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:09:10] *** Joins: dcb (textual@moz-cclvnh.ca.comcast.net)
[20:11:46] <XMPPwocky> sooo im sure this idea has been dismissed already anf certainly not in 1.0 maybr
[20:12:04] <XMPPwocky> rxcuse my  ttping im on a phone in a bumpy car
[20:12:37] <XMPPwocky> but i have a neat idea to add lineae typing to Rust.
[20:13:15] <XMPPwocky> basically, there are 3 types of types, each has a trait associated.
[20:13:33] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:14:06] <XMPPwocky> Drop types implement Drop. They are affine. it is memory safe to leak them (but not recommended.)
[20:14:11] *** Quits: dcb (textual@moz-cclvnh.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:14:22] <XMPPwocky> Copy types implement Copy and Drop. No change.
[20:14:52] <XMPPwocky> Linear types dobt implement Copy or Drop. It is unsafe to leak them.
[20:15:11] *** Joins: dcb (textual@moz-cclvnh.ca.comcast.net)
[20:15:21] <XMPPwocky> and thry cannot legally go out of scope wuthout mem::forget or whatever
[20:15:23] <arielb1> XMPPwocky: Linear types are weird
[20:15:26] <arielb1> because of evil unwinding
[20:15:33] <arielb1> Rust can't have true liner types
[20:15:51] <reem> arielb1: Sorry, do you not like unwinding? I’m not clear. :P
[20:16:13] <arielb1> reem: not in any language
[20:16:44] <reem> Are you in camp “panic == abort” then?
[20:16:57] <arielb1> reem: sure
[20:17:08] <reem> (just curious what your thoughts are)
[20:17:09] <arielb1> I mean, unwinding works well in Python and Javascript
[20:17:11] <arielb1> not in Rust
[20:17:26] <XMPPwocky> last thing: Drop is automatixallu a generic bound unless optedbout of.
[20:17:33] <arielb1> and it only works in Python and Javascript because projects are tiny
[20:17:45] <arielb1> I mean, because nobody catches them on big projects
[20:18:09] <arielb1> and because nobody does anything interesting in Python destructors
[20:18:11] <XMPPwocky> olay then, Destroy trait that is calledbwhile panicking. must be fimplement for everythung.
[20:18:12] <Amaranth> Is it possible to have only a single thread abort in that setup?
[20:18:23] <steveklabnik> unwinding is important for several use-cases that matter to Rust
[20:18:27] <steveklabnik> like embedding in other languages
[20:18:28] <Amaranth> Because it's really nice being able to count on your main thread continuing to run
[20:18:39] <reem> arielb1: What would you say to e.g. servo's or hyper’s use cases? Genuinely curious.
[20:18:39] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Quit: )
[20:18:44] <steveklabnik> ^^^^
[20:18:50] <XMPPwocky> also Destroy trait lets  you optimize things like Mutex gard destructor
[20:18:51] <arielb1> I don't have problem with panic = sleep(infinity)
[20:19:00] <steveklabnik> engineering is about tradeoffs
[20:19:06] *** Parts: luk (Mibbit@moz-nd1gnn.dclient.hispeed.ch) ()
[20:19:13] <XMPPwocky> since if doesnt havd to chrck if your panicking.
[20:19:15] <reem> arielb1: That sounds problematic in practice
[20:19:17] <arielb1> as long as it is a variant of sleep(infinity) that other threads can catch
[20:19:29] <XMPPwocky> if Destroy is called, its panic.
[20:19:37] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:19:41] <XMPPwocky> if Drop is called, youre out of scope
[20:20:18] <arielb1> reem: what does servo do with panics?
[20:20:34] <XMPPwocky> notably this makes stuff loke std::thread::scoped easily safe assuming it's linear
[20:20:47] <XMPPwocky> Rc would have an implicit Drop bound
[20:20:55] *** Joins: blaenk (blaenkdenum@moz-ig0p4u.n2pv.fsko.e000.2605.IP)
[20:21:32] <XMPPwocky> and all the otter nice thobgs of linear rypibg.
[20:22:05] *** Quits: ctennis (ctennis@moz-f8q.e72.137.99.IP) (Quit: Leaving...)
[20:22:10] <reem> arielb1: I’m not intimately familiar with servo’s use case, but hyper’s is just a desire to not crash the entire server on an out of bounds index.
[20:22:15] <steveklabnik> yup
[20:22:34] <XMPPwocky> anyways, will discusa later when oj real keyboard qnd not on crappy Mass. roads
[20:22:56] <arielb1> I guess that case requires you to do pseudo-process-isolation
[20:23:16] <seanmonstar> servo's is similar in theory: with so many parallel pieces, it doesnt want to crash the whole browser for an out-of-bounds etc
[20:23:18] *** Quits: gsingh931 (gulshan@moz-3fu4am.mi.comcast.net) (Quit: WeeChat 1.1.1)
[20:23:35] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[20:23:40] <arielb1> seanmonstar: IIRC firefox does crash on asserts
[20:23:47] <XMPPwocky> seanmonstar: besides memory issuesbwhy not just do the Chrome thing
[20:23:53] <arielb1> and chrome just does tab-per-process
[20:24:10] <XMPPwocky> "aside from that, mrs lincoln, how was thr play"
[20:24:20] <reem> arielb1: process-per-connection is not feasible for hyper
[20:24:23] <arielb1> I think Servo is GC, so it doesn't really need unwinding
[20:24:31] <seanmonstar> no
[20:24:38] <seanmonstar> spidermonkey is GC
[20:24:49] <seanmonstar> servo is not
[20:25:04] <reem> only some servo stuff is GCed by spidermonkey, iirc only dom-related things
[20:25:10] <seanmonstar> correct
[20:25:11] <arielb1> unwinding becomes much simpler when you are GC
[20:25:16] <arielb1> or use an arena like Erlang
[20:25:20] <XMPPwocky> speaking of gc, this thibg of linear tiping lets rust work better in the presence of gc
[20:25:30] <arielb1> just unmap the stack and arena
[20:25:36] <arielb1> and close all file descriptors
[20:25:39] <XMPPwocky> no issues with finalizers
[20:26:09] <reem> What if Rc required ‘static, but there was an unsafe version that didn’t?
[20:26:18] <arielb1> reem: that would make librustc unsafe
[20:26:22] <arielb1> bad
[20:26:43] <seanmonstar> how so
[20:26:46] <reem> ya it’s not a good solution
[20:27:01] <reem> you want to be able to Rc non-‘static things safely, there’s nothing *inherently* unsafe about tit
[20:27:04] <arielb1> seanmonstar: librustc likes its Rc<TraitRef<'tcx>>
[20:27:07] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[20:27:07] <bluss> librustc would only need to use an unsafe constructor for Rc, that's all
[20:27:41] <seanmonstar> it would seem like it would just require careful auditing of creating Rc<'a>
[20:27:50] <arielb1> although it does not combine Rc with RefCell
[20:28:11] *** Quits: avikpal (avikpal@moz-7r5.imq.194.117.IP) (Connection closed)
[20:28:12] <arielb1> but now that you can't create cycles with Arena, Rc<RefCell<->> is rather important
[20:28:18] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[20:28:23] *** Joins: jevin (jevin@moz-qk3.8jc.175.166.IP)
[20:28:25] <reem> Making RefCell<Rc<..>> require unsafe somewhere would also solve this, but doesn’t scale to tackling Mutex<Arc<..>>
[20:29:05] <bluss> inside out :)
[20:29:18] <bluss> I like the consistency of it
[20:29:33] <reem> bluss: no actually, Rc<RefCell<T>> is fine, as long as T doesn’t also contain Rc and can therefore form cycles
[20:29:53] *** Quits: blaenk (blaenkdenum@moz-ig0p4u.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[20:29:53] <bluss> reem: you meant Rc<RefCell<>> and Arc<Mutex<>>?
[20:30:17] <reem> I meant RefCell<Rc> and Mutex<Arc>, since you can’t construct cycles without them
[20:30:24] <bluss> that's inside out
[20:30:26] <arielb1> reem: you need Rc > RefCell > Rc for a cycle
[20:30:39] <arielb1> rustc has RefCell<Rc> but not Rc<RefCell>
[20:30:40] <reem> arielb1: right, you can cut the link in either place
[20:30:46] <bluss> hm
[20:32:37] <aturon> Gankro: i'm back, anything you still wanted to discuss?
[20:32:58] *** Joins: poorman_ (poorman@moz-sdl0oq.res.rr.com)
[20:33:32] <arielb1> steveklabnik: doesn't node.js restart the process on undefined?
[20:33:47] <seanmonstar> no
[20:33:49] <seanmonstar> it crashes
[20:34:05] <seanmonstar> we use monitor to restart crashed processes
[20:34:08] <arielb1> seanmonstar: on every reasonable setup, crash = restart process
[20:34:31] <seanmonstar> nodejs doesnt do it itself, tho
[20:34:56] <arielb1> then why can't Rust do it?
[20:35:05] <seanmonstar> however, you can catch undefined errors
[20:35:27] <seanmonstar> try { undefined.foo = 1; } catch(e) { console.log(e); }
[20:36:17] <arielb1> but servers are GC
[20:36:20] *** Quits: poorman (poorman@moz-ne2.2ic.131.12.IP) (Ping timeout: 121 seconds)
[20:36:21] <arielb1> and they don't have shared state
[20:36:58] *** Joins: jevin_ (jevin@moz-qk3.8jc.175.166.IP)
[20:37:20] *** Quits: jevin (jevin@moz-qk3.8jc.175.166.IP) (Connection closed)
[20:39:11] <seanmonstar> seems a bit too late to just remove rusts unwinding
[20:39:15] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[20:41:08] <arielb1> I think that if we must have unwinding, we should do it via an unsafe trait
[20:41:11] <arielb1> instead of Drop
[20:43:31] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[20:43:37] <seanmonstar> it might make sense for Drop to be an unsafe trait?
[20:44:01] *** Quits: jdm_ (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[20:46:03] <XMPPwocky> arielb1: thus Destroy in my proposal
[20:46:06] *** Joins: ctennis (ctennis@moz-vcpg3c.in.comcast.net)
[20:46:09] <XMPPwocky> not actually an unsafe trait, whatever
[20:47:34] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Ping timeout: 121 seconds)
[20:48:19] *** Quits: jevin_ (jevin@moz-qk3.8jc.175.166.IP) (Ping timeout: 121 seconds)
[20:48:20] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[20:48:35] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:48:48] *** Joins: WindowsBunny1 (Peter@moz-r1n9v0.east.verizon.net)
[20:49:28] *** Quits: WindowsBunny (Peter@moz-ubruqj.east.verizon.net) (Connection closed)
[20:49:50] <XMPPwocky> https://gist.github.com/XMPPwocky/6a43d281a0bc4ca1c138
[20:51:35] *** Quits: sprang (sprang@moz-noeh1l.static-ip.telepacific.net) (Ping timeout: 121 seconds)
[20:53:16] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:53:22] <XMPPwocky> drop would be allowed to be called arbitrarily late
[20:53:25] <XMPPwocky> or never
[20:54:37] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[20:54:39] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[20:55:07] <XMPPwocky> oh the signature of Destroy might want to move self
[20:55:18] <XMPPwocky> Drop shouldn't because it can be called multiple times 
[20:55:30] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[20:55:32] <steveklabnik> arielb1: i don't know what node does, to be honest
[20:56:01] <steveklabnik> arielb1: but, if I write a Ruby gem in Rust, and put it in a rails app, i do not want a bug in the rust to take down my whole application server
[20:56:43] <steveklabnik> now, _some_ apps may be architected with monitoring etc to just bring it back up
[20:56:46] <steveklabnik> but others aren't
[20:57:03] <steveklabnik> saying "oh yeah you can embed rust but you'd better be ready for this to happen" is a pretty huge caveat
[20:57:11] <XMPPwocky> This also makes the GC story easier because of the "arbitrarily late" bit
[20:57:14] <steveklabnik> our current story much nicer
[20:57:15] <steveklabnik> is
[20:57:29] <XMPPwocky> of course all of this has less chance to get into 1.0 than a snowball through an industrial oven
[20:57:57] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[20:58:19] <XMPPwocky> but it'd sure be nice
[20:58:30] <arielb1> having an unsafe trait Cleanup would make it much nicer
[20:58:52] <XMPPwocky> it'd be possible to have Destroy be implemented by default for T if T is drop, but allow overriding
[20:59:15] <XMPPwocky> or just no overriding and have a straight-up generic impl, but then you don't get perf gains
[20:59:16] *** Joins: James (quassel@moz-olnmts.range86-163.btcentralplus.com)
[21:00:11] <arielb1> XMPPwocky: the entire point is that Destroy/Cleanup can't run user code
[21:00:18] <arielb1> but can only "be a GC"
[21:00:42] <XMPPwocky> what?
[21:01:00] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[21:01:06] <arielb1> the problem with running dtors during panic is that they can observe invalid state
[21:01:16] <arielb1> and we need to be careful to make that invalid state not-dangerous
[21:02:02] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[21:02:05] <XMPPwocky> don't we already do that?
[21:02:09] <arielb1> XMPPwocky: not
[21:02:10] <XMPPwocky> what's wrong with today's solution
[21:02:33] <arielb1> you can put crazy stuff in dtors
[21:02:36] <arielb1> dtors can panic
[21:02:37] <nathan7> is size_t is pretty much guaranteed to be the same as usize, or am I nuts?
[21:02:44] <arielb1> nathan7: size_t = usize
[21:02:48] <XMPPwocky> arielb1: right, so panics in .destroy() would abort
[21:02:57] <nathan7> arielb1: cool
[21:03:02] <WindowsBunny1> nathan7: If size_t isn't usize, it's time to reevaluate life
[21:03:03] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:03:43] <nathan7> time for #[allow(improper_ctypes)] then
[21:04:09] <XMPPwocky> #[allow(silly_platforms)]
[21:04:14] <arielb1> data structures can get invalid on panic
[21:04:20] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[21:04:24] <arielb1> and a dtor can access the invalid data structure
[21:04:32] <scott> they might vary on platforms where size_t != uintptr_t which Rust doesn't support anyways (assuming usize is actually meant to be like uintptr_t - I'm not sure)
[21:04:49] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[21:05:06] <WindowsBunny1> scott: Are there any platforms like that?
[21:05:15] <XMPPwocky> arielb1: okay, you've convinced me, Destroy / Cleanup can be an unsafe trait
[21:05:21] <scott> yes, but they are mostly quite arcane afaik
[21:05:35] <scott> there is a reason for both size_t and uintptr_t to exist, and it's those weird platforms
[21:06:30] <Gankro> aturon: Nah, I'm vaguely pacified. Rust 1.0 continues to suck :)
[21:06:33] <XMPPwocky> scott: so what, like you have segments of size foo
[21:06:43] <XMPPwocky> scott: in a uniform address space of size bar?
[21:06:55] <XMPPwocky> so uintptr_t is size bar, but size_t is size foo
[21:07:08] <scott> aha, just found this in the reference: "The usize type is an unsigned integer type with the same number of bits as the platform's pointer type. It can represent every memory address in the process."
[21:07:24] <scott> so if it can be trusted in this case, usize == uintptr_t which usually == size_t
[21:07:36] <XMPPwocky> i think people either want "type that's a memory address" or "type that's a size"
[21:07:44] <scott> I forget, what is the definition of size_t?
[21:07:53] <XMPPwocky> uintptr_t is teh first
[21:08:01] <WindowsBunny1> scott: Large enough to hold the size of any allocation
[21:08:08] <scott> hrm
[21:08:28] *** Joins: dgrunwald (Daniel@moz-hvh6gp.hsi4.kabel-badenwuerttemberg.de)
[21:09:24] <scott> XMPPwocky: I think what you said about the segments is correct and that used to be more common in the past
[21:09:33] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:09:33] *** ChanServ sets mode: +o pcwalton
[21:09:39] <scott> now no one uses segmentation anyway
[21:11:35] <WindowsBunny1> segmentation is only really used for stuff like the TLS
[21:11:43] <WindowsBunny1> and virtualization
[21:12:37] *** Joins: mib_06d2kc (Mibbit@moz-juv.9o3.252.72.IP)
[21:12:37] <huseby> is there a trick to bootstrapping cargo when there isn't a cargo snapshot for a platform?
[21:14:12] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[21:15:01] <nathan7> hmm, how come libtest is still unstable?
[21:15:24] <nathan7> I don't particularly care, I'm a creature of the nightly
[21:15:43] <nathan7> but it seems weird, because that makes test::Bencher and test::black_box inaccessible from beta
[21:15:43] *** Joins: mcpherrin (mcpherrin@moz-fl0kt2.ca.comcast.net)
[21:15:47] <arielb1> anyone r? my gh24475 ?
[21:15:47] <[o__o]> Fix #24363: https://github.com/rust-lang/rust/pull/24475
[21:17:37] *** Quits: mib_06d2kc (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:18:03] *** Joins: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com)
[21:18:36] *** Quits: eibwen (eibwen@moz-36qqtg.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:18:57] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[21:21:15] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[21:24:36] <steveklabnik> nathan7: basically: because we aren't ready to stabilize tha tstuff
[21:24:56] *** Quits: arielb1 (Ariel@moz-r1gm7r.red.bezeqint.net) (Quit: Ex-Chat)
[21:25:49] *** zz_kimundi is now known as kimundi
[21:26:18] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[21:32:07] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[21:35:32] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[21:36:41] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[21:38:13] <nathan7> UnsafeCell is the closest equivalent we have to `volatile`, no?
[21:38:33] <WindowsBunny1> nathan7: yep
[21:39:03] *** Joins: mr_wibble (Mibbit@moz-juv.9o3.252.72.IP)
[21:39:28] *** Quits: mr_wibble (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:39:28] <scott> that's actually really close to what it is, right?
[21:39:49] <WindowsBunny1> yep
[21:39:50] <nathan7> I'm… I'm turning valgrind.h into Rust
[21:39:52] <scott> it means the compiler can't assume it doesn't randomly change all the time
[21:40:14] <reem> nathan7: Oh man
[21:41:44] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[21:43:34] <huon> nathan7: the direct corresponded is std::intrinsics::{volatile_load, volatile_store} on each read/write of the value
[21:44:04] <huon> *correspondent
[21:44:17] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[21:45:54] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[21:48:20] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Ping timeout: 121 seconds)
[21:48:33] *** Joins: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at)
[21:49:35] *** Quits: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:51:23] <nathan7> nope I broke LLVM
[21:51:56] <nathan7> rustc: /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/llvm/lib/CodeGen/LiveVariables.cpp:132: void llvm::LiveVariables::HandleVirtRegUse(unsigned int, llvm::MachineBasicBlock*, llvm::MachineInstr*): Assertion `MRI->getVRegDef(reg) && "Register use before def!"' failed.
[21:52:16] <nathan7> that is… mildly annoying
[21:53:45] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:59:16] *** Joins: LinuxBunny (Retep998@moz-r1n9v0.east.verizon.net)
[22:01:11] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:03:29] <nathan7> got it!
[22:03:35] <nathan7> literal register names work, register constraints don't
[22:04:48] <nathan7> cool, now it totally segfaults under Valgrind
[22:06:02] *** Quits: WindowsBunny1 (Peter@moz-r1n9v0.east.verizon.net) (Ping timeout: 121 seconds)
[22:07:08] *** Quits: dcb (textual@moz-cclvnh.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:09:38] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[22:12:48] <brson> guh, how do you make compiletest emit stdout and stderr for passing tests now? VERBOSE=1 used to do it
[22:13:17] <kimundi> brson: --nocapture ?
[22:15:09] <brson> RUST_TEST_NOCAPTURE=1 VERBOSE=1
[22:17:24] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[22:17:24] *** ChanServ sets mode: +o pcwalton
[22:18:29] *** Joins: cengizIO (textual@moz-jju.ckp.250.151.IP)
[22:18:35] *** Quits: cengizIO (textual@moz-jju.ckp.250.151.IP) (Quit: Textual IRC Client: www.textualapp.com)
[22:20:06] *** Quits: dinfuehr (dinfuehr@moz-sv7rtb.highway.telekom.at) (Connection closed)
[22:22:06] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[22:23:26] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[22:25:36] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[22:25:58] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:28:16] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:40:40] *** kimundi is now known as zz_kimundi
[22:43:46] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[22:44:25] *** Quits: ineol (ineol@moz-akt.oi0.185.94.IP) (Client exited)
[22:44:34] *** Quits: jshs (jshs@moz-tshe9u.dip0.t-ipconnect.de) (Client exited)
[22:45:17] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[22:45:17] *** ChanServ sets mode: +o pcwalton
[22:50:05] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[22:50:40] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[22:52:43] *** Joins: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[22:54:00] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[22:57:23] *** c74d3 is now known as c74d
[23:01:23] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:06:16] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[23:06:27] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:09:12] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[23:10:29] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[23:16:05] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:16:17] *** Quits: James (quassel@moz-olnmts.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[23:17:10] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[23:17:48] *** Quits: dgrunwald (Daniel@moz-hvh6gp.hsi4.kabel-badenwuerttemberg.de) (Quit: Leaving.)
[23:24:40] <jgallagher> is this the right medium to ask about a PR that’s been sitting for a while and needs review? (https://github.com/rust-lang/rust/pull/24181 - wondering if there’s anything i need to do)
[23:24:58] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:28:43] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:30:06] <nrc> jgallagher: you should pnkfelix, but I guess he is asleep right now
[23:30:10] <nrc> (EU timezone)
[23:30:21] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[23:30:57] *** blaenk_ is now known as blaenk
[23:32:40] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[23:34:26] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:38:25] <nrc> *ping
[23:38:34] <jgallagher> nrc: thanks, i’ll try to catch him in the morning
[23:45:11] <brson> acrichto: i've created a postgres database on aws's rds service for use by crater
[23:45:14] <brson> fyi
[23:46:07] *** Joins: Rym (y@moz-4vn.8i0.144.109.IP)
[23:47:04] *** Quits: proc (proc@moz-glfmoo.dip0.t-ipconnect.de) (Quit: Gotta eat my pizza)
[23:49:12] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:50:48] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Quit: Leaving.)
[23:52:03] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[23:52:44] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[23:53:45] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Quit: Leaving.)
[23:53:54] *** Joins: Rusky (russell@moz-pob0l8.slkc.qwest.net)
[23:54:05] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[23:55:13] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[23:57:16] *** Joins: blaenk (blaenkdenum@moz-12e081.res.rr.com)
[23:58:24] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
