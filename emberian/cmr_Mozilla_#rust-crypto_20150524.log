[01:39:26] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[01:41:51] *** Joins: adu (adu@moz-unlrtv.ms5a.74ae.000a.2601.IP)
[01:42:24] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:49:44] <Ilari> Wonder how long it will take until EMS is reliably deployed... I mean renego fix still isn't, despite being over 5 years old...
[01:52:07] *** Tuba is now known as Tobba
[02:09:52] *** Quits: adu (adu@moz-unlrtv.ms5a.74ae.000a.2601.IP) (Ping timeout: 121 seconds)
[03:07:31] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:13:36] *** Joins: bpugh (bpugh@moz-715e47.ca.comcast.net)
[03:19:12] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[03:24:14] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[05:10:47] <taryn> hey, anyone want to tell me how bad my crypto idea is?
[05:11:43] <taryn> basicly, I'm wanting to be able to do offline pk crypto w/ curve25519
[05:12:02] <taryn> where the sender wants to remain unknown
[05:12:52] <taryn> so my idea is, generate random keypair, generate the session key from the random sk and the reciever's pk, then encrypt the message with this, and prepend the random pk
[05:51:56] <mcpherrin> I think you'd want to put the sender pk in the message, so it can't be swapped out
[05:55:52] <taryn> mcpherrin: well, I'd have an optional signature from the sender, but the idea is that only the reciever can know who sent the message
[05:56:04] <taryn> and only if the sender wanted them to
[06:22:00] <Ilari> taryn: The idea sounds like ECIES.
[06:23:09] <Ilari> taryn: Note that for sender "signature", deniability might be useful.
[06:23:40] <Ilari> (No idea if it is actually possible)
[08:30:22] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[08:31:21] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[08:44:25] <eternaleye> Tiffany: The site is light on details; the linked *papers* are pretty clear
[08:59:10] <Ilari> Eeh... Fun: Some TLS implementations incorrect send order of DSA-like group as group generator... "This bug leads to a rather nasty attack."
[08:59:22] <Ilari> *incorrectly
[09:18:34] <Ilari> And apparently he who said that browsers are only suitable for low-value data considers online banking low-value(!).
[09:38:00] <eternaleye> ...
[12:46:27] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[15:23:04] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[15:34:17] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[17:55:24] <Ilari> How many actual algorithms has TLS had fail? I recall only 2: RC4 (encryption) and MD5 (as signature hash).
[18:03:57] <mcpherrin> export ciphers too
[18:04:39] <Tiffany> does that count as broken algorithms mcpherrin?
[18:05:04] <mcpherrin> I don't know. Maybe.
[18:05:07] <Tiffany> I mean, they were intentionally crippled, but mostly they fell victim to the advance of processing power
[18:05:23] <Tiffany> RSA-EXPORT is the same as regular RSA except with tiny keys
[18:05:58] <mcpherrin> yeah
[18:23:24] <Ilari> IIRC, RSA-EXPORT involves signing small key with bigger key.
[18:55:30] <Ilari> Apparently some buggy TLS servers send DH parameters with DSA-like q as g (causing a nasty attack).
[18:56:28] <Ilari> Hmm... Under what conditions can DH g legitly divide p-1?
[18:56:30] <kmc> Ilari: there's 1DES, but it just fails due to small keys
[18:56:46] <kmc> and we'll see real attacks on SHA1 certs soon
[18:57:29] <Ilari> Certs is actually the only place in TLS where I can find attacks with bad hash functions, unless the hashes are REALLY bad. And not even MD5 is seemingly bad enough for that.
[18:57:44] <kmc> "Some TLS implementations incorrect send order of DSA-like group as group generator"
[18:57:48] <kmc> o_O
[18:58:25] <kmc> BULLRUN or ordinary incompenence?
[18:58:43] <Ilari> AFAIK, incompetence.
[18:59:32] <kmc> that just means They're doing their job ;)
[19:00:26] <Ilari> Heck, I can't even figure a way to attack the TLS 1.3 "hash function better be CR" signature construct with prf_hash=MD5...
[19:02:32] <kmc> imo, the mark of a plausible conspiracy theory is that much of the weirdness comes from organizational incompetence, the left hand not knowing what the right hand's doing
[19:02:41] <kmc> and the spiralling need to cover up a situation that is far out of control
[19:04:07] <Ilari> (Blame me for that construct...) 
[19:07:04] <Ilari> kmc: The reason why is apparently some key format having fields in such order that if one sends first two, q ends up as g and p ends up as p.
[19:11:01] <Ilari> MD4 might actually be broken enough that I could figure out an attack against TLS using that as prf_hash.
[19:17:10] <Ilari> Also nasty in that q and g mixup is that the result works even without having to do anything special.
[19:32:34] <Ilari> Also, TLS does not send DH q parameter to client, which makes ensuring security very difficult.
[19:51:29] <kmc> example of left-hand right-hand: the CIA rushing evidence to Dallas that would implicate another branch of the CIA in running a frame-up of lee harvey oswald
[19:51:39] <kmc> and then desperately trying to claw back the existence of said evidence
[19:52:05] <kmc> including erasing one of johnson's recorded phone calls (but they missed the transcript!) and making a personal appeal to Allen Dulles to doctor relevant photos for the warren commision
[19:53:52] <kmc> Mexico Station must have been a very interesting place in 63 and 64...
[19:54:15] <kmc> there's a detailed history written by a former CIA employee there that is not in any way an attempt to write down all the lies and keep them straight
[19:54:18] <kmc> lol
[19:57:40] <kmc> the "lone nut" theory doesn't fit LHO very well because it was an improvisation
[19:57:55] <kmc> he was supposed to miss and it would be blamed on the cubans
[19:58:11] <kmc> but even mediocre soldiers can have a good day at the range
[19:58:33] <kmc> as this ABC "documentary" from 2003 takes great pains to illustrate in defense of the warren report's obvious lies
[20:00:02] <kmc> the national security apparatus is more Burn After Reading than 1984, thankfully
[20:20:41] *** Joins: fredrik (fredrik@moz-2b08ue.priv.bahnhof.se)
[20:28:59] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[20:44:06] <Ilari> kmc: Actually, TLS has even worse ciphers than 1DES...
[20:44:27] <Tiffany> ilari: ones with 40 it keys?
[20:44:40] <Ilari> Tiffany: Yup.
[20:46:13] <Tiffany> dvd CSS is 40 bit keys heh
[20:46:24] <Tiffany> of course, there's an attack that gives it a WF of 16
[20:46:36] <Ilari> Yeah, the algorithm is broken.
[20:48:04] <Ilari> Also, GSM encryption (especially the A5/1 and A5/2) are really broken.
[20:49:01] <kmc> yep lol
[20:49:27] <Ilari> (Malice there)
[20:49:31] <kmc> oh yeah?
[20:51:32] <Ilari> Also, allegedly many of TLS flaws were known long ago, but were not fixed.
[20:52:23] *** Quits: atomic (atomic@moz-pjn.cru.169.195.IP) (Ping timeout: 121 seconds)
[20:52:44] <Tiffany> did TLS seem as poorly designed when it was new as it does now?
[20:53:40] <Ilari> Tiffany: Well, many flaws were pointed out long time ago.
[20:54:21] <Tiffany> if someone were to invent TLS today they would get shot down so hard
[20:56:05] <Tiffany> it's not deniable, it exposes the identities of the endpoints to third parties; it doesn't do a good job of authenticating ciphersuites; does it even have forward secrecy?; it's immensely complex and impossible to prove correct
[20:56:16] <Ilari> How many sets of crypto algorithms there are in something like TLS that are actually worth using?
[20:56:32] <Tiffany> I imagine that would depend on who you ask
[20:56:47] <Tiffany> does TLS have a cipher suite deprecation process?
[20:57:03] <Ilari> Tiffany: Hell no.
[20:57:09] <Tiffany> ugh
[20:58:37] <Ilari> I would say 4...
[20:59:28] <Tiffany> which four?
[21:00:15] <Ilari> (Not that it is even currently possible to use any of those)
[21:03:48] <Ilari> Tiffany: Most of the sites that are vulernable to logjam are because they support EXPORT ciphers. And those haven't been relevant for a LONG time.
[21:03:57] <Tiffany> yeah
[21:03:59] <Tiffany> that's for sure
[21:04:16] <Tiffany> TLS seems to have a serious backwards compatibility over sanity thing going
[21:07:49] <Ilari> Also, I'm scared of what happens if SHA-2 turns out weak (fortunately, looks like TLS can take serious beating with the hash function).
[21:08:35] <Tiffany> I feel like it's necessary for such a widely used protocol to have cipher negotiation, so that the ciphers can change if vulnerabilities crop up; however, the number of actively endorsed ciphers should be around 5
[21:08:44] <Tiffany> or less
[21:15:43] <Tiffany> actively endorsed as in implementations SHOULD drop support for ciphers deemed insecure, with SHOULD being in the IETF sense
[21:17:00] <Ilari> Tiffany: OTOH, algorithm failures in crypto are qute rare once one gets past the inital stage where quality is wild crapshoot.
[21:17:08] <Tiffany> yeah
[21:17:45] <Tiffany> on the other hand, key size
[21:17:51] <Ilari> And then there is some situations where there are algorithms that as far as we can tell are equally secure, but one has advantages in one context and the other in otherse.
[21:17:56] <Tiffany> although
[21:17:57] <mcpherrin> negotiation seems way harder to get right than crypto algorithms
[21:18:04] <Tiffany> I suppose old 40-bit keys were just people being stupid
[21:18:25] <Ilari> E.g. see Chacha20 vs. AES.
[21:18:32] <Tiffany> how big of a computer do you need to do 2^256 operations in less time than the heat death of the universe?
[21:19:00] <Tiffany> oh, I can do this
[21:19:09] <Ilari> Tiffany: 2^128 already seems to run into bad trouble with thermodynamics.
[21:20:14] <Tiffany> okay
[21:20:32] <Tiffany> apparently 10^100 years is a lot larger than 2^256
[21:20:47] <kmc> there are only a few TLS ciphersuites that are reasonably secure and also widely supported by clients
[21:20:51] <Tiffany> although, I don't think anyone would be interested in waiting until there is nothing in the universe left but black holes to break some keys
[21:21:26] <Tiffany> 2^256 ops in 1 year is 10^69 ops per second
[21:22:20] <Tiffany> if you build a computer that can perform a billion such operations in a second, you still need 10^60 such computers
[21:24:34] <Tiffany> apparently at the upper limits of computation, a kilogram of black hole can do 10^50 operations per second
[21:24:49] <Tiffany> you'd still need 10 billion billion such black holes in order to factor a 256 bit key in a year..
[21:25:49] <Ilari> Also, energy of entiere star going kaboom: Enough for ~2^227 ops...
[21:26:15] <Tiffany> yeah, 256 bit keys are going to be fine unless the laws of physics change on us
[21:26:52] <Tiffany> 128 bit keys might be within the realm of a civilization which regularly disassembles stars, however
[21:27:35] <Tiffany> there's also quantum computers to deal with
[21:29:36] <Tiffany> I think it is pretty safe to say that 256 bit keys are safe
[21:30:30] <Ilari> One solar mass of hydrogen, fused all the way: Enough for ~2^225 ops.
[21:31:49] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[21:32:44] <eternaleye> Ilari: It's arguable whether DES/3DES 64-bit blocksize birthday bound constraints count as algorithm failure
[22:04:17] <Ilari> And yeah, it is a nasty problem. And made more nasty by all sorts of obsolete implementations out there.
[22:06:17] <Ilari> And one seems to need algorithm negotation just because there doesn't seem to be one technically superrior algorithm (even if one ignores weakening of algorithms over time).
[22:07:44] <Ilari> And also if one ignores "vanity" ciphers (including national ones)
[22:09:09] <eternaleye> Ilari: "just because"?
[22:10:46] <eternaleye> Ilari: I really do disagree there - while TLS has historically been relatively lucky regarding primitive failure, primitives _do_ fail - and even aside from that, we learn more about what makes a primitive good.
[22:10:48] <Ilari> The problem with algorithm negotiation is that it tends to accumulate all sorts of crappy ciphers.
[22:11:13] *** Quits: blank_name (blank_name@moz-d5sbf3.mi.frontiernet.net) (Quit: leaving)
[22:11:15] <eternaleye> Ilari: For example, AES and constant-time
[22:11:48] <eternaleye> Ilari: Yes? And not having algorithm negotiation doesn't prevent having crappy ciphers.
[22:11:56] <eternaleye> Ilari: It prevents adding sane replacements later.
[22:12:24] <Ilari> (But then with version negotiation one would then presumably accumulate all sorts of crappy ancient versions) :-/
[22:12:41] <eternaleye> Ilari: It feels like a strawman.
[22:13:06] <eternaleye> Ilari: Because negotiation of any kind accumulates bad things because things were _already bad_ and then got replaced
[22:13:31] <eternaleye> Ilari: The proper solution is a gradual ratchet of the lower limit, in implementations and by admins.
[22:14:14] <Ilari> And as has been seen, ciphers that have been long disabled by one side but not another may still strike.
[22:14:26] <eternaleye> Ilari: Really, the problem re: negotiation in TLS is a lot more down to UI than standard IMO (ignoring bugs in the negotiation, like not being actually secure)
[22:14:41] <eternaleye> Ilari: Disabled, or deprioritized?
[22:14:49] <eternaleye> Ilari: These differ. Significantly.
[22:15:00] <Ilari> Hopefully even deimplemented.
[22:15:24] <eternaleye> Ilari: My point is that the handshake exploits hit "deprioritized", not "disabled" or "deimplemented"
[22:15:43] <Ilari> They do sometimes hit "disabled".
[22:15:51] <eternaleye> Ilari: And without _bugs_ in the negotiation (IE, not using SIGMA or similar to ensure security) those are even less so
[22:16:01] <eternaleye> (and I mean specbugs there)
[22:16:37] <eternaleye> My point is that the problems are not in negotiation existing, because the problems of bad stuff getting used would happen anyway.
[22:16:56] <eternaleye> Negotiation means that _fixing_ it isn't horrendous and ad-hoc.
[22:17:47] <eternaleye> and IMO, ad-hoc is much more likely to cause implementor-error than negotiation.
[22:17:52] <Ilari> IMO, the real problem is crappy stuff existing in implementations.
[22:18:20] <eternaleye> Ilari: When you find a way to detect crappy stuff deterministically and perfectly, lemme know so I can cash in on bets.
[22:18:56] <eternaleye> Ilari: We live in an imperfect world. When stuff turns out to be shit after it's gotten used, that needs handled.
[22:19:49] <Ilari> Also, how would you pick algorithms for something that needs to be secure in 2030? Not necressary the best crypto, but good enough even then?
[22:20:52] <eternaleye> Ilari: For symmetric? I'd probably pick something that stands up well to existing analysis _and_ can be made "stronger" by twiddling the round count, then twiddle the round count.
[22:21:50] <eternaleye> Ilari: 2030 is close enough that I find that a reasonable strategy
[22:21:56] <eternaleye> Ilari: 2060, OTOH?
[22:22:09] <eternaleye> Ilari: I'd say "I don't  have enough PhD's for this shit"
[22:23:03] <Ilari> Thinking about it, doing the same in 2000 for 2015 would have been bit challenging. But 2001 and 2016 (barring large surprises) might have been easier.
[22:25:48] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[22:27:02] <eternaleye> Hm, I wonder if SIGMA is secure if part of what's being agreed upon are the signature and mac algorithms...
[22:27:11] <Ilari> What there was in 2001: DH 2k/3k or ECDH 256 (didn't have good math for this back then tho), AES-CTR / HMAC-SHA256 EtM, HMAC-SHA256 based PRF/KDF, SHA-256 as hash. Today, that sort of thing wouldn't be too hot, but not really broken either.
[22:32:23] *** Joins: eddyb (eddyb@moz-ure.pug.25.188.IP)
[22:32:41] *** Joins: blank_name (blank_name@moz-d5sbf3.mi.frontiernet.net)
[22:40:22] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:51:15] *** Quits: fredrik (fredrik@moz-2b08ue.priv.bahnhof.se) (Ping timeout: 121 seconds)
[22:59:30] <Tiffany> eternaleye: I think you can twiddle the round count on salsa20, and djb seems to think that you can make it more secure by adding more rounds
[23:00:26] *** Quits: eddyb (eddyb@moz-ure.pug.25.188.IP) (Ping timeout: 121 seconds)
[23:00:38] <Tiffany> particularly there's also salsa12 and salsa8, and there have been cryptanalyses which have broken 5 and 6 round configurations
[23:02:08] <Tiffany> I think you might have to change some of the constants in the initial state matrix configuration when you up the round count
[23:02:57] <Tiffany> I am probably biased, since salsa20 is pretty much the only cipher I actually have any decent understanding of...
[23:08:54] <eternaleye> Tiffany: ChaCha was actually what I had in mind, but yeah.
[23:09:39] <Tiffany> iirc salsa20 is the one that has more cryptanalysis, but chacha20 is supposed to have better key diffusion
[23:09:59] <Tiffany> that's the kind of decision that feels like it will be important for something that has to stay secure enough for 20 years
[23:34:59] <Tiffany> I'm trying to implement salsa20 as an exercise and using the original paper, the wording is rather confusing
[23:35:39] <Tiffany> at least it has examples
[23:59:10] *** Joins: atomic (atomic@moz-j5rng1.tor-exit.network)
