[00:00:04] <huon> oh... of course
[00:00:23] <huon> ChrisMorgan: it is a little peculiar
[00:00:30] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[00:00:49] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[00:00:58] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:01:10] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[00:01:18] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Quit: Matthias247)
[00:01:18] <o11c> I would've expected 1..to_str to work also
[00:01:34] *** Quits: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[00:01:44] <FreeFull> rusti: 1,
[00:01:44] -rusti- <anon>:10:10: 10:11 error: expected one of `;`, `}` but found `,`
[00:01:44] -rusti- <anon>:10         1,
[00:01:44] -rusti-                    ^
[00:01:44] -rusti- application terminated with error code 101
[00:01:45] <FreeFull> rusti: 1.
[00:01:46] -rusti- 1f64
[00:01:58] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:01:58] <FreeFull> rusti: 1..to_str()
[00:01:58] -rusti- <anon>:10:10: 10:12 error: expected one of `;`, `}` but found `..`
[00:01:58] -rusti- <anon>:10         1..to_str()
[00:01:58] -rusti-                    ^~
[00:01:59] -rusti- application terminated with error code 101
[00:02:05] <FreeFull> rusti: (1.).to_str()
[00:02:06] -rusti- ~"1"
[00:02:16] <FreeFull> I guess the .. gets interpreted as a single symbol
[00:02:34] <FreeFull> rusti: 1.0.to_str()
[00:02:35] -rusti- ~"1"
[00:02:47] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:02:49] *** Joins: cdidd (cdidd@moz-4A2EBB8C.broadband.corbina.ru)
[00:04:52] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:04:58] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[00:05:16] *** kimundi is now known as zz_kimundi
[00:05:24] <ChrisMorgan> I guess it's just being careful about not consuming a dot for a float in the wrong cirumstances, so that it doesn't interpret 1.x as float("1.") ident("x") rather than num("1") dot ident("x").
[00:05:48] <ChrisMorgan> And in consequence, in this case, not taking it when it should.
[00:06:50] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:07:32] <jmgrosen> is trait object coercion on return coming soon?
[00:08:00] <jmgrosen> e.g. `fn foo() -> ~Any { ~3 }` instead of `fn foo() -> ~Any { ~3 as ~Any }`
[00:08:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[00:08:53] <aatch> jmgrosen, it's already here, as far as I know
[00:09:07] <aatch> rusti: let a : ~Any = ~3; a
[00:09:07] -rusti- <anon>:10:18: 10:21 error: use of undeclared type name `Any`
[00:09:08] -rusti- <anon>:10         let a : ~Any = ~3; a
[00:09:08] -rusti-                            ^~~
[00:09:08] -rusti- error: aborting due to previous error
[00:09:08] -rusti- application terminated with error code 101
[00:09:11] <jmgrosen> aatch: compiled a couple minutes ago, not working :(
[00:09:18] <ChrisMorgan> aatch: Any is no longer in the prelude.
[00:09:18] <aatch> rusti: let a : ~std::any::Any = ~3; a
[00:09:19] -rusti- ~std::any::Any:Send
[00:09:33] <aatch> jmgrosen, well it coerced there
[00:09:35] <jmgrosen> rusti: fn foo() -> ~std::any::Any { ~3 }
[00:09:36] -rusti- pastebinned 5 lines of output: http://sprunge.us/MITf
[00:09:57] <cmr> jmgrosen: open a bug
[00:09:59] <aatch> Hmm, seems like a bug.
[00:10:11] <jmgrosen> rusti: fn foo() -> ~std::any::Any { ~3u32 }
[00:10:12] -rusti- <anon>:10:38: 10:43 error: mismatched types: expected `~std::any::Any:Send` but found `~u32` (expected trait std::any::Any but found ~-ptr)
[00:10:12] -rusti- <anon>:10         fn foo() -> ~std::any::Any { ~3u32 }
[00:10:12] -rusti-                                                ^~~~~
[00:10:12] -rusti- error: aborting due to previous error
[00:10:12] -rusti- application terminated with error code 101
[00:10:25] <jmgrosen> hm, still doesn't work
[00:10:28] <jmgrosen> I'll file an issue
[00:10:30] <aatch> jmgrosen, it's not doing the coercion for return types apparently
[00:10:48] <jmgrosen> seems so
[00:11:13] *** flaper87 is now known as flaper87|afk
[00:11:39] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:14:34] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:14:36] <jmgrosen> #12744
[00:15:00] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[00:16:23] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[00:16:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:18:10] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[00:18:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:18:13] *** Joins: orospakr (orospakr@C5DC9BF9.327A7B4.1A47634F.IP)
[00:18:14] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Connection reset by peer)
[00:18:21] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[00:19:04] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:21:25] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Input/output error)
[00:21:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:23:37] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[00:24:24] *** Quits: hoverbear (hoverbear@moz-DF31F1E2.wireless.uvic.ca) (Quit: Taking a nap.)
[00:24:26] *** Joins: a_m0d (a_m0d@moz-AC872528.acanac.net)
[00:25:17] <jmgrosen> with DST, will ~str be able to coerce to ~Any?
[00:27:29] <FreeFull> I still don't know what DST actually is
[00:30:00] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[00:30:00] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:30:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:30:49] <huon> FreeFull: dynamically sized types, basically allowing handling types without a known size as more normal values
[00:31:22] <huon> (specifically, as long as they stay behind a pointer of some sort, then most operations are ok on types like ~[], ~str and ~Trait.)
[00:31:25] *** Joins: lawrence (lawrence@moz-3AA61DBF.wireless.utoronto.ca)
[00:31:32] <FreeFull> Ah
[00:33:15] <aatch> FreeFull, this is pretty much the final form of it: http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[00:33:16] *** Quits: skade (skade@moz-24E7059D.web.vodafone.de) (Connection reset by peer)
[00:33:27] <FreeFull> aatch: Thanks
[00:35:30] <huon> jmgrosen: hopefully
[00:35:37] *** Quits: q66 (q66@moz-2E1F7042.dab.02.net) (Ping timeout)
[00:35:50] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[00:36:03] *** Joins: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP)
[00:37:10] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[00:38:59] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Ping timeout)
[00:39:28] *** Joins: tav_ (tav@moz-7F8C7893.range31-52.btcentralplus.com)
[00:39:45] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[00:39:45] *** Quits: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com) (Ping timeout)
[00:39:45] *** tav_ is now known as tav
[00:39:51] *** Quits: rgomes (rgomes@moz-C03C5B02.dsl.eclipse.net.uk) (Ping timeout)
[00:40:05] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[00:40:06] *** Joins: rgomes (rgomes@moz-C03C5B02.dsl.eclipse.net.uk)
[00:41:26] *** Quits: aeqwa (aeqwa@moz-A40D1B41.dsl.tropolys.de) (Client exited)
[00:44:08] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[00:44:25] *** Joins: AvianFlu_ (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[00:44:47] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[00:47:20] *** Quits: apollow (yellowy432@moz-5502CFE8.wireless.calpoly.edu) (Ping timeout)
[00:48:54] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[00:49:01] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[00:50:10] *** Joins: q66 (q66@moz-FC68EEAA.dab.02.net)
[00:50:20] *** Quits: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[00:50:20] *** Quits: lawrence (lawrence@moz-3AA61DBF.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:50:31] *** Parts: aepsil0n (eduard@moz-B5507714.hsi8.kabel-badenwuerttemberg.de) ()
[00:52:41] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Client exited)
[00:52:47] *** Parts: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP) ()
[00:53:19] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:53:29] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:53:33] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[00:53:44] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[00:53:46] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:54:46] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[00:55:19] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:55:39] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[00:57:20] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[00:57:22] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[01:01:49] *** Quits: a_m0d (a_m0d@moz-AC872528.acanac.net) (Ping timeout)
[01:02:12] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[01:02:33] *** Joins: leowoe (Leo@moz-50643062.dip0.t-ipconnect.de)
[01:04:05] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[01:04:43] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[01:06:21] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[01:06:41] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[01:10:39] *** Joins: mib_nov456 (Mibbit@moz-25EBF39F.lightspeed.austtx.sbcglobal.net)
[01:10:43] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[01:11:33] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[01:11:46] *** Quits: mib_nov456 (Mibbit@moz-25EBF39F.lightspeed.austtx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:11:56] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[01:12:27] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:13:31] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[01:14:07] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:14:41] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[01:16:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:18:13] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:18:27] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[01:18:43] *** Joins: dylukes (dylukes@889B4A16.52BC16B2.E8393EEB.IP)
[01:18:44] *** Quits: dylukes (dylukes@889B4A16.52BC16B2.E8393EEB.IP) (Quit: dylukes)
[01:18:52] *** Joins: hunt3r (hunt3r@6F6DDFAC.AF15CD76.B8212F05.IP)
[01:19:12] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[01:19:23] *** Quits: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP) (Ping timeout)
[01:21:06] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: dherman)
[01:21:16] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[01:21:39] *** Quits: mye (mye@moz-97015299.dip0.t-ipconnect.de) (Quit: mye)
[01:21:45] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[01:22:02] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Ping timeout)
[01:22:53] *** Joins: not_gavin (gavin@E04DED12.5AA33DAB.2321E71E.IP)
[01:24:19] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[01:25:54] *** Quits: rgomes (rgomes@moz-C03C5B02.dsl.eclipse.net.uk) (Ping timeout)
[01:26:02] *** Quits: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com) (Ping timeout)
[01:26:18] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[01:26:19] *** Joins: rgomes (rgomes@moz-C03C5B02.dsl.eclipse.net.uk)
[01:26:25] *** Joins: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com)
[01:26:32] *** Joins: apollow (yellowy432@moz-E7350200.wireless.calpoly.edu)
[01:26:38] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[01:26:49] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[01:27:13] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[01:28:47] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[01:28:48] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[01:29:37] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[01:29:46] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[01:29:52] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[01:29:59] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[01:30:11] <sp3d> http://research.microsoft.com/apps/pubs/default.aspx?id=208237 cool
[01:30:13] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[01:30:29] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: Leaving...)
[01:30:30] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[01:31:57] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[01:32:22] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:35:53] *** Quits: orospakr (orospakr@C5DC9BF9.327A7B4.1A47634F.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:36:07] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[01:36:49] *** Quits: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it) (Quit: Leaving.)
[01:37:32] *** Parts: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net) ()
[01:37:55] *** Joins: thesnowdog (doug@D79E132C.11882795.6F17036B.IP)
[01:38:05] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[01:38:50] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:39:23] *** Quits: leowoe (Leo@moz-50643062.dip0.t-ipconnect.de) (Quit: Leaving.)
[01:39:35] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[01:40:21] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[01:42:01] *** Quits: nif (nif@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: Konversation terminated!)
[01:42:36] *** Parts: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) ()
[01:42:37] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[01:43:49] *** Quits: q66 (q66@moz-FC68EEAA.dab.02.net) (Quit: Leaving)
[01:43:58] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[01:45:38] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Ping timeout)
[01:45:48] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:46:04] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:49:14] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[01:49:21] <aatch> sp3d, nice. I'm just reading it now but the abstract is cool
[01:49:56] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[01:52:42] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:52:59] *** Quits: hunt3r (hunt3r@6F6DDFAC.AF15CD76.B8212F05.IP) (Input/output error)
[01:53:34] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[01:53:55] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[01:54:13] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:57:35] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[01:57:45] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[01:59:25] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[01:59:26] <sp3d> maybe we can have parallel regexes when we finally get regexes ;)
[02:00:20] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[02:01:21] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[02:02:13] *** Quits: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: pcwalton)
[02:03:43] *** Joins: mib_9t9e7h (Mibbit@moz-81E95E89.unassigned.ntelos.net)
[02:04:16] *** Quits: apollow (yellowy432@moz-E7350200.wireless.calpoly.edu) (Ping timeout)
[02:04:18] <aatch> sp3d, I'm thinking about what a tokenizer that uses it would look like (I'm at the algorithm section)
[02:04:36] <aatch> But yeah, regex -> FSM -> parallel FSM would be cool too.
[02:04:37] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:04:57] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:05:19] <mib_9t9e7h> when accessing remote data in a child task, what determines whether a variable can be copied or whether it should be queued on a channel
[02:05:52] <aatch> Obviously the overhead would mean you'd only want to use it for searching large amounts of data.
[02:05:57] <aatch> mib_9t9e7h, what do you mean?
[02:06:38] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:08:23] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[02:09:11] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[02:11:02] *** Quits: maxli1 (Adium@moz-70F9251D.thefacebook.com) (Ping timeout)
[02:12:24] *** Quits: mib_9t9e7h (Mibbit@moz-81E95E89.unassigned.ntelos.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:13:39] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[02:14:05] *** Joins: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com)
[02:14:14] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[02:15:00] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[02:15:00] *** ChanServ sets mode: +ao brson brson
[02:15:01] <aatch> Hmm, the algorithm this paper describes seems to be a similar idea to speculative execution that pipelining processors do.
[02:15:34] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:15:35] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[02:15:40] <aatch> Basically, do more work, but do it in parallel.
[02:16:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:16:50] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[02:17:11] *** Joins: brson (brson@4A08E125.708C0A12.C7EEF3A2.IP)
[02:17:11] *** ChanServ sets mode: +ao brson brson
[02:17:48] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[02:18:03] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[02:18:11] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:20:21] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Quit: ZNC - http://znc.in)
[02:20:51] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[02:21:28] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[02:22:21] *** Joins: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP)
[02:22:48] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Quit: ZNC - http://znc.in)
[02:23:00] *** Joins: quux00 (uid24415@moz-E77DEB21.irccloud.com)
[02:23:18] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[02:23:57] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[02:25:00] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:25:15] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[02:25:47] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[02:27:45] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:29:45] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[02:30:07] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[02:31:48] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[02:32:14] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[02:32:32] <quux00> I'm having no luck playing with the try! macro.  
[02:32:42] <quux00> I have some failing examples here: https://gist.github.com/quux00/9403974
[02:32:53] <quux00> Could someone explain how it's supposed to work?
[02:33:13] <huon> look at `rustc --pretty expanded` to see what `try!()` expands to
[02:33:41] <quux00> OK
[02:34:36] <huon> basically, try is just to help with passing an error up to the caller
[02:35:06] <huon> so you need `fn foo() -> IoResult<..> { ... }` if you wish to use try
[02:36:08] <quux00> Both of the methods I called return IoResult.  One is IoResult<()> and one is IoResult<u8>
[02:36:08] <huon> https://github.com/mozilla/rust/issues/12676 is relevant
[02:36:24] <huon> quux00: the function you use `try!` in needs to be returning an IoResult
[02:36:57] <huon> since `try!(foo)` basically expands to `match foo { Ok(x) => x, Err(e) => return Err(e) }`
[02:37:26] <huon> i.e. the function the macro is in needs to be returning an `IoResult<T>` for some T
[02:37:56] <quux00> OK - that I didn't know.  I still don't get it, but that gives me more to work with.
[02:38:31] <huon> did you have a look at the output of `--pretty expanded`?
[02:38:52] <quux00> Looking at it now, but there's a lot to take in.
[02:39:25] *** Joins: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net)
[02:39:27] <huon> rusti: fn foo() { match std::io::File::open(&Path::new("foo")) { Ok(o) => {/* ignored */}, Err(e) => return Err(e) } }
[02:39:28] -rusti- pastebinned 5 lines of output: http://sprunge.us/gdKS
[02:39:37] <huon> taht's the error you're getting ^
[02:39:54] <huon> `foo` returns `()` but the `try!()` is creating a `return Err(...)`
[02:39:57] <huon> which is not ()
[02:40:23] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:40:59] <quux00> OK. That was not at all what I was expecting try! to do, so that's good info. I'll go work through what that means now.  Thanks!
[02:41:03] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:41:10] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:41:15] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[02:41:36] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[02:42:50] <huon> try should be called "bubble up" or "propagate" or something like that: it is designed to be used to making propagating errors to the caller of a function easier (i.e. that function doesn't need or want to decide on an error handling strategy, but the caller might want to know)
[02:43:16] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[02:43:18] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[02:44:43] <quux00> OK. I see that in the pretty-expanded code.  
[02:45:01] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:45:15] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[02:45:23] <quux00> I'm modifying my code but it still isn't compiling.  Let me work on it a bit more. 
[02:46:44] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:46:44] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:49:13] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[02:49:29] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[02:50:11] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[02:50:56] *** Quits: brson (brson@4A08E125.708C0A12.C7EEF3A2.IP) (Quit: leaving)
[02:52:37] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[02:52:37] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[02:52:54] <p1start> If `|T...| -> U` borrows its scope, and `proc(T...) -> U` owns its scope, is there a way to make a closure that RCs its scope? (i.e. something like `Rc<fn(T...) -> U>`)
[02:52:58] <quux00> • huon: I see what it's meant to do now and I have a simple example working.  Thanks.  
[02:54:53] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[02:55:00] <huon> quux00: \o/
[02:55:02] <huon> np :)
[02:55:13] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[02:55:13] *** ChanServ sets mode: +ao brson brson
[02:55:21] <huon> p1start: nope
[02:55:35] <huon> well, you can with a "manual closure" 
[02:56:15] <p1start> huon: how would I do that?
[02:56:38] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[02:57:26] <mcpherrin> explicitly keep the "environment" in a struct, pass that around
[02:57:35] <huon> p1start: https://gist.github.com/huonw/fd6710db0c9197cc6b8d
[02:57:47] *** Quits: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[02:57:50] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:58:29] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[02:59:02] <p1start> huon: OK, that makes sense. I guess I'll use that, then. Thanks!
[02:59:19] *** Quits: oxum (anonymous@2EA69919.88326D41.520CDC98.IP) (Quit: ...)
[03:00:24] <p1start> huon: is doing this without a manual struct environment planned?
[03:01:34] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[03:01:37] <huon> unboxed closures are planned, yes
[03:02:20] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[03:04:52] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[03:07:39] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:10:43] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:11:49] *** Quits: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140304030204])
[03:12:25] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[03:12:33] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Client exited)
[03:12:42] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[03:12:48] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:13:07] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:15:11] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[03:16:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:16:34] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:18:11] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:18:14] *** Quits: pnkfelix (pnkfelix@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[03:20:08] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[03:20:18] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[03:21:02] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[03:21:44] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[03:22:20] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[03:22:46] *** Joins: omouse (omouse@moz-790BA27C.cable.teksavvy.com)
[03:22:57] <omouse> is there a good tutorial on using rust pointers with arrays?
[03:23:03] <omouse> I can't quite figure out how to pass around a definite-sized mutable vector to other functions
[03:23:44] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:26:04] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Ping timeout)
[03:26:25] <o11c> omouse: varname: &mut [T, ..size]
[03:28:35] <omouse> woah
[03:28:49] <omouse> so why does the manual and tutorial not give me that :P
[03:29:53] *** Quits: japaric (japaric@87E5C324.64CFB2BA.F29ED47E.IP) (Ping timeout)
[03:29:54] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Input/output error)
[03:30:52] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[03:31:10] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[03:31:14] <bollu> morning everyone!
[03:32:00] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:32:43] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[03:33:22] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[03:35:54] <bollu> "The Erlang (1987) language, developed by Joe Armstrong, Robert Virding, Claes Wikström, Mike Williams and others in their group at the Ericsson Computer Science Laboratory (Älvsjö, Stockholm, Sweden) ." How has eralang influenced Rust?
[03:36:02] <bollu> erlang*
[03:36:18] <bollu> it dosen't have the main /point/ of erlang right - fault tolerance?
[03:36:29] <sp3d> the task model is inspired by erlang's
[03:36:32] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[03:36:41] <bollu> sp3d: link?
[03:36:50] <sp3d> uh, I don't know of a good one offhand
[03:37:10] *** jorendorff is now known as jorendorff_away
[03:37:18] <bollu> hmm okay. I haven't even heard of any of the languages on the "influences" list >_<
[03:37:31] <bollu> I always assumed it was from haskell - guess I was wrong
[03:37:57] <aatch> bollu, Rust is mostly influenced by ML, C++ and Cyclone
[03:38:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:38:38] <bollu> didn't know about cyclone. 
[03:38:52] <bollu> aatch: ML was haskell's predecessor right?
[03:39:00] <bollu> it didn't have pure I/O ?
[03:39:01] <aatch> bollu, not really.
[03:39:08] <aatch> More like a sibling.
[03:39:28] <aatch> Not sure.
[03:39:36] <bollu> yep - "ML is often referred to as an impure functional language, because it encapsulates side-effects, unlike purely functional programming languages such as Haskell."
[03:39:39] *** Joins: andrewf (Mibbit@moz-C24FB56E.pasadena.edu)
[03:40:26] <aatch> ML is older, I think, has a few descendents, the most notable being OCaml.
[03:40:45] <aatch> OCaml is intended to be more pratical than Standard ML
[03:41:08] <bollu> this is kind of a random question: how hard is it to implement the type inference part of Rust? (the Hindley Milner type system)
[03:41:30] <aatch> bollu, conceptually, not very hard at all.
[03:41:36] <Ralith> not very hard in practice, either
[03:41:39] <Ralith> HM is simple
[03:41:50] <Ralith> of course, Rust is more than HM
[03:42:01] <bjz> aatch: Haskell was partly infulenced by ML
[03:42:01] <Ralith> traits, for example, add some complexity
[03:42:14] <bjz> aatch: mainly via Miranda though
[03:42:32] <andrewf> Hey rustites, I just pulled down master and tried to compile, and got "undefined reference to `LLVMRustSetDLLExportStorageClass'"
[03:42:41] <aatch> bjz, sure, but calling Haskell a successor to ML isn't really correct.
[03:42:47] <bjz> aatch: agreed
[03:42:52] <bollu> my god, how many programming languages /are/ there? 
[03:43:01] <bjz> bollu: thousands
[03:43:01] <aatch> bollu, more than that
[03:43:01] <huon> 13
[03:43:26] <bollu> @huon :] I'm a young'un, show me the path to wisdom!
[03:43:26] <andrewf> does anyone know how to fix that?
[03:43:35] <huon> bollu: https://en.wikipedia.org/wiki/List_of_programming_languages
[03:43:47] <bollu> oooh, neat
[03:43:57] <bjz> bollu: lots of toy languages out there, but equally lots of langs that definitely have interesting semantics that haven't yet made it to the mainstream
[03:44:03] <aatch> andrewf, have you tried make clean first?
[03:44:04] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[03:44:21] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[03:44:31] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[03:44:47] <aatch> Cyclone is probably one of the more interesting in Rust's sphere.
[03:44:47] <bollu> I've heard of ~3 languages per letter >_<
[03:45:00] <bjz> bollu: it's all about exploring a combinatorial design space, trying to create better and better abstractions to make it easier for humans to express themselves in specific domains
[03:45:04] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[03:45:16] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[03:45:35] <aatch> creating a programming language is like meta-problem solving.
[03:45:37] <bjz> bollu: a PL is just a user interface for humans. all computers need is the binary
[03:45:38] <andrewf> yeah, that was the first thing, although that complained about not being able to make tools.mk or something. I re-configured before I could make.
[03:45:48] <bjz> aatch: tool making
[03:45:54] <bollu> bjz: yep, but even so, I'm missing out on so much by not knowing this stuff
[03:45:57] <aatch> andrewf, odd...
[03:46:23] <bjz> bollu: eh, there's lots of rabbit holes you can get sucked down. but it pays to know a bit of history
[03:46:28] <bollu> bjz: want to create a list of important languages for me? ;)
[03:46:31] <andrewf> trying again, make clean worked this time.
[03:46:33] <bjz> bollu: nope
[03:46:35] <bollu> AFAIK, I know the "important" markers
[03:46:38] <aatch> bjz, yeah, but tool making is about solving the problem that people need better tools to solve problems with.
[03:46:52] <bjz> bollu: that's your own journey
[03:47:08] *** Joins: oxum (anonymous@A2DC55F.3F5CFD3E.520CDC98.IP)
[03:47:14] <bjz> aatch: yeah ofc
[03:47:16] <bollu> bjz: okay! 
[03:47:37] <aatch> bollu, bjz is right, however I do suggest tackling a pure functional language and a logical programming language
[03:47:38] <bjz> bollu: as long as you have curiosity and aren't afraid to read some stuff
[03:47:48] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[03:47:53] <bollu> aatch: kind of tangential - have you read The Last Question?
[03:48:01] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:48:03] <aatch> bollu, never heard of it.
[03:48:12] <bjz> bollu: don't limit yourself to funtional though - loads of folks are a little fanatical on that point
[03:48:25] <bollu> aatch <- https://filer.case.edu/dts8/thelastq.htm
[03:48:29] <bjz> bollu: but definitely Haskell is very reccomended
[03:48:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:48:38] <bollu> bjz: I've tried haskell out, as well as scheme
[03:48:49] <aatch> Prolog or similar is a good one. 
[03:48:53] <bollu> I liked haskell but it got frustrating to build anything non trivial
[03:48:56] <bjz> bollu: either Forth or Factor is good 
[03:48:58] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[03:49:07] <aatch> Completely turns the normal model inside out.
[03:49:28] <bollu> aatch: forth sounds like smalltalk
[03:49:31] <bjz> bollu: Factor is probably easier to use - it has a nice programming environment
[03:49:45] <bjz> bollu: Forth is quite different from Smalltalk
[03:49:55] <bjz> bollu: extremely different
[03:49:57] <aatch> Rather than writing what you want to do to get an answer, you write what you want the answer to be and the language figures out how to do it.
[03:50:01] <Valloric> I have a &[u8] which may contain UTF-8; how do I read only the _first_ unicode codepoint from it into a char?
[03:50:04] <bollu> bjz: the wole "make your own environment" thing?
[03:50:32] <bollu> aatch: so, logic based programming?
[03:50:35] *** Joins: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net)
[03:50:41] *** Quits: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net) (Client exited)
[03:50:48] <bjz> bollu: they use sort of similar terms I guess, but the semantics are different
[03:50:49] <bollu> aatch: if you start with euclid's axioms, can it derive geometry? :D
[03:51:17] <bjz> bollu: Factor is similar to smalltalk though - in terms of using an image based environment
[03:51:38] <aatch> bollu, I dunno, maybe. I never used much beyond what I needed to for my AI class
[03:51:54] <bjz> bollu: I would definitly say that Forth has very little to do with Smalltalk though
[03:52:02] <aatch> Valloric, no idea sorry.
[03:52:07] <aatch> Sounds rather specific.
[03:52:33] <bollu> bjz: I don't think smalltalk inherently has an image based environment. Squeak was built over smalltalk to provide an environment AFAIK
[03:52:54] <Valloric> aatch: I don't see it as that specific; given a [u8], we should provide something that returns an iterator over codepoints
[03:52:57] <bjz> bollu: Smalltalk had environments before Squeak
[03:53:15] <bjz> bollu: and it is kind of integral to Alan Kay's vision afaik
[03:53:18] <Valloric> well, Option<char>s
[03:53:51] <bollu> bjz: I assumed they were all terminal based...
[03:54:06] <bollu> bjz: will have to read up... that list is getting exponentially large
[03:54:13] *** Joins: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net)
[03:54:15] <bjz> bollu: just because they were terminal based doesn't mean they didn't use images
[03:54:15] *** Joins: hunt3r (hunt3r@6F6DDFAC.AF15CD76.B8212F05.IP)
[03:54:20] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:54:27] <bollu> bjz: 
[03:54:32] <bollu> "images" as in?
[03:54:39] <bjz> bollu: you don't need a GUI for an image based environment
[03:54:39] <bollu> like, a curses based thing?
[03:54:46] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[03:54:49] *** Quits: zz_kimundi (kimundi@moz-9F18BF79.dip0.t-ipconnect.de) (Ping timeout)
[03:54:57] <bjz> image as in a snapshot of the current stat of the enviroment
[03:54:58] <sp3d> images as in process images, not pictures
[03:54:58] <bollu> bjz: like moc or ranger?
[03:55:00] <rweir> "image" = image of the vm+code+state, not graphical image
[03:55:05] <bollu> bjz: oh, damn >_<
[03:55:09] <bjz> no worries
[03:55:16] <bollu> nvm, that was incredibly stupid of me
[03:55:22] <bjz> just have to learn the terminology
[03:55:27] <bjz> not your fault
[03:55:28] <bollu> yeah, I guess
[03:55:41] <aatch> Valloric, I don't think it's a particularly common case. We have functions for converting a vector into a utf8 string.
[03:55:56] *** Quits: hunt3r (hunt3r@6F6DDFAC.AF15CD76.B8212F05.IP) (Ping timeout)
[03:56:11] <Valloric> aatch: You may have a point that it's uncommon.
[03:56:31] <bjz> bollu: basically you never really "stop" a smalltalk evironment - you alter it while its running
[03:56:42] <Valloric> aatch: anyway, I'll just write my own method for this
[03:57:01] <aatch> I think LISP did the image-based thing first.
[03:57:18] <bjz> bollu: it's part of the brilliance of it, but it also makes lots of things really hard
[03:57:46] <bollu> aatch: hmm. didn't know that. bjz: yep, I was familiar with that. what makes it hard though?
[03:58:00] <bjz> bollu: it's hard to scale it beyond a small team, and has had difficulty working with version control
[03:58:00] *** Joins: zz_kimundi (kimundi@moz-9A465F61.dip0.t-ipconnect.de)
[03:58:17] <bjz> you can also really screw up your environment
[03:58:30] <bjz> by doing something stupid
[03:58:31] *** zz_kimundi is now known as kimundi
[03:58:41] <bjz> like defining true to equal false
[03:58:51] <bjz> (as an extreme case)
[03:59:04] <bollu> bjz: you can do that in any language with a preprocessor :) 
[03:59:12] <bollu> bjz: but yes, I get your point
[03:59:15] <bjz> it's not a preprocessor
[03:59:26] <bjz> with a preprocessor you can just recompile
[03:59:39] <bjz> with an image it is overwriting previous stuff
[04:00:15] <bollu> bjz: oh, that's slightly.. scary? 
[04:00:29] <bjz> scary, but also incredibly powerful
[04:00:37] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[04:00:47] <bjz> as I say, a double edged sword
[04:01:24] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[04:01:34] <p1start> Is there any way I could write a struct/other type into a file for reading later? (Like Python's pickle)
[04:01:47] <huon> #[deriving(Encodable,Decodable)]
[04:01:58] <bjz> bollu: tbh I haven't really done much smalltalk - I think you can have snapshots of the image, but screwing up the environment still a threat
[04:02:13] <huon> p1start: http://static.rust-lang.org/doc/master/serialize/json/index.html#using-autoserialization
[04:02:20] <bjz> bollu: but yeah, take anything I say with a grain of salt
[04:02:25] <bollu> bjz: I see. I'd like to try it out someday :)
[04:02:46] <bjz> bollu: I would say to try Factor
[04:02:57] <bjz> bollu: http://factorcode.org/
[04:03:21] <p1start> huon: that's exactly what I was looking for. Thanks!
[04:03:22] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[04:03:27] <dymk> Hello
[04:03:40] <bollu> @huon: does it restore the "pointers" back?
[04:03:47] <bjz> dymk: o/
[04:03:51] <dymk> Does Rust follow the Ruby mantra of "everything is an expression" in that blocks can be values? 
[04:03:56] <bollu> @huon: I'm not sure what rust terminology is - borrowedness?
[04:04:16] <bollu> bjz: the website is down?
[04:04:17] <huon> bollu: it will allocate new pointers for ~ and @ etc.
[04:04:24] <dymk> e.g `let foo = { /* statements here */; 1 }; // foo is initialized to 1
[04:04:35] <huon> but & isn't deserializable
[04:04:36] <bjz> bollu: ack
[04:04:38] <bjz> :[
[04:04:59] <bollu> @huon: ah, good to know; bjz: np, the github repo is more than sufficient :)
[04:05:46] <andrewf> dymk: I know rust conditionals are expressions, and there are first-class functions.
[04:06:39] <dymk> andrewf, Fair enough; but I mean something more analogous to Ruby's `a = begin /* stmts */ end`
[04:07:02] <bollu> how do I implement "negate" (overload -T) ?
[04:07:42] <bollu> found it! Neg
[04:08:39] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:09:57] *** Quits: eibwen (kvirc@moz-467A0FC4.dip0.t-ipconnect.de) (Ping timeout)
[04:10:42] <bollu> just realized - "for" is used to iterate (for _ in container) and also to implement traits (impl _ for Type). this is for readability right?
[04:11:45] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[04:11:54] <aatch> dymk, blocks are not values in their right.
[04:12:38] <aatch> Am i correct in assuming that in Ruby, blocks are not necessarily executed immediately?
[04:13:00] <dymk> aatch, Kinda, depends what you mean
[04:13:21] <dymk> They're executed when their value is evaluated, e.g. in assignment to a variable
[04:13:43] <andrewf> If I've been told correctly, one weird thing about ruby blocks is that they can do things like
[04:13:56] <andrewf> induce a return from the function that defined them.
[04:14:41] *** Joins: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com)
[04:14:53] <aatch> dymk, anyway, we don't have a block type
[04:15:25] <aatch> dymk, either you have a closure or a proc
[04:15:29] <dymk> Fair enough. was toying around with some ideas about languages, and that question popped into my head about rust. 
[04:15:41] <burntsushi> i'm having some trouble figuring out how to capture an environment in a closure. so far, i've sketched what i think i want using the old `@` syntax: https://gist.github.com/anonymous/9405107 (compile error is in comments) --- any advice on where to go from here?
[04:16:29] <aatch> burntsushi, we don't have heap closures anymore
[04:16:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:16:42] <aatch> proc is the replacement, but can only be called once.
[04:17:23] <aatch> so you're actually making a stack closure, then putting that inside a `@`
[04:17:46] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[04:17:52] <aatch> which is equivalent to trying to return `@&val`
[04:17:58] <burntsushi> ah, right.
[04:18:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:18:14] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[04:18:14] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:18:22] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[04:18:32] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[04:18:37] <aatch> burntsushi, you really shouldn't be using @
[04:18:51] <andrewf> aatch: weird, making clean again made my compile work. thanks.
[04:19:03] <aatch> there's a ref-counted type in the standard library.
[04:19:05] <burntsushi> aatch: no i know---i just wanted to sketch what was in my head.
[04:19:24] <burntsushi> aatch: hmm, so if we only have stack closures and procs, is there no other way to capture an env in a closure?
[04:19:42] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:19:51] <aatch> burntsushi, well procs will capture their environment, but they own that environment and can only be called once.
[04:19:55] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:20:11] <aatch> and stack closures cannot be returned.
[04:21:45] <burntsushi> bummer. do you happen to know the rational for removing heap closures?
[04:22:05] <aatch> burntsushi, unsoundness and weird behaviour
[04:22:37] <aatch> if you captured a moving value (e.g. ~T) then moved it out of the closure, it would fail.
[04:23:15] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[04:23:24] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:23:25] <burntsushi> yeah, that makes sense. i would want to capture a value on the heap. (e.g., in my link)
[04:23:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: willingc)
[04:23:36] <Havvy> Are there closures that can be called multiple times?
[04:23:47] <aatch> Havvy, stack closures can be.
[04:23:54] *** Quits: andrewf (Mibbit@moz-C24FB56E.pasadena.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[04:24:24] <aatch> because it doesn't own the environment. It only captures by reference.
[04:24:31] <Havvy> Can you do something like node's event emitters with stack closures?
[04:24:44] <aatch> Havvy, I have no idea what they are.
[04:25:29] *** Quits: thesnowdog (doug@D79E132C.11882795.6F17036B.IP) (Ping timeout)
[04:25:37] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[04:25:40] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:26:45] <Havvy> aatch:  `anEventEmitter.on('messagetype', function (data) { /* */ });   And then every time   anEventEmitter.emit('messagetype', data) is called, the function passed in the first statement is executed. Along with any other functions subscribed to that message.
[04:27:47] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[04:27:48] <aatch> Havvy, only if the event emitter was bound to the same lifetime as the closure.
[04:27:53] *** Quits: jcmoyer (jc@moz-40035C19.sta.embarqhsd.net) (Connection reset by peer)
[04:28:52] <rweir> (note that closures aren't neccessary if all you're talking about is first class functions - pretty much every language aside from java has that)
[04:29:09] <aatch> rweir, good point.
[04:29:18] <Havvy> Well, closing over data in the function.
[04:29:45] <aatch> if you don't need the environment, then you can use a regular function.
[04:29:53] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[04:30:15] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[04:30:20] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[04:30:20] *** Quits: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[04:30:42] <bollu> https://gist.github.com/bollu/54d3d3fc7c7cf981611c <- any changes required?
[04:31:38] <huon> bollu: don't need the curly braces try!
[04:31:45] <huon> s/try!/https://gist.github.com/bollu/54d3d3fc7c7cf981611c#file-showangle-rs-L14/
[04:31:58] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[04:32:40] <bollu> @huon: as in? you gist is 404ing
[04:32:50] <huon> delete the last /
[04:33:10] <huon> could also write that as `let rad_str = match (n, d) { (0, _) => ~"rad: 0", (1, 1) => ~"...", (1,_) => ..., (_, 1) => ..., _ => ... }`
[04:33:32] <bollu> whoa, you can match multiple values? will rewrite it that way. looks way more awesome
[04:33:40] <bollu> @huon: performance-wise?
[04:33:45] <aatch> bollu, well, you're matching on the tuple
[04:33:52] <huon> should be basically equal
[04:34:07] <huon> http://static.rust-lang.org/doc/master/guide-testing.html#microbenchmarking if you want to measure
[04:34:09] <bollu> good to know. aatch: yeah, didn't realize
[04:34:42] <aatch> The only major difference would be the creation of the tuple, but LLVM should be able to easily optimize that out.
[04:34:48] <aatch> SROA ftw
[04:34:57] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[04:35:19] <bollu> aatch: scalar replacement of aggregates? >_<;
[04:35:28] <aatch> bollu, correct
[04:35:56] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Quit: Leaving)
[04:36:04] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[04:36:32] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:38:07] <bollu> @huon: better? https://gist.github.com/bollu/54d3d3fc7c7cf981611c
[04:38:14] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:39:59] *** Quits: lurknerd (Mibbit@5A31E16D.48628F5.1528EDD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:41:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:41:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:42:37] <huon> minor changes https://gist.github.com/huonw/349584132f0379ed145a (just adjusting the format string)
[04:43:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:44:35] *** Quits: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net) (Client exited)
[04:44:46] *** Joins: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net)
[04:45:27] <bollu> thanks
[04:47:27] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[04:52:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:52:18] <bollu> @huon: one final iteration? https://gist.github.com/bollu/54d3d3fc7c7cf981611c
[04:58:04] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[04:58:35] *** Joins: ecl3ctic (ecl3ctic@moz-E1FAD64C.wzfv1.vic.bigpond.net.au)
[04:59:17] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[05:01:01] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[05:01:15] *** Joins: heftig_ (heftig@moz-53ADC734.dip0.t-ipconnect.de)
[05:01:52] *** Quits: heftig (heftig@moz-35E360DF.dip0.t-ipconnect.de) (Ping timeout)
[05:05:26] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[05:06:20] <huon> (degrees as int / 45)
[05:06:45] <huon> also, what happens if Angle is less than 0 (or greater than 360 degrees)?
[05:07:02] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[05:07:46] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Ping timeout)
[05:08:07] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:10:26] <bollu> @huon: the angle is clamped whenever you construct it
[05:10:39] <bollu> and when you add / subtract / multiplt
[05:10:42] <bollu> multiply*
[05:10:54] <bollu> so it's guarenteed to be 0 < angle < 2pi
[05:10:54] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Connection reset by peer)
[05:11:08] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[05:11:09] <Yurume> what should the scanf-like lex! API look like?
[05:11:17] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[05:11:34] <cmr> ohh what's this?
[05:11:52] <Yurume> my original macro read something like: let x: int = 0/*ignored*/; if lex!(string; x -> int) { /* use x here */ } else { /* parsing failed */ }
[05:12:04] <Yurume> but it is seriously annoying
[05:12:29] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[05:12:49] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[05:12:53] <Yurume> what do I want to do is something in the line with: match lex!(string, "{x:int} {y:int}") { Some(result) => result.x + result.y, None => ... }
[05:13:06] <Yurume> with an one-shot struct, obviously
[05:13:40] <bollu> @huon: full code if you're interested - https://gist.github.com/bollu/d5104118d1ac284a3d99 (now pretty prints vectors! :) 
[05:13:47] <Yurume> but then shorthands like `Some(Result { x, y })` would be impossible (Result is not visible outside lex!-generated block)
[05:14:03] <Yurume> so, any idea on the improvements? :S
[05:14:13] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[05:15:14] <bollu> Yurume, I'm quite possibly misunderstanding you, but this is used to parse strings into rust types  yes?
[05:15:38] <Yurume> yes, it would be a loadable syntax extension.
[05:15:47] <bollu> if so, you could look at C++'s stringstream?
[05:15:52] <bollu> it does something similar
[05:15:52] <Yurume> I already have a similar macro for my personal use, but it is... bad.
[05:16:11] <bollu> BTW, could your macro be used to reduce this monstrosity? https://github.com/bollu/equniox/blob/master/src/Init/mod.rs
[05:16:23] *** Joins: dranov (dranov@1BD3979F.857BF9F5.A5830293.IP)
[05:16:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[05:16:31] <Yurume> bollu: my eventual goal is something like scanf but fully safe and customizable.
[05:16:44] <bollu> to parse stuff like, iInt = 10; bFullscreen = true; ..
[05:17:01] <Yurume> hmm? what is that?
[05:17:10] <cmr> bollu: we have a json parser...
[05:17:12] <Yurume> ah
[05:17:21] <Yurume> name has an one-character prefix for type
[05:17:28] <bollu> it's a config file I use most of the time. I was wondering if your macro could help. and yep
[05:17:29] <Yurume> yeah, I think JSON would work better
[05:17:42] <cmr> there's a "knob" library somewhere, too...
[05:18:03] <bollu> Yurume: remember the first thing I asked here? :) I was trying to parse JSON, but I didn't know rust well enough >_>. Plus, this is simpler so...
[05:18:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[05:18:12] <bollu> @cmr: knob?
[05:18:32] <cmr> https://github.com/skade/knob/tree/master
[05:18:47] *** Joins: IanCormac84 (User@46EFD20B.64D641E5.67DFF8B4.IP)
[05:18:52] <Yurume> > knob goes up to 11.
[05:18:53] <Yurume> lol
[05:19:59] <bollu> whoa, that's pretty sophesticated
[05:20:25] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[05:20:54] <Yurume> I'm writing something like this at the moment: https://gist.github.com/lifthrasiir/5c21cccaf18bcc76d9ba
[05:21:10] <Yurume> it uses a JSON-based custom serialization format.
[05:22:39] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[05:22:54] <bollu> yurume: looks like you're rebuilding qml ;)
[05:23:04] <Yurume> (lex! is for another parsing task, where I can't simply use JSON)
[05:23:19] <strcat> stringstreams are one of the worst parts of C++ ;s
[05:23:38] <strcat> they force a lot of needless memory allocation, have poor error handling, really annoying formatting...
[05:23:44] <bollu> strcat: they're crazy useful though
[05:23:56] <Yurume> bollu: yeah, it naturally resembles any GUI description languages as it is also one of them.
[05:25:04] <Yurume> strcat: one of the worst parts? I thought there is truly THE worst part of C++, namely, iostream. :S
[05:25:25] <strcat> Yurume: stringstreams are the worst of iostream + needless allocations everywhere
[05:25:27] *** Joins: mib_7vnvh2 (Mibbit@moz-30FAD9FB.dllstx.fios.verizon.net)
[05:25:45] <strcat> Yurume: same crappy error handling and overly verbose/coarse formatting
[05:25:49] <Yurume> that's a general characterstics of iostream
[05:26:02] <bollu> yurume: don't be hyperbolic. they're a way out of pretending an array of integers is a string...
[05:26:12] <strcat> put something in a stringstream -> allocation! (and the buffer isn't something you get access to)
[05:26:19] <strcat> take out the string -> allocation!
[05:26:38] <strcat> might as well just use boost spirit for everything
[05:26:43] <strcat> ;s
[05:27:19] <Yurume> anyway, bollu: adapting JSON for your use is actually not hard, my code is considerably complex just because I want to allow several shorthands.
[05:27:39] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:27:45] <strcat> (not really serious about that last part)
[05:27:56] <Yurume> strcat: aaargh! XD
[05:28:44] <Yurume> EDSL is only good when it blends well with other codes..
[05:29:41] <strcat> seriously though, I've been lazy before and just used the included batteries (stringstreams) and had 80% of the time in the program spent in them, to the point where python would be faster
[05:29:45] <huon> rusti: vec!()
[05:29:47] -rusti- pastebinned 8 lines of output: http://sprunge.us/cMaV
[05:29:51] <strcat> Yurume: it does blend in well, the problem is the error messages and compile-time
[05:30:04] <Yurume> strcat: have you heard of lexical_cast? :)
[05:30:13] <huon> rusti: let _: std::vec_ng::Vec<u8> = vec!();
[05:30:14] -rusti- pastebinned 6 lines of output: http://sprunge.us/edWd
[05:30:16] <Yurume> (yes, it is really crazy)
[05:30:22] <strcat> Yurume: which is slow for anything that's not a primitive because it uses stringstreams
[05:30:53] <bollu> strca: that's hilarious
[05:31:10] <strcat> for example, you might have some expensive calculation
[05:31:20] <strcat> but you need to parse out a few integers from a string
[05:31:34] <Yurume> (for those not familiar to C++: lexical_cast literally converts the original value to the string and back to the target value of the different type)
[05:31:40] <strcat> the C batteries use stupid null-terminated strings, so unless you can inject \0 into the string, you need to allocate for each one
[05:31:43] <Yurume> (boost::lexical_cast, to be exact)
[05:31:45] <strcat> and stringstreams make you allocate even more
[05:32:04] <strcat> Yurume: it's micro-optimized for primitives
[05:32:08] <strcat> Yurume: the fallback is
[05:32:09] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[05:32:20] <strcat> stringstream ss; ss << i; std::string s; ss >> s; return s;
[05:32:26] <strcat> or w/e
[05:32:30] <Yurume> strcat: specializations?
[05:32:33] <strcat> ss.str() *
[05:32:46] <strcat> Yurume: well, it probably involves a lot more hacks than specializations
[05:32:53] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[05:32:53] <Yurume> :(
[05:33:03] <strcat> Yurume: http://www.boost.org/doc/libs/1_55_0/doc/html/boost_lexical_cast/performance.html they have benchmarks vs libc/libstdc++
[05:33:15] <bollu> Yurume: I tried that once, not fun. take log base to figure out number of digits, allocate memory, then use atoi()...
[05:33:16] <strcat> bit misleading though imo, since venturing from primitives -> ridiculously slow
[05:33:20] <bollu> log base 10*
[05:33:34] <bollu> iota() not atoi() int -> string
[05:34:06] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Connection reset by peer)
[05:34:20] <strcat> atoi is pretty useless since it has undefined behaviour when the string isn't a valid int
[05:34:22] <strcat> ;p
[05:34:27] <Yurume> bollu: what do you mean by "that"? (I partially missed the context)
[05:34:31] *** Quits: mib_7vnvh2 (Mibbit@moz-30FAD9FB.dllstx.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:34:49] <strcat> need to use strto* and they suffer from being awful null-termination based things ;p
[05:35:36] <bollu> "that" = specialize a function to convert a string to an int 
[05:35:40] <Yurume> ah
[05:35:54] <Yurume> that's quite annoying
[05:36:00] <bollu> but C++ can't distinguish templates based on return types so you had to explicitly notify what you're asking for
[05:36:08] <bollu> like, int i = parse<int>(...)
[05:36:22] <bollu> which was annoying to say the least
[05:36:32] <strcat> C++11 has wrappers around strtod, etc.
[05:36:37] <strcat> kind of silly that they didn't make something better
[05:37:02] <strcat> http://en.cppreference.com/w/cpp/string/basic_string/to_string and the sto* family
[05:37:30] <Yurume> wha, I never knew that...
[05:37:32] <bollu> strcat: that's actually better..
[05:37:41] <strcat> bollu: well, to_string is alright
[05:37:42] <bollu> and yeah, neither did I
[05:37:49] <strcat> but the string -> integer ones suck
[05:37:55] <strcat> because they still force you to copy out tokens
[05:38:08] *** Joins: sunng (nsun@828FDBD8.D0F00681.BEC48A72.IP)
[05:38:32] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[05:38:35] <bollu> how to rust's from_str work>
[05:38:35] <bollu> ?
[05:39:19] <cmr> layout refresh
[05:39:19] <bvssvni> bollu: the FromStr trait
[05:39:21] <strcat> bollu: it's not based on a generic framework, but it takes a slice so at least you can use views
[05:39:21] <cmr> oops
[05:39:31] *** Joins: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th)
[05:39:36] <strcat> bollu: output is based on std::fmt (type-safe format strings, using traits for formatting)
[05:40:04] <bollu> strcat: the ones that format! and the like use internally?
[05:40:26] *** Quits: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th) (Quit: Leaving)
[05:40:33] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[05:40:45] <strcat> bollu: well, format!/println! are conveniences for strings/stdout
[05:40:50] <strcat> it can write directly to any Writer
[05:40:54] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[05:40:58] <strcat> http://static.rust-lang.org/doc/master/std/fmt/index.html
[05:41:25] <strcat> anyway for example, lets say you want to parse a million tab-delimited integers
[05:41:42] <strcat> you can use the split method, which returns an iterator of slices
[05:41:47] <strcat> and then use from_str to convert each one
[05:42:11] <strcat> no need for memory allocation
[05:42:27] <bvssvni> use .map and then .collect for short
[05:42:36] <bollu> hmm
[05:43:10] <strcat> rusti: for token in "1 2 3".split(' ') { std::io::println(token) }
[05:43:11] -rusti- 1
[05:43:11] -rusti- 2
[05:43:11] -rusti- 3
[05:43:11] -rusti- ()
[05:43:26] <bollu> so, if C++ were to have slices, problem solved? (this is very naive, I know...)
[05:43:35] <YourBestFriend> is graydon dead?
[05:43:46] <strcat> bollu: C++'s version of slices is a random access iterator
[05:43:47] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:43:53] <strcat> bollu: painful, since it's in two parts
[05:44:00] <strcat> boost has ranges
[05:44:17] <strcat> but anyway, C++ doesn't provide conversion from random access -> other things
[05:44:58] <strcat> rusti: for token in "1 2 3 4 11 20 912".split(' ') { println!("{}", from_str::<int>(token) * 5) }
[05:44:59] -rusti- pastebinned 15 lines of output: http://sprunge.us/bVMc
[05:45:00] <huon> YourBestFriend: no; he just stepped down from lead developer of Rust
[05:45:09] <huon> moved within Mozilla
[05:45:17] <strcat> rusti: for token in "1 2 3 4 11 20 912".split(' ') { println!("{}", from_str::<int>(token).unwrap() * 5) }
[05:45:18] -rusti- pastebinned 8 lines of output: http://sprunge.us/UeQW
[05:45:27] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[05:45:28] <YourBestFriend> huon: 0,4WHY so?
[05:45:52] <huon> YourBestFriend: that answers your question, right?
[05:46:00] <bollu> YourBestFriend: teach me the magic of color :O
[05:46:10] <bvssvni> no, please! no colors
[05:46:12] <Yurume> please don't :(
[05:46:16] <bollu> xD
[05:46:18] <strcat> bollu: anyway, ^^ that iterates lazily over the slices (no copying) and then converts without allocation
[05:46:23] <bollu> cmon, I won't spam
[05:46:28] <strcat> in C, you have two choices
[05:46:47] <strcat> 1) destroy the original string (in this case it's read-only so...) by replacing the split characters with \0
[05:46:53] <Yurume> your IRC client probably has a documentation about that anyway
[05:47:02] <huon> YourBestFriend: oh, sorry, missed the "WHY" because of the colours... :/
[05:47:07] <bollu> Yurume: probably. googling it right now
[05:47:08] <strcat> 2) copy out each token with malloc() + memcpy(), and then strtod
[05:47:10] <bollu> strcat: continue :)
[05:47:22] <bollu> eh, that sounds painful
[05:47:31] <strcat> there's no standard strn* conversion family
[05:47:34] <strcat> bollu: it is
[05:47:36] <YourBestFriend> huon: it's bright red, how can you miss it?
[05:47:44] <huon> YourBestFriend: I guess leadership wasn't his favourite thing; don't know the reasons
[05:47:46] <Yurume> 3) make your own converter
[05:47:52] <strcat> bollu: null-terminated strings are disgusting :)
[05:47:54] <huon> YourBestFriend: it's white on a white background for me
[05:47:57] <strcat> bollu: since you can't have views
[05:48:13] <Yurume> maybe huon's client strips the background but not the foreground.
[05:48:16] <strcat> + seeks to end all the time, but lack of views is what I hate when writing C
[05:48:18] <strcat> makes it all so painful
[05:48:30] <huon> Yurume: seems likely
[05:48:31] <Yurume> that's why colors in IRC are annoying
[05:49:09] <strcat> Yurume: well, if you're going to do 3), you might as well not use null-terminated strings while you're at it ;)
[05:49:22] <strcat> and anyway, no one does 3) ;p
[05:49:24] <Havvy> Gold on red for me. But yeah, colors are usually bad.
[05:49:24] <Yurume> people uses colors for various other purposes (nick coloring, separating messages from /mes etc.) and colors in the text ruins them
[05:49:28] <Havvy> At least in techy channels.
[05:49:31] <strcat> grep around for strtod in open source projects
[05:49:32] <huon> lets use 0xFF terminated strings!
[05:49:39] <Yurume> huon: Pascal strings!
[05:49:39] <strcat> they use alloca/malloc to make a temporary and strtod on that
[05:49:39] <huon> works with UTF8 ;P
[05:49:41] <strcat> it's super common
[05:50:00] <Yurume> huon: I actually think a Patricia tree and relatives will prefer that
[05:50:05] <strcat> huon: yeah but then you still need a totally separate string/vector implementation
[05:50:09] <strcat> + no views
[05:50:14] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[05:50:19] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:50:23] <Yurume> when used as an associative array
[05:50:35] <huon> strcat: my suggestion was approximately 2% serious :P
[05:50:35] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:50:42] <strcat> I have a lot of C++ code looking like this
[05:51:04] <strcat>       auto path = read_chunk(sock);
[05:51:06] <strcat>       path.push_back('\0');
[05:51:08] * strcat sighs
[05:51:10] *** Quits: indirect (indirect_m@moz-50A5DDED.hsd1.ca.comcast.net) (Ping timeout)
[05:51:39] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[05:51:41] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[05:52:06] <strcat> and since fstream doesn't report any errors, I just end up using FILE + unique_ptr scope guards...
[05:52:20] <strcat> fstream -> 'fail'
[05:52:26] <strcat> yeah, thanks, why did it fail? oh right. you can't tell me
[05:52:35] <huon> eh... we still have Iterator.advance? weird...
[05:52:51] <strcat> huon: yeah
[05:52:56] <strcat> huon: I removed a lot but not all
[05:53:02] <strcat> because there are still internal iterators in libsyntax/librustc
[05:53:04] <strcat> with that pattern
[05:53:13] <strcat> and they use advance as an easy way to build on iterator objects
[05:53:44] <huon> yeah
[05:53:46] * huon greps
[05:54:05] <bvssvni> isn't any doing the same as advance?
[05:54:06] <huon> bleh, still used a lot
[05:54:26] <strcat> bvssvni: no
[05:54:32] <strcat> bvssvni: advance encodes the old internal iterator pattern
[05:54:39] <strcat> it takes a closure in the form |T| -> bool
[05:54:39] *** Joins: benjamin_ (benjamin@moz-54AD0580.dip0.t-ipconnect.de)
[05:54:46] <strcat> and if that closure returns false, it breaks
[05:54:54] <strcat> and advance itself returns a bool describing whether it stopped
[05:55:05] <huon> bvssvni: .all
[05:55:08] <strcat> and yes, it hard to remember which meaning that bool has - so a lot of stuff did it wrong
[05:55:12] <strcat> it's hard*
[05:55:35] *** Joins: thesnowdog (doug@D79E132C.11882795.6F17036B.IP)
[05:55:37] <huon> (except with an inverted final return value)
[05:55:44] <huon> wait... no?
[05:55:47] * huon confused already
[05:55:51] <bvssvni> haha
[05:56:10] <huon> oh, yeah; advance == all
[05:56:18] * huon checked the implementations
[05:56:20] <strcat> anyway, null-terminated strings are awful
[05:56:24] <strcat> they're almost as bad as dotfiles
[05:56:30] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[05:56:47] *** Joins: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net)
[05:56:59] <strcat> alias ls='ls -A' and enabling dotglob save so much trouble
[05:57:39] <strcat> https://plus.google.com/+RobPikeTheHuman/posts/R58WgWwN9jp where dotfiles came from
[05:58:09] *** Joins: brson (brson@C0FA739D.99DDF6F0.4329AE1A.IP)
[05:58:09] *** ChanServ sets mode: +ao brson brson
[05:59:01] <strcat> (and readdir_r returning . and .. as the first two entries each time is *soooo* silly, I always forget it does that)
[06:11:43] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[06:11:47] <bollu> ? if you give me an index, I want to find the row closest to it right? I naturally divide and floor it.
[06:11:49] <strcat> where / is float division (even with ints), // is int division
[06:11:57] <eddyb> strcat: hahahaha
[06:11:57] <strcat> or haskell.
[06:12:02] <eddyb> you must be kidding me
[06:12:12] <bollu> gcd(..) then?
[06:12:21] <strcat> eddyb: haskell's int division is a 'div' function
[06:12:32] <strcat> I don't think they even have an operator for it
[06:12:39] <strcat> despite having operators for everything else
[06:12:48] <eddyb> bollu: Rust (like many other statically typed languages) has integer division
[06:12:53] <Yurume> eddyb: since beginners are really confused of floor divisions (unfortunately)
[06:13:01] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Ping timeout)
[06:13:07] <strcat> Yurume: they're all really confused by floating point
[06:13:12] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[06:13:16] <eddyb> strcat: including 3 pow operators!
[06:13:25] <Yurume> I guess so. 3/4 should make a Ratio value instead...
[06:13:31] <bollu> eddyb: ah, auto drop the decimal. 
[06:13:31] <Yurume> if that was a concern.
[06:13:37] <Yurume> should've*
[06:13:41] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[06:13:41] <eddyb> bollu: not auto. there is never a decimal
[06:13:45] <strcat> Yurume: well, they do have a rational number module but it's not the default ;)
[06:13:47] <eddyb> bollu: computers don't do numbers
[06:13:50] <eddyb> computers do bits
[06:13:55] <eddyb> lots and lots of bits
[06:13:58] <strcat> Yurume: they call it 'fractions' though so no one ever goes near it :(
[06:14:04] <eddyb> floating-point division is dark magic
[06:14:06] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[06:14:12] <bollu> eddyb: floating point is awesome 
[06:14:13] <eddyb> integer division is busywork
[06:14:20] <strcat> floating point is black magic as a whole
[06:14:26] <Yurume> strcat: so does `decimal`...
[06:14:34] <strcat> seriously, a real number type that's denser in some ranges than others is scary alone
[06:14:35] <bollu> I've actually never learnt how to divide in binary
[06:14:50] <eddyb> I've been meaning to implement integer division in minecraft with the analog redstone
[06:14:53] <bollu> that is weird to think about.
[06:14:57] <eddyb> 32 bits should fit in a few chunks
[06:15:04] <eddyb> multiplication is almost trivial now
[06:15:07] <bollu> I know adding and multiplication, but not division. hmm
[06:15:08] <strcat> Yurume: yeah, but that has many of the same caveats as floats
[06:15:13] <eddyb> bollu: N subtractions
[06:15:14] *** Joins: rweir (rob@moz-B98DF6FB.members.linode.com)
[06:15:26] <eddyb> bollu: chained with conditionals
[06:15:31] <Yurume> strcat: thread-local context, ha, that must be kidding
[06:15:38] <eddyb> so if you have 64 bits, you have 64 chained subtractions
[06:15:41] <eddyb> at least the naive way
[06:16:05] <bollu> eddyb: lol, that's the general idea ;) 
[06:16:08] <eddyb> strcat: now if only I can remember what ^, ^^ and ** do in Haskell :P
[06:16:18] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[06:16:25] <eddyb> bollu: you don't use the result of a subtraction if it's negative
[06:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:16:34] <strcat> Yurume: I think that's just a default, you can still set it per object
[06:16:35] <dougxxx> Is there some kind of trait/impl to generate a unique id for an object? (or do I have to use some kind of mutable static count)?
[06:16:36] <bollu> eddyb: is there a more efficient way to add than connecting half adders together?
[06:16:39] <huon> eddyb: just check the types, easy :P
[06:16:42] <strcat> Yurume: so it's not *totally* insane ;)
[06:17:00] <eddyb> huon: and then I see * -> * and I get confused
[06:17:09] <eddyb> *who* is *?
[06:17:19] <huon> kinds?
[06:17:28] <huon> in the type signature of two methods?
[06:17:33] <huon> seems unlikely :P
[06:17:36] <huon> *three methods
[06:17:54] <eddyb> I'm kinding :)
[06:17:56] <eddyb> *kidding
[06:17:59] *** Quits: quux00 (uid24415@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[06:18:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:18:16] <Yurume> type of type? :)
[06:18:29] <eddyb> that makes sense
[06:18:34] <eddyb> so what's type of type of type?
[06:18:39] <eddyb> #?
[06:18:40] <Yurume> indeed, in Python type(type) is... type.
[06:18:44] <bvssvni> dougxxx: a kind of hash function?
[06:18:50] <dougxxx> yep
[06:18:54] <dougxxx> or something like that
[06:18:55] <eddyb> bollu: if you use the result for subtraction #m, you output the (N - m)th bit
[06:19:09] <eddyb> bollu: and no, it's not just half adders... it's a matrix of full adders
[06:19:17] <strcat> Yurume: because 'type' is a class, not a function
[06:19:26] <strcat> Yurume: like 'int', 'float', etc.
[06:19:38] <eddyb> so there's a typeof?
[06:19:38] <strcat> inconsistent naming ftw (rust has the same problem)
[06:19:41] <bollu> eddyb: for n bits, you connect n full adders correct?
[06:19:42] <dougxxx> actually a hash wouldn't be particularly useful; I specifically need to tell two otherwise identical objects apart. :P
[06:19:48] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:19:56] <eddyb> bollu: lol no that's addition or subtraction
[06:20:08] <bollu> yeah, I was talking about addition >_<
[06:20:18] <bollu> to add n bits up, you connect n full adders?
[06:20:22] *** Joins: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net)
[06:20:22] <strcat> eddyb: in python? sure. there's also instanceof(), super(), runtime AST manipulation, [...]
[06:20:30] <eddyb> bollu: I think so. or n-1
[06:20:37] <strcat> isinstance*
[06:20:41] <bollu> with each input taking the result of the previous output + the next inpuut
[06:20:42] <eddyb> strcat: it probably sucks compared to Julia though
[06:20:47] <bollu> yeah, n-1 :)
[06:20:58] <bvssvni> dougxxx: can't you do it by comparing them bitwise?
[06:21:04] <eddyb> strcat: hygienic AST manipulation with an escape hatch (!!!)
[06:21:11] <strcat> eddyb: people don't use python for the language
[06:21:12] <bollu> so, how do you multiply? like, how do you keep a counter in a digital circuit?
[06:21:19] <strcat> eddyb: they use it for the library ecosystem
[06:21:37] <eddyb> strcat: same reason people use C sometimes :/
[06:21:42] <dougxxx> bvssvni: Does Eq do that automatically?
[06:21:42] <eddyb> and it's... sad
[06:21:59] <bvssvni> dougxxx: probably
[06:22:06] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[06:22:07] <dougxxx> hm, worth a shot
[06:22:08] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[06:22:18] <strcat> eddyb: for example, lxml - it has really nice xml/html parsing with xpath + it can even compile css selectors to xpath for you
[06:22:19] <eddyb> Eq can be implemented manually
[06:22:21] <bvssvni> dougxxx: it uses the Eq of the members I think
[06:22:27] <strcat> eddyb: and has nice things like html diff ;p
[06:22:48] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[06:22:49] <strcat> numpy, scipy, matplotlib, ipython, pandas, etc.
[06:22:56] <eddyb> pandas lol
[06:22:56] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[06:23:05] *** Quits: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP) (Ping timeout)
[06:23:10] <eddyb> huon has koalas
[06:23:46] <strcat> I like nltk too... I don't know of any reasonable C/C++ nlp libs
[06:23:51] <eddyb> more effective
[06:23:52] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[06:24:32] <eddyb> strcat: because C/C++ not natural? (har har)
[06:24:38] <strcat> eddyb: http://docs.python-requests.org/en/latest/ http://amoffat.github.io/sh/#piping - dynamic features are nice for scripting ;p
[06:24:46] <strcat> anyway
[06:24:48] * Yurume was searching for a well-established notation for type of kinds
[06:24:51] <strcat> I dislike python as a language
[06:24:52] <Yurume> and failed
[06:24:59] <strcat> but I turn to it before anything else for quick scripts...
[06:25:06] <strcat> such nice libs.
[06:25:12] <bollu> strcat: ruby?
[06:25:13] <Yurume> I think it was `**`, `***` and so on, but my memory is not clear
[06:25:21] <strcat> bollu: hardly has a comparable library ecosystem
[06:26:01] <bollu> strcat: unless you're doing scientific computation, I'd say you're well covered
[06:26:10] <Yurume> (and such type systems with supra-kinds seems to be simply unused at all)
[06:26:15] <huon> Yurume: I've seen them called 'sorts'
[06:26:26] <eddyb> oh dear
[06:26:26] <strcat> bollu: no good natural language processing lib, for one
[06:26:38] <eddyb> enough with the rabbit holes guys
[06:26:48] <eddyb> sorry for asking
[06:26:50] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[06:26:51] <strcat> ;p
[06:27:05] <bollu> strcat: serious question - do you use NLP on a daily basis?
[06:27:07] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[06:27:25] <eddyb> bollu: only to program his buttler
[06:27:31] <eddyb> or is that butler?
[06:27:36] <bollu> xD butler I believe
[06:27:36] <eddyb> crap, my spellchecker is down
[06:27:50] <strcat> bollu: my scripts use a lot of requests, lxml/cssselect (for xpath and css selectors), nltk and some matrix/stats/plotting stuff
[06:27:54] * strcat shrugs
[06:27:55] *** Joins: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP)
[06:28:05] * eddyb kicks Konversation
[06:28:10] <bollu> bollu: yeah, nothing beats matplotlib
[06:28:14] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Quit: Konversation terminated!)
[06:28:16] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:28:30] <strcat> well, R ;p
[06:28:40] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[06:28:42] <strcat> but I'm not crazy enough to use R
[06:28:52] <mcpherrin> R isn't so bad
[06:28:55] <Yurume> eddyb: and Konversation kicked you?
[06:29:02] <Yurume> kicked you back*
[06:29:03] <bollu> hardly fair :) mathematica is nice AFAIK
[06:29:11] <strcat> mcpherrin: the bad part is that you have really nice stats/plotting libs and nothing else reasonable ;p
[06:29:16] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[06:29:26] <bollu> if you're writing visualizations, d3.js is great too
[06:29:38] <eddyb> hurR
[06:29:40] <huon> you get to have super weird evaluation semantics with R too... always fun :P
[06:29:45] <strcat> mathematica also isn't free as in freedom or beer
[06:29:56] <bollu> yeah, that's true. but is sure is awesome
[06:30:03] <eddyb> strcat: wolfram is interesting
[06:30:25] <bollu> computers blow my mind sometimes. I felt like a god when I plotted the 2p atomic orbital. 
[06:30:26] <eddyb> I don't like [] for function arguments, but everything else seems cool to have at your fingertips
[06:30:27] <strcat> meh, perfectly happy with ipython's qtconsole
[06:30:46] <bollu> eddyb: it didn't seem to have namespaces which was a little weird
[06:30:49] <eddyb> and it's the kind of awesome you can't really do in statically typed languages
[06:30:59] <eddyb> bollu: haha what and oversight
[06:31:12] <bollu> yeah ikr
[06:31:25] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[06:31:30] <Yurume> eddyb: was that Foo[i_], I recall?
[06:31:31] <eddyb> you most likely want types but those types are dynamic and maybe even weakly defined
[06:31:37] *** Joins: fabiand (fabiand@moz-7E87A5A2.adsl.alicedsl.de)
[06:31:42] <cmr> eddyb: ping
[06:31:45] <eddyb> pong
[06:31:48] <eddyb> you're alive
[06:31:55] <cmr> I think rust-png is broken, what do I do to test this?
[06:31:56] <eddyb> *an oversight
[06:32:04] <eddyb> cmr: haha you can't
[06:32:05] *** Quits: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP) (Ping timeout)
[06:32:05] <bollu> xD
[06:32:14] <eddyb> cmr: you can use the original one to compare
[06:32:22] <eddyb> since libpng is supposed to not be broken
[06:32:35] <eddyb> and that's used in Servo, so it gets tested
[06:32:41] <eddyb> cmr: what's the issue?
[06:32:41] <cmr> ok, so just dump pixel data and compare?
[06:32:43] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[06:32:50] <cmr> eddyb: not entirely sure yet, if anything.
[06:32:55] *** Joins: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP)
[06:33:09] <eddyb> yeah, sure, diff works
[06:33:23] <eddyb> as long as it's not in the 20MP range :P
[06:33:35] <cmr> nah it's a 200x20 img
[06:33:40] * strcat just had to write a socks client implementation because he couldn't find one ;(
[06:33:53] <cmr> eddyb: does it not handle alpha?
[06:33:53] <eddyb> strcat: was it Julia that was aiming at replacing R? I can't remember
[06:34:01] <eddyb> mine? it should...
[06:34:10] <eddyb> maybe you're expecting a different pixel order
[06:34:19] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[06:34:21] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[06:34:24] <bollu> eddyb: PNG is pretty easy to parse no?
[06:34:27] <cmr> it's rgba, 8 bits each?
[06:34:28] <eddyb> OpenGL also has like 5 hoops you have to go through to get any transparency
[06:34:33] <strcat> eddyb: julia aims to replace R, matlab, mathematica, and python/scipy/numpy/pandas/whatever afaik - they have a big task ahead of them ;p
[06:34:39] <eddyb> [R, G, B, A]
[06:35:12] <Yurume> eddyb: or GLSL.
[06:35:28] <strcat> gosh, just use xpm
[06:35:41] <eddyb> cmr: not RGBA as in [A, B, G, R] or ARGB [B, G, R, A]
[06:35:43] <strcat> #include "foo.xpm"
[06:36:02] <bollu> eddyb: xpm as in http://en.wikipedia.org/wiki/X_PixMap ?
[06:36:07] <eddyb> don't ask me
[06:36:11] *** Quits: heftig_ (heftig@moz-53ADC734.dip0.t-ipconnect.de) (Quit: Quitting)
[06:36:17] <eddyb> cmr: I know servo has to swap some bytes even from libpng
[06:36:35] *** Joins: apollow (yellowy432@moz-231273C0.wireless.calpoly.edu)
[06:36:46] <bollu> eddyb: 5 hoops? how so?
[06:36:49] <eddyb> strcat: lol C compatible
[06:36:52] <strcat> bollu: yes, it was half serious, it's an image format that's valid C
[06:36:59] <strcat> eddyb: gvim has syntax highlighting for it too
[06:37:01] <mcpherrin> strcat: I write programs that output ppm and use `convert` to make xpm for input
[06:37:03] <bollu> you need to enable blending and setup the blending mode
[06:37:07] <mcpherrin> strcat: it's really the best way 
[06:37:08] <strcat> mcpherrin: yeah, ppm is nice
[06:37:30] <eddyb> bollu: right, that's two hoops
[06:37:40] <Yurume> ppm is useful for esolangs
[06:37:44] <eddyb> bollu: also use the right texture format, byte order, what else...
[06:37:47] <bollu> this is ppm? http://netpbm.sourceforge.net/doc/ppm.html
[06:37:54] <Yurume> yes.
[06:38:01] <Yurume> that starts with P3 or P6
[06:38:05] <strcat> eddyb: https://paste.xinu.at/mWb5/ syntax highlighting on xpm ;p
[06:38:09] <mcpherrin> ppm is great for writing a no-libraries raytracer
[06:38:14] <bollu> eddyb: that's hardly fair - it's low level precisely to give you full control'
[06:38:15] <eddyb> strcat: OMG
[06:38:16] *** Joins: skade (skade@moz-24E7059D.web.vodafone.de)
[06:38:28] <Yurume> (there are black/white and grayscale variants with P1/P4 and P2/P5 headers)
[06:38:31] <bollu> whoa, that is EPIC
[06:38:33] <eddyb> bollu: it's not anything you get by default and it's easy to mess it up
[06:38:59] <eddyb> strcat: haha that lone {
[06:39:04] <strcat> eddyb: that's my cursor
[06:39:09] <Yurume> mcpherrin: Underhanded C contest had some brilliant entry that exploits PPM
[06:39:12] <eddyb> strcat: I figured
[06:39:32] <strcat> " X X XM u i M 8.r.S N d /.).).).).).s N S N B S S S A I k.O.).).).).).(.} i.e.8.e.8.L H M  X X X",
[06:39:34] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[06:39:35] <Yurume> i.e. http://underhanded.xcott.com/?page_id=17 (the last entry)
[06:39:39] <strcat> is what one of those lines looks like without highlighting
[06:39:39] <mcpherrin> Yurume: oh yeah, the 0, 00, 000 entry
[06:39:42] <strcat> ;p
[06:39:42] *** Joins: ofeldt- (ofeldt@moz-B9F784BE.dip0.t-ipconnect.de)
[06:39:42] <bollu> Yurume: I think this year the one that did a fluid simulation on text won
[06:39:44] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:39:52] <Yurume> bollu: that's IOCCC.
[06:40:03] <strcat> eddyb: it's a funny image format... valid C, and you define a long list of string -> color mappings and then draw an image
[06:40:04] <Yurume> obfuscated code and underhanded code is different
[06:40:06] <bollu> ah yes, my bad
[06:40:08] <eddyb> strcat: dammit now instead of working on this stupid android game I want to check out Julia
[06:40:12] <mcpherrin> underhanded c contest is fantastic
[06:40:39] <strcat> eddyb: julia's way of doing dynamic typing is to generate specialize code for every set of types dynamically ;p
[06:40:41] <eddyb> strcat: oh, fascination over
[06:40:43] *** Quits: ofeldt (ofeldt@moz-C4491A69.dip0.t-ipconnect.de) (Ping timeout)
[06:40:49] <eddyb> strcat: it has "end"
[06:40:52] *** Parts: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) ()
[06:40:54] <strcat> eddyb: heh
[06:40:55] <bollu> so you write code that's buggy but is hard to debug? sounds fun
[06:41:13] <eddyb> strcat: I actually like runtime monomorphization
[06:41:19] <eddyb> strcat: v8 does that for hot functions
[06:41:27] <Yurume> bollu: also note that fluid simulation was (one of) 2012 winner(s), there are now 2013 winners announced with source codes
[06:41:29] <mcpherrin> bollu: well, not just buggy, but deliberately buggy -- and it shouldn't look deliberate
[06:41:31] <strcat> eddyb: sure, but LLVM can't do any inlining in julia ;)
[06:41:41] <strcat> function per module
[06:41:50] <Yurume> I know that since I also had one ;)
[06:41:56] <eddyb> with a good JIT it can lead to super optimized functions
[06:41:59] <strcat> eddyb: I think they do *some* themselves
[06:42:08] <eddyb> strcat: wait what are they restricting LLVM like that?
[06:42:11] <bollu> Yurume: really? hmm. will check it out
[06:42:13] <cmr> Yurume: you won 2012 IOCCC?
[06:42:16] *** Quits: brson (brson@C0FA739D.99DDF6F0.4329AE1A.IP) (Ping timeout)
[06:42:17] <Yurume> cmr: yes, 2012/kang
[06:42:18] <strcat> eddyb: because it's too ridiculously slow otherwise.
[06:42:27] <eddyb> strcat: for runtime?
[06:42:30] <bollu> Yurume:wait, you were the one who wrote that? O_O
[06:42:37] <eddyb> strcat: JIT I mean. makes sense
[06:42:43] <strcat> eddyb: otherwise it would have to regenerate the entire program every time you called a function with a new set of types
[06:42:44] <Yurume> bollu: IOCCC has multiple (10 or so) winners each year
[06:43:00] <bollu> Yurume: and.. you were one of the winners?
[06:43:05] <eddyb> strcat: can't it do, I dunno, some limited graph propagation
[06:43:08] <Yurume> yeah, quite humbly
[06:43:13] <eddyb> strcat: but nevermind, I'm over it
[06:43:14] <strcat> eddyb: no, too dynamic
[06:43:18] <Yurume> that was really unexpected for me
[06:43:21] <bollu> whoa, that's AWESOME :)
[06:43:22] <strcat> and LLVM can't do anything like that
[06:43:36] <bollu> which was your program?
[06:43:50] <strcat> http://underhanded.xcott.com/ is neat too ;p
[06:44:16] <eddyb> https://travis-ci.org/mozilla/rust/builds/20228342 haha
[06:44:19] <Yurume> bollu: as mentioned before, search for "kang"
[06:44:30] <eddyb> acrichto: so now travis is only partially useful?
[06:45:45] <eddyb> RHays... so good
[06:45:51] <eddyb> strcat: now I have another time waster. thanks
[06:45:52] <bollu> I lol'd at "a trustworthy compiler" under requirements
[06:45:56] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[06:46:10] <huon> Yurume: your IOCCC program is magical
[06:46:24] <huon> how can that possibly work at all? :P
[06:46:46] <strcat> eddyb: http://ants.aichallenge.org/profile.php?user=2255 I want more of this :(
[06:47:17] <Yurume> huon: I have a quite long explanation somewhere... http://j.mearie.org/post/7462182919/spelt-number-to-decimal
[06:47:33] * huon reads
[06:47:40] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[06:47:40] *** ChanServ sets mode: +ao brson brson
[06:48:14] <eddyb> strcat: there's that game... but it's simple
[06:48:20] <eddyb> "0ffered passenger compensation for his headaches" I still can't see it
[06:48:43] <strcat> ants was better than the previous aichallenge which was tron
[06:48:57] <bollu> Yurume: I don't think I can even implement this, obfuscation or not ;_;
[06:48:57] <strcat> tron was just 'who can write the fastest minimax?'
[06:49:07] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[06:49:15] <Yurume> bollu: not for the faint heart! ;)
[06:49:20] <strcat> if it ever happens again, it can offer rust ;)
[06:49:40] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:50:01] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:50:03] <bollu> Yurume: this feels like a project euler problem actually. 
[06:50:40] <eddyb> strcat: wait, you're actually canadian?
[06:50:45] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:50:53] <strcat> eddyb: yes
[06:50:56] *** Quits: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP) (Quit: Good bye)
[06:50:57] <eddyb> for some reason I thought not
[06:51:01] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[06:51:01] *** ChanServ sets mode: +o jdm
[06:51:11] <mcpherrin> strcat: oh god running that AI challenge was *so much work*
[06:51:25] <eddyb> strcat: I shall refrain from noticing how un-canadian you can sometimes be :P
[06:51:25] <mcpherrin> strcat: never again ;)
[06:51:30] <eddyb> strcat: (sorry)
[06:51:32] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[06:51:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:51:56] <bollu> eddyb: what are some canadian traits? :)
[06:51:58] <strcat> eddyb: uncanadian? because I don't smoke crack?
[06:52:00] *** Joins: indirect_ (indirect_m@moz-A838903C.hsd1.ca.comcast.net)
[06:52:02] <MP2E> haha
[06:52:08] *** Quits: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net) (Ping timeout)
[06:52:08] *** indirect_ is now known as indirect
[06:52:22] <mcpherrin> strcat: eddyb: Toronto is barely Canada anyways
[06:52:30] <eddyb> strcat: who changed the rules?
[06:52:31] <strcat> mcpherrin: it's 1/6 of canada ;p
[06:52:39] <mcpherrin> strcat: the other 5/6 wouldn't miss it ;)
[06:52:40] *** Joins: trustin (trustin@946D547D.87A02F9E.6FF1C976.IP)
[06:52:45] *** Quits: tanayseven (tanay@1FCA46F9.15A01C16.BE3C3C1D.IP) (Quit: Leaving.)
[06:52:51] <eddyb> mcpherrin: oh no you didn't!
[06:52:59] <cmr> I'm 100% of the USA, by cmr concentration.
[06:53:19] <cmr> (density? *shrug*)
[06:53:26] <strcat> mcpherrin: they'd miss the CBC, their film industry and the half of the economy that's not albertan oil ;)
[06:53:37] <eddyb> (I probably don't make any sense, considering where I get all my canadian information from)
[06:54:08] <eddyb> i.e. this https://www.youtube.com/watch?v=4WF0F6sEkEA
[06:54:12] <cmr> eddyb: you're right, something in my texture loading is really fubar
[06:54:14] <mcpherrin> strcat: I know, we're stuck with it :P
[06:54:18] <eddyb> cmr: \o/
[06:54:23] <ecr> etho!
[06:54:59] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[06:55:08] <eddyb> cmr: really, if there was a bug in my PNG decoder, it could only be an off-by-one or another such random mishap
[06:55:15] <eddyb> though I've never seen output from it
[06:55:22] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:55:23] *** Joins: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP)
[06:55:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[06:55:32] <eddyb> I can only feel it in my heart
[06:55:33] *** Quits: pcwalton (pcwalton@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: pcwalton)
[06:55:37] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: leaving)
[06:55:38] <eddyb> ecr: :D
[06:56:00] * strcat might make a socks4/socks4a/socks5 pull request for libstd tommorow
[06:56:06] <strcat> it's pretty trivial
[06:56:17] *** Joins: kvanb (kvanb@moz-4668D22.lnse2.lon.bigpond.net.au)
[06:56:18] <ecr> eddyb: I haven't played minecraft in years, but I still watch etho.
[06:56:32] <eddyb> ecr: I rarely touch minecraft, though I've bought it
[06:56:54] <eddyb> mindcrack & Vechz. teehee
[06:57:02] <eddyb> ecr: but this is overly offtopic already :P
[06:57:21] <ecr> eddyb: not if we implement rust on a redstone computer
[06:57:30] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[06:57:52] <eddyb> ecr: bootstrapping?
[06:58:00] <ecr> new compiler output option: --redstone
[06:58:01] <eddyb> good luck with that
[06:58:12] <eddyb> oh, just compiling rust to it? doable
[06:58:22] <eddyb> but you need an 8-bit LLVM backend
[06:58:33] <bollu> eddyb: --boolean-algebra? :)
[06:58:46] <cmr> --target redstone-ecr-crackpot
[06:58:51] <bollu> or propositional calculus is correct I think
[06:59:05] <eddyb> (not joking, analog redstone is powerful enough to run a 8bit CPU. I didn't to it an year ago because it would be slow without a feature Dinnerbone didn't add for me)
[06:59:07] <ecr> cmr: dependent types does things to your brain. it's not my fault.
[06:59:26] <eddyb> did you know I was the first person to actually do something with analog redstone?
[06:59:44] <bollu> eddyb: really? 
[07:00:03] <eddyb> I made an analog to digital converter
[07:00:09] <bvssvni> eddyb: why does this not surprise me
[07:00:15] <bvssvni> :D
[07:00:18] <eddyb> in that mc-rss thing, as a sketch
[07:00:20] <Yurume> we need redstone! { [_,_,_,_,a,b,_,_]; [_,_,_,_,_,_,_,_] } etc
[07:00:31] <strcat> rusti: version
[07:00:32] -rusti- "rustc 0.10-pre (fb80b38 2014-03-06 06:51:35 -0800)"
[07:00:32] <bollu> eddyb: analog what in minecraft?
[07:00:42] <Yurume> that builds a virtual circuitry with redstone
[07:00:42] <eddyb> bollu: yeah, since January last year
[07:00:56] <eddyb> Dinnerbone actually built that ADC I made
[07:01:15] <eddyb> and showed it to sethbling
[07:01:25] <eddyb> and, well, #minecraft
[07:01:39] <ecr> eddyb: you're practically on mindcrack already
[07:01:40] <Yurume> #rust-offtopic FTW
[07:01:44] <bollu> xD
[07:01:52] <eddyb> ecr: mindcrack? no I don't know anyone from there
[07:02:06] <eddyb> also made a DAC, but that was smaller. and invented addition by subtraction
[07:02:50] <eddyb> and emulating overflow/underflow
[07:03:04] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:03:10] <eddyb> (trivial things, but it took the community weeks to come up with designs)
[07:03:16] <eddyb> *similar designs
[07:03:25] <bollu> eddyb: why would you /emulate/ overflow? -_^ 
[07:03:25] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[07:03:33] <eddyb> bollu: because integer arithmetic?
[07:03:55] <eddyb> it is essential, Visual Basic can go home and cry when it overflows
[07:03:58] <bollu> okay, one more question: how the hell did you build a DAC?
[07:04:09] <eddyb> by subtracting the inverse of the bits
[07:04:23] <eddyb> subtracting inverses is how you add
[07:04:41] * bvssvni wonders what inverse of bit is
[07:04:43] <eddyb> I prototyped a 8051 CPU in analog redstone, in my head, like a week or two before the snapshot went out
[07:04:48] *** Quits: nfroidure (nfroidure@moz-65B09039.w90-18.abo.wanadoo.fr) (Ping timeout)
[07:04:50] <eddyb> bvssvni: not
[07:04:56] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Quit: Konversation terminated!)
[07:05:07] <bollu> a + !b = a - b? that sounds wrong ~_~
[07:05:17] <eddyb> no, a - !b = a + b
[07:05:39] <eddyb> you know how wrong is that?
[07:05:39] <bollu> um, dosen't rearranging the terms give you my expression?
[07:05:50] <eddyb> sure, but yours isn't what I was talking about
[07:06:00] <bollu> actually, no. 
[07:06:09] <eddyb> it's off by one
[07:06:21] <eddyb> a - !b - 1 = a + b
[07:06:21] <bollu> always?
[07:06:31] <eddyb> yeah
[07:06:34] <bollu> can you prove it? this seems super awesome 
[07:06:44] <Yurume> rusti: (!3i, -3 - 1)
[07:06:45] -rusti- (-4, -4)
[07:06:47] *** Quits: apollow (yellowy432@moz-231273C0.wireless.calpoly.edu) (Ping timeout)
[07:06:49] <eddyb> prove? it's how computers do -
[07:06:59] <eddyb> the unary negation, that is
[07:07:28] <cmr> eddyb: the ColorType for my strictly-RGB file is RGBA8
[07:07:31] <bollu> oh! *suddenly makes sense* 
[07:07:41] <eddyb> cmr: after it's decoded
[07:07:52] <cmr> eddyb: does it always decode into RGBA?
[07:07:54] <bollu> eddyb: by DAC, what are you referring to?
[07:08:01] <eddyb> cmr: alpha is used during decoding process so you can't see pixels that are partially decoded
[07:08:10] <eddyb> this is for a web browser, remember :P?
[07:08:12] <ecr> oh twos complement. you can your crazy rules.
[07:08:14] <eddyb> bollu: digital to analog
[07:08:20] <eddyb> anyways, 15 - 8 * !a - 4 * !b - 2 * !c - !d
[07:08:23] <cmr> convertor
[07:08:28] <cmr> the convertor is the important part
[07:08:40] <eddyb> where a is the MSB and d is the LSB
[07:09:04] <bollu> yeah, so redstone is inherently digital right? you converted it into an analog signal of *what* ?
[07:09:13] <eddyb> redstone
[07:09:20] <eddyb> x * !y is just a piston btw
[07:09:22] <cmr> bollu: redstone is analog now
[07:09:29] <eddyb> it has always been analog
[07:09:33] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:09:36] <bollu> cmr: oh, I see. 
[07:09:36] <eddyb> but you couldn't do anything with its value
[07:09:44] <eddyb> the value is the strength
[07:09:54] <eddyb> 16 possible values, 4 bits
[07:10:00] <bollu> maybe I don't know the meaning of analog, but AFAIK analog = can obtain a range of values yes?
[07:10:03] <eddyb> 2x2 cross section is a byte conduit
[07:10:06] <bollu> and digital = quantized values?
[07:10:20] <eddyb> "analog" redstone is still quantized, but with more values
[07:10:28] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:10:40] <eddyb> maybe misnomer, but who cares, it's not like minecraft is any more serious in other parts
[07:10:50] <eddyb> (except withers. don't mess with withers)
[07:10:50] *** Quits: skade (skade@moz-24E7059D.web.vodafone.de) (Connection reset by peer)
[07:10:57] <bollu> eddyb: that was what was confusing me >_>. 
[07:11:38] <bvssvni> when I think of digital analog converter I think of a series of bits translated to analog value
[07:11:56] <bollu> so, the algorithm for this conversion is?
[07:12:01] <bollu> bvssvni: exactly!
[07:12:06] <eddyb> 15 - 8 * !a - 4 * !b - 2 * !c - !d
[07:12:19] <bollu> eddyb: explaination? >_< a, b, c, d are?
[07:12:27] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:12:31] <bvssvni> the four bits in red stone?
[07:12:46] <cmr> eddyb: http://i.imgur.com/8a6RDk2.png
[07:12:57] <eddyb> hahaha
[07:12:59] <cmr> eddyb: decoded by your decoder :)
[07:13:07] <cmr> (that's what it's supposed to be)
[07:13:25] <eddyb> mkay
[07:13:26] *** Joins: sqwishy (sqwishy@moz-9F4F9435.va.shawcable.net)
[07:13:28] <cmr> noise + red makes it real easy to figure out which sort of mangling is going on to the pixels :)
[07:13:53] <eddyb> I was going to say it's a cat picture after a filter
[07:14:01] <eddyb> but you'd see the contour
[07:14:06] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:14:06] <eddyb> (PNG compression filter, that is)
[07:14:21] <bollu> eddyb: the use of the DAC was?
[07:14:38] <eddyb> producing analog values from bits?
[07:14:52] <eddyb> put two of these together and you have 8 lines of redstone => byte conduit
[07:14:57] <Yurume> eddyb: is it possible without making 15 m wire?
[07:15:18] <eddyb> Yurume: is what possible?
[07:15:26] <Yurume> I really don't know about the recent Minecraft additions, so my understanding may be wrong
[07:15:31] <Yurume> ADC
[07:15:33] <bollu> eddyb: I mean, what could you build using it in the minecraft world?
[07:15:33] <eddyb> not recent :P
[07:15:42] <eddyb> Yurume: 8 long for the MSB
[07:15:51] <eddyb> bollu: compact computers?
[07:16:00] <bollu> eddyb: hardly compact :)
[07:16:02] <eddyb> my byte RAM cell was 6x6x6
[07:16:13] <eddyb> bollu: have you seen digital adders?
[07:16:14] <Yurume> eddyb: then I was not mistaken, yeah, NOT would then amplify each bit signal.
[07:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:16:28] <bollu> eddyb: inside minecraft? nope
[07:16:34] <eddyb> they're like sky scrapers and shit
[07:16:50] <cmr> bollu: simple adders are relatively easy to design + build, you should try it sometime :)
[07:16:50] <eddyb> analog ones: 3 dinky comparators
[07:17:06] <eddyb> and analog redstone scales
[07:17:14] <bollu> cmr: will do. I have a /lot/ to learn >_<
[07:17:29] <eddyb> I could easily make a 256 byte RAM layer
[07:17:35] <eddyb> and then stack like 64 of those
[07:17:53] <bvssvni> maybe we should move this to #rust-offtopic
[07:18:05] <bvssvni> it is interesting :)
[07:18:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:18:07] <eddyb> to get 16KB of RAM. in minecraft. never before. hasn't been done yet either, AFAIK
[07:18:25] <eddyb> the main problem was the bus transport speed, because you can only transport analog redstone at 3 blocks per tick
[07:18:34] <eddyb> (comparator, block, redstone piece, rinse and repeat)
[07:18:50] <eddyb> Dinnerbone almost promised infinity wires
[07:19:13] <eddyb> very limited, but without losing strength
[07:19:39] <bollu> eddyb, cmr, Yurume: have you guys taken electronics classes?
[07:19:52] <eddyb> classes? I've quit highschool
[07:20:04] <eddyb> oh, right, it's friday, this went up yesterday https://www.youtube.com/watch?v=R-3DnMtzk_c
[07:20:32] <bvssvni> bollu: I had some digital and analog electronics
[07:20:42] <Yurume> bollu: I'd had but got sleepy :p
[07:21:06] <cmr> bollu: no, just learned on my own
[07:21:27] *** Quits: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net) (Client exited)
[07:21:44] <bollu> cmr: good to know :) I've read up till adding / subtracting / two's complement. want to read more >_>
[07:22:06] <eddyb> MIT had an online course that was interesting
[07:22:29] *** Joins: edwardw (Mibbit@E6E87FA7.354F6412.B9C6B12A.IP)
[07:23:03] <eddyb> but felt meh for someone who reads about quantum physics he can't understand on wikipedia late at night
[07:23:28] <eddyb> pfft, command blocks are during complete. makes me a bit sad for analog redstone
[07:23:35] <eddyb> *turing complete heh
[07:23:39] <bollu> eddyb: you were serious when you said you quit high school? 
[07:23:47] <eddyb> yeah
[07:25:06] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[07:25:52] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[07:25:54] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[07:26:16] <eddyb> oh dear I just came up with the easiest way to input binary data into analog storage (something like a dropper with items in it)
[07:26:32] <bollu> ?
[07:26:32] <cmr> #rust-offtopic 
[07:26:36] <cmr> use it!
[07:26:38] <eddyb> yea yea
[07:27:01] <dougxxx> ok, so this is weird. I've implemented a custom Show attribute.
[07:27:04] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[07:27:19] <dougxxx>   let x = BlahLF::new();   let mut y = BlahLF::new();   let mut z = &BlahLF::new();
[07:27:19] <dougxxx>   println!("{}", x);   println!("{}", y);   println!("{}", z);
[07:27:25] *** Quits: FreeFull (freefull@moz-FCD0664E.as13285.net) (Quit: )
[07:27:27] *** Joins: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net)
[07:27:36] <eddyb> z won't work
[07:27:38] <dougxxx> but I get: failed to find an implementation of trait std::fmt::Show for &mut lifetime::BlahLF in Drop
[07:27:40] <dougxxx> it does
[07:27:40] <Yurume> z wouldn't work.
[07:27:50] <dougxxx> hm
[07:28:16] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: leaving)
[07:29:02] *** Joins: Ferreus (ferreus@moz-2C3F5191.dip0.t-ipconnect.de)
[07:29:04] <huon> dereference the it
[07:29:05] *** Quits: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net) (Quit: Valloric)
[07:29:35] <dougxxx> https://gist.github.com/shadowmint/9406982
[07:29:50] <dougxxx> Errors if you uncomment that one line
[07:31:06] *** Joins: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr)
[07:31:06] *** Joins: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it)
[07:31:30] <dougxxx> oh, is it because &~ is different from &?
[07:31:44] <huon> yes
[07:31:49] <dougxxx> ah~
[07:31:54] <huon> &~T is a pointer to a pointer to T
[07:32:01] <huon> &T is just a pointer to T
[07:32:09] <dougxxx> yup, I get it
[07:32:10] <dougxxx> thanks~
[07:32:25] <huon> fwiw, you should very rarely  return things with a ~ in front of them
[07:32:34] <huon> (other than vectors and strings)
[07:33:26] <huon> BlahLF::new() should return just `BlahLF`, and if someone really needs it behind a ~ then `~BlahLF::new()` is the same as the current version
[07:33:50] <dougxxx> So how do I implement Show for a &Blah
[07:33:50] <dougxxx> ?
[07:34:19] <huon> why &Blah rather than just `Blah`? 
[07:34:19] <dougxxx> (I presume I need some kind of lifetime thing)
[07:34:36] <dougxxx> Well, presumably so I can implement Drop in my test
[07:34:47] <huon> just write *self
[07:34:49] <dougxxx> and Drop passes in a &mut self that I want to print
[07:34:55] <huon> to get a BlahLF
[07:35:55] *** Joins: maxli1 (Adium@moz-1650391B.hsd1.ca.comcast.net)
[07:36:01] <dougxxx> deferencing a &var is rust can't ever get you into trouble?
[07:36:43] <huon> it can cause the compiler to complain about "cannot move out of dereference of & pointer"
[07:36:47] <huon> but in this case it doesn't
[07:36:57] <dougxxx> ok~ nice. :D
[07:37:27] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[07:38:33] *** Joins: aepsil0n (eduard@moz-B5507714.hsi8.kabel-badenwuerttemberg.de)
[07:40:47] *** Quits: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net) (Client exited)
[07:40:52] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[07:42:12] *** Joins: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net)
[07:43:13] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[07:44:19] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[07:44:22] <Heather> ey
[07:44:35] <eddyb> Heather: what broke this time :P?
[07:44:39] <eddyb> (hi)
[07:44:53] <mcpherrin> Hello!
[07:44:55] <Heather> eddyb: nothing >_<
[07:44:59] <eddyb> Heather: \o/
[07:45:02] <Heather> eddyb: which is strange even for me
[07:45:14] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[07:45:22] <eddyb> Heather: can't wait for this to be merged https://github.com/mozilla/rust/pull/12610
[07:45:58] *** Joins: derek_c (derek@moz-DC257920.cit.cornell.edu)
[07:45:59] *** Parts: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) ()
[07:45:59] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[07:46:02] <Heather> eddyb: o_O
[07:46:04] *** Parts: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) ()
[07:46:06] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[07:46:09] *** Parts: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) ()
[07:46:11] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[07:46:27] <eddyb> Rc::new(~Rc::new(~"foo")).as_slice()
[07:46:50] <huon> that's cool
[07:46:58] <huon> also, <3 quadruple indirection
[07:47:06] *** Quits: derek_c (derek@moz-DC257920.cit.cornell.edu) (Quit: Leaving)
[07:47:07] <eddyb> huon: up to 64
[07:47:15] <Yurume> so, deref is automatically called whenever the method resolution failed and the receiver implements Deref?
[07:47:17] *** Joins: derek_c (derek@moz-DC257920.cit.cornell.edu)
[07:47:21] <Yurume> up to 64?
[07:47:28] <ecr> why the limit?
[07:47:31] <eddyb> Yurume: whenever ~/& dereference failed
[07:47:48] <Yurume> can &foo call Deref then?
[07:47:49] <eddyb> ecr: so we don't have to perform costly cyclic analysis
[07:47:55] <eddyb> Yurume: no
[07:48:08] <Yurume> ah, de-reference, okay
[07:48:17] <eddyb> Yurume: autoderef goes through ~/& directly, if it hits something else, like a struct, it tries to call deref
[07:48:37] <eddyb> so you can implement Deref on ~T/&T without interfering with that
[07:48:38] <Heather> eddyb: do you know if there any progress with my bug where I used another bug to fix the bug but after second bug was fixed stuff was horrible
[07:48:41] <huon> eddyb: don't types have a unique hash? i.e. you could store the types you've seen in a HashSet?
[07:48:51] <eddyb> Heather: nope
[07:48:54] <Heather> sad
[07:49:06] <eddyb> huon: meh
[07:49:19] <eddyb> huon: we were doing something like that previously
[07:49:36] <eddyb> you can probably make that take a while with a pair expansion
[07:49:56] <eddyb> huon: nmatsakis wants per-crate configurable recursion limit
[07:50:25] <eddyb> I didn't implement an attribute, just everything else
[07:50:38] *** Quits: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net) (Ping timeout)
[07:50:48] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:50:56] <huon> Heather: you should submit some PRs adding more bugs to mozilla/rust so you can work around a bug in a workaround by working around another workaround
[07:50:59] <huon> :P
[07:51:01] *** Joins: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[07:51:16] <Heather> huon: genious
[07:51:28] <Heather> eddyb: /offtopic/ what's your opinion about idris
[07:51:54] <Heather> huon: I would like to rever the bug :D
[07:51:57] <ecr> I've played around with idris some. I like it.
[07:52:08] <eddyb> Heather: idris is cool but I don't dig pure
[07:52:11] <Heather> ecr: do you know HoTT?
[07:52:12] <eddyb> I dig rust
[07:52:14] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[07:52:14] *** ChanServ sets mode: +ao dherman dherman
[07:52:29] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:52:55] <ecr> Heather: somewhat. I listened to Bob Harper and Dan Licata give some lectures on it over the summer and I've read the first couple chapters of the book. I get the gist of it at lesat.
[07:53:13] <Heather> eddyb: well as far as I can currently understand idris is very different compared to rust because of that complex types stuff....
[07:53:16] *** Joins: jackneill (jackneill@moz-85E98F3E.pool.digikabel.hu)
[07:53:22] <huon> Heather: are the bugs filed?
[07:53:33] <eddyb> huon: it's the vector typechecking
[07:53:41] <eddyb> nmatsakis wants to redo coercions completely
[07:54:00] *** Quits: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net) (Ping timeout)
[07:54:00] <huon> "the vector typechecking"?
[07:54:09] <eddyb> huon: [...]
[07:54:13] <eddyb> it's almost completely broken
[07:54:26] <eddyb> hacky at best
[07:54:35] <bollu_> anyone care to do a code review? https://gist.github.com/d5104118d1ac284a3d99
[07:54:36] <huon> example/which bug?
[07:54:57] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[07:54:59] *** Joins: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net)
[07:55:20] <eddyb> huon: let x: [&Trait] = [&a, &b];
[07:55:24] <ecr> eddyb: I'm not seeing where cycles come from with autoderef. You're just looking for some number of derefs to get to a type with the method.
[07:55:31] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: Lost terminal)
[07:55:33] <huon> bollu_: https://gist.github.com/bollu/d5104118d1ac284a3d99#file-math-rs-L120-L126 can use `clamped %= 2. * PI`
[07:55:50] <huon> eddyb: oh, and there's another problem with [&a as &Trait, &b as &Trait]?
[07:55:52] <eddyb> huon: let s = ~"bar"; let x: [&str] = ["foo", s.as_slice()];
[07:56:08] <bollu_> huon: it doesn't wrap around negative numbers which was why I did it by hand
[07:56:08] <huon> oh, lifetimes, right? :/
[07:56:09] <eddyb> is what Heather actually has problems with
[07:56:19] <eddyb> huon: *everything* that requires a change
[07:56:21] <dymk> hold up - 'while' and 'for' blocks can be expressions? 
[07:56:27] <huon> bollu_: and then just `if clamped < 0 { clambed += 2. * PI }`
[07:56:28] <ecr> dymk: yes
[07:56:28] <eddyb> dymk: they are expressions
[07:56:36] *** Quits: blindrenderer (blindrende@89510894.B22400E5.217C7FCC.IP) (Quit: Leaving)
[07:56:44] <dymk> so they just evaluate to the last expression in the block's body then? 
[07:56:53] <huon> dymk: no, always, ()
[07:56:57] <dymk> oh
[07:57:01] <bollu_> huon: not really, even -720 degrees is correct, it just has to warp back to 0
[07:57:13] <bollu_> so you have to iteratively push it upward till it hits zero
[07:57:14] <huon> bollu_: hm?
[07:57:18] <dymk> in that case, why are they expressions? 
[07:57:27] <huon> bollu_: th modulous will put it between -2 pi and 2 pi
[07:57:29] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[07:57:35] <huon> dymk: why make them not-expressions?
[07:57:35] <eddyb> dymk: Rust doesn't really have statements
[07:57:43] <eddyb> they are part of the AST
[07:57:56] <bollu_> rusti: -370 % 360
[07:57:56] <eddyb> but you don't really need them to describe the grammar
[07:58:00] <huon> (let is a legitimate statement)
[07:58:06] -rusti- -10
[07:58:09] <dymk> even 'let mut a: int' is an expression that evals to ()? 
[07:58:14] <huon> i.e. you can write `let a = let b = 1;`
[07:58:16] <huon> *can't
[07:58:19] <huon> dymk: nope
[07:58:22] <eddyb> rusti: match 10 {x => let y = x}
[07:58:30] <huon> rusti: (let a = 1;)
[07:58:34] <bollu_> rusti: -370 % 360 + 360
[07:58:38] <eddyb> huon: huh, I didn't realize that
[07:58:45] -rusti- pastebinned 7 lines of output: http://sprunge.us/UTXe
[07:58:45] -rusti- pastebinned 7 lines of output: http://sprunge.us/eWCW
[07:58:45] -rusti- 350
[07:58:53] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[07:59:04] <eddyb> so what, we have one statement?
[07:59:07] * huon would prefer let to be an expression too
[07:59:11] <bvssvni> bollu_: the normal thing is to put it between -180 and 180
[07:59:16] <eddyb> huon: with "in"?
[07:59:17] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:59:18] <ecr> dymk: the only expressions in Rust are: item declarations (functions, enums, structs, modules, etc.), slot declarations (let x = ...;), and expression statements (expr ;).
[07:59:24] <eddyb> let x = 10 in x * x
[07:59:25] *** Joins: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de)
[07:59:38] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:59:39] <huon> eddyb: no, just returning `()` like for and while
[07:59:44] <bollu_> bvssvni: why? 
[07:59:45] *** flaper87|afk is now known as flaper87
[07:59:47] <huon> it might not work very well...
[07:59:49] <eddyb> ecr: right, thanks, I was exaggerating :(
[07:59:54] * huon shrugs
[07:59:57] <bvssvni> bollu_: relative angles (turning left/right)
[08:00:08] <dymk> ecr, so all of those evaluate to () then? 
[08:00:09] <eddyb> huon: but there's... like no point in that. which is probably why it's still special
[08:00:14] <bvssvni> bollu_: easier to map between vector dot products etc.
[08:00:27] <eddyb> ecr: did you mean "the only statements"?
[08:00:42] <ecr> eddyb: yes, sorry
[08:00:48] <dymk> oh okay that makes more sense 
[08:01:00] <ecr> i'm hungry and i'm going to blame that
[08:01:16] <bollu_> bvssvni: I'm using my angle class as a way to represent angles independent of degrees / radians and map b/w polar and cartesian coordinates. so, I don't think there's any advantage? I'm not sure
[08:01:27] <ecr> dymk, eddyb: relevant part of the manual - http://static.rust-lang.org/doc/master/rust.html#statements-and-expressions
[08:01:37] <dymk> Does rust allow you to declare a slot in the expression for some flow control construct? e.g. if(let x = foo() == 0 {0} else {1}
[08:01:46] <dymk> er, missing a close paren there
[08:01:53] <eddyb> if doesn't have parens
[08:01:56] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[08:02:00] <bvssvni> bollu_: there is an advantage if you are going to use it mathematically
[08:02:00] <eddyb> and no, those are strict expressions
[08:02:02] <ecr> Heather: so have you played around with idris/agda/coq or HoTT?
[08:02:06] <dymk> ecr, noted, and thanks for the link
[08:02:13] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[08:02:15] <bollu_> bvssvni: an example being? :)
[08:02:26] <bvssvni> bollu_: atan2
[08:02:30] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:02:35] <bollu_> atan2 is y/x
[08:02:42] <bollu_> so how does that map to my angle class?
[08:02:51] <huon> fwiw, the best place to see the grammar/what is an expression, etc. is libsyntax. The manual is almost certainly out of date
[08:02:52] <bvssvni> bollu_: it returns an angle in radians
[08:02:52] <bollu_> I have a constructor to convert a vector to an angle :)
[08:02:59] <huon> http://static.rust-lang.org/doc/master/syntax/ast/index.html
[08:02:59] <bollu_> yeah, I have a member called polar()
[08:03:02] <bvssvni> bollu_: between -pi and pi by standard
[08:03:04] <eddyb> bollu_: atan2 isn't y/x
[08:03:15] <bollu_> tan inverse y /x
[08:03:16] <bollu_> :)
[08:03:16] <eddyb> bollu_: atan2 handles all the special cases and signs
[08:03:23] <bollu_> yeah that was what I meant
[08:03:33] <eddyb> it's *not* atan(y/x)
[08:03:34] <bollu_> it takes care of the quadrants
[08:03:55] <bollu_> eddyb: it makes sure your angle is placed in the right quadrant, yes 
[08:04:12] * bvssvni once wrote atan2 manually before I knew what it was
[08:04:28] * eddyb too
[08:04:32] <bvssvni> haha
[08:04:48] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:04:51] <bollu_> lol :) I didn't even know what vectors were. I did all my math using andles :(
[08:04:54] <bollu_> angles*
[08:04:58] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[08:05:11] <bvssvni> vectors are cool
[08:05:19] *** Joins: mindcat (mindcat@EEFCDFAE.7EE3DE8.F956842C.IP)
[08:05:24] <bvssvni> all the everyday magic encoded into a few numbers
[08:05:35] <mindcat> rustilite: what?
[08:05:36] -rustilite- <anon>:1:5: 1:6 error: unknown start of token: ?
[08:05:36] -rustilite- <anon>:1 what?
[08:05:36] -rustilite-              ^
[08:05:36] -rustilite- application terminated with error code 101
[08:05:45] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[08:05:47] <bollu_> yeah, they are. especially stuff like torque which defines a *rotational axis*. that's what I find mind blowing
[08:06:06] <edwardw> rustilite?
[08:06:12] <edwardw> new rusti?
[08:06:15] <bvssvni> bollu_: look up "screw theory" and it will blow your mind
[08:06:23] <eddyb> edwardw: no, just rusti without the main function
[08:06:32] <edwardw> eddyb: ah ok
[08:06:33] <eddyb> bvssvni: "screw" lol
[08:06:41] <mindcat> rustilite: for x in range(0,5){continue; println!("do not print ok?")}; "yeah"
[08:06:41] -rustilite- <anon>:1:1: 1:4 error: expected item but found `for`
[08:06:41] -rustilite- <anon>:1 for x in range(0,5){continue; println!("do not print ok?")}; "yeah"
[08:06:41] -rustilite-          ^~~
[08:06:42] -rustilite- application terminated with error code 101
[08:06:46] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[08:07:03] <bollu_> bvssvni: it's used to build constraints in physics simulations yes?
[08:07:24] <bvssvni> bollu_: the same math is used for triangle/ray detection
[08:07:41] <ecr> https://en.wikipedia.org/wiki/Screw_theory
[08:07:44] <ecr> relevant
[08:07:53] <bvssvni> bollu_: and it's the same math as something called "dual numbers"
[08:08:03] <bvssvni> bollu_: and it's also used in automatic derivation
[08:08:14] *** Joins: nfroidure (nfroidure@moz-65B09039.w90-18.abo.wanadoo.fr)
[08:08:17] <bollu_> bvssvni: dual numbers? the one with the special constant z such that z^2 is zero?
[08:08:28] <bollu_> and numbers are a + zb?
[08:08:28] <bvssvni> bollu_: yep
[08:08:28] <huon> Yurume: btw, the gist link at the end of http://j.mearie.org/post/7462182919/spelt-number-to-decimal is dead: https://gist.github.com/gists/1074852
[08:08:45] <bollu_> yeah, I read that :) there was  a paper in the ACM archives 
[08:08:48] <huon> Yurume: ... oh, seems they've just changed the link format: https://gist.github.com/1074852 works
[08:09:08] <bollu_> I find quaternions cooler
[08:09:28] <bvssvni> bollu_: you can have dual quaternions :P
[08:09:46] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[08:09:52] *** Quits: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Ping timeout)
[08:09:58] <bvssvni> bollu_: basically, dual numbers add "magic properties" to everything
[08:10:13] <bollu_> bvssvni: now that's just cheating ;) has it actually been done though? u^2 = v^2 = w^2 = uvw = 0 xD 
[08:10:16] *** Quits: maxli1 (Adium@moz-1650391B.hsd1.ca.comcast.net) (Quit: Leaving.)
[08:10:16] *** Parts: edwardw (Mibbit@E6E87FA7.354F6412.B9C6B12A.IP) ()
[08:10:34] <bvssvni> bollu_: just replace all coefficients with dual numbers
[08:10:36] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:10:49] <bollu_> bvssvni: aren't complex numbers the same ? :) they make all of math awesome
[08:10:59] <bvssvni> bollu_: dual numbers are fields, so they can be used everywhere rational numbers are used
[08:11:14] <bollu_> bvssvni: that topology terminology?
[08:11:23] <bollu_> another thing I've wanted to learn
[08:11:29] <bollu_> "field"
[08:11:34] <bvssvni> bollu_: a "field" is an algebra with addition, subtraction, multiplication and division
[08:11:53] <bollu_> hm. 
[08:12:01] <bvssvni> bollu_: if it doesn't have division, like integers, it is called a "ring"
[08:12:09] <huon> s/algebra/collection of things/ for clarity :)
[08:12:15] <bollu_> xD
[08:12:41] <bollu_> so, matrices are rings?
[08:12:49] <bollu_> cause you can multiply but not divide?
[08:12:52] <huon> yes
[08:13:06] <bvssvni> bollu_: yes, but they have inverse (sometimes)
[08:13:20] <bollu_> bvssvni: only when the determinant isn't zero
[08:13:29] <bollu_> oh, just noticed the (sometimes)
[08:13:34] <bollu_> yeah, continue :)
[08:13:43] <ecr> bvssvni: technically algebras are built on fields instead of the other way around
[08:13:58] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[08:14:04] <ecr> https://en.wikipedia.org/wiki/Algebra_over_a_field
[08:14:13] <bollu_> do *ALL* of you know this stuff?
[08:14:28] <bvssvni> bollu_: there has been some heavy discussions :P
[08:14:32] <bollu_> xD
[08:14:43] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:14:44] <ecr> just for completeness: https://en.wikipedia.org/wiki/Algebraic_structure
[08:15:26] <bollu_> how can you say a set has no operations? >_>
[08:15:33] <bollu_> union, interesection
[08:15:37] <huon> "algebra" is an annoyingly ambiguous term :/ e.g. https://en.wikipedia.org/wiki/Sigma_algebra
[08:15:39] <bollu_> and the other composite stuf
[08:15:45] <huon> bollu_: the elements of the set themselves
[08:15:51] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Quit: This computer has gone to sleep)
[08:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:16:29] <bvssvni> mathematics is a constant struggle of how to name things
[08:16:49] <huon> i.e. there's not many operations you can do between the elements of {cat, 1, "foo"}
[08:17:10] <bollu_> huon: if you can restrict a set to a "type", then map, reduce, fold...
[08:17:18] <bollu_> all become possible yes?
[08:17:28] <eddyb> map yes
[08:17:29] <ecr> math has run into the problem of no longer having a word to mean 'collection of things' that doesn't already have a technical definition
[08:17:34] <ecr> it makes conversations difficult
[08:17:34] <eddyb> reduce/fold is the same thing
[08:17:39] <eddyb> and requires order
[08:17:50] <eddyb> (unless you have something associative I think)
[08:18:01] <ecr> fold requires the operation be associative
[08:18:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:18:12] <eddyb> or an ordered set
[08:18:25] <ecr> no
[08:18:39] <bollu_> ecr: isn't "set" the loosest thing there is?
[08:18:39] <ecr> no restrictions on the set i think
[08:18:43] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[08:18:48] <eddyb> ecr: *or*
[08:18:48] <bollu_> in terms of naming
[08:18:49] <huon> bollu_: "operation" normally means "binary operation", so things like +, *, -
[08:18:53] <ecr> bollu_: no, 'set' implies elements are unique
[08:18:57] <huon> not things operating on the set as a whole
[08:19:00] <bollu_> huon: collection?
[08:19:04] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[08:19:15] <bollu_> huon: what about ternary operators? :)
[08:19:45] <huon> bollu_: most mathematics is binary operations
[08:19:47] <ecr> bollu_: you can decompose a ternary operator into two binary operators
[08:19:48] *** Joins: PumpMagic (PumpMagic@moz-3DECE8DF.hsd1.ca.comcast.net)
[08:19:57] <bollu_> ecr: ah. 
[08:20:03] *** Joins: josh (josh@moz-45E9F87B.range109-152.btcentralplus.com)
[08:20:04] <ecr> tern(A, B, C) = bin1(A, bin2(B, C))
[08:20:27] <bollu_> is differenciation an operator or a function?
[08:20:51] <eddyb> neither
[08:21:04] <eddyb> it's an operation :P
[08:21:14] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[08:21:14] <eddyb> (I guess)
[08:21:24] <bvssvni> it depends
[08:21:26] <bollu_> xD so, the d/dx is the differential operator?
[08:21:36] <bvssvni> whether it operates on raw data or symbols
[08:21:44] *** Joins: Puddles (Mibbit@moz-4D66AB09.dynamic.mts-nn.ru)
[08:21:49] <bollu_> bvssvni: it operates on functions no?
[08:22:00] <eddyb> hmm
[08:22:02] <bollu_> it maps a function to another function with the same domain
[08:22:10] <eddyb> f' could be an operator
[08:22:11] <bollu_> function, not relation
[08:22:37] <bvssvni> a unary operator?
[08:22:50] <bvssvni> but it needs to differentiate with respect to something
[08:22:53] <bvssvni> like time
[08:22:54] <bollu_> bvssvni: doesn't it have 2 params?
[08:23:09] <eddyb> I don't really like the d stuff (can't remember how it's called now), it's kind of ambiguous
[08:23:13] <bollu_> yeah, what you want to differentiate and what you want to differentiate against
[08:23:19] <bollu_> ?
[08:23:24] <eddyb> ' on the other hand isn't
[08:23:26] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:23:31] <eddyb> f' is another function
[08:23:41] <bollu_> yep, f'(x) is also a function
[08:23:41] *** Quits: Puddles (Mibbit@moz-4D66AB09.dynamic.mts-nn.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[08:23:49] <bollu_> which represents the slope of f(x)
[08:23:50] <eddyb> no, f'(x) is an application
[08:23:59] <bollu_> what? no!
[08:24:03] <eddyb> f' is the function
[08:24:07] <bollu_> ah, okay
[08:24:11] <bvssvni> f' is a short way that excludes the information about what it differentiates against
[08:24:13] <bollu_> you're making that distinction too
[08:24:13] <bollu_> )
[08:24:28] <eddyb> bvssvni: it doesn't exclude it
[08:24:38] <huon> eddyb: d/dx is an operator ;P
[08:24:40] <eddyb> bvssvni: it includes it in a non-ambiguous way
[08:24:53] <ecr> diff : ( (R^n -> R), Z ) -> (R^n -> R) [ function + index of variable to differentiate with respect to -> function ]
[08:24:53] <bollu_> huon: why not a function?
[08:24:54] <eddyb> huon: I was thinking of differentiation in general when he first asked
[08:25:00] <bvssvni> eddyb: if it a function of one variable, then yes
[08:25:11] <eddyb> bvssvni: there is only one
[08:25:18] <eddyb> (true way)
[08:25:20] <bollu_> bvssvni: no, I was asking in terms of multivariable calculus
[08:25:46] <bollu_> eddyb: you can have mutiple differentials for multiple partial derivatives right? 
[08:25:50] <bvssvni> bollu_: if you have a function with multiple variables, you can feed it with dual numbers to get derivatives
[08:25:59] <eddyb> bollu_: wait, ' is derivative
[08:26:02] <bollu_> bvssvni: what?
[08:26:04] <eddyb> gaah I'm so confused right now
[08:26:09] * eddyb goes back to gamedev
[08:26:11] <bvssvni> I am using the wrong word?
[08:26:16] <bollu_> yeah, let's bring a notation first >_>
[08:26:23] <eddyb> #math
[08:26:28] <bvssvni> :)
[08:26:40] *** Quits: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[08:26:52] <bollu_> did ecr just ragequit? :D
[08:26:59] <eddyb> no, I did
[08:26:59] *** Joins: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP)
[08:27:26] <bollu_> I like newton's notation more that leibnitz's notation
[08:27:40] <ecr> leibnitz's is more general
[08:27:43] <bollu_> Leibniz*
[08:27:47] <bvssvni> bollu_: it is because Newton used something similar to dual numbers
[08:27:48] <bollu_> goddamn his spelling
[08:27:59] <bollu_> bvssvni: care to expand?
[08:28:00] <bvssvni> bollu_: it wasn't clean before 1960
[08:28:24] <bvssvni> bollu_: Leibniz notation was the first to be rigor
[08:28:28] *** Quits: josh (josh@moz-45E9F87B.range109-152.btcentralplus.com) (Quit: josh)
[08:28:31] <eddyb> I agree
[08:28:36] <bollu_> ecr: yeah, but Leibniz's notation makes people think the d ( ..) and the  dx part are two different things.
[08:28:37] <bvssvni> bollu_: that's why most people learn Leibniz
[08:28:44] <bollu_> I've wasted hours arguing
[08:28:54] <eddyb> bollu_: but they are!
[08:29:05] <ecr> bollu_, the annoying thing is sometimes you can consider them as different things and sometimes you can't
[08:29:09] <bollu_> eddyb: only for 1st order derivatives they seem that they are
[08:29:14] <bvssvni> it's like generics
[08:29:27] <bollu_> but they actually aren't
[08:29:29] <bollu_> AFAIK
[08:29:32] <eddyb> bollu_: it's a division between two different things
[08:29:33] <bvssvni> it's like a parallel language inside the other language
[08:29:42] <bvssvni> but with similar rules
[08:29:55] <ecr> bollu_ https://en.wikipedia.org/wiki/Differential_form
[08:30:07] <bollu_> bvssvni: yeah, I guess.. do you have a reference for the whole newton dual numbers thing?
[08:30:25] <bvssvni> bollu_: it's spread around, unfortunately
[08:30:30] <eddyb> wait wait
[08:30:46] <eddyb> bollu_: sorry, I confused the two notations, I agree with you actually on Newton =))
[08:30:59] <eddyb> now bvssvni's comments make more sense
[08:31:17] <bvssvni> https://en.wikipedia.org/wiki/Infinitesimal_calculus
[08:31:17] <eddyb> *sigh* why do they have to use confusing words everywhere
[08:31:23] *** Quits: dumitru (dgherman@moz-7C253BEB.getcadre.com) (Ping timeout)
[08:31:41] <eddyb> https://en.wikipedia.org/wiki/Notation_for_differentiation
[08:31:47] <bollu_> yeah, it gained rigour after reimann right?
[08:31:51] <bollu_> his reimann sum
[08:32:00] <eddyb> bollu_: lol no, not Newton
[08:32:07] <eddyb> Lagrange, there we go
[08:32:11] <eddyb> that's the best one
[08:32:20] <bvssvni> ah, so the one with dots is Newton
[08:32:23] *** Quits: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: dherman)
[08:32:27] <bollu_> oh wait, I meant Euler
[08:32:30] <bollu_> Euler's notation
[08:32:38] <eddyb> haha
[08:32:40] <bollu_> it tells you everything you need to know
[08:32:51] <eddyb> you can't go wrong with Lagrange, really
[08:33:12] <eddyb> if you don't omit the variables in lambdas
[08:33:14] <bollu_> lagrange doesn't tell you with what it's been differentiated
[08:33:24] <eddyb> the variable of the function :P
[08:33:28] <eddyb> think Haskell
[08:33:31] <bollu_> it gets weird when dealing with 3d coordinates >_>
[08:33:46] <bollu_> all you see is ` everywhere
[08:34:05] <Zr40> primes all the way down
[08:34:13] <eddyb> x' == 1
[08:34:25] <eddyb> if you consider x to be (x -> x) which I've seen before
[08:34:26] <YourBestFriend> when is rust 0.10 coming out?
[08:34:31] <bollu_> ? eddyb: what?
[08:34:40] <eddyb> bollu_: haven't you had to deal with that?
[08:34:41] <bollu_> isn't that a differential equation?
[08:34:46] <eddyb> nope
[08:34:47] <Heather> ecr:  I've tryied only idris, sorry for delay
[08:34:57] <eddyb> bollu_: it's just a lambda
[08:35:03] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[08:35:07] <Heather> lambda abstraction!
[08:35:13] <bollu_> which are yo talking about? the x` == 1?
[08:35:16] <eddyb> yeah
[08:35:21] <bollu_> what's == ?
[08:35:24] <eddyb> LOL
[08:35:29] <eddyb> you're in a PL channel
[08:35:45] <bollu_> cmon, we're talking math!
[08:35:46] * eddyb slaps bollu_ around with Eq
[08:35:48] <bollu_> xD
[08:36:00] <eddyb> have some operator overloads
[08:36:02] <ecr> math, PL, it's all the same thanks to Curry-Howard!
[08:36:06] <bollu_> I wasn't sure what you were referring to. I assumed it was some weird notation I hand't come across before :P
[08:36:22] <eddyb> = can mean assignment in math
[08:36:24] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:36:27] <eddyb> or equality
[08:36:29] <ecr> Heather, neat. what do you think of it so far?
[08:36:38] <eddyb> or something else
[08:36:42] <eddyb> == is not as ambiguous
[08:36:42] <bollu_> eddyb: continue
[08:36:45] <Heather> ecr: Hard, very hard and complicated )
[08:36:55] <eddyb> bollu_: I have things to do!
[08:36:55] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:37:02] <bollu_> xD please!
[08:37:07] <bollu_> and you can omit the _ 
[08:37:13] <bollu_> I gotta change my nice
[08:37:14] <eddyb> no I can't
[08:37:18] <eddyb> b<TAB>
[08:37:19] <bollu_> why not?
[08:37:20] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[08:37:20] <bollu_> al
[08:37:22] <bollu_> ah*
[08:37:22] <Heather> ecr: I wish I can write an server on Idris comiled to C and client on Idris compiled to js just like McKenna
[08:37:23] <ecr> Heather: yeah, dependent types are like that.
[08:37:41] <Heather> ecr: sadly there is no easy start for that
[08:38:07] <bollu_> eddyb: could you believe that i^i is real?
[08:38:13] <bollu_> like, when you first saw it?
[08:38:14] <eddyb> yes
[08:38:19] *** Joins: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net)
[08:38:23] <eddyb> well, I don't remember seeing it :P
[08:38:27] <bollu_> really? I was just weirded out :)
[08:38:32] <eddyb> but it should have 2 in it
[08:38:37] <eddyb> and i^2 is -1
[08:38:40] <bollu_> my math professor asked us one day for the heck of it
[08:38:50] <bollu_> no, i^i = -pi/2
[08:38:50] <eddyb> it's really as simple as a 2 factor somewhere
[08:38:59] *** Quits: PumpMagic (PumpMagic@moz-3DECE8DF.hsd1.ca.comcast.net) (Quit: Leaving)
[08:39:02] <bvssvni> actually i represents two numbers, +-i
[08:39:22] <ecr> Heather, I learned Coq first (http://www.cis.upenn.edu/~bcpierce/sf/index.html), then Agda (via lecture). Idris is similar enough to Agda that shifting over isn't that bad.
[08:39:22] <bvssvni> they are symmetric, so it works out every time
[08:39:27] <bollu_> bvssvni: it's taken as convention to be +sqrt(-1) right?
[08:39:35] <eddyb> bollu_: i^i is i^(2*something I can't remember)
[08:39:35] <bvssvni> bollu_: yes
[08:39:45] <eddyb> bollu_: thus, -1^(something I can't remember)
[08:39:56] <bollu_> eddyb: you can write i as e ^ (pi / 2)
[08:40:02] <bollu_> e ^ i pi/2
[08:40:03] <bollu_> sorrt
[08:40:05] <bollu_> sorry*
[08:40:13] <bollu_> so i ^ i become e ^ -pi/2
[08:40:33] <bollu_> that's the answer I came up with anyway >_>
[08:40:33] <Heather> ecr: I don't know coq and agda :(
[08:40:35] <bvssvni> YourBestFriend: ask again, I am sure somebody knows
[08:41:06] <bvssvni> he asked when 0.10 is out
[08:41:29] <mindcat> fn main(){ let a = { for x in range(0,5){ if x == 3 { x = x; return x;} else {continue;}; println!("do not print ok?")};-1 }; println!("{:?}",a) }
[08:41:32] <bollu_> bvssvni: most awesome formula in math acc. to you? :)
[08:41:36] <mindcat> why I can't do that?
[08:41:48] <mindcat> rustilite: fn main(){ let a = { for x in range(0,5){ if x == 3 { x = x; return x;} else {continue;}; println!("do not print ok?")};-1 }; println!("{:?}",a) }
[08:41:50] -rustilite- pastebinned 5 lines of output: http://ix.io/aYz
[08:41:51] <eddyb> mindcat: main has return type ()
[08:41:51] <ecr> Heather: there aren't too many good resources to learn unfortunately. it's all so new that no one's written them. Coq's the oldest and probably has the best (such as the one that I linked)
[08:41:54] <Heather> ecr: I wish Edwin will write good tutorial :)
[08:41:59] <bvssvni> bollu_: ln(x)
[08:42:03] <Yurume> YourBestFriend: 3 months after 0.9, you bet.
[08:42:06] <eddyb> mindcat: you wrote fn main() {...} that's fn main() -> () {...}
[08:42:12] <bvssvni> bollu_: it doesn't say anything, but what you can do with is amazing
[08:42:18] <Yurume> unlike 1.0, 0.x releases are time-based so you can reasonably expect the next release 
[08:42:21] <mindcat> eddyb: oh I forgot that
[08:42:22] <Heather> ecr: he used to show us draft
[08:42:30] <eddyb> mindcat: forgot?
[08:42:31] <bollu_> bvssvni: really? there are so many more awesome ones! like the gamma function for example. 
[08:42:35] <Yurume> (1.0 due is "when it's done")
[08:42:36] <YourBestFriend> when will 1.0 be out?
[08:42:41] <bollu_> ln(x) is nice I admit
[08:42:43] <ecr> Heather, there's a work in progress version. I think this is the most recent: http://eb.host.cs.st-andrews.ac.uk/writings/idris-tutorial.pdf
[08:42:45] *** Quits: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net) (Ping timeout)
[08:43:04] <mindcat> eddyb: but I want return for variable a
[08:43:08] <Yurume> YourBestFriend: when https://github.com/mozilla/rust/issues?milestone=20 is cleared
[08:43:14] <Heather> ecr: btw... I hate that mozilla doesn't just use freenode
[08:43:31] *** Joins: josh (josh@moz-45E9F87B.range109-152.btcentralplus.com)
[08:43:36] <Yurume> I hate moznet's open proxy check
[08:43:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:43:46] *** Quits: derek_c (derek@moz-DC257920.cit.cornell.edu) (Quit: Leaving)
[08:43:55] *** Joins: derek_c (derek@moz-DC257920.cit.cornell.edu)
[08:43:55] <bollu_> Yurume: yeah it's weird that they port scan
[08:43:57] <Heather> ecr: ah, there is another one )
[08:43:58] <bvssvni> bollu_: if you have a random number between 0 and 1 'r' a probability per time unit 'p', you can simulate an event t = ln(1-r)/ln(1-p)
[08:44:01] <ecr> I didn't really use IRC until I worked at mozilla, so I just rolled with it
[08:44:02] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:44:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:44:08] *** Quits: derek_c (derek@moz-DC257920.cit.cornell.edu) (Quit: Leaving)
[08:44:14] <Heather> ecr: Programming and Reasoning with Side-Effects in IDRIS
[08:44:17] *** Joins: derek_c (derek@moz-DC257920.cit.cornell.edu)
[08:44:17] <Yurume> bollu_: because I run an IRC server (not proxy!) in my server :S
[08:44:18] <eddyb> ecr: you work at mozilla?
[08:44:25] <ecr> I interned there last summer
[08:44:29] <eddyb> ahh
[08:44:39] <ecr> currently they're funding my research
[08:44:43] <eddyb> o_O
[08:44:52] <eddyb> ecr: what kind of research?
[08:44:57] <bollu_> bvssvni: won't a binomial probability dirstribuition let you do it too?
[08:44:58] <ecr> formalizing rust
[08:45:03] <bollu_> assuming the result is binary
[08:45:05] <bollu_> ecr: nice!
[08:45:09] <eddyb> ecr: oh, I remember nmatsakis was playing with that
[08:45:10] <mindcat> let a = { for x in range(0, 5) { if x == 3 { return x } } -1}
[08:45:12] *** Joins: dumitru (dgherman@moz-7C253BEB.getcadre.com)
[08:45:12] *** Joins: PumpMagic (PumpMagic@moz-3DECE8DF.hsd1.ca.comcast.net)
[08:45:13] <mindcat> I mean this
[08:45:14] <ecr> yep
[08:45:18] <eddyb> ecr: his formal model included DSTs =))
[08:45:24] <eddyb> which we haven't implemented yet
[08:45:28] <eddyb> but I can't read LISP
[08:45:33] <ecr> haha
[08:45:42] <ecr> the parens disappear eventually
[08:45:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:45:52] <bollu_> eddyb: LISP is like the easiest thing to learn xD use vim + RainbowParenthesis.
[08:46:03] *** Quits: derek_c (derek@moz-DC257920.cit.cornell.edu) (Quit: Leaving)
[08:46:10] *** Joins: derek_c (derek@moz-DC257920.cit.cornell.edu)
[08:46:13] <eddyb> bollu_: but it's still grose!
[08:46:20] <eddyb> I'd rather use the M form
[08:46:25] <PumpMagic> real beginner question - does anyone know how i can convert a string to a u8 vector and get its owned pointer?
[08:46:35] *** Quits: derek_c (derek@moz-DC257920.cit.cornell.edu) (Quit: Leaving)
[08:46:39] <bollu_> eddyb: I thought it was spelt "gross" ?
[08:46:44] *** Joins: derek_c (derek@moz-DC257920.cit.cornell.edu)
[08:46:47] <bollu_> althought english is not my first language...
[08:46:48] <eddyb> bollu_: err, yeah
[08:47:02] * eddyb is not native either
[08:47:16] *** Quits: derek_c (derek@moz-DC257920.cit.cornell.edu) (Quit: Leaving)
[08:47:21] <bvssvni> PumpMagic: perhaps you can use .as_bytes() and then allocate a new vector?
[08:47:25] *** Quits: dumitru (dgherman@moz-7C253BEB.getcadre.com) (Ping timeout)
[08:47:27] *** Joins: derek_c (derek@moz-DC257920.cit.cornell.edu)
[08:47:32] <mindcat> so I should be do that right? let a = {let mut b = -1; for x in range(0, 3) { if x == 3 {b = x; break } } b }
[08:47:37] <bollu_> bvssvni: any more awesome math stuff I should be aware of?
[08:47:47] <ecr> PumpMagic: http://static.rust-lang.org/doc/master/std/str/raw/fn.as_owned_vec.html
[08:47:51] *** Quits: derek_c (derek@moz-DC257920.cit.cornell.edu) (Quit: Leaving)
[08:47:52] <bvssvni> bollu_: that is a dangerous question :P
[08:47:53] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[08:47:55] *** Joins: derek_c (derek@moz-DC257920.cit.cornell.edu)
[08:47:58] <bollu_> xD indeed :)
[08:48:07] *** Quits: derek_c (derek@moz-DC257920.cit.cornell.edu) (Quit: Leaving)
[08:48:10] <bollu_> even so, enlighten me ;)
[08:48:27] <ecr> bollu_: you know about the Curry-Howard Correspondence?
[08:48:29] <PumpMagic> bvssvni: my next beginner question: how does one copy the contents of a borrowed pointer into a newly allocated vector?
[08:48:31] <bvssvni> bollu_: I am still just a learner
[08:48:34] <bollu_> ecr: nope
[08:48:38] <PumpMagic> ecr: should i be scared that this is unsafe?
[08:48:40] <ecr> bollu_: https://en.wikipedia.org/wiki/Curry_Howard
[08:48:49] <Yurume> what are you all doing XD 
[08:48:52] <bollu_> bvssvni: then that makes me ...
[08:48:57] <ecr> PumpMagic: depends on what you're doing
[08:49:01] <bvssvni> bollu_: :P
[08:49:22] <bvssvni> bollu_: is there a subject you are interested in?
[08:49:22] <bollu_> oh, wait, is that why it's called "currying" ?
[08:49:25] <bollu_> hoooly crap!
[08:49:27] *** Quits: josh (josh@moz-45E9F87B.range109-152.btcentralplus.com) (Quit: josh)
[08:49:42] <bollu_> bvssvni: calculus mostly
[08:49:48] <ecr> PumpMagic: it's unsafe because you can corrupt the string if you're not careful (break the UTF-8 encoding basically)
[08:49:53] <bollu_> bvssvni: and what little analytical geometry I know
[08:50:05] <bvssvni> bollu_: if you learn dual numbers, you get a trick up your sleeve to use
[08:50:10] <mindcat> rustilite: ""
[08:50:10] -rustilite- <anon>:1:1: 1:3 error: expected item but found `""`
[08:50:10] -rustilite- <anon>:1 ""
[08:50:10] -rustilite-          ^~
[08:50:11] -rustilite- application terminated with error code 101
[08:50:25] <bvssvni> bollu_: for example, there is a dual pythagoras theorem that you can work out by yourself
[08:50:29] *** Quits: oxum (anonymous@A2DC55F.3F5CFD3E.520CDC98.IP) (Ping timeout)
[08:50:41] <Yurume> rustilite: fn main() { println!("rustilite expects a whole program, I think") }
[08:50:41] -rustilite- rustilite expects a whole program, I think
[08:50:51] <bollu_> bvssvni: tell me this, in conics, who do I remember what "e" stands for? is it foci / directrix or directrix / foci?
[08:50:54] <PumpMagic> ecr: that makes sense.. since i'm only trying to provide a default for a u8 unwrap_or, i guess unsafe is fine.
[08:50:55] <bollu_> (eccentricity)
[08:50:55] *** Joins: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net)
[08:51:03] <PumpMagic> ecr: something about the word unsafe makes me feel guilty though.
[08:51:09] <ecr> PumpMagic: it's supposed to
[08:51:14] *** Joins: nkoep (nik@moz-B6E9B3AA.pool.mediaways.net)
[08:51:17] <bvssvni> bollu_: "e"?
[08:51:19] <mindcat> rustilite: fn main() { let a = "Hello World!" println!("{:?} {:?}",bytes!("Hello World!"),a.as_bytes())}
[08:51:19] -rustilite- <anon>:1:36: 1:43 error: expected `;` but found `println`
[08:51:19] -rustilite- <anon>:1 fn main() { let a = "Hello World!" println!("{:?} {:?}",bytes!("Hello World!"),a.as_bytes())}
[08:51:19] -rustilite-                                             ^~~~~~~
[08:51:19] -rustilite- application terminated with error code 101
[08:51:21] <PumpMagic> :)
[08:51:27] <ecr> we want to encourage people to use safe code as much as possible
[08:51:30] <mindcat> rustilite: fn main() { let a = "Hello World!"; println!("{:?} {:?}",bytes!("Hello World!"),a.as_bytes())}
[08:51:33] -rustilite- pastebinned 1 lines of output: http://ix.io/aYA
[08:51:33] <bollu_> bvssvni: eccentricity
[08:51:35] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[08:51:43] <ecr> and to be aware that unsafe things really are unsafe
[08:51:43] <bvssvni> bollu_: you probably know more about analytical geometry than I do
[08:51:47] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[08:51:52] *** Joins: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th)
[08:52:02] <mindcat> rustilite: fn main() { let a = "Hello World!"; println!("{:?} {:?}",bytes!(a),a.as_bytes())}
[08:52:03] -rustilite- <anon>:1:65: 1:66 error: non-literal in bytes!
[08:52:03] -rustilite- <anon>:1 fn main() { let a = "Hello World!"; println!("{:?} {:?}",bytes!(a),a.as_bytes())}
[08:52:03] -rustilite-                                                                          ^
[08:52:03] -rustilite- error: aborting due to previous error
[08:52:03] <mcpherrin> I still think lindsey's suggestion to use a biohazard symbol is the best
[08:52:03] -rustilite- application terminated with error code 101
[08:52:15] <ecr> bollu_: e stands for eccentricity in conic section land IIRC
[08:52:17] <mcpherrin> makes you go copypaste it, so you really have to want it
[08:52:24] <bollu_> ecr: yep
[08:52:34] <Yurume> or something like: /!\?
[08:53:02] <bollu_> ecr: I keep forgetting what the ratio is - I use the limiting cases to remember but it's a pain :( 
[08:53:04] <ecr> mcpherrin: I agree, but I understand why graydon forbade it
[08:53:16] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[08:53:18] <PumpMagic> ecr: would bvssvni's recommendation of allocating a new vector and copying the slice into it would be considered better practice?
[08:53:25] <mcpherrin> I need to fork rust to add more unicode
[08:53:32] <PumpMagic> oops, one "would"...
[08:53:59] <Yurume> mcpherrin: may make a good trick for the start of upcoming month
[08:54:00] *** Quits: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net) (Ping timeout)
[08:54:08] *** Joins: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net)
[08:54:45] <mcpherrin> Yurume: good point :)
[08:54:53] <ecr> PumpMagic: hard to say. some rust folks (including me) are big on safety and are willing to pay extra performance cost for it. others are diehard performance folks, safety be damned
[08:54:59] <ecr> you'll get different advice from each
[08:55:05] <ecr> and really it depends on what you're doing
[08:55:15] <ecr> if you're only reading the bytes, then it's perfectly safe
[08:55:28] <ecr> if you mutate them, then you need to make sure you maintain the invariant
[08:55:51] <PumpMagic> understood, i think i lean towards your side, as a safe unsafe operation now could easily accidentally turn into a truly unsafe one later
[08:55:59] <ecr> yep :)
[08:56:02] *** Joins: dumitru (dgherman@moz-7C253BEB.getcadre.com)
[08:56:11] <PumpMagic> last question, how does one copy in rust? :)
[08:56:20] <bvssvni> PumpMagic: .clone()
[08:56:48] <ecr> if something's implicitly copyable, then you can just assign. if it isn't you can use .clone() (which also works for implicitly copyable things)
[08:57:27] <PumpMagic> clone does not seem to take a length..?
[08:57:34] <PumpMagic> does rust compiler magic infer the length?
[08:57:57] <ecr> it depends
[08:58:03] <bvssvni> are we talking about &str?
[08:58:06] <ecr> for fixed sized vectors, yes
[08:58:11] <mcpherrin> clone is implemented on each type
[08:58:22] <mcpherrin> so it depends on the type
[08:58:24] <bvssvni> the length is built into the type
[08:58:24] <ecr> but for growable vectors, there's a 'size' field inside
[08:58:29] <PumpMagic> &[u8]
[08:58:46] <ecr> so that's a growable vector
[08:58:54] <ecr> it records its size internally
[08:58:56] <bvssvni> what I meant to say: it is a value in the type
[08:59:04] <bollu_> ecr: is clone a Trait?
[08:59:07] <ecr> yes
[08:59:23] <ecr> http://static.rust-lang.org/doc/master/std/clone/trait.Clone.html
[08:59:27] <PumpMagic> i've got a long way to come coming from C..
[08:59:30] <bvssvni> bollu_: everything yellow in the docs is traits
[08:59:38] <bvssvni> *are
[08:59:40] <bollu_> bvssvni: ah!
[08:59:58] <bollu_> I just assumed they were ... colors
[09:00:01] <ecr> PumpMagic: there's a lot going on at first, but it all starts to make sense and fit together soon enough
[09:00:11] <ecr> check out the tutorial if you haven't already
[09:00:25] <PumpMagic> i'm stumbling through it. thanks for your help :)
[09:00:26] <bollu_> ^ agreed
[09:00:27] <ecr> and you already found the IRC channel, which is the best option
[09:00:32] <ecr> sure :)
[09:00:48] <bollu_> ecr: that's true though, rust feels very cohesive
[09:00:51] <ecr> now I *really* need to go eat the dinner I was going to eat several hours ago
[09:01:06] <bollu_> I'm having lunch. join me :)
[09:01:09] <PumpMagic> rustilite: let dsts = str::from_utf8(dst.unwrap_or("(invalid utf8)".as_bytes().clone()));
[09:01:10] -rustilite- <anon>:1:1: 1:4 error: expected item but found `let`
[09:01:10] -rustilite- <anon>:1 let dsts = str::from_utf8(dst.unwrap_or("(invalid utf8)".as_bytes().clone()));
[09:01:10] -rustilite-          ^~~
[09:01:10] -rustilite- application terminated with error code 101
[09:01:15] <ecr> bollu_, there's been a lot of effort to make it that way
[09:01:36] <ecr> g'night all
[09:01:38] <bollu_> ecr: it shows when you use the language. 
[09:01:40] <bollu_> and night!
[09:01:45] <PumpMagic> bye ecr
[09:01:47] <Yurume> PumpMagic: rustilite requires a whole program.
[09:01:47] <bvssvni> bye
[09:01:57] <PumpMagic> Yurume: noted :)
[09:02:00] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:02:07] <Yurume> rusti: "you can use rusti for a simpler task :)"
[09:02:07] -rusti- "you can use rusti for a simpler task :)"
[09:02:22] <bollu_> Yurume: is there a proper interpreter for rust?
[09:02:23] <Yurume> (which is something like fn main() { println!("{:?}", {/* code here */}); })
[09:02:26] *** Joins: Ms2ger (Ms2ger@60B493FD.C305EAEC.F15B0BB3.IP)
[09:02:37] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Input/output error)
[09:02:49] <Yurume> depends on what do you mean by interpreter, did you mean interactive environment?
[09:02:52] <bvssvni> bollu_: it was one in Ruby
[09:03:07] <Yurume> (so called REPL aka read-eval-print loop)
[09:03:14] <bollu_> Yutume: yeah, a REPL
[09:03:17] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[09:03:31] <mcpherrin> There really isn't anything good
[09:03:31] *** Joins: soumyaC_ (uid15286@moz-E77DEB21.irccloud.com)
[09:03:36] <Yurume> unfortunately there are some obstacles with such environments, so there is no proper REPL yet
[09:03:40] *** soumyaC_ is now known as soumyaC
[09:03:51] <bollu_> hm. it would make learning easier I think
[09:04:10] <Yurume> bvssvni refers to the hacky compile-and-run script, I think
[09:04:17] <Yurume> (which does not preserve local variables, for example)
[09:04:25] <bvssvni> I can't find it :(
[09:04:43] <bvssvni> I have a script
[09:05:27] <bvssvni> https://gist.github.com/bvssvni/9408082
[09:05:30] *** Joins: japaric (japaric@841DCDFF.55B992BD.5C7588CA.IP)
[09:05:32] <bollu_> ty
[09:05:34] <bvssvni> got it from somebody here
[09:06:25] <mcpherrin> I was about to say I had a script too, but that looks like mine ;)
[09:06:25] *** Parts: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Leaving...)
[09:06:41] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: leaving)
[09:06:43] <bvssvni> mcpherrin: I was wondering if it was you :)
[09:06:45] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[09:06:53] <bvssvni> most likely
[09:07:02] <mcpherrin> which is really just a modified copy of what rusti does
[09:07:48] <Yurume> well, we now have rustc -Z ast-json, we now need a JSON input for the compilation
[09:08:14] <Yurume> so that the driver tries to do some hacks that tries to save the internal states
[09:09:40] <mindcat> so, Rust does not have "goto" this thing huh?
[09:09:53] <bvssvni> mindcat: for a good reason
[09:10:14] <PumpMagic> well now how am i going to share my cleanup routines?
[09:10:17] <Yurume> bvssvni: there are some genuine reasons to use goto (to be exact, *computed* goto) in C though
[09:10:17] <bvssvni> mindcat: goto's are evil in the wrong hands
[09:10:26] <mcpherrin> PumpMagic: that's what destructors are for :)
[09:10:26] <bvssvni> Yurume: I know
[09:10:27] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[09:10:35] <mindcat> bvssvni: ok
[09:10:37] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:10:40] <PumpMagic> mcpherrin: shoot, they thought of everything
[09:10:41] <Yurume> in that sense C does not do the good thing either, its goto can only be used for miserable things :(
[09:10:56] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:10:59] <mindcat> bvssvni: it does mean kernel is evil?
[09:11:04] <bollu_> I want a language with gotos that can be passed around (1st class)
[09:11:06] <Ms2ger> Probably
[09:11:12] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:11:15] <bollu_> mindcat: kernel devs are insanely careful
[09:11:18] <Yurume> bollu_: continuations?
[09:11:19] <bvssvni> mindcat: did not meant to generalize
[09:11:26] <mcpherrin> bollu_: ha
[09:11:33] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:11:35] <mcpherrin> (I laugh as a willy-nilly kernel dev)
[09:11:41] <mindcat> bvssvni: ok..
[09:11:52] <bollu_> Yurume: not really I think. you can't jump "back" with a continuation can you? I'm not super familiar 
[09:12:22] <bollu_> mcpherrin: you're a kernel dev? 
[09:12:25] <bollu_> nice!
[09:12:25] * bvssvni afk
[09:12:54] <bollu_> Yurume: can you loop with continuations?
[09:12:58] <mcpherrin> bollu_: Well, I have written some code, but I don't think I would call myself a kernel dev
[09:13:01] <Yurume> I think one can, but I'm not quite Schemer.
[09:13:13] <Yurume> bollu_: afaik yes.
[09:13:16] <mcpherrin> bollu_: Yes! Call/cc from scheme is the most general form of control flow
[09:13:19] <mcpherrin> super magic
[09:13:35] <Ms2ger> mcpherrin, and therefor the hardest to use? :)
[09:13:41] <mcpherrin> Ms2ger: Yes!
[09:13:41] <Yurume> most dangerous to use
[09:13:52] <Yurume> I still cannot solve Yin-Yang puzzle
[09:14:24] <bollu_> hmm. TIL. so in that case yes, continuations :)
[09:14:32] <bollu_> I've never thought of them that way
[09:15:32] <bollu_> yurume: what yin yang puzzle?
[09:16:07] <mindcat> rusti: 0 - 0
[09:16:08] -rusti- 0
[09:16:18] <mindcat> rusti: 0u8 - 1
[09:16:19] -rusti- 255u8
[09:16:24] <mindcat> lol
[09:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[09:16:36] <Yurume> bollu_: Wikipedia page on call/cc seems to have the sample code
[09:17:14] <bollu_> mindcat: u8= uint8 right?
[09:17:26] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[09:17:31] <mindcat> for x in range(5, 0, -1) {}
[09:17:36] <mindcat> bollu_: right
[09:17:46] <mindcat> bollu_: is a byte
[09:18:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[09:19:04] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[09:19:18] <PumpMagic> does anyone now why clone() is returning a borrowed pointer?
[09:19:49] <huon> PumpMagic: code?
[09:19:57] <kimundi> PumpMagic: CLone is implemented on &T to return &T - sounds like auto(de)ref went wrong for you :)
[09:20:00] <PumpMagic> let mytmp = dst.unwrap_or("(invalid utf8)".as_bytes().clone());
[09:20:10] <kimundi> ah
[09:20:18] <PumpMagic> dst is an option of u8
[09:20:30] <huon> of u8, or ~[u8]?
[09:20:43] <PumpMagic> kimundi: i thought the idea was to transofmr &T into ~T?
[09:20:45] <kimundi> as_bytes returns a &[u8], which is a slice, and currently a seperate thing from &T. So clone will always return another &[u8] for that
[09:20:50] <PumpMagic> sorry, ~[u8]
[09:20:51] <kimundi> PumpMagic: Nope
[09:21:11] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[09:21:20] <kimundi> PumpMagic: The idea is to turn a &T into a T: Clone has the method signature fn clone(&self) -> Self
[09:21:28] <huon> you need .to_owned() to create a ~[] from a &[]
[09:21:32] <mindcat> rusti: for x in std::iter::range_step(5, -1, -1) { print!("{} ", x) }
[09:21:32] -rusti- 5 4 3 2 1 0 ()
[09:21:48] <kimundi> PumpMagic: For slices, self is &[u8], therefore clone takes a & &[u8] and returns another &[u8]
[09:21:57] <PumpMagic> i tried to_owned, but then ran into use of moved value errors..
[09:22:02] <kimundi> PumpMagic: Long story short, you need .to_owned() for vectors
[09:22:04] <PumpMagic> i have no idea what i'm doing..
[09:22:46] <PumpMagic> that implies that to_owned steals ownership, rather than copying it
[09:22:47] *** Joins: josh (josh@moz-1163923A.meeting.ietf.org)
[09:23:07] <kimundi> to_owned does not steal ownership - it explicitly clones the elements of the slice
[09:23:22] <kimundi> however, fixing that error might have uncovered others :)
[09:23:45] <PumpMagic> to the tutorial!
[09:29:09] <PumpMagic> i have learned that assignment in rust, steals ownership. i was attempting to use x after performing y = unwrap_or(x).
[09:29:17] <PumpMagic> kimundi: huon: thanks for your patience.
[09:29:51] <kimundi> No problem. :)
[09:30:14] *** Joins: leowoe (Leo@moz-A9B5ADEC.dip0.t-ipconnect.de)
[09:32:14] *** Parts: leowoe (Leo@moz-A9B5ADEC.dip0.t-ipconnect.de) (PING 1394184745)
[09:33:06] <PumpMagic> in general, if one wants to pass the same variable to multiple functions, is one expected to create clones for each call?
[09:34:06] <huon> pass references
[09:34:10] <huon> &T rather than T
[09:34:27] <huon> unless the function would be cloning internally, in which case you do want to pass a T
[09:34:28] <kimundi> PumpMagic: Depends. For starters, not everything moves per default. ALso, you only pass by value if you want the function to take ownership of the data
[09:34:57] *** Quits: alonlevy (alon@moz-7734887A.red-80-28-217.adsl.static.ccgg.telefonica.net) (Ping timeout)
[09:35:45] <PumpMagic> so, any function can "steal" a &T if it so desires, is that right?
[09:35:50] *** Quits: josh (josh@moz-1163923A.meeting.ietf.org) (Quit: josh)
[09:35:59] <Ms2ger> No
[09:36:11] <PumpMagic> of course not
[09:36:20] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:36:54] <kimundi> PumpMagic: A &T itself is Pod - which means it doesn't move
[09:37:32] <kimundi> rusti: let x = 5; let y = &x; let z = y; println!("{:?}", (y, z));
[09:37:32] -rusti- (&5, &5)
[09:37:32] -rusti- ()
[09:37:42] *** Quits: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com) (Ping timeout)
[09:38:15] <PumpMagic> rusti: let x = 5; let y = &x; let z = y; println!("{:?}", (x, y));
[09:38:16] -rusti- <anon>:10:36: 10:37 warning: unused variable: `z`, #[warn(unused_variable)] on by default
[09:38:16] -rusti- <anon>:10         let x = 5; let y = &x; let z = y; println!("{:?}", (x, y));
[09:38:16] -rusti-                                              ^
[09:38:16] -rusti- (5, &5)
[09:38:17] -rusti- ()
[09:38:28] <kimundi> (Pod == plain old data, all types that do not have or contain a destructor, closure, or mutable reference)
[09:38:39] <kimundi> uint is also Pod
[09:38:59] <kimundi> rusti: let x = 5; (x, x, x, x)
[09:38:59] -rusti- (5, 5, 5, 5)
[09:39:04] <kimundi> rusti: let x = ~5; (x, x, x, x)
[09:39:05] -rusti- pastebinned 20 lines of output: http://sprunge.us/PBKa
[09:39:28] <PumpMagic> @_@
[09:39:47] <kimundi> Oh, wait, do you know "~" already in Rust?
[09:39:47] <huon> rusti: @_@
[09:39:47] -rusti- <anon>:10:10: 10:11 error: unexpected token: `_`
[09:39:47] -rusti- <anon>:10         @_@
[09:39:47] -rusti-                    ^
[09:39:48] -rusti- application terminated with error code 101
[09:39:56] <kimundi> rusti: 0_0
[09:39:57] <PumpMagic> lmao smartass
[09:39:57] -rusti- 0
[09:40:23] *** Joins: josh (josh@moz-1163923A.meeting.ietf.org)
[09:40:54] <PumpMagic> my understanding is that &T is a pointer to any data, without responsibility for destructing that data
[09:41:07] <kimundi> correct
[09:41:20] <PumpMagic> first thing i've got right tonight!
[09:41:30] <kimundi> the data is guaranteed to be valid and immutable during the duration that the &T exists
[09:41:32] <PumpMagic> oh, you asked about ~
[09:41:35] * Ms2ger gives PumpMagic a cookie :)
[09:41:46] <PumpMagic> you guys are too nice.
[09:42:15] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[09:42:17] <Heather> I wish I can work for some OS project too :P
[09:42:18] <PumpMagic> so ~ is the complement of &
[09:42:18] * huon takes note
[09:42:27] <huon> PumpMagic: you suck
[09:42:34] <huon> :P
[09:42:38] * kimundi slaps huon
[09:42:40] <kimundi> ;)
[09:42:43] <PumpMagic> hahah
[09:42:43] * Ms2ger whacks huon 
[09:43:20] <kimundi> PumpMagic: ~ is not really the complement of & - in fact it is nothing special at all
[09:43:26] <Ms2ger> ~T is a pointer to something you own
[09:43:52] <PumpMagic> if ~T is a pointer to something i own, and &T is a pointer to something i don't own, how are the two not complements?
[09:43:59] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[09:44:24] <kimundi> PumpMagic: T and ~T generally behave identically (the latter just always moves) - ~T is just convenient syntax for when you need a pointer
[09:44:50] <Ms2ger> &T is a pointer through which you don't own it
[09:45:11] <PumpMagic> ~T is explicitly on the heap, whereas T is on the stack, i thought?
[09:45:20] *** pmoore|away is now known as pmoore
[09:45:23] <Ms2ger> Modulo optimizations
[09:45:38] <kimundi> PumpMagic: Depends what owns the ~T and T :)
[09:45:49] <Ms2ger> That too
[09:45:52] <kimundi> Eg, ~~T vs ~T
[09:46:00] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[09:46:39] <PumpMagic> so if ~~T is a pointer owning a pointer, what is ~T?
[09:47:03] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[09:47:06] <kimundi> PumpMagic: A pointer owning a T
[09:47:08] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:47:15] <PumpMagic> AHHHhhh
[09:47:59] <PumpMagic> that helps clear things up in my head, thank you.
[09:48:16] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[09:49:16] <kimundi> PumpMagic: We only need ~T itself for two major things: Introducing owing pointer indirection in datastructures, so they don't end up infinitly sized. And owning pointer indirection for dynamically sized types like vectors or strings
[09:50:09] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[09:50:37] <kimundi> (Although the latter is technically something different atm)
[09:51:37] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[09:51:43] *** Quits: nkoep (nik@moz-B6E9B3AA.pool.mediaways.net) (Client exited)
[09:52:25] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[09:52:38] *** Joins: skade (skade@moz-96E7E015.szi.fh-jena.de)
[09:53:10] <PumpMagic> understood, i think.
[09:53:45] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Connection reset by peer)
[09:54:12] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[09:55:11] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Connection reset by peer)
[09:55:25] <PumpMagic> if i create a dyanimcally sized vector with an initially small length, then resize it to something much larger, does rust allocate a new memory block the size of the new value, or only of the difference between the old and the new values?
[09:55:25] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:55:46] <PumpMagic> less the length of some linking pointer, in the latter case
[09:55:52] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[09:56:02] <kimundi> It continuous
[09:56:38] <PumpMagic> even if other memory has been allocated for something in between the small size and the large resize?
[09:56:38] <kimundi> But it will also over reserve so that it becomes amortized O(1) push
[09:57:06] <kimundi> Well, it reallocates a new block for everthing
[09:57:34] <kimundi> But not necessarily on every push
[09:58:45] <PumpMagic> is this algorithm that earns us an amortized O(1) well-known outside of rust?
[09:59:13] <kimundi> (Btw, this part of the language is currently in a transition phase to a change to the type system around dynamically sized values like arrays - the explanation still applies, but you should use the Vec<T> type instead, as ~[T] will change)
[09:59:26] <kimundi> PumpMagic: Yes, its simple overallocating
[09:59:48] <kimundi> PumpMagic: Like reserving space for the next power of two elements for example
[09:59:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[10:00:19] <PumpMagic> i see. thanks for your patience, a lot of this is foreign for me, coming from embedded systems
[10:00:59] <kimundi> So, a vector with one element per default has a capacity of 4, so you can do three additional push without a reallocation. Once you push the fifth, it will allocate a block of 8, copy the first 4 into it, and the continue
[10:01:31] *** Joins: oxum (anonymous@AD4A5441.82050EAB.C28326FD.IP)
[10:01:56] <kimundi> PumpMagic: Heh, I expect a lot more to be familiar in that case. ;) I guess you don't deal much with higher level abstractions there?
[10:01:57] <PumpMagic> right, this is probably basic CS that i missed :)
[10:02:46] <kimundi> PumpMagic: 
[10:02:47] <PumpMagic> kimundi: exactly.. all allocation and cleanup is manual, and done in a way that uses as little space possible
[10:02:48] <kimundi> http://en.wikipedia.org/wiki/Dynamic_array
[10:03:12] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[10:03:18] <kimundi> PumpMagic: Right - in Rust we have safe abstractions around those patterns with the goal of zero overhead
[10:03:46] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[10:03:53] <kimundi> PumpMagic: For example, a ~T is really just a wrapper around two things: A malloc call in the constructor, and a free call in the destructor
[10:04:02] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[10:04:07] <kimundi> Everything else falls out of the language semantic
[10:04:14] <PumpMagic> hey, that confirms what i've been telling myself but haven't read anywhere!
[10:05:13] <kimundi> Well its not exactly implemented that way due to legacy - but is equivalent to it. You are definitely able to write a library type that mimics the behavior or ~T in exactly that way though
[10:05:19] <PumpMagic> so, this overallocation introduces overhead, doesn't it? but the idea is to strike a compromise between speed and memory usage?
[10:05:22] *** Quits: ecr (chatzilla@7C463196.5BB0586B.11F8506F.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[10:05:43] <PumpMagic> ah, okay
[10:05:46] *** Quits: skade (skade@moz-96E7E015.szi.fh-jena.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:05:53] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[10:06:39] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[10:06:47] <kimundi> PumpMagic: Right, the idea is this: If a reallocation needs N operations to copy the elements, but only needs to happen on every N-1-th push or so. Then in effect it balances out to one copy operation per push
[10:07:17] <kimundi> Even though still only happens every 2., 4. 8. etc push
[10:07:19] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[10:07:24] <Yurume> so-called "amortized" operations.
[10:07:50] <PumpMagic> understood. i'll try to leave the generic CS questions at that, and enjoy some quality wikipedia reading tonight.
[10:07:56] <bollu_> kimundi: most languages implement dynamically sized arrays that way yes?
[10:08:08] <Yurume> there are many other similar strategies (e.g. reallocate by a factor of 4/3 etc.)
[10:08:21] <kimundi> bollu_: I know to few languages at heart to be able to answer that. :)
[10:08:24] <bollu_> I think even K&R do it that way in the appendix section - don't remember, read it a long time ago
[10:08:26] <bollu_> :)
[10:08:26] *** YourBestFriend is now known as sam113101_afk
[10:08:39] *** Joins: darthdeus (darthdeus@4ED9BEAC.7D4E3986.4E88690D.IP)
[10:08:48] <bollu_> AFAIK, C++ does the same thing, and I /think/ python lists are the same
[10:08:55] <kimundi> Rust is the only language that I _Really_ have deep understanding of... Which is weird if I think about it
[10:09:11] *** Joins: patpat (patpat@2236FB62.D798B35A.98F3E2B5.IP)
[10:09:19] *** Quits: thesnowdog (doug@D79E132C.11882795.6F17036B.IP) (Connection reset by peer)
[10:09:24] <bollu_> and I'm pretty sure K&R also uses the same strategy while showing how to implement a dynamically sized array
[10:09:33] * kimundi could not write a short C or C++ program if his live dependented on it
[10:09:56] <bollu_> kimundi: I want to understand a language completely :) (other than C and LISP which are both simple)
[10:10:07] <bollu_> and C has some dark corners that I have no idea about
[10:10:08] *** sam113101_afk is now known as YourBestFriend
[10:10:20] <bollu_> LISP is just.. simplicity so I doubt it counts
[10:10:57] <bollu_> kimundi: I'm not sure, but I think it's if his *life* depended on it.
[10:11:43] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[10:12:13] <TheHydroImpulse> Anybody else have a  "73:34 error: can't find crate for `rustuv`" error? (Fresh rebase)
[10:13:02] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[10:13:13] <kimundi> TheHydroImpulse: Hm, did you reconfigure?
[10:13:30] <TheHydroImpulse> Yup
[10:13:37] <TheHydroImpulse> I'll try it again
[10:13:40] *** Quits: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[10:14:03] <bollu_> kimundi: what's reconfigure? is it a git thing?
[10:14:18] <kimundi> bollu_: running ./configure again
[10:14:33] *** Joins: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP)
[10:15:37] *** cmr is now known as unsafe
[10:15:39] <bollu_> ah :)
[10:16:08] <bollu_> kimundi: that picks up on libraries and tools right?
[10:16:14] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[10:16:16] *** unsafe is now known as cmr
[10:16:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:17:17] <kimundi> bollu_: RIght, downloads the snapshot, checkouts git submodules, checks if everything neceessary is installed, generates the newest makefile etc
[10:18:02] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[10:18:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[10:23:32] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[10:24:55] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[10:25:08] *** YourBestFriend is now known as sam113101_afk
[10:25:34] *** sam113101_afk is now known as YourBestFriend
[10:25:56] *** Quits: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch) (Quit: )
[10:26:02] *** Joins: smarter (smarter@moz-6A5ADB30.cust.bluewin.ch)
[10:26:26] *** YourBestFriend is now known as sam113101_afk
[10:26:44] *** sam113101_afk is now known as YourBestFriend
[10:28:03] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[10:28:21] *** Joins: skade (skade@moz-96E7E015.szi.fh-jena.de)
[10:29:51] <TheHydroImpulse> kimundi Tried 3 times and same error.
[10:30:10] <kimundi> hm
[10:30:11] <TheHydroImpulse> kinda weird
[10:31:36] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[10:31:46] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:32:23] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Ping timeout)
[10:35:37] <TheHydroImpulse> I'm guessing it's my setup and nobody else is getting this error?
[10:36:58] <bollu_> TheHydroImpulse: this probably won't work and is stupid, but try make clean and also remove the CMakeCache files
[10:38:12] *** Joins: mye (mye@moz-112E2766.dip0.t-ipconnect.de)
[10:38:23] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[10:38:36] <TheHydroImpulse> bollu_ I'll try a make clean, thanks
[10:39:51] <TheHydroImpulse> Anyways, I'll leave it running and hopefully it'll work. Thanks
[10:39:57] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[10:42:35] *** Quits: skade (skade@moz-96E7E015.szi.fh-jena.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:42:45] *** Quits: oxum (anonymous@AD4A5441.82050EAB.C28326FD.IP) (Quit: ...)
[10:44:03] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[10:44:29] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[10:45:34] *** Quits: josh (josh@moz-1163923A.meeting.ietf.org) (Quit: josh)
[10:45:44] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[10:47:27] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:50:32] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:51:24] *** Joins: josh (josh@moz-1163923A.meeting.ietf.org)
[10:52:18] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[10:54:11] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[10:54:50] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[10:55:23] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[10:56:30] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[10:59:46] *** Joins: Rui (rui@A7281A7B.962C7E8.F44582AE.IP)
[11:00:38] <kimundi> Does anyone here know if it is possible to have a macro expand to a method call?
[11:00:46] <kimundi> Like tmp.$call
[11:00:48] <huon> yes
[11:00:55] <huon> if call is an ident
[11:01:38] <kimundi> Hm, right I guess I should not make it a expression... silly me
[11:03:02] *** Joins: NiccosSystem2 (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[11:03:05] *** Quits: josh (josh@moz-1163923A.meeting.ietf.org) (Quit: josh)
[11:03:53] <huon> (you'll need to supply the () and any args inside the macro expansion too)
[11:04:19] <kimundi> yeah, I shortly had hoped I wouldn'T have to recreate method call grammar from scratch :P
[11:04:49] <kimundi> "$call:ident($($e:expr),*))" and "$call:ident ::<$($t:ty),*>($($e:expr),*))" should cover everything, right?
[11:04:55] <huon> $call: ident($($arg: expr),*)
[11:05:03] <huon> oh ... yes
[11:06:09] <kimundi> Heh, I think I have found a worthwhile macro addition for the stdlib
[11:06:32] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[11:06:39] *** Quits: NiccosSystem2 (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Bye)
[11:06:51] <huon> ?
[11:07:03] <huon> method_call!(x.foo(bar, baz))
[11:07:05] <huon> :P
[11:07:40] *** Quits: sunng (nsun@828FDBD8.D0F00681.BEC48A72.IP) (Ping timeout)
[11:08:43] <kimundi> We currently have vec::append_one as wrapper around something that does {let mut = vec; vec.push(e); vec} internally. I was removing theses append functions, and then I thought "Hm, these exist to allow a more functional style of mutating values, by turning mutation into consume and return. I wonder if I can abstract this with a macro"
[11:09:37] <kimundi> How does "let x = fmutate!(x after push(50));" sound as generalization of "let x = vec::append_one(x, 50);" ?
[11:11:03] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[11:13:19] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:14:39] *** Joins: oxum (anonymous@2EA69919.88326D41.520CDC98.IP)
[11:14:48] <kimundi> huon, eddyb what do you think about this? :)
[11:15:07] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:16:01] <eddyb> kimundi: there's a better way to do this, I think
[11:16:21] <eddyb> x.{push(50)}
[11:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:16:27] <eddyb> maybe another dot inside, not sure
[11:16:35] <eddyb> I know this was thrown around ES6
[11:17:04] <huon> eddyb: why is that better?
[11:17:07] <kimundi> Well, syntax is interchangeable, I mean in general.
[11:17:08] <huon> kimundi: seems reasonable to me
[11:17:23] <eddyb> huon: just that "after" is bugging me a bit :P
[11:17:32] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:17:53] <kimundi> "with", "->"?
[11:17:59] <eddyb> -> is cool
[11:18:04] <eddyb> kimundi: if you can chain things like jQuery without returning self, now that's what something to impress me
[11:18:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:18:16] <kimundi> eddyb: Example?
[11:18:35] <kimundi> ah, you mean like Darts ..foo() ..bar() ?
[11:18:44] <eddyb> do!{x->push(50)->unshift(20)->shrink_to_fit()}
[11:19:04] <kimundi> that... should be trivially extendable
[11:19:10] <eddyb> something crazy like that requiring each step to return () or something
[11:19:17] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:19:55] <eddyb> maybe mix it with monadic operations for Option, I'm not sure how that actually works
[11:20:27] *** Quits: dranov (dranov@1BD3979F.857BF9F5.A5830293.IP) (Client exited)
[11:20:41] <eddyb> huon: about earlier, I've seen theoretical syntax along the lines of obj.{x = x, y = y, z = z} to easily set a bunch of properties
[11:20:55] <eddyb> and/or call methods
[11:23:44] *** Joins: dranov (dranov@1BD3979F.857BF9F5.A5830293.IP)
[11:23:52] <kimundi> eddyb: heh, works perfectly
[11:24:16] <kimundi> eddyb, huon: https://gist.github.com/Kimundi/9409851
[11:24:28] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[11:24:39] <eddyb> lol
[11:24:53] <eddyb> kimundi: now use ->
[11:25:06] <eddyb> and make it work with Option
[11:25:13] <eddyb> and rename it do
[11:25:21] <kimundi> And change the whole semantic?
[11:25:30] <eddyb> use both semantics
[11:25:36] <eddyb> the more Haskell confusion, the better!
[11:25:46] * kimundi is not sure how to take that :P
[11:25:54] <Ms2ger> As trolling
[11:26:12] * eddyb should read up on do and Maybe
[11:26:29] <eddyb> kimundi: maybe you can use different notations for both, inside a common do block
[11:26:39] <eddyb> s/both/each
[11:26:45] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[11:26:59] <kimundi> No, but seriously, is that syntax/macro useful?
[11:27:17] <eddyb> yupp
[11:27:26] <kimundi> And I'm not sure how this is combineable with a monadic do sugar
[11:27:37] <eddyb> you can use set_foo methods like the builder pattern
[11:27:47] <eddyb> without going through the trouble of writing a builder
[11:28:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[11:28:48] *** Quits: Ferreus (ferreus@moz-2C3F5191.dip0.t-ipconnect.de) (Ping timeout)
[11:29:15] *** Quits: benjamin_ (benjamin@moz-54AD0580.dip0.t-ipconnect.de) (Ping timeout)
[11:29:27] *** Quits: mye (mye@moz-112E2766.dip0.t-ipconnect.de) (Ping timeout)
[11:29:36] * kimundi should write more tests for this, to test it for its usefullness
[11:30:19] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[11:30:27] <kimundi> This quickly evolves from a short macro hack for removing legacy functions to something definitly requiring its own PR :P
[11:30:43] *** nical is now known as nical|lunch
[11:32:18] *** Joins: mye (mye@moz-92FD1060.dip0.t-ipconnect.de)
[11:33:14] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:34:38] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:35:33] *** Joins: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP)
[11:37:13] *** Quits: Rui (rui@A7281A7B.962C7E8.F44582AE.IP) (Client exited)
[11:37:36] *** Joins: Rui (rui@A7281A7B.962C7E8.F44582AE.IP)
[11:39:15] *** Quits: Rui (rui@A7281A7B.962C7E8.F44582AE.IP) (Ping timeout)
[11:39:33] *** Joins: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP)
[11:40:15] *** Quits: dranov (dranov@1BD3979F.857BF9F5.A5830293.IP) (Client exited)
[11:40:45] *** Quits: ecl3ctic (ecl3ctic@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: Leaving)
[11:41:22] *** Joins: eibwen (kvirc@moz-C9034F51.dip0.t-ipconnect.de)
[11:41:41] *** Quits: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th) (Ping timeout)
[11:43:34] <bollu_> kimundi: can you use fmutate along with loops? so can I do something like - fmutate!(procedurallyGeneratedLevel .. for tile in generatedTiles { push(tile) })
[11:43:38] <bollu_> for funsies?
[11:43:47] *** Joins: Ferreus (ferreus@moz-54DD6BA7.dip0.t-ipconnect.de)
[11:44:15] <kimundi> bollu_: That sounds like going a step to far to me ;)
[11:45:13] <bollu_> kimundi: think of the awesomeness :)
[11:45:42] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[11:46:25] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[11:47:01] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[11:47:15] *** Joins: josh (josh@moz-1163923A.meeting.ietf.org)
[11:49:06] *** Joins: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP)
[11:49:14] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:49:57] <bollu_> kimundi: I'm not sure I understood it right
[11:50:20] <bollu_> you're writing the macro to prevent side effects?
[11:50:24] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[11:50:55] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[11:51:16] <kimundi> bollu_: No, I'm writing a macro to hide ugly syntax :)
[11:51:33] <bollu_> or to allow one to mutate a non-mutable type by borrowing as mutable and then modifying? 
[11:51:40] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:51:44] <bollu_> kimundi: link to the file in question?
[11:52:04] <kimundi> bollu_: Which file?
[11:52:23] <bollu_> which you're trying to hide ugly syntax in :)
[11:52:41] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[11:52:42] <kimundi> I'm trying to remove vec::append_one without loosing the reason why it exists
[11:52:55] *** Quits: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net) (Ping timeout)
[11:53:27] <bollu_> ah, to chain 
[11:53:39] *** Joins: dranov (dranov@1BD3979F.857BF9F5.A5830293.IP)
[11:53:41] <bollu_> so your macro is purely to allow chaining?
[11:54:11] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[11:54:16] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[11:54:51] <kimundi> For example, if you have a vector of type ~[T], and want to add one element at the end, then there are generally two possibility how to do this: take the ~[T] by value, append to it, and return a new ~[T] with the value appended, _or_ take a &mut~[T] and modify the ~[T] directly. The latter is the way we mostly work in Rust, while the former is what append_one does
[11:55:35] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[11:55:37] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[11:55:48] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[11:55:55] <kimundi> The macro simply takes the syntax transformation that append_one uses to turn the first into the second, and gneralizes it for arbitrary method calls. Being able to chain methods that way is just icing on the cake
[11:56:08] *** Joins: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th)
[11:57:16] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[11:58:40] <Ms2ger> The former sounds somewhat painful
[11:58:54] <kimundi> Ms2ger: Well, its how its done in, eg, haskell
[11:59:05] <kimundi> If everything is immutable, its the only way
[11:59:07] *** Joins: ganitsu (ganitsu@moz-43D7A305.dialup.adsl.anteldata.net.uy)
[11:59:23] <Ms2ger> I'm not going to say anything about haskell :)
[11:59:42] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[12:00:04] *** Joins: novabyte (novabyte@C3D050EC.6035C672.1A294DCF.IP)
[12:00:11] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[12:00:20] <kimundi> Anyway, I'm writing this macro because append_one and similar seems to have a few good places to be used, that would become uglier with the manual desugaring into mutate
[12:00:50] *** Quits: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP) (Ping timeout)
[12:00:58] <kimundi> Example from one of the uses:
[12:00:59] <kimundi> fn maybe_append(lhs: Vec<Attribute> , rhs: Option<Vec<Attribute> >) -> Vec<Attribute> {
[12:01:00] <kimundi>     match rhs {
[12:01:00] <kimundi>         None => lhs,
[12:01:00] <kimundi>         Some(ref attrs) => vec_ng::append(lhs, attrs.as_slice())
[12:01:00] <kimundi>     }
[12:01:00] <kimundi> }
[12:01:06] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[12:01:24] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[12:01:28] <bollu_> kimundi: as_slice() ?
[12:01:32] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[12:01:32] *** ChanServ sets mode: +o acrichto
[12:01:54] <kimundi> granted, the function itself might need refactoring too, but I'm not starting a bottom-up refactoring of libsyntaxes parser here :P
[12:02:23] *** Quits: josh (josh@moz-1163923A.meeting.ietf.org) (Quit: josh)
[12:02:30] <kimundi> bollu_: append() takes a slice as second argument, and clones everything in it... Its kinda a bad append_many
[12:03:00] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[12:03:34] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:04:53] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:05:06] <bollu_> ah, okay,
[12:05:24] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:05:42] <bollu_> the whole option() thing would be neat if there was a monad like (bind i think it was called?) operator
[12:05:57] *** Quits: patpat (patpat@2236FB62.D798B35A.98F3E2B5.IP) (Ping timeout)
[12:06:18] <bollu_> the >>==
[12:09:24] *** Quits: PumpMagic (PumpMagic@moz-3DECE8DF.hsd1.ca.comcast.net) (Quit: Leaving)
[12:09:30] *** Quits: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP) (Quit: Yaaic - Yet another Android IRC client - http://www.yaaic.org)
[12:09:30] <kimundi> thats literally the and_then method - but yeah some kind of sugar would be nice, but as long as we don't have HKT its not general enough
[12:10:06] <eddyb> kimundi: doesn't have to be that general
[12:10:20] *** Joins: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP)
[12:10:27] <eddyb> as long you have the methods with the right names, you can make a macro for it
[12:10:36] *** Joins: gimpf (gimpf@moz-3BA815CB.adsl.highway.telekom.at)
[12:10:41] <kimundi> yeah
[12:10:48] <eddyb> kimundi: I wonder how weird a monadic Result would end up looking
[12:11:13] <eddyb> instead of the current try!
[12:11:21] <kimundi> Probably as weird as the Either monad
[12:11:28] <kimundi> which I think haskell has :P
[12:11:59] <bollu_> what does the Either monad do? haven't seen it
[12:12:50] <eddyb> what does do do?
[12:13:01] <huon> desugars to >>=
[12:13:06] <eddyb> it becomes extinct
[12:13:08] <huon> it's really simple too
[12:13:14] <eddyb> huon: ruined it :/
[12:13:18] <bollu_> :)
[12:13:22] <bollu_> ty huon
[12:13:30] * kimundi slaps eddyb and WHOOSHes huon 
[12:13:42] * huon is good at getting missing jokes
[12:13:47] <bollu_> eddyb: I haven't used do yet! so don't ask me that question :D
[12:13:59] <huon> bollu_: the Either monad is like Option but with information in the None
[12:14:12] <eddyb> does do + Either work like our try?
[12:14:20] <bollu_> huon: ah. that's actually really useful.
[12:14:23] <huon> i.e. Err/Left shortcircuits, Right/Ok is passed on
[12:14:25] *** Quits: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP) (Connection reset by peer)
[12:14:28] <huon> eddyb: yes
[12:14:30] <eddyb> nice
[12:14:42] <eddyb> do we have and_then on Result?
[12:14:45] <huon> yes
[12:14:54] <eddyb> so... where is our do!?
[12:15:10] <eddyb> can you name a macro a reserved keyword?
[12:15:12] <huon> no
[12:15:27] <eddyb> rustilite: #[feature(macro_rules)]; macro_rules! do ()
[12:15:28] <bollu_> eddyb: I meant I haven't used do in rust. were you asking in tems of haskell? I feel stupid now >_<;
[12:15:28] -rustilite- <anon>:1:39: 1:41 error: `do` is a reserved keyword
[12:15:28] -rustilite- <anon>:1 #[feature(macro_rules)]; macro_rules! do ()
[12:15:28] -rustilite-                                                ^~
[12:15:28] -rustilite- application terminated with error code 101
[12:15:35] <eddyb> :(
[12:15:42] <eddyb> can we make an exception for macros?
[12:15:51] *** jorendorff_away is now known as jorendorff
[12:15:59] <huon> or just give it a different name :P
[12:16:00] <eddyb> if!{ else }
[12:16:08] <huon> or have `do` built in like haskell
[12:16:11] <huon> now that we have new do
[12:16:16] <huon> *option for new do
[12:16:22] <eddyb> bollu_: I was making a funneh
[12:16:42] <bollu_> eddyb: ah, okay :)
[12:16:52] <eddyb> huon: but people will complain if it's not using HKT
[12:17:02] <eddyb> which we want to add anyways
[12:17:12] <bollu_> Arrows, or Freyd-categories, are a generalization of Monads. <- what the hell, how have I not heard of these? O_O
[12:17:23] <huon> it's not clear to me that HKT will fit into the type system correctly.sanely
[12:17:30] <huon> bollu_: use more Haskell :P
[12:17:40] <eddyb> huon: I want Foo<T, U><A, B><C, D>
[12:17:48] <bollu_> huon: a wise sugestion, but an insanely time consuming one
[12:17:49] <huon> (although I haven't heard of Freyd-categories...)
[12:17:50] <eddyb> huon: i.e. each of those is a "tier"
[12:17:55] <bollu_> I can't even comiple haskell half the time
[12:18:00] <huon> eddyb: that doesn't necessarily work
[12:18:05] <huon> bollu_: compile haskell??
[12:18:14] <eddyb> huon: it can be implemented
[12:18:15] <huon> i.e. compile GHC from scratch?
[12:18:18] <bollu_> as in, run the damn program. sorry, bad language
[12:18:31] <huon> eddyb: doesn't mean it works with our typesystem
[12:18:31] <bollu_> it keeps complaining 
[12:18:44] <eddyb> huon: it works better than currying HKT
[12:18:45] <huon> ("works" includes "don't being dependent types")
[12:18:53] <huon> *not
[12:18:57] * huon tired
[12:19:00] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:19:05] <bollu_> HKT = higher kind types?
[12:19:09] <huon> yes
[12:19:17] <huon> eddyb: that's not clear to me either :P
[12:19:19] <eddyb> huon: we already have type "functions"
[12:19:28] <eddyb> and almost lambdas
[12:19:31] <huon> in what way?
[12:19:37] <eddyb> we have lifetime lambdas
[12:19:47] <huon> do they actually work?
[12:19:57] <bollu_> huon: ELI5 on HKT?
[12:20:04] <eddyb> huon: I was amazed. there's one in trans_closure
[12:20:09] <huon> note that lifetimes have no effect on code-gen 
[12:20:22] <eddyb> but we have the syntax
[12:20:31] <huon> bollu_: basically first-class functions for types
[12:20:42] <eddyb> <'a> |&'a X| -> &'a Y
[12:20:50] <huon> like if you have fn sin(x: f64) -> f64 { ... } then you can pass around `sin` as a value
[12:21:00] <bollu_> huon: first class types or first class /functions/ for types?
[12:21:09] <huon> if you have `struct Foo<T>` then you can pass around `Foo` as an (almost) type
[12:21:39] *** Joins: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP)
[12:21:48] <huon> i.e. Foo becomes a function mapping a concrete type T to another concrete type (denoted `Foo<T>`)
[12:22:00] <eddyb> IoResult is a type constructor
[12:22:04] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:22:14] <eddyb> type Foo<T> = IoResult; is a HKT
[12:22:18] <eddyb> Foo<T><U>
[12:22:24] <rcxdude> is there any particular reason why I can't do type foo = [u8] and then only use ~foo and &foo, other than the compiler doesn't support it currently?
[12:22:34] <huon> rcxdude: no
[12:22:35] <eddyb> currying just complicates things
[12:22:36] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[12:22:38] <bollu_> huon: the sin() example - that's just a first class function right? ; and the struct Foo thing sounds ... i'm not sure I even understood
[12:22:49] <huon> eddyb: how is <> any different from verbose currying?
[12:22:51] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:23:03] <eddyb> huon: <A, B, C> vs <A><B, C>
[12:23:07] <huon> bollu_: it's exactly the same, but at the type level
[12:23:16] <bollu_> eddyb: is it called currying in honor of the Curry–Howard correspondence?
[12:23:22] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:23:27] <eddyb> huon: each of those <> is a kind tier or whatever they're called
[12:23:32] <huon> bollu_: `sin(x)` is a concrete value, `sin` is a function mapping concrete values to concrete values
[12:23:40] <eddyb> huon: with currying, you can't really have default type params or variadic ones
[12:23:41] <huon> (and `x` is one too)
[12:23:45] <kimundi> rcxdude: Right now, [T] is not a type at all in Rusts typesystem. But there are changes planned which would allow you to do just that
[12:23:47] <bollu_> huon: yep, so you're passing the function around right?
[12:23:59] <bollu_> so that makes it "first class"
[12:24:01] <huon> bollu_: T and Foo<T> are cocrete types, `Foo` is a "function" mapping concrete types to concrete types
[12:24:11] <kimundi> rcxdude: Under these changes, str could become struct str { priv bytes: [u8] } for example
[12:24:43] <bollu_> hmm. huon: uses? 
[12:24:51] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[12:25:01] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[12:25:03] <bollu_> I can see it being used to write something like an abstractFactory
[12:25:11] <huon> bollu_: expressing things like functors, monads, arrows
[12:25:19] <bollu_> at least, I think so. not sure I understood it fully
[12:25:23] <huon> i.e. abstracting over things
[12:25:37] <eddyb> type HashMapWithHasher<Hasher><K, V> = HashMap<K, V, Hasher>; now you can do type NodeHashMap = HashMapWithHasher<NodeHasher>;
[12:25:49] <eddyb> ^^ that makes sense to me
[12:25:58] <bollu_> huon, eddyb: isn't that what generics + traits is supposed to solve?
[12:26:09] <huon> bollu_: more abstractions
[12:26:14] <eddyb> traits can't be higher kinded right now
[12:26:19] <eddyb> you can't implement a trait for Option
[12:26:24] <eddyb> only for Option<T>
[12:26:50] <bollu_> eddyb: yeah, that made sense. so it's like you're partially specializing the HashMap ? 
[12:26:54] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[12:26:59] <huon> parametrically asserting that certain "container" types satisfy properties without actually knowing what they are "Storing"
[12:27:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[12:27:08] <eddyb> bollu_: yeah, kinda like currying, but more flexible
[12:27:23] <bollu_> eddyb: what would an impl of the trait on Option look like?
[12:27:26] *** Quits: Ms2ger (Ms2ger@60B493FD.C305EAEC.F15B0BB3.IP) (Quit: bbl)
[12:27:32] *** Quits: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP) (Ping timeout)
[12:27:40] <eddyb> trait<T> Map {fn map<T, U>(Self<T>, |T| -> U) -> Self<U>;}
[12:27:45] <bollu_> I'm sorry for asking you guys so many questions :)
[12:28:33] <bollu_> eddyb: how did you bring U in there?
[12:28:34] <eddyb> impl Map for Option {fn map<T, U>(self: Option<T>, f: |T| -> U) -> Option<U> {match self {Some(x) => Some(f(x)), None => None}}}
[12:28:38] <kimundi> bollu_: No problem, its only because the mass of people asking theses questions in #rust that I understood HKT at all :)
[12:28:53] <eddyb> bollu_: sorry, the outer T shouldn't be visible
[12:29:01] <eddyb> it's more like trait<*> Map {...
[12:29:04] <bollu_> and how is it different from C++ templates?
[12:29:06] <eddyb> it's not a generic trait
[12:29:12] <eddyb> bollu_: C++ has HKT
[12:29:15] <bollu_> like, I think you can replicate the same thing
[12:29:19] <eddyb> it's a higher kinded trait
[12:29:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[12:29:35] <eddyb> bollu_: but C++ doesn't have type classes so it doesn't need any of this
[12:29:37] <bollu_> eddyb: wait, which part of C++ ? C++'s template system?
[12:29:38] <huon> C++ templates are just pattern matching at the type level and are philosophically very different to this
[12:29:59] *** Joins: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP)
[12:30:04] <huon> C++ does not have parametric polymorphism
[12:30:11] <eddyb> bollu_: yeah you can do template<typename<typename> Self> and then Self<T> and Self<U>
[12:30:14] <huon> at least, not without concepts
[12:30:43] <eddyb> bollu_: I had to find out from Rust that C++ has HKT... that language is full of wonders
[12:31:00] <bollu_> huon: ah, I was looking for something fundamentally different and I kept seeing C++ like code :) so, it's not possible to do this in rust because rust expects a trait whenever it uses a generic?
[12:31:20] <eddyb> to call methods and whatnot
[12:31:34] <eddyb> trait<*> Map {...}
[12:31:48] <eddyb> can't help but notice how alien-ish that <*> looks
[12:31:56] <eddyb> cyclops cyborg spider?
[12:32:05] <bollu_> and now by using HKT (as far as I understand it, types become first class), you can just say Map(//take two types } 
[12:32:11] <kimundi> ::<~[*]>
[12:32:13] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[12:32:28] <bollu_> before, the map wasn't possible because types were not first-class and thus could not be passed like that
[12:32:31] <bollu_> correct?
[12:32:45] <eddyb> bollu_: you can't write the trait today
[12:32:58] <eddyb> well, you kinda can, with the HKT transform
[12:33:04] <eddyb> but it's not closed
[12:33:11] <bollu_> eddyb: lie to me to get me closer to the truth :)
[12:33:15] <bollu_> don't dump everyhing ;)
[12:33:18] <eddyb> pffft
[12:33:20] *** Quits: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP) (Ping timeout)
[12:33:43] <bollu_> okay, so you can't do it right now because you can't pass types into the map correct?
[12:33:51] <eddyb> bollu_: you can't currently have a trait where you have access to a generic implementor type
[12:33:52] <huon> bollu_: it's not the fact that Rust has traits that stops Rust from doing HKT
[12:33:53] <eddyb> implementee?
[12:34:13] *** Quits: kvanb (kvanb@moz-4668D22.lnse2.lon.bigpond.net.au) (Ping timeout)
[12:34:14] *** Quits: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th) (Ping timeout)
[12:34:21] <eddyb> bollu_: yeah, Self in a trait is a concrete type, can't be generic now
[12:34:25] <huon> e.g. Haskell has traits (in the form of type classes) and it manages very well with HKT
[12:34:29] <bollu_> huon: it's the fact that it __needs__ a trait to do anything with a generic that's blocking it right?
[12:34:43] <huon> not quite
[12:34:57] <huon> well...
[12:34:57] <eddyb> at most you can do trait Map<T, U, SelfU> {fn map(self, |T| -> U) -> SelfU;}
[12:35:15] <huon> it's essentially orthogonal to traits
[12:35:16] <eddyb> but nothing guarantees that Self is Type<T> and SelfU is Type<U>
[12:35:25] <eddyb> so it's not closed
[12:35:34] <huon> the rust type system can't model a partially applied type/type function.
[12:35:37] <huon> that's all
[12:35:44] <bollu_> by "closed" you mean "verifiable at compile time" ?
[12:35:51] <eddyb> no
[12:35:57] *** Quits: darthdeus (darthdeus@4ED9BEAC.7D4E3986.4E88690D.IP) (Ping timeout)
[12:35:57] <kimundi> yes?
[12:36:04] *** Joins: kvanb (kvanb@moz-2393B229.lnse5.lon.bigpond.net.au)
[12:36:10] <eddyb> not sure what I mean actually
[12:36:13] *** nical|lunch is now known as nical
[12:36:18] <huon> you do happen to need a trait to do anything useful with a HKT, but that's only semi related to HKT :P
[12:36:33] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[12:36:33] <huon> (you need a trait to anything useful with any generics, not just HKTs)
[12:36:39] <eddyb> bollu_: it doesn't prevent anyone from implementing Map<T, U, Option<T>> for Option<U> (i.e. backwards)
[12:36:51] <eddyb> bollu_: that's not a safety hazard
[12:37:00] <huon> inference fell done last time I tried that, btw
[12:37:03] <eddyb> just an abstraction with too many hinges
[12:37:04] <bollu_> eddyb: where Map is a trait correct?
[12:37:05] <huon> *down
[12:37:11] <eddyb> bollu_: yeah
[12:37:21] <bollu_> so the problem is.. ?
[12:37:33] <bollu_> like, contrast both for me please :)
[12:37:51] <eddyb> Map<T, U, SelfU> for SelfT
[12:37:59] <huon> you're not expressing the guarantees that you want to express
[12:38:00] <eddyb> and Map for Self (where Self is a generic type)
[12:38:02] <huon> that's the point of a trait
[12:38:18] <eddyb> bollu_: see the contrast?
[12:38:19] <huon> with HKT you can guarantee that a trait impl doens't look to closely at its contents
[12:38:25] <eddyb> 4 types vs a generic one
[12:38:42] <eddyb> (and you want the latter)
[12:38:54] <eddyb> the HKT transform is cool when you need it and don't have HKT
[12:38:59] <eddyb> or associated items
[12:39:07] <eddyb> but it's still a hack
[12:39:17] <huon> and doesn't work properly
[12:39:28] <eddyb> huon: with our coherence?
[12:39:36] <huon> with our inference
[12:39:39] <eddyb> ahh
[12:39:44] <huon> also, writing out any generic signatures with that is *horrible*
[12:39:44] <eddyb> possibly
[12:39:48] <eddyb> hehe yeah
[12:39:54] <eddyb> need to spell out everything before it
[12:40:08] *** jorendorff is now known as jorendorff_away
[12:40:12] <bollu_> so with HKT it doesn't care /what/ SelfU is or /what/ SelfT is - is that the point? if not, i'm an idiot >_<
[12:40:41] <eddyb> bollu_: it constructs those itself using a generic Self type
[12:40:46] <eddyb> they can't be wrong then
[12:40:57] <huon> bollu_: frankly I think "what use is HKT?" is best answered by "what use are first class functions?"
[12:41:04] <eddyb> hehe
[12:41:08] <eddyb> huon: JavaScript!
[12:41:20] <huon> eh?
[12:41:35] <bollu_> huon: use first class functions to compose functions together
[12:41:50] <huon> use HKT to compose types together
[12:41:58] <eddyb> huon: you can implement objects in JS with functions
[12:42:06] <huon> eddyb: .... so?
[12:42:09] <eddyb> they're like a building block
[12:42:15] <huon> that's not the first class function I was meaning at all
[12:42:16] <eddyb> not just first-class
[12:42:25] <eddyb> so that's what first-class functions remind me of >_>
[12:42:39] <huon> fn foo(f: fn(int)) // first class function
[12:42:42] <huon> aka function pointers
[12:42:54] <eddyb> though Haskell's "everything is a function" is also up there
[12:42:58] <bollu_> huon: have any other example for HKT that uses only *one* type?
[12:42:59] <huon> and wrong
[12:43:10] <eddyb> huon: maybe I should say "first class stack"?
[12:43:10] <huon> 1 is definitely not a function in Haskell
[12:44:24] <eddyb> function const(x) {return function(){return x;};}
[12:44:32] <eddyb> it's a shame it has such a verbose syntax
[12:45:09] <huon> `var const = x => () => x;` ;P
[12:45:18] <eddyb> yeah, ES6
[12:45:42] <eddyb> I know it can be overused... but it's fascinating
[12:46:23] <bollu_> is a functor a HKT?
[12:46:27] <huon> yes
[12:46:38] *** Quits: relrod (relrod@moz-AABB5D31.redhat.com) (Ping timeout)
[12:46:55] <bollu_> because it abstracts the act of calling a function from the types themselves correct?
[12:47:01] <huon> class Functor f where fmap :: (a -> b) -> f a -> f b
[12:47:08] *** Quits: drbawb (drbawb@moz-444F91EA.wi.res.rr.com) (Ping timeout)
[12:47:16] <huon> it lifts a normal function into a function acting through the functor `f`
[12:47:21] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[12:47:21] *** Quits: santiago (santiago@moz-69361A64.socal.res.rr.com) (Ping timeout)
[12:47:34] <eddyb> huon: the Map trait above?
[12:47:39] *** Joins: drbawb (drbawb@moz-444F91EA.wi.res.rr.com)
[12:47:42] <huon> yes
[12:47:52] *** Joins: santiago (santiago@moz-69361A64.socal.res.rr.com)
[12:47:56] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[12:48:20] *** Joins: relrod (relrod@moz-AABB5D31.redhat.com)
[12:48:30] *** Joins: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th)
[12:48:32] <eddyb> function count() {fn helper() {return count.call(helper);} helper.value = (this.value || 0) + 1; return helper;}
[12:48:48] <eddyb> now you can count()()()().value == 3
[12:49:25] <eddyb> you can't do this in a statically typed language, AFAIK
[12:49:55] <eddyb> it's kinda like variadic currying (and yeah, you can do that too in JS if that tickles your fancy)
[12:50:08] <eddyb> s/kinda like/
[12:50:10] <huon> why can't you do that in a statically typed language?
[12:50:17] <eddyb> describe the type of count
[12:50:37] <bollu_> huon: fn Equals<T>(T a, T b) { a == b } //HKT?
[12:50:42] <huon> fn count<C: Count>() -> C { ... }
[12:50:46] <huon> bollu_: no
[12:50:49] <huon> just generics
[12:50:50] <bollu_> why not?
[12:50:57] <bollu_> hm
[12:51:00] <huon> because you're not applying "type functions"
[12:51:14] <eddyb> huon: now you have to specify the depth the first time you call it
[12:51:33] <huon> eddyb: yes, it couldn't be completely dynamic
[12:51:39] <eddyb> maaaaybe
[12:51:47] <eddyb> trait Count: Fn<~Count> {...}
[12:51:49] <huon> it's how haskell implements printf
[12:52:16] <eddyb> turns out it is possible in a statically typed language
[12:52:16] <huon> what about an object with a .value property that implements operator()?
[12:52:34] <eddyb> as long as the compiler doesn't explode at that definition
[12:52:48] *** Joins: benjamin_ (benjamin@moz-54AD0580.dip0.t-ipconnect.de)
[12:52:59] <eddyb> huon: what does it return... oh, itself. am I that dumb?
[12:53:28] <bollu_> huon: simplest example of a type function?
[12:53:36] <huon> struct Foo<T>;
[12:53:51] <eddyb> huon: but I was thinking of something like ~Fn
[12:53:55] <bollu_> how is it a "function" ?
[12:54:01] *** Joins: asmyers (quassel@3774E002.9A737B8F.FAA4474F.IP)
[12:54:02] <eddyb> Foo is a function
[12:54:08] <eddyb> Foo<int> is a function application
[12:54:11] <bollu_> so why the struct? ;_;
[12:54:14] <eddyb> with int as an argument
[12:54:21] <eddyb> bollu_: because it's the simplest type in Rust?
[12:54:22] <huon> to declare a type
[12:54:25] <huon> a generic type
[12:54:51] <eddyb> rusti: struct Counter {value: uint} impl Counter {fn call(self) -> Counter {Counter {value: self.value}}} fn count(){Counter{value: 0}} count().call().call().call().value == 3
[12:54:52] -rusti- pastebinned 8 lines of output: http://sprunge.us/SAPc
[12:54:53] <huon> functions mapping types to types are also called just "generic types"
[12:54:56] <bollu_> and this is different from the current generics because it doesn't use a trait?
[12:55:05] <huon> no
[12:55:14] <eddyb> now you can't use Foo
[12:55:19] <eddyb> you have to do Foo<T> everywhere
[12:55:25] <huon> it's different because currently you can't speaking about `Foo` without a <...> anywhere
[12:55:28] <eddyb> Foo isn't a valid anything
[12:55:34] <huon> with HKT you can talk about `Foo` in isolation
[12:55:46] <eddyb> rusti: struct Counter {value: uint} impl Counter {fn call(self) -> Counter {Counter {value: self.value}}} fn count()->Counter{Counter{value: 0}} count().call().call().call().value == 3
[12:55:47] -rusti- false
[12:55:49] <eddyb> lol
[12:55:56] <eddyb> rusti: struct Counter {value: uint} impl Counter {fn call(self) -> Counter {Counter {value: self.value+1}}} fn count()->Counter{Counter{value: 0}} count().call().call().call().value == 3
[12:55:57] -rusti- true
[12:56:01] <eddyb> huon: but I picked a bad example
[12:56:17] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[12:56:24] <eddyb> you can have infinite currying
[12:56:34] <eddyb> and it's amazing and Haskell can't :P
[12:56:38] <bollu_> so, Foo<ConcreteType> = a type, Foo<> = type class ? where <> is unspecified because it can be "anything" ?
[12:56:51] <huon> Foo<> != type class
[12:56:53] <eddyb> no, Foo, not Foo<>
[12:56:55] <huon> "type class" == "trait"
[12:56:57] <eddyb> type class = trait
[12:57:06] <huon> it's just the Haskell name for it
[12:57:26] *** Parts: aepsil0n (eduard@moz-B5507714.hsi8.kabel-badenwuerttemberg.de) ()
[12:57:26] <eddyb> huon: anyways, what I meant earilier is that if we don't do currying at all, we can mix default type params and variadic generics with HKT with 0 issues
[12:57:40] <bollu_> what does Foo<> mean in rust? I just meant Foo</*I don't care what's inside, I want to talk about Foo in general*/>
[12:57:46] <eddyb> it means nothing
[12:57:52] <eddyb> and will probably still mean nothing
[12:57:57] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[12:57:57] <huon> Foo<> means nothing, eddyb was just being pedantic
[12:58:12] <eddyb> about?
[12:58:15] <bollu_> so, how is a type class equal to a trait
[12:58:16] <bollu_> ?
[12:58:20] <huon> it was clear what was meant from the context
[12:58:30] <huon> bollu_: they are the different names for the same thing
[12:58:37] <huon> like "ice" and "frozen water"
[12:58:55] <eddyb> unless it's declared like struct Foo<T = Bar>; then Foo<> is Foo<Bar>
[12:59:14] <huon> rusti: let _: Foo<>;
[12:59:14] -rusti- <anon>:10:16: 10:21 error: use of undeclared type name `Foo`
[12:59:14] -rusti- <anon>:10         let _: Foo<>;
[12:59:14] -rusti-                          ^~~~~
[12:59:15] -rusti- error: aborting due to previous error
[12:59:15] -rusti- application terminated with error code 101
[12:59:17] <eddyb> as opposed to Foo which would be either generic or Foo<Bar>, depending on context or choice
[12:59:17] <bollu_> huon: :) eddyb: nope, not according to C++ it's not 
[12:59:22] <huon> oh, it parsers
[12:59:26] <eddyb> huon: sure it does
[12:59:39] <huon> bollu_: "type class" isn't anything in C++
[12:59:42] <huon> "class" is
[12:59:47] <huon> "type" is
[12:59:48] <bollu_> huon: but templates
[12:59:54] <huon> but "type class" isn't
[12:59:54] <eddyb> templates are generics
[13:00:08] <eddyb> without paramtric polymorphism (type class / trait)
[13:00:17] *** Joins: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[13:00:21] <huon> the word "class" in "type class" doesn't connect to "class"'s in C++ at all
[13:00:22] <eddyb> which the "concepts" drafts try to add to C++17
[13:00:35] <bollu_> so if list<T> is a type, list is a type class?
[13:00:39] <huon> no
[13:00:39] <eddyb> no
[13:00:41] <huon> !
[13:00:44] <eddyb> list is a type constructor
[13:00:44] *** Joins: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP)
[13:00:47] <eddyb> or a generic type
[13:00:49] <huon> type class == trait
[13:00:49] <eddyb> or a template
[13:00:57] <huon> `list` is not a trait
[13:01:17] <bollu_> so, if Sub<rhs, result> is a type, Sub is a type class? :)
[13:01:25] <eddyb> =)))
[13:01:31] <eddyb> bollu_: at this point, are you trolling?
[13:01:34] <bollu_> nope
[13:01:36] <eddyb> we just said no to list
[13:01:37] <huon> no
[13:01:42] <bollu_> genuinely confused the hell out
[13:01:46] <eddyb> that just has two generic types instead of one
[13:01:49] <bollu_> Sub is a trait isn't it?
[13:01:50] <eddyb> it's just like list
[13:01:54] *** Quits: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[13:02:00] <eddyb> bollu_: you asked if Sub<rhs, result> is a type
[13:02:01] <huon> as soon as you have "Foo<...> is a type" then `Foo` isn't a trait
[13:02:12] *** Joins: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP)
[13:02:24] <eddyb> in Rust, Sub is a generic trait, Sub<rhs, result> is a concrete trait
[13:02:24] <bollu_> ah, my bad. I was talking about
[13:02:28] <huon> `trait Sub<rhs, result> { ... }` is not a type
[13:02:37] <huon> but Sub is a trait/type class there
[13:02:47] <bollu_> but you said trait == type class.
[13:02:51] <huon> yes
[13:02:57] <bollu_> oh, so Sub <- type class
[13:02:57] <huon> what's your point?
[13:03:04] <bollu_> Sub<rhs, result> <- trait
[13:03:08] <huon> no!!!!
[13:03:12] <eddyb> bollu_: the fact that you can implement traits on types makes them a type class. does that make sense?
[13:03:20] <huon> if you can say "trait" in some sentence
[13:03:28] <huon> then you can say "type class" in exactly the same place
[13:03:32] <huon> they are *direct* synonyms
[13:03:43] <eddyb> "trait" is the name Rust gave to "type classes" which it stole from Haskell. do I have to say it this way for it to make sense?
[13:03:45] <bollu_> Sub is a trait hence Sub is a type class.
[13:03:46] <huon> one is the Haskell word (type class) one is the Rust word (trait), for the same thing
[13:03:50] <huon> yes
[13:03:55] <eddyb> bollu_: and vice versa
[13:04:00] <bollu_> yes, thank you. but this still does not tell me what a type class /is/
[13:04:05] <bollu_> it's a trait?
[13:04:07] <bollu_> that it?
[13:04:09] <huon> really?
[13:04:13] <eddyb> ahahahahahahaha
[13:04:16] * eddyb kicks bollu_
[13:04:17] <bollu_> oh, wait
[13:04:21] <bollu_> it clicked!
[13:04:24] <huon> i'm sorry, but I've said that like 20 times
[13:04:27] <bollu_> ah, my bad
[13:04:28] <eddyb> and me 10
[13:04:33] <bollu_> I just. yeah, paradigm shift
[13:04:35] <bollu_> *reeling*
[13:04:46] <bollu_> oh man, I want to kick myself
[13:04:53] * eddyb popcorn
[13:05:03] <bollu_> I sound like a loony person reading the chat...
[13:05:28] *** Joins: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP)
[13:05:29] <eddyb> it could be worse, you could be in court house
[13:05:40] *** Parts: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP) ()
[13:05:51] *** Joins: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP)
[13:06:03] <eddyb> or some other legal context. here we forget easily
[13:06:13] <bollu_> *sigh*. okay, now that that's cleared up, what does HKT offer?
[13:06:35] *** Joins: josh (josh@514D186.F3BBB17D.144F44FA.IP)
[13:06:54] <bollu_> huon: don't be scared, you can answer :)
[13:06:59] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[13:07:37] <eddyb> being able to implement a higher-kinded trait on a type constructor, like the Map example
[13:07:45] <eddyb> or you know, you could read the chat
[13:08:03] <bollu_> eddyb: yeah, better. and I like the substituion of "trait" for "type" :)
[13:08:23] <huon> the nonsensical substitution?
[13:08:43] <eddyb> that <*> I've added means that the trait is to be implemented on generic types with one generic argument
[13:08:56] <eddyb> I can see trait<*><*, *> be a valid thing
[13:09:16] <huon> or we just infer like Haskell does :P
[13:09:21] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[13:09:21] <eddyb> pls no
[13:09:33] <huon> pls yes
[13:09:33] <eddyb> I want to be able to read HKT Rust code
[13:09:44] <eddyb> you would just write it once, in the trait
[13:09:49] <huon> so you'll add arcane symbols to make it more readable?
[13:10:06] <eddyb> it's just as readable as * -> (* -> *) -> *
[13:10:16] <eddyb> well, no
[13:10:23] <eddyb> see? harder in Haskell
[13:10:26] <huon> yeah, but no-one every writes that
[13:10:29] <eddyb> * -> (*, *) -> *
[13:10:33] <eddyb> it even cries
[13:10:37] <huon> and the Haskell is much easier to read for me
[13:10:42] <eddyb> than <>?
[13:10:44] <huon> <*><*,*> huh?
[13:10:52] <eddyb> that's a problem we inherited from other languages
[13:10:55] <huon> -> // function application, easy
[13:11:02] <eddyb> but they're type functions
[13:11:07] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[13:11:11] <eddyb> I can't read GADTs
[13:11:19] <huon> that's your problem
[13:11:31] <huon> ;P
[13:11:34] <eddyb> :(
[13:11:45] * eddyb goes back to coding stupid mobile game
[13:11:53] <eddyb> (it's stupid by design btw, totally legit)
[13:12:02] <huon> I don't understand how "but they're type functions" is an argument against using `->`, i.e. something for a function
[13:12:07] <eddyb> (I should play flappy bird for inspiration)
[13:12:30] <eddyb> huon: emphasis on type
[13:12:45] <bollu_> struct Mapper<CoordSystem1, CoordSystem2>;  Mapping<Cartesian, _> <- type class since it maps all things of type CoordSystem2 to  Mapper<CoordSystem1, CoordSystem2> ? please tell me I'm right 
[13:13:00] <eddyb> type class is trait
[13:13:00] <bollu_>  Mapper<Cartesian, CoordSystem2>*
[13:13:06] <eddyb> I don't see traits there
[13:13:22] <bollu_> eddyb: I was trying to emulate huon's example of struct Foo<T>
[13:13:26] <bollu_> okay, willr etry
[13:13:28] <bollu_> retry*
[13:13:35] *** Quits: mye (mye@moz-92FD1060.dip0.t-ipconnect.de) (Quit: mye)
[13:13:40] <eddyb> I'm not sure how much I like _ there
[13:13:40] <huon> eddyb: emphasis on function
[13:14:07] <bollu_> eddyb: how else would you write that?
[13:14:19] <bollu_> *back to understanding type classes*
[13:14:24] <eddyb> <T> Mapper<Cartesian, T>
[13:14:36] <huon> bollu_: you're on #rust... talk about "traits"
[13:14:41] <eddyb> or T => Mapper<Cartesian, T> but that's just ambiguous
[13:14:48] <bollu_> eddyb: that's just verbose. huon: will do
[13:15:19] <eddyb> bollu_: so what's Result<_, _>?
[13:15:31] *** Parts: sruggier (sruggier@moz-B9FB4CF4.cpe.pppoe.ca) ()
[13:15:33] <eddyb> Result or <T><E> Result<T, E>?
[13:15:34] <bollu_> eddyb: compiler error
[13:15:48] <bollu_> you have to specialize *something*
[13:15:50] <eddyb> so what, just one omission allowed?
[13:15:56] <bollu_> you can't just leave it dangling
[13:15:58] <bollu_> eddyb: n-1
[13:16:07] <bollu_> n = total number of types
[13:16:09] <eddyb> that doesn't make any sense from any perspective
[13:16:10] *** Joins: Ms2ger (Ms2ger@moz-24F40D02.ugent.be)
[13:16:18] <eddyb> we want that syntax for inference hints
[13:16:23] <eddyb> partial hints, that is
[13:16:42] <eddyb> you mentioned it in the HKT context
[13:16:52] <eddyb> where it could be a type constructor
[13:17:26] <huon> bollu_: you're allowed to leave multiple types unspecified, just like a function can take multiple parameters (aka "leave multiple values unspecified")
[13:17:48] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[13:18:00] <bollu_> huon: but it makes no sense to leave everything unspecified right?
[13:18:05] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[13:18:06] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[13:18:15] <huon> nope
[13:18:18] <huon> perfectly sensible
[13:18:29] <huon> `Option` is leaving everything unspecified
[13:18:33] <bollu_> what does Result<_,_> even represent? I'll fill *both* those up later? then what makes it different from the /definition/ of result?
[13:18:35] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[13:18:47] <bollu_> trait Transform<U> { fn transform(&self) -> U {..} } //HKT?
[13:18:55] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[13:18:58] <eddyb> no, that's just a generic trait
[13:19:22] *** jorendorff_away is now known as jorendorff
[13:19:28] *** pmoore is now known as pmoore|leg-stretching
[13:19:28] <bollu_> jus Tranform is a HKT?
[13:19:31] <bollu_> just*
[13:19:31] <huon> if `fn f(x: int, y: int ) { ... }` , what does `let g = f;` even represent? I'll fill *both* those up later? then what makes it different from the definition of `f`?
[13:19:33] <huon> :P
[13:19:53] <bollu_> huon: it isn't different :) 
[13:20:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[13:20:07] <huon> yeah, so why does Result<_, _> need to be different?
[13:20:22] <bollu_> so, Result<_, _> = however result is actually defined I suppose, *huon: 1 ; bollu: 0*
[13:20:22] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:20:45] <bollu_> eddyb: Transform <- HKT? (based on the previous definition)
[13:20:54] <eddyb> no
[13:20:59] <huon> that's just a generic trait
[13:21:14] <bollu_> why not? no, it needs a "type" U to know what to transform into
[13:21:21] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:21:32] <huon> it's not a first class type function
[13:21:45] <huon> Transform<int> is not a type
[13:21:50] <eddyb> bollu_: you can't implement Transform
[13:21:57] <eddyb> bollu_: you can only implement Transform<concrete type>
[13:22:04] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:22:49] <huon> eddyb: that's not why it's not a HKT
[13:22:56] <bollu_> huon: Transform<int> is a trait right?
[13:23:05] <huon> ... it's not a HKT because it's not even a type
[13:23:14] <huon> yeah, basically
[13:24:23] <bollu_> huon: and by "type" you mean something like "int", not the (type = trait) thing? (I'm going to get beaten up for this, I can feel it)
[13:25:18] <huon> type != trait
[13:25:26] <huon> yes, type is something like int
[13:26:54] <bollu_> type class = trait
[13:26:56] <bollu_> type != trait
[13:27:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[13:27:04] <bollu_> type ~= int, string, ...
[13:27:12] <bollu_> type class = Add, Sub, Neg...
[13:27:24] <bollu_> HKT = something that works on *types* (int, str,...)
[13:27:59] <bollu_> am I correct ? ^
[13:28:26] *** Quits: dranov (dranov@1BD3979F.857BF9F5.A5830293.IP) (Ping timeout)
[13:28:50] *** Quits: santiago (santiago@moz-69361A64.socal.res.rr.com) (Ping timeout)
[13:28:50] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[13:28:55] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[13:28:59] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[13:29:20] *** Quits: drbawb (drbawb@moz-444F91EA.wi.res.rr.com) (Ping timeout)
[13:29:44] *** Quits: relrod (relrod@moz-AABB5D31.redhat.com) (Ping timeout)
[13:29:55] *** Joins: edwardw (Mibbit@F35FE004.FF38EF20.1D660E71.IP)
[13:29:57] *** Joins: drbawb (drbawb@moz-444F91EA.wi.res.rr.com)
[13:30:00] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[13:30:17] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[13:31:08] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[13:32:02] *** Joins: dranov (dranov@6D2AE96C.E32498A9.FCAAE698.IP)
[13:32:28] *** Joins: santiago (santiago@moz-69361A64.socal.res.rr.com)
[13:32:30] *** pmoore|leg-stretching is now known as pmoore
[13:33:05] *** Joins: relrod (relrod@moz-AABB5D31.redhat.com)
[13:33:11] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[13:33:33] <Veld> is the HashMap working correctly?
[13:33:51] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[13:33:52] <edwardw> what do you mean correctly?
[13:34:06] <Veld> without any known bugs
[13:34:29] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:34:33] <edwardw> rusti: use std::hashmap::HashMap; HashMap::<u32, u32>::new()
[13:34:34] -rusti- pastebinned 8 lines of output: http://sprunge.us/BHEd
[13:35:07] <edwardw> rusti: version
[13:35:08] -rusti- "rustc 0.10-pre (0e95b08 2014-03-06 15:11:42 -0800)"
[13:35:24] <edwardw> ah rusti was upgraded
[13:35:38] <Veld> I have a program that uses a HashMap and terminates without error message, and I know that it's some problem with the HashMap
[13:35:51] <edwardw> rusti: use collections:hashmap; HashMap::<u32, u32>::new()
[13:35:51] -rusti- <anon>:10:24: 10:25 error: expected `;` but found `:`
[13:35:52] -rusti- <anon>:10         use collections:hashmap; HashMap::<u32, u32>::new()
[13:35:52] -rusti-                                  ^
[13:35:52] -rusti- application terminated with error code 101
[13:36:08] *** Joins: mib_6k74bk (Mibbit@moz-AA65C711.lns20.adl2.internode.on.net)
[13:36:39] <edwardw> Veld: a gist?
[13:37:33] *** Joins: skade (skade@moz-96E7E015.szi.fh-jena.de)
[13:38:24] *** Quits: skade (skade@moz-96E7E015.szi.fh-jena.de) (Connection reset by peer)
[13:38:35] *** Joins: skade (skade@moz-96E7E015.szi.fh-jena.de)
[13:38:56] *** Joins: darthdeus (darthdeus@moz-9E3D2CDF.eurotel.cz)
[13:39:39] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[13:39:46] <eddyb> rusti: use collections::hashmap::HashMap; HashMap::<u32, u32>::new()
[13:39:46] -rusti- pastebinned 8 lines of output: http://sprunge.us/giNZ
[13:39:51] <Veld> http://mibpaste.com/ZliTLU 
[13:39:59] <edwardw> eddyb: rusti upgraded
[13:40:17] <eddyb> edwardw: yeah I know
[13:40:32] <eddyb> rustilite: extern crate collections; fn main() {use collections::hashmap::HashMap; println!("{:?}", HashMap::<u32, u32>::new());}
[13:40:34] -rustilite- pastebinned 1 lines of output: http://ix.io/aYM
[13:40:35] <edwardw> so collections::HashMap <3
[13:40:37] *** Quits: MarcWeber (marc@moz-FC10E83F.de) (Quit: leaving)
[13:40:53] <eddyb> it works
[13:41:05] <edwardw> indeed
[13:41:06] <Veld> here's a more readable paste: http://pastebin.com/ZQLd9CCs
[13:41:32] <edwardw> I just msg rustilite after I messed up the first two tries
[13:41:37] <eddyb> LOL
[13:41:43] <eddyb> Veld: you don't have that much RAM
[13:41:50] *** Quits: rootnode (rootnode@moz-C4C118DD.pools.arcor-ip.net) (Ping timeout)
[13:42:02] <mib_6k74bk> is the ~[] sytax going away after Vec<> is implemented? Or is that some sort of temproray thing?
[13:42:23] <eddyb> kinda temporary
[13:42:28] <eddyb> rusti: (18000000 * 8) as f64 / 1024.0 / 1024.0
[13:42:29] -rusti- 137.329102f64
[13:42:49] <eddyb> that's 137MB if it were a single pointer per bucket
[13:42:56] <eddyb> it probably ends up in the GB range
[13:43:14] <eddyb> Veld: just don't give it a higher capacity than the available RAM
[13:43:26] <eddyb> it's most likely aborting in mmap
[13:43:29] <eddyb> OOM
[13:43:35] <Veld> hmm
[13:45:04] <Veld> it's only 1.45 GB of text data
[13:45:11] <eddyb>  HashMap<~[u8], HashSet<~[u8]>> LOL
[13:45:20] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Ping timeout)
[13:45:23] <eddyb> Veld: the allocation for the HashMap is much bigger
[13:45:28] <eddyb> how much RAM do you have?
[13:45:59] <eddyb> rusti: (18000000 * 8 * 8) as f64 / 1024.0 / 1024.0
[13:46:00] -rusti- 1098.632813f64
[13:46:09] <Veld> 16 GB
[13:46:10] <eddyb> just a GB? hmm. in any case
[13:46:41] <eddyb> Veld: open any kind of memory graph thingie
[13:46:46] <edwardw> and a hashtable never has more than 75% (?) occupation ratio
[13:46:47] <eddyb> and watch it fill up
[13:47:58] <eddyb> Veld: if the files are larger than 64MB, you shouldn't be using read_to_end
[13:48:35] * eddyb wonders if we have an easy way of memory mapping files
[13:49:33] <huon> std::os::MemoryMap
[13:49:33] * edwardw the emulator thing pcwalton did had one iirc
[13:50:11] <eddyb> huon: right, you can give that a fd
[13:50:16] <eddyb> with MapFd
[13:51:39] <bollu_> eddyb, huon: I read this - http://learnyouahaskell.com/making-our-own-types-and-typeclasses . I think I understand now
[13:51:52] <bollu_> I'll think it over tonight when I go to bed
[13:51:56] <bollu_> questions for tomorrow :)
[13:52:11] <bollu_> I know I'm being difficult, and I'm /really/ sorry about that
[13:53:17] <eddyb> huon: did I show you this, btw? https://github.com/mozilla/rust/pull/12735
[13:53:35] <eddyb> I tried to create one commit per refactor target
[13:54:26] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[13:55:05] <edwardw> one big commit makes rebase harder
[13:55:15] <edwardw> just saying
[13:55:24] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:55:44] <eddyb> it makes it easier to know the n in HEAD~n :P
[13:55:52] <eddyb> (it's always just HEAD~1)
[13:56:00] <edwardw> LOL
[13:56:00] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[13:56:09] <eddyb> edwardw: don't laugh, that screwed me once already
[13:56:24] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[13:56:42] <edwardw> k
[13:57:06] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[13:57:30] <edwardw> I sometime do "git rebase -i <checksum>" when I'm not sure
[13:58:17] *** Joins: mye (mye@moz-92FD1060.dip0.t-ipconnect.de)
[13:58:34] *** Quits: skade (skade@moz-96E7E015.szi.fh-jena.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:58:46] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[13:58:50] *** Joins: canhtak (canhtak@moz-7EB111.wl.t.ulaval.ca)
[13:59:00] <edwardw> huon: did you see this, r? https://github.com/mozilla/rust/pull/12752
[13:59:31] <huon> edwardw: I didn't but github is not letting me put any line comments :/
[13:59:44] <huon> eddyb: awesome!
[13:59:58] <huon> eddyb: <3 commits
[14:00:08] <huon> needs a rebase btw
[14:00:19] <eddyb> yeah I know
[14:00:32] <eddyb> huon: nmatsakis doesn't want me to rebase the second deref PR
[14:00:38] <huon> okay
[14:00:43] <eddyb> he's reviewing on a live checkout :P
[14:00:53] <huon> edwardw: mine line comment would be on https://github.com/mozilla/rust/pull/12752/files#diff-05c3c8b7c08a25764218b8c18d8204b7R265
[14:01:00] *** jorendorff is now known as jorendorff_away
[14:01:04] <edwardw> gotcha
[14:01:09] <huon> why are you cloning the whole vector and then move iter-ing?
[14:01:27] <huon> I'd think that .iter()-ing and then cloning what you need would be better
[14:01:37] <edwardw> because I borrow cahe within that loop
[14:01:52] <huon> especially since you clone item.name in there again
[14:02:05] <huon> oh, just iterate with range then
[14:02:11] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[14:02:13] <huon> hm
[14:02:15] <huon> wait
[14:02:22] *** Quits: mib_6k74bk (Mibbit@moz-AA65C711.lns20.adl2.internode.on.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:02:23] <huon> you don't borrow cache?
[14:02:31] <huon> you borrow cache's subfields, which should work fine?
[14:02:35] <huon> does the compiler complain?
[14:02:42] <edwardw> yes it did
[14:02:47] <huon> bleh
[14:03:09] <edwardw> then I struggled a bit and cloned
[14:03:21] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:03:22] <huon> have to write  `let StructName { ref orphan_methods, ref mut search_index, ref paths, .. } = *cache;`
[14:03:33] *** jorendorff_away is now known as jorendorff
[14:03:34] <huon> or, I guess it's not a pointer
[14:03:48] <edwardw> ah I'll try that then
[14:04:00] <huon> (you may need to put that in a { .. } scope to restrict the borrows)
[14:04:09] <edwardw> k
[14:05:01] *** flaper87 is now known as flaper87|afk
[14:05:40] *** Quits: marwy (user@41303A68.5C2AEEF8.CFA44423.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[14:06:56] *** Joins: skade (skade@moz-96E7E015.szi.fh-jena.de)
[14:07:02] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[14:07:45] *** Joins: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr)
[14:08:36] *** Joins: TeXitoi (Mibbit@moz-9CE70EEE.fbx.proxad.net)
[14:08:38] *** Quits: skade (skade@moz-96E7E015.szi.fh-jena.de) (Ping timeout)
[14:09:41] *** Joins: skade (skade@moz-96E7E015.szi.fh-jena.de)
[14:10:27] *** Parts: edwardw (Mibbit@F35FE004.FF38EF20.1D660E71.IP) ()
[14:11:37] *** flaper87|afk is now known as flaper87
[14:11:56] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[14:12:37] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:13:27] *** jorendorff is now known as jorendorff_away
[14:14:16] *** Quits: darthdeus (darthdeus@moz-9E3D2CDF.eurotel.cz) (Connection reset by peer)
[14:15:05] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[14:15:05] *** ChanServ sets mode: +o jdm
[14:15:10] <bollu_> eddyb: you here?
[14:15:14] <eddyb> yupp
[14:15:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[14:15:26] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[14:15:27] <bollu_> okay, so you said IoResult is a HKT
[14:16:01] <bollu_> but IoResult on it's own makes no sense right? you have to say ioResult<TypeofResult> for it to make sense.
[14:16:04] <bollu_> so how is it a HKT?
[14:16:19] <eddyb> that's *why* it's a HKT
[14:16:26] <eddyb> IoResult<T> is a concrete type
[14:16:30] *** Quits: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP) (Ping timeout)
[14:16:32] <eddyb> Result<T, IoError> to be precise
[14:16:38] <eddyb> (it's a type alias)
[14:16:43] <eddyb> IoResult on its own is a HKT
[14:16:44] <bollu_> yep, saw that in the docs
[14:17:05] <bollu_> so, once HKT is introduced, I can have a function that recieves IoResult?
[14:17:12] <eddyb> you can implement that higher-kind Map trait on it
[14:17:14] <eddyb> bollu_: no
[14:17:26] <eddyb> you can have a function generic over Option or IoResult
[14:17:40] <eddyb> and from a single Foo, create Foo<A> and Foo<B>
[14:17:47] <eddyb> and call map or something
[14:17:50] <bollu_> eddyb: simplest example other than map? (for the IoResult thing)
[14:18:02] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[14:18:02] <eddyb> you can't have a value of a HKT type
[14:18:10] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[14:18:21] <eddyb> so I'm not sure how to exemplify
[14:18:35] <bollu_> hm like, give me a way to use it other than map() :)
[14:18:44] *** Joins: edwardw (edwardw@ED48E813.BF27AFA4.B9C6B12A.IP)
[14:18:49] *** Parts: TeXitoi (Mibbit@moz-9CE70EEE.fbx.proxad.net) ()
[14:19:02] *** Quits: Ms2ger (Ms2ger@moz-24F40D02.ugent.be) (Quit: Leaving)
[14:19:11] *** Joins: Ms2ger (Ms2ger@moz-24F40D02.ugent.be)
[14:19:28] *** Quits: mixi (mixi@moz-DBD8904A.org) (Quit: WeeChat 0.4.4-dev)
[14:19:42] <bollu_> eddyb: what can I do once I can refer to IoResult as an entity on it's own?
[14:19:45] *** Joins: TeXitoi (sihem@moz-9CE70EEE.fbx.proxad.net)
[14:19:47] <eddyb> fn same_generic_type<T<*>, A, B>(x: T<A>, y: T<B>) {...}
[14:19:51] <TeXitoi> hi
[14:19:55] <bollu_> is what I'm trying to understand
[14:20:17] <eddyb> now you should be able to call same_generic_type::<Option, A, B>(Some(a), Some(b))
[14:20:37] <bollu_> eddyb: ah, so I can create concrete impls by having the "HKT" as a parameter?
[14:20:37] <eddyb> or same_generic_type::<T<*>, A, B>(Ok(a), Ok(b))
[14:20:43] <eddyb> bollu_: yupp
[14:20:51] <bollu_> BUT, I cannot *recieve* a HKT on it's own 
[14:21:00] <eddyb> you can't have a HKT value
[14:21:04] *** Joins: kris (kris@moz-66DEA6E5.dk.customer.tdc.net)
[14:21:11] <eddyb> values need concrete types
[14:21:40] <eddyb> same_generic_type(Some(a), Some(b)) should work
[14:21:41] <bollu_> it HAS to be *concretely used*, but it CAN be *passed* as a parameter (as a typename or template paramter)
[14:21:46] <kimundi> bollu_: You can'T do much with the IoResult entity itself. But because it shares a property with other HKT types, you can write something that accepts HKTs just like
[14:22:10] <eddyb> same_generic_type(Ok(a), Ok(b)) won't work because it infers an Result and doesn't know what error type it has
[14:22:19] <eddyb> bollu_: yeah, you can be generic over a HKT
[14:22:27] <eddyb> otherwise they're almost completely useless
[14:22:50] *** Quits: jackneill (jackneill@moz-85E98F3E.pool.digikabel.hu) (Quit: WeeChat 0.4.3)
[14:22:55] <bollu_> eddyb: so that's the only was to use a HKT? I can't use them in any other way?
[14:23:02] <bollu_> I have to pass the HKT as a type parameter?
[14:23:08] <kimundi> Correct
[14:23:08] <eddyb> not explicitely
[14:23:11] <mrmonday> what do I need to replace ~[] with now? was it Vec<T>?
[14:23:16] <kimundi> mrmonday: yes
[14:23:17] <mrmonday> need it to be mutable
[14:23:23] <kimundi> mrmonday: same rules apply
[14:23:23] <eddyb> you can implement a higher-kind/order trait on them
[14:23:25] <bollu_> eddyb: not explicitly as in?
[14:23:26] <eddyb> like the Map example
[14:23:34] <eddyb> bollu_: same_generic_type(Some(a), Some(b))
[14:23:39] <eddyb> without the ::<...>
[14:23:44] <eddyb> UFO type hint :P
[14:23:56] <bollu_> eddyb: lol. 
[14:23:58] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[14:24:04] <bollu_> okay, I think I understand now
[14:24:24] <eddyb> and I think I got this lame matrix multiplication right
[14:24:45] <TeXitoi> there is HKT in rust now?
[14:24:55] <eddyb> planned
[14:25:05] <TeXitoi> eddyb: cool
[14:25:27] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[14:25:40] <TeXitoi> monad type will be a possible type in rust?
[14:25:40] *** Joins: jackneill (jackneill@moz-85E98F3E.pool.digikabel.hu)
[14:25:51] <eddyb> yeah, just don't name it Io
[14:25:55] <bollu_> so, something I can do something like CompareOpt<Option, A, B> (a: Option<A>, b:  Option<B>) { a.unwrap() == b.unwrap() }
[14:25:59] <eddyb> we should make Io a reserved keyword
[14:26:01] <eddyb> just for that
[14:26:32] <bollu_> eddyb: that is a HKT yes? since I'm taking a Result, and not a Result<concrete>
[14:26:38] *** Quits: josh (josh@514D186.F3BBB17D.144F44FA.IP) (Quit: josh)
[14:26:39] <kimundi> eddyb: Better not
[14:26:46] <eddyb> bollu_: kinda. you can't call unwrap without a trait bound though
[14:26:46] <bollu_> oh, wait
[14:26:47] <bollu_> it's not
[14:26:55] <eddyb> and it should be named something else not Option
[14:27:00] <bollu_> yeah, realized
[14:27:01] <eddyb> since it's a type param
[14:27:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[14:27:08] <eddyb> and it should have some indication of HKT
[14:27:11] <bollu_> xD
[14:27:11] <eddyb> like <*>
[14:27:18] * kimundi remembers his confusion until he learned that that darn Io thing is a _typedef_ for a function
[14:27:40] <eddyb> how do you typedef a function?
[14:28:14] <kimundi> rusti: type Foo = fn() -> uint;
[14:28:14] -rusti- ()
[14:28:25] <eddyb> ah
[14:28:32] <eddyb> so a typedef for a function type
[14:28:43] <kimundi> rusti: type Foo = || -> uint; let f: Foo = || 23; f
[14:28:44] -rusti- <anon>:10:20: 10:30 error: missing lifetime specifier
[14:28:44] -rusti- <anon>:10         type Foo = || -> uint; let f: Foo = || 23; f
[14:28:44] -rusti-                              ^~~~~~~~~~
[14:28:44] -rusti- error: aborting due to previous error
[14:28:44] -rusti- application terminated with error code 101
[14:28:48] <kimundi> yes
[14:28:50] <kimundi> sorry
[14:29:03] <eddyb> you know... my CPS Formatter thing... it's a monad
[14:29:09] <eddyb> so yeah, there it goes
[14:29:14] <eddyb> I wrote a monad without realizing it
[14:29:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[14:29:25] *** Joins: darthdeus (darthdeus@AAEAC920.7D4E3986.4E88690D.IP)
[14:30:12] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:30:48] <eddyb> well, almost
[14:30:55] <mrmonday> hmm, can't figure this out. If I had let mut foo: ~[~Foo] = ~[]; before, what should it become? and what do I need to import?
[14:31:02] <edwardw> now write a monad tutorial!
[14:31:02] <eddyb> but Show impls would be pretty pure at that point
[14:31:08] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[14:31:14] <eddyb> mrmonday: let mut foo: Vec<Foo> = Vec::new();
[14:31:20] <eddyb> edwardw pls
[14:31:26] <eddyb> some self respect
[14:31:40] <bollu_> fn integrete(Container<*>, T>(values: Container<T>) { /* add up stuff from the container */} //this a HKT?
[14:31:44] <edwardw> <3
[14:32:05] <eddyb> bollu_: yeah but that works well with the HKT transform
[14:32:09] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[14:32:22] <eddyb> bollu_: if you were mapping from Container<T> to Container<U> that would be cool
[14:32:36] <eddyb> and that's the Map monad. which I always forget the actual name for :P
[14:32:45] <eddyb> or Functor, not monad
[14:32:49] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[14:32:57] <bollu_> eddyb: what's that? and does integretion change the domain? I'm not sure
[14:33:16] <mrmonday> eddyb: what do I need to use to get Vec? I tried std::raw::Vec but that doesn't seem to be it
[14:33:21] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[14:33:32] <eddyb> bollu_: <T, C: Container<T>> where Container<T> is a trait
[14:33:35] <eddyb> that's the HKT transform
[14:33:51] <eddyb> I think we actually have that trait and some methods on it
[14:33:57] <edwardw> mrmonday: std::vec_ng::Vec for now
[14:33:58] <eddyb> mrmonday: it's not raw X_X
[14:34:04] <eddyb> we should really put Vec in the docs
[14:34:11] <bollu_> an cool, so you're saying that I have a type C which needs to implement the trait Container<T> yes?
[14:34:11] <eddyb> and hide raw even more. if that's possible
[14:34:18] <mrmonday> that's why I couldn't find it then :p
[14:34:22] <bollu_> eddyb: which Vec? the ng::Vec?
[14:34:31] <eddyb> yeah
[14:34:34] <bollu_> but how is that HKT?
[14:34:41] <eddyb> it's not HKT
[14:34:42] <bollu_> there's no "type that needs a type"
[14:34:47] <bollu_> eddyb: oh.
[14:34:47] <eddyb> that's the point
[14:34:55] <eddyb> you transform HKT into something which doesn't require HKT
[14:35:04] <bollu_> eddyb: ah. I see.
[14:35:29] <bollu_> eddyb: and that is possible right now in rust?
[14:35:34] <eddyb> yeah
[14:35:39] <eddyb> we have a lot of things using it
[14:35:59] <bollu_> eddyb: so why the need for HKT? other than like, 2 - 3 applications :)
[14:36:01] <eddyb> all the iterators for example
[14:36:07] <bollu_> I don't see any wide use for it tbh
[14:36:57] <eddyb> you can have .fmap on iterators
[14:37:24] *** Quits: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net) (Quit: Leaving.)
[14:37:24] <eddyb> mapping Iterator<Option<T>> to Iterator<Option<U>> with a |T| -> U function
[14:37:41] <eddyb> actually, depending on the closure type, it might be able to go infinitely deep
[14:37:52] <eddyb> without one method for each depth
[14:38:39] *** Joins: aepsil0n (eduard@moz-B5507714.hsi8.kabel-badenwuerttemberg.de)
[14:39:15] <TeXitoi> HKT is planned before 1.0 or not?
[14:39:33] *** Joins: leowoe (Leo@moz-3C592D9B.dip0.t-ipconnect.de)
[14:39:50] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[14:40:40] <kimundi> TeXitoi: Probably not before
[14:41:09] *** Quits: lessless (lessless@moz-F3755E99.emplot.net) (Ping timeout)
[14:41:11] <kimundi> Nothing really _needs_ atm - it would just simply a few things
[14:41:18] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[14:41:19] *** Quits: leowoe (Leo@moz-3C592D9B.dip0.t-ipconnect.de) (Ping timeout)
[14:43:17] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[14:43:32] *** Quits: kris (kris@moz-66DEA6E5.dk.customer.tdc.net) (Ping timeout)
[14:43:42] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:44:56] <bollu_> huon, kimundi, eddyb: thanks for the patience :)
[14:45:03] <bollu_> finally got it! woo!
[14:45:09] * eddyb sends bollu_ to sleep
[14:45:13] <kimundi> yay!
[14:45:13] <bollu_> *off to study* :)
[14:45:27] <kimundi> knowledge is good :)
[14:45:30] <eddyb> bollu_: study this https://www.youtube.com/watch?v=j5-yKhDd64s
[14:45:34] * kimundi should be studying to atm
[14:45:50] <eddyb> so many studious rustaceeans
[14:46:14] *** Parts: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP) ()
[14:46:27] *** Joins: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP)
[14:46:37] <bollu_> eddyb: prefer Rap God :)
[14:46:57] *** Parts: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP) ()
[14:47:05] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[14:47:15] <bollu_> srsly though, I usually listen to vivaldi's stuff. usually seasons.
[14:47:43] *** Joins: josedonizetti (josedonize@CD432731.14BD676C.8EF76F75.IP)
[14:49:17] <eddyb> bollu_: I'm not actually into rap at all
[14:49:21] <eddyb> #rust-offtopic even
[14:49:31] <eddyb> bollu_: usually instrumental THS
[14:49:35] <eddyb> *TSH
[14:50:41] * kimundi never cares enough about music to be able to list his favorite genres
[14:50:42] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[14:52:22] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[14:52:34] *** Joins: benjamin_____ (benjamin@moz-D829DE2A.dip0.t-ipconnect.de)
[14:52:49] *** Parts: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi) ()
[14:52:54] *** Joins: josh (josh@moz-CEA57C28.xdsl.murphx.net)
[14:52:57] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[14:53:00] *** Quits: benjamin_ (benjamin@moz-54AD0580.dip0.t-ipconnect.de) (Ping timeout)
[14:53:50] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[14:54:43] *** Quits: josh (josh@moz-CEA57C28.xdsl.murphx.net) (Ping timeout)
[14:54:51] *** Quits: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de) (Ping timeout)
[14:56:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:56:12] *** Joins: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de)
[14:57:42] *** Quits: skade (skade@moz-96E7E015.szi.fh-jena.de) (Ping timeout)
[14:57:48] *** Joins: skade (skade@moz-96E7E015.szi.fh-jena.de)
[14:57:53] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[14:58:07] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[14:58:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:58:40] <bollu_> eddyb: TSH?
[14:58:47] <eddyb> two steps from hell
[14:59:02] *** Quits: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de) (Ping timeout)
[14:59:32] *** Quits: Ms2ger (Ms2ger@moz-24F40D02.ugent.be) (Ping timeout)
[14:59:34] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[14:59:42] <bollu_> whoa, nice!
[14:59:47] <bollu_> will give it a listen
[14:59:57] <bollu_> kimundi: personal opinion, but I think you're missing out :)
[15:00:17] *** Joins: josh (josh@moz-CEA57C28.xdsl.murphx.net)
[15:01:03] <kimundi> bollu_: Oh, I like music. I just don't know what the music I like is called ;D
[15:01:26] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[15:02:13] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[15:02:32] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[15:02:59] *** bollu_ is now known as bollu
[15:03:30] *** Quits: skade (skade@moz-96E7E015.szi.fh-jena.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:06:41] *** Joins: dschatzberg (dschatzber@moz-B15FAF67.bu.edu)
[15:07:37] *** Joins: adridu59 (Mibbit@moz-CB54E913.rev.numericable.fr)
[15:08:20] *** Quits: josh (josh@moz-CEA57C28.xdsl.murphx.net) (Quit: josh)
[15:09:11] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[15:11:43] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[15:12:30] *** Joins: atriq (Mibbit@moz-90BEC7D1.cs.york.ac.uk)
[15:12:45] *** pmoore is now known as pmoore|tea-break
[15:12:48] <atriq> What does "error: cannot move out of dereference of & pointer" mean?
[15:13:33] <bvssvni> atriq: it means you can not dereference a pointer because the struct contains other borrowed pointers (usually)
[15:13:47] <atriq> Okay
[15:14:19] <bvssvni> atriq: if you use gist.github.com and show some code then I might help you out
[15:15:02] *** Joins: rootnode (rootnode@moz-C6945304.pools.arcor-ip.net)
[15:16:15] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[15:16:27] <atriq> bvssvni: https://gist.github.com/Taneb/e4d9e99c4439a011b737
[15:16:49] <atriq> Sorry for the general crappiness
[15:16:50] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[15:16:50] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Connection reset by peer)
[15:17:00] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[15:17:09] <bvssvni> atriq: you can set the language to Rust to get syntax coloring
[15:17:15] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:17:47] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Ping timeout)
[15:17:49] *** Joins: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[15:17:55] <bvssvni> atriq: also, include the compiler error pls :)
[15:18:34] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[15:18:37] <atriq> https://gist.github.com/Taneb/e4d9e99c4439a011b737
[15:19:49] <bvssvni> atriq: try Some(ref ct)
[15:19:57] <omouse> is there some sample code somewhere that uses rust's extra lib?
[15:20:05] *** jorendorff_away is now known as jorendorff
[15:20:06] <omouse> I can't find a tutorial that uses it :/
[15:20:11] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:20:15] <bvssvni> omouse: extra lib is resolved into multiple libs
[15:20:27] <atriq> bstrie: that fixed like a lot of stuff, thanks :)
[15:20:52] *** Joins: mindcat_ (mindcat@AA57D3E1.68CEB32F.57E3C596.IP)
[15:21:02] <omouse> bvssvni: I'm trying to use extra::json and i'm too newb to figure out how to use the extra::json::Object, I can't seem to call new on it, rustc's spitting out unresolved errors :/
[15:21:21] *** Quits: mindcat (mindcat@EEFCDFAE.7EE3DE8.F956842C.IP) (Ping timeout)
[15:21:21] <bvssvni> omouse: I think there are some example code in the docs
[15:21:45] <bvssvni> omouse: http://static.rust-lang.org/doc/master/serialize/json/index.html
[15:21:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[15:22:12] <omouse> awesome thx
[15:22:27] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:22:41] *** Joins: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net)
[15:22:47] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[15:23:10] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[15:23:25] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[15:24:26] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[15:24:41] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[15:25:14] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[15:25:17] *** Joins: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP)
[15:25:35] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:25:49] *** Joins: ChrisOei (ChrisOei@moz-FBA768F.mycingular.net)
[15:27:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[15:27:17] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[15:27:32] <omouse> heh, I completely forgot that the source for libextra is on my machine. best tutorial ever ;p
[15:27:40] *** Quits: ChrisOei (ChrisOei@moz-FBA768F.mycingular.net) (Client exited)
[15:28:06] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:28:39] <bollu> doomlord_: you active? :) 
[15:28:58] <bollu> hmm, guess not :(
[15:29:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[15:29:32] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:29:37] *** pmoore|tea-break is now known as pmoore
[15:30:02] <Kroisse> atriq: s/Right/Greater/
[15:30:15] * bvssvni wonder what s/... means
[15:30:33] <Yurume> it is an ed/sed/vi/vim style substitution syntax.
[15:30:35] <Kroisse> replace 'Right' to 'Greater'
[15:30:36] <Yurume> (afaik)
[15:30:38] <atriq> s/a/b/ means "replace a with b"
[15:30:43] *** Quits: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Ping timeout)
[15:30:51] <atriq> Kroisse: that's not gonna fix the errors :)
[15:30:54] *** Quits: japaric (japaric@841DCDFF.55B992BD.5C7588CA.IP) (Connection reset by peer)
[15:31:22] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[15:31:23] <Kroisse> https://gist.github.com/Kroisse/2edaab06f56e23633d71
[15:31:37] *** Joins: japaric (japaric@841DCDFF.55B992BD.5C7588CA.IP)
[15:31:40] <Kroisse> two fixes:
[15:32:10] <Kroisse> first, bt should be &mut because it mutates its own fields
[15:32:29] *** Quits: Ferreus (ferreus@moz-54DD6BA7.dip0.t-ipconnect.de) (Ping timeout)
[15:32:37] <doomlord_> bollu yes
[15:32:51] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[15:33:12] <Kroisse> second, Some(ref mut ct) because insert() requires mutable ref due to the first fix
[15:33:22] <bvssvni> right
[15:33:29] <atriq> Kroisse: thank you :)
[15:33:36] <atriq> I had got the first fix, but not the second
[15:34:06] <Kroisse> deref is required because the type of ct is &mut ~BinTree<T>, not &mut BinTree<T>
[15:34:31] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:34:32] <Kroisse> ~T can be casted to &mut T
[15:34:58] <bollu> doomlord_: you think carmack's idea might be worth a try?
[15:35:16] <atriq> Now I've got this working, is there a less stupid way to implement this?
[15:35:16] *** Quits: japaric (japaric@841DCDFF.55B992BD.5C7588CA.IP) (Connection reset by peer)
[15:35:49] *** Joins: japaric (japaric@841DCDFF.55B992BD.5C7588CA.IP)
[15:35:57] <doomlord_> bollu carmack's ideas are usually worth trying
[15:35:59] <Kroisse> But I wonder why it's not working: Some(mut ct) => insert(ct, v)
[15:36:33] <Kroisse> this causes the error: cannot move out of dereference of & pointer on Some(mut ct)
[15:36:34] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[15:36:37] <bvssvni> bollu: what idea?
[15:36:55] <doomlord_> bollu if its the whole 'immutable last frame, generate next frame state' , i beleive that's an awesome idea
[15:37:02] <bollu> yeah, that one
[15:37:14] <kimundi> Kroisse: Some(mut ct) is the same as Some(ct) ownership wise
[15:37:15] <bollu> hm okay. Will implement that way
[15:37:23] <bollu> this ought to be fun :) 
[15:37:24] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[15:37:25] <bvssvni> Kroisse: I think it is because it creates a copy of the pointers
[15:37:26] <doomlord_> dont worry about 2 copies of game state data - game state should be quite small
[15:37:50] <doomlord_> If game state objects seem large - they've probably got temporaries embedded in them
[15:37:55] <bollu> doomlord_: okay. plus I'm aiming at 2d first so there shouldn't be much of data too - max is a texture atlas
[15:38:10] <bvssvni> bollu: you can also interpolate between the frames
[15:38:19] <bvssvni> bollu: saw this in an article somewhere
[15:38:38] <doomlord_> bollu i'm happy today because someone advised on the android makefile, i have that working again.
[15:38:44] <bollu> bvssvni: I've found physics engines don't take kindly to that sort of stuff :) fixed timestep = stability
[15:38:53] <bollu> doomlord_: nice! care to share?
[15:38:55] <bvssvni> bollu: to generate smother animation
[15:39:04] <doomlord_> bollu, i prefer fixed timesteps too. interpolate rendering instead of update
[15:39:09] <bvssvni> bollu: run physics at fixed step, but display it interpolated
[15:39:19] <bollu> bvssvni, doomlord_: will try!.
[15:40:03] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[15:40:08] <Kroisse> So it tries to move the ownership of the branch from ct... and it will be rejected because it's moving the ownership out from the borrowed thing...
[15:40:30] <doomlord_> call multiple discreet iterations of 'update' if need be, while game_t <actual_t) {  game_t+=dt;  update(); /* dt=fixed timestep */ }   render((actual_t-game_t)/dt /* interpolation factor between frames*/)
[15:40:32] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:40:51] *** Joins: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP)
[15:41:07] <doomlord_> bollu i put the android makefile on rusts' github wiki , i would like to make a 'hello rusty android' sample aswell
[15:41:54] <bollu> doomlord_: yeah, got that. and I assume you already know this (since you're part of the industry :) ), but have you read "fix your timestep" ? brilliant article
[15:42:02] <bvssvni> Kroisse: I just think in terms whether it exists two &mut pointers to same object or not
[15:42:06] <bollu> doomlord_: cool! 
[15:42:08] <Kroisse> well... dereferencing borrowed pointer is different to moving out the value?
[15:42:13] *** Quits: atriq (Mibbit@moz-90BEC7D1.cs.york.ac.uk) (Quit: http://www.mibbit.com ajax IRC Client)
[15:42:24] <doomlord_> i haven't seen that specific article, but i never , ever trusted the idea of variable timestep for physics
[15:42:29] <bollu> eddyb: listenting to two steps from hell. /nice/ music!
[15:42:33] <doomlord_> my first job was car physics
[15:42:51] <bollu> doomlord_: g2g, gotta study. will talk later? :)
[15:42:52] <bvssvni> Kroisse: dereferencing is implicit copying
[15:42:58] <doomlord_> ok
[15:43:19] *** Joins: josh (josh@514D186.F3BBB17D.144F44FA.IP)
[15:43:26] *** Quits: jiojiajiu (jiojiajiu@moz-7455BF89.revip7.asianet.co.th) (Ping timeout)
[15:43:53] <bvssvni> Kroisse: I guess that is the same as moving out
[15:43:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:44:08] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[15:44:12] <bvssvni> Kroisse: it would work if the old variable ran out of scope
[15:44:16] <Kroisse> bvssvni: in that case, dereferencing &~T is implied copying ~T, so it moves ~T out, I thought.
[15:44:26] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:44:40] <bvssvni> Kroisse: yeah
[15:45:05] <bvssvni> Kroisse: it copies the pointer, not the data
[15:45:41] *** Joins: baldvin (chatzilla@moz-D63AE93E.du.xdsl.is)
[15:45:54] <Kroisse> bvssvni: so... this is my scenario of this code: Some(ref mut ct) => insert(*ct, v)
[15:46:08] *** Quits: twi (Adium@moz-9F0310CC.cust.vodafonedsl.it) (Connection reset by peer)
[15:46:09] *** baldvin is now known as bdr_
[15:46:18] <Kroisse> 1. ct is borrowed from the matched object: bt.right
[15:46:33] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[15:46:43] *** Joins: twi (Adium@moz-D8BD97A0.cust.vodafonedsl.it)
[15:47:03] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[15:47:04] <Kroisse> 2. ct is dereferenced; ~BinTree<T> is moved out from bt.right
[15:47:22] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[15:47:33] <bvssvni> no, it isn't moved
[15:47:45] <bvssvni> bt.right still points to it
[15:47:46] <Kroisse> isn't it moved out?
[15:47:56] <kimundi> You match a Option<T>, get a &mut T to the content of a Some, then dereference it to get a new value T. If T is Pod, this works, if it is not T, it complains about not being able to move
[15:48:19] <bvssvni> that is when not having 'ref'
[15:48:53] <bvssvni> 'ref' creates a borrowed pointer to the content of bt.right
[15:48:56] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[15:48:57] <Kroisse> hmm...
[15:49:05] <Kroisse> deref makes me confused
[15:49:25] <bvssvni> the problem is the pointers that bt.right contains
[15:49:34] <bvssvni> these pointers create the compiler error
[15:50:01] <bvssvni> they are owned pointers an there can only be one of them
[15:50:26] <bvssvni> so when you don't have 'ref', you copy bt.right
[15:50:35] <bvssvni> creating a second copy of the owned pointers
[15:51:10] <bvssvni> it is almost always what the struct contains that is the problem
[15:51:12] <Kroisse> and that means the ownership moved to the 'second copy'
[15:51:14] <bollu> eddyb: best album of two steps from hell?
[15:51:16] *** Quits: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP) (Quit: Yaaic - Yet another Android IRC client - http://www.yaaic.org)
[15:51:37] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[15:51:45] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:51:48] <bvssvni> Kroisse: it can't move as long bt.right still points to them
[15:51:51] *** Joins: capt_redbeard (Adium@ADA3AAC7.B947D2CB.18422E69.IP)
[15:51:51] *** Joins: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP)
[15:52:29] *** Quits: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP) (Client exited)
[15:52:44] <Kroisse> bvssvni: i mean, in the case without 'ref'
[15:52:53] *** Joins: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP)
[15:53:03] <bvssvni> Kroisse: yes, then you create a temporary copy
[15:53:17] <bvssvni> Kroisse: with 'ref' you point to the original
[15:53:29] *** Quits: josh (josh@514D186.F3BBB17D.144F44FA.IP) (Quit: josh)
[15:54:04] <capt_redbeard> Having trouble with the Send trait again :/ https://gist.github.com/kylecook80/9414089 error: src/main.rs:27:41: 27:46 error: cannot pack type `~menu::Menu`, which does not fulfill `Send`, as a trait bounded by Send
[15:54:04] <capt_redbeard> src/main.rs:27   let mut game_window = GameWindow::new(~menu);
[15:54:09] <bvssvni> Kroisse: usually I just add refs and muts until it compiles
[15:54:22] <Kroisse> I think I need to understand more how borrowing is working
[15:54:47] <Kroisse> bvssvni: thanks to explain how it works
[15:54:54] *** Joins: tmh (e@180B7532.123B3C13.AA32EE5B.IP)
[15:55:39] <bvssvni> capt_readbeard: does Send requires a #[deriving(Send)]?
[15:55:51] <bvssvni> capt_redbeard: ^
[15:56:31] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[15:56:33] <capt_redbeard> bvssvni: I think I am misunderstanding because Send should usually be automatically derived under certain circumstances, but my crazy uses of owned and borrowed references has messed that up.
[15:56:42] <capt_redbeard> Thats my understanding though, I could be very far off on that.
[15:56:58] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[15:57:03] <bvssvni> capt_redbeard: I think that changing from borrowed to owned will solve it
[15:57:59] <capt_redbeard> bvssvni: Which part?
[15:58:16] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[15:58:24] <bvssvni> capt_redbeard: or perhaps I am mixing stuff up again
[15:58:42] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[15:58:57] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[15:59:16] <bvssvni> capt_redbeard: what is the Text type?
[15:59:23] *** Quits: twi (Adium@moz-D8BD97A0.cust.vodafonedsl.it) (Connection reset by peer)
[15:59:54] *** Joins: skade (skade@moz-96E7E015.szi.fh-jena.de)
[15:59:54] <capt_redbeard> bvssvni: I think I am also. I wish there was better documentation on exactly how those are derived automatically. Text is the type in the rsfml library.
[16:00:34] *** Joins: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi)
[16:00:48] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[16:01:27] <bvssvni> capt_redbeard: do you need gamewindow on another thread?
[16:01:41] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[16:01:46] <capt_redbeard> Not at this point, although that may happen in the future.
[16:02:03] <bvssvni> capt_redbeard: maybe you can make the pointer to the menu borrowed in gamewindow
[16:02:38] *** pmoore is now known as pmoore|dinner
[16:02:47] <capt_redbeard> bvssvni: I will give it a shot.
[16:03:37] *** Joins: twi (Adium@moz-3D4275A1.cust.vodafonedsl.it)
[16:03:57] *** Quits: twi (Adium@moz-3D4275A1.cust.vodafonedsl.it) (Max SendQ exceeded)
[16:04:14] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[16:06:16] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[16:06:52] *** bollu is now known as bollu|away
[16:07:11] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:07:23] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[16:07:57] <bvssvni> capt_redbeard: if you change menu to an owned pointer instead of plain mut, it might solve the problem
[16:08:06] *** Joins: lawrence (lawrence@moz-33F5645C.wireless.utoronto.ca)
[16:08:21] <bvssvni> capt_redbeard: before you pass it to the gamewindow constructor
[16:08:28] *** Quits: eevee (eevee@moz-A8156E13.lv.lv.cox.net) (Ping timeout)
[16:08:36] *** Joins: leowoe (Leo@moz-3C592D9B.dip0.t-ipconnect.de)
[16:09:34] <bvssvni> capt_redbeard: that will force the menu variable to run out of scope
[16:10:11] <capt_redbeard> bvssvni: Hmm ok that may help. I'm finding that debugging these rust conventions is difficult.
[16:10:36] <bvssvni> capt_redbeard: let menu = ~Menu::new(~"Line Dodge");
[16:11:19] <capt_redbeard> The documentation says that you shouldn't need to use ~ very often, but I've found I'm using it quite often. Am I doing something wrong?
[16:11:25] <bvssvni> capt_redbeard: let mut game_window = GameWindow::new(menu);
[16:11:40] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[16:11:47] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[16:11:49] <bvssvni> capt_redbeard: mostly in the beginning of the program
[16:11:57] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[16:12:03] <bvssvni> capt_redbeard: or when building data structures
[16:12:27] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[16:12:36] <capt_redbeard> bvssvni: I see.
[16:12:51] *** Joins: eevee (eevee@moz-A8156E13.lv.lv.cox.net)
[16:13:05] <bvssvni> capt_redbeard: at least it is my gut feeling :P
[16:13:15] *** Joins: twi (Adium@moz-1624F85E.cust.vodafonedsl.it)
[16:13:23] *** Quits: lawrence (lawrence@moz-33F5645C.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:13:29] *** Quits: twi (Adium@moz-1624F85E.cust.vodafonedsl.it) (Max SendQ exceeded)
[16:13:29] <capt_redbeard> bvssvni: Well rust idioms are still young and developing so it'll probably get better with time :D
[16:13:31] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[16:14:11] <bvssvni> capt_redbeard: Rust teaches me programming :)
[16:14:19] <capt_redbeard> bvssvni: Still getting that error with you suggestion :(
[16:14:37] *** Quits: fabiand (fabiand@moz-7E87A5A2.adsl.alicedsl.de) (Quit: Verlassend)
[16:14:42] <bvssvni> capt_redbeard: hmm... do you have this project on Github?
[16:15:02] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[16:15:42] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[16:15:44] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[16:16:04] <bvssvni> capt_redbeard: I do not fully understand the connections between pointers to trait and Send
[16:16:09] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:16:34] <capt_redbeard> bvssvni: https://github.com/kylecook80/RustGameEngine
[16:16:53] <sourab> I want to learn Rust :)
[16:17:19] <bvssvni> sourab: I think you have came to the right place
[16:17:52] *** Joins: twi (Adium@moz-231F02E1.cust.vodafonedsl.it)
[16:18:17] *** Quits: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP) (Connection reset by peer)
[16:18:39] *** Joins: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP)
[16:19:07] *** Joins: Ferreus (ferreus@moz-D119F307.lsn.wtnet.de)
[16:21:12] *** Quits: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP) (Ping timeout)
[16:21:24] <adridu59> capt_redbeard: you shouldn't need to use ~ often indeed, it is for owned objects i.e. when you want to guarantee that there is only one owner at a time; heap allocation comes at a cost when not used wisely
[16:21:44] <adridu59> I mean there are things that are done better on the stack
[16:21:50] *** Quits: adridu59 (Mibbit@moz-CB54E913.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:22:00] <capt_redbeard> adridu59: I will definitely keep that in mind. 
[16:23:17] <bvssvni> capt_redbeard: I need to build SFML :P
[16:23:36] <capt_redbeard> bvssvni: Ya I had to figure that out too xD
[16:23:48] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:23:56] *** Joins: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP)
[16:24:23] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Ping timeout)
[16:24:52] *** Joins: capt_redbeard1 (Adium@F416BC25.A8BE9D67.18422E69.IP)
[16:25:58] *** Parts: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) ()
[16:26:06] *** Quits: capt_redbeard (Adium@ADA3AAC7.B947D2CB.18422E69.IP) (Ping timeout)
[16:26:20] *** Quits: tanayseven (tanay@135D48A9.77162C14.5A7A4C68.IP) (Ping timeout)
[16:26:21] *** Joins: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[16:26:28] <bvssvni> capt_redbeard: do you use Linux?
[16:26:45] *** Joins: capt_redbeard (Adium@C512E1FD.BD23FBF0.18422E69.IP)
[16:26:50] <bvssvni> capt_redbeard: do you use Linux?
[16:27:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:27:13] <bvssvni> capt_redbeard: I wonder where to put the 'include', 'lib' and 'share' folders
[16:27:23] *** Quits: capt_redbeard1 (Adium@F416BC25.A8BE9D67.18422E69.IP) (Ping timeout)
[16:27:41] *** Joins: capt_redbeard1 (Adium@F416BC25.A8BE9D67.18422E69.IP)
[16:28:05] <capt_redbeard1> bvssvi: I am actually using OSX.
[16:28:26] *** Quits: capt_redbeard (Adium@C512E1FD.BD23FBF0.18422E69.IP) (Ping timeout)
[16:28:30] *** Joins: capt_redbeard (Adium@C512E1FD.BD23FBF0.18422E69.IP)
[16:28:43] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[16:29:03] *** Joins: capt_redbeard2 (Adium@A7F6F712.B9038C8E.18422E69.IP)
[16:29:16] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:29:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:29:45] *** Quits: capt_redbeard1 (Adium@F416BC25.A8BE9D67.18422E69.IP) (Ping timeout)
[16:29:50] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[16:30:09] *** Joins: Ms2ger (Ms2ger@60B493FD.C305EAEC.F15B0BB3.IP)
[16:30:10] *** Quits: capt_redbeard (Adium@C512E1FD.BD23FBF0.18422E69.IP) (Ping timeout)
[16:30:19] *** Joins: capt_redbeard (Adium@F416BC25.A8BE9D67.18422E69.IP)
[16:30:25] *** Quits: capt_redbeard (Adium@F416BC25.A8BE9D67.18422E69.IP) (Quit: capt_redbeard)
[16:30:44] <bvssvni> http://www.sfml-dev.org/tutorials/2.1/start-linux.php
[16:30:44] *** Quits: capt_redbeard2 (Adium@A7F6F712.B9038C8E.18422E69.IP) (Ping timeout)
[16:31:54] *** Quits: skade (skade@moz-96E7E015.szi.fh-jena.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:32:59] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:33:02] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:33:21] <bvssvni> I'll used the same sudo apt-get replacing 'sfml' with 'csfml' and it worked :)
[16:33:35] <bvssvni> *almost
[16:33:38] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:33:44] *** Quits: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi) (Quit: Leaving.)
[16:34:16] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:35:40] *** Quits: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Ping timeout)
[16:35:43] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:35:52] *** Joins: josh (josh@514D186.F3BBB17D.144F44FA.IP)
[16:36:14] *** Joins: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de)
[16:36:27] *** Quits: AvianFlu_ (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[16:36:37] *** Joins: dave1629 (dave@90E423BA.8878667B.DDE5D3F6.IP)
[16:37:18] <bvssvni> capt_redbeard: your makefile is set up to link to rsfml outside the project directory
[16:37:28] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[16:37:29] <bvssvni> capt_redbeard1: ^
[16:37:41] <bvssvni> capt_redbeard2: ^
[16:37:44] <bvssvni> hmm
[16:40:34] *** Joins: skade (skade@moz-96E7E015.szi.fh-jena.de)
[16:41:38] *** Joins: nkoep (nik@moz-B6E9B3AA.pool.mediaways.net)
[16:42:16] *** Quits: sourab (jnu@C8C6A953.C9F495D8.A74A2098.IP) (Quit: )
[16:43:05] *** Quits: dave1629 (dave@90E423BA.8878667B.DDE5D3F6.IP) (Quit: dave1629)
[16:43:14] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:43:37] <Kroisse> weird binary tree https://gist.github.com/Kroisse/9414957
[16:43:58] *** Quits: twi (Adium@moz-231F02E1.cust.vodafonedsl.it) (Ping timeout)
[16:44:00] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[16:44:01] <Kroisse> struct BinTree<T>(Option<BinNode<T>>); works but looks ugly
[16:44:40] *** Joins: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP)
[16:45:01] <hoverbea_> Kroisse: I guess that's so you can have an empty tree?
[16:45:14] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[16:45:41] *** Joins: twi (Adium@moz-231F02E1.cust.vodafonedsl.it)
[16:45:46] *** Quits: twi (Adium@moz-231F02E1.cust.vodafonedsl.it) (Max SendQ exceeded)
[16:45:49] <Kroisse> you're right
[16:45:52] *** Joins: twi (Adium@moz-231F02E1.cust.vodafonedsl.it)
[16:45:59] <bvssvni> capt_redbeard: ping
[16:46:31] *** Quits: twi (Adium@moz-231F02E1.cust.vodafonedsl.it) (Connection reset by peer)
[16:46:33] *** Quits: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net) (Connection reset by peer)
[16:46:41] *** Joins: mixi (mixi@moz-DBD8904A.org)
[16:46:49] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[16:47:03] *** Joins: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net)
[16:47:11] <bvssvni> Kroisse: maybe a type declaration would do the same job
[16:47:29] *** Joins: twi (Adium@moz-231F02E1.cust.vodafonedsl.it)
[16:47:40] *** Quits: twi (Adium@moz-231F02E1.cust.vodafonedsl.it) (Max SendQ exceeded)
[16:47:40] *** Parts: josedonizetti (josedonize@CD432731.14BD676C.8EF76F75.IP) ()
[16:47:46] *** Joins: twi (Adium@moz-231F02E1.cust.vodafonedsl.it)
[16:48:02] <bvssvni> Kroisse: type BinTree<T> = Option<BinNode<T>>
[16:48:10] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[16:48:12] *** Quits: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de) (Ping timeout)
[16:48:18] *** Parts: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) ()
[16:48:47] <bvssvni> Kroisse: type BinTree<T> = Option<~BinNode<T>> perhaps?
[16:49:24] *** Joins: Kxepal832 (Miranda@moz-413026B1.pppoe.mtu-net.ru)
[16:49:24] *** Joins: dherman (dherman@F16146EB.9D3722BB.58DC3EE6.IP)
[16:49:24] *** ChanServ sets mode: +ao dherman dherman
[16:49:41] *** Quits: Kxepal (Miranda@moz-365192ED.pppoe.mtu-net.ru) (Ping timeout)
[16:49:45] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[16:49:47] <Kroisse> bvssvni: that's work as a type synonym, and it can't have its own impls.
[16:50:10] <Kroisse> and I don't want to add a trait for this simple example
[16:50:39] <bvssvni> Kroisse: ah
[16:50:40] <Kroisse> but... in the result it looks verbosely
[16:51:47] <bvssvni> Kroisse: I would put the owned pointer inside the Option
[16:52:18] *** Quits: skade (skade@moz-96E7E015.szi.fh-jena.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:52:26] <bvssvni> Kroisse: to avoid allocation to None
[16:52:30] <Kroisse> that makes save some heaps for null nodes
[16:52:39] <Kroisse> thanks bvssvni 
[16:53:22] *** Joins: capt_redbeard (Adium@A2675AF9.DF6E5361.18422E69.IP)
[16:54:35] <capt_redbeard> I apologise for that. Intermittent internet at the moment.
[16:55:28] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[16:56:20] <bvssvni> capt_redbeard: I posted a comment on the gist
[16:56:44] *** Parts: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net) ()
[16:56:46] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[16:56:48] <bvssvni> capt_redbeard: got past the error messages, but some other weird errors appeared
[16:56:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:57:01] <bvssvni> capt_redbeard: probably something with sfml
[16:57:38] *** Quits: botond (botond@13F2CEC5.7672369.D8E68FF6.IP) (Input/output error)
[16:58:29] <bvssvni> capt_redbeard: btw, the makefile links to sfml in another directory outside the project directory
[16:58:56] *** Joins: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de)
[16:58:57] <bvssvni> capt_redbeard: usually one puts it in a 'lib' folder inside the project directory
[16:59:19] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[16:59:20] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:59:28] <capt_redbeard> bvssvni: Oh I didn't know the standard for that. I'll put it in there.
[16:59:56] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[17:00:11] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[17:00:12] *** Parts: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) ()
[17:01:44] *** Quits: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de) (Ping timeout)
[17:04:09] *** Quits: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr) (Ping timeout)
[17:04:40] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:04:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:05:42] *** pmoore|dinner is now known as pmoore
[17:06:08] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[17:06:58] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Input/output error)
[17:07:16] *** Quits: murph1 (murph@moz-29F9DAC6.oracle.com) (Quit: WeeChat 0.4.1)
[17:08:47] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[17:09:58] *** Joins: mib_b998yg (Mibbit@94411950.D02086A6.9AE24CA5.IP)
[17:11:45] *** Quits: benjamin_____ (benjamin@moz-D829DE2A.dip0.t-ipconnect.de) (Ping timeout)
[17:11:49] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[17:12:18] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Input/output error)
[17:12:21] *** Joins: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net)
[17:12:31] *** Joins: rower (Adium@moz-F2C155A3.girton.cam.ac.uk)
[17:12:37] <capt_redbeard> I pushed sfml up to github in my project. Or it'll push as soon as my internet stops messign up.
[17:13:17] *** Parts: mib_b998yg (Mibbit@94411950.D02086A6.9AE24CA5.IP) ()
[17:14:47] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[17:15:00] *** Joins: lawrence (lawrence@moz-33F5645C.wireless.utoronto.ca)
[17:15:07] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[17:15:24] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[17:15:28] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:16:25] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[17:16:47] *** Quits: capt_redbeard (Adium@A2675AF9.DF6E5361.18422E69.IP) (Ping timeout)
[17:17:06] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[17:17:06] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[17:17:08] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[17:17:33] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:17:51] *** Parts: rower (Adium@moz-F2C155A3.girton.cam.ac.uk) ()
[17:18:43] <mindcat_> I am still not clear, what is exactly means lifetime? struct Example<'a> { foo: &'a mut BarType}
[17:19:08] *** Joins: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr)
[17:19:09] <mindcat_> I mean this struct lifetime
[17:19:33] *** Joins: dradtke (dradtke@moz-77578067.hfc.comcastbusiness.net)
[17:19:35] <bvssvni> mindcat_: it helps the compiler to check borrowed pointers follow the rules
[17:19:50] <strcat> mindcat_: a lifetime prevents a value from living past a certain point
[17:19:54] *** Joins: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP)
[17:20:07] <dradtke> Hey, I'm getting an "error 137" when trying to build Rust from source, but no other information or error message is provided. Anyone know what this means?
[17:20:08] *** Joins: Kruppe (user@moz-6F161EE2.dynamic.uwaterloo.ca)
[17:20:17] <bvssvni> mindcat_: for example, if you create A and then borrow A, then the borrow pointer must run out of scope before A does
[17:20:17] <strcat> for example, if you take a reference to a variable `x`, then you have a reference with the lifetime of the scope `x` is in
[17:20:40] *** Joins: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP)
[17:20:44] <strcat> enums and structs can have lifetimes just like a reference, whether or not they contain one
[17:20:51] <Kroisse> mindcat_: if you want to contain a borrowed pointer, you should mark its lifetime on contained struct.
[17:21:01] *** Joins: capt_redbeard (Adium@3269D6C7.DF6E5361.18422E69.IP)
[17:21:27] <strcat> for example vector iterators have a lifetime, although they don't contain any & or &mut
[17:22:11] <Kroisse> and the compiler restricts the life span of that struct as same as the contained borrowptr
[17:22:13] * mindcat_ reading
[17:22:13] <bvssvni> dradtke: which os?
[17:22:31] <dradtke> bvssvni: openSUSE 13.1
[17:22:54] <Kroisse> it helps to prevent memory bug like borrowed pointer does
[17:23:32] <capt_redbeard> bvssvni: I updated the game. It compiles and works!
[17:23:44] <bvssvni> dradtke: have you tried sudo?
[17:24:08] *** Joins: capt_redbeard1 (Adium@B4776065.E010653C.18422E69.IP)
[17:24:18] <bvssvni> capt_redbeard: I am building SFML and CSFML from source, then I will try your game :)
[17:24:31] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[17:24:41] *** Joins: maxli (Adium@moz-6F0C4397.thefacebook.com)
[17:24:43] <capt_redbeard1> bvssvni: It doesn't actually do anything yet lol. I'll let you know when it actually does something.
[17:25:02] <bvssvni> capt_redbeard1: I know
[17:25:11] *** Quits: capt_redbeard (Adium@3269D6C7.DF6E5361.18422E69.IP) (Ping timeout)
[17:25:15] <dradtke> bvssvni: I'm already in full root.
[17:25:17] <dradtke> bvssvni: so yes
[17:25:57] <dradtke> the last operation looks like it was trying to copy libsyntax.so
[17:26:02] <dradtke> the last successful one, rather
[17:26:24] <bvssvni> dradtke: perhaps you should post it as an issue, if nobody here knows what the problem is
[17:26:29] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[17:27:19] <bvssvni> dradtke: I usually write 'sudo make install' after './configure'
[17:27:40] <dradtke> bvssvni: I usually do plain 'make' first, then install it afterwards
[17:28:18] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:28:38] <rdgawdzi> Question: How do you create a Result<T, E> to return? I want to return a Result<MetadataBlob, &'static str> in my function.
[17:29:14] *** Quits: maxli (Adium@moz-6F0C4397.thefacebook.com) (Quit: Leaving.)
[17:29:41] *** Joins: maxli (Adium@moz-70F9251D.thefacebook.com)
[17:29:41] <bvssvni> rdgawdzi: Ok(T) or Err(E)
[17:29:54] <rdgawdzi> bvssvni: Thanks 
[17:29:58] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[17:30:09] *** Quits: maxli (Adium@moz-70F9251D.thefacebook.com) (Quit: Leaving.)
[17:30:14] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:30:23] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[17:30:27] * mindcat_ seem understood what is lifetime
[17:30:35] *** Quits: leowoe (Leo@moz-3C592D9B.dip0.t-ipconnect.de) (Quit: Leaving.)
[17:30:37] <mindcat_> rusti: ""
[17:30:42] -rusti- ""
[17:30:44] <dradtke> bvssvni: ah, I found an error by re-running the last command manually: "Environment variable CFG_VERSION not defined"
[17:31:42] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:32:06] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[17:33:39] *** Joins: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net)
[17:34:36] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[17:35:04] *** Joins: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP)
[17:35:05] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: KERNEL UPDATE OH MAN)
[17:35:35] *** Quits: capt_redbeard1 (Adium@B4776065.E010653C.18422E69.IP) (Ping timeout)
[17:35:52] *** Quits: marwy (user@41303A68.5C2AEEF8.CFA44423.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[17:35:58] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[17:36:38] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[17:37:41] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[17:37:53] *** Quits: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP) (Ping timeout)
[17:38:03] *** Quits: frogzilla (Mibbit@E87770CF.F746F57.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:38:04] *** Joins: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP)
[17:38:55] *** Quits: StarLight (StarLight@moz-2E07186B.dynamic.avangarddsl.ru) (Ping timeout)
[17:39:05] <mindcat_> rusti: let c; {let b = ~[~'a',~'b',~'c']; c = b.iter()}; c
[17:39:06] -rusti- pastebinned 15 lines of output: http://sprunge.us/ZCDB
[17:39:13] <mindcat_> that is it
[17:41:10] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[17:41:14] *** Joins: nrc (nrc@F16146EB.9D3722BB.58DC3EE6.IP)
[17:41:24] <mindcat_> that example will help me understand lifetime
[17:41:37] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[17:41:56] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[17:43:19] *** Joins: StarLight (StarLight@149AAB79.EB175431.F1EF1E39.IP)
[17:44:14] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[17:44:21] *** Joins: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP)
[17:44:21] *** ChanServ sets mode: +ao brson brson
[17:45:06] <mindcat_> because vector b is gone, iterator pointer 'c
[17:45:18] <mindcat_> because vector 'b' is gone, iterator pointer 'c' is... 
[17:45:50] * mindcat_ don't want continue for explain it now
[17:46:34] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[17:46:54] * mindcat_ thinks Rust should be replace C/C艹
[17:47:00] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[17:47:28] *** Quits: josh (josh@514D186.F3BBB17D.144F44FA.IP) (Quit: josh)
[17:47:47] *** Joins: kris (kris@moz-858C05A0.u.parknet.dk)
[17:47:54] *** Joins: josh (josh@514D186.F3BBB17D.144F44FA.IP)
[17:48:52] <dradtke> anyone know why the CFG_VERSION environment variable wouldn't be defined when building Rust?
[17:49:06] *** Quits: josh (josh@514D186.F3BBB17D.144F44FA.IP) (Quit: josh)
[17:50:05] <bvssvni> dradtke: did you forgot './configure'?
[17:50:35] <Yurume> is it now forbidden to move out of the vector pattern? (since unique vector pattern is gone)
[17:50:43] *** Joins: sellout (Adium@A186F63D.9FCBC8CB.91651C13.IP)
[17:50:44] <kimundi> Yurume: yes
[17:50:59] *** Quits: kris (kris@moz-858C05A0.u.parknet.dk) (Ping timeout)
[17:51:34] <Yurume> (I was actually confused by "unique" vector pattern, it turned out to be a vector pattern matched to the unique vector.)
[17:51:34] *** jorendorff is now known as jorendorff_away
[17:51:56] <bvssvni> dradtke: the full install (by reddit) 'git clone https://github.com/mozilla/rust.git && cd rust && ./configure && make install'
[17:52:06] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[17:52:23] <bvssvni> *according to
[17:53:02] *** Joins: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP)
[17:53:06] <dradtke> no, I didn't forget './configure'
[17:53:11] *** Quits: sellout (Adium@A186F63D.9FCBC8CB.91651C13.IP) (Connection reset by peer)
[17:53:14] <dradtke> but it doesn't list anything in the output about a CFG_VERSION environment variable
[17:53:16] <Yurume> kimundi, is the same thing planned for strings? I think it is quite inefficient to do `match s { ~"foo" | ~"bar" => ..., _ => ... }` right now (same as `if s == ~"foo" || s == ~"bar" { ... } else { ... }`)
[17:53:20] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:53:21] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:53:42] <bvssvni> dradtke: I was just guessing
[17:53:53] <kimundi> Yurume: ownes string patterns will also get the axe afaik
[17:54:00] <kimundi> owned*
[17:54:23] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Client exited)
[17:54:35] <Yurume> replaced with `match s.as_slice() { "foo" | "bar" => ..., _ => ... }` then?
[17:54:40] <kimundi> yeah
[17:54:55] <Yurume> good to now that
[17:54:57] <Yurume> know*
[17:55:01] <kimundi> for strings, thats the same anyway
[17:55:24] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:56:47] <Yurume> and no other optimizations right now?
[17:57:01] <bvssvni> dradtke: looks like CFG_VERSION is a flag to get the git directory
[17:57:11] <Yurume> (I think D does some optimizations to avoid naive comparisons)
[17:57:27] <bvssvni> dradtke: https://github.com/mozilla/rust/search?q=CFG_VERSION&ref=cmdform
[17:57:29] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[17:57:29] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:58:31] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[17:59:18] <kimundi> Yurume: I doubth that Rusts string pattern matching does something smart here - but theoretically it could create a state machine to find the correct matching arm in the least number of comparisons. But at the same time, I think for typical string lengths the overhead would be bigger than the naive comparison
[17:59:31] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[17:59:40] *** Quits: lawrence (lawrence@moz-33F5645C.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:59:59] <kimundi> Guess it depends on the number of match arms
[18:00:06] *** Joins: mgottschlag (quassel@moz-856C64E8.cust.bluewin.ch)
[18:00:21] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[18:00:24] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[18:00:27] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[18:00:30] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[18:00:33] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[18:00:36] <bascule>                                         
[18:00:40] <kimundi> rusti: let t="Step up your game, bascule!";let s = "<"+t+">   ^__^\n ü \\  (oo)\\_______\n ü    (__)\\       )\\/\\\n ü        ||----w |\n ü        ||     ||";let mut i=0u8;for l in s.lines(){println!("{}",l.chars().map(|x|{let s="\x03"+(i+50).to_str()+x.to_str();i=(i+1)%14;s}).to_owned_vec().concat().replace("ü"," ".repeat(t.len())))}if true{return}
[18:00:42] -rusti- 50<51S52t53e54p55 56u57p58 59y60o61u62r63 50g51a52m53e54,55 56b57a58s59c60u61l62e63!50>51 52 53 54^55_56_57^
[18:00:42] -rusti- 58 59                           60 61\62 63 50(51o52o53)54\55_56_57_58_59_60_61_
[18:00:42] -rusti- 62 63                           50 51 52 53 54(55_56_57)58\59 60 61 62 63 50 51 52)53\54/55\
[18:00:42] -rusti- 56 57                           58 59 60 61 62 63 50 51 52|53|54-55-56-57-58w59 60|
[18:00:44] -rusti- 61 62                           63 50 51 52 53 54 55 56 57|58|59 60 61 62 63 50|51|
[18:01:04] <bascule> lolol
[18:01:28] <MP2E> much color, such rust, wow
[18:01:38] <YourBestFriend> 05H04E07L08L03O 09T10O 11E02V12E06R13Y05O04N07E
[18:01:42] <Ms2ger> Kids...
[18:01:52] <Ms2ger> We're good now
[18:01:57] <MP2E> heh
[18:02:32] *** Joins: dr_dede (Mibbit@50ECA6EF.54D70605.79DDF70A.IP)
[18:02:55] *** Quits: ganitsu (ganitsu@moz-43D7A305.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[18:03:45] <sfackler> kimundi: I've found that rustc will never optimize a match of string literals beyond a string of strcmps
[18:04:16] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[18:04:39] *** Joins: echristo (echristo@3246441A.D6CCE4AE.77834EAA.IP)
[18:04:57] <kimundi> sfackler: Right, thats what I meant - it doesn't do that now, but hypothetical it could do it, if someone writes the code.
[18:05:03] *** Joins: murph (murph@moz-EA149729.oracle.com)
[18:05:24] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[18:05:46] *** Quits: dr_dede (Mibbit@50ECA6EF.54D70605.79DDF70A.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:06:13] *** Joins: sellout (Adium@A186F63D.9FCBC8CB.91651C13.IP)
[18:06:13] *** Quits: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP) (Connection reset by peer)
[18:06:48] *** Quits: gimpf (gimpf@moz-3BA815CB.adsl.highway.telekom.at) (Quit: Leaving.)
[18:07:26] *** eatkinson-away is now known as eatkinson
[18:07:54] *** Quits: bdr_ (chatzilla@moz-D63AE93E.du.xdsl.is) (Quit: ChatZilla 0.9.87-8.1450hg.fc20 [XULRunner 27.0/20140203120101])
[18:08:24] <steveklabnik> kimundi: bascule ahahaha
[18:08:43] * kimundi waited all week for this
[18:08:48] *** Quits: japaric (japaric@841DCDFF.55B992BD.5C7588CA.IP) (Connection reset by peer)
[18:08:57] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[18:09:21] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:09:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:09:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:09:35] * bvssvni got weird fonts and finally gets the joke
[18:09:44] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[18:10:18] *** Quits: sellout (Adium@A186F63D.9FCBC8CB.91651C13.IP) (Connection reset by peer)
[18:10:18] *** Joins: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP)
[18:10:42] <dradtke> bvssvni: thanks for the tip
[18:10:51] *** Quits: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[18:11:01] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[18:11:02] *** Joins: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP)
[18:11:11] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:11:15] *** pmoore is now known as pmoore|away
[18:11:49] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[18:11:57] *** Joins: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi)
[18:12:23] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[18:13:23] *** Joins: iamstef (sid12605@moz-31ABA2C0.irccloud.com)
[18:14:10] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[18:14:43] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[18:15:23] *** Joins: sellout (Adium@A186F63D.9FCBC8CB.91651C13.IP)
[18:15:28] *** Quits: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP) (Connection reset by peer)
[18:15:52] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[18:18:45] <bvssvni> capt_redbeard: got some problems with CSFML, giving up for today
[18:18:56] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Ping timeout)
[18:20:29] *** Quits: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[18:21:10] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[18:21:26] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:22:47] *** eatkinson is now known as eatkinson-away
[18:23:02] *** eatkinson-away is now known as eatkinson
[18:23:15] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[18:23:30] <bvssvni> anyone tried Rust with Node.js? does it work well?
[18:24:34] <cmr> not to my knowledge.
[18:24:40] <strcat> bvssvni: tried it in what way?
[18:25:03] <bvssvni> it is possible to call C from Node.js, isn't it?
[18:25:05] <kmc> you could write node extension modules in Rust instead of C
[18:25:10] <kmc> yup
[18:25:16] <kmc> I haven't heard of anyone doing this, though
[18:25:34] *** eatkinson is now known as eatkinson-away
[18:25:47] <hoverbea_> bvssvni: If you get it working I'm super interested.
[18:25:49] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:25:59] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[18:26:00] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[18:26:05] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[18:26:14] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:26:15] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[18:26:29] <strcat> node's FFI is very slow so you're rarely going to find performance wins from writing code as a native module (unless you move all the logic there)
[18:26:36] <kmc> for "rust as C library" stuff the most straightforward option is libnative, but the fact that node.js and libgreen both use libuv is intriguing
[18:26:37] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:26:39] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[18:26:53] <bvssvni> I am thinking in terms of type safety
[18:26:54] <kmc> why is node's FFI slow?
[18:26:55] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[18:26:56] *** eatkinson-away is now known as eatkinson
[18:27:11] <strcat> kmc: because of the architecture of the JIT compiler it uses
[18:27:18] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[18:27:29] *** Joins: FreeFull (freefull@moz-FCD0664E.as13285.net)
[18:28:11] <bvssvni> how slow is it?
[18:28:16] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:28:24] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[18:28:31] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[18:28:33] <strcat> kmc: even though JS is significantly slower than C, you're usually better off writing everything in JS (or everything in a native language...) unless it's a long-running function
[18:29:14] <strcat> the use case is more about leveraging existing code and exposing capabilities that aren't already there than performance
[18:29:21] <FreeFull> Interfacing between Javascript and some FFI probably isn't very fast
[18:29:42] <FreeFull> Or maybe not
[18:29:42] <strcat> imo it'd be a bit strange to use rust for it
[18:29:54] <FreeFull> Rust could compile to nacl
[18:30:13] <cmr> FreeFull: have some logs: https://botbot.me/mozilla/rust/msg/11834561/
[18:30:16] <strcat> FreeFull: nacl lives in a separate world from js
[18:30:26] <FreeFull> Yeah
[18:30:27] <dradtke> bvssvni: it looks like my local repo was missing mk/main.mk... I re-cloned it and it looks like it's there now, so hopefully this build will work.
[18:30:29] <strcat> nacl is just a sandbox for native code, it doesn't use v8
[18:30:32] <FreeFull> It's still in-browser though
[18:30:33] <dradtke> bvssvni: thanks for helping me locate that.
[18:30:37] <strcat> FreeFull: node.js isn't a browser
[18:30:40] <cmr> FreeFull: node.js is the topic.
[18:30:45] <FreeFull> Ah, node.js
[18:30:50] <FreeFull> That makes more sense for FFI
[18:31:00] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[18:31:18] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[18:31:25] <FreeFull> Might as well write the whole thing in Rust though, once the libraries/frameworks are there, and the language is stable
[18:31:34] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:32:06] <strcat> yes, that's my point - FFI adds a whole layer of unsafety where you have to push everything down to the lowest common denominator C concepts
[18:32:18] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[18:32:42] *** Joins: zwick (user@moz-4E8B077.hsd1.mi.comcast.net)
[18:33:03] <FreeFull> strcat: You could specifically create a direct rust-javascript FFI, although it'd be a lot of effort for not that much gain
[18:33:14] <strcat> and it'll still be slow ;p
[18:33:45] <strcat> FreeFull: I expect we'll get nice C FFI long before JS FFI that no one is likely to ever benefit from ;p
[18:34:00] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[18:34:02] <strcat> node.js FFI *
[18:34:25] <sellout> bvssvni: Can’t you just compile Rust->JS?
[18:34:36] <bvssvni> sellout: I never done that
[18:34:37] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[18:34:43] <kmc> with emscripten, possibly
[18:34:53] <kmc> V8 doesn't have asm.js (does it?) so performance won't be all that great
[18:35:00] <sellout> bvssvni: Neither have I, but Mozilla is building the tools :)
[18:35:10] <cmr> it does work, I've gotten a hello world.
[18:35:21] <kmc> yay
[18:35:27] <bvssvni> cmr: you use make tutorial pls
[18:35:31] <cmr> to get beyond that, though, we need to make trans stop emitting certain IR
[18:35:36] <cmr> bvssvni: it's not useful.
[18:35:41] <cmr> you can't do anything beyond bone-dry FFI
[18:35:49] *** Joins: dredozubov (dredozubov@moz-27F4E83B.pppoe.mtu-net.ru)
[18:35:59] <sellout> cmr: IR that emscripten can’t yet handle?
[18:36:02] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[18:36:02] <cmr> sellout: yes.
[18:36:13] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[18:36:16] *** Quits: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net) (Ping timeout)
[18:36:23] *** Quits: novabyte (novabyte@C3D050EC.6035C672.1A294DCF.IP) (Quit: Leaving.)
[18:36:25] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[18:36:31] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:36:31] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[18:36:56] <cmr> hm looking at their wiki page on fastcomp it might have been fixed.
[18:36:59] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:37:19] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:38:01] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[18:38:01] *** ChanServ sets mode: +o tjc
[18:38:25] <strcat> kmc: v8 doesn't have explicit support for asm.js, but it's not far behind firefox with explicit asm.js support
[18:38:40] <strcat> kmc: and you can target pnacl instead of asm.js
[18:39:06] <strcat> you can also compile pnacl -> asm.js, for what little that's worth
[18:39:08] <sellout> I’ve been meaning to try Idris->emscripten … but that is getting pretty far off topic for here :)
[18:39:37] <strcat> http://trypepperjs.appspot.com/
[18:39:59] <strcat> although I'm not sure how you deal with stuff like threads if you want to do that...
[18:40:06] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[18:40:44] <strcat> (pnacl is a *lot* faster than asm.js in either browser)
[18:40:46] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[18:40:59] <kmc> sellout: doesn't idris have its own js backend that isn't emscripten-based?
[18:41:01] *** Quits: CarpNet (ac@98575CFC.588FCCCF.2D84FE65.IP) (Quit: Leaving)
[18:41:35] <sellout> kmc: Oh! I wasn’t aware. That’s even better.
[18:41:55] <kmc> I think that's the case
[18:42:31] <sellout> My goal was to have some verified code as a portable library, so LLVM-> .so and LLVM -> js was my plan.
[18:42:32] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[18:42:40] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[18:43:36] <strcat> what does emscriptem do with threads?
[18:43:40] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: bbl)
[18:43:46] <bvssvni> sellout: how long does it take to be mediocre at Idris?
[18:43:59] <kmc> strcat: I think it doesn't...
[18:44:01] <cmr> strcat: it doesn't have a pthread wrapper
[18:44:12] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[18:44:13] *** ChanServ sets mode: +o jdm
[18:44:30] <sellout> bvssvni: I’ll let you know when I get there. I’ve only used Coq so far :)
[18:44:50] <FreeFull> And how would you run pnacl in firefox?
[18:45:01] <bvssvni> sellout: I tried install Coq on mac, but it failed
[18:45:36] *** Joins: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[18:45:43] *** Joins: q66 (q66@moz-53E60E69.dab.02.net)
[18:45:44] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[18:45:46] <strcat> FreeFull: you can compile pnacl -> asm.js, but you lose threads that way
[18:45:50] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[18:45:52] <strcat> among other things
[18:46:00] *** Joins: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP)
[18:46:10] *** Quits: sellout (Adium@A186F63D.9FCBC8CB.91651C13.IP) (Ping timeout)
[18:46:15] <strcat> if all you want is a portable sandbox, you don't need a web browser though
[18:46:19] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[18:46:31] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[18:46:48] *** eatkinson is now known as eatkinson-away
[18:47:05] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:47:15] <bvssvni> what I want is a rich user interface, cross platform and easily integrated with Rust
[18:47:25] <cmr> well, you can get that middle one...
[18:47:41] *** Joins: untitaker (untitaker@moz-C820B107.adsl.highway.telekom.at)
[18:48:19] <strcat> bvssvni: I think you're looking in the wrong place then
[18:48:36] <bvssvni> strcat: I can wait :P
[18:48:41] <strcat> you're not going to have most of the rust stdlib (and you won't be able to recreate it) with asm.js
[18:49:06] <strcat> qt works fine on android, ios, windows, osx, linux, freebsd, openbsd, netbsd, [...]
[18:49:35] <bvssvni> it doesn't have Rust bindings yet, does it?
[18:49:51] <FreeFull> QT does weird preprocessor magic that makes interfacing with it outside of C++ hard
[18:50:38] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[18:50:40] <FreeFull> GTK+ and wxwidgets are easier to interface with, but they have their own problems
[18:50:47] <strcat> gtk+ isn't very portable.
[18:50:47] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[18:51:07] <strcat> it doesn't work very well on OS X and windows, let alone android/ios
[18:51:19] <strcat> looks alien + has lots of broken bits
[18:51:55] <cmr> better than broken bytes!
[18:51:58] * cmr runs
[18:52:11] <bvssvni> Rust has a benefit that it is very cross platform by nature
[18:52:28] <bvssvni> perhaps new gui can be built on top of it
[18:53:29] <bvssvni> everything runs in the browser nowdays
[18:53:34] <bvssvni> why not go full os?
[18:53:43] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:53:47] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[18:54:05] <strcat> bvssvni: it's cross-platform because of the stdlib abstractions
[18:54:26] <bvssvni> strcat: I know, just dreaming :)
[18:55:05] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[18:55:27] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[18:55:41] <strcat> EFL has a great C API, if you're happy using that
[18:55:53] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[18:56:44] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[18:56:53] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:56:59] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Connection reset by peer)
[18:57:08] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[18:57:13] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[18:57:29] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[18:57:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:58:03] <edwardw> a dumb question, how to turn off a lint? I tried #[ignore(...)]...
[18:58:27] <bvssvni> edwardw: allow?
[18:58:32] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:58:40] <edwardw> bvssvni: ah of course. ty
[18:58:40] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:59:05] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:00:09] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:00:21] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:00:47] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[19:01:30] *** Quits: sellout1 (Adium@A186F63D.9FCBC8CB.91651C13.IP) (Quit: Leaving.)
[19:01:37] *** Quits: dredozubov (dredozubov@moz-27F4E83B.pppoe.mtu-net.ru) (Input/output error)
[19:01:45] *** Quits: mgottschlag (quassel@moz-856C64E8.cust.bluewin.ch) (Ping timeout)
[19:03:37] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[19:04:00] *** Parts: aepsil0n (eduard@moz-B5507714.hsi8.kabel-badenwuerttemberg.de) ()
[19:04:37] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:04:55] *** Joins: ganitsu (ganitsu@moz-43D7A305.dialup.adsl.anteldata.net.uy)
[19:05:06] *** Quits: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[19:05:30] *** Joins: balogd (balogd@moz-8081A908.bluebird.ibm.com)
[19:06:39] *** jorendorff_away is now known as jorendorff
[19:08:27] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:08:48] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:09:26] *** Joins: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP)
[19:10:28] *** Joins: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr)
[19:11:19] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:11:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:12:04] *** Joins: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net)
[19:12:16] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[19:12:43] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[19:14:03] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Quit: Leaving...)
[19:14:13] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:14:14] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:14:24] *** Quits: ganitsu (ganitsu@moz-43D7A305.dialup.adsl.anteldata.net.uy) (Ping timeout)
[19:14:33] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[19:14:58] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[19:15:01] *** Joins: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[19:15:37] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[19:16:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:16:42] *** Quits: dranov (dranov@6D2AE96C.E32498A9.FCAAE698.IP) (Ping timeout)
[19:17:31] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:18:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:18:34] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[19:18:35] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[19:18:47] *** Joins: blindrenderer (blindrende@F9033757.329A1D83.D01D599A.IP)
[19:20:09] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[19:20:14] *** Joins: mindcat (mindcat@AA57D3E1.68CEB32F.57E3C596.IP)
[19:21:16] *** Joins: gwty (gwtypc@8EB8AC29.BB7EB00B.137C914F.IP)
[19:22:52] *** Joins: dranov (dranov@8CF873A9.3C4F00D.E16F0CF5.IP)
[19:22:54] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[19:22:59] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[19:23:09] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[19:24:25] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[19:25:52] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[19:26:03] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[19:26:35] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[19:26:40] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[19:27:18] <pongad> Is there an issue in place for removing ~str pattern?
[19:27:31] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[19:27:35] *** Joins: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de)
[19:27:43] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[19:28:12] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[19:28:27] <Jemaclus> i hate it when someone beats me to it. (re: Rust grammar for Atom editor)
[19:28:28] <Jemaclus> hehe
[19:28:57] *** Quits: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[19:29:39] *** Joins: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP)
[19:31:09] *** Quits: blindrenderer (blindrende@F9033757.329A1D83.D01D599A.IP) (Ping timeout)
[19:33:53] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:34:44] *** Joins: skade (skade@moz-A816682.web.vodafone.de)
[19:34:57] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[19:34:59] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[19:35:38] *** eatkinson-away is now known as eatkinson
[19:35:56] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[19:36:07] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[19:36:14] <tristram> is there anyone from Paris here ? I promised to give my adress after the meetup, but I forgot who to contact :)
[19:36:39] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[19:37:09] *** Quits: skade (skade@moz-A816682.web.vodafone.de) (Ping timeout)
[19:37:45] <Ms2ger> Probably all at dinner
[19:38:06] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[19:38:31] *** Quits: gwty (gwtypc@8EB8AC29.BB7EB00B.137C914F.IP) (Connection reset by peer)
[19:39:39] *** eatkinson is now known as eatkinson-away
[19:39:48] *** Joins: fabiand (fabiand@moz-7E87A5A2.adsl.alicedsl.de)
[19:41:30] *** Joins: gwty (gwtypc@E3B3B46E.89CCF027.137C914F.IP)
[19:42:14] *** Joins: skade (skade@moz-A816682.web.vodafone.de)
[19:43:10] *** Quits: skade (skade@moz-A816682.web.vodafone.de) (Connection reset by peer)
[19:44:09] *** Quits: mojoB (mojoB@moz-A4312114.static.exetel.com.au) (Ping timeout)
[19:45:32] <pongad> I was helping eddyb remove ~str patterns the other day, but I don't see an issue on the tracker....am I missing something?
[19:45:45] *** Quits: fabiand (fabiand@moz-7E87A5A2.adsl.alicedsl.de) (Quit: Verlassend)
[19:46:52] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[19:46:56] <bvssvni> tristram: maybe you can find it in the logs https://botbot.me/mozilla/rust/
[19:47:03] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[19:47:21] <eddyb> pongad: talk to pcwalton... but he's not around
[19:47:39] <pongad> eddyb: Gotcha.
[19:47:40] <tristram> Ms2ger: can’t they dinner in front of IRC as any decent person?
[19:47:55] <Ms2ger> Oh
[19:48:08] <pongad> eddyb: I'm in the process of fixing the tests now. Not sure if my fixes will defeat the purposes of the tests or not :D
[19:48:16] <Ms2ger> I thought this was another channel where they're just having a meeting in Paris :)
[19:48:51] *** Joins: leowoe (Leo@moz-A9B5ADEC.dip0.t-ipconnect.de)
[19:48:58] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[19:49:39] <eddyb> pongad: but we're removing ~[T] and ~str, and ~str was kinda forgotten, so good work ;)
[19:49:44] *** Quits: marianoguerra (marianogue@moz-BFD2DBB7.dip0.t-ipconnect.de) (Ping timeout)
[19:49:49] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[19:50:11] *** Joins: mojoB (mojoB@moz-A4312114.static.exetel.com.au)
[19:50:38] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:51:01] *** Quits: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[19:51:17] <pongad> eddyb: :D
[19:51:59] <eddyb> Eridius: #DSTsolvesthis http://www.reddit.com/r/rust/comments/1ztonu/conditional_reference_return_cannot_move_out_of/
[19:52:30] <eddyb> Eridius: you can dereference unsized arrays and trait objects exactly for this purpose
[19:52:35] <eddyb> (under DST)
[19:53:11] <eddyb> &*(Rc::new(x) as Rc<Trait>) should also work
[19:53:52] *** Joins: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP)
[19:54:38] <pongad> To be clear...what's DST?
[19:54:40] <pongad> :D
[19:55:01] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[19:55:31] *** Joins: blindrenderer (blindrende@F9033757.329A1D83.D01D599A.IP)
[19:55:33] <eddyb> pongad: google "DST5 Rust"
[19:55:34] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[19:55:47] *** Joins: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP)
[19:55:49] <eddyb> I don't really have time to IRC right now :P
[19:56:29] <kmc> pongad: http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[19:56:36] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[19:56:36] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[19:57:01] <kmc> DST stands for "dynamically sized types", i.e. things like str and [T] and Trait, which aren't actually types in Rust today
[19:57:03] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[19:58:11] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:58:31] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[19:59:12] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[19:59:13] *** Quits: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[19:59:34] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:59:51] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[20:00:01] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[20:00:20] *** Quits: mye (mye@moz-92FD1060.dip0.t-ipconnect.de) (Quit: mye)
[20:00:22] <pongad> kmc: I take it that's the reason we removed [T] and now removing str?
[20:00:32] <pongad> Well ~[T] and ~str
[20:00:57] <eddyb> yeah, we have to burn the old bridges to build shiny new ones :P
[20:01:06] *** Joins: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP)
[20:01:15] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:01:15] <eddyb> ~[T] / ~str are also using an inefficient representation
[20:01:37] <pongad> Wait, aren't we just removing ~str in the patterns though?
[20:01:38] <eddyb> and changing them in the compiler is harder than using a library type
[20:01:39] *** Quits: bollu|away (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[20:01:46] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Connection reset by peer)
[20:01:55] <eddyb> pongad: as a starting point
[20:02:09] <pongad> of course
[20:02:20] *** Quits: dranov (dranov@8CF873A9.3C4F00D.E16F0CF5.IP) (Quit: Leaving)
[20:02:41] <eddyb> then replacing ~str with Str and automatic conversions to &str with .as_slice()
[20:03:11] <eddyb> &str and &[T] will stay, since DST will not change their representation
[20:03:23] <pongad> I see, so then strings won't be a compiler magic anymore
[20:03:43] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[20:03:49] <eddyb> growable ones
[20:04:22] <eddyb> the DST representation is simple enough to not be considered magic
[20:04:34] <eddyb> though it should allow for infinite dimensional nesting
[20:04:45] <eddyb> [[[[T]]]]
[20:04:56] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:04:57] <eddyb> have the 4D array spider
[20:05:10] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[20:05:12] <eddyb> fluffy, catch!
[20:05:21] <eddyb> (wait, you're no fluffy!)
[20:05:40] * bvssvni [[[[T]]]]  eeeeek!
[20:05:51] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[20:06:21] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[20:06:34] <eddyb> <*><*><*>
[20:06:34] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[20:06:36] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:06:40] <FreeFull> <$>
[20:06:44] <Kroisse> I have a question about the dynamically-sized array
[20:06:51] <eddyb> FreeFull: that's not valid imaginary notation :P
[20:07:01] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[20:07:36] <edwardw> rusti: <$>
[20:07:37] <Kroisse> for now, ~[T] knows its size, &[T] too.
[20:07:38] -rusti- <anon>:10:9: 10:10 error: unexpected token: `<`
[20:07:39] -rusti- <anon>:10         <$>
[20:07:39] -rusti-                   ^
[20:07:39] -rusti- application terminated with error code 101
[20:08:06] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[20:08:08] <eddyb> Kroisse: &[T] won't change
[20:08:19] <FreeFull> It'd be neat if the complex number part of Num had convieniences like 3.0 being Cmplx::new(3.0,0.0) and I being Cmplx::new(0.0,1.0) or such
[20:08:21] <eddyb> it will become the super-pattern for all DSTs
[20:08:29] <FreeFull> Although I would have to be more generic
[20:08:36] <Kroisse> [T, ..n] doesn't know how long it is, but its size is known at the compile time
[20:08:49] <pongad> rusti: let x: ~[str]
[20:08:49] -rusti- <anon>:11:5: 11:6 error: expected `;` but found `}`
[20:08:49] -rusti- <anon>:11     };
[20:08:49] -rusti-               ^
[20:08:50] -rusti- application terminated with error code 101
[20:08:53] <eddyb> &[T] and &Trait, I should say
[20:08:54] <pongad> rusti: let x: ~[str];
[20:08:55] -rusti- <anon>:10:18: 10:21 error: bare `str` is not a type
[20:08:56] -rusti- <anon>:10         let x: ~[str];
[20:08:56] -rusti-                            ^~~
[20:08:56] -rusti- error: aborting due to previous error
[20:08:56] *** concrete.mozilla.org sets mode: +M 
[20:08:56] -rusti- application terminated with error code 101
[20:09:08] *** Joins: japaric (japaric@5F2F039.6B340C30.BFC118EE.IP)
[20:10:14] <FreeFull> rusti: let x: [u8..3]
[20:10:19] -rusti- <anon>:10:19: 10:21 error: expected `]` but found `..`
[20:10:19] -rusti- <anon>:10         let x: [u8..3]
[20:10:19] -rusti-                             ^~
[20:10:19] -rusti- application terminated with error code 101
[20:10:23] <FreeFull> rusti: let x: [u8..3];
[20:10:23] -rusti- <anon>:10:19: 10:21 error: expected `]` but found `..`
[20:10:23] -rusti- <anon>:10         let x: [u8..3];
[20:10:24] -rusti-                             ^~
[20:10:24] -rusti- application terminated with error code 101
[20:10:29] <FreeFull> rusti: let x: [u8,..3];
[20:10:31] -rusti- <anon>:10:13: 10:14 warning: unused variable: `x`, #[warn(unused_variable)] on by default
[20:10:31] -rusti- <anon>:10         let x: [u8,..3];
[20:10:32] -rusti-                       ^
[20:10:32] -rusti- ()
[20:10:45] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[20:10:48] <pongad> eddyb: Question, how do we match ~[~str]?
[20:10:59] <eddyb> pongad: uhm...
[20:11:06] <pongad> There's a test doing it, and I don't really want to delete it :D
[20:11:11] <eddyb> with .as_slice() on the outer one
[20:11:18] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[20:11:23] <eddyb> and then take every child by reference
[20:11:29] <eddyb> and compare it in the pattern guard :/
[20:11:36] <eddyb> Kroisse: [T, ..N] doesn't contain N in its representation, but in its type
[20:12:15] <pongad> eddyb: Does the unreachable pattern checks for scope guards?
[20:12:26] <pongad> If it doesn't, it defeats the purpose of the test
[20:12:57] <pongad> eddyb: The test is meant to check for compilation failures on unreachable match cases
[20:13:16] <Kroisse> oops
[20:13:20] <Kroisse> phew
[20:13:51] <Ms2ger> huon, any news on the use-order-lint?
[20:13:51] *** concrete.mozilla.org sets mode: -M 
[20:13:53] <Kroisse> I'd unregistered in the nickserv before
[20:13:59] <eddyb> pongad: string patterns can't be exhaustive
[20:13:59] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[20:14:01] <Kroisse> what the...
[20:14:31] <Kroisse> concrete.mozilla.org, how cruel you are!
[20:14:34] <eddyb> pongad: you can always add another character
[20:14:37] <pongad> eddyb: http://pastebin.com/Smn94XMv
[20:14:49] <bvssvni> Kroisse: I also experience problems sometimes
[20:14:55] <eddyb> pongad: oh, that
[20:15:11] <Kroisse> so...
[20:15:24] <pongad> eddyb: I'm wondering if it's appropriate to just delete that part. There are other tests in the same file
[20:15:31] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[20:15:37] <eddyb> pongad: anything can go on that line, as long as it has at least 3 vector entries
[20:15:47] <eddyb> pongad: it doesn't need string literals, it can be all _
[20:16:00] <eddyb> well, not at least 3, at least 1
[20:16:09] <eddyb> wait, no, 3 =))
[20:16:22] <pongad> :D
[20:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:16:33] <eddyb> [_, _, _, _, _] => { } //~ ERROR unreachable pattern
[20:16:37] <eddyb> that should work just as well
[20:16:39] <Kroisse> eddyb: if DST has been available, Rc<[T]> is possible, and the size of this array is known by Rc<T>. Is it correct?
[20:17:00] <pongad> eddyb: Right of course
[20:17:03] <eddyb> Kroisse: Rc has a pointer to RcBox
[20:17:08] <pongad> eddyb: Rust is a lot smarter than I am
[20:17:14] <eddyb> Kroisse: if the type is unsized, that pointer becomes fat
[20:18:02] <eddyb> so like struct Rc<T>(*(/* refcount */ uint, T));
[20:18:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:18:15] <eddyb> *(uint, [T]) is a pointer to something unsized
[20:18:45] <eddyb> and the erased value of that unsized field ([T]) is stored alongside the data pointer
[20:19:15] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:19:20] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: evanm)
[20:19:24] <eddyb> so Rc<[T]> becomes like (*(uint, ../* data */), /* length */uint)
[20:19:31] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[20:20:25] <Kroisse> hmm... is it possible on the current syntax of Rust?
[20:20:40] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[20:21:14] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[20:21:17] <eddyb> no
[20:21:29] <eddyb> well, the syntax is fine, just the semantics are not there yet
[20:21:34] <Kroisse> it's hard to imagine how to declare Rc<T>
[20:21:40] *** Joins: mgottschlag (quassel@moz-856C64E8.cust.bluewin.ch)
[20:21:44] <eddyb> Kroisse: just like today
[20:21:55] <eddyb> only that you have to remember to put the refcount first
[20:22:09] <eddyb> the DST stuff goes automatically through structures and whatnot
[20:22:20] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[20:22:24] <eddyb> Rc<Trait> as Rc<SuperTrait> should also be possible
[20:22:48] <bvssvni> what
[20:22:53] <bvssvni> that's cool
[20:25:18] <bvssvni> http://cosmic.mearie.org/2014/01/periodic-table-of-rust-types/
[20:26:13] <Kroisse> In your explanation, Rc<T> can have different shapes and it's up to what T is...
[20:26:16] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:26:24] <eddyb> Kroisse: yeah
[20:26:28] <pongad> bvssvni: I think it's a little outdated right? But the idea is pretty great
[20:26:31] <eddyb> Kroisse: that's just *T under DST
[20:26:38] <eddyb> pongad: it's not outdated
[20:26:43] <eddyb> it includes the future too
[20:26:49] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[20:26:51] <pongad> I thought ~[T] is not a thing anymore?
[20:26:54] <eddyb> it is
[20:27:04] <eddyb> its removal is *ongoing*
[20:27:07] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:27:07] <eddyb> not finished
[20:27:21] <pongad> OH
[20:27:29] <eddyb> Kroisse: any pointer can have any DST shape
[20:27:40] <Kroisse> I didn't heard that Rust have template specification or any sort of things...
[20:27:50] <eddyb> it doesn't
[20:28:03] <eddyb> type Ref<T> = &T; Ref<[[T]]> becomes &[[T]] which is (*data, width, height)
[20:28:16] <eddyb> it's just type monomorphization
[20:28:26] <Kroisse> hmm...
[20:28:35] <pongad> Kroisse: It's more like Java generic than C++ templates.
[20:28:37] <eddyb> pointers aren't restricted to being pointer-sized
[20:28:42] <eddyb> pongad: nope, don't say that
[20:28:44] <Kroisse> bvssvni: Yurume wrote that table
[20:28:52] <pongad> eddyb: Isn't it?
[20:28:55] <eddyb> Java doesn't have generics, it's a disgrace
[20:29:00] <pongad> eddyb: LOL
[20:29:17] <eddyb> it is compiled like C++ templates (monomorphized)
[20:29:31] <eddyb> the difference from C++ is that Rust type-checks generics at the definition site
[20:29:35] <Kroisse> pongad: as i know, Rust's one is more similar to C# generics
[20:29:36] <bvssvni> Kroisse: I remember now
[20:29:50] <bvssvni> Kroisse: it's awesome
[20:30:03] <pongad> Right, I guess what I'm saying is we are semantically pretty close to Java
[20:30:23] <pongad> As in, you can't put arbitrary expressions into the compile time parameters
[20:30:35] *** Joins: alonlevy (alon@1E965D02.56017D2D.662727B.IP)
[20:30:36] <Kroisse> Yeah, it's right.
[20:31:06] <eddyb> but Java generics are syntax sugar around Object
[20:31:20] <pongad> This is entirely true
[20:31:38] <eddyb> it would be like using Gc<Any> or Gc<Many> everywhere
[20:31:50] <pongad> Though, is there anything Rust's generic and do that Java's cannot? In terms of what's exposed to the programmer?
[20:31:56] <pongad> can do*
[20:32:01] <eddyb> primitives
[20:32:09] <pongad> Oh yeah
[20:32:14] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[20:32:15] <eddyb> Java can't do shit
[20:32:17] <pongad> :D
[20:32:25] <strcat> Kroisse: rust type-checks it from the definition since all the requirements need to be added as type bounds to the generic parameters
[20:32:44] <strcat> otherwise, it compiles the same way as C++ templates (specialized code for each set of type parameters)
[20:32:58] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:33:04] <strcat> there are other languages with type classes working the same way
[20:33:45] <pongad> I'm not sure what to think about templates, they are....scarry
[20:33:59] <eddyb> strcat: nmatsakis wanted to hear from you about the NonZero pointer stuff btw. not sure where they ended up with the discussion
[20:34:12] <eddyb> pongad: pffft that's nothing
[20:34:22] <strcat> eddyb: as in optimizing Option<Rc<T>> ?
[20:34:29] <eddyb> check out this alien cyclops cyborg spider: trait<*> Functor {...}
[20:34:33] <strcat> I implemented that a while ago
[20:34:35] <strcat> pretty simple
[20:34:39] <eddyb> servo needs it
[20:34:59] <eddyb> for Cell<Option<JS<T>>>
[20:35:16] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[20:35:18] <bvssvni> eddyb: what does <*> do?
[20:35:23] <eddyb> strcat: yeah, I told nmatsakis about that
[20:35:25] <edwardw> Cell<Option<..>> hmm...
[20:35:42] <eddyb> bvssvni: specify the kind "shape" or whatever it is
[20:35:48] <eddyb> * -> * in Haskell
[20:36:09] * bvssvni 's mind is blown
[20:36:27] <eddyb> it means a type you can implement on a generic type that takes one type param
[20:36:30] <eddyb> like Option
[20:37:23] * bvssvni 's brain still can't interpret that sentence :P
[20:37:47] <dymk> Huh, so the semicolon after an if block is optional then
[20:38:00] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[20:38:20] <dymk> What's the rational behind this, if it's parsed as an `expr_stmt_not_block`?
[20:38:24] <bvssvni> dymk: you can remove the semicolons inside and add one after
[20:38:58] <dymk> bvssvni, looks like you can be pretty relaxed with the semicolons, actually 
[20:39:06] *** jorendorff is now known as jorendorff_away
[20:39:31] <dymk> like, expr_if is always parsed as an expression, but there's a special case where it doesn't have to have a trailing semicolon to be a statement
[20:39:50] <mindcat> how can I specify lifetime Struct foo {bar: std::iter::Items<'a, ~uint>} for exist iterator?
[20:39:52] <bvssvni> eddyb: now I got it!
[20:40:46] *** Joins: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP)
[20:40:48] <bvssvni> eddyb: thanks for explaination
[20:41:03] <dymk> bvssvni, ohh okay so it'll just fail in the semantic step then, and complain that the `if {} else {}` isn't unit type
[20:41:32] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:41:40] <Kroisse> to my understanding, T has the responsibility which metadata(size for [T] and vtable for Trait) is needed, and storing this metata is the wrapper(&, Rc<>, etc...)'s job
[20:41:49] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[20:42:08] <Kroisse> do I correctly understood?
[20:42:34] <bvssvni> dymk: everything is an expression, so if you have a {;} the block still returns ()
[20:42:42] <Kroisse> storing this metadata*
[20:42:53] <bvssvni> dymk: you can even write impl on ()
[20:43:21] *** Quits: edwardw (edwardw@ED48E813.BF27AFA4.B9C6B12A.IP) (Quit: Leaving...)
[20:43:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[20:44:00] <mindcat> code: https://gist.github.com/mindcat/9419665 error: http://paste.ubuntu.com/7052100/
[20:44:02] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:44:30] <mindcat> how can I fix this error: cannot infer an appropriate lifetime for region in type/impl due to conflicting requirements
[20:44:53] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[20:45:34] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[20:46:42] * mindcat think was answer him peoples all busy
[20:46:58] <bvssvni> mindcat: change to -> Option<~[KnapsackBranch<'a>]>
[20:47:08] <mindcat> bvssvni: oh
[20:47:09] * Kroisse tried to understand what mindcat does
[20:47:10] <bvssvni> and add a <'a> to the functions
[20:47:50] <bvssvni> mindcat: the compiler needs some hand holding
[20:47:53] <Kroisse> bvssvni: it seems that can be omitted
[20:48:03] <Kroisse> like &'a T -> &T
[20:48:08] <mindcat> Kroisse: I am doing Knapsack problem optimize
[20:48:31] <mindcat> Kroisse: I am optimizing Knapsack problem
[20:49:07] *** Joins: Savago (Savago@moz-679D1D3C.hsd1.ca.comcast.net)
[20:49:27] *** Quits: nkoep (nik@moz-B6E9B3AA.pool.mediaways.net) (Client exited)
[20:49:49] <bvssvni> https://en.wikipedia.org/wiki/Knapsack_problem
[20:49:52] <esummers> For anyone on OS X, I noticed that Dash just added support for Rust
[20:50:33] <Kroisse> std::vec::Items??
[20:50:43] <esummers> See: http://kapeli.com/dash
[20:50:53] *** Quits: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[20:51:27] <Kroisse> mindcat: it seems a bad idea to store this
[20:51:48] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[20:53:24] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[20:54:10] *** Quits: kvanb (kvanb@moz-2393B229.lnse5.lon.bigpond.net.au) (Quit: kvanb)
[20:54:17] *** Joins: kvanb (kvanb@moz-2393B229.lnse5.lon.bigpond.net.au)
[20:54:40] <bjz> esummers: wow!
[20:55:19] <bvssvni> esummers: tempting...
[20:55:27] <esummers> bjz: Looks like it is just for version 0.9.  Going to see if there is a way to point it at master
[20:55:35] <mindcat> Kroisse: which good?
[20:55:44] <bjz> esummers: bummer
[20:56:03] <Kroisse> I'll using the vector slice
[20:56:08] <bjz> esummers: yeah, needs to be master to be useful for me
[20:56:18] <pongad> So...Apparently my efforts of removing ~str from patterns has paid off and the tests are passing. I don't see an issue for it though. Should I just create one?
[20:56:24] <bjz> esummers: I use dash though
[20:56:25] <esummers> Well they have a docset generator if it has 0.9.  That means that it should be possible.  I'm investigating
[20:56:37] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[20:56:43] <Kroisse> (though it doesn't helpful for resolve the errors)
[20:56:55] <esummers> bjz: Yeah.  I use it too.  Cool to see support
[20:56:55] *** Joins: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP)
[20:57:16] <sfackler> pongad: I wouldn't bother. Just a PR should be fine
[20:57:42] <pongad> sfackler: Alright. Will PR when the benchmarks finish just to make sure
[20:57:51] *** Quits: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[20:58:17] <Kroisse> lifetime dance! yay!
[20:58:34] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:59:47] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[20:59:54] *** Quits: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP) (Quit: Ex-Chat)
[21:00:21] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[21:00:56] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:01:01] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Leaving.)
[21:01:05] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[21:01:06] <mindcat> bvssvni: thanks! it fixed now
[21:01:28] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[21:01:43] <mindcat> fixed code: https://gist.github.com/mindcat/9420059
[21:02:00] *** Joins: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP)
[21:02:03] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[21:02:17] <Kroisse> you already fix this!
[21:02:18] <Kroisse> cool
[21:02:23] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[21:02:31] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Client exited)
[21:03:10] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[21:03:10] <mindcat> Kroisse: do you like to copy millions same vectors?
[21:03:27] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Quit: Leaving...)
[21:03:38] <Kroisse> vector slice is like a borrowed pointer
[21:03:42] *** Quits: Kruppe (user@moz-6F161EE2.dynamic.uwaterloo.ca) (Client exited)
[21:04:04] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[21:04:05] <Kroisse> it points the range of pointing vector
[21:04:08] <mindcat> Kroisse: oh
[21:04:15] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[21:04:30] <Kroisse> its type is &[T]
[21:04:48] *** Joins: capt_redbeard (Adium@DAAA234A.1A017CA.60C86946.IP)
[21:04:50] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[21:04:55] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[21:05:07] <Kroisse> of course it also has lifetime, so lifetime parameters still be required
[21:05:23] <mindcat> templete<typename T> blahblah. well, I don't play C艹
[21:06:24] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Client exited)
[21:06:32] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[21:06:39] <Kroisse> don't compare with that turing-complete dustclothes :P
[21:07:24] <burntsushi> i'm trying to work with an Iterator as a trait object, but i'm hitting a problem where the trait object can't use some of the methods defined in the Iterator trait. here's an example: https://gist.github.com/anonymous/9420159
[21:07:48] *** Quits: kvanb (kvanb@moz-2393B229.lnse5.lon.bigpond.net.au) (Quit: kvanb)
[21:07:56] <eddyb> burntsushi: that's normal
[21:08:04] <eddyb> don't use trait objects if you can avoid it
[21:08:11] *** Quits: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[21:08:12] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[21:09:07] <bvssvni> what does Iterator:<T> do?
[21:09:16] *** Joins: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP)
[21:09:20] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[21:09:33] <burntsushi> eddyb: my understanding is that it isn't working for some of the functions because they don't accept `self` as a reference. is the only fixable by changing the Iterator trait to accept self references for other methods? (like enumerate and map)
[21:09:36] <bvssvni> it is the same as Iterator<T>?
[21:09:51] <burntsushi> bvssvni: it lacks the Send constraint, AFAIK.
[21:10:02] <eddyb> burntsushi: no
[21:10:18] <eddyb> just don't use Iterator with trait objects
[21:10:33] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[21:10:46] <eddyb> burntsushi: you can look at the docs for move_iter and see the concrete type that it returns
[21:11:11] <eddyb> also, move_iter on Pods is a waste of ~[T]
[21:11:12] <mindcat> eddyb: <T: Iterator>?
[21:11:15] <eddyb> mindcat: no
[21:11:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[21:11:57] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[21:12:03] *** Quits: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net) (Quit: )
[21:13:09] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[21:13:23] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[21:13:28] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Connection reset by peer)
[21:14:21] *** Joins: LinearInterpol (RJones@moz-E6F82C3A.maine.res.rr.com)
[21:14:40] *** Quits: dave1629 (dave@9D19633B.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[21:15:04] <burntsushi> eddyb: hmm, i guess i'm not following how move_iter helps me here. i don't really care about vectors---just that a value is an iterator of some sort.
[21:15:09] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[21:15:44] <eddyb> burntsushi: I meant two things about move_iter
[21:15:59] <eddyb> burntsushi: 1. shouldn't been using ~[T] and move_iter for a Pod like bool
[21:16:22] <eddyb> burntsushi: 2. if you look at the docs for the iterator you're using (move_iter) it will tell you the concrete type that implements Iterator<T>
[21:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:16:32] <mrmonday> how do I do a make check-stage1 but with debug info?
[21:16:47] <eddyb> mrmonday: RUST_FLAGS=-g I think
[21:16:56] <mrmonday> cool, thanks :)
[21:16:59] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[21:17:02] <eddyb> RUSTFLAGS, sorry
[21:17:14] <eddyb> burntsushi: so you can write the type without using an Iterator trait *object* (~Iterator<T>)
[21:17:24] *** Joins: mib_l6liuw (Mibbit@moz-54F1F273.lightspeed.hstntx.sbcglobal.net)
[21:18:02] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[21:18:05] <burntsushi> eddyb: ah, yeah, the paste is just a minimal example. my real task here is writing quickcheck, particularly shrinker. the only reasonable approach i can think of to emulate laziness is by asking implementors to provide an iterator.
[21:18:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:18:26] <eddyb> burntsushi: you can do trait Foo<T, I: Iterator<T>>
[21:18:43] <eddyb> not sure what exact design you have
[21:19:03] <eddyb> passing a generic iterator to a function is easy, returning one is hard
[21:19:28] <burntsushi> yeah, i played around with that, but didn't want the iterator type to bleed into the trait definition. things were getting ugly. perhaps i'll revisit that and comeback with what i have.
[21:19:42] <eddyb> with associated items it's nicer
[21:19:51] <burntsushi> associated items?
[21:19:56] <eddyb> we don't have them yet
[21:20:06] <burntsushi> ah, what are they?
[21:20:19] <eddyb> but it would look like impl Foo<T> {type Iter = MyIterator<T>;}
[21:20:21] *** Quits: IanCormac84 (User@6C0CCE33.2A8D8854.67DFF8B4.IP) (Ping timeout)
[21:20:37] <eddyb> *impl Foo<T> for MyFoo<T>
[21:20:43] <burntsushi> oh. type families?
[21:20:49] *** Joins: IanCormac84 (User@8FB0269B.64D641E5.67DFF8B4.IP)
[21:20:50] <eddyb> huh?
[21:20:54] <eddyb> with this trait definition trait Foo<T> {type Iter;}
[21:21:00] <eddyb> Iter: Iterator<T> even
[21:21:39] <burntsushi> yeah, that looks like type families, i think. not sure.
[21:22:01] <burntsushi> eddyb: http://www.haskell.org/haskellwiki/GHC/Type_families#An_associated_data_type_example
[21:22:16] <eddyb> type class I understand... families is just strange
[21:23:12] *** Quits: asmyers (quassel@3774E002.9A737B8F.FAA4474F.IP) (Ping timeout)
[21:23:40] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[21:23:48] *** Quits: leowoe (Leo@moz-A9B5ADEC.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:24:00] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[21:24:01] *** Joins: tgkokk (tgkokk@moz-313711E.home.otenet.gr)
[21:24:10] *** Quits: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[21:24:15] <eddyb> oh, "type theory", of course... couldn't have expected less from Haskell
[21:24:25] *** Joins: leowoe (Leo@moz-A9B5ADEC.dip0.t-ipconnect.de)
[21:24:36] <burntsushi> heh
[21:24:50] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[21:25:22] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[21:25:32] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[21:27:36] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:28:15] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[21:28:46] *** Blub\1 is now known as Blub\w
[21:29:59] *** Quits: hoverbea_ (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[21:31:35] *** Joins: Kruppe (user@moz-1A783CD.dynamic.uwaterloo.ca)
[21:33:41] *** Joins: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[21:33:41] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[21:34:06] *** Quits: Kruppe (user@moz-1A783CD.dynamic.uwaterloo.ca) (Ping timeout)
[21:35:01] *** Joins: jadbaires (jadrian@8361CB29.3574EA1E.6119BA41.IP)
[21:35:49] *** Quits: zwick (user@moz-4E8B077.hsd1.mi.comcast.net) (Client exited)
[21:38:42] *** Quits: azita (Azita@F16146EB.9D3722BB.58DC3EE6.IP) (Quit: azita)
[21:39:06] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[21:39:53] *** jorendorff_away is now known as jorendorff
[21:40:02] *** Joins: pnkfelix (pnkfelix@F16146EB.9D3722BB.58DC3EE6.IP)
[21:41:57] *** Quits: mib_l6liuw (Mibbit@moz-54F1F273.lightspeed.hstntx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:42:15] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[21:42:48] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[21:43:15] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[21:43:42] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[21:44:05] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[21:44:16] <kmc> eddyb: they're like associated types but without the indirection of putting them inside a class
[21:44:25] *** Quits: jackneill (jackneill@moz-85E98F3E.pool.digikabel.hu) (Input/output error)
[21:44:26] <eddyb> right
[21:44:29] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[21:44:37] <eddyb> because everything make sense when there's no indirection
[21:44:55] <eddyb> </sarcasm> I like my methods in traits
[21:45:11] <kmc> well then don't use them ;P
[21:45:30] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:45:33] <eddyb> I mean, Haskell code is harder to read
[21:45:47] <eddyb> when accessing a field means calling a free function on the structure
[21:45:48] <huon> that's debatable
[21:45:52] *** Joins: claudiu_ (claudiu@moz-33191099.thefacebook.com)
[21:45:59] <kmc> and don't scoff at "type theory" when you are trying to understand type systems.
[21:46:00] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Connection reset by peer)
[21:46:17] <kmc> you can't have it both ways
[21:46:21] <huon> haskell has much nicer syntax for generic code ;P
[21:46:31] <eddyb> well.. I kinda understand how it may be easier to work with something like fmap if it's free
[21:47:06] <huon> it avoids weird trait resolution problems too when everything is just a free function
[21:47:13] <eddyb> meh...
[21:47:24] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Input/output error)
[21:47:33] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[21:47:46] <eddyb> kmc: I was just remarking that I didn't realize "type family" came from type theory
[21:47:56] <eddyb> should've been obvious, because it's Haskell
[21:48:16] <koomi> (ghc) haskell is about to get a better record system
[21:48:24] <koomi> FSVO "better"
[21:49:20] <eddyb> record as in foo.bar?
[21:49:36] <huon> equivalent of that, yeah
[21:49:47] <eddyb> I would've said "named fields" but who knows what that means
[21:50:17] *** Quits: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[21:51:09] *** Quits: claudiu_ (claudiu@moz-33191099.thefacebook.com) (Connection reset by peer)
[21:51:09] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[21:51:10] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[21:51:14] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[21:52:05] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[21:52:24] <koomi> that would be fine
[21:52:51] <eddyb> reminds me that Ruby doesn't have fields in the normal sense
[21:53:13] <eddyb> it has accessors which are methods and it uses field-access-like syntax for methods in general
[21:53:46] <eddyb> super confusing for someone who comes from JS and takes a look at it
[21:54:07] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Ping timeout)
[21:54:08] * eddyb is happy we put closure arguments outside of a block and not inside it
[21:54:41] *** Quits: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net) (Ping timeout)
[21:54:48] *** Parts: dradtke (dradtke@moz-77578067.hfc.comcastbusiness.net) ()
[21:55:31] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[21:55:51] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[21:57:23] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[21:57:57] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[21:59:02] *** Quits: Savago (Savago@moz-679D1D3C.hsd1.ca.comcast.net) (Quit: Savago)
[21:59:09] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Connection reset by peer)
[21:59:10] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[22:01:08] <eddyb> https://mail.mozilla.org/pipermail/rust-dev/2014-March/008914.html
[22:01:11] <eddyb> OMG what?
[22:01:22] <eddyb> who's Doug/
[22:01:50] <Ms2ger> Douglas Linder?
[22:02:55] *** Joins: astroch (astroch@723EB99C.471081A5.DDE5D3F6.IP)
[22:03:46] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[22:03:51] <eddyb> meh I can't find info on node.js' project to wrap v8 in a C API
[22:04:00] *** Joins: claudiu_ (claudiu@moz-7D1F0258.thefacebook.com)
[22:04:21] <eddyb> Ms2ger: an IRC nick would be useful
[22:04:43] <eddyb> if they're playing with v8 I want to see something like my gearbox at least being *considered*
[22:04:54] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[22:04:57] *** Quits: astroch (astroch@723EB99C.471081A5.DDE5D3F6.IP) (Connection reset by peer)
[22:05:09] <eddyb> you can probably go further with rust's macros
[22:05:27] *** Joins: astroch (astroch@723EB99C.471081A5.DDE5D3F6.IP)
[22:05:59] <eddyb> being able to easily embed JS in Rust apps/games will hopefully reduce the gravity pull of Lua
[22:06:31] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[22:06:41] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:06:48] <eddyb> sure, some people might like Lua... but choices are nice. or whatever
[22:08:17] *** Joins: mye (mye@moz-92FD1060.dip0.t-ipconnect.de)
[22:08:39] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[22:09:13] <eddyb> things like this (and the entire repo) make me sad https://github.com/arturadib/node-qt/blob/master/src/QtGui/qpainter.cc
[22:09:32] *** Quits: astroch (astroch@723EB99C.471081A5.DDE5D3F6.IP) (Ping timeout)
[22:09:42] <eddyb> how can people be sadistic like that?
[22:09:44] <esummers> bjz: I noticed earlier that Dash now includes Rust 0.9 docs in the latest release.  To get a docset for 0.10-pre, you can use this tool: https://github.com/indirect/dash-rust/releases
[22:10:18] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[22:10:27] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[22:10:32] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Quit: Leaving...)
[22:10:35] *** Quits: blank_name (blank_name@463DB555.53526368.6D228269.IP) (Quit: leaving)
[22:11:32] *** Joins: blank_name (blank_name@463DB555.53526368.6D228269.IP)
[22:12:19] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[22:12:51] *** Joins: sigma (sigma@C91C7F36.70518F41.9D18269F.IP)
[22:14:31] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[22:15:09] *** Joins: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com)
[22:15:58] <aatch> Hah, I like a lot of the documentation on EFL
[22:16:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:17:20] *** Quits: mgottschlag (quassel@moz-856C64E8.cust.bluewin.ch) (Ping timeout)
[22:18:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:18:43] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[22:19:16] *** Quits: tgkokk (tgkokk@moz-313711E.home.otenet.gr) (Quit: Textual IRC Client: www.textualapp.com)
[22:20:45] *** Quits: IanCormac84 (User@8FB0269B.64D641E5.67DFF8B4.IP) (Ping timeout)
[22:20:52] *** Joins: IanCormac84 (User@24DC13CA.64D641E5.67DFF8B4.IP)
[22:21:57] *** Quits: hacker_s_ (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[22:22:18] *** Quits: capt_redbeard (Adium@DAAA234A.1A017CA.60C86946.IP) (Ping timeout)
[22:22:33] *** Quits: Ms2ger (Ms2ger@60B493FD.C305EAEC.F15B0BB3.IP) (Quit: nn)
[22:23:48] *** Joins: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net)
[22:24:36] <jclements> jack: ping
[22:25:28] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[22:25:54] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[22:25:54] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:26:32] <hoverbear> aatch: Enlightenment?
[22:26:34] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[22:27:19] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Quit: This computer has gone to sleep)
[22:27:46] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[22:27:47] *** Quits: IanCormac84 (User@24DC13CA.64D641E5.67DFF8B4.IP) (Ping timeout)
[22:28:16] <mrmonday> oh dear
[22:28:30] <mrmonday> has anyone run the rust testsuite through valgrind recently? it's not pretty :<
[22:28:41] *** Joins: IanCormac84 (User@654E1574.64D641E5.67DFF8B4.IP)
[22:29:32] <alan_andrade> What's wrong with it ?
[22:29:32] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[22:30:02] <strcat> mrmonday: the bots run it through valgrind
[22:30:10] <eddyb> mrmonday: did you find that one leak?
[22:30:11] <huon> mrmonday: there's a suppression file somewhere
[22:30:14] <eddyb> strcat: o_O what?
[22:30:22] <huon> strcat: I thought they didn't do that anymor?
[22:30:24] <strcat> eddyb: snapshots go through valgrind
[22:30:26] <strcat> afaik
[22:30:28] <eddyb> ahh those
[22:31:01] <strcat> the jump on undefined value spam is a false positive for example
[22:31:02] <mrmonday> lots and lots of errors all over everywhere is what :)
[22:31:12] <strcat> mrmonday: they're not errors
[22:31:13] <mrmonday> I didn't realise valgrind did false positives?
[22:31:18] <strcat> mrmonday: it does
[22:31:24] *** Quits: IanCormac84 (User@654E1574.64D641E5.67DFF8B4.IP) (Ping timeout)
[22:31:29] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[22:31:35] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Connection reset by peer)
[22:31:37] <strcat> reading undefined memory isn't bad if it's intended, and LLVM intends it
[22:31:40] <eddyb> strcat: what's the deal there?
[22:31:41] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[22:31:46] <eddyb> part of it is undefined?
[22:31:47] <strcat> LLVM will happily do undef reads
[22:32:09] <eddyb> and part isn't and only the part that isn't is important?
[22:32:21] <strcat> eddyb: it will reorder a && b to b && a even if `b` can be undef when `a` is not true
[22:32:28] <strcat> and so on
[22:32:35] <eddyb> ah, booleans
[22:32:37] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[22:32:40] <strcat> eddyb: enum tags
[22:32:49] <mrmonday> hmm, I see
[22:32:52] *** Parts: synackse (jordyd@2D608993.77F880E0.D9401097.IP) ()
[22:33:02] <huon> mrmonday: pass `--suppression=src/etc/x86.supp`, iirc
[22:33:04] <mrmonday> not sure I'm convinced, but I see :p
[22:33:18] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[22:33:18] <eddyb> valgrind can't tell when AND/OR kill undef bits, right?
[22:33:20] <mrmonday> I'll do that next time, thanks
[22:33:20] *** Joins: IanCormac84 (User@FBD8166A.64D641E5.67DFF8B4.IP)
[22:33:21] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Ping timeout)
[22:33:22] <strcat> mrmonday: dunno why you wouldn't be 'convinced'
[22:33:47] <mrmonday> trying to track down why my code is crashing
[22:33:55] <eddyb> we ain't selling snake oil. go find some snakes (hint hint no I won't be that mean) for that
[22:34:11] <strcat> LLVM is allowed to do any optimizations it wants if they don't change the behavior
[22:34:12] <eddyb> mrmonday: can't get a proper backtrace?
[22:34:20] <strcat> and doing undef reads without changing behavior is totally valid
[22:34:37] <mrmonday> eddyb: got a proper back trace... no idea how it's getting into that state though, hoping valgrind will shed some light on it
[22:34:37] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[22:34:39] <strcat> it doesn't explicitly think 'this is undef', it just knows it doesn't ever matter
[22:34:42] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[22:35:00] <strcat> since it proved that `a` must be true for `b` to be uninit
[22:35:07] <strcat> that's the most common problem
[22:35:17] <strcat> comes from enums with destructors mostly
[22:36:24] *** Parts: balogd (balogd@moz-8081A908.bluebird.ibm.com) (Leaving)
[22:37:17] *** Quits: TeXitoi (sihem@moz-9CE70EEE.fbx.proxad.net) (Ping timeout)
[22:37:24] *** Joins: TeXitoi (sihem@moz-9CE70EEE.fbx.proxad.net)
[22:37:38] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[22:37:42] *** Joins: espindola (espindola@moz-9F530B29.com)
[22:38:26] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:39:11] *** Quits: TeXitoi (sihem@moz-9CE70EEE.fbx.proxad.net) (Ping timeout)
[22:39:25] *** Quits: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net) (Ping timeout)
[22:40:02] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[22:41:37] *** Quits: alonlevy (alon@1E965D02.56017D2D.662727B.IP) (Ping timeout)
[22:41:49] *** Joins: IanCormac841 (User@9D0C98C4.64D641E5.67DFF8B4.IP)
[22:41:57] *** Quits: IanCormac84 (User@FBD8166A.64D641E5.67DFF8B4.IP) (Ping timeout)
[22:42:05] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:42:12] *** Quits: sigma (sigma@C91C7F36.70518F41.9D18269F.IP) (Client exited)
[22:42:25] *** Joins: TeXitoi (sihem@moz-9CE70EEE.fbx.proxad.net)
[22:42:32] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:42:55] *** Quits: mye (mye@moz-92FD1060.dip0.t-ipconnect.de) (Quit: mye)
[22:42:58] *** Quits: doy (doy@moz-8F23663C.net) (Quit: rebooting)
[22:45:31] *** Quits: IanCormac841 (User@9D0C98C4.64D641E5.67DFF8B4.IP) (Ping timeout)
[22:45:51] *** Joins: IanCormac84 (User@43FB440E.64D641E5.67DFF8B4.IP)
[22:46:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[22:46:24] *** Quits: dschatzberg (dschatzber@moz-B15FAF67.bu.edu) (Input/output error)
[22:46:56] *** Joins: sellout (Adium@moz-94C19942.hsd1.co.comcast.net)
[22:47:48] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:48:39] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:49:00] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[22:51:42] *** Joins: doy (doy@moz-8F23663C.net)
[22:52:01] *** Joins: mye (mye@moz-92FD1060.dip0.t-ipconnect.de)
[22:54:34] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[22:58:01] *** Quits: TeXitoi (sihem@moz-9CE70EEE.fbx.proxad.net) (Quit: leaving)
[22:58:55] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[22:59:15] *** Quits: espindola (espindola@moz-9F530B29.com) (Quit: Leaving...)
[22:59:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:59:40] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[23:00:18] <mindcat> :q
[23:00:20] *** Quits: mindcat (mindcat@AA57D3E1.68CEB32F.57E3C596.IP) (Quit: leaving)
[23:00:30] <mindcat_> :q
[23:00:44] <mindcat_> don't mind :D
[23:00:52] *** Quits: mindcat_ (mindcat@AA57D3E1.68CEB32F.57E3C596.IP) (Quit: leaving)
[23:01:13] <jack> jclements: pong
[23:01:18] *** Quits: brson (brson@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[23:01:45] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:01:53] <jclements> jack: actually, I think I answered my own question, but let me get confirmation from you:
[23:02:06] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[23:02:17] <jclements> A student just walked into my office and asked about OpenGL support in Rust.  My response was... well, "let me google that for you." We came up with
[23:02:44] <jclements> the github project rust-opengles.  Is this 
[23:02:50] <jclements> a) a package in good shape, and/or
[23:02:56] <jclements> b) the openGL impl used by servo?
[23:02:58] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[23:03:12] <jack> jclements: You probably want bjz's library gl-rs instead of rust-opengles. both should be in working order. rust-opengles is indeed what is used in servo.
[23:03:34] <jclements> any reason to use gl-rs , in that case?
[23:03:51] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:04:05] <jack> For starters, it supports more than GLES 2 :)
[23:04:26] <jclements> jack: okay, that makes sense.  I'll pass that along. Thanks!
[23:04:26] <jack> jclements: https://github.com/bjz/gl-rs
[23:04:35] <jack> Also, I think it has examples.
[23:04:48] <jack> Though rust-opengles is a pretty thin wrapper on plain GL.
[23:04:54] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[23:05:20] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:06:00] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:06:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:06:22] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:06:46] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:07:06] *** Quits: jclements (jclements@moz-E7143D62.wireless.calpoly.edu) (Quit: jclements)
[23:09:21] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:10:24] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[23:10:30] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Client exited)
[23:10:58] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[23:12:44] <p1start> Why does a function `fn f<'a, T>(x: &'a T) -> &'a T { x }` auto-deref only once? (i.e. `*f(~@&1) == @&1`)
[23:12:46] <p1start> https://gist.github.com/P1start/376e1015130dc8dbde2b
[23:13:00] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[23:13:11] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[23:13:41] <huon> it's not auto-derefing
[23:13:46] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:13:53] <huon> it's just borrowing the pointer ~ to &
[23:14:12] *** Joins: jclements (jclements@moz-E7143D62.wireless.calpoly.edu)
[23:14:20] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[23:15:21] <p1start> huon: I thought that auto-borrowing auto-borrowed all pointers (like auto-deref)
[23:15:27] <p1start> huon: is there any reason it doesn't?
[23:16:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:16:37] <huon> going ~ -> & is a noop at runtime
[23:16:54] <huon> i.e. they literally have the same in-memory representation
[23:18:03] <SiegeLord> Why does assigning to *a not modify the passed value to a function with signature fn test(ref mut a: int) ?
[23:18:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:18:35] <kmc> i'm surprised "ref" is even allowed there
[23:18:51] <kimundi> SiegeLord: because that constructs a mutable pointer locally
[23:19:10] <kmc> but "mut a: int" is like "let mut a: int = ..." rather than "let a: &mut int = ..."
[23:19:11] <huon> `ref mut a` there just means `fn test(tmp: int) { let a = &mut tmp; ... }`
[23:19:20] <kmc> neato
[23:19:23] <SiegeLord> So I pass the argument first, and then do a match on it
[23:19:24] <kimundi> SiegeLord: its the same as fn (a: int) { let a = &mut a; }
[23:19:30] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[23:19:32] <huon> the type on the RHS is the only thing visible outside the function
[23:19:33] *** Quits: leowoe (Leo@moz-A9B5ADEC.dip0.t-ipconnect.de) (Quit: Leaving.)
[23:19:33] <SiegeLord> And not vice versa
[23:19:43] <SiegeLord> Ah, interesting
[23:19:48] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[23:19:52] <huon> all the mutability/pattern qualifiers on the LHS of the : are just local to the funciton itself
[23:19:52] <SiegeLord> Ok, that makes sense then
[23:19:53] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[23:22:49] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[23:23:02] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Connection reset by peer)
[23:24:28] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[23:24:31] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[23:25:13] *** Quits: sellout (Adium@moz-94C19942.hsd1.co.comcast.net) (Quit: Leaving.)
[23:25:38] *** Quits: omouse (omouse@moz-790BA27C.cable.teksavvy.com) (Quit: Leaving)
[23:26:10] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[23:27:08] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:28:50] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[23:29:05] *** Quits: enand (erik@67F9F6F9.5AF75EBF.841A3ED3.IP) (Ping timeout)
[23:29:12] <mrmonday> is it possible to have a struct/impl with different methods depending on the mutability upon construction? eg I want getters when it's immutable and setters/getters when it's mutable, so Foobar::new(mutableThing) Foobar::new(immutableThing)... Or do I need different structs/impls for this? what's the nicest way to handle it?
[23:29:29] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[23:29:58] *** Parts: synackse (jordyd@2D608993.77F880E0.D9401097.IP) ()
[23:30:35] <huon> what does "immutableThing" vs. "mutableThing" mean?
[23:30:44] <huon> very few things in inherently mutable
[23:30:45] *** kimundi is now known as zz_kimundi
[23:30:49] <huon> *are
[23:30:53] *** flaper87 is now known as flaper87|afk
[23:32:22] *** Quits: AvianFlu_ (AvianFlu@moz-723527FF.nycmny.fios.verizon.net) (Ping timeout)
[23:33:22] <kmc> mrmonday: just write methods in "impl Foobar" and have them take &self or &mut self
[23:33:33] <kmc> mutability isn't really determined at creation
[23:34:02] <kmc> it's determined by the root owner of an object
[23:34:10] *** Joins: enand (erik@67F9F6F9.5AF75EBF.841A3ED3.IP)
[23:34:15] <kmc> let a = Foo { ... };  let mut b = a;
[23:34:28] <kmc> or even  let a = ~Foo { ... };  let mut b = a;
[23:35:43] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[23:35:47] *** Quits: JanC_ (janc@moz-276EF5B8.dsl.scarlet.be) (Ping timeout)
[23:36:26] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:37:02] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:37:06] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:38:17] *** Joins: jmgrosen (user@moz-A3814C08.sd.sd.cox.net)
[23:39:37] <jmgrosen> so I'm trying to create a websocket chat server, but I can't figure out how to model all the concurrency stuff
[23:39:52] <jmgrosen> I have the actual websockets working, though
[23:40:02] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:40:05] *** Quits: marwy (user@41303A68.5C2AEEF8.CFA44423.IP) (Client exited)
[23:40:24] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[23:40:28] <jmgrosen> all the Go ones seem to use globals, which obviously doesn't work here
[23:41:07] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:41:22] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[23:41:46] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:42:41] *** Joins: dylukes (dylukes@moz-ED57011A.oakland.resnet.pitt.edu)
[23:42:46] *** Joins: puzzler (puzzler@moz-CD721145.hsd1.mi.comcast.net)
[23:45:31] <huon> use a context struct?
[23:46:16] <SiegeLord> mrmonday: You could do something like this: https://gist.github.com/SiegeLord/9422642
[23:46:32] <SiegeLord> I don't know how far you can take that though and what the limitations are
[23:46:37] <FreeFull> In Haskell, spawning multiple threads that use the same socket automatically uses epoll, which is nice
[23:46:50] <FreeFull> It'd be nice to have that in Rust too
[23:46:57] <SiegeLord> I still haven't gotten straight the difference between the lifetime passed to impl vs the one passed to an individual method
[23:47:12] <FreeFull> ( Same happens for multiple threads using a file descriptor and such )
[23:47:23] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:48:21] <kmc> FreeFull: yeah Rust's green threads also have an IO manager
[23:48:32] <kmc> based on libuv
[23:49:00] <kmc> FreeFull: is the feature you describe particularly about multiple threads using the *same* fd?
[23:50:24] *** Joins: JanC_ (janc@moz-36A807F5.dsl.scarlet.be)
[23:51:55] <FreeFull> kmc: Yeah
[23:52:20] <FreeFull> Say, three threads all writing to stdout (Although I'm not sure why you'd want to do that)
[23:53:00] *** Quits: zq (p@moz-4C4640FD.com) (Quit: leaving)
[23:53:48] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[23:54:09] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[23:56:02] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[23:56:12] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[23:56:31] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[23:58:10] <kmc> what I meant is, consolidating IO into a single epoll is just as useful (maybe moreso) when it's to different fd's
[23:59:13] *** Quits: pnkfelix (pnkfelix@F16146EB.9D3722BB.58DC3EE6.IP) (Ping timeout)
[23:59:46] *** Joins: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net)
